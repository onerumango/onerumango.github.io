(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{tPCj:function(t,e,r){"use strict";r.r(e),r.d(e,"CardAccountModule",function(){return so});var i=r("SVse"),a=r("Tj54"),n=r("vrAh"),o=r("r1zJ"),c=r("tZUg"),s=r("s7LF"),l=r("nm5K"),d=r("8Y7J"),b=r("zHaW"),u=r("iELJ"),m=r("iInd"),p=r("PDjf"),g=r("Dxy4"),h=r("VDRc"),f=r("e6WT"),y=r("Q2Ze");function v(t,e){if(1&t&&(d.Xb(0,"tr",14),d.Xb(1,"div",15),d.Vb(2,11),d.Xb(3,"div",16),d.Sb(4,"input",17),d.Wb(),d.Xb(5,"td"),d.Xb(6,"mat-card",18),d.Xb(7,"mat-label",19),d.Tc(8,"Amount"),d.Wb(),d.Sb(9,"input",20,21),d.Wb(),d.Wb(),d.Ub(),d.Wb(),d.Wb()),2&t){const t=e.$implicit;d.Eb(2),d.rc("formGroup",t)}}const C=function(t){return[t]};function x(t,e){if(1&t&&(d.Xb(0,"form",11),d.Xb(1,"table",12),d.Xb(2,"tbody"),d.Rc(3,v,11,1,"tr",13),d.Wb(),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("formGroup",t.chargeFormIT),d.Eb(3),d.rc("ngForOf",d.xc(2,C,t.in.controls[t.in.controls.length-1]))}}let W=(()=>{class t{constructor(t,e,r,i,a,n){this.snack=t,this.dialogRef=e,this.ls=r,this.api=i,this.router=a,this.formBuilder=n,this.accountType="Home Loan"}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.chargeFormIT=this.formBuilder.group({chargeIT:new s.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue(t)}),this.api.cardChargeFetchById(this.cardId).subscribe(t=>{console.log("resp from backend ",this.resp),this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp)})}onChangeInterest(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.in.length<e)for(let r=this.in.length;r<e;r++)this.in.push(this.formBuilder.group({intrestType:[""],amount:[""],waiver:[!1],cardId:[this.cardId],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let r=this.in.length;r>=e;r--)this.in.removeAt(r)}get f(){return this.chargeFormIT.controls}get in(){return this.f.chargeIT}goBack(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}onSubmit(t){}edit(){const t=this.chargeFormIT.controls.chargeIT.value.at(-1).amount;console.log({amount:t}),this.dialogRef.close(),this.router.navigate(["/cardaccount/applicationEnrichment/charge-details"],{state:{amount:t}})}check(t){t&&(console.log(this.snack.open),this.snack.open("charge detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}close(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}_keyPress(t){let e=String.fromCharCode(t.charCode);/[a-zA-Z]/.test(e)||t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(b.a),d.Rb(u.g),d.Rb(c.a),d.Rb(l.b),d.Rb(m.h),d.Rb(s.f))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-card-acc-charge-det-sum"]],decls:14,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","form",4,"ngFor","ngForOf"],[1,"form"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","amount","name","account_branch","readonly","",1,"input"],["amount",""]],template:function(t,e){1&t&&(d.Xb(0,"mat-card",0),d.Xb(1,"button",1),d.Xb(2,"mat-icon",2),d.Tc(3,"close"),d.Wb(),d.Wb(),d.Xb(4,"div",3),d.Xb(5,"span",4),d.Tc(6,"Charge Details Summary "),d.Wb(),d.Wb(),d.Xb(7,"div",5),d.Sb(8,"div",6),d.Xb(9,"div",7),d.Sb(10,"div",8),d.Rc(11,x,4,4,"form",9),d.Wb(),d.Wb(),d.Xb(12,"span",10),d.fc("click",function(){return e.edit()}),d.Tc(13,"Edit"),d.Wb(),d.Wb()),2&t&&(d.Eb(11),d.rc("ngIf",e.chargeFormIT))},directives:[p.a,g.b,u.d,a.a,h.e,h.b,i.n,s.C,s.s,s.j,i.m,f.b,s.c,s.r,s.i,y.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px;width:400px}.mainDiv[_ngcontent-%COMP%]{padding:5px}.paraFont[_ngcontent-%COMP%]{font-family:Montserrat;font-size:20px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1;width:400px}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:15px;font-weight:600;width:70%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}"]}),t})();var X=r("BSbQ");function I(t,e){1&t&&(d.Xb(0,"tr",15),d.Xb(1,"div",16),d.Vb(2),d.Xb(3,"div",17),d.Sb(4,"input",18),d.Wb(),d.Xb(5,"td"),d.Xb(6,"mat-card",19),d.Xb(7,"mat-label",20),d.Tc(8,"Interest Rate Applicable"),d.Wb(),d.Sb(9,"input",21),d.Wb(),d.Wb(),d.Xb(10,"td"),d.Xb(11,"mat-card",19),d.Xb(12,"mat-label",20),d.Tc(13,"Margin in %"),d.Wb(),d.Sb(14,"input",22),d.Wb(),d.Wb(),d.Xb(15,"td"),d.Xb(16,"mat-card",19),d.Xb(17,"mat-label",20),d.Tc(18,"Effective Rate %"),d.Wb(),d.Sb(19,"input",23),d.Wb(),d.Wb(),d.Ub(),d.Wb(),d.Wb()),2&t&&d.rc("formGroup",e.$implicit)}function S(t,e){if(1&t&&(d.Xb(0,"form",12),d.Xb(1,"table",13),d.Xb(2,"tbody"),d.Rc(3,I,20,1,"tr",14),d.Wb(),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("formGroup",t.interestForm),d.Eb(3),d.rc("ngForOf",t.in.controls)}}let O=(()=>{class t{constructor(t,e,r,i,a,n){this.ls=t,this.snack=e,this.dialogRef=r,this.api=i,this.router=a,this.formBuilder=n}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.interestForm=this.formBuilder.group({interest:new s.d([])}),this.savingForm=this.formBuilder.group({saving:new s.d([])}),this.loanForm=this.formBuilder.group({loan:new s.d([])}),this.api.cardInterestFetchById(this.cardId).subscribe(t=>{console.log("resp from backend ",this.resp),this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp)})}assignAccountType(t){this.accountType=t}onChangeInterest(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.in.length<e)for(let r=this.in.length;r<e;r++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let r=this.in.length;r>=e;r--)this.in.removeAt(r)}onChangeSaving(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.is.length<e)for(let r=this.is.length;r<e;r++)this.is.push(this.formBuilder.group({intrestType:[""],interestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let r=this.is.length;r>=e;r--)this.is.removeAt(r)}onChangeLoan(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.iloan.length<e)for(let r=this.iloan.length;r<e;r++)this.iloan.push(this.formBuilder.group({intrestType:[""],interestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let r=this.iloan.length;r>=e;r--)this.iloan.removeAt(r)}get f(){return this.interestForm.controls}get in(){return this.f.interest}get fs(){return this.savingForm.controls}get is(){return this.fs.saving}get floan(){return this.loanForm.controls}get iloan(){return this.floan.loan}goBack(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}onSubmit(t){}edit(){this.dialogRef.close(),this.api.setFlag({flag:!0}),this.router.navigate(["/cardaccount/applicationEnrichment/intrest-details"])}check(t){t&&(console.log(this.snack.open),this.snack.open("Intrest detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(c.a),d.Rb(b.a),d.Rb(u.g),d.Rb(l.b),d.Rb(m.h),d.Rb(s.f))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-intrest-details-summary"]],decls:15,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"span"],[1,"divider"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","form",3,"formGroup",4,"ngFor","ngForOf"],[1,"form",3,"formGroup"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"]],template:function(t,e){1&t&&(d.Xb(0,"mat-card",0),d.Xb(1,"button",1),d.Xb(2,"mat-icon",2),d.Tc(3,"close"),d.Wb(),d.Wb(),d.Xb(4,"div",3),d.Xb(5,"span",4),d.Tc(6,"Interest Details Summary "),d.Wb(),d.Sb(7,"mat-divider",5),d.Wb(),d.Xb(8,"div",6),d.Sb(9,"div",7),d.Xb(10,"div",8),d.Sb(11,"div",9),d.Rc(12,S,4,2,"form",10),d.Wb(),d.Wb(),d.Xb(13,"span",11),d.fc("click",function(){return e.edit()}),d.Tc(14,"Edit"),d.Wb(),d.Wb()),2&t&&(d.Eb(12),d.rc("ngIf",e.interestForm))},directives:[p.a,g.b,u.d,a.a,X.a,h.e,h.b,i.n,s.C,s.s,s.j,i.m,f.b,s.c,s.r,s.i,y.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.tableRow[_ngcontent-%COMP%]{width:724px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.mainDiv[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:25%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}"]}),t})();var D=r("6JYK"),T=r("ura0");const A=function(){return{y:"50px",delay:"300ms"}},k=function(t){return{value:"*",params:t}};function E(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",17),d.Xb(1,"mat-card"),d.Xb(2,"div",18),d.Xb(3,"div",19),d.Xb(4,"mat-icon",20),d.Tc(5,"check_circle"),d.Wb(),d.Wb(),d.Xb(6,"div",21),d.Xb(7,"h6"),d.Tc(8,"Application Enrichment Completed"),d.Wb(),d.Wb(),d.Sb(9,"span",22),d.Xb(10,"button",23),d.fc("click",function(){return d.Hc(t),d.jc().navigate()}),d.Tc(11,"View Summary"),d.Wb(),d.Wb(),d.Wb(),d.Wb()}2&t&&(d.Eb(1),d.rc("@animate",d.xc(2,k,d.wc(1,A))))}function _(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",23),d.fc("click",function(){return d.Hc(t),d.jc().goToInterestSummary()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const w=function(){return["/cardaccount/applicationEnrichment/intrest-details"]};function P(t,e){1&t&&(d.Vb(0),d.Xb(1,"button",24),d.Tc(2," Add Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()),2&t&&(d.Eb(1),d.rc("routerLink",d.wc(1,w)))}function N(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",23),d.fc("click",function(){return d.Hc(t),d.jc().goToChargeSummary()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const R=function(){return["/cardaccount/applicationEnrichment/charge-details"]};function F(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"button",25),d.Tc(2," Add Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()),2&t){const t=d.jc();d.Eb(1),d.rc("routerLink",d.wc(2,R))("disabled",!t.isCardInterestDetails)}}const M=function(t){return{"border-size":t}};let L=(()=>{class t{constructor(t,e,r,i,a){this.router=t,this.dialog=e,this.ls=r,this.accountService=i,this.cdr=a,this.isCardInterestDetails=!1,this.isCardChargeDetails=!1,this.isCardApplicationEnrichmentDone=!1}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.isCardInterestDetails=this.ls.getItem("CARD_INTEREST_DETAILS_DONE"),this.isCardChargeDetails=this.ls.getItem("CARD_CHARGE_DETAILS_DONE"),this.isCardInterestDetails&&this.isCardChargeDetails&&(this.isCardApplicationEnrichmentDone=!0)}goToInterestSummary(){this.dialog.open(O,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}goToChargeSummary(){this.dialog.open(W,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}navigate(){this.router.navigate(["/cardaccount/applicationEnrichment/Summary"])}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(u.b),d.Rb(c.a),d.Rb(D.a),d.Rb(d.h))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-application-enrichment"]],decls:45,vars:13,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"size"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Create New Card Account"),d.Wb(),d.Wb(),d.Xb(9,"div",7),d.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),d.Wb(),d.Wb(),d.Wb(),d.Rc(11,E,12,4,"div",8),d.Wb(),d.Xb(12,"div",9),d.Xb(13,"div",10),d.Xb(14,"mat-card",11),d.Xb(15,"mat-card-header"),d.Xb(16,"mat-card-title"),d.Tc(17,"1.Interest Details"),d.Wb(),d.Wb(),d.Xb(18,"mat-card-content"),d.Xb(19,"div",12),d.Xb(20,"div",13),d.Xb(21,"p"),d.Tc(22," Interest Type and Effective Interest Rate is captured. "),d.Wb(),d.Wb(),d.Xb(23,"div",14),d.Sb(24,"img",15),d.Wb(),d.Wb(),d.Wb(),d.Sb(25,"mat-divider"),d.Xb(26,"mat-card-actions"),d.Rc(27,_,5,0,"ng-container",16),d.Rc(28,P,5,2,"ng-container",16),d.Wb(),d.Wb(),d.Wb(),d.Xb(29,"div",10),d.Xb(30,"mat-card",11),d.Xb(31,"mat-card-header"),d.Xb(32,"mat-card-title"),d.Tc(33,"2.Charge Details"),d.Wb(),d.Wb(),d.Xb(34,"mat-card-content"),d.Xb(35,"div",12),d.Xb(36,"div",13),d.Xb(37,"p"),d.Tc(38," Charge Details are dispalyed. "),d.Wb(),d.Wb(),d.Xb(39,"div",14),d.Sb(40,"img",15),d.Wb(),d.Wb(),d.Wb(),d.Sb(41,"mat-divider"),d.Xb(42,"mat-card-actions"),d.Rc(43,N,5,0,"ng-container",16),d.Rc(44,F,5,3,"ng-container",16),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(11),d.rc("ngIf",e.isCardApplicationEnrichmentDone),d.Eb(3),d.rc("ngClass",d.xc(9,M,e.isCardInterestDetails||!e.isCardInterestDetails)),d.Eb(10),d.rc("src","assets/images/svg/Mask Ggroup 5.svg",d.Jc),d.Eb(3),d.rc("ngIf",e.isCardInterestDetails),d.Eb(1),d.rc("ngIf",!e.isCardInterestDetails),d.Eb(2),d.rc("ngClass",d.xc(11,M,e.isCardChargeDetails||!e.isCardChargeDetails&&e.isCardInterestDetails)),d.Eb(10),d.rc("src","assets/images/esign.png",d.Jc),d.Eb(3),d.rc("ngIf",e.isCardChargeDetails),d.Eb(1),d.rc("ngIf",!e.isCardChargeDetails))},directives:[h.e,h.b,i.n,p.a,i.l,T.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,a.a,g.b,m.i],styles:[".border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.size[_ngcontent-%COMP%]{padding-left:18px!important;color:#d3d3d3}"]}),t})();var V=r("pMoy");function B(t,e){if(1&t){const t=d.Yb();d.Xb(0,"tr",22),d.Vb(1,23),d.Xb(2,"td"),d.Xb(3,"mat-form-field"),d.Sb(4,"input",24),d.Wb(),d.Wb(),d.Xb(5,"td"),d.Xb(6,"mat-form-field"),d.Xb(7,"span",25),d.Tc(8),d.Wb(),d.Xb(9,"input",26),d.fc("keypress",function(e){return d.Hc(t),d.jc(2).onKeyPress(e)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(10,"td"),d.Xb(11,"div",27),d.Xb(12,"mat-checkbox",28),d.fc("change",function(e){return d.Hc(t),d.jc(2).checkbox(e)}),d.Wb(),d.Wb(),d.Wb(),d.Ub(),d.Wb()}if(2&t){const t=e.$implicit,r=d.jc(2);d.Eb(1),d.rc("formGroup",t),d.Eb(7),d.Vc("",r.currencySymbol,"\xa0")}}function j(t,e){if(1&t&&(d.Xb(0,"form",14),d.Xb(1,"div",15),d.Xb(2,"span",16),d.Tc(3,"Charge Details "),d.Wb(),d.Sb(4,"mat-divider",17),d.Wb(),d.Xb(5,"table",18),d.Xb(6,"thead",19),d.Xb(7,"tr",20),d.Xb(8,"th"),d.Tc(9,"Interest Type"),d.Wb(),d.Xb(10,"th"),d.Tc(11,"Amount"),d.Wb(),d.Xb(12,"th"),d.Tc(13,"waiever"),d.Wb(),d.Wb(),d.Wb(),d.Xb(14,"tbody"),d.Rc(15,B,13,2,"tr",21),d.Wb(),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("formGroup",t.interestForm),d.Eb(15),d.rc("ngForOf",t.in.controls)}}let q=(()=>{class t{constructor(t,e,r,i,a,n){this.accountService=t,this.snack=e,this.ls=r,this.api=i,this.router=a,this.formBuilder=n,this.accountType="Card Origin"}ngOnInit(){console.log(history.state.amount),this.cardId=this.ls.getItem("cardId"),this.currencytype=localStorage.getItem("Currency Type"),"INR"===this.currencytype?this.currencySymbol="\u20b9":"USD"===this.currencytype?this.currencySymbol="$":"CNY"===this.currencytype?this.currencySymbol="\xa5":"GBP"===this.currencytype?this.currencySymbol="\xa3":"ZAR"===this.currencytype&&(this.currencySymbol="R"),this.interestForm=this.formBuilder.group({chargeInfo:new s.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue([Object.assign(Object.assign({},t[0]),{amount:history.state.amount?history.state.amount:""})])})}onChangeInterest(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.in.length<e)for(let r=this.in.length;r<e;r++)this.in.push(this.formBuilder.group({intrestType:[""],amount:["",s.A.required],waiver:[!1],cardId:[this.cardId],chargeDetailsId:[""]}));else for(let r=this.in.length;r>=e;r--)this.in.removeAt(r)}get f(){return this.interestForm.controls}get in(){return this.f.chargeInfo}goBack(){this.router.navigate(["/cardaccount/applicationEnrichment/intrest-details"])}appendPercentage(t){console.log(t.target.value),t.target.value.length&&(1===t.target.value.length&&(t.target.value=t.target.value+"%"),t.target.value.length>1&&(t.target.value=t.target.value.slice(0,-1)+"%"))}onSubmit(t){console.log("form",t),this.api.cardChargeDetailsSave(t).subscribe(t=>{this.snack.open("Charge Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next(),console.log("backend response from intrest saving",t)},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}check(t){t&&(console.log(this.snack.open),this.snack.open("chargeInfo detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}checkbox(t){console.log(t.checked)}next(){this.ls.setItem("CARD_CHARGE_DETAILS_DONE",!0),this.ls.setItem("CARD_ENRICHMENT_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/underwritingStage/list"])}onKeyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(D.a),d.Rb(b.a),d.Rb(c.a),d.Rb(l.b),d.Rb(m.h),d.Rb(s.f))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-charge-details"]],decls:18,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/chargeDetails.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],[1,"spanDiv1"],[1,"span"],[1,"divider"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],["matInput","","formControlName","intrestType","name","account_branch","readonly","",1,"input"],["matPrefix",""],["maxlength","10","formControlName","amount","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","matInput","","formControlName","amount","name","account_branch",1,"input",3,"keypress"],[1,"waiver-pos"],["formControlName","waiver","color","primary",3,"change"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Charge Details"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",7),d.Sb(10,"div",8),d.Rc(11,j,16,2,"form",9),d.Wb(),d.Xb(12,"div",10),d.Xb(13,"a",11),d.fc("click",function(){return e.goBack()}),d.Tc(14,"Back"),d.Wb(),d.Sb(15,"span",12),d.Xb(16,"button",13),d.fc("click",function(){return e.onSubmit(e.interestForm.value)}),d.Tc(17,"Next"),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(11),d.rc("ngIf",e.interestForm),d.Eb(5),d.rc("disabled",e.interestForm.invalid))},directives:[h.e,h.b,i.n,g.a,g.b,s.C,s.s,s.j,X.a,i.m,y.c,f.b,s.c,s.r,s.i,y.i,s.m,V.a],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mat-form-field[_ngcontent-%COMP%]{box-shadow:0 2px 2px #dcdcdc!important;padding-left:10px}  .mat-form-field-underline{display:none}.mainDiv[_ngcontent-%COMP%]{padding:10px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px;opacity:1}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.matCardBox[_ngcontent-%COMP%]{min-width:150px;max-width:200px;width:100%}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.backButton[_ngcontent-%COMP%]{color:#5d5d5d;border-style:none}.backButton[_ngcontent-%COMP%], .spanDiv[_ngcontent-%COMP%]{letter-spacing:0;opacity:1}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;color:#456efe}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.span[_ngcontent-%COMP%]{font-weight:600;width:22%!important;margin-left:50px}.divider[_ngcontent-%COMP%]{position:unset!important;width:500px;align-self:center!important}.theadClass[_ngcontent-%COMP%]{background-color:#fff}.tableRow[_ngcontent-%COMP%]{width:500px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.waiver-pos[_ngcontent-%COMP%]{text-align:center}"]}),t})();function U(t,e){if(1&t&&(d.Xb(0,"tr",17),d.Xb(1,"div",18),d.Vb(2,15),d.Xb(3,"div",19),d.Sb(4,"input",20),d.Wb(),d.Xb(5,"td"),d.Xb(6,"mat-card",21),d.Xb(7,"mat-label",22),d.Tc(8,"Interest Rate Applicable"),d.Wb(),d.Sb(9,"input",23),d.Wb(),d.Wb(),d.Xb(10,"td"),d.Xb(11,"mat-card",21),d.Xb(12,"mat-label",22),d.Tc(13,"Margin in %"),d.Wb(),d.Sb(14,"input",24),d.Wb(),d.Wb(),d.Xb(15,"td"),d.Xb(16,"mat-card",21),d.Xb(17,"mat-label",22),d.Tc(18,"Effective Rate %"),d.Wb(),d.Sb(19,"input",25),d.Wb(),d.Wb(),d.Ub(),d.Wb(),d.Wb()),2&t){const t=e.$implicit;d.Eb(2),d.rc("formGroup",t)}}function z(t,e){if(1&t&&(d.Xb(0,"form",15),d.Xb(1,"table"),d.Xb(2,"tbody"),d.Rc(3,U,20,1,"tr",16),d.Wb(),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("formGroup",t.interestForm),d.Eb(3),d.rc("ngForOf",t.in.controls)}}function G(t,e){if(1&t&&(d.Xb(0,"tr",28),d.Xb(1,"div",29),d.Vb(2,15),d.Xb(3,"div",19),d.Sb(4,"input",20),d.Wb(),d.Xb(5,"td"),d.Xb(6,"mat-card",21),d.Xb(7,"mat-label",22),d.Tc(8,"Amount"),d.Wb(),d.Sb(9,"input",30),d.Wb(),d.Wb(),d.Ub(),d.Wb(),d.Wb()),2&t){const t=e.$implicit;d.Eb(2),d.rc("formGroup",t)}}function H(t,e){if(1&t&&(d.Xb(0,"form",15),d.Xb(1,"table",26),d.Xb(2,"tbody"),d.Rc(3,G,10,1,"tr",27),d.Wb(),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("formGroup",t.chargeFormIT),d.Eb(3),d.rc("ngForOf",t.in2.controls)}}let Y=(()=>{class t{constructor(t,e,r,i,a){this.formBuilder=t,this.ls=e,this.snack=r,this.api=i,this.router=a,this.appEntrySummaryView=!1,this.accountType="Home Loan"}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.getCardEnrichmentDetails(this.cardId),this.interestForm=this.formBuilder.group({interest:new s.d([])}),this.savingForm=this.formBuilder.group({saving:new s.d([])}),this.chargeFormIT=this.formBuilder.group({chargeIT:new s.d([])}),this.loanForm=this.formBuilder.group({loan:new s.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.onCardCharge(t.length),this.in2.patchValue(t)})}getCardEnrichmentDetails(t){this.api.getCardEnrichmentSummmary(t).subscribe(t=>{console.log(t),this.intererstInfo=t.intererstInfo,console.log(this.intererstInfo),this.onCardintrest(this.intererstInfo.length),this.in.patchValue(this.intererstInfo),this.chargeInfo=t.chargeInfo,this.onCardCharge(this.chargeInfo.length),this.in2.patchValue(this.chargeInfo)})}onCardintrest(t){const e=t||0;if(this.in.length<e)for(let r=this.in.length;r<e;r++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let r=this.in.length;r>=e;r--)this.in.removeAt(r)}onCardCharge(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.in2.length<e)for(let r=this.in2.length;r<e;r++)this.in2.push(this.formBuilder.group({intrestType:[""],amount:[""],waiver:[!0],cardId:[this.cardId],chargeDetailsId:[""]}));else for(let r=this.in2.length;r>=e;r--)this.in2.removeAt(r)}get f2(){return this.chargeFormIT.controls}get in2(){return this.f2.chargeIT}get f(){return this.interestForm.controls}get in(){return this.f.interest}get iloan(){return this.floan.loan}get floan(){return this.loanForm.controls}check(t){t&&(console.log(this.snack.open),this.snack.open("chargeInfo detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}checkbox(t){console.log(t.checked)}assignAccountType(t){this.accountType=t}Done(){this.router.navigate(["/cardaccount/underwritingStage/list"])}Back(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(s.f),d.Rb(c.a),d.Rb(b.a),d.Rb(l.b),d.Rb(m.h))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-enrichment-summary"]],decls:28,vars:2,consts:[[1,"propic","text-center"],["src","assets/images/svg/undraw_statistic_chart_38b6.svg","alt","",1,"entryImg"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"matCard"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"formGroup"],["class","mt-4","style","display: flex;flex-wrap: wrap;",4,"ngFor","ngForOf"],[1,"mt-4",2,"display","flex","flex-wrap","wrap"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","chargeTable",4,"ngFor","ngForOf"],[1,"chargeTable"],[1,"chargeLeft"],["matInput","","formControlName","amount","name","account_branch","readonly","",1,"input"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Sb(1,"img",1),d.Wb(),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Xb(4,"b"),d.Tc(5,"Application Enrichment"),d.Wb(),d.Wb(),d.Wb(),d.Xb(6,"div",4),d.Xb(7,"h4",5),d.Tc(8,"Interest Details"),d.Wb(),d.Wb(),d.Xb(9,"div",6),d.Xb(10,"div",7),d.Sb(11,"div",8),d.Rc(12,z,4,2,"form",9),d.Sb(13,"br"),d.Xb(14,"div"),d.Xb(15,"h4",5),d.Tc(16,"Card Account Charge Details"),d.Wb(),d.Wb(),d.Xb(17,"mat-card",10),d.Xb(18,"div",6),d.Sb(19,"div",11),d.Xb(20,"div",7),d.Sb(21,"div",8),d.Rc(22,H,4,2,"form",9),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(23,"div",12),d.Xb(24,"button",13),d.fc("click",function(){return e.Back()}),d.Tc(25," Back "),d.Wb(),d.Xb(26,"button",14),d.fc("click",function(){return e.Done()}),d.Tc(27," Done "),d.Wb(),d.Wb()),2&t&&(d.Eb(12),d.rc("ngIf",e.interestForm),d.Eb(10),d.rc("ngIf",e.chargeFormIT))},directives:[h.e,h.b,i.n,p.a,h.d,h.f,g.b,s.C,s.s,s.j,i.m,f.b,s.c,s.r,s.i,y.g],styles:[".spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#213253;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.toggle[_ngcontent-%COMP%]{padding-left:16px}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:22%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}.headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}"]}),t})();var $=r("3sEA");function Q(t,e){if(1&t&&(d.Xb(0,"tr",22),d.Vb(1,23),d.Xb(2,"td"),d.Xb(3,"mat-card",24),d.Sb(4,"input",25),d.Wb(),d.Wb(),d.Xb(5,"td"),d.Xb(6,"mat-card",26),d.Sb(7,"input",27),d.Xb(8,"span",28),d.Tc(9,"%"),d.Wb(),d.Wb(),d.Wb(),d.Xb(10,"td"),d.Xb(11,"mat-card",26),d.Sb(12,"input",29),d.Xb(13,"span",28),d.Tc(14,"%"),d.Wb(),d.Wb(),d.Wb(),d.Xb(15,"td"),d.Xb(16,"mat-card",26),d.Sb(17,"input",30),d.Xb(18,"span",28),d.Tc(19,"%"),d.Wb(),d.Wb(),d.Wb(),d.Ub(),d.Wb()),2&t){const t=e.$implicit;d.Eb(1),d.rc("formGroup",t)}}function K(t,e){if(1&t&&(d.Xb(0,"form",14),d.Xb(1,"div",15),d.Xb(2,"span",16),d.Tc(3," Interest Details "),d.Wb(),d.Sb(4,"mat-divider",17),d.Wb(),d.Xb(5,"table",18),d.Xb(6,"thead",19),d.Xb(7,"tr",20),d.Xb(8,"th"),d.Tc(9,"Interest Type"),d.Wb(),d.Xb(10,"th"),d.Tc(11,"Interest Rate Applicable"),d.Wb(),d.Xb(12,"th"),d.Tc(13,"Margin in %"),d.Wb(),d.Xb(14,"th"),d.Tc(15,"Effective Rate %"),d.Wb(),d.Wb(),d.Wb(),d.Xb(16,"tbody"),d.Rc(17,Q,20,1,"tr",21),d.Wb(),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("formGroup",t.interestForm),d.Eb(17),d.rc("ngForOf",t.in.controls)}}let J=(()=>{class t{constructor(t,e,r,i,a,n,o){this.accountService=t,this.snack=e,this.ls=r,this.api=i,this.router=a,this.formBuilder=n,this.loader=o,this.showEditOption=!1,this.accountType="Card Origin"}ngOnInit(){this.cardId=this.ls.getItem("cardId");let t=this.ls.getItem("CARD_INTEREST_DETAILS_DONE");this.getInterestDetails(),null!=this.cardId&&t?(this.showEditOption=!0,this.getInterestDetails()):(console.log("else"),this.showEditOption=!1,this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue(t)})),this.interestForm=this.formBuilder.group({interestInfo:new s.d([])})}getInterestDetails(){this.cardId=this.cardId,this.api.cardInterestFetchById(this.cardId).subscribe(t=>{this.loader.close(),console.log("resp from backend ",this.resp),this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp)},t=>{})}onChangeInterest(t){this.cardId=this.ls.getItem("cardId");const e=t||0;if(this.in.length<e)for(let r=this.in.length;r<e;r++)this.in.push(this.formBuilder.group({intrestType:["Fixed Rate",s.A.required],intrestRateApplicable:[5,s.A.required],marginIn:[null,[s.A.required,s.A.max(100),s.A.min(0)]],effectiveRate:[10,[s.A.required,s.A.max(100),s.A.min(0)]],cardInterestId:[""],cardId:[this.cardId]}));else for(let r=this.in.length;r>=e;r--)this.in.removeAt(r)}get f(){return this.interestForm.controls}get in(){return this.f.interestInfo}appendPercentage(t){console.log(t.target.value),t.target.value.length&&(1===t.target.value.length&&(t.target.value=t.target.value+"%"),t.target.value.length>1&&(t.target.value=t.target.value.slice(0,-1)+"%"))}onSubmit(){console.log(this.interestForm.value),this.api.cardintrestDetailsSave(this.interestForm.value).subscribe(t=>{this.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next(),console.log("backend response from intrest saving",t)},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}next(){this.ls.setItem("CARD_INTEREST_DETAILS_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEnrichment/charge-details"])}goBack(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}check(t){t&&(console.log(this.snack.open),this.snack.open("Interest detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(D.a),d.Rb(b.a),d.Rb(c.a),d.Rb(l.b),d.Rb(m.h),d.Rb(s.f),d.Rb($.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-intrest-details"]],decls:18,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/loanInterest.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],[1,"spanDiv1"],[1,"span"],[1,"divider"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],[1,"matCardBox-form"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],[1,"matCardBox-form","box1"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"inputPercent"],["matSuffix",""],["matInput","","formControlName","marginIn","name","margin","placeholder","Margin","readonly","",1,"inputPercent"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"inputPercent"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Interest Details"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",7),d.Sb(10,"div",8),d.Rc(11,K,18,2,"form",9),d.Wb(),d.Xb(12,"div",10),d.Xb(13,"a",11),d.fc("click",function(){return e.goBack()}),d.Tc(14,"Back"),d.Wb(),d.Sb(15,"span",12),d.Xb(16,"button",13),d.fc("click",function(){return e.onSubmit()}),d.Tc(17,"Next"),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(11),d.rc("ngIf",e.interestForm),d.Eb(5),d.rc("disabled",e.interestForm.invalid))},directives:[h.e,h.b,i.n,g.a,g.b,s.C,s.s,s.j,X.a,i.m,p.a,f.b,s.c,s.r,s.i,y.j],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px;opacity:1}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.matCardBox[_ngcontent-%COMP%]{width:130px;height:50px;margin-top:20px}.matCardBox-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;align-items:center}.matCardBox-form[_ngcontent-%COMP%]   input.inputPercent[_ngcontent-%COMP%]{width:10px!important;min-width:10px!important}.box1[_ngcontent-%COMP%]{height:55px!important}.matCardBox1[_ngcontent-%COMP%]{width:110px;padding-bottom:10px;margin-top:22px;padding-top:0;height:50px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%], .inputPercent[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.inputPercent[_ngcontent-%COMP%]{width:10%}.backButton[_ngcontent-%COMP%]{color:#5d5d5d;border-style:none}.backButton[_ngcontent-%COMP%], .spanDiv[_ngcontent-%COMP%]{letter-spacing:0;opacity:1}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;color:#456efe}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.span[_ngcontent-%COMP%]{font-weight:600;width:22%!important;margin-left:50px}.divider[_ngcontent-%COMP%]{position:unset!important;width:500px;align-self:center!important}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.bgColor[_ngcontent-%COMP%]{background-color:#c3c3c3}.theadClass[_ngcontent-%COMP%]{background-color:#fff}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}"]}),t})();var Z=r("laYw");const tt=function(){return{y:"50px",delay:"300ms"}},et=function(t){return{value:"*",params:t}};function rt(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",23),d.Xb(1,"mat-card"),d.Xb(2,"div",24),d.Xb(3,"div",25),d.Xb(4,"mat-icon",26),d.Tc(5,"check_circle"),d.Wb(),d.Wb(),d.Xb(6,"div",27),d.Xb(7,"h6"),d.Tc(8,"Application Entry Stage Completed"),d.Wb(),d.Wb(),d.Sb(9,"span",28),d.Xb(10,"button",29),d.fc("click",function(){return d.Hc(t),d.jc().openCardEntryStageViewSummary()}),d.Tc(11," View Summary "),d.Xb(12,"mat-icon"),d.Tc(13,"chevron_right"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}2&t&&(d.Eb(1),d.rc("@animate",d.xc(2,et,d.wc(1,tt))))}function it(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",30),d.fc("click",function(){return d.Hc(t),d.jc().openCardInitiationSummary()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const at=function(){return["/cardaccount/applicationEntryStage/list/cardInitiation"]};function nt(t,e){1&t&&(d.Vb(0),d.Xb(1,"button",31),d.Tc(2," Add Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()),2&t&&(d.Eb(1),d.rc("routerLink",d.wc(1,at)))}function ot(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",30),d.fc("click",function(){return d.Hc(t),d.jc().goToCustomerInfo()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const ct=function(){return["/cardaccount/applicationEntryStage/list/customerInformation"]};function st(t,e){if(1&t&&(d.Xb(0,"button",32),d.Tc(1," Add Details "),d.Xb(2,"mat-icon"),d.Tc(3,"chevron_right"),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("routerLink",d.wc(2,ct))("disabled",!t.isCardInitiationDone)}}function lt(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",30),d.fc("click",function(){return d.Hc(t),d.jc().goToFinancialSummarry()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const dt=function(){return["/cardaccount/applicationEntryStage/list/financialDetails"]};function bt(t,e){if(1&t&&(d.Xb(0,"button",32),d.Tc(1," Add Details "),d.Xb(2,"mat-icon"),d.Tc(3,"chevron_right"),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("routerLink",d.wc(2,dt))("disabled",!t.isCardCustomerInformationScreen)}}function ut(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",30),d.fc("click",function(){return d.Hc(t),d.jc().cardPrefrenceSummary()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const mt=function(){return["/cardaccount/applicationEntryStage/list/cardPrefrence"]};function pt(t,e){if(1&t&&(d.Xb(0,"button",32),d.Tc(1," Add Details "),d.Xb(2,"mat-icon"),d.Tc(3,"chevron_right"),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("routerLink",d.wc(2,mt))("disabled",!t.isCardFinancialDetailsScreen)}}function gt(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",30),d.fc("click",function(){return d.Hc(t),d.jc().goToCradAccountService()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const ht=function(){return["/cardaccount/applicationEntryStage/list/accountServices"]};function ft(t,e){if(1&t&&(d.Xb(0,"button",32),d.Tc(1," Add Details "),d.Xb(2,"mat-icon"),d.Tc(3,"chevron_right"),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("routerLink",d.wc(2,ht))("disabled",!t.isCardPrefrenceDone)}}const yt=function(t){return{"border-size":t}};let vt=(()=>{class t{constructor(t,e,r,i){this.router=t,this.dialogService=e,this.ls=r,this.dialog=i,this.isCardPrefrenceDone=!1,this.CardInitiationScreenDone=!1,this.isCardInitiationDone=!1,this.isCardCustomerInformationScreen=!1,this.isCardFinancialDetailsScreen=!1,this.isCardAccountService=!1,this.isCardApplicationStageDone=!1}ngOnInit(){this.isCardApplicationStageDone=this.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),this.isCardPrefrenceDone=this.ls.getItem("card_prefrence_done"),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),this.isCardCustomerInformationScreen=this.ls.getItem("Card_Customer_Done"),this.isCardFinancialDetailsScreen=this.ls.getItem("CARD_FINANCIAL_DONE"),this.isCardAccountService=this.ls.getItem("CARD_ACC_SERVICE_DONE")}openCardInitiationSummary(){this.dialogService.CardInitiationSummary()}goToFinancialSummarry(){this.dialogService.CardFinancialDetailsSummary()}goToCustomerInfo(){this.dialogService.CardCustomerInfoSummary()}goToCradAccountService(){this.dialogService.cardAccountServiceViewSummary()}cardPrefrenceSummary(){this.dialogService.cardPrefrenceSummary()}openCardEntryStageViewSummary(){this.dialogService.cardAppEntryStageViewSummary()}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(Z.a),d.Rb(c.a),d.Rb(u.b))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-application-entry-stage"]],decls:96,vars:31,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],[2,"font-size","16px"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",2,"font-size","11px"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["showCustomer",""],["showFinancial",""],["showCardPrefrence",""],["showService",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","",1,"btn-color",3,"click"],["mat-button","","color","primary",1,"add-align",3,"click"],["mat-button","","color","primary",1,"add-align",3,"routerLink"],["mat-button","","color","primary",1,"add-align",3,"routerLink","disabled"]],template:function(t,e){if(1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Sb(3,"img",3),d.Wb(),d.Xb(4,"div",4),d.Xb(5,"div",5),d.Xb(6,"b"),d.Tc(7,"Create New Card Account"),d.Wb(),d.Wb(),d.Xb(8,"div",6),d.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),d.Wb(),d.Wb(),d.Wb(),d.Rc(10,rt,14,4,"div",7),d.Wb(),d.Xb(11,"div",8),d.Xb(12,"div",9),d.Xb(13,"mat-card",10),d.Xb(14,"mat-card-header"),d.Xb(15,"mat-card-title",11),d.Tc(16,"1. Card Initiation"),d.Wb(),d.Wb(),d.Xb(17,"mat-card-content"),d.Xb(18,"div",12),d.Xb(19,"div",13),d.Xb(20,"p",14),d.Tc(21," All the primary information about the customer is captured. "),d.Wb(),d.Wb(),d.Xb(22,"div",15),d.Sb(23,"img",16),d.Wb(),d.Wb(),d.Wb(),d.Sb(24,"mat-divider"),d.Xb(25,"mat-card-actions"),d.Rc(26,it,5,0,"ng-container",17),d.Rc(27,nt,5,2,"ng-container",17),d.Wb(),d.Wb(),d.Wb(),d.Xb(28,"div",9),d.Xb(29,"mat-card",10),d.Xb(30,"mat-card-header"),d.Xb(31,"mat-card-title",11),d.Tc(32,"2. Customer Information Details"),d.Wb(),d.Wb(),d.Xb(33,"mat-card-content"),d.Xb(34,"div",12),d.Xb(35,"div",13),d.Xb(36,"p",14),d.Tc(37," All the primary information about the customer is captured. "),d.Wb(),d.Wb(),d.Xb(38,"div",15),d.Sb(39,"img",16),d.Wb(),d.Wb(),d.Wb(),d.Sb(40,"mat-divider"),d.Xb(41,"mat-card-actions"),d.Rc(42,ot,5,0,"ng-container",18),d.Rc(43,st,4,3,"ng-template",null,19,d.Sc),d.Wb(),d.Wb(),d.Wb(),d.Xb(45,"div",9),d.Xb(46,"mat-card",10),d.Xb(47,"mat-card-header"),d.Xb(48,"mat-card-title",11),d.Tc(49,"3. Financial Details"),d.Wb(),d.Wb(),d.Xb(50,"mat-card-content"),d.Xb(51,"div",12),d.Xb(52,"div",13),d.Xb(53,"p",14),d.Tc(54," Financial Details such as Monthly Income, Monthly Expenses, Liabilities are captured. "),d.Wb(),d.Wb(),d.Xb(55,"div",15),d.Sb(56,"img",16),d.Wb(),d.Wb(),d.Wb(),d.Sb(57,"mat-divider"),d.Xb(58,"mat-card-actions"),d.Rc(59,lt,5,0,"ng-container",18),d.Rc(60,bt,4,3,"ng-template",null,20,d.Sc),d.Wb(),d.Wb(),d.Wb(),d.Xb(62,"div",9),d.Xb(63,"mat-card",10),d.Xb(64,"mat-card-header"),d.Xb(65,"mat-card-title",11),d.Tc(66,"4. Card Preferences"),d.Wb(),d.Wb(),d.Xb(67,"mat-card-content"),d.Xb(68,"div",12),d.Xb(69,"div",13),d.Xb(70,"p",14),d.Tc(71," Card related information are added. "),d.Wb(),d.Wb(),d.Xb(72,"div",15),d.Sb(73,"img",16),d.Wb(),d.Wb(),d.Wb(),d.Sb(74,"mat-divider"),d.Xb(75,"mat-card-actions"),d.Rc(76,ut,5,0,"ng-container",18),d.Rc(77,pt,4,3,"ng-template",null,21,d.Sc),d.Wb(),d.Wb(),d.Wb(),d.Xb(79,"div",9),d.Xb(80,"mat-card",10),d.Xb(81,"mat-card-header"),d.Xb(82,"mat-card-title",11),d.Tc(83,"5. Account Services"),d.Wb(),d.Wb(),d.Xb(84,"mat-card-content"),d.Xb(85,"div",12),d.Xb(86,"div",13),d.Xb(87,"p",14),d.Tc(88," Account services preferences like account statement frequency and mode are captured. "),d.Wb(),d.Wb(),d.Xb(89,"div",15),d.Sb(90,"img",16),d.Wb(),d.Wb(),d.Wb(),d.Sb(91,"mat-divider"),d.Xb(92,"mat-card-actions"),d.Rc(93,gt,5,0,"ng-container",18),d.Rc(94,ft,4,3,"ng-template",null,22,d.Sc),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t){const t=d.Dc(44),r=d.Dc(61),i=d.Dc(78),a=d.Dc(95);d.Eb(10),d.rc("ngIf",e.isCardApplicationStageDone),d.Eb(3),d.rc("ngClass",d.xc(21,yt,e.isCardInitiationDone||!e.isCardInitiationDone)),d.Eb(10),d.rc("src","assets/images/svg/undraw_personal_information_re_vw8a.svg.svg",d.Jc),d.Eb(3),d.rc("ngIf",e.isCardInitiationDone),d.Eb(1),d.rc("ngIf",!e.isCardInitiationDone),d.Eb(2),d.rc("ngClass",d.xc(23,yt,e.isCardCustomerInformationScreen||!e.isCardCustomerInformationScreen&&e.isCardInitiationDone)),d.Eb(10),d.rc("src","assets/images/svg/undraw_personal_information_re_vw8a.svg.svg",d.Jc),d.Eb(3),d.rc("ngIf",e.isCardCustomerInformationScreen)("ngIfElse",t),d.Eb(4),d.rc("ngClass",d.xc(25,yt,e.isCardFinancialDetailsScreen||!e.isCardFinancialDetailsScreen&&e.isCardCustomerInformationScreen)),d.Eb(10),d.rc("src","assets/images/svg/undraw_Finance_re_gnv2.svg",d.Jc),d.Eb(3),d.rc("ngIf",e.isCardFinancialDetailsScreen)("ngIfElse",r),d.Eb(4),d.rc("ngClass",d.xc(27,yt,e.isCardPrefrenceDone||!e.isCardPrefrenceDone&&e.isCardFinancialDetailsScreen)),d.Eb(10),d.rc("src","assets/images/svg/Mask_Group_1.svg",d.Jc),d.Eb(3),d.rc("ngIf",e.isCardPrefrenceDone)("ngIfElse",i),d.Eb(4),d.rc("ngClass",d.xc(29,yt,e.isCardAccountService||!e.isCardAccountService&&e.isCardPrefrenceDone)),d.Eb(10),d.rc("src","assets/images/svg/undraw_opinion_dxp8.svg",d.Jc),d.Eb(3),d.rc("ngIf",e.isCardAccountService)("ngIfElse",a)}},directives:[h.e,h.b,i.n,p.a,i.l,T.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,a.a,g.b,m.i],styles:[".not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.main-title1[_ngcontent-%COMP%]{font-size:28px}.text-muted1[_ngcontent-%COMP%]{font-size:20px;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}.add-align[_ngcontent-%COMP%]{padding-left:27px}"]}),t})();var Ct=r("iiaH"),xt=r("NN4w"),Wt=r("LvDl"),Xt=r("YS3K"),It=r("zQhy");function St(t,e){if(1&t){const t=d.Yb();d.Xb(0,"p",31),d.Xb(1,"mat-checkbox",32),d.fc("change",function(r){d.Hc(t);const i=e.$implicit;return d.jc(2).onChecklistChange(r.checked,i)}),d.Tc(2),d.Wb(),d.Wb()}if(2&t){const t=e.$implicit;d.Eb(1),d.rc("value",t)("checked",t.checked),d.Eb(1),d.Vc("",t.name," ")}}function Ot(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",33),d.Xb(1,"mat-checkbox",32),d.fc("change",function(r){d.Hc(t);const i=e.$implicit;return d.jc(2).onCheckComChange(r.checked,i)}),d.Tc(2),d.Wb(),d.Wb()}if(2&t){const t=e.$implicit;d.Eb(1),d.rc("value",t)("checked",t.checked),d.Eb(1),d.Vc("",t.name," ")}}function Dt(t,e){if(1&t){const t=d.Yb();d.Xb(0,"form",15),d.Xb(1,"div",16),d.Xb(2,"div",17),d.Xb(3,"div",18),d.Xb(4,"label"),d.Xb(5,"strong"),d.Tc(6,"Account Statement Frequency*"),d.Wb(),d.Wb(),d.Sb(7,"div",19),d.Xb(8,"mat-radio-group",20),d.fc("change",function(e){return d.Hc(t),d.jc().statementFrequency(e.value)}),d.Xb(9,"mat-radio-button",21),d.Tc(10,"Monthly"),d.Wb(),d.Xb(11,"mat-radio-button",22),d.Tc(12,"Bi-Annual"),d.Wb(),d.Sb(13,"div",19),d.Xb(14,"mat-radio-button",23),d.Tc(15,"Quaterly"),d.Wb(),d.Xb(16,"mat-radio-button",24),d.Tc(17,"Annual"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(18,"div",25),d.Xb(19,"div",18),d.Xb(20,"label"),d.Xb(21,"strong"),d.Tc(22,"Account Statement Preference*"),d.Wb(),d.Wb(),d.Sb(23,"div",19),d.Rc(24,St,3,3,"p",26),d.Wb(),d.Wb(),d.Wb(),d.Sb(25,"div",27),d.Vb(26),d.Xb(27,"div",16),d.Xb(28,"div",25),d.Xb(29,"div",28),d.Xb(30,"div",2),d.Xb(31,"label"),d.Xb(32,"strong"),d.Tc(33,"Communication Channel Preferences*"),d.Wb(),d.Wb(),d.Sb(34,"div",29),d.Wb(),d.Xb(35,"div",2),d.Rc(36,Ot,3,3,"div",30),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Ub(),d.Wb()}if(2&t){const t=d.jc();d.rc("formGroup",t.accountServiceForm),d.Eb(24),d.rc("ngForOf",t.statementList),d.Eb(12),d.rc("ngForOf",t.communicationList)}}let Tt=(()=>{class t{constructor(t,e,r,i,a,n,o,c,s,l){this.router=t,this.urlService=e,this.dataService=r,this.route=i,this.snack=a,this.ls=n,this.accountService=o,this.formBuilder=c,this.apiService=s,this.cdr=l,this.show=!1,this.selectedRow=!1,this.statementList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1}],this.communicationList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1},{id:3,name:"SMS",checked:!1}],this.commChannelPreferencesArray=[],this.AccStatementPreferenceArray=[],this.showEditOption=!1,this.previousUrl="",this.enableFinish=!1}ngOnInit(){this.cardId=this.ls.getItem("cardId");let t=JSON.parse(this.ls.getItem("CARD_ACC_SERVICE_DONE"));null!=this.cardId&&t?(console.log("editform is true"),this.showEditOption=!0,this.gettingAccountService()):(this.showEditOption=!1,this.buildServiceForm(),console.log("editform is false"),this.accountServiceForm.controls.statementPref.patchValue(this.statementList),this.accountServiceForm.controls.commChannelPref.patchValue(this.communicationList)),console.log("showEditOption",this.showEditOption),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t})}gettingAccountService(){this.apiService.gettingCardAccountServiceDetails(this.cardId).subscribe(t=>{console.log("All Account Service",t),this.buildServiceForm(t),this.statementList=t.statementPref,this.communicationList=t.commChannelPref,this.cdr.markForCheck();for(var e=0;e<this.communicationList.length;e++)this.communicationList[e].checked&&this.commChannelPreferencesArray.push(this.communicationList[e].name);for(e=0;e<this.statementList.length;e++)this.statementList[e].checked&&this.AccStatementPreferenceArray.push(this.statementList[e].name);localStorage.setItem("statementFrequency",t.statementFrequency),this.enableFinish=!0})}statementFrequency(t){this.statementFrncy=localStorage.getItem("statementFrequency"),t!=this.statementFrncy&&(this.enableFinish=!0)}buildServiceForm(t){this.accountServiceForm=this.formBuilder.group({accServiceId:[t?t.accServiceId:null],productAccountId:[null!=this.accountId?this.accountId:null],statementFrequency:[t?t.statementFrequency:""],statementPref:[t?this.flattenValues(t.statementPref):""],commChannelPref:[t?this.flattenValues(t.commChannelPref):""]})}onChecklistChange(t,e){e.checked=t,this.enableFinish=!0,this.accountServiceForm.get("statementPref").setValue(this.flattenValues(this.statementList)),t?this.AccStatementPreferenceArray.push(e.name):this.AccStatementPreferenceArray.forEach((t,r)=>{t===e.name&&this.AccStatementPreferenceArray.splice(r,1)})}onCheckComChange(t,e){console.log(t),console.log(e),e.checked=t,this.accountServiceForm.get("commChannelPref").setValue(this.flattenValues(this.communicationList)),t?(this.commChannelPreferencesArray.push(e.name),console.log("checked",e.name),this.enableFinish=!0):this.commChannelPreferencesArray.forEach((t,r)=>{t===e.name&&(this.commChannelPreferencesArray.splice(r,1),console.log("checked",e.name),this.enableFinish=!0)})}flattenValues(t){return Object(Wt.flow)([Object(Xt.filter)(t=>t.checked),Object(Xt.flatMap)(t=>t.name)])(t).join(",")}isObjectEmpty(t){return"[object Object]"===Object.prototype.toString.call(t)&&"{}"===JSON.stringify(t)}togglePreference(){this.show=!this.show}goBack(){this.router.navigate(["/cardaccount/applicationEntryStage/list/cardPrefrence"])}onSubmit(){let t={cardId:this.cardId,statementFrequency:this.accountServiceForm.value.statementFrequency,statementPref:this.statementList,commChannelPref:this.communicationList,accountType:"cardOrigin"};this.accountServiceForm.invalid||(this.showEditOption?this.apiService.updateAccountService(this.cardId,t).subscribe(t=>{console.log(t),this.snack.open("Account Service Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)}):this.apiService.createAccountService(this.cardId,t).subscribe(t=>{console.log(t),this.snack.open("Account Service Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)}),this.goToNext())}ngOnDestroy(){}goToNext(){this.ls.setItem("CARD_ACC_SERVICE_DONE",!0),this.ls.setItem("CARD_APPLICATION_ENTRY_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/documentupload/list"])}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(xt.a),d.Rb(Ct.a),d.Rb(m.a),d.Rb(b.a),d.Rb(c.a),d.Rb(D.a),d.Rb(s.f),d.Rb(l.b),d.Rb(d.h))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-card-account-services"]],decls:25,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_opinion_dxp8.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"card-title-text"],[1,"p-0","bordercard"],[1,""],[1,"bordercard"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],[1,"m-16"],["name","statementFreq","formControlName","statementFrequency","required","",1,"mt-12",3,"change"],["value","MONTHLY","color","primary",1,"ml-8"],["value","BIANNUAL","color","primary",1,"ml-16"],["value","QUATERLY","color","primary",1,"ml-8"],["value","ANNUAL","color","primary",1,"ml-16"],["fxFlex","100","fxFlex.gt-xs","50"],["formArrayName","statementPref",4,"ngFor","ngForOf"],[1,"m-32"],["fxLayout","row wrap"],[1,"m-12"],["fxFlex","25","formArrayName","commChannelPref",4,"ngFor","ngForOf"],["formArrayName","statementPref"],["color","primary",1,"checkbox-margin",3,"value","checked","change"],["fxFlex","25","formArrayName","commChannelPref"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Account Services"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",7),d.Tc(10,"Account Services"),d.Wb(),d.Xb(11,"div",1),d.Xb(12,"div",2),d.Xb(13,"mat-card",8),d.Xb(14,"mat-card-title",9),d.Xb(15,"div",7),d.Tc(16,"Account Statement"),d.Wb(),d.Sb(17,"mat-divider",10),d.Wb(),d.Xb(18,"mat-card-content"),d.Rc(19,Dt,37,3,"form",11),d.Wb(),d.Wb(),d.Xb(20,"div",12),d.Xb(21,"button",13),d.fc("click",function(){return e.goBack()}),d.Tc(22," Back "),d.Wb(),d.Xb(23,"button",14),d.fc("click",function(){return e.onSubmit()}),d.Tc(24," Next "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(19),d.rc("ngIf",e.accountServiceForm),d.Eb(4),d.rc("disabled",!e.accountServiceForm.valid||0==e.commChannelPreferencesArray.length||0==e.AccStatementPreferenceArray.length))},directives:[h.e,h.b,p.a,p.h,X.a,p.d,i.n,h.d,h.f,g.b,s.C,s.s,s.j,It.b,s.r,s.i,s.z,It.a,i.m,s.e,V.a],styles:[".card-title-text[_ngcontent-%COMP%]{color:#000;padding-left:18px;font-size:30px;font-weight:700}.bordercard[_ngcontent-%COMP%]{border:1px solid #87ceeb}"]}),t})();var At=r("BTe0"),kt=r("3kSh"),Et=r("qMRc"),_t=r("wd/R"),wt=r("Zy1z"),Pt=r("ZTz/"),Nt=r("UhP/"),Rt=r("jMqV"),Ft=r("o4Yh"),Mt=r("f44v"),Lt=r("TN/R"),Vt=r("2Goh"),Bt=r("SqCe");function jt(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function qt(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Ownership is Required! "),d.Wb())}function Ut(t,e){1&t&&(d.Vb(0),d.Xb(1,"mat-form-field",16),d.Xb(2,"mat-label"),d.Tc(3,"Number of Applicants *"),d.Wb(),d.Xb(4,"mat-select",39),d.Xb(5,"mat-option",38),d.Tc(6,"1"),d.Wb(),d.Xb(7,"mat-option",38),d.Tc(8,"2"),d.Wb(),d.Xb(9,"mat-option",38),d.Tc(10,"3"),d.Wb(),d.Xb(11,"mat-option",38),d.Tc(12,"4"),d.Wb(),d.Xb(13,"mat-option",38),d.Tc(14,"5"),d.Wb(),d.Wb(),d.Wb(),d.Ub()),2&t&&(d.Eb(5),d.rc("value",1),d.Eb(2),d.rc("value",2),d.Eb(2),d.rc("value",3),d.Eb(2),d.rc("value",4),d.Eb(2),d.rc("value",5))}function zt(t,e){if(1&t&&(d.Xb(0,"mat-chip",55),d.Tc(1),d.Wb()),2&t){const t=d.jc().$implicit;d.rc("color","warn")("selected",t.primaryCustomer),d.Eb(1),d.Uc(t.primaryCustomer?"primary":"")}}function Gt(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"a",56),d.fc("click",function(){return d.Hc(t),d.jc(3).resetAndClose()}),d.Xb(2,"mat-icon"),d.Tc(3,"close"),d.Wb(),d.Wb(),d.Ub()}}function Ht(t,e){if(1&t){const t=d.Yb();d.Xb(0,"a",57),d.fc("click",function(){d.Hc(t);const e=d.jc().$implicit;return d.jc(2).toggleDetails(e)}),d.Xb(1,"mat-icon"),d.Tc(2,"edit"),d.Wb(),d.Wb()}}function Yt(t,e){if(1&t){const t=d.Yb();d.Xb(0,"a",58),d.fc("click",function(){d.Hc(t);const e=d.jc().$implicit;return d.jc(2).removeApplicant(e)}),d.Xb(1,"mat-icon"),d.Tc(2,"delete"),d.Wb(),d.Wb()}}function $t(t,e){1&t&&d.Tb(0)}const Qt=function(t){return{$implicit:t}};function Kt(t,e){if(1&t&&(d.Vb(0),d.Rc(1,$t,1,0,"ng-container",59),d.Ub()),2&t){const t=d.jc().$implicit,e=d.Dc(29);d.Eb(1),d.rc("ngTemplateOutlet",e)("ngTemplateOutletContext",d.xc(2,Qt,t))}}function Jt(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function Zt(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Prefix is Required! "),d.Wb())}function te(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Date of Birth is Required! "),d.Wb())}function ee(t,e){if(1&t&&d.Sb(0,"div"),2&t){const t=d.jc(4);d.Hb("currency-flag currency-flag-",t.Currency1,"")}}function re(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function ie(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function ae(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Resident Status is Required! "),d.Wb())}function ne(t,e){if(1&t&&d.Sb(0,"div"),2&t){const t=d.jc(4);d.Hb("currency-flag currency-flag-",t.Currency,"")}}function oe(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function ce(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Country of Residence is Required! "),d.Wb())}function se(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function le(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," ID Type is Required! "),d.Wb())}function de(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," ID Type Valid Till is Required! "),d.Wb())}function be(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," First Name is Required! "),d.Wb())}function ue(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Last Name is Required! "),d.Wb())}function me(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function pe(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Gender is Required! "),d.Wb())}function ge(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Birth Place is Required! "),d.Wb())}function he(t,e){if(1&t&&d.Sb(0,"div"),2&t){const t=d.jc(4);d.Hb("currency-flag currency-flag-",t.currencyCode,"")}}function fe(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function ye(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Citizenship By is Required! "),d.Wb())}function ve(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc("",t," ")}}function Ce(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Occupation Type is Required! "),d.Wb())}function xe(t,e){1&t&&(d.Xb(0,"div"),d.Tc(1,"Unique ID Number is Required!"),d.Wb())}function We(t,e){1&t&&(d.Xb(0,"div"),d.Tc(1,"This is a numeric field "),d.Wb())}function Xe(t,e){if(1&t&&(d.Xb(0,"mat-error"),d.Rc(1,xe,2,0,"div",20),d.Rc(2,We,2,0,"div",20),d.Wb()),2&t){const t=d.jc(4);d.Eb(1),d.rc("ngIf",t.applicant.get("idNumber").hasError("required")),d.Eb(1),d.rc("ngIf",t.applicant.get("idNumber").hasError("pattern"))}}function Ie(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Address Line 1 is Required! "),d.Wb())}function Se(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Enter Valid Address "),d.Wb())}function Oe(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function De(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Residence Type is Required! "),d.Wb())}function Te(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t.stateName),d.Eb(1),d.Vc(" ",t.stateName,"")}}function Ae(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," State is Required! "),d.Wb())}function ke(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please enter valid Zip Code!(5-10 digits) "),d.Wb())}function Ee(t,e){1&t&&(d.Xb(0,"h5",104),d.Tc(1,"Please enter valid Zip Code!(5-10 digits) "),d.Wb())}function _e(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Address Line 2 is Required! "),d.Wb())}function we(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Enter Valid Address "),d.Wb())}function Pe(t,e){if(1&t&&d.Sb(0,"div"),2&t){const t=d.jc(4);d.Hb("currency-flag currency-flag-",t.editCountryCode,"")}}function Ne(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function Re(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Country is Required! "),d.Wb())}function Fe(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t.value1),d.Eb(1),d.Vc("",t.value1," ")}}function Me(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," City is Required! "),d.Wb())}function Le(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Mobile Number is Required! "),d.Wb())}function Ve(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please, Enter 10 digit Mobile Number! "),d.Wb())}function Be(t,e){1&t&&(d.Xb(0,"mat-error",105),d.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),d.Wb())}function je(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," E-mail is Required! "),d.Wb())}function qe(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please, Enter 10 digit Landline Number! "),d.Wb())}function Ue(t,e){1&t&&(d.Xb(0,"mat-error",105),d.Tc(1," \xa0 \xa0 Please Enter Correct Landline Number "),d.Wb())}function ze(t,e){if(1&t){const t=d.Yb();d.Xb(0,"form",60),d.Xb(1,"div",61),d.Xb(2,"div",13),d.Xb(3,"div",14),d.Xb(4,"div",15),d.Xb(5,"label"),d.Tc(6,"Is the applicant an existing customer?"),d.Wb(),d.Tc(7," \xa0\xa0 "),d.Xb(8,"mat-slide-toggle",62),d.fc("change",function(e){return d.Hc(t),d.jc(3).toggleChanges(e)}),d.Wb(),d.Sb(9,"div",63),d.Wb(),d.Xb(10,"div",15),d.Xb(11,"mat-form-field",16),d.Xb(12,"mat-label"),d.Tc(13,"Prefix *"),d.Wb(),d.Xb(14,"mat-select",64),d.Rc(15,Jt,2,2,"mat-option",19),d.Wb(),d.Rc(16,Zt,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(17,"div",15),d.Xb(18,"mat-form-field",16),d.Xb(19,"mat-label"),d.Tc(20,"Middle Name"),d.Wb(),d.Xb(21,"input",65),d.fc("keypress",function(e){return d.Hc(t),d.jc(3).letterOnly(e)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(22,"div",15),d.Xb(23,"mat-form-field",16),d.Xb(24,"mat-label"),d.Tc(25,"Date of Birth *"),d.Wb(),d.Sb(26,"input",66),d.Sb(27,"mat-datepicker-toggle",67),d.Rc(28,te,2,0,"mat-error",20),d.Wb(),d.Sb(29,"mat-datepicker",null,68),d.Wb(),d.Xb(31,"div",69),d.Xb(32,"mat-form-field",16),d.Xb(33,"mat-label"),d.Tc(34,"Birth Country"),d.Wb(),d.Xb(35,"div",70),d.Xb(36,"div",71),d.Rc(37,ee,1,3,"div",72),d.Wb(),d.Wb(),d.Xb(38,"mat-select",73),d.fc("selectionChange",function(e){return d.Hc(t),d.jc(3).onSelectionBirthCountry(e.value)}),d.Rc(39,re,2,2,"mat-option",19),d.Wb(),d.Wb(),d.Wb(),d.Xb(40,"div",15),d.Xb(41,"mat-form-field",16),d.Xb(42,"mat-label"),d.Tc(43,"Resident Status *"),d.Wb(),d.Xb(44,"mat-select",74),d.Rc(45,ie,2,2,"mat-option",19),d.Wb(),d.Rc(46,ae,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(47,"div",15),d.Xb(48,"mat-form-field",16),d.Xb(49,"mat-label"),d.Tc(50,"Country of Residence"),d.Wb(),d.Xb(51,"div",70),d.Xb(52,"div",71),d.Rc(53,ne,1,3,"div",72),d.Wb(),d.Wb(),d.Xb(54,"mat-select",75),d.fc("selectionChange",function(e){return d.Hc(t),d.jc(3).onSelectionResidance(e.value)}),d.Xb(55,"mat-option",76),d.Tc(56,"--Select--"),d.Wb(),d.Rc(57,oe,2,2,"mat-option",19),d.Wb(),d.Rc(58,ce,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(59,"div",15),d.Xb(60,"mat-form-field",16),d.Xb(61,"mat-label"),d.Tc(62,"ID Type *"),d.Wb(),d.Xb(63,"mat-select",77),d.fc("selectionChange",function(){d.Hc(t);const e=d.jc(3);return e.changeIdType(e.applicant.get("idType").value)}),d.Rc(64,se,2,2,"mat-option",19),d.Wb(),d.Rc(65,le,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(66,"div",15),d.Xb(67,"mat-form-field",16),d.Xb(68,"mat-label"),d.Tc(69,"ID Type Valid Till"),d.Wb(),d.Sb(70,"input",78),d.Sb(71,"mat-datepicker-toggle",67),d.Rc(72,de,2,0,"mat-error",20),d.Wb(),d.Sb(73,"mat-datepicker",null,79),d.Wb(),d.Wb(),d.Xb(75,"div",21),d.Xb(76,"div",15),d.Xb(77,"label"),d.Tc(78,"Is the applicant a primary customer?"),d.Wb(),d.Tc(79," \xa0\xa0 "),d.Sb(80,"mat-slide-toggle",80),d.Sb(81,"div",63),d.Wb(),d.Xb(82,"div",15),d.Xb(83,"mat-form-field",16),d.Xb(84,"mat-label"),d.Tc(85,"First Name *"),d.Wb(),d.Xb(86,"input",81),d.fc("keypress",function(e){return d.Hc(t),d.jc(3).letterOnly(e)}),d.Wb(),d.Rc(87,be,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(88,"div",15),d.Xb(89,"mat-form-field",16),d.Xb(90,"mat-label"),d.Tc(91,"Last Name *"),d.Wb(),d.Xb(92,"input",82),d.fc("keypress",function(e){return d.Hc(t),d.jc(3).letterOnly(e)}),d.Wb(),d.Rc(93,ue,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(94,"div",15),d.Xb(95,"mat-form-field",16),d.Xb(96,"mat-label"),d.Tc(97,"Gender *"),d.Wb(),d.Xb(98,"mat-select",83),d.Rc(99,me,2,2,"mat-option",19),d.Wb(),d.Rc(100,pe,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(101,"div",15),d.Xb(102,"mat-form-field",16),d.Xb(103,"mat-label"),d.Tc(104,"Birth Place *"),d.Wb(),d.Sb(105,"input",84),d.Rc(106,ge,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(107,"div",85),d.Xb(108,"mat-form-field",16),d.Xb(109,"mat-label"),d.Tc(110,"Citizenship By"),d.Wb(),d.Xb(111,"div",70),d.Xb(112,"div",71),d.Rc(113,he,1,3,"div",72),d.Wb(),d.Wb(),d.Xb(114,"div",2),d.Xb(115,"mat-select",86),d.fc("selectionChange",function(e){return d.Hc(t),d.jc(3).onSelectionCitizionship(e.value)}),d.Xb(116,"mat-option",76),d.Tc(117,"--Select--"),d.Wb(),d.Rc(118,fe,2,2,"mat-option",19),d.Wb(),d.Wb(),d.Rc(119,ye,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(120,"div",69),d.Xb(121,"mat-form-field",16),d.Xb(122,"mat-label"),d.Tc(123,"Marital Status"),d.Wb(),d.Xb(124,"mat-select",87),d.Rc(125,ve,2,2,"mat-option",19),d.Wb(),d.Wb(),d.Wb(),d.Xb(126,"div",15),d.Xb(127,"mat-form-field",16),d.Xb(128,"mat-label"),d.Tc(129,"Occupation Type *"),d.Wb(),d.Xb(130,"input",88),d.fc("keypress",function(e){return d.Hc(t),d.jc(3).letterOnly(e)}),d.Wb(),d.Rc(131,Ce,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(132,"div",89),d.Xb(133,"mat-form-field",16),d.Xb(134,"mat-label"),d.Tc(135,"Unique ID Number *"),d.Wb(),d.Sb(136,"input",90),d.Rc(137,Xe,3,2,"mat-error",20),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(138,"mat-accordion"),d.Xb(139,"mat-expansion-panel",40),d.Xb(140,"mat-expansion-panel-header"),d.Xb(141,"mat-panel-title"),d.Tc(142,"Communication Address "),d.Wb(),d.Wb(),d.Xb(143,"div",13),d.Xb(144,"div",14),d.Xb(145,"div",15),d.Xb(146,"mat-form-field",16),d.Xb(147,"mat-label"),d.Tc(148,"Address Line 1 *"),d.Wb(),d.Sb(149,"textarea",91),d.Rc(150,Ie,2,0,"mat-error",20),d.Rc(151,Se,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(152,"div",15),d.Xb(153,"mat-form-field",16),d.Xb(154,"mat-label"),d.Tc(155,"Residence Type *"),d.Wb(),d.Xb(156,"mat-select",92),d.Rc(157,Oe,2,2,"mat-option",19),d.Wb(),d.Rc(158,De,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(159,"div",15),d.Xb(160,"mat-form-field",16),d.Xb(161,"mat-label"),d.Tc(162,"State *"),d.Wb(),d.Xb(163,"mat-select",93),d.fc("selectionChange",function(e){return d.Hc(t),d.jc(3).getCityName(e.value)}),d.Rc(164,Te,2,2,"mat-option",19),d.Wb(),d.Rc(165,Ae,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(166,"div",15),d.Xb(167,"mat-form-field",16),d.Xb(168,"mat-label"),d.Tc(169,"Zip Code *"),d.Wb(),d.Xb(170,"input",94),d.fc("keypress",function(e){return d.Hc(t),d.jc(3).onKeyPress1(e)})("keyup",function(e){return d.Hc(t),d.jc(3).isAllSameDigit(e)}),d.Wb(),d.Rc(171,ke,2,0,"mat-error",20),d.Wb(),d.Rc(172,Ee,2,0,"h5",95),d.Wb(),d.Wb(),d.Xb(173,"div",21),d.Xb(174,"div",15),d.Xb(175,"mat-form-field",16),d.Xb(176,"mat-label"),d.Tc(177,"Address Line 2 *"),d.Wb(),d.Sb(178,"textarea",96),d.Rc(179,_e,2,0,"mat-error",20),d.Rc(180,we,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(181,"div",15),d.Xb(182,"mat-form-field",16),d.Xb(183,"mat-label"),d.Tc(184,"Country *"),d.Wb(),d.Xb(185,"div",70),d.Xb(186,"div",71),d.Rc(187,Pe,1,3,"div",72),d.Wb(),d.Wb(),d.Xb(188,"mat-select",97),d.fc("selectionChange",function(e){return d.Hc(t),d.jc(3).getStateName(e.value)})("selectionChange",function(e){return d.Hc(t),d.jc(3).getCountrySelection1(e.value)}),d.Rc(189,Ne,2,2,"mat-option",19),d.Wb(),d.Rc(190,Re,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(191,"div",15),d.Xb(192,"mat-form-field",16),d.Xb(193,"mat-label"),d.Tc(194,"City *"),d.Wb(),d.Xb(195,"mat-select",98),d.Rc(196,Fe,2,2,"mat-option",19),d.Wb(),d.Rc(197,Me,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(198,"mat-accordion"),d.Xb(199,"mat-expansion-panel",40),d.Xb(200,"mat-expansion-panel-header"),d.Xb(201,"mat-panel-title"),d.Tc(202,"Contact Information "),d.Wb(),d.Wb(),d.Xb(203,"div",13),d.Xb(204,"div",14),d.Xb(205,"div",15),d.Xb(206,"mat-form-field",16),d.Xb(207,"mat-label"),d.Tc(208,"Mobile Number *"),d.Wb(),d.Xb(209,"input",99),d.fc("keypress",function(e){return d.Hc(t),d.jc(3).onKeyPress1(e)}),d.Wb(),d.Rc(210,Le,2,0,"mat-error",20),d.Rc(211,Ve,2,0,"mat-error",20),d.Wb(),d.Rc(212,Be,2,0,"mat-error",100),d.Wb(),d.Xb(213,"div",15),d.Xb(214,"mat-form-field",16),d.Xb(215,"mat-label"),d.Tc(216,"E-mail *"),d.Wb(),d.Sb(217,"input",101),d.Rc(218,je,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Wb(),d.Xb(219,"div",21),d.Xb(220,"div",15),d.Xb(221,"mat-form-field",16),d.Xb(222,"mat-label"),d.Tc(223,"Landline Number "),d.Wb(),d.Xb(224,"input",102),d.fc("keypress",function(e){return d.Hc(t),d.jc(3).onKeyPress1(e)}),d.Wb(),d.Rc(225,qe,2,0,"mat-error",20),d.Wb(),d.Rc(226,Ue,2,0,"mat-error",100),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(227,"div",15),d.Xb(228,"button",103),d.fc("click",function(){return d.Hc(t),d.jc(3).onSubmit()}),d.Sb(229,"mat-icon"),d.Tc(230," UPDATE APPLICANT "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){const t=d.Dc(30),e=d.Dc(74),r=d.jc(3);d.rc("formGroup",r.cardCustomerForm),d.Eb(15),d.rc("ngForOf",r.arrayPrefix),d.Eb(1),d.rc("ngIf",r.applicant.get("prefix").hasError("required")),d.Eb(10),d.rc("matDatepicker",t)("max",r.tomorrow)("max",r.maxDate),d.Eb(1),d.rc("for",t),d.Eb(1),d.rc("ngIf",r.applicant.get("dateOfBirth").hasError("required")),d.Eb(9),d.rc("ngIf",r.Currency1),d.Eb(2),d.rc("ngForOf",r.arrayCountry),d.Eb(6),d.rc("ngForOf",r.arrayResidence),d.Eb(1),d.rc("ngIf",r.applicant.get("residenceStatus").hasError("required")),d.Eb(7),d.rc("ngIf",r.Currency),d.Eb(4),d.rc("ngForOf",r.arrayCountry),d.Eb(1),d.rc("ngIf",r.applicant.get("countryOfResidence").hasError("required")),d.Eb(6),d.rc("ngForOf",r.arrayDocumentType),d.Eb(1),d.rc("ngIf",r.applicant.get("idType").hasError("required")),d.Eb(5),d.rc("required","Aadhar card"!=r.applicant.get("idType").value)("matDatepicker",e)("min",r.validDate),d.Eb(1),d.rc("for",e),d.Eb(1),d.rc("ngIf",r.applicant.get("expiryDate").hasError("required")),d.Eb(15),d.rc("ngIf",r.applicant.get("firstName").hasError("required")),d.Eb(6),d.rc("ngIf",r.applicant.get("lastName").hasError("required")),d.Eb(6),d.rc("ngForOf",r.arrayGender),d.Eb(1),d.rc("ngIf",r.applicant.get("gender").hasError("required")),d.Eb(6),d.rc("ngIf",r.applicant.get("placeOfBirth").hasError("required")),d.Eb(7),d.rc("ngIf",r.currencyCode),d.Eb(5),d.rc("ngForOf",r.arrayCountry),d.Eb(1),d.rc("ngIf",r.applicant.get("nationality").hasError("required")),d.Eb(6),d.rc("ngForOf",r.maritalStatusList),d.Eb(6),d.rc("ngIf",r.applicant.get("occupationType").hasError("required")),d.Eb(6),d.rc("ngIf",r.applicant.get("idNumber").touched&&!r.applicant.get("idNumber").valid),d.Eb(13),d.rc("ngIf",r.applicant.get("address1").hasError("required")),d.Eb(1),d.rc("ngIf",r.applicant.get("address1").touched&&r.applicant.get("address1").hasError("pattern")),d.Eb(6),d.rc("ngForOf",r.arrayAddressType),d.Eb(1),d.rc("ngIf",r.applicant.get("addressType").hasError("required")),d.Eb(6),d.rc("ngForOf",r.arrayState),d.Eb(1),d.rc("ngIf",r.applicant.get("state").hasError("required")),d.Eb(6),d.rc("ngIf",r.applicant.get("zipCode").hasError("required")&&!r.applicant.controls.zipCode.valid&&(null==r.applicant.controls.zipCode?null:r.applicant.controls.zipCode.touched)),d.Eb(1),d.rc("ngIf",r.isAllSameDigitVal),d.Eb(7),d.rc("ngIf",r.applicant.get("address2").hasError("required")),d.Eb(1),d.rc("ngIf",r.applicant.get("address2").touched&&r.applicant.get("address2").hasError("pattern")),d.Eb(7),d.rc("ngIf",r.editCountryCode),d.Eb(2),d.rc("ngForOf",r.arrayCountry),d.Eb(1),d.rc("ngIf",r.applicant.get("country").hasError("required")),d.Eb(6),d.rc("ngForOf",r.arrayCity),d.Eb(1),d.rc("ngIf",r.applicant.get("city").hasError("required")),d.Eb(13),d.rc("ngIf",r.applicant.get("phoneNumber").hasError("required")),d.Eb(1),d.rc("ngIf",r.applicant.get("phoneNumber").hasError("pattern")),d.Eb(1),d.rc("ngIf","0000000000"==r.applicant.get("phoneNumber").value),d.Eb(6),d.rc("ngIf",r.applicant.get("primaryEmailAdress").hasError("required")),d.Eb(7),d.rc("ngIf",r.applicant.get("landlineNumber").hasError("pattern")),d.Eb(1),d.rc("ngIf","0000000000"==r.applicant.get("landlineNumber").value),d.Eb(2),d.rc("disabled",r.applicant.invalid)}}function Ge(t,e){if(1&t&&(d.Xb(0,"mat-expansion-panel",40),d.Xb(1,"mat-expansion-panel-header"),d.Xb(2,"mat-panel-title"),d.Xb(3,"mat-icon",41),d.Tc(4,"check_circle"),d.Wb(),d.Xb(5,"span",42),d.Tc(6),d.Wb(),d.Wb(),d.Wb(),d.Xb(7,"mat-card"),d.Xb(8,"mat-card-header",43),d.Xb(9,"div",44),d.Sb(10,"app-avatar-photo",45),d.Wb(),d.Xb(11,"mat-card-title"),d.Xb(12,"div",1),d.Xb(13,"h6",46),d.Tc(14),d.Wb(),d.Sb(15,"span",47),d.Rc(16,zt,2,3,"mat-chip",48),d.Wb(),d.Wb(),d.Xb(17,"mat-card-subtitle"),d.Xb(18,"span",49),d.Tc(19),d.Wb(),d.Wb(),d.Xb(20,"div",50),d.Xb(21,"span",51),d.Rc(22,Gt,4,0,"ng-container",22),d.Rc(23,Ht,3,0,"ng-template",null,52,d.Sc),d.Rc(25,Yt,3,0,"a",53),d.Wb(),d.Wb(),d.Wb(),d.Xb(26,"mat-card-container"),d.Rc(27,Kt,2,4,"ng-container",20),d.Rc(28,ze,231,55,"ng-template",null,54,d.Sc),d.Wb(),d.Wb(),d.Wb()),2&t){const t=e.$implicit,r=e.index,i=d.Dc(24),a=d.jc(2);d.Eb(6),d.Vc("Applicant ",r+1,""),d.Eb(4),d.rc("name",t.firstName+" "+t.lastName),d.Eb(4),d.Uc(t.firstName+" "+t.lastName),d.Eb(2),d.rc("ngIf",t.primaryCustomer),d.Eb(3),d.Vc("CIF ",null!=t.cifNumber?"#"+t.cifNumber:"- n/a",""),d.Eb(3),d.rc("ngIf",(null==a.selectedApplicant?null:a.selectedApplicant._id)===t._id)("ngIfElse",i),d.Eb(3),d.rc("ngIf",t.dependentId),d.Eb(2),d.rc("ngIf",(null==a.selectedApplicant?null:a.selectedApplicant._id)===t._id)}}function He(t,e){1&t&&(d.Xb(0,"mat-icon",127),d.Tc(1,"check_circle"),d.Wb())}function Ye(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," CIF Number is Required! "),d.Wb())}function $e(t,e){1&t&&(d.Xb(0,"mat-hint",128),d.Tc(1,"Duplicate CIF Number"),d.Wb())}function Qe(t,e){1&t&&(d.Xb(0,"mat-hint",129),d.Tc(1," Enter valid CIF Number!"),d.Wb())}function Ke(t,e){if(1&t&&(d.Xb(0,"div",137),d.Xb(1,"h3",138),d.Tc(2),d.kc(3,"uppercase"),d.kc(4,"slice"),d.kc(5,"uppercase"),d.kc(6,"slice"),d.Wb(),d.Wb()),2&t){const t=d.jc().$implicit;d.Eb(2),d.Wc(" ",d.lc(3,2,d.nc(4,4,null==t?null:t.firstName,0,1)),"",d.lc(5,8,d.nc(6,10,null==t?null:t.lastName,0,1))," ")}}function Je(t,e){if(1&t&&(d.Xb(0,"div",139),d.Sb(1,"img",140),d.Wb()),2&t){const t=d.jc().$implicit;d.Eb(1),d.rc("src",null==t?null:t.profileImage,d.Jc)}}function Ze(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Xb(1,"div",130),d.Xb(2,"div",131),d.Rc(3,Ke,7,14,"div",132),d.Rc(4,Je,2,1,"div",133),d.Xb(5,"div",134),d.Xb(6,"h5",135),d.Tc(7),d.kc(8,"uppercase"),d.kc(9,"uppercase"),d.kc(10,"uppercase"),d.Wb(),d.Xb(11,"h6",136),d.Tc(12),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t.customerId),d.Eb(3),d.rc("ngIf","not_available"==(null==t?null:t.profileImage)),d.Eb(1),d.rc("ngIf","not_available"!=(null==t?null:t.profileImage)),d.Eb(3),d.Xc(" ",d.lc(8,7,null==t?null:t.firstName)," ",d.lc(9,9,null==t?null:t.middleName)," ",d.lc(10,11,null==t?null:t.lastName)," "),d.Eb(5),d.Vc("#",null==t?null:t.cifNumber,"")}}function tr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," First Name is Required! "),d.Wb())}function er(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Last Name is Required! "),d.Wb())}function rr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Date of Birth is Required! "),d.Wb())}function ir(t,e){if(1&t&&d.Sb(0,"div"),2&t){const t=d.jc(3);d.Hb("currency-flag currency-flag-",t.birthCountryFlag,"")}}function ar(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function nr(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function or(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Resident Status is Required! "),d.Wb())}function cr(t,e){if(1&t&&d.Sb(0,"div"),2&t){const t=d.jc(3);d.Hb("currency-flag currency-flag-",t.ResideceCurrency,"")}}function sr(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function lr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Country of Residence is Required! "),d.Wb())}function dr(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function br(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," ID Type is Required! "),d.Wb())}function ur(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," ID Type Valid Till is Required! "),d.Wb())}function mr(t,e){if(1&t&&(d.Xb(0,"div",15),d.Xb(1,"mat-form-field",16),d.Xb(2,"mat-label"),d.Tc(3,"ID Type Valid Till "),d.Wb(),d.Sb(4,"input",78),d.Sb(5,"mat-datepicker-toggle",67),d.Rc(6,ur,2,0,"mat-error",20),d.Wb(),d.Sb(7,"mat-datepicker",null,79),d.Wb()),2&t){const t=d.Dc(8),e=d.jc(3);d.Eb(4),d.rc("required","Aadhar card"!==e.applicant.get("idType").value)("matDatepicker",t)("min",e.validDate),d.Eb(1),d.rc("for",t),d.Eb(1),d.rc("ngIf",e.applicant.get("expiryDate").hasError("required"))}}function pr(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",15),d.Xb(1,"label"),d.Tc(2,"Is the applicant a primary customer?"),d.Wb(),d.Tc(3," \xa0\xa0 "),d.Xb(4,"mat-slide-toggle",141),d.fc("ngModelChange",function(e){return d.Hc(t),d.jc(3).isChecked=e}),d.Wb(),d.Sb(5,"div",63),d.Wb()}if(2&t){const t=d.jc(3);d.Eb(4),d.rc("ngModel",t.isChecked)("disabled",0==t.listOfAccounts.length)}}function gr(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function hr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Prefix is Required! "),d.Wb())}function fr(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function yr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Gender is Required! "),d.Wb())}function vr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Birth Place is Required! "),d.Wb())}function Cr(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function xr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Citizenship By is Required! "),d.Wb())}function Wr(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc("",t," ")}}function Xr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Occupation Type is Required! "),d.Wb())}function Ir(t,e){1&t&&(d.Xb(0,"div"),d.Tc(1,"Unique ID is Required!"),d.Wb())}function Sr(t,e){1&t&&(d.Xb(0,"div"),d.Tc(1,"This is a alphanumeric field "),d.Wb())}function Or(t,e){if(1&t&&(d.Xb(0,"mat-error"),d.Rc(1,Ir,2,0,"div",20),d.Rc(2,Sr,2,0,"div",20),d.Wb()),2&t){const t=d.jc(3);d.Eb(1),d.rc("ngIf",t.applicant.get("idNumber").hasError("required")),d.Eb(1),d.rc("ngIf",t.applicant.get("idNumber").hasError("pattern"))}}function Dr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Address Line 1 is Required! "),d.Wb())}function Tr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Enter Valid Address "),d.Wb())}function Ar(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function kr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Residence Type is Required! "),d.Wb())}function Er(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t.stateName),d.Eb(1),d.Vc("",t.stateName," ")}}function _r(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," State is Required! "),d.Wb())}function wr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Zip code is required! "),d.Wb())}function Pr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1,"Please enter valid Zip Code!(5-10 digits)"),d.Wb())}function Nr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Address Line 2 is Required! "),d.Wb())}function Rr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Enter Valid Address "),d.Wb())}function Fr(t,e){if(1&t&&d.Sb(0,"div"),2&t){const t=d.jc(3);d.Hb("currency-flag currency-flag-",t.countryCode,"")}}function Mr(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function Lr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Country is Required! "),d.Wb())}function Vr(t,e){if(1&t&&(d.Xb(0,"mat-option",38),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t.value1),d.Eb(1),d.Vc("",t.value1," ")}}function Br(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," City is Required! "),d.Wb())}function jr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Mobile Number is Required! "),d.Wb())}function qr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please, Enter 10 digit Mobile Number! "),d.Wb())}function Ur(t,e){1&t&&(d.Xb(0,"mat-error",105),d.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),d.Wb())}function zr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," E-mail is Required! "),d.Wb())}function Gr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1,' "Please Enter Valid Email" '),d.Wb())}function Hr(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please, Enter 10 digit Landline Number! "),d.Wb())}function Yr(t,e){1&t&&(d.Xb(0,"mat-error",105),d.Tc(1," \xa0 \xa0 Please Enter Correct Landline Number "),d.Wb())}function $r(t,e){if(1&t&&(d.Xb(0,"a",142),d.Sb(1,"mat-icon"),d.Tc(2," SAVE APPLICANT "),d.Wb()),2&t){const t=d.jc(3);d.rc("disabled",t.applicant.invalid||t.isDuplicateCIF)}}function Qr(t,e){if(1&t){const t=d.Yb();d.Xb(0,"a",143),d.fc("click",function(){return d.Hc(t),d.jc(3).onSubmit()}),d.Sb(1,"mat-icon"),d.Tc(2," SAVE APPLICANT "),d.Wb()}}function Kr(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",106),d.Xb(1,"mat-accordion"),d.Xb(2,"mat-expansion-panel",107),d.Xb(3,"mat-expansion-panel-header",108),d.Xb(4,"mat-panel-title",109),d.Tc(5,"Create Applicant 2"),d.Wb(),d.Wb(),d.Sb(6,"mat-divider",110),d.Xb(7,"div",61),d.Xb(8,"div",15),d.Xb(9,"label"),d.Tc(10,"Is the applicant an existing customer? "),d.Wb(),d.Tc(11," \xa0\xa0 "),d.Xb(12,"mat-slide-toggle",111),d.fc("change",function(e){return d.Hc(t),d.jc(2).toggleChanges(e)}),d.Wb(),d.Sb(13,"div",63),d.Wb(),d.Xb(14,"div",13),d.Xb(15,"div",14),d.Xb(16,"div",15),d.Xb(17,"div",112),d.Xb(18,"div",113),d.Xb(19,"mat-form-field",16),d.Xb(20,"mat-label"),d.Tc(21,"CIF Number"),d.Wb(),d.Xb(22,"input",114),d.fc("keypress",function(e){return d.Hc(t),d.jc(2)._keyPress(e)})("change",function(){d.Hc(t);const e=d.jc(2);return e.fetchByCif(e.applicant.get("cifNumber").value,e.applicant.get("existingCustomer").value)})("keyup",function(e){return d.Hc(t),d.jc(2).onKeyPress(e)}),d.Wb(),d.Rc(23,He,2,0,"mat-icon",115),d.Rc(24,Ye,2,0,"mat-error",20),d.Rc(25,$e,2,0,"mat-hint",116),d.Rc(26,Qe,2,0,"mat-hint",117),d.Wb(),d.Wb(),d.Xb(27,"div"),d.Xb(28,"mat-autocomplete",118,119),d.Rc(30,Ze,13,13,"mat-option",19),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(31,"div",15),d.Xb(32,"mat-form-field",16),d.Xb(33,"mat-label"),d.Tc(34,"First Name *"),d.Wb(),d.Xb(35,"input",81),d.fc("keypress",function(e){return d.Hc(t),d.jc(2).letterOnly(e)}),d.Wb(),d.Rc(36,tr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(37,"div",15),d.Xb(38,"mat-form-field",16),d.Xb(39,"mat-label"),d.Tc(40,"Last Name *"),d.Wb(),d.Xb(41,"input",82),d.fc("keypress",function(e){return d.Hc(t),d.jc(2).letterOnly(e)}),d.Wb(),d.Rc(42,er,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(43,"div",15),d.Xb(44,"mat-form-field",16),d.Xb(45,"mat-label"),d.Tc(46,"Date of Birth *"),d.Wb(),d.Sb(47,"input",66),d.Sb(48,"mat-datepicker-toggle",67),d.Rc(49,rr,2,0,"mat-error",20),d.Wb(),d.Sb(50,"mat-datepicker",null,68),d.Wb(),d.Xb(52,"div",15),d.Xb(53,"mat-form-field",16),d.Xb(54,"mat-label"),d.Tc(55,"Birth Country"),d.Wb(),d.Xb(56,"div",70),d.Xb(57,"div",71),d.Rc(58,ir,1,3,"div",72),d.Wb(),d.Wb(),d.Xb(59,"mat-select",73),d.fc("selectionChange",function(e){return d.Hc(t),d.jc(2).onBirthCountry(e.value)}),d.Rc(60,ar,2,2,"mat-option",19),d.Wb(),d.Wb(),d.Wb(),d.Xb(61,"div",15),d.Xb(62,"mat-form-field",16),d.Xb(63,"mat-label"),d.Tc(64,"Resident Status *"),d.Wb(),d.Xb(65,"mat-select",74),d.Rc(66,nr,2,2,"mat-option",19),d.Wb(),d.Rc(67,or,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(68,"div",15),d.Xb(69,"mat-form-field",16),d.Xb(70,"mat-label"),d.Tc(71,"Country of Residence"),d.Wb(),d.Xb(72,"div",70),d.Xb(73,"div",71),d.Rc(74,cr,1,3,"div",72),d.Wb(),d.Wb(),d.Xb(75,"mat-select",75),d.fc("selectionChange",function(e){return d.Hc(t),d.jc(2).onOtherSelectionResidance(e.value)}),d.Xb(76,"mat-option",76),d.Tc(77,"--Select--"),d.Wb(),d.Rc(78,sr,2,2,"mat-option",19),d.Wb(),d.Rc(79,lr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(80,"div",15),d.Xb(81,"mat-form-field",16),d.Xb(82,"mat-label"),d.Tc(83,"ID Type *"),d.Wb(),d.Xb(84,"mat-select",77),d.fc("selectionChange",function(){d.Hc(t);const e=d.jc(2);return e.changeIdType(e.applicant.get("idType").value)}),d.Rc(85,dr,2,2,"mat-option",19),d.Wb(),d.Rc(86,br,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Rc(87,mr,9,5,"div",120),d.Wb(),d.Xb(88,"div",21),d.Rc(89,pr,6,2,"div",121),d.Xb(90,"div",null,122),d.Xb(92,"label"),d.Tc(93,"\xa0"),d.Wb(),d.Wb(),d.Xb(94,"div"),d.Xb(95,"mat-form-field",16),d.Xb(96,"mat-label"),d.Tc(97,"Customer Prefix *"),d.Wb(),d.Xb(98,"mat-select",64),d.Rc(99,gr,2,2,"mat-option",19),d.Wb(),d.Rc(100,hr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(101,"div",123),d.Xb(102,"mat-form-field",16),d.Xb(103,"mat-label"),d.Tc(104,"Middle Name"),d.Wb(),d.Xb(105,"input",65),d.fc("keypress",function(e){return d.Hc(t),d.jc(2).letterOnly(e)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(106,"div",15),d.Xb(107,"mat-form-field",16),d.Xb(108,"mat-label"),d.Tc(109,"Gender *"),d.Wb(),d.Xb(110,"mat-select",83),d.Rc(111,fr,2,2,"mat-option",19),d.Wb(),d.Rc(112,yr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(113,"div",15),d.Xb(114,"mat-form-field",16),d.Xb(115,"mat-label"),d.Tc(116,"Birth Place *"),d.Wb(),d.Sb(117,"input",84),d.Rc(118,vr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(119,"div",15),d.Xb(120,"mat-form-field",16),d.Xb(121,"mat-label"),d.Tc(122,"Citizenship By"),d.Wb(),d.Xb(123,"div",70),d.Xb(124,"div",71),d.Sb(125,"div"),d.Wb(),d.Wb(),d.Xb(126,"div",2),d.Xb(127,"mat-select",86),d.fc("selectionChange",function(e){return d.Hc(t),d.jc(2).onSelectionCitizionship1(e.value)}),d.Xb(128,"mat-option",76),d.Tc(129,"--Select--"),d.Wb(),d.Rc(130,Cr,2,2,"mat-option",19),d.Wb(),d.Wb(),d.Rc(131,xr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(132,"div",15),d.Xb(133,"mat-form-field",16),d.Xb(134,"mat-label"),d.Tc(135,"Marital Status"),d.Wb(),d.Xb(136,"mat-select",87),d.Rc(137,Wr,2,2,"mat-option",19),d.Wb(),d.Wb(),d.Wb(),d.Xb(138,"div",15),d.Xb(139,"mat-form-field",16),d.Xb(140,"mat-label"),d.Tc(141,"Occupation Type *"),d.Wb(),d.Xb(142,"input",88),d.fc("keypress",function(e){return d.Hc(t),d.jc(2).letterOnly(e)}),d.Wb(),d.Rc(143,Xr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(144,"div",15),d.Xb(145,"mat-form-field",16),d.Xb(146,"mat-label"),d.Tc(147,"Unique ID *"),d.Wb(),d.Xb(148,"input",124),d.fc("keypress",function(e){return d.Hc(t),d.jc(2).keyPressAlphanumeric(e)}),d.Wb(),d.Rc(149,Or,3,2,"mat-error",20),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(150,"mat-accordion"),d.Xb(151,"mat-expansion-panel",40),d.Xb(152,"mat-expansion-panel-header"),d.Xb(153,"mat-panel-title"),d.Tc(154,"Communication Address "),d.Wb(),d.Wb(),d.Xb(155,"div",13),d.Xb(156,"div",14),d.Xb(157,"div",15),d.Xb(158,"mat-form-field",16),d.Xb(159,"mat-label"),d.Tc(160,"Address Line 1 *"),d.Wb(),d.Sb(161,"textarea",91),d.Rc(162,Dr,2,0,"mat-error",20),d.Rc(163,Tr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(164,"div",15),d.Xb(165,"mat-form-field",16),d.Xb(166,"mat-label"),d.Tc(167,"Residence Type *"),d.Wb(),d.Xb(168,"mat-select",92),d.Rc(169,Ar,2,2,"mat-option",19),d.Wb(),d.Rc(170,kr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(171,"div",15),d.Xb(172,"mat-form-field",16),d.Xb(173,"mat-label"),d.Tc(174,"State *"),d.Wb(),d.Xb(175,"mat-select",93),d.fc("selectionChange",function(e){return d.Hc(t),d.jc(2).getCityName(e.value)}),d.Rc(176,Er,2,2,"mat-option",19),d.Wb(),d.Rc(177,_r,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(178,"div",15),d.Xb(179,"mat-form-field",16),d.Xb(180,"mat-label"),d.Tc(181,"Zip Code *"),d.Wb(),d.Xb(182,"input",94),d.fc("keypress",function(e){return d.Hc(t),d.jc(2).onKeyPress1(e)})("keyup",function(e){return d.Hc(t),d.jc(2).isAllSameDigit(e)}),d.Wb(),d.Wb(),d.Rc(183,wr,2,0,"mat-error",20),d.Rc(184,Pr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(185,"div",21),d.Xb(186,"div",15),d.Xb(187,"mat-form-field",16),d.Xb(188,"mat-label"),d.Tc(189,"Address Line 2 *"),d.Wb(),d.Sb(190,"textarea",96),d.Rc(191,Nr,2,0,"mat-error",20),d.Rc(192,Rr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(193,"div",15),d.Xb(194,"mat-form-field",16),d.Xb(195,"mat-label"),d.Tc(196,"Country *"),d.Wb(),d.Xb(197,"div",70),d.Xb(198,"div",71),d.Rc(199,Fr,1,3,"div",72),d.Wb(),d.Wb(),d.Xb(200,"mat-select",97),d.fc("selectionChange",function(e){return d.Hc(t),d.jc(2).getStateName(e.value)})("selectionChange",function(e){return d.Hc(t),d.jc(2).getCityName(e.value)})("selectionChange",function(e){return d.Hc(t),d.jc(2).getCountrySelection(e.value)}),d.Rc(201,Mr,2,2,"mat-option",19),d.Wb(),d.Rc(202,Lr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Xb(203,"div",15),d.Xb(204,"mat-form-field",16),d.Xb(205,"mat-label"),d.Tc(206,"City * "),d.Wb(),d.Xb(207,"mat-select",98),d.Rc(208,Vr,2,2,"mat-option",19),d.Wb(),d.Rc(209,Br,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(210,"mat-accordion"),d.Xb(211,"mat-expansion-panel",40),d.Xb(212,"mat-expansion-panel-header"),d.Xb(213,"mat-panel-title"),d.Tc(214,"Contact Information "),d.Wb(),d.Wb(),d.Xb(215,"div",13),d.Xb(216,"div",14),d.Xb(217,"div",15),d.Xb(218,"mat-form-field",16),d.Xb(219,"mat-label"),d.Tc(220,"Mobile Number *"),d.Wb(),d.Xb(221,"input",99),d.fc("keypress",function(e){return d.Hc(t),d.jc(2).onKeyPress1(e)}),d.Wb(),d.Rc(222,jr,2,0,"mat-error",20),d.Rc(223,qr,2,0,"mat-error",20),d.Wb(),d.Rc(224,Ur,2,0,"mat-error",100),d.Wb(),d.Xb(225,"div",15),d.Xb(226,"mat-form-field",16),d.Xb(227,"mat-label"),d.Tc(228,"E-mail *"),d.Wb(),d.Sb(229,"input",101),d.Rc(230,zr,2,0,"mat-error",20),d.Rc(231,Gr,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Wb(),d.Xb(232,"div",21),d.Xb(233,"div",15),d.Xb(234,"mat-form-field",16),d.Xb(235,"mat-label"),d.Tc(236,"Landline Number "),d.Wb(),d.Xb(237,"input",102),d.fc("keypress",function(e){return d.Hc(t),d.jc(2).onKeyPress1(e)}),d.Wb(),d.Rc(238,Hr,2,0,"mat-error",20),d.Wb(),d.Rc(239,Yr,2,0,"mat-error",100),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Sb(240,"div",15),d.Xb(241,"div",15),d.Rc(242,$r,3,1,"a",125),d.Rc(243,Qr,3,0,"ng-template",null,126,d.Sc),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){const t=d.Dc(29),e=d.Dc(51),r=d.Dc(91),i=d.Dc(244),a=d.jc(2);d.Eb(2),d.rc("expanded",a.cardCustomerForm.get("numOfApplicants").value!==a.listOfAccounts.length),d.Eb(10),d.rc("disabled",0==a.listOfAccounts.length),d.Eb(10),d.rc("formControl",a.cifNumberForm)("matAutocomplete",t)("readonly",1!=a.applicant.get("existingCustomer").value),d.Eb(1),d.rc("ngIf",a.isCifValid),d.Eb(1),d.rc("ngIf",a.applicant.get("cifNumber").hasError("required")&&!a.isCifValid),d.Eb(1),d.rc("ngIf",a.isDuplicateCIF),d.Eb(1),d.rc("ngIf",!a.isCifValid&&a.onbackSpace),d.Eb(4),d.rc("ngForOf",a.listOfCustByCif),d.Eb(6),d.rc("ngIf",a.applicant.get("firstName").hasError("required")),d.Eb(6),d.rc("ngIf",a.applicant.get("lastName").hasError("required")),d.Eb(5),d.rc("matDatepicker",e)("max",a.tomorrow)("max",a.maxDate),d.Eb(1),d.rc("for",e),d.Eb(1),d.rc("ngIf",a.applicant.get("dateOfBirth").hasError("required")),d.Eb(7),d.Oc("display",null==a.birthCountryFlag?"none":""),d.Eb(2),d.rc("ngIf",a.isBirthCountry),d.Eb(2),d.rc("ngForOf",a.arrayCountry),d.Eb(6),d.rc("ngForOf",a.arrayResidence),d.Eb(1),d.rc("ngIf",a.applicant.get("residenceStatus").hasError("required")),d.Eb(7),d.rc("ngIf",a.isResidency),d.Eb(4),d.rc("ngForOf",a.arrayCountry),d.Eb(1),d.rc("ngIf",a.applicant.get("countryOfResidence").hasError("required")),d.Eb(6),d.rc("ngForOf",a.arrayDocumentType),d.Eb(1),d.rc("ngIf",a.applicant.get("idType").hasError("required")),d.Eb(1),d.rc("ngIf",a.showExpiryDate&&"Aadhar card"!==a.applicant.get("idType").value),d.Eb(2),d.rc("ngIf",0==a.listOfAccounts.length)("ngIfElse",r),d.Eb(10),d.rc("ngForOf",a.arrayPrefix),d.Eb(1),d.rc("ngIf",a.applicant.get("prefix").hasError("required")),d.Eb(11),d.rc("ngForOf",a.arrayGender),d.Eb(1),d.rc("ngIf",a.applicant.get("gender").hasError("required")),d.Eb(6),d.rc("ngIf",a.applicant.get("placeOfBirth").hasError("required")),d.Eb(6),d.Oc("display",null==a.currency?"none":""),d.Eb(1),d.Hb("currency-flag currency-flag-",a.currency,""),d.Eb(5),d.rc("ngForOf",a.arrayCountry),d.Eb(1),d.rc("ngIf",a.applicant.get("nationality").hasError("required")),d.Eb(6),d.rc("ngForOf",a.maritalStatusList),d.Eb(6),d.rc("ngIf",a.applicant.get("occupationType").hasError("required")),d.Eb(6),d.rc("ngIf",a.applicant.get("idNumber").touched&&!a.applicant.get("idNumber").valid),d.Eb(13),d.rc("ngIf",a.applicant.get("address1").hasError("required")),d.Eb(1),d.rc("ngIf",a.applicant.get("address1").touched&&a.applicant.get("address1").hasError("pattern")),d.Eb(6),d.rc("ngForOf",a.arrayAddressType),d.Eb(1),d.rc("ngIf",a.applicant.get("addressType").hasError("required")),d.Eb(6),d.rc("ngForOf",a.arrayState),d.Eb(1),d.rc("ngIf",a.applicant.get("state").hasError("required")),d.Eb(6),d.rc("ngIf",a.applicant.get("zipCode").hasError("required")&&!a.applicant.controls.zipCode.valid&&(null==a.applicant.controls.zipCode?null:a.applicant.controls.zipCode.touched)),d.Eb(1),d.rc("ngIf",null==a.applicant.get("zipCode").errors?null:a.applicant.get("zipCode").errors.pattern),d.Eb(7),d.rc("ngIf",a.applicant.get("address2").hasError("required")),d.Eb(1),d.rc("ngIf",a.applicant.get("address2").touched&&a.applicant.get("address2").hasError("pattern")),d.Eb(7),d.rc("ngIf",a.isCountry),d.Eb(2),d.rc("ngForOf",a.arrayCountry),d.Eb(1),d.rc("ngIf",a.applicant.get("country").hasError("required")),d.Eb(6),d.rc("ngForOf",a.arrayCity),d.Eb(1),d.rc("ngIf",a.applicant.get("city").hasError("required")),d.Eb(13),d.rc("ngIf",a.applicant.get("phoneNumber").hasError("required")),d.Eb(1),d.rc("ngIf",a.applicant.get("phoneNumber").hasError("pattern")),d.Eb(1),d.rc("ngIf","0000000000"==a.applicant.get("phoneNumber").value),d.Eb(6),d.rc("ngIf",a.applicant.get("primaryEmailAdress").hasError("required")),d.Eb(1),d.rc("ngIf",(null==a.applicant.get("primaryEmailAdress").errors?null:a.applicant.get("primaryEmailAdress").errors.email)||(null==a.applicant.get("primaryEmailAdress").errors?null:a.applicant.get("primaryEmailAdress").errors.pattern)),d.Eb(7),d.rc("ngIf",a.applicant.get("landlineNumber").hasError("pattern")),d.Eb(1),d.rc("ngIf","0000000000"==a.applicant.get("landlineNumber").value),d.Eb(3),d.rc("ngIf",a.applicant.invalid||a.isDuplicateCIF||a.disableSaveBtn)("ngIfElse",i)}}function Jr(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",144),d.fc("click",function(){return d.Hc(t),d.jc(2).goToNext()}),d.Tc(2," Next "),d.Wb(),d.Ub()}if(2&t){const t=d.jc(2);d.Eb(1),d.rc("disabled",t.cardCustomerForm.get("numOfApplicants").value===t.listOfAccounts.length?"false":"true")}}function Zr(t,e){if(1&t){const t=d.Yb();d.Xb(0,"button",144),d.fc("click",function(){return d.Hc(t),d.jc(2).goToNext()}),d.Tc(1," Next "),d.Wb()}if(2&t){const t=d.jc(2);d.rc("disabled",t.cardCustomerForm.get("numOfApplicants").value!==t.listOfAccounts.length||t.cardCustomerForm.invalid&&null!==t.selectedApplicant)}}function ti(t,e){if(1&t){const t=d.Yb();d.Xb(0,"form",12),d.Xb(1,"div",13),d.Xb(2,"div",14),d.Xb(3,"div",15),d.Xb(4,"mat-form-field",16),d.Xb(5,"mat-label"),d.Tc(6,"Ownership"),d.Wb(),d.Xb(7,"mat-select",17),d.Xb(8,"mat-option",18),d.Tc(9,"Select"),d.Wb(),d.Rc(10,jt,2,2,"mat-option",19),d.Wb(),d.Rc(11,qt,2,0,"mat-error",20),d.Wb(),d.Wb(),d.Wb(),d.Xb(12,"div",21),d.Xb(13,"div",15),d.Rc(14,Ut,15,5,"ng-container",22),d.Wb(),d.Wb(),d.Wb(),d.Xb(15,"div",1),d.Xb(16,"div",21),d.Xb(17,"div",23),d.Xb(18,"h2"),d.Tc(19,"Details Of the Applicant"),d.Wb(),d.Wb(),d.Wb(),d.Xb(20,"div",24),d.Xb(21,"div",23),d.Xb(22,"p",25),d.Tc(23),d.Wb(),d.Sb(24,"mat-progress-bar",26),d.Xb(25,"mat-hint"),d.Xb(26,"small"),d.Tc(27," completed / total applicants "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(28,"div",13),d.Xb(29,"div",27),d.Xb(30,"div",28),d.Xb(31,"div",15),d.Xb(32,"label",29),d.Tc(33,"Add on CardHolder"),d.Wb(),d.Xb(34,"mat-slide-toggle",30),d.fc("change",function(e){return d.Hc(t),d.jc().goToggle(e)}),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(35,"div",31),d.Xb(36,"mat-accordion",32),d.Rc(37,Ge,30,9,"mat-expansion-panel",33),d.Wb(),d.Wb(),d.Rc(38,Kr,245,70,"div",34),d.Xb(39,"div",35),d.Xb(40,"button",36),d.fc("click",function(){return d.Hc(t),d.jc().goBack()}),d.Tc(41," Back "),d.Wb(),d.Rc(42,Jr,3,1,"ng-container",22),d.Rc(43,Zr,2,1,"ng-template",null,37,d.Sc),d.Wb(),d.Wb()}if(2&t){const t=d.Dc(44),e=d.jc();d.rc("formGroup",e.cardCustomerForm),d.Eb(10),d.rc("ngForOf",e.arrayOwnership),d.Eb(1),d.rc("ngIf",e.cardCustomerForm.get("ownership").hasError("required")),d.Eb(3),d.rc("ngIf","Joint"==e.cardCustomerForm.get("ownership").value)("ngIfElse",e.showAdd),d.Eb(9),d.Wc("Completed ",e.listOfAccounts.length," / ",e.cardCustomerForm.get("numOfApplicants").value,""),d.Eb(1),d.rc("color",e.cardCustomerForm.get("numOfApplicants").value===e.listOfAccounts.length?"primary":"accent")("value",e.cardCustomerForm.get("numOfApplicants").value===e.listOfAccounts.length?100:50),d.Eb(13),d.rc("ngForOf",e.listOfAccounts),d.Eb(1),d.rc("ngIf",null==e.selectedApplicant&&e.cardCustomerForm.get("numOfApplicants").value!==e.listOfAccounts.length),d.Eb(4),d.rc("ngIf","Joint"==e.cardCustomerForm.get("ownership").value)("ngIfElse",t)}}let ei=(()=>{class t{constructor(t,e,r,i,a,n,o,c,l,d,b,u,m,p,g,h){this.router=t,this.dialog=e,this.route=r,this.accountService=i,this.elRef=a,this.renderer=n,this.ls=o,this.apiService=c,this.formBuilder=l,this.confirmService=d,this.cdr=b,this.appApiService=u,this.snack=m,this.dataService=p,this.urlService=g,this.loader=h,this.cifNumberForm=new s.g,this.listOfCustByCif=[],this.submitted=!1,this.formData={},this.console=console,this.customerIdProofs=[],this.selfNextBtnDisabled=!0,this.arrayPrefix=[],this.arrayGender=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayAddressType=[],this.applicantDetailsArray=[],this.toggle=!1,this.customerDetails={},this.applicantDetails=[],this.showEditOption=!1,this.tomorrow=new Date,this.maxDate=new Date,this.minDate=new Date,this.validDate=new Date,this.showNewForm=!0,this.isCifValid=!1,this.toggleClick=!1,this.isCustomerDone=!1,this.previousUrl="",this.addOnCard=!1,this.addFunc=!0,this.removedButton=!1,this.selectedApplicant=null,this.listOfAccounts=[],this.isAllSameDigitVal=!1,this.isResidency=!1,this.isCurrency=!1,this.addonCardValue=!1,this.isBirthCountry=!1,this.isCountry=!1,this.showExpiryDate=!0,this.tomorrow.setDate(this.tomorrow.getDate()),this.validDate.setDate(this.validDate.getDate())}ngOnInit(){this.console.log(this.i),this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.isCustomerDone=JSON.parse(this.ls.getItem("Card_Customer_Done")),this.addOnCard=this.ls.getItem("ADD_ON_CARD")||!1,console.log("ADD_ON_CARD",this.addOnCard),this.cifNumberPrimary=this.ls.getItem("Card_CIF_NUM_PRIMARY"),this.buildCustomerForm(),this.getListOfAccounts(),this.getOwnershipValue("ownership"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getAdressType("address_type"),this.getDocumentType("document_type"),this.getMaritalStatus("maritial_Status"),this.isChecked=!0,this.disabled=!1,this.disabledToggle=!0,1==this.addOnCard&&this.goToggle("event"),null!=this.cardId&&this.isCustomerDone?(this.showEditOption=!0,this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(t=>{this.buildCustomerForm(t)},t=>{}),this.getListOfAccounts(),this.dataExtracted()):(this.showEditOption=!1,this.subscription=this.apiService.getaccParam.subscribe(t=>{console.log("data::",t),this.dispResponse=t,this.customerIdProofs=t.custIdProofs})),this.cardCustomerForm.get("ownership").valueChanges.subscribe(t=>{console.log("ownership ?",t),"Joint"==t?(this.cardCustomerForm.get("addOnCard").patchValue(!0),this.ls.setItem("ADD_ON_CARD",!0),this.cardCustomerForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}),this.cardCustomerForm.get("applicantDetails").reset(),this.disabled=!1,console.log("this.cardCustomerForm.get('numOfApplicants')",this.cardCustomerForm.get("numOfApplicants"))):(this.cardCustomerForm.get("addOnCard").patchValue(!1),this.ls.setItem("ADD_ON_CARD",!1),this.cardCustomerForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1}))}),this.cardCustomerForm.get("numOfApplicants").valueChanges.subscribe(t=>{console.log("ownership ?",t),1==t?(this.cardCustomerForm.get("ownership").patchValue("Self",{onlySelf:!0,emitEvent:!1}),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0)):(this.cardCustomerForm.get("ownership").patchValue("Joint",{onlySelf:!0,emitEvent:!1}),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!1),this.disabled=!1)}),console.log(this.cardCustomerForm)}dataExtracted(){this.ownershipStatus=this.ls.getItem("cardownership_value"),console.log("ownership ?",this.ownershipStatus),"Joint"==this.ownershipStatus?(console.log("calling"),this.cardCustomerForm.get("numOfApplicants").setValue(2)):this.cardCustomerForm.get("numOfApplicants").setValue(1),this.noOfapplicants=this.ls.getItem("CardNoOfApplicants"),this.console.log(this.noOfapplicants),1==this.noOfapplicants?this.cardCustomerForm.get("ownership").setValue("Self"):this.cardCustomerForm.get("ownership").setValue("Joint"),this.applicant.get("idType").valueChanges.pipe(Object(wt.a)()).subscribe(([t,e])=>{this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue("")}),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t}),this.accountService.refresh.subscribe(t=>{this.isCustomerDone=JSON.parse(this.ls.getItem("Card_Customer_Done")),this.cdr.markForCheck()}),this.cifNumber=this.ls.getItem("CIF_NUM_PRIMARY"),this.console.log("cifNumber=",this.cifNumber)}populatePrimaryApplicant(t){this.getStateName(t.country),this.getCityName(t.state);let e={cifNumber:this.cifNumberPrimary,prefix:t.prefix,existingCustomer:!0,primaryCustomer:!0,customerId:t.customerId,firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,gender:t.gender,dateOfBirth:this.convertDate(t.dateOfBirth),placeOfBirth:t.placeOfBirth,residenceStatus:t.residenceStatus,nationality:t.nationality,countryOfResidence:t.countryOfResidence,occupationType:t.occupationType,idType:t.idType,idNumber:t.idNumber,expiryDate:this.convertDate(null==t?void 0:t.expiryDate)||"",addressType:t.addressType,address1:t.address1,address2:t.address2,city:t.city,country:t.country,state:t.state,zipCode:t.zipCode,phoneNumber:t.phoneNumber,landlineNumber:t.landlineNumber,primaryEmailAdress:t.primaryEmailAdress,maritalStatus:t.maritalStatus,birthCountry:t.birthCountry};this.applicant.patchValue(e)}changeIdType(t){var e;console.log("doc::",t),console.log("this.customerIdProofs::",this.customerIdProofs),this.showExpiryDate=!0,"Aadhar card"===t&&(this.applicant.get("expiryDate").clearValidators(),this.showExpiryDate=!1);let r=this.customerIdProofs.filter(e=>e.idType==t);console.log("idProofs::",r),r.length>0?(this.applicant.get("idNumber").patchValue(r[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(null===(e=r[0])||void 0===e?void 0:e.expiryDate)||"")):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}isObjectEmpty(t){return"[object Object]"===Object.prototype.toString.call(t)&&"{}"===JSON.stringify(t)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}toggleDetails(t){var e;let r;console.log(this.cardCustomerForm),console.log("customerId incomming",t),this.cardCustomerForm.get("numOfApplicants").disable({onlySelf:!0,emitEvent:!1}),this.console.log(t.userAddress.length),r=t.userAddress.length>1?t.userAddress.find(t=>"Permanent"==t.addressType):t.userAddress[0],this.getStateName(r.country),this.getCityName(r.state);let i={existingCustomer:t.existingCustomer,dependentId:t.dependentId,primaryCustomer:t.primaryCustomer,cifNumber:t.cifNumber,prefix:t.prefix,firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,gender:t.gender,dateOfBirth:t.dateOfBirth,placeOfBirth:t.placeOfBirth,residenceStatus:t.residenceStatus,nationality:t.nationality,countryOfResidence:t.countryOfResidence,occupationType:t.occupationType,idType:t.custIdProofs[0].idType,idNumber:t.custIdProofs[0].idNumber,expiryDate:(null===(e=t.custIdProofs[0])||void 0===e?void 0:e.expiryDate)||"",addressType:r.addressType,address1:r.address1,address2:r.address2,city:r.city,state:r.state,country:r.country,zipCode:r.zipCode,phoneNumber:t.phoneNumber,landlineNumber:t.landlineNumber,primaryEmailAdress:t.primaryEmailAdress,maritalStatus:t.maritalStatus,birthCountry:t.birthCountry};console.log("account.firstName=",t.firstName),this.selectedApplicant=t,console.log("payLoadModel",i),this.applicant.patchValue(i,{onlySelf:!1,emitEvent:!1}),this.onSelectionBirthCountry(i.birthCountry),this.onSelectionResidance(i.countryOfResidence),this.onSelectionCitizionship(i.nationality),this.getCountrySelection1(i.country),this.onBirthCountry(i.birthCountry),this.cdr.markForCheck(),console.log(this.selectedApplicant)}resetAndClose(){this.closeDetails()}closeDetails(){this.selectedApplicant=null,this.applicant.reset(),this.cardCustomerForm.get("numOfApplicants").enable({onlySelf:!0})}getListOfAccounts(){this.isResidency=!1,this.isCurrency=!1,this.isBirthCountry=!1,this.isCountry=!1,this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(t=>{this.listOfAccounts=200==t.status?t.data.map(t=>Object.assign(Object.assign({},t),{_id:Math.round(1e10*Math.random())})):[],this.console.log(" this.listOfAccounts",this.listOfAccounts),console.log("All Customer Details",this.listOfAccounts.length),200==t.status&&this.ls.setItem("cId",t.data[0].customerId),console.log("Length check??",this.listOfAccounts.length);const e=["prefix","firstName","lastName","dateOfBirth","gender","birthCountry","placeOfBirth","residenceStatus","countryOfResidence","nationality","maritalStatus","occupationType","phoneNumber","primaryEmailAdress"],r=["idType","expiryDate","idNumber"],i=["address1","address2","addressType","country","state","city","zipCode"];if(this.listOfAccounts.map(t=>{e.map(e=>{if(null==t[e])return this.selfNextBtnDisabled=!0;r.map(e=>{if(null==t.custIdProofs[e])return this.selfNextBtnDisabled=!0;i.map(e=>this.selfNextBtnDisabled=null==t.userAddress[e])})}),console.log("selfNextBtnDisabled ",this.selfNextBtnDisabled)}),0==this.listOfAccounts.length)this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0);else if(1==this.listOfAccounts.length)this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!1);else if(this.listOfAccounts.length>=2){this.cardCustomerForm.get("ownership").patchValue("Joint"),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!1);for(let e=0;e<t.data.length;e++)console.log("number calling",t.data[e]),this.cardCustomerForm.get("numOfApplicants").patchValue(t.data[e].numOfApplicants)}this.cdr.markForCheck(),this.toggleChanges()},t=>{})}removeApplicant(t){this.confirmService.confirm({title:"Confirm",message:"Are you sure want to delete?",ok:"Yes",cancel:"No"}).subscribe(e=>{console.log("res:: removed ",e),e&&this.appApiService.deleteApplicant(t.customerId,t.dependentId).subscribe(t=>{},e=>{console.log(e),200==e.status&&(this.snack.open(`Dependent ${t.firstName} ${e.error.text}!`,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getListOfAccounts())})})}fetchByCif(t,e){this.listOfAccounts.some(e=>e.cifNumber==t)?(this.isDuplicateCIF=!0,this.disableSaveBtn=!0,this.snack.open("Duplicate CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})):(this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.currency=null,this.birthCountryFlag=null,t&&this.appApiService.fetchByCif(t).subscribe(t=>{var r;if(console.log(t),!t)return this.isCifValid=!1,this.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void this.applicant.get("cifNumber").patchValue("");{let i;this.applicant.get("expiryDate").clearValidators(),this.isCifValid=!0,this.ls.setItem("cId",t.customerInfoList[0].customerId),this.console.log(t.customerInfoList[0].userAddress.length),t.customerInfoList[0].userAddress.length>1?(i=t.customerInfoList[0].userAddress.find(t=>"Permanent"==t.addressType),console.log(i)):(i=t.customerInfoList[0].userAddress[0],console.log(i));let a=_t(null===(r=t.customerInfoList[0].custIdProofs[0])||void 0===r?void 0:r.expiryDate).format();this.console.log(a),this.getStateName(i.country),this.getCityName(i.state),this.onSelectionCitizionship1(t.customerInfoList[0].nationality),this.onOtherSelectionResidance(t.customerInfoList[0].countryOfResidence),console.log(t.customerInfoList[0].birthCountry),this.onBirthCountry(t.customerInfoList[0].birthCountry),this.getCountrySelection(i.country);let n={prefix:t.customerInfoList[0].prefix,cifNumber:t.customerInfoList[0].cifNumber,existingCustomer:e,customerId:t.customerInfoList[0].customerId,firstName:t.customerInfoList[0].firstName,middleName:t.customerInfoList[0].middleName,lastName:t.customerInfoList[0].lastName,gender:t.customerInfoList[0].gender,dateOfBirth:this.convertDate(t.customerInfoList[0].dateOfBirth),placeOfBirth:t.customerInfoList[0].placeOfBirth,residenceStatus:t.customerInfoList[0].residenceStatus,nationality:t.customerInfoList[0].nationality,countryOfResidence:t.customerInfoList[0].countryOfResidence,occupationType:t.customerInfoList[0].occupationType,idType:t.customerInfoList[0].custIdProofs.length>0?t.customerInfoList[0].custIdProofs[0].idType:"",idNumber:t.customerInfoList[0].custIdProofs.length>0?t.customerInfoList[0].custIdProofs[0].idNumber:"",expiryDate:a,addressType:i.addressType,address1:i.address1,address2:i.address2,city:i.city,country:i.country,state:i.state,zipCode:i.zipCode,phoneNumber:t.customerInfoList[0].phoneNumber,landlineNumber:t.customerInfoList[0].landlineNumber,primaryEmailAdress:t.customerInfoList[0].primaryEmailAdress,maritalStatus:t.customerInfoList[0].maritalStatus,birthCountry:t.customerInfoList[0].birthCountry};this.console.log("res.customerInfoList[0].firstName=",t.customerInfoList[0].firstName),this.customerName=t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName,this.applicant.patchValue(n),console.log(this.applicant)}this.cdr.markForCheck()},t=>{console.error(t)}))}getCustomerInformationDetails(){this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(t=>{this.buildCustomerForm(t)},t=>{})}convertDate(t){let e=_t(t).format("YYYY-MM-DD")||null;if(console.log("date",e),e)return e}buildCustomerForm(t){this.console.log(t),this.cardCustomerForm=this.formBuilder.group({productAccountId:t?t.productAccountId:this.accountId,ownership:t?t.data[0].ownership:"Self",numOfApplicants:t?t.data[0].numOfApplicants:1,addOnCard:t?t.data[0].addOnCard:this.addOnCard,applicantDetails:this.addCustFormGroup()})}toggleChanges(){1==this.applicant.get("existingCustomer").value?(this.applicant.get("cifNumber").enable(),this.applicant.get("cifNumber").setValidators([s.A.required]),this.applicant.get("cifNumber").updateValueAndValidity()):(this.applicant.patchValue({cifNumber:""}),this.isDuplicateCIF=!1,this.applicant.get("cifNumber").disable(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity())}toggleAddForm(){this.showNewForm=!this.showNewForm}addCustFormGroup(){return this.formBuilder.group({existingCustomer:[null,[]],primaryCustomer:[null,[]],cifNumber:[""],customerId:[""],dependentId:[null],prefix:["",s.A.required],firstName:["",s.A.required],middleName:[""],maritalStatus:["",s.A.required],birthCountry:["",s.A.required],lastName:["",s.A.required],gender:["",s.A.required],dateOfBirth:["",s.A.required],placeOfBirth:["",s.A.required],residenceStatus:["",s.A.required],nationality:["",s.A.required],countryOfResidence:["",s.A.required],occupationType:["",s.A.required],idType:["",s.A.required],idNumber:["",s.A.required],expiryDate:[""],addressType:["",s.A.required],address1:["",[s.A.required,s.A.pattern(".*[a-zA-Z].*")]],address2:["",[s.A.required,s.A.pattern(".*[a-zA-Z].*")]],city:["",s.A.required],state:["",s.A.required],country:["",s.A.required],zipCode:["",[s.A.required,s.A.minLength(5),s.A.maxLength(10),s.A.pattern("^[0-9]{5,10}$")]],phoneNumber:["",[s.A.required,s.A.minLength(3),s.A.maxLength(10),s.A.pattern("^[0-9]{10,12}$")]],landlineNumber:["",[s.A.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:["",[s.A.required,s.A.email,s.A.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]]})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}validateNumber(t){const e=t.keyCode;e>=48&&e<=57||e>=96&&e<=105||[8,37,39,46].includes(e)||t.preventDefault()}get f(){return this.cardCustomerForm.controls}get applicantCount(){return this.f.numOfApplicants}get applicant(){return this.f.applicantDetails}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getMaritalStatus(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.maritalStatusList=t})}getOwnershipValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayOwnership=t})}getGenderValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayGender=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getAdressType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayAddressType=t})}getStateName(t){this.apiService.getAllCountries().subscribe(e=>{for(let r=0;r<e.length;r++)if(e[r].countryName==t){this.apiService.getStateByCountryId(e[r].id).subscribe(t=>{this.arrayState=t});break}})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t,console.log("--\x3e",this.arrayCity),console.log("this.applicant",this.applicant)})}onBirthCountry(t){this.console.log("data ::",t),this.isBirthCountry=!0,null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.birthCountryFlag=t.currencyCode.toLowerCase()})}getCountrySelection(t){this.console.log("data ::",t),this.isCountry=!0,null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.countryCode=t.currencyCode.toLowerCase()})}getCountrySelection1(t){this.console.log("data ::",t),null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.editCountryCode=t.currencyCode.toLowerCase()})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}getDocumentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayDocumentType=t})}onSelectionCitizionship(t){null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.currencyCode=t.currencyCode.toLowerCase(),console.log(this.currencyCode)})}onSelectionCitizionship1(t){console.log("data ::",t),console.log(t),this.isCurrency=!0,null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{console.log(t),this.currency=t.currencyCode.toLowerCase(),console.log(this.currency),console.log(this.currencyCode)})}onSelectionBirthCountry(t){console.log("Birth Country : ",t),null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{console.log(t.currencyCode),this.Currency1=t.currencyCode.toLowerCase()})}onSelectionResidance(t){this.console.log("data ::",t),console.log(t),null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.Currency=t.currencyCode.toLowerCase(),console.log(this.Currency)})}onOtherSelectionResidance(t){this.console.log("data ::",t),console.log(t),this.isResidency=!0,null!=t&&this.apiService.countryFlaglists(t).subscribe(t=>{this.ResideceCurrency=t.currencyCode.toLowerCase(),console.log(this.ResideceCurrency)})}onSubmit(){this.submitted=!0,console.log("saveapplicant"),this.isCifValid=!1;let t={};const e=this.cardCustomerForm.controls.applicantDetails.value;console.log(e);let r={},i={},a=[],n=[];t.customerId=this.ls.getItem("cId"),t.cifNumber=e.cifNumber,t.dependentId=e.dependentId,t.existingCustomer=e.existingCustomer,t.primaryCustomer=e.primaryCustomer,t.residenceStatus=e.residenceStatus,t.placeOfBirth=e.placeOfBirth,t.countryOfResidence=e.countryOfResidence,t.occupationType=e.occupationType,t.phoneNumber=e.phoneNumber,t.maritalStatus=e.maritalStatus,t.birthCountry=e.birthCountry,t.primaryEmailAdress=e.primaryEmailAdress,t.prefix=e.prefix,t.firstName=e.firstName,t.middleName=e.middleName,t.lastName=e.lastName,t.cifNumber=e.cifNumber,t.gender=e.gender,t.dateOfBirth=this.convertDate(e.dateOfBirth),t.nationality=e.nationality,t.cardId=this.cardId,t.accountType="cardOrigin",t.landlineNumber=e.landlineNumber,t.ownership=this.cardCustomerForm.get("ownership").value,t.numOfApplicants=this.cardCustomerForm.get("numOfApplicants").value,t.addOnCard=this.addonCardValue,r.address1=e.address1,r.address2=e.address2,r.country=e.country,r.state=e.state,r.city=e.city,r.zipCode=e.zipCode,r.addressType=e.addressType,n.push(r),i.expiryDate="Invalid date"==(null==e?void 0:e.expiryDate)?null:""!=(null==e?void 0:e.expiryDate)?this.convertDate(null==e?void 0:e.expiryDate):"",i.idType=e.idType,i.idNumber=e.idNumber,a.push(i),t.userAddress=n,t.custIdProofs=a,console.log("payloadObj",t),this.isChecked=!1,this.disabled=!1,this.appApiService.createAndUpdateCardAccountants(t).subscribe(t=>{console.log("data::",t),this.closeDetails(),this.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(this.getListOfAccounts(),this.snack.open("Customer Information Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),1==t.custDependentModel.primaryCustomer&&this.ls.setItem("primaryCustomerName",null==t.custDependentModel.middleName?t.custDependentModel.firstName+" "+t.custDependentModel.lastName:t.custDependentModel.firstName+" "+t.custDependentModel.middleName+" "+t.custDependentModel.lastName),this.cardCustomerForm.get("ownership").patchValue(t.custDependentModel.ownership),this.cardCustomerForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants),"Self"==this.cardCustomerForm.get("ownership").value&&this.goToNext())},t=>{console.log(t),this.loader.close(),this.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}uploadImage(){console.log("Upload Image")}onReset(){this.submitted=!1,this.cardCustomerForm.reset({})}onClear(){this.submitted=!1}goBack(){this.router.navigate(["/cardaccount/applicationEntryStage/list/cardInitiation"])}goToNext(){this.ls.setItem("Card_Customer_Done",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/financialDetails"]),this.ls.setItem("CardNoOfApplicants",this.cardCustomerForm.get("numOfApplicants").value),this.ls.setItem("cardownership_value",this.cardCustomerForm.get("ownership").value),this.router.navigate(["/cardaccount/applicationEntryStage/list/financialDetails"])}onKeyPress1(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),console.log(t.target.value),clearTimeout(this.timer),t.target.value||(this.listOfCustByCif=[])}onKeyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),console.log(t.target.value),clearTimeout(this.timer),t.target.value?this.timer=setTimeout(()=>{this.appApiService.fetchByCif(t.target.value).subscribe(t=>{console.log(t),t&&(this.listOfCustByCif=t.customerInfoList)})},1e3):(this.isCifValid=!1,this.applicant.reset(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity(),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0),this.listOfCustByCif=[])}isAllSameDigit(t){let e=0,r=t.target.value;if(""!=r){for(var i=0;i<r.length;i++)0==r[i]&&e++;console.log("number :: ",r),console.log("isAllSameDigitVal :: ",e,r.length),e==r.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.dataService.sendNavParam({})}goToggle(t){console.log("event",t.checked),this.addonCardValue=t.checked,1==t.checked||this.addOnCard?(this.cardCustomerForm.get("ownership").setValue("Joint"),this.cardCustomerForm.get("numOfApplicants").patchValue(2),this.disabled=!1):0==t.checked&&(this.cardCustomerForm.get("ownership").patchValue("Self",{onlySelf:!0,emitEvent:!1}),this.cardCustomerForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1}))}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(u.b),d.Rb(m.a),d.Rb(D.a),d.Rb(d.l),d.Rb(d.I),d.Rb(c.a),d.Rb(l.b),d.Rb(s.f),d.Rb(kt.a),d.Rb(d.h),d.Rb(Et.a),d.Rb(b.a),d.Rb(Ct.a),d.Rb(xt.a),d.Rb($.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-card-customer-information"]],viewQuery:function(t,e){if(1&t&&d.ad(At.a,!0),2&t){let t;d.Cc(t=d.gc())&&(e.progressBar=t.first)}},inputs:{i:"i"},decls:18,vars:1,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","row wrap"],[1,"p-0"],[1,""],[1,"card-title-text"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["formControlName","ownership","name","owner","required","",1,"graycolor"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","50"],[4,"ngIf","ngIfElse"],[1,"mb-1"],["fxFlex","100","fxLayoutGap","16px","fxLayoutAlign","end end",2,"padding-right","15px"],[1,"m-0","text-right"],["mode","determinate",1,"rounded",2,"height","5px",3,"color","value"],["fxFlex","100%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],["formControlName","addOnCard",2,"margin-left","1cm",3,"change"],[1,"mt-12"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["class","mt-16",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["hideBtn",""],[3,"value"],["formControlName","numOfApplicants","name","account"],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"ml-8"],[2,"margin-bottom","-16px !important"],["mat-card-avatar",""],[3,"name"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],["fxLayout","row","fxFlex","1 1 0%","fxLayoutAlign","end end"],[1,"group-btn-bg"],["showEdit",""],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["detailApplicant",""],["mat-sm-chip","",3,"color","selected"],["type","reset","mat-icon-button","","color","primary",3,"click"],["type","submit","mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mt-32",3,"formGroup"],["formGroupName","applicantDetails"],["formControlName","existingCustomer",3,"change"],[1,"mb-16"],["name","prefix","formControlName","prefix"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","Date of birth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"p-1"],["fxFlex","20"],["matPrefix",""],[3,"class",4,"ngIf"],["name","birthCountry","formControlName","birthCountry","required","",3,"selectionChange"],["name","residenceType","formControlName","residenceStatus"],["formControlName","countryOfResidence","id","forcitizenship","required","",3,"selectionChange"],["disabled",""],["name","idtype","formControlName","idType",3,"selectionChange"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"required","matDatepicker","min"],["appDatepicker1",""],["formControlName","primaryCustomer"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","gender","formControlName","gender"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],[1,"pb-1","info"],["formControlName","nationality","id","forcitizenship","required","",3,"selectionChange"],["name","maritalStatus","formControlName","maritalStatus","required",""],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type",3,"keypress"],[1,"pb-1","info3"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["matInput","","formControlName","address1","placeholder","Address 1"],["name","addressType","formControlName","addressType"],["name","state","formControlName","state",3,"selectionChange"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country",3,"selectionChange"],["name","city","formControlName","city"],["maxlength","10","matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number",3,"keypress"],["style","margin-top:-20px",4,"ngIf"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["mat-button","","color","primary",3,"disabled","click"],[2,"color","#E74C3C"],[2,"margin-top","-20px"],[1,"mt-16"],[1,"mb-8","borderStyle",3,"expanded"],[1,"marginData"],[1,"textDesign"],[1,"design"],["formControlName","existingCustomer",3,"disabled","change"],["fxLayout","row","fxLayoutGap","2px","fxLayoutAlign","space-between"],["fxFlex","100","fxFlexAlign","center",1,"boxsize"],["matInput","","required","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"formControl","matAutocomplete","readonly","keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","err-msg",4,"ngIf"],["class","hintColor",4,"ngIf"],[1,"card-cust-auto-cif"],["auto","matAutocomplete"],["class","pb-1",4,"ngIf"],["class","pb-1",4,"ngIf","ngIfElse"],["show",""],[1,"pb-1","info1"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID","maxlength","12",3,"keypress"],["mat-button","","color","primary",3,"disabled",4,"ngIf","ngIfElse"],["openSave",""],["matSuffix","","color","primary"],[1,"err-msg"],[1,"hintColor"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],["fxFlex","80"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","90%","margin-bottom","50px",3,"src"],["formControlName","primaryCustomer",3,"ngModel","disabled","ngModelChange"],["mat-button","","color","primary",3,"disabled"],["mat-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Customer Information Details"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",7),d.Xb(10,"div",2),d.Xb(11,"mat-card",8),d.Xb(12,"mat-card-title",9),d.Xb(13,"div",10),d.Tc(14,"Customer Information"),d.Wb(),d.Sb(15,"mat-divider"),d.Wb(),d.Xb(16,"mat-card-content"),d.Rc(17,ti,45,13,"form",11),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(17),d.rc("ngIf",e.cardCustomerForm))},directives:[h.e,h.b,p.a,p.h,X.a,p.d,i.n,s.C,s.s,s.j,h.f,y.c,y.g,Pt.a,s.r,s.i,s.z,Nt.n,i.m,h.d,At.a,y.f,Rt.a,Ft.a,g.b,y.b,Ft.c,Ft.e,Ft.f,a.a,p.e,p.c,p.g,Mt.a,g.a,i.s,s.k,f.b,s.c,Lt.e,Lt.g,y.j,Lt.d,y.i,s.m,s.x,s.n,Vt.a,h.a,n.c,s.h,n.a,Bt.b],pipes:[i.w,i.v],styles:[".form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.currency-flag[_ngcontent-%COMP%]{display:inline-block;width:24px;height:16px;background-size:cover;background-image:url(https://wise.com/public-resources/assets/flags/rectangle_fallback.png)}.currency-flag-sm[_ngcontent-%COMP%]{width:16px;height:10px}.currency-flag-lg[_ngcontent-%COMP%]{width:36px;height:24px}.currency-flag-xl[_ngcontent-%COMP%]{width:48px;height:32px}  .card-cust-auto-cif.mat-autocomplete-panel{width:270px!important;padding:7px 0;border:1px solid #456efe!important;border-radius:5px!important;opacity:1!important}  .mat-card-avatar{max-width:15%!important}.example-header-image-dropdown[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;background-size:cover;background-color:#aed6f1;max-width:15%!important;width:25px;height:35px;border-radius:50%}.err-msg[_ngcontent-%COMP%]{color:var(--danger)}.currency-flag.currency-flag-aed[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aed.png)}.currency-flag.currency-flag-afn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/afn.png)}.currency-flag.currency-flag-all[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/all.png)}.currency-flag.currency-flag-amd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/amd.png)}.currency-flag.currency-flag-ang[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ang.png)}.currency-flag.currency-flag-aoa[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aoa.png)}.currency-flag.currency-flag-ars[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ars.png)}.currency-flag.currency-flag-aud[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aud.png)}.currency-flag.currency-flag-awg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/awg.png)}.currency-flag.currency-flag-azn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/azn.png)}.currency-flag.currency-flag-bam[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bam.png)}.currency-flag.currency-flag-bbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bbd.png)}.currency-flag.currency-flag-bdt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bdt.png)}.currency-flag.currency-flag-bgn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bgn.png)}.currency-flag.currency-flag-bhd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bhd.png)}.currency-flag.currency-flag-bif[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bif.png)}.currency-flag.currency-flag-bmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bmd.png)}.currency-flag.currency-flag-bnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bnd.png)}.currency-flag.currency-flag-bob[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bob.png)}.currency-flag.currency-flag-brl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/brl.png)}.currency-flag.currency-flag-bsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bsd.png)}.currency-flag.currency-flag-btn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/btn.png)}.currency-flag.currency-flag-bwp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bwp.png)}.currency-flag.currency-flag-byn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/byn.png)}.currency-flag.currency-flag-bzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bzd.png)}.currency-flag.currency-flag-cad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cad.png)}.currency-flag.currency-flag-cdf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cdf.png)}.currency-flag.currency-flag-chf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/chf.png)}.currency-flag.currency-flag-clp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/clp.png)}.currency-flag.currency-flag-cny[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cny.png)}.currency-flag.currency-flag-cop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cop.png)}.currency-flag.currency-flag-crc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/crc.png)}.currency-flag.currency-flag-cup[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cup.png)}.currency-flag.currency-flag-cve[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cve.png)}.currency-flag.currency-flag-czk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/czk.png)}.currency-flag.currency-flag-djf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/djf.png)}.currency-flag.currency-flag-dkk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dkk.png)}.currency-flag.currency-flag-dop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dop.png)}.currency-flag.currency-flag-dzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dzd.png)}.currency-flag.currency-flag-egp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/egp.png)}.currency-flag.currency-flag-ern[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ern.png)}.currency-flag.currency-flag-etb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/etb.png)}.currency-flag.currency-flag-eur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/eur.png)}.currency-flag.currency-flag-fjd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fjd.png)}.currency-flag.currency-flag-fkp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fkp.png)}.currency-flag.currency-flag-gbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gbp.png)}.currency-flag.currency-flag-gel[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gel.png)}.currency-flag.currency-flag-ghs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ghs.png)}.currency-flag.currency-flag-gip[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gip.png)}.currency-flag.currency-flag-gmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gmd.png)}.currency-flag.currency-flag-gnf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gnf.png)}.currency-flag.currency-flag-gtq[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gtq.png)}.currency-flag.currency-flag-gyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gyd.png)}.currency-flag.currency-flag-hkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hkd.png)}.currency-flag.currency-flag-hnl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hnl.png)}.currency-flag.currency-flag-hrk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hrk.png)}.currency-flag.currency-flag-htg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/htg.png)}.currency-flag.currency-flag-huf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/huf.png)}.currency-flag.currency-flag-idr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/idr.png)}.currency-flag.currency-flag-ils[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ils.png)}.currency-flag.currency-flag-inr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/inr.png)}.currency-flag.currency-flag-iqd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/iqd.png)}.currency-flag.currency-flag-irr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/irr.png)}.currency-flag.currency-flag-isk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/isk.png)}.currency-flag.currency-flag-jmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jmd.png)}.currency-flag.currency-flag-jod[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jod.png)}.currency-flag.currency-flag-jpy[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jpy.png)}.currency-flag.currency-flag-kes[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kes.png)}.currency-flag.currency-flag-kgs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kgs.png)}.currency-flag.currency-flag-khr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/khr.png)}.currency-flag.currency-flag-kmf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kmf.png)}.currency-flag.currency-flag-kpw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kpw.png)}.currency-flag.currency-flag-krw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/krw.png)}.currency-flag.currency-flag-kwd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kwd.png)}.currency-flag.currency-flag-kyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kyd.png)}.currency-flag.currency-flag-kzt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kzt.png)}.currency-flag.currency-flag-lak[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lak.png)}.currency-flag.currency-flag-lbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lbp.png)}.currency-flag.currency-flag-lkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lkr.png)}.currency-flag.currency-flag-lrd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lrd.png)}.currency-flag.currency-flag-ltl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ltl.png)}.currency-flag.currency-flag-lyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lyd.png)}.currency-flag.currency-flag-mad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mad.png)}.currency-flag.currency-flag-mdl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mdl.png)}.currency-flag.currency-flag-mga[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mga.png)}.currency-flag.currency-flag-mkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mkd.png)}.currency-flag.currency-flag-mmk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mmk.png)}.currency-flag.currency-flag-mnt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mnt.png)}.currency-flag.currency-flag-mop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mop.png)}.currency-flag.currency-flag-mro[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mro.png)}.currency-flag.currency-flag-mur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mur.png)}.currency-flag.currency-flag-mvr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mvr.png)}.currency-flag.currency-flag-mwk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mwk.png)}.currency-flag.currency-flag-mxn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mxn.png)}.currency-flag.currency-flag-myr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/myr.png)}.currency-flag.currency-flag-mzn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mzn.png)}.currency-flag.currency-flag-nad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nad.png)}.currency-flag.currency-flag-ngn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ngn.png)}.currency-flag.currency-flag-nio[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nio.png)}.currency-flag.currency-flag-nok[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nok.png)}.currency-flag.currency-flag-npr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/npr.png)}.currency-flag.currency-flag-nzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nzd.png)}.currency-flag.currency-flag-omr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/omr.png)}.currency-flag.currency-flag-pen[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pen.png)}.currency-flag.currency-flag-pgk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pgk.png)}.currency-flag.currency-flag-php[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/php.png)}.currency-flag.currency-flag-pkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pkr.png)}.currency-flag.currency-flag-pln[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pln.png)}.currency-flag.currency-flag-pyg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pyg.png)}.currency-flag.currency-flag-qar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/qar.png)}.currency-flag.currency-flag-ron[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ron.png)}.currency-flag.currency-flag-rsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rsd.png)}.currency-flag.currency-flag-rub[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rub.png)}.currency-flag.currency-flag-rwf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rwf.png)}.currency-flag.currency-flag-sar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sar.png)}.currency-flag.currency-flag-sbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sbd.png)}.currency-flag.currency-flag-scr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/scr.png)}.currency-flag.currency-flag-sek[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sek.png)}.currency-flag.currency-flag-sgd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sgd.png)}.currency-flag.currency-flag-shp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/shp.png)}.currency-flag.currency-flag-sll[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sll.png)}.currency-flag.currency-flag-sos[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sos.png)}.currency-flag.currency-flag-srd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/srd.png)}.currency-flag.currency-flag-std[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/std.png)}.currency-flag.currency-flag-svc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/svc.png)}.currency-flag.currency-flag-syp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/syp.png)}.currency-flag.currency-flag-szl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/szl.png)}.currency-flag.currency-flag-thb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/thb.png)}.currency-flag.currency-flag-tjs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tjs.png)}.currency-flag.currency-flag-tnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tnd.png)}.currency-flag.currency-flag-top[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/top.png)}.currency-flag.currency-flag-try[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/try.png)}.currency-flag.currency-flag-ttd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ttd.png)}.currency-flag.currency-flag-twd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/twd.png)}.currency-flag.currency-flag-tzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tzs.png)}.currency-flag.currency-flag-uah[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uah.png)}.currency-flag.currency-flag-ugx[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ugx.png)}.currency-flag.currency-flag-usd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/usd.png)}.currency-flag.currency-flag-uyu[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uyu.png)}.currency-flag.currency-flag-uzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uzs.png)}.currency-flag.currency-flag-vef[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vef.png)}.currency-flag.currency-flag-vnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vnd.png)}.currency-flag.currency-flag-vuv[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vuv.png)}.currency-flag.currency-flag-wst[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/wst.png)}.currency-flag.currency-flag-xaf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xaf.png)}.currency-flag.currency-flag-xcd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xcd.png)}.currency-flag.currency-flag-xof[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xof.png)}.currency-flag.currency-flag-xpf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xpf.png)}.currency-flag.currency-flag-yer[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/yer.png)}.currency-flag.currency-flag-zar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zar.png)}.currency-flag.currency-flag-zmw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zmw.png)}.graycolor[_ngcontent-%COMP%]{color:grey} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}.boxsize[_ngcontent-%COMP%]{margin-top:30px}.info[_ngcontent-%COMP%]{margin-bottom:4px}.info1[_ngcontent-%COMP%]{margin-top:6px}.birthfield[_ngcontent-%COMP%]{padding:.25px!important}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px!important;opacity:1!important}"]}),t})();class ri{}function ii(t,e){if(1&t&&(d.Xb(0,"mat-option",27),d.Tc(1),d.Wb()),2&t){const t=e.$implicit,r=d.jc(2);d.rc("value",t)("hidden",r.isDocumentOptionDisabled2(t)),d.Eb(1),d.Vc(" ",t," ")}}function ai(t,e){if(1&t){const t=d.Yb();d.Xb(0,"tr",10),d.Xb(1,"td",20),d.Xb(2,"mat-select",21),d.fc("valueChange",function(r){d.Hc(t);const i=e.index;return d.jc().changeValue2(r,i)}),d.Rc(3,ii,2,3,"mat-option",22),d.Wb(),d.Wb(),d.Xb(4,"td"),d.Xb(5,"div"),d.Xb(6,"input",23),d.fc("keyup",function(r){d.Hc(t);const i=e.index;return d.jc().OnInput1(r,!0,i)})("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(7,"td"),d.Xb(8,"div"),d.Xb(9,"input",24),d.fc("keyup",function(r){d.Hc(t);const i=e.index;return d.jc().OnInput(r,!0,i)})("keypress",function(e){return d.Hc(t),d.jc().keyPress(e)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(10,"td",25),d.Xb(11,"div"),d.Xb(12,"button",26),d.fc("click",function(){d.Hc(t);const r=e.index;return d.jc().onclick1(r)}),d.Xb(13,"mat-icon"),d.Tc(14,"delete"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){const t=e.$implicit,r=d.jc();d.rc("formGroup",t),d.Eb(3),d.rc("ngForOf",r.arraylimitType),d.Eb(3),d.rc("readonly",r.isDLReadOnly),d.Eb(3),d.rc("readonly",r.isLPTReadOnly)}}function ni(t,e){1&t&&(d.Xb(0,"mat-error"),d.Xb(1,"small"),d.Tc(2,"Limit per transaction should be less "),d.Wb(),d.Sb(3,"br"),d.Xb(4,"small"),d.Tc(5,"than daily limit"),d.Wb(),d.Wb())}let oi=(()=>{class t{constructor(t,e,r,i,a,n){this.fb=t,this.router=e,this.apiService=r,this.snack=i,this.ls=a,this.accountService=n,this.home=new ri,this.arraylimitType=[],this.selectedOptions2=[],this.cardDetails=[],this.isdailylimit=!1,this.isLimitTransaction=!1,this.isGreaterValue=!1,this.selectedDocumentTypes2=[],this.cardPrefrenceOnLoad=[],this.isRowEnds=!1,this.islimitType=!1,this.isDLReadOnly=!0,this.isLPTReadOnly=!0,this.isDocumentOptionDisabled2=t=>this.selectedOptions2.includes(t)}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.arraylimitType=["Domestic Limit","International Limit","Daily Limit","ATM limit","POS Limit","Internet Limit"],this.buildCardPrefrenceForm();let t=JSON.parse(this.ls.getItem("card_prefrence_done"));null!=this.cardId&&t?this.gettingCardPrefrenceDetail():console.log("")}gettingCardPrefrenceDetail(){this.apiService.getCardPrefrence(this.cardId).subscribe(t=>{console.log(t),this.cardPrefrenceOnLoad=t,t?(this.isdailylimit=!0,this.isLimitTransaction=!0,this.islimitType=!0):(this.isdailylimit=!1,this.isLimitTransaction=!1);for(let e=0;e<=this.cardPrefrenceOnLoad.length-1;e++)this.selectedOptions2.push(this.cardPrefrenceOnLoad[e].limitType);console.log("All Transaction Details",t),this.buildCardPrefrenceForm(t,!0)})}buildCardPrefrenceForm(t,e){if(this.cardPrefrenceForm=this.fb.group({cardPrefrences:this.fb.array([this.addMFormGroup()])}),e){this.addMandateToFormGroup(t),console.log(t);for(let e=0;e<=t.length-1;e++)t[e].dailyLimit=this.addComa(t[e].dailyLimit),t[e].limitPerTransaction=this.addComa(t[e].limitPerTransaction);this.m.patchValue(t)}}addMandateToFormGroup(t){const e=t.length;for(let r=1;r<e;r++)this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}));this.isdailylimit=!0}get f(){return this.cardPrefrenceForm.controls}get m(){return this.f.cardPrefrences}newcard(){}addMFormGroup(){return this.fb.group({limitType:[""],dailyLimit:["",[s.A.maxLength(18),s.A.pattern("^[0-9]{10,12}$")]],limitPerTransaction:["",[s.A.maxLength(18),s.A.pattern("^[0-9]{10,12}$")]]})}addMandate(){this.isdailylimit=!1,this.islimitType=!1,this.isLimitTransaction=!1,this.isLPTReadOnly=!0,this.isDLReadOnly=!0,console.log("this.selectedOptions2",this.selectedOptions2),this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}))}addComa(t){console.log(t);let e=t.toString().replace(/,/g,"").split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isdailylimit=!0,this.isLPTReadOnly=!1}keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isLimitTransaction=!0}OnInput(t,e,r){this.limiPrTrn=t.target.value;var i=this.removeComma(this.cardPrefrenceForm.value.cardPrefrences[r].dailyLimit),a=this.removeComma(this.limiPrTrn);this.isLimitTransaction=!!this.limiPrTrn,this.isGreaterValue=Number(a)>Number(i)||(Number(a),Number(i),!1);let n={limitPerTransaction:this.addComa(this.limiPrTrn)};this.m.controls[r].patchValue(n)}OnInput1(t,e,r){this.limitDaily=t.target.value,this.isdailylimit=!!this.limitDaily;let i={dailyLimit:this.addComa(this.limitDaily)};this.m.controls[r].patchValue(i)}onclick1(t){this.islimitType=!0,this.isLimitTransaction=!0,this.isdailylimit=!0,this.isRowEnds=!1,this.isLPTReadOnly=!1,this.isDLReadOnly=!1,this.cardPrefrenceForm.controls.cardPrefrences.removeAt(t),null==this.cardPrefrenceOnLoad?console.log("deleted"):null!=this.cardPrefrenceOnLoad[t]&&this.apiService.deleteCardPrefrence(this.cardPrefrenceOnLoad[t].preferenceId).subscribe(t=>{},t=>{200==t.status&&this.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.selectedOptions2.splice(t,1),console.log("console.log(this.selectedOptions2);",this.selectedOptions2),this.isdailylimit=!0}onSubmit(){var t,e=[];if(this.cardPrefrenceForm.value.cardPrefrences.cardId=this.cardId,this.cardPrefrenceOnLoad)for(let r=this.cardPrefrenceOnLoad.length;r<=this.cardPrefrenceForm.value.cardPrefrences.length-1;r++){t=this.cardPrefrenceForm.value.cardPrefrences[r];let i=Object.assign({},t,{cardId:this.cardId});i.dailyLimit=parseInt(this.removeComma(i.dailyLimit)),i.limitPerTransaction=parseInt(this.removeComma(i.limitPerTransaction)),e.push(i)}else for(let r=0;r<this.cardPrefrenceForm.value.cardPrefrences.length;r++){t=this.cardPrefrenceForm.value.cardPrefrences[r];let i=Object.assign({},t,{cardId:this.cardId});i.dailyLimit=parseInt(this.removeComma(i.dailyLimit)),i.limitPerTransaction=parseInt(this.removeComma(i.limitPerTransaction)),e.push(i)}this.apiService.uploadCardPrefrence(e).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Card Preferences Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next())})}removeComma(t){var e=t.replace(/,/g,"");return console.log("numb",e),e}goBack(){this.router.navigate(["/cardaccount/applicationEntryStage/list/financialDetails"])}next(){this.ls.setItem("card_prefrence_done",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/accountServices"])}changeValue2(t,e){this.islimitType=!0,this.selectedDocumentTypes2[e]&&(this.selectedOptions2=this.selectedOptions2.filter(t=>t!==this.selectedDocumentTypes2[e])),this.selectedDocumentTypes2[e]=t,this.selectedOptions2.push(t),this.selectedDocumentTypes2.length==this.arraylimitType.length?(this.isRowEnds=!0,console.log("isRowends",this.isRowEnds)):(this.isRowEnds=!1,console.log("isRowends",this.isRowEnds)),this.isDLReadOnly=!1}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(s.f),d.Rb(m.h),d.Rb(l.b),d.Rb(b.a),d.Rb(c.a),d.Rb(D.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-card-prefrences"]],decls:39,vars:5,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask_Group_1.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],[1,"table-container"],[1,"table"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","335px"],["mat-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["mat-raised-button","","type","button","color","primary",1,"Nextbtn",3,"disabled","click"],[2,"width","5cm"],["formControlName","limitType","placeholder","Select Type","name","limitType",1,"inputMatcard1",3,"valueChange"],[3,"value","hidden",4,"ngFor","ngForOf"],["type","text","maxlength","18","formControlName","dailyLimit",1,"alignment",3,"readonly","keyup","keypress"],["type","text","maxlength","18","formControlName","limitPerTransaction",1,"alignment",3,"readonly","keyup","keypress"],[1,"deletebutton"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],[3,"value","hidden"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Card Preferences"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",1),d.Xb(10,"div",2),d.Xb(11,"mat-card",7),d.Xb(12,"mat-card-title",8),d.Xb(13,"div",9),d.Tc(14,"Card Preferences"),d.Wb(),d.Sb(15,"mat-divider"),d.Wb(),d.Xb(16,"form",10),d.Xb(17,"div",11),d.Xb(18,"table",12),d.Xb(19,"thead"),d.Xb(20,"tr"),d.Xb(21,"th"),d.Tc(22,"Limit Type "),d.Wb(),d.Xb(23,"th"),d.Tc(24,"Daily Limit"),d.Wb(),d.Xb(25,"th"),d.Tc(26,"Limit per transaction"),d.Wb(),d.Wb(),d.Wb(),d.Xb(27,"tbody"),d.Rc(28,ai,15,4,"tr",13),d.Wb(),d.Wb(),d.Xb(29,"div",14),d.Xb(30,"button",15),d.fc("click",function(){return e.addMandate()}),d.Xb(31,"mat-icon"),d.Tc(32,"add"),d.Wb(),d.Wb(),d.Rc(33,ni,6,0,"mat-error",16),d.Wb(),d.Xb(34,"div",17),d.Xb(35,"button",18),d.fc("click",function(){return e.goBack()}),d.Tc(36," Back\n"),d.Wb(),d.Xb(37,"button",19),d.fc("click",function(){return e.onSubmit()}),d.Tc(38,"Next "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(16),d.rc("formGroup",e.cardPrefrenceForm),d.Eb(12),d.rc("ngForOf",e.m.controls),d.Eb(2),d.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction&&e.islimitType&&!e.isRowEnds)||e.isGreaterValue),d.Eb(3),d.rc("ngIf",e.isGreaterValue),d.Eb(4),d.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction&&e.islimitType)||e.isGreaterValue||0==e.m.controls.length))},directives:[h.e,h.b,p.a,p.h,X.a,s.C,s.s,s.j,i.m,h.f,g.b,a.a,i.n,h.d,Pt.a,s.r,s.i,s.c,s.m,Nt.n,y.b],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.table-container[_ngcontent-%COMP%]{padding:0 10%;margin:20px auto 0}.table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:.2cm;background-color:#007bff}.alignment[_ngcontent-%COMP%]{border-style:none;outline:none;box-shadow:0 0 0;padding-top:11px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:medium;color:#fff;opacity:1;padding:12px;vertical-align:top}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;border:1px solid rgba(2,2,3,.48627450980392156)}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;color:#f1f1f1;padding:8px;text-align:center}.deletebutton[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-option-text[_ngcontent-%COMP%]{display:inline-block;flex-grow:1;margin-left:10px!important;overflow:hidden;text-overflow:ellipsis}.mat-select-panel[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%], .mat-select-panel[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{font-size:inherit;line-height:3em;margin-left:10px;height:3em}.egret-blue[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);margin-left:10px}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 10px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 0 0 rgba(0,0,0,.1607843137254902);box-sizing:border-box;padding:10px;width:100%}"]}),t})();function ci(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",37),d.Xb(1,"div",38),d.Xb(2,"label",14),d.Tc(3,"KYC ID"),d.Wb(),d.Tc(4,"\xa0 "),d.Xb(5,"label",39),d.Tc(6),d.Wb(),d.Xb(7,"label",14),d.Tc(8,"KYC Status"),d.Wb(),d.Tc(9,"\xa0 "),d.Xb(10,"label",39),d.Tc(11),d.Wb(),d.Wb(),d.Xb(12,"div"),d.Tc(13," \xa0\xa0\xa0"),d.Xb(14,"button",40),d.fc("click",function(){return d.Hc(t),d.jc().goToKyc()}),d.Tc(15,"Go For KYC"),d.Wb(),d.Wb(),d.Wb()}if(2&t){const t=d.jc();d.Eb(6),d.Uc(t.kycRefrence),d.Eb(5),d.Uc(t.kycStatus),d.Eb(3),d.rc("disabled",t.isGoForKyc||t.isExistingCustomer)}}function si(t,e){1&t&&(d.Xb(0,"mat-option",41),d.Tc(1,"Debit"),d.Wb())}function li(t,e){1&t&&(d.Xb(0,"mat-option",42),d.Tc(1,"Forex"),d.Wb())}function di(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0\xa0Card Type is Required! "),d.Wb())}function bi(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0\xa0 CIF Number Is Required "),d.Wb())}function ui(t,e){if(1&t&&(d.Xb(0,"div",53),d.Xb(1,"h3",54),d.Tc(2),d.kc(3,"uppercase"),d.kc(4,"slice"),d.kc(5,"uppercase"),d.kc(6,"slice"),d.Wb(),d.Wb()),2&t){const t=d.jc().$implicit;d.Eb(2),d.Wc(" ",d.lc(3,2,d.nc(4,4,null==t?null:t.firstName,0,1)),"",d.lc(5,8,d.nc(6,10,null==t?null:t.lastName,0,1))," ")}}function mi(t,e){if(1&t&&(d.Xb(0,"div",55),d.Sb(1,"img",56),d.Wb()),2&t){const t=d.jc().$implicit;d.Eb(1),d.rc("src",null==t?null:t.profileImage,d.Jc)}}function pi(t,e){if(1&t&&(d.Xb(0,"mat-option",45),d.Xb(1,"div",46),d.Xb(2,"div",47),d.Rc(3,ui,7,14,"div",48),d.Rc(4,mi,2,1,"div",49),d.Xb(5,"div",50),d.Xb(6,"h5",51),d.Tc(7),d.kc(8,"uppercase"),d.kc(9,"uppercase"),d.kc(10,"uppercase"),d.Wb(),d.Xb(11,"h6",52),d.Tc(12),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t.customerId),d.Eb(3),d.rc("ngIf","not_available"==(null==t?null:t.profileImage)),d.Eb(1),d.rc("ngIf","not_available"!=(null==t?null:t.profileImage)),d.Eb(3),d.Xc(" ",d.lc(8,7,null==t?null:t.firstName)," ",d.lc(9,9,null==t?null:t.middleName)," ",d.lc(10,11,null==t?null:t.lastName)," "),d.Eb(5),d.Vc("#",null==t?null:t.cifNumber,"")}}function gi(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",13),d.Xb(1,"div"),d.Xb(2,"mat-form-field",19),d.Xb(3,"mat-label",14),d.Tc(4,"CIF Number*"),d.Wb(),d.Xb(5,"input",43),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("change",function(){d.Hc(t);const e=d.jc();return e.fetchByCif(e.cardInitiationForm.get("cifNumber").value)})("keyup",function(e){return d.Hc(t),d.jc().onKeyPress(e)}),d.Wb(),d.Rc(6,bi,2,0,"mat-error",24),d.Wb(),d.Wb(),d.Xb(7,"div"),d.Xb(8,"mat-autocomplete",null,44),d.Rc(10,pi,13,13,"mat-option",32),d.Wb(),d.Wb(),d.Wb()}if(2&t){const t=d.Dc(9),e=d.jc();d.Eb(5),d.rc("formControl",e.cifNumberForm)("matAutocomplete",t),d.Eb(1),d.rc("ngIf",!e.cardInitiationForm.get("cifNumber").valid&&e.cardInitiationForm.get("cifNumber").touched),d.Eb(4),d.rc("ngForOf",e.listOfCustByCif)}}function hi(t,e){if(1&t&&(d.Xb(0,"mat-option",45),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Uc(t)}}function fi(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0\xa0Currency is Required! "),d.Wb())}function yi(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",13),d.Xb(1,"mat-form-field",19),d.Xb(2,"mat-label",14),d.Tc(3,"Currency *"),d.Wb(),d.Xb(4,"mat-select",57),d.fc("ngModelChange",function(e){return d.Hc(t),d.jc().selectedCurrency=e}),d.Xb(5,"mat-option",58),d.Tc(6,"Select"),d.Wb(),d.Rc(7,hi,2,2,"mat-option",32),d.Wb(),d.Rc(8,fi,2,0,"mat-error",24),d.Wb(),d.Wb()}if(2&t){const t=d.jc();d.Eb(4),d.rc("ngModel",t.selectedCurrency),d.Eb(3),d.rc("ngForOf",t.localCurrencyArr),d.Eb(1),d.rc("ngIf",!t.cardInitiationForm.get("currency").valid&&t.cardInitiationForm.get("currency").touched)}}function vi(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0\xa0currency is Required! "),d.Wb())}function Ci(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",13),d.Xb(1,"mat-form-field",19),d.Xb(2,"mat-label",14),d.Tc(3,"Currency"),d.Wb(),d.Xb(4,"input",59),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)}),d.Wb(),d.Rc(5,vi,2,0,"mat-error",24),d.Wb(),d.Wb()}if(2&t){const t=d.jc();d.Eb(5),d.rc("ngIf",!t.cardInitiationForm.get("currency").valid&&t.cardInitiationForm.get("currency").touched)}}function xi(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0\xa0Affinity Program is Required! "),d.Wb())}function Wi(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0\xa0Name on Card is Required! "),d.Wb())}function Xi(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",13),d.Xb(1,"mat-form-field",19),d.Xb(2,"mat-label",14),d.Tc(3,"Name On Card *"),d.Wb(),d.Xb(4,"input",60),d.fc("keypress",function(e){return d.Hc(t),d.jc().letterOnly(e)}),d.Wb(),d.Rc(5,Wi,2,0,"mat-error",24),d.Wb(),d.Wb()}if(2&t){const t=d.jc();d.Eb(5),d.rc("ngIf",!t.cardInitiationForm.get("nameOnCard").valid&&t.cardInitiationForm.get("nameOnCard").touched)}}function Ii(t,e){if(1&t&&(d.Xb(0,"mat-option",45),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Uc(t)}}function Si(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0\xa0Customer Account is Required! "),d.Wb())}function Oi(t,e){if(1&t&&(d.Xb(0,"div",13),d.Xb(1,"mat-form-field",19),d.Xb(2,"mat-label",14),d.Tc(3,"Customer Account Number *"),d.Wb(),d.Xb(4,"mat-select",61),d.Rc(5,Ii,2,2,"mat-option",32),d.Wb(),d.Rc(6,Si,2,0,"mat-error",24),d.Wb(),d.Wb()),2&t){const t=d.jc();d.Eb(5),d.rc("ngForOf",t.accountNoArr),d.Eb(1),d.rc("ngIf",!t.cardInitiationForm.get("customerAccount").valid&&t.cardInitiationForm.get("customerAccount").touched)}}function Di(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0\xa0Customer Account is Required! "),d.Wb())}function Ti(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",13),d.Xb(1,"mat-form-field",19),d.Xb(2,"mat-label",14),d.Tc(3,"Customer Account Number"),d.Wb(),d.Xb(4,"input",62),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)}),d.Wb(),d.Rc(5,Di,2,0,"mat-error",24),d.Wb(),d.Wb()}if(2&t){const t=d.jc();d.Eb(5),d.rc("ngIf",!t.cardInitiationForm.get("customerAccount").valid&&t.cardInitiationForm.get("customerAccount").touched)}}function Ai(t,e){if(1&t){const t=d.Yb();d.Xb(0,"input",63),d.fc("keypress",function(e){return d.Hc(t),d.jc().letterOnly(e)}),d.Wb()}}function ki(t,e){if(1&t){const t=d.Yb();d.Xb(0,"input",64),d.fc("keypress",function(e){return d.Hc(t),d.jc().letterOnly(e)}),d.Wb()}}function Ei(t,e){if(1&t&&(d.Xb(0,"mat-option",45),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc("",t," ")}}function _i(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0\xa0Employment Type is Required! "),d.Wb())}function wi(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",13),d.Xb(1,"mat-form-field",19),d.Xb(2,"mat-label",14),d.Tc(3,"Name On Card"),d.Wb(),d.Xb(4,"input",65),d.fc("keypress",function(e){return d.Hc(t),d.jc().letterOnly(e)}),d.Wb(),d.Wb(),d.Wb()}}let Pi=(()=>{class t{constructor(t,e,r,i,a,n,o,c){this.ls=t,this.router=e,this.accountService=r,this.formBuilder=i,this.apiService=a,this.appApiService=n,this.snack=o,this.cdr=c,this.cifNumberForm=new s.g,this.listOfCustByCif=[],this.showEditOption=!1,this.isCardInitiationDone=!1,this.arrayofEmployment=[],this.isCifValid=!1,this.onbackSpace=!1,this.isExistingCustomer=!0,this.localCurrencyArr=["CNY","GBP","INR","USD","ZAR","GBP"],this.selectedCurrency=this.localCurrencyArr[-1],this.iskycStatus=!1,this.isGoForKyc=!1,this.isKycForCardDone=!1,this.accountNoArr=[]}ngOnInit(){if(console.log(this.ls.getItem("cardCustomer")),this.cardId=this.ls.getItem("cardId"),this.applicant=this.ls.getItem("NAME"),this.getEmploymentType("employment_type"),console.log("this.cardId",this.cardId),this.buildInitiationForm(),JSON.parse(this.ls.getItem("CARD_INITIATION_DONE")),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),null!=this.cardId&&this.isCardInitiationDone&&(this.iskycStatus=!0,this.showEditOption=!0,this.cifNumberPrimary=this.ls.getItem("Card_CIF_NUM_PRIMARY"),this.getCardInitiation()),this.isKycForCardDone=this.ls.getItem("kycForCard"),1==this.isKycForCardDone){if(this.cardInitiationForm.get("existingCustomer").patchValue(!1),this.kycRefrence=this.ls.getItem("kycReference"),this.kycRefrence){let t=this.kycRefrence.slice(4);console.log(t),this.apiService.getPrimaryInfo(t).subscribe(t=>{this.kycStatus=t.customerInfoList[0].customerAdditionalInfo.kycStatus,this.ls.setItem("KycStatus",this.kycStatus)})}this.iskycStatus=!0,this.isGoForKyc=!0,this.cardInitiationForm.get("cardType").patchValue(this.ls.getItem("cardType")),console.log(this.ls.getItem("cardCustomer")),this.cardInitiationForm.controls.applicantName.setValue(this.ls.getItem("cardCustomer"))}}onKeyPress(t){8===t.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1;let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),console.log(t.target.value,!t.target.value),clearTimeout(this.timer),t.target.value?this.timer=setTimeout(()=>{this.appApiService.fetchByCif(t.target.value).subscribe(t=>{console.log(t),t&&(this.listOfCustByCif=t.customerInfoList)})},1e3):(this.isCifValid=!1,this.cardInitiationForm.get("cifNumber").clearValidators(),this.cardInitiationForm.get("cifNumber").updateValueAndValidity(),this.cardInitiationForm.get("existingCustomer").patchValue(!0),this.cardInitiationForm.reset(),this.listOfCustByCif=[])}goToggle(t){console.log("event",t.checked),this.isExistingCustomer=1==t.checked}addOnCard(t){console.log("event",t.checked),this.ls.setItem("ADD_ON_CARD",1==t.checked)}getEmploymentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayofEmployment=t,console.log(this.arrayofEmployment)})}getAccountData(t){this.apiService.getProfileDetails(t).subscribe(t=>{var e,r,i,a;console.log(t),console.log(null===(r=null===(e=null==t?void 0:t.signatures)||void 0===e?void 0:e[0])||void 0===r?void 0:r.accountId),this.accountID=null===(a=null===(i=null==t?void 0:t.signatures)||void 0===i?void 0:i[0])||void 0===a?void 0:a.accountId,this.cardInitiationForm.controls.currency.setValue(null==t?void 0:t.accountCurrency)},t=>{})}onSubmit(){console.log("data",this.cardInitiationForm.value),localStorage.setItem("Currency Type",this.cardInitiationForm.value.currency),this.apiService.uploadCardInitiation({existingCustomer:this.cardInitiationForm.value.existingCustomer,cardType:this.cardInitiationForm.value.cardType,customerAccount:this.cardInitiationForm.value.customerAccount,applicantName:this.cardInitiationForm.value.applicantName,currency:this.cardInitiationForm.value.currency,employmentType:this.cardInitiationForm.value.employmentType,affinityProgram:this.cardInitiationForm.value.affinityProgram,nameOnCard:this.cardInitiationForm.value.nameOnCard,status:null,kycStatus:this.kycStatus,kycReference:this.kycRefrence,customerId:this.cardInitiationForm.value.cifNumber,cardId:this.showEditOption?this.cardId:null}).subscribe(t=>{this.ls.setItem("cardId",t.cardId),this.apiService.updateCardStatus({cardId:t.cardId,status:"ONGOING"}).subscribe(t=>{}),console.log("data",t),this.next()})}next(){this.ls.setItem("CARD_INITIATION_DONE",!0),this.ls.setItem("Card_Applicant_name",this.cardInitiationForm.value.applicantName),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/customerInformation"])}getCardInitiation(){this.apiService.getCardInitiationDetails(this.cardId).subscribe(t=>{this.kycStatus=t.kycStatus,this.kycRefrence=t.kycReference,this.buildInitiationForm(t),this.apiService.fetchAccountIdByCustId(this.cifNumberPrimary).subscribe(t=>{var e;this.accountNoArr=t,this.cardInitiationForm.controls.customerAccount.setValue(null===(e=this.accountNoArr)||void 0===e?void 0:e[0])}),console.log("data",t),this.isExistingCustomer=1==t.existingCustomer})}buildInitiationForm(t){const e=localStorage.getItem("ADD_ON_CARD");this.cardInitiationForm=this.formBuilder.group({cifNumber:[t?this.cifNumberPrimary:"",[s.A.required]],existingCustomer:[!t||t.existingCustomer],cardType:[t?t.cardType:"",[s.A.required]],customerAccount:[t?t.customerAccount:"",[s.A.required]],applicantName:[t?t.applicantName:""],currency:[t?t.currency:"",[s.A.required]],employmentType:[t?t.employmentType:"",[s.A.required]],affinityProgram:[t?t.affinityProgram:"",[s.A.required]],nameOnCard:[t?t.nameOnCard:"",[s.A.required]],addOnCard:["true"==e]}),this.formControlValueChanged()}formControlValueChanged(){let t=this.cardInitiationForm.get("cifNumber");this.cardInitiationForm.get("existingCustomer").valueChanges.subscribe(e=>{console.log(e),0==e?(this.cardInitiationForm.get("customerAccount").setValidators([s.A.nullValidator]),t.setValidators([s.A.nullValidator])):(this.cardInitiationForm.get("customerAccount").setValidators([s.A.required]),t.setValidators([s.A.required])),t.updateValueAndValidity()})}goBack(){this.router.navigate(["/cardaccount/applicationEntryStage/list"])}keyUpevent(t){8===t.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){console.log(!this.isGoForKyc),console.log(!this.cardInitiationForm.valid),console.log(!this.cardInitiationForm.valid||!this.isGoForKyc),console.log(this.cardInitiationForm);var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}fetchByCif(t){t&&(this.showSpinn=!0,this.appApiService.fetchByCif(t).subscribe(e=>{if(this.kycStatus=e.customerInfoList[0].customerAdditionalInfo.kycStatus,this.kycRefrence=e.customerInfoList[0].customerAdditionalInfo.kycReference,this.cardInitiationForm.controls.cifNumber.setValue(t),this.cardInitiationForm.controls.applicantName.setValue(e.customerInfoList[0].firstName+" "+e.customerInfoList[0].lastName),this.cardInitiationForm.controls.customerAccount.setValue(this.accountID),this.showSpinn=!1,!e)return this.isCifValid=!1,void this.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});{let r;"APPROVED"!=e.customerInfoList[0].custStatus&&(this.isCifValid=!1),"APPROVED"==e.customerInfoList[0].custStatus&&(this.isCifValid=!0),r=e.customerInfoList[0].userAddress.length>1?e.customerInfoList[0].userAddress.find(t=>"Permanent"==t.addressType||"permanent"==t.addressType):e.customerInfoList[0].userAddress[0];let i={prefix:e.customerInfoList[0].prefix,customerId:e.customerInfoList[0].customerId,firstName:e.customerInfoList[0].firstName,middleName:e.customerInfoList[0].middleName,lastName:e.customerInfoList[0].lastName,gender:e.customerInfoList[0].gender,dateOfBirth:this.convertDate(e.customerInfoList[0].dateOfBirth),placeOfBirth:e.customerInfoList[0].placeOfBirth,residenceStatus:e.customerInfoList[0].residenceStatus,nationality:e.customerInfoList[0].nationality,countryOfResidence:e.customerInfoList[0].countryOfResidence,occupationType:e.customerInfoList[0].occupationType,custIdProofs:e.customerInfoList[0].custIdProofs,idType:e.customerInfoList[0].custIdProofs.length>0?e.customerInfoList[0].custIdProofs[0].idType:"",idNumber:e.customerInfoList[0].custIdProofs.length>0?e.customerInfoList[0].custIdProofs[0].idNumber:"",expiryDate:e.customerInfoList[0].custIdProofs.length>0?this.convertDate(e.customerInfoList[0].custIdProofs[0].expiryDate):"",addressType:r.addressType,address1:r.address1,address2:r.address2,city:r.city,country:r.country,state:r.state,zipCode:r.zipCode,phoneNumber:e.customerInfoList[0].phoneNumber,landlineNumber:e.customerInfoList[0].landlineNumber,primaryEmailAdress:e.customerInfoList[0].primaryEmailAdress};null!=this.cardInitiationForm.value.swiftCode&&null!=this.cardInitiationForm.value.swiftCodeEnable||(console.log(this.cardInitiationForm.value.swiftCode),this.flag=!1),this.cifNumberPrimary=t,this.ls.setItem("Card_CIF_NUM_PRIMARY",this.cifNumberPrimary),this.apiService.sendCIF(i),this.apiService.fetchAccountIdByCustId(t).subscribe(t=>{var e;this.accountNoArr=t,this.cardInitiationForm.controls.customerAccount.setValue(null===(e=this.accountNoArr)||void 0===e?void 0:e[0]),console.log(t)})}this.cdr.markForCheck()}),this.getAccountData(t))}changeEvent(t){console.log(t.value),this.cardType=t.value,"Credit"==t.value?(this.iskycStatus=!0,this.isGoForKyc="APPROVED"==this.kycStatus):(this.isGoForKyc=!0,this.iskycStatus=!1)}convertDate(t){let e=_t(t).format("YYYY-MMM-DD");if(e)return e}goToKyc(){this.ls.setItem("cardType",this.cardType),this.ls.setItem("accountType","cardOrigination"),this.router.navigate(["/others/kyc"])}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(c.a),d.Rb(m.h),d.Rb(D.a),d.Rb(s.f),d.Rb(l.b),d.Rb(Et.a),d.Rb(b.a),d.Rb(d.h))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-card-initiation"]],decls:79,vars:18,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_opinion_dxp8.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],["fxLayout","column",3,"formGroup"],["fxFlex","100%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"pb-1"],[1,"hint"],["name","scholarshipOrBusinessEligible","formControlName","existingCustomer",2,"margin-left","1cm",3,"change"],["class","flex-grow-1","fxFlex","100%","fxLayout","column",4,"ngIf"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["appearance","outline",1,"full-width"],["formControlName","cardType","placeholder","Select",3,"selectionChange"],["value","Debit",4,"ngIf"],["value","Credit"],["value","Forex",4,"ngIf"],[4,"ngIf"],["class","pb-1",4,"ngIf"],["formControlName","affinityProgram","placeholder","Select"],["value","Affinity Program1"],["value","Affinity Program2"],["matInput","","class","alignment","type","text","formControlName","applicantName","placeholder","Applicant Name",3,"keypress",4,"ngIf"],["matInput","","class","alignment","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",3,"keypress",4,"ngIf"],["formControlName","employmentType","placeholder","Select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","addOnCard",2,"margin-left","1cm",3,"change"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],["fxFlex","100%","fxLayout","column",1,"flex-grow-1"],["fxFlex","100%"],[2,"color","#03a9f4"],["mat-button","",2,"text-decoration","underline",3,"disabled","click"],["value","Debit"],["value","Forex"],["matInput","","type","text","formControlName","cifNumber","placeholder","CIF Number",1,"alignment",3,"formControl","matAutocomplete","keypress","change","keyup"],["auto","matAutocomplete"],[3,"value"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],["fxFlex","80"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","100%","margin-bottom","50px",3,"src"],["formControlName","currency","placeholder","Select",3,"ngModel","ngModelChange"],["value",""],["matInput","","type","text","autocomplete","off","formControlName","currency","placeholder","currency","name","currency",1,"alignment",3,"keypress"],["matInput","","type","text","formControlName","nameOnCard","placeholder","Name On Card","name","nameOnCard","required","",1,"alignment",3,"keypress"],["formControlName","customerAccount"],["matInput","","type","text","autocomplete","off","formControlName","customerAccount","placeholder","Customer Account Number","name","customerAccount",1,"alignment",3,"keypress"],["matInput","","type","text","formControlName","applicantName","placeholder","Applicant Name",1,"alignment",3,"keypress"],["matInput","","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",1,"alignment",3,"keypress"],["matInput","","type","text","formControlName","nameOnCard","placeholder","Name On Card",1,"alignment",3,"keypress"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Card Initiation"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",1),d.Xb(10,"div",2),d.Xb(11,"mat-card",7),d.Xb(12,"mat-card-title",8),d.Xb(13,"div",9),d.Tc(14,"Card Initiation"),d.Wb(),d.Sb(15,"mat-divider"),d.Wb(),d.Xb(16,"mat-card-content"),d.Xb(17,"form",10),d.Xb(18,"div",11),d.Xb(19,"div",12),d.Xb(20,"div",13),d.Xb(21,"label",14),d.Tc(22,"Existing Customer *"),d.Wb(),d.Xb(23,"mat-slide-toggle",15),d.fc("change",function(t){return e.goToggle(t)}),d.Wb(),d.Wb(),d.Rc(24,ci,16,3,"div",16),d.Wb(),d.Wb(),d.Xb(25,"div",17),d.Xb(26,"div",18),d.Xb(27,"div",13),d.Xb(28,"mat-form-field",19),d.Xb(29,"mat-label",14),d.Tc(30,"Card Type *"),d.Wb(),d.Xb(31,"mat-select",20),d.fc("selectionChange",function(t){return e.changeEvent(t)}),d.Rc(32,si,2,0,"mat-option",21),d.Xb(33,"mat-option",22),d.Tc(34,"Credit"),d.Wb(),d.Rc(35,li,2,0,"mat-option",23),d.Wb(),d.Rc(36,di,2,0,"mat-error",24),d.Wb(),d.Wb(),d.Rc(37,gi,11,4,"div",25),d.Rc(38,yi,9,3,"div",25),d.Rc(39,Ci,6,1,"div",25),d.Xb(40,"div",13),d.Xb(41,"mat-form-field",19),d.Xb(42,"mat-label",14),d.Tc(43,"Affinity Program *"),d.Wb(),d.Xb(44,"mat-select",26),d.Xb(45,"mat-option",27),d.Tc(46,"Affinity Program1"),d.Wb(),d.Xb(47,"mat-option",28),d.Tc(48,"Affinity Program2"),d.Wb(),d.Wb(),d.Rc(49,xi,2,0,"mat-error",24),d.Wb(),d.Wb(),d.Rc(50,Xi,6,1,"div",25),d.Wb(),d.Xb(51,"div",18),d.Rc(52,Oi,7,2,"div",25),d.Rc(53,Ti,6,1,"div",25),d.Xb(54,"div",13),d.Xb(55,"mat-form-field",19),d.Xb(56,"mat-label",14),d.Tc(57,"Applicant Name *"),d.Wb(),d.Rc(58,Ai,1,0,"input",29),d.Rc(59,ki,1,0,"input",30),d.Wb(),d.Wb(),d.Xb(60,"div",13),d.Xb(61,"mat-form-field",19),d.Xb(62,"mat-label",14),d.Tc(63,"Employment Type *"),d.Wb(),d.Xb(64,"mat-select",31),d.Rc(65,Ei,2,2,"mat-option",32),d.Wb(),d.Rc(66,_i,2,0,"mat-error",24),d.Wb(),d.Wb(),d.Rc(67,wi,5,0,"div",25),d.Wb(),d.Wb(),d.Xb(68,"div",11),d.Xb(69,"div",12),d.Xb(70,"div",13),d.Xb(71,"label",14),d.Tc(72,"Addon Card"),d.Wb(),d.Xb(73,"mat-slide-toggle",33),d.fc("change",function(t){return e.addOnCard(t)}),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(74,"div",34),d.Xb(75,"button",35),d.fc("click",function(){return e.goBack()}),d.Tc(76," Back "),d.Wb(),d.Xb(77,"button",36),d.fc("click",function(){return e.onSubmit()}),d.Tc(78," Next "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(17),d.rc("formGroup",e.cardInitiationForm),d.Eb(7),d.rc("ngIf",e.iskycStatus),d.Eb(8),d.rc("ngIf",e.isExistingCustomer),d.Eb(3),d.rc("ngIf",e.isExistingCustomer),d.Eb(1),d.rc("ngIf",!e.cardInitiationForm.get("cardType").valid&&e.cardInitiationForm.get("cardType").touched),d.Eb(1),d.rc("ngIf",e.isExistingCustomer),d.Eb(1),d.rc("ngIf",!e.isExistingCustomer),d.Eb(1),d.rc("ngIf",e.isExistingCustomer),d.Eb(10),d.rc("ngIf",!e.cardInitiationForm.get("affinityProgram").valid&&e.cardInitiationForm.get("affinityProgram").touched),d.Eb(1),d.rc("ngIf",!e.isExistingCustomer),d.Eb(2),d.rc("ngIf",e.isExistingCustomer),d.Eb(1),d.rc("ngIf",!e.isExistingCustomer),d.Eb(5),d.rc("ngIf",!e.isExistingCustomer),d.Eb(1),d.rc("ngIf",e.isExistingCustomer),d.Eb(6),d.rc("ngForOf",e.arrayofEmployment),d.Eb(1),d.rc("ngIf",!e.cardInitiationForm.get("employmentType").valid&&e.cardInitiationForm.get("employmentType").touched),d.Eb(1),d.rc("ngIf",e.isExistingCustomer),d.Eb(10),d.rc("disabled",e.isExistingCustomer||"Credit"!==e.cardInitiationForm.value.cardType?!e.cardInitiationForm.valid:!e.cardInitiationForm.valid||!e.isGoForKyc))},directives:[h.e,h.b,p.a,p.h,X.a,p.d,s.C,s.s,s.j,h.f,Rt.a,s.r,s.i,i.n,y.c,y.g,Pt.a,Nt.n,i.m,h.d,g.b,y.b,f.b,s.c,n.c,s.h,n.a,p.c,Bt.b,s.z],pipes:[i.w,i.v],styles:[".inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;padding-left:20px}.line[_ngcontent-%COMP%]{flex:1;margin-left:90px}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.inputMatLastName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}  .cdk-overlay-pane{min-width:270px!important;padding:7px 0}  .mat-card-avatar{max-width:15%!important}.example-header-image-dropdown[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;background-size:cover;background-color:#aed6f1;max-width:15%!important;width:25px;height:35px;border-radius:50%}.main-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}  .mat-autocomplete-panel{margin:10px!important;min-width:107%!important;left:-6%!important}"]}),t})();function Ni(t,e){if(1&t&&(d.Xb(0,"mat-option",72),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function Ri(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please select the Employment Type "),d.Wb())}function Fi(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please enter the Employee Number "),d.Wb())}function Mi(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please enter the Designation "),d.Wb())}function Li(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Employment Start Date is Required! "),d.Wb())}function Vi(t,e){if(1&t&&(d.Xb(0,"mat-option",72),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function Bi(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please select the Employment Category "),d.Wb())}function ji(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please enter the Office Name "),d.Wb())}function qi(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Employment End Date is Required! "),d.Wb())}function Ui(t,e){if(1&t){const t=d.Yb();d.Xb(0,"form",8),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"mat-card",9),d.Xb(4,"mat-card-title",10),d.Xb(5,"div",11),d.Tc(6,"Financial Details"),d.Wb(),d.Sb(7,"mat-divider"),d.Wb(),d.Xb(8,"mat-card-content"),d.Xb(9,"div",12),d.Xb(10,"div",13),d.Xb(11,"div",14),d.Xb(12,"mat-form-field",15),d.Xb(13,"mat-label"),d.Tc(14,"Applicant Name"),d.Wb(),d.Sb(15,"input",16),d.Wb(),d.Wb(),d.Xb(16,"div",14),d.Xb(17,"mat-form-field",15),d.Xb(18,"mat-label"),d.Tc(19,"Total Income*"),d.Wb(),d.Xb(20,"span",17),d.Tc(21),d.Wb(),d.Sb(22,"input",18),d.Wb(),d.Wb(),d.Xb(23,"div",14),d.Xb(24,"mat-form-field",15),d.Xb(25,"mat-label"),d.Tc(26,"Last Update On"),d.Wb(),d.Sb(27,"input",19),d.Sb(28,"mat-datepicker-toggle",20),d.Sb(29,"mat-datepicker",null,21),d.Wb(),d.Wb(),d.Wb(),d.Xb(31,"div",13),d.Xb(32,"div",14),d.Xb(33,"mat-form-field",15),d.Xb(34,"mat-label"),d.Tc(35,"Currently Working"),d.Wb(),d.Sb(36,"input",22),d.Wb(),d.Wb(),d.Xb(37,"div",14),d.Xb(38,"mat-form-field",15),d.Xb(39,"mat-label"),d.Tc(40,"Total Expenses*"),d.Wb(),d.Xb(41,"span",23),d.Tc(42),d.Wb(),d.Sb(43,"input",24),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(44,"mat-card",9),d.Xb(45,"mat-card-title",10),d.Xb(46,"div",11),d.Tc(47,"Employment Details"),d.Wb(),d.Sb(48,"mat-divider"),d.Wb(),d.Xb(49,"mat-card-content"),d.Xb(50,"div",12),d.Xb(51,"div",13),d.Xb(52,"div",14),d.Xb(53,"mat-form-field",15),d.Xb(54,"mat-label"),d.Tc(55,"Employment Type *"),d.Wb(),d.Xb(56,"mat-select",25),d.Rc(57,Ni,2,2,"mat-option",26),d.Wb(),d.Rc(58,Ri,2,0,"mat-error",27),d.Wb(),d.Wb(),d.Xb(59,"div",14),d.Xb(60,"mat-form-field",15),d.Xb(61,"mat-label"),d.Tc(62,"Employee number"),d.Wb(),d.Xb(63,"input",28),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)}),d.Wb(),d.Rc(64,Fi,2,0,"mat-error",27),d.Wb(),d.Wb(),d.Xb(65,"div",14),d.Xb(66,"mat-form-field",15),d.Xb(67,"mat-label"),d.Tc(68,"Designation"),d.Wb(),d.Xb(69,"input",29),d.fc("keypress",function(e){return d.Hc(t),d.jc().letterOnly(e)}),d.Wb(),d.Rc(70,Mi,2,0,"mat-error",27),d.Wb(),d.Wb(),d.Xb(71,"div",14),d.Xb(72,"mat-form-field",15),d.Xb(73,"mat-label"),d.Tc(74,"Employment Start Date *"),d.Wb(),d.Sb(75,"input",30),d.Sb(76,"mat-datepicker-toggle",20),d.Sb(77,"mat-datepicker",null,31),d.Rc(79,Li,2,0,"mat-error",27),d.Wb(),d.Wb(),d.Wb(),d.Xb(80,"div",13),d.Xb(81,"div",14),d.Xb(82,"mat-form-field",15),d.Xb(83,"mat-label"),d.Tc(84,"Employment Category *"),d.Wb(),d.Xb(85,"mat-select",32),d.Rc(86,Vi,2,2,"mat-option",26),d.Wb(),d.Rc(87,Bi,2,0,"mat-error",27),d.Wb(),d.Wb(),d.Xb(88,"div",14),d.Xb(89,"mat-form-field",15),d.Xb(90,"mat-label"),d.Tc(91,"Office Name"),d.Wb(),d.Xb(92,"input",33),d.fc("keypress",function(e){return d.Hc(t),d.jc().letterOnly(e)}),d.Wb(),d.Rc(93,ji,2,0,"mat-error",27),d.Wb(),d.Wb(),d.Xb(94,"div",14),d.Xb(95,"mat-form-field",15),d.Xb(96,"mat-label"),d.Tc(97,"Employment End Date"),d.Wb(),d.Sb(98,"input",34),d.Sb(99,"mat-datepicker-toggle",20),d.Sb(100,"mat-datepicker",null,35),d.Rc(102,qi,2,0,"mat-error",27),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(103,"mat-card",9),d.Xb(104,"mat-card-title",10),d.Xb(105,"div",11),d.Tc(106," Monthly Income "),d.Xb(107,"div",36),d.Tc(108),d.Wb(),d.Wb(),d.Sb(109,"mat-divider"),d.Wb(),d.Xb(110,"mat-card-content"),d.Xb(111,"div",12),d.Xb(112,"div",13),d.Xb(113,"div",14),d.Xb(114,"mat-form-field",15),d.Xb(115,"mat-label"),d.Tc(116,"Bonus"),d.Wb(),d.Xb(117,"input",37),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(118,"div",14),d.Xb(119,"mat-form-field",15),d.Xb(120,"mat-label"),d.Tc(121,"Interest Income"),d.Wb(),d.Xb(122,"input",38),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(123,"div",14),d.Xb(124,"mat-form-field",15),d.Xb(125,"mat-label"),d.Tc(126,"Salary"),d.Wb(),d.Xb(127,"input",39),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(128,"div",14),d.Xb(129,"mat-form-field",15),d.Xb(130,"mat-label"),d.Tc(131,"Cash Gifts"),d.Wb(),d.Xb(132,"input",40),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(133,"div",14),d.Xb(134,"mat-form-field",15),d.Xb(135,"mat-label"),d.Tc(136,"Total"),d.Wb(),d.Sb(137,"input",41),d.Wb(),d.Wb(),d.Wb(),d.Xb(138,"div",13),d.Xb(139,"div",14),d.Xb(140,"mat-form-field",15),d.Xb(141,"mat-label"),d.Tc(142,"Business"),d.Wb(),d.Xb(143,"input",42),d.fc("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)})("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(144,"div",14),d.Xb(145,"mat-form-field",15),d.Xb(146,"mat-label"),d.Tc(147,"Pension"),d.Wb(),d.Xb(148,"input",43),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(149,"div",14),d.Xb(150,"mat-form-field",15),d.Xb(151,"mat-label"),d.Tc(152,"Rentals"),d.Wb(),d.Xb(153,"input",44),d.fc("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)})("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(154,"div",14),d.Xb(155,"mat-form-field",15),d.Xb(156,"mat-label"),d.Tc(157,"Others"),d.Wb(),d.Xb(158,"input",45),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(159,"mat-card",9),d.Xb(160,"mat-card-title",10),d.Xb(161,"div",11),d.Tc(162," Monthly Expenses "),d.Xb(163,"div",36),d.Tc(164),d.Wb(),d.Wb(),d.Sb(165,"mat-divider"),d.Wb(),d.Xb(166,"mat-card-content"),d.Xb(167,"div",12),d.Xb(168,"div",13),d.Xb(169,"div",14),d.Xb(170,"mat-form-field",15),d.Xb(171,"mat-label"),d.Tc(172,"Household"),d.Wb(),d.Xb(173,"input",46),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(174,"div",14),d.Xb(175,"mat-form-field",15),d.Xb(176,"mat-label"),d.Tc(177,"Education"),d.Wb(),d.Xb(178,"input",47),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(179,"div",14),d.Xb(180,"mat-form-field",15),d.Xb(181,"mat-label"),d.Tc(182,"Vehicle Maintenance"),d.Wb(),d.Xb(183,"input",48),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(184,"div",14),d.Xb(185,"mat-form-field",15),d.Xb(186,"mat-label"),d.Tc(187,"Others"),d.Wb(),d.Xb(188,"input",49),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(189,"div",14),d.Xb(190,"mat-form-field",15),d.Xb(191,"mat-label"),d.Tc(192,"Total"),d.Wb(),d.Sb(193,"input",50),d.Wb(),d.Wb(),d.Wb(),d.Xb(194,"div",13),d.Xb(195,"div",14),d.Xb(196,"mat-form-field",15),d.Xb(197,"mat-label"),d.Tc(198,"Medical"),d.Wb(),d.Xb(199,"input",51),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(200,"div",14),d.Xb(201,"mat-form-field",15),d.Xb(202,"mat-label"),d.Tc(203,"Travel"),d.Wb(),d.Xb(204,"input",52),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(205,"div",14),d.Xb(206,"mat-form-field",15),d.Xb(207,"mat-label"),d.Tc(208,"Rentals"),d.Wb(),d.Xb(209,"input",53),d.fc("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)})("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)}),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(210,"mat-card",9),d.Xb(211,"mat-card-title",10),d.Xb(212,"div",11),d.Tc(213," Annual Liabilities "),d.Xb(214,"div",36),d.Tc(215),d.Wb(),d.Wb(),d.Sb(216,"mat-divider"),d.Wb(),d.Xb(217,"mat-card-content"),d.Xb(218,"div",12),d.Xb(219,"div",13),d.Xb(220,"div",14),d.Xb(221,"mat-form-field",15),d.Xb(222,"mat-label"),d.Tc(223,"Property Loans"),d.Wb(),d.Xb(224,"input",54),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(225,"div",14),d.Xb(226,"mat-form-field",15),d.Xb(227,"mat-label"),d.Tc(228,"Personal Loans"),d.Wb(),d.Xb(229,"input",55),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(230,"div",14),d.Xb(231,"mat-form-field",15),d.Xb(232,"mat-label"),d.Tc(233,"Overdrafts"),d.Wb(),d.Xb(234,"input",56),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(235,"div",14),d.Xb(236,"mat-form-field",15),d.Xb(237,"mat-label"),d.Tc(238,"Total"),d.Wb(),d.Sb(239,"input",57),d.Wb(),d.Wb(),d.Wb(),d.Xb(240,"div",13),d.Xb(241,"div",14),d.Xb(242,"mat-form-field",15),d.Xb(243,"mat-label"),d.Tc(244,"Vehicle Loans"),d.Wb(),d.Xb(245,"input",58),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(246,"div",14),d.Xb(247,"mat-form-field",15),d.Xb(248,"mat-label"),d.Tc(249,"Cards Outstanding's"),d.Wb(),d.Xb(250,"input",59),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(251,"div",14),d.Xb(252,"mat-form-field",15),d.Xb(253,"mat-label"),d.Tc(254,"Others"),d.Wb(),d.Xb(255,"input",60),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(256,"mat-card",9),d.Xb(257,"mat-card-title",10),d.Xb(258,"div",11),d.Tc(259," Asset "),d.Xb(260,"div",36),d.Tc(261),d.Wb(),d.Wb(),d.Sb(262,"mat-divider"),d.Wb(),d.Xb(263,"mat-card-content"),d.Xb(264,"div",12),d.Xb(265,"div",13),d.Xb(266,"div",14),d.Xb(267,"mat-form-field",15),d.Xb(268,"mat-label"),d.Tc(269,"Savings Deposits"),d.Wb(),d.Xb(270,"input",61),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(271,"div",14),d.Xb(272,"mat-form-field",15),d.Xb(273,"mat-label"),d.Tc(274,"Properties"),d.Wb(),d.Xb(275,"input",62),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(276,"div",14),d.Xb(277,"mat-form-field",15),d.Xb(278,"mat-label"),d.Tc(279,"Fixed Deposits"),d.Wb(),d.Xb(280,"input",63),d.fc("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)})("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(281,"div",14),d.Xb(282,"mat-form-field",15),d.Xb(283,"mat-label"),d.Tc(284,"Others"),d.Wb(),d.Xb(285,"input",64),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(286,"div",14),d.Xb(287,"mat-form-field",15),d.Xb(288,"mat-label"),d.Tc(289,"Total"),d.Wb(),d.Sb(290,"input",65),d.Wb(),d.Wb(),d.Wb(),d.Xb(291,"div",13),d.Xb(292,"div",14),d.Xb(293,"mat-form-field",15),d.Xb(294,"mat-label"),d.Tc(295,"Stocks/Funds"),d.Wb(),d.Xb(296,"input",66),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(297,"div",14),d.Xb(298,"mat-form-field",15),d.Xb(299,"mat-label"),d.Tc(300,"Automobiles"),d.Wb(),d.Xb(301,"input",67),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(302,"div",14),d.Xb(303,"mat-form-field",15),d.Xb(304,"mat-label"),d.Tc(305,"Lands"),d.Wb(),d.Xb(306,"input",68),d.fc("keypress",function(e){return d.Hc(t),d.jc()._keyPress(e)})("input",function(){d.Hc(t);const e=d.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(307,"div",1),d.Xb(308,"div",2),d.Xb(309,"div",69),d.Xb(310,"button",70),d.fc("click",function(){return d.Hc(t),d.jc().goBack()}),d.Tc(311," Back "),d.Wb(),d.Xb(312,"button",71),d.fc("click",function(){return d.Hc(t),d.jc().onSubmit()}),d.Tc(313," Next "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){const t=d.Dc(30),e=d.Dc(78),r=d.Dc(101),i=d.jc();d.rc("formGroup",i.cardFinancialDetailsForm),d.Eb(21),d.Vc("",i.currencySymbol,"\xa0"),d.Eb(6),d.rc("matDatepicker",t)("max",i.lastData),d.Eb(1),d.rc("for",t),d.Eb(14),d.Vc("",i.currencySymbol,"\xa0"),d.Eb(15),d.rc("ngForOf",i.arrayEmploymentType),d.Eb(1),d.rc("ngIf",i.cardFinancialDetailsForm.get("employmentType").hasError("required")),d.Eb(5),d.rc("required","Salaried"==i.cardFinancialDetailsForm.get("employmentType").value),d.Eb(1),d.rc("ngIf",i.cardFinancialDetailsForm.get("employeeNumber").hasError("required")),d.Eb(5),d.rc("required","Salaried"==i.cardFinancialDetailsForm.get("employmentType").value),d.Eb(1),d.rc("ngIf",i.cardFinancialDetailsForm.get("designation").hasError("required")),d.Eb(5),d.rc("max",i.maxDate)("matDatepicker",e),d.Eb(1),d.rc("for",e),d.Eb(3),d.rc("ngIf",i.cardFinancialDetailsForm.get("employmentStartDate").hasError("required")),d.Eb(7),d.rc("ngForOf",i.arrayEmploymentCategory),d.Eb(1),d.rc("ngIf",i.cardFinancialDetailsForm.get("employmentCategory").hasError("required")),d.Eb(5),d.rc("required","Salaried"==i.cardFinancialDetailsForm.get("employmentType").value),d.Eb(1),d.rc("ngIf",i.cardFinancialDetailsForm.get("officeName").hasError("required")),d.Eb(5),d.rc("matDatepicker",r)("min",i.cardFinancialDetailsForm.get("employmentStartDate").value),d.Eb(1),d.rc("for",r),d.Eb(3),d.rc("ngIf",i.cardFinancialDetailsForm.get("employmentEndDate").hasError("required")),d.Eb(6),d.Uc(i.incomeErrMsg),d.Eb(56),d.Uc(i.ExpensesErrMsg),d.Eb(51),d.Uc(i.LiabilitiesErrMsg),d.Eb(46),d.Uc(i.assetErrMsg),d.Eb(51),d.rc("disabled",i.incomeErrMsg||i.ExpensesErrMsg||i.LiabilitiesErrMsg||i.assetErrMsg||!i.cardFinancialDetailsForm.valid)}}let zi=(()=>{class t{constructor(t,e,r,i,a,n,o){this.formBuilder=t,this.api=e,this.snack=r,this.accountService=i,this.router=a,this.ls=n,this.cdr=o,this.disableNext=!1,this.showEditOption=!1,this.minDate=new Date,this.maxDate=new Date,this.lastData=(new Date).toISOString().slice(0,10)}ngOnInit(){console.log(history.state.amount),this.cardId=this.ls.getItem("cardId"),this.currencytype=localStorage.getItem("Currency Type"),"INR"===this.currencytype?this.currencySymbol="\u20b9":"USD"===this.currencytype?this.currencySymbol="$":"CNY"===this.currencytype?this.currencySymbol="\xa5":"GBP"===this.currencytype?this.currencySymbol="\xa3":"ZAR"===this.currencytype&&(this.currencySymbol="R"),this.applicantName=this.ls.getItem("primaryCustomerName");let t=JSON.parse(this.ls.getItem("CARD_FINANCIAL_DONE"));this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),null!=this.cardId&&t?(console.log("fggd"),this.showEditOption=!0,this.getCardFinancialDetailsSummary()):(this.showEditOption=!1,setTimeout(()=>{this.buildFinacialFormGroup()},200))}getCardFinancialDetailsSummary(){this.api.getCardFinancialDetails(this.cardId).subscribe(t=>{console.log(t),this.buildFinacialFormGroup(t[t.length-1])})}getEmploymentType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentType=t})}getEmploymentCategory(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentCategory=t})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}buildFinacialFormGroup(t){console.log(t),this.cardFinancialDetailsForm=this.formBuilder.group({applicantName:[t?t.applicantName:this.ls.getItem("Card_Applicant_name"),s.A.required],currentlyWorking:[t?t.currentlyWorking:""],applicantTotalIncome:[t?t.applicantTotalIncome:0,s.A.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,s.A.required],lastUpdatedon:[t&&(null==t?void 0:t.lastUpdatedon)?new Date(t.lastUpdatedon):""],employmentType:[t?t.employmentType:"",s.A.required],employmentCategory:[t?t.employmentCategory:"",s.A.required],employeeNumber:[t?t.employeeNumber:""],officeName:[t?t.officeName:""],designation:[t?t.designation:""],employmentStartDate:[t&&(null==t?void 0:t.employmentStartDate)?new Date(t.employmentStartDate):"",s.A.required],employmentEndDate:[t&&(null==t?void 0:t.employmentEndDate)?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0]},{validator:t=>this.validateInputGroups(t)})}validateInputGroups(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}onSubmit(){let t=this.converDate(this.cardFinancialDetailsForm.controls.employmentStartDate.value);t&&"Invalid date"!=t?(console.log("startDate",t),this.cardFinancialDetailsForm.value.employmentStartDate=t):this.cardFinancialDetailsForm.value.employmentStartDate=null;let e=this.converDate(this.cardFinancialDetailsForm.controls.employmentEndDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.cardFinancialDetailsForm.value.employmentEndDate=e):this.cardFinancialDetailsForm.value.employmentEndDate=null;let r=_t(this.cardFinancialDetailsForm.controls.lastUpdatedon.value).format("YYYY-MM-DD HH:MM:SS");console.log("lastUpdatedon",r),r&&"Invalid date"!=r?(console.log("startDate",r),this.cardFinancialDetailsForm.value.lastUpdatedon=r):this.cardFinancialDetailsForm.value.lastUpdatedon=null,this.cardFinancialDetailsForm.value.accountType="cardOrigin",this.cardFinancialDetailsForm.value.cardId=this.cardId,console.log("submit",this.cardFinancialDetailsForm.value),console.log(this.cardFinancialDetailsForm.value);var i=[];i.push(this.cardFinancialDetailsForm.value),console.log(i),this.api.upsertCardFinancialDetails(i).subscribe(t=>{console.log(t),this.snack.open("Financial Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next()},t=>{this.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}goBack(){this.router.navigate(["/cardaccount/applicationEntryStage/list/customerInformation"])}next(){this.ls.setItem("CARD_FINANCIAL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/cardPrefrence"])}converDate(t){let e=_t(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}calculateTotalMonthlyIncome(t){let e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.cardFinancialDetailsForm.controls.monthlyIncomeTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}calculateTotalMonthlyExpenses(t){let e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.cardFinancialDetailsForm.controls.monthlyExpenseTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}calculateTotalLiabilities(t){let e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.cardFinancialDetailsForm.controls.liabilityTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}calculateTotalAssets(t){let e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.cardFinancialDetailsForm.controls.assetTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}calculateTotalIncomeAndExpense(t){let e=t.monthlyExpenseTotal+t.liabilityTotal;this.cardFinancialDetailsForm.controls.applicantTotalIncome.setValue(t.monthlyIncomeTotal+t.assetTotal),this.cardFinancialDetailsForm.controls.applicantTotalExpense.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(s.f),d.Rb(l.b),d.Rb(b.a),d.Rb(D.a),d.Rb(m.h),d.Rb(c.a),d.Rb(d.h))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-financial-details"]],decls:10,vars:1,consts:[[1,"matcard-size"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_2.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"p-0"],[1,""],[1,"card-title-text"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","formControlName","applicantName","placeholder","Applicant Name"],["matPrefix",""],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Income"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","lastUpdatedon",1,"alignment",3,"matDatepicker","max"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","text","formControlName","currentlyWorking","placeholder","Currently Working"],["matPrefix","",1,"curr_icon"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total  Expenses"],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"required","keypress"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation",3,"required","keypress"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentStartDate",1,"alignment",3,"max","matDatepicker"],["start",""],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name",3,"required","keypress"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentEndDate",1,"alignment",3,"matDatepicker","min"],["end",""],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","placeholder","Business",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","education","name","mod","placeholder","Education",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","Overdrafts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","Vehicle Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","Cards Outstanding's",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","Saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","Fixed Deposits",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","Others","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","Stocks/Funds","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","Automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","Lands","formControlName","lands",3,"keypress","input"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Tc(7,"Financial Details"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(8,"div"),d.Rc(9,Ui,314,29,"form",7),d.Wb(),d.Wb()),2&t&&(d.Eb(9),d.rc("ngIf",e.cardFinancialDetailsForm))},directives:[h.e,h.b,i.n,s.C,s.s,s.j,p.a,p.h,X.a,p.d,h.f,y.c,y.g,f.b,s.c,s.r,s.i,y.i,s.w,Lt.e,Lt.g,y.j,Lt.d,Pt.a,i.m,s.z,s.m,Vt.a,h.d,g.b,Nt.n,y.b],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}  .mat-form-field-prefix{top:0!important}"]}),t})();function Gi(t,e){1&t&&(d.Xb(0,"div",17),d.Sb(1,"mat-progress-bar",18),d.Xb(2,"p",19),d.Tc(3,"Completed"),d.Wb(),d.Wb()),2&t&&(d.Eb(1),d.rc("color","primary")("value",100))}function Hi(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",20),d.fc("click",function(){return d.Hc(t),d.jc().goToCardAssessmentSummary()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const Yi=function(){return["/cardaccount/assessmentStage/application-assessment/list"]};function $i(t,e){1&t&&(d.Xb(0,"button",21),d.Tc(1," Add Details "),d.Xb(2,"mat-icon"),d.Tc(3,"chevron_right"),d.Wb(),d.Wb()),2&t&&d.rc("routerLink",d.wc(1,Yi))}let Qi=(()=>{class t{constructor(t,e,r,i,a,n){this.ls=t,this.router=e,this.dialogService=r,this.cdr=i,this.accountService=a,this.apiService=n,this.isCardAssessmentStageDone=!1,this.isAssessmentReport=!1}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE")}goToCardAssessmentSummary(){this.dialogService.cardAccountAssessmentSummaryDialog()}openLoanQualitativeDialog(){this.dialogService.loanQualitativeSummaryDialog()}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(c.a),d.Rb(m.h),d.Rb(Z.a),d.Rb(d.h),d.Rb(D.a),d.Rb(l.b))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-assessment-stage"]],decls:30,vars:4,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"font1"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showAssessment",""],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"]],template:function(t,e){if(1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Create New Card Account"),d.Wb(),d.Wb(),d.Xb(9,"div",7),d.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(11,"div",8),d.Xb(12,"div",9),d.Xb(13,"mat-card"),d.Xb(14,"mat-card-header"),d.Xb(15,"mat-card-title"),d.Tc(16,"1. Assessment Report"),d.Wb(),d.Wb(),d.Xb(17,"mat-card-content"),d.Xb(18,"div",10),d.Xb(19,"div",11),d.Xb(20,"p"),d.Tc(21," The recommendation will be displayed with Approval or Rejection recommendation. "),d.Wb(),d.Wb(),d.Xb(22,"div",12),d.Sb(23,"img",13),d.Wb(),d.Wb(),d.Rc(24,Gi,4,2,"div",14),d.Wb(),d.Sb(25,"mat-divider"),d.Xb(26,"mat-card-actions"),d.Rc(27,Hi,5,0,"ng-container",15),d.Rc(28,$i,4,2,"ng-template",null,16,d.Sc),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t){const t=d.Dc(29);d.Eb(23),d.rc("src","assets/images/svg/MaskGroup_13.svg",d.Jc),d.Eb(1),d.rc("ngIf",e.isAssessmentReport),d.Eb(3),d.rc("ngIf",e.isAssessmentReport)("ngIfElse",t)}},directives:[h.e,h.b,p.a,p.e,p.h,p.d,h.f,h.d,i.n,X.a,p.b,At.a,g.b,a.a,m.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.font1[_ngcontent-%COMP%]{padding-left:17px;color:#cacaca}"]}),t})();var Ki=r("q7Ft"),Ji=r("/1WF"),Zi=r("Bp9c"),ta=r("UGQK"),ea=r("r/oB");const ra=function(){return["/cardaccount/applicationEntryStage/list"]},ia=function(){return["/cardaccount/applicationEntryStage/list/cardInitiation"]},aa=function(){return["/cardaccount/applicationEntryStage/list/customerInformation"]},na=function(){return["/cardaccount/applicationEntryStage/list/financialDetails"]},oa=function(){return["/cardaccount/applicationEntryStage/list/cardPrefrence"]},ca=function(){return["/cardaccount/applicationEntryStage/list/accountServices"]},sa=function(){return["/cardaccount/documentupload/list"]},la=function(){return["/cardaccount/documentupload/list/document-details"]},da=function(){return["/cardaccount/applicationEnrichment/list"]},ba=function(){return["/cardaccount/underwritingStage/list"]},ua=function(){return["/cardaccount/underwritingStage/credit-rating"]},ma=function(){return["/cardaccount/underwritingStage/qualitative"]},pa=function(){return["/cardaccount/assessmentStage/list"]},ga=function(){return["/cardaccount/assessmentStage/application-assessment/list"]},ha=function(){return["/cardaccount/SupervisorApprovalStage/list"]},fa=function(){return["/cardaccount/SupervisorApprovalStage/list/approvalDetails"]},ya=function(){return["/cardaccount/DigitalSigning/list"]},va=function(){return["/cardaccount/DigitalSigning/options"]};let Ca=(()=>{class t{constructor(t,e,r,i,a){this.ls=t,this.api=e,this.router=r,this.cdr=i,this.accountService=a,this.isCardApplicationStageDone=!1,this.isCardInitiationDone=!1,this.isCardCustomerInformationScreen=!1,this.isCardFinancialDetailsScreen=!1,this.isCardPrefrenceDone=!1,this.isCardAccountService=!1,this.isAddOnCardHolderDetails=!0,this.isDocumentUploadDone=!1,this.isDocumentUpload=!1,this.isCardApplicationEnrichmentDone=!1,this.isCardInterestDetails=!1,this.isCardChargeDetails=!1,this.isApplicationUnderWritingStageDone=!0,this.isQualitativeScoreboard=!0,this.isCardCreditRatingDetails=!1,this.isCardQualitativeScoreboard=!1,this.isCardAssessmentStageDone=!1,this.isAssessmentReport=!1,this.isCardSupervisorApprovalDone=!0,this.isApprovedDetails=!0,this.isCardDigitalSigningDone=!0,this.isCardDigitalSigning=!0}ngOnInit(){this.accountItemsSub=this.accountService.accountItems$.subscribe(t=>{this.accountItems=t}),console.log("reset"),this.cardId=this.ls.getItem("cardId"),this.isCardApplicationStageDone=this.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),this.isCardCustomerInformationScreen=this.ls.getItem("Card_Customer_Done"),this.isCardFinancialDetailsScreen=this.ls.getItem("CARD_FINANCIAL_DONE"),this.isCardPrefrenceDone=this.ls.getItem("card_prefrence_done"),this.isCardAccountService=this.ls.getItem("CARD_ACC_SERVICE_DONE"),this.isDocumentUploadDone=this.ls.getItem("CARD_DOCUMENT_STAGE_DONE"),this.isDocumentUpload=this.ls.getItem("CARD_DOCUMENT_DONE"),this.isCardApplicationEnrichmentDone=this.ls.getItem("CARD_ENRICHMENT_DONE"),this.isCardInterestDetails=this.ls.getItem("CARD_INTEREST_DETAILS_DONE"),this.isCardChargeDetails=this.ls.getItem("CARD_CHARGE_DETAILS_DONE"),this.isApplicationUnderWritingStageDone=this.ls.getItem("CARD_UNDERWRITING_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardSupervisorApprovalDone=this.ls.getItem("CARD_SUPERVISOR_DONE"),this.isApprovedDetails=this.ls.getItem("CARD_APPROVAL_DONE"),this.isCardDigitalSigningDone=this.ls.getItem("CARD_DIGITAL_STAGE_DONE"),this.isCardDigitalSigning=this.ls.getItem("CARD_DIGITAL_SIGN_DONE"),this.accountService.refresh.subscribe(t=>{this.cardId=this.ls.getItem("cardId"),this.isCardApplicationStageDone=this.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),this.isCardCustomerInformationScreen=this.ls.getItem("Card_Customer_Done"),this.isCardFinancialDetailsScreen=this.ls.getItem("CARD_FINANCIAL_DONE"),this.isCardPrefrenceDone=this.ls.getItem("card_prefrence_done"),this.isCardAccountService=this.ls.getItem("CARD_ACC_SERVICE_DONE"),this.isDocumentUploadDone=this.ls.getItem("CARD_DOCUMENT_STAGE_DONE"),this.isDocumentUpload=this.ls.getItem("CARD_DOCUMENT_DONE"),this.isCardApplicationEnrichmentDone=this.ls.getItem("CARD_ENRICHMENT_DONE"),this.isCardInterestDetails=this.ls.getItem("CARD_INTEREST_DETAILS_DONE"),this.isCardChargeDetails=this.ls.getItem("CARD_CHARGE_DETAILS_DONE"),this.isApplicationUnderWritingStageDone=this.ls.getItem("CARD_UNDERWRITING_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardSupervisorApprovalDone=this.ls.getItem("CARD_SUPERVISOR_DONE"),this.isApprovedDetails=this.ls.getItem("CARD_APPROVAL_DONE"),this.isCardDigitalSigningDone=this.ls.getItem("CARD_DIGITAL_STAGE_DONE"),this.isCardDigitalSigning=this.ls.getItem("CARD_DIGITAL_SIGN_DONE")})}ngOnDestroy(){this.accountItemsSub&&this.accountItemsSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(c.a),d.Rb(l.b),d.Rb(m.h),d.Rb(d.h),d.Rb(D.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-card-account"]],decls:188,vars:79,consts:[[1,"matcard-size1"],[1,"m-333"],[1,"topSection",2,"background-color","white !important"],["EgretSideNavToggle","",1,"app-sidebar",2,"width","300px"],[1,"sidenav-header"],[1,"sidenav-hold"],["appDropdown","",1,"sidenav","mt-32"],["appDropdownLink","","routerLinkActive","open"],[1,"lvl1"],["appDropdownToggle","",3,"ngClass"],[1,"sidenav-mat-icon",3,"ngClass"],[1,"item-name","lvl1"],["fxFlex",""],[1,"menu-caret"],["appDropdown","",1,"lvl2",2,"margin-right","8px"],["routerLinkActive","open"],[1,"side-menu",3,"routerLink","ngClass"],[1,"item-name","lvl2",2,"margin-left","10px"],[1,"side-menu",3,"ngClass","routerLink"],["appDropdownToggle","",3,"ngClass","routerLink"],[1,"side-menu",3,"ngClass"],[1,"side-menu",3,"routerLink"],["fxLayout","row","fxLayoutWrap","wrap",1,"app-wrap"],[1,"full-width","mt-32"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"mat-sidenav-container",2),d.Xb(3,"mat-sidenav",3),d.Xb(4,"span",4),d.Tc(5,"Home > Create Card Account"),d.Wb(),d.Xb(6,"div",5),d.Xb(7,"ul",6),d.Xb(8,"li",7),d.Xb(9,"div",8),d.Xb(10,"a",9),d.Xb(11,"mat-icon",10),d.Tc(12," account_balance_wallet "),d.Wb(),d.Xb(13,"span",11),d.Tc(14,"Application Entry Stage"),d.Wb(),d.Sb(15,"span",12),d.Xb(16,"mat-icon",13),d.Tc(17,"keyboard_arrow_right"),d.Wb(),d.Wb(),d.Xb(18,"ul",14),d.Xb(19,"li",15),d.Xb(20,"a",16),d.Xb(21,"span",17),d.Tc(22,"Summary"),d.Wb(),d.Sb(23,"span",12),d.Wb(),d.Wb(),d.Xb(24,"li",15),d.Xb(25,"a",16),d.Xb(26,"span",17),d.Tc(27,"Card Initiation"),d.Wb(),d.Sb(28,"span",12),d.Wb(),d.Wb(),d.Xb(29,"li",15),d.Xb(30,"a",16),d.Xb(31,"span",17),d.Tc(32,"Customer Information Details"),d.Wb(),d.Sb(33,"span",12),d.Wb(),d.Wb(),d.Xb(34,"li",15),d.Xb(35,"a",18),d.Xb(36,"span",17),d.Tc(37,"Financial Details"),d.Wb(),d.Sb(38,"span",12),d.Wb(),d.Wb(),d.Xb(39,"li",15),d.Xb(40,"a",18),d.Xb(41,"span",17),d.Tc(42,"Card Preferences"),d.Wb(),d.Sb(43,"span",12),d.Wb(),d.Wb(),d.Xb(44,"li",15),d.Xb(45,"a",16),d.Xb(46,"span",17),d.Tc(47,"Account Services"),d.Wb(),d.Sb(48,"span",12),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(49,"li",7),d.Xb(50,"div",8),d.Xb(51,"a",19),d.Xb(52,"mat-icon",10),d.Tc(53,"file_upload"),d.Wb(),d.Xb(54,"span",11),d.Tc(55,"Document Upload"),d.Wb(),d.Sb(56,"span",12),d.Xb(57,"mat-icon",13),d.Tc(58,"keyboard_arrow_right"),d.Wb(),d.Wb(),d.Xb(59,"ul",14),d.Xb(60,"li",15),d.Xb(61,"a",16),d.Xb(62,"span",17),d.Tc(63,"Summary"),d.Wb(),d.Sb(64,"span",12),d.Wb(),d.Wb(),d.Xb(65,"li",15),d.Xb(66,"a",18),d.Xb(67,"span",17),d.Tc(68,"Document Upload"),d.Wb(),d.Sb(69,"span",12),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(70,"li",7),d.Xb(71,"div",8),d.Xb(72,"a",19),d.Xb(73,"mat-icon",10),d.Tc(74,"style"),d.Wb(),d.Xb(75,"span",11),d.Tc(76,"Application Enrichment"),d.Wb(),d.Sb(77,"span",12),d.Xb(78,"mat-icon",13),d.Tc(79,"keyboard_arrow_right"),d.Wb(),d.Wb(),d.Xb(80,"ul",14),d.Xb(81,"li",15),d.Xb(82,"a",18),d.Xb(83,"span",17),d.Tc(84,"Summary"),d.Wb(),d.Sb(85,"span",12),d.Wb(),d.Wb(),d.Xb(86,"li",15),d.Xb(87,"a",20),d.Xb(88,"span",17),d.Tc(89,"Interest Details"),d.Wb(),d.Sb(90,"span",12),d.Wb(),d.Wb(),d.Xb(91,"li",15),d.Xb(92,"a",20),d.Xb(93,"span",17),d.Tc(94,"Charge Details"),d.Wb(),d.Sb(95,"span",12),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(96,"li",7),d.Xb(97,"div",8),d.Xb(98,"a",19),d.Xb(99,"mat-icon",10),d.Tc(100,"border_color "),d.Wb(),d.Xb(101,"span",11),d.Tc(102,"Application Underwriting"),d.Wb(),d.Sb(103,"span",12),d.Xb(104,"mat-icon",13),d.Tc(105,"keyboard_arrow_right"),d.Wb(),d.Wb(),d.Xb(106,"ul",14),d.Xb(107,"li",15),d.Xb(108,"a",16),d.Xb(109,"span",17),d.Tc(110,"Summary"),d.Wb(),d.Sb(111,"span",12),d.Wb(),d.Wb(),d.Xb(112,"li",15),d.Xb(113,"a",18),d.Xb(114,"span",17),d.Tc(115,"Credit Score Details"),d.Wb(),d.Sb(116,"span",12),d.Wb(),d.Wb(),d.Xb(117,"li",15),d.Xb(118,"a",18),d.Xb(119,"span",17),d.Tc(120,"Qualitative Scoreboard"),d.Wb(),d.Sb(121,"span",12),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(122,"li",7),d.Xb(123,"div",8),d.Xb(124,"a",19),d.Xb(125,"mat-icon",10),d.Tc(126,"assessment"),d.Wb(),d.Xb(127,"span",11),d.Tc(128,"Application Assessment"),d.Wb(),d.Sb(129,"span",12),d.Xb(130,"mat-icon",13),d.Tc(131,"keyboard_arrow_right"),d.Wb(),d.Wb(),d.Xb(132,"ul",14),d.Xb(133,"li",15),d.Xb(134,"a",16),d.Xb(135,"span",17),d.Tc(136,"Summary"),d.Wb(),d.Sb(137,"span",12),d.Wb(),d.Wb(),d.Xb(138,"li",15),d.Xb(139,"a",16),d.Xb(140,"span",17),d.Tc(141,"Assessment Report"),d.Wb(),d.Sb(142,"span",12),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(143,"li",7),d.Xb(144,"div",8),d.Xb(145,"a",19),d.Xb(146,"mat-icon",10),d.Tc(147,"done_all"),d.Wb(),d.Xb(148,"span",11),d.Tc(149,"Supervisor Approval Stage"),d.Wb(),d.Sb(150,"span",12),d.Xb(151,"mat-icon",13),d.Tc(152,"keyboard_arrow_right"),d.Wb(),d.Wb(),d.Xb(153,"ul",14),d.Xb(154,"li",15),d.Xb(155,"a",16),d.Xb(156,"span",17),d.Tc(157,"Summary"),d.Wb(),d.Sb(158,"span",12),d.Wb(),d.Wb(),d.Xb(159,"li",15),d.Xb(160,"a",16),d.Xb(161,"span",17),d.Tc(162,"Approved Details"),d.Wb(),d.Sb(163,"span",12),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(164,"li",7),d.Xb(165,"div",8),d.Xb(166,"a",9),d.Xb(167,"mat-icon",10),d.Tc(168,"web_asset"),d.Wb(),d.Xb(169,"span",11),d.Tc(170,"Digital Signing"),d.Wb(),d.Sb(171,"span",12),d.Xb(172,"mat-icon",13),d.Tc(173,"keyboard_arrow_right"),d.Wb(),d.Wb(),d.Xb(174,"ul",14),d.Xb(175,"li",15),d.Xb(176,"a",21),d.Xb(177,"span",17),d.Tc(178,"Summary"),d.Wb(),d.Sb(179,"span",12),d.Wb(),d.Wb(),d.Xb(180,"li",15),d.Xb(181,"a",18),d.Xb(182,"span",17),d.Tc(183,"Digital Signing"),d.Wb(),d.Sb(184,"span",12),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(185,"div",22),d.Xb(186,"div",23),d.Sb(187,"router-outlet"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(10),d.rc("ngClass",e.isCardApplicationStageDone?"active":"notActive"),d.Eb(1),d.rc("ngClass",e.isCardApplicationStageDone?"active":"notActive"),d.Eb(9),d.rc("routerLink",d.wc(56,ra))("ngClass",e.isCardApplicationStageDone?"enable":"disable"),d.Eb(5),d.rc("routerLink",d.wc(57,ia))("ngClass",e.isCardInitiationDone?"enable":"disable"),d.Eb(5),d.rc("routerLink",d.wc(58,aa))("ngClass",e.isCardCustomerInformationScreen?"enable":"disable"),d.Eb(5),d.rc("ngClass",e.isCardFinancialDetailsScreen?"enable":"disable")("routerLink",d.wc(59,na)),d.Eb(5),d.rc("ngClass",e.isCardPrefrenceDone?"enable":"disable")("routerLink",d.wc(60,oa)),d.Eb(5),d.rc("routerLink",d.wc(61,ca))("ngClass",e.isCardAccountService?"enable":"disable"),d.Eb(6),d.rc("ngClass",e.isDocumentUploadDone?"active":"notActive")("routerLink",d.wc(62,sa)),d.Eb(1),d.rc("ngClass",e.isDocumentUploadDone?"active":"notActive"),d.Eb(9),d.rc("routerLink",d.wc(63,sa))("ngClass",e.isCardApplicationStageDone?"enable":"disable"),d.Eb(5),d.rc("ngClass",e.isDocumentUpload?"enable":"disable")("routerLink",d.wc(64,la)),d.Eb(6),d.rc("ngClass",e.isCardApplicationEnrichmentDone?"active":"notActive")("routerLink",d.wc(65,da)),d.Eb(1),d.rc("ngClass",e.isCardApplicationEnrichmentDone?"active":"notActive"),d.Eb(9),d.rc("ngClass",e.isCardApplicationEnrichmentDone?"enable":"disable")("routerLink",d.wc(66,da)),d.Eb(5),d.rc("ngClass",e.isCardInterestDetails?"enable":"disable"),d.Eb(5),d.rc("ngClass",e.isCardChargeDetails?"enable":"disable"),d.Eb(6),d.rc("ngClass",e.isApplicationUnderWritingStageDone?"active":"notActive")("routerLink",d.wc(67,ba)),d.Eb(1),d.rc("ngClass",e.isApplicationUnderWritingStageDone?"active":"notActive"),d.Eb(9),d.rc("routerLink",d.wc(68,ba))("ngClass",e.isCardApplicationStageDone?"enable":"disable"),d.Eb(5),d.rc("ngClass",e.isCardCreditRatingDetails?"enable":"disable")("routerLink",d.wc(69,ua)),d.Eb(5),d.rc("ngClass",e.isCardQualitativeScoreboard?"enable":"disable")("routerLink",d.wc(70,ma)),d.Eb(6),d.rc("ngClass",e.isCardAssessmentStageDone?"active":"notActive")("routerLink",d.wc(71,pa)),d.Eb(1),d.rc("ngClass",e.isCardAssessmentStageDone?"active":"notActive"),d.Eb(9),d.rc("routerLink",d.wc(72,pa))("ngClass",e.isCardApplicationStageDone?"enable":"disable"),d.Eb(5),d.rc("routerLink",d.wc(73,ga))("ngClass",e.isAssessmentReport?"enable":"disable"),d.Eb(6),d.rc("ngClass",e.isCardSupervisorApprovalDone?"active":"notActive")("routerLink",d.wc(74,ha)),d.Eb(1),d.rc("ngClass",e.isCardSupervisorApprovalDone?"active":"notActive"),d.Eb(9),d.rc("routerLink",d.wc(75,ha))("ngClass",e.isCardApplicationStageDone?"enable":"disable"),d.Eb(5),d.rc("routerLink",d.wc(76,fa))("ngClass",e.isApprovedDetails?"enable":"disable"),d.Eb(6),d.rc("ngClass",e.isCardDigitalSigningDone?"active":"notActive"),d.Eb(1),d.rc("ngClass",e.isCardDigitalSigningDone?"active":"notActive"),d.Eb(9),d.rc("routerLink",d.wc(77,ya)),d.Eb(5),d.rc("ngClass",e.isCardDigitalSigning?"enable":"disable")("routerLink",d.wc(78,va)))},directives:[Ki.e,Ki.d,Ji.a,Zi.a,ta.a,m.j,ea.a,i.l,T.a,a.a,h.b,m.k,h.e,m.m],styles:["li[_ngcontent-%COMP%]{list-style-type:none!important}a[_ngcontent-%COMP%]   .mat-icon.sidenav-mat-icon[_ngcontent-%COMP%]{border-left:none!important;border-color:transparent}.sidenav-hold[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:before{background:none!important;top:0}li.open[_ngcontent-%COMP%]{background:none!important}.active[_ngcontent-%COMP%], .enable[_ngcontent-%COMP%]{color:#03a9f4!important}.disable[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.topSection[_ngcontent-%COMP%]{margin-top:35px!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}"]}),t})();var xa=r("kA6c");function Wa(t,e){if(1&t){const t=d.Yb();d.Xb(0,"button",7),d.fc("click",function(){return d.Hc(t),d.jc().close1()}),d.Xb(1,"mat-icon"),d.Tc(2,"close"),d.Wb(),d.Wb()}}function Xa(t,e){if(1&t){const t=d.Yb();d.Xb(0,"button",7),d.fc("click",function(){return d.Hc(t),d.jc().close()}),d.Xb(1,"mat-icon"),d.Tc(2,"close"),d.Wb(),d.Wb()}}function Ia(t,e){1&t&&(d.Xb(0,"div",4),d.Xb(1,"div",8),d.Sb(2,"img",9),d.Wb(),d.Wb())}function Sa(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",10),d.Xb(1,"h5",11),d.Tc(2,"Please e-sign the application!"),d.Wb(),d.Xb(3,"mat-card",12),d.Xb(4,"mat-card-content"),d.Xb(5,"signature-pad",13),d.fc("onBeginEvent",function(){return d.Hc(t),d.jc().drawStart()})("onEndEvent",function(){return d.Hc(t),d.jc().drawComplete()}),d.Wb(),d.Wb(),d.Wb(),d.Xb(6,"div",14),d.Xb(7,"button",15),d.fc("click",function(){return d.Hc(t),d.jc().onSubmit()}),d.Tc(8," SUBMIT "),d.Wb(),d.Wb(),d.Wb()}if(2&t){const t=d.jc();d.Eb(5),d.rc("options",t.signaturePadOptions),d.Eb(2),d.rc("disabled",t.disableDone)}}let Oa=(()=>{class t{constructor(t,e,r,i,a,n,o,c){this.data=t,this.dialogRef=e,this.ls=r,this.router=i,this.accountService=a,this.apiService=n,this.appEntryService=o,this.cdr=c,this.isDone=!1,this.signaturePadOptions={minWidth:2,canvasWidth:700,canvasHeight:300},this.count=0,this.res={enable:!1,image:null},this.disableDone=!0,this.signupload=!0}ngOnInit(){this.cardId=this.ls.getItem("cardId"),console.log("popup response data:",this.data),this.isDone=this.data.isSignLater,this.cdr.markForCheck()}ngAfterViewInit(){this.signaturePad.set("minWidth",2),this.signaturePad.clear()}drawComplete(){console.log(this.signaturePad.toDataURL()),this.esignUrl=this.signaturePad.toDataURL(),this.disableDone=!this.esignUrl.toString().includes("data:image/png;base64")}drawStart(){console.log("begin drawing")}clearSignature(){this.signaturePad.clear()}savePad(){const t=this.signaturePad.toDataURL();this.signatureImg=t}close1(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(this.dialogRef.close({image:this.ls.getItem("signedImage")?this.ls.getItem("signedImage"):""}),this.ls.setItem("enable",!1))}close(){this.dialogRef.close("NewCustomerOnboarding"===this.data.screen?this.res:{image:this.esignUrl})}onSubmit(){console.log(this.signaturePad.toDataURL());let t={},e={};console.log("this.data::",this.data),"NewCustomerOnboarding"!==this.data.screen?(e.cardId=this.data.accountId,this.getByAccountId(e.cardId)):(this.apiService.getAccountIdByCusId(this.data.customerId).subscribe(e=>{console.log("Account Id response -- ",e),t.accountId=e}),this.res={enable:!0,image:this.signaturePad.toDataURL()}),e.customerId=this.data.customerId,e.documentName=this.data.customerId+"Signature",e.documentType="10",e.fileType="image/jpeg",e.fileName="signature";const r=this.signaturePad.toDataURL("image/png");this.ls.setItem("signedImage",r);const i=atob(r.substring("data:image/png;base64,".length)),a=new Uint8Array(i.length);for(var n=0,o=i.length;n<o;++n)a[n]=i.charCodeAt(n);const c=new Blob([a],{type:"image/png"});t.uploadModel=e,t.noOfSignatures="1";const s=new FormData;s.append("data",JSON.stringify(t)),console.log("data",t),s.append("file",c),s.append("accType","cardOrigin"),this.apiService.uploadSignature(s).subscribe(t=>{console.log(t),t&&(this.close(),this.show=!0,this.res=t)},t=>{this.close(),this.res=!1}),"NewCustomerOnboarding"!==this.data.screen?this.isDone=!1:this.close(),console.log(this.isDone),this.ls.setItem("eSignStage",!0)}getByAccountId(t){this.apiService.getCardInitiationDetails(t).subscribe(t=>{console.log("updateStatus :: ",t),this.accountdetailsForStatusUpdate=t,this.updateCardAccountStatus()})}updateCardAccountStatus(){this.apiService.updateCardStatus({cardId:this.cardId,status:"BACKLOG"}).subscribe(t=>{console.log("updateResp:: ",t)})}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(u.a),d.Rb(u.g),d.Rb(c.a),d.Rb(m.h),d.Rb(xa.a),d.Rb(l.b),d.Rb(Et.a),d.Rb(d.h))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-esignature-pop"]],viewQuery:function(t,e){if(1&t&&d.ad(o.a,!0),2&t){let t;d.Cc(t=d.gc())&&(e.signaturePad=t.first)}},decls:8,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","100",4,"ngIf"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","50","fxFlexOffset","20px",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"propic","text-center"],["src","assets/images/esign.png","alt",""],["fxFlex","50","fxFlexOffset","20px"],[1,"text-center","mt-16"],[1,"mt-16","signbox"],[3,"options","onBeginEvent","onEndEvent"],[1,"text-center"],["mat-raised-button","",1,"Next",3,"disabled","click"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Rc(2,Wa,3,0,"button",2),d.Rc(3,Xa,3,0,"button",2),d.Wb(),d.Rc(4,Ia,3,0,"div",3),d.Xb(5,"div",4),d.Xb(6,"div",5),d.Rc(7,Sa,9,2,"div",6),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(2),d.rc("ngIf",!e.isDone),d.Eb(1),d.rc("ngIf",e.isDone),d.Eb(1),d.rc("ngIf",!e.isDone),d.Eb(3),d.rc("ngIf",!e.isDone))},directives:[h.e,h.b,h.d,i.n,g.b,a.a,h.c,p.a,p.d,o.a],styles:[".signbox[_ngcontent-%COMP%]{border-style:shadow;height:160px}.Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}"]}),t})();const Da=["profileFile"];function Ta(t,e){if(1&t){const t=d.Yb();d.Xb(0,"button",7),d.fc("click",function(){return d.Hc(t),d.jc().close1()}),d.Xb(1,"mat-icon"),d.Tc(2,"close"),d.Wb(),d.Wb()}}function Aa(t,e){if(1&t){const t=d.Yb();d.Xb(0,"button",7),d.fc("click",function(){return d.Hc(t),d.jc().close()}),d.Xb(1,"mat-icon"),d.Tc(2,"close"),d.Wb(),d.Wb()}}function ka(t,e){1&t&&(d.Xb(0,"div",4),d.Xb(1,"div",8),d.Sb(2,"img",9),d.Wb(),d.Wb())}function Ea(t,e){1&t&&(d.Xb(0,"div"),d.Sb(1,"img",24),d.Wb()),2&t&&(d.Eb(1),d.rc("src","assets/images/no-image.jpg",d.Jc))}function _a(t,e){if(1&t&&d.Sb(0,"img",25),2&t){const t=d.jc(2);d.rc("src",t.imageURL1,d.Jc)}}function wa(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",10),d.Xb(1,"h5",11),d.Tc(2,"Signature!"),d.Wb(),d.Xb(3,"div",12),d.Xb(4,"div",13),d.Xb(5,"button",14),d.fc("click",function(){return d.Hc(t),d.jc().openPopUp()}),d.Tc(6," Digital Sign "),d.Wb(),d.Wb(),d.Xb(7,"div",15),d.Xb(8,"button",16),d.fc("click",function(){return d.Hc(t),d.Dc(11).click()}),d.Tc(9," Upload "),d.Xb(10,"input",17,18),d.fc("change",function(e){return d.Hc(t),d.jc().onFileSelect(e)}),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(12,"div",5),d.Xb(13,"div",13),d.Xb(14,"div",19),d.Rc(15,Ea,2,1,"div",20),d.Rc(16,_a,1,1,"ng-template",null,21,d.Sc),d.Wb(),d.Xb(18,"div",12),d.Xb(19,"button",22),d.fc("click",function(){return d.Hc(t),d.jc().deleteImg()}),d.Tc(20," DELETE "),d.Wb(),d.Xb(21,"button",23),d.fc("click",function(){return d.Hc(t),d.jc().onSubmit()}),d.Tc(22," SUBMIT "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){const t=d.Dc(17),e=d.jc();d.Eb(15),d.rc("ngIf","not_available"==e.imageURL1)("ngIfElse",t),d.Eb(6),d.rc("disabled",e.disableDone)}}let Pa=(()=>{class t{constructor(t,e,r,i,a,n,o,c,s){this.data=t,this.router=e,this.apiService=r,this.dialogService=i,this.dialog=a,this.dialogRef=n,this.ls=o,this.location=c,this.snack=s,this.isDone=!1,this.previousUrl="",this.disableDone=!0,this.res={enable:!1,image:null}}ngOnInit(){this.isCardDigitalSigningDone=this.ls.getItem("CARD_DIGITAL_STAGE_DONE"),this.isCardDigitalSigning=this.ls.getItem("CARD_DIGITAL_SIGN_DONE"),this.image=this.ls.getItem("signedImage"),this.imageURL1=this.image?this.image:"not_available",this.accountId=this.ls.getItem("cardId")}close1(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(this.dialogRef.close(!0),this.ls.setItem("enable",!!this.ls.getItem("signedImage")))}openPopUp(t){let e;null==t&&(e={isSignLater:!1,screen:"Create Account",accountId:this.accountId,customerId:this.ls.getItem("cId")}),this.show||this.dialog.open(Oa,{width:"720px",disableClose:!0,data:null==t?e:t}).afterClosed().subscribe(t=>{console.log("dismiss res",t),t&&(this.ls.setItem("enable",!0),this.imageURL1=null==t?void 0:t.image,this.disableDone=!(null==t?void 0:t.image))})}onFileSelect(t){console.log("event -- ",t.target.files),this.selectedFile=t.target.files[0],console.log(this.selectedFile);let e=new FileReader;e.readAsDataURL(t.target.files[0]),e.onload=t=>{this.imageURL1=e.result};const r=this.selectedFile,i=new FormData;i.append("data",JSON.stringify({customerId:this.customerId,documentName:"Signature",documentType:"10",fileType:t.type,fileName:t.name,verificationType:"Digital Signing"})),i.append("file",r),this.apiService.uploadDocument(i).subscribe(t=>{})}deleteImg(){this.dialogService.doConfirmDialog("").subscribe(t=>{"Yes"==t&&(this.ls.removeItem("signedImage"),this.disableDone=!0,this.imageURL1="not_available",this.profileFile.nativeElement.value="",this.apiService.deleteCustomerDoc(this.customerId,this.profileId).subscribe(t=>{}),this.disableDone=!0,this.ls.setItem("enable",!1))})}onSubmit(){this.isDone=!0,this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(u.a),d.Rb(m.h),d.Rb(l.b),d.Rb(Z.a),d.Rb(u.b),d.Rb(u.g),d.Rb(c.a),d.Rb(i.j),d.Rb(b.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-upload-signature-or-esign"]],viewQuery:function(t,e){if(1&t&&d.ad(Da,!0),2&t){let t;d.Cc(t=d.gc())&&(e.profileFile=t.first)}},decls:8,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","100",4,"ngIf"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","50","fxFlexOffset","20px",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"propic","text-center"],["src","assets/images/esign.png","alt",""],["fxFlex","50","fxFlexOffset","20px"],[1,"text-center","mt-16","size"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","20px"],[1,"sub-section-1"],["appearence","outline",1,"scanButton",3,"click"],[1,"sub-section-2"],[1,"Upload","scanButton",3,"click"],["type","file","required","",1,"changeInput",2,"display","none",3,"change"],["fileInput",""],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","","color","red",1,"dltbtn",3,"click"],["mat-raised-button","","color","primary",1,"dbtn",3,"disabled","click"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Rc(2,Ta,3,0,"button",2),d.Rc(3,Aa,3,0,"button",2),d.Wb(),d.Rc(4,ka,3,0,"div",3),d.Xb(5,"div",4),d.Xb(6,"div",5),d.Rc(7,wa,23,3,"div",6),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(2),d.rc("ngIf",!e.isDone),d.Eb(1),d.rc("ngIf",e.isDone),d.Eb(1),d.rc("ngIf",!e.isDone),d.Eb(3),d.rc("ngIf",!e.isDone))},directives:[h.e,h.b,h.d,i.n,g.b,a.a,h.c,h.f],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.formImg[_ngcontent-%COMP%]{height:200px!important;width:400px!important;background-color:#f5f5f5;border-radius:10%}.Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}.size[_ngcontent-%COMP%]{font-size:large;font-weight:300}.dltbtn[_ngcontent-%COMP%]{background-color:red}.dbtn[_ngcontent-%COMP%], .dltbtn[_ngcontent-%COMP%]{margin:12px 0;width:35%;color:#fff;border-radius:55px}.dbtn[_ngcontent-%COMP%]{background-color:#426af5}"]}),t})();const Na=function(){return{delay:"300ms",y:"50px"}},Ra=function(t){return{value:"*",params:t}};let Fa=(()=>{class t{constructor(t,e,r,i,a,n,o,c){this.dialog=t,this.router=e,this.ls=r,this.accountService=i,this.apiService=a,this.urlService=n,this.api=o,this.dialogService=c,this.previousUrl="",this.show=!1,this.isDone=!1}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t})}openPopUp(t){let e;null==t&&(e={isSignLater:!1,screen:"Create Account"}),this.show||this.dialog.open(Pa,{width:"720px",disableClose:!0,data:null==t?e:t}).afterClosed().subscribe(t=>{this.show=this.ls.getItem("enable")})}getByAccountId(t){this.api.getCardInitiationDetails(this.cardId).subscribe(t=>{this.accountdetailsForStatusUpdate=t,this.updateCardAccountStatus()})}onDone(){this.isDone=!0,this.dialogService.alertForCardFinishButton().subscribe(t=>{console.log("response ::",t)})}updateCardAccountStatus(){this.api.updateCardStatus({cardId:this.cardId,status:"BACKLOG"}).subscribe(t=>{console.log("updateResp:: ",t)})}goBack(){this.router.navigate([this.previousUrl])}resetState(){this.ls.removeItem("CARD_APPLICATION_ENTRY_DONE"),this.ls.removeItem("CARD_INITIATION_DONE"),this.ls.removeItem("Card_Customer_Done"),this.ls.removeItem("CARD_FINANCIAL_DONE"),this.ls.removeItem("card_prefrence_done"),this.ls.removeItem("CARD_ACC_SERVICE_DONE"),this.ls.removeItem("Card_CIF_NUM_PRIMARY"),this.ls.removeItem("Card_Applicant_name"),this.ls.removeItem("CARD_DOCUMENT_STAGE_DONE"),this.ls.removeItem("CARD_DOCUMENT_DONE"),this.ls.removeItem("CARD_ENRICHMENT_DONE"),this.ls.removeItem("CARD_INTEREST_DETAILS_DONE"),this.ls.removeItem("CARD_CHARGE_DETAILS_DONE"),this.ls.removeItem("CARD_UNDERWRITING_DONE"),this.ls.removeItem("CARD_CREDIT_RATING_DONE"),this.ls.removeItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.ls.removeItem("CARD_ASSESSMENT_STAGE_DONE"),this.ls.removeItem("CARD_ASSESSMENT_DONE"),this.ls.removeItem("CARD_SUPERVISOR_DONE"),this.ls.removeItem("CARD_APPROVAL_DONE"),this.ls.removeItem("CARD_DIGITAL_STAGE_DONE"),this.ls.removeItem("CARD_DIGITAL_SIGN_DONE"),this.ls.removeItem("enable"),this.ls.removeItem("eSignStage"),this.ls.removeItem("cardId"),this.ls.removeItem("CardNoOfApplicants"),this.ls.removeItem("primaryCustomerName"),this.ls.removeItem("cardownership_value"),this.ls.removeItem("cId"),this.ls.removeItem("signedImage"),this.ls.removeItem("enable"),sessionStorage.clear(),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list"])}onSubmit(){this.api.signInLater({accountId:this.cardId,esignLink:"gcom",subject:"testing"}).subscribe(t=>{console.log("data::",t),this.getByAccountId(this.cardId),this.ls.setItem("eSignStage",!0),this.accountService.refresh.next(),this.openPopUp({email:t.email,customerId:t.customerId,subject:t.subject,isSignLater:!0,screen:"Create Account"})},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(u.b),d.Rb(m.h),d.Rb(c.a),d.Rb(D.a),d.Rb(Et.a),d.Rb(xt.a),d.Rb(l.b),d.Rb(Z.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-digital-sign-now-or-later"]],decls:46,vars:9,consts:[[1,"matcard-size"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask Group 55.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"mat-card-img"],["fxFlex","100",1,"mt-32"],["matRipple","",1,"sign-box","hoverAdd",3,"click"],[1,"p-0"],[1,"compact-list","mb-16"],[1,""],["src","assets/images/svg/signnow.png","alt","",1,"mr-16"],["fxLayout","column","fxFlex","100"],[1,"m-0","mr-16"],["fxFlex",""],["fxFlex","40",1,"text"],[1,"text-center"],["mat-button","",1,"text"],["matRipple","",1,"sign-box","hoverAdd"],[1,"",3,"click"],["src","assets/images/svg/signlater.png","alt","",1,"mr-16"],["fxFlex","100",1,"mt-16"],["mat-button","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Digital Signing"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"mat-card",7),d.Xb(10,"div",8),d.Xb(11,"mat-card",9),d.fc("click",function(){return e.openPopUp()}),d.Xb(12,"mat-card-content",10),d.Xb(13,"mat-list",11),d.Xb(14,"mat-list-item",12),d.Sb(15,"img",13),d.Xb(16,"div",14),d.Xb(17,"h3",15),d.Tc(18,"Sign Now"),d.Wb(),d.Sb(19,"span",16),d.Sb(20,"br"),d.Xb(21,"div",17),d.Tc(22," Enables you to digitally sign the document. To e sign the document, click on it, create your eSignature, click on Done and it will add to your document. "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(23,"div",2),d.Xb(24,"div",18),d.Xb(25,"button",19),d.Tc(26,"OR"),d.Wb(),d.Wb(),d.Wb(),d.Xb(27,"div",2),d.Xb(28,"mat-card",20),d.Xb(29,"mat-card-content",10),d.Xb(30,"mat-list",11),d.Xb(31,"mat-list-item",21),d.fc("click",function(){return e.onSubmit()}),d.Sb(32,"img",22),d.Xb(33,"div",14),d.Xb(34,"h3",15),d.Tc(35,"Sign Later"),d.Wb(),d.Sb(36,"span",16),d.Sb(37,"br"),d.Xb(38,"div",17),d.Tc(39," Enables you to sign the document later. To sign later, click here, an email will be sent to the respective email id provided with a sign link. You can verify and sign later. "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(40,"div",23),d.Xb(41,"button",24),d.fc("click",function(){return e.goBack()}),d.Tc(42,"BACK"),d.Wb(),d.Sb(43,"span",16),d.Xb(44,"button",25),d.fc("click",function(){return e.onDone()}),d.Tc(45," FINISH "),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(11),d.rc("@animate",d.xc(4,Ra,d.wc(3,Na))),d.Eb(17),d.rc("@animate",d.xc(7,Ra,d.wc(6,Na))),d.Eb(16),d.rc("disabled",!e.show))},directives:[h.e,h.b,p.a,Nt.s,p.d,Bt.a,Bt.d,g.b],styles:[".text[_ngcontent-%COMP%]{font-size:13px;color:#cacaca}.mat-card-img[_ngcontent-%COMP%]{height:100%;width:100%;flex-direction:column!important;box-sizing:border-box!important;display:flex!important}.hoverAdd[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.08);cursor:pointer}.compact-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background:none}"]}),t})();const Ma=function(){return["/cardaccount/digitalsigning/options"]};let La=(()=>{class t{constructor(t,e,r,i){this.router=t,this.ls=e,this.api=r,this.loader=i}ngOnInit(){console.log(this.cardId),this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.getDigitalsignByCardId(this.cardId)}getDigitalsignByCardId(t){this.api.getDigitalsignByCardId(t).subscribe(t=>{console.log(t),console.log(t[0].fileUrl),this.imageUrl=t[0].fileUrl,this.loader.close()},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(c.a),d.Rb(l.b),d.Rb($.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-digitalsign-summary"]],decls:13,vars:3,consts:[["fxLayoutAlign","end stretch","mat-dialog-close","",1,"close"],[1,"approval-details"],["visible","true","clas","paraFont"],[1,"card"],["alt","No Image",3,"src"],["mat-dialog-close","",1,"editButton",3,"routerLink"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"mat-icon"),d.Tc(2,"close"),d.Wb(),d.Wb(),d.Xb(3,"div",1),d.Xb(4,"fieldset"),d.Xb(5,"legend",2),d.Tc(6,"Digital Signing"),d.Wb(),d.Wb(),d.Xb(7,"mat-card",3),d.Xb(8,"div"),d.Xb(9,"div"),d.Sb(10,"img",4),d.Wb(),d.Wb(),d.Wb(),d.Xb(11,"p",5),d.Tc(12,"Edit"),d.Wb(),d.Wb()),2&t&&(d.Eb(10),d.rc("src",e.imageUrl,d.Jc),d.Eb(1),d.rc("routerLink",d.wc(2,Ma)))},directives:[h.d,u.d,a.a,p.a,m.i],styles:[".editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.card[_ngcontent-%COMP%]{width:50%}"]}),t})();function Va(t,e){1&t&&(d.Xb(0,"div",16),d.Sb(1,"mat-progress-bar",17),d.Xb(2,"p",18),d.Tc(3,"Completed"),d.Wb(),d.Wb()),2&t&&(d.Eb(1),d.rc("color","primary")("value",100))}function Ba(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",19),d.fc("click",function(){return d.Hc(t),d.jc().goToDigitalSign()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const ja=function(){return["/cardaccount/digitalsigning/options"]};function qa(t,e){1&t&&(d.Xb(0,"a",20),d.Tc(1," Add Details "),d.Xb(2,"mat-icon"),d.Tc(3,"chevron_right"),d.Wb(),d.Wb()),2&t&&d.rc("routerLink",d.wc(1,ja))}let Ua=(()=>{class t{constructor(t,e,r,i){this.router=t,this.ls=e,this.dialog=r,this.cdr=i,this.informations=[{id:1,title:"1. Digital Signing",content:"Customer can either sign now or sign later",percentage:70,status:"Pending",state:"application/digital-sign/options",avatar:"assets/images/esign.jpg"}],this.isEsignScreen=!1}ngOnInit(){this.accountId=this.ls.getItem("accountId"),this.isEsignScreen=this.ls.getItem("eSignStage"),this.accountService.refresh.subscribe(t=>{this.accountId=this.ls.getItem("accountId"),this.isEsignScreen=this.ls.getItem("eSignStage"),this.cdr.markForCheck()})}goToDetail(t){console.log(t),this.router.navigate(["/home/"+t.state])}goToDigitalSign(){this.dialog.open(La,{height:"55%",width:"40%",disableClose:!0}).afterClosed().subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(c.a),d.Rb(u.b),d.Rb(d.h))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-digital-signing"]],decls:28,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf"],["mat-button","","color","primary","class","pl-27",3,"routerLink",4,"ngIf"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",1,"pl-27",3,"click"],["mat-button","","color","primary",1,"pl-27",3,"routerLink"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Sb(3,"img",3),d.Wb(),d.Xb(4,"div",4),d.Xb(5,"div",5),d.Xb(6,"b"),d.Tc(7,"Create New Card Account"),d.Wb(),d.Wb(),d.Xb(8,"div",6),d.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(10,"div",7),d.Xb(11,"div",8),d.Xb(12,"mat-card"),d.Xb(13,"mat-card-header"),d.Xb(14,"mat-card-title"),d.Tc(15,"1.Digital Signing"),d.Wb(),d.Wb(),d.Xb(16,"mat-card-content"),d.Xb(17,"div",9),d.Xb(18,"div",10),d.Xb(19,"p"),d.Tc(20," Customer can either sign now or sign later."),d.Wb(),d.Wb(),d.Xb(21,"div",11),d.Sb(22,"img",12),d.Wb(),d.Wb(),d.Rc(23,Va,4,2,"div",13),d.Wb(),d.Sb(24,"mat-divider"),d.Xb(25,"mat-card-actions"),d.Rc(26,Ba,5,0,"ng-container",14),d.Rc(27,qa,4,2,"a",15),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(22),d.rc("src","assets/images/svg/Mask Group 55.svg",d.Jc),d.Eb(1),d.rc("ngIf",e.isEsignScreen),d.Eb(3),d.rc("ngIf",e.isEsignScreen),d.Eb(1),d.rc("ngIf",!e.isEsignScreen))},directives:[h.e,h.b,p.a,p.e,p.h,p.d,h.f,h.d,i.n,X.a,p.b,At.a,g.b,a.a,g.a,m.k],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca;padding-left:15px}"]}),t})();function za(t,e){if(1&t&&(d.Xb(0,"mat-option",29),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function Ga(t,e){if(1&t&&(d.Xb(0,"mat-option",29),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function Ha(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0 Please select the User Recommendation "),d.Wb())}function Ya(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," \xa0\xa0 Please enter valid Recommended Card Limit "),d.Wb())}let $a=(()=>{class t{constructor(t,e,r,i,a,n,o,c,s){this.router=t,this.snack=e,this.cdr=r,this.apiService=i,this._location=a,this.ls=n,this.fb=o,this.accountService=c,this.currencyPipe=s,this.isAssessmentReport=!1,this.arrayUserRecommendation=["Recommended For Approval","Pending For Documents","Recommended for Review"],this.arraySystemRecommendation=["Recomended For Approval","Recommended For Reject"],this.curr="",this.isCardAssessmentStageDone=!1,this.currencySymbol=!0,this.currencySymbols=[{currency:"USD",symbol:"$"},{currency:"EUR",symbol:"\u20ac"},{currency:"JPY",symbol:"\xa5"},{currency:"GBP",symbol:"\xa3"},{currency:"ILS",symbol:"\u20aa"},{currency:"KRW",symbol:"\u20a9"},{currency:"NGN",symbol:"\u20a6"},{currency:"PHP",symbol:"\u20b1"},{currency:"PLN",symbol:"z\u0142"},{currency:"THB",symbol:"\u0e3f"},{currency:"UAH",symbol:"\u20b4"},{currency:"VND",symbol:"\u20ab"},{currency:"CNY",symbol:"\xa5"},{currency:"ZAR",symbol:"R"},{currency:"INR",symbol:"\u20b9"}]}ngOnInit(){this.curr=localStorage.getItem("Currency Type"),this.cardId=this.ls.getItem("cardId"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),this.buildAssessmentForm({}),0==this.isAssessmentReport?this.buildAssessmentForm():this.getCardAssessmentDetails()}buildAssessmentForm(t,e){if(this.assessmentForm=this.fb.group({cardId:[this.cardId],assessmentId:[t.assessmentId="1"],requestedCardLimit:[t.requestedCardLimit="15000"],systemRecommendation:[t?t.systemRecommendation:"",[s.A.required]],approvedCardLimit:[t.approvedCardLimit="10000"],userRecommendation:[t?t.userRecommendation:"",[s.A.required]],recommendedCardLimit:[t?t.recommendedCardLimit:"",[s.A.required]],remark:[t?t.remark:""]}),console.log("curr",this.curr),t){for(let t=0;t<this.currencySymbols.length;t++)this.currencyArr=this.currencySymbols.filter(t=>this.curr===t.currency),console.log("this.currencyArr",this.currencyArr);this.currencySymboll=this.currencyArr[0].symbol,this.approvedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.approvedCardLimit,this.requestedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.requestedCardLimit,this.recommendedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.reccommendedCardLimit,this.assessmentForm.controls.approvedCardLimit.setValue(this.approvedCardLimit),this.assessmentForm.controls.requestedCardLimit.setValue(this.requestedCardLimit)}}transformAmount(t){"INR"===this.curr?(console.log(this.currencySymbol),this.currencySymboll=this.currencyPipe.transform(this.currencySymboll,"\u20b9"),console.log(this.currencySymbol),t.target.value=this.currencySymboll):(this.currencySymboll=this.currencyPipe.transform(this.currencySymboll,"$"),t.target.value=this.currencySymboll),console.log(t.target.value)}keyUpEvent(t){console.log("event",t.target.value);let e=t.target.value.toString().replace(/,/g,"").split(".");e[0]=e[0].replace(/\B(?=(\d{1})+(?!\d))/g,this.currencySymboll);let r=e.join(".");console.log("final",r),console.log("finalLength",r.length),this.assessmentForm.controls.recommendedCardLimit.setValue(r)}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}getCardAssessmentDetails(){this.apiService.fetchcardAssessmentDetailsById(this.cardId).subscribe(t=>{console.log(t),this.buildAssessmentForm(t,!0)})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}goNext(t){console.log("val",t.approvedCardLimit),console.log("val.approvedCardLimit",t.approvedCardLimit.length),console.log("val",t.recommendedCardLimit),console.log("val.recommendedCardLimit",t.recommendedCardLimit.length),t.approvedCardLimit=t.approvedCardLimit.slice(2,t.approvedCardLimit.length-1),t.requestedCardLimit=t.requestedCardLimit.slice(2,t.requestedCardLimit.length-1),this.apiService.cardAssessmentDetails(t).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Assessment details saved successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck())}),this.next()}removeComma(t){var e=t.replace(/,/g,"");return console.log("numb",e),e}next(){this.ls.setItem("CARD_ASSESSMENT_DONE",!0),this.ls.setItem("CARD_ASSESSMENT_STAGE_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/SupervisorApprovalStage/list"])}goBack(){this.router.navigate(["/cardaccount/assessmentStage/list"])}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(b.a),d.Rb(d.h),d.Rb(l.b),d.Rb(i.j),d.Rb(c.a),d.Rb(s.f),d.Rb(D.a),d.Rb(i.d))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-cardaccount-application-assessment"]],decls:62,vars:7,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_13.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],["fxLayout","column"],["fxFlex","70%","fxLayoutGap","10px",1,"field"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],[1,"hint"],["matInput","","formControlName","requestedCardLimit","type","text","placeholder","Requested Card Limit","readonly","",1,"alignment",3,"keypress"],["fxFlex","48%",1,"flex-grow-1"],["formControlName","systemRecommendation","placeholder","Select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","userRecommendation","placeholder","Select"],[4,"ngIf"],["fxFlex","4"],["fxFlex","96","matInput","","formControlName","recommendedCardLimit","type","text","required","",1,"alignment",3,"keypress","blur"],["matInput","","formControlName","approvedCardLimit","type","text","placeholder","Approved Card Limit","readonly","","required","",1,"alignment",3,"keypress"],["matInput","","placeholder","Remarks","formControlName","remark","type","text",1,"alignment"],[1,"button"],["mat-stroked-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Assessment Report"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",2),d.Xb(10,"mat-card",7),d.Xb(11,"mat-card-title",8),d.Xb(12,"div",9),d.Tc(13," Assessment Details"),d.Sb(14,"mat-divider"),d.Wb(),d.Wb(),d.Xb(15,"div"),d.Xb(16,"form",10),d.Xb(17,"div",11),d.Xb(18,"div",12),d.Xb(19,"div",13),d.Xb(20,"mat-form-field",14),d.Xb(21,"mat-label",15),d.Tc(22,"Requested Card Limit *"),d.Wb(),d.Xb(23,"input",16),d.fc("keypress",function(t){return e._keyPress1(t)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(24,"div",17),d.Xb(25,"mat-form-field",14),d.Xb(26,"mat-label",15),d.Tc(27,"System Recommendation"),d.Wb(),d.Xb(28,"mat-select",18),d.Xb(29,"mat-option",19),d.Tc(30,"Select"),d.Wb(),d.Rc(31,za,2,2,"mat-option",20),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(32,"div",12),d.Xb(33,"div",13),d.Xb(34,"mat-form-field",14),d.Xb(35,"mat-label",15),d.Tc(36,"User Recommendation *"),d.Wb(),d.Xb(37,"mat-select",21),d.Rc(38,Ga,2,2,"mat-option",20),d.Wb(),d.Rc(39,Ha,2,0,"mat-error",22),d.Wb(),d.Wb(),d.Xb(40,"div",17),d.Xb(41,"mat-form-field",14),d.Xb(42,"mat-label",15),d.Tc(43,"Recommended Card Limit"),d.Wb(),d.Xb(44,"span",23),d.Tc(45),d.Wb(),d.Xb(46,"input",24),d.fc("keypress",function(t){return e.keyUpEvent(t)})("blur",function(t){return e.transformAmount(t)}),d.Wb(),d.Rc(47,Ya,2,0,"mat-error",22),d.Wb(),d.Wb(),d.Wb(),d.Xb(48,"div",12),d.Xb(49,"div",13),d.Xb(50,"mat-form-field",14),d.Xb(51,"mat-label",15),d.Tc(52,"Approved Card Limit"),d.Wb(),d.Xb(53,"input",25),d.fc("keypress",function(t){return e._keyPress1(t)}),d.Wb(),d.Wb(),d.Wb(),d.Xb(54,"div",17),d.Xb(55,"mat-form-field",14),d.Xb(56,"mat-label",15),d.Tc(57,"Remarks"),d.Wb(),d.Sb(58,"input",26),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(59,"div",27),d.Xb(60,"button",28),d.fc("click",function(){return e.goNext(e.assessmentForm.value)}),d.Tc(61," Next "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(16),d.rc("formGroup",e.assessmentForm),d.Eb(15),d.rc("ngForOf",e.arraySystemRecommendation),d.Eb(7),d.rc("ngForOf",e.arrayUserRecommendation),d.Eb(1),d.rc("ngIf",!e.assessmentForm.get("userRecommendation").valid&&e.assessmentForm.get("userRecommendation").touched),d.Eb(6),d.Uc(e.currencySymboll),d.Eb(2),d.rc("ngIf",e.assessmentForm.get("recommendedCardLimit").touched&&0==e.assessmentForm.get("recommendedCardLimit").value),d.Eb(13),d.rc("disabled",!e.assessmentForm.valid))},directives:[h.e,h.b,p.a,p.h,X.a,s.C,s.s,s.j,h.f,y.c,y.g,f.b,s.c,s.r,s.i,Pt.a,Nt.n,i.m,i.n,s.z,g.b,y.b],styles:[".Back[_ngcontent-%COMP%]{margin:12px 0 12px -7%!important;color:#fff!important;background-color:#a0a0a0!important;border-radius:45px!important}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px!important}.Next[_ngcontent-%COMP%]{margin:12px -11% 12px 0!important;border-radius:55px!important}.field[_ngcontent-%COMP%]{margin-left:15px}.alignment[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-size:14px}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.type[_ngcontent-%COMP%]{text-transform:capitalize}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),t})();var Qa=r("XNiG"),Ka=r("IheW"),Ja=r("yb/K"),Za=r("DyWe"),tn=r("6slg"),en=r("KYk2"),rn=r("uKq3");function an(t,e){if(1&t&&(d.Xb(0,"mat-card"),d.Xb(1,"label"),d.Xb(2,"span",15),d.Tc(3),d.Wb(),d.Tc(4),d.Wb(),d.Xb(5,"div"),d.Sb(6,"app-genric-document-upload",16),d.Wb(),d.Wb()),2&t){const t=e.$implicit,r=e.index,i=d.jc();d.Eb(3),d.Wc("Customer Name(",r+1,"/",i.docholder.length,") :"),d.Eb(1),d.Xc("\xa0\xa0 ",t.firstName,"\xa0",null==t?null:t.middleName,"\xa0",t.lastName,""),d.Eb(2),d.rc("screenInfo",i.screenInfo[r])}}let nn=(()=>{class t{constructor(t,e,r,i,a,n,o,c,s,l,d,b,u,m,p){this.http=t,this.tokenService=e,this.dialog=r,this.router=i,this.fb=a,this.snack=n,this.ls=o,this.shareDataService=c,this.cdr=s,this.api=l,this.dialogService=d,this.loader=b,this.accountService=u,this.appApiService=m,this.doOcrService=p,this.webcamImage=null,this.webcamImage1=null,this.scan1Array=[],this.scan2Array=[],this.scan3Array=[],this.customerId=null,this.frontImageArray=[],this.backImageArray=[],this.otherImageArray=[],this.otherDocumentArray=[],this.boxArray=[],this.document_type=["6","7","8"],this.custDocExist=!1,this.selectedOptions2=[],this.documentSide=null,this.frontImage=null,this.backImage=null,this.otherImage=null,this.secondBoxArray=[],this.thirdBoxArray=[],this.ocrResult="Recognizing...",this.selectedDocumentTypes2=[],this.nameOnCard=[],this.dobArray=[],this.idNumberArray=[],this.docarr=[],this.addressArray=[],this.dataFetched=!1,this.boxArray2=[],this.boxArray3=[],this.doc_name=[],this.docholder=[],this.docuNameArray=[],this.arrayOfImageArrays0=[],this.arrayOfImageArrays1=[],this.arrayOfImageArrays2=[],this.docValArray=[],this.docarray1=[],this.newOtherPage=!1,this.disableNextAtIndex1=!0,this.otherDocPages=[],this.otherDocumentArray2=[],this.isDocumentUploadDone=!1,this.isDocumentUpload=!1,this.screenInfo=[],this.ff=!1,this.bf=!1,this.docName="document_name",this.progressValFrontArray=[],this.progressValBackArray=[],this.progressValOthersArray=[],this.progressValOtherDocumentArray=[],this.customerDocs=[],this.trigger=new Qa.a,this.aadharParser=t=>{try{let e,r,i=2;const a=t.replace(/[^\x00-\x7F]/g,"").trim().split("\n");for(let t=a.length-1;t>=0;t--){let r=0,i=-1;for(let e=0;e<a[t].length;e++)a[t][e]>="0"&&a[t][e]<="9"&&(r++,-1===i&&(i=e));r>=12&&(e=a[t].substr(i,i+14))}for(let t=0;t<a.length;t++)["DOB","Year of Birth"].some(e=>{const n=a[t].indexOf(e);-1!==n&&(r=a[t].trim().slice(n,a[t].length).split(" ").pop(),i=t-1,console.log(r))});const n=a[i].split(" ").filter(t=>t.length>1).join(" ");return console.log(n),{dob:r,adharNumber:e,fullName:n}}catch(e){console.log(e),console.error("Unable to parse aadhar")}},this.isDocumentOptionDisabled2=t=>this.selectedOptions2.includes(t),this.panCardParser=t=>{try{const e=t.replace(/[^\x00-\x7F]/g,""),r=e.indexOf("Permanent"),i=e.indexOf("Name"),a=e.slice(r,i).match("[A-Z]{5}[0-9]{4}[A-Z]{1}")[0],n=e.indexOf("Father's Name :"),o=e.slice(i,n).split("\n")[1].split(" "),c=e.slice(e.indexOf("Date of Birth"),e.length).split("\n")[1].split(" ")[0];return{panNumber:a,name:`${o[0]} ${o[1]}`,dateOfBirth:c}}catch(e){console.log(e),console.error("Unable to parse pan card"),this.snack.open("Please Upload Valid Document","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}},this.passportParser=t=>{var e;try{let r,i;const a=t.replace(/[^\x00-\x7F]/g,""),n=a.indexOf("Given Name"),o=a.slice(n,a.length).split("\n"),c=o.findIndex(t=>t.indexOf("Date of Issue")>-1)+1;if(c>0){const t=o[c].split(" ");r=t[t.length-2],i=t[t.length-2]}const s=a.indexOf("Nationality"),l=null===(e=a.slice(s,a.length))||void 0===e?void 0:e.split("\n")[1].split(" ").pop();let d;const b=a.trim().split("\n");for(let t=b.length-1;t>=0;t--)if(b[t].includes("<")){d=b[t].substr(0,b[t].indexOf("<"));break}return{dob:l,name:o[1],issueNoString:d,dateOfIssue:r,dateOfExpiry:i}}catch(r){console.error("Unable to parse passport")}}}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(t=>{for(let e=0;e<=t.data.length;e++)this.screen={screenName:"Cad Document Upload",name:t.data[e].firstName,data:"",customerId:t.data[e].customerId,cifNumber:t.data[e].cifNumber},this.screenInfo.push(this.screen)}),console.log(this.screenInfo),this.customerId=sessionStorage.getItem("customer_id"),this.customer_Id=sessionStorage.getItem("customer_id"),this.addCustomer(),this.getCustomerInformationDetails(),this.documentForm=this.fb.group({documentName:["",[s.A.required]],frontSide:["",[s.A.required]],backSide:[""],others:[""],items:this.fb.array([this.inititemrows("")])}),this.doc_name=["Aadhar card","Pan card","Passport"],this.docValArray=["frontSide","backSide","others"],this.tokenService.getDropDownValues(this.docName).subscribe(t=>{this.document_name=t}),this.tokenService.getDropDownValues("document_type").subscribe(t=>{this.documentTypeArr=t}),this.api.getName().subscribe(t=>{this.assignName(t.name)}),this.api.getOCR().subscribe(t=>{}),this.shareDataService.getCustomerId.subscribe(t=>{this.api.getOCR().subscribe(t=>{console.log("ocr resp from backend ",t),this.assignOCRValues(t)}),console.log("cId=",t)}),this.doOcrService.getenableNext().subscribe(t=>{console.log("data disableNextAtIndex1 :: ",t),this.disableNextAtIndex1=t}),this.documentForm.valueChanges.subscribe(t=>{t.doc_list.length>0&&(console.log("data.doc_list.length",t.doc_list.length),this.selectedOptions2=[],t.doc_list.forEach((t,e)=>{this.selectedOptions2.push(t.documentType)}))}),this.api.getKycDataFetchedInfo().subscribe(t=>{this.documentForm=this.fb.group({documentsList:this.fb.array([this.createItem()]),doc_list:this.fb.array("DATA FETCH"===t?[]:[this.createDocItem()]),id:[""],upload:["",[s.A.required]]}),"DATA FETCH"===t?(this.dataFetched=!0,this.dataFetchedValue=t):this.dataFetched=!1}),this.disableNext=!0}addCustomer(){this.docarr.push(this.inititemrows(""))}addCust(){this.docarr.push(this.inititemrows(""))}inititemrows(t){return this.fb.group({id:t?t.id:[""],fileUrl:t?t.fileUrl:[""]})}addDocumentlist(t){this.newOtherPage=!1,this.disableNext=!0;for(let e=0;e<=t.data.length-1;e++)this.documentsList=this.documentForm.get("documentsList"),this.documentsList.push(this.createItem()),this.doc_list.push(this.createDocItem())}addDocuments(){this.newOtherPage=!1,this.disableNext=!0,this.documentsList=this.documentForm.get("documentsList"),this.documentsList.push(this.createItem()),this.doc_list.push(this.createDocItem())}createDocItem(){return this.fb.group({documentName:["",[s.A.required]],frontSide:["",[s.A.required]],backSide:[""],others:[""],fileUrl:[""]})}createItem(){return this.fb.group({id:[""],documentName:["",s.A.required],documentType:[""]})}assignOCRValues(t){console.log(t),this.dob=t.dob,this.namePancard=t.namePancard,this.panNumber=t.panNumber,this.frontImageArray[0]=t.imageOCR,this.backImageArray[0]=t.imageOCRBack,t.imageOCRBack&&(this.backImageArray[0]=t.imageOCRBack,this.secondBoxArray[0]=!0,this.address=t.address,this.addressDisplay=!0,this.progressValBackArray[0]=100);const e=Object.values(t).some(t=>Boolean(t));console.log("hasNonEmptyFields",e),e&&(this.documentForm.get("documentName").patchValue("Aadhar card"),console.log(this.documentForm.get("documentName")),this.progressValFrontArray[0]=100,this.disableNext=!0,this.pancard=!0)}delete(t,e,r){this.docum_name=t.documentName,this.customerId=sessionStorage.getItem("customer_id"),2==e&&(this.secondBoxArray[r]=!1,this.addressDisplay=!1,this.progressValBackArray[r]=0,this.backImageArray[r]=null,this.backSelected=null,this.document_side=e,this.api.deleteCustDoc(this.customerId,this.docum_name,this.document_side).subscribe(t=>{})),3==e&&(this.thirdBoxArray[r]=!1,this.progressValOthersArray[r]=0,this.otherImageArray[r]=null,this.othersSelected=null,this.document_side=e,this.api.deleteCustDoc(this.customerId,this.docum_name,this.document_side).subscribe(t=>{})),this.disableNext=!1}getCustomerInformationDetails(){this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(t=>{console.log(t.data),console.log(t.data.customerId),this.docholder=t.data;for(let e=0;e<=t.data.length-1;e++)this.getCustomerDocuments(t.data[e].customerId);console.log(this.docholder),this.addDocumentlist(t)},t=>{})}deleteOtherDocument(t,e,r){this.docum_name=t.documentName,this.customerId=sessionStorage.getItem("customer_id"),this.newDocumentSide=r+4,this.docarray1[e][r]&&(this.docarray1[e].pop(),this.otherDocumentArray[e][r]=null),this.api.deleteCustDoc(this.customerId,this.docum_name,this.newDocumentSide).subscribe(t=>{})}assignName(t){this.name=t.toLowerCase()}addotherpage(t){if(this.docarray1[t])this.docarray1[t].push(this.inititemrows(""));else{var e=[this.inititemrows("")];this.docarray1[t]=e,this.otherDocumentArray[t]=[],this.progressValOtherDocumentArray[t]=[]}}createOtherForm(t){return this.fb.group({id:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""]})}goNext(){this.ls.setItem("CARD_DOCUMENT_STAGE_DONE",!0),this.ls.setItem("CARD_DOCUMENT_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEnrichment/list"])}goBack(){this.router.navigate(["/cardaccount/documentupload/list"])}triggerSnapshot(t){this.trigger.next(),this.scan1Array[t]=!1,this.scan2Array[t]=!1,this.scan3Array[t]=!1}callingBox2(t){this.secondBoxArray[t]=!0,this.disableNext=!0,console.log(this.secondBoxArray[t])}callingBox3(t){this.thirdBoxArray[t]=!0,this.disableNext=!0,this.newOtherPage=!0}doOCR(t,e,r,i,a){const n=Object(Ja.createWorker)({logger:t=>console.log(t)});(()=>{var o,c,s;o=this,s=function*(){this.loader.open(),yield n.load(),yield n.loadLanguage("eng"),yield n.initialize("eng");const{data:{text:o}}=yield n.recognize(t);if(this.loader.close(),3!==i)if(i>3)this.uploadDoc(t,r,e,i,a);else{if("Pan card"===this.documentForm.value.documentsList[a].documentName){const t=this.panCardParser(o);this.nameDoc=t.name.toLowerCase()}if("Passport"==this.documentForm.value.documentsList[a].documentName){const t=this.passportParser(o);if(this.nameDoc=t.name.toLowerCase(),!this.nameDoc)return void this.shotToast("The document is not a valid Passport")}if("Aadhar card"==this.documentForm.value.documentsList[a].documentName&&"1"==i){const t=this.aadharParser(o);if(this.nameDoc=t.fullName.toLowerCase(),!1===/^([a-z]){2,30}$/.test(this.nameDoc.replace(/\s/g,"")))return void this.shotToast("The document is not a valid Aadhar card")}if("Aadhar card"==this.documentForm.value.documentsList[a].documentName&&"2"==i){this.aadharParser(o);let n=o.split(",");for(let t=0;t<n.length;t++)n[t]=n[t].replace(/[^a-zA-Z ]/g,""),console.log("array after removing special characters ",n[t]);if(void 0===n[2]&&(n[2]=""),void 0===n[5]&&(n[5]=""),void 0===n[6]&&(n[6]=""),void 0===n[7]&&(n[7]=""),void 0===n[2]&&void 0===n[5]&&void 0===n[6]&&void 0===n[7])return void(this.addressDisplay=!1);if(""===n[2]&&""===n[5]&&""===n[6]&&""===n[7])return void(this.addressDisplay=!1);this.addressArray[a]=n[3]+","+n[5]+","+n[7],this.addressDisplay=!0,this.uploadDoc(t,r,e,i,a)}if(console.log(o.includes(this.name)),this.ocrFlag=o.includes(this.name),"1"==i&&this.nameDoc.replace(/\s/g,"")!==this.name.replace(/\s/g,""))this.dialogService.confirmationDialog(this.nameDoc,this.name).subscribe(n=>{if(console.log(n),"No"==n&&this.changeValue2_Ocr(e,a),"Yes"==n){if("Pan card"==this.documentForm.value.documentsList[a].documentName){const n=this.panCardParser(o);this.nameOnCard[a]=n.name.toLowerCase(),this.dobArray[a]=n.dateOfBirth,this.idNumberArray[a]=n.panNumber,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}if("Passport"==this.documentForm.value.documentsList[a].documentName){const n=this.passportParser(o);this.nameOnCard[a]=n.name.toLowerCase(),this.dobArray[a]=n.dob,this.idNumberArray[a]=n.issueNoString,this.dateOfIssue=n.dateOfIssue,this.dateOfExpiry=n.dateOfExpiry,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}if("Aadhar card"==this.documentForm.value.documentsList[a].documentName){const n=this.aadharParser(o);this.nameOnCard[a]=n.fullName.toLowerCase(),this.dobArray[a]=n.dob,this.idNumberArray[a]=n.adharNumber,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}else this.uploadDoc(t,r,e,i,a)}});else if("1"==i&&this.nameDoc.replace(/\s/g,"")==this.name.replace(/\s/g,"")){if("Pan card"==this.documentForm.value.documentsList[a].documentName){const n=this.panCardParser(o);this.nameOnCard[a]=n.name.toLowerCase(),this.dobArray[a]=n.dateOfBirth,this.idNumberArray[a]=n.panNumber,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}if("Passport"==this.documentForm.value.documentsList[a].documentName){const n=this.passportParser(o);this.nameOnCard[a]=n.name.toLowerCase(),this.dobArray[a]=n.dob,this.idNumberArray[a]=n.issueNoString,this.dateOfIssue=n.dateOfIssue,this.dateOfExpiry=n.dateOfExpiry,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}if("Aadhar card"==this.documentForm.value.documentsList[a].documentName){const n=this.aadharParser(o);this.nameOnCard[a]=n.fullName.toLowerCase(),this.dobArray[a]=n.dob,this.idNumberArray[a]=n.adharNumber,this.pancard=!0,this.uploadDoc(t,r,e,i,a)}else this.uploadDoc(t,r,e,i,a)}yield n.terminate()}else this.uploadDoc(t,r,e,i,a)},new((c=void 0)||(c=Promise))(function(t,e){function r(t){try{a(s.next(t))}catch(r){e(r)}}function i(t){try{a(s.throw(t))}catch(r){e(r)}}function a(e){var a;e.done?t(e.value):(a=e.value,a instanceof c?a:new c(function(t){t(a)})).then(r,i)}a((s=s.apply(o,[])).next())})})()}handleImage(t,e){this.webcamImage=t,this.fun(this.webcamImage,e)}handleImage1(t,e){this.webcamImage1=t,this.fun1(this.webcamImage1,e)}changeValue2(t,e){this.disableNext=!0,this.selectedDocumentTypes2[e]&&(this.selectedOptions2=this.selectedOptions2.filter(t=>t!==this.selectedDocumentTypes2[e])),this.selectedDocumentTypes2[e]=t,this.selectedOptions2.push(t),this.secondBoxArray[e]=!1,this.thirdBoxArray[e]=!1,this.frontImageArray[e]="",this.backImageArray[e]="",this.otherImageArray[e]="",this.backSelected="",this.frontSelected="",this.othersSelected="",this.progressValFrontArray[e]=0,this.progressValBackArray[e]=0,this.pancard=!1,console.log("i=",e)}changeValue2_Ocr(t,e){"frontSide"===t&&(this.frontImageArray[e]="",this.frontSelected="",this.progressValFrontArray[e]=0),"backSide"===t&&(this.secondBoxArray[e]=!1,this.backImageArray[e]="",this.backSelected="",this.progressValBackArray[e]=0),"others"===t&&(this.thirdBoxArray[e]=!1,this.otherImageArray[e]="",this.othersSelected="",this.progressValOthersArray[e]=0,this.disableNext=!0)}j(t,e){throw new Error("Method not implemented.")}handleImage2(t,e){console.log(e),this.webcamImage2=t,this.function2(this.webcamImage2,e)}function2(t,e){console.log(e);const r=new FormData,i={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:t._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:3,idNumber:this.panNumber};console.log(t.imageAsDataUrl),this.otherImageArray[e]=t.imageAsDataUrl,this.displayVal2=!1;let a=this.dataURLtoFile(t.imageAsDataUrl,"Aadhar");r.append("data",JSON.stringify(i)),r.append("file",a),this.tokenService.upload(r).subscribe(t=>{this.progressValOthersArray[e]=100,4===t.type&&t.body&&(console.log("res.body.id",t.body.id),this.assignIdValues("others",t.body.id)),this.documentForm.get("backSide").patchValue(!0)},t=>{201==t.status&&(this.ff=!0,this.documentForm.get("backSide").patchValue(!0),this.shotToast("Document Uploaded!"))})}get triggerObservable(){return this.trigger.asObservable()}tabClick(t){const e=t.tab.textLabel;"Documents Upload"===e&&this.router.navigateByUrl("/others/documents"),"verification"===e&&this.router.navigateByUrl("/others/verification"),"Basic Information"===e&&this.router.navigateByUrl("/others/kyc")}onNext(t){this.documentForm.reset(),this.tokenService.setIndex({index:2}),this.tokenService.setFinishFlag({finishFlag:!0}),this.updateKycStatus(),localStorage.setItem("page_id","2")}getCustomerDocuments(t){for(const e in this.document_type)if(Object.prototype.hasOwnProperty.call(this.document_type,e)){const r=this.document_type[e];console.log(r,e,t),this.tokenService.getCustomerDocuments(t,r).subscribe(t=>{console.log(e,t,this.documentForm),this.customerDocs=t,this.docuNameArray=["Aadhar card","Pan card","Passport"],console.log(this.documentForm.controls.documentsList.controls),this.documentForm.controls.documentsList.controls[0].controls.documentName.setValue(this.docuNameArray[0]),this.doc_name=["Aadhar card","Pan card","Passport"];for(let e=0;e<this.customerDocs.length;e++){if(this.customerDocs[e]){console.log(this.customerDocs[e].documentName);for(let t=0;t<3;t++)this.customerDocs[e].documentName==this.doc_name[t]&&1==this.customerDocs[e].documentSide&&(this.frontImageArray[t]=this.customerDocs[e].fileUrl,this.progressValFrontArray[t]=100,console.log("index",t));for(let t=0;t<3;t++)this.customerDocs[e].documentName==this.doc_name[t]&&2==this.customerDocs[e].documentSide&&(this.backImageArray[t]=this.customerDocs[e].fileUrl,this.progressValBackArray[t]=100,this.secondBoxArray[t]=!0);for(let t=0;t<3;t++)this.customerDocs[e].documentName==this.doc_name[t]&&3==this.customerDocs[e].documentSide&&(this.otherImageArray[t]=this.customerDocs[e].fileUrl,this.progressValOthersArray[t]=100,this.thirdBoxArray[t]=!0);for(let t=0;t<3;t++)if(this.customerDocs[e].documentName==this.doc_name[t]&&this.customerDocs[e].documentSide>3){if(this.fetchChildIndex=this.customerDocs[e].documentSide-4,this.newOtherPage=!0,this.docarray1[t])this.docarray1[t].push(this.inititemrows(""));else{var r=[this.inititemrows("")];this.docarray1[t]=r,this.otherDocumentArray[t]=[]}this.otherDocumentArray[t][this.fetchChildIndex]=this.customerDocs[e].fileUrl,console.log("this.otherDocumentArray",this.otherDocumentArray)}}this.disableNext=!1}if(this.customerDocs.length>0){if(this.page_id=this.ls.getItem("page_id"),console.log(this.page_id),"Pan card"==this.customerDocs[0].documentName&&2!==this.page_id){let t=document.getElementById("auto_trigger");t&&(console.log(t),t.click()),this.disableNext=!1}if(this.documentForm.controls.documentsList.controls[1].controls.documentName.setValue(this.docuNameArray[1]),"Passport"==this.customerDocs[0].documentName&&2!==this.page_id){let t=document.getElementById("auto_trigger");t&&(console.log(t),t.click()),this.disableNext=!1}this.documentForm.controls.documentsList.controls[2].controls.documentName.setValue(this.docuNameArray[2]),"Pan card"==this.frontImage.documentName&&(this.panNumber=this.customerDocs.find(t=>2==t.documentSide).idNumber),"Aadhar card"==this.frontImage.documentName&&(this.panNumber=this.customerDocs.find(t=>1==t.documentSide).idNumber),this.panNumber&&(this.pancard=!0),null!=this.frontImage&&(this.progressValFrontArray[0]=100),null!=this.backImage&&(this.progressValBackArray[0]=100),null!=this.otherImage&&(this.progressValOthersArray[0]=100),this.documentForm.patchValue({documentName:this.customerDocs[0].documentName,frontSide:this.customerDocs[0].documentName,backSide:this.customerDocs[0].documentName}),console.log(this.customerDocs[0].documentName)}this.cdr.markForCheck(),console.log("end of api")})}this.custId=t}convertBlob(t){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpeg;base64,"+t)}updateKycStatus(){this.tokenService.updateKycStatusByCustId(this.customer_Id,"UNDER_PROCESS","").subscribe(t=>{console.log("update response :: ",t)})}previous(){this.tokenService.setIndex({index:0})}openDialog(){this.dialog.open(Za.a,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}scan(t){this.scan1Array[t]=!0,this.scan2Array[t]=!1,this.scan3Array[t]=!1,this.disableNext=!1}scan12(t){this.scan1Array[t]=!1,this.scan2Array[t]=!0,this.scan3Array[t]=!1,this.disableNext=!1}scan13(t){this.scan1Array[t]=!1,this.scan2Array[t]=!1,this.scan3Array[t]=!0,this.disableNext=!1}fun(t,e){const r=new FormData,i={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:t._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:1,idNumber:this.panNumber};this.frontImageArray[e]=t.imageAsDataUrl,this.displayVal=!1;let a=this.dataURLtoFile(t.imageAsDataUrl,"Aadhar");r.append("data",JSON.stringify(i)),r.append("file",a),this.tokenService.upload(r).subscribe(t=>{this.progressValFrontArray[e]=100,this.documentForm.get("frontSide").patchValue(!0)},t=>{201==t.status&&(this.bf=!0,this.documentForm.get("frontSide").patchValue(!0),this.shotToast("Document Uploaded!"))})}fun1(t,e){console.log("inside fun1");const r=new FormData,i={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:t._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:2,idNumber:this.panNumber};this.backImageArray[e]=t.imageAsDataUrl,this.displayVal1=!1;let a=this.dataURLtoFile(t.imageAsDataUrl,"Aadhar");r.append("data",JSON.stringify(i)),r.append("file",a),this.tokenService.upload(r).subscribe(t=>{this.progressValBackArray[e]=100,4===t.type&&t.body&&(console.log("res.body.id",t.body.id),this.assignIdValues("backSide",t.body.id)),this.documentForm.get("backSide").patchValue(!0)},t=>{201==t.status&&(this.ff=!0,this.documentForm.get("backSide").patchValue(!0),this.shotToast("Document Uploaded!"))})}dataURLtoFile(t,e){for(var r=t.split(","),i=r[0].match(/:(.*?);/)[1],a=atob(r[1]),n=a.length,o=new Uint8Array(n);n--;)o[n]=a.charCodeAt(n);return new File([o],e,{type:i})}assign(t){this.customerId=t}onUpload(t,e,r,i,a){if(console.log(a),this.newDocumentSide=r,this.childindex=r-4,console.log(t,e,r),"frontSide"===e&&(this.progressValFrontArray[i]=0),"backSide"===e&&(this.progressValBackArray[i]=0),"others"===e&&(this.progressValOthersArray[i]=0),this.selectedFiles=t.target.files[0],this.shotToast("Your file size is "+this.formatBytes(t.target.files[0].size,2)),t.target.files){var n=new FileReader;n.readAsDataURL(t.target.files[0]),n.onload=t=>{this.image=t.target.result,"backSide"===e&&(this.backSelected=this.selectedFiles.name,this.doOCR(this.image,e,this.selectedFiles,r,i),this.displayVal1=!0),"frontSide"===e&&(this.frontSelected=this.selectedFiles.name,this.doOCR(this.image,e,this.selectedFiles,r,i),this.displayVal=!0),"others"===e&&(this.othersSelected=this.selectedFiles.name,this.doOCR(this.image,e,this.selectedFiles,r,i),this.displayVal2=!0),"otherDocument"===e&&(this.otherDocumentSelected=this.selectedFiles.name,this.otherDocumentArray[i][this.childindex]=this.image,console.log("final document",this.docarray1),this.doOCR(this.otherDocumentArray[i][this.childindex],e,this.selectedFiles,r,i))}}this.disableNext=!1}formatBytes(t,e){if(0===t)return"0 Bytes";const r=e<0?0:e,i=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,i)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}uploadDoc(t,e,r,i,a){this.childindex=i-4,console.log("URL ---- ",e);const n=new FormData;"Aadhar card"===this.documentForm.value.documentsList[a].documentName&&(this.docType="6"),"Pan card"===this.documentForm.value.documentsList[a].documentName&&(this.docType="7"),"Passport"===this.documentForm.value.documentsList[a].documentName&&(this.docType="8");const o={customerId:this.docholder[a].customerId,documentName:this.documentForm.value.documentsList[a].documentName,documentType:this.docType,fileType:e.type,fileName:e.name,verificationType:"KYC verification",documentSide:i,idNumber:this.panNumber,name:this.namePancard,dob:this.dob};n.append("data",JSON.stringify(o)),n.append("file",e),console.log("URL -- ",e.name,o,n),this.uploadSub=this.tokenService.upload(n).subscribe(e=>{console.log("Response -- ",e),"backSide"===r?e.type&&e.type==Ka.e.UploadProgress&&(this.progressValBackArray[a]=Math.round(e.loaded/e.total*100),this.backImageArray[a]=t):"frontSide"===r?e.type&&e.type==Ka.e.UploadProgress&&(this.progressValFrontArray[a]=Math.round(e.loaded/e.total*100),this.frontImageArray[a]=t):"others"===r&&e.type&&e.type==Ka.e.UploadProgress&&(this.progressValOthersArray[a]=Math.round(e.loaded/e.total*100),console.log("uploadProgress others",this.progressValOthersArray[a]),this.otherImageArray[a]=t),e.body&&(console.log("res.body.id",e.body.id),this.assignIdValues(r,e.body.id),this.documentForm.get(r).patchValue(!0),this.shotToast("Document Uploaded!"))},t=>{201==t.status?(this.documentForm.get(r).patchValue(!0),this.shotToast("Document Uploaded!")):"backSide"===r?(this.progressValBackArray[a]=0,this.backImageArray[a]=null,this.backSelected=null,this.shotToast(t.message)):(this.progressValFrontArray[a]=0,this.frontImageArray[a]=null,this.frontSelected=null,this.shotToast(t.message))})}assignIdValues(t,e){console.log(t),"backSide"===t&&(this.backSideId=e),"others"===t&&(this.otherSideId=e),"otherDocument"===t&&(this.otherDocumentSideId=e)}ngOnDestroy(){this.shareDataService.shareCustomerId(null)}cancelUpload(t){this.uploadSub.unsubscribe(),this.shotToast("Document Uploaded Cancelled!"),"backSide"==t?(this.progressValBackArray[0]=0,this.backImageArray[0]=null,this.backSelected=null):(this.progressValFrontArray[0]=0,this.frontImageArray[0]=null,this.frontSelected=null)}shotToast(t){this.snack.open(""+t,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}deleteDocument(t,e){console.log(this.customerId,t,e),this.customerId=this.ls.getItem("customerId");const r=this.documentForm.get("documentsList");console.log(r),r.removeAt(e),this.api.delCustDoc(this.customerId,t.documentName).subscribe(t=>{console.log("data after delete",t)})}next(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}uploadLink(){this.api.uploadDocLink(l.c,this.custId).subscribe(t=>{console.log("uploadDocLink",t),(""!=t||null==t||null!=t)&&(console.log("uploadDocLink",t),this.dialog.open(tn.a,{width:"35%",backdropClass:"dialog-bg-trans",height:"50%",disableClose:!0}).afterClosed().subscribe(t=>{console.log("The dialog was closed",t)}))})}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(Ka.c),d.Rb(l.b),d.Rb(u.b),d.Rb(m.h),d.Rb(s.f),d.Rb(b.a),d.Rb(c.a),d.Rb(Ct.a),d.Rb(d.h),d.Rb(l.b),d.Rb(Z.a),d.Rb($.a),d.Rb(D.a),d.Rb(Et.a),d.Rb(en.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-document-details"]],viewQuery:function(t,e){if(1&t&&d.ad(At.a,!0),2&t){let t;d.Cc(t=d.gc())&&(e.progressBar=t.first)}},decls:20,vars:2,consts:[[1,"matcard-size"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask Group 6.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"ml-16"],[1,"mt-24"],[4,"ngFor","ngForOf"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[2,"font-size","20px"],[3,"screenInfo"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Document Details"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",7),d.Xb(10,"h2",8),d.Tc(11,"Document Details"),d.Wb(),d.Sb(12,"div",9),d.Rc(13,an,7,6,"mat-card",10),d.Wb(),d.Xb(14,"div",11),d.Xb(15,"button",12),d.fc("click",function(){return e.goBack()}),d.Tc(16,"BACK"),d.Wb(),d.Sb(17,"span",13),d.Xb(18,"button",14),d.fc("click",function(){return e.goNext()}),d.Tc(19,"Next"),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(13),d.rc("ngForOf",e.docholder),d.Eb(5),d.rc("disabled",e.disableNextAtIndex1))},directives:[h.e,h.b,i.m,g.b,p.a,rn.a],styles:[".breadcrumb[_ngcontent-%COMP%]{position:fixed;top:40px;width:100%;background-color:#fff}.link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;color:#456efe;font-size:small;align-self:center}.head[_ngcontent-%COMP%]{background-color:#fff}.snapShot[_ngcontent-%COMP%]{margin-top:2%}.panCradDiv[_ngcontent-%COMP%]{height:30%;right:0;width:200px}.backIcon[_ngcontent-%COMP%]{color:red;float:right}.app-container[_ngcontent-%COMP%]{height:100%;width:100%}.basic-container[_ngcontent-%COMP%]{padding:5px}.main-head[_ngcontent-%COMP%]{padding-left:5%;padding-top:16px;padding-bottom:0}mat-tab-group[_ngcontent-%COMP%]{padding-left:2%}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;height:60vh;border:1px solid #000;padding:10px 5px;box-sizing:border-box}.flex-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0 5px;box-sizing:border-box}.flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){margin-top:5px}.flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){flex:1}.formField1[_ngcontent-%COMP%]{flex-grow:1;width:50px}.formField[_ngcontent-%COMP%], .formField2[_ngcontent-%COMP%]{flex-grow:1;width:100%}#row[_ngcontent-%COMP%]{font-size:9px;color:#2680eb}mat-hint[_ngcontent-%COMP%]{font-size:10px;margin-bottom:-12px;display:block}.inputMatcard[_ngcontent-%COMP%]{max-width:500px;padding:10px}.inputMatcard[_ngcontent-%COMP%], .inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;width:100%}.inputMatcard1[_ngcontent-%COMP%]{padding:18px}.inputMatcard2[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;width:20px}.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.inputClass[_ngcontent-%COMP%]{border-style:hidden;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);font-weight:bolder}[_nghost-%COMP%]     .mat-form-field-outline-end, [_nghost-%COMP%]     .mat-form-field-outline-gap, [_nghost-%COMP%]     div.mat-form-field-outline-start{border-color:0!important;border-width:0!important}.form[_ngcontent-%COMP%]{gap:20px;justify-content:space-between}.form[_ngcontent-%COMP%], .form1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.form1[_ngcontent-%COMP%]{gap:50px;height:400px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.matCard[_ngcontent-%COMP%]{max-width:1200px;align-items:center;justify-content:center;margin:10px auto 3%}.mat-form-field-flex[_ngcontent-%COMP%]{box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902)}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}mat-label[_ngcontent-%COMP%]{font-weight:700;font-size:12px;letter-spacing:0}.matSelect[_ngcontent-%COMP%]{margin-left:20%;width:80px;font-weight:lighter;font-size:10px;letter-spacing:0;color:#000;background-color:#f4f8f7}.dived[_ngcontent-%COMP%], .matSelect[_ngcontent-%COMP%]{padding-top:10px}.scanButton[_ngcontent-%COMP%]{width:80px;display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:50px;border-radius:5px}.matIcon[_ngcontent-%COMP%]{font-size:30px}.insertDriveImg[_ngcontent-%COMP%], .matIcon[_ngcontent-%COMP%]{color:#456efe;display:block;margin:auto}.insertDriveImg[_ngcontent-%COMP%]{padding-top:30px;width:120px;height:120px;text-align:center}.flex-grow-2[_ngcontent-%COMP%]{padding:40px 50px;border:2px dashed #d3d3d3;border-radius:10px}.flex-grow-2[_ngcontent-%COMP%], .flex-grow-Upload[_ngcontent-%COMP%]{margin-bottom:5%}.alignment[_ngcontent-%COMP%]{border-style:none!important}.line[_ngcontent-%COMP%]{border:thick;border-style:solid;border-block-width:unset;color:#00f;color:#6988f6;width:40px;border-radius:5px;margin:initial;margin-bottom:20px}.uploadField[_ngcontent-%COMP%]{font-size:large}input[_ngcontent-%COMP%]{width:80%;color:#374664;opacity:1%;font-weight:600}.mat-tab-group.mat-primary[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-group.mat-primary[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus{background:red}.mat-tab-label-active[_ngcontent-%COMP%]{color:green}  .mat-tab-label-active{color:#6988f6!important}.verification[_ngcontent-%COMP%]{float:right;color:#2a59e7}  .mat-tab-group.mat-primary .mat-ink-bar{background-color:#6988f6!important;height:4px}mat-tab-label[_ngcontent-%COMP%]{font-size:8px}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.line[_ngcontent-%COMP%]{flex:1}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}figure[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border-radius:50px;font-size:25px;text-align:center;margin-right:10px;background:#fff;line-height:1.7em}figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;width:30px;height:auto}.close[_ngcontent-%COMP%]{border-style:none;background-color:#fff;position:relative;top:10px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -12%;width:150px;color:#a9a9a9;border-radius:45px}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}.insertDrive[_ngcontent-%COMP%]{color:#456efe;display:block;margin:auto;font-size:25px}.progressDiv[_ngcontent-%COMP%]{flex-grow:1;align-self:flex-end}.progress[_ngcontent-%COMP%]{text-align:end;font-size:7px}.formSectionContainer[_ngcontent-%COMP%]{gap:40px;display:grid;grid-template-columns:200px auto}@media (max-width:768px){.formSectionContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}}.formImg[_ngcontent-%COMP%]{background-color:green;max-height:100px}.dropDown[_ngcontent-%COMP%]{display:block}.mat-radio-button.mat-accent.mat-radio-checked[_ngcontent-%COMP%]   .mat-radio-outer-circle[_ngcontent-%COMP%]{border-color:#4286f4!important}.mat-radio-button.mat-accent[_ngcontent-%COMP%]   .mat-radio-inner-circle[_ngcontent-%COMP%]{color:#4286f4;background-color:#4286f4}  .egret-navy .mat-progress-bar-buffer{background-color:#add8e6!important}  .egret-navy .mat-progress-bar-fill:after{background-color:#00f!important}#sides[_ngcontent-%COMP%]{width:100px}#box[_ngcontent-%COMP%]{display:flex}.Back[_ngcontent-%COMP%]{background-color:grey;color:#fff}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}button[disabled][_ngcontent-%COMP%]{color:#666}.docimg[_ngcontent-%COMP%]{height:100px;width:100%;-o-object-fit:cover;object-fit:cover}.errbd[_ngcontent-%COMP%]{border:1px solid red}.sub_div[_ngcontent-%COMP%]{position:absolute;bottom:0}p[_ngcontent-%COMP%]{margin-left:300px}.button_2[_ngcontent-%COMP%]{margin-left:600px;bottom:100px}.button_2[_ngcontent-%COMP%], .button_3[_ngcontent-%COMP%]{position:relative;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.button_3[_ngcontent-%COMP%]{bottom:50px}"]}),t})(),on=(()=>{class t{constructor(t){this.router=t,this.isLoanApplicationEntryDone=!1,this.isLoanDetailScreen=!1,this.isDocumentUploadDone=!1,this.isDocumentUpload=!1}ngOnInit(){}documentdetails(){this.router.navigate(["/cardaccount/documentupload/list/document-details"])}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-document-upload"]],decls:30,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",2,"padding-left","17px"],[1,"colour"],["fxFlex","50%"],[1,"card-img",3,"src"],["mat-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Sb(3,"img",3),d.Wb(),d.Xb(4,"div",4),d.Xb(5,"div",5),d.Xb(6,"b"),d.Tc(7,"Create New Card Account"),d.Wb(),d.Wb(),d.Xb(8,"div",6),d.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(10,"div",7),d.Xb(11,"div",8),d.Xb(12,"mat-card"),d.Xb(13,"mat-card-header"),d.Xb(14,"mat-card-title"),d.Tc(15,"1. Document Upload"),d.Wb(),d.Wb(),d.Xb(16,"mat-card-content"),d.Xb(17,"div",9),d.Xb(18,"div",10),d.Xb(19,"p",11),d.Tc(20," All the necessary documents required for the application can be uploaded. "),d.Wb(),d.Wb(),d.Xb(21,"div",12),d.Sb(22,"img",13),d.Wb(),d.Wb(),d.Wb(),d.Sb(23,"mat-divider"),d.Xb(24,"mat-card-actions"),d.Vb(25),d.Xb(26,"button",14),d.fc("click",function(){return e.documentdetails()}),d.Tc(27," Add Details "),d.Xb(28,"mat-icon"),d.Tc(29,"chevron_right"),d.Wb(),d.Wb(),d.Ub(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(22),d.rc("src","assets/images/svg/Mask Group 6.svg",d.Jc))},directives:[h.e,h.b,p.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,g.b,a.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.colour[_ngcontent-%COMP%]{color:#cacaca}"]}),t})();function cn(t,e){if(1&t&&(d.Xb(0,"mat-option",29),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function sn(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Select Account Type "),d.Wb())}function ln(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Enter valid Product ID "),d.Wb())}function dn(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Enter Account Currency "),d.Wb())}function bn(t,e){if(1&t&&(d.Xb(0,"mat-option",29),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function un(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Select user Recommendation "),d.Wb())}function mn(t,e){if(1&t&&(d.Xb(0,"mat-option",29),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t.branchName),d.Eb(1),d.Vc(" ",t.branchName," ")}}function pn(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Select Account Branch "),d.Wb())}function gn(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Enter valid Product Name "),d.Wb())}function hn(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Enter valid Existing Value "),d.Wb())}function fn(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Enter Remarks "),d.Wb())}let yn=(()=>{class t{constructor(t,e,r,i,a,n){this.api=t,this.ls=e,this.fb=r,this.apiService=i,this.router=a,this.accountService=n,this.showEditOption=!1}ngOnInit(){this.getUserRecomendation("user_recomendation"),this.getAccountType("account_type"),this.getAccountBranchDetails(),this.buildformGroup(),console.log(this.approvalForm),this.cardId=this.ls.getItem("cardId"),console.log("this.cardId",this.cardId),this.getCardInitiationDetails();let t=this.ls.getItem("CARD_APPROVAL_DONE");console.log("checc",t),null!=this.cardId&&t&&(this.showEditOption=!0,this.getApprovalDetails())}buildformGroup(t){this.approvalForm=this.fb.group({accountType:[t?t.accountType:"",s.A.required],productCode:[t?t.productCode:"",s.A.required],userRecommendation:[t?t.userRecommendation:"",s.A.required],accountBranch:[t?t.accountBranch:"",s.A.required],accountCurrency:[t?t.accountCurrency:"",s.A.required],productName:[t?t.productName:"",s.A.required],existingValues:[t?t.existingValues:"",s.A.required],remarks:[t?t.remarks:""]})}onSubmit(){console.log("data",this.approvalForm.value),this.apiService.upsertApprovalDetails({cardId:this.cardId,accountBranch:this.approvalForm.value.accountBranch,accountCurrency:this.approvalForm.value.accountCurrency,accountType:this.approvalForm.value.accountType,existingValues:this.approvalForm.value.existingValues,productCode:this.approvalForm.value.productCode,productName:this.approvalForm.value.productName,remarks:this.approvalForm.value.remarks,userRecommendation:this.approvalForm.value.userRecommendation}).subscribe(t=>{console.log("data",t)}),this.next()}next(){this.ls.setItem("CARD_APPROVAL_DONE",!0),this.ls.setItem("CARD_SUPERVISOR_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/DigitalSigning/list"])}goBack(){this.router.navigate(["/cardaccount/SupervisorApprovalStage/list"])}getApprovalDetails(){this.apiService.getApprovalDetails(this.cardId).subscribe(t=>{this.buildformGroup(t),console.log("data",t)})}onKeyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}getAccountCurrency(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayAccountCurrency=t})}getAccountType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayAccountType=t})}getUserRecomendation(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayUserRecomendation=t})}getAccountBranchDetails(){this.api.getAccountBranch().subscribe(t=>{console.log("data:: AccountBranch ",t),this.arrayAccountBranch=t})}getCardInitiationDetails(){this.apiService.getCardInitiationDetails(this.cardId).subscribe(t=>{console.log("data",t),this.currency=t.currency,this.approvalForm.controls.accountCurrency.setValue(this.currency)})}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(l.b),d.Rb(c.a),d.Rb(s.f),d.Rb(l.b),d.Rb(m.h),d.Rb(D.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-approval-details"]],decls:75,vars:13,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_16.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"ml-16"],[1,"mt-24"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["name","accountType","placeholder","Account type","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","name","productCode","placeholder","Product Code","formControlName","productCode"],["matInput","","name","account_currency","placeholder","Account Currency","formControlName","accountCurrency","readonly","",3,"keypress"],["name","owner","placeholder","Recommended for Approval","formControlName","userRecommendation"],["fxFlex","100","fxFlex.gt-xs","50"],["name","accountBranch","placeholder","Account Branch","formControlName","accountBranch"],["matInput","","name","productName","placeholder","Product Name","formControlName","productName",3,"keypress"],["matInput","","onlyNumber","","name","existingValues","placeholder","Existing Value","formControlName","existingValues",3,"keypress"],["matInput","","name","remarks","placeholder","Remarks","formControlName","remarks"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Sb(3,"img",3),d.Wb(),d.Xb(4,"div",4),d.Xb(5,"div",5),d.Xb(6,"b"),d.Tc(7,"Approval Details"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(8,"div",6),d.Xb(9,"h2",7),d.Tc(10,"Approval Details"),d.Wb(),d.Sb(11,"div",8),d.Xb(12,"mat-card"),d.Xb(13,"form",9),d.Xb(14,"mat-card-content"),d.Xb(15,"div",10),d.Xb(16,"div",11),d.Xb(17,"div",12),d.Xb(18,"mat-form-field",13),d.Xb(19,"mat-label"),d.Tc(20,"Account Type*"),d.Wb(),d.Xb(21,"mat-select",14),d.Rc(22,cn,2,2,"mat-option",15),d.Wb(),d.Rc(23,sn,2,0,"mat-error",16),d.Wb(),d.Wb(),d.Xb(24,"div",12),d.Xb(25,"mat-form-field",13),d.Xb(26,"mat-label"),d.Tc(27,"Product Code*"),d.Wb(),d.Sb(28,"input",17),d.Wb(),d.Rc(29,ln,2,0,"mat-error",16),d.Wb(),d.Xb(30,"div",12),d.Xb(31,"mat-form-field",13),d.Xb(32,"mat-label"),d.Tc(33,"Account Currency*"),d.Wb(),d.Xb(34,"input",18),d.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),d.Wb(),d.Rc(35,dn,2,0,"mat-error",16),d.Wb(),d.Wb(),d.Xb(36,"div",12),d.Xb(37,"mat-form-field",13),d.Xb(38,"mat-label"),d.Tc(39,"User Recomendation*"),d.Wb(),d.Xb(40,"mat-select",19),d.Rc(41,bn,2,2,"mat-option",15),d.Wb(),d.Rc(42,un,2,0,"mat-error",16),d.Wb(),d.Wb(),d.Wb(),d.Xb(43,"div",20),d.Xb(44,"div",12),d.Xb(45,"mat-form-field",13),d.Xb(46,"mat-label"),d.Tc(47,"Account Branch*"),d.Wb(),d.Xb(48,"mat-select",21),d.Rc(49,mn,2,2,"mat-option",15),d.Wb(),d.Rc(50,pn,2,0,"mat-error",16),d.Wb(),d.Wb(),d.Xb(51,"div",12),d.Xb(52,"mat-form-field",13),d.Xb(53,"mat-label"),d.Tc(54,"Product Name*"),d.Wb(),d.Xb(55,"input",22),d.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),d.Wb(),d.Wb(),d.Rc(56,gn,2,0,"mat-error",16),d.Wb(),d.Xb(57,"div",12),d.Xb(58,"mat-form-field",13),d.Xb(59,"mat-label"),d.Tc(60,"Existing Value*"),d.Wb(),d.Xb(61,"input",23),d.fc("keypress",function(t){return e.onKeyPress(t)}),d.Wb(),d.Wb(),d.Rc(62,hn,2,0,"mat-error",16),d.Wb(),d.Xb(63,"div",12),d.Xb(64,"mat-form-field",13),d.Xb(65,"mat-label"),d.Tc(66,"Remarks"),d.Wb(),d.Sb(67,"input",24),d.Rc(68,fn,2,0,"mat-error",16),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(69,"div",25),d.Xb(70,"button",26),d.fc("click",function(){return e.goBack()}),d.Tc(71,"BACK"),d.Wb(),d.Sb(72,"span",27),d.Xb(73,"button",28),d.fc("click",function(){return e.onSubmit()}),d.Tc(74,"Next"),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(13),d.rc("formGroup",e.approvalForm),d.Eb(9),d.rc("ngForOf",e.arrayAccountType),d.Eb(1),d.rc("ngIf",e.approvalForm.get("accountType").hasError("required")),d.Eb(6),d.rc("ngIf",e.approvalForm.get("productCode").touched&&0==e.approvalForm.get("productCode").value),d.Eb(6),d.rc("ngIf",e.approvalForm.get("accountCurrency").hasError("required")),d.Eb(6),d.rc("ngForOf",e.arrayUserRecomendation),d.Eb(1),d.rc("ngIf",e.approvalForm.get("userRecommendation").hasError("required")),d.Eb(7),d.rc("ngForOf",e.arrayAccountBranch),d.Eb(1),d.rc("ngIf",e.approvalForm.get("accountBranch").hasError("required")),d.Eb(6),d.rc("ngIf",e.approvalForm.get("productName").touched&&0==e.approvalForm.get("productName").value),d.Eb(6),d.rc("ngIf",e.approvalForm.get("existingValues").touched&&0==e.approvalForm.get("existingValues").value),d.Eb(6),d.rc("ngIf",e.approvalForm.get("remarks").hasError("required")),d.Eb(5),d.rc("disabled",e.approvalForm.invalid))},directives:[h.e,h.b,p.a,s.C,s.s,s.j,p.d,h.f,y.c,y.g,Pt.a,s.r,s.i,i.m,i.n,f.b,s.c,Vt.a,g.b,Nt.n,y.b],styles:[""]}),t})();function vn(t,e){if(1&t){const t=d.Yb();d.Xb(0,"button",14),d.fc("click",function(){return d.Hc(t),d.jc().addDetails()}),d.Tc(1," Add Details "),d.Xb(2,"mat-icon"),d.Tc(3,"chevron_right"),d.Wb(),d.Wb()}}function Cn(t,e){if(1&t){const t=d.Yb();d.Xb(0,"button",14),d.fc("click",function(){return d.Hc(t),d.jc().openApprovalSummary()}),d.Tc(1," View Details "),d.Xb(2,"mat-icon"),d.Tc(3,"chevron_right"),d.Wb(),d.Wb()}}let xn=(()=>{class t{constructor(t,e,r){this.router=t,this.dialogService=e,this.ls=r,this.isApprovalDetails=!1,this.isCardSupervisorApprovalDone=!1}ngOnInit(){this.isApprovalDetails=this.ls.getItem("CARD_APPROVAL_DONE"),this.isCardSupervisorApprovalDone=this.ls.getItem("CARD_SUPERVISOR_DONE"),console.log("",this.isApprovalDetails)}addDetails(){console.log("calling"),this.router.navigate(["/cardaccount/SupervisorApprovalStage/list/approvalDetails"])}openApprovalSummary(){this.dialogService.CardApprovalSummary()}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(Z.a),d.Rb(c.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-supervisor-approval-stage"]],decls:29,vars:3,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr"],["fxFlex","50%"],[1,"card-img",3,"src"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Sb(3,"img",3),d.Wb(),d.Xb(4,"div",4),d.Xb(5,"div",5),d.Xb(6,"b"),d.Tc(7,"Create New Card Account"),d.Wb(),d.Wb(),d.Xb(8,"div",6),d.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(10,"div",7),d.Xb(11,"div",8),d.Xb(12,"mat-card"),d.Xb(13,"mat-card-header"),d.Xb(14,"mat-card-title"),d.Tc(15,"1.Approval Details"),d.Wb(),d.Wb(),d.Xb(16,"mat-card-content"),d.Xb(17,"div",9),d.Xb(18,"div",10),d.Xb(19,"p"),d.Tc(20," Approval Details are captured."),d.Wb(),d.Wb(),d.Xb(21,"div",11),d.Sb(22,"img",12),d.Wb(),d.Wb(),d.Wb(),d.Sb(23,"mat-divider"),d.Xb(24,"mat-card-actions"),d.Vb(25),d.Rc(26,vn,4,0,"button",13),d.Ub(),d.Vb(27),d.Rc(28,Cn,4,0,"button",13),d.Ub(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(22),d.rc("src","assets/images/svg/MaskGroup_16.svg",d.Jc),d.Eb(4),d.rc("ngIf",!e.isApprovalDetails),d.Eb(2),d.rc("ngIf",e.isApprovalDetails))},directives:[h.e,h.b,p.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,i.n,g.b,a.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca;padding-left:17px}"]}),t})();function Wn(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Please Enter valid Scorecard ID "),d.Wb())}function Xn(t,e){1&t&&(d.Xb(0,"span",30),d.Tc(1," *"),d.Wb())}function In(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",22),d.Xb(1,"mat-form-field",31),d.Xb(2,"input",32),d.fc("keyup",function(e){d.Hc(t);const r=d.jc(),i=r.index,a=r.$implicit,n=d.jc().$implicit,o=d.jc();return o.validateInputValue(e.target.value,i,a.validationName),o.insertData(a.scoreCardQuestionId,e.target.value,a.attributeType,a.scoreCardMappingId,i,n.applicantId)})("click",function(e){d.Hc(t);const r=d.jc(),i=r.index,a=r.$implicit;return d.jc(2).validateInputValue(e.target.value,i,a.validationName)}),d.Wb(),d.Wb(),d.Xb(3,"mat-error",33),d.Tc(4),d.Wb(),d.Wb()}if(2&t){const t=d.jc(),e=t.index,r=t.$implicit,i=d.jc().index,a=d.jc();d.Eb(2),d.sc("name","input"+e),d.sc("id","input"+e),d.rc("required",r.isRequired)("autocomplete",a.off)("maxlength","Name"==r.validationName?25:50)("value",null==a.scoreCardMappingArray[i].scoreCardDetails[e].scorecardAnswer?a.sbSelectAnswer:a.scoreCardMappingArray[i].scoreCardDetails[e].scorecardAnswer),d.Eb(1),d.Oc("visibility","hidden"),d.sc("id","inputError"+e),d.Eb(1),d.Vc("Enter ",r.validationName,"")}}function Sn(t,e){if(1&t&&(d.Xb(0,"mat-option",36),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function On(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",22),d.Xb(1,"mat-form-field",31),d.Xb(2,"mat-select",34),d.fc("click",function(e){d.Hc(t);const r=d.jc().index;return d.jc(2).validateSelectValue(e.target.value,r)})("selectionChange",function(e){d.Hc(t);const r=d.jc(),i=r.index,a=r.$implicit,n=d.jc().$implicit,o=d.jc();return o.validateSelectValue(e.value,i),o.insertData(a.scoreCardQuestionId,e.value,a.attributeType,a.scoreCardMappingId,i,n.applicantId)}),d.Rc(3,Sn,2,2,"mat-option",35),d.Wb(),d.Wb(),d.Xb(4,"mat-error",33),d.Tc(5),d.Wb(),d.Wb()}if(2&t){const t=d.jc(),e=t.$implicit,r=t.index,i=d.jc(2);d.Eb(2),d.rc("required",e.isRequired)("name","checkbox"==e.attributeType?"multiSelect"+r:"select"+r)("id","checkbox"==e.attributeType?"multiSelect"+r:"select"+r)("value","checkbox"==e.attributeType?i.sbMultiSelectAnswer:i.sbMultiSelectAnswer[r])("multiple","checkbox"==e.attributeType),d.Eb(1),d.rc("ngForOf",e.scorecardAnswers),d.Eb(1),d.Oc("visibility","hidden"),d.sc("id","selectError"+r),d.Eb(1),d.Vc("Please select ",e.validationName,"")}}function Dn(t,e){if(1&t&&(d.Xb(0,"div",26),d.Xb(1,"div",22),d.Xb(2,"div",27),d.Xb(3,"mat-hint"),d.Tc(4),d.Rc(5,Xn,2,0,"span",28),d.Wb(),d.Wb(),d.Rc(6,In,5,10,"div",29),d.Rc(7,On,6,10,"div",29),d.Wb(),d.Wb()),2&t){const t=e.$implicit,r=e.index;d.Eb(4),d.Wc("",r+1,".",t.scorecardQuestion,""),d.Eb(1),d.rc("ngIf",t.isRequired),d.Eb(1),d.rc("ngIf","textbox"==t.attributeType),d.Eb(1),d.rc("ngIf","drop-down"==t.attributeType||"checkbox"==t.attributeType)}}function Tn(t,e){if(1&t&&(d.Xb(0,"mat-expansion-panel",19),d.Xb(1,"mat-expansion-panel-header"),d.Xb(2,"mat-panel-title"),d.Xb(3,"mat-icon",20),d.Tc(4,"check_circle"),d.Wb(),d.Xb(5,"span",21),d.Tc(6),d.Wb(),d.Wb(),d.Wb(),d.Xb(7,"mat-card",22),d.Xb(8,"mat-card-content",22),d.Xb(9,"div"),d.Xb(10,"h3"),d.Tc(11,"Questions"),d.Wb(),d.Wb(),d.Xb(12,"div",23),d.Xb(13,"div",24),d.Rc(14,Dn,8,5,"div",25),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t){const t=e.$implicit;d.Eb(6),d.Vc("Applicant ",t.applicantId,""),d.Eb(8),d.rc("ngForOf",t.scoreCardDetails)}}let An=(()=>{class t{constructor(t,e,r,i,a,n,o,c,l){this.router=t,this.api=e,this.snack=r,this.fb=i,this.ls=a,this.accountService=n,this.elRef=o,this.renderer=c,this.cdr=l,this.accountType="cardOrigin",this.sbMultiSelectAnswer=[],this.scoreboardQuestionsArray=[],this.scoreCardMappingArray=[],this.numberOfApplicant=new s.g(""),this.scoreCardId=new s.g(""),this.isDataSaved=!1,this.disableDoneBtn=!0,this.anyErrorExist=!1,this.isQualitativeScreen=!1,this.previousUrl="",this.showEditOption=!1,this.isCardQualitativeScoreboard=!1,this.sbSelectAnswer=""}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.loggedInUser=this.ls.getItem("ICUST_USER"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.noOfapplicants=this.ls.getItem("CardNoOfApplicants"),console.log(this.noOfapplicants),console.log(this.loggedInUser),JSON.parse(this.ls.getItem("ASSESSMENT_QA_DONE")),null!=this.cardId&&this.isCardQualitativeScoreboard?(this.showEditOption=!0,this.isQualitativeScreen=!0,this.getAllQualitative()):(console.log("else"),this.showEditOption=!1,this.loadData())}counter(t){return new Array(t)}loadData(){this.api.getScorecardQuestions(this.accountType).subscribe(t=>{console.log(t),console.log(this.noOfapplicants),!this.noOfapplicants&&t&&(this.noOfapplicants=t.length),t[1].attributeType="drop-down";for(let e=0;e<this.noOfapplicants;e++){this.scoreboardQuestionsArray.push({scorecardQuestion:t,applicantId:e+1,scoreCardDetails:t});let r=[];console.log("data",this.scoreCardDetails);for(let e=0;e<t.length;e++)r.push({scoreCardQuestionId:t[e].scoreCardQuestionId,scorecardAnswer:null,scoreCardMappingId:null});this.scoreCardMappingArray.push({applicantId:e+1,scoreCardDetails:r})}console.log("data",this.scoreCardDetails),console.log("ques:",this.scoreboardQuestionsArray),this.cdr.markForCheck()})}getAllQualitative(){console.log(this.isQualitativeScreen),this.api.getCardQualitativeScorecardDetails(this.cardId).subscribe(t=>{console.log(this.isQualitativeScreen),this.qualitativeScoreboardSummary=t,console.log(this.qualitativeScoreboardSummary.scoreCardId+" : "+this.qualitativeScoreboardSummary.numberOfApplicant),this.scoreCardId.setValue(this.qualitativeScoreboardSummary.scoreCardId),this.numberOfApplicant.setValue(this.qualitativeScoreboardSummary.numberOfApplicant),console.log("scorecard id: ",this.scoreCardId),console.log("numberOfApplicant : ",this.numberOfApplicant),this.scoreboardQuestionsArray=[];for(let e=0;e<this.qualitativeScoreboardSummary.scoreCardMapping.length;e++)console.log("inside for",this.qualitativeScoreboardSummary.scoreCardMapping),this.api.getScorecardQuestions(this.accountType).subscribe(t=>{console.log(t),console.log(this.noOfapplicants),!this.noOfapplicants&&t&&(this.noOfapplicants=t.length);for(let i=0;i<this.noOfapplicants;i++){this.scoreboardQuestionsArray.push({scorecardQuestion:t,applicantId:i+1,scoreCardDetails:t}),console.log(this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails.length);for(let t=0;t<this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails.length;t++){console.log(this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails);var r=this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails;console.log(r),this.sbMultiSelectAnswer.push(r[t].scorecardAnswer);for(let t=0;t<this.sbMultiSelectAnswer.length;t++)this.sbMultiSelectAnswer[2]?(this.sbSelectAnswer=this.sbMultiSelectAnswer[2],console.log(this.sbSwlwctAnswer)):this.sbMultiSelectAnswer[0]&&(this.sbSelectAnswer1=this.sbMultiSelectAnswer[0],console.log(this.sbSelectAnswer1));console.log(this.sbMultiSelectAnswer)}}console.log("data",this.scoreCardDetails),console.log("ques:",this.scoreboardQuestionsArray),this.cdr.markForCheck()}),this.scoreCardMappingArray=this.scoreboardQuestionsArray;console.log(this.scoreboardQuestionsArray,"scoreBoardQuestionArray"),this.disableDoneBtn=!1,this.cdr.markForCheck()})}insertData(t,e,r,i,a,n){console.log("Answer: ",e,a,n),"checkbox"==r&&(e=e.toString());let o=!1,c=!1;for(let s=0;s<this.scoreCardMappingArray.length;s++)if(this.scoreCardMappingArray[s].applicantId==n){for(let r=0;r<this.scoreCardMappingArray[s].scoreCardDetails.length;r++)console.log(r,this.scoreCardMappingArray[s].scoreCardDetails[r]),this.scoreCardMappingArray[s].scoreCardDetails[r].scoreCardQuestionId==t&&(this.scoreCardMappingArray[s].scoreCardDetails[r].scorecardAnswer=e,o=!0);c=!0}if(!o){let r={};if(r.scoreCardQuestionId=t,r.scorecardAnswer=e,null!=i&&(r.scoreCardMappingId=i),c)for(let t=0;t<this.scoreCardMappingArray.length;t++)this.scoreCardMappingArray[t].applicantId==n&&(this.scoreCardMappingArray[t].scoreCardDetails.push(r),console.log(this.scoreCardMappingArray[t].scoreCardDetails));else this.scoreCardMappingArray.push({applicantId:n,scoreCardDetails:r})}if(this.scoreCardMappingArray.length==this.scoreboardQuestionsArray.length){let t=0;for(let e=0;e<this.scoreCardMappingArray.length;e++)for(let r=0;r<this.scoreCardMappingArray[e].scoreCardDetails.length;r++){let i=this.scoreCardMappingArray[e].scoreCardDetails[r].scorecardAnswer;""!=i&&null!=i&&null!=i||t++}t>0?this.disableDoneBtn=!0:0==this.anyErrorExist&&0==t&&(this.disableDoneBtn=!1)}console.log("Map Array: ",this.scoreCardMappingArray)}validateInputValue(t,e,r){let i="#inputError"+e;""==t||null==t||null==t?this.renderer.setStyle(this.elRef.nativeElement.querySelector(i),"visibility","visible"):isNaN(t)||"Name"!=r?(this.renderer.setStyle(this.elRef.nativeElement.querySelector(i),"visibility","hidden"),this.anyErrorExist=!1):(this.renderer.setStyle(this.elRef.nativeElement.querySelector(i),"visibility","visible"),this.anyErrorExist=!0)}validateSelectValue(t,e){this.renderer.setStyle(this.elRef.nativeElement.querySelector("#selectError"+e),"visibility",""==t||null==t||null==t?"visible":"hidden")}goBack(){this.router.navigate(["/cardaccount/underwritingStage/credit-rating"])}getAllData(t){this.api.getAssessmentReportDetails(t).subscribe(t=>{})}saveQualitativeScore(){let t={};console.log(this.noOfapplicants);let e=this.noOfapplicants;t.cardId=this.cardId,t.numberOfApplicant=e,t.scoreCardId=this.scoreCardId.value,t.loggedInUser=123,t.accountType="cardOrigin",t.scoreCardMapping=this.scoreCardMappingArray,console.log(t),this.api.saveQualitativeScorecard(t).subscribe(e=>{console.log("data",t.cardId),this.snack.open("Card Origination Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.isDataSaved=!0,this.accountService.refresh.next()},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.next()}next(){this.ls.setItem("CARD_QUALITATIVE_SCOREBOARD_DONE",!0),this.ls.setItem("CARD_UNDERWRITING_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/assessmentStage/list"])}noOfApplicant(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(l.b),d.Rb(b.a),d.Rb(s.f),d.Rb(c.a),d.Rb(D.a),d.Rb(d.l),d.Rb(d.I),d.Rb(d.h))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-cardaccount-qualitative-scoreboard"]],decls:39,vars:5,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"ml-16"],[1,"mt-24"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId",3,"formControl"],[4,"ngIf"],[1,"mt-32"],[1,"disableText"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"ml-8"],[1,"full-width"],["fxLayout","column"],["fxLayout","row","fxFlex","70%","fxLayoutGap","35px"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap",1,"full-width"],[1,"qDiv"],["class","redC",4,"ngIf"],["class","full-width",4,"ngIf"],[1,"redC"],["appearance","outline",1,"full-width"],["matInput","",3,"required","autocomplete","maxlength","name","id","value","keyup","click"],[3,"id"],[3,"required","name","id","value","multiple","click","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Sb(3,"img",3),d.Wb(),d.Xb(4,"div",4),d.Xb(5,"div",5),d.Xb(6,"b"),d.Tc(7,"Qualitative Scoreboard"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(8,"form"),d.Xb(9,"div",6),d.Xb(10,"h2",7),d.Tc(11,"Qualitative Scoreboard"),d.Wb(),d.Sb(12,"div",8),d.Xb(13,"mat-card"),d.Sb(14,"mat-card-title"),d.Xb(15,"mat-card-content"),d.Xb(16,"h4"),d.Xb(17,"b"),d.Tc(18,"Scorecard ID"),d.Wb(),d.Wb(),d.Xb(19,"h4"),d.Sb(20,"input",9),d.Rc(21,Wn,2,0,"mat-error",10),d.Wb(),d.Xb(22,"h3",11),d.Tc(23,"About the Qualitative Scorecard ID"),d.Wb(),d.Xb(24,"p",12),d.Tc(25," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. "),d.Wb(),d.Xb(26,"h3",11),d.Tc(27,"No. of Applicant"),d.Wb(),d.Xb(28,"p"),d.Tc(29),d.Wb(),d.Wb(),d.Wb(),d.Sb(30,"div",11),d.Xb(31,"mat-accordion",13),d.Rc(32,Tn,15,2,"mat-expansion-panel",14),d.Wb(),d.Wb(),d.Wb(),d.Xb(33,"div",15),d.Xb(34,"button",16),d.fc("click",function(){return e.goBack()}),d.Tc(35,"BACK"),d.Wb(),d.Sb(36,"span",17),d.Xb(37,"button",18),d.fc("click",function(){return e.saveQualitativeScore()}),d.Tc(38,"Next"),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(20),d.rc("formControl",e.scoreCardId),d.Eb(1),d.rc("ngIf",e.scoreCardId.touched&&0==e.scoreCardId.value),d.Eb(8),d.Uc(e.noOfapplicants),d.Eb(3),d.rc("ngForOf",e.scoreboardQuestionsArray),d.Eb(5),d.rc("disabled",e.disableDoneBtn||!e.numberOfApplicant.valid))},directives:[h.e,h.b,s.C,s.s,s.t,p.a,p.h,p.d,f.b,s.c,Vt.a,s.r,s.h,i.n,Ft.a,i.m,g.b,y.b,Ft.c,Ft.e,Ft.f,a.a,h.f,y.f,y.c,Pt.a,Nt.n],styles:[".qaDiv[_ngcontent-%COMP%]{padding:1.5rem 1rem}.qDiv[_ngcontent-%COMP%]{padding:.5em 0}.redC[_ngcontent-%COMP%]{color:red}.disableText[_ngcontent-%COMP%]{color:#cacaca}"]}),t})();function kn(t,e){if(1&t&&(d.Xb(0,"mat-option",24),d.Tc(1),d.Wb()),2&t){const t=e.$implicit;d.rc("value",t),d.Eb(1),d.Vc(" ",t," ")}}function En(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"mat-select",22),d.Rc(2,kn,2,2,"mat-option",23),d.Wb(),d.Wb()),2&t){const t=d.jc(2);d.Eb(2),d.rc("ngForOf",t.customerNames)}}function _n(t,e){1&t&&(d.Xb(0,"div"),d.Sb(1,"input",25),d.Wb())}function wn(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Customer Name is Required! "),d.Wb())}function Pn(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Agency is Required! "),d.Wb())}function Nn(t,e){1&t&&(d.Xb(0,"mat-error"),d.Tc(1," Ratings is Required! "),d.Wb())}function Rn(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",26),d.Xb(1,"mat-accordion",12),d.Xb(2,"mat-card",27),d.Xb(3,"h3"),d.Tc(4,"Score "),d.Wb(),d.Sb(5,"mat-divider",28),d.Sb(6,"br"),d.Xb(7,"div",12),d.Xb(8,"div",13),d.Xb(9,"div",29),d.Xb(10,"div",30),d.Xb(11,"mat-form-field",15),d.Xb(12,"mat-label"),d.Tc(13,"Select Agency*"),d.Wb(),d.Xb(14,"mat-select",31),d.Xb(15,"mat-option",32),d.fc("click",function(){return d.Hc(t),d.jc(2).onClick()}),d.Tc(16,"Test Agency"),d.Wb(),d.Xb(17,"mat-option",33),d.fc("click",function(){return d.Hc(t),d.jc(2).onClick()}),d.Tc(18,"Ujjivan Agency"),d.Wb(),d.Xb(19,"mat-option",34),d.fc("click",function(){return d.Hc(t),d.jc(2).onClick()}),d.Tc(20,"Fast Track Agency"),d.Wb(),d.Wb(),d.Rc(21,Pn,2,0,"mat-error",16),d.Wb(),d.Wb(),d.Xb(22,"div",35),d.Xb(23,"mat-form-field",15),d.Xb(24,"mat-label"),d.Tc(25," Remarks"),d.Wb(),d.Sb(26,"input",36),d.Wb(),d.Wb(),d.Wb(),d.Xb(27,"div",37),d.Xb(28,"div",35),d.Xb(29,"mat-form-field",15),d.Xb(30,"mat-label"),d.Tc(31,"Ratings*"),d.Wb(),d.Xb(32,"input",38),d.fc("keypress",function(e){return d.Hc(t),d.jc(2)._keyPress(e)}),d.Wb(),d.Rc(33,Nn,2,0,"mat-error",16),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){const t=e.$implicit,r=d.jc(2);d.Eb(1),d.rc("formGroup",t),d.Eb(6),d.rc("formGroup",t),d.Eb(8),d.rc("disabled",r.disableTest),d.Eb(2),d.rc("disabled",r.disableUjjivan),d.Eb(2),d.rc("disabled",r.disableFastTrack),d.Eb(2),d.rc("ngIf",!t.controls.agencyName.valid&&t.controls.agencyName.touched),d.Eb(12),d.rc("ngIf",!t.controls.ratings.valid&&t.controls.ratings.touched)}}function Fn(t,e){if(1&t){const t=d.Yb();d.Xb(0,"form",12),d.Xb(1,"div",13),d.Xb(2,"div",14),d.Xb(3,"mat-form-field",15),d.Xb(4,"mat-label"),d.Tc(5,"Customer Name*"),d.Wb(),d.Rc(6,En,3,1,"div",16),d.Rc(7,_n,2,0,"div",16),d.Rc(8,wn,2,0,"mat-error",16),d.Wb(),d.Wb(),d.Wb(),d.Rc(9,Rn,34,7,"div",17),d.Xb(10,"button",18),d.fc("click",function(){return d.Hc(t),d.jc().addFormGroup()}),d.Xb(11,"mat-icon"),d.Tc(12,"add"),d.Wb(),d.Tc(13," ADD AGENCY "),d.Wb(),d.Xb(14,"div",19),d.Xb(15,"button",20),d.fc("click",function(){return d.Hc(t),d.jc().goBack()}),d.Tc(16," Back "),d.Wb(),d.Xb(17,"button",21),d.fc("click",function(){d.Hc(t);const e=d.jc();return e.OnSubmit(e.creditDetailsForm.value)}),d.Tc(18," Next "),d.Wb(),d.Wb(),d.Wb()}if(2&t){const t=d.jc();d.rc("formGroup",t.creditDetailsForm),d.Eb(6),d.rc("ngIf",t.customerNames.length>1),d.Eb(1),d.rc("ngIf",1==t.customerNames.length),d.Eb(1),d.rc("ngIf",!t.creditDetailsForm.get("customerName").valid&&t.creditDetailsForm.get("customerName").touched),d.Eb(1),d.rc("ngForOf",t.c.controls),d.Eb(1),d.rc("disabled",t.disableAddAgency),d.Eb(7),d.rc("disabled",!t.creditDetailsForm.valid)}}let Mn=(()=>{class t{constructor(t,e,r,i,a,n,o){this.formBuilder=t,this.router=e,this.ls=r,this.appApiService=i,this.snack=a,this.api=n,this.accountService=o,this.customerNames=[]}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.customerName=this.ls.getItem("primaryCustomerName"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.getCustomerInformationDetails(),this.buildCreditForm(),0==this.isCardCreditRatingDetails?this.buildCreditForm():this.gettingCreditRatingDetail()}get f(){return this.creditDetailsForm.controls}get c(){return this.f.agencyRating}buildCreditForm(t,e){console.log(t),this.creditDetailsForm=this.formBuilder.group({cardId:this.cardId,customerName:t?t.customerName:this.customerNames[0],agencyRating:this.formBuilder.array([this.addModFormGroup(t)])}),console.log(this.creditDetailsForm)}addFormGroup(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",s.A.required],ratings:["",s.A.required]}))}goBack(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}addModFormGroup(t){return console.log(t,"inside addModeFormGrp"),this.formBuilder.group({cardId:[this.cardId],agencyId:[t?t.agencyId:0],agencyName:[t?t.agencyRating[0].agencyName:"",s.A.required],ratings:[t?t.agencyRating[0].ratings:"",s.A.required],remarks:[t?t.agencyRating[0].remarks:""]})}getCustomerInformationDetails(){this.appApiService.fetchCustomersByCardAccId(this.cardId,"cardOrigin").subscribe(t=>{console.log("resp for customer information names ",t.data);for(let e=0;e<t.data.length;e++)this.customerNames[e]=null==t.data[e].middleName?t.data[e].firstName+" "+t.data[e].lastName:t.data[e].firstName+" "+t.data[e].middleName+" "+t.data[e].lastName;console.log("customer name ",this.customerNames),this.customerNames&&(console.log("If condtion"),this.creditDetailsForm.get("customerName").setValue(this.customerNames[0]))},t=>{})}gettingCreditRatingDetail(){this.api.getCardCreditRatingDetails(this.cardId).subscribe(t=>{console.log(t),this.buildCreditForm(t,!0)})}OnSubmit(t){console.log("val",t),t.accountType="cardOrigin",this.api.saveCreditDetails(t).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open(" Credit Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.ls.setItem("CARD_CREDIT_RATING_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/underwritingStage/qualitative"])):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)}),this.router.navigate(["/cardaccount/underwritingStage/qualitative/"])}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}onClick(){for(let t=0;t<3;t++)"Test Agency"==this.creditDetailsForm.value.agencyRating[t].agencyName&&(this.disableTest=!0,this.disableUjjivan=!1,this.disableFastTrack=!1),"Ujjivan Agency"==this.creditDetailsForm.value.agencyRating[t].agencyName&&(this.disableUjjivan=!0,this.disableFastTrack=!1,this.disableTest=!1),"Fast Track Agency"==this.creditDetailsForm.value.agencyRating[t].agencyName&&(this.disableFastTrack=!0,this.disableUjjivan=!1,this.disableTest=!1);3==this.creditDetailsForm.value.agencyRating.length&&(this.disableAddAgency=!0)}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(s.f),d.Rb(m.h),d.Rb(c.a),d.Rb(Et.a),d.Rb(b.a),d.Rb(l.b),d.Rb(D.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-underwriting-credit-rating"]],decls:18,vars:1,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask_Group_9.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,""],[1,"card-title-text"],[1,"dividerClass"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],[1,"flex-grow-2",2,"padding-left","10px"],["appearance","outline",1,"full-width"],[4,"ngIf"],["class","mt-16",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],["name","customerName","formControlName","customerName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","customerName","type","text","readonly","",1,"alignment"],[1,"mt-16"],[1,"border1"],[1,"design"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-2"],["name","agencyName","formControlName","agencyName"],["value","Test Agency",3,"disabled","click"],["value","Ujjivan Agency",3,"disabled","click"],["value","Fast Track Agency",3,"disabled","click"],[1,"flex-grow-1"],["matInput","","placeholder","Remarks","formControlName","remarks","type","text","name","remarks",1,"alignment"],["fxFlex","100","fxFlex.gt-xs","50"],["matInput","","formControlName","ratings","type","text","name","ratings",1,"alignment",3,"keypress"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Credit Score Details"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",1),d.Xb(10,"div",2),d.Xb(11,"mat-card",7),d.Xb(12,"mat-card-title",8),d.Xb(13,"div",9),d.Tc(14,"Credit Score Details"),d.Wb(),d.Sb(15,"mat-divider",10),d.Wb(),d.Xb(16,"mat-card-content"),d.Rc(17,Fn,19,7,"form",11),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Eb(17),d.rc("ngIf",e.creditDetailsForm))},directives:[h.e,h.b,p.a,p.h,X.a,p.d,i.n,s.C,s.s,s.j,h.f,y.c,y.g,i.m,g.b,a.a,h.d,Pt.a,s.r,s.i,Nt.n,f.b,s.c,y.b,Ft.a],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{max-width:200px}.inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.border1[_ngcontent-%COMP%]{border:1px solid #456efe}"]}),t})();const Ln=function(){return{y:"50px",delay:"300ms"}},Vn=function(t){return{value:"*",params:t}};function Bn(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",20),d.Xb(1,"mat-card"),d.Xb(2,"div",21),d.Xb(3,"div",22),d.Xb(4,"mat-icon",23),d.Tc(5,"check_circle"),d.Wb(),d.Wb(),d.Xb(6,"div",24),d.Xb(7,"h6"),d.Tc(8,"Application Underwriting Stage Completed"),d.Wb(),d.Wb(),d.Sb(9,"span",25),d.Xb(10,"button",26),d.fc("click",function(){return d.Hc(t),d.jc().viewSummary()}),d.Tc(11," View Summary "),d.Wb(),d.Wb(),d.Wb(),d.Wb()}2&t&&(d.Eb(1),d.rc("@animate",d.xc(2,Vn,d.wc(1,Ln))))}function jn(t,e){1&t&&(d.Xb(0,"div",27),d.Sb(1,"mat-progress-bar",28),d.Xb(2,"p",29),d.Tc(3,"Completed"),d.Wb(),d.Wb()),2&t&&(d.Eb(1),d.rc("color","primary")("value",100))}function qn(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",26),d.fc("click",function(){return d.Hc(t),d.jc().goToCreditRatingSummary()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const Un=function(){return["/cardaccount/underwritingStage/credit-rating"]};function zn(t,e){1&t&&(d.Xb(0,"button",30),d.Tc(1," Add Details "),d.Xb(2,"mat-icon"),d.Tc(3,"chevron_right"),d.Wb(),d.Wb()),2&t&&d.rc("routerLink",d.wc(1,Un))}function Gn(t,e){1&t&&(d.Xb(0,"div",27),d.Sb(1,"mat-progress-bar",28),d.Xb(2,"p",29),d.Tc(3,"Completed"),d.Wb(),d.Wb()),2&t&&(d.Eb(1),d.rc("color","primary")("value",100))}function Hn(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"button",26),d.fc("click",function(){return d.Hc(t),d.jc().openCardQualitativeDialog()}),d.Tc(2," View Details "),d.Xb(3,"mat-icon"),d.Tc(4,"chevron_right"),d.Wb(),d.Wb(),d.Ub()}}const Yn=function(){return["/cardaccount/underwritingStage/qualitative"]};function $n(t,e){if(1&t&&(d.Xb(0,"button",31),d.Tc(1," Add Details "),d.Xb(2,"mat-icon"),d.Tc(3,"chevron_right"),d.Wb(),d.Wb()),2&t){const t=d.jc();d.rc("routerLink",d.wc(2,Yn))("disabled",!t.isCardCreditRatingDetails)}}const Qn=function(t){return{"border-size":t}};function Kn(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"mat-card",8),d.Xb(2,"mat-card-content"),d.Xb(3,"div",9),d.Xb(4,"div",10),d.Xb(5,"div",11),d.Vb(6),d.Sb(7,"div",32),d.Xb(8,"div",33),d.Xb(9,"mat-card",34),d.Xb(10,"h3"),d.Tc(11,"Score"),d.Wb(),d.Sb(12,"br"),d.Xb(13,"div",35),d.Xb(14,"div",11),d.Vb(15),d.Xb(16,"div",36),d.Xb(17,"mat-hint",13),d.Tc(18,"Agency"),d.Wb(),d.Sb(19,"br"),d.Xb(20,"mat-hint",14),d.Tc(21),d.Wb(),d.Wb(),d.Xb(22,"div",36),d.Xb(23,"mat-hint",13),d.Tc(24,"Score"),d.Wb(),d.Sb(25,"br"),d.Xb(26,"mat-hint",14),d.Tc(27),d.Wb(),d.Wb(),d.Ub(),d.Wb(),d.Wb(),d.Sb(28,"br"),d.Xb(29,"div",10),d.Xb(30,"div",11),d.Vb(31),d.Xb(32,"div",36),d.Xb(33,"mat-hint",13),d.Tc(34,"Remarks"),d.Wb(),d.Sb(35,"br"),d.Xb(36,"mat-hint",14),d.Tc(37),d.Wb(),d.Wb(),d.Ub(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Ub(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t){const t=e.$implicit;d.Eb(21),d.Uc(t.agencyName),d.Eb(6),d.Uc(t.ratings),d.Eb(10),d.Vc("",t.remarks," ")}}function Jn(t,e){if(1&t&&(d.Xb(0,"div",40),d.Xb(1,"mat-card",41),d.Xb(2,"div"),d.Tc(3),d.Wb(),d.Xb(4,"div",42),d.Tc(5),d.Wb(),d.Wb(),d.Wb()),2&t){const t=e.$implicit,r=e.index;d.Eb(3),d.Wc("",r+1,".",t.scorecardQuestion,""),d.Eb(2),d.Uc(t.scorecardAnswer)}}function Zn(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"div",37),d.Tc(2),d.Wb(),d.Xb(3,"div",38),d.Rc(4,Jn,6,3,"div",39),d.Wb(),d.Wb()),2&t){const t=e.$implicit,r=e.index,i=d.jc();d.Eb(2),d.Vc("Applicant ",t.applicantId,""),d.Eb(2),d.rc("ngForOf",null==i.qualitativeScoreboardSummary?null:i.qualitativeScoreboardSummary.scoreCardMapping[r].scoreCardDetails)}}const to=[{path:"",component:Ca,children:[{path:"",redirectTo:"applicationEntryStage/list",pathMatch:"full"},{path:"applicationEntryStage/list",component:vt},{path:"documentupload/list/document-details",component:nn},{path:"applicationEntryStage/list/financialDetails",component:zi},{path:"applicationEntryStage/list/customerInformation",component:ei},{path:"applicationEntryStage/list/accountServices",component:Tt},{path:"applicationEntryStage/list/cardPrefrence",component:oi},{path:"applicationEntryStage/list/cardInitiation",component:Pi},{path:"documentupload/list",component:on},{path:"applicationEnrichment/list",component:L},{path:"applicationEnrichment/intrest-details",component:J},{path:"applicationEnrichment/charge-details",component:q},{path:"applicationEnrichment/Summary",component:Y},{path:"underwritingStage/list",component:(()=>{class t{constructor(t,e,r,i,a){this.router=t,this.ls=e,this.dialogService=r,this.accountService=i,this.cdr=a,this.isCardCreditRatingDetails=!1,this.isCardQualitativeScoreboard=!1}ngOnInit(){this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.accountService.refresh.subscribe(t=>{this.cardId=this.ls.getItem("cardId"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.cdr.markForCheck()})}viewSummary(){this.router.navigate(["cardaccount/underwritingStage/summary"])}goToCreditRatingSummary(){this.dialogService.cardAccountcreditRatingSummaryDialog()}openCardQualitativeDialog(){this.dialogService.CardQualitativeSummaryDialog()}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(c.a),d.Rb(Z.a),d.Rb(D.a),d.Rb(d.h))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-underwriting-stage"]],decls:49,vars:15,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr",2,"padding-left","17px"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showCredit",""],["showQualitative",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(t,e){if(1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Xb(3,"div",3),d.Sb(4,"img",4),d.Wb(),d.Xb(5,"div",5),d.Xb(6,"div",6),d.Xb(7,"b"),d.Tc(8,"Create New Card Account"),d.Wb(),d.Wb(),d.Xb(9,"div",7),d.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),d.Wb(),d.Wb(),d.Wb(),d.Rc(11,Bn,12,4,"div",8),d.Wb(),d.Xb(12,"div",9),d.Xb(13,"div",10),d.Xb(14,"mat-card",11),d.Xb(15,"mat-card-header"),d.Xb(16,"mat-card-title"),d.Tc(17,"1. Credit Rating Details"),d.Wb(),d.Wb(),d.Xb(18,"mat-card-content"),d.Xb(19,"div",12),d.Xb(20,"div",13),d.Xb(21,"p"),d.Tc(22," Credit rating details are captured here. "),d.Wb(),d.Wb(),d.Xb(23,"div",14),d.Sb(24,"img",15),d.Wb(),d.Wb(),d.Rc(25,jn,4,2,"div",16),d.Wb(),d.Sb(26,"mat-divider"),d.Xb(27,"mat-card-actions"),d.Rc(28,qn,5,0,"ng-container",17),d.Rc(29,zn,4,2,"ng-template",null,18,d.Sc),d.Wb(),d.Wb(),d.Wb(),d.Xb(31,"div",10),d.Xb(32,"mat-card",11),d.Xb(33,"mat-card-header"),d.Xb(34,"mat-card-title"),d.Tc(35,"2. Qualitative Scorecard"),d.Wb(),d.Wb(),d.Xb(36,"mat-card-content"),d.Xb(37,"div",12),d.Xb(38,"div",13),d.Xb(39,"p"),d.Tc(40," Charge Details are displayed. "),d.Wb(),d.Wb(),d.Xb(41,"div",14),d.Sb(42,"img",15),d.Wb(),d.Wb(),d.Rc(43,Gn,4,2,"div",16),d.Wb(),d.Sb(44,"mat-divider"),d.Xb(45,"mat-card-actions"),d.Rc(46,Hn,5,0,"ng-container",17),d.Rc(47,$n,4,3,"ng-template",null,19,d.Sc),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t){const t=d.Dc(30),r=d.Dc(48);d.Eb(11),d.rc("ngIf",e.isCardCreditRatingDetails&&e.isCardQualitativeScoreboard),d.Eb(3),d.rc("ngClass",d.xc(11,Qn,e.isCardCreditRatingDetails||!e.isCardCreditRatingDetails)),d.Eb(10),d.rc("src","assets/images/svg/Mask_Group_9.svg",d.Jc),d.Eb(1),d.rc("ngIf",e.isCardCreditRatingDetails),d.Eb(3),d.rc("ngIf",e.isCardCreditRatingDetails)("ngIfElse",t),d.Eb(4),d.rc("ngClass",d.xc(13,Qn,e.isCardCreditRatingDetails||!e.isCardCreditRatingDetails&&e.isCardQualitativeScoreboard)),d.Eb(10),d.rc("src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg",d.Jc),d.Eb(1),d.rc("ngIf",e.isCardQualitativeScoreboard),d.Eb(3),d.rc("ngIf",e.isCardQualitativeScoreboard)("ngIfElse",r)}},directives:[h.e,h.b,i.n,p.a,i.l,T.a,p.e,p.h,p.d,h.f,h.d,X.a,p.b,a.a,g.b,At.a,m.i],styles:[".border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca}"]}),t})()},{path:"underwritingStage/summary",component:(()=>{class t{constructor(t,e,r,i){this.router=t,this.ls=e,this.apiService=r,this.urlService=i,this.previousUrl="",this.imagePath="assets/images/assesment.png"}ngOnInit(){this.cardId=this.ls.getItem("cardId"),this.getAllData(this.cardId),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t})}getAllData(t){this.apiService.getCardQualitativeScorecardDetails(this.cardId).subscribe(t=>{this.qualitativeScoreboardSummary=t,console.log(this.qualitativeScoreboardSummary),console.log(this.qualitativeScoreboardSummary.scoreCardMapping)}),this.apiService.getCardCreditRatingDetails(t).subscribe(t=>{console.log(t.customerName),this.customerName=t.customerName,this.creditRatingValues=t})}goBack(){this.router.navigate(["cardaccount/underwritingStage/list"])}done(){this.router.navigate(["/cardaccount/assessmentStage/list"])}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(m.h),d.Rb(c.a),d.Rb(l.b),d.Rb(xt.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-underwriting-stage-summary"]],decls:63,vars:6,consts:[["fxLayout","column","fxLayoutAlign","space-around center","fxLayoutGap","20px",1,"full-width",2,"padding","3rem 0rem"],[3,"src"],[2,"font-size","24px"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],[1,"full-width"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayoutGap","10px",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"border","1px solid rgb(249 245 245)","border-radius","5px"],["fxLayout","column","fxLayoutAlign","space-evenly start",1,"full-width"],["fxLayout","row wrap",1,"full-width",2,"padding","2rem"],["fxFlex","100%","fxFlex.xs","100%"],[2,"color","#102245","opacity","64%","font-size","medium","font-family","sans-serif"],[2,"padding-top","5px"],[2,"font-size","medium"],[1,"mt-32"],[2,"background-color","white"],["fxLayout","row wrap",1,"qtnhd",2,"color","#102245","opacity","64%","font-size","medium","font-family","sans-serif","padding","0rem 1rem"],[1,"full-width",2,"padding","0rem 2rem"],["fxLayout","row wrap",1,"full-width"],["mat-stroked-button","","color","primary",2,"border-radius","20px","width","10rem","height","2.5rem","font-family","sans-serif",3,"click"],["fxFlex",""],["mat-raised-button","","type","button",2,"border-radius","20px","width","10rem","height","2.5rem","background-color","#456EFE","float","right","color","white","font-family","sans-serif",3,"click"],["fxFlex","5%","fxFlex.xs","100%","fxLayoutAlign","end start",1,"inputCardclass"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","column","fxLayoutGap","10%","fxLayoutAlign","space-between none"],["fxFlex","20%","fxFlex.xs","50%"],[1,"applicanthd",2,"font-weight","bold","font-family","sans-serif"],[1,"row","wrap"],["fxLayout","row wrap","class","qtncard row","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","50","fxFlex.sm","50","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","50","fxFlex.sm","50",1,"full-width"],[1,"qtncard1","row",2,"justify-content","space-evenly"],[1,"qtnval",2,"opacity","80%"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div"),d.Sb(2,"img",1),d.Wb(),d.Xb(3,"div"),d.Xb(4,"h2",2),d.Tc(5,"Application Underwriting stage Summary"),d.Wb(),d.Wb(),d.Wb(),d.Xb(6,"div",3),d.Xb(7,"h4",4),d.Tc(8,"Credit Score Details"),d.Wb(),d.Wb(),d.Xb(9,"div",5),d.Xb(10,"div",6),d.Xb(11,"div",7),d.Xb(12,"mat-card",8),d.Xb(13,"mat-card-content"),d.Xb(14,"div",9),d.Xb(15,"div",10),d.Xb(16,"div",11),d.Vb(17),d.Xb(18,"div",12),d.Xb(19,"mat-hint",13),d.Tc(20,"CustomerName"),d.Wb(),d.Sb(21,"br"),d.Xb(22,"mat-hint",14),d.Tc(23),d.Wb(),d.Wb(),d.Ub(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(24,"div",5),d.Xb(25,"div",6),d.Xb(26,"div",7),d.Rc(27,Kn,38,3,"div",15),d.Wb(),d.Wb(),d.Wb(),d.Sb(28,"br"),d.Xb(29,"div",16),d.Xb(30,"div",17),d.Xb(31,"div",18),d.Xb(32,"div",9),d.Xb(33,"div",19),d.Xb(34,"div",20),d.Xb(35,"div"),d.Xb(36,"span",21),d.Tc(37,"ScoreCard Id"),d.Wb(),d.Sb(38,"br"),d.Xb(39,"div",22),d.Xb(40,"span",23),d.Tc(41),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(42,"div",20),d.Xb(43,"div",24),d.Xb(44,"span",21),d.Tc(45,"Number Of Applicants"),d.Wb(),d.Sb(46,"br"),d.Xb(47,"div",22),d.Xb(48,"span",23),d.Tc(49),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(50,"div",9),d.Sb(51,"mat-divider",25),d.Wb(),d.Xb(52,"div",26),d.Tc(53,"Questions"),d.Wb(),d.Xb(54,"div",27),d.Xb(55,"div",28),d.Rc(56,Zn,5,2,"div",15),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(57,"div"),d.Xb(58,"button",29),d.fc("click",function(){return e.goBack()}),d.Tc(59," Back "),d.Wb(),d.Sb(60,"span",30),d.Xb(61,"button",31),d.fc("click",function(){return e.done()}),d.Tc(62," Done "),d.Wb(),d.Wb()),2&t&&(d.Eb(2),d.rc("src",e.imagePath,d.Jc),d.Eb(21),d.Uc(e.customerName),d.Eb(4),d.rc("ngForOf",e.creditRatingValues.agencyRating),d.Eb(14),d.Vc("ID #",null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardId,""),d.Eb(8),d.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.numberOfApplicant),d.Eb(7),d.rc("ngForOf",null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardMapping))},directives:[h.e,h.d,h.f,h.b,p.a,p.d,y.f,i.m,X.a,g.b],styles:[""]}),t})()},{path:"underwritingStage/credit-rating",component:Mn},{path:"underwritingStage/qualitative",component:An},{path:"assessmentStage/list",component:Qi},{path:"assessmentStage/application-assessment/list",component:$a},{path:"SupervisorApprovalStage/list",component:xn},{path:"SupervisorApprovalStage/list/approvalDetails",component:yn},{path:"DigitalSigning/list",component:Ua},{path:"digitalsigning/options",component:Fa},{path:"digitalsigning/upload",component:Pa}]}];var eo=r("u9T3"),ro=r("w9WL"),io=r("aLe/"),ao=r("aYsj"),no=r("mnDI"),oo=r("zMWy"),co=r("KVVp");let so=(()=>{class t{}return t.\u0275mod=d.Pb({type:t}),t.\u0275inj=d.Ob({factory:function(e){return new(e||t)},providers:[i.d],imports:[[i.c,Ka.d,s.y,eo.a,ro.a,s.l,a.b,p.f,s.y,io.c,ao.a,no.a,oo.a,o.b,n.b,m.l.forChild(to),co.OthersModule]]}),t})()}}]);