{"version":3,"file":"src_app_pages_forgotmpin_forgotmpin_module_ts.js","mappings":"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","sources":["./src/app/pages/forgotmpin/forgotmpin-routing.module.ts","./src/app/pages/forgotmpin/forgotmpin.module.ts","./src/app/pages/forgotmpin/forgotmpin.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ForgotmpinPage } from './forgotmpin.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ForgotmpinPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ForgotmpinPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ForgotmpinPageRoutingModule } from './forgotmpin-routing.module';\r\n\r\nimport { ForgotmpinPage } from './forgotmpin.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    ForgotmpinPageRoutingModule\r\n  ],\r\n  declarations: [ForgotmpinPage]\r\n})\r\nexport class ForgotmpinPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { otpModel } from '../login/login.page';\r\n\r\n@Component({\r\n  selector: 'app-forgotmpin',\r\n  templateUrl: './forgotmpin.page.html',\r\n  styleUrls: ['./forgotmpin.page.scss'],\r\n})\r\nexport class ForgotmpinPage implements OnInit {\r\n  oTpModel = new otpModel();\r\n  customerPhonenum: string;\r\n  loginForm: FormGroup;\r\n  constructor( private router: Router,private api:ApiService, public toastCtrl: ToastController,   private fb: FormBuilder,) { }\r\n\r\n  ngOnInit() {\r\n    // this.customerPhonenum = localStorage.getItem('customerPhonenum');\r\n    this.loginForm = this.fb.group({\r\n      phoneNo: ['', [Validators.required]],\r\n    });\r\n  }\r\n  back() {\r\n    this.router.navigateByUrl('/mpin');\r\n  }\r\n  getOtp(phone){\r\n    console.log(this.customerPhonenum,phone.phoneNo)\r\n    const pattern = /^([\\+0-9]{3}[0-9]{10}|[0-9]{10})$/;\r\n    if (pattern.test(phone.phoneNo)) {\r\n      this.oTpModel.source = 'customer';\r\n      this.oTpModel.source_key = 'mobile';\r\n      this.oTpModel.source_value = phone.phoneNo;\r\n      this.api.getOtp(this.oTpModel).subscribe((otpResp) => {\r\n        console.log('Response Success', otpResp,phone.phoneNo);\r\n        // if(otpResp){\r\n          localStorage.setItem('customerPhonenum',otpResp.otpVal.sourceValue);\r\n        // }\r\n        if (Object.keys(otpResp).length === 0) {\r\n          this.openToast('No data found for Phone No. :' + phone.phoneNo);\r\n        }\r\n      });\r\n      \r\n      const navigationExtras: NavigationExtras = {\r\n        queryParams: {\r\n          'screenName': 'forgotmpin'\r\n        },\r\n      };\r\n    \r\n      this.api.sendNavParam(navigationExtras);\r\n      this.router.navigateByUrl('/otp');\r\n    } else {\r\n      this.openToast('Enter valid phone number');\r\n    }\r\n  }\r\n  async openToast(message) {\r\n    const toast = await this.toastCtrl.create({\r\n      message: `${message}`,\r\n      duration: 2500,\r\n      position: 'middle',\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}