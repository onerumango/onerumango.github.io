{"version":3,"file":"src_app_pages_new-passwordchange_new-passwordchange_module_ts.js","mappings":"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","sources":["./src/app/pages/new-passwordchange/new-passwordchange-routing.module.ts","./src/app/pages/new-passwordchange/new-passwordchange.module.ts","./src/app/pages/new-passwordchange/new-passwordchange.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NewPasswordchangePage } from './new-passwordchange.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NewPasswordchangePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class NewPasswordchangePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { NewPasswordchangePageRoutingModule } from './new-passwordchange-routing.module';\r\n\r\nimport { NewPasswordchangePage } from './new-passwordchange.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    NewPasswordchangePageRoutingModule,\r\n  ],\r\n  declarations: [NewPasswordchangePage],\r\n})\r\nexport class NewPasswordchangePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { ApiService } from 'src/app/services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-new-passwordchange',\r\n  templateUrl: './new-passwordchange.page.html',\r\n  styleUrls: ['./new-passwordchange.page.scss'],\r\n})\r\nexport class NewPasswordchangePage implements OnInit {\r\n  newPassword = new FormControl('');\r\n  repeatPassword = new FormControl('');\r\n  phoneNumber: string | number = localStorage.getItem('customerPhonenum');\r\n\r\n  async openToast(errorMessage: string) {\r\n    const toast = await this.toastCtrl.create({\r\n      message: `${errorMessage}`,\r\n      duration: 2500,\r\n      position: 'bottom',\r\n    });\r\n    toast.present();\r\n  }\r\n  constructor(\r\n    private router: Router,\r\n    private toastCtrl: ToastController,\r\n    private api: ApiService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.newPassword.patchValue('');\r\n    this.repeatPassword.patchValue('');\r\n  }\r\n\r\n  back() {\r\n    this.router.navigateByUrl('/login');\r\n  }\r\n\r\n  updatePassword() {\r\n    if (this.newPassword.value === '' || this.repeatPassword.value === '') {\r\n      this.openToast('Fill all fields');\r\n      return;\r\n    }\r\n    if (this.newPassword.value !== this.repeatPassword.value) {\r\n      this.openToast(\"Passwords didn't match\");\r\n      return;\r\n    }\r\n    this.api\r\n      .validatePassword(this.phoneNumber, this.newPassword.value)\r\n      .subscribe((res) => {\r\n        if (res && res.hasOwnProperty('message')) {\r\n          if (res.message === 'Password Matched') {\r\n            this.openToast('New password must be different from previous');\r\n            return;\r\n          } else {\r\n            const data = {\r\n              phoneNumber: this.phoneNumber,\r\n              custPassword: this.newPassword.value,\r\n            };\r\n            this.api.updateCustomerPassword(data).subscribe((resp) => {\r\n              this.openToast('Password updated successfully');\r\n              this.newPassword.patchValue('');\r\n              this.repeatPassword.patchValue('');\r\n              const navigationExtras: NavigationExtras = {\r\n                queryParams: {\r\n                  'screenDetails': 'Password Changed!',\r\n                  'screenDescription':'Your password has been changed successfully',\r\n                  'screenName':'new-passwordchange'\r\n                },\r\n              };\r\n             \r\n              this.api.sendNavParam(navigationExtras);\r\n              this.router.navigateByUrl('/success-message');\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}