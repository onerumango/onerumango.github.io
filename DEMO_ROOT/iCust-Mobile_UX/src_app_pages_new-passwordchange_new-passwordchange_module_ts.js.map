{"version":3,"file":"src_app_pages_new-passwordchange_new-passwordchange_module_ts.js","mappings":"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","sources":["./src/app/pages/new-passwordchange/new-passwordchange-routing.module.ts","./src/app/pages/new-passwordchange/new-passwordchange.module.ts","./src/app/pages/new-passwordchange/new-passwordchange.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NewPasswordchangePage } from './new-passwordchange.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NewPasswordchangePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class NewPasswordchangePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { NewPasswordchangePageRoutingModule } from './new-passwordchange-routing.module';\r\n\r\nimport { NewPasswordchangePage } from './new-passwordchange.page';\r\nimport { SharedMaterialModule } from 'src/app/shared/shared-material.module';\r\nimport { DirectiveModule } from 'src/app/directives/directive.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    SharedMaterialModule,\r\n    NewPasswordchangePageRoutingModule,\r\n    DirectiveModule\r\n  ],\r\n  declarations: [NewPasswordchangePage],\r\n})\r\nexport class NewPasswordchangePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { ApiService } from 'src/app/services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-new-passwordchange',\r\n  templateUrl: './new-passwordchange.page.html',\r\n  styleUrls: ['./new-passwordchange.page.scss'],\r\n})\r\nexport class NewPasswordchangePage implements OnInit {\r\n  newPassword = new FormControl('');\r\n  confirmPassword = new FormControl('');\r\n  phoneNumber: string | number = localStorage.getItem('customerPhonenum');\r\n  navSubscription: any;\r\n  screenNames: any;\r\n\r\n  async openToast(errorMessage: string) {\r\n    const toast = await this.toastCtrl.create({\r\n      message: `${errorMessage}`,\r\n      duration: 2500,\r\n      position: 'bottom',\r\n    });\r\n    toast.present();\r\n  }\r\n  constructor(\r\n    private router: Router,\r\n    private toastCtrl: ToastController,\r\n    private api: ApiService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.newPassword.patchValue('');\r\n    this.confirmPassword.patchValue('');\r\n\r\n    this.navSubscription = this.api.getNavParam.subscribe(\r\n      (data: any) => (this.screenNames = data)\r\n    );\r\n  }\r\n\r\n  back() {\r\n    this.router.navigateByUrl('/login');\r\n  }\r\n\r\n  continue() {\r\n    if (this.screenNames.queryParams.screenName == 'forget-password') {\r\n      this.resetPassword();\r\n      return;\r\n    } else {\r\n      this.setFirstTimePassword();\r\n      return;\r\n    }\r\n  }\r\n\r\n  resetPassword() {\r\n    if (this.newPassword.value === '' || this.confirmPassword.value === '') {\r\n      this.openToast('Fill all fields');\r\n      return;\r\n    }\r\n    if (this.newPassword.value !== this.confirmPassword.value) {\r\n      this.openToast(\"Passwords didn't match\");\r\n      return;\r\n    }\r\n    const data = {\r\n      phoneNumber: this.phoneNumber,\r\n      newPassword: this.newPassword.value,\r\n    };\r\n\r\n    this.api.resetPassword(data).subscribe((resp: any) => {\r\n      if (resp?.status == 200) {\r\n        const navigationExtras: NavigationExtras = {\r\n          queryParams: {\r\n            'screenDetails': this.screenNames.queryParams.screenName == 'forget-password' ? 'Password Update' : 'Password Set',\r\n            'screenDescription': this.screenNames.queryParams.screenName == 'forget-password' ? 'Password updated successfully!' : 'Password set successfully!',\r\n            'screenName': 'new-passwordchange'\r\n          },\r\n        };\r\n        this.api.sendNavParam(navigationExtras);\r\n        this.router.navigateByUrl('/success-message');\r\n        this.newPassword.patchValue('');\r\n        this.confirmPassword.patchValue('');\r\n      } else {\r\n        this.router.navigate(['/login'], { replaceUrl: true });\r\n        this.openToast(resp?.message);\r\n      }\r\n    }, (err: any) => {\r\n      this.openToast(err?.error);\r\n    });\r\n  }\r\n\r\n  setFirstTimePassword() {\r\n    if (this.newPassword.value === '' || this.confirmPassword.value === '') {\r\n      this.openToast('Fill all fields');\r\n      return;\r\n    }\r\n    if (this.newPassword.value !== this.confirmPassword.value) {\r\n      this.openToast(\"Passwords didn't match\");\r\n      return;\r\n    }\r\n\r\n    var obj = {\r\n      phoneNumber: this.phoneNumber,\r\n      currentPassword: \"Rumango@123\",\r\n      newPassword: this.newPassword.value,\r\n    };\r\n\r\n    this.api.updateCustomerPassword(obj).subscribe((res: any) => {\r\n      if (res.status == 200) {\r\n        const navigationExtras: NavigationExtras = {\r\n          queryParams: {\r\n            'screenDetails': this.screenNames.queryParams.screenName == 'forget-password' ? 'Password Update' : 'Password Set',\r\n            'screenDescription': this.screenNames.queryParams.screenName == 'forget-password' ? 'Password updated successfully!' : 'Password set successfully!',\r\n            'screenName': 'new-passwordchange'\r\n          },\r\n        };\r\n        this.api.sendNavParam(navigationExtras);\r\n        this.router.navigateByUrl('/success-message');\r\n        this.newPassword.patchValue('');\r\n        this.confirmPassword.patchValue('');\r\n      } else {\r\n        this.router.navigate(['/login'], { replaceUrl: true });\r\n        this.openToast(res?.message);\r\n      }\r\n    }, (error: any) => {\r\n      this.openToast('Unable to set password');\r\n    });\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}