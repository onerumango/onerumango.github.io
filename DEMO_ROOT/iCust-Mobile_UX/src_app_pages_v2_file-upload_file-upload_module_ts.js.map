{"version":3,"file":"src_app_pages_v2_file-upload_file-upload_module_ts.js","mappings":"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CA;AACA;AACAvb,MAAM,CAACC,OAAP,GAAiB;EACfub,cAAc,EAAE,CADD;EAEfC,SAAS,EAAE,CAFI;EAGfC,uBAAuB,EAAE,CAHV;EAIfC,OAAO,EAAE;AAJM,CAAjB;;;;;;;;;;ACNA;AACA;AACA;AACA3b,MAAM,CAACC,OAAP,GAAiB;EACf2b,QAAQ,EAAE,GADK;EAEfC,QAAQ,EAAE,GAFK;EAGfC,SAAS,EAAE,GAHI;EAIfC,IAAI,EAAE,GAJS;EAKfC,aAAa,EAAE,GALA;EAMfC,sBAAsB,EAAE,GANT;EAOfC,YAAY,EAAE,GAPC;EAQfC,WAAW,EAAE,GARE;EASfC,WAAW,EAAE,GATE;EAUfC,WAAW,EAAE,GAVE;EAWfC,WAAW,EAAE,IAXE;EAYfC,WAAW,EAAE,IAZE;EAafC,eAAe,EAAE;AAbF,CAAjB;;;;;;;;;;ACHA,MAAMC,GAAG,GAAGvc,mBAAO,CAAC,kBAAD,CAAnB;;AAEAF,MAAM,CAACC,OAAP,GAAiB;EACfyc,UAAU,EAAED,GAAG,CAACd;AADD,CAAjB;;;;;;;;;;ACFA3b,MAAM,CAACC,OAAP,GAAiB;EACf;AACF;AACA;EACE0c,QAAQ,EAAE,0CAJK;;EAKf;AACF;AACA;AACA;AACA;EACEC,aAAa,EAAE,IAVA;EAWfC,MAAM,EAAE,MAAM,CAAE;AAXD,CAAjB;;;;;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","sources":["./src/app/components/crop/crop.component.ts","./src/app/pages/v2/file-upload/file-upload-routing.module.ts","./src/app/pages/v2/file-upload/file-upload.module.ts","./src/app/pages/v2/file-upload/file-upload.page.ts","./node_modules/blueimp-load-image/js/index.js","./node_modules/blueimp-load-image/js/load-image-exif-map.js","./node_modules/blueimp-load-image/js/load-image-exif.js","./node_modules/blueimp-load-image/js/load-image-fetch.js","./node_modules/blueimp-load-image/js/load-image-iptc-map.js","./node_modules/blueimp-load-image/js/load-image-iptc.js","./node_modules/blueimp-load-image/js/load-image-meta.js","./node_modules/blueimp-load-image/js/load-image-orientation.js","./node_modules/blueimp-load-image/js/load-image-scale.js","./node_modules/blueimp-load-image/js/load-image.js","./node_modules/is-electron/index.js","./node_modules/regenerator-runtime/runtime.js","./node_modules/resolve-url/resolve-url.js","./node_modules/tesseract.js/src/Tesseract.js","./node_modules/tesseract.js/src/constants/OEM.js","./node_modules/tesseract.js/src/constants/PSM.js","./node_modules/tesseract.js/src/constants/config.js","./node_modules/tesseract.js/src/constants/defaultOptions.js","./node_modules/tesseract.js/src/constants/languages.js","./node_modules/tesseract.js/src/createJob.js","./node_modules/tesseract.js/src/createScheduler.js","./node_modules/tesseract.js/src/createWorker.js","./node_modules/tesseract.js/src/index.js","./node_modules/tesseract.js/src/utils/circularize.js","./node_modules/tesseract.js/src/utils/getEnvironment.js","./node_modules/tesseract.js/src/utils/getId.js","./node_modules/tesseract.js/src/utils/log.js","./node_modules/tesseract.js/src/utils/resolvePaths.js","./node_modules/tesseract.js/src/worker/browser/defaultOptions.js","./node_modules/tesseract.js/src/worker/browser/index.js","./node_modules/tesseract.js/src/worker/browser/loadImage.js","./node_modules/tesseract.js/src/worker/browser/onMessage.js","./node_modules/tesseract.js/src/worker/browser/send.js","./node_modules/tesseract.js/src/worker/browser/spawnWorker.js","./node_modules/tesseract.js/src/worker/browser/terminateWorker.js","./node_modules/@babel/runtime/helpers/asyncToGenerator.js"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { DocScannerConfig } from 'ngx-document-scanner';\r\n\r\n@Component({\r\n  selector: 'app-crop',\r\n  templateUrl: './crop.component.html',\r\n  styleUrls: ['./crop.component.scss'],\r\n})\r\nexport class CropComponent implements OnInit {\r\n @Input() file:any;\r\n @Input() frontFile:any\r\n  constructor(private modalCtrl:ModalController) { }\r\n  config: DocScannerConfig = {  \r\n    editorBackgroundColor: '#fafafa', \r\n    buttonThemeColor: 'primary',  \r\n    cropToolColor: '#ff4081',  \r\n    cropToolShape: 'circle',\r\n    exportImageIcon: 'cloud_download'  \r\n};\r\n  ngOnInit() {\r\n    console.log()\r\n  }\r\n\r\n\r\n  editResult(event){\r\n    console.log(event);\r\n    this.modalCtrl.dismiss(event);\r\n  }\r\n  onError(event){\r\n    console.log(event);\r\n  }\r\n  editorState(event){\r\n    console.log(event);\r\n  }\r\n  exitEditor(event){\r\n    console.log(event);    \r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FileUploadPage } from './file-upload.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FileUploadPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FileUploadPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FileUploadPageRoutingModule } from './file-upload-routing.module';\r\n\r\nimport { FileUploadPage } from './file-upload.page';\r\nimport { SharedMaterialModule } from 'src/app/shared/shared-material.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedMaterialModule,\r\n    FileUploadPageRoutingModule\r\n  ],\r\n  declarations: [FileUploadPage]\r\n})\r\nexport class FileUploadPageModule {}\r\n","import { HttpEventType, HttpResponse } from '@angular/common/http';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { createWorker } from 'tesseract.js';\r\nimport { Location } from '@angular/common';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { CropComponent } from 'src/app/components/crop/crop.component';\r\n\r\nconst worker = createWorker({\r\n  logger: (m) => console.log(m),\r\n});\r\n\r\n@Component({\r\n  selector: 'app-file-upload',\r\n  templateUrl: './file-upload.page.html',\r\n  styleUrls: ['./file-upload.page.scss'],\r\n})\r\nexport class FileUploadPage implements OnInit {\r\n  isFile: boolean = false;\r\n  filename: string;\r\n  base64File: any;\r\n  files: any = [];\r\n  percentDone: number;\r\n  uploadSuccess: boolean;\r\n  isUploading: boolean = false;\r\n  uploadingFile: string;\r\n  requestSubscription: Subscription;\r\n  parsedText: any;\r\n  chequeData;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private api: ApiService,\r\n    private cdr: ChangeDetectorRef,\r\n    private _location: Location,\r\n    private modalCtrl: ModalController\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  goBack() {\r\n    localStorage.setItem('chequeData', JSON.stringify(this.chequeData));\r\n    this._location.back();\r\n  }\r\n\r\n  onFileSelect(e: any, side: any): void {\r\n    try {\r\n      const file = e.target.files[0];\r\n      this.openCropComponent(file);\r\n      // const fReader = new FileReader()\r\n      // fReader.readAsDataURL(file)\r\n      // fReader.onloadend = (_event: any) => {\r\n      //   this.filename = file.name;\r\n      //   this.base64File = _event.target.result;\r\n      //   console.log(this.filename);\r\n      //   this.files.push(file);\r\n      //   this.readChequeData(file);\r\n      //   // this.imageParser(file);\r\n      //   this.fileUpload(file);\r\n      // }\r\n    } catch (error) {\r\n      this.filename = null;\r\n      this.base64File = null;\r\n    }\r\n  }\r\n\r\n  // imageParser(image: File) {\r\n  //   (async () => {\r\n  //     await worker.load();\r\n  //     await worker.loadLanguage('eng');\r\n  //     await worker.initialize('eng');\r\n  //     const { data: { text } } = await worker.recognize(image);\r\n  //     this.parsedText = text;\r\n  //     console.log(\"Parsed Text\", text);\r\n  //     await worker.terminate();\r\n  //   })();\r\n  // }\r\n\r\n  upload() {\r\n    this.isFile = !this.isFile;\r\n  }\r\n\r\n  fileUpload(file) {\r\n    this.uploadingFile = file.name;\r\n    this.isUploading = true;\r\n    this.requestSubscription = this.api\r\n      .uploadAndProgress(file)\r\n      .subscribe((event) => {\r\n        if (event.type === HttpEventType.UploadProgress) {\r\n          this.percentDone = Math.round((100 * event.loaded) / event.total);\r\n        } else if (event instanceof HttpResponse) {\r\n          this.uploadSuccess = true;\r\n          this.isUploading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  readChequeData(file) {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    this.api.getChequeData(formData).subscribe((res) => {\r\n      let cheque: any = {};\r\n      res.data.forEach((d) => {\r\n        cheque[d.label] = d.value;\r\n      });\r\n\r\n      this.chequeData = cheque;\r\n      // TODO;\r\n      let chequeNo = this.chequeData['chequeNo'];\r\n      chequeNo = chequeNo.substring(1, chequeNo.length - 1);\r\n      this.chequeData['chequeNo'] = chequeNo;\r\n      this.chequeData['name'] = 'Axis Bank Ltd';\r\n      console.log(this.chequeData);\r\n    });\r\n  }\r\n\r\n  deleteFile(item: any) {\r\n    var index = this.files.indexOf(item);\r\n    this.files.splice(index, 1);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  cancel(item: any) {\r\n    this.requestSubscription.unsubscribe();\r\n    var index = this.files.indexOf(item);\r\n    this.files.splice(index, 1);\r\n    this.cdr.markForCheck();\r\n  }\r\n  async openCropComponent(file) {\r\n    let modal = await this.modalCtrl.create({\r\n      component: CropComponent,\r\n      backdropDismiss: true,\r\n      componentProps: {\r\n        file: file,\r\n      },\r\n    });\r\n\r\n    modal.onDidDismiss().then((res) => {\r\n      console.log('Getting Back Data', res);\r\n      const fReader = new FileReader();\r\n      fReader.readAsDataURL(res?.data);\r\n      fReader.onloadend = (_event: any) => {\r\n        this.filename = file.name;\r\n        this.base64File = _event.target.result;\r\n        console.log(this.filename);\r\n        this.files.push(file);\r\n        this.readChequeData(file);\r\n        // this.imageParser(file);\r\n        this.fileUpload(file);\r\n      };\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n}\r\n","/* global module, require */\n\nmodule.exports = require('./load-image')\n\nrequire('./load-image-scale')\nrequire('./load-image-meta')\nrequire('./load-image-fetch')\nrequire('./load-image-exif')\nrequire('./load-image-exif-map')\nrequire('./load-image-iptc')\nrequire('./load-image-iptc-map')\nrequire('./load-image-orientation')\n","/*\n * JavaScript Load Image Exif Map\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Exif tags mapping based on\n * https://github.com/jseidelin/exif-js\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-exif'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-exif'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var ExifMapProto = loadImage.ExifMap.prototype\n\n  ExifMapProto.tags = {\n    // =================\n    // TIFF tags (IFD0):\n    // =================\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageHeight',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x0112: 'Orientation',\n    0x0115: 'SamplesPerPixel',\n    0x011c: 'PlanarConfiguration',\n    0x0212: 'YCbCrSubSampling',\n    0x0213: 'YCbCrPositioning',\n    0x011a: 'XResolution',\n    0x011b: 'YResolution',\n    0x0128: 'ResolutionUnit',\n    0x0111: 'StripOffsets',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x012d: 'TransferFunction',\n    0x013e: 'WhitePoint',\n    0x013f: 'PrimaryChromaticities',\n    0x0211: 'YCbCrCoefficients',\n    0x0214: 'ReferenceBlackWhite',\n    0x0132: 'DateTime',\n    0x010e: 'ImageDescription',\n    0x010f: 'Make',\n    0x0110: 'Model',\n    0x0131: 'Software',\n    0x013b: 'Artist',\n    0x8298: 'Copyright',\n    0x8769: {\n      // ExifIFDPointer\n      0x9000: 'ExifVersion', // EXIF version\n      0xa000: 'FlashpixVersion', // Flashpix format version\n      0xa001: 'ColorSpace', // Color space information tag\n      0xa002: 'PixelXDimension', // Valid width of meaningful image\n      0xa003: 'PixelYDimension', // Valid height of meaningful image\n      0xa500: 'Gamma',\n      0x9101: 'ComponentsConfiguration', // Information about channels\n      0x9102: 'CompressedBitsPerPixel', // Compressed bits per pixel\n      0x927c: 'MakerNote', // Any desired information written by the manufacturer\n      0x9286: 'UserComment', // Comments by user\n      0xa004: 'RelatedSoundFile', // Name of related sound file\n      0x9003: 'DateTimeOriginal', // Date and time when the original image was generated\n      0x9004: 'DateTimeDigitized', // Date and time when the image was stored digitally\n      0x9290: 'SubSecTime', // Fractions of seconds for DateTime\n      0x9291: 'SubSecTimeOriginal', // Fractions of seconds for DateTimeOriginal\n      0x9292: 'SubSecTimeDigitized', // Fractions of seconds for DateTimeDigitized\n      0x829a: 'ExposureTime', // Exposure time (in seconds)\n      0x829d: 'FNumber',\n      0x8822: 'ExposureProgram', // Exposure program\n      0x8824: 'SpectralSensitivity', // Spectral sensitivity\n      0x8827: 'PhotographicSensitivity', // EXIF 2.3, ISOSpeedRatings in EXIF 2.2\n      0x8828: 'OECF', // Optoelectric conversion factor\n      0x8830: 'SensitivityType',\n      0x8831: 'StandardOutputSensitivity',\n      0x8832: 'RecommendedExposureIndex',\n      0x8833: 'ISOSpeed',\n      0x8834: 'ISOSpeedLatitudeyyy',\n      0x8835: 'ISOSpeedLatitudezzz',\n      0x9201: 'ShutterSpeedValue', // Shutter speed\n      0x9202: 'ApertureValue', // Lens aperture\n      0x9203: 'BrightnessValue', // Value of brightness\n      0x9204: 'ExposureBias', // Exposure bias\n      0x9205: 'MaxApertureValue', // Smallest F number of lens\n      0x9206: 'SubjectDistance', // Distance to subject in meters\n      0x9207: 'MeteringMode', // Metering mode\n      0x9208: 'LightSource', // Kind of light source\n      0x9209: 'Flash', // Flash status\n      0x9214: 'SubjectArea', // Location and area of main subject\n      0x920a: 'FocalLength', // Focal length of the lens in mm\n      0xa20b: 'FlashEnergy', // Strobe energy in BCPS\n      0xa20c: 'SpatialFrequencyResponse',\n      0xa20e: 'FocalPlaneXResolution', // Number of pixels in width direction per FPRUnit\n      0xa20f: 'FocalPlaneYResolution', // Number of pixels in height direction per FPRUnit\n      0xa210: 'FocalPlaneResolutionUnit', // Unit for measuring the focal plane resolution\n      0xa214: 'SubjectLocation', // Location of subject in image\n      0xa215: 'ExposureIndex', // Exposure index selected on camera\n      0xa217: 'SensingMethod', // Image sensor type\n      0xa300: 'FileSource', // Image source (3 == DSC)\n      0xa301: 'SceneType', // Scene type (1 == directly photographed)\n      0xa302: 'CFAPattern', // Color filter array geometric pattern\n      0xa401: 'CustomRendered', // Special processing\n      0xa402: 'ExposureMode', // Exposure mode\n      0xa403: 'WhiteBalance', // 1 = auto white balance, 2 = manual\n      0xa404: 'DigitalZoomRatio', // Digital zoom ratio\n      0xa405: 'FocalLengthIn35mmFilm',\n      0xa406: 'SceneCaptureType', // Type of scene\n      0xa407: 'GainControl', // Degree of overall image gain adjustment\n      0xa408: 'Contrast', // Direction of contrast processing applied by camera\n      0xa409: 'Saturation', // Direction of saturation processing applied by camera\n      0xa40a: 'Sharpness', // Direction of sharpness processing applied by camera\n      0xa40b: 'DeviceSettingDescription',\n      0xa40c: 'SubjectDistanceRange', // Distance to subject\n      0xa420: 'ImageUniqueID', // Identifier assigned uniquely to each image\n      0xa430: 'CameraOwnerName',\n      0xa431: 'BodySerialNumber',\n      0xa432: 'LensSpecification',\n      0xa433: 'LensMake',\n      0xa434: 'LensModel',\n      0xa435: 'LensSerialNumber'\n    },\n    0x8825: {\n      // GPSInfoIFDPointer\n      0x0000: 'GPSVersionID',\n      0x0001: 'GPSLatitudeRef',\n      0x0002: 'GPSLatitude',\n      0x0003: 'GPSLongitudeRef',\n      0x0004: 'GPSLongitude',\n      0x0005: 'GPSAltitudeRef',\n      0x0006: 'GPSAltitude',\n      0x0007: 'GPSTimeStamp',\n      0x0008: 'GPSSatellites',\n      0x0009: 'GPSStatus',\n      0x000a: 'GPSMeasureMode',\n      0x000b: 'GPSDOP',\n      0x000c: 'GPSSpeedRef',\n      0x000d: 'GPSSpeed',\n      0x000e: 'GPSTrackRef',\n      0x000f: 'GPSTrack',\n      0x0010: 'GPSImgDirectionRef',\n      0x0011: 'GPSImgDirection',\n      0x0012: 'GPSMapDatum',\n      0x0013: 'GPSDestLatitudeRef',\n      0x0014: 'GPSDestLatitude',\n      0x0015: 'GPSDestLongitudeRef',\n      0x0016: 'GPSDestLongitude',\n      0x0017: 'GPSDestBearingRef',\n      0x0018: 'GPSDestBearing',\n      0x0019: 'GPSDestDistanceRef',\n      0x001a: 'GPSDestDistance',\n      0x001b: 'GPSProcessingMethod',\n      0x001c: 'GPSAreaInformation',\n      0x001d: 'GPSDateStamp',\n      0x001e: 'GPSDifferential',\n      0x001f: 'GPSHPositioningError'\n    },\n    0xa005: {\n      // InteroperabilityIFDPointer\n      0x0001: 'InteroperabilityIndex'\n    }\n  }\n\n  ExifMapProto.stringValues = {\n    ExposureProgram: {\n      0: 'Undefined',\n      1: 'Manual',\n      2: 'Normal program',\n      3: 'Aperture priority',\n      4: 'Shutter priority',\n      5: 'Creative program',\n      6: 'Action program',\n      7: 'Portrait mode',\n      8: 'Landscape mode'\n    },\n    MeteringMode: {\n      0: 'Unknown',\n      1: 'Average',\n      2: 'CenterWeightedAverage',\n      3: 'Spot',\n      4: 'MultiSpot',\n      5: 'Pattern',\n      6: 'Partial',\n      255: 'Other'\n    },\n    LightSource: {\n      0: 'Unknown',\n      1: 'Daylight',\n      2: 'Fluorescent',\n      3: 'Tungsten (incandescent light)',\n      4: 'Flash',\n      9: 'Fine weather',\n      10: 'Cloudy weather',\n      11: 'Shade',\n      12: 'Daylight fluorescent (D 5700 - 7100K)',\n      13: 'Day white fluorescent (N 4600 - 5400K)',\n      14: 'Cool white fluorescent (W 3900 - 4500K)',\n      15: 'White fluorescent (WW 3200 - 3700K)',\n      17: 'Standard light A',\n      18: 'Standard light B',\n      19: 'Standard light C',\n      20: 'D55',\n      21: 'D65',\n      22: 'D75',\n      23: 'D50',\n      24: 'ISO studio tungsten',\n      255: 'Other'\n    },\n    Flash: {\n      0x0000: 'Flash did not fire',\n      0x0001: 'Flash fired',\n      0x0005: 'Strobe return light not detected',\n      0x0007: 'Strobe return light detected',\n      0x0009: 'Flash fired, compulsory flash mode',\n      0x000d: 'Flash fired, compulsory flash mode, return light not detected',\n      0x000f: 'Flash fired, compulsory flash mode, return light detected',\n      0x0010: 'Flash did not fire, compulsory flash mode',\n      0x0018: 'Flash did not fire, auto mode',\n      0x0019: 'Flash fired, auto mode',\n      0x001d: 'Flash fired, auto mode, return light not detected',\n      0x001f: 'Flash fired, auto mode, return light detected',\n      0x0020: 'No flash function',\n      0x0041: 'Flash fired, red-eye reduction mode',\n      0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\n      0x0047: 'Flash fired, red-eye reduction mode, return light detected',\n      0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\n      0x004d: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\n      0x004f: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\n      0x0059: 'Flash fired, auto mode, red-eye reduction mode',\n      0x005d: 'Flash fired, auto mode, return light not detected, red-eye reduction mode',\n      0x005f: 'Flash fired, auto mode, return light detected, red-eye reduction mode'\n    },\n    SensingMethod: {\n      1: 'Undefined',\n      2: 'One-chip color area sensor',\n      3: 'Two-chip color area sensor',\n      4: 'Three-chip color area sensor',\n      5: 'Color sequential area sensor',\n      7: 'Trilinear sensor',\n      8: 'Color sequential linear sensor'\n    },\n    SceneCaptureType: {\n      0: 'Standard',\n      1: 'Landscape',\n      2: 'Portrait',\n      3: 'Night scene'\n    },\n    SceneType: {\n      1: 'Directly photographed'\n    },\n    CustomRendered: {\n      0: 'Normal process',\n      1: 'Custom process'\n    },\n    WhiteBalance: {\n      0: 'Auto white balance',\n      1: 'Manual white balance'\n    },\n    GainControl: {\n      0: 'None',\n      1: 'Low gain up',\n      2: 'High gain up',\n      3: 'Low gain down',\n      4: 'High gain down'\n    },\n    Contrast: {\n      0: 'Normal',\n      1: 'Soft',\n      2: 'Hard'\n    },\n    Saturation: {\n      0: 'Normal',\n      1: 'Low saturation',\n      2: 'High saturation'\n    },\n    Sharpness: {\n      0: 'Normal',\n      1: 'Soft',\n      2: 'Hard'\n    },\n    SubjectDistanceRange: {\n      0: 'Unknown',\n      1: 'Macro',\n      2: 'Close view',\n      3: 'Distant view'\n    },\n    FileSource: {\n      3: 'DSC'\n    },\n    ComponentsConfiguration: {\n      0: '',\n      1: 'Y',\n      2: 'Cb',\n      3: 'Cr',\n      4: 'R',\n      5: 'G',\n      6: 'B'\n    },\n    Orientation: {\n      1: 'top-left',\n      2: 'top-right',\n      3: 'bottom-right',\n      4: 'bottom-left',\n      5: 'left-top',\n      6: 'right-top',\n      7: 'right-bottom',\n      8: 'left-bottom'\n    }\n  }\n\n  ExifMapProto.getText = function (name) {\n    var value = this.get(name)\n    switch (name) {\n      case 'LightSource':\n      case 'Flash':\n      case 'MeteringMode':\n      case 'ExposureProgram':\n      case 'SensingMethod':\n      case 'SceneCaptureType':\n      case 'SceneType':\n      case 'CustomRendered':\n      case 'WhiteBalance':\n      case 'GainControl':\n      case 'Contrast':\n      case 'Saturation':\n      case 'Sharpness':\n      case 'SubjectDistanceRange':\n      case 'FileSource':\n      case 'Orientation':\n        return this.stringValues[name][value]\n      case 'ExifVersion':\n      case 'FlashpixVersion':\n        if (!value) return\n        return String.fromCharCode(value[0], value[1], value[2], value[3])\n      case 'ComponentsConfiguration':\n        if (!value) return\n        return (\n          this.stringValues[name][value[0]] +\n          this.stringValues[name][value[1]] +\n          this.stringValues[name][value[2]] +\n          this.stringValues[name][value[3]]\n        )\n      case 'GPSVersionID':\n        if (!value) return\n        return value[0] + '.' + value[1] + '.' + value[2] + '.' + value[3]\n    }\n    return String(value)\n  }\n\n  ExifMapProto.getAll = function () {\n    var map = {}\n    var prop\n    var obj\n    var name\n    for (prop in this) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        obj = this[prop]\n        if (obj && obj.getAll) {\n          map[this.privateIFDs[prop].name] = obj.getAll()\n        } else {\n          name = this.tags[prop]\n          if (name) map[name] = this.getText(name)\n        }\n      }\n    }\n    return map\n  }\n\n  ExifMapProto.getName = function (tagCode) {\n    var name = this.tags[tagCode]\n    if (typeof name === 'object') return this.privateIFDs[tagCode].name\n    return name\n  }\n\n  // Extend the map of tag names to tag codes:\n  ;(function () {\n    var tags = ExifMapProto.tags\n    var prop\n    var privateIFD\n    var subTags\n    // Map the tag names to tags:\n    for (prop in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\n        privateIFD = ExifMapProto.privateIFDs[prop]\n        if (privateIFD) {\n          subTags = tags[prop]\n          for (prop in subTags) {\n            if (Object.prototype.hasOwnProperty.call(subTags, prop)) {\n              privateIFD.map[subTags[prop]] = Number(prop)\n            }\n          }\n        } else {\n          ExifMapProto.map[tags[prop]] = Number(prop)\n        }\n      }\n    }\n  })()\n})\n","/*\n * JavaScript Load Image Exif Parser\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView */\n\n/* eslint-disable no-console */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-meta'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  /**\n   * Exif tag map\n   *\n   * @name ExifMap\n   * @class\n   * @param {number} tagCode Private IFD tag code\n   */\n  function ExifMap(tagCode) {\n    if (tagCode) {\n      Object.defineProperty(this, 'map', {\n        value: this.privateIFDs[tagCode].map\n      })\n      Object.defineProperty(this, 'tags', {\n        value: (this.tags && this.tags[tagCode]) || {}\n      })\n    }\n  }\n\n  ExifMap.prototype.map = {\n    Orientation: 0x0112,\n    Thumbnail: 0x0201,\n    Exif: 0x8769,\n    GPSInfo: 0x8825,\n    Interoperability: 0xa005\n  }\n\n  ExifMap.prototype.privateIFDs = {\n    0x8769: { name: 'Exif', map: {} },\n    0x8825: { name: 'GPSInfo', map: {} },\n    0xa005: { name: 'Interoperability', map: {} }\n  }\n\n  /**\n   * Retrieves exif tag value\n   *\n   * @param {number|string} id Exif tag code or name\n   * @returns {object} Exif tag value\n   */\n  ExifMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]]\n  }\n\n  /**\n   * Returns the Exif Thumbnail data as Blob.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Thumbnail data offset\n   * @param {number} length Thumbnail data length\n   * @returns {undefined|Blob} Returns the Thumbnail Blob or undefined\n   */\n  function getExifThumbnail(dataView, offset, length) {\n    if (!length || offset + length > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid thumbnail data.')\n      return\n    }\n    return new Blob([dataView.buffer.slice(offset, offset + length)], {\n      type: 'image/jpeg'\n    })\n  }\n\n  var ExifTagTypes = {\n    // byte, 8-bit unsigned int:\n    1: {\n      getValue: function (dataView, dataOffset) {\n        return dataView.getUint8(dataOffset)\n      },\n      size: 1\n    },\n    // ascii, 8-bit byte:\n    2: {\n      getValue: function (dataView, dataOffset) {\n        return String.fromCharCode(dataView.getUint8(dataOffset))\n      },\n      size: 1,\n      ascii: true\n    },\n    // short, 16 bit int:\n    3: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint16(dataOffset, littleEndian)\n      },\n      size: 2\n    },\n    // long, 32 bit int:\n    4: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint32(dataOffset, littleEndian)\n      },\n      size: 4\n    },\n    // rational = two long values, first is numerator, second is denominator:\n    5: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return (\n          dataView.getUint32(dataOffset, littleEndian) /\n          dataView.getUint32(dataOffset + 4, littleEndian)\n        )\n      },\n      size: 8\n    },\n    // slong, 32 bit signed int:\n    9: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getInt32(dataOffset, littleEndian)\n      },\n      size: 4\n    },\n    // srational, two slongs, first is numerator, second is denominator:\n    10: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return (\n          dataView.getInt32(dataOffset, littleEndian) /\n          dataView.getInt32(dataOffset + 4, littleEndian)\n        )\n      },\n      size: 8\n    }\n  }\n  // undefined, 8-bit byte, value depending on field:\n  ExifTagTypes[7] = ExifTagTypes[1]\n\n  /**\n   * Returns Exif tag value.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {number} offset Tag offset\n   * @param {number} type Tag type\n   * @param {number} length Tag length\n   * @param {boolean} littleEndian Little endian encoding\n   * @returns {object} Tag value\n   */\n  function getExifValue(\n    dataView,\n    tiffOffset,\n    offset,\n    type,\n    length,\n    littleEndian\n  ) {\n    var tagType = ExifTagTypes[type]\n    var tagSize\n    var dataOffset\n    var values\n    var i\n    var str\n    var c\n    if (!tagType) {\n      console.log('Invalid Exif data: Invalid tag type.')\n      return\n    }\n    tagSize = tagType.size * length\n    // Determine if the value is contained in the dataOffset bytes,\n    // or if the value at the dataOffset is a pointer to the actual data:\n    dataOffset =\n      tagSize > 4\n        ? tiffOffset + dataView.getUint32(offset + 8, littleEndian)\n        : offset + 8\n    if (dataOffset + tagSize > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid data offset.')\n      return\n    }\n    if (length === 1) {\n      return tagType.getValue(dataView, dataOffset, littleEndian)\n    }\n    values = []\n    for (i = 0; i < length; i += 1) {\n      values[i] = tagType.getValue(\n        dataView,\n        dataOffset + i * tagType.size,\n        littleEndian\n      )\n    }\n    if (tagType.ascii) {\n      str = ''\n      // Concatenate the chars:\n      for (i = 0; i < values.length; i += 1) {\n        c = values[i]\n        // Ignore the terminating NULL byte(s):\n        if (c === '\\u0000') {\n          break\n        }\n        str += c\n      }\n      return str\n    }\n    return values\n  }\n\n  /**\n   * Parses Exif tags.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {number} dirOffset Directory offset\n   * @param {boolean} littleEndian Little endian encoding\n   * @param {ExifMap} tags Map to store parsed exif tags\n   * @param {ExifMap} tagOffsets Map to store parsed exif tag offsets\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   * @returns {number} Next directory offset\n   */\n  function parseExifTags(\n    dataView,\n    tiffOffset,\n    dirOffset,\n    littleEndian,\n    tags,\n    tagOffsets,\n    includeTags,\n    excludeTags\n  ) {\n    var tagsNumber, dirEndOffset, i, tagOffset, tagNumber, tagValue\n    if (dirOffset + 6 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid directory offset.')\n      return\n    }\n    tagsNumber = dataView.getUint16(dirOffset, littleEndian)\n    dirEndOffset = dirOffset + 2 + 12 * tagsNumber\n    if (dirEndOffset + 4 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid directory size.')\n      return\n    }\n    for (i = 0; i < tagsNumber; i += 1) {\n      tagOffset = dirOffset + 2 + 12 * i\n      tagNumber = dataView.getUint16(tagOffset, littleEndian)\n      if (includeTags && !includeTags[tagNumber]) continue\n      if (excludeTags && excludeTags[tagNumber] === true) continue\n      tagValue = getExifValue(\n        dataView,\n        tiffOffset,\n        tagOffset,\n        dataView.getUint16(tagOffset + 2, littleEndian), // tag type\n        dataView.getUint32(tagOffset + 4, littleEndian), // tag length\n        littleEndian\n      )\n      tags[tagNumber] = tagValue\n      if (tagOffsets) {\n        tagOffsets[tagNumber] = tagOffset\n      }\n    }\n    // Return the offset to the next directory:\n    return dataView.getUint32(dirEndOffset, littleEndian)\n  }\n\n  /**\n   * Parses Private IFD tags.\n   *\n   * @param {object} data Data object to store exif tags and offsets\n   * @param {number} tagCode Private IFD tag code\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {boolean} littleEndian Little endian encoding\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   */\n  function parseExifPrivateIFD(\n    data,\n    tagCode,\n    dataView,\n    tiffOffset,\n    littleEndian,\n    includeTags,\n    excludeTags\n  ) {\n    var dirOffset = data.exif[tagCode]\n    if (dirOffset) {\n      data.exif[tagCode] = new ExifMap(tagCode)\n      if (data.exifOffsets) {\n        data.exifOffsets[tagCode] = new ExifMap(tagCode)\n      }\n      parseExifTags(\n        dataView,\n        tiffOffset,\n        tiffOffset + dirOffset,\n        littleEndian,\n        data.exif[tagCode],\n        data.exifOffsets && data.exifOffsets[tagCode],\n        includeTags && includeTags[tagCode],\n        excludeTags && excludeTags[tagCode]\n      )\n    }\n  }\n\n  loadImage.parseExifData = function (dataView, offset, length, data, options) {\n    if (options.disableExif) {\n      return\n    }\n    var includeTags = options.includeExifTags\n    var excludeTags = options.excludeExifTags || {\n      0x8769: {\n        // ExifIFDPointer\n        0x927c: true // MakerNote\n      }\n    }\n    var tiffOffset = offset + 10\n    var littleEndian\n    var dirOffset\n    var privateIFDs\n    // Check for the ASCII code for \"Exif\" (0x45786966):\n    if (dataView.getUint32(offset + 4) !== 0x45786966) {\n      // No Exif data, might be XMP data instead\n      return\n    }\n    if (tiffOffset + 8 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid segment size.')\n      return\n    }\n    // Check for the two null bytes:\n    if (dataView.getUint16(offset + 8) !== 0x0000) {\n      console.log('Invalid Exif data: Missing byte alignment offset.')\n      return\n    }\n    // Check the byte alignment:\n    switch (dataView.getUint16(tiffOffset)) {\n      case 0x4949:\n        littleEndian = true\n        break\n      case 0x4d4d:\n        littleEndian = false\n        break\n      default:\n        console.log('Invalid Exif data: Invalid byte alignment marker.')\n        return\n    }\n    // Check for the TIFF tag marker (0x002A):\n    if (dataView.getUint16(tiffOffset + 2, littleEndian) !== 0x002a) {\n      console.log('Invalid Exif data: Missing TIFF marker.')\n      return\n    }\n    // Retrieve the directory offset bytes, usually 0x00000008 or 8 decimal:\n    dirOffset = dataView.getUint32(tiffOffset + 4, littleEndian)\n    // Create the exif object to store the tags:\n    data.exif = new ExifMap()\n    if (!options.disableExifOffsets) {\n      data.exifOffsets = new ExifMap()\n      data.exifTiffOffset = tiffOffset\n      data.exifLittleEndian = littleEndian\n    }\n    // Parse the tags of the main image directory and retrieve the\n    // offset to the next directory, usually the thumbnail directory:\n    dirOffset = parseExifTags(\n      dataView,\n      tiffOffset,\n      tiffOffset + dirOffset,\n      littleEndian,\n      data.exif,\n      data.exifOffsets,\n      includeTags,\n      excludeTags\n    )\n    if (dirOffset && !options.disableExifThumbnail) {\n      dirOffset = parseExifTags(\n        dataView,\n        tiffOffset,\n        tiffOffset + dirOffset,\n        littleEndian,\n        data.exif,\n        data.exifOffsets,\n        includeTags,\n        excludeTags\n      )\n      // Check for JPEG Thumbnail offset:\n      if (data.exif[0x0201] && data.exif[0x0202]) {\n        data.exif[0x0201] = getExifThumbnail(\n          dataView,\n          tiffOffset + data.exif[0x0201],\n          data.exif[0x0202] // Thumbnail data length\n        )\n      }\n    }\n    privateIFDs = Object.keys(data.exif.privateIFDs)\n    privateIFDs.forEach(function (tagCode) {\n      parseExifPrivateIFD(\n        data,\n        tagCode,\n        dataView,\n        tiffOffset,\n        littleEndian,\n        includeTags,\n        excludeTags\n      )\n    })\n  }\n\n  // Registers the Exif parser for the APP1 JPEG meta data segment:\n  loadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData)\n\n  loadImage.exifWriters = {\n    // Orientation writer:\n    0x0112: function (buffer, data, value) {\n      var view = new DataView(buffer, data.exifOffsets[0x0112] + 8, 2)\n      view.setUint16(0, value, data.exifLittleEndian)\n      return buffer\n    }\n  }\n\n  loadImage.writeExifData = function (buffer, data, id, value) {\n    loadImage.exifWriters[data.exif.map[id]](buffer, data, value)\n  }\n\n  loadImage.ExifMap = ExifMap\n\n  // Adds the following properties to the parseMetaData callback data:\n  // - exif: The parsed Exif tags\n  // - exifOffsets: The parsed Exif tag offsets\n  // - exifTiffOffset: TIFF header offset (used for offset pointers)\n  // - exifLittleEndian: little endian order if true, big endian if false\n\n  // Adds the following options to the parseMetaData method:\n  // - disableExif: Disables Exif parsing when true.\n  // - disableExifThumbnail: Disables parsing of Thumbnail data when true.\n  // - disableExifOffsets: Disables storing Exif tag offsets when true.\n  // - includeExifTags: A map of Exif tags to include for parsing.\n  // - excludeExifTags: A map of Exif tags to exclude from parsing.\n})\n","/*\n * JavaScript Load Image Fetch\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2017, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  if (typeof fetch !== 'undefined' && typeof Request !== 'undefined') {\n    loadImage.fetchBlob = function (url, callback, options) {\n      fetch(new Request(url, options))\n        .then(function (response) {\n          return response.blob()\n        })\n        .then(callback)\n        .catch(function (err) {\n          callback(null, err)\n        })\n    }\n  } else if (\n    // Check for XHR2 support:\n    typeof XMLHttpRequest !== 'undefined' &&\n    typeof ProgressEvent !== 'undefined'\n  ) {\n    loadImage.fetchBlob = function (url, callback, options) {\n      // eslint-disable-next-line no-param-reassign\n      options = options || {}\n      var req = new XMLHttpRequest()\n      req.open(options.method || 'GET', url)\n      if (options.headers) {\n        Object.keys(options.headers).forEach(function (key) {\n          req.setRequestHeader(key, options.headers[key])\n        })\n      }\n      req.withCredentials = options.credentials === 'include'\n      req.responseType = 'blob'\n      req.onload = function () {\n        callback(req.response)\n      }\n      req.onerror = req.onabort = req.ontimeout = function (err) {\n        callback(null, err)\n      }\n      req.send(options.body)\n    }\n  }\n})\n","/*\n * JavaScript Load Image IPTC Map\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * Copyright 2018, Dave Bevan\n *\n * IPTC tags mapping based on\n * https://iptc.org/standards/photo-metadata\n * https://exiftool.org/TagNames/IPTC.html\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-iptc'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-iptc'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var IptcMapProto = loadImage.IptcMap.prototype\n\n  IptcMapProto.tags = {\n    0: 'ApplicationRecordVersion',\n    3: 'ObjectTypeReference',\n    4: 'ObjectAttributeReference',\n    5: 'ObjectName',\n    7: 'EditStatus',\n    8: 'EditorialUpdate',\n    10: 'Urgency',\n    12: 'SubjectReference',\n    15: 'Category',\n    20: 'SupplementalCategories',\n    22: 'FixtureIdentifier',\n    25: 'Keywords',\n    26: 'ContentLocationCode',\n    27: 'ContentLocationName',\n    30: 'ReleaseDate',\n    35: 'ReleaseTime',\n    37: 'ExpirationDate',\n    38: 'ExpirationTime',\n    40: 'SpecialInstructions',\n    42: 'ActionAdvised',\n    45: 'ReferenceService',\n    47: 'ReferenceDate',\n    50: 'ReferenceNumber',\n    55: 'DateCreated',\n    60: 'TimeCreated',\n    62: 'DigitalCreationDate',\n    63: 'DigitalCreationTime',\n    65: 'OriginatingProgram',\n    70: 'ProgramVersion',\n    75: 'ObjectCycle',\n    80: 'Byline',\n    85: 'BylineTitle',\n    90: 'City',\n    92: 'Sublocation',\n    95: 'State',\n    100: 'CountryCode',\n    101: 'Country',\n    103: 'OriginalTransmissionReference',\n    105: 'Headline',\n    110: 'Credit',\n    115: 'Source',\n    116: 'CopyrightNotice',\n    118: 'Contact',\n    120: 'Caption',\n    121: 'LocalCaption',\n    122: 'Writer',\n    125: 'RasterizedCaption',\n    130: 'ImageType',\n    131: 'ImageOrientation',\n    135: 'LanguageIdentifier',\n    150: 'AudioType',\n    151: 'AudioSamplingRate',\n    152: 'AudioSamplingResolution',\n    153: 'AudioDuration',\n    154: 'AudioOutcue',\n    184: 'JobID',\n    185: 'MasterDocumentID',\n    186: 'ShortDocumentID',\n    187: 'UniqueDocumentID',\n    188: 'OwnerID',\n    200: 'ObjectPreviewFileFormat',\n    201: 'ObjectPreviewFileVersion',\n    202: 'ObjectPreviewData',\n    221: 'Prefs',\n    225: 'ClassifyState',\n    228: 'SimilarityIndex',\n    230: 'DocumentNotes',\n    231: 'DocumentHistory',\n    232: 'ExifCameraInfo',\n    255: 'CatalogSets'\n  }\n\n  IptcMapProto.stringValues = {\n    10: {\n      0: '0 (reserved)',\n      1: '1 (most urgent)',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5 (normal urgency)',\n      6: '6',\n      7: '7',\n      8: '8 (least urgent)',\n      9: '9 (user-defined priority)'\n    },\n    75: {\n      a: 'Morning',\n      b: 'Both Morning and Evening',\n      p: 'Evening'\n    },\n    131: {\n      L: 'Landscape',\n      P: 'Portrait',\n      S: 'Square'\n    }\n  }\n\n  IptcMapProto.getText = function (id) {\n    var value = this.get(id)\n    var tagCode = this.map[id]\n    var stringValue = this.stringValues[tagCode]\n    if (stringValue) return stringValue[value]\n    return String(value)\n  }\n\n  IptcMapProto.getAll = function () {\n    var map = {}\n    var prop\n    var name\n    for (prop in this) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        name = this.tags[prop]\n        if (name) map[name] = this.getText(name)\n      }\n    }\n    return map\n  }\n\n  IptcMapProto.getName = function (tagCode) {\n    return this.tags[tagCode]\n  }\n\n  // Extend the map of tag names to tag codes:\n  ;(function () {\n    var tags = IptcMapProto.tags\n    var map = IptcMapProto.map || {}\n    var prop\n    // Map the tag names to tags:\n    for (prop in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\n        map[tags[prop]] = Number(prop)\n      }\n    }\n  })()\n})\n","/*\n * JavaScript Load Image IPTC Parser\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * Copyright 2018, Dave Bevan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-meta'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  /**\n   * IPTC tag map\n   *\n   * @name IptcMap\n   * @class\n   */\n  function IptcMap() {}\n\n  IptcMap.prototype.map = {\n    ObjectName: 5\n  }\n\n  IptcMap.prototype.types = {\n    0: 'Uint16', // ApplicationRecordVersion\n    200: 'Uint16', // ObjectPreviewFileFormat\n    201: 'Uint16', // ObjectPreviewFileVersion\n    202: 'binary' // ObjectPreviewData\n  }\n\n  /**\n   * Retrieves IPTC tag value\n   *\n   * @param {number|string} id IPTC tag code or name\n   * @returns {object} IPTC tag value\n   */\n  IptcMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]]\n  }\n\n  /**\n   * Retrieves string for the given DataView and range\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Offset start\n   * @param {number} length Offset length\n   * @returns {string} String value\n   */\n  function getStringValue(dataView, offset, length) {\n    var outstr = ''\n    var end = offset + length\n    for (var n = offset; n < end; n += 1) {\n      outstr += String.fromCharCode(dataView.getUint8(n))\n    }\n    return outstr\n  }\n\n  /**\n   * Retrieves tag value for the given DataView and range\n   *\n   * @param {number} tagCode Private IFD tag code\n   * @param {IptcMap} map IPTC tag map\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Range start\n   * @param {number} length Range length\n   * @returns {object} Tag value\n   */\n  function getTagValue(tagCode, map, dataView, offset, length) {\n    if (map.types[tagCode] === 'binary') {\n      return new Blob([dataView.buffer.slice(offset, offset + length)])\n    }\n    if (map.types[tagCode] === 'Uint16') {\n      return dataView.getUint16(offset)\n    }\n    return getStringValue(dataView, offset, length)\n  }\n\n  /**\n   * Combines IPTC value with existing ones.\n   *\n   * @param {object} value Existing IPTC field value\n   * @param {object} newValue New IPTC field value\n   * @returns {object} Resulting IPTC field value\n   */\n  function combineTagValues(value, newValue) {\n    if (value === undefined) return newValue\n    if (value instanceof Array) {\n      value.push(newValue)\n      return value\n    }\n    return [value, newValue]\n  }\n\n  /**\n   * Parses IPTC tags.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} segmentOffset Segment offset\n   * @param {number} segmentLength Segment length\n   * @param {object} data Data export object\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   */\n  function parseIptcTags(\n    dataView,\n    segmentOffset,\n    segmentLength,\n    data,\n    includeTags,\n    excludeTags\n  ) {\n    var value, tagSize, tagCode\n    var segmentEnd = segmentOffset + segmentLength\n    var offset = segmentOffset\n    while (offset < segmentEnd) {\n      if (\n        dataView.getUint8(offset) === 0x1c && // tag marker\n        dataView.getUint8(offset + 1) === 0x02 // record number, only handles v2\n      ) {\n        tagCode = dataView.getUint8(offset + 2)\n        if (\n          (!includeTags || includeTags[tagCode]) &&\n          (!excludeTags || !excludeTags[tagCode])\n        ) {\n          tagSize = dataView.getInt16(offset + 3)\n          value = getTagValue(tagCode, data.iptc, dataView, offset + 5, tagSize)\n          data.iptc[tagCode] = combineTagValues(data.iptc[tagCode], value)\n          if (data.iptcOffsets) {\n            data.iptcOffsets[tagCode] = offset\n          }\n        }\n      }\n      offset += 1\n    }\n  }\n\n  /**\n   * Tests if field segment starts at offset.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Segment offset\n   * @returns {boolean} True if '8BIM<EOT><EOT>' exists at offset\n   */\n  function isSegmentStart(dataView, offset) {\n    return (\n      dataView.getUint32(offset) === 0x3842494d && // Photoshop segment start\n      dataView.getUint16(offset + 4) === 0x0404 // IPTC segment start\n    )\n  }\n\n  /**\n   * Returns header length.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Segment offset\n   * @returns {number} Header length\n   */\n  function getHeaderLength(dataView, offset) {\n    var length = dataView.getUint8(offset + 7)\n    if (length % 2 !== 0) length += 1\n    // Check for pre photoshop 6 format\n    if (length === 0) {\n      // Always 4\n      length = 4\n    }\n    return length\n  }\n\n  loadImage.parseIptcData = function (dataView, offset, length, data, options) {\n    if (options.disableIptc) {\n      return\n    }\n    var markerLength = offset + length\n    while (offset + 8 < markerLength) {\n      if (isSegmentStart(dataView, offset)) {\n        var headerLength = getHeaderLength(dataView, offset)\n        var segmentOffset = offset + 8 + headerLength\n        if (segmentOffset > markerLength) {\n          // eslint-disable-next-line no-console\n          console.log('Invalid IPTC data: Invalid segment offset.')\n          break\n        }\n        var segmentLength = dataView.getUint16(offset + 6 + headerLength)\n        if (offset + segmentLength > markerLength) {\n          // eslint-disable-next-line no-console\n          console.log('Invalid IPTC data: Invalid segment size.')\n          break\n        }\n        // Create the iptc object to store the tags:\n        data.iptc = new IptcMap()\n        if (!options.disableIptcOffsets) {\n          data.iptcOffsets = new IptcMap()\n        }\n        parseIptcTags(\n          dataView,\n          segmentOffset,\n          segmentLength,\n          data,\n          options.includeIptcTags,\n          options.excludeIptcTags || { 202: true } // ObjectPreviewData\n        )\n        return\n      }\n      // eslint-disable-next-line no-param-reassign\n      offset += 1\n    }\n  }\n\n  // Registers this IPTC parser for the APP13 JPEG meta data segment:\n  loadImage.metaDataParsers.jpeg[0xffed].push(loadImage.parseIptcData)\n\n  loadImage.IptcMap = IptcMap\n\n  // Adds the following properties to the parseMetaData callback data:\n  // - iptc: The iptc tags, parsed by the parseIptcData method\n\n  // Adds the following options to the parseMetaData method:\n  // - disableIptc: Disables IPTC parsing when true.\n  // - disableIptcOffsets: Disables storing IPTC tag offsets when true.\n  // - includeIptcTags: A map of IPTC tags to include for parsing.\n  // - excludeIptcTags: A map of IPTC tags to exclude from parsing.\n})\n","/*\n * JavaScript Load Image Meta\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Image meta data handling implementation\n * based on the help and contribution of\n * Achim Sthr.\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView, Uint8Array */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var hasblobSlice =\n    typeof Blob !== 'undefined' &&\n    (Blob.prototype.slice ||\n      Blob.prototype.webkitSlice ||\n      Blob.prototype.mozSlice)\n\n  loadImage.blobSlice =\n    hasblobSlice &&\n    function () {\n      var slice = this.slice || this.webkitSlice || this.mozSlice\n      return slice.apply(this, arguments)\n    }\n\n  loadImage.metaDataParsers = {\n    jpeg: {\n      0xffe1: [], // APP1 marker\n      0xffed: [] // APP13 marker\n    }\n  }\n\n  // Parses image meta data and calls the callback with an object argument\n  // with the following properties:\n  // * imageHead: The complete image head as ArrayBuffer (Uint8Array for IE10)\n  // The options argument accepts an object and supports the following\n  // properties:\n  // * maxMetaDataSize: Defines the maximum number of bytes to parse.\n  // * disableImageHead: Disables creating the imageHead property.\n  loadImage.parseMetaData = function (file, callback, options, data) {\n    // eslint-disable-next-line no-param-reassign\n    options = options || {}\n    // eslint-disable-next-line no-param-reassign\n    data = data || {}\n    var that = this\n    // 256 KiB should contain all EXIF/ICC/IPTC segments:\n    var maxMetaDataSize = options.maxMetaDataSize || 262144\n    var noMetaData = !(\n      typeof DataView !== 'undefined' &&\n      file &&\n      file.size >= 12 &&\n      file.type === 'image/jpeg' &&\n      loadImage.blobSlice\n    )\n    if (\n      noMetaData ||\n      !loadImage.readFile(\n        loadImage.blobSlice.call(file, 0, maxMetaDataSize),\n        function (e) {\n          if (e.target.error) {\n            // FileReader error\n            // eslint-disable-next-line no-console\n            console.log(e.target.error)\n            callback(data)\n            return\n          }\n          // Note on endianness:\n          // Since the marker and length bytes in JPEG files are always\n          // stored in big endian order, we can leave the endian parameter\n          // of the DataView methods undefined, defaulting to big endian.\n          var buffer = e.target.result\n          var dataView = new DataView(buffer)\n          var offset = 2\n          var maxOffset = dataView.byteLength - 4\n          var headLength = offset\n          var markerBytes\n          var markerLength\n          var parsers\n          var i\n          // Check for the JPEG marker (0xffd8):\n          if (dataView.getUint16(0) === 0xffd8) {\n            while (offset < maxOffset) {\n              markerBytes = dataView.getUint16(offset)\n              // Search for APPn (0xffeN) and COM (0xfffe) markers,\n              // which contain application-specific meta-data like\n              // Exif, ICC and IPTC data and text comments:\n              if (\n                (markerBytes >= 0xffe0 && markerBytes <= 0xffef) ||\n                markerBytes === 0xfffe\n              ) {\n                // The marker bytes (2) are always followed by\n                // the length bytes (2), indicating the length of the\n                // marker segment, which includes the length bytes,\n                // but not the marker bytes, so we add 2:\n                markerLength = dataView.getUint16(offset + 2) + 2\n                if (offset + markerLength > dataView.byteLength) {\n                  // eslint-disable-next-line no-console\n                  console.log('Invalid meta data: Invalid segment size.')\n                  break\n                }\n                parsers = loadImage.metaDataParsers.jpeg[markerBytes]\n                if (parsers && !options.disableMetaDataParsers) {\n                  for (i = 0; i < parsers.length; i += 1) {\n                    parsers[i].call(\n                      that,\n                      dataView,\n                      offset,\n                      markerLength,\n                      data,\n                      options\n                    )\n                  }\n                }\n                offset += markerLength\n                headLength = offset\n              } else {\n                // Not an APPn or COM marker, probably safe to\n                // assume that this is the end of the meta data\n                break\n              }\n            }\n            // Meta length must be longer than JPEG marker (2)\n            // plus APPn marker (2), followed by length bytes (2):\n            if (!options.disableImageHead && headLength > 6) {\n              if (buffer.slice) {\n                data.imageHead = buffer.slice(0, headLength)\n              } else {\n                // Workaround for IE10, which does not yet\n                // support ArrayBuffer.slice:\n                data.imageHead = new Uint8Array(buffer).subarray(0, headLength)\n              }\n            }\n          } else {\n            // eslint-disable-next-line no-console\n            console.log('Invalid JPEG file: Missing JPEG marker.')\n          }\n          callback(data)\n        },\n        'readAsArrayBuffer'\n      )\n    ) {\n      callback(data)\n    }\n  }\n\n  // Replaces the image head of a JPEG blob with the given one.\n  // Calls the callback with the new Blob:\n  loadImage.replaceHead = function (blob, head, callback) {\n    loadImage.parseMetaData(\n      blob,\n      function (data) {\n        callback(\n          new Blob(\n            [head, loadImage.blobSlice.call(blob, data.imageHead.byteLength)],\n            { type: 'image/jpeg' }\n          )\n        )\n      },\n      { maxMetaDataSize: 256, disableMetaDataParsers: true }\n    )\n  }\n\n  var originalTransform = loadImage.transform\n  loadImage.transform = function (img, options, callback, file, data) {\n    if (loadImage.hasMetaOption(options)) {\n      loadImage.parseMetaData(\n        file,\n        function (data) {\n          originalTransform.call(loadImage, img, options, callback, file, data)\n        },\n        options,\n        data\n      )\n    } else {\n      originalTransform.apply(loadImage, arguments)\n    }\n  }\n})\n","/*\n * JavaScript Load Image Orientation\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-scale', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(\n      require('./load-image'),\n      require('./load-image-scale'),\n      require('./load-image-meta')\n    )\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var originalHasCanvasOption = loadImage.hasCanvasOption\n  var originalHasMetaOption = loadImage.hasMetaOption\n  var originalTransformCoordinates = loadImage.transformCoordinates\n  var originalGetTransformedOptions = loadImage.getTransformedOptions\n\n  ;(function () {\n    // black 2x1 JPEG, with the following meta information set:\n    // - EXIF Orientation: 6 (Rotated 90 CCW)\n    var testImageURL =\n      'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n      'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n      'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n      'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\n      'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\n      'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=='\n    var img = document.createElement('img')\n    img.onload = function () {\n      // Check if browser supports automatic image orientation:\n      loadImage.orientation = img.width === 1 && img.height === 2\n    }\n    img.src = testImageURL\n  })()\n\n  // Determines if the target image should be a canvas element:\n  loadImage.hasCanvasOption = function (options) {\n    return (\n      (!!options.orientation === true && !loadImage.orientation) ||\n      (options.orientation > 1 && options.orientation < 9) ||\n      originalHasCanvasOption.call(loadImage, options)\n    )\n  }\n\n  // Determines if meta data should be loaded automatically:\n  loadImage.hasMetaOption = function (options) {\n    return (\n      (options && options.orientation === true && !loadImage.orientation) ||\n      originalHasMetaOption.call(loadImage, options)\n    )\n  }\n\n  // Transform image orientation based on\n  // the given EXIF orientation option:\n  loadImage.transformCoordinates = function (canvas, options) {\n    originalTransformCoordinates.call(loadImage, canvas, options)\n    var ctx = canvas.getContext('2d')\n    var width = canvas.width\n    var height = canvas.height\n    var styleWidth = canvas.style.width\n    var styleHeight = canvas.style.height\n    var orientation = options.orientation\n    if (!(orientation > 1 && orientation < 9)) {\n      return\n    }\n    if (orientation > 4) {\n      canvas.width = height\n      canvas.height = width\n      canvas.style.width = styleHeight\n      canvas.style.height = styleWidth\n    }\n    switch (orientation) {\n      case 2:\n        // horizontal flip\n        ctx.translate(width, 0)\n        ctx.scale(-1, 1)\n        break\n      case 3:\n        // 180 rotate left\n        ctx.translate(width, height)\n        ctx.rotate(Math.PI)\n        break\n      case 4:\n        // vertical flip\n        ctx.translate(0, height)\n        ctx.scale(1, -1)\n        break\n      case 5:\n        // vertical flip + 90 rotate right\n        ctx.rotate(0.5 * Math.PI)\n        ctx.scale(1, -1)\n        break\n      case 6:\n        // 90 rotate right\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(0, -height)\n        break\n      case 7:\n        // horizontal flip + 90 rotate right\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(width, -height)\n        ctx.scale(-1, 1)\n        break\n      case 8:\n        // 90 rotate left\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-width, 0)\n        break\n    }\n  }\n\n  // Transforms coordinate and dimension options\n  // based on the given orientation option:\n  loadImage.getTransformedOptions = function (img, opts, data) {\n    var options = originalGetTransformedOptions.call(loadImage, img, opts)\n    var orientation = options.orientation\n    var newOptions\n    var i\n    if (orientation === true) {\n      if (loadImage.orientation) {\n        // Browser supports automatic image orientation\n        return options\n      }\n      orientation = data && data.exif && data.exif.get('Orientation')\n    }\n    if (!(orientation > 1 && orientation < 9)) {\n      return options\n    }\n    newOptions = {}\n    for (i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i]\n      }\n    }\n    newOptions.orientation = orientation\n    switch (orientation) {\n      case 2:\n        // horizontal flip\n        newOptions.left = options.right\n        newOptions.right = options.left\n        break\n      case 3:\n        // 180 rotate left\n        newOptions.left = options.right\n        newOptions.top = options.bottom\n        newOptions.right = options.left\n        newOptions.bottom = options.top\n        break\n      case 4:\n        // vertical flip\n        newOptions.top = options.bottom\n        newOptions.bottom = options.top\n        break\n      case 5:\n        // vertical flip + 90 rotate right\n        newOptions.left = options.top\n        newOptions.top = options.left\n        newOptions.right = options.bottom\n        newOptions.bottom = options.right\n        break\n      case 6:\n        // 90 rotate right\n        newOptions.left = options.top\n        newOptions.top = options.right\n        newOptions.right = options.bottom\n        newOptions.bottom = options.left\n        break\n      case 7:\n        // horizontal flip + 90 rotate right\n        newOptions.left = options.bottom\n        newOptions.top = options.right\n        newOptions.right = options.top\n        newOptions.bottom = options.left\n        break\n      case 8:\n        // 90 rotate left\n        newOptions.left = options.bottom\n        newOptions.top = options.left\n        newOptions.right = options.top\n        newOptions.bottom = options.right\n        break\n    }\n    if (newOptions.orientation > 4) {\n      newOptions.maxWidth = options.maxHeight\n      newOptions.maxHeight = options.maxWidth\n      newOptions.minWidth = options.minHeight\n      newOptions.minHeight = options.minWidth\n      newOptions.sourceWidth = options.sourceHeight\n      newOptions.sourceHeight = options.sourceWidth\n    }\n    return newOptions\n  }\n})\n","/*\n * JavaScript Load Image Scaling\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var originalTransform = loadImage.transform\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    originalTransform.call(\n      loadImage,\n      loadImage.scale(img, options, data),\n      options,\n      callback,\n      file,\n      data\n    )\n  }\n\n  // Transform image coordinates, allows to override e.g.\n  // the canvas orientation based on the orientation option,\n  // gets canvas, options passed as arguments:\n  loadImage.transformCoordinates = function () {}\n\n  // Returns transformed options, allows to override e.g.\n  // maxWidth, maxHeight and crop options based on the aspectRatio.\n  // gets img, options passed as arguments:\n  loadImage.getTransformedOptions = function (img, options) {\n    var aspectRatio = options.aspectRatio\n    var newOptions\n    var i\n    var width\n    var height\n    if (!aspectRatio) {\n      return options\n    }\n    newOptions = {}\n    for (i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i]\n      }\n    }\n    newOptions.crop = true\n    width = img.naturalWidth || img.width\n    height = img.naturalHeight || img.height\n    if (width / height > aspectRatio) {\n      newOptions.maxWidth = height * aspectRatio\n      newOptions.maxHeight = height\n    } else {\n      newOptions.maxWidth = width\n      newOptions.maxHeight = width / aspectRatio\n    }\n    return newOptions\n  }\n\n  // Canvas render method, allows to implement a different rendering algorithm:\n  loadImage.renderImageToCanvas = function (\n    canvas,\n    img,\n    sourceX,\n    sourceY,\n    sourceWidth,\n    sourceHeight,\n    destX,\n    destY,\n    destWidth,\n    destHeight,\n    options\n  ) {\n    var ctx = canvas.getContext('2d')\n    if (options.imageSmoothingEnabled === false) {\n      ctx.imageSmoothingEnabled = false\n    } else if (options.imageSmoothingQuality) {\n      ctx.imageSmoothingQuality = options.imageSmoothingQuality\n    }\n    ctx.drawImage(\n      img,\n      sourceX,\n      sourceY,\n      sourceWidth,\n      sourceHeight,\n      destX,\n      destY,\n      destWidth,\n      destHeight\n    )\n    return canvas\n  }\n\n  // Determines if the target image should be a canvas element:\n  loadImage.hasCanvasOption = function (options) {\n    return options.canvas || options.crop || !!options.aspectRatio\n  }\n\n  // Scales and/or crops the given image (img or canvas HTML element)\n  // using the given options.\n  // Returns a canvas object if the browser supports canvas\n  // and the hasCanvasOption method returns true or a canvas\n  // object is passed as image, else the scaled image:\n  loadImage.scale = function (img, options, data) {\n    // eslint-disable-next-line no-param-reassign\n    options = options || {}\n    var canvas = document.createElement('canvas')\n    var useCanvas =\n      img.getContext ||\n      (loadImage.hasCanvasOption(options) && canvas.getContext)\n    var width = img.naturalWidth || img.width\n    var height = img.naturalHeight || img.height\n    var destWidth = width\n    var destHeight = height\n    var maxWidth\n    var maxHeight\n    var minWidth\n    var minHeight\n    var sourceWidth\n    var sourceHeight\n    var sourceX\n    var sourceY\n    var pixelRatio\n    var downsamplingRatio\n    var tmp\n    /**\n     * Scales up image dimensions\n     */\n    function scaleUp() {\n      var scale = Math.max(\n        (minWidth || destWidth) / destWidth,\n        (minHeight || destHeight) / destHeight\n      )\n      if (scale > 1) {\n        destWidth *= scale\n        destHeight *= scale\n      }\n    }\n    /**\n     * Scales down image dimensions\n     */\n    function scaleDown() {\n      var scale = Math.min(\n        (maxWidth || destWidth) / destWidth,\n        (maxHeight || destHeight) / destHeight\n      )\n      if (scale < 1) {\n        destWidth *= scale\n        destHeight *= scale\n      }\n    }\n    if (useCanvas) {\n      // eslint-disable-next-line no-param-reassign\n      options = loadImage.getTransformedOptions(img, options, data)\n      sourceX = options.left || 0\n      sourceY = options.top || 0\n      if (options.sourceWidth) {\n        sourceWidth = options.sourceWidth\n        if (options.right !== undefined && options.left === undefined) {\n          sourceX = width - sourceWidth - options.right\n        }\n      } else {\n        sourceWidth = width - sourceX - (options.right || 0)\n      }\n      if (options.sourceHeight) {\n        sourceHeight = options.sourceHeight\n        if (options.bottom !== undefined && options.top === undefined) {\n          sourceY = height - sourceHeight - options.bottom\n        }\n      } else {\n        sourceHeight = height - sourceY - (options.bottom || 0)\n      }\n      destWidth = sourceWidth\n      destHeight = sourceHeight\n    }\n    maxWidth = options.maxWidth\n    maxHeight = options.maxHeight\n    minWidth = options.minWidth\n    minHeight = options.minHeight\n    if (useCanvas && maxWidth && maxHeight && options.crop) {\n      destWidth = maxWidth\n      destHeight = maxHeight\n      tmp = sourceWidth / sourceHeight - maxWidth / maxHeight\n      if (tmp < 0) {\n        sourceHeight = (maxHeight * sourceWidth) / maxWidth\n        if (options.top === undefined && options.bottom === undefined) {\n          sourceY = (height - sourceHeight) / 2\n        }\n      } else if (tmp > 0) {\n        sourceWidth = (maxWidth * sourceHeight) / maxHeight\n        if (options.left === undefined && options.right === undefined) {\n          sourceX = (width - sourceWidth) / 2\n        }\n      }\n    } else {\n      if (options.contain || options.cover) {\n        minWidth = maxWidth = maxWidth || minWidth\n        minHeight = maxHeight = maxHeight || minHeight\n      }\n      if (options.cover) {\n        scaleDown()\n        scaleUp()\n      } else {\n        scaleUp()\n        scaleDown()\n      }\n    }\n    if (useCanvas) {\n      pixelRatio = options.pixelRatio\n      if (pixelRatio > 1) {\n        canvas.style.width = destWidth + 'px'\n        canvas.style.height = destHeight + 'px'\n        destWidth *= pixelRatio\n        destHeight *= pixelRatio\n        canvas.getContext('2d').scale(pixelRatio, pixelRatio)\n      }\n      downsamplingRatio = options.downsamplingRatio\n      if (\n        downsamplingRatio > 0 &&\n        downsamplingRatio < 1 &&\n        destWidth < sourceWidth &&\n        destHeight < sourceHeight\n      ) {\n        while (sourceWidth * downsamplingRatio > destWidth) {\n          canvas.width = sourceWidth * downsamplingRatio\n          canvas.height = sourceHeight * downsamplingRatio\n          loadImage.renderImageToCanvas(\n            canvas,\n            img,\n            sourceX,\n            sourceY,\n            sourceWidth,\n            sourceHeight,\n            0,\n            0,\n            canvas.width,\n            canvas.height,\n            options\n          )\n          sourceX = 0\n          sourceY = 0\n          sourceWidth = canvas.width\n          sourceHeight = canvas.height\n          // eslint-disable-next-line no-param-reassign\n          img = document.createElement('canvas')\n          img.width = sourceWidth\n          img.height = sourceHeight\n          loadImage.renderImageToCanvas(\n            img,\n            canvas,\n            0,\n            0,\n            sourceWidth,\n            sourceHeight,\n            0,\n            0,\n            sourceWidth,\n            sourceHeight,\n            options\n          )\n        }\n      }\n      canvas.width = destWidth\n      canvas.height = destHeight\n      loadImage.transformCoordinates(canvas, options)\n      return loadImage.renderImageToCanvas(\n        canvas,\n        img,\n        sourceX,\n        sourceY,\n        sourceWidth,\n        sourceHeight,\n        0,\n        0,\n        destWidth,\n        destHeight,\n        options\n      )\n    }\n    img.width = destWidth\n    img.height = destHeight\n    return img\n  }\n})\n","/*\n * JavaScript Load Image\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, webkitURL, module */\n\n;(function ($) {\n  'use strict'\n\n  /**\n   * Loads an image for a given File object.\n   * Invokes the callback with an img or optional canvas element\n   * (if supported by the browser) as parameter:.\n   *\n   * @param {File|Blob|string} file File or Blob object or image URL\n   * @param {Function} [callback] Image load event callback\n   * @param {object} [options] Options object\n   * @returns {HTMLImageElement|HTMLCanvasElement|FileReader} image object\n   */\n  function loadImage(file, callback, options) {\n    var img = document.createElement('img')\n    var url\n    /**\n     * Callback for the fetchBlob call.\n     *\n     * @param {Blob} blob Blob object\n     * @param {Error} err Error object\n     */\n    function fetchBlobCallback(blob, err) {\n      if (err) console.log(err) // eslint-disable-line no-console\n      if (blob && loadImage.isInstanceOf('Blob', blob)) {\n        // eslint-disable-next-line no-param-reassign\n        file = blob\n        url = loadImage.createObjectURL(file)\n      } else {\n        url = file\n        if (options && options.crossOrigin) {\n          img.crossOrigin = options.crossOrigin\n        }\n      }\n      img.src = url\n    }\n    img.onerror = function (event) {\n      return loadImage.onerror(img, event, file, url, callback, options)\n    }\n    img.onload = function (event) {\n      return loadImage.onload(img, event, file, url, callback, options)\n    }\n    if (typeof file === 'string') {\n      if (loadImage.hasMetaOption(options)) {\n        loadImage.fetchBlob(file, fetchBlobCallback, options)\n      } else {\n        fetchBlobCallback()\n      }\n      return img\n    } else if (\n      loadImage.isInstanceOf('Blob', file) ||\n      // Files are also Blob instances, but some browsers\n      // (Firefox 3.6) support the File API but not Blobs:\n      loadImage.isInstanceOf('File', file)\n    ) {\n      url = loadImage.createObjectURL(file)\n      if (url) {\n        img.src = url\n        return img\n      }\n      return loadImage.readFile(file, function (e) {\n        var target = e.target\n        if (target && target.result) {\n          img.src = target.result\n        } else if (callback) {\n          callback(e)\n        }\n      })\n    }\n  }\n  // The check for URL.revokeObjectURL fixes an issue with Opera 12,\n  // which provides URL.createObjectURL but doesn't properly implement it:\n  var urlAPI =\n    ($.createObjectURL && $) ||\n    ($.URL && URL.revokeObjectURL && URL) ||\n    ($.webkitURL && webkitURL)\n\n  /**\n   * Helper function to revoke an object URL\n   *\n   * @param {string} url Blob Object URL\n   * @param {object} [options] Options object\n   */\n  function revokeHelper(url, options) {\n    if (url && url.slice(0, 5) === 'blob:' && !(options && options.noRevoke)) {\n      loadImage.revokeObjectURL(url)\n    }\n  }\n\n  // Determines if meta data should be loaded automatically.\n  // Requires the load image meta extension to load meta data.\n  loadImage.hasMetaOption = function (options) {\n    return options && options.meta\n  }\n\n  // If the callback given to this function returns a blob, it is used as image\n  // source instead of the original url and overrides the file argument used in\n  // the onload and onerror event callbacks:\n  loadImage.fetchBlob = function (url, callback) {\n    callback()\n  }\n\n  loadImage.isInstanceOf = function (type, obj) {\n    // Cross-frame instanceof check\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']'\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    callback(img, data)\n  }\n\n  loadImage.onerror = function (img, event, file, url, callback, options) {\n    revokeHelper(url, options)\n    if (callback) {\n      callback.call(img, event)\n    }\n  }\n\n  loadImage.onload = function (img, event, file, url, callback, options) {\n    revokeHelper(url, options)\n    if (callback) {\n      loadImage.transform(img, options, callback, file, {\n        originalWidth: img.naturalWidth || img.width,\n        originalHeight: img.naturalHeight || img.height\n      })\n    }\n  }\n\n  loadImage.createObjectURL = function (file) {\n    return urlAPI ? urlAPI.createObjectURL(file) : false\n  }\n\n  loadImage.revokeObjectURL = function (url) {\n    return urlAPI ? urlAPI.revokeObjectURL(url) : false\n  }\n\n  // Loads a given File object via FileReader interface,\n  // invokes the callback with the event object (load or error).\n  // The result can be read via event.target.result:\n  loadImage.readFile = function (file, callback, method) {\n    if ($.FileReader) {\n      var fileReader = new FileReader()\n      fileReader.onload = fileReader.onerror = callback\n      // eslint-disable-next-line no-param-reassign\n      method = method || 'readAsDataURL'\n      if (fileReader[method]) {\n        fileReader[method](file)\n        return fileReader\n      }\n    }\n    return false\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return loadImage\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = loadImage\n  } else {\n    $.loadImage = loadImage\n  }\n})((typeof window !== 'undefined' && window) || this)\n","// https://github.com/electron/electron/issues/2288\nfunction isElectron() {\n    // Renderer process\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\n        return true;\n    }\n\n    // Main process\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\n        return true;\n    }\n\n    // Detect the user agent when the `nodeIntegration` option is set to false\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\n        return true;\n    }\n\n    return false;\n}\n\nmodule.exports = isElectron;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// Copyright 2014 Simon Lydell\r\n// X11 (MIT) Licensed. (See LICENSE.)\r\n\r\nvoid (function(root, factory) {\r\n  if (typeof define === \"function\" && define.amd) {\r\n    define(factory)\r\n  } else if (typeof exports === \"object\") {\r\n    module.exports = factory()\r\n  } else {\r\n    root.resolveUrl = factory()\r\n  }\r\n}(this, function() {\r\n\r\n  function resolveUrl(/* ...urls */) {\r\n    var numUrls = arguments.length\r\n\r\n    if (numUrls === 0) {\r\n      throw new Error(\"resolveUrl requires at least one argument; got none.\")\r\n    }\r\n\r\n    var base = document.createElement(\"base\")\r\n    base.href = arguments[0]\r\n\r\n    if (numUrls === 1) {\r\n      return base.href\r\n    }\r\n\r\n    var head = document.getElementsByTagName(\"head\")[0]\r\n    head.insertBefore(base, head.firstChild)\r\n\r\n    var a = document.createElement(\"a\")\r\n    var resolved\r\n\r\n    for (var index = 1; index < numUrls; index++) {\r\n      a.href = arguments[index]\r\n      resolved = a.href\r\n      base.href = resolved\r\n    }\r\n\r\n    head.removeChild(base)\r\n\r\n    return resolved\r\n  }\r\n\r\n  return resolveUrl\r\n\r\n}));\r\n","const createWorker = require('./createWorker');\n\nconst recognize = async (image, langs, options) => {\n  const worker = createWorker(options);\n  await worker.load();\n  await worker.loadLanguage(langs);\n  await worker.initialize(langs);\n  return worker.recognize(image)\n    .finally(async () => {\n      await worker.terminate();\n    });\n};\n\nconst detect = async (image, options) => {\n  const worker = createWorker(options);\n  await worker.load();\n  await worker.loadLanguage('osd');\n  await worker.initialize('osd');\n  return worker.detect(image)\n    .finally(async () => {\n      await worker.terminate();\n    });\n};\n\nmodule.exports = {\n  recognize,\n  detect,\n};\n","/*\n * OEM = OCR Engine Mode, and there are 4 possible modes.\n *\n * By default tesseract.js uses LSTM_ONLY mode.\n *\n */\nmodule.exports = {\n  TESSERACT_ONLY: 0,\n  LSTM_ONLY: 1,\n  TESSERACT_LSTM_COMBINED: 2,\n  DEFAULT: 3,\n};\n","/*\n * PSM = Page Segmentation Mode\n */\nmodule.exports = {\n  OSD_ONLY: '0',\n  AUTO_OSD: '1',\n  AUTO_ONLY: '2',\n  AUTO: '3',\n  SINGLE_COLUMN: '4',\n  SINGLE_BLOCK_VERT_TEXT: '5',\n  SINGLE_BLOCK: '6',\n  SINGLE_LINE: '7',\n  SINGLE_WORD: '8',\n  CIRCLE_WORD: '9',\n  SINGLE_CHAR: '10',\n  SPARSE_TEXT: '11',\n  SPARSE_TEXT_OSD: '12',\n};\n","const OEM = require('./OEM');\n\nmodule.exports = {\n  defaultOEM: OEM.DEFAULT,\n};\n","module.exports = {\n  /*\n   * default path for downloading *.traineddata\n   */\n  langPath: 'https://tessdata.projectnaptha.com/4.0.0',\n  /*\n   * Use BlobURL for worker script by default\n   * TODO: remove this option\n   *\n   */\n  workerBlobURL: true,\n  logger: () => {},\n};\n","/*\n * languages with existing tesseract traineddata\n * https://tesseract-ocr.github.io/tessdoc/Data-Files#data-files-for-version-400-november-29-2016\n */\n\n/**\n * @typedef {object} Languages\n * @property {string} AFR Afrikaans\n * @property {string} AMH Amharic\n * @property {string} ARA Arabic\n * @property {string} ASM Assamese\n * @property {string} AZE Azerbaijani\n * @property {string} AZE_CYRL Azerbaijani - Cyrillic\n * @property {string} BEL Belarusian\n * @property {string} BEN Bengali\n * @property {string} BOD Tibetan\n * @property {string} BOS Bosnian\n * @property {string} BUL Bulgarian\n * @property {string} CAT Catalan; Valencian\n * @property {string} CEB Cebuano\n * @property {string} CES Czech\n * @property {string} CHI_SIM Chinese - Simplified\n * @property {string} CHI_TRA Chinese - Traditional\n * @property {string} CHR Cherokee\n * @property {string} CYM Welsh\n * @property {string} DAN Danish\n * @property {string} DEU German\n * @property {string} DZO Dzongkha\n * @property {string} ELL Greek, Modern (1453-)\n * @property {string} ENG English\n * @property {string} ENM English, Middle (1100-1500)\n * @property {string} EPO Esperanto\n * @property {string} EST Estonian\n * @property {string} EUS Basque\n * @property {string} FAS Persian\n * @property {string} FIN Finnish\n * @property {string} FRA French\n * @property {string} FRK German Fraktur\n * @property {string} FRM French, Middle (ca. 1400-1600)\n * @property {string} GLE Irish\n * @property {string} GLG Galician\n * @property {string} GRC Greek, Ancient (-1453)\n * @property {string} GUJ Gujarati\n * @property {string} HAT Haitian; Haitian Creole\n * @property {string} HEB Hebrew\n * @property {string} HIN Hindi\n * @property {string} HRV Croatian\n * @property {string} HUN Hungarian\n * @property {string} IKU Inuktitut\n * @property {string} IND Indonesian\n * @property {string} ISL Icelandic\n * @property {string} ITA Italian\n * @property {string} ITA_OLD Italian - Old\n * @property {string} JAV Javanese\n * @property {string} JPN Japanese\n * @property {string} KAN Kannada\n * @property {string} KAT Georgian\n * @property {string} KAT_OLD Georgian - Old\n * @property {string} KAZ Kazakh\n * @property {string} KHM Central Khmer\n * @property {string} KIR Kirghiz; Kyrgyz\n * @property {string} KOR Korean\n * @property {string} KUR Kurdish\n * @property {string} LAO Lao\n * @property {string} LAT Latin\n * @property {string} LAV Latvian\n * @property {string} LIT Lithuanian\n * @property {string} MAL Malayalam\n * @property {string} MAR Marathi\n * @property {string} MKD Macedonian\n * @property {string} MLT Maltese\n * @property {string} MSA Malay\n * @property {string} MYA Burmese\n * @property {string} NEP Nepali\n * @property {string} NLD Dutch; Flemish\n * @property {string} NOR Norwegian\n * @property {string} ORI Oriya\n * @property {string} PAN Panjabi; Punjabi\n * @property {string} POL Polish\n * @property {string} POR Portuguese\n * @property {string} PUS Pushto; Pashto\n * @property {string} RON Romanian; Moldavian; Moldovan\n * @property {string} RUS Russian\n * @property {string} SAN Sanskrit\n * @property {string} SIN Sinhala; Sinhalese\n * @property {string} SLK Slovak\n * @property {string} SLV Slovenian\n * @property {string} SPA Spanish; Castilian\n * @property {string} SPA_OLD Spanish; Castilian - Old\n * @property {string} SQI Albanian\n * @property {string} SRP Serbian\n * @property {string} SRP_LATN Serbian - Latin\n * @property {string} SWA Swahili\n * @property {string} SWE Swedish\n * @property {string} SYR Syriac\n * @property {string} TAM Tamil\n * @property {string} TEL Telugu\n * @property {string} TGK Tajik\n * @property {string} TGL Tagalog\n * @property {string} THA Thai\n * @property {string} TIR Tigrinya\n * @property {string} TUR Turkish\n * @property {string} UIG Uighur; Uyghur\n * @property {string} UKR Ukrainian\n * @property {string} URD Urdu\n * @property {string} UZB Uzbek\n * @property {string} UZB_CYRL Uzbek - Cyrillic\n * @property {string} VIE Vietnamese\n * @property {string} YID Yiddish\n */\n\n/**\n  * @type {Languages}\n  */\nmodule.exports = {\n  AFR: 'afr',\n  AMH: 'amh',\n  ARA: 'ara',\n  ASM: 'asm',\n  AZE: 'aze',\n  AZE_CYRL: 'aze_cyrl',\n  BEL: 'bel',\n  BEN: 'ben',\n  BOD: 'bod',\n  BOS: 'bos',\n  BUL: 'bul',\n  CAT: 'cat',\n  CEB: 'ceb',\n  CES: 'ces',\n  CHI_SIM: 'chi_sim',\n  CHI_TRA: 'chi_tra',\n  CHR: 'chr',\n  CYM: 'cym',\n  DAN: 'dan',\n  DEU: 'deu',\n  DZO: 'dzo',\n  ELL: 'ell',\n  ENG: 'eng',\n  ENM: 'enm',\n  EPO: 'epo',\n  EST: 'est',\n  EUS: 'eus',\n  FAS: 'fas',\n  FIN: 'fin',\n  FRA: 'fra',\n  FRK: 'frk',\n  FRM: 'frm',\n  GLE: 'gle',\n  GLG: 'glg',\n  GRC: 'grc',\n  GUJ: 'guj',\n  HAT: 'hat',\n  HEB: 'heb',\n  HIN: 'hin',\n  HRV: 'hrv',\n  HUN: 'hun',\n  IKU: 'iku',\n  IND: 'ind',\n  ISL: 'isl',\n  ITA: 'ita',\n  ITA_OLD: 'ita_old',\n  JAV: 'jav',\n  JPN: 'jpn',\n  KAN: 'kan',\n  KAT: 'kat',\n  KAT_OLD: 'kat_old',\n  KAZ: 'kaz',\n  KHM: 'khm',\n  KIR: 'kir',\n  KOR: 'kor',\n  KUR: 'kur',\n  LAO: 'lao',\n  LAT: 'lat',\n  LAV: 'lav',\n  LIT: 'lit',\n  MAL: 'mal',\n  MAR: 'mar',\n  MKD: 'mkd',\n  MLT: 'mlt',\n  MSA: 'msa',\n  MYA: 'mya',\n  NEP: 'nep',\n  NLD: 'nld',\n  NOR: 'nor',\n  ORI: 'ori',\n  PAN: 'pan',\n  POL: 'pol',\n  POR: 'por',\n  PUS: 'pus',\n  RON: 'ron',\n  RUS: 'rus',\n  SAN: 'san',\n  SIN: 'sin',\n  SLK: 'slk',\n  SLV: 'slv',\n  SPA: 'spa',\n  SPA_OLD: 'spa_old',\n  SQI: 'sqi',\n  SRP: 'srp',\n  SRP_LATN: 'srp_latn',\n  SWA: 'swa',\n  SWE: 'swe',\n  SYR: 'syr',\n  TAM: 'tam',\n  TEL: 'tel',\n  TGK: 'tgk',\n  TGL: 'tgl',\n  THA: 'tha',\n  TIR: 'tir',\n  TUR: 'tur',\n  UIG: 'uig',\n  UKR: 'ukr',\n  URD: 'urd',\n  UZB: 'uzb',\n  UZB_CYRL: 'uzb_cyrl',\n  VIE: 'vie',\n  YID: 'yid',\n};\n","const getId = require('./utils/getId');\n\nlet jobCounter = 0;\n\nmodule.exports = ({\n  id: _id,\n  action,\n  payload = {},\n}) => {\n  let id = _id;\n  if (typeof id === 'undefined') {\n    id = getId('Job', jobCounter);\n    jobCounter += 1;\n  }\n\n  return {\n    id,\n    action,\n    payload,\n  };\n};\n","const createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\n\nlet schedulerCounter = 0;\n\nmodule.exports = () => {\n  const id = getId('Scheduler', schedulerCounter);\n  const workers = {};\n  const runningWorkers = {};\n  let jobQueue = [];\n\n  schedulerCounter += 1;\n\n  const getQueueLen = () => jobQueue.length;\n  const getNumWorkers = () => Object.keys(workers).length;\n\n  const dequeue = () => {\n    if (jobQueue.length !== 0) {\n      const wIds = Object.keys(workers);\n      for (let i = 0; i < wIds.length; i += 1) {\n        if (typeof runningWorkers[wIds[i]] === 'undefined') {\n          jobQueue[0](workers[wIds[i]]);\n          break;\n        }\n      }\n    }\n  };\n\n  const queue = (action, payload) => (\n    new Promise((resolve, reject) => {\n      const job = createJob({ action, payload });\n      jobQueue.push(async (w) => {\n        jobQueue.shift();\n        runningWorkers[w.id] = job;\n        try {\n          resolve(await w[action].apply(this, [...payload, job.id]));\n        } catch (err) {\n          reject(err);\n        } finally {\n          delete runningWorkers[w.id];\n          dequeue();\n        }\n      });\n      log(`[${id}]: Add ${job.id} to JobQueue`);\n      log(`[${id}]: JobQueue length=${jobQueue.length}`);\n      dequeue();\n    })\n  );\n\n  const addWorker = (w) => {\n    workers[w.id] = w;\n    log(`[${id}]: Add ${w.id}`);\n    log(`[${id}]: Number of workers=${getNumWorkers()}`);\n    dequeue();\n    return w.id;\n  };\n\n  const addJob = async (action, ...payload) => {\n    if (getNumWorkers() === 0) {\n      throw Error(`[${id}]: You need to have at least one worker before adding jobs`);\n    }\n    return queue(action, payload);\n  };\n\n  const terminate = async () => {\n    Object.keys(workers).forEach(async (wid) => {\n      await workers[wid].terminate();\n    });\n    jobQueue = [];\n  };\n\n  return {\n    addWorker,\n    addJob,\n    terminate,\n    getQueueLen,\n    getNumWorkers,\n  };\n};\n","const resolvePaths = require('./utils/resolvePaths');\nconst circularize = require('./utils/circularize');\nconst createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\nconst { defaultOEM } = require('./constants/config');\nconst {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  loadImage,\n  send,\n} = require('./worker/node');\n\nlet workerCounter = 0;\n\nmodule.exports = (_options = {}) => {\n  const id = getId('Worker', workerCounter);\n  const {\n    logger,\n    errorHandler,\n    ...options\n  } = resolvePaths({\n    ...defaultOptions,\n    ..._options,\n  });\n  const resolves = {};\n  const rejects = {};\n  let worker = spawnWorker(options);\n\n  workerCounter += 1;\n\n  const setResolve = (action, res) => {\n    resolves[action] = res;\n  };\n\n  const setReject = (action, rej) => {\n    rejects[action] = rej;\n  };\n\n  const startJob = ({ id: jobId, action, payload }) => (\n    new Promise((resolve, reject) => {\n      log(`[${id}]: Start ${jobId}, action=${action}`);\n      setResolve(action, resolve);\n      setReject(action, reject);\n      send(worker, {\n        workerId: id,\n        jobId,\n        action,\n        payload,\n      });\n    })\n  );\n\n  const load = (jobId) => (\n    startJob(createJob({\n      id: jobId, action: 'load', payload: { options },\n    }))\n  );\n\n  const writeText = (path, text, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'writeFile', args: [path, text] },\n    }))\n  );\n\n  const readText = (path, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'readFile', args: [path, { encoding: 'utf8' }] },\n    }))\n  );\n\n  const removeFile = (path, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'unlink', args: [path] },\n    }))\n  );\n\n  const FS = (method, args, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method, args },\n    }))\n  );\n\n  const loadLanguage = (langs = 'eng', jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'loadLanguage',\n      payload: { langs, options },\n    }))\n  );\n\n  const initialize = (langs = 'eng', oem = defaultOEM, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'initialize',\n      payload: { langs, oem },\n    }))\n  );\n\n  const setParameters = (params = {}, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'setParameters',\n      payload: { params },\n    }))\n  );\n\n  const recognize = async (image, opts = {}, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'recognize',\n      payload: { image: await loadImage(image), options: opts },\n    }))\n  );\n\n  const getPDF = (title = 'Tesseract OCR Result', textonly = false, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'getPDF',\n      payload: { title, textonly },\n    }))\n  );\n\n  const detect = async (image, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'detect',\n      payload: { image: await loadImage(image) },\n    }))\n  );\n\n  const terminate = async () => {\n    if (worker !== null) {\n      /*\n      await startJob(createJob({\n        id: jobId,\n        action: 'terminate',\n      }));\n      */\n      terminateWorker(worker);\n      worker = null;\n    }\n    return Promise.resolve();\n  };\n\n  onMessage(worker, ({\n    workerId, jobId, status, action, data,\n  }) => {\n    if (status === 'resolve') {\n      log(`[${workerId}]: Complete ${jobId}`);\n      let d = data;\n      if (action === 'recognize') {\n        d = circularize(data);\n      } else if (action === 'getPDF') {\n        d = Array.from({ ...data, length: Object.keys(data).length });\n      }\n      resolves[action]({ jobId, data: d });\n    } else if (status === 'reject') {\n      rejects[action](data);\n      if (errorHandler) {\n        errorHandler(data);\n      } else {\n        throw Error(data);\n      }\n    } else if (status === 'progress') {\n      logger({ ...data, userJobId: jobId });\n    }\n  });\n\n  return {\n    id,\n    worker,\n    setResolve,\n    setReject,\n    load,\n    writeText,\n    readText,\n    removeFile,\n    FS,\n    loadLanguage,\n    initialize,\n    setParameters,\n    recognize,\n    getPDF,\n    detect,\n    terminate,\n  };\n};\n","/**\n *\n * Entry point for tesseract.js, should be the entry when bundling.\n *\n * @fileoverview entry point for tesseract.js\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\nrequire('regenerator-runtime/runtime');\nconst createScheduler = require('./createScheduler');\nconst createWorker = require('./createWorker');\nconst Tesseract = require('./Tesseract');\nconst languages = require('./constants/languages');\nconst OEM = require('./constants/OEM');\nconst PSM = require('./constants/PSM');\nconst { setLogging } = require('./utils/log');\n\nmodule.exports = {\n  languages,\n  OEM,\n  PSM,\n  createScheduler,\n  createWorker,\n  setLogging,\n  ...Tesseract,\n};\n","/**\n * In the recognition result of tesseract, there\n * is a deep JSON object for details, it has around\n *\n * The result of dump.js is a big JSON tree\n * which can be easily serialized (for instance\n * to be sent from a webworker to the main app\n * or through Node's IPC), but we want\n * a (circular) DOM-like interface for walking\n * through the data.\n *\n * @fileoverview DOM-like interface for walking through data\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\n\nmodule.exports = (page) => {\n  const blocks = [];\n  const paragraphs = [];\n  const lines = [];\n  const words = [];\n  const symbols = [];\n\n  page.blocks.forEach((block) => {\n    block.paragraphs.forEach((paragraph) => {\n      paragraph.lines.forEach((line) => {\n        line.words.forEach((word) => {\n          word.symbols.forEach((sym) => {\n            symbols.push({\n              ...sym, page, block, paragraph, line, word,\n            });\n          });\n          words.push({\n            ...word, page, block, paragraph, line,\n          });\n        });\n        lines.push({\n          ...line, page, block, paragraph,\n        });\n      });\n      paragraphs.push({\n        ...paragraph, page, block,\n      });\n    });\n    blocks.push({\n      ...block, page,\n    });\n  });\n\n  return {\n    ...page, blocks, paragraphs, lines, words, symbols,\n  };\n};\n","const isElectron = require('is-electron');\n\nmodule.exports = (key) => {\n  const env = {};\n\n  if (typeof WorkerGlobalScope !== 'undefined') {\n    env.type = 'webworker';\n  } else if (isElectron()) {\n    env.type = 'electron';\n  } else if (typeof window === 'object') {\n    env.type = 'browser';\n  } else if (typeof process === 'object' && typeof require === 'function') {\n    env.type = 'node';\n  }\n\n  if (typeof key === 'undefined') {\n    return env;\n  }\n\n  return env[key];\n};\n","module.exports = (prefix, cnt) => (\n  `${prefix}-${cnt}-${Math.random().toString(16).slice(3, 8)}`\n);\n","let logging = false;\n\nexports.logging = logging;\n\nexports.setLogging = (_logging) => {\n  logging = _logging;\n};\n\nexports.log = (...args) => (logging ? console.log.apply(this, args) : null);\n","const isBrowser = require('./getEnvironment')('type') === 'browser';\nconst resolveURL = isBrowser ? require('resolve-url') : s => s; // eslint-disable-line\n\nmodule.exports = (options) => {\n  const opts = { ...options };\n  ['corePath', 'workerPath', 'langPath'].forEach((key) => {\n    if (typeof options[key] !== 'undefined') {\n      opts[key] = resolveURL(opts[key]);\n    }\n  });\n  return opts;\n};\n","const resolveURL = require('resolve-url');\nconst { version, dependencies } = require('../../../package.json');\nconst defaultOptions = require('../../constants/defaultOptions');\n\n/*\n * Default options for browser worker\n */\nmodule.exports = {\n  ...defaultOptions,\n  workerPath: (typeof process !== 'undefined' && process.env.TESS_ENV === 'development')\n    ? resolveURL(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`)\n    : `https://unpkg.com/tesseract.js@v${version}/dist/worker.min.js`,\n  /*\n   * If browser doesn't support WebAssembly,\n   * load ASM version instead\n   */\n  corePath: `https://unpkg.com/tesseract.js-core@v${dependencies['tesseract.js-core'].substring(1)}/tesseract-core.${typeof WebAssembly === 'object' ? 'wasm' : 'asm'}.js`,\n};\n","/**\n *\n * Tesseract Worker adapter for browser\n *\n * @fileoverview Tesseract Worker adapter for browser\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\nconst defaultOptions = require('./defaultOptions');\nconst spawnWorker = require('./spawnWorker');\nconst terminateWorker = require('./terminateWorker');\nconst onMessage = require('./onMessage');\nconst send = require('./send');\nconst loadImage = require('./loadImage');\n\nmodule.exports = {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  send,\n  loadImage,\n};\n","const resolveURL = require('resolve-url');\nconst blueimpLoadImage = require('blueimp-load-image');\n\n/**\n * readFromBlobOrFile\n *\n * @name readFromBlobOrFile\n * @function\n * @access private\n */\nconst readFromBlobOrFile = (blob) => (\n  new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n    fileReader.onload = () => {\n      resolve(fileReader.result);\n    };\n    fileReader.onerror = ({ target: { error: { code } } }) => {\n      reject(Error(`File could not be read! Code=${code}`));\n    };\n    fileReader.readAsArrayBuffer(blob);\n  })\n);\n\nconst fixOrientationFromUrlOrBlobOrFile = (blob) => (\n  new Promise((resolve) => {\n    blueimpLoadImage(\n      blob,\n      (img) => img.toBlob(resolve),\n      {\n        orientation: true,\n        canvas: true,\n      },\n    );\n  })\n);\n\n/**\n * loadImage\n *\n * @name loadImage\n * @function load image from different source\n * @access private\n */\nconst loadImage = async (image) => {\n  let data = image;\n  if (typeof image === 'undefined') {\n    return 'undefined';\n  }\n\n  if (typeof image === 'string') {\n    if (image.endsWith('.pbm')) {\n      const resp = await fetch(resolveURL(image));\n      data = await resp.arrayBuffer();\n    } else {\n      let img = image;\n      // If not Base64 Image\n      if (!/data:image\\/([a-zA-Z]*);base64,([^\"]*)/.test(image)) {\n        img = resolveURL(image);\n      }\n      data = await readFromBlobOrFile(\n        await fixOrientationFromUrlOrBlobOrFile(img),\n      );\n    }\n  } else if (image instanceof HTMLElement) {\n    if (image.tagName === 'IMG') {\n      data = await loadImage(image.src);\n    }\n    if (image.tagName === 'VIDEO') {\n      data = await loadImage(image.poster);\n    }\n    if (image.tagName === 'CANVAS') {\n      await new Promise((resolve) => {\n        image.toBlob(async (blob) => {\n          data = await readFromBlobOrFile(blob);\n          resolve();\n        });\n      });\n    }\n  } else if (image instanceof File || image instanceof Blob) {\n    let img = image;\n    if (!image.name.endsWith('.pbm')) {\n      img = await fixOrientationFromUrlOrBlobOrFile(img);\n    }\n    data = await readFromBlobOrFile(img);\n  }\n\n  return new Uint8Array(data);\n};\n\nmodule.exports = loadImage;\n","module.exports = (worker, handler) => {\n  worker.onmessage = ({ data }) => { // eslint-disable-line\n    handler(data);\n  };\n};\n","/**\n * send\n *\n * @name send\n * @function send packet to worker and create a job\n * @access public\n */\nmodule.exports = async (worker, packet) => {\n  worker.postMessage(packet);\n};\n","/**\n * spawnWorker\n *\n * @name spawnWorker\n * @function create a new Worker in browser\n * @access public\n */\nmodule.exports = ({ workerPath, workerBlobURL }) => {\n  let worker;\n  if (Blob && URL && workerBlobURL) {\n    const blob = new Blob([`importScripts(\"${workerPath}\");`], {\n      type: 'application/javascript',\n    });\n    worker = new Worker(URL.createObjectURL(blob));\n  } else {\n    worker = new Worker(workerPath);\n  }\n\n  return worker;\n};\n","/**\n * terminateWorker\n *\n * @name terminateWorker\n * @function terminate worker\n * @access public\n */\nmodule.exports = (worker) => {\n  worker.terminate();\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["module","exports","require","factory","define","amd","window","loadImage","ExifMapProto","ExifMap","prototype","tags","stringValues","ExposureProgram","MeteringMode","LightSource","Flash","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","ComponentsConfiguration","Orientation","getText","name","value","get","String","fromCharCode","getAll","map","prop","obj","Object","hasOwnProperty","call","privateIFDs","getName","tagCode","privateIFD","subTags","Number","defineProperty","Thumbnail","Exif","GPSInfo","Interoperability","id","getExifThumbnail","dataView","offset","length","byteLength","console","log","Blob","buffer","slice","type","ExifTagTypes","getValue","dataOffset","getUint8","size","ascii","littleEndian","getUint16","getUint32","getInt32","getExifValue","tiffOffset","tagType","tagSize","values","i","str","c","parseExifTags","dirOffset","tagOffsets","includeTags","excludeTags","tagsNumber","dirEndOffset","tagOffset","tagNumber","tagValue","parseExifPrivateIFD","data","exif","exifOffsets","parseExifData","options","disableExif","includeExifTags","excludeExifTags","disableExifOffsets","exifTiffOffset","exifLittleEndian","disableExifThumbnail","keys","forEach","metaDataParsers","jpeg","push","exifWriters","view","DataView","setUint16","writeExifData","fetch","Request","fetchBlob","url","callback","then","response","blob","catch","err","XMLHttpRequest","ProgressEvent","req","open","method","headers","key","setRequestHeader","withCredentials","credentials","responseType","onload","onerror","onabort","ontimeout","send","body","IptcMapProto","IptcMap","a","b","p","L","P","S","stringValue","ObjectName","types","getStringValue","outstr","end","n","getTagValue","combineTagValues","newValue","undefined","Array","parseIptcTags","segmentOffset","segmentLength","segmentEnd","getInt16","iptc","iptcOffsets","isSegmentStart","getHeaderLength","parseIptcData","disableIptc","markerLength","headerLength","disableIptcOffsets","includeIptcTags","excludeIptcTags","hasblobSlice","webkitSlice","mozSlice","blobSlice","apply","arguments","parseMetaData","file","that","maxMetaDataSize","noMetaData","readFile","e","target","error","result","maxOffset","headLength","markerBytes","parsers","disableMetaDataParsers","disableImageHead","imageHead","Uint8Array","subarray","replaceHead","head","originalTransform","transform","img","hasMetaOption","originalHasCanvasOption","hasCanvasOption","originalHasMetaOption","originalTransformCoordinates","transformCoordinates","originalGetTransformedOptions","getTransformedOptions","testImageURL","document","createElement","orientation","width","height","src","canvas","ctx","getContext","styleWidth","style","styleHeight","translate","scale","rotate","Math","PI","opts","newOptions","left","right","top","bottom","maxWidth","maxHeight","minWidth","minHeight","sourceWidth","sourceHeight","aspectRatio","crop","naturalWidth","naturalHeight","renderImageToCanvas","sourceX","sourceY","destX","destY","destWidth","destHeight","imageSmoothingEnabled","imageSmoothingQuality","drawImage","useCanvas","pixelRatio","downsamplingRatio","tmp","scaleUp","max","scaleDown","min","contain","cover","$","fetchBlobCallback","isInstanceOf","createObjectURL","crossOrigin","event","urlAPI","URL","revokeObjectURL","webkitURL","revokeHelper","noRevoke","meta","toString","originalWidth","originalHeight","FileReader","fileReader","isElectron","process","versions","electron","navigator","userAgent","indexOf","runtime","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","object","reverse","pop","iterable","iteratorMethod","isNaN","skipTempReset","prev","charAt","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","root","resolveUrl","numUrls","base","href","getElementsByTagName","insertBefore","firstChild","resolved","index","removeChild","createWorker","recognize","image","langs","worker","load","loadLanguage","initialize","finally","terminate","detect","TESSERACT_ONLY","LSTM_ONLY","TESSERACT_LSTM_COMBINED","DEFAULT","OSD_ONLY","AUTO_OSD","AUTO_ONLY","AUTO","SINGLE_COLUMN","SINGLE_BLOCK_VERT_TEXT","SINGLE_BLOCK","SINGLE_LINE","SINGLE_WORD","CIRCLE_WORD","SINGLE_CHAR","SPARSE_TEXT","SPARSE_TEXT_OSD","OEM","defaultOEM","langPath","workerBlobURL","logger","AFR","AMH","ARA","ASM","AZE","AZE_CYRL","BEL","BEN","BOD","BOS","BUL","CAT","CEB","CES","CHI_SIM","CHI_TRA","CHR","CYM","DAN","DEU","DZO","ELL","ENG","ENM","EPO","EST","EUS","FAS","FIN","FRA","FRK","FRM","GLE","GLG","GRC","GUJ","HAT","HEB","HIN","HRV","HUN","IKU","IND","ISL","ITA","ITA_OLD","JAV","JPN","KAN","KAT","KAT_OLD","KAZ","KHM","KIR","KOR","KUR","LAO","LAT","LAV","LIT","MAL","MAR","MKD","MLT","MSA","MYA","NEP","NLD","NOR","ORI","PAN","POL","POR","PUS","RON","RUS","SAN","SIN","SLK","SLV","SPA","SPA_OLD","SQI","SRP","SRP_LATN","SWA","SWE","SYR","TAM","TEL","TGK","TGL","THA","TIR","TUR","UIG","UKR","URD","UZB","UZB_CYRL","VIE","YID","getId","jobCounter","_id","action","payload","createJob","schedulerCounter","workers","runningWorkers","jobQueue","getQueueLen","getNumWorkers","dequeue","wIds","queue","job","w","shift","addWorker","addJob","wid","resolvePaths","circularize","defaultOptions","spawnWorker","terminateWorker","onMessage","workerCounter","_options","errorHandler","resolves","rejects","setResolve","res","setReject","rej","startJob","jobId","workerId","writeText","path","text","args","readText","encoding","removeFile","FS","oem","setParameters","params","getPDF","title","textonly","status","d","from","userJobId","createScheduler","Tesseract","languages","PSM","setLogging","page","blocks","paragraphs","lines","words","symbols","block","paragraph","line","word","sym","env","WorkerGlobalScope","prefix","cnt","random","logging","_logging","isBrowser","resolveURL","s","version","dependencies","workerPath","TESS_ENV","corePath","substring","WebAssembly","blueimpLoadImage","readFromBlobOrFile","code","readAsArrayBuffer","fixOrientationFromUrlOrBlobOrFile","toBlob","endsWith","resp","arrayBuffer","test","HTMLElement","tagName","poster","File","handler","onmessage","packet","postMessage","Worker"],"sourceRoot":"webpack:///","x_google_ignoreList":[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39]}