{"version":3,"file":"src_app_pages_v2_file-upload_file-upload_module_ts.js","mappings":"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","sources":["./src/app/pages/v2/file-upload/file-upload-routing.module.ts","./src/app/pages/v2/file-upload/file-upload.module.ts","./src/app/pages/v2/file-upload/file-upload.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FileUploadPage } from './file-upload.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FileUploadPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FileUploadPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FileUploadPageRoutingModule } from './file-upload-routing.module';\r\n\r\nimport { FileUploadPage } from './file-upload.page';\r\nimport { SharedMaterialModule } from 'src/app/shared/shared-material.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedMaterialModule,\r\n    FileUploadPageRoutingModule\r\n  ],\r\n  declarations: [FileUploadPage]\r\n})\r\nexport class FileUploadPageModule {}\r\n","import { HttpEventType, HttpResponse } from '@angular/common/http';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { ApiService } from 'src/app/services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-file-upload',\r\n  templateUrl: './file-upload.page.html',\r\n  styleUrls: ['./file-upload.page.scss'],\r\n})\r\nexport class FileUploadPage implements OnInit {\r\n\r\n  isFile: boolean = false;\r\n  filename: string;\r\n  base64File: any;\r\n  files: any = [];\r\n  percentDone: number;\r\n  uploadSuccess: boolean;\r\n  isUploading: boolean = false;\r\n  uploadingFile: string;\r\n  requestSubscription: Subscription;\r\n\r\n  constructor(private router: Router,\r\n    private api: ApiService,\r\n    private cdr: ChangeDetectorRef) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['dashboard']);\r\n  }\r\n\r\n  onFileSelect(e: any, side: any): void {\r\n    try {\r\n      const file = e.target.files[0];\r\n      const fReader = new FileReader()\r\n      fReader.readAsDataURL(file)\r\n      fReader.onloadend = (_event: any) => {\r\n        this.filename = file.name;\r\n        this.base64File = _event.target.result;\r\n        console.log(this.filename);\r\n        this.files.push(file);\r\n\r\n        this.fileUpload(file);\r\n      }\r\n    } catch (error) {\r\n      this.filename = null;\r\n      this.base64File = null;\r\n    }\r\n  }\r\n\r\n  upload() {\r\n    this.isFile = !this.isFile;\r\n  }\r\n\r\n  fileUpload(file) {\r\n    this.uploadingFile = file.name;\r\n    this.isUploading = true;\r\n    this.requestSubscription = this.api.uploadAndProgress(file).subscribe(event => {\r\n      if (event.type === HttpEventType.UploadProgress) {\r\n        this.percentDone = Math.round(100 * event.loaded / event.total);\r\n      } else if (event instanceof HttpResponse) {\r\n        this.uploadSuccess = true;\r\n        this.isUploading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteFile(item: any) {\r\n    var index = this.files.indexOf(item);\r\n    this.files.splice(index, 1);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  cancel(item: any) {\r\n    this.requestSubscription.unsubscribe();\r\n    var index = this.files.indexOf(item);\r\n    this.files.splice(index, 1);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}