"use strict";(self.webpackChunkmedian=self.webpackChunkmedian||[]).push([[828],{31443:function(e,o,t){t.d(o,{k:function(){return n}});var r=t(37716),l=t(80463);let n=(()=>{class e{constructor(e){this.iziToast=e}successMessage(e,o){this.iziToast.success({title:e,message:o,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}errorMessage(e,o){this.iziToast.error({title:e,message:o,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}infoMessage(e,o){this.iziToast.info({title:e,message:o,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}}return e.\u0275fac=function(o){return new(o||e)(r.LFG(l.I))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},64828:function(e,o,t){t.r(o),t.d(o,{AccountBlockModule:function(){return _}});var r=t(38583),l=t(39895),n=t(50215),i=t(3679),c=t(88259),a=t.n(c),u=t(37716),s=t(31443),m=t(94761);function d(e,o){1&e&&(u.TgZ(0,"div",26),u._uU(1," Please enter valid Phone Number! "),u.qZA())}function p(e,o){1&e&&(u.TgZ(0,"div",26),u._uU(1," Please enter valid email address! "),u.qZA())}function h(e,o){1&e&&(u.TgZ(0,"div",4),u.TgZ(1,"label",5),u._uU(2,"ID Name & Value"),u.qZA(),u._UZ(3,"input",27),u.qZA())}function g(e,o){1&e&&(u.TgZ(0,"div",4),u.TgZ(1,"label",5),u._uU(2,"Date Of Birth"),u.qZA(),u._UZ(3,"input",28),u.qZA())}function k(e,o){1&e&&(u.TgZ(0,"div",26),u._uU(1," Please enter valid Phone Number! "),u.qZA())}function b(e,o){1&e&&(u.TgZ(0,"div",4),u.TgZ(1,"label",5),u._uU(2,"Email Id"),u.qZA(),u._UZ(3,"input",29),u.qZA())}function f(e,o){1&e&&(u.TgZ(0,"div",4),u.TgZ(1,"label",5),u._uU(2,"Name of the Operator"),u.qZA(),u._UZ(3,"input",30),u.qZA())}function Z(e,o){1&e&&(u.TgZ(0,"div",4),u.TgZ(1,"label",5),u._uU(2,"Customer Address"),u.qZA(),u._UZ(3,"textarea",31),u.qZA())}function v(e,o){1&e&&(u.TgZ(0,"div",4),u.TgZ(1,"label",5),u._uU(2,"Amount To Block"),u.qZA(),u._UZ(3,"input",32),u.qZA())}function A(e,o){1&e&&(u.TgZ(0,"div",4),u.TgZ(1,"label",5),u._uU(2,"Account Currency"),u.qZA(),u._UZ(3,"input",33),u.qZA())}function N(e,o){1&e&&(u.TgZ(0,"div",4),u.TgZ(1,"label",5),u._uU(2,"Blocking Status"),u.qZA(),u._UZ(3,"textarea",34),u.qZA())}let B=(()=>{class e{constructor(e,o,t,r){this.toastService=e,this.formBuilder=o,this.apiService=t,this.router=r,this.sendMailtoOpt=new q,this.checkValue=!0,this.accountBlock=new C}ngOnInit(){this.link=localStorage.getItem("link"),this.apiService.getCustomerSearch().subscribe(e=>{this.buildForm(e)})}buildForm(e){this.accountBlockForm=this.formBuilder.group({customerName:[e?e.customerName:"",i.kI.required],customerNumber:[e?e.customerNumber:"",i.kI.required],customerAccountNumber:[e?e.accountNumber:"",i.kI.required],branchCode:[e?e.branchCode:"",i.kI.required],nameOfOperator:["","Account_Block"===this.link?i.kI.required:i.kI.nullValidator],nameOfCustomer:["",i.kI.required],idnameValue:["","Amount_Block"===this.link?i.kI.required:i.kI.nullValidator],dobOfCustomer:["","Amount_Block"===this.link?i.kI.required:i.kI.nullValidator],emailOfoperator:["","Amount_Block"===this.link?i.kI.required:i.kI.nullValidator],customerAddress:["","Amount_Block"===this.link?i.kI.required:i.kI.nullValidator],amountToBlock:["","Amount_Block"===this.link?i.kI.required:i.kI.nullValidator],accountCurrency:["","Amount_Block"===this.link?i.kI.required:i.kI.nullValidator],blockingstatus:["","Amount_Block"===this.link?i.kI.required:i.kI.nullValidator],customerMobileNumber:[e?e.mobileNo:"",[i.kI.required,i.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],mobileNumber:["",[i.kI.required,i.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],dueDeligenceInfo:["",i.kI.required],reasonForBlocking:["",i.kI.required],commentsByOperator:["",i.kI.required],emailid:[e?e.email:"",[i.kI.required,i.kI.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],sendmail:[""]})}onClickOfSubmit(){a().fire({title:"Account frozen successfully",icon:"success"}),this.submitdisable=!0,this.accountBlock.customerName=this.accountBlockForm.get("customerName").value,this.accountBlock.customerNumber=this.accountBlockForm.get("customerNumber").value,this.sendMailtoOpt.emailid=this.accountBlockForm.get("emailid").value,this.sendMailtoOpt.nameOfCustomer=this.accountBlockForm.get("nameOfCustomer").value,this.sendMailtoOpt.mobileNumber=this.accountBlockForm.get("mobileNumber").value,this.sendMailtoOpt.dueDeligenceInfo=this.accountBlockForm.get("dueDeligenceInfo").value,this.sendMailtoOpt.commentsByOperator=this.accountBlockForm.get("commentsByOperator").value,this.sendMailtoOpt.reasonForBlocking=this.accountBlockForm.get("reasonForBlocking").value,this.sendMailtoOpt.nameOfOperator=this.accountBlockForm.get("nameOfOperator").value,this.accountBlock.branchCode=this.accountBlockForm.get("branchCode").value,this.accountBlock.accountNumber=this.accountBlockForm.get("customerAccountNumber").value,this.accountBlock.mobileNo=this.accountBlockForm.get("customerMobileNumber").value,this.sendMailtoOpt.idnameValue=this.accountBlockForm.get("idnameValue").value,this.sendMailtoOpt.dobOfCustomer=this.accountBlockForm.get("dobOfCustomer").value,this.sendMailtoOpt.emailOfoperator=this.accountBlockForm.get("emailOfoperator").value,this.sendMailtoOpt.customerAddress=this.accountBlockForm.get("customerAddress").value,this.sendMailtoOpt.amountToBlock=this.accountBlockForm.get("amountToBlock").value,this.sendMailtoOpt.accountCurrency=this.accountBlockForm.get("accountCurrency").value,this.sendMailtoOpt.blockingstatus=this.accountBlockForm.get("blockingstatus").value,this.sendMailtoOpt.sendMailtoCustomer=this.accountBlockForm.get("sendmail").value,this.sendMailtoOpt.customerName=this.accountBlock.customerName,this.sendMailtoOpt.customerMobileNumber=this.accountBlock.mobileNo,this.sendMailtoOpt.branchCode=this.accountBlock.branchCode,this.sendMailtoOpt.customerNumber=this.accountBlock.customerNumber,this.sendMailtoOpt.customerAccountNumber=this.accountBlock.accountNumber,this.sendMailtoOpt.statusChangeDate=this.data,this.currentUser=localStorage.getItem("currentUser"),this.sendMailtoOpt.status=this.customerdatafromcomponent.accstatus,this.sendMailtoOpt.sendMailtoCustomer||(this.sendMailtoOpt.sendMailtoCustomer=!1),this.sendMailtoOpt.mobileNumber&&this.sendMailtoOpt.nameOfCustomer&&this.sendMailtoOpt.dueDeligenceInfo&&this.sendMailtoOpt.reasonForBlocking&&this.sendMailtoOpt.commentsByOperator?(this.submitdisable=!0,this.apiService.accountBlock(this.sendMailtoOpt).subscribe(e=>{this.resp=e,this.resp?this.toastService.successMessage("Account frozen successfully!.",""):this.toastService.errorMessage("Unable to process the request. ","")})):this.toastService.errorMessage("All fields are mandatory","Ensure all fields are captured correctly.")}exit(){this.apiService.setAccountBlocking({exit:"clickedOnExitFromAccountBlocking"}),this.router.navigateByUrl("Account_Block"===this.link?"/customer-search":"/amount-block")}}return e.\u0275fac=function(o){return new(o||e)(u.Y36(s.k),u.Y36(i.qu),u.Y36(m.sM),u.Y36(l.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["npr-account-blocking"]],decls:71,vars:13,consts:[["action","",1,"formStyle",3,"formGroup"],[1,"pageContentMain"],[1,"dbCardStyle"],[1,"row","gy-4"],[1,"col-lg-4"],["for","",1,"formLbl"],["id","fname","type","text","formControlName","customerName","placeholder","Customer Name","value","",1,"form-control"],["id","cNumber","formControlName","customerNumber","type","number","placeholder","Customer Number","value","",1,"form-control"],["id","accNumber","formControlName","customerAccountNumber","type","number","placeholder","Account Number","value","",1,"form-control"],["id","cName","formControlName","branchCode","type","text","placeholder","Branch Code","value","",1,"form-control"],["id","nationalID","maxlength","10","formControlName","customerMobileNumber","type","number","placeholder","Mobile Number","value","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["id","accNumber","formControlName","emailid","type","text","placeholder","Email Id","value","",1,"form-control"],[1,"pageContentMain","mt-4","mb-4"],["action","",1,"formStyle"],["id","fname","formControlName","nameOfCustomer","type","text","placeholder","Customer Name","value","",1,"form-control"],["class","col-lg-4",4,"ngIf"],["id","cNumber","formControlName","mobileNumber","maxlength","10","type","number","placeholder","Mobile Number","value","",1,"form-control"],["rows","8","id","cName","formControlName","dueDeligenceInfo","type","text","placeholder","Due Diligence","value","",1,"form-control","rounded-0"],["rows","8","id","nationalID","formControlName","reasonForBlocking","type","text","placeholder","Reason","value","",1,"form-control","rounded-0"],["rows","8","formControlName","commentsByOperator","id","MobNumber","type","text","placeholder","Comments","value","",1,"form-control","rounded-0"],[1,"col-lg-12"],[1,"row","g-3","pb-3","justify-content-end","pt-3"],[1,"col-auto"],["type","button",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"click"],[1,"invalid-feedback"],["id","fname","formControlName","idnameValue","type","text","placeholder","ID Name & Value","value","",1,"form-control"],["id","fname","formControlName","dobOfCustomer","type","text","placeholder","DD/MM/YYYY","value","",1,"form-control"],["id","MobNumber","formControlName","emailOfoperator","type","text","placeholder","you@gmail.com","value","",1,"form-control"],["id","MobNumber","formControlName","nameOfOperator","type","text","placeholder","Name of the Operator","value","",1,"form-control"],["rows","8","id","cName","formControlName","customerAddress","type","text","placeholder","Customer Address","value","",1,"form-control","rounded-0"],["id","fname","formControlName","amountToBlock","type","text","placeholder","Amount To Block","value","",1,"form-control"],["id","cNumber","formControlName","accountCurrency","maxlength","10","type","text","placeholder","Account Currency","value","",1,"form-control"],["rows","8","id","cName","formControlName","blockingstatus","type","text","placeholder","Blocking Status","value","",1,"form-control","rounded-0"]],template:function(e,o){1&e&&(u.TgZ(0,"form",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"label",5),u._uU(6,"Customer Name"),u.qZA(),u._UZ(7,"input",6),u.qZA(),u.TgZ(8,"div",4),u.TgZ(9,"label",5),u._uU(10,"Customer Number"),u.qZA(),u._UZ(11,"input",7),u.qZA(),u.TgZ(12,"div",4),u.TgZ(13,"label",5),u._uU(14,"Account Number"),u.qZA(),u._UZ(15,"input",8),u.qZA(),u.TgZ(16,"div",4),u.TgZ(17,"label",5),u._uU(18,"Branch Code"),u.qZA(),u._UZ(19,"input",9),u.qZA(),u.TgZ(20,"div",4),u.TgZ(21,"label",5),u._uU(22,"Mobile Number"),u.qZA(),u._UZ(23,"input",10),u.YNc(24,d,2,0,"div",11),u.qZA(),u.TgZ(25,"div",4),u.TgZ(26,"label",5),u._uU(27,"Email Id"),u.qZA(),u._UZ(28,"input",12),u.YNc(29,p,2,0,"div",11),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"div",13),u.TgZ(31,"form",14),u.TgZ(32,"div",2),u.TgZ(33,"div",3),u.TgZ(34,"div",4),u.TgZ(35,"label",5),u._uU(36,"Customer Name"),u.qZA(),u._UZ(37,"input",15),u.qZA(),u.YNc(38,h,4,0,"div",16),u.YNc(39,g,4,0,"div",16),u.TgZ(40,"div",4),u.TgZ(41,"label",5),u._uU(42,"Mobile Number"),u.qZA(),u._UZ(43,"input",17),u.YNc(44,k,2,0,"div",11),u.qZA(),u.YNc(45,b,4,0,"div",16),u.YNc(46,f,4,0,"div",16),u.YNc(47,Z,4,0,"div",16),u.YNc(48,v,4,0,"div",16),u.YNc(49,A,4,0,"div",16),u.TgZ(50,"div",4),u.TgZ(51,"label",5),u._uU(52,"Due Diligence"),u.qZA(),u._UZ(53,"textarea",18),u.qZA(),u.YNc(54,N,4,0,"div",16),u.TgZ(55,"div",4),u.TgZ(56,"label",5),u._uU(57,"Reason"),u.qZA(),u._UZ(58,"textarea",19),u.qZA(),u.TgZ(59,"div",4),u.TgZ(60,"label",5),u._uU(61,"Comments"),u.qZA(),u._UZ(62,"textarea",20),u.qZA(),u.TgZ(63,"div",21),u.TgZ(64,"div",22),u.TgZ(65,"div",23),u.TgZ(66,"button",24),u.NdJ("click",function(){return o.onClickOfSubmit()}),u._uU(67,"Submit"),u.qZA(),u.qZA(),u.TgZ(68,"div",23),u.TgZ(69,"a",25),u.NdJ("click",function(){return o.exit()}),u._uU(70,"Exit"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.Q6J("formGroup",o.accountBlockForm),u.xp6(24),u.Q6J("ngIf",o.accountBlockForm.get("customerMobileNumber").hasError("pattern")&&o.accountBlockForm.get("mobileNumber").touched),u.xp6(5),u.Q6J("ngIf",o.accountBlockForm.get("emailid").hasError("pattern")&&o.accountBlockForm.get("emailid").touched),u.xp6(9),u.Q6J("ngIf","Amount_Block"===o.link),u.xp6(1),u.Q6J("ngIf","Amount_Block"===o.link),u.xp6(5),u.Q6J("ngIf",o.accountBlockForm.get("mobileNumber").hasError("pattern")&&o.accountBlockForm.get("mobileNumber").touched),u.xp6(1),u.Q6J("ngIf","Amount_Block"===o.link),u.xp6(1),u.Q6J("ngIf","Account_Block"===o.link),u.xp6(1),u.Q6J("ngIf","Amount_Block"===o.link),u.xp6(1),u.Q6J("ngIf","Amount_Block"===o.link),u.xp6(1),u.Q6J("ngIf","Amount_Block"===o.link),u.xp6(5),u.Q6J("ngIf","Amount_Block"===o.link),u.xp6(12),u.Q6J("disabled",!o.accountBlockForm.valid||o.submitdisable))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.wV,i.nD,r.O5],styles:[""]}),e})();class q{}class C{}const O=[{path:"",component:B,canDeactivate:[n.I]}];let T=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[l.Bz.forChild(O)],l.Bz]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[r.ez,T,i.UX]]}),e})()}}]);