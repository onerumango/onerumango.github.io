"use strict";(self.webpackChunkmedian=self.webpackChunkmedian||[]).push([[396],{17988:function(t,e,n){n.d(e,{G:function(){return r},T:function(){return o}});var i=n(37716),r=function(){function t(t,e,n){this.el=t,this.vcr=e,this.renderer=n,this.dtOptions={}}return t.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe(function(e){t.displayTable(e)}):this.displayTable(null)},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(t){var e=this;t&&(this.dtOptions=t),this.dtInstance=new Promise(function(t,n){Promise.resolve(e.dtOptions).then(function(i){0===Object.keys(i).length&&0===$("tbody tr",e.el.nativeElement).length?n("Both the table and dtOptions cannot be empty"):setTimeout(function(){var n={rowCallback:function(t,n,r){if(i.columns){var s=i.columns;e.applyNgPipeTransform(t,s),e.applyNgRefTemplate(t,s,n)}i.rowCallback&&i.rowCallback(t,n,r)}};n=Object.assign({},i,n),e.dt=$(e.el.nativeElement).DataTable(n),t(e.dt)})})})},t.prototype.applyNgPipeTransform=function(t,e){e.filter(function(t){return t.ngPipeInstance&&!t.ngTemplateRef}).forEach(function(n){var i=n.ngPipeInstance,r=e.findIndex(function(t){return t.data===n.data}),s=t.childNodes.item(r),o=$(s).text(),d=i.transform(o);$(s).text(d)})},t.prototype.applyNgRefTemplate=function(t,e,n){var i=this;e.filter(function(t){return t.ngTemplateRef&&!t.ngPipeInstance}).forEach(function(r){var s=r.ngTemplateRef,o=s.ref,d=s.context,a=e.findIndex(function(t){return t.data===r.data}),g=t.childNodes.item(a);$(g).html("");var c=Object.assign({},d,null==d?void 0:d.userData,{adtData:n}),h=i.vcr.createEmbeddedView(o,c);i.renderer.appendChild(g,h.rootNodes[0])})},t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.s_b),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),s=n(38583),o=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[s.ez]]}),t}()},91973:function(t,e,n){n.d(e,{Z:function(){return g}});var i=n(91841),r=n(3118),s=n(79765),o=n(26215),d=n(37716);const a=r.$.baseURL;let g=(()=>{class t{constructor(t){this.http=t,this.api="http://192.168.0.14:8082",this.subject=new s.xQ,this.Index=new o.X({index:""}),this.Reference=new o.X({referenceId:""}),this.paramSource=new o.X({}),this.getNavParam=this.paramSource.asObservable()}setIndex(t){this.Index.next(t)}getIndex(){return this.Index.asObservable()}setReference(t){this.Reference.next(t)}getReference(){return this.Reference.asObservable()}submittingAddSystem(t,e){return this.http.post(`${a}/newExtApi/create/${e}`,t)}fecthingAddSystem(){return this.http.get(`${a}/newExtApi/getAllExternalSys/?pageNo=0&pageSize=1000`)}editaddsystem(t,e,n){return this.http.put(`${a}/newExtApi/${t}/${e}`,n)}fetchingAddSysBasedonId(t){return this.http.get(`${a}/newExtApi/getExternalSysDetails/${t}`)}deleteingAddSystem(){return this.http.delete(`${a}//`)}sendingAddSystemDataToEditScreen(t){this.subject.next(t)}editruleTranslation(t,e,n){return this.http.put(`${a}/msgApi/${t}/${e}`,n)}deleteRuleTranslation(t,e){return e=(new i.LE).append("transId",e),console.log("tra",e),this.http.delete(`${a}/msgApi/deleteRecord/${t}`,{params:e})}deleteAddSystem(t,e){return this.http.delete(`${a}/newExtApi/delete/${t}?systemId=${e}`)}getEditOfAddSystem(){return this.subject.asObservable()}sendNavParam(t){this.paramSource.next(t)}onAuthofAddSystem(t,e){return this.http.put(`${a}/newExtApi/authorizetherecord/${e}`,t)}onCloseOfAddSystem(t,e){return this.http.put(`${a}/newExtApi/toClosingTheRecord/${e}`,t)}onopenOfAddSystem(t,e){return this.http.put(`${a}/newExtApi/closeRecord/${e}`,t)}onDeleteAddSystem(t,e){return this.http.put(`${a}/newExtApi/delete/${e}`,t)}gettingHederofXMl(t){var e=new FormData;return e.append("file",t),e.append("key","header"),console.log(e),this.http.post(`${a}/convertMsg/convertXmlToNodeTagList`,e)}gettingBodyOfXml(t){var e=new FormData;return e.append("file",t),e.append("key","body"),console.log(e),this.http.post(`${a}/convertMsg/convertXmlToNodeTagList`,e)}selectFileFORHTTPXMLIncoming(t){var e=new FormData;return e.append("file",t),this.http.post(`${a}/file/getHeaders`,e)}fetchingXMLandHttp(){return this.http.get(`${a}/msgApi/getXmlMsgField`)}fetchingIsoForTcp(){return this.http.get(`${a}/msgApi/getIsoMsgField`)}gettinXMLmsgIncoming(){return this.http.get(`${a}/msgApi/getXmlMsgField`)}pingDataSource(t,e,n,i){let r=btoa(i);return this.http.get(`${a}/db/ping/${t}/${e}/${n}/${r}`)}coulmnNameBasedonTableName(t,e,n,i,r){let s=btoa(i);return this.http.get(`${a}/db/ping/${t}/${e}/${n}/${s}/${r}`)}fetchingHeaderTag(){return this.http.get(`${a}/newExtApi/getAllHeadTag`)}validateCode(t){return this.http.get(`${a}/newExtApi/addSystem/validateCode/${t}`)}validatePort(t){return this.http.post(`${a}/newExtApi/validate/addSystem`,t)}conversionApi(){return this.http.get(`${this.api}/MessageConverter/MT-MX`)}getMxApi(){return this.http.get(`${this.api}/MessageConverter/MXBodyInfo`)}getMtApi(){return this.http.get(`${this.api}/MessageConverter/MTBodyInfo`)}getIncomingOutgoingSummary(t){return this.http.get(`${this.api}/MessageConverter/fetchSummaryData?reqType=${t}`)}getRequestRespBody(t,e){return this.http.get(`${this.api}/MessageConverter/fetchReqRes?reqType=${t}&referenceId=${e}`)}fetchTableName(t){return this.http.post(`${a}/newExtApi/validate/addSystem`,t)}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(i.eN))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},56663:function(t,e,n){n.d(e,{a:function(){return Z}});var i=n(79765),r=n(35383),s=n(37716),o=n(77382),d=n(91973),a=n(39895),g=n(38583),c=n(17988);function h(t,e){1&t&&(s.TgZ(0,"h2",11),s._uU(1,"Incoming"),s.qZA())}function p(t,e){1&t&&(s.TgZ(0,"h2",11),s._uU(1,"Outgoing"),s.qZA())}function u(t,e){1&t&&(s.TgZ(0,"th"),s._uU(1,"MX"),s.qZA())}function l(t,e){1&t&&(s.TgZ(0,"th"),s._uU(1,"MT"),s.qZA())}function m(t,e){1&t&&(s.TgZ(0,"th"),s._uU(1,"MT"),s.qZA())}function f(t,e){1&t&&(s.TgZ(0,"th"),s._uU(1,"MX"),s.qZA())}function I(t,e){1&t&&(s.TgZ(0,"td"),s._uU(1,"PAC008"),s.qZA())}function A(t,e){1&t&&(s.TgZ(0,"td"),s._uU(1,"103"),s.qZA())}function T(t,e){1&t&&(s.TgZ(0,"td"),s._uU(1,"103"),s.qZA())}function b(t,e){1&t&&(s.TgZ(0,"td"),s._uU(1,"PAC008"),s.qZA())}function y(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.YNc(3,I,2,0,"td",9),s.YNc(4,A,2,0,"td",9),s.YNc(5,T,2,0,"td",9),s.YNc(6,b,2,0,"td",9),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.ALo(11,"date"),s.qZA(),s.TgZ(12,"td"),s.TgZ(13,"button",12),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().edit(e)}),s._uU(14,"View"),s.qZA(),s.TgZ(15,"button",13),s._uU(16,"Process"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,n=s.oxw();s.xp6(2),s.Oqu(t.referenceNo),s.xp6(1),s.Q6J("ngIf","incoming"==n.link),s.xp6(1),s.Q6J("ngIf","incoming"==n.link),s.xp6(1),s.Q6J("ngIf","outgoing"==n.link),s.xp6(1),s.Q6J("ngIf","outgoing"==n.link),s.xp6(2),s.Oqu(t.status),s.xp6(2),s.Oqu(s.xi3(11,8,t.conversionDate,"medium")),s.xp6(5),s.Q6J("disabled","COMPLETED"==t.status)}}function v(t,e){1&t&&(s.ynx(0),s.TgZ(1,"div",14),s.TgZ(2,"span",15),s._uU(3,"Please wait... "),s._UZ(4,"span",16),s.qZA(),s.qZA(),s.BQk())}const x=function(){return["/dashboard"]};let Z=(()=>{class t{constructor(t,e,n,s){this.roleService=t,this.apiService=e,this.router=n,this.cdr=s,this.isLoading=!1,this.respArray=[],this.roleCodes=new r.yv,this.dtOptions={},this.dtTrigger=new i.xQ,this.statusArr=["Authorized","Unauthorized","Open","Close"]}ngOnInit(){this.link=localStorage.getItem("link"),setTimeout(()=>{this.newRolePermissions()},2e3),this.roleService.screenLabelList.subscribe(t=>this.roleCodes=t),setTimeout(()=>{console.log(this.roleCodes)},3e3),this.currentUser=localStorage.getItem("userFromLogin"),this.dtOptions={pagingType:"full_numbers",pageLength:5,columnDefs:[{type:"date",targets:[4]}],order:[[4,"desc"]],processing:!0,lengthMenu:[[5,10,20,30,-1],[5,10,20,30,"ALL"]],retrieve:!0},"outgoing"==this.link&&this.getIncomingData(),"incoming"==this.link&&this.getOutGoingData()}newRolePermissions(){this.roleService.fetchScreenPermissions("Charge Maintenance")}getOutGoingData(){this.isLoading=!0,this.apiService.getIncomingOutgoingSummary(this.link).subscribe(t=>{console.log(t),this.respArray=t,this.isLoading=!1,this.dtTrigger.next()})}getIncomingData(){this.respArray=[{referenceNo:"0061350113089999",mx:"PAC008",outgoingRes:'<?xml version="1.0" encoding="UTF-8" ?>\n<RequestPayload>\n<h:AppHdr xmlns:h="urn:iso:std:iso:20022:tech:xsd:head.001.001.02">\n    <h:Fr>\n        <h:FIId>\n            <h:FinInstnId>\n                <h:BICFI>AAAAUSXX</h:BICFI>\n            </h:FinInstnId>\n        </h:FIId>\n    </h:Fr>\n    <h:To>\n        <h:FIId>\n            <h:FinInstnId>\n                <h:BICFI>BBBBUSXX</h:BICFI>\n            </h:FinInstnId>\n        </h:FIId>\n    </h:To>\n    <h:BizMsgIdr>MYREF1234</h:BizMsgIdr>\n    <h:MsgDefIdr>pacs.008.001.08</h:MsgDefIdr>\n    <h:BizSvc>foo.bar.1</h:BizSvc>\n    <h:CreDt>2022-12-16T11:37:35+00:00</h:CreDt>\n</h:AppHdr>\n<Document xmlns="urn:iso:std:iso:20022:tech:xsd:pacs.008.001.08">\n    <FIToFICstmrCdtTrf>\n        <GrpHdr>\n            <MsgId>0061350113089999</MsgId>\n            <CreDtTm>2022-12-16T11:37:35.586+05:30</CreDtTm>\n            <NbOfTxs>1</NbOfTxs>\n            <SttlmInf>\n                <SttlmMtd>INDA</SttlmMtd>\n                <SttlmAcct>\n                    <Id>\n                        <Othr>\n                            <Id>/00010013800002001234</Id>\n                        </Othr>\n                    </Id>\n                </SttlmAcct>\n            </SttlmInf>\n            <InstgAgt>\n                <FinInstnId>\n                    <BICFI>BICFOOYYAXXX</BICFI>\n                </FinInstnId>\n            </InstgAgt>\n            <InstdAgt>\n                <FinInstnId>\n                    <BICFI>ESPBESMMAXXX</BICFI>\n                </FinInstnId>\n            </InstdAgt>\n        </GrpHdr>\n        <CdtTrfTxInf>\n            <PmtId>\n                <InstrId>0061350113089999</InstrId>\n                <EndToEndId>0061350113089999</EndToEndId>\n                <TxId>0061350113089999</TxId>\n            </PmtId>\n            <IntrBkSttlmAmt Ccy="EUR">100000</IntrBkSttlmAmt>\n            <IntrBkSttlmDt>2022-12-16</IntrBkSttlmDt>\n            <ChrgBr>DEBT</ChrgBr>\n            <Dbtr>\n                <Nm>AGENTES DE BOLSA FOO AGENCIA</Nm>\n                <PstlAdr>\n                    <AdrLine>AV XXXXX 123 BIS 9 PL</AdrLine>\n                    <AdrLine>12345 BARCELONA</AdrLine>\n                </PstlAdr>\n            </Dbtr>\n            <DbtrAcct>\n                <Id>\n                    <Othr>\n                        <Id>12345678</Id>\n                    </Othr>\n                </Id>\n            </DbtrAcct>\n        </CdtTrfTxInf>\n    </FIToFICstmrCdtTrf>\n</Document>\n</RequestPayload>',status:"COMPLETED",conversionDate:"2022-12-16 11:37:36"}],this.isLoading=!1,this.dtTrigger.next()}edit(t){this.apiService.setReference({referenceId:t.referenceNo}),localStorage.setItem("idValue",t.id),this.router.navigateByUrl("/rule-mapping/conversion")}ngOnDestroy(){this.dtTrigger.unsubscribe()}check(t){console.log(t)}refreshPage(){window.location.reload()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.N),s.Y36(d.Z),s.Y36(a.F0),s.Y36(s.sBO))},t.\u0275cmp=s.Xpm({type:t,selectors:[["npr-incoming"]],decls:28,vars:12,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],["class","pageTitle",4,"ngIf"],[1,"dbCardStyle"],[1,"row","g-3","pb-3","justify-content-end"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[1,"table-responsive"],["datatable","",1,"dataTable","table","tableStyle","nowrap","vAlignMdl",2,"width","100%",3,"dtOptions","dtTrigger"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pageTitle"],[1,"btn","smBtn","minWdSmBtn","btnPrimary","marRig",3,"click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary","buttonProcess",3,"disabled"],[1,"loading-page-center"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.YNc(2,h,2,0,"h2",2),s.YNc(3,p,2,0,"h2",2),s.qZA(),s.TgZ(4,"div",3),s.TgZ(5,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"a",6),s._uU(8,"Exit"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"div",7),s.TgZ(10,"table",8),s.TgZ(11,"thead"),s.TgZ(12,"tr"),s.TgZ(13,"th"),s._uU(14,"REFERENCE ID"),s.qZA(),s.YNc(15,u,2,0,"th",9),s.YNc(16,l,2,0,"th",9),s.YNc(17,m,2,0,"th",9),s.YNc(18,f,2,0,"th",9),s.TgZ(19,"th"),s._uU(20,"STATUS"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"DATE"),s.qZA(),s.TgZ(23,"th"),s._uU(24,"ACTION"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"tbody"),s.YNc(26,y,17,11,"tr",10),s.qZA(),s.qZA(),s.qZA(),s.YNc(27,v,5,0,"ng-container",9),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Q6J("ngIf","incoming"==e.link),s.xp6(1),s.Q6J("ngIf","outgoing"==e.link),s.xp6(4),s.Q6J("routerLink",s.DdM(11,x)),s.xp6(3),s.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),s.xp6(5),s.Q6J("ngIf","incoming"==e.link),s.xp6(1),s.Q6J("ngIf","incoming"==e.link),s.xp6(1),s.Q6J("ngIf","outgoing"==e.link),s.xp6(1),s.Q6J("ngIf","outgoing"==e.link),s.xp6(8),s.Q6J("ngForOf",e.respArray),s.xp6(1),s.Q6J("ngIf",e.isLoading))},directives:[g.O5,a.yS,c.G,g.sg],pipes:[g.uU],styles:[".marRig[_ngcontent-%COMP%]{margin-right:12px}.buttonProcess[_ngcontent-%COMP%]:disabled{opacity:40%}"]}),t})()},12396:function(t,e,n){n.r(e),n.d(e,{IncomingModule:function(){return h}});var i=n(38583),r=n(39895),s=n(56663),o=n(37716);const d=[{path:"",component:s.a}];let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.Bz.forChild(d)],r.Bz]}),t})();var g=n(3679),c=n(17988);let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.ez,a,c.T,g.UX]]}),t})()}}]);