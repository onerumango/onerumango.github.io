"use strict";(self.webpackChunkmedian=self.webpackChunkmedian||[]).push([[834],{91973:function(e,t,s){s.d(t,{Z:function(){return c}});var i=s(91841),n=s(3118),o=s(79765),a=s(26215),r=s(37716);const l=n.$.baseURL;let c=(()=>{class e{constructor(e){this.http=e,this.api="http://192.168.0.14:8082",this.subject=new o.xQ,this.Index=new a.X({index:""}),this.Reference=new a.X({referenceId:""}),this.paramSource=new a.X({}),this.getNavParam=this.paramSource.asObservable()}setIndex(e){this.Index.next(e)}getIndex(){return this.Index.asObservable()}setReference(e){this.Reference.next(e)}getReference(){return this.Reference.asObservable()}submittingAddSystem(e,t){return this.http.post(`${l}/newExtApi/create/${t}`,e)}fecthingAddSystem(){return this.http.get(`${l}/newExtApi/getAllExternalSys/?pageNo=0&pageSize=1000`)}editaddsystem(e,t,s){return this.http.put(`${l}/newExtApi/${e}/${t}`,s)}fetchingAddSysBasedonId(e){return this.http.get(`${l}/newExtApi/getExternalSysDetails/${e}`)}deleteingAddSystem(){return this.http.delete(`${l}//`)}sendingAddSystemDataToEditScreen(e){this.subject.next(e)}editruleTranslation(e,t,s){return this.http.put(`${l}/msgApi/${e}/${t}`,s)}deleteRuleTranslation(e,t){return t=(new i.LE).append("transId",t),console.log("tra",t),this.http.delete(`${l}/msgApi/deleteRecord/${e}`,{params:t})}deleteAddSystem(e,t){return this.http.delete(`${l}/newExtApi/delete/${e}?systemId=${t}`)}getEditOfAddSystem(){return this.subject.asObservable()}sendNavParam(e){this.paramSource.next(e)}onAuthofAddSystem(e,t){return this.http.put(`${l}/newExtApi/authorizetherecord/${t}`,e)}onCloseOfAddSystem(e,t){return this.http.put(`${l}/newExtApi/toClosingTheRecord/${t}`,e)}onopenOfAddSystem(e,t){return this.http.put(`${l}/newExtApi/closeRecord/${t}`,e)}onDeleteAddSystem(e,t){return this.http.put(`${l}/newExtApi/delete/${t}`,e)}gettingHederofXMl(e){var t=new FormData;return t.append("file",e),t.append("key","header"),console.log(t),this.http.post(`${l}/convertMsg/convertXmlToNodeTagList`,t)}gettingBodyOfXml(e){var t=new FormData;return t.append("file",e),t.append("key","body"),console.log(t),this.http.post(`${l}/convertMsg/convertXmlToNodeTagList`,t)}selectFileFORHTTPXMLIncoming(e){var t=new FormData;return t.append("file",e),this.http.post(`${l}/file/getHeaders`,t)}fetchingXMLandHttp(){return this.http.get(`${l}/msgApi/getXmlMsgField`)}fetchingIsoForTcp(){return this.http.get(`${l}/msgApi/getIsoMsgField`)}gettinXMLmsgIncoming(){return this.http.get(`${l}/msgApi/getXmlMsgField`)}pingDataSource(e,t,s,i){let n=btoa(i);return this.http.get(`${l}/db/ping/${e}/${t}/${s}/${n}`)}coulmnNameBasedonTableName(e,t,s,i,n){let o=btoa(i);return this.http.get(`${l}/db/ping/${e}/${t}/${s}/${o}/${n}`)}fetchingHeaderTag(){return this.http.get(`${l}/newExtApi/getAllHeadTag`)}validateCode(e){return this.http.get(`${l}/newExtApi/addSystem/validateCode/${e}`)}validatePort(e){return this.http.post(`${l}/newExtApi/validate/addSystem`,e)}conversionApi(){return this.http.get(`${this.api}/MessageConverter/MT-MX`)}getMxApi(){return this.http.get(`${this.api}/MessageConverter/MXBodyInfo`)}getMtApi(){return this.http.get(`${this.api}/MessageConverter/MTBodyInfo`)}getIncomingOutgoingSummary(e){return this.http.get(`${this.api}/MessageConverter/fetchSummaryData?reqType=${e}`)}getRequestRespBody(e,t){return this.http.get(`${this.api}/MessageConverter/fetchReqRes?reqType=${e}&referenceId=${t}`)}fetchTableName(e){return this.http.post(`${l}/newExtApi/validate/addSystem`,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(i.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},31443:function(e,t,s){s.d(t,{k:function(){return o}});var i=s(37716),n=s(80463);let o=(()=>{class e{constructor(e){this.iziToast=e}successMessage(e,t){this.iziToast.success({title:e,message:t,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}errorMessage(e,t){this.iziToast.error({title:e,message:t,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}infoMessage(e,t){this.iziToast.info({title:e,message:t,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(n.I))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8834:function(e,t,s){s.r(t),s.d(t,{RuleTranslationModule:function(){return nt}});var i=s(38583),n=s(39895),o=s(50215),a=s(64762),r=s(3679),l=s(79765),c=s(35383),d=s(88259),u=s.n(d),g=s(37716),h=s(50511),p=s(77382),m=s(91973),T=s(31443),Z=s(24376);const f=["fileWrapper"];function A(e,t){if(1&e&&(g.TgZ(0,"ng-option",33),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e),g.xp6(1),g.hij(" ",e," ")}}function v(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",34),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).chooseFile()}),g.TgZ(1,"div",35),g.TgZ(2,"div",36),g.TgZ(3,"div",37,38),g.TgZ(5,"input",39),g.NdJ("change",function(t){return g.CHM(e),g.oxw(2).selectFileFORHTTPXMLIncoming(t)}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(5),g.Q6J("disabled",!e.editValue)}}function y(e,t){1&e&&(g.ynx(0),g._uU(1,"Field No"),g.BQk())}function x(e,t){1&e&&(g.ynx(0),g._uU(1,"Tag"),g.BQk())}function q(e,t){1&e&&(g.ynx(0),g._uU(1,"kEY"),g.BQk())}function b(e,t){1&e&&(g.ynx(0),g._uU(1,"Column Name"),g.BQk())}function S(e,t){1&e&&(g.ynx(0),g._uU(1,"Data type"),g.BQk())}function C(e,t){1&e&&(g.ynx(0),g._uU(1,"Data type"),g.BQk())}function R(e,t){if(1&e&&(g.ynx(0),g._UZ(1,"input",45),g.BQk()),2&e){const e=g.oxw(3);g.xp6(1),g.Q6J("readonly",!e.editValue)}}function N(e,t){if(1&e&&(g.ynx(0),g._UZ(1,"input",46),g.BQk()),2&e){const e=g.oxw().index;g.xp6(1),g.MGl("id","fieldNo_",e,"")}}function I(e,t){if(1&e&&(g.ynx(0),g._UZ(1,"input",47),g.BQk()),2&e){const e=g.oxw(3);g.xp6(1),g.Q6J("readonly",!e.editValue)}}function D(e,t){if(1&e&&(g.TgZ(0,"option",33),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e),g.xp6(1),g.hij(" ",e," ")}}function w(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"select",48),g.YNc(2,D,2,2,"option",14),g.qZA(),g.BQk()),2&e){const e=g.oxw().index,t=g.oxw(2);g.xp6(1),g.MGl("id","fieldNo_",e,""),g.Q6J("disabled",!t.editValue),g.xp6(1),g.Q6J("ngForOf",t.messageBasisIso)}}function U(e,t){if(1&e&&(g.ynx(0),g._UZ(1,"input",46),g.BQk()),2&e){const e=g.oxw().index;g.xp6(1),g.MGl("id","db_",e,"")}}function F(e,t){if(1&e&&(g.TgZ(0,"option",33),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e),g.xp6(1),g.hij(" ",e," ")}}function O(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"select",48),g.YNc(2,F,2,2,"option",14),g.qZA(),g.BQk()),2&e){const e=g.oxw().index,t=g.oxw(2);g.xp6(1),g.MGl("id","db_",e,""),g.Q6J("disabled",!t.editValue),g.xp6(1),g.Q6J("ngForOf",t.mTMxResp)}}function B(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"select",49),g.TgZ(2,"option",13),g._uU(3,"--Please select--"),g.qZA(),g.TgZ(4,"option",50),g._uU(5," VARCHAR2 "),g.qZA(),g.TgZ(6,"option",51),g._uU(7," NUMBER "),g.qZA(),g.TgZ(8,"option",52),g._uU(9," DATE "),g.qZA(),g.qZA(),g.BQk()),2&e){const e=g.oxw().index;g.xp6(1),g.MGl("id","dataType_",e,"")}}function _(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"select",49),g.TgZ(2,"option",13),g._uU(3,"--Please select--"),g.qZA(),g.TgZ(4,"option",33),g._uU(5," Numeric "),g.qZA(),g.TgZ(6,"option",33),g._uU(7," Alpha Numeric "),g.qZA(),g.TgZ(8,"option",33),g._uU(9," Date "),g.qZA(),g.qZA(),g.BQk()),2&e){const e=g.oxw().index;g.xp6(1),g.MGl("id","dataType_",e,""),g.xp6(3),g.Q6J("value","numeric"),g.xp6(2),g.Q6J("value","alphaNumeric"),g.xp6(2),g.Q6J("value","date")}}function M(e,t){1&e&&(g.ynx(0),g.TgZ(1,"select",53),g.TgZ(2,"option",13),g._uU(3,"--Please select--"),g.qZA(),g.TgZ(4,"option",33),g._uU(5," Numeric "),g.qZA(),g.TgZ(6,"option",33),g._uU(7," Alpha Numeric "),g.qZA(),g.TgZ(8,"option",33),g._uU(9," Date "),g.qZA(),g.qZA(),g.BQk()),2&e&&(g.xp6(4),g.Q6J("value","numeric"),g.xp6(2),g.Q6J("value","alphaNumeric"),g.xp6(2),g.Q6J("value","date"))}function E(e,t){if(1&e&&(g.ynx(0),g._UZ(1,"input",54),g.BQk()),2&e){const e=g.oxw(3);g.xp6(1),g.Q6J("readonly",!e.editValue)}}function J(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"a",55),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().index;return g.oxw(2).removeTranslation(t)}),g._UZ(1,"img",56),g.qZA()}if(2&e){const e=g.oxw(3);g.Q6J("ngClass",e.editValue?"deleteIcon2;readonlyFalse":"readonlyTrue")}}function k(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr"),g.ynx(1,40),g.TgZ(2,"td"),g.YNc(3,R,2,1,"ng-container",23),g.YNc(4,N,2,1,"ng-container",23),g.YNc(5,I,2,1,"ng-container",23),g.YNc(6,w,3,3,"ng-container",23),g.YNc(7,U,2,1,"ng-container",23),g.YNc(8,O,3,3,"ng-container",23),g.qZA(),g.TgZ(9,"td"),g.YNc(10,B,10,1,"ng-container",23),g.YNc(11,_,10,4,"ng-container",23),g.YNc(12,M,10,3,"ng-container",23),g.YNc(13,E,2,1,"ng-container",23),g.qZA(),g.TgZ(14,"td"),g._UZ(15,"input",41),g.qZA(),g.TgZ(16,"td"),g.TgZ(17,"select",42),g.NdJ("change",function(t){return g.CHM(e),g.oxw(2).onSelectionOFMessageType(t)}),g.TgZ(18,"option",13),g._uU(19,"--Please select--"),g.qZA(),g.TgZ(20,"option",33),g._uU(21,"No Encryption"),g.qZA(),g.TgZ(22,"option",33),g._uU(23," BASE 64 "),g.qZA(),g.TgZ(24,"option",33),g._uU(25," SHA 256 "),g.qZA(),g.TgZ(26,"option",33),g._uU(27," SHA 512 "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(28,"td",43),g.YNc(29,J,2,1,"a",44),g.qZA(),g.BQk(),g.qZA()}if(2&e){const e=t.$implicit,s=t.index,i=g.oxw(2);g.xp6(1),g.Q6J("formGroup",e),g.xp6(2),g.Q6J("ngIf","TCP/IP"==i.showFetch),g.xp6(1),g.Q6J("ngIf","JSON"==i.showFetch&&"JSON"===i.showFormat),g.xp6(1),g.Q6J("ngIf","XML"==i.showFetch&&"JSON"!==i.showFormat&&!i.afterupload),g.xp6(1),g.Q6J("ngIf","XML"==i.showFetch&&"JSON"!==i.showFormat&&i.afterupload),g.xp6(1),g.Q6J("ngIf","DB Connection"==i.showFetch),g.xp6(1),g.Q6J("ngIf","MT"==i.showFetch||"MX"==i.showFetch),g.xp6(2),g.Q6J("ngIf","DB Connection"===i.showFetch),g.xp6(1),g.Q6J("ngIf","MT"===i.showFetch||"MX"==i.showFetch),g.xp6(1),g.Q6J("ngIf","XML"==i.showFetch||"JSON"==i.showFetch),g.xp6(1),g.Q6J("ngIf","TCP/IP"==i.showFetch),g.xp6(2),g.MGl("id","responseIndicator_",s,""),g.Q6J("readonly",!i.editValue),g.xp6(2),g.MGl("id","encryption_",s,""),g.xp6(3),g.Q6J("value","No Encryption"),g.xp6(2),g.Q6J("value","BASE64"),g.xp6(2),g.Q6J("value","SHA256"),g.xp6(2),g.Q6J("value","SHA512"),g.xp6(3),g.Q6J("ngIf",i.submit)}}function Q(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",57),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).addTransaltionGroup("")}),g.TgZ(1,"span"),g._UZ(2,"img",58),g.qZA(),g.qZA()}}function Y(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",31),g.TgZ(1,"button",59),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).editValues()}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("hidden",e.hideSubmit),g.xp6(1),g.Oqu(e.roleCodes.edit.labelDescription)}}function L(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",31),g.TgZ(1,"button",60),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).authorizeRuleTranslation()}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("hidden",e.hideSubmit),g.xp6(1),g.Oqu(e.roleCodes.auth.labelDescription)}}function V(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",31),g.TgZ(1,"button",61),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).closeRuleTranslation()}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("hidden",e.hideSubmit),g.xp6(1),g.Oqu(e.roleCodes.close.labelDescription)}}function P(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",31),g.TgZ(1,"button",61),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).openRuleTranslation()}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("hidden",e.hideSubmit),g.xp6(1),g.Oqu(e.roleCodes.reopen.labelDescription)}}function H(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",31),g.TgZ(1,"button",61),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).deleteRuleTranslation()}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("hidden",e.hideSubmit),g.xp6(1),g.Oqu(e.roleCodes.delete.labelDescription)}}const $=function(){return["/rule-translation/summary"]};function X(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"form",5),g.TgZ(1,"fieldset",6),g.TgZ(2,"div",7),g.TgZ(3,"div",8),g.TgZ(4,"div",9),g.TgZ(5,"label",10),g._uU(6,"Source System"),g.TgZ(7,"span",11),g._uU(8,"*"),g.qZA(),g.qZA(),g.TgZ(9,"ng-select",12),g.NdJ("change",function(t){return g.CHM(e),g.oxw().onSlectionExternalSystem(t)}),g.TgZ(10,"ng-option",13),g._uU(11,"Please select System"),g.qZA(),g.YNc(12,A,2,2,"ng-option",14),g.qZA(),g.qZA(),g.TgZ(13,"div",9),g.TgZ(14,"label",10),g._uU(15,"Message Type"),g.qZA(),g.TgZ(16,"select",15),g.NdJ("change",function(){g.CHM(e);const t=g.oxw();return t.onSelectionOFMessageType(t.ruleTransForm.get("messageType").value)}),g.TgZ(17,"option",13),g._uU(18,"--Please select--"),g.qZA(),g.TgZ(19,"option",16),g._uU(20,"Incoming"),g.qZA(),g.TgZ(21,"option",17),g._uU(22,"OutGoing"),g.qZA(),g.qZA(),g.qZA(),g.YNc(23,v,6,1,"div",18),g.qZA(),g._UZ(24,"br"),g.TgZ(25,"div",8),g.TgZ(26,"div",19),g.TgZ(27,"button",20),g.NdJ("click",function(){return g.CHM(e),g.oxw().onFetch()}),g._uU(28,"Fetch"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(29,"div",7),g.TgZ(30,"fieldset",6),g.TgZ(31,"div",21),g.TgZ(32,"table",22),g.TgZ(33,"thead"),g.TgZ(34,"tr"),g.TgZ(35,"th"),g.YNc(36,y,2,0,"ng-container",23),g.YNc(37,x,2,0,"ng-container",23),g.YNc(38,q,2,0,"ng-container",23),g.YNc(39,b,2,0,"ng-container",23),g.TgZ(40,"span",11),g._uU(41,"*"),g.qZA(),g.qZA(),g.TgZ(42,"th"),g.YNc(43,S,2,0,"ng-container",23),g.YNc(44,C,2,0,"ng-container",23),g.TgZ(45,"span",11),g._uU(46,"*"),g.qZA(),g.qZA(),g.TgZ(47,"th"),g._uU(48,"Default value"),g.TgZ(49,"span",11),g._uU(50,"*"),g.qZA(),g.qZA(),g.TgZ(51,"th"),g._uU(52,"Encryption"),g.TgZ(53,"span",11),g._uU(54,"*"),g.qZA(),g.qZA(),g.TgZ(55,"th"),g._uU(56,"Action"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(57,"tbody"),g.ynx(58,24),g.YNc(59,k,30,19,"tr",25),g.BQk(),g.TgZ(60,"tr"),g.TgZ(61,"td"),g.YNc(62,Q,3,0,"button",26),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(63,"div",27),g.YNc(64,Y,3,2,"div",28),g.TgZ(65,"div",29),g.TgZ(66,"button",30),g.NdJ("click",function(){return g.CHM(e),g.oxw().onSubmit()}),g._uU(67,"Save"),g.qZA(),g.qZA(),g.YNc(68,L,3,2,"div",28),g.YNc(69,V,3,2,"div",28),g.YNc(70,P,3,2,"div",28),g.YNc(71,H,3,2,"div",28),g.TgZ(72,"div",31),g.TgZ(73,"button",32),g._uU(74,"Exit"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("formGroup",e.ruleTransForm),g.xp6(1),g.Q6J("disabled",!e.editValue),g.xp6(8),g.Q6J("readonly",!e.editValue),g.xp6(3),g.Q6J("ngForOf",e.externalSystem),g.xp6(11),g.Q6J("ngIf","XML"==e.showFetch&&"JSON"!==e.showFormat),g.xp6(4),g.Q6J("disabled",!e.editValue),g.xp6(3),g.Q6J("disabled",!e.editValue),g.xp6(6),g.Q6J("ngIf","MT"==e.showFetch||"MX"==e.showFetch),g.xp6(1),g.Q6J("ngIf","XML"==e.showFetch&&!e.afterupload||"XML"==e.showFetch&&e.afterupload),g.xp6(1),g.Q6J("ngIf","JSON"==e.showFetch),g.xp6(1),g.Q6J("ngIf","DB Connection"==e.showFetch),g.xp6(4),g.Q6J("ngIf","JSON"==e.showFetch||"XML"==e.showFetch||"DB Connection"==e.showFetch),g.xp6(1),g.Q6J("ngIf","TCP/IP"==e.showFetch||"MT"==e.showFetch||"MX"==e.showFetch),g.xp6(15),g.Q6J("ngForOf",e.msgTransDetails.controls),g.xp6(3),g.Q6J("ngIf",e.submit),g.xp6(2),g.Q6J("ngIf",!("C"==e.ruleTRespData.recordStatus||"CLOSED"==e.ruleTRespData.recordStatus)&&e.roleCodes.edit),g.xp6(1),g.Q6J("hidden",!e.hideSubmit),g.xp6(1),g.Q6J("disabled",!e.ruleTransForm.dirty),g.xp6(2),g.Q6J("ngIf",("U"==e.ruleTRespData.approvedStatus||"N"==e.ruleTRespData.approvedStatus||"UNAUTHORIZED"==e.ruleTRespData.approvedStatus)&&e.roleCodes.auth),g.xp6(1),g.Q6J("ngIf",("O"==e.ruleTRespData.recordStatus||"OPEN"==e.ruleTRespData.recordStatus)&&"NO"!=e.ruleTRespData.approvedEver&&"N"!=e.ruleTRespData.approvedEver&&e.roleCodes.close),g.xp6(1),g.Q6J("ngIf",("C"==e.ruleTRespData.recordStatus||"CLOSED"==e.ruleTRespData.recordStatus)&&e.roleCodes.reopen),g.xp6(1),g.Q6J("ngIf",("NO"==e.ruleTRespData.approvedEver||"N"==e.ruleTRespData.approvedEver)&&!e.showdelete&&e.roleCodes.delete),g.xp6(2),g.Q6J("routerLink",g.DdM(23,$))}}function G(e,t){if(1&e&&(g.TgZ(0,"div",7),g.TgZ(1,"div",62),g.TgZ(2,"div",63),g.TgZ(3,"div",64),g.TgZ(4,"div",65),g.TgZ(5,"div",31),g.TgZ(6,"div",66),g._UZ(7,"i",67),g.qZA(),g.qZA(),g.TgZ(8,"div",68),g.TgZ(9,"div",69),g.TgZ(10,"h2"),g._uU(11,"Maker"),g.qZA(),g.TgZ(12,"p"),g._uU(13),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"div",63),g.TgZ(15,"div",64),g.TgZ(16,"div",65),g.TgZ(17,"div",31),g.TgZ(18,"div",70),g._UZ(19,"img",71),g.qZA(),g.qZA(),g.TgZ(20,"div",68),g.TgZ(21,"div",69),g.TgZ(22,"h2"),g._uU(23,"Maker Time Stamp"),g.qZA(),g.TgZ(24,"p"),g._uU(25),g.ALo(26,"date"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"div",63),g.TgZ(28,"div",64),g.TgZ(29,"div",65),g.TgZ(30,"div",31),g.TgZ(31,"div",72),g._UZ(32,"img",73),g.qZA(),g.qZA(),g.TgZ(33,"div",68),g.TgZ(34,"div",69),g.TgZ(35,"h2"),g._uU(36,"Record Status"),g.qZA(),g.TgZ(37,"p"),g._uU(38),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(39,"div",63),g.TgZ(40,"div",64),g.TgZ(41,"div",65),g.TgZ(42,"div",31),g.TgZ(43,"div",74),g._UZ(44,"i",75),g.qZA(),g.qZA(),g.TgZ(45,"div",68),g.TgZ(46,"div",69),g.TgZ(47,"h2"),g._uU(48,"Checker"),g.qZA(),g.TgZ(49,"p"),g._uU(50),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(51,"div",63),g.TgZ(52,"div",64),g.TgZ(53,"div",65),g.TgZ(54,"div",31),g.TgZ(55,"div",76),g._UZ(56,"img",77),g.qZA(),g.qZA(),g.TgZ(57,"div",68),g.TgZ(58,"div",69),g.TgZ(59,"h2"),g._uU(60,"Checker Time Stamp"),g.qZA(),g.TgZ(61,"p"),g._uU(62),g.ALo(63,"date"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(64,"div",63),g.TgZ(65,"div",64),g.TgZ(66,"div",65),g.TgZ(67,"div",31),g.TgZ(68,"div",78),g._UZ(69,"img",79),g.qZA(),g.qZA(),g.TgZ(70,"div",68),g.TgZ(71,"div",69),g.TgZ(72,"h2"),g._uU(73,"First Time Authorization"),g.qZA(),g.TgZ(74,"p"),g._uU(75),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(76,"div",63),g.TgZ(77,"div",64),g.TgZ(78,"div",65),g.TgZ(79,"div",31),g.TgZ(80,"div",80),g._UZ(81,"img",81),g.qZA(),g.qZA(),g.TgZ(82,"div",68),g.TgZ(83,"div",69),g.TgZ(84,"h2"),g._uU(85,"Authorization Status"),g.qZA(),g.TgZ(86,"p"),g._uU(87),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(88,"div",63),g.TgZ(89,"div",64),g.TgZ(90,"div",65),g.TgZ(91,"div",31),g.TgZ(92,"div",80),g._UZ(93,"img",82),g.qZA(),g.qZA(),g.TgZ(94,"div",68),g.TgZ(95,"div",69),g.TgZ(96,"h2"),g._uU(97,"Modification Number"),g.qZA(),g.TgZ(98,"p"),g._uU(99),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(13),g.Oqu(e.ruleTRespData.creatorId),g.xp6(12),g.Oqu(g.xi3(26,8,e.ruleTRespData.createdTime,"MM/dd/yyyy, h:mm a")),g.xp6(13),g.Oqu("O"==e.ruleTRespData.recordStatus?"OPEN":"C"==e.ruleTRespData.recordStatus?"CLOSED":e.ruleTRespData.recordStatus),g.xp6(12),g.Oqu(e.ruleTRespData.approverId),g.xp6(12),g.Oqu(g.xi3(63,11,e.ruleTRespData.approvedTime,"MM/dd/yyyy, h:mm a")),g.xp6(13),g.Oqu("N"==e.ruleTRespData.approvedEver?"NO":"Y"==e.ruleTRespData.approvedEver?"YES":e.ruleTRespData.approvedEver),g.xp6(12),g.Oqu("N"==e.ruleTRespData.approvedStatus||"U"==e.ruleTRespData.approvedStatus?"UNAUTHORIZED":"Y"==e.ruleTRespData.approvedStatus||"A"==e.ruleTRespData.approvedStatus?"AUTHORIZED":e.ruleTRespData.approvedStatus),g.xp6(12),g.Oqu(e.ruleTRespData.versionNo)}}let z=(()=>{class e{constructor(e,t,s,i,n,o,a,r,d,u,g){this.rules=e,this.roleService=t,this.addSystem=s,this.router=i,this.cdr=n,this._route=o,this.formBuilder=a,this.datePipe=r,this.elementRef=d,this.canDeactivateGuard=u,this.toastService=g,this.submit=!0,this.msgTranslation=new j,this.translationDeatils=[],this.translationDTO=new W,this.showAuditLog=!0,this.displaySubmit=!1,this.authorizeDone=!1,this.hideSubmit=!1,this.formTouched=!0,this.showDialog=!1,this.subject=new l.xQ,this.isSelected=!0,this.roleCodes=new c.yv,this.disableFields=!1,this.columnNameDD=[],this.mTMxResp=[]}ngOnInit(){this.currentUser=localStorage.getItem("userFromLogin"),this.ruleTransForm=this.formBuilder.group({transId:this.transId,systemCode:["",r.kI.required],messageType:["",r.kI.required],serviceName:[""],operationName:[""],msgTransDetails:this.formBuilder.array([])}),this.gettingExternalsystem(),this.fetchingHeadertag(),this.getById(this._route.snapshot.params.id),this.roleService.fetchScreenPermissions("Rule translation"),this.roleService.screenLabelList.subscribe(e=>this.roleCodes=e),setTimeout(()=>{console.log(this.roleCodes)},100),this.ruleTransForm.disable(),this.msgTransDetails.disable(),console.log(this.msgTransDetails)}getById(e){this.rules.ruleTranslationBasedonId(e).subscribe(e=>{console.log(e),this.translationDeatils=e,this.editRuleTransResp=e,console.log("editRuleTransResp??",this.editRuleTransResp),this.ruleTRespData=this.editRuleTransResp,console.log(this.ruleTRespData),this.transId=this.ruleTRespData.transId,console.log(this.transId),this.msgTranslation.systemCode=this.editRuleTransResp.systemCode,this.msgTranslation.messageType=this.editRuleTransResp.messageType,this.msgTranslation.operationName=this.editRuleTransResp.operationName,this.msgTranslation.serviceName=this.editRuleTransResp.serviceName,this.ruleTransForm.get("operationName").setValue(this.editRuleTransResp.operationName),this.ruleTransForm.patchValue(this.editRuleTransResp);for(let t=0;t<this.editRuleTransResp.msgTransDetails.length;t++){console.log(this.editRuleTransResp.msgTransDetails),this.addTransaltionGroup({});const e=this.editRuleTransResp.msgTransDetails[t];this.msgTransDetails.at(t).patchValue(Object.assign(Object.assign({},e),{formattedMessageBasis:`${e.messageKey} ${e.messagebasis}`}))}this.cdr.markForCheck(),this.onSelectionOFMessageType(this.msgTranslation.messageType),this.onSlectionExternalSystem(this.msgTranslation.systemCode),this.gettingoperationAndService(this.msgTranslation.systemCode,this.msgTranslation.messageType,this.currentUser),this.translationDeatils=this.editRuleTransResp.msgTransDetails,console.log(this.translationDeatils),"C"==this.ruleTRespData.recordStatus&&(console.log(this.ruleTRespData.recordStatus),this.reopenBtn=!1,this.authBtnHide=!0),"U"==this.ruleTRespData.approvedStatus&&(console.log(this.ruleTRespData.approvedStatus),this.authBtnHide=!1,this.authBtn=!1)})}gettingExternalsystem(){this.rules.gettingExternalsystem().subscribe(e=>{console.log(e),e&&(this.externalSystem=e)},e=>{console.log("err",e)})}onSlectionExternalSystem(e){console.log(e),this.sourcesystem=this.msgTranslation.messageType}canExit(){let e=!1;return this.ruleTransForm.touched&&1==this.formTouched?u().fire({text:"There are unsaved changes in the screen. Would you like to navigate to other screen?",showCancelButton:!0,confirmButtonColor:"#E6224A",cancelButtonColor:"#011945",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(t=>!0===t.isConfirmed?(e=!0,this.cdr.markForCheck(),e):(e=!1,this.cdr.markForCheck(),e)):(e=!0,new Promise((t,s)=>{!0===e&&(e=!0,this.cdr.markForCheck(),t(!0))}))}onSelectionOFMessageType(e){console.log("Event",e),this.msgType=e,this.sourcesystem&&this.msgType?this.gettingoperationAndService(this.msgTranslation.systemCode,this.msgType,this.currentUser):console.log("enter both msg and ext")}gettingoperationAndService(e,t,s){this.rules.gettingoperationAndService(e,t,s).subscribe(e=>{console.log(e),this.messageBasisData=e.MdmtSystemService,this.mdmtSystemChannel=e.MdmtSystemChannel,console.log("messageBasisData",this.messageBasisData);let t=Object.keys(e);console.log(t);let s=t[2],i=t[3];"I"==s&&3==Object.keys(e).length?(console.log("yes",s),0!==e.I.SERVICE.length&&(this.msgTranslation.serviceName=e.I.SERVICE[0].headerValue,e.I.SERVICE.length<=1&&(console.log(this.translationDataOperation,"1st if"),this.multipleService=!0),e.I.SERVICE.length>1&&(console.log(this.translationDataOperation,"2nd If"),this.multipleService=!1)),0!==e.I.OPERATION.length&&(this.msgTranslation.operationName=e.I.OPERATION[0].headerValue,this.translationDataOperation=e.I.OPERATION,this.translationDataOperation.length<=1&&(console.log(this.translationDataOperation,"1st if"),this.multipleOperation=!0),this.translationDataOperation.length>1&&(console.log(this.translationDataOperation,"2nd If"),this.multipleOperation=!1)),this.translationDataService=e.I.SERVICE):"O"==s&&3==Object.keys(e).length?(console.log("else if",s),0!==e.O.SERVICE.length&&(this.msgTranslation.serviceName=e.O.SERVICE[0].headerValue,e.O.SERVICE.length<=1&&(console.log(this.translationDataOperation,"1st if"),this.multipleService=!0),e.O.SERVICE.length>1&&(console.log(this.translationDataOperation,"2nd If"),this.multipleService=!1)),0!==e.O.OPERATION.length&&(this.msgTranslation.operationName=e.O.OPERATION[0].headerValue,this.translationDataOperation=e.O.OPERATION,this.translationDataOperation.length<=1&&(console.log(this.translationDataOperation,"1st if"),this.multipleOperation=!0),this.translationDataOperation.length>1&&(console.log(this.translationDataOperation,"2nd If"),this.multipleOperation=!1)),this.translationDataService=e.O.SERVICE):"I"==s&&"I"==this.msgTranslation.messageType&&4==Object.keys(e).length?(0!==e.I.SERVICE.length&&(this.msgTranslation.serviceName=e.I.SERVICE[0].headerValue),0!==e.I.OPERATION.length&&(this.msgTranslation.operationName=e.I.OPERATION[0].headerValue,this.translationDataOperation=e.I.OPERATION),this.translationDataService=e.I.SERVICE):"O"==i&&"O"==this.msgTranslation.messageType&&4==Object.keys(e).length&&(0!==e.O.SERVICE.length&&(this.msgTranslation.serviceName=e.O.SERVICE[0].headerValue),0!==e.O.OPERATION.length&&(this.msgTranslation.operationName=e.O.OPERATION[0].headerValue,this.translationDataOperation=e.O.OPERATION),this.translationDataService=e.O.SERVICE),this.showFetch=e.MdmtSystemChannel[0].messageChannel,this.showFormat=e.MdmtSystemChannel[0].messageFormat,"Https/Http"==this.showFetch?this.showFetch=e.MdmtSystemChannel[0].messageFormat:"TCP/IP"==this.showFetch?this.fetchingIso():"DB Connection"==this.showFetch?this.addSystem.coulmnNameBasedonTableName(e.MdmtSystemChannel[0].dbConnectString,e.MdmtSystemChannel[0].dbServiceName,e.MdmtSystemChannel[0].dbUsername,e.MdmtSystemChannel[0].dbPassword,e.MdmtSystemChannel[0].sysService[0].messageKey.split(",",1)).subscribe(e=>{e.forEach(e=>{this.columnNameDD.push(e[1])})}):"MT"==this.showFetch?this.addSystem.getMtApi().subscribe(e=>{console.log("mt resp",e),this.mTMxResp=e}):"MX"==this.showFetch&&this.addSystem.getMxApi().subscribe(e=>{console.log("mx resp",e),this.mTMxResp=e})},e=>{console.log(e)})}onSubmit(){this.ruleTransForm.value.operationName="Conversion",this.ruleTransForm.value.serviceName="Conversion",console.log("Update?",this.ruleTransForm.value);const e=Object.assign(Object.assign({},this.ruleTransForm.value),{msgTransDetails:this.ruleTransForm.value.msgTransDetails.map(e=>(0,a._T)(e,["formattedMessageBasis"]))});this.translationDTO.msgTranslation=this.msgTranslation,console.log("updatedFormData ",e),this.translationDTO.msgTranslationDet=this.ruleRecord,console.log(this.translationDTO),this.rules.editruleTranslation("update",this.currentUser,e).subscribe(e=>{console.log(e),this.ruleTRespData=e,e&&(u().fire({text:"Record is Updated",icon:"success"}),this.submit=!1,this.showAuditLog=!0,this.editValue=!1,this.hideSubmit=!1,this.formTouched=!this.ruleTransForm.touched)},e=>{u().fire({text:"Server Error.",icon:"error"})})}onFetch(){this.showRecords=!0}onReset(){this.msgTranslation=new j,this.ruleRecord=[]}getTranslationItem(e){return this.formBuilder.group({messagebasis:[e.messagebasis?e.messagebasis:""],formattedMessageBasis:[e.formattedMessageBasis?e.formattedMessageBasis:""],headerTag:[e.headerTag?e.headerTag:""],defaultValue:[e.defaultValue?e.defaultValue:""],systemChannelId:[e.systemChannelId?e.systemChannelId:""],encryption:[e.encryption?e.encryption:"No Encryption"],id:[e.id?e.id:""],dataType:[e.dataType?e.dataType:""],messageKey:[e.messageKey?e.messageKey:""]})}get msgTransDetails(){return this.ruleTransForm.get("msgTransDetails")}addTransaltionGroup(e){this.msgTransDetails.push(this.getTranslationItem(e))}removeTranslation(e){u().fire({title:"are you sure, want to remove the record?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then(t=>{t.isConfirmed&&(this.msgTransDetails.removeAt(e),u().fire("Removed!","","success"))})}selectFileFORHTTPXMLIncoming(e){console.log("here http and xML",e),this.selectedFiles=e.target.files,console.log("File selected",this.selectedFiles),console.log(this.selectedFiles[0].name),this.fileName=this.selectedFiles[0].name,this.fileUploadWrapper.nativeElement.setAttribute("data-text",this.fileName),this.currentFileUpload=this.selectedFiles.item(0),console.log(e.target.files),this.addSystem.gettingBodyOfXml(this.currentFileUpload).subscribe(e=>{console.log(e),e&&(this.xmlRespData=e,this.afterupload=!0,e&&(this.messageBasisIso=e.nodeTagList,this.showRecords=!0,this.addTransaltionGroup({})))},e=>{})}fetchingHeadertag(){this.addSystem.fetchingHeaderTag().subscribe(e=>{console.log("res",e),this.headerTagData=e})}fetchingIso(){this.addSystem.fetchingIsoForTcp().subscribe(e=>{console.log(e),this.matlabel1="Filed No",this.messageBasisIso=e.map(e=>e.fieldName),this.messageKeyIso=e.map(e=>e.fieldNo.toString())})}fetchingXMl(){this.addSystem.gettinXMLmsgIncoming().subscribe(e=>{console.log(e),this.xmlRespData=e.map(e=>e.messageBasis)})}edit(){this.editValue=!0,this.displaySubmit=!0,this.onlysubmit=!0,this.showAuditLog=!1,console.log(this.ruleTRespData),"U"==this.ruleTRespData.approvedStatus&&(this.editValue=!1),"C"==this.ruleTRespData.recordStatus&&(this.editValue=!1)}chooseFile(){console.log("heyy file"),document.getElementById("chFile").click()}authorizeRuleTranslation(){u().fire({text:"You are trying to Authorize record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(e=>{console.log("this is reopen ",e),!0===e.isConfirmed&&(this.currentUser==this.ruleTRespData.creatorId?u().fire("Maker cannot authorize!"):this.addSystem.editruleTranslation("auth",this.currentUser,this.ruleTRespData).subscribe(e=>{console.log(e),e.approverId&&(this.authorizeDone=!0,u().fire("Record is Authorized "),this.ruleTRespData=e)}))})}editValues(){this.hideSubmit=!0,this.editValue=!0,this.displaySubmit=!0,this.onlysubmit=!0,this.showAuditLog=!1,console.log(this.ruleTRespData),this.ruleTransForm.enable(),this.msgTransDetails.enable()}openRuleTranslation(){u().fire({text:"You are trying to re-open record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(e=>{console.log("this is reopen ",e),!0===e.isConfirmed&&(console.log(this.ruleTRespData),console.log(this.currentUser),this.addSystem.editruleTranslation("open",this.currentUser,this.ruleTRespData).subscribe(e=>{console.log(e),e&&(u().fire("Record is Reopened"),this.ruleTRespData=e,this.authBtnHide=!1,this.editBtn=!1,this.authBtn=!1)}))})}closeRuleTranslation(){u().fire({text:"You are trying to close record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(e=>{console.log("this is reopen ",e),!0===e.isConfirmed&&this.addSystem.editruleTranslation("close",this.currentUser,this.ruleTRespData).subscribe(e=>{console.log(e),e&&(u().fire({text:"Record is Closed",icon:"success"}),this.ruleTRespData=e,this.editBtn=!0,this.authBtn=!0,this.deleted=!1,this.reopenBtn=!1)})})}deleteRuleTranslation(){u().fire({text:"You are trying to Delete record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(e=>{if(console.log("this is reopen ",e),!0===e.isConfirmed){let e=this.ruleTRespData;console.log(this.ruleTRespData),this.addSystem.deleteRuleTranslation(this.currentUser,e.transId).subscribe(e=>{},e=>{200==e.status&&(this.showdelete=!0,this.editBtn=!0,this.authBtn=!0,this.closeBtn=!0,u().fire({title:"Record is Deleted!",confirmButtonText:"Ok"}).then(e=>{e&&this.router.navigateByUrl("/rule-translation/summary")}))})}})}onselectingFieldName(e,t){if(this.msgTransDetails.at(t).get("defaultValue").patchValue(""),"MIRDate"===e||"ReceiverOutputDate"===e||"CreDt"===e){const e=this.datePipe.transform(new Date,"yyyy-MM-dd");this.msgTransDetails.at(t).get("defaultValue").patchValue(e)}if("ReceiverOutputTime"===e||"SenderInputTime"===e){var s=new Date;this.msgTransDetails.at(t).get("defaultValue").patchValue(s.getHours()+":"+s.getMinutes())}"MessagePriority"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("N"),"MessageType"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("103"),"blockType"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("O"),"MsgDefIdr"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("pacs.008.001.07"),"PssblDplct"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue(!1)}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(h.Q),g.Y36(p.N),g.Y36(m.Z),g.Y36(n.F0),g.Y36(g.sBO),g.Y36(n.gz),g.Y36(r.qu),g.Y36(i.uU),g.Y36(g.SBq),g.Y36(o.I),g.Y36(T.k))},e.\u0275cmp=g.Xpm({type:e,selectors:[["npr-rule-translation-details"]],viewQuery:function(e,t){if(1&e&&g.Gf(f,5),2&e){let e;g.iGM(e=g.CRH())&&(t.fileUploadWrapper=e.first)}},features:[g._Bn([i.uU])],decls:7,vars:2,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],["class","formStyle",3,"formGroup",4,"ngIf"],["class","dbCardStyle",4,"ngIf"],[1,"formStyle",3,"formGroup"],[3,"disabled"],[1,"dbCardStyle"],[1,"row","gy-4","align-items-end"],[1,"col-lg-2"],["for","roleName",1,"formLbl"],[1,"colorRed"],["id","outlineNgSelect","id","sysCode","formControlName","systemCode","aria-label","Default select example","required","",1,"form-select",3,"readonly","change"],["hidden","","value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","msgType","formControlName","messageType","aria-label","Default select example",1,"form-select",3,"change"],["value","I"],["value","O"],["class","col-lg-4",3,"click",4,"ngIf"],[1,"col-lg-3"],[1,"btn","minWdSmBtn","btnPrimary",3,"disabled","click"],[1,"table-responsive"],["id","dbTable1",1,"table","tableStyle","responsive","nowrap","vAlignMdl"],[4,"ngIf"],["formArrayName","msgTransDetails"],[4,"ngFor","ngForOf"],["class","addIcon primarybg",3,"click",4,"ngIf"],[1,"row","g-3","pb-3","justify-content-end","pt-3"],["class","col-auto",4,"ngIf"],[1,"col-auto",3,"hidden"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[3,"value"],[1,"col-lg-4",3,"click"],[1,"fileUpload"],[1,"formS"],["data-text","File Upload",1,"file-upload-wrapper"],["fileWrapper",""],["id","chFile","name","file-upload-field","type","file",1,"file-upload-field",3,"disabled","change"],[3,"formGroup"],["formControlName","defaultValue","type","text",1,"form-control",3,"id","readonly"],["formControlName","encryption","aria-label","Default select example",1,"form-select",3,"id","change"],[1,"tblIcon"],[3,"ngClass","click",4,"ngIf"],["name","formattedMessageBasis","formControlName","formattedMessageBasis",1,"form-control",3,"readonly"],["formControlName","messagebasis","aria-label","Default select example","required","",1,"form-control",3,"id"],["name","messagebasis","formControlName","messagebasis",1,"form-control",3,"readonly"],["formControlName","messagebasis","aria-label","Default select example","required","",1,"form-select",3,"id","disabled"],["formControlName","dataType","aria-label","Default select example",1,"form-select",3,"id"],["value","VARCHAR2"],["value","NUMBER"],["value","DATE"],["formControlName","dataType","aria-label","Default select example",1,"form-select"],["type","text","formControlName","dataType",1,"form-control",3,"readonly"],[3,"ngClass","click"],["src","assets/images/delete-icon.svg","alt","..."],[1,"addIcon","primarybg",3,"click"],["src","assets/images/plus-icon.svg","alt","..."],[1,"btn","smBtn","minWdSmBtn","btnUpdate",3,"hidden","click"],[1,"btn","smBtn","minWdSmBtn","btnAuth",3,"hidden","click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"hidden","click"],[1,"row"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"csCardStyle"],[1,"row","g-2","align-items-center"],[1,"csCardStyleIcon","csCardStyleIconBg1"],[1,"fa","fa-edit","faClass"],[1,"col"],[1,"csCardStyleText"],[1,"csCardStyleIcon","csCardStyleIconBg2"],["src","assets/images/time-stamp-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg3"],["src","assets/images/record-status-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg4"],[1,"fa","fa-check-square-o","faClassChecker"],[1,"csCardStyleIcon","csCardStyleIconBg5"],["src","assets/images/checker-time-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg6"],["src","assets/images/first-auth-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg7"],["src","assets/images/authorize.svg","alt","...",1,"modImage"],["src","assets/images/modification.svg","alt","...",1,"modImage"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h2",2),g._uU(3,"Rule Translation"),g.qZA(),g.qZA(),g.YNc(4,X,75,24,"form",3),g._UZ(5,"br"),g.YNc(6,G,100,14,"div",4),g.qZA()),2&e&&(g.xp6(4),g.Q6J("ngIf",t.ruleTransForm),g.xp6(2),g.Q6J("ngIf",t.showAuditLog))},directives:[i.O5,r._Y,r.JL,r.sg,Z.w9,r.JJ,r.u,r.Q7,Z.jq,i.sg,r.EJ,r.YN,r.Kr,r.CE,n.rH,r.Fj,i.mk],pipes:[i.uU],styles:[".readonlyTrue[_ngcontent-%COMP%]{pointer-events:none!important}.readonlyFalse[_ngcontent-%COMP%]{pointer-events:visible!important}"]}),e})();class j{}class W{}var K=s(3118),ee=s(91841),te=s(17988);const se=function(){return["/rule-translation/create"]},ie=function(){return["active"]};function ne(e,t){if(1&e&&(g.TgZ(0,"div",6),g.TgZ(1,"a",11),g._uU(2),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("routerLink",g.DdM(3,se))("routerLinkActive",g.DdM(4,ie)),g.xp6(1),g.Oqu(e.roleCodes.new.labelDescription)}}function oe(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",19),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(2).close(t)}),g._UZ(1,"img",20),g.qZA()}}function ae(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",21),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(2).open(t)}),g._UZ(1,"img",22),g.qZA()}}function re(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",23),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(2).delete(t)}),g._UZ(1,"img",24),g.qZA()}}function le(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g.TgZ(2,"a",13),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).onGetId(t)}),g._uU(3),g.qZA(),g.qZA(),g.TgZ(4,"td"),g._uU(5),g.qZA(),g.TgZ(6,"td"),g._uU(7),g.qZA(),g.TgZ(8,"td"),g._uU(9),g.ALo(10,"date"),g.qZA(),g.TgZ(11,"td"),g.TgZ(12,"button",14),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).auth(t)}),g._UZ(13,"img",15),g.qZA(),g.YNc(14,oe,2,0,"button",16),g.YNc(15,ae,2,0,"button",17),g.YNc(16,re,2,0,"button",18),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit;g.xp6(3),g.Oqu(e.systemCode),g.xp6(2),g.Oqu(e.approvedStatus),g.xp6(2),g.Oqu(e.recordStatus),g.xp6(2),g.Oqu(g.xi3(10,8,e.createdTime,"medium")),g.xp6(3),g.Q6J("disabled",!("U"==e.approvedStatus||"UNAUTHORIZED"==e.approvedStatus||"Unauthorized"==e.approvedStatus)),g.xp6(2),g.Q6J("ngIf",!("O"!=e.recordStatus&&"Open"!=e.recordStatus&&"OPEN"!=e.recordStatus||"Y"!=e.approvedEver&&"YES"!=e.approvedEver)),g.xp6(1),g.Q6J("ngIf",!("CLOSED"!=e.recordStatus&&"Close"!=e.recordStatus&&"c"!=e.recordStatus&&"C"!=e.recordStatus||"YES"!=e.approvedEver&&"Y"!=e.approvedEver)),g.xp6(1),g.Q6J("ngIf","N"==e.approvedEver||"NO"==e.approvedEver)}}function ce(e,t){if(1&e&&(g.TgZ(0,"tbody"),g.YNc(1,le,17,11,"tr",12),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngForOf",e.translationList)}}function de(e,t){1&e&&(g.TgZ(0,"tbody"),g._UZ(1,"tr"),g.qZA())}function ue(e,t){1&e&&(g.ynx(0),g.TgZ(1,"div",25),g.TgZ(2,"span",26),g._uU(3,"Please wait... "),g._UZ(4,"span",27),g.qZA(),g.qZA(),g.BQk())}const ge=function(){return["/dashboard"]};let he=(()=>{class e{constructor(e,t,s,i,n,o){this.ruleService=e,this.router=t,this.roleService=s,this.cdr=i,this.addSystem=n,this.http=o,this.translationList=[],this.dtTrigger=new l.xQ,this.dtOptions={},this.isLoading=!1,this.roleCodes=new c.yv,this.statusArr=["Authorized","Unauthorized","Open","Close"],this.API_URL=K.$.baseURL}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:5,columnDefs:[{type:"date",targets:[3]}],order:[[3,"desc"]],serverSide:!0,lengthMenu:[[5,10,20,30,-1],[5,10,20,30,"ALL"]],ajax:(e,t)=>{e.minNumber=e.start+1,e.maxNumber=e.start+e.length,console.log(e.minNumber,e.maxNumber);const s=Math.floor(e.minNumber/e.length);this.http.get(`${this.API_URL}/msgApi/getTranslation?pageNo=${s}&pageSize=${e.length}&search=${e.search.value}`).subscribe(e=>{console.log(e);for(let t of e.result)t.approvedStatus=this.statusArr.find(e=>e.startsWith(t.approvedStatus)),t.recordStatus=this.statusArr.find(e=>e.startsWith(t.recordStatus));this.totalPages=e.totalNoOfPages,this.totalRecords=e.totalRecords,this.translationList=e.result,this.isLoading=!1,this.cdr.markForCheck(),t({recordsTotal:e.totalRecords,recordsFiltered:e.totalRecords,data:[]})})}},this.currentUser=localStorage.getItem("userFromLogin"),this.roleService.fetchScreenPermissions("Rule translation"),this.roleService.screenLabelList.subscribe(e=>this.roleCodes=e)}fetchRuleTranslationSummary(){this.isLoading=!0,this.ruleService.fetchingruleTranslation().subscribe(e=>{console.log(e);for(let t of e.result)t.approvedStatus=this.statusArr.find(e=>e.startsWith(t.approvedStatus)),t.recordStatus=this.statusArr.find(e=>e.startsWith(t.recordStatus));this.translationList=e.result,this.isLoading=!1,this.cdr.markForCheck(),this.dtTrigger.next()})}onGetId(e){console.log(e),this.router.navigate(["/rule-translation/edit",e.transId])}ngOnDestroy(){this.dtTrigger.unsubscribe()}close(e){this.ruleTRespData=e,u().fire({text:"You are trying to close record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(e=>{console.log("this is reopen ",e),!0===e.isConfirmed&&this.addSystem.editruleTranslation("close",this.currentUser,this.ruleTRespData).subscribe(e=>{console.log(e),e&&(u().fire({text:"Record is Closed",icon:"success"}).then(()=>window.location.reload()),this.ruleTRespData=e,this.editBtn=!0,this.authBtn=!0,this.deleted=!1,this.reopenBtn=!1)})})}open(e){this.ruleTRespData=e,u().fire({text:"You are trying to re-open record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(e=>{console.log("this is reopen ",e),!0===e.isConfirmed&&this.addSystem.editruleTranslation("open",this.currentUser,this.ruleTRespData).subscribe(e=>{console.log(e),e&&(u().fire("Record is Reopened").then(()=>window.location.reload()),this.ruleTRespData=e,this.authBtnHide=!1,this.editBtn=!1,this.authBtn=!1)})})}delete(e){this.ruleTRespData=e,u().fire({text:"You are trying to Delete record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(e=>{if(console.log("this is reopen ",e),!0===e.isConfirmed){let e=this.ruleTRespData;console.log(this.ruleTRespData),this.addSystem.deleteRuleTranslation(this.currentUser,e.transId).subscribe(e=>{},e=>{200==e.status?(this.showdelete=!0,this.editBtn=!0,this.authBtn=!0,this.closeBtn=!0,u().fire({title:"Record is Deleted!",confirmButtonText:"Ok"}).then(()=>window.location.reload())):u().fire("Failed to delete the reocrd")})}})}auth(e){this.ruleTRespData=e,console.log(this.currentUser),console.log(this.ruleTRespData.creatorId),u().fire({text:"You are trying to Authorize record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(e=>{console.log("this is reopen ",e),!0===e.isConfirmed&&(this.currentUser==this.ruleTRespData.creatorId?u().fire("Maker cannot authorize!"):this.addSystem.editruleTranslation("auth",this.currentUser,this.ruleTRespData).subscribe(e=>{console.log(e),e.approverId&&(this.authorizeDone=!0,u().fire("Record is Authorized ").then(()=>window.location.reload()),this.ruleTRespData=e)}))})}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(h.Q),g.Y36(n.F0),g.Y36(p.N),g.Y36(g.sBO),g.Y36(m.Z),g.Y36(ee.eN))},e.\u0275cmp=g.Xpm({type:e,selectors:[["npr-rule-translation-summary"]],decls:27,vars:7,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],[1,"dbCardStyle"],[1,"row","g-3","pb-3","justify-content-end"],["class","col-auto",4,"ngIf"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[1,"table-responsive"],["datatable","","id","dbTable1",1,"dataTable","table","tableStyleSelect","tableStyle","nowrap","vAlignMdl",2,"width","100%",3,"dtOptions"],[4,"ngIf"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"routerLink","routerLinkActive"],[4,"ngFor","ngForOf"],[1,"primaryColor",2,"cursor","pointer",3,"click"],["title","Authorize",1,"btn",2,"color","red",3,"disabled","click"],["src","assets/images/authorize.svg","alt","Authorize",1,"summaryIcon"],["class","btn","style","color: red","title","Close",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Reopen",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Delete",3,"click",4,"ngIf"],["title","Close",1,"btn",2,"color","red",3,"click"],["src","assets/images/CROSS1.svg","alt","...",1,"summaryIcon"],["title","Reopen",1,"btn",2,"color","red",3,"click"],["src","assets/images/open.svg","alt","...",1,"summaryIcon"],["title","Delete",1,"btn",2,"color","red",3,"click"],["src","assets/images/delete.svg","alt","...",1,"summaryIcon"],[1,"loading-page-center"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h2",2),g._uU(3,"Rule Translation"),g.qZA(),g.qZA(),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g.YNc(6,ne,3,5,"div",5),g.TgZ(7,"div",6),g.TgZ(8,"a",7),g._uU(9,"Exit"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"div",8),g.TgZ(11,"table",9),g.TgZ(12,"thead"),g.TgZ(13,"tr"),g.TgZ(14,"th"),g._uU(15,"System Code"),g.qZA(),g.TgZ(16,"th"),g._uU(17,"Auth Status"),g.qZA(),g.TgZ(18,"th"),g._uU(19,"Record Status"),g.qZA(),g.TgZ(20,"th"),g._uU(21,"Date"),g.qZA(),g.TgZ(22,"th"),g._uU(23,"Action"),g.qZA(),g.qZA(),g.qZA(),g.YNc(24,ce,2,1,"tbody",10),g.YNc(25,de,2,0,"tbody",10),g.qZA(),g.qZA(),g.YNc(26,ue,5,0,"ng-container",10),g.qZA(),g.qZA()),2&e&&(g.xp6(6),g.Q6J("ngIf",t.roleCodes.new),g.xp6(2),g.Q6J("routerLink",g.DdM(6,ge)),g.xp6(3),g.Q6J("dtOptions",t.dtOptions),g.xp6(13),g.Q6J("ngIf",0!=(null==t.translationList?null:t.translationList.length)),g.xp6(1),g.Q6J("ngIf",0==(null==t.translationList?null:t.translationList.length)),g.xp6(1),g.Q6J("ngIf",t.isLoading))},directives:[i.O5,n.yS,te.G,n.Od,i.sg],pipes:[i.uU],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{padding:11px 20px!important}"]}),e})();const pe=["fileWrapper"];function me(e,t){if(1&e&&(g.TgZ(0,"ng-option",22),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e),g.xp6(1),g.hij(" ",e," ")}}function Te(e,t){1&e&&g._UZ(0,"div",23)}function Ze(e,t){if(1&e&&(g.TgZ(0,"div",24),g._uU(1),g.qZA()),2&e){const e=g.oxw(2);g.xp6(1),g.hij(" ",e.messageArr," ")}}function fe(e,t){if(1&e&&(g.TgZ(0,"div",23),g._uU(1),g.qZA()),2&e){const e=g.oxw(2);g.xp6(1),g.hij(" ",e.messageArr," ")}}function Ae(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div"),g.TgZ(1,"select",25),g.NdJ("change",function(t){return g.CHM(e),g.oxw(2).onSelectionOFMessageType(t)}),g.TgZ(2,"option",13),g._uU(3,"--Please select--"),g.qZA(),g.TgZ(4,"option",26),g._uU(5,"Incoming"),g.qZA(),g.TgZ(6,"option",27),g._uU(7,"Outgoing"),g.qZA(),g.qZA(),g.qZA()}}function ve(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",28),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).chooseFile()}),g.TgZ(1,"div",29),g.TgZ(2,"div",30),g.TgZ(3,"div",31,32),g.TgZ(5,"input",33),g.NdJ("change",function(t){return g.CHM(e),g.oxw(2).selectFileFORHTTPXMLIncoming(t)}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}}const ye=function(){return["/rule-translation/summary"]};function xe(e,t){1&e&&(g.TgZ(0,"div",19),g.TgZ(1,"button",34),g._uU(2,"Exit"),g.qZA(),g.qZA()),2&e&&(g.xp6(1),g.Q6J("routerLink",g.DdM(1,ye)))}function qe(e,t){1&e&&(g.TgZ(0,"th"),g._uU(1," Field No. "),g.TgZ(2,"span",11),g._uU(3,"*"),g.qZA(),g.qZA())}function be(e,t){1&e&&(g.TgZ(0,"th"),g._uU(1," Tag "),g.TgZ(2,"span",11),g._uU(3,"*"),g.qZA(),g.qZA())}function Se(e,t){1&e&&(g.TgZ(0,"th"),g._uU(1," Key "),g.TgZ(2,"span",11),g._uU(3,"*"),g.qZA(),g.qZA())}function Ce(e,t){1&e&&(g.TgZ(0,"th"),g._uU(1," Column Name "),g.TgZ(2,"span",11),g._uU(3,"*"),g.qZA(),g.qZA())}function Re(e,t){1&e&&(g.ynx(0),g._uU(1," Data type "),g.BQk())}function Ne(e,t){1&e&&g._uU(0," Data type ")}function Ie(e,t){if(1&e&&(g.TgZ(0,"tr"),g.YNc(1,qe,4,0,"th",17),g.YNc(2,be,4,0,"th",17),g.YNc(3,Se,4,0,"th",17),g.YNc(4,Ce,4,0,"th",17),g.TgZ(5,"th"),g.YNc(6,Re,2,0,"ng-container",42),g.YNc(7,Ne,1,0,"ng-template",null,43,g.W1O),g.TgZ(9,"span",11),g._uU(10,"*"),g.qZA(),g.qZA(),g.TgZ(11,"th"),g._uU(12,"Default value"),g.TgZ(13,"span",11),g._uU(14,"*"),g.qZA(),g.qZA(),g.TgZ(15,"th"),g._uU(16,"Encryption"),g.TgZ(17,"span",11),g._uU(18,"*"),g.qZA(),g.qZA(),g.TgZ(19,"th"),g._uU(20,"Action"),g.qZA(),g.qZA()),2&e){const e=g.MAs(8),t=g.oxw(3);g.xp6(1),g.Q6J("ngIf","MT"==t.showFetch||"MX"==t.showFetch),g.xp6(1),g.Q6J("ngIf","XML"==t.showFetch),g.xp6(1),g.Q6J("ngIf","JSON"==t.showFetch),g.xp6(1),g.Q6J("ngIf","DB Connection"==t.showFetch),g.xp6(2),g.Q6J("ngIf","TCP/IP"==t.showFetch)("ngIfElse",e)}}function De(e,t){if(1&e&&(g.TgZ(0,"ng-option",22),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.messageKey),g.xp6(1),g.AsE(" ",e.messageKey," ",e.messagebasis," ")}}function we(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.TgZ(1,"ng-select",53),g.NdJ("change",function(t){g.CHM(e);const s=g.oxw().index;return g.oxw(3).onselectOfFieldNo(t,s)}),g.TgZ(2,"ng-option",13),g._uU(3,"Please select Field No"),g.qZA(),g.YNc(4,De,2,3,"ng-option",14),g.qZA(),g.BQk()}if(2&e){const e=g.oxw().index,t=g.oxw(3);g.xp6(1),g.MGl("id","fieldNo_",e,""),g.xp6(3),g.Q6J("ngForOf",t.fieldNoList)}}function Ue(e,t){if(1&e&&(g.TgZ(0,"option",56),g._uU(1),g.qZA()),2&e){const e=t.$implicit,s=g.oxw(5);g.Q6J("hidden",s.shouldDisableTagOption(e))("value",e),g.xp6(1),g.hij(" ",e,"")}}function Fe(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.TgZ(1,"select",54),g.NdJ("change",function(t){g.CHM(e);const s=g.oxw().index;return g.oxw(3).onselectingTag(t,s)}),g.TgZ(2,"option",13),g._uU(3,"--Please select--"),g.qZA(),g.YNc(4,Ue,2,3,"option",55),g.qZA(),g.BQk()}if(2&e){const e=g.oxw().index,t=g.oxw(3);g.xp6(1),g.MGl("id","tag_",e,""),g.xp6(3),g.Q6J("ngForOf",t.messageBasisIso)}}function Oe(e,t){if(1&e&&(g.ynx(0),g._UZ(1,"input",57),g.BQk()),2&e){const e=g.oxw().index;g.xp6(1),g.MGl("id","fieldNo_",e,"")}}function Be(e,t){if(1&e&&(g.TgZ(0,"option",22),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e),g.xp6(1),g.hij(" ",e,"")}}function _e(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.TgZ(1,"select",54),g.NdJ("change",function(t){g.CHM(e);const s=g.oxw().index;return g.oxw(3).onselectingFieldName(t.target.value,s)}),g.TgZ(2,"option",13),g._uU(3,"--Please select--"),g.qZA(),g.YNc(4,Be,2,2,"option",14),g.qZA(),g.BQk()}if(2&e){const e=g.oxw().index,t=g.oxw(3);g.xp6(1),g.MGl("id","db_",e,""),g.xp6(3),g.Q6J("ngForOf",t.mTMxResp)}}function Me(e,t){if(1&e&&(g.ynx(0),g._UZ(1,"input",57),g.BQk()),2&e){const e=g.oxw().index;g.xp6(1),g.MGl("id","db_",e,"")}}function Ee(e,t){if(1&e&&(g.ynx(0),g._UZ(1,"input",58),g.BQk()),2&e){const e=g.oxw().index;g.xp6(1),g.MGl("id","dataType_",e,"")}}function Je(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"select",59),g.TgZ(2,"option",13),g._uU(3,"--Please select--"),g.qZA(),g.TgZ(4,"option",60),g._uU(5," Numeric "),g.qZA(),g.TgZ(6,"option",61),g._uU(7," Alpha Numeric "),g.qZA(),g.TgZ(8,"option",62),g._uU(9," Date "),g.qZA(),g.qZA(),g.BQk()),2&e){const e=g.oxw().index;g.xp6(1),g.MGl("id","dataType_",e,"")}}function ke(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"select",59),g.TgZ(2,"option",13),g._uU(3,"--Please select--"),g.qZA(),g.TgZ(4,"option",60),g._uU(5," Numeric "),g.qZA(),g.TgZ(6,"option",61),g._uU(7," Alpha Numeric "),g.qZA(),g.TgZ(8,"option",62),g._uU(9," Date "),g.qZA(),g.qZA(),g.BQk()),2&e){const e=g.oxw().index;g.xp6(1),g.MGl("id","dataType_",e,"")}}function Qe(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"select",59),g.TgZ(2,"option",13),g._uU(3,"--Please select--"),g.qZA(),g.TgZ(4,"option",63),g._uU(5," VARCHAR2 "),g.qZA(),g.TgZ(6,"option",64),g._uU(7," NUMBER "),g.qZA(),g.TgZ(8,"option",65),g._uU(9," DATE "),g.qZA(),g.qZA(),g.BQk()),2&e){const e=g.oxw().index;g.xp6(1),g.MGl("id","dataType_",e,"")}}function Ye(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"a",66),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().index;return g.oxw(3).removeTranslation(t)}),g._UZ(1,"img",67),g.qZA()}}function Le(e,t){if(1&e&&(g.TgZ(0,"tr"),g.ynx(1,44),g.TgZ(2,"td"),g.YNc(3,we,5,2,"ng-container",17),g.YNc(4,Fe,5,2,"ng-container",17),g.YNc(5,Oe,2,1,"ng-container",17),g.YNc(6,_e,5,2,"ng-container",17),g.YNc(7,Me,2,1,"ng-container",17),g.qZA(),g.TgZ(8,"td"),g.YNc(9,Ee,2,1,"ng-container",17),g.YNc(10,Je,10,1,"ng-container",17),g.YNc(11,ke,10,1,"ng-container",17),g.YNc(12,Qe,10,1,"ng-container",17),g.qZA(),g.TgZ(13,"td"),g._UZ(14,"input",45),g.qZA(),g.TgZ(15,"td"),g.TgZ(16,"select",46),g.TgZ(17,"option",13),g._uU(18,"--Please select--"),g.qZA(),g.TgZ(19,"option",47),g._uU(20,"No Encryption"),g.qZA(),g.TgZ(21,"option",48),g._uU(22," BASE 64 "),g.qZA(),g.TgZ(23,"option",49),g._uU(24," SHA 256 "),g.qZA(),g.TgZ(25,"option",50),g._uU(26," SHA 512 "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"td",51),g.YNc(28,Ye,2,0,"a",52),g.qZA(),g.BQk(),g.qZA()),2&e){const e=t.$implicit,s=t.index,i=g.oxw(3);g.xp6(1),g.Q6J("formGroup",e),g.xp6(2),g.Q6J("ngIf","TCP/IP"==i.showFetch),g.xp6(1),g.Q6J("ngIf","XML"==i.showFetch&&"JSON"!==i.showFormat),g.xp6(1),g.Q6J("ngIf","JSON"==i.showFetch&&"JSON"===i.showFormat),g.xp6(1),g.Q6J("ngIf","MT"==i.showFetch||"MX"==i.showFetch),g.xp6(1),g.Q6J("ngIf","DB Connection"==i.showFetch),g.xp6(2),g.Q6J("ngIf","TCP/IP"==i.showFetch),g.xp6(1),g.Q6J("ngIf","JSON"==i.showFetch||"XML"==i.showFetch),g.xp6(1),g.Q6J("ngIf","MT"==i.showFetch||"MX"==i.showFetch),g.xp6(1),g.Q6J("ngIf","DB Connection"===i.showFetch),g.xp6(2),g.MGl("id","responseIndicator_",s,""),g.xp6(2),g.MGl("id","encryption_",s,""),g.xp6(12),g.Q6J("ngIf",i.submitFlag)}}function Ve(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",68),g.NdJ("click",function(){return g.CHM(e),g.oxw(3).addTransaltionGroup("")}),g.TgZ(1,"span"),g._UZ(2,"img",69),g.qZA(),g.qZA()}}function Pe(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",19),g.TgZ(1,"button",70),g.NdJ("click",function(){return g.CHM(e),g.oxw(3).editValues()}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(3);g.xp6(1),g.Q6J("hidden",e.hideEdit),g.xp6(1),g.Oqu(e.roleCodes.edit.labelDescription)}}function He(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",19),g.TgZ(1,"button",71),g.NdJ("click",function(){return g.CHM(e),g.oxw(3).auditChangeRuleTranslation("auth")}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(3);g.xp6(1),g.Q6J("hidden",!e.hideSubmit),g.xp6(1),g.Oqu(e.roleCodes.auth.labelDescription)}}function $e(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",19),g.TgZ(1,"button",72),g.NdJ("click",function(){return g.CHM(e),g.oxw(3).auditChangeRuleTranslation("close")}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(3);g.xp6(1),g.Q6J("hidden",!e.hideSubmit),g.xp6(1),g.Oqu(e.roleCodes.close.labelDescription)}}function Xe(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",19),g.TgZ(1,"button",72),g.NdJ("click",function(){return g.CHM(e),g.oxw(3).auditChangeRuleTranslation("open")}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(3);g.xp6(1),g.Q6J("hidden",!e.hideSubmit),g.xp6(1),g.Oqu(e.roleCodes.reopen.labelDescription)}}function Ge(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",19),g.TgZ(1,"button",72),g.NdJ("click",function(){return g.CHM(e),g.oxw(3).deleteRuleTranslation()}),g._uU(2),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(3);g.xp6(1),g.Q6J("hidden",!e.hideSubmit),g.xp6(1),g.Oqu(e.roleCodes.delete.labelDescription)}}function ze(e,t){1&e&&(g.TgZ(0,"div",19),g.TgZ(1,"button",34),g._uU(2,"Exit"),g.qZA(),g.qZA()),2&e&&(g.xp6(1),g.Q6J("routerLink",g.DdM(1,ye)))}function je(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",7),g.TgZ(1,"fieldset",6),g.TgZ(2,"div",35),g.TgZ(3,"table",36),g.TgZ(4,"thead"),g.YNc(5,Ie,21,6,"tr",17),g.qZA(),g.TgZ(6,"tbody"),g.ynx(7,37),g.YNc(8,Le,29,13,"tr",38),g.BQk(),g.TgZ(9,"tr"),g.TgZ(10,"td"),g.YNc(11,Ve,3,0,"button",39),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(12,"div",40),g.YNc(13,Pe,3,2,"div",21),g.TgZ(14,"div",19),g.TgZ(15,"button",41),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).onSubmit()}),g._uU(16,"Save"),g.qZA(),g.qZA(),g.YNc(17,He,3,2,"div",21),g.YNc(18,$e,3,2,"div",21),g.YNc(19,Xe,3,2,"div",21),g.YNc(20,Ge,3,2,"div",21),g.YNc(21,ze,3,2,"div",21),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("disabled",!e.submitFlag),g.xp6(4),g.Q6J("ngIf",e.msgTransDetails.controls),g.xp6(3),g.Q6J("ngForOf",e.msgTransDetails.controls),g.xp6(3),g.Q6J("ngIf",e.submitFlag),g.xp6(2),g.Q6J("ngIf",!("C"==(null==e.translationResp?null:e.translationResp.recordStatus)||"CLOSED"==(null==e.translationResp?null:e.translationResp.recordStatus))&&e.roleCodes.edit),g.xp6(2),g.Q6J("hidden",e.hideSubmit)("disabled",!e.submitFlag||e.ruleTransForm.invalid),g.xp6(2),g.Q6J("ngIf",("U"==(null==e.translationResp?null:e.translationResp.approvedStatus)||"N"==(null==e.translationResp?null:e.translationResp.approvedStatus)||"UNAUTHORIZED"==(null==e.translationResp?null:e.translationResp.approvedStatus))&&e.roleCodes.auth),g.xp6(1),g.Q6J("ngIf",("O"==(null==e.translationResp?null:e.translationResp.recordStatus)||"OPEN"==(null==e.translationResp?null:e.translationResp.recordStatus))&&"NO"!=(null==e.translationResp?null:e.translationResp.approvedEver)&&"N"!=(null==e.translationResp?null:e.translationResp.approvedEver)&&e.roleCodes.close),g.xp6(1),g.Q6J("ngIf",("C"==(null==e.translationResp?null:e.translationResp.recordStatus)||"CLOSED"==(null==e.translationResp?null:e.translationResp.recordStatus))&&e.roleCodes.reopen),g.xp6(1),g.Q6J("ngIf",("NO"==(null==e.translationResp?null:e.translationResp.approvedEver)||"N"==(null==e.translationResp?null:e.translationResp.approvedEver))&&!e.showdelete&&e.roleCodes.delete),g.xp6(1),g.Q6J("ngIf",e.showRecords)}}function We(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"form",5),g.TgZ(1,"fieldset",6),g.TgZ(2,"div",7),g.TgZ(3,"div",8),g.TgZ(4,"div",9),g.TgZ(5,"label",10),g._uU(6,"Source System "),g.TgZ(7,"span",11),g._uU(8,"*"),g.qZA(),g.qZA(),g.TgZ(9,"ng-select",12),g.NdJ("change",function(t){return g.CHM(e),g.oxw().onSlectionExternalSystem(t)}),g.TgZ(10,"ng-option",13),g._uU(11,"Please select System"),g.qZA(),g.YNc(12,me,2,2,"ng-option",14),g.qZA(),g.qZA(),g.TgZ(13,"div",9),g.TgZ(14,"label",10),g._uU(15,"Message Type"),g.TgZ(16,"span",11),g._uU(17,"*"),g.qZA(),g.qZA(),g.YNc(18,Te,1,0,"div",15),g.YNc(19,Ze,2,1,"div",16),g.YNc(20,fe,2,1,"div",15),g.YNc(21,Ae,8,0,"div",17),g.qZA(),g.YNc(22,ve,6,0,"div",18),g.qZA(),g._UZ(23,"br"),g.TgZ(24,"div",8),g.TgZ(25,"div",19),g.TgZ(26,"a",20),g.NdJ("click",function(){return g.CHM(e),g.oxw().onFetch()}),g._uU(27,"Fetch"),g.qZA(),g.qZA(),g.YNc(28,xe,3,2,"div",21),g.qZA(),g.qZA(),g.qZA(),g.YNc(29,je,22,12,"div",4),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("formGroup",e.ruleTransForm),g.xp6(1),g.Q6J("disabled",!e.submitFlag),g.xp6(11),g.Q6J("ngForOf",e.externalSystem),g.xp6(6),g.Q6J("ngIf",""==e.forCheck),g.xp6(1),g.Q6J("ngIf","I"===e.forCheck),g.xp6(1),g.Q6J("ngIf","O"===e.forCheck),g.xp6(1),g.Q6J("ngIf","A"===e.forCheck),g.xp6(1),g.Q6J("ngIf","XML"==e.showFetch&&"JSON"!==e.showFormat),g.xp6(6),g.Q6J("ngIf",!e.showRecords),g.xp6(1),g.Q6J("ngIf",e.showRecords)}}function Ke(e,t){if(1&e&&(g.TgZ(0,"div",7),g.TgZ(1,"div",73),g.TgZ(2,"div",74),g.TgZ(3,"div",75),g.TgZ(4,"div",76),g.TgZ(5,"div",19),g.TgZ(6,"div",77),g._UZ(7,"i",78),g.qZA(),g.qZA(),g.TgZ(8,"div",79),g.TgZ(9,"div",80),g.TgZ(10,"h2"),g._uU(11,"Maker"),g.qZA(),g.TgZ(12,"p"),g._uU(13),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"div",74),g.TgZ(15,"div",75),g.TgZ(16,"div",76),g.TgZ(17,"div",19),g.TgZ(18,"div",81),g._UZ(19,"img",82),g.qZA(),g.qZA(),g.TgZ(20,"div",79),g.TgZ(21,"div",80),g.TgZ(22,"h2"),g._uU(23,"Maker Time Stamp"),g.qZA(),g.TgZ(24,"p"),g._uU(25),g.ALo(26,"date"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(27,"div",74),g.TgZ(28,"div",75),g.TgZ(29,"div",76),g.TgZ(30,"div",19),g.TgZ(31,"div",83),g._UZ(32,"img",84),g.qZA(),g.qZA(),g.TgZ(33,"div",79),g.TgZ(34,"div",80),g.TgZ(35,"h2"),g._uU(36,"Record Status"),g.qZA(),g.TgZ(37,"p"),g._uU(38),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(39,"div",74),g.TgZ(40,"div",75),g.TgZ(41,"div",76),g.TgZ(42,"div",19),g.TgZ(43,"div",85),g._UZ(44,"i",86),g.qZA(),g.qZA(),g.TgZ(45,"div",79),g.TgZ(46,"div",80),g.TgZ(47,"h2"),g._uU(48,"Checker"),g.qZA(),g.TgZ(49,"p"),g._uU(50),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(51,"div",74),g.TgZ(52,"div",75),g.TgZ(53,"div",76),g.TgZ(54,"div",19),g.TgZ(55,"div",87),g._UZ(56,"img",88),g.qZA(),g.qZA(),g.TgZ(57,"div",79),g.TgZ(58,"div",80),g.TgZ(59,"h2"),g._uU(60,"Checker Time Stamp"),g.qZA(),g.TgZ(61,"p"),g._uU(62),g.ALo(63,"date"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(64,"div",74),g.TgZ(65,"div",75),g.TgZ(66,"div",76),g.TgZ(67,"div",19),g.TgZ(68,"div",89),g._UZ(69,"img",90),g.qZA(),g.qZA(),g.TgZ(70,"div",79),g.TgZ(71,"div",80),g.TgZ(72,"h2"),g._uU(73,"First Time Authorization"),g.qZA(),g.TgZ(74,"p"),g._uU(75),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(76,"div",74),g.TgZ(77,"div",75),g.TgZ(78,"div",76),g.TgZ(79,"div",19),g.TgZ(80,"div",91),g._UZ(81,"img",92),g.qZA(),g.qZA(),g.TgZ(82,"div",79),g.TgZ(83,"div",80),g.TgZ(84,"h2"),g._uU(85,"Authorization Status"),g.qZA(),g.TgZ(86,"p"),g._uU(87),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(88,"div",74),g.TgZ(89,"div",75),g.TgZ(90,"div",76),g.TgZ(91,"div",19),g.TgZ(92,"div",91),g._UZ(93,"img",93),g.qZA(),g.qZA(),g.TgZ(94,"div",79),g.TgZ(95,"div",80),g.TgZ(96,"h2"),g._uU(97,"Modification Number"),g.qZA(),g.TgZ(98,"p"),g._uU(99),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(13),g.Oqu(null==e.translationResp?null:e.translationResp.creatorId),g.xp6(12),g.Oqu(g.xi3(26,8,null==e.translationResp?null:e.translationResp.createdTime,"MM/dd/yyyy, h:mm a")),g.xp6(13),g.Oqu(null==e.translationResp?null:e.translationResp.recordStatus),g.xp6(12),g.Oqu(null==e.translationResp?null:e.translationResp.approverId),g.xp6(12),g.Oqu(g.xi3(63,11,null==e.translationResp?null:e.translationResp.approvedTime,"MM/dd/yyyy, h:mm a")),g.xp6(13),g.Oqu(null==e.translationResp?null:e.translationResp.approvedEver),g.xp6(12),g.Oqu(null==e.translationResp?null:e.translationResp.approvedStatus),g.xp6(12),g.Oqu(null==e.translationResp?null:e.translationResp.versionNo)}}let et=(()=>{class e{constructor(e,t,s,i,n,o,a,r){this.rules=e,this.addSystem=t,this.formBuilder=s,this.cdr=i,this.roleService=n,this.router=o,this.canDeactivateGuard=a,this.datePipe=r,this.submitFlag=!0,this.isSelected=!0,this.hideSubmit=!1,this.hideEdit=!0,this.formTouched=!0,this.msgTranslation=new tt,this.recordSaved=!1,this.disableSubmit=!1,this.disableReset=!1,this.desSystem=[],this.isoRespData=[],this.tempArrayList=[],this.fieldNoList=[],this.dbConnectionList=[],this.roleCodes=new c.yv,this.showDialog=!1,this.subject=new l.xQ,this.columnNameDD=[],this.messageBasisData=[],this.mdmtSystemChannel=[],this.multipleOperation=!0,this.multipleService=!0,this.mTMxResp=[]}ngOnInit(){this.currentUser=localStorage.getItem("userFromLogin"),this.ruleTransForm=this.formBuilder.group({transId:this.transId,systemCode:["",r.kI.required],messageType:["",r.kI.required],serviceName:["Conversion"],operationName:["Conversion"],msgTransDetails:this.formBuilder.array([])}),this.roleService.fetchScreenPermissions("Rule translation"),this.roleService.screenLabelList.subscribe(e=>this.roleCodes=e),setTimeout(()=>{console.log(this.roleCodes)},100),this.addTransaltionGroup({}),this.gettingExternalsystem(),this.fetchingHeadertag(),this.forCheck=""}getTranslationItem(e){return console.log(e),this.formBuilder.group({messagebasis:[e.messagebasis?e.messagebasis:""],headerTag:[e.headerTag?e.headerTag:""],defaultValue:[e.defaultValue?e.defaultValue:""],systemChannelId:[e.systemChannelId?e.systemChannelId:""],encryption:[e.encryption?e.encryption:"No Encryption"],id:[e.id?e.id:""],dataType:[e.dataType?e.dataType:""],messageKey:[e.messageKey?e.messageKey:""]})}get msgTransDetails(){return this.ruleTransForm.get("msgTransDetails")}addTransaltionGroup(e){this.msgTransDetails.push(this.getTranslationItem(e))}removeTranslation(e){u().fire({title:"are you sure, want to remove the record?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then(t=>{t.isConfirmed&&(this.tempArrayList[e]&&this.tempArrayList.splice(e,1),this.desSystem[e]&&this.desSystem.splice(e,1),this.msgTransDetails.removeAt(e),console.log(this.tempArrayList),u().fire("Removed!","","success"))})}canExit(){let e=!1;return this.ruleTransForm.touched&&1==this.formTouched?u().fire({text:"There are unsaved changes in the screen. Would you like to navigate to other screen?",showCancelButton:!0,confirmButtonColor:"#E6224A",cancelButtonColor:"#011945",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(t=>!0===t.isConfirmed?(e=!0,this.cdr.markForCheck(),e):(e=!1,this.cdr.markForCheck(),e)):(e=!0,new Promise((t,s)=>{!0===e&&(e=!0,this.cdr.markForCheck(),t(!0))}))}auditLog(){"U"===this.translationResp.approvedStatus&&(this.translationResp.approvedStatus="UNAUTHORIZED"),"A"===this.translationResp.approvedStatus&&(this.translationResp.approvedStatus="AUTHORIZED"),"O"===this.translationResp.recordStatus&&(this.translationResp.recordStatus="OPEN"),"C"===this.translationResp.recordStatus&&(this.translationResp.recordStatus="CLOSED"),"N"===this.translationResp.approvedEver&&(this.translationResp.approvedEver="NO"),"Y"===this.translationResp.approvedEver&&(this.translationResp.approvedEver="YES")}gettingExternalsystem(){this.rules.gettingExternalsystem().subscribe(e=>{console.log(e),e&&(this.externalSystem=e.sort(),this.sourcesysData=this.externalSystem)},e=>{console.log("err",e)})}onSlectionExternalSystem(e){this.msgTransDetails.clear(),this.addTransaltionGroup({}),this.ruleTransForm.get("operationName").patchValue(""),this.ruleTransForm.get("serviceName").patchValue(""),console.log(e),this.tempArrayList=[],this.sourcesystem=e,this.rules.getAddSystem(this.sourcesystem).subscribe(e=>{console.log("PAtch REsp",e),e&&(this.forCheck=e.messsageType,"I"===this.forCheck?this.messageArr="Incoming":"O"===this.forCheck&&(this.messageArr="Outgoing"),this.ruleTransForm.patchValue(e),this.msgTranslation.messageType=e.messsageType,this.msgTranslation.operationName=e.operationName,this.msgTranslation.serviceName=e.serviceName,"A"==e.messsageType&&(this.msgTranslation.messageType="I",this.ruleTransForm.get("messageType").patchValue(this.msgTranslation.messageType)),this.ruleTransForm.get("messageType").patchValue(this.msgTranslation.messageType),this.cdr.markForCheck(),console.log(this.msgTranslation),this.gettingoperationAndService(this.sourcesystem,this.msgTranslation.messageType))})}onSelectionOFMessageType(e){this.msgType=e.target.value,console.log(this.msgType,this.sourcesystem),this.sourcesystem&&this.msgType?this.gettingoperationAndService(this.sourcesystem,this.msgType):console.log("enter both msg and ext")}gettingoperationAndService(e,t){this.rules.gettingoperationAndService(e,t,this.currentUser).subscribe(e=>{console.log("translationResp - ",e),this.messageBasisData=e.MdmtSystemService,this.mdmtSystemChannel=e.MdmtSystemChannel,Object.keys(e),console.log(this.messageBasisData);for(let s=0;s<e.MdmtSystemChannel.length;s++)e.MdmtSystemChannel[s].messageType===t&&(this.showFetch=e.MdmtSystemChannel[s].messageChannel,this.showFormat=e.MdmtSystemChannel[s].messageFormat);"Https/Http"==this.showFetch?this.showFetch=e.MdmtSystemChannel[0].messageFormat:"TCP/IP"==this.showFetch?this.fetchingIso():"DB Connection"==this.showFetch?(this.addSystem.coulmnNameBasedonTableName(e.MdmtSystemChannel[0].dbConnectString,e.MdmtSystemChannel[0].dbServiceName,e.MdmtSystemChannel[0].dbUsername,e.MdmtSystemChannel[0].dbPassword,e.MdmtSystemChannel[0].sysService[0].messageKey.split(",",1)).subscribe(e=>{e.forEach(e=>{this.columnNameDD.push(e[1])})}),console.log(this.columnNameDD),"I"===t?console.log(e.MdmtSystemChannel[0].messageType):"O"===t&&console.log(e)):"MT"==this.showFetch?this.addSystem.getMtApi().subscribe(e=>{console.log("mt resp",e),this.mTMxResp=e}):"MX"==this.showFetch&&this.addSystem.getMxApi().subscribe(e=>{console.log("mx resp",e),this.mTMxResp=e})},e=>{})}onSubmit(){this.ruleTransForm.value.operationName="Conversion",this.ruleTransForm.value.serviceName="Conversion",this.ruleTransForm.get("transId").value?this.rules.editruleTranslation("update",this.currentUser,this.ruleTransForm.value).subscribe(e=>{console.log(e),this.translationResp=e,this.ruleTransForm.patchValue(e),this.auditLog(),e&&(this.recordSaved=!0,u().fire({text:"Record is updated!",icon:"success"}),this.ruleTransForm.disable(),this.msgTransDetails.disable(),this.formTouched=!this.ruleTransForm.touched,this.hideSubmit=!0,this.hideEdit=!1,this.showAuditLog=!0,this.submitFlag=!1,this.disableSubmit=!0,this.disableReset=!0)}):this.rules.submittingruleTranslation(this.currentUser,this.ruleTransForm.value).subscribe(e=>{console.log(e),this.translationResp=e,this.ruleTransForm.patchValue(e),this.auditLog(),e&&(this.recordSaved=!0,u().fire({text:"Record is Created",icon:"success"}),this.ruleTransForm.disable(),this.msgTransDetails.disable(),this.formTouched=!this.ruleTransForm.touched,this.hideSubmit=!0,this.hideEdit=!1,this.showAuditLog=!0,this.submitFlag=!1,this.disableSubmit=!0,this.disableReset=!0)},e=>{this.disableSubmit=!0,console.log("error: : ",e.error),u().fire({text:"Rule Translation already exist kindly recheck the data.",icon:"error"})})}onFetch(){if(this.showRecords=!0,console.log(this.showFetch),"DB Connection"==this.showFetch){this.dbConnectionList=this.messageBasisData,console.log(this.dbConnectionList);for(let e=0;e<this.dbConnectionList.length;e++)this.tempArrayList[e]=this.dbConnectionList[e];console.log("this.tempArrayList ",this.tempArrayList)}if("E-ISO"==this.sourcesystem){for(let e=0;e<this.msgTransDetails.controls.length;e++)this.tempArrayList[e]=this.msgTransDetails.at(e).get("messageKey").value;console.log(this.tempArrayList)}console.log("translationDeatils",this.msgTransDetails.value)}onReset(){this.ruleTransForm.reset(),this.msgTransDetails.clear(),this.showRecords=!1,this.disableSubmit=!1}selectFileFORHTTPXMLIncoming(e){this.selectedFiles=e.target.files,this.fileName=this.selectedFiles[0].name,this.fileUploadWrapper.nativeElement.setAttribute("data-text",this.fileName),this.currentFileUpload=this.selectedFiles.item(0),console.log(e.target.files),this.addSystem.gettingBodyOfXml(this.currentFileUpload).subscribe(e=>{console.log("XML",e),this.msgTransDetails.controls.length=0,this.uploadXmlResp=e,e&&(this.messageBasisIso=e.nodeTagList,this.showRecords=!0,this.addTransaltionGroup({}))})}fetchingHeadertag(){this.addSystem.fetchingHeaderTag().subscribe(e=>{console.log("res",e),this.headerTagData=e})}onselectOfFieldNo(e,t){console.log(e),console.log(this.tempArrayList[t]),this.tempArrayList[t]?this.tempArrayList[t]=e:this.tempArrayList.push(e)}auditChangeRuleTranslation(e){let t="",s="";switch(e){case"open":t="opened",s="open";break;case"close":t="closed",s="close";break;case"auth":t="authorized",s="authorize"}u().fire({text:`You are trying to ${s} record.  Do you want to proceed?`,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(i=>{!0===i.isConfirmed&&(this.currentUser==this.translationResp.creatorId?u().fire(`Maker cannot ${s}!`):this.addSystem.editruleTranslation(e,this.currentUser,this.translationResp).subscribe(e=>{console.log(e),e&&(u().fire(`Record is ${t}`),this.translationResp=e)}))})}editValues(){this.hideSubmit=!1,this.hideEdit=!0,this.submitFlag=!0,this.showAuditLog=!1,this.ruleTransForm.enable(),this.msgTransDetails.enable()}deleteRuleTranslation(){u().fire({text:"You are trying to Delete record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(e=>{if(console.log("this is reopen ",e),!0===e.isConfirmed){let e=this.translationResp;console.log(this.translationResp),this.addSystem.deleteRuleTranslation(this.currentUser,e.transId).subscribe(e=>{},e=>{200==e.status&&(this.showdelete=!0,u().fire({title:"Record is Deleted!",confirmButtonText:"Ok"}).then(e=>{e&&this.router.navigateByUrl("/rule-translation/summary")}))})}})}onselectingTag(e,t){console.log(this.uploadXmlResp);var s=Object.keys(this.uploadXmlResp.nodeValueMap).map(e=>[e,this.uploadXmlResp.nodeValueMap[e]]);console.log("result",s);var i=s.find(t=>t[0]==e.target.value);console.log(i),this.msgTransDetails.at(t).get("defaultValue").patchValue(i[1]),this.desSystem.push(e.target.value)}onselectingColumnName(e,t){console.log(this.columnNameDD);var s=Object.keys(this.columnNameDD.nodeValueMap).map(e=>[e,this.columnNameDD.nodeValueMap[e]]);console.log("result",s);var i=s.find(t=>t[0]==e.target.value);console.log(i),this.msgTransDetails.at(t).get("defaultValue").patchValue(i[1]),this.desSystem.push(e.target.value)}fetchingIso(){this.msgTransDetails.controls=[],this.addSystem.fetchingIsoForTcp().subscribe(e=>{console.log("isoResp",e),this.isoRespData=e;for(let t=0;t<e.length;t++){this.addTransaltionGroup({});let s={messageKey:e[t].fieldNo,messagebasis:e[t].fieldName,dataType:e[t].dataType,defaultValue:null};this.msgTransDetails.at(t).patchValue(s),this.fieldNoList[t]=s}console.log("arrayObj 3",this.msgTransDetails.value),this.messageKeyIso=e.map(e=>e.messageKey),this.messageBasisIso=e.map(e=>e.messageBasis)})}onsearchingTablName(e){if(console.log(e.target.value),console.log("this is arr",this.sourcesysData),this.sourcesysData){let t=this.sourcesysData.filter(function(t){let s=t.toLowerCase(),i=e.target.value.toLowerCase();return console.log(s,i),s.search(i)>-1});console.log(t),this.externalSystem=t}}chooseFile(){console.log("heyy file"),document.getElementById("chFile").click()}fetchingXMl(){this.addSystem.gettinXMLmsgIncoming().subscribe(e=>{console.log(e),this.xmlRespData=e})}try(e){return!!this.tempArrayList.find(t=>t==e)}check(e,t){console.log("ev",e.value),this.desSystem.push(e.value)}shouldDisableTagOption(e){return this.desSystem.includes(e)}onselectingFieldName(e,t){if(this.msgTransDetails.at(t).get("defaultValue").patchValue(""),"MIRDate"===e||"ReceiverOutputDate"===e||"CreDt"===e){const e=this.datePipe.transform(new Date,"yyyy-MM-dd");this.msgTransDetails.at(t).get("defaultValue").patchValue(e)}if("ReceiverOutputTime"===e||"SenderInputTime"===e){var s=new Date;this.msgTransDetails.at(t).get("defaultValue").patchValue(s.getHours()+":"+s.getMinutes())}"MessagePriority"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("N"),"MessageType"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("103"),"blockType"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("O"),"MsgDefIdr"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("pacs.008.001.07"),"PssblDplct"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue(!1)}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(h.Q),g.Y36(m.Z),g.Y36(r.qu),g.Y36(g.sBO),g.Y36(p.N),g.Y36(n.F0),g.Y36(o.I),g.Y36(i.uU))},e.\u0275cmp=g.Xpm({type:e,selectors:[["npr-rule-translation"]],viewQuery:function(e,t){if(1&e&&g.Gf(pe,5),2&e){let e;g.iGM(e=g.CRH())&&(t.fileUploadWrapper=e.first)}},features:[g._Bn([i.uU])],decls:7,vars:2,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],["class","formStyle",3,"formGroup",4,"ngIf"],["class","dbCardStyle",4,"ngIf"],[1,"formStyle",3,"formGroup"],[3,"disabled"],[1,"dbCardStyle"],[1,"row","gy-4","align-items-end"],[1,"col-lg-2"],["for","roleName",1,"formLbl"],[1,"colorRed"],["id","outlineNgSelect","id","sysCode","formControlName","systemCode","aria-label","Default select example","required","",1,"form-select",3,"change"],["hidden","","value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","form-select",4,"ngIf"],["class","message_class",4,"ngIf"],[4,"ngIf"],["class","col-lg-4",3,"click",4,"ngIf"],[1,"col-auto"],[1,"btn","minWdSmBtn","btnPrimary",3,"click"],["class","col-auto",4,"ngIf"],[3,"value"],[1,"form-select"],[1,"message_class"],["id","msgType","formControlName","messageType","aria-label","Default select example",1,"form-select",3,"change"],["value","I"],["value","O"],[1,"col-lg-4",3,"click"],[1,"fileUpload"],[1,"formS"],["data-text","File Upload",1,"file-upload-wrapper"],["fileWrapper",""],["id","chFile","name","file-upload-field","type","file",1,"file-upload-field",3,"change"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[1,"table-responsive"],["id","dbTable1",1,"table","tableStyle","responsive","nowrap","vAlignMdl"],["formArrayName","msgTransDetails"],[4,"ngFor","ngForOf"],["class","addIcon primarybg",3,"click",4,"ngIf"],[1,"row","g-3","pb-3","justify-content-end","pt-3"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"hidden","disabled","click"],[4,"ngIf","ngIfElse"],["showType",""],[3,"formGroup"],["formControlName","defaultValue","type","text","value","",1,"form-control",3,"id"],["formControlName","encryption","aria-label","Default select example",1,"form-select",3,"id"],["value","No Encryption"],["value","BASE64"],["value","SHA256"],["value","SHA512"],[1,"tblIcon"],["class","deleteIcon2",3,"click",4,"ngIf"],["id","outlineNgSelect","formControlName","messageKey","aria-label","Default select example","required","",1,"form-select",3,"id","change"],["formControlName","messagebasis","aria-label","Default select example",1,"form-select",3,"id","change"],[3,"hidden","value",4,"ngFor","ngForOf"],[3,"hidden","value"],["formControlName","messagebasis","aria-label","Default select example","required","",1,"form-control",3,"id"],["type","text","formControlName","dataType","value","",1,"form-control",3,"id"],["formControlName","dataType","aria-label","Default select example",1,"form-select",3,"id"],["value","numeric"],["value","alphaNumeric"],["value","date"],["value","VARCHAR2"],["value","NUMBER"],["value","DATE"],[1,"deleteIcon2",3,"click"],["src","assets/images/delete-icon.svg","alt","..."],[1,"addIcon","primarybg",3,"click"],["src","assets/images/plus-icon.svg","alt","..."],[1,"btn","smBtn","minWdSmBtn","btnUpdate",3,"hidden","click"],[1,"btn","smBtn","minWdSmBtn","btnAuth",3,"hidden","click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"hidden","click"],[1,"row"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"csCardStyle"],[1,"row","g-2","align-items-center"],[1,"csCardStyleIcon","csCardStyleIconBg1"],[1,"fa","fa-edit","faClass"],[1,"col"],[1,"csCardStyleText"],[1,"csCardStyleIcon","csCardStyleIconBg2"],["src","assets/images/time-stamp-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg3"],["src","assets/images/record-status-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg4"],[1,"fa","fa-check-square-o","faClassChecker"],[1,"csCardStyleIcon","csCardStyleIconBg5"],["src","assets/images/checker-time-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg6"],["src","assets/images/first-auth-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg7"],["src","assets/images/authorize.svg","alt","...",1,"modImage"],["src","assets/images/modification.svg","alt","...",1,"modImage"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h2",2),g._uU(3,"Rule Translation"),g.qZA(),g.qZA(),g.YNc(4,We,30,10,"form",3),g._UZ(5,"br"),g.YNc(6,Ke,100,14,"div",4),g.qZA()),2&e&&(g.xp6(4),g.Q6J("ngIf",t.ruleTransForm),g.xp6(2),g.Q6J("ngIf",t.showAuditLog))},directives:[i.O5,r._Y,r.JL,r.sg,Z.w9,r.JJ,r.u,r.Q7,Z.jq,i.sg,r.EJ,r.YN,r.Kr,n.rH,r.CE,r.Fj],pipes:[i.uU],styles:[".message_class[_ngcontent-%COMP%]{border:1px solid #efefef;height:45px;font-size:13px;color:#000;padding-left:15px;padding-top:7%;border-radius:5%;background-color:#f8f9fa}"]}),e})();class tt{}const st=[{path:"create",component:et,canDeactivate:[o.I]},{path:"edit/:id",component:z,canDeactivate:[o.I]},{path:"summary",component:he}];let it=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[n.Bz.forChild(st)],n.Bz]}),e})(),nt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[i.ez,it,r.u5,r.UX,te.T,Z.A0]]}),e})()}}]);