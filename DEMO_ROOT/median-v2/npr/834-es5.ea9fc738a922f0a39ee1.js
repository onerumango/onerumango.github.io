!function(){"use strict";function e(e,n){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){l=!0,i=e},f:function(){try{r||null==o.return||o.return()}finally{if(l)throw i}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkmedian=self.webpackChunkmedian||[]).push([[834],{91973:function(e,t,o){o.d(t,{Z:function(){return g}});var s,i=o(91841),r=o(3118),l=o(79765),c=o(26215),u=o(37716),d=r.$.baseURL,g=((s=function(){function e(t){n(this,e),this.http=t,this.api="http://192.168.0.14:8082",this.subject=new l.xQ,this.Index=new c.X({index:""}),this.Reference=new c.X({referenceId:""}),this.paramSource=new c.X({}),this.getNavParam=this.paramSource.asObservable()}return a(e,[{key:"setIndex",value:function(e){this.Index.next(e)}},{key:"getIndex",value:function(){return this.Index.asObservable()}},{key:"setReference",value:function(e){this.Reference.next(e)}},{key:"getReference",value:function(){return this.Reference.asObservable()}},{key:"submittingAddSystem",value:function(e,t){return this.http.post("".concat(d,"/newExtApi/create/").concat(t),e)}},{key:"fecthingAddSystem",value:function(){return this.http.get("".concat(d,"/newExtApi/getAllExternalSys/?pageNo=0&pageSize=1000"))}},{key:"editaddsystem",value:function(e,t,n){return this.http.put("".concat(d,"/newExtApi/").concat(e,"/").concat(t),n)}},{key:"fetchingAddSysBasedonId",value:function(e){return this.http.get("".concat(d,"/newExtApi/getExternalSysDetails/").concat(e))}},{key:"deleteingAddSystem",value:function(){return this.http.delete("".concat(d,"//"))}},{key:"sendingAddSystemDataToEditScreen",value:function(e){this.subject.next(e)}},{key:"editruleTranslation",value:function(e,t,n){return this.http.put("".concat(d,"/msgApi/").concat(e,"/").concat(t),n)}},{key:"deleteRuleTranslation",value:function(e,t){return t=(new i.LE).append("transId",t),console.log("tra",t),this.http.delete("".concat(d,"/msgApi/deleteRecord/").concat(e),{params:t})}},{key:"deleteAddSystem",value:function(e,t){return this.http.delete("".concat(d,"/newExtApi/delete/").concat(e,"?systemId=").concat(t))}},{key:"getEditOfAddSystem",value:function(){return this.subject.asObservable()}},{key:"sendNavParam",value:function(e){this.paramSource.next(e)}},{key:"onAuthofAddSystem",value:function(e,t){return this.http.put("".concat(d,"/newExtApi/authorizetherecord/").concat(t),e)}},{key:"onCloseOfAddSystem",value:function(e,t){return this.http.put("".concat(d,"/newExtApi/toClosingTheRecord/").concat(t),e)}},{key:"onopenOfAddSystem",value:function(e,t){return this.http.put("".concat(d,"/newExtApi/closeRecord/").concat(t),e)}},{key:"onDeleteAddSystem",value:function(e,t){return this.http.put("".concat(d,"/newExtApi/delete/").concat(t),e)}},{key:"gettingHederofXMl",value:function(e){var t=new FormData;return t.append("file",e),t.append("key","header"),console.log(t),this.http.post("".concat(d,"/convertMsg/convertXmlToNodeTagList"),t)}},{key:"gettingBodyOfXml",value:function(e){var t=new FormData;return t.append("file",e),t.append("key","body"),console.log(t),this.http.post("".concat(d,"/convertMsg/convertXmlToNodeTagList"),t)}},{key:"selectFileFORHTTPXMLIncoming",value:function(e){var t=new FormData;return t.append("file",e),this.http.post("".concat(d,"/file/getHeaders"),t)}},{key:"fetchingXMLandHttp",value:function(){return this.http.get("".concat(d,"/msgApi/getXmlMsgField"))}},{key:"fetchingIsoForTcp",value:function(){return this.http.get("".concat(d,"/msgApi/getIsoMsgField"))}},{key:"gettinXMLmsgIncoming",value:function(){return this.http.get("".concat(d,"/msgApi/getXmlMsgField"))}},{key:"pingDataSource",value:function(e,t,n,o){var a=btoa(o);return this.http.get("".concat(d,"/db/ping/").concat(e,"/").concat(t,"/").concat(n,"/").concat(a))}},{key:"coulmnNameBasedonTableName",value:function(e,t,n,o,a){var s=btoa(o);return this.http.get("".concat(d,"/db/ping/").concat(e,"/").concat(t,"/").concat(n,"/").concat(s,"/").concat(a))}},{key:"fetchingHeaderTag",value:function(){return this.http.get("".concat(d,"/newExtApi/getAllHeadTag"))}},{key:"validateCode",value:function(e){return this.http.get("".concat(d,"/newExtApi/addSystem/validateCode/").concat(e))}},{key:"validatePort",value:function(e){return this.http.post("".concat(d,"/newExtApi/validate/addSystem"),e)}},{key:"conversionApi",value:function(){return this.http.get("".concat(this.api,"/MessageConverter/MT-MX"))}},{key:"getMxApi",value:function(){return this.http.get("".concat(this.api,"/MessageConverter/MXBodyInfo"))}},{key:"getMtApi",value:function(){return this.http.get("".concat(this.api,"/MessageConverter/MTBodyInfo"))}},{key:"getIncomingOutgoingSummary",value:function(e){return this.http.get("".concat(this.api,"/MessageConverter/fetchSummaryData?reqType=").concat(e))}},{key:"getRequestRespBody",value:function(e,t){return this.http.get("".concat(this.api,"/MessageConverter/fetchReqRes?reqType=").concat(e,"&referenceId=").concat(t))}},{key:"fetchTableName",value:function(e){return this.http.post("".concat(d,"/newExtApi/validate/addSystem"),e)}}]),e}()).\u0275fac=function(e){return new(e||s)(u.LFG(i.eN))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s)},31443:function(e,t,o){o.d(t,{k:function(){return l}});var s,i=o(37716),r=o(80463),l=((s=function(){function e(t){n(this,e),this.iziToast=t}return a(e,[{key:"successMessage",value:function(e,t){this.iziToast.success({title:e,message:t,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}},{key:"errorMessage",value:function(e,t){this.iziToast.error({title:e,message:t,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}},{key:"infoMessage",value:function(e,t){this.iziToast.info({title:e,message:t,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}}]),e}()).\u0275fac=function(e){return new(e||s)(i.LFG(r.I))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s)},8834:function(t,o,s){s.r(o),s.d(o,{RuleTranslationModule:function(){return lt}});var i=s(38583),r=s(39895),l=s(50215),c=s(64762),u=s(3679),d=s(79765),g=s(35383),p=s(88259),h=s.n(p),m=s(37716),f=s(50511),T=s(77382),Z=s(91973),v=s(31443),y=s(24376),A=["fileWrapper"];function x(e,t){if(1&e&&(m.TgZ(0,"ng-option",33),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.Q6J("value",n),m.xp6(1),m.hij(" ",n," ")}}function q(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",34),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).chooseFile()}),m.TgZ(1,"div",35),m.TgZ(2,"div",36),m.TgZ(3,"div",37,38),m.TgZ(5,"input",39),m.NdJ("change",function(e){return m.CHM(n),m.oxw(2).selectFileFORHTTPXMLIncoming(e)}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(2);m.xp6(5),m.Q6J("disabled",!o.editValue)}}function b(e,t){1&e&&(m.ynx(0),m._uU(1,"Field No"),m.BQk())}function S(e,t){1&e&&(m.ynx(0),m._uU(1,"Tag"),m.BQk())}function C(e,t){1&e&&(m.ynx(0),m._uU(1,"kEY"),m.BQk())}function R(e,t){1&e&&(m.ynx(0),m._uU(1,"Column Name"),m.BQk())}function N(e,t){1&e&&(m.ynx(0),m._uU(1,"Data type"),m.BQk())}function I(e,t){1&e&&(m.ynx(0),m._uU(1,"Data type"),m.BQk())}function D(e,t){if(1&e&&(m.ynx(0),m._UZ(1,"input",45),m.BQk()),2&e){var n=m.oxw(3);m.xp6(1),m.Q6J("readonly",!n.editValue)}}function w(e,t){if(1&e&&(m.ynx(0),m._UZ(1,"input",46),m.BQk()),2&e){var n=m.oxw().index;m.xp6(1),m.MGl("id","fieldNo_",n,"")}}function k(e,t){if(1&e&&(m.ynx(0),m._UZ(1,"input",47),m.BQk()),2&e){var n=m.oxw(3);m.xp6(1),m.Q6J("readonly",!n.editValue)}}function U(e,t){if(1&e&&(m.TgZ(0,"option",33),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.Q6J("value",n),m.xp6(1),m.hij(" ",n," ")}}function F(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"select",48),m.YNc(2,U,2,2,"option",14),m.qZA(),m.BQk()),2&e){var n=m.oxw().index,o=m.oxw(2);m.xp6(1),m.MGl("id","fieldNo_",n,""),m.Q6J("disabled",!o.editValue),m.xp6(1),m.Q6J("ngForOf",o.messageBasisIso)}}function O(e,t){if(1&e&&(m.ynx(0),m._UZ(1,"input",46),m.BQk()),2&e){var n=m.oxw().index;m.xp6(1),m.MGl("id","db_",n,"")}}function B(e,t){if(1&e&&(m.TgZ(0,"option",33),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.Q6J("value",n),m.xp6(1),m.hij(" ",n," ")}}function _(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"select",48),m.YNc(2,B,2,2,"option",14),m.qZA(),m.BQk()),2&e){var n=m.oxw().index,o=m.oxw(2);m.xp6(1),m.MGl("id","db_",n,""),m.Q6J("disabled",!o.editValue),m.xp6(1),m.Q6J("ngForOf",o.mTMxResp)}}function M(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"select",49),m.TgZ(2,"option",13),m._uU(3,"--Please select--"),m.qZA(),m.TgZ(4,"option",50),m._uU(5," VARCHAR2 "),m.qZA(),m.TgZ(6,"option",51),m._uU(7," NUMBER "),m.qZA(),m.TgZ(8,"option",52),m._uU(9," DATE "),m.qZA(),m.qZA(),m.BQk()),2&e){var n=m.oxw().index;m.xp6(1),m.MGl("id","dataType_",n,"")}}function E(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"select",49),m.TgZ(2,"option",13),m._uU(3,"--Please select--"),m.qZA(),m.TgZ(4,"option",33),m._uU(5," Numeric "),m.qZA(),m.TgZ(6,"option",33),m._uU(7," Alpha Numeric "),m.qZA(),m.TgZ(8,"option",33),m._uU(9," Date "),m.qZA(),m.qZA(),m.BQk()),2&e){var n=m.oxw().index;m.xp6(1),m.MGl("id","dataType_",n,""),m.xp6(3),m.Q6J("value","numeric"),m.xp6(2),m.Q6J("value","alphaNumeric"),m.xp6(2),m.Q6J("value","date")}}function J(e,t){1&e&&(m.ynx(0),m.TgZ(1,"select",53),m.TgZ(2,"option",13),m._uU(3,"--Please select--"),m.qZA(),m.TgZ(4,"option",33),m._uU(5," Numeric "),m.qZA(),m.TgZ(6,"option",33),m._uU(7," Alpha Numeric "),m.qZA(),m.TgZ(8,"option",33),m._uU(9," Date "),m.qZA(),m.qZA(),m.BQk()),2&e&&(m.xp6(4),m.Q6J("value","numeric"),m.xp6(2),m.Q6J("value","alphaNumeric"),m.xp6(2),m.Q6J("value","date"))}function Q(e,t){if(1&e&&(m.ynx(0),m._UZ(1,"input",54),m.BQk()),2&e){var n=m.oxw(3);m.xp6(1),m.Q6J("readonly",!n.editValue)}}function Y(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"a",55),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().index;return m.oxw(2).removeTranslation(e)}),m._UZ(1,"img",56),m.qZA()}if(2&e){var o=m.oxw(3);m.Q6J("ngClass",o.editValue?"deleteIcon2;readonlyFalse":"readonlyTrue")}}function L(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"tr"),m.ynx(1,40),m.TgZ(2,"td"),m.YNc(3,D,2,1,"ng-container",23),m.YNc(4,w,2,1,"ng-container",23),m.YNc(5,k,2,1,"ng-container",23),m.YNc(6,F,3,3,"ng-container",23),m.YNc(7,O,2,1,"ng-container",23),m.YNc(8,_,3,3,"ng-container",23),m.qZA(),m.TgZ(9,"td"),m.YNc(10,M,10,1,"ng-container",23),m.YNc(11,E,10,4,"ng-container",23),m.YNc(12,J,10,3,"ng-container",23),m.YNc(13,Q,2,1,"ng-container",23),m.qZA(),m.TgZ(14,"td"),m._UZ(15,"input",41),m.qZA(),m.TgZ(16,"td"),m.TgZ(17,"select",42),m.NdJ("change",function(e){return m.CHM(n),m.oxw(2).onSelectionOFMessageType(e)}),m.TgZ(18,"option",13),m._uU(19,"--Please select--"),m.qZA(),m.TgZ(20,"option",33),m._uU(21,"No Encryption"),m.qZA(),m.TgZ(22,"option",33),m._uU(23," BASE 64 "),m.qZA(),m.TgZ(24,"option",33),m._uU(25," SHA 256 "),m.qZA(),m.TgZ(26,"option",33),m._uU(27," SHA 512 "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(28,"td",43),m.YNc(29,Y,2,1,"a",44),m.qZA(),m.BQk(),m.qZA()}if(2&e){var o=t.$implicit,a=t.index,s=m.oxw(2);m.xp6(1),m.Q6J("formGroup",o),m.xp6(2),m.Q6J("ngIf","TCP/IP"==s.showFetch),m.xp6(1),m.Q6J("ngIf","JSON"==s.showFetch&&"JSON"===s.showFormat),m.xp6(1),m.Q6J("ngIf","XML"==s.showFetch&&"JSON"!==s.showFormat&&!s.afterupload),m.xp6(1),m.Q6J("ngIf","XML"==s.showFetch&&"JSON"!==s.showFormat&&s.afterupload),m.xp6(1),m.Q6J("ngIf","DB Connection"==s.showFetch),m.xp6(1),m.Q6J("ngIf","MT"==s.showFetch||"MX"==s.showFetch),m.xp6(2),m.Q6J("ngIf","DB Connection"===s.showFetch),m.xp6(1),m.Q6J("ngIf","MT"===s.showFetch||"MX"==s.showFetch),m.xp6(1),m.Q6J("ngIf","XML"==s.showFetch||"JSON"==s.showFetch),m.xp6(1),m.Q6J("ngIf","TCP/IP"==s.showFetch),m.xp6(2),m.MGl("id","responseIndicator_",a,""),m.Q6J("readonly",!s.editValue),m.xp6(2),m.MGl("id","encryption_",a,""),m.xp6(3),m.Q6J("value","No Encryption"),m.xp6(2),m.Q6J("value","BASE64"),m.xp6(2),m.Q6J("value","SHA256"),m.xp6(2),m.Q6J("value","SHA512"),m.xp6(3),m.Q6J("ngIf",s.submit)}}function V(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",57),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).addTransaltionGroup("")}),m.TgZ(1,"span"),m._UZ(2,"img",58),m.qZA(),m.qZA()}}function P(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",31),m.TgZ(1,"button",59),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).editValues()}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(2);m.xp6(1),m.Q6J("hidden",o.hideSubmit),m.xp6(1),m.Oqu(o.roleCodes.edit.labelDescription)}}function H(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",31),m.TgZ(1,"button",60),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).authorizeRuleTranslation()}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(2);m.xp6(1),m.Q6J("hidden",o.hideSubmit),m.xp6(1),m.Oqu(o.roleCodes.auth.labelDescription)}}function X(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",31),m.TgZ(1,"button",61),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).closeRuleTranslation()}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(2);m.xp6(1),m.Q6J("hidden",o.hideSubmit),m.xp6(1),m.Oqu(o.roleCodes.close.labelDescription)}}function G(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",31),m.TgZ(1,"button",61),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).openRuleTranslation()}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(2);m.xp6(1),m.Q6J("hidden",o.hideSubmit),m.xp6(1),m.Oqu(o.roleCodes.reopen.labelDescription)}}function j(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",31),m.TgZ(1,"button",61),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).deleteRuleTranslation()}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(2);m.xp6(1),m.Q6J("hidden",o.hideSubmit),m.xp6(1),m.Oqu(o.roleCodes.delete.labelDescription)}}var z=function(){return["/rule-translation/summary"]};function W(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"form",5),m.TgZ(1,"fieldset",6),m.TgZ(2,"div",7),m.TgZ(3,"div",8),m.TgZ(4,"div",9),m.TgZ(5,"label",10),m._uU(6,"Source System"),m.TgZ(7,"span",11),m._uU(8,"*"),m.qZA(),m.qZA(),m.TgZ(9,"ng-select",12),m.NdJ("change",function(e){return m.CHM(n),m.oxw().onSlectionExternalSystem(e)}),m.TgZ(10,"ng-option",13),m._uU(11,"Please select System"),m.qZA(),m.YNc(12,x,2,2,"ng-option",14),m.qZA(),m.qZA(),m.TgZ(13,"div",9),m.TgZ(14,"label",10),m._uU(15,"Message Type"),m.qZA(),m.TgZ(16,"select",15),m.NdJ("change",function(){m.CHM(n);var e=m.oxw();return e.onSelectionOFMessageType(e.ruleTransForm.get("messageType").value)}),m.TgZ(17,"option",13),m._uU(18,"--Please select--"),m.qZA(),m.TgZ(19,"option",16),m._uU(20,"Incoming"),m.qZA(),m.TgZ(21,"option",17),m._uU(22,"OutGoing"),m.qZA(),m.qZA(),m.qZA(),m.YNc(23,q,6,1,"div",18),m.qZA(),m._UZ(24,"br"),m.TgZ(25,"div",8),m.TgZ(26,"div",19),m.TgZ(27,"button",20),m.NdJ("click",function(){return m.CHM(n),m.oxw().onFetch()}),m._uU(28,"Fetch"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(29,"div",7),m.TgZ(30,"fieldset",6),m.TgZ(31,"div",21),m.TgZ(32,"table",22),m.TgZ(33,"thead"),m.TgZ(34,"tr"),m.TgZ(35,"th"),m.YNc(36,b,2,0,"ng-container",23),m.YNc(37,S,2,0,"ng-container",23),m.YNc(38,C,2,0,"ng-container",23),m.YNc(39,R,2,0,"ng-container",23),m.TgZ(40,"span",11),m._uU(41,"*"),m.qZA(),m.qZA(),m.TgZ(42,"th"),m.YNc(43,N,2,0,"ng-container",23),m.YNc(44,I,2,0,"ng-container",23),m.TgZ(45,"span",11),m._uU(46,"*"),m.qZA(),m.qZA(),m.TgZ(47,"th"),m._uU(48,"Default value"),m.TgZ(49,"span",11),m._uU(50,"*"),m.qZA(),m.qZA(),m.TgZ(51,"th"),m._uU(52,"Encryption"),m.TgZ(53,"span",11),m._uU(54,"*"),m.qZA(),m.qZA(),m.TgZ(55,"th"),m._uU(56,"Action"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(57,"tbody"),m.ynx(58,24),m.YNc(59,L,30,19,"tr",25),m.BQk(),m.TgZ(60,"tr"),m.TgZ(61,"td"),m.YNc(62,V,3,0,"button",26),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(63,"div",27),m.YNc(64,P,3,2,"div",28),m.TgZ(65,"div",29),m.TgZ(66,"button",30),m.NdJ("click",function(){return m.CHM(n),m.oxw().onSubmit()}),m._uU(67,"Save"),m.qZA(),m.qZA(),m.YNc(68,H,3,2,"div",28),m.YNc(69,X,3,2,"div",28),m.YNc(70,G,3,2,"div",28),m.YNc(71,j,3,2,"div",28),m.TgZ(72,"div",31),m.TgZ(73,"button",32),m._uU(74,"Exit"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var o=m.oxw();m.Q6J("formGroup",o.ruleTransForm),m.xp6(1),m.Q6J("disabled",!o.editValue),m.xp6(8),m.Q6J("readonly",!o.editValue),m.xp6(3),m.Q6J("ngForOf",o.externalSystem),m.xp6(11),m.Q6J("ngIf","XML"==o.showFetch&&"JSON"!==o.showFormat),m.xp6(4),m.Q6J("disabled",!o.editValue),m.xp6(3),m.Q6J("disabled",!o.editValue),m.xp6(6),m.Q6J("ngIf","MT"==o.showFetch||"MX"==o.showFetch),m.xp6(1),m.Q6J("ngIf","XML"==o.showFetch&&!o.afterupload||"XML"==o.showFetch&&o.afterupload),m.xp6(1),m.Q6J("ngIf","JSON"==o.showFetch),m.xp6(1),m.Q6J("ngIf","DB Connection"==o.showFetch),m.xp6(4),m.Q6J("ngIf","JSON"==o.showFetch||"XML"==o.showFetch||"DB Connection"==o.showFetch),m.xp6(1),m.Q6J("ngIf","TCP/IP"==o.showFetch||"MT"==o.showFetch||"MX"==o.showFetch),m.xp6(15),m.Q6J("ngForOf",o.msgTransDetails.controls),m.xp6(3),m.Q6J("ngIf",o.submit),m.xp6(2),m.Q6J("ngIf",!("C"==o.ruleTRespData.recordStatus||"CLOSED"==o.ruleTRespData.recordStatus)&&o.roleCodes.edit),m.xp6(1),m.Q6J("hidden",!o.hideSubmit),m.xp6(1),m.Q6J("disabled",!o.ruleTransForm.dirty),m.xp6(2),m.Q6J("ngIf",("U"==o.ruleTRespData.approvedStatus||"N"==o.ruleTRespData.approvedStatus||"UNAUTHORIZED"==o.ruleTRespData.approvedStatus)&&o.roleCodes.auth),m.xp6(1),m.Q6J("ngIf",("O"==o.ruleTRespData.recordStatus||"OPEN"==o.ruleTRespData.recordStatus)&&"NO"!=o.ruleTRespData.approvedEver&&"N"!=o.ruleTRespData.approvedEver&&o.roleCodes.close),m.xp6(1),m.Q6J("ngIf",("C"==o.ruleTRespData.recordStatus||"CLOSED"==o.ruleTRespData.recordStatus)&&o.roleCodes.reopen),m.xp6(1),m.Q6J("ngIf",("NO"==o.ruleTRespData.approvedEver||"N"==o.ruleTRespData.approvedEver)&&!o.showdelete&&o.roleCodes.delete),m.xp6(2),m.Q6J("routerLink",m.DdM(23,z))}}function K(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"div",62),m.TgZ(2,"div",63),m.TgZ(3,"div",64),m.TgZ(4,"div",65),m.TgZ(5,"div",31),m.TgZ(6,"div",66),m._UZ(7,"i",67),m.qZA(),m.qZA(),m.TgZ(8,"div",68),m.TgZ(9,"div",69),m.TgZ(10,"h2"),m._uU(11,"Maker"),m.qZA(),m.TgZ(12,"p"),m._uU(13),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(14,"div",63),m.TgZ(15,"div",64),m.TgZ(16,"div",65),m.TgZ(17,"div",31),m.TgZ(18,"div",70),m._UZ(19,"img",71),m.qZA(),m.qZA(),m.TgZ(20,"div",68),m.TgZ(21,"div",69),m.TgZ(22,"h2"),m._uU(23,"Maker Time Stamp"),m.qZA(),m.TgZ(24,"p"),m._uU(25),m.ALo(26,"date"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(27,"div",63),m.TgZ(28,"div",64),m.TgZ(29,"div",65),m.TgZ(30,"div",31),m.TgZ(31,"div",72),m._UZ(32,"img",73),m.qZA(),m.qZA(),m.TgZ(33,"div",68),m.TgZ(34,"div",69),m.TgZ(35,"h2"),m._uU(36,"Record Status"),m.qZA(),m.TgZ(37,"p"),m._uU(38),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(39,"div",63),m.TgZ(40,"div",64),m.TgZ(41,"div",65),m.TgZ(42,"div",31),m.TgZ(43,"div",74),m._UZ(44,"i",75),m.qZA(),m.qZA(),m.TgZ(45,"div",68),m.TgZ(46,"div",69),m.TgZ(47,"h2"),m._uU(48,"Checker"),m.qZA(),m.TgZ(49,"p"),m._uU(50),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(51,"div",63),m.TgZ(52,"div",64),m.TgZ(53,"div",65),m.TgZ(54,"div",31),m.TgZ(55,"div",76),m._UZ(56,"img",77),m.qZA(),m.qZA(),m.TgZ(57,"div",68),m.TgZ(58,"div",69),m.TgZ(59,"h2"),m._uU(60,"Checker Time Stamp"),m.qZA(),m.TgZ(61,"p"),m._uU(62),m.ALo(63,"date"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(64,"div",63),m.TgZ(65,"div",64),m.TgZ(66,"div",65),m.TgZ(67,"div",31),m.TgZ(68,"div",78),m._UZ(69,"img",79),m.qZA(),m.qZA(),m.TgZ(70,"div",68),m.TgZ(71,"div",69),m.TgZ(72,"h2"),m._uU(73,"First Time Authorization"),m.qZA(),m.TgZ(74,"p"),m._uU(75),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(76,"div",63),m.TgZ(77,"div",64),m.TgZ(78,"div",65),m.TgZ(79,"div",31),m.TgZ(80,"div",80),m._UZ(81,"img",81),m.qZA(),m.qZA(),m.TgZ(82,"div",68),m.TgZ(83,"div",69),m.TgZ(84,"h2"),m._uU(85,"Authorization Status"),m.qZA(),m.TgZ(86,"p"),m._uU(87),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(88,"div",63),m.TgZ(89,"div",64),m.TgZ(90,"div",65),m.TgZ(91,"div",31),m.TgZ(92,"div",80),m._UZ(93,"img",82),m.qZA(),m.qZA(),m.TgZ(94,"div",68),m.TgZ(95,"div",69),m.TgZ(96,"h2"),m._uU(97,"Modification Number"),m.qZA(),m.TgZ(98,"p"),m._uU(99),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(13),m.Oqu(n.ruleTRespData.creatorId),m.xp6(12),m.Oqu(m.xi3(26,8,n.ruleTRespData.createdTime,"MM/dd/yyyy, h:mm a")),m.xp6(13),m.Oqu("O"==n.ruleTRespData.recordStatus?"OPEN":"C"==n.ruleTRespData.recordStatus?"CLOSED":n.ruleTRespData.recordStatus),m.xp6(12),m.Oqu(n.ruleTRespData.approverId),m.xp6(12),m.Oqu(m.xi3(63,11,n.ruleTRespData.approvedTime,"MM/dd/yyyy, h:mm a")),m.xp6(13),m.Oqu("N"==n.ruleTRespData.approvedEver?"NO":"Y"==n.ruleTRespData.approvedEver?"YES":n.ruleTRespData.approvedEver),m.xp6(12),m.Oqu("N"==n.ruleTRespData.approvedStatus||"U"==n.ruleTRespData.approvedStatus?"UNAUTHORIZED":"Y"==n.ruleTRespData.approvedStatus||"A"==n.ruleTRespData.approvedStatus?"AUTHORIZED":n.ruleTRespData.approvedStatus),m.xp6(12),m.Oqu(n.ruleTRespData.versionNo)}}var $,ee=(($=function(){function e(t,o,a,s,i,r,l,c,u,p,h){n(this,e),this.rules=t,this.roleService=o,this.addSystem=a,this.router=s,this.cdr=i,this._route=r,this.formBuilder=l,this.datePipe=c,this.elementRef=u,this.canDeactivateGuard=p,this.toastService=h,this.submit=!0,this.msgTranslation=new te,this.translationDeatils=[],this.translationDTO=new ne,this.showAuditLog=!0,this.displaySubmit=!1,this.authorizeDone=!1,this.hideSubmit=!1,this.formTouched=!0,this.showDialog=!1,this.subject=new d.xQ,this.isSelected=!0,this.roleCodes=new g.yv,this.disableFields=!1,this.columnNameDD=[],this.mTMxResp=[]}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.currentUser=localStorage.getItem("userFromLogin"),this.ruleTransForm=this.formBuilder.group({transId:this.transId,systemCode:["",u.kI.required],messageType:["",u.kI.required],serviceName:[""],operationName:[""],msgTransDetails:this.formBuilder.array([])}),this.gettingExternalsystem(),this.fetchingHeadertag(),this.getById(this._route.snapshot.params.id),this.roleService.fetchScreenPermissions("Rule translation"),this.roleService.screenLabelList.subscribe(function(t){return e.roleCodes=t}),setTimeout(function(){console.log(e.roleCodes)},100),this.ruleTransForm.disable(),this.msgTransDetails.disable(),console.log(this.msgTransDetails)}},{key:"getById",value:function(e){var t=this;this.rules.ruleTranslationBasedonId(e).subscribe(function(e){console.log(e),t.translationDeatils=e,t.editRuleTransResp=e,console.log("editRuleTransResp??",t.editRuleTransResp),t.ruleTRespData=t.editRuleTransResp,console.log(t.ruleTRespData),t.transId=t.ruleTRespData.transId,console.log(t.transId),t.msgTranslation.systemCode=t.editRuleTransResp.systemCode,t.msgTranslation.messageType=t.editRuleTransResp.messageType,t.msgTranslation.operationName=t.editRuleTransResp.operationName,t.msgTranslation.serviceName=t.editRuleTransResp.serviceName,t.ruleTransForm.get("operationName").setValue(t.editRuleTransResp.operationName),t.ruleTransForm.patchValue(t.editRuleTransResp);for(var n=0;n<t.editRuleTransResp.msgTransDetails.length;n++){console.log(t.editRuleTransResp.msgTransDetails),t.addTransaltionGroup({});var o=t.editRuleTransResp.msgTransDetails[n];t.msgTransDetails.at(n).patchValue(Object.assign(Object.assign({},o),{formattedMessageBasis:"".concat(o.messageKey," ").concat(o.messagebasis)}))}t.cdr.markForCheck(),t.onSelectionOFMessageType(t.msgTranslation.messageType),t.onSlectionExternalSystem(t.msgTranslation.systemCode),t.gettingoperationAndService(t.msgTranslation.systemCode,t.msgTranslation.messageType,t.currentUser),t.translationDeatils=t.editRuleTransResp.msgTransDetails,console.log(t.translationDeatils),"C"==t.ruleTRespData.recordStatus&&(console.log(t.ruleTRespData.recordStatus),t.reopenBtn=!1,t.authBtnHide=!0),"U"==t.ruleTRespData.approvedStatus&&(console.log(t.ruleTRespData.approvedStatus),t.authBtnHide=!1,t.authBtn=!1)})}},{key:"gettingExternalsystem",value:function(){var e=this;this.rules.gettingExternalsystem().subscribe(function(t){console.log(t),t&&(e.externalSystem=t)},function(e){console.log("err",e)})}},{key:"onSlectionExternalSystem",value:function(e){console.log(e),this.sourcesystem=this.msgTranslation.messageType}},{key:"canExit",value:function(){var e=this,t=!1;return this.ruleTransForm.touched&&1==this.formTouched?h().fire({text:"There are unsaved changes in the screen. Would you like to navigate to other screen?",showCancelButton:!0,confirmButtonColor:"#E6224A",cancelButtonColor:"#011945",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(function(n){return!0===n.isConfirmed?(t=!0,e.cdr.markForCheck(),t):(t=!1,e.cdr.markForCheck(),t)}):(t=!0,new Promise(function(n,o){!0===t&&(t=!0,e.cdr.markForCheck(),n(!0))}))}},{key:"onSelectionOFMessageType",value:function(e){console.log("Event",e),this.msgType=e,this.sourcesystem&&this.msgType?this.gettingoperationAndService(this.msgTranslation.systemCode,this.msgType,this.currentUser):console.log("enter both msg and ext")}},{key:"gettingoperationAndService",value:function(e,t,n){var o=this;this.rules.gettingoperationAndService(e,t,n).subscribe(function(e){console.log(e),o.messageBasisData=e.MdmtSystemService,o.mdmtSystemChannel=e.MdmtSystemChannel,console.log("messageBasisData",o.messageBasisData);var t=Object.keys(e);console.log(t);var n=t[2],a=t[3];"I"==n&&3==Object.keys(e).length?(console.log("yes",n),0!==e.I.SERVICE.length&&(o.msgTranslation.serviceName=e.I.SERVICE[0].headerValue,e.I.SERVICE.length<=1&&(console.log(o.translationDataOperation,"1st if"),o.multipleService=!0),e.I.SERVICE.length>1&&(console.log(o.translationDataOperation,"2nd If"),o.multipleService=!1)),0!==e.I.OPERATION.length&&(o.msgTranslation.operationName=e.I.OPERATION[0].headerValue,o.translationDataOperation=e.I.OPERATION,o.translationDataOperation.length<=1&&(console.log(o.translationDataOperation,"1st if"),o.multipleOperation=!0),o.translationDataOperation.length>1&&(console.log(o.translationDataOperation,"2nd If"),o.multipleOperation=!1)),o.translationDataService=e.I.SERVICE):"O"==n&&3==Object.keys(e).length?(console.log("else if",n),0!==e.O.SERVICE.length&&(o.msgTranslation.serviceName=e.O.SERVICE[0].headerValue,e.O.SERVICE.length<=1&&(console.log(o.translationDataOperation,"1st if"),o.multipleService=!0),e.O.SERVICE.length>1&&(console.log(o.translationDataOperation,"2nd If"),o.multipleService=!1)),0!==e.O.OPERATION.length&&(o.msgTranslation.operationName=e.O.OPERATION[0].headerValue,o.translationDataOperation=e.O.OPERATION,o.translationDataOperation.length<=1&&(console.log(o.translationDataOperation,"1st if"),o.multipleOperation=!0),o.translationDataOperation.length>1&&(console.log(o.translationDataOperation,"2nd If"),o.multipleOperation=!1)),o.translationDataService=e.O.SERVICE):"I"==n&&"I"==o.msgTranslation.messageType&&4==Object.keys(e).length?(0!==e.I.SERVICE.length&&(o.msgTranslation.serviceName=e.I.SERVICE[0].headerValue),0!==e.I.OPERATION.length&&(o.msgTranslation.operationName=e.I.OPERATION[0].headerValue,o.translationDataOperation=e.I.OPERATION),o.translationDataService=e.I.SERVICE):"O"==a&&"O"==o.msgTranslation.messageType&&4==Object.keys(e).length&&(0!==e.O.SERVICE.length&&(o.msgTranslation.serviceName=e.O.SERVICE[0].headerValue),0!==e.O.OPERATION.length&&(o.msgTranslation.operationName=e.O.OPERATION[0].headerValue,o.translationDataOperation=e.O.OPERATION),o.translationDataService=e.O.SERVICE),o.showFetch=e.MdmtSystemChannel[0].messageChannel,o.showFormat=e.MdmtSystemChannel[0].messageFormat,"Https/Http"==o.showFetch?o.showFetch=e.MdmtSystemChannel[0].messageFormat:"TCP/IP"==o.showFetch?o.fetchingIso():"DB Connection"==o.showFetch?o.addSystem.coulmnNameBasedonTableName(e.MdmtSystemChannel[0].dbConnectString,e.MdmtSystemChannel[0].dbServiceName,e.MdmtSystemChannel[0].dbUsername,e.MdmtSystemChannel[0].dbPassword,e.MdmtSystemChannel[0].sysService[0].messageKey.split(",",1)).subscribe(function(e){e.forEach(function(e){o.columnNameDD.push(e[1])})}):"MT"==o.showFetch?o.addSystem.getMtApi().subscribe(function(e){console.log("mt resp",e),o.mTMxResp=e}):"MX"==o.showFetch&&o.addSystem.getMxApi().subscribe(function(e){console.log("mx resp",e),o.mTMxResp=e})},function(e){console.log(e)})}},{key:"onSubmit",value:function(){var e=this;this.ruleTransForm.value.operationName="Conversion",this.ruleTransForm.value.serviceName="Conversion",console.log("Update?",this.ruleTransForm.value);var t=Object.assign(Object.assign({},this.ruleTransForm.value),{msgTransDetails:this.ruleTransForm.value.msgTransDetails.map(function(e){return(0,c._T)(e,["formattedMessageBasis"])})});this.translationDTO.msgTranslation=this.msgTranslation,console.log("updatedFormData ",t),this.translationDTO.msgTranslationDet=this.ruleRecord,console.log(this.translationDTO),this.rules.editruleTranslation("update",this.currentUser,t).subscribe(function(t){console.log(t),e.ruleTRespData=t,t&&(h().fire({text:"Record is Updated",icon:"success"}),e.submit=!1,e.showAuditLog=!0,e.editValue=!1,e.hideSubmit=!1,e.formTouched=!e.ruleTransForm.touched)},function(e){h().fire({text:"Server Error.",icon:"error"})})}},{key:"onFetch",value:function(){this.showRecords=!0}},{key:"onReset",value:function(){this.msgTranslation=new te,this.ruleRecord=[]}},{key:"getTranslationItem",value:function(e){return this.formBuilder.group({messagebasis:[e.messagebasis?e.messagebasis:""],formattedMessageBasis:[e.formattedMessageBasis?e.formattedMessageBasis:""],headerTag:[e.headerTag?e.headerTag:""],defaultValue:[e.defaultValue?e.defaultValue:""],systemChannelId:[e.systemChannelId?e.systemChannelId:""],encryption:[e.encryption?e.encryption:"No Encryption"],id:[e.id?e.id:""],dataType:[e.dataType?e.dataType:""],messageKey:[e.messageKey?e.messageKey:""]})}},{key:"msgTransDetails",get:function(){return this.ruleTransForm.get("msgTransDetails")}},{key:"addTransaltionGroup",value:function(e){this.msgTransDetails.push(this.getTranslationItem(e))}},{key:"removeTranslation",value:function(e){var t=this;h().fire({title:"are you sure, want to remove the record?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then(function(n){n.isConfirmed&&(t.msgTransDetails.removeAt(e),h().fire("Removed!","","success"))})}},{key:"selectFileFORHTTPXMLIncoming",value:function(e){var t=this;console.log("here http and xML",e),this.selectedFiles=e.target.files,console.log("File selected",this.selectedFiles),console.log(this.selectedFiles[0].name),this.fileName=this.selectedFiles[0].name,this.fileUploadWrapper.nativeElement.setAttribute("data-text",this.fileName),this.currentFileUpload=this.selectedFiles.item(0),console.log(e.target.files),this.addSystem.gettingBodyOfXml(this.currentFileUpload).subscribe(function(e){console.log(e),e&&(t.xmlRespData=e,t.afterupload=!0,e&&(t.messageBasisIso=e.nodeTagList,t.showRecords=!0,t.addTransaltionGroup({})))},function(e){})}},{key:"fetchingHeadertag",value:function(){var e=this;this.addSystem.fetchingHeaderTag().subscribe(function(t){console.log("res",t),e.headerTagData=t})}},{key:"fetchingIso",value:function(){var e=this;this.addSystem.fetchingIsoForTcp().subscribe(function(t){console.log(t),e.matlabel1="Filed No",e.messageBasisIso=t.map(function(e){return e.fieldName}),e.messageKeyIso=t.map(function(e){return e.fieldNo.toString()})})}},{key:"fetchingXMl",value:function(){var e=this;this.addSystem.gettinXMLmsgIncoming().subscribe(function(t){console.log(t),e.xmlRespData=t.map(function(e){return e.messageBasis})})}},{key:"edit",value:function(){this.editValue=!0,this.displaySubmit=!0,this.onlysubmit=!0,this.showAuditLog=!1,console.log(this.ruleTRespData),"U"==this.ruleTRespData.approvedStatus&&(this.editValue=!1),"C"==this.ruleTRespData.recordStatus&&(this.editValue=!1)}},{key:"chooseFile",value:function(){console.log("heyy file"),document.getElementById("chFile").click()}},{key:"authorizeRuleTranslation",value:function(){var e=this;h().fire({text:"You are trying to Authorize record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(function(t){console.log("this is reopen ",t),!0===t.isConfirmed&&(e.currentUser==e.ruleTRespData.creatorId?h().fire("Maker cannot authorize!"):e.addSystem.editruleTranslation("auth",e.currentUser,e.ruleTRespData).subscribe(function(t){console.log(t),t.approverId&&(e.authorizeDone=!0,h().fire("Record is Authorized "),e.ruleTRespData=t)}))})}},{key:"editValues",value:function(){this.hideSubmit=!0,this.editValue=!0,this.displaySubmit=!0,this.onlysubmit=!0,this.showAuditLog=!1,console.log(this.ruleTRespData),this.ruleTransForm.enable(),this.msgTransDetails.enable()}},{key:"openRuleTranslation",value:function(){var e=this;h().fire({text:"You are trying to re-open record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){console.log("this is reopen ",t),!0===t.isConfirmed&&(console.log(e.ruleTRespData),console.log(e.currentUser),e.addSystem.editruleTranslation("open",e.currentUser,e.ruleTRespData).subscribe(function(t){console.log(t),t&&(h().fire("Record is Reopened"),e.ruleTRespData=t,e.authBtnHide=!1,e.editBtn=!1,e.authBtn=!1)}))})}},{key:"closeRuleTranslation",value:function(){var e=this;h().fire({text:"You are trying to close record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){console.log("this is reopen ",t),!0===t.isConfirmed&&e.addSystem.editruleTranslation("close",e.currentUser,e.ruleTRespData).subscribe(function(t){console.log(t),t&&(h().fire({text:"Record is Closed",icon:"success"}),e.ruleTRespData=t,e.editBtn=!0,e.authBtn=!0,e.deleted=!1,e.reopenBtn=!1)})})}},{key:"deleteRuleTranslation",value:function(){var e=this;h().fire({text:"You are trying to Delete record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){if(console.log("this is reopen ",t),!0===t.isConfirmed){var n=e.ruleTRespData;console.log(e.ruleTRespData),e.addSystem.deleteRuleTranslation(e.currentUser,n.transId).subscribe(function(e){},function(t){200==t.status&&(e.showdelete=!0,e.editBtn=!0,e.authBtn=!0,e.closeBtn=!0,h().fire({title:"Record is Deleted!",confirmButtonText:"Ok"}).then(function(t){t&&e.router.navigateByUrl("/rule-translation/summary")}))})}})}},{key:"onselectingFieldName",value:function(e,t){if(this.msgTransDetails.at(t).get("defaultValue").patchValue(""),"MIRDate"===e||"ReceiverOutputDate"===e||"CreDt"===e){var n=this.datePipe.transform(new Date,"yyyy-MM-dd");this.msgTransDetails.at(t).get("defaultValue").patchValue(n)}if("ReceiverOutputTime"===e||"SenderInputTime"===e){var o=new Date;this.msgTransDetails.at(t).get("defaultValue").patchValue(o.getHours()+":"+o.getMinutes())}"MessagePriority"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("N"),"MessageType"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("103"),"blockType"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("O"),"MsgDefIdr"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("pacs.008.001.07"),"PssblDplct"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue(!1)}}]),e}()).\u0275fac=function(e){return new(e||$)(m.Y36(f.Q),m.Y36(T.N),m.Y36(Z.Z),m.Y36(r.F0),m.Y36(m.sBO),m.Y36(r.gz),m.Y36(u.qu),m.Y36(i.uU),m.Y36(m.SBq),m.Y36(l.I),m.Y36(v.k))},$.\u0275cmp=m.Xpm({type:$,selectors:[["npr-rule-translation-details"]],viewQuery:function(e,t){var n;1&e&&m.Gf(A,5),2&e&&m.iGM(n=m.CRH())&&(t.fileUploadWrapper=n.first)},features:[m._Bn([i.uU])],decls:7,vars:2,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],["class","formStyle",3,"formGroup",4,"ngIf"],["class","dbCardStyle",4,"ngIf"],[1,"formStyle",3,"formGroup"],[3,"disabled"],[1,"dbCardStyle"],[1,"row","gy-4","align-items-end"],[1,"col-lg-2"],["for","roleName",1,"formLbl"],[1,"colorRed"],["id","outlineNgSelect","id","sysCode","formControlName","systemCode","aria-label","Default select example","required","",1,"form-select",3,"readonly","change"],["hidden","","value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","msgType","formControlName","messageType","aria-label","Default select example",1,"form-select",3,"change"],["value","I"],["value","O"],["class","col-lg-4",3,"click",4,"ngIf"],[1,"col-lg-3"],[1,"btn","minWdSmBtn","btnPrimary",3,"disabled","click"],[1,"table-responsive"],["id","dbTable1",1,"table","tableStyle","responsive","nowrap","vAlignMdl"],[4,"ngIf"],["formArrayName","msgTransDetails"],[4,"ngFor","ngForOf"],["class","addIcon primarybg",3,"click",4,"ngIf"],[1,"row","g-3","pb-3","justify-content-end","pt-3"],["class","col-auto",4,"ngIf"],[1,"col-auto",3,"hidden"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[3,"value"],[1,"col-lg-4",3,"click"],[1,"fileUpload"],[1,"formS"],["data-text","File Upload",1,"file-upload-wrapper"],["fileWrapper",""],["id","chFile","name","file-upload-field","type","file",1,"file-upload-field",3,"disabled","change"],[3,"formGroup"],["formControlName","defaultValue","type","text",1,"form-control",3,"id","readonly"],["formControlName","encryption","aria-label","Default select example",1,"form-select",3,"id","change"],[1,"tblIcon"],[3,"ngClass","click",4,"ngIf"],["name","formattedMessageBasis","formControlName","formattedMessageBasis",1,"form-control",3,"readonly"],["formControlName","messagebasis","aria-label","Default select example","required","",1,"form-control",3,"id"],["name","messagebasis","formControlName","messagebasis",1,"form-control",3,"readonly"],["formControlName","messagebasis","aria-label","Default select example","required","",1,"form-select",3,"id","disabled"],["formControlName","dataType","aria-label","Default select example",1,"form-select",3,"id"],["value","VARCHAR2"],["value","NUMBER"],["value","DATE"],["formControlName","dataType","aria-label","Default select example",1,"form-select"],["type","text","formControlName","dataType",1,"form-control",3,"readonly"],[3,"ngClass","click"],["src","assets/images/delete-icon.svg","alt","..."],[1,"addIcon","primarybg",3,"click"],["src","assets/images/plus-icon.svg","alt","..."],[1,"btn","smBtn","minWdSmBtn","btnUpdate",3,"hidden","click"],[1,"btn","smBtn","minWdSmBtn","btnAuth",3,"hidden","click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"hidden","click"],[1,"row"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"csCardStyle"],[1,"row","g-2","align-items-center"],[1,"csCardStyleIcon","csCardStyleIconBg1"],[1,"fa","fa-edit","faClass"],[1,"col"],[1,"csCardStyleText"],[1,"csCardStyleIcon","csCardStyleIconBg2"],["src","assets/images/time-stamp-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg3"],["src","assets/images/record-status-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg4"],[1,"fa","fa-check-square-o","faClassChecker"],[1,"csCardStyleIcon","csCardStyleIconBg5"],["src","assets/images/checker-time-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg6"],["src","assets/images/first-auth-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg7"],["src","assets/images/authorize.svg","alt","...",1,"modImage"],["src","assets/images/modification.svg","alt","...",1,"modImage"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"h2",2),m._uU(3,"Rule Translation"),m.qZA(),m.qZA(),m.YNc(4,W,75,24,"form",3),m._UZ(5,"br"),m.YNc(6,K,100,14,"div",4),m.qZA()),2&e&&(m.xp6(4),m.Q6J("ngIf",t.ruleTransForm),m.xp6(2),m.Q6J("ngIf",t.showAuditLog))},directives:[i.O5,u._Y,u.JL,u.sg,y.w9,u.JJ,u.u,u.Q7,y.jq,i.sg,u.EJ,u.YN,u.Kr,u.CE,r.rH,u.Fj,i.mk],pipes:[i.uU],styles:[".readonlyTrue[_ngcontent-%COMP%]{pointer-events:none!important}.readonlyFalse[_ngcontent-%COMP%]{pointer-events:visible!important}"]}),$),te=a(function e(){n(this,e)}),ne=a(function e(){n(this,e)}),oe=s(3118),ae=s(91841),se=s(17988),ie=function(){return["/rule-translation/create"]},re=function(){return["active"]};function le(e,t){if(1&e&&(m.TgZ(0,"div",6),m.TgZ(1,"a",11),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("routerLink",m.DdM(3,ie))("routerLinkActive",m.DdM(4,re)),m.xp6(1),m.Oqu(n.roleCodes.new.labelDescription)}}function ce(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",19),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw(2).close(e)}),m._UZ(1,"img",20),m.qZA()}}function ue(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",21),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw(2).open(e)}),m._UZ(1,"img",22),m.qZA()}}function de(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",23),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().$implicit;return m.oxw(2).delete(e)}),m._UZ(1,"img",24),m.qZA()}}function ge(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"tr"),m.TgZ(1,"td"),m.TgZ(2,"a",13),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw(2).onGetId(e)}),m._uU(3),m.qZA(),m.qZA(),m.TgZ(4,"td"),m._uU(5),m.qZA(),m.TgZ(6,"td"),m._uU(7),m.qZA(),m.TgZ(8,"td"),m._uU(9),m.ALo(10,"date"),m.qZA(),m.TgZ(11,"td"),m.TgZ(12,"button",14),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw(2).auth(e)}),m._UZ(13,"img",15),m.qZA(),m.YNc(14,ce,2,0,"button",16),m.YNc(15,ue,2,0,"button",17),m.YNc(16,de,2,0,"button",18),m.qZA(),m.qZA()}if(2&e){var o=t.$implicit;m.xp6(3),m.Oqu(o.systemCode),m.xp6(2),m.Oqu(o.approvedStatus),m.xp6(2),m.Oqu(o.recordStatus),m.xp6(2),m.Oqu(m.xi3(10,8,o.createdTime,"medium")),m.xp6(3),m.Q6J("disabled",!("U"==o.approvedStatus||"UNAUTHORIZED"==o.approvedStatus||"Unauthorized"==o.approvedStatus)),m.xp6(2),m.Q6J("ngIf",!("O"!=o.recordStatus&&"Open"!=o.recordStatus&&"OPEN"!=o.recordStatus||"Y"!=o.approvedEver&&"YES"!=o.approvedEver)),m.xp6(1),m.Q6J("ngIf",!("CLOSED"!=o.recordStatus&&"Close"!=o.recordStatus&&"c"!=o.recordStatus&&"C"!=o.recordStatus||"YES"!=o.approvedEver&&"Y"!=o.approvedEver)),m.xp6(1),m.Q6J("ngIf","N"==o.approvedEver||"NO"==o.approvedEver)}}function pe(e,t){if(1&e&&(m.TgZ(0,"tbody"),m.YNc(1,ge,17,11,"tr",12),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngForOf",n.translationList)}}function he(e,t){1&e&&(m.TgZ(0,"tbody"),m._UZ(1,"tr"),m.qZA())}function me(e,t){1&e&&(m.ynx(0),m.TgZ(1,"div",25),m.TgZ(2,"span",26),m._uU(3,"Please wait... "),m._UZ(4,"span",27),m.qZA(),m.qZA(),m.BQk())}var fe=function(){return["/dashboard"]},Te=function(){var t=function(){function t(e,o,a,s,i,r){n(this,t),this.ruleService=e,this.router=o,this.roleService=a,this.cdr=s,this.addSystem=i,this.http=r,this.translationList=[],this.dtTrigger=new d.xQ,this.dtOptions={},this.isLoading=!1,this.roleCodes=new g.yv,this.statusArr=["Authorized","Unauthorized","Open","Close"],this.API_URL=oe.$.baseURL}return a(t,[{key:"ngOnInit",value:function(){var t=this;this.dtOptions={pagingType:"full_numbers",pageLength:5,columnDefs:[{type:"date",targets:[3]}],order:[[3,"desc"]],serverSide:!0,lengthMenu:[[5,10,20,30,-1],[5,10,20,30,"ALL"]],ajax:function(n,o){n.minNumber=n.start+1,n.maxNumber=n.start+n.length,console.log(n.minNumber,n.maxNumber);var a=Math.floor(n.minNumber/n.length);t.http.get("".concat(t.API_URL,"/msgApi/getTranslation?pageNo=").concat(a,"&pageSize=").concat(n.length,"&search=").concat(n.search.value)).subscribe(function(n){console.log(n);var a,s=e(n.result);try{var i=function(){var e=a.value;e.approvedStatus=t.statusArr.find(function(t){return t.startsWith(e.approvedStatus)}),e.recordStatus=t.statusArr.find(function(t){return t.startsWith(e.recordStatus)})};for(s.s();!(a=s.n()).done;)i()}catch(r){s.e(r)}finally{s.f()}t.totalPages=n.totalNoOfPages,t.totalRecords=n.totalRecords,t.translationList=n.result,t.isLoading=!1,t.cdr.markForCheck(),o({recordsTotal:n.totalRecords,recordsFiltered:n.totalRecords,data:[]})})}},this.currentUser=localStorage.getItem("userFromLogin"),this.roleService.fetchScreenPermissions("Rule translation"),this.roleService.screenLabelList.subscribe(function(e){return t.roleCodes=e})}},{key:"fetchRuleTranslationSummary",value:function(){var t=this;this.isLoading=!0,this.ruleService.fetchingruleTranslation().subscribe(function(n){console.log(n);var o,a=e(n.result);try{var s=function(){var e=o.value;e.approvedStatus=t.statusArr.find(function(t){return t.startsWith(e.approvedStatus)}),e.recordStatus=t.statusArr.find(function(t){return t.startsWith(e.recordStatus)})};for(a.s();!(o=a.n()).done;)s()}catch(i){a.e(i)}finally{a.f()}t.translationList=n.result,t.isLoading=!1,t.cdr.markForCheck(),t.dtTrigger.next()})}},{key:"onGetId",value:function(e){console.log(e),this.router.navigate(["/rule-translation/edit",e.transId])}},{key:"ngOnDestroy",value:function(){this.dtTrigger.unsubscribe()}},{key:"close",value:function(e){var t=this;this.ruleTRespData=e,h().fire({text:"You are trying to close record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(e){console.log("this is reopen ",e),!0===e.isConfirmed&&t.addSystem.editruleTranslation("close",t.currentUser,t.ruleTRespData).subscribe(function(e){console.log(e),e&&(h().fire({text:"Record is Closed",icon:"success"}).then(function(){return window.location.reload()}),t.ruleTRespData=e,t.editBtn=!0,t.authBtn=!0,t.deleted=!1,t.reopenBtn=!1)})})}},{key:"open",value:function(e){var t=this;this.ruleTRespData=e,h().fire({text:"You are trying to re-open record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(e){console.log("this is reopen ",e),!0===e.isConfirmed&&t.addSystem.editruleTranslation("open",t.currentUser,t.ruleTRespData).subscribe(function(e){console.log(e),e&&(h().fire("Record is Reopened").then(function(){return window.location.reload()}),t.ruleTRespData=e,t.authBtnHide=!1,t.editBtn=!1,t.authBtn=!1)})})}},{key:"delete",value:function(e){var t=this;this.ruleTRespData=e,h().fire({text:"You are trying to Delete record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(e){if(console.log("this is reopen ",e),!0===e.isConfirmed){var n=t.ruleTRespData;console.log(t.ruleTRespData),t.addSystem.deleteRuleTranslation(t.currentUser,n.transId).subscribe(function(e){},function(e){200==e.status?(t.showdelete=!0,t.editBtn=!0,t.authBtn=!0,t.closeBtn=!0,h().fire({title:"Record is Deleted!",confirmButtonText:"Ok"}).then(function(){return window.location.reload()})):h().fire("Failed to delete the reocrd")})}})}},{key:"auth",value:function(e){var t=this;this.ruleTRespData=e,console.log(this.currentUser),console.log(this.ruleTRespData.creatorId),h().fire({text:"You are trying to Authorize record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(function(e){console.log("this is reopen ",e),!0===e.isConfirmed&&(t.currentUser==t.ruleTRespData.creatorId?h().fire("Maker cannot authorize!"):t.addSystem.editruleTranslation("auth",t.currentUser,t.ruleTRespData).subscribe(function(e){console.log(e),e.approverId&&(t.authorizeDone=!0,h().fire("Record is Authorized ").then(function(){return window.location.reload()}),t.ruleTRespData=e)}))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.Y36(f.Q),m.Y36(r.F0),m.Y36(T.N),m.Y36(m.sBO),m.Y36(Z.Z),m.Y36(ae.eN))},t.\u0275cmp=m.Xpm({type:t,selectors:[["npr-rule-translation-summary"]],decls:27,vars:7,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],[1,"dbCardStyle"],[1,"row","g-3","pb-3","justify-content-end"],["class","col-auto",4,"ngIf"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[1,"table-responsive"],["datatable","","id","dbTable1",1,"dataTable","table","tableStyleSelect","tableStyle","nowrap","vAlignMdl",2,"width","100%",3,"dtOptions"],[4,"ngIf"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"routerLink","routerLinkActive"],[4,"ngFor","ngForOf"],[1,"primaryColor",2,"cursor","pointer",3,"click"],["title","Authorize",1,"btn",2,"color","red",3,"disabled","click"],["src","assets/images/authorize.svg","alt","Authorize",1,"summaryIcon"],["class","btn","style","color: red","title","Close",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Reopen",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Delete",3,"click",4,"ngIf"],["title","Close",1,"btn",2,"color","red",3,"click"],["src","assets/images/CROSS1.svg","alt","...",1,"summaryIcon"],["title","Reopen",1,"btn",2,"color","red",3,"click"],["src","assets/images/open.svg","alt","...",1,"summaryIcon"],["title","Delete",1,"btn",2,"color","red",3,"click"],["src","assets/images/delete.svg","alt","...",1,"summaryIcon"],[1,"loading-page-center"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"h2",2),m._uU(3,"Rule Translation"),m.qZA(),m.qZA(),m.TgZ(4,"div",3),m.TgZ(5,"div",4),m.YNc(6,le,3,5,"div",5),m.TgZ(7,"div",6),m.TgZ(8,"a",7),m._uU(9,"Exit"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(10,"div",8),m.TgZ(11,"table",9),m.TgZ(12,"thead"),m.TgZ(13,"tr"),m.TgZ(14,"th"),m._uU(15,"System Code"),m.qZA(),m.TgZ(16,"th"),m._uU(17,"Auth Status"),m.qZA(),m.TgZ(18,"th"),m._uU(19,"Record Status"),m.qZA(),m.TgZ(20,"th"),m._uU(21,"Date"),m.qZA(),m.TgZ(22,"th"),m._uU(23,"Action"),m.qZA(),m.qZA(),m.qZA(),m.YNc(24,pe,2,1,"tbody",10),m.YNc(25,he,2,0,"tbody",10),m.qZA(),m.qZA(),m.YNc(26,me,5,0,"ng-container",10),m.qZA(),m.qZA()),2&e&&(m.xp6(6),m.Q6J("ngIf",t.roleCodes.new),m.xp6(2),m.Q6J("routerLink",m.DdM(6,fe)),m.xp6(3),m.Q6J("dtOptions",t.dtOptions),m.xp6(13),m.Q6J("ngIf",0!=(null==t.translationList?null:t.translationList.length)),m.xp6(1),m.Q6J("ngIf",0==(null==t.translationList?null:t.translationList.length)),m.xp6(1),m.Q6J("ngIf",t.isLoading))},directives:[i.O5,r.yS,se.G,r.Od,i.sg],pipes:[i.uU],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{padding:11px 20px!important}"]}),t}(),Ze=["fileWrapper"];function ve(e,t){if(1&e&&(m.TgZ(0,"ng-option",22),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.Q6J("value",n),m.xp6(1),m.hij(" ",n," ")}}function ye(e,t){1&e&&m._UZ(0,"div",23)}function Ae(e,t){if(1&e&&(m.TgZ(0,"div",24),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij(" ",n.messageArr," ")}}function xe(e,t){if(1&e&&(m.TgZ(0,"div",23),m._uU(1),m.qZA()),2&e){var n=m.oxw(2);m.xp6(1),m.hij(" ",n.messageArr," ")}}function qe(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"select",25),m.NdJ("change",function(e){return m.CHM(n),m.oxw(2).onSelectionOFMessageType(e)}),m.TgZ(2,"option",13),m._uU(3,"--Please select--"),m.qZA(),m.TgZ(4,"option",26),m._uU(5,"Incoming"),m.qZA(),m.TgZ(6,"option",27),m._uU(7,"Outgoing"),m.qZA(),m.qZA(),m.qZA()}}function be(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",28),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).chooseFile()}),m.TgZ(1,"div",29),m.TgZ(2,"div",30),m.TgZ(3,"div",31,32),m.TgZ(5,"input",33),m.NdJ("change",function(e){return m.CHM(n),m.oxw(2).selectFileFORHTTPXMLIncoming(e)}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}}var Se=function(){return["/rule-translation/summary"]};function Ce(e,t){1&e&&(m.TgZ(0,"div",19),m.TgZ(1,"button",34),m._uU(2,"Exit"),m.qZA(),m.qZA()),2&e&&(m.xp6(1),m.Q6J("routerLink",m.DdM(1,Se)))}function Re(e,t){1&e&&(m.TgZ(0,"th"),m._uU(1," Field No. "),m.TgZ(2,"span",11),m._uU(3,"*"),m.qZA(),m.qZA())}function Ne(e,t){1&e&&(m.TgZ(0,"th"),m._uU(1," Tag "),m.TgZ(2,"span",11),m._uU(3,"*"),m.qZA(),m.qZA())}function Ie(e,t){1&e&&(m.TgZ(0,"th"),m._uU(1," Key "),m.TgZ(2,"span",11),m._uU(3,"*"),m.qZA(),m.qZA())}function De(e,t){1&e&&(m.TgZ(0,"th"),m._uU(1," Column Name "),m.TgZ(2,"span",11),m._uU(3,"*"),m.qZA(),m.qZA())}function we(e,t){1&e&&(m.ynx(0),m._uU(1," Data type "),m.BQk())}function ke(e,t){1&e&&m._uU(0," Data type ")}function Ue(e,t){if(1&e&&(m.TgZ(0,"tr"),m.YNc(1,Re,4,0,"th",17),m.YNc(2,Ne,4,0,"th",17),m.YNc(3,Ie,4,0,"th",17),m.YNc(4,De,4,0,"th",17),m.TgZ(5,"th"),m.YNc(6,we,2,0,"ng-container",42),m.YNc(7,ke,1,0,"ng-template",null,43,m.W1O),m.TgZ(9,"span",11),m._uU(10,"*"),m.qZA(),m.qZA(),m.TgZ(11,"th"),m._uU(12,"Default value"),m.TgZ(13,"span",11),m._uU(14,"*"),m.qZA(),m.qZA(),m.TgZ(15,"th"),m._uU(16,"Encryption"),m.TgZ(17,"span",11),m._uU(18,"*"),m.qZA(),m.qZA(),m.TgZ(19,"th"),m._uU(20,"Action"),m.qZA(),m.qZA()),2&e){var n=m.MAs(8),o=m.oxw(3);m.xp6(1),m.Q6J("ngIf","MT"==o.showFetch||"MX"==o.showFetch),m.xp6(1),m.Q6J("ngIf","XML"==o.showFetch),m.xp6(1),m.Q6J("ngIf","JSON"==o.showFetch),m.xp6(1),m.Q6J("ngIf","DB Connection"==o.showFetch),m.xp6(2),m.Q6J("ngIf","TCP/IP"==o.showFetch)("ngIfElse",n)}}function Fe(e,t){if(1&e&&(m.TgZ(0,"ng-option",22),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.Q6J("value",n.messageKey),m.xp6(1),m.AsE(" ",n.messageKey," ",n.messagebasis," ")}}function Oe(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"ng-select",53),m.NdJ("change",function(e){m.CHM(n);var t=m.oxw().index;return m.oxw(3).onselectOfFieldNo(e,t)}),m.TgZ(2,"ng-option",13),m._uU(3,"Please select Field No"),m.qZA(),m.YNc(4,Fe,2,3,"ng-option",14),m.qZA(),m.BQk()}if(2&e){var o=m.oxw().index,a=m.oxw(3);m.xp6(1),m.MGl("id","fieldNo_",o,""),m.xp6(3),m.Q6J("ngForOf",a.fieldNoList)}}function Be(e,t){if(1&e&&(m.TgZ(0,"option",56),m._uU(1),m.qZA()),2&e){var n=t.$implicit,o=m.oxw(5);m.Q6J("hidden",o.shouldDisableTagOption(n))("value",n),m.xp6(1),m.hij(" ",n,"")}}function _e(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"select",54),m.NdJ("change",function(e){m.CHM(n);var t=m.oxw().index;return m.oxw(3).onselectingTag(e,t)}),m.TgZ(2,"option",13),m._uU(3,"--Please select--"),m.qZA(),m.YNc(4,Be,2,3,"option",55),m.qZA(),m.BQk()}if(2&e){var o=m.oxw().index,a=m.oxw(3);m.xp6(1),m.MGl("id","tag_",o,""),m.xp6(3),m.Q6J("ngForOf",a.messageBasisIso)}}function Me(e,t){if(1&e&&(m.ynx(0),m._UZ(1,"input",57),m.BQk()),2&e){var n=m.oxw().index;m.xp6(1),m.MGl("id","fieldNo_",n,"")}}function Ee(e,t){if(1&e&&(m.TgZ(0,"option",22),m._uU(1),m.qZA()),2&e){var n=t.$implicit;m.Q6J("value",n),m.xp6(1),m.hij(" ",n,"")}}function Je(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.TgZ(1,"select",54),m.NdJ("change",function(e){m.CHM(n);var t=m.oxw().index;return m.oxw(3).onselectingFieldName(e.target.value,t)}),m.TgZ(2,"option",13),m._uU(3,"--Please select--"),m.qZA(),m.YNc(4,Ee,2,2,"option",14),m.qZA(),m.BQk()}if(2&e){var o=m.oxw().index,a=m.oxw(3);m.xp6(1),m.MGl("id","db_",o,""),m.xp6(3),m.Q6J("ngForOf",a.mTMxResp)}}function Qe(e,t){if(1&e&&(m.ynx(0),m._UZ(1,"input",57),m.BQk()),2&e){var n=m.oxw().index;m.xp6(1),m.MGl("id","db_",n,"")}}function Ye(e,t){if(1&e&&(m.ynx(0),m._UZ(1,"input",58),m.BQk()),2&e){var n=m.oxw().index;m.xp6(1),m.MGl("id","dataType_",n,"")}}function Le(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"select",59),m.TgZ(2,"option",13),m._uU(3,"--Please select--"),m.qZA(),m.TgZ(4,"option",60),m._uU(5," Numeric "),m.qZA(),m.TgZ(6,"option",61),m._uU(7," Alpha Numeric "),m.qZA(),m.TgZ(8,"option",62),m._uU(9," Date "),m.qZA(),m.qZA(),m.BQk()),2&e){var n=m.oxw().index;m.xp6(1),m.MGl("id","dataType_",n,"")}}function Ve(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"select",59),m.TgZ(2,"option",13),m._uU(3,"--Please select--"),m.qZA(),m.TgZ(4,"option",60),m._uU(5," Numeric "),m.qZA(),m.TgZ(6,"option",61),m._uU(7," Alpha Numeric "),m.qZA(),m.TgZ(8,"option",62),m._uU(9," Date "),m.qZA(),m.qZA(),m.BQk()),2&e){var n=m.oxw().index;m.xp6(1),m.MGl("id","dataType_",n,"")}}function Pe(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"select",59),m.TgZ(2,"option",13),m._uU(3,"--Please select--"),m.qZA(),m.TgZ(4,"option",63),m._uU(5," VARCHAR2 "),m.qZA(),m.TgZ(6,"option",64),m._uU(7," NUMBER "),m.qZA(),m.TgZ(8,"option",65),m._uU(9," DATE "),m.qZA(),m.qZA(),m.BQk()),2&e){var n=m.oxw().index;m.xp6(1),m.MGl("id","dataType_",n,"")}}function He(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"a",66),m.NdJ("click",function(){m.CHM(n);var e=m.oxw().index;return m.oxw(3).removeTranslation(e)}),m._UZ(1,"img",67),m.qZA()}}function Xe(e,t){if(1&e&&(m.TgZ(0,"tr"),m.ynx(1,44),m.TgZ(2,"td"),m.YNc(3,Oe,5,2,"ng-container",17),m.YNc(4,_e,5,2,"ng-container",17),m.YNc(5,Me,2,1,"ng-container",17),m.YNc(6,Je,5,2,"ng-container",17),m.YNc(7,Qe,2,1,"ng-container",17),m.qZA(),m.TgZ(8,"td"),m.YNc(9,Ye,2,1,"ng-container",17),m.YNc(10,Le,10,1,"ng-container",17),m.YNc(11,Ve,10,1,"ng-container",17),m.YNc(12,Pe,10,1,"ng-container",17),m.qZA(),m.TgZ(13,"td"),m._UZ(14,"input",45),m.qZA(),m.TgZ(15,"td"),m.TgZ(16,"select",46),m.TgZ(17,"option",13),m._uU(18,"--Please select--"),m.qZA(),m.TgZ(19,"option",47),m._uU(20,"No Encryption"),m.qZA(),m.TgZ(21,"option",48),m._uU(22," BASE 64 "),m.qZA(),m.TgZ(23,"option",49),m._uU(24," SHA 256 "),m.qZA(),m.TgZ(25,"option",50),m._uU(26," SHA 512 "),m.qZA(),m.qZA(),m.qZA(),m.TgZ(27,"td",51),m.YNc(28,He,2,0,"a",52),m.qZA(),m.BQk(),m.qZA()),2&e){var n=t.$implicit,o=t.index,a=m.oxw(3);m.xp6(1),m.Q6J("formGroup",n),m.xp6(2),m.Q6J("ngIf","TCP/IP"==a.showFetch),m.xp6(1),m.Q6J("ngIf","XML"==a.showFetch&&"JSON"!==a.showFormat),m.xp6(1),m.Q6J("ngIf","JSON"==a.showFetch&&"JSON"===a.showFormat),m.xp6(1),m.Q6J("ngIf","MT"==a.showFetch||"MX"==a.showFetch),m.xp6(1),m.Q6J("ngIf","DB Connection"==a.showFetch),m.xp6(2),m.Q6J("ngIf","TCP/IP"==a.showFetch),m.xp6(1),m.Q6J("ngIf","JSON"==a.showFetch||"XML"==a.showFetch),m.xp6(1),m.Q6J("ngIf","MT"==a.showFetch||"MX"==a.showFetch),m.xp6(1),m.Q6J("ngIf","DB Connection"===a.showFetch),m.xp6(2),m.MGl("id","responseIndicator_",o,""),m.xp6(2),m.MGl("id","encryption_",o,""),m.xp6(12),m.Q6J("ngIf",a.submitFlag)}}function Ge(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"button",68),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).addTransaltionGroup("")}),m.TgZ(1,"span"),m._UZ(2,"img",69),m.qZA(),m.qZA()}}function je(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",19),m.TgZ(1,"button",70),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).editValues()}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(3);m.xp6(1),m.Q6J("hidden",o.hideEdit),m.xp6(1),m.Oqu(o.roleCodes.edit.labelDescription)}}function ze(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",19),m.TgZ(1,"button",71),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).auditChangeRuleTranslation("auth")}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(3);m.xp6(1),m.Q6J("hidden",!o.hideSubmit),m.xp6(1),m.Oqu(o.roleCodes.auth.labelDescription)}}function We(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",19),m.TgZ(1,"button",72),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).auditChangeRuleTranslation("close")}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(3);m.xp6(1),m.Q6J("hidden",!o.hideSubmit),m.xp6(1),m.Oqu(o.roleCodes.close.labelDescription)}}function Ke(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",19),m.TgZ(1,"button",72),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).auditChangeRuleTranslation("open")}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(3);m.xp6(1),m.Q6J("hidden",!o.hideSubmit),m.xp6(1),m.Oqu(o.roleCodes.reopen.labelDescription)}}function $e(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",19),m.TgZ(1,"button",72),m.NdJ("click",function(){return m.CHM(n),m.oxw(3).deleteRuleTranslation()}),m._uU(2),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(3);m.xp6(1),m.Q6J("hidden",!o.hideSubmit),m.xp6(1),m.Oqu(o.roleCodes.delete.labelDescription)}}function et(e,t){1&e&&(m.TgZ(0,"div",19),m.TgZ(1,"button",34),m._uU(2,"Exit"),m.qZA(),m.qZA()),2&e&&(m.xp6(1),m.Q6J("routerLink",m.DdM(1,Se)))}function tt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",7),m.TgZ(1,"fieldset",6),m.TgZ(2,"div",35),m.TgZ(3,"table",36),m.TgZ(4,"thead"),m.YNc(5,Ue,21,6,"tr",17),m.qZA(),m.TgZ(6,"tbody"),m.ynx(7,37),m.YNc(8,Xe,29,13,"tr",38),m.BQk(),m.TgZ(9,"tr"),m.TgZ(10,"td"),m.YNc(11,Ge,3,0,"button",39),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"div",40),m.YNc(13,je,3,2,"div",21),m.TgZ(14,"div",19),m.TgZ(15,"button",41),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).onSubmit()}),m._uU(16,"Save"),m.qZA(),m.qZA(),m.YNc(17,ze,3,2,"div",21),m.YNc(18,We,3,2,"div",21),m.YNc(19,Ke,3,2,"div",21),m.YNc(20,$e,3,2,"div",21),m.YNc(21,et,3,2,"div",21),m.qZA(),m.qZA()}if(2&e){var o=m.oxw(2);m.xp6(1),m.Q6J("disabled",!o.submitFlag),m.xp6(4),m.Q6J("ngIf",o.msgTransDetails.controls),m.xp6(3),m.Q6J("ngForOf",o.msgTransDetails.controls),m.xp6(3),m.Q6J("ngIf",o.submitFlag),m.xp6(2),m.Q6J("ngIf",!("C"==(null==o.translationResp?null:o.translationResp.recordStatus)||"CLOSED"==(null==o.translationResp?null:o.translationResp.recordStatus))&&o.roleCodes.edit),m.xp6(2),m.Q6J("hidden",o.hideSubmit)("disabled",!o.submitFlag||o.ruleTransForm.invalid),m.xp6(2),m.Q6J("ngIf",("U"==(null==o.translationResp?null:o.translationResp.approvedStatus)||"N"==(null==o.translationResp?null:o.translationResp.approvedStatus)||"UNAUTHORIZED"==(null==o.translationResp?null:o.translationResp.approvedStatus))&&o.roleCodes.auth),m.xp6(1),m.Q6J("ngIf",("O"==(null==o.translationResp?null:o.translationResp.recordStatus)||"OPEN"==(null==o.translationResp?null:o.translationResp.recordStatus))&&"NO"!=(null==o.translationResp?null:o.translationResp.approvedEver)&&"N"!=(null==o.translationResp?null:o.translationResp.approvedEver)&&o.roleCodes.close),m.xp6(1),m.Q6J("ngIf",("C"==(null==o.translationResp?null:o.translationResp.recordStatus)||"CLOSED"==(null==o.translationResp?null:o.translationResp.recordStatus))&&o.roleCodes.reopen),m.xp6(1),m.Q6J("ngIf",("NO"==(null==o.translationResp?null:o.translationResp.approvedEver)||"N"==(null==o.translationResp?null:o.translationResp.approvedEver))&&!o.showdelete&&o.roleCodes.delete),m.xp6(1),m.Q6J("ngIf",o.showRecords)}}function nt(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"form",5),m.TgZ(1,"fieldset",6),m.TgZ(2,"div",7),m.TgZ(3,"div",8),m.TgZ(4,"div",9),m.TgZ(5,"label",10),m._uU(6,"Source System "),m.TgZ(7,"span",11),m._uU(8,"*"),m.qZA(),m.qZA(),m.TgZ(9,"ng-select",12),m.NdJ("change",function(e){return m.CHM(n),m.oxw().onSlectionExternalSystem(e)}),m.TgZ(10,"ng-option",13),m._uU(11,"Please select System"),m.qZA(),m.YNc(12,ve,2,2,"ng-option",14),m.qZA(),m.qZA(),m.TgZ(13,"div",9),m.TgZ(14,"label",10),m._uU(15,"Message Type"),m.TgZ(16,"span",11),m._uU(17,"*"),m.qZA(),m.qZA(),m.YNc(18,ye,1,0,"div",15),m.YNc(19,Ae,2,1,"div",16),m.YNc(20,xe,2,1,"div",15),m.YNc(21,qe,8,0,"div",17),m.qZA(),m.YNc(22,be,6,0,"div",18),m.qZA(),m._UZ(23,"br"),m.TgZ(24,"div",8),m.TgZ(25,"div",19),m.TgZ(26,"a",20),m.NdJ("click",function(){return m.CHM(n),m.oxw().onFetch()}),m._uU(27,"Fetch"),m.qZA(),m.qZA(),m.YNc(28,Ce,3,2,"div",21),m.qZA(),m.qZA(),m.qZA(),m.YNc(29,tt,22,12,"div",4),m.qZA()}if(2&e){var o=m.oxw();m.Q6J("formGroup",o.ruleTransForm),m.xp6(1),m.Q6J("disabled",!o.submitFlag),m.xp6(11),m.Q6J("ngForOf",o.externalSystem),m.xp6(6),m.Q6J("ngIf",""==o.forCheck),m.xp6(1),m.Q6J("ngIf","I"===o.forCheck),m.xp6(1),m.Q6J("ngIf","O"===o.forCheck),m.xp6(1),m.Q6J("ngIf","A"===o.forCheck),m.xp6(1),m.Q6J("ngIf","XML"==o.showFetch&&"JSON"!==o.showFormat),m.xp6(6),m.Q6J("ngIf",!o.showRecords),m.xp6(1),m.Q6J("ngIf",o.showRecords)}}function ot(e,t){if(1&e&&(m.TgZ(0,"div",7),m.TgZ(1,"div",73),m.TgZ(2,"div",74),m.TgZ(3,"div",75),m.TgZ(4,"div",76),m.TgZ(5,"div",19),m.TgZ(6,"div",77),m._UZ(7,"i",78),m.qZA(),m.qZA(),m.TgZ(8,"div",79),m.TgZ(9,"div",80),m.TgZ(10,"h2"),m._uU(11,"Maker"),m.qZA(),m.TgZ(12,"p"),m._uU(13),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(14,"div",74),m.TgZ(15,"div",75),m.TgZ(16,"div",76),m.TgZ(17,"div",19),m.TgZ(18,"div",81),m._UZ(19,"img",82),m.qZA(),m.qZA(),m.TgZ(20,"div",79),m.TgZ(21,"div",80),m.TgZ(22,"h2"),m._uU(23,"Maker Time Stamp"),m.qZA(),m.TgZ(24,"p"),m._uU(25),m.ALo(26,"date"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(27,"div",74),m.TgZ(28,"div",75),m.TgZ(29,"div",76),m.TgZ(30,"div",19),m.TgZ(31,"div",83),m._UZ(32,"img",84),m.qZA(),m.qZA(),m.TgZ(33,"div",79),m.TgZ(34,"div",80),m.TgZ(35,"h2"),m._uU(36,"Record Status"),m.qZA(),m.TgZ(37,"p"),m._uU(38),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(39,"div",74),m.TgZ(40,"div",75),m.TgZ(41,"div",76),m.TgZ(42,"div",19),m.TgZ(43,"div",85),m._UZ(44,"i",86),m.qZA(),m.qZA(),m.TgZ(45,"div",79),m.TgZ(46,"div",80),m.TgZ(47,"h2"),m._uU(48,"Checker"),m.qZA(),m.TgZ(49,"p"),m._uU(50),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(51,"div",74),m.TgZ(52,"div",75),m.TgZ(53,"div",76),m.TgZ(54,"div",19),m.TgZ(55,"div",87),m._UZ(56,"img",88),m.qZA(),m.qZA(),m.TgZ(57,"div",79),m.TgZ(58,"div",80),m.TgZ(59,"h2"),m._uU(60,"Checker Time Stamp"),m.qZA(),m.TgZ(61,"p"),m._uU(62),m.ALo(63,"date"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(64,"div",74),m.TgZ(65,"div",75),m.TgZ(66,"div",76),m.TgZ(67,"div",19),m.TgZ(68,"div",89),m._UZ(69,"img",90),m.qZA(),m.qZA(),m.TgZ(70,"div",79),m.TgZ(71,"div",80),m.TgZ(72,"h2"),m._uU(73,"First Time Authorization"),m.qZA(),m.TgZ(74,"p"),m._uU(75),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(76,"div",74),m.TgZ(77,"div",75),m.TgZ(78,"div",76),m.TgZ(79,"div",19),m.TgZ(80,"div",91),m._UZ(81,"img",92),m.qZA(),m.qZA(),m.TgZ(82,"div",79),m.TgZ(83,"div",80),m.TgZ(84,"h2"),m._uU(85,"Authorization Status"),m.qZA(),m.TgZ(86,"p"),m._uU(87),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(88,"div",74),m.TgZ(89,"div",75),m.TgZ(90,"div",76),m.TgZ(91,"div",19),m.TgZ(92,"div",91),m._UZ(93,"img",93),m.qZA(),m.qZA(),m.TgZ(94,"div",79),m.TgZ(95,"div",80),m.TgZ(96,"h2"),m._uU(97,"Modification Number"),m.qZA(),m.TgZ(98,"p"),m._uU(99),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(13),m.Oqu(null==n.translationResp?null:n.translationResp.creatorId),m.xp6(12),m.Oqu(m.xi3(26,8,null==n.translationResp?null:n.translationResp.createdTime,"MM/dd/yyyy, h:mm a")),m.xp6(13),m.Oqu(null==n.translationResp?null:n.translationResp.recordStatus),m.xp6(12),m.Oqu(null==n.translationResp?null:n.translationResp.approverId),m.xp6(12),m.Oqu(m.xi3(63,11,null==n.translationResp?null:n.translationResp.approvedTime,"MM/dd/yyyy, h:mm a")),m.xp6(13),m.Oqu(null==n.translationResp?null:n.translationResp.approvedEver),m.xp6(12),m.Oqu(null==n.translationResp?null:n.translationResp.approvedStatus),m.xp6(12),m.Oqu(null==n.translationResp?null:n.translationResp.versionNo)}}var at=function(){var e=function(){function e(t,o,a,s,i,r,l,c){n(this,e),this.rules=t,this.addSystem=o,this.formBuilder=a,this.cdr=s,this.roleService=i,this.router=r,this.canDeactivateGuard=l,this.datePipe=c,this.submitFlag=!0,this.isSelected=!0,this.hideSubmit=!1,this.hideEdit=!0,this.formTouched=!0,this.msgTranslation=new st,this.recordSaved=!1,this.disableSubmit=!1,this.disableReset=!1,this.desSystem=[],this.isoRespData=[],this.tempArrayList=[],this.fieldNoList=[],this.dbConnectionList=[],this.roleCodes=new g.yv,this.showDialog=!1,this.subject=new d.xQ,this.columnNameDD=[],this.messageBasisData=[],this.mdmtSystemChannel=[],this.multipleOperation=!0,this.multipleService=!0,this.mTMxResp=[]}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.currentUser=localStorage.getItem("userFromLogin"),this.ruleTransForm=this.formBuilder.group({transId:this.transId,systemCode:["",u.kI.required],messageType:["",u.kI.required],serviceName:["Conversion"],operationName:["Conversion"],msgTransDetails:this.formBuilder.array([])}),this.roleService.fetchScreenPermissions("Rule translation"),this.roleService.screenLabelList.subscribe(function(t){return e.roleCodes=t}),setTimeout(function(){console.log(e.roleCodes)},100),this.addTransaltionGroup({}),this.gettingExternalsystem(),this.fetchingHeadertag(),this.forCheck=""}},{key:"getTranslationItem",value:function(e){return console.log(e),this.formBuilder.group({messagebasis:[e.messagebasis?e.messagebasis:""],headerTag:[e.headerTag?e.headerTag:""],defaultValue:[e.defaultValue?e.defaultValue:""],systemChannelId:[e.systemChannelId?e.systemChannelId:""],encryption:[e.encryption?e.encryption:"No Encryption"],id:[e.id?e.id:""],dataType:[e.dataType?e.dataType:""],messageKey:[e.messageKey?e.messageKey:""]})}},{key:"msgTransDetails",get:function(){return this.ruleTransForm.get("msgTransDetails")}},{key:"addTransaltionGroup",value:function(e){this.msgTransDetails.push(this.getTranslationItem(e))}},{key:"removeTranslation",value:function(e){var t=this;h().fire({title:"are you sure, want to remove the record?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then(function(n){n.isConfirmed&&(t.tempArrayList[e]&&t.tempArrayList.splice(e,1),t.desSystem[e]&&t.desSystem.splice(e,1),t.msgTransDetails.removeAt(e),console.log(t.tempArrayList),h().fire("Removed!","","success"))})}},{key:"canExit",value:function(){var e=this,t=!1;return this.ruleTransForm.touched&&1==this.formTouched?h().fire({text:"There are unsaved changes in the screen. Would you like to navigate to other screen?",showCancelButton:!0,confirmButtonColor:"#E6224A",cancelButtonColor:"#011945",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(function(n){return!0===n.isConfirmed?(t=!0,e.cdr.markForCheck(),t):(t=!1,e.cdr.markForCheck(),t)}):(t=!0,new Promise(function(n,o){!0===t&&(t=!0,e.cdr.markForCheck(),n(!0))}))}},{key:"auditLog",value:function(){"U"===this.translationResp.approvedStatus&&(this.translationResp.approvedStatus="UNAUTHORIZED"),"A"===this.translationResp.approvedStatus&&(this.translationResp.approvedStatus="AUTHORIZED"),"O"===this.translationResp.recordStatus&&(this.translationResp.recordStatus="OPEN"),"C"===this.translationResp.recordStatus&&(this.translationResp.recordStatus="CLOSED"),"N"===this.translationResp.approvedEver&&(this.translationResp.approvedEver="NO"),"Y"===this.translationResp.approvedEver&&(this.translationResp.approvedEver="YES")}},{key:"gettingExternalsystem",value:function(){var e=this;this.rules.gettingExternalsystem().subscribe(function(t){console.log(t),t&&(e.externalSystem=t.sort(),e.sourcesysData=e.externalSystem)},function(e){console.log("err",e)})}},{key:"onSlectionExternalSystem",value:function(e){var t=this;this.msgTransDetails.clear(),this.addTransaltionGroup({}),this.ruleTransForm.get("operationName").patchValue(""),this.ruleTransForm.get("serviceName").patchValue(""),console.log(e),this.tempArrayList=[],this.sourcesystem=e,this.rules.getAddSystem(this.sourcesystem).subscribe(function(e){console.log("PAtch REsp",e),e&&(t.forCheck=e.messsageType,"I"===t.forCheck?t.messageArr="Incoming":"O"===t.forCheck&&(t.messageArr="Outgoing"),t.ruleTransForm.patchValue(e),t.msgTranslation.messageType=e.messsageType,t.msgTranslation.operationName=e.operationName,t.msgTranslation.serviceName=e.serviceName,"A"==e.messsageType&&(t.msgTranslation.messageType="I",t.ruleTransForm.get("messageType").patchValue(t.msgTranslation.messageType)),t.ruleTransForm.get("messageType").patchValue(t.msgTranslation.messageType),t.cdr.markForCheck(),console.log(t.msgTranslation),t.gettingoperationAndService(t.sourcesystem,t.msgTranslation.messageType))})}},{key:"onSelectionOFMessageType",value:function(e){this.msgType=e.target.value,console.log(this.msgType,this.sourcesystem),this.sourcesystem&&this.msgType?this.gettingoperationAndService(this.sourcesystem,this.msgType):console.log("enter both msg and ext")}},{key:"gettingoperationAndService",value:function(e,t){var n=this;this.rules.gettingoperationAndService(e,t,this.currentUser).subscribe(function(e){console.log("translationResp - ",e),n.messageBasisData=e.MdmtSystemService,n.mdmtSystemChannel=e.MdmtSystemChannel,Object.keys(e),console.log(n.messageBasisData);for(var o=0;o<e.MdmtSystemChannel.length;o++)e.MdmtSystemChannel[o].messageType===t&&(n.showFetch=e.MdmtSystemChannel[o].messageChannel,n.showFormat=e.MdmtSystemChannel[o].messageFormat);"Https/Http"==n.showFetch?n.showFetch=e.MdmtSystemChannel[0].messageFormat:"TCP/IP"==n.showFetch?n.fetchingIso():"DB Connection"==n.showFetch?(n.addSystem.coulmnNameBasedonTableName(e.MdmtSystemChannel[0].dbConnectString,e.MdmtSystemChannel[0].dbServiceName,e.MdmtSystemChannel[0].dbUsername,e.MdmtSystemChannel[0].dbPassword,e.MdmtSystemChannel[0].sysService[0].messageKey.split(",",1)).subscribe(function(e){e.forEach(function(e){n.columnNameDD.push(e[1])})}),console.log(n.columnNameDD),"I"===t?console.log(e.MdmtSystemChannel[0].messageType):"O"===t&&console.log(e)):"MT"==n.showFetch?n.addSystem.getMtApi().subscribe(function(e){console.log("mt resp",e),n.mTMxResp=e}):"MX"==n.showFetch&&n.addSystem.getMxApi().subscribe(function(e){console.log("mx resp",e),n.mTMxResp=e})},function(e){})}},{key:"onSubmit",value:function(){var e=this;this.ruleTransForm.value.operationName="Conversion",this.ruleTransForm.value.serviceName="Conversion",this.ruleTransForm.get("transId").value?this.rules.editruleTranslation("update",this.currentUser,this.ruleTransForm.value).subscribe(function(t){console.log(t),e.translationResp=t,e.ruleTransForm.patchValue(t),e.auditLog(),t&&(e.recordSaved=!0,h().fire({text:"Record is updated!",icon:"success"}),e.ruleTransForm.disable(),e.msgTransDetails.disable(),e.formTouched=!e.ruleTransForm.touched,e.hideSubmit=!0,e.hideEdit=!1,e.showAuditLog=!0,e.submitFlag=!1,e.disableSubmit=!0,e.disableReset=!0)}):this.rules.submittingruleTranslation(this.currentUser,this.ruleTransForm.value).subscribe(function(t){console.log(t),e.translationResp=t,e.ruleTransForm.patchValue(t),e.auditLog(),t&&(e.recordSaved=!0,h().fire({text:"Record is Created",icon:"success"}),e.ruleTransForm.disable(),e.msgTransDetails.disable(),e.formTouched=!e.ruleTransForm.touched,e.hideSubmit=!0,e.hideEdit=!1,e.showAuditLog=!0,e.submitFlag=!1,e.disableSubmit=!0,e.disableReset=!0)},function(t){e.disableSubmit=!0,console.log("error: : ",t.error),h().fire({text:"Rule Translation already exist kindly recheck the data.",icon:"error"})})}},{key:"onFetch",value:function(){if(this.showRecords=!0,console.log(this.showFetch),"DB Connection"==this.showFetch){this.dbConnectionList=this.messageBasisData,console.log(this.dbConnectionList);for(var e=0;e<this.dbConnectionList.length;e++)this.tempArrayList[e]=this.dbConnectionList[e];console.log("this.tempArrayList ",this.tempArrayList)}if("E-ISO"==this.sourcesystem){for(var t=0;t<this.msgTransDetails.controls.length;t++)this.tempArrayList[t]=this.msgTransDetails.at(t).get("messageKey").value;console.log(this.tempArrayList)}console.log("translationDeatils",this.msgTransDetails.value)}},{key:"onReset",value:function(){this.ruleTransForm.reset(),this.msgTransDetails.clear(),this.showRecords=!1,this.disableSubmit=!1}},{key:"selectFileFORHTTPXMLIncoming",value:function(e){var t=this;this.selectedFiles=e.target.files,this.fileName=this.selectedFiles[0].name,this.fileUploadWrapper.nativeElement.setAttribute("data-text",this.fileName),this.currentFileUpload=this.selectedFiles.item(0),console.log(e.target.files),this.addSystem.gettingBodyOfXml(this.currentFileUpload).subscribe(function(e){console.log("XML",e),t.msgTransDetails.controls.length=0,t.uploadXmlResp=e,e&&(t.messageBasisIso=e.nodeTagList,t.showRecords=!0,t.addTransaltionGroup({}))})}},{key:"fetchingHeadertag",value:function(){var e=this;this.addSystem.fetchingHeaderTag().subscribe(function(t){console.log("res",t),e.headerTagData=t})}},{key:"onselectOfFieldNo",value:function(e,t){console.log(e),console.log(this.tempArrayList[t]),this.tempArrayList[t]?this.tempArrayList[t]=e:this.tempArrayList.push(e)}},{key:"auditChangeRuleTranslation",value:function(e){var t=this,n="",o="";switch(e){case"open":n="opened",o="open";break;case"close":n="closed",o="close";break;case"auth":n="authorized",o="authorize"}h().fire({text:"You are trying to ".concat(o," record.  Do you want to proceed?"),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(function(a){!0===a.isConfirmed&&(t.currentUser==t.translationResp.creatorId?h().fire("Maker cannot ".concat(o,"!")):t.addSystem.editruleTranslation(e,t.currentUser,t.translationResp).subscribe(function(e){console.log(e),e&&(h().fire("Record is ".concat(n)),t.translationResp=e)}))})}},{key:"editValues",value:function(){this.hideSubmit=!1,this.hideEdit=!0,this.submitFlag=!0,this.showAuditLog=!1,this.ruleTransForm.enable(),this.msgTransDetails.enable()}},{key:"deleteRuleTranslation",value:function(){var e=this;h().fire({text:"You are trying to Delete record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){if(console.log("this is reopen ",t),!0===t.isConfirmed){var n=e.translationResp;console.log(e.translationResp),e.addSystem.deleteRuleTranslation(e.currentUser,n.transId).subscribe(function(e){},function(t){200==t.status&&(e.showdelete=!0,h().fire({title:"Record is Deleted!",confirmButtonText:"Ok"}).then(function(t){t&&e.router.navigateByUrl("/rule-translation/summary")}))})}})}},{key:"onselectingTag",value:function(e,t){var n=this;console.log(this.uploadXmlResp);var o=Object.keys(this.uploadXmlResp.nodeValueMap).map(function(e){return[e,n.uploadXmlResp.nodeValueMap[e]]});console.log("result",o);var a=o.find(function(t){return t[0]==e.target.value});console.log(a),this.msgTransDetails.at(t).get("defaultValue").patchValue(a[1]),this.desSystem.push(e.target.value)}},{key:"onselectingColumnName",value:function(e,t){var n=this;console.log(this.columnNameDD);var o=Object.keys(this.columnNameDD.nodeValueMap).map(function(e){return[e,n.columnNameDD.nodeValueMap[e]]});console.log("result",o);var a=o.find(function(t){return t[0]==e.target.value});console.log(a),this.msgTransDetails.at(t).get("defaultValue").patchValue(a[1]),this.desSystem.push(e.target.value)}},{key:"fetchingIso",value:function(){var e=this;this.msgTransDetails.controls=[],this.addSystem.fetchingIsoForTcp().subscribe(function(t){console.log("isoResp",t),e.isoRespData=t;for(var n=0;n<t.length;n++){e.addTransaltionGroup({});var o={messageKey:t[n].fieldNo,messagebasis:t[n].fieldName,dataType:t[n].dataType,defaultValue:null};e.msgTransDetails.at(n).patchValue(o),e.fieldNoList[n]=o}console.log("arrayObj 3",e.msgTransDetails.value),e.messageKeyIso=t.map(function(e){return e.messageKey}),e.messageBasisIso=t.map(function(e){return e.messageBasis})})}},{key:"onsearchingTablName",value:function(e){if(console.log(e.target.value),console.log("this is arr",this.sourcesysData),this.sourcesysData){var t=this.sourcesysData.filter(function(t){var n=t.toLowerCase(),o=e.target.value.toLowerCase();return console.log(n,o),n.search(o)>-1});console.log(t),this.externalSystem=t}}},{key:"chooseFile",value:function(){console.log("heyy file"),document.getElementById("chFile").click()}},{key:"fetchingXMl",value:function(){var e=this;this.addSystem.gettinXMLmsgIncoming().subscribe(function(t){console.log(t),e.xmlRespData=t})}},{key:"try",value:function(e){return!!this.tempArrayList.find(function(t){return t==e})}},{key:"check",value:function(e,t){console.log("ev",e.value),this.desSystem.push(e.value)}},{key:"shouldDisableTagOption",value:function(e){return this.desSystem.includes(e)}},{key:"onselectingFieldName",value:function(e,t){if(this.msgTransDetails.at(t).get("defaultValue").patchValue(""),"MIRDate"===e||"ReceiverOutputDate"===e||"CreDt"===e){var n=this.datePipe.transform(new Date,"yyyy-MM-dd");this.msgTransDetails.at(t).get("defaultValue").patchValue(n)}if("ReceiverOutputTime"===e||"SenderInputTime"===e){var o=new Date;this.msgTransDetails.at(t).get("defaultValue").patchValue(o.getHours()+":"+o.getMinutes())}"MessagePriority"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("N"),"MessageType"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("103"),"blockType"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("O"),"MsgDefIdr"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue("pacs.008.001.07"),"PssblDplct"===e&&this.msgTransDetails.at(t).get("defaultValue").patchValue(!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(f.Q),m.Y36(Z.Z),m.Y36(u.qu),m.Y36(m.sBO),m.Y36(T.N),m.Y36(r.F0),m.Y36(l.I),m.Y36(i.uU))},e.\u0275cmp=m.Xpm({type:e,selectors:[["npr-rule-translation"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(Ze,5),2&e)&&(m.iGM(n=m.CRH())&&(t.fileUploadWrapper=n.first))},features:[m._Bn([i.uU])],decls:7,vars:2,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],["class","formStyle",3,"formGroup",4,"ngIf"],["class","dbCardStyle",4,"ngIf"],[1,"formStyle",3,"formGroup"],[3,"disabled"],[1,"dbCardStyle"],[1,"row","gy-4","align-items-end"],[1,"col-lg-2"],["for","roleName",1,"formLbl"],[1,"colorRed"],["id","outlineNgSelect","id","sysCode","formControlName","systemCode","aria-label","Default select example","required","",1,"form-select",3,"change"],["hidden","","value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","form-select",4,"ngIf"],["class","message_class",4,"ngIf"],[4,"ngIf"],["class","col-lg-4",3,"click",4,"ngIf"],[1,"col-auto"],[1,"btn","minWdSmBtn","btnPrimary",3,"click"],["class","col-auto",4,"ngIf"],[3,"value"],[1,"form-select"],[1,"message_class"],["id","msgType","formControlName","messageType","aria-label","Default select example",1,"form-select",3,"change"],["value","I"],["value","O"],[1,"col-lg-4",3,"click"],[1,"fileUpload"],[1,"formS"],["data-text","File Upload",1,"file-upload-wrapper"],["fileWrapper",""],["id","chFile","name","file-upload-field","type","file",1,"file-upload-field",3,"change"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[1,"table-responsive"],["id","dbTable1",1,"table","tableStyle","responsive","nowrap","vAlignMdl"],["formArrayName","msgTransDetails"],[4,"ngFor","ngForOf"],["class","addIcon primarybg",3,"click",4,"ngIf"],[1,"row","g-3","pb-3","justify-content-end","pt-3"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"hidden","disabled","click"],[4,"ngIf","ngIfElse"],["showType",""],[3,"formGroup"],["formControlName","defaultValue","type","text","value","",1,"form-control",3,"id"],["formControlName","encryption","aria-label","Default select example",1,"form-select",3,"id"],["value","No Encryption"],["value","BASE64"],["value","SHA256"],["value","SHA512"],[1,"tblIcon"],["class","deleteIcon2",3,"click",4,"ngIf"],["id","outlineNgSelect","formControlName","messageKey","aria-label","Default select example","required","",1,"form-select",3,"id","change"],["formControlName","messagebasis","aria-label","Default select example",1,"form-select",3,"id","change"],[3,"hidden","value",4,"ngFor","ngForOf"],[3,"hidden","value"],["formControlName","messagebasis","aria-label","Default select example","required","",1,"form-control",3,"id"],["type","text","formControlName","dataType","value","",1,"form-control",3,"id"],["formControlName","dataType","aria-label","Default select example",1,"form-select",3,"id"],["value","numeric"],["value","alphaNumeric"],["value","date"],["value","VARCHAR2"],["value","NUMBER"],["value","DATE"],[1,"deleteIcon2",3,"click"],["src","assets/images/delete-icon.svg","alt","..."],[1,"addIcon","primarybg",3,"click"],["src","assets/images/plus-icon.svg","alt","..."],[1,"btn","smBtn","minWdSmBtn","btnUpdate",3,"hidden","click"],[1,"btn","smBtn","minWdSmBtn","btnAuth",3,"hidden","click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"hidden","click"],[1,"row"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"csCardStyle"],[1,"row","g-2","align-items-center"],[1,"csCardStyleIcon","csCardStyleIconBg1"],[1,"fa","fa-edit","faClass"],[1,"col"],[1,"csCardStyleText"],[1,"csCardStyleIcon","csCardStyleIconBg2"],["src","assets/images/time-stamp-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg3"],["src","assets/images/record-status-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg4"],[1,"fa","fa-check-square-o","faClassChecker"],[1,"csCardStyleIcon","csCardStyleIconBg5"],["src","assets/images/checker-time-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg6"],["src","assets/images/first-auth-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg7"],["src","assets/images/authorize.svg","alt","...",1,"modImage"],["src","assets/images/modification.svg","alt","...",1,"modImage"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"h2",2),m._uU(3,"Rule Translation"),m.qZA(),m.qZA(),m.YNc(4,nt,30,10,"form",3),m._UZ(5,"br"),m.YNc(6,ot,100,14,"div",4),m.qZA()),2&e&&(m.xp6(4),m.Q6J("ngIf",t.ruleTransForm),m.xp6(2),m.Q6J("ngIf",t.showAuditLog))},directives:[i.O5,u._Y,u.JL,u.sg,y.w9,u.JJ,u.u,u.Q7,y.jq,i.sg,u.EJ,u.YN,u.Kr,r.rH,u.CE,u.Fj],pipes:[i.uU],styles:[".message_class[_ngcontent-%COMP%]{border:1px solid #efefef;height:45px;font-size:13px;color:#000;padding-left:15px;padding-top:7%;border-radius:5%;background-color:#f8f9fa}"]}),e}(),st=a(function e(){n(this,e)}),it=[{path:"create",component:at,canDeactivate:[l.I]},{path:"edit/:id",component:ee,canDeactivate:[l.I]},{path:"summary",component:Te}],rt=function(){var e=a(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[r.Bz.forChild(it)],r.Bz]}),e}(),lt=function(){var e=a(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[i.ez,rt,u.u5,u.UX,se.T,y.A0]]}),e}()}}])}();