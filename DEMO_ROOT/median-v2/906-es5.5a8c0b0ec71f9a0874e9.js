!function(){"use strict";function t(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,i)}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkmedian=self.webpackChunkmedian||[]).push([[906],{17988:function(t,e,i){i.d(e,{G:function(){return o},T:function(){return a}});var r=i(37716),o=function(){function t(t,e,i){this.el=t,this.vcr=e,this.renderer=i,this.dtOptions={}}return t.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe(function(e){t.displayTable(e)}):this.displayTable(null)},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(t){var e=this;t&&(this.dtOptions=t),this.dtInstance=new Promise(function(t,i){Promise.resolve(e.dtOptions).then(function(r){0===Object.keys(r).length&&0===$("tbody tr",e.el.nativeElement).length?i("Both the table and dtOptions cannot be empty"):setTimeout(function(){var i={rowCallback:function(t,i,o){if(r.columns){var n=r.columns;e.applyNgPipeTransform(t,n),e.applyNgRefTemplate(t,n,i)}r.rowCallback&&r.rowCallback(t,i,o)}};i=Object.assign({},r,i),e.dt=$(e.el.nativeElement).DataTable(i),t(e.dt)})})})},t.prototype.applyNgPipeTransform=function(t,e){e.filter(function(t){return t.ngPipeInstance&&!t.ngTemplateRef}).forEach(function(i){var r=i.ngPipeInstance,o=e.findIndex(function(t){return t.data===i.data}),n=t.childNodes.item(o),a=$(n).text(),s=r.transform(a);$(n).text(s)})},t.prototype.applyNgRefTemplate=function(t,e,i){var r=this;e.filter(function(t){return t.ngTemplateRef&&!t.ngPipeInstance}).forEach(function(o){var n=o.ngTemplateRef,a=n.ref,s=n.context,u=e.findIndex(function(t){return t.data===o.data}),c=t.childNodes.item(u);$(c).html("");var d=Object.assign({},s,null==s?void 0:s.userData,{adtData:i}),l=r.vcr.createEmbeddedView(a,d);r.renderer.appendChild(c,l.rootNodes[0])})},t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),n=i(38583),a=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez]]}),t}()},31443:function(t,e,r){r.d(e,{k:function(){return u}});var n,a=r(37716),s=r(80463),u=((n=function(){function t(e){i(this,t),this.iziToast=e}return o(t,[{key:"successMessage",value:function(t,e){this.iziToast.success({title:t,message:e,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}},{key:"errorMessage",value:function(t,e){this.iziToast.error({title:t,message:e,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}},{key:"infoMessage",value:function(t,e){this.iziToast.info({title:t,message:e,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}}]),t}()).\u0275fac=function(t){return new(t||n)(a.LFG(s.I))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n)},7906:function(e,r,n){n.r(r),n.d(r,{SecurityPolicyModule:function(){return R}});var a=n(38583),s=n(39895),u=n(50215),c=n(64762),d=n(79765),l=n(35383),g=n(17988),h=n(88259),p=n.n(h),m=n(37716),f=n(10402),y=n(77382),Z=n(98613);function v(t,e){if(1&t&&(m.TgZ(0,"td"),m._uU(1),m.qZA()),2&t){var i=m.oxw(2).$implicit;m.xp6(1),m.hij(" ",i.version," ")}}function T(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"button",16),m.NdJ("click",function(){m.CHM(i);var t=m.oxw(2).$implicit;return m.oxw().close(t)}),m._UZ(1,"img",17),m.qZA()}}function A(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"button",18),m.NdJ("click",function(){m.CHM(i);var t=m.oxw(2).$implicit;return m.oxw().reopen(t)}),m._UZ(1,"img",19),m.qZA()}}function x(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"tr"),m.TgZ(1,"td"),m.TgZ(2,"a",11),m.NdJ("click",function(){return m.CHM(i),m.oxw(2).getResp()}),m._uU(3),m.qZA(),m.qZA(),m.YNc(4,v,2,1,"td",10),m.TgZ(5,"td"),m._uU(6),m.qZA(),m.TgZ(7,"td"),m._uU(8),m.qZA(),m.TgZ(9,"td"),m._uU(10),m.qZA(),m.TgZ(11,"td"),m._uU(12),m.ALo(13,"date"),m.qZA(),m.TgZ(14,"td"),m.TgZ(15,"button",12),m.NdJ("click",function(){m.CHM(i);var t=m.oxw().$implicit;return m.oxw().auth(t)}),m._UZ(16,"img",13),m.qZA(),m.YNc(17,T,2,0,"button",14),m.YNc(18,A,2,0,"button",15),m.qZA(),m.qZA()}if(2&t){var r=m.oxw().$implicit,o=m.oxw();m.xp6(3),m.Oqu(r.version),m.xp6(1),m.Q6J("ngIf",r.version!=o.maxVersion),m.xp6(2),m.Oqu(r.createdBy),m.xp6(2),m.Oqu(r.authStatus),m.xp6(2),m.Oqu(r.recordStatus),m.xp6(2),m.Oqu(m.xi3(13,9,r.createdDate,"medium")),m.xp6(3),m.Q6J("disabled",!("U"==r.authStatus||"Unauthorized"==r.authStatus)),m.xp6(2),m.Q6J("ngIf","OPEN"==r.recordStatus||"Open"==r.recordStatus),m.xp6(1),m.Q6J("ngIf","CLOSED"==r.recordStatus||"Close"==r.recordStatus)}}function C(t,e){if(1&t&&(m.TgZ(0,"tbody"),m.YNc(1,x,19,12,"tr",10),m.qZA()),2&t){var i=e.$implicit,r=m.oxw();m.xp6(1),m.Q6J("ngIf",i.version===r.maxVersion)}}function w(t,e){1&t&&(m.ynx(0),m.TgZ(1,"div",20),m.TgZ(2,"span",21),m._uU(3,"Please wait... "),m._UZ(4,"span",22),m.qZA(),m.qZA(),m.BQk())}var S,q=function(){return["/dashboard"]},b=((S=function(){function e(t,r,o,n,a){i(this,e),this.apiService=t,this.roleService=r,this.router=o,this.cdr=n,this.userApi=a,this.respArray=[],this.dtOptions={},this.dtTrigger=new d.xQ,this.isLoading=!1,this.roleCodes=new l.yv,this.dataTableConfig={sortBy:"version",pageNo:1,pageSize:5},this.statusArr=["Authorized","Unauthorized","Open","Close"]}return o(e,[{key:"ngOnInit",value:function(){var t=this;this.currentUser=localStorage.getItem("userFromLogin"),this.dtOptions={pagingType:"full_numbers",pageLength:5,columnDefs:[{type:"date",targets:[4]}],order:[[4,"desc"]],processing:!0,lengthMenu:[[5,10,20,30,-1],[5,10,20,30,"ALL"]]},this.getDataForMonitor(),this.roleService.fetchScreenPermissions("Security Policy"),this.roleService.screenLabelList.subscribe(function(e){return t.roleCodes=e}),console.log(this.roleCodes)}},{key:"getDataForMonitor",value:function(){var e=this;this.isLoading=!0,this.respArray=[],this.apiService.getAllSecurityPolicy(this.dataTableConfig.pageNo,this.dataTableConfig.pageSize,this.dataTableConfig.sortBy).subscribe(function(i){return(0,c.mG)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r,o,n,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t(i.result);try{for(n=function(){var t=o.value;t.authStatus=a.statusArr.find(function(e){return e.startsWith(t.authStatus)}),t.recordStatus=a.statusArr.find(function(e){return e.startsWith(t.recordStatus)})},r.s();!(o=r.n()).done;)n()}catch(s){r.e(s)}finally{r.f()}this.maxVersion=Math.max.apply(Math,i.result.map(function(t){return t.version})),this.respArray=i.result,this.isLoading=!1,this.cdr.markForCheck(),this.dtTrigger.next();case 3:case"end":return e.stop()}},e,this)}))})}},{key:"ngOnDestroy",value:function(){this.dtTrigger.unsubscribe()}},{key:"new",value:function(){this.router.navigateByUrl("/security-policy")}},{key:"getResp",value:function(){var t=this;localStorage.removeItem("securityPolicyData"),this.router.navigateByUrl("/security-policy");var e=this.respArray.find(function(e){return e.version==t.maxVersion});console.log(this.respArray.find(function(e){return e.version==t.maxVersion})),this.apiService.setSecurityPolicy({authStatus:e.authStatus,authorizedBy:e.authorizedBy,authorizedTime:e.authorizedTime,createdBy:e.createdBy,createdDate:e.createdDate,isActive:e.isActive,maxInvLogins:e.maxInvLogins,maxPswdLength:e.maxPswdLength,minPswdLength:e.minPswdLength,modifiedBy:e.modifiedBy,modifiedTime:e.modifiedTime,firstTimeAuth:e.firstTimeAuth,notifyPasswordExpiryInDays:e.notifyPasswordExpiryInDays,pswdComplexLcase:e.pswdComplexLcase,pswdComplexNum:e.pswdComplexNum,pswdComplexSplc:e.pswdComplexSplc,pswdComplexUcase:e.pswdComplexUcase,pswdExpiry:e.pswdExpiry,pswdReuseAft:e.pswdReuseAft,recordStatus:e.recordStatus,version:e.version,passwordGenerationType:e.passwordGenerationType}),localStorage.setItem("securityPolicyData",JSON.stringify(e))}},{key:"gotoSummary",value:function(){var t=this;this.router.navigateByUrl("/security-policy");var e=this.respArray.find(function(e){return e.version==t.maxVersion});console.log(this.respArray.find(function(e){return e.version==t.maxVersion})),this.apiService.setSecurityPolicy({activeEdit:!0,authStatus:e.authStatus,authorizedBy:e.authorizedBy,authorizedTime:e.authorizedTime,createdBy:e.createdBy,createdDate:e.createdDate,isActive:e.isActive,maxInvLogins:e.maxInvLogins,maxPswdLength:e.maxPswdLength,minPswdLength:e.minPswdLength,modifiedBy:e.modifiedBy,modifiedTime:e.modifiedTime,firstTimeAuth:e.firstTimeAuth,notifyPasswordExpiryInDays:e.notifyPasswordExpiryInDays,pswdComplexLcase:e.pswdComplexLcase,pswdComplexNum:e.pswdComplexNum,pswdComplexSplc:e.pswdComplexSplc,pswdComplexUcase:e.pswdComplexUcase,pswdExpiry:e.pswdExpiry,pswdReuseAft:e.pswdReuseAft,recordStatus:e.recordStatus,version:e.version,passwordGenerationType:e.passwordGenerationType})}},{key:"auth",value:function(t){var e=this;p().fire({text:"You are trying to Authorize record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(i){if(console.log("this is reopen ",i),!0===i.isConfirmed){if(t.createdBy===localStorage.getItem("userFromLogin"))return void p().fire({text:"Maker Cannot Authorize Record!",icon:"error"});console.log("this is authorzation"),t.loggedInUser=e.currentUser,e.apiService.authSecurity("authorize",t).subscribe(function(t){console.log(t),e.securityData=t,e.auditlog(),t&&p().fire({text:"Record is Authorized",icon:"success"}).then(function(){return window.location.reload()})})}})}},{key:"close",value:function(t){var e=this;p().fire({text:"You are trying to Close record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(i){console.log("this is reopen ",i),!0===i.isConfirmed&&(console.log("this is close"),e.apiService.authSecurity("close",t).subscribe(function(t){console.log(t),e.securityData=t,e.auditlog(),e.securityData&&p().fire({text:"Record is Closed"}).then(function(){return window.location.reload()})},function(t){p().fire(t.error.message)}))})}},{key:"reopen",value:function(t){var e=this;p().fire({text:"You are trying to Reopen record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(i){console.log("this is reopen ",i),!0===i.isConfirmed&&e.apiService.authSecurity("reopen",t).subscribe(function(t){console.log(t),e.securityData=t,e.auditlog(),e.securityData?(e.auditlog(),p().fire({text:"Record is Reopened"}).then(function(){return window.location.reload()})):p().fire({text:"Record cannot be opened "})},function(t){p().fire(t.error.message)})})}},{key:"auditlog",value:function(){"O"==this.securityData.recordStatus?this.securityData.recordStatus="OPEN":"C"==this.securityData.recordStatus&&(this.securityData.recordStatus="CLOSE"),"A"==this.securityData.authStatus||"Authorized"==this.securityData.authStatus?this.securityData.authStatus="AUTHORIZED":("U"==this.securityData.authStatus||"Unauthorized"==this.securityData.authStatus)&&(this.securityData.authStatus="UNAUTHORIZED"),"Y"==this.securityData.firstTimeAuth?this.securityData.firstTimeAuth="YES":"N"==this.securityData.firstTimeAuth&&(this.securityData.firstTimeAuth="NO")}}]),e}()).\u0275fac=function(t){return new(t||S)(m.Y36(f.W),m.Y36(y.N),m.Y36(s.F0),m.Y36(m.sBO),m.Y36(Z.fz))},S.\u0275cmp=m.Xpm({type:S,selectors:[["npr-security-policy-summary"]],viewQuery:function(t,e){var i;1&t&&m.Gf(g.G,5),2&t&&m.iGM(i=m.CRH())&&(e.dtElement=i.first)},decls:27,vars:6,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],[1,"dbCardStyle"],[1,"row","g-3","pb-3","justify-content-end"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[1,"table-responsive"],["datatable","",1,"dataTable","table","tableStyle","nowrap","tableStyleSelect","vAlignMdl",2,"width","100%",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"primaryColor",3,"click"],["title","Authorize",1,"btn",2,"color","red",3,"disabled","click"],["src","assets/images/authorize.svg","alt","Authorize",1,"summaryIcon"],["class","btn","style","color: red","title","Close",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Reopen",3,"click",4,"ngIf"],["title","Close",1,"btn",2,"color","red",3,"click"],["src","assets/images/CROSS1.svg","alt","...",1,"summaryIcon"],["title","Reopen",1,"btn",2,"color","red",3,"click"],["src","assets/images/open.svg","alt","...",1,"summaryIcon"],[1,"loading-page-center"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"h2",2),m._uU(3,"Security Policy"),m.qZA(),m.qZA(),m.TgZ(4,"div",3),m.TgZ(5,"div",4),m.TgZ(6,"div",5),m.TgZ(7,"a",6),m._uU(8,"Exit"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(9,"div",7),m.TgZ(10,"table",8),m.TgZ(11,"thead"),m.TgZ(12,"tr"),m.TgZ(13,"th"),m._uU(14,"Version"),m.qZA(),m.TgZ(15,"th"),m._uU(16,"Created By"),m.qZA(),m.TgZ(17,"th"),m._uU(18,"Auth Status"),m.qZA(),m.TgZ(19,"th"),m._uU(20,"Record Status"),m.qZA(),m.TgZ(21,"th"),m._uU(22,"Date"),m.qZA(),m.TgZ(23,"th"),m._uU(24,"Action"),m.qZA(),m.qZA(),m.qZA(),m.YNc(25,C,2,1,"tbody",9),m.qZA(),m.qZA(),m.YNc(26,w,5,0,"ng-container",10),m.qZA(),m.qZA()),2&t&&(m.xp6(7),m.Q6J("routerLink",m.DdM(5,q)),m.xp6(3),m.Q6J("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),m.xp6(15),m.Q6J("ngForOf",e.respArray),m.xp6(1),m.Q6J("ngIf",e.isLoading))},directives:[s.yS,g.G,a.sg,a.O5],pipes:[a.uU],styles:[""]}),S),D=n(3679),U=n(25917),k=n(31443);function L(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"button",42),m.NdJ("click",function(){return m.CHM(i),m.oxw().submit()}),m._uU(2,"Save"),m.qZA(),m.qZA()}if(2&t){var r=m.oxw();m.xp6(1),m.Q6J("disabled",!r.securityForm.dirty)}}function I(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"button",43),m.NdJ("click",function(){return m.CHM(i),m.oxw().editValues()}),m._uU(2,"Edit"),m.qZA(),m.qZA()}}function B(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"button",44),m.NdJ("click",function(){return m.CHM(i),m.oxw().auth()}),m._uU(2,"Auth"),m.qZA(),m.qZA()}}function N(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"button",45),m.NdJ("click",function(){return m.CHM(i),m.oxw().close()}),m._uU(2,"Close"),m.qZA(),m.qZA()}}function O(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"button",45),m.NdJ("click",function(){return m.CHM(i),m.oxw().reopen()}),m._uU(2,"Reopen"),m.qZA(),m.qZA()}}function P(t,e){1&t&&(m.TgZ(0,"div",39),m.TgZ(1,"button",46),m._uU(2,"Delete"),m.qZA(),m.qZA())}function E(t,e){if(1&t&&(m.TgZ(0,"div",4),m.TgZ(1,"div",47),m.TgZ(2,"div",48),m.TgZ(3,"div",49),m.TgZ(4,"div",50),m.TgZ(5,"div",39),m.TgZ(6,"div",51),m._UZ(7,"i",52),m.qZA(),m.qZA(),m.TgZ(8,"div",53),m.TgZ(9,"div",54),m.TgZ(10,"h2"),m._uU(11,"Maker"),m.qZA(),m.TgZ(12,"p"),m._uU(13),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(14,"div",48),m.TgZ(15,"div",49),m.TgZ(16,"div",50),m.TgZ(17,"div",39),m.TgZ(18,"div",55),m._UZ(19,"img",56),m.qZA(),m.qZA(),m.TgZ(20,"div",53),m.TgZ(21,"div",54),m.TgZ(22,"h2"),m._uU(23,"Maker Time Stamp"),m.qZA(),m.TgZ(24,"p"),m._uU(25),m.ALo(26,"date"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(27,"div",48),m.TgZ(28,"div",49),m.TgZ(29,"div",50),m.TgZ(30,"div",39),m.TgZ(31,"div",57),m._UZ(32,"i",58),m.qZA(),m.qZA(),m.TgZ(33,"div",53),m.TgZ(34,"div",54),m.TgZ(35,"h2"),m._uU(36,"Record Status"),m.qZA(),m.TgZ(37,"p"),m._uU(38),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(39,"div",48),m.TgZ(40,"div",49),m.TgZ(41,"div",50),m.TgZ(42,"div",39),m.TgZ(43,"div",59),m._UZ(44,"i",60),m.qZA(),m.qZA(),m.TgZ(45,"div",53),m.TgZ(46,"div",54),m.TgZ(47,"h2"),m._uU(48,"Checker"),m.qZA(),m.TgZ(49,"p"),m._uU(50),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(51,"div",48),m.TgZ(52,"div",49),m.TgZ(53,"div",50),m.TgZ(54,"div",39),m.TgZ(55,"div",61),m._UZ(56,"img",62),m.qZA(),m.qZA(),m.TgZ(57,"div",53),m.TgZ(58,"div",54),m.TgZ(59,"h2"),m._uU(60,"Checker Time Stamp"),m.qZA(),m.TgZ(61,"p"),m._uU(62),m.ALo(63,"date"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(64,"div",48),m.TgZ(65,"div",49),m.TgZ(66,"div",50),m.TgZ(67,"div",39),m.TgZ(68,"div",63),m._UZ(69,"i",64),m.qZA(),m.qZA(),m.TgZ(70,"div",53),m.TgZ(71,"div",54),m.TgZ(72,"h2"),m._uU(73,"First Time Authorization"),m.qZA(),m.TgZ(74,"p"),m._uU(75),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(76,"div",48),m.TgZ(77,"div",49),m.TgZ(78,"div",50),m.TgZ(79,"div",39),m.TgZ(80,"div",65),m._UZ(81,"img",66),m.qZA(),m.qZA(),m.TgZ(82,"div",53),m.TgZ(83,"div",54),m.TgZ(84,"h2"),m._uU(85,"Authorization Status"),m.qZA(),m.TgZ(86,"p"),m._uU(87),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(88,"div",48),m.TgZ(89,"div",49),m.TgZ(90,"div",50),m.TgZ(91,"div",39),m.TgZ(92,"div",57),m._UZ(93,"img",67),m.qZA(),m.qZA(),m.TgZ(94,"div",53),m.TgZ(95,"div",54),m.TgZ(96,"h2"),m._uU(97,"Modification Number"),m.qZA(),m.TgZ(98,"p"),m._uU(99),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&t){var i=m.oxw();m.xp6(13),m.Oqu(i.securityData.createdBy),m.xp6(12),m.Oqu(m.xi3(26,8,i.securityData.createdDate,"MM/dd/yyyy, h:mm a")),m.xp6(13),m.Oqu(i.securityData.recordStatus),m.xp6(12),m.Oqu(i.securityData.authorizedBy),m.xp6(12),m.Oqu(m.xi3(63,11,i.securityData.authorizedTime,"MM/dd/yyyy, h:mm a")),m.xp6(13),m.Oqu(i.securityData.firstTimeAuth),m.xp6(12),m.Oqu(i.securityData.authStatus),m.xp6(12),m.Oqu(i.securityData.version)}}var _=function(){return["/security-policy/summary"]},M=[{path:"",component:function(){var t=function(){function t(e,r,o,n,a){i(this,t),this.toastService=e,this.formBuilder=r,this.roleService=o,this.cdr=n,this.secuityService=a,this.enablesubmit=!0,this.submitSecurity=!1,this.roleCodes=new l.yv,this.formTouched=!0}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.currentUser=localStorage.getItem("userFromLogin"),this.buildForm("");var e=localStorage.getItem("securityPolicyData");this.fetchSecurityPolicyService(JSON.parse(e)),this.roleService.screenLabelList.subscribe(function(e){return t.roleCodes=e}),console.log(this.roleCodes)}},{key:"invalidLogin",value:function(t,e){this.submitSecurity=!1,"pgt"==e&&this.securityForm.value.passwordGenerationType!=this.securityData.passwordGenerationType&&(this.submitSecurity=!0),("invalid"==e&&this.securityForm.value.maxInvLogins!=this.securityData.maxInvLogins||"length"==e&&this.securityForm.value.maxPswdLength!=this.securityData.maxPswdLength||"minlength"==e&&this.securityForm.value.minPswdLength!=this.securityData.minPswdLength||"expiry"==e&&this.securityForm.value.pswdExpiry!=this.securityData.pswdExpiry||"notification"==e&&this.securityForm.value.notifyPasswordExpiryInDays!=this.securityData.notifyPasswordExpiryInDays||"reuse"==e&&this.securityForm.value.pswdReuseAft!=this.securityData.pswdReuseAft||"uppercaseCheck"===e||"lowercaseCheck"===e||"numberCheck"===e||"charactersCheck"===e)&&(this.submitSecurity=!0)}},{key:"buildForm",value:function(t){console.log(t),this.securityForm=this.formBuilder.group({activeEdit:[t?t.activeEdit:""],authStatus:[t?t.authStatus:""],authorizedBy:[t?t.authorizedBy:""],authorizedTime:[t?t.authorizedTime:""],maxInvLogins:[t?t.maxInvLogins:"",D.kI.required],maxPswdLength:[t?t.maxPswdLength:"",D.kI.required],minPswdLength:[t?t.minPswdLength:"",D.kI.required],modifiedBy:[t?t.modifiedBy:""],modifiedTime:[t?t.modifiedTime:""],loggedInUser:[""],notifyPasswordExpiryInDays:[t?t.notifyPasswordExpiryInDays:"",D.kI.required],firstTimeAuth:[t?t.firstTimeAuth:""],pswdComplexLcase:[t?t.pswdComplexLcase:""],pswdComplexNum:[t?t.pswdComplexNum:""],pswdComplexSplc:[t?t.pswdComplexSplc:""],pswdComplexUcase:[t?t.pswdComplexUcase:""],pswdExpiry:[t?t.pswdExpiry:"",D.kI.required],pswdReuseAft:[t?t.pswdReuseAft:"",D.kI.required],version:[t?t.version:""],passwordGenerationType:[t?t.passwordGenerationType:"Manual"]}),console.log(this.securityForm.value),this.activeEditOnInit()}},{key:"assignCheckValue",value:function(t){"true"===t.pswdComplexLcase&&(t.pswdComplexLcase=!0),"false"===t.pswdComplexLcase&&(t.pswdComplexLcase=!1),"true"===t.pswdComplexNum&&(t.pswdComplexNum=!0),"false"===t.pswdComplexNum&&(t.pswdComplexNum=!1),"true"===t.pswdComplexSplc&&(t.pswdComplexSplc=!0),"false"===t.pswdComplexSplc&&(t.pswdComplexSplc=!1),"true"===t.pswdComplexUcase&&(t.pswdComplexUcase=!0),"false"===t.pswdComplexUcase&&(t.pswdComplexUcase=!1),this.buildForm(t)}},{key:"submit",value:function(){var t=this;this.securityForm.value.modifiedBy=localStorage.getItem("userFromLogin"),this.securityForm.value.loggedInUser=localStorage.getItem("userFromLogin"),console.log(this.securityForm.value),this.securityForm.value.minPswdLength>this.securityForm.value.maxPswdLength?p().fire({text:"Min Password Length should not be greater than Max Password Length"}):this.securityForm.value.pswdExpiry<this.securityForm.value.notifyPasswordExpiryInDays?p().fire({text:"Notification on password expiry days can not be greater than password expiry days"}):this.securityForm.value.minPswdLength<4||this.securityForm.value.maxPswdLength<4?p().fire({text:"Min Password length and Max Password length should not be less than 4"}):this.secuityService.saveDataSecurity(this.securityForm.value).subscribe(function(e){t.securityData=e,(t.edit=!1)?e?(t.securityForm.patchValue({version:e.version}),p().fire({text:"Record is Created"}),t.auditlog(),t.formTouched=!t.securityForm.touched):p().fire({text:"Saving Failed"}):e?(t.securityForm.patchValue({version:e.version}),p().fire({text:"Record is Updated"}),t.auditlog(),t.formTouched=!t.securityForm.touched):p().fire({text:"Update Failed"})})}},{key:"fetchSecurityPolicyService",value:function(t){t&&(this.securityData=t,console.log(this.securityData),this.assignCheckValue(this.securityData),"O"==this.securityData.recordStatus||"Open"==this.securityData.recordStatus?this.securityData.recordStatus="OPEN":("C"==this.securityData.recordStatus||"Close"==this.securityData.recordStatus)&&(this.securityData.recordStatus="CLOSE"),"A"==this.securityData.authStatus||"Authorized"==this.securityData.authStatus?this.securityData.authStatus="AUTHORIZED":("U"==this.securityData.authStatus||"Unauthorized"==this.securityData.authStatus)&&(this.securityData.authStatus="UNAUTHORIZED"),"Y"==this.securityData.firstTimeAuth?this.securityData.firstTimeAuth="YES":"N"==this.securityData.firstTimeAuth&&(this.securityData.firstTimeAuth="NO"))}},{key:"pageDeactivation",value:function(){if(console.log("pageDeactivation in user was called"),this.securityForm.touched&&1==this.formTouched){var t=confirm("There are unsaved changes in the screen.Would you like to navigate to other screen?");return console.log("result: ",t),(0,U.of)(t)}return(0,U.of)(!0)}},{key:"reset",value:function(){this.securityForm.reset()}},{key:"editValues",value:function(){this.edit=!0}},{key:"activeEditOnInit",value:function(){this.securityForm.value.activeEdit&&this.editValues()}},{key:"auth",value:function(){var t=this;p().fire({text:"You are trying to Authorize record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(e){if(console.log("this is reopen ",e),!0===e.isConfirmed){if(t.securityData.createdBy===localStorage.getItem("userFromLogin"))return void p().fire({text:"Maker Cannot Authorize Record!",icon:"error"});console.log("this is authorzation"),t.securityForm.value.loggedInUser=t.currentUser,t.secuityService.authSecurity("authorize",t.securityForm.value).subscribe(function(e){console.log(e),t.securityData=e,t.auditlog(),e&&(t.securityForm.patchValue({version:t.securityData.version}),p().fire({text:"Record is Authorized",icon:"success"}))},function(t){p().fire({text:t.error.message,icon:"error"})})}})}},{key:"close",value:function(){var t=this;p().fire({text:"You are trying to Close record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(e){console.log("this is reopen ",e),!0===e.isConfirmed&&(console.log("this is close"),t.secuityService.authSecurity("close",t.securityForm.value).subscribe(function(e){console.log(e),t.securityData=e,t.auditlog(),t.securityData&&(t.securityForm.patchValue({version:t.securityData.version}),p().fire({text:"Record is Closed"}))},function(t){p().fire(t.error.message)}))})}},{key:"reopen",value:function(){var t=this;p().fire({text:"You are trying to Reopen record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(e){console.log("this is reopen ",e),!0===e.isConfirmed&&t.secuityService.authSecurity("reopen",t.securityForm.value).subscribe(function(e){console.log(e),t.securityData=e,t.auditlog(),e&&(t.securityForm.patchValue({version:t.securityData.version}),p().fire({text:"Record is Reopened"}))},function(t){p().fire(t.error.message)})})}},{key:"auditlog",value:function(){"O"==this.securityData.recordStatus?this.securityData.recordStatus="OPEN":"C"==this.securityData.recordStatus&&(this.securityData.recordStatus="CLOSE"),"A"==this.securityData.authStatus||"Authorized"==this.securityData.authStatus?this.securityData.authStatus="AUTHORIZED":("U"==this.securityData.authStatus||"Unauthorized"==this.securityData.authStatus)&&(this.securityData.authStatus="UNAUTHORIZED"),"Y"==this.securityData.firstTimeAuth?this.securityData.firstTimeAuth="YES":"N"==this.securityData.firstTimeAuth&&(this.securityData.firstTimeAuth="NO")}},{key:"exit",value:function(){localStorage.removeItem("securityPolicyData")}},{key:"canExit",value:function(){var t=this,e=!1;return this.securityForm.touched&&1==this.formTouched?p().fire({text:"There are unsaved changes in the screen. Would you like to navigate to other screen?",showCancelButton:!0,confirmButtonColor:"#E6224A",cancelButtonColor:"#011945",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(function(i){return!0===i.isConfirmed?(e=!0,t.cdr.markForCheck(),e):(e=!1,t.cdr.markForCheck(),e)}):(e=!0,new Promise(function(i,r){!0===e&&(e=!0,t.cdr.markForCheck(),i(!0))}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.Y36(k.k),m.Y36(D.qu),m.Y36(y.N),m.Y36(m.sBO),m.Y36(f.W))},t.\u0275cmp=m.Xpm({type:t,selectors:[["npr-security-policy"]],decls:87,vars:11,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],["action","",1,"formStyle",3,"formGroup"],[1,"dbCardStyle"],[3,"disabled"],[1,"row","gy-4"],[1,"col-lg-4"],["for","securityLogins",1,"formLbl"],[1,"colorRed"],["formControlName","passwordGenerationType","aria-label","Default select example",1,"form-select",3,"ngModelChange"],["hidden","","value","","disabled","","selected",""],["value","Manual"],["value","Auto"],["id","securityLogins","type","text","formControlName","maxInvLogins","placeholder","Maximum Invalid Logins","value","",1,"form-control",3,"ngModelChange"],["for","maxPassword",1,"formLbl"],["id","maxPassword","type","number","formControlName","maxPswdLength","placeholder","Maximum Password Length","value","",1,"form-control",3,"ngModelChange"],["for","minPassword",1,"formLbl"],["id","minPassword","type","number","formControlName","minPswdLength","placeholder","Minimum Password Length","value","",1,"form-control",3,"ngModelChange"],["for","passExpiry",1,"formLbl"],["id","passExpiry","type","number","formControlName","pswdExpiry","placeholder","Password Expiry (In days)","value","",1,"form-control",3,"ngModelChange"],["for","expiryReminder",1,"formLbl"],["id","expiryReminder","type","number","formControlName","notifyPasswordExpiryInDays","placeholder","Password Expiry Reminder (In days)","value","",1,"form-control",3,"ngModelChange"],["for","reuseLimit",1,"formLbl"],["id","reuseLimit","type","number","formControlName","pswdReuseAft","placeholder","Password Reuse Limit","value","",1,"form-control",3,"ngModelChange"],[1,"col-12"],["for","",1,"formLbl"],[1,"checkListCol"],[1,"checkStyle"],["type","checkbox","formControlName","pswdComplexUcase","id","uppercaseCheck",3,"ngModelChange"],["for","uppercaseCheck"],["type","checkbox","formControlName","pswdComplexLcase","id","lowercaseCheck",3,"ngModelChange"],["for","lowercaseCheck"],["type","checkbox","formControlName","pswdComplexNum","id","numberCheck",3,"ngModelChange"],["for","numberCheck"],["type","checkbox","formControlName","pswdComplexSplc","id","charactersCheck",3,"ngModelChange"],["for","charactersCheck"],[1,"row","g-3","pb-3","justify-content-end","pt-3"],["class","col-auto",4,"ngIf"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink","click"],["class","dbCardStyle",4,"ngIf"],["href","javascript:void(0)",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],[1,"btn","smBtn","minWdSmBtn","btnUpdate",3,"click"],[1,"btn","smBtn","minWdSmBtn","btnAuth",3,"click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary"],[1,"row"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"csCardStyle"],[1,"row","g-2","align-items-center"],[1,"csCardStyleIcon","csCardStyleIconBg1"],[1,"fa","fa-edit","faClass"],[1,"col"],[1,"csCardStyleText"],[1,"csCardStyleIcon","csCardStyleIconBg2"],["src","assets/images/time-stamp-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg3"],["aria-hidden","true",1,"fa","fa-files-o","faRecordStatus"],[1,"csCardStyleIcon","csCardStyleIconBg4"],[1,"fa","fa-check-square-o","faClassChecker"],[1,"csCardStyleIcon","csCardStyleIconBg5"],["src","assets/images/checker-time-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg6"],[1,"fa","fa-shield","faClassFirstTimeAuth"],[1,"csCardStyleIcon","csCardStyleIconBg7"],["src","assets/images/authorize.svg","alt","...",1,"modImage"],["src","assets/images/modification.svg","alt","...",1,"modImage"]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"h2",2),m._uU(3,"Security Policy"),m.qZA(),m.qZA(),m.TgZ(4,"form",3),m.TgZ(5,"div",4),m.TgZ(6,"fieldset",5),m.TgZ(7,"div",6),m.TgZ(8,"div",7),m.TgZ(9,"label",8),m._uU(10,"Password Generation Type"),m.TgZ(11,"span",9),m._uU(12,"*"),m.qZA(),m.qZA(),m.TgZ(13,"select",10),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"pgt")}),m.TgZ(14,"option",11),m._uU(15,"--Please select--"),m.qZA(),m.TgZ(16,"option",12),m._uU(17,"Manual"),m.qZA(),m.TgZ(18,"option",13),m._uU(19,"Auto"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(20,"div",7),m.TgZ(21,"label",8),m._uU(22,"Maximum Invalid Logins "),m.TgZ(23,"span",9),m._uU(24,"*"),m.qZA(),m.qZA(),m.TgZ(25,"input",14),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"invalid")}),m.qZA(),m.qZA(),m.TgZ(26,"div",7),m.TgZ(27,"label",15),m._uU(28,"Maximum Password Length "),m.TgZ(29,"span",9),m._uU(30,"*"),m.qZA(),m.qZA(),m.TgZ(31,"input",16),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"length")}),m.qZA(),m.qZA(),m.TgZ(32,"div",7),m.TgZ(33,"label",17),m._uU(34,"Minimum Password Length "),m.TgZ(35,"span",9),m._uU(36,"*"),m.qZA(),m.qZA(),m.TgZ(37,"input",18),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"minlength")}),m.qZA(),m.qZA(),m.TgZ(38,"div",7),m.TgZ(39,"label",19),m._uU(40,"Password Expiry (In days) "),m.TgZ(41,"span",9),m._uU(42,"*"),m.qZA(),m.qZA(),m.TgZ(43,"input",20),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"expiry")}),m.qZA(),m.qZA(),m.TgZ(44,"div",7),m.TgZ(45,"label",21),m._uU(46,"Password Expiry Reminder (In days) "),m.TgZ(47,"span",9),m._uU(48,"*"),m.qZA(),m.qZA(),m.TgZ(49,"input",22),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"notification")}),m.qZA(),m.qZA(),m.TgZ(50,"div",7),m.TgZ(51,"label",23),m._uU(52,"Password Reuse Limit "),m.TgZ(53,"span",9),m._uU(54,"*"),m.qZA(),m.qZA(),m.TgZ(55,"input",24),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"reuse")}),m.qZA(),m.qZA(),m.TgZ(56,"div",25),m.TgZ(57,"label",26),m._uU(58,"Password Complexity"),m.qZA(),m.TgZ(59,"div",27),m.TgZ(60,"div",28),m.TgZ(61,"input",29),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"uppercaseCheck")}),m.qZA(),m.TgZ(62,"label",30),m._uU(63,"Require atleast one Uppercase (A-Z)"),m.qZA(),m.qZA(),m.TgZ(64,"div",28),m.TgZ(65,"input",31),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"lowercaseCheck")}),m.qZA(),m.TgZ(66,"label",32),m._uU(67,"Require atleast one Lowercase (a-z)"),m.qZA(),m.qZA(),m.TgZ(68,"div",28),m.TgZ(69,"input",33),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"numberCheck")}),m.qZA(),m.TgZ(70,"label",34),m._uU(71,"Require atleast one Number (0-9)"),m.qZA(),m.qZA(),m.TgZ(72,"div",28),m.TgZ(73,"input",35),m.NdJ("ngModelChange",function(t){return e.invalidLogin(t,"charactersCheck")}),m.qZA(),m.TgZ(74,"label",36),m._uU(75,"Require atleast one Special Characters (@#$%!?.)"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(76,"div",37),m.YNc(77,L,3,1,"div",38),m.YNc(78,I,3,0,"div",38),m.YNc(79,B,3,0,"div",38),m.YNc(80,N,3,0,"div",38),m.YNc(81,O,3,0,"div",38),m.YNc(82,P,3,0,"div",38),m.TgZ(83,"div",39),m.TgZ(84,"button",40),m.NdJ("click",function(){return e.exit()}),m._uU(85,"Exit"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.YNc(86,E,100,14,"div",41),m.qZA(),m.qZA()),2&t&&(m.xp6(4),m.Q6J("formGroup",e.securityForm),m.xp6(2),m.Q6J("disabled",!e.edit),m.xp6(71),m.Q6J("ngIf",e.edit),m.xp6(1),m.Q6J("ngIf",!("C"==e.securityData.recordStatus||"CLOSE"==e.securityData.recordStatus||e.edit)),m.xp6(1),m.Q6J("ngIf",("U"==e.securityData.authStatus||"UNAUTHORIZED"==e.securityData.authStatus||"N"==e.securityData.authStatus||"N"==e.securityData.authStatus)&&!e.edit),m.xp6(1),m.Q6J("ngIf",("O"==e.securityData.recordStatus||"OPEN"==e.securityData.recordStatus)&&!e.edit),m.xp6(1),m.Q6J("ngIf",("C"==e.securityData.recordStatus||"CLOSE"==e.securityData.recordStatus)&&!e.edit),m.xp6(1),m.Q6J("ngIf","NO"==e.securityData.firstTimeAuth&&!e.edit),m.xp6(2),m.Q6J("routerLink",m.DdM(10,_)),m.xp6(2),m.Q6J("ngIf",e.securityData))},directives:[D._Y,D.JL,D.sg,D.EJ,D.JJ,D.u,D.YN,D.Kr,D.Fj,D.wV,D.Wl,a.O5,s.rH],pipes:[a.uU],styles:[""]}),t}(),canDeactivate:[u.I]},{path:"summary",component:b}],F=function(){var t=o(function t(){i(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[s.Bz.forChild(M)],s.Bz]}),t}(),R=function(){var t=o(function t(){i(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[a.ez,F,g.T,D.UX]]}),t}()}}])}();