{"version":3,"sources":["webpack:///src/app/views/loan-account/loan-enrichment/loan-intrest-details/loan-intrest-details.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-intrest-details/loan-intrest-details.component.html","webpack:///src/app/views/loan-account/supervisor-approval-stage/supervisor-assessment-details/supervisor-assessment-details.component.ts","webpack:///src/app/views/loan-account/supervisor-approval-stage/supervisor-assessment-details/supervisor-assessment-details.component.html","webpack:///src/app/views/loan-account/underwriting-stage/legal-opinion/legal-opinion.component.ts","webpack:///src/app/views/loan-account/underwriting-stage/legal-opinion/legal-opinion.component.html","webpack:///src/app/views/loan-account/account-creation-stage/account-creation-stage.component.ts","webpack:///src/app/views/loan-account/account-creation-stage/account-creation-stage.component.html","webpack:///src/app/views/loan-account/digital-signing/digital-signing.component.ts","webpack:///src/app/views/loan-account/digital-signing/digital-signing.component.html","webpack:///src/app/views/loan-account/account-approval-stage/loan-view-summary/loan-view-summary.component.ts","webpack:///src/app/views/loan-account/account-approval-stage/loan-view-summary/loan-view-summary.component.html","webpack:///src/app/views/loan-account/post-offer-amend-stage/loan-repayment/loan-repayment.component.ts","webpack:///src/app/views/loan-account/post-offer-amend-stage/loan-repayment/loan-repayment.component.html","webpack:///src/app/shared/animations/rumango-animations.ts","webpack:///src/app/views/loan-account/post-offer-amend-stage/post-offer-amendment/post-offer-amendment.component.ts","webpack:///src/app/views/loan-account/post-offer-amend-stage/post-offer-amendment/post-offer-amendment.component.html","webpack:///src/app/views/loan-account/loan-entry-stage/guarantor-details/guarantor-details.component.ts","webpack:///src/app/views/loan-account/loan-entry-stage/guarantor-details/guarantor-details.component.html","webpack:///src/app/views/loan-account/loan-entry-stage/admission-details/admission-details.component.ts","webpack:///src/app/views/loan-account/loan-entry-stage/admission-details/admission-details.component.html","webpack:///src/app/views/loan-account/post-offer-amend-stage/post-offer-amend-stage.component.ts","webpack:///src/app/views/loan-account/post-offer-amend-stage/post-offer-amend-stage.component.html","webpack:///src/app/views/loan-account/account-approval-stage/account-approval-stage.component.ts","webpack:///src/app/views/loan-account/account-approval-stage/account-approval-stage.component.html","webpack:///src/app/views/loan-account/loan-entry-stage/loan-details/loan-details.component.ts","webpack:///src/app/views/loan-account/loan-entry-stage/loan-details/loan-details.component.html","webpack:///src/app/views/loan-account/offer-issue-stage/offerissue/offerissue.component.ts","webpack:///src/app/views/loan-account/offer-issue-stage/offerissue/offerissue.component.html","webpack:///src/app/views/loan-account/account-approval-stage/offer-accept-reject-summary/offer-accept-reject-summary.component.ts","webpack:///src/app/views/loan-account/account-approval-stage/offer-accept-reject-summary/offer-accept-reject-summary.component.html","webpack:///src/app/views/loan-account/offer-issue-stage/asset-valuation/asset-valuation.component.ts","webpack:///src/app/views/loan-account/offer-issue-stage/asset-valuation/asset-valuation.component.html","webpack:///src/app/views/loan-account/offer-issue-stage/legal-opinion/legal-opinion.component.ts","webpack:///src/app/views/loan-account/offer-issue-stage/legal-opinion/legal-opinion.component.html","webpack:///src/app/views/loan-account/account-approval-stage/assessment-summary/assessment-summary.component.ts","webpack:///src/app/views/loan-account/account-approval-stage/assessment-summary/assessment-summary.component.html","webpack:///src/app/views/loan-account/loan-assesment-stage/loan-assesment-stage.component.ts","webpack:///src/app/views/loan-account/loan-assesment-stage/loan-assesment-stage.component.html","webpack:///src/app/views/loan-account/account-creation-stage/account-creation-summary/account-creation-summary.component.ts","webpack:///src/app/views/loan-account/account-creation-stage/account-creation-summary/account-creation-summary.component.html","webpack:///src/app/views/loan-account/underwriting-stage/credit-rating-details/credit-rating-details.component.ts","webpack:///src/app/views/loan-account/underwriting-stage/credit-rating-details/credit-rating-details.component.html","webpack:///src/app/views/loan-account/account-approval-stage/offer-accept-reject-details/offer-accept-reject-details.component.ts","webpack:///src/app/views/loan-account/account-approval-stage/offer-accept-reject-details/offer-accept-reject-details.component.html","webpack:///src/app/views/loan-account/account-creation-stage/account-create-details/account-create-details.component.ts","webpack:///src/app/views/loan-account/account-creation-stage/account-create-details/account-create-details.component.html","webpack:///src/app/views/loan-account/offer-accept-reject-stage/offer-accept-reject/offer-accept-reject.component.ts","webpack:///src/app/views/loan-account/offer-accept-reject-stage/offer-accept-reject/offer-accept-reject.component.html","webpack:///src/app/views/loan-account/loan-account.component.ts","webpack:///src/app/views/loan-account/loan-account.component.html","webpack:///src/app/views/loan-account/loan-entry-stage/asset-details/asset-details.component.ts","webpack:///src/app/views/loan-account/loan-entry-stage/asset-details/asset-details.component.html","webpack:///src/app/views/loan-account/digital-signing/upload-sign-or-esign/upload-sign-or-esign.component.ts","webpack:///src/app/views/loan-account/digital-signing/upload-sign-or-esign/upload-sign-or-esign.component.html","webpack:///src/app/views/loan-account/loan-enrichment/loan-charge-details/loan-charge-details-summary/loan-charge-details-summary.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-charge-details/loan-charge-details-summary/loan-charge-details-summary.component.html","webpack:///src/app/views/loan-account/underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component.ts","webpack:///src/app/views/loan-account/underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component.html","webpack:///src/app/views/loan-account/post-offer-amend-stage/loan-disbursement/loan-disbursement.component.ts","webpack:///src/app/views/loan-account/post-offer-amend-stage/loan-disbursement/loan-disbursement.component.html","webpack:///src/app/views/loan-account/offer-issue-stage/credit-rating-details/credit-rating-details.component.ts","webpack:///src/app/views/loan-account/offer-issue-stage/credit-rating-details/credit-rating-details.component.html","webpack:///src/app/views/loan-account/loan-enrichment/account-services/account-services.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/account-services/account-services.component.html","webpack:///src/app/views/loan-account/loan-assesment-stage/loan-assessment-details/loan-assessment-details.component.ts","webpack:///src/app/views/loan-account/loan-assesment-stage/loan-assessment-details/loan-assessment-details.component.html","webpack:///src/app/views/loan-account/post-offer-amend-stage/post-offer-amendment-summary/post-offer-amendment-summary.component.ts","webpack:///src/app/views/loan-account/post-offer-amend-stage/post-offer-amendment-summary/post-offer-amendment-summary.component.html","webpack:///src/app/views/loan-account/loan-entry-stage/customer-information/customer-information.component.ts","webpack:///src/app/views/loan-account/loan-entry-stage/customer-information/customer-information.component.html","webpack:///src/app/views/loan-account/loan-enrichment/loan-repayment-component/repayment-schedule/repayment-schedule.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-repayment-component/repayment-schedule/repayment-schedule.component.html","webpack:///src/app/views/loan-account/account-approval-stage/account-approval-details-summary/account-approval-details-summary.component.ts","webpack:///src/app/views/loan-account/account-approval-stage/account-approval-details-summary/account-approval-details-summary.component.html","webpack:///src/app/views/loan-account/offer-issue-stage/offer-assessment/offer-assessment.component.ts","webpack:///src/app/views/loan-account/offer-issue-stage/offer-assessment/offer-assessment.component.html","webpack:///src/app/views/loan-account/underwriting-stage/valuation-of-assets/valuation-of-assets.component.ts","webpack:///src/app/views/loan-account/underwriting-stage/valuation-of-assets/valuation-of-assets.component.html","webpack:///src/app/views/loan-account/loan-enrichment/loan-enrichment.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-enrichment.component.html","webpack:///src/app/views/loan-account/underwriting-stage/underwriting-stage.component.ts","webpack:///src/app/views/loan-account/underwriting-stage/underwriting-stage.component.html","webpack:///src/app/views/loan-account/loan-enrichment/loan-repayment-component/loan-repayment-component.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-repayment-component/loan-repayment-component.component.html","webpack:///src/app/views/loan-account/loan-entry-stage/loan-entry-stage.component.ts","webpack:///src/app/views/loan-account/loan-entry-stage/loan-entry-stage.component.html","webpack:///src/app/views/loan-account/supervisor-approval-stage/supervisor-approved-details/supervisor-approved-details.component.ts","webpack:///src/app/views/loan-account/supervisor-approval-stage/supervisor-approved-details/supervisor-approved-details.component.html","webpack:///src/app/views/loan-account/account-approval-stage/assessment-details/assessment-details.component.ts","webpack:///src/app/views/loan-account/account-approval-stage/assessment-details/assessment-details.component.html","webpack:///src/app/views/loan-account/offer-accept-reject-stage/offer-accept-reject-stage.component.ts","webpack:///src/app/views/loan-account/offer-accept-reject-stage/offer-accept-reject-stage.component.html","webpack:///src/app/views/loan-account/supervisor-approval-stage/supervisor-approval-stage.component.ts","webpack:///src/app/views/loan-account/supervisor-approval-stage/supervisor-approval-stage.component.html","webpack:///src/app/views/loan-account/loan-enrichment/loan-repayment-component/loan-repayment-summary/loan-repayment-summary.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-repayment-component/loan-repayment-summary/loan-repayment-summary.component.html","webpack:///src/app/views/loan-account/loan-enrichment/loan-charge-details/loan-charge-details.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-charge-details/loan-charge-details.component.html","webpack:///src/app/views/loan-account/loan-enrichment/loan-disbursement-details/loan-disbursement-summary/loan-disbursement-summary.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-disbursement-details/loan-disbursement-summary/loan-disbursement-summary.component.html","webpack:///src/app/views/loan-account/offer-issue-stage/offer-issue-stage.component.ts","webpack:///src/app/views/loan-account/offer-issue-stage/offer-issue-stage.component.html","webpack:///src/app/views/loan-account/loan-enrichment/loan-intrest-details/loan-interest-summary/loan-interest-summary.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-intrest-details/loan-interest-summary/loan-interest-summary.component.html","webpack:///src/app/views/loan-account/loan-entry-stage/financial-details/financial-details.component.ts","webpack:///src/app/views/loan-account/loan-entry-stage/financial-details/financial-details.component.html","webpack:///src/app/views/loan-account/loan-enrichment/loan-enrichment-view-summary/loan-enrichment-view-summary.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-enrichment-view-summary/loan-enrichment-view-summary.component.html","webpack:///src/app/views/loan-account/loan-account.routing.ts","webpack:///src/app/views/loan-account/digital-signing/esign-pop/esign-pop.component.ts","webpack:///src/app/views/loan-account/digital-signing/esign-pop/esign-pop.component.html","webpack:///src/app/views/loan-account/offer-accept-reject-stage/offer-assessment-details/offer-assessment-details.component.ts","webpack:///src/app/views/loan-account/offer-accept-reject-stage/offer-assessment-details/offer-assessment-details.component.html","webpack:///src/app/views/loan-account/loan-entry-stage/mandate-details/mandate-details.component.ts","webpack:///src/app/views/loan-account/loan-entry-stage/mandate-details/mandate-details.component.html","webpack:///src/app/views/loan-account/loan-account.module.ts","webpack:///src/app/views/loan-account/post-offer-amend-stage/post-offer-amendment-stage-summary/post-offer-amendment-stage-summary.component.ts","webpack:///src/app/views/loan-account/post-offer-amend-stage/post-offer-amendment-stage-summary/post-offer-amendment-stage-summary.component.html","webpack:///src/app/views/loan-account/loan-entry-stage/collateral-details/collateral-details.component.ts","webpack:///src/app/views/loan-account/loan-entry-stage/collateral-details/collateral-details.component.html","webpack:///src/app/views/loan-account/digital-signing/digital-sign-in-now-or-later/digital-sign-in-now-or-later.component.ts","webpack:///src/app/views/loan-account/digital-signing/digital-sign-in-now-or-later/digital-sign-in-now-or-later.component.html","webpack:///src/app/views/loan-account/loan-enrichment/loan-disbursement-details/loan-disbursement-details.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/loan-disbursement-details/loan-disbursement-details.component.html","webpack:///src/app/views/loan-account/offer-accept-reject-stage/offer-issue/offer-issue.component.ts","webpack:///src/app/views/loan-account/offer-accept-reject-stage/offer-issue/offer-issue.component.html","webpack:///src/app/views/loan-account/loan-entry-stage/vehicle-details/vehicle-details.component.ts","webpack:///src/app/views/loan-account/loan-entry-stage/vehicle-details/vehicle-details.component.html","webpack:///src/app/views/loan-account/account-creation-stage/offer-accept-reject/offer-accept-reject.component.ts","webpack:///src/app/views/loan-account/account-creation-stage/offer-accept-reject/offer-accept-reject.component.html","webpack:///src/app/views/loan-account/loan-assesment-stage/loan-qualitative-scoreboard/loan-qualitative-scoreboard.component.ts","webpack:///src/app/views/loan-account/loan-assesment-stage/loan-qualitative-scoreboard/loan-qualitative-scoreboard.component.html","webpack:///src/app/views/loan-account/post-offer-amend-stage/offer-issue/offer-issue.component.ts","webpack:///src/app/views/loan-account/post-offer-amend-stage/offer-issue/offer-issue.component.html","webpack:///src/app/views/loan-account/loan-enrichment/account-services/account-service-summary/account-service-summary.component.ts","webpack:///src/app/views/loan-account/loan-enrichment/account-services/account-service-summary/account-service-summary.component.html","webpack:///src/app/views/loan-account/account-approval-stage/loan-summary-details/loan-summary-details.component.ts","webpack:///src/app/views/loan-account/account-approval-stage/loan-summary-details/loan-summary-details.component.html"],"names":["LoanIntrestDetailsComponent","accountService","snack","ls","api","router","formBuilder","loader","showEditOption","accountType","accountId","getItem","loanaccountID","loanInfo","console","log","loanAccountId","isLoanInterestDetails","setTimeout","getInterestDetails","getFlexcubeDetails","subscribe","response","onChangeInterest","length","patchValue","interestForm","group","interestInfo","open","loanInterestFetchById","resp","close","err","e","numberOfItems","i","push","rateCode","required","intrestType","intrestRateApplicable","marginIn","max","min","effectiveRate","createdDate","createdBy","lastModifiedDate","lastModifiedBy","loanInterestId","id","removeAt","controls","f","navigate","event","target","value","slice","loanintrestDetailsSave","duration","verticalPosition","horizontalPosition","next","setItem","refresh","goBack","onSubmit","selector","templateUrl","styleUrls","SupervisorAssessmentDetailsComponent","fb","buildformGroup","assessmentForm","requestedLoanAmount","rateofInterest","userRecommendation","approvedLoanAmount","loanTenure","systemRecommendation","loanAmountRecommended","finalLoanTenure","UnderWrittingLegalOpinionComponent","apiService","datepipe","maxDate","Date","minDate","isChecked","disabled","disabledToggle","accountForm","assetAreaSize","description","pattern","lawyerName","mktValOfAsset","opinion","isDecisionFavorable","opinionDate","compose","opinionData","valuationDate","assetAreaInUnits","isVehicleDetailsScreen","JSON","parse","gettingLegalOpinionDetail","buildAccountForm","valueData","lastUpdateByCif","gettingLegalOpinionDetails","data","Response","format","now","dateStringWithTime","now1","dateStringWithTime1","pk","parseInt","payload","saveLegalOpinion","isCreditRatingDetails","isValuationofAsset","isLegalOpinion","inputChar","String","fromCharCode","charCode","test","preventDefault","val","which","keyCode","gettingValuationDetails","res","get","setValue","getLoanDetails","transform","applicationDate","error","toggle","_keyPress","_keyPress1","OnSubmit","AccountCreationStageComponent","dialogService","dialog","isAccountCreationStageDone","isAccountCreateDetails","isOfferAcceptReject","OfferAcceptRejectSummaryDialog","AccountCreateSummaryDialog","DigitalSigningComponent","cdr","informations","isEsignScreen","markForCheck","item","state","LoanViewSummaryComponent","dialogRef","loanDetails","edit","LoanRepaymentComponent","loanRepaymentForm","type_of_repayment","first_repayment_date","maturity_date","loan_tenure","repayment_mode","repayment_frequency","customer_account","moratorium_period","branch_code","reusable","opacity","params","delay","scale","x","y","z","rumangoAnimations","display","PostOfferAmendmentComponent","appApiService","selectedDay","days","months","years","setDate","getDate","selectedYear","getFullYear","year","month","day","ispostOfferAmendStageDone","getAmendDetails","fetchByCif","loanData","intrestData","installmentTypeData","getOfferAmendmentDetails","result","offerIssueDate","offerExpiryDate","offerAmendDate","PostOfferAmendmentForm","applicantName","installmentType","margin","loanAmmountRecommended","rateOfInterest","input","rate","loanValue","margin1","effectiveRate1","now2","dateStringWithTime2","renewData","aprloan","uploadPostOfferAmendmentDetails","inp","cifNumber","customerInfoList","firstName","lastName","fetchByLoanAccountId","split","fetchLoanAssessment","loanAmountRecommendation","getOfferAcceptReject","issueDate","submit","guarantorDetailsForm","GuarantorDetailsComponent","active","arrayCountry","arrayState","arrayCity","arrayRelationshipType","tomorrow","prefixFlag","isDuplicateCIF","disableSaveBtn","financialDetailscreen","getCountryName","getAllAuthCities","getRelationShipType","getPrefixValue","numOfApplicants","getGuarantorDetails","cifByData","country","getStateName","relationWithCustomer","prefix","existingCustomer","middleName","dateOfBirth","address1","address2","city","zipCode","phoneNumber","mobileNumber","emailAddress","relationshipType","getGuarantorByLoanAccId","guarantorDetails","key","getDropDownValues","arrayPrefix","getAllCountries","authStatus","countryName","sort","isAdd","getStateByCountryId","getAuthorizedCityInfo","map","r","cityName","customerId","customerTypeId","userAddress","upsertGuarantorDetails","fetchCustomersByLoanAccId","customerInfoDetails","newData","cifValue","some","landlineNumber","primaryEmailAdress","zipcode","fetchStateCityByZipcode","stateName","submitForm","UserAddress","AdmissionDetailsComponent","isAdmissionDetailscreen","getAdmissionDetails","admissionDetailsForm","loanRequestedFor","modeOfStudy","institution","specialization","employmentPotential","costOfCourse","scholarshipOrBusinessEligible","admissionStatus","institutionRanking","courseCommencementDate","convertDate","dateValue","courseDuration","proposedCourseOfStudy","university","projectedEarning","source","getAdmissionDetailsByLoanAccId","addmissionDetails","upsertAdmissionDetails","d1","d2","getMonth","dateRangeStart","dateRangeEnd","arrayDate1","date1","arrayDate2","date2","monthDiff","date","PostOfferAmendStageComponent","isOfferIssueRejectScreen","width","backdropClass","height","disableClose","afterClosed","animations","AccountApprovalStageComponent","isAccountApproveStageDone","isAssessmentStageDone","isOfferAcceptRejectStageDone","isLoanSummaryStageDone","LoanDetailsComponent","flag","flag1","isHomeLoan","isVehicleLoan","loanForm","businessProductName","accountBranch","estimatedCost","customerContribution","loanAmount","purposeOfLoan","accountCurrency","getAccountBranchDetails","isLoanDetailsScreen","getAccountDetails","getBusinessProductDetails","accountDetails","getBusinessProductName","arrayAccountBranch","getAccount","accountTypeName","getAccountBranch","screenArray","screenArrayData","branchName","currencyData","find","undefined","branchCcy","valueForaccId","setAccountId","screennbame","toLowerCase","resultOfScreen","filter","s","includes","ck","prSize","saveLoanDetails","assign","statusModel","status","updateLoanDetailsStatus","sessionStorage","loanAccountid","fundStatus","toString","Number","income","OfferissueComponent","_document","generateArr","otherDocumentArray","files","fileName","showDelete","documentUploaded","OfferIssueForm","installmentFrequency","generateOffer","interest","principal","installmentAmount","charges","isOfferIssueScreen","buildOfferIssueForm","file","name","type","selectedFiles","uploadDoc","url","img","uploadData","FormData","append","getOfferIssueDetails","collaterals","docUrl","showSpinn","screenType","stringify","uploadOfferDocument","fileUrl","details","upsertOfferIssue","Next","approvedLoan","sal","replace","final","join","dataYear","dataMonth","dataDay","onInput","uploadCollateralType","deleteDoc","Submit","Document","report","OfferAcceptRejectSumaryComponent","dataService","fetchOfferAcceptRejectDetails","getofferDetails","offerDetails","sendNavParam","AssetValuationComponent","bankValuationArr","areaArr","assetValuation","bankValuation","assetType","propertyAreaSize","assetValue","actualPropertyAreaSize","actualPropertyAreaInUnits","isAssetValuationScreen","getAssetValuation","saveOrValuationOfAsset","marketValue","keyPress1","LegalOpinionComponent","lawyerArr","descriptionArr","legalOpinion","isLegalOpinionScreen","getLegalOpinionDetails","getLegalOpinion","UpdateLegalOpinion","assetArea","onInput1","AssessmentSummaryComponent","fetchAssessmentDetails","getAssessmentDetails","items","LoanAssesmentStageComponent","isLoanQualitativeScoreboard","isLoanAssessmentDetails","getApplnAssessmentDetails","assessmentReportSummary","loanQualitativeSummaryDialog","loanAssessmentSummaryDialog","AccountCreationSummaryComponent","titleName","getAccountCreateDetails","offerAcceptReject","offerAcceptRejectvalue","accountCreateDetails","accountCreateValue","done","UnderWrittingCreditRatingDetailsComponent","customerNames","customerName","getCustomerInformationDetails","buildCollateralForm","gettingCreditRatingDetail","gettingCreditRatingDetails","isResponse","creditForms","agencyRating","array","addModFormGroup","index","c","agencyId","agencyName","ratings","remarks","saveCreditDetails","OfferAcceptRejectDetailsComponent","_location","customerResponse","buildOfferAcceptRejectForm","offerAcceptRejectForm","offerAcceptOrRejectId","dateOfOfferAcceptOrReject","generateDate","offerAcceptDate","expiryDate","AccountCreateDetailsComponent","offerAcceptedDate","accountCreateId","disbursementAmount","repaymentAmount","buildaccountForm","interestLoadData","dataLoad","saveAccountCreateDetails","acceptDate","offerAcceptOrRejectDate","getingOfferIssueDetails","loanDisbursementFetchById","totalDisbursement","letterOnly","AcceptOfferAcceptRejectComponent","disableDone","isAssesmentDetailsScreen","arraySystemRecommendation","installmentTypes","offeracceptForm","buildOfferAcceptForm","now3","dateStringWithTime3","LoanAccountComponent","isChargesScreen","isOfferIssueScreenDone","isSupervisorApprovalDone","isApprovedDetails","isCreditRatingScreen","isValuationAssetScreen","islegalOpinionScreen","isLoanEnrichmentDone","isLoanDisbursementDetails","isLoanRepaymentDetails","isChargeDetails","isAccountServices","isLoanApplicationEntryDone","isLoanDetailScreen","isAssetsDetailScreen","isVehicleDetailScreen","isAdmissionDetails","isCustomerInformation","isMandateDetails","isFinancialDetails","isCollateralDetails","isGuarantorDetails","isUnderWritingStageDone","isEducationLoan","isPostOfferAmendStageDone","isPostOfferAmendment","isAccountCreditStage","isDigitalSigningDone","isDigitalSigning","isLoanEnrichment","isLoanAssessmentStageScreen","isApprovalScreen","isSupervisorapprovalScreen","isOfferIssueStageScreen","isOfferIssueRejectStageScreen","isPostAmmendementStageScreen","isPostAmmendementScreen","isAccountCreateDetailsScreen","isAccountCreationStageScreenDone","accountItemsSub","accountItems$","menuItem","accountItems","overDraftByStatus1","isActive","sendApprovedStatus","unsubscribe","goApproved","assetForm","AssetDetailsComponent","loanaccountId","isAssetDetailscreen","getAssetDetails","getAssetails","assetDetails","mortgagedBranch","dimensions","assetStatus","homeType","building","street","locality","upsertAssetDetails","UploadSignOrEsignComponent","isDone","previousUrl","image","imageURL1","screen","navigateByUrl","skipLocationChange","then","isSignLater","show","selectedFile","reader","FileReader","readAsDataURL","onload","event2","cId","documentName","documentType","fileType","verificationType","upload","doConfirmDialog","removeItem","profileFile","nativeElement","deleteCustomerDoc","profileId","LoanChargeDetailsSummaryComponent","chargeFormIT","chargeIT","loanCahrgeFetchById","amout","waiver","craetedBy","form","UnderwritingStageSummaryComponent","loanAccountID","getApprovedStatus","isApprovedSreen","getunderwritingStageSummaryDetails","gettingUnderWritingSummary","summaryInfo","ValuationDetailsValues","valuationOfAssetInfo","opinionDetailsValue","legalOpinionInfo","creditDetails","creditRatingValues","LoanDisbursementComponent","loanDisbursementForm","loan_amount","first_disbursement_date","disbursement_mode","disbursement_frequency","CreditRatingDetailsComponent","agencyArr","customerArr","isCreditRateScreen","getCreditRating","UpdateCreditRating","AccountServicesComponent","flag2","flag3","flag4","flag5","flag6","AccountServicesFetchById","buildStatmentPreferenceForm","serviceDetails","obj","serviceName","buildMaturityForm","buildRevisionForm","buildHolidayForm","statementPreferencesForm","statementCycle","statementType","statementGeneration","startDate","lastData","accServiceId","holidayPreferenceForm","ignoreHolidays","holidayCheck","moveAcrossMonth","cascadeSchedules","accServiceDetailsId","accountServiceId","maturityForm","revisionForm","latest_date","toISOString","substring","obj_test","saveAccountService","clickToggle1","clickToggle4","clickToggle2","clickToggle5","clickToggle3","clickToggle6","LoanAssessmentDetailsComponent","route","confirmService","elRef","renderer","urlService","submitted","arrayUserRecommendation","arrrayResidence","arrayDocumentType","arrayGender","arrayResidence","arrayAddressType","applicantDetails","isCifValid","selectedApplicant","listOfAccounts","isAccountOpenScreen","formData","applicantDetailsArray","customerDetails","validDate","showNewForm","toggleClick","addFunc","removedButton","isAllSameDigitVal","isInvalid","loanAssessmentForm","applicantId","snapshot","cifNumberPrimary","getListOfAccounts","buildCustomerForm","subscription","getaccParam","displayResponse","isObjectEmpty","previousUrl$","gender","addressType","pinCode","email","getCustomerInformationDetailsById","applicantForms","productAccountId","ownership","addCustFormGroup","Object","prototype","call","applicantData","primaryCustomer","applicant","updateLoanAssessmentDetails","reset","closeDetails","enable","onlySelf","reData","account","disable","emitEvent","address","payLoadModel","dependentId","_id","Math","round","random","element","toggleChanges","setValidators","updateValueAndValidity","clearValidators","minLength","maxLength","invalid","payloadObj","control","addressObj","addressObjArray","count","number","loanTenureData","requestLoan","loanRecommendation","updateAssessmentDetails","num","numb","onChange","OnInput","goNext","progressBar","PostOfferAmendmentSummaryComponent","fetchPostOfferAmendmentDetails","CustomerInformationComponent","cifNumberForm","listOfCustByCif","customerIdProofs","isBirthCountry","isZipValid","productName","getOwnershipValue","getGenderValue","getResidenceDetails","getAdressType","getDocumentType","getMaritalStatus","dataExtracted","customerInfoForm","valueChanges","ownershipStatus","noOfapplicants","pipe","prev","clearTimeout","timer","doc","idProofs","idType","idNumber","placeOfBirth","birthCountry","maritalStatus","residenceStatus","nationality","countryOfResidence","occupationType","custIdProofs","onSelectionCountryOfresidence","onSelectionBirthCountry","onSelectionCitizenship","confirm","title","message","ok","cancel","deleteApplicant","text","isExistingCustomer","acc","fetchAccountIdByCustId","accountNo","citizenship","alertForCustomerDialog","excludedKeys","maritalStatusList","arrayOwnership","custIdProofsArray","createAndUpdateAccountants","custDependentModel","goToNext","birthCountryImage","countryCurrencyFlaglists","currencyId","currencyCode","citizenshipImage","countryResidenceImage","RepaymentScheduleComponent","scheduleStatus","localStorage","paymentDate","AccountApprovalDetailsSummaryComponent","accountApprovalStageSummary","OfferAssessmentComponent","offerAssessmentFormGroup","updateAssessment","ValuationOfAssetsComponent","borrowersMktValOfAsset","forcedSaleValue","faceValOfAsset","gettingValuationDetail","valuationId","saveValuationDetails","LoanEnrichmentComponent","loanInterestDetailsScreen","loanDisbursementDetailsScreen","loanRepaymentDetailsScreen","loanChargeDetailsScreen","loanAccountServicesScreen","isLoanApplicationEnrichementDone","UnderwritingStageComponent","loanAccId","creditRatingSummaryDialog","valuationAssetsSummaryDialog","legalOpinionSummaryDialog","LoanRepaymentComponentComponent","accountNoArr","getRepaymentFreqDetails","getRepaymenttDetails","loan_repayment_frequency","getRepaymentFreq","repaymentFreq","loanRepaymentFetchById","repaymentDetails","branchCode","customerAccount","bankName","firstRepaymentDate","fRepayment","loanRepaymentId","maturityDate","moraturioumPeriod","repaymentFrequency","repaymentMode","typeOfRepayment","scheduleLink","internalAccount","year1","month1","day1","yr","add","finalDate","fetchRescheduleData","latest_dateMaturity","loanRepaymentSave","fetchByValue","fetchByBranchCode","LoanEntryStageComponent","isAdmissionDetailScreen","isFinancialDetailScreen","isMandateDetailScreen","isGuarantorDetailScreen","isCustomerInformationScreen","isCollateralDetailsScreen","isAnyScreen","isCustomerDetailScreen","maxHeight","loanDetailsSummaryDialog","assetDetailsSummaryDialog","vehicleDetailsSummaryDialog","loanAppEntryStageViewSummary","SupervisorApprovedDetailsComponent","appEntryService","isLinear","stepper","_getIndicatorType","NUMBER","getLoanEntryStageInfo","loanResp","fetchCustomersByLoanAccIdForViewSummary","custResp","customerInfoResp","customerInfo","Back","Done","AssessmentDetailsComponent","buildAssessmentForm","finalRate","assessmentDetails","OfferAcceptRejectStageComponent","isQualitativeScreen","isReportScreen","overdraftStatus","overDraftByStatus","getData","offerAssessmentSummaryDialog","offerIssueSummaryDialog","offerAcceptRejectSummaryDialog","SupervisorApprovalStageComponent","loanApprovedDetailsScreen","addDetails","LoanRepaymentSummaryComponent","goToClose","LoanChargeDetailsComponent","chargeInfo","chargeDetailsId","loanchargeSave","checked","LoanDisbursementSummaryComponent","CheckboxVar","mutipleDisbursementRequired","goToEdit","OfferIssueStageComponent","assetValutionSummaryDialog","legalopinionSummaryDialog","offeredAssessmentSummaryDialog","offerIssue1SummaryDialog","CreditRatingDetailsDialog","LoanInterestSummaryComponent","savingForm","saving","loan","is","iloan","fs","floan","setFlag","FinancialDetailsComponent","financialDetails","isMonthlyIncome","disableNext","loggedInUser","noOfApplicants","getEmploymentType","getEmploymentCategory","financialDetailsForm","financialDetails_array","addApplicant","getFinancialDetails","applicantTotalIncome","applicantTotalExpense","lastUpdatedon","employmentStartDate","employmentEndDate","assetTotal","liabilityTotal","employmentType","employmentCategory","employeeNumber","officeName","designation","bonus","business","interestIncome","pension","salary","monthlyExpenseRentals","monthlyExpenseTotal","cashGifts","assetOthers","liabilityOthers","monthlyExpenseOthers","monthlyIncomeOthers","monthlyIncomeRentals","monthlyIncomeTotal","household","medical","education","travel","vehicleMaintenance","propertyLoan","vehicleLoan","personalLoans","cardOutstandings","overdraft","savingDeposits","stocks","properties","automobiles","fixedDeposits","lands","validator","formGroup","validateInputGroups","formgroup","incomeErrMsg","ExpensesErrMsg","LiabilitiesErrMsg","assetErrMsg","createFinancialDetail","getFinancialDetailsByLoanAccId","financialDetailsList","payloadArray","upsertfinancialDetailsLoan","arrayEmploymentType","arrayEmploymentCategory","formArray","totalMonthlyIncome","totalIncome","totalAsset","totalMonthlyExpense","totalExpenses","totalLiability","totalMonthlyLiability","totalMonthlyAsset","LoanEnrichmentViewSummaryComponent","appEntrySummaryView","getLoanEnrichmentDetails","onloanCharge","in2","getLoanEnrichmentSummmary","intererstInfo","disbursementInfo","repaymentInfo","accServiceInfo","maturity","revision","holiday","cascadeVarMaturity","cascadeVarRevison","cascadeVarHoliday","ignoreHolidayVarMaturity","ignoreHolidayVarRevison","ignoreHolidayVarHoliday","f2","LoanAccountRoutes","path","component","children","redirectTo","pathMatch","breadcrumb","EsignPopComponent","signaturePadOptions","signupload","signaturePad","set","clear","toDataURL","imageurl","base64Data","signatureImg","getByAccountId","getAccountIdByCusId","dataURL","datam","atob","asArray","Uint8Array","len","charCodeAt","blob","Blob","uploadDocument","op","accountdetailsForStatusUpdate","updateAccountStatus","accData","updateResp","OfferAssessmentDetailsComponent","MandateDetailsComponent","panelOpenState","mandateId","mandateInfo","mandateInfo_array","isMandateDetailscreen","getMandateDetails","addMandate","getMandateDetailsByLoanAccId","mandateDetails","mandateDetailsForm","registered","collateralShare","repaymentShare","mandateDetailsId","createMandateDetail","applicantNameFetch","upsertMandateDetails","LoanAccountModule","provide","useValue","forChild","declarations","imports","providers","PostOfferAmendmentStageSummaryComponent","getViewSummary","getOfferAmendDetails","collateralDetailsForm","CollateralDetailsComponent","collateralId","collateralInfo","collateralInfo_array","getCollateralType","getRateValue","collateralDetailscreen","getCollateralDetails","collateralType","collateralCurrency","collateralValue","attributes","thirdPartyCollateral","noOfCollateral","totalCollateralValue","utilizedPreviously","secondaryChargeAllowed","coverAvailable","collateralDetailsId","createCollateralDetail","getCollateralByLoanAccId","collateralDetails","populateCollateral","j","collateralData","arrayCollateralType","arrayRateValue","upsertCollateralDetails","utilPrev","coverAvail","totalColVal","DigitalSignInNowOrLaterComponent","show1","alertForLoanFinishButton","subject","esignLink","signInLater","alertForLoanSignLater","openPopUp","onDone","LoanDisbursementDetailsComponent","getDisbursementDetails","disbursementDetails","lsLoanAmount","loanDisbursementId","numberOfDisbursement","firstDisbursementDate","disbursementMode","loanDisbursementSave","OfferIssueComponent","VehicleDetailsComponent","policyNumber","getVehicleDetails","vehicleDetails","vehicleForm","insuranceDetails","distanceRun","engineNumber","expectedSellingPrice","insuranceCompany","model","policyCommencementDate","policyRenewalDate","premiunAmount","premiunFrequency","maker","hypothecatedBranch","registrationCity","registrationNumber","registrationState","vehicleClass","chassisNumber","make","entityName","getDropDownValues1","prAmmount","saveVehicleDetails","OfferAcceptRejectComponent","buildofferForm","offerForm","accept","saveOfferAcceptReject","LoanQualitativeScoreboardComponent","sbMultiSelectAnswer","scoreboardQuestionsArray","scoreCardMappingArray","numberOfApplicant","scoreCardId","isDataSaved","disableDoneBtn","anyErrorExist","sbSelectAnswer","isQualitative","no_of_applicants","isScoreCardScreen","getAllQualitative","loadData","Array","getScorecardQuestions","n","scorecardQuestion","scoreCardDetails","mapDataAns","p","scoreCardQuestionId","scorecardAnswer","scoreCardMappingId","getLoanQualitativeScorecardDetails","qualitativeScoreboardSummary","scoreCardMapping","scAns","answer","qtype","mapId","applcantId","scorevalue","dataUpdated","aplcntExists","m","dataOject","idx","answerIs","inputValue","validationName","eleid","setStyle","querySelector","isNaN","selectValue","saveData","scoreData","getAssessmentReportDetails","submitData","saveQualitativeScorecard","saveQualitativeScore","PostOfferIssueComponent","applicant_name","instalment_frequency","offer_issue_date","account_type","AccountServiceSummaryComponent","LoanSummaryDetailsComponent","loanSummaryForm","productCode","hostProductCode","hostProductDescription","interestRate","repaymentMethod","assessmentApprovalMethod","offerApprovedDate","approverID","stage","userAction"],"mappings":"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A;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAA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","file":"views-loan-account-loan-account-module-es5.js","sourcesContent":["import { Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { AppLoaderService } from \"app/shared/services/app-loader/app-loader.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { AccountService } from \"../../account.service\";\r\n\r\n\r\n@Component({\r\n  selector: \"app-loan-intrest-details\",\r\n  templateUrl: \"./loan-intrest-details.component.html\",\r\n  styleUrls: [\"./loan-intrest-details.component.scss\"],\r\n})\r\nexport class LoanIntrestDetailsComponent implements OnInit {\r\n  interestForm: FormGroup;\r\n  accountId: any;\r\n  intrestFlag: Boolean;\r\n  interestResp: any;\r\n  showEditOption: boolean = false;\r\n  resp: {\r\n    intrestType: string;\r\n    intrestRateApplicable: string;\r\n    marginIn: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  accountType: String = \"Home Loan\";\r\n  loanaccountID: any;\r\n  loanInfo: any;\r\n  constructor(\r\n    private accountService: AccountService,\r\n    private snack: MatSnackBar,\r\n    private ls: LocalStoreService,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private loader: AppLoaderService,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.accountId = this.ls.getItem(\"accountId\");\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    // this.resp=[{\"intrestType\": \"Fixed Rate\",\r\n    // \"interestRateApplicable\":\"5%\",\"marginIn\":60,\"effectiveRate\":10},\r\n    // {\"intrestType\": \"Penalty Rate\",\r\n    // \"interestRateApplicable\":\"5%\",\"marginIn\":60,\"effectiveRate\":10},\r\n    // {\"intrestType\": \"Tax Rate\",\r\n    // \"interestRateApplicable\":\"5%\",\"marginIn\":60,\"effectiveRate\":10}]\r\n\r\n    let isLoanInterestDetails = this.ls.getItem('LOAN_INTERST_DETAIL_DONE');\r\n    setTimeout(() => {\r\n      if (this.loanaccountID != null && isLoanInterestDetails) {\r\n        this.showEditOption = true;\r\n        \r\n        this.getInterestDetails();\r\n      } \r\n      else {\r\n        console.log(\"else\");\r\n        this.showEditOption = false;\r\n        this.api\r\n        .getFlexcubeDetails(\"intrestDetails\", this.accountType)\r\n        .subscribe((response) => {\r\n          this.onChangeInterest(response.length);\r\n          this.in.patchValue(response);\r\n        });\r\n      }\r\n    }, 10);\r\n  \r\n\r\n    this.interestForm = this.formBuilder.group({\r\n      interestInfo: new FormArray([]),\r\n    });\r\n  \r\n  }\r\n  assign(accountId) {\r\n    // this.accountId = accountId;\r\n  }\r\n\r\n  getInterestDetails(){\r\n    this.loader.open();\r\n    this.api.loanInterestFetchById(this.loanaccountID).subscribe((resp) => {\r\n      this.loader.close();\r\n      console.log(\"resp from backend \", this.resp);\r\n      this.resp = resp;\r\n      this.onChangeInterest(this.resp.length);\r\n      this.in.patchValue(this.resp);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n\r\n    \r\n  }\r\n  onChangeInterest(e) {\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            rateCode:[\"\",Validators.required],\r\n            intrestType: [\"\", Validators.required],\r\n            intrestRateApplicable: [\"\", Validators.required],\r\n            marginIn: [\r\n              \"\",\r\n              [Validators.required, Validators.max(100), Validators.min(0)],\r\n            ],\r\n            effectiveRate: [\r\n              \"\",\r\n              [Validators.required, Validators.max(100), Validators.min(0)],\r\n            ],\r\n            loanAccountId: [this.loanaccountID],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n            loanInterestId: [\"\"],\r\n            id: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.interestInfo as FormArray;\r\n  }\r\n\r\n  goBack() {\r\n \r\n    this.router.navigate([\r\n      `/loan/account/application-enrichment`,\r\n    ]);\r\n  }\r\n  \r\n  appendPercentage(event) {\r\n    // console.log(event.key)\r\n    console.log(event.target.value);\r\n\r\n    if (!event.target.value.length) return;\r\n\r\n    if (event.target.value.length === 1) {\r\n      event.target.value = `${event.target.value}%`;\r\n    }\r\n    if (event.target.value.length > 1) {\r\n      event.target.value = `${event.target.value.slice(0, -1)}%`;\r\n    }\r\n  }\r\n\r\n  onSubmit() {\r\n    this.api.loanintrestDetailsSave(this.interestForm.value).subscribe(\r\n      (resp) => {\r\n        this.snack.open(\"Interest Details Saved!\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n        this.next();\r\n        console.log(\"backend response from intrest saving\", resp);\r\n      },\r\n      (err) => {\r\n        this.snack.open(\r\n          \"Not able to connect to server!\",\r\n          \"INTERNAL SERVER ERROR\",\r\n          {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          }\r\n        );\r\n      }\r\n    );\r\n    \r\n  }\r\n  \r\n  next() {\r\n    this.ls.setItem('LOAN_INTERST_DETAIL_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/loan/account/application-enrichment/loan-disbursement`]);\r\n  }\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"Interest detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n}","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/loanInterest.svg\" alt=\"\" class=\"w-80\" />\r\n    </div>\r\n\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Interest Details</b></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\" class=\"m-333\">\r\n\r\n    <div class=\"mt-24\"></div>\r\n    <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\" class=\"chargeForm\">\r\n      <!-- <div class=\"spanDivider1\">\r\n        <span class=\"span\">Interest Details\r\n        </span>\r\n        <mat-divider class=\"divider\"></mat-divider>\r\n      </div> -->\r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Interest Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <table class=\"cart-table\">\r\n        <thead class=\"tr\">\r\n          <tr class=\"theadClass\">\r\n            <!-- <th>Rate Code</th> -->\r\n            <th>Interest Type</th>\r\n            <th>Interest Rate Applicable</th>\r\n            <th>Margin in %</th>\r\n            <th>Effective Rate %</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let interestInfo of in.controls; let i = index\" class=\"tableRow\">\r\n            <ng-container [formGroup]=\"interestInfo\">\r\n              <!-- <td>                 \r\n                <mat-card class=\"matCardBox\">\r\n                  <input class=\"input\" matInput formControlName=\"rateCode\" name=\"rateCode\"\r\n                    placeholder=\"Rate Code\" readonly/>\r\n                </mat-card>\r\n             </td> -->\r\n              <td>               \r\n                <mat-card class=\"matCardBox\">\r\n                  <input class=\"input\" matInput formControlName=\"intrestType\" name=\"intrestType\"\r\n                    placeholder=\"Interest Type\" readonly/>\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <mat-card class=\"matCardBox\">\r\n                  <div class=\"field\">\r\n                  <input class=\"input\" matInput formControlName=\"intrestRateApplicable\" name=\"intrestRateApplicable\"\r\n                    placeholder=\"Interest Rate Applicable\" readonly/>\r\n                  </div>\r\n                    <span>&#37;</span>\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <mat-card class=\"matCardBox\">\r\n                  <div class=\"field\">\r\n                  <input class=\"input\" matInput formControlName=\"marginIn\" name=\"marginIn\" type=\"number\"\r\n                    placeholder=\"Margin\" readonly/>\r\n                  </div>\r\n                    <span>&#37;</span>\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <mat-card class=\"matCardBox\">\r\n                  <div class=\"field\">\r\n                   <input class=\"input\" matInput formControlName=\"effectiveRate\" name=\"effectiveRate\"\r\n                    placeholder=\"Effective Rate\" value=\"\" readonly/>\r\n                  </div>  \r\n                  <span>&#37;</span>\r\n                </mat-card>\r\n              </td>\r\n            </ng-container>\r\n\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n  </div>\r\n\r\n  <div fxFlex=\"100\" class=\"mt-16\">\r\n    <a mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">Back</a>\r\n    <span fxFlex></span>\r\n    <button mat-raised-button color=\"primary\" type=\"button\" [disabled]=\"!interestForm\" class=\"Nextbtn\"\r\n      (click)=\"onSubmit()\">Next</button>\r\n  </div>\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-supervisor-assessment-details',\r\n  templateUrl: './supervisor-assessment-details.component.html',\r\n  styleUrls: ['./supervisor-assessment-details.component.scss']\r\n})\r\nexport class SupervisorAssessmentDetailsComponent implements OnInit {\r\n  assessmentForm:FormGroup;\r\n  constructor(private fb:FormBuilder) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildformGroup();\r\n  }\r\n\r\n  buildformGroup(){\r\n    this.assessmentForm = this.fb.group({\r\n      requestedLoanAmount:[''],\r\n      rateofInterest:[''],\r\n      userRecommendation:[''],\r\n      approvedLoanAmount:[''],\r\n      loanTenure:[''],\r\n      systemRecommendation:[''],\r\n      loanAmountRecommended:[''],\r\n      finalLoanTenure:[''],\r\n    })\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/Group 673.svg\" alt=\"\" class=\"w-90\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Assesment Details</b></div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0\">\r\n        <mat-card-title class=\"\">\r\n          <div class=\"card-title-text\">Assesment Details</div>\r\n          <mat-divider></mat-divider>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n          <form *ngIf=\"assessmentForm\" [formGroup]=\"assessmentForm\">\r\n\r\n                 <div fxLayout=\"row\" class=\"pt-16\" fxLayoutGap=\"30px\" fxLayoutAlign=\"start center\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                          <div class=\"pb-1\">\r\n                            \r\n                                <mat-hint class=\"pl-3\">Requested Loan Amount</mat-hint>\r\n                                <mat-card type=\"input\">\r\n                                <input\r\n                                class=\"alignment\"\r\n                                  matInput\r\n                                  name=\"requestedLoanAmount\"\r\n                                  placeholder=\"Requested Loan Amount\"\r\n                                />\r\n                              </mat-card>\r\n                          </div>\r\n    \r\n            \r\n                          <div class=\"pb-1\">\r\n                                <mat-hint class=\"pl-3\"> Rate of Interest</mat-hint>\r\n                                <mat-card type=\"input\">\r\n                                <input\r\n                                class=\"alignment\"\r\n                                  matInput\r\n                                  name=\"rateofInterest\"\r\n                                  placeholder=\"Rate of Interest\"\r\n                                />\r\n                              </mat-card>\r\n                          </div>\r\n    \r\n                          <div class=\"pb-1\">\r\n                                <mat-hint class=\"pl-3\">User Recommendation</mat-hint>\r\n                                <mat-card type=\"input\">\r\n                                <input\r\n                                class=\"alignment\"\r\n                                  matInput\r\n                                  name=\"userRecommendation\"\r\n                                  placeholder=\"User Recommendation\"\r\n                                />\r\n                              </mat-card>\r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                          \r\n                                <mat-hint class=\"pl-3\">Approved Loan Amount</mat-hint>\r\n                                <mat-card type=\"input\">\r\n                                <input\r\n                                class=\"alignment\"\r\n                                  matInput\r\n                                  name=\"approvedLoanAmount\"\r\n                                  placeholder=\"Approved Loan Amount\"\r\n                                />\r\n                              </mat-card>\r\n                          </div>\r\n                          <div class=\"pb-1\">\r\n                                <mat-hint class=\"pl-3\">Final Rate</mat-hint>\r\n                                <mat-card type=\"input\">\r\n                                <input\r\n                                class=\"alignment\"\r\n                                  matInput\r\n                                  name=\"approvedLoanAmount\"\r\n                                  placeholder=\"Approved Loan Amount\"\r\n                                />\r\n                              </mat-card>\r\n                          </div>\r\n\r\n                       \r\n    \r\n                        </div>\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                    <mat-hint class=\"pl-3\">Loan Tenure</mat-hint>\r\n                                    <mat-card type=\"input\">\r\n                                    <input\r\n                                    class=\"alignment\"\r\n                                      matInput\r\n                                      name=\"loanTenure\"\r\n                                      placeholder=\"Loan Tenure\"\r\n                                    />\r\n                                  </mat-card>\r\n                              </div>\r\n      \r\n              \r\n                            <div class=\"pb-1\">\r\n                                <mat-hint class=\"pl-3\">System Recommendation</mat-hint>\r\n                                <mat-card type=\"input\">\r\n                                <input\r\n                                class=\"alignment\"\r\n                                  matInput\r\n                                  name=\"systemRecommendation\"\r\n                                  placeholder=\"System Recommendation\"\r\n                                />\r\n                              </mat-card>\r\n                            </div>\r\n      \r\n                            <div class=\"pb-1\">\r\n                                    <mat-hint class=\"pl-3\">Loan Amount Recommended</mat-hint>\r\n                                    <mat-card type=\"input\">\r\n                                    <input\r\n                                    class=\"alignment\"\r\n                                      matInput\r\n                                      name=\"loanAmountRecommended\"\r\n                                      placeholder=\"Loan Amount Recommended\"\r\n                                    />\r\n                                  </mat-card>\r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                                    <mat-hint>Final Loan Tenure</mat-hint>\r\n                                    <mat-card type=\"input\">\r\n                                    <input\r\n                                    class=\"alignment\"\r\n                                      matInput\r\n                                      name=\"finalLoanTenure\"\r\n                                      placeholder=\"Final Loan Tenure\"\r\n                                    />\r\n                                  </mat-card> \r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field style=\"visibility: hidden;\" appearance=\"outline\" class=\"full-width\">                                   \r\n                                    <input\r\n                                    class=\"alignment\"\r\n                                      matInput\r\n                                    />\r\n                                  </mat-form-field> \r\n                            </div>\r\n                        </div>\r\n                </div>\r\n\r\n                \r\n\r\n                <div\r\n                fxLayout=\"row\"\r\n                fxLayoutAlign=\"space-between center\"\r\n                fxLayoutGap=\"16px\"\r\n                class=\"mt-32\"\r\n              >\r\n                <button mat-button rounded color=\"primary\">\r\n                  Back\r\n                </button>\r\n                <button\r\n                  mat-raised-button\r\n                  color=\"primary\"\r\n                >\r\n                Next\r\n                </button>\r\n              </div>\r\n         \r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n  \r\n    </div>\r\n  </div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/home/account.service';\r\nimport * as moment from 'moment';\r\nimport { date } from 'ngx-custom-validators/src/app/date/validator';\r\nimport { DatePipe } from '@angular/common'\r\n@Component({\r\n  selector: 'app-legal-opinion',\r\n  templateUrl: './legal-opinion.component.html',\r\n  styleUrls: ['./legal-opinion.component.scss']\r\n})\r\nexport class UnderWrittingLegalOpinionComponent implements OnInit {\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  accountForm: FormGroup;\r\n  isCreditRatingDetails: any;\r\n  isValuationofAsset: any;\r\n  isLegalOpinion: any;\r\n  loanaccountID: any;\r\n  showEditOption: boolean = false;\r\n  isChecked = true;\r\n  disabled = true;\r\n  disabledToggle = true;\r\n  loanInfo: any;\r\n  opinionData: any;\r\n  constructor(private formBuilder: FormBuilder, private apiService: ApiService,public datepipe: DatePipe,\r\n    private loader: AppLoaderService,private snack: MatSnackBar,private api: ApiService,\r\n    private ls: LocalStoreService, private router: Router,private accountService:AccountService ) {\r\n      this.accountForm= this.formBuilder.group({\r\n        assetAreaSize: ['',[Validators.required]],\r\n        description:['',[Validators.pattern(\".*[a-zA-Z].*\")]],\r\n        lawyerName:['',[Validators.required,Validators.pattern(\".*[a-zA-Z].*\")]],\r\n        mktValOfAsset: ['',[Validators.required]],\r\n        opinion:['',[Validators.required]],\r\n        isDecisionFavorable:[''],\r\n        opinionDate:['',Validators.compose([ Validators.required, Validators.min(this.opinionData)])],\r\n        valuationDate:['',Validators.compose([ Validators.required, Validators.min(this.opinionData)])],\r\n        assetAreaInUnits:['',[Validators.required]],\r\n      })\r\n     }\r\n\r\n  ngOnInit(): void {\r\n       \r\n    //this.isLegalOpinion = this.ls.getItem('LEGAL_OPINION_DONE');\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    console.log(\"this.productaccountID1\",this.loanaccountID);\r\n    let isVehicleDetailsScreen: boolean = JSON.parse(this.ls.getItem('LEGAL_OPINION_DONE'));\r\n    //if (this.loanAccountId != null && isVehicleDetailsScreen) {\r\n      setTimeout(() => {\r\n        if (this.loanaccountID!= null && isVehicleDetailsScreen) {\r\n          this.showEditOption = true; \r\n          this.gettingLegalOpinionDetail();\r\n        } \r\n        else {\r\n          console.log(\"else\");\r\n          this.showEditOption = false;\r\n          this.buildAccountForm();\r\n        }\r\n      }, 10);\r\n    this.valueData();\r\n    this.lastUpdateByCif();\r\n    //this.buildAccountForm();\r\n/*if(this.isLegalOpinion==false){\r\n  this.buildAccountForm();\r\n  }\r\nelse{\r\n  this.gettingLegalOpinionDetail();\r\n}*/\r\n   \r\n  \r\n  }\r\n  gettingLegalOpinionDetail() {\r\n    this.loader.open();\r\n    this.api.gettingLegalOpinionDetails(this.loanaccountID)\r\n      .subscribe((resp: any) => {\r\n        if(resp.opinion==\"Favourable\"){\r\n          this.isChecked=true;\r\n        }\r\n        else{\r\n          this.isChecked=false;\r\n        }\r\n        this.loader.close();\r\n       console.log(resp);\r\n       \r\n      this.buildAccountForm(resp,true);;\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n      \r\n    });\r\n   \r\n  }\r\n  toggle(event){\r\n    // let value = event.target.value;\r\n     console.log(\"value\",event);\r\n     if(event==\"Not Favourable\"){\r\n       this.disabled = false;\r\n       this.isChecked = false;\r\n       this.disabledToggle = false;\r\n \r\n     }\r\n     else if(event==\"Favourable\"){\r\n       this.disabled = true;\r\n       this.isChecked = true;\r\n       this.disabledToggle = true;\r\n     }\r\n     else{\r\n       this.isChecked = false;\r\n     }\r\n\r\n     \r\n \r\n   }\r\n  buildAccountForm(data?,Response?:boolean) {\r\n    data.opinionDate = data ? moment(data.opinionDate).format() : '';\r\n    data.valuationDate = data ? moment(data.valuationDate).format() : '';\r\n    console.log(data);\r\n    this.accountForm = this.formBuilder.group({\r\n      assetAreaInUnits: [data ? data.assetAreaInUnits:''],\r\n      assetAreaSize:[data ? data.assetAreaSize:0],\r\n      description:[data ? data.description:''],\r\n      isDecisionFavorable:[this.isChecked],\r\n      lawyerName:[data ? data.lawyerName:''],\r\n      //legalOpinionId:[data ? data.legalOpinionId:0,Validators.required],\r\n      loanAccountId:[this.loanaccountID],\r\n      mktValOfAsset:[data ? data.mktValOfAsset:''],\r\n      opinion:[data ? data.opinion:''],\r\n      opinionDate:[data ? data.opinionDate:''],\r\n      valuationDate:[data ? data.valuationDate:''],\r\n    });\r\n    console.log(\"this.accountForm\",this.accountForm);\r\n  \r\n  }\r\n // OnSubmit(val){\r\n  OnSubmit(){\r\n    //console.log(val,\"Values\")\r\n    // val.valuationDate= moment(val.opinionDate).format('YYYY-MMM-DD HH:mm:ss');\r\n   //val.opinionDate= moment(val.opinionDate).format('YYYY-MMM-DD HH:mm:ss');\r\n  // val.valuationDate= moment(val.valuationDate).format('YYYY-MMM-DD HH:mm:ss');\r\n    // this.ls.setItem('CREDIT_RATING_DONE', true);\r\n    let now = new Date();\r\n    now=this.accountForm.value.opinionDate;\r\n    var dateStringWithTime = moment(now).format('YYYY-MMM-DD HH:MM:SS');\r\n    let now1 = new Date();\r\n    now1=this.accountForm.value.valuationDate;\r\n    var dateStringWithTime1 = moment(now1).format('YYYY-MMM-DD HH:MM:SS');\r\n    var pk=this.accountForm.value.assetAreaSize;\r\n    pk= parseInt(pk);\r\n    console.log(\"pk\",pk);\r\n    let payload={\r\n      assetAreaInUnits:this.accountForm.value.assetAreaInUnits,\r\n      assetAreaSize:pk,\r\n      description:this.accountForm.value.description,\r\n      isDecisionFavorable:this.accountForm.value.isDecisionFavorable,\r\n      lawyerName:this.accountForm.value.lawyerName,\r\n      loanAccountId:this.loanaccountID,\r\n      mktValOfAsset:this.accountForm.value.mktValOfAsset,\r\n      opinion:this.accountForm.value.opinion,\r\n      opinionDate:dateStringWithTime,\r\n      valuationDate:dateStringWithTime1\r\n\r\n    }\r\n    this.api.saveLegalOpinion(payload).subscribe((data: any) => {\r\n      console.log(data);\r\n      if (data === 200 || data !== null) {\r\n        this.snack.open(' Legal Opinion Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.ls.setItem('LEGAL_OPINION_DONE', true);\r\n        this.isCreditRatingDetails = this.ls.getItem('CREDIT_RATING_DONE');\r\n        this.isValuationofAsset = this.ls.getItem('VALUATION_OF_ASSET_DONE');\r\n        this.isLegalOpinion = this.ls.getItem('LEGAL_OPINION_DONE');\r\n\r\n        if(this.isCreditRatingDetails == true && this.isValuationofAsset== true && this.isLegalOpinion ==true){\r\n           this.ls.setItem('underWritingStage', true);\r\n           this.next();\r\n        }\r\n      }\r\n      else if (data === 500) {\r\n        this.snack.open('Not able to connect to server!', 'INTERNAL SERVER ERROR', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      }\r\n    }, err => {\r\n      console.log(err);\r\n    });\r\n\r\n   this.router.navigate([`/loan/account/assessment/list`]);\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n  _keyPress1(e){\r\n    let val = e.target.value\r\n    if ((e.which === 32 && !val.length) || (e.keyCode >= 48 && e.keyCode <= 57) ) {\r\n    e.preventDefault();\r\n}\r\n  }\r\nnext(){\r\n  this.accountService.refresh.next();\r\n  this.router.navigate([`/loan/account/assessment/list`]);\r\n}\r\ngoBack(){\r\n   this.router.navigate([\r\n      `/loan/account/list/underwritingStage/valuationofassets`,\r\n    ]);\r\n}\r\nvalueData(){ \r\n    this.api.gettingValuationDetails(this.loanaccountID).subscribe(res=>{\r\n      console.log(res);\r\n      \r\n      this.accountForm.get('mktValOfAsset').setValue(res.mktValOfAsset);\r\n    }     \r\n      );  \r\n}\r\nlastUpdateByCif(){\r\n  this.apiService.getLoanDetails(this.loanaccountID).subscribe((resp:any)=>{\r\n   \r\n   this.opinionData = this.datepipe.transform(resp.applicationDate,\"yyyy-MM-dd\");\r\n console.log(this.opinionData);\r\n \r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/legal_opinion_screen.svg\" alt=\"\" class=\"w-90\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><h2>Legal Opinion</h2></div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0\">\r\n        <!-- <mat-card-title class=\"\">\r\n          <div class=\"card-title-text\">Legal Opinion</div>\r\n          <mat-divider></mat-divider>\r\n        </mat-card-title> -->        \r\n        <mat-card-title class=\"alignChange\">\r\n          <fieldset>\r\n          <legend visible=\"true\">Legal Opinion</legend>\r\n          </fieldset>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n          <form  [formGroup]=\"accountForm\">\r\n            <!-- <mat-spinner class=\"spinner\" [diameter]=\"80\" *ngIf=\"showSpinn\"></mat-spinner> -->\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n\r\n\r\n                <div class=\"flex-grow-2\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n                    <!--<mat-hint>Legal Opinion*</mat-hint>-->\r\n                    <mat-label>Opinion By*</mat-label>\r\n                    <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                      <mat-select name=\"opinion\" formControlName=\"opinion\" disableOptionCentering\r\n                      (selectionChange)=\"toggle($event.value)\" placeholder=\"Opinion By\">\r\n                          <!-- <mat-option value=\"\" >Select</mat-option> -->\r\n                        <mat-option value=\"Favourable\">Favourable</mat-option>\r\n                        <mat-option value=\"Not Favourable\">Not Favourable</mat-option>\r\n                      </mat-select>\r\n                    <!-- </mat-card> -->\r\n                   <mat-error *ngIf=\"!accountForm.get('opinion').valid  && accountForm.get('opinion').touched\">\r\n                      Select Opinion By\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                  </div>\r\n                  \r\n                \r\n      \r\n                <div class=\"flex-grow-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Market Value of Asset*</mat-label>\r\n                    <!-- <mat-card class=\"inputMatName\"> -->\r\n      \r\n                      <input matInput formControlName=\"mktValOfAsset\" class=\"alignment\" (keypress)=_keyPress($event) placeholder=\"Market Value\"\r\n                        type=\"text\" name=\"mktValOfAsset\" />\r\n                        \r\n                    <!-- </mat-card> -->\r\n                    <mat-error *ngIf=\"!accountForm.get('mktValOfAsset').valid  && accountForm.get('mktValOfAsset').touched\">\r\n                        Market Value of Asset is Required!</mat-error>\r\n                  </mat-form-field>\r\n                  </div>\r\n               \r\n   <div class=\"flex-grow-1\">\r\n    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n    <mat-label>Opinion Date*</mat-label>\r\n    <!-- <mat-card class=\"inputMatName\" style=\"height:48px;\"> -->\r\n        <input matInput name=\"opinionDate\" class=\"alignment\" formControlName=\"opinionDate\" placeholder=\"DD/MM/YYYY\"\r\n        [matDatepicker]=\"appDatepicker1\" [min]=\"opinionData\" />\r\n        <div fxFlex=\"8%\" id=\"toggle\" class=\"datechange\">\r\n      <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n      <mat-datepicker #appDatepicker1></mat-datepicker>\r\n      </div>\r\n    <!-- </mat-card> -->\r\n    <mat-error *ngIf=\"!accountForm.get('opinionDate').valid  && accountForm.get('opinionDate').touched\">\r\n        Opinion Date is Required!\r\n    </mat-error>\r\n    </mat-form-field>\r\n        \r\n  </div>\r\n               \r\n               \r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n                <mat-label>Description</mat-label>\r\n                <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                  <!--<mat-select name=\"description\" formControlName=\"description\" disableOptionCentering>\r\n                    <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option value=\"Test\">Description</mat-option>\r\n                  </mat-select>-->\r\n                  <input matInput name=\"description\" class=\"alignment\" formControlName=\"description\" placeholder=\"Description\" (keypress)=\"_keyPress1($event)\"/>\r\n                <!-- </mat-card> -->\r\n                <!-- <mat-error *ngIf=\"accountForm.get('description').hasError('required') && accountForm.get('description').touched\">\r\n                     Description is Required ! </mat-error>\r\n                  <mat-error *ngIf=\"accountForm.get('description').hasError('pattern') && accountForm.get('description').touched\">\r\n                    Please Enter Proper Description</mat-error> -->\r\n                </mat-form-field>\r\n              </div>\r\n  \r\n         </div>\r\n  \r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                <div> \r\n\r\n                    <!-- <mat-hint>Asset Area*</mat-hint> -->\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"5%\">\r\n                      <div class=\"flex-grow-1\" fxFlex=\"20%\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Asset Area*</mat-label>\r\n                        <!-- <mat-card class=\"sqInput1\"> -->\r\n                          <mat-select  formControlName=\"assetAreaInUnits\" disableOptionCentering placeholder=\"Select\" >\r\n                            <mat-option>Select</mat-option>\r\n                            <mat-option value=\"Sq\">Sq</mat-option>\r\n                            <mat-option value=\"Acr\">Acr</mat-option>\r\n                            <mat-option value=\"Cent\">Cent</mat-option>\r\n                          </mat-select>\r\n                        <!-- </mat-card> -->\r\n                          </mat-form-field>\r\n                      </div>\r\n                      <div class=\"flex-grow-1\" fxFlex=\"75%\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Asset Area</mat-label>\r\n                        <!-- <mat-card class=\"sqInput2\"> -->\r\n                              <input matInput formControlName=\"assetAreaSize\" name=\"assetAreaSize\" placeholder=\"Asset Area\"\r\n                              (keypress)=_keyPress($event) name=\"remarks\" class=\"alignment\"/>                              \r\n                            <!-- </mat-card> -->                           \r\n                        </mat-form-field>\r\n                      </div>\r\n                      <mat-error *ngIf=\"(!accountForm.get('assetAreaInUnits').valid && accountForm.get('assetAreaInUnits').touched)||(!accountForm.get('assetAreaSize').valid && accountForm.get('assetAreaSize').touched)\">\r\n                        Asset Area is Required!\r\n                      </mat-error>\r\n        \r\n                     \r\n                          \r\n                            </div>\r\n                </div>\r\n              \r\n\r\n                <div class=\"flex-grow-2\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n                    <mat-label>Lawyer Name*</mat-label>\r\n                    <!-- <mat-card class=\"widthCard inputMatName1\"> -->\r\n                      <!--<mat-select name=\"lawyerName\" disableOptionCentering formControlName=\"lawyerName\">\r\n                        <mat-option value=\"\">Select</mat-option>\r\n                        <mat-option value=\"Jo smith\">Lawyer Name</mat-option>\r\n                      </mat-select>-->\r\n                      <input matInput name=\"lawyerName\" class=\"alignment\" formControlName=\"lawyerName\" placeholder=\"Lawyer Name\" (keypress)=\"_keyPress1($event)\"/>\r\n                    <!-- </mat-card> -->\r\n                    <mat-error *ngIf=\"accountForm.get('lawyerName').hasError('required') && accountForm.get('lawyerName').touched\">\r\n                        Lawyer Name is Required!</mat-error>\r\n                        <mat-error *ngIf=\"accountForm.get('lawyerName').hasError('pattern') && accountForm.get('lawyerName').touched\">\r\n                          Please Enter Valid Lawyer Name</mat-error>\r\n                  </mat-form-field>\r\n                  </div>\r\n                \r\n             \r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Valuation Date*</mat-label>\r\n                <!-- <mat-card class=\"inputMatName1\" style=\"height:48px;\"> -->\r\n                    <input matInput name=\"valuationDate\" class=\"alignment\" formControlName=\"valuationDate\" placeholder=\"DD/MM/YYYY\"\r\n                    [matDatepicker]=\"appDatepicker\" [min]=\"opinionData\" />\r\n                    <div fxFlex=\"8%\" id=\"toggle\" class=\"datechange\">\r\n                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #appDatepicker></mat-datepicker>\r\n                    </div>\r\n                <!-- </mat-card> -->\r\n                <mat-error *ngIf=\"!accountForm.get('valuationDate').valid  && accountForm.get('valuationDate').touched\">\r\n                    Valuation Date is Required!\r\n                </mat-error>   \r\n                </mat-form-field>   \r\n              </div> \r\n          \r\n                <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                    <div class=\"pb-1\">\r\n                        Decision Favorable ?&nbsp;&nbsp;&nbsp;\r\n                      <mat-slide-toggle\r\n                      formControlName=\"isDecisionFavorable\" class=\"charge\" [(ngModel)]=\"disabled\"></mat-slide-toggle>\r\n                    </div><br>\r\n                  </div>\r\n                </div>\r\n               \r\n  \r\n  \r\n              </div>\r\n            </div> \r\n            \r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n  \r\n        <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n          Back\r\n        </button>        \r\n          <button mat-raised-button color=\"primary\" class=\"Nextbtn\"  (click)=\"OnSubmit()\"  [disabled]=\"!accountForm.valid\">\r\n            Next\r\n        </button>        \r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  \r\n  \r\n  ","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from \"@angular/router\";\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-account-creation-stage',\r\n  templateUrl: './account-creation-stage.component.html',\r\n  styleUrls: ['./account-creation-stage.component.scss']\r\n})\r\nexport class AccountCreationStageComponent implements OnInit {\r\n   // PArent \r\n isAccountCreationStageDone: boolean = false;\r\n // SUB TREES\r\n isAccountCreateDetails: boolean = false;\r\n isOfferAcceptReject: boolean = false;\r\n\r\n  constructor(private router: Router,private ls: LocalStoreService,private dialogService : DialogService,public dialog: MatDialog) { }\r\n\r\n  ngOnInit(): void {\r\n    // Parent 1\r\n    this.isAccountCreationStageDone = this.ls.getItem('accountCreationStage');\r\n    // Parent 1 childs nav\r\nthis.isOfferAcceptReject = this.ls.getItem('OFFER_ACCEPT_REJECT_DONE');\r\nthis.isAccountCreateDetails = this.ls.getItem('ACCOUNT_CREATE_DETAILS_DONE');\r\n  }\r\n  addDetails(){\r\n    this.router.navigate([`/loan/account/account-creation-stage/offer-accept-reject`]);\r\n\r\n  }\r\n  addDetails1(){\r\n    this.router.navigate([`/loan/account/account-creation-stage/account-create-details`]);\r\n    \r\n  }\r\n  goToOfferAcceptRejectSummary(){\r\n    this.dialogService.OfferAcceptRejectSummaryDialog();\r\n  }\r\n\r\n  goToAccountCreateSummary(){\r\n    this.dialogService.AccountCreateSummaryDialog();\r\n  }\r\n  \r\n\r\n\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <!-- <div class=\"propic text-center\">\r\n        <img src=\"assets/images/face-7.png\" alt=\"\" class=\"w-80\" />\r\n      </div> -->\r\n      <div class=\"profile-pic text-center\">\r\n        <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n        <i class=\"fa fa-edit upload-icon\"></i>\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Create Retail Loan Account</b></div>\r\n        <div class=\"text-muted\">\r\n            Open a Retail Loan Account with XYZ Bank in a better way. \r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\"  *ngIf=\"isAccountCreateDetails\" class=\"mt-8\">\r\n      <mat-card\r\n        [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\"\r\n      >\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n          <div fxFlex=\"10\">\r\n            <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n          </div>\r\n          <div fxFlex=\"30\">\r\n            <h6>Account Creation Stage Completed</h6>\r\n          </div>\r\n          <span fxFlex></span>\r\n          <button\r\n            mat-button\r\n            [routerLink]=\"['/loan/account/account-creation-stage/account-creation-summary']\"\r\n            color=\"primary\"\r\n          >\r\n            View Summary\r\n          </button>\r\n        </div>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <!--<div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n      <!-- Card 1 start\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>1. Offer Accept/Reject Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> \r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                Offer Accept or Reject Details are provided.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/offer.png'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress\r\n          <div class=\"mb-1\" *ngIf=\"isOfferAcceptReject\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> \r\n          </div>\r\n          <!--end::Progress\r\n        </mat-card-content>\r\n        <!--begin:: Card body\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n            <a\r\n              \r\n              mat-button\r\n             (click)=\"addDetails()\"\r\n              color=\"primary\"\r\n            >\r\n              Add Details <mat-icon>chevron_right</mat-icon>\r\n            </a>\r\n            <a\r\n           \r\n              mat-button\r\n              (click)=\" goToOfferAcceptRejectSummary()\"\r\n              color=\"primary\"\r\n            >\r\n              View Details <mat-icon>chevron_right</mat-icon>\r\n            </a>\r\n          </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 1 end \r\n    </div>-->\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start-->\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <!--<mat-card-title>2. Account Create Details</mat-card-title>-->\r\n          <mat-card-title>1. Account Create Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\"  class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                Account Create Details are displayed .\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/account details.png'\r\n                \"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <div class=\"mb-1\"  *ngIf=\"isAccountCreateDetails\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n          </div>\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n\r\n          <ng-container  *ngIf=\"isAccountCreateDetails; else showAccount\">\r\n            <button\r\n            mat-button\r\n            (click)=\" goToAccountCreateSummary()\"\r\n            color=\"primary\"\r\n            \r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </ng-container>\r\n\r\n        <ng-template #showAccount>\r\n           <button \r\n             mat-button\r\n            (click)=\"addDetails1()\"\r\n              color=\"primary\"\r\n            >\r\n              Add Details<mat-icon>chevron_right</mat-icon>\r\n            </button>\r\n          </ng-template>\r\n           \r\n          </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-digital-signing',\r\n  templateUrl: './digital-signing.component.html',\r\n  styleUrls: ['./digital-signing.component.scss']\r\n})\r\nexport class DigitalSigningComponent implements OnInit {\r\n\r\n  informations = [\r\n    {\r\n      'id':1,\r\n      'title': '1. Digital Signing',\r\n      'content':\"Customer can either sign now or sign later\",\r\n      'percentage':70,\r\n      'status':'Pending',\r\n      'state': 'application/digital-sign/options',\r\n      'avatar':\"assets/images/esign.jpg\"\r\n\r\n    }\r\n  ];\r\n\r\n  accountId:any;\r\n  isEsignScreen:boolean = false;\r\n  accountService: any;\r\n  constructor(private router:Router,private ls: LocalStoreService,private cdr:ChangeDetectorRef) { }\r\n\r\n  ngOnInit(){\r\n    this.accountId = this.ls.getItem('accountId');\r\n    this.isEsignScreen = this.ls.getItem('eSignStage');\r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n      this.accountId = this.ls.getItem('accountId');\r\n      this.isEsignScreen = this.ls.getItem('eSignStage');\r\n    \r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  goToDetail(item){\r\n    console.log(item);\r\n    this.router.navigate([`/home/${item.state}`]);\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <!-- <div class=\"propic text-center\">\r\n          <img src=\"assets/images/face-7.png\" alt=\"\" class=\"w-80\" />\r\n        </div> -->\r\n      <div class=\"profile-pic text-center\">\r\n         <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n        <i class=\"fa fa-edit upload-icon\"></i>\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Create New Customer</b></div>\r\n        <div class=\"text-muted\">\r\n          Create New Customer Account with bank XYZ bank in a better way.\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n      <!-- Card 1 start-->\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>1. Digital Signing</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">Customer can either sign now or sign later</p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"'assets/images/svg/MaskGroup5_1.svg'\"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <div class=\"mb-1\" *ngIf=\"isEsignScreen\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n          </div>\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <a\r\n            mat-button\r\n            [routerLink]=\"['/loan/account/digitalsigning/list/options']\"\r\n            color=\"primary\"\r\n          >\r\n            {{ isEsignScreen ? \"Show Details\" : \"Add Details\" }}\r\n            <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 1 end -->\r\n    </div>\r\n  </div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n\r\n@Component({\r\n  selector: 'app-loan-view-summary',\r\n  templateUrl: './loan-view-summary.component.html',\r\n  styleUrls: ['./loan-view-summary.component.scss']\r\n})\r\nexport class LoanViewSummaryComponent implements OnInit {\r\n\r\n  userRecommendation={'userRecommendation':'Recomended For Approval'};\r\n  loanDetails = {'applicantName'          :'ABC',\r\n                  'applicantType'         :'Home Loan',\r\n                  'accountBranch'         : '000',\r\n                  'productCode'           : 'HMN 03',\r\n                  'productName'           : 'New Home Loan',\r\n                 'approvedLoanAmount'     :'$200,000',\r\n                 'loanTenure'             :'5 years',\r\n                 'rateOfIntrest'          :'5.9',\r\n                 'loanAmount'             :'$500,000',\r\n                 'installmentType'        :'EMI',\r\n                 'stage'                  :'HML/Stage1',\r\n                 'installmentAmount'      :'$100,000',\r\n                 'installmentFreq'        :'Monthly',\r\n                 'assessmentApprovedMethod':'Internal Score Card',\r\n                 'userAction'             :'Action',    \r\n                 'date'                   :'12/2/2021',\r\n                };\r\n\r\n  constructor(private router: Router,\r\n    public dialogRef: MatDialogRef<LoanViewSummaryComponent>\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  edit(){\r\n    this.dialogRef.close();\r\n    this.router.navigate(['loan/account-approval/loan-summary-details']);\r\n    \r\n  }\r\n  close(){\r\n    this.dialogRef.close();\r\n    this.router.navigate([`/loan/account-approval/list`]);\r\n  }\r\n}\r\n","<div class=\"full-width\">\r\n    <div fxLayout=\"row\" class=\"contain\">\r\n        <mat-icon class=\"backIcon\" (click)=\"close()\">close</mat-icon>\r\n    </div>\r\n    <div fxLayout=\"row\">\r\n        <h4 class=\"paraFont\">Loan Summary</h4>\r\n    </div>\r\n\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\">\r\n                <div class=\"full-width\">\r\n                    <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                        <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                            <ng-container>\r\n                                <div fxFlex fxFlex.xs=\"100%\" class=\"inputCardclass\">\r\n                                    <mat-card class=\"inputCard\">\r\n                                        <div fxLayout=\"row wrap\">\r\n\r\n                                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                <ng-container>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Applicant Name</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.applicantName}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Account Type</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.applicantType}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Account Branch</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.accountBranch}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Product Code</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.productCode}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Product Name</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.productName}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Host Product Code</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.productCode}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Host Product Description</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.productName}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Loan Amount</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.loanAmount}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.loanTenure}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Interest Rate(in %)</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.rateOfIntrest}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Repayment Method</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.installmentType}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Repayment Frequency</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.installmentFreq}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Application Date</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.date}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Assessment Approval Method</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.assessmentApprovedMethod}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Offer Approved Date</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.date}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Approver ID</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.productCode}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Stage</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.stage}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Date</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.date}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Offer Issue Date</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.date}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">User Recommendation</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{userRecommendation.userRecommendation}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">User Action</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{loanDetails.userAction}}</mat-hint>\r\n                                                    </div>\r\n                                                    \r\n                                                </ng-container>\r\n                                            </div>    \r\n                                        </div>\r\n                                    </mat-card>\r\n                                </div>\r\n                            </ng-container>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <p class=\"editButton\" (click)=\"edit()\">Edit</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-loan-repayment',\r\n  templateUrl: './loan-repayment.component.html',\r\n  styleUrls: ['./loan-repayment.component.scss']\r\n})\r\nexport class LoanRepaymentComponent implements OnInit {\r\n  loanRepaymentForm:FormGroup;\r\n\r\n  constructor(private fb:FormBuilder) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildformGroup();\r\n  }\r\n\r\n  buildformGroup(){\r\n    this.loanRepaymentForm = this.fb.group({\r\n      id:[''],\r\n      type_of_repayment:[''],\r\n      first_repayment_date:[''],\r\n      maturity_date:[''],\r\n      loan_tenure:[''],\r\n      repayment_mode:[''],\r\n      repayment_frequency:[''],\r\n      customer_account:[''],\r\n      moratorium_period:[''],\r\n      branch_code:['']\r\n    })\r\n  }\r\n\r\n}\r\n","\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/Group 673.svg\" alt=\"\" class=\"w-80\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Loan Repayment Details</b></div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0\">\r\n        <mat-card-title class=\"\">\r\n          <div class=\"card-title-text\">Loan Repayment Details</div>\r\n          <mat-divider></mat-divider>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n          <form *ngIf=\"loanRepaymentForm\" [formGroup]=\"loanRepaymentForm\">\r\n\r\n                 <div fxLayout=\"row\" fxLayoutGap=\"30px\" fxLayoutAlign=\"start center\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Type of Repayment*</mat-label>\r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"EMI\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>First Repayment Date*</mat-label>\r\n                                <input matInput name=\"date\" readonly\r\n                                  placeholder=\"12/02/2020\" [matDatepicker]=\"appDatepicker1\"/>\r\n                                <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                            </mat-form-field>\r\n                              <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Maturity Date*</mat-label>\r\n                                <input matInput name=\"date\" \r\n                                  placeholder=\"12/02/2025\" [matDatepicker]=\"appDatepicker1\"/>\r\n                                <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                            </mat-form-field>\r\n                              <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Customer Account</mat-label>\r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"Customer Account\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Moratorium Period</mat-label>\r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"2\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                        </div>\r\n                          \r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Repayment Frequency*</mat-label>\r\n                                 <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"Monthly\"\r\n                                />\r\n                              </mat-form-field> \r\n                            </div>\r\n                            \r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Loan Tenure</mat-label>\r\n                                    <input\r\n                                      matInput\r\n                                      name=\"a_sig\"\r\n                                      placeholder=\"10 years\"\r\n                                    />\r\n                                  </mat-form-field> \r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Repayment Mode</mat-label>\r\n                                    <input\r\n                                      matInput\r\n                                      name=\"a_sig\"\r\n                                      placeholder=\"Internal Account\"\r\n                                    />\r\n                                  </mat-form-field> \r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Branch code</mat-label>\r\n                                    <input\r\n                                      matInput\r\n                                      name=\"a_sig\"\r\n                                      placeholder=\"Branch code\"\r\n                                    />\r\n                                  </mat-form-field> \r\n                            </div>\r\n      \r\n                            <a style=\"color:rgb(0, 153, 255);\"><u> Show Payment Schedule</u></a>\r\n\r\n                        </div>\r\n                </div>\r\n\r\n                \r\n                <div\r\n                fxLayout=\"row\"\r\n                fxLayoutAlign=\"space-between center\"\r\n                fxLayoutGap=\"16px\"\r\n                class=\"mt-32\"\r\n              >\r\n                <button mat-button rounded color=\"primary\">\r\n                  Back\r\n                </button>\r\n                <button\r\n                  mat-raised-button\r\n                  color=\"primary\"\r\n                >\r\n                  Done\r\n                </button>\r\n              </div>\r\n         \r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n  \r\n    </div>\r\n  </div>\r\n  \r\n  \r\n  \r\n  \r\n\r\n\r\n","import {\r\n  sequence,\r\n  trigger,\r\n  animate,\r\n  style,\r\n  group,\r\n  query,\r\n  transition,\r\n  animateChild,\r\n  state,\r\n  animation,\r\n  useAnimation,\r\n  stagger,\r\n} from '@angular/animations';\r\n\r\nconst reusable = animation(\r\n  [\r\n    style({\r\n      opacity: '{{opacity}}',\r\n      transform: 'scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})',\r\n    }),\r\n    animate('{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)', style('*')),\r\n  ],\r\n  {\r\n    params: {\r\n      duration: '200ms',\r\n      delay: '0ms',\r\n      opacity: '0',\r\n      scale: '1',\r\n      x: '0',\r\n      y: '0',\r\n      z: '0',\r\n    },\r\n  }\r\n);\r\n\r\nexport const rumangoAnimations = [\r\n  trigger('animate', [transition('void => *', [useAnimation(reusable)])]),\r\n\r\n  trigger('fadeInOut', [\r\n    state(\r\n      '0',\r\n      style({\r\n        opacity: 0,\r\n        display: 'none',\r\n      })\r\n    ),\r\n    state(\r\n      '1',\r\n      style({\r\n        opacity: 1,\r\n        display: 'block',\r\n      })\r\n    ),\r\n    transition('0 => 1', animate('300ms')),\r\n    transition('1 => 0', animate('300ms')),\r\n  ]),\r\n];\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from '../../account.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport * as moment from 'moment';\r\nimport { RatioTileStyler } from '@angular/material/grid-list/tile-styler';\r\n\r\n@Component({\r\n  selector: 'app-post-offer-amendment',\r\n  templateUrl: './post-offer-amendment.component.html',\r\n  styleUrls: ['./post-offer-amendment.component.scss']\r\n})\r\nexport class PostOfferAmendmentComponent implements OnInit {\r\n  PostOfferAmendmentForm:FormGroup;\r\n // approvedLoanAmount: any;\r\n // effectiveRate: any;\r\n  //installmentType: string;\r\n // loanAmmountRecommended: 0;\r\n  loanTenure: string;\r\n // margin: any;\r\n // offerAmendDate: string;\r\n // offerExpiryDate: string;\r\n // offerIssueDate: string;\r\n  //rateOfInterest: any;\r\n  id: any;\r\n  loan_acc_id: any;\r\n  selectedDay: number = 1;\r\n  day: string[];\r\n  days: any[] = [];\r\n  months: any[] = [];\r\n  selectedYear: number;\r\n  year: string[];\r\n  month:string[];\r\n  years: any[] = [];\r\n\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  offerDetails: any;\r\n  showEditOption: boolean;\r\n  accountId: any;\r\n  \r\n  loanAccountId: any;\r\n  loanInfo: any;\r\n  cifNumber: any;\r\n\r\n  constructor(private fb:FormBuilder,private api: ApiService,\r\n    private ls: LocalStoreService,private loader: AppLoaderService,private appApiService: ApplicationEntryStageService,\r\n    private apiService:ApiService, private snack: MatSnackBar,private accountService:AccountService,\r\n    private router: Router, \r\n    ) { \r\n      this.maxDate.setDate(this.maxDate.getDate() + 13)\r\n    }\r\n\r\n\r\n  ngOnInit(): void {\r\n this.selectedYear = new Date().getFullYear();\r\n \r\n for (let year = 0; year <= 50; year++) {\r\n   this.years.push(year+ \" year\");\r\n }\r\n\r\n for (let month = 0; month <= 11; month++) {\r\n   this.months.push(month+ \" month\");\r\n }\r\n\r\n for (let day = 0; day <= 30; day++) {\r\n   this.days.push(day+ \" day\");\r\n }\r\n    this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    console.log(this.loanAccountId)\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanAccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    let ispostOfferAmendStageDone: boolean = JSON.parse(this.ls.getItem('post-offer-amend-stage'));\r\n    console.log(ispostOfferAmendStageDone)\r\nsetTimeout(() => {\r\n  if (this.loanAccountId != null && ispostOfferAmendStageDone) {\r\n    this.showEditOption = true;\r\n    this.getAmendDetails();\r\n  } else {\r\n    this.showEditOption = false;\r\n    this.buildformGroup({});\r\n  }\r\n}, 10);\r\n    this.fetchByCif();\r\n     this.loanData();\r\n    this.intrestData();\r\n    this.installmentTypeData();\r\n  }\r\n\r\n  getAmendDetails() {\r\n   // this.loader.open();\r\n    this.api.getOfferAmendmentDetails(this.loanAccountId).subscribe((result : any) => {\r\n      console.log(result)\r\n    //  this.loader.close();\r\n     \r\n      this.buildformGroup(result);\r\n    });\r\n  }\r\n\r\n  buildformGroup(data?){\r\n   data.offerIssueDate = data? moment(data.offerIssueDate).format():'';\r\n   data.offerExpiryDate = data? moment(data.offerExpiryDate).format():'';\r\n   data.offerAmendDate = data ? moment(data.offerAmendDate).format():'';\r\n    this.PostOfferAmendmentForm = this.fb.group({\r\n      // loanAccountId:[data.loanAccountId = \"5970\"],\r\n      loanAccountId: this.loanAccountId,\r\n      applicantName:[data? data.applicantName:''],\r\n      offerIssueDate:[data ? data.offerIssueDate:''],\r\n      offerExpiryDate:[data ?data.offerExpiryDate:''],\r\n      offerAmendDate:[data ?data.offerAmendDate:''],\r\n      installmentType:[data?data.installmentType:''],\r\n      margin:[data?data.margin:''],\r\n      approvedLoanAmount:[data?data.approvedLoanAmount:''],\r\n      loanAmmountRecommended:[data?data.loanAmmountRecommended:''],\r\n      loanTenure:[data?data.loanTenure:''],\r\n      rateOfInterest:[data?data.rateOfInterest:''],\r\n      effectiveRate:[data?data.effectiveRate:''],\r\n      // year:[data ?data.loanTenure.split(\"-\")[0]:''],\r\n      //month:[data ?data.loanTenure.split(\"-\")[1]:''],\r\n      //day:[data ?data.loanTenure.split(\"-\")[2]:''],\r\n      year:[data ? data.year:''],\r\n      month:[data ? data.month:''],\r\n      day:[data ? data.day:''],\r\n    })\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n  // OnInput(event: any, flag) {\r\n\r\n \r\n  //     if (flag) {\r\n  //       this.effectiveRate = event.target.value;\r\n  //     } else {\r\n  //       this.effectiveRate = event;\r\n  //     }\r\n  \r\n  //     console.log(\"this.effectiveRate)::\", this.effectiveRate);\r\n  //     let rate = this.effectiveRate.toString().replace(/,/g, '').split(\".\");\r\n  //     rate[0] = rate[0].replace(/\\B(?=(\\d{1})+(?!\\d))/g, '.');\r\n  //     let final = rate.join(\".\");\r\n  //     console.log(\"final\", final);\r\n  //     this.PostOfferAmendmentForm.controls.effectiveRate.setValue(final);\r\n    \r\n  \r\n    \r\n   \r\n  // }\r\n\r\n//   OnInput1(event: any, flag) {\r\n//     if (flag) {\r\n//       this.margin = event.target.value;\r\n//     } else {\r\n//       this.margin = event;\r\n//     }\r\n\r\n//     console.log(\"this.margin)::\", this.margin);\r\n//     let mar = this.margin.toString().replace(/,/g, '').split(\".\");\r\n//     mar[0] = mar[0].replace(/\\B(?=(\\d{1})+(?!\\d))/g, '.');\r\n//     let final = mar.join(\".\");\r\n//     console.log(\"final\", final);\r\n//     this.PostOfferAmendmentForm.controls.margin.setValue(final);\r\n \r\n// }\r\n// OnInput2(event: any, flag) {\r\n//   if (flag) {\r\n//     this.rateOfInterest = event.target.value;\r\n//   } else {\r\n//     this.rateOfInterest = event;\r\n//   }\r\n\r\n//   console.log(\"this.rateOfInterest)::\", this.rateOfInterest);\r\n//   let interest = this.rateOfInterest.toString().replace(/,/g, '').split(\".\");\r\n//   interest[0] = interest[0].replace(/\\B(?=(\\d{1})+(?!\\d))/g, '.');\r\n//   let final = interest.join(\".\");\r\n//   console.log(\"final\", final);\r\n//   this.PostOfferAmendmentForm.controls.rateOfInterest.setValue(final);\r\n\r\n// }\r\n\r\n_keyPress1(event: any) {\r\n  const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  if (!pattern.test(inputChar)) {\r\n    event.preventDefault();\r\n  }\r\n  const input = event.target.value;\r\n  if (input.length === 0 && event.which === 48) {\r\n    event.preventDefault();\r\n  }\r\n}\r\n\r\n  \r\n  // convertDate(value) {\r\n  //   // let date = moment(value).format('YYYY-MMM-DD');\r\n  //   // let date = moment(value).format('YYYY-MMM-DD hh:mm:ss');\r\n  //   let date = moment(value).format(\"YYYY-MMM-DD HH:mm:ss\");\r\n  //   console.log(\"date\", date);\r\n  //   if (date)\r\n  //     return date;\r\n  // }\r\n\r\n  submit(){\r\n    this.ls.setItem('post-offer-amend-stage', true);\r\n    this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    console.log(\"loanAccountId\",this.loanAccountId);\r\n    this.PostOfferAmendmentForm.get('loanAccountId').setValue(this.ls.getItem('loanAccountId'));\r\n   // console.log(this.PostOfferAmendmentForm.value);\r\n  // this.PostOfferAmendmentForm.value.effectiveRate = this.PostOfferAmendmentForm.value.effectiveRate.replaceAll('.', '');\r\n  // this.PostOfferAmendmentForm.value.margin =   this.PostOfferAmendmentForm.value.margin.replaceAll('.', '');\r\n   var rate=this.PostOfferAmendmentForm.value.rateOfInterest;\r\n    rate= parseInt(rate);\r\n    this.PostOfferAmendmentForm.get(\"rateOfInterest\").setValue(rate);\r\n  var loanValue = this.PostOfferAmendmentForm.value.loanAmmountRecommended;\r\n   loanValue = parseInt(loanValue);\r\n    this.PostOfferAmendmentForm.get(\"loanAmmountRecommended\").setValue(loanValue);\r\n  this.PostOfferAmendmentForm.value.rateOfInterest =   rate;\r\n   var margin1 = this.PostOfferAmendmentForm.value.margin;\r\n   margin1 = parseInt(margin1);\r\n    this.PostOfferAmendmentForm.get(\"margin\").setValue(margin1);\r\n     var effectiveRate1 = this.PostOfferAmendmentForm.value.effectiveRate;\r\n   effectiveRate1 = parseInt(effectiveRate1);\r\n    this.PostOfferAmendmentForm.get(\"effectiveRate\").setValue(effectiveRate1);\r\n  \r\n   let now = new Date();\r\n    now=this.PostOfferAmendmentForm.value.offerIssueDate;\r\n    var dateStringWithTime = moment(now).format('YYYY-MMM-DD');\r\n     let now1 = new Date();\r\n    now1=this.PostOfferAmendmentForm.value.offerExpiryDate;\r\n    var dateStringWithTime1 = moment(now1).format('YYYY-MMM-DD');\r\n     let now2 = new Date();\r\n    now2=this.PostOfferAmendmentForm.value.offerAmendDate;\r\n    var dateStringWithTime2 = moment(now2).format('YYYY-MMM-DD');\r\n   // let  issueDate = this.convertDate(this.PostOfferAmendmentForm.controls.offerIssueDate.value);\r\n   // this.PostOfferAmendmentForm.value['offerIssueDate'] = issueDate;\r\n    //let  expiryDate = this.convertDate(this.PostOfferAmendmentForm.controls.offerExpiryDate.value);\r\n    //this.PostOfferAmendmentForm.value['offerExpiryDate'] = expiryDate;\r\n   // let amendDate = this.convertDate(this.PostOfferAmendmentForm.controls.offerAmendDate.value);\r\n    //this.PostOfferAmendmentForm.value['offerAmendDate'] = amendDate;\r\n     const renewData =\r\n    this.PostOfferAmendmentForm.value.year +\r\n    \"-\" +\r\n    this.PostOfferAmendmentForm.value.month +\r\n    \"-\" +\r\n    this.PostOfferAmendmentForm.value.day;\r\n  this.PostOfferAmendmentForm.get(\"loanTenure\").setValue(renewData);\r\n   this.PostOfferAmendmentForm.value.loanTenure=renewData;\r\n // delete this.PostOfferAmendmentForm.value.year;\r\n // delete this.PostOfferAmendmentForm.value.month;\r\n // delete this.PostOfferAmendmentForm.value.day;\r\n   var aprloan=this.PostOfferAmendmentForm.value.approvedLoanAmount;\r\n   aprloan= parseInt(aprloan);\r\n       let payload={\r\n      loanAccountId: this.loanAccountId,\r\n      //approvedLoanAmount:this.PostOfferAmendmentForm.value.approvedLoanAmount,\r\n      approvedLoanAmount:aprloan,\r\n      applicantName:this.PostOfferAmendmentForm.value.applicantName,\r\n      loanTenure:renewData,\r\n      installmentType:this.PostOfferAmendmentForm.value.installmentType,\r\n      effectiveRate:effectiveRate1,\r\n      margin:margin1,\r\n      //margin:this.PostOfferAmendmentForm.value.margin,\r\n     // rateOfInterest:this.PostOfferAmendmentForm.value.rateOfInterest,\r\n     rateOfInterest:rate,\r\n      offerIssueDate:dateStringWithTime,    \r\n      offerAmendDate:dateStringWithTime2,\r\n      offerExpiryDate: dateStringWithTime1, \r\n     // effectiveRate: this.PostOfferAmendmentForm.value.effectiveRate, \r\n      //loanAmmountRecommended:this.PostOfferAmendmentForm.value.loanAmmountRecommended,  \r\n      loanAmmountRecommended:loanValue,      \r\n    }\r\n    console.log(\"payload\",payload)\r\n\r\n    this.api.uploadPostOfferAmendmentDetails(payload).subscribe((data: any) => {     \r\n      console.log(data);\r\n      if (data !== null) {\r\n        this.snack.open(' Post Offer Amendment Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      \r\n      \r\n      \r\n      \r\n        //this.router.navigate(['loan/account/post-offer-amend-stage/list']);\r\n      }\r\n      this.next();\r\n      // else if (data === 500) {\r\n      //   this.snack.open('Not able to connect to server!', 'INTERNAL SERVER ERROR', {\r\n      //     duration: 4000,\r\n      //     verticalPosition: 'top',\r\n      //     horizontalPosition: 'right'\r\n      //   });\r\n      // }\r\n\r\n    }, err => {\r\n      console.log(err);\r\n    });\r\n  }\r\nnext(){\r\n  this.ls.setItem('PostOfferAmmendementScreen', true);\r\n  this.ls.setItem('PostOfferAmmendementStageScreen', true);\r\n  this.accountService.refresh.next();\r\n  this.router.navigate([\"/loan/account/account-creation-stage\"]);\r\n}\r\ngoBack(){\r\n  this.router.navigate([\"/loan/account/post-offer-amend-stage/list\"]);\r\n}\r\n\r\nkeyPressAlphanumeric(event) {\r\n  var inp = String.fromCharCode(event.keyCode);\r\n  if (/[a-zA-Z0-9]/.test(inp)) {\r\n    return true;\r\n  } else {\r\n    event.preventDefault();\r\n    return false;\r\n  }\r\n}\r\n\r\nletterOnly(event) {\r\n  var charCode = event.keyCode;\r\n          if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n              return true;\r\n          else\r\n              return false;\r\n}\r\n\r\nfetchByCif(){\r\n  this.cifNumber=this.ls.getItem('cId');\r\n  console.log(this.cifNumber);\r\n  this.appApiService.fetchByCif(this.cifNumber).subscribe((res: any) => {\r\n  console.log(res);\r\n  console.log(res.customerInfoList[0].firstName);\r\n  this.PostOfferAmendmentForm.get('applicantName').setValue(res.customerInfoList[0].firstName +\" \"+ res.customerInfoList[0].lastName);\r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\nloanData(){\r\n  console.log(this.loanAccountId);\r\n  this.apiService.fetchByLoanAccountId(this.loanAccountId).subscribe((res:any)=>{   \r\n    console.log(res); \r\n    console.log(res.approvedLoanAmount);\r\n    this.PostOfferAmendmentForm.get('approvedLoanAmount').setValue(res.approvedLoanAmount); \r\n    console.log(res.loanTenure);       \r\n    this.year = res.loanTenure.split(\"-\")[0];\r\n    console.log(this.year);\r\n    this.month = res.loanTenure.split(\"-\")[1];\r\n    console.log(this.month);\r\n    this.day = res.loanTenure.split(\"-\")[2];\r\n    console.log(this.day);    \r\n    this.PostOfferAmendmentForm.get('year').setValue(this.year);\r\n    this.PostOfferAmendmentForm.get('month').setValue(this.month);\r\n    this.PostOfferAmendmentForm.get('day').setValue(this.day);\r\n  \r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\nintrestData(){\r\n  console.log(this.loanAccountId);\r\n  this.apiService.fetchLoanAssessment(this.loanAccountId).subscribe((res:any)=>{    \r\n    console.log(res);\r\n    this.PostOfferAmendmentForm.get('rateOfInterest').setValue(res.rateOfInterest);\r\n    this.PostOfferAmendmentForm.get('loanAmmountRecommended').setValue(res.loanAmountRecommendation);\r\n  })\r\n}\r\ninstallmentTypeData(){\r\n  console.log(this.loanAccountId);\r\n  this.apiService.getOfferAcceptReject(this.loanAccountId).subscribe((res:any)=>{\r\n    console.log(res);\r\n     this.PostOfferAmendmentForm.get('installmentType').setValue(res.installmentType);\r\n     let issueDate =  moment(res.offerIssueDate).format();\r\n     this.PostOfferAmendmentForm.get('offerIssueDate').setValue(issueDate);\r\n     console.log(issueDate);\r\n  });\r\n}\r\n\r\n\r\n}\r\n\r\n\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/post_amend_screen.svg\" alt=\"\" class=\"w-90\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Post Offer Amendment</b></div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0\">\r\n        <mat-card-title>\r\n          <fieldset>\r\n          <legend visible=\"true\">Post Offer Amendment Details</legend>\r\n          </fieldset>\r\n        </mat-card-title>        \r\n        <mat-card-content>\r\n          <form *ngIf=\"PostOfferAmendmentForm\" [formGroup]=\"PostOfferAmendmentForm\">\r\n                  <div   fxLayout=\"row wrap\"\r\n                  class=\"full-width\"\r\n                  fxLayoutAlign=\"space-between center\">\r\n                          <div  fxFlex=\"50%\" class=\"pr-2\" fxFlex.xs=\"100%\"> \r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Applicant Name</mat-label>\r\n                                <!-- <mat-card class=\"widthCard inputMatName1 alignChange\">               -->\r\n                                  <input matInput type=\"text\" maxlength=\"15\" name=\"a_sig\" placeholder=\"Applicant Name\" formControlName=\"applicantName\" (keypress)=\"letterOnly($event)\" required />\r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!PostOfferAmendmentForm.get('applicantName').valid && PostOfferAmendmentForm.get('applicantName').touched \">\r\n                                  Please Enter Applicant Name\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                              </div>\r\n                            \r\n                          </div>\r\n\r\n                        <div  fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                          <div class=\"flex-grow-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label > Offer Expiry Date</mat-label>\r\n                            <!-- <mat-card class=\" inputMatName1 postData alignCChange\"> -->\r\n                                <input matInput (keypress)=_keyPress($event) readonly name=\"offerExpiryDate\" formControlName=\"offerExpiryDate\" [min]=\"PostOfferAmendmentForm.get('offerIssueDate').value\"\r\n                                    [matDatepicker]=\"appDatepicker\" required />\r\n                              \r\n                                <!-- <div fxFlex=\"8%\" id=\"toggle\"> -->\r\n                                  <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                                  <mat-datepicker #appDatepicker></mat-datepicker>\r\n                                <!-- </div> -->\r\n                            <!-- </mat-card> -->\r\n                           <mat-error *ngIf=\"!PostOfferAmendmentForm.get('offerExpiryDate').valid  && PostOfferAmendmentForm.get('offerExpiryDate').touched\">\r\n                                  Please select Offer Expiry Date\r\n                                </mat-error>   \r\n                            </mat-form-field>                   \r\n                \r\n                                \r\n                          </div>\r\n                            \r\n                            \r\n                            <!-- <label  class=\"hint\">Offer Expiry Date*</label>\r\n                            <mat-card class=\"inputMatName\">\r\n                              <input matInput (keypress)=_keyPress($event) readonly name=\"date\" formControlName=\"offerExpiryDate\"\r\n                              placeholder=\"12/03/2021\" [min]=\"PostOfferAmendmentForm.get('offerExpiryDate').value\" [matDatepicker]=\"appDatepicker\" required />\r\n                          <div fxFlex=\"8%\" id=\"toggle\">\r\n                              <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\" >\r\n                              </mat-datepicker-toggle>\r\n            \r\n                              <mat-datepicker #appDatepicker>\r\n                              </mat-datepicker>\r\n                            </div>\r\n                            </mat-card>\r\n                            <mat-error *ngIf=\"!PostOfferAmendmentForm.get('offerExpiryDate').valid  && PostOfferAmendmentForm.get('offerExpiryDate').touched\">\r\n                              &nbsp;&nbsp;&nbsp; Generate Offer Date is Required!\r\n                          </mat-error>\r\n                             -->\r\n                              \r\n                        </div>\r\n\r\n                          <div  fxFlex=\"50%\" class=\"pr-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Approved Loan Amount</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                  <input matInput (keypress)=_keyPress($event) placeholder=\"Approved Loan Account\" maxlength=\"10\" name=\"approvedLoanAmount\" formControlName=\"approvedLoanAmount\" readonly required />\r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!PostOfferAmendmentForm.get('approvedLoanAmount').valid && PostOfferAmendmentForm.get('approvedLoanAmount').touched \">\r\n                                  Please Enter Approved Loan Amount\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                              </div>\r\n                            \r\n                          </div>\r\n\r\n                          \r\n\r\n                          <div  fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label> Installment Type</mat-label>\r\n                              <!-- <mat-card class=\" inputMatName alignCChange\"> -->\r\n                                <mat-select name=\"installmentType\" placeholder=\"Select\" \r\n                                            disableOptionCentering formControlName=\"installmentType\" required>\r\n                                  <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                   <mat-option value=\"EMI\">EMI</mat-option>                                \r\n                                </mat-select>\r\n                              <!-- </mat-card> -->\r\n                              <mat-error *ngIf=\"!PostOfferAmendmentForm.get('installmentType').valid && PostOfferAmendmentForm.get('installmentType').touched \">\r\n                                  Please Enter Instalment Type\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                            </div>                             \r\n                          </div>\r\n    \r\n                          <div  fxFlex=\"50%\" class=\"pr-2\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label >Margin</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                  <input matInput (keypress)=_keyPress1($event)  maxlength=\"3\" name=\"margin\" placeholder=\"Margin\"\r\n                                  formControlName=\"margin\" required />\r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!PostOfferAmendmentForm.get('margin').valid && PostOfferAmendmentForm.get('margin').touched \">\r\n                                  Please Enter Margin\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                              </div>                             \r\n                          </div>\r\n\r\n                            <div  fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                              <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label >Offer Issue Date*</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName1 postData alignCChange\"> -->\r\n                                  <input matInput (keypress)=_keyPress($event) readonly name=\"issuedate\" formControlName=\"offerIssueDate\"\r\n                                       [min]=\"PostOfferAmendmentForm.get('offerIssueDate').value\" [matDatepicker]=\"appDatepicker1\"/>\r\n                              \r\n                                  <!-- <div fxFlex=\"8%\" id=\"toggle\"> -->\r\n                                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                                    <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                                  <!-- </div> -->\r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!PostOfferAmendmentForm.get('offerIssueDate').valid  && PostOfferAmendmentForm.get('offerIssueDate').touched\">\r\n                                      Please select Offer Issue Date\r\n                                </mat-error>  \r\n                                </mat-form-field>                \r\n                              </div>                         \r\n                            </div>\r\n\r\n                            <div  fxFlex=\"50%\" class=\"pr-2\" fxFlex.xs=\"100%\">\r\n                              <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label >Offer Amend Date*</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName1 postData alignChange\" > -->\r\n                                  <input matInput (keypress)=_keyPress($event) readonly name=\"amenddate\" formControlName=\"offerAmendDate\"\r\n                                       [matDatepicker]=\"appDatepicker2\"/>\r\n                              \r\n                                  <!-- <div fxFlex=\"8%\" id=\"toggle\"> -->\r\n                                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker2\"></mat-datepicker-toggle>\r\n                                    <mat-datepicker #appDatepicker2></mat-datepicker>\r\n                                  <!-- </div> -->\r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!PostOfferAmendmentForm.get('offerAmendDate').valid  && PostOfferAmendmentForm.get('offerAmendDate').touched\">\r\n                                      Please select Offer Amend Date\r\n                                    </mat-error>  \r\n                                </mat-form-field>               \r\n                              </div>\r\n                            </div>\r\n                            \r\n                            <div  fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                              <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label >Loan Amount Recommended</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName alignCChange\">               -->\r\n                                  <input matInput (keypress)=_keyPress($event) placeholder=\" Loan Account Recommended\" maxlength=\"10\" name=\"a_sig\" formControlName=\"loanAmmountRecommended\" required />\r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!PostOfferAmendmentForm.get('loanAmmountRecommended').valid && PostOfferAmendmentForm.get('loanAmmountRecommended').touched \">\r\n                                  Please Enter Loan Amount Recommended\r\n                                </mat-error>\r\n                                </mat-form-field>\r\n                              </div>                               \r\n                            </div>\r\n\r\n                            <!-- <div  fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Loan Tenure</mat-label>\r\n                                    <input\r\n                                      matInput\r\n                                      (keypress)=_keyPress($event)\r\n                                      maxlength=\"2\"\r\n                                      name=\"a_sig\"\r\n                                      placeholder=\"5 Years\"\r\n                                      formControlName=\"loanTenure\"\r\n                                      required\r\n                                    />\r\n                                    <mat-error *ngIf=\"PostOfferAmendmentForm.get('loanTenure').hasError('required')\">\r\n                                      Please Enter Loan Tenure\r\n                                    </mat-error>\r\n                                  </mat-form-field> \r\n                              </div> -->\r\n                        \r\n                                <div fxFlex=\"50%\" class=\"pr-2\" fxFlex.xs=\"100%\">\r\n                                  \r\n                                  <div fxLayout=\"row wrap\"> \r\n                                    <label class=\"size\">Loan Tenure *</label> \r\n                                    <!-- <mat-card class=\"sqInput1 tenureChange\">                                   -->\r\n                                      <!-- <mat-form-field appearance=\"outline\" class=\"full-width\" fxFlex=\"30\">                                         -->\r\n                                        <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"23\">\r\n                                          <mat-label>Year</mat-label>\r\n                                        <mat-select disableOptionCentering name=\"year\" placeholder=\"Year\" formControlName=\"year\" required >\r\n                                        <mat-option *ngFor=\"let year of years\" [value]=\"year\">{{ year }}</mat-option> \r\n                                        </mat-select>\r\n                                        </mat-form-field>\r\n                                    <!-- </mat-card> -->\r\n                                 <!-- <mat-card class=\"sqInput1\"> -->\r\n                                      <!-- <mat-form-field appearance=\"outline\" class=\"full-width\" fxFlex=\"30\"> -->\r\n                                        <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"21.5\">\r\n                                          <mat-label>Month</mat-label>\r\n                                        <mat-select disableOptionCentering name=\"month\" placeholder=\"Month\" formControlName=\"month\" required >\r\n                                        <mat-option *ngFor=\"let month of months\" [value]=\"month\">{{ month }}</mat-option> \r\n                                         </mat-select>\r\n                                        </mat-form-field>\r\n                                      <!-- </mat-card> -->\r\n                                      <!-- <mat-card class=\"sqInput1 tenureMarginChange\"> -->\r\n                                       <!-- <mat-form-field appearance=\"outline\" class=\"full-width\" fxFlex=\"30\"> -->\r\n                                        <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"21.5\">\r\n                                          <mat-label>Day</mat-label>\r\n                                        <mat-select disableOptionCentering name=\"day\"  placeholder=\"Day\" formControlName=\"day\" required >\r\n                                        <mat-option *ngFor=\"let day of days\" [value]=\"day\">{{ day }}</mat-option> \r\n                                      </mat-select>\r\n                                        </mat-form-field>\r\n                                      <!-- </mat-card>  -->\r\n                                  </div>\r\n                              </div>\r\n      \r\n                            <div  fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                              <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label >Rate Of Interest(%)</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName alignCChange\"> -->\r\n                                  <input matInput (keypress)=_keyPress1($event)  maxlength=\"3\" name=\"rateOfInterest\"\r\n                                      placeholder=\"Rate Of Interest\" formControlName=\"rateOfInterest\" required />                            \r\n                               <!-- </mat-card> -->\r\n                               <mat-error *ngIf=\"!PostOfferAmendmentForm.get('rateOfInterest').valid && PostOfferAmendmentForm.get('rateOfInterest').touched \">\r\n                                    &nbsp;&nbsp;  Please Enter Rate Of Interest\r\n                                </mat-error>  \r\n                                </mat-form-field>                              \r\n                              </div>                                \r\n                            </div>\r\n\r\n                            <div  fxFlex=\"50%\" class=\"pr-2\" fxFlex.xs=\"100%\">\r\n                              <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label >Effective Rate(%)</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName alignChange\"> -->\r\n                                  <input matInput (keypress)=_keyPress1($event)  maxlength=\"3\" name=\"effectiveRate\"\r\n                                      placeholder=\"Effective Rate(%)\" formControlName=\"effectiveRate\" required />                             \r\n                               <!-- </mat-card> -->\r\n                               <mat-error *ngIf=\"!PostOfferAmendmentForm.get('effectiveRate').valid && PostOfferAmendmentForm.get('effectiveRate').touched \">\r\n                                  &nbsp;&nbsp;Please Enter Effective Rate\r\n                                </mat-error>   \r\n                                </mat-form-field>                             \r\n                              </div>                            \r\n                            </div>\r\n\r\n                 \r\n                </div>                \r\n         \r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n      <div\r\n                fxLayout=\"row\"\r\n                fxLayoutAlign=\"space-between center\"\r\n                fxLayoutGap=\"16px\"\r\n                class=\"mt-32\"\r\n              >\r\n                <button mat-button class=\"Backbtn\" rounded  (click)=\"goBack()\">\r\n                  Back\r\n                </button>\r\n                <button\r\n                [disabled] = \"PostOfferAmendmentForm.invalid\"\r\n                  mat-raised-button\r\n                  class=\"Nextbtn\" color=\"primary\"\r\n                  (click)=\"submit()\"\r\n                >\r\n                  Next\r\n                </button>\r\n              </div>\r\n    </div>\r\n  </div>\r\n  \r\n  \r\n  \r\n  \r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from '../../account.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-guarantor-details',\r\n  templateUrl: './guarantor-details.component.html',\r\n  styleUrls: ['./guarantor-details.component.scss']\r\n})\r\nexport class GuarantorDetailsComponent implements OnInit {\r\n\r\n\r\n  guarantorDetailsForm: FormGroup;\r\n  loanaccountID : any = 0;\r\n  showEditOption: boolean = false;\r\n  active: boolean = false;\r\n  guarantorDetails: any;\r\n  customerId : any;\r\n  customerTypeId : any;\r\n  userAddress : UserAddress[];\r\n  entityName: string;\r\n  arrayCountry:any[]=[];\r\n  arrayState:any[]=[];\r\n  arrayCity:any[]=[];\r\n  arrayRelationshipType: any[] = [];\r\n  arrayPrefix: string[];\r\n  tomorrow = new Date();\r\n  loanInfo: any;\r\n  cifNumber: any[]=[];\r\n  isDuplicateCIF: boolean;\r\n  disableSaveBtn: boolean;\r\n  numOfApplicants: number;\r\n  prefixFlag: boolean=false;\r\n  constructor\r\n  (\r\n    private fb: FormBuilder,\r\n    private ls: LocalStoreService,\r\n    private loader: AppLoaderService,\r\n    private apiService: ApiService,\r\n    private router: Router,\r\n    private snack: MatSnackBar,\r\n    private accountService:AccountService,\r\n    private appApiService: ApplicationEntryStageService,\r\n  ) {\r\n    this.tomorrow.setDate(this.tomorrow.getDate());\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    this.buildformGroup();\r\n    this.isDuplicateCIF = false;\r\n    this.disableSaveBtn = false;\r\n    this.prefixFlag=true;\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');    \r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    let financialDetailscreen: boolean = JSON.parse(this.ls.getItem('GUARANTOR_DETAIL_DONE'));\r\n    this.getCountryName(\"country\");\r\n    this.getAllAuthCities();\r\n    this.getRelationShipType(\"relationship_type\");\r\n    this.getPrefixValue(\"prefix\");\r\n    this.numOfApplicants=this.ls.getItem('LoanNoOfApplicants');   \r\n    setTimeout(() => {\r\n      if (this.loanaccountID && financialDetailscreen) {\r\n        this.showEditOption = true;\r\n        this.getGuarantorDetails();\r\n      }\r\n      else {\r\n        this.showEditOption = false;\r\n        this.buildformGroup();\r\n      }\r\n    }, 10);\r\n  this.cifByData();\r\n  }\r\n\r\n  buildformGroup(data?) {    \r\n    if(data && data.country){\r\n      this.getStateName(data.country);\r\n      // this.getCityName(data.state);\r\n    }\r\n    this.guarantorDetailsForm = this.fb.group({\r\n      cifNumber: [data ? data.cifNumber : '', Validators.required],\r\n      relationWithCustomer: [data ? data.relationWithCustomer : '', Validators.required],\r\n      prefix: [data ? data.prefix : '', Validators.required],\r\n      firstName: [data ? data.firstName : '', Validators.required],\r\n      existingCustomer: [true, Validators.required],\r\n      middleName: [data ? data.middleName : ''],\r\n      lastName: [data ? data.lastName : '', Validators.required],\r\n      dateOfBirth: [data ? data.dateOfBirth : '', Validators.required],\r\n      // building: [data ? data.building : '',[Validators.pattern(\".*[a-zA-Z].*\")]],\r\n      // street: [data ? data.street : '',[Validators.pattern(\".*[a-zA-Z].*\")]],\r\n      address1: [data ? data.address1 : '', [Validators.pattern(\".*[a-zA-Z].*\"),Validators.required]],\r\n      address2: [data ? data.address2 : '',  [Validators.pattern(\".*[a-zA-Z].*\"),Validators.required]],\r\n      // locality: [data ? data.locality : '', Validators.required],\r\n      city: [data ? data.city : '', Validators.required],\r\n      state: [data ? data.state : '', Validators.required],\r\n      country: [data ? data.country : '', Validators.required],\r\n      // zipCode: [data ? data.zipCode :'',[Validators.required,Validators.pattern(\"[123456789]{1}[0-9]{6}\")]],\r\n      zipCode: [data ? data.zipCode :'',[Validators.required,Validators.pattern(\"^[0-9]{5,10}$\")]],\r\n      phoneNumber: [data ? data.phoneNumber :'', [  Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      mobileNumber: [data ? data.mobileNumber :'', [ Validators.required, Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      emailAddress: [data ? data.emailAddress:'', [Validators.required, Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')]],\r\n  //    emailAddress: [data ? data.emailAddress:'', [Validators.required, Validators.pattern('^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,4}$')]],\r\n    })\r\n   \r\n  }\r\n  onChangeData(relationshipType){\r\n    let prefix = this.guarantorDetailsForm.value.prefix;\r\n    if(prefix && this.guarantorDetailsForm.value.relationWithCustomer){\r\n      if ((prefix == \"Mr\" && (relationshipType == \"Father\" ||relationshipType == \"Brother\" || relationshipType == \"Spouse\" )) || ((prefix==\"Ms\" || prefix==\"Mrs\") && (relationshipType==\"Mother\" || relationshipType==\"Sister\"))) {\r\n        this.prefixFlag=true;\r\n      }  else {\r\n        this.prefixFlag=false;\r\n        this.snack.open(\"Prefix and Relationship with Customer does not match!\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  keyPressAlphanumeric(event) {\r\n    var inp = String.fromCharCode(event.keyCode);\r\n    if (/^[a-zA-Z0-9_ ]*$/.test(inp)) {\r\n      return true;\r\n    } else {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getGuarantorDetails() {\r\n    this.loader.open();\r\n    this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe((guarantorDetails) => {\r\n      this.loader.close();\r\n      this.guarantorDetails = guarantorDetails;\r\n      console.log(\"this.guarantorDetails::\",this.guarantorDetails);\r\n      this.getStateName(this.guarantorDetails.country);\r\n      // this.getCityName(this.guarantorDetails.state);\r\n      this.buildformGroup(this.guarantorDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n  }\r\n\r\n  getRelationShipType(key: string){\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayRelationshipType = data;\r\n      console.log(\"-->\", this.arrayCountry)\r\n    });\r\n  }\r\n\r\n  getPrefixValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayPrefix = data;\r\n    });\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n\r\n  getCountryName(key: string) {\r\n    this.apiService.getAllCountries().subscribe((data: any) => {\r\n     for(let i=0; i<data.length;i++){\r\n       if(data[i].authStatus==='A'){     \r\n         this.arrayCountry.push(data[i].countryName);\r\n         this.arrayCountry.sort();\r\n       }\r\n     }\r\n   });\r\n }\r\n\r\n getStateName(country,isAdd?) {\r\n  if(isAdd){\r\n    this.guarantorDetailsForm.get('zipCode').setValue('');\r\n    this.guarantorDetailsForm.get('state').setValue('');\r\n    this.guarantorDetailsForm.get('city').setValue('');\r\n}\r\n  this.apiService.getAllCountries().subscribe((data: any) => {\r\n    for(let i=0; i<data.length;i++){       \r\n      if(data[i].countryName == country){\r\n        this.apiService.getStateByCountryId(data[i].id).subscribe((resp: any) => {\r\n        this.arrayState = resp\r\n        })\r\n        break;   \r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n  // getCityName(state: any) {\r\n  //   this.entityName = \"city\";\r\n  //   console.log(state)\r\n  //   this.apiService.getDropDownValues1(this.entityName, state).subscribe((data) => {\r\n  //     this.arrayCity = data;\r\n  //     console.log(\"-->\", this.arrayCity)\r\n  //   });\r\n  // }\r\n  getAllAuthCities(){\r\n    this.apiService.getAuthorizedCityInfo().subscribe(res => res.map(r => this.arrayCity.push(r.cityName)))\r\n  }\r\n  onStateChange(){\r\n    this.guarantorDetailsForm.get('zipCode').setValue('');\r\n    this.guarantorDetailsForm.get('city').setValue('');\r\n  }\r\n  onCityChange(){\r\n    this.guarantorDetailsForm.get('zipCode').setValue('');\r\n  }\r\n  goBack() {\r\n    this.router.navigate([`/loan/account/collateral_details`]);\r\n  }\r\n\r\n  stayTrue(){\r\n    this.guarantorDetailsForm.get('existingCustomer').setValue(true);\r\n  }\r\n\r\n  submitForm() {\r\n    let payload: any = {};\r\n    payload = this.guarantorDetailsForm.value;\r\n    payload.loanAccountId = this.loanaccountID;\r\n    payload.active = this.active;\r\n    payload.customerId = this.customerId;\r\n    payload.customerTypeId = this.customerTypeId;\r\n    payload.userAddress = this.userAddress;\r\n    payload.cifNumber=this.guarantorDetailsForm.value.cifNumber;\r\n    this.apiService.upsertGuarantorDetails(payload).subscribe(data => {\r\n      console.log(\"data\", data);\r\n      if (data != null) {\r\n        this.snack.open('Guarantor Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.next();\r\n      }\r\n    })\r\n  }\r\n\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n            if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n                return true;\r\n            else\r\n                return false;\r\n  }\r\n  keyUpevent(event) {\r\n    console.log(\"event\", event);\r\n    if (event.keyCode === 8) {\r\n    \r\n    } \r\n  }\r\n  cifByData(){\r\n   this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,'loan').subscribe((customerInfoDetails) => {\r\n      if(customerInfoDetails.data){        \r\n        for(var i=0;i<=this.numOfApplicants;i++){\r\n          const newData = {\r\n            cifValue : customerInfoDetails.data[i].customerId\r\n          };          \r\n          this.cifNumber.push(newData);         \r\n        }        \r\n      }\r\n    });\r\n}\r\n  fetchByCif(cifNumber) {    \r\n    if(this.cifNumber.some(val => val.cifValue == cifNumber)){    \r\n       this.isDuplicateCIF = true;\r\n       this.disableSaveBtn = true;\r\n        this.snack.open('Duplicate CIF Number', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    }\r\n\r\n   else  {\r\n    this.isDuplicateCIF = true;\r\n    this.disableSaveBtn = false;      \r\n   cifNumber &&   this.appApiService.fetchByCif(cifNumber).subscribe((res: any) => {      \r\n        // this.accountForm.reset();\r\n        let data={\r\n          cifNumber:res.customerInfoList[0].cifNumber,\r\n          relationWithCustomer:res.customerInfoList[0].relationWithCustomer,\r\n          prefix:res.customerInfoList[0].prefix,\r\n          firstName:res.customerInfoList[0].firstName,\r\n          middleName:res.customerInfoList[0].middleName,\r\n          lastName:res.customerInfoList[0].lastName,\r\n          dateOfBirth:res.customerInfoList[0].dateOfBirth,\r\n          // building:res.customerInfoList[0].building,\r\n          // street:res.customerInfoList[0].street,\r\n          address1:res.customerInfoList[0].userAddress[0].address1,\r\n          address2:res.customerInfoList[0].userAddress[0].address2,\r\n          // locality:res.customerInfoList[0].userAddress[0].city,\r\n          city: res.customerInfoList[0].userAddress[0].city,\r\n          state:res.customerInfoList[0].userAddress[0].state,\r\n          country:res.customerInfoList[0].userAddress[0].country,\r\n          zipCode:res.customerInfoList[0].userAddress[0].zipCode,\r\n          phoneNumber:res.customerInfoList[0].phoneNumber,\r\n          mobileNumber:res.customerInfoList[0].landlineNumber,\r\n          emailAddress:res.customerInfoList[0].primaryEmailAdress,\r\n          \r\n        }\r\n        this.buildformGroup(data);\r\n  \r\n       // this.accountForm.controls.cifNumber.setValue(cifNumber);\r\n   \r\n      });\r\n    }\r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem('GUARANTOR_DETAIL_DONE', true);\r\n    this.ls.setItem('LoanEntryStage', true);\r\n    console.log(\"loan entry stage done:\",this.ls.setItem('LoanEntryStage', true));\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/loan/account/application-enrichment`]);\r\n  }\r\n\r\n  getCityandStateByZipcode(countryName, zipcode) {\r\n    if (countryName && zipcode.length >= 6) {\r\n      this.apiService.fetchStateCityByZipcode(countryName, zipcode).subscribe((res: any) => {\r\n        if(res){\r\n          this.guarantorDetailsForm.get('state').setValue(res.stateName);\r\n          this.guarantorDetailsForm.get('city').setValue(res.cityName);\r\n        }\r\n        else{\r\n          this.snack.open(\"Entered Zipcode is not exists\", \"OK\", {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nclass UserAddress{\r\n  address1 : string;\r\n  address2: string;\r\n  addressType: string;\r\n  city: string;\r\n  corporateId: string;\r\n  country: string;\r\n  customerId: string;\r\n  customerType: string;\r\n  id: string;\r\n  isMailingAddressSame: string;\r\n  landLine: string;\r\n  mobileNumber: string;\r\n  primaryEmail: string;\r\n  residenceType: string;\r\n  secondaryEmail: string;\r\n  state: string;\r\n  zipCode : number;\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n            <img src=\"assets/images/svg/MaskGroup_4.svg\" alt=\"\" class=\"w-90\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title\"><h2>Guarantor Details</h2></div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\">\r\n        <mat-card class=\"p-0\">            \r\n            <mat-card-title>\r\n                <fieldset>\r\n                <legend visible=\"true\">Guarantor Details</legend>\r\n                </fieldset>\r\n              </mat-card-title>\r\n            <mat-card-content>\r\n                <form *ngIf=\"guarantorDetailsForm\" [formGroup]=\"guarantorDetailsForm\">\r\n                    <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\">\r\n                        <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"p-16\" style=\"padding-left: 8px !important;\">\r\n                                <div class=\"pb-16\">\r\n                                    <div class=\"pb-4\">\r\n                                        <div class=\"pb-1\">\r\n                                            \r\n                                                Is the guarantor an existing customer ? &nbsp;&nbsp;&nbsp;&nbsp;<mat-slide-toggle name=\"existingCustomer\" class=\"charge\" (change)=\"stayTrue()\" formControlName=\"existingCustomer\" required>\r\n                                            </mat-slide-toggle>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div fxFlex=\"40%\"  fxFlex.xs=\"100%\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\" style=\"padding-left: 15px;\">\r\n                                <mat-label>CIF Number</mat-label>\r\n                                <input matInput name=\"cifNumber\" formControlName=\"cifNumber\" (keypress)=\"_keyPress($event)\" \r\n                                \r\n                                (keyup)=keyUpevent($event) required />\r\n                                <mat-error *ngIf=\"!guarantorDetailsForm.get('cifNumber').valid && guarantorDetailsForm.get('cifNumber').touched\" >\r\n                                    &nbsp;&nbsp; CIF Number is Required!\r\n                                </mat-error>\r\n                                 <mat-error class=\"err-msg\" *ngIf=\"isDuplicateCIF\">Duplicate CIF Number</mat-error>\r\n                                \r\n                            </mat-form-field>\r\n                        </div>\r\n                      \r\n                            <div fxFlex=\"10%\" class=\"p-2\" fxFlex.xs=\"100%\" class=\"fechButtonDiv float-end\" style=\"padding-left: 13px;\">\r\n                                <p class=\"fetchButton\" (click)=\"fetchByCif(guarantorDetailsForm.get('cifNumber').value)\" style=\"padding-left: 13px;\"> Fetch</p>\r\n                              </div>\r\n                       \r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Relationship with Customer</mat-label>\r\n                                <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                                    <mat-select name=\"rtype\" formControlName=\"relationWithCustomer\" placeholder=\"Select\" (selectionChange)=\"onChangeData($event.value)\"\r\n                                                disableOptionCentering [value]=\"relationshipType\" required>\r\n                                        <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                        <mat-option *ngFor=\"let relationshipType of arrayRelationshipType\"\r\n                                         [value]=\"relationshipType\">\r\n                                             {{relationshipType}}\r\n                                        </mat-option>\r\n                                    </mat-select>\r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!guarantorDetailsForm.get('relationWithCustomer').valid && guarantorDetailsForm.get('relationWithCustomer').touched\" >\r\n                                    &nbsp;&nbsp; Relationship with Customer is Required!\r\n                                </mat-error> \r\n                                <mat-error *ngIf=\" !prefixFlag\">\r\n                                    &nbsp; Prefix and Relationship with Customer does not match!\r\n                                 </mat-error>\r\n                                </mat-form-field>\r\n                            </div>                            \r\n                        </div>\r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Prefix</mat-label>\r\n                                <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                                    <mat-select name=\"prefix\" formControlName=\"prefix\" required \r\n                                                disableOptionCentering placeholder=\"Select\" (selectionChange)=\"onChangeData(guarantorDetailsForm.get('relationWithCustomer').value)\">\r\n                                        <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                        <mat-option *ngFor=\"let prefix of arrayPrefix\" [value]=\"prefix\">\r\n                                          {{prefix}}\r\n                                        </mat-option>\r\n                                    </mat-select>\r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!guarantorDetailsForm.get('prefix').valid && guarantorDetailsForm.get('prefix').touched\" >\r\n                                    &nbsp;&nbsp; Prefix is Required!\r\n                                </mat-error>\r\n                                </mat-form-field>\r\n                            </div>                           \r\n                        </div>\r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>First Name</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName\">               -->\r\n                                    <input matInput name=\"firstName\" formControlName=\"firstName\" \r\n                                        (keypress)=\"letterOnly($event)\" required/>                        \r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!guarantorDetailsForm.get('firstName').valid && guarantorDetailsForm.get('firstName').touched\" >\r\n                                    &nbsp;&nbsp; First Name is Required!\r\n                                </mat-error>\r\n                                </mat-form-field>\r\n                            </div>                             \r\n                        </div>\r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label >Middle Name</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName\">               -->\r\n                                    <input matInput name=\"middleName\" formControlName=\"middleName\"\r\n                                        (keypress)=\"letterOnly($event)\" />                        \r\n                                <!-- </mat-card>                                 -->\r\n                                </mat-form-field>\r\n                            </div>                            \r\n                        </div>\r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label >Last Name</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName\">               -->\r\n                                    <input matInput name=\"lastName\" formControlName=\"lastName\"\r\n                                        (keypress)=\"letterOnly($event)\"  required/>                        \r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!guarantorDetailsForm.get('lastName').valid && guarantorDetailsForm.get('lastName').touched\" >\r\n                                    &nbsp;&nbsp; Last Name is Required!\r\n                                </mat-error>\r\n                                </mat-form-field>\r\n                            </div>                            \r\n                        </div>\r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Date of Birth</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName1\" style=\"height:48px;\"> -->\r\n                                    <input matInput name=\"dateOfBirth\" class=\"alignment\" formControlName=\"dateOfBirth\" placeholder=\"DD/MM/YYYY\"\r\n                                    [matDatepicker]=\"pickerDOB\" [min]=\"minDate\" [max]=\"maxDate\" readonly required/>\r\n                              \r\n                                    <!-- <div fxFlex=\"8%\" id=\"toggle\"> -->\r\n                                       <mat-datepicker-toggle matSuffix [for]=\"pickerDOB\"></mat-datepicker-toggle>\r\n                                       <mat-datepicker #pickerDOB></mat-datepicker>\r\n                                    <!-- </div> -->\r\n                                <!-- </mat-card>                             -->\r\n                                <mat-error *ngIf=\"!guarantorDetailsForm.get('dateOfBirth').valid && guarantorDetailsForm.get('dateOfBirth').touched\" >\r\n                                    &nbsp;&nbsp; Date of Birth is Required!\r\n                                </mat-error>  \r\n                                </mat-form-field>                                                    \r\n                            </div>                            \r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\">\r\n                            <div class=\"card-title-text p-2\">&nbsp;&nbsp; Address </div>\r\n                        </div>\r\n                        <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\">\r\n\r\n\r\n                            <!-- <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Building</mat-label>\r\n                                                 \r\n                                        <input matInput name=\"building\" formControlName=\"building\"\r\n                                            (keypress)=\"keyPressAlphanumeric($event)\"  />                        \r\n                                    \r\n                                    <mat-error *ngIf=\"(guarantorDetailsForm.get('building').valid && guarantorDetailsForm.get('building').touched && !guarantorDetailsForm.get('building').valid) || (guarantorDetailsForm.get('building').touched && guarantorDetailsForm.get('building').hasError('pattern'))\"  >\r\n                                        &nbsp;&nbsp; Building is Required!\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                            \r\n                            </div> -->\r\n                            <!-- <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Street</mat-label>\r\n                                    \r\n                                        <input matInput name=\"street\" formControlName=\"street\"\r\n                                            (keypress)=\"keyPressAlphanumeric($event)\"  />                        \r\n                                    \r\n                                    <mat-error *ngIf=\"(guarantorDetailsForm.get('street').valid && guarantorDetailsForm.get('street').touched && !guarantorDetailsForm.get('street').valid) || (guarantorDetailsForm.get('street').touched && guarantorDetailsForm.get('street').hasError('pattern'))\"  >\r\n                                        &nbsp;&nbsp; Street is Required!\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                            \r\n                            </div> -->\r\n                            \r\n\r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label >Building</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName\">               -->\r\n                                       <input matInput name=\"building\" formControlName=\"address1\" required/>                         \r\n                                    <!-- </mat-card> -->\r\n                                    <mat-error *ngIf=\"(guarantorDetailsForm.get('address1').valid && guarantorDetailsForm.get('address1').touched && !guarantorDetailsForm.get('address1').valid) || (guarantorDetailsForm.get('address1').touched && guarantorDetailsForm.get('address1').hasError('pattern'))\" >\r\n                                    &nbsp;&nbsp; Address 1 is Required!\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                \r\n                            </div>\r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Street</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName\">               -->\r\n                                        <input matInput name=\"street\" formControlName=\"address2\" required/>                        \r\n                                    <!-- </mat-card> -->\r\n                                    <mat-error *ngIf=\"(guarantorDetailsForm.get('address2').valid && guarantorDetailsForm.get('address2').touched && !guarantorDetailsForm.get('address2').valid) || (guarantorDetailsForm.get('address2').touched && guarantorDetailsForm.get('address2').hasError('pattern'))\" >\r\n                                        &nbsp;&nbsp;Address 2 is Required!\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                 \r\n                            </div>\r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label >Country *</mat-label>\r\n                                   <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                                      <mat-select name=\"country\" formControlName=\"country\" disableOptionCentering\r\n                                        (selectionChange)=\"getStateName($event.value,true)\"\r\n                                      placeholder=\"Select\">\r\n                                        <mat-option value=\"\">Select</mat-option>\r\n                                        <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                  {{country}}\r\n                                    </mat-option>\r\n                                       </mat-select>\r\n                                   <!-- </mat-card> -->\r\n                                   <mat-error *ngIf=\"!guarantorDetailsForm.get('country').valid && guarantorDetailsForm.get('country').touched\" >\r\n                                       &nbsp;&nbsp; Country is Required!\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>    \r\n                            </div>\r\n\r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Zip Code</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName\">               -->\r\n                                       <input matInput name=\"zipCode\" formControlName=\"zipCode\" minlength=\"5\" maxlength=\"6\" onlyNumber type=\"text\" \r\n                                    (keypress)=_keyPress($event) (change)=\"getCityandStateByZipcode(guarantorDetailsForm.get('country').value,$event.target.value)\" required/>                         \r\n                                    <!-- </mat-card> -->\r\n                                      <mat-error *ngIf=\"!guarantorDetailsForm.get('zipCode').valid && guarantorDetailsForm.get('zipCode').touched\" >\r\n                                        &nbsp;&nbsp;Valid Zip Code is Required!(5-10 digits)\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                \r\n                            </div>\r\n                            \r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>State *</mat-label>\r\n                                   <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                                      <mat-select name=\"state\" formControlName=\"state\" disableOptionCentering\r\n                                             placeholder=\"Select\" (selectionChange)=\"onStateChange()\" \r\n                                             >\r\n                                        <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                        <mat-option *ngFor=\"let state of arrayState\" [value]=\"state.stateName\">\r\n                                              {{state.stateName}}</mat-option>\r\n                                       </mat-select>\r\n                                   <!-- </mat-card> -->\r\n                                   <mat-error *ngIf=\"!guarantorDetailsForm.get('state').valid && guarantorDetailsForm.get('state').touched\" >\r\n                                    &nbsp;&nbsp; State is Required!\r\n                                   </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                 \r\n                            </div>\r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>City</mat-label>\r\n                                   <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                                      <mat-select name=\"city\" formControlName=\"city\" required placeholder=\"Select\" disableOptionCentering\r\n                                      (selectionChange)=\"onCityChange()\">\r\n                                        <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                        <mat-option *ngFor=\"let city of arrayCity\" [value]=\"city\">{{city}}\r\n                                        </mat-option>\r\n                                       </mat-select>\r\n                                   <!-- </mat-card> -->\r\n                                   <mat-error *ngIf=\"!guarantorDetailsForm.get('city').valid && guarantorDetailsForm.get('city').touched\" >\r\n                                       &nbsp;&nbsp; City is Required!\r\n                                    </mat-error> \r\n                                    </mat-form-field>\r\n                                </div>                                 \r\n                            </div>\r\n                           \r\n                        \r\n                           \r\n                        </div> \r\n                    </div>\r\n                    <div>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\">\r\n                            <div class=\"card-title-text p-2\">&nbsp;&nbsp; Contact Information</div>\r\n                        </div>\r\n                        <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\">\r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Phone Number</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName\">               -->\r\n                                       <input matInput name=\"phoneNumber\" formControlName=\"phoneNumber\"   minlength=10 maxlength=10\r\n                                        (keypress)=\"_keyPress($event)\" required/>                            \r\n                                    <!-- </mat-card> -->\r\n                                     <!-- <mat-error *ngIf=\"!guarantorDetailsForm.get('phoneNumber').valid && guarantorDetailsForm.get('phoneNumber').touched\" >\r\n                                        &nbsp;&nbsp; Phone Number is Required!\r\n                                    </mat-error> -->\r\n                                    <mat-error *ngIf=\"guarantorDetailsForm.get('phoneNumber').hasError('required') && guarantorDetailsForm.get('phoneNumber').touched\">\r\n                                        &nbsp;&nbsp; Phone Number is Required!\r\n                                    </mat-error>\r\n                                    <mat-error *ngIf=\"guarantorDetailsForm.get('phoneNumber').hasError('pattern') && guarantorDetailsForm.get('phoneNumber').touched\">\r\n                                        &nbsp;&nbsp; Please Enter Valid Phone Number\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                   \r\n                            </div>\r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Mobile Number</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName\">               -->\r\n                                       <input matInput name=\"mobileNumber\" formControlName=\"mobileNumber\" minlength=10 maxlength=\"10\" (keypress)=\"_keyPress($event)\" required />                          \r\n                                    <!-- </mat-card> -->\r\n                                     <!-- <mat-error *ngIf=\"!guarantorDetailsForm.get('mobileNumber').valid && guarantorDetailsForm.get('mobileNumber').touched\" >\r\n                                        &nbsp;&nbsp; Mobile Number is Required!\r\n                                    </mat-error> -->\r\n                                    <mat-error *ngIf=\"guarantorDetailsForm.get('mobileNumber').hasError('required') && guarantorDetailsForm.get('mobileNumber').touched\">\r\n                                        &nbsp;&nbsp; Mobile Number is Required!\r\n                                    </mat-error>\r\n                                    <mat-error *ngIf=\"guarantorDetailsForm.get('mobileNumber').hasError('pattern') && guarantorDetailsForm.get('mobileNumber').touched\">\r\n                                        &nbsp;&nbsp; Please Enter Valid Mobile Number\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                 \r\n                            </div>\r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>E-mail</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName\">               -->\r\n                                       <input matInput name=\"emailAddress\" formControlName=\"emailAddress\" required/>                          \r\n                                    <!-- </mat-card> -->\r\n                                     <mat-error *ngIf=\"!guarantorDetailsForm.get('emailAddress').valid && guarantorDetailsForm.get('emailAddress').touched\" >\r\n                                        &nbsp;&nbsp; E-mail is Required!\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                 \r\n                            </div>\r\n                        </div> \r\n                    </div>                    \r\n                </form>\r\n            </mat-card-content>\r\n        </mat-card>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n            <button type=\"button\" mat-button rounded class=\"Backbtn\" (click)=\"goBack()\" >\r\n                Back\r\n            </button>\r\n            <button type=\"button\" mat-raised-button class=\"Nextbtn\" [disabled]=\"!guarantorDetailsForm.get('cifNumber').valid || !guarantorDetailsForm.get('relationWithCustomer').valid || !guarantorDetailsForm.get('prefix').valid\r\n            || !guarantorDetailsForm.get('firstName').valid || !guarantorDetailsForm.get('lastName').valid || !guarantorDetailsForm.get('dateOfBirth').valid  || !guarantorDetailsForm.get('address1').valid || !guarantorDetailsForm.get('address2').valid\r\n            ||  !guarantorDetailsForm.get('mobileNumber').valid || !guarantorDetailsForm.get('emailAddress').valid || !prefixFlag\" (click)=\"submitForm()\" color=\"primary\">\r\n                Next \r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { Router } from '@angular/router';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { AccountService } from '../../account.service';\r\nimport { months } from 'moment';\r\nimport { DatePipe } from '@angular/common'\r\nimport * as moment from 'moment';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-admission-details',\r\n  templateUrl: './admission-details.component.html',\r\n  styleUrls: ['./admission-details.component.scss']\r\n})\r\nexport class AdmissionDetailsComponent implements OnInit {\r\n  admissionDetailsForm: FormGroup;\r\n  loanaccountID: any;\r\n  showEditOption: boolean = false;\r\n  addmissionDetails: any;\r\n  arrayCountry: any[] = [];\r\n  loanInfo: any;\r\n  dateValue: any;\r\n  minDate=new Date();\r\n  constructor\r\n    (\r\n      private fb: FormBuilder,\r\n      private ls: LocalStoreService,\r\n      private loader: AppLoaderService,\r\n      private apiService: ApiService,\r\n      private router: Router,\r\n      private snack: MatSnackBar,\r\n      public datepipe: DatePipe,\r\n      private accountService :AccountService\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildformGroup();\r\n    this.getCountryName(\"country\");\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    let isAdmissionDetailscreen: boolean = JSON.parse(this.ls.getItem('ADMISSION_DETAIL_DONE'));\r\n   setTimeout(() => {\r\n    if (this.loanaccountID != null && isAdmissionDetailscreen) {\r\n      this.showEditOption = true;\r\n      this.getAdmissionDetails();\r\n    }\r\n    else {\r\n      this.showEditOption = false;\r\n      this.buildformGroup();\r\n    }\r\n   }, 10);\r\n   \r\n  }\r\n\r\n  buildformGroup(data?) {\r\n    this.admissionDetailsForm = this.fb.group({\r\n      loanRequestedFor: [data ? data.loanRequestedFor : '', Validators.required],\r\n      modeOfStudy: [data ? data.modeOfStudy : '', Validators.required],\r\n      institution: [data ? data.institution : '', Validators.required],\r\n      country: [data ? data.country : '', Validators.required],\r\n      specialization: [data ? data.specialization : '', Validators.required],\r\n      employmentPotential: [data ? data.employmentPotential : '', Validators.required],\r\n      costOfCourse: [data ? data.costOfCourse : '', Validators.required],\r\n      scholarshipOrBusinessEligible: [data ? data.scholarshipOrBusinessEligible : false, Validators.required],\r\n      admissionStatus: [data ? data.admissionStatus : '', Validators.required],\r\n      institutionRanking: [data ? data.institutionRanking : '', Validators.required],\r\n      courseCommencementDate: [data ? this.convertDate(data.courseCommencementDate) : '', Validators.compose([ Validators.required, Validators.min(this.dateValue)])],\r\n      courseDuration: [data ? data.courseDuration : '', Validators.required],\r\n      proposedCourseOfStudy: [data ? data.proposedCourseOfStudy : '', Validators.required],\r\n      university: [data ? data.university : '', Validators.required],\r\n      projectedEarning: [data ? data.projectedEarning : '', Validators.required],\r\n      source: [data ? data.source : '', Validators.required]\r\n    })\r\n  }\r\n\r\n  getAdmissionDetails() {\r\n    this.loader.open();\r\n    this.apiService.getAdmissionDetailsByLoanAccId(this.loanaccountID).subscribe((addmissionDetails) => {\r\n      this.loader.close();\r\n      this.addmissionDetails = addmissionDetails;\r\n      console.log(this.addmissionDetails);\r\n      this.buildformGroup(this.addmissionDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([`/loan/account/loan-details`]);\r\n  }\r\n\r\n  submitForm() {\r\n    let payload: any = {};\r\n    payload = this.admissionDetailsForm.value;\r\n    payload.loanAccountId = this.loanaccountID;\r\n    this.apiService.upsertAdmissionDetails(payload).subscribe(data => {\r\n      console.log(\"data\", data);\r\n      if (data != null) {\r\n        this.snack.open('Data Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.next();\r\n      }\r\n    })\r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem('ADMISSION_DETAIL_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/loan/account/customer-information`]);\r\n  }\r\n\r\n  monthDiff(d1, d2) {\r\n    var months;\r\n    months = (d2.getFullYear() - d1.getFullYear()) * 12;\r\n    months -= d1.getMonth();\r\n    months += d2.getMonth();\r\n    return months <= 0 ? 0 : months;\r\n  }\r\n\r\n  dateRangeChange(dateRangeStart: HTMLInputElement, dateRangeEnd: HTMLInputElement) {\r\n    const arrayDate1 = dateRangeStart.value.split('/');\r\n    const date1 = new Date(arrayDate1[1] + '/' + arrayDate1[0] + '/' + arrayDate1[2]);\r\n    const arrayDate2 = dateRangeEnd.value.split('/');\r\n    const date2 = new Date(arrayDate2[1] + '/' + arrayDate2[0] + '/' + arrayDate2[2]);\r\n    \r\n    this.dateValue = date2;\r\n    if(dateRangeStart.value && dateRangeEnd.value){\r\n      this.admissionDetailsForm.controls['courseDuration'].setValue(this.monthDiff(date1,date2));\r\n    }\r\n    //console.log(months,this.monthDiff);\r\n  }\r\n   convertDate(value) {\r\n    let date = moment(value).format('YYYY-MM-DD'); // ISO 8601 format\r\n    // let date = new Date(value).format('yyyy-MMM-dd');\r\n    console.log(\"date\", date);\r\n    if (date)\r\n      return date;\r\n  }\r\n\r\n   getCountryName(key: string) {\r\n     this.apiService.getAllCountries().subscribe((data: any) => {\r\n      for(let i=0; i<data.length;i++){\r\n        if(data[i].authStatus==='A'){     \r\n          this.arrayCountry.push(data[i].countryName);\r\n          this.arrayCountry.sort();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n            <img src=\"assets/images/svg/Group 673.svg\" alt=\"\" class=\"w-90\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title\"><b>Admission Details</b></div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\">\r\n        <mat-card class=\"p-0\">\r\n            <mat-card-title class=\"\">\r\n                <div class=\"card-title-text\">Admission Details</div>\r\n                <mat-divider></mat-divider>\r\n            </mat-card-title>\r\n            <mat-card-content>\r\n                <form *ngIf=\"admissionDetailsForm\" [formGroup]=\"admissionDetailsForm\">\r\n\r\n                    <div fxLayout=\"row\" class=\"pt-16\" fxLayoutGap=\"30px\" fxLayoutAlign=\"start center\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Loan Requested for</mat-label>\r\n                                    <mat-select name=\"loanRequestedFor\" formControlName=\"loanRequestedFor\" \r\n                                                disableOptionCentering required>\r\n                                        <mat-option value=\"\"> Select </mat-option>\r\n                                        <mat-option value=\"test\">Overseas</mat-option>\r\n                                        <mat-option value=\"Home\">Home</mat-option>\r\n                                        <mat-option value=\"Education\">Education</mat-option>\r\n                                        <mat-option value=\"Business\">Business</mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('loanRequestedFor').valid && admissionDetailsForm.get('loanRequestedFor').touched\" >\r\n                                     Loan Requested for is Required!\r\n                                    </mat-error>  \r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Mode of Study</mat-label>\r\n                                    <mat-select name=\"modeOfStudy\" formControlName=\"modeOfStudy\" required disableOptionCentering>\r\n                                        <mat-option value=\"\"> Select </mat-option>\r\n                                        <mat-option value=\"test\">Full Time</mat-option>\r\n                                        <mat-option value=\"test\">Part Time</mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('modeOfStudy').valid && admissionDetailsForm.get('modeOfStudy').touched\" >\r\n                                      Mode of Study is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Institution</mat-label>\r\n                                    <input matInput name=\"institution\" formControlName=\"institution\" required placeholder=\"Institution\" \r\n                                    oninput=\"this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')\"/>\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('institution').valid && admissionDetailsForm.get('institution').touched\" >\r\n                                     Institution is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Country</mat-label>\r\n                                    <mat-select name=\"country\" formControlName=\"country\" required disableOptionCentering>\r\n                                        <mat-option value=\"\">Select</mat-option>\r\n                                        <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                          {{country}}\r\n                                        </mat-option>\r\n                                      </mat-select>\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('country').valid && admissionDetailsForm.get('country').touched\" >\r\n                                       Country is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Course Duration</mat-label>\r\n                                    <mat-date-range-input [rangePicker]=\"rangePicker\" required>\r\n                                        <input matStartDate #dateRangeStart placeholder=\"DD/MM/YYYY\" readonly>\r\n                                        <input matEndDate #dateRangeEnd (dateChange)=\"dateRangeChange(dateRangeStart, dateRangeEnd)\" placeholder=\"DD/MM/YYYY\" readonly>\r\n                                    </mat-date-range-input>\r\n                                    <mat-datepicker-toggle matSuffix [for]=\"rangePicker\"></mat-datepicker-toggle>\r\n                                    <mat-date-range-picker #rangePicker>\r\n                                        <mat-date-range-picker-actions>\r\n                                            <button mat-button matDateRangePickerCancel>Cancel</button>\r\n                                            <button mat-raised-button color=\"primary\"\r\n                                                matDateRangePickerApply>Apply</button>\r\n                                        </mat-date-range-picker-actions>\r\n                                    </mat-date-range-picker>\r\n                                      <!-- <mat-error *ngIf=\"!admissionDetailsForm.get('loanRequestedFor').valid && admissionDetailsForm.get('loanRequestedFor').touched\" >\r\n                                    &nbsp;&nbsp; Course Duration is Required!\r\n                                  </mat-error> -->\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Specialization</mat-label>\r\n                                    <input matInput name=\"specialization\" formControlName=\"specialization\" placeholder=\"Specialization\" required \r\n                                    oninput=\"this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')\"/>\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('specialization').valid && admissionDetailsForm.get('specialization').touched\" >\r\n                                     Specialization is Required!\r\n                                    </mat-error> \r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Employment Potential</mat-label>\r\n                                    <input matInput name=\"employmentPotential\" formControlName=\"employmentPotential\" placeholder=\"Employment Potential Value\" (keypress)=\"_keyPress($event)\" required />\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('employmentPotential').valid && admissionDetailsForm.get('employmentPotential').touched\" >\r\n                                       Employment Potential is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field> \r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Cost of Course (In GBP)s</mat-label>\r\n                                    <input matInput  name=\"costOfCourse\" formControlName=\"costOfCourse\" placeholder=\"Cost of Course\"  (keypress)=\"_keyPress($event)\" required />\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('costOfCourse').valid && admissionDetailsForm.get('costOfCourse').touched\" >\r\n                                       Cost Of Course is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Admission Status</mat-label>\r\n                                    <mat-select name=\"admissionStatus\" formControlName=\"admissionStatus\" required disableOptionCentering>\r\n                                        <mat-option value=\"\"> Select </mat-option>\r\n                                        <mat-option value=\"test\">Under Process</mat-option>\r\n                                        <mat-option value=\"test\">Confirmed</mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('admissionStatus').valid && admissionDetailsForm.get('admissionStatus').touched\" >\r\n                                      Admission Status is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Proposed Course of Study</mat-label>\r\n                                    <input matInput name=\"proposedCourseOfStudy\" formControlName=\"proposedCourseOfStudy\" placeholder=\"Study Purpose\" required \r\n                                    oninput=\"this.value = this.value.replace(/[^A-Za-z&/.() ]|^ /g,'')\"/>\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('proposedCourseOfStudy').valid && admissionDetailsForm.get('proposedCourseOfStudy').touched\" >\r\n                                      Proposed Course of Study is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>University / School</mat-label>\r\n                                    <input matInput name=\"university\" formControlName=\"university\" placeholder=\"university/School\" required \r\n                                    oninput=\"this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')\"/>\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('university').valid && admissionDetailsForm.get('university').touched\" >\r\n                                     University / School is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Institution Ranking</mat-label>\r\n                                    <input matInput name=\"institutionRanking\" formControlName=\"institutionRanking\" placeholder=\"Ranking\" (keypress)=\"_keyPress($event)\" required />\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('institutionRanking').valid && admissionDetailsForm.get('institutionRanking').touched\" >\r\n                                       Institution Ranking is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Course Commencement Date</mat-label>\r\n                                    <input matInput name=\"courseCommencementDate\" class=\"alignment\" formControlName=\"courseCommencementDate\" placeholder=\"DD/MM/YYYY\"\r\n                                      [matDatepicker]=\"picker\" [min]=\"dateValue\" required/>\r\n                                      <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n                                  <mat-datepicker #picker></mat-datepicker>                              \r\n                                \r\n                                    <!-- <input matInput [matDatepicker]=\"picker\" name=\"courseCommencementDate\" formControlName=\"courseCommencementDate\" readonly required>\r\n                                    <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n                                    <mat-datepicker #picker></mat-datepicker> -->\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('courseCommencementDate').valid && admissionDetailsForm.get('courseCommencementDate').touched\" >\r\n                                     Course Commencement Date is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Projected Earning</mat-label>\r\n                                    <input matInput name=\"projectedEarning\" formControlName=\"projectedEarning\" placeholder=\"Projected Earning\" (keypress)=\"_keyPress($event)\" required />\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('projectedEarning').valid && admissionDetailsForm.get('projectedEarning').touched\" >\r\n                                       Project Earning is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"p-16\">\r\n                                <div class=\"pb-16\">\r\n                                    <div class=\"pb-4\">\r\n                                        <div class=\"pb-1\">                                            \r\n                                                Scholarship/ Business Eligible &nbsp;&nbsp;&nbsp;\r\n                                                <mat-slide-toggle name=\"scholarshipOrBusinessEligible\" class=\"charge\" formControlName=\"scholarshipOrBusinessEligible\"\r\n                                                [checked]=\"scholarshipOrBusinessEligible\">\r\n                                            </mat-slide-toggle>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Source (In GBP)</mat-label>\r\n                                    <input matInput name=\"source\" formControlName=\"source\" placeholder=\"Source\" (keypress)=\"_keyPress($event)\" required />\r\n                                    <mat-error *ngIf=\"!admissionDetailsForm.get('source').valid && admissionDetailsForm.get('source').touched\" >\r\n                                       School (In GBP) is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n                    </div>                    \r\n                </form>\r\n            </mat-card-content>\r\n        </mat-card>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n            <button type=\"button\" class=\"Backbtn\" (click)=\"goBack()\" mat-button rounded >\r\n                Back\r\n            </button>\r\n            <button type=\"button\" class=\"Nextbtn\" [disabled]=\"!admissionDetailsForm.valid\" (click)=\"submitForm()\" mat-raised-button color=\"primary\">\r\n                Next\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { rumangoAnimations } from 'app/shared/animations/rumango-animations';\r\nimport { PostOfferAmendmentSummaryComponent } from './post-offer-amendment-summary/post-offer-amendment-summary.component';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { PostOfferAmendmentStageSummaryComponent } from './post-offer-amendment-stage-summary/post-offer-amendment-stage-summary.component';\r\n\r\n@Component({\r\n  selector: 'app-post-offer-amend-stage',\r\n  templateUrl: './post-offer-amend-stage.component.html',\r\n  styleUrls: ['./post-offer-amend-stage.component.scss'],\r\n  animations:rumangoAnimations\r\n})\r\nexport class PostOfferAmendStageComponent implements OnInit {\r\n  ispostOfferAmendStageDone: boolean;\r\n  isOfferIssueRejectScreen: boolean;\r\n\r\n  constructor(private router:Router,public dialog: MatDialog, private ls: LocalStoreService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.ispostOfferAmendStageDone = this.ls.getItem('post-offer-amend-stage');\r\n    this.isOfferIssueRejectScreen = this.ls.getItem('OfferIssueRejectScreen');\r\n  }\r\n\r\n  goTopostOfferAmendmentSummary(): void {\r\n    const dialogRef = this.dialog.open(PostOfferAmendmentSummaryComponent, {\r\n      width: '75%',\r\n      backdropClass: 'dialog-bg-trans',\r\n      height: '60%',\r\n      disableClose: true,\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      console.log('The dialog was closed');\r\n    });\r\n\r\n  }\r\n\r\n  gotopostOfferAmendStageSummary(): void {\r\n    this.router.navigate([`/loan/account/post-offer-amend-stage-summary/`]);\r\n\r\n  }\r\n\r\n  // goToOfferIssue(){\r\n  //   // this.router.navigate([`/loan/account/loan-details`]);\r\n  //   this.router.navigate([`/loan/account/offer-issue`]);\r\n  // }\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <!-- <div class=\"propic text-center\">\r\n        <img src=\"assets/images/face-7.png\" alt=\"\" class=\"w-80\" />\r\n      </div> -->\r\n      <div class=\"profile-pic text-center\">\r\n         <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n        <i class=\"fa fa-edit upload-icon\"></i>\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Create Retail Loan Account</b></div>\r\n        <div class=\"text-muted\">\r\n            Open a Retail Loan Account with XYZ Bank in a better way. \r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-8\" *ngIf = \"ispostOfferAmendStageDone\">\r\n      <mat-card \r\n        [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\"\r\n      >\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n          <div fxFlex=\"10\">\r\n            <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n          </div>\r\n          <div fxFlex=\"30\">\r\n            <h6>Post Offer Amendment Stage Completed</h6>\r\n          </div>\r\n          <span fxFlex></span>\r\n          <button\r\n         \r\n            mat-button\r\n            color=\"primary\"\r\n            (click)=\"gotopostOfferAmendStageSummary()\"\r\n          >\r\n            View Summary\r\n          </button>\r\n        </div>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <!-- <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>1. Offer Issue</mat-card-title>\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                Enables the approver to capture offer issue date\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/Group 673.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n        </mat-card-content>\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <a mat-button\r\n            color=\"primary\"\r\n            (click)=\"goToOfferIssue()\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div> -->\r\n\r\n\r\n\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>1. Post Offer Amendment </mat-card-title>\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\"  class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                Post Offer Amendment details are displayed.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/undraw_Post_re_mtr_4.svg'\r\n                \"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </mat-card-content>\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"!ispostOfferAmendStageDone\">\r\n            <button\r\n            \r\n            mat-button\r\n            color=\"primary\"\r\n            [routerLink]=\"[ '/loan/account/post-offer-amendment' ]\"\r\n          >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"ispostOfferAmendStageDone\">\r\n          <button   \r\n          \r\n          mat-button\r\n          (click)=\"goTopostOfferAmendmentSummary()\"\r\n          color=\"primary\"\r\n          >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n        </button>\r\n      </ng-container>\r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div>\r\n\r\n\r\n\r\n    <!-- <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card>\r\n        <mat-card-header>[disabled] = \"!isOfferIssueRejectScreen\"\r\n          <mat-card-title>3. Loan Disbursement Details</mat-card-title>\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                Loan Disbursement Details are displayed\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/undraw_personal_information_re_vw8a.svg'\r\n                \"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </mat-card-content>\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n         \r\n            <button\r\n            mat-button\r\n            color=\"primary\"\r\n            [routerLink]=\"[ '/loan/account/loan-disbursement' ]\"\r\n          >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div> -->\r\n\r\n\r\n\r\n    <!-- <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>4. Loan Repayment Details</mat-card-title>\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                All the primary customer information details are displayed\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/undraw_personal_information_re_vw8a.svg'\r\n                \"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"mb-1\">\r\n          </div>\r\n        </mat-card-content>\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n         \r\n            <button\r\n            mat-button\r\n            color=\"primary\"\r\n            [routerLink]=\"[ '/loan/account/loan-repayment' ]\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n      \r\n    </div> -->\r\n  </div>\r\n  \r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { rumangoAnimations } from 'app/shared/animations/rumango-animations';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/home/account.service';\r\nimport { Router } from '@angular/router';\r\nimport { AssessmentSummaryComponent } from './assessment-summary/assessment-summary.component';\r\nimport { LoanViewSummaryComponent } from './loan-view-summary/loan-view-summary.component';\r\nimport { OfferAcceptRejectSumaryComponent } from './offer-accept-reject-summary/offer-accept-reject-summary.component';\r\n\r\n@Component({\r\n  selector: 'app-account-approval-stage',\r\n  templateUrl: './account-approval-stage.component.html',\r\n  styleUrls: ['./account-approval-stage.component.scss'],\r\n  animations:rumangoAnimations\r\n})\r\nexport class AccountApprovalStageComponent implements OnInit {\r\n\r\n  isAccountApproveStageDone: boolean = false;\r\n  isAssessmentStageDone: boolean = false;\r\n  isOfferAcceptRejectStageDone: boolean = false;\r\n  isLoanSummaryStageDone: boolean = false;\r\n\r\n  constructor( private router: Router,public dialog: MatDialog,private ls: LocalStoreService,private cdr:ChangeDetectorRef ,private accountService:AccountService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isAccountApproveStageDone = this.ls.getItem('account-approval');\r\n    this.isAssessmentStageDone = this.ls.getItem('assessment-details');\r\n    this.isOfferAcceptRejectStageDone = this.ls.getItem('offer-acceptReject-details');\r\n    this.isLoanSummaryStageDone = this.ls.getItem('loan-summary-details');\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n      \r\n      // Parent 1\r\n      this.isAccountApproveStageDone = this.ls.getItem('account-approval');\r\n      this.isAssessmentStageDone = this.ls.getItem('assessment-details');\r\n      this.isOfferAcceptRejectStageDone = this.ls.getItem('offer-acceptReject-details');\r\n      this.isLoanSummaryStageDone = this.ls.getItem('loan-summary-details');\r\n      // Parent 1 childs nav\r\n      \r\n    \r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  // openDialog(): void {\r\n  //   let dialogRef = this.dialog.open(AssessmentSummaryComponent, {\r\n  //     width: '800px',\r\n  //     height:'600px',\r\n  //     // data: { name: this.name, animal: this.animal }\r\n  //   });\r\n  // }\r\n\r\n  goToAssessmentSummary(): void {\r\n    const dialogRef = this.dialog.open(AssessmentSummaryComponent, {\r\n      width: '75%',\r\n      backdropClass: 'dialog-bg-trans',\r\n      height: '50%',\r\n      disableClose: true,\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      console.log('The dialog was closed');\r\n    });\r\n  }\r\n\r\n  openDialog1(): void {\r\n    const dialogRef = this.dialog.open(OfferAcceptRejectSumaryComponent, {\r\n      width: '75%',\r\n      backdropClass: 'dialog-bg-trans',\r\n      height: '60%',\r\n      disableClose: true,\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      console.log('The dialog was closed');\r\n    });\r\n\r\n  }\r\n\r\n  openDialog2(): void {\r\n    const dialogRef = this.dialog.open(LoanViewSummaryComponent, {\r\n      width: '75%',\r\n      backdropClass: 'dialog-bg-trans',\r\n      height: '70%',\r\n      disableClose: true,\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      console.log('The dialog was closed');\r\n    });\r\n\r\n  }\r\n\r\n  gotoAccountApprovalSummary(){\r\n    this.router.navigate([`/loan/account-approval/account-approval-summary-details/`]);\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <!-- <div class=\"propic text-center\">\r\n        <img src=\"assets/images/face-7.png\" alt=\"\" class=\"w-80\" />\r\n      </div> -->\r\n      <div class=\"profile-pic text-center\">\r\n        <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n        <i class=\"fa fa-edit upload-icon\"></i>\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Create Retail Loan Account</b></div>\r\n        <div class=\"text-muted\">\r\n            Open a Retail Loan Account with XYZ Bank in a better way. \r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\"  class=\"mt-8\" *ngIf=\"!isAccountApproveStageDone\">\r\n      <mat-card \r\n        [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\"\r\n      >\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n          <div fxFlex=\"10\">\r\n            <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n          </div>\r\n          <div fxFlex=\"30\">\r\n            <h3>Account Approval Stage Completed</h3>\r\n          </div>\r\n          <span fxFlex></span>\r\n          <button\r\n            mat-button\r\n            color=\"primary\"\r\n            (click)=\"gotoAccountApprovalSummary()\"\r\n            class=\"btn-color\"\r\n          >\r\n            View Summary\r\n            <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </div>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n      <!-- Card 1 start-->\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>1. Assessment Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                Basic Details for Loan Account is captured.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/Group 673.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <div class=\"mb-1\"  *ngIf=\"isAssessmentStageDone\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n          </div>\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <a\r\n            mat-button\r\n            color=\"primary\"\r\n            [routerLink]=\"['/loan/account-approval/assessment-details/']\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n          <a   \r\n          *ngIf=\"isAssessmentStageDone\"\r\n          mat-button\r\n          (click)=\"goToAssessmentSummary()\"\r\n          color=\"primary\"\r\n          >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n        </a>\r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 1 end -->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start-->\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>2. Offer Accept / Reject Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                Details about asset or vehicle or admission is added.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/undraw_personal_information_re_vw8a.svg'\r\n                \"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <div class=\"mb-1\"  *ngIf=\"isOfferAcceptRejectStageDone\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n          </div>\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"isAssessmentStageDone && isOfferAcceptRejectStageDone; else showCustomer\">\r\n            <a\r\n              mat-button\r\n              (click)=\"openDialog1()\"\r\n              color=\"primary\" \r\n            >\r\n          <!-- *ngIf=\"isAssessmentStageDone && isOfferAcceptRejectStageDone; else showCustomer\" -->\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n          </ng-container>        \r\n          <ng-template  #showCustomer>\r\n            <button\r\n            mat-button\r\n            [routerLink]=\"['/loan/account-approval/offer-acceptReject-details/']\"\r\n            \r\n            color=\"primary\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n          </ng-template>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>\r\n    <!-- card 3 start -->\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>3. Loan Summary Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>All the primary information about the customer is captured.</p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"'assets/images/svg/undraw_Terms_re_6ak4.svg'\"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <div class=\"mb-1\"  *ngIf=\"isLoanSummaryStageDone\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n          </div>\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"isOfferAcceptRejectStageDone && isLoanSummaryStageDone; else showCustomer\">\r\n            <a\r\n            *ngIf=\"isLoanSummaryStageDone\"\r\n            mat-button\r\n            (click)=\"openDialog2()\"\r\n            color=\"primary\"\r\n          >\r\n          <!-- *ngIf=\"isOfferAcceptRejectStageDone && isLoanSummaryStageDone; else showCustomer\" -->\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n          </ng-container>        \r\n          <ng-template #showCustomer>\r\n            <button\r\n            mat-button\r\n            [routerLink]=\"['/loan/account-approval/loan-summary-details/']\"      \r\n            color=\"primary\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n          </ng-template>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div>\r\n    <!-- Card 3 end -->\r\n  </div>\r\n  ","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\nimport { AccountService } from '../../account.service';\r\n\r\n@Component({\r\n  selector: 'app-loan-details',\r\n  templateUrl: './loan-details.component.html',\r\n  styleUrls: ['./loan-details.component.scss']\r\n})\r\nexport class LoanDetailsComponent implements OnInit {\r\n loanForm:FormGroup;\r\n showEditOption: boolean = false;\r\n loanDetails: any;\r\n productName: any;\r\n arrayAccountBranch: any;\r\n entityName: string;\r\n accountType: any;\r\n  loanAccountId: any;\r\n  loanaccountID: any;\r\n  resultOfScreen: string[];\r\n  screenArray: any;\r\n  screenArrayData: any;\r\n  loan_ammount: any;\r\n  estimted_cost: any;\r\n  flag: boolean=false;\r\n  flag1: boolean=false;\r\n  branchName: any;\r\n  currencyData: any;\r\n  isHomeLoan: boolean=false;\r\n  isVehicleLoan:boolean=false;\r\n  minDate = new Date();\r\n  maxDate = new Date();\r\n  selectedDay: number = 1;\r\n // day: number;\r\n  days: any[] = [];\r\n  months: any[] = [];\r\n  selectedYear: number;\r\n  //year: number;\r\n  years: any[] = [];\r\n  loanInfo: any;\r\n\r\n \r\n  constructor(private fb:FormBuilder,private api: ApiService,\r\n    private ls: LocalStoreService,private loader: AppLoaderService,\r\n    private apiService:ApiService, private snack: MatSnackBar,private accountService: AccountService,\r\n    private router: Router) { \r\n      this.maxDate.setDate(this.maxDate.getDate() + 13),\r\n      \r\n      this.loanForm = this.fb.group({\r\n       loanAccountId:[''],\r\n       businessProductName:['',[Validators.required]],\r\n       accountBranch:[''],\r\n       applicationDate:['',[Validators.required]],\r\n       accountType:[''],\r\n       estimatedCost:[''],\r\n       customerContribution:[''],\r\n       loanAmount:[''],\r\n       loanTenure:[''],\r\n       year:[''],\r\n       month:[''],\r\n       day:[''],\r\n       purposeOfLoan:[''],\r\n       accountCurrency:[''],\r\n   \r\n     })}\r\n\r\n  ngOnInit(): void {\r\n    this.selectedYear = new Date().getFullYear();\r\n    // for (let day = this.selectedDay; day <= 31; day++) {\r\n    //   this.days.push(day);\r\n    // }\r\n    // for (let year = this.selectedYear; year >= 2000; year--) {\r\n    //   this.years.push(year);\r\n    // }\r\n    // this.months = [\r\n    //   \"Jan\",\r\n    //   \"Feb\",\r\n    //   \"Mar\",\r\n    //   \"Apr\",\r\n    //   \"May\",\r\n    //   \"Jun\",\r\n    //   \"Jul\",\r\n    //   \"Aug\",\r\n    //   \"Sep\",\r\n    //   \"Oct\",\r\n    //   \"Nov\",\r\n    //   \"Dec\",\r\n    // ];\r\n    for (let year = 0; year <= 50; year++) {\r\n      this.years.push(year+ \" year\");\r\n    }\r\n\r\n    for (let month = 0; month <= 11; month++) {\r\n      this.months.push(month+ \" month\");\r\n    }\r\n\r\n    for (let day = 0; day <= 30; day++) {\r\n      this.days.push(day+ \" day\");\r\n    }\r\n    this.getAccountBranchDetails();\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    console.log(\"this.productaccountID1\",this.loanaccountID);\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    let isLoanDetailsScreen: boolean = JSON.parse(this.ls.getItem('LOAN_DETAIL_DONE'));\r\n    //if (this.loanAccountId != null && isLoanDEtailsScreen) {\r\n      setTimeout(() => {\r\n        if (this.loanaccountID != null && isLoanDetailsScreen) {\r\n          this.showEditOption = true;\r\n          \r\n          this.getAccountDetails();\r\n        } \r\n        else {\r\n          console.log(\"else\");\r\n          this.showEditOption = false;\r\n          this.buildformGroup();\r\n        }\r\n      }, 1);\r\n  \r\n    \r\n    this.getBusinessProductDetails(\"business_product_name\");\r\n\r\n    //this.getAccountType(\"businessProductName\")\r\n  }\r\n\r\n  getAccountDetails(){\r\n    this.loader.open();\r\n    //this.apiService.getAssetValuation(this.loacnAccountId).subscribe((accountDetails) => {\r\n    this.apiService.getLoanDetails(this.loanaccountID).subscribe((accountDetails) => {\r\n      this.loader.close();\r\n      this.loanDetails = accountDetails;\r\n      console.log(this.loanDetails);\r\n      this.buildformGroup(this.loanDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n\r\n  }\r\n  getBusinessProductDetails(key: string){\r\n   this.apiService.getBusinessProductName(key).subscribe((data) => {\r\n      console.log(\"data:: AccountBranch \", data)\r\n      this.arrayAccountBranch = data;\r\n      \r\n       /*console.log(\"this.productName::\", this.productName, this.arrayAccountBranch)\r\n\r\n      this.currencyData = this.arrayAccountBranch.find(x => x.productName == this.productName);\r\n      console.log(\"Currency\", this.currencyData)\r\n\r\n      if (this.currencyData != null || this.currencyData != undefined) {\r\n        this.accountForm.get('accountCurrency').setValue(this.currencyData.branchCcy);\r\n      }*/\r\n\r\n    });\r\n  }\r\n  getAccountType(businessProductName) {\r\n    //this.entityName = \"state\";\r\n    console.log(\"State -- \", businessProductName)\r\n    this.apiService.getAccount(businessProductName).subscribe((data) => {\r\n      console.log(\"data.accountType\",data);\r\n      this.accountType = data.accountTypeName;\r\n      console.log(\"this.accountType\",this.accountType);\r\n      this.loanForm.get('accountType').setValue(data.accountTypeName);\r\n     \r\n    });\r\n  }\r\n  getAccountBranchDetails() {\r\n    //debugger\r\n    this.api.getAccountBranch().subscribe((data) => {\r\n      console.log(\"data:: AccountBranch \", data)\r\n      this.screenArray = data;\r\n      this.screenArrayData=data;\r\n      if (this.screenArray.length == 0) {\r\n        this.screenArray.push(this.branchName);\r\n      }\r\n      console.log(\"this.branchName::\", this.branchName, this.screenArray)\r\n      this.currencyData = this.screenArray.find(x => x.branchName == this.branchName);\r\n      console.log(\"Currency\", this.currencyData)\r\n\r\n      if (this.currencyData != null || this.currencyData != undefined) {\r\n        this.loanForm.get('accountCurrency').setValue(this.currencyData.branchCcy);\r\n      }\r\n\r\n    });\r\n  }\r\n  onChangeBranch(value) {\r\n    this.currencyData = this.screenArray.find(x => x.branchName == value.value);\r\n    if (this.currencyData != null || this.currencyData != undefined) {\r\n      this.loanForm.get('accountCurrency').setValue(this.currencyData.branchCcy);\r\n    }\r\n  }\r\n\r\n\r\n  buildformGroup(data?) {\r\n    let applicationDate = data ? moment(data.applicationDate).format() : '';\r\n    console.log(applicationDate)\r\n    this.loanForm = this.fb.group({\r\n    loanAccountId: [this.loanaccountID],\r\n      businessProductName:[data ? data.businessProductName:'',[Validators.required]],\r\n      accountBranch:[data ? data.accountBranch:''],\r\n      applicationDate: [data ? applicationDate : '',[Validators.required]],\r\n      accountType:[data ? data.accountType:'',[Validators.required]],\r\n      estimatedCost:[data ? data.estimatedCost:'',[Validators.required]],\r\n      customerContribution:[data ? data.customerContribution:''],\r\n      loanAmount:[data ? data.loanAmount:'',[Validators.required]],\r\n      purposeOfLoan:[data ? data.purposeOfLoan:''],\r\n      accountCurrency: [data ? data.accountCurrency : '', Validators.required],\r\n      // accountCurrency:[data ? data.accountCurrency:''],\r\n      loanTenure:[data ? data.loanTenure:''],\r\n      day: [data ? (data.loanTenure.split(\"-\")[2]) : \"\",[Validators.required]],\r\n      month: [data ? data.loanTenure.split(\"-\")[1] : \"\",[Validators.required]],\r\n      year: [data ? (data.loanTenure.split(\"-\")[0]) : \"\",[Validators.required]],\r\n    })\r\n  }\r\n\r\n  goBack(){\r\n    this.router.navigate([`/loan/account/list`]);\r\n  }\r\n\r\n  next(){\r\n   \r\n    this.ls.setItem('LOAN_DETAIL_DONE', true);\r\n    \r\n    console.log(\"this.accountType\",this.accountType);\r\n    console.log(\"this.ls.accounttype\",this.ls.getItem('accountType'))\r\n    //this.router.navigate([`/loan/account/asset-details`]);\r\n    if((this.accountType||this.ls.getItem('accountType'))==\"Home Loan\"){\r\n      this.ls.setItem('isHomeLoan', true);\r\n      this.accountService.refresh.next();\r\n      this.router.navigate([`/loan/account/asset-details`]);\r\n      \r\n    }\r\n    else if((this.accountType||this.ls.getItem('accountType'))==\"Vehicle Loan\"){\r\n      this.ls.setItem('isVehicleLoan', true);\r\n      this.accountService.refresh.next();\r\n      this.router.navigate([`/loan/account/vehicle-details`]);\r\n      \r\n    }\r\n   \r\n    else{\r\n      this.ls.setItem('isEducationLoan', true);\r\n     this.accountService.refresh.next();\r\n      this.router.navigate([`/loan/account/admission-details`]);\r\n      \r\n\r\n    }\r\n    \r\n        //this.ls.setItem('LOAN_DISBURSEMENT_DETAIL_DONE', true);\r\n  \r\n  }\r\n  assign(valueForaccId) {\r\n    this.api.setAccountId({\r\n      loanAccountId: valueForaccId\r\n    });\r\n    console.log(\"loan\", this.loanAccountId)\r\n  }\r\n  keyPressofScreems(event)\r\n  {\r\n    let screennbame = event.target.value.toLowerCase();\r\n    this.resultOfScreen = this.screenArrayData.filter(s => s.toLowerCase().includes(screennbame));\r\n  \r\n    this.screenArray = this.resultOfScreen;\r\n  }\r\n  submitForm(){\r\n    \r\n    //details.push(this.legalOpinion.value);\r\n    let now = new Date();\r\n    now=this.loanForm.value.applicationDate;\r\n    console.log(\"applicationDate\",this.loanForm.value.applicationDate);\r\n    \r\n    var dateStringWithTime = moment(now).format('YYYY-MMM-DD HH:MM:SS');\r\n    console.log(\"dateStringWithTime\",dateStringWithTime);\r\n    var ck=new Date(dateStringWithTime);\r\n    console.log(\"ck\",ck)\r\n    var pk=this.loanForm.value.loanAmount;\r\n    pk= parseInt(pk);\r\n    var prSize=this.loanForm.value.estimatedCost;\r\n    prSize= parseInt(prSize);\r\n    const renewData =\r\n    this.loanForm.value.year +\r\n    \"-\" +\r\n    this.loanForm.value.month +\r\n    \"-\" +\r\n    this.loanForm.value.day;\r\n  this.loanForm.get(\"loanTenure\").setValue(renewData);\r\n  delete this.loanForm.value.year;\r\n  delete this.loanForm.value.month;\r\n  delete this.loanForm.value.day;\r\n    let payload={\r\n      loanAccountId: this.showEditOption ? this.loanaccountID : null,\r\n      businessProductName:this.loanForm.value.businessProductName,\r\n      accountBranch:this.loanForm.value.accountBranch,\r\n      applicationDate:dateStringWithTime,\r\n      accountType:this.loanForm.value.accountType,\r\n      estimatedCost:prSize,\r\n      customerContribution:this.loanForm.value.customerContribution,\r\n      loanAmount:pk,\r\n      purposeOfLoan:this.loanForm.value.purposeOfLoan,\r\n      loanTenure:this.loanForm.value.loanTenure,\r\n      accountCurrency:this.loanForm.value.accountCurrency\r\n    }\r\n    console.log(\"payload\",payload)\r\n    this.apiService.saveLoanDetails(payload).subscribe(data => {\r\n      console.log(\"data\",data.loanAccountId);\r\n      this.loanAccountId=data.loanAccountId;\r\n      console.log(\"loanAccountid\",this.loanAccountId);\r\n      this.assign(data.loanAccountId)\r\n      if (data === 200 || data !== null) {\r\n        let statusModel = {\r\n          loanAccountId: data.loanAccountId,\r\n          status: \"ONGOING\"\r\n        };\r\n        this.apiService.updateLoanDetailsStatus(statusModel).subscribe(data => {\r\n        });\r\n        sessionStorage.setItem('loanAccountId', data.loanAccountid);\r\n        let fundStatus = {\r\n          loanAccountid: data.loanAccountid\r\n          \r\n        };\r\n       \r\n\r\n        this.ls.setItem('loanAmount', data.loanAmount);\r\n        this.ls.setItem('fundByStatus', fundStatus);\r\n        this.ls.setItem('accountType', data.accountType);\r\n        this.ls.setItem('loanAccountId', data.loanAccountId);\r\n        // this.ls.setItem('accountType',data.accountType);\r\n        this.ls.setItem('productName',data.businessProductName);\r\n        this.loanaccountID = this.ls.getItem('loanAccountid');\r\n    console.log(\"this.productaccountID\",this.loanaccountID);\r\n        this.snack.open('Loan Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      }\r\n      if( data === 500){\r\n        this.snack.open('Not able to connect to server!', 'INTERNAL SERVER ERROR', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        console.log(\"500 error\")\r\n      }\r\n      \r\n      this.next();\r\n    })\r\n    \r\n  //this.next();\r\n}\r\n\r\n_keyPress(event: any) {\r\n  // console.log(\"key\",event);\r\n  const pattern = /[0-9]/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  console.log(\"inputChar\",inputChar);\r\n  inputChar=inputChar.toString();\r\n  console.log(\"inputChar1\",inputChar);\r\n  inputChar=inputChar\r\n  if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n  }\r\n }\r\n calculateLoanAmmount(value) {\r\n  console.log(\"value\",value.customerContribution)\r\n  // if(value.customerContribution >=value.estimatedCost ){\r\n    if(value.customerContribution===''){\r\n      return Number(value.estimatedCost);\r\n    }\r\n      else{\r\n        if(value.customerContribution==''|| value.customerContribution==0){\r\n          let income:number = Number(value.estimatedCost) - Number(value.loanAmount);\r\n          this.loanForm.controls.customerContribution.setValue(income);\r\n\r\n        }else{\r\n          if(Number(value.estimatedCost)<Number(value.customerContribution) ){\r\n            if(value.estimatedCost){\r\n              this.flag=true;\r\n            console.log(\"this.flag\",this.flag);\r\n            }\r\n              }\r\n              else{\r\n                this.flag=false;\r\n              }\r\n        \r\n      if(Number(value.estimatedCost)<Number(value) ){\r\n        // this.flag1=true;\r\n        console.log(\"this.flag\",this.flag1);\r\n          }\r\n          else{\r\n            this.flag1=false;\r\n          }\r\n      let income:number = Number(value.estimatedCost) - Number(value.customerContribution);\r\n      // if(value.estimatedCost == value.loanAmount){\r\n      //   return value.customerContribution = 0;\r\n      // }\r\n      \r\n      if(income<0){\r\n        this.loanForm.controls.loanAmount.setValue(0);\r\n    \r\n      }else{\r\n        this.loanForm.controls.loanAmount.setValue(income);\r\n    \r\n        }\r\n        }\r\n}\r\n  // this.fincancialDetails.controls.monthlyIncome.get('monthlyIncomeTotal').setValue(income);\r\n  //  this.loanForm.controls.loanAmount.setValue(income);\r\n  //this.cdr.markForCheck();\r\n  //this.cdr.detectChanges();\r\n\r\n // this.calculateTotalIncomeAndExpense(this.fincancialDetails.value);\r\n}\r\n\r\ncalculateestimatedCost(value) {\r\n  console.log(\"value\",value.loanAmount)\r\n  if(value.loanAmount===''){\r\n    return;\r\n  }else{\r\n    if(value.loanAmount==''|| value.loanAmount==0){\r\n      let income:number = Number(value.estimatedCost) - Number(value.customerContribution);\r\n      this.loanForm.controls.loanAmount.setValue(income);\r\n    }else{\r\n    if(Number(value.estimatedCost)<Number(value.loanAmount) ){\r\n      if(value.estimatedCost!==''){\r\n      this.flag1=true;\r\n      console.log(\"this.flag\",this.flag1);\r\n      }\r\n  }\r\n  else{\r\n    this.flag1=false;\r\n  }\r\n  if(Number(value.estimatedCost)<Number(value) ){\r\n    // this.flag=true;\r\n    console.log(\"this.flag\",this.flag);\r\n      }\r\n      else{\r\n        this.flag=false;\r\n      }\r\n  let income:number = Number(value.estimatedCost) - Number(value.loanAmount);\r\n  // if(value.estimatedCost == value.customerContribution){\r\n  //   return value.loanAmount = 0;\r\n  // }\r\n  if(income<0){\r\n    this.loanForm.controls.customerContribution.setValue(0);\r\n\r\n  }else{\r\n    this.loanForm.controls.customerContribution.setValue(income);\r\n\r\n  }\r\n}\r\n}\r\n}\r\ncalculatCustomerContri(value) {\r\n  console.log(\"value\",value.loanAmount)\r\n  if(value.customerContribution==''|| value.loanAmount==''){\r\n    return;\r\n  }else{\r\n    if(value.estimatedCost==''){\r\n      let income:number = Number(value.customerContribution) + Number(value.loanAmount);\r\n      this.loanForm.controls.estimatedCost.setValue(income);\r\n    }\r\n    \r\n  }\r\n  \r\n}\r\n}\r\n\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/Group 673.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Loan Details</b></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">\r\n      <!-- <mat-card-title class=\"\">\r\n        <div class=\"card-title-text\">Loan Information</div>\r\n        <mat-divider></mat-divider>\r\n      </mat-card-title> -->\r\n     \r\n      <mat-card-title class=\"alignChange\">\r\n        <fieldset>\r\n        <legend visible=\"true\">Loan Information</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form *ngIf=\"loanForm\" [formGroup]=\"loanForm\">\r\n\r\n               <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                      <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Business Product Name*</mat-label>\r\n                          \r\n             \r\n                              <mat-select name=\"account_branch\" placeholder=\"Select \" formControlName=\"businessProductName\" \r\n                              (selectionChange)=\"getAccountType($event.value)\" disableOptionCentering>\r\n                                   <mat-option>Select</mat-option>\r\n                                <mat-option *ngFor=\"let businessProductName of arrayAccountBranch\" [value]=\"businessProductName\"> \r\n                                   {{businessProductName}} \r\n                                  </mat-option> \r\n                               </mat-select>\r\n                              \r\n                          \r\n                           <mat-error *ngIf=\"loanForm.get('businessProductName').touched && !loanForm.get('businessProductName').valid\">\r\n                            Business Product Name is Required!</mat-error> \r\n                          </mat-form-field>\r\n                        </div>\r\n                       \r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Application Date*</mat-label>\r\n                              <input matInput name=\"date\" class=\"alignment\" formControlName=\"applicationDate\" placeholder=\"DD/MM/YYYY\"\r\n                              [matDatepicker]=\"appDatepicker\" [min]=\"minDate\" [max]=\"maxDate\" />\r\n                              <div fxFlex=\"8%\" id=\"toggle\" class=\"datechange\">\r\n                                <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                                <mat-datepicker #appDatepicker></mat-datepicker>\r\n                              </div>\r\n                            </mat-form-field>\r\n                         <mat-error *ngIf=\"!loanForm.get('applicationDate').valid  && loanForm.get('applicationDate').touched\">\r\n                              Application Date is Required!</mat-error>\r\n                          \r\n                        </div>\r\n          \r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Estimated Cost*</mat-label>\r\n                          \r\n            \r\n                            <input\r\n                                matInput formControlName=\"estimatedCost\"\r\n                                name=\"a_sig\" class=\"alignment\" autocomplete=\"off\"\r\n                                placeholder=\"Estimated Cost\"\r\n                                (keypress)=_keyPress($event)\r\n                                (input)=\"calculateLoanAmmount(loanForm.value)\"\r\n                                (input)=\"calculateestimatedCost(loanForm.value)\"\r\n\r\n                              />\r\n                              \r\n                          \r\n                           <mat-error *ngIf=\"!loanForm.get('estimatedCost').valid  && loanForm.get('estimatedCost').touched\">\r\n                            Estimated Cost is Required!</mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                       \r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Loan Amount *</mat-label>\r\n                          \r\n            \r\n                            <input\r\n                                matInput formControlName=\"loanAmount\" autocomplete=\"off\"\r\n                                name=\"a_sig\" class=\"alignment\"\r\n                                placeholder=\"Loan Amount\"\r\n                                (input)=\"calculatCustomerContri(loanForm.value)\"\r\n                                (input)=\"calculateestimatedCost(loanForm.value)\"\r\n                                \r\n                              />\r\n                            </mat-form-field> \r\n                          \r\n                          <!-- <mat-error *ngIf=\"!mandate.controls['remarks'].valid  && mandate.controls['remarks'].touched\">\r\n                              Remarks is Required!</mat-error> -->\r\n                              <small style=\"color:red;\"   *ngIf='flag1'>\r\n                                Loan Amount should not be greater than Estimated Cost!\r\n                               </small>\r\n                          \r\n                        </div>\r\n\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Purpose of Loan</mat-label>\r\n                          \r\n            \r\n                            <textarea\r\n                            matInput formControlName=\"purposeOfLoan\" \r\n                            name=\"remark\" class=\"alignment\"\r\n                            placeholder=\"Purpose of Loan\"\r\n                          ></textarea>\r\n                         \r\n                          <!-- <mat-error *ngIf=\"!mandate.controls['remarks'].valid  && mandate.controls['remarks'].touched\">\r\n                              Remarks is Required!</mat-error> -->\r\n                          </mat-form-field>\r\n                        </div>\r\n\r\n                   \r\n\r\n                     \r\n  \r\n                      </div>\r\n                      <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                       \r\n\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n                          <mat-label>Account Branch</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName\"> -->\r\n                            <!--<mat-select name=\"mod\"  >\r\n                              <mat-option value=\"\">Select</mat-option>\r\n                              <mat-option value=\"test\">test</mat-option>\r\n                            </mat-select>-->\r\n                            <!--search Dropdown -->\r\n                            <!--<input type=\"text\" matInput name=\"screen\" #screen class=\"alignment\"  formControlName=\"accountBranch\"\r\n                            (keyup)=\"keyPressofScreems($event)\" [matAutocomplete]=\"autoScreens\" >\r\n                        <mat-autocomplete #autoScreens=\"matAutocomplete\">\r\n                             <mat-option *ngFor=\"let array of screenArray\"\r\n                              [value]=\"array.branchName\">{{array.branchName}}</mat-option>\r\n                         </mat-autocomplete>\r\n                         Simple Dropdown-->\r\n                         <mat-select name=\"mod\" placeholder=\"Select\" formControlName=\"accountBranch\" \r\n                         disableOptionCentering (selectionChange)=\"onChangeBranch($event)\">\r\n                         <mat-option>Select</mat-option>\r\n                          <mat-option  *ngFor=\"let array of screenArray\"\r\n                          [value]=\"array.branchName\">{{array.branchName}}</mat-option>    \r\n                        </mat-select>\r\n                          <!-- </mat-card> -->\r\n                          </mat-form-field>\r\n                         \r\n                        </div>\r\n\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field class=\"full-width\" appearance=\"outline\">\r\n                            <mat-label>Account Currency*</mat-label>\r\n                            <input matInput name=\"currency\" placeholder=\"Account Currency\" class=\"alignment\"\r\n                            formControlName=\"accountCurrency\"  [readonly]=\"true\"/>\r\n                            <mat-error *ngIf=\"loanForm.get('accountCurrency').hasError('required')\">\r\n                              Account Currency is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Account Type*</mat-label>                          \r\n                           <input matInput name=\"accountType\" placeholder=\"Account Type\"  class=\"alignment\"\r\n                            formControlName=\"accountType\"  [readonly]=\"true\"/>\r\n                              \r\n                          \r\n                          <mat-error *ngIf=\"!loanForm.get('accountType').valid  && loanForm.get('accountType').touched\">\r\n                            Account Type is Required!</mat-error> \r\n                          </mat-form-field>\r\n                        </div>\r\n                          <!-- <div class=\"pb-1\"> \r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Account Branch</mat-label>\r\n    \r\n                              <mat-select name=\"mod\" required>\r\n                                <mat-option> test\r\n                                </mat-option>\r\n                              </mat-select>\r\n                         </mat-form-field>\r\n                          \r\n                          </div> -->\r\n                          \r\n            \r\n                          <div class=\"flex-grow-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Customer Contribution</mat-label>\r\n                            \r\n              \r\n                              <input\r\n                                  matInput formControlName=\"customerContribution\"\r\n                                  name=\"a_sig\" class=\"alignment\"\r\n                                  placeholder=\"Customer Contribution\" autocomplete=\"off\"\r\n                                  (keypress)=_keyPress($event)\r\n                                  (input)=\"calculatCustomerContri(loanForm.value)\"\r\n                                  (input)=\"calculateLoanAmmount(loanForm.value)\"\r\n                                  \r\n                                />\r\n                                \r\n                            \r\n                            <div>\r\n                            </div>\r\n                            </mat-form-field>\r\n                              <small style=\"color:red;\"   *ngIf='flag'>\r\n                               Customer Contribution should not be greater than Estimated Cost!\r\n                              </small>\r\n                           \r\n                            <!-- <mat-error *ngIf=\"!mandate.controls['remarks'].valid  && mandate.controls['remarks'].touched\">\r\n                                Remarks is Required!</mat-error> -->\r\n                           \r\n                          </div>\r\n                       \r\n\r\n                          \r\n                          <div class=\"flex-grow-1\">\r\n                            <div fxLayout=\"row wrap\">\r\n                            <mat-hint class=\"tenre\">Loan Tenure *</mat-hint>\r\n                              <!-- <div fxLayout=\"row wrap\"  > -->\r\n\r\n                                <!-- <div fxFlex=\"30\"> -->\r\n                                  <!-- <mat-form-field class=\"full-width\" appearance=\"outline\" > -->\r\n                                  <!-- <mat-card class=\"sqInput1\"> -->\r\n                                    <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"24.4%\">\r\n                                      <mat-label>Year*</mat-label>\r\n                                  <!-- <mat-hint>DD</mat-hint> -->\r\n                                  <!-- <mat-card class=\"widthCard inputMatName1\" class=\"full-width\"> -->\r\n                                    \r\n                                    <mat-select name=\"year\" placeholder=\"Year\" formControlName=\"year\" disableOptionCentering >\r\n                                    <mat-option *ngFor=\"let year of years\" [value]=\"year\">{{ year }}</mat-option> \r\n                                    </mat-select>\r\n                                    </mat-form-field>\r\n                                  <!-- </mat-card> -->\r\n                                \r\n                                <!-- </div> -->\r\n                                <!-- <div fxFlex=\"30\"> -->\r\n                                  <!-- <mat-card class=\"sqInput1\"> -->\r\n                                   <!-- <mat-card class=\"widthCard inputMatName1\" class=\"full-width\"> -->\r\n                                    <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"23.4%\">\r\n                                      <mat-label>Month*</mat-label>\r\n                                    <mat-select name=\"month\" placeholder=\"Month\" formControlName=\"month\" disableOptionCentering>\r\n                                    <mat-option *ngFor=\"let month of months\" [value]=\"month\">{{ month }}</mat-option> \r\n                                     </mat-select>\r\n                                    </mat-form-field>\r\n                                  <!-- </mat-card> -->\r\n                    \r\n                                <!-- </div> -->\r\n                                <!-- <div fxFlex=\"30\"> -->\r\n                                   <!-- <mat-hint>DD</mat-hint> -->\r\n                                   <!-- <mat-card class=\"sqInput1\"> -->\r\n                                   <!-- <mat-card class=\"widthCard inputMatName1\" class=\"full-width\"> -->\r\n\r\n                                    <mat-form-field class=\"full-width tenure2\" appearance=\"outline\" fxFlex=\"23.4\">\r\n\r\n                                      <mat-label>Day*</mat-label>\r\n                                    <mat-select name=\"day\"  placeholder=\"Day\" formControlName=\"day\" disableOptionCentering >\r\n                                   \r\n                                    <mat-option *ngFor=\"let day of days\" [value]=\"day\">{{ day }}</mat-option> \r\n                                  </mat-select>\r\n                                    </mat-form-field>\r\n                                  <!-- </mat-card> -->\r\n                                  <mat-error *ngIf=\"!loanForm.get('year').valid && loanForm.get('year').touched \">\r\n                                     Loan Tenure is Required!</mat-error>\r\n                                     <mat-error *ngIf=\"!loanForm.get('month').valid && loanForm.get('month').touched \">\r\n                                     Loan Tenure is Required!</mat-error>\r\n                                     <mat-error *ngIf=\"!loanForm.get('day').valid && loanForm.get('day').touched \">\r\n                                     Loan Tenure is Required!</mat-error>\r\n                                      <mat-error *ngIf=\"(loanForm.get('year').value == '0 year') && (loanForm.get('month').value == '0 month') && (loanForm.get('day').value == '0 day')  \">\r\n                                     Please Input Valid Loan Tenure!</mat-error>\r\n                                  <!-- </mat-card> -->\r\n                                  <!-- </mat-form-field> -->\r\n                                <!-- </div> -->\r\n                                  <!-- <div fxFlex=\"30\">\r\n                                      <mat-form-field appearance=\"outline\"  class=\"full-width\">\r\n                                          <mat-label>DD</mat-label>\r\n                                          <mat-select>\r\n                                            <mat-option value=\"10px\">10</mat-option>\r\n                                            <mat-option value=\"12\">12</mat-option>\r\n                                            <mat-option value=\"14\">14</mat-option>\r\n                                            <mat-option value=\"16\">16</mat-option>\r\n                                            <mat-option value=\"18\">18</mat-option>\r\n                                            <mat-option value=\"20\">20</mat-option>\r\n                                          </mat-select>\r\n                                        </mat-form-field>\r\n                                  </div> -->\r\n                                  <!-- <div fxFlex=\"30\">\r\n                                      <mat-form-field appearance=\"outline\"  class=\"full-width\">\r\n                                          <mat-label>MM</mat-label>\r\n                                          <mat-select >\r\n                                            <mat-option value=\"10\">10</mat-option>\r\n                                            <mat-option value=\"12\">12</mat-option>\r\n                                            <mat-option value=\"14\">14</mat-option>\r\n                                            <mat-option value=\"16\">16</mat-option>\r\n                                            <mat-option value=\"18\">18</mat-option>\r\n                                            <mat-option value=\"20\">20</mat-option>\r\n                                          </mat-select>\r\n                                        </mat-form-field>\r\n                                  </div> -->\r\n                                  <!-- <div fxFlex=\"30\">\r\n                                      <mat-form-field appearance=\"outline\"  class=\"full-width\">\r\n                                          <mat-label>YYYY</mat-label>\r\n                                          <mat-select>\r\n                                            <mat-option value=\"10\">10</mat-option>\r\n                                            <mat-option value=\"12\">12</mat-option>\r\n                                            <mat-option value=\"14\">14</mat-option>\r\n                                            <mat-option value=\"16\">16</mat-option>\r\n                                            <mat-option value=\"18\">18</mat-option>\r\n                                            <mat-option value=\"20\">20</mat-option>\r\n                                          </mat-select>\r\n                                        </mat-form-field>\r\n                                  </div> -->\r\n                                 \r\n                              </div>\r\n                             \r\n                          </div>\r\n                          <!-- <div class=\"flex-grow-1\">\r\n\r\n                            <mat-hint>Account Currency</mat-hint>\r\n                            <mat-card class=\"inputMatName\">\r\n                              <input matInput name=\"currency\" placeholder=\"Account Currency\" class=\"alignment\"\r\n                              formControlName=\"accountCurrency\"  [readonly]=\"true\"/>\r\n                              \r\n                            </mat-card>\r\n                           \r\n                          </div> -->\r\n                      </div>\r\n              </div>\r\n<!-- \r\n              <div fxLayout=\"row\">\r\n                  <div fxFlex=\"45\">\r\n                      <div  class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <textarea\r\n                                matInput\r\n                                name=\"remark\"\r\n                                placeholder=\"Purpose of Loan\"\r\n                              ></textarea>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        \r\n                  </div>\r\n              </div> -->             \r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n     <div\r\n              fxLayout=\"row\"\r\n              fxLayoutAlign=\"space-between center\"\r\n              fxLayoutGap=\"16px\"\r\n              class=\"mt-32\"\r\n            >\r\n              <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n                Back\r\n              </button>\r\n              <button\r\n                mat-raised-button class=\"Nextbtn\"\r\n                color=\"primary\" (click)=\"submitForm()\" [disabled]=\"!loanForm.valid || flag || flag1 || (loanForm.get('year').value == '0 year') && (loanForm.get('month').value == '0 month') && (loanForm.get('day').value == '0 day') \"\r\n              >\r\n                Next\r\n              </button>\r\n            </div>\r\n       \r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n","import { DOCUMENT } from '@angular/common';\r\nimport { Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, NgForm, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\nimport { AccountService } from '../../account.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\n\r\n@Component({\r\n  selector: 'app-offerissue',\r\n  templateUrl: './offerissue.component.html',\r\n  styleUrls: ['./offerissue.component.scss']\r\n})\r\nexport class OfferissueComponent implements OnInit {\r\n  generateArr:string[]=['With Schedule','without Schedule'];\r\n  approvedLoan: number;\r\n  accountDetails: any;\r\n  OfferIssueForm: FormGroup;\r\n  showEditOption: boolean = false;\r\n  otherDocumentArray: any[] = [];\r\n  files: any[] = [];\r\n  selectedFiles: any;\r\n  showSpinn: boolean;\r\n  fileName: any = [];\r\n  docUrl: any;\r\n  showDelete : boolean = true;\r\n  selectedDay: number = 1;\r\n  day: number;\r\n  days: any[] = [];\r\n  months: any[] = [];\r\n  selectedYear: number;\r\n  year: number;\r\n  years: any[] = [];\r\n\r\n  @ViewChild('report') report: NgForm;\r\n  loanaccountID: any;\r\n  accountId: any;\r\n  documentUploaded: boolean=false;\r\n  loanInfo: any;\r\n  cifNumber: any;\r\n \r\n\r\n  constructor(private router: Router,private ls: \r\n    LocalStoreService,private apiService:ApiService, private snack: MatSnackBar,private loader: AppLoaderService,\r\n    @Inject(DOCUMENT) private _document: Document,private appApiService: ApplicationEntryStageService,\r\n    private formBuilder: FormBuilder,private accountService : AccountService) { \r\n    this.OfferIssueForm = this.formBuilder.group({\r\n      approvedLoanAmount : ['',[Validators.required]],\r\n      applicantName:['',[Validators.required]],\r\n      installmentFrequency:['',[Validators.required]],    \r\n      rateOfInterest:['',[Validators.required]],  \r\n      offerIssueDate:['',[Validators.required]],\r\n      year:['',[Validators.required]],\r\n      month:['',[Validators.required]],\r\n      day:['',[Validators.required]],\r\n      installmentType:['',[Validators.required]],\r\n      generateOffer:['',[Validators.required]],\r\n      interest:['',[Validators.required]],\r\n      principal:['',[Validators.required]],\r\n      installmentAmount:['',[Validators.required]],\r\n      charges:['',[Validators.required]],\r\n      loanTenure:[''],\r\n    \r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.selectedYear = new Date().getFullYear();\r\n  \r\n    for (let year = 0; year <= 50; year++) {\r\n      this.years.push(year+ \" year\");\r\n    }\r\n\r\n    for (let month = 0; month <= 11; month++) {\r\n      this.months.push(month+ \" month\");\r\n    }\r\n\r\n    for (let day = 0; day <= 30; day++) {\r\n      this.days.push(day+ \" day\");\r\n    }\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    let isOfferIssueScreen: boolean = JSON.parse(this.ls.getItem('OfferIssue'));\r\n    //if (this.loanAccountId != null && isOfferIssueScreen) {\r\n      setTimeout(() => {\r\n        if (this.loanaccountID != null && isOfferIssueScreen) {\r\n          this.showEditOption = true;\r\n          \r\n          this.getAccountDetails();\r\n        } \r\n        else {\r\n          console.log(\"else\");\r\n          this.showEditOption = false;\r\n          this.buildOfferIssueForm();\r\n        }\r\n      }, 10);\r\n   \r\n    //this.getAccountType(\"account_type\");\r\n    this.fetchByCif();\r\n    this.loanData();\r\n    this.intrestData();\r\n  }\r\n  onFileSelected(event) {\r\n    console.log(\"event -- \", event.target.files);\r\n    // Iterate over selected files\r\n    for (let file of event.target.files) {\r\n      // Append to a list\r\n      this.files.push({\r\n        name: file.name,\r\n        type: file.type\r\n        // Other specs\r\n      });\r\n      this.snack.open('File Uploded', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    }\r\n    this.selectedFiles = event.target.files[0];\r\n    console.log(\"selectedFiles: any\", this.selectedFiles);\r\n    if (event.target.files) {\r\n      this.uploadDoc(event.target.files[0], this.selectedFiles, event);\r\n    }\r\n\r\n  }\r\n  uploadDoc( event, url,  img) {\r\n    console.log(\"event--->> \", url);\r\n    const uploadData = new FormData();\r\n    uploadData.append(\"file\", url);\r\n    console.log(uploadData);\r\n  }\r\n\r\n  getAccountDetails() {\r\n    this.loader.open();\r\n    this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe((accountDetails) => {\r\n      this.loader.close();\r\n      this.accountDetails = accountDetails;\r\n      console.log(this.accountDetails);\r\n      this.buildOfferIssueForm(this.accountDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n\r\n\r\n  }\r\n  get f() { return this.OfferIssueForm.controls; }\r\n  get c() { return this.f.collaterals as FormArray; }\r\n\r\n  deleteDoc(){\r\n    this.documentUploaded=false;\r\n    this.docUrl = ' ';\r\n    this.fileName =  ' ';  \r\n   // this.c.get('documentUrl').setValue('');\r\n    //this.c.get('fileName').setValue('');\r\n    this.showDelete = false;\r\n    \r\n  }\r\n  uploadCollateralType(event) {\r\n    console.log(\"event\",event);\r\n    //this.console.log(\"i=\",i);\r\n    this.showSpinn = true;\r\n    const file:File = event.target.files[0];\r\n    this.fileName = file.name;\r\n    console.log(\"File name=\",this.fileName );\r\n    const data = {\r\n      loanAccountId: this.loanaccountID,\r\n      screenType: \"offerIssue\",\r\n    };\r\n    const uploadData = new FormData();\r\n    uploadData.append(\"data\", JSON.stringify(data));\r\n    uploadData.append(\"file\", file);\r\n    console.log(\"file\",file);\r\n    console.log(\"data\",data);\r\n    this.apiService.uploadOfferDocument(uploadData).subscribe((res:any) => {\r\n    console.log(\"Document Resp\",res, res.fileUrl);\r\n    this.docUrl=res.fileUrl;\r\n    if(res && res.fileUrl){\r\n     this.showSpinn = false;\r\n     this.snack.open('Document Saved Successfully!', 'OK', { duration: 4000, verticalPosition: 'top', horizontalPosition: 'right' });\r\n     this.documentUploaded=true;\r\n   \r\n    }\r\n     });\r\n\r\n  \r\n  }\r\n  \r\n\r\n  buildOfferIssueForm(data?) {\r\n    data.offerIssueDate = data ? moment(data.offerIssueDate).format() : '';\r\n    this.OfferIssueForm = this.formBuilder.group({\r\n      approvedLoanAmount : [data ? data.approvedLoanAmount:''],\r\n      loanTenure:[data?data.loanTenure:''],\r\n      applicantName:[data ? data.applicantName:''],\r\n      installmentFrequency:[data ? data.installmentFrequency:''],    \r\n      rateOfInterest:[data ? data.rateOfInterest:''],  \r\n      offerIssueDate:[data ? data.offerIssueDate:''],\r\n      generateOffer:[data ? data.generateOffer:''],\r\n      installmentAmount:[data ? data.installmentAmount:''],\r\n      principal:[data ? data.principal:''],\r\n      interest:[data ? data.interest:''],\r\n      charges:[data ? data.charges:''],\r\n      year:[data ? data.loanTenure.split(\"-\")[0]:''],\r\n      month:[data ? data.loanTenure.split(\"-\")[1]:''],\r\n      day:[data ? data.loanTenure.split(\"-\")[2]:''],\r\n      installmentType: [data ? data.installmentType: '']\r\n    \r\n    })\r\n\r\n  }\r\ngoBack(){\r\n  this.router.navigate([\"loan/account/offer-issue/list\"]);\r\n}\r\nSubmit(){\r\n  let details:  any;\r\n    //details.push(this.legalOpinion.value);\r\n    let now = new Date();\r\n    now=this.OfferIssueForm.value.opinionDate;\r\n    var dateStringWithTime = moment(now).format('YYYY-MMM-DD HH:MM:SS');\r\n    console.log(\"dateStringWithTime\",dateStringWithTime);\r\n    var aprloan=this.OfferIssueForm.value.approvedLoanAmount;\r\n    aprloan= parseInt(aprloan);\r\n    var rate=this.OfferIssueForm.value.rateOfInterest;\r\n    rate= parseInt(rate);\r\n    const renewData =\r\n    this.OfferIssueForm.value.year +\r\n    \"-\" +\r\n    this.OfferIssueForm.value.month +\r\n    \"-\" +\r\n    this.OfferIssueForm.value.day;\r\n  this.OfferIssueForm.get(\"loanTenure\").setValue(renewData);\r\n  delete this.OfferIssueForm.value.year;\r\n  delete this.OfferIssueForm.value.month;\r\n  delete this.OfferIssueForm.value.day;\r\n    this.OfferIssueForm.value.principal =parseInt(this.OfferIssueForm.value.principal);\r\n    this.OfferIssueForm.value.interest =parseInt(this.OfferIssueForm.value.interest);\r\n    this.OfferIssueForm.value.installmentAmount =parseInt(this.OfferIssueForm.value.installmentAmount);\r\n    this.OfferIssueForm.value.charges =parseInt(this.OfferIssueForm.value.charges);\r\n    let payload={\r\n      loanAccountId:this.loanaccountID,\r\n      approvedLoanAmount:aprloan,\r\n      loanTenure:renewData,\r\n      applicantName:this.OfferIssueForm.value.applicantName,\r\n      installmentFrequency:this.OfferIssueForm.value.installmentFrequency,\r\n      rateOfInterest:rate,\r\n      offerIssueDate:dateStringWithTime,\r\n      generateOffer:this.OfferIssueForm.value.generateOffer,\r\n      principal:this.OfferIssueForm.value.principal,\r\n      interest:this.OfferIssueForm.value.interest,\r\n      installmentAmount:this.OfferIssueForm.value.installmentAmount,\r\n      charges:this.OfferIssueForm.value.charges,\r\n      installmentType:this.OfferIssueForm.value.installmentType\r\n    }\r\n    console.log(\"payload\",payload)\r\n    this.apiService.upsertOfferIssue(payload).subscribe(data => {\r\n      console.log(\"data\",data);\r\n      if(data != null){\r\n        this.snack.open('Offer Issue Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n     \r\n      }\r\n    })\r\n    \r\n  this.Next();\r\n}\r\nNext(){\r\n  this.ls.setItem('OfferIssue', true);\r\n  this.ls.setItem('OfferIssueStageDone', true);\r\n  this.accountService.refresh.next();\r\n  this.router.navigate([\"/loan/account/offerstage/list\"]);\r\n\r\n}\r\n_keyPress1(event: any) {\r\n  const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  if (!pattern.test(inputChar)) {\r\n    event.preventDefault();\r\n  }\r\n  const input = event.target.value;\r\n  if (input.length === 0 && event.which === 48) {\r\n    event.preventDefault();\r\n  }\r\n}\r\n\r\n  \r\n\r\n\r\n_keyPress(event: any) {\r\n  const pattern = /[0-9]/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  if (!pattern.test(inputChar)) {\r\n    event.preventDefault();\r\n  }\r\n}\r\nonInput(event: any, flag) {\r\n  if (flag) {\r\n    this.approvedLoan = event.target.value;\r\n  } else {\r\n    this.approvedLoan = event;\r\n  }\r\n\r\n  console.log(\"this.salary)::\", this.approvedLoan);\r\n  let sal = this.approvedLoan.toString().replace(/,/g, '').split(\".\");\r\n  sal[0] = sal[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n  let final = sal.join(\".\");\r\n  console.log(\"final\", final);\r\n  this.OfferIssueForm.controls.approvedLoanAmount.setValue(final);\r\n}\r\n\r\nletterOnly(event) {\r\n  var charCode = event.keyCode;\r\n          if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n              return true;\r\n          else\r\n              return false;\r\n}\r\n\r\nfetchByCif(){\r\n  this.cifNumber=this.ls.getItem('cId');\r\n  this.appApiService.fetchByCif(this.cifNumber).subscribe((res: any) => {\r\n  this.OfferIssueForm.get('applicantName').setValue(res.customerInfoList[0].firstName +\" \"+ res.customerInfoList[0].lastName);\r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\n\r\nloanData(){\r\n  console.log(this.loanaccountID);\r\n  this.apiService.fetchByLoanAccountId(this.loanaccountID).subscribe((res:any)=>{    \r\n    this.OfferIssueForm.get('approvedLoanAmount').setValue(res.approvedLoanAmount);        \r\n    let dataYear = res.loanTenure.split(\"-\")[0];\r\n    let dataMonth = res.loanTenure.split(\"-\")[1];\r\n    let dataDay = res.loanTenure.split(\"-\")[2];    \r\n    this.OfferIssueForm.get('year').setValue(dataYear);\r\n    this.OfferIssueForm.get('month').setValue(dataMonth);\r\n    this.OfferIssueForm.get('day').setValue(dataDay);  \r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\nintrestData(){\r\n  console.log(this.loanaccountID);\r\n  this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe((res:any)=>{    \r\n    this.OfferIssueForm.get('rateOfInterest').setValue(res.rateOfInterest);\r\n  })\r\n}\r\n}","<div fxLayout=\"column\">\r\n  <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/MaskGroup_17.svg\" alt=\"\" class=\"w-90\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Offer Issue Details</b></div>\r\n      </div>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"column\">\r\n  <form fxLayout=\"column\" [formGroup]=\"OfferIssueForm\">\r\n      <div fxFlex=\"100\">\r\n          <mat-card fxLayout=\"column\">              \r\n            <mat-card-title>\r\n              <fieldset class=\"alignChange\">\r\n              <legend visible=\"true\">Offer Issue Details</legend>\r\n              </fieldset>\r\n            </mat-card-title>\r\n\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label  class=\"hint\">Applicant Name*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"applicantName\"\r\n                          placeholder=\"Applicant Name\" formControlName=\"applicantName\"\r\n                          readonly/>\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!OfferIssueForm.get('applicantName').valid  && OfferIssueForm.get('applicantName').touched\">\r\n                        &nbsp;&nbsp;&nbsp; Applicant Name is Required!\r\n                    </mat-error>\r\n                    </mat-form-field>\r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label  class=\"hint\">Approved Loan Amount*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input matInput  class=\"alignment\" type=\"text\" name=\"approvedLoanAmount\" placeholder=\"Approved Loan Account\"\r\n                        (keypress)=\"_keyPress1($event)\"  (keyup)=\"onInput($event,true)\"\r\n                         maxlength=\"16\"formControlName=\"approvedLoanAmount\" readonly />\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!OfferIssueForm.get('approvedLoanAmount').valid  && OfferIssueForm.get('approvedLoanAmount').touched\">\r\n                        &nbsp;&nbsp;&nbsp; Approved Loan Amount is Required!\r\n                    </mat-error>\r\n                      </mat-form-field>\r\n                    </div>\r\n              </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                                \r\n                    <div fxLayout=\"row wrap\" class=\"hight\" >\r\n                      <label  class=\"size1\">Loan Tenure*</label>   \r\n                      <!-- <div fxFlex=\"30\"> -->\r\n                        <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"23\">\r\n                            <mat-label>Year*</mat-label>\r\n                          <mat-select name=\"year\" placeholder=\"Year\" formControlName=\"year\" disableOptionCentering >\r\n                          <mat-option *ngFor=\"let year of years\" [value]=\"year\">{{ year }}</mat-option> \r\n                          </mat-select>\r\n                        </mat-form-field>\r\n                        <!-- </mat-card> -->\r\n                      <!-- </div> -->\r\n                      <!-- <div fxFlex=\"30\"> -->\r\n                         <!-- <mat-card class=\"inputMatName\">\r\n                          <mat-select name=\"month\" placeholder=\"Month\" formControlName=\"month\" disableOptionCentering>\r\n                          <mat-option *ngFor=\"let month of months\" [value]=\"month\">{{ month }}</mat-option> \r\n                           </mat-select>\r\n                        </mat-card> -->\r\n                        <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"22.5\">\r\n                          <mat-label>Month*</mat-label>\r\n                        <mat-select name=\"month\" placeholder=\"Month\" formControlName=\"month\" disableOptionCentering>\r\n                        <mat-option *ngFor=\"let month of months\" [value]=\"month\">{{ month }}</mat-option> \r\n                         </mat-select>\r\n                        </mat-form-field>\r\n                      <!-- </div> -->\r\n                      <!-- <div fxFlex=\"30\"> -->\r\n                         <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"22\">\r\n                            <mat-label>Day*</mat-label>\r\n                          <mat-select name=\"day\"  placeholder=\"Day\" formControlName=\"day\" disableOptionCentering >\r\n                          <mat-option *ngFor=\"let day of days\" [value]=\"day\">{{ day }}</mat-option> \r\n                        </mat-select>\r\n                          </mat-form-field>\r\n                        <!-- </mat-card> -->\r\n                      <!-- </div>  -->\r\n                    </div>\r\n              </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label  class=\"hint\">Installment Type*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <!-- <input matInput  class=\"alignment\" type=\"text\" name=\"installmentType\"\r\n                        formControlName=\"installmentType\" \r\n                          /> -->\r\n                          <mat-select class=\"alignment\" name=\"installmentType\" placeholder=\"Select\"\r\n                           formControlName=\"installmentType\" disableOptionCentering>\r\n                          <!-- <mat-option value=\"\" >Select</mat-option> -->\r\n                          <mat-option value=\"EMI\">EMI</mat-option>\r\n                \r\n                       </mat-select>\r\n                      <!-- </mat-card> -->\r\n                      </mat-form-field>\r\n                     \r\n                    </div>\r\n              </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label  class=\"hint\">Installment Frequency*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <mat-select placeholder=\"Installment Frequency\" name=\"installmentFrequency\" disableOptionCentering formControlName=\"installmentFrequency\">\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                          <mat-option value=\"Monthly\">Monthly</mat-option>\r\n                          <mat-option value=\"Quaterly\">Quaterly</mat-option>\r\n                          <mat-option value=\"Half-yearly\">Half-yearly</mat-option>\r\n                          <mat-option value=\"Yearly\">Yearly</mat-option>\r\n                        </mat-select>\r\n                          <!-- <input matInput  class=\"alignment\" autocomplete=\"off\" type=\"text\" placeholder=\"Installment Frequency\" name=\"installmentFrequency\" (keypress)=\"_keyPress1($event)\" maxlength=\"2\"\r\n                          formControlName=\"installmentFrequency\"/> -->\r\n                      <!-- </mat-card> -->\r\n                    </mat-form-field>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label  class=\"hint\">Rate of Interest in(%)*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input matInput  class=\"alignment\" autocomplete=\"off\" type=\"text\" placeholder=\"Rate Of Interest\" name=\"rateOfInterest\" (keypress)=\"_keyPress1($event)\" \r\n                        formControlName=\"rateOfInterest\" minlength=\"1\" maxlength=\"2\" />\r\n                      <!-- </mat-card> -->\r\n                      </mat-form-field>\r\n                     \r\n                    </div>\r\n              </div>\r\n              <!-- <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                      <label  class=\"hint\">Approved Loan Amount</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"approvedLoanAmount\" (keypress)=\"_keyPress1($event)\" \r\n                          formControlName=\"approvedLoanAmount\"/>\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Loan Tenure</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                        <input matInput  class=\"alignment\" type=\"text\" name=\"loanTenure\" (keypress)=\"_keyPress1($event)\" \r\n                        formControlName=\"loanTenure\" />\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n              </div> -->\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label  class=\"hint\">Principal*</mat-label>\r\n                    <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input matInput  class=\"alignment\" autocomplete=\"off\" type=\"text\" name=\"principal\" (keypress)=\"_keyPress1($event)\" placeholder=\"Principal\"\r\n                        maxlength=\"12\"\r\n                        formControlName=\"principal\"/>\r\n                    <!-- </mat-card> -->\r\n                  </mat-form-field>\r\n                   \r\n                  </div>\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label  class=\"hint\">Interest*</mat-label>\r\n                    <!-- <mat-card class=\"inputMatName\"> -->\r\n                      <input matInput  class=\"alignment\" type=\"text\" autocomplete=\"off\" placeholder=\"Interest\" name=\"interest\" (keypress)=\"_keyPress1($event)\" maxlength=\"2\"\r\n                      formControlName=\"interest\" />\r\n                    <!-- </mat-card> -->\r\n                    </mat-form-field>\r\n                   \r\n                  </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label  class=\"hint\">Installment Amount*</mat-label>\r\n                  <!-- <mat-card class=\"inputMatName\"> -->\r\n                      <input matInput  class=\"alignment\" type=\"text\" autocomplete=\"off\" placeholder=\"Installment Amount\" name=\"installmentAmount\" (keypress)=\"_keyPress1($event)\" maxlength=\"12\"\r\n                      formControlName=\"installmentAmount\"/>\r\n                  <!-- </mat-card> -->\r\n                </mat-form-field>\r\n                 \r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label  class=\"hint\">Charges*</mat-label>\r\n                  <!-- <mat-card class=\"inputMatName\"> -->\r\n                    <input matInput  class=\"alignment\" type=\"text\" autocomplete=\"off\" placeholder=\"Charges\" name=\"charges\" (keypress)=\"_keyPress1($event)\" maxlength=\"8\"\r\n                    formControlName=\"charges\" />\r\n                  <!-- </mat-card> -->\r\n                  </mat-form-field>\r\n                 \r\n                </div>\r\n          </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label  class=\"hint\">Offer Issue Date*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatLastName\" style=\"height:48px;\"> -->\r\n                            <input matInput  id=\"dob\" class=\"alignment\" name=\"offerIssueDate\" readonly\r\n                              [matDatepicker]=\"picker\"  value=\"offerIssueDate\" placeholder=\"DD/MM/YYYY\"\r\n                              formControlName=\"offerIssueDate\">\r\n                          <!-- <div fxFlex=\"8%\" id=\"toggle\"> -->\r\n                              <mat-datepicker-toggle matSuffix [for]=\"picker\" >\r\n                              </mat-datepicker-toggle>\r\n            \r\n                              <mat-datepicker #picker>\r\n                              </mat-datepicker>\r\n                            <!-- </div> -->\r\n            \r\n                       <!-- </mat-card> -->\r\n                    </mat-form-field>\r\n        \r\n                  </div>\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label  class=\"hint\">Generate Offer*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <mat-select disableOptionCentering class=\"alignment\" formControlName=\"generateOffer\" placeholder=\"Generate Offer\">\r\n                              <!-- <mat-option  value =\"\">select</mat-option> -->\r\n                              <mat-option *ngFor=\"let generateOffer of generateArr\" [value]=\"generateOffer\">\r\n                                  {{generateOffer}}\r\n                              </mat-option>\r\n                          </mat-select>\r\n                      <!-- </mat-card> -->\r\n                    </mat-form-field>\r\n                     \r\n                  </div>\r\n                 \r\n                    \r\n              </div>\r\n              <!--<div fxFlex=\"70%\" >\r\n \r\n                  <div  fxFlex.xs=\"100%\">\r\n                  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" style=\"padding: 3rem 2rem;\">\r\n                      <input style=\"display: none;\" class=\"default-background\"\r\n                          type=\"file\" name=\"fileData\"\r\n                          #fileData\r\n                          (change)=\"onFileSelected($event)\">\r\n                      <a style=\"text-decoration: underline; color:#456EFE;\"\r\n                          (click)=\"fileData.click()\"\r\n                          [routerLink]=\"\">Add Document</a>\r\n                          \r\n                          \r\n                  </div>\r\n                  <div fxFlex=\"40%\" fxFlex.xs=\"100%\" style=\"padding-top: 45px;\">\r\n \r\n                <input class=\"full-width default-background\"\r\n                    type=\"text\" matInput\r\n                    name=\"documentName\"\r\n                    #documentName  readonly\r\n                    [value]=\"fileData.value? fileData.value : ''\"\r\n                    style=\"border: transparent;\">\r\n                </div>\r\n              </div>\r\n              \r\n              </div>-->\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1 documentCard\" fxFlex=\"30%\">\r\n                  <input style=\"display: none;\"\r\n                      type=\"file\" name=\"documentUrl\"\r\n                      #documentUrl accept=\"application/png, application/gif, application/jpeg\"\r\n                      (change)=\"uploadCollateralType($event)\">\r\n                      <div fxLayout=\"row wrap\" class=\"flex-grow-1\">\r\n                      <a \r\n                      (click)=\"documentUrl.click()\" class=\"docData\"\r\n                      [routerLink]=\"\">Add Document</a> &nbsp; \r\n                      <mat-hint class=\"documentHint\">{{fileName}}</mat-hint>\r\n                      </div>\r\n                      \r\n                </div> \r\n                <div class=\"flex-grow-1\" fxFlex=\"40%\">\r\n                  <a  *ngIf=\"documentUploaded\" class=\"documentlink\"  href=\"{{docUrl}}\" download><span class=\"material-icons\">file_download</span></a> &nbsp;\r\n                  <a  *ngIf=\"!documentUploaded\" class=\"documentlink\"  download><span class=\"material-icons\">file_download</span></a> &nbsp;\r\n                  <mat-icon  color=\"warn\" class=\"docIcon\" (click)=\"deleteDoc()\">delete</mat-icon>\r\n                  <mat-spinner class=\"spinner\" [diameter]=\"30\" *ngIf=\"showSpinn\"></mat-spinner>\r\n                </div>\r\n               \r\n              </div>\r\n             \r\n\r\n          </mat-card>\r\n\r\n      </div>      \r\n  </form>\r\n  <div\r\n  fxLayout=\"row\"\r\n  fxLayoutAlign=\"space-between center\"\r\n  fxLayoutGap=\"16px\"\r\n  class=\"mt-32\"\r\n>\r\n  <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n    Back\r\n  </button>\r\n  <button\r\n    mat-raised-button class=\"Nextbtn\"\r\n    color=\"primary\"  (click)=\"Submit()\" [disabled]=\"!OfferIssueForm.valid\"            >\r\n    Next\r\n  </button>\r\n</div>\r\n\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DataService } from 'app/shared/services/data.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-offer-accept-reject-summary',\r\n  templateUrl: './offer-accept-reject-summary.component.html',\r\n  styleUrls: ['./offer-accept-reject-summary.component.scss']\r\n})\r\nexport class OfferAcceptRejectSumaryComponent implements OnInit {\r\n\r\n  userRecommendation={'userRecommendation':'Accept'};\r\n  // offerDetails = {'applicantName'         :'ABC',\r\n  //                'approvedLoanAmount'     :'$200,000',\r\n  //                'loanTenure'             :'5 years',\r\n  //                'rateOfIntrest'          :'5.9',\r\n  //                'loanAmountRecomended'   :'$500,000',\r\n  //                'installmentType'        :'EMI',\r\n  //                'charge'                 :'5 years',\r\n  //                'installmentAmount'      :'$100,000',\r\n  //                'installmentFreq'        :'Monthly',\r\n  //                'principle'              :'$100,000',\r\n  //                'intrest'                :'$100,000',    \r\n  //                'date'                   :'12/2/2021',\r\n  //                   };\r\n  offerDetails: any;\r\n  constructor(private router: Router,\r\n    public dialogRef: MatDialogRef<OfferAcceptRejectSumaryComponent>,\r\n    private apiService: ApiService,\r\n    private dataService:DataService,\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.fetchOfferAcceptRejectDetails();\r\n  }\r\n\r\n  fetchOfferAcceptRejectDetails() {\r\n      this.apiService.getofferDetails(7654)\r\n        .subscribe((data : any)=> {\r\n          this.offerDetails = data;\r\n          console.log(this.offerDetails);\r\n        })\r\n    }\r\n\r\n  edit(){\r\n    this.dataService.sendNavParam(this.offerDetails);\r\n    this.dialogRef.close();\r\n    this.router.navigate(['loan/account-approval/offer-acceptReject-details']);\r\n    \r\n  }\r\n  close(){\r\n    this.dialogRef.close();\r\n    this.router.navigate([`/loan/account-approval/list`]);\r\n  }\r\n}\r\n","\r\n<div class=\"full-width\">\r\n    <div fxLayout=\"row\" class=\"contain\">\r\n        <mat-icon class=\"backIcon\" (click)=\"close()\">close</mat-icon>\r\n    </div>\r\n    <div fxLayout=\"row\">\r\n        <h4 class=\"paraFont\">Offer Accept / Reject Summary</h4>\r\n    </div>\r\n\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\">\r\n                <div class=\"full-width\">\r\n                    <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                        <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                            <ng-container>\r\n                                <div fxFlex fxFlex.xs=\"100%\" class=\"inputCardclass\">\r\n                                    <mat-card class=\"inputCard\">\r\n                                        <div fxLayout=\"row wrap\">\r\n\r\n                                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                <ng-container>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Applicant Name</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.applicantName}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Approved Loan Amount</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.approvedLoanAmount}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.loanTenure}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Installment Type</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.installmentType}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Installment Frequency</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.installmentFrequency}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Rate Of Interest(in %)</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.rateOfInterest}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Principal</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.principle}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Interest</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.interest}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Installment Amount</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.installmentAmount}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Charges</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.charges}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Offer Issue Date</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.offerIssueDate}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Generate Offer</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.generateOffer}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Customer Response</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{userRecommendation.userRecommendation}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Date Of Offer Accept/Reject</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.dateOfOfferAcceptOrReject}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Offer Expiry Date</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails.offerExpiryDate}}</mat-hint>\r\n                                                    </div>\r\n                                                </ng-container>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </mat-card>\r\n                                </div>\r\n                            </ng-container>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <p class=\"editButton\" (click)=\"edit()\">Edit</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-asset-valuation',\r\n  templateUrl: './asset-valuation.component.html',\r\n  styleUrls: ['./asset-valuation.component.scss']\r\n})\r\nexport class AssetValuationComponent implements OnInit {\r\n  bankValuationArr:string[]=['internal','external'];\r\n  //bankValuationArr:string[]=['Asset Value'];\r\n  areaArr:string[]=['sq','hectare'];\r\n  assetValuation: FormGroup;\r\n  marketValue: any;\r\n  showEditOption: boolean = false;\r\n  accountDetails: any;\r\n\r\n  constructor(private formBuilder: FormBuilder,private ls: \r\n    LocalStoreService,private loader: AppLoaderService,private apiService:ApiService, private snack: MatSnackBar,\r\n    private router: Router) { \r\n    this.assetValuation = this.formBuilder.group({\r\n      bankValuation: ['',[Validators.required]],\r\n      assetType: ['',[Validators.required]],\r\n      propertyAreaSize: ['',[Validators.required]],\r\n      mktValOfAsset: ['',[Validators.required]],\r\n      assetValue: ['',[Validators.required]],\r\n      valuationDate: ['',[Validators.required]],\r\n      actualPropertyAreaSize: ['',[Validators.required]],\r\n      actualPropertyAreaInUnits: ['',[Validators.required]],\r\n    })\r\n  }\r\n  ngOnInit(): void {\r\n    let isAssetValuationScreen: boolean = JSON.parse(this.ls.getItem('valuationAsset'));\r\n    //if (this.loanAccountId != null && isAssetValuationScreen) {\r\n    if (9999 != null && isAssetValuationScreen) {\r\n      this.showEditOption = true;\r\n      \r\n      this.getAccountDetails();\r\n    } \r\n    else {\r\n      console.log(\"else\");\r\n      this.showEditOption = false;\r\n      this.buildOfferIssueForm();\r\n    }\r\n  }\r\n  getAccountDetails(){\r\n    this.loader.open();\r\n    //this.apiService.getAssetValuation(this.loacnAccountId).subscribe((accountDetails) => {\r\n    this.apiService.getAssetValuation(112).subscribe((accountDetails) => {\r\n      this.loader.close();\r\n      this.accountDetails = accountDetails;\r\n      console.log(this.accountDetails);\r\n      this.buildOfferIssueForm(this.accountDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n\r\n  }\r\n  buildOfferIssueForm(data?) {\r\n    this.assetValuation = this.formBuilder.group({\r\n      bankValuation : [data ? data.bankValuation:''],\r\n      assetType:[data ? data.assetType:''],\r\n      propertyAreaSize:[data ? data.propertyAreaSize:''],\r\n      mktValOfAsset:[data ? data.mktValOfAsset:''],\r\n      assetValue:[data ? data.assetValue:''],    \r\n      valuationDate:[data ? data.valuationDate:''],  \r\n      actualPropertyAreaSize:[data ? data.actualPropertyAreaSize:''],\r\n      actualPropertyAreaInUnits:[data ? data.actualPropertyAreaInUnits:''],\r\n\r\n  })\r\n}\r\n\r\n  goBack(){\r\n    this.router.navigate([\"/loan/offer-issue/credit-rating\"]);\r\n  }\r\n  submit(){\r\n    let details:  any;\r\n    //details.push(this.legalOpinion.value);\r\n    let now = new Date();\r\n    now=this.assetValuation.value.valuationDate;\r\n    var dateStringWithTime = moment(now).format('YYYY-MMM-DD HH:MM:SS');\r\n    console.log(\"dateStringWithTime\",dateStringWithTime);\r\n    var pk=this.assetValuation.value.actualPropertyAreaSize;\r\n    pk= parseInt(pk);\r\n    var prSize=this.assetValuation.value.propertyAreaSize;\r\n    prSize= parseInt(prSize);\r\n    let payload={\r\n      loanAccountId:parseInt(\"112\"),\r\n      bankValuation:this.assetValuation.value.bankValuation,\r\n      assetType:this.assetValuation.value.assetType,\r\n      propertyAreaSize:prSize,\r\n      mktValOfAsset:this.assetValuation.value.mktValOfAsset,\r\n      assetValue:this.assetValuation.value.assetValue,\r\n      actualPropertyAreaInUnits:this.assetValuation.value.actualPropertyAreaInUnits,\r\n      valuationDate:dateStringWithTime,\r\n      actualPropertyAreaSize:pk,\r\n    }\r\n    console.log(\"payload\",payload)\r\n    this.apiService.saveOrValuationOfAsset(payload).subscribe(data => {\r\n      console.log(\"data\",data);\r\n      if(data != null){\r\n        this.snack.open('Data Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n     \r\n      }\r\n    })\r\n    \r\n  this.next();\r\n}\r\n\r\n  next(){\r\n    this.ls.setItem('valuationAsset', true);\r\n    this.router.navigate([\"/loan/account/list/offer-issue/legal-opinion\"]);\r\n  }\r\n  keyPress1(event: any) {\r\n    const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    const input = event.target.value;\r\n    if (input.length === 0 && event.which === 48) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n  //comma seprator\r\n  onInput(event: any, flag) {\r\n    if (flag) {\r\n      this.marketValue = event.target.value;\r\n    } else {\r\n      this.marketValue = event;\r\n    }\r\n  \r\n    console.log(\"this.salary)::\", this.marketValue);\r\n    let sal = this.marketValue.toString().replace(/,/g, '').split(\".\");\r\n    sal[0] = sal[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    let final = sal.join(\".\");\r\n    console.log(\"final\", final);\r\n    this.assetValuation.controls.mktValOfAsset.setValue(final);\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"column\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n          <img src=\"assets/images/svg/Group 673.svg\" alt=\"\" class=\"w-80\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n          <div class=\"card-title-text\"><h1>Valuation of Asset</h1></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"column\">\r\n    <form [formGroup]=\"assetValuation\">\r\n        <mat-card fxLayout=\"column\" style=\"border-radius: 30px;\">\r\n            <div class=\"container\">\r\n                \r\n                <div class=\"text mat-typography\">Valuation Details</div>\r\n                <div class=\"line\" ><mat-divider></mat-divider></div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <label  class=\"hint\">Bank Valuation* </label>\r\n                    <mat-card class=\"inputMatName\">\r\n                          <mat-select  [formControl]=\"assetValuation.controls['bankValuation']\" disableOptionCentering class=\"alignment\" >\r\n                            <mat-option >select</mat-option>\r\n                            <mat-option *ngFor=\"let bankValuation of bankValuationArr\" value=\"bankValuation\">\r\n                                {{bankValuation}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-card>\r\n                    <mat-error\r\n                     *ngIf=\"assetValuation.get('bankValuation').touched && !assetValuation.get('bankValuation').valid\">\r\n                     <small>Please enter Asset Type!</small> \r\n                     </mat-error>\r\n                   \r\n                  </div>\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <label  class=\"hint\">Asset Type*</label>\r\n                    <mat-card class=\"inputMatName\">\r\n                      <input matInput formControlName=\"assetType\" class=\"alignment\" type=\"text\" name=\"assetType\"\r\n                         required />\r\n                    </mat-card>\r\n                    <mat-error\r\n                     *ngIf=\"assetValuation.get('assetType').touched && !assetValuation.get('assetType').valid\">\r\n                     <small>Please enter Asset Type!</small> \r\n                     </mat-error>\r\n                   \r\n                  </div>\r\n            </div>\r\n            <!--<div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"8%\">\r\n                    <label  class=\"hint\">Property Area </label>\r\n                    <mat-card class=\"inputMatName\">\r\n                        Sq\r\n                      </mat-card>\r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"41%\" >\r\n                    <label  class=\"hint\">w</label>\r\n                    <mat-card class=\"inputMatName\">\r\n                      <input matInput formControlName=\"propertArea\" class=\"alignment\" type=\"text\" \r\n                          />\r\n                    </mat-card>\r\n                   \r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <label  class=\"hint\">Borrowers MArket Value of Asset</label>\r\n                    <mat-card class=\"inputMatName\">\r\n                      <input matInput formControlName=\"marketValue\" class=\"alignment\" type=\"text\" \r\n                          />\r\n                    </mat-card>\r\n                   \r\n                </div>\r\n    \r\n            </div>-->\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div fxLayout=\"column\" fxFlex=\"100\">\r\n                    <label  class=\"hint\">Property Area*</label>\r\n                    <div fxLayout=\"row\">\r\n                        <div class=\"flex-grow-1\" fxFlex=\"15%\">\r\n                    \r\n                            <mat-card class=\"inputMatName\">\r\n                                Sq\r\n                              </mat-card>\r\n                        </div>\r\n                        <div class=\"flex-grow-1\" fxFlex=\"85%\" >\r\n                            \r\n                            <mat-card class=\"inputMatName\">\r\n                                <input matInput formControlName=\"propertyAreaSize\" class=\"alignment\" type=\"text\" \r\n                                (keypress)=\"_keyPress($event)\" />\r\n                              </mat-card>\r\n                              <mat-error\r\n                                *ngIf=\"assetValuation.get('propertyAreaSize').touched && !assetValuation.get('propertyAreaSize').valid\">\r\n                                 <small>Please enter Property Area!</small> \r\n                              </mat-error>\r\n                             \r\n                           \r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <label  class=\"hint\">Borrowers MArket Value of Asset*</label>\r\n                    <mat-card class=\"inputMatName\">\r\n                      <input matInput formControlName=\"mktValOfAsset\" class=\"alignment\" type=\"text\" \r\n                      (keypress)=\"keyPress1($event)\"  (keyup)=\"onInput($event,true)\"  />\r\n                    </mat-card>\r\n                    <mat-error\r\n                     *ngIf=\"assetValuation.get('mktValOfAsset').touched && !assetValuation.get('mktValOfAsset').valid\">\r\n                     <small>Please enter Borrowers Market Value of Asset!</small> \r\n                     </mat-error>\r\n                </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <label  class=\"hint\">Asset Valuer*</label>\r\n                    <mat-card class=\"inputMatName\">\r\n                        <mat-select formControlName=\"assetValue\" disableOptionCentering>\r\n                            <mat-option value=\"\">Select</mat-option>\r\n                            <mat-option value=\"Bank Manager\">Bank Manager</mat-option>\r\n                            <mat-option value=\"Bank Clerk\">Bank Clerk</mat-option>\r\n                            <mat-option value=\"Bank Accountant\">Bank Accountant</mat-option>\r\n                          </mat-select>\r\n                    </mat-card>\r\n                    <mat-error\r\n                     *ngIf=\"assetValuation.get('assetValue').touched && !assetValuation.get('assetValue').valid\">\r\n                     <small>Please select Asset Valuer</small> \r\n                     </mat-error>\r\n                   \r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <label  class=\"hint\">Valuation Date*</label>\r\n                    <mat-card class=\"inputMatName\">\r\n                        <input matInput  class=\"alignment\" readonly formControlName=\"valuationDate\" \r\n                        [matDatepicker]=\"appDatepicker\"  />\r\n                        <div fxFlex=\"8%\" id=\"toggle\">\r\n                            <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\" >\r\n                            </mat-datepicker-toggle>\r\n          \r\n                            <mat-datepicker #appDatepicker>\r\n                            </mat-datepicker>\r\n                          </div>\r\n                    </mat-card>\r\n                    <mat-error\r\n                     *ngIf=\"assetValuation.get('valuationDate').touched && !assetValuation.get('valuationDate').valid\">\r\n                     <small>Please Select Valuation Date!</small> \r\n                     </mat-error>\r\n                    \r\n                </div>\r\n               \r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div fxLayout=\"column\" fxFlex=\"100\">\r\n                    <label  class=\"hint\">Actual Area of the Property*</label>\r\n                    <div fxLayout=\"row\">\r\n                        <div class=\"flex-grow-1\" fxFlex=\"15%\">\r\n                    \r\n                            <mat-card class=\"inputMatName\">\r\n                                <mat-select class=\"alignment\" disableOptionCentering [formControl]=\"assetValuation.controls['actualPropertyAreaInUnits']\">\r\n                                    <mat-option >select</mat-option>\r\n                                    <mat-option *ngFor=\"let actualPropertyAreaInUnits of areaArr\" value=\"actualPropertyAreaInUnits\" >\r\n                                        {{actualPropertyAreaInUnits}}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                              </mat-card>           \r\n                        </div>\r\n                        <div class=\"flex-grow-1\" fxFlex=\"85%\" >\r\n                            \r\n                            <mat-card class=\"inputMatName\">\r\n                              <input matInput formControlName=\"actualPropertyAreaSize\" class=\"alignment\" type=\"text\" \r\n                              (keypress)=\"_keyPress($event)\" />\r\n                            </mat-card>\r\n                            <mat-error\r\n                     *ngIf=\"assetValuation.get('actualPropertyAreaSize').touched && !assetValuation.get('actualPropertyAreaSize').valid\">\r\n                     <small>Please Select Actual Area of the Property!</small> \r\n                     </mat-error>\r\n                           \r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <label  class=\"hint\">Face Value of Asset</label>\r\n                    <mat-card class=\"inputMatName\">   \r\n                        <mat-select disableOptionCentering>\r\n                            <mat-option value=\"\">Currency</mat-option>\r\n                            <mat-option value=\"\">INR</mat-option>\r\n                            \r\n                          </mat-select>\r\n                    </mat-card>\r\n                    <!-- <mat-error\r\n                     *ngIf=\"assetValuation.get('faceValueAsset').touched && !assetValuation.get('faceValueAsset').valid\">\r\n                     <small>Please Select Face Value of Asset!</small> \r\n                     </mat-error>-->\r\n                </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                    <label  class=\"hint\">Market Value of Asset</label>\r\n                    <mat-card class=\"inputMatName\">\r\n                        <mat-select disableOptionCentering>\r\n                            <mat-option value=\"\">Currency</mat-option>\r\n                            <mat-option value=\"\">INR</mat-option>\r\n                          </mat-select>\r\n                    </mat-card>\r\n                    <!-- <mat-error\r\n                     *ngIf=\"assetValuation.get('marketValueAsset').touched && !assetValuation.get('marketValueAsset').valid\">\r\n                     <small>Please Select Market Value of Asset!</small> \r\n                     </mat-error>-->\r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                    <label  class=\"hint\">Forced Sale VAlue</label>\r\n                    <mat-card class=\"inputMatName\">\r\n                        <mat-select disableOptionCentering>\r\n                            <mat-option value=\"\">Currency</mat-option>\r\n                            <mat-option value=\"\" >INR</mat-option>\r\n                          </mat-select>\r\n                    </mat-card>\r\n                    <!-- <mat-error\r\n                     *ngIf=\"assetValuation.get('forcedSaleValue').touched && !assetValuation.get('forcedSaleValue').valid\">\r\n                     <small>Please Select Forced Sale Value!</small> \r\n                     </mat-error>-->\r\n                </div>\r\n    \r\n            </div>\r\n        </mat-card>\r\n        <div fxLayout=\"row\" class=\"button\">\r\n    \r\n            <button mat-button rounded  class=\"Back\" (click)=\"goBack()\" >\r\n              Back\r\n            </button>\r\n            <button mat-stroked-button class=\"Next\" [disabled]=\"!assetValuation.get('bankValuation').valid\" (click)=\"submit()\" >\r\n              Next\r\n            </button>\r\n            \r\n        </div>\r\n    </form>\r\n    \r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-legal-opinion',\r\n  templateUrl: './legal-opinion.component.html',\r\n  styleUrls: ['./legal-opinion.component.scss']\r\n})\r\nexport class LegalOpinionComponent implements OnInit {\r\n  legalOpinionId:any;\r\n  showEditOption: boolean = false;\r\n  lawyerArr:string[]=['John Asset','Peter','Henery Nicholus','Mountbaton'];\r\n  descriptionArr:string[]=['Title Deeds clear','sanction','Asset-backed securitisations'];\r\n  assetArea: number;\r\n  legalOpinion: FormGroup;\r\n  accountDetails: any;\r\n  loanInfo: any;\r\n  loanAccountId: any;\r\n\r\n  constructor(private formBuilder: FormBuilder,private apiService:ApiService, private snack: MatSnackBar,private ls: \r\n    LocalStoreService,private loader: AppLoaderService,\r\n    private router: Router) {\r\n     \r\n        this.legalOpinion= this.formBuilder.group({\r\n\r\n          assetAreaSize: ['',[Validators.required]],\r\n          description:[''],\r\n          lawyerName:[''],\r\n          mktValOfAsset: ['',[Validators.required]],\r\n          opinion:[''],\r\n          opinionDate:[''],\r\n          valuationDate:[''],\r\n          \r\n        })\r\n     }\r\n\r\n  ngOnInit() {\r\n    \r\n    let isLegalOpinionScreen: boolean = JSON.parse(this.ls.getItem('legalScreen'));\r\n    //if (this.legalOpinionId != null && isLegalOpinionScreen) {\r\n      if (55655 != null && isLegalOpinionScreen) {\r\n      this.showEditOption = true;\r\n      this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n      if(this.loanInfo){\r\n        this.loanAccountId = this.loanInfo.loanAccountId;\r\n      }\r\n      setTimeout(() => {\r\n        this.getLegalOpinionDetails();\r\n      }, 10);\r\n     \r\n    }\r\n    else {\r\n      console.log(\"else\");\r\n      this.showEditOption = false;\r\n      this.buildOfferIssueForm();\r\n    }\r\n   \r\n  }\r\n  getLegalOpinionDetails(){\r\n    this.loader.open();\r\n    this.apiService.getLegalOpinion(112).subscribe((accountDetails) => {\r\n      this.loader.close();\r\n      this.accountDetails = accountDetails;\r\n      console.log(this.accountDetails);\r\n      this.buildOfferIssueForm(this.accountDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n\r\n\r\n  }\r\n  buildOfferIssueForm(data?){\r\n    this.legalOpinion = this.formBuilder.group({\r\n      assetAreaSize : [data ? data.assetAreaSize:''],\r\n      description:[data ? data.description:''],\r\n      lawyerName:[data ? data.lawyerName:''],\r\n      mktValOfAsset:[data ? data.mktValOfAsset:''],\r\n      opinion:[data ? data.opinion:''],    \r\n      opinionDate:[data ? data.opinionDate:''],  \r\n      valuationDate:[data ? data.valuationDate:''],\r\n      \r\n    \r\n    })\r\n\r\n  }\r\n  onclick(){\r\n    let now = new Date();\r\n    now=this.legalOpinion.value.opinionDate;\r\n    var dateStringWithTime = moment(now).format('YYYY-MM-DD HH:MM:SS');\r\n    console.log(\"dateStringWithTime\",dateStringWithTime);\r\n  }\r\n\r\n  Submit(){\r\n    let details:  any;\r\n    //details.push(this.legalOpinion.value);\r\n    let now = new Date();\r\n    now=this.legalOpinion.value.opinionDate;\r\n    var dateStringWithTime = moment(now).format('YYYY-MMM-DD HH:MM:SS');\r\n    console.log(\"dateStringWithTime\",dateStringWithTime);\r\n    var pk=this.legalOpinion.value.assetAreaSize;\r\n    pk= parseInt(pk);\r\n    console.log(\"pk\",pk);\r\n    \r\n    //console.log(\"addbranch::\",details);\r\n    let payload={\r\n      \r\n      //assetAreaSize:this.legalOpinion.value.assetAreaSize,\r\n      assetAreaInUnits:this.legalOpinion.value.assetAreaInUnits,\r\n      assetAreaSize:pk,\r\n      description:this.legalOpinion.value.description,\r\n      isDecisionFavorable:\"yes\",\r\n      lawyerName:this.legalOpinion.value.lawyerName,\r\n      loanAccountId:112,\r\n      mktValOfAsset:this.legalOpinion.value.mktValOfAsset,\r\n      opinion:this.legalOpinion.value.opinion,\r\n      opinionDate:dateStringWithTime,\r\n      valuationDate:dateStringWithTime\r\n      \r\n      \r\n      //valuationDate:this.legalOpinion.value.valuationDate,\r\n      \r\n      \r\n      /*bankCode: this.holidaypopupForm.value.bankCode,\r\n      branchCode: this.holidaypopupForm.value.branchCode,\r\n      applicationDate:this.holidaypopupForm.value.applicationDate,\r\n      year:year,\r\n      id:this.holidaypopupForm.value.id,\r\n      month:month,\r\n     // calendar:calendar\r\n     calendar:date.toString()*/\r\n\r\n    }\r\n    this.apiService.UpdateLegalOpinion(payload).subscribe(response => {\r\n      console.log(response);\r\n      if (response === 200 || response !== null) {\r\n        this.snack.open('  Legal Opinion  Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.Next();\r\n      }\r\n      else if (response === 500) {\r\n        this.snack.open('Not able to connect to server!', 'INTERNAL SERVER ERROR', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      }\r\n    }, err => {\r\n      console.log(err);\r\n    });\r\n    \r\n  }\r\n  Next(){\r\n    this.ls.setItem('legalScreen', true);\r\n    this.router.navigate([\"/loan/account/list/offer-issue/offer-assessment\"]);\r\n  \r\n  }\r\n  \r\n  goBack(){\r\n    this.router.navigate([\"/loan/account/list/offer-issue/valuation-asset\"]);\r\n  }\r\n  _keyPress1(event: any) {\r\n    const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    const input = event.target.value;\r\n    if (input.length === 0 && event.which === 48) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n  onInput(event: any, flag) {\r\n    if (flag) {\r\n      this.assetArea = event.target.value;\r\n    } else {\r\n      this.assetArea = event;\r\n    }\r\n  \r\n    console.log(\"this.salary)::\", this.assetArea);\r\n    let sal = this.assetArea.toString().replace(/,/g, '').split(\".\");\r\n    sal[0] = sal[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    let final = sal.join(\".\");\r\n    console.log(\"final\", final);\r\n    this.legalOpinion.controls.mktValOfAsset.setValue(final);\r\n  }\r\n  onInput1(event: any, flag) {\r\n    if (flag) {\r\n      this.assetArea = event.target.value;\r\n    } else {\r\n      this.assetArea = event;\r\n    }\r\n  \r\n    console.log(\"this.salary)::\", this.assetArea);\r\n    let sal = this.assetArea.toString().replace(/,/g, '').split(\".\");\r\n    sal[0] = sal[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    let final = sal.join(\".\");\r\n    console.log(\"final\", final);\r\n    this.legalOpinion.controls.assetAreaSize.setValue(final);\r\n  }\r\n}","<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n          <img src=\"assets/images/svg/Group 673.svg\" alt=\"\" class=\"w-80\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n          <div class=\"main-title\"><b>Legal Opinion</b></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"column\">\r\n<form fxLayout=\"column\"  [formGroup]=\"legalOpinion\" >\r\n<div fxFlex=\"100\">\r\n    <mat-card fxLayout=\"column\" style=\"border-radius: 30px; margin-right: 1.5cm;\">\r\n        <mat-card-title >\r\n            <div class=\"card-title-text\">Legal Opinion<mat-divider></mat-divider></div>\r\n        </mat-card-title>\r\n\r\n        <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <label  class=\"hint\">Opinion </label>\r\n                <mat-card class=\"inputMatName\">\r\n                      <mat-select disableOptionCentering  class=\"alignment\" formControlName=\"opinion\"  >\r\n                        <mat-option >select</mat-option>\r\n                        <mat-option value=\"Bank Panel\" >Bank Panel</mat-option>\r\n                        <mat-option value=\"Bank Manager\" >Bank Manager</mat-option>\r\n                        <mat-option value=\"Bank Accountant\" >Bank Accountant</mat-option>\r\n                        <!--<mat-option *ngFor=\"let category of assetValuerArr\" value=\"agencyselect\">\r\n                            {{category}}\r\n                        </mat-option>-->\r\n                    </mat-select>\r\n                </mat-card>\r\n                <mat-error\r\n                *ngIf=\"legalOpinion.get('opinion').touched && !legalOpinion.get('opinion').valid\">\r\n                 <small>Please Select Opinion!</small> \r\n                </mat-error>\r\n               \r\n              </div>\r\n              <div fxLayout=\"column\" fxFlex=\"100\">\r\n                <label  class=\"hint\">Asset Area *</label>\r\n                <div fxLayout=\"row\">\r\n                    <div class=\"flex-grow-1\" fxFlex=\"15%\">\r\n                \r\n                        <mat-card class=\"inputMatName\">\r\n                            <mat-placeholder>Sq</mat-placeholder>\r\n                          </mat-card>\r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"85%\" >\r\n                        \r\n                        <mat-card class=\"inputMatName\">\r\n                          <input matInput\r\n                          formControlName=\"assetAreaSize\" \r\n                          (keypress)=\"_keyPress1($event)\"\r\n                            (keyup)=\"onInput1($event,true)\"  name=\"assetAreaSize\" \r\n                            maxlength=\"16\"\r\n                          \r\n                           class=\"alignment\" type=\"text\" \r\n                              />\r\n                        </mat-card>\r\n                        <mat-error\r\n                        *ngIf=\"legalOpinion.get('assetAreaSize').touched &&\r\n                        !legalOpinion.get('assetAreaSize').valid\">\r\n                        <small>Please enter Asset Area !</small> \r\n                    </mat-error>\r\n                       \r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <label  class=\"hint\">Market Value of Asset *</label>\r\n                <mat-card class=\"inputMatName\">\r\n                  <input matInput  class=\"alignment\" type=\"text\" name=\"mktValOfAsset\" \r\n                  formControlName=\"mktValOfAsset\" \r\n                  (keypress)=\"_keyPress1($event)\"  (keyup)=\"onInput($event,true)\" maxlength=\"16\" />\r\n                </mat-card>\r\n                <mat-error\r\n                        *ngIf=\"legalOpinion.get('mktValOfAsset').touched &&\r\n                         !legalOpinion.get('mktValOfAsset').valid\">\r\n                        <small>Please enter Market Value of Asset !</small> \r\n                    </mat-error>\r\n               \r\n            </div>\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <label  class=\"hint\">Lawyer Name</label>\r\n                <mat-card class=\"inputMatName\">\r\n                      <mat-select disableOptionCentering class=\"alignment\" formControlName=\"lawyerName\"  >\r\n                        <mat-option >select</mat-option>\r\n                        <mat-option *ngFor=\"let lawyerName of lawyerArr\" [value]=\"lawyerName\">\r\n                            {{lawyerName}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-card>  \r\n                <mat-error\r\n                *ngIf=\"legalOpinion.get('lawyerName').touched && !legalOpinion.get('lawyerName').valid\">\r\n                 <small>Please Select Lawyer Name!</small> \r\n                </mat-error> \r\n            </div>\r\n              \r\n        </div>\r\n        <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <label  class=\"hint\">Opinion Date</label>\r\n                <mat-card class=\"inputMatLastName\" style=\"height:48px;\">\r\n                      <input matInput  id=\"dob\" class=\"alignment\" name=\"opinionDate\" readonly\r\n                        [matDatepicker]=\"picker\" \r\n                        formControlName=\"opinionDate\"  value=\"opinionDate\" placeholder=\"DD/MM/YYYY\">\r\n                    <div fxFlex=\"8%\" id=\"toggle\">\r\n                        <mat-datepicker-toggle matSuffix [for]=\"picker\" >\r\n                        </mat-datepicker-toggle>\r\n      \r\n                        <mat-datepicker #picker>\r\n                        </mat-datepicker>\r\n                      </div>\r\n      \r\n                 </mat-card>\r\n                 <mat-error\r\n                *ngIf=\"legalOpinion.get('opinionDate').touched && !legalOpinion.get('opinionDate').valid\">\r\n                 <small>Please Select Opinion Date!</small> \r\n                </mat-error> \r\n  \r\n            </div>\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <label  class=\"hint\">Valuation Date</label>\r\n                <mat-card class=\"inputMatName\">\r\n                  <input matInput  class=\"alignment\" type=\"text\" name=\"valuationDate\"\r\n                  placeholder=\"DD/MM/YYYY\" formControlName=\"valuationDate\" \r\n                     />\r\n                </mat-card>\r\n               \r\n            </div>\r\n           \r\n              \r\n        </div>\r\n        <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n           \r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <label  class=\"hint\">Description</label>\r\n                <mat-card class=\"inputMatName\">\r\n                      <mat-select disableOptionCentering class=\"alignment\" formControlName=\"description\">\r\n                        <mat-option >select</mat-option>\r\n                        <mat-option *ngFor=\"let description of descriptionArr\" [value]=\"description\">\r\n                            {{description}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-card>   \r\n                <mat-error\r\n                *ngIf=\"legalOpinion.get('description').touched && !legalOpinion.get('description').valid\">\r\n                 <small>Please Select Description!</small> \r\n                </mat-error>\r\n            </div>\r\n            <div class=\"pb-1\" style=\"padding-top: 1.5cm; \" >\r\n                Descision Favourable ? \r\n                <mat-slide-toggle\r\n                ></mat-slide-toggle>\r\n              </div>\r\n              \r\n        </div>\r\n\r\n    </mat-card>\r\n\r\n</div>\r\n<div class=\"button\">\r\n    <!-- -->\r\n    <button mat-button class=\"Back\" (click)=\"goBack()\" >Back</button>\r\n    <button mat-stroked-button class=\"Next\" (click)=\"Submit()\" [disabled]=\"!legalOpinion.valid\"  >Next</button>\r\n</div>\r\n</form>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { DataService } from 'app/shared/services/data.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-assessment-summary',\r\n  templateUrl: './assessment-summary.component.html',\r\n  styleUrls: ['./assessment-summary.component.scss']\r\n})\r\nexport class AssessmentSummaryComponent implements OnInit {\r\n\r\n  \r\n   userRecommendation={'userRecommendation' :'Recomended For Approval'};\r\n  // assessmentDetails= {'requestedLoanAmount':'$200,000',\r\n  //                     'loanTenure'         :'5 years',\r\n  //                     'rateOfIntrested'    :'5%',\r\n  //                     'loanAmountRecomended':'$500,000',\r\n  //                     'approvedLoanAmount  ':'$200,000',\r\n  //                     'findLoanTenure'      :'5 years',\r\n  //                     'finalRate'           :'5%'\r\n  //                   };\r\n    public items: any;\r\n  \r\n\r\n  constructor(\r\n    private router: Router,\r\n    private apiService: ApiService,\r\n    public dialogRef: MatDialogRef<AssessmentSummaryComponent>,\r\n     private snack: MatSnackBar,\r\n     private dataService:DataService,\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.fetchAssessmentDetails();\r\n  }\r\n\r\n  fetchAssessmentDetails() {\r\n    this.apiService.getAssessmentDetails(1234)\r\n      .subscribe((data : any) => {\r\n        this.items = data;\r\n        console.log(this.items);\r\n      })\r\n  }\r\n\r\n  // getAccountDetails(){\r\n  //   this.apiService.getOfferIssueDetails(9998).subscribe((accountDetails : any) => {\r\n  //     console.log(\"All Account Service\",accountDetails);\r\n  //     this.accountDetails = accountDetails;\r\n  //     console.log(\"this.offerissuedetail\",this.offerissuedetail);\r\n      \r\n      \r\n  //     });\r\n  // }\r\n\r\n  edit(){\r\n    this.dataService.sendNavParam(this.items);\r\n    this.dialogRef.close();\r\n    this.router.navigate(['loan/account-approval/assessment-details']); \r\n  }\r\n  close(){\r\n    this.dialogRef.close();\r\n    this.router.navigate([`/loan/account-approval/list`]);\r\n  }\r\n}\r\n","<div class=\"full-width\">\r\n    <div fxLayout=\"row\" class=\"contain\">\r\n        <mat-icon class=\"backIcon\" (click)=\"close()\">close</mat-icon>\r\n    </div>\r\n    <div fxLayout=\"row\">\r\n        <h4 class=\"paraFont\">Assessment Summary</h4>\r\n    </div>\r\n\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\">\r\n                <div class=\"full-width\">\r\n                    <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                        <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                            <ng-container>\r\n                                <div fxFlex fxFlex.xs=\"100%\" class=\"inputCardclass\">\r\n                                    <mat-card class=\"inputCard\">\r\n                                        <div fxLayout=\"row wrap\">\r\n                                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                <ng-container >\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Requested Loan Amount\r\n                                                        </mat-hint><br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{items.requestedLoanAmount}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Loan Tenure\r\n                                                        </mat-hint><br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{items.loanTenure}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Rate Of Interest\r\n                                                        </mat-hint><br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{items.rateOfInterest}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">System Recommendation\r\n                                                        </mat-hint><br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{items.systemRecommendation}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">User Recommendation\r\n                                                        </mat-hint><br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{items.userRecommendation}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Loan Amount Recommended\r\n                                                        </mat-hint><br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{items.loanAmountRecommendation}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Approved Loan Amount\r\n                                                        </mat-hint><br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{items.approvedLoanAmount}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Final Loan tenure\r\n                                                        </mat-hint><br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{items.finalLoanTenure}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Final Rate\r\n                                                        </mat-hint><br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{items.finalRate}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                </ng-container>\r\n                                            </div>\r\n                                        </div>       \r\n                                    </mat-card>\r\n                                </div>\r\n                            </ng-container>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <p class=\"editButton\" (click)=\"edit()\">Edit</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { rumangoAnimations } from 'app/shared/animations/rumango-animations';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/home/account.service';\r\n\r\n@Component({\r\n  selector: 'app-loan-assesment-stage',\r\n  templateUrl: './loan-assesment-stage.component.html',\r\n  styleUrls: ['./loan-assesment-stage.component.scss']\r\n})\r\nexport class LoanAssesmentStageComponent implements OnInit {\r\n  isLoanQualitativeScoreboard:boolean=false;\r\n  isLoanAssessmentDetails:boolean=false;\r\n  accountId: any;\r\n  isAssessmentStageDone: boolean = false;\r\n  assessmentReportSummary:any;\r\n  loanAccountId: any;\r\n\r\n  constructor(private router: Router, private dialogService: DialogService, \r\n    private ls: LocalStoreService, private cdr: ChangeDetectorRef,\r\n     private accountService: AccountService, private apiService: ApiService) { }\r\n\r\n  ngOnInit() {\r\n    //this.accountId = this.ls.getItem('accountId');\r\n    this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    this.isAssessmentStageDone = this.ls.getItem('assessmentStage');\r\n    this.isLoanQualitativeScoreboard=this.ls.getItem('LOAN_QUALITATIVE_SCOREBOARD_DONE');\r\n    this.isLoanAssessmentDetails=this.ls.getItem('LOAN_ASSESSMENT_DETAILS_DONE');\r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n    //  this.accountId = this.ls.getItem('accountId');\r\n      this.loanAccountId = this.ls.getItem('loanAccountId');\r\n      this.isLoanQualitativeScoreboard=this.ls.getItem('LOAN_QUALITATIVE_SCOREBOARD_DONE');\r\n      this.isLoanAssessmentDetails=this.ls.getItem('LOAN_ASSESSMENT_DETAILS_DONE');\r\n      this.cdr.markForCheck();\r\n    });\r\n  // this.getData(this.accountId);\r\n  }\r\n\r\n  qualitativeScoreboard(){\r\n    this.router.navigate([\"loan/account/assessment/qualitative\"]);\r\n  }\r\n\r\n  getData(id){\r\n    this.apiService.getApplnAssessmentDetails(id).subscribe((response) => {\r\n      this.assessmentReportSummary = response;\r\n      console.log( this.assessmentReportSummary);\r\n    });\r\n  }\r\n\r\n  viewSummary(){\r\n    this.router.navigate([`loan/account/assessment/summary`,]);\r\n  }\r\n\r\n  openLoanQualitativeDialog(){\r\n    this.dialogService.loanQualitativeSummaryDialog();\r\n  }\r\n\r\n  openLoanAssessmentDialog(){\r\n    this.dialogService.loanAssessmentSummaryDialog();\r\n  }\r\n\r\n  // goToLoanAssessmentSummary(){\r\n  //   this.dialogService.loanAssessmentStageSummary();\r\n  // }\r\n\r\n}","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <!-- <div class=\"propic text-center\">\r\n        <img src=\"assets/images/face-7.png\" alt=\"\" class=\"w-80\" />\r\n      </div> -->\r\n    <div class=\"profile-pic text-center\">\r\n       <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n      <i class=\"fa fa-edit upload-icon\"></i>\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title\"><b>Create Retain Loan Account</b></div>\r\n      <div class=\"text-muted\">\r\n        Open a Retain Loan Account with bank XYZ bank in a better way.\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\" *ngIf=\"isLoanQualitativeScoreboard && isLoanAssessmentDetails\" class=\"mt-8\">\r\n    <mat-card\r\n    [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\"\r\n  >\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n      <div fxFlex=\"10\">\r\n        <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n      </div>\r\n      <div fxFlex=\"30\">\r\n        <h6>Application Assesment Completed</h6>\r\n      </div>\r\n      <span fxFlex></span>\r\n      <button\r\n      mat-button\r\n      (click) =\"viewSummary()\"\r\n      color=\"primary\" \r\n    >\r\n      View Summary\r\n    </button>\r\n    </div>\r\n  </mat-card>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n  <div fxFlex=\"50\"  fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n    <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n    <!-- Card 1 start-->\r\n    <mat-card [ngClass]=\"{'border-size':isLoanQualitativeScoreboard || !isLoanQualitativeScoreboard}\">\r\n    <mat-card-header>\r\n        <mat-card-title>1. Qualitative Scorecard Details</mat-card-title>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n           <p class=\"text-align\">Relevant evaluation details of the Applicant is captured and the scores are automatically displayed.</p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n               \r\n          <img [src]=\"'assets/images/svg/undraw_Scrum_board_re_wk7v.svg'\" class=\"card-img\">\r\n            </div>\r\n          </div>\r\n        <!--begin::Progress-->\r\n        <div class=\"mb-1\" *ngIf=\"isLoanQualitativeScoreboard\">\r\n          <mat-progress-bar\r\n            [color]=\"'primary'\"\r\n            mode=\"determinate\"\r\n            [value]=\"100\"\r\n            class=\"rounded\"\r\n            style=\"height: 6px\"\r\n          >\r\n          </mat-progress-bar>\r\n          <p class=\"m-0 text-right\">Completed</p>\r\n          <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n        </div>\r\n        <!--end::Progress-->\r\n      </mat-card-content>\r\n      <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <!-- <ng-container *ngIf=\"isChargesScreen && isQualitativeScreen; else showQualitative\"> -->\r\n            <!-- <ng-container *ngIf=\"isLoanQualitativeScoreboard\"; else showQualitative></ng-container> -->\r\n            <button\r\n            mat-button \r\n            [routerLink]=\"['/loan/account/assessment/qualitative']\"\r\n            color=\"primary\" *ngIf=\"!isLoanQualitativeScoreboard\" \r\n            >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        \r\n          <button\r\n            mat-button\r\n            color=\"primary\" *ngIf=\"isLoanQualitativeScoreboard\"\r\n            (click)=\"openLoanQualitativeDialog()\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n          <!-- </ng-container> -->\r\n          <ng-template #showQualitative>\r\n          \r\n          </ng-template>\r\n        </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Card 1 end -->\r\n    </div>\r\n    <div fxFlex=\"50\"  fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n    <!-- card 2 start-->\r\n    <!-- <mat-card *ngIf=\"overDraftByStatus\"> -->\r\n    <mat-card [ngClass]=\"{'border-size':isLoanAssessmentDetails || !isLoanAssessmentDetails && isLoanQualitativeScoreboard}\">\r\n      <mat-card-header>\r\n          <mat-card-title>2. Assessment Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" >\r\n              <div fxFlex=\"50%\"  class=\"notActive\">\r\n                 <p class=\"text-align\">The evaluation in terms of the qualitative and quantitative scores are recorded.</p>\r\n              </div>\r\n              <div fxFlex=\"50%\" class=\"notActive\">\r\n                  <img [src]=\"'assets/images/svg/MaskGroup_13.svg'\" class=\"card-img\">\r\n               </div>\r\n            </div>\r\n          <!--begin::Progress-->\r\n          <div class=\"mb-1\" *ngIf=\"isLoanAssessmentDetails\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n          </div>\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n          <mat-divider></mat-divider>\r\n          <mat-card-actions>\r\n            <ng-container *ngIf=\"isLoanQualitativeScoreboard && isLoanAssessmentDetails; else showReport\">\r\n              <!-- <ng-container> -->\r\n                \r\n            <button\r\n            mat-button\r\n            (click)=\"openLoanAssessmentDialog()\"\r\n            color=\"primary\"\r\n          >\r\n              View Details <mat-icon>chevron_right</mat-icon>\r\n            </button>\r\n            </ng-container>\r\n            <ng-template #showReport>\r\n              <button\r\n              mat-button\r\n              [routerLink]=\"[ '/loan/account/assessment/assessment-details']\"\r\n              color=\"primary\"  *ngIf=\"!isLoanAssessmentDetails\" \r\n              >\r\n              Add Details <mat-icon>chevron_right</mat-icon>\r\n            </button>\r\n            </ng-template>\r\n          </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Card 2 end-->\r\n    </div>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-account-creation-summary',\r\n  templateUrl: './account-creation-summary.component.html',\r\n  styleUrls: ['./account-creation-summary.component.scss']\r\n})\r\nexport class AccountCreationSummaryComponent implements OnInit {\r\n  titleName = \"Account Creation Stage\";\r\n  accountCreateValue: any;\r\n  offerAcceptRejectvalue: any;\r\n  loanaccountID: any;\r\n  loanInfo: any;\r\n\r\n  constructor(private router:Router,private api: ApiService,private ls:LocalStoreService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    this.getOfferAcceptReject();\r\n    this.getAccountCreateDetails();\r\n  }\r\n  goBack() {\r\n    this.router.navigate([`/loan/account/list`]);\r\n  }\r\n\r\n\r\n  done() {\r\n    this.router.navigate([`/loan/account/list`]);\r\n  }\r\n  getOfferAcceptReject() {\r\n    this.api.getOfferAcceptReject('200')\r\n     .subscribe((offerAcceptReject: any)=> {\r\n      console.log(offerAcceptReject);\r\n      this.offerAcceptRejectvalue=offerAcceptReject;\r\n      \r\n    });\r\n  }\r\n  getAccountCreateDetails() {\r\n    this.api.getAccountCreateDetails(this.loanaccountID)\r\n     .subscribe((accountCreateDetails: any)=> {\r\n      console.log(accountCreateDetails);\r\n      this.accountCreateValue=accountCreateDetails;\r\n      \r\n    });\r\n  }\r\n\r\n}\r\n","<div>\r\n    <img class=\"entryImg\" src=\"assets/images/entry.png\" alt=\"\">\r\n    <h4 class=\"para\">{{titleName}}</h4>\r\n\r\n<!--Offer Accept Reject Details-->\r\n\r\n<!-- <div class=\"full-width\">\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\">\r\n            <h4 class=\"paraFont\">Offer Accept/Reject</h4>\r\n        </div>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\">\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Applicant Name</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.applicantName}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Approved Loan Amount </mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.approvedLoanAmount}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.loanTenure}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Installment Type</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.installmentType}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Installment Frequency</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.installmentFrequency}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Rate of Interest (in%)</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.rateOfInterest}}</mat-hint>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Approved Loan Amount</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.approvedLoanAmount}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.loanTenure}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Installment Type</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.installmentType}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n\r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Rate of Interest</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.rateOfInterest}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Principal</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.principal}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Interest</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.interest}}</mat-hint>\r\n                                        </div>\r\n                                      \r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Installment Amount</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.installmentAmount}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Charges</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.charges}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Offer Issue Date</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.offerIssueDate}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n\r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Generate Offer</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.generateOffer}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Customer Response</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.accept}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Date Of Offer Accept/Reject</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.dateOfOfferAcceptOrReject}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n\r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Offer Expiry Date </mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{offerAcceptRejectvalue.offerExpiryDate}}</mat-hint>\r\n\r\n                                        </div>\r\n                                      \r\n                                    </ng-container>\r\n                                </div>    \r\n                            </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> -->\r\n\r\n\r\n<br>\r\n\r\n\r\n<!--account create Details-->\r\n<div class=\"full-width\">\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\">\r\n            <h4 class=\"paraFont\">Account Create Details</h4>\r\n        </div>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\">\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"4%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Applicant Name</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.applicantName}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Approved Loan Amount </mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.approvedLoanAmount}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Offer Issue Date</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.offerIssueDate}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Offer Accepted Date</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.offerAcceptedDate}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.loanTenure}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Installment Type</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.installmentType}}</mat-hint>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Installment Frequency</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.installmentFrequency}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Rate of Interest</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.rateOfInterest}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Principal</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.principal}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n\r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Interest</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.interest}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Installment Amount</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.installmentAmount}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Charges</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.charges}}</mat-hint>\r\n                                        </div>\r\n                                      \r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Disbursement Amount</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.disbursementAmount}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Repayment Amount</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{accountCreateValue.repaymentAmount}}</mat-hint>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                </div>                \r\n                            </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n<div\r\nfxLayout=\"row\"\r\nfxLayoutAlign=\"space-between center\"\r\nfxLayoutGap=\"16px\"\r\nclass=\"mt-32\"\r\n>\r\n<button mat-button rounded color=\"primary\" (click)=\"goBack()\">\r\n  Back\r\n</button>\r\n<button\r\n  mat-raised-button\r\n  color=\"primary\"\r\n  (click)=\"done()\"\r\n>\r\n  Done\r\n</button>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from '../../account.service';\r\n\r\n@Component({\r\n  selector: 'app-credit-rating-details',\r\n  templateUrl: './credit-rating-details.component.html',\r\n  styleUrls: ['./credit-rating-details.component.scss']\r\n})\r\nexport class UnderWrittingCreditRatingDetailsComponent implements OnInit {\r\n  creditForms: FormGroup;\r\n  customerNames: any[]=[];\r\n\r\n  isCreditRatingDetails: any;\r\n  loanaccountID: any;\r\n  customerName: any;\r\n  loanInfo: any;\r\n  // customerNames=['Gayathri','joSmith'];\r\n  constructor(private formBuilder: FormBuilder,private ls: LocalStoreService,private appApiService: ApplicationEntryStageService,\r\n     private snack: MatSnackBar,private api: ApiService , private router: Router,private accountService:AccountService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.customerName=this.ls.getItem('primaryCustomerName');\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    setTimeout(() => {\r\n      this.getCustomerInformationDetails();\r\n    }, 10);\r\n\r\nthis.isCreditRatingDetails = this.ls.getItem('CREDIT_RATING_DONE');\r\nif(this.isCreditRatingDetails==false){\r\n  this.buildCollateralForm();\r\n}\r\nelse{\r\n  this.gettingCreditRatingDetail();\r\n}\r\n    // this.buildCollateralForm();\r\n  console.log(this.isCreditRatingDetails);\r\n  }\r\n\r\n  gettingCreditRatingDetail() {\r\n    this.api.gettingCreditRatingDetails(this.loanaccountID)\r\n      .subscribe((resp: any) => {\r\n       console.log(resp);\r\n       this.buildCollateralForm(resp,true);\r\n      });\r\n  }\r\n \r\n  // buildCollateralForm(data?, isResponse?: boolean) {\r\n  buildCollateralForm(data?,isResponse?:boolean) {\r\n    console.log(data);\r\n \r\n    this.creditForms = this.formBuilder.group({\r\n      customerName:[this.customerName,Validators.required],\r\n      loanAccountId:this.loanaccountID,\r\n      agencyRating: this.formBuilder.array([this.addModFormGroup(data)])\r\n    });\r\n    console.log(this.creditForms);\r\n  }\r\n  getCustomerInformationDetails() {\r\n    this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,'loan')\r\n      .subscribe((resp: any) => {\r\n     console.log(\"resp for customer information names \",resp.data);\r\n     for (let index = 0; index < resp.data.length; index++) {\r\n       if(resp.data[index].middleName != null){\r\n      this.customerNames[index] = resp.data[index].firstName +\" \" +resp.data[index].middleName +\" \"+ resp.data[index].lastName;\r\n       }\r\n       else{\r\n        this.customerNames[index] = resp.data[index].firstName +\" \"+ resp.data[index].lastName;\r\n       }\r\n     }\r\n     console.log(\"customer name \",this.customerNames)\r\n     if(this.customerNames.length === 1){\r\n      this.creditForms.get('customerName').setValue(this.customerNames[0])\r\n     }\r\n      }, (err: any) => {\r\n      });\r\n  }\r\n    // convenience getters for easy access to form fields\r\n    get f() { return this.creditForms.controls; }\r\n    get c() { return this.f.agencyRating as FormArray; }\r\n \r\n  addFormGroup() {\r\n    this.c.push(this.formBuilder.group({\r\n      agencyId:[0],\r\n      agencyName: ['',Validators.required],\r\n      ratings: ['',Validators.required],\r\n      remarks: [''],\r\n\r\n    }));\r\n  }\r\n  \r\n\r\n  addModFormGroup(data): FormGroup {\r\n    console.log(data,\"inside addModeFormGrp\");\r\n    return this.formBuilder.group({\r\n      agencyId:[data?data.agencyId : 0],\r\n      agencyName: [data?data.agencyRating[0].agencyName : '',Validators.required],\r\n      ratings: [data?data.agencyRating[0].ratings : '',Validators.required],\r\n      remarks: [data?data.agencyRating[0].remarks : ''],\r\n\r\n    })\r\n  }\r\n  OnSubmit(val){\r\n    console.log(\"val\",val);\r\n    val.accountType =\"loan\";\r\n    // this.ls.setItem('CREDIT_RATING_DONE', true);\r\n    this.api.saveCreditDetails(val).subscribe((data: any) => {\r\n      console.log(data);\r\n      if (data === 200 || data !== null) {\r\n        this.snack.open(' Credit Score Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.ls.setItem('CREDIT_RATING_DONE', true);\r\n        this.accountService.refresh.next();\r\n        this.router.navigate([`/loan/account/list/underwritingStage/valuationofassets`]);\r\n      }\r\n      else if (data === 500) {\r\n        this.snack.open('Not able to connect to server!', 'INTERNAL SERVER ERROR', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      }\r\n    }, err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/loan/account/list/underwritingStage\"]);\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/Mask_Group_9.svg\" alt=\"\" class=\"w-90\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><h2>Credit Score Details</h2></div>\r\n      </div>\r\n    </div>\r\n  \r\n  <!-- </div> --> \r\n    <div fxFlex=\"100\">\r\n      <!-- <mat-progress-bar [mode]=\"determinate\" class=\"session-progress\"></mat-progress-bar> -->\r\n      <mat-card class=\"p-0\">     \r\n        \r\n        <mat-card-title>\r\n          <fieldset>\r\n          <legend visible=\"true\">Credit Score Details</legend>\r\n          </fieldset>\r\n        </mat-card-title> \r\n        <mat-card-content>\r\n          <form *ngIf=\"creditForms\" [formGroup]=\"creditForms\">\r\n         \r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">            \r\n              \r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-2\">\r\n                <div class=\"flex-grow-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Customer Name*</mat-label>\r\n                <!-- <mat-card class=\" inputMatName mr-3\"> -->\r\n                  <input matInput [readonly]=\"true\" type=\"text\" class=\"alignment\" name=\"customerName\" formControlName=\"customerName\" >\r\n                    <!-- <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option value=\"GayathriR\">GayathriR</mat-option> -->\r\n                  \r\n  \r\n                <!-- </mat-card> -->\r\n                <mat-error *ngIf=\"!creditForms.get('customerName').valid && creditForms.get('customerName').touched\">\r\n                    Customer Name is Required!</mat-error>\r\n                  </mat-form-field>\r\n                  </div>\r\n              </div>\r\n           \r\n            </div>\r\n           \r\n            <div class=\"mt-16\" *ngFor=\"let mandate of c.controls; let i = index\"  >\r\n            <mat-accordion [formGroup]=\"mandate\" class=\"full-width mat-elevation-z0\">\r\n              <mat-expansion-panel class=\" borderStyle\" \r\n              >\r\n                <mat-expansion-panel-header class=\"marginData\">\r\n                  <mat-panel-title class=\"textDesign\">Score </mat-panel-title>\r\n                \r\n                </mat-expansion-panel-header>\r\n                <mat-divider class=\"design\"></mat-divider> \r\n                <!-- <mat-divider></mat-divider><br> -->\r\n                <div [formGroup]=\"mandate\">\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1 pt-2\">\r\n                        \r\n\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n                                <mat-label>Select Agency*</mat-label>\r\n                                <!-- <mat-card class=\" inputMatName\"> -->\r\n                                  <mat-select name=\"agencyName\" disableOptionCentering formControlName=\"agencyName\">\r\n                                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                    <mat-option value=\"Test Agency\">Test Agency</mat-option>\r\n                                    <mat-option value=\"Ujjivan Agency\">Ujjivan Agency</mat-option>\r\n                                    <mat-option value=\"Fast Track Agency\">Fast Track Agency</mat-option>\r\n\r\n                                  </mat-select>\r\n                  \r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!mandate.controls['agencyName'].valid  && mandate.controls['agencyName'].touched\">\r\n                                    Agency is Required!</mat-error>\r\n                              </mat-form-field>\r\n                              </div>\r\n                              <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Remarks</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  \r\n                                  <input matInput formControlName=\"remarks\" class=\"alignment\" placeholder=\"remarks\"\r\n                                    type=\"text\" name=\"remarks\" />\r\n                                    \r\n                                <!-- </mat-card> -->\r\n                                <!-- <mat-error *ngIf=\"!mandate.controls['remarks'].valid  && mandate.controls['remarks'].touched\">\r\n                                    Remarks is Required!</mat-error> -->\r\n                                </mat-form-field>\r\n                              </div>\r\n                          \r\n                          </div>\r\n                          <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pt-2\">\r\n                          \r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Ratings*</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName\"> -->\r\n                      \r\n                                  <input matInput formControlName=\"ratings\" class=\"alignment\" (keypress)=\"_keyPress($event)\" placeholder=\"ratings\"\r\n                                    type=\"text\" name=\"ratings\" />\r\n                                    \r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!mandate.controls['ratings'].valid  && mandate.controls['ratings'].touched\">\r\n                                    Ratings is Required!</mat-error>\r\n                              </mat-form-field>\r\n                              </div>\r\n\r\n                          </div>\r\n                     \r\n                    </div>\r\n                    <button mat-button color=\"primary\" class=\"PaddingChange\" (click)=\"addFormGroup()\">\r\n                        <mat-icon>add</mat-icon> ADD AGENCY\r\n                     </button> \r\n                  </div>\r\n              </mat-expansion-panel>\r\n            </mat-accordion>\r\n\r\n          </div>           \r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n  \r\n        <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n          Back\r\n        </button>\r\n        <button mat-raised-button color=\"primary\" class=\"Nextbtn\" (click)=\"OnSubmit(creditForms.value)\" [disabled]=\"!creditForms.valid\">\r\n          Next\r\n        </button>\r\n        \r\n      </div>\r\n    </div>  \r\n</div> \r\n  \r\n  \r\n  ","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport * as moment from 'moment';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-offer-accept-reject-details',\r\n  templateUrl: './offer-accept-reject-details.component.html',\r\n  styleUrls: ['./offer-accept-reject-details.component.scss']\r\n})\r\nexport class OfferAcceptRejectDetailsComponent implements OnInit {\r\n\r\n  public offerAcceptRejectForm: FormGroup;\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  customerResponse=['Accept', 'Reject'];\r\n  \r\n\r\n  constructor( private router:Router, private snack: MatSnackBar, private cdr: ChangeDetectorRef, private apiService: ApiService, private _location: Location, private fb: FormBuilder,) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildOfferAcceptRejectForm({});\r\n  }\r\n\r\n  buildOfferAcceptRejectForm(data) {\r\n    this.offerAcceptRejectForm = this.fb.group({\r\n      offerAcceptOrRejectId:[data.offerAcceptOrRejectId = '12345'],\r\n      loanAccountId : '7654',  \r\n      applicantName: [data.applicantName],\r\n      approvedLoanAmount: [data.approvedLoanAmount],\r\n      loanTenure: [data.loanTenure],\r\n      installmentType: [data.installmentType],\r\n      installmentFrequency: [data.installmentFrequency],\r\n      rateOfInterest: [data.rateOfInterest],\r\n      principal: [data.principal],\r\n      interest: [data.interest],\r\n      installmentAmount: [data.installmentAmount],\r\n      charges: [data.charges],\r\n      dateOfOfferAcceptOrReject: [new Date(data.dateOfOfferAcceptOrReject)],\r\n      generateOffer: [new Date(data.generateOffer)],\r\n      offerIssueDate: [new Date(data.offerIssueDate)],\r\n      offerExpiryDate: [new Date(data.offerExpiryDate)],\r\n    });  \r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  convertDate(value) {\r\n    // let date = moment(value).format('YYYY-MMM-DD');\r\n    // let date = moment(value).format('YYYY-MMM-DD hh:mm:ss');\r\n    let date = moment(value).format(\"YYYY-MMM-DD HH:mm:ss\");\r\n    console.log(\"date\", date);\r\n    if (date)\r\n      return date;\r\n  }\r\n\r\n  \r\n  next(){\r\n\r\n    let generateDate = this.convertDate(this.offerAcceptRejectForm.controls.generateOffer.value);\r\n    this.offerAcceptRejectForm.value['generateOffer'] = generateDate;\r\n    let offerAcceptDate = this.convertDate(this.offerAcceptRejectForm.controls.dateOfOfferAcceptOrReject.value);\r\n    this.offerAcceptRejectForm.value['dateOfOfferAcceptOrReject'] = offerAcceptDate;\r\n    let issueDate = this.convertDate(this.offerAcceptRejectForm.controls.offerIssueDate.value);\r\n    this.offerAcceptRejectForm.value['offerIssueDate'] = issueDate;\r\n    let expiryDate = this.convertDate(this.offerAcceptRejectForm.controls.offerExpiryDate.value);\r\n    this.offerAcceptRejectForm.value['offerExpiryDate'] = expiryDate;\r\n\r\n    this.apiService.offerDetails(this.offerAcceptRejectForm.value).subscribe(data => {\r\n      console.log(\"data\",data);\r\n      if(data != null){\r\n        this.snack.open('Data Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.cdr.markForCheck();\r\n      }\r\n    })\r\n\r\n    \r\n\r\n    this.router.navigate([`/loan/account-approval/loan-summary-details`]);\r\n  }\r\n  \r\n  goBack(){\r\n    this.router.navigate([`/loan/account-approval/assessment-details`]);\r\n  } \r\n\r\n}\r\n","<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n            <img src=\"assets/images/svg/undraw_personal_information_re_vw8a.svg\" alt=\"\" class=\"w-80\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title\"><b>Offer Accept / Reject Details</b></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <mat-card class=\"p-0\">\r\n            <mat-card-title class=\"\">\r\n                <div class=\"card-title-text\">Offer Accept / Reject Details</div>\r\n                <mat-divider></mat-divider>\r\n            </mat-card-title>\r\n            <mat-card-content>\r\n                <form [formGroup]=\"offerAcceptRejectForm\">\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Applicant Name</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput maxlength=\"10\" formControlName=\"applicantName\"\r\n                                        placeholder=\"Applicant Name\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Approved Loan Amount</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                        formControlName=\"approvedLoanAmount\" placeholder=\"Approved Loan Amount\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Loan Tenure</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput type=\"text\" maxlength=\"10\"\r\n                                        formControlName=\"loanTenure\" placeholder=\"Loan Tenure\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Installment Type</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput type=\"text\" maxlength=\"10\"\r\n                                        formControlName=\"installmentType\" placeholder=\"Installment Type\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Installment Frequency</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput type=\"text\" maxlength=\"10\"\r\n                                        formControlName=\"installmentFrequency\" placeholder=\"Installment Frequency\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Rate Of Interest(in %)</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                        formControlName=\"rateOfInterest\" placeholder=\"Rate Of Interest\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Principal</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                        formControlName=\"principal\" placeholder=\"Principal\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Interest </mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput maxlength=\"8\" formControlName=\"interest\" placeholder=\"Interest\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Installment Amount</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                        formControlName=\"installmentAmount\" placeholder=\"Installment Amount\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Charges</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput maxlength=\"8\" formControlName=\"charges\" placeholder=\"Charges\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Offer Issue Date</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event)\r\n                                        formControlName=\"offerIssueDate\" placeholder=\"Offer Issue Date\"\r\n                                        [min]=\"offerAcceptRejectForm.get('offerIssueDate').value\"\r\n                                        [matDatepicker]=\"appDatepicker1\" readonly />\r\n                                        <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                                </mat-form-field>\r\n                                <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Generate Offer</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) formControlName=\"generateOffer\"\r\n                                        placeholder=\"Generate Offer\"\r\n                                        [min]=\"offerAcceptRejectForm.get('generateOffer').value\"\r\n                                        [matDatepicker]=\"appDatepicker2\" readonly />\r\n                                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker2\"></mat-datepicker-toggle>\r\n                                </mat-form-field>\r\n                                <mat-datepicker #appDatepicker2></mat-datepicker>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Customer Response</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Customer Response</mat-label>\r\n                                    <mat-select name=\"prefix\" formControlName=\"Customer Response\" disableOptionCentering>\r\n                                        <mat-option *ngFor=\"let i of customerResponse\" [value]=\"i\">{{ i }}</mat-option>\r\n                                    </mat-select>\r\n\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Date Of Offer Accept/Reject</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Date Of Offer Accept/Reject</mat-label>\r\n                                    <input readonly matInput name=\"dob\" formControlName=\"dateOfOfferAcceptOrReject\"\r\n                                        placeholder=\"Date Of Offer Accept/Reject\" [matDatepicker]=\"appDatepicker\"\r\n                                        [min]=\"offerAcceptRejectForm.get('dateOfOfferAcceptOrReject').value\"\r\n                                         />\r\n\r\n                                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n\r\n                                </mat-form-field>\r\n\r\n                                <mat-datepicker #appDatepicker></mat-datepicker>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Offer Expiry Date</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n                                    <mat-label>Offer Expiry Date</mat-label>\r\n                                    <input matInput name=\"dob\" formControlName=\"offerExpiryDate\"\r\n                                    [min]=\"offerAcceptRejectForm.get('offerExpiryDate').value\"\r\n                                        placeholder=\"Offer Expiry Date\" [matDatepicker]=\"appDatepicker3\" readonly />\r\n                                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker3\"></mat-datepicker-toggle>\r\n\r\n                                </mat-form-field>\r\n\r\n                                <mat-datepicker #appDatepicker3></mat-datepicker>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                    <div class=\"button\">\r\n\r\n                        <button mat-button class=\"Back\" (click)=\"goBack()\">Back</button>\r\n                        <button mat-stroked-button class=\"Next\" (click)=\"next()\">Next</button>\r\n\r\n                    </div>\r\n                </form>\r\n            </mat-card-content>\r\n        </mat-card>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport * as moment from 'moment';\r\nimport { AccountService } from '../../account.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\n\r\n@Component({\r\n  selector: 'app-account-create-details',\r\n  templateUrl: './account-create-details.component.html',\r\n  styleUrls: ['./account-create-details.component.scss']\r\n})\r\nexport class AccountCreateDetailsComponent implements OnInit {\r\n \r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  accountForm: FormGroup;\r\n  isAccountCreateDetails: boolean;\r\n  loanaccountID: any;\r\n  loanInfo: any;\r\n  loanTenure: any;\r\n  selectedDay: number = 1;\r\n  //day: number;\r\n  days: any[] = [];\r\n  months: any[] = [];\r\n  selectedYear: number;\r\n  //year: number;\r\n  years: any[] = [];\r\n  cifNumber: any;\r\n\r\n\r\n  constructor(private formBuilder: FormBuilder, private router: Router, private ls: LocalStoreService,\r\n    private appApiService: ApplicationEntryStageService,private dialogService : DialogService,private api: ApiService,private apiService:ApiService,\r\n    private snack: MatSnackBar,private accountService:AccountService) { \r\n    this.accountForm= this.formBuilder.group({\r\n      applicantName: ['',[Validators.required]],\r\n      approvedLoanAmount:['',[Validators.required]],\r\n      loanTenure:[''],\r\n      installmentFrequency:[''],\r\n      installmentType:[''],\r\n      principal:[''],\r\n      installmentAmount:[''],\r\n      offerIssueDate:['',[Validators.required]],\r\n      offerAcceptedDate:[''],\r\n      accountCreateId:[''],\r\n      rateOfInterest:[''],\r\n      interest:[''],\r\n      charges:[''],\r\n      disbursementAmount:[''],\r\n      repaymentAmount:[''],\r\n      loanAccountId:[''],\r\n      year:[''],\r\n      month:[''],\r\n      day:['']\r\n      \r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.selectedYear = new Date().getFullYear();\r\n \r\n    for (let year = 0; year <= 50; year++) {\r\n      this.years.push(year+ \" year\");\r\n    }\r\n   \r\n    for (let month = 0; month <= 11; month++) {\r\n      this.months.push(month+ \" month\");\r\n    }\r\n   \r\n    for (let day = 0; day <= 30; day++) {\r\n      this.days.push(day+ \" day\");\r\n    }\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    this.isAccountCreateDetails = this .ls.getItem('ACCOUNT_CREATE_DETAILS_DONE');\r\n    setTimeout(() => {\r\n      if(this.isAccountCreateDetails==false){\r\n        this.buildaccountForm();\r\n      }\r\n      else{\r\n        \r\n        this.getAccountCreateDetails();\r\n      }\r\n    }, 10);\r\n    this.fetchByCif();\r\n    this.loanData();\r\n    this.intrestData();\r\n    this.installmentTypeData();\r\n    this.interestLoadData();\r\n    this.dataLoad();\r\n}\r\n  getAccountCreateDetails() {\r\n        this.api.getAccountCreateDetails(this.loanaccountID)\r\n         .subscribe((resp: any) => {\r\n           console.log(resp);\r\n          \r\n           this.buildaccountForm(resp,true);\r\n      \r\n           });\r\n  }\r\n\r\n  buildaccountForm(data?,Response?:boolean) {\r\n    data.offerIssueDate = data ? moment(data.offerIssueDate).format() : '';\r\n    data.offerAcceptedDate = data ? moment(data.offerAcceptedDate).format() : '';\r\n    console.log(data);\r\n    \r\n    this.accountForm = this.formBuilder.group({\r\n      accountCreateId:[''],\r\n      loanAccountId:[data ? data.loanAccountId:''],\r\n      applicantName: [data ? data.applicantName:''],\r\n      approvedLoanAmount:[data ? data.approvedLoanAmount:''],\r\n      loanTenure:[data ? data.loanTenure:''],\r\n      installmentFrequency:[data ? data.installmentFrequency:''],\r\n      principal:[data ? data.principal:''],\r\n      installmentAmount:[data ? data.installmentAmount:''],\r\n      disbursementAmount:[data ? data.disbursementAmount:''], \r\n      offerAcceptedDate:[data ? data.offerAcceptedDate:''],\r\n      offerIssueDate:[data ? data.offerIssueDate:'',[Validators.required]],\r\n      installmentType:[data ? data.installmentType:''],\r\n      rateOfInterest:[data ? data.rateOfInterest:''],\r\n      interest:[data ? data.interest:''],\r\n      charges:[data ? data.charges:''],\r\n      repaymentAmount:[data ? data.repaymentAmount:''],\r\n      year:[data?data.loanTenure.split(\"-\")[0]:''],\r\n      month:[data?data.loanTenure.split(\"-\")[1]:''],\r\n      day:[data?data.loanTenure.split(\"-\")[2]:'']\r\n    });\r\n    console.log(\"this.accountForm\",this.accountForm);\r\n}\r\ngoBack() {\r\n  this.router.navigate(['loan/account/account-creation-stage']);\r\n}\r\n\r\nletterOnly(event) {\r\n  var charCode = event.keyCode;\r\n          if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n              return true;\r\n          else\r\n              return false;\r\n}\r\n_keyPress(event: any) {\r\n  const pattern = /[0-9]/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  if (!pattern.test(inputChar)) {\r\n    event.preventDefault();\r\n\r\n  }\r\n}\r\n\r\nonSubmit(){\r\n  let now = new Date();\r\n  now=this.accountForm.value.offerIssueDate;\r\n  var dateStringWithTime = moment(now).format('YYYY-MMM-DD HH:MM:SS');\r\n  let now1 = new Date();\r\n  now1=this.accountForm.value.offerAcceptedDate;\r\n  var dateStringWithTime1 = moment(now).format('YYYY-MMM-DD HH:MM:SS');\r\n  console.log(\"dateStringWithTime\",dateStringWithTime);\r\n  var aprloan=this.accountForm.value.approvedLoanAmount;\r\n  aprloan= parseInt(aprloan);\r\n  var rate=this.accountForm.value.rateOfInterest;\r\n  rate= parseInt(rate);\r\n    const renewData =\r\n    this.accountForm.value.year +\r\n    \"-\" +\r\n    this.accountForm.value.month +\r\n    \"-\" +\r\n    this.accountForm.value.day;\r\n  this.accountForm.get(\"loanTenure\").setValue(renewData);\r\n   this.accountForm.value.loanTenure=renewData;\r\n  let payload={\r\n    loanAccountId:this.loanaccountID,\r\n    approvedLoanAmount:aprloan,\r\n    applicantName:this.accountForm.value.applicantName,\r\n    loanTenure:renewData,\r\n    installmentType:this.accountForm.value.installmentType,\r\n    installmentFrequency:this.accountForm.value.installmentFrequency,\r\n    rateOfInterest:rate,\r\n    principal:this.accountForm.value.principal,\r\n    installmentAmount:this.accountForm.value.installmentAmount,\r\n    interest:this.accountForm.value.interest,\r\n    charges:this.accountForm.value.charges,\r\n    disbursementAmount:this.accountForm.value.disbursementAmount,\r\n    repaymentAmount:this.accountForm.value.repaymentAmount,\r\n    offerIssueDate:dateStringWithTime,\r\n    offerAcceptedDate:dateStringWithTime1\r\n  }\r\n  console.log(\"payload\",payload)\r\n  //val.offerIssueDate= moment(val.offerIssueDate).format('YYYY-MMM-DD HH:mm:ss');\r\n  //val.offerAcceptedDate= moment(val.offerAcceptedDate).format('YYYY-MMM-DD HH:mm:ss');\r\n this.api.saveAccountCreateDetails(payload).subscribe((data: any) => {\r\n  console.log(data);\r\n  \r\n  if (data === 200 || data !== null) {\r\n    this.snack.open(' Account Create Details Saved!', 'OK', {\r\n      duration: 4000,\r\n      verticalPosition: 'top',\r\n      horizontalPosition: 'right'\r\n    });\r\n    this.ls.setItem('ACCOUNT_CREATE_DETAILS_DONE', true);\r\n    this.ls.setItem('ACCOUNT_CREATTION_STAGE_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate(['loan/account/digitalsigning/list']);\r\n  }\r\n  // else if (data === 500) {\r\n  //   this.snack.open('Not able to connect to server!', 'INTERNAL SERVER ERROR', {\r\n  //     duration: 4000,\r\n  //     verticalPosition: 'top',\r\n  //     horizontalPosition: 'right'\r\n  //   });\r\n  // }\r\n}, err => {\r\n  console.log(err);\r\n});\r\n}\r\n\r\nfetchByCif(){\r\n  this.cifNumber=this.ls.getItem('cId');\r\n  this.appApiService.fetchByCif(this.cifNumber).subscribe((res: any) => {\r\n  this.accountForm.get('applicantName').setValue(res.customerInfoList[0].firstName +\" \"+ res.customerInfoList[0].lastName);\r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\nloanData(){\r\n  console.log(this.loanaccountID);\r\n  this.apiService.fetchByLoanAccountId(this.loanaccountID).subscribe((res:any)=>{   \r\n    console.log(res); \r\n    this.accountForm.get('approvedLoanAmount').setValue(res.approvedLoanAmount); \r\n    console.log(res.loanTenure);       \r\n    let dataYear = res.loanTenure.split(\"-\")[0];\r\n    console.log(dataYear);\r\n    let dataMonth = res.loanTenure.split(\"-\")[1];\r\n    console.log(dataMonth);\r\n    let dataDay = res.loanTenure.split(\"-\")[2];\r\n    console.log(dataDay);    \r\n    this.accountForm.get('year').setValue(dataYear);\r\n    this.accountForm.get('month').setValue(dataMonth);\r\n    this.accountForm.get('day').setValue(dataDay);\r\n  \r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\nintrestData(){\r\n  console.log(this.loanaccountID);\r\n  this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe((res:any)=>{    \r\n    this.accountForm.get('rateOfInterest').setValue(res.rateOfInterest);\r\n  })\r\n}\r\ninstallmentTypeData(){\r\n  console.log(this.loanaccountID);\r\n  this.apiService.getOfferAcceptReject(this.loanaccountID).subscribe((res:any)=>{\r\n    console.log(res);\r\n     this.accountForm.get('installmentType').setValue(res.installmentType);\r\n     this.accountForm.get('installmentFrequency').setValue(res.installmentFrequency);\r\n     let issueDate =  moment(res.offerIssueDate).format();\r\n     this.accountForm.get('offerIssueDate').setValue(issueDate);\r\n     let acceptDate = moment(res.offerAcceptOrRejectDate).format();\r\n     this.accountForm.get('offerAcceptedDate').setValue(acceptDate);\r\n     console.log(issueDate);\r\n  });\r\n}\r\ninterestLoadData(){\r\n  console.log(this.loanaccountID);\r\n  this.apiService.getingOfferIssueDetails(this.loanaccountID).subscribe((res:any)=>{\r\n    console.log(res);\r\n     this.accountForm.get('interest').setValue(res.interest);    \r\n     this.accountForm.get('charges').setValue(res.charges);\r\n     this.accountForm.get('principal').setValue(res.principal);\r\n     this.accountForm.get('installmentAmount').setValue(res.installmentAmount);\r\n      \r\n  });\r\n}\r\n\r\ndataLoad(){\r\n  console.log(this.loanaccountID);\r\n  this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe((res:any)=>{\r\n    console.log(res);\r\n    this.accountForm.get('disbursementAmount').setValue(res.totalDisbursement);\r\n  })\r\n}\r\n\r\n}\r\n","<div fxLayout=\"column\">\r\n  <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/account details.png\" alt=\"\" class=\"w-80\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"card-title-text\"><h1><b>Account Create Details</b></h1></div>\r\n      </div>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"column\">\r\n  <form fxLayout=\"column\" [formGroup]=\"accountForm\">\r\n      <div fxFlex=\"100\">\r\n        <mat-card fxLayout=\"column\">              \r\n          <mat-card-title>\r\n            <fieldset class=\"alignChange\">\r\n            <legend visible=\"true\">Account Create Details</legend>\r\n            </fieldset>\r\n          </mat-card-title>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Applicant Name*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <input matInput  class=\"alignment\" name=\"applicantName\"\r\n                          placeholder=\"Applicant Name\" formControlName=\"applicantName\"\r\n                          (keypress)=\"letterOnly($event)\"/>\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!accountForm.get('applicantName').valid  && accountForm.get('applicantName').touched\">\r\n                        &nbsp;&nbsp;&nbsp;Applicant Name is Required!\r\n                    </mat-error>\r\n                    </mat-form-field>\r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label >Approved Loan Amount*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input matInput  class=\"alignment\" name=\"loanAmmount\"  \r\n                         maxlength=\"16\" formControlName=\"approvedLoanAmount\"\r\n                         (keypress)=_keyPress($event)  placeholder=\"Approved Loan Amount\" readonly/>\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!accountForm.get('approvedLoanAmount').valid  && accountForm.get('approvedLoanAmount').touched\">\r\n                        &nbsp;&nbsp;&nbsp;Approved Loan Amount is Required!\r\n                    </mat-error>\r\n                      </mat-form-field>\r\n                    </div>\r\n              </div>\r\n\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Offer Issue Date*</mat-label>\r\n                    <!-- <mat-card class=\"inputMatLastName\" style=\"height:54px;\"> -->\r\n                          <input matInput  id=\"dob\" class=\"alignment\" name=\"OpinionDate\" \r\n                            [matDatepicker]=\"picker\"  value=\"OpinionDate\" placeholder=\"DD/MM/YYYY\"\r\n                            formControlName=\"offerIssueDate\"/>\r\n                            <div fxFlex=\"8%\" id=\"toggle\" class=\"datechange\">\r\n                              <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n                              <mat-datepicker #picker></mat-datepicker>\r\n                            </div>\r\n                    <!-- </mat-card> -->\r\n                            <mat-error *ngIf=\"!accountForm.get('offerIssueDate').valid  && accountForm.get('offerIssueDate').touched\">\r\n                              &nbsp;&nbsp;&nbsp;Offer Issue Date is Required!\r\n                           </mat-error>\r\n                  </mat-form-field>\r\n                  </div>\r\n                          \r\n                            \r\n                \r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label >Offer Accepted Date</mat-label>\r\n                    <!-- <mat-card class=\"inputMatName\" style=\"height:54px;\"> -->\r\n                        <input matInput id=\"dob\" class=\"alignment\"  name=\"OpinionDate\" \r\n                        [matDatepicker]=\"appDatepicker\"  value=\"OpinionDate\" placeholder=\"DD/MM/YYYY\" [min]=\"accountForm.get('offerIssueDate').value\"\r\n                        formControlName=\"offerAcceptedDate\"/>\r\n                  \r\n                        <div fxFlex=\"8%\" id=\"toggle\"class=\"datechange\">\r\n                          <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                          <mat-datepicker #appDatepicker></mat-datepicker>\r\n                        </div>\r\n                    \r\n                    <!-- </mat-card> -->\r\n                  </mat-form-field>\r\n                   \r\n                  </div>   \r\n            </div>\r\n\r\n              <!-- <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Loan Tenure</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <input matInput  class=\"alignment\"  name=\"loanTenure\"\r\n                           (keypress)=_keyPress($event)\r\n                          placeholder=\"Years\" formControlName=\"loanTenure\"/>\r\n                          <mat-select matInput  class=\"alignment\" name=\"loanTenure\"\r\n                             placeholder=\"\" formControlName=\"loanTenure\">\r\n                             <mat-option >Select</mat-option>\r\n                             <mat-option *ngFor=\"let option of loanTenure\" value=\"{{option}}\">{{option}}</mat-option>\r\n                    \r\n                          </mat-select>\r\n                      </mat-card> -->\r\n\r\n                      <div class=\"flex-grow-1\">\r\n                        <div>\r\n                          \r\n                          <div fxLayout=\"row wrap\">\r\n                            <mat-hint class=\"tenre\"><b>Loan Tenure *</b></mat-hint>\r\n                            \r\n                            <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"23\">\r\n                              <mat-label>Year*</mat-label>\r\n                            <mat-select name=\"year\" placeholder=\"Year\" formControlName=\"year\" disableOptionCentering>\r\n                            <mat-option *ngFor=\"let year of years\" [value]=\"year\">{{ year }}</mat-option> \r\n                             </mat-select>\r\n                            </mat-form-field>\r\n        \r\n                           \r\n                            <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"21.5\">\r\n                              <mat-label>Month*</mat-label>\r\n                            <mat-select name=\"month\" placeholder=\"Month\" formControlName=\"month\" disableOptionCentering>\r\n                            <mat-option *ngFor=\"let month of months\" [value]=\"month\">{{ month }}</mat-option> \r\n                             </mat-select>\r\n                            </mat-form-field>\r\n                            \r\n                            <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"21.5\">\r\n                              <mat-label>Day*</mat-label>\r\n                            <mat-select name=\"day\" placeholder=\"Day\" formControlName=\"day\" disableOptionCentering>\r\n                            <mat-option *ngFor=\"let day of days\" [value]=\"day\">{{ day }}</mat-option> \r\n                             </mat-select>\r\n                            </mat-form-field>\r\n                            <!-- </mat-card> -->\r\n                          </div>\r\n                        </div>\r\n                    \r\n                          <div class=\"flex-grow-1\" fxFlex=\"49.5\" >\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Installment Type</mat-label>\r\n                            <!-- <mat-card class=\"inputMatName\"> -->\r\n                              <!-- <input matInput  class=\"alignment\"  name=\"installmentType\"\r\n                              placeholder=\"Type\" formControlName=\"installmentType\"/> -->\r\n        \r\n                              <mat-select disableOptionCentering class=\"alignment\" name=\"installmentType\"\r\n                              placeholder=\"Select\" formControlName=\"installmentType\">\r\n                              <!-- <mat-option >Select</mat-option> -->\r\n                              <mat-option value=\"EMI\">EMI</mat-option>              \r\n                           </mat-select>\r\n                            <!-- </mat-card> -->\r\n                            </mat-form-field>\r\n                           \r\n                          </div>\r\n                      </div>\r\n                  \r\n\r\n              <!-- </div> -->\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Installment Frequency</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <input matInput  class=\"alignment\"  name=\"installmentFrequency\"\r\n                          (keypress)=_keyPress($event)\r\n                          placeholder=\"Installment Frequency\" formControlName=\"installmentFrequency\"/>\r\n                      <!-- </mat-card> -->\r\n                    </mat-form-field>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label >Rate of Interest</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input matInput  class=\"alignment\" name=\"rateofInterest\"\r\n                        placeholder=\"Percentage\" formControlName=\"rateOfInterest\"\r\n                        (keypress)=_keyPress($event)\r\n                        maxlength=\"2\" />\r\n                      <!-- </mat-card> -->\r\n                      </mat-form-field>\r\n                     \r\n                    </div>\r\n              </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label >Principal</mat-label>\r\n                    <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input matInput  class=\"alignment\"  name=\"principal\"\r\n                        (keypress)=_keyPress($event)\r\n                        placeholder=\"Amount\" formControlName=\"principal\" maxlength=\"8\"/>\r\n                    <!-- </mat-card> -->\r\n                  </mat-form-field>\r\n                   \r\n                  </div>\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label >Interest</mat-label>\r\n                    <!-- <mat-card class=\"inputMatName\"> -->\r\n                      <input matInput  class=\"alignment\"  name=\"interest\"\r\n                      placeholder=\"Amount\" formControlName=\"interest\"\r\n                      (keypress)=_keyPress($event)\r\n                      maxlength=\"2\"/>\r\n                    <!-- </mat-card> -->\r\n                    </mat-form-field>\r\n                   \r\n                  </div>\r\n            </div>\r\n    \r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label >Installment Amount</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <input matInput  class=\"alignment\"  name=\"installmentAmount\" maxlength=\"8\"\r\n                          (keypress)=_keyPress($event)\r\n                          placeholder=\"Installment Amount\"  formControlName=\"installmentAmount\"/>\r\n                      <!-- </mat-card> -->\r\n                    </mat-form-field>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <!-- <mat-form-field> -->\r\n                      <mat-label>Charges</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input matInput  class=\"alignment\"  name=\"Amount\"\r\n                        placeholder=\"Amount\"formControlName=\"charges\" maxlength=\"5\"\r\n                        (keypress)=_keyPress($event)/>\r\n                      <!-- </mat-card> -->\r\n                      </mat-form-field>\r\n                    <!-- </mat-form-field> -->\r\n                     \r\n                    </div>\r\n              </div>\r\n\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Disbursement Account</mat-label>\r\n                  <!-- <mat-card class=\"inputMatName\"> -->\r\n                      <input matInput  class=\"alignment\" name=\"disbursementAmount\"\r\n                      placeholder=\"Disbursement Amount\" formControlName=\"disbursementAmount\"\r\n                      (keypress)=_keyPress($event) maxlength=\"8\" />\r\n                  <!-- </mat-card> -->\r\n                </mat-form-field>\r\n                 \r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label >Repayment Account</mat-label>\r\n                  <!-- <mat-card class=\"inputMatName\"> -->\r\n                    <input matInput  class=\"alignment\" name=\"repaymentAmount\"\r\n                    placeholder=\"Repayment Amount\" formControlName=\"repaymentAmount\" \r\n                    (keypress)=_keyPress($event)\r\n                    maxlength=\"8\"/>\r\n                  <!-- </mat-card> -->\r\n                  </mat-form-field>\r\n                 \r\n                </div>\r\n          </div>\r\n\r\n          \r\n    \r\n            </mat-card>\r\n\r\n          </div>\r\n          <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n      \r\n            <button mat-button (click)=\"goBack()\" rounded class=\"Back\">\r\n              Back\r\n            </button>\r\n\r\n            <button mat-raised-button (click)=\"onSubmit()\" class=\"Next\" [disabled]=\"!accountForm.valid\">\r\n              Next\r\n            </button>\r\n            <!-- [disabled]=\"accountForm.invalid\"  || isCifValid  -->\r\n          </div>\r\n      </form>\r\n    \r\n    </div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\nimport { AccountService } from '../../account.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\n@Component({\r\n  selector: 'app-offer-accept-reject',\r\n  templateUrl: './offer-accept-reject.component.html',\r\n  styleUrls: ['./offer-accept-reject.component.scss']\r\n})\r\nexport class AcceptOfferAcceptRejectComponent implements OnInit {\r\n\r\n  generateArr:string[]=['With Schedule','without Schedule'];\r\n  approvedLoan: number;\r\n  disableDone:boolean =true;\r\n  offeracceptForm: FormGroup;\r\n   showEditOption: boolean = false;\r\n  isAssesmentDetailsScreen: boolean = false;\r\n  isOfferIssueScreen: boolean = false; \r\n  isOfferIssueRejectScreen: boolean  = false;\r\n  arraySystemRecommendation:any[]=['Approved','Rejected'];\r\n  loanaccountID: any;\r\n  loanInfo: any;\r\n  selectedDay: number = 1;\r\n // day: number;\r\n  days: any[] = [];\r\n  months: any[] = [];\r\n  selectedYear: number;\r\n  //year: number;\r\n  years: any[] = [];\r\n  installmentTypes: string[] = ['EMI'];\r\n  cifNumber: any;\r\n  accountDetails: any;\r\n  \r\n  constructor(private router: Router,private ls: \r\n    LocalStoreService,private apiService:ApiService, private snack: MatSnackBar,private loader: AppLoaderService,\r\n    private formBuilder: FormBuilder,private appApiService: ApplicationEntryStageService,private accountService:AccountService) { \r\n    this.offeracceptForm = this.formBuilder.group({\r\n      //approvedLoan : ['',[Validators.required]],\r\n        approvedLoanAmount : ['',[Validators.required]],\r\n        applicantName:['',[Validators.required]],\r\n        loanTenure:[''],\r\n        installmentType:['',[Validators.required]],\r\n        installmentFrequency:[''],    \r\n        rateOfInterest:[], \r\n        customerResponse:[''], \r\n        offerIssueDate:['',[Validators.required]],\r\n        generateOffer:['', [Validators.required]],\r\n        offerExpiryDate:['',[Validators.required]],\r\n        dateOfOfferAcceptOrReject:['',[Validators.required]],\r\n        year:['',[Validators.required]],\r\n      month:['',[Validators.required]],\r\n      day:['',[Validators.required]],\r\n      \r\n    \r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.selectedYear = new Date().getFullYear();\r\n  \r\n    for (let year = 0; year <= 50; year++) {\r\n      this.years.push(year+ \" year\");\r\n    }\r\n\r\n    for (let month = 0; month <= 11; month++) {\r\n      this.months.push(month+ \" month\");\r\n    }\r\n\r\n    for (let day = 0; day <= 30; day++) {\r\n      this.days.push(day+ \" day\");\r\n    }\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    let isOfferIssueRejectScreen: boolean = JSON.parse(this.ls.getItem('OfferIssueRejectScreen'));\r\n     setTimeout(() => {\r\n        if (this.loanaccountID != null && isOfferIssueRejectScreen) {\r\n          this.showEditOption = true;\r\n          \r\n          this.getAccountDetails();\r\n        } \r\n        else {\r\n          console.log(\"else\");\r\n          this.showEditOption = false;\r\n          this.buildOfferAcceptForm();\r\n        }\r\n      }, 10);\r\n    this.fetchByCif();\r\n    this.loanData();\r\n    this.intrestData();\r\n    this.installmentTypeData();\r\n  }\r\n  getAccountDetails() {\r\n    //this.loader.open();\r\n    this.apiService.getOfferAcceptReject(this.loanaccountID).subscribe((accountDetails) => {\r\n     // this.loader.close();\r\n      this.accountDetails = accountDetails;\r\n      console.log(this.accountDetails);\r\n      this.buildOfferAcceptForm(this.accountDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n\r\n\r\n  }\r\n   buildOfferAcceptForm(data?) {\r\n    data.offerIssueDate = data ? moment(data.offerIssueDate).format() : '';\r\n    data.generateOffer = data ? moment(data.generateOffer).format():'';\r\n    data.offerExpiryDate = data ? moment(data.offerExpiryDate).format():'';\r\n    data.dateOfOfferAcceptOrReject = data ? moment(data.offerAcceptOrRejectDate).format():'';\r\n    this.offeracceptForm = this.formBuilder.group({\r\n      approvedLoanAmount : [data ? data.approvedLoanAmount:''],\r\n      loanTenure:[data?data.loanTenure:''],\r\n      applicantName:[data ? data.applicantName:''],\r\n      installmentFrequency:[data ? data.installmentFrequency:''],    \r\n      rateOfInterest:[data ? data.rateOfInterest:''],  \r\n      offerIssueDate:[data ? data.offerIssueDate:''],\r\n      generateOffer:[data ? data.generateOffer:''],\r\n      offerExpiryDate:[data ? data.offerExpiryDate:''],\r\n      year:[data ? data.loanTenure.split(\"-\")[0]:''],\r\n      month:[data ? data.loanTenure.split(\"-\")[1]:''],\r\n      day:[data ? data.loanTenure.split(\"-\")[2]:''],\r\n      installmentType: [data ? data.installmentType: ''],\r\n      dateOfOfferAcceptOrReject:[data? data.dateOfOfferAcceptOrReject:''],\r\n      customerResponse:[data ? data.customerResponse:''],\r\n    })\r\n\r\n  }\r\n\r\n  //offeracceptForm()\r\ngoBack(){\r\n  this.router.navigate([\"/loan/account/offerstage/list\"]);\r\n}\r\nSubmit(){\r\n  let details:  any;\r\n    //details.push(this.legalOpinion.value);\r\n    let now = new Date();\r\n    now=this.offeracceptForm.value.offerIssueDate;\r\n    var dateStringWithTime = moment(now).format('YYYY-MMM-DD HH:MM:SS');\r\n    let now1 = new Date();\r\n    now1=this.offeracceptForm.value.offerAcceptOrRejectDate;\r\n    var dateStringWithTime1 = moment(now1).format('YYYY-MMM-DD HH:MM:SS');\r\n    console.log(\"OAR\", dateStringWithTime1)\r\n    let now2 = new Date();\r\n    now2=this.offeracceptForm.value.offerExpiryDate;\r\n    var dateStringWithTime2 = moment(now2).format('YYYY-MMM-DD HH:MM:SS');\r\n    console.log(\"OE\", dateStringWithTime2)\r\n    let now3 = new Date();\r\n    now3=this.offeracceptForm.value.generateOffer;\r\n    var dateStringWithTime3 = moment(now3).format('YYYY-MMM-DD HH:MM:SS');\r\n    console.log(\"GO\", dateStringWithTime3)\r\n    var aprloan=this.offeracceptForm.value.approvedLoanAmount;\r\n    aprloan= parseInt(aprloan);\r\n    var rate=this.offeracceptForm.value.rateOfInterest;\r\n    rate= parseInt(rate);\r\n     const renewData =\r\n    this.offeracceptForm.value.year +\r\n    \"-\" +\r\n    this.offeracceptForm.value.month +\r\n    \"-\" +\r\n    this.offeracceptForm.value.day;\r\n  this.offeracceptForm.get(\"loanTenure\").setValue(renewData);\r\n  delete this.offeracceptForm.value.year;\r\n  delete this.offeracceptForm.value.month;\r\n  delete this.offeracceptForm.value.day;\r\n  this.offeracceptForm.value.interest =parseInt(this.offeracceptForm.value.interest);\r\n    this.offeracceptForm.value.installmentAmount =parseInt(this.offeracceptForm.value.installmentAmount);\r\n    let payload={\r\n      loanAccountId: this.loanaccountID,\r\n      approvedLoanAmount:aprloan,\r\n      applicantName:this.offeracceptForm.value.applicantName,\r\n      loanTenure:renewData,\r\n      installmentType:this.offeracceptForm.value.installmentType,\r\n      installmentFrequency:this.offeracceptForm.value.installmentFrequency,\r\n      rateOfInterest:rate,\r\n      offerIssueDate:dateStringWithTime,\r\n      interest: this.offeracceptForm.value.interest,\r\n      installmentAmount: this.offeracceptForm.value.installmentAmount,\r\n      dateOfOfferAcceptOrReject:dateStringWithTime1,\r\n      offerExpiryDate: dateStringWithTime2,\r\n      generateOffer: dateStringWithTime3,\r\n      customerResponse:this.offeracceptForm.value.customerResponse,\r\n    }\r\n    console.log(\"payload\",payload)\r\n    this.apiService.offerDetails(payload).subscribe(data => {\r\n      console.log(\"data\",data);\r\n      if(data != null){\r\n        this.snack.open('Offer Issue Accept/Reject Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n     \r\n      }\r\n      this.Next();\r\n    })\r\n    \r\n  \r\n}\r\nNext(){\r\n  this.ls.setItem('OfferIssueRejectScreen', true);\r\n  this.ls.setItem('OfferIssueRejectStageScreen', true);\r\n  this.accountService.refresh.next();\r\n  this.router.navigate([\"/loan/account/post-offer-amend-stage/list\"]);\r\n\r\n}\r\n_keyPress1(event: any) {\r\n  const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  if (!pattern.test(inputChar)) {\r\n    event.preventDefault();\r\n  }\r\n  const input = event.target.value;\r\n  if (input.length === 0 && event.which === 48) {\r\n    event.preventDefault();\r\n  }\r\n}\r\n\r\n_keyPress(event: any) {\r\n  const pattern = /[0-9]/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  if (!pattern.test(inputChar)) {\r\n    event.preventDefault();\r\n  }\r\n}\r\nonInput(event: any, flag) {\r\n  if (flag) {\r\n    this.approvedLoan = event.target.value;\r\n  } else {\r\n    this.approvedLoan = event;\r\n  }\r\n\r\n  console.log(\"this.salary)::\", this.approvedLoan);\r\n  let sal = this.approvedLoan.toString().replace(/,/g, '').split(\".\");\r\n  sal[0] = sal[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n  let final = sal.join(\".\");\r\n  console.log(\"final\", final);\r\n  this.offeracceptForm.controls.approvedLoan.setValue(final);\r\n}\r\nletterOnly(event) {\r\n  var charCode = event.keyCode;\r\n          if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n              return true;\r\n          else\r\n              return false;\r\n}\r\n\r\nfetchByCif(){\r\n  this.cifNumber=this.ls.getItem('cId');\r\n  this.appApiService.fetchByCif(this.cifNumber).subscribe((res: any) => {\r\n  this.offeracceptForm.get('applicantName').setValue(res.customerInfoList[0].firstName +\" \"+ res.customerInfoList[0].lastName);\r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\nloanData(){\r\n  console.log(this.loanaccountID);\r\n  this.apiService.fetchByLoanAccountId(this.loanaccountID).subscribe((res:any)=>{   \r\n    console.log(res); \r\n    this.offeracceptForm.get('approvedLoanAmount').setValue(res.approvedLoanAmount); \r\n    console.log(res.loanTenure);       \r\n    let dataYear = res.loanTenure.split(\"-\")[0];\r\n    console.log(dataYear);\r\n    let dataMonth = res.loanTenure.split(\"-\")[1];\r\n    console.log(dataMonth);\r\n    let dataDay = res.loanTenure.split(\"-\")[2];\r\n    console.log(dataDay);    \r\n    this.offeracceptForm.get('year').setValue(dataYear);\r\n    this.offeracceptForm.get('month').setValue(dataMonth);\r\n    this.offeracceptForm.get('day').setValue(dataDay);\r\n  \r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\nintrestData(){\r\n  console.log(this.loanaccountID);\r\n  this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe((res:any)=>{    \r\n    this.offeracceptForm.get('rateOfInterest').setValue(res.rateOfInterest);\r\n  })\r\n}\r\ninstallmentTypeData(){\r\n  console.log(this.loanaccountID);\r\n  this.apiService.getingOfferIssueDetails(this.loanaccountID).subscribe((res:any)=>{\r\n    console.log(res);\r\n     this.offeracceptForm.get('installmentType').setValue(res.installmentType);\r\n     this.offeracceptForm.get('installmentFrequency').setValue(res.installmentFrequency);\r\n     let issueDate =  moment(res.offerIssueDate).format();\r\n     this.offeracceptForm.get('offerIssueDate').setValue(issueDate);\r\n     console.log(issueDate);    \r\n  });\r\n}\r\n\r\n}\r\n","<div fxLayout=\"column\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n          <img src=\"assets/images/svg/undraw_approve_qwp7.svg\" alt=\"\" class=\"w-90\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n          <div class=\"main-title1\"><b>Offer Accept / Reject</b></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"column\">\r\n    <form fxLayout=\"column\" [formGroup]=\"offeracceptForm\">\r\n        <div fxFlex=\"100\">\r\n          <mat-card fxLayout=\"column\">              \r\n            <mat-card-title>\r\n              <fieldset class=\"alignChange\">\r\n              <legend visible=\"true\">Offer Accept / Reject</legend>\r\n              </fieldset>\r\n            </mat-card-title>\r\n\r\n                <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <mat-label  class=\"hint\">Applicant Name*</mat-label>\r\n                        <!-- <mat-card class=\"inputMatName\"> -->\r\n                            <input matInput  class=\"alignment\" type=\"text\" name=\"applicantName\"\r\n                            formControlName=\"applicantName\"\r\n                            placeholder=\"Applicant Name\"\r\n                            readonly/>\r\n                        <!-- </mat-card> -->\r\n                       <mat-error *ngIf=\"!offeracceptForm.get('applicantName').valid  && offeracceptForm.get('applicantName').touched\">\r\n                          &nbsp;&nbsp;&nbsp; Applicant Name is Required!\r\n                      </mat-error>\r\n                      </mat-form-field>\r\n                      </div>\r\n                      <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <mat-label  class=\"hint\">Approved Loan Amount*</mat-label>\r\n                        <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"approvedLoanAmount\" placeholder=\"Approved Loan Account\"\r\n                          formControlName=\"approvedLoanAmount\" maxlength=\"16\"\r\n                          (keypress)=\"_keyPress1($event)\"  (keyup)=\"onInput($event,true)\"\r\n                           maxlength=\"16\" readonly/>\r\n                        <!-- </mat-card> -->\r\n                        <mat-error *ngIf=\"!offeracceptForm.get('approvedLoanAmount').valid  && offeracceptForm.get('approvedLoanAmount').touched\">\r\n                          &nbsp;&nbsp;&nbsp; Approved Loan Amount is Required!\r\n                      </mat-error>\r\n                        </mat-form-field>\r\n                       \r\n                      </div>\r\n                </div>\r\n                <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                                       \r\n                      <div fxLayout=\"row wrap\"  >\r\n                        <!-- <div fxFlex=\"30\"> -->\r\n                          <label  class=\"size\">Loan Tenure*</label>  \r\n                          <!-- <mat-card class=\"inputMatName\"> -->\r\n                            <!-- <mat-select name=\"year\" placeholder=\"Year\" formControlName=\"year\"  > -->\r\n                              <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"23\">\r\n                                <mat-label>Year*</mat-label>\r\n                              <mat-select name=\"year\" placeholder=\"Year\" disableOptionCentering formControlName=\"year\">\r\n\r\n                            <mat-option *ngFor=\"let year of years\" [value]=\"year\">{{ year }}</mat-option> \r\n                            </mat-select>\r\n                              </mat-form-field>\r\n                          <!-- </mat-card> -->\r\n                        <!-- </div> -->\r\n                        <!-- <div fxFlex=\"30\"> -->\r\n                           <!-- <mat-card class=\"inputMatName\"> -->\r\n                            <!-- <mat-select name=\"month\" placeholder=\"Month\" formControlName=\"month\" > -->\r\n                              <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"22.5\">\r\n                                <mat-label>Month*</mat-label>\r\n                            <mat-select name=\"month\" placeholder=\"Month\" formControlName=\"month\" disableOptionCentering>\r\n                            <mat-option *ngFor=\"let month of months\" [value]=\"month\">{{ month }}</mat-option> \r\n                             </mat-select>\r\n                              </mat-form-field>\r\n                          <!-- </mat-card> -->\r\n                        <!-- </div> -->\r\n                        <!-- <div fxFlex=\"30\"> -->\r\n                           <!-- <mat-card class=\"inputMatName\"> -->\r\n                            <!-- <mat-select name=\"day\"  placeholder=\"Day\" formControlName=\"day\"  > -->\r\n                              <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"22\">\r\n                                <mat-label>Day*</mat-label>\r\n                            <mat-select name=\"day\"  placeholder=\"Day\" formControlName=\"day\" disableOptionCentering>\r\n                            <mat-option *ngFor=\"let day of days\" [value]=\"day\">{{ day }}</mat-option> \r\n                          </mat-select>\r\n                              </mat-form-field>\r\n                          <!-- </mat-card> -->\r\n                        <!-- </div>  -->\r\n                      </div>\r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label  class=\"hint\">Installment Type*</mat-label>\r\n                      <!-- <mat-card class=\" widthCard inputMatName\"> -->\r\n                          <mat-select   class=\"alignment\"  formControlName=\"installmentType\" \r\n                          placeholder=\"Select\" disableOptionCentering required>\r\n                              <!-- <mat-option  value =\"\">select</mat-option>  -->\r\n                              <mat-option *ngFor=\"let option of installmentTypes\" [value]=\"option\">\r\n                                  {{option}}\r\n                              </mat-option>\r\n                          </mat-select>\r\n                      <!-- </mat-card>                      -->\r\n                  </mat-form-field>\r\n                  </div>                      \r\n                </div>\r\n                <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <mat-label  class=\"hint\">Installment Frequency</mat-label>\r\n                        <!-- <mat-card class=\"inputMatName\"> -->\r\n                            <input matInput  class=\"alignment\" type=\"text\" name=\"installmentFrequency\"  \r\n                            formControlName=\"installmentFrequency\"  placeholder=\"Installment Frequency\"\r\n                           />\r\n                        <!-- </mat-card> -->\r\n                      </mat-form-field>\r\n                       \r\n                      </div>\r\n                      <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <mat-label  class=\"hint\">Rate of Interest in(%)</mat-label>\r\n                        <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"loanAmmount\" (keypress)=\"_keyPress1($event)\" maxlength=\"2\"\r\n                          formControlName=\"rateOfInterest\" placeholder=\"Rate Of Interest\"\r\n                            />\r\n                        <!-- </mat-card> -->\r\n                        </mat-form-field>\r\n                       \r\n                      </div>\r\n                </div>\r\n                <!-- <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                        <label  class=\"hint\">Approved Loan Account*</label>\r\n                        <mat-card class=\"inputMatName\">\r\n                            <input matInput  class=\"alignment\" type=\"text\" name=\"applicantName\" (keypress)=\"_keyPress1($event)\" placeholder=\"Approved Loan Account\"\r\n                            formControlName=\"approvedLoanAmount\" \r\n                            />\r\n                        </mat-card>\r\n                        <mat-error *ngIf=\"!offeracceptForm.get('approvedLoanAmount').valid  && offeracceptForm.get('approvedLoanAmount').touched\">\r\n                          &nbsp;&nbsp;&nbsp; Approved Loan Account is Required!\r\n                      </mat-error>\r\n                      </div> -->\r\n                      <!-- <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                        <label  class=\"hint\">Loan Tenure</label>\r\n                        <mat-card class=\"inputMatName\"> \r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"loanAmmount\"\r\n                          formControlName=\"loanTenure\" (keypress)=\"_keyPress1($event)\" maxlength=\"2\"\r\n                            />\r\n                        </mat-card>\r\n                       \r\n                      </div> -->\r\n                <!-- </div> -->\r\n                <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <mat-label  class=\"hint\">Offer Issue Date*</mat-label>\r\n                        <!-- <mat-card class=\"widthCard inputMatName issuecard \" > -->\r\n                              <input matInput  id=\"dob\" class=\"alignment\" name=\"offerIssueDate\" readonly  formControlName=\"offerIssueDate\"\r\n                                [matDatepicker]=\"picker\"  value=\"offerIssueDate\" placeholder=\"DD/MM/YYYY\">\r\n                            <!-- <div fxFlex=\"8%\" id=\"toggle\"> -->\r\n                                <mat-datepicker-toggle matSuffix [for]=\"picker\" >\r\n                                </mat-datepicker-toggle>\r\n              \r\n                                <mat-datepicker #picker>\r\n                                </mat-datepicker>\r\n                              <!-- </div> -->\r\n              \r\n                         <!-- </mat-card> -->\r\n                         <mat-error *ngIf=\"!offeracceptForm.get('offerIssueDate').valid  && offeracceptForm.get('offerIssueDate').touched\">\r\n                          &nbsp;&nbsp;&nbsp; Offer Issue Date is Required!\r\n                      </mat-error>\r\n                      </mat-form-field>\r\n          \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <mat-label  class=\"hint\">Generate Offer*</mat-label>\r\n                        <!-- <mat-card class=\"widthCard inputMatName issuecard\"> -->\r\n                          <input matInput  id=\"generateOffer\" class=\"alignment\" name=\"generateOffer\" readonly  formControlName=\"generateOffer\"\r\n                          [matDatepicker]=\"picker3\"  value=\"generateOffer\" placeholder=\"DD/MM/YYYY\" [max]=\"offeracceptForm.get('offerIssueDate').value\" >\r\n                      <!-- <div fxFlex=\"8%\" id=\"toggle\"> -->\r\n                          <mat-datepicker-toggle matSuffix [for]=\"picker3\" >\r\n                          </mat-datepicker-toggle>\r\n        \r\n                          <mat-datepicker #picker3>\r\n                          </mat-datepicker>\r\n                        <!-- </div> -->\r\n                        <!-- </mat-card> -->\r\n                        <mat-error *ngIf=\"!offeracceptForm.get('generateOffer').valid  && offeracceptForm.get('generateOffer').touched\">\r\n                          &nbsp;&nbsp;&nbsp; Generate Offer Date is Required!\r\n                      </mat-error>\r\n                      </mat-form-field>\r\n                    </div>\r\n                   \r\n                      \r\n                </div>\r\n                <!-- <mat-card-title >\r\n                  <div class=\"card-title-text\">Offer Accept / Reject<mat-divider></mat-divider></div>\r\n              </mat-card-title> -->\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label  class=\"hint\">Customer Response</mat-label>\r\n                    <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                          <mat-select name=\"customerResponse\" formControlName=\"customerResponse\" \r\n                                      disableOptionCenteringplaceholder=\"Select\">\r\n                            <mat-option value=\" \">Select</mat-option>\r\n                            <mat-option *ngFor=\"let systemRecommendation of arraySystemRecommendation\" [value]=\"systemRecommendation\"> \r\n                                {{systemRecommendation}} \r\n                              </mat-option>\r\n                          </mat-select>\r\n                        <!-- </mat-card>             -->\r\n                  </mat-form-field>\r\n                   \r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label  class=\"hint\">Date Of Offer Accept/Reject *</mat-label>\r\n                  <!-- <mat-card class=\"widthCard inputMatName issuecard\"> -->\r\n                    <input matInput  id=\"dob\" class=\"alignment\" name=\"dateOfOfferAcceptOrReject\" readonly formControlName=\"dateOfOfferAcceptOrReject\"\r\n                      [matDatepicker]=\"picker1\"  value=\"dateOfOfferAcceptOrReject\" placeholder=\"DD/MM/YYYY\" [min]=\"offeracceptForm.get('offerIssueDate').value\">\r\n                  <!-- <div fxFlex=\"8%\" id=\"toggle\"> -->\r\n                      <mat-datepicker-toggle matSuffix [for]=\"picker1\" >\r\n                      </mat-datepicker-toggle>\r\n    \r\n                      <mat-datepicker #picker1>\r\n                      </mat-datepicker>\r\n                    <!-- </div> -->\r\n    \r\n               <!-- </mat-card> -->\r\n               <mat-error *ngIf=\"offeracceptForm.get('dateOfOfferAcceptOrReject').invalid && offeracceptForm.get('dateOfOfferAcceptOrReject').touched\">\r\n                &nbsp;&nbsp;&nbsp; Date Of Offer Accept/Reject is Required!\r\n            </mat-error>\r\n                  </mat-form-field>\r\n               \r\n              </div>\r\n                  \r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label  class=\"hint\">Offer Expiry Date *</mat-label>\r\n                  <!-- <mat-card class=\"widthCard inputMatName issuecard\"> -->\r\n                    <input matInput  id=\"dobss\" class=\"alignment\" name=\"offerExpiryDate\" readonly formControlName=\"offerExpiryDate\"\r\n                      [matDatepicker]=\"picker2\"  value=\"Date\" placeholder=\"DD/MM/YYYY\" [min]=\"((offeracceptForm.get('offerIssueDate').value))\">\r\n                  <!-- <div fxFlex=\"8%\" id=\"toggle\"> -->\r\n                      <mat-datepicker-toggle matSuffix [for]=\"picker2\" >\r\n                      </mat-datepicker-toggle>\r\n    \r\n                      <mat-datepicker #picker2>\r\n                      </mat-datepicker>\r\n                    <!-- </div>        -->\r\n                  <!-- </mat-card> -->\r\n                  <mat-error *ngIf=\"offeracceptForm.get('offerExpiryDate').invalid && offeracceptForm.get('offerExpiryDate').touched\">\r\n                    &nbsp;&nbsp;&nbsp; Offer Expiry Date is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n                  \r\n                 \r\n              </div>\r\n             \r\n             \r\n                \r\n          </div>\r\n\r\n\r\n            </mat-card>\r\n\r\n        </div>        \r\n    </form>\r\n    <div\r\n  fxLayout=\"row\"\r\n  fxLayoutAlign=\"space-between center\"\r\n  fxLayoutGap=\"16px\"\r\n  class=\"mt-32\"\r\n>\r\n  <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n    Back\r\n  </button>\r\n  <button\r\n    mat-raised-button class=\"Nextbtn\"\r\n    color=\"primary\"  (click)=\"Submit()\" [disabled]=\"!offeracceptForm.valid\"           >\r\n    Next\r\n  </button>\r\n</div>\r\n\r\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\n\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { Subscription } from 'rxjs/internal/Subscription';\r\nimport { AccountService } from './account.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-loan-account',\r\n  templateUrl: './loan-account.component.html',\r\n  styleUrls: ['./loan-account.component.scss']\r\n})\r\nexport class LoanAccountComponent implements OnInit {\r\n\r\n  public accountItems: any[];\r\n  private accountItemsSub: Subscription;\r\n   accountId: any;\r\n  isAssessmentStageDone: boolean = false;\r\n  assessmentReportSummary:any;\r\n  isChargesScreen: boolean = false;\r\n  overDraftByStatus:boolean;\r\n  isLoanQualitativeScoreboard: boolean=false;\r\n  isLoanAssessmentDetails:boolean=false;\r\n  isAssesmentDetailsScreen: boolean = false;\r\n\r\n  isOfferIssueScreenDone: boolean = false; \r\n  isOfferIssueScreen: boolean = false; \r\n\r\n  \r\n  isOfferIssueRejectScreen: boolean  = false;\r\n\r\n  isAccountApproveStageDone: boolean = false;\r\n  //isAssessmentStageDone: boolean = false;\r\n  isOfferAcceptRejectStageDone: boolean = false;\r\n  isOfferAcceptReject:boolean=false;\r\n  isLoanSummaryStageDone: boolean = false;\r\n\r\n  isSupervisorApprovalDone:boolean=false;\r\n  isApprovedDetails:boolean=false;\r\n \r\n  // PArent 3\r\n  isCreditRatingScreen: boolean = false;\r\n  isValuationAssetScreen: boolean = false;\r\n  islegalOpinionScreen: boolean = false;\r\n  //isAssesmentDetailsScreen:boolean = false;\r\n //isOfferIssueScreen:boolean = false;\r\n   \r\n     //ApplicationEnrichmentScreen\r\n     isLoanEnrichmentDone : boolean= false;\r\n     isLoanInterestDetails : boolean= false;\r\n     isLoanDisbursementDetails : boolean= false;\r\n     isLoanRepaymentDetails : boolean= false;\r\n     isChargeDetails : boolean= false;\r\n     isAccountServices : boolean= false;\r\n\r\n    // PArent 3\r\nisLoanApplicationEntryDone :boolean=false;\r\nisLoanDetailScreen :boolean=false;\r\nisAssetsDetailScreen :boolean=false;\r\nisVehicleDetailScreen :boolean=false;\r\nisAdmissionDetails : boolean=false;\r\nisCustomerInformation : boolean=false;\r\nisMandateDetails : boolean=false;\r\nisFinancialDetails : boolean=false;\r\nisCollateralDetails : boolean=false;\r\nisGuarantorDetails : boolean=false;\r\n// PArent 3\r\n    isUnderWritingStageDone: boolean = false;\r\n    // SUB TREES\r\n    isCreditRatingDetails: boolean = false;\r\n    isValuationofAsset: boolean = false;\r\n    isLegalOpinion: boolean = false;\r\n\r\n    isHomeLoan:boolean=false;\r\n    overDraftByStatus1:boolean;\r\n  isVehicleLoan:boolean=false;\r\n  isEducationLoan:boolean=false;\r\n\r\n    isPostOfferAmendStageDone:boolean=false;\r\n    isPostOfferAmendment:boolean = false;\r\n\r\n    isAccountCreationStageDone:boolean = false;\r\n    isAccountCreditStage:boolean = false;\r\n\r\n    isDigitalSigningDone:boolean=false;\r\n    isDigitalSigning:boolean=false;\r\n    isLoanEnrichment:boolean=false;\r\n    isLoanAssessmentStageScreen:boolean=false;\r\n    isApprovalScreen:boolean=false;\r\n    isSupervisorapprovalScreen:boolean=false;\r\n    isOfferIssueStageScreen:boolean=false;\r\n    isOfferIssueRejectStageScreen:boolean=false;\r\n    isPostAmmendementStageScreen:boolean=false;\r\n    isPostAmmendementScreen:boolean=false;\r\n    isAccountCreateDetailsScreen:boolean=false;\r\n    isAccountCreationStageScreenDone:boolean=false;\r\n  loanaccountID: any;\r\n  loanInfo: any;\r\n  constructor(private ls: LocalStoreService,private api: ApiService, private router: Router,private cdr:ChangeDetectorRef ,private accountService:AccountService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.accountItemsSub = this.accountService.accountItems$.subscribe(menuItem => {\r\n      this.accountItems = menuItem;\r\n    });\r\n    console.log(\"reset\")\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.ls.setItem('LOAN_DETAIL_DONE',true);\r\n      this.ls.setItem('VEHICLE_DETAIL_DONE',true);\r\n      this.ls.setItem('ADMISSION_DETAIL_DONE',true);\r\n      this.ls.setItem('CUSTOMERINFO_DETAIL_DONE',true);\r\n      this.ls.setItem('ASSET_DETAIL_DONE',true);\r\n      this.ls.setItem('MANDATE_DETAIL_DONE',true);\r\n      this.ls.setItem('FINANCIAL_DETAIL_DONE',true);\r\n      this.ls.setItem('COLLATERAL_DETAIL_DONE',true);\r\n      this.ls.setItem('GUARANTOR_DETAIL_DONE',true);\r\n      this.ls.setItem('LOAN_ENRICHMENT_DONE',true);\r\n      this.ls.setItem('LOAN_INTERST_DETAIL_DONE',true);\r\n      this.ls.setItem('LOAN_DISBURSEMENT_DETAIL_DONE',true);\r\n      this.ls.setItem('LOAN_REPAYMENT_DETAIL_DONE',true);\r\n      this.ls.setItem('LOAN_CHARGE_DETAILS',true);\r\n      this.ls.setItem('LOAN_ACCOUNT_SERVICES_DONE',true);\r\n      this.ls.setItem('CREDIT_RATING_DONE',true);\r\n      this.ls.setItem('VALUATION_OF_ASSET_DONE',true);\r\n      this.ls.setItem('LEGAL_OPINION_DONE',true);\r\n      this.ls.setItem('underWritingStage',true);\r\n      this.ls.setItem('LOAN_QUALITATIVE_SCOREBOARD_DONE',true);\r\n      this.ls.setItem('LOAN_ASSESSMENT_DETAILS_DONE',true);\r\n      this.ls.setItem('LOAN_ASSESSMENT_STAGE_DONE',true);\r\n      this.ls.setItem('APPROVED_DETAILS',true);\r\n      this.ls.setItem('SUPERVISOR_APPROVAL_STAGE',true);\r\n      this.ls.setItem('assessmentScreen',true);\r\n      this.ls.setItem('OfferIssue',true);\r\n      this.ls.setItem('legalScreen',true);\r\n      this.ls.setItem('valuationAsset',true);\r\n      this.ls.setItem('CreditRatingDetails',true);\r\n      this.ls.setItem('OfferIssueStageDone',true);\r\n      this.ls.setItem('assessmentStage',true);\r\n      this.ls.setItem('ASSESSMENT_QA_DONE',true);\r\n      this.ls.setItem('assessmentScreen',true);\r\n      this.ls.setItem('OfferIssue',true);\r\n      this.ls.setItem('OfferIssueRejectScreen',true);\r\n      this.ls.setItem('OfferIssueRejectStageScreen',true);\r\n      this.ls.setItem('PostOfferAmmendementScreen',true);\r\n      this.ls.setItem('PostOfferAmmendementStageScreen',true);\r\n      this.ls.setItem('post-offer-amend-stage',true);\r\n      this.ls.setItem('ACCOUNT_CREATTION_STAGE_DONE',true);\r\n      this.ls.setItem('ACCOUNT_CREATE_DETAILS_DONE',true);\r\n      this.ls.setItem('eSignStage',true);\r\n    }\r\n    let isHomeLoan = this.ls.getItem('isHomeLoan') || null;\r\n    console.log(\"fetch\",isHomeLoan);\r\n    this.overDraftByStatus1 = isHomeLoan != null ? isHomeLoan.isActive : false; \r\n    console.log(this.overDraftByStatus1);\r\n    let isVehicleLoan = this.ls.getItem('accountType') || null;\r\n      console.log(\"fundStatus::\",isVehicleLoan)\r\n      if(isHomeLoan==null){\r\n        this.isVehicleLoan=false;\r\n        this.isHomeLoan=false;\r\n        this.isEducationLoan=false;\r\n      }\r\n      \r\n     else if(isVehicleLoan==\"Home Loan\"){\r\n        this.isVehicleLoan=false;\r\n        this.isHomeLoan=true;\r\n        this.isEducationLoan=false;\r\n\r\n      }\r\n      else if (isVehicleLoan==\"Vehicle Loan\"){\r\n        this.isHomeLoan=false;\r\n        this.isVehicleLoan=true;\r\n        this.isEducationLoan=false;\r\n       }\r\n       else{\r\n        this.isHomeLoan=false;\r\n        this.isVehicleLoan=false;\r\n        this.isEducationLoan=true;\r\n       }\r\n    this.isAccountApproveStageDone = this.ls.getItem('LOAN_ENRICHMENT_DONE');\r\n\r\n     // this.isAccountApproveStageDone = this.ls.getItem('account-approval');\r\n      this.isAssessmentStageDone = this.ls.getItem('assessment-details');\r\n      this.isOfferAcceptRejectStageDone = this.ls.getItem('offer-acceptReject-details');\r\n      this.isLoanSummaryStageDone = this.ls.getItem('loan-summary-details');\r\n         this.isAssesmentDetailsScreen = this.ls.getItem('assessmentScreen');\r\n         //parent\r\n         this.isOfferIssueStageScreen = this.ls.getItem('OfferIssueStageDone');\r\n         //submenu\r\n    this.isOfferIssueScreen = this.ls.getItem('OfferIssue');\r\n      //parent\r\n      this.isOfferIssueRejectStageScreen = this.ls.getItem('OfferIssueRejectStageScreen');\r\n      //submenu\r\n    this.isOfferIssueRejectScreen = this.ls.getItem('OfferIssueRejectScreen');\r\n    \r\n      // Parent 1\r\n     this.isUnderWritingStageDone = this.ls.getItem('underWritingStage');\r\n        // Parent 1 childs nav\r\n    this.isCreditRatingDetails = this.ls.getItem('CREDIT_RATING_DONE');\r\n    this.isValuationofAsset = this.ls.getItem('VALUATION_OF_ASSET_DONE');\r\n    this.isLegalOpinion = this.ls.getItem('LEGAL_OPINION_DONE');\r\n\r\n    //Parent 1\r\n    this.isLoanApplicationEntryDone = this.ls.getItem('LoanEntryStage');\r\n    //Parent 1 Child Nav\r\n    this.isLoanDetailScreen = this.ls.getItem('LOAN_DETAIL_DONE');\r\n    this.isAssetsDetailScreen = this.ls.getItem('ASSET_DETAIL_DONE');\r\n    this.isVehicleDetailScreen = this.ls.getItem('VEHICLE_DETAIL_DONE');\r\n    this.isAdmissionDetails = this.ls.getItem('ADMISSION_DETAIL_DONE');\r\n    this.isCustomerInformation = this.ls.getItem('CUSTOMERINFO_DETAIL_DONE');\r\n    this.isMandateDetails = this.ls.getItem('MANDATE_DETAIL_DONE');\r\n    this.isFinancialDetails = this.ls.getItem('FINANCIAL_DETAIL_DONE');\r\n    this.isCollateralDetails = this.ls.getItem('COLLATERAL_DETAIL_DONE');\r\n    this.isGuarantorDetails = this.ls.getItem('GUARANTOR_DETAIL_DONE');\r\n\r\n    this.isLoanInterestDetails = this.ls.getItem('LOAN_INTERST_DETAIL_DONE');\r\n    this.isLoanDisbursementDetails = this.ls.getItem('LOAN_DISBURSEMENT_DETAIL_DONE');\r\n    this.isLoanRepaymentDetails=this.ls.getItem('LOAN_REPAYMENT_DETAIL_DONE');\r\n    this.isChargeDetails=this.ls.getItem('LOAN_CHARGE_DETAILS');\r\n    this.isAccountServices=this.ls.getItem('LOAN_ACCOUNT_SERVICES_DONE');\r\n    \r\n\r\n    this.isLoanEnrichment= this.ls.getItem('LOAN_ENRICHMENT_DONE');\r\n\r\n      this.islegalOpinionScreen= this.ls.getItem('legalScreen');\r\n      this.isValuationAssetScreen = this.ls.getItem('valuationAsset');\r\n      this.isAssesmentDetailsScreen = this.ls.getItem('assessmentScreen');\r\n    // this.isOfferIssueScreen = this.ls.getItem('OfferIssue');\r\n     this.isCreditRatingScreen = this.ls.getItem('CreditRatingDetails');\r\n     this.isLoanQualitativeScoreboard=this.ls.getItem('LOAN_QUALITATIVE_SCOREBOARD_DONE');\r\n     this.isLoanAssessmentDetails=this.ls.getItem('LOAN_ASSESSMENT_DETAILS_DONE');\r\n     this.isLoanAssessmentStageScreen=this.ls.getItem('LOAN_ASSESSMENT_STAGE_DONE');\r\n     //supervisor stage\r\n     //parent\r\n     this.isSupervisorapprovalScreen=this.ls.getItem('SUPERVISOR_APPROVAL_STAGE');\r\n     //submenu\r\n     this.isApprovalScreen=this.ls.getItem('APPROVED_DETAILS');\r\n     //parent\r\n     this.isPostAmmendementStageScreen=this.ls.getItem('PostOfferAmmendementStageScreen');\r\n     //submenu\r\n     this.isPostAmmendementScreen=this.ls.getItem('PostOfferAmmendementScreen');\r\n     //parent\r\n     this.isAccountCreationStageScreenDone=this.ls.getItem('ACCOUNT_CREATTION_STAGE_DONE');\r\n     //submenu\r\n     this.isAccountCreateDetailsScreen=this.ls.getItem('ACCOUNT_CREATE_DETAILS_DONE');\r\n\r\n     this.accountService.refresh.subscribe((res: any) => {\r\n     \r\n      this.loanaccountID = this.ls.getItem('loanAccountId');\r\n      this.isAccountApproveStageDone = this.ls.getItem('LOAN_ENRICHMENT_DONE');\r\n\r\n      let isVehicleLoan = this.ls.getItem('accountType') || null;\r\n      console.log(\"fundStatus::\",isVehicleLoan)\r\n      \r\n      if(isVehicleLoan==\"Home Loan\"){\r\n        this.isVehicleLoan=false;\r\n        this.isHomeLoan=true;\r\n        this.isEducationLoan=false;\r\n\r\n      }\r\n      else if (isVehicleLoan==\"Vehicle Loan\"){\r\n        this.isHomeLoan=false;\r\n        this.isVehicleLoan=true;\r\n        this.isEducationLoan=false;\r\n       }\r\n       else{\r\n        this.isHomeLoan=false;\r\n        this.isVehicleLoan=false;\r\n        this.isEducationLoan=true;\r\n       }\r\n      \r\n       this.isAssessmentStageDone = this.ls.getItem('assessment-details');\r\n       this.isOfferAcceptRejectStageDone = this.ls.getItem('offer-acceptReject-details');\r\n       this.isLoanSummaryStageDone = this.ls.getItem('loan-summary-details');\r\n          this.isAssesmentDetailsScreen = this.ls.getItem('assessmentScreen');\r\n          //parent\r\n         this.isOfferIssueStageScreen = this.ls.getItem('OfferIssueStageDone');\r\n         //submenu\r\n     this.isOfferIssueScreen = this.ls.getItem('OfferIssue');\r\n     //parent\r\n     this.isOfferIssueRejectStageScreen = this.ls.getItem('OfferIssueRejectStageScreen');\r\n     //submenu\r\n     this.isOfferIssueRejectScreen = this.ls.getItem('OfferIssueRejectScreen');\r\n\r\n     //\r\n     this.isLoanEnrichment= this.ls.getItem('LOAN_ENRICHMENT_DONE');\r\n       \r\n       // Parent 1\r\n      this.isUnderWritingStageDone = this.ls.getItem('underWritingStage');\r\n         // Parent 1 childs nav\r\n     this.isCreditRatingDetails = this.ls.getItem('CREDIT_RATING_DONE');\r\n     this.isValuationofAsset = this.ls.getItem('VALUATION_OF_ASSET_DONE');\r\n     this.isLegalOpinion = this.ls.getItem('LEGAL_OPINION_DONE');\r\n \r\n     //Parent 1\r\n     this.isLoanApplicationEntryDone = this.ls.getItem('LoanEntryStage');\r\n     //Parent 1 Child Nav\r\n     this.isLoanDetailScreen = this.ls.getItem('LOAN_DETAIL_DONE');\r\n     this.isAssetsDetailScreen = this.ls.getItem('ASSET_DETAIL_DONE');\r\n     this.isVehicleDetailScreen = this.ls.getItem('VEHICLE_DETAIL_DONE');\r\n     this.isAdmissionDetails = this.ls.getItem('ADMISSION_DETAIL_DONE');\r\n     this.isCustomerInformation = this.ls.getItem('CUSTOMERINFO_DETAIL_DONE');\r\n     this.isMandateDetails = this.ls.getItem('MANDATE_DETAIL_DONE');\r\n     this.isFinancialDetails = this.ls.getItem('FINANCIAL_DETAIL_DONE');\r\n     this.isCollateralDetails = this.ls.getItem('COLLATERAL_DETAIL_DONE');\r\n     this.isGuarantorDetails = this.ls.getItem('GUARANTOR_DETAIL_DONE');\r\n \r\n     this.isLoanInterestDetails = this.ls.getItem('LOAN_INTERST_DETAIL_DONE');\r\n     this.isLoanDisbursementDetails = this.ls.getItem('LOAN_DISBURSEMENT_DETAIL_DONE');\r\n     this.isLoanRepaymentDetails=this.ls.getItem('LOAN_REPAYMENT_DETAIL_DONE');\r\n     this.isChargeDetails=this.ls.getItem('LOAN_CHARGE_DETAILS');\r\n     this.isAccountServices=this.ls.getItem('LOAN_ACCOUNT_SERVICES_DONE');\r\n \r\n \r\n \r\n       this.islegalOpinionScreen= this.ls.getItem('legalScreen');\r\n       this.isValuationAssetScreen = this.ls.getItem('valuationAsset');\r\n       this.isAssesmentDetailsScreen = this.ls.getItem('assessmentScreen');\r\n     // this.isOfferIssueScreen = this.ls.getItem('OfferIssue');\r\n      this.isCreditRatingScreen = this.ls.getItem('CreditRatingDetails');\r\n      this.isLoanQualitativeScoreboard=this.ls.getItem('LOAN_QUALITATIVE_SCOREBOARD_DONE');\r\n     this.isLoanAssessmentDetails=this.ls.getItem('LOAN_ASSESSMENT_DETAILS_DONE');\r\n     this.isLoanAssessmentStageScreen=this.ls.getItem('LOAN_ASSESSMENT_STAGE_DONE');\r\n      //supervisor stage\r\n     //parent\r\n     this.isSupervisorapprovalScreen=this.ls.getItem('SUPERVISOR_APPROVAL_STAGE');\r\n     //submenu\r\n     this.isApprovalScreen=this.ls.getItem('APPROVED_DETAILS');\r\n\r\n     //parent\r\n     this.isPostAmmendementStageScreen=this.ls.getItem('PostOfferAmmendementStageScreen');\r\n     //submenu\r\n     this.isPostAmmendementScreen=this.ls.getItem('PostOfferAmmendementScreen');\r\n     //parent\r\n     this.isAccountCreationStageScreenDone=this.ls.getItem('ACCOUNT_CREATTION_STAGE_DONE');\r\n     //submenu\r\n     this.isAccountCreateDetailsScreen=this.ls.getItem('ACCOUNT_CREATE_DETAILS_DONE');\r\n \r\n     })\r\n    //  this.ls.removeItem('LOAN_ACC_ARRAY');\r\n  }\r\n     goApproved(){\r\n      this.api.sendApprovedStatus(true);\r\n      // this.ls.removeItem('LOAN_ACC_ARRAY');\r\n      this.router.navigate([`/loan/account/supervisor-approveddetails`]);\r\n     }\r\n     ngOnDestroy() {\r\n      if (this.accountItemsSub) {\r\n        this.accountItemsSub.unsubscribe();\r\n      }\r\n    }\r\n    // this.accountService.refresh.subscribe((res: any) => {\r\n    //   this.accountId = this.ls.getItem('accountId');\r\n    //   let overdraftStatus = this.ls.getItem('overDraftByStatus') || null;\r\n    //   this.overDraftByStatus = overdraftStatus != null ? overdraftStatus.isActive : false; \r\n    //   this.isAssessmentStageDone = this.ls.getItem('assessmentStage');\r\n    //   this.isChargesScreen = this.ls.getItem('ENRICHMENT_CHARGES_DONE');\r\n    //   this.cdr.markForCheck();\r\n    // });\r\n    //this.getData(this.accountId);\r\n // }\r\n}","<div class=\"m-333\">\r\n  <mat-sidenav-container class=\"topSection\">\r\n    <mat-sidenav EgretSideNavToggle style=\"width: 300px;\" class=\"app-sidebar\">\r\n      <span class=\"sidenav-header\">Home > Create Loan Account</span>\r\n      <!-- <div class=\"app-filters-wraps\"> -->\r\n      <div class=\"sidenav-hold\">\r\n        <ul appDropdown class=\"sidenav mt-32\">\r\n            <!-- Application satge start -->\r\n\r\n          <li appDropdownLink routerLinkActive=\"open\">\r\n            <div class=\"lvl1\">\r\n              <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n              <a appDropdownToggle [ngClass]=\"isLoanApplicationEntryDone ? 'active' : 'notActive'\">\r\n                <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isLoanApplicationEntryDone ? 'active' : 'notActive'\">account_balance_wallet</mat-icon>\r\n                <span class=\"item-name lvl1\">Application Entry Stage</span>\r\n                <span fxFlex></span>\r\n                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n              </a>\r\n              <!-- LEVEL 2 -->\r\n              <ul class=\"lvl2\" appDropdown  style=\"margin-right: 8px;\">\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                     [routerLink]=\"['/loan/account/list']\">\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\"\r\n                   [routerLink]=\"['/loan/account/loan-details']\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isLoanDetailScreen ? 'enable' : 'disable'\"\r\n                   >\r\n                   \r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Loan Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                <!--*ngIf=\"isHomeLoan; else hideNav\"-->\r\n                <li routerLinkActive=\"open\" >\r\n                   <a class=\"side-menu\" *ngIf=\"!isHomeLoan && !isVehicleLoan && !isEducationLoan\"\r\n                  [ngClass]=\"isAssetsDetailScreen ? 'enable' : 'disable'\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                     \r\n                    >\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Asset Details / Vehicle Details / Admission Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                  <a class=\"side-menu\" *ngIf=\"isHomeLoan\" [routerLink]=\"['/loan/account/asset-details']\"\r\n                  [ngClass]=\"isAssetsDetailScreen ? 'enable' : 'disable'\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                     \r\n                    >\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Asset Details / Vehicle Details / Admission Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                  <a class=\"side-menu\" *ngIf=\"isVehicleLoan\" [routerLink]=\"['/loan/account/vehicle-details']\"\r\n                  [ngClass]=\"isVehicleDetailScreen ? 'enable' : 'disable'\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                  >\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Asset Details / Vehicle Details / Admission Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                  <a class=\"side-menu\" *ngIf=\"isEducationLoan\" [routerLink]=\"['/loan/account/admission-details']\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isAdmissionDetails ? 'enable' : 'disable'\"\r\n                    >\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Asset Details / Vehicle Details / Admission Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                \r\n                <!-- <li routerLinkActive=\"open\" *ngIf=\"isVehicleLoan; else hideNav\">\r\n                 \r\n                </li>\r\n\r\n                <li routerLinkActive=\"open\" *ngIf=\"isEducationLoan; else hideNav\">\r\n                  \r\n                </li> -->\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\" [routerLink]=\"['/loan/account/customer-information']\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isCustomerInformation ? 'enable' : 'disable'\"\r\n                   >\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Customer Information</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\" [routerLink]=\"['/loan/account/mandate-details']\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isMandateDetails ? 'enable' : 'disable'\"\r\n                    >\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Mandate Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\" [routerLink]=\"['/loan/account/financial-details']\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isFinancialDetails ? 'enable' : 'disable'\"\r\n                   >\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Financial Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\" [routerLink]=\"['/loan/account/collateral_details']\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isCollateralDetails ? 'enable' : 'disable'\"\r\n                   >\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Collateral Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\" [routerLink]=\"['/loan/account/guarantor_details']\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isGuarantorDetails ? 'enable' : 'disable'\"\r\n                   >\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Guarantor Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n          <ng-template #hideNav>\r\n            \r\n          </ng-template>\r\n          <!-- Application satge end -->\r\n\r\n            <!-- Enrichment satge start -->\r\n        <li appDropdownLink routerLinkActive=\"open\">\r\n          <div class=\"lvl1\">\r\n            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n            <a appDropdownToggle [ngClass]=\"isAccountApproveStageDone ? 'active' : 'notActive'\">\r\n              <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isAccountApproveStageDone ? 'active' : 'notActive'\">style</mat-icon>\r\n              <span class=\"item-name lvl1\">Application Enrichment</span>\r\n              <span fxFlex></span>\r\n              <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n            </a>\r\n            <!-- LEVEL 2 -->\r\n            <ul class=\"lvl2\" appDropdown  style=\"margin-right: 8px;\">\r\n              <li routerLinkActive=\"open\">\r\n                <a class=\"side-menu\" [routerLink]=\"['/loan/account/application-enrichment']\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\">\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li>\r\n              <li routerLinkActive=\"open\">\r\n                <a class=\"side-menu\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\" \r\n                  [ngClass]=\"isLoanInterestDetails ? 'enable' : 'disable'\"\r\n                  [routerLink]=\"['/loan/account/application-enrichment/intrest-details']\">\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Loan Interest Details</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li>\r\n              <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isLoanDisbursementDetails ? 'enable' : 'disable'\"\r\n                    [routerLink]=\"['/loan/account/application-enrichment/loan-disbursement']\">\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Loan Disbursement Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n              <li routerLinkActive=\"open\">\r\n                <a class=\"side-menu\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                  [ngClass]=\"isLoanRepaymentDetails ? 'enable' : 'disable'\"\r\n                  [routerLink]=\"['/loan/account/application-enrichment/loan-repayment']\">\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Loan Repayment Details</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li>\r\n              <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isChargeDetails ? 'enable' : 'disable'\"\r\n                    [routerLink]=\"['/loan/account/application-enrichment/charge-details']\">\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Charge Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isAccountServices ? 'enable' : 'disable'\"\r\n                    [routerLink]=\"['/loan/account/application-enrichment/account-services']\">\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Account Services</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n            </ul>\r\n          </div>\r\n        </li>\r\n         <!-- Enrichment satge end -->\r\n         <!-- Underwriting start -->\r\n         <li appDropdownLink routerLinkActive=\"open\">\r\n          <div class=\"lvl1\">\r\n            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n            <a appDropdownToggle [ngClass]=\"isLoanEnrichment ? 'active' : 'notActive'\">\r\n               <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isLoanEnrichment ? 'active' : 'notActive'\">create</mat-icon>\r\n              <span class=\"item-name lvl1\">Underwriting Stage</span>\r\n              <span fxFlex></span>\r\n              <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n            </a>\r\n            <!-- LEVEL 2 -->\r\n            <ul class=\"lvl2\" appDropdown  style=\"margin-right: 8px;\">\r\n              <li routerLinkActive=\"open\">\r\n                <a class=\"side-menu\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                  [routerLink]=\"['/loan/account/list/underwritingStage']\">\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li>\r\n              <li routerLinkActive=\"open\">\r\n                <a class=\"side-menu\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                  [ngClass]=\"isCreditRatingDetails ? 'enable' : 'disable'\"\r\n                  [routerLink]=\"['/loan/account/list/underwritingStage/creditrating']\">\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Credit Score Details</span>\r\n<span fxFlex></span>\r\n                </a>\r\n              </li>\r\n              <li routerLinkActive=\"open\">\r\n                <a class=\"side-menu\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                  [ngClass]=\"isValuationofAsset ? 'enable' : 'disable'\"\r\n                  [routerLink]=\"['/loan/account/list/underwritingStage/valuationofassets']\">\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Valuation of Asset</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li>\r\n              <li routerLinkActive=\"open\">\r\n                <a class=\"side-menu\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                  [ngClass]=\"isLegalOpinion ? 'enable' : 'disable'\"\r\n                  [routerLink]=\"['/loan/account/list/underwritingStage/legalopinion']\">\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Legal Opinion</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li>\r\n             \r\n            </ul>\r\n          </div>\r\n        </li>\r\n         <!-- Underwriting end -->\r\n\r\n          <!-- assessment start -->\r\n          <li appDropdownLink routerLinkActive=\"open\">\r\n            <div class=\"lvl1\">\r\n              <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n              <a appDropdownToggle [ngClass]=\"isUnderWritingStageDone ? 'active' : 'notActive'\">\r\n                 <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isUnderWritingStageDone ? 'active' : 'notActive'\">assessment</mat-icon>\r\n                <span class=\"item-name lvl1\">Assessment Stage</span>\r\n                <span fxFlex></span>\r\n                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n              </a>\r\n              <!-- LEVEL 2 -->\r\n              <ul class=\"lvl2\" appDropdown  style=\"margin-right: 8px;\">\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [routerLink]=\"['/loan/account/assessment/list']\">\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                <li routerLinkActive=\"open\"> \r\n                  <a class=\"side-menu\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isLoanQualitativeScoreboard ? 'enable' : 'disable'\"\r\n                    [routerLink]=\"['/loan/account/assessment/qualitative/']\">\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Qualitative Scoreboard</span>\r\n                   <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                <li routerLinkActive=\"open\"> \r\n                  <a class=\"side-menu\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isLoanAssessmentDetails ? 'enable' : 'disable'\"\r\n                    [routerLink]=\"['/loan/account/assessment/assessment-details/']\">\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Assessment Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n             \r\n          <!-- assessment end -->\r\n\r\n           <!-- Supervisor Approval start -->\r\n           <li appDropdownLink routerLinkActive=\"open\">\r\n              <div class=\"lvl1\">\r\n                <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                <a appDropdownToggle [ngClass]=\"isLoanAssessmentStageScreen ? 'active' : 'notActive'\">\r\n                  <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isLoanAssessmentStageScreen ? 'active' : 'notActive'\">supervisor_account</mat-icon>\r\n                  <span class=\"item-name lvl1\">Supervisor Approval Stage</span>\r\n                  <span fxFlex></span>\r\n                  <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                </a>\r\n                <!-- LEVEL 2 -->\r\n                <ul class=\"lvl2\" appDropdown  style=\"margin-right: 8px;\">\r\n                  <li routerLinkActive=\"open\">\r\n                    <a class=\"side-menu\"\r\n                      style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                      [routerLink]=\"['/loan/account/supervisor-summary/']\">\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>\r\n                  <!--<li routerLinkActive=\"open\">\r\n                    <a\r\n                      style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                      [routerLink]=\"['/loan/account/supervisor-assessmentdetails/']\">\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Loan Interest Details</span>\r\n<span fxFlex></span>\r\n                    </a>\r\n                  </li>-->\r\n                  <li routerLinkActive=\"open\">\r\n                    <a class=\"side-menu\"\r\n                    (click)=\"goApproved()\"\r\n                      style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n               \r\n                      [ngClass]=\"isApprovalScreen ? 'enable' : 'disable'\">\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Approved Details</span>\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>\r\n                 \r\n                </ul>\r\n              </div>\r\n          </li>\r\n          <!-- Supervisor Approval end -->\r\n\r\n\r\n           <!-- Offer start -->\r\n           <li appDropdownLink routerLinkActive=\"open\">\r\n              <div class=\"lvl1\">\r\n                <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                <a appDropdownToggle [ngClass]=\"isSupervisorapprovalScreen ? 'active' : 'notActive'\">\r\n                  <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isSupervisorapprovalScreen ? 'active' : 'notActive'\">credit_card</mat-icon>\r\n                  <span class=\"item-name lvl1\">Offer Issue Stage</span>\r\n                  <span fxFlex></span>\r\n                  <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                </a>\r\n                <!-- LEVEL 2 -->\r\n                <ul class=\"lvl2\" appDropdown  style=\"margin-right: 8px;\">\r\n                  <li routerLinkActive=\"open\">\r\n                    <a class=\"side-menu\"\r\n                      style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                      [routerLink]=\"['/loan/account/offer-issue/list']\"\r\n                           >\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>\r\n                  <!--<li routerLinkActive=\"open\">\r\n                    <a\r\n                      style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                         [routerLink]=\"['/loan/account/list/offer-issue/credit-rating']\">\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Credit Rating Details</span>\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>\r\n                  <li routerLinkActive=\"open\">\r\n                    <a\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [routerLink]=\"['/loan/account/list/offer-issue/valuation-asset']\">\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Valuation of Asset</span>\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>\r\n                  \r\n                  <li routerLinkActive=\"open\">\r\n                    <a\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [routerLink]=\"['/loan/account/list/offer-issue/legal-opinion']\">\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Legal Opinion</span>\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>\r\n                  <li routerLinkActive=\"open\">\r\n                    <a\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [routerLink]=\"['/loan/account/list/offer-issue/offer-assessment']\">\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Assesment Details</span>\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>-->\r\n                  <li routerLinkActive=\"open\">\r\n                    <a class=\"side-menu\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [ngClass]=\"isOfferIssueScreen ? 'enable' : 'disable'\"\r\n                    [routerLink]=\"['/loan/account/list/offer-issue/offerissue']\">\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Offer Issue</span>\r\n\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>\r\n                 \r\n                </ul>\r\n              </div>\r\n          </li>\r\n          <!-- Offer Approval end -->\r\n          <!--offer Accept/reject stage start -->\r\n        \r\n              <li appDropdownLink routerLinkActive=\"open\">\r\n                <div class=\"lvl1\">\r\n                  <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                  <a appDropdownToggle [ngClass]=\"isOfferIssueStageScreen ? 'active' : 'notActive'\" >\r\n                    <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isOfferIssueStageScreen ? 'active' : 'notActive'\">border_color</mat-icon>\r\n                    <span class=\"item-name lvl1\">Offer Accept / Reject Stage</span>\r\n                    <span fxFlex></span>\r\n                    <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                  </a>\r\n              <!-- LEVEL 2 -->\r\n              \r\n              <ul class=\"lvl2\" appDropdown  style=\"margin-right: 8px;\">\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                  [routerLink]=\"['/loan/account/offerstage/list']\"\r\n                         >\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                <!--<li routerLinkActive=\"open\">\r\n                  <a\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [routerLink]=\"['/loan/account/offerstage/offer-assessment']\">\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Assessment Details</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n                <li routerLinkActive=\"open\">\r\n                  <a\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [routerLink]=\"['/loan/account/offerstage/offer-issue']\">\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Offer issue</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>-->\r\n                <li routerLinkActive=\"open\">\r\n                  <a class=\"side-menu\"\r\n                    style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                    [routerLink]=\"['/loan/account/offerstage/offer-accept-reject']\"\r\n                    [ngClass]=\"isOfferIssueRejectScreen ? 'enable' : 'disable'\">\r\n                    <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Offer Accept / Reject</span>\r\n                    <span fxFlex></span>\r\n                  </a>\r\n                </li>\r\n               \r\n              </ul>\r\n            </div>\r\n        </li>\r\n       <!-- end of offer Accept -->\r\n\r\n        <!-- Post Offer Amend start -->\r\n        <li appDropdownLink routerLinkActive=\"open\">\r\n          <div class=\"lvl1\">\r\n            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n            <a appDropdownToggle [ngClass]=\"isOfferIssueRejectStageScreen ? 'active' : 'notActive'\">\r\n              <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isOfferIssueRejectStageScreen ? 'active' : 'notActive'\">file_copy</mat-icon>\r\n              <span class=\"item-name lvl1\">Post Offer Amend Stage</span>\r\n              <span fxFlex></span>\r\n              <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n            </a>\r\n            <!-- LEVEL 2 -->\r\n            <ul class=\"lvl2\" appDropdown  style=\"margin-right: 8px;\">\r\n\r\n              <li routerLinkActive=\"open\">\r\n                <a class=\"side-menu\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                   [routerLink]=\"['/loan/account/post-offer-amend-stage/list']\">\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li>\r\n              <!-- <li routerLinkActive=\"open\">\r\n                <a\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                 >\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Offer Issue</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li> -->\r\n              <li routerLinkActive=\"open\">\r\n                <a class=\"side-menu\"\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                  [ngClass]=\"isPostAmmendementScreen ? 'enable' : 'disable'\"\r\n                  [routerLink]=\"['/loan/account/post-offer-amendment']\"\r\n                  >\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Post Offer Amendment</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li>\r\n              <!-- <li routerLinkActive=\"open\">\r\n                <a\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                  >\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Loan Disbursement Details</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li> -->\r\n              <!-- <li routerLinkActive=\"open\">\r\n                <a\r\n                  style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                  >\r\n                  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Loan Repayment Details</span>\r\n                  <span fxFlex></span>\r\n                </a>\r\n              </li> -->\r\n              \r\n            </ul>\r\n          </div>\r\n        </li>\r\n        <!-- Post Offer Amend end -->\r\n\r\n       <!--start of account Creation Stage-->\r\n       \r\n       <li appDropdownLink routerLinkActive=\"open\">\r\n        <div class=\"lvl1\">\r\n          <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n          <a appDropdownToggle [ngClass]=\"isPostAmmendementStageScreen ? 'active' : 'notActive'\">\r\n            <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isPostAmmendementStageScreen ? 'active' : 'notActive'\">person_add</mat-icon>\r\n            <span class=\"item-name lvl1\">Account Creation Stage</span>\r\n            <span fxFlex></span>\r\n            <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n          </a>\r\n          <!-- LEVEL 2 -->\r\n          <ul class=\"lvl2\" appDropdown  style=\"margin-right: 8px;\">\r\n            <li routerLinkActive=\"open\">\r\n              <a class=\"side-menu\"\r\n                style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                [routerLink]=\"['/loan/account/account-creation-stage']\"\r\n                     >\r\n                <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                <span fxFlex></span>\r\n              </a>\r\n            </li>\r\n           \r\n            <li routerLinkActive=\"open\">\r\n              <a class=\"side-menu\"\r\n              style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n              [ngClass]=\"isAccountCreateDetailsScreen ? 'enable' : 'disable'\"\r\n              [routerLink]=\"['/loan/account/account-creation-stage/account-create-details']\">\r\n                <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Account Credit Details</span>\r\n\r\n                <span fxFlex></span>\r\n              </a>\r\n            </li>\r\n           \r\n          </ul>\r\n        </div>\r\n    </li>\r\n       \r\n           \r\n\r\n            <!-- Digital Signing start -->\r\n            <li appDropdownLink routerLinkActive=\"open\">\r\n              <div class=\"lvl1\">\r\n                <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                <a appDropdownToggle [ngClass]=\"isAccountCreationStageScreenDone ? 'active' : 'notActive'\">\r\n                  <!--<mat-icon class=\"sidenav-mat-icon\">style</mat-icon>-->\r\n                  <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isAccountCreationStageScreenDone ? 'active' : 'notActive'\">view_comfy</mat-icon>\r\n                  <span class=\"item-name lvl1\">Digital Signing</span>\r\n                  <span fxFlex></span>\r\n                  <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                </a>\r\n                <!-- LEVEL 2 -->\r\n                <ul class=\"lvl2\" appDropdown  style=\"margin-right: 8px;\">\r\n                  <li routerLinkActive=\"open\">\r\n                    <a class=\"side-menu\"\r\n                      style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                      [routerLink]=\"['/loan/account/digitalsigning/list']\" >\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>\r\n                  <li routerLinkActive=\"open\">\r\n                    <a class=\"side-menu\"\r\n                      style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                      [ngClass]=\"isDigitalSigning ? 'enable' : 'disable'\"\r\n                      [routerLink]=\"[\r\n                      '/loan/account/digitalsigning/list/options',\r\n                      accountId\r\n                    ]\">\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Digital Signing</span>\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>\r\n                  <li routerLinkActive=\"open\">\r\n                    <a class=\"side-menu\"\r\n                      style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                      [routerLink]=\"['/loan/account/digitalsigning/options']\" >\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Signing</span>\r\n                      <span fxFlex></span>\r\n                    </a>\r\n                  </li>\r\n                 \r\n                </ul>\r\n              </div>\r\n           </li>\r\n           <!-- Digital Signing end -->\r\n          </ul>\r\n        </div>\r\n  \r\n      </mat-sidenav>\r\n      <div class=\"app-wrap\" fxLayout=\"row\" fxLayoutWrap=\"wrap\">\r\n        <!-- Right side -->\r\n        <div class=\"full-width mt-32\">\r\n          <router-outlet></router-outlet>\r\n        </div>\r\n\r\n      </div>\r\n   </mat-sidenav-container>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from '../../account.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-asset-details',\r\n  templateUrl: './asset-details.component.html',\r\n  styleUrls: ['./asset-details.component.scss']\r\n})\r\nexport class AssetDetailsComponent implements OnInit {\r\n  assetForm:FormGroup;\r\n  arrayCountry: any[] = [];\r\n  arrayState: any[] = [];\r\n  arrayCity: any[] = [];\r\n  entityName: string;\r\n  assetDetails:any\r\n  showEditOption: boolean = false;\r\n  loanaccountId: any;\r\n  loanInfo: any;\r\n  mortgagedBranch: any;\r\n  arrayAccountBranch: any;  \r\n\r\n  constructor(private fb:FormBuilder,\r\n    private loader: AppLoaderService,private apiService:ApiService, \r\n    private snack: MatSnackBar,private ls: LocalStoreService,private router:Router,\r\n    private accountService: AccountService ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountId = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    this.getAccountBranchDetails();\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    console.log(\"this.loanaccountId\",this.loanaccountId);\r\n    this.buildformGroup();\r\n    this.getCountryName(\"country\");\r\n    this.getAllAuthCities();\r\n    this.getStateName(\"state\");\r\n    let isAssetDetailscreen: boolean = JSON.parse(this.ls.getItem('ASSET_DETAIL_DONE'));\r\n    //if (this.loanAccountId != null && isAssetDetailscreen) {\r\n      if (this.loanaccountId != null && isAssetDetailscreen) {\r\n        this.showEditOption = true;\r\n        \r\n        this.getAssetDetails();\r\n      } \r\n      else {\r\n        console.log(\"else\");\r\n        this.showEditOption = false;\r\n        this.buildformGroup();\r\n      }\r\n      // setTimeout(() => {\r\n        \r\n      // }, 10);\r\n\r\n  }\r\n  getAssetDetails(){\r\n    this.loader.open();\r\n    //this.apiService.getAssetValuation(this.loacnAccountId).subscribe((accountDetails) => {\r\n    this.apiService.getAssetails(this.loanaccountId).subscribe((assetDetails) => {\r\n      this.loader.close();\r\n      this.assetDetails = assetDetails;\r\n      this.getStateName(this.assetDetails.country);\r\n      // this.getCityName(this.assetDetails.state);\r\n      console.log(this.assetDetails);\r\n      this.buildformGroup(this.assetDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n\r\n    \r\n  }\r\n  getCountryName(key: string) {\r\n    this.apiService.getAllCountries().subscribe((data: any) => {\r\n     for(let i=0; i<data.length;i++){\r\n       if(data[i].authStatus==='A'){     \r\n         this.arrayCountry.push(data[i].countryName);\r\n         this.arrayCountry.sort();\r\n       }\r\n     }\r\n   });\r\n }\r\n getStateName(country,isAdd?) {\r\n      if(isAdd){\r\n        this.assetForm.get('zipCode').setValue('');\r\n        this.assetForm.get('state').setValue('');\r\n        this.assetForm.get('city').setValue('');\r\n}\r\n  this.apiService.getAllCountries().subscribe((data: any) => {\r\n    for(let i=0; i<data.length;i++){       \r\n      if(data[i].countryName == country){\r\n        this.apiService.getStateByCountryId(data[i].id).subscribe((resp: any) => {\r\n        this.arrayState = resp\r\n        })\r\n        break;   \r\n      }\r\n    }\r\n  })\r\n}\r\n  // getCityName(state: any) {\r\n  //   this.entityName = \"city\";\r\n  //   console.log(state)\r\n  //   this.apiService.getDropDownValues1(this.entityName, state).subscribe((data) => {\r\n  //     this.arrayCity = data;\r\n  //     console.log(\"-->\", this.arrayCity)\r\n  //     // this.applicant.valueChanges.subscribe(data=>{\r\n  //     //   console.log('data :: before ',data.city)\r\n  //     //   data.city='';\r\n  //     //   console.log('data :: after ',data.city)\r\n  //     // })\r\n  //     // this.applicant.value.city='';\r\n  //     // this.applicant.get('city').reset();\r\n  \r\n  //   });\r\n  // }\r\n\r\n  getAllAuthCities(){\r\n    this.apiService.getAuthorizedCityInfo().subscribe(res => res.map(r => this.arrayCity.push(r.cityName)))\r\n  }\r\n  onStateChange(){\r\n    this.assetForm.get('zipCode').setValue('');\r\n    this.assetForm.get('city').setValue('');\r\n  }\r\n  onCityChange(){\r\n    this.assetForm.get('zipCode').setValue('');\r\n  }\r\n\r\ngetAccountBranchDetails() {\r\n    //debugger\r\n    this.apiService.getAccountBranch().subscribe((data) => {\r\n      console.log(\"data:: AccountBranch \", data)\r\n      this.arrayAccountBranch = data;\r\n    });\r\n  }\r\n  buildformGroup(data?){\r\n    console.log(\"data\",data);\r\n    this.assetForm = this.fb.group({\r\n      id:[''],\r\n      loanaccountId : this.loanaccountId,\r\n      mortgagedBranch:[data ? data.mortgagedBranch:'',Validators.required],\r\n      dimensions:[data ? data.dimensions:''],\r\n      assetStatus:[data ? data.assetStatus:''],\r\n      homeType:[data ? data.homeType:''],\r\n      marketValue:[data ? data.marketValue:'',Validators.required],\r\n      building:[data ? data.building:'',Validators.required],\r\n      street: [data ? data.street:'', Validators.required],\r\n      locality: [data ? data.locality:'', Validators.required],\r\n      city: [data ? data.city:'', Validators.required],\r\n      state: [data ? data.state:'', Validators.required],\r\n      country: [data ? data.country:'', Validators.required],\r\n      zipCode: [data ? data.zipCode:'',[Validators.required, Validators.pattern(\"^((\\\\+91-?)|0)?[0-9]{5,10}$\")]],\r\n\r\n    })\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n  \r\n  goBack(){\r\n    this.router.navigate([`/loan/account/loan-details`]);\r\n  }\r\n\r\n  next(){\r\n    this.ls.setItem('ASSET_DETAIL_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/loan/account/customer-information`]);\r\n  }\r\n  submitForm(){\r\n    \r\n    \r\n    \r\n    let payload={\r\n      loanAccountId:this.loanaccountId,\r\n      mortgagedBranch:this.assetForm.value.mortgagedBranch,\r\n      street:this.assetForm.value.street,\r\n      locality:this.assetForm.value.locality,\r\n      building:this.assetForm.value.building,\r\n      marketValue:this.assetForm.value.marketValue,\r\n      homeType:this.assetForm.value.homeType,\r\n      dimensions:this.assetForm.value.dimensions,\r\n      city:this.assetForm.value.city,\r\n      assetStatus:this.assetForm.value.assetStatus,\r\n      state:this.assetForm.value.state,\r\n      \r\n      country:this.assetForm.value.country,\r\n      zipCode:this.assetForm.value.zipCode,\r\n    }\r\n    console.log(\"payload\",payload)\r\n    this.apiService.upsertAssetDetails(payload).subscribe(data => {\r\n      console.log(\"data\",data);\r\n      if(data != null){\r\n        this.snack.open('Asset Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n     \r\n      }\r\n      \r\n      \r\n      \r\n    })\r\n    \r\n  this.next();\r\n}\r\n\r\ngetCityandStateByZipcode(countryName, zipcode) {\r\n  if (countryName && zipcode.length >= 6) {\r\n    this.apiService.fetchStateCityByZipcode(countryName, zipcode).subscribe((res: any) => {\r\n      if(res){\r\n        this.assetForm.get('state').setValue(res.stateName);\r\n        this.assetForm.get('city').setValue(res.cityName);\r\n      }\r\n      else{\r\n        this.snack.open(\"Entered Zipcode is not exists\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/asset_screen.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><h1>Asset Details</h1></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">\r\n      <!-- <mat-card-title class=\"\">\r\n        <div class=\"card-title-text\">Asset Details </div>\r\n        <mat-divider></mat-divider>\r\n      </mat-card-title> -->\r\n      \r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Asset Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form *ngIf=\"assetForm\" [formGroup]=\"assetForm\">\r\n\r\n               <div fxLayout=\"row\" fxLayoutGap=\"30px\">\r\n                      <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Mortgaged Branch*</mat-label>\r\n                          <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                            <mat-select name=\"mod\" formControlName=\"mortgagedBranch\" placeholder=\"Select\" disableOptionCentering>\r\n                              <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                              <mat-option *ngFor=\"let arrayAccountBranch of arrayAccountBranch\" [value]=\"arrayAccountBranch.branchName\" > \r\n                                {{arrayAccountBranch.branchName}} \r\n                              </mat-option> \r\n                            </mat-select>\r\n                          <!-- </mat-card> -->\r\n                          <mat-error *ngIf=\"!assetForm.get('mortgagedBranch').valid && assetForm.get('mortgagedBranch').touched\" >\r\n                             Mortgaged Branch is Required!\r\n                          </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                       \r\n                        <!-- <div class=\"flex-grow-1\">\r\n                          <mat-hint>Dimensions*</mat-hint>\r\n                          <mat-card class=\"inputMatName\">\r\n            \r\n                            <input formControlName=\"dimensions\"\r\n                                matInput\r\n                                name=\"a_sig\" class=\"alignment\"\r\n                                placeholder=\"Dimensions\"\r\n                              />\r\n                              \r\n                          </mat-card>\r\n                         \r\n                        </div> -->\r\n\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Dimensions</mat-label>\r\n                          <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                            <mat-select name=\"dimensions\" formControlName=\"dimensions\" disableOptionCentering>\r\n                              <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                              <mat-option value=\"Sq.Ft\">Sq.Ft</mat-option>\r\n                            </mat-select>\r\n                          <!-- </mat-card> -->\r\n                          <!-- <mat-error *ngIf=\"assetForm.get('dimensions').hasError('required')\">\r\n                            Dimensions is Required!\r\n                          </mat-error> -->\r\n                          <!-- <mat-error *ngIf=\"!assetForm.get('dimensions').valid && assetForm.get('dimensions').touched\" >\r\n                            &nbsp;&nbsp; Dimensions is Required!\r\n                        </mat-error> -->\r\n                          </mat-form-field>\r\n                        </div>\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Asset Status</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                        <mat-select name=\"mod\" formControlName=\"assetStatus\" disableOptionCentering>\r\n                          <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                          <mat-option value=\"Under Construction\">Under Construction</mat-option>\r\n                          <mat-option value=\"Completed Construction\">Completed Construction</mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card> -->\r\n                          </mat-form-field>\r\n                         \r\n                        </div>\r\n                      \r\n                      </div>\r\n                      <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Home Type</mat-label>\r\n                          <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                            <mat-select name=\"homeType\" formControlName=\"homeType\" disableOptionCentering>\r\n                              <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                              <mat-option value=\"Villa\">Villa</mat-option>\r\n                              <mat-option value=\"Flat\">Flat</mat-option>\r\n                              <mat-option value=\"Apartment\">Apartment</mat-option>\r\n                            </mat-select>\r\n                          <!-- </mat-card> -->\r\n                          </mat-form-field>\r\n                        </div>\r\n                         \r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Market Value*</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName\"> -->\r\n            \r\n                            <input formControlName=\"marketValue\" (keypress)=\"_keyPress($event)\"\r\n                                matInput\r\n                                name=\"marketValue\" class=\"alignment\"\r\n                                placeholder=\"Market Value\" \r\n                              />\r\n                          <!-- </mat-card> -->\r\n                          <mat-error *ngIf=\"!assetForm.get('marketValue').valid && assetForm.get('marketValue').touched\" >\r\n                            Market Value is Required!\r\n                          </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                         \r\n                      </div>\r\n\r\n              </div>\r\n              <!--<div fxLayout=\"row\">\r\n                  <div fxFlex=\"50\">\r\n                    <div class=\"flex-grow-1\">\r\n                      <mat-hint>Asset Status</mat-hint>\r\n                      <mat-card class=\"widthCard inputMatName\">\r\n                        <mat-select name=\"mod\">\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                          <mat-option value=\"test\">test</mat-option>\r\n                        </mat-select>\r\n                      </mat-card>\r\n                    </div>\r\n                  </div>\r\n              </div>-->\r\n              <mat-card-title>\r\n                <fieldset class=\"alignChange\">\r\n                <legend visible=\"true\">Address</legend>\r\n                </fieldset>\r\n              </mat-card-title>\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\" class=\"mt-16\">\r\n                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                    <div class=\"flex-grow-1\">\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Building*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input\r\n                            matInput formControlName=\"building\"\r\n                            name=\"building\" class=\"alignment\"\r\n                            placeholder=\"Building\"\r\n                            oninput=\"this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')\"\r\n                          />\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!assetForm.get('building').valid && assetForm.get('building').touched\" >\r\n                        &nbsp;&nbsp; Building is Required!\r\n                      </mat-error>\r\n                      </mat-form-field>\r\n                    </div>\r\n                    <div class=\"flex-grow-1\">\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Locality*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input\r\n                            matInput formControlName=\"locality\"\r\n                            name=\"locality\" class=\"alignment\"\r\n                            placeholder=\"Locality\"\r\n                            oninput=\"this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')\"\r\n                          />\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!assetForm.get('locality').valid && assetForm.get('locality').touched\" >\r\n                        &nbsp;&nbsp; Locality is Required!\r\n                    </mat-error>\r\n                      </mat-form-field>\r\n                    </div>\r\n                    <div class=\"flex-grow-1\">\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Zip Code*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input \r\n                            matInput formControlName=\"zipCode\" minlength=\"5\" maxlength=\"10\" (keypress)=\"_keyPress($event)\"\r\n                            name=\"zipCode\" class=\"alignment\" \r\n                            placeholder=\"Zip Code\" autocomplete=\"off\" (change)=\"getCityandStateByZipcode(assetForm.get('country').value,$event.target.value)\"\r\n                          />\r\n                      <!-- </mat-card> -->\r\n                      \r\n                      </mat-form-field>\r\n                      <mat-error *ngIf=\"!assetForm.get('zipCode').valid && assetForm.get('zipCode').touched\" >\r\n                        Valid Zip Code is Required!(5-10 digits)\r\n                     </mat-error>\r\n                    </div>\r\n                    <div class=\"flex-grow-1\">\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>City*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                        <mat-select name=\"city\" formControlName=\"city\" placeholder=\"Select\" disableOptionCentering (selectionChange)=\"onCityChange()\">\r\n                          <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                          <mat-option *ngFor=\"let city of arrayCity\" [value]=\"city\">{{city}}</mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card> -->\r\n                      <!-- <mat-error *ngIf=\"assetForm.get('city').hasError('required')\">\r\n                        City is Required!\r\n                      </mat-error> -->\r\n                      <mat-error *ngIf=\"!assetForm.get('city').valid && assetForm.get('city').touched\" >\r\n                        City is Required!\r\n                      </mat-error>\r\n                      </mat-form-field>\r\n                    </div>\r\n                    \r\n\r\n                   \r\n                    \r\n                   \r\n                  </div>\r\n                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                    <div class=\"flex-grow-1\">\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Street*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName\"> -->\r\n                        <input\r\n                            matInput formControlName=\"street\"\r\n                            name=\"street\" class=\"alignment\"\r\n                            placeholder=\"Street\"\r\n                            oninput=\"this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')\"\r\n                          />\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!assetForm.get('street').valid && assetForm.get('street').touched\" >\r\n                         Street is Required!\r\n                      </mat-error>\r\n                      </mat-form-field>\r\n                    </div>\r\n                   \r\n                    <div class=\"flex-grow-1\">\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Country*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                        <mat-select name=\"country\" formControlName=\"country\" (selectionChange)=\"getStateName($event.value,true)\"\r\n                        disableOptionCentering placeholder=\"Select\">\r\n                          <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                          <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                            {{country}}\r\n                          </mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!assetForm.get('country').valid && assetForm.get('country').touched\" >\r\n                         Country is Required!\r\n                      </mat-error>\r\n                      </mat-form-field>\r\n                    </div>\r\n\r\n                    <div class=\"flex-grow-1\">\r\n                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>State*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                        <mat-select name=\"state\" formControlName=\"state\" placeholder=\"Select\" \r\n                        disableOptionCentering (selectionChange)=\"onStateChange()\" >\r\n                          <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                          <mat-option *ngFor=\"let state of arrayState\" [value]=\"state.stateName\">\r\n                            {{state.stateName}}</mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!assetForm.get('state').valid && assetForm.get('state').touched\" >\r\n                         State is Required!\r\n                      </mat-error>\r\n                      </mat-form-field>\r\n                    </div>\r\n\r\n                    \r\n\r\n                  </div>\r\n                </div>       \r\n\r\n             \r\n       \r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    <div\r\n    fxLayout=\"row\"\r\n    fxLayoutAlign=\"space-between center\"\r\n    fxLayoutGap=\"16px\"\r\n    class=\"mt-32\"\r\n  >\r\n    <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n      Back\r\n    </button>\r\n    <button\r\n      mat-raised-button class=\"Nextbtn\"\r\n      [disabled]=\"!assetForm.valid\"\r\n      color=\"primary\" (click)=\"submitForm()\"\r\n    >\r\n    Next\r\n    </button>\r\n  </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n","import { Component, ElementRef, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { EsignPopComponent } from '../esign-pop/esign-pop.component';\r\n\r\n@Component({\r\n  selector: 'app-upload-sign-or-esign',\r\n  templateUrl: './upload-sign-or-esign.component.html',\r\n  styleUrls: ['./upload-sign-or-esign.component.scss']\r\n})\r\nexport class UploadSignOrEsignComponent implements OnInit {\r\n  isDone: boolean = false;\r\n  show: any;\r\n  // dialog: any;\r\n  accountId: any;\r\n  // apiService: any;\r\n  accountdetailsForStatusUpdate: any;\r\n  previousUrl: string = '';\r\n  // accountService: any;\r\n  customerId: any;\r\n  disableDone: boolean = false;\r\n  imageURL1: any;\r\n  urlService: any;\r\n  selectedFile: any;\r\n  res: Object = {'enable':false, 'image':null};\r\n  image: string;\r\n  profileId: any;\r\n  @ViewChild(\"profileFile\") profileFile: ElementRef;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    private router: Router,\r\n    private apiService: ApiService,\r\n    private dialogService: DialogService,\r\n    private dialog: MatDialog,\r\n    public dialogRef: MatDialogRef<UploadSignOrEsignComponent>,\r\n    private ls: LocalStoreService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.image=this.ls.getItem('signedImage');\r\n    if(this.image){\r\n      this.imageURL1 =this.image;\r\n    }else{\r\n      this.imageURL1 = \"not_available\";\r\n    }\r\n    \r\n    this.accountId = this.ls.getItem('loanAccountId');\r\n\r\n    // this.urlService.previousUrl$\r\n    //   .subscribe((previousUrl: string) =>{\r\n    //     this.previousUrl = previousUrl\r\n    //   });\r\n  }\r\n\r\n  close1()\r\n  {\r\n    if(this.data.screen === \"NewCustomerOnboarding\") {\r\n      this.dialogRef.close(this.res);\r\n      \r\n    }\r\n    else {\r\n      this.dialogRef.close(true);\r\n      if(this.imageURL1 !== 'not_available' && this.ls.getItem('eSignStage')){\r\n        this.ls.setItem('enable',true);\r\n      }     \r\n    }\r\n    this.router.navigateByUrl('/', {skipLocationChange: true}).then(() => {\r\n      this.router.navigate(['loan/account/digitalsigning/list/options']);\r\n  });\r\n  }\r\n  close2(){\r\n    {\r\n      if(this.data.screen === \"NewCustomerOnboarding\") {\r\n        this.dialogRef.close(this.res);\r\n        \r\n      }\r\n      else {\r\n        this.dialogRef.close(true);\r\n        this.ls.setItem('enable',true);\r\n      }\r\n    }\r\n  }\r\n\r\n  openPopUp(data?: any) {\r\n    let response:any;\r\n    if(data === undefined ||data === null) {\r\n      response = {\r\n        isSignLater: false,\r\n        screen: 'Create Account'\r\n      };\r\n    } \r\n     if(!this.show) {\r\n      let dialogRef: MatDialogRef<any> = this.dialog.open(EsignPopComponent, {\r\n        width: '720px',\r\n        disableClose: true,\r\n        data: ((data === undefined ||data === null) ? response : data)\r\n      })\r\n      dialogRef.afterClosed().subscribe(res => {\r\n        console.log(\"dismiss res\",res);\r\n        if(res){\r\n          this.ls.setItem('enable', true);\r\n          this.imageURL1 = res?.image;\r\n          this.disableDone = res?.image ? false : true;         \r\n          console.log(this.show);\r\n          //this.isDone=true;\r\n          // this.getByAccountId(this.accountId);\r\n        }\r\n      })\r\n     }\r\n\r\n}\r\n  // getByAccountId(accountId: any) {\r\n  //   this.apiService.getByAccountId(accountId)\r\n  // .subscribe(resp => {\r\n  //   this.accountdetailsForStatusUpdate = resp;\r\n  //       this.updateAccountStatus(resp);\r\n  // });\r\n  // }\r\n\r\n  // updateAccountStatus(accData) {\r\n  //   accData.status = 'BACKLOG';\r\n  //   this.apiService.updateAccountStatusService(accData)\r\n  //   .subscribe(updateResp => {\r\n  //     console.log(\"updateResp:: \", updateResp);\r\n  //   });\r\n  // }\r\n\r\n  // goBack() {\r\n  //   this.router.navigate([this.previousUrl]);\r\n  // }\r\n\r\n  onFileSelect(event) {\r\n    console.log(\"event -- \", event.target.files);\r\n    this.selectedFile = event.target.files[0]\r\n    console.log(this.selectedFile)\r\n\r\n    let reader = new FileReader();\r\n    reader.readAsDataURL(event.target.files[0]);\r\n    reader.onload = (event2) => {\r\n      this.imageURL1 = reader.result;\r\n    };\r\n\r\n    const cId: string = this.customerId;\r\n    const url: string = this.selectedFile;\r\n    const uploadData = new FormData();\r\n    const data = {\r\n      customerId: this.customerId,\r\n      documentName: this.customerId + \"Signature\",\r\n      documentType: \"10\",\r\n      fileType: event.type,\r\n      fileName: event.name,\r\n      verificationType: \"Digital Signing\"\r\n    };\r\n    uploadData.append(\"data\", JSON.stringify(data));\r\n    uploadData.append(\"file\", url);\r\n    // this.imageURL1 = this.selectedFile;\r\n    this.apiService.upload(uploadData).subscribe((res) => {\r\n      if(res){\r\n       \r\n        \r\n        // this.getByAccountId(this.accountId);\r\n      }\r\n     });\r\n    \r\n  }\r\n  onSubmit(){\r\n    this.isDone=true;\r\n    this.dialogRef.close(true);\r\n  //   this.router.navigateByUrl('/', {skipLocationChange: true}).then(() => {\r\n  //     this.router.navigate(['loan/account/digitalsigning/list/options']);\r\n  // });\r\n  }\r\n  deleteImg() {\r\n    this.dialogService.doConfirmDialog('').subscribe((response) => {\r\n      if (response == \"Yes\") {\r\n        this.ls.setItem('enable',false);\r\n        this.ls.removeItem('signedImage');\r\n        this.imageURL1 = \"not_available\";\r\n        this.profileFile.nativeElement.value = '';\r\n        this.apiService.deleteCustomerDoc(this.customerId, this.profileId).subscribe((data) => {\r\n\r\n        });\r\n        this.disableDone = true;\r\n        this.ls.setItem('enable',false);\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  // resetState() {\r\n  //   this.ls.removeItem('appEntryStage');\r\n  //   this.ls.removeItem('ACC_DONE');\r\n  //   this.ls.removeItem('ACC_OPEN_DONE');\r\n  //   this.ls.removeItem('ACC_SERVICE_DONE');\r\n  //   this.ls.removeItem('ACC_MANDATE_DONE');\r\n  //   this.ls.removeItem('ACC_NOMINEE_DONE');\r\n\r\n  //   this.ls.removeItem('limitEntryStage');\r\n  //   this.ls.removeItem('LIMIT_SECURED_DONE');\r\n  //   this.ls.removeItem('LIMIT_UNSECURED_DONE');\r\n  //   this.ls.removeItem('LIMIT_FIN_DONE');\r\n\r\n  //   // Parent 3\r\n  //   this.ls.removeItem('enrichmentStage');\r\n  //   // Subnave of parent 3\r\n  //   this.ls.removeItem('ENRICHMENT_CHARGES_DONE');\r\n  //   this.ls.removeItem('ENRICHMENT_INTEREST_DONE');\r\n\r\n  //   // PArent 4\r\n  //   this.ls.removeItem('assessmentStage');\r\n  //   // Subnave of parent 4\r\n  //   this.ls.removeItem('ASSESSMENT_QA_DONE');\r\n  //   this.ls.removeItem('ASSESSMENT_REPORT_DONE');\r\n  //   // PArent 5\r\n  //   this.ls.removeItem('fundingStage');\r\n  //   // Subnave of parent 5\r\n  //   this.ls.removeItem('FUNDING_INI_DONE');\r\n\r\n  //   // Parent 6\r\n  //   this.ls.removeItem('approvalStage');\r\n  //   // Parent 6 childs nav\r\n  //   this.ls.removeItem('APPROVAL_DETAILS_DONE');\r\n  //   this.ls.removeItem('accountId');\r\n  //   this.ls.removeItem('eSignStage');\r\n  //   this.ls.removeItem('PRODUCT_CUSTOMER_ID');\r\n  //   this.ls.removeItem('accountType');\r\n  //   this.ls.removeItem('intrestFlag');\r\n  //   this.ls.removeItem('Status');\r\n  //   this.ls.removeItem(\"CIF_NUM_PRIMARY\");\r\n  //   this.ls.removeItem(\"cId\");\r\n  //   this.ls.removeItem(\"fundByStatus\");\r\n  //   this.ls.removeItem(\"overDraftByStatus\");\r\n  //   sessionStorage.clear();\r\n  //   this.accountService.refresh.next();\r\n  //   this.router.navigate(['/loan-account']);\r\n  // }\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\" fxLayoutAlign=\"end center\">\r\n        <button mat-icon-button (click)=\"close1()\" *ngIf=\"!isDone\">\r\n            <mat-icon>close</mat-icon>\r\n        </button>\r\n        <button mat-icon-button (click)=\"close()\" *ngIf=\"isDone\">\r\n            <mat-icon>close</mat-icon>\r\n        </button>\r\n    </div>\r\n    <div fxFlex=\"100\" *ngIf=\"!isDone\">\r\n        <div class=\"propic text-center\">\r\n            <img src=\"assets/images/esign.png\" alt=\"\" />\r\n        </div>\r\n    </div>\r\n\r\n    <div fxFlex=\"100\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"50\" fxFlexOffset=\"20px\" *ngIf=\"!isDone\">\r\n                <h5 class=\"text-center mt-16 esignFont\">Signature!</h5>\r\n                <!-- <mat-card class=\"mat-elevation-z0\">\r\n              <mat-card-content> -->\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"center center\" fxLayoutGap=\"20px\">\r\n                    <div class=\"sub-section-1\">\r\n                        <button class=\"scanButton\" appearence=\"outline\" (click)=\"openPopUp()\">Digital Sign</button>\r\n                    </div>\r\n                    <div class=\"sub-section-2\">\r\n                        <button class=\"Upload scanButton\" (click)=\"fileInput.click()\">\r\n                            Upload\r\n                            <input style=\"display: none\" type=\"file\" class=\"changeInput\" accept=\"image/*\" required\r\n                                (change)=\"onFileSelect($event)\" #fileInput>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n                    <div class=\"sub-section-1\">\r\n                        <div class=\"insertDriveImg\">\r\n                            <div *ngIf=\"imageURL1 == 'not_available'; else showAvatar\">\r\n                                <img class=\"formImg\" [src]=\"'assets/images/no-image.jpg'\" alt=\"No Image\">\r\n                            </div>\r\n                            <ng-template #showAvatar>\r\n                                <img class=\"formImg\" required [src]=\"imageURL1\" alt=\"\">\r\n                            </ng-template>\r\n                            \r\n                        </div>\r\n                        <!-- <button mat-raised-button style=\"margin-left: 300px;\" (click)=\"deleteImg()\">\r\n                            <mat-icon style=\"color: red;\" >delete</mat-icon>\r\n                        </button> -->   \r\n                        <div fxLayout=\"row\" fxLayoutAlign=\"center center\" fxLayoutGap=\"20px\">\r\n                        <button mat-raised-button color=\"red\" class=\"dltbtn\" (click)=\"deleteImg()\" >\r\n                            DELETE\r\n                        </button>\r\n                        <button mat-raised-button color=\"primary\" class=\"dbtn\" (click)=\"onSubmit()\" [disabled]=\"disableDone\">\r\n                            SUBMIT\r\n                        </button>  \r\n                       </div>                   \r\n                       \r\n                        \r\n                    </div>\r\n                </div>\r\n                <!-- </mat-card-content>\r\n          </mat-card> -->\r\n                <!-- <div class=\"text-center\">\r\n                    <button mat-raised-button class=\"Next\" (click)=\"onSubmit()\" [disabled]=\"imageURL1 == 'not_available'\">\r\n                        DONE\r\n                    </button>\r\n                </div> --> \r\n            </div>\r\n            <!-- <div fxFlex=\"50\" fxFlexOffset=\"20px\" *ngIf=\"isDone\" class=\"text-center\">\r\n                <div class=\"propic text-center\">\r\n                    <img src=\"assets/images/esignlater.png\" alt=\"\" />\r\n                </div>\r\n                <br>\r\n                \r\n                <p *ngIf=\"accountId != null\">Keep Account Number for your future Reference: <b>{{ accountId }}</b></p>\r\n                \r\n                <div class=\"text-center\">\r\n                    <button mat-raised-button class=\"Next\" (click)=\"close2()\">\r\n                        DONE\r\n                    </button>\r\n                </div>\r\n            </div> -->\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-loan-charge-details-summary',\r\n  templateUrl: './loan-charge-details-summary.component.html',\r\n  styleUrls: ['./loan-charge-details-summary.component.scss']\r\n})\r\nexport class LoanChargeDetailsSummaryComponent implements OnInit {\r\n\r\n  form1: Boolean;\r\n  form2: Boolean;\r\n\r\n  chargeFormIT: FormGroup;\r\n  savingForm: FormGroup;\r\n  accountId: any;\r\n // accountType: any;\r\n  resp: { intrestType: string; amout: string; waiver: string; }[];\r\n  loanAccountId: any;\r\n  accountType: String = \"Home Loan\";\r\n  loanInfo: any;\r\n\r\n  constructor(private snack: MatSnackBar, private dialogRef: MatDialogRef<LoanChargeDetailsSummaryComponent>, private ls: LocalStoreService, private api: ApiService, private router: Router, private formBuilder: FormBuilder) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanAccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    this.chargeFormIT = this.formBuilder.group({\r\n      chargeIT: new FormArray([]),\r\n    });\r\n  //   this.resp=[{\"intrestType\": \"IT Charge\",\r\n  //   \"amount\":\"$120\",\"waiver\":\"Yes\"},\r\n  //   {\"intrestType\": \"Handling Charge\",\r\n  //   \"amount\":\"$100\",\"waiver\":'Yes'},\r\n   \r\n  // ]\r\n  \r\n  //   this.onChangeInterest(this.resp.length);\r\n  //   this.in.patchValue(this.resp);\r\n\r\n\r\n\r\n    this.api.getFlexcubeDetails(\"chargeDetails\", this.accountType)\r\n    .subscribe((response) => {\r\n      this.onChangeInterest(response.length);\r\n      this.in.patchValue(response);\r\n    });\r\nsetTimeout(() => {\r\n  this.api.loanCahrgeFetchById(this.loanAccountId).subscribe((resp) => {\r\n    console.log(\"resp from backend \", this.resp);\r\n    this.resp = resp;\r\n    this.onChangeInterest(this.resp.length);\r\n    this.in.patchValue(this.resp);\r\n  });\r\n}, 10);\r\n  \r\n\r\n  }\r\n \r\n\r\n  onChangeInterest(e) {\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [''],\r\n            amout: [''],\r\n            waiver: [false],\r\n            accountId: [''],\r\n            createdDate: [''],\r\n            craetedBy: [''],\r\n            lastModifiedDate: [''],\r\n            lastModifiedBy: ['']\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n \r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.chargeFormIT.controls;\r\n  }\r\n  get in() {\r\n    return this.f.chargeIT as FormArray;\r\n  }\r\n  \r\n\r\n  goBack() {\r\n    this.router.navigate([\"/home/application/enrichment/list\"]);\r\n  }\r\n\r\n  onSubmit(form) {\r\n    \r\n\r\n    \r\n\r\n  }\r\n  edit() {\r\n    this.dialogRef.close();\r\n    this.router.navigate([`/loan/account/application-enrichment/charge-details`]);\r\n  }\r\n\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open)\r\n      this.snack.open('charge detail is empty', 'Error', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    }\r\n  }\r\n \r\n  _keyPress(event: any) {\r\n    const pattern = /[a-zA-Z]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n  \r\n}\r\n\r\n\r\n","<mat-card class=\"matCard\">\r\n  <button mat-button id=\"close\" mat-dialog-close>\r\n    <mat-icon class=\"closeicon\">close</mat-icon>\r\n  </button>\r\n  <div class=\"spanDiv1\">\r\n    <span class=\"paraFont\">Charge Details Summary\r\n\r\n    </span>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"main\">\r\n    <div fxFlex=\"100\">\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n      <div class=\"mt-24\"></div>\r\n      <form *ngIf=\"chargeFormIT\" [formGroup]=\"chargeFormIT\">\r\n        <table class=\"cart-table default-bg mat-elevation-z0\">\r\n          <tbody>\r\n            <tr class=\"mt-4\" *ngFor=\"let chargeIT of in.controls; let i = index\" class=\"chargeTable\">\r\n              <div class=\"row\" class=\"chargeLeft\">\r\n                <ng-container [formGroup]=\"chargeIT\">\r\n                  <div class=\"heading\">\r\n                    <input matInput formControlName=\"intrestType\" name=\"account_branch\" id=\"headingInput\" readonly />\r\n                  </div>\r\n                  <td>\r\n                    <mat-card class=\"matCardBox\">\r\n                      <mat-label class=\"label\">Amount</mat-label>\r\n                      <input matInput formControlName=\"amout\" name=\"account_branch\" class=\"input\" readonly />\r\n                    </mat-card>\r\n                  </td>\r\n                </ng-container>\r\n              </div>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <span class=\"spanDiv\" (click)=\"edit()\">Edit</span>\r\n</mat-card>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-underwriting-stage-summary',\r\n  templateUrl: './underwriting-stage-summary.component.html',\r\n  styleUrls: ['./underwriting-stage-summary.component.scss']\r\n})\r\nexport class UnderwritingStageSummaryComponent implements OnInit {\r\n  titleName = \"UnderWriting Stage\";\r\n  checkBook: any;\r\n  creditRatingValues: any;\r\n  ValuationDetailsValues: any;\r\n  opinionDetailsValue: any;\r\n  loanAccountId: any;\r\n  isApprovedSreen: any;\r\n  loanAccountID: any;\r\n  loanInfo: any;\r\n  constructor(private router:Router,private api:ApiService,private ls: LocalStoreService) { }\r\n  \r\n  \r\n    customerDetails: [{\r\n      agency: 'ab',\r\n      ratings: '60',\r\n      remarks: 'This is a credit rating details'\r\n    },{\r\n      agency: 'cd',\r\n      ratings: '80',\r\n      remarks: 'This is a credit rating details'\r\n    }]\r\n\r\n  ngOnInit(): void {\r\n    this.loanAccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanAccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    this.api.getApprovedStatus().subscribe((resp)=>{\r\n      console.log(\"message\",resp);\r\n      this.isApprovedSreen=resp;\r\n \r\n    })\r\n    this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    setTimeout(() => {\r\n      this.getunderwritingStageSummaryDetails(this.loanAccountId);\r\n      this.gettingCreditRatingDetail();\r\n    }, 10);\r\n   \r\n    \r\n  }\r\n  getunderwritingStageSummaryDetails(loanAccountId: any) {\r\n    this.api.gettingUnderWritingSummary(this.loanAccountId)\r\n      .subscribe((summaryInfo: any) => {\r\n       console.log(summaryInfo);\r\n      //  this.creditRatingValues=summaryInfo.creditRatingInfo;\r\n      //  console.log(this.creditRatingValues);\r\n       this.ValuationDetailsValues=summaryInfo.valuationOfAssetInfo;\r\n       console.log(this.ValuationDetailsValues)\r\n       this.opinionDetailsValue=summaryInfo.legalOpinionInfo;\r\n       console.log(this.opinionDetailsValue);\r\n      //  this.buildCollateralForm(resp,true);\r\n      });\r\n  }\r\n  gettingCreditRatingDetail() {\r\n    this.api.gettingCreditRatingDetails(this.loanAccountID)\r\n      .subscribe((creditDetails: any) => {\r\n       console.log(creditDetails);\r\n       this.creditRatingValues=creditDetails;\r\n      //  this.buildCollateralForm(resp,true);\r\n      });\r\n  }\r\n \r\n  \r\n  goBack() {\r\n    this.router.navigate([`/loan/account/list`]);\r\n  }\r\n\r\n\r\n  done() {\r\n    this.router.navigate([`/loan/account/list`]);\r\n  }\r\n\r\n  \r\n}\r\n","<div>\r\n    <img *ngIf=\"!isApprovedSreen\" class=\"entryImg\" src=\"assets/images/entry.png\" alt=\"\">\r\n    <h4 *ngIf=\"!isApprovedSreen\" class=\"para\">{{titleName}}</h4>\r\n     \r\n\r\n <!--Customer Information Details -->\r\n    <div class=\"full-width\">\r\n            <div class=\"fullcard\">\r\n                <div fxLayout=\"row\">\r\n                    <h4 class=\"paraFont\">Credit Rating Details</h4>\r\n                </div>\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n                    <div fxFlex=\"100%\">\r\n                        <mat-card class=\"chequecard\">\r\n                            <mat-card-content>\r\n                                <div class=\"full-width\" >\r\n                                        <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                    <ng-container>\r\n                                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                            <mat-hint class=\"headingText\">CustomerName</mat-hint>\r\n                                                            <br>\r\n                                                            <mat-hint class=\"valueText\">{{creditRatingValues.customerName}}</mat-hint>\r\n                                                        </div>\r\n                                                       \r\n                                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                            \r\n                                                            \r\n                                                        </div>\r\n                                                    </ng-container>\r\n                                                </div>\r\n                                        </div>\r\n                                </div>\r\n                            </mat-card-content>\r\n                        </mat-card>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"fullcard\">\r\n                <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n                    <div fxFlex=\"100%\">\r\n                        <mat-card class=\"chequecard\" *ngFor=\"let credit of creditRatingValues.agencyRating;let i=index\">\r\n                            <mat-card-content>\r\n                                <div class=\"full-width\" >\r\n                                        <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                    <ng-container>\r\n                                                      \r\n                                                        \r\n                                                        <div fxFlex fxFlex.xs=\"100%\" class=\"inputCardclass\">\r\n                                                                <mat-card class=\"inputCard\">\r\n                                                                    <mat-hint class=\"valueText\">Ratings</mat-hint><br>\r\n                                                                     <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                                                    <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                                        <ng-container>\r\n                                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                                <mat-hint class=\"headingText\">Agency</mat-hint><br>\r\n                                                                                <mat-hint class=\"valueText\">{{credit?.agencyName}}</mat-hint></div>\r\n                                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                                <mat-hint class=\"headingText\">Ratings</mat-hint><br>\r\n                                                                                <mat-hint class=\"valueText\">{{credit?.ratings}} </mat-hint>\r\n                                                                            </div>\r\n                                                                        </ng-container>\r\n                                                                    </div>\r\n                                                                    <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                                        <ng-container>\r\n                                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                                <mat-hint class=\"headingText\">Remarks</mat-hint><br>\r\n                                                                                <mat-hint class=\"valueText\">{{credit?.remarks}}</mat-hint></div>\r\n                                                                           \r\n                                                                        </ng-container>\r\n                                                                    </div>\r\n                                                                    </div>\r\n                                                            </mat-card>\r\n                                                        </div>\r\n                                                    </ng-container>\r\n                                                </div>        \r\n                                        </div>\r\n                                </div>\r\n                            </mat-card-content>\r\n                        </mat-card>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    \r\n<br>\r\n\r\n<!-- Account Service Details -->\r\n\r\n<div class=\"full-width\">\r\n        <div class=\"fullcard\">\r\n            <div fxLayout=\"row\">\r\n                <h4 class=\"paraFont\">Valuation Details</h4>\r\n            </div>\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n                <div fxFlex=\"100%\">\r\n                    <mat-card class=\"chequecard\">\r\n                        <mat-card-content>\r\n                            <div class=\"full-width\" >\r\n                                    <div fxLayout=\"column\" fxLayoutGap=\"4%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\" >\r\n                                                <ng-container>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Bank Valuation</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{ValuationDetailsValues.bankValuation}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Asset Type </mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\" >\r\n                                                            {{ValuationDetailsValues.assetType}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Property Area </mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\" >\r\n                                                            {{ValuationDetailsValues.propertyAreaInUnits}} {{ValuationDetailsValues.propertyAreaSize}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                </ng-container>\r\n                                            </div>\r\n                                      \r\n                                        <div>\r\n                                            <span layout=\"row\">\r\n                                                <hr class=\"line\" flex />\r\n                                            </span>\r\n                                        </div>\r\n                                     \r\n                                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                <ng-container>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Borrowers Market Value of Asset</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{ValuationDetailsValues.borrowersMktValOfAsset}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Asset Valuer </mat-hint>\r\n                                                       <br>\r\n                                                        <mat-hint class=\"valueText\">{{ValuationDetailsValues.assetValue}}</mat-hint>\r\n                                                          \r\n                                                    </div>\r\n                                                 \r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Valuation Date </mat-hint>\r\n                                                       <br>\r\n                                                        <mat-hint class=\"valueText\">{{ValuationDetailsValues.valuationDate | date}}</mat-hint>\r\n                                                          \r\n                                                    </div>\r\n                                                </ng-container>\r\n                                            </div>\r\n                                            <div>\r\n                                                <span layout=\"row\">\r\n                                                    <hr class=\"line\" flex />\r\n                                                </span>\r\n                                            </div>\r\n                                            \r\n                                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                <ng-container>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Actual Area of the Property</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{ValuationDetailsValues.actualPropertyAreaInUnits}} {{ValuationDetailsValues.actualPropertyAreaSize}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Face Value Of Asset</mat-hint>\r\n                                                       <br>\r\n                                                        <mat-hint class=\"valueText\">{{ValuationDetailsValues.faceValOfAsset}}</mat-hint>\r\n                                                          \r\n                                                    </div>\r\n                                                 \r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Market Value Of Asset </mat-hint>\r\n                                                       <br>\r\n                                                        <mat-hint class=\"valueText\">{{ValuationDetailsValues.mktValOfAsset}}</mat-hint>\r\n                                                          \r\n                                                    </div>\r\n                                                </ng-container>\r\n                                            </div>\r\n                                            <div>\r\n                                                <span layout=\"row\">\r\n                                                    <hr class=\"line\" flex />\r\n                                                </span>\r\n                                            </div>\r\n                                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                <ng-container>\r\n                                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Forced Sale Value</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">\r\n                                                            {{ValuationDetailsValues.forcedSaleValue}}\r\n                                                        </mat-hint>\r\n                                                    </div>\r\n                                                    \r\n                                                </ng-container>\r\n                                            </div>\r\n                                    </div>\r\n                            </div>\r\n                        </mat-card-content>\r\n                    </mat-card>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n<br>\r\n<!-- Legal Opinion -->\r\n<div class=\"full-width\">\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\">\r\n            <h4 class=\"paraFont\">Legal Opinion</h4>\r\n        </div>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\">\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\" >\r\n                                <div fxLayout=\"column\" fxLayoutGap=\"4%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                        <div fxLayout=\"row wrap\" class=\"flex-container stretch\" >\r\n                                            <ng-container>\r\n                                                <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                    <mat-hint class=\"headingText\">Opinion</mat-hint>\r\n                                                    <br>\r\n                                                    <mat-hint class=\"valueText\">{{opinionDetailsValue.opinion}}</mat-hint>\r\n                                                </div>\r\n                                                <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                    <mat-hint class=\"headingText\">Asset Area</mat-hint>\r\n                                                    <br>\r\n                                                    <mat-hint class=\"valueText\" >\r\n                                                        {{opinionDetailsValue.assetAreaInUnits}} {{opinionDetailsValue.assetAreaSize}}\r\n                                                    </mat-hint>\r\n                                                </div>\r\n                                                <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                    <mat-hint class=\"headingText\">Market Value of Asset</mat-hint>\r\n                                                    <br>\r\n                                                    <mat-hint class=\"valueText\" >\r\n                                                        {{opinionDetailsValue.mktValOfAsset}}\r\n                                                    </mat-hint>\r\n                                                </div>\r\n                                            </ng-container>\r\n                                        </div>\r\n                                  \r\n                                    <div>\r\n                                        <span layout=\"row\">\r\n                                            <hr class=\"line\" flex />\r\n                                        </span>\r\n                                    </div>\r\n                                 \r\n                                        <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                            <ng-container>\r\n                                                <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                    <mat-hint class=\"headingText\">Lawyer Name </mat-hint>\r\n                                                    <br>\r\n                                                    <mat-hint class=\"valueText\" >\r\n                                                        {{opinionDetailsValue.lawyerName}}\r\n                                                    </mat-hint>\r\n                                                </div>\r\n                                                <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                    <mat-hint class=\"headingText\">Opinion Date</mat-hint>\r\n                                                   <br>\r\n                                                    <mat-hint class=\"valueText\">{{opinionDetailsValue.opinionDate | date}}\r\n                                                        </mat-hint>\r\n                                                </div>\r\n                                                <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                    <mat-hint class=\"headingText\">Valuation Date</mat-hint>\r\n                                                   <br>\r\n                                                    <mat-hint class=\"valueText\">{{opinionDetailsValue.valuationDate | date}}\r\n                                                        </mat-hint>\r\n                                                </div>\r\n                                            </ng-container>\r\n                                        </div>\r\n                                        <div>\r\n                                            <span layout=\"row\">\r\n                                                <hr class=\"line\" flex />\r\n                                            </span>\r\n                                        </div>\r\n                                        <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                            <ng-container>\r\n                                                <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                    <mat-hint class=\"headingText\">Description</mat-hint>\r\n                                                    <br>\r\n                                                    <mat-hint class=\"valueText\" >\r\n                                                        {{opinionDetailsValue.description}}\r\n                                                    </mat-hint>\r\n                                                </div>\r\n                                               \r\n                                                <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                    <mat-hint class=\"headingText\">Decision Favorable ?</mat-hint>\r\n                                                    <br><div class=\"toggle\">\r\n                                                    <mat-slide-toggle disabled\r\n                                                    checked=\"opinionDetailsValue.isDecisionFavorable\">\r\n                                                </mat-slide-toggle></div>\r\n                                                </div>\r\n                                                \r\n                                            </ng-container>\r\n                                        </div>\r\n                                </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div >\r\n    \r\n    <div *ngIf=\"!isApprovedSreen\"\r\n    fxLayout=\"row\"\r\n    fxLayoutAlign=\"space-between center\"\r\n    fxLayoutGap=\"16px\"\r\n    class=\"mt-32\"\r\n  >\r\n    <button mat-button rounded color=\"primary\" (click)=\"goBack()\">\r\n      Back\r\n    </button>\r\n    <button\r\n      mat-raised-button\r\n      color=\"primary\"\r\n      (click)=\"done()\"\r\n    >\r\n      Done\r\n    </button>\r\n  </div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-loan-disbursement',\r\n  templateUrl: './loan-disbursement.component.html',\r\n  styleUrls: ['./loan-disbursement.component.scss']\r\n})\r\nexport class LoanDisbursementComponent implements OnInit {\r\n  loanDisbursementForm:FormGroup;\r\n\r\n  constructor(private fb:FormBuilder) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildformGroup();\r\n  }\r\n\r\n  buildformGroup(){\r\n    this.loanDisbursementForm = this.fb.group({\r\n      id:[''],\r\n      loan_amount:[''],\r\n      first_disbursement_date:[''],\r\n      disbursement_mode:[''],\r\n      branch_code:[''],\r\n      disbursement_frequency:[''],\r\n      customer_account:['']\r\n    })\r\n  }\r\n\r\n}\r\n","\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/Group 673.svg\" alt=\"\" class=\"w-80\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Loan Disbursement Details</b></div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0\">\r\n        <mat-card-title class=\"\">\r\n          <div class=\"card-title-text\">Loan Disbursement Details</div>\r\n          <mat-divider></mat-divider>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n          <form *ngIf=\"loanDisbursementForm\" [formGroup]=\"loanDisbursementForm\">\r\n\r\n                 <div fxLayout=\"row\" fxLayoutGap=\"30px\" fxLayoutAlign=\"start center\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Loan Amount*</mat-label>\r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"$2,000,000\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>First Disbursement Date*</mat-label>\r\n                                <input matInput name=\"date\" \r\n                                  placeholder=\"12/03/2020\" [matDatepicker]=\"appDatepicker1\"/>\r\n                                <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                            </mat-form-field>\r\n                              <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Disbursement Mode</mat-label>\r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"Internal Account\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Branch Code</mat-label>\r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"009\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                        </div>\r\n                          \r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Disbursement Frequency*</mat-label>\r\n                                 <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"Monthly\"\r\n                                />\r\n                              </mat-form-field> \r\n                            </div>\r\n                            \r\n                                <a style=\"color:rgb(0, 153, 255);\"><u> Disbursement Schedule</u></a>\r\n                            \r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Customer Account</mat-label>\r\n                                    <input\r\n                                      matInput\r\n                                      name=\"a_sig\"\r\n                                      placeholder=\"1940048000\"\r\n                                    />\r\n                                  </mat-form-field> \r\n                            </div>\r\n      \r\n                        </div>\r\n                </div>\r\n\r\n                \r\n                <div\r\n                fxLayout=\"row\"\r\n                fxLayoutAlign=\"space-between center\"\r\n                fxLayoutGap=\"16px\"\r\n                class=\"mt-32\"\r\n              >\r\n                <button mat-button rounded color=\"primary\">\r\n                  Back\r\n                </button>\r\n                <button\r\n                  mat-raised-button\r\n                  color=\"primary\"\r\n                >\r\n                Next\r\n                </button>\r\n              </div>\r\n         \r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n  \r\n    </div>\r\n  </div>\r\n  \r\n  \r\n  \r\n  \r\n\r\n","\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-credit-rating-details',\r\n  templateUrl: './credit-rating-details.component.html',\r\n  styleUrls: ['./credit-rating-details.component.scss']\r\n})\r\nexport class CreditRatingDetailsComponent implements OnInit {\r\n  creditDetails: FormGroup;\r\n  agencyRating:  any[] = [];\r\n accountId: any;\r\n agencyId:any;\r\n  agencyArr:any[]=[ 'riyan', 'john daey','joo'];\r\n  customerArr:any[]=[ 'Jo Smith', 'David','Chris'];\r\n  rating: any;\r\n  loanAccountId:any;\r\n  showEditOption: boolean = false;\r\n  accountDetails: any;\r\n  loanInfo: any;\r\n\r\n  constructor(private formBuilder: FormBuilder,private loader: AppLoaderService,\r\n    private apiService:ApiService, private snack: MatSnackBar, \r\n    private ls: \r\n    LocalStoreService,\r\n    private router: Router) {\r\n      this.creditDetails = this.formBuilder.group({\r\n        \r\n        agencyName: ['',[Validators.required]],\r\n        ratings: ['',[Validators.required]],\r\n        remarks: ['',[Validators.required]],\r\n        \r\n      })\r\n     }\r\n\r\n  ngOnInit(): void {\r\n    this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    console.log(\"this.accountId \",this.accountId);\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    if(this.loanInfo){\r\n      this.loanAccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    //this.productaccountID = this.ls.getItem('accountId');\r\n    let isCreditRateScreen: boolean = JSON.parse(this.ls.getItem('CreditRatingDetails'));\r\n    //if (this.loanAccountId != null && isCreditRateScreen) {\r\n      setTimeout(() => {\r\n        if (this.loanAccountId != null && isCreditRateScreen) {\r\n          this.showEditOption = true;\r\n         // this.cifNumberPrimary = this.ls.getItem(\"CIF_NUM_PRIMARY\");\r\n          //this.isCifValid = true;\r\n          this.getAccountDetails();\r\n        } else {\r\n          console.log(\"else\");\r\n          this.showEditOption = false;\r\n          this.buildAccountForm();\r\n        }\r\n      }, 10);\r\n \r\n  }\r\n  getAccountDetails(){\r\n    this.loader.open();\r\n    //this.apiService.getCreditRating(this.loanAccountId).subscribe((accountDetails) => {\r\n      this.apiService.getCreditRating(this.loanAccountId).subscribe((accountDetails) => {\r\n      this.loader.close();\r\n      this.accountDetails = accountDetails;\r\n      console.log(this.accountDetails);\r\n      this.buildAccountForm(this.accountDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n\r\n\r\n  }\r\n  buildAccountForm(data?){\r\n    this.creditDetails = this.formBuilder.group({\r\n      \r\n      customerName: [data ? this.ls.getItem('NAME') : ''],\r\n      agencyName: [data ? data.agencyName : '', Validators.required],\r\n      ratings: [data ? data.ratings : '', Validators.required],\r\n     remarks: [data ? data.remarks : '', Validators.required],\r\n      \r\n    });\r\n\r\n  }\r\n\r\n  submit(){\r\n    this.next();\r\n  }\r\n  next(){\r\n    //let details:  any[] = [];\r\n    this.agencyRating.push(this.creditDetails.value);\r\n    console.log(\"addbranch::\",this.agencyRating);\r\n    let payload={\r\n      agencyRating: this.agencyRating,\r\n      loanAccountId:this.loanAccountId\r\n      //loanAccountId:this.loanAccountId\r\n\r\n    }\r\n    this.apiService.UpdateCreditRating(payload).subscribe(response => {\r\n      console.log(response);\r\n      if (response === 200 || response !== null) {\r\n        this.snack.open('  Credit Rating  Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.ls.setItem('CreditRatingDetails', true);\r\n        //this.accountService.refresh.next();\r\n        this.router.navigate([\"/loan/account/list/offer-issue/valuation-asset\"]);\r\n      }\r\n      else if (response === 500) {\r\n        this.snack.open('Not able to connect to server!', 'INTERNAL SERVER ERROR', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      }\r\n    }, err => {\r\n      console.log(err);\r\n    });\r\n    console.log(\"payload\",payload);\r\n\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n}\r\n","<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n          <img src=\"assets/images/svg/Group 673.svg\" alt=\"\" class=\"w-80\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n          <div class=\"main-title\"><b>Credit Rating Details</b></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div  fxLayout=\"column\">\r\n    <form fxLayout=\"column\"  [formGroup]=\"creditDetails\" >\r\n        <div  fxFlex=\"100\">\r\n            <mat-card class=\"p-0\" style=\"border-radius: 30px; margin-right: 1.5cm;\">\r\n                \r\n                <mat-card-title >\r\n                    <div class=\"card-title-text\" >Credit Rating Details<mat-divider></mat-divider></div>\r\n                </mat-card-title>\r\n        \r\n                <mat-card-content>\r\n                    \r\n                        <div>\r\n                            <div fxFlex=\"40%\" class=\"form-group\">\r\n                                <label  class=\"hint\">Customer Name* </label>\r\n                                <mat-card class=\"inputMatName\">\r\n                                    <mat-select disableOptionCentering class=\"alignment\">\r\n                                        <mat-option disabled>select---</mat-option>\r\n                                        <mat-option *ngFor=\"let customerName of customerArr\" value=\"customerName\" >\r\n                                           {{customerName}}\r\n                                        </mat-option>\r\n                                    </mat-select>\r\n                                   \r\n                                </mat-card>\r\n                                <!--<mat-error\r\n                                        *ngIf=\"creditDetails.get('customerName').touched && !creditDetails.get('customerName').valid\">\r\n                                        <small>Please select Customer Name!</small> \r\n                                    </mat-error>-->\r\n            \r\n                            </div><br><br>\r\n                            \r\n                        </div>\r\n                        \r\n                        <div class=\"form-group\">\r\n                            \r\n                             <mat-expansion-panel style=\"border: 1px solid #456EFE;\" class=\"mb-8\" expanded=\"true\">\r\n                                 <mat-expansion-panel-header style=\"border: 1px solid #456EFE;\" >\r\n                                     <mat-panel-title>Ratings </mat-panel-title>\r\n                                   </mat-expansion-panel-header>\r\n                                   <div>\r\n                                    <div fxFlex=\"100\" fxLayoutGap=\"10px\">\r\n                                        <div fxLayout=\"row\" fxLayoutGap=\"10px\">\r\n                                            <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                                                <label  class=\"hint\">Select Agency* </label>\r\n                                              <mat-card class=\"inputMatName\">\r\n                                                    <mat-select formControlName=\"agencyName\" class=\"alignment\" disableOptionCentering>\r\n                                                        <mat-option disabled>select---</mat-option>\r\n                                                        <mat-option value=\"agencyName\" *ngFor=\"let agencyName of agencyArr\" >\r\n                                                           {{agencyName}}\r\n                                                        </mat-option>\r\n                                                    </mat-select>\r\n                                                   \r\n                                                </mat-card>\r\n                                                <mat-error\r\n                                                *ngIf=\"creditDetails.get('agencyName').touched && !creditDetails.get('agencyName').valid\">\r\n                                                <small>Please select Agency!</small> \r\n                                            </mat-error>\r\n\r\n                                                \r\n                                            </div>\r\n                                            <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                                                <label  class=\"hint\">Ratings* </label>\r\n                                                <mat-card class=\"inputMatName\">\r\n                                                    <input matInput maxlength=\"3\" \r\n                                                    (keypress)=\"_keyPress($event)\"  class=\"alignment\" type=\"text\" name=\"ratings\"\r\n                                                    formControlName=\"ratings\" />\r\n                                                  </mat-card>\r\n                                                  <mat-error\r\n                                                *ngIf=\"creditDetails.get('ratings').touched && !creditDetails.get('ratings').valid\">\r\n                                                <small>Please enter Ratings!</small> \r\n                                            </mat-error>\r\n                                                \r\n                                            </div>\r\n                                           \r\n                                        </div>\r\n                                        <div fxLayoutGap=\"10px\">\r\n                                            <div fxFlex=\"40%\" class=\"form-group\">\r\n                                                <mat-label  class=\"hint\">Remarks</mat-label>\r\n                                                <mat-form-field  class=\"full-width\">\r\n                                                    \r\n                                                    <textarea matInput  formControlName=\"remarks\"></textarea>\r\n                                                    \r\n                                                  </mat-form-field>\r\n                                                \r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                   </div>\r\n                             </mat-expansion-panel>\r\n                             \r\n                         </div>\r\n                        \r\n                    \r\n                </mat-card-content>\r\n                \r\n            </mat-card>\r\n        </div>\r\n        <div class=\"button\">\r\n            <!-- -->\r\n            <button mat-button class=\"Back\"  >Back</button>\r\n            <button mat-stroked-button class=\"Next\" [disabled]=\"!creditDetails.valid\"\r\n            (click)=\"submit()\">Next</button>\r\n        </div>\r\n    </form>\r\n</div>\r\n    \r\n  \r\n","import { DatePipe } from \"@angular/common\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { AccountService } from \"../../account.service\";\r\n\r\n@Component({\r\n  selector: \"app-account-services\",\r\n  templateUrl: \"./account-services.component.html\",\r\n  styleUrls: [\"./account-services.component.scss\"],\r\n})\r\nexport class AccountServicesComponent implements OnInit {\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  lastData:any;\r\n  flag1: boolean=false;\r\n  flag2: boolean=false;\r\n  flag3: boolean=false;\r\n  flag4: boolean=false;\r\n  flag5: boolean=false;\r\n  flag6: boolean=false;\r\n  statementPreferencesForm: FormGroup;\r\n  holidayPreferenceForm: FormGroup;\r\n  maturityForm: FormGroup;\r\n  revisionForm: FormGroup;\r\n  loanaccountID: any;\r\n  loanInfo: any; \r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    public datepipe: DatePipe,\r\n    public api: ApiService,\r\n    private apiService: ApiService,\r\n    private snack: MatSnackBar,\r\n    private router:Router,\r\n    private ls: LocalStoreService,\r\n    private accountService: AccountService,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    this.buildAccountForm();\r\n    this.lastUpdateByCif();\r\n    setTimeout(() => {\r\n      \r\n      this.api.AccountServicesFetchById(this.loanaccountID).subscribe((resp) => {\r\n        console.log(\"resp from backend \", resp);\r\n        // if (resp) {\r\n          this.buildStatmentPreferenceForm(resp);\r\n          resp.serviceDetails.find((obj) => obj.serviceName === \"Maturity\");\r\n          this.buildMaturityForm(\r\n            resp.serviceDetails.find((obj) => obj.serviceName === \"Maturity\")\r\n          );\r\n          this.buildRevisionForm(\r\n            resp.serviceDetails.find((obj) => obj.serviceName === \"Revision\")\r\n          );\r\n          this.buildHolidayForm(\r\n            resp.serviceDetails.find(\r\n              (obj) => obj.serviceName === \"Holiday Preference\"\r\n            )\r\n          );\r\n        // }\r\n      });\r\n    }, 10);\r\n   \r\n  }\r\n\r\n  buildAccountForm() {\r\n    this.statementPreferencesForm = this.formBuilder.group({\r\n      // requiredDisbursement: [true],\r\n      statementCycle: [\"\", Validators.required],\r\n      statementType: [\"\", Validators.required],\r\n      statementGeneration:[\"\",Validators.required],\r\n      startDate: [\"\", Validators.compose([ Validators.required, Validators.min(this.lastData)])],\r\n      accServiceId: [],\r\n      loanAccountId: [this.loanaccountID],\r\n      // firstDisburmentDate:['',Validators.required],\r\n      // disbursementMode:['',Validators.required],\r\n    });\r\n    this.holidayPreferenceForm = this.formBuilder.group({\r\n      ignoreHolidays: [true],\r\n      holidayCheck: [\"\", Validators.required],\r\n      moveAcrossMonth: [\"\", Validators.required],\r\n      cascadeSchedules: [\"\", Validators.required],\r\n      accServiceDetailsId: [\"\"],\r\n      accountServiceId: [\"\"],\r\n      serviceName: [\"Holiday Preference\"],\r\n    });\r\n    this.maturityForm = this.formBuilder.group({\r\n      ignoreHolidays: [true],\r\n      holidayCheck: [\"\", Validators.required],\r\n      moveAcrossMonth: [\"\", Validators.required],\r\n      cascadeSchedules: [\"\", Validators.required],\r\n      accServiceDetailsId: [\"\"],\r\n      accountServiceId: [\"\"],\r\n      serviceName: [\"Maturity\"],\r\n    });\r\n    this.revisionForm = this.formBuilder.group({\r\n      ignoreHolidays: [true],\r\n      holidayCheck: [\"\", Validators.required],\r\n      moveAcrossMonth: [\"\", Validators.required],\r\n      cascadeSchedules: [\"\", Validators.required],\r\n      accServiceDetailsId: [\"\"],\r\n      accountServiceId: [\"\"],\r\n      serviceName: [\"Revision\"],\r\n    });\r\n  }\r\n  goBack() {\r\n   this.router.navigate([\r\n      `/loan/account/application-enrichment`,\r\n    ]);\r\n  }\r\n  clickToggle1(){\r\n    this.flag1=!this.flag1;\r\n  }\r\n  clickToggle2(){\r\n    this.flag2=!this.flag2;\r\n  }clickToggle3(){\r\n    this.flag3=!this.flag3;\r\n  }\r\n  clickToggle4(){\r\n    this.flag4=!this.flag4;\r\n  }\r\n   clickToggle5(){\r\n    this.flag5=!this.flag5;\r\n  }\r\n   clickToggle6(){\r\n    this.flag6=!this.flag6;\r\n  }\r\n  buildMaturityForm(item) {\r\n    this.maturityForm = this.formBuilder.group({\r\n      ignoreHolidays: [item ? item.ignoreHolidays : true],\r\n      holidayCheck: [item ? item.holidayCheck : \"\", Validators.required],\r\n      moveAcrossMonth: [item ? item.moveAcrossMonth : \"\", Validators.required],\r\n      cascadeSchedules: [\r\n        item ? item.cascadeSchedules : true,\r\n        Validators.required,\r\n      ],\r\n      accServiceDetailsId: [item ? item.accServiceDetailsId : \"\"],\r\n      accountServiceId: [item ? item.accountServiceId : \"\"],\r\n      serviceName: [\"Maturity\"],\r\n    });\r\n  }\r\n  buildRevisionForm(item) {\r\n    this.revisionForm = this.formBuilder.group({\r\n      ignoreHolidays: [item ? item.ignoreHolidays : true],\r\n      holidayCheck: [item ? item.holidayCheck : \"\", Validators.required],\r\n      moveAcrossMonth: [item ? item.moveAcrossMonth : \"\", Validators.required],\r\n      cascadeSchedules: [\r\n        item ? item.cascadeSchedules : true,\r\n        Validators.required,\r\n      ],\r\n      accServiceDetailsId: [item ? item.accServiceDetailsId : \"\"],\r\n      accountServiceId: [item ? item.accountServiceId : \"\"],\r\n      serviceName: [\"Revision\"],\r\n    });\r\n  }\r\n  buildHolidayForm(item) {\r\n    this.holidayPreferenceForm = this.formBuilder.group({\r\n      ignoreHolidays: [item ? item.ignoreHolidays : true],\r\n      holidayCheck: [item ? item.holidayCheck : \"\", Validators.required],\r\n      moveAcrossMonth: [item ? item.moveAcrossMonth : \"\", Validators.required],\r\n      cascadeSchedules: [\r\n        item ? item.cascadeSchedules : true,\r\n        Validators.required,\r\n      ],\r\n      accServiceDetailsId: [item ? item.accServiceDetailsId : \"\"],\r\n      accountServiceId: [item ? item.accountServiceId : \"\"],\r\n      serviceName: [\"Holiday Preference\"],\r\n    });\r\n  }\r\n  buildStatmentPreferenceForm(item) {\r\n    let latest_date = new Date(item.startDate).toISOString().substring(0, 10);\r\n    this.statementPreferencesForm = this.formBuilder.group({\r\n      statementCycle: [item ? item.statementCycle : \"\", Validators.required],\r\n      statementType: [item ? item.statementType : \"\", Validators.required],\r\n      statementGeneration: [item ? item.statementGeneration : \"\", Validators.required],\r\n      startDate: [item ? latest_date : \"\", Validators.required],\r\n      accServiceId: [item ? item.accServiceId : \"\"],\r\n      loanAccountId: [this.loanaccountID],\r\n    });\r\n  }\r\n  submit() {\r\n    let obj_test: any = {};\r\n    obj_test.serviceDetails = [];\r\n    let latest_date = this.datepipe.transform(\r\n      this.statementPreferencesForm.value.startDate,\r\n      \"yyyy-MMM-dd\"\r\n    );\r\n    obj_test.statementCycle = this.statementPreferencesForm.value.statementCycle;\r\n    obj_test.statementType = this.statementPreferencesForm.value.statementType;\r\n    obj_test.statementGeneration = this.statementPreferencesForm.value.statementGeneration;\r\n    obj_test.startDate = latest_date;\r\n    (obj_test.accServiceId = this.statementPreferencesForm.value.accServiceId),\r\n      (obj_test.loanAccountId =\r\n        this.statementPreferencesForm.value.loanAccountId),\r\n      (obj_test.serviceDetails[0] = this.maturityForm.value);\r\n    obj_test.serviceDetails[1] = this.revisionForm.value;\r\n    obj_test.serviceDetails[2] = this.holidayPreferenceForm.value;\r\n    console.log(\"obj_test \", obj_test);\r\n    this.api.saveAccountService(obj_test).subscribe((resp) => {\r\n      console.log(\"resp \", resp);\r\n      this.snack.open(\"Account Services Saved!\", \"OK\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n      this.next();\r\n    },\r\n    (err) => {\r\n      this.snack.open(\r\n        \"Not able to connect to server!\",\r\n        \"INTERNAL SERVER ERROR\",\r\n        {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        }\r\n      );\r\n    });\r\n  }\r\n  lastUpdateByCif(){\r\n    this.apiService.getLoanDetails(this.loanaccountID).subscribe((resp:any)=>{\r\n     \r\n     this.lastData = this.datepipe.transform(resp.applicationDate,\"yyyy-MM-dd\");\r\n   \r\n    }, (err: any) => {\r\n      console.error(err);\r\n    })\r\n  }\r\n  next(){\r\n    this.ls.setItem('LOAN_ACCOUNT_SERVICES_DONE', true);\r\n    this.ls.setItem('LOAN_ENRICHMENT_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([\r\n      `/loan/account/list/underwritingStage`,\r\n    ]);\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img [src]=\"'assets/images/svg/accountService.svg'\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Account Services</b></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">          \r\n      <mat-card-title class=\"alignChange\">\r\n        <fieldset>\r\n        <legend visible=\"true\">Account Services</legend>\r\n        </fieldset>\r\n      </mat-card-title>           \r\n      <mat-card-title class=\"alignChange\">\r\n        <fieldset class=\"marginTop\">\r\n        <legend class=\"headingName\" visible=\"true\">Statement Preferences</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form [formGroup]=\"statementPreferencesForm\">\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Statement Cycle*</mat-label>\r\n                <!-- <mat-card class=\" inputMatName\" id=\"select\"> -->\r\n                  <mat-select placeholder=\"Statement Cycle\" name=\"statementCycle\" disableOptionCentering formControlName=\"statementCycle\">\r\n                    <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option value=\"Monthly\">Monthly</mat-option>\r\n                    <mat-option value=\"Quaterly\">Quaterly</mat-option>\r\n                    <mat-option value=\"Half-yearly\">Half-yearly</mat-option>\r\n                    <mat-option value=\"Yearly\">Yearly</mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error *ngIf=\"!statementPreferencesForm.get('statementCycle').valid && statementPreferencesForm.get('statementCycle').touched\">\r\n                  Statement Cycle is Required!</mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Statement Type*</mat-label>\r\n                <!-- <mat-card class=\"widthCard inputMatName\" id=\"select\"> -->\r\n                  <mat-select placeholder=\"Statement Type\" name=\"opinion\" formControlName=\"statementType\" disableOptionCentering>\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"Detailed\">Detailed</mat-option>\r\n                    <mat-option value=\"Summary\">Summary</mat-option>\r\n\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!statementPreferencesForm.get('statementType').valid && statementPreferencesForm.get('statementType').touched\">\r\n                  Statement Type is Required!</mat-error>\r\n                </mat-form-field>\r\n              </div>             \r\n            </div>           \r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n\r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Start Date*</mat-label>\r\n                <!-- <mat-card class=\" inputMatName1 dataChange\" id=\"select\"> -->\r\n                  <input placeholder=\"DD/MM/YYYY\" matInput name=\"valuationDate\" class=\"alignment\" [min]=\"lastData\"\r\n                    formControlName=\"startDate\" [matDatepicker]=\"appDatepicker\"/>\r\n                    <div fxFlex=\"8%\" id=\"toggle\" class=\"datechange\">\r\n                      <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                      <mat-datepicker #appDatepicker></mat-datepicker>\r\n                       </div>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!statementPreferencesForm.get('startDate').valid && statementPreferencesForm.get('startDate').touched\">\r\n                  Start Date is Required!</mat-error>\r\n                </mat-form-field>\r\n              </div>              \r\n            </div>   \r\n          </div>\r\n          <mat-card-title>\r\n            <fieldset class=\"alignChange\">\r\n            <legend class=\"headingName\" visible=\"true\">Statement Generation*</legend>\r\n            </fieldset>\r\n          </mat-card-title>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n          <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n           <div class=\"flex-grow-2\">            \r\n             <div fxLayout=\"row wrap\">\r\n                 <div class=\"sqInput1\">\r\n            <mat-checkbox formControlName=\"statementGeneration\" color=\"primary\">&nbsp;Email </mat-checkbox>&nbsp;\r\n          </div>\r\n          <div class=\"sqInput1\">\r\n            <mat-checkbox formControlName=\"statementGeneration\" color=\"primary\">&nbsp;Mobile </mat-checkbox>&nbsp;\r\n          </div>\r\n          <div class=\"sqInput1\">\r\n            <mat-checkbox formControlName=\"statementGeneration\" color=\"primary\">&nbsp;Hard Copy </mat-checkbox>\r\n            </div>\r\n              </div>\r\n           </div>\r\n          </div>\r\n         </div>\r\n        </form>\r\n        </mat-card-content>\r\n        <!-- <div class=\"spanDiv1\">\r\n          <span class=\"span\">Holiday Preferences\r\n          </span>\r\n          <mat-divider class=\"divider marginL-0\"></mat-divider>\r\n        </div> -->   \r\n       \r\n        <mat-card-title class=\"alignChange\">\r\n          <fieldset class=\"marginTop\">\r\n          <legend class=\"headingName\" visible=\"true\">Holiday Preferences</legend>\r\n          </fieldset>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n        <form [formGroup]=\"holidayPreferenceForm\">\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\" class=\"toggle\">\r\n                <div fxFlex=\"100\" class=\"pr-1\">\r\n                  <div class=\"pb-1\">\r\n                    Ignore Holidays ??\r\n                    <mat-slide-toggle formControlName=\"ignoreHolidays\" class=\"charge\" name=\"ignoreHolidays\" (change)=\"clickToggle1()\"></mat-slide-toggle>\r\n                  </div><br>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"flex-grow-2\" *ngIf=\"flag1\">\r\n\r\n                <mat-hint>Move Across Month*</mat-hint>\r\n                <mat-card class=\"widthCard inputMatName\">\r\n                  <mat-select placeholder=\"Move Across Month\" name=\"moveAcrossMonth\" formControlName=\"moveAcrossMonth\" disableOptionCentering>\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"Yes\">Yes</mat-option>\r\n                    <mat-option value=\"No\">No</mat-option>\r\n                    \r\n                  </mat-select>\r\n                </mat-card>\r\n                <mat-error\r\n                  *ngIf=\"!holidayPreferenceForm.get('moveAcrossMonth').valid && holidayPreferenceForm.get('moveAcrossMonth').touched\">\r\n                  Move Across Month is Required!</mat-error>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n\r\n              <div class=\"flex-grow-2\"  *ngIf=\"flag1\">\r\n\r\n                <mat-hint>Holiday Check*</mat-hint>\r\n                <mat-card class=\"widthCard inputMatName\">\r\n                  <mat-select placeholder=\"Holiday Check\" name=\"holidayCheck\" formControlName=\"holidayCheck\" disableOptionCentering>\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"Currency\">Currency</mat-option>\r\n                    <mat-option value=\"Local\">Local</mat-option>\r\n                    <mat-option value=\"Clearing\">Clearing</mat-option>\r\n                  </mat-select>\r\n                </mat-card>\r\n                <mat-error\r\n                  *ngIf=\"!holidayPreferenceForm.get('holidayCheck').valid && holidayPreferenceForm.get('holidayCheck').touched\">\r\n                  Holiday Check is Required!</mat-error>\r\n              </div>\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\" class=\"toggle\">\r\n                <div fxFlex=\"100\" class=\"pr-1\">\r\n                  <div class=\"pb-1\">\r\n                    Cascade Schedules ?\r\n                    <mat-slide-toggle formControlName=\"cascadeSchedules\" class=\"charge\" (change)=\"clickToggle4()\"></mat-slide-toggle>\r\n                    <!-- <mat-slide-toggle formControlName=\"cascadeSchedules\"></mat-slide-toggle> -->\r\n                  </div><br>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n\r\n        <div class=\"pb-1\">\r\n          <mat-checkbox formControlName=\"isSameAsHolidayDate\" name=\"isSameAsHolidayDate\" color=\"primary\">&nbsp;Same as Holiday Date? </mat-checkbox>&nbsp;          \r\n          \r\n        </div>\r\n        </mat-card-content>\r\n        <!-- <div class=\"spanDiv1\">\r\n          <span class=\"span\">\r\n            Maturity Date\r\n          </span>\r\n          <mat-divider class=\"divider marginL-0\"></mat-divider>\r\n        </div> -->\r\n        <mat-card-title class=\"alignChange\">\r\n          <fieldset class=\"marginTop\">\r\n          <legend class=\"headingName\" visible=\"true\">Maturity Date</legend>\r\n          </fieldset>\r\n        </mat-card-title>       \r\n        <mat-card-content>\r\n        <form [formGroup]=\"maturityForm\">\r\n\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\" class=\"toggle\">\r\n                <div fxFlex=\"100\" class=\"pr-1\">\r\n                  <div class=\"pb-1\">\r\n                    Ignore Holidays ??\r\n                    <mat-slide-toggle formControlName=\"ignoreHolidays\" class=\"charge\" (change)=\"clickToggle2()\"></mat-slide-toggle>\r\n                  </div><br>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"flex-grow-2\" *ngIf=\"flag2\">\r\n\r\n                <mat-hint>Move Across Month*</mat-hint>\r\n                <mat-card class=\"widthCard inputMatName\">\r\n                  <mat-select placeholder=\"Move Across Month\" name=\"opinion\" formControlName=\"moveAcrossMonth\" disableOptionCentering>\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"Yes\">Yes</mat-option>\r\n                    <mat-option value=\"No\">No</mat-option>\r\n                    \r\n                  </mat-select>\r\n                </mat-card>\r\n                <mat-error\r\n                  *ngIf=\"!maturityForm.get('moveAcrossMonth').valid && maturityForm.get('moveAcrossMonth').touched\">\r\n                  Move Across Month is Required!</mat-error>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n\r\n              <div class=\"flex-grow-2\" *ngIf=\"flag2\">\r\n\r\n                <mat-hint>Holiday Check*</mat-hint>\r\n                <mat-card class=\"widthCard inputMatName\">\r\n                  <mat-select placeholder=\"Holiday Check\" name=\"opinion\" formControlName=\"holidayCheck\" disableOptionCentering>\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"Currency\">Currency</mat-option>\r\n                    <mat-option value=\"Local\">Local</mat-option>\r\n                    <mat-option value=\"Clearing\">Clearing</mat-option>\r\n                  </mat-select>\r\n                </mat-card>\r\n                <mat-error *ngIf=\"!maturityForm.get('holidayCheck').valid && maturityForm.get('holidayCheck').touched\">\r\n                  Holiday Check is Required!</mat-error>\r\n              </div>\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\" class=\"toggle\">\r\n                <div fxFlex=\"100\" class=\"pr-1\">\r\n                  <div class=\"pb-1\">\r\n                    Cascade Schedules ?\r\n                    <mat-slide-toggle formControlName=\"cascadeSchedules\" class=\"charge\" (change)=\"clickToggle5()\"></mat-slide-toggle>\r\n                    <!-- <mat-slide-toggle formControlName=\"cascadeSchedules\"></mat-slide-toggle> -->\r\n                  </div><br>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n\r\n        <div class=\"pb-1\">\r\n          <mat-checkbox formControlName=\"isSameAsRevisionSchedules\" color=\"primary\">&nbsp;Same as Revision Schedules? </mat-checkbox>&nbsp;\r\n        </div>\r\n        </mat-card-content>\r\n        <!-- <div class=\"spanDiv1\">\r\n          <span class=\"span\">\r\n            Revision Schedules\r\n          </span>\r\n          <mat-divider class=\"divider marginL-0\"></mat-divider>\r\n        </div> -->\r\n        <mat-card-title class=\"alignChange\">\r\n          <fieldset class=\"marginTop\">\r\n          <legend class=\"headingName\" visible=\"true\">Revision Schedules</legend>\r\n          </fieldset>\r\n        </mat-card-title>        \r\n        <mat-card-content>\r\n        <form [formGroup]=\"revisionForm\">\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\" class=\"toggle\">\r\n                <div fxFlex=\"100\" class=\"pr-1\">\r\n                  <div class=\"pb-1\">\r\n                    Ignore Holidays ??\r\n                    <mat-slide-toggle formControlName=\"ignoreHolidays\" class=\"charge\" (change)=\"clickToggle3()\"></mat-slide-toggle>\r\n                  </div><br>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"flex-grow-2\" *ngIf=\"flag3\">\r\n\r\n                <mat-hint>Move Across Month*</mat-hint>\r\n                <mat-card class=\"widthCard inputMatName\">\r\n                  <mat-select placeholder=\"Move Across Month\" name=\"opinion\" formControlName=\"moveAcrossMonth\" disableOptionCentering>\r\n                    <mat-option value=\"Yes\">Yes</mat-option>\r\n                    <mat-option value=\"No\">No</mat-option>\r\n                   \r\n                  </mat-select>\r\n                </mat-card>\r\n                <mat-error\r\n                  *ngIf=\"!revisionForm.get('moveAcrossMonth').valid && revisionForm.get('moveAcrossMonth').touched\">\r\n                  Move Across Month is Required!</mat-error>\r\n              </div>\r\n            </div>\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n              <div class=\"flex-grow-2\" *ngIf=\"flag3\">\r\n                <mat-hint>Holiday Check*</mat-hint>\r\n                <mat-card class=\"widthCard inputMatName\">\r\n                  <mat-select placeholder=\"Holiday Check\" name=\"opinion\" formControlName=\"holidayCheck\" disableOptionCentering>\r\n                    <mat-option value=\"Currency\">Currency</mat-option>\r\n                    <mat-option value=\"Local\">Local</mat-option>\r\n                    <mat-option value=\"Clearing\">Clearing</mat-option>\r\n                  </mat-select>\r\n                </mat-card>\r\n                <mat-error *ngIf=\"!revisionForm.get('holidayCheck').valid && revisionForm.get('holidayCheck').touched\">\r\n                  Holiday Check is Required!</mat-error>\r\n              </div>\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\" class=\"toggle\">\r\n                <div fxFlex=\"100\" class=\"pr-1\">\r\n                  <div class=\"pb-1\">\r\n                    Cascade Schedules ?\r\n                     <mat-slide-toggle formControlName=\"cascadeSchedules\" class=\"charge\" (change)=\"clickToggle6()\"></mat-slide-toggle>\r\n                    <!-- <mat-slide-toggle formControlName=\"cascadeSchedules\"></mat-slide-toggle> -->\r\n                  </div><br>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>        \r\n          \r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n      <button mat-button rounded class=\"Backbtn\"  (click)=\"goBack()\">Back</button>\r\n      <button mat-raised-button color=\"primary\" class=\"Nextbtn\" (click)=\"submit()\" [disabled]=\"!statementPreferencesForm.valid\">\r\n        Next\r\n      </button>\r\n      <!-- [disabled]=\"loanRepaymentForm.invalid\"  || isCifValid  -->\r\n    </div>\r\n  </div>\r\n</div>","import { ChangeDetectorRef, Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\n\r\nimport { DataService } from 'app/shared/services/data.service';\r\nimport { AppConfirmService } from 'app/shared/services/app-confirm/app-confirm.service';\r\nimport * as moment from 'moment';\r\nimport { Subscription } from 'rxjs';\r\nimport { MatProgressBar } from '@angular/material/progress-bar';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { UrlService } from 'app/views/home/url.service';\r\nimport { pairwise } from 'rxjs/operators';\r\nimport { AccountService } from '../../account.service';\r\nimport { type } from 'os';\r\n\r\n@Component({\r\n  selector: 'app-loan-assessment-details',\r\n  templateUrl: './loan-assessment-details.component.html',\r\n  styleUrls: ['./loan-assessment-details.component.scss']\r\n})\r\nexport class LoanAssessmentDetailsComponent implements OnInit {\r\n  @ViewChild(MatProgressBar) progressBar: MatProgressBar;\r\n  submitted = false;\r\n  loanAssessmentForm: FormGroup;\r\n  arraySystemRecommendation:any[]=['Approved','Rejected'];\r\n  arrayUserRecommendation:any[]=['Approved','Rejected'];\r\n  //arrayLoanAmountRecommendation:any[]=['Approved','Rejected'];\r\n   approvedLoanAmount: any;\r\n  loanaccountID: any;\r\n  showEditOption: boolean=false;\r\n  isAssessmentStageDone:any;\r\n  loanDetails: any;\r\n  requestedLoanAmount: any;\r\n  loanAmountRecommendation:any;\r\n  loanAccountId: any;\r\n  accountOwnershipForm:FormGroup;\r\n  applicantForms: FormGroup;\r\n  customerInfo: FormGroup;\r\n  customerInfo_array: FormArray;\r\n  accountOwnership:any;\r\n  arrayOwnership: string[];\r\n  arrrayResidence:any[]=[];\r\n  arrayCountry:any[]=[];\r\n  country:any;\r\n  arrayDocumentType:any[]=[];\r\n  doc:any;\r\n  arrayPrefix:any[]=[];\r\n  prefix:any;\r\n  arrayGender:any[]=[];\r\n  gender:any;\r\n  arrayResidence:any[]=[];\r\n  arrayCity:any[]=[];\r\n  city:any;\r\n  arrayAddressType:any[]=[];\r\n  addressType:any;\r\n  arrayState:any[]=[];\r\n  state:any;\r\n  entityName: string;\r\n  residence:any;\r\n  accountId: string;\r\n  customerInfoForm: FormGroup;\r\n  applicantDetails = [];\r\n  navSubscription: any;\r\n  isCifValid: boolean = false;\r\n  selectedApplicant: any = null;\r\n  listOfAccounts: any = [];\r\n  subscription: Subscription;\r\n  displayResponse: any;\r\n  cifNumberPrimary: any;\r\n  isAccountOpenScreen: boolean = false;\r\n  formData = {}\r\n  console = console;\r\n  data: any;\r\n // customerIdProofs: any = [];\r\n  applicantDetailsArray: any[] = [];\r\n  toggle: boolean = false;\r\n  customerDetails: any = {};\r\n  routeparams: any;\r\n  custInfo: string[];\r\n  tomorrow = new Date();\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  validDate= new Date();\r\n  showNewForm: boolean = true;\r\n  toggleClick: boolean = false;\r\n  existingCustomer: boolean;\r\n  productCustomerId: any;\r\n  previousUrl: string = '';\r\n  addFunc: boolean = true;\r\n  index: any;\r\n  removedButton: boolean = false;\r\n  cifNumber: any;\r\n  isAllSameDigitVal: boolean =false;\r\n  userAddress:any[];\r\n  address1:any;\r\n  address2:any;\r\n  zipCode: any;\r\n  accountDetails: any;\r\n  repaymentDetails: any;\r\n  loanTenure: any;\r\n  rate: any;\r\n  rateOfInterest:any;\r\n  estimatedCost:any;\r\n  flag: boolean;\r\n  approvedAmount: any;\r\n  loanInfo: any;\r\n  selectedDay: number = 1;\r\n // day: number;\r\n  days: any[] = [];\r\n  months: any[] = [];\r\n  selectedYear: number;\r\n // year: number;\r\n  years: any[] = [];\r\n  isInvalid: boolean=false;\r\n  reData: any;\r\n  loanData: any;\r\n \r\n \r\n\r\n  constructor( private formBuilder: FormBuilder,private route: ActivatedRoute, private router: Router, private ls:LocalStoreService,private dataService: DataService,\r\n    private loader: AppLoaderService,private accountService: AccountService,private confirmService: AppConfirmService,\r\n    private apiService:ApiService, private snack: MatSnackBar,private cdr: ChangeDetectorRef, \r\n    private appApiService: ApplicationEntryStageService,  private dialog: MatDialog, private elRef: ElementRef,private renderer: Renderer2,\r\n    private urlService: UrlService\r\n    ) {\r\n    this.loanAssessmentForm = this.formBuilder.group({\r\n      // loanAccountId:[''],\r\n      // loanAccountId:['61261',[Validators.required]],\r\n      rateOfInterest : [''],\r\n      requestedLoanAmount : [''],\r\n      loanTenure: [''],\r\n      approvedLoanAmount:['',[Validators.required]],\r\n      loanAmountRecommendation:['',[Validators.required]],\r\n      userRecommendation:[''],\r\n      systemRecommendation:[''],\r\n      day:['',[Validators.required]],\r\n      month:['',[Validators.required]],\r\n      year:['',[Validators.required]],\r\n      \r\n    })\r\n   }\r\n\r\n\r\n ngOnInit(): void {\r\n  this.selectedYear = new Date().getFullYear();\r\n  \r\n    for (let year = 0; year <= 50; year++) {\r\n      this.years.push(year+ \" year\");\r\n    }\r\n\r\n    for (let month = 0; month <= 11; month++) {\r\n      this.months.push(month+ \" month\");\r\n    }\r\n\r\n    for (let day = 0; day <= 30; day++) {\r\n      this.days.push(day+ \" day\");\r\n    }\r\n  this.accountId = this.ls.getItem('accountId');\r\n  let applicantId = this.route.snapshot.params['id'];\r\n\r\n  console.log(\"applicantId\", applicantId);\r\n  this.isAccountOpenScreen = JSON.parse(this.ls.getItem('ACC_OPEN_DONE'));\r\n  this.cifNumberPrimary =  this.ls.getItem(\"CIF_NUM_PRIMARY\");\r\n  console.log(\"check if\", this.accountId, this.isAccountOpenScreen);\r\n  this.loanaccountID = this.ls.getItem('loanAccountId');\r\n  this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n  console.log(this.loanInfo);\r\n  if(this.loanInfo){\r\n    this.loanAccountId = this.loanInfo.loanAccountId;\r\n  }\r\n  console.log(\"LOAN ACCOUNT ID:: \",this.loanaccountID);\r\n  let isAssessmentStageDone: boolean = JSON.parse(this.ls.getItem('LOAN_DETAIL_DONE'));\r\n  setTimeout(() => {\r\n    this.getListOfAccounts();\r\n    this.buildCustomerForm();\r\n    this.getAccountDetails();\r\n  }, 10);\r\n\r\n  //this.updateLoanAssessmentDetails();\r\n\r\n  if (this.accountId != null && this.isAssessmentStageDone) {\r\n   this.showEditOption = true;\r\n    this.approvedLoanAmount=this.accountDetails.approvedLoanAmount;\r\n  } else {\r\n    this.showEditOption = false;\r\n   \r\n    this.subscription = this.apiService.getaccParam.subscribe((data : any) => {\r\n      console.log(\"data::\",data);\r\n      sessionStorage.setItem('customerName', data.firstName + ' ' + data.lastName);\r\n      this.displayResponse = data;\r\n     \r\n      if (this.isObjectEmpty(this.displayResponse)){\r\n        if(this.listOfAccounts.length != 0){\r\n       //   this.fetchByCif(this.cifNumberPrimary,true);\r\n        }\r\n      }else{\r\n      //  this.populatePrimaryApplicant(data);\r\n      }\r\n    });\r\n  }\r\n\r\n\r\nthis.urlService.previousUrl$\r\n  .subscribe((previousUrl: string) => {\r\n    this.previousUrl = previousUrl\r\n  });\r\n\r\nthis.accountService.refresh.subscribe((res: any) => {\r\n  this.isAccountOpenScreen = JSON.parse(this.ls.getItem('ACC_OPEN_DONE'));\r\n  this.cdr.markForCheck();\r\n});\r\nthis.cifNumber=this.ls.getItem('CIF_NUM_PRIMARY');\r\nthis.console.log(\"cifNumber=\",this.cifNumber);\r\n  setTimeout(() => {\r\n    if (this.loanaccountID != null && isAssessmentStageDone) {\r\n      this.showEditOption = true;\r\n   \r\n      // this.getAccountDetails();\r\n    } \r\n    else {\r\n      console.log(\"else\");\r\n      this.showEditOption = false;\r\n      this.buildformGroup();\r\n      }\r\n      this.getAccountDetails();\r\n  }, 10);\r\n    \r\n    \r\n  }\r\n\r\n\r\n  createCustomerInfoDetail(item): FormGroup {\r\n    return this.formBuilder.group({\r\n      cifNumber: item ? item.cifNumber : [''],\r\n      prefix: item ? item.prefix : [''],\r\n      firstName: item ? item.firstName : [''],\r\n      middleName: item ? item.middleName : [''],\r\n      lastName: item ? item.lastName : [''],\r\n      gender: item ? item.gender : [''],\r\n      addressType: item ? item.addressType : [''],\r\n      building: item ? item.building : [''],\r\n      street: item ? item.street : [''],\r\n      locality: item ? item.locality : [''],\r\n      city: item ? item.city : [''],\r\n      state: item ? item.state : [''],\r\n      country: item ? item.country : [''],\r\n      pinCode: item ? item.pinCode : [''],\r\n      phoneNumber: item ? item.phoneNumber : [''],\r\n      mobileNumber: item ? item.mobileNumber : [''],\r\n      email: item ? item.email : [''],\r\n    })\r\n  }\r\n  getCustomerInformationDetails() {\r\n    this.apiService.getCustomerInformationDetailsById(this.accountId)\r\n      .subscribe((resp: any) => {\r\n        console.log(\"All Customer Details\", resp);\r\n        this.buildCustomerForm(resp);\r\n      }, (err: any) => {\r\n      });\r\n  }\r\n\r\n  buildCustomerForm(data?) {\r\n    this.applicantForms = this.formBuilder.group({\r\n      productAccountId: data ? data.productAccountId : this.accountId,\r\n      ownership: data ? data.ownership : 'Self',\r\n      numOfApplicants: data ? data.numOfApplicants : 1,\r\n      applicantDetails: this.addCustFormGroup()\r\n    });\r\n  }\r\n  isObjectEmpty(value) {\r\n    return (\r\n      Object.prototype.toString.call(value) === '[object Object]' &&\r\n      JSON.stringify(value) === '{}'\r\n    );\r\n  }\r\n\r\n\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n    if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  populatePrimaryApplicant(data: any) {\r\n    // this.getStateName(data.country);\r\n    // this.getCityName(data.state);\r\n    let applicantData = {\r\n      cifNumber:this.cifNumberPrimary,\r\n      prefix: data.prefix,\r\n      existingCustomer:true,\r\n      primaryCustomer:true,\r\n      customerId: data.customerId,\r\n      firstName: data.firstName,\r\n      middleName: data.middleName,\r\n      lastName: data.lastName,\r\n      gender: data.gender,\r\n      dateOfBirth: this.convertDate(data.dateOfBirth),\r\n      addressType: data.addressType,\r\n      address1: data.address1,\r\n      address2: data.address2,\r\n      city: data.city,\r\n      country: data.country,\r\n      state: data.state,\r\n      zipCode: data.zipCode,\r\n      phoneNumber: data.phoneNumber,\r\n      landlineNumber: data.landlineNumber,\r\n      primaryEmailAdress: data.primaryEmailAdress\r\n      \r\n    }\r\n    \r\n    this.applicant.patchValue(applicantData);\r\n  }\r\n\r\n  convertDate(value) {\r\n    let date = moment(value).format('YYYY-MM-DD'); // ISO 8601 format\r\n    // let date = new Date(value).format('yyyy-MMM-dd');\r\n    console.log(\"date\", date);\r\n    if (date)\r\n      return date;\r\n  }\r\n\r\n  \r\n  \r\n  getAccountDetails(){\r\n  //  this.loader.open();\r\n    //  this.loader.close();\r\n    console.log(\"LoanAccountId:\",this.loanaccountID)\r\n    this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe((accountDetails) => {\r\n    this.rateOfInterest=accountDetails.rateOfInterest;\r\n    this.loanTenure = accountDetails.loanTenure;     \r\n     var day = (this.loanTenure.split(\"-\")[2]);\r\n    console.log(day);    \r\n    var month = (this.loanTenure.split(\"-\")[1]);\r\n    console.log(month);\r\n    var year = (this.loanTenure.split(\"-\")[0]);\r\n    console.log(year);\r\n\r\n    // this.loanAmountRecommendation=accountDetails.loanAmountRecommendation;\r\n    console.log(\"LoanAccountId:\",accountDetails.loanAccountId)\r\n    console.log(\"rateofinterest:\",accountDetails.loanAmount)\r\n    console.log(\"loan tenure:\",accountDetails.loanTenure)\r\n      console.log(accountDetails);\r\n      this.buildformGroup(accountDetails);\r\n      if(this.approvedLoanAmount!=null)\r\n      {\r\n         this.updateLoanAssessmentDetails();\r\n      \r\n      }\r\n    }, (err: any) => {\r\n  //    this.loader.close();\r\n    });\r\n\r\n  }\r\n\r\n  \r\n  addCustomerFormGroup(): FormGroup {\r\n    return this.formBuilder.group({\r\n      cifNumber: [''],\r\n      customerId: [''],\r\n      prefix: [''],\r\n      firstName: [''],\r\n      middleName: [''],\r\n      lastName: [''],\r\n      gender: [''],\r\n      dateOfBirth: [''],\r\n      addressType: [''],\r\n      address1: [''],\r\n      address2: [''],\r\n      city: [''],\r\n      state: [''],\r\n      country: [''],\r\n      zipCode: [''],\r\n      phoneNumber: [''],\r\n      landlineNumber: [''],\r\n      primaryEmailAdress: [''],\r\n      \r\n    })\r\n  }\r\n\r\n  buildformGroup(data?) {\r\n    console.log(data);\r\n    this.loanAssessmentForm = this.formBuilder.group({\r\n    // loanAccountId: this.loanaccountID,\r\n    // loanAccountId:[data ? data.loanAccountId:'999612'],\r\n    rateOfInterest:[data ? data.rateOfInterest:'',[Validators.required]],\r\n    loanTenure:[data ? data.loanTenure:''],\r\n    approvedLoanAmount:[data ? data.approvedLoanAmount:'',[Validators.required]],\r\n    // loanAmountRecommendation:[data ? '400000':'400000'],\r\n    loanAmountRecommendation:[data ? data.loanAmountRecommendation:'',Validators.compose([ Validators.required, Validators.max(this.loanAssessmentForm.get('requestedLoanAmount').value)])],\r\n    userRecommendation:[data ? data.userRecommendation:'',[Validators.required]],\r\n    systemRecommendation:[data ? data.systemRecommendation:'',[Validators.required]],\r\n    requestedLoanAmount:[data ? data.requestedLoanAmount:'',[Validators.required]],\r\n    year:[data ? data.loanTenure.split(\"-\")[0]:''],\r\n    month:[data ? data.loanTenure.split(\"-\")[1]:''],\r\n    day:[data ? data.loanTenure.split(\"-\")[2]:''],\r\n\r\n    })\r\n  }\r\n\r\n\r\n  // fetchByCif(cifNumber, isExistingCustomer) {\r\n  //   this.appApiService.fetchByCif(cifNumber).subscribe((res: any) => {\r\n  //     console.log(res);\r\n  //     if (!res) {\r\n  //       this.isCifValid = false;\r\n  //       this.snack.open('Invalid CIF Number', 'OK', {\r\n  //         duration: 4000,\r\n  //         verticalPosition: 'top',\r\n  //         horizontalPosition: 'right'\r\n  //       });\r\n  //       this.customerInfo.get('cifNumber').patchValue('');\r\n  //       return;\r\n  //     } else {\r\n  //       this.isCifValid = true;\r\n  //       this.ls.setItem(\"cId\", res.customerInfoList[0].customerId);\r\n  //       let address: any;\r\n  //       console.log(res.customerInfoList[0].userAddress.length);\r\n  //       if (res.customerInfoList[0].userAddress.length > 1) {\r\n  //         address = res.customerInfoList[0].userAddress.find((item: any) => item.addressType == \"Permanent\");\r\n  //       } else {\r\n  //         address = res.customerInfoList[0].userAddress[0];\r\n  //       }\r\n  //       this.getStateName(address.country);\r\n  //       this.getCityName(address.state);\r\n  //       let applicantData = {\r\n  //         prefix: res.customerInfoList[0].prefix,\r\n  //         cifNumber: res.customerInfoList[0].cifNumber,\r\n  //         existingCustomer:isExistingCustomer,\r\n  //         customerId: res.customerInfoList[0].customerId,\r\n  //         firstName: res.customerInfoList[0].firstName,\r\n  //         middleName: res.customerInfoList[0].middleName,\r\n  //         lastName: res.customerInfoList[0].lastName,\r\n  //         gender: res.customerInfoList[0].gender,\r\n  //         dateOfBirth: this.convertDate(res.customerInfoList[0].dateOfBirth),\r\n  //         placeOfBirth: res.customerInfoList[0].placeOfBirth,\r\n  //         residenceStatus: res.customerInfoList[0].residenceStatus,\r\n  //         nationality: res.customerInfoList[0].nationality,\r\n  //         countryOfResidence: res.customerInfoList[0].countryOfResidence,\r\n  //         occupationType: res.customerInfoList[0].occupationType,\r\n  //         idType: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idType : '',\r\n  //         idNumber: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idNumber : '',\r\n  //         expiryDate: res.customerInfoList[0].custIdProofs.length > 0 ? this.convertDate(res.customerInfoList[0].custIdProofs[0].expiryDate) : '',\r\n  //         addressType: address.addressType,\r\n  //         address1: address.address1,\r\n  //         address2: address.address2,\r\n  //         city: address.city,\r\n  //         country: address.country,\r\n  //         state: address.state,\r\n  //         zipCode: address.zipCode,\r\n  //         phoneNumber: res.customerInfoList[0].phoneNumber,\r\n  //         landlineNumber: res.customerInfoList[0].landlineNumber,\r\n  //         primaryEmailAdress: res.customerInfoList[0].primaryEmailAdress\r\n  //       }\r\n  //       console.log(\"res.customerInfoList[0].firstName=\",res.customerInfoList[0].firstName);\r\n  //       this.applicant.patchValue(applicantData);\r\n  //       console.log(this.applicant);\r\n  //     }\r\n  //     this.cdr.markForCheck();\r\n  //   }, (err: any) => {\r\n  //     console.error(err);\r\n  //   })\r\n  // }\r\n\r\n  onReset() {\r\n    // reset whole form back to initial state\r\n    this.submitted = false;\r\n    this.applicantForms.reset({});\r\n  }\r\n\r\n  onClear() {\r\n    // clear errors and reset ticket fields\r\n    this.submitted = false;\r\n  }\r\n  resetAndClose(){\r\n    this.closeDetails();\r\n  }\r\n\r\n  closeDetails(): void {\r\n    this.selectedApplicant = null;\r\n    this.applicant.reset();\r\n    this.applicantForms.get('numOfApplicants').enable({onlySelf:true});\r\n    \r\n  }\r\n\r\n  onChange(event:number){\r\n    this.reData = this.loanAssessmentForm.get('requestedLoanAmount').value;\r\n    console.log(this.reData);\r\n    \r\n    this.loanData = this.loanAssessmentForm.get('loanAmountRecommendation').value;\r\n    console.log(this.loanData);\r\n    if(event == this.reData){\r\n      this.isInvalid = true;\r\n    }\r\n     \r\n  }\r\n\r\n  toggleDetails(account) {\r\n    console.log(\"customerId incomming\", account);\r\n    this.applicantForms.get('numOfApplicants').disable({onlySelf:true, emitEvent:false});\r\n    let address: any;\r\n    console.log(account.userAddress.length);\r\n    if (account.userAddress.length > 1) {\r\n      address = account.userAddress.find((item: any) => item.addressType == \"Permanent\");\r\n    } else {\r\n      address = account.userAddress[0];\r\n    }\r\n    // this.getStateName(address.country);\r\n    // this.getCityName(address.state);\r\n\r\n    let payLoadModel = {\r\n      existingCustomer: account.existingCustomer,\r\n      dependentId: account.dependentId,\r\n      primaryCustomer: account.primaryCustomer,\r\n      cifNumber: account.cifNumber,\r\n      prefix: account.prefix,\r\n      firstName: account.firstName,\r\n      middleName: account.middleName,\r\n      lastName: account.lastName,\r\n      gender: account.gender,\r\n      dateOfBirth: account.dateOfBirth,\r\n      addressType: address.addressType,\r\n      address1: address.address1,\r\n      address2: address.address2,\r\n      city: address.city,\r\n      state: address.state,\r\n      country: address.country,\r\n      zipCode: address.zipCode,\r\n      phoneNumber: account.phoneNumber,\r\n      landlineNumber: account.landlineNumber,\r\n      primaryEmailAdress: account.primaryEmailAdress\r\n    };\r\n    console.log(\"account.firstName=\",account.firstName);\r\n    this.selectedApplicant = account;\r\n    this.applicant.patchValue(payLoadModel, {onlySelf:false, emitEvent:false});\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  getListOfAccounts() {\r\n   // this.loader.open();\r\n    this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,'loan')\r\n      .subscribe((resp: any) => {\r\n        this.console.log(\"resp:\",resp)\r\n        this.console.log(\"address1:\",resp.data[0].userAddress[0].address1)\r\n        this.address1=resp.data[0].userAddress[0].address1;\r\n        this.address2=resp.data[0].userAddress[0].address2;\r\n        this.city=resp.data[0].userAddress[0].city;\r\n        this.state=resp.data[0].userAddress[0].state;\r\n        this.country=resp.data[0].userAddress[0].country;\r\n        this.zipCode=resp.data[0].userAddress[0].zipCode;\r\n        this.listOfAccounts = resp.status == 200 ? resp.data.map(value => ({ ...value, _id: Math.round(Math.random() * 10000000000) })) : [];\r\n        this.loader.close();\r\n        console.log(\"All Customer Details\", this.listOfAccounts.length);\r\n        resp.status == 200 ? this.ls.setItem(\"cId\", resp.data[0].customerId) : null;\r\n        console.log(\"Length check??\",this.listOfAccounts.length);\r\n\r\n        if(this.listOfAccounts.length == 0){\r\n          this.applicant.get('existingCustomer').patchValue(true);\r\n          this.applicant.get('primaryCustomer').patchValue(true);\r\n        }else if(this.listOfAccounts.length == 1){\r\n          this.applicant.get('existingCustomer').patchValue(true);\r\n          this.applicant.get('primaryCustomer').patchValue(false);\r\n        }else if(this.listOfAccounts.length >= 2){\r\n          this.applicantForms.get('ownership').patchValue('Join');\r\n          for (let index = 0; index < resp.data.length; index++) {\r\n            const element = resp.data[index];\r\n            this.applicantForms.get('numOfApplicants').patchValue(resp.data[index].numOfApplicants);\r\n          }\r\n        }\r\n\r\n        this.cdr.markForCheck();\r\n\r\n        this.toggleChanges();\r\n      }, (err: any) => {\r\n        this.loader.close();\r\n      });\r\n  }\r\n\r\n  toggleChanges() {\r\n    if (this.applicant.get('existingCustomer').value == true) {\r\n      this.applicant.get('cifNumber').enable();\r\n      this.applicant.get('cifNumber').setValidators([Validators.required]);\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n    }\r\n    else {\r\n      this.applicant.get('cifNumber').disable();\r\n      this.applicant.get('cifNumber').clearValidators();\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n  toggleAddForm() {\r\n    this.showNewForm = !this.showNewForm;\r\n  }\r\n\r\n  addCustFormGroup(): FormGroup {\r\n    return this.formBuilder.group({\r\n      existingCustomer: [null, []],\r\n      primaryCustomer: [null, []],\r\n      cifNumber: [''],\r\n      customerId: [''],\r\n      dependentId: [null],\r\n      prefix: [''],\r\n      firstName: [''],\r\n      middleName: [''],\r\n      lastName: [''],\r\n      gender: [''],\r\n      dateOfBirth: [''],\r\n      // placeOfBirth: [''],\r\n      // residenceStatus: [''],\r\n      // nationality: [''],\r\n      // countryOfResidence: [''],\r\n      // occupationType: [''],\r\n      // idType: [''],\r\n      // idNumber: [''],\r\n      // expiryDate: [''],\r\n      addressType: [''],\r\n      address1: [''],\r\n      address2: [''],\r\n      city: [''],\r\n      state: [''],\r\n      country: [''],\r\n      zipCode: [''],\r\n      phoneNumber: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(10), Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      landlineNumber: ['', [Validators.required, Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      primaryEmailAdress: ['', [Validators.required,\r\n      Validators.email]],\r\n    })\r\n  }\r\n\r\n\r\n  get f() { return this.applicantForms.controls; }\r\n  get applicantCount() { return this.f.numOfApplicants; }\r\n  get applicant() { return this.f.applicantDetails; }\r\n\r\n\r\n  onSubmit() {\r\n    this.submitted = true;\r\n    console.log('saveapplicant')\r\n    this.isCifValid= false;\r\n    if (this.applicantForms.invalid) {\r\n      console.log(\"test\");\r\n\r\n      return;\r\n    }\r\n    this.loader.open();\r\n\r\n    let payloadObj: any = {};\r\n    const control = this.applicantForms.controls['applicantDetails'].value;\r\n    let addressObj: any = {};\r\n    // let custIdProofs: any = {};\r\n    // let custIdProofsArray: any[] = [];\r\n    let addressObjArray: any[] = [];\r\n\r\n    payloadObj.customerId = this.ls.getItem(\"cId\");\r\n    payloadObj.cifNumber = control.cifNumber;\r\n    payloadObj.dependentId = control.dependentId;\r\n    payloadObj.existingCustomer = control.existingCustomer;\r\n    payloadObj.primaryCustomer = control.primaryCustomer;\r\n    payloadObj.phoneNumber = control.phoneNumber;\r\n    payloadObj.primaryEmailAdress = control.primaryEmailAdress;\r\n    payloadObj.prefix = control.prefix;\r\n    payloadObj.firstName = control.firstName;\r\n    payloadObj.middleName = control.middleName;\r\n    payloadObj.lastName = control.lastName;\r\n    payloadObj.cifNumber = control.cifNumber;\r\n    payloadObj.gender = control.gender;\r\n    payloadObj.dateOfBirth = this.convertDate(control.dateOfBirth);\r\n    payloadObj.accountId = this.accountId;\r\n    payloadObj.landlineNumber = control.landlineNumber;\r\n    payloadObj.ownership = this.applicantForms.get('ownership').value;\r\n    payloadObj.numOfApplicants = this.applicantForms.get('numOfApplicants').value;\r\n    addressObj.address1 = control.address1;\r\n    addressObj.address2 = control.address2;\r\n    addressObj.country = control.country;\r\n    addressObj.state = control.state;\r\n    addressObj.city = control.city;\r\n    addressObj.zipCode = control.zipCode;\r\n    addressObj.addressType = control.addressType;\r\n    addressObjArray.push(addressObj);\r\n\r\n    // custIdProofs.expiryDate = this.convertDate(control.expiryDate);\r\n    // custIdProofs.idType = control.idType;\r\n    // custIdProofs.idNumber = control.idNumber;\r\n    // custIdProofsArray.push(custIdProofs);\r\n    // payloadObj.custIdProofs = custIdProofsArray;\r\n    payloadObj.userAddress = addressObjArray;\r\n  \r\n\r\n    console.log(\"payloadObj\",payloadObj);\r\n\r\n    // this.appApiService.createAndUpdateAccountants(payloadObj)\r\n    //   .subscribe((data: any) => {\r\n    //     console.log(\"data::\",data)\r\n    //     this.closeDetails();\r\n    //     this.loader.close();\r\n    //     console.log(\"Response of service 2 ---> \", data)\r\n    //     if (data.status === 200) {\r\n    //       this.getListOfAccounts();\r\n    //       this.snack.open('Customer Information Details Saved!', 'OK', {\r\n    //         duration: 4000,\r\n    //         verticalPosition: 'top',\r\n    //         horizontalPosition: 'right'\r\n    //       });\r\n\r\n    //     this.applicantForms.get('ownership').patchValue(data.custDependentModel.ownership);\r\n    //     this.applicantForms.get('numOfApplicants').patchValue(data.custDependentModel.numOfApplicants);\r\n\r\n    //       if(this.applicantForms.get('ownership').value == 'Self'){\r\n    //      //  this.goToNext();\r\n    //       }\r\n    //     }\r\n    //   }, (err: any) => {\r\n    //     console.log(err);\r\n    //     this.loader.close();\r\n    //     this.snack.open('Error', 'INTERNAL SERVER ERROR', {\r\n    //       duration: 4000,\r\n    //       verticalPosition: 'top',\r\n    //       horizontalPosition: 'right'\r\n    //     });\r\n    //   })\r\n  }\r\n  \r\n\r\n  \r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n    this.dataService.sendNavParam({});\r\n  }\r\n\r\n  isAllSameDigit(event) {\r\n    let count = 0, number = event.target.value;\r\n    if (number != '') {\r\n      for (var i = 0; i < number.length; i++) {\r\n        if (0 == number[i]) {\r\n          count++;\r\n        }\r\n      }\r\n      console.log('number :: ', number);\r\n      console.log('isAllSameDigitVal :: ', count , number.length)\r\n      if (count == number.length) {\r\n        console.log('if loop')\r\n        this.isAllSameDigitVal = true;\r\n      }\r\n      else {\r\n        this.isAllSameDigitVal = false;\r\n      }\r\n    }else{\r\n      this.isAllSameDigitVal = false;\r\n    }\r\n  }\r\n\r\n  \r\n  goBack(){\r\n    this.router.navigate([\"/loan/account/assessment/qualitative\"]);\r\n  }\r\n\r\n  goToNext() {\r\n    this.ls.setItem('ACC_OPEN_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.ls.setItem('NO_OF_APPLICANTS', this.applicantForms.get('numOfApplicants').value);\r\n   // this.router.navigate([`/home/application/mandate/${this.accountId}`]);\r\n    this.router.navigate([\"/loan/account/list\"]);\r\n  }\r\n  goNext(){\r\n    var aprloan=this.loanAssessmentForm.value.approvedLoanAmount;\r\n    aprloan= parseInt(aprloan);\r\n    var rate=this.loanAssessmentForm.value.rateOfInterest;\r\n    rate= parseInt(rate);\r\n    var loanTenureData = this.loanAssessmentForm.value.loanTenure;   \r\n    var requestLoan=this.loanAssessmentForm.value.requestedLoanAmount;\r\n    requestLoan=parseInt(requestLoan)\r\n    let payload = {\r\n      // \"loanAccountId\": this.showEditOption ? this.loanaccountID : null,\r\n      loanAccountId: this.loanaccountID,\r\n      approvedLoanAmount:aprloan,\r\n      requestedLoanAmount:requestLoan,\r\n      rateOfInterest:rate,\r\n      loanTenure:loanTenureData,\r\n     // loanTenure:this.loanAssessmentForm.value.loanTenure,\r\n     // loanAmountRecommendation:this.loanAssessmentForm.value.loanAmountRecommendation,\r\n      loanAmountRecommendation:this.loanAssessmentForm.value.loanAmountRecommendation,\r\n      userRecommendation:this.loanAssessmentForm.value.userRecommendation,\r\n      systemRecommendation:this.loanAssessmentForm.value.systemRecommendation,\r\n    }\r\n    console.log(\"payload\",payload)\r\n    \r\n      this.updateLoanAssessmentDetails();\r\n  }\r\n   \r\n  updateLoanAssessmentDetails(){\r\n    var aprloan=this.loanAssessmentForm.value.approvedLoanAmount;\r\n    aprloan= parseInt(aprloan);\r\n    var loanRecommendation = this.loanAssessmentForm.value.loanAmountRecommendation;\r\n    loanRecommendation = parseInt(loanRecommendation);\r\n    let payload = {\r\n      loanAccountId:this.loanaccountID,\r\n      approvedLoanAmount:aprloan,\r\n      requestedLoanAmount:this.loanAssessmentForm.value.requestedLoanAmount,\r\n      rateOfInterest:this.loanAssessmentForm.value.rateOfInterest,\r\n      loanTenure:this.loanAssessmentForm.value.loanTenure,\r\n     loanAmountRecommendation:this.loanAssessmentForm.value.loanAmountRecommendation,\r\n      userRecommendation:this.loanAssessmentForm.value.userRecommendation,\r\n      systemRecommendation:this.loanAssessmentForm.value.systemRecommendation,\r\n    }\r\n    console.log(\"payload\",payload);\r\n\r\n    this.apiService.updateAssessmentDetails(payload).subscribe((data) => {\r\n      console.log(\"approvedLoanAmount:\",data.approvedLoanAmount)\r\n        this.snack.open('Loan Assessment Details Updated!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n\r\n         console.log(data);\r\n        this.ls.setItem('LOAN_ASSESSMENT_DETAILS_DONE', true);  \r\n        this.ls.setItem('LOAN_ASSESSMENT_STAGE_DONE', true); \r\n        this.accountService.refresh.next(); \r\n        this.router.navigate([\"/loan/account/supervisor-summary/\"]);\r\n  \r\n      }, err => {\r\n        this.snack.open('Server Error!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      })\r\n\r\n  }\r\n\r\n  onInput(event: any, flag) {\r\n    if (flag) {\r\n      this.approvedLoanAmount = event.target.value;\r\n    } else {\r\n      this.approvedLoanAmount= event;\r\n    }\r\n  \r\n    console.log(\"this.salary)::\", this.approvedLoanAmount);\r\n    let sal = this.approvedLoanAmount.toString().replace(/,/g, '').split(\".\");\r\n    sal[0] = sal[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    let final = sal.join(\".\");\r\n    console.log(\"final\", final);\r\n    this.loanAssessmentForm.controls.approvedLoanAmount.setValue(final);\r\n  }\r\n  \r\n  keyPress1(event: any) {\r\n    const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    const input = event.target.value;\r\n    if (input.length === 0 && event.which === 48) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  \r\n  _keyPress1(event: any) {\r\n    const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    const input = event.target.value;\r\n    if (input.length === 0 && event.which === 48) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n  \r\n  OnInput(event: any, loanAmountRecommendation:any, requestedLoanAmount : any) {\r\n    this.approvedLoanAmount = event.target.value;\r\n    // var approvedAmount=this.removeComma(this.approvedLoanAmount);\r\n    console.log(Number(this.approvedLoanAmount),Number(loanAmountRecommendation),Number(requestedLoanAmount));\r\n    \r\n  if((Number(this.approvedLoanAmount) > Number(loanAmountRecommendation)) || (Number(this.approvedLoanAmount) > Number(requestedLoanAmount))){\r\n    this.flag=true;\r\n  }\r\n  // else if( Number(approvedAmount) < Number(loanAmountRecommendation)){\r\n  //   this.flag=false;\r\n  // }\r\n  else{\r\n    this.flag=false;\r\n  }\r\n\r\n  const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n\r\n}\r\n\r\n  removeComma(num:any){\r\n    var numb =num.replace(/,/g, \"\");\r\n    console.log(\"numb\",numb)\r\n    return numb;\r\n\r\n  }\r\n \r\n\r\n  \r\n}\r\n\r\n\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img\r\n        src=\"assets/images/svg/MaskGroup_13.svg\"\r\n        alt=\"\"\r\n        class=\"w-90\"\r\n      />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Assessment Details</b></div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"full-width\"> \r\n    <div fxFlex=\"100\">\r\n      <!-- <mat-progress-bar [mode]=\"determinate\" class=\"session-progress\"></mat-progress-bar> -->\r\n      <mat-card class=\"p-0\">        \r\n        <mat-card-title class=\"alignChange\">\r\n          <fieldset>\r\n          <legend visible=\"true\">Customer Information</legend>\r\n          </fieldset>\r\n        </mat-card-title>\r\n\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n          <div fxFlex=\"100%\">\r\n              <div class=\"full-width\">\r\n                  <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                      \r\n                      <div *ngFor=\"let account of listOfAccounts; let i=index\" >\r\n                   \r\n                          <div class=\"full-width\">\r\n                              <mat-card>\r\n                                  <div fxLayout=\"row wrap\" class=\"full-width\" >\r\n                                      <!-- <div  class=\"pt-16\" class=\"pb-16\" fxFlex=\"7%\" fxFlex.xs=\"50%\" fxFlex.md=\"10%\" fxFlex.sm=\"15%\">\r\n                                          <img height=\"50px\" width=\"50px\"\r\n                                              src=\"assets/images/backgrounds/defaultProfileBackground.png\"\r\n                                              class=\"rounded-circle\" />\r\n                                      </div> -->\r\n                                      <div class=\"bg-light p-8\" fxFlex=\"93%\" fxFlex.xs=\"100%\" fxFlex.md=\"90%\"\r\n                                          fxFlex.sm=\"85%\">\r\n                                          <div>\r\n                                              <div>\r\n                                                  <div class=\"full-width\">\r\n                                                      <div class=\"pl-16\">\r\n                                                          <small class=\"valueText\"><span>Customer Name:  {{account?.prefix}}</span>&nbsp;\r\n                                                              <span>{{account?.firstName}}</span>&nbsp;\r\n                                                              <span>{{account?.middleName}}</span>&nbsp;\r\n                                                              <span>{{account?.lastName}}</span></small>\r\n                                                      </div>\r\n                                                  </div>\r\n                                              </div>\r\n                                          </div>\r\n                                        \r\n                                          <div class=\"full-width\">\r\n                                              <div class=\"pl-16 pr-16\" >\r\n                                                  <small class=\"valueTextName\">CIF Number: \r\n                                                      #{{account?.cifNumber}}</small>\r\n                                              </div>\r\n                                          </div>\r\n\r\n                                          <div>\r\n                                             <div class=\"pl-16 pr-16\" fxFlex.xs=\"100%\">\r\n                                              <small class=\"valueTextName\">Address: <span>{{account?.userAddress[0].address1}}</span>&nbsp; <span>{{account?.userAddress[0].address2}}</span>&nbsp; <span>{{account?.userAddress[0].city}}</span>&nbsp; <span>{{account?.userAddress[0].state}}</span>&nbsp; <span>{{account?.userAddress[0].country}}</span>&nbsp; <span>{{account?.userAddress[0].zipCode}}</span>&nbsp;</small>                                              \r\n                                             </div>\r\n                                              <div class=\"pl-16 pr-16\" fxFlex.xs=\"100%\">\r\n                                                  <small class=\"valueTextName\">Email ID: <span>{{account?.primaryEmailAdress}}</span></small>     \r\n                                              </div>\r\n                                            \r\n                                              <div class=\"pl-16 pr-16\" fxFlex.xs=\"100%\">\r\n                                                  <small class=\"valueTextName\">Phone Number: <span>{{account?.phoneNumber}}</span></small>                                              \r\n                                              </div>\r\n                                          </div>\r\n                                      </div>\r\n                                  </div>\r\n                              </mat-card>\r\n                          </div>\r\n                      </div>\r\n                  </div>\r\n              </div>\r\n              <br>\r\n            \r\n          </div>\r\n      </div>\r\n    \r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <!--Assessment Details starts here-->\r\n  <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0\">       \r\n       <mat-card-title class=\"alignChange\">\r\n        <fieldset>\r\n        <legend visible=\"true\">Assessment Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <div>\r\n    <form [formGroup]=\"loanAssessmentForm\">\r\n    <div fxLayout=\"column\" fxLayoutGap=\"25px\">\r\n      <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">       \r\n        <div class=\"flex-grow-1 marginnpadding\" fxFlex=\"49%\" >\r\n          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n            <mat-label>Request Loan Amount*</mat-label>\r\n            <!-- <mat-card class=\"inputMatName\"> -->\r\n              <input matInput formControlName=\"requestedLoanAmount\" (keypress)=\"_keyPress1($event)\"\r\n               class=\"alignment\" type=\"text\" readonly />{{accountDetails?.loanAmount}}\r\n            <!-- </mat-card> -->\r\n            <mat-error *ngIf=\"!loanAssessmentForm.get('requestedLoanAmount').valid && loanAssessmentForm.get('requestedLoanAmount').touched\" >\r\n              &nbsp;&nbsp; Please enter the Request Loan Amount\r\n          </mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n        \r\n          <div class=\"flex-grow-1 loanCard marginnpadding\" fxFlex=\"49%\">      \r\n              \r\n                <div fxLayout=\"row wrap\">\r\n                  <label class=\"size\">Loan Tenure*</label>                  \r\n                      <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"22.5\">\r\n                        <mat-label>Year*</mat-label>\r\n                      <mat-select name=\"year\" placeholder=\"Year\" formControlName=\"year\" disableOptionCentering >\r\n                      <mat-option *ngFor=\"let year of years\" [value]=\"year\">{{ year }}</mat-option> \r\n                      </mat-select>\r\n                      </mat-form-field>                  \r\n                    <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"22.5\">\r\n                      <mat-label>Month*</mat-label>\r\n                    <mat-select name=\"month\" placeholder=\"Month\" formControlName=\"month\" disableOptionCentering>\r\n                    <mat-option *ngFor=\"let month of months\" [value]=\"month\">{{ month }}</mat-option> \r\n                     </mat-select>\r\n                    </mat-form-field>                 \r\n                      <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"22\">\r\n                        <mat-label>Day*</mat-label>\r\n                      <mat-select name=\"day\"   formControlName=\"day\" disableOptionCentering >\r\n                      <mat-option *ngFor=\"let day of days\" [value]=\"day\">{{ day }}</mat-option> \r\n                    </mat-select>\r\n                    </mat-form-field>                    \r\n                    <mat-error *ngIf=\"!loanAssessmentForm.get('year').valid && loanAssessmentForm.get('year').touched \">\r\n                                       Loan Tenure is Required!</mat-error>\r\n                                       <mat-error *ngIf=\"!loanAssessmentForm.get('month').valid && loanAssessmentForm.get('month').touched \">\r\n                                       Loan Tenure is Required!</mat-error>\r\n                                       <mat-error *ngIf=\"!loanAssessmentForm.get('day').valid && loanAssessmentForm.get('day').touched \">\r\n                                       Loan Tenure is Required!</mat-error>\r\n                                        <mat-error *ngIf=\"(loanAssessmentForm.get('year').value == '0 year') && (loanAssessmentForm.get('month').value == '0 month') && (loanAssessmentForm.get('day').value == '0 day')  \">\r\n                                       Please Input Valid Loan Tenure!</mat-error>                  \r\n                </div>\r\n          </div>\r\n      </div>\r\n      <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n      <div class=\"flex-grow-1 marginnpadding\" fxFlex=\"49%\" >\r\n        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n          <mat-label>Rate Of Interest*</mat-label>\r\n          <!-- <mat-card class=\"inputMatName\"> -->\r\n            <input matInput formControlName=\"rateOfInterest\" (keypress)=\"_keyPress1($event)\"\r\n             class=\"alignment\" type=\"text\" placeholder=\"Rate Of Interest\" readonly/>{{accountDetails?.rateOfInterest}}\r\n          <!-- </mat-card> -->\r\n          <mat-error *ngIf=\"!loanAssessmentForm.get('rateOfInterest').valid && loanAssessmentForm.get('rateOfInterest').touched\" >\r\n            &nbsp;&nbsp; Please enter the Rate Of Interest\r\n        </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div class=\"flex-grow-1 loanCard marginpadding\" fxFlex=\"49%\" >\r\n        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n          <mat-label>System Recommendation*</mat-label>\r\n          <!-- <mat-card class=\"inputMatName\"> -->\r\n            <mat-select formControlName=\"systemRecommendation\" placeholder=\"Select\" disableOptionCentering>\r\n              <mat-option *ngFor=\"let systemRecommendation of arraySystemRecommendation\" [value]=\"systemRecommendation\"> \r\n                {{systemRecommendation}} \r\n              </mat-option> \r\n            </mat-select>\r\n          <!-- </mat-card> -->\r\n          <mat-error *ngIf=\"!loanAssessmentForm.get('systemRecommendation').valid && loanAssessmentForm.get('systemRecommendation').touched\" >\r\n            &nbsp;&nbsp; Please enter the System Recommendation\r\n        </mat-error>\r\n        </mat-form-field>\r\n        </div>\r\n      </div>\r\n      <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n       <div class=\"flex-grow-1 marginnpadding\" fxFlex=\"49%\" >\r\n        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n        <mat-label>User Recommendation*</mat-label>\r\n        <!-- <mat-card class=\"inputMatName\"> -->\r\n          <mat-select formControlName=\"userRecommendation\" placeholder=\"Select\" disableOptionCentering>\r\n            <mat-option *ngFor=\"let userRecommendation of arrayUserRecommendation\" [value]=\"userRecommendation\"> \r\n              {{userRecommendation}} \r\n            </mat-option> \r\n          </mat-select>\r\n        <!-- </mat-card> -->\r\n        <mat-error *ngIf=\"!loanAssessmentForm.get('userRecommendation').valid && loanAssessmentForm.get('userRecommendation').touched\" >\r\n          &nbsp;&nbsp; Please enter the User Recommendation\r\n      </mat-error>\r\n        </mat-form-field>\r\n       </div>\r\n      <div class=\"flex-grow-1 marginpadding\" fxFlex=\"49%\" >\r\n        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n        <mat-label>Loan Amount Recommendation*</mat-label>\r\n        <!-- <mat-card class=\"inputMatName\"> -->\r\n          <input type=\"text\" matInput name=\"loanAmountRecommendation\" autocomplete=\"off\" (keypress)=\"onChange($event)\" formControlName=\"loanAmountRecommendation\" placeholder=\"Loan amount Recommendation\"\r\n           class=\"alignment\">\r\n        <!-- </mat-card> -->\r\n        <mat-error class=\"colorRed\" *ngIf=\"loanAssessmentForm.controls.loanAmountRecommendation.errors?.required && loanAssessmentForm.controls.loanAmountRecommendation.touched\" >\r\n          Please enter the Loan Amount Recommendation\r\n      </mat-error> \r\n      <mat-error class=\"colorRed\" *ngIf=\"loanAssessmentForm.get('loanAmountRecommendation').value > loanAssessmentForm.get('requestedLoanAmount').value\">\r\n        The Loan recommendation amount should not be greater than request loan amount\r\n      </mat-error>     \r\n        </mat-form-field>\r\n      \r\n    </div>\r\n      </div> \r\n      <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n       <div class=\"flex-grow-1 marginnpadding\" fxFlex=\"49%\" >\r\n        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n      <mat-label >Approved Loan Amount*</mat-label>\r\n      <!-- <mat-card class=\"inputMatName\"> -->\r\n        <input matInput formControlName=\"approvedLoanAmount\" pattern=\"^[1-9][0-9]*$\" autocomplete=\"off\"\r\n        (input)=\"OnInput($event,loanAmountRecommendation,loanAssessmentForm.get('requestedLoanAmount').value)\"\r\n        class=\"alignment\" type=\"text\" placeholder=\"Approved Loan Amount\"/>\r\n      <!-- </mat-card> -->\r\n\r\n      <mat-error *ngIf=\"!loanAssessmentForm.get('approvedLoanAmount').valid && loanAssessmentForm.get('approvedLoanAmount').touched\" >\r\n          &nbsp;&nbsp; Please enter the Approved Loan Amount\r\n      </mat-error>\r\n        </mat-form-field>\r\n      <div>\r\n        <small style=\"color:red;\" *ngIf='flag'>\r\n        Approved Loan Amount should not be greater than the Loan Amount Requested.\r\n        </small>\r\n      </div>\r\n       \r\n              \r\n      </div>\r\n      </div>\r\n    </div>   \r\n         </form>\r\n    </div>\r\n      </mat-card>\r\n      <div\r\n              fxLayout=\"row\"\r\n              fxLayoutAlign=\"space-between center\"\r\n              fxLayoutGap=\"16px\"\r\n              class=\"mt-32\"\r\n            >\r\n              <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n                Back\r\n              </button>\r\n              <button\r\n                mat-raised-button class=\"Nextbtn\"\r\n                color=\"primary\"  [disabled]=\"!loanAssessmentForm.valid || flag\" (click)=\"goNext()\"             >\r\n                Next\r\n              </button>\r\n            </div>\r\n    </div>\r\n</div>\r\n\r\n \r\n \r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DataService } from 'app/shared/services/data.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-post-offer-amendment-summary',\r\n  templateUrl: './post-offer-amendment-summary.component.html',\r\n  styleUrls: ['./post-offer-amendment-summary.component.scss']\r\n})\r\nexport class PostOfferAmendmentSummaryComponent implements OnInit {\r\n  offerDetails: any;\r\n  loanAccountId: any;\r\n  loanInfo: any;\r\n\r\n  constructor(public dialogRef: MatDialogRef<PostOfferAmendmentSummaryComponent>,private apiService: ApiService,\r\n    private dataService:DataService, private ls: LocalStoreService,private router: Router,) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    console.log(this.loanAccountId);\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanAccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    setTimeout(() => {\r\n      this.fetchPostOfferAmendmentDetails();\r\n    }, 10);\r\n   \r\n  }\r\n\r\n  fetchPostOfferAmendmentDetails() {\r\n    this.apiService.getOfferAmendmentDetails( this.loanAccountId )\r\n      .subscribe((data : any)=> {\r\n        console.log(data);\r\n        this.offerDetails = data;\r\n        console.log(\"details\",this.offerDetails);\r\n      })\r\n  }\r\n\r\nedit(){\r\n  this.dataService.sendNavParam(this.offerDetails);\r\n  this.dialogRef.close();\r\n  this.router.navigate(['loan/account/post-offer-amendment']);\r\n  \r\n}\r\nclose(){\r\n  this.dialogRef.close();\r\n  this.router.navigate([`/loan/account/post-offer-amend-stage/list`]);\r\n}\r\n}\r\n","<div class=\"full-width\">\r\n    <div fxLayout=\"row\" class=\"contain\">\r\n        <mat-icon class=\"backIcon\" (click)=\"close()\">close</mat-icon>\r\n    </div>\r\n    <div fxLayout=\"row\">\r\n        <h4 class=\"paraFont\">Post Offer Amendment Summary</h4>\r\n    </div>\r\n\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\">\r\n                <div class=\"full-width\">\r\n                    <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                        <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                            <ng-container>\r\n                                <div fxFlex fxFlex.xs=\"100%\" class=\"inputCardclass\">\r\n                                    <mat-card class=\"inputCard\">\r\n                                        <div fxLayout=\"row wrap\">\r\n\r\n                                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                <ng-container>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Applicant Name</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.applicantName}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                        <mat-hint class=\"headingText\">Offer Issue Date</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.offerIssueDate}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Offer Exipiry Date</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.offerExpiryDate}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Offer Amend Date</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.offerAmendDate}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Approved Loan Amount</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.approvedLoanAmount}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Loan Amount Recommended</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.loanAmmountRecommended}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.loanTenure}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Installment Type</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.installmentType}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Rate Of Interest(%)</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.rateOfInterest}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Margin(%))</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.margin}}</mat-hint>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                        <mat-hint class=\"headingText\">Effective Rate(%)</mat-hint>\r\n                                                        <br>\r\n                                                        <mat-hint class=\"valueText\">{{offerDetails?.effectiveRate}}</mat-hint>\r\n                                                    </div>\r\n                                                    \r\n                                                </ng-container>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </mat-card>\r\n                                </div>\r\n                            </ng-container>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <p class=\"editButton\" (click)=\"edit()\">Edit</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { ChangeDetectorRef, Component, ElementRef, Input, OnInit, Renderer2, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, FormArray, Validators, FormControl } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatExpansionPanel } from '@angular/material/expansion';\r\nimport { MatProgressBar } from '@angular/material/progress-bar';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppConfirmService } from 'app/shared/services/app-confirm/app-confirm.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { DataService } from 'app/shared/services/data.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { UrlService } from 'app/views/home/url.service';\r\nimport * as moment from 'moment';\r\nimport { Subscription } from 'rxjs';\r\nimport { pairwise } from 'rxjs/operators';\r\nimport { AccountService } from '../../account.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\n\r\n@Component({\r\n  selector: 'app-customer-information',\r\n  templateUrl: './customer-information.component.html',\r\n  styleUrls: ['./customer-information.component.scss']\r\n})\r\nexport class CustomerInformationComponent implements OnInit {\r\n  @ViewChild(MatProgressBar) progressBar: MatProgressBar;\r\n\r\n  cifNumberForm = new FormControl();\r\n  timer: any;\r\n  listOfCustByCif: any = [];\r\n\r\n  submitted = false;\r\n  formData = {}\r\n  console = console;\r\n  customerInfoForm: FormGroup;\r\n  accountId: string;\r\n  data: any;\r\n  customerIdProofs: any = [];\r\n\r\n  arrayPrefix: any[] = [];\r\n  arrayGender: any[] = [];\r\n  arrayCountry: any[] = [];\r\n  arrayState: any[] = [];\r\n  arrayCity: any[] = [];\r\n  arrayResidence: any[] = [];\r\n  arrayDocumentType: any[] = [];\r\n  arrayAddressType: any[] = [];\r\n  applicantDetailsArray: any[] = [];\r\n  toggle: boolean = false;\r\n  maritalStatusList: string[];\r\n  // customerDetails: IcustProductCustomerInfo = new IcustProductCustomerInfo();\r\n  customerDetails: any = {};\r\n  applicantDetails = [];\r\n  navSubscription: any;\r\n  routeparams: any;\r\n  showEditOption: boolean = false;\r\n  custInfo: string[];\r\n  tomorrow = new Date();\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  validDate= new Date();\r\n  showNewForm: boolean = true;\r\n  isCifValid: boolean = false;\r\n  toggleClick: boolean = false;\r\n  existingCustomer: boolean;\r\n  productCustomerId: any;\r\n  isAccountOpenScreen: boolean = false;\r\n  previousUrl: string = '';\r\n  addFunc: boolean = true;\r\n  index: any;\r\n  entityName: string;\r\n  removedButton: boolean = false;\r\n  selectedApplicant: any = null;\r\n  cifNumberPrimary: any;\r\n  listOfAccounts: any = [];\r\n  subscription: Subscription;\r\n  dispResponse: any;\r\n  arrayOwnership: string[];\r\n  cifNumber: any;\r\n  isAllSameDigitVal: boolean =false;\r\n  loanaccountID: any;\r\n  noOfapplicants: any;\r\n  ownershipStatus: any;\r\n  isChecked : boolean;\r\n  disabled : boolean;\r\n  disabledToggle: boolean;\r\n  @Input() i: any;\r\n  customerName: string;\r\n  loanInfo: any;\r\n  isDuplicateCIF: boolean;\r\n  disableSaveBtn: boolean;\r\n  productName: any;\r\n  birthCountryImage: string;\r\n  citizenshipImage: string;\r\n  countryResidenceImage: string;\r\n  isBirthCountry: boolean = false;\r\n  prefixFlag: boolean=false;\r\n  isZipValid:boolean=false;\r\n  constructor(private router: Router, private dialog: MatDialog, private route: ActivatedRoute, private accountService: AccountService, private elRef: ElementRef, private api: ApiService,\r\n    private renderer: Renderer2, private ls: LocalStoreService, private apiService: ApiService, private formBuilder: FormBuilder, private confirmService: AppConfirmService, private cdr: ChangeDetectorRef, private appApiService: ApplicationEntryStageService,\r\n    private snack: MatSnackBar,private dialogService: DialogService, private dataService: DataService, private urlService: UrlService, private loader: AppLoaderService) {\r\n    this.tomorrow.setDate(this.tomorrow.getDate()),\r\n    this.validDate.setDate(this.validDate.getDate());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.console.log(this.i);\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.accountId = this.ls.getItem('accountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    this.productName = this.ls.getItem('productName');\r\n    this.isDuplicateCIF = false;\r\n    this.disableSaveBtn = false;\r\n    this.prefixFlag=true;\r\n    this.isZipValid=true;\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    let applicantId = this.route.snapshot.params['id'];\r\n    console.log(\"applicantId\", applicantId);\r\n    this.isAccountOpenScreen = JSON.parse(this.ls.getItem('CUSTOMERINFO_DETAIL_DONE'));\r\n    this.cifNumberPrimary =  this.ls.getItem(\"CIF_NUM_PRIMARY\");\r\n    console.log(\"check if\", this.loanaccountID, this.isAccountOpenScreen);\r\n    this.buildCustomerForm();\r\n    this.getListOfAccounts();\r\n    this.getOwnershipValue(\"ownership\");\r\n    this.getPrefixValue(\"prefix\");\r\n    this.getGenderValue(\"gender\");\r\n    this.getResidenceDetails(\"residence\");\r\n    this.getCountryName(\"country\");\r\n    this.getAllAuthCities();\r\n    this.getAdressType(\"address_type\");\r\n    // this.getStateName(\"state\");\r\n    // this.getCityName(\"city\");\r\n\r\n    this.getDocumentType(\"document_type\");\r\n    this.getMaritalStatus(\"maritial_Status\");\r\n    // this.onFocusOutEvent('783',0);\r\n    this.isChecked=true;\r\n    this.disabled=true;\r\n    this.disabledToggle=true;\r\nsetTimeout(() => {\r\n  if (this.loanaccountID != null && this.isAccountOpenScreen) {\r\n    this.showEditOption = true;\r\n    this.getCustomerInformationDetails();\r\n    this.getListOfAccounts();\r\n    this. dataExtracted();\r\n  } \r\n}, 10);\r\n   \r\n    this.customerInfoForm.get('ownership').valueChanges.subscribe(val => {\r\n      console.log(\"ownership ?\", val);\r\n      if (val == 'Joint') {\r\n        this.customerInfoForm.get('numOfApplicants').patchValue(2, {onlySelf:true, emitEvent:false});\r\n      } else {\r\n        this.customerInfoForm.get('numOfApplicants').patchValue(1, {onlySelf:true, emitEvent:false});\r\n      }\r\n    });    \r\n  }\r\n  dataExtracted(){\r\n    this.ownershipStatus = this.ls.getItem('ownership_value');\r\n      console.log(\"ownership ?\",  this.ownershipStatus );\r\n      if ( this.ownershipStatus  == \"Joint\") {\r\n        console.log(\"calling\")\r\n        this.customerInfoForm.get('numOfApplicants').setValue(2);\r\n      } else {\r\n        this.customerInfoForm.get('numOfApplicants').setValue(1);\r\n      }\r\n    \r\n    this.noOfapplicants = this.ls.getItem('LoanNoOfApplicants');\r\n    this.console.log(this.noOfapplicants)\r\n      if (this.noOfapplicants == 1) {\r\n        this.customerInfoForm.get('ownership').setValue('Self');\r\n      } else {\r\n        this.customerInfoForm.get('ownership').setValue('Joint');\r\n      }\r\n    \r\n\r\n    this.applicant.get('idType')\r\n      .valueChanges\r\n      .pipe(pairwise())\r\n      .subscribe(([prev, next]: [any, any]) => {\r\n        this.applicant.get('idNumber').patchValue('');\r\n        this.applicant.get('expiryDate').patchValue('');\r\n      });\r\n\r\n    this.urlService.previousUrl$\r\n      .subscribe((previousUrl: string) => {\r\n        this.previousUrl = previousUrl\r\n      });\r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n      this.isAccountOpenScreen = JSON.parse(this.ls.getItem('CUSTOMERINFO_DETAIL_DONE'));\r\n      this.cdr.markForCheck();\r\n    });\r\n    this.cifNumber=this.ls.getItem('CIF_NUM_PRIMARY');\r\n    this.console.log(\"cifNumber=\",this.cifNumber);\r\n   \r\n  }\r\n  onKeyPress1(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    } console.log(event.target.value);\r\n    clearTimeout(this.timer)\r\n    if (!event.target.value) {\r\n      this.listOfCustByCif = []\r\n    }\r\n  }\r\n\r\n  onKeyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    console.log(event.target.value);\r\n    clearTimeout(this.timer)\r\n    if (!event.target.value) {\r\n      this.isCifValid = false;\r\n      this.applicant.reset();\r\n      this.applicant.get('cifNumber').clearValidators();\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n      this.applicant.get('existingCustomer').patchValue(true);\r\n      this.applicant.get('primaryCustomer').patchValue(true);\r\n      this.listOfCustByCif = []\r\n    } else {\r\n      this.timer = setTimeout(() => {\r\n        this.appApiService.fetchByCif(event.target.value).subscribe((res: any) => { \r\n          console.log(res.cifNumber);\r\n          if (res) {\r\n            this.listOfCustByCif = res.customerInfoList\r\n          }\r\n        })\r\n      }, 1000);\r\n    }\r\n  }\r\n  onChangeData(gender){\r\n    let prefix = this.applicant.value.prefix;\r\n    if(prefix && this.applicant.value.gender){\r\n      if ((prefix == \"Mr\" && (gender == \"Male\")) || ((prefix==\"Ms\" || prefix==\"Mrs\") && (gender == \"Female\"))) {\r\n        this.prefixFlag=true;\r\n      }  else {\r\n        this.prefixFlag=false;\r\n        this.snack.open(\"Prefix and Gender does not match!\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  \r\n  changeIdType(doc){\r\n    console.log(\"doc::\",doc)\r\n    console.log(\"this.customerIdProofs::\",this.customerIdProofs)\r\n   let idProofs:any = this.customerIdProofs.filter(item =>{\r\n     return item.idType == doc;\r\n   })\r\n   console.log(\"idProofs::\",idProofs)\r\n   if(idProofs.length > 0){\r\n    this.applicant.get('idNumber').patchValue(idProofs[0].idNumber);\r\n    this.applicant.get('expiryDate').patchValue(this.convertDate(idProofs[0].expiryDate));\r\n   } else {\r\n    this.applicant.get('idNumber').patchValue('');\r\n    this.applicant.get('expiryDate').patchValue('');\r\n   }\r\n  }\r\n\r\n  isObjectEmpty(value) {\r\n    return (\r\n      Object.prototype.toString.call(value) === '[object Object]' &&\r\n      JSON.stringify(value) === '{}'\r\n    );\r\n  }\r\n\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n    if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  toggleDetails(account) {\r\n    console.log(\"customerId incomming\", account);    \r\n    this.customerInfoForm.get('numOfApplicants').disable({onlySelf:true, emitEvent:false});\r\n    // if (this.selectedApplicant && this.selectedApplicant._id === account._id) {\r\n    //   // Close the details\r\n    //   this.closeDetails();\r\n    //   return;\r\n    // }\r\n    let address: any;\r\n    this.console.log(account.userAddress.length);\r\n    if (account.userAddress.length > 1) {\r\n      address = account.userAddress.find((item: any) => item.addressType == \"Permanent\");\r\n    } else {\r\n      address = account.userAddress[0];\r\n    }\r\n    this.getStateName(address.country);\r\n    // this.getCityName(address.state);\r\n\r\n    let payLoadModel = {\r\n      existingCustomer: account.existingCustomer,\r\n      dependentId: account.dependentId,\r\n      primaryCustomer: account.primaryCustomer,\r\n      cifNumber: account.cifNumber,\r\n      prefix: account.prefix,\r\n      firstName: account.firstName,\r\n      \r\n      middleName: account.middleName,\r\n      lastName: account.lastName,\r\n      gender: account.gender,\r\n      dateOfBirth: account.dateOfBirth,\r\n      placeOfBirth: account.placeOfBirth,\r\n      birthCountry:account.birthCountry,\r\n      maritalStatus:account.maritalStatus,\r\n      residenceStatus: account.residenceStatus,\r\n      nationality: account.nationality,\r\n      countryOfResidence: account.countryOfResidence,\r\n      occupationType: account.occupationType,\r\n      idType: account.custIdProofs[0].idType,\r\n      idNumber: account.custIdProofs[0].idNumber,\r\n      expiryDate: account.custIdProofs[0].expiryDate,\r\n      addressType: address.addressType,\r\n      address1: address.address1,\r\n      address2: address.address2,\r\n      city: address.city,\r\n      state: address.state,\r\n      country: address.country,\r\n      zipCode: address.zipCode,\r\n      phoneNumber: account.phoneNumber,\r\n      landlineNumber: account.landlineNumber,\r\n      primaryEmailAdress: account.primaryEmailAdress\r\n    };\r\n\r\n    this.onSelectionCountryOfresidence(payLoadModel.countryOfResidence);\r\n    this.onSelectionBirthCountry(payLoadModel.birthCountry);\r\n    this.onSelectionCitizenship(payLoadModel.nationality);\r\n    console.log(\"account.firstName=\",account.firstName);\r\n    //console.log(\"firstName=\",this.firstName);\r\n    this.selectedApplicant = account;\r\n    console.log(\"payLoadModel\",payLoadModel);\r\n    this.applicant.patchValue(payLoadModel, {onlySelf:false, emitEvent:false});\r\n    //this.applicant.patchValue(payLoadModel);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  resetAndClose(){\r\n    this.closeDetails();\r\n  }\r\n\r\n  /**\r\n   * Close the details\r\n   */\r\n  closeDetails(): void {\r\n    this.selectedApplicant = null;\r\n    this.applicant.reset();\r\n    this.customerInfoForm.get('numOfApplicants').enable({onlySelf:true});\r\n    \r\n  }\r\n\r\n  getListOfAccounts() {\r\n    this.isBirthCountry = false;\r\n    this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,'loan')\r\n      .subscribe((resp: any) => {\r\n        this.listOfAccounts = resp.status == 200 ? resp.data.map(value => ({ ...value, _id: Math.round(Math.random() * 10000000000) })) : [];\r\n       this.console.log(\" this.listOfAccounts\", this.listOfAccounts)\r\n        console.log(\"All Customer Details\", this.listOfAccounts.length);\r\n        resp.status == 200 ? this.ls.setItem(\"cId\", resp.data[0].customerId) : null;\r\n        console.log(\"Length check??\",this.listOfAccounts.length);\r\n\r\n        if(this.listOfAccounts.length == 0){\r\n          this.applicant.get('existingCustomer').patchValue(true);\r\n          this.applicant.get('primaryCustomer').patchValue(true);\r\n        }else if(this.listOfAccounts.length == 1){\r\n          this.applicant.get('existingCustomer').patchValue(true);\r\n          this.applicant.get('primaryCustomer').patchValue(false);\r\n        }else if(this.listOfAccounts.length >= 2){\r\n          this.customerInfoForm.get('ownership').patchValue('Joint');\r\n         this.applicant.get('existingCustomer').patchValue(true);\r\n         this.applicant.get('primaryCustomer').patchValue(false);\r\n          for (let index = 0; index < resp.data.length; index++) {\r\n            const element = resp.data[index];\r\n            this.customerInfoForm.get('numOfApplicants').patchValue(resp.data[index].numOfApplicants);\r\n          }\r\n        }\r\n\r\n        this.cdr.markForCheck();\r\n\r\n        this.toggleChanges();\r\n      }, (err: any) => {\r\n        \r\n      });\r\n  }\r\n\r\n  removeApplicant(account) {\r\n    this.confirmService\r\n      .confirm({ title: \"Confirm\", message: \"Are you sure want to delete?\", ok: \"Yes\", cancel: \"No\" })\r\n      .subscribe(res => {\r\n        console.log(\"res:: removed \", res);\r\n        if (res) {\r\n          this.appApiService.deleteApplicant(account.customerId, account.dependentId)\r\n            .subscribe((res: any) => {\r\n            }, (err: any) => {\r\n              console.log(err);\r\n              if (err.status == 200) {\r\n                this.snack.open(`Dependent ${account.firstName} ${err.error.text}!`, 'OK', {\r\n                  duration: 4000,\r\n                  verticalPosition: 'top',\r\n                  horizontalPosition: 'right'\r\n                });\r\n                this.getListOfAccounts();\r\n              }\r\n            })\r\n        } else return;\r\n      });\r\n  }\r\n\r\n  fetchByCif(cifNumber, isExistingCustomer) {\r\n    if (this.listOfAccounts.some(acc => acc.cifNumber == cifNumber)) {\r\n      this.isDuplicateCIF = true;\r\n      this.disableSaveBtn = true;\r\n      this.snack.open('Duplicate CIF Number', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    } else {\r\n      this.isDuplicateCIF = false;\r\n      this.disableSaveBtn = false;\r\n      cifNumber && this.appApiService.fetchByCif(cifNumber).subscribe((res: any) => {\r\n        console.log(res)\r\n        \r\n        if (!res) {\r\n          this.isCifValid = false;\r\n          this.snack.open('Invalid CIF Number', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n          this.applicant.get('cifNumber').patchValue('');\r\n          return;\r\n        } else {\r\n          if (res){\r\n            this.isCifValid = true;\r\n            this.api.fetchAccountIdByCustId(cifNumber).subscribe((accountNo: [])=>{\r\n              console.log(accountNo);\r\n              if(accountNo){\r\n                this.ls.setItem(\"cId\", res.customerInfoList[0].customerId);\r\n                let address: any;\r\n                this.console.log(res.customerInfoList[0].userAddress.length);\r\n                if (res.customerInfoList[0].userAddress.length > 1) {\r\n                  address = res.customerInfoList[0].userAddress.find((item: any) => item.addressType == \"Permanent\");\r\n                  console.log(address)\r\n                } else {\r\n                  address = res.customerInfoList[0].userAddress[0];\r\n                  console.log(address)\r\n                }                \r\n                this.getStateName(address.country);\r\n                // this.getCityName(address.state);\r\n                let applicantData = {\r\n                  \r\n                  prefix: res.customerInfoList[0].prefix,\r\n                  cifNumber: res.customerInfoList[0].cifNumber,\r\n                  existingCustomer:isExistingCustomer,\r\n                  customerId: res.customerInfoList[0].customerId,\r\n                  firstName: res.customerInfoList[0].firstName,\r\n                  middleName: res.customerInfoList[0].middleName,\r\n                  lastName: res.customerInfoList[0].lastName,\r\n                  gender: res.customerInfoList[0].gender,\r\n                  dateOfBirth: this.convertDate(res.customerInfoList[0].dateOfBirth),\r\n                  maritalStatus:res.customerInfoList[0].maritalStatus,\r\n                  placeOfBirth: res.customerInfoList[0].placeOfBirth,\r\n                  birthCountry:res.customerInfoList[0].birthCountry,\r\n                  residenceStatus: res.customerInfoList[0].residenceStatus,         \r\n                  nationality: res.customerInfoList[0].citizenship,\r\n                  countryOfResidence: res.customerInfoList[0].countryOfResidence,\r\n                  occupationType: res.customerInfoList[0].occupationType,\r\n                  idType: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idType : '',\r\n                  idNumber: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idNumber : '',  \r\n                  expiryDate:res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].expiryDate : '',\r\n                  // expiryDate: this.convertDate(res.customerInfoList[0].custIdProofs[0].expiryDate),    \r\n                  addressType: address.addressType,\r\n                  address1: address.address1,\r\n                  address2: address.address2,\r\n                  city: address.city,\r\n                  country: address.country,\r\n                  state: address.state,\r\n                  zipCode: address.zipCode,\r\n                  phoneNumber: res.customerInfoList[0].phoneNumber,\r\n                  landlineNumber: res.customerInfoList[0].landlineNumber,\r\n                  primaryEmailAdress: res.customerInfoList[0].primaryEmailAdress\r\n                }\r\n                this.onSelectionCountryOfresidence(applicantData.countryOfResidence);\r\n                this.onSelectionBirthCountry(applicantData.birthCountry);\r\n                this.onSelectionCitizenship(applicantData.nationality);\r\n                this.console.log(\"res.customerInfoList[0].firstName=\",res.customerInfoList[0].firstName);\r\n                this.customerName = res.customerInfoList[0].firstName + ' ' + res.customerInfoList[0].lastName;\r\n                this.applicant.patchValue(applicantData);\r\n                console.log(this.applicant);\r\n              }\r\n              else{\r\n                this.isCifValid = false;               \r\n                this.dialogService.alertForCustomerDialog().subscribe((response) => {\r\n                  console.log(\"response ::\", response);                 \r\n                });            \r\n                this.applicant.get('cifNumber').patchValue('');\r\n              }           \r\n             \r\n            }     \r\n              ); \r\n          }         \r\n      }\r\n        this.cdr.markForCheck();\r\n      }, (err: any) => {\r\n        console.error(err);\r\n      });\r\n      \r\n    }\r\n    \r\n  }\r\n\r\n  getCustomerInformationDetails() {\r\n    this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,'loan')\r\n      .subscribe((resp: any) => {\r\n        this.buildCustomerForm(resp);\r\n      }, (err: any) => {\r\n      });\r\n  }\r\n\r\n\r\n  convertDate(value) {\r\n    let date = moment(value).format('YYYY-MM-DD'); // ISO 8601 format\r\n    // let date = new Date(value).format('yyyy-MMM-dd');\r\n    console.log(\"date\", date);\r\n    if (date)\r\n      return date;\r\n  }\r\n\r\n\r\n  buildCustomerForm(data?) {\r\n    this.console.log(data)\r\n    this.customerInfoForm = this.formBuilder.group({\r\n      productAccountId: data ? data.productAccountId : this.accountId,\r\n      ownership: data ? data[0].ownership : 'Self',\r\n      numOfApplicants: data ? data[0].numOfApplicants : 1,\r\n      applicantDetails: this.addCustFormGroup()\r\n    });\r\n  }\r\n\r\n  toggleChanges() {\r\n    if (this.applicant.get('existingCustomer').value == true) {\r\n      this.applicant.get('cifNumber').enable();\r\n      this.applicant.get('cifNumber').setValidators([Validators.required]);\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n    }\r\n    else {\r\n      this.applicant.get('cifNumber').disable();\r\n      this.applicant.get('cifNumber').clearValidators();\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n  toggleAddForm() {\r\n    this.showNewForm = !this.showNewForm;\r\n  }\r\n\r\n  addCustFormGroup(): FormGroup {\r\n    return this.formBuilder.group({\r\n      existingCustomer: [null, []],\r\n      primaryCustomer: [null, []],\r\n      cifNumber: [''],\r\n      customerId: [''],\r\n      dependentId: [null],\r\n      prefix: ['', Validators.required],\r\n      firstName: ['', Validators.required],\r\n      middleName: [''],\r\n      maritalStatus: [''],\r\n      birthCountry: [''],\r\n      lastName: ['', Validators.required],\r\n      gender: ['', Validators.required],\r\n      dateOfBirth: ['', Validators.required],\r\n      placeOfBirth: ['', Validators.required],\r\n      residenceStatus: ['', Validators.required],\r\n      nationality: ['', Validators.required],\r\n      countryOfResidence: ['', Validators.required],\r\n      occupationType: ['', Validators.required],\r\n      idType: ['', Validators.required],\r\n      idNumber: ['', Validators.required],\r\n      expiryDate: [''],\r\n      addressType: ['', Validators.required],\r\n      address1: ['', [Validators.required,Validators.pattern(\".*[a-zA-Z].*\")]],\r\n      address2: ['', [Validators.required,Validators.pattern(\".*[a-zA-Z].*\")]],\r\n      city: ['', Validators.required],\r\n      state: ['', Validators.required],\r\n      country: ['', Validators.required],\r\n      zipCode: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(10)]],\r\n      phoneNumber: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(10), Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      landlineNumber:  ['', [Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      primaryEmailAdress: ['', [Validators.required,\r\n      Validators.email]],\r\n    })\r\n    \r\n  }\r\n\r\n\r\n  _keyPress(event: any) {\r\n    console.log(event.target.value)\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n\r\n  keyPressAlphanumeric(event) {\r\n    var inp = String.fromCharCode(event.keyCode);\r\n    if (/[a-zA-Z0-9]/.test(inp)) {\r\n      return true;\r\n    } else {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  validateNumber(event) {\r\n    const keyCode = event.keyCode;\r\n\r\n    const excludedKeys = [8, 37, 39, 46];\r\n\r\n    if (!((keyCode >= 48 && keyCode <= 57) ||\r\n      (keyCode >= 96 && keyCode <= 105) ||\r\n      (excludedKeys.includes(keyCode)))) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() { return this.customerInfoForm.controls; }\r\n  get applicantCount() { return this.f.numOfApplicants; }\r\n  get applicant() { return this.f.applicantDetails; }\r\n\r\n\r\n\r\n  getPrefixValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayPrefix = data;\r\n    });\r\n  }\r\n  getMaritalStatus(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.maritalStatusList = data;\r\n    });\r\n  }\r\n\r\n  getOwnershipValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayOwnership = data;\r\n    });\r\n  }\r\n\r\n  getGenderValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayGender = data;\r\n    });\r\n  }\r\n\r\n  getCountryName(key: string) {\r\n    this.apiService.getAllCountries().subscribe((data: any) => {\r\n     for(let i=0; i<data.length;i++){\r\n       if(data[i].authStatus==='A'){     \r\n         this.arrayCountry.push(data[i].countryName);\r\n         this.arrayCountry.sort();\r\n       }\r\n     }\r\n   });\r\n }\r\n  getAdressType(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayAddressType = data;\r\n    });\r\n  }\r\n  \r\n\r\n  getStateName(country,isAdd?) {\r\n    if(isAdd){\r\n      this.applicant.get('zipCode').setValue('');\r\n      this.applicant.get('state').setValue('');\r\n      this.applicant.get('city').setValue('');\r\n}\r\n    this.apiService.getAllCountries().subscribe((data: any) => {\r\n      for(let i=0; i<data.length;i++){       \r\n        if(data[i].countryName == country){\r\n          this.apiService.getStateByCountryId(data[i].id).subscribe((resp: any) => {\r\n          this.arrayState = resp\r\n          })\r\n          break;   \r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  // getCityName(state: any) {\r\n  //   this.entityName = \"city\";\r\n  //   console.log(state)\r\n  //   this.apiService.getDropDownValues1(this.entityName, state).subscribe((data) => {\r\n  //     this.arrayCity = data;\r\n  //     console.log(\"-->\", this.arrayCity)\r\n  //     // this.applicant.valueChanges.subscribe(data=>{\r\n  //     //   console.log('data :: before ',data.city)\r\n  //     //   data.city='';\r\n  //     //   console.log('data :: after ',data.city)\r\n  //     // })\r\n  //     // this.applicant.value.city='';\r\n  //     // this.applicant.get('city').reset();\r\n  //   console.log('this.applicant', this.applicant)\r\n  //   });\r\n  // }\r\n\r\n  getAllAuthCities(){\r\n    this.apiService.getAuthorizedCityInfo().subscribe(res => res.map(r => this.arrayCity.push(r.cityName)))\r\n  }\r\n  onStateChange(){\r\n    this.applicant.get('zipCode').setValue('');\r\n    this.applicant.get('city').setValue('');\r\n  }\r\n  onCityChange(){\r\n    this.applicant.get('zipCode').setValue('');\r\n  }\r\n\r\n\r\n  getResidenceDetails(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayResidence = data;\r\n    });\r\n  }\r\n\r\n  getDocumentType(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.console.log(data);\r\n      this.arrayDocumentType = data;\r\n    });\r\n  }\r\n\r\n\r\n  onSubmit() {\r\n    this.submitted = true;\r\n    console.log('saveapplicant')\r\n    this.isCifValid= false;\r\n    // if (this.customerInfoForm.invalid) {\r\n    //   console.log(\"test\");\r\n\r\n    //   return;\r\n    // }\r\n    // this.loader.open();\r\n\r\n    let payloadObj: any = {};\r\n    const control = this.customerInfoForm.controls['applicantDetails'].value;\r\n    console.log(control);\r\n    let addressObj: any = {};\r\n    let custIdProofs: any = {};\r\n    let custIdProofsArray: any[] = [];\r\n    let addressObjArray: any[] = [];\r\n\r\n    payloadObj.customerId = this.ls.getItem(\"cId\");\r\n    payloadObj.cifNumber = control.cifNumber;\r\n    payloadObj.dependentId = control.dependentId;\r\n    payloadObj.existingCustomer = control.existingCustomer;\r\n    payloadObj.primaryCustomer = control.primaryCustomer;\r\n    payloadObj.residenceStatus = control.residenceStatus;\r\n    payloadObj.placeOfBirth = control.placeOfBirth;\r\n    payloadObj.countryOfResidence = control.countryOfResidence;\r\n    payloadObj.occupationType = control.occupationType;\r\n    payloadObj.phoneNumber = control.phoneNumber;\r\n    payloadObj.primaryEmailAdress = control.primaryEmailAdress;\r\n    payloadObj.prefix = control.prefix;\r\n    payloadObj.firstName = control.firstName;\r\n    payloadObj.middleName = control.middleName;\r\n    payloadObj.lastName = control.lastName;\r\n    payloadObj.cifNumber = control.cifNumber;\r\n    payloadObj.gender = control.gender;\r\n    payloadObj.dateOfBirth = (control.dateOfBirth);\r\n    \r\n    payloadObj.birthCountry = control.birthCountry;\r\n    payloadObj.maritalStatus = control.maritalStatus;\r\n    payloadObj.nationality = control.nationality;\r\n    payloadObj.loanAccountId = this.loanaccountID;\r\n    payloadObj.accountType=\"loan\";\r\n    payloadObj.landlineNumber = control.landlineNumber;\r\n    payloadObj.ownership = this.customerInfoForm.get('ownership').value;\r\n    payloadObj.numOfApplicants = this.customerInfoForm.get('numOfApplicants').value;\r\n    addressObj.address1 = control.address1;\r\n    addressObj.address2 = control.address2;\r\n    addressObj.country = control.country;\r\n    addressObj.state = control.state;\r\n    addressObj.city = control.city;\r\n    addressObj.zipCode = control.zipCode;\r\n    addressObj.addressType = control.addressType;\r\n    addressObjArray.push(addressObj);\r\n\r\n    custIdProofs.expiryDate = (control.expiryDate);\r\n    custIdProofs.idType = control.idType;\r\n    custIdProofs.idNumber = control.idNumber;\r\n    custIdProofsArray.push(custIdProofs);\r\n\r\n    payloadObj.userAddress = addressObjArray;\r\n    payloadObj.custIdProofs = custIdProofsArray;\r\n\r\n    console.log(\"payloadObj\",payloadObj);\r\n    this.isChecked=false;\r\n    this.disabled=false;\r\n    this.appApiService.createAndUpdateAccountants(payloadObj)\r\n      .subscribe((data: any) => {\r\n        console.log(\"data::\",data)\r\n        this.closeDetails();\r\n        this.loader.close();\r\n        console.log(\"Response of service 2 ---> \", data)\r\n        if (data.status === 200) {\r\n        \r\n          this.getListOfAccounts();\r\n          this.snack.open(' Applicant is creating successfully!', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n\r\n          if(data.custDependentModel.primaryCustomer==true){\r\n            this.ls.setItem('primaryCustomerName', data.custDependentModel.firstName + ' ' + data.custDependentModel.lastName);\r\n          }\r\n   \r\n        this.customerInfoForm.get('ownership').patchValue(data.custDependentModel.ownership);\r\n        this.customerInfoForm.get('numOfApplicants').patchValue(data.custDependentModel.numOfApplicants);\r\n\r\n          if(this.customerInfoForm.get('ownership').value == 'Self'){\r\n            this.goToNext();\r\n          }\r\n        }\r\n      }, (err: any) => {\r\n        console.log(err);\r\n        this.loader.close();\r\n        this.snack.open('Error', 'INTERNAL SERVER ERROR', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      })\r\n  }\r\n\r\n\r\n\r\n  uploadImage() {\r\n    console.log(\"Upload Image\");\r\n  }\r\n\r\n  onReset() {\r\n    // reset whole form back to initial state\r\n    this.submitted = false;\r\n    this.customerInfoForm.reset({});\r\n  }\r\n\r\n  onClear() {\r\n    // clear errors and reset ticket fields\r\n    this.submitted = false;\r\n  }\r\n\r\n  goBack() {\r\n    // console.log(\"previousUrl ::\", this.previousUrl);\r\n    // this.router.navigate([this.previousUrl]);\r\n    if(this.productName == \"Classic Home Loan\") {\r\n      this.router.navigate([`/loan/account/asset-details`]);\r\n    }\r\n    else if(this.productName == \"Vehicle Loan\") {\r\n      this.router.navigate([`/loan/account/vehicle-details`]);\r\n    }\r\n    else {\r\n      this.router.navigate([`/loan/account/admission-details`]);\r\n    }\r\n\r\n  }\r\n\r\n  goToNext() {\r\n   // this.onSubmit();\r\n    this.ls.setItem('CUSTOMERINFO_DETAIL_DONE', true);\r\n   \r\n  //  if(this.ls.getItem.accountType!=)\r\n  this.accountService.refresh.next();\r\n  //  this.router.navigate([`/home/application/mandate/${this.accountId}`]);\r\n  this.ls.setItem('LoanNoOfApplicants', this.customerInfoForm.get('numOfApplicants').value);\r\n  this.ls.setItem('ownership_value', this.customerInfoForm.get('ownership').value);\r\n  \r\n  this.router.navigate([`/loan/account/mandate-details`]);\r\n  }\r\n\r\n  isAllSameDigit(event) {\r\n    let count = 0, number = event.target.value;\r\n    if (number != '') {\r\n      for (var i = 0; i < number.length; i++) {\r\n        if (0 == number[i]) {\r\n          count++;\r\n        }\r\n      }\r\n      console.log('number :: ', number);\r\n      console.log('isAllSameDigitVal :: ', count , number.length)\r\n      if (count == number.length) {\r\n        console.log('if loop')\r\n        this.isAllSameDigitVal = true;\r\n      }\r\n      else {\r\n        this.isAllSameDigitVal = false;\r\n      }\r\n    }else{\r\n      this.isAllSameDigitVal = false;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n    this.dataService.sendNavParam({});\r\n  }\r\n\r\n  onSelectionBirthCountry(data: any) {\r\n    this.isBirthCountry = true;\r\n    this.birthCountryImage='';\r\n      this.apiService.countryCurrencyFlaglists(data).subscribe(value => {\r\n        console.log(value);\r\n        this.birthCountryImage = value.currencyId.currencyCode.toLowerCase()\r\n      })\r\n        \r\n  }\r\n\r\n  onSelectionCitizenship(data: any) {   \r\n    this.citizenshipImage = ''; \r\n    if (data != null) {\r\n      this.apiService.countryCurrencyFlaglists(data).subscribe(value => {\r\n\r\n\r\n        this.citizenshipImage = value.currencyCode.toLowerCase()\r\n\r\n      })\r\n    }\r\n  }\r\n\r\n  onSelectionCountryOfresidence(data: any) {\r\n    this.countryResidenceImage = '';\r\n    if (data != null) {\r\n\r\n      this.apiService.countryCurrencyFlaglists(data).subscribe(value => {\r\n        this.countryResidenceImage = value.currencyCode.toLowerCase()\r\n\r\n      })\r\n    }\r\n  }\r\n  getCityandStateByZipcode(countryName, zipcode) {    \r\n    if (countryName && zipcode.length >= 6) {\r\n      this.apiService.fetchStateCityByZipcode(countryName, zipcode).subscribe((res: any) => {\r\n        if(res){\r\n          this.isZipValid=true;\r\n          this.applicant.get('state').setValue(res.stateName);\r\n          this.applicant.get('city').setValue(res.cityName)\r\n        }\r\n        else{\r\n          this.isZipValid=false;\r\n          this.snack.open(\"Entered Zipcode is not exists\", \"OK\", {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","<div fxLayout=\"row\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/undraw_personal_information_re_vw8a.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><h1>Customer Information</h1></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <!-- <mat-progress-bar [mode]=\"determinate\" class=\"session-progress\"></mat-progress-bar> -->\r\n    <mat-card class=\"p-0\">\r\n      <!-- <mat-card-title class=\"\">\r\n        <div class=\"card-title-text\">Customer Information</div>\r\n        <mat-divider></mat-divider>\r\n      </mat-card-title> -->\r\n           \r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Customer Information Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form *ngIf=\"customerInfoForm\" [formGroup]=\"customerInfoForm\" novalidate>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"pb-1\">\r\n                <div class=\"flex-grow-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Ownership*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                        <mat-select name=\"ownership\" formControlName=\"ownership\" placeholder=\"Select\" disableOptionCentering>\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                          <mat-option *ngFor=\"let ownership of arrayOwnership\" [value]=\"ownership\">{{ownership}}</mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card> -->\r\n                      <!-- <mat-error *ngIf=\"assetForm.get('city').hasError('required')\">\r\n                        City is Required!\r\n                      </mat-error> -->\r\n                      <mat-error *ngIf=\"customerInfoForm.get('ownership').hasError('required')\">\r\n                    &nbsp;&nbsp; Ownership is Required!\r\n                  </mat-error>\r\n                  </mat-form-field>\r\n                    </div>\r\n\r\n                \r\n              </div>\r\n            </div>\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n              <div class=\"pb-1\">\r\n                <ng-container *ngIf=\"customerInfoForm.get('ownership').value == 'Joint'; else showAdd\">\r\n                  <div class=\"flex-grow-1\">\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Number of Applicants*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                        <mat-select formControlName=\"numOfApplicants\" name=\"numOfApplicants\" disableOptionCentering>\r\n                          <mat-option>Select</mat-option>\r\n                      <mat-option [value]=\"1\">1</mat-option>\r\n                      <mat-option [value]=\"2\">2</mat-option>\r\n                      <mat-option [value]=\"3\">3</mat-option>\r\n                      <mat-option [value]=\"4\">4</mat-option>\r\n                      <mat-option [value]=\"5\">5</mat-option>\r\n                    </mat-select>\r\n                      <!-- </mat-card> -->\r\n                    </mat-form-field>\r\n                    </div>                    \r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <mat-card-title>\r\n            <fieldset class=\"marginChange\">\r\n            <legend visible=\"true\">Details Of The Applicant</legend>\r\n            </fieldset>\r\n          </mat-card-title>          \r\n          <div fxLayout=\"row\" fxLayoutGap=\"16px\" fxLayoutAlign=\"end end\">\r\n            <div class=\"mb-1\">\r\n              <p class=\"m-0 text-right\">Completed {{ listOfAccounts.length }} /\r\n                {{ customerInfoForm.get('numOfApplicants').value }}</p>\r\n              <mat-progress-bar\r\n                [color]=\"customerInfoForm.get('numOfApplicants').value === listOfAccounts.length ? 'primary' : 'accent'\"\r\n                mode=\"determinate\"\r\n                [value]=\"customerInfoForm.get('numOfApplicants').value === listOfAccounts.length ? 100 : 50\"\r\n                class=\"rounded\" style=\"height: 5px\">\r\n              </mat-progress-bar>\r\n              <mat-hint><small> completed / total applicants </small></mat-hint>\r\n            </div>\r\n          </div>\r\n      \r\n          <!-- *ngIf=\"!showNewForm\" -->\r\n          <div class=\"mt-12\">\r\n            <mat-accordion multi=\"true\">\r\n              <mat-expansion-panel class=\"mb-8\" *ngFor=\"let account of listOfAccounts; let i=index\" expanded=\"true\">\r\n                <mat-expansion-panel-header>\r\n                  <mat-panel-title>\r\n                    <mat-icon class=\"check-circle\">check_circle</mat-icon> <span class=\"ml-8\">Applicant {{ i+1 }}</span>\r\n                  </mat-panel-title>\r\n                </mat-expansion-panel-header>\r\n                <mat-card>\r\n                  <mat-card-header style=\"margin-bottom: -16px !important;\">\r\n                      <div mat-card-avatar>\r\n                        <app-avatar-photo [name]=\"account.firstName + ' ' + account.lastName\"></app-avatar-photo>\r\n                      </div>\r\n                      <mat-card-title>\r\n                        <div fxLayout=\"row\">\r\n                          <h6 class=\"m-0 mr-16\">{{ account.firstName + ' ' + account.lastName }}</h6>\r\n                          <span fxFlex></span>\r\n                          <mat-chip mat-sm-chip [color]=\"'warn'\" *ngIf=\"account.primaryCustomer\"\r\n                            [selected]=\"account.primaryCustomer\">{{account.primaryCustomer ? 'primary' : ''}}</mat-chip>\r\n                        </div>\r\n  \r\n                      </mat-card-title>\r\n                      <mat-card-subtitle><span class=\"mat-caption\">CIF\r\n                          {{ account.cifNumber != null ? '#' + account.cifNumber : '- n/a' }}</span></mat-card-subtitle>\r\n                      <div fxLayout=\"row\" fxFlex=\"1 1 0%\" fxLayoutAlign=\"end end\">\r\n                        <span class=\"group-btn-bg\">\r\n                          <ng-container *ngIf=\"selectedApplicant?._id === account._id; else showEdit\">\r\n                            <a type=\"reset\" mat-icon-button color=\"primary\" (click)=\"resetAndClose()\">\r\n                              <mat-icon>close</mat-icon>\r\n                            </a>\r\n                          </ng-container>\r\n                          <ng-template #showEdit>\r\n                            <a type=\"submit\" mat-icon-button color=\"primary\" (click)=\"toggleDetails(account)\">\r\n                              <mat-icon>edit</mat-icon>\r\n                            </a>\r\n                          </ng-template>\r\n  \r\n                          <a *ngIf=\"account.dependentId\" mat-icon-button color=\"warn\" (click)=\"removeApplicant(account)\">\r\n                            <mat-icon>delete</mat-icon>\r\n                          </a>\r\n                        </span>\r\n                      </div>\r\n                    </mat-card-header>\r\n                    <mat-card-container>\r\n                      <ng-container *ngIf=\"selectedApplicant?._id === account._id\">\r\n                        <ng-container *ngTemplateOutlet=\"detailApplicant; context: {$implicit: account}\"></ng-container>\r\n                      </ng-container>\r\n                   \r\n\r\n                    <ng-template #detailApplicant let-account>\r\n                      <form [formGroup]=\"customerInfoForm\" class=\"mt-32\">\r\n                        <div formGroupName=\"applicantDetails\">\r\n                          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                              <div class=\"pb-1\">\r\n                                <label>Is the applicant an existing customer?</label>\r\n                                &nbsp;&nbsp;&nbsp;&nbsp;\r\n                                <mat-slide-toggle (change)=\"toggleChanges($event)\" class=\"charge\"  formControlName=\"existingCustomer\">\r\n\t\t\t\t</mat-slide-toggle>\r\n                                <div class=\"mb-16\"></div>\r\n                              </div>\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Prefix*</mat-label>\r\n                                  <mat-select name=\"prefix\" formControlName=\"prefix\" disableOptionCentering \r\n                                  (selectionChange)=\"onChangeData(applicant.get('gender').value)\">\r\n                                    <mat-option *ngFor=\"let prefix of arrayPrefix\" [value]=\"prefix\">\r\n                                      {{prefix}}\r\n                                    </mat-option>\r\n                                  </mat-select>\r\n                                  <mat-error *ngIf=\"applicant.get('prefix').hasError('required')\">\r\n                                    Prefix is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                              </div>\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Middle Name</mat-label>\r\n                                  <input matInput name=\"mname\" formControlName=\"middleName\" placeholder=\"Middle Name\"\r\n                                    (keypress)=\"letterOnly($event)\" />\r\n                                </mat-form-field>\r\n                              </div>\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Date of Birth*</mat-label>\r\n                                  <input matInput name=\"date\" readonly formControlName=\"dateOfBirth\"\r\n                                    placeholder=\"DD/MM/YYYY\" [matDatepicker]=\"appDatepicker\" [max]=\"tomorrow\"\r\n                                    [max]=\"maxDate\" />\r\n\r\n                                  <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                                  <mat-error *ngIf=\"applicant.get('dateOfBirth').hasError('required')\">\r\n                                    Date of Birth is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                                <mat-datepicker #appDatepicker></mat-datepicker>\r\n                              </div>\r\n                              \r\n                              <!-- <div  class=\"pb-1\" >\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>Birth Country*</mat-label>\r\n                                      <mat-select name=\"birthCountry\" formControlName=\"birthCountry\" disableOptionCentering>\r\n                                           <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                              {{country}}\r\n                                            </mat-option>\r\n                                      </mat-select>\r\n                                      <mat-error *ngIf=\"applicant.get('birthCountry').hasError('required')\">\r\n                                        Birth Country is Required!\r\n                                      </mat-error>\r\n                                  </mat-form-field>\r\n                              </div> -->\r\n\r\n                              <div  class=\"pb-1\" >\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\" >\r\n                                <mat-label>Birth Country</mat-label>\r\n                                <div fxFlex=\"10\">\r\n                                  <div matPrefix>\r\n                                     <div *ngIf=\"birthCountryImage\" class=\"currency-flag currency-flag-{{birthCountryImage}}\"id=\"flag\"></div>\r\n                                     \r\n                                  </div>\r\n                                </div>\r\n                                <mat-select name=\"birthCountry\" formControlName=\"birthCountry\" required\r\n                                (selectionChange)=\"onSelectionBirthCountry($event.value)\" disableOptionCentering>\r\n                                     <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                        {{country}}\r\n                                      </mat-option>\r\n                                </mat-select>\r\n                              </mat-form-field>\r\n                                <mat-error *ngIf=\"applicant.get('birthCountry').hasError('required')\">\r\n                                  Country of Residence is Required!\r\n                                </mat-error>\r\n                            </div>\r\n\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Resident Status*</mat-label>\r\n                                  <mat-select name=\"residenceType\" formControlName=\"residenceStatus\" disableOptionCentering>\r\n                                    <mat-option *ngFor=\"let residence of arrayResidence\" [value]=\"residence\">\r\n                                      {{residence}}\r\n                                    </mat-option>\r\n                                  </mat-select>\r\n                                  <mat-error *ngIf=\"applicant.get('residenceStatus').hasError('required')\">\r\n                                    Resident Status is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n\r\n                              </div>\r\n\r\n\r\n\r\n                              <!-- <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Country of Residence*</mat-label>\r\n                                  <mat-select name=\"resident\" formControlName=\"countryOfResidence\" disableOptionCentering>\r\n                                    <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                      {{country}}\r\n                                    </mat-option>\r\n                                  </mat-select>\r\n                                  <mat-error *ngIf=\"applicant.get('countryOfResidence').hasError('required')\">\r\n                                    Country of Residence is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                              </div> -->\r\n\r\n\r\n                              <div  class=\"pb-1\" >\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\" >\r\n                                  <mat-label>Country of Residence</mat-label>\r\n                                  <div fxFlex=\"10\">\r\n                                    <div matPrefix>\r\n                                      <div *ngIf=\"countryResidenceImage\" class=\"currency-flag currency-flag-{{countryResidenceImage}}\">\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <mat-select name=\"resident\" formControlName=\"countryOfResidence\" required\r\n                                  (selectionChange)=\"onSelectionCountryOfresidence($event.value)\" disableOptionCentering>\r\n                                       <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                          {{country}}\r\n                                        </mat-option>\r\n                                  </mat-select>\r\n                                </mat-form-field>\r\n                                  <mat-error *ngIf=\"!applicant.get('countryOfResidence').valid && applicant.get('countryOfResidence').touched\">\r\n                                    Country of Residence is Required!\r\n                                  </mat-error>\r\n                              </div>\r\n\r\n\r\n\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>ID Type*</mat-label>\r\n                                  <mat-select name=\"idtype\" formControlName=\"idType\" disableOptionCentering\r\n                                    (selectionChange)=\"changeIdType(applicant.get('idType').value)\">\r\n                                    <mat-option *ngFor=\"let doc of arrayDocumentType\" [value]=\"doc\">\r\n                                      {{doc}}\r\n                                    </mat-option>\r\n                                  </mat-select>\r\n                                  <mat-error *ngIf=\"applicant.get('idType').hasError('required')\">\r\n                                    ID Type is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                              </div>\r\n\r\n                              <div class=\"pb-1\" *ngIf=\"applicant.get('idType').value == 'Passport'\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>ID Type Valid Till</mat-label>\r\n                                  <input matInput name=\"date\"  [required]=\"applicant.get('idType').value == 'Passport'\"\r\n                                    formControlName=\"expiryDate\" \r\n                                    placeholder=\"ID Type Valid Till\" \r\n                                    [matDatepicker]=\"appDatepicker1\" \r\n                                    [min]=\"minDate\"\r\n                                  />\r\n\r\n                                  <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                                  <mat-error *ngIf=\"applicant.get('expiryDate').hasError('required')\">\r\n                                    ID Type Valid Till is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                                <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                              </div>\r\n                            </div>\r\n                            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                              <div class=\"pb-1\">\r\n                                <label>Is the applicant a primary customer?</label>\r\n                                &nbsp;&nbsp;&nbsp;&nbsp;\r\n                                <mat-slide-toggle class=\"charge\"  formControlName=\"primaryCustomer\">\r\n                                </mat-slide-toggle>\r\n\r\n                                <div class=\"mb-16\"></div>\r\n                              </div>\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>First Name*</mat-label>\r\n                                  <input matInput name=\"fname\" formControlName=\"firstName\" placeholder=\"First Name\"\r\n                                    (keypress)=\"letterOnly($event)\" />\r\n                                  <mat-error *ngIf=\"applicant.get('firstName').hasError('required')\">\r\n                                    First Name is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                              </div>\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Last Name*</mat-label>\r\n                                  <input matInput name=\"lname\" formControlName=\"lastName\" placeholder=\"Last Name\"\r\n                                    (keypress)=\"letterOnly($event)\" />\r\n                                  <mat-error *ngIf=\"applicant.get('lastName').hasError('required')\">\r\n                                    Last Name is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                              </div>\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Gender*</mat-label>\r\n                                  <mat-select name=\"gender\" formControlName=\"gender\" disableOptionCentering\r\n                                  (selectionChange)=\"onChangeData($event.value)\">\r\n                                    <mat-option *ngFor=\"let gender of arrayGender\" [value]=\"gender\">\r\n                                      {{gender}}\r\n                                    </mat-option>\r\n                                  </mat-select>\r\n                                  <mat-error *ngIf=\"applicant.get('gender').hasError('required')\">\r\n                                    Gender is Required!\r\n                                  </mat-error>\r\n                                  <mat-hint class=\"ErrMsg\" *ngIf=\"!prefixFlag\">\r\n                                    &nbsp; Prefix and Gender does not match!\r\n                                 </mat-hint>\r\n                                </mat-form-field>\r\n                              </div>\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Birth Place*</mat-label>\r\n                                  <input matInput name=\"bplace\" formControlName=\"placeOfBirth\"\r\n                                    placeholder=\"Birth Place\" />\r\n                                  <mat-error *ngIf=\"applicant.get('placeOfBirth').hasError('required')\">\r\n                                    Birth Place is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                              </div>\r\n\r\n                              <!-- <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Citizenship By*</mat-label>\r\n                                  <mat-select name=\"citizen\" formControlName=\"nationality\" disableOptionCentering>\r\n                                    <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                      {{country}}\r\n                                    </mat-option>\r\n                                  </mat-select>\r\n                                  <mat-error *ngIf=\"applicant.get('nationality').hasError('required')\">\r\n                                    Citizenship By is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                              </div> -->\r\n\r\n                              <div  class=\"pb-1\" >\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\" >\r\n                                  <mat-label>Citizenship By</mat-label>\r\n                                  <div fxFlex=\"10\">\r\n                                    <div matPrefix>\r\n                                      <div *ngIf=\"citizenshipImage\" class=\"currency-flag currency-flag-{{citizenshipImage}}\">\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <mat-select name=\"citizen\" formControlName=\"nationality\" required\r\n                                  (selectionChange)=\"onSelectionCitizenship($event.value)\" disableOptionCentering>\r\n                                       <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                          {{country}}\r\n                                        </mat-option>\r\n                                  </mat-select>\r\n                                </mat-form-field>\r\n                                  <mat-error *ngIf=\"applicant.get('nationality').hasError('required')\">\r\n                                    Citizenship is Required!\r\n                                  </mat-error>\r\n                              </div>\r\n\r\n                              <div  class=\"p-1\" >\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>Marital Status*</mat-label>\r\n                                      <mat-select name=\"maritalStatus\" formControlName=\"maritalStatus\" disableOptionCentering>\r\n                                          <mat-option *ngFor=\"let status of maritalStatusList\" [value]=\"status\">{{ status }}\r\n                                          </mat-option>\r\n                                      </mat-select>\r\n                                      <mat-error *ngIf=\"applicant.get('maritalStatus').hasError('required')\">\r\n                                        Marital Status is Required!\r\n                                      </mat-error>\r\n                                  </mat-form-field>\r\n                              </div>\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Occupation Type*</mat-label>\r\n                                  <input matInput name=\"occupation\" formControlName=\"occupationType\"\r\n                                    placeholder=\"Occupation Type\" />\r\n                                  <mat-error *ngIf=\"applicant.get('occupationType').hasError('required')\">\r\n                                    Occupation Type is Required!\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                              </div>\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Unique ID Number *</mat-label>\r\n                                  <input matInput name=\"uniqueidentity\" formControlName=\"idNumber\"\r\n                                    placeholder=\"Unique ID Number\" maxlength=\"12\"\r\n                                    pattern=\"^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$\" />\r\n                                  <mat-error\r\n                                    *ngIf=\"applicant.get('idNumber').touched && !applicant.get('idNumber').valid\">\r\n                                    <div *ngIf=\"applicant.get('idNumber').hasError('required')\">Unique ID Number is\r\n                                      Required!</div>\r\n                                    <div *ngIf=\"applicant.get('idNumber').hasError('pattern')\">This is a numeric field\r\n                                    </div>\r\n                                  </mat-error>\r\n                                </mat-form-field>\r\n                              </div>\r\n\r\n                            </div>\r\n                          </div>\r\n                          <!-- Address Section start-->\r\n                          <mat-accordion>\r\n                            <mat-expansion-panel class=\"mb-8\" expanded=\"true\">\r\n                              <mat-expansion-panel-header>\r\n                                <mat-panel-title>Communication Address </mat-panel-title>\r\n                              </mat-expansion-panel-header>\r\n\r\n                              <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                  <div class=\"pb-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>Address Line 1*</mat-label>\r\n                                      <textarea matInput formControlName=\"address1\" placeholder=\"Address 1\"></textarea>\r\n                                      <mat-error *ngIf=\"applicant.get('address1').hasError('required')\">\r\n                                        Address Line 1 is Required!\r\n                                      </mat-error>\r\n                                      <mat-error *ngIf=\" applicant.get('address1').touched && applicant.get('address1').hasError('pattern')\">\r\n                                        Please Enter Valid Address \r\n                                       </mat-error>\r\n                                    </mat-form-field>\r\n                                  </div>\r\n\r\n                                  <div class=\"pb-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>Residence Type*</mat-label>\r\n                                      <mat-select name=\"addressType\" formControlName=\"addressType\" disableOptionCentering>\r\n                                        <mat-option *ngFor=\"let addressType of arrayAddressType\" [value]=\"addressType\">\r\n                                          {{addressType}}\r\n                                        </mat-option>\r\n                                      </mat-select>\r\n                                      <mat-error *ngIf=\"applicant.get('addressType').hasError('required')\">\r\n                                        Residence Type is Required!\r\n                                      </mat-error>\r\n                                    </mat-form-field>\r\n                                  </div>\r\n\r\n                                  <div class=\"pb-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>State*</mat-label>\r\n                                      <mat-select name=\"state\" formControlName=\"state\" disableOptionCentering\r\n                                      (selectionChange)=\"onStateChange()\" \r\n                                      >\r\n                                        <mat-option *ngFor=\"let state of arrayState\" [value]=\"state.stateName\">\r\n                                          {{state.stateName}}</mat-option>\r\n\r\n                                      </mat-select>\r\n                                      <mat-error *ngIf=\"applicant.get('state').hasError('required')\">\r\n                                        State is Required!\r\n                                      </mat-error>\r\n                                    </mat-form-field>\r\n                                  </div>\r\n\r\n                                  <div class=\"pb-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>Zip Code*</mat-label>\r\n                                      <input minlength=\"5\" maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"a_zip\"\r\n                                        formControlName=\"zipCode\" onlyNumber placeholder=\"Zip Code\"\r\n                                        (keyup)=\"isAllSameDigit($event)\" (change)=\"getCityandStateByZipcode(applicant.get('country').value,$event.target.value)\" />\r\n                                      <mat-error *ngIf=\"applicant.get('zipCode').hasError('required') &&\r\n                                        !applicant.controls['zipCode'].valid && applicant.controls['zipCode']?.touched\">\r\n                                        Please enter valid Zip Code!(5-10 digits)\r\n                                      </mat-error>\r\n                                    </mat-form-field>\r\n                                    <h5 *ngIf=\"isAllSameDigitVal\" style=\"color: #E74C3C;\">Please enter valid Zip Code!(5-10 digits)\r\n                                    </h5>\r\n                                    <mat-hint class=\"ErrMsg\" *ngIf=\"!isZipValid\">\r\n                                      Entered Zipcode is not exists\r\n                                    </mat-hint>\r\n                                  </div>\r\n\r\n                                 \r\n\r\n                                </div>\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                                  <div class=\"pb-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>Address Line 2*</mat-label>\r\n                                      <textarea matInput formControlName=\"address2\" placeholder=\"Address 2\"></textarea>\r\n                                      <mat-error *ngIf=\"applicant.get('address2').hasError('required')\">\r\n                                        Address Line 2 is Required!\r\n                                      </mat-error>\r\n                                      <mat-error *ngIf=\" applicant.get('address2').touched && applicant.get('address2').hasError('pattern')\">\r\n                                        Please Enter Valid Address \r\n                                       </mat-error>\r\n                                    </mat-form-field>\r\n                                  </div>\r\n\r\n                              \r\n                                  <div class=\"pb-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>Country*</mat-label>\r\n                                      <mat-select name=\"country\" formControlName=\"country\" disableOptionCentering\r\n                                        (selectionChange)=\"getStateName($event.value,true)\">\r\n                                        <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                          {{country}}\r\n                                        </mat-option>\r\n                                      </mat-select>\r\n                                      <mat-error *ngIf=\"applicant.get('country').hasError('required')\">\r\n                                        Country is Required!\r\n                                      </mat-error>\r\n                                    </mat-form-field>\r\n                                  </div>\r\n\r\n                                  <div class=\"pb-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>City*</mat-label>\r\n                                      <mat-select name=\"city\" formControlName=\"city\" disableOptionCentering (selectionChange)=\"onCityChange()\">\r\n                                        <mat-option *ngFor=\"let city of arrayCity\" [value]=\"city\">{{city}}\r\n                                        </mat-option>\r\n                                      </mat-select>\r\n                                      <mat-error *ngIf=\"applicant.get('city').hasError('required')\">\r\n                                        City is Required!\r\n                                      </mat-error>\r\n                                    </mat-form-field>\r\n                                  </div>\r\n\r\n                                \r\n\r\n\r\n                                </div>\r\n                              </div>\r\n                            </mat-expansion-panel>\r\n                          </mat-accordion>\r\n                          <!-- Address Section end -->\r\n                          <!-- Contact Information -->\r\n                          <mat-accordion>\r\n                            <mat-expansion-panel class=\"mb-8\" expanded=\"true\">\r\n                              <mat-expansion-panel-header>\r\n                                <mat-panel-title>Contact Information </mat-panel-title>\r\n                              </mat-expansion-panel-header>\r\n\r\n                              <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                  <div class=\"pb-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>Mobile Number*</mat-label>\r\n                                      <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput\r\n                                        formControlName=\"phoneNumber\" name=\"phoneNumber\" placeholder=\"Mobile Number\" />\r\n                                      <mat-error *ngIf=\"applicant.get('phoneNumber').hasError('required')\">\r\n                                        Mobile Number is Required!\r\n                                      </mat-error>\r\n                                      <mat-error *ngIf=\"applicant.get('phoneNumber').hasError('pattern')\">\r\n                                        Please, Enter 10 digit Mobile Number!\r\n                                      </mat-error>\r\n\r\n                                  </mat-form-field>\r\n                                  <mat-error style=\"margin-top:-20px\" *ngIf=\"applicant.get('phoneNumber').value == '0000000000'\">\r\n                                    &nbsp; &nbsp; Please Enter Correct Mobile Number\r\n                                 </mat-error>\r\n                                  </div>\r\n                                  <div class=\"pb-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>E-mail*</mat-label>\r\n                                      <input matInput name=\"email\" formControlName=\"primaryEmailAdress\"\r\n                                        placeholder=\"e-mail\" />\r\n                                      <mat-error *ngIf=\"applicant.get('primaryEmailAdress').hasError('required')\">\r\n                                        E-mail is Required!\r\n                                      </mat-error>\r\n                                    </mat-form-field>\r\n                                  </div>\r\n                                </div>\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                                  <div class=\"pb-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                      <mat-label>Landline Number</mat-label>\r\n                                      <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"mobile\"\r\n                                        formControlName=\"landlineNumber\" placeholder=\"Landline Number\" />\r\n                                      <!-- <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('required')\">\r\n                                        Landline Number is Required!\r\n                                      </mat-error>\r\n                                      <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('pattern')\">\r\n                                        Please, Enter 10 digit Landline Number!\r\n                                      </mat-error> -->\r\n                                    </mat-form-field>\r\n                                    <mat-error style=\"margin-top:-20px\" *ngIf=\"applicant.get('landlineNumber').value == '0000000000'\">\r\n                                      &nbsp; &nbsp; Please Enter Correct Landline Number\r\n                                   </mat-error>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n\r\n                            </mat-expansion-panel>\r\n                            <div class=\"pb-1\">\r\n                              <button mat-button color=\"primary\" class=\"paddingChange\" [disabled]=\"applicant.invalid\" (click)=\"onSubmit()\">\r\n                                 UPDATE APPLICANT\r\n                              </button>\r\n\r\n\r\n                            </div>\r\n                          </mat-accordion>\r\n                          <!-- Contact Information -->\r\n                        </div>\r\n                      </form>\r\n                    </ng-template>\r\n                  </mat-card-container>\r\n                </mat-card>\r\n              </mat-expansion-panel>\r\n            </mat-accordion>\r\n\r\n          </div>\r\n          <!-- *ngIf=\"showNewForm\" -->\r\n          <div class=\"mt-16\"\r\n            *ngIf=\" customerInfoForm.get('numOfApplicants').value !== listOfAccounts.length\">\r\n            <mat-accordion>\r\n              <mat-expansion-panel class=\"mb-8 borderStyle\"\r\n                [expanded]=\"customerInfoForm.get('numOfApplicants').value === listOfAccounts.length ? false : true\">\r\n                <mat-expansion-panel-header class=\"marginData\">\r\n                  <mat-panel-title class=\"textDesign\">Create New Applicant </mat-panel-title>\r\n                </mat-expansion-panel-header>\r\n                <mat-divider class=\"design\"></mat-divider> \r\n                <div formGroupName=\"applicantDetails\">\r\n                  <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                    <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                     \r\n                      <div class=\"pb-1 pt-3\">\r\n                        <label>Is the applicant an existing customer? </label>\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <!-- {{ listOfAccounts.length }} -->\r\n                        <mat-slide-toggle (change)=\"toggleChanges($event)\" class=\"charge\"  formControlName=\"existingCustomer\" [(ngModel)]=\"isChecked\" [disabled]=\"disabled\"\r\n                         ></mat-slide-toggle>\r\n                        <div class=\"mb-16\"></div>\r\n                      </div>\r\n\r\n                      <div class=\"pb-1\" >\r\n                        <div fxLayout=\"row\" fxLayoutGap=\"2px\" fxLayoutAlign=\"space-between\">\r\n                          <div fxFlex=\"100\" fxFlexAlign=\"center\">\r\n                             <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>CIF Number</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\" style=\"display: flex;\"> -->\r\n                           <input matInput (keypress)=_keyPress($event)\r\n                                (change)=\"fetchByCif(applicant.get('cifNumber').value,applicant.get('existingCustomer').value)\"\r\n                                required formControlName=\"cifNumber\" name=\"cif\"\r\n                                placeholder=\"CIF Number\"\r\n                                [readonly]=\"applicant.get('existingCustomer').value == true ? false : true\"\r\n                                (keyup)=\"onKeyPress($event)\" [formControl]=\"cifNumberForm\" [matAutocomplete]=\"auto\" />\r\n                              <mat-icon *ngIf=\"isCifValid\" matSuffix color=\"primary\">check_circle</mat-icon>\r\n                          <!-- </mat-card> -->\r\n                           <mat-error *ngIf=\"applicant.get('cifNumber').hasError('required') && !applicant.get('cifNumber').valid && applicant.get('cifNumber').touched  && !isCifValid\">\r\n                                CIF Number is Required!\r\n                              </mat-error>\r\n                              <mat-hint class=\"err-msg\" *ngIf=\"isDuplicateCIF\">Duplicate CIF Number</mat-hint>\r\n                              <mat-hint class=\"hintColor\" *ngIf=\"!isCifValid && onbackSpace\">\r\n                                Enter valid CIF Number!</mat-hint>\r\n                               \r\n                               \r\n                              </mat-form-field>\r\n                        </div>                             \r\n                            <div>\r\n                              <mat-autocomplete #auto=\"matAutocomplete\">\r\n                                <mat-option *ngFor=\"let option of listOfCustByCif\" [value]=\"option.customerId\">\r\n                                  <div fxLayout=\"row wrap\" style=\"margin-top: 20px;\">\r\n                                    <div fxFlex=\" 100\">\r\n                                      <div mat-card-avatar *ngIf=\"option?.profileImage =='not_available'\" class=\"example-header-image-dropdown\" fxFlex=\"10\">\r\n                                        <h3 align=\"center\" style=\"margin-top: 5px;font-size: large; color: white;\">\r\n                                          {{option?.firstName | slice:0:1 | uppercase}}\r\n                                        </h3>\r\n                                      </div>\r\n                                      <div *ngIf=\"option?.profileImage !='not_available'\" mat-card-avatar fxFlex=\"10\">\r\n                                        <img matListAvatar\r\n                                          style=\"border-radius: 50%;height: 85%;margin-right: 20px;width: 90%;margin-bottom: 50px;\" align=\"center\"\r\n                                          [src]=\"option?.profileImage\" alt=\"...\">\r\n                                      </div>\r\n                                      <div fxFlex=\"80\">\r\n                                        <h5 style=\"margin-bottom: 0px;\">\r\n                                          {{option?.firstName | uppercase}}\r\n                                          {{option?.middleName | uppercase}}\r\n                                          {{option?.lastName | uppercase}}\r\n                                        </h5>\r\n                                        <h6 style=\"margin-top: 0px;\" class=\"cif-0\">#{{option?.cifNumber}}</h6>\r\n                                      </div>\r\n                                      <mat-icon class=\"right-arrow1\">keyboard_arrow_right</mat-icon>\r\n                                    </div>\r\n                                  </div>\r\n                                </mat-option>\r\n                              </mat-autocomplete>\r\n                            </div>\r\n                          </div>\r\n                          <!-- <div fxFlex=\"15\" fxFlexAlign=\"center\">\r\n                              <a class=\"mb-16\" mat-flat-button color=\"primary\" (click)=\"fetchByCif(applicant.get('cifNumber').value)\">fetch</a>\r\n                            </div> -->\r\n                        </div>\r\n                      </div>\r\n                       \r\n                      <div class=\"pb-1\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>First Name</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                          <input matInput name=\"fname\" formControlName=\"firstName\" placeholder=\"First Name\"\r\n                            (keypress)=\"letterOnly($event)\" />                             \r\n                          <!-- </mat-card>  -->\r\n                          <mat-error *ngIf=\"!applicant.get('firstName').valid && applicant.get('firstName').touched\">\r\n                               First Name is Required!\r\n                          </mat-error> \r\n                          </mat-form-field>                          \r\n                        </div>                          \r\n                      </div>\r\n                      <!-- <div class=\"pb-1\">\r\n                        <div class=\"flex-grow-1\">\r\n                      <mat-hint class=\"p-3\">Customer Prefix*</mat-hint>\r\n                      <mat-card class=\"widthCard inputMatName\">\r\n                         <mat-select name=\"prefix\" formControlName=\"prefix\" disableOptionCentering>\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                          <mat-option *ngFor=\"let prefix of arrayPrefix\" [value]=\"prefix\">\r\n                              {{prefix}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                      </mat-card>\r\n                      <mat-error *ngIf=\"!applicant.get('prefix').valid && applicant.get('prefix').touched\" >\r\n                        &nbsp;&nbsp; Prefix is Required!\r\n                      </mat-error>\r\n                    </div>                          \r\n                      </div>  -->\r\n                      \r\n                      <div class=\"pb-1\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Last Name*</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                          <input matInput name=\"lname\" formControlName=\"lastName\" placeholder=\"Last Name\"\r\n                            (keypress)=\"letterOnly($event)\" />                             \r\n                          <!-- </mat-card>  -->\r\n                          <mat-error *ngIf=\"!applicant.get('lastName').valid && applicant.get('lastName').touched\">\r\n                              Last Name is Required!\r\n                          </mat-error>\r\n                          </mat-form-field>                           \r\n                        </div>                           \r\n                      </div>\r\n\r\n                      <div class=\"pb-1\">\r\n                         <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Date of Birth*</mat-label>\r\n                            <!-- <mat-card class=\"inputMatName marginAlign\"> -->\r\n                              <input matInput name=\"date\" readonly formControlName=\"dateOfBirth\" placeholder=\"DD/MM/YYYY\"\r\n                            [matDatepicker]=\"appDatepicker\" [max]=\"tomorrow\" [max]=\"maxDate\" />                            \r\n                              <!-- <div fxFlex=\"8%\" id=\"toggle\"> -->\r\n                                 <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                                <mat-datepicker #appDatepicker></mat-datepicker>\r\n                              <!-- </div> -->\r\n                            <!-- </mat-card>                             -->\r\n                            <mat-error *ngIf=\"!applicant.get('dateOfBirth').valid && applicant.get('dateOfBirth').touched\">\r\n                               &nbsp;&nbsp;  Date of Birth is Required!\r\n                            </mat-error>    \r\n                          </mat-form-field>                                                  \r\n                          </div>                           \r\n                                                 \r\n                      </div>\r\n\r\n                      <!-- <div class=\"p-1\" >\r\n                         <div class=\"flex-grow-1\">\r\n                      <mat-hint class=\"p-3\">Birth Country*</mat-hint>\r\n                      <mat-card class=\"widthCard inputMatName\">\r\n                         <mat-select name=\"birthCountry\" formControlName=\"birthCountry\" placeholder=\"Select\" required disableOptionCentering>\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                          <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                      {{country}}\r\n                                    </mat-option>\r\n                        </mat-select>\r\n                      </mat-card>\r\n                      <mat-error *ngIf=\"!applicant.get('birthCountry').valid && applicant.get('birthCountry').touched\" >\r\n                        &nbsp;&nbsp; Birth Country is Required!\r\n                      </mat-error>\r\n                    </div>                            \r\n                      </div> -->\r\n\r\n                      <div  class=\"pb-1\" >\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <mat-label >Birth Country</mat-label>\r\n                        <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                          <div fxFlex=\"10\" >\r\n                            <div matPrefix>\r\n                              <div *ngIf=\"birthCountryImage\" class=\"currency-flag currency-flag-{{birthCountryImage}}\">\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <mat-select name=\"birthCountry\" formControlName=\"birthCountry\" placeholder=\"Select\" required\r\n                          (selectionChange)=\"onSelectionBirthCountry($event.value)\" disableOptionCentering>\r\n                               <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                  {{country}}\r\n                                </mat-option>\r\n                          </mat-select>\r\n                        <!-- </mat-card> -->\r\n                          <mat-error *ngIf=\"!applicant.get('countryOfResidence').valid && applicant.get('countryOfResidence').touched\">\r\n                            Country of Residence is Required!\r\n                          </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                    </div>\r\n\r\n                      <div class=\"pb-1\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Resident Status*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                         <mat-select name=\"residenceType\" formControlName=\"residenceStatus\" disableOptionCentering>\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                          <mat-option *ngFor=\"let residence of arrayResidence\" [value]=\"residence\">\r\n                              {{residence}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!applicant.get('residenceStatus').valid && applicant.get('residenceStatus').touched\" >\r\n                        &nbsp;&nbsp; Resident Status  is Required!\r\n                      </mat-error>\r\n                          </mat-form-field>\r\n                    </div>           \r\n\r\n                      </div>  \r\n\r\n\r\n              \r\n                      <!-- <div class=\"pb-1\">\r\n                         <div class=\"flex-grow-1\">\r\n                      <mat-hint class=\"p-3\">Country of Residence*</mat-hint>\r\n                      <mat-card class=\"widthCard inputMatName\">\r\n                         <mat-select name=\"resident\" formControlName=\"countryOfResidence\" disableOptionCentering>\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                           <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                              {{country}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                      </mat-card>\r\n                      <mat-error *ngIf=\"!applicant.get('countryOfResidence').valid && applicant.get('countryOfResidence').touched\" >\r\n                        &nbsp;&nbsp;  Country of Residence  is Required!\r\n                      </mat-error>\r\n                    </div>                          \r\n                      </div>   -->\r\n\r\n                      <div  class=\"pb-1\" >\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label >Country of Residence</mat-label>\r\n                          <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                            <div fxFlex=\"10\">\r\n                              <div matPrefix>\r\n                                <div *ngIf=\"countryResidenceImage\" class=\"currency-flag currency-flag-{{countryResidenceImage}}\">\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <mat-select name=\"resident\" formControlName=\"countryOfResidence\" required placeholder=\"Select\"\r\n                            (selectionChange)=\"onSelectionCountryOfresidence($event.value)\" disableOptionCentering>\r\n                                 <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                    {{country}}\r\n                                  </mat-option>\r\n                            </mat-select>\r\n                          <!-- </mat-card> -->\r\n                            <mat-error *ngIf=\"!applicant.get('countryOfResidence').valid && applicant.get('countryOfResidence').touched\">\r\n                              Country of Residence is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                          </div>\r\n                      </div>\r\n\r\n                      <div class=\"pb-1\">\r\n                         <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>ID Type*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                         <mat-select name=\"idtype\" formControlName=\"idType\" disableOptionCentering\r\n                            (selectionChange)=\"changeIdType(applicant.get('idType').value)\">\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                           <mat-option *ngFor=\"let doc of arrayDocumentType\" [value]=\"doc\">\r\n                              {{doc}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!applicant.get('idType').valid && applicant.get('idType').touched\" >\r\n                        &nbsp;&nbsp;   ID Type is Required!\r\n                      </mat-error>\r\n                          </mat-form-field>\r\n                    </div>                         \r\n                      </div>  \r\n                      <div class=\"pb-1\" *ngIf=\"applicant.get('idType').value == 'Passport'\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>ID Type Valid Till</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginAlign\"> -->\r\n                            <input matInput name=\"date\" readonly formControlName=\"expiryDate\" placeholder=\"ID Type Valid Till\"\r\n                          [matDatepicker]=\"appDatepicker1\" [min]=\"minDate\"  />                            \r\n                            <div fxFlex=\"8%\" id=\"toggle\">\r\n                               <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                              <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                            </div>\r\n                          <!-- </mat-card>                             -->\r\n                          <mat-error *ngIf=\"!applicant.get('expiryDate').valid && applicant.get('expiryDate').touched\">\r\n                             &nbsp;&nbsp; Id Valid Till date  is Required!\r\n                          </mat-error> \r\n                          </mat-form-field>                                                     \r\n                        </div>                          \r\n                      </div>\r\n                    </div>\r\n                    <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                      <div class=\"pb-1 pt-3\" *ngIf=\"listOfAccounts.length == 0\">\r\n                        <label>Is the applicant a primary customer?</label>\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <mat-slide-toggle formControlName=\"primaryCustomer\" class=\"charge\" \r\n                          [disabled]=\"listOfAccounts.length == 0 ? true : false\">\r\n                        </mat-slide-toggle>\r\n\r\n                        <div class=\"mb-16\"></div>\r\n                      </div>\r\n                      <div class=\"pb-1 topChange\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Customer Prefix*</mat-label>\r\n                          <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                            <mat-select name=\"prefix\" formControlName=\"prefix\" disableOptionCentering\r\n                            (selectionChange)=\"onChangeData(applicant.get('gender').value)\">\r\n                            <mat-option value=\"\">Select</mat-option>\r\n                            <mat-option *ngFor=\"let prefix of arrayPrefix\" [value]=\"prefix\">\r\n                              {{prefix}}\r\n                            </mat-option>\r\n                            </mat-select>\r\n                          <!-- </mat-card> -->\r\n                          <mat-error *ngIf=\"!applicant.get('prefix').valid && applicant.get('prefix').touched\" >\r\n                          &nbsp;&nbsp; Prefix is Required!\r\n                          </mat-error>\r\n                          </mat-form-field>\r\n                        </div>     \r\n                      </div>\r\n                      <!-- <div class=\"pb-1\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-hint class=\"p-3\">First Name*</mat-hint>\r\n                          <mat-card class=\"inputMatName\">\r\n                          <input matInput name=\"fname\" formControlName=\"firstName\" placeholder=\"First Name\"\r\n                            (keypress)=\"letterOnly($event)\" />                             \r\n                          </mat-card> \r\n                          <mat-error *ngIf=\"!applicant.get('firstName').valid && applicant.get('firstName').touched\">\r\n                               First Name is Required!\r\n                          </mat-error>                           \r\n                        </div>                          \r\n                      </div> -->\r\n\r\n\r\n                      <div class=\"pb-1\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label >Middle Name</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                          <input matInput name=\"mname\" formControlName=\"middleName\" placeholder=\"Middle Name\"\r\n                            (keypress)=\"letterOnly($event)\" />                                \r\n                          <!-- </mat-card> -->\r\n                          </mat-form-field>\r\n                        </div>                         \r\n                      </div>\r\n\r\n\r\n                      <div class=\"pb-1\">\r\n                         <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label >Gender*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                          <mat-select name=\"gender\" formControlName=\"gender\" disableOptionCentering\r\n                          (selectionChange)=\"onChangeData($event.value)\">\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                            <mat-option *ngFor=\"let gender of arrayGender\" [value]=\"gender\">\r\n                              {{gender}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!applicant.get('gender').valid && applicant.get('gender').touched\" >\r\n                        &nbsp;&nbsp;   Gender is Required!\r\n                      </mat-error>\r\n                      <mat-hint class=\"ErrMsg\" *ngIf=\"!prefixFlag\">\r\n                        &nbsp; Prefix and Gender does not match!\r\n                     </mat-hint>\r\n                          </mat-form-field>\r\n                    </div> \r\n                        \r\n                      </div>  \r\n                      <div class=\"pb-1\">\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Birth Place*</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                          <input matInput name=\"bplace\" formControlName=\"placeOfBirth\" placeholder=\"Birth Place\" \r\n                          oninput=\"this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')\"/>                           \r\n                          <!-- </mat-card>  -->\r\n                          <mat-error *ngIf=\"!applicant.get('placeOfBirth').valid && applicant.get('placeOfBirth').touched\">\r\n                              Last Name is Required!\r\n                          </mat-error> \r\n                          </mat-form-field>                          \r\n                        </div>                         \r\n                      </div>\r\n\r\n                      <!-- <div class=\"pb-1\">\r\n                        <div class=\"flex-grow-1\">\r\n                      <mat-hint class=\"p-3\">Citizenship By*</mat-hint>\r\n                      <mat-card class=\"widthCard inputMatName\">\r\n                          <mat-select name=\"citizen\" formControlName=\"nationality\" placeholder=\"Select\" disableOptionCentering>\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                            <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                              {{country}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                      </mat-card>\r\n                      <mat-error *ngIf=\"!applicant.get('nationality').valid && applicant.get('nationality').touched\" >\r\n                        &nbsp;&nbsp;  Citizenship By is Required!\r\n                      </mat-error>\r\n                    </div>                         \r\n                      </div> -->\r\n\r\n                      <div  class=\"pb-1\" >\r\n                        <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Citizenship By</mat-label>\r\n                          <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                          <div fxFlex=\"10\">\r\n                            <div matPrefix>\r\n                              <div *ngIf=\"citizenshipImage\" class=\"currency-flag currency-flag-{{citizenshipImage}}\">\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <mat-select name=\"citizen\" formControlName=\"nationality\" placeholder=\"Select\" required\r\n                          (selectionChange)=\"onSelectionCitizenship($event.value)\" disableOptionCentering>\r\n                               <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                  {{country}}\r\n                                </mat-option>\r\n                          </mat-select>\r\n                        <!-- </mat-card> -->\r\n                          <mat-error *ngIf=\"!applicant.get('nationality').valid && applicant.get('nationality').touched\">\r\n                            Citizenship is Required!\r\n                          </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"pb-1\" >\r\n                         <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Marital Status</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                          <mat-select name=\"maritalStatus\" formControlName=\"maritalStatus\" required disableOptionCentering>\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                             <mat-option *ngFor=\"let status of maritalStatusList\" [value]=\"status\">{{ status }}\r\n                                  </mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\"!applicant.get('maritalStatus').valid && applicant.get('maritalStatus').touched\" >\r\n                        &nbsp;&nbsp;   Marital Status is Required!\r\n                      </mat-error>\r\n                          </mat-form-field>\r\n                    </div>                            \r\n                      </div>\r\n                      <div class=\"pb-1\">\r\n                         <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Occupation Type*</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                          <input matInput name=\"occupation\" formControlName=\"occupationType\"\r\n                            placeholder=\"Occupation Type\" \r\n                            oninput=\"this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')\"/>                           \r\n                          <!-- </mat-card>  -->\r\n                          <mat-error *ngIf=\"!applicant.get('occupationType').valid && applicant.get('occupationType').touched\">\r\n                               Occupation Type is Required!\r\n                          </mat-error> \r\n                          </mat-form-field>                          \r\n                        </div>                          \r\n                      </div>\r\n\r\n                      <div class=\"pb-1\">\r\n                         <div class=\"flex-grow-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Unique ID *</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                          <input matInput name=\"uniqueidentity\" formControlName=\"idNumber\" placeholder=\"Unique ID\"\r\n                            maxlength=\"12\" (keypress)=\"keyPressAlphanumeric($event)\" />                         \r\n                          <!-- </mat-card>  -->\r\n                          <mat-error *ngIf=\"applicant.get('idNumber').touched && !applicant.get('idNumber').valid\">\r\n                            <div *ngIf=\"applicant.get('idNumber').hasError('required')\">Unique ID is Required!</div>\r\n                            <div *ngIf=\"applicant.get('idNumber').hasError('pattern')\">This is a alphanumeric field\r\n                            </div>\r\n                          </mat-error>  \r\n                          </mat-form-field>                       \r\n                        </div>                           \r\n                      </div> \r\n                    </div>\r\n                  </div>\r\n                  <!-- Address Section start-->\r\n                  <mat-accordion>\r\n                    <mat-expansion-panel class=\"mb-8\" expanded=\"true\">                     \r\n                        <mat-card-title>\r\n                          <fieldset class=\"marginChange\">\r\n                          <legend visible=\"true\">Communication Address</legend>\r\n                          </fieldset>\r\n                        </mat-card-title>\r\n                      \r\n\r\n                      <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" >\r\n                          <div class=\"pb-1\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label >Address Line 1*</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                           <textarea matInput formControlName=\"address1\" placeholder=\"Address 1\"></textarea>\r\n                          <!-- </mat-card> -->\r\n                          <mat-error *ngIf=\"!applicant.get('address1').valid  && applicant.get('address1').touched && applicant.get('address1').hasError('required')\">\r\n                            Address Line 1 is Required!</mat-error> \r\n                            <mat-error *ngIf=\" applicant.get('address1').touched && applicant.get('address1').hasError('pattern')\">\r\n                             Please Enter Valid Address \r\n                            </mat-error>\r\n                              </mat-form-field>\r\n                        </div>                              \r\n                          </div>\r\n                         \r\n                          <div class=\"pb-1\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Residence Type*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                        <mat-select name=\"addressType\" formControlName=\"addressType\" disableOptionCentering>\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                          <mat-option *ngFor=\"let addressType of arrayAddressType\" [value]=\"addressType\">\r\n                                  {{addressType}}\r\n                                </mat-option>  \r\n                        </mat-select>\r\n                      <!-- </mat-card>                        -->\r\n                      <mat-error *ngIf=\"!applicant.get('addressType').valid && applicant.get('addressType').touched\" >\r\n                        &nbsp;&nbsp; Residence Type is Required!\r\n                      </mat-error>\r\n                              </mat-form-field>\r\n                    </div> \r\n                          </div>\r\n                        \r\n                          \r\n                          \r\n                          <div class=\"pb-1\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Zip Code*</mat-label>\r\n                      <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                       <input minlength=\"5\" maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"zipCode\"\r\n                                formControlName=\"zipCode\" onlyNumber placeholder=\"Zip Code\" (change)=\"getCityandStateByZipcode(applicant.get('country').value,$event.target.value)\"\r\n                                (keyup)=\"isAllSameDigit($event)\" />\r\n                      <!-- </mat-card> -->\r\n                      <mat-error *ngIf=\" !applicant.controls['zipCode'].valid && \r\n                              applicant.controls['zipCode']?.touched\" >\r\n                        &nbsp;&nbsp; Valid Zip Code is Required!(5-10 digits)\r\n                      </mat-error>\r\n                      \r\n                      </mat-form-field>\r\n                      <mat-hint class=\"ErrMsg\" *ngIf=\"!isZipValid\">\r\n                        Entered Zipcode is not exists\r\n                      </mat-hint>\r\n                    </div>\r\n                            \r\n                          </div>\r\n                          <div class=\"pb-1\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label >City*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                        <mat-select name=\"city\" formControlName=\"city\" disableOptionCentering (selectionChange)=\"onCityChange()\">\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                          <mat-option *ngFor=\"let city of arrayCity\" [value]=\"city\">{{city}}</mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card>                        -->\r\n                      <mat-error *ngIf=\"!applicant.get('city').valid && applicant.get('city').touched\" >\r\n                        &nbsp;&nbsp; City is Required!\r\n                      </mat-error>\r\n                              </mat-form-field>\r\n                    </div>                              \r\n                          </div>  \r\n\r\n\r\n                        </div>\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">                            \r\n                          <div class=\"pb-1\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Address Line 2*</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                           <textarea matInput formControlName=\"address2\" placeholder=\"Address 2\"></textarea>\r\n                          <!-- </mat-card> -->\r\n                          <mat-error *ngIf=\"!applicant.get('address2').valid  && applicant.get('address2').touched && applicant.get('address2').hasError('required')\">\r\n                            Address Line 2 is Required!</mat-error> \r\n                            <mat-error *ngIf=\" applicant.get('address2').touched && applicant.get('address2').hasError('pattern')\">\r\n                             Please Enter Valid Address \r\n                            </mat-error>\r\n                              </mat-form-field>\r\n                        </div>\r\n                          </div>\r\n                          \r\n                          <div class=\"pb-1\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label >Country*</mat-label>\r\n                      <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                        <mat-select name=\"\" formControlName=\"country\" disableOptionCentering\r\n                                (selectionChange)=\"getStateName($event.value,true)\"\r\n                                >\r\n                          <mat-option value=\"\">Select</mat-option>\r\n                          <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                  {{country}}\r\n                                </mat-option>\r\n                        </mat-select>\r\n                      <!-- </mat-card>-->\r\n                      <mat-error *ngIf=\"!applicant.get('country').valid && applicant.get('country').touched\" >\r\n                        &nbsp;&nbsp; City is Required!\r\n                      </mat-error>\r\n                              </mat-form-field>\r\n                    </div>                              \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <div class=\"flex-grow-1\">\r\n                             <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                     <mat-label>State*</mat-label>\r\n                     <!-- <mat-card class=\"widthCard inputMatName marginChange\"> -->\r\n                       <mat-select name=\"state\" formControlName=\"state\" disableOptionCentering\r\n                       (selectionChange)=\"onStateChange()\" \r\n                       >\r\n                         <mat-option value=\"\">Select</mat-option>\r\n                         <mat-option *ngFor=\"let state of arrayState\" [value]=\"state.stateName\">{{state.stateName}}\r\n                               </mat-option>\r\n\r\n                       </mat-select>\r\n                     <!-- </mat-card> -->\r\n                     <mat-error *ngIf=\"!applicant.get('state').valid && applicant.get('state').touched\" >\r\n                       &nbsp;&nbsp; State is Required!\r\n                     </mat-error>\r\n                     </mat-form-field>\r\n                   </div> \r\n                         </div>\r\n\r\n                             \r\n\r\n                        </div>\r\n                      </div>\r\n                    </mat-expansion-panel>\r\n                  </mat-accordion>\r\n                  <!-- Address Section end -->\r\n                  <!-- Contact Information -->\r\n                  <mat-accordion>\r\n                    <mat-expansion-panel class=\"mb-8\" expanded=\"true\">                     \r\n                        <mat-card-title>\r\n                          <fieldset class=\"marginChange\">\r\n                          <legend visible=\"true\">Contact Information</legend>\r\n                          </fieldset>\r\n                        </mat-card-title>                      \r\n\r\n                      <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                          <div class=\"pb-1\">\r\n                             <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Mobile Number*</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange \"> -->\r\n                           <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput\r\n                                formControlName=\"phoneNumber\" name=\"phoneNumber\" placeholder=\"Mobile Number\" />                             \r\n                          <!-- </mat-card> -->\r\n                          <mat-error *ngIf=\"!applicant.get('phoneNumber').valid  && applicant.get('phoneNumber').touched\">\r\n                                 Please, Enter 10 digit Mobile Number!\r\n                              </mat-error> \r\n                              <mat-error *ngIf=\"applicant.get('phoneNumber').value == '0000000000'\">\r\n                                &nbsp; &nbsp; Please Enter Correct Mobile Number\r\n                             </mat-error> \r\n                              </mat-form-field>      \r\n                                                      \r\n                        </div>                             \r\n                          </div>\r\n                          <div class=\"pb-1\">                          \r\n                          <div class=\"flex-grow-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>E-mail*</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                           <input matInput name=\"email\" formControlName=\"primaryEmailAdress\" placeholder=\"e-mail\" />                             \r\n                          <!-- </mat-card> -->\r\n                          <mat-error *ngIf=\"!applicant.get('primaryEmailAdress').valid  && applicant.get('primaryEmailAdress').touched\">\r\n                                E-mail is Required!\r\n                              </mat-error>  \r\n                            </mat-form-field>                          \r\n                        </div>                                 \r\n                          </div>\r\n                        </div>\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                          <div class=\"pb-1\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <mat-label>Landline Number</mat-label>\r\n                          <!-- <mat-card class=\"inputMatName marginChange\"> -->\r\n                           <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"mobile\"\r\n                                formControlName=\"landlineNumber\" placeholder=\"Landline Number\" />                                \r\n                          <!-- </mat-card>    -->\r\n                          <mat-error *ngIf=\"applicant.get('landlineNumber').value == '0000000000'\">\r\n                            &nbsp; &nbsp; Please Enter Correct Landline Number\r\n                         </mat-error>    \r\n                              </mat-form-field>                         \r\n                        </div>                            \r\n                              \r\n                              <!-- <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('required')\">\r\n                                Landline Number is Required!\r\n                              </mat-error>\r\n                              <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('pattern')\">\r\n                                Please, Enter 10 digit Landline Number!\r\n                              </mat-error> -->\r\n                            \r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                    </mat-expansion-panel>\r\n                    <div class=\"pb-1\">\r\n\r\n                      <!-- <button\r\n                      mat-button\r\n                      color=\"warn\"\r\n                      (click)=\"removeApplicant()\"\r\n                    >\r\n                      <mat-icon></mat-icon> RESET APPLICANT\r\n                    </button> -->\r\n                    </div>\r\n                    <div class=\"pb-1\">\r\n                      <a mat-button color=\"primary\" class=\"paddingChange\"\r\n                      *ngIf=\"applicant.invalid ||isDuplicateCIF || disableSaveBtn || !isZipValid || !prefixFlag; else openSave\"\r\n                       [disabled]=\"applicant.invalid||isDuplicateCIF || !isZipValid || !prefixFlag\"(click)=\"onSubmit()\">\r\n                         ADD APPLICANT\r\n                      </a>\r\n\r\n                      <ng-template #openSave>\r\n                        <a mat-button color=\"primary\" (click)=\"onSubmit()\" class=\"paddingChange\">\r\n                           ADD APPLICANT\r\n                        </a>\r\n                        </ng-template>\r\n\r\n                      <!-- <button\r\n                      mat-button\r\n                      color=\"warn\"\r\n                      (click)=\"removeApplicant()\"\r\n                    >\r\n                      <mat-icon></mat-icon> RESET APPLICANT\r\n                    </button> -->\r\n                    </div>\r\n\r\n                  </mat-accordion>\r\n                  <!-- Contact Information -->\r\n                </div>\r\n              </mat-expansion-panel>\r\n            </mat-accordion>\r\n\r\n          </div>\r\n\r\n          <!-- <pre><code>{{applicant.getRawValue() | json}}</code></pre> -->\r\n          \r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n      <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n        Back\r\n      </button>\r\n      <ng-container *ngIf=\"customerInfoForm.get('ownership').value == 'Joint'; else hideBtn\">\r\n        <button mat-raised-button color=\"primary\" (click)=\"goToNext()\" class=\"Nextbtn\"\r\n        [disabled]=\"customerInfoForm.get('numOfApplicants').value === listOfAccounts.length ? 'false' : 'true'\">\r\n          Next\r\n        </button>\r\n      </ng-container>\r\n      <ng-template #hideBtn>\r\n        <button mat-raised-button color=\"primary\" (click)=\"goToNext()\" class=\"Nextbtn\"\r\n        [disabled]=\"customerInfoForm.get('numOfApplicants').value === listOfAccounts.length ? 'false' : 'true'\">\r\n          Next\r\n        </button>\r\n      </ng-template>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { PostOfferAmendmentSummaryComponent } from 'app/views/loan-account/post-offer-amend-stage/post-offer-amendment-summary/post-offer-amendment-summary.component';\r\n\r\n@Component({\r\n  selector: 'app-repayment-schedule',\r\n  templateUrl: './repayment-schedule.component.html',\r\n  styleUrls: ['./repayment-schedule.component.scss']\r\n})\r\nexport class RepaymentScheduleComponent implements OnInit {\r\n  scheduleLink: FormGroup;\r\n  data: any;\r\n  // loanAccountId: any;\r\n  scheduleStatus: any;\r\n  scheduleForm: FormGroup;\r\n  loanaccountId: any;\r\n  loanInfo: any;\r\n \r\n  constructor( private fb: FormBuilder, private ls: LocalStoreService,private router: Router, private formBuilder: FormBuilder,public dialogRef: MatDialogRef<PostOfferAmendmentSummaryComponent>, private apiService: ApiService,) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountId = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    this.scheduleStatus = JSON.parse(localStorage.getItem('fetchRescheduleData'));\r\n    console.log(this.scheduleStatus)\r\n    console.log(this.scheduleStatus[0].paymentDate)\r\n    // if(this.scheduleStatus.length > 0){\r\n    //   for(let i=0; i < this.scheduleStatus.length; i++){\r\n    //     this.scheduleStatus[i]\r\n    //     console.log(this.scheduleStatus[i])\r\n    //   }\r\n      \r\n    // }\r\n  }\r\n\r\n  close(){\r\n    this.dialogRef.close();\r\n    this.router.navigateByUrl('/loan/account/application-enrichment/loan-repayment');\r\n  }\r\n}\r\n","<div fxLayout=\"row\" class=\"contain\">\r\n    <mat-icon class=\"backIcon\" (click)=\"close()\">close</mat-icon>\r\n</div>\r\n\r\n<form>\r\n    <table class=\"cart-table default-bg mat-elevation-z0\">\r\n      <tbody>\r\n        <tr >\r\n          <div >\r\n            <ng-container >\r\n              <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" class=\"heading\" >\r\n                <th class=\"label\">Payment Number</th>\r\n                <th class=\"label\">Payment Date</th>\r\n                <th class=\"label\">Principal To Be Paid</th>\r\n                <!-- <th class=\"label\">Accumulated Interest</th>\r\n                <th class=\"label\">Balance</th>\r\n                <th class=\"label\">Interest Paid</th> -->\r\n              </div>\r\n              <div *ngFor=\"let data of scheduleStatus\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <td class=\"headingText1\" >{{data.paymentNumber}}</td>\r\n                <td class=\"headingText2\" >{{data.paymentDate}}</td>\r\n                <td class=\"headingText3\" >{{data.principalPaid}}</td>\r\n                <!-- <td class=\"headingText\">{{data.accumulatedInterest}}</td>\r\n                <td class=\"headingText\">{{data.balance}}</td>\r\n                <td class=\"headingText\">{{data.interestPaid}}</td> -->\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </form>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-account-approval-details-summary',\r\n  templateUrl: './account-approval-details-summary.component.html',\r\n  styleUrls: ['./account-approval-details-summary.component.scss']\r\n})\r\nexport class AccountApprovalDetailsSummaryComponent implements OnInit {\r\n\r\n  previousUrl: string = '';\r\n  userRecommendation={'userRecommendation':'Recomended For Approval'};\r\n  details = {\r\n    'requestedLoanAmount' :'$200,000',\r\n    'loanTenure'          :'5 years',\r\n    'rateOfIntrested'     :'5%',\r\n    'loanAmountRecomended':'$500,000',\r\n    'approvedLoanAmount'  :'$200,000',\r\n    'findLoanTenure'      :'5 years',\r\n    'finalRate'           :'5%',\r\n    'applicantName'       :'ABC',\r\n    'applicantType'       :'Home Loan',\r\n    'accountBranch'       : '000',\r\n    'productCode'         : 'HMN 03',\r\n    'productName'         : 'New Home Loan',\r\n    'rateOfIntrest'       :'5.9',\r\n    'loanAmount'          :'$500,000',\r\n    'installmentType'     :'EMI',\r\n    'stage'               :'HML/Stage1',\r\n    'installmentAmount'   :'$100,000',\r\n    'installmentFreq'     :'Monthly',\r\n    'assessmentApprovedMethod':'Internal Score Card',\r\n    'userAction'          :'Action',    \r\n    'date'                :'12/2/2021',\r\n    'charge'              :'$200,000',\r\n    'principle'           :'$100,000',\r\n    'intrest'             :'$100,000',    \r\n                \r\n  };\r\n  \r\n  constructor(private router:Router) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([`${this.previousUrl}`]);\r\n  }\r\n\r\n  accountApprovalStageSummary(){\r\n    this.router.navigate([`/loan/account-approval/list`]);\r\n  }\r\n}\r\n","<div>\r\n    <div fxLayout=\"row\">\r\n        <div fxFlex=\"100\">\r\n            <div class=\"propic text-center\">\r\n                <img src=\"assets/images/svg/undraw_secure_files_re_6vdh.svg\" alt=\"\" class=\"w-90\" />\r\n            </div>\r\n            <div class=\"profile-title text-center mt-8\">\r\n                <div class=\"main-title\"><b>Account Approval Summary Details</b></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class=\"full-width\"> \r\n    <div fxLayout=\"row\">\r\n        <h4 class=\"paraFont\">Assessment Details</h4>\r\n    </div>\r\n\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\">\r\n        \r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex fxFlex.xs=\"100%\" class=\"inputCardclass\">\r\n                                            <mat-card class=\"inputCard\">\r\n\r\n                                                <div fxLayout=\"row wrap\">\r\n                                                    \r\n                                                    <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                        <ng-container>\r\n                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                <mat-hint class=\"headingText\">Requested Loan Amount\r\n                                                                </mat-hint><br>\r\n                                                                <mat-hint class=\"valueText\">{{details.requestedLoanAmount}}</mat-hint>\r\n                                                            </div>\r\n                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                <mat-hint class=\"headingText\">Loan Tenure</mat-hint><br>\r\n                                                                <mat-hint class=\"valueText\">{{details.loanTenure}} </mat-hint>\r\n                                                            </div>\r\n                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                <mat-hint class=\"headingText\">Rate Of Interest\r\n                                                                </mat-hint><br>\r\n                                                                <mat-hint class=\"valueText\">{{details.rateOfIntrested}} </mat-hint>\r\n                                                            </div>\r\n                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                <mat-hint class=\"headingText\">System Recommendation\r\n                                                                </mat-hint><br>\r\n                                                                <mat-hint class=\"valueText\">{{userRecommendation.userRecommendation}} </mat-hint>\r\n                                                            </div>\r\n                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                <mat-hint class=\"headingText\">User Recommendation\r\n                                                                </mat-hint><br>\r\n                                                                <mat-hint class=\"valueText\">{{userRecommendation.userRecommendation}} </mat-hint>\r\n                                                            </div>\r\n                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                <mat-hint class=\"headingText\">Loan Amount Recommended\r\n                                                                </mat-hint><br>\r\n                                                                <mat-hint class=\"valueText\">{{details.loanAmountRecomended}} </mat-hint>\r\n                                                            </div>\r\n                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                <mat-hint class=\"headingText\">Approved Loan Amount\r\n                                                                </mat-hint><br>\r\n                                                                <mat-hint class=\"valueText\">{{details.approvedLoanAmount}} </mat-hint>\r\n                                                            </div>\r\n                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                <mat-hint class=\"headingText\">Final Loan tenure\r\n                                                                </mat-hint><br>\r\n                                                                <mat-hint class=\"valueText\">{{details.findLoanTenure}} </mat-hint>\r\n                                                            </div>\r\n                                                            <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                                                <mat-hint class=\"headingText\">Final Rate</mat-hint><br>\r\n                                                                <mat-hint class=\"valueText\">{{details.finalRate}} </mat-hint>\r\n                                                            </div>\r\n                                                            \r\n                                                             \r\n                                                        </ng-container>\r\n                                                    </div> \r\n \r\n                                                </div>\r\n                                            </mat-card>\r\n                                        </div>\r\n\r\n                                    </ng-container>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                \r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <br>\r\n    <div class=\"fullcard\">\r\n   <div fxLayout=\"row\">\r\n        <h4 class=\"paraFont\">Offer Accept / Reject Details</h4>\r\n    </div>\r\n   <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n        <div fxFlex=\"100%\">\r\n            <mat-card class=\"chequecard\">\r\n                <mat-card-content>\r\n                    <div class=\"full-width\" >\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                    <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                        <ng-container>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                <mat-hint class=\"headingText\">Applicant Name</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.applicantName}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                <mat-hint class=\"headingText\">Approved Loan Amount</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.approvedLoanAmount}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.loanTenure}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Installment Type</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.installmentType}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Installment Frequency</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.installmentFreq}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Rate Of Interest(in %)</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.rateOfIntrested}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Principal</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.principle}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Interest</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.intrest}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Installment Amount</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.installmentAmount}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Charges</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.charge}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Offer Issue Date</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.date}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Generate Date</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.date}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Customer Response</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{userRecommendation.userRecommendation}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Date Of Offer Accept/Reject</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.date}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Offer Expiry Date</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.date}}</mat-hint>\r\n                                            </div>\r\n                                        </ng-container>\r\n                                    </div>\r\n                            </div>\r\n                    </div>\r\n                </mat-card-content>\r\n            </mat-card>\r\n        </div>\r\n    </div>\r\n    \r\n    <br>\r\n    <div class=\"fullcard\">\r\n   <div class=\"fullcard\">\r\n        <div fxLayout=\"row\">\r\n            <h4 class=\"paraFont\">Loan Summary Details </h4>\r\n        </div>\r\n    </div>\r\n   <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n        <div fxFlex=\"100%\">\r\n            <mat-card class=\"chequecard\">\r\n                <mat-card-content>\r\n                    <div class=\"full-width\" >\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                    <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                        <ng-container>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                <mat-hint class=\"headingText\">Applicant Name</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.applicantName}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                <mat-hint class=\"headingText\">Account Type</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.applicantType}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Account Branch</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.accountBranch}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Product Code</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.productCode}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Product Name</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.productName}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Host Product Code</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.productCode}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Host Product Description</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.productName}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                <mat-hint class=\"headingText\">Loan Amount</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.loanAmount}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.loanTenure}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Interest Rate(in %)</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.rateOfIntrested}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Repayment Method</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.assessmentApprovedMethod}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Repayment Frequency</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.installmentFreq}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Application Date</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.date}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Assessment Approval Method</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.assessmentApprovedMethod}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Offer Approved Date</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.date}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                <mat-hint class=\"headingText\">Approver ID</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.productCode}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Stage</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.stage}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Date</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.date}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">Offer Issue Date</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.date}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                <mat-hint class=\"headingText\">User Recommendation</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{userRecommendation.userRecommendation}}</mat-hint>\r\n                                            </div>\r\n                                            <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                <mat-hint class=\"headingText\">User Action</mat-hint>\r\n                                                <br>\r\n                                                <mat-hint class=\"valueText\">{{details.userAction}}</mat-hint>\r\n                                            </div>\r\n                                            \r\n                                        </ng-container>\r\n                                    </div>\r\n                            </div>\r\n                    </div>\r\n                </mat-card-content>\r\n            </mat-card>\r\n        </div>\r\n    </div>\r\n</div>    \r\n    <br>\r\n<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16x\" class=\"mt-32\">\r\n            <button mat-button rounded color=\"grey\" (click)=\"goBack()\">\r\n                Back\r\n            </button>\r\n            <button mat-raised-button color=\"primary\" type=\"submit\" (click)=accountApprovalStageSummary()>\r\n                Done\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-offer-assessment',\r\n  templateUrl: './offer-assessment.component.html',\r\n  styleUrls: ['./offer-assessment.component.scss']\r\n})\r\nexport class OfferAssessmentComponent implements OnInit {\r\n  offerAssessmentFormGroup: FormGroup;\r\n  disableDone:boolean =true;\r\n  isAssesmentDetailsScreen: boolean = false;\r\n  isOfferIssueScreen: boolean = false; \r\n  isOfferIssueRejectScreen: boolean  = false;\r\n  arraySystemRecommendation:any[]=['Approved','Rejected'];\r\n \r\n  \r\n    \r\n    \r\n    constructor( private formBuilder: FormBuilder,\r\n      private ls: LocalStoreService,\r\n      private apiService: ApiService,\r\n      private snack: MatSnackBar, \r\n      private router: Router) {\r\n      this.offerAssessmentFormGroup = this.formBuilder.group({\r\n        loanAccountId:['520',[Validators.required]],\r\n        rateOfInterest : ['',[Validators.required]],\r\n        requestedLoanAmount: ['',[Validators.required]],\r\n        loanTenure: ['',[Validators.required]],\r\n        approvedLoanAmount:['',[Validators.required]],\r\n        userRecommendation:['',[Validators.required]],\r\n        systemRecommendation:['',[Validators.required]],\r\n        loanAmountRecommendation:['',[Validators.required]]\r\n      })\r\n     }\r\n\r\n\r\n     \r\n  ngOnInit(): void {\r\n    \r\n  }\r\n  goBack(){\r\n    this.router.navigate([\"/loan/account/offerstage/list\"]);\r\n  }\r\n  goNext(){\r\n   \r\n      this.apiService.updateAssessment(this.offerAssessmentFormGroup.value).subscribe(data => {\r\n        console.log(\"data\",data);\r\n        if(data != null){\r\n          this.snack.open('Data Saved!', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n          //this.cdr.markForCheck();\r\n        }\r\n      })\r\n      \r\n     \r\n    \r\n \r\n     \r\n    \r\n    this.ls.setItem('assessmentScreen', true);\r\n    this.router.navigate([\"/loan/account/list/offer-issue/offerissue\"]);\r\n  }\r\n  \r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img\r\n        src=\"assets/images/svg/undraw_report_mx0a.svg\"\r\n        alt=\"\"\r\n        class=\"w-80\"\r\n      />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title\"><b>Assessment Details</b></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"column\">\r\n  <form fxLayout=\"column\"  [formGroup]=\"offerAssessmentFormGroup\">\r\n      <div fxFlex=\"100\">\r\n          <mat-card  fxLayout=\"column\" style=\"border-radius: 30px; margin-right: 1.5cm;\">\r\n           <mat-card-title class=\"\">\r\n              <div class=\"card-title-text\" >Assessment Details<mat-divider></mat-divider></div>\r\n           </mat-card-title>\r\n        \r\n          <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <label  class=\"hint\">Request Loan Amount</label>\r\n                <mat-card class=\"inputMatName\">\r\n                  <input matInput formControlName=\"requestedLoanAmount\" class=\"alignment\" type=\"text\" placeholder=\"Request Loan Amount\" />\r\n                </mat-card>\r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <label  class=\"hint\">Loan Tenure</label>\r\n                <mat-card class=\"inputMatName\">\r\n                  <input matInput formControlName=\"loanTenure\" class=\"alignment\" type=\"text\" placeholder=\"Loan Tenure\"/>\r\n                </mat-card>\r\n              </div>\r\n          </div>\r\n          <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n          <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n              <label  class=\"hint\">Rate Of Interest</label>\r\n              <mat-card class=\"inputMatName\">\r\n                <input matInput formControlName=\"rateOfInterest\" class=\"alignment\" type=\"text\" placeholder=\"Rate Of Interest\"/>\r\n              </mat-card>\r\n            </div>\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n              <label class=\"hint\">System Recommendation</label>\r\n              <mat-card class=\"inputMatName\">\r\n                <mat-select placeholder=\"Recommended for Approval\" formControlName=\"systemRecommendation\" disableOptionCentering>\r\n                  <mat-option *ngFor=\"let systemRecommendation of arraySystemRecommendation\" [value]=\"systemRecommendation\"> \r\n                    {{systemRecommendation}} \r\n                  </mat-option> \r\n                </mat-select>\r\n                <!-- <input matInput formControlName=\"systemRecommendation\" class=\"alignment\" type=\"text\" placeholder=\"System Recommendation\"/> -->\r\n              </mat-card>\r\n            </div>\r\n          </div>\r\n          <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n           <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n            <label class=\"hint\">User Recommendation</label>\r\n            <mat-card class=\"inputMatName\">\r\n              <mat-select placeholder=\"User Recommendation\" formControlName=\"userRecommendation\" disableOptionCentering>\r\n                <mat-option *ngFor=\"let systemRecommendation of arraySystemRecommendation\" [value]=\"systemRecommendation\"> \r\n                  {{systemRecommendation}} \r\n                </mat-option> \r\n              </mat-select>\r\n              <!-- <input matInput formControlName=\"userRecommendation\" class=\"alignment\" type=\"text\" placeholder=\"Rate Of Interest\"/> -->\r\n            </mat-card>\r\n          </div>\r\n          <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n            <label class=\"hint\">Loan Amount Recommended</label>\r\n            <mat-card class=\"inputMatName\">\r\n               <input matInput formControlName=\"loanAmountRecommendation\" class=\"alignment\" type=\"text\" placeholder=\"loanAmountRecommendation\"/> \r\n            </mat-card>\r\n           \r\n          </div>\r\n          </div>\r\n          <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n           <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n          <label  class=\"hint\">Approved Loan Amount</label>\r\n          <mat-card class=\"inputMatName\">\r\n            <input matInput formControlName=\"approvedLoanAmount\" class=\"alignment\" type=\"text\" placeholder=\"Approved Loan Amount\"/>\r\n          </mat-card>\r\n        </div>\r\n      \r\n          </div>\r\n        \r\n          </mat-card>\r\n        </div>\r\n        <div class=\"button\">\r\n          <!-- -->\r\n          <button mat-button class=\"Back\" (click)=\"goBack()\" >Back</button>\r\n          <button mat-stroked-button class=\"Next\" (click)=\"goNext()\" [disabled]=\"!offerAssessmentFormGroup.valid\">Next</button>\r\n      </div>\r\n  </form>\r\n</div>","import { DatePipe } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\nimport { AccountService } from '../../account.service';\r\n\r\n@Component({\r\n  selector: 'app-valuation-of-assets',\r\n  templateUrl: './valuation-of-assets.component.html',\r\n  styleUrls: ['./valuation-of-assets.component.scss']\r\n})\r\nexport class ValuationOfAssetsComponent implements OnInit {\r\n  \r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  lastData:any;\r\n  accountForm: FormGroup;\r\n  isValuationofAsset: any;\r\n  showEditOption: boolean = false;\r\n  loanaccountID: any;\r\n  loanInfo: any;  \r\n  constructor(private formBuilder: FormBuilder,private ls: LocalStoreService,\r\n    private snack: MatSnackBar,private loader: AppLoaderService,private api: ApiService, private apiService: ApiService,public datepipe: DatePipe, private router: Router,private accountService:AccountService) { \r\n      this.accountForm = this.formBuilder.group({\r\n      bankValuation : [''],\r\n      assetType: [''],\r\n      propertyAreaSize: [''],\r\n      mktValOfAsset: [''],\r\n      assetValue: [''],\r\n      valuationDate: [''],\r\n      actualPropertyAreaSize: [''],\r\n      actualPropertyAreaInUnits: [''],\r\n      borrowersMktValOfAsset:[''],\r\n      forcedSaleValue: [''],\r\n      faceValOfAsset: [''],\r\n     // propertyAreaInUnits: ['']\r\n      })\r\n     \r\n      \r\n    }\r\n\r\n  ngOnInit(): void {\r\n    /*this.isValuationofAsset = this.ls.getItem('VALUATION_OF_ASSET_DONE');\r\n    if(this.isValuationofAsset == false){\r\n      this.buildAccountForm();\r\n    }\r\nelse{\r\n  this.gettingValuationDetail();\r\n}*/\r\n//this.gettingValuationDetail();\r\nthis.loanaccountID = this.ls.getItem('loanAccountId');\r\nthis.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\nconsole.log(this.loanInfo);\r\nif(this.loanInfo){\r\n  this.loanaccountID = this.loanInfo.loanAccountId;\r\n}\r\nlet isValuationofAsset: boolean = JSON.parse(this.ls.getItem('VALUATION_OF_ASSET_DONE'));\r\n    //if (this.legalOpinionId != null && isValuationofAsset) {\r\n      if (this.loanaccountID != null && isValuationofAsset) {\r\n      this.showEditOption = true;\r\n      setTimeout(() => {\r\n        this.gettingValuationDetail();\r\n      }, 10);\r\n      \r\n    }\r\n    else {\r\n      console.log(\"else\");\r\n      this.showEditOption = false;\r\n      this.buildAccountForm();\r\n    }\r\n   \r\n\r\n    this.lastUpdateByCif();\r\n  }\r\n\r\n  gettingValuationDetail() {\r\n   /* this.api.gettingValuationDetails('200')\r\n      .subscribe((resp: any) => {\r\n       console.log(resp);\r\n       this.buildAccountForm(resp,true);\r\n      });*/\r\n      this.loader.open();\r\n    this.api.gettingValuationDetails(this.loanaccountID)\r\n      .subscribe((resp: any) => {\r\n        this.loader.close();\r\n       console.log(resp);\r\n       this.buildAccountForm(resp,true);\r\n      }, (err: any) => {\r\n        this.loader.close();\r\n      });\r\n  }\r\n\r\n  buildAccountForm(data?,isResponse?:boolean) {\r\n    console.log(data);\r\n    let applicationDate = data ? moment(data.valuationDate).format() : '';\r\n    //let valuation_date= new Date(data.valuationDate).toISOString().substring(0, 10);\r\n    this.accountForm = this.formBuilder.group({\r\n      actualPropertyAreaInUnits: [data? data.actualPropertyAreaInUnits:'',Validators.required],\r\n      actualPropertyAreaSize:[data? data.actualPropertyAreaSize:'',Validators.required],\r\n      assetType:[data? data.assetType:'',Validators.required],\r\n      assetValue:[data? data.assetValue:'',Validators.required],\r\n      bankValuation:[data? data.bankValuation:'',Validators.required],\r\n      borrowersMktValOfAsset:[data? data.borrowersMktValOfAsset:'',Validators.required],\r\n      forcedSaleValue:[data? data.forcedSaleValue:'',Validators.required],\r\n      faceValOfAsset:[data? data.faceValOfAsset:'',Validators.required],\r\n      loanAccountId:[ this.loanaccountID],\r\n     // loanAccountId:[data?data.loanaccountID:''],\r\n      mktValOfAsset:[data? data.mktValOfAsset:'',Validators.required],\r\n     // propertyAreaInUnits:[data? data.propertyAreaInUnits:'',Validators.required],\r\n      propertyAreaSize:[data? data.propertyAreaSize:'',Validators.required],\r\n      valuationDate:[data? applicationDate:'',Validators.compose([ Validators.required, Validators.min(this.lastData)])],\r\n      valuationId:[data? data.valuationId:'']\r\n    });\r\n    console.log(\"this.form\",this.accountForm)\r\n \r\n  }\r\n\r\n  OnSubmit(val){\r\n    console.log(val,\"Values\");\r\n    val.valuationDate= moment(val.valuationDate).format('YYYY-MMM-DD HH:mm:ss');\r\n    // this.ls.setItem('CREDIT_RATING_DONE', true);\r\n    this.api.saveValuationDetails(val).subscribe((data: any) => {\r\n      console.log(data);\r\n      if (data === 200 || data !== null) {\r\n        this.snack.open(' Valuation Assets Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        //this.ls.setItem('VALUATION_OF_ASSET_DONE', true);\r\n        this.next();\r\n      }\r\n      else if (data === 500) {\r\n        this.snack.open('Not able to connect to server!', 'INTERNAL SERVER ERROR', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      }\r\n    }, err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\nnext(){\r\n  this.ls.setItem('VALUATION_OF_ASSET_DONE', true);\r\n  this.accountService.refresh.next();\r\n  this.router.navigate([`/loan/account/list/underwritingStage/legalopinion`]);\r\n\r\n}\r\nlastUpdateByCif(){\r\n  this.apiService.getLoanDetails(this.loanaccountID).subscribe((resp:any)=>{\r\n   \r\n   this.lastData = this.datepipe.transform(resp.applicationDate,\"yyyy-MM-dd\");\r\n \r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\ngoBack(){\r\n   this.router.navigate([\r\n      `/loan/account/list/underwritingStage/creditrating`,\r\n    ]);\r\n}\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/Mask Group 11.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Valuation of Asset</b></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">\r\n      <!-- <mat-card-title class=\"\">\r\n        <div class=\"card-title-text\">Valuation Details</div>\r\n        <mat-divider></mat-divider>\r\n      </mat-card-title> -->\r\n      <!-- <div class=\"divider-line\" id=\"mat-line\">\r\n        <span class=\"mat-title\">Valuation Details</span>\r\n        <mat-divider class=\"mat-line-position\"></mat-divider>\r\n      </div> -->\r\n      <fieldset>\r\n        <legend visible=\"true\">Valuation Details</legend>\r\n    </fieldset>\r\n      <mat-card-content>\r\n        <form  [formGroup]=\"accountForm\">\r\n          <!-- <mat-spinner class=\"spinner\" [diameter]=\"80\" *ngIf=\"showSpinn\"></mat-spinner> -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n                  <mat-label>Bank Valuation*</mat-label>\r\n                  <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                    <mat-select name=\"bankValuation\" formControlName=\"bankValuation\" \r\n                                disableOptionCentering placeholder=\"Enter Bank Valuation\">\r\n                      <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                      <mat-option value=\"INTERNAL\">Internal</mat-option>\r\n                      <mat-option value=\"EXTERNAL\">External</mat-option>\r\n                    </mat-select>\r\n                  <!-- </mat-card> -->\r\n                  <mat-error *ngIf=\"!accountForm.get('bankValuation').valid && accountForm.get('bankValuation').touched\">\r\n                      Bank Valuation is Required!</mat-error>\r\n                </mat-form-field>\r\n                </div>\r\n              \r\n           <div>\r\n\r\n              <!-- <mat-hint>Property Area</mat-hint> -->\r\n              <div fxLayout=\"row\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"15%\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>sq</mat-label>\r\n                    <b><input readonly  matInput formControlName=\"sq\" placeholder=\"sq\" /></b>\r\n                  <!-- <mat-card class=\"inputMatName\">\r\n                      Sq\r\n                    </mat-card> -->\r\n                  </mat-form-field>\r\n                </div>\r\n              \r\n              <div class=\"flex-grow-1 gap\" fxFlex=\"83.3%\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Property Area*</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                    <input matInput formControlName=\"propertyAreaSize\" class=\"alignment\" \r\n                    (keypress)=_keyPress($event) name=\"remarks\" />\r\n                  <!-- </mat-card> -->\r\n                </mat-form-field>\r\n              </div>\r\n                    <!--<mat-error *ngIf=\"!accountForm.get('propertyAreaSize').valid && accountForm.get('propertyAreaSize').touched\">\r\n                        Property Area is Required!</mat-error>-->\r\n                      </div>\r\n            </div>\r\n         \r\n          <div class=\"flex-grow-1\">\r\n            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n              <mat-label>Asset Valuer*</mat-label>\r\n              <!-- <mat-card class=\"inputMatName\"> -->\r\n\r\n                <!--<input matInput formControlName=\"assetValue\" class=\"alignment\"\r\n                  type=\"text\" name=\"assetValue\" />-->\r\n                  <mat-select name=\"assetValue\" formControlName=\"assetValue\" disableOptionCentering>\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"Bank Manager\">Bank Manager</mat-option>\r\n                    <mat-option value=\"Bank Clerk\">Bank Clerk</mat-option>\r\n                    <mat-option value=\"Bank Accountant\">Bank Accountant</mat-option>\r\n                  </mat-select>\r\n                  \r\n              <!-- </mat-card> -->\r\n              <mat-error *ngIf=\"!accountForm.get('assetValue').valid  && accountForm.get('assetValue').touched\">\r\n                  Asset Valuer is Required!</mat-error>\r\n            </mat-form-field>\r\n            </div>\r\n         \r\n      <div>          \r\n        <div fxLayout=\"row \">\r\n          <div class=\"flex-grow-1\" fxFlex=\"20%\">\r\n            <mat-hint class=\"size\"><b>Actual Property Area *</b></mat-hint>\r\n          </div>            \r\n          <div class=\"flex-grow-1 gap\" fxflex=\"20%\">\r\n            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n              <mat-label>Asset Valuer*</mat-label>          \r\n              <mat-select name=\"actualPropertyAreaInUnits\" disableOptionCentering formControlName=\"actualPropertyAreaInUnits\">\r\n              \r\n                <mat-option value=\"Sq\">Sq</mat-option>\r\n                <mat-option value=\"Acr\">Acr</mat-option>\r\n                <mat-option value=\"Cent\">Cent</mat-option>\r\n              </mat-select>  \r\n              <mat-error *ngIf=\"!accountForm.get('actualPropertyAreaInUnits').valid && accountForm.get('actualPropertyAreaInUnits').touched\">\r\n                Actual Area of the Property is Required!\r\n              </mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n          <div class=\"flex-grow-1 gap\" fxflex=\"25%\">\r\n            <mat-form-field appearance=\"outline\" class=\"full-width\">              \r\n              <input matInput formControlName=\"actualPropertyAreaSize\" name=\"actualPropertyAreaSize\"\r\n                  (keypress)=_keyPress($event) name=\"remarks\" class=\"alignment\"/>              \r\n               \r\n                <mat-error *ngIf=\"!accountForm.get('actualPropertyAreaSize').valid && accountForm.get('actualPropertyAreaSize').touched\">\r\n                  Actual Area of the Property is Required!\r\n                </mat-error>\r\n            </mat-form-field>\r\n          </div>                \r\n        </div>\r\n      </div>\r\n          \r\n        <div class=\"flex-grow-2\">\r\n          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n          <mat-label>Market Value Of Asset*</mat-label>\r\n          <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n            <!--<mat-select name=\"mktValOfAsset\" disableOptionCentering formControlName=\"mktValOfAsset\">\r\n              <mat-option value=\"\">Select</mat-option>\r\n              <mat-option value=\"INR\">  Market Value Of Asset</mat-option>\r\n            </mat-select>-->\r\n            <input matInput formControlName=\"mktValOfAsset\" name=\"mktValOfAsset\" placeholder=\"Enter Market Value\"\r\n            (keypress)=_keyPress($event) name=\"remarks\" class=\"alignment\"/>\r\n          <!-- </mat-card> -->\r\n          <mat-error *ngIf=\"!accountForm.get('mktValOfAsset').valid && accountForm.get('mktValOfAsset').touched\">\r\n              Market Value Of Asset is Required!</mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n             \r\n       </div>\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Asset Type*</mat-label>\r\n                  <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n    \r\n                    <!--<input matInput formControlName=\"assetType\" class=\"alignment\"\r\n                      type=\"text\" name=\"assetType\" />-->\r\n                      <mat-select name=\"assetType\" formControlName=\"assetType\" disableOptionCentering>\r\n                        <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                        <mat-option value=\"Personal\">Personal</mat-option>\r\n                        <mat-option value=\"Vehicle\">Vehicle</mat-option>\r\n                        <mat-option value=\"Home\">Home</mat-option>\r\n                      </mat-select>\r\n                      \r\n                  <!-- </mat-card> -->\r\n                  <mat-error *ngIf=\"!accountForm.get('assetType').valid  && accountForm.get('assetType').touched\">\r\n                      Asset Type is Required!</mat-error>\r\n                </mat-form-field>\r\n                </div>\r\n             \r\n                <div class=\"flex-grow-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Borrowers Market Value of Asset*</mat-label>\r\n                  <!-- <mat-card class=\"inputMatName\"> -->\r\n    \r\n                    <input matInput formControlName=\"borrowersMktValOfAsset\" class=\"alignment\" placeholder=\"Borrowers Market Value \"\r\n                    (keypress)=_keyPress($event) name=\"borrowersMktValOfAsset\" />\r\n                      \r\n                  <!-- </mat-card> -->\r\n                  <mat-error *ngIf=\"!accountForm.get('borrowersMktValOfAsset').valid  && accountForm.get('borrowersMktValOfAsset').touched\">\r\n                      Borrowers Market Value of Asset is Required!</mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n               \r\n                <div class=\"flex-grow-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Valuation Date*</mat-label>\r\n                  <!-- <mat-card class=\"inputMatName\" style=\"height:48px;\"> -->\r\n                      <input matInput name=\"valuationDate\" class=\"alignment\" formControlName=\"valuationDate\" placeholder=\"DD/MM/YYYY\"\r\n                      [matDatepicker]=\"appDatepicker\" [min]=\"lastData\" disableOptionCentering/>\r\n                    <!--<mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"  id=\"toggle\"></mat-datepicker-toggle>-->\r\n                    <div fxFlex=\"8%\" id=\"toggle\" class=\"datechange\">\r\n                      <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\" >\r\n                      </mat-datepicker-toggle>\r\n    \r\n                      <mat-datepicker #appDatepicker>\r\n                      </mat-datepicker>\r\n                    </div> \r\n                  <!-- </mat-card> -->\r\n                  <mat-error *ngIf=\"!accountForm.get('valuationDate').valid && accountForm.get('valuationDate').touched\">\r\n                    Valuation Date is Required!</mat-error>\r\n                  </mat-form-field>\r\n                      <!--<mat-datepicker #appDatepicker></mat-datepicker>-->\r\n                </div>\r\n           \r\n            <div class=\"flex-grow-2\">\r\n              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n              <mat-label>Face Value Of Asset*</mat-label>\r\n              <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                <!--<mat-select name=\"faceValOfAsset\" formControlName=\"faceValOfAsset\" disableOptionCentering>\r\n                  <mat-option value=\"\">Select</mat-option>\r\n                  <mat-option value=\"Face Value Of Asset\">Face Value Of Asset</mat-option>\r\n                </mat-select>-->\r\n                <input matInput formControlName=\"faceValOfAsset\" class=\"alignment\" placeholder=\"Enter Face Value\"\r\n                (keypress)=_keyPress($event) name=\"faceValOfAsset\" />\r\n              <!-- </mat-card> -->\r\n              <mat-error *ngIf=\"!accountForm.get('faceValOfAsset').valid && accountForm.get('faceValOfAsset').touched\">\r\n                  Face Value Of Asset is Required!</mat-error>\r\n              </mat-form-field>\r\n            </div>\r\n           \r\n            <div class=\"flex-grow-1\">\r\n              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n              <mat-label>Forced Sale Value*</mat-label>\r\n              <!-- <mat-card class=\"inputMatName\"> -->\r\n\r\n                <input matInput formControlName=\"forcedSaleValue\" class=\"alignment\" placeholder=\"Enter Forced Sale Value\"\r\n                (keypress)=_keyPress($event) name=\"forcedSaleValue\" />\r\n                  \r\n              <!-- </mat-card> -->\r\n              <mat-error *ngIf=\"!accountForm.get('forcedSaleValue').valid  && accountForm.get('forcedSaleValue').touched\">\r\n                Forced Sale Value is Required</mat-error>\r\n              </mat-form-field>\r\n            </div>\r\n       \r\n\r\n            </div>\r\n          </div>          \r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n\r\n      <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n        Back\r\n      </button>\r\n\r\n      <button mat-raised-button color=\"primary\" class=\"Nextbtn\" (click)=\"OnSubmit(accountForm.value)\" [disabled]=\"!accountForm.controls['bankValuation'].valid || !accountForm.controls['assetValue'].valid || !accountForm.controls['actualPropertyAreaInUnits'].valid || !accountForm.controls['actualPropertyAreaSize'].valid || !accountForm.controls['mktValOfAsset'].valid ||! accountForm.controls['assetType'].valid \r\n      || !accountForm.controls['borrowersMktValOfAsset'].valid || !accountForm.controls['valuationDate'].valid || !accountForm.controls['faceValOfAsset'].valid || !accountForm.controls['forcedSaleValue'].valid\">\r\n       Next\r\n     </button>\r\n    \r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n","import { AutofillMonitor } from '@angular/cdk/text-field';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountServiceSummaryComponent } from './account-services/account-service-summary/account-service-summary.component';\r\n//import { AccountServiceSummaryComponent } from 'app/views/home/application-entry-stage/account-service-summary/account-service-summary.component';\r\nimport { AccountServicesComponent } from './account-services/account-services.component';\r\nimport { LoanChargeDetailsSummaryComponent } from './loan-charge-details/loan-charge-details-summary/loan-charge-details-summary.component';\r\nimport { LoanDisbursementDetailsComponent } from './loan-disbursement-details/loan-disbursement-details.component';\r\nimport { LoanDisbursementSummaryComponent } from './loan-disbursement-details/loan-disbursement-summary/loan-disbursement-summary.component';\r\nimport { LoanInterestSummaryComponent } from './loan-intrest-details/loan-interest-summary/loan-interest-summary.component';\r\nimport { LoanRepaymentSummaryComponent } from './loan-repayment-component/loan-repayment-summary/loan-repayment-summary.component';\r\n\r\n@Component({\r\n  selector: 'app-loan-enrichment',\r\n  templateUrl: './loan-enrichment.component.html',\r\n  styleUrls: ['./loan-enrichment.component.scss']\r\n})\r\nexport class LoanEnrichmentComponent implements OnInit {\r\n  loanInterestDetailsScreen: boolean=false;\r\n  loanDisbursementDetailsScreen: boolean=false;\r\n  loanRepaymentDetailsScreen: boolean=false;\r\n  loanChargeDetailsScreen: boolean=false;\r\n  loanAccountServicesScreen: boolean=false;\r\n  isLoanApplicationEnrichementDone: boolean= false;\r\n\r\n  constructor(private router:Router,public dialog: MatDialog,private ls: LocalStoreService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanInterestDetailsScreen = this.ls.getItem('LOAN_INTERST_DETAIL_DONE');\r\n    this.loanDisbursementDetailsScreen= this.ls.getItem('LOAN_DISBURSEMENT_DETAIL_DONE');\r\n    this.loanRepaymentDetailsScreen = this.ls.getItem('LOAN_REPAYMENT_DETAIL_DONE');\r\n    this.loanChargeDetailsScreen = this.ls.getItem('LOAN_CHARGE_DETAILS');\r\n    this.loanAccountServicesScreen = this.ls.getItem('LOAN_ACCOUNT_SERVICES_DONE');\r\n   \r\n    if(this.loanInterestDetailsScreen && this.loanDisbursementDetailsScreen && this.loanRepaymentDetailsScreen\r\n      && this.loanChargeDetailsScreen && this.loanAccountServicesScreen){\r\n        this.isLoanApplicationEnrichementDone=true;\r\n      }\r\n\r\n  }\r\n  goToLoanInterest(){\r\n  \r\n      const dialogRef = this.dialog.open(LoanInterestSummaryComponent, { data: { number: '9656849771', type: 'Mobile Number' }, disableClose: true });\r\n      dialogRef.afterClosed().subscribe((submit) => {\r\n    \r\n  \r\n    })\r\n   \r\n  }\r\n  goToLoanDisbursement(){\r\n  \r\n    const dialogRef = this.dialog.open(LoanDisbursementSummaryComponent, { data: { number: '9656849771', type: 'Mobile Number' }, disableClose: true });\r\n    dialogRef.afterClosed().subscribe((submit) => {\r\n  \r\n\r\n  })\r\n\r\n}\r\ngoToLoanRepayment(){\r\n  \r\n  const dialogRef = this.dialog.open(LoanRepaymentSummaryComponent, { data: { number: '9656849771', type: 'Mobile Number' }, disableClose: true });\r\n  dialogRef.afterClosed().subscribe((submit) => {\r\n\r\n\r\n})}\r\n\r\n\r\ngoChargeSummary(){\r\n  \r\n  const dialogRef = this.dialog.open(LoanChargeDetailsSummaryComponent, { data: { number: '9656849771', type: 'Mobile Number' }, disableClose: true });\r\n  dialogRef.afterClosed().subscribe((submit) => {\r\n\r\n\r\n})}\r\ngoToAccountSummary(){\r\n  \r\n  const dialogRef = this.dialog.open(AccountServiceSummaryComponent,  { height:'auto',data: { number: '9656849771', type: 'Mobile Number' }, disableClose: true });\r\n  dialogRef.afterClosed().subscribe((submit) => {\r\n\r\n\r\n})}\r\n\r\nnavigate(){\r\n  //this.router.navigate([`/home/application/enrichment/fullSummary`, this.accountId]);\r\n  this.router.navigate([`/loan/account/application-enrichment/Summary`]);\r\n}\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"profile-pic text-center\">\r\n        <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n        <i class=\"fa fa-edit upload-icon\"></i>\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Create Retail Loan Account</b></div>\r\n        <div class=\"text-muted\">\r\n            Open a Retail Loan Account with XYZ Bank in a better way. \r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div fxFlex=\"100\" *ngIf=\"isLoanApplicationEnrichementDone\" class=\"mt-8\">\r\n      <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n          <div fxFlex=\"10\"><mat-icon class=\"text-green\">check_circle</mat-icon></div>\r\n          <div fxFlex=\"30\">\r\n            <h6>Application Enrichment Completed</h6>\r\n          </div>\r\n          <span fxFlex></span>\r\n          <button mat-button color=\"primary\" (click)=\"navigate()\">View Summary</button>\r\n        </div>\r\n      </mat-card>\r\n    </div>\r\n    <!-- <div fxFlex=\"100\" class=\"mt-8\"> -->\r\n    \r\n      \r\n      <!-- <mat-card\r\n        [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\"\r\n      >\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n          <div fxFlex=\"10\">\r\n            <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n          </div>\r\n          <!-- <div fxFlex=\"30\">\r\n            <h6>Application Entry Stage Completed</h6>\r\n          </div>\r\n          <span fxFlex></span>\r\n          <button\r\n            mat-button\r\n            color=\"primary\"\r\n          >\r\n            View Summary\r\n          </button>\r\n        </div>\r\n      </mat-card>\r\n    <!-- </div>\r\n  </div> -->\r\n\r\n\r\n  <div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n      <!-- Card 1 start-->\r\n      <mat-card  [ngClass]=\"{'border-size':loanInterestDetailsScreen || !loanInterestDetailsScreen}\">\r\n        <mat-card-header>\r\n          <mat-card-title>1.Loan Interest Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                Interest Type and Effective Interest Rate is captured.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/loanInterest.svg'\" class=\"card-img1\" />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"loanInterestDetailsScreen\">\r\n            <button mat-button\r\n            color=\"primary\"\r\n            (click)=\"goToLoanInterest()\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"!loanInterestDetailsScreen\" >\r\n          <button \r\n        mat-button\r\n        [routerLink]=\"['/loan/account/application-enrichment/intrest-details']\"\r\n        color=\"primary\"\r\n      >\r\n        Add Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n      </ng-container >\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 1 end -->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start-->\r\n      <mat-card [ngClass]=\"{'border-size':loanDisbursementDetailsScreen || !loanDisbursementDetailsScreen && loanInterestDetailsScreen }\">\r\n        <mat-card-header>\r\n          <mat-card-title>2. Loan Disbursement Details </mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                Loan disbursement mode and corresponding details are captured.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/loanDisbursement.svg'\r\n                \"\r\n                class=\"card-img1\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n        \r\n          <ng-container *ngIf=\"loanDisbursementDetailsScreen && loanInterestDetailsScreen; else showLoanDetail\">\r\n            <button\r\n            mat-button\r\n            color=\"primary\"\r\n           (click)=\"goToLoanDisbursement()\"\r\n          >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </ng-container>\r\n        <ng-template #showLoanDetail>\r\n          <button\r\n          mat-button\r\n          [routerLink]=\"['/loan/account/application-enrichment/loan-disbursement']\"\r\n          [disabled]=\"!loanInterestDetailsScreen\"\r\n          color=\"primary\"\r\n        >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n        </button>\r\n        </ng-template>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>\r\n\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start-->\r\n      <mat-card [ngClass]=\"{'border-size':loanRepaymentDetailsScreen || !loanRepaymentDetailsScreen && loanDisbursementDetailsScreen }\"> \r\n        <mat-card-header>\r\n          <mat-card-title>3. Loan Repayment Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                All the primary information about the customer is captured.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/undraw_Payments_re_77x0.svg'\r\n                \"\r\n                class=\"card-img1\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n         \r\n          <ng-container *ngIf=\"loanRepaymentDetailsScreen && loanDisbursementDetailsScreen; else showLoanRepayment\">\r\n            <button\r\n            mat-button\r\n            color=\"primary\"\r\n         (click)=\"goToLoanRepayment()\"\r\n          >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </ng-container>\r\n        <ng-template #showLoanRepayment>\r\n          <button\r\n          mat-button\r\n          [routerLink]=\"['/loan/account/application-enrichment/loan-repayment']\"\r\n          [disabled]=\"!loanDisbursementDetailsScreen\"\r\n          color=\"primary\"\r\n        >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n        </button>\r\n        </ng-template>\r\n         \r\n        </mat-card-actions>\r\n        \r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start-->\r\n      <mat-card [ngClass]=\"{'border-size':loanChargeDetailsScreen || !loanChargeDetailsScreen && loanRepaymentDetailsScreen }\">\r\n        <mat-card-header>\r\n          <mat-card-title>4. Charge Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                Charge Details are dispalyed.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/charge_screen.svg'\r\n                \"\r\n                class=\"card-img1\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n         \r\n          <ng-container *ngIf=\"loanChargeDetailsScreen && loanRepaymentDetailsScreen; else showLoanCharge\">\r\n            <button\r\n            mat-button\r\n            color=\"primary\" (click)=\"goChargeSummary()\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </ng-container>\r\n        <ng-template #showLoanCharge>\r\n          <button\r\n          mat-button\r\n          [routerLink]=\"['/loan/account/application-enrichment/charge-details']\"\r\n          [disabled]=\"!loanRepaymentDetailsScreen\"\r\n          color=\"primary\"\r\n        >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n        </button>\r\n        </ng-template>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>\r\n    <!-- card 3 start -->\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card [ngClass]=\"{'border-size':loanAccountServicesScreen || !loanAccountServicesScreen && loanChargeDetailsScreen }\">\r\n        <mat-card-header>\r\n          <mat-card-title>5.Account Services</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">Statement preference and the holiday preferences are captured.</p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"'assets/images/svg/accountService.svg'\"\r\n                class=\"card-img1\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n        \r\n          <ng-container *ngIf=\"loanChargeDetailsScreen && loanAccountServicesScreen; else showLoanAccountService\">\r\n            <button\r\n            mat-button\r\n            color=\"primary\" (click)=\"goToAccountSummary()\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </ng-container>\r\n        <ng-template #showLoanAccountService>\r\n          <button\r\n          mat-button\r\n          [routerLink]=\"['/loan/account/application-enrichment/account-services']\"\r\n          [disabled]=\"!loanChargeDetailsScreen\"\r\n          color=\"primary\"\r\n        >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n        </button>\r\n        </ng-template>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div>\r\n    <!-- Card 3 end -->\r\n    <!-- card 4 start -->\r\n \r\n    <!-- card 4 end -->\r\n    <!-- card -5 start -->\r\n  \r\n    <!-- card 5 end -->\r\n\r\n     <!-- card -6 start -->\r\n   \r\n      <!-- card 6 end -->\r\n\r\n      <!-- card -7 start -->\r\n   \r\n      <!-- card 7 end -->\r\n  </div>\r\n  \r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-underwriting-stage',\r\n  templateUrl: './underwriting-stage.component.html',\r\n  styleUrls: ['./underwriting-stage.component.scss']\r\n})\r\nexport class UnderwritingStageComponent implements OnInit {\r\n // PArent 3\r\n isUnderWritingStageDone: boolean = false;\r\n // SUB TREES\r\n isCreditRatingDetails: boolean = false;\r\n isValuationofAsset: boolean = false;\r\n isLegalOpinion: boolean = false;\r\n  loanAccId: any;\r\n  constructor(private ls: LocalStoreService,private dialogService : DialogService,private router: Router) { \r\n    this.loanAccId = \"200\";\r\n  }\r\n\r\n  ngOnInit(): void {\r\n     // Parent 1\r\n     this.isUnderWritingStageDone = this.ls.getItem('underWritingStage');\r\n        // Parent 1 childs nav\r\n    this.isCreditRatingDetails = this.ls.getItem('CREDIT_RATING_DONE');\r\n    this.isValuationofAsset = this.ls.getItem('VALUATION_OF_ASSET_DONE');\r\n    this.isLegalOpinion = this.ls.getItem('LEGAL_OPINION_DONE');\r\n\r\n  }\r\n\r\n  goToCreditRatingSummary(){\r\n    this.dialogService.creditRatingSummaryDialog();\r\n  }\r\n\r\n  goToValuationAssetsSummary(){\r\n    this.dialogService.valuationAssetsSummaryDialog();\r\n  }\r\n\r\n  goToLegalOpinionSummary(){\r\n    this.dialogService.legalOpinionSummaryDialog();\r\n  }\r\n  viewSummary(){\r\n    this.router.navigate([`loan/account/list/underwritingStage/summary`,]);\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <!-- <div class=\"propic text-center\">\r\n        <img src=\"assets/images/face-7.png\" alt=\"\" class=\"w-80\" />\r\n      </div> -->\r\n      <div class=\"profile-pic text-center\">\r\n        <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n        <i class=\"fa fa-edit upload-icon\"></i>\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Create Retail Loan Account</b></div>\r\n        <div class=\"text-muted\">\r\n            Open a Retail Loan Account with XYZ Bank in a better way. \r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-8\"  *ngIf=\"isUnderWritingStageDone\">\r\n      <mat-card\r\n        [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\"\r\n      >\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n          <div fxFlex=\"10\">\r\n            <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n          </div>\r\n          <div fxFlex=\"30\">\r\n            <h6>Underwriting Stage</h6>\r\n          </div>\r\n          <span fxFlex></span>\r\n          <button\r\n            mat-button\r\n            (click) =\"viewSummary()\"\r\n            color=\"primary\" \r\n          >\r\n            View Summary\r\n          </button>\r\n        </div>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n      <!-- Card 1 start-->\r\n      <mat-card [ngClass]=\"{'border-size':isCreditRatingDetails || !isCreditRatingDetails}\">\r\n        <mat-card-header>\r\n          <mat-card-title>1. Credit Rating Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                The information on the External Rating Agencies Rating / Scores for the Loan Applicant is collected.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/Mask_Group_9.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\" *ngIf=\"isCreditRatingDetails\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> \r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n            <ng-container *ngIf=\"isCreditRatingDetails; else showCredit\">\r\n                <button\r\n              mat-button\r\n              (click)=\"goToCreditRatingSummary()\"\r\n              color=\"primary\"\r\n            >\r\n              View Details <mat-icon>chevron_right</mat-icon>\r\n                </button>\r\n            </ng-container>\r\n\r\n            <ng-template #showCredit>\r\n                <button \r\n              mat-button\r\n              [routerLink]=\"['/loan/account/list/underwritingStage/creditrating']\"\r\n              color=\"primary\"\r\n            >\r\n              Add Details <mat-icon>chevron_right</mat-icon>\r\n                </button>\r\n            </ng-template>\r\n        \r\n            \r\n          </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 1 end -->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start-->\r\n      <mat-card [ngClass]=\"{'border-size':isValuationofAsset || !isValuationofAsset && isCreditRatingDetails}\">\r\n        <mat-card-header>\r\n          <mat-card-title>2. Valuation of Asset</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                The information on the asset valuation done by the bank approved valuator is captured.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/Mask Group 11.svg'\r\n                \"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\"  *ngIf=\"isValuationofAsset\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            \r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container  *ngIf=\"isValuationofAsset; else showValuation\">\r\n              <button\r\n            mat-button\r\n            (click)=\"goToValuationAssetsSummary()\"\r\n            color=\"primary\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-container>\r\n\r\n          <ng-template #showValuation>\r\n              <button \r\n            mat-button\r\n            [routerLink]=\"['/loan/account/list/underwritingStage/valuationofassets']\"\r\n            color=\"primary\"\r\n            [disabled]=\"!isCreditRatingDetails\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-template>\r\n      \r\n          \r\n        </mat-card-actions>\r\n     \r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>\r\n    <!-- card 3 start -->\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card [ngClass]=\"{'border-size':isLegalOpinion || !isLegalOpinion && isValuationofAsset}\">\r\n        <mat-card-header>\r\n          <mat-card-title>3. Legal Opinion</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\"  class=\"notActive\">\r\n              <p class=\"text-align\">The legal opinion provided by the bank approved lawyer and decision provided thereon is captured.</p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"'assets/images/svg/Mask Group 10.svg'\"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\" *ngIf=\"isLegalOpinion\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            \r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container  *ngIf=\"isLegalOpinion; else showOpinion\">\r\n              <button\r\n            mat-button\r\n            (click)=\"goToLegalOpinionSummary()\"\r\n            color=\"primary\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-container>\r\n\r\n          <ng-template #showOpinion>\r\n              <button \r\n            mat-button\r\n            [routerLink]=\"['/loan/account/list/underwritingStage/legalopinion']\"\r\n            color=\"primary\"\r\n            [disabled]=\"!isValuationofAsset\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-template>\r\n      \r\n          \r\n        </mat-card-actions>\r\n      \r\n      </mat-card>\r\n    </div>\r\n    <!-- Card 3 end -->\r\n\r\n  </div>\r\n  ","import { DatePipe } from \"@angular/common\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { RepaymentScheduleComponent } from \"./repayment-schedule/repayment-schedule.component\";\r\nimport { AccountService } from \"../../account.service\";\r\nimport { AppLoaderService } from \"app/shared/services/app-loader/app-loader.service\";\r\nimport * as moment from 'moment';\r\n// import { Year } from \"@syncfusion/ej2-schedule\";\r\n@Component({\r\n  selector: \"app-loan-repayment-component\",\r\n  templateUrl: \"./loan-repayment-component.component.html\",\r\n  styleUrls: [\"./loan-repayment-component.component.scss\"],\r\n})\r\nexport class LoanRepaymentComponentComponent implements OnInit {\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  loanRepaymentForm: FormGroup;\r\n  internalAccount: FormGroup;\r\n  scheduleLink: FormGroup;\r\n  selectedDay: number = 1;\r\n  days: any[] = [];\r\n  months: any[] = [];\r\n  selectedYear: number;\r\n  years: any[] = [];\r\n  // day: number;\r\n   year: string[];\r\n  month:string[];\r\n //  day: string[];\r\n  loanaccountId: any;\r\n  data: any;\r\n  fetchRescheduleData: any;\r\n  showEditOption: boolean;\r\n  repaymentDetails: any;\r\n  date: void;\r\n  scheduleDate: any;\r\n  loanInfo: any;\r\n  cifNumber: any;\r\n accountNoArr = [];\r\n loanTenure:string;\r\n  fRepayment: any;\r\n  repaymentFreq: any;\r\n  loan_repayment_frequency: any;\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    public datepipe: DatePipe,\r\n    private snack: MatSnackBar,\r\n    private api: ApiService,\r\n    private apiService:ApiService,\r\n    private router: Router,\r\n    private ls: LocalStoreService,\r\n    public dialog: MatDialog,\r\n    private loader: AppLoaderService,\r\n    private accountService: AccountService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountId = this.ls.getItem(\"loanAccountId\");\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    this.selectedYear = new Date().getFullYear();    \r\n    for (let year = 0; year <= 50; year++) {\r\n      this.years.push(year + \" year\");\r\n    }\r\n\r\n    for (let month = 0; month <= 11; month++) {\r\n      this.months.push(month + \" month\");\r\n    }\r\n\r\n    for (let day = 0; day <= 30; day++) {\r\n      this.days.push(day + \" day\");\r\n    }\r\n    \r\n    // this.months = [\r\n    //   \"Jan\",\r\n    //   \"Feb\",\r\n    //   \"Mar\",\r\n    //   \"Apr\",\r\n    //   \"May\",\r\n    //   \"Jun\",\r\n    //   \"Jul\",\r\n    //   \"Aug\",\r\n    //   \"Sep\",\r\n    //   \"Oct\",\r\n    //   \"Nov\",\r\n    //   \"Dec\",\r\n    // ];\r\n    this.getRepaymentFreqDetails('loan_repayment_frequency');\r\n    let isLoanDisbursementDetails = this.ls.getItem(\r\n      \"LOAN_REPAYMENT_DETAIL_DONE\"\r\n    );\r\n    // setTimeout(() => {\r\n    // }, 10);\r\n    if (this.loanaccountId != null && isLoanDisbursementDetails) {\r\n      this.showEditOption = true;\r\n      this.getRepaymenttDetails();\r\n    } else {\r\n      this.showEditOption = false;\r\n      this.buildAccountForm();\r\n    }\r\n  this.fetchByCif();\r\n  this.loanData();\r\n  this.lastUpdateByCif();\r\n  }\r\n\r\n  getRepaymentFreqDetails(loan_repayment_frequency){\r\n    this.api.getRepaymentFreq(loan_repayment_frequency).subscribe(\r\n      (resp) => {\r\n        this.repaymentFreq = resp;\r\n        console.log(this.repaymentFreq);\r\n    });\r\n  }\r\n\r\n  getRepaymenttDetails() {\r\n    //this.loader.open();\r\n    this.api.loanRepaymentFetchById(this.loanaccountId).subscribe(\r\n      (repaymentDetails) => {\r\n       // this.loader.close();\r\n        this.repaymentDetails = repaymentDetails;\r\n        this.buildAccountForm(this.repaymentDetails);\r\n      },\r\n      (err: any) => {\r\n        this.loader.close();\r\n      }\r\n    );\r\n  }\r\n\r\n  buildAccountForm(item?) {\r\n    this.loanRepaymentForm = this.formBuilder.group({\r\n      branchCode: [\"\",Validators.required],\r\n      customerAccount: [\"\",Validators.required],\r\n      bankName: [\"\",Validators.required],\r\n      firstRepaymentDate: [\r\n        item\r\n          ? (this.datepipe.transform(item.firstRepaymentDate, 'yyyy-MM-dd'))\r\n          : \"\",\r\n          Validators.compose([ Validators.required, Validators.min(this.fRepayment)])\r\n      ],\r\n      loanAccountId: this.loanaccountId,\r\n      loanRepaymentId: [item ? item.loanRepaymentId : \"\"],\r\n      loanTenure: [item ? item.loanTenure : \"\"],\r\n      maturityDate: [\r\n        item ? new Date(item.maturityDate).toISOString().substring(0, 10) : \"\",\r\n        Validators.required,\r\n      ],\r\n      moraturioumPeriod: [\r\n        item ? item.moraturioumPeriod : \"\",\r\n        Validators.required,\r\n      ],\r\n      repaymentFrequency: [\r\n        item ? item.repaymentFrequency : \"\",\r\n        Validators.required,\r\n      ],\r\n      repaymentMode: [item ? item.repaymentMode : \"\", Validators.required],\r\n      typeOfRepayment: [item ? item.typeOfRepayment : \"\", Validators.required],\r\n      day: [item ? item.loanTenure.split(\"-\")[2] : \"\",  [Validators.required]],\r\n      month: [item ? item.loanTenure.split(\"-\")[1] : \"\",  [Validators.required]],\r\n      year: [item ? item.loanTenure.split(\"-\")[0] : \"\", [Validators.required]],\r\n    });\r\n   console.log(this.loanRepaymentForm.value);\r\n    this.scheduleLink = this.formBuilder.group({\r\n      firstRepaymentDate: this.loanRepaymentForm.get(\"firstRepaymentDate\"),\r\n      loanAccountId: this.loanaccountId,\r\n    });\r\n\r\n    this.internalAccount = this.formBuilder.group({\r\n      branchCode: [item ? item.branchCode : \"\", [Validators.required,Validators.pattern(\".*[a-zA-Z0-9].*\")]],\r\n      customerAccount: [item ? item.customerAccount : \"\", [Validators.required,Validators.pattern(\".*[0-9].*\")]],\r\n      bankName: [item ? item.bankName : \"\", [Validators.required,Validators.pattern(\".*[a-zA-Z].*\")]],\r\n    });\r\n  }\r\ngetDays(year1,month1,day1){\r\n  \r\nvar yr=moment(new Date()).add(parseInt(year1.split(\" \")[0]), 'months').format('LLL');\r\nvar month=moment(yr).add(parseInt(month1.split(\" \")[0]), 'year').format('LLL');\r\nvar finalDate=moment(month).add(parseInt(day1.split(\" \")[0]), 'days').format('LLL');\r\nconsole.log(\"finalDate--->\",finalDate);\r\nthis.loanRepaymentForm.get(\"maturityDate\").setValue(new Date(finalDate));\r\n}\r\n\r\n  openPopup() {\r\n    console.log(this.loanRepaymentForm.value);\r\n    console.log(this.internalAccount.value);\r\n    console.log(\"payload\", this.scheduleLink.value);\r\n    let latest_date = moment(this.scheduleLink.value).format(\"YYYY-MMM-DD\");\r\n\r\n    console.log(latest_date);\r\n    let payload = {\r\n      firstRepaymentDate: latest_date,\r\n      loanAccountId: this.loanaccountId,\r\n    };\r\n\r\n    console.log(\"payload\", payload);\r\n    this.api.scheduleLink(payload).subscribe((resp) => {\r\n      this.fetchRescheduleData = resp;\r\n      console.log(this.fetchRescheduleData);\r\n\r\n      this.loanaccountId = this.ls.getItem(\"loanAccountId\");\r\n      localStorage.setItem(\r\n        \"fetchRescheduleData\",\r\n        JSON.stringify(this.fetchRescheduleData)\r\n      );\r\n      console.log(this.fetchRescheduleData);\r\n\r\n      const dialogRef = this.dialog.open(RepaymentScheduleComponent, {\r\n        width: \"55%\",\r\n        backdropClass: \"dialog-bg-trans\",\r\n        height: \"55%\",\r\n        disableClose: true,\r\n      });\r\n\r\n      dialogRef.afterClosed().subscribe((result) => {\r\n        console.log(\"The dialog was closed\", result);\r\n      });\r\n    });\r\n\r\n    if (latest_date != null) {\r\n      latest_date = moment(this.scheduleLink.value).format(\"YYYY-MMM-DD\");\r\n    }\r\n  }\r\n\r\n  submit() {\r\n    \r\n    let latest_date =this.datepipe.transform(this.loanRepaymentForm.value.firstRepaymentDate, 'yyyy-MMM-dd');\r\n    let latest_dateMaturity = this.datepipe.transform(\r\n      this.loanRepaymentForm.value.maturityDate,\r\n      \"yyyy-MMM-dd\"\r\n    );\r\n    const renewData =\r\n      this.loanRepaymentForm.value.year +\r\n      \"-\" +\r\n      this.loanRepaymentForm.value.month +\r\n      \"-\" +\r\n      this.loanRepaymentForm.value.day;\r\n   // this.loanRepaymentForm.get(\"loanTenure\").setValue(renewData);\r\n    this.loanRepaymentForm.value.loanTenure=renewData;\r\n    this.loanRepaymentForm.value.firstRepaymentDate=latest_date;\r\n    this.loanRepaymentForm.value.maturityDate=latest_dateMaturity;\r\n    this.loanRepaymentForm.value.branchCode=this.internalAccount.value.branchCode;\r\n    this.loanRepaymentForm.value.customerAccount=this.internalAccount.value.customerAccount;\r\n    this.loanRepaymentForm.value.bankName=this.internalAccount.value.bankName;\r\n   // this.loanRepaymentForm.get(\"bankName\").setValue(this.internalAccount.value.bankName);\r\n    //   this.loanRepaymentForm.get(\"firstRepaymentDate\").setValue(latest_date);\r\n    //   this.loanRepaymentForm.get(\"loanTenure\").setValue(renewData);\r\n    //   this.loanRepaymentForm.get(\"maturityDate\").setValue(latest_dateMaturity);\r\n    \r\n    // delete this.loanRepaymentForm.value.year;\r\n    // delete this.loanRepaymentForm.value.month;\r\n    // delete this.loanRepaymentForm.value.day;\r\n\r\n    console.log(this.loanRepaymentForm.value);\r\n    this.api.loanRepaymentSave(this.loanRepaymentForm.value).subscribe(\r\n      (resp) => {\r\n        this.snack.open(\"Loan Repayment Details Saved!\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n        this.next();\r\n      },\r\n      (err) => {\r\n        this.snack.open(\r\n          \"Not able to connect to server!\",\r\n          \"INTERNAL SERVER ERROR\",\r\n          {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\r\n      `/loan/account/application-enrichment/loan-disbursement`,\r\n    ]);\r\n  }\r\n\r\n  convertDate(value) {\r\n    let date = moment(value).format(\"YYYY-MMM-DD\");\r\n    console.log(\"date\", date);\r\n    if (date) return date;\r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem(\"LOAN_REPAYMENT_DETAIL_DONE\", true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([\r\n      `/loan/account/application-enrichment/charge-details`,\r\n    ]);\r\n  }\r\n  _keyPress(e) {   \r\n    let val = e.target.value\r\n    if (e.which === 32 && !val.length) {\r\n    e.preventDefault();\r\n}\r\n  }\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n            if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n                return true;\r\n            else\r\n                return false;\r\n  }\r\n  fetchByCif(){\r\n    this.cifNumber=this.ls.getItem('cId');\r\n    this.api.fetchAccountIdByCustId(this.cifNumber).subscribe((accountNo: [])=>{\r\n      this.accountNoArr = accountNo;\r\n      console.log(this.accountNoArr);                 \r\n      this.internalAccount.get('customerAccount').setValue(this.accountNoArr?.[0]);\r\n      this.fetchByValue();\r\n    }     \r\n      );       \r\n  }\r\n  fetchByValue(){\r\n    console.log(this.internalAccount.get('customerAccount').value);\r\n    \r\n    this.api.fetchByBranchCode(this.internalAccount.get('customerAccount').value).subscribe((resp=>{\r\n      console.log(resp);\r\n      this.internalAccount.get('branchCode').setValue(resp.branchCode);\r\n      this.internalAccount.get('bankName').setValue(resp.bankName);\r\n      \r\n    }));\r\n    \r\n  }\r\n  loanData(){ \r\n  this.apiService.fetchByLoanAccountId(this.loanaccountId).subscribe((res:any)=>{      \r\n    let dataYear = res.loanTenure.split(\"-\")[0];    \r\n    let dataMonth = res.loanTenure.split(\"-\")[1];   \r\n    let dataDay = res.loanTenure.split(\"-\")[2];      \r\n    this.loanRepaymentForm.get(\"year\").setValue(dataYear);        \r\n    this.loanRepaymentForm.get('month').setValue(dataMonth);\r\n    this.loanRepaymentForm.get('day').setValue(dataDay);  \r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\nlastUpdateByCif(){\r\n  this.apiService.getLoanDetails(this.loanaccountId).subscribe((resp:any)=>{\r\n   \r\n   this.fRepayment = this.datepipe.transform(resp.applicationDate,\"yyyy-MM-dd\");\r\n \r\n  }, (err: any) => {\r\n    console.error(err);\r\n  })\r\n}\r\n  \r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/undraw_Payments_re_77x0.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Loan Repayment Details</b></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">\r\n      <!-- <div class=\"spanDivider1 marginL-0\" style=\"margin: 16px 0;\">\r\n        <span class=\"span\">Loan Repayment Details </span>\r\n        <mat-divider class=\"divider\"></mat-divider>\r\n      </div> -->\r\n      <!-- <div class=\"divider-line\" id=\"mat-line\">\r\n        <span class=\"mat-title\">Loan Repayment Details</span>\r\n        <mat-divider class=\"mat-line-position\"></mat-divider>\r\n      </div> -->\r\n      <fieldset>\r\n        <legend visible=\"true\">Loan Repayment Details</legend>\r\n    </fieldset>\r\n      <mat-card-content>\r\n        <form *ngIf=\"loanRepaymentForm\" [formGroup]=\"loanRepaymentForm\">\r\n          <!-- <mat-spinner class=\"spinner\" [diameter]=\"80\" *ngIf=\"showSpinn\"></mat-spinner> -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Repayment Mode*</mat-label>\r\n                <!-- <mat-card class=\"widthCard inputMatName\" id=\"heightDate\"> -->\r\n                  <mat-select disableOptionCentering\r\n                    placeholder=\"Repayment Mode\"\r\n                    name=\"repaymentMode\"\r\n                    formControlName=\"repaymentMode\"\r\n                  >\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"Internal\">Internal</mat-option>\r\n                    <mat-option value=\"External\">External</mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <!-- <mat-error *ngIf=\"!loanRepaymentForm.get('repaymentMode').valid && loanRepaymentForm.get('repaymentMode').touched\">\r\n                  Repayment Mode is Required!\r\n                </mat-error> -->\r\n                </mat-form-field>\r\n               \r\n              </div>\r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Type of Repayment*</mat-label>\r\n                <!-- <mat-card class=\"widthCard inputMatName\" id=\"heightDate\"> -->\r\n                  <mat-select disableOptionCentering\r\n                    placeholder=\"Type of Repayment\"\r\n                    name=\"opinion\"\r\n                    formControlName=\"typeOfRepayment\"\r\n                  >\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"EMI\">EMI</mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"\r\n                    !loanRepaymentForm.get('typeOfRepayment').valid &&\r\n                    loanRepaymentForm.get('typeOfRepayment').touched\r\n                  \"\r\n                >\r\n                  Type of Repayment is Required!</mat-error\r\n                >\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width \" >\r\n                <mat-label>First Repayment Date*</mat-label>\r\n                <!-- <mat-card class=\"widthCard inputMatName1\" id=\"heightDate\"> -->\r\n                  <input matInput\r\n                    placeholder=\"DD/MM/YYYY\"                    \r\n                    [min]=\"this.fRepayment\"\r\n                    name=\"firstRepaymentDate\"  [matDatepicker]=\"appDatepicker1\"\r\n                    class=\"alignment\"\r\n                    formControlName=\"firstRepaymentDate\" readonly\r\n                 \r\n                  />\r\n                  <div fxFlex=\"8%\" id=\"toggle\" class=\"datechange\">\r\n                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                  </div>\r\n                \r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                *ngIf=\"\r\n                  !loanRepaymentForm.get('firstRepaymentDate').valid &&\r\n                  loanRepaymentForm.get('firstRepaymentDate').touched\r\n                \"\r\n              >\r\n                First Repayment Date is Required!</mat-error\r\n              >              \r\n                </mat-form-field>\r\n                \r\n              </div>\r\n\r\n                \r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Maturity Date*</mat-label>\r\n                <!-- <mat-card class=\"widthCard inputMatName1\" id=\"heightDate\"> -->\r\n                  <input\r\n                    placeholder=\"DD/MM/YYYY\"\r\n                    matInput\r\n                    name=\"valuationDate\" [matDatepicker]=\"appDatepicker\"\r\n                    class=\"alignment\"\r\n                    formControlName=\"maturityDate\" [max]=\"getDays(loanRepaymentForm.get('month').value,loanRepaymentForm.get('year').value,loanRepaymentForm.get('day').value)\" readonly\r\n                  \r\n                  />\r\n                  <div fxFlex=\"8%\" id=\"toggle\" class=\"datechange\">\r\n                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #appDatepicker></mat-datepicker>\r\n                     </div>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"\r\n                    !loanRepaymentForm.get('maturityDate').valid &&\r\n                    loanRepaymentForm.get('maturityDate').touched\r\n                  \"\r\n                >\r\n                  Maturity Date is Required!</mat-error\r\n                >\r\n                </mat-form-field>\r\n                \r\n              </div>\r\n\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Moratorium Period ( in months) *</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <input\r\n                    matInput\r\n                    placeholder=\"Moratorium Period\"\r\n                    formControlName=\"moraturioumPeriod\"\r\n                    class=\"alignment\"\r\n                    type=\"number\"\r\n                    name=\"MarketValueofAsset\"\r\n                    min=\"0\"\r\n                  />\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"\r\n                    !loanRepaymentForm.get('moraturioumPeriod').valid &&\r\n                    loanRepaymentForm.get('moraturioumPeriod').touched\r\n                  \"\r\n                >\r\n                  Moratorium Period is Required!</mat-error\r\n                >\r\n                </mat-form-field>\r\n              </div>\r\n            </div>\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Repayment Frequency*</mat-label>\r\n                <!-- <mat-card class=\"widthCard inputMatName\" id=\"heightDate\"> -->\r\n                  <mat-select disableOptionCentering\r\n                    placeholder=\"Repayment Frequency\"\r\n                    name=\"opinion\"\r\n                    formControlName=\"repaymentFrequency\"\r\n                  >\r\n                  <mat-option  *ngFor=\"let item of repaymentFreq\"\r\n                  [value]=\"item\">{{item}}</mat-option>   \r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"\r\n                    !loanRepaymentForm.get('repaymentFrequency').valid &&\r\n                    loanRepaymentForm.get('repaymentFrequency').touched\r\n                  \"\r\n                >\r\n                  Repayment Frequency is Required!</mat-error\r\n                >\r\n                </mat-form-field>\r\n              </div>\r\n\r\n              <div class=\"flex-grow-1\">\r\n                <div>\r\n                  \r\n                  <div fxLayout=\"row wrap\">\r\n                    <mat-hint class=\"tenre\"><b>Loan Tenure *</b></mat-hint>\r\n                    \r\n                    <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"22.5\">\r\n                      <mat-label>Year*</mat-label>\r\n                    <mat-select name=\"year\" placeholder=\"Year\" formControlName=\"year\" disableOptionCentering>\r\n                    <mat-option *ngFor=\"let year of years\" [value]=\"year\">{{ year }}</mat-option> \r\n                     </mat-select>\r\n                    </mat-form-field>\r\n\r\n                   \r\n                    <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"21.5\">\r\n                      <mat-label>Month*</mat-label>\r\n                    <mat-select name=\"month\" placeholder=\"Month\" formControlName=\"month\" disableOptionCentering>\r\n                    <mat-option *ngFor=\"let month of months\" [value]=\"month\">{{ month }}</mat-option> \r\n                     </mat-select>\r\n                    </mat-form-field>\r\n                    \r\n                    <mat-form-field class=\"full-width tenure1\" appearance=\"outline\" fxFlex=\"21.5\">\r\n                      <mat-label>Day*</mat-label>\r\n                    <mat-select name=\"day\" placeholder=\"Day\" formControlName=\"day\" \r\n                    (selectionChange)=\"getDays(loanRepaymentForm.get('month').value,loanRepaymentForm.get('year').value,loanRepaymentForm.get('day').value)\" disableOptionCentering>\r\n                    <mat-option *ngFor=\"let day of days\" [value]=\"day\">{{ day }}</mat-option> \r\n                     </mat-select>\r\n                    </mat-form-field>\r\n                    <!-- </mat-card> -->\r\n                  </div>\r\n                </div>\r\n                <mat-error\r\n                  *ngIf=\"\r\n                    !loanRepaymentForm.get('loanTenure').valid &&\r\n                    loanRepaymentForm.get('loanTenure').touched\r\n                  \"\r\n                >\r\n                  Loan Tenure is Required!</mat-error\r\n                >\r\n              </div>\r\n\r\n              <!-- <div class=\"flex-grow-2\">\r\n                <mat-hint>Repayment Mode*</mat-hint>\r\n                <mat-card class=\"widthCard inputMatName\" id=\"heightRepay\">\r\n                  <mat-select disableOptionCentering\r\n                    placeholder=\"Repayment Mode\"\r\n                    name=\"opinion\"\r\n                    formControlName=\"repaymentMode\"\r\n                  >\r\n                   <mat-option value=\"\">Select</mat-option> -->\r\n                    <!-- <mat-option value=\"opinion\">opinion</mat-option>\r\n                  </mat-select>\r\n                </mat-card>\r\n                <mat-error\r\n                  *ngIf=\"\r\n                    !loanRepaymentForm.get('repaymentMode').valid &&\r\n                    loanRepaymentForm.get('repaymentMode').touched\r\n                  \"\r\n                >\r\n                  Repayment Mode is Required!</mat-error\r\n                > -->\r\n              <!-- </div> -->\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\" class=\"showShedule\" *ngIf=\"scheduleLink\" [formGroup]=\"loanRepaymentForm\">\r\n                <div fxFlex=\"100\" class=\"pr-1\">\r\n                  <a class=\"link\"  [routerLink]=\"\" (click) = \"openPopup()\">Show Repayment Schedule</a>\r\n                  <br />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        </mat-card-content>\r\n        <!-- <div class=\"spanDivider1\">\r\n          <span class=\"span\">Internal Account </span>\r\n          <mat-divider class=\"divider marginL-0\"></mat-divider>\r\n        </div> -->\r\n        <!-- <div class=\"divider-line\" id=\"mat-line2\">\r\n          <span class=\"mat-title\">Internal Account</span>\r\n          <mat-divider class=\"mat-line-position\"></mat-divider>\r\n        </div> -->\r\n        <fieldset>\r\n          <legend visible=\"true\">Internal Account</legend>\r\n      </fieldset>\r\n        <mat-card-content>\r\n        <form *ngIf=\"internalAccount\" [formGroup]=\"internalAccount\">\r\n          <!-- <mat-spinner class=\"spinner\" [diameter]=\"80\" *ngIf=\"showSpinn\"></mat-spinner> -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\"  class=\"pr-1\">\r\n              <!-- <div class=\"flex-grow-2\">\r\n\r\n                  <mat-hint>Customer Account*</mat-hint>\r\n                  <mat-card class=\"widthCard inputMatName\">\r\n                    <mat-select disableOptionCentering formControlName=\"customerAccount\">\r\n                      <mat-option value=\"\">Select</mat-option>\r\n                      <mat-option value=\"saving\">Saving</mat-option>\r\n                      <mat-option value=\"fixed\">Fixed</mat-option>\r\n                      <mat-option value=\"current\">Current</mat-option>\r\n                    </mat-select>\r\n                  </mat-card>\r\n                  <mat-error *ngIf=\"!internalAccount.get('customerAccount').valid && internalAccount.get('customerAccount').touched\">\r\n                      Customer Account is Required!</mat-error>\r\n              </div> -->\r\n\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Customer Account Number*</mat-label>\r\n                  <!-- <mat-card appearance=\"outline\" class=\"full-width\" class=\"alignment\" >                 -->\r\n                  <mat-select formControlName=\"customerAccount\"\r\n                              disableOptionCentering placeholder=\"Customer Account\">\r\n                    <mat-option [value]=\"accNo\" *ngFor=\"let accNo of accountNoArr\">{{accNo}}</mat-option>\r\n                  </mat-select>                  \r\n                <!-- </mat-card>    -->\r\n                  <mat-error *ngIf=\"internalAccount.get('customerAccount').hasError('required') && internalAccount.get('customerAccount').touched\">\r\n                   &nbsp;&nbsp;  Customer Account Number is Required!\r\n                  </mat-error>\r\n                  <mat-error *ngIf=\"internalAccount.get('customerAccount').hasError('pattern')  && internalAccount.get('customerAccount').touched\">\r\n                   &nbsp;&nbsp; Please Enter Valid Customer Account number\r\n                 </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n\r\n              <!-- <div class=\"flex-grow-1\" style=\"padding-left: 12px;\"> -->\r\n                <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Bank Name*</mat-label>\r\n                  <!-- <mat-card class=\"inputMatName\"> -->\r\n\r\n                    <input matInput placeholder=\"Bank Name\" formControlName=\"bankName\" class=\"alignment\"\r\n                      type=\"text\" name=\"MarketValueofAsset\" (keypress)=\"letterOnly($event)\" />\r\n\r\n                  <!-- </mat-card> -->\r\n                  <mat-error *ngIf=\"internalAccount.get('bankName').hasError('required')  && internalAccount.get('bankName').touched\">\r\n                    &nbsp; Bank Name is Required!\r\n                  </mat-error>\r\n                  <!-- <mat-error *ngIf=\"!collateralInfo.get('noOfCollateral').valid && collateralInfo.get('noOfCollateral').touched\" >\r\n                                                                &nbsp;&nbsp; Number of Collateral is Required!\r\n                                                            </mat-error> -->\r\n                                                            <mat-error *ngIf=\"internalAccount.get('bankName').hasError('pattern')  && internalAccount.get('bankName').touched\">\r\n                                                            &nbsp;  Please Enter Valid Bank Name\r\n                                                           </mat-error>   \r\n                </mat-form-field>                                      \r\n              </div>\r\n           </div>\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" >\r\n\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Branch Code*</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <input\r\n                    matInput\r\n                    placeholder=\"Branch Code\"\r\n                    formControlName=\"branchCode\"\r\n                    class=\"alignment\"\r\n                    type=\"text\"\r\n                    name=\"MarketValueofAsset\"\r\n                    (keypress)=\"_keyPress($event)\"\r\n                  />\r\n                <!-- </mat-card> -->\r\n                <mat-error *ngIf=\"internalAccount.get('branchCode').hasError('required') && internalAccount.get('branchCode').touched\">\r\n                &nbsp;&nbsp;  Branch Code is Required!\r\n               </mat-error>\r\n               <mat-error *ngIf=\"internalAccount.get('branchCode').hasError('pattern')  && internalAccount.get('branchCode').touched\">\r\n                &nbsp;&nbsp; Please Enter Valid Branch Code\r\n              </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n            \r\n              <div class=\"flex-grow-1\" *ngIf=\"repaymentMode == 'external'\">\r\n                <mat-hint>IFSC Code*</mat-hint>\r\n                <mat-card class=\"inputMatName\">\r\n                  <input\r\n                    matInput\r\n                    placeholder=\"IFSC Code\"\r\n                    formControlName=\"ifscCode\"\r\n                    class=\"alignment\"\r\n                    type=\"text\"\r\n                    name=\"MarketValueofAsset\"\r\n                  />\r\n                </mat-card>\r\n                <mat-error\r\n          \r\n                *ngIf=\"!internalAccount.get('ifscCode').valid && internalAccount.get('ifscCode').touched\">\r\n                  IFSC Code is Required!\r\n                </mat-error>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          \r\n        </form>        \r\n      </mat-card-content>\r\n    </mat-card>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n\r\n      <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n        Back\r\n      </button>\r\n      <button mat-raised-button color=\"primary\" class=\"Nextbtn\" (click)=\"submit()\" [disabled]=\"!loanRepaymentForm.valid && !internalAccount.valid\">\r\n        Next\r\n      </button>\r\n      \r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { rumangoAnimations } from 'app/shared/animations/rumango-animations';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AdmissionDetailsViewComponent } from './admission-details/admission-details-view/admission-details-view.component';\r\nimport { CollateralDetailsSummmaryComponent } from './collateral-details/collateral-details-summmary/collateral-details-summmary.component';\r\nimport { CustomerInfoViewComponent } from './customer-information/customer-info-view/customer-info-view.component';\r\nimport { FinancialDetailsViewComponent } from './financial-details/financial-details-view/financial-details-view.component';\r\nimport { GuarantorDetailsViewComponent } from './guarantor-details/guarantor-details-view/guarantor-details-view.component';\r\nimport { MandateDetailsViewComponent } from './mandate-details/mandate-details-view/mandate-details-view.component';\r\n\r\n@Component({\r\n  selector: 'app-loan-entry-stage',\r\n  templateUrl: './loan-entry-stage.component.html',\r\n  styleUrls: ['./loan-entry-stage.component.scss'],\r\n  animations:rumangoAnimations\r\n})\r\nexport class LoanEntryStageComponent implements OnInit {\r\n\r\n  isLoanApplicationEntryDone :boolean=false;\r\n  isLoanDetailScreen :boolean=false;\r\n  isAssetsDetailScreen :boolean=false;\r\n  isVehicleDetailScreen :boolean=false;\r\n  isAdmissionDetailScreen :boolean=false;\r\n  isFinancialDetailScreen :boolean=false;\r\n  isMandateDetailScreen :boolean=false;\r\n  isGuarantorDetailScreen :boolean=false;\r\n  isCustomerInformationScreen:boolean=false;\r\n  isCollateralDetailsScreen:boolean=false;\r\n  isAnyScreen:boolean=false;\r\n\r\n\r\n  isCustomerDetailScreen :boolean=false;\r\n\r\n  loanaccountID : any;\r\n\r\n\r\n  constructor(private router:Router,private dialogService : DialogService,private ls: LocalStoreService, public dialog: MatDialog) { }\r\n  isHomeLoan: boolean=false;\r\n  isVehicleLoan: boolean=false;\r\n  isEducationLoan: boolean=false;\r\n\r\n  ngOnInit(): void {\r\n     //Parent 1\r\n     this.isLoanApplicationEntryDone = this.ls.getItem('LoanEntryStage');\r\n     //Parent 1 Child Nav\r\n     this.isLoanDetailScreen = this.ls.getItem('LOAN_DETAIL_DONE');\r\n     this.isAssetsDetailScreen = this.ls.getItem('ASSET_DETAIL_DONE');\r\n     this.isVehicleDetailScreen = this.ls.getItem('VEHICLE_DETAIL_DONE');\r\n     this.isAdmissionDetailScreen = this.ls.getItem('ADMISSION_DETAIL_DONE');\r\n     this.isCustomerInformationScreen = this.ls.getItem('CUSTOMERINFO_DETAIL_DONE');\r\n     this.isFinancialDetailScreen = this.ls.getItem('FINANCIAL_DETAIL_DONE');\r\n     this.isMandateDetailScreen = this.ls.getItem('MANDATE_DETAIL_DONE');\r\n     this.isGuarantorDetailScreen = this.ls.getItem('GUARANTOR_DETAIL_DONE');\r\n     this.isCollateralDetailsScreen = this.ls.getItem('COLLATERAL_DETAIL_DONE');\r\n     this.isCustomerDetailScreen = this.ls.getItem('CUSTOMERINFO_DETAIL_DONE');\r\n     if(this.isAssetsDetailScreen==true || this.isVehicleDetailScreen ==true || this.isAdmissionDetailScreen==true){\r\n       this.isAnyScreen=true;\r\n     }\r\n\r\n    \r\n\r\n     if(this.ls.getItem('accountType')==\"Home Loan\"){\r\n      this.isHomeLoan=true;\r\n      this.isVehicleLoan=false;\r\n      this.isEducationLoan=false;\r\n     }\r\n     else if (this.ls.getItem('accountType')==\"Vehicle Loan\"){\r\n      this.isHomeLoan=false;\r\n      this.isVehicleLoan=true;\r\n      this.isEducationLoan=false;\r\n     }\r\n     else if(this.ls.getItem('accountType')==\"Education Loan\"){\r\n      this.isHomeLoan=false;\r\n      this.isVehicleLoan=false;\r\n      this.isEducationLoan=true;\r\n     }\r\n\r\n  }\r\n\r\n  goToAdmissionDetails() {\r\n    if (this.isAdmissionDetailScreen) {\r\n      const dialogRef = this.dialog.open(AdmissionDetailsViewComponent, { disableClose: true });\r\n      dialogRef.afterClosed().subscribe((submit) => {\r\n      })\r\n    }\r\n    else {\r\n      this.router.navigate([`/loan/account/admission-details`]);\r\n    }\r\n  }\r\n\r\n  goToFinancialDetails() {\r\n    if (this.isFinancialDetailScreen) {\r\n      const dialogRef = this.dialog.open(FinancialDetailsViewComponent, { disableClose: true });\r\n      dialogRef.afterClosed().subscribe((submit) => {\r\n      })\r\n    }\r\n    else {\r\n      this.router.navigate([`/loan/account/financial-details`]);\r\n    }\r\n  }\r\n\r\n  goToMandateDetails() {\r\n    if (this.isMandateDetailScreen) {\r\n      const dialogRef = this.dialog.open(MandateDetailsViewComponent, { disableClose: true });\r\n      dialogRef.afterClosed().subscribe((submit) => {\r\n      })\r\n    }\r\n    else {\r\n      this.router.navigate([`/loan/account/mandate-details`]);\r\n    }\r\n  }\r\n\r\n  goToGuarantorDetails() {\r\n    if (this.isMandateDetailScreen) {\r\n      const dialogRef = this.dialog.open(GuarantorDetailsViewComponent, { disableClose: true });\r\n      dialogRef.afterClosed().subscribe((submit) => {\r\n      })\r\n    }\r\n    else {\r\n      this.router.navigate([`/loan/account/guarantor_details`]);\r\n    }\r\n  }\r\n\r\n  goToCollateralDetails(){\r\n    if (this.isCollateralDetailsScreen && this.isFinancialDetailScreen) {\r\n      const dialogRef = this.dialog.open(CollateralDetailsSummmaryComponent, { disableClose: true });\r\n      dialogRef.afterClosed().subscribe((submit) => {\r\n      })\r\n    }\r\n    else {\r\n      this.router.navigate([`/loan/account/collateral_details`]);\r\n    }\r\n  }\r\n\r\n  goToCustomerInfoDetails() {\r\n    if (this.isCustomerDetailScreen) {\r\n      const dialogRef = this.dialog.open(CustomerInfoViewComponent, { disableClose: true, maxHeight : '90%', width : '70%' });\r\n      dialogRef.afterClosed().subscribe((submit) => {\r\n      })\r\n    }\r\n    else {\r\n      this.router.navigate([`/loan/account/customer-information`]);\r\n    }\r\n  }\r\n\r\n  goToLoan(){\r\n    this.router.navigate([`/loan/account/loan-details`]);\r\n  }\r\n  goToLoanSummary(){\r\n   this.dialogService.loanDetailsSummaryDialog();\r\n  }\r\n  goToLoanEntry(){\r\n    this.dialogService.assetDetailsSummaryDialog();\r\n  }\r\n  goToVehicleDetails(){\r\n    this.dialogService.vehicleDetailsSummaryDialog();\r\n  }\r\n\r\n  openLoanEntryStageViewSummary(){\r\n    this.dialogService.loanAppEntryStageViewSummary();\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <!-- <div class=\"propic text-center\">\r\n        <img src=\"assets/images/face-7.png\" alt=\"\" class=\"w-80\" />\r\n      </div> -->\r\n      <div class=\"profile-pic text-center\">\r\n        <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n        <i class=\"fa fa-edit upload-icon\"></i>\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Create Retail Loan Account</b></div>\r\n        <div class=\"text-muted\">\r\n            Open a Retail Loan Account with XYZ Bank in a better way. \r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\"  *ngIf=\"isLoanApplicationEntryDone\" class=\"mt-8\">\r\n      <mat-card class=\"border-size\"\r\n        [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\"\r\n      >\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n          <div fxFlex=\"10\">\r\n            <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n          </div>\r\n          <div fxFlex=\"30\">\r\n            <h6>Application Entry Stage Completed</h6>\r\n          </div>\r\n          <span fxFlex></span>\r\n          <button\r\n            mat-button\r\n            color=\"primary\"\r\n            (click)=\"openLoanEntryStageViewSummary()\"\r\n          >\r\n            View Summary\r\n          </button>\r\n        </div>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n      <!-- Card 1 start-->\r\n      <mat-card [ngClass]=\"{'border-size':isLoanDetailScreen || !isLoanDetailScreen}\">\r\n        <mat-card-header>\r\n          <mat-card-title class=\"titleName\">1. Loan Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\"  class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                Basic Details for Loan Account is captured.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/Group 673.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"isLoanDetailScreen\">\r\n              <button\r\n            mat-button\r\n            (click)=\"goToLoanSummary()\"\r\n            color=\"primary\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-container>\r\n\r\n          <ng-container *ngIf=\"!isLoanDetailScreen\" >\r\n              <button \r\n            mat-button\r\n            (click)=\"goToLoan()\"\r\n            color=\"primary\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-container >\r\n      \r\n          \r\n        </mat-card-actions>\r\n       \r\n      </mat-card>\r\n      <!-- Card 1 end -->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start-->\r\n      <mat-card [ngClass]=\"{'border-size':isAssetsDetailScreen || !isAssetsDetailScreen && isLoanDetailScreen}\">\r\n        <mat-card-header>\r\n          <mat-card-title class=\"titleName\">2. Asset Details / Vehicle Details / Admission Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                Details about asset or vehicle or admission is added.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/MaskGroup1_1.svg'\r\n                \"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>        \r\n        </mat-card-content>        \r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"!isLoanDetailScreen; else hideNav\">\r\n            <button\r\n          mat-button [disabled]=\"!isLoanDetailScreen\"        \r\n        >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n            </button>\r\n        </ng-container>\r\n          <div *ngIf=\"isHomeLoan; else hideNav\">\r\n          <ng-container *ngIf=\"isAssetsDetailScreen && isLoanDetailScreen; else showAsset\">\r\n              <button\r\n            mat-button\r\n           (click)=\"goToLoanEntry()\"\r\n            color=\"primary\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-container>\r\n\r\n          <ng-template #showAsset>\r\n              <button \r\n            mat-button\r\n            [routerLink]=\"[ '/loan/account/asset-details' ]\"\r\n            color=\"primary\" [disabled]=\"!isLoanDetailScreen\">\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-template>\r\n          </div>\r\n          <div *ngIf=\"isVehicleLoan; else hideNav\">\r\n          <ng-container *ngIf=\"isVehicleDetailScreen && isLoanDetailScreen; else showVehicle\">\r\n            <button\r\n          mat-button\r\n         (click)=\"goToVehicleDetails()\"\r\n          color=\"primary\"\r\n        >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n            </button>\r\n        </ng-container>\r\n\r\n        <ng-template #showVehicle>\r\n            <button \r\n          mat-button\r\n          [routerLink]=\"[ '/loan/account/vehicle-details' ]\"\r\n          color=\"primary\"\r\n        >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n            </button>\r\n        </ng-template>\r\n        </div>\r\n        <div *ngIf=\"isEducationLoan; else hideNav\">\r\n        <ng-container *ngIf=\"isAdmissionDetailScreen && isLoanDetailScreen; else showAdmission\">\r\n          <button\r\n          mat-button\r\n          color=\"primary\"\r\n          (click)=\"goToAdmissionDetails()\"\r\n        >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n        </button>\r\n        </ng-container>\r\n          \r\n        <ng-template #showAdmission>\r\n          <button \r\n        mat-button\r\n        [routerLink]=\"[ '/loan/account/admission-details' ]\"\r\n        color=\"primary\"\r\n      >\r\n        Add Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n      </ng-template>\r\n      </div>\r\n        </mat-card-actions>      \r\n        \r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>    \r\n    <!-- card 3 start -->\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\" >\r\n      <mat-card [ngClass]=\"{'border-size':isCustomerInformationScreen || !isCustomerInformationScreen && (isAssetsDetailScreen || isAdmissionDetailScreen ||isVehicleDetailScreen)}\">\r\n        <mat-card-header>\r\n          <mat-card-title class=\"titleName\">3. Customer Information</mat-card-title>\r\n          <!-- <mat-card-title *ngIf=\"!isLoanDetailScreen\" >2. Customer Information</mat-card-title> -->\r\n          <!-- <mat-card-title *ngIf=\"isLoanDetailScreen\">3. Customer Information</mat-card-title> -->\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">All the primary information about the customer is captured.</p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"'assets/images/svg/undraw_personal_information_re_vw8a.svg'\"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"isCustomerInformationScreen && (isAssetsDetailScreen || isAdmissionDetailScreen ||isVehicleDetailScreen); else showCustomerInfo\">\r\n            <button\r\n            mat-button\r\n            color=\"primary\"\r\n            (click)=\"goToCustomerInfoDetails()\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </ng-container>\r\n        <ng-template #showCustomerInfo>\r\n          <button \r\n        mat-button\r\n        [routerLink]=\"[ '/loan/account/customer-information' ]\"\r\n        color=\"primary\"\r\n        [disabled]=\"!isAnyScreen\"\r\n      >\r\n        Add Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n      </ng-template>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div>\r\n    <ng-template #hideNav>\r\n            \r\n    </ng-template>\r\n    <!-- Card 3 end -->\r\n    <!-- card 4 start -->\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card [ngClass]=\"{'border-size':isMandateDetailScreen || !isMandateDetailScreen && isCustomerInformationScreen}\">\r\n        <mat-card-header>\r\n          <mat-card-title class=\"titleName\">4. Mandate Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                Mode of operation, Signatory details of the customer is added.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"'assets/images/svg/undraw_Terms_re_6ak_4.svg'\"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"isMandateDetailScreen && isCustomerInformationScreen; else showMandte\">\r\n            <button\r\n            mat-button\r\n            color=\"primary\"\r\n            (click)=\"goToMandateDetails()\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n          </ng-container>\r\n          <ng-template #showMandte>\r\n            <button\r\n            mat-button\r\n            color=\"primary\"\r\n            [routerLink]=\"[ '/loan/account/mandate-details' ]\"\r\n            [disabled]=\"!isCustomerInformationScreen\"\r\n          >\r\n            Add Details<mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n          </ng-template>\r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div>\r\n    <!-- card 4 end -->\r\n    <!-- card -5 start -->\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card [ngClass]=\"{'border-size':isFinancialDetailScreen || !isFinancialDetailScreen && isMandateDetailScreen}\">\r\n        <mat-card-header>\r\n          <mat-card-title class=\"titleName\">5. Financial Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                The basic details and the income and expense details are captured.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/MaskGroup_2.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"isFinancialDetailScreen && isMandateDetailScreen; else showFinance\">\r\n            <button\r\n              mat-button\r\n              color=\"primary\"\r\n              (click)=\"goToFinancialDetails()\"\r\n            >\r\n              View Details <mat-icon>chevron_right</mat-icon>\r\n            </button>\r\n          </ng-container>\r\n            <ng-template #showFinance>\r\n              <button\r\n              mat-button\r\n              color=\"primary\"\r\n              [routerLink]=\"[ '/loan/account/financial-details' ]\"\r\n              [disabled]=\"!isMandateDetailScreen\"\r\n            >\r\n              Add Details<mat-icon>chevron_right</mat-icon>\r\n            </button>\r\n            </ng-template>\r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div>\r\n    <!-- card 5 end -->\r\n\r\n     <!-- card -6 start -->\r\n     <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <mat-card [ngClass]=\"{'border-size':isCollateralDetailsScreen || !isCollateralDetailsScreen && isFinancialDetailScreen}\">\r\n          <mat-card-header>\r\n            <mat-card-title class=\"titleName\">6. Collateral Details</mat-card-title>\r\n            <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n          </mat-card-header>\r\n          <mat-card-content>\r\n            <div\r\n              fxLayout=\"row\"\r\n              fxLayoutGap=\"10px\"\r\n              fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n            >\r\n              <div fxFlex=\"50%\" class=\"notActive\">\r\n                <p class=\"text-align\">\r\n                    The additional collateral which is offered by the customer as security for the loan is added.\r\n                </p>\r\n              </div>\r\n              <div fxFlex=\"50%\">\r\n                <img [src]=\"'assets/images/svg/MaskGroup_3.svg'\" class=\"card-img\" />\r\n              </div>\r\n            </div>\r\n            <!--begin::Progress-->\r\n            <!-- <div class=\"mb-1\">\r\n              <mat-progress-bar\r\n                [color]=\"'primary'\"\r\n                mode=\"determinate\"\r\n                [value]=\"100\"\r\n                class=\"rounded\"\r\n                style=\"height: 6px\"\r\n              >\r\n              </mat-progress-bar>\r\n              <p class=\"m-0 text-right\">Completed</p>\r\n              <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n            </div> -->\r\n            <!--end::Progress-->\r\n          </mat-card-content>\r\n          <!--begin:: Card body-->\r\n          <mat-divider></mat-divider>\r\n          <mat-card-actions>\r\n            <ng-container *ngIf=\"isCollateralDetailsScreen && isFinancialDetailScreen; else showCollateral\">\r\n              <button\r\n                mat-button\r\n                color=\"primary\"\r\n                (click)=\"goToCollateralDetails()\" >\r\n                View Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n            </ng-container>\r\n              <ng-template #showCollateral>\r\n                <button\r\n                mat-button\r\n                color=\"primary\"\r\n                [routerLink]=\"[ '/loan/account/collateral_details' ]\"\r\n                [disabled]=\"!isFinancialDetailScreen\"\r\n              >\r\n                Add Details<mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n              </ng-template>\r\n          </mat-card-actions>\r\n        </mat-card>\r\n      </div>\r\n      <!-- card 6 end -->\r\n\r\n      <!-- card -7 start -->\r\n     <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <mat-card [ngClass]=\"{'border-size':isGuarantorDetailScreen || !isGuarantorDetailScreen && isCollateralDetailsScreen}\">\r\n          <mat-card-header>\r\n            <mat-card-title class=\"titleName\">7. Guarantor Details</mat-card-title>\r\n            <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n          </mat-card-header>\r\n          <mat-card-content>\r\n            <div\r\n              fxLayout=\"row\"\r\n              fxLayoutGap=\"10px\"\r\n              fxLayoutAlign=\"space-between start\" class=\"fontStyle\"\r\n            >\r\n              <div fxFlex=\"50%\" class=\"notActive\">\r\n                <p class=\"text-align\">\r\n                    Any number of guarantor details can be added.\r\n                </p>\r\n              </div>\r\n              <div fxFlex=\"50%\">\r\n                <img [src]=\"'assets/images/svg/MaskGroup_4.svg'\" class=\"card-img\" />\r\n              </div>\r\n            </div>\r\n            <!--begin::Progress-->\r\n            <!-- <div class=\"mb-1\">\r\n              <mat-progress-bar\r\n                [color]=\"'primary'\"\r\n                mode=\"determinate\"\r\n                [value]=\"100\"\r\n                class=\"rounded\"\r\n                style=\"height: 6px\"\r\n              >\r\n              </mat-progress-bar>\r\n              <p class=\"m-0 text-right\">Completed</p>\r\n              <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n            </div> -->\r\n            <!--end::Progress-->\r\n          </mat-card-content>\r\n          <!--begin:: Card body-->\r\n          <mat-divider></mat-divider>\r\n          <mat-card-actions>\r\n            <ng-container *ngIf=\"isGuarantorDetailScreen && isCollateralDetailsScreen; else showGuarantor\">\r\n              <button\r\n                mat-button\r\n                color=\"primary\"\r\n                (click)=\"goToGuarantorDetails()\"\r\n              >\r\n                View Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n            </ng-container>\r\n              <ng-template #showGuarantor>\r\n                <button\r\n                mat-button\r\n                color=\"primary\"\r\n                [routerLink]=\"[ '/loan/account/guarantor_details' ]\"\r\n                [disabled]=\"!isCollateralDetailsScreen\"\r\n              >\r\n                Add Details<mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n              </ng-template>\r\n          </mat-card-actions>\r\n        </mat-card>\r\n      </div>\r\n      <!-- card 7 end -->\r\n  </div>\r\n  ","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { STEP_STATE } from '@angular/cdk/stepper';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\n\r\n\r\nimport { MatVerticalStepper } from '@angular/material/stepper';\r\nimport { AccountService } from '../../account.service';\r\n@Component({\r\n  selector: 'app-supervisor-approved-details',\r\n  templateUrl: './supervisor-approved-details.component.html',\r\n  styleUrls: ['./supervisor-approved-details.component.scss']\r\n})\r\nexport class SupervisorApprovedDetailsComponent implements OnInit {\r\n  \r\n  isLinear = false;\r\n\r\n\r\n  @ViewChild(MatVerticalStepper) stepper: MatVerticalStepper;\r\n  loanInfo: any;\r\n  ngAfterViewInit() {\r\n    console.log('in afterview init')\r\n    this.stepper._getIndicatorType = () =>  STEP_STATE.NUMBER; //'number'\r\n  }\r\n  data: any;\r\n  customerInfoResp: any;\r\n  loanEntrySummaryInfo: { isAppEntryView: boolean; data: any; };\r\n  loanEnrichmentSummaryInfo: { isAppEntryView: boolean; data: any; };\r\n  customerInfo: { isAppEntryView: boolean; data: any; };\r\n  loanaccountID: any;\r\n\r\n\r\n\r\n  constructor(\r\n    public appEntryService: ApplicationEntryStageService, private ls: LocalStoreService,private apiService:ApiService,\r\n    private router: Router,private accountService : AccountService, private dialogService:DialogService\r\n    // private cdk: ChangeDetectorRef\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.ls.setItem('isapprovedSupervisor', true);\r\n    this.apiService.sendApprovedStatus(true);\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    console.log(\"this.loanaccountID\", this.loanaccountID);\r\n    setTimeout(() => {\r\n      this.getLoanEntryStageInfo(this.loanaccountID);\r\n    }, 10);\r\n  \r\n    //this.getLoanEnrichmentStageInfo(this.loanaccountID);\r\n  }\r\n\r\n  getLoanEntryStageInfo(loanaccountID) {\r\n    this.appEntryService.getLoanEntryStageInfo(loanaccountID)\r\n      .subscribe(loanResp => {\r\n        this.data = loanResp;\r\n        if (this.data != null) {\r\n          console.log('data :: ', this.data);\r\n        //  this.setData(loanResp)\r\n          this.fetchCustomersByLoanAccIdForViewSummary(loanaccountID);\r\n        }\r\n      });\r\n  }\r\n  /*getLoanEnrichmentStageInfo(loanaccountID) {\r\n    this.appEntryService.getLoanENtrichmentInfo(loanaccountID)\r\n      .subscribe(loanResp => {\r\n        this.data = loanResp;\r\n        if (this.data != null) {\r\n          console.log('data :: ', this.data);\r\n          //this.setData1(loanResp)\r\n          this.fetchCustomersByLoanAccIdForViewSummary(loanaccountID);\r\n        }\r\n      });\r\n  }*/\r\n  fetchCustomersByLoanAccIdForViewSummary(loanaccountID) {\r\n    this.appEntryService.fetchCustomersByLoanAccIdForViewSummary(loanaccountID)\r\n      .subscribe(custResp => {\r\n        console.log('custResp :: ', custResp);\r\n        this.customerInfoResp = custResp;\r\n        if (this.customerInfoResp != null) {\r\n          this.customerInfo = {\r\n            'isAppEntryView': true,\r\n            'data': this.customerInfoResp.data\r\n          }\r\n        }\r\n        // this.cdk.markForCheck();\r\n        // this.cdk.detectChanges();\r\n      });\r\n  }\r\n\r\n  \r\n  Done(){\r\n    this.ls.setItem('APPROVED_DETAILS', true);\r\n    this.ls.setItem('SUPERVISOR_APPROVAL_STAGE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/loan/account/offer-issue/list`]);\r\n  }\r\n  Back(){\r\n    this.router.navigate([`/loan/account/supervisor-summary`]);\r\n  }\r\n    \r\n  // getAllData(id) {\r\n  //   this.apiService.getQualitativeScorecardDetails(id).subscribe((response) => {\r\n  //     this.qualitativeScoreboardSummary = response;\r\n  //   });\r\n\r\n}","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/MaskGroup_16.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title\"><b>Approval Details</b></div>\r\n    </div>\r\n  </div>\r\n<mat-vertical-stepper  [linear]=\"isLinear\" #stepper>\r\n  <mat-step>\r\n     <ng-template matStepLabel>Loan Entry Stage Details</ng-template>\r\n    <app-loan-app-entry-stage-view-summary></app-loan-app-entry-stage-view-summary>\r\n  </mat-step>\r\n  <mat-step>\r\n    <ng-template matStepLabel>Loan Application Enrichment</ng-template>\r\n    <app-loan-enrichment-view-summary> </app-loan-enrichment-view-summary>\r\n  </mat-step>\r\n  <mat-step>\r\n    <ng-template matStepLabel>Underwriting Stage</ng-template>\r\n    <app-underwriting-stage-summary></app-underwriting-stage-summary>\r\n  </mat-step>\r\n  <mat-step>\r\n    <ng-template matStepLabel>Assessment Stage</ng-template>\r\n    <app-loan-assessment-view-summary></app-loan-assessment-view-summary>\r\n  </mat-step>\r\n</mat-vertical-stepper>\r\n\r\n</div>\r\n\r\n<div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n  <button mat-button rounded class=\"Back\"  (click)=\"Back()\">\r\n    Back\r\n  </button>\r\n  <button  mat-raised-button class=\"Next\" (click)=\"Done()\">\r\n    Next\r\n  </button>\r\n</div>\r\n ","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n@Component({\r\n  selector: 'app-assessment-details',\r\n  templateUrl: './assessment-details.component.html',\r\n  styleUrls: ['./assessment-details.component.scss']\r\n})\r\nexport class AssessmentDetailsComponent implements OnInit {\r\n\r\n  public assessmentForm: FormGroup;\r\n\r\n  userRecommendation=['Recomended For Approval', 'Recommended For Reject'];\r\n  systemRecommendation=['Recomended For Approval', 'Recommended For Reject'];\r\n  \r\n  \r\n  constructor( private router:Router, private snack: MatSnackBar, private cdr: ChangeDetectorRef, private apiService: ApiService, private _location: Location, private fb: FormBuilder,) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildAssessmentForm({});\r\n  }\r\n\r\n  buildAssessmentForm(item) {\r\n    this.assessmentForm = this.fb.group({\r\n      loanAccountId:[item.loanAccountId = \"1234567\"],\r\n      requestedLoanAmount: [item.requestedLoanAmount],\r\n      loanTenure: [item.loanTenure],\r\n      rateOfInterest: [item.rateOfInterest],\r\n      systemRecommendation: [item.systemRecommendation],\r\n      userRecommendation: [item.userRecommendation || ''],\r\n      loanAmountRecommendation: [item.loanAmountRecommendation || ''],\r\n      approvedLoanAmount: [item.approvedLoanAmount],\r\n      finalLoanTenure: [item.finalLoanTenure],\r\n      finalRate: [item.finalRate],\r\n    });  \r\n  }\r\n\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n\r\n  next(){\r\n    this.apiService.assessmentDetails(this.assessmentForm.value).subscribe(data => {\r\n      console.log(\"data\",data);\r\n      if(data != null){\r\n        this.snack.open('Data Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.cdr.markForCheck();\r\n      }\r\n    })\r\n    this.router.navigate([`/loan/account-approval/offer-acceptReject-details`]);\r\n  }\r\n  \r\n  goBack(){\r\n    this.router.navigate([`/loan/account-approval/list`]);\r\n  } \r\n}\r\n","\r\n<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n            <img src=\"assets/images/svg/undraw_personal_information_re_vw8a.svg\" alt=\"\" class=\"w-80\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title\"><b>Assessment Details</b></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <!-- <mat-progress-bar [mode]=\"determinate\" class=\"session-progress\"></mat-progress-bar> -->\r\n        <mat-card class=\"p-0\">\r\n            <mat-card-title class=\"\">\r\n                <div class=\"card-title-text\">Assessment Details</div>\r\n                <mat-divider></mat-divider>\r\n            </mat-card-title>\r\n            <mat-card-content>\r\n                <form [formGroup]=\"assessmentForm\">\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Requested Loan Amount</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input \r\n                                    matInput (keypress)=_keyPress($event) \r\n                                    maxlength=\"10\" \r\n                                    \r\n                                    formControlName=\"requestedLoanAmount\" \r\n                                    placeholder=\"Requested Loan Amount\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Loan Tenure</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input \r\n                                    matInput maxlength=\"8\" \r\n                                    \r\n                                    formControlName=\"loanTenure\" \r\n                                    placeholder=\"Loan Tenure\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Rate Of Interest</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input \r\n                                    matInput (keypress)=_keyPress($event)\r\n                                     maxlength=\"10\" \r\n                                    \r\n                                     formControlName=\"rateOfInterest\" \r\n                                     placeholder=\"Rate Of Interest\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>System Recommendation</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>System Recommendation</mat-label>\r\n                                    <mat-select disableOptionCentering\r\n                                    name=\"prefix\" \r\n                                    formControlName=\"systemRecommendation\"\r\n                                    >\r\n                                    <mat-option value=\"\" >Select</mat-option>\r\n                                        <mat-option *ngFor=\"let i of systemRecommendation\" [value]=\"i\">{{ i }}</mat-option>\r\n                                    </mat-select>\r\n\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>User Recommendation</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>User Recommendation</mat-label>\r\n                                    <mat-select disableOptionCentering\r\n                                    name=\"prefix\" \r\n                                    formControlName=\"userRecommendation\"\r\n                                   >\r\n                                   <mat-option value=\"\" >Select</mat-option>\r\n                                        <mat-option *ngFor=\"let i of userRecommendation\" [value]=\"i\">{{ i }}</mat-option>\r\n                                    </mat-select>\r\n\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Loan Amount Recommended</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input \r\n                                    matInput (keypress)=_keyPress($event) \r\n                                    maxlength=\"10\" \r\n                                    \r\n                                    formControlName=\"loanAmountRecommendation\" \r\n                                    placeholder=\"Loan Amount Recommended\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Approved Loan Amount</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input \r\n                                    matInput (keypress)=_keyPress($event) \r\n                                    maxlength=\"10\" \r\n                                   \r\n                                    formControlName=\"approvedLoanAmount\" \r\n                                    placeholder=\"Approved Loan Amount\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Final Loan tenure</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input \r\n                                    matInput maxlength=\"8\" \r\n                                   \r\n                                    formControlName=\"finalLoanTenure\" \r\n                                    placeholder=\"Final Loan Tenure\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Final Rate</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input \r\n                                    matInput (keypress)=_keyPress($event) \r\n                                    maxlength=\"10\" \r\n                                    \r\n                                    formControlName=\"finalRate\" \r\n                                    placeholder=\"Final Rate\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"button\">\r\n                        <!-- -->\r\n                        <button mat-button class=\"Back\" (click)=\"goBack()\" >Back</button>\r\n                        <button mat-stroked-button class=\"Next\"  (click)=\"next()\">Next</button>\r\n                 \r\n                    </div>\r\n                </form>\r\n            </mat-card-content>\r\n        </mat-card>\r\n    </div>\r\n</div>","\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { rumangoAnimations } from 'app/shared/animations/rumango-animations';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/home/account.service';\r\n\r\n@Component({\r\n     selector: 'app-offer-accept-reject-stage',\r\n    templateUrl: './offer-accept-reject-stage.component.html',\r\n     styleUrls: ['./offer-accept-reject-stage.component.scss']\r\n   })\r\nexport class OfferAcceptRejectStageComponent implements OnInit {\r\n  isQualitativeScreen:boolean = false;\r\n  isReportScreen:boolean = false;\r\n  accountId: any;\r\n  isAssessmentStageDone: boolean = false;\r\n  assessmentReportSummary:any;\r\n  isChargesScreen: boolean = false;\r\n  overDraftByStatus:boolean;\r\n  isAssesmentDetailsScreen: boolean = false;\r\n  isOfferIssueScreen: boolean = false; \r\n  isOfferIssueRejectScreen: boolean  = false;\r\n  \r\n  constructor(private router: Router, private dialogService: DialogService, \r\n    private ls: LocalStoreService, private cdr: ChangeDetectorRef,\r\n     private accountService: AccountService, private apiService: ApiService) { }\r\n\r\n  // ngOnInit(): void {\r\n    \r\n  // }\r\n  ngOnInit() {\r\n    this.accountId = this.ls.getItem('accountId');\r\n    let overdraftStatus = this.ls.getItem('overDraftByStatus') || null;\r\n    console.log(\"fetch\",overdraftStatus);\r\n    this.overDraftByStatus = overdraftStatus != null ? overdraftStatus.isActive : false; \r\n    console.log(this.overDraftByStatus);\r\n    this.isAssesmentDetailsScreen = this.ls.getItem('assessmentScreen');\r\n    this.isOfferIssueScreen = this.ls.getItem('OfferIssue');\r\n    this.isOfferIssueRejectScreen = this.ls.getItem('OfferIssueRejectScreen');\r\n   \r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n      this.accountId = this.ls.getItem('accountId');\r\n      let overdraftStatus = this.ls.getItem('overDraftByStatus') || null;\r\n      this.overDraftByStatus = overdraftStatus != null ? overdraftStatus.isActive : false; \r\n      this.isAssessmentStageDone = this.ls.getItem('assessmentStage');\r\n      this.isQualitativeScreen = this.ls.getItem('ASSESSMENT_QA_DONE');\r\n      this.isAssesmentDetailsScreen = this.ls.getItem('assessmentScreen');\r\n     this.isOfferIssueScreen = this.ls.getItem('OfferIssue');\r\n     this.isOfferIssueRejectScreen = this.ls.getItem('OfferIssueRejectScreen');\r\n     \r\n      this.cdr.markForCheck();\r\n    });\r\n    this.getData(this.accountId);\r\n  }\r\n\r\n  getData(id){\r\n    this.apiService.getApplnAssessmentDetails(id).subscribe((response) => {\r\n      this.assessmentReportSummary = response;\r\n      console.log( this.assessmentReportSummary);\r\n    });\r\n  }\r\n\r\n  popupAssessment(){\r\n    this.dialogService.offerAssessmentSummaryDialog();\r\n  }\r\n\r\n  popup(){\r\n    this.dialogService.offerIssueSummaryDialog();\r\n  }\r\n\r\n  popupOfferIssue(){\r\n    this.dialogService.offerAcceptRejectSummaryDialog();\r\n  }\r\n\r\n\r\n}\r\n\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <!-- <div class=\"propic text-center\">\r\n      <img src=\"assets/images/face-7.png\" alt=\"\" class=\"w-80\" />\r\n    </div> -->\r\n    <div class=\"profile-pic text-center\">\r\n      <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n      <i class=\"fa fa-edit upload-icon\"></i>\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title\"><b>Create Retail Loan Account</b></div>\r\n      <div class=\"text-muted\">\r\n          Open a Retail Loan Account with XYZ Bank in a better way. \r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\"  *ngIf=\"isOfferIssueRejectScreen\" class=\"mt-8\">\r\n    <mat-card\r\n      [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\"\r\n    >\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n        <div fxFlex=\"10\">\r\n          <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n        </div>\r\n        <div fxFlex=\"30\">\r\n          <h6>Offer Accept/Reject Stage Completed</h6>\r\n        </div>\r\n        <span fxFlex></span>\r\n        <button\r\n          mat-button\r\n          color=\"primary\"\r\n          (click)=\"popupOfferIssue()\"\r\n        >\r\n          View Summary\r\n        </button>\r\n      </div>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n  <!--<div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n     [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n    <!-- Card 1 start\r\n    <mat-card>\r\n      <mat-card-header>\r\n        <mat-card-title>1. Assessment Details</mat-card-title>\r\n        <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <div\r\n          fxLayout=\"row\"\r\n          fxLayoutGap=\"10px\"\r\n          fxLayoutAlign=\"space-between start\"\r\n        >\r\n          <div fxFlex=\"50%\">\r\n            <p>\r\n              The evaluation in terms of qualitative and quantitative scores are recorded.\r\n            </p>\r\n          </div>\r\n          <div fxFlex=\"50%\">\r\n            <img [src]=\"'assets/images/svg/Group 673.svg'\" class=\"card-img\" />\r\n          </div>\r\n        </div>\r\n        <!--begin::Progress\r\n        <div class=\"mb-1\">\r\n          <mat-progress-bar\r\n            [color]=\"'primary'\"\r\n            mode=\"determinate\"\r\n            [value]=\"100\"\r\n            class=\"rounded\"\r\n            style=\"height: 6px\"\r\n          >\r\n          </mat-progress-bar>\r\n          <p class=\"m-0 text-right\">Completed</p>\r\n          <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> \r\n        </div>\r\n        <!--end::Progress\r\n      </mat-card-content>\r\n      <!--begin:: Card body\r\n      <mat-divider></mat-divider>\r\n      <mat-card-actions>\r\n        <a mat-button\r\n          color=\"primary\"  *ngIf=\"!isAssesmentDetailsScreen\" \r\n          [routerLink]=\"['/loan/account/offerstage/offer-assessment']\"\r\n        >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n        </a>\r\n        <a mat-button\r\n          color=\"primary\" *ngIf=\"isAssesmentDetailsScreen\" \r\n          (click)=\"popupAssessment()\" \r\n        >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n        </a>\r\n        \r\n        \r\n       \r\n      </mat-card-actions>\r\n    </mat-card>\r\n    <!-- Card 1 end\r\n  </div>\r\n  <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n    <!-- card 2 start\r\n    <mat-card>\r\n      <mat-card-header>\r\n        <mat-card-title>2. Offer Issue</mat-card-title>\r\n        <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <div\r\n          fxLayout=\"row\"\r\n          fxLayoutGap=\"10px\"\r\n          fxLayoutAlign=\"space-between start\"\r\n        >\r\n          <div fxFlex=\"50%\">\r\n            <p>\r\n              Enables the apllication to capture the offer issue date.\r\n            </p>\r\n          </div>\r\n          <div fxFlex=\"50%\">\r\n            <img\r\n              [src]=\"\r\n                'assets/images/svg/undraw_personal_information_re_vw8a.svg'\r\n              \"\r\n              class=\"card-img\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <!--begin::Progress\r\n        <div class=\"mb-1\">\r\n          <mat-progress-bar\r\n            [color]=\"'primary'\"\r\n            mode=\"determinate\"\r\n            [value]=\"100\"\r\n            class=\"rounded\"\r\n            style=\"height: 6px\"\r\n          >\r\n          </mat-progress-bar>\r\n          <p class=\"m-0 text-right\">Completed</p>\r\n          <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n        </div>\r\n        <!--end::Progress\r\n      </mat-card-content>\r\n      <!--begin:: Card body\r\n      <mat-divider></mat-divider>\r\n      <mat-card-actions>\r\n       \r\n          <button\r\n          mat-button\r\n          color=\"primary\" [disabled]=\"!isAssesmentDetailsScreen \"\r\n          *ngIf=\"!isAssesmentDetailsScreen\"\r\n          [routerLink]=\"['/loan/account/offerstage/offer-issue']\"\r\n        >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n        </button>\r\n        <a mat-button\r\n          color=\"primary\" *ngIf=\"isAssesmentDetailsScreen  &&  isOfferIssueScreen\" \r\n          (click)=\"popup()\"\r\n        >\r\n           View Details <mat-icon>chevron_right</mat-icon>\r\n        </a>\r\n       \r\n      </mat-card-actions>\r\n    </mat-card> -->\r\n    <!-- Card 2 end\r\n  </div>\r\n  <!-- card 3 start -->\r\n  <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n    <mat-card>\r\n      <mat-card-header>\r\n        <mat-card-title>1. Offer Accept / Reject Details</mat-card-title>\r\n        <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <div\r\n          fxLayout=\"row\"\r\n          fxLayoutGap=\"10px\"\r\n          fxLayoutAlign=\"space-between start\"\r\n        >\r\n          <div fxFlex=\"50%\" class=\"notActive\">\r\n            <p class=\"text-align\">Offer Accept or Reject Details are provided.</p>\r\n          </div>\r\n          <div fxFlex=\"50%\">\r\n            <img\r\n              [src]=\"'assets/images/svg/undraw_approve_qwp7.svg'\"\r\n              class=\"card-img\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <!--begin::Progress-->\r\n        <div class=\"mb-1\" *ngIf=\"isOfferIssueRejectScreen\">\r\n          <mat-progress-bar\r\n            [color]=\"'primary'\"\r\n            mode=\"determinate\"\r\n            [value]=\"100\"\r\n            class=\"rounded\"\r\n            style=\"height: 6px\"\r\n          >\r\n          </mat-progress-bar>\r\n          <p class=\"m-0 text-right\">Completed</p>\r\n          <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n        </div>\r\n        <!--end::Progress-->\r\n      </mat-card-content>\r\n      <!--begin:: Card body-->\r\n      <mat-divider></mat-divider>\r\n      <mat-card-actions>\r\n        <ng-container *ngIf=\"isOfferIssueRejectScreen; else showReport\">\r\n        <button\r\n        mat-button\r\n        (click)=\"popupOfferIssue()\"\r\n        color=\"primary\"\r\n      >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n        </button>\r\n        </ng-container>\r\n        <ng-template #showReport>\r\n          <button\r\n          mat-button\r\n          [routerLink]=\"['/loan/account/offerstage/offer-accept-reject']\"\r\n          color=\"primary\" \r\n          >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n        </button>\r\n        </ng-template>\r\n      </mat-card-actions>\r\n      <!-- <mat-card-actions>\r\n          <button\r\n          mat-button\r\n          color=\"primary\" [disabled]=\"!isOfferIssueScreen \"\r\n        \r\n          [routerLink]=\"['/loan/account/offerstage/offer-accept-reject']\">\r\n        >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n        </button>\r\n        <a mat-button\r\n          color=\"primary\"\r\n          *ngIf=\"isOfferIssueScreen && isOfferIssueRejectScreen\"\r\n          (click)=\"popupOfferIssue()\" \r\n        >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n        </a>\r\n      </mat-card-actions> -->\r\n    </mat-card>\r\n  </div>\r\n  <!-- Card 3 end -->\r\n\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-supervisor-approval-stage',\r\n  templateUrl: './supervisor-approval-stage.component.html',\r\n  styleUrls: ['./supervisor-approval-stage.component.scss']\r\n})\r\nexport class SupervisorApprovalStageComponent implements OnInit {\r\n  loanApprovedDetailsScreen: boolean=false;\r\n\r\n  constructor(private ls: LocalStoreService,private router: Router,private apiService:ApiService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanApprovedDetailsScreen = this.ls.getItem('APPROVED_DETAILS');\r\n  \r\n  }\r\naddDetails(){\r\n  console.log(\"calling\")\r\n  this.apiService.sendApprovedStatus(true);\r\n  this.router.navigate([\"/loan/account/supervisor-approveddetails\"]);\r\n}\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <!-- <div class=\"propic text-center\">\r\n        <img src=\"assets/images/face-7.png\" alt=\"\" class=\"w-80\" />\r\n      </div> -->\r\n      <div class=\"profile-pic text-center\">\r\n         <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n        <i class=\"fa fa-edit upload-icon\"></i>\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Create Retail Loan Account</b></div>\r\n        <div class=\"text-muted\">\r\n            Open a Retail Loan Account with XYZ Bank in a better way. \r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\" *ngIf=\"loanApprovedDetailsScreen\" class=\"mt-8\">\r\n      <mat-card\r\n        [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\"\r\n      >\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n          <div fxFlex=\"10\">\r\n            <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n          </div>\r\n          <div fxFlex=\"30\">\r\n            <h6>Supervisor Approval Stage</h6>\r\n          </div>\r\n          <span fxFlex></span>\r\n          <button\r\n            mat-button\r\n            color=\"primary\"\r\n            (click)=\"addDetails()\"\r\n          >\r\n          <!-- (click)=\"openLoanEntryStageViewSummary()\" -->\r\n            View Details\r\n          </button>\r\n        </div>\r\n      </mat-card>\r\n    </div>    \r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <!--<div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n       [ngClass]=\"{'not-active':item.status == ''}\" \r\n      <!-- Card 1 start\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>1. Assesment Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> \r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                Evalution report in terms of the qualitive and quantitative score is displayed.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/Group 673.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n          <!--end::Progress\r\n        </mat-card-content>\r\n        <!--begin:: Card body\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <a mat-button\r\n            color=\"primary\"\r\n            [routerLink]=\"['/loan/account/supervisor-assessmentdetails/']\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 1 end\r\n    </div> -->\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start-->\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>1. Approval Details </mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                Approval details are captured.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/MaskGroup_16.svg'\r\n                \"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <!--<ng-container >\r\n            <button\r\n            mat-button\r\n            color=\"primary\" \r\n          >\r\n            view Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </ng-container>-->\r\n        <ng-container >\r\n            <button\r\n            mat-button\r\n            color=\"primary\"\r\n            (click)=\"addDetails()\" \r\n          >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n          </button>\r\n        </ng-container>\r\n         \r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>\r\n  </div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-loan-repayment-summary',\r\n  templateUrl: './loan-repayment-summary.component.html',\r\n  styleUrls: ['./loan-repayment-summary.component.scss']\r\n})\r\nexport class LoanRepaymentSummaryComponent implements OnInit {\r\n  resp: any;\r\n  loanAccountId: any;\r\n  loanInfo: any;\r\n  constructor(\r\n    public ls: LocalStoreService,\r\n    public dialogRef: MatDialogRef<LoanRepaymentSummaryComponent>, private api:ApiService,private router: Router) { }\r\n  \r\n  ngOnInit(): void {\r\n    this.loanAccountId = this.ls.getItem(\"loanAccountId\");\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanAccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    setTimeout(() => {\r\n      this.api.loanRepaymentFetchById(this.loanAccountId).subscribe(resp=>{\r\n        this.resp=resp;\r\n        console.log(this.resp)\r\n      }\r\n        )\r\n    }, 10);\r\n    \r\n    \r\n  }\r\n  goToClose(): void {\r\n    this.dialogRef.close();\r\n  }\r\n  goToEdit() {\r\n    this.dialogRef.close();\r\n    this.router.navigate([`/loan/account/application-enrichment/loan-repayment/${this.loanAccountId}`]);\r\n\r\n    // this.router.navigate([`/home/application/customer-information/${this.productAccountIdCust}`]);\r\n  }\r\n}","<div class=\"full-width\">\r\n    <div fxLayout=\"row\" class=\"contain\">\r\n        <mat-icon class=\"backIcon\" (click)=\"goToClose()\">close</mat-icon>\r\n    </div>\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\">\r\n            <h4 class=\"paraFont\">Loan Repayment Details Summary</h4>\r\n        </div>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\" *ngIf=\"resp\">\r\n                <h7 fxLayout=\"row\">Loan Repayment Details</h7>\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                      \r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Type of Repayment</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.typeOfRepayment}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Repayment Frequency</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.repaymentFrequency}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">First Repayment Date</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.firstRepaymentDate}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                    \r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.loanTenure}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Maturity Date</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.maturityDate}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Repayment Mode</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.repaymentMode}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                      \r\n                                    </ng-container>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Moratorium Period ( in months)</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.moraturioumPeriod}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                       \r\n                                      \r\n                                    </ng-container>\r\n                                </div>\r\n                            \r\n\r\n                            </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n                <h7 fxLayout=\"row\">Internal Account</h7>\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Customer Account</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.customerAccount}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Branch Code</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.branchCode}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Bank Name</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.bankName}}</mat-hint>\r\n                                        </div>\r\n                                        <!-- <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">IFSC Code</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.ifscCode}}</mat-hint>\r\n                                        </div> -->\r\n                                    </ng-container>\r\n                                </div>\r\n                          \r\n\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n                              \r\n\r\n                            </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n                <p class=\"editButton\" (click)=\"goToEdit()\">Edit</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> ","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { AccountService } from \"../../account.service\";\r\n\r\n\r\n@Component({\r\n  selector: \"app-loan-charge-details\",\r\n  templateUrl: \"./loan-charge-details.component.html\",\r\n  styleUrls: [\"./loan-charge-details.component.scss\"],\r\n})\r\nexport class LoanChargeDetailsComponent implements OnInit {\r\n  interestForm: FormGroup;\r\n  accountId: any;\r\n  intrestFlag: Boolean;\r\n  interestResp: any;\r\n  accountType: String = \"Home Loan\";\r\n  resp: { intrestType: string; amout: string; waiver: string }[];\r\n  loanaccountID: any;\r\n  loanInfo: any;\r\n  constructor(\r\n    private accountService: AccountService,\r\n    private snack: MatSnackBar,\r\n    private ls: LocalStoreService,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    this.accountId = this.ls.getItem(\"accountId\");\r\n\r\n    this.interestForm = this.formBuilder.group({\r\n      chargeInfo: new FormArray([]),\r\n    });\r\n    this.api\r\n      .getFlexcubeDetails(\"chargeDetails\", this.accountType)\r\n      .subscribe((response) => {\r\n        this.onChangeInterest(response.length);\r\n        this.in.patchValue(response);\r\n      });\r\nsetTimeout(() => {\r\n  this.api.loanCahrgeFetchById(this.loanaccountID).subscribe((resp) => {\r\n    console.log(\"resp from backend \", this.resp);\r\n    this.resp = resp;\r\n    this.onChangeInterest(this.resp.length);\r\n    this.in.patchValue(this.resp);\r\n  });\r\n}, 10);\r\n  \r\n  }\r\n  assign(accountId) {\r\n    // this.accountId = accountId;\r\n  }\r\n  onChangeInterest(e) {\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            amout: [\"\",Validators.required],\r\n            waiver: [true],\r\n            loanAccountId: [this.loanaccountID],\r\n            chargeDetailsId: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.chargeInfo as FormArray;\r\n  }\r\n\r\n  goBack() {\r\n    console.log(this.accountId);\r\n    this.router.navigate([\r\n      `loan/account/application-enrichment/loan-repayment`,\r\n    ]);\r\n  }\r\n  appendPercentage(event) {\r\n    // console.log(event.key)\r\n    console.log(event.target.value);\r\n\r\n    if (!event.target.value.length) return;\r\n\r\n    if (event.target.value.length === 1) {\r\n      event.target.value = `${event.target.value}%`;\r\n    }\r\n    if (event.target.value.length > 1) {\r\n      event.target.value = `${event.target.value.slice(0, -1)}%`;\r\n    }\r\n  }\r\n\r\n  onSubmit(form) {\r\n    console.log(\"form\", form.chargeInfo);\r\n    form.chargeInfo = form.chargeInfo.map((chargeInfo) => ({\r\n      ...chargeInfo,\r\n      loanAccountId: this.loanaccountID,\r\n    }));\r\n\r\n    this.api.loanchargeSave(form).subscribe(\r\n      (resp) => {\r\n        this.snack.open(\"Charge Details Saved!\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n        this.next();\r\n        console.log(\"backend response from intrest saving\", resp);\r\n      },\r\n      (err) => {\r\n        this.snack.open(\r\n          \"Not able to connect to server!\",\r\n          \"INTERNAL SERVER ERROR\",\r\n          {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"chargeInfo detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n  checkbox(event) {\r\n    console.log(event.checked);\r\n  }\r\n  next(){\r\n    this.ls.setItem('LOAN_CHARGE_DETAILS', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([\r\n    `/loan/account/application-enrichment/account-services`,\r\n  ]);\r\n}\r\n  \r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/charge_screen.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Charge Details</b></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\" class=\"m-333\">\r\n    <div class=\"mt-24\"></div>\r\n    <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\" class=\"chargeForm\">\r\n      <!-- <div class=\"spanDivider1\">\r\n        <span class=\"span\">Charge Details \r\n        </span>\r\n        <mat-divider class=\"divider\"></mat-divider>\r\n      </div> -->\r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Charge Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <table class=\"cart-table default-bg mat-elevation-z0\">\r\n        <thead class=\"tr\">\r\n          <tr class=\"theadClass\">\r\n            <th>Interest Type</th>\r\n            <th>Amount</th>\r\n            <th>waiver</th>\r\n\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let chargeInfo of in.controls; let i = index\" class=\"tableRow\">\r\n            <ng-container [formGroup]=\"chargeInfo\">\r\n              <td>\r\n                <mat-card class=\"matCardBox\">\r\n                  <input class=\"input\" matInput formControlName=\"intrestType\" name=\"account_branch\"\r\n                    placeholder=\"Interest Type\" readonly/>\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <mat-card class=\"matCardBox\"><span>&#8377;</span>\r\n                  <input class=\"input\" type=\"number\" matInput formControlName=\"amout\" name=\"account_branch\"\r\n                    placeholder=\"Amount\"/>\r\n\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <div class=\"waiver-pos\">\r\n                  <mat-checkbox formControlName=\"waiver\" (change)='checkbox($event)' color=\"primary\"></mat-checkbox>\r\n                </div>\r\n              </td>\r\n            </ng-container>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n    <div fxLayout=\"row\"\r\n  fxLayoutAlign=\"space-between center\"\r\n  fxLayoutGap=\"16px\"\r\n  class=\"mt-32\">\r\n    <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n      Back\r\n    </button>   \r\n    \r\n    <button mat-raised-button color=\"primary\" type=\"button\" [disabled]=\"interestForm.invalid\" class=\"Nextbtn\"\r\n      (click)=\"onSubmit(interestForm.value)\">Next</button>\r\n  </div>\r\n\r\n  </div>\r\n\r\n  \r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-loan-disbursement-summary',\r\n  templateUrl: './loan-disbursement-summary.component.html',\r\n  styleUrls: ['./loan-disbursement-summary.component.scss']\r\n})\r\nexport class LoanDisbursementSummaryComponent implements OnInit {\r\n  resp: any;\r\n  CheckboxVar:boolean;\r\n  loanaccountId: any;\r\n  loanInfo: any;\r\n  constructor(\r\n    private ls: LocalStoreService,public api:ApiService,public dialogRef: MatDialogRef<LoanDisbursementSummaryComponent>, private router: Router) { }\r\n  ngOnInit(): void {\r\n    this.loanaccountId = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    setTimeout(() => {\r\n      this.api.loanDisbursementFetchById(this.loanaccountId).subscribe(resp=>{\r\n        this.resp=resp;\r\n        this.CheckboxVar=resp.mutipleDisbursementRequired;\r\n      }\r\n  \r\n        )\r\n    }, 10);\r\n  \r\n  }\r\n  goToClose(): void {\r\n    this.dialogRef.close();\r\n  }\r\n  goToEdit() {\r\n    this.dialogRef.close();\r\n     this.router.navigate([`/loan/account/application-enrichment/loan-disbursement`]);\r\n  }\r\n}","<div class=\"full-width\">\r\n    <div fxLayout=\"row\" class=\"contain\">\r\n        <mat-icon class=\"backIcon\" (click)=\"goToClose()\">close</mat-icon>\r\n    </div>\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\">\r\n            <h4 class=\"paraFont\">Loan Disbursement Details Summary </h4>\r\n        </div>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\">\r\n                <h7 fxLayout=\"row\">Loan Disbursement Details</h7>\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Required Multiple Disbursement ?</mat-hint>\r\n                                            <br>\r\n                                            <div class=\"toggle\">\r\n                                                <mat-slide-toggle [checked]=\"CheckboxVar\">\r\n                                                </mat-slide-toggle>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Loan Amount</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.loanAmount}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Number of Disbursement </mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.numberOfDisbursement}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n\r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">First Disbursement Date</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.firstDisbursementDate}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Total Disbursement</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.totalDisbursement}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Disbursement Mode</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.disbursementMode}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n\r\n                                    </ng-container>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n                <h7 fxLayout=\"row\">Internal Account</h7>\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Customer Account</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.customerAccount}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Branch Code</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.branchCode}}</mat-hint>\r\n                                        </div>\r\n\r\n                                    </ng-container>\r\n                                </div>\r\n\r\n\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n                <p class=\"editButton\" (click)=\"goToEdit()\">Edit</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/home/account.service';\r\n\r\n@Component({\r\n  selector: 'app-offer-issue-stage',\r\n  templateUrl: './offer-issue-stage.component.html',\r\n  styleUrls: ['./offer-issue-stage.component.scss']\r\n})\r\nexport class OfferIssueStageComponent implements OnInit {\r\n  isCreditRatingScreen: boolean = false;\r\n  isValuationAssetScreen: boolean = false;\r\n  islegalOpinionScreen: boolean = false;\r\n  isAssesmentDetailsScreen:boolean = false;\r\n  isOfferIssueScreen:boolean = false;\r\n\r\n  constructor(\r\n    private router: Router,private dialogService : DialogService,private route: ActivatedRoute,private ls: \r\n    LocalStoreService,private cdr:ChangeDetectorRef ,private accountService:AccountService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  \r\n    let overdraftStatus = this.ls.getItem('overDraftByStatus') || null;\r\n    console.log(\"fetch\",overdraftStatus);\r\n    \r\n    this.isAssesmentDetailsScreen = this.ls.getItem('assessmentScreen');\r\n    this.isOfferIssueScreen = this.ls.getItem('OfferIssue');\r\n    this.islegalOpinionScreen= this.ls.getItem('legalScreen');\r\n    this.isValuationAssetScreen = this.ls.getItem('valuationAsset');\r\n    this.isCreditRatingScreen = this.ls.getItem('CreditRatingDetails');\r\n   \r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n     \r\n       \r\n      this.islegalOpinionScreen= this.ls.getItem('legalScreen');\r\n      this.isValuationAssetScreen = this.ls.getItem('valuationAsset');\r\n      this.isAssesmentDetailsScreen = this.ls.getItem('assessmentScreen');\r\n     this.isOfferIssueScreen = this.ls.getItem('OfferIssue');\r\n     this.isCreditRatingScreen = this.ls.getItem('CreditRatingDetails');\r\n     \r\n      this.cdr.markForCheck();\r\n    });\r\n   \r\n  }\r\n  goToAccountDetails(){\r\n    this.dialogService.assetValutionSummaryDialog();\r\n  }\r\n  goToLegalOpinion(){\r\n    this.dialogService.legalopinionSummaryDialog();\r\n  }\r\n  goToAssesmentDetails(){\r\n    this.dialogService.offeredAssessmentSummaryDialog();\r\n  }\r\n  goToOfferIssue(){\r\n    this.dialogService.offerIssue1SummaryDialog();\r\n  }\r\n  goCreditDetails(){\r\n    this.dialogService.CreditRatingDetailsDialog();\r\n  }\r\n\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <!-- <div class=\"propic text-center\">\r\n        <img src=\"assets/images/face-7.png\" alt=\"\" class=\"w-80\" />\r\n      </div> -->\r\n      <div class=\"profile-pic text-center\">\r\n         <img src=\"assets/images/face-7.png\" class=\"main-profile-img\" />\r\n        <i class=\"fa fa-edit upload-icon\"></i>\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Create Retail Loan Account</b></div>\r\n        <div class=\"text-muted\">\r\n            Open a Retail Loan Account with XYZ Bank in a better way. \r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n <div fxFlex=\"100\"  *ngIf=\"isOfferIssueScreen\" class=\"mt-8\">\r\n  <mat-card\r\n    [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\"\r\n  >\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n      <div fxFlex=\"10\">\r\n        <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n      </div>\r\n      <div fxFlex=\"30\">\r\n        <h6>Offer Issue Stage Completed</h6>\r\n      </div>\r\n      <span fxFlex></span>\r\n      <button\r\n        mat-button\r\n        color=\"primary\"\r\n        (click)=\"goToOfferIssue()\"\r\n      >\r\n        View Summary\r\n      </button>\r\n    </div>\r\n  </mat-card>\r\n</div>\r\n</div>\r\n  <div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n      <!-- Card 1 start-->\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>1. Offer Issue</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\" class=\"notActive\">\r\n              <p class=\"text-align\">\r\n                Enables the Approver to capture the OfferIssue date.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/MaskGroup_17.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          \r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        \r\n        <mat-card-actions>\r\n          \r\n          <!--*ngIf=\"isAssesmentDetailsScreen && isOfferIssueScreen\"-->\r\n\r\n          <ng-container *ngIf=\"isOfferIssueScreen; else showOffer\">\r\n            <button\r\n          mat-button\r\n          (click)=\"goToOfferIssue()\"\r\n          color=\"primary\"\r\n        >\r\n          View Details <mat-icon>chevron_right</mat-icon>\r\n            </button>\r\n        </ng-container>\r\n\r\n        <ng-template #showOffer>\r\n            <button \r\n          mat-button\r\n          [routerLink]=\"['/loan/account/list/offer-issue/offerissue']\"\r\n          color=\"primary\"\r\n        >\r\n          Add Details <mat-icon>chevron_right</mat-icon>\r\n            </button>\r\n        </ng-template>\r\n\r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!--<mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>1. Credit Rating Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> \r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                The information on the External Rating Agencies Rating/Scores for the Loan applicant is \r\n                collected.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/Group 673.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n         \r\n          <!--end::Progress\r\n        </mat-card-content>\r\n        <!--begin:: Card body\r\n        <mat-divider></mat-divider>\r\n        <!--<<mat-card-actions>\r\n\r\n          <a mat-button\r\n            color=\"primary\"\r\n            [routerLink]=\"['/loan/offer-issue/credit-rating']\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n         \r\n        </mat-card-actions>>\r\n        <mat-card-actions>\r\n          <a\r\n          *ngIf=\"!isCreditRatingScreen\"\r\n            mat-button\r\n            [routerLink]=\"['/loan/offer-issue/credit-rating']\"\r\n            color=\"primary\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n          <a\r\n          *ngIf=\"isCreditRatingScreen\"\r\n            mat-button\r\n            (click)=\"goCreditDetails()\"\r\n            color=\"primary\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n\r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 1 end \r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>2. Valuation of Asset</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> \r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                The information on the asset valuation is done by the bank approved vluator is captured.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"\r\n                  'assets/images/svg/undraw_personal_information_re_vw8a.svg'\r\n                \"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n        </mat-card-content>\r\n        <!--begin:: Card body\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <a\r\n            [disabled]=\"!isCreditRatingScreen\"\r\n            \r\n            mat-button\r\n            [routerLink]=\"['/loan/offer-issue/valuation-asset']\"\r\n            color=\"primary\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n          <a\r\n            *ngIf=\"isCreditRatingScreen && isValuationAssetScreen\"\r\n            mat-button\r\n            (click)=\"goToAccountDetails()\"\r\n            color=\"primary\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n\r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>\r\n    <!-- card 3 start \r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>3. Legal Opinion</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> \r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>The legal opinion provided by the bank approved lawyer and desicion provided thereon is captured.</p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"'assets/images/svg/undraw_Terms_re_6ak4.svg'\"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </mat-card-content>\r\n        <!--begin:: Card body\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <a\r\n          [disabled]=\"!isValuationAssetScreen\"\r\n          \r\n            mat-button\r\n            [routerLink]=\"['/loan/offer-issue/legal-opinion']\"\r\n            color=\"primary\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n          <a\r\n            *ngIf=\"islegalOpinionScreen && isValuationAssetScreen\"\r\n            mat-button\r\n            (click)=\"goToLegalOpinion()\"\r\n            color=\"primary\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n\r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div>\r\n    <!-- Card 3 end -->\r\n    <!-- card 4 start \r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>4. Assesment Details</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> \r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                The evalution in terms of quantitative and qualitative scores are recorded .\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img\r\n                [src]=\"'assets/images/svg/undraw_opinion_dxp8.svg'\"\r\n                class=\"card-img\"\r\n              />\r\n            </div>\r\n          </div>\r\n        \r\n        </mat-card-content>\r\n        <!--begin:: Card body\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <a\r\n            [disabled]=\"!islegalOpinionScreen\"\r\n          \r\n            mat-button\r\n            [routerLink]=\"['/loan/offer-issue/offer-assessment']\"\r\n            color=\"primary\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n          \r\n          <a\r\n          *ngIf=\"isAssesmentDetailsScreen && islegalOpinionScreen\"\r\n            mat-button\r\n            (click)=\"goToAssesmentDetails()\"\r\n            color=\"primary\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n\r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div>\r\n     card 4 end -->\r\n    <!-- card -5 start \r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card>\r\n        <mat-card-header>\r\n          <mat-card-title>5. Offer Issue</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> \r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\"\r\n          >\r\n            <div fxFlex=\"50%\">\r\n              <p>\r\n                Enables the Approver to capture the OfferIssue date.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/Group 47.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          \r\n        </mat-card-content>\r\n        <!--begin:: Card body\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <a\r\n            [disabled]=\"!isAssesmentDetailsScreen\"\r\n           \r\n            mat-button\r\n            [routerLink]=\"['/loan/offer-issue/offerissue']\"\r\n            color=\"primary\"\r\n          >\r\n            Add Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n          <!--*ngIf=\"isAssesmentDetailsScreen && isOfferIssueScreen\"\r\n          <a\r\n          *ngIf=\"isAssesmentDetailsScreen && isOfferIssueScreen\"\r\n            mat-button\r\n            (click)=\"goToOfferIssue()\"\r\n            color=\"primary\"\r\n          >\r\n            View Details <mat-icon>chevron_right</mat-icon>\r\n          </a>\r\n\r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div>\r\n    <!-- card 5 end -->\r\n\r\n     \r\n  </div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { MatDialogRef } from \"@angular/material/dialog\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n\r\n@Component({\r\n  selector: \"app-loan-interest-summary\",\r\n  templateUrl: \"./loan-interest-summary.component.html\",\r\n  styleUrls: [\"./loan-interest-summary.component.scss\"],\r\n})\r\nexport class LoanInterestSummaryComponent implements OnInit {\r\n  interestForm: FormGroup;\r\n  savingForm: FormGroup;\r\n  loanForm: FormGroup;\r\n  accountType: any;\r\n  accountId: any;\r\n  resp: {\r\n    intrestType: string;\r\n    intrestRateApplicable: number;\r\n    marginIn: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  loanAccountId: any;\r\n  loanInfo: any;\r\n  constructor(\r\n    private ls: LocalStoreService,\r\n    private snack: MatSnackBar,\r\n    private dialogRef: MatDialogRef<LoanInterestSummaryComponent>,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanAccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    this.interestForm = this.formBuilder.group({\r\n      interest: new FormArray([]),\r\n    });\r\n    this.savingForm = this.formBuilder.group({\r\n      saving: new FormArray([]),\r\n    });\r\n\r\n    this.loanForm = this.formBuilder.group({\r\n      loan: new FormArray([]),\r\n    });\r\nsetTimeout(() => {\r\n  this.api.loanInterestFetchById(this.loanAccountId).subscribe((resp) => {\r\n    console.log(\"resp from backend \", this.resp);\r\n    this.resp = resp;\r\n    this.onChangeInterest(this.resp.length);\r\n    this.in.patchValue(this.resp);\r\n  });\r\n}, 10);\r\n  \r\n  }\r\n  assignAccountType(accountType) {\r\n    this.accountType = accountType;\r\n  }\r\n\r\n  onChangeInterest(e) {\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            intrestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            accountId: [this.accountId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  onChangeSaving(e) {\r\n    const numberOfItems = e || 0;\r\n    if (this.is.length < numberOfItems) {\r\n      for (let i = this.is.length; i < numberOfItems; i++) {\r\n        this.is.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            intrestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            accountId: [this.accountId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.is.length; i >= numberOfItems; i--) {\r\n        this.is.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  onChangeLoan(e) {\r\n    const numberOfItems = e || 0;\r\n    if (this.iloan.length < numberOfItems) {\r\n      for (let i = this.iloan.length; i < numberOfItems; i++) {\r\n        this.iloan.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            intrestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            accountId: [this.accountId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.iloan.length; i >= numberOfItems; i--) {\r\n        this.iloan.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.interest as FormArray;\r\n  }\r\n  get fs() {\r\n    return this.savingForm.controls;\r\n  }\r\n  get is() {\r\n    return this.fs.saving as FormArray;\r\n  }\r\n  get floan() {\r\n    return this.loanForm.controls;\r\n  }\r\n  get iloan() {\r\n    return this.floan.loan as FormArray;\r\n  }\r\n\r\n  goBack() {\r\n\r\n \r\n      this.router.navigate([\r\n        `/loan/account/application-enrichment`,\r\n      ]);\r\n    \r\n  }\r\n\r\n  onSubmit(form) {}\r\n  edit() {\r\n    this.dialogRef.close();\r\n    this.api.setFlag({\r\n      flag: true,\r\n    });\r\n    this.router.navigate([\r\n      `/loan/account/application-enrichment/intrest-details`,\r\n    ]);\r\n  }\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"Intrest detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n  \r\n}\r\n","<mat-card class=\"matCard\">\r\n  <button mat-button id=\"close\" mat-dialog-close>\r\n    <mat-icon class=\"closeicon\">close</mat-icon>\r\n  </button>\r\n  <div class=\"spanDiv1\">\r\n    <span class=\"span\">Interest Details\r\n\r\n    </span>\r\n    <mat-divider class=\"divider\"></mat-divider>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"main\">\r\n    <div fxFlex=\"100\">\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n\r\n      <div class=\"mt-24\"></div>\r\n      <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\">\r\n        <table class=\"cart-table default-bg mat-elevation-z0\">\r\n          <tbody>\r\n            <tr [formGroup]=\"interest\" class=\"mt-4\" *ngFor=\"let interest of in.controls; let i = index\" class=\"form\">\r\n              <div class=\"row\">\r\n                <ng-container>\r\n\r\n                  <div class=\"heading\">\r\n                    <input matInput formControlName=\"intrestType\" name=\"account_branch\" id=\"headingInput\" readonly />\r\n                  </div>\r\n\r\n                  <td>\r\n                    <mat-card class=\"matCardBox\">\r\n                      <mat-label class=\"label\">Interest Rate Applicable</mat-label>\r\n                      <input matInput formControlName=\"intrestRateApplicable\" name=\"intrestRateApplicable\" class=\"input\"\r\n                        readonly />\r\n                    </mat-card>\r\n                  </td>\r\n                  <td>\r\n                    <mat-card class=\"matCardBox\">\r\n                      <mat-label class=\"label\">Margin in %</mat-label>\r\n                      <input matInput formControlName=\"marginIn\" name=\"marginIn\" class=\"input\" readonly />\r\n                    </mat-card>\r\n                  </td>\r\n                  <td>\r\n                    <mat-card class=\"matCardBox\">\r\n                      <mat-label class=\"label\">Effective Rate %</mat-label>\r\n                      <input matInput formControlName=\"effectiveRate\" name=\"account_branch\" value=\"\" class=\"input\"\r\n                        readonly />\r\n\r\n                    </mat-card>\r\n                  </td>\r\n                </ng-container>\r\n              </div>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </form>\r\n    </div>\r\n\r\n    <!-- <div fxFlex=\"100\" class=\"mt-16\">\r\n      <span mat-stroked-button color=\"primary\" (click)=\"goBack()\">edit</span>\r\n      <span fxFlex></span>\r\n      <!-- <button mat-raised-button color=\"primary\" type=\"button\" [disabled]=\"interestForm.invalid\" (click)=\"onSubmit(interestForm.value)\">DONE</button> -->\r\n    <!-- </div> -->\r\n\r\n  </div>\r\n\r\n\r\n  <span class=\"spanDiv\" (click)=\"edit()\">Edit</span>\r\n</mat-card>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { DatePipe } from '@angular/common'\r\nimport { AccountService } from '../../account.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { Timezone } from '@syncfusion/ej2-schedule';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-financial-details',\r\n  templateUrl: './financial-details.component.html',\r\n  styleUrls: ['./financial-details.component.scss']\r\n})\r\nexport class FinancialDetailsComponent implements OnInit {\r\n\r\n  financialDetailsForm: FormGroup;\r\n  loanaccountID : any = 0;\r\n  showEditOption: boolean = false;\r\n  financialDetails: any[] = [];\r\n  accountId : any;\r\n  loggedInUser : any;\r\n  noOfApplicants : any;\r\n  financialDetails_array : FormArray;\r\n  isMonthlyIncome:boolean=true;\r\n  arrayEmploymentType: string[];\r\n  arrayEmploymentCategory: string[];\r\n  loanInfo: any;\r\n  incomeErrMsg: string;\r\n  ExpensesErrMsg: any;\r\n  LiabilitiesErrMsg: any;\r\n  assetErrMsg: string;\r\n  liabilitiesErrMsg: string;\r\n  expensesErrMsg: string;\r\n  disableNext: boolean = false;\r\n  totalExpenses: any;\r\n  totalAsset: number;\r\n  totalIncome: number;\r\n  totalMonthlyIncome: number;\r\n  totalMonthlyAsset: number;\r\n  totalMonthlyExpense: number;\r\n  totalLiability: number;\r\n  totalMonthlyLiability: number;\r\n  cifNumber: any;\r\n  applicantName: string[]; \r\n  lastData:any;\r\n  constructor\r\n  (\r\n    private fb: FormBuilder,\r\n    private ls: LocalStoreService,\r\n    private loader: AppLoaderService,\r\n    private apiService: ApiService,\r\n    private router: Router,\r\n    private snack: MatSnackBar,\r\n    public datepipe: DatePipe,\r\n    private accountService:AccountService,\r\n    private appApiService: ApplicationEntryStageService,\r\n    private cdr:ChangeDetectorRef\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    this.applicantName=this.ls.getItem('primaryCustomerName');\r\n    console.log(this.loanInfo);   \r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    this.loggedInUser = String(this.ls.getItem('userName'));\r\n    this.noOfApplicants=this.ls.getItem('LoanNoOfApplicants');\r\n    this.getEmploymentType(\"fin_employment_type\");\r\n    this.getEmploymentCategory(\"employment_category\");\r\n\r\n    let financialDetailscreen: boolean = JSON.parse(this.ls.getItem('FINANCIAL_DETAIL_DONE'));\r\n    this.financialDetailsForm = this.fb.group({\r\n      financialDetails_array: this.fb.array([])\r\n    }); \r\n    if((this.noOfApplicants ==1) ||this.noOfApplicants ==2){\r\n      this.addApplicant();   \r\n            \r\n    }\r\n    setTimeout(() => {\r\n      if (this.loanaccountID && financialDetailscreen) {\r\n        this.showEditOption = true;\r\n        this.getFinancialDetails();\r\n      }\r\n      else {\r\n        this.showEditOption = false;\r\n      }\r\n    }, 10);\r\n    this.fetchByCif();\r\n    this.lastUpdateByCif();\r\n  }\r\n\r\n  createFinancialDetail(data?): FormGroup {\r\n    return this.fb.group({\r\n      applicantName: [data ? data.applicantName : this.ls.getItem('primaryCustomerName'), Validators.required],\r\n      applicantTotalIncome: [data ? data.applicantTotalIncome : ''],\r\n     // totalIncome: [data ? data.totalIncome : ''],\r\n      applicantTotalExpense: [data ? data.applicantTotalExpense : ''],\r\n      lastUpdatedon: [data ? data.lastUpdatedon : '',Validators.compose([ Validators.required, Validators.min(this.lastData)])],\r\n      employmentStartDate:[data?new Date(data.employmentStartDate).toISOString().substring(0, 10):''],\r\n     // employmentStartDate: [data ? data.employmentStartDate : ''],\r\n      employmentEndDate: [data ? data.employmentEndDate : ''],\r\n      assetTotal: [data ? data.assetTotal : ''],\r\n      liabilityTotal: [data ? data.liabilityTotal : ''],\r\n      employmentType: [data ? data.employmentType : '', Validators.required],\r\n      employmentCategory: [data ? data.employmentCategory : ''],\r\n      employeeNumber: [data ? data.employeeNumber : ''],\r\n      officeName: [data ? data.officeName : ''],\r\n      designation: [data ? data.designation : ''],\r\n      bonus: [data ? data.bonus : ''],\r\n      business: [data ? data.business : ''],\r\n      interestIncome: [data ? data.interestIncome : ''],\r\n      pension: [data ? data.pension : ''],\r\n      salary: [data ? data.salary : ''],\r\n      monthlyExpenseRentals: [data ? data.monthlyExpenseRentals : ''],\r\n      monthlyExpenseTotal: [data ? data.monthlyExpenseTotal : ''],\r\n      cashGifts: [data ? data.cashGifts : ''],\r\n      assetOthers: [data ? data.assetOthers : ''],\r\n      liabilityOthers: [data ? data.liabilityOthers : ''],\r\n      monthlyExpenseOthers: [data ? data.monthlyExpenseOthers : ''],\r\n      monthlyIncomeOthers: [data ? data.monthlyIncomeOthers : ''],\r\n      monthlyIncomeRentals: [data ? data.monthlyIncomeRentals : ''],\r\n      monthlyIncomeTotal: [data ? data.monthlyIncomeTotal : ''],\r\n      household: [data ? data.household : ''],\r\n      medical: [data ? data.medical : ''],\r\n      education: [data ? data.education : ''],\r\n      travel: [data ? data.travel : ''],\r\n      vehicleMaintenance: [data ? data.vehicleMaintenance : ''],\r\n      propertyLoan: [data ? data.propertyLoan : ''],\r\n      vehicleLoan: [data ? data.vehicleLoan : ''],\r\n      personalLoans: [data ? data.personalLoans : ''],\r\n      cardOutstandings: [data ? data.cardOutstandings : ''],\r\n      overdraft: [data ? data.overdraft : ''], \r\n      savingDeposits: [data ? data.savingDeposits : ''],\r\n      stocks: [data ? data.stocks : ''],\r\n      properties: [data ? data.properties : ''],\r\n      automobiles: [data ? data.automobiles : ''],\r\n      fixedDeposits: [data ? data.fixedDeposits : ''],\r\n      lands: [data ? data.lands : ''],\r\n    },\r\n    {validator:(formGroup:FormGroup)=>{\r\n      return this.validateInputGroups(formGroup)\r\n    }\r\n  });\r\n  }\r\n\r\n validateInputGroups(formgroup:FormGroup) {\r\n   if(formgroup.controls[\"salary\"].value || formgroup.controls[\"interestIncome\"].value || \r\n   formgroup.controls[\"bonus\"].value || formgroup.controls[\"cashGifts\"].value || \r\n   formgroup.controls[\"business\"].value || formgroup.controls[\"pension\"].value || \r\n   formgroup.controls[\"monthlyIncomeRentals\"].value || formgroup.controls[\"monthlyIncomeOthers\"].value) {\r\n    \r\n     this.incomeErrMsg = null\r\n       this.disableNext = true;\r\n     \r\n   }\r\n   else {\r\n     this.incomeErrMsg = \"Entering any one field is mandatory for Monthly Income Section\";\r\n     this.disableNext = false;\r\n   }\r\n   \r\n   if(formgroup.controls[\"household\"].value || formgroup.controls[\"education\"].value ||\r\n   formgroup.controls[\"vehicleMaintenance\"].value || formgroup.controls[\"monthlyExpenseRentals\"].value ||\r\n   formgroup.controls[\"monthlyExpenseOthers\"].value || formgroup.controls[\"medical\"].value || \r\n   formgroup.controls[\"travel\"].value) {\r\n\r\n     this.ExpensesErrMsg = null;\r\n       this.disableNext = true;\r\n     \r\n   }\r\n   else {\r\n     this.ExpensesErrMsg = \"Entering any one field is mandatory for Monthly Expenses Section\";\r\n     this.disableNext = false;\r\n   }\r\n   \r\n   if(formgroup.controls[\"propertyLoan\"].value || formgroup.controls[\"vehicleLoan\"].value ||\r\n   formgroup.controls[\"personalLoans\"].value || formgroup.controls[\"overdraft\"].value ||\r\n   formgroup.controls[\"cardOutstandings\"].value || formgroup.controls[\"liabilityOthers\"].value) {\r\n     \r\n     this.LiabilitiesErrMsg = null;\r\n       this.disableNext = true;\r\n     \r\n   }\r\n   else {\r\n     this.LiabilitiesErrMsg = \"Entering any one field is mandatory for Annual Liabilities Section\";\r\n     this.disableNext = false;\r\n   }\r\n   \r\n   if(formgroup.controls[\"savingDeposits\"].value || formgroup.controls[\"properties\"].value ||\r\n   formgroup.controls[\"automobiles\"].value || formgroup.controls[\"fixedDeposits\"].value ||\r\n   formgroup.controls[\"lands\"].value || formgroup.controls[\"assetOthers\"].value || \r\n   formgroup.controls[\"stocks\"].value) {\r\n\r\n     this.assetErrMsg = null;\r\n       this.disableNext = true;\r\n     \r\n   }\r\n   else {\r\n     this.assetErrMsg = \"Entering any one field is mandatory for Asset Section\";\r\n     this.disableNext = false;\r\n   }\r\n }\r\n\r\n  addApplicant(){\r\n    this.financialDetails_array = this.financialDetailsForm.get('financialDetails_array') as FormArray;\r\n    this.financialDetails_array.push(this.createFinancialDetail());\r\n  }\r\n\r\n\r\n  getFinancialDetails() {\r\n    this.loader.open();\r\n    this.apiService.getFinancialDetailsByLoanAccId(this.loanaccountID).subscribe((financialDetailsList) => {\r\n      this.loader.close();\r\n     // this.financialDetails_array = this.financialDetailsForm.get('financialDetails_array') as FormArray;\r\n      for (let index = 0; index < financialDetailsList.length; index++) {\r\n        this.financialDetails_array.patchValue(financialDetailsList);\r\n        console.log(financialDetailsList[0].employmentStartDate);\r\n        //financialDetailsList[index].employmentStartDate.patchValue((this.datepipe.transform(financialDetailsList[index].employmentStartDate, 'yyyy-MM-dd')));\r\n\r\n        //const formArray = this.financialDetailsForm.get('financialDetails_array') as FormArray;\r\n        //formArray.controls[0].get('employmentStartDate').setValue(financialDetailsList[0].employmentStartDate);\r\n\r\n\r\n      }\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([`/loan/account/mandate-details`]);\r\n  }\r\n\r\n  submitForm() {\r\n    let payloadArray: any[] = [];\r\n    this.financialDetails_array = this.financialDetailsForm.get('financialDetails_array') as FormArray;\r\n    payloadArray = this.financialDetails_array.value;\r\n    for (let index = 0; index < this.financialDetails_array.length; index++) {\r\n      payloadArray[index].lastUpdatedon = this.datepipe.transform(payloadArray[index].lastUpdatedon, 'yyyy-MM-dd');\r\n      payloadArray[index].employmentStartDate = this.datepipe.transform(payloadArray[index].employmentStartDate, 'yyyy-MMM-dd');\r\n      payloadArray[index].employmentEndDate = this.datepipe.transform(payloadArray[index].employmentEndDate, 'yyyy-MMM-dd');\r\n      payloadArray[index].accountId = this.accountId;\r\n      payloadArray[index].loanAccountId = this.loanaccountID;\r\n      payloadArray[index].loggedInUser = this.loggedInUser;\r\n      payloadArray[index].accountType = \"loan\";\r\n    }\r\n    this.apiService.upsertfinancialDetailsLoan(payloadArray).subscribe(data => {\r\n      console.log(\"data\", data);\r\n      if (data != null) {\r\n        this.snack.open('Financial Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.next();\r\n      }\r\n    })\r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem('FINANCIAL_DETAIL_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/loan/account/collateral_details`]);\r\n  }\r\n\r\n  getEmploymentType(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      console.log(data);\r\n      this.arrayEmploymentType = data;\r\n    });\r\n  }\r\n  getEmploymentCategory(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayEmploymentCategory = data;\r\n    });\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n        event.preventDefault();\r\n    }\r\n   }\r\n   letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n            if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n                return true;\r\n            else\r\n                return false;\r\n  }\r\n  calculateTotalMonthlyIncome(value) {\r\n    let income:number = Number(value.financialDetails_array[0].salary) + Number(value.financialDetails_array[0].business) + \r\n    Number(value.financialDetails_array[0].interestIncome) + Number(value.financialDetails_array[0].pension) + \r\n    Number(value.financialDetails_array[0].bonus) + Number(value.financialDetails_array[0].monthlyIncomeOthers) + \r\n    Number(value.financialDetails_array[0].monthlyIncomeRentals) + Number(value.financialDetails_array[0].cashGifts);\r\n\r\n    const formArray = this.financialDetailsForm.get('financialDetails_array') as FormArray;\r\n    formArray.controls[0].get('monthlyIncomeTotal').setValue(income);\r\n    this.totalMonthlyIncome= income;\r\n     this.totalIncome= income*12 + this.totalAsset;\r\n     formArray.controls[0].get('applicantTotalIncome').setValue(this.totalIncome);\r\n  }\r\n  calculateMonthlyExpenseTotal(value) {\r\n    let income:number = Number(value.financialDetails_array[0].household) + Number(value.financialDetails_array[0].medical) + \r\n    Number(value.financialDetails_array[0].education) + Number(value.financialDetails_array[0].travel) + \r\n    Number(value.financialDetails_array[0].vehicleMaintenance) + Number(value.financialDetails_array[0].monthlyExpenseRentals) + \r\n    Number(value.financialDetails_array[0].monthlyExpenseOthers) ;\r\n\r\n    const formArray = this.financialDetailsForm.get('financialDetails_array') as FormArray;\r\n    formArray.controls[0].get('monthlyExpenseTotal').setValue(income);\r\n    this.totalMonthlyExpense= income;\r\n    this.totalExpenses= income*12 + this.totalLiability;\r\n    formArray.controls[0].get('applicantTotalExpense').setValue(this.totalExpenses);\r\n  }\r\n  calculateLiabilityTotal(value) {\r\n    let income:number = Number(value.financialDetails_array[0].propertyLoan) + Number(value.financialDetails_array[0].vehicleLoan) + \r\n    Number(value.financialDetails_array[0].personalLoans) + Number(value.financialDetails_array[0].overdraft) + \r\n    Number(value.financialDetails_array[0].cardOutstandings) + Number(value.financialDetails_array[0].liabilityOthers) ;\r\n\r\n    const formArray = this.financialDetailsForm.get('financialDetails_array') as FormArray;\r\n    formArray.controls[0].get('liabilityTotal').setValue(income);\r\n    this.totalMonthlyLiability= income;\r\n    this.totalExpenses= income+ this.totalMonthlyExpense*12;\r\n    formArray.controls[0].get('applicantTotalExpense').setValue(this.totalExpenses);\r\n  }\r\n  calculateAssetTotal(value) {\r\n    let income:number = Number(value.financialDetails_array[0].savingDeposits) + Number(value.financialDetails_array[0].stocks) + \r\n    Number(value.financialDetails_array[0].properties) + Number(value.financialDetails_array[0].automobiles) + \r\n    Number(value.financialDetails_array[0].fixedDeposits) + Number(value.financialDetails_array[0].lands) + \r\n    Number(value.financialDetails_array[0].assetOthers) ;\r\n\r\n    const formArray = this.financialDetailsForm.get('financialDetails_array') as FormArray;\r\n    formArray.controls[0].get('assetTotal').setValue(income);\r\n    this.totalMonthlyAsset= income;\r\n    this.totalIncome= income+ this.totalMonthlyIncome*12;\r\n    formArray.controls[0].get('applicantTotalIncome').setValue(this.totalIncome);\r\n  }\r\n  fetchByCif(){\r\n    this.cifNumber=this.ls.getItem('cId');\r\n    this.appApiService.fetchByCif(this.cifNumber).subscribe((res: any) => {\r\n      const formArray = this.financialDetailsForm.get('financialDetails_array') as FormArray;\r\n      formArray.controls[0].get('applicantName').setValue(res.customerInfoList[0].firstName +\" \"+ res.customerInfoList[0].lastName);\r\n    }, (err: any) => {\r\n      console.error(err);\r\n    })\r\n  }\r\n  lastUpdateByCif(){\r\n    this.apiService.getLoanDetails(this.loanaccountID).subscribe((resp:any)=>{\r\n     \r\n     this.lastData = this.datepipe.transform(resp.applicationDate,\"yyyy-MM-dd\");\r\n   \r\n    }, (err: any) => {\r\n      console.error(err);\r\n    })\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/MaskGroup_2.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><h1>Financial Details</h1></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">\r\n      <!-- <mat-card-title class=\"\">\r\n        <div class=\"card-title-text\">Financial Details</div>\r\n        <mat-divider></mat-divider>\r\n      </mat-card-title> -->      \r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Financial Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form *ngIf=\"financialDetailsForm\" [formGroup]=\"financialDetailsForm\">\r\n          <div class=\"full-width\">\r\n            <div\r\n              class=\"full-width\"\r\n              formArrayName=\"financialDetails_array\"\r\n              *ngFor=\"\r\n                let report of financialDetailsForm.get(\r\n                  'financialDetails_array'\r\n                )['controls'];\r\n                let i = index\r\n              \"\r\n            >\r\n              <div class=\"full-width pt-16\" [formGroupName]=\"i\">\r\n                <!-- <mat-accordion class=\"full-width mat-elevation-z0\">\r\n                  <mat-expansion-panel\r\n                    class=\"mat-elevation-z0 border border-primary\"\r\n                    (opened)=\"panelOpenState = true\"\r\n                    (closed)=\"panelOpenState = false\"\r\n                  >\r\n                    <mat-expansion-panel-header class=\"marginData\">\r\n                      <mat-panel-title class=\"textDesign\"> Applicant Details </mat-panel-title>                     \r\n                    </mat-expansion-panel-header> -->\r\n                    <div>\r\n                      <div\r\n                        fxLayout=\"row wrap\"\r\n                        class=\"pt-16 \"\r\n                        fxLayoutAlign=\"space-between center\"\r\n                      >\r\n                        <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                          <div class=\"flex-grow-1\"> \r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">                        \r\n                            <mat-label>Applicant Name</mat-label>\r\n                            <!-- <mat-card class=\"inputMatName alignChange\"> -->\r\n                            <input\r\n                              matInput\r\n                              name=\"applicantName\"\r\n                              formControlName=\"applicantName\"\r\n                              (keypress)=\"letterOnly($event)\"\r\n                              required\r\n                            />\r\n                            <input\r\n                              *ngIf=\"isExistingCustomer\"\r\n                              matInput\r\n                              class=\"alignment\"\r\n                              type=\"text\"\r\n                              readonly\r\n                              formControlName=\"applicantName\"\r\n                              placeholder=\"Applicant Name\"\r\n                            />\r\n                          <!-- </mat-card> -->\r\n                            <mat-error\r\n                              *ngIf=\"\r\n                                !report.controls.applicantName.valid &&\r\n                                report.controls.applicantName.touched\r\n                              \"\r\n                            >\r\n                              Please enter the Applicant Name\r\n                            </mat-error>\r\n                            </mat-form-field>\r\n                          \r\n                        </div>\r\n                        </div>\r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                          <div class=\"flex-grow-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n                              <mat-label>Last Update On</mat-label>\r\n                              <input matInput name=\"lastUpdatedon\" class=\"alignment\" formControlName=\"lastUpdatedon\" placeholder=\"DD/MM/YYYY\"\r\n                              [matDatepicker]=\"pickerUpdatedDate\" [max]=\"lastData\" readonly required/>                             \r\n                              <mat-datepicker-toggle matSuffix [for]=\"pickerUpdatedDate\"></mat-datepicker-toggle>\r\n                              <mat-datepicker #pickerUpdatedDate></mat-datepicker>\r\n                             \r\n                            </mat-form-field>                            \r\n\r\n                            <!-- </mat-card>                             -->\r\n                            <mat-error *ngIf=\"!report.controls.lastUpdatedon.valid && report.controls.lastUpdatedon.touched\">\r\n                             &nbsp;&nbsp; Please enter the Last Update On\r\n                            </mat-error>   \r\n                                                                            \r\n                           </div>                         \r\n                        </div>\r\n                      </div>\r\n                      <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\" >\r\n                        <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                          <div class=\"flex-grow-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Total Income</mat-label>\r\n                            <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                              <input matInput  name=\"applicantTotalIncome\" formControlName=\"applicantTotalIncome\" (keypress)=\"_keyPress($event)\" readonly  />                             \r\n                            <!-- </mat-card> -->\r\n                            <!-- <mat-error *ngIf=\"!report.controls.applicantTotalIncome.valid && report.controls.applicantTotalIncome.touched\">\r\n                              &nbsp;&nbsp; Please enter the Total Income\r\n                            </mat-error> -->\r\n                            </mat-form-field>\r\n                          </div>                          \r\n                        </div>\r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                          <div class=\"flex-grow-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Total Expenses</mat-label>\r\n                            <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                              <input matInput  name=\"applicantTotalExpense\" formControlName=\"applicantTotalExpense\" (keypress)=\"_keyPress($event)\" readonly  />                             \r\n                            <!-- </mat-card> -->\r\n                            <!-- <mat-error *ngIf=\"!report.controls.applicantTotalExpense.valid && report.controls.applicantTotalExpense.touched\">\r\n                              &nbsp;&nbsp; Please enter the Total Expenses\r\n                            </mat-error> -->\r\n                            </mat-form-field>\r\n                          </div>                           \r\n                        </div>                        \r\n                        <!-- <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                          <button mat-button color=\"primary\">Edit</button>\r\n                        </div> -->\r\n                      </div>\r\n                      <div>                       \r\n                        <mat-card-title>\r\n                          <fieldset class=\"alignChange\">\r\n                          <legend visible=\"true\">Basic Details</legend>\r\n                          </fieldset>\r\n                        </mat-card-title>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\">\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Employment Type</mat-label>\r\n                              <!-- <mat-card class=\"widthCard inputMatName alignChange\"> -->\r\n                                <mat-select name=\"employmentType\" formControlName=\"employmentType\" required disableOptionCentering>\r\n                                  <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                  <mat-option *ngFor=\"let employmentType of arrayEmploymentType\" [value]=\"employmentType\">\r\n                                     {{ employmentType }}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                              <!-- </mat-card> -->\r\n                              <mat-error *ngIf=\"!report.controls.employmentType.valid && report.controls.employmentType.touched\">\r\n                               &nbsp;&nbsp; Please select the Employment Type\r\n                              </mat-error>\r\n                              </mat-form-field>\r\n                            </div>                           \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Employment Category </mat-label>\r\n                              <!-- <mat-card class=\"widthCard inputMatName alignChange\"> -->\r\n                                <mat-select name=\"employmentCategory\" formControlName=\"employmentCategory\" disableOptionCentering\r\n                                                  [required]=\"(report.controls.employmentType.value == 'Salaried')\" >\r\n                                  <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                  <mat-option *ngFor=\"let employmentCategory of arrayEmploymentCategory\" [value]=\"employmentCategory\">\r\n                                     {{ employmentCategory }}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                              <!-- </mat-card> -->\r\n                              <!-- <mat-error *ngIf=\"!report.controls.employmentCategory.valid && report.controls.employmentCategory.touched\">\r\n                               &nbsp;&nbsp; Please select the Employment Category\r\n                              </mat-error> -->\r\n                              </mat-form-field>\r\n                            </div>                             \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Employee Number</mat-label>\r\n                                <input\r\n                                 matInput name=\"employeeNumber\"\r\n                                formControlName=\"employeeNumber\" \r\n                                maxlength=\"5\" (keypress)=\"_keyPress($event)\"\r\n                                [required]=\"report.controls.\r\n                                  employmentType.value == 'Salaried'\" />   \r\n                              <!-- <mat-error *ngIf=\"!report.controls.employeeNumber.valid && report.controls.employeeNumber.touched\">\r\n                                &nbsp;&nbsp; Please enter the Employee Number\r\n                              </mat-error> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Designation </mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input\r\n                                 matInput name=\"designation\" \r\n                                 formControlName=\"designation\" \r\n                                 (keypress)=\"letterOnly($event)\"  \r\n                                 [required]=\"report.controls.\r\n                                  employmentType.value == 'Salaried'\"/>                             \r\n                              <!-- </mat-card> -->\r\n                              <!-- <mat-error *ngIf=\"!report.controls.designation.valid && report.controls.designation.touched\">\r\n                                &nbsp;&nbsp; Please enter the Designation\r\n                              </mat-error> -->\r\n                              </mat-form-field>\r\n                            </div>                             \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Employment Start Date *</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName1 dataChange\"> -->\r\n                                <input matInput  name=\"employmentStartDate\" class=\"alignment\" formControlName=\"employmentStartDate\"\r\n                                [matDatepicker]=\"pickerStartDate\"  placeholder=\"DD/MM/YYYY\"  [max]=\"maxDate\"  readonly/>\r\n\r\n                                  <mat-datepicker-toggle matSuffix [for]=\"pickerStartDate\"></mat-datepicker-toggle>\r\n                                  <mat-datepicker #pickerStartDate></mat-datepicker>\r\n                                \r\n                              <!-- </mat-card> -->\r\n                              <!-- <mat-error *ngIf=\"!report.controls.employmentStartDate.valid && report.controls.employmentStartDate.touched\">\r\n                                 &nbsp;&nbsp; Please enter the Employment Start Date\r\n                              </mat-error> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Employment End Date</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName1 dataChange\" > -->\r\n                                <input matInput name=\"employmentEndDate\" class=\"alignment\" formControlName=\"employmentEndDate\"\r\n                                [matDatepicker]=\"pickerEndDate\"  placeholder=\"DD/MM/YYYY\" [min]=\"report.get('employmentStartDate').value\" [max]=\"maxDate\" readonly [required]=\"(report.controls.employmentType.value == 'Salaried')\"/>\r\n                              \r\n\r\n\r\n                                  <mat-datepicker-toggle matSuffix [for]=\"pickerEndDate\"></mat-datepicker-toggle>\r\n                                  <mat-datepicker #pickerEndDate></mat-datepicker>\r\n                               \r\n                              <!-- </mat-card> -->\r\n                              <!-- <mat-error *ngIf=\"!report.controls.employmentEndDate.valid && report.controls.employmentEndDate.touched\">\r\n                                &nbsp;&nbsp; Please enter the Employment End Date\r\n                              </mat-error>    -->\r\n                              </mat-form-field>\r\n                           </div>                             \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Office Name</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input \r\n                                matInput name=\"officeName\" \r\n                                formControlName=\"officeName\" \r\n                                (keypress)=\"letterOnly($event)\"  \r\n                                [required]=\"report.controls.\r\n                                  employmentType.value == 'Salaried'\" />                             \r\n                              <!-- </mat-card> -->\r\n                              <mat-error *ngIf=\"!report.controls.officeName.valid && report.controls.officeName.touched\">\r\n                                &nbsp;&nbsp; Please enter the Office Name\r\n                              </mat-error>\r\n                              </mat-form-field>\r\n                            </div>                             \r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div>                      \r\n                          \r\n                          <!-- <div fxLayout=\"row wrap\" class=\"full-width\">\r\n                        </div> -->\r\n                        <div>\r\n                          <mat-card-title>\r\n                            <fieldset class=\"alignChange\">\r\n                            <legend visible=\"true\">Monthly Income</legend>\r\n                            </fieldset>\r\n                          </mat-card-title>\r\n                          <div class=\"ErrMsg\">&nbsp;&nbsp;{{ incomeErrMsg }}</div>\r\n                          <!-- <span *ngIf=\"isMonthlyIncome\"\r\n                            >\"Entering any one field is mandatory for Asset\r\n                            Section\"</span\r\n                          > -->\r\n                        </div>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\">\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Bonus</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\"> -->\r\n                                <input matInput  name=\"bonus\" formControlName=\"bonus\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateTotalMonthlyIncome(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Business</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\"> -->\r\n                                <input matInput  name=\"business\" formControlName=\"business\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateTotalMonthlyIncome(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Interest Income</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"interestIncome\" formControlName=\"interestIncome\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateTotalMonthlyIncome(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Pension</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"pension\" formControlName=\"pension\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateTotalMonthlyIncome(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card>   -->\r\n                              </mat-form-field>\r\n                            </div>                             \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Salary</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"salary\" formControlName=\"salary\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateTotalMonthlyIncome(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Rentals</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"monthlyIncomeRentals\" formControlName=\"monthlyIncomeRentals\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateTotalMonthlyIncome(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Cash Gifts</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\"> -->\r\n                                <input matInput  name=\"cashGifts\" formControlName=\"cashGifts\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateTotalMonthlyIncome(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Others</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"monthlyIncomeOthers\" formControlName=\"monthlyIncomeOthers\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateTotalMonthlyIncome(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Total</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput type=\"number\" name=\"monthlyIncomeTotal\" formControlName=\"monthlyIncomeTotal\" readonly />\r\n                              <!-- </mat-card>-->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div>                     \r\n                        <mat-card-title>\r\n                          <fieldset class=\"alignChange\">\r\n                          <legend visible=\"true\">Monthly Expenses</legend>\r\n                          </fieldset>\r\n                        </mat-card-title>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\">\r\n                        </div>\r\n                        <div>\r\n                          <div class=\"ErrMsg\">&nbsp;&nbsp;{{ ExpensesErrMsg }}</div>\r\n                        </div>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\">\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Household</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput name=\"household\" formControlName=\"household\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateMonthlyExpenseTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card>-->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label>Medical</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput name=\"medical\" formControlName=\"medical\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateMonthlyExpenseTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Education</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput name=\"education\" formControlName=\"education\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateMonthlyExpenseTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Travel</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput name=\"travel\" formControlName=\"travel\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateMonthlyExpenseTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card>  -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Vehicle Maintenance</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput name=\"vehicleMaintenance\" formControlName=\"vehicleMaintenance\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateMonthlyExpenseTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Rentals</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput name=\"monthlyExpenseRentals\" formControlName=\"monthlyExpenseRentals\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateMonthlyExpenseTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Others</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput name=\"monthlyExpenseOthers\" formControlName=\"monthlyExpenseOthers\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateMonthlyExpenseTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                        </div>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\" >\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Total</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput type=\"number\"   name=\"monthlyExpenseTotal\" formControlName=\"monthlyExpenseTotal\" readonly />\r\n                              <!-- </mat-card>-->\r\n                              </mat-form-field>\r\n                            </div>                             \r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div>                        \r\n                        <mat-card-title>\r\n                          <fieldset class=\"alignChange\">\r\n                          <legend visible=\"true\">Liabilitiess</legend>\r\n                          </fieldset>\r\n                        </mat-card-title>\r\n                        <!-- <div fxLayout=\"row wrap\" class=\"full-width\">\r\n                          <div class=\"card-title-text p-2\">Liabilities</div>\r\n                        </div> -->\r\n                        <div>\r\n                          <div class=\"ErrMsg\">&nbsp;&nbsp;{{ LiabilitiesErrMsg }}</div>\r\n                        </div>\r\n                        <div\r\n                          fxLayout=\"row wrap\"\r\n                          class=\"full-width\"\r\n                          fxLayoutAlign=\"space-between center\"\r\n                        >\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Property Loans</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput   name=\"propertyLoan\" formControlName=\"propertyLoan\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateLiabilityTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card>-->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Vehicle Loans</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput   name=\"vehicleLoan\" formControlName=\"vehicleLoan\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateLiabilityTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Personal Loans</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput   name=\"personalLoans\" formControlName=\"personalLoans\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateLiabilityTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card>-->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Cards outstandings</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput   name=\"cardOutstandings\" formControlName=\"cardOutstandings\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateLiabilityTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Overdrafts</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput   name=\"overdraft\" formControlName=\"overdraft\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateLiabilityTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Others</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput   name=\"liabilityOthers\" formControlName=\"liabilityOthers\" (keypress)=\"_keyPress($event)\"\r\n                                (input)=\"calculateLiabilityTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                        </div>\r\n                        <div\r\n                          fxLayout=\"row wrap\"\r\n                          class=\"full-width\"\r\n                          fxLayoutAlign=\"space-between center\"\r\n                        >\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Total</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput type=\"number\"  name=\"liabilityTotal\" formControlName=\"liabilityTotal\" readonly />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div>\r\n                        <!-- <div fxLayout=\"row wrap\" class=\"full-width\">\r\n                          <div class=\"card-title-text p-2\">Asset</div>\r\n                        </div> -->                        \r\n                        <mat-card-title>\r\n                          <fieldset class=\"alignChange\">\r\n                          <legend visible=\"true\">Asset</legend>\r\n                          </fieldset>\r\n                        </mat-card-title>\r\n                        <div>\r\n                          <div class=\"ErrMsg\">&nbsp;&nbsp;{{ assetErrMsg }}</div>\r\n                        </div>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\">\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Savings Deposits</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"savingDeposits\" formControlName=\"savingDeposits\" (keypress)=\"_keyPress($event)\" (input)=\"calculateAssetTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card>-->\r\n                              </mat-form-field>\r\n                            </div>                             \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Stocks/Funds</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"stocks\" formControlName=\"stocks\" (keypress)=\"_keyPress($event)\" (input)=\"calculateAssetTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Properties</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"properties\" formControlName=\"properties\" (keypress)=\"_keyPress($event)\" (input)=\"calculateAssetTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Automobiles</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"automobiles\" formControlName=\"automobiles\" (keypress)=\"_keyPress($event)\" (input)=\"calculateAssetTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card>     -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Fixed Deposits</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"fixedDeposits\" formControlName=\"fixedDeposits\" (keypress)=\"_keyPress($event)\" (input)=\"calculateAssetTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Lands</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"lands\" formControlName=\"lands\" (keypress)=\"_keyPress($event)\" (input)=\"calculateAssetTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card> -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Others</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput  name=\"assetOthers\" formControlName=\"assetOthers\" (keypress)=\"_keyPress($event)\" (input)=\"calculateAssetTotal(financialDetailsForm.value)\" />\r\n                              <!-- </mat-card>   -->\r\n                              </mat-form-field>\r\n                            </div>                            \r\n                          </div>\r\n                        </div>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\">\r\n                          <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Total</mat-label>\r\n                              <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                <input matInput type=\"number\" name=\"assetTotal\" formControlName=\"assetTotal\" readonly />\r\n                              <!-- </mat-card>  -->\r\n                              </mat-form-field>\r\n                            </div>                             \r\n                          </div>\r\n                        </div>                        \r\n                      </div>\r\n                    </div>\r\n                  <!-- </mat-expansion-panel>\r\n                </mat-accordion> -->\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\" >\r\n      <button  type=\"button\" class=\"Backbtn\" mat-button rounded  (click)=\"goBack()\" >\r\n        Back\r\n      </button>\r\n      <!-- <button type=\"button\"\r\n        (click)=\"submitForm()\" mat-raised-button class=\"submitForm\" color=\"primary\">\r\n        Next\r\n      </button> -->\r\n      <button type=\"button\" [disabled]=\"incomeErrMsg || ExpensesErrMsg || LiabilitiesErrMsg || assetErrMsg || !financialDetailsForm.valid\"\r\n        (click)=\"submitForm()\" mat-raised-button class=\"Nextbtn\" color=\"primary\">\r\n        Next\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormArray,FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-loan-enrichment-view-summary',\r\n  templateUrl: './loan-enrichment-view-summary.component.html',\r\n  styleUrls: ['./loan-enrichment-view-summary.component.scss']\r\n})\r\nexport class LoanEnrichmentViewSummaryComponent implements OnInit {\r\n  \r\n  appEntrySummaryView: boolean = false;\r\n  accountDetails: any;\r\n  interestForm: FormGroup;\r\n  chargeFormIT: FormGroup;\r\n  savingForm:FormGroup;\r\n  loanForm:FormGroup;\r\n  interestForm1:FormGroup;\r\n  accountId: any;\r\n  //for loan interest details\r\n  loanInterestResp: {\r\n    intrestType: string;\r\n    // interestRateApplicable: string;\r\n    intrestRateApplicable: string;\r\n    // margin: number;\r\n    marginIn: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  intererstInfo: {\r\n    intrestType: string;\r\n    //interestRateApplicable: string;\r\n    intrestRateApplicable: string;\r\n    //margin: number;\r\n    marginIn: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  CheckboxVar:boolean;\r\n  accountType: String = \"Home Loan\";//for charge details summary\r\n  loanChargeResp: { interestType: string; amount1: string; waiver: string; }[];\r\n  loanRepaymentResp:any;\r\n\r\n  //Account Services Summary\r\n  maturity: any;\r\n  revision: any;\r\n  holiday: any;\r\n  cascadeVarMaturity: boolean;\r\n  cascadeVarRevison: boolean;\r\n  cascadeVarHoliday: boolean;\r\n  ignoreHolidayVarMaturity: boolean;\r\n  ignoreHolidayVarRevison: boolean;\r\n  ignoreHolidayVarHoliday: boolean;\r\n  accServResp: any;\r\n  loanDisbursementResp:any;\r\n  accServiceInfo:any;\r\n  loanAccountId:any;\r\n  disbursementInfo: any;\r\n  repaymentInfo: any;\r\n  chargeInfo: any;\r\n  isApprovedSreen: any;\r\n  loanInfo: any;\r\n  \r\n  constructor(private formBuilder:FormBuilder,private ls: LocalStoreService,private snack: MatSnackBar,private api:ApiService,private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n  //  this.accountId = this.ls.getItem('accountId');\r\n    //this.accountType=this.ls.getItem('accountType');\r\n    this.api.getApprovedStatus().subscribe((resp)=>{\r\n      console.log(\"message\",resp);\r\n      this.isApprovedSreen=resp;\r\n \r\n    })\r\n    this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanAccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    setTimeout(() => {\r\n      this.getLoanEnrichmentDetails(this.loanAccountId);\r\n    }, 10);\r\n   \r\n    this.interestForm = this.formBuilder.group({\r\n      interest: new FormArray([]),\r\n    });\r\n    this.savingForm = this.formBuilder.group({\r\n      saving: new FormArray([]),\r\n    });\r\n    this.chargeFormIT = this.formBuilder.group({\r\n      chargeIT: new FormArray([]),\r\n    });\r\n    this.loanForm = this.formBuilder.group({\r\n      loan: new FormArray([]),\r\n    });\r\n\r\n    // this.chargeFormIT = this.formBuilder.group({\r\n    //   chargeInfo: new FormArray([]),\r\n    // });\r\n    // this.interestForm1 = this.formBuilder.group({\r\n    //   chargeInfo: new FormArray([]),\r\n    // });\r\n\r\n\r\n\r\n\r\n//for Charge Details\r\n  this.api.getFlexcubeDetails(\"chargeDetails\", this.accountType)\r\n  .subscribe((response) => {\r\n    this.onloanCharge(response.length);\r\n    this.in2.patchValue(response);\r\n  });\r\n\r\n// this.api.loanCahrgeFetchById(this.loanAccountId).subscribe((loanChargeResp) => {\r\n//   console.log(\"loan charge details resp from backend \", this.loanChargeResp);\r\n//   this.loanChargeResp = loanChargeResp;\r\n//   this.onloanCharge(this.loanChargeResp.length);\r\n//   this.in2.patchValue(this.loanChargeResp);\r\n// });\r\n\r\n\r\n  }\r\n\r\n  getLoanEnrichmentDetails(loanAccountId:any){\r\n    this.api.getLoanEnrichmentSummmary(this.loanAccountId)\r\n      .subscribe((summaryInfo: any) => {\r\n       console.log(summaryInfo);\r\n       this.intererstInfo=summaryInfo.intererstInfo;\r\n       console.log(this.intererstInfo);\r\n       this.onChangeInterest(this.intererstInfo.length);\r\n       this.in.patchValue(this.intererstInfo);\r\n       this.disbursementInfo=summaryInfo.disbursementInfo;\r\n       this.CheckboxVar=this.disbursementInfo.mutipleDisbursementRequired;\r\n       console.log(this.disbursementInfo)\r\n       this.repaymentInfo=summaryInfo.repaymentInfo;\r\n       console.log(this.repaymentInfo);\r\n       this.chargeInfo = summaryInfo.chargeInfo;\r\n       this.onloanCharge(this.chargeInfo.length);\r\n       this.in2.patchValue(this.chargeInfo);\r\n      this.accServiceInfo=summaryInfo.accServiceInfo;\r\n      this.maturity= this.accServiceInfo.serviceDetails.find(obj => obj.serviceName === 'Maturity')\r\n      this.revision= this.accServiceInfo.serviceDetails.find(obj => obj.serviceName === 'Revision')\r\n      this.holiday=this.accServiceInfo.serviceDetails.find(obj => obj.serviceName === 'Holiday Preference')\r\n      this.cascadeVarMaturity=  this.maturity.cascadeSchedules;\r\n      this.cascadeVarRevison=   this.revision.cascadeSchedules;\r\n      this.cascadeVarHoliday= this.holiday.cascadeSchedules; \r\n      this.ignoreHolidayVarMaturity=  this.maturity.ignoreHolidays;\r\n      this.ignoreHolidayVarRevison=   this.revision.ignoreHolidays;\r\n      this.ignoreHolidayVarHoliday= this.holiday.ignoreHolidays; \r\n      });\r\n  }\r\n\r\n\r\n  //for loan interest details\r\n  onChangeInterest(e) {\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n           \r\n            intrestType: [\"\"],\r\n            //interestRateApplicable: [\"\"],\r\n            intrestRateApplicable: [\"\"],\r\n            //margin: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n           // accountId: [this.accountId],\r\n            loanAccountId:[this.loanAccountId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  //for loan interest details\r\n  onChangeSaving(e) {\r\n    const numberOfItems = e || 0;\r\n    if (this.is.length < numberOfItems) {\r\n      for (let i = this.is.length; i < numberOfItems; i++) {\r\n        this.is.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            // interestRateApplicable: [\"\"],\r\n            intrestRateApplicable: [\"\"],\r\n            // margin: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n           // accountId: [this.accountId],\r\n            loanAccountId:[this.loanAccountId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.is.length; i >= numberOfItems; i--) {\r\n        this.is.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  //for loan interest details\r\n  onChangeLoan(e) {\r\n    const numberOfItems = e || 0;\r\n    if (this.iloan.length < numberOfItems) {\r\n      for (let i = this.iloan.length; i < numberOfItems; i++) {\r\n        this.iloan.push(\r\n          this.formBuilder.group({\r\n           \r\n            intrestType: [\"\"],\r\n            //interestRateApplicable: [\"\"],\r\n            intrestRateApplicable: [\"\"],\r\n            // margin: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            //accountId: [this.accountId],\r\n            loanAccountId:[this.loanAccountId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.iloan.length; i >= numberOfItems; i--) {\r\n        this.iloan.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  //loan charge details\r\n  onloanCharge(e) {\r\n    const numberOfItems = e || 0;\r\n    if (this.in2.length < numberOfItems) {\r\n      for (let i = this.in2.length; i < numberOfItems; i++) {\r\n        this.in2.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            amout: [\"\"],\r\n            waiver: [true],\r\n            loanAccountId: [this.loanAccountId],\r\n            chargeDetailsId: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in2.length; i >= numberOfItems; i--) {\r\n        this.in2.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f2() {\r\n    return this.chargeFormIT.controls;\r\n  }\r\n  get in2() {\r\n    return this.f2.chargeIT as FormArray;\r\n  }\r\n \r\n\r\n\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.interest as FormArray;\r\n  }\r\n  get fs() {\r\n    return this.savingForm.controls;\r\n  }\r\n  get is() {\r\n    return this.fs.saving as FormArray;\r\n  }\r\n  get floan() {\r\n    return this.loanForm.controls;\r\n  }\r\n  get iloan() {\r\n    return this.floan.loan as FormArray;\r\n  }\r\n  get fCharge() {\r\n    return this.chargeFormIT.controls;\r\n  }\r\n  // get inCharge() {\r\n  //   return this.fCharge.chargeIT as FormArray;\r\n  // }\r\n\r\n\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"chargeInfo detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n  checkbox(event) {\r\n    console.log(event.checked);\r\n  }\r\n\r\n\r\n  assignAccountType(accountType) {\r\n    this.accountType = accountType;\r\n  }\r\n\r\n  Done(){\r\n    this.router.navigate([`/loan/account/list/underwritingStage`]);\r\n  }\r\n  Back(){\r\n    this.router.navigate([`/loan/account/application-enrichment`]);\r\n  }\r\n\r\n}\r\n","<div class=\"propic text-center\" *ngIf=\"!isApprovedSreen\">\r\n    <img class=\"entryImg\" src=\"assets/images/svg/undraw_statistic_chart_38b6.svg\" alt=\"\" />\r\n</div>\r\n<div class=\"profile-title text-center mt-8\"  *ngIf=\"!isApprovedSreen\" >\r\n    <div class=\"main-title\"><b>Loan Application Enrichment</b></div>\r\n</div> \r\n\r\n<!--Loan Interest Details--> \r\n<div class=\"spanDiv1\">\r\n    <!-- <span class=\"span\"> Loan Interest Details</span>\r\n    <mat-divider class=\"divider\"></mat-divider> -->\r\n    <h4 class=\"paraFont\">Loan Interest Details</h4>\r\n</div>\r\n <div fxLayout=\"row wrap\" class=\"main\">\r\n\r\n    <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n      <div class=\"mt-24\"></div>\r\n      <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\">\r\n        <!-- <table\r\n          class=\"cart-table default-bg mat-elevation-z0\"\r\n          [@animate]=\"{ value: '*', params: { delay: '100ms', x: '-50px' } }\"\r\n        > -->\r\n        <table\r\n          \r\n        >\r\n       \r\n          <tbody>\r\n            <tr class=\"mt-4\" *ngFor=\"let interest of in.controls; let i = index\" style=\"display: flex;flex-wrap: wrap;\">\r\n              <div class=\"row\">\r\n              <ng-container [formGroup]=\"interest\">\r\n                <div class=\"heading\">\r\n                  <input matInput formControlName=\"intrestType\" name=\"account_branch\" id=\"headingInput\" readonly />                   \r\n                </div>\r\n                  <td>\r\n                      <mat-card class=\"matCardBox\">\r\n                      <mat-label class=\"label\">Interest Rate Applicable</mat-label>\r\n                      <input matInput formControlName=\"intrestRateApplicable\" name=\"account_branch\" class=\"input\" readonly />                  \r\n                      </mat-card>\r\n                  </td>\r\n                  <td>\r\n                    <mat-card class=\"matCardBox\">\r\n                      <mat-label class=\"label\">Margin in %</mat-label>\r\n                      <input matInput formControlName=\"marginIn\" name=\"account_branch\" class=\"input\" readonly />\r\n                   \r\n                    </mat-card>\r\n                  </td>\r\n                  <td>\r\n                    <mat-card class=\"matCardBox\">\r\n                      <mat-label class=\"label\">Effective Rate %</mat-label>\r\n                      <input matInput formControlName=\"effectiveRate\" name=\"account_branch\" value=\"\"   class=\"input\" readonly />  \r\n                    </mat-card>\r\n                  </td>\r\n              </ng-container>\r\n              </div>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </form>\r\n     \r\n      <br>\r\n      <!--Loan Disbursement Details Summary-->    \r\n        <div class=\"fullcard\">\r\n          <div fxLayout=\"row\">\r\n            <h4 class=\"paraFont\">Loan Disbursement Details</h4>\r\n          </div>\r\n          <div class=\"spanDiv1\">\r\n            <!-- <span class=\"span\"> Loan Disbursement Details</span> -->\r\n            <mat-divider class=\"divider\"></mat-divider>\r\n        </div>\r\n          <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n              <div fxFlex=\"100%\">\r\n                  <!-- <h7 fxLayout=\"row\">Loan Disbursement Details</h7> -->\r\n                  <mat-card class=\"chequecard\">\r\n                      <mat-card-content>\r\n                          <div class=\"full-width\">\r\n                              <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                  <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                      <ng-container>\r\n                                          <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Required Multiple Disbursement ?</mat-hint>\r\n                                              <br>\r\n                                              <div class=\"toggle\">\r\n                                                  <mat-slide-toggle [checked]=\"CheckboxVar\">\r\n                                                  </mat-slide-toggle>\r\n                                              </div>\r\n                                          </div>\r\n                                          <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Loan Amount</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{disbursementInfo.loanAmount}}</mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Number of Disbursement </mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{disbursementInfo.numberOfDisbursement}}</mat-hint>\r\n                                          </div>  \r\n                                      </ng-container>\r\n                                  </div>\r\n                                  <div>\r\n                                      <span layout=\"row\">\r\n                                          <hr class=\"line\" flex />\r\n                                      </span>\r\n                                  </div>\r\n                                  <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                      <ng-container>\r\n                                          <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">First Disbursement Date</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{disbursementInfo.firstDisbursementDate}} </mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Total Disbursement</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{disbursementInfo.totalDisbursement}}</mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Disbursement Mode</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{disbursementInfo.disbursementMode}} </mat-hint>\r\n                                          </div>\r\n                                      </ng-container>\r\n                                  </div>\r\n                                  <div>\r\n                                      <span layout=\"row\">\r\n                                          <hr class=\"line\" flex />\r\n                                      </span>\r\n                                  </div>\r\n                              </div>\r\n                          </div>\r\n                      </mat-card-content>\r\n                  </mat-card>\r\n                  <h7 fxLayout=\"row\" class=\"paraFont\">Internal Account</h7>\r\n                  <mat-card class=\"chequecard\">\r\n                      <mat-card-content>\r\n                          <div class=\"full-width\">\r\n                              <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                  <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                      <ng-container>\r\n                                          <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Customer Account</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{disbursementInfo.customerAccount}}</mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Branch Code</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{disbursementInfo.branchCode}}</mat-hint>\r\n                                          </div>\r\n                                      </ng-container>\r\n                                  </div>\r\n                                  <div>\r\n                                      <span layout=\"row\">\r\n                                          <hr class=\"line\" flex />\r\n                                      </span>\r\n                                  </div>\r\n                              </div>\r\n                          </div>\r\n                      </mat-card-content>\r\n                  </mat-card>\r\n              </div>\r\n          </div>\r\n      </div>\r\n  \r\n\r\n      <br>\r\n\r\n    <!--Loan Repayment Details Summary-->\r\n    <div class=\"fullcard\">\r\n      <div fxLayout=\"row\">\r\n          <h4 class=\"paraFont\">Loan Repayment Details</h4>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n          <div fxFlex=\"100%\" *ngIf=\"disbursementInfo\">\r\n              <!-- <h3 fxLayout=\"row\"  class=\"paraFont\">Loan Repayment Details</h3> -->\r\n              <mat-card class=\"chequecard\">\r\n                  <mat-card-content>\r\n                      <div class=\"full-width\">\r\n                          <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                              <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                  <ng-container>     \r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">Type of Repayment</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.typeOfRepayment}}</mat-hint>\r\n                                      </div>\r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">Repayment Frequency</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.repaymentFrequency}}\r\n                                          </mat-hint>\r\n                                      </div>\r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">First Repayment Date</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.firstRepaymentDate}}\r\n                                          </mat-hint>\r\n                                      </div>                                  \r\n                                  </ng-container>\r\n                              </div>\r\n                              <div>\r\n                                  <span layout=\"row\">\r\n                                      <hr class=\"line\" flex />\r\n                                  </span>\r\n                              </div>\r\n                              <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                  <ng-container>\r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.loanTenure}}\r\n                                          </mat-hint>\r\n                                      </div>\r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">Maturity Date</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.maturityDate}}</mat-hint>\r\n                                      </div>\r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">Repayment Mode</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.repaymentMode}}\r\n                                          </mat-hint>\r\n                                      </div>     \r\n                                  </ng-container>\r\n                              </div>\r\n                              <div>\r\n                                  <span layout=\"row\">\r\n                                      <hr class=\"line\" flex />\r\n                                  </span>\r\n                              </div>\r\n                              <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                  <ng-container>\r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">Moratorium Period ( in months)</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.moraturioumPeriod}}\r\n                                          </mat-hint>\r\n                                      </div>\r\n                                  </ng-container>\r\n                              </div>\r\n                          </div>\r\n                      </div>\r\n                  </mat-card-content>\r\n              </mat-card>\r\n              <h3 fxLayout=\"row\"  class=\"paraFont\">Internal Account</h3>\r\n              <mat-card class=\"chequecard\">\r\n                  <mat-card-content>\r\n                      <div class=\"full-width\">\r\n                          <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                              <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                  <ng-container>\r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">Customer Account</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.customerAccount}}</mat-hint>\r\n                                      </div>\r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">Branch Code</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.branchCode}}</mat-hint>\r\n                                      </div>\r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">Bank Name</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.bankName}}</mat-hint>\r\n                                      </div>\r\n                                      <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                          <mat-hint class=\"headingText\">IFSC Code</mat-hint>\r\n                                          <br>\r\n                                          <mat-hint class=\"valueText\">{{repaymentInfo.ifscCode}}</mat-hint>\r\n                                      </div>\r\n                                  </ng-container>\r\n                              </div>\r\n                              <div>\r\n                                  <span layout=\"row\">\r\n                                      <hr class=\"line\" flex />\r\n                                  </span>\r\n                              </div>\r\n                          </div>\r\n                      </div>\r\n                  </mat-card-content>\r\n              </mat-card>\r\n          </div>\r\n      </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n<br>\r\n      <!--Charge Details Summary-->\r\n      <div>\r\n        <h4 class=\"paraFont\">Loan Charge Details</h4>\r\n      </div>\r\n      <mat-card class=\"matCard\">\r\n        \r\n        <div fxLayout=\"row wrap\" class=\"main\">\r\n          <div fxFlex=\"100\">\r\n          </div>\r\n          <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n            <div class=\"mt-24\"></div>\r\n            <form *ngIf=\"chargeFormIT\" [formGroup]=\"chargeFormIT\">\r\n              <table class=\"cart-table default-bg mat-elevation-z0\">\r\n                <tbody>\r\n                  <tr class=\"mt-4\" *ngFor=\"let chargeIT of in2.controls; let i = index\" class=\"chargeTable\">\r\n                    <div class=\"row\" class=\"chargeLeft\">\r\n                      <ng-container [formGroup]=\"chargeIT\">\r\n                        <div class=\"heading\">\r\n                          <input matInput formControlName=\"intrestType\" name=\"account_branch\" id=\"headingInput\" readonly />\r\n                        </div>\r\n                        <td>\r\n                          <mat-card class=\"matCardBox\">\r\n                            <mat-label class=\"label\">Amount</mat-label>\r\n                            <input matInput formControlName=\"amout\" name=\"account_branch\" class=\"input\" readonly />\r\n                          </mat-card>\r\n                        </td>\r\n                      </ng-container>\r\n                    </div>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </mat-card>\r\n\r\n\r\n     <!--Account Services Summary-->\r\n     <div class=\"spanDiv1\">\r\n      <h4 class=\"paraFont\">Loan Account Services</h4>\r\n    </div>\r\n    <mat-card class=\"matCard\">\r\n    <div class=\"full-width\" style=\"height:auto\">\r\n      <div class=\"fullcard\">\r\n          <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n              <div fxFlex=\"100%\" *ngIf=\"accServiceInfo\">\r\n                  <h3 fxLayout=\"row\" class=\"paraFont\">Statement Preferences</h3>\r\n                  <mat-card class=\"chequecard\">\r\n                      <mat-card-content>\r\n                          <div class=\"full-width\">\r\n                              <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                  <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                      <ng-container>\r\n  \r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Statement Cycle</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{accServiceInfo.statementCycle}}</mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Statement Type</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{accServiceInfo.statementType}}\r\n                                              </mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Start Date</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{accServiceInfo.startDate}}\r\n                                              </mat-hint>\r\n                                          </div>\r\n                                         \r\n                                      </ng-container>\r\n                                  </div>\r\n                                  <div>\r\n                                      <span layout=\"row\">\r\n                                          <hr class=\"line\" flex />\r\n                                      </span>\r\n                                  </div>\r\n                              \r\n                              </div>\r\n                          </div>\r\n                      </mat-card-content>\r\n                  </mat-card>\r\n                  <h3 fxLayout=\"row\" class=\"paraFont\">Holiday Preferences</h3>\r\n                  <mat-card class=\"chequecard\">\r\n                      <mat-card-content>\r\n                          <div class=\"full-width\">\r\n                              <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                  <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                      <ng-container>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Ignore Holidays ?</mat-hint>\r\n                                              <br>\r\n                                              <div class=\"toggle\">\r\n                                                  <mat-slide-toggle [checked]=\"ignoreHolidayVarHoliday\">\r\n                                                  </mat-slide-toggle>\r\n                                              </div>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Holiday Check</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{holiday.holidayCheck}}</mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Move Across Month</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{holiday.moveAcrossMonth}}</mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Cascade Schedules ?</mat-hint>\r\n                                              <br>\r\n                                              <div class=\"toggle\">\r\n                                                  <mat-slide-toggle [checked]=\"cascadeVarHoliday\">\r\n                                                  </mat-slide-toggle>\r\n                                              </div>\r\n                                          </div>\r\n                                      </ng-container>\r\n                                  </div>\r\n                              </div>\r\n                          </div>\r\n                      </mat-card-content>\r\n                  </mat-card>\r\n                  <h7 fxLayout=\"row\" class=\"paraFont\">Maturity Date</h7>\r\n                  <mat-card class=\"chequecard\">\r\n                      <mat-card-content>\r\n                          <div class=\"full-width\">\r\n                              <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                  <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                      <ng-container>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Ignore Holidays ?</mat-hint>\r\n                                              <br>\r\n                                              <div class=\"toggle\">\r\n                                                  <mat-slide-toggle [checked]=\"ignoreHolidayVarMaturity\">\r\n                                                  </mat-slide-toggle>\r\n                                              </div>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Holiday Check</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{maturity.holidayCheck}}</mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Move Across Month</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{maturity.moveAcrossMonth}}</mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Cascade Schedules ?</mat-hint>\r\n                                              <br>\r\n                                              <div class=\"toggle\">\r\n                                                  <mat-slide-toggle [checked]=\"cascadeVarMaturity\">\r\n                                                  </mat-slide-toggle>\r\n                                              </div>\r\n                                          </div>\r\n                                      </ng-container>\r\n                                  </div>\r\n                              </div>\r\n                          </div>\r\n                      </mat-card-content>\r\n                  </mat-card>\r\n                  <h7 fxLayout=\"row\" class=\"paraFont\">Revision Schedules</h7>\r\n                  <mat-card class=\"chequecard\">\r\n                      <mat-card-content>\r\n                          <div class=\"full-width\">\r\n                              <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                  <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                      <ng-container>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Ignore Holidays ?</mat-hint>\r\n                                              <br>\r\n                                              <div class=\"toggle\">\r\n                                                  <mat-slide-toggle [checked]=\"ignoreHolidayVarRevison\">\r\n                                                  </mat-slide-toggle>\r\n                                              </div>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Holiday Check</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{revision.holidayCheck}}</mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Move Across Month</mat-hint>\r\n                                              <br>\r\n                                              <mat-hint class=\"valueText\">{{revision.moveAcrossMonth}}</mat-hint>\r\n                                          </div>\r\n                                          <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                              <mat-hint class=\"headingText\">Cascade Schedules ?</mat-hint>\r\n                                              <br>\r\n                                              <div class=\"toggle\">\r\n                                                  <mat-slide-toggle [checked]=\"cascadeVarRevison\">\r\n                                                  </mat-slide-toggle>\r\n                                              </div>\r\n                                          </div>\r\n                                      </ng-container>\r\n                                  </div>\r\n                              </div>\r\n                          </div>\r\n                      </mat-card-content>\r\n                  </mat-card>\r\n              </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n   </mat-card>\r\n    </div>\r\n  </div> \r\n\r\n\r\n  <div  *ngIf=\"!isApprovedSreen\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n  <button mat-button rounded color=\"primary\"  (click)=\"Back()\">\r\n    Back\r\n  </button>\r\n  <button  mat-raised-button color=\"primary\"(click)=\"Done()\">\r\n    Done\r\n  </button>\r\n</div>\r\n","import { Routes } from '@angular/router';\r\n\r\nimport { AccountApprovalDetailsSummaryComponent } from './account-approval-stage/account-approval-details-summary/account-approval-details-summary.component';\r\nimport { AccountApprovalStageComponent } from './account-approval-stage/account-approval-stage.component';\r\nimport { AssessmentDetailsComponent } from './account-approval-stage/assessment-details/assessment-details.component';\r\nimport { LoanSummaryDetailsComponent } from './account-approval-stage/loan-summary-details/loan-summary-details.component';\r\nimport { OfferAcceptRejectDetailsComponent } from './account-approval-stage/offer-accept-reject-details/offer-accept-reject-details.component';\r\n\r\nimport { AccountService } from '../home/account.service';\r\n// import { LoanAccountComponent } from './loan-account.component';\r\nimport { AccountServicesComponent } from './loan-enrichment/account-services/account-services.component';\r\nimport { LoanChargeDetailsComponent } from './loan-enrichment/loan-charge-details/loan-charge-details.component';\r\nimport { LoanDisbursementDetailsComponent } from './loan-enrichment/loan-disbursement-details/loan-disbursement-details.component';\r\nimport { LoanEnrichmentComponent } from './loan-enrichment/loan-enrichment.component';\r\nimport { LoanIntrestDetailsComponent } from './loan-enrichment/loan-intrest-details/loan-intrest-details.component';\r\nimport { LoanRepaymentComponentComponent } from './loan-enrichment/loan-repayment-component/loan-repayment-component.component';\r\nimport { FinancialDetailsComponent } from './loan-entry-stage/financial-details/financial-details.component';\r\nimport { LoanAccountComponent } from './loan-account.component';\r\nimport { LoanAssesmentStageComponent } from './loan-assesment-stage/loan-assesment-stage.component';\r\nimport { LoanAssessmentDetailsComponent } from './loan-assesment-stage/loan-assessment-details/loan-assessment-details.component';\r\nimport { LoanQualitativeScoreboardComponent } from './loan-assesment-stage/loan-qualitative-scoreboard/loan-qualitative-scoreboard.component';\r\n\r\nimport { AssetDetailsSummaryComponent } from './loan-entry-stage/asset-details/asset-details-summary/asset-details-summary.component';\r\nimport { AssetDetailsComponent } from './loan-entry-stage/asset-details/asset-details.component';\r\nimport { LoanDetailsSummaryComponent } from './loan-entry-stage/loan-details/loan-details-summary/loan-details-summary.component';\r\nimport { LoanDetailsComponent } from './loan-entry-stage/loan-details/loan-details.component';\r\nimport { LoanEntryStageComponent } from './loan-entry-stage/loan-entry-stage.component';\r\nimport { PostOfferAmendStageComponent } from './post-offer-amend-stage/post-offer-amend-stage.component';\r\nimport { PostOfferIssueComponent } from './post-offer-amend-stage/offer-issue/offer-issue.component';\r\nimport { PostOfferAmendmentComponent } from './post-offer-amend-stage/post-offer-amendment/post-offer-amendment.component';\r\nimport { LoanDisbursementComponent } from './post-offer-amend-stage/loan-disbursement/loan-disbursement.component';\r\nimport { VehicleDetailsComponent } from './loan-entry-stage/vehicle-details/vehicle-details.component';\r\nimport { LoanRepaymentComponent } from './post-offer-amend-stage/loan-repayment/loan-repayment.component';\r\nimport { OfferAcceptRejectStageComponent } from './offer-accept-reject-stage/offer-accept-reject-stage.component';\r\nimport { AcceptOfferAcceptRejectComponent } from './offer-accept-reject-stage/offer-accept-reject/offer-accept-reject.component';\r\nimport { OfferAssessmentDetailsComponent } from './offer-accept-reject-stage/offer-assessment-details/offer-assessment-details.component';\r\n\r\n// import { AssetValuationComponent } from './offer-issue-stage/asset-valuation/asset-valuation.component';\r\nimport { CreditRatingDetailsComponent } from './offer-issue-stage/credit-rating-details/credit-rating-details.component';\r\nimport { LegalOpinionComponent } from './offer-issue-stage/legal-opinion/legal-opinion.component';\r\nimport { OfferAssessmentComponent } from './offer-issue-stage/offer-assessment/offer-assessment.component';\r\n// import { OfferIssueStageComponent } from './offer-issue-stage/offer-issue-stage.component';\r\nimport { OfferissueComponent } from './offer-issue-stage/offerissue/offerissue.component';\r\n\r\n\r\nimport { VehicleDetailsSummaryComponent } from './loan-entry-stage/vehicle-details/vehicle-details-summary/vehicle-details-summary.component';\r\nimport { AdmissionDetailsComponent } from './loan-entry-stage/admission-details/admission-details.component';\r\nimport { CustomerInformationComponent } from './loan-entry-stage/customer-information/customer-information.component';\r\nimport { AssetValuationComponent } from './offer-issue-stage/asset-valuation/asset-valuation.component';\r\nimport { OfferIssueStageComponent } from './offer-issue-stage/offer-issue-stage.component';\r\nimport { MandateDetailsComponent } from './loan-entry-stage/mandate-details/mandate-details.component';\r\nimport { UnderWrittingCreditRatingDetailsComponent } from './underwriting-stage/credit-rating-details/credit-rating-details.component';\r\nimport { UnderWritingCreditRatingSummaryComponent } from './underwriting-stage/credit-rating-details/credit-rating-summary/credit-rating-summary.component';\r\nimport { UnderWritingLegalOpinionSummaryComponent } from './underwriting-stage/legal-opinion/legal-opinion-summary/legal-opinion-summary.component';\r\nimport { UnderWrittingLegalOpinionComponent } from './underwriting-stage/legal-opinion/legal-opinion.component';\r\nimport { UnderwritingStageSummaryComponent } from './underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component';\r\nimport { UnderwritingStageComponent } from './underwriting-stage/underwriting-stage.component';\r\nimport { ValuationAssetsSummaryComponent } from './underwriting-stage/valuation-of-assets/valuation-assets-summary/valuation-assets-summary.component';\r\nimport { ValuationOfAssetsComponent } from './underwriting-stage/valuation-of-assets/valuation-of-assets.component';\r\n//import { VehicleDetailsComponent } from './loan-entry-stage/vehicle-details/vehicle-details.component';\r\nimport { DigitalSigningComponent } from './digital-signing/digital-signing.component';\r\nimport { SupervisorApprovalStageComponent } from './supervisor-approval-stage/supervisor-approval-stage.component';\r\nimport { SupervisorApprovedDetailsComponent } from './supervisor-approval-stage/supervisor-approved-details/supervisor-approved-details.component';\r\nimport { SupervisorAssessmentDetailsComponent } from './supervisor-approval-stage/supervisor-assessment-details/supervisor-assessment-details.component';\r\nimport { AccountCreationStageComponent } from './account-creation-stage/account-creation-stage.component';\r\nimport { OfferAcceptRejectComponent } from './account-creation-stage/offer-accept-reject/offer-accept-reject.component';\r\nimport { AccountCreateDetailsComponent } from './account-creation-stage/account-create-details/account-create-details.component';\r\nimport { OfferAcceptRejectSummaryComponent } from './account-creation-stage/offer-accept-reject/offer-accept-reject-summary/offer-accept-reject-summary.component';\r\nimport { AccountCreateSummaryComponent } from './account-creation-stage/account-create-details/account-create-summary/account-create-summary.component';\r\nimport { AccountCreationSummaryComponent } from './account-creation-stage/account-creation-summary/account-creation-summary.component';\r\nimport { GuarantorDetailsComponent } from './loan-entry-stage/guarantor-details/guarantor-details.component';\r\nimport { CollateralDetailsComponent } from './loan-entry-stage/collateral-details/collateral-details.component';\r\nimport { OfferAcceptRejectSumaryComponent } from './account-approval-stage/offer-accept-reject-summary/offer-accept-reject-summary.component';\r\n// import { ListComponent } from '../home/digital-signing/list/list.component';\r\n// import { ListComponent } from './digital-signing/list/list.component';\r\nimport { OfferIssueComponent } from './offer-accept-reject-stage/offer-issue/offer-issue.component';\r\nimport { PostOfferAmendmentStageSummaryComponent } from './post-offer-amend-stage/post-offer-amendment-stage-summary/post-offer-amendment-stage-summary.component';\r\nimport { DigitalSignInNowOrLaterComponent } from './digital-signing/digital-sign-in-now-or-later/digital-sign-in-now-or-later.component';\r\nimport { LoanEnrichmentViewSummaryComponent } from './loan-enrichment/loan-enrichment-view-summary/loan-enrichment-view-summary.component';\r\nimport { UploadSignOrEsignComponent } from './digital-signing/upload-sign-or-esign/upload-sign-or-esign.component';\r\nimport { LoanAssessmentDetailsSummaryComponent } from './loan-assesment-stage/loan-assessment-details-summary/loan-assessment-details-summary.component';\r\nimport { LoanAssessmentViewSummaryComponent } from './loan-assesment-stage/loan-assessment-view-summary/loan-assessment-view-summary.component';\r\n\r\n\r\nexport const LoanAccountRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoanAccountComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        redirectTo: 'account/list',\r\n        pathMatch: 'full'\r\n      },{\r\n        path: 'account/list',\r\n        component: LoanEntryStageComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/offerstage/list',\r\n        component: OfferAcceptRejectStageComponent ,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/offerstage/offer-assessment',\r\n        component: OfferAssessmentDetailsComponent ,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' } \r\n      },{\r\n        path: 'account/offerstage/offer-issue',\r\n        component: OfferIssueComponent ,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/offerstage/offer-accept-reject',\r\n        component: AcceptOfferAcceptRejectComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' } \r\n      },\r\n\r\n      // Account Approval Stage Starts\r\n      {\r\n        path: 'account-approval/list',\r\n        component: AccountApprovalStageComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account-approval/assessment-details',\r\n        component: AssessmentDetailsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account-approval/offer-acceptReject-details',\r\n        component: OfferAcceptRejectDetailsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account-approval/offer-acceptReject-summary-details',\r\n        component: OfferAcceptRejectSumaryComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },\r\n      {\r\n        path: 'account-approval/loan-summary-details',\r\n        component: LoanSummaryDetailsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account-approval/account-approval-summary-details',\r\n        component: AccountApprovalDetailsSummaryComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },\r\n      // Account Approval Stage Ends\r\n      {\r\n        path: 'account/list/underwritingStage',\r\n        component: UnderwritingStageComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/list/underwritingStage/creditrating',\r\n        component: UnderWrittingCreditRatingDetailsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/list/underwritingStage/creditrating/edit',\r\n        component: UnderWritingCreditRatingSummaryComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/list/underwritingStage/legalopinion',\r\n        component: UnderWrittingLegalOpinionComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/list/underwritingStage/legalopinion/edit',\r\n        component: UnderWritingLegalOpinionSummaryComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/list/underwritingStage/valuationofassets',\r\n        component: ValuationOfAssetsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/list/underwritingStage/valuationofassets/edit',\r\n        component: ValuationAssetsSummaryComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/list/underwritingStage/summary',\r\n        component: UnderwritingStageSummaryComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/assessment/list',\r\n        component: LoanAssesmentStageComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },\r\n      {\r\n        path: 'account/assessment/summary',\r\n        component: LoanAssessmentViewSummaryComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },\r\n      {\r\n        path: 'account/loan-details',\r\n        component: LoanDetailsComponent,\r\n        data: { title: 'Home', breadcrumb: 'Loan Details' }\r\n      },\r\n      {\r\n        path: 'account/application-enrichment',\r\n        component: LoanEnrichmentComponent,\r\n        data: { title: 'Home', breadcrumb: 'Application Enrichment' }\r\n      },\r\n      {\r\n        path:'account/application-enrichment/Summary',\r\n        component:LoanEnrichmentViewSummaryComponent,\r\n        data : {title: 'Home', breadcrumb: 'Application Enrichment'}\r\n      },\r\n      {\r\n        path: 'account/application-enrichment/intrest-details',\r\n        component: LoanIntrestDetailsComponent,\r\n        data: { title: 'Home', breadcrumb: 'Application Enrichment' }\r\n      },\r\n      {\r\n        path: 'account/application-enrichment/loan-disbursement',\r\n        component: LoanDisbursementDetailsComponent,\r\n        data: { title: 'Home', breadcrumb: 'Application Enrichment' }\r\n      },\r\n      {\r\n        path: 'account/application-enrichment/loan-repayment',\r\n        component: LoanRepaymentComponentComponent,\r\n        data: { title: 'Home', breadcrumb: 'Application Enrichment' }\r\n      },\r\n      {\r\n        path: 'account/application-enrichment/loan-repayment/:id',\r\n        component: LoanRepaymentComponentComponent,\r\n        data: { title: 'Home', breadcrumb: 'Application Enrichment' }\r\n      },\r\n      {\r\n        path: 'account/application-enrichment/account-services',\r\n        component: AccountServicesComponent,\r\n        data: { title: 'Home', breadcrumb: 'Application Enrichment' }\r\n      },\r\n      {\r\n        path: 'account/application-enrichment/charge-details',\r\n        component: LoanChargeDetailsComponent,\r\n        data: { title: 'Home', breadcrumb: 'Application Enrichment' }\r\n      },\r\n     {\r\n        path: 'account/loan-details/summary',\r\n        component: LoanDetailsSummaryComponent,\r\n        data: { title: 'Home', breadcrumb: 'Loan Details' }\r\n      },{\r\n        path: 'account/asset-details',\r\n        component: AssetDetailsComponent,\r\n        data: { title: 'Home', breadcrumb: 'Asset Details' }\r\n      },{\r\n        path: 'account/asset-details/summary',\r\n        component: AssetDetailsSummaryComponent,\r\n        data: { title: 'Home', breadcrumb: 'Asset Details' }\r\n      },{\r\n        path: 'account/vehicle-details',\r\n        component: VehicleDetailsComponent,\r\n        data: { title: 'Home', breadcrumb: 'Vehicle Details' }\r\n      },{\r\n        path: 'account/digitalsigning/list',\r\n        component: DigitalSigningComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/digitalsigning/list/options',\r\n        // component: ListComponent,\r\n        component: DigitalSignInNowOrLaterComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/digitalsigning/options',\r\n        // component: ListComponent,\r\n        component: UploadSignOrEsignComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/vehicle-details/summary',\r\n        component: VehicleDetailsSummaryComponent,\r\n        data: { title: 'Home', breadcrumb: 'Vehicle Details' }\r\n      },\r\n      {\r\n        path: 'account/offer-issue/list',\r\n        component: OfferIssueStageComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },\r\n      {\r\n        path: 'account/list/offer-issue/credit-rating',\r\n        component: CreditRatingDetailsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/list/offer-issue/valuation-asset',\r\n        component: AssetValuationComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },\r\n      {\r\n        path: 'account/list/offer-issue/legal-opinion',\r\n        component: LegalOpinionComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },\r\n      {\r\n        path: 'account/list/offer-issue/offer-assessment',\r\n        component: OfferAssessmentComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },\r\n      {\r\n        path: 'account/list/offer-issue/offerissue',\r\n        component: OfferissueComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },\r\n        {\r\n        path: 'account/admission-details',\r\n        component: AdmissionDetailsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Admission Details' }\r\n      },\r\n      {\r\n        path: 'account/customer-information',\r\n        component: CustomerInformationComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Customer Information' }\r\n      },\r\n      {\r\n        path: 'account/mandate-details',\r\n        component: MandateDetailsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Mandate Details' }\r\n      },\r\n      {\r\n        path: 'account/financial-details',\r\n        component: FinancialDetailsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Financial Details' }\r\n\r\n      },\r\n    /*  {\r\n        path: 'offer-issue/list',\r\n        component: OfferIssueStageComponent,\r\n        data: { title: 'Loan Account', breadcrumb: 'Create Loan Account' }\r\n      }, */\r\n      {\r\n        path: 'account/collateral_details',\r\n        component: CollateralDetailsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Collateral Details' }\r\n      },\r\n      {\r\n        path: 'account/account-creation-stage',\r\n        component: AccountCreationStageComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n          path: 'account/account-creation-stage/account-create-details',\r\n          component: AccountCreateDetailsComponent,\r\n          data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n        },{\r\n          path: 'account/account-creation-stage/account-create-summary',\r\n          component: AccountCreateSummaryComponent ,\r\n          data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n        },{\r\n          path: 'account/account-creation-stage/offer-accept-reject',\r\n          component: OfferAcceptRejectComponent,\r\n          data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n        },{\r\n          path: 'account/account-creation-stage/offer-accept-reject-summary',\r\n          component: OfferAcceptRejectSummaryComponent,\r\n          data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n        },\r\n        {\r\n          path: 'account/account-creation-stage/account-creation-summary',\r\n          component: AccountCreationSummaryComponent,\r\n          data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n        },\r\n      {\r\n        path: 'account/guarantor_details',\r\n        component: GuarantorDetailsComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Guarantor Details' }\r\n      },\r\n      {\r\n        path: 'account/supervisor-summary',\r\n        component: SupervisorApprovalStageComponent,\r\n        data: { title: 'Home', breadcrumb: 'Vehicle Details' }\r\n      },\r\n      {\r\n        path: 'account/supervisor/list',\r\n        component: SupervisorApprovalStageComponent,\r\n        data: { title: 'Home', breadcrumb: 'Vehicle Details' }\r\n      },\r\n      {\r\n        path: 'account/supervisor-assessmentdetails',\r\n        component: SupervisorAssessmentDetailsComponent,\r\n        data: { title: 'Home', breadcrumb: 'Vehicle Details' }\r\n      },\r\n      {\r\n        path: 'account/supervisor-approveddetails',\r\n        component: SupervisorApprovedDetailsComponent,\r\n        data: { title: 'Home', breadcrumb: 'Vehicle Details' }\r\n      },\r\n      {\r\n        path: 'account/assessment-summary',\r\n        component: LoanAssesmentStageComponent,\r\n        data: { title: 'Home', breadcrumb: 'Create Retain Loan Account' }\r\n      },\r\n      {\r\n        path: 'account/post-offer-amend-stage/list',\r\n        component: PostOfferAmendStageComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },\r\n      {\r\n        path: 'account/post-offer-amend-stage-summary',\r\n        component: PostOfferAmendmentStageSummaryComponent,\r\n        data: { title: 'Loan', breadcrumb: 'Create Loan Account' }\r\n      },{\r\n        path: 'account/offer-issue',\r\n        component: PostOfferIssueComponent,\r\n        data: { title: 'Home', breadcrumb: 'Offer Issue' }\r\n      },{\r\n        path: 'account/post-offer-amendment',\r\n        component: PostOfferAmendmentComponent,\r\n        data: { title: 'Home', breadcrumb: 'Offer Issue' }\r\n      },{\r\n        path: 'account/loan-disbursement',\r\n        component: LoanDisbursementComponent,\r\n        data: { title: 'Home', breadcrumb: 'Offer Issue' }\r\n      },{\r\n        path: 'account/loan-repayment',\r\n        component: LoanRepaymentComponent,\r\n        data: { title: 'Home', breadcrumb: 'Offer Issue' }\r\n      },\r\n      {\r\n       path:'account/assessment/summary',\r\n       component:LoanAssesmentStageComponent,\r\n       data:{title: 'Home', breadcrumb: 'Assessment Details'}\r\n      },\r\n      {\r\n        path: 'account/assessment/qualitative',\r\n        component: LoanQualitativeScoreboardComponent,\r\n        data: { title: 'Home', breadcrumb: 'Qualitative Scoreboard Details' }\r\n      },{\r\n        path:'account/assessment/assessment-details',\r\n        component:LoanAssessmentDetailsComponent,\r\n        data: { title: 'Home', breadcrumb: 'Assessment Details' }\r\n        \r\n      }\r\n    ]\r\n\r\n  }\r\n];","import { ChangeDetectorRef, Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { SignaturePad } from 'angular2-signaturepad';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/home/account.service';\r\n// import { AccountService } from '../../account.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-esign-pop',\r\n  templateUrl: './esign-pop.component.html',\r\n  styleUrls: ['./esign-pop.component.scss']\r\n})\r\nexport class EsignPopComponent implements OnInit {\r\n  signatureImg: string;\r\n  @ViewChild(SignaturePad) signaturePad: SignaturePad;\r\n  isDone: boolean = false;\r\n  accountId:any;\r\n  signaturePadOptions: Object = {\r\n    'minWidth': 2,\r\n    'canvasWidth': 250,\r\n    'canvasHeight': 150\r\n  };\r\n  accountdetailsForStatusUpdate: Object;\r\n  count: any=0;\r\n  show: boolean;\r\n  res: Object = {'enable':false, 'image':null};\r\n  disableDone: boolean=true;\r\n  signupload:boolean=true;\r\n  selectedFile: any;\r\n  imageurl: any;\r\n  loanInfo: any;\r\n\r\n  constructor\r\n    (\r\n      @Inject(MAT_DIALOG_DATA) public data: any,\r\n      public dialogRef: MatDialogRef<EsignPopComponent>,\r\n      private ls: LocalStoreService,\r\n      private accountService: AccountService,\r\n      private apiService: ApiService,\r\n      private router: Router,\r\n      private appEntryService: ApplicationEntryStageService,\r\n      private cdr:ChangeDetectorRef\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.accountId = this.ls.getItem('loanAccountId');\r\n    this.accountId = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.accountId = this.loanInfo.loanAccountId;\r\n    }\r\n    console.log(\"popup response data:\",this.data);\r\n    this.isDone = this.data.isSignLater;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // this.signaturePad is now available\r\n    this.signaturePad.set('minWidth', 2);\r\n    this.signaturePad.clear();\r\n  }\r\n\r\n  drawComplete() {\r\n    console.log(this.signaturePad.toDataURL());\r\n    const value=this.signaturePad.toDataURL();\r\n    // this.ls.setItem('signedImage',value);\r\n    // this.imageurl=this.ls.getItem('signedImage'),\r\n    this.imageurl = value ;\r\n    console.log(\"this.imageurl\",this.imageurl);\r\n    if(value.toString().includes('data:image/png;base64')){\r\n      this.disableDone=false;\r\n    }else{\r\n      this.disableDone=true;\r\n    }\r\n  }\r\n\r\n  drawStart() {\r\n    console.log('begin drawing');\r\n  }\r\n\r\n  clearSignature() {\r\n    this.signaturePad.clear();\r\n  }\r\n\r\n  savePad() {\r\n    const base64Data = this.signaturePad.toDataURL();\r\n    this.signatureImg = base64Data;\r\n  }\r\n\r\n\r\n\r\n  close1()\r\n  {\r\n    if(this.data.screen === \"NewCustomerOnboarding\") {\r\n      this.dialogRef.close(this.res);\r\n    }\r\n    else {\r\n      //this.dialogRef.close(false);\r\n      this.dialogRef.close({image: this.ls.getItem('signedImage')?this.ls.getItem('signedImage'):''});\r\n      this.ls.setItem('enable',false);\r\n    }\r\n  }\r\n\r\n  close() {\r\n    if(this.data.screen === \"NewCustomerOnboarding\") {\r\n      this.dialogRef.close(this.res);\r\n    }\r\n    else {\r\n      console.log('else ::')\r\n      //this.dialogRef.close(true);\r\n      this.dialogRef.close({image: this.imageurl});\r\n      //this.ls.setItem('enable',true);\r\n    }\r\n  \r\n  }\r\n\r\n  onFileChanged(event) {\r\n    this.selectedFile = event.target.files[0]\r\n    console.log(this.selectedFile)\r\n\r\n    this.disableDone=false;\r\n    \r\n  }\r\n  \r\n  onSubmit() {\r\n    console.log(this.signaturePad.toDataURL());    \r\n    let data: any = {};\r\n    console.log(\"this.data::\",this.data)\r\n    if(this.data.screen !== \"NewCustomerOnboarding\") {\r\n      // data.accountId = this.ls.getItem('accountId');\r\n      data.accountId = this.accountId;\r\n      setTimeout(() => {\r\n        this.getByAccountId(data.accountId);\r\n      }, 10);\r\n\r\n    }\r\n    else {\r\n      let customerId = this.data.customerId;\r\n      this.apiService.getAccountIdByCusId(customerId).subscribe(res => {\r\n        console.log(\"Account Id response -- \", res);\r\n        data.accountId = res;\r\n      })\r\n      this.res = {enable:true, image:this.signaturePad.toDataURL()};\r\n    }\r\n\r\n    data.customerId = this.data.customerId;\r\n    data.documentName = this.data.customerId + \"Signature\";\r\n    data.documentType = \"10\"\r\n    data.fileType = \"image/jpeg\";\r\n    data.fileName = \"signature\";\r\n\r\n    const dataURL = this.signaturePad.toDataURL('image/png');\r\n    this.ls.setItem('signedImage',dataURL)\r\n    const datam = atob(dataURL.substring('data:image/png;base64,'.length)),\r\n      asArray = new Uint8Array(datam.length);\r\n    for (var i = 0, len = datam.length; i < len; ++i) {\r\n      asArray[i] = datam.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([asArray], { type: 'image/png' });\r\n\r\n    const uploadData = new FormData();\r\n    uploadData.append('data', JSON.stringify(data));\r\n    uploadData.append('file', blob);\r\n    uploadData.append('accType', \"savings\")\r\n\r\n    this.apiService.uploadDocument(uploadData).subscribe((op) => {\r\n      console.log(op);\r\n      if(op)\r\n      {\r\n        this.ls.setItem('signedImage',this.imageurl);\r\n        console.log(this.imageurl);\r\n        console.log(this.ls.getItem('signedImage'));\r\n        this.close();\r\n      this.show=true;\r\n      this.res = op;\r\n      }\r\n    },err=>{\r\n      this.close();\r\n      this.res = false;\r\n    });\r\n    if(this.data.screen !== \"NewCustomerOnboarding\") {\r\n      this.isDone = false;\r\n    }\r\n    else {\r\n      this.close();\r\n    }\r\n    console.log(this.isDone);   \r\n  //   this.router.navigateByUrl('/', {skipLocationChange: true}).then(() => {\r\n  //     this.router.navigate(['loan/account/digitalsigning/list/options/']);\r\n  // });\r\n    this.ls.setItem('eSignStage', true);\r\n  }\r\n\r\n  getByAccountId(accountId: any) {\r\n    this.apiService.fetchByLoanAccountId(accountId)\r\n      .subscribe(resp => {\r\n        console.log('updateStatus :: ',resp);\r\n        this.accountdetailsForStatusUpdate = resp;\r\n        this.updateAccountStatus(resp);\r\n      });\r\n  }\r\n\r\n  updateAccountStatus(accData) {\r\n    accData.status = 'BACKLOG';\r\n    this.apiService.updateLoanDetailsStatus(accData)\r\n      .subscribe(updateResp => {\r\n        console.log(\"updateResp:: \", updateResp);\r\n      });\r\n  }\r\n\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\" fxLayoutAlign=\"end center\">\r\n      <button mat-icon-button (click)=\"close1()\" *ngIf=\"!isDone\">\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n      <!-- <button mat-icon-button (click)=\"close()\" *ngIf=\"isDone\">\r\n          <mat-icon>close</mat-icon>\r\n        </button> -->\r\n    </div>\r\n    <div fxFlex=\"100\" *ngIf=\"!isDone\">\r\n      <div class=\"propic text-center\">\r\n        <img\r\n          src=\"assets/images/esign.png\"\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n    </div>\r\n  \r\n    <div fxFlex=\"100\">\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n        <div fxFlex=\"50\" fxFlexOffset=\"20px\" *ngIf=\"!isDone\">\r\n\r\n          <!-- <div class=\"text-center\">\r\n            <button mat-raised-button color=\"primary\" (click)=\"fileInput.click()\">Upload\r\n              <input style=\"display: none\" type=\"file\" (change)=\"onFileChanged($event)\" #fileInput>\r\n            </button>\r\n          </div>\r\n\r\n            <div class=\"text-center\">\r\n              <button mat-button class=\"full-width\">OR</button>\r\n            </div> -->\r\n\r\n          <h5 class=\"text-center mt-16 esignFont\">Please e-sign the application!</h5>\r\n          <mat-card class=\"signaturePad\"  class=\"mt-16\">\r\n            <mat-card-content>\r\n              <signature-pad\r\n                [options]=\"signaturePadOptions\"\r\n                (onBeginEvent)=\"drawStart()\"\r\n                (onEndEvent)=\"drawComplete()\"\r\n              ></signature-pad>\r\n            </mat-card-content>\r\n          </mat-card>\r\n          <div class=\"text-center\">\r\n            <button mat-raised-button class=\"Next\" (click)=\"onSubmit()\" [disabled]=\"disableDone\">\r\n              SUBMIT\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <!-- <div fxFlex=\"50\" fxFlexOffset=\"20px\" *ngIf=\"isDone\" class=\"text-center\">\r\n          <div class=\"propic text-center\">\r\n              <img\r\n                src=\"assets/images/esignlater.png\"\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <br>\r\n          -<h5 class=\"text-center mt-16\">Sign Link on your Email!</h5>\r\n          <p *ngIf=\"accountId != null\">Keep Account Number for your future Reference: <b>{{ accountId }}</b></p>\r\n         - <p>An email has been sent to <b>{{ data?.email }}</b> with the sign link.</p>\r\n          <div class=\"text-center\">\r\n            <button mat-raised-button color=\"primary\" (click)=\"close()\">\r\n              DONE\r\n            </button>\r\n          </div>\r\n        </div> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n  ","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n@Component({\r\n  selector: 'app-offer-assessment-details',\r\n  templateUrl: './offer-assessment-details.component.html',\r\n  styleUrls: ['./offer-assessment-details.component.scss']\r\n})\r\nexport class OfferAssessmentDetailsComponent implements OnInit {\r\n  offerAssessmentFormGroup: FormGroup;\r\n  disableDone:boolean =true;\r\n  isAssesmentDetailsScreen: boolean = false;\r\n  isOfferIssueScreen: boolean = false; \r\n  isOfferIssueRejectScreen: boolean  = false;\r\n  arraySystemRecommendation:any[]=['Approved','Rejected'];\r\n \r\n  \r\n    \r\n    \r\n    constructor( private formBuilder: FormBuilder,\r\n      private ls: LocalStoreService,\r\n      private apiService: ApiService,\r\n      private snack: MatSnackBar, \r\n      private router: Router) {\r\n      this.offerAssessmentFormGroup = this.formBuilder.group({\r\n        loanAccountId:['566',[Validators.required]],\r\n        rateOfInterest : ['',[Validators.required]],\r\n        requestedLoanAmount: ['',[Validators.required]],\r\n        loanTenure: ['',[Validators.required]],\r\n        approvedLoanAmount:['',[Validators.required]],\r\n        userRecommendation:['',[Validators.required]],\r\n        systemRecommendation:['',[Validators.required]],\r\n        loanAmountRecommendation:['',[Validators.required]]\r\n      })\r\n     }\r\n\r\n\r\n     \r\n  ngOnInit(): void {\r\n    \r\n  }\r\n  goBack(){\r\n    this.router.navigate([\"/loan/account/offerstage/list\"]);\r\n  }\r\n  goNext(){\r\n   \r\n      this.apiService.updateAssessment(this.offerAssessmentFormGroup.value).subscribe(data => {\r\n        console.log(\"data\",data);\r\n        if(data != null){\r\n          this.snack.open('Data Saved!', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n          //this.cdr.markForCheck();\r\n        }\r\n      })\r\n      \r\n     \r\n    \r\n    this.ls.setItem('assessmentScreen', true);\r\n    this.router.navigate([\"/loan/account/offerstage/offer-issue\"]);\r\n  }\r\n  \r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img\r\n          src=\"assets/images/svg/undraw_report_mx0a.svg\"\r\n          alt=\"\"\r\n          class=\"w-80\"\r\n        />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Assessment Details</b></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"column\">\r\n    <form fxLayout=\"column\"  [formGroup]=\"offerAssessmentFormGroup\">\r\n        <div fxFlex=\"100\">\r\n            <mat-card  fxLayout=\"column\" style=\"border-radius: 30px; margin-right: 1.5cm;\">\r\n             <mat-card-title class=\"\">\r\n                <div class=\"card-title-text\" >Assessment Details<mat-divider></mat-divider></div>\r\n             </mat-card-title>\r\n          \r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <label  class=\"hint\">Request Loan Amount</label>\r\n                  <mat-card class=\"inputMatName\">\r\n                    <input matInput formControlName=\"requestedLoanAmount\" class=\"alignment\" type=\"text\" placeholder=\"Request Loan Amount\" />\r\n                  </mat-card>\r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <label  class=\"hint\">Loan Tenure</label>\r\n                  <mat-card class=\"inputMatName\">\r\n                    <input matInput formControlName=\"loanTenure\" class=\"alignment\" type=\"text\" placeholder=\"Loan Tenure\"/>\r\n                  </mat-card>\r\n                </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <label  class=\"hint\">Rate Of Interest</label>\r\n                <mat-card class=\"inputMatName\">\r\n                  <input matInput formControlName=\"rateOfInterest\" class=\"alignment\" type=\"text\" placeholder=\"Rate Of Interest\"/>\r\n                </mat-card>\r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <label class=\"hint\">System Recommendation</label>\r\n                <mat-card class=\"inputMatName\">\r\n                  <mat-select placeholder=\"Recommended for Approval\" formControlName=\"systemRecommendation\" disableOptionCentering>\r\n                    <mat-option *ngFor=\"let systemRecommendation of arraySystemRecommendation\" [value]=\"systemRecommendation\"> \r\n                      {{systemRecommendation}} \r\n                    </mat-option> \r\n                  </mat-select>\r\n                  <!-- <input matInput formControlName=\"systemRecommendation\" class=\"alignment\" type=\"text\" placeholder=\"System Recommendation\"/> -->\r\n                </mat-card>\r\n              </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n             <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n              <label class=\"hint\">User Recommendation</label>\r\n              <mat-card class=\"inputMatName\">\r\n                <mat-select placeholder=\"User Recommendation\" formControlName=\"userRecommendation\" disableOptionCentering>\r\n                  <mat-option *ngFor=\"let systemRecommendation of arraySystemRecommendation\" [value]=\"systemRecommendation\"> \r\n                    {{systemRecommendation}} \r\n                  </mat-option> \r\n                </mat-select>\r\n                <!-- <input matInput formControlName=\"userRecommendation\" class=\"alignment\" type=\"text\" placeholder=\"Rate Of Interest\"/> -->\r\n              </mat-card>\r\n            </div>\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n              <label class=\"hint\">Loan Amount Recommended</label>\r\n              <mat-card class=\"inputMatName\">\r\n                 <input matInput formControlName=\"loanAmountRecommendation\" class=\"alignment\" type=\"text\" placeholder=\"loanAmountRecommendation\"/> \r\n              </mat-card>\r\n             \r\n            </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n             <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n            <label  class=\"hint\">Approved Loan Amount</label>\r\n            <mat-card class=\"inputMatName\">\r\n              <input matInput formControlName=\"approvedLoanAmount\" class=\"alignment\" type=\"text\" placeholder=\"Approved Loan Amount\"/>\r\n            </mat-card>\r\n          </div>\r\n        \r\n            </div>\r\n          \r\n            </mat-card>\r\n          </div>\r\n          <div class=\"button\">\r\n            <!-- -->\r\n            <button mat-button class=\"Back\" (click)=\"goBack()\" >Back</button>\r\n            <button mat-stroked-button class=\"Next\" (click)=\"goNext()\" [disabled]=\"!offerAssessmentFormGroup.valid\">Next</button>\r\n        </div>\r\n    </form>\r\n  </div>","import { Component,ChangeDetectorRef, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from '../../account.service';\r\nimport { AppConfirmService } from 'app/shared/services/app-confirm/app-confirm.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\n@Component({\r\n  selector: 'app-mandate-details',\r\n  templateUrl: './mandate-details.component.html',\r\n  styleUrls: ['./mandate-details.component.scss']\r\n})\r\nexport class MandateDetailsComponent implements OnInit {\r\n\r\n  panelOpenState = false;\r\n  loanaccountID: any;\r\n  showEditOption: boolean = false;\r\n  mandateDetails : any;\r\n  mandateId : any = 0;\r\n  applicantName:any;\r\n  collateralShare:any;\r\n\r\n  mandateInfo: FormGroup;\r\n  mandateInfo_array: FormArray;\r\n\r\n\r\n  mandateDetailsForm: FormGroup;\r\n  noOfApplicants:any;\r\n  loanInfo: any;\r\n  cifNumber: any;\r\n  count: any = 0;\r\n\r\n  constructor\r\n  (\r\n    private fb: FormBuilder,\r\n    private ls: LocalStoreService,\r\n    private loader: AppLoaderService,\r\n    private apiService: ApiService,\r\n    private router: Router,\r\n    private snack: MatSnackBar,\r\n    private accountService: AccountService,\r\n    private confirmService: AppConfirmService, \r\n    private cdr: ChangeDetectorRef,\r\n    private appApiService: ApplicationEntryStageService,\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildformGroup();\r\n    this.noOfApplicants=this.ls.getItem('LoanNoOfApplicants');\r\n    this.mandateInfo = this.fb.group({\r\n      mandateInfo_array: this.fb.array([])\r\n    });\r\n    this.mandateId = 0;\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n   \r\n    let isMandateDetailscreen: boolean = JSON.parse(this.ls.getItem('MANDATE_DETAIL_DONE'));\r\n    setTimeout(() => {\r\n      if (this.loanaccountID && isMandateDetailscreen) {\r\n        this.showEditOption = true;\r\n        this.getMandateDetails();\r\n      }\r\n      else {\r\n        this.addMandate('');\r\n        this.showEditOption = false;\r\n        this.buildformGroup();\r\n      }\r\n    }, 10);\r\n  \r\n   console.log(\"FORM::\",this.mandateInfo.get('mandateInfo_array')['controls']);\r\n  }\r\n\r\n  getMandateDetails() {\r\n    this.loader.open();\r\n    this.apiService.getMandateDetailsByLoanAccId(this.loanaccountID).subscribe((mandateDetails) => {\r\n      this.loader.close();\r\n      this.mandateDetails = mandateDetails;\r\n      console.log(this.mandateDetails);\r\n      this.buildformGroup(this.mandateDetails);\r\n      if(mandateDetails){\r\n        for (let index = 0; index < mandateDetails.mandateDetails.length; index++) {\r\n          this.addMandate(mandateDetails.mandateDetails[index]);\r\n        }\r\n      }\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n  }\r\n\r\n  buildformGroup(data?) {\r\n    this.mandateDetailsForm = this.fb.group({\r\n      noOfApplicants: [data ? data.noOfApplicants : '', Validators.required],\r\n      registered: [data ? data.registered : false, Validators.required],\r\n      \r\n    })\r\n this.mandateDetailsForm.get('noOfApplicants').setValue(this.noOfApplicants);\r\n  }\r\n\r\n\r\n  createMandateDetail(item): FormGroup {\r\n    return this.fb.group({\r\n      applicantName: item ? item.applicantName : ['',Validators.required],\r\n      collateralShare: item ? item.collateralShare : ['',[Validators.required, Validators.minLength(1), Validators.maxLength(2)]],\r\n      repaymentShare: item ? item.repaymentShare : [''],\r\n      mandateId: '',\r\n      mandateDetailsId: '',\r\n    })\r\n  }\r\n\r\n  \r\n\r\n  addMandate(item){\r\n    console.log(item);\r\n    this.mandateInfo_array = this.mandateInfo.get('mandateInfo_array') as FormArray; \r\n    this.mandateInfo_array.push(this.createMandateDetail(item));\r\n    this.count ++;\r\n    console.log(this.count)\r\n    this.applicantNameFetch();\r\n    \r\n  }\r\n  applicantNameFetch(){\r\n    this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,'loan')\r\n      .subscribe((resp: any) =>{\r\n        const formArray = this.mandateInfo.get('mandateInfo_array') as FormArray;\r\n        switch (this.count) {\r\n          case 1:\r\n            console.log(formArray);\r\n            \r\n             formArray.controls[0].get('applicantName').setValue(resp.data[0].firstName+ \" \"+ resp.data[0].lastName);\r\n            break;\r\n            \r\n          case 2:\r\n            \r\n            \r\n             this.mandateInfo_array.controls[1].get('applicantName').setValue(resp.data[1].firstName+ \" \"+ resp.data[1].lastName);\r\n            break;\r\n          case 3:\r\n             this.mandateInfo_array.controls[2].get('applicantName').setValue(resp.data[2].firstName+ \" \"+ resp.data[2].lastName);\r\n            break;\r\n          case 4:\r\n              this.mandateInfo_array.controls[3].get('applicantName').setValue(resp.data[3].firstName+ \" \"+ resp.data[3].lastName);\r\n            break;\r\n         \r\n        \r\n          default:\r\n               this.mandateInfo_array.controls[4].get('applicantName').setValue(resp.data[4].firstName+ \" \"+ resp.data[4].lastName);\r\n            break;\r\n        }\r\n    \r\n      });\r\n\r\n  }\r\n  removeMandate(item: number) {\r\n    console.log(\"i\", item);\r\n    this.confirmService\r\n      .confirm({ title: \"Confirm\", message: \"Are you sure want to remove?\", ok: \"Yes\", cancel: \"No\" })\r\n      .subscribe(res => {\r\n        console.log(\"res:: removed \", res);\r\n        if (res) {\r\n          const control = <FormArray>this.mandateInfo.controls['mandateInfo_array'];\r\n          control.removeAt(item);\r\n          this.count--;\r\n          this.cdr.markForCheck();\r\n        } else return;\r\n      });\r\n  }\r\n\r\n\r\n\r\n  goBack() {\r\n    this.router.navigate([`/loan/account/customer-information`]);\r\n  }\r\n\r\n  submitForm() {\r\n    let payload: any = {};\r\n    this.mandateDetailsForm.get('noOfApplicants').setValue(this.noOfApplicants);\r\n    console.log(\"NumOfApplicants:\",    this.mandateDetailsForm.get('noOfApplicants').setValue(this.noOfApplicants));\r\n    // this.ls.setItem('LoanNoOfApplicants', this.mandateDetailsForm.get('noOfApplicants').value);\r\n    // console.log(\"NumOfApplicants:\",    this.ls.setItem('LoanNoOfApplicants', this.mandateDetailsForm.get('LoanNoOfApplicants').value));\r\n    \r\n    payload = this.mandateDetailsForm.value;\r\n    console.log(\"Mandate Details:\", this.mandateDetailsForm.value)\r\n    payload.loanAccountId = this.loanaccountID;  \r\n    payload.mandateDetails = this.mandateInfo_array.value;\r\n    if(this.ls.getItem('MANDATE_DETAIL_DONE')){\r\n      payload.mandateId = this.mandateId;\r\n    }\r\n    this.apiService.upsertMandateDetails(payload).subscribe(data => {\r\n      console.log(\"data\", data);\r\n      if (data != null) {\r\n        this.snack.open('Mandate Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.next();\r\n      }\r\n    })\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n    if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem('MANDATE_DETAIL_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/loan/account/financial-details`]);\r\n  }    \r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n            <img src=\"assets/images/svg/mandate_screen.svg\" alt=\"\" class=\"w-90\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><h1>Mandate Details</h1></div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\">\r\n        <mat-card class=\"p-0\">\r\n            <!-- <mat-card-title class=\"\">\r\n                <div class=\"card-title-text\">Mandate Details</div>\r\n                <mat-divider></mat-divider>\r\n            </mat-card-title> -->           \r\n              <mat-card-title>\r\n                <fieldset>\r\n                <legend visible=\"true\">Mandate Details</legend>\r\n                </fieldset>\r\n              </mat-card-title>\r\n            <mat-card-content>\r\n                <form *ngIf=\"mandateDetailsForm\" [formGroup]=\"mandateDetailsForm\">\r\n\r\n                    <div fxLayout=\"row\" class=\"pt-16\" fxLayoutGap=\"30px\" fxLayoutAlign=\"start center\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Number of Applicants</mat-label>\r\n                                    <!-- <mat-select name=\"noOfApplicants\" formControlName=\"noOfApplicants\" required>\r\n                                        <mat-option value=\"\"> Select </mat-option>\r\n                                        <mat-option value=\"1\"> 1</mat-option>\r\n                                    </mat-select> -->\r\n                                    <input matInput name=\"noOfApplicants\" readonly\r\n                                    placeholder=\"Number Of Applicants\" formControlName=\"noOfApplicants\" required />\r\n                                    <mat-error *ngIf=\"!mandateDetailsForm.get('noOfApplicants').valid && mandateDetailsForm.get('noOfApplicants').touched\" >\r\n                                        &nbsp;&nbsp; Number of Applicants is Required!\r\n                                    </mat-error>\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"p-16\">\r\n                                <div class=\"pb-16\">\r\n                                    <div class=\"pb-4\">\r\n                                        <div class=\"pb-1\">\r\n                                            <mat-slide-toggle name=\"registered\" formControlName=\"registered\" [checked]=\"registered\">\r\n                                                Registered\r\n                                            </mat-slide-toggle>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div> -->\r\n                    </div>\r\n                    <div fxLayout=\"row\" class=\"full-width\">\r\n                        <form class=\"full-width\" [formGroup]=\"mandateInfo\">\r\n                            <div fxLayout=\"row\" class=\"full-width pt-16\"  formArrayName=\"mandateInfo_array\"*ngFor=\"let report of mandateInfo.get('mandateInfo_array')['controls']; let i=index;\">\r\n                                <div class=\"full-width\" [formGroupName]=\"i\">\r\n                                    <mat-accordion class=\"full-width mat-elevation-z0\">\r\n                                        <mat-expansion-panel class=\"mat-elevation-z0 borderStyle\"\r\n                                            (opened)=\"panelOpenState = true\" (closed)=\"panelOpenState = false\">\r\n                                            <mat-expansion-panel-header class=\"marginData\">\r\n                                                <mat-panel-title class=\"textDesign\">\r\n                                                    Mandate {{i + 1}}\r\n                                                </mat-panel-title>\r\n                                            </mat-expansion-panel-header>\r\n                                             <mat-divider class=\"design\"></mat-divider> \r\n                                            <div>\r\n                                                <div fxLayout=\"row wrap\" class=\"pt-16 full-width\"\r\n                                                    fxLayoutAlign=\"space-between center\">\r\n                                                    <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                                            <mat-label>Applicant Name</mat-label>\r\n                                                            <input matInput name=\"applicantName\"\r\n                                                                placeholder=\"Applicant Name\" formControlName=\"applicantName\"  required />\r\n                                                            <mat-error *ngIf=\"!report.controls.applicantName.valid && report.controls.applicantName.touched\" >\r\n                                                                &nbsp;&nbsp;  Applicant Name is Required!\r\n                                                            </mat-error>\r\n                                                        </mat-form-field>\r\n                                                    </div>\r\n                                                    <div fxFlex=\"50%\" class=\"p-1\" fxFlex.xs=\"100%\">\r\n                                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                                            <mat-label>Collateral Share Percentage</mat-label>\r\n                                                            <input matInput name=\"collateralShare\"\r\n                                                                placeholder=\"Collateral Share Percentage\" minlength=\"1\" maxlength=\"2\" formControlName=\"collateralShare\"\r\n                                                                (keypress)=_keyPress($event) required />\r\n                                                        <mat-error *ngIf=\"!report.controls.collateralShare.valid && report.controls.collateralShare.touched\" >\r\n                                                            &nbsp;&nbsp;  Collateral Share Percentage is Required!\r\n                                                        </mat-error>\r\n                                                        </mat-form-field>\r\n                                                     \r\n                                                    </div>\r\n                                                    <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                                            <mat-label>Repayment Share Percentage</mat-label>\r\n                                                            <input matInput minlength=\"1\" maxlength=\"2\" name=\"repaymentShare\"\r\n                                                                placeholder=\"Repayment Share Percentage\" formControlName=\"repaymentShare\" />\r\n                                                        </mat-form-field>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div fxLayout=\"row\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n                                                <div>\r\n                                                    <button mat-button color=\"primary\" class=\"paddingChange\" [disabled]=\"(mandateInfo?.invalid || (noOfApplicants == this.count))\" (click)=\"addMandate('')\"> ADD MANDATE</button>\r\n                                                </div>                         \r\n                                               \r\n                                           \r\n                                            </div>\r\n                                        </mat-expansion-panel>\r\n                                    </mat-accordion>                                  \r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    <!-- <div fxLayout=\"row\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n                        <div>\r\n                            <button mat-button color=\"primary\"  [disabled]=\"(mandateInfo?.invalid || (noOfApplicants == this.count))\" (click)=\"addMandate('')\"> ADD MANDATE</button>\r\n                        </div>\r\n             \r\n                        <!-- <div>\r\n                            <button mat-button color=\"warn\" (click)=\"removeMandate(item)\">\r\n                                <mat-icon>delete</mat-icon>REMOVE MANDATE\r\n                            </button>\r\n                        </div> \r\n                   \r\n                    </div> -->\r\n                   \r\n                </form>\r\n            </mat-card-content>\r\n        </mat-card>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n            <button type=\"button\" class=\"Backbtn\" (click)=\"goBack()\" mat-button rounded >\r\n                Back\r\n            </button>\r\n            <button type=\"button\" [disabled]=\"!mandateDetailsForm.valid || !mandateInfo.valid\" mat-raised-button class=\"Nextbtn\" (click)=\"submitForm()\" color=\"primary\">\r\n                Next\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { LoanAccountComponent } from './loan-account.component';\r\nimport { LoanEntryStageComponent } from './loan-entry-stage/loan-entry-stage.component';\r\nimport { LoanEnrichmentComponent } from './loan-enrichment/loan-enrichment.component';\r\nimport { UnderwritingStageComponent } from './underwriting-stage/underwriting-stage.component';\r\nimport { LoanAssesmentStageComponent } from './loan-assesment-stage/loan-assesment-stage.component';\r\nimport { SupervisorApprovalStageComponent } from './supervisor-approval-stage/supervisor-approval-stage.component';\r\nimport { OfferIssueStageComponent } from './offer-issue-stage/offer-issue-stage.component';\r\nimport { LoanAccountRoutes } from './loan-account.routing';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SignaturePadModule } from 'angular2-signaturepad';\r\nimport { SharedDirectivesModule } from 'app/shared/directives/shared-directives.module';\r\nimport { SharedPipesModule } from 'app/shared/pipes/shared-pipes.module';\r\nimport { SharedMaterialModule } from 'app/shared/shared-material.module';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\nimport { OfferAcceptRejectStageComponent } from './offer-accept-reject-stage/offer-accept-reject-stage.component';\r\nimport { OfferAssessmentDetailsComponent } from './offer-accept-reject-stage/offer-assessment-details/offer-assessment-details.component';\r\nimport { AcceptOfferAcceptRejectComponent } from './offer-accept-reject-stage/offer-accept-reject/offer-accept-reject.component';\r\nimport { AcceptOfferIssueSummaryComponent } from './offer-accept-reject-stage/offer-issue-summary/offer-issue-summary.component';\r\nimport { AssessmentDetailsSummaryComponent } from './offer-accept-reject-stage/assessment-details-summary/assessment-details-summary.component';\r\nimport {  AcceptOfferAcceptRejectSummaryComponent } from './offer-accept-reject-stage/offer-accept-reject-summary/offer-accept-reject-summary.component';\r\nimport { AccountApprovalStageComponent } from './account-approval-stage/account-approval-stage.component';\r\nimport { AssessmentDetailsComponent } from './account-approval-stage/assessment-details/assessment-details.component';\r\nimport { OfferAcceptRejectDetailsComponent } from './account-approval-stage/offer-accept-reject-details/offer-accept-reject-details.component';\r\nimport { LoanSummaryDetailsComponent } from './account-approval-stage/loan-summary-details/loan-summary-details.component';\r\nimport { AccountApprovalDetailsSummaryComponent } from './account-approval-stage/account-approval-details-summary/account-approval-details-summary.component';\r\nimport { AssessmentSummaryComponent } from './account-approval-stage/assessment-summary/assessment-summary.component';\r\nimport { OfferAcceptRejectSumaryComponent } from './account-approval-stage/offer-accept-reject-summary/offer-accept-reject-summary.component';\r\nimport { LoanViewSummaryComponent } from './account-approval-stage/loan-view-summary/loan-view-summary.component';\r\n\r\nimport { CreditRatingDetailsComponent } from './offer-issue-stage/credit-rating-details/credit-rating-details.component';\r\nimport { LegalOpinionComponent } from './offer-issue-stage/legal-opinion/legal-opinion.component';\r\nimport { OfferAssessmentComponent } from './offer-issue-stage/offer-assessment/offer-assessment.component';\r\nimport { OfferissueComponent } from './offer-issue-stage/offerissue/offerissue.component';\r\nimport { AssetValuationSummaryComponent } from './offer-issue-stage/asset-valuation/asset-valuation-summary/asset-valuation-summary.component';\r\nimport { LegalOpinionSummaryComponent } from './offer-issue-stage/legal-opinion/legal-opinion-summary/legal-opinion-summary.component';\r\nimport { OfferAssessmentSummaryComponent } from './offer-issue-stage/offer-assessment/offer-assessment-summary/offer-assessment-summary.component';\r\nimport { OfferIssueSummaryComponent } from './offer-issue-stage/offerissue/offer-issue-summary/offer-issue-summary.component';\r\nimport { CreditRatingSummaryComponent } from './offer-issue-stage/credit-rating-details/credit-rating-summary/credit-rating-summary.component';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\n\r\nimport { AssetValuationComponent } from './offer-issue-stage/asset-valuation/asset-valuation.component';\r\nimport { ValuationOfAssetsComponent } from './underwriting-stage/valuation-of-assets/valuation-of-assets.component';\r\nimport {  UnderWritingCreditRatingSummaryComponent } from './underwriting-stage/credit-rating-details/credit-rating-summary/credit-rating-summary.component';\r\nimport { ValuationAssetsSummaryComponent } from './underwriting-stage/valuation-of-assets/valuation-assets-summary/valuation-assets-summary.component';\r\nimport { UnderwritingStageSummaryComponent } from './underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component';\r\nimport { LoanDetailsComponent } from './loan-entry-stage/loan-details/loan-details.component';\r\nimport { AssetDetailsComponent } from './loan-entry-stage/asset-details/asset-details.component';\r\nimport { VehicleDetailsComponent } from './loan-entry-stage/vehicle-details/vehicle-details.component';\r\nimport { PostOfferAmendStageComponent } from './post-offer-amend-stage/post-offer-amend-stage.component';\r\nimport { PostOfferIssueComponent } from './post-offer-amend-stage/offer-issue/offer-issue.component';\r\nimport { PostOfferAmendmentComponent } from './post-offer-amend-stage/post-offer-amendment/post-offer-amendment.component';\r\nimport { LoanDisbursementComponent } from './post-offer-amend-stage/loan-disbursement/loan-disbursement.component';\r\nimport { LoanRepaymentComponent } from './post-offer-amend-stage/loan-repayment/loan-repayment.component';\r\nimport { DigitalSigningComponent } from './digital-signing/digital-signing.component';import { LoanQualitativeScoreboardComponent } from './loan-assesment-stage/loan-qualitative-scoreboard/loan-qualitative-scoreboard.component';\r\nimport { LoanAssessmentDetailsComponent } from './loan-assesment-stage/loan-assessment-details/loan-assessment-details.component';\r\nimport { LoanQualitativeScoreboardDetailsComponent } from './loan-assesment-stage/loan-qualitative-scoreboard-details/loan-qualitative-scoreboard-details.component';\r\nimport { LoanAssessmentDetailsSummaryComponent } from './loan-assesment-stage/loan-assessment-details-summary/loan-assessment-details-summary.component';\r\nimport { SupervisorAssessmentDetailsComponent } from './supervisor-approval-stage/supervisor-assessment-details/supervisor-assessment-details.component';\r\nimport { SupervisorApprovedDetailsComponent } from './supervisor-approval-stage/supervisor-approved-details/supervisor-approved-details.component';\r\nimport { LoanIntrestDetailsComponent } from './loan-enrichment/loan-intrest-details/loan-intrest-details.component';\r\nimport { LoanChargeDetailsComponent } from './loan-enrichment/loan-charge-details/loan-charge-details.component';\r\nimport { LoanDisbursementDetailsComponent } from './loan-enrichment/loan-disbursement-details/loan-disbursement-details.component';\r\nimport { LoanRepaymentComponentComponent } from './loan-enrichment/loan-repayment-component/loan-repayment-component.component';\r\nimport { AccountServicesComponent } from './loan-enrichment/account-services/account-services.component';\r\nimport { LoanInterestSummaryComponent } from './loan-enrichment/loan-intrest-details/loan-interest-summary/loan-interest-summary.component';\r\nimport { LoanDisbursementSummaryComponent } from './loan-enrichment/loan-disbursement-details/loan-disbursement-summary/loan-disbursement-summary.component';\r\nimport { LoanRepaymentSummaryComponent } from './loan-enrichment/loan-repayment-component/loan-repayment-summary/loan-repayment-summary.component';\r\nimport { LoanChargeDetailsSummaryComponent } from './loan-enrichment/loan-charge-details/loan-charge-details-summary/loan-charge-details-summary.component';\r\nimport { AccountServiceSummaryComponent } from './loan-enrichment/account-services/account-service-summary/account-service-summary.component';\r\nimport { LoanDetailsSummaryComponent } from './loan-entry-stage/loan-details/loan-details-summary/loan-details-summary.component';\r\nimport { AssetDetailsSummaryComponent } from './loan-entry-stage/asset-details/asset-details-summary/asset-details-summary.component';\r\nimport { VehicleDetailsSummaryComponent } from './loan-entry-stage/vehicle-details/vehicle-details-summary/vehicle-details-summary.component';\r\nimport { AdmissionDetailsComponent } from './loan-entry-stage/admission-details/admission-details.component';\r\nimport { CustomerInformationComponent } from './loan-entry-stage/customer-information/customer-information.component';\r\nimport { MandateDetailsComponent } from './loan-entry-stage/mandate-details/mandate-details.component';\r\nimport { FinancialDetailsComponent } from './loan-entry-stage/financial-details/financial-details.component';\r\nimport { AccountCreationStageComponent } from './account-creation-stage/account-creation-stage.component';\r\nimport { OfferAcceptRejectComponent } from './account-creation-stage/offer-accept-reject/offer-accept-reject.component';\r\nimport { AccountCreateDetailsComponent } from './account-creation-stage/account-create-details/account-create-details.component';\r\nimport { OfferAcceptRejectSummaryComponent } from './account-creation-stage/offer-accept-reject/offer-accept-reject-summary/offer-accept-reject-summary.component';\r\nimport { AccountCreateSummaryComponent } from './account-creation-stage/account-create-details/account-create-summary/account-create-summary.component';\r\nimport { AccountCreationSummaryComponent } from './account-creation-stage/account-creation-summary/account-creation-summary.component';\r\nimport { GuarantorDetailsComponent } from './loan-entry-stage/guarantor-details/guarantor-details.component';\r\n\r\nimport { MAT_DATE_LOCALE } from '@angular/material/core';\r\n\r\nimport { CollateralDetailsComponent } from './loan-entry-stage/collateral-details/collateral-details.component';\r\nimport { UnderWrittingCreditRatingDetailsComponent } from './underwriting-stage/credit-rating-details/credit-rating-details.component';\r\nimport { UnderWrittingLegalOpinionComponent } from './underwriting-stage/legal-opinion/legal-opinion.component';\r\nimport { UnderWritingLegalOpinionSummaryComponent } from './underwriting-stage/legal-opinion/legal-opinion-summary/legal-opinion-summary.component';\r\n// import { ListComponent } from './digital-signing/list/list.component';\r\nimport { EsignPopComponent } from './digital-signing/esign-pop/esign-pop.component';\r\n// import { ListComponent } from '../home/digital-signing/list/list.component';\r\nimport { OfferIssueComponent } from './offer-accept-reject-stage/offer-issue/offer-issue.component';\r\nimport { PostOfferAmendmentSummaryComponent } from './post-offer-amend-stage/post-offer-amendment-summary/post-offer-amendment-summary.component';\r\nimport { PostOfferAmendmentStageSummaryComponent } from './post-offer-amend-stage/post-offer-amendment-stage-summary/post-offer-amendment-stage-summary.component';\r\nimport { AdmissionDetailsViewComponent } from './loan-entry-stage/admission-details/admission-details-view/admission-details-view.component';\r\nimport { FinancialDetailsViewComponent } from './loan-entry-stage/financial-details/financial-details-view/financial-details-view.component';\r\nimport { MandateDetailsViewComponent } from './loan-entry-stage/mandate-details/mandate-details-view/mandate-details-view.component';\r\nimport { GuarantorDetailsViewComponent } from './loan-entry-stage/guarantor-details/guarantor-details-view/guarantor-details-view.component';\r\nimport { DigitalSignInNowOrLaterComponent } from './digital-signing/digital-sign-in-now-or-later/digital-sign-in-now-or-later.component';\r\nimport { CustomerInfoViewComponent } from './loan-entry-stage/customer-information/customer-info-view/customer-info-view.component';\r\nimport { LoanAppEntryStageViewSummaryComponent } from './loan-entry-stage/loan-app-entry-stage-view-summary/loan-app-entry-stage-view-summary.component';\r\nimport { LoanEnrichmentViewSummaryComponent } from './loan-enrichment/loan-enrichment-view-summary/loan-enrichment-view-summary.component';\r\nimport { UploadSignOrEsignComponent } from './digital-signing/upload-sign-or-esign/upload-sign-or-esign.component';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { RepaymentScheduleComponent } from './loan-enrichment/loan-repayment-component/repayment-schedule/repayment-schedule.component';\r\nimport { CollateralDetailsSummmaryComponent } from './loan-entry-stage/collateral-details/collateral-details-summmary/collateral-details-summmary.component';\r\nimport { LoanAssessmentViewSummaryComponent } from './loan-assesment-stage/loan-assessment-view-summary/loan-assessment-view-summary.component';\r\nimport { CustomerAlertDialogComponent } from './loan-entry-stage/customer-information/customer-alert-dialog/customer-alert-dialog.component';\r\nimport { SuccessAlertLoanComponent } from './digital-signing/success-alert-loan/success-alert-loan.component';\r\nimport { SignLaterLoanComponent } from './digital-signing/sign-later-loan/sign-later-loan.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoanAccountComponent, \r\n    LoanEntryStageComponent, \r\n    LoanEnrichmentComponent, \r\n    UnderwritingStageComponent, \r\n    LoanAssesmentStageComponent,\r\n    SupervisorApprovalStageComponent, \r\n    OfferIssueStageComponent, LoanDetailsComponent, AssetDetailsComponent, VehicleDetailsComponent, PostOfferAmendStageComponent, \r\n    OfferIssueComponent, PostOfferAmendmentComponent, LoanDisbursementComponent, LoanRepaymentComponent,\r\n   DigitalSigningComponent,\r\n     LoanQualitativeScoreboardComponent, LoanAssessmentDetailsComponent, LoanQualitativeScoreboardDetailsComponent, LoanAssessmentDetailsSummaryComponent,\r\n     OfferAcceptRejectStageComponent, OfferAssessmentDetailsComponent, PostOfferIssueComponent, OfferAcceptRejectComponent, AcceptOfferIssueSummaryComponent, AssessmentDetailsSummaryComponent,  AcceptOfferAcceptRejectSummaryComponent,\r\n    \r\n    AccountApprovalStageComponent, \r\n    AssessmentDetailsComponent, \r\n    OfferAcceptRejectDetailsComponent, \r\n    LoanSummaryDetailsComponent, \r\n    AccountApprovalDetailsSummaryComponent,\r\n    AssessmentSummaryComponent, \r\n    OfferAcceptRejectSumaryComponent, \r\n    AcceptOfferAcceptRejectComponent,\r\n    LoanViewSummaryComponent,\r\n    \r\n    CreditRatingDetailsComponent, \r\n    AssetValuationComponent, \r\n    LegalOpinionComponent, \r\n    OfferAssessmentComponent, \r\n    OfferissueComponent, \r\n    AssetValuationSummaryComponent, \r\n    LegalOpinionSummaryComponent,\r\n     OfferAssessmentSummaryComponent, \r\n     OfferIssueSummaryComponent, \r\n     CreditRatingSummaryComponent,\r\n    AdmissionDetailsComponent, \r\n    CustomerInformationComponent, \r\n    MandateDetailsComponent, \r\n    FinancialDetailsComponent,  \r\n    VehicleDetailsComponent, \r\n    SupervisorAssessmentDetailsComponent, \r\n    SupervisorApprovedDetailsComponent,\r\n    LoanIntrestDetailsComponent,\r\n    LoanChargeDetailsComponent, \r\n    LoanDisbursementDetailsComponent, \r\n    LoanRepaymentComponentComponent, \r\n    AccountServicesComponent, \r\n    LoanInterestSummaryComponent, \r\n    LoanDisbursementSummaryComponent, \r\n    LoanRepaymentSummaryComponent, \r\n    LoanChargeDetailsSummaryComponent, \r\n    AccountServiceSummaryComponent,\r\n    AssetValuationComponent,\r\n    LoanDetailsSummaryComponent, \r\n    AssetDetailsSummaryComponent, \r\n    VehicleDetailsSummaryComponent,\r\n    GuarantorDetailsComponent,\r\n    AssetValuationComponent,\r\n    AdmissionDetailsComponent, \r\n    CustomerInformationComponent, \r\n    MandateDetailsComponent, \r\n    FinancialDetailsComponent,  \r\n    CreditRatingDetailsComponent, \r\n    ValuationOfAssetsComponent, \r\n    LegalOpinionComponent,\r\n     ValuationAssetsSummaryComponent, \r\n     LegalOpinionSummaryComponent,     \r\n    OfferIssueStageComponent,\r\n     LoanDetailsComponent, \r\n     AssetDetailsComponent,\r\n    CreditRatingSummaryComponent, \r\n    ValuationAssetsSummaryComponent, \r\n     CollateralDetailsComponent,\r\n     LegalOpinionSummaryComponent,\r\n      UnderwritingStageSummaryComponent,\r\n    AccountCreationStageComponent, \r\n    OfferAcceptRejectComponent,\r\n     AccountCreateDetailsComponent, \r\n    OfferAcceptRejectSummaryComponent, \r\n    AccountCreateSummaryComponent, \r\n    AccountCreationSummaryComponent,\r\n    UnderWrittingCreditRatingDetailsComponent,\r\n    UnderWrittingLegalOpinionComponent,\r\n    UnderWritingCreditRatingSummaryComponent,\r\n    UnderWritingLegalOpinionSummaryComponent,\r\n    DigitalSigningComponent,\r\n    EsignPopComponent,\r\n    PostOfferAmendmentSummaryComponent,\r\n    PostOfferAmendmentStageSummaryComponent,\r\n    AdmissionDetailsViewComponent,\r\n    FinancialDetailsViewComponent,\r\n    MandateDetailsViewComponent,\r\n    GuarantorDetailsViewComponent,\r\n    DigitalSignInNowOrLaterComponent,\r\n    CustomerInfoViewComponent,\r\n    LoanAppEntryStageViewSummaryComponent,\r\n    LoanEnrichmentViewSummaryComponent,\r\n    UploadSignOrEsignComponent,\r\n    RepaymentScheduleComponent,\r\n    CollateralDetailsSummmaryComponent,\r\n    LoanAssessmentViewSummaryComponent,\r\n    CustomerAlertDialogComponent,\r\n    SuccessAlertLoanComponent,\r\n    SignLaterLoanComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedMaterialModule,\r\n    FlexLayoutModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    PerfectScrollbarModule,\r\n    SharedPipesModule,\r\n    SharedDirectivesModule,\r\n    SharedMaterialModule,\r\n    SignaturePadModule,\r\n    MatAutocompleteModule,\r\n    RouterModule.forChild(LoanAccountRoutes)\r\n  ],\r\n  providers: [\r\n    DatePipe,\r\n    { provide: MAT_DATE_LOCALE, useValue: 'en-GB' },\r\n    { provide: MatDialogRef, useValue: {} },\r\n    { provide: MAT_DIALOG_DATA, useValue: [] }\r\n  ]\r\n})\r\nexport class LoanAccountModule { }\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-post-offer-amendment-stage-summary',\r\n  templateUrl: './post-offer-amendment-stage-summary.component.html',\r\n  styleUrls: ['./post-offer-amendment-stage-summary.component.scss']\r\n})\r\nexport class PostOfferAmendmentStageSummaryComponent implements OnInit {\r\n  offerDetailsList: any;\r\n  offerDetails : any;\r\n  loanAccountId: any;\r\n  loanInfo: any;\r\n\r\n  constructor(private router: Router,private apiService: ApiService, private ls: LocalStoreService ,private cdr:ChangeDetectorRef) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cdr.markForCheck()\r\n    this.loanAccountId=this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanAccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    setTimeout(() => {\r\n      this.getViewSummary();\r\n    }, 10);\r\n   \r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([`loan/account/post-offer-amend-stage/list`]);\r\n  }\r\n\r\n  done(){\r\n    this.router.navigate([`/loan/account/account-creation-stage/`]);\r\n  }\r\n\r\n  getViewSummary(){\r\n    this.apiService.getOfferAmendDetails(this.loanAccountId).subscribe(result=>\r\n      {\r\n        console.log(\"result\",result);\r\n        // this.offerDetailsList=result[3];\r\n        this.offerDetails=result[3];\r\n        console.log(\"result\",result);\r\n        // console.log(\"offerDetails::\",this.offerDetailsList);\r\n        console.log(\"offerDetails::\",this.offerDetails);\r\n      })\r\n  }\r\n}","<div>\r\n    <div fxLayout=\"row\">\r\n        <div fxFlex=\"100\">\r\n            <div class=\"propic text-center\">\r\n                <img src=\"assets/images/svg/undraw_secure_files_re_6vdh.svg\" alt=\"\" class=\"w-90\" />\r\n            </div>\r\n            <div class=\"profile-title text-center mt-8\">\r\n                <div class=\"main-title\"><b>Post Offer Amendment Stage</b></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"full-width\">\r\n    <div fxLayout=\"row\">\r\n            <h4 class=\"paraFont\">Post Offer Amendment Stage Summary</h4>\r\n    </div>\r\n\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n                <div fxFlex=\"100%\">\r\n                    <!-- <mat-card class=\"chequecard\" > -->\r\n                        <!-- <mat-card-content> -->\r\n                            <div class=\"full-width\" >\r\n                                <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                    <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                        <ng-container>\r\n                                            <div fxFlex fxFlex.xs=\"100%\" class=\"inputCardclass\">\r\n                                                <mat-card class=\"inputCard\" >\r\n                                                    <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                                        <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                            <ng-container>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                                    <mat-hint class=\"headingText\">Applicant Name</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.applicantName}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\">\r\n                                                                    <mat-hint class=\"headingText\">Offer Issue Date</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.offerIssueDate}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                                    <mat-hint class=\"headingText\">Offer Exipiry Date</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.offerExpiryDate}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                                    <mat-hint class=\"headingText\">Offer Amend Date</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.offerAmendDate}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                                    <mat-hint class=\"headingText\">Approved Loan Amount</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.approvedLoanAmount}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                                    <mat-hint class=\"headingText\">Loan Amount Recommended</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.loanAmmountRecommended}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                                    <mat-hint class=\"headingText\">Loan Tenure</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.loanTenure}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                                    <mat-hint class=\"headingText\">Installment Type</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.installmentType}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                                    <mat-hint class=\"headingText\">Rate Of Interest(%)</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.rateOfInterest}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                                    <mat-hint class=\"headingText\">Margin(%))</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.margin}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"30%\" fxFlex.xs=\"100%\" >\r\n                                                                    <mat-hint class=\"headingText\">Effective Rate(%)</mat-hint>\r\n                                                                    <br>\r\n                                                                    <mat-hint class=\"valueText\">{{offerDetails?.effectiveRate}}</mat-hint>\r\n                                                                </div>\r\n                                                                \r\n                                                            </ng-container>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </mat-card>\r\n                                            </div>\r\n                                         \r\n                                        </ng-container>\r\n                                    </div>     \r\n                                </div>\r\n                            </div>\r\n                        <!-- </mat-card-content> -->\r\n                    <!-- </mat-card> -->\r\n                </div>  \r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div fxLayout=\"row\">\r\n        <div fxFlex=\"100\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16x\" class=\"mt-32\">\r\n                <button mat-button rounded color=\"grey\" (click)=\"goBack()\">\r\n                    Back\r\n                </button>\r\n                <button mat-raised-button color=\"primary\" type=\"submit\" (click)=done()>\r\n                    Done\r\n                </button>\r\n            </div>\r\n        </div>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, FormArray, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from '../../account.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-collateral-details',\r\n  templateUrl: './collateral-details.component.html',\r\n  styleUrls: ['./collateral-details.component.scss']\r\n})\r\nexport class CollateralDetailsComponent implements OnInit {\r\n  panelOpenState = false;\r\n  collateralDetailsForm: FormGroup;\r\n  collateralInfo: FormGroup;\r\n  collateralInfo_array: FormArray;\r\n  loanaccountID : any;\r\n  showEditOption: boolean = false;\r\n  //collateralDetails: any = [];\r\n  collateralDetails:any;\r\n  collateralId:any=0;\r\n  noOfCollateral:any;\r\n  accountId : any;\r\n  entityName: string;\r\n  arrayCountry:any[]=[];\r\n  arrayState:any[]=[];\r\n  arrayCity:any[]=[];\r\n  arrayCollateralType: string[];\r\n  arrayRateValue: string[];\r\n  loanInfo: any;\r\n  flag: boolean=false;\r\n  flag1: boolean=false;\r\n \r\n\r\n  constructor\r\n  (\r\n    private fb: FormBuilder,\r\n    private ls: LocalStoreService,\r\n    private loader: AppLoaderService,\r\n    private apiService: ApiService,\r\n    private router: Router,\r\n    private snack: MatSnackBar,\r\n    private accountService: AccountService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildformGroup();\r\n    this.collateralInfo = this.fb.group({\r\n      collateralInfo_array: this.fb.array([])\r\n    });\r\n    this.collateralId = 0;\r\n    // this.addMandate('');\r\n   this.getCountryName(\"country\");\r\n   this.getAllAuthCities();\r\n   this.getCollateralType(\"collateral_type\");\r\n   this.getRateValue(\"currency\");\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    let collateralDetailscreen: boolean = JSON.parse(this.ls.getItem('COLLATERAL_DETAIL_DONE'));\r\n   setTimeout(() => {\r\n    if (this.loanaccountID && collateralDetailscreen) {\r\n      this.showEditOption = true;\r\n      this.getCollateralDetails();\r\n    }\r\n    else {\r\n      this.showEditOption = false;\r\n      this.buildformGroup();\r\n    //  this.createCollateralDetail();\r\n      this.addMandate('');\r\n    }\r\n   }, 10);\r\n \r\n  }\r\n\r\n  buildformGroup(data?) {\r\n    console.log(\"data\",data)\r\n    if(data){ \r\n      this.getStateName(data.country);\r\n      // this.getCityName(data.state);\r\n    }\r\n      \r\n    this.collateralDetailsForm = this.fb.group({\r\n      collateralType: [data ? data.collateralType : '', Validators.required],\r\n      collateralCurrency: [data ? data.collateralCurrency : '', Validators.required],\r\n      collateralValue: [data ? data.collateralValue : '', Validators.required],\r\n      attributes: [data ? data.attributes : '', Validators.required],\r\n     // sqFt: [data ? data.sqFt : '', Validators.required],\r\n      dimensions: [data ? data.dimensions : '', Validators.required],\r\n      thirdPartyCollateral: [data ? data.thirdPartyCollateral : false, Validators.required],\r\n      building: [data ? data.building : '',[Validators.required,Validators.pattern(\".*[a-zA-Z].*\")]],\r\n      street: [data ? data.street : '', [Validators.required ,Validators.pattern(\".*[a-zA-Z].*\")]],\r\n      locality: [data ? data.locality : '', Validators.required],\r\n      city: [data ? data.city : '', Validators.required],\r\n      state: [data ? data.state : '', Validators.required],\r\n      country: [data ? data.country : '', Validators.required],\r\n      zipCode: [data ? data.zipCode:'',[Validators.required, Validators.pattern(\"^((\\\\+91-?)|0)?[0-9]{5,10}$\")]],\r\n    })\r\n  }\r\n\r\n  createCollateralDetail(item): FormGroup {\r\n    return this.fb.group({\r\n      noOfCollateral: item ? item.noOfCollateral : ['',Validators.required],\r\n      totalCollateralValue: item ? item.totalCollateralValue : ['',Validators.required],\r\n      utilizedPreviously: item ? item.utilizedPreviously : ['',Validators.required],\r\n      secondaryChargeAllowed: [item ? item.secondaryChargeAllowed : false],\r\n      coverAvailable: item ? item.coverAvailable : ['',Validators.required],\r\n      collateralDetailsId:'',\r\n      collateralId:'',\r\n    })\r\n  }\r\n\r\n  addMandate(item){\r\n    console.log(\"i\", item);\r\n    this.collateralInfo_array = this.collateralInfo.get('collateralInfo_array') as FormArray;\r\n    this.collateralInfo_array.push(this.createCollateralDetail(item));\r\n  }\r\n \r\n  \r\n  getCollateralDetails() {\r\n    this.loader.open();\r\n    this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe((collateralDetails) => {\r\n      this.loader.close();\r\n      this.collateralDetails = collateralDetails;\r\n      console.log(this.collateralDetails.collateralDetails.length);\r\n      console.log(this.collateralDetails);\r\n      this.buildformGroup(this.collateralDetails);\r\n      this.populateCollateral(this.collateralDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n  }\r\n  populateCollateral(item){\r\n    let j:any;\r\n    for(let i = 0; i<=item.collateralDetails.length;i++){\r\n    let collateralData = {\r\n      noOfCollateral: item.collateralDetails[i].noOfCollateral,\r\n      totalCollateralValue:  item.collateralDetails[i].totalCollateralValue,\r\n      utilizedPreviously:   item.collateralDetails[i].utilizedPreviously,\r\n      secondaryChargeAllowed: item ? item.collateralDetails[i].secondaryChargeAllowed : false,\r\n      coverAvailable:  item.collateralDetails[i].coverAvailable,\r\n      collateralDetailsId:'',\r\n      collateralId:'',\r\n    }\r\n    this.addMandate(collateralData);\r\n    // console.log(this.collateralInfo.get('collateralInfo_array'))\r\n    // this.collateralInfo.get('collateralInfo_array')['controls'][i].patchValue(collateralData);\r\n    // console.log(this.collateralInfo.get('collateralInfo_array'))\r\n  }\r\n  }\r\n  getCollateralType(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayCollateralType = data;\r\n    });\r\n  }\r\n\r\n  getRateValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayRateValue = data;\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([`/loan/account/financial-details`]);\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n    if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  submitForm() {        \r\n    let payload: any = {};\r\n    payload = this.collateralDetailsForm.value;\r\n    payload.accountId = this.accountId;\r\n    payload.loanAccountId = this.loanaccountID;\r\n    payload.collateralDetails = this.collateralInfo_array.value;\r\n    payload.loggedInUser = this.ls.getItem('loggedInUser');\r\n    if(this.ls.getItem('COLLATERAL_DETAIL_DONE')){\r\n      payload.mandateId = this.collateralId;\r\n    }\r\n    this.apiService.upsertCollateralDetails(payload).subscribe(data => {\r\n      console.log(\"data\", data);\r\n      if (data != null) {\r\n        this.snack.open('Collateral Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.next();\r\n      }\r\n    })\r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem('COLLATERAL_DETAIL_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/loan/account/guarantor_details`]);\r\n  }\r\n\r\n  \r\n  getCountryName(key: string) {\r\n    this.apiService.getAllCountries().subscribe((data: any) => {\r\n     for(let i=0; i<data.length;i++){\r\n       if(data[i].authStatus==='A'){     \r\n         this.arrayCountry.push(data[i].countryName);\r\n         this.arrayCountry.sort();\r\n       }\r\n     }\r\n   });\r\n }\r\n  keyPressAlphanumeric(event) {\r\n    var inp = String.fromCharCode(event.keyCode);\r\n    if (/^[a-zA-Z0-9_ ]*$/.test(inp)) {\r\n      return true;\r\n    } else {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getStateName(country,isAdd?) {\r\n    if(isAdd){\r\n      this.collateralDetailsForm.get('zipCode').setValue('');\r\n      this.collateralDetailsForm.get('state').setValue('');\r\n      this.collateralDetailsForm.get('city').setValue('');\r\n}\r\n    this.apiService.getAllCountries().subscribe((data: any) => {\r\n      for(let i=0; i<data.length;i++){       \r\n        if(data[i].countryName == country){\r\n          this.apiService.getStateByCountryId(data[i].id).subscribe((resp: any) => {\r\n          this.arrayState = resp\r\n          })\r\n          break;   \r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  // getCityName(state: any) {\r\n  //   this.entityName = \"city\";\r\n  //   console.log(state)\r\n  //   this.apiService.getDropDownValues1(this.entityName, state).subscribe((data) => {\r\n  //     this.arrayCity = data;\r\n  //     console.log(\"-->\", this.arrayCity)\r\n  //   });\r\n  // }\r\n  getAllAuthCities(){\r\n    this.apiService.getAuthorizedCityInfo().subscribe(res => res.map(r => this.arrayCity.push(r.cityName)))\r\n  }\r\n  onStateChange(){\r\n    this.collateralDetailsForm.get('zipCode').setValue('');\r\n    this.collateralDetailsForm.get('city').setValue('');\r\n  }\r\n  onCityChange(){\r\n    this.collateralDetailsForm.get('zipCode').setValue('');\r\n  }\r\n  \r\n\r\n  calculateUtilizedPrev(value){\r\n    if(value.totalCollateralValue === '')\r\n    return\r\n    else{\r\n      if(Number(value.totalCollateralValue) < Number(value.coverAvailable)){\r\n        return\r\n      }\r\n      else{\r\n          let utilPrev = Number(value.totalCollateralValue) - Number(value.coverAvailable)\r\nthis.collateralInfo.get('collateralInfo_array')['controls'][0].get('utilizedPreviously').setValue(utilPrev)\r\n\r\n      }\r\n    \r\n    }\r\n\r\n  }\r\n  calculateCoverAvail(value){\r\n    if(value.totalCollateralValue === '')\r\n    return\r\n    else{\r\n      if(Number(value.totalCollateralValue) < Number(value.utilizedPreviously) && Number(value.totalCollateralValue) < Number(value.coverAvailable )){\r\n        this.flag = true;\r\n        return;\r\n      }\r\n     \r\n      \r\n      else  if(Number(value.totalCollateralValue) < Number(value.utilizedPreviously)){\r\n        return;\r\n      }\r\n      else{\r\n        this.flag = false\r\n        let coverAvail = Number(value.totalCollateralValue) - Number(value.utilizedPreviously)\r\n   this.collateralInfo.get('collateralInfo_array')['controls'][0].get('coverAvailable').setValue(coverAvail)\r\n      }\r\n       \r\n    }\r\n  \r\n\r\n  }\r\n  calculateTotalColVal(value){\r\n\r\nif(value.utilizedPreviously === '' || value.coverAvailable === '')\r\nreturn;\r\nelse {\r\n   let totalColVal = Number(value.utilizedPreviously) + Number(value.coverAvailable)\r\n   this.collateralInfo.get('collateralInfo_array')['controls'][0].get('totalCollateralValue').setValue(totalColVal)\r\n}\r\n\r\n  }\r\n  getCityandStateByZipcode(countryName, zipcode) {\r\n    if (countryName && zipcode.length >= 6) {\r\n      this.apiService.fetchStateCityByZipcode(countryName, zipcode).subscribe((res: any) => {\r\n        if(res){\r\n          this.collateralDetailsForm.get('state').setValue(res.stateName);\r\n          this.collateralDetailsForm.get('city').setValue(res.cityName);\r\n        }\r\n        else{\r\n          this.snack.open(\"Entered Zipcode does not exists\", \"OK\", {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n            <img src=\"assets/images/svg/collatorial_screen.svg\" alt=\"\" class=\"w-90\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><h1>Collateral Details</h1></div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\">\r\n        <mat-card class=\"p-0\">\r\n            <!-- <mat-card-title class=\"\">\r\n                <div class=\"card-title-text\">Collateral Details</div>\r\n                <mat-divider></mat-divider>\r\n            </mat-card-title> -->            \r\n              <mat-card-title>\r\n                <fieldset>\r\n                <legend visible=\"true\">Collateral Details</legend>\r\n                </fieldset>\r\n              </mat-card-title>\r\n            <mat-card-content>\r\n                <form *ngIf=\"collateralDetailsForm\" [formGroup]=\"collateralDetailsForm\">\r\n                    <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\">\r\n                        <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Collateral Type</mat-label>\r\n                              <!-- <mat-card class=\"widthCard inputMatName alignChange\"> -->\r\n                                <mat-select name=\"collateralType\" formControlName=\"collateralType\" required disableOptionCentering>\r\n                                  <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                  <mat-option *ngFor=\"let collateralType of arrayCollateralType\" [value]=\"collateralType\">\r\n                                     {{ collateralType }}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                              <!-- </mat-card> -->\r\n                              <mat-error *ngIf=\"!collateralDetailsForm.get('collateralType').valid && collateralDetailsForm.get('collateralType').touched\" >\r\n                                &nbsp;&nbsp; Collateral Type is Required!\r\n                              </mat-error>\r\n                                </mat-form-field>\r\n                            </div>                            \r\n                        </div>\r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                        </div>\r\n                        <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Currency </mat-label>\r\n                              <!-- <mat-card class=\"widthCard inputMatName alignChange\"> -->\r\n                                <mat-select name=\"collateralCurrency\" formControlName=\"collateralCurrency\" required disableOptionCentering>\r\n                                  <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                  <mat-option *ngFor=\"let collateralCurrency of arrayRateValue\" [value]=\"collateralCurrency\">\r\n                                     {{collateralCurrency }}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                              <!-- </mat-card> -->\r\n                              <mat-error *ngIf=\"!collateralDetailsForm.get('collateralCurrency').valid && collateralDetailsForm.get('collateralCurrency').touched\" >\r\n                                &nbsp;&nbsp; Currency is Required!\r\n                              </mat-error>\r\n                                </mat-form-field>\r\n                            </div>                            \r\n                        </div>\r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Collateral Value</mat-label>\r\n                                <!-- <mat-card class=\"inputMatName dataChange\">               -->\r\n                                   <input matInput  name=\"collateralValue\" formControlName=\"collateralValue\" (keypress)=\"_keyPress($event)\" maxlength=\"12\"  required />                             \r\n                                <!-- </mat-card> -->\r\n                                <mat-error *ngIf=\"!collateralDetailsForm.get('collateralValue').valid && collateralDetailsForm.get('collateralValue').touched\" >\r\n                                    &nbsp;&nbsp; Collateral Value is Required!\r\n                                </mat-error>\r\n                                </mat-form-field>\r\n                            </div>                            \r\n                        </div>\r\n                        <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div class=\"flex-grow-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                              <mat-label >Attributes</mat-label>\r\n                              <!-- <mat-card class=\"widthCard inputMatName alignChange\"> -->\r\n                                <mat-select name=\"attributes\" formControlName=\"attributes\" required disableOptionCentering>\r\n                                  <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                  <mat-option value=\"1\">Attributes 1</mat-option>\r\n                                  <mat-option value=\"2\">Attributes 2</mat-option>\r\n                                </mat-select>\r\n                              <!-- </mat-card> -->\r\n                              <mat-error *ngIf=\"!collateralDetailsForm.get('attributes').valid && collateralDetailsForm.get('attributes').touched\" >\r\n                                &nbsp;&nbsp; Attributes is Required!\r\n                              </mat-error>\r\n                                </mat-form-field>\r\n                            </div>                            \r\n                        </div>\r\n                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                            <div class=\"p-16\">\r\n                                <div class=\"pb-16\">\r\n                                    <div class=\"pb-4\">\r\n                                        <div class=\"pb-1\" style=\"margin-top: 5%;\">\r\n                                           Third Party Collateral  &nbsp;&nbsp; &nbsp;&nbsp;<mat-slide-toggle name=\"thirdPartyCollateral\" class=\"charge\" formControlName=\"thirdPartyCollateral\" ></mat-slide-toggle>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                            <div fxLayout=\"row wrap\" class=\"full-width\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Dimensions</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                       <input matInput name=\"dimensions\" formControlName=\"dimensions\" (keypress)=\"_keyPress($event)\" required />                             \r\n                                    <!-- </mat-card> -->\r\n                                    <mat-error *ngIf=\"!collateralDetailsForm.get('dimensions').valid && collateralDetailsForm.get('dimensions').touched\" >\r\n                                       &nbsp;&nbsp; Dimensions is Required!\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                    \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        \r\n                        <mat-card-title>\r\n                            <fieldset class=\"alignChange\">\r\n                            <legend visible=\"true\">Address</legend>\r\n                            </fieldset>\r\n                          </mat-card-title>\r\n                        <div fxLayout=\"row wrap\" class=\"full-width\" fxLayoutAlign=\"space-between center\">\r\n                            <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Building</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                       <input matInput name=\"building\" formControlName=\"building\" (keypress)=\"keyPressAlphanumeric($event)\" required />                             \r\n                                    <!-- </mat-card> --> \r\n                                    <mat-error *ngIf=\"(collateralDetailsForm.get('building') && !collateralDetailsForm.get('building').valid) || ( collateralDetailsForm.get('building').hasError('pattern'))\" >\r\n                                         Please enter correct Building name\r\n                                    </mat-error> \r\n                                    <!-- <mat-error *ngIf=\"(collateralDetailsForm.get('building') && collateralDetailsForm.get('building').touched && !collateralDetailsForm.get('building').valid) || (collateralDetailsForm.get('building').touched && collateralDetailsForm.get('building').hasError('pattern'))\" >\r\n                                        &nbsp;&nbsp; Please enter correct street name\r\n                                    </mat-error>                                    -->\r\n                                    </mat-form-field>                                    \r\n                                    \r\n                                </div>                                \r\n                            </div>\r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">                                \r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Street</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName dataChange\">               -->\r\n                                       <input matInput name=\"street\" formControlName=\"street\" (keypress)=\"keyPressAlphanumeric($event)\" required />                            \r\n                                    <!-- </mat-card> -->\r\n                                    <mat-error *ngIf=\"(collateralDetailsForm.get('street') && collateralDetailsForm.get('street').touched && !collateralDetailsForm.get('street').valid) || (collateralDetailsForm.get('street').touched && collateralDetailsForm.get('street').hasError('pattern'))\"  >\r\n                                        Please Enter Correct Street Name\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                     \r\n                            </div>\r\n                            <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label >Locality</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                       <input matInput name=\"locality\" formControlName=\"locality\" (keypress)=\"letterOnly($event)\" required />                            \r\n                                    <!-- </mat-card> -->\r\n                                    <mat-error *ngIf=\"!collateralDetailsForm.get('locality').valid && collateralDetailsForm.get('locality').touched\" >\r\n                                        &nbsp;&nbsp; Locality is Required!\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                \r\n                            </div>\r\n                          \r\n                            <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label >Country</mat-label>\r\n                                   <!-- <mat-card class=\"widthCard inputMatName dataChange\"> -->\r\n                                      <mat-select name=\"country\" formControlName=\"country\" required\r\n                                        (selectionChange)=\"getStateName($event.value,true)\"\r\n                                         disableOptionCentering>\r\n                                        <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                        <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                          {{country}}\r\n                                        </mat-option>\r\n                                       </mat-select>\r\n                                   <!-- </mat-card> -->\r\n                                   <mat-error *ngIf=\"!collateralDetailsForm.get('country').valid && collateralDetailsForm.get('country').touched\" >\r\n                                       &nbsp;&nbsp; Country is Required!\r\n                                   </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                \r\n                            </div>\r\n                            <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label >Zip Code</mat-label>\r\n                                    <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                       <input matInput name=\"zipCode\" formControlName=\"zipCode\" minlength=\"5\" maxlength=\"10\" (keypress)=\"_keyPress($event)\" required (change)=\"getCityandStateByZipcode(collateralDetailsForm.get('country').value,$event.target.value)\" />                            \r\n                                    <!-- </mat-card> -->\r\n                                     <mat-error *ngIf=\"!collateralDetailsForm.get('zipCode').valid && collateralDetailsForm.get('zipCode').touched\" >\r\n                                        &nbsp;&nbsp;Valid Zip Code is Required!(5-10 digits)\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                \r\n                            </div>\r\n                            \r\n                            <div fxFlex=\"50%\"  class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label >State</mat-label>\r\n                                   <!-- <mat-card class=\"widthCard inputMatName alignChange\"> -->\r\n                                      <mat-select name=\"state\" formControlName=\"state\" required\r\n                                      disableOptionCentering (selectionChange)=\"onStateChange()\" \r\n                                      >\r\n                                        <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                        <mat-option *ngFor=\"let state of arrayState\" [value]=\"state.stateName\">\r\n                                       {{state.stateName}}</mat-option>\r\n                                       </mat-select>\r\n                                   <!-- </mat-card> -->\r\n                                   <mat-error *ngIf=\"!collateralDetailsForm.get('state').valid && collateralDetailsForm.get('state').touched\" >\r\n                                        &nbsp;&nbsp; State is Required!\r\n                                    </mat-error>\r\n                                    </mat-form-field>\r\n                                </div>                                 \r\n                            </div>\r\n                            <div fxFlex=\"50%\"  fxFlex.xs=\"100%\">\r\n                                <div class=\"flex-grow-1\">\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label >City</mat-label>\r\n                                   <!-- <mat-card class=\"widthCard inputMatName dataChange\"> -->\r\n                                      <mat-select name=\"city\" formControlName=\"city\" required disableOptionCentering (selectionChange)=\"onCityChange()\">\r\n                                        <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                                        <mat-option *ngFor=\"let city of arrayCity\" [value]=\"city\">{{city}}\r\n                                        </mat-option>\r\n                                       </mat-select>\r\n                                   <!-- </mat-card> -->\r\n                                   <mat-error *ngIf=\"!collateralDetailsForm.get('city').valid && collateralDetailsForm.get('city').touched\" >\r\n                                        &nbsp;&nbsp; City is Required!\r\n                                    </mat-error> \r\n                                    </mat-form-field>\r\n                                </div>                                \r\n                            </div>\r\n                            \r\n                        </div> \r\n                    </div>\r\n                    <div>\r\n                      <div fxLayout=\"row\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n                        <div>\r\n                            <button mat-button class=\"paddingChange\" (click)=\"addMandate('')\" color=\"primary\" [disabled]=\"collateralInfo?.invalid\">+ ADD COLLATERAL</button>\r\n                        </div>\r\n                    </div> \r\n                        <div fxLayout=\"row\" class=\"full-width\">\r\n                            <form class=\"full-width\" [formGroup]=\"collateralInfo\">\r\n                                <div fxLayout=\"row\" class=\"full-width pt-16\" formArrayName=\"collateralInfo_array\" *ngFor=\"let report of collateralInfo.get('collateralInfo_array')['controls']; let i=index;\">\r\n                                    <div class=\"full-width\" [formGroupName]=\"i\">\r\n                                        <mat-accordion class=\"full-width mat-elevation-z0\">\r\n                                            <mat-expansion-panel class=\"mat-elevation-z0 borderStyle\"\r\n                                                (opened)=\"panelOpenState = true\" (closed)=\"panelOpenState = false\">\r\n                                                <mat-expansion-panel-header class=\"marginData\">\r\n                                                    <mat-panel-title class=\"textDesign\">\r\n                                                        <!-- Collateral {{i + 1}} -->\r\n                                                        Add Collateral\r\n                                                    </mat-panel-title>\r\n                                                    <!-- <mat-card-title>\r\n                                                        <fieldset class=\"alignChange\">\r\n                                                        <legend visible=\"true\">Add Collateral</legend>\r\n                                                        </fieldset>\r\n                                                      </mat-card-title> -->\r\n                                                </mat-expansion-panel-header>\r\n                                                <mat-divider class=\"design\"></mat-divider>\r\n                                                <div>\r\n                                                    <div fxLayout=\"row wrap\" class=\"pt-16 full-width\"\r\n                                                        fxLayoutAlign=\"space-between center\">\r\n                                                        <div fxFlex=\"50%\" fxFlex.xs=\"100%\">\r\n                                                            <div class=\"flex-grow-1\">\r\n                                                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                                                <mat-label >Number of Collateral*</mat-label>\r\n                                                                <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                                                    <input matInput name=\"noOfCollateral\" formControlName=\"noOfCollateral\"\r\n                                                                    (keypress)=\"_keyPress($event)\" \r\n                                                                        />                           \r\n                                                                <!-- </mat-card> -->\r\n                                                            </mat-form-field>\r\n                                                                <mat-error *ngIf=\"report.get('noOfCollateral').hasError('required') && report.get('noOfCollateral').hasError('touched')\">\r\n                                                                    Number of Collateral is Required!\r\n                                                                  </mat-error>\r\n                                                                \r\n                                                            </div>  \r\n                                                            <!--  -->\r\n                                                        </div>\r\n                                                        <div fxFlex=\"50%\" class=\"p-1\" fxFlex.xs=\"100%\">\r\n                                                            <div class=\"flex-grow-1\">\r\n                                                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                                                <mat-label >Total Collateral Value*</mat-label>\r\n                                                                <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                                                    <input matInput name=\"totalCollateralValue\" formControlName=\"totalCollateralValue\"  \r\n                                                                (keypress)=\"_keyPress($event)\"   \r\n                                                                (input)=\"calculateCoverAvail(collateralInfo_array.value[0])\"\r\n                                                                (input)=\"calculateUtilizedPrev(collateralInfo_array.value[0])\"                                                     \r\n                                                                    />                        \r\n                                                                <!-- </mat-card> -->\r\n                                                            </mat-form-field>  \r\n                                                                <mat-error *ngIf=\"report.get('totalCollateralValue').hasError('required') && report.get('totalCollateralValue').hasError('touched')\">\r\n                                                                    Total Collateral Value is Required!\r\n                                                                  </mat-error> \r\n                                                                                                                         </div>  \r\n                                                           \r\n                                                            <div>\r\n                                                                <small style=\"color:red;\"   *ngIf='flag'>\r\n                                                                Cover Available or Utilized Previously can't be greater than Total Collateral Value\r\n                                                                </small>\r\n                                                              </div>\r\n                                                        </div>\r\n                                                        <div fxFlex=\"50%\" class=\"p-1\" fxFlex.xs=\"100%\">\r\n                                                            <div class=\"flex-grow-1\">\r\n                                                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                                                <mat-label >Utilized Previously *</mat-label>\r\n                                                                <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                                                    <input matInput name=\"utilizedPreviously\" formControlName=\"utilizedPreviously\" \r\n                                                                    (keypress)=\"_keyPress($event)\"\r\n                                                                    (input)=\"calculateCoverAvail(collateralInfo_array.value[0])\"\r\n                                                                    (input)=\"calculateTotalColVal(collateralInfo_array.value[0])\"/>                      \r\n                                                                <!-- </mat-card> -->\r\n                                                            </mat-form-field>\r\n                                                                <mat-error *ngIf=\"report.get('utilizedPreviously').hasError('required') && report.get('utilizedPreviously').hasError('touched')\">\r\n                                                                    Utilized Previously is Required!\r\n                                                                  </mat-error> \r\n                                                                \r\n                                                            </div>                                                           \r\n                                                                                                                      \r\n                                                        </div>\r\n                                                        <div fxFlex=\"50%\" class=\"p-1\" fxFlex.xs=\"100%\">\r\n                                                            <div class=\"flex-grow-1\">\r\n                                                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                                                <mat-label >Cover Available*</mat-label>\r\n                                                                <!-- <mat-card class=\"inputMatName alignChange\">               -->\r\n                                                                    <input matInput name=\"coverAvailable\" formControlName=\"coverAvailable\" \r\n                                                                    (keypress)=\"_keyPress($event)\" \r\n                                                                    (input)=\"calculateTotalColVal(collateralInfo_array.value[0])\"\r\n                                                                    (input)=\"calculateUtilizedPrev(collateralInfo_array.value[0])\"\r\n                                                                   \r\n                                                                        />                   \r\n                                                                <!-- </mat-card> -->\r\n                                                            </mat-form-field>\r\n                                                                <mat-error *ngIf=\"report.get('coverAvailable').hasError('required') && report.get('coverAvailable').hasError('touched')\">\r\n                                                                    Cover Available is Required!\r\n                                                                  </mat-error>\r\n                                                                \r\n                                                            </div>                                                      \r\n\r\n                                                        </div>\r\n                                                        <div fxFlex=\"50%\" class=\"p-2\" fxFlex.xs=\"100%\">\r\n                                                            <div>\r\n                                                                <div class=\"pb-16\">\r\n                                                                    <div class=\"pb-4\">\r\n                                                                        <div class=\"pb-1\">\r\n                                                                            Secondary Charge Allowed ?&nbsp;&nbsp;&nbsp;&nbsp;  <mat-slide-toggle name=\"secondaryChargeAllowed\" class=\"charge\" formControlName=\"secondaryChargeAllowed\" ></mat-slide-toggle>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </mat-expansion-panel>\r\n                                        </mat-accordion>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <!-- <div fxLayout=\"row\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n                        <div>\r\n                            <button mat-button (click)=\"addMandate('')\" color=\"primary\" [disabled]=\"collateralInfo?.invalid\">+ ADD COLLATERAL</button>\r\n                        </div>\r\n                    </div> -->\r\n                   \r\n                </form>\r\n            </mat-card-content>\r\n        </mat-card>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n            <button type=\"button\" class=\"Backbtn\" (click)=\"goBack()\" mat-button rounded >\r\n                Back\r\n            </button>\r\n            <button type=\"button\" class=\"Nextbtn\" (click)=\"submitForm()\" [disabled]=\"!(collateralDetailsForm.valid && collateralInfo.valid)\" mat-raised-button color=\"primary\">\r\n                Next\r\n            </button>\r\n            \r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/loan-account/account.service';\r\nimport { UrlService } from 'app/views/home/url.service';\r\nimport { EsignPopComponent } from '../esign-pop/esign-pop.component';\r\nimport { UploadSignOrEsignComponent } from '../upload-sign-or-esign/upload-sign-or-esign.component';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport {eSign_URL} from 'app/shared/services/api.service'\r\n\r\n@Component({\r\n  selector: 'app-digital-sign-in-now-or-later',\r\n  templateUrl: './digital-sign-in-now-or-later.component.html',\r\n  styleUrls: ['./digital-sign-in-now-or-later.component.scss']\r\n})\r\nexport class DigitalSignInNowOrLaterComponent implements OnInit {\r\n  accountId: any;\r\n  accountdetailsForStatusUpdate: Object;\r\n  previousUrl: string = '';\r\n  show: boolean=false;\r\n  show1: boolean = false;\r\n  loanAccountId: any;\r\n  loanaccountID: any;\r\n  loanInfo: any;\r\n  isDone: boolean = false;\r\n  constructor(private dialog: MatDialog,\r\n    private router: Router,\r\n    private ls: LocalStoreService,\r\n    private accountService: AccountService,\r\n    private apiService: ApplicationEntryStageService,\r\n    private dialogService: DialogService,\r\n    private urlService: UrlService,\r\n    private api: ApiService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    this.show1 = this.ls.getItem('eSignStage') && (this.ls.getItem('signedImage') !== null)\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    this.accountId = this.ls.getItem('accountId');\r\n\r\n    this.urlService.previousUrl$\r\n      .subscribe((previousUrl: string) =>{\r\n        this.previousUrl = previousUrl\r\n      });\r\n  }\r\n\r\n  openPopUp(data?: any) {\r\n    let response:any;\r\n    if(data === undefined ||data === null) {\r\n      response = {\r\n        isSignLater: false,\r\n        screen: 'Create Account'\r\n      };\r\n    } \r\n    if(!this.show) {\r\n      let dialogRef: MatDialogRef<any> = this.dialog.open(UploadSignOrEsignComponent, {\r\n        width: '720px',\r\n        disableClose: true,\r\n        data: ((data === undefined ||data === null) ? response : data)\r\n      })\r\n      dialogRef.afterClosed().subscribe(res => {\r\n        this.loanAccountId =  this.loanaccountID;\r\n        console.log(\"dismiss res\",res);\r\n        if(res){\r\n          this.show=this.ls.getItem(\"enable\");\r\n          // this.show = this.ls.getItem('eSignStage')\r\n          this.show1=this.ls.getItem(\"enable\");\r\n\r\n          console.log(this.show);\r\n          this.getByAccountId(this.loanAccountId);\r\n        }\r\n      })\r\n    }\r\n\r\n} \r\n getByAccountId(loanAccountId: any) {\r\n  this.api.fetchByLoanAccountId(loanAccountId)\r\n  .subscribe(resp => {\r\n    this.accountdetailsForStatusUpdate = resp;\r\n        this.updateAccountStatus(resp);\r\n  });\r\n  }\r\n  updateAccountStatus(accData) {\r\n    accData.status = 'BACKLOG';\r\n    this.api.updateLoanDetailsStatus(accData)\r\n    .subscribe(updateResp => {\r\n      console.log(\"updateResp:: \", updateResp);\r\n    });\r\n  }\r\n  onDone(){\r\n    this.isDone=true;\r\n    this.dialogService.alertForLoanFinishButton().subscribe((response) => {\r\n      console.log(\"response ::\", response);                 \r\n    });    \r\n\r\n  }\r\n  goBack() {\r\n    this.router.navigate([this.previousUrl]);\r\n  }\r\n\r\n  resetState() {\r\n    this.ls.removeItem('LoanEntryStage');\r\n    this.ls.removeItem('LOAN_DETAIL_DONE');\r\n    this.ls.removeItem('ASSET_DETAIL_DONE');\r\n    this.ls.removeItem('VEHICLE_DETAIL_DONE');\r\n    this.ls.removeItem('ADMISSION_DETAIL_DONE');\r\n    this.ls.removeItem('CUSTOMERINFO_DETAIL_DONE');\r\n    this.ls.removeItem('MANDATE_DETAIL_DONE');\r\n    this.ls.removeItem('FINANCIAL_DETAIL_DONE');\r\n    this.ls.removeItem('COLLATERAL_DETAIL_DONE');\r\n    this.ls.removeItem('GUARANTOR_DETAIL_DONE');\r\n\r\n    this.ls.removeItem('LOAN_ENRICHMENT_DONE');\r\n    this.ls.removeItem('LOAN_INTERST_DETAIL_DONE');\r\n    this.ls.removeItem('LOAN_DISBURSEMENT_DETAIL_DONE');\r\n    this.ls.removeItem('LOAN_REPAYMENT_DETAIL_DONE');\r\n    this.ls.removeItem('LOAN_CHARGE_DETAILS');\r\n    this.ls.removeItem('LOAN_ACCOUNT_SERVICES_DONE');\r\n    this.ls.removeItem('LOAN_ENRICHMENT_DONE');\r\n\r\n    this.ls.removeItem('assessment-details');\r\n    this.ls.removeItem('offer-acceptReject-details');\r\n    this.ls.removeItem('loan-summary-details');\r\n    this.ls.removeItem('assessmentScreen');\r\n    this.ls.removeItem('OfferIssueStageDone');\r\n\r\n    this.ls.removeItem('OfferIssue');\r\n    this.ls.removeItem('OfferIssueRejectStageScreen');\r\n    this.ls.removeItem('OfferIssueRejectScreen');\r\n\r\n    this.ls.removeItem('underWritingStage');\r\n    this.ls.removeItem('CREDIT_RATING_DONE');\r\n    this.ls.removeItem('VALUATION_OF_ASSET_DONE');\r\n    this.ls.removeItem('LEGAL_OPINION_DONE');\r\n    this.ls.removeItem('legalScreen');\r\n    this.ls.removeItem('valuationAsset');\r\n    this.ls.removeItem('CreditRatingDetails');\r\n\r\n    this.ls.removeItem('LOAN_QUALITATIVE_SCOREBOARD_DONE');\r\n    this.ls.removeItem('LOAN_ASSESSMENT_DETAILS_DONE');\r\n    this.ls.removeItem('LOAN_ASSESSMENT_STAGE_DONE');\r\n\r\n    this.ls.removeItem('SUPERVISOR_APPROVAL_STAGE');\r\n    this.ls.removeItem('isapprovedSupervisor');\r\n    this.ls.removeItem('APPROVED_DETAILS');\r\n    this.ls.removeItem('PostOfferAmmendementStageScreen');\r\n    this.ls.removeItem('PostOfferAmmendementScreen');\r\n    this.ls.removeItem('post-offer-amend-stage');\r\n\r\n    this.ls.removeItem('ACCOUNT_CREATTION_STAGE_DONE');\r\n    this.ls.removeItem('ACCOUNT_CREATE_DETAILS_DONE');\r\n    this.ls.removeItem('eSignStage');\r\n    this.ls.removeItem('loanAccountId');\r\n    this.ls.removeItem('enable');\r\n    this.ls.removeItem('primaryCustomerName');\r\n    this.ls.removeItem('cardownership_value');\r\n    this.ls.removeItem('cId');\r\n    this.ls.removeItem('signedImage');\r\n    this.ls.removeItem('LoanNoOfApplicants');\r\n    this.ls.removeItem('isHomeLoan');\r\n    this.ls.removeItem('productName');\r\n    this.ls.removeItem('signedImage')\r\n\r\n    sessionStorage.clear();\r\n    this.accountService.refresh.next();\r\n    this.router.navigate(['/loan']);\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log(this.loanaccountID);\r\n    \r\n    let payload = {\r\n      loanAccountId:this.loanaccountID,\r\n      subject:\"Link to sign later\",\r\n      esignLink: eSign_URL,\r\n    };\r\n    this.api.signInLater(payload)\r\n      .subscribe((data: any) => {\r\n        console.log(\"data::\",data);\r\n        this.getByAccountId(this.loanaccountID);\r\n        this.ls.setItem('eSignStage', true);\r\n        this.ls.setItem('enable',true)\r\n        this.accountService.refresh.next();\r\n        let response: any = {\r\n          email: data.email,\r\n          customerId: data.customerId,\r\n          subject: data.subject,\r\n          isSignLater: true,\r\n          screen: 'Loan Account'\r\n        };\r\n        this.isDone=true;\r\n    this.dialogService.alertForLoanSignLater().subscribe((response) => {\r\n      console.log(\"response ::\", response);                 \r\n    });  \r\n    this.show = this.ls.setItem(\"enable\",true);\r\n        \r\n      }, (err: any) => {\r\n\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/digi.svg\" alt=\"\" class=\"w-80\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Digital Signing</b></div>\r\n      </div>\r\n    </div>\r\n  <mat-card class=\"mat-card-img\">\r\n    <div fxFlex=\"100\" class=\"mt-32\">\r\n        <mat-card\r\n          class=\"rounded-circle\" (click)=\"openPopUp()\"\r\n        >\r\n          <mat-card-content class=\"p-0\">\r\n            <mat-list class=\"compact-list mb-16\">\r\n              <mat-list-item class=\"\" >\r\n                <img\r\n                  mat-list-avatar\r\n                  class=\"mr-16\"\r\n                  src=\"assets/images/signnow.png\"\r\n                  alt=\"\"\r\n                />\r\n                <!-- [ngClass]=\" show ? 'primary' : 'secondary'\" -->\r\n                <div fxLayout=\"column\" fxFlex=\"100\"  >\r\n                  <h3 class=\"m-0 mr-16\">Sign Now</h3>\r\n                  <span fxFlex></span>\r\n                  <div fxFlex=\"40\" class=\"mt-4 notActive\">\r\n                    Enables you to digitally sign the document. To e sign the\r\n                    document, click on it, create your eSignature or Upload your signature, click on Done and\r\n                    it will add to your\r\n                  </div>\r\n                </div>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n\r\n      <div fxFlex=\"100\">\r\n        <div class=\"text-center\">\r\n          <button mat-button class=\"full-width notActive\">OR</button>\r\n        </div>\r\n      </div>\r\n      <div fxFlex=\"100\">\r\n        <mat-card\r\n          class=\"rounded-circle\"  (click)=\"onSubmit()\">\r\n          <mat-card-content class=\"p-0\">\r\n            <mat-list class=\"compact-list mb-16\">\r\n              <mat-list-item class=\"\" >\r\n                <img\r\n                  mat-list-avatar\r\n                  class=\"mr-16\"\r\n                  src=\"assets/images/signlater.png\"\r\n                  alt=\"\"\r\n                />\r\n                <!-- [ngClass]=\" show ? 'primary' : 'primary'\" -->\r\n                <div fxLayout=\"column\" fxFlex=\"100\"  >\r\n                  <h3 class=\"m-0 mr-16\">Sign Later</h3>\r\n                  <span fxFlex></span>\r\n                  <div fxFlex=\"40\" class=\"mt-4 notActive\">\r\n                    Enables you to sign the document later. To sign later, click\r\n                    here, an email will be sent to the respective email id provided\r\n                    with a sign link. You can verify and sign later.\r\n                  </div>\r\n                </div>\r\n    \r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n  </mat-card>\r\n      <div fxFlex=\"100\" class=\"mt-16\">\r\n        <button mat-button class=\"Back\" (click)=\"goBack()\">BACK</button>\r\n        <span fxFlex></span>\r\n    \r\n        <button mat-raised-button class=\"Next\" type=\"button\" [disabled]=\"!show1\" (click)=\"onDone()\">FINISH</button>\r\n      </div>\r\n    </div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { DatePipe } from '@angular/common'\r\nimport { Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\nimport { AccountService } from '../../account.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\n@Component({\r\n  selector: 'app-loan-disbursement-details',\r\n  templateUrl: './loan-disbursement-details.component.html',\r\n  styleUrls: ['./loan-disbursement-details.component.scss']\r\n})\r\nexport class LoanDisbursementDetailsComponent implements OnInit {\r\n\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  loanDisbursementForm: FormGroup;\r\n  internalAccount: FormGroup;\r\n  resp: any;\r\ncifNumber: any;\r\n accountNoArr = [];\r\n  showEditOption: boolean = false;\r\n  loanaccountId: any;\r\n  disbursementDetails: any;\r\n  loanInfo: any;\r\n  constructor(\r\n    private loader: AppLoaderService,\r\n    private ls: LocalStoreService,\r\n    public datepipe: DatePipe,private router:Router,private formBuilder: FormBuilder,private api: ApiService,\r\n    private snack: MatSnackBar,private accountService:AccountService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountId = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    let isLoanDisbursementDetails = this.ls.getItem('LOAN_DISBURSEMENT_DETAIL_DONE');\r\n    // setTimeout(() => {\r\n     \r\n    // }, 10); \r\n    if (this.loanaccountId != null && isLoanDisbursementDetails) {\r\n      this.showEditOption = true;\r\n      this.getDisbursementDetails();\r\n    } else {\r\n      this.showEditOption = false;\r\n      this.buildformGroup();\r\n    }  \r\n    this.fetchByCif(); \r\n  }\r\n\r\n  getDisbursementDetails(){\r\n    this.loader.open();\r\n      this.api.loanDisbursementFetchById(this.loanaccountId).subscribe(disbursementDetails=>{\r\n        this.loader.close();\r\n        this.disbursementDetails = disbursementDetails;\r\n        this.buildformGroup(this.disbursementDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    }); \r\n  }\r\n\r\n\r\n  buildformGroup(item?) {\r\n    const lsLoanAmount = this.ls.getItem('loanAmount') || '';\r\n\r\n    // let latest_date= new Date(item.firstDisbursementDate).toISOString().substring(0, 10);\r\n     this.loanDisbursementForm = this.formBuilder.group({\r\n      mutipleDisbursementRequired: [item?item.mutipleDisbursementRequired:true],\r\n      loanAccountId:this.loanaccountId,\r\n      loanDisbursementId:[item?item.loanDisbursementId:''],\r\n      numberOfDisbursement:[item?item.numberOfDisbursement:'',Validators.required],\r\n      totalDisbursement:[item?item.totalDisbursement:'',Validators.required],\r\n      loanAmount:[item?item.loanAmount:lsLoanAmount,Validators.required],\r\n      firstDisbursementDate:[item?this.datepipe.transform(item.firstDisbursementDate, 'yyyy-MM-dd'):'',Validators.required],\r\n      disbursementMode:[item?item.disbursementMode:'',Validators.required],\r\n    });\r\n    this.internalAccount = this.formBuilder.group({\r\n      customerAccount:[item?item.customerAccount:'',Validators.required],\r\n      branchCode:[item?item.branchCode:'',Validators.required],\r\n  \r\n     \r\n    });\r\n\r\n  }\r\nsubmit(){\r\n\r\n  let latest_date =this.datepipe.transform(this.loanDisbursementForm.value.firstDisbursementDate, 'yyyy-MMM-dd');\r\n  \r\n\r\n  this.loanDisbursementForm.value.branchCode=this.internalAccount.value.branchCode;\r\n  this.loanDisbursementForm.value.customerAccount=this.internalAccount.value.customerAccount;\r\n  this.loanDisbursementForm.value.firstDisbursementDate=latest_date;\r\n  this.api.loanDisbursementSave(this.loanDisbursementForm.value).subscribe(resp => {\r\n    this.snack.open('Loan Disbursement Details Saved!', 'OK', {\r\n      duration: 4000,\r\n      verticalPosition: 'top',\r\n      horizontalPosition: 'right'\r\n    });\r\n    this.next();\r\n  \r\n  }, err => {\r\n    this.snack.open('Not able to connect to server!', 'INTERNAL SERVER ERROR', {\r\n      duration: 4000,\r\n      verticalPosition: 'top',\r\n      horizontalPosition: 'right'\r\n    });\r\n  })\r\n  \r\n}\r\n\r\n_keyPress(event: any) {\r\n  const pattern = /[0-9]/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  if (!pattern.test(inputChar)) {\r\n    event.preventDefault();\r\n  }\r\n}\r\n\r\nnext(){\r\n  this.ls.setItem('LOAN_DISBURSEMENT_DETAIL_DONE', true);\r\n  this.accountService.refresh.next();\r\n  this.router.navigate([`/loan/account/application-enrichment/loan-repayment`]);\r\n}\r\ngoBack() {\r\n \r\n  this.router.navigate([\r\n    `/loan/account/application-enrichment/intrest-details`,\r\n  ]);\r\n}\r\nfetchByCif(){\r\n    this.cifNumber=this.ls.getItem('cId');\r\n    this.api.fetchAccountIdByCustId(this.cifNumber).subscribe((accountNo: [])=>{\r\n      this.accountNoArr = accountNo;         \r\n      this.internalAccount.get('customerAccount').setValue(this.accountNoArr?.[0]);      \r\n      console.log(this.internalAccount.get('customerAccount').value);\r\n      this.fetchByValue();\r\n    }     \r\n      );  \r\n          \r\n  }\r\n  fetchByValue(){\r\n    console.log(this.internalAccount.get('customerAccount').value);\r\n    \r\n    this.api.fetchByBranchCode(this.internalAccount.get('customerAccount').value).subscribe((resp=>{\r\n      console.log(resp);\r\n      this.internalAccount.get('branchCode').setValue(resp.branchCode);\r\n      \r\n    }));\r\n    \r\n  }\r\n  keyPressAlphanumeric(event) {\r\n    var inp = String.fromCharCode(event.keyCode);\r\n    if (/^[a-zA-Z0-9_ ]*$/.test(inp)) {\r\n      return true;\r\n    } else {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n}","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/loanDisbursement.svg\" alt=\"\" class=\"w-80\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><h2>Loan Disbursement Details </h2></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">      \r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Loan Disbursement  Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form *ngIf=\"loanDisbursementForm\" [formGroup]=\"loanDisbursementForm\">\r\n          <!-- <mat-spinner class=\"spinner\" [diameter]=\"80\" *ngIf=\"showSpinn\"></mat-spinner> -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\" >\r\n                <div fxFlex=\"100\" class=\"pr-1\">\r\n                  <div class=\"pb-1\">\r\n                    Required Multiple Disbursement ?&nbsp;&nbsp;&nbsp;\r\n                    <mat-slide-toggle class=\"charge\" formControlName=\"mutipleDisbursementRequired\"></mat-slide-toggle>\r\n                  </div><br>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Disbursement Mode*</mat-label>\r\n                <!-- <mat-card class=\"widthCard inputMatName\" id=\"select\"> -->\r\n                  <mat-select placeholder=\"Disbursement Mode\" \r\n                  formControlName=\"disbursementMode\" disableOptionCentering>\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"Auto Disbursement\">Auto Disbursement</mat-option>\r\n                    <mat-option value=\"Manual Disbursement\">Manual Disbursement </mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!loanDisbursementForm.get('disbursementMode').valid && loanDisbursementForm.get('disbursementMode').touched\">\r\n                  Disbursement Mode is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              \r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Number of Disbursement*</mat-label>\r\n                <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                  <input matInput placeholder=\"Number of Disbursement\" formControlName=\"numberOfDisbursement\"\r\n                    class=\"alignment\" name=\"MarketValueofAsset\" (keypress)=\"_keyPress($event)\" autocomplete=\"off\"/>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!loanDisbursementForm.get('numberOfDisbursement').valid && loanDisbursementForm.get('numberOfDisbursement').touched\">\r\n                  Number of Disbursement is Required!</mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n\r\n\r\n              <div class=\"flex-grow-2\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Total Disbursement*</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n\r\n                  <input matInput placeholder=\"Total Disbursement\" formControlName=\"totalDisbursement\" class=\"alignment\"\r\n                  (keypress)=_keyPress($event)  name=\"MarketValueofAsset\" autocomplete=\"off\" />\r\n\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!loanDisbursementForm.get('totalDisbursement').valid  && loanDisbursementForm.get('totalDisbursement').touched\">\r\n                  Total Disbursement is Required!</mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n            </div>\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"padding\">\r\n\r\n              <div class=\"flex-grow-2\">\r\n\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>Loan Amount*</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n\r\n                  <input placeholder=\"Loan Amount\" matInput formControlName=\"loanAmount\" class=\"alignment\" readonly \r\n                    name=\"MarketValueofAsset\" />\r\n\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!loanDisbursementForm.get('loanAmount').valid  && loanDisbursementForm.get('loanAmount').touched\">\r\n                  Loan Amount is Required!</mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n\r\n\r\n              <div class=\"flex-grow-2 \">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label>First Disbursement Date*</mat-label>\r\n                <!-- <mat-card class=\"inputMatName1\" id=\"heightDate\"> -->\r\n                  <input placeholder=\"DD/MM/YYYY\" matInput name=\"valuationDate\" class=\"alignment\"\r\n                    formControlName=\"firstDisbursementDate\" [min]=\"minDate\"\r\n                     [matDatepicker]=\"appDatepicker\" readonly />\r\n                    <div fxFlex=\"8%\" id=\"toggle\">\r\n                  <mat-datepicker-toggle class=\"date_picker\" matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                  <mat-datepicker #appDatepicker></mat-datepicker>\r\n                   </div>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!loanDisbursementForm.get('firstDisbursementDate').valid && loanDisbursementForm.get('firstDisbursementDate').touched\">\r\n                  First Disbursement Date is Required!</mat-error>\r\n                </mat-form-field>\r\n             \r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </form>\r\n      </mat-card-content>\r\n        <!-- <div class=\"spanDiv1\">\r\n          <span class=\"span\">Internal Account\r\n          </span>\r\n          <mat-divider class=\"divider marginL-0\"></mat-divider>\r\n        </div> -->        \r\n        <mat-card-title>\r\n          <fieldset>\r\n          <legend visible=\"true\">Internal Account</legend>\r\n          </fieldset>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n        <form *ngIf=\"internalAccount\" [formGroup]=\"internalAccount\">\r\n          <!-- <mat-spinner class=\"spinner\" [diameter]=\"80\" *ngIf=\"showSpinn\"></mat-spinner> -->\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" style=\"padding-right: 5px;\">\r\n\r\n\r\n              <!-- <div class=\"flex-grow-2\">\r\n\r\n                    <mat-hint>Customer Account*</mat-hint>\r\n                    <mat-card class=\"widthCard inputMatName\">\r\n                      <mat-select disableOptionCentering formControlName=\"customerAccount\">\r\n                        <mat-option value=\"\">Select</mat-option>\r\n                        <mat-option value=\"saving\">Saving</mat-option>\r\n                        <mat-option value=\"fixed\">Fixed</mat-option>\r\n                        <mat-option value=\"current\">Current</mat-option>\r\n                      </mat-select>\r\n                    </mat-card>\r\n                    <mat-error *ngIf=\"!internalAccount.get('customerAccount').valid && internalAccount.get('customerAccount').touched\">\r\n                        Customer Account is Required!</mat-error>\r\n                  </div> -->\r\n\r\n\r\n              <div class=\"flex-grow-1\"  >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label> Customer Account*</mat-label>\r\n                <!-- <mat-card class=\"alignChange\">                 -->\r\n                  <mat-select formControlName=\"customerAccount\" disableOptionCentering placeholder=\"Customer Account\">\r\n                    <mat-option [value]=\"accNo\" *ngFor=\"let accNo of accountNoArr\">{{accNo}}</mat-option>\r\n                  </mat-select>                  \r\n                <!-- </mat-card>                 -->\r\n                <mat-error\r\n                *ngIf=\"!internalAccount.get('customerAccount').valid  && internalAccount.get('customerAccount').touched\">\r\n                &nbsp;&nbsp; Customer Account is Required!\r\n               </mat-error>\r\n                </mat-form-field>\r\n                \r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n              <div class=\"flex-grow-1\">                \r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Branch Code*</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <input matInput placeholder=\"Branch Code\" formControlName=\"branchCode\" class=\"alignment\" (keypress)=keyPressAlphanumeric($event) \r\n                    name=\"MarketValueofAsset\" />\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!internalAccount.get('branchCode').valid  && internalAccount.get('branchCode').touched\">\r\n                  Branch Code is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          \r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n\r\n      <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n        Back\r\n      </button>\r\n      <button mat-raised-button color=\"primary\" class=\"Nextbtn\" [disabled]=\"!(loanDisbursementForm.valid) || !(internalAccount.valid)\" (click)=\"submit()\">\r\n        Next\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-offer-issue',\r\n  templateUrl: './offer-issue.component.html',\r\n  styleUrls: ['./offer-issue.component.scss']\r\n})\r\nexport class OfferIssueComponent implements OnInit {\r\n\r\n  generateArr:string[]=['With Schedule','without Schedule'];\r\n  approvedLoan: number;\r\n  accountDetails: any;\r\n  OfferIssueForm: FormGroup;\r\n  showEditOption: boolean = false;\r\n  disableDone:boolean =true;\r\n  isAssesmentDetailsScreen: boolean = false;\r\n  isOfferIssueScreen: boolean = false; \r\n  isOfferIssueRejectScreen: boolean  = false;\r\n  loanInfo: any;\r\n  loanaccountID: any;\r\n\r\n\r\n  constructor(private router: Router,private ls: \r\n    LocalStoreService,private apiService:ApiService, private snack: MatSnackBar,private loader: AppLoaderService,\r\n    private formBuilder: FormBuilder) { \r\n    this.OfferIssueForm = this.formBuilder.group({\r\n      approvedLoanAmount : [],\r\n      applicantName:[''],\r\n      loanTenure:[],\r\n      installmentType:[''],\r\n      installmentFrequency:[''],    \r\n      rateOfInterest:[],  \r\n      offerIssueDate:[''],\r\n      generateOffer:[''],\r\n    \r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    let isOfferIssueScreen: boolean = JSON.parse(this.ls.getItem('OfferIssue'));\r\n    setTimeout(() => {\r\n      if (44444 != null && isOfferIssueScreen) {\r\n        this.showEditOption = true;\r\n        \r\n        this.getAccountDetails();\r\n      } \r\n      else {\r\n        console.log(\"else\");\r\n        this.showEditOption = false;\r\n        this.buildOfferIssueForm();\r\n      }\r\n    }, 10);\r\n   \r\n    //this.getAccountType(\"account_type\");\r\n  }\r\n  getAccountDetails() {\r\n    this.loader.open();\r\n    this.apiService.getOfferIssueDetails(this.loanaccountID?this.loanaccountID:44444).subscribe((accountDetails) => {\r\n      this.loader.close();\r\n      this.accountDetails = accountDetails;\r\n      console.log(this.accountDetails);\r\n      this.buildOfferIssueForm(this.accountDetails);\r\n    }, (err: any) => {\r\n      this.loader.close();\r\n    });\r\n\r\n\r\n  }\r\n  buildOfferIssueForm(data?) {\r\n    this.OfferIssueForm = this.formBuilder.group({\r\n      approvedLoanAmount : [data ? data.approvedLoanAmount:''],\r\n      applicantName:[data ? data.applicantName:''],\r\n      loanTenure:[data ? data.loanTenure:''],\r\n      installmentType:[data ? data.installmentType:''],\r\n      installmentFrequency:[data ? data.installmentFrequency:''],    \r\n      rateOfInterest:[data ? data.rateOfInterest:''],  \r\n      offerIssueDate:[data ? data.offerIssueDate:''],\r\n      generateOffer:[data ? data.generateOffer:''],\r\n    \r\n    })\r\n\r\n  }\r\n  goBack(){\r\n    this.router.navigate([\"/loan/account/offerstage/offer-assessment\"]);\r\n  }\r\nSubmit(){\r\n  let details:  any;\r\n    //details.push(this.legalOpinion.value);\r\n    let now = new Date();\r\n    now=this.OfferIssueForm.value.opinionDate;\r\n    var dateStringWithTime = moment(now).format('YYYY-MMM-DD HH:MM:SS');\r\n    console.log(\"dateStringWithTime\",dateStringWithTime);\r\n    var aprloan=this.OfferIssueForm.value.approvedLoanAmount;\r\n    aprloan= parseInt(aprloan);\r\n    var rate=this.OfferIssueForm.value.rateOfInterest;\r\n    rate= parseInt(rate);\r\n    let payload={\r\n      loanAccountId:parseInt(\"44444\"),\r\n      approvedLoanAmount:aprloan,\r\n      applicantName:this.OfferIssueForm.value.applicantName,\r\n      loanTenure:this.OfferIssueForm.value.loanTenure,\r\n      installmentType:this.OfferIssueForm.value.installmentType,\r\n      installmentFrequency:this.OfferIssueForm.value.installmentFrequency,\r\n      rateOfInterest:rate,\r\n      offerIssueDate:dateStringWithTime,\r\n      generateOffer:this.OfferIssueForm.value.generateOffer,\r\n    }\r\n    console.log(\"payload\",payload)\r\n    this.apiService.upsertOfferIssue(payload).subscribe(data => {\r\n      console.log(\"data\",data);\r\n      if(data != null){\r\n        this.snack.open('Data Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n     \r\n      }\r\n    })\r\n    \r\n  this.Next();\r\n}\r\nNext(){\r\n  this.ls.setItem('OfferIssue', true);\r\n  this.router.navigate([\"/loan/account/offerstage/offer-accept-reject\"]);\r\n\r\n}\r\n\r\n_keyPress1(event: any) {\r\n  const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  if (!pattern.test(inputChar)) {\r\n    event.preventDefault();\r\n  }\r\n  const input = event.target.value;\r\n  if (input.length === 0 && event.which === 48) {\r\n    event.preventDefault();\r\n  }\r\n}\r\n\r\n_keyPress(event: any) {\r\n  const pattern = /[0-9]/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  if (!pattern.test(inputChar)) {\r\n    event.preventDefault();\r\n  }\r\n}\r\nonInput(event: any, flag) {\r\n  if (flag) {\r\n    this.approvedLoan = event.target.value;\r\n  } else {\r\n    this.approvedLoan = event;\r\n  }\r\n\r\n  console.log(\"this.salary)::\", this.approvedLoan);\r\n  let sal = this.approvedLoan.toString().replace(/,/g, '').split(\".\");\r\n  sal[0] = sal[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n  let final = sal.join(\".\");\r\n  console.log(\"final\", final);\r\n  this.OfferIssueForm.controls.approvedLoanAmount.setValue(final);\r\n}\r\n}","<div fxLayout=\"column\">\r\n  <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/Group 673.svg\" alt=\"\" class=\"w-80\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"card-title-text\"><h1>Offer Issue Details</h1></div>\r\n      </div>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"column\">\r\n  <form fxLayout=\"column\" [formGroup]=\"OfferIssueForm\">\r\n      <div fxFlex=\"100\">\r\n          <mat-card fxLayout=\"column\" style=\"border-radius: 30px; margin-right: 1.5cm;\">\r\n              <mat-card-title >\r\n                  <div class=\"card-title-text\">Offer Issue Details<mat-divider></mat-divider></div>\r\n              </mat-card-title>\r\n\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Applicant Name*</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"applicantName\"\r\n                          placeholder=\"Applicant Name\" formControlName=\"applicantName\"/>\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Approved Loan Amount*</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                        <input matInput  class=\"alignment\" type=\"text\" name=\"approvedLoanAmount\" placeholder=\"Approved Loan Amount\"\r\n                        (keypress)=\"_keyPress1($event)\"  (keyup)=\"onInput($event,true)\"\r\n                         maxlength=\"16\"formControlName=\"approvedLoanAmount\" />\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n              </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Loan Tenure</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"loanTenure\"\r\n                          formControlName=\"loanTenure\" \r\n                          placeholder=\"in years\"/>\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Installment Type</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                        <input matInput  class=\"alignment\" type=\"text\" name=\"installmentType\" placeholder=\"Installment Type\"\r\n                        formControlName=\"installmentType\" \r\n                          />\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n              </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Installment Frequency</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"installmentFrequency\"\r\n                          formControlName=\"installmentFrequency\"/>\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Rate of Interest in(%)</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                        <input matInput  class=\"alignment\" type=\"text\" name=\"rateOfInterest\"\r\n                        formControlName=\"rateOfInterest\" min=\"0\" max=\"100\" />\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n              </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                      <label  class=\"hint\">Approved Loan Account</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"approvedLoanAmount\"\r\n                          formControlName=\"approvedLoanAmount\"/>\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Loan Tenure</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                        <input matInput  class=\"alignment\" type=\"text\" name=\"loanTenure\"\r\n                        formControlName=\"loanTenure\" />\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n              </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Offer Issue Date</label>\r\n                      <mat-card class=\"inputMatLastName\" style=\"height:48px;\">\r\n                            <input matInput  id=\"dob\" class=\"alignment\" name=\"offerIssueDate\" readonly\r\n                              [matDatepicker]=\"picker\"  value=\"offerIssueDate\" placeholder=\"DD/MM/YYYY\"\r\n                              formControlName=\"offerIssueDate\">\r\n                          <div fxFlex=\"8%\" id=\"toggle\">\r\n                              <mat-datepicker-toggle matSuffix [for]=\"picker\" >\r\n                              </mat-datepicker-toggle>\r\n            \r\n                              <mat-datepicker #picker>\r\n                              </mat-datepicker>\r\n                            </div>\r\n            \r\n                       </mat-card>\r\n        \r\n                  </div>\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Generate Offer</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <mat-select class=\"alignment\" formControlName=\"generateOffer\" disableOptionCentering>\r\n                              <mat-option >select</mat-option>\r\n                              <mat-option *ngFor=\"let generateOffer of generateArr\" [value]=\"generateOffer\">\r\n                                  {{generateOffer}}\r\n                              </mat-option>\r\n                          </mat-select>\r\n                      </mat-card>\r\n                     \r\n                  </div>\r\n                 \r\n                    \r\n              </div>\r\n\r\n\r\n          </mat-card>\r\n\r\n      </div>\r\n      <div class=\"button\">\r\n          <!-- -->\r\n          <button mat-button class=\"Back\" (click)=\"goBack()\" >Back</button>\r\n          <button mat-stroked-button class=\"Next\" (click)=\"Submit()\" [disabled]=\"!OfferIssueForm.valid\">Done</button>\r\n      </div>\r\n  </form>\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\nimport { AccountService } from '../../account.service';\r\nimport { DatePipe } from '@angular/common'\r\n\r\n@Component({\r\n  selector: 'app-vehicle-details',\r\n  templateUrl: './vehicle-details.component.html',\r\n  styleUrls: ['./vehicle-details.component.scss'],\r\n})\r\nexport class VehicleDetailsComponent implements OnInit {\r\n  vehicleForm: FormGroup;\r\n  vehicleDetails: any;\r\n  showEditOption: boolean = false;\r\n  loanaccountID: any;\r\n  productName: any;\r\n  arrayCity: string[];\r\n  arrayState: string[];\r\n  months: any[] = [];\r\n  selectedYear: number;\r\n  years: any[] = [];\r\n  month: string[];\r\n   year: string[];\r\n   make:string[];\r\n  policyNumber: any = true;\r\n  loanInfo: any;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private ls: LocalStoreService,\r\n    private loader: AppLoaderService,\r\n    private apiService: ApiService,\r\n    private snack: MatSnackBar,\r\n    private accountService: AccountService,\r\n    private router: Router,\r\n     public datepipe: DatePipe\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    this.productName = this.ls.getItem('productName');\r\n\r\n    this.selectedYear = new Date().getFullYear();\r\n    for (let year = this.selectedYear; year >= 1990; year--) {\r\n      this.years.push(year);\r\n    }\r\n    this.months = [\r\n      '01',\r\n      '02',\r\n      '03',\r\n      '04',\r\n      '05',\r\n      '06',\r\n      '07',\r\n      '08',\r\n      '09',\r\n      '10',\r\n      '11',\r\n      '12',\r\n    ];\r\n    let isVehicleDetailsScreen: boolean = JSON.parse(\r\n      this.ls.getItem('VEHICLE_DETAIL_DONE')\r\n    );\r\n    //if (this.loanAccountId != null && isVehicleDetailsScreen) {\r\n      setTimeout(() => {\r\n        if (this.loanaccountID != null && isVehicleDetailsScreen) {\r\n          this.showEditOption = true;\r\n    \r\n          this.getVehicleDetails();\r\n        } else {\r\n          console.log('else');\r\n          this.showEditOption = false;\r\n          this.buildformGroup();\r\n        }\r\n      }, 10);\r\n  \r\n //   this.vehicleForm.get('productName').patchValue(this.productName);\r\n    this.getStateName();\r\n  }\r\n\r\n  changeInput(inp) {\r\n    this.policyNumber = inp.length ? false : true;\r\n  }\r\n\r\n  getVehicleDetails() {\r\n    this.loader.open();\r\n    //this.apiService.getAssetValuation(this.loacnAccountId).subscribe((accountDetails) => {\r\n    this.apiService.getVehicleDetails(this.loanaccountID).subscribe(\r\n      (vehicleDetails) => {\r\n        this.loader.close();\r\n        this.vehicleDetails = vehicleDetails;\r\n        console.log(this.vehicleDetails);        \r\n        this.buildformGroup(this.vehicleDetails);\r\n      },\r\n      (err: any) => {\r\n        this.loader.close();\r\n      }\r\n    );\r\n  }\r\n\r\n  buildformGroup(data?) {\r\n    this.getStateName();\r\n    this.vehicleForm = this.fb.group({\r\n      id: [''],\r\n      insuranceDetails: [data ? data.insuranceDetails : ''],\r\n      distanceRun: [data ? data.distanceRun : ''],\r\n      engineNumber: [data ? data.engineNumber : ''],\r\n      expectedSellingPrice: [data ? data.expectedSellingPrice : ''],\r\n      insuranceCompany: [data ? data.insuranceCompany : ''],\r\n      model: [data ? data.model : ''],\r\n      policyCommencementDate: [data ? (this.datepipe.transform(data.policyCommencementDate, 'yyyy-MM-dd')) : '',[Validators.required]],\r\n      policyNumber: [data ? data.policyNumber : ''],\r\n      policyRenewalDate: [data ? (this.datepipe.transform(data.policyRenewalDate, 'yyyy-MM-dd')): '',[Validators.required]],\r\n      premiunAmount: [data ? data.premiunAmount : ''],\r\n      premiunFrequency: [data ? data.premiunFrequency : ''],\r\n      productName: [data ? data.productName : this.productName, [Validators.required]],\r\n      maker: [data ? data.maker : '', [Validators.required]],\r\n      hypothecatedBranch: [data ? data.hypothecatedBranch : ''],\r\n      registrationCity: [data ? data.registrationCity : ''],\r\n      registrationNumber: [data ? data.registrationNumber : ''],\r\n      registrationState: [data ? data.registrationState : ''],\r\n      vehicleClass: [data ? data.vehicleClass : '', [Validators.required]],\r\n      chassisNumber: [data ? data.chassisNumber : ''],\r\n      make: [ data ? data.make : ''],\r\n     month: [data ? data.make.split(\"-\")[1] : \"\", [Validators.required]],\r\n      year: [data ? data.make.split(\"-\")[0] : \"\", [Validators.required]],\r\n    });\r\n  }\r\n  goBack() {\r\n    this.router.navigate([`/loan/account/loan-details`]);\r\n  }\r\n\r\n  getStateName() {\r\n    let entityName = 'state';\r\n    this.apiService.getDropDownValues(entityName).subscribe((data) => {\r\n      this.arrayState = data.sort();\r\n      console.log('-->', this.arrayState);\r\n    });\r\n  }\r\n  getCityName(state: any) {\r\n    console.log('inside getCityName::', state);\r\n    let entityName = 'city';\r\n    this.apiService.getDropDownValues1(entityName, state).subscribe((data) => {\r\n      this.arrayCity = data;\r\n      console.log('-->', this.arrayCity);\r\n    });\r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem('VEHICLE_DETAIL_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/loan/account/customer-information`]);\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    const input = event.target.value;\r\n    if (input.length === 0 && event.which === 48) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n   convertDate(value) {\r\n    let date = moment(value).format('YYYY-MM-DD'); // ISO 8601 format\r\n   // let date =  moment(value).format('yyyy-MMM-dd');\r\n    console.log(\"date\", date);\r\n    if (date)\r\n      return date;\r\n  }\r\n  submitForm() {\r\n    var pk = this.vehicleForm.value.expectedSellingPrice;\r\n    pk = parseInt(pk);\r\n    var prAmmount = this.vehicleForm.value.premiunAmount;\r\n    prAmmount = parseInt(prAmmount);\r\n    const renewData =\r\n    this.vehicleForm.value.year +\r\n    \"-\" +\r\n    this.vehicleForm.value.month ;\r\n   \r\n  this.vehicleForm.get(\"make\").setValue(renewData);  \r\n // delete this.vehicleForm.value.month;  \r\n    let payload = {\r\n      loanAccountId: this.loanaccountID,\r\n      insuranceDetails: this.vehicleForm.value.insuranceDetails,\r\n      distanceRun: this.vehicleForm.value.distanceRun,\r\n      engineNumber: this.vehicleForm.value.engineNumber,\r\n\r\n      expectedSellingPrice: pk,\r\n     // loanAmount: pk,\r\n      insuranceCompany: this.vehicleForm.value.insuranceCompany,\r\n      purposeOfLoan: this.vehicleForm.value.purposeOfLoan,\r\n      model: this.vehicleForm.value.model,\r\n     // policyCommencementDate:this.vehicleForm.value.policyCommencementDate==null? dateStringWithTime1 :null,\r\n      policyNumber: this.vehicleForm.value.policyNumber,\r\n     // policyRenewalDate:this.vehicleForm.value.policyRenewalDate==null?  dateStringWithTime2 :null,\r\n      policyRenewalDate : this.datepipe.transform(this.vehicleForm.value.policyRenewalDate, 'yyyy-MMM-dd'),\r\n      //policyCommencementDate:this.convertDate(this.vehicleForm.value.policyCommencementDate),\r\n      policyCommencementDate : this.datepipe.transform(this.vehicleForm.value.policyCommencementDate, 'yyyy-MMM-dd'),\r\n      premiunAmount: prAmmount,\r\n      premiunFrequency: this.vehicleForm.value.premiunFrequency,\r\n      productName: this.vehicleForm.value.productName,\r\n      registrationCity: this.vehicleForm.value.registrationCity,\r\n      registrationNumber: this.vehicleForm.value.registrationNumber,\r\n      registrationState: this.vehicleForm.value.registrationState,\r\n      vehicleClass: this.vehicleForm.value.vehicleClass,\r\n      chassisNumber: this.vehicleForm.value.chassisNumber,\r\n      maker:this.vehicleForm.value.maker,\r\n      hypothecatedBranch: this.vehicleForm.value.hypothecatedBranch,\r\n      make:renewData,\r\n    };\r\n    console.log('payload', payload);\r\n    this.apiService.saveVehicleDetails(payload).subscribe((data) => {\r\n      console.log('data', data);\r\n      if (data != null) {\r\n        this.snack.open('Vehicle Details saved Successfully', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right',\r\n        });\r\n      }\r\n      if (data === 500) {\r\n        this.snack.open(\r\n          'Not able to connect to server!',\r\n          'INTERNAL SERVER ERROR',\r\n          {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right',\r\n          }\r\n        );\r\n        console.log('500 error');\r\n      }\r\n    });\r\n\r\n    this.next();\r\n  }\r\n\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n    if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/asset_screen.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Vehicle Details</b></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">      \r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Vehicle Information</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form *ngIf=\"vehicleForm\" [formGroup]=\"vehicleForm\">\r\n          <div fxLayout=\"column\">\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Product Name*</mat-label>    \r\n                  <input\r\n                  formControlName=\"productName\" autocomplete=\"off\"\r\n                  matInput\r\n                  name=\"productName\"\r\n                  class=\"alignment\"\r\n                  placeholder=\"Product Name\"\r\n                   oninput=\"this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')\"\r\n                />        \r\n                <mat-error\r\n                *ngIf=\"\r\n                  !vehicleForm.get('productName').valid &&\r\n                  vehicleForm.get('productName').touched\r\n                \"\r\n              >\r\n                 Product Name is Required!\r\n              </mat-error> \r\n                  </mat-form-field>        \r\n               \r\n                <!-- <mat-error *ngIf=\"!mandate.controls['remarks'].valid  && mandate.controls['remarks'].touched\">\r\n                                Remarks is Required!</mat-error> -->\r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Hypothecated Branch</mat-label>\r\n                  <mat-select name=\"hypothecatedBranch\" placeholder=\"Select\" \r\n                              disableOptionCentering formControlName=\"hypothecatedBranch\">\r\n                    <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option value=\"test\">test</mat-option>\r\n                  </mat-select>                 \r\n                </mat-form-field>                \r\n              </div>\r\n            </div>\r\n\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Vehicle Class*</mat-label>\r\n                  <mat-select name=\"vehicleClass\" placeholder=\"Select\"\r\n                  formControlName=\"vehicleClass\" disableOptionCentering>\r\n                  <mat-option >Select</mat-option>\r\n                  <mat-option value=\"New\">New</mat-option>\r\n                  <mat-error\r\n                  *ngIf=\"\r\n                    !vehicleForm.get('vehicleClass').valid &&\r\n                    vehicleForm.get('vehicleClass').touched\r\n                  \"\r\n                >\r\n                 Vehicle Class is Required!\r\n                </mat-error>\r\n                </mat-select>              \r\n                  </mat-form-field>      \r\n                \r\n               \r\n              </div>\r\n\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Maker*</mat-label>\r\n                  <input\r\n                  formControlName=\"maker\" autocomplete=\"off\"\r\n                    matInput\r\n                    name=\"maker\"\r\n                    class=\"alignment\"\r\n                    placeholder=\"Maker\"\r\n                    oninput=\"this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')\"\r\n                  />   \r\n                  <mat-error\r\n                  *ngIf=\"\r\n                    !vehicleForm.get('maker').valid &&\r\n                    vehicleForm.get('maker').touched\r\n                  \"\r\n                   >\r\n                  Maker is Required!\r\n                </mat-error>           \r\n                </mat-form-field>                 \r\n              </div>\r\n            </div>\r\n\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Model</mat-label>\r\n                  <input\r\n                    formControlName=\"model\" autocomplete=\"off\"\r\n                    matInput\r\n                    name=\"model\"\r\n                    class=\"alignment\"\r\n                    placeholder=\"Model\"\r\n                    oninput=\"this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')\"\r\n                  />               \r\n                </mat-form-field>                \r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"25%\">\r\n                  <mat-hint class=\"size\"><b>Maker MM/YYYY *</b></mat-hint>\r\n                </div>            \r\n                <div class=\"flex-grow-1 gap\" fxflex=\"20%\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Year* </mat-label>          \r\n                    <mat-select name=\"year\" placeholder=\"YYYY\" formControlName=\"year\" disableOptionCentering>\r\n                      <mat-option>Select</mat-option>                       \r\n                      <mat-option *ngFor=\"let year of years\" [value]=\"year\">{{\r\n                        year\r\n                      }}</mat-option>\r\n                    </mat-select>\r\n                  </mat-form-field>\r\n                </div>\r\n                <div class=\"flex-grow-1 gap\" fxflex=\"25%\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">  \r\n                    <mat-label>Month* </mat-label>               \r\n                    <mat-select name=\"month\" placeholder=\"MM\" formControlName=\"month\" disableOptionCentering>\r\n                      <mat-option>Select</mat-option>\r\n\r\n                      <mat-option\r\n                        *ngFor=\"let month of months\"\r\n                        [value]=\"month\"\r\n                        >{{ month }}</mat-option\r\n                      >\r\n                    </mat-select>\r\n                  </mat-form-field>\r\n                </div>                \r\n              </div>             \r\n              \r\n            </div>\r\n\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Chassis Number</mat-label>\r\n                  <input\r\n                    formControlName=\"chassisNumber\" autocomplete=\"off\"\r\n                    maxlength=\"17\"\r\n                    matInput\r\n                    name=\"a_sig\"\r\n                    class=\"alignment\"\r\n                    placeholder=\"Chassis Number\"\r\n                    oninput=\"this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')\"\r\n                    image.png\r\n                  />              \r\n                </mat-form-field>               \r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Engine Number</mat-label>\r\n                  <input\r\n                    matInput\r\n                    formControlName=\"engineNumber\" autocomplete=\"off\"\r\n                    maxlength=\"12\"\r\n                    name=\"a_sig\"\r\n                    class=\"alignment\"\r\n                    placeholder=\"Engine Number\"\r\n                    oninput=\"this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')\"\r\n                  />             \r\n                </mat-form-field>                \r\n              </div>\r\n            </div>\r\n\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Registration Number</mat-label>\r\n                  <input\r\n                    formControlName=\"registrationNumber\" autocomplete=\"off\"\r\n                    matInput\r\n                    name=\"a_sig\"\r\n                    class=\"alignment\"\r\n                    placeholder=\"Registration Number\"\r\n                    oninput=\"this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')\"\r\n                  />            \r\n                </mat-form-field>               \r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Registration State</mat-label>\r\n                  <mat-select disableOptionCentering\r\n                  name=\"registrationState\" placeholder=\"Select\"\r\n                  formControlName=\"registrationState\"\r\n                  (selectionChange)=\"getCityName($event.value)\"\r\n                >\r\n                  <mat-option value=\"\">Select</mat-option>\r\n                  <mat-option\r\n                    *ngFor=\"let state of arrayState\"\r\n                    [value]=\"state\"\r\n                    >{{ state }}</mat-option\r\n                  >\r\n                </mat-select>          \r\n                </mat-form-field>                 \r\n              </div>\r\n            </div>\r\n\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Registration City</mat-label>\r\n                  <mat-select disableOptionCentering\r\n                  name=\"registrationCity\" placeholder=\"Select\"\r\n                  formControlName=\"registrationCity\"\r\n                >\r\n                  <mat-option value=\"\">Select</mat-option>\r\n                  <mat-option\r\n                    *ngFor=\"let city of arrayCity\"\r\n                    [value]=\"city.value1\"\r\n                    >{{ city.value1 }}</mat-option\r\n                  >\r\n                </mat-select>          \r\n                </mat-form-field>             \r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Expected Selling Price</mat-label>\r\n                  <input\r\n                    matInput\r\n                    formControlName=\"expectedSellingPrice\" autocomplete=\"off\"\r\n                    (keypress)=\"_keyPress($event)\"\r\n                    name=\"a_sig\"\r\n                    class=\"alignment\"\r\n                    placeholder=\"Expected Selling Price\"\r\n                    oninput=\"this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')\"\r\n                  />        \r\n                </mat-form-field>                \r\n              </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"49.5%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Distance Run</mat-label>\r\n                  <input\r\n                    matInput\r\n                    formControlName=\"distanceRun\" autocomplete=\"off\"\r\n                    name=\"a_sig\"\r\n                    class=\"alignment\"\r\n                    placeholder=\"Distance Run\"\r\n                    oninput=\"this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')\"\r\n                  />      \r\n                </mat-form-field>                \r\n              </div>\r\n            </div>\r\n            <!-- <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" > -->\r\n            <!-- <div class=\"flex-grow-1\">\r\n\r\n                            <mat-hint>Hypothecated Branch</mat-hint>\r\n                            <mat-card class=\"widthCard inputMatName\">\r\n                              <mat-select name=\"mod\" disableOptionCentering>\r\n                                <mat-option value=\"\">Select</mat-option>\r\n                                <mat-option>test</mat-option>\r\n                              </mat-select>\r\n                            </mat-card>\r\n                           \r\n                          </div>\r\n                           -->\r\n\r\n            <!--    <div class=\"flex-grow-1\">\r\n                              <mat-hint>Make MM/YYYY</mat-hint>\r\n                                <div fxLayout=\"row\" fxLayoutGap=\"5px\" fxLayoutAlign=\"start center\">\r\n                                  <div fxFlex=\"30\">\r\n                                  \r\n                                    <mat-card class=\"widthCard inputMatName1\" class=\"full-width\">\r\n                                     <mat-select name=\"mod\" disableOptionCentering>\r\n                                       <mat-option>Make MM</mat-option>\r\n                                       <mat-option value=\"10px\">10</mat-option>\r\n                                             <mat-option value=\"12\">12</mat-option>\r\n                                             <mat-option value=\"14\">14</mat-option>\r\n                                             <mat-option value=\"16\">16</mat-option>\r\n                                             <mat-option value=\"18\">18</mat-option>\r\n                                             <mat-option value=\"20\">20</mat-option>\r\n                                     </mat-select>\r\n                                   </mat-card>\r\n                               \r\n                                 </div>\r\n                                 <div fxFlex=\"flex-grow-1\">\r\n                                  \r\n                                  <mat-card class=\"widthCard inputMatName1\" class=\"full-width\">\r\n                                   <mat-select name=\"mod\" disableOptionCentering>\r\n                                     <mat-option>Make YYYY</mat-option>\r\n                                     <mat-option value=\"10px\">10</mat-option>\r\n                                           <mat-option value=\"12\">12</mat-option>\r\n                                           <mat-option value=\"14\">14</mat-option>\r\n                                           <mat-option value=\"16\">16</mat-option>\r\n                                           <mat-option value=\"18\">18</mat-option>\r\n                                           <mat-option value=\"20\">20</mat-option>\r\n                                   </mat-select>\r\n                                 </mat-card>\r\n                             \r\n                               </div>\r\n                                  \r\n                                </div>\r\n                               \r\n                            </div>\r\n\r\n                            \r\n                            \r\n                          \r\n                            \r\n\r\n                        </div>-->\r\n          </div>\r\n          \r\n          <!-- Insurance -->\r\n\r\n          <mat-card-title>\r\n            <fieldset class=\"alignChange\">\r\n            <legend  visible=\"true\">Insurance Details</legend>\r\n            </fieldset>\r\n    \r\n          </mat-card-title>\r\n\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"start center\"\r\n            class=\"mt-16\"\r\n          >\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Insurance Details</mat-label>\r\n                  <input\r\n                    formControlName=\"insuranceDetails\" autocomplete=\"off\"\r\n                    matInput\r\n                    name=\"a_sig\"\r\n                    class=\"alignment\"\r\n                    placeholder=\"Insurance Details\"\r\n                    oninput=\"this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')\"\r\n                  />     \r\n                </mat-form-field>               \r\n                <!-- <mat-error\r\n                  *ngIf=\"\r\n                    !vehicleForm.get('insuranceDetails').valid &&\r\n                    vehicleForm.get('insuranceDetails').touched\r\n                  \"\r\n                >\r\n                  &nbsp;&nbsp; Insurance Details is Required!\r\n                </mat-error> -->\r\n              </div>\r\n\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Policy Number</mat-label>\r\n                  <input\r\n                    formControlName=\"policyNumber\" autocomplete=\"off\"\r\n                    minlength=\"6\"\r\n                    maxlength=\"9\"\r\n                    (keypress)=\"_keyPress($event)\"\r\n                    matInput\r\n                    name=\"a_sig\"\r\n                    class=\"alignment\"\r\n                    placeholder=\"Policy Number\"\r\n                    (ngModelChange)=\"changeInput($event)\"\r\n                  />    \r\n                </mat-form-field>      \r\n                \r\n                <!-- <mat-error\r\n                  *ngIf=\"\r\n                    vehicleForm.get('policyNumber').touched && policyNumber\r\n                  \"\r\n                >\r\n                  &nbsp;&nbsp; policy number is required!\r\n                </mat-error> -->\r\n                <mat-error\r\n                  *ngIf=\"\r\n                    !vehicleForm.get('policyNumber').valid &&\r\n                    vehicleForm.get('policyNumber').errors.minlength\r\n                  \"\r\n                >\r\n                  Enter the valid policy number {{ minlength }} .\r\n                </mat-error>\r\n              </div>\r\n\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Premium Amount</mat-label>\r\n                  <input\r\n                  formControlName=\"premiunAmount\" autocomplete=\"off\"\r\n                  (keypress)=\"_keyPress($event)\"\r\n                  matInput\r\n                  name=\"a_sig\"\r\n                  class=\"alignment\"\r\n                  placeholder=\"Premium Amount\"\r\n                />   \r\n                </mat-form-field>                 \r\n                <!-- <mat-error\r\n                  *ngIf=\"\r\n                    !vehicleForm.get('premiunAmount').valid &&\r\n                    vehicleForm.get('premiunAmount').touched\r\n                  \"\r\n                >\r\n                  &nbsp;&nbsp; Premium Amount is Required!\r\n                </mat-error> -->\r\n              </div>\r\n            </div>\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Insurance Company</mat-label>\r\n                  <input\r\n                  formControlName=\"insuranceCompany\" autocomplete=\"off\"\r\n                  matInput\r\n                  name=\"a_sig\"\r\n                  class=\"alignment\"\r\n                  placeholder=\"Insurance Company\"\r\n                  oninput=\"this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')\"\r\n                /> \r\n                </mat-form-field>  \r\n                \r\n              </div>\r\n\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Policy Commencement Date *</mat-label>\r\n                  <input\r\n                    matInput\r\n                    name=\"policyCommencementDate\" autocomplete=\"off\"\r\n                    class=\"alignment\"\r\n                    formControlName=\"policyCommencementDate\"\r\n                    readonly\r\n                    placeholder=\"DD/MM/YYYY\"\r\n                    [matDatepicker]=\"appDatepicker1\"\r\n                    disableOptionCentering\r\n                  />\r\n                  <div fxFlex=\"8%\" id=\"toggle\" class=\"datechange\">\r\n                    <mat-datepicker-toggle\r\n                      matSuffix\r\n                      [for]=\"appDatepicker1\"\r\n                    ></mat-datepicker-toggle>\r\n                    <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                  </div>\r\n                </mat-form-field>                 \r\n                <!-- <mat-error\r\n                  *ngIf=\"\r\n                    !vehicleForm.get('policyCommencementDate').valid &&\r\n                    vehicleForm.get('policyCommencementDate').touched\r\n                  \"\r\n                >\r\n                  &nbsp;&nbsp; Policy Commencment Date is Required!\r\n                </mat-error> -->\r\n              </div>\r\n              <!-- <div class=\"flex-grow-1\">\r\n                          <mat-hint>Application Date*</mat-hint>\r\n                          <mat-card class=\"inputMatName1\" style=\"height:48px;\">\r\n                              <input matInput name=\"date\" class=\"alignment\" formControlName=\"applicationDate\" readonly\r\n                              [matDatepicker]=\"appDatepicker\" [min]=\"minDate\" [max]=\"maxDate\" />\r\n                            \r\n                              <div fxFlex=\"8%\" id=\"toggle\">\r\n                                <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                                <mat-datepicker #appDatepicker></mat-datepicker>\r\n                              </div>\r\n                          </mat-card>\r\n                         <mat-error *ngIf=\"!loanForm.get('applicationDate').valid  && loanForm.get('applicationDate').touched\">\r\n                              Application Date is Required!</mat-error>\r\n                              \r\n              \r\n                              \r\n                        </div>\r\n           -->\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Premium Frequency</mat-label>\r\n                  <mat-select placeholder=\"Premium Frequency\" name=\"premiunFrequency\" disableOptionCentering formControlName=\"premiunFrequency\">\r\n                    <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option value=\"Monthly\">Monthly</mat-option>\r\n                    <mat-option value=\"Quaterly\">Quaterly</mat-option>\r\n                    <mat-option value=\"Half-yearly\">Half-yearly</mat-option>\r\n                    <mat-option value=\"Yearly\">Yearly</mat-option>\r\n                  </mat-select>\r\n                  <!-- <input\r\n                    matInput\r\n                    formControlName=\"premiunFrequency\" autocomplete=\"off\"\r\n                    name=\"premiunFrequency\"\r\n                    class=\"alignment\"\r\n                    placeholder=\"Premium Frequency\"\r\n                    oninput=\"this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')\"\r\n                  /> -->\r\n                </mat-form-field> \r\n                \r\n                <!-- <mat-error\r\n                  *ngIf=\"\r\n                    !vehicleForm.get('premiunFrequency').valid &&\r\n                    vehicleForm.get('premiunFrequency').touched\r\n                  \"\r\n                >\r\n                  &nbsp;&nbsp; Premium Frequency is Required!\r\n                </mat-error> -->\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div fxLayout=\"row\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"49.5%\">\r\n              <div class=\"flex-grow-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>Policy Renewal Date *</mat-label>\r\n                  <input\r\n                  matInput\r\n                  name=\"policyRenewalDate\" autocomplete=\"off\"\r\n                  class=\"alignment\"\r\n                  formControlName=\"policyRenewalDate\" [min]=\"vehicleForm.get('policyCommencementDate').value\"\r\n                  readonly\r\n                  placeholder=\"DD/MM/YYYY\"\r\n                  [matDatepicker]=\"appDatepicker2\"\r\n                  disableOptionCentering\r\n                />\r\n                  <div fxFlex=\"8%\" id=\"toggle\" class=\"datechange\">\r\n                    <mat-datepicker-toggle\r\n                      matSuffix\r\n                      [for]=\"appDatepicker2\"\r\n                    ></mat-datepicker-toggle>\r\n                    <mat-datepicker #appDatepicker2></mat-datepicker>\r\n                  </div>\r\n                </mat-form-field>                \r\n                \r\n                <!-- <mat-error\r\n                  *ngIf=\"\r\n                    !vehicleForm.get('policyRenewalDate').valid &&\r\n                    vehicleForm.get('policyRenewalDate').touched\r\n                  \"\r\n                >\r\n                  &nbsp;&nbsp; Policy Renewal Date is Required!\r\n                </mat-error> -->\r\n              </div>\r\n            </div>\r\n          </div>         \r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n    <div\r\n            fxLayout=\"row\"\r\n            fxLayoutAlign=\"space-between center\"\r\n            fxLayoutGap=\"16px\"\r\n            class=\"mt-32\"\r\n          >\r\n            <button mat-button class=\"Backbtn\" rounded  (click)=\"goBack()\">\r\n              Back\r\n            </button>\r\n            <button\r\n              mat-raised-button class=\"Nextbtn\"\r\n              color=\"primary\"\r\n              [disabled]=\"!vehicleForm.valid\"\r\n              (click)=\"submitForm()\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-offer-accept-reject',\r\n  templateUrl: './offer-accept-reject.component.html',\r\n  styleUrls: ['./offer-accept-reject.component.scss']\r\n})\r\nexport class OfferAcceptRejectComponent implements OnInit {\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  offerForm: FormGroup;\r\n  submitted: boolean;\r\n  isOfferAcceptReject: boolean;\r\n  loanaccountID: any;\r\n  loanInfo: any;\r\n\r\n  constructor(private api: ApiService,private formBuilder: FormBuilder, private router: Router,\r\n     private ls: LocalStoreService,private dialogService : DialogService,private snack: MatSnackBar) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isOfferAcceptReject = this .ls.getItem('OFFER_ACCEPT_REJECT_DONE');\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanaccountID = this.loanInfo.loanAccountId;\r\n    }\r\n    setTimeout(() => {\r\n      if(this.isOfferAcceptReject==false){\r\n        this.buildofferForm();\r\n        }\r\n        else{\r\n         this.getOfferAcceptReject();\r\n      }\r\n    }, 10);\r\n  \r\n}\r\n\r\n     getOfferAcceptReject() {\r\n     this.api.getOfferAcceptReject('200')\r\n     .subscribe((resp: any) => {\r\n       console.log(resp);\r\n       this.buildofferForm(resp,true);\r\n   });\r\n}\r\n  buildofferForm(data?,Response?:boolean) {\r\n    console.log(data);\r\n    this.offerForm = this.formBuilder.group({\r\n      accept:[''],\r\n      applicantName: [''],\r\n      loanTenure:[0],\r\n      installmentFrequency:[''],\r\n      installmentType:[''],\r\n      principal:[0],\r\n      installmentAmount:[0],\r\n      offerIssueDate:[''],\r\n      approvedLoanAmount:[0],\r\n      rateOfInterest:[0],\r\n      interest:[0],\r\n      charges:[0],\r\n      generateOffer:[''],\r\n      offerExpiryDate:[''],   \r\n      dateOfOfferAcceptOrReject:[''],\r\n      loanAccountId:[10],\r\n      offerAcceptOrRejectId:['']\r\n    });\r\n }\r\n\r\n_keyPress1(event: any) {\r\n  const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  if (!pattern.test(inputChar)) {\r\n    event.preventDefault();\r\n  }\r\n  const input = event.target.value;\r\n  if (input.length === 0 && event.which === 48) {\r\n    event.preventDefault();\r\n  }\r\n}\r\nletterOnly(event) {\r\n  var charCode = event.keyCode;\r\n  if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n    return true;\r\n  else\r\n    return false;\r\n} \r\ngoBack() {\r\n  this.router.navigate(['loan/account/account-creation-stage']);\r\n}\r\n\r\n\r\nonSubmit() {\r\n  this.offerForm.value.offerIssueDate= moment(this.offerForm.value.offerIssueDate).format('YYYY-MMM-DD HH:mm:ss');\r\n  this.offerForm.value.generateOffer= moment(this.offerForm.value.generateOffer).format('YYYY-MMM-DD HH:mm:ss\"');\r\n  this.offerForm.value.offerExpiryDate= moment(this.offerForm.value.offerExpiryDate).format('YYYY-MMM-DD HH:mm:ss');\r\n  this.offerForm.value.dateOfOfferAcceptOrReject= moment(this.offerForm.value.dateOfOfferAcceptOrReject).format('YYYY-MMM-DD HH:mm:ss');\r\n    this.api.saveOfferAcceptReject(this.offerForm.value).subscribe((data: any) => {\r\n      console.log(data);\r\n     \r\n      if (data === 200 || data !== null) {\r\n        this.snack.open(' Credit Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        this.ls.setItem('OFFER_ACCEPT_REJECT_DONE', true);\r\n        this.router.navigate(['loan/account/account-creation-stage/account-create-details']);\r\n      }\r\n      // else if (data === 500) {\r\n      //   this.snack.open('Not able to connect to server!', 'INTERNAL SERVER ERROR', {\r\n      //     duration: 4000,\r\n      //     verticalPosition: 'top',\r\n      //     horizontalPosition: 'right'\r\n      //   });\r\n      // }\r\n    }, err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n \r\n\r\n}\r\n","<div fxLayout=\"column\">\r\n  <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/offer.png\" alt=\"\" class=\"w-80\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"card-title-text\"><h1>Offer Accept/Reject</h1></div>\r\n      </div>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"column\">\r\n  <form fxLayout=\"column\" [formGroup]=\"offerForm\">\r\n      <div fxFlex=\"100\">\r\n          <mat-card fxLayout=\"column\" style=\"border-radius: 30px; margin-right: 1.5cm;\">\r\n              <mat-card-title >\r\n                  <div class=\"card-title-text\">Offer Accept/Reject<mat-divider></mat-divider></div>\r\n              </mat-card-title>\r\n\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Applicant Name*</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <input matInput name=\"applicantName\"  class=\"alignment\" type=\"text\" \r\n                          formControlName=\"applicantName\" placeholder=\"Applicant Name\"/>\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Approved Loan Amount*</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                        <input matInput  class=\"alignment\" type=\"text\" name=\"loanAmmount\"\r\n                         (keypress)=\"_keyPress1($event)\"  \r\n                         maxlength=\"16\" formControlName=\"approvedLoanAmount\" />\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n              </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Loan Tenure</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"loanTenure\"\r\n                          formControlName=\"loanTenure\"  placeholder=\"in years\"/>\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Installment Type</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                        <input matInput  class=\"alignment\" type=\"text\" name=\"installmentType\"\r\n                        formControlName=\"installmentType\" />\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n              </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Installment Frequency</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"installmentFrequency\"\r\n                          formControlName=\"installmentFrequency\" />\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Rate of Interest (in%)</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                        <input matInput  class=\"alignment\" type=\"text\" name=\"loanAmmount\"\r\n                        formControlName=\"rateOfInterest\"  />\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n              </div>\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Approved Loan Amount</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                          <input matInput  class=\"alignment\" type=\"text\" name=\"approvedloanAmmount\"\r\n                          formControlName=\"approvedLoanAmount\" />\r\n                      </mat-card>\r\n                     \r\n                    </div>\r\n                    <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Loan Tenure</label>\r\n                      <mat-card class=\"inputMatName\">\r\n                        <input matInput  class=\"alignment\" type=\"text\" name=\"loanAmmount\"\r\n                        formControlName=\"loanTenure\"   />\r\n                      </mat-card>\r\n                    \r\n                     \r\n                    </div>\r\n              </div>\r\n\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <label  class=\"hint\">Installment Type</label>\r\n                  <mat-card class=\"inputMatName\">\r\n                      <input matInput  class=\"alignment\" type=\"text\" name=\"installmentType\"\r\n                      formControlName=\"installmentType\"  />\r\n                  </mat-card>\r\n                 \r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <label  class=\"hint\">Rate of Interest</label>\r\n                  <mat-card class=\"inputMatName\">\r\n                    <input matInput  class=\"alignment\" type=\"text\" name=\"loanAmmount\"\r\n                    formControlName=\"rateOfInterest\"  />\r\n                  </mat-card>\r\n                 \r\n                </div>\r\n          </div>\r\n\r\n          <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <label  class=\"hint\">Principal</label>\r\n                <mat-card class=\"inputMatName\">\r\n                    <input matInput  class=\"alignment\" type=\"text\" name=\"principal\"\r\n                    formControlName=\"principal\"/>\r\n                </mat-card>\r\n               \r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                <label  class=\"hint\">Interest</label>\r\n                <mat-card class=\"inputMatName\">\r\n                  <input matInput  class=\"alignment\" type=\"text\" name=\"interest\"\r\n                  formControlName=\"interest\" />\r\n                </mat-card>\r\n               \r\n              </div>\r\n        </div>\r\n\r\n        <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n          <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n              <label  class=\"hint\">Installment Amount</label>\r\n              <mat-card class=\"inputMatName\">\r\n                  <input matInput  class=\"alignment\" type=\"text\" name=\"installmentAmount\"\r\n                  formControlName=\"installmentAmount\"/>\r\n              </mat-card>\r\n             \r\n            </div>\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n              <label  class=\"hint\">Charges</label>\r\n              <mat-card class=\"inputMatName\">\r\n                <input matInput  class=\"alignment\" type=\"text\" name=\"charges\"\r\n                formControlName=\"charges\" />\r\n              </mat-card>\r\n             \r\n            </div>\r\n      </div>\r\n\r\n              <div fxFlex=\"70%\" fxLayoutGap=\"10px\">\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Offer Issue Date</label>\r\n                      <mat-card class=\"inputMatLastName\" style=\"height: 54px;\">\r\n                            <input matInput  id=\"dob\" class=\"alignment\" name=\"OpinionDate\" readonly\r\n                              [matDatepicker]=\"picker\"  value=\"OpinionDate\" placeholder=\"DD/MM/YYYY\"\r\n                              formControlName=\"offerIssueDate\">\r\n                          \r\n                              <mat-datepicker-toggle matSuffix [for]=\"picker\" >\r\n                              </mat-datepicker-toggle>\r\n            \r\n                              <mat-datepicker #picker>\r\n                              </mat-datepicker>\r\n                            \r\n            \r\n                       </mat-card>\r\n        \r\n                  </div>\r\n                  <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                      <label  class=\"hint\">Generate Offer</label>\r\n                      <mat-card class=\"inputMatName\" style=\"height: 54px;\">\r\n                        <input matInput  id=\"dob\" class=\"alignment\" name=\"OpinionDate\" readonly\r\n                        [matDatepicker]=\"datapicker\"  value=\"OpinionDate\" placeholder=\"DD/MM/YYYY\"\r\n                        formControlName=\"generateOffer\">\r\n                   \r\n                        <mat-datepicker-toggle matSuffix [for]=\"datapicker\" >\r\n                        </mat-datepicker-toggle>\r\n      \r\n                        <mat-datepicker #datapicker>\r\n                        </mat-datepicker>\r\n                   \r\n                      </mat-card>\r\n                   </div>\r\n                       \r\n              </div>\r\n\r\n\r\n              <!--sub page-->\r\n              \r\n              <fieldset style=\"border-top: 1px solid lightgray;margin-left: 20px; margin-right: 20px;\">\r\n                <legend visible=\"true\">Offer Accept/Reject</legend>\r\n\r\n                <div fxLayout=\"row wrap\">\r\n              <div fxFlex=\"100%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <label  class=\"hint\">Customer Response</label>\r\n                    <mat-card class=\"inputMatLastName\" >\r\n                          <mat-select matInput disableOptionCentering class=\"alignment\" name=\"customerResponse\"\r\n                             placeholder=\"\" formControlName=\"accept\">\r\n                             <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option value=\"accept\">Accept</mat-option>\r\n                          </mat-select>\r\n          \r\n                     </mat-card>\r\n      \r\n                </div>\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                    <label  class=\"hint\">Date Of Offer Accept/Reject</label>\r\n                    <mat-card class=\"inputMatName\" style=\"height: 54px;\">\r\n                      <input matInput  id=\"dob\" class=\"alignment\" name=\"OpinionDate\" readonly\r\n                      [matDatepicker]=\"appDatapicker\"  value=\"OpinionDate\" placeholder=\"DD/MM/YYYY\"\r\n                      formControlName=\"dateOfOfferAcceptOrReject\">\r\n                  \r\n                      <mat-datepicker-toggle matSuffix [for]=\"appDatapicker\" >\r\n                      </mat-datepicker-toggle>\r\n    \r\n                      <mat-datepicker #appDatapicker>\r\n                      </mat-datepicker>\r\n                 \r\n                    </mat-card>\r\n                 </div>\r\n               \r\n                  \r\n            </div>\r\n\r\n            <div fxFlex=\"100%\" fxLayoutGap=\"10px\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\" >\r\n                  <label  class=\"hint\">Offer Expiry Date</label>\r\n                  <mat-card class=\"inputMatName\" style=\"height: 54px;\">\r\n                    <input matInput  id=\"dob\" class=\"alignment\" name=\"offerExpiryDate\" readonly\r\n                    [matDatepicker]=\"expiryDate\"  value=\"OpinionDate\" placeholder=\"DD/MM/YYYY\"\r\n                    formControlName=\"offerExpiryDate\">\r\n                \r\n                    <mat-datepicker-toggle matSuffix [for]=\"expiryDate\" >\r\n                    </mat-datepicker-toggle>\r\n  \r\n                    <mat-datepicker #expiryDate>\r\n                    </mat-datepicker>\r\n                \r\n                  </mat-card>\r\n                 \r\n                </div>\r\n                \r\n              \r\n          </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n\r\n                \r\n              \r\n                 \r\n              \r\n                \r\n              \r\n              \r\n             \r\n        \r\n    \r\n\r\n\r\n\r\n\r\n\r\n          </mat-card>\r\n\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n  \r\n        <button mat-button (click)=\"goBack()\" color=\"primary\">\r\n          Back\r\n        </button>\r\n        <button mat-raised-button (click)=\"onSubmit()\" color=\"primary\" [disabled]=\"offerForm.invalid\">\r\n          Done\r\n        </button>\r\n        <!-- [disabled]=\"accountForm.invalid\"  || isCifValid  -->\r\n      </div>\r\n  </form>\r\n\r\n</div>","\r\nimport { ChangeDetectorRef, Component, ElementRef, OnInit, Renderer2 } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { AssessmentReportSummary } from 'app/shared/models/AssessmentReportSummary';\r\nimport { QualitativeScoreboardSummary } from 'app/shared/models/qualitativeScoreboardSummary';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from '../../account.service';\r\n// import { AccountService } from '../../account.service';\r\n// import { UrlService } from '../../url.service';\r\n\r\n@Component({\r\n   selector: 'app-loan-qualitative-scoreboard',\r\n   templateUrl: './loan-qualitative-scoreboard.component.html',\r\n   styleUrls: ['./loan-qualitative-scoreboard.component.scss']\r\n})\r\nexport class LoanQualitativeScoreboardComponent implements OnInit {\r\n  qsForm: FormGroup;\r\n  qsFormArray: FormArray;\r\n  accountId: any;\r\n  accountType: any;\r\n  loggedInUser: any;\r\n  sbMultiSelectAnswer: any[] = [];\r\n  scoreboardQuestionsArray: { applicantId: any, scoreCardDetails: any[],scorecardQuestion:any }[] = [];\r\n  scoreCardMappingArray: { applicantId: any, scoreCardDetails: { scoreCardQuestionId: any, scorecardAnswer: any, scoreCardMappingId: any ,scoreData :any }[] }[] = [];\r\n  numberOfApplicant = new FormControl('');\r\n  scoreCardId = new FormControl('');\r\n  assessmentReportSummary: AssessmentReportSummary;\r\n  qualitativeScoreboardSummary: QualitativeScoreboardSummary;\r\n  isDataSaved: boolean = false;\r\n  disableDoneBtn: boolean = true;\r\n  anyErrorExist: boolean = false;\r\n  isQualitativeScreen: boolean = false;\r\n  isQualitative: any;\r\n  previousUrl: string = '';\r\n  showEditOption: boolean = false;\r\n  overDraftByStatus:boolean;\r\n  no_of_applicants: any;\r\n  isLoanQualitativeScoreboard:boolean=false;\r\n  loanAccountId: any;\r\n  loanaccountID: any;\r\n  sA: any;\r\n  scoreCardDetails:any;\r\n  loanInfo: any;\r\n  isLoanAssessmentDetails: any;\r\n  inputValue: any;\r\n  scorevalue: any;\r\n  applicantId: any;\r\n  sbSwlwctAnswer: any[];\r\n  sbSelectAnswer1: any;\r\n  sbSelectAnswer: string=\"\";\r\n  constructor\r\n    (\r\n      private router: Router,\r\n      private api: ApiService,\r\n      private snack: MatSnackBar,\r\n      private fb: FormBuilder,\r\n      private ls: LocalStoreService,\r\n      //private accountService: AccountService,\r\n      private elRef: ElementRef,\r\n      private renderer: Renderer2,\r\n      //private urlService: UrlService,\r\n      private cdr:ChangeDetectorRef,private accountService:AccountService\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanAccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    console.log(\"LOAN ACCOUNT ID:: \",this.loanaccountID);\r\n    this.accountType = this.ls.getItem('accountType');\r\n    this.loggedInUser = this.ls.getItem('ICUST_USER');\r\n    this.isQualitative = localStorage.getItem('Status');\r\n    this.no_of_applicants = this.ls.getItem('NO_OF_APPLICANTS');\r\n    console.log(this.no_of_applicants);\r\n    console.log(this.loggedInUser);\r\n    let isScoreCardScreen: boolean = JSON.parse(this.ls.getItem('ASSESSMENT_QA_DONE'));\r\n\r\n    this.isLoanQualitativeScoreboard=this.ls.getItem('LOAN_QUALITATIVE_SCOREBOARD_DONE');\r\n    \r\n    if (this.loanaccountID != null && this.isLoanQualitativeScoreboard) {       \r\n      this.showEditOption = true;\r\n      this.isQualitativeScreen = true;\r\n      this.getAllQualitative();\r\n    } else {\r\n      console.log(\"else\");\r\n      this.showEditOption = false;\r\n      this.loadData();\r\n    }\r\n  //  this.getAccountDetails();\r\n \r\n  //  this.accountType == \"current\" ? this.accountType = \"saving\" : this.accountType = \"saving\";//This line because we have backend data only for savings. This line is temporary.\r\n  // this.accountType == \"current\" ? this.accountType = \"loan\" : this.accountType = \"loan\";\r\n   /// this.accountType == \"current\" ? this.accountType = \"Home Loan\" : this.accountType = \"Home Loan\";\r\n   \r\n    // this.urlService.previousUrl$\r\n    //   .subscribe((previousUrl: string) => {\r\n    //     this.previousUrl = previousUrl\r\n    //   });\r\n\r\n   \r\n\r\n  }\r\n  counter(i: number) {\r\n    return new Array(i);\r\n}\r\n  loadData(){\r\n    this.api.getScorecardQuestions(this.accountType).subscribe((response) => {  \r\n      console.log(response);\r\n\r\n    \r\n      console.log(this.no_of_applicants);\r\n      if(!this.no_of_applicants && response){\r\n        this.no_of_applicants=response.length;\r\n      }\r\n\r\n\r\n      for (let n = 0; n < this.no_of_applicants; n++) {\r\n          this.scoreboardQuestionsArray.push({scorecardQuestion: response,applicantId: n + 1, scoreCardDetails: response});\r\n          let mapDataAns: any[] = [];\r\n          console.log(\"data\",this.scoreCardDetails);\r\n          for (let p = 0; p < response.length; p++){\r\n            mapDataAns.push({scoreCardQuestionId: response[p].scoreCardQuestionId, scorecardAnswer: null, scoreCardMappingId: null});\r\n      \r\n          }\r\n          this.scoreCardMappingArray.push({applicantId: n + 1, scoreCardDetails: mapDataAns});\r\n      }\r\n\r\n      console.log(\"data\",this.scoreCardDetails);\r\n      console.log(\"ques:\",this.scoreboardQuestionsArray)\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  getAllQualitative() {\r\n    console.log(this.isQualitativeScreen);\r\n      this.api.getLoanQualitativeScorecardDetails(this.loanaccountID).subscribe((response) => {\r\n      this.qualitativeScoreboardSummary = response;\r\n      console.log(this.qualitativeScoreboardSummary.scoreCardId + \" : \" + this.qualitativeScoreboardSummary.numberOfApplicant);\r\n      this.scoreCardId.setValue(this.qualitativeScoreboardSummary.scoreCardId);\r\n      this.numberOfApplicant.setValue(this.qualitativeScoreboardSummary.numberOfApplicant);\r\n      console.log(\"scorecard id: \", this.scoreCardId)\r\n      console.log(\"numberOfApplicant : \", this.numberOfApplicant)\r\n      console.log(this.qualitativeScoreboardSummary);\r\n      this.scoreboardQuestionsArray = [];\r\n      // for (let i = 0; i < this.qualitativeScoreboardSummary.scoreCardMapping.length; i++) {\r\n      //   if (this.qualitativeScoreboardSummary.scoreCardMapping[i].attributeType == \"checkbox\") {\r\n      //     var scAns = this.qualitativeScoreboardSummary.scoreCardMapping[i].scorecardAnswer.split(',');\r\n\r\n      //     for (let m = 0; m < scAns.length; m++) {\r\n      //       this.sbMultiSelectAnswer.push(scAns[m]);\r\n      //       //  this.sbMultiSelectAnswer[this.qualitativeScoreboardSummary.icustScorecardMapping[i].scoreCardQuestionId].selectedAnswer.push(scAns[m]);\r\n      //     }\r\n      //     console.log(this.sbMultiSelectAnswer);\r\n         \r\n      //   }\r\n      //   this.scoreCardMappingArray = this.scoreboardQuestionsArray;\r\n      // }\r\n      for (let i = 0; i < this.qualitativeScoreboardSummary.scoreCardMapping.length; i++) {\r\n        console.log(\"inside for\", this.qualitativeScoreboardSummary.scoreCardMapping)\r\n        this.api.getScorecardQuestions(this.accountType).subscribe((response) => {\r\n          console.log(response);\r\n  \r\n          console.log(this.no_of_applicants);\r\n          if (!this.no_of_applicants && response) {\r\n            this.no_of_applicants = response.length;\r\n          }\r\n  \r\n          for (let n = 0; n < this.no_of_applicants; n++) {\r\n            this.scoreboardQuestionsArray.push({ scorecardQuestion: response, applicantId: n + 1, scoreCardDetails: response });\r\n            console.log(this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails.length)\r\n            for (let j = 0; j < this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails.length; j++) {\r\n              console.log(this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails)\r\n              var scAns = this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails;\r\n              console.log(scAns)\r\n             \r\n              \r\n              this.sbMultiSelectAnswer.push(scAns[j].scorecardAnswer);              \r\n              \r\n              // for(let k=0; k < this.sbMultiSelectAnswer.length; k++){\r\n              //   if(this.sbMultiSelectAnswer[0]){\r\n              //     this.sbSelectAnswer = this.sbMultiSelectAnswer[2];\r\n              //     console.log(this.sbSwlwctAnswer);\r\n              //   }\r\n              //   else if(this.sbMultiSelectAnswer[0]){\r\n              //     this.sbSelectAnswer1 = this.sbMultiSelectAnswer[0];\r\n              //     console.log(this.sbSelectAnswer1);\r\n              //   }\r\n              // }\r\n              console.log(this.sbMultiSelectAnswer);\r\n            }\r\n          }\r\n  \r\n          console.log(\"data\", this.scoreCardDetails);\r\n          console.log(\"ques:\", this.scoreboardQuestionsArray)\r\n          this.cdr.markForCheck();\r\n        });\r\n  \r\n        this.scoreCardMappingArray = this.scoreboardQuestionsArray;\r\n      }\r\n\r\n      console.log(this.scoreboardQuestionsArray, \"scoreBoardQuestionArray\");\r\n      this.disableDoneBtn=false;\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  insertData(id: any, answer: any, qtype: string, mapId: any,index:any, applcantId: any) {\r\n    console.log(\"Answer: \",answer,index, applcantId);\r\n    console.log('score vaue', this.scorevalue);\r\n    if (qtype == 'checkbox') {\r\n      answer = answer.toString();\r\n    }\r\n    let dataUpdated: boolean = false ;\r\n    let aplcntExists: boolean = false ;\r\n    for (let m = 0; m < this.scoreCardMappingArray.length; m++) {\r\n      if (this.scoreCardMappingArray[m].applicantId == applcantId ) {\r\n        for (let n = 0; n < this.scoreCardMappingArray[m].scoreCardDetails.length; n++) {\r\n          console.log(n, this.scoreCardMappingArray[m].scoreCardDetails[n]);\r\n          if (this.scoreCardMappingArray[m].scoreCardDetails[n].scoreCardQuestionId == id) {\r\n            this.scoreCardMappingArray[m].scoreCardDetails[n].scorecardAnswer = answer;\r\n            dataUpdated = true;\r\n          }\r\n        }\r\n        aplcntExists = true ;\r\n      }\r\n    }\r\n    if (!dataUpdated) {\r\n      let dataOject: any = {};\r\n      dataOject.scoreCardQuestionId = id;\r\n      dataOject.scorecardAnswer = answer;\r\n      if (mapId != null) {\r\n        dataOject.scoreCardMappingId = mapId;\r\n\r\n      }\r\n      if (!aplcntExists) {\r\n        let idx = this.scoreCardMappingArray.length ;\r\n        this.scoreCardMappingArray.push({applicantId: applcantId, scoreCardDetails: dataOject});\r\n      } else {\r\n        for (let m = 0; m < this.scoreCardMappingArray.length; m++) {\r\n          if (this.scoreCardMappingArray[m].applicantId == applcantId ) {\r\n              this.scoreCardMappingArray[m].scoreCardDetails.push(dataOject);\r\n              console.log(this.scoreCardMappingArray[m].scoreCardDetails);\r\n          }\r\n        }\r\n      }\r\n      // console.log(dataOject,\"Dataobject\");\r\n    }\r\n\r\n    if (this.scoreCardMappingArray.length == this.scoreboardQuestionsArray.length) {\r\n      let disableDoneBtn: number = 0;\r\n      for (let m = 0; m < this.scoreCardMappingArray.length; m++) {\r\n        for (let i = 0; i < this.scoreCardMappingArray[m].scoreCardDetails.length; i++) {\r\n          let answerIs: any = this.scoreCardMappingArray[m].scoreCardDetails[i].scorecardAnswer;\r\n          if (answerIs == '' || answerIs == null || answerIs == undefined) {\r\n            disableDoneBtn++;\r\n          }\r\n        }\r\n      }\r\n      if (disableDoneBtn > 0) {\r\n        this.disableDoneBtn = true;\r\n      }\r\n      else if (this.anyErrorExist == false && disableDoneBtn == 0) {\r\n        this.disableDoneBtn = false;\r\n      }\r\n    }\r\n    console.log(\"Map Array: \", this.scoreCardMappingArray)\r\n    \r\n  }\r\n\r\n  validateInputValue(inputValue: any, index: any, validationName: string) {\r\n    // console.log(inputValue, index);\r\n    let eleid: any = '#inputError' + index;\r\n    if (inputValue == '' || inputValue == null || inputValue == undefined) {\r\n      this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'visible');\r\n    }\r\n    else {\r\n      if (!isNaN(inputValue) && validationName == \"Name\") {\r\n        this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'visible');\r\n        this.anyErrorExist = true;\r\n      }\r\n      else {\r\n        this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'hidden');\r\n        this.anyErrorExist = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  validateSelectValue(selectValue: any, index: any) {\r\n    // console.log(selectValue, index);\r\n    let eleid: any = '#selectError' + index;\r\n    if (selectValue == '' || selectValue == null || selectValue == undefined) {\r\n      this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'visible');\r\n    }\r\n    else {\r\n      this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'hidden');\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([\"/loan/account/assessment/list\"]);\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n  let inputChar = String.fromCharCode(event.charCode);\r\n  console.log(\"inputChar\",inputChar);\r\n  inputChar = inputChar.toString();\r\n  console.log(\"inputChar1\",inputChar);\r\n  inputChar=inputChar\r\n  if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n  }  \r\n  }\r\n scoreCardValue(event){  \r\n  console.log(event.target.value);\r\n  this.scorevalue = event.target.value;\r\n  this.applicantId = this.scoreboardQuestionsArray[0].applicantId;\r\n   this.saveData()\r\n }\r\n saveData(){\r\n  console.log(\"scoreValue\" , this.scorevalue);  \r\n  for (let m = 0; m < this.scoreCardMappingArray.length; m++) {\r\n      if (this.scoreCardMappingArray[m].applicantId == this.applicantId ) {\r\n        for (let n = 0; n < this.scoreCardMappingArray[m].scoreCardDetails.length; n++) {\r\n          console.log(n, this.scoreCardMappingArray[m].scoreCardDetails[n]);\r\n         \r\n            this.scoreCardMappingArray[m].scoreCardDetails[n].scoreData = this.scorevalue;\r\n\r\n            console.log(this.scoreCardMappingArray[m].scoreCardDetails[n].scoreData);\r\n            \r\n        }\r\n        \r\n      }\r\n    }\r\n  \r\n }\r\n\r\n  getAllData(id) {\r\n    this.api.getAssessmentReportDetails(id).subscribe((response) => {\r\n      this.assessmentReportSummary = response;\r\n      console.log(this.assessmentReportSummary);\r\n    });\r\n  }\r\n  saveQualitativeScore(){\r\n    let submitData: any = {};\r\n    console.log(this.no_of_applicants);\r\n    let numberOfApplicant = this.no_of_applicants;\r\n    submitData.loanAccountId=this.loanaccountID;    \r\n    // submitData.loanAccountId = this.loanAccountId? this.loanAccountId : 999612;// loanAccountId: this.loanaccountID,\r\n    submitData.numberOfApplicant = numberOfApplicant;\r\n    submitData.scoreCardId = this.scoreCardId.value;\r\n    submitData.loggedInUser = 123;\r\n    submitData.accountType=\"loan\";\r\n    \r\n    submitData.scoreCardMapping = this.scoreCardMappingArray;\r\n    console.log(submitData);\r\n    this.api.saveQualitativeScorecard(submitData).subscribe((resp) => {\r\n       console.log(\"data\",submitData.loanaccountID);\r\n      this.snack.open('Loan Qualitative Scoreboard Saved!', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n      // console.log(resp);\r\n      this.isDataSaved = true;\r\n      // this.ls.setItem('LOAN_QUALITATIVE_SCOREBOARD_DONE', true);\r\n      // this.disableDoneBtn=false\r\n    //  this.accountService.refresh.next();\r\n    \r\n    }, err => {\r\n      this.snack.open('Server Error!', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    })\r\n    this.ls.setItem('LOAN_QUALITATIVE_SCOREBOARD_DONE', true);\r\n    this.accountService.refresh.next();\r\n     this.router.navigate([\"/loan/account/assessment/assessment-details\"]);\r\n  }\r\n\r\n  // done() {\r\n  //   this.ls.setItem('ASSESSMENT_QA_DONE', true);\r\n  //  // this.accountService.refresh.next();\r\n  //   this.router.navigate([`/home/application/assessment/report/${this.accountId}`]);\r\n  // }\r\n  noOfApplicant(event){\r\n    console.log(event);\r\n\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/undraw_Scrum_board_re_wk7v.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title\"><b>Qualitative Scoreboard</b></div>\r\n    </div>\r\n  </div>\r\n  <form>\r\n    <div fxFlex=\"100\" class=\"mt-24\">\r\n      <!-- <h2 class=\"ml-16\">Qualitative Scoreboard <hr/></h2> -->\r\n      <div class=\"mt-24\"></div>\r\n      <mat-card>\r\n        <mat-card-title>\r\n           <div class=\"card-title-text\">Qualitative Scoreboard</div>\r\n            <mat-divider></mat-divider>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n          <h4><b>Scorecard ID</b></h4>\r\n          <h4>\r\n            <input matInput name=\"ScoreCardId\" onlyNumber placeholder=\"Enter ScoreCardId\" [formControl]=\"scoreCardId\"\r\n             />\r\n             <mat-error\r\n              *ngIf=\"scoreCardId.touched && scoreCardId.value == 0\">\r\n               Please Enter valid Scorecard ID\r\n              </mat-error>\r\n          </h4>\r\n          <h3 class=\"mt-32\">Description</h3>\r\n          <p>\r\n            Lorem Ipsum is simply dummy text of the printing and typesetting\r\n            industry. Lorem Ipsum has been the industry's standard dummy text ever\r\n            since the 1500s, when an unknown printer took a galley of type and\r\n            scrambled it to make a type specimen book.\r\n          </p>\r\n          <div class=\"mb-8\"  *ngFor='let sA of scoreboardQuestionsArray ; let ix = index'>\r\n            <div\r\n               class=\"ml-8\">Number of Applicant \r\n                <div>{{ sA.applicantId }}</div>\r\n            </div>\r\n          </div>\r\n        </mat-card-content>\r\n      </mat-card>\r\n  \r\n      <div class=\"mt-32\"></div>\r\n      <mat-accordion multi=\"true\">\r\n        <mat-expansion-panel class=\"mb-8\"  *ngFor='let sA of scoreboardQuestionsArray ; let ix = index' expanded=\"true\">\r\n          <mat-expansion-panel-header>\r\n          <mat-panel-title><mat-icon class=\"check-circle\">check_circle</mat-icon> <span class=\"ml-8\">Applicant {{ sA.applicantId }}</span></mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n            <mat-card class=\"full-width qdivcard\">\r\n              <mat-card-content class=\"full-width\">\r\n                    <div>\r\n                      <h3>Questions</h3>\r\n                    </div>\r\n                    <div fxLayout=\"column\">\r\n                    <!-- <div class=\"full-width\"> --><div fxLayout=\"row\" fxFlex=\"70%\" fxLayoutGap=\"35px\">\r\n                      <div fxLayout=\"row wrap\" class=\"full-width\" *ngFor=\"let sQ of sA.scoreCardDetails; let i=index;\">\r\n                        <div class=\"full-width\">\r\n                          <div class=\"qDiv\">\r\n                            <mat-hint>{{i + 1 }}.{{sQ.scorecardQuestion}}<span class=\"redC\" *ngIf=\"sQ.isRequired\"> *</span></mat-hint>\r\n                          </div>\r\n                          <div class=\"questions-tab\"  *ngIf=\"sQ.attributeType == 'textbox'\">\r\n                            <mat-form-field class=\"questions-tab\"  appearance=\"outline\">\r\n                              <input matInput\r\n                              [required]=\"sQ.isRequired\"\r\n                              [autocomplete]=\"off\"\r\n                              [maxlength]=\"sQ.validationName == 'Name'? 25 : 50\"\r\n                              name=\"{{ 'input' + i }}\"\r\n                              id=\"{{ 'input' + i }}\"\r\n                            \r\n                              [value]=\"scoreCardMappingArray[ix].scoreCardDetails[i].scorecardAnswer == undefined? '' : scoreCardMappingArray[ix].scoreCardDetails[i].scorecardAnswer\"\r\n                              (keyup)=\"validateInputValue($event.target.value,i,sQ.validationName);insertData(sQ.scoreCardQuestionId,$event.target.value,sQ.attributeType,sQ.scoreCardMappingId,i,sA.applicantId)\"\r\n                              (click)=\"validateInputValue($event.target.value,i,sQ.validationName)\"\r\n\r\n                              >\r\n                            </mat-form-field>\r\n                            <!-- [value]=\"sQ.scorecardAnswer\" -->\r\n                            <mat-error [style.visibility]=\"'hidden'\" id=\"{{ 'inputError' + i }}\">Enter {{sQ.validationName}}</mat-error>\r\n                          </div>\r\n                          <div class=\"full-width\" *ngIf=\"sQ.attributeType == 'drop-down' || sQ.attributeType == 'checkbox'\">\r\n                            <mat-form-field class=\"full-width\" appearance=\"outline\">\r\n                              <mat-select disableOptionCentering\r\n                              [required]=\"sQ.isRequired\"\r\n                              [name]=\"sQ.attributeType == 'checkbox'?  'multiSelect' + i  :  'select' + i \"\r\n                              [id]=\"sQ.attributeType == 'checkbox'?  'multiSelect' + i  :  'select' + i \"\r\n                              [(value)]=\"sQ.attributeType == 'checkbox'? sbMultiSelectAnswer : scoreCardMappingArray[ix].scoreCardDetails[i].scorecardAnswer\"\r\n                              (click)=\"validateSelectValue($event.target.value,i)\"\r\n                              (selectionChange)=\"validateSelectValue($event.value,i);insertData(sQ.scoreCardQuestionId,$event.value,sQ.attributeType,sQ.scoreCardMappingId,i,sA.applicantId)\"  \r\n                              [multiple]=\"sQ.attributeType == 'checkbox'\" placeholder=\"Select\"\r\n                              >\r\n                              <mat-option>Select</mat-option>\r\n                                <mat-option *ngFor=\"let sA of sQ.scorecardAnswers\" [value]=\"sA\">\r\n                                  {{sA}}\r\n                                </mat-option>\r\n                              </mat-select>\r\n                            </mat-form-field>\r\n                            <mat-error [style.visibility]=\"'hidden'\" id=\"{{ 'selectError' + i }}\">Please select {{sQ.validationName}}</mat-error>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                     \r\n                      <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                        <div class=\"qDiv\">\r\n                        <mat-hint>Score<span class=\"redC\" ></span></mat-hint>\r\n                       </div>\r\n                        <div class=\"full-width\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <input matInput name=\"ScoreId\" placeholder=\"Enter the Score\" [formControl]=\"ScoreId\" (keypress)=_keyPress($event) (input)=\"scoreCardValue($event)\"\r\n                          />\r\n                          <!-- <input matInput name=\"ScoreId\" onlyNumber placeholder=\"Enter the Score\" [formControl]=\"scoreId\"\r\n                          /> -->\r\n                          </mat-form-field>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n              </mat-card-content>\r\n            </mat-card>\r\n          </mat-expansion-panel>\r\n        </mat-accordion>\r\n    </div>\r\n  </form>\r\n  <div fxFlex=\"100\" class=\"mt-16\">\r\n    <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">Back</button>\r\n    <span fxFlex></span>\r\n    <button mat-raised-button color=\"primary\" class=\"Nextbtn\" [disabled]=\"disableDoneBtn || !numberOfApplicant.valid\" (click)=\"saveQualitativeScore()\" type=\"button\">Next</button>\r\n  </div>  \r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-offer-issue',\r\n  templateUrl: './offer-issue.component.html',\r\n  styleUrls: ['./offer-issue.component.scss']\r\n})\r\nexport class PostOfferIssueComponent implements OnInit {\r\n  OfferIssueForm:FormGroup;\r\n\r\n  constructor(private fb:FormBuilder,private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.buildformGroup();\r\n  }\r\n  buildformGroup(){\r\n    this.OfferIssueForm = this.fb.group({\r\n      id:[''],\r\n      applicant_name:[''],\r\n      instalment_frequency:[''],\r\n      offer_issue_date:[''],\r\n      account_type:[''],\r\n      principal:[''],\r\n      loan_amount:[''],\r\n      loan_tenure:[''],\r\n    })\r\n  }\r\n\r\n  Done(){\r\n    this.router.navigate([`/loan/account/offerstage/list`]);\r\n  }\r\n  \r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n    if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/Group 673.svg\" alt=\"\" class=\"w-80\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title\"><b>Offer Issue Details</b></div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0\">\r\n        <mat-card-title class=\"\">\r\n          <div class=\"card-title-text\">Offer Issue Information</div>\r\n          <mat-divider></mat-divider>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n          <form *ngIf=\"OfferIssueForm\" [formGroup]=\"OfferIssueForm\">\r\n\r\n                 <div fxLayout=\"row\" fxLayoutGap=\"30px\" fxLayoutAlign=\"start center\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Applicant Name*</mat-label>\r\n                               \r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"Applicant Name\"\r\n                                  (keypress)=\"letterOnly($event)\"\r\n                                />\r\n                              </mat-form-field> \r\n                          \r\n                          </div>\r\n    \r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Loan Tenure*</mat-label>\r\n                               \r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"5 Years\"\r\n                                  (keypress)=\"_keyPress($event)\" maxlength=\"2\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Installment Frequency</mat-label>\r\n                               \r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"Monthly\" maxlength=\"8\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Approved Loan Amount</mat-label>\r\n                               \r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"$200,000\"\r\n                                  (keypress)=\"_keyPress($event)\" maxlength=\"12\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Installment Type</mat-label>\r\n                               \r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"EMI\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Principal</mat-label>\r\n                               \r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"$500,000\"\r\n                                  (keypress)=\"_keyPress($event)\" maxlength=\"8\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Installment Amount</mat-label>\r\n                               \r\n                                <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"$120,000\"\r\n                                  (keypress)=\"_keyPress($event)\" maxlength=\"8\"\r\n                                />\r\n                              </mat-form-field> \r\n                          </div>\r\n\r\n                          <div class=\"pb-1\">\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Offer Issue Date*</mat-label>\r\n                                <input matInput name=\"date\" readonly\r\n                                  placeholder=\"12/12/2020\" [matDatepicker]=\"appDatepicker1\"/>\r\n\r\n                                <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                              \r\n                              </mat-form-field>\r\n                              <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                           \r\n                          </div>\r\n    \r\n                        </div>\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            \r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Approved Loan Amount*</mat-label>\r\n                                 <input\r\n                                  matInput\r\n                                  name=\"a_sig\"\r\n                                  placeholder=\"$500,000\" \r\n                                  (keypress)=\"_keyPress($event)\" maxlength=\"12\"\r\n                                />\r\n                              </mat-form-field> \r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Installment Type</mat-label>\r\n                                   \r\n                                    <input\r\n                                      matInput\r\n                                      name=\"a_sig\"\r\n                                      placeholder=\"EMI\"\r\n                                    />\r\n                                  </mat-form-field> \r\n                              </div>\r\n      \r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Rate Of Interest(%)*</mat-label>\r\n                                   \r\n                                    <input\r\n                                      matInput\r\n                                      name=\"a_sig\"\r\n                                      placeholder=\"9.4\"\r\n                                      (keypress)=\"_keyPress($event)\" maxlength=\"2\"\r\n                                    />\r\n                                  </mat-form-field> \r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Loan Tenure*</mat-label>\r\n                                   \r\n                                    <input\r\n                                      matInput\r\n                                      name=\"a_sig\"\r\n                                      placeholder=\"5 Years\"\r\n                                      (keypress)=\"_keyPress($event)\" maxlength=\"2\"\r\n                                    />\r\n                                  </mat-form-field> \r\n                              </div>\r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Rate Of Interest(%)*</mat-label>\r\n                                   \r\n                                    <input\r\n                                      matInput\r\n                                      name=\"a_sig\"\r\n                                      placeholder=\"9.4\"\r\n                                      (keypress)=\"_keyPress($event)\" maxlength=\"2\"\r\n                                    />\r\n                                  </mat-form-field> \r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Interest*</mat-label>\r\n                                   <input\r\n                                    matInput\r\n                                    name=\"a_sig\"\r\n                                    placeholder=\"$147,677\"\r\n                                    (keypress)=\"_keyPress($event)\" maxlength=\"8\"\r\n                                  />\r\n                                </mat-form-field> \r\n                              </div>   \r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Charges*</mat-label>\r\n                                   <input\r\n                                    matInput\r\n                                    name=\"a_sig\"\r\n                                    placeholder=\"$100\"\r\n                                    (keypress)=\"_keyPress($event)\" maxlength=\"5\"\r\n                                  />\r\n                                </mat-form-field> \r\n                              </div>   \r\n\r\n                              <div class=\"pb-1\">\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                  <mat-label>Generate Offer*</mat-label>\r\n                                   <input\r\n                                    matInput\r\n                                    name=\"a_sig\"\r\n                                    placeholder=\"With Schedule\"\r\n                                  />\r\n                                </mat-form-field> \r\n                              </div>   \r\n                            \r\n                        </div>\r\n                </div>\r\n\r\n                \r\n                <div\r\n                fxLayout=\"row\"\r\n                fxLayoutAlign=\"space-between center\"\r\n                fxLayoutGap=\"16px\"\r\n                class=\"mt-32\"\r\n              >\r\n                <button mat-button rounded color=\"primary\">\r\n                  Back\r\n                </button>\r\n                <button\r\n                  mat-raised-button\r\n                  color=\"primary\" (click)=\"Done()\"\r\n                >\r\n                  Done\r\n                </button>\r\n              </div>\r\n         \r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n  \r\n    </div>\r\n  </div>\r\n  \r\n  \r\n  \r\n  \r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n@Component({\r\n  selector: 'app-account-service-summary',\r\n  templateUrl: './account-service-summary.component.html',\r\n  styleUrls: ['./account-service-summary.component.scss']\r\n})\r\nexport class AccountServiceSummaryComponent implements OnInit {\r\n  maturity: any;\r\n  revision: any;\r\n  holiday: any;\r\n  cascadeVarMaturity: boolean;\r\n  cascadeVarRevison: boolean;\r\n  cascadeVarHoliday: boolean;\r\n  ignoreHolidayVarMaturity: boolean;\r\n  ignoreHolidayVarRevison: boolean;\r\n  ignoreHolidayVarHoliday: boolean;\r\n  resp: any;\r\n  loanAccountId: any;\r\n  loanInfo: any;\r\n\r\n  constructor(public dialogRef: MatDialogRef<AccountServiceSummaryComponent>, private router: Router,private api:ApiService,private ls: LocalStoreService) { }\r\n  \r\n  ngOnInit(): void {\r\n    this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    this.loanInfo = this.ls.getItem('LOAN_ACC_ARRAY');\r\n    console.log(this.loanInfo);\r\n    if(this.loanInfo){\r\n      this.loanAccountId = this.loanInfo.loanAccountId;\r\n    }\r\n    setTimeout(() => {\r\n      this.api.AccountServicesFetchById(this.loanAccountId).subscribe(resp=>{\r\n        console.log(\"resp from backend \",resp)\r\n        if(resp){\r\n          this.resp=resp;\r\n        this.maturity= resp.serviceDetails.find(obj => obj.serviceName === 'Maturity')\r\n        this.revision= resp.serviceDetails.find(obj => obj.serviceName === 'Revision')\r\n        this.holiday=resp.serviceDetails.find(obj => obj.serviceName === 'Holiday Preference')\r\n        this.cascadeVarMaturity=  this.maturity.cascadeSchedules;\r\n        this.cascadeVarRevison=   this.revision.cascadeSchedules;\r\n        this.cascadeVarHoliday= this.holiday.cascadeSchedules; \r\n        this.ignoreHolidayVarMaturity=  this.maturity.cascadeSchedules;\r\n        this.ignoreHolidayVarRevison=   this.revision.cascadeSchedules;\r\n        this.ignoreHolidayVarHoliday= this.holiday.cascadeSchedules; \r\n      }\r\n  //       cascadeSchedules: true\r\n  // holidayCheck: \"Uncheck\"\r\n  // ignoreHolidays: true\r\n  // moveAcrossMonth: \"month 2\"\r\n            })\r\n    }, 10);\r\n   \r\n  }\r\n  goToClose(): void {\r\n    this.dialogRef.close();\r\n  }\r\n  goToEdit() {\r\n    this.dialogRef.close();\r\n    // this.router.navigate([`/loan/account/list/underwritingStage/legalopinion`]);\r\n\r\n     this.router.navigate([`/loan/account/application-enrichment/account-services`]);\r\n  }\r\n}","<div class=\"full-width\" style=\"height:auto\">\r\n    <div fxLayout=\"row\" class=\"contain\">\r\n        <mat-icon class=\"backIcon\" (click)=\"goToClose()\">close</mat-icon>\r\n    </div>\r\n    <div class=\"spanDiv1\">\r\n        <span class=\"paraFont\">Account Services Summary\r\n    \r\n        </span>\r\n      </div>\r\n    <div class=\"fullcard\">\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n            <div fxFlex=\"100%\" *ngIf=\"resp\">\r\n                <h7 fxLayout=\"row\">Statement Preferences</h7>\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Statement Cycle</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.statementCycle}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Statement Type</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.statementType}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Start Date</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{resp.startDate}}\r\n                                            </mat-hint>\r\n                                        </div>\r\n                                       \r\n                                    </ng-container>\r\n                                </div>\r\n                                <div>\r\n                                    <span layout=\"row\">\r\n                                        <hr class=\"line\" flex />\r\n                                    </span>\r\n                                </div>\r\n                            \r\n                            </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n                <h7 fxLayout=\"row\">Holiday Preferences</h7>\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Ignore Holidays ?</mat-hint>\r\n                                            <br>\r\n                                            <div class=\"toggle\">\r\n                                                <mat-slide-toggle [checked]=\"ignoreHolidayVarHoliday\">\r\n                                                </mat-slide-toggle>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Holiday Check</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{holiday.holidayCheck}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Move Across Month</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{holiday.moveAcrossMonth}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Cascade Schedules ?</mat-hint>\r\n                                            <br>\r\n                                            <div class=\"toggle\">\r\n                                                <mat-slide-toggle [checked]=\"cascadeVarHoliday\">\r\n                                                </mat-slide-toggle>\r\n                                            </div>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n                <h7 fxLayout=\"row\">Maturity Date</h7>\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Ignore Holidays ?</mat-hint>\r\n                                            <br>\r\n                                            <div class=\"toggle\">\r\n                                                <mat-slide-toggle [checked]=\"ignoreHolidayVarMaturity\">\r\n                                                </mat-slide-toggle>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Holiday Check</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{maturity.holidayCheck}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Move Across Month</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{maturity.moveAcrossMonth}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Cascade Schedules ?</mat-hint>\r\n                                            <br>\r\n                                            <div class=\"toggle\">\r\n                                                <mat-slide-toggle [checked]=\"cascadeVarMaturity\">\r\n                                                </mat-slide-toggle>\r\n                                            </div>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n                <h7 fxLayout=\"row\">Revision Schedules</h7>\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\">\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"2%\" fxLayoutAlign=\"space-between none\" class=\"colAlign\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                    <ng-container>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Ignore Holidays ?</mat-hint>\r\n                                            <br>\r\n                                            <div class=\"toggle\">\r\n                                                <mat-slide-toggle [checked]=\"ignoreHolidayVarRevison\">\r\n                                                </mat-slide-toggle>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Holiday Check</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{revision.holidayCheck}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Move Across Month</mat-hint>\r\n                                            <br>\r\n                                            <mat-hint class=\"valueText\">{{revision.moveAcrossMonth}}</mat-hint>\r\n                                        </div>\r\n                                        <div fxFlex=\"25%\" fxFlex.xs=\"100%\">\r\n                                            <mat-hint class=\"headingText\">Cascade Schedules ?</mat-hint>\r\n                                            <br>\r\n                                            <div class=\"toggle\">\r\n                                                <mat-slide-toggle [checked]=\"cascadeVarRevison\">\r\n                                                </mat-slide-toggle>\r\n                                            </div>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </mat-card-content>\r\n                </mat-card>\r\n                <p class=\"editButton\" (click)=\"goToEdit()\">Edit</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-loan-summary-details',\r\n  templateUrl: './loan-summary-details.component.html',\r\n  styleUrls: ['./loan-summary-details.component.scss']\r\n})\r\nexport class LoanSummaryDetailsComponent implements OnInit {\r\n\r\n  userRecommendation=['Recomended For Approval', 'Recommended For Reject'];\r\n  public loanSummaryForm: FormGroup;\r\n\r\n  constructor( private router:Router, private _location: Location, private fb: FormBuilder,) { }\r\n\r\n  ngOnInit(): void {\r\n   this.buildAssessmentForm()\r\n  }\r\n \r\n  buildAssessmentForm() {\r\n    this.loanSummaryForm = this.fb.group({\r\n      applicantName: [''],\r\n      accountType: [''],\r\n      accountBranch: [''],\r\n      productCode: [''],\r\n      productName: [''],\r\n      hostProductCode: [''],\r\n      hostProductDescription: [''],\r\n      loanAmount: [''],\r\n      loanTenure: [''],\r\n      interestRate: [''],\r\n      repaymentMethod: [''],\r\n      repaymentFrequency: [''],\r\n      applicationDate: [''],\r\n      assessmentApprovalMethod: [''],\r\n      offerApprovedDate: [''],\r\n      offerAcceptedDate: [''],\r\n      approverID: [''],\r\n      stage: [''],\r\n      date: [''],\r\n      offerIssueDate: [''],\r\n      userRecommendation: [''],\r\n      userAction: [''],\r\n\r\n    });  \r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n\r\n  next(){\r\n    this.router.navigate([`/loan/account-approval/offer-acceptReject-details`]);\r\n  }\r\n  \r\n  goBack(){\r\n    this.router.navigate([`/loan/account-approval/list`]);\r\n  } \r\n}\r\n","\r\n<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n            <img src=\"assets/images/svg/undraw_personal_information_re_vw8a.svg\" alt=\"\" class=\"w-80\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title\"><b>Loan Summary Details</b></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <mat-card class=\"p-0\">\r\n            <mat-card-title class=\"\">\r\n                <div class=\"card-title-text\">Loan Summary Details</div>\r\n                <mat-divider></mat-divider>\r\n            </mat-card-title>\r\n            <mat-card-content>\r\n                <form [formGroup]=\"loanSummaryForm\">\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Applicant Name</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput maxlength=\"10\" formControlName=\"applicantName\"\r\n                                        placeholder=\"Applicant Name\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Account Type</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                        formControlName=\"accountType\" placeholder=\"Account type\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Account Branch</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                        formControlName=\"accountBranch\" placeholder=\"Account Branch\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Product Code</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                        formControlName=\"productCode\" placeholder=\"Product Code\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Product Name</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                        formControlName=\"productName\" placeholder=\"Product Name\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Host Product Code</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                        formControlName=\"hostProductCode\" placeholder=\"Host Product Code\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                        <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                                <mat-label>Host Product Description</mat-label>\r\n                                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                        formControlName=\"hostProductDescription\"\r\n                                        placeholder=\"Host Product Description\" />\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <mat-card-title class=\"\">\r\n                        <div class=\"card-title-text\">Application Details</div>\r\n                        <mat-divider></mat-divider>\r\n\r\n                        <mat-card>\r\n                            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Loan Amount</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"loanAmount\" placeholder=\"Loan Amount\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Loan Tenure</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"loanTenure\" placeholder=\"Loan Tenure\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Interest Rate(in %)</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"interestRate\" placeholder=\"Interest Rate\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Repayment Method</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"repaymentMethod\" placeholder=\"Repayment Method\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Repayment Frequency</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"repaymentFrequency\"\r\n                                                placeholder=\"Repayment Frequency\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <a> Repayment Schedule View</a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </mat-card>\r\n                    </mat-card-title>\r\n\r\n                    <mat-card-title class=\"\">\r\n                        <div class=\"card-title-text\">Application Life Cycle Details</div>\r\n                        <mat-divider></mat-divider>\r\n\r\n                        <mat-card>\r\n                            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Application Date</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"applicationDate\" placeholder=\"Application Date\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Assessment Approval Method</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"assessmentApprovalMethod\" placeholder=\"Assessment Approval Method\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Offer Approved Date</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"offerApprovedDate\" placeholder=\"Offer Approved Date\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Offer Accepted Date</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"offerAcceptedDate\" placeholder=\"Offer Accepted Date\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </mat-card>\r\n                    </mat-card-title>\r\n\r\n                    <mat-card-title class=\"\">\r\n                        <div class=\"card-title-text\">Approval Details</div>\r\n                        <mat-divider></mat-divider>\r\n\r\n                        <mat-card>\r\n                            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Approver ID</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"approverID\" placeholder=\"Approver ID\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Stage</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"stage\" placeholder=\"Stage\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Date</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"date\" placeholder=\"Date\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>Offer Issue Date</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\"\r\n                                                formControlName=\"offerIssueDate\" placeholder=\"Offer Issue Date\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>User Recommendation</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <mat-label>User Recommendation</mat-label>\r\n                                            <mat-select name=\"prefix\" \r\n                                                formControlName=\"userRecommendation\">\r\n                                                <mat-option *ngFor=\"let i of userRecommendation\" [value]=\"i\">{{ i }}</mat-option>\r\n                                            </mat-select>\r\n        \r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n        \r\n        \r\n                                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                        <mat-label>User Action</mat-label>\r\n                                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                            <input matInput (keypress)=_keyPress($event) maxlength=\"10\" formControlName=\"userAction\" placeholder=\"User Action\" />\r\n                                        </mat-form-field>\r\n                                    </div>\r\n                                </div>\r\n        \r\n        \r\n                            </div>\r\n\r\n                        </mat-card>\r\n                    </mat-card-title>\r\n\r\n                    <div class=\"button\">\r\n\r\n                        <button mat-button class=\"Back\" (click)=\"goBack()\">Back</button>\r\n                        <button mat-stroked-button class=\"Next\" (click)=\"next()\">Next</button>\r\n\r\n                    </div>\r\n                </form>\r\n            </mat-card-content>\r\n        </mat-card>\r\n    </div>\r\n</div>"]}