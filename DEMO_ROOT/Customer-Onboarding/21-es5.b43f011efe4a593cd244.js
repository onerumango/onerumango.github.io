!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,a){if(!t)return;if("string"==typeof t)return e(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,a)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{X7Rc:function(e,n,r){"use strict";r.r(n),r.d(n,"TasksModule",function(){return Tf});var i=r("SVse"),c=r("u9T3"),s=r("8Y7J"),l=r("nm5K"),b=r("XNiG"),u=r("Kj3r"),d=r("tZUg"),m=r("iELJ"),f=r("qMRc"),p=r("Tczp"),h=r("6rwl"),g=r("s7LF"),v=r("wd/R"),y=r("zHaW"),W=r("VDRc"),X=r("Tj54"),T=r("Q2Ze"),I=r("PDjf"),E=r("e6WT"),C=r("ZTz/"),x=r("TN/R"),A=r("jMqV"),R=r("Dxy4"),O=r("pu8Q"),D=r("UhP/");function k(t,e){1&t&&s.Sb(0,"mat-spinner",34),2&t&&s.rc("diameter",80)}function S(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function N(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Account Type is Required! "),s.Wb())}function P(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.branchName),s.Eb(1),s.Vc(" ",a.branchName," ")}}function F(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Account Branch is Required! "),s.Wb())}function L(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Account Currency is Required! "),s.Wb())}function w(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Business Product Name is Required! "),s.Wb())}function U(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Product Description is Required! "),s.Wb())}function _(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," Application Date is Required! "),s.Wb())}function M(t,e){1&t&&(s.Xb(0,"mat-error",36),s.Tc(1," SWIFT Code is Required! "),s.Wb())}function G(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," SWIFT Code should be a combination of minimum of 8 alphanumeric characters"),s.Wb())}function V(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",5),s.Xb(1,"mat-hint",6),s.Tc(2,"SWIFT Code"),s.Wb(),s.Xb(3,"mat-card",7),s.Xb(4,"input",37),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress1(t)}),s.Wb(),s.Wb(),s.Rc(5,M,2,0,"mat-error",13),s.Rc(6,G,2,0,"mat-error",38),s.Wb()}if(2&t){var n=s.jc();s.Eb(5),s.rc("ngIf",n.accountUpdateForm.get("swiftCode").hasError("required")&&n.accountUpdateForm.get("swiftCode").touched),s.Eb(1),s.rc("ngIf",n.accountUpdateForm.get("swiftCode").value&&!n.accountUpdateForm.get("swiftCode").hasError("required"))}}var B,j=((B=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.data=e,this.dialogRef=n,this.appApiService=o,this.formBuilder=r,this.api=i,this.cdr=c,this.snack=s,this.apiService=l,this.ls=b,this.minDate=new Date,this.maxDate=new Date}return o(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getAccountBranchDetails(),this.getAccountType("account_type"),this.data&&this.data.accountId?this.buildAccountUpdateForm(this.data):this.buildAccountUpdateForm()}},{key:"buildAccountUpdateForm",value:function(t){console.log(t);var e=t?v(t.applicationDate).format():"";this.flag=!(!t||!t.swiftCodeEnable),t&&null!=t.fundTheAccount&&(this.disableFundTheAccount=!0),this.accountUpdateForm=this.formBuilder.group({cifNumber:[t&&t.customerId?t.customerId:"",[g.A.required,g.A.minLength(5)]],customerName:[t?t.customerName:""],accountId:[this.accountId],accountType:[t?t.accountType:"",g.A.required],businessProductName:[t?t.businessProductName:"",g.A.required],productImage:[t?t.productImage:""],productDescription:[t?t.productDescription:"",g.A.required],accountBranch:[t?t.accountBranch:"",g.A.required],accountCurrency:[t?t.accountCurrency:"",g.A.required],applicationDate:[t?e:"",g.A.required],fundTheAccount:[t?t.fundTheAccount:"0"],fundBy:[!!t&&t.fundBy],amount:[t?t.amount:"0"],overDraftRequested:[!!t&&t.overDraftRequested],status:[t?t.status:""],swiftCodeEnable:[!!t&&t.swiftCodeEnable],swiftCode:[t?t.swiftCode:"",g.A.pattern("(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+){8,8}$")]})}},{key:"onSubmit",value:function(){var t=this,e={accountId:this.accountId,accountType:this.accountUpdateForm.value.accountType,businessProductName:this.accountUpdateForm.value.businessProductName,customerId:this.accountUpdateForm.value.customerId,productImage:this.accountUpdateForm.value.productImage,productDescription:this.accountUpdateForm.value.productDescription,accountBranch:this.accountUpdateForm.value.accountBranch,accountCurrency:this.accountUpdateForm.value.accountCurrency,applicationDate:this.convertDate(this.accountUpdateForm.value.applicationDate),fundTheAccount:this.accountUpdateForm.value.fundTheAccount,fundBy:this.accountUpdateForm.value.fundBy,amount:this.accountUpdateForm.value.amount,overDraftRequested:this.accountUpdateForm.value.overDraftRequested,status:this.accountUpdateForm.value.status,swiftCode:this.accountUpdateForm.value.swiftCode,swiftCodeEnable:this.accountUpdateForm.value.swiftCodeEnable,customerName:this.accountUpdateForm.value.customerName};0!=this.isCifValid?this.apiService.saveProductAccountInfo(e).subscribe(function(e){200===e||null!==e?(t.snack.open("Account Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})):500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))}):this.snack.open("Kindly Enter Valid CifNumber to proceed!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"fetchByCif",value:function(t){var e=this;this.showSpinn=!0,this.apiService.fetchByCif(t).subscribe(function(a){if("APPROVED"!=a.customerInfoList[0].custStatus&&(e.isCifValid=!1,e.snack.open("CIF Number is not Approved :"+t,"",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})),e.accountUpdateForm.controls.cifNumber.setValue(t),e.currencyData=e.arrayAccountBranch.find(function(t){return t.branchName==e.branchName}),e.accountUpdateForm.get("accountBranch").setValue(e.branchName),null==e.currencyData&&null==e.currencyData||e.accountUpdateForm.get("accountCurrency").setValue(e.currencyData.branchCcy),e.accountUpdateForm.get("amount").setValue(0),e.accountUpdateForm.get("swiftCode").setValue(null),e.showSpinn=!1,!a)return e.isCifValid=!1,void e.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});"APPROVED"==a.customerInfoList[0].custStatus&&(e.isCifValid=!0),null!=e.accountUpdateForm.value.swiftCode&&null!=e.accountUpdateForm.value.swiftCodeEnable||(console.log(e.accountUpdateForm.value.swiftCode),e.flag=!1),"APPROVED"==a.customerInfoList[0].custStatus&&(a.customerInfoList[0].middleName?e.accountUpdateForm.get("customerName").setValue(a.customerInfoList[0].firstName+" "+a.customerInfoList[0].middleName+" "+a.customerInfoList[0].lastName):e.accountUpdateForm.get("customerName").setValue(a.customerInfoList[0].firstName+" "+a.customerInfoList[0].lastName),e.cifNumberPrimary=t),e.cdr.markForCheck()})}},{key:"onToggle",value:function(t){1==t.checked?this.flag=!0:(this.flag=!1,this.accountUpdateForm.controls.swiftCode.reset(),this.cdr.detectChanges(),this.cdr.markForCheck())}},{key:"onKeyPress",value:function(t){var e=this,a=String.fromCharCode(t.charCode);/[0-9]/.test(a)||t.preventDefault(),console.log(t.target.value),clearTimeout(this.timer),t.target.value?this.timer=setTimeout(function(){e.appApiService.fetchByCif(t.target.value).subscribe(function(t){console.log(t),t&&(e.listOfCustByCif=t.customerInfoList)})},1e3):this.listOfCustByCif=[]}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"_keyPress1",value:function(t){var e=String.fromCharCode(t.charCode);/[a-zA-Z0-9]/.test(e)||t.preventDefault()}},{key:"keyUpevent",value:function(t){console.log("event",t),8===t.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1}},{key:"getAccountType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayAccountType=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.api.getAccountBranch().subscribe(function(e){t.arrayAccountBranch=e,t.currencyData=t.arrayAccountBranch.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData),null==t.currencyData&&null==t.currencyData||t.accountUpdateForm.get("accountCurrency").setValue(t.currencyData.branchCcy)})}},{key:"onChangeBranch",value:function(t){this.currencyData=this.arrayAccountBranch.find(function(e){return e.branchName==t.value}),null==this.currencyData&&null==this.currencyData||this.accountUpdateForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}},{key:"convertDate",value:function(t){var e=v(t).format("YYYY-MMM-DD");if(e)return e}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||B)(s.Rb(m.a),s.Rb(m.g),s.Rb(f.a),s.Rb(g.f),s.Rb(l.b),s.Rb(s.h),s.Rb(y.a),s.Rb(f.a),s.Rb(d.a))},B.\u0275cmp=s.Lb({type:B,selectors:[["app-account-details-update"]],decls:93,vars:17,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"keypress","change","keyup"],["class","spinner",3,"diameter",4,"ngIf"],["matInput","","required","","formControlName","customerName","name","customerName","placeholder","Customer Name",3,"keypress","keyup"],["name","accountType","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["name","account_branch","formControlName","accountBranch",3,"selectionChange"],["matInput","","name","currency","placeholder","Account Currency","formControlName","accountCurrency",3,"readonly"],["matInput","","name","product_image","formControlName","productImage","placeholder","Product Image","value",""],["matInput","","name","business","formControlName","businessProductName","placeholder","Business Product Name"],["matInput","","name","business","placeholder","Product Description","formControlName","productDescription"],["fxFlex","85%"],["matInput","","name","date","readonly","","formControlName","applicationDate","placeholder","Application Date",3,"matDatepicker","min","max"],["fxFlex","15%"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["fxLayout","row"],["formControlName","swiftCodeEnable",3,"change"],[1,"pb-1"],[1,"ml-12"],["formControlName","fundBy"],["formControlName","overDraftRequested"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[1,"spinner",3,"diameter"],[3,"value"],[1,"errorClass"],["minlength","8","maxlength","11","matInput","","name","swift_code","required","","formControlName","swiftCode","placeholder","SWIFT Code","value","",3,"keypress"],[4,"ngIf"]],template:function(t,e){if(1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Account Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"mat-hint",6),s.Tc(10,"CIF Number"),s.Wb(),s.Xb(11,"mat-card",7),s.Xb(12,"input",8),s.fc("keypress",function(t){return e._keyPress(t)})("change",function(){return e.fetchByCif(e.accountUpdateForm.get("cifNumber").value)})("keyup",function(t){return e.onKeyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Rc(13,k,1,1,"mat-spinner",9),s.Xb(14,"div",5),s.Xb(15,"mat-hint",6),s.Tc(16,"Customer Name"),s.Wb(),s.Xb(17,"mat-card",7),s.Xb(18,"input",10),s.fc("keypress",function(t){return e._keyPress(t)})("keyup",function(t){return e.keyUpevent(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",5),s.Xb(20,"mat-hint",6),s.Tc(21,"Account Type*"),s.Wb(),s.Xb(22,"mat-card",7),s.Xb(23,"mat-select",11),s.Rc(24,S,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(25,N,2,0,"mat-error",13),s.Wb(),s.Xb(26,"div",5),s.Xb(27,"mat-hint",6),s.Tc(28,"Account Branch*"),s.Wb(),s.Xb(29,"mat-card",7),s.Xb(30,"mat-select",14),s.fc("selectionChange",function(t){return e.onChangeBranch(t)}),s.Rc(31,P,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(32,F,2,0,"mat-error",13),s.Wb(),s.Xb(33,"div",5),s.Xb(34,"mat-hint",6),s.Tc(35,"Account Currency*"),s.Wb(),s.Xb(36,"mat-card",7),s.Sb(37,"input",15),s.Wb(),s.Rc(38,L,2,0,"mat-error",13),s.Wb(),s.Xb(39,"div",5),s.Xb(40,"mat-hint",6),s.Tc(41,"Product Image"),s.Wb(),s.Xb(42,"mat-card",7),s.Sb(43,"input",16),s.Wb(),s.Wb(),s.Xb(44,"div",5),s.Xb(45,"mat-hint",6),s.Tc(46,"Business Product Name*"),s.Wb(),s.Xb(47,"mat-card",7),s.Sb(48,"input",17),s.Wb(),s.Rc(49,w,2,0,"mat-error",13),s.Wb(),s.Xb(50,"div",5),s.Xb(51,"mat-hint",6),s.Tc(52,"Product Description*"),s.Wb(),s.Xb(53,"mat-card",7),s.Sb(54,"input",18),s.Wb(),s.Rc(55,U,2,0,"mat-error",13),s.Wb(),s.Xb(56,"div",5),s.Xb(57,"mat-hint",6),s.Tc(58,"Application Date*"),s.Wb(),s.Xb(59,"mat-card",7),s.Xb(60,"div",19),s.Sb(61,"input",20),s.Wb(),s.Xb(62,"div",21),s.Sb(63,"mat-datepicker-toggle",22),s.Wb(),s.Wb(),s.Rc(64,_,2,0,"mat-error",13),s.Sb(65,"mat-datepicker",null,23),s.Wb(),s.Wb(),s.Xb(67,"div"),s.Xb(68,"div"),s.Rc(69,V,7,2,"div",24),s.Wb(),s.Xb(70,"div",25),s.Xb(71,"div"),s.Tc(72," Want to add SWIFT Code ? "),s.Xb(73,"mat-slide-toggle",26),s.fc("change",function(t){return e.onToggle(t)}),s.Wb(),s.Wb(),s.Sb(74,"br"),s.Wb(),s.Xb(75,"div"),s.Xb(76,"div",27),s.Xb(77,"label"),s.Tc(78,"Initial Funding?"),s.Wb(),s.Sb(79,"div",28),s.Sb(80,"mat-slide-toggle",29),s.Wb(),s.Wb(),s.Xb(81,"div"),s.Xb(82,"div",27),s.Xb(83,"label"),s.Tc(84,"Overdraft Requested?"),s.Wb(),s.Sb(85,"div",28),s.Sb(86,"mat-slide-toggle",30),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(87,"div",31),s.Xb(88,"button",32),s.fc("click",function(){return e.onSubmit()}),s.Tc(89,"Save"),s.Wb(),s.Tc(90," \xa0\xa0\xa0 "),s.Xb(91,"button",33),s.fc("click",function(){return e.close()}),s.Tc(92," Cancel "),s.Wb(),s.Wb()),2&t){var a=s.Dc(66);s.Eb(6),s.rc("formGroup",e.accountUpdateForm),s.Eb(7),s.rc("ngIf",e.showSpinn),s.Eb(11),s.rc("ngForOf",e.arrayAccountType),s.Eb(1),s.rc("ngIf",e.accountUpdateForm.get("accountType").hasError("required")&&e.accountUpdateForm.get("accountType").touched),s.Eb(6),s.rc("ngForOf",e.arrayAccountBranch),s.Eb(1),s.rc("ngIf",e.accountUpdateForm.get("accountBranch").hasError("required")&&e.accountUpdateForm.get("accountBranch").touched),s.Eb(5),s.rc("readonly",!0),s.Eb(1),s.rc("ngIf",e.accountUpdateForm.get("accountCurrency").hasError("required")&&e.accountUpdateForm.get("accountCurrency").touched),s.Eb(11),s.rc("ngIf",e.accountUpdateForm.get("businessProductName").hasError("required")&&e.accountUpdateForm.get("businessProductName").touched),s.Eb(6),s.rc("ngIf",e.accountUpdateForm.get("productDescription").hasError("required")&&e.accountUpdateForm.get("productDescription").touched),s.Eb(6),s.rc("matDatepicker",a)("min",e.minDate)("max",e.maxDate),s.Eb(2),s.rc("for",a),s.Eb(1),s.rc("ngIf",e.accountUpdateForm.get("applicationDate").hasError("required")&&e.accountUpdateForm.get("applicationDate").touched),s.Eb(5),s.rc("ngIf",e.flag),s.Eb(19),s.rc("disabled",e.accountUpdateForm.invalid)}},directives:[W.e,W.f,W.d,X.a,m.h,m.e,g.C,g.s,g.j,W.b,T.f,I.a,E.b,g.c,g.r,g.i,i.n,g.z,C.a,i.m,x.e,x.g,T.j,x.d,A.a,R.b,O.b,D.n,T.b,g.n,g.m],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),B),z=r("3kSh"),q=r("3sEA"),J=r("o4Yh"),K=r("f44v"),$=r("2Goh");function H(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Y(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Ownership is Required! "),s.Wb())}function Z(t,e){if(1&t){var a=s.Yb();s.Vb(0),s.Xb(1,"mat-form-field",20),s.Xb(2,"mat-label"),s.Tc(3,"Number of Applicants*"),s.Wb(),s.Xb(4,"mat-select",21),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).onChangeApplicantNo(t)}),s.Xb(5,"mat-option",18),s.Tc(6,"1"),s.Wb(),s.Xb(7,"mat-option",18),s.Tc(8,"2"),s.Wb(),s.Xb(9,"mat-option",18),s.Tc(10,"3"),s.Wb(),s.Xb(11,"mat-option",18),s.Tc(12,"4"),s.Wb(),s.Xb(13,"mat-option",18),s.Tc(14,"5"),s.Wb(),s.Wb(),s.Wb(),s.Ub()}2&t&&(s.Eb(5),s.rc("value",1),s.Eb(2),s.rc("value",2),s.Eb(2),s.rc("value",3),s.Eb(2),s.rc("value",4),s.Eb(2),s.rc("value",5))}function Q(t,e){if(1&t&&(s.Xb(0,"mat-chip",65),s.Tc(1),s.Wb()),2&t){var a=s.jc().$implicit,n=s.jc(2);s.rc("color","warn")("selected",a.value.primaryCustomer),s.Eb(1),s.Uc(n.account.value.primaryCustomer?"primary":"")}}function tt(t,e){1&t&&s.Tb(0)}var et=function(t){return{$implicit:t}};function at(t,e){if(1&t&&(s.Vb(0),s.Rc(1,tt,1,0,"ng-container",66),s.Ub()),2&t){var a=s.jc().$implicit,n=s.jc(2);s.Eb(1),s.rc("ngTemplateOutlet",n.detailApplicant)("ngTemplateOutletContext",s.xc(2,et,a))}}function nt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ot(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Prefix is Required! "),s.Wb())}function rt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," First Name is Required! "),s.Wb())}function it(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Last Name is Required! "),s.Wb())}function ct(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Date of Birth is Required! "),s.Wb())}function st(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function lt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Gender is Required! "),s.Wb())}function bt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ut(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Resident Status is Required! "),s.Wb())}function dt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Birth Place is Required! "),s.Wb())}function mt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ft(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Country of Residence is Required! "),s.Wb())}function pt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ht(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Citizenship By is Required! "),s.Wb())}function gt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Occupation Type is Required! "),s.Wb())}function vt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function yt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," ID Type is Required! "),s.Wb())}function Wt(t,e){1&t&&(s.Xb(0,"div"),s.Tc(1,"Unique ID Number is Required!"),s.Wb())}function Xt(t,e){1&t&&(s.Xb(0,"div"),s.Tc(1,"This is a numeric field "),s.Wb())}function Tt(t,e){if(1&t&&(s.Xb(0,"mat-error",19),s.Rc(1,Wt,2,0,"div",33),s.Rc(2,Xt,2,0,"div",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("ngIf",a.get("idNumber").hasError("required")),s.Eb(1),s.rc("ngIf",a.get("idNumber").hasError("pattern"))}}function It(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," ID Type Valid Till is Required! "),s.Wb())}function Et(t,e){if(1&t&&(s.Xb(0,"div",39),s.Xb(1,"mat-hint",10),s.Tc(2,"ID Type Valid Till*"),s.Wb(),s.Xb(3,"mat-card",71),s.Xb(4,"div",72),s.Sb(5,"input",73),s.Wb(),s.Xb(6,"div",74),s.Sb(7,"mat-datepicker-toggle",46),s.Wb(),s.Wb(),s.Rc(8,It,2,0,"mat-error",13),s.Sb(9,"mat-datepicker",null,75),s.Wb()),2&t){var a=s.Dc(10),n=s.jc().$implicit,o=s.jc(3);s.Eb(5),s.rc("matDatepicker",a)("min",o.validDate),s.Eb(2),s.rc("for",a),s.Eb(1),s.rc("ngIf",n.get("expiryDate").hasError("required"))}}function Ct(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",67),s.Xb(1,"div",39),s.Xb(2,"mat-hint",10),s.Tc(3,"ID Type*"),s.Wb(),s.Xb(4,"mat-card",40),s.Xb(5,"mat-select",68),s.fc("selectionChange",function(){s.Hc(a);var t=e.$implicit;return s.jc(3).changeIdType(t.get("idType").value)}),s.Rc(6,vt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(7,yt,2,0,"mat-error",13),s.Wb(),s.Xb(8,"div",39),s.Xb(9,"mat-hint",10),s.Tc(10,"Unique ID Number *"),s.Wb(),s.Xb(11,"mat-card",40),s.Sb(12,"input",69),s.Wb(),s.Rc(13,Tt,3,2,"mat-error",13),s.Wb(),s.Rc(14,Et,11,4,"div",70),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.jc(3);s.rc("formGroupName",o),s.Eb(6),s.rc("ngForOf",r.arrayDocumentType),s.Eb(1),s.rc("ngIf",n.get("idType").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("idNumber").touched&&!n.get("idNumber").valid),s.Eb(1),s.rc("ngIf","Passport"==n.get("idType").value||"DL"==n.get("idType").value)}}function xt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Address 1 is Required! "),s.Wb())}function At(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Please Enter Valid Address "),s.Wb())}function Rt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Address 2 is Required! "),s.Wb())}function Ot(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Please Enter Valid Address "),s.Wb())}function Dt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function kt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Residence Type is Required! "),s.Wb())}function St(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Nt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Country is Required! "),s.Wb())}function Pt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.stateName),s.Eb(1),s.Vc(" ",a.stateName,"")}}function Ft(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," State is Required! "),s.Wb())}function Lt(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc("",a.value1," ")}}function wt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," City is Required! "),s.Wb())}function Ut(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Please enter valid Zip Code!(5-10 digits) "),s.Wb())}function _t(t,e){1&t&&(s.Xb(0,"h5",85),s.Tc(1,"Please enter valid Zip Code! "),s.Wb())}function Mt(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",76),s.Xb(1,"div",77),s.Xb(2,"div",39),s.Xb(3,"mat-hint",10),s.Tc(4,"Address Line 1*"),s.Wb(),s.Xb(5,"mat-card",40),s.Sb(6,"textarea",78),s.Wb(),s.Rc(7,xt,2,0,"mat-error",13),s.Rc(8,At,2,0,"mat-error",13),s.Wb(),s.Xb(9,"div",39),s.Xb(10,"mat-hint",10),s.Tc(11,"Address 2*"),s.Wb(),s.Xb(12,"mat-card",40),s.Sb(13,"textarea",79),s.Wb(),s.Rc(14,Rt,2,0,"mat-error",13),s.Rc(15,Ot,2,0,"mat-error",13),s.Wb(),s.Xb(16,"div",39),s.Xb(17,"mat-hint",10),s.Tc(18,"Residence Type*"),s.Wb(),s.Xb(19,"mat-card",40),s.Xb(20,"mat-select"),s.Rc(21,Dt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(22,kt,2,0,"mat-error",13),s.Wb(),s.Xb(23,"div",39),s.Xb(24,"mat-hint",10),s.Tc(25,"Country*"),s.Wb(),s.Xb(26,"mat-card",40),s.Xb(27,"mat-select",80),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(3).getStateName(t.value)}),s.Rc(28,St,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(29,Nt,2,0,"mat-error",13),s.Wb(),s.Xb(30,"div",39),s.Xb(31,"mat-hint",10),s.Tc(32,"State*"),s.Wb(),s.Xb(33,"mat-card",40),s.Xb(34,"mat-select",81),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(3).getCityName(t.value)}),s.Rc(35,Pt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(36,Ft,2,0,"mat-error",13),s.Wb(),s.Xb(37,"div",39),s.Xb(38,"mat-hint",10),s.Tc(39,"City*"),s.Wb(),s.Xb(40,"mat-card",40),s.Xb(41,"mat-select",82),s.Rc(42,Lt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(43,wt,2,0,"mat-error",13),s.Wb(),s.Xb(44,"div",39),s.Xb(45,"mat-hint",10),s.Tc(46,"Zip Code*"),s.Wb(),s.Xb(47,"mat-card",40),s.Xb(48,"input",83),s.fc("keypress",function(t){return s.Hc(a),s.jc(3).onKeyPress(t)})("keyup",function(t){return s.Hc(a),s.jc(3).isAllSameDigit(t)}),s.Wb(),s.Wb(),s.Rc(49,Ut,2,0,"mat-error",13),s.Rc(50,_t,2,0,"h5",84),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.jc(3);s.rc("formGroupName",o),s.Eb(7),s.rc("ngIf",n.get("address1").touched&&n.get("address1").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("address1").touched&&n.get("address1").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("address2").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("address2").touched&&n.get("address2").hasError("pattern")),s.Eb(6),s.rc("ngForOf",r.arrayAddressType),s.Eb(1),s.rc("ngIf",n.get("addressType").hasError("required")),s.Eb(6),s.rc("ngForOf",r.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("country").hasError("required")),s.Eb(6),s.rc("ngForOf",r.arrayState),s.Eb(1),s.rc("ngIf",n.get("state").hasError("required")),s.Eb(6),s.rc("ngForOf",r.arrayCity),s.Eb(1),s.rc("ngIf",n.get("city").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("zipCode").hasError("required")&&!n.controls.zipCode.valid&&(null==n.controls.zipCode?null:n.controls.zipCode.touched)),s.Eb(1),s.rc("ngIf",r.isAllSameDigitVal)}}function Gt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Please, Enter 10 digit Mobile Number! "),s.Wb())}function Vt(t,e){1&t&&(s.Xb(0,"mat-error",86),s.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),s.Wb())}function Bt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Landline Number is Required! "),s.Wb())}function jt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Please, Enter 10 digit Landline Number! "),s.Wb())}function zt(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," E-mail is Required! "),s.Wb())}function qt(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.Xb(1,"mat-accordion",23),s.Xb(2,"mat-expansion-panel"),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Xb(5,"mat-icon",24),s.Tc(6,"check_circle"),s.Wb(),s.Xb(7,"span",25),s.Tc(8),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card"),s.Xb(10,"mat-card-header"),s.Xb(11,"div",26),s.Sb(12,"app-avatar-photo",27),s.Wb(),s.Xb(13,"mat-card-title"),s.Xb(14,"div",28),s.Xb(15,"h6",29),s.Tc(16),s.Wb(),s.Sb(17,"span",30),s.Rc(18,Q,2,3,"mat-chip",31),s.Wb(),s.Wb(),s.Xb(19,"mat-card-subtitle"),s.Xb(20,"span",32),s.Tc(21),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"mat-card-container"),s.Rc(23,at,2,4,"ng-container",33),s.Wb(),s.Xb(24,"div"),s.Xb(25,"div",34),s.Xb(26,"div",35),s.Xb(27,"label"),s.Tc(28,"Is the applicant an existing customer?"),s.Wb(),s.Tc(29," \xa0\xa0 "),s.Sb(30,"mat-slide-toggle",36),s.Wb(),s.Xb(31,"div",35),s.Xb(32,"label"),s.Tc(33,"Is the applicant a primary customer?"),s.Wb(),s.Tc(34," \xa0\xa0 "),s.Sb(35,"mat-slide-toggle",37),s.Sb(36,"div",38),s.Wb(),s.Xb(37,"div",39),s.Xb(38,"mat-hint",10),s.Tc(39,"Customer Prefix*"),s.Wb(),s.Xb(40,"mat-card",40),s.Xb(41,"mat-select",41),s.Rc(42,nt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(43,ot,2,0,"mat-error",13),s.Wb(),s.Xb(44,"div",39),s.Xb(45,"mat-hint",10),s.Tc(46,"First Name*"),s.Wb(),s.Xb(47,"mat-card",40),s.Xb(48,"input",42),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(49,rt,2,0,"mat-error",13),s.Wb(),s.Xb(50,"div",39),s.Xb(51,"mat-hint",10),s.Tc(52,"Middle Name"),s.Wb(),s.Xb(53,"mat-card",40),s.Xb(54,"input",43),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(55,"div",39),s.Xb(56,"mat-hint",10),s.Tc(57,"Last Name*"),s.Wb(),s.Xb(58,"mat-card",40),s.Xb(59,"input",44),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(60,it,2,0,"mat-error",13),s.Wb(),s.Xb(61,"div",39),s.Xb(62,"mat-hint",10),s.Tc(63,"Date of Birth*"),s.Wb(),s.Xb(64,"mat-card",40),s.Sb(65,"input",45),s.Sb(66,"mat-datepicker-toggle",46),s.Wb(),s.Rc(67,ct,2,0,"mat-error",13),s.Sb(68,"mat-datepicker",null,47),s.Wb(),s.Xb(70,"div",39),s.Xb(71,"mat-hint",10),s.Tc(72,"Gender*"),s.Wb(),s.Xb(73,"mat-card",40),s.Xb(74,"mat-select",48),s.Rc(75,st,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(76,lt,2,0,"mat-error",13),s.Wb(),s.Xb(77,"div",39),s.Xb(78,"mat-hint",10),s.Tc(79,"Resident Status*"),s.Wb(),s.Xb(80,"mat-card",40),s.Xb(81,"mat-select",49),s.Rc(82,bt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(83,ut,2,0,"mat-error",13),s.Wb(),s.Xb(84,"div",39),s.Xb(85,"mat-hint",10),s.Tc(86,"Birth Place*"),s.Wb(),s.Xb(87,"mat-card",40),s.Sb(88,"input",50),s.Wb(),s.Rc(89,dt,2,0,"mat-error",13),s.Wb(),s.Xb(90,"div",39),s.Xb(91,"mat-hint",10),s.Tc(92,"Country of Residence*"),s.Wb(),s.Xb(93,"mat-card",40),s.Xb(94,"mat-select",51),s.Rc(95,mt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(96,ft,2,0,"mat-error",13),s.Wb(),s.Xb(97,"div",39),s.Xb(98,"mat-hint",10),s.Tc(99,"Citizenship By*"),s.Wb(),s.Xb(100,"mat-card",40),s.Xb(101,"mat-select",52),s.Rc(102,pt,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(103,ht,2,0,"mat-error",13),s.Wb(),s.Xb(104,"div",39),s.Xb(105,"mat-hint",10),s.Tc(106,"Occupation Type*"),s.Wb(),s.Xb(107,"mat-card",40),s.Sb(108,"input",53),s.Wb(),s.Rc(109,gt,2,0,"mat-error",13),s.Wb(),s.Xb(110,"div",54),s.Rc(111,Ct,15,5,"div",55),s.Wb(),s.Wb(),s.Xb(112,"mat-accordion"),s.Xb(113,"mat-expansion-panel",56),s.Xb(114,"mat-expansion-panel-header"),s.Xb(115,"mat-panel-title"),s.Tc(116,"Contact Information "),s.Wb(),s.Wb(),s.Xb(117,"div",57),s.Rc(118,Mt,51,15,"div",58),s.Wb(),s.Wb(),s.Wb(),s.Xb(119,"mat-accordion"),s.Xb(120,"mat-expansion-panel",56),s.Xb(121,"mat-expansion-panel-header"),s.Xb(122,"mat-panel-title"),s.Tc(123,"Contact Information "),s.Wb(),s.Wb(),s.Xb(124,"div",34),s.Xb(125,"div",39),s.Xb(126,"mat-hint",10),s.Tc(127,"Mobile Number*"),s.Wb(),s.Xb(128,"mat-card",40),s.Xb(129,"input",59),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).onKeyPress(t)}),s.Wb(),s.Wb(),s.Rc(130,Gt,2,0,"mat-error",13),s.Rc(131,Vt,2,0,"mat-error",60),s.Wb(),s.Xb(132,"div",39),s.Xb(133,"mat-hint",10),s.Tc(134,"Landline Number"),s.Wb(),s.Xb(135,"mat-card",40),s.Xb(136,"input",61),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).onKeyPress(t)}),s.Wb(),s.Wb(),s.Rc(137,Bt,2,0,"mat-error",13),s.Rc(138,jt,2,0,"mat-error",13),s.Wb(),s.Xb(139,"div",39),s.Xb(140,"mat-hint",10),s.Tc(141,"E-mail*"),s.Wb(),s.Xb(142,"mat-card",40),s.Sb(143,"input",62),s.Wb(),s.Rc(144,zt,2,0,"mat-error",13),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(145,"div",63),s.Xb(146,"button",64),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc(2).onSubmit(t.value,n)}),s.Tc(147," UPDATE APPLICANT "),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.Dc(69),i=s.jc(2);s.rc("item",i.account)("formGroupName",o),s.Eb(8),s.Vc("Applicant ",o+1,""),s.Eb(4),s.rc("name",n.value.firstName+" "+n.value.lastName),s.Eb(4),s.Uc(n.value.firstName+" "+n.value.lastName),s.Eb(2),s.rc("ngIf",n.primaryCustomer),s.Eb(3),s.Vc("CIF ",null!=n.value.cifNumber?"#"+n.value.cifNumber:"-n/a",""),s.Eb(2),s.rc("ngIf",(null==i.selectedApplicant?null:i.selectedApplicant._id)===n._id),s.Eb(19),s.rc("ngForOf",i.arrayPrefix),s.Eb(1),s.rc("ngIf",n.get("prefix").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("firstName").hasError("required")),s.Eb(11),s.rc("ngIf",n.get("lastName").hasError("required")),s.Eb(5),s.rc("matDatepicker",r)("max",i.tomorrow)("max",i.maxDate),s.Eb(1),s.rc("for",r),s.Eb(1),s.rc("ngIf",n.get("dateOfBirth").hasError("required")),s.Eb(8),s.rc("ngForOf",i.arrayGender),s.Eb(1),s.rc("ngIf",n.get("gender").hasError("required")),s.Eb(6),s.rc("ngForOf",i.arrayResidence),s.Eb(1),s.rc("ngIf",n.get("residenceStatus").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("placeOfBirth").hasError("required")),s.Eb(6),s.rc("ngForOf",i.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("countryOfResidence").hasError("required")),s.Eb(6),s.rc("ngForOf",i.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("nationality").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("occupationType").hasError("required")),s.Eb(2),s.rc("ngForOf",n.get("custIdProofs").controls),s.Eb(7),s.rc("ngForOf",n.get("userAddress").controls),s.Eb(12),s.rc("ngIf",n.get("phoneNumber").hasError("pattern")),s.Eb(1),s.rc("ngIf","0000000000"==n.get("phoneNumber").value),s.Eb(6),s.rc("ngIf",n.get("landlineNumber").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("landlineNumber").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("primaryEmailAdress").hasError("required")),s.Eb(2),s.rc("disabled",n.invalid)}}function Jt(t,e){if(1&t){var a=s.Yb();s.Xb(0,"form",7),s.Xb(1,"div"),s.Xb(2,"div",8),s.Xb(3,"div",9),s.Xb(4,"mat-hint",10),s.Tc(5,"Ownership"),s.Wb(),s.Xb(6,"mat-card"),s.Xb(7,"mat-select",11),s.fc("selectionChange",function(){return s.Hc(a),s.jc().changeOwner()}),s.Rc(8,H,2,2,"mat-option",12),s.Wb(),s.Wb(),s.Rc(9,Y,2,0,"mat-error",13),s.Wb(),s.Xb(10,"div",14),s.Rc(11,Z,15,5,"ng-container",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",16),s.Rc(13,qt,148,35,"div",17),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.rc("formGroup",n.customerInfoUpdateForm),s.Eb(8),s.rc("ngForOf",n.arrayOwnership),s.Eb(1),s.rc("ngIf",n.customerInfoUpdateForm.get("ownership").hasError("required")),s.Eb(2),s.rc("ngIf","Join"==n.customerInfoUpdateForm.get("ownership").value)("ngIfElse",n.showAdd),s.Eb(2),s.rc("ngForOf",n.applicant.controls)}}var Kt,$t=((Kt=function(){function t(e,n,o,r,i,c,s,l,b,u,d){a(this,t),this.data=e,this.dialogRef=n,this.appApiService=o,this.formBuilder=r,this.apiService=i,this.tasksummaryService=c,this.ls=s,this.snack=l,this.cdr=b,this.loader=u,this.confirmService=d,this.listOfAccounts=[],this.arrayCountry=[],this.arrayCity=[],this.arrayState=[]}return o(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.productCustomerId=this.ls.getItem("accountDetails.customerId"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getOwnershipValue("ownership"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getDocumentType("document_type"),this.getAdressType("address_type"),this.data?(this.buildCustomerForm(this.data.data),this.addCustFormGroup(this.data.data,this.data.data.length)):(this.buildCustomerForm(),this.addCustFormGroup(null,1)),console.log(this.customerInfoUpdateForm)}},{key:"f",get:function(){return this.customerInfoUpdateForm.controls}},{key:"applicantCount",get:function(){return this.f.numOfApplicants}},{key:"applicant",get:function(){return this.f.applicantDetails}},{key:"buildCustomerForm",value:function(t){this.customerInfoUpdateForm=this.formBuilder.group({productAccountId:this.accountId,ownership:t&&t.length>1?"Join":"Self",numOfApplicants:t?t.length.toString():1,applicantDetails:this.formBuilder.array([])})}},{key:"convertDate",value:function(t){var e=v(t).format("YYYY-MM-DD");if(console.log("date",e),e)return e}},{key:"addCustFormGroup",value:function(t,e){for(var a=0;a<e;a++)this.applicant.push(this.formBuilder.group({existingCustomer:[t[a]?t[a].existingCustomer:""],primaryCustomer:[t[a]?t[a].primaryCustomer:""],cifNumber:[t[a]?t[a].cifNumber:""],prefix:[t[a]?t[a].prefix:"",g.A.required],firstName:[t[a]?t[a].firstName:"",g.A.required],middleName:[t[a]?t[a].middleName:""],lastName:[t[a]?t[a].lastName:"",g.A.required],gender:[t[a]?t[a].gender:"",g.A.required],dateOfBirth:[t[a]?t[a].dateOfBirth:"",g.A.required],placeOfBirth:[t[a]?t[a].placeOfBirth:"",g.A.required],residenceStatus:[t[a]?t[a].residenceStatus:"",g.A.required],nationality:[t[a]?t[a].nationality:"",g.A.required],countryOfResidence:[t[a]?t[a].countryOfResidence:"",g.A.required],occupationType:[t[a]?t[a].occupationType:"",g.A.required],phoneNumber:[t[a]?t[a].phoneNumber:"",[g.A.required,g.A.minLength(3),g.A.maxLength(10),g.A.pattern("^[0-9]{10,12}$")]],landlineNumber:[t[a]?t[a].landlineNumber:"",[g.A.required,g.A.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:[t[a]?t[a].primaryEmailAdress:"",[g.A.required,g.A.email]],userAddress:this.formBuilder.array([]),custIdProofs:this.formBuilder.array([])})),this.addCustIdProofs(a,t[a].custIdProofs[0]),this.addAddress(a,t[a].userAddress[0])}},{key:"addAddress",value:function(t,e){this.applicant.controls[t].get("userAddress").push(this.formBuilder.group({addressType:[e?e.addressType:"",[g.A.required]],building:[e?e.building:"",[g.A.required]],street:[e?e.street:"",[g.A.required]],locality:[e?e.locality:"",[g.A.required]],city:[e?e.city:"",[g.A.required]],state:[e?e.state:"",[g.A.required]],country:[e?e.country:"",[g.A.required]],zipCode:[e?e.zipCode:"",[g.A.required]]}))}},{key:"addCustIdProofs",value:function(t,e){this.applicant.controls[t].get("custIdProofs").push(this.formBuilder.group({idNumber:[e?e.idNumber:"",g.A.required],idType:[e?e.idType:"",g.A.required],expiryDate:[e?e.expiryDate:"",g.A.required]}))}},{key:"changeOwner",value:function(){"Join"==this.customerInfoUpdateForm.get("ownership").value?this.customerInfoUpdateForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}):this.customerInfoUpdateForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1})}},{key:"onChangeApplicantNo",value:function(t){var e=t.target.value,a=this.customerInfoUpdateForm.get("numOfApplicants").value;if(e>a)this.addCustFormGroup(null,e-a);else for(var n=a-1;n>=e;n++)this.applicant.removeAt(n);this.customerInfoUpdateForm.get("numOfApplicants").setValue(e)}},{key:"changeIdType",value:function(t){console.log("doc::",t),console.log("this.customerIdProofs::",this.customerIdProofs);var e=this.customerIdProofs.filter(function(e){return e.idType==t});console.log("idProofs::",e),e.length>0?(this.applicant.get("idNumber").patchValue(e[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(e[0].expiryDate))):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t})}},{key:"getGenderValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayGender=t})}},{key:"getOwnershipValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayOwnership=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName===t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayState.push(t[a].stateName)});break}})}},{key:"getCityName",value:function(t){var e=this;console.log(t),this.apiService.getDropDownValues1("city",t).subscribe(function(t){e.arrayCity=t})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"getDocumentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayDocumentType=t})}},{key:"getAdressType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayAddressType=t})}},{key:"onSubmit",value:function(t,e){var a=this;console.log(t),this.isCifValid=!1,this.customerInfoUpdateForm.invalid||(this.loader.open(),"Passport"==t.value.idType&&(t.value.idType=this.convertDate(t.value.idType)),this.appApiService.createAndUpdateAccountants(t).subscribe(function(t){console.log("data::",t),a.closeDetails(),a.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(a.snack.open("Customer Information Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.customerInfoUpdateForm.get("ownership").patchValue(t.custDependentModel.ownership),a.customerInfoUpdateForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants),"Self"!=a.customerInfoUpdateForm.get("ownership").value&&a.applicant.controls.length-1!=e||a.dialogRef.close({status:"BACKLOG"}))},function(t){console.log(t),a.loader.close(),a.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}))}},{key:"isAllSameDigit",value:function(t){var e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;console.log("number :: ",a),console.log("isAllSameDigitVal :: ",e,a.length),e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"validateNumber",value:function(t){var e=t.keyCode;e>=48&&e<=57||e>=96&&e<=105||[8,37,39,46].includes(e)||t.preventDefault()}},{key:"onSave",value:function(){this.dialogRef.close({status:"BACKLOG"})}},{key:"closeDetails",value:function(){this.selectedApplicant=null,this.applicant.reset(),this.customerInfoUpdateForm.get("numOfApplicants").enable({onlySelf:!0})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Kt)(s.Rb(m.a),s.Rb(m.g),s.Rb(f.a),s.Rb(g.f),s.Rb(l.b),s.Rb(h.a),s.Rb(d.a),s.Rb(y.a),s.Rb(s.h),s.Rb(q.a),s.Rb(z.a))},Kt.\u0275cmp=s.Lb({type:Kt,selectors:[["app-customer-info-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","50"],[1,"hintClass"],["formControlName","ownership","name","owner","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","50","fxFlex.gt-xs","50"],[4,"ngIf","ngIfElse"],["formArrayName","applicantDetails"],[3,"item","formGroupName",4,"ngFor","ngForOf"],[3,"value"],[1,"errorClass"],["appearance","outline",1,"full-width"],["formControlName","numOfApplicants","name","account",3,"selectionChange"],[3,"item","formGroupName"],["multi","true"],[1,"check-circle"],[1,"ml-8"],["mat-card-avatar",""],[3,"name"],["fxLayout","row"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%"],["formControlName","existingCustomer"],["formControlName","primaryCustomer"],[1,"mb-16"],["fxFlex","30%","fxFlex.xs","100%"],[1,"inputCard"],["name","prefix","formControlName","prefix"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","Date of birth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],["name","gender","formControlName","gender"],["name","residenceType","formControlName","residenceStatus"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],["name","resident","formControlName","countryOfResidence"],["name","citizen","formControlName","nationality"],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type"],["formArrayName","custIdProofs","fxFlex","100%"],["fxFlex","100%","fxLayout","row wrap",3,"formGroupName",4,"ngFor","ngForOf"],["expanded","true",1,"mb-8"],["formArrayName","userAddress"],[3,"formGroupName",4,"ngFor","ngForOf"],["maxlength","10","matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number",3,"keypress"],["class","errorClass","style","margin-top:-20px",4,"ngIf"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail"],[1,"pb-1"],["mat-button","","color","primary",1,"place_1",3,"disabled","click"],["mat-sm-chip","",3,"color","selected"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","100%","fxLayout","row wrap",3,"formGroupName"],["name","idtype","formControlName","idType",3,"selectionChange"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["fxFlex","30%","fxFlex.xs","100%",4,"ngIf"],["fxLayout","row",1,"inputCard"],["fxFlex","85%"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"matDatepicker","min"],["fxFlex","15%"],["appDatepicker1",""],[3,"formGroupName"],["fxLayout","row wrap"],["matInput","","formControlName","address1","placeholder","Address 1"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],[2,"color","#E74C3C"],[1,"errorClass",2,"margin-top","-20px"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Customer Information Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,Jt,14,6,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSave()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.customerInfoUpdateForm),s.Eb(2),s.rc("disabled",e.customerInfoUpdateForm.invalid))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,i.n,R.b,g.C,g.s,g.j,W.b,T.f,I.a,C.a,g.r,g.i,g.z,i.m,g.e,D.n,T.b,T.c,T.g,g.k,J.a,J.c,J.e,J.f,I.e,I.c,I.h,I.g,A.a,E.b,g.c,x.e,x.g,T.j,x.d,g.m,K.a,i.s,g.x,g.n,$.a],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Kt),Ht=r("YS3K"),Yt=r("LvDl"),Zt=r("zQhy"),Qt=r("pMoy");function te(t,e){if(1&t){var a=s.Yb();s.Xb(0,"p",31),s.Xb(1,"mat-checkbox",32),s.fc("change",function(t){s.Hc(a);var n=e.$implicit;return s.jc(2).onChecklistChange(t.checked,n)}),s.Tc(2),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("value",n)("checked",n.checked),s.Eb(1),s.Vc("",n.name," ")}}function ee(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",33),s.Xb(1,"mat-checkbox",32),s.fc("change",function(t){s.Hc(a);var n=e.$implicit;return s.jc(2).onCheckbankChange(t.checked,n)}),s.Tc(2),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("value",n)("checked",n.checked),s.Eb(1),s.Vc("",n.name," ")}}function ae(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",34),s.Xb(1,"mat-checkbox",32),s.fc("change",function(t){s.Hc(a);var n=e.$implicit;return s.jc(2).onCheckComChange(t.checked,n)}),s.Tc(2),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("value",n)("checked",n.checked),s.Eb(1),s.Vc("",n.name," ")}}function ne(t,e){if(1&t&&(s.Xb(0,"mat-option",40),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function oe(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"table",41),s.Xb(2,"thead",42),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Card Type"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Daily Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"Domestic Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"International Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"ATM Limit"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"POS Limit "),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Xb(19,"tr"),s.Xb(20,"td"),s.Tc(21,"Normal"),s.Wb(),s.Xb(22,"td"),s.Tc(23,"20,000"),s.Wb(),s.Xb(24,"td"),s.Tc(25,"20,000"),s.Wb(),s.Xb(26,"td"),s.Tc(27,"Nil"),s.Wb(),s.Xb(28,"td"),s.Tc(29,"10,000"),s.Wb(),s.Sb(30,"td"),s.Sb(31,"td"),s.Wb(),s.Wb(),s.Wb(),s.Wb())}function re(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"table",41),s.Xb(2,"thead",42),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Card Type"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Daily Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"Domestic Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"International Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"ATM Limit"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"POS Limit "),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Xb(19,"tr"),s.Xb(20,"td"),s.Tc(21,"Silver"),s.Wb(),s.Xb(22,"td"),s.Tc(23,"40,000"),s.Wb(),s.Xb(24,"td"),s.Tc(25,"40,000"),s.Wb(),s.Xb(26,"td"),s.Tc(27,"20,000"),s.Wb(),s.Xb(28,"td"),s.Tc(29,"40,000"),s.Wb(),s.Sb(30,"td"),s.Sb(31,"td"),s.Wb(),s.Wb(),s.Wb(),s.Wb())}function ie(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"table",41),s.Xb(2,"thead",42),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Card Type"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Daily Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"Domestic Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"International Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"ATM Limit"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"POS Limit "),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Xb(19,"tr"),s.Xb(20,"td"),s.Tc(21,"Gold"),s.Wb(),s.Xb(22,"td"),s.Tc(23,"50,000"),s.Wb(),s.Xb(24,"td"),s.Tc(25,"50,000"),s.Wb(),s.Xb(26,"td"),s.Tc(27,"30,000"),s.Wb(),s.Xb(28,"td"),s.Tc(29,"50,000"),s.Wb(),s.Sb(30,"td"),s.Sb(31,"td"),s.Wb(),s.Wb(),s.Wb(),s.Wb())}function ce(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"table",41),s.Xb(2,"thead",42),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Card Type"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Daily Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"Domestic Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"International Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"ATM Limit"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"POS Limit "),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Xb(19,"tr"),s.Xb(20,"td"),s.Tc(21,"Diamond"),s.Wb(),s.Xb(22,"td"),s.Tc(23,"75,000"),s.Wb(),s.Xb(24,"td"),s.Tc(25,"75,000"),s.Wb(),s.Xb(26,"td"),s.Tc(27,"50,000"),s.Wb(),s.Xb(28,"td"),s.Tc(29,"75,000"),s.Wb(),s.Sb(30,"td"),s.Sb(31,"td"),s.Wb(),s.Wb(),s.Wb(),s.Wb())}function se(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"table",41),s.Xb(2,"thead",42),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Card Type"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Daily Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"Domestic Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"International Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"ATM Limit"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"POS Limit "),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Xb(19,"tr"),s.Xb(20,"td"),s.Tc(21,"Platinum"),s.Wb(),s.Xb(22,"td"),s.Tc(23,"1,00,000"),s.Wb(),s.Xb(24,"td"),s.Tc(25,"1,00,000"),s.Wb(),s.Xb(26,"td"),s.Tc(27,"1,00,000"),s.Wb(),s.Xb(28,"td"),s.Tc(29,"1,00,000"),s.Wb(),s.Sb(30,"td"),s.Sb(31,"td"),s.Wb(),s.Wb(),s.Wb(),s.Wb())}function le(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",35),s.Xb(1,"mat-form-field",36),s.Xb(2,"mat-label"),s.Tc(3,"Card Type"),s.Wb(),s.Xb(4,"mat-select",37),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).cards(t)}),s.Rc(5,ne,2,2,"mat-option",38),s.Wb(),s.Wb(),s.Xb(6,"div"),s.Rc(7,oe,32,0,"div",39),s.Rc(8,re,32,0,"div",39),s.Rc(9,ie,32,0,"div",39),s.Rc(10,ce,32,0,"div",39),s.Rc(11,se,32,0,"div",39),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(5),s.rc("ngForOf",n.arrayCardType),s.Eb(2),s.rc("ngIf",n.Normal),s.Eb(1),s.rc("ngIf",n.Silver),s.Eb(1),s.rc("ngIf",n.Gold),s.Eb(1),s.rc("ngIf",n.Diamond),s.Eb(1),s.rc("ngIf",n.Platinum)}}function be(t,e){if(1&t){var a=s.Yb();s.Xb(0,"form",7),s.Xb(1,"div",8),s.Xb(2,"div"),s.Xb(3,"div"),s.Xb(4,"mat-label"),s.Tc(5," Account Statement Frequency "),s.Wb(),s.Wb(),s.Xb(6,"div"),s.Xb(7,"mat-radio-group",9),s.fc("change",function(t){return s.Hc(a),s.jc().statementFrequency(t.value)}),s.Xb(8,"mat-radio-button",10),s.Tc(9," Monthly "),s.Wb(),s.Xb(10,"mat-radio-button",11),s.Tc(11," Bi-Annual "),s.Wb(),s.Xb(12,"mat-radio-button",12),s.Tc(13," Quaterly "),s.Wb(),s.Xb(14,"mat-radio-button",13),s.Tc(15," Annual "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div"),s.Xb(18,"mat-label"),s.Tc(19," Account Statement Preference* "),s.Wb(),s.Wb(),s.Xb(20,"div"),s.Rc(21,te,3,3,"p",14),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div",15),s.Xb(23,"button",16),s.Tc(24," MORE PREFERENCE "),s.Wb(),s.Wb(),s.Xb(25,"div"),s.Xb(26,"div",8),s.Xb(27,"div",17),s.Xb(28,"div",18),s.Xb(29,"mat-label"),s.Tc(30," Banking Channel Preferences* "),s.Wb(),s.Wb(),s.Xb(31,"div",18),s.Rc(32,ee,3,3,"div",19),s.Wb(),s.Wb(),s.Xb(33,"div",17),s.Xb(34,"div",18),s.Xb(35,"mat-label"),s.Tc(36,"Communication Channel Preferences*"),s.Wb(),s.Wb(),s.Xb(37,"div",18),s.Rc(38,ae,3,3,"div",20),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",21),s.Xb(40,"div",22),s.Sb(41,"div",23),s.Xb(42,"div",24),s.Tc(43," Do you need a cheque book? "),s.Sb(44,"mat-slide-toggle",25),s.Wb(),s.Wb(),s.Xb(45,"div",26),s.Xb(46,"div",24),s.Tc(47," Do you need a passbook book? "),s.Sb(48,"mat-slide-toggle",27),s.Wb(),s.Wb(),s.Wb(),s.Xb(49,"div",21),s.Xb(50,"div",28),s.Sb(51,"div",23),s.Xb(52,"div",24),s.Tc(53," Do you need a debit card? "),s.Xb(54,"mat-slide-toggle",29),s.fc("change",function(t){return s.Hc(a),s.jc().onToggle(t)}),s.Wb(),s.Wb(),s.Wb(),s.Rc(55,le,12,6,"div",30),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.rc("formGroup",n.serviceUpdateForm),s.Eb(21),s.rc("ngForOf",n.statementList),s.Eb(11),s.rc("ngForOf",n.bankList),s.Eb(6),s.rc("ngForOf",n.communicationList),s.Eb(17),s.rc("ngIf",n.isDebitLimit)}}var ue,de=((ue=function(){function t(e,n,o,r,i,c,s,l){a(this,t),this.data=e,this.dialogRef=n,this.ls=o,this.formBuilder=r,this.cdr=i,this.apiService=c,this.snack=s,this.tasksummaryService=l,this.statementList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1}],this.bankList=[{id:1,name:"Phone Banking",checked:!1},{id:2,name:"Kiosk Banking",checked:!1},{id:3,name:"Direct Banking",checked:!1}],this.communicationList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1},{id:3,name:"SMS",checked:!1}],this.bankChannelPreferencesArray=[],this.arrayCardType=["Normal","Silver","Gold","Diamond","Platinum"],this.arrayModeOfOperation=["25000","50000","100000"],this.commChannelPreferencesArray=[],this.AccStatementPreferenceArray=[],this.Platinum=!1,this.Diamond=!1,this.Normal=!1,this.Silver=!1,this.Gold=!1}return o(t,[{key:"ngOnInit",value:function(){if(console.log(this.data),this.accountId=this.ls.getItem("accountId"),null!=this.data&&null!=this.data){this.buildServiceForm(this.data),this.statementList=this.data.statementPref,this.communicationList=this.data.commChannelPref,this.bankList=this.data.bankChannelPref,this.data.debitCardRequired&&(this.isDebitLimit=!0),this.cdr.markForCheck();for(var t=0;t<this.bankList.length;t++)this.bankList[t].checked&&this.bankChannelPreferencesArray.push(this.bankList[t].name);for(t=0;t<this.communicationList.length;t++)this.communicationList[t].checked&&this.commChannelPreferencesArray.push(this.communicationList[t].name);for(t=0;t<this.statementList.length;t++)this.statementList[t].checked&&this.AccStatementPreferenceArray.push(this.statementList[t].name)}else this.buildServiceForm(),this.serviceUpdateForm.controls.statementPref.patchValue(this.statementList),this.serviceUpdateForm.controls.commChannelPref.patchValue(this.communicationList)}},{key:"buildServiceForm",value:function(t){this.serviceUpdateForm=this.formBuilder.group({accServiceId:[t?t.accServiceId:null],productAccountId:[null!=this.accountId?this.accountId:null],statementFrequency:[t?t.statementFrequency:""],statementPref:[t?this.flattenValues(t.statementPref):""],bankChannelPref:[t?t.bankChannelPref:""],commChannelPref:[t?this.flattenValues(t.commChannelPref):""],chequebookNeeded:[!!t&&t.chequebookNeeded],debitcardNeeded:[!!t&&t.debitcardNeeded],passbookNeeded:[!!t&&t.passbookNeeded],cardType:[t?t.cardType:""],modeOfOperation:[t?t.modeOfOperation:""],debitCardRequired:[!!t&&t.debitCardRequired],debitCardLimit:[t?t.debitCardLimit:0],debitCardType:[t?t.debitCardType:""]})}},{key:"flattenValues",value:function(t){return Object(Yt.flow)([Object(Ht.filter)(function(t){return t.checked}),Object(Ht.flatMap)(function(t){return t.name})])(t).join(",")}},{key:"onToggle",value:function(t){console.log("event",t.checked),this.isDebitLimit=1==t.checked}},{key:"cards",value:function(t){console.log(t.value),"Normal"==t.value?(console.log(t.value),this.Normal=!0,this.Silver=!1,this.Gold=!1,this.Diamond=!1,this.Platinum=!1):"Silver"==t.value?(this.Silver=!0,this.Normal=!1,this.Gold=!1,this.Diamond=!1,this.Platinum=!1):"Gold"==t.value?(this.Gold=!0,this.Silver=!1,this.Normal=!1,this.Diamond=!1,this.Platinum=!1):"Diamond"==t.value?(this.Diamond=!0,this.Normal=!1,this.Silver=!1,this.Gold=!1,this.Platinum=!1):"Platinum"==t.value&&(this.Platinum=!0,this.Normal=!1,this.Silver=!1,this.Gold=!1,this.Diamond=!1)}},{key:"onChecklistChange",value:function(t,e){var a=this;e.checked=t,this.serviceUpdateForm.get("statementPref").setValue(this.flattenValues(this.statementList)),t?this.AccStatementPreferenceArray.push(e.name):this.AccStatementPreferenceArray.forEach(function(t,n){t===e.name&&a.AccStatementPreferenceArray.splice(n,1)})}},{key:"onCheckComChange",value:function(t,e){var a=this;console.log(t),console.log(e),e.checked=t,this.serviceUpdateForm.get("commChannelPref").setValue(this.flattenValues(this.communicationList)),t?(this.commChannelPreferencesArray.push(e.name),console.log("checked",e.name)):this.commChannelPreferencesArray.forEach(function(t,n){t===e.name&&(a.commChannelPreferencesArray.splice(n,1),console.log("checked",e.name))})}},{key:"onCheckbankChange",value:function(t,e){var a=this;console.log(t),console.log(e),e.checked=t,this.serviceUpdateForm.get("bankChannelPref").setValue(this.flattenValues(this.bankList)),t?(this.bankChannelPreferencesArray.push(e.name),console.log("checked",e.name)):this.bankChannelPreferencesArray.forEach(function(t,n){t===e.name&&(a.bankChannelPreferencesArray.splice(n,1),console.log("checked",e.name))})}},{key:"onSubmit",value:function(){var t=this;this.serviceUpdateForm.invalid||this.apiService.createAccountService(this.accountId,{productAccountId:this.accountId,accServiceId:this.serviceUpdateForm.value.accServiceId,statementFrequency:this.serviceUpdateForm.value.statementFrequency,statementPref:this.statementList,bankChannelPref:this.bankList,commChannelPref:this.communicationList,chequebookNeeded:this.serviceUpdateForm.value.chequebookNeeded,debitCardRequired:this.serviceUpdateForm.value.debitCardRequired,passbookNeeded:this.serviceUpdateForm.value.passbookNeeded,debitCardLimit:this.serviceUpdateForm.value.debitCardLimit,debitCardType:this.serviceUpdateForm.value.debitCardType,accountType:"createAccount"}).subscribe(function(e){console.log(e),t.snack.open("Account Service Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})},function(t){console.log(t)})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||ue)(s.Rb(m.a),s.Rb(m.g),s.Rb(d.a),s.Rb(g.f),s.Rb(s.h),s.Rb(l.b),s.Rb(y.a),s.Rb(h.a))},ue.\u0275cmp=s.Lb({type:ue,selectors:[["app-service-details-update"]],decls:17,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","20%"],["name","statementFreq","formControlName","statementFrequency","required","",3,"change"],["value","MONTHLY","color","primary"],["value","BIANNUAL","color","primary"],["value","QUATERLY","color","primary"],["value","ANNUAL","color","primary"],["formArrayName","statementPref",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"mt-32"],["mat-button","","rounded","","color","primary"],["fxLayout","row wrap"],["fxFlex","100"],["fxFlex","60","formArrayName","bankChannelPref",4,"ngFor","ngForOf"],["fxFlex","25","formArrayName","commChannelPref",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"m-32"],[1,"pb-1","mt-32"],["color","primary","name","checqueBook","formControlName","chequebookNeeded"],["fxFlex","100","fxFlex.gt-xs","50"],["color","primary","name","passbook","formControlName","passbookNeeded"],["fxFlex","100","fxFlex.gt-xs","25",1,"pr-1"],["color","primary","name","debitCardRequired","formControlName","debitCardRequired",3,"change"],["fxFlex","100","style","padding-top: 20px;","fxFlex.gt-xs","20","class","pr-1",4,"ngIf"],["formArrayName","statementPref"],["color","primary",1,"checkbox-margin",3,"value","checked","change"],["fxFlex","60","formArrayName","bankChannelPref"],["fxFlex","25","formArrayName","commChannelPref"],["fxFlex","100","fxFlex.gt-xs","20",1,"pr-1",2,"padding-top","20px"],["appearance","outline",1,"full-width"],["formControlName","debitCardType","name","debitCardType","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"table","table-bordered"],[2,"color","#03a9f4"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Account Service Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"mat-card-title"),s.Tc(8," Account Statement "),s.Wb(),s.Xb(9,"mat-card-content"),s.Rc(10,be,56,5,"form",3),s.Wb(),s.Wb(),s.Wb(),s.Xb(11,"div",4),s.Xb(12,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(13,"Save"),s.Wb(),s.Tc(14," \xa0\xa0\xa0 "),s.Xb(15,"button",6),s.fc("click",function(){return e.close()}),s.Tc(16," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(10),s.rc("ngIf",e.serviceUpdateForm),s.Eb(2),s.rc("disabled",!e.serviceUpdateForm.valid||0==e.bankChannelPreferencesArray.length||0==e.commChannelPreferencesArray.length||0==e.AccStatementPreferenceArray.length))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,I.a,I.h,I.d,i.n,R.b,g.C,g.s,g.j,T.g,Zt.b,g.r,g.i,g.z,Zt.a,i.m,W.b,A.a,g.e,Qt.a,T.c,C.a,D.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),ue);function me(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function fe(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Prefix is Required! "),s.Wb())}function pe(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," First Name is Required! "),s.Wb())}function he(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Only Alphabets allowed "),s.Wb())}function ge(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Only Alphabets allowed "),s.Wb())}function ve(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Last Name is Required! "),s.Wb())}function ye(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Only Alphabets allowed "),s.Wb())}function We(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Xe(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Relationship Type is Required! "),s.Wb())}function Te(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Date of Birth is Required! "),s.Wb())}function Ie(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Ee(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Prefix is Required! "),s.Wb())}function Ce(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," First Name is Required! "),s.Wb())}function xe(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Last Name is Required! "),s.Wb())}function Ae(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Relationship Type is Required! "),s.Wb())}function Re(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Date of Birth is Required! "),s.Wb())}function Oe(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",45),s.Xb(2,"h3"),s.Xb(3,"strong"),s.Tc(4,"Guardians Details"),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div",46),s.Xb(6,"div"),s.Xb(7,"div",12),s.Xb(8,"mat-hint"),s.Tc(9,"Prefix*"),s.Wb(),s.Xb(10,"mat-card"),s.Xb(11,"mat-select",47),s.Rc(12,Ie,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(13,Ee,2,0,"mat-error",15),s.Wb(),s.Xb(14,"div",12),s.Xb(15,"mat-hint"),s.Tc(16,"First Name*"),s.Wb(),s.Xb(17,"mat-card"),s.Xb(18,"input",48),s.fc("keypress",function(t){return s.Hc(a),s.jc(3).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(19,Ce,2,0,"mat-error",15),s.Wb(),s.Xb(20,"div",12),s.Xb(21,"mat-hint"),s.Tc(22,"Middle Name"),s.Wb(),s.Xb(23,"mat-card"),s.Xb(24,"input",49),s.fc("keypress",function(t){return s.Hc(a),s.jc(3).letterOnly(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",12),s.Xb(26,"mat-hint"),s.Tc(27,"Last Name*"),s.Wb(),s.Xb(28,"mat-card"),s.Xb(29,"input",50),s.fc("keypress",function(t){return s.Hc(a),s.jc(3).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(30,xe,2,0,"mat-error",15),s.Wb(),s.Xb(31,"div",12),s.Xb(32,"mat-hint"),s.Tc(33,"RelationShip Type*"),s.Wb(),s.Xb(34,"mat-card"),s.Sb(35,"input",51),s.Wb(),s.Rc(36,Ae,2,0,"mat-error",15),s.Wb(),s.Xb(37,"div",12),s.Xb(38,"mat-hint"),s.Tc(39,"Date Of Birth*"),s.Wb(),s.Xb(40,"mat-card"),s.Sb(41,"input",52),s.Sb(42,"mat-datepicker-toggle",21),s.Wb(),s.Rc(43,Re,2,0,"mat-error",15),s.Sb(44,"mat-datepicker",null,53),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.Dc(45),i=s.jc(3);s.Eb(5),s.rc("formGroupName",o),s.Eb(7),s.rc("ngForOf",i.arrayPrefix),s.Eb(1),s.rc("ngIf",n.get("prefix").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("firstName").hasError("required")),s.Eb(11),s.rc("ngIf",n.get("lastName").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("relationshipType").hasError("required")),s.Eb(5),s.rc("matDatepicker",r)("max",i.tomorrow),s.Eb(1),s.rc("for",r),s.Eb(1),s.rc("ngIf",n.get("dateOfBirth").hasError("required"))}}function De(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Street is Required! "),s.Wb())}function ke(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Locality is Required! "),s.Wb())}function Se(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Building is Required! "),s.Wb())}function Ne(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Pe(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Country is Required! "),s.Wb())}function Fe(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.stateName),s.Eb(1),s.Uc(a.stateName)}}function Le(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," State is Required! "),s.Wb())}function we(t,e){if(1&t&&(s.Xb(0,"mat-option",43),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Uc(a.value1)}}function Ue(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," City is Required! "),s.Wb())}function _e(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Please enter Zip Code! "),s.Wb())}function Me(t,e){1&t&&(s.Xb(0,"h5",54),s.Tc(1,"Please enter valid Zip Code!"),s.Wb())}function Ge(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Mobile number is Required! "),s.Wb())}function Ve(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Please Enter 10 Digit Mobile Number! "),s.Wb())}function Be(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Email is Required! "),s.Wb())}function je(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," Email must be a valid email address! "),s.Wb())}function ze(t,e){1&t&&(s.Xb(0,"mat-error",44),s.Tc(1," It is not a valid Landline number. "),s.Wb())}function qe(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",9),s.Xb(1,"mat-accordion"),s.Xb(2,"mat-expansion-panel",10),s.fc("opened",function(){return s.Hc(a),s.jc(2).panelOpenState=!0})("closed",function(){return s.Hc(a),s.jc(2).panelOpenState=!1}),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Tc(5),s.Wb(),s.Wb(),s.Xb(6,"div",11),s.Xb(7,"div",12),s.Xb(8,"mat-hint"),s.Tc(9,"Prefix*"),s.Wb(),s.Xb(10,"mat-card"),s.Xb(11,"mat-select",13),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).changeClient(t.value)}),s.Rc(12,me,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(13,fe,2,0,"mat-error",15),s.Wb(),s.Xb(14,"div",12),s.Xb(15,"mat-hint"),s.Tc(16,"First Name*"),s.Wb(),s.Xb(17,"mat-card"),s.Xb(18,"input",16),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(19,pe,2,0,"mat-error",15),s.Rc(20,he,2,0,"mat-error",15),s.Wb(),s.Xb(21,"div",12),s.Xb(22,"mat-hint"),s.Tc(23,"Middle Name"),s.Wb(),s.Xb(24,"mat-card"),s.Xb(25,"input",17),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(26,ge,2,0,"mat-error",15),s.Wb(),s.Xb(27,"div",12),s.Xb(28,"mat-hint"),s.Tc(29,"Last Name*"),s.Wb(),s.Xb(30,"mat-card"),s.Xb(31,"input",18),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(32,ve,2,0,"mat-error",15),s.Rc(33,ye,2,0,"mat-error",15),s.Wb(),s.Xb(34,"div",12),s.Xb(35,"mat-hint"),s.Tc(36,"Relationship Type*"),s.Wb(),s.Xb(37,"mat-card"),s.Xb(38,"mat-select",19),s.Rc(39,We,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(40,Xe,2,0,"mat-error",15),s.Wb(),s.Xb(41,"div",12),s.Xb(42,"mat-hint"),s.Tc(43,"Date of Birth*"),s.Wb(),s.Xb(44,"mat-card"),s.Xb(45,"input",20),s.fc("dateInput",function(t){return s.Hc(a),s.jc(2).addInput(t)})("dateChange",function(t){s.Hc(a);var n=e.$implicit;return s.jc(2).addevent(n.controls.guardianDetails,t)}),s.Wb(),s.Sb(46,"mat-datepicker-toggle",21),s.Wb(),s.Rc(47,Te,2,0,"mat-error",15),s.Sb(48,"mat-datepicker",null,22),s.Wb(),s.Xb(50,"div",23),s.Tc(51," Is the Nominee a Minor? "),s.Xb(52,"mat-slide-toggle",24),s.fc("change",function(t){s.Hc(a);var n=e.$implicit,o=e.index;return s.jc(2).onChange(n.controls.guardianDetails,t,o)}),s.Wb(),s.Wb(),s.Xb(53,"div",25),s.Rc(54,Oe,46,10,"div",26),s.Wb(),s.Xb(55,"div",23),s.Tc(56," Same address as Applicant? "),s.Xb(57,"mat-slide-toggle",27),s.fc("change",function(t){return s.Hc(a),s.jc(2).clickToggle(t)}),s.Wb(),s.Wb(),s.Xb(58,"mat-accordion"),s.Xb(59,"mat-expansion-panel",28),s.Xb(60,"mat-expansion-panel-header"),s.Xb(61,"mat-panel-title"),s.Tc(62,"Nominee Address "),s.Wb(),s.Wb(),s.Xb(63,"div",29),s.Xb(64,"div",12),s.Xb(65,"mat-hint"),s.Tc(66,"Street*"),s.Wb(),s.Xb(67,"mat-card"),s.Sb(68,"input",30),s.Wb(),s.Rc(69,De,2,0,"mat-error",15),s.Wb(),s.Xb(70,"div",12),s.Xb(71,"mat-hint"),s.Tc(72,"Locality*"),s.Wb(),s.Xb(73,"mat-card"),s.Sb(74,"input",31),s.Wb(),s.Rc(75,ke,2,0,"mat-error",15),s.Wb(),s.Xb(76,"div",12),s.Xb(77,"mat-hint"),s.Tc(78,"Building*"),s.Wb(),s.Xb(79,"mat-card"),s.Sb(80,"input",32),s.Wb(),s.Rc(81,Se,2,0,"mat-error",15),s.Wb(),s.Xb(82,"div",12),s.Xb(83,"mat-hint"),s.Tc(84,"Country*"),s.Wb(),s.Xb(85,"mat-card"),s.Xb(86,"mat-select",33),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).getStateName(t.value)}),s.Rc(87,Ne,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(88,Pe,2,0,"mat-error",15),s.Wb(),s.Xb(89,"div",12),s.Xb(90,"mat-hint"),s.Tc(91,"State*"),s.Wb(),s.Xb(92,"mat-card"),s.Xb(93,"mat-select",34),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).getCityName(t.value)}),s.Rc(94,Fe,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(95,Le,2,0,"mat-error",15),s.Wb(),s.Xb(96,"div",12),s.Xb(97,"mat-hint"),s.Tc(98,"city*"),s.Wb(),s.Xb(99,"mat-card"),s.Xb(100,"mat-select",35),s.Rc(101,we,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(102,Ue,2,0,"mat-error",15),s.Wb(),s.Xb(103,"div",12),s.Xb(104,"mat-hint"),s.Tc(105,"Zip Code*"),s.Wb(),s.Xb(106,"mat-card"),s.Xb(107,"input",36),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)})("keyup",function(t){return s.Hc(a),s.jc(2).isAllSameDigit(t)}),s.Wb(),s.Wb(),s.Rc(108,_e,2,0,"mat-error",15),s.Rc(109,Me,2,0,"h5",37),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(110,"mat-accordion"),s.Xb(111,"mat-expansion-panel",28),s.Xb(112,"mat-expansion-panel-header"),s.Xb(113,"mat-panel-title"),s.Tc(114,"Contact Information "),s.Wb(),s.Wb(),s.Xb(115,"div",29),s.Xb(116,"div",12),s.Xb(117,"mat-hint"),s.Tc(118,"Mobile Number*"),s.Wb(),s.Xb(119,"mat-card"),s.Xb(120,"input",38),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(121,Ge,2,0,"mat-error",15),s.Rc(122,Ve,2,0,"mat-error",15),s.Wb(),s.Xb(123,"div",12),s.Xb(124,"mat-hint"),s.Tc(125,"E-mail*"),s.Wb(),s.Xb(126,"mat-card"),s.Sb(127,"input",39),s.Wb(),s.Rc(128,Be,2,0,"mat-error",15),s.Rc(129,je,2,0,"mat-error",15),s.Wb(),s.Xb(130,"div",12),s.Xb(131,"mat-hint"),s.Tc(132,"Landline Number"),s.Wb(),s.Xb(133,"mat-card"),s.Xb(134,"input",40),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(135,ze,2,0,"mat-error",15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(136,"button",41),s.fc("click",function(){return s.Hc(a),s.jc(2).addNominee()}),s.Xb(137,"mat-icon"),s.Tc(138,"add"),s.Wb(),s.Tc(139," ADD NOMINEE "),s.Wb(),s.Xb(140,"button",42),s.fc("click",function(){s.Hc(a);var t=e.index;return s.jc(2).removeNominee(t)}),s.Xb(141,"mat-icon"),s.Tc(142,"delete"),s.Wb(),s.Tc(143,"REMOVE "),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.Dc(49),i=s.jc(2);s.Eb(5),s.Wc(" ",1==i.showEditOption?"Edit":"Create"," Nominee ",o+1," "),s.Eb(1),s.rc("formGroup",n),s.Eb(6),s.rc("ngForOf",i.arrayPrefix),s.Eb(1),s.rc("ngIf",n.get("prefix").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("firstName").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("firstName").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("middleName").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("lastName").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("lastName").hasError("pattern")),s.Eb(5),s.rc("value",i.relationshipType),s.Eb(1),s.rc("ngForOf",i.arrayRelationshipType),s.Eb(1),s.rc("ngIf",n.get("relationshipType").hasError("required")),s.Eb(5),s.rc("matDatepicker",r)("max",i.tomorrow),s.Eb(1),s.rc("for",r),s.Eb(1),s.rc("ngIf",n.get("dateOfBirth").hasError("required")),s.Eb(7),s.rc("ngForOf",n.get("guardianDetails").controls),s.Eb(15),s.rc("ngIf",n.get("street").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("locality").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("building").hasError("required")),s.Eb(6),s.rc("ngForOf",i.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("country").hasError("required")),s.Eb(6),s.rc("ngForOf",i.arrayState),s.Eb(1),s.rc("ngIf",n.get("state").hasError("required")),s.Eb(6),s.rc("ngForOf",i.arrayCity),s.Eb(1),s.rc("ngIf",n.get("city").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("zipCode").hasError("required")&&!n.controls.zipCode.valid&&(null==n.controls.zipCode?null:n.controls.zipCode.touched)),s.Eb(1),s.rc("ngIf",i.isAllSameDigitVal),s.Eb(12),s.rc("ngIf",n.get("phoneNumber").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("phoneNumber").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("email").hasError("required")),s.Eb(1),s.rc("ngIf",n.get("email").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("mobileNumber").hasError("pattern")),s.Eb(1),s.rc("disabled",null==i.nomineeForms?null:i.nomineeForms.invalid)}}function Je(t,e){if(1&t&&(s.Xb(0,"form",7),s.Rc(1,qe,144,35,"div",8),s.Wb()),2&t){var a=s.jc();s.rc("formGroup",a.nomineeUpdateForm),s.Eb(1),s.rc("ngForOf",a.n.controls)}}var Ke,$e=((Ke=function(){function t(e,n,o,r,i,c,s,l){a(this,t),this.data=e,this.dialogRef=n,this.apiService=o,this.formBuilder=r,this.ls=i,this.appApiService=c,this.confirmService=s,this.snack=l,this.arrayState=[],this.arrayCity=[]}return o(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getCountryName("country"),this.getRelationShipType("relationship_type"),this.getPrefixValue("prefix"),this.data?(this.getStateName(this.data[0].country),this.getCityName(this.data[0].state),this.buildNomineeForm(),this.addGroup(this.data),this.showEditOption=!0):(this.showEditOption=!1,this.buildNomineeForm(),this.addGroup())}},{key:"buildNomineeForm",value:function(){this.nomineeUpdateForm=this.formBuilder.group({nominees:this.formBuilder.array([])})}},{key:"addGroup",value:function(t){for(var e=t?t.length:1,a=0;a<e;a++)this.expandAddress=t[a].isAddrSameAsApplicant,t[a].dateOfBirth=v(t[a].dateOfBirth).format(),t[a].isNomineeMinor&&(t[a].guardianDetails[0].dateOfBirth=v(t[a].guardianDetails[0].dateOfBirth).format()),this.n.push(this.formBuilder.group({prefix:["",g.A.required],firstName:["",g.A.required],middleName:[""],lastName:["",g.A.required],relationshipType:["",g.A.required],dateOfBirth:["",g.A.required],nomineeId:[""],building:["",g.A.required],street:["",g.A.required],locality:["",g.A.required],city:["",g.A.required],state:["",g.A.required],country:["",g.A.required],zipCode:["",[g.A.required,g.A.minLength(5),g.A.maxLength(10)]],phoneNumber:["",[g.A.required,g.A.pattern("^[0-9]{10,12}$")]],mobileNumber:["",[g.A.pattern("^[0-9]{10,12}$")]],isAddrSameAsApplicant:[!1,g.A.required],isNomineeMinor:[!1,g.A.required],email:["",[g.A.required,g.A.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],guardianDetails:t[a].isNomineeMinor?[this.formBuilder.group({dateOfBirth:["",g.A.required],firstName:["",g.A.required],guardianId:[""],lastName:["",g.A.required],middleName:[""],nomineeId:[""],prefix:["",g.A.required],relationshipType:["",g.A.required]})]:[]})),this.n.at(a).patchValue(t[a])}},{key:"f",get:function(){return this.nomineeUpdateForm.controls}},{key:"n",get:function(){return this.f.nominees}},{key:"addGuardian",value:function(t){return t.push(this.formBuilder.group({prefix:["",g.A.required],firstName:["",g.A.required],middleName:[""],nomineeId:[""],guardianId:[""],lastName:["",g.A.required],relationshipType:["",g.A.required],dateOfBirth:["",g.A.required]}))}},{key:"addevent",value:function(t,e){var a=new Date;a=e.target.value,console.log(v(a).format("YYYY-MM-DD"));var n=new Date(v(a).format("YYYY-MM-DD"));if(this.n.controls[0].patchValue({isNomineeMinor:this.underAgeValidate(n)}),!this.underAgeValidate(n))return t.removeAt(0);this.addGuardian(t)}},{key:"clickToggle",value:function(t){if(this.expandAddress=t.checked,1==t.checked)this.getApplicantAddress();else{var e=this.nomineeUpdateForm.controls.nominees,a=e.controls[e.length-1];a.get("zipCode").reset(),a.get("street").reset(),a.get("locality").reset(),a.get("building").reset(),a.get("country").reset(),a.get("state").reset(),a.get("city").reset()}}},{key:"getApplicantAddress",value:function(){var t=this;this.appApiService.fetchByCif(this.cifNumber).subscribe(function(e){t.address=e.customerInfoList[0].userAddress[0];var a=t.nomineeUpdateForm.controls.nominees,n=a.controls[a.length-1];t.getStateName(t.address.country),t.getCityName(t.address.state),n.get("zipCode").setValue(t.address.zipCode),n.get("street").setValue(t.address.address1),n.get("locality").setValue(t.address.address2),n.get("building").setValue(t.address.address1),n.get("country").setValue(t.address.country),n.get("state").setValue(t.address.state),n.get("city").setValue(t.address.city)})}},{key:"removeNominee",value:function(t){var e=this;console.log("i",t);var a=this.n.at(t).get("nomineeId").value;console.log("nomineeId ::",a),this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(function(n){console.log("res:: removed ",n),n&&e.apiService.deleteNomineeById(a,"ADMIN").subscribe(function(t){console.log("data",t)},function(a){e.nomineeUpdateForm.controls.nominees.removeAt(t),200===a.status&&e.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})})}},{key:"onSubmit",value:function(){for(var t=this,e=0;e<this.nomineeUpdateForm.value.nominees.length;e++)this.nomineeUpdateForm.value.nominees[e].dateOfBirth=this.convertDate(this.nomineeUpdateForm.value.nominees[e].dateOfBirth),this.nomineeUpdateForm.value.nominees[e].isNomineeMinor&&(this.nomineeUpdateForm.value.nominees[e].guardianDetails[0].dateOfBirth=this.convertDate(this.nomineeUpdateForm.value.nominees[e].guardianDetails[0].dateOfBirth));var a={productAccountId:this.accountId,nominees:this.nomineeUpdateForm.value.nominees};this.nomineeUpdateForm.invalid||(this.showEditOption?(this.apiService.updateNominee(this.accountId,a).subscribe(function(t){},function(t){console.log(t)}),this.dialogRef.close({status:"BACKLOG"})):this.apiService.createNominee(this.accountId,a).subscribe(function(e){console.log(e),t.snack.open("Nominee Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log(t)}))}},{key:"changeClient",value:function(t){console.log(t),this.arrayRelationshipType="Mr"==t?["Father","Brother","Spouse"]:"Mrs"==t?["Mother","Spouse"]:["Sister"]}},{key:"underAgeValidate",value:function(t){var e=Date.now()-t.getTime(),a=new Date(e);return Math.abs(a.getUTCFullYear()-1970)<18}},{key:"getRelationShipType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayRelationshipType=t})}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName===t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayState.push(t[a].stateName)});break}})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"keyPressAlphanumeric",value:function(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"isAllSameDigit",value:function(t){var e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"convertDate",value:function(t){var e=v(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Ke)(s.Rb(m.a),s.Rb(m.g),s.Rb(l.b),s.Rb(g.f),s.Rb(d.a),s.Rb(f.a),s.Rb(z.a),s.Rb(y.a))},Ke.\u0275cmp=s.Lb({type:Ke,selectors:[["app-nominee-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],["expanded","true",3,"opened","closed"],["fxLayout","row wrap",1,"full-width",3,"formGroup"],["fxFlex","33.33%","fxFlex.xs","100%"],["name","prefix","formControlName","prefix",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","rtype","formControlName","relationshipType",3,"value"],["matInput","","name","dob","readonly","","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker","max","dateInput","dateChange"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"pb-1"],["name","isNomineeMinor","formControlName","isNomineeMinor",3,"change"],["formArrayName","guardianDetails"],[4,"ngFor","ngForOf"],["name","isAddrSameAsApplicant","formControlName","isAddrSameAsApplicant",3,"change"],["expanded","true"],["fxLayout","row wrap",1,"full-width"],["matInput","","name","a_street","formControlName","street","placeholder","Street"],["matInput","","name","a_locality","formControlName","locality","placeholder","Locality"],["matInput","","name","a_building","formControlName","building","placeholder","Building"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["matInput","","name","a_zip","formControlName","zipCode","placeholder","Zip Code","maxlength","10","onlyNumber","",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],["matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number","maxlength","10",3,"keypress"],["matInput","","name","email","formControlName","email","placeholder","e-mail"],["matInput","","formControlName","mobileNumber","maxlength","10",3,"keypress"],["mat-button","","rounded","","color","primary",1,"place",3,"disabled","click"],["mat-button","","color","warn",3,"click"],[3,"value"],[1,"errorClass"],[1,"card-title-text"],["fxLayout","row","fxLayoutGap","25px",3,"formGroupName"],["name","g_prefix","formControlName","prefix"],["matInput","","name","g_fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","g_mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","g_lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["matInput","","name","g_rtype","formControlName","relationshipType","placeholder","Relation Type"],["matInput","","readonly","","name","g_dob","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker","max"],["appDatepicker1",""],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Nominee Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,Je,2,2,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.nomineeUpdateForm),s.Eb(2),s.rc("disabled",e.nomineeUpdateForm.invalid))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,i.n,R.b,g.C,g.s,g.j,i.m,J.a,J.c,J.e,J.f,W.b,T.f,I.a,C.a,g.r,g.i,E.b,g.c,x.e,x.g,T.j,x.d,A.a,g.e,g.m,$.a,D.n,T.b,g.k],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Ke),He=r("iInd");function Ye(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",11),s.fc("click",function(){return s.Hc(a),s.jc().addCFormGroup()}),s.Xb(1,"mat-icon"),s.Tc(2,"add"),s.Wb(),s.Tc(3," Add Collateral "),s.Wb()}}function Ze(t,e){if(1&t&&(s.Xb(0,"mat-option",52),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Qe(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please select Collateral Type "),s.Wb())}function ta(t,e){if(1&t&&(s.Xb(0,"mat-option",52),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.currencyId.currencyCode),s.Eb(1),s.Vc(" ",a.currencyId.currencyCode," ")}}function ea(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please enter Collateral Value "),s.Wb())}function aa(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please enter Linkage Percentage "),s.Wb())}function na(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please enter Available Linkage Amount "),s.Wb())}function oa(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please enter Overdraft Limit Amount "),s.Wb())}function ra(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please select Attributes "),s.Wb())}function ia(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please select Dimensions "),s.Wb())}function ca(t,e){1&t&&(s.Xb(0,"mat-icon",54),s.Tc(1,"check_circle"),s.Wb())}function sa(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please enter Security Reference Number "),s.Wb())}function la(t,e){1&t&&(s.Xb(0,"mat-hint",55),s.Tc(1," Enter valid Security Reference Number!"),s.Wb())}function ba(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please enter Branch Code "),s.Wb())}function ua(t,e){if(1&t&&(s.Xb(0,"mat-option",52),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function da(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please select Rate Value "),s.Wb())}function ma(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please enter Rate "),s.Wb())}function fa(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please enter Spread "),s.Wb())}function pa(t,e){1&t&&(s.Xb(0,"mat-error",53),s.Tc(1," Please enter Final Rate "),s.Wb())}function ha(t,e){if(1&t&&(s.Xb(0,"a",56),s.Tc(1),s.Wb()),2&t){var a=s.jc(2);s.sc("href",a.docUrl,s.Jc),s.Eb(1),s.Vc("",a.fileNam," ")}}function ga(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-icon",57),s.fc("click",function(){s.Hc(a);var t=s.jc().index;return s.jc().deleteDoc(t)}),s.Tc(1,"delete"),s.Wb()}}function va(t,e){1&t&&s.Sb(0,"mat-spinner",58),2&t&&s.rc("diameter",30)}function ya(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",59),s.fc("click",function(){s.Hc(a);var t=s.jc().index;return s.jc().removeCollateral(t)}),s.Xb(1,"mat-icon"),s.Tc(2,"delete"),s.Wb(),s.Tc(3," Reset Collateral "),s.Wb()}}function Wa(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",59),s.fc("click",function(){s.Hc(a);var t=s.jc(),e=t.$implicit,n=t.index;return s.jc().deleteCollateral(e,n)}),s.Xb(1,"mat-icon"),s.Tc(2,"delete"),s.Wb(),s.Tc(3," Remove Collateral "),s.Wb()}}function Xa(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"mat-accordion"),s.Xb(2,"mat-expansion-panel",12),s.fc("opened",function(){return s.Hc(a),s.jc().panelOpenState=!0})("closed",function(){return s.Hc(a),s.jc().panelOpenState=!1}),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Tc(5),s.Wb(),s.Wb(),s.Xb(6,"div",6),s.Xb(7,"div",13),s.Xb(8,"mat-hint",14),s.Tc(9,"Collateral Type"),s.Wb(),s.Xb(10,"mat-card",15),s.Xb(11,"mat-select",16),s.Rc(12,Ze,2,2,"mat-option",17),s.Wb(),s.Wb(),s.Rc(13,Qe,2,0,"mat-error",18),s.Wb(),s.Xb(14,"div",13),s.Xb(15,"mat-hint",14),s.Tc(16,"Currency"),s.Wb(),s.Xb(17,"mat-card",15),s.Xb(18,"mat-select",19),s.Rc(19,ta,2,2,"mat-option",17),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",13),s.Xb(21,"mat-hint",14),s.Tc(22,"Collateral Value"),s.Wb(),s.Xb(23,"mat-card",15),s.Xb(24,"input",20),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().calculateLinkagePercent(t.value,n)}),s.Wb(),s.Wb(),s.Rc(25,ea,2,0,"mat-error",18),s.Wb(),s.Xb(26,"div",13),s.Xb(27,"mat-hint",14),s.Tc(28,"Linkage Percentage"),s.Wb(),s.Xb(29,"mat-card",15),s.Xb(30,"input",21),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("keydown",function(t){s.Hc(a);var n=e.$implicit;return s.jc().getCollatrl(t,n.get("linkagePercentage"))})("input",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().calculateLinkagePercent(t.value,n)}),s.Wb(),s.Wb(),s.Rc(31,aa,2,0,"mat-error",18),s.Wb(),s.Xb(32,"div",13),s.Xb(33,"mat-hint",14),s.Tc(34,"Available Linkage Amount*"),s.Wb(),s.Xb(35,"mat-card",15),s.Xb(36,"input",22),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(37,na,2,0,"mat-error",18),s.Wb(),s.Xb(38,"div",13),s.Xb(39,"mat-hint",14),s.Tc(40,"Overdraft Limit Amount*"),s.Wb(),s.Xb(41,"mat-card",15),s.Xb(42,"input",23),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().overDraftCondition(t,n)}),s.Wb(),s.Wb(),s.Rc(43,oa,2,0,"mat-error",18),s.Wb(),s.Xb(44,"div",13),s.Xb(45,"mat-hint",14),s.Tc(46,"Limit Start Date"),s.Wb(),s.Xb(47,"mat-card",15),s.Xb(48,"input",24),s.fc("selectedChange",function(){s.Hc(a);var t=e.$implicit;return s.jc().getDate(t.get("limitStartDate"))}),s.Wb(),s.Sb(49,"mat-datepicker-toggle",25),s.Wb(),s.Sb(50,"mat-datepicker",null,26),s.Wb(),s.Xb(52,"div",13),s.Xb(53,"mat-hint",14),s.Tc(54,"Limit End Date"),s.Wb(),s.Xb(55,"mat-card",15),s.Sb(56,"input",27),s.Sb(57,"mat-datepicker-toggle",25),s.Wb(),s.Sb(58,"mat-datepicker",null,28),s.Wb(),s.Xb(60,"div",13),s.Xb(61,"mat-hint",14),s.Tc(62,"Attributes*"),s.Wb(),s.Xb(63,"mat-card",15),s.Xb(64,"mat-select",29),s.Xb(65,"mat-option",30),s.Tc(66,"Attributes 1"),s.Wb(),s.Xb(67,"mat-option",31),s.Tc(68,"Attributes 2"),s.Wb(),s.Xb(69,"mat-option",32),s.Tc(70,"Attributes 3"),s.Wb(),s.Wb(),s.Wb(),s.Rc(71,ra,2,0,"mat-error",18),s.Wb(),s.Xb(72,"div",13),s.Xb(73,"mat-hint",14),s.Tc(74,"Dimensions*"),s.Wb(),s.Xb(75,"mat-card",15),s.Xb(76,"mat-select",33),s.Xb(77,"mat-option",30),s.Tc(78,"Dimensions 1"),s.Wb(),s.Xb(79,"mat-option",31),s.Tc(80,"Dimensions 2"),s.Wb(),s.Xb(81,"mat-option",32),s.Tc(82,"Dimensions 3"),s.Wb(),s.Wb(),s.Wb(),s.Rc(83,ia,2,0,"mat-error",18),s.Wb(),s.Xb(84,"div",13),s.Xb(85,"mat-hint",14),s.Tc(86,"Security reference Number*"),s.Wb(),s.Xb(87,"mat-card",15),s.Xb(88,"input",34),s.fc("keypress",function(t){return s.Hc(a),s.jc().keyPressAlphanumeric(t)})("change",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().fetchBySecurityNum(t.get("securityReferenceNumber").value,n)})("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().keyUpevent(t,n)}),s.Wb(),s.Rc(89,ca,2,0,"mat-icon",35),s.Wb(),s.Rc(90,sa,2,0,"mat-error",18),s.Rc(91,la,2,0,"mat-hint",36),s.Wb(),s.Xb(92,"div",13),s.Xb(93,"mat-hint",14),s.Tc(94,"Branch Code"),s.Wb(),s.Xb(95,"mat-card",15),s.Xb(96,"input",37),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(97,ba,2,0,"mat-error",18),s.Wb(),s.Xb(98,"div",13),s.Xb(99,"mat-hint",14),s.Tc(100,"Rate Value"),s.Wb(),s.Xb(101,"mat-card",15),s.Xb(102,"mat-select",38),s.Rc(103,ua,2,2,"mat-option",17),s.Wb(),s.Wb(),s.Rc(104,da,2,0,"mat-error",18),s.Wb(),s.Xb(105,"div",13),s.Xb(106,"mat-hint",14),s.Tc(107,"Rate in % *"),s.Wb(),s.Xb(108,"mat-card",15),s.Xb(109,"input",39),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("keydown",function(t){s.Hc(a);var n=e.$implicit;return s.jc().getCollatrl(t,n.get("rate"))})("input",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().calculateFinalrate(t.value,n)}),s.Wb(),s.Wb(),s.Rc(110,ma,2,0,"mat-error",18),s.Wb(),s.Xb(111,"div",13),s.Xb(112,"mat-hint",14),s.Tc(113,"Spread*"),s.Wb(),s.Xb(114,"mat-card",15),s.Xb(115,"input",40),s.fc("input",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().calculateFinalrate(t.value,n)}),s.Wb(),s.Wb(),s.Rc(116,fa,2,0,"mat-error",18),s.Wb(),s.Xb(117,"div",13),s.Xb(118,"mat-hint",14),s.Tc(119,"Final Rate in %"),s.Wb(),s.Xb(120,"mat-card",15),s.Xb(121,"input",41),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("keydown",function(t){s.Hc(a);var n=e.$implicit;return s.jc().getCollatrl(t,n.get("finalAmount"))}),s.Wb(),s.Wb(),s.Rc(122,pa,2,0,"mat-error",18),s.Wb(),s.Xb(123,"div",42),s.Xb(124,"input",43,44),s.fc("change",function(t){s.Hc(a);var n=e.index;return s.jc().uploadCollateralType(t,n)}),s.Wb(),s.Xb(126,"div",45),s.Xb(127,"a",46),s.fc("click",function(){return s.Hc(a),s.Dc(125).click()}),s.Tc(128,"Collateral Document Upload"),s.Wb(),s.Tc(129," \xa0 "),s.Xb(130,"mat-hint",47),s.Tc(131),s.Wb(),s.Rc(132,ha,2,2,"a",48),s.Tc(133," \xa0 "),s.Rc(134,ga,2,0,"mat-icon",49),s.Rc(135,va,1,1,"mat-spinner",50),s.Wb(),s.Wb(),s.Xb(136,"div",42),s.Rc(137,ya,4,0,"button",51),s.Rc(138,Wa,4,0,"button",51),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.Dc(51),i=s.Dc(59),c=s.jc();s.Eb(5),s.Wc(" ",1==c.showEditOption?"Edit":"Add"," Collateral ",o+1," "),s.Eb(1),s.rc("formGroup",n),s.Eb(6),s.rc("ngForOf",c.arrayCollateralType),s.Eb(1),s.rc("ngIf",n.get("collateralType").touched&&n.get("collateralType").hasError("required")),s.Eb(6),s.rc("ngForOf",c.currency),s.Eb(6),s.rc("ngIf",n.get("collateralType").touched&&n.get("collateralValue").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("linkagePercentage").touched&&n.get("linkagePercentage").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("availableLinkageAccount").touched&&n.get("availableLinkageAccount").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("overdraftLimitAmount").touched&&n.get("overdraftLimitAmount").hasError("required")),s.Eb(5),s.rc("matDatepicker",r)("min",c.minDate),s.Eb(1),s.rc("for",r),s.Eb(7),s.rc("min",n.get("limitStartDate").value)("matDatepicker",i),s.Eb(1),s.rc("for",i),s.Eb(14),s.rc("ngIf",n.get("attributes").touched&&n.get("attributes").hasError("required")&&n.get("attributes").touched),s.Eb(12),s.rc("ngIf",n.get("dimensions").touched&&n.get("dimensions").hasError("required")),s.Eb(6),s.rc("ngIf",c.issecurityValid&&n.get("securityReferenceNumber").value.length>0),s.Eb(1),s.rc("ngIf",n.get("securityReferenceNumber").touched&&n.get("securityReferenceNumber").hasError("required")),s.Eb(1),s.rc("ngIf",!c.issecurityValid&&c.onbackSpace),s.Eb(6),s.rc("ngIf",n.get("branchCode").touched&&n.get("branchCode").hasError("required")),s.Eb(6),s.rc("ngForOf",c.arrayRateValue),s.Eb(1),s.rc("ngIf",n.get("rateValue").touched&&n.get("rateValue").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("rate").touched&&n.get("rate").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("spread").touched&&n.get("spread").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("finalAmount").touched&&n.get("finalAmount").hasError("required")),s.Eb(9),s.Uc(c.fileName[o]),s.Eb(1),s.rc("ngIf",c.docUrl),s.Eb(2),s.rc("ngIf",c.docUrl&&c.showDelete),s.Eb(1),s.rc("ngIf",c.showSpinn),s.Eb(2),s.rc("ngIf",!c.showEditOption),s.Eb(1),s.rc("ngIf",c.showEditOption)}}var Ta,Ia=((Ta=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.data=e,this.dialogRef=n,this.ls=o,this.formBuilder=r,this.api=i,this.snack=c,this.cdr=s,this.confirmService=l,this.tasksummaryService=b,this.showEditOption=!1}return o(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.loggedInUser=this.ls.getItem("userName"),this.getCollateralType("collateral_type"),this.getCurrencyDetails(),this.data?(this.showEditOption=!0,this.buildSecuredOverdraftForm(this.data),this.addFormGroup(this.data)):(this.showEditOption=!1,this.buildSecuredOverdraftForm(),this.addFormGroup())}},{key:"buildSecuredOverdraftForm",value:function(t){this.securedOverdraftUpdateForm=this.formBuilder.group({collaterals:this.formBuilder.array([])})}},{key:"f",get:function(){return this.securedOverdraftUpdateForm.controls}},{key:"c",get:function(){return this.f.collaterals}},{key:"addFormGroup",value:function(t){var e=t?t.length:1;console.log("numberOfItems",e);for(var a=0;a<e;a++)this.c.push(this.formBuilder.group({id:[t[a].id],collateralType:[t[a]?t.collateralType:""],collateralCurrency:[t[a]?t.collateralCurrency:""],accountId:this.accountId,collateralValue:[t[a]?t[a].collateralValue:""],attributes:[t[a]?t[a].attributes:""],dimensions:[t[a]?t[a].dimensions:""],securityReferenceNumber:[t[a]?t[a].securityReferenceNumber:""],branchCode:[t[a]?t[a].branchCode:""],availableLinkageAccount:[t[a]?t[a].availableLinkageAccount:""],linkagePercentage:[t[a]?t[a].linkagePercentage:""],overdraftLimitAmount:[t[a]?t[a].overdraftLimitAmount:""],limitStartDate:[t[a]?t[a].limitStartDate:""],limitEndDate:[t[a]?t[a].limitEndDate:""],rateValue:[t[a]?t[a].rateValue:""],rate:[t[a]?t[a].rate:""],spread:[t[a]?t[a].spread:""],finalAmount:[t[a]?t[a].finalAmount:""],documentUrl:[t[a]?t[a].documentUrl:""],fileName:[t[a]?t[a].documentUrl:""]}))}},{key:"addCFormGroup",value:function(){this.c.push(this.formBuilder.group({collateralType:[""],collateralCurrency:[""],accountId:this.accountId,collateralValue:[""],attributes:[""],dimensions:[""],securityReferenceNumber:[""],branchCode:[""],availableLinkageAccount:[""],linkagePercentage:[""],overdraftLimitAmount:[""],limitStartDate:[""],limitEndDate:[""],rateValue:[""],rate:[""],spread:[""],finalAmount:[""],documentUrl:[""],fileName:[""]}))}},{key:"getCollateralType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayCollateralType=t})}},{key:"getCurrencyDetails",value:function(){var t=this;this.api.fetchCurrencyMaintAuthRecs().subscribe(function(e){t.currency=e})}},{key:"overDraftCondition",value:function(t,e){var a=this,n=t.target.value;console.log(n,this.linkangePercent),n>this.linkangePercent&&(console.log("Bigger"),this.confirmService.confirm({title:"Confirm",message:" Overdraft Limit Amount should be less than Available Linkage Amount. Do you want to Proceed?",ok:"Yes",cancel:"No"}).subscribe(function(t){console.log("Response",t),!0===t?a.cdr.markForCheck():a.c.at(e).get("overdraftLimitAmount").setValue("")}))}},{key:"fetchBySecurityNum",value:function(t,e){var a=this;t&&(this.showSpinner=!0,console.log("Caling",t),this.api.fetchBySecurityNumber(t).subscribe(function(t){if(console.log(t),a.showSpinner=!1,null==t)return a.issecurityValid=!1,a.snack.open("Invalid Security Reference Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void a.c.at(e).get("securityReferenceNumber").setValue("");a.issecurityValid=!0,a.branchData=t.securedOverDrafts,console.log(a.branchData),a.branchData.forEach(function(t,e){a.branch=a.branchData[e].branchCode}),a.c.at(e).get("branchCode").setValue(a.branch),a.cdr.markForCheck()}))}},{key:"uploadCollateralType",value:function(t,e){var a=this;this.showSpinn=!0;var n=t.target.files[0];this.fileName[e]=n.name;var o={accountId:this.accountId,documentName:this.fileName[e]},r=new FormData;r.append("data",JSON.stringify(o)),r.append("file",n),this.api.uploadcollateralDoc(r).subscribe(function(t){console.log("Document Resp",t,t.url),t&&t.url&&(a.showSpinn=!1,a.snack.open("Document Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.c.at(e).get("documentUrl").setValue(t.url),a.c.at(e).get("fileName").setValue(t.fileName))})}},{key:"deleteDoc",value:function(t){this.docUrl=" ",this.fileName=" ",this.c.at(t).get("documentUrl").setValue(""),this.c.at(t).get("fileName").setValue(""),this.showDelete=!1}},{key:"onSubmit",value:function(t){var e=this;this.c.value.forEach(function(t){""!=t.linkagePercentage&&""!=t.securityReferenceNumber&&""!=t.collateralValue&&""!=t.branchCode||1!=e.securedOverdraftUpdateForm.touched||e.snack.open("mandatory details are not filled so need to be filled!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),null!=t.limitStartDate&&null!=t.limitStartDate._d&&null!=t.limitStartDate._d&&(t.limitStartDate=e.convertDate(t.limitStartDate._d)),null!=t.limitEndDate&&null!=t.limitEndDate._d&&null!=t.limitEndDate._d&&(t.limitEndDate=e.convertDate(t.limitEndDate._d))});var a={securedOverDrafts:this.c.value,loggedInUser:this.loggedInUser};this.securedOverdraftUpdateForm.invalid?console.log("this.securedOverdraftUpdateForm.touched",this.securedOverdraftUpdateForm.touched):this.api.securedDraft(a).subscribe(function(t){e.snack.open("Secured Overdraft Details is already filled, click on Next button to continue!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"onReset",value:function(){this.securedOverdraftUpdateForm.reset(),this.c.clear()}},{key:"removeCollateral",value:function(t){this.c.controls[t].reset()}},{key:"convertDate",value:function(t){var e=v(t).format("YYYY-MM-DDThh:mm:ss");if(console.log("date",e),e)return e}},{key:"keyUpevent",value:function(t,e){console.log("event",t),8===t.keyCode?(this.onbackSpace=!0,this.issecurityValid=!1,this.c.at(e).get("branchCode").setValue("")):this.onbackSpace=!1}},{key:"keyPressAlphanumeric",value:function(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"calculateLinkagePercent",value:function(t,e){this.linkangePercent=t.collateralValue*(t.linkagePercentage/100),this.c.at(e).get("availableLinkageAccount").setValue(this.linkangePercent.toFixed(2))}},{key:"calculateFinalrate",value:function(t,e){this.finalRatevalue=1*t.rate+1*t.spread,console.log(this.linkangePercent,this.c.controls[e]),this.c.at(e).get("finalAmount").setValue(this.finalRatevalue)}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Ta)(s.Rb(m.a),s.Rb(m.g),s.Rb(d.a),s.Rb(g.f),s.Rb(l.b),s.Rb(y.a),s.Rb(s.h),s.Rb(z.a),s.Rb(h.a))},Ta.\u0275cmp=s.Lb({type:Ta,selectors:[["app-secured-overdraft-details-update"]],decls:18,vars:4,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],["fxLayout","row","fxLayout.lt-sm","column",1,"app-top-toolbar"],["fxFlex",""],["mat-button","","color","primary",3,"click",4,"ngIf"],[3,"formGroup"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","color","primary",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["mat-button","","color","primary",3,"click"],["expanded","true",1,"mb-8",3,"opened","closed"],["fxFlex","33.33%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","collateralType","formControlName","collateralType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["name","prefix","formControlName","collateralCurrency"],["matInput","","name","a_sig","id","collateralValue","formControlName","collateralValue","placeholder","Collateral Value","required","",3,"keypress","input"],["matInput","","name","a_sig","formControlName","linkagePercentage","placeholder","Linkage Percentage","required","",3,"keypress","keydown","input"],["readonly","","matInput","","name","a_sig","formControlName","availableLinkageAccount","placeholder","Available Linkage Amount",3,"keypress"],["matInput","","name","a_sig","formControlName","overdraftLimitAmount","placeholder","Overdraft Limit Amount",3,"keypress","keyup"],["readonly","","matInput","","name","dob","formControlName","limitStartDate","placeholder","Limit Start Date",3,"matDatepicker","min","selectedChange"],["matSuffix","",3,"for"],["appDatepicker",""],["readonly","","matInput","","name","led","formControlName","limitEndDate","placeholder","Limit End Date",3,"min","matDatepicker"],["appDatepicker1",""],["name","attributes","formControlName","attributes"],["value","1"],["value","2"],["value","3"],["name","dimensions","formControlName","dimensions"],["matInput","","required","","name","a_sig","formControlName","securityReferenceNumber","placeholder","Security Reference Number",3,"keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","hintClass","class","hintColor",4,"ngIf"],["matInput","","name","a_sig","formControlName","branchCode","placeholder","Branch Code","readonly","","required","",3,"keypress"],["name","rateValue","formControlName","rateValue"],["matInput","","name","a_sig","formControlName","rate","placeholder","Rate",3,"keypress","keydown","input"],["matInput","","type","number","name","a_sig","formControlName","spread","placeholder","Spread",3,"input"],["matInput","","name","a_sig","formControlName","finalAmount","placeholder","Rate",3,"keypress","keydown"],[1,"pb-1"],["type","file","name","documentUrl",2,"display","none",3,"change"],["documentUrl",""],["fxLayout","row wrap",1,"flex-container","stretch"],[1,"UploadLink",3,"routerLink","click"],[1,"documentHint"],["class","documentlink","download","",3,"href",4,"ngIf"],["class","docIcon",3,"click",4,"ngIf"],["class","spinner",3,"diameter",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[1,"errorClass"],["matSuffix","","color","primary"],[1,"hintColor"],["download","",1,"documentlink",3,"href"],[1,"docIcon",3,"click"],[1,"spinner",3,"diameter"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Secured Overdraft Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"div",3),s.Sb(7,"span",4),s.Rc(8,Ye,4,0,"button",5),s.Wb(),s.Xb(9,"mat-card"),s.Xb(10,"form",6),s.Rc(11,Xa,139,33,"div",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",8),s.Xb(13,"button",9),s.fc("click",function(){return e.onSubmit(e.securedOverdraftUpdateForm.value)}),s.Tc(14,"Save"),s.Wb(),s.Tc(15," \xa0\xa0\xa0 "),s.Xb(16,"button",10),s.fc("click",function(){return e.close()}),s.Tc(17," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(8),s.rc("ngIf",!e.showEditOption),s.Eb(2),s.rc("formGroup",e.securedOverdraftUpdateForm),s.Eb(1),s.rc("ngForOf",e.c.controls),s.Eb(2),s.rc("disabled",e.securedOverdraftUpdateForm.invalid))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,W.b,i.n,I.a,g.C,g.s,g.j,i.m,R.b,J.a,J.c,J.e,J.f,T.f,C.a,g.r,g.i,E.b,g.c,g.z,x.e,x.g,T.j,x.d,D.n,g.w,He.k,T.b,O.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Ta),Ea=r("PSD3"),Ca=r.n(Ea);function xa(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please Enter Limit ID "),s.Wb())}function Aa(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.currencyId.currencyCode),s.Eb(1),s.Uc(a.currencyId.currencyCode)}}function Ra(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Currency "),s.Wb())}function Oa(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please enter Overdraft Limit Amount "),s.Wb())}function Da(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Limit Start Date "),s.Wb())}function ka(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Limit End Date "),s.Wb())}function Sa(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Na(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Year "),s.Wb())}function Pa(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Fa(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Month "),s.Wb())}function La(t,e){if(1&t&&(s.Xb(0,"mat-option",35),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function wa(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please select Day "),s.Wb())}function Ua(t,e){1&t&&(s.Xb(0,"mat-error",34),s.Tc(1," Please enter Renewal Amount "),s.Wb())}function _a(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",36),s.Xb(1,"div",37),s.Xb(2,"div",38),s.Xb(3,"mat-hint",11),s.Tc(4,"Renew Period"),s.Wb(),s.Xb(5,"div",39),s.Xb(6,"div"),s.Xb(7,"mat-hint"),s.Tc(8,"Years"),s.Wb(),s.Xb(9,"mat-card",12),s.Xb(10,"mat-select",40),s.fc("[ngModel]",function(){return s.Hc(a),s.jc(2).selectedYear}),s.Rc(11,Sa,2,2,"mat-option",18),s.Wb(),s.Wb(),s.Rc(12,Na,2,0,"mat-error",14),s.Wb(),s.Xb(13,"div"),s.Xb(14,"div",31),s.Xb(15,"div",21),s.Xb(16,"mat-hint",11),s.Tc(17,"Months"),s.Wb(),s.Xb(18,"mat-card",12),s.Xb(19,"mat-select",41),s.fc("[ngModel]",function(){return s.Hc(a),s.jc(2).selectedMonth}),s.Rc(20,Pa,2,2,"mat-option",18),s.Wb(),s.Wb(),s.Rc(21,Fa,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div"),s.Xb(23,"div",31),s.Xb(24,"div",21),s.Xb(25,"mat-hint",11),s.Tc(26,"Days"),s.Wb(),s.Xb(27,"mat-card",12),s.Xb(28,"mat-select",42),s.fc("[ngModel]",function(){return s.Hc(a),s.jc(2).selectedDay}),s.Rc(29,La,2,2,"mat-option",18),s.Wb(),s.Wb(),s.Rc(30,wa,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"div",43),s.Xb(32,"mat-hint",11),s.Tc(33,"Renewal Amount"),s.Wb(),s.Xb(34,"mat-card",12),s.Xb(35,"input",44),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(36,Ua,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(11),s.rc("ngForOf",n.years),s.Eb(1),s.rc("ngIf",n.unsecuredUpdateForm.get("year").hasError("required")&&n.unsecuredUpdateForm.get("year").touched),s.Eb(8),s.rc("ngForOf",n.months),s.Eb(1),s.rc("ngIf",n.unsecuredUpdateForm.get("month").hasError("required")&&n.unsecuredUpdateForm.get("month").touched),s.Eb(8),s.rc("ngForOf",n.days),s.Eb(1),s.rc("ngIf",n.unsecuredUpdateForm.get("day").hasError("required")&&n.unsecuredUpdateForm.get("day").touched),s.Eb(6),s.rc("ngIf",n.unsecuredUpdateForm.get("renewalAmount").hasError("required")&&n.unsecuredUpdateForm.get("renewalAmount").touched)}}function Ma(t,e){if(1&t){var a=s.Yb();s.Xb(0,"form",7),s.Xb(1,"mat-card"),s.Xb(2,"div",8),s.Xb(3,"div",9),s.Xb(4,"div",10),s.Xb(5,"mat-hint",11),s.Tc(6,"Limit ID*"),s.Wb(),s.Xb(7,"mat-card",12),s.Xb(8,"input",13),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(9,xa,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Xb(10,"div",15),s.Xb(11,"div",16),s.Xb(12,"mat-hint",11),s.Tc(13,"Currency*"),s.Wb(),s.Xb(14,"mat-card",12),s.Xb(15,"mat-select",17),s.fc("[ngModel]",function(){return s.Hc(a),s.jc().selectedCurrency}),s.Rc(16,Aa,2,2,"mat-option",18),s.Wb(),s.Wb(),s.Rc(17,Ra,2,0,"mat-error",14),s.Wb(),s.Xb(18,"div",16),s.Xb(19,"mat-hint",11),s.Tc(20,"Overdraft Limit Amount*"),s.Wb(),s.Xb(21,"mat-card",12),s.Xb(22,"input",19),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(23,Oa,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Xb(24,"div",15),s.Xb(25,"div",20),s.Xb(26,"div",21),s.Xb(27,"mat-hint",11),s.Tc(28,"Limit Start Date*"),s.Wb(),s.Xb(29,"mat-card",12),s.Sb(30,"input",22),s.Sb(31,"mat-datepicker-toggle",23),s.Wb(),s.Rc(32,Da,2,0,"mat-error",14),s.Wb(),s.Sb(33,"mat-datepicker",null,24),s.Wb(),s.Xb(35,"div",20),s.Xb(36,"div",21),s.Xb(37,"mat-hint",11),s.Tc(38,"Limit End Date*"),s.Wb(),s.Xb(39,"mat-card",12),s.Xb(40,"div",25),s.Sb(41,"input",26),s.Wb(),s.Xb(42,"div",27),s.Sb(43,"mat-datepicker-toggle",23),s.Wb(),s.Wb(),s.Rc(44,ka,2,0,"mat-error",14),s.Wb(),s.Sb(45,"mat-datepicker",null,28),s.Wb(),s.Wb(),s.Xb(47,"div",29),s.Xb(48,"div",30),s.Xb(49,"div",31),s.Tc(50," Do your Unsecured Overdraft Limit has to be renewed ? "),s.Xb(51,"mat-slide-toggle",32),s.fc("change",function(t){return s.Hc(a),s.jc().onToggle(t)}),s.Wb(),s.Wb(),s.Sb(52,"br"),s.Wb(),s.Wb(),s.Rc(53,_a,37,7,"div",33),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.Dc(34),o=s.Dc(46),r=s.jc();s.rc("formGroup",r.unsecuredUpdateForm),s.Eb(9),s.rc("ngIf",r.unsecuredUpdateForm.get("limitId").hasError("required")),s.Eb(7),s.rc("ngForOf",r.currency),s.Eb(1),s.rc("ngIf",r.unsecuredUpdateForm.get("overdraftCurrency").hasError("required")),s.Eb(6),s.rc("ngIf",r.unsecuredUpdateForm.controls.overdraftLimitAmount.touched),s.Eb(7),s.rc("matDatepicker",n)("min",r.minDate),s.Eb(1),s.rc("for",n),s.Eb(1),s.rc("ngIf",r.unsecuredUpdateForm.get("limitStartDate").hasError("required")),s.Eb(9),s.rc("min",r.unsecuredUpdateForm.get("limitStartDate").value)("matDatepicker",o),s.Eb(2),s.rc("for",o),s.Eb(1),s.rc("ngIf",r.unsecuredUpdateForm.get("limitEndDate").hasError("required")),s.Eb(9),s.rc("ngIf",r.flag)}}var Ga,Va=((Ga=function(){function t(e,n,o,r,i,c,s,l){a(this,t),this.data=e,this.dialogRef=n,this.ls=o,this.formBuilder=r,this.cdr=i,this.api=c,this.snack=s,this.tasksummaryService=l}return o(t,[{key:"ngOnInit",value:function(){this.accountId=this.ls.getItem("accountId"),console.log(this.data,this.accountId),this.getCurrencyDetails(),this.data?this.buildUnsecuredForm(this.data):this.buildUnsecuredForm()}},{key:"buildUnsecuredForm",value:function(t,e){if(this.unsecuredUpdateForm=this.formBuilder.group({limitId:[t?t.limitId:"",g.A.required],accountId:null!=this.accountId?this.accountId:"",overdraftCurrency:[t?t.overdraftCurrency:"",g.A.required],overdraftLimitAmount:[t?t.overdraftLimitAmount:"",g.A.required],limitStartDate:[t?new Date(t.limitStartDate):"",g.A.required],limitEndDate:[t?new Date(t.limitEndDate):"",g.A.required],unsecuredLimit:[""],renewPeriod:[t?t.renewPeriod:""],renewalAmount:[t?t.renewalAmount:""],year:[t?t.year:""],month:[t?t.month:""],day:[t?t.day:""],overdraftLimitRenewed:[t?t.overdraftLimitRenewed:""]}),t&&(console.log("values:",t.renewPeriod),t.renewPeriod)){this.selectedYear=t.renewPeriod.substring(0,4);var a=t.renewPeriod.substring(5,8);this.selectedDay=t.renewPeriod.substring(9,11),this.unsecuredUpdateForm.get("year").setValue(Number(this.selectedYear)),this.unsecuredUpdateForm.get("month").setValue(a),this.unsecuredUpdateForm.get("day").setValue(Number(this.selectedDay)),this.cdr.markForCheck()}}},{key:"onSubmit",value:function(){var t=this;if(!this.unsecuredUpdateForm.value.overdraftLimitRenewed||null!=this.unsecuredUpdateForm.controls.day.value&&null!=this.unsecuredUpdateForm.controls.year.value&&null!=this.unsecuredUpdateForm.controls.month.value){var e=this.convertDate(this.unsecuredUpdateForm.controls.limitStartDate.value);this.unsecuredUpdateForm.value.limitStartDate=e;var a,n=this.convertDate(this.unsecuredUpdateForm.controls.limitEndDate.value);this.unsecuredUpdateForm.value.limitEndDate=n,a=this.unsecuredUpdateForm.value.overdraftLimitRenewed?this.unsecuredUpdateForm.value.year+"-"+this.unsecuredUpdateForm.value.month+"-"+this.unsecuredUpdateForm.value.day:"";var o={accountId:this.accountId,limitId:this.unsecuredUpdateForm.value.limitId,overdraftCurrency:this.unsecuredUpdateForm.value.overdraftCurrency,overdraftLimitAmount:this.unsecuredUpdateForm.value.overdraftLimitAmount,limitStartDate:this.unsecuredUpdateForm.value.limitStartDate,limitEndDate:this.unsecuredUpdateForm.value.limitEndDate,renewPeriod:a,renewalAmount:this.unsecuredUpdateForm.value.renewalAmount,overdraftLimitRenewed:this.unsecuredUpdateForm.value.overdraftLimitRenewed};if(null==o.limitId||null==o.overdraftLimitAmount)return Ca.a.fire("Please Enter The Mandatory Fields !"),!1;""!=this.unsecuredUpdateForm.value.limitId&&this.api.unsecuredDraft(o).subscribe(function(e){t.snack.open("UnSecured Overdraft Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})},function(e){t.snack.open(e.message,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}else this.snack.open("Please give Renew Period","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"getCurrencyDetails",value:function(){var t=this;this.api.fetchCurrencyMaintAuthRecs().subscribe(function(e){t.currency=e})}},{key:"onToggle",value:function(t){!0===t.checked?this.flag=!0:(this.flag=!1,this.unsecuredUpdateForm.get("renewalAmount").setValue(""))}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"convertDate",value:function(t){var e=v(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Ga)(s.Rb(m.a),s.Rb(m.g),s.Rb(d.a),s.Rb(g.f),s.Rb(s.h),s.Rb(l.b),s.Rb(y.a),s.Rb(h.a))},Ga.\u0275cmp=s.Lb({type:Ga,selectors:[["app-unsecured-overdraft-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","100%","fxFlex.gt-xs","50",1,"pr-1"],["fxFlex","30%","appearance","outline",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","id","limitId","formControlName","limitId","name","mod","placeholder","Limit ID",3,"keypress"],["class","errorClass",4,"ngIf"],["fxFlex","100%","fxLayout","row wrap","fxLayoutGap","5%"],["fxFlex","40%","appearance","outline",1,"full-width"],["name","prefix","formControlName","overdraftCurrency",3,"[ngModel]"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","a_sig","maxlength","15","formControlName","overdraftLimitAmount","placeholder","Overdraft Limit Amount",3,"keypress"],["fxFlex","40%"],["appearance","outline",1,"full-width"],["readonly","","matInput","","name","dob","formControlName","limitStartDate","placeholder","Limit Start Date",3,"matDatepicker","min"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","85%"],["matInput","","name","dob","formControlName","limitEndDate","placeholder","Limit End Date","readonly","",3,"min","matDatepicker"],["fxFelx","15%"],["appDatepicker1",""],["fxFlex","100","fxLayout","row"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["formControlName","overdraftLimitRenewed",3,"change"],["fxflex","100",4,"ngIf"],[1,"errorClass"],[3,"value"],["fxflex","100"],["fxLayout","row"],["fxFlex","50%"],["fxLayout","row wrap","fxLayoutGap","5px","fxLayout","row"],["required","","formControlName","year",3,"[ngModel]"],["required","","formControlName","month",3,"[ngModel]"],["required","","formControlName","day",3,"[ngModel]"],[1,"full-width"],["matInput","","maxlength","8","name","a_sig","required","","formControlName","renewalAmount","placeholder","Renewal Amount",3,"keypress"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Unsecured Overdraft Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,Ma,54,14,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.unsecuredUpdateForm),s.Eb(2),s.rc("disabled",e.unsecuredUpdateForm.invalid))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,i.n,R.b,g.C,g.s,g.j,I.a,W.b,T.f,E.b,g.c,g.r,g.i,C.a,i.m,g.m,x.e,x.g,T.j,x.d,A.a,T.b,D.n,g.z],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Ga),Ba=r("BSbQ");function ja(t,e){if(1&t&&(s.Xb(0,"mat-option",67),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function za(t,e){1&t&&(s.Xb(0,"mat-error",68),s.Tc(1," Please select the Employment Type "),s.Wb())}function qa(t,e){1&t&&(s.Xb(0,"mat-error",68),s.Tc(1," Please enter the Designation "),s.Wb())}function Ja(t,e){1&t&&(s.Xb(0,"mat-error",68),s.Tc(1," Please enter the Employee Number "),s.Wb())}function Ka(t,e){if(1&t&&(s.Xb(0,"mat-option",67),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function $a(t,e){1&t&&(s.Xb(0,"mat-error",68),s.Tc(1," Please select the Employment Category "),s.Wb())}function Ha(t,e){1&t&&(s.Xb(0,"mat-error",68),s.Tc(1," Please enter the Office Name "),s.Wb())}function Ya(t,e){if(1&t){var a=s.Yb();s.Xb(0,"form",7),s.Xb(1,"mat-card"),s.Xb(2,"div",8),s.Xb(3,"mat-card"),s.Xb(4,"div",8),s.Xb(5,"div",9),s.Xb(6,"mat-hint",10),s.Tc(7,"Applicant Name"),s.Wb(),s.Xb(8,"mat-card",11),s.Sb(9,"input",12),s.Wb(),s.Wb(),s.Xb(10,"div",9),s.Xb(11,"mat-hint",10),s.Tc(12,"Total Annual Income*"),s.Wb(),s.Xb(13,"mat-card"),s.Sb(14,"input",13),s.Wb(),s.Wb(),s.Xb(15,"div",9),s.Xb(16,"mat-hint",10),s.Tc(17,"Total Annual Expenses*"),s.Wb(),s.Xb(18,"mat-card"),s.Sb(19,"input",14),s.Wb(),s.Wb(),s.Xb(20,"div",9),s.Xb(21,"div"),s.Xb(22,"mat-hint",10),s.Tc(23,"Last Update On"),s.Wb(),s.Xb(24,"mat-card",15),s.Xb(25,"div",16),s.Sb(26,"input",17),s.Wb(),s.Xb(27,"div",18),s.Sb(28,"mat-datepicker-toggle",19),s.Wb(),s.Wb(),s.Wb(),s.Sb(29,"mat-datepicker",null,20),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"mat-card"),s.Xb(32,"mat-card-title",21),s.Xb(33,"div",22),s.Tc(34,"Employment Details"),s.Wb(),s.Sb(35,"mat-divider"),s.Wb(),s.Xb(36,"mat-card-content"),s.Xb(37,"div",8),s.Xb(38,"div",23),s.Xb(39,"mat-hint",10),s.Tc(40,"Employment Type*"),s.Wb(),s.Xb(41,"mat-card",11),s.Xb(42,"mat-select",24),s.Rc(43,ja,2,2,"mat-option",25),s.Wb(),s.Wb(),s.Rc(44,za,2,0,"mat-error",26),s.Wb(),s.Xb(45,"div",23),s.Xb(46,"mat-hint",10),s.Tc(47,"Designation*"),s.Wb(),s.Xb(48,"mat-card",11),s.Sb(49,"input",27),s.Wb(),s.Rc(50,qa,2,0,"mat-error",26),s.Wb(),s.Xb(51,"div",23),s.Xb(52,"mat-hint",10),s.Tc(53,"Employee number*"),s.Wb(),s.Xb(54,"mat-card",11),s.Xb(55,"input",28),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(56,Ja,2,0,"mat-error",26),s.Wb(),s.Xb(57,"div",23),s.Xb(58,"mat-hint",10),s.Tc(59,"Employment Category*"),s.Wb(),s.Xb(60,"mat-card",11),s.Xb(61,"mat-select",29),s.Rc(62,Ka,2,2,"mat-option",25),s.Wb(),s.Wb(),s.Rc(63,$a,2,0,"mat-error",26),s.Wb(),s.Xb(64,"div",9),s.Xb(65,"div"),s.Xb(66,"mat-hint",10),s.Tc(67,"Employment Start Date"),s.Wb(),s.Xb(68,"mat-card",11),s.Xb(69,"div",16),s.Sb(70,"input",30),s.Wb(),s.Xb(71,"div",18),s.Sb(72,"mat-datepicker-toggle",19),s.Wb(),s.Wb(),s.Wb(),s.Sb(73,"mat-datepicker",null,31),s.Wb(),s.Xb(75,"div",9),s.Xb(76,"div"),s.Xb(77,"mat-hint",10),s.Tc(78,"Employment End Date"),s.Wb(),s.Xb(79,"mat-card",11),s.Sb(80,"input",32),s.Sb(81,"mat-datepicker-toggle",19),s.Wb(),s.Wb(),s.Sb(82,"mat-datepicker",null,33),s.Wb(),s.Xb(84,"div",23),s.Xb(85,"mat-hint",10),s.Tc(86,"Office Name*"),s.Wb(),s.Xb(87,"mat-card",11),s.Sb(88,"input",34),s.Wb(),s.Rc(89,Ha,2,0,"mat-error",26),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(90,"mat-card"),s.Xb(91,"mat-card-title",21),s.Xb(92,"div",22),s.Tc(93,"Monthly Income "),s.Xb(94,"div",35),s.Tc(95),s.Wb(),s.Wb(),s.Sb(96,"mat-divider"),s.Wb(),s.Xb(97,"mat-card-content"),s.Xb(98,"div",8),s.Xb(99,"div",23),s.Xb(100,"mat-hint",10),s.Tc(101,"Salary"),s.Wb(),s.Xb(102,"mat-card",11),s.Xb(103,"input",36),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(104,"div",23),s.Xb(105,"mat-hint",10),s.Tc(106,"Business"),s.Wb(),s.Xb(107,"mat-card",11),s.Xb(108,"input",37),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(109,"div",23),s.Xb(110,"mat-hint",10),s.Tc(111,"Interest Income"),s.Wb(),s.Xb(112,"mat-card",11),s.Xb(113,"input",38),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(114,"div",23),s.Xb(115,"mat-hint",10),s.Tc(116,"Pension"),s.Wb(),s.Xb(117,"mat-card",11),s.Xb(118,"input",39),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(119,"div",23),s.Xb(120,"mat-hint",10),s.Tc(121,"Bonus"),s.Wb(),s.Xb(122,"mat-card",11),s.Xb(123,"input",40),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(124,"div",23),s.Xb(125,"mat-hint",10),s.Tc(126,"Cash Gifts"),s.Wb(),s.Xb(127,"mat-card",11),s.Xb(128,"input",41),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(129,"div",23),s.Xb(130,"mat-hint",10),s.Tc(131,"Rentals"),s.Wb(),s.Xb(132,"mat-card",11),s.Xb(133,"input",42),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(134,"div",23),s.Xb(135,"mat-hint",10),s.Tc(136,"Others"),s.Wb(),s.Xb(137,"mat-card",11),s.Xb(138,"input",43),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(139,"div",23),s.Xb(140,"mat-hint",10),s.Tc(141,"Total"),s.Wb(),s.Xb(142,"mat-card",11),s.Sb(143,"input",44),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(144,"mat-card"),s.Xb(145,"mat-card-title",21),s.Xb(146,"div",22),s.Tc(147,"Monthly Expenses "),s.Xb(148,"div",35),s.Tc(149),s.Wb(),s.Wb(),s.Sb(150,"mat-divider"),s.Wb(),s.Xb(151,"mat-card-content"),s.Xb(152,"div",8),s.Xb(153,"div",23),s.Xb(154,"mat-hint",10),s.Tc(155,"Household"),s.Wb(),s.Xb(156,"mat-card",11),s.Xb(157,"input",45),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(158,"div",9),s.Xb(159,"mat-hint",10),s.Tc(160,"Medical"),s.Wb(),s.Xb(161,"mat-card",11),s.Xb(162,"input",46),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(163,"div",9),s.Xb(164,"mat-hint",10),s.Tc(165,"Vehicle Maintenance"),s.Wb(),s.Xb(166,"mat-card",11),s.Xb(167,"input",47),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(168,"div",9),s.Xb(169,"mat-hint",10),s.Tc(170,"Travel"),s.Wb(),s.Xb(171,"mat-card",11),s.Xb(172,"input",48),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(173,"div",9),s.Xb(174,"mat-hint",10),s.Tc(175,"Rentals"),s.Wb(),s.Xb(176,"mat-card",11),s.Xb(177,"input",49),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(178,"div",9),s.Xb(179,"mat-hint",10),s.Tc(180,"Others"),s.Wb(),s.Xb(181,"mat-card",11),s.Xb(182,"input",50),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(183,"div",9),s.Xb(184,"mat-hint",10),s.Tc(185,"Total"),s.Wb(),s.Xb(186,"mat-card",11),s.Sb(187,"input",51),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(188,"mat-card"),s.Xb(189,"mat-card-title",21),s.Xb(190,"div",22),s.Tc(191,"Annual Liabilities "),s.Xb(192,"div",35),s.Tc(193),s.Wb(),s.Wb(),s.Sb(194,"mat-divider"),s.Wb(),s.Xb(195,"mat-card-content"),s.Xb(196,"div",8),s.Xb(197,"div",9),s.Xb(198,"mat-hint",10),s.Tc(199,"Property Loans"),s.Wb(),s.Xb(200,"mat-card",11),s.Xb(201,"input",52),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(202,"div",9),s.Xb(203,"mat-hint",10),s.Tc(204,"Personal Loans"),s.Wb(),s.Xb(205,"mat-card",11),s.Xb(206,"input",53),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(207,"div",9),s.Xb(208,"mat-hint",10),s.Tc(209,"Vehicle Loans"),s.Wb(),s.Xb(210,"mat-card",11),s.Xb(211,"input",54),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(212,"div",9),s.Xb(213,"mat-hint",10),s.Tc(214,"Cards Outstanding's"),s.Wb(),s.Xb(215,"mat-card",11),s.Xb(216,"input",55),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(217,"div",9),s.Xb(218,"mat-hint",10),s.Tc(219,"Overdrafts"),s.Wb(),s.Xb(220,"mat-card",11),s.Xb(221,"input",56),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(222,"div",9),s.Xb(223,"mat-hint",10),s.Tc(224,"Others"),s.Wb(),s.Xb(225,"mat-card",11),s.Xb(226,"input",57),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(227,"div",9),s.Xb(228,"mat-hint",10),s.Tc(229,"Total"),s.Wb(),s.Xb(230,"mat-card",11),s.Sb(231,"input",58),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(232,"mat-card"),s.Xb(233,"mat-card-title",21),s.Xb(234,"div",22),s.Tc(235,"Asset "),s.Xb(236,"div",35),s.Tc(237),s.Wb(),s.Wb(),s.Sb(238,"mat-divider"),s.Wb(),s.Xb(239,"mat-card-content"),s.Xb(240,"div",8),s.Xb(241,"div",9),s.Xb(242,"mat-hint",10),s.Tc(243,"Savings Deposits"),s.Wb(),s.Sb(244,"mat-card"),s.Xb(245,"input",59),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Xb(246,"div",9),s.Xb(247,"mat-hint",10),s.Tc(248,"Properties"),s.Wb(),s.Xb(249,"mat-card",11),s.Xb(250,"input",60),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(251,"div",9),s.Xb(252,"mat-hint",10),s.Tc(253,"Fixed Deposits"),s.Wb(),s.Xb(254,"mat-card",11),s.Xb(255,"input",61),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(256,"div",9),s.Xb(257,"mat-hint",10),s.Tc(258,"Stocks/Funds"),s.Wb(),s.Xb(259,"mat-card",11),s.Xb(260,"input",62),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(261,"div",9),s.Xb(262,"mat-hint",10),s.Tc(263,"Auto Mobiles"),s.Wb(),s.Xb(264,"mat-card",11),s.Xb(265,"input",63),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(266,"div",9),s.Xb(267,"mat-hint",10),s.Tc(268,"Lands"),s.Wb(),s.Xb(269,"mat-card",11),s.Xb(270,"input",64),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(271,"div",9),s.Xb(272,"mat-hint",10),s.Tc(273,"Others"),s.Wb(),s.Xb(274,"mat-card",11),s.Xb(275,"input",65),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("input",function(){s.Hc(a);var t=s.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(276,"div",9),s.Xb(277,"mat-hint",10),s.Tc(278,"Total"),s.Wb(),s.Xb(279,"mat-card"),s.Sb(280,"input",66),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.Dc(30),o=s.Dc(74),r=s.Dc(83),i=s.jc();s.rc("formGroup",i.financialDetailsUpdate),s.Eb(26),s.rc("matDatepicker",n)("max",i.tomorrow),s.Eb(2),s.rc("for",n),s.Eb(15),s.rc("ngForOf",i.arrayEmploymentType),s.Eb(1),s.rc("ngIf",i.financialDetailsUpdate.get("employmentType").hasError("required")),s.Eb(6),s.rc("ngIf",i.financialDetailsUpdate.get("designation").hasError("required")),s.Eb(6),s.rc("ngIf",i.financialDetailsUpdate.get("employeeNumber").hasError("required")),s.Eb(6),s.rc("ngForOf",i.arrayEmploymentCategory),s.Eb(1),s.rc("ngIf",i.financialDetailsUpdate.get("employmentCategory").hasError("required")),s.Eb(7),s.rc("matDatepicker",o),s.Eb(2),s.rc("for",o),s.Eb(8),s.rc("min",i.financialDetailsUpdate.get("employmentStartDate").value)("matDatepicker",r),s.Eb(1),s.rc("for",r),s.Eb(8),s.rc("ngIf",i.financialDetailsUpdate.get("officeName").hasError("required")),s.Eb(6),s.Vc("",i.incomeErrMsg," "),s.Eb(54),s.Vc("",i.ExpensesErrMsg," "),s.Eb(44),s.Vc("",i.LiabilitiesErrMsg," "),s.Eb(44),s.Vc("",i.assetErrMsg," ")}}var Za,Qa=((Za=function(){function t(e,n,o,r,i,c,s,l){a(this,t),this.data=e,this.dialogRef=n,this.formBuilder=o,this.ls=r,this.cdr=i,this.api=c,this.snack=s,this.tasksummaryService=l}return o(t,[{key:"ngOnInit",value:function(){console.log(this.data,"AccountId: ",this.ls.getItem("accountId")),this.accountId=this.ls.getItem("accountId"),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),null!=this.data?this.buildFinacialFormGroup(this.data):this.buildFinacialFormGroup()}},{key:"buildFinacialFormGroup",value:function(t){var e=this;this.financialDetailsUpdate=this.formBuilder.group({applicantName:[t?t.applicantName:"",g.A.required],applicantTotalIncome:[t?t.applicantTotalIncome:0,g.A.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,g.A.required],lastUpdatedon:[t?new Date(t.lastUpdatedon):""],limit_end_date:[t?new Date(t.limit_end_date):""],employmentType:[t?t.employmentType:"",g.A.required],employmentCategory:[t?t.employmentCategory:"",g.A.required],employeeNumber:[t?t.employeeNumber:"",g.A.required],officeName:[t?t.officeName:"",g.A.required],designation:[t?t.designation:"",g.A.required],employmentStartDate:[t?new Date(t.employmentStartDate):""],employmentEndDate:[t?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0],accountId:this.ls.getItem("accountId")},{validator:function(t){return e.validateInputGroups(t)}})}},{key:"validateInputGroups",value:function(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}},{key:"onSubmit",value:function(){var t=this,e=this.converDate(this.financialDetailsUpdate.controls.employmentStartDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.financialDetailsUpdate.value.employmentStartDate=e):this.financialDetailsUpdate.value.employmentStartDate=null;var a=this.converDate(this.financialDetailsUpdate.controls.employmentEndDate.value);a&&"Invalid date"!=a?(console.log("startDate",a),this.financialDetailsUpdate.value.employmentEndDate=a):this.financialDetailsUpdate.value.employmentEndDate=null;var n=this.converDate(this.financialDetailsUpdate.controls.lastUpdatedon.value);if(n&&"Invalid date"!=n?(console.log("startDate",n),this.financialDetailsUpdate.value.lastUpdatedon=n):this.financialDetailsUpdate.value.lastUpdatedon=null,console.log("submit",this.financialDetailsUpdate.value),!this.financialDetailsUpdate.value.applicantName||!this.financialDetailsUpdate.value.employmentType||!this.financialDetailsUpdate.value.employmentCategory)return console.log("if---\x3e"),Ca.a.fire("Please Enter The Mandatory Fields !"),!1;this.api.upsertfinancialDetails(this.financialDetailsUpdate.value).subscribe(function(e){console.log(e),t.snack.open("Financial Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})},function(e){t.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"getEmploymentType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentType=t})}},{key:"getEmploymentCategory",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentCategory=t})}},{key:"converDate",value:function(t){var e=v(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"calculateTotalMonthlyIncome",value:function(t){var e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.financialDetailsUpdate.controls.monthlyIncomeTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalMonthlyExpenses",value:function(t){var e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.financialDetailsUpdate.controls.monthlyExpenseTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalLiabilities",value:function(t){var e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.financialDetailsUpdate.controls.liabilityTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalAssets",value:function(t){var e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.financialDetailsUpdate.controls.assetTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalIncomeAndExpense",value:function(t){var e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.financialDetailsUpdate.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.financialDetailsUpdate.controls.applicantTotalExpense.setValue(e),this.cdr.detectChanges()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Za)(s.Rb(m.a),s.Rb(m.g),s.Rb(g.f),s.Rb(d.a),s.Rb(s.h),s.Rb(l.b),s.Rb(y.a),s.Rb(h.a))},Za.\u0275cmp=s.Lb({type:Za,selectors:[["app-financial-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","submit",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","applicantName","readonly","","placeholder","Applicant Name"],["matInput","","type","number","readonly","","formControlName","applicantTotalIncome","placeholder","Total Annual Income"],["matInput","","type","number","readonly","","formControlName","applicantTotalExpense","placeholder","Total Annual Expenses"],["fxFlexLayout","row",1,"inputCard"],["fxFlex","85%"],["matInput","","formControlName","lastUpdatedon","placeholder","Last Update On","readonly","",3,"matDatepicker","max"],["fxFlex","15%"],["matSuffix","",3,"for"],["appDatepicker",""],[1,""],[1,"card-title-text"],["fxFlex","33.33%","fxFlex.xs","100%","fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"keypress"],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","formControlName","employmentStartDate","placeholder","Employment Start Date","readonly","",3,"matDatepicker"],["start",""],["matInput","","name","employmentEndDate","formControlName","employmentEndDate","placeholder","Employment End Date","readonly","",3,"min","matDatepicker"],["end",""],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","autocomplete","off","placeholder","Business",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","MonthlyIncomeTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","monthlyExpenseRentals",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","monthlyExpenseOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","vehicle Loan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","cardOutstandings",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","overdraft",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","liabilityOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","fixedDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","stocks","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","lands","formControlName","lands",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","assetOthers","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","assetTotal","readonly",""],[3,"value"],[1,"errorClass"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Financial Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,Ya,281,20,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9," Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.financialDetailsUpdate),s.Eb(2),s.rc("disabled",!e.financialDetailsUpdate.get("employeeNumber").valid||!e.financialDetailsUpdate.get("employmentType").valid||!e.financialDetailsUpdate.get("designation").valid||e.incomeErrMsg||!e.financialDetailsUpdate.get("officeName").valid||e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,i.n,R.b,g.C,g.s,g.j,I.a,W.b,T.f,E.b,g.c,g.r,g.i,g.w,x.e,x.g,T.j,x.d,I.h,Ba.a,I.d,C.a,i.m,g.m,$.a,D.n,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}"]}),Za);function tn(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Margin in % is "),s.Xb(2,"strong"),s.Tc(3,"required"),s.Wb(),s.Wb())}function en(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Max value allowed is 100 "),s.Wb())}function an(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Effective Rate % is required "),s.Wb())}function nn(t,e){1&t&&(s.Xb(0,"mat-error",19),s.Tc(1," Max value allowed is 100 "),s.Wb())}function on(t,e){if(1&t){var a=s.Yb();s.Xb(0,"tr",10),s.Vb(1,7),s.Xb(2,"td"),s.Xb(3,"div"),s.Xb(4,"mat-card",11),s.Sb(5,"input",12),s.Xb(6,"mat-icon",13),s.Tc(7,"credit_card"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"td"),s.Xb(9,"div"),s.Xb(10,"mat-card",14),s.Sb(11,"input",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"td"),s.Xb(13,"div"),s.Xb(14,"mat-card",14),s.Xb(15,"input",16),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(16,tn,4,0,"mat-error",17),s.Rc(17,en,2,0,"mat-error",17),s.Wb(),s.Wb(),s.Xb(18,"td"),s.Xb(19,"div"),s.Xb(20,"mat-card",14),s.Xb(21,"input",18),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(22,an,2,0,"mat-error",17),s.Rc(23,nn,2,0,"mat-error",17),s.Wb(),s.Wb(),s.Ub(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("formGroup",n),s.Eb(15),s.rc("ngIf",null==n.controls.marginIn.errors?null:n.controls.marginIn.errors.required),s.Eb(1),s.rc("ngIf",null==n.controls.marginIn.errors?null:n.controls.marginIn.errors.max),s.Eb(5),s.rc("ngIf",null==n.controls.effectiveRate.errors?null:n.controls.effectiveRate.errors.required),s.Eb(1),s.rc("ngIf",null==n.controls.effectiveRate.errors?null:n.controls.effectiveRate.errors.max)}}function rn(t,e){if(1&t&&(s.Xb(0,"form",7),s.Xb(1,"table"),s.Xb(2,"thead"),s.Xb(3,"tr"),s.Xb(4,"th",8),s.Tc(5,"Interest Type"),s.Wb(),s.Xb(6,"th",8),s.Tc(7,"Interest Rate Applicable"),s.Wb(),s.Xb(8,"th",8),s.Tc(9,"Margin in %"),s.Wb(),s.Xb(10,"th",8),s.Tc(11,"Effective Rate %"),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"tbody"),s.Rc(13,on,24,5,"tr",9),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc();s.rc("formGroup",a.interestUpdateForm),s.Eb(13),s.rc("ngForOf",a.in.controls)}}var cn,sn=((cn=function(){function t(e,n,o,r,i,c,s){a(this,t),this.data=e,this.dialogRef=n,this.api=o,this.ls=r,this.formBuilder=i,this.snack=c,this.tasksummaryService=s}return o(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.interestUpdateForm=this.formBuilder.group({interest:new g.d([])}),null!=this.data&&(this.buildInterestForm(this.data.length),this.in.patchValue(this.data)),this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(function(e){t.buildInterestForm(e.length),t.in.patchValue(e)})}},{key:"buildInterestForm",value:function(t){var e=t||0;if(this.in.length<e)for(var a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:["",[g.A.required,g.A.max(100),g.A.min(0)]],effectiveRate:["",[g.A.required,g.A.max(100),g.A.min(0)]],accountId:[""],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],id:[""]}));else for(var n=this.in.length;n>=e;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.interestUpdateForm.controls}},{key:"in",get:function(){return this.f.interest}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"onSubmit",value:function(t){var e=this;t.interest=t.interest.map(function(t){return Object.assign(Object.assign({},t),{accountId:e.accountId})}),this.api.intrestDetailsSave(t.interest).subscribe(function(t){e.snack.open("Interest Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||cn)(s.Rb(m.a),s.Rb(m.g),s.Rb(l.b),s.Rb(d.a),s.Rb(g.f),s.Rb(y.a),s.Rb(h.a))},cn.\u0275cmp=s.Lb({type:cn,selectors:[["app-interest-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","color","primary",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[1,"hintClass"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],["fxLayout","row",1,"inputCard"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type","readonly",""],["matSuffix",""],[1,"inputCard"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","placeholder","Interest Rate Applicable","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","maxlength","3","type","text",1,"input",3,"keypress"],["class","errorClass",4,"ngIf"],["matInput","","formControlName","effectiveRate","name","account_branch","type","text","maxlength","3","value","",1,"input",3,"keypress"],[1,"errorClass"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Interest Details"),s.Wb(),s.Xb(5,"mat-card-content"),s.Rc(6,rn,14,2,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit(e.interestUpdateForm.value)}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.interestUpdateForm),s.Eb(2),s.rc("disabled",e.interestUpdateForm.invalid))},directives:[W.e,W.f,W.d,X.a,m.h,I.d,i.n,R.b,g.C,g.s,g.j,i.m,I.a,E.b,g.c,g.r,g.i,T.j,g.m,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),cn);function ln(t,e){1&t&&(s.Xb(0,"mat-error",17),s.Tc(1," amount is required "),s.Wb())}function bn(t,e){if(1&t){var a=s.Yb();s.Xb(0,"tr"),s.Vb(1,7),s.Xb(2,"td"),s.Xb(3,"div"),s.Xb(4,"mat-card",10),s.Xb(5,"input",11),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Xb(6,"mat-icon",12),s.Tc(7,"credit_card"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"td"),s.Xb(9,"div"),s.Xb(10,"mat-card",10),s.Sb(11,"input",13),s.Xb(12,"mat-icon",12),s.Tc(13,"class"),s.Wb(),s.Wb(),s.Rc(14,ln,2,0,"mat-error",14),s.Wb(),s.Wb(),s.Xb(15,"td"),s.Xb(16,"div",15),s.Xb(17,"mat-checkbox",16),s.fc("change",function(t){return s.Hc(a),s.jc(2).checkboxChanged(t)}),s.Wb(),s.Wb(),s.Wb(),s.Ub(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("formGroup",n),s.Eb(13),s.rc("ngIf",(null==n.controls.amount.errors?null:n.controls.amount.errors.required)&&n.controls.amount.touched)}}function un(t,e){if(1&t&&(s.Xb(0,"form",7),s.Xb(1,"thead"),s.Xb(2,"tr"),s.Xb(3,"th",8),s.Tc(4,"Interest Type"),s.Wb(),s.Xb(5,"th",8),s.Tc(6,"Amount*"),s.Wb(),s.Xb(7,"th",8),s.Tc(8,"Waiver"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"tbody"),s.Rc(10,bn,18,2,"tr",9),s.Wb(),s.Wb()),2&t){var a=s.jc();s.rc("formGroup",a.chargeForm),s.Eb(10),s.rc("ngForOf",a.c.controls)}}var dn,mn=((dn=function(){function t(e,n,o,r,i,c,s){a(this,t),this.data=e,this.dialogRef=n,this.api=o,this.formBuilder=r,this.ls=i,this.snack=c,this.tasksummaryService=s}return o(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.chargeUpdateForm=this.formBuilder.group({charges:new g.d([])}),null!=this.data&&(this.buildChargeForm(this.data.length),this.c.patchValue(this.data)),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(e){t.buildChargeForm(e.length),t.c.patchValue(e)})}},{key:"buildChargeForm",value:function(t){var e=t||0;if(this.c.length<e)for(var a=this.c.length;a<e;a++)this.c.push(this.formBuilder.group({intrestType:[""],amount:["",g.A.required],waiver:[!1],accountId:[this.accountId],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],id:[""]}));else for(var n=this.c.length;n>=e;n--)this.c.removeAt(n)}},{key:"f",get:function(){return this.chargeUpdateForm.controls}},{key:"c",get:function(){return this.f.charges}},{key:"onSubmit",value:function(t){var e=this;t.charges=t.charges.map(function(t){return Object.assign(Object.assign({},t),{accountId:e.accountId})}),t.accountId=this.accountId,this.api.chargeDetailsSave(t.charges).subscribe(function(t){e.snack.open("Account Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"checkboxChanged",value:function(t){console.log(t.checked),this.flag=t.checked}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||dn)(s.Rb(m.a),s.Rb(m.g),s.Rb(l.b),s.Rb(g.f),s.Rb(d.a),s.Rb(y.a),s.Rb(h.a))},dn.\u0275cmp=s.Lb({type:dn,selectors:[["app-charge-details-update"]],decls:14,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[1,"hintClass"],[4,"ngFor","ngForOf"],["fxLayout","row",1,"inputCard"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type",3,"keypress"],["matSuffix",""],["matInput","","formControlName","amount","type","number","name","account_branch","placeholder","Amount"],["class","errorClass",4,"ngIf"],[1,"waiver-pos",2,"text-align","center"],["formControlName","waiver","color","primary",3,"change"],[1,"errorClass"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Charge Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Rc(7,un,11,2,"form",3),s.Wb(),s.Wb(),s.Xb(8,"div",4),s.Xb(9,"button",5),s.fc("click",function(){return e.onSubmit(e.chargeUpdateForm.value)}),s.Tc(10,"Save"),s.Wb(),s.Tc(11," \xa0\xa0\xa0 "),s.Xb(12,"button",6),s.fc("click",function(){return e.close()}),s.Tc(13," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("ngIf",e.chargeUpdateForm),s.Eb(2),s.rc("disabled",e.chargeUpdateForm.invalid))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,I.a,i.n,R.b,g.C,g.s,g.j,i.m,E.b,g.c,g.r,g.i,T.j,g.w,Qt.a,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),dn);function fn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter valid Scorecard ID "),s.Wb())}function pn(t,e){1&t&&s.Sb(0,"input",14)}function hn(t,e){1&t&&s.Sb(0,"option",17)}function gn(t,e){if(1&t&&(s.Xb(0,"mat-select",15),s.Rc(1,hn,1,0,"option",16),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("ngForOf",a.value.scorecardAnswers)}}function vn(t,e){if(1&t&&(s.Xb(0,"div",3),s.Xb(1,"div"),s.Xb(2,"mat-hint"),s.Tc(3),s.Wb(),s.Xb(4,"mat-card"),s.Rc(5,pn,1,0,"input",12),s.Rc(6,gn,2,1,"mat-select",13),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.rc("formGroup",e.index),s.Eb(3),s.Uc(a.value.scorecardQuestion),s.Eb(2),s.rc("ngIf","textbox"==a.value.attributeType),s.Eb(1),s.rc("ngIf","drop-down"==a.value.attributeType)}}function yn(t,e){if(1&t&&(s.Xb(0,"div",3),s.Xb(1,"div",11),s.Rc(2,vn,7,4,"div",7),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.rc("formGroup",e.index),s.Eb(2),s.rc("ngForOf",a.get("scoreCardDetails").controls)}}var Wn,Xn=((Wn=function(){function t(e,n,o,r,i,c){a(this,t),this.formBuilder=e,this.qualitativeDetails=n,this.ls=o,this.apiService=r,this.dialogRef=i,this.snack=c,this.qualitative=new g.d([])}return o(t,[{key:"ngOnInit",value:function(){var t,e,a=this;console.log(this.qualitativeDetails),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.scoreCardId=null===(t=this.qualitativeDetails)||void 0===t?void 0:t.scorecardId,this.numberOfApplicant=null===(e=this.qualitativeDetails)||void 0===e?void 0:e.numberOfApplicant,this.buildQualitativeForm(),this.apiService.getScorecardQuestions(this.accountType).subscribe(function(t){var e;a.qualitative=a.qualitativeUpdateForm.get("scorecardMapping"),a.qualitative.push(a.addScorecardMappiing());for(var n=0;n<t.length;n++)console.log(a.qualitativeUpdateForm),a.addScorecardDetails(t[n],null===(e=a.qualitativeDetails)||void 0===e?void 0:e.scoreCardMapping[0].scoreCardDetails[n].scorecardAnswer,n),console.log(a.qualitativeUpdateForm)})}},{key:"buildQualitativeForm",value:function(){this.qualitativeUpdateForm=this.formBuilder.group({accountId:this.accountId,accountType:this.accountType,scoreCardId:this.scoreCardId?this.scoreCardId:"",loggedinUser:"123",numberOfApplicant:this.numberOfApplicant,scorecardMapping:this.formBuilder.array([])})}},{key:"addScorecardMappiing",value:function(){return this.formBuilder.group({applicantId:"",scoreCardDetails:this.formBuilder.array([])})}},{key:"addScorecardDetails",value:function(t,e,a){this.qualitative.controls[0].get("scoreCardDetails").push(this.formBuilder.group({scoreCardDetailsId:[t?t.scoreCardDetailsId:""],scoreCardMappingId:[t?t.scoreCardMappingId:""],scoreCardQuestionId:[t?t.scoreCardQuestionId:""],scorecardQuestion:[t?t.scorecardQuestion:""],scorecardAnswer:[t?t.scorecardAnswer:"",[g.A.required]],scorecardAnswers:[t?t.scorecardAnswers:""],attributeType:[t?t.attributeType:""]})),e&&this.qualitative.controls[0].get("scoreCardDetails").at(a).get("scorecardAnswer").setValue(e)}},{key:"saveReports",value:function(t){var e=this;this.apiService.saveQualitativeScorecard(t).subscribe(function(t){e.snack.open("Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Wn)(s.Rb(g.f),s.Rb(m.a),s.Rb(d.a),s.Rb(l.b),s.Rb(m.g),s.Rb(y.a))},Wn.\u0275cmp=s.Lb({type:Wn,selectors:[["app-qualitative-details-update"]],decls:22,vars:4,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId","formControlName","scoreCardId"],[4,"ngIf"],["formArrayName","scorecardMapping"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["formArrayName","scoreCardDetails"],["matInput","","formControlName","scorecardAnswer",4,"ngIf"],["formControlName","scorecardAnswer",4,"ngIf"],["matInput","","formControlName","scorecardAnswer"],["formControlName","scorecardAnswer"],["value","answer",4,"ngFor","ngForOf"],["value","answer"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Qualitative Scoreboard"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"mat-card"),s.Xb(8,"div"),s.Xb(9,"mat-hint"),s.Tc(10," Scorecard ID "),s.Wb(),s.Xb(11,"mat-card"),s.Sb(12,"input",4),s.Wb(),s.Rc(13,fn,2,0,"mat-error",5),s.Wb(),s.Xb(14,"div",6),s.Rc(15,yn,3,2,"div",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div",8),s.Xb(17,"button",9),s.fc("click",function(){return e.saveReports(e.qualitativeUpdateForm.value)}),s.Tc(18,"Save"),s.Wb(),s.Tc(19," \xa0\xa0\xa0 "),s.Xb(20,"button",10),s.fc("click",function(){return e.close()}),s.Tc(21," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.qualitativeUpdateForm),s.Eb(7),s.rc("ngIf",e.qualitativeUpdateForm.get("scoreCardId").touched&&0==e.qualitativeUpdateForm.get("scoreCardId").value),s.Eb(2),s.rc("ngForOf",e.qualitativeUpdateForm.get("scorecardMapping").controls),s.Eb(2),s.rc("disabled",e.qualitativeUpdateForm.invalid))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,g.C,g.s,g.j,I.a,T.f,E.b,g.c,$.a,g.r,g.i,i.n,g.e,i.m,R.b,T.b,C.a,g.v,g.B],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Wn),Tn=r("/Pd4"),In=r("kA6c"),En=r("Ya7Z");function Cn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Fund By "),s.Wb())}function xn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Amount "),s.Wb())}function An(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Teller Transaction Reference Number "),s.Wb())}function Rn(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",9),s.Xb(1,"mat-hint",10),s.Tc(2,"Teller Transaction Reference Number"),s.Wb(),s.Xb(3,"mat-card",11),s.Xb(4,"input",19),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(5,An,2,0,"mat-error",16),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(5),s.rc("ngIf",n.fundStageUpdateForm.controls.tellerTrxnRefNo.hasError("required"))}}function On(t,e){if(1&t&&(s.Xb(0,"mat-hint",10),s.Tc(1),s.kc(2,"currency"),s.Wb()),2&t){var a=s.jc(3);s.Eb(1),s.Vc("Available Balance : ",s.oc(2,1,null==a.accountInfo?null:a.accountInfo.accBalance,null==a.accountInfo?null:a.accountInfo.currency,"symbol","4.2-2"),"")}}function Dn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Fund By Account is Required! "),s.Wb())}function kn(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",9),s.Xb(1,"mat-hint",10),s.Tc(2,"Fund By Account"),s.Wb(),s.Xb(3,"mat-card",11),s.Xb(4,"input",20),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)})("keyup",function(t){return s.Hc(a),s.jc(2).keyUp(t)})("change",function(){s.Hc(a);var t=s.jc(2);return t.onChangeEvent(t.fundStageUpdateForm.get("fundByAccount").value)}),s.Wb(),s.Xb(5,"mat-icon",21),s.Tc(6,"search"),s.Wb(),s.Wb(),s.Rc(7,On,3,6,"mat-hint",22),s.Rc(8,Dn,2,0,"mat-error",16),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(7),s.rc("ngIf",null!==n.accountInfo),s.Eb(1),s.rc("ngIf",n.fundStageUpdateForm.get("fundByAccount").hasError("required"))}}function Sn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Branch Code "),s.Wb())}function Nn(t,e){if(1&t&&(s.Xb(0,"div",9),s.Xb(1,"mat-hint",10),s.Tc(2,"Branch Code"),s.Wb(),s.Xb(3,"mat-card",11),s.Sb(4,"input",23),s.Wb(),s.Rc(5,Sn,2,0,"mat-error",16),s.Wb()),2&t){var a=s.jc(2);s.Eb(5),s.rc("ngIf",a.fundStageUpdateForm.controls.branchCode.hasError("required"))}}function Pn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Cheque Number "),s.Wb())}function Fn(t,e){1&t&&(s.Xb(0,"small",26),s.Tc(1," Cheque Number should be minmum 6 digits "),s.Wb())}function Ln(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",9),s.Xb(1,"mat-hint",10),s.Tc(2,"Cheque Number"),s.Wb(),s.Xb(3,"mat-card",11),s.Xb(4,"input",24),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(5,Pn,2,0,"mat-error",16),s.Rc(6,Fn,2,0,"small",25),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(5),s.rc("ngIf",n.fundStageUpdateForm.controls.chequeNumber.hasError("required")),s.Eb(1),s.rc("ngIf",n.chequeNoLenCheck)}}function wn(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"div"),s.Xb(3,"button",27),s.Tc(4),s.Wb(),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Xb(6,"div"),s.Xb(7,"button",28),s.Tc(8),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div",9),s.Xb(10,"mat-hint",10),s.Tc(11,"Amount"),s.Wb(),s.Xb(12,"mat-card",11),s.Xb(13,"span",29),s.Tc(14,"\xa0"),s.Wb(),s.Sb(15,"input",30),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.Vc(" ReferenceNumber : ",a.fundStageUpdateForm.value.tellerTrxnRefNo," "),s.Eb(4),s.Vc(" Branch Code : ",a.fundStageUpdateForm.value.tellerTrxnStatus," ")}}function Un(t,e){if(1&t){var a=s.Yb();s.Xb(0,"form",7),s.Xb(1,"div",8),s.Xb(2,"div",9),s.Xb(3,"mat-hint",10),s.Tc(4,"Fund By*"),s.Wb(),s.Xb(5,"mat-card",11),s.Xb(6,"mat-select",12),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().selected(t.value)}),s.Xb(7,"mat-option",13),s.Tc(8,"Cash"),s.Wb(),s.Xb(9,"mat-option",14),s.Tc(10,"Cheque"),s.Wb(),s.Xb(11,"mat-option",15),s.Tc(12,"Fund Transfer"),s.Wb(),s.Wb(),s.Wb(),s.Rc(13,Cn,2,0,"mat-error",16),s.Wb(),s.Xb(14,"div",9),s.Xb(15,"mat-hint",10),s.Tc(16,"Amount"),s.Wb(),s.Xb(17,"mat-card",11),s.Xb(18,"input",17),s.fc("keyup",function(t){return s.Hc(a),s.jc().validateAmount(t)})("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.kc(19,"removeComma"),s.Wb(),s.Wb(),s.Rc(20,xn,2,0,"mat-error",16),s.Wb(),s.Rc(21,Rn,6,1,"div",18),s.Rc(22,kn,9,2,"div",18),s.Rc(23,Nn,6,1,"div",18),s.Rc(24,Ln,7,2,"div",18),s.Wb(),s.Rc(25,wn,16,2,"mat-card",16),s.Wb()}if(2&t){var n=s.jc();s.rc("formGroup",n.fundStageUpdateForm),s.Eb(13),s.rc("ngIf",n.fundStageUpdateForm.controls.fundBy.hasError("required")),s.Eb(5),s.rc("value",s.lc(19,9,n.fundStageUpdateForm.controls.amount.value)),s.Eb(2),s.rc("ngIf",n.fundStageUpdateForm.controls.amount.hasError("required")),s.Eb(1),s.rc("ngIf",n.disabletellerTrxnRefNo),s.Eb(1),s.rc("ngIf",n.disableFundByAccount),s.Eb(1),s.rc("ngIf",n.disabletellerTrxnStatus),s.Eb(1),s.rc("ngIf",n.disablechequeNumber),s.Eb(1),s.rc("ngIf",n.actionView)}}var _n,Mn=((_n=function(){function t(e,n,o,r,i,c,s,l,b,u,d){a(this,t),this.data=e,this.dialogRef=n,this.formBuilder=o,this.cdr=r,this.accountService=i,this.ls=c,this.fundingStageService=s,this.snack=l,this.apiService=b,this.loader=u,this.tasksummaryService=d}return o(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountInfo=this.ls.getItem("accountDetails"),this.data?("Fund Transfer"==this.data.fundBy&&(this.disableFundByAccount=!0,this.disabletellerTrxnStatus=!0,this.disabletellerTrxnRefNo=!1,this.disablechequeNumber=!1),"Cheque"==this.data.fundBy&&(this.disableFundByAccount=!0,this.disablechequeNumber=!0,this.disabletellerTrxnRefNo=!1,this.disabletellerTrxnStatus=!1),"Cash"==this.data.fundBy&&(this.disabletellerTrxnRefNo=!0,this.disableFundByAccount=!1,this.disablechequeNumber=!1,this.disabletellerTrxnStatus=!1),this.buildFundFormGroup(this.data)):this.buildFundFormGroup()}},{key:"buildFundFormGroup",value:function(t){this.fundStageUpdateForm=this.formBuilder.group({fundId:[t?t.fundId:""],fundBy:[t?t.fundBy:"",[g.A.required]],amount:[t?t.amount:""],tellerTrxnRefNo:[t?t.tellerTrxnRefNo:""],fundByAccount:[t?t.fundByAccount:""],chequeNumber:[t?t.chequeNumber:"",[g.A.maxLength]],branchCode:[t?t.branchCode:""],tellerTrxnStatus:[t?t.tellerTrxnStatus:""],createdBy:[t?t.createdBy:""],createdTime:[t?t.createdTime:""],modifiedBy:[t?t.modifiedBy:""],modifiedTime:[t?t.modifiedTime:""],accountId:[this.accountId]}),(null==t?void 0:t.fundByAccount)&&this.fetchAccountBalance(t.fundByAccount)}},{key:"fetchAccountBalance",value:function(t,e){var a=this;this.loader.open(),this.apiService.fetchAccountBalanceByAccountId(t).subscribe(function(t){console.log("RES",t),a.accountInfo=t,e||"Fund Transfer"==a.fundStageUpdateForm.get("fundBy").value&&(a.fundStageUpdateForm.get("fundByAccount").patchValue(t.accountId),a.fundStageUpdateForm.get("branchCode").patchValue(t.branchCode)),a.loader.close(),a.snack.open("Fetched!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){a.loader.close(),a.snack.open("Invalid AccountId!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"selected",value:function(t){console.log(t),"Fund Transfer"==t&&(this.disableFundByAccount=!0,this.disabletellerTrxnStatus=!0,this.disabletellerTrxnRefNo=!1,this.disablechequeNumber=!1,null!=this.accountInfo&&(this.fundStageUpdateForm.get("branchCode").patchValue(this.accountInfo.branchCode),this.fundStageUpdateForm.get("fundByAccount").patchValue(this.accountInfo.accountId)),this.fundStageUpdateForm.get("chequeNumber").patchValue(""),this.fundStageUpdateForm.get("tellerTrxnRefNo").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),"Cheque"==t&&(this.disableFundByAccount=!0,this.disablechequeNumber=!0,this.disabletellerTrxnRefNo=!1,this.disabletellerTrxnStatus=!1,null!=this.accountInfo&&this.fundStageUpdateForm.get("fundByAccount").patchValue(this.accountInfo.accountId),this.fundStageUpdateForm.get("branchCode").patchValue(""),this.fundStageUpdateForm.get("tellerTrxnRefNo").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),"Cash"==t&&(this.disabletellerTrxnRefNo=!0,this.disableFundByAccount=!1,this.disablechequeNumber=!1,this.disabletellerTrxnStatus=!1,this.fundStageUpdateForm.get("branchCode").patchValue(""),this.fundStageUpdateForm.get("chequeNumber").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),this.fundStageUpdateForm.get("fundBy").setValue(t)}},{key:"onSubmit",value:function(t){var e=this;t.accountId=this.accountId,this.fundingStageService.saveOrUpdateFundStageDetails(t).subscribe(function(t){null!=t.accountId||""!=t.accountId||""!=t.accountId?(e.fundingStageService.isSubmittedResp(!0),e.snack.open("Funding Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"}),e.cdr.markForCheck()):(e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))},function(t){console.log("error :: ",t),e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"_keyPress",value:function(t){console.log("PRessed",t);var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"onChangeEvent",value:function(t){console.log("Onchange event",t),this.fetchAccountBalance(t)}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||_n)(s.Rb(m.a),s.Rb(m.g),s.Rb(g.f),s.Rb(s.h),s.Rb(In.a),s.Rb(d.a),s.Rb(Tn.a),s.Rb(y.a),s.Rb(l.b),s.Rb(q.a),s.Rb(h.a))},_n.\u0275cmp=s.Lb({type:_n,selectors:[["app-funding-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["formControlName","fundBy","placeholder","Fund By",1,"full-width",2,"background-color","#FDFDFF","font-size","16px","border","transparent",3,"selectionChange"],["value","Cash"],["value","Cheque"],["value","Fund Transfer"],[4,"ngIf"],["matInput","","formControlName","amount","placeholder","Amount","maxlength","10","minlength","0","required","",3,"value","keyup","keypress"],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["matInput","","formControlName","tellerTrxnRefNo","placeholder","Teller Transaction Reference Number","maxlength","10","minlength","0",3,"keypress"],["name","account","formControlName","fundByAccount","matInput","","placeholder","Fund By Account","maxlength","10","minlength","0",3,"keypress","keyup","change"],["matSuffix",""],["class","hintClass",4,"ngIf"],["matInput","","formControlName","branchCode","appUppercaseInput","","placeholder","Branch Code","maxlength","11","minlength","0"],["matInput","","formControlName","chequeNumber","placeholder","Cheque Number","maxlength","12","minlength","6",3,"keypress"],["style","color: tomato;",4,"ngIf"],[2,"color","tomato"],["mat-raised-button","","id","referenceNumber","color","primary"],["mat-raised-button","","id","status","type","button",2,"background-color","#1ABC9C"],["matPrefix",""],["matInput","","formControlName","amount","placeholder","Amount","readonly",""]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Funding Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,Un,26,11,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit(e.fundStageUpdateForm.value)}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.fundStageUpdateForm),s.Eb(2),s.rc("disabled",e.fundStageUpdateForm.invalid))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,i.n,R.b,g.C,g.s,g.j,W.b,T.f,I.a,C.a,g.r,g.i,D.n,E.b,g.c,g.m,g.n,g.z,T.b,T.j,En.a,T.i],pipes:[i.d],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),_n);function Gn(t,e){if(1&t&&(s.Xb(0,"mat-option",17),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Vn(t,e){if(1&t&&(s.Xb(0,"mat-option",17),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Bn(t,e){if(1&t&&(s.Xb(0,"mat-option",17),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}var jn,zn=((jn=function(){function t(e,n,o,r,i,c,s){a(this,t),this.data=e,this.dialogRef=n,this.api=o,this.formBuilder=r,this.ls=i,this.snack=c,this.tasksummaryService=s,this.arrayAccountType=[],this.arrayAccountCurrency=[],this.arrayUserRecomendation=[]}return o(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.getAccountCurrency("currency"),this.getAccountType("account_type"),this.getUserRecomendation("user_recomendation"),this.data&&this.buildApprovalForm(this.data)}},{key:"buildApprovalForm",value:function(t){this.approvalUpdateForm=this.formBuilder.group({accountId:[this.ls.getItem("accountId")],accountType:[t?t.accountType:""],businessProductName:[t?t.businessProductName:""],productCode:[t?t.businessProductName:""],description:[t?t.description:""],accountBranch:[t?t.accountBranch:""],accountCurrency:[t?t.accountCurrency:""],applicationDate:[t?t.applicationDate:""],fundTheAccount:[t?t.fundTheAccount:""],fundBy:[t?t.fundBy:""],amount:[t?t.amount:""],overDraftRequested:[t?t.overDraftRequested:""],productDescription:[t?t.productDescription:""],userRecommendation:[t?t.userRecommendation:""],createdBy:[this.ls.getItem("userName")]})}},{key:"onSubmit",value:function(t){var e=this;this.api.approvalUpdate(t).subscribe(function(t){e.snack.open("Approval Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})})}},{key:"getAccountCurrency",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayAccountCurrency=t})}},{key:"getAccountType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayAccountType=t})}},{key:"getUserRecomendation",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayUserRecomendation=t})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||jn)(s.Rb(m.a),s.Rb(m.g),s.Rb(l.b),s.Rb(g.f),s.Rb(d.a),s.Rb(y.a),s.Rb(h.a))},jn.\u0275cmp=s.Lb({type:jn,selectors:[["app-approval-details-update"]],decls:42,vars:5,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"paddingclass","full-width"],[1,"hintClass"],[1,"inputCard"],["name","account","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],["matInput","","readonly","","placeholder","Account Branch","formControlName","accountBranch"],["name","owner","formControlName","accountCurrency","disabled",""],["matInput","","name","account_branch","placeholder","Product Image","formControlName","productCode","readonly",""],["name","owner","placeholder","Recommended for Approval","formControlName","userRecommendation"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Approval Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"mat-hint",6),s.Tc(10,"Account Type"),s.Wb(),s.Xb(11,"mat-card",7),s.Xb(12,"mat-select",8),s.Rc(13,Gn,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",5),s.Xb(15,"mat-hint",6),s.Tc(16,"Account Branch"),s.Wb(),s.Xb(17,"mat-card",7),s.Sb(18,"input",10),s.Wb(),s.Wb(),s.Xb(19,"div",5),s.Xb(20,"mat-hint",6),s.Tc(21,"Account Currency"),s.Wb(),s.Xb(22,"mat-card",7),s.Xb(23,"mat-select",11),s.Rc(24,Vn,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",5),s.Xb(26,"mat-hint",6),s.Tc(27,"Product Code"),s.Wb(),s.Xb(28,"mat-card",7),s.Sb(29,"input",12),s.Wb(),s.Wb(),s.Xb(30,"div",5),s.Xb(31,"mat-hint",6),s.Tc(32,"User Recomendation"),s.Wb(),s.Xb(33,"mat-card",7),s.Xb(34,"mat-select",13),s.Rc(35,Bn,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",14),s.Xb(37,"button",15),s.fc("click",function(){return e.onSubmit(e.approvalUpdateForm.value)}),s.Tc(38,"Save"),s.Wb(),s.Tc(39," \xa0\xa0\xa0 "),s.Xb(40,"button",16),s.fc("click",function(){return e.close()}),s.Tc(41," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.approvalUpdateForm),s.Eb(7),s.rc("ngForOf",e.arrayAccountType),s.Eb(11),s.rc("ngForOf",e.arrayAccountCurrency),s.Eb(11),s.rc("ngForOf",e.arrayUserRecomendation),s.Eb(2),s.rc("disabled",e.approvalUpdateForm.invalid))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,g.C,g.s,g.j,W.b,T.f,I.a,C.a,g.r,g.i,i.m,E.b,g.c,R.b,D.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),jn),qn=r("h/GN");function Jn(t,e){if(1&t&&(s.Vb(0),s.Tc(1),s.Ub()),2&t){var a=s.jc().index;s.Eb(1),s.Vc(" Update Mandate ",a+1," ")}}function Kn(t,e){if(1&t&&s.Tc(0),2&t){var a=s.jc().index;s.Vc(" Create Mandate ",a+1," ")}}function $n(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Hn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Mode Of Operation is Required! "),s.Wb())}function Yn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Amount From is Required! "),s.Wb())}function Zn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Amount To is Required! "),s.Wb())}function Qn(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," No of Signatories is Required! "),s.Wb())}function to(t,e){1&t&&(s.Xb(0,"small",27),s.Tc(1," No of Signatories can not be more than no of applicants! "),s.Wb())}function eo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",28),s.fc("click",function(){s.Hc(a);var t=s.jc().index;return s.jc(2).removeMandate(t)}),s.Sb(1,"mat-icon"),s.Tc(2," REMOVE MANDATE "),s.Wb()}}function ao(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"mat-accordion"),s.Xb(2,"mat-expansion-panel",9),s.fc("opened",function(){return s.Hc(a),s.jc(2).panelOpenState=!0})("closed",function(){return s.Hc(a),s.jc(2).panelOpenState=!1}),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Rc(5,Jn,2,1,"ng-container",10),s.Rc(6,Kn,1,1,"ng-template",null,11,s.Sc),s.Wb(),s.Wb(),s.Xb(8,"div",7),s.Xb(9,"div",12),s.Xb(10,"div",13),s.Xb(11,"div"),s.Xb(12,"mat-hint"),s.Tc(13," Mode Of Operation "),s.Wb(),s.Xb(14,"mat-card"),s.Xb(15,"mat-select",14),s.Rc(16,$n,2,2,"mat-option",15),s.Wb(),s.Wb(),s.Rc(17,Hn,2,0,"mat-error",16),s.Wb(),s.Xb(18,"div",17),s.Xb(19,"div"),s.Xb(20,"mat-hint"),s.Tc(21,"Amount From*"),s.Wb(),s.Xb(22,"mat-card"),s.Xb(23,"input",18),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(24,Yn,2,0,"mat-error",16),s.Wb(),s.Xb(25,"div"),s.Xb(26,"mat-hint"),s.Tc(27,"Amount From*"),s.Wb(),s.Xb(28,"mat-card"),s.Xb(29,"input",19),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(30,Zn,2,0,"mat-error",16),s.Wb(),s.Wb(),s.Xb(31,"div"),s.Xb(32,"mat-hint"),s.Tc(33,"Required Signatories"),s.Wb(),s.Xb(34,"mat-card"),s.Xb(35,"input",20),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress2(t)}),s.Wb(),s.Wb(),s.Rc(36,Qn,2,0,"mat-error",16),s.Xb(37,"div"),s.Rc(38,to,2,0,"small",21),s.Wb(),s.Wb(),s.Xb(39,"div"),s.Xb(40,"mat-hint"),s.Tc(41,"Remarks"),s.Wb(),s.Sb(42,"textarea",22),s.Wb(),s.Xb(43,"div",23),s.Xb(44,"button",24),s.fc("click",function(){return s.Hc(a),s.jc(2).addMandateToFormGroup()}),s.Xb(45,"mat-icon"),s.Tc(46,"add"),s.Wb(),s.Tc(47," ADD MANDATE "),s.Wb(),s.Rc(48,eo,3,0,"button",25),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.Dc(7),i=s.jc(2);s.Eb(5),s.rc("ngIf",i.showEditOption)("ngIfElse",r),s.Eb(3),s.rc("formGroup",n),s.Eb(8),s.rc("ngForOf",i.arrayModeOfOperation),s.Eb(1),s.rc("ngIf",n.get("modeOfOperation").touched&&n.get("modeOfOperation").hasError("required")),s.Eb(7),s.rc("ngIf",n.get("amountFrom").touched&&n.get("amountFrom").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("amountTo").touched&&n.get("amountTo").hasError("required")),s.Eb(6),s.rc("ngIf",n.get("totalSignaturesRequired").touched&&n.get("totalSignaturesRequired").hasError("required")),s.Eb(2),s.rc("ngIf",i.flag),s.Eb(6),s.rc("disabled",o<i.m.controls.length-1),s.Eb(4),s.rc("ngIf",null!=n.get("mandateId").value)}}function no(t,e){if(1&t&&(s.Xb(0,"form",7),s.Rc(1,ao,49,11,"div",8),s.Wb()),2&t){var a=s.jc();s.rc("formGroup",a.mandatesUpdateForm),s.Eb(1),s.rc("ngForOf",a.m.controls)}}var oo,ro=((oo=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.data=e,this.dialogRef=n,this.formBuilder=o,this.apiService=r,this.snack=i,this.ls=c,this.api=s,this.confirmService=l,this.tasksummaryService=b}return o(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getModeOfOperation("opr_mode"),this.data?(this.showEditOption=!0,this.buildMandateForm(),this.addMandateToFormGroup(this.data)):(this.showEditOption=!1,this.buildMandateForm(),this.addMandateToFormGroup())}},{key:"buildMandateForm",value:function(){this.mandatesUpdateForm=this.formBuilder.group({mandates:this.formBuilder.array([])})}},{key:"addMandateToFormGroup",value:function(t){var e=t?t.length:1;console.log("numberOfItems",e);for(var a=0;a<e;a++)this.m.push(this.formBuilder.group({mandateId:[t?t.mandateId:""],productAccountId:[this.accountId],modeOfOperation:["",g.A.required],amountFrom:["",g.A.required],amountTo:["",g.A.required],totalSignaturesRequired:[""],remarks:[""]})),this.m.at(a).patchValue(t[a])}},{key:"removeMandate",value:function(t){var e=this,a=this.m.at(t).get("mandateId").value;this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(function(n){console.log("res:: removed ",n),n&&e.apiService.deleteMandateById(a,"ADMIN").subscribe(function(t){console.log("data",t)},function(a){e.mandatesUpdateForm.controls.mandates.removeAt(t),200===a.status&&e.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})})}},{key:"f",get:function(){return this.mandatesUpdateForm.controls}},{key:"m",get:function(){return this.f.mandates}},{key:"getModeOfOperation",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayModeOfOperation=t})}},{key:"onSubmit",value:function(){var t=this;this.apiService.saveMandateDetails(this.mandatesUpdateForm.value).subscribe(function(e){console.log(e),200===e||null!==e?(t.snack.open(" Mandate Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})):500===e&&t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log(t)})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"_keyPress2",value:function(t){this.no_of_sig=t.key,isNaN(t.key)?console.log("input is invalid"):t.key>this.no_of_applicants?(console.log("no of signatories is more than no of applicants"),this.flag=!0):0==t.key?this.flag1=!0:(this.flag=!1,this.flag1=!1);var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||oo)(s.Rb(m.a),s.Rb(m.g),s.Rb(g.f),s.Rb(f.a),s.Rb(y.a),s.Rb(d.a),s.Rb(l.b),s.Rb(z.a),s.Rb(h.a))},oo.\u0275cmp=s.Lb({type:oo,selectors:[["app-mandate-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[4,"ngFor","ngForOf"],["expanded","true",3,"opened","closed"],[4,"ngIf","ngIfElse"],["createMandate",""],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["formControlName","modeOfOperation","name","mod","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["matInput","","maxlength","10","name","a_from","formControlName","amountFrom","placeholder","Amount From",3,"keypress"],["matInput","","maxlength","10","name","a_to","formControlName","amountTo","placeholder","Amount To",3,"keypress"],["matInput","","name","a_sig","formControlName","totalSignaturesRequired","maxlength","1","placeholder","Required No of Signatories",3,"keypress"],["style","color: red",4,"ngIf"],["matInput","","name","remark","formControlName","remarks","placeholder","Leave a Remarks"],[1,"pb-1"],["mat-button","","color","primary",1,"place",3,"disabled","click"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[2,"color","red"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Mandate Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Rc(6,no,2,2,"form",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("ngIf",e.mandatesUpdateForm),s.Eb(2),s.rc("disabled",e.flag||!e.mandatesUpdateForm.valid||e.flag1))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,i.n,R.b,g.C,g.s,g.j,i.m,J.a,J.c,J.e,J.f,W.b,T.f,I.a,C.a,g.r,g.i,g.z,E.b,g.c,g.m,D.n,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),oo),io=r("cUpR"),co=r("ura0"),so=["chart"];function lo(t,e){1&t&&s.Sb(0,"mat-spinner")}function bo(t,e){if(1&t&&(s.Xb(0,"span",56),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.Uc(a)}}function uo(t,e){if(1&t&&(s.Xb(0,"div",57),s.Xb(1,"h1",58),s.Tc(2),s.kc(3,"slice"),s.kc(4,"uppercase"),s.kc(5,"slice"),s.kc(6,"uppercase"),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Oc("background",a.customerColorCode),s.Eb(2),s.Wc("",s.nc(3,4,s.lc(4,8,a.accInfo.firstName),0,1),"",s.nc(5,10,s.lc(6,14,a.accInfo.lastName),0,1),"")}}function mo(t,e){if(1&t&&s.Sb(0,"img",60),2&t){var a=s.jc(2);s.rc("src",a.imageUrl,s.Jc)}}function fo(t,e){if(1&t&&(s.Xb(0,"div",57),s.Rc(1,mo,1,1,"img",59),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngIf","not_available"!=a.imageUrl)}}function po(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"mat-card-content"),s.Xb(2,"div",61),s.Xb(3,"div",62),s.Xb(4,"h2",63),s.Tc(5),s.kc(6,"slice"),s.kc(7,"uppercase"),s.kc(8,"slice"),s.kc(9,"uppercase"),s.Wb(),s.Wb(),s.Xb(10,"mat-card",64),s.Xb(11,"div",65),s.Xb(12,"div",66),s.Tc(13),s.Wb(),s.Xb(14,"div",67),s.Tc(15),s.Wb(),s.Xb(16,"div",68),s.Xb(17,"mat-icon",69),s.Tc(18," phone"),s.Wb(),s.Xb(19,"div",70),s.Tc(20),s.Wb(),s.Wb(),s.Xb(21,"div",71),s.Xb(22,"mat-icon",69),s.Tc(23," email"),s.Wb(),s.Xb(24,"div",70),s.Tc(25),s.Wb(),s.Wb(),s.Xb(26,"div",72),s.Xb(27,"mat-icon",69),s.Tc(28," location_on"),s.Wb(),s.Xb(29,"div",70),s.Tc(30),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"mat-card",64),s.Xb(32,"div",73),s.Xb(33,"div",74),s.Xb(34,"h3"),s.Tc(35,"Other Details"),s.Wb(),s.Wb(),s.Xb(36,"div",75),s.Xb(37,"div"),s.Xb(38,"div",37),s.Tc(39,"Date Of Birth"),s.Wb(),s.Xb(40,"div",38),s.Tc(41),s.Wb(),s.Wb(),s.Xb(42,"div"),s.Xb(43,"div",37),s.Tc(44,"Citizenship By"),s.Wb(),s.Xb(45,"div",38),s.Tc(46),s.Wb(),s.Wb(),s.Xb(47,"div"),s.Xb(48,"div",37),s.Tc(49,"Id Type"),s.Wb(),s.Xb(50,"div",38),s.Tc(51),s.Wb(),s.Wb(),s.Wb(),s.Sb(52,"br"),s.Xb(53,"div",76),s.Xb(54,"div"),s.Xb(55,"div",37),s.Tc(56,"Residence Status"),s.Wb(),s.Xb(57,"div",38),s.Tc(58),s.Wb(),s.Wb(),s.Xb(59,"div"),s.Xb(60,"div",37),s.Tc(61,"Occupation Type"),s.Wb(),s.Xb(62,"div",38),s.Tc(63),s.Wb(),s.Wb(),s.Xb(64,"div"),s.Xb(65,"div",37),s.Tc(66,"Unique Id Number"),s.Wb(),s.Xb(67,"div",38),s.Tc(68),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(5),s.Wc("",s.nc(6,14,s.lc(7,18,a.firstName),0,1),"",s.nc(8,20,s.lc(9,24,a.lastName),0,1),""),s.Eb(8),s.Uc(a.prefix+" "+a.firstName+" "+a.lastName),s.Eb(2),s.Vc("CIF ",null!=a.cifNumber?"#"+a.cifNumber:"- n/a",""),s.Eb(5),s.Uc(a.phoneNumber),s.Eb(5),s.Uc(a.primaryEmailAdress),s.Eb(5),s.Wc(" ",a.userAddress[0].address1," ",a.userAddress[0].address," "),s.Eb(11),s.Uc(a.dateOfBirth),s.Eb(5),s.Uc(a.countryOfResidence),s.Eb(5),s.Uc(a.custIdProofs[0].idType),s.Eb(7),s.Uc(a.residenceStatus),s.Eb(5),s.Uc(a.occupationType),s.Eb(5),s.Uc(a.custIdProofs[0].idNumber)}}function ho(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Customer Information Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editCustomerInfo()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card",33),s.Xb(9,"mat-card-content"),s.Xb(10,"div",39),s.Sb(11,"div",35),s.Xb(12,"div",36),s.Xb(13,"div",37),s.Tc(14,"Ownership"),s.Wb(),s.Xb(15,"div",38),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"div",36),s.Xb(18,"div",37),s.Tc(19,"Number of Applicant"),s.Wb(),s.Xb(20,"div",38),s.Tc(21),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(22,po,69,26,"mat-card",41),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen),s.Eb(10),s.Uc(n.customerInformation.data[0].ownership),s.Eb(5),s.Uc(n.customerInformation.data[0].numOfApplicants),s.Eb(1),s.rc("ngForOf",n.customerInformation.data)}}function go(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"h2",77),s.Xb(2,"span",78),s.Xb(3,"mat-icon",79),s.Tc(4,"done"),s.Wb(),s.Wb(),s.Tc(5),s.Wb(),s.Xb(6,"div",61),s.Sb(7,"div",80),s.Xb(8,"div",81),s.Xb(9,"div",37),s.Tc(10,"Mode Of Operation"),s.Wb(),s.Xb(11,"div",38),s.Tc(12),s.Wb(),s.Wb(),s.Xb(13,"div",81),s.Xb(14,"div",37),s.Tc(15,"Amount From"),s.Wb(),s.Xb(16,"div",38),s.Tc(17),s.Wb(),s.Wb(),s.Xb(18,"div",81),s.Xb(19,"div",37),s.Tc(20,"Amount To"),s.Wb(),s.Xb(21,"div",38),s.Tc(22),s.Wb(),s.Wb(),s.Xb(23,"div",81),s.Xb(24,"div",37),s.Tc(25,"Required No. of Signatures"),s.Wb(),s.Xb(26,"div",38),s.Tc(27),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index;s.Eb(5),s.Vc("Mandate ",n+1,""),s.Eb(7),s.Uc(a.modeOfOperation),s.Eb(5),s.Uc(a.amountFrom),s.Eb(5),s.Uc(a.amountTo),s.Eb(5),s.Uc(a.totalSignaturesRequired)}}function vo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Mandate Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editMandateDetails()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(8,go,28,5,"mat-card",41),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen),s.Eb(2),s.rc("ngForOf",n.mandate)}}function yo(t,e){if(1&t&&(s.Xb(0,"span"),s.Tc(1),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.Vc(" ",a.name," ")}}function Wo(t,e){if(1&t&&(s.Xb(0,"div",38),s.Rc(1,yo,2,1,"span",5),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.rc("ngIf",a.checked)}}function Xo(t,e){if(1&t&&(s.Xb(0,"span"),s.Tc(1),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.Vc(" ",a.name," ")}}function To(t,e){if(1&t&&(s.Xb(0,"div",38),s.Rc(1,Xo,2,1,"span",5),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.rc("ngIf",a.checked)}}function Io(t,e){if(1&t&&(s.Xb(0,"span"),s.Tc(1),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.Vc(" ",a.name," ")}}function Eo(t,e){if(1&t&&(s.Xb(0,"div",38),s.Rc(1,Io,2,1,"span",5),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.rc("ngIf",a.checked)}}function Co(t,e){if(1&t&&(s.Xb(0,"div",81),s.Xb(1,"div",37),s.Tc(2,"Debit Card Type"),s.Wb(),s.Xb(3,"div",38),s.Xb(4,"span"),s.Tc(5),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(5),s.Vc(" ",null==a.debitCardDataValue?null:a.debitCardDataValue.cardType," ")}}function xo(t,e){if(1&t&&(s.Xb(0,"div",34),s.Xb(1,"table",86),s.Xb(2,"thead",87),s.Xb(3,"tr"),s.Xb(4,"th"),s.Tc(5,"Daily Limit"),s.Wb(),s.Xb(6,"th"),s.Tc(7,"Domestic Limit"),s.Wb(),s.Xb(8,"th"),s.Tc(9,"International Limit"),s.Wb(),s.Xb(10,"th"),s.Tc(11,"ATM Limit"),s.Wb(),s.Xb(12,"th"),s.Tc(13,"POS Limit "),s.Wb(),s.Xb(14,"th"),s.Tc(15,"Internet Limit "),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"tbody"),s.Xb(17,"tr"),s.Xb(18,"td"),s.Tc(19),s.Wb(),s.Xb(20,"td"),s.Tc(21),s.Wb(),s.Xb(22,"td"),s.Tc(23),s.Wb(),s.Xb(24,"td"),s.Tc(25),s.Wb(),s.Xb(26,"td"),s.Tc(27),s.Wb(),s.Xb(28,"td"),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(19),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.dailyLimit),s.Eb(2),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.domesticLimit),s.Eb(2),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.internationalLimit),s.Eb(2),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.atmLimit),s.Eb(2),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.posLimit),s.Eb(2),s.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.internetLimit)}}function Ao(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Account Service Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editServiceDetails()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card",33),s.Xb(9,"mat-card-content"),s.Xb(10,"div",34),s.Sb(11,"div",35),s.Xb(12,"div",81),s.Xb(13,"div",37),s.Tc(14,"Account Statement Frequency"),s.Wb(),s.Xb(15,"div",38),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"div",81),s.Xb(18,"div",37),s.Tc(19,"Account Statement Preferences"),s.Wb(),s.Rc(20,Wo,2,1,"div",82),s.Wb(),s.Xb(21,"div",81),s.Xb(22,"div",37),s.Tc(23,"Cheque Book"),s.Wb(),s.Xb(24,"div",38),s.Sb(25,"mat-slide-toggle",83),s.Wb(),s.Wb(),s.Xb(26,"div",81),s.Xb(27,"div",37),s.Tc(28,"Debit Card"),s.Wb(),s.Xb(29,"div",38),s.Sb(30,"mat-slide-toggle",83),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"div",34),s.Sb(32,"div",35),s.Xb(33,"div",81),s.Xb(34,"div",37),s.Tc(35,"Banking Channel Preferences"),s.Wb(),s.Rc(36,To,2,1,"div",82),s.Wb(),s.Xb(37,"div",81),s.Xb(38,"div",37),s.Tc(39,"Communication Channel Preferences"),s.Wb(),s.Rc(40,Eo,2,1,"div",82),s.Wb(),s.Xb(41,"div",81),s.Xb(42,"div",37),s.Tc(43,"Pass Book"),s.Wb(),s.Xb(44,"div",38),s.Sb(45,"mat-slide-toggle",83),s.Wb(),s.Wb(),s.Rc(46,Co,6,1,"div",84),s.Wb(),s.Rc(47,xo,30,6,"div",85),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen),s.Eb(10),s.Uc(n.accountServiceDetails.statementFrequency),s.Eb(4),s.rc("ngForOf",n.accountServiceDetails.statementPref),s.Eb(5),s.rc("checked",null==n.accountServiceDetails?null:n.accountServiceDetails.chequebookNeeded),s.Eb(5),s.rc("checked",null==n.accountServiceDetails?null:n.accountServiceDetails.debitCardRequired),s.Eb(6),s.rc("ngForOf",n.accountServiceDetails.bankChannelPref),s.Eb(4),s.rc("ngForOf",n.accountServiceDetails.commChannelPref),s.Eb(5),s.rc("checked",null==n.accountServiceDetails?null:n.accountServiceDetails.passbookNeeded),s.Eb(1),s.rc("ngIf",n.cardType),s.Eb(1),s.rc("ngIf",n.cardType)}}function Ro(t,e){if(1&t&&(s.Xb(0,"mat-card",64),s.Xb(1,"div",92),s.Sb(2,"div",74),s.Xb(3,"div",90),s.Xb(4,"h4"),s.Tc(5,"Guardian Details"),s.Wb(),s.Xb(6,"div"),s.Xb(7,"div",66),s.Tc(8),s.Wb(),s.Wb(),s.Xb(9,"div"),s.Xb(10,"div",37),s.Tc(11,"Relationship Type"),s.Wb(),s.Xb(12,"div",38),s.Tc(13),s.Wb(),s.Wb(),s.Xb(14,"div"),s.Xb(15,"div",37),s.Tc(16,"Date Of Birth"),s.Wb(),s.Xb(17,"div",38),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(8),s.Uc(a.prefix+" "+a.firstName+" "+a.lastName),s.Eb(5),s.Uc(a.relationshipType),s.Eb(5),s.Uc(a.dateOfBirth)}}function Oo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"h2",77),s.Xb(2,"span",78),s.Xb(3,"mat-icon",79),s.Tc(4,"done"),s.Wb(),s.Wb(),s.Tc(5),s.Wb(),s.Xb(6,"div"),s.Xb(7,"div",61),s.Xb(8,"mat-card",64),s.Xb(9,"div",88),s.Xb(10,"div",66),s.Tc(11),s.Wb(),s.Xb(12,"div",68),s.Xb(13,"mat-icon",69),s.Tc(14," phone"),s.Wb(),s.Xb(15,"div",70),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"div",71),s.Xb(18,"mat-icon",69),s.Tc(19," email"),s.Wb(),s.Xb(20,"div",70),s.Tc(21),s.Wb(),s.Wb(),s.Xb(22,"div",72),s.Xb(23,"mat-icon",69),s.Tc(24," location_on"),s.Wb(),s.Xb(25,"div",70),s.Tc(26),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"mat-card",64),s.Xb(28,"div",89),s.Sb(29,"div",74),s.Xb(30,"div",90),s.Xb(31,"div"),s.Xb(32,"div",37),s.Tc(33,"Date Of Birth"),s.Wb(),s.Xb(34,"div",38),s.Tc(35),s.Wb(),s.Wb(),s.Xb(36,"div"),s.Xb(37,"div",37),s.Tc(38,"Relationship Type"),s.Wb(),s.Xb(39,"div",38),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(41,Ro,19,3,"mat-card",91),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index;s.Eb(5),s.Vc("Nominee ",n+1,""),s.Eb(6),s.Uc(a.prefix+" "+a.firstName+" "+a.lastName),s.Eb(5),s.Vc(" ",a.phoneNumber,""),s.Eb(5),s.Uc(a.email),s.Eb(5),s.Zc(" ",a.building," ",a.street," ",a.locality," ",a.city," ",a.state," ",a.country," ",a.zipCode," "),s.Eb(9),s.Uc(a.dateOfBirth),s.Eb(5),s.Uc(a.relationshipType),s.Eb(1),s.rc("ngForOf",a.guardianDetails)}}function Do(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Nominee Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editNomineeDetails()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(8,Oo,42,14,"mat-card",41),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen),s.Eb(2),s.rc("ngForOf",n.nomineeDetails)}}function ko(t,e){1&t&&(s.Xb(0,"legend",31),s.Tc(1,"Secured Overdraft Details"),s.Wb())}function So(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"div",37),s.Tc(3),s.Wb(),s.Wb(),s.Sb(4,"br"),s.Xb(5,"div",94),s.Xb(6,"div",74),s.Xb(7,"mat-icon",69),s.Tc(8," home"),s.Wb(),s.Tc(9),s.Wb(),s.Xb(10,"div",95),s.Xb(11,"div"),s.Xb(12,"button",96),s.Tc(13),s.Wb(),s.Wb(),s.Xb(14,"div"),s.Xb(15,"button",97),s.Tc(16),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(17,"br"),s.Xb(18,"div"),s.Xb(19,"div",98),s.Xb(20,"div"),s.Xb(21,"div",37),s.Tc(22,"Collateral Value"),s.Wb(),s.Xb(23,"div",38),s.Tc(24),s.Wb(),s.Wb(),s.Xb(25,"div"),s.Xb(26,"div",37),s.Tc(27,"Available Linkage Amount"),s.Wb(),s.Xb(28,"div",38),s.Tc(29),s.Wb(),s.Wb(),s.Xb(30,"div"),s.Xb(31,"div",37),s.Tc(32,"Overdraft Limit Amount"),s.Wb(),s.Xb(33,"div",38),s.Tc(34),s.Wb(),s.Wb(),s.Xb(35,"div"),s.Xb(36,"div",37),s.Tc(37,"Final Rate"),s.Wb(),s.Xb(38,"div",38),s.Tc(39),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(3),s.Vc("Collateral/Reference Number: ",a.securityReferenceNumber,""),s.Eb(6),s.Vc(" ",a.collateralType," "),s.Eb(4),s.Uc(a.dimensions),s.Eb(3),s.Uc(a.attributes),s.Eb(8),s.Uc(a.collateralValue),s.Eb(5),s.Uc(a.availableLinkageAccount),s.Eb(5),s.Uc(a.overdraftLimitAmount),s.Eb(5),s.Uc(a.finalAmount)}}function No(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Rc(3,ko,2,0,"legend",93),s.Wb(),s.Xb(4,"span"),s.Xb(5,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editSecuredOverdraftDetails()}),s.Tc(6,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(7,So,40,8,"mat-card",5),s.Wb()}if(2&t){var n=e.$implicit,o=s.jc();s.Eb(3),s.rc("ngIf",null!=n.collateralType&&null!=n.securityReferenceNumber),s.Eb(2),s.rc("hidden",o.editScreen),s.Eb(2),s.rc("ngIf",null!=n.collateralType&&null!=n.securityReferenceNumber)}}function Po(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",37),s.Tc(2,"Renew Period"),s.Wb(),s.Xb(3,"div",38),s.Tc(4),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.Uc(a.unsecuredOverdraftDetails.renewPeriod)}}function Fo(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",37),s.Tc(2,"Renewal Amount"),s.Wb(),s.Xb(3,"div",38),s.Tc(4),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.Uc(a.unsecuredOverdraftDetails.renewalAmount)}}function Lo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Unsecured Overdraft Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editUnsecuredOverdraftDetails()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card"),s.Xb(9,"div"),s.Xb(10,"div",99),s.Xb(11,"div"),s.Xb(12,"div",37),s.Tc(13,"Limit Id"),s.Wb(),s.Xb(14,"div",38),s.Tc(15),s.Wb(),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div",37),s.Tc(18,"Overdraft Limit Amount"),s.Wb(),s.Xb(19,"div",38),s.Tc(20),s.Wb(),s.Wb(),s.Rc(21,Po,5,1,"div",5),s.Rc(22,Fo,5,1,"div",5),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen),s.Eb(4),s.rc("hidden",null==n.unsecuredOverdraftDetails.renewPeriod&&n.unsecuredOverdraftDetails.renewalAmount),s.Eb(5),s.Uc(n.unsecuredOverdraftDetails.limitId),s.Eb(5),s.Uc(n.unsecuredOverdraftDetails.overdraftLimitAmount),s.Eb(1),s.rc("ngIf",null!=n.unsecuredOverdraftDetails.renewPeriod),s.Eb(1),s.rc("ngIf",null!=n.unsecuredOverdraftDetails.renewalAmount)}}function wo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"fieldset"),s.Xb(3,"legend",31),s.Tc(4,"Financial Details"),s.Wb(),s.Wb(),s.Xb(5,"span"),s.Xb(6,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editFinancialDetails()}),s.Tc(7,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"div",94),s.Xb(9,"mat-card",100),s.Xb(10,"h4"),s.Tc(11,"Assets and Liabilities"),s.Wb(),s.Sb(12,"apx-chart",101),s.Wb(),s.Xb(13,"mat-card",102),s.Xb(14,"h4"),s.Tc(15,"Income and Expenses"),s.Wb(),s.Sb(16,"apx-chart",103),s.Wb(),s.Wb(),s.Xb(17,"mat-card"),s.Xb(18,"mat-card-header",104),s.Xb(19,"div",105),s.Xb(20,"div",62),s.Xb(21,"div",63),s.Xb(22,"mat-icon"),s.Tc(23,"perm_identity"),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div"),s.Xb(25,"mat-card-title",106),s.Tc(26),s.Wb(),s.Xb(27,"mat-card-subtitle",107),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"div",108),s.Xb(30,"div"),s.Xb(31,"div",37),s.Tc(32,"Employment Type"),s.Wb(),s.Xb(33,"div",38),s.Tc(34),s.Wb(),s.Wb(),s.Xb(35,"div"),s.Xb(36,"div",37),s.Tc(37,"Employment Category"),s.Wb(),s.Xb(38,"div",38),s.Tc(39),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Wb()}if(2&t){var n=s.jc();s.Eb(6),s.rc("hidden",n.editScreen),s.Eb(6),s.rc("series",n.chartOptions.series)("chart",n.chartOptions.chart)("plotOptions",n.chartOptions.plotOptions)("labels",n.chartOptions.labels),s.Eb(4),s.rc("series",n.chartOptions1.series1)("chart",n.chartOptions1.chart1)("yaxis",n.chartOptions1.yaxis1)("xaxis",n.chartOptions1.xaxis1)("labels",n.chartOptions1.labels1)("stroke",n.chartOptions1.stroke1)("markers",n.chartOptions1.markers1)("fill",n.chartOptions1.fill1)("tooltip",n.chartOptions1.tooltip1),s.Eb(10),s.Uc(n.financialDetails.designation),s.Eb(2),s.Wc("",n.financialDetails.employeeNumber,",",n.financialDetails.officeName," "),s.Eb(6),s.Uc(n.financialDetails.employmentType),s.Eb(5),s.Uc(n.financialDetails.employmentCategory)}}function Uo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"h4"),s.Tc(3,"Fixed Interest"),s.Wb(),s.Wb(),s.Xb(4,"div",109),s.Xb(5,"div"),s.Xb(6,"mat-card",110),s.Xb(7,"div"),s.Xb(8,"div",37),s.Tc(9,"Interest Type"),s.Wb(),s.Xb(10,"div",38),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div"),s.Xb(13,"mat-card",111),s.Xb(14,"div"),s.Xb(15,"div",37),s.Tc(16,"Applicable Interest Rate"),s.Wb(),s.Xb(17,"div",38),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div"),s.Xb(20,"mat-card",112),s.Xb(21,"div"),s.Xb(22,"div",37),s.Tc(23,"Effective Rate %"),s.Wb(),s.Xb(24,"div",38),s.Tc(25),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(26,"div"),s.Xb(27,"mat-card",113),s.Xb(28,"div"),s.Xb(29,"div",37),s.Tc(30,"Margin In %"),s.Wb(),s.Xb(31,"div",38),s.Tc(32),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(11),s.Uc(a.intrestType),s.Eb(7),s.Uc(a.intrestType),s.Eb(7),s.Uc(a.effectiveRate),s.Eb(7),s.Uc(a.marginIn)}}function _o(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Rc(1,Uo,33,4,"mat-card",41),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngForOf",a.intrestDetails)}}function Mo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"h4",114),s.Tc(3,"IT Charge"),s.Wb(),s.Wb(),s.Xb(4,"div"),s.Xb(5,"div"),s.Xb(6,"mat-card",115),s.Xb(7,"div"),s.Xb(8,"div",37),s.Tc(9,"Amount"),s.Wb(),s.Xb(10,"div",38),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(11),s.Uc(a.amount)}}function Go(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Rc(1,Mo,12,1,"mat-card",41),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngForOf",a.chargeDetails)}}function Vo(t,e){if(1&t&&(s.Xb(0,"div",117),s.Xb(1,"div",37),s.Tc(2),s.Wb(),s.Xb(3,"div",38),s.Tc(4),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index;s.Eb(2),s.Wc("",n+1,".",a.scorecardQuestion,""),s.Eb(2),s.Uc(a.scorecardAnswer)}}function Bo(t,e){if(1&t&&(s.Xb(0,"div"),s.Rc(1,Vo,5,3,"div",116),s.Wb()),2&t){var a=e.index,n=s.jc();s.Eb(1),s.rc("ngForOf",null==n.qualitativeScorecard?null:n.qualitativeScorecard.scoreCardMapping[a].scoreCardDetails)}}function jo(t,e){if(1&t&&(s.Xb(0,"mat-card",33),s.Xb(1,"fieldset"),s.Xb(2,"legend",31),s.Tc(3,"Assessment Report"),s.Wb(),s.Wb(),s.Xb(4,"mat-card-content"),s.Xb(5,"div",34),s.Sb(6,"div",35),s.Xb(7,"div",36),s.Xb(8,"div",37),s.Tc(9,"Limit Id"),s.Wb(),s.Xb(10,"div",38),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"div",36),s.Xb(13,"div",37),s.Tc(14,"Overdraft Limit Amount"),s.Wb(),s.Xb(15,"div",38),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"div",36),s.Xb(18,"div",37),s.Tc(19,"Recommended Overdraft Limit"),s.Wb(),s.Xb(20,"div",38),s.Tc(21),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div",34),s.Sb(23,"div",35),s.Xb(24,"div",36),s.Xb(25,"div",37),s.Tc(26,"Limit Start Date"),s.Wb(),s.Xb(27,"div",38),s.Tc(28),s.Wb(),s.Wb(),s.Xb(29,"div",36),s.Xb(30,"div",37),s.Tc(31,"Limit End Date"),s.Wb(),s.Xb(32,"div",38),s.Tc(33),s.Wb(),s.Wb(),s.Sb(34,"br"),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(11),s.Uc(null==a.assessmentReport?null:a.assessmentReport.limitId),s.Eb(5),s.Uc(null==a.assessmentReport?null:a.assessmentReport.overdraftLimitAmount),s.Eb(5),s.Uc(null==a.assessmentReport?null:a.assessmentReport.recommendedOverdraftLimit),s.Eb(7),s.Uc(null==a.assessmentReport?null:a.assessmentReport.limitStartDate),s.Eb(5),s.Uc(null==a.assessmentReport?null:a.assessmentReport.limitEndDate)}}function zo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div",120),s.Xb(2,"div",121),s.Xb(3,"div",122),s.Tc(4,"Branch Code : "),s.Xb(5,"span",123),s.Tc(6),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",121),s.Xb(8,"div",124),s.Tc(9,"Fund By Account: "),s.Xb(10,"span",123),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",120),s.Xb(13,"div",121),s.Xb(14,"div",122),s.Tc(15,"Amount"),s.Xb(16,"span",123),s.Tc(17),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"div",121),s.Xb(19,"div",124),s.Tc(20,"Fund By"),s.Xb(21,"span",123),s.Tc(22),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(6),s.Uc(a.createAccFundingStage.branchCode),s.Eb(5),s.Uc(a.createAccFundingStage.fundByAccount),s.Eb(6),s.Uc(a.createAccFundingStage.amount),s.Eb(5),s.Uc(a.createAccFundingStage.fundBy)}}function qo(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div",120),s.Xb(2,"div",121),s.Xb(3,"button",125),s.Tc(4),s.Wb(),s.Wb(),s.Xb(5,"div",121),s.Xb(6,"button",126),s.Tc(7),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"div",120),s.Xb(9,"div",121),s.Xb(10,"div",127),s.Tc(11,"Amount"),s.Xb(12,"div",128),s.Xb(13,"b"),s.Tc(14),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",121),s.Xb(16,"div",129),s.Tc(17,"Fund By"),s.Xb(18,"div",123),s.Xb(19,"b"),s.Tc(20),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.Vc("Reference Number ",a.createAccFundingStage.tellerTrxnRefNo," "),s.Eb(3),s.Vc("",a.createAccFundingStage.tellerTrxnStatus," "),s.Eb(7),s.Uc(a.createAccFundingStage.amount),s.Eb(6),s.Uc(a.createAccFundingStage.fundBy)}}function Jo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",42),s.Xb(1,"div",43),s.Xb(2,"div",27),s.Tc(3,"5"),s.Wb(),s.Xb(4,"div",28),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"div",118),s.Xb(7,"h2",119),s.Tc(8,"Funding Stage"),s.Wb(),s.Xb(9,"div",30),s.Xb(10,"fieldset"),s.Xb(11,"legend",31),s.Tc(12,"Initial Funding Details"),s.Wb(),s.Wb(),s.Xb(13,"span"),s.Xb(14,"mat-icon",32),s.fc("click",function(){return s.Hc(a),s.jc().editFundingStage()}),s.Tc(15,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(16,zo,23,4,"mat-card",5),s.Rc(17,qo,21,4,"mat-card",5),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(14),s.rc("hidden",n.editScreen),s.Eb(2),s.rc("ngIf","Fund Transfer"==n.createAccFundingStage.fundBy),s.Eb(1),s.rc("ngIf","Cash"==n.createAccFundingStage.fundBy)}}function Ko(t,e){if(1&t&&(s.Xb(0,"div",38),s.Xb(1,"a",130),s.Tc(2,"link"),s.Wb(),s.Sb(3,"link"),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.sc("href",a.signatureData.fileUrl,s.Jc)}}var $o=function(t,e){return{disabledbtn:t,rejectbtn:e}},Ho=function(t,e){return{disabledbtn:t,approvebtn:e}};function Yo(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",131),s.Xb(1,"div",132),s.Xb(2,"button",133),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.updateApplicationStatus(t.accountInfo,"REJECTED")}),s.Tc(3," Reject "),s.Wb(),s.Tc(4," \xa0\xa0 "),s.Xb(5,"button",134),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.updateApplicationStatus(t.accountInfo,"APPROVED")}),s.Tc(6,"Approve"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(2),s.rc("hidden",n.rejectedStatus)("ngClass",s.yc(4,$o,n.rejectedStatus,!n.rejectedStatus)),s.Eb(3),s.rc("hidden",n.approvedStatus)("ngClass",s.yc(7,Ho,n.approvedStatus,!n.approvedStatus))}}var Zo,Qo=((Zo=function(){function t(e,n,o,r,i,c,l,b,u,d,m){a(this,t),this.dialogRef=e,this.data=n,this.apiService=o,this.api=r,this.ls=i,this.router=c,this.tasksummaryService=l,this.cdr=b,this.snack=u,this.sanitizer=d,this.dialog=m,this.chart=new p.a,this.submitClicked=new s.o,this.accountInfo=[],this.chargeDetails=[],this.isOnGoing="",this.variable=!0,this.loading=!0,this.loadingApplEnrich=!1,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"]}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.loadingApplEnrich=!1,this.customerColorCode=localStorage.getItem("CustomerColorCode"),this.accInfo=this.data,console.log("acc data :: ",this.accInfo),this.cardType=this.ls.getItem("cardInfo"),this.accountId=this.accInfo.accountId,this.ls.setItem("accountId",this.accountId),this.ls.setItem("customerId",this.accInfo.customerId),this.ls.setItem("accountType",this.accInfo.accountType),console.log("accountId :: ",this.accInfo.accountId),this.ls.setItem("CIF_NUM_PRIMARY",this.accInfo.customerId),this.ls.setItem("NAME",this.accInfo.firstName+" "+this.accInfo.lastName),this.tasksummaryService.accountStatus.subscribe(function(e){t.loading=!1,"REJECTED"===e?(t.approvedStatus=!0,t.rejectedStatus=!0,t.editScreen=!1):"APPROVED"===e?(t.approvedStatus=!0,t.rejectedStatus=!0,t.editScreen=!0):"ONGOING"===e?(t.approvedStatus=!0,t.rejectedStatus=!1,t.isOnGoing=e,t.editScreen=!1):"BACKLOG"===e&&(t.approvedStatus=!1,t.rejectedStatus=!1,t.editScreen=!1)}),this.getAccountInfoByAccountId(this.accInfo.accountId),this.getProfileImage(this.accInfo.customerId),this.cardType&&this.debitCardData(this.cardType)}},{key:"getAccountInfoByAccountId",value:function(t){var e=this;this.tasksummaryService.getAccountInfoByAccId(t).subscribe(function(t){for(var a in e.accountInfo=t,e.intrestDetails=e.accountInfo.intrestDetails,e.chargeDetails=e.accountInfo.chargeDetails,e.loadingApplEnrich=!0,e.assignValues(e.accountInfo.businessProductAccServices,e.accountInfo.businessProductNominee,e.accountInfo.securedOverdraft,e.accountInfo.unsecuredOverdraft,e.accountInfo.financialDetails,e.accountInfo.intrestDetails,e.accountInfo.chargeDetails,e.accountInfo.qualitativeScorecard,e.accountInfo.assessmentReport,e.accountInfo.createAccFundingStage),e.accountInfo)if(Object.prototype.hasOwnProperty.call(e.accountInfo,a)){var n=e.accountInfo[a];if("chargeDetails"===a&&(e.chargeDetails=n,e.accountDetails.applicationDate&&(e.accountDetails.applicationDate=e.accountDetails.applicationDate.slice(0,-8))),"businessProductAccount"===a&&(e.accountDetails=n,e.accountDetails.applicationDate&&(e.accountDetails.applicationDate=e.accountDetails.applicationDate.slice(0,-8))),"businessProductCustomer"===a)for(var o in e.customerInformation=n,e.customerInformation)if(Object.prototype.hasOwnProperty.call(e.customerInformation,o)){var r=e.customerInformation[o];if("data"===o)for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var c=r[i];r.length>1?c.primaryCustomer&&(e.approverName=c.firstName):e.approverName=c.firstName}}"businessProductMandate"===a&&(e.mandate=n)}})}},{key:"goToCreateAccount",value:function(t,e){var a=this;console.log("Navigating to edit screen::",t),this.ls.setItem("EDIT-CREATEACCCIF",this.accountInfo),this.ls.setItem("accountId",t),console.log("acc data :: ",this.accountInfo),this.tasksummaryService.updateCreateAccStatus({accountId:t,status:"ONGOING"}).subscribe(function(t){}),setTimeout(function(){a.router.navigateByUrl("/home/application/list")},1e3),console.log(this.ls.getItem("EDIT-CREATEACCCIF")),this.dialogRef.close({message:"Confirm"})}},{key:"assignValues",value:function(t,e,a,n,o,r,i,c,s,l){this.accountServiceDetails=t,console.log(this.accountServiceDetails),this.nomineeDetails=e,this.securedOverdraftDetails=a,this.unsecuredOverdraftDetails=n,this.financialDetails=o,this.income=o.applicantTotalIncome,this.exepse=o.applicantTotalExpense,this.intrestDetails=r,this.chargeDetails=i,this.qualitativeScorecard=c,this.scoreCardMappingArray=c.scoreCardMapping[0].scoreCardDetails,this.assessmentReport=s,this.createAccFundingStage=l,this.chartOptions={series:[48],chart:{height:200,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:"70%"}}},labels:["saved"]},this.chartOptions1={series1:[{name:"Income :"+this.income,type:"line",data:[40,55,50,70,65,68,50,45,35,30,38,40]},{name:"Expenses :"+this.exepse,type:"line",data:[55,30,25,45,46,47,48,52,44,35,30]}],chart1:{height:220,type:"line"},stroke1:{curve:"smooth"},fill1:{type:"solid",opacity:[.35,1]},labels1:["JAN","","FEB","","MAR","","APR","","MAY ","","JUN"],yaxis1:[{title:{text:""}}],xaxis1:{labels:{trim:!1}}}}},{key:"updateApplicationStatus",value:function(t,e){var a=this;console.log("data : ",t.businessProductAccount.accountId),t.businessProductAccount.status=e;var n=e;this.accInfo.status=e,this.tasksummaryService.updateCreateAccStatus({status:e,accountId:t.businessProductAccount.accountId}).subscribe(function(t){null!=t.accountId||""!=t.accountId||""!=t.accountId?(a.close(n),a.cdr.markForCheck(),a.cdr.detectChanges(),a.dialogRef.close({message:"Confirm",data:n}),a.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck()):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.errorStatus=e,a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"closeClick",value:function(){this.dialogRef.close()}},{key:"getProfileImage",value:function(t){var e=this;console.log(t),this.image=null,null!=this.accInfo.customerId&&this.api.getProfileDetails(t).subscribe(function(t){console.log(t),null!=t.profileImage&&(e.imageUrl=t.profileImage,console.log("imageurl",e.imageUrl),e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl)),t.signatures&&(e.signatureData=t.signatures[0],e.ls.setItem("signedImage",e.signatureData.fileUrl))},function(t){console.log(t)})}},{key:"getByAccountId",value:function(t){var e=this;this.apiService.getByAccountId(t).subscribe(function(t){e.accountdetailsForStatusUpdate=t,e.updateAccountStatus(t)})}},{key:"updateAccountStatus",value:function(t){t.status=this.appStatus,this.apiService.saveProductAccountInfo(t).subscribe(function(t){console.log("updateResp:: ",t)})}},{key:"close",value:function(t){this.dialogRef.close({message:"Confirm",data:this.accInfo.status})}},{key:"debitCardData",value:function(t){var e=this;console.log("dardType-- ",t),this.api.getCardType(this.cardType.cardType).subscribe(function(t){console.log("resp-- ",t),e.debitCardDataValue=t,console.log(t)},function(t){return console.log("ERROR: ",t)})}},{key:"openEditScreen",value:function(t,e){var a=this;this.tasksummaryService.updateCreateAccStatus({status:"ONGOING",accountId:this.accountId}).subscribe(function(t){console.log(t),null!=t&&(a.approvedStatus=!0,a.rejectedStatus=!1)}),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){console.log("submit"),a.accInfo.status=t.status,"BACKLOG"==a.accInfo.status&&(a.getAccountInfoByAccountId(a.accountId),a.tasksummaryService.updateCreateAccStatus({status:"BACKLOG",accountId:a.accountId}).subscribe(function(t){console.log(t),null!=t&&(a.approvedStatus=!1,a.rejectedStatus=!1)})),1==t&&a.getProfileImage(a.accInfo.customerId),a.cdr.markForCheck()})}},{key:"editAccountDetails",value:function(){this.openEditScreen(j,this.accountDetails)}},{key:"editCustomerInfo",value:function(){this.openEditScreen($t,this.customerInformation)}},{key:"editMandateDetails",value:function(){this.openEditScreen(ro,this.mandate)}},{key:"editServiceDetails",value:function(){this.openEditScreen(de,this.accountServiceDetails)}},{key:"editNomineeDetails",value:function(){this.openEditScreen($e,this.nomineeDetails)}},{key:"editSecuredOverdraftDetails",value:function(){this.openEditScreen(Ia,this.securedOverdraftDetails)}},{key:"editUnsecuredOverdraftDetails",value:function(){this.openEditScreen(Va,this.unsecuredOverdraftDetails)}},{key:"editFinancialDetails",value:function(){this.openEditScreen(Qa,this.financialDetails)}},{key:"editInterestDetails",value:function(){this.openEditScreen(sn,this.intrestDetails)}},{key:"editChargeDetails",value:function(){this.openEditScreen(mn,this.chargeDetails)}},{key:"editQualitativeDetails",value:function(){this.openEditScreen(Xn,this.qualitativeScorecard)}},{key:"editFundingStage",value:function(){this.openEditScreen(Mn,this.createAccFundingStage)}},{key:"editApprovalDetails",value:function(){this.openEditScreen(zn,this.accountDetails)}},{key:"editDigitalSign",value:function(){this.openEditScreen(qn.a,this.signatureData)}}]),t}()).\u0275fac=function(t){return new(t||Zo)(s.Rb(m.g),s.Rb(m.a),s.Rb(f.a),s.Rb(l.b),s.Rb(d.a),s.Rb(He.h),s.Rb(h.a),s.Rb(s.h),s.Rb(y.a),s.Rb(io.b),s.Rb(m.b))},Zo.\u0275cmp=s.Lb({type:Zo,selectors:[["app-approver"]],viewQuery:function(t,e){var a;1&t&&s.ad(so,!0),2&t&&s.Cc(a=s.gc())&&(e.chart=a.first)},outputs:{submitClicked:"submitClicked"},decls:316,vars:57,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],["fxLayoutAlign","center"],[4,"ngIf"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","10"],[1,"num"],[1,"bordnum"],["fxFlex","85",1,"margin1"],["fxLayout","row","fxLayoutAlign","space between center"],["visible","true"],[1,"editbtn",3,"hidden","click"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],["fxLayout","row",1,"rowbord","nobord"],[3,"checked","disabled"],[4,"ngFor","ngForOf"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","10",2,"flex","1 1 100%","box-sizing","border-box","max-width","15%"],["fxFlex","85",1,"margin1",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["class","mtcd",4,"ngIf"],["fxLayout","row","class","flex-container","style","flex-direction: row; box-sizing: border-box; display: flex;",4,"ngIf"],[1,"appersoninfocard",2,"width","250px"],["fxLayout","row","fxLayoutAlign"," start"],[1,"circle1"],[1,"content2"],[2,"padding-bottom","30px"],["class","labelval",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row"],[1,"circle"],[1,"content1"],[1,"appersoninfocard"],["fxFlex","200px",1,"size1"],[1,"namecard",2,"font-size","20px"],[1,"cifnum","label"],[1,"phoneno","label"],[1,"maticon"],[1,"textsize"],[1,"email","label"],[1,"address","label"],["fxFlex","300px",2,"font-size","12px"],[2,"font-size","20px"],["fxLayout","row","fxLayoutGap","40px",2,"font-size","12px"],["fxLayout","row","fxLayoutGap","20px",2,"font-size","12px"],[1,"btnleft"],[1,"circle3"],[1,"done1"],["fxFlex","5"],["fxFlex","30"],["class","labelval",4,"ngFor","ngForOf"],["disabled","",3,"checked"],["fxFlex","30",4,"ngIf"],["fxLayout","row","class","rowbord",4,"ngIf"],[1,"table","table-bordered","dataStyle"],[2,"color","#03a9f4"],["fxFlex","200px",2,"font-size","10px"],["fxFlex","100px",2,"font-size","12px"],["fxLayout","column","fxLayoutGap","10px",2,"font-size","12px"],["class","appersoninfocard",4,"ngFor","ngForOf"],["fxFlex","130px",2,"font-size","12px"],["visible","true",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutGap","40px"],["type","button",1,"sqftbtn"],["type","button",1,"acbtn"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","24px"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","20px",3,"hidden"],[1,"box"],[3,"series","chart","plotOptions","labels"],[1,"box2"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip"],["fxLayout","row","fxLayoutGap","70px"],["fxLayout","row","FxLayoutAlign","start"],[2,"font-size","16px","padding-top","30px"],[2,"color","grey","font-size","10px"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","16px","padding-top","30px"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"interstcard2"],[1,"interstcard3"],[1,"interstcard4"],[1,"nom"],[1,"appersoninfocard",2,"width","100px"],["fxFlex","47","class","qtncrd","fxFlex.xs","100",4,"ngFor","ngForOf"],["fxFlex","47","fxFlex.xs","100",1,"qtncrd"],["fxFlex","85",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],[1,"marginn"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mt-12"],["fxFlex","100"],[1,"mat-heading-label","ml-48"],[1,"mat-body-1"],[1,"mat-heading-label","right-text"],["type","button",1,"refnum"],["type","button",1,"suces"],[1,"ml-48","btttn",2,"font-family","Manrope,SemiBold"],[1,"mat-body-1","btttn"],[1,"right-text","btttn"],["download","",1,"linkColor",3,"href"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],[2,"float","right"],["type","button",1,"rejectbtn",3,"hidden","ngClass","click"],["type","button",1,"approvebtn",3,"hidden","ngClass","click"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"div",0),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"div"),s.Xb(5,"mat-icon",3),s.fc("click",function(){return e.close(e.accStatus)}),s.Tc(6," close"),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",4),s.Rc(8,lo,1,0,"mat-spinner",5),s.Wb(),s.Xb(9,"div",6),s.Xb(10,"div",7),s.Xb(11,"div",8),s.Xb(12,"div",9),s.Rc(13,bo,2,1,"span",10),s.Wb(),s.Xb(14,"div",11),s.Xb(15,"div",12),s.Sb(16,"img",13),s.Tc(17,"\xa0 "),s.Xb(18,"div"),s.Xb(19,"span",14),s.Tc(20),s.Wb(),s.Sb(21,"br"),s.Xb(22,"span",15),s.Tc(23),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",16),s.Xb(25,"mat-icon",17),s.Tc(26,"phone "),s.Wb(),s.Tc(27,"\xa0\xa0\xa0 "),s.Xb(28,"span",18),s.Tc(29),s.Wb(),s.Wb(),s.Xb(30,"div",16),s.Xb(31,"mat-icon",17),s.Tc(32," mail_outline"),s.Wb(),s.Tc(33,"\xa0\xa0 \xa0 "),s.Xb(34,"span",19),s.Tc(35),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",20),s.Xb(37,"div",21),s.Rc(38,uo,7,16,"div",22),s.Rc(39,fo,2,1,"div",23),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Sb(41,"br"),s.Sb(42,"br"),s.Sb(43,"br"),s.Sb(44,"br"),s.Xb(45,"div",24),s.Xb(46,"h2"),s.Xb(47,"b"),s.Tc(48),s.Wb(),s.Wb(),s.Wb(),s.Sb(49,"br"),s.Sb(50,"br"),s.Xb(51,"div",25),s.Xb(52,"div",26),s.Xb(53,"div",27),s.Tc(54,"1"),s.Wb(),s.Sb(55,"div",28),s.Wb(),s.Xb(56,"div",29),s.Xb(57,"h2"),s.Tc(58,"Application Entry Stage"),s.Wb(),s.Xb(59,"div",30),s.Xb(60,"fieldset"),s.Xb(61,"legend",31),s.Tc(62,"Account Details"),s.Wb(),s.Wb(),s.Xb(63,"span"),s.Xb(64,"mat-icon",32),s.fc("click",function(){return e.editAccountDetails()}),s.Tc(65,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(66,"mat-card",33),s.Xb(67,"mat-card-content"),s.Xb(68,"div",34),s.Sb(69,"div",35),s.Xb(70,"div",36),s.Xb(71,"div",37),s.Tc(72,"CIF Number"),s.Wb(),s.Xb(73,"div",38),s.Tc(74),s.Wb(),s.Wb(),s.Xb(75,"div",36),s.Xb(76,"div",37),s.Tc(77,"Customer Name"),s.Wb(),s.Xb(78,"div",38),s.Tc(79),s.Wb(),s.Wb(),s.Xb(80,"div",36),s.Xb(81,"div",37),s.Tc(82,"Account ID"),s.Wb(),s.Xb(83,"div",38),s.Tc(84),s.Wb(),s.Wb(),s.Wb(),s.Xb(85,"div",34),s.Sb(86,"div",35),s.Xb(87,"div",36),s.Xb(88,"div",37),s.Tc(89,"Account Type"),s.Wb(),s.Xb(90,"div",38),s.Tc(91),s.Wb(),s.Wb(),s.Xb(92,"div",36),s.Xb(93,"div",37),s.Tc(94,"Business Product Name"),s.Wb(),s.Xb(95,"div",38),s.Tc(96),s.Wb(),s.Wb(),s.Xb(97,"div",36),s.Xb(98,"div",37),s.Tc(99,"Account Branch"),s.Wb(),s.Xb(100,"div",38),s.Tc(101),s.Wb(),s.Wb(),s.Wb(),s.Xb(102,"div",34),s.Sb(103,"div",35),s.Xb(104,"div",36),s.Xb(105,"div",37),s.Tc(106,"Account Currency"),s.Wb(),s.Xb(107,"div",38),s.Tc(108),s.Wb(),s.Wb(),s.Xb(109,"div",36),s.Xb(110,"div",37),s.Tc(111,"Application Date"),s.Wb(),s.Xb(112,"div",38),s.Tc(113),s.Wb(),s.Wb(),s.Xb(114,"div",36),s.Xb(115,"div",37),s.Tc(116,"Modification No"),s.Wb(),s.Xb(117,"div",38),s.Tc(118),s.Wb(),s.Wb(),s.Wb(),s.Xb(119,"div",39),s.Sb(120,"div",35),s.Xb(121,"div",36),s.Xb(122,"div",37),s.Tc(123,"OverDraft Requested?"),s.Wb(),s.Xb(124,"div",38),s.Sb(125,"mat-slide-toggle",40),s.Wb(),s.Wb(),s.Xb(126,"div",36),s.Xb(127,"div",37),s.Tc(128,"Swift Code"),s.Wb(),s.Xb(129,"div",38),s.Sb(130,"mat-slide-toggle",40),s.Wb(),s.Wb(),s.Xb(131,"div",36),s.Xb(132,"div",37),s.Tc(133,"Initial Funding "),s.Wb(),s.Xb(134,"div",38),s.Sb(135,"mat-slide-toggle",40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(136,ho,23,4,"div",5),s.Rc(137,vo,9,2,"div",5),s.Rc(138,Ao,48,10,"div",5),s.Rc(139,Do,9,2,"div",5),s.Wb(),s.Wb(),s.Xb(140,"div",25),s.Xb(141,"div",26),s.Xb(142,"div",27),s.Tc(143,"2"),s.Wb(),s.Xb(144,"div",28),s.Tc(145,"\xa0"),s.Wb(),s.Wb(),s.Xb(146,"div",29),s.Xb(147,"h2"),s.Tc(148,"Limit Entry Stage"),s.Wb(),s.Rc(149,No,8,3,"div",41),s.Sb(150,"br"),s.Rc(151,Lo,23,6,"div",5),s.Sb(152,"br"),s.Rc(153,wo,41,19,"div",5),s.Wb(),s.Wb(),s.Sb(154,"br"),s.Xb(155,"div",25),s.Xb(156,"div",26),s.Xb(157,"div",27),s.Tc(158,"3"),s.Wb(),s.Xb(159,"div",28),s.Tc(160,"\xa0"),s.Wb(),s.Wb(),s.Xb(161,"div",29),s.Xb(162,"h2"),s.Tc(163,"Application Enrichment"),s.Wb(),s.Xb(164,"div",30),s.Xb(165,"fieldset"),s.Xb(166,"legend",31),s.Tc(167,"Interest Details"),s.Wb(),s.Wb(),s.Xb(168,"span"),s.Xb(169,"mat-icon",32),s.fc("click",function(){return e.editInterestDetails()}),s.Tc(170,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(171,_o,2,1,"mat-card",5),s.Sb(172,"br"),s.Xb(173,"div",30),s.Xb(174,"fieldset"),s.Xb(175,"legend",31),s.Tc(176,"Charge Details"),s.Wb(),s.Wb(),s.Xb(177,"span"),s.Xb(178,"mat-icon",32),s.fc("click",function(){return e.editChargeDetails()}),s.Tc(179,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(180,Go,2,1,"mat-card",5),s.Wb(),s.Wb(),s.Xb(181,"div",42),s.Xb(182,"div",43),s.Xb(183,"div",27),s.Tc(184,"4"),s.Wb(),s.Xb(185,"div",28),s.Tc(186,"\xa0"),s.Wb(),s.Wb(),s.Xb(187,"div",44),s.Xb(188,"h2"),s.Tc(189,"Application Assessment"),s.Wb(),s.Xb(190,"div",30),s.Xb(191,"fieldset"),s.Xb(192,"legend",31),s.Tc(193,"Qualitative Scorecard"),s.Wb(),s.Wb(),s.Xb(194,"span"),s.Xb(195,"mat-icon",32),s.fc("click",function(){return e.editQualitativeDetails()}),s.Tc(196,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(197,"mat-card",33),s.Xb(198,"mat-card-content"),s.Xb(199,"div"),s.Xb(200,"div",34),s.Xb(201,"div",36),s.Xb(202,"div",37),s.Tc(203,"Scorecard Id"),s.Wb(),s.Xb(204,"div",38),s.Tc(205),s.Wb(),s.Wb(),s.Xb(206,"div",36),s.Xb(207,"div",37),s.Tc(208,"Number of Applicants"),s.Wb(),s.Xb(209,"div",38),s.Tc(210),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(211,"div"),s.Xb(212,"div",45),s.Xb(213,"div"),s.Xb(214,"div",46),s.Rc(215,Bo,2,1,"div",41),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(216,"br"),s.Rc(217,jo,35,5,"mat-card",47),s.Wb(),s.Sb(218,"br"),s.Sb(219,"br"),s.Wb(),s.Rc(220,Jo,18,3,"div",48),s.Xb(221,"div",42),s.Xb(222,"div",43),s.Xb(223,"div",27),s.Tc(224,"6"),s.Wb(),s.Xb(225,"div",28),s.Tc(226,"\xa0"),s.Wb(),s.Wb(),s.Xb(227,"div",44),s.Xb(228,"h2"),s.Tc(229,"Approval Stage"),s.Wb(),s.Xb(230,"div",30),s.Xb(231,"fieldset"),s.Xb(232,"legend",31),s.Tc(233,"Approval Details "),s.Wb(),s.Wb(),s.Xb(234,"span"),s.Xb(235,"mat-icon",32),s.fc("click",function(){return e.editApprovalDetails()}),s.Tc(236,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(237,"mat-card",33),s.Xb(238,"mat-card-content"),s.Xb(239,"div",34),s.Sb(240,"div",35),s.Xb(241,"div",36),s.Xb(242,"div",37),s.Tc(243,"Account Type"),s.Wb(),s.Xb(244,"div",38),s.Tc(245),s.Wb(),s.Wb(),s.Xb(246,"div",36),s.Xb(247,"div",37),s.Tc(248,"Account Branch"),s.Wb(),s.Xb(249,"div",38),s.Tc(250),s.Wb(),s.Wb(),s.Xb(251,"div",36),s.Xb(252,"div",37),s.Tc(253,"Product Code"),s.Wb(),s.Xb(254,"div",38),s.Tc(255),s.Wb(),s.Wb(),s.Wb(),s.Xb(256,"div",34),s.Sb(257,"div",35),s.Xb(258,"div",36),s.Xb(259,"div",37),s.Tc(260,"Account Currency"),s.Wb(),s.Xb(261,"div",38),s.Tc(262),s.Wb(),s.Wb(),s.Wb(),s.Xb(263,"mat-card",49),s.Xb(264,"div",39),s.Xb(265,"div",50),s.Xb(266,"div",51),s.Xb(267,"div",52),s.Xb(268,"mat-icon"),s.Tc(269,"done"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(270,"div",53),s.Xb(271,"div",37),s.Tc(272,"User Recommendation"),s.Wb(),s.Xb(273,"div",38),s.Tc(274),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(275,"div",42),s.Xb(276,"div",43),s.Xb(277,"div",27),s.Tc(278,"7"),s.Wb(),s.Wb(),s.Xb(279,"div",44),s.Xb(280,"h2"),s.Tc(281,"Digital Sign"),s.Wb(),s.Xb(282,"div",30),s.Xb(283,"fieldset"),s.Xb(284,"legend",31),s.Tc(285,"Digital Sign"),s.Wb(),s.Wb(),s.Xb(286,"span"),s.Xb(287,"mat-icon",32),s.fc("click",function(){return e.editDigitalSign()}),s.Tc(288,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(289,"mat-card",33),s.Xb(290,"mat-card-content"),s.Xb(291,"div",34),s.Sb(292,"div",35),s.Xb(293,"div",36),s.Xb(294,"div",37),s.Tc(295,"Document Name"),s.Wb(),s.Xb(296,"div",38),s.Tc(297),s.Wb(),s.Wb(),s.Xb(298,"div",36),s.Xb(299,"div",37),s.Tc(300,"File Type"),s.Wb(),s.Xb(301,"div",38),s.Tc(302),s.Wb(),s.Wb(),s.Xb(303,"div",36),s.Xb(304,"div",37),s.Tc(305,"File Name"),s.Wb(),s.Xb(306,"div",38),s.Tc(307),s.Wb(),s.Wb(),s.Xb(308,"div",36),s.Xb(309,"div",37),s.Tc(310,"Download"),s.Wb(),s.Rc(311,Ko,4,1,"div",54),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(312,"br"),s.Xb(313,"div"),s.Rc(314,Yo,7,10,"div",55),s.Wb(),s.Sb(315,"br"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(8),s.rc("ngIf",e.loading),s.Eb(5),s.rc("ngForOf",e.nameCreater),s.Eb(7),s.Vc("",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.createdBy," "),s.Eb(3),s.Vc("EID #",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.creatorId,""),s.Eb(6),s.Vc(" ",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.mobile," "),s.Eb(6),s.Vc(" ",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.email," "),s.Eb(3),s.rc("ngIf","not_available"==e.imageUrl),s.Eb(1),s.rc("ngIf","not_available"!=e.imageUrl),s.Eb(9),s.Xc("",e.accInfo.prefix,"\xa0",e.accInfo.firstName,"\xa0",e.accInfo.lastName,""),s.Eb(16),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.accountDetails?null:e.accountDetails.customerId),s.Eb(5),s.Wc("",e.accInfo.firstName,"\xa0",e.accInfo.lastName,""),s.Eb(5),s.Vc("",e.accountId," "),s.Eb(7),s.Uc(null==e.accountDetails?null:e.accountDetails.accountType),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.businessProductName),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.accountBranch),s.Eb(7),s.Uc(null==e.accountDetails?null:e.accountDetails.accountCurrency),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.applicationDate),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.modificationNo),s.Eb(7),s.rc("checked",null==e.accountDetails?null:e.accountDetails.overDraftRequested)("disabled",e.variable),s.Eb(5),s.rc("checked",null==e.accountDetails?null:e.accountDetails.swiftCodeEnable)("disabled",e.variable),s.Eb(5),s.rc("checked",null==e.accountDetails?null:e.accountDetails.fundBy)("disabled",e.variable),s.Eb(1),s.rc("ngIf",null!=e.customerInformation),s.Eb(1),s.rc("ngIf",(null==e.mandate?null:e.mandate.length)>0),s.Eb(1),s.rc("ngIf",null!=e.accountServiceDetails),s.Eb(1),s.rc("ngIf",(null==e.nomineeDetails?null:e.nomineeDetails.length)>0),s.Eb(10),s.rc("ngForOf",e.securedOverdraftDetails),s.Eb(2),s.rc("ngIf",null!=e.unsecuredOverdraftDetails),s.Eb(2),s.rc("ngIf",null!=e.financialDetails),s.Eb(16),s.rc("hidden",e.editScreen),s.Eb(2),s.rc("ngIf",(null==e.intrestDetails?null:e.intrestDetails.length)>0),s.Eb(7),s.rc("hidden",e.editScreen),s.Eb(2),s.rc("ngIf",(null==e.chargeDetails?null:e.chargeDetails.length)>0),s.Eb(15),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.qualitativeScorecard?null:e.qualitativeScorecard.scoreCardId),s.Eb(5),s.Uc(null==e.qualitativeScorecard?null:e.qualitativeScorecard.numberOfApplicant),s.Eb(5),s.rc("ngForOf",null==e.qualitativeScorecard?null:e.qualitativeScorecard.scoreCardMapping),s.Eb(2),s.rc("ngIf",null!=e.assessmentReport),s.Eb(3),s.rc("ngIf",null!=e.createAccFundingStage),s.Eb(15),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.accountDetails?null:e.accountDetails.accountType),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.accountBranch),s.Eb(5),s.Uc(null==e.accountDetails?null:e.accountDetails.businessProductName),s.Eb(7),s.Uc(null==e.accountDetails?null:e.accountDetails.accountCurrency),s.Eb(12),s.Uc(null==e.accountDetails?null:e.accountDetails.userRecommendation),s.Eb(13),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.signatureData?null:e.signatureData.documentName),s.Eb(5),s.Uc(null==e.signatureData?null:e.signatureData.fileType),s.Eb(5),s.Uc(null==e.signatureData?null:e.signatureData.fileName),s.Eb(4),s.rc("ngIf",null==e.signatureData?null:e.signatureData.fileUrl),s.Eb(3),s.rc("ngIf",!e.loading))},directives:[W.e,W.d,X.a,i.n,i.m,I.c,W.b,I.a,I.d,A.a,O.b,W.f,p.a,I.e,I.h,I.g,i.l,co.a],pipes:[i.v,i.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.rejectbtn[_ngcontent-%COMP%]{text-align:center;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.approvebtn[_ngcontent-%COMP%], .rejectbtn[_ngcontent-%COMP%]{border-style:1px solid transparent}.approvebtn[_ngcontent-%COMP%]{margin:10px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.num[_ngcontent-%COMP%]{width:52%;height:52px;padding-top:16px;background:#fff;margin-left:15px}.num[_ngcontent-%COMP%], .num1[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center}.num1[_ngcontent-%COMP%]{width:15%;height:70px;padding-top:25px}.qtncrd[_ngcontent-%COMP%]{background-color:#f6f8fc;border:.5px;padding:10px;margin:40px 2% 40px 50px;border-color:#b2b2b2}.qtnval[_ngcontent-%COMP%]{padding-top:8px}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center;margin-left:38px;margin-right:7%}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:5%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem;display:flex;align-items:center;font-family:Manrope,Medium}.textsize[_ngcontent-%COMP%]{padding:0 10px;margin-top:10px}.labelval[_ngcontent-%COMP%]{font-family:Montserrat,Medium}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.dataStyle[_ngcontent-%COMP%]{width:99%;margin-left:4%;margin-right:13%}.btttn[_ngcontent-%COMP%], .dataStyle[_ngcontent-%COMP%]{font-family:Montserrat,Medium}.btttn[_ngcontent-%COMP%]{font-weight:700}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%;margin-bottom:20px!important;background:#f4f6f8;margin-left:32px}.appersoninfocard1[_ngcontent-%COMP%]{width:100%}.interstcard[_ngcontent-%COMP%]{width:97%}.interstcard[_ngcontent-%COMP%], .interstcard2[_ngcontent-%COMP%]{background-color:#e5e5e5;height:86%}.interstcard2[_ngcontent-%COMP%]{width:75%}.interstcard3[_ngcontent-%COMP%]{width:97%;right:29%}.interstcard3[_ngcontent-%COMP%], .interstcard4[_ngcontent-%COMP%]{background-color:#e5e5e5;height:86%}.interstcard4[_ngcontent-%COMP%]{width:100%;right:35%}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:38%;max-width:9%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px;position:relative;padding-right:12px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin-right:15px;margin-top:21%;position:relative;margin-bottom:14px}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px;margin-left:0}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;position:relative;margin:auto 40px auto auto}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:10px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-top:44px;margin-left:44px}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.editbtn[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-top:10px}.refnum[_ngcontent-%COMP%]{background-color:#0e7cc5;border-color:#0e57c5;height:30px;width:250px}.refnum[_ngcontent-%COMP%], .suces[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;margin-right:60px}.suces[_ngcontent-%COMP%]{background-color:#24cca7;border-color:#0dab4e;height:25px;width:150px;margin-left:204px}.btttn[_ngcontent-%COMP%]{font-family:Manrope,Medium!important;color:#9aa1b0}.margin1[_ngcontent-%COMP%]{margin-top:18px}.margin1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:20px}h2[_ngcontent-%COMP%]{margin-left:13px;font-family:montserrat,bold}.height1[_ngcontent-%COMP%]{margin-left:32px}legend[_ngcontent-%COMP%]{width:auto;margin-right:25px;color:#5f5c5c;font-size:18px;font-family:Montserrat,Medium}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:13px;margin-right:20px;margin-top:20px;flex-grow:1}.size1[_ngcontent-%COMP%]{font-size:10px;height:165px}.maticon[_ngcontent-%COMP%]{margin-top:10px}.box[_ngcontent-%COMP%]{height:295px;width:29%}.box2[_ngcontent-%COMP%]{width:62%}.nom[_ngcontent-%COMP%]{margin-left:30px}.marginn[_ngcontent-%COMP%]{margin-top:22px}.done1[_ngcontent-%COMP%]{top:50%;text-align:center;color:#fff;margin-top:5px;width:inherit;height:auto;font-size:19px}.circle3[_ngcontent-%COMP%]{width:25px;height:3rem;background-color:#0ec588;border-radius:50%;margin-right:10px;margin-left:5px}.btnleft[_ngcontent-%COMP%]{margin-left:0}"]}),Zo),tr=r("MNke");function er(t,e){if(1&t&&s.Sb(0,"img",3),2&t){var a=s.jc();s.sc("src",a.photoUrl,s.Jc)}}function ar(t,e){if(1&t&&(s.Xb(0,"div",4),s.Tc(1),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.Vc(" ",a.initials," ")}}var nr,or=function(t){return{"background-color":t}},rr=((nr=function(){function t(){a(this,t),this.showInitials=!1,this.colors=["#24CCA7","#24CCA7","#24CCA7","#24CCA7"]}return o(t,[{key:"ngOnInit",value:function(){if(!this.photoUrl){this.showInitials=!0,this.createInititals();var t=Math.floor(Math.random()*Math.floor(this.colors.length));this.circleColor=this.colors[t]}}},{key:"createInititals",value:function(){var t=this.name.split(" "),e=t[0].substring(0,1).toUpperCase();t.length>1&&(e+=t[t.length-1].substring(0,1).toUpperCase()),this.initials=e}}]),t}()).\u0275fac=function(t){return new(t||nr)},nr.\u0275cmp=s.Lb({type:nr,selectors:[["app-photo"]],inputs:{photoUrl:"photoUrl",name:"name"},decls:3,vars:5,consts:[[1,"circle",3,"ngStyle"],[3,"src",4,"ngIf"],["class","initials",4,"ngIf"],[3,"src"],[1,"initials"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Rc(1,er,1,1,"img",1),s.Rc(2,ar,2,1,"div",2),s.Wb()),2&t&&(s.rc("ngStyle",s.xc(3,or,e.circleColor)),s.Eb(1),s.rc("ngIf",!e.showInitials),s.Eb(1),s.rc("ngIf",e.showInitials))},directives:[i.o,co.b,i.n],styles:[".circle[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;display:flex;justify-content:center;align-items:center}.circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:60px;height:60px}.circle[_ngcontent-%COMP%]   .initials[_ngcontent-%COMP%]{color:#fff;font-size:20px;line-height:19px;letter-spacing:.2625px}"]}),nr);function ir(t,e){1&t&&s.Sb(0,"mat-spinner",20),2&t&&s.rc("diameter",15)}function cr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",21),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"mat-icon"),s.Tc(2,"close"),s.Wb(),s.Wb()}}function sr(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function lr(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function br(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"BACKLOG",o.getRandomColor(n+3))}),s.Xb(1,"mat-icon",23),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,sr,2,1,"div",26),s.Rc(6,lr,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"table"),s.Xb(14,"thead",31),s.Xb(15,"th"),s.Tc(16,"Application Date"),s.Wb(),s.Xb(17,"th"),s.Tc(18,"Applicaton Branch"),s.Wb(),s.Xb(19,"th"),s.Tc(20,"Product"),s.Wb(),s.Wb(),s.Xb(21,"tbody",32),s.Xb(22,"tr"),s.Xb(23,"td"),s.Tc(24),s.Wb(),s.Xb(25,"td"),s.Tc(26),s.Wb(),s.Xb(27,"td"),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"table"),s.Xb(30,"thead",33),s.Xb(31,"th"),s.Tc(32,"Account Type"),s.Wb(),s.Xb(33,"th"),s.Tc(34,"Application By"),s.Wb(),s.Wb(),s.Xb(35,"tbody",34),s.Xb(36,"tr"),s.Xb(37,"td"),s.Tc(38),s.Wb(),s.Xb(39,"td"),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Xc("",null==n?null:n.firstName," ",null==n?null:n.middleName," ",null==n?null:n.lastName,""),s.Eb(2),s.Uc(null==n?null:n.accountId),s.Eb(13),s.Uc(null==n?null:n.applicationDate),s.Eb(2),s.Uc(null==n?null:n.accountBranch),s.Eb(2),s.Uc(null==n?null:n.businessProductName),s.Eb(10),s.Uc(null==n?null:n.accountType),s.Eb(2),s.Uc(null==n?null:n.createdBy)}}function ur(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function dr(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function mr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"ONGOING",o.getRandomColor(n+6))}),s.Xb(1,"mat-icon",37),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,ur,2,1,"div",26),s.Rc(6,dr,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"table"),s.Xb(14,"thead",31),s.Xb(15,"th"),s.Tc(16,"Application Date"),s.Wb(),s.Xb(17,"th"),s.Tc(18,"Applicaton Branch"),s.Wb(),s.Xb(19,"th"),s.Tc(20,"Product"),s.Wb(),s.Wb(),s.Xb(21,"tbody",32),s.Xb(22,"tr"),s.Xb(23,"td"),s.Tc(24),s.Wb(),s.Xb(25,"td"),s.Tc(26),s.Wb(),s.Xb(27,"td"),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"table"),s.Xb(30,"thead",33),s.Xb(31,"th"),s.Tc(32,"Account Type"),s.Wb(),s.Xb(33,"th"),s.Tc(34,"Application By"),s.Wb(),s.Wb(),s.Xb(35,"tbody",34),s.Xb(36,"tr"),s.Xb(37,"td"),s.Tc(38),s.Wb(),s.Xb(39,"td"),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Xc("",n.firstName," ",n.middleName," ",n.lastName,""),s.Eb(2),s.Uc(n.accountId),s.Eb(13),s.Uc(n.applicationDate),s.Eb(2),s.Uc(n.accountBranch),s.Eb(2),s.Uc(n.businessProductName),s.Eb(10),s.Uc(n.accountType),s.Eb(2),s.Uc(n.createdBy)}}function fr(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function pr(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function hr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"APPROVED",o.getRandomColor(n+9))}),s.Xb(1,"mat-icon",38),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,fr,2,1,"div",26),s.Rc(6,pr,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"table"),s.Xb(14,"thead",31),s.Xb(15,"th"),s.Tc(16,"Application Date"),s.Wb(),s.Xb(17,"th"),s.Tc(18,"Applicaton Branch"),s.Wb(),s.Xb(19,"th"),s.Tc(20,"Product"),s.Wb(),s.Wb(),s.Xb(21,"tbody",32),s.Xb(22,"tr"),s.Xb(23,"td"),s.Tc(24),s.Wb(),s.Xb(25,"td"),s.Tc(26),s.Wb(),s.Xb(27,"td"),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"table"),s.Xb(30,"thead",33),s.Xb(31,"th"),s.Tc(32,"Account Type"),s.Wb(),s.Xb(33,"th"),s.Tc(34,"Application By"),s.Wb(),s.Wb(),s.Xb(35,"tbody",34),s.Xb(36,"tr"),s.Xb(37,"td"),s.Tc(38),s.Wb(),s.Xb(39,"td"),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Xc("",n.firstName," ",n.middleName," ",n.lastName,""),s.Eb(2),s.Uc(n.accountId),s.Eb(13),s.Uc(n.applicationDate),s.Eb(2),s.Uc(n.accountBranch),s.Eb(2),s.Uc(n.businessProductName),s.Eb(10),s.Uc(n.accountType),s.Eb(2),s.Uc(n.createdBy)}}function gr(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function vr(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function yr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"REJECTED",o.getRandomColor(n+12))}),s.Xb(1,"mat-icon",39),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,gr,2,1,"div",26),s.Rc(6,vr,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"table"),s.Xb(14,"thead",31),s.Xb(15,"th"),s.Tc(16,"Application Date"),s.Wb(),s.Xb(17,"th"),s.Tc(18,"Applicaton Branch"),s.Wb(),s.Xb(19,"th"),s.Tc(20,"Product"),s.Wb(),s.Wb(),s.Xb(21,"tbody",32),s.Xb(22,"tr"),s.Xb(23,"td"),s.Tc(24),s.Wb(),s.Xb(25,"td"),s.Tc(26),s.Wb(),s.Xb(27,"td"),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"table"),s.Xb(30,"thead",33),s.Xb(31,"th"),s.Tc(32,"Account Type"),s.Wb(),s.Xb(33,"th"),s.Tc(34,"Application By"),s.Wb(),s.Wb(),s.Xb(35,"tbody",34),s.Xb(36,"tr"),s.Xb(37,"td"),s.Tc(38),s.Wb(),s.Xb(39,"td"),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Xc("",n.firstName," ",n.middleName," ",n.lastName," "),s.Eb(2),s.Uc(n.accountId),s.Eb(13),s.Uc(n.applicationDate),s.Eb(2),s.Uc(n.accountBranch),s.Eb(2),s.Uc(n.businessProductName),s.Eb(10),s.Uc(n.accountType),s.Eb(2),s.Uc(n.createdBy)}}var Wr,Xr=((Wr=function(){function t(e,n,o,r,i){a(this,t),this.dialog=e,this.sanitizer=n,this.tasksummaryService=o,this.apiService=r,this.cdr=i,this.statusArr=["ONGOING","BACKLOG","APPROVED","REJECTED"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new s.o,this._searchSubject=new b.a,this.noDataFound=!1,this._setSearchSubscription()}return o(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){this.apiService.setTask(!0),this.getDataOnLoad()}},{key:"updateSearch",value:function(t){console.log("searchTextValue::",t),this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(u.a)(1e3)).subscribe(function(e){t.searchKycid(e)})}},{key:"getDataOnLoad",value:function(){for(var t=0;t<this.statusArr.length;t++)this.getAllAccDetails(this.statusArr[t],0,0)}},{key:"getAllAccDetails",value:function(t,e,a){var n=this;this.tasksummaryService.getAllAccDetails(t).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"ONGOING"==t?(this.ONGOINGArr=e.accountList,this.ONGOINGTotalPages=e.totalPages,this.ONGOINGTotalRecords=e.totalNoOfElements):"BACKLOG"==t?(this.BACKLOGArr=e.accountList,this.BACKLOGTotalPages=e.totalPages,this.BACKLOGTotalRecords=e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=e.accountList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=e.accountList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasksummaryService.getAllAccDetailOnScroll(t,e).subscribe(function(e){n.updateDataOnScroll(t,e.accountList),n.cdr.markForCheck()}):console.log("No scroll requied")}},{key:"gotoapproverpage",value:function(t,e,a){var n=this;this.tasksummaryService.accountStatusData(e),localStorage.setItem("CustomerColorCode",a),this.dialog.open(Qo,{panelClass:"full-width-dialog",data:t,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){"REJECTED"!==t.data&&"APPROVED"!==t.data&&"ONGOING"!=t.data&&"BACKLOG"!==t.data||n.getDataOnLoad()})}},{key:"searchKycid",value:function(t){var e;if(""===t)return console.log("empty"),this.isScroll=!0,void this.getDataOnLoad();e=this.isNum(t)?"accountId="+this.searchText.trim():"customerName="+this.searchText.trim(),this.isScroll=!1,this.getAccountData(e)}},{key:"getAccountData",value:function(t){var e=this;this.loading=!0,console.log("params :: ",t),this.tasksummaryService.getSearchData(t).subscribe(function(t){e.loading=!1,console.log("resp data :: ",t),e.resetSearchData();for(var a=0;a<t.accountList.length;a++){var n=t.accountList[a];console.log("element ::",n),e.searchResponseUpdate(n.status,t.accountList[a])}})}},{key:"resetSearchData",value:function(){this.ONGOINGArr=[],this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"searchResponseUpdate",value:function(t,e){"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}},{key:"updateDataOnScroll",value:function(t,e){if("ONGOING"==t){console.log("sdsklsdk",e);var a=Yt.unionBy(this.ONGOINGArr,e,"accountId");console.log("result---------------\x3e",a),this.ONGOINGArr=a}else if("BACKLOG"==t){var n=Yt.unionBy(this.BACKLOGArr,e,"accountId");this.BACKLOGArr=n}else if("APPROVED"==t){var o=Yt.unionBy(this.APPROVEDArr,e,"accountId");this.APPROVEDArr=o}else if("REJECTED"==t){var r=Yt.unionBy(this.REJECTEDArr,e,"accountId");this.REJECTEDArr=r}this.cdr.markForCheck()}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.ONGOINGArr=[],this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.BACKLOGPage=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalPages=0}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||Wr)(s.Rb(m.b),s.Rb(io.b),s.Rb(h.a),s.Rb(l.b),s.Rb(s.h))},Wr.\u0275cmp=s.Lb({type:Wr,selectors:[["app-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:67,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"headingtext"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchfield"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search AccountID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],[1,"tolltipicon"],["class","matCardbox",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"matCardbox",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[2,"font-size","16px"],[2,"color","green"],[1,"head1"],[1,"col1"],[1,"col2"],[1,"col3"],[1,"col4"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMark1"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-blue","bookMark","bookMark3"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"div",2),s.Xb(5,"div",3),s.Xb(6,"span",4),s.Tc(7," Create Account Task Summary "),s.Wb(),s.Wb(),s.Xb(8,"div",5),s.Xb(9,"mat-form-field",6),s.Xb(10,"mat-label"),s.Tc(11,"Search"),s.Wb(),s.Xb(12,"div",7),s.Xb(13,"input",8),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Rc(14,ir,1,1,"mat-spinner",9),s.Wb(),s.Xb(15,"mat-icon",10),s.Tc(16,"search"),s.Wb(),s.Rc(17,cr,3,0,"button",11),s.Xb(18,"mat-hint"),s.Tc(19,"Search AccountID or Name"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",12),s.Xb(21,"div",13),s.Xb(22,"mat-card",14),s.Xb(23,"div",15),s.Xb(24,"span",16),s.Xb(25,"h2",17),s.Tc(26),s.Wb(),s.Wb(),s.Xb(27,"span",18),s.Xb(28,"mat-icon"),s.Tc(29,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"div"),s.Rc(31,br,41,11,"div",19),s.Wb(),s.Sb(32,"br"),s.Wb(),s.Xb(33,"mat-card",14),s.Xb(34,"div",15),s.Xb(35,"span",16),s.Xb(36,"h2",17),s.Tc(37),s.Wb(),s.Wb(),s.Xb(38,"span",18),s.Xb(39,"mat-icon"),s.Tc(40,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div"),s.Rc(42,mr,41,11,"div",19),s.Wb(),s.Sb(43,"br"),s.Wb(),s.Xb(44,"mat-card",14),s.Xb(45,"div",15),s.Xb(46,"span",16),s.Xb(47,"h2",17),s.Tc(48),s.Wb(),s.Wb(),s.Xb(49,"span",18),s.Xb(50,"mat-icon"),s.Tc(51,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(52,"div"),s.Rc(53,hr,41,11,"div",19),s.Wb(),s.Sb(54,"br"),s.Wb(),s.Xb(55,"mat-card",14),s.Xb(56,"div",15),s.Xb(57,"span",16),s.Xb(58,"h2",17),s.Tc(59),s.Wb(),s.Wb(),s.Xb(60,"span",18),s.Xb(61,"mat-icon"),s.Tc(62,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(63,"div"),s.Rc(64,yr,41,11,"div",19),s.Wb(),s.Sb(65,"br"),s.Wb(),s.Wb(),s.Sb(66,"br"),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(12),s.rc("ngModel",e.searchText),s.Eb(1),s.rc("ngIf",e.loading),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(9),s.Wc("Pending for approval (",e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.BACKLOGArr),s.Eb(6),s.Wc("Ongoing (",e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.ONGOINGArr),s.Eb(6),s.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.APPROVEDArr),s.Eb(6),s.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.REJECTEDArr))},directives:[tr.a,W.e,W.d,W.f,W.b,T.c,T.g,E.b,g.c,g.r,g.u,i.n,X.a,T.i,T.f,I.a,i.m,O.b,R.b,T.j,I.e,I.c,I.h,I.g,g.C,g.s,g.t,rr],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-right:30px;margin-right:30px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{font-size:9px;color:grey}.coldata[_ngcontent-%COMP%]{font-size:9px;color:#000}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:180px;box-sizing:border-box;margin:0 0 10px;padding:0}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.headingtext[_ngcontent-%COMP%]{padding-left:2.2%;padding-top:1%}.searchfield[_ngcontent-%COMP%]{padding-right:5%}.matCardbox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:37vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}"]}),Wr),Tr=r("laYw"),Ir=r("yAWA"),Er=r("JC+M");function Cr(t,e){1&t&&s.Sb(0,"mat-spinner",21),2&t&&s.rc("diameter",15)}function xr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",22),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"mat-icon"),s.Tc(2,"close"),s.Wb(),s.Wb()}}function Ar(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",40),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Rr(t,e){if(1&t&&s.Sb(0,"img",41),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Or(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit;return s.jc().goToKycSummary(t.customerId)}),s.Xb(1,"div",24),s.Xb(2,"div",25),s.Xb(3,"mat-icon",26),s.Tc(4,"bookmark"),s.Wb(),s.Xb(5,"span"),s.Xb(6,"small"),s.Tc(7),s.kc(8,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card-header",27),s.Xb(10,"div",28),s.Rc(11,Ar,2,1,"div",29),s.Rc(12,Rr,1,1,"ng-template",null,30,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",31),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Xb(17,"span",32),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"form",33),s.Xb(20,"div",34),s.Xb(21,"span"),s.Tc(22,"Verification Type"),s.Wb(),s.Xb(23,"span"),s.Tc(24,"KYC Status"),s.Wb(),s.Wb(),s.Xb(25,"div",35),s.Xb(26,"span"),s.Tc(27,"Biometric"),s.Wb(),s.Xb(28,"span",36),s.Tc(29),s.Wb(),s.Wb(),s.Sb(30,"br"),s.Xb(31,"div",37),s.Xb(32,"span"),s.Tc(33,"Mobile Number"),s.Wb(),s.Xb(34,"span"),s.Tc(35,"Email"),s.Wb(),s.Wb(),s.Xb(36,"div",38),s.Xb(37,"span"),s.Tc(38),s.Wb(),s.Xb(39,"span",39),s.Tc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(13);s.Eb(7),s.Uc(s.lc(8,11,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(3),s.Vc("#",n.customerAdditionalInfo.kycReference,""),s.Eb(11),s.Uc(n.customerAdditionalInfo.kycStatus),s.Eb(9),s.Uc(n.phoneNumber),s.Eb(2),s.Uc(n.primaryEmailAdress)}}function Dr(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",40),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function kr(t,e){if(1&t&&s.Sb(0,"img",41),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Sr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit;return s.jc().goToKycSummary(t.customerId)}),s.Xb(1,"div",24),s.Xb(2,"div",25),s.Xb(3,"mat-icon",42),s.Tc(4,"bookmark"),s.Wb(),s.Xb(5,"span"),s.Xb(6,"small"),s.Tc(7),s.kc(8,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card-header",27),s.Xb(10,"div",28),s.Rc(11,Dr,2,1,"div",29),s.Rc(12,kr,1,1,"ng-template",null,30,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",43),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Xb(17,"span",32),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"form",33),s.Xb(20,"div",34),s.Xb(21,"span"),s.Tc(22,"Verification Type"),s.Wb(),s.Xb(23,"span"),s.Tc(24,"KYC Status"),s.Wb(),s.Wb(),s.Xb(25,"div",35),s.Xb(26,"span"),s.Tc(27,"Biometric"),s.Wb(),s.Xb(28,"span"),s.Tc(29),s.Wb(),s.Wb(),s.Sb(30,"br"),s.Xb(31,"div",37),s.Xb(32,"span"),s.Tc(33,"Mobile Number"),s.Wb(),s.Xb(34,"span"),s.Tc(35,"Email"),s.Wb(),s.Wb(),s.Xb(36,"div",38),s.Xb(37,"span"),s.Tc(38),s.Wb(),s.Xb(39,"span",39),s.Tc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(13);s.Eb(7),s.Uc(s.lc(8,11,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(3),s.Vc("#",n.customerAdditionalInfo.kycReference,""),s.Eb(11),s.Uc(n.customerAdditionalInfo.kycStatus),s.Eb(9),s.Uc(n.phoneNumber),s.Eb(2),s.Uc(n.primaryEmailAdress)}}function Nr(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",40),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Pr(t,e){if(1&t&&s.Sb(0,"img",41),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Fr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit;return s.jc().goToKycSummary(t.customerId)}),s.Xb(1,"div",24),s.Xb(2,"div",25),s.Xb(3,"mat-icon",44),s.Tc(4,"bookmark"),s.Wb(),s.Xb(5,"span"),s.Xb(6,"small"),s.Tc(7),s.kc(8,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card-header",27),s.Xb(10,"div",28),s.Rc(11,Nr,2,1,"div",29),s.Rc(12,Pr,1,1,"ng-template",null,30,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",43),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Xb(17,"span",32),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"form",33),s.Xb(20,"div",34),s.Xb(21,"span"),s.Tc(22,"Verification Type"),s.Wb(),s.Xb(23,"span"),s.Tc(24,"KYC Status"),s.Wb(),s.Wb(),s.Xb(25,"div",35),s.Xb(26,"span"),s.Tc(27,"Biometric"),s.Wb(),s.Xb(28,"span"),s.Tc(29),s.Wb(),s.Wb(),s.Sb(30,"br"),s.Xb(31,"div",37),s.Xb(32,"span"),s.Tc(33,"Mobile Number"),s.Wb(),s.Xb(34,"span"),s.Tc(35,"Email"),s.Wb(),s.Wb(),s.Xb(36,"div",38),s.Xb(37,"span"),s.Tc(38),s.Wb(),s.Xb(39,"span",39),s.Tc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(13);s.Eb(7),s.Uc(s.lc(8,11,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(3),s.Vc("#",n.customerAdditionalInfo.kycReference,""),s.Eb(11),s.Uc(n.customerAdditionalInfo.kycStatus),s.Eb(9),s.Uc(n.phoneNumber),s.Eb(2),s.Uc(n.primaryEmailAdress)}}function Lr(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",40),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function wr(t,e){if(1&t&&s.Sb(0,"img",41),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Ur(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit;return s.jc().goToKycSummary(t.customerId)}),s.Xb(1,"div",24),s.Xb(2,"div",25),s.Xb(3,"mat-icon",45),s.Tc(4,"bookmark"),s.Wb(),s.Xb(5,"span"),s.Xb(6,"small"),s.Tc(7),s.kc(8,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card-header",27),s.Xb(10,"div",28),s.Rc(11,Lr,2,1,"div",29),s.Rc(12,wr,1,1,"ng-template",null,30,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",43),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Xb(17,"span",32),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"form",33),s.Xb(20,"div",34),s.Xb(21,"span"),s.Tc(22,"Verification Type"),s.Wb(),s.Xb(23,"span"),s.Tc(24,"KYC Status"),s.Wb(),s.Wb(),s.Xb(25,"div",35),s.Xb(26,"span"),s.Tc(27,"Biometric"),s.Wb(),s.Xb(28,"span"),s.Tc(29),s.Wb(),s.Wb(),s.Sb(30,"br"),s.Xb(31,"div",37),s.Xb(32,"span"),s.Tc(33,"Mobile Number"),s.Wb(),s.Xb(34,"span"),s.Tc(35,"Email"),s.Wb(),s.Wb(),s.Xb(36,"div",38),s.Xb(37,"span"),s.Tc(38),s.Wb(),s.Xb(39,"span",39),s.Tc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(13);s.Eb(7),s.Uc(s.lc(8,11,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(3),s.Vc("#",n.customerAdditionalInfo.kycReference,""),s.Eb(11),s.Uc(n.customerAdditionalInfo.kycStatus),s.Eb(9),s.Uc(n.phoneNumber),s.Eb(2),s.Uc(n.primaryEmailAdress)}}var _r,Mr=((_r=function(){function t(e,n,o,r,i,c,l,u){a(this,t),this.dialog=e,this.dialogService=n,this.apiService=o,this.cdr=r,this.tasSumService=i,this.snack=c,this.sanitizer=l,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.setValue=new s.o,this._searchSubject=new b.a,this.nodataFound=!1,this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.searchable=!1,this.isScroll=!0,this._setSearchSubscription(),u.addSvgIconLiteral("filter_icon",l.bypassSecurityTrustHtml('\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10,13,3,3H21L14,13v6l-4,3Z" fill="none" stroke="#000" stroke-miterlimit="10"/></svg>\n'))}return o(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){this.apiService.setTask(!0),this.getDataOnLoad()}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(u.a)(1e3)).subscribe(function(e){t.searchKycid(e),console.log("searchValue :: ",e)})}},{key:"goToKycSummary",value:function(t){var e=this;localStorage.setItem("customerId",t),this.dialog.open(Ir.a,{width:"80%",maxHeight:"100%",backdropClass:"dialog-bg-trans",disableClose:!0}).afterClosed().subscribe(function(t){console.log("The dialog was closed",t),"REJECTED"!==t.data&&"APPROVED"!==t.data&&"INITIATED"!==t.data&&"INITIATED"!==t.data||e.getDataOnLoad()})}},{key:"getDataOnLoad",value:function(){for(var t=0;t<this.statusArr.length;t++)this.fetchCustomerByStatus(this.statusArr[t],0,0)}},{key:"fetchCustomerByStatus",value:function(t,e,a){var n=this;this.apiService.getKycTaskSummaryList(t,e,a).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr=e.customerInfoList,this.INITIATEDTotalPages=e.totalPages,this.INITIATEDTotalRecords=e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=e.customerInfoList,this.UNDER_PROCESSTotalPages=e.totalPages,this.UNDER_PROCESSTotalRecords=e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=e.customerInfoList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=e.customerInfoList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),n.updateDataOnScroll(t,e.customerInfoList)}):console.log("No scroll requied")}},{key:"searchKycid",value:function(t){var e,a,n=this;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("kycId"),e="kyc_"+this.searchText.trim(),this.apiService.getKycDetails2(e).subscribe(function(t){console.log(t),null!=t?(a="kycReference="+e,console.log("cif",a)):(console.log("not a cif"),e=n.searchText.trim(),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(function(){n.getKycData(a)},1e3),this.isScroll=!1}},{key:"getKycData",value:function(t){var e=this;this.loading=!0;for(var a=0;a<this.statusArr.length;a++){var n=this.statusArr[a];"INITIATED"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.INITIATEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.INITIATEDArr=[];for(var a=0;a<t.customerInfoList.length;a++)e.INITIATEDArr.push(null==t?void 0:t.customerInfoList[a])}):"UNDER_PROCESS"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.UNDER_PROCESSTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.UNDER_PROCESSArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.UNDER_PROCESSArr.push(t.customerInfoList[a])}):"APPROVED"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.APPROVEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.APPROVEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.APPROVEDArr.push(t.customerInfoList[a])}):"REJECTED"==n&&this.apiService.getKycDetails(t,n).subscribe(function(t){e.REJECTEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.REJECTEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.REJECTEDArr.push(t.customerInfoList[a])})}}},{key:"resetSearchData",value:function(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"clear",value:function(){this.searchText="",this.getDataOnLoad(),this.isScroll=!0}},{key:"updateDataOnScroll",value:function(t,e){if("INITIATED"==t){var a=Yt.unionBy(this.INITIATEDArr,e,"customerId");this.INITIATEDArr=a}else if("UNDER_PROCESS"==t){var n=Yt.unionBy(this.UNDER_PROCESSArr,e,"customerId");this.UNDER_PROCESSArr=n}else if("APPROVED"==t){var o=Yt.unionBy(this.APPROVEDArr,e,"customerId");this.APPROVEDArr=o}else if("REJECTED"==t){var r=Yt.unionBy(this.REJECTEDArr,e,"customerId");this.REJECTEDArr=r}this.cdr.markForCheck()}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||_r)(s.Rb(m.b),s.Rb(Tr.a),s.Rb(l.b),s.Rb(s.h),s.Rb(h.a),s.Rb(y.a),s.Rb(io.b),s.Rb(X.c))},_r.\u0275cmp=s.Lb({type:_r,selectors:[["app-kyc-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:69,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","60",1,"pl-50"],[1,"task","ml-24"],["fxLayoutAlign","end center","fxFlex","100","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxLayout","row","fxLayoutGap","10px",1,"search"],["appearance","outline",1,"full-width","search_field"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search ID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],[1,"more_vert_icon"],[3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[3,"click"],[1,"graymatcard"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"breakWord",2,"font-size","15px"],[1,"KYCtxt"],[1,"head1"],["fxLayout","row","fxLayoutGap","40px",1,"col1"],["fxLayout","row","fxLayoutGap","68px",1,"col2"],[1,"fieldName"],["fxLayout","row","fxLayoutGap","48px",1,"col3"],["fxLayout","row","fxLayoutGap","51px",1,"col4"],[1,"breakWord"],[3,"name"],["alt","",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark",2,"color","darkorange"],[1,"breakWord",2,"font-size","16px"],[1,"fill-color-blue","bookMark",2,"color","#1FBFA9"],[1,"fill-color-blue","bookMark",2,"color","red"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"div",2),s.Xb(5,"div",3),s.Xb(6,"span",4),s.Tc(7," KYC Task Summary "),s.Wb(),s.Wb(),s.Xb(8,"div",5),s.Xb(9,"div",6),s.Xb(10,"mat-form-field",7),s.Xb(11,"mat-label"),s.Tc(12,"Search Records"),s.Wb(),s.Xb(13,"div",8),s.Xb(14,"input",9),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Rc(15,Cr,1,1,"mat-spinner",10),s.Wb(),s.Xb(16,"mat-icon",11),s.Tc(17,"search"),s.Wb(),s.Rc(18,xr,3,0,"button",12),s.Xb(19,"mat-hint"),s.Tc(20,"Search ID or Name"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(21,"br"),s.Xb(22,"div",13),s.Xb(23,"div",14),s.Xb(24,"mat-card",15),s.Xb(25,"div",16),s.Xb(26,"span",17),s.Xb(27,"h2",18),s.Tc(28),s.Wb(),s.Wb(),s.Xb(29,"span",19),s.Xb(30,"mat-icon"),s.Tc(31,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(32,"div"),s.Rc(33,Or,42,13,"div",20),s.Wb(),s.Sb(34,"br"),s.Wb(),s.Xb(35,"mat-card",15),s.Xb(36,"div",16),s.Xb(37,"span",17),s.Xb(38,"h2",18),s.Tc(39),s.Wb(),s.Wb(),s.Xb(40,"span",19),s.Xb(41,"mat-icon"),s.Tc(42,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(43,"div"),s.Rc(44,Sr,42,13,"div",20),s.Wb(),s.Sb(45,"br"),s.Wb(),s.Xb(46,"mat-card",15),s.Xb(47,"div",16),s.Xb(48,"span",17),s.Xb(49,"h2",18),s.Tc(50),s.Wb(),s.Wb(),s.Xb(51,"span",19),s.Xb(52,"mat-icon"),s.Tc(53,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(54,"div"),s.Rc(55,Fr,42,13,"div",20),s.Wb(),s.Sb(56,"br"),s.Wb(),s.Xb(57,"mat-card",15),s.Xb(58,"div",16),s.Xb(59,"span",17),s.Xb(60,"h2",18),s.Tc(61),s.Wb(),s.Wb(),s.Xb(62,"span",19),s.Xb(63,"mat-icon"),s.Tc(64,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(65,"div"),s.Rc(66,Ur,42,13,"div",20),s.Wb(),s.Sb(67,"br"),s.Wb(),s.Wb(),s.Sb(68,"br"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(13),s.rc("ngModel",e.searchText),s.Eb(1),s.rc("ngIf",e.loading),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(10),s.Wc("Pending for approval (",e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.INITIATEDArr),s.Eb(6),s.Wc("Ongoing (",e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.UNDER_PROCESSArr),s.Eb(6),s.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.APPROVEDArr),s.Eb(6),s.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.REJECTEDArr))},directives:[tr.a,W.e,W.f,W.b,W.d,T.c,T.g,E.b,g.c,g.r,g.u,i.n,X.a,T.i,T.f,I.a,i.m,O.b,R.b,T.j,I.e,I.c,I.h,I.g,g.C,g.s,g.t,rr],pipes:[Er.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.KYCtxt[_ngcontent-%COMP%]{text-transform:uppercase;color:#1fbfa9;font-size:11px}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.breakWord[_ngcontent-%COMP%]{overflow-wrap:anywhere}.content[_ngcontent-%COMP%]{padding:10px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.boldClass[_ngcontent-%COMP%]{font-weight:bolder}.innerMatCard[_ngcontent-%COMP%]{width:97%;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%;padding-left:55px;padding-right:55px}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.titleName[_ngcontent-%COMP%]{top:289px;left:492px;width:94px;height:15px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-600) 12px/15px Montserrat;font:normal normal 600 12px/15px Montserrat;color:#000}.fieldName[_ngcontent-%COMP%], .titleName[_ngcontent-%COMP%]{text-align:left;letter-spacing:0;opacity:1}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;font:normal normal medium 9px/11px Montserrat;color:#0f0f0f}.search[_ngcontent-%COMP%]{height:73%;border-radius:5px;margin-left:37.7%}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0!important}.mt-12[_ngcontent-%COMP%]{margin-top:12px}.search_field[_ngcontent-%COMP%]{height:100%;width:259px!important;left:60px;background:#fff}.pl-50[_ngcontent-%COMP%]{padding-left:3.8%;padding-top:1%}.graymatcard[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:42vh}","[_nghost-%COMP%] {\n      \n      background-color: #F5F5F5;\n    }"]}),_r);function Gr(t,e){if(1&t&&(s.Xb(0,"mat-option",32),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Vr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0Please Select the Prefix! "),s.Wb())}function Br(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0Enter the First Name "),s.Wb())}function jr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0Enter the Last Name "),s.Wb())}function zr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0Please Select Date Of Birth "),s.Wb())}function qr(t,e){if(1&t&&(s.Xb(0,"mat-option",32),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Jr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0Select Marital Status "),s.Wb())}function Kr(t,e){if(1&t&&(s.Xb(0,"mat-option",32),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function $r(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0 Select Gender "),s.Wb())}function Hr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 Prefix and Gender does not match! "),s.Wb())}function Yr(t,e){if(1&t&&(s.Xb(0,"mat-option",32),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Zr(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0 Select Nationality "),s.Wb())}function Qr(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-hint",34),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.getOtp(t.primaryInfoForm.value)}),s.Tc(1),s.Wb()}if(2&t){var n=s.jc();s.Eb(1),s.Uc(n.emailVerify)}}function ti(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0 Enter the Primary Email "),s.Wb())}function ei(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," Please Enter valid email address! "),s.Wb())}function ai(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-hint",34),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.getOtpMobile(t.primaryInfoForm.value)}),s.Tc(1),s.Wb()}if(2&t){var n=s.jc();s.Eb(1),s.Uc(n.verify)}}function ni(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0 Enter the Mobile Number(maximum 10 digits) "),s.Wb())}function oi(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," Please Enter Mobile Number "),s.Wb())}function ri(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," Mobile number must be 10 digits. "),s.Wb())}function ii(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),s.Wb())}var ci,si=((ci=function(){function t(e,n,o,r,i){a(this,t),this.primaryInfo=e,this.dialogRef=n,this.apiService=o,this.snack=r,this.formBuilder=i,this.arrayCountry=[],this.arrayState=[],this.prefixFlag=!1,this.maxDate=new Date}return o(t,[{key:"ngOnInit",value:function(){console.log(this.primaryInfo),this.customerId=this.primaryInfo.customerId,this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getMaritalStatus("maritial_Status"),this.getCountryName("country"),this.getNationality("nationality"),this.getResidenceDetails("residence"),this.primaryInfo&&this.buildPrimaryInfoForm(this.primaryInfo)}},{key:"buildPrimaryInfoForm",value:function(t){this.primaryInfoForm=this.formBuilder.group({customerId:[this.customerId],prefix:[t?t.prefix:"",[g.A.required]],firstName:[t?t.firstName:"",[g.A.required]],middleName:[t?t.middleName:""],lastName:[t?t.lastName:"",[g.A.required]],dateOfBirth:[t?t.dateOfBirth:"",[g.A.required]],maritalStatus:[t?t.maritalStatus:"",[g.A.required]],gender:[t?t.gender:"",[g.A.required]],nationality:[t?t.nationality:"",[g.A.required]],primaryEmailAdress:[t?t.primaryEmailAdress:"",[g.A.required,g.A.pattern("[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,}")]],phoneNumber:[t?t.phoneNumber:"",[g.A.required]]})}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t})}},{key:"getGenderValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayGender=t})}},{key:"getMaritalStatus",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayMaritalStatus=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName===t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayState.push(t[a].stateName)});break}})}},{key:"getNationality",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.nationalityArray=t})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"onChangePrefix",value:function(t){""!=this.primaryInfoForm.value.gender&&("Mr"==t.value&&"Male"==this.primaryInfoForm.value.gender||("Ms"==t.value||"Mrs"==t.value)&&"Female"==this.primaryInfoForm.value.gender?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})))}},{key:"onChangeGender",value:function(t){"Mr"==this.primaryInfoForm.value.prefix&&"Male"==t.value||("Ms"==this.primaryInfoForm.value.prefix||"Mrs"==this.primaryInfoForm.value.prefix)&&"Female"==t.value?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"onSubmit",value:function(){var t=this,e=new i.f("en-US").transform(this.primaryInfoForm.value.dateOfBirth,"yyyy-MMM-dd");this.primaryInfoForm.value.dateOfBirth=e,this.primaryInfoForm.value.customerSubmit=!1,this.apiService.insertNewUserOnboarding(this.primaryInfoForm.value).subscribe(function(e){console.log(e),t.dialogRef.close({status:"INITIATED",resp:t.primaryInfoForm.value})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||ci)(s.Rb(m.a),s.Rb(m.g),s.Rb(l.b),s.Rb(y.a),s.Rb(g.f))},ci.\u0275cmp=s.Lb({type:ci,selectors:[["app-update-primary-info"]],decls:97,vars:25,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],[1,"full-width"],[1,"hintClass"],[1,"inputClass",2,"max-width","20%"],["formControlName","prefix","required","",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"inputClass"],["type","text","matInput","","formControlName","firstName","required","",3,"keypress"],["type","text","matInput","","formControlName","middleName",3,"keypress"],["type","text","matInput","","formControlName","lastName","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","fxlayoutAlign","start start",1,"full-width"],["fxFlex","90%"],["matInput","","readonly","","formControlName","dateOfBirth","required","",1,"default-background",3,"matDatepicker","max"],["fxFlex","10%"],["matSuffix","",2,"height","0px","line-height","0px",3,"for"],["picker",""],["formControlName","maritalStatus","required",""],["formControlName","gender","required","",3,"selectionChange"],["formControlName","nationality","required",""],["fxFlex","90%","type","email","matInput","","formControlName","primaryEmailAdress","required",""],["fxFlex","10%","class","verification",3,"click",4,"ngIf"],["fxFlex","90%","type","text","onlyNumber","","maxlength","10","minlength","10","matInput","","formControlName","phoneNumber","required","","maxlength","10"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[1,"errorClass"],["fxFlex","10%",1,"verification",3,"click"]],template:function(t,e){if(1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h5",2),s.Tc(4,"Primary Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"mat-hint",6),s.Tc(10,"Prefix*"),s.Wb(),s.Xb(11,"mat-card",7),s.Xb(12,"mat-select",8),s.fc("selectionChange",function(t){return e.onChangePrefix(t)}),s.Xb(13,"mat-option",9),s.Tc(14,"Select"),s.Wb(),s.Rc(15,Gr,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Rc(16,Vr,2,0,"mat-error",11),s.Wb(),s.Xb(17,"div",12),s.Xb(18,"mat-hint",6),s.Tc(19,"First Name*"),s.Wb(),s.Xb(20,"mat-card",13),s.Xb(21,"input",14),s.fc("keypress",function(t){return e.letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(22,Br,2,0,"mat-error",11),s.Wb(),s.Xb(23,"div",12),s.Xb(24,"mat-hint",6),s.Tc(25,"Middle Name"),s.Wb(),s.Xb(26,"mat-card",13),s.Xb(27,"input",15),s.fc("keypress",function(t){return e.letterOnly(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"div",12),s.Xb(29,"mat-hint",6),s.Tc(30,"Last Name"),s.Wb(),s.Xb(31,"mat-card",13),s.Xb(32,"input",16),s.fc("keypress",function(t){return e.letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(33,jr,2,0,"mat-error",11),s.Wb(),s.Xb(34,"div",17),s.Xb(35,"mat-hint",6),s.Tc(36,"Date of Birth*"),s.Wb(),s.Xb(37,"mat-card",13),s.Xb(38,"div",18),s.Sb(39,"input",19),s.Wb(),s.Xb(40,"div",20),s.Sb(41,"mat-datepicker-toggle",21),s.Wb(),s.Wb(),s.Rc(42,zr,2,0,"mat-error",11),s.Sb(43,"mat-datepicker",null,22),s.Wb(),s.Xb(45,"div",12),s.Xb(46,"mat-hint",6),s.Tc(47,"Marital Status*"),s.Wb(),s.Xb(48,"mat-card",13),s.Xb(49,"mat-select",23),s.Xb(50,"mat-option",9),s.Tc(51,"Select"),s.Wb(),s.Rc(52,qr,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Rc(53,Jr,2,0,"mat-error",11),s.Wb(),s.Xb(54,"div",12),s.Xb(55,"mat-hint",6),s.Tc(56,"Gender*"),s.Wb(),s.Xb(57,"mat-card",13),s.Xb(58,"mat-select",24),s.fc("selectionChange",function(t){return e.onChangeGender(t)}),s.Xb(59,"mat-option",9),s.Tc(60,"Select"),s.Wb(),s.Rc(61,Kr,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Rc(62,$r,2,0,"mat-error",11),s.Rc(63,Hr,2,0,"mat-error",11),s.Wb(),s.Xb(64,"div",12),s.Xb(65,"mat-hint",6),s.Tc(66,"Nationality*"),s.Wb(),s.Xb(67,"mat-card",13),s.Xb(68,"mat-select",25),s.Xb(69,"mat-option",9),s.Tc(70,"Select"),s.Wb(),s.Rc(71,Yr,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Rc(72,Zr,2,0,"mat-error",11),s.Wb(),s.Xb(73,"div",12),s.Xb(74,"mat-hint",6),s.Tc(75,"Primary Email*"),s.Wb(),s.Xb(76,"mat-card",13),s.Sb(77,"input",26),s.Rc(78,Qr,2,1,"mat-hint",27),s.Wb(),s.Rc(79,ti,2,0,"mat-error",11),s.Rc(80,ei,2,0,"mat-error",11),s.Wb(),s.Xb(81,"div",12),s.Xb(82,"mat-hint",6),s.Tc(83,"Mobile Number*"),s.Wb(),s.Xb(84,"mat-card",13),s.Sb(85,"input",28),s.Rc(86,ai,2,1,"mat-hint",27),s.Wb(),s.Rc(87,ni,2,0,"mat-error",11),s.Rc(88,oi,2,0,"mat-error",11),s.Rc(89,ri,2,0,"mat-error",11),s.Rc(90,ii,2,0,"mat-error",11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(91,"div",29),s.Xb(92,"button",30),s.fc("click",function(){return e.onSubmit()}),s.Tc(93,"Save"),s.Wb(),s.Tc(94," \xa0\xa0\xa0 "),s.Xb(95,"button",31),s.fc("click",function(){return e.close()}),s.Tc(96," Cancel "),s.Wb(),s.Wb()),2&t){var a=s.Dc(44);s.Eb(6),s.rc("formGroup",e.primaryInfoForm),s.Eb(9),s.rc("ngForOf",e.arrayPrefix),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("prefix").touched&&!e.primaryInfoForm.get("prefix").valid),s.Eb(6),s.rc("ngIf",e.primaryInfoForm.get("firstName")&&e.primaryInfoForm.get("firstName").touched&&!e.primaryInfoForm.get("firstName").valid),s.Eb(11),s.rc("ngIf",e.primaryInfoForm.get("lastName")&&e.primaryInfoForm.get("lastName").touched&&!e.primaryInfoForm.get("lastName").valid),s.Eb(6),s.rc("matDatepicker",a)("max",e.maxDate),s.Eb(2),s.rc("for",a),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("dateOfBirth")&&e.primaryInfoForm.get("dateOfBirth").touched&&!e.primaryInfoForm.get("dateOfBirth").valid),s.Eb(10),s.rc("ngForOf",e.arrayMaritalStatus),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("maritalStatus")&&e.primaryInfoForm.get("maritalStatus").touched&&!e.primaryInfoForm.get("maritalStatus").valid),s.Eb(8),s.rc("ngForOf",e.arrayGender),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("gender")&&e.primaryInfoForm.get("gender").touched&&!e.primaryInfoForm.get("gender").valid),s.Eb(1),s.rc("ngIf",e.prefixFlag),s.Eb(8),s.rc("ngForOf",e.nationalityArray),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("nationality")&&e.primaryInfoForm.get("nationality").touched&&!e.primaryInfoForm.get("nationality").valid),s.Eb(6),s.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").valid),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress")&&e.primaryInfoForm.get("primaryEmailAdress").touched&&!e.primaryInfoForm.get("primaryEmailAdress").valid),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").hasError("pattern")),s.Eb(6),s.rc("ngIf",e.primaryInfoForm.get("phoneNumber").valid),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("phoneNumber").touched&&!e.primaryInfoForm.get("phoneNumber").valid&&!e.primaryInfoForm.get("phoneNumber").hasError("minlength")),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("required")&&e.primaryInfoForm.get("phoneNumber").touched),s.Eb(1),s.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("pattern")),s.Eb(1),s.rc("ngIf","0000000000"==e.primaryInfoForm.get("phoneNumber").value),s.Eb(2),s.rc("disabled",e.primaryInfoForm.invalid)}},directives:[W.e,W.d,X.a,m.h,m.e,g.C,g.s,g.j,T.f,I.a,C.a,g.r,g.i,g.z,D.n,i.m,i.n,W.b,E.b,g.c,x.e,x.g,T.j,x.d,$.a,g.m,g.n,W.f,R.b,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}"]}),ci);function li(t,e){1&t&&(s.Xb(0,"h2",32),s.Tc(1,"Comminucation Address"),s.Wb())}function bi(t,e){1&t&&(s.Xb(0,"h2"),s.Tc(1,"Permanent Address"),s.Wb())}function ui(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),s.Wb())}function di(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),s.Wb())}function mi(t,e){if(1&t&&(s.Xb(0,"mat-option",34),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function fi(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Select Residence Type "),s.Wb())}function pi(t,e){if(1&t&&(s.Xb(0,"mat-option",34),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function hi(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Select Country "),s.Wb())}function gi(t,e){if(1&t&&(s.Xb(0,"mat-option",34),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.stateName),s.Eb(1),s.Vc(" ",a.stateName," ")}}function vi(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Please Select State "),s.Wb())}function yi(t,e){if(1&t&&(s.Xb(0,"mat-option",34),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Wi(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0 Please Select City "),s.Wb())}function Xi(t,e){1&t&&(s.Xb(0,"mat-error",33),s.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!(5-10 digits) "),s.Wb())}function Ti(t,e){1&t&&(s.Xb(0,"h5",35),s.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!"),s.Wb())}function Ii(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",8),s.Rc(2,li,2,0,"h2",9),s.Rc(3,bi,2,0,"h2",10),s.Xb(4,"div",11),s.Xb(5,"div",12),s.Xb(6,"mat-hint",13),s.Tc(7,"Address Line 1 *"),s.Wb(),s.Xb(8,"mat-card",14),s.Sb(9,"textarea",15),s.Wb(),s.Rc(10,ui,2,0,"mat-error",16),s.Wb(),s.Xb(11,"div",12),s.Xb(12,"mat-hint",13),s.Tc(13,"Address Line 2 *"),s.Wb(),s.Xb(14,"mat-card",14),s.Sb(15,"textarea",17),s.Wb(),s.Rc(16,di,2,0,"mat-error",16),s.Wb(),s.Xb(17,"div",12),s.Xb(18,"mat-hint",13),s.Tc(19,"Residence Type *"),s.Wb(),s.Xb(20,"mat-card",14),s.Xb(21,"mat-select",18),s.Xb(22,"mat-option",19),s.Tc(23," Select"),s.Wb(),s.Rc(24,mi,2,2,"mat-option",20),s.Wb(),s.Wb(),s.Rc(25,fi,2,0,"mat-error",21),s.Wb(),s.Xb(26,"div",12),s.Xb(27,"mat-hint",13),s.Tc(28,"Country *"),s.Wb(),s.Xb(29,"mat-card",14),s.Xb(30,"mat-select",22,23),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().getStateName(t.value,"Communication")})("selectionChange",function(t){return s.Hc(a),s.jc().getCityName(t.value)}),s.Xb(32,"mat-option",19),s.Tc(33," Select"),s.Wb(),s.Rc(34,pi,2,2,"mat-option",20),s.Wb(),s.Wb(),s.Rc(35,hi,2,0,"mat-error",24),s.Wb(),s.Xb(36,"div",12),s.Xb(37,"mat-hint",13),s.Tc(38,"State*"),s.Wb(),s.Xb(39,"mat-card",14),s.Xb(40,"mat-select",25,26),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().getCityName(t.value,"Communication")}),s.Xb(42,"mat-option",19),s.Tc(43,"Select "),s.Wb(),s.Rc(44,gi,2,2,"mat-option",20),s.Wb(),s.Wb(),s.Rc(45,vi,2,0,"mat-error",16),s.Wb(),s.Xb(46,"div",12),s.Xb(47,"mat-hint",13),s.Tc(48,"City*"),s.Wb(),s.Xb(49,"mat-card",14),s.Xb(50,"mat-select",27,28),s.Xb(52,"mat-option",19),s.Tc(53,"Select "),s.Wb(),s.Rc(54,yi,2,2,"mat-option",20),s.Wb(),s.Wb(),s.Rc(55,Wi,2,0,"mat-error",16),s.Wb(),s.Xb(56,"div",12),s.Xb(57,"mat-hint",13),s.Tc(58,"Zip Code*"),s.Wb(),s.Xb(59,"mat-card",14),s.Xb(60,"input",29,30),s.fc("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().isAllSameDigit(t,n)}),s.Wb(),s.Wb(),s.Rc(62,Xi,2,0,"mat-error",24),s.Rc(63,Ti,2,0,"h5",31),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.jc();s.Eb(1),s.rc("formGroupName",o),s.Eb(1),s.rc("ngIf",0==o),s.Eb(1),s.rc("ngIf",o>0),s.Eb(7),s.rc("ngIf",n.controls.address1&&n.controls.address1.touched&&!n.controls.address1.valid||n.controls.address1.touched&&n.controls.address1.hasError("pattern")),s.Eb(6),s.rc("ngIf",n.controls.address2&&n.controls.address2.touched&&!n.controls.address2.valid||n.controls.address2.touched&&n.controls.address2.hasError("pattern")),s.Eb(8),s.rc("ngForOf",r.arrayResidence),s.Eb(1),s.rc("ngIf",n.controls.residenceType&&n.controls.residenceType.touched&&!n.controls.residenceType.valid),s.Eb(9),s.rc("ngForOf",r.arrayCountry),s.Eb(1),s.rc("ngIf",n.controls.country&&n.controls.country.touched&&!n.controls.country.valid),s.Eb(9),s.rc("ngForOf",r.arrayState),s.Eb(1),s.rc("ngIf",n.controls.state&&n.controls.state.touched&&!n.controls.state.valid),s.Eb(9),s.rc("ngForOf",r.arrayCity),s.Eb(1),s.rc("ngIf",n.controls.city&&n.controls.city.touched&&!n.controls.city.valid),s.Eb(7),s.rc("ngIf",n.controls.zipCode&&n.controls.zipCode.touched&&!n.controls.zipCode.valid),s.Eb(1),s.rc("ngIf",r.isAllSameDigitVal&&o==r.zipCodeIndex)}}var Ei,Ci,xi=((Ei=function(){function t(e,n,o,r,i,c,s){a(this,t),this.dialogRef=e,this.contactInfo=n,this.formBuilder=o,this.ls=r,this.apiService=i,this.snack=c,this.cdr=s,this.userAddress_array=new g.d([]),this.arrayCity=[],this.arrayState=[],this.arrayCityPerm=[],this.arrayStatePerm=[],this.arrayCountryPerm=[],this.arrayCountry=[]}return o(t,[{key:"ngOnInit",value:function(){if(console.log(this.contactInfo),this.customerId=this.ls.getItem("customerId"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.contactInfo){this.buildContactInfoForm(),this.userAddress_array=this.contactInfoUpdateForm.get("userAddress_array");for(var t=0;t<this.contactInfo.length;t++)this.getStateName(this.contactInfo[t].country,this.contactInfo[t].addressType),this.getCityName(this.contactInfo[t].state,this.contactInfo[t].addressType),this.userAddress_array.push(this.createUserAddress(this.contactInfo[t]))}else this.buildContactInfoForm(),this.userAddress_array.push(this.createUserAddress())}},{key:"buildContactInfoForm",value:function(){this.contactInfoUpdateForm=this.formBuilder.group({userAddress_array:this.formBuilder.array([])})}},{key:"createUserAddress",value:function(t){return this.formBuilder.group({addressType:["Communication",[g.A.required]],address1:[t?t.address1:[""],[g.A.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[g.A.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&(e.arrayCountry.push(t[a].countryName),e.arrayCountryPerm.push(t[a].countryName))})}},{key:"getStateName",value:function(t,e){var a=this;this.apiService.getAllCountries().subscribe(function(n){for(var o=0;o<n.length;o++)if(n[o].countryName==t){a.apiService.getStateByCountryId(n[o].id).subscribe(function(t){"Communication"===e?a.arrayState=t:"Permanent"===e&&(a.arrayStatePerm=t)});break}})}},{key:"getCityName",value:function(t,e){var a=this;this.entityName="city",console.log(t),this.apiService.getDropDownForStateCity(this.entityName,t).subscribe(function(t){"Communication"===e?(a.arrayCity=t,console.log("--\x3e",a.arrayCity)):"Permanent"===e&&(a.arrayCityPerm=t)})}},{key:"onSubmit",value:function(){var t=this,e={};e.customerId=this.customerId,e.userAddress=this.userAddress_array.value,e.userAddress&&2==e.userAddress.length&&(e.userAddress[1].addressType="Permanent"),this.apiService.insertNewUserOnboarding(e).subscribe(function(a){t.dialogRef.close({status:"INITIATED",resp:e.userAddress})},function(e){t.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"isAllSameDigit",value:function(t,e){console.log("zipIndex :: ",e),this.zipCodeIndex=e,this.cdr.detectChanges();var a=0,n=t.target.value;if(""!=n){for(var o=0;o<n.length;o++)0==n[o]&&a++;console.log("number :: ",n),console.log("isAllSameDigitVal :: ",a,n.length),a==n.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Ei)(s.Rb(m.g),s.Rb(m.a),s.Rb(g.f),s.Rb(d.a),s.Rb(l.b),s.Rb(y.a),s.Rb(s.h))},Ei.\u0275cmp=s.Lb({type:Ei,selectors:[["app-update-contact-info"]],decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["formArrayName","userAddress_array","fxLayout","row wrap",1,"full-width"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row wrap",1,"full-width",3,"formGroupName"],["style","font-size: 18px;",4,"ngIf"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","address1","formControlName","address1","maxlength","255","required",""],["style","color: errorColor;",4,"ngIf"],["matInput","","name","address2","formControlName","address2","maxlength","255","required",""],["name","residenceType","formControlName","residenceType","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["style","color: errorColor",4,"ngIf"],["name","country","formControlName","country","required","",3,"selectionChange"],["country",""],["style","color: errorColor; ",4,"ngIf"],["name","state","required","","formControlName","state",1,"full-width","default-background",3,"selectionChange"],["state",""],["name","city","required","","formControlName","city",1,"full-width","default-background"],["city",""],["type","text","matInput","","name","zipCode","onlyNumber","","required","","minlength","5","maxlength","10","formControlName","zipCode",1,"full-width","default-background",3,"keyup"],["zipCode",""],["style","color: #E74C3C;",4,"ngIf"],[2,"font-size","18px"],[2,"color","errorColor"],[3,"value"],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1"),s.Tc(4,"Contact Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",2),s.Xb(7,"div",3),s.Rc(8,Ii,64,15,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div",5),s.Xb(10,"button",6),s.fc("click",function(){return e.onSubmit()}),s.Tc(11,"Save"),s.Wb(),s.Tc(12," \xa0\xa0\xa0 "),s.Xb(13,"button",7),s.fc("click",function(){return e.close()}),s.Tc(14," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.contactInfoUpdateForm),s.Eb(2),s.rc("ngForOf",e.contactInfoUpdateForm.get("userAddress_array").controls),s.Eb(2),s.rc("disabled",e.contactInfoUpdateForm.invalid))},directives:[W.e,W.d,X.a,m.e,g.C,g.s,g.j,g.e,i.m,W.f,R.b,g.k,i.n,W.b,T.f,I.a,E.b,g.c,g.r,g.i,g.m,g.z,C.a,D.n,$.a,g.n,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Ei),Ai=r("KYk2"),Ri=r("uKq3"),Oi=((Ci=function(){function t(e,n,o,r,i){a(this,t),this.ls=e,this.data=n,this.formBuilder=o,this.dialogRef=r,this.doOcrService=i,this.screenInfo={screenName:"onboarding",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"onboarding",data:this.data,customerId:this.customerId,isEdit:!0},this.doOcrService.getenableNext().subscribe(function(e){console.log("data disableNextAtIndex1 :: ",e),t.disableNextAtIndex1=e})}},{key:"createDocItemOthers",value:function(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}},{key:"onSubmit",value:function(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Ci)(s.Rb(d.a),s.Rb(m.a),s.Rb(g.f),s.Rb(m.g),s.Rb(Ai.a))},Ci.\u0275cmp=s.Lb({type:Ci,selectors:[["app-update-proof-of-identity"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h3",2),s.Tc(4,"Proof Of Identity"),s.Wb(),s.Xb(5,"mat-card"),s.Sb(6,"app-genric-document-upload",3),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"button",5),s.fc("click",function(){return e.onSubmit()}),s.Tc(9,"Save"),s.Wb(),s.Tc(10," \xa0\xa0\xa0 "),s.Xb(11,"button",6),s.fc("click",function(){return e.close()}),s.Tc(12," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("screenInfo",e.screenInfo),s.Eb(2),s.rc("disabled",e.disableNextAtIndex1))},directives:[W.e,W.d,X.a,I.a,Ri.a,W.f,R.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Ci);function Di(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ki(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0 \xa0 Select Employment Type "),s.Wb())}function Si(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Ni(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0 \xa0 Select Employment Name "),s.Wb())}function Pi(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0 \xa0 Enter the Employer Name "),s.Wb())}function Fi(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",4),s.Xb(1,"mat-hint",5),s.Tc(2," Other Employer Name*"),s.Wb(),s.Xb(3,"mat-card",6),s.Xb(4,"input",20),s.fc("keypress",function(t){return s.Hc(a),s.jc().letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(5,Pi,2,0,"mat-error",10),s.Wb()}if(2&t){var n=s.jc();s.Eb(5),s.rc("ngIf",n.additionalInfoUpdateForm.controls.otherEmployerName&&n.additionalInfoUpdateForm.controls.otherEmployerName.touched&&!n.additionalInfoUpdateForm.controls.otherEmployerName.valid)}}function Li(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}var wi,Ui=((wi=function(){function t(e,n,o,r,i){a(this,t),this.additionalInfo=e,this.dialogRef=n,this.formBuilder=o,this.apiService=r,this.ls=i,this.kycList=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED","VERIFIED"]}return o(t,[{key:"ngOnInit",value:function(){console.log(this.additionalInfo),this.customerId=this.ls.getItem("customerId"),this.getEmploymentType("employment_type"),this.getEmployerName("employer_name"),this.additionalInfo?(this.buildAdditionalInfoForm(this.additionalInfo),this.OnInput(this.additionalInfoUpdateForm.get("salary").value)):this.buildAdditionalInfoForm()}},{key:"buildAdditionalInfoForm",value:function(t){this.additionalInfoUpdateForm=this.formBuilder.group({employmentType:[t?t.employmentType:"",[g.A.required]],employerName:[t?t.employerName:"",[g.A.required]],otherEmployerName:[t?t.otherEmployerName:""],salary:[t?t.salary:"",[g.A.required]],kycReference:[t?t.kycReference:"",[g.A.required]],kycStatus:[t?t.kycStatus:"",[g.A.required]]})}},{key:"getEmploymentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentType=t,console.log(e.arrayEmploymentType)})}},{key:"getEmployerName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmployerName=t})}},{key:"OnInput",value:function(t){var e=t.toString().replace(/,/g,"").split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var a=e.join(".");console.log("final",a),this.additionalInfoUpdateForm.controls.salary.setValue(a)}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"_keyPress1",value:function(t){var e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}},{key:"onSubmit",value:function(){var t=this,e={};e.customerId=this.customerId,e.customerAdditionalInfo=this.additionalInfoUpdateForm.value,e.customerAdditionalInfo.salary=e.customerAdditionalInfo.salary.replaceAll(",",""),this.apiService.insertNewUserOnboarding(e).subscribe(function(e){console.log(e),t.dialogRef.close({status:"INITIATED",resp:t.additionalInfoUpdateForm.value})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||wi)(s.Rb(m.a),s.Rb(m.g),s.Rb(g.f),s.Rb(l.b),s.Rb(d.a))},wi.\u0275cmp=s.Lb({type:wi,selectors:[["app-update-additional-info"]],decls:57,vars:8,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],[2,"font-size","18px"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","employmentType","required","","formControlName","employmentType"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employerName","formControlName","employerName","required",""],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["type","text","formControlName","salary","maxLength","14","required","","matInput","","name","salary",3,"keypress","keyup"],["readonly","true","type","text","formControlName","kycReference","matInput","","name","kycReference","maxLength","4"],["formControlName","kycStatus","read",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],["required","","type","text","matInput","","formControlName","otherEmployerName",3,"keypress"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1"),s.Tc(4,"Additional Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",2),s.Xb(7,"div"),s.Xb(8,"h3",3),s.Tc(9,"Employment Information"),s.Wb(),s.Xb(10,"div"),s.Xb(11,"div",4),s.Xb(12,"mat-hint",5),s.Tc(13,"Employment Type*"),s.Wb(),s.Xb(14,"mat-card",6),s.Xb(15,"mat-select",7),s.Xb(16,"mat-option",8),s.Tc(17,"Select"),s.Wb(),s.Rc(18,Di,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Rc(19,ki,2,0,"mat-error",10),s.Wb(),s.Xb(20,"div",4),s.Xb(21,"mat-hint",5),s.Tc(22,"Employer Name*"),s.Wb(),s.Xb(23,"mat-card",6),s.Xb(24,"mat-select",11),s.Xb(25,"mat-option",8),s.Tc(26,"Select"),s.Wb(),s.Rc(27,Si,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Rc(28,Ni,2,0,"mat-error",10),s.Wb(),s.Rc(29,Fi,6,1,"div",12),s.Xb(30,"div",4),s.Xb(31,"mat-hint",5),s.Tc(32,"Salary*"),s.Wb(),s.Xb(33,"mat-card",6),s.Xb(34,"input",13),s.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.OnInput(t.target.value)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"h3",3),s.Tc(36,"KYC Information"),s.Wb(),s.Xb(37,"div"),s.Xb(38,"div",4),s.Xb(39,"mat-hint",5),s.Tc(40,"KYC Reference"),s.Wb(),s.Xb(41,"mat-card",6),s.Sb(42,"input",14),s.Wb(),s.Wb(),s.Xb(43,"div",4),s.Xb(44,"mat-hint",5),s.Tc(45,"KYC Status"),s.Wb(),s.Xb(46,"mat-card",6),s.Xb(47,"mat-select",15),s.Xb(48,"mat-option",8),s.Tc(49,"Select "),s.Wb(),s.Rc(50,Li,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(51,"div",16),s.Xb(52,"button",17),s.fc("click",function(){return e.onSubmit()}),s.Tc(53,"Save"),s.Wb(),s.Tc(54,"\n\xa0\xa0\xa0\n"),s.Xb(55,"button",18),s.fc("click",function(){return e.close()}),s.Tc(56,"\nCancel\n"),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.additionalInfoUpdateForm),s.Eb(12),s.rc("ngForOf",e.arrayEmploymentType),s.Eb(1),s.rc("ngIf",e.additionalInfoUpdateForm.controls.employmentType&&e.additionalInfoUpdateForm.controls.employmentType.touched&&!e.additionalInfoUpdateForm.controls.employmentType.valid),s.Eb(8),s.rc("ngForOf",e.arrayEmployerName),s.Eb(1),s.rc("ngIf",e.additionalInfoUpdateForm.controls.employerName&&e.additionalInfoUpdateForm.controls.employerName.touched&&!e.additionalInfoUpdateForm.controls.employerName.valid),s.Eb(1),s.rc("ngIf","Others"==(null==e.additionalInfoUpdateForm.controls.employerName?null:e.additionalInfoUpdateForm.controls.employerName.value)),s.Eb(21),s.rc("ngForOf",e.kycList),s.Eb(2),s.rc("disabled",e.additionalInfoUpdateForm.invalid))},directives:[W.e,W.d,X.a,m.e,g.C,g.s,g.j,W.b,T.f,I.a,C.a,g.z,g.r,g.i,D.n,i.m,i.n,g.c,E.b,W.f,R.b,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),wi),_i=r("IheW"),Mi=r("zdtB"),Gi=r("JVXa");function Vi(t,e){if(1&t&&(s.Xb(0,"mat-option",18),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Bi(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0 \xa0 Enter No of Signatures "),s.Wb())}function ji(t,e){1&t&&(s.Xb(0,"div"),s.Sb(1,"img",31),s.Wb()),2&t&&(s.Eb(1),s.rc("src","assets/images/no-image.jpg",s.Jc))}function zi(t,e){if(1&t&&s.Sb(0,"img",32),2&t){var a=s.jc().$implicit;s.rc("src",a.value.imageURL1,s.Jc)}}function qi(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",19),s.Xb(2,"div",20),s.Xb(3,"div",6),s.Xb(4,"div",21),s.Xb(5,"div"),s.Xb(6,"div",22),s.Xb(7,"div"),s.Xb(8,"button",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().openPopUp(t.value,n)}),s.Tc(9,"Digital Sign"),s.Wb(),s.Xb(10,"button",24),s.Tc(11," Upload "),s.Xb(12,"input",25),s.fc("change",function(t){s.Hc(a);var n=e.$implicit,o=e.index;return s.jc().onFileSelect(n.value,t,o)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"div",26),s.Rc(14,ji,2,1,"div",27),s.Rc(15,zi,1,1,"ng-template",null,28,s.Sc),s.Wb(),s.Xb(17,"button",29),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().deleteSignature(t.value,n,"delete")}),s.Xb(18,"mat-icon",30),s.Tc(19," delete "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.index,o=s.Dc(16),r=s.jc();s.Eb(1),s.rc("formGroupName",n),s.Eb(13),s.rc("ngIf","not_available"==r.imageURL1)("ngIfElse",o)}}var Ji,Ki=((Ji=function(){function t(e,n,o,r,i,c,s,l,b,u){a(this,t),this.dialogRef=e,this.formBuilder=n,this.signatures=o,this.apiService=r,this.corporateService=i,this.ls=c,this.dialog=s,this.dialogService=l,this.snack=b,this.cdr=u,this.values=[1,2,3,4,5],this.listOfSignatures=[],this.progressValOthers=0,this.deleteRecord=[]}return o(t,[{key:"ngOnInit",value:function(){if(this.ls.getItem("corporateId"),this.signatures){this.buildSignatureForm(),this.noOfSignSelect=this.signatures.length,this.signatureUpdateForm.get("noOfSignatures").setValue(this.signatures.length);for(var t=0;t<this.signatures.length;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(this.signatures[t]))}}},{key:"buildSignatureForm",value:function(t){this.signatureUpdateForm=this.formBuilder.group({noOfSignatures:[t?t.noOfSignatures:"",[g.A.required]],sign_array:this.formBuilder.array([])})}},{key:"createSignatureBoxes",value:function(t){return this.formBuilder.group({accountSignatureId:t?t.accountSignatureId:0,imageURL1:[t?t.fileUrl:"assets/images/no-image.jpg",g.A.required],documentName:t?t.documentName:"Signature",documentType:t?t.documentType:"",fileType:t.fileType,fileName:t.fileName,verificationType:t?t.verificationType:"New Customer Signature"})}},{key:"getSignArray",get:function(){return this.signatureUpdateForm.get("sign_array")}},{key:"changeValue",value:function(t){var e=this;if(this.noOfSignSelect=t.value,this.enableButton=!1,null==this.signatureUpdateForm.get("sign_array")||null==this.getSignArray)if(0!=this.signatureUpdateForm.get("sign_array").length){if(this.noOfSignSelect>this.signatureUpdateForm.get("sign_array").length)for(var a=this.noOfSignSelect-this.signatureUpdateForm.get("sign_array").length,n=0;n<a;n++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(this.noOfSignSelect<this.signatureUpdateForm.get("sign_array").length){a=this.signatureUpdateForm.get("sign_array").length-this.noOfSignSelect;for(var o=0;o<a;o++)this.signatureUpdateForm.get("sign_array").controls.pop()}}else for(var r=0;r<t.value;r++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(0==this.getSignArray.length)for(var i=0;i<t.value;i++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(t.value<this.getSignArray.length)this.dialogService.doConfirmDialog("Are you sure, value is less than no. of signs?").subscribe(function(a){if("Yes"===a)for(var n=e.getSignArray.length;n>=t.value;n--)e.removeSign(n),n>t.value&&e.deleteSignature(e.signatureUpdateForm.get("sign_array").at(n-1).value,n,"noOfSignChange",t.value)});else if(t.value>this.getSignArray.length){console.log("2nd if",t.value),this.difference=t.value-this.getSignArray.length;for(var c=0;c<this.difference;c++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""))}}},{key:"removeSign",value:function(t){this.signatureUpdateForm.get("sign_array").removeAt(t)}},{key:"deleteSignature",value:function(t,e,a,n){var o=this;"delete"===a?this.dialogService.doConfirmDialog("").subscribe(function(n){"Yes"===n?(console.log("yes => ",n),o.confirmDelete(t,e,a,o.signatureUpdateForm.controls.noOfSignatures.value-1)):console.log("no => ",n)}):this.confirmDelete(t,e,a,this.signatureUpdateForm.controls.noOfSignatures.value-1)}},{key:"confirmDelete",value:function(t,e,a,n){var o=this;this.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(function(a){if(console.log(a),o.listOfSignatures=a||[],o.deleteRecord=a,o.apiService.getSignData().subscribe(function(t){o.signatureUpdateForm.get("sign_array").controls[e].accountSignatureId=t.uploadModel.accountSignatureId}),t.imageURL1.toString().includes("no-image.jpg"))return o.signatureUpdateForm.get("sign_array").controls.splice(e,1),o.signatureUpdateForm.controls.noOfSignatures.setValue(o.signatureUpdateForm.controls.noOfSignatures.value-1),o.noOfSignSelect=o.signatureUpdateForm.controls.noOfSignatures.value,void(o.enableButton=o.sign_array.length==o.signatureUpdateForm.controls.noOfSignatures.value);0!=o.deleteRecord[e].accountSignatureId&&null!=o.deleteRecord[e].accountSignatureId&&null!=o.deleteRecord[e].accountSignatureId&&""!=o.deleteRecord[e].accountSignatureId&&(o.apiService.deleteCustomerSign(o.deleteRecord[e].accountSignatureId).subscribe(function(t){},function(t){o.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(function(t){o.listOfSignatures=t||[],o.sign_array=t,o.enableButton=o.sign_array.length==o.signatureUpdateForm.controls.noOfSignatures.value&&(0!==o.listOfSignatures.length||0!==o.signatureUpdateForm.controls.noOfSignatures.value)})}),o.signatureUpdateForm.get("sign_array").controls.splice(e,1),o.signatureUpdateForm.controls.noOfSignatures.setValue(o.signatureUpdateForm.controls.noOfSignatures.value-1),o.noOfSignSelect=o.signatureUpdateForm.controls.noOfSignatures.value)})}},{key:"openPopUp",value:function(t,e,a){var n,o=this;this.signIndex=e,this.customerId=localStorage.getItem("customerId"),this.signCount=localStorage.getItem("noOfSign"),this.accountSignatureId=t.accountSignatureId?t.accountSignatureId:null,this.enableButton=!1,1==this.listOfSignatures.length&&0==e?this.accountSignatureId=this.listOfSignatures[e].accountSignatureId:e>=0&&this.listOfSignatures.length>1?this.accountSignatureId=(null===(n=this.listOfSignatures[e])||void 0===n?void 0:n.accountSignatureId)?this.listOfSignatures[e].accountSignatureId:0:(console.log("else"),this.accountSignatureId=0),this.show||this.dialog.open(Mi.a,{width:"720px",disableClose:!0,data:{screen:"NewCustomerOnboarding",customerId:this.customerId,signCount:this.signatureUpdateForm.get("noOfSignatures").value,accountSignatureId:this.accountSignatureId,signatureType:"DigitalSign"}}).afterClosed().subscribe(function(t){null!=t.image?(o.enableButton=!0,o.signatureUpdateForm.get("sign_array").at(e).get("imageURL1").patchValue(t.image),o.show=!t.enable,o.getListOfSignatures(o.customerId,"Yes")):o.enableButton=!1})}},{key:"getListOfSignatures",value:function(t,e){var a=this;this.apiService.fetchSignatureInfo(t).subscribe(function(t){"Yes"===e&&(a.signatureUpdateForm.get("sign_array").controls[a.signIndex].accountSignatureId=t[t.length-1].accountSignatureId),a.listOfSignatures=t||[],a.cdr.detectChanges(),a.signatureUpdateForm.get("noOfSignatures").setValue(a.noOfSignSelect),a.enableButton=a.listOfSignatures.length==a.noOfSignSelect})}},{key:"onFileSelect",value:function(t,e,a){var n=this;if(this.apiService.fetchSignatureInfo(this.customerId).subscribe(function(t){}),this.selectedFiles=e.target.files[0],e.target.files){var o=new FileReader;o.readAsDataURL(e.target.files[0]),o.onload=function(t){n.signatureimg=t.target.result,console.log(n.signatureimg,"Upload image")},console.log(this.signatureimg),this.uploadDoc(t,e.target.files[0],this.selectedFiles,a,e),console.log("sign array -- ",this.signatureUpdateForm.get("sign_array"))}}},{key:"uploadDoc",value:function(t,e,a,n,o){var r=this;if(o.target.files){var i=new FileReader;i.readAsDataURL(o.target.files[0]),i.onload=function(t){r.signatureimg=t.target.result,r.customerId=localStorage.getItem("customerId"),r.signCount=r.signatureUpdateForm.get("noOfSignatures").value;var o=new FormData,i=new FormData;1==r.listOfSignatures.length&&0==n?(console.log("if"),r.accountSignatureId=r.listOfSignatures[n].accountSignatureId):n>=0&&1!=r.listOfSignatures.length?(console.log(" else if"),r.accountSignatureId=r.listOfSignatures[n].accountSignatureId):(console.log("else"),r.accountSignatureId=0);var c={noOfSignatures:r.signCount,accountSignatureId:r.accountSignatureId,documentName:"Signature",customerId:r.customerId,documentType:"10",fileType:e.type,fileName:e.name,verificationType:"New Customer Signature",signatureType:"Uploaded Sign"};o.append("noOfSignatures",r.signCount),o.append("uploadModel",JSON.stringify(c)),o.append("file",a);var s='{"noOfSignatures":'+r.signCount+', "uploadModel":'+JSON.stringify(c)+" } ";i.append("data",s),i.append("file",a),r.signatureUpdateForm.get("sign_array").at(n).get("imageURL1").patchValue(r.signatureimg),r.uploadSub=r.apiService.uploadSignature(i).subscribe(function(t){null!==t&&(r.signatureUpdateForm.get("sign_array").at(n).get("accountSignatureId").patchValue(t.accountSignatureId),r.signatureUpdateForm.get("sign_array").at(n).get("documentName").patchValue(t.documentName),r.signatureUpdateForm.get("sign_array").at(n).get("documentType").patchValue(t.documentType),r.signatureUpdateForm.get("sign_array").at(n).get("fileType").patchValue(t.fileType),r.signatureUpdateForm.get("sign_array").at(n).get("fileName").patchValue(t.fileName),r.signatureUpdateForm.get("sign_array").at(n).get("verificationType").patchValue(t.verificationType),r.signatureUpdateForm.get("noOfSignatures").patchValue(t.noOfSignatures),console.log(r.signatureUpdateForm)),r.getListOfSignatures(r.customerId,"No"),t.type==_i.e.UploadProgress?r.progressValOthers=Math.round(t.loaded/t.total*100):t.type==_i.e.Response&&(r.progressValOthers=0)},function(t){201==t.status?r.shotToast("Document Uploaded!"):(r.signatureUpdateForm.get("sign_array").at(n).get("imageURL1").patchValue(""),r.shotToast(t.message))})}}}},{key:"onSubmit",value:function(){this.snack.open("Signature Updated","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:this.signatureUpdateForm.get("sign_array").value,screen:"signatureUpload"})}},{key:"shotToast",value:function(t){this.snack.open(""+t,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Ji)(s.Rb(m.g),s.Rb(g.f),s.Rb(m.a),s.Rb(l.b),s.Rb(Gi.a),s.Rb(d.a),s.Rb(m.b),s.Rb(Tr.a),s.Rb(y.a),s.Rb(s.h))},Ji.\u0275cmp=s.Lb({type:Ji,selectors:[["app-update-mandate-info"]],decls:26,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[2,"font-size","16px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","36%","fxFlex.xs","100%"],[2,"padding-left","0.8rem","font-size","10px"],[1,"inputCard"],["name","noOfSignatures","formControlName","noOfSignatures","placeholder","Choose No. of Signatures","required","",1,"full-width","default-background",2,"font-size","16px","border","transparent",3,"selectionChange"],["noOfSignatures",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formArrayName","sign_array"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],[1,"form"],[1,"flex-grow-2"],["appearence","outline",1,"scanButton",3,"click"],[1,"Upload","scanButton"],["type","file","accept","image/*","required","",1,"changeInput",3,"change"],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","",2,"margin-left","10px","margin-top","30px",3,"click"],[2,"color","red"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Mandate Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"h3",3),s.Tc(7," Signatures "),s.Wb(),s.Xb(8,"form",4),s.Xb(9,"div",5),s.Xb(10,"div",6),s.Xb(11,"mat-hint",7),s.Tc(12," No. of Signatures* "),s.Wb(),s.Xb(13,"mat-card",8),s.Xb(14,"mat-select",9,10),s.fc("selectionChange",function(t){return e.changeValue(t)}),s.Rc(16,Vi,2,2,"mat-option",11),s.Wb(),s.Wb(),s.Rc(17,Bi,2,0,"mat-error",12),s.Wb(),s.Wb(),s.Xb(18,"div",13),s.Rc(19,qi,20,3,"div",14),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",15),s.Xb(21,"button",16),s.fc("click",function(){return e.onSubmit()}),s.Tc(22,"Save"),s.Wb(),s.Tc(23," \xa0\xa0\xa0 "),s.Xb(24,"button",17),s.fc("click",function(){return e.close()}),s.Tc(25," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(8),s.rc("formGroup",e.signatureUpdateForm),s.Eb(8),s.rc("ngForOf",e.values),s.Eb(1),s.rc("ngIf",e.signatureUpdateForm.controls.noOfSignatures&&e.signatureUpdateForm.controls.noOfSignatures.touched&&!e.signatureUpdateForm.controls.noOfSignatures.valid),s.Eb(2),s.rc("ngForOf",e.signatureUpdateForm.get("sign_array").controls))},directives:[W.e,W.d,X.a,m.h,m.e,g.C,g.s,g.j,W.b,T.f,I.a,C.a,g.r,g.i,g.z,i.m,i.n,g.e,W.f,R.b,D.n,T.b,g.k],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}.padding[_ngcontent-%COMP%]{padding:10px}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.formImg[_ngcontent-%COMP%]{background-color:#f8f8f8}.closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Ji),$i=["ncForm"];function Hi(t,e){1&t&&s.Sb(0,"mat-spinner")}function Yi(t,e){if(1&t&&(s.Xb(0,"span",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.Uc(a)}}function Zi(t,e){if(1&t&&(s.Xb(0,"div",27),s.Xb(1,"h1",28),s.Tc(2),s.kc(3,"slice"),s.kc(4,"uppercase"),s.kc(5,"slice"),s.kc(6,"uppercase"),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Oc("background",a.customerColorCode),s.Eb(2),s.Wc("",s.nc(3,4,s.lc(4,8,a.dataResponse.dataResp.firstName),0,1),"",s.nc(5,10,s.lc(6,14,a.dataResponse.dataResp.lastName),0,1),"")}}function Qi(t,e){if(1&t&&s.Sb(0,"img",30),2&t){var a=s.jc(2);s.rc("src",a.imageUrl,s.Jc)}}function tc(t,e){if(1&t&&(s.Xb(0,"div",27),s.Rc(1,Qi,1,1,"img",29),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngIf",null!=a.image)}}function ec(t,e){if(1&t&&(s.Xb(0,"div",49),s.Xb(1,"mat-hint",50),s.Tc(2," Middle Name "),s.Wb(),s.Xb(3,"mat-card",51),s.Xb(4,"div"),s.Tc(5),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(5),s.Uc(a.dataResponse.dataResp.middleName)}}function ac(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",31),s.Xb(1,"div",32),s.Xb(2,"div",33),s.Tc(3,"1"),s.Wb(),s.Xb(4,"div",34),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",35),s.Xb(7,"div",36),s.Xb(8,"div",37),s.Xb(9,"div",38),s.Xb(10,"h2",39),s.Tc(11,"Primary Information"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",40),s.fc("click",function(){return s.Hc(a),s.jc().editPrimaryInfo()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",41),s.Wb(),s.Xb(16,"div",42),s.Xb(17,"div",43),s.Xb(18,"div",44),s.Xb(19,"div",45),s.Xb(20,"div",46),s.Xb(21,"div",47),s.Xb(22,"div",48),s.Xb(23,"div",49),s.Xb(24,"mat-hint",50),s.Tc(25," Customer Id "),s.Wb(),s.Xb(26,"mat-card",51),s.Xb(27,"div"),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"div",49),s.Xb(30,"mat-hint",50),s.Tc(31," Customer Status "),s.Wb(),s.Xb(32,"mat-card",51),s.Xb(33,"div"),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div",48),s.Xb(36,"div",49),s.Xb(37,"mat-hint",50),s.Tc(38," Prefix* "),s.Wb(),s.Xb(39,"mat-card",51),s.Xb(40,"div"),s.Tc(41),s.Wb(),s.Wb(),s.Wb(),s.Xb(42,"div",49),s.Xb(43,"mat-hint",50),s.Tc(44," First Name* "),s.Wb(),s.Xb(45,"mat-card",51),s.Xb(46,"div"),s.Tc(47),s.Wb(),s.Wb(),s.Wb(),s.Rc(48,ec,6,1,"div",52),s.Xb(49,"div",49),s.Xb(50,"mat-hint",50),s.Tc(51," Last Name* "),s.Wb(),s.Xb(52,"mat-card",51),s.Xb(53,"div"),s.Tc(54),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(55,"div",48),s.Xb(56,"div",49),s.Xb(57,"mat-hint",50),s.Tc(58," Gender* "),s.Wb(),s.Xb(59,"mat-card",51),s.Xb(60,"div"),s.Tc(61),s.Wb(),s.Wb(),s.Wb(),s.Xb(62,"div",49),s.Xb(63,"mat-hint",50),s.Tc(64," Date of Birth* "),s.Wb(),s.Xb(65,"mat-card",51),s.Xb(66,"div"),s.Tc(67),s.Wb(),s.Wb(),s.Wb(),s.Xb(68,"div",49),s.Xb(69,"mat-hint",50),s.Tc(70," Marital Status* "),s.Wb(),s.Xb(71,"mat-card",51),s.Xb(72,"div"),s.Tc(73),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(74,"div",42),s.Xb(75,"div",49),s.Xb(76,"mat-hint",50),s.Tc(77," Nationality*"),s.Wb(),s.Xb(78,"mat-card",51),s.Xb(79,"div"),s.Tc(80),s.Wb(),s.Wb(),s.Wb(),s.Xb(81,"div",49),s.Xb(82,"mat-hint",50),s.Tc(83," Mobile Number* "),s.Wb(),s.Xb(84,"mat-card",51),s.Xb(85,"div"),s.Tc(86),s.Wb(),s.Wb(),s.Wb(),s.Xb(87,"div",49),s.Xb(88,"mat-hint",50),s.Tc(89," Email* "),s.Wb(),s.Xb(90,"mat-card",51),s.Xb(91,"div"),s.Tc(92),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(93,"div",42),s.Xb(94,"div",49),s.Xb(95,"mat-hint",50),s.Tc(96," Modification No"),s.Wb(),s.Xb(97,"mat-card",51),s.Xb(98,"div"),s.Tc(99),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(15),s.Uc(n.dataResponse.dataResp.customerId),s.Eb(6),s.Uc(n.dataResponse.dataResp.custStatus),s.Eb(7),s.Uc(n.dataResponse.dataResp.prefix),s.Eb(6),s.Uc(n.dataResponse.dataResp.firstName),s.Eb(1),s.rc("ngIf",n.dataResponse.dataResp.middleName),s.Eb(6),s.Uc(n.dataResponse.dataResp.lastName),s.Eb(7),s.Uc(n.dataResponse.dataResp.gender),s.Eb(6),s.Uc(n.dataResponse.dataResp.dateOfBirth),s.Eb(6),s.Uc(n.dataResponse.dataResp.maritalStatus),s.Eb(7),s.Uc(n.dataResponse.dataResp.nationality),s.Eb(6),s.Uc(n.dataResponse.dataResp.phoneNumber),s.Eb(6),s.Uc(n.dataResponse.dataResp.primaryEmailAdress),s.Eb(7),s.Uc(n.dataResponse.dataResp.modificationNo)}}function nc(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",42),s.Xb(2,"div",43),s.Xb(3,"div",57),s.Xb(4,"div",42),s.Xb(5,"div",58),s.Xb(6,"h2",59),s.Tc(7),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"div",42),s.Xb(9,"div",60),s.Xb(10,"mat-hint",50),s.Tc(11," Address Line 1* "),s.Wb(),s.Xb(12,"mat-card",51),s.Xb(13,"div"),s.Tc(14),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",60),s.Xb(16,"mat-hint",50),s.Tc(17," Address Line 2* "),s.Wb(),s.Xb(18,"mat-card",51),s.Xb(19,"div"),s.Tc(20),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(21,"div",42),s.Xb(22,"div",61),s.Xb(23,"mat-hint",50),s.Tc(24," Country* "),s.Wb(),s.Xb(25,"mat-card",51),s.Xb(26,"div"),s.Tc(27),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"div",61),s.Xb(29,"mat-hint",50),s.Tc(30," State* "),s.Wb(),s.Xb(31,"mat-card",51),s.Xb(32,"div"),s.Tc(33),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",61),s.Xb(35,"mat-hint",50),s.Tc(36," City* "),s.Wb(),s.Xb(37,"mat-card",51),s.Xb(38,"div"),s.Tc(39),s.Wb(),s.Wb(),s.Wb(),s.Xb(40,"div",61),s.Xb(41,"mat-hint",50),s.Tc(42," Zipcode* "),s.Wb(),s.Xb(43,"mat-card",51),s.Xb(44,"div"),s.Tc(45),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div",61),s.Xb(47,"mat-hint",50),s.Tc(48," Residence Type* "),s.Wb(),s.Xb(49,"mat-card",51),s.Xb(50,"div"),s.Tc(51),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(7),s.Uc(a.addressType),s.Eb(7),s.Uc(a.address1),s.Eb(6),s.Uc(a.address2),s.Eb(7),s.Uc(a.country),s.Eb(6),s.Uc(a.state),s.Eb(6),s.Uc(a.city),s.Eb(6),s.Uc(a.zipCode),s.Eb(6),s.Uc(a.residenceType)}}function oc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",31),s.Xb(1,"div",32),s.Xb(2,"div",33),s.Tc(3,"2"),s.Wb(),s.Xb(4,"div",34),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",53),s.Xb(7,"div",36),s.Xb(8,"div",54),s.Xb(9,"div",55),s.Xb(10,"div",38),s.Xb(11,"h2",39),s.Tc(12,"Contact Information"),s.Wb(),s.Xb(13,"span"),s.Xb(14,"mat-icon",40),s.fc("click",function(){return s.Hc(a),s.jc().editContactInfo()}),s.Tc(15,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(16,"mat-divider",41),s.Wb(),s.Rc(17,nc,52,8,"div",56),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(14),s.rc("hidden",n.editScreen),s.Eb(3),s.rc("ngForOf",n.userAddress_array)}}function rc(t,e){1&t&&(s.Xb(0,"small",65),s.Tc(1,"No Data Found"),s.Wb())}function ic(t,e){if(1&t&&(s.Xb(0,"div",45),s.Xb(1,"div",49),s.Xb(2,"mat-hint",50),s.Tc(3," Document type* "),s.Wb(),s.Xb(4,"mat-card",51),s.Xb(5,"div"),s.Tc(6),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",49),s.Xb(8,"div",67),s.Sb(9,"img",68),s.Xb(10,"div"),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",49),s.Xb(13,"div",69),s.Xb(14,"a",70),s.Tc(15,"Download "),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(6),s.Uc(a.documentName),s.Eb(3),s.rc("src",a.fileUrl,s.Jc),s.Eb(2),s.Uc(a.fileName),s.Eb(3),s.sc("href",a.fileUrl,s.Jc)}}function cc(t,e){if(1&t&&(s.Xb(0,"div"),s.Rc(1,ic,16,4,"div",66),s.Wb()),2&t){var a=s.jc(2);s.Eb(1),s.rc("ngForOf",a.custOtherDoc_array)}}function sc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",31),s.Xb(1,"div",32),s.Xb(2,"div",33),s.Tc(3,"3"),s.Wb(),s.Xb(4,"div",34),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",62),s.Xb(7,"div",54),s.Xb(8,"div",55),s.Xb(9,"div",38),s.Xb(10,"h2",39),s.Tc(11,"Proof Of Identity"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",40),s.fc("click",function(){return s.Hc(a),s.jc().editProofOfIdentity()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",41),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div",63),s.Xb(18,"div",57),s.Rc(19,rc,2,0,"small",64),s.Rc(20,cc,2,1,"div",1),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(6),s.rc("ngIf",null==n.custOtherDoc_array),s.Eb(1),s.rc("ngIf",null!=n.custOtherDoc_array&&(null==n.custOtherDoc_array?null:n.custOtherDoc_array.length)>0)}}function lc(t,e){if(1&t&&(s.Xb(0,"div",77),s.Xb(1,"mat-hint",50),s.Tc(2," Other Employer name* "),s.Wb(),s.Xb(3,"mat-card",51),s.Tc(4),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.Vc(" ",a.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName," ")}}function bc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",31),s.Xb(1,"div",32),s.Xb(2,"div",33),s.Tc(3,"4"),s.Wb(),s.Xb(4,"div",34),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",71),s.Xb(7,"div",54),s.Xb(8,"div",55),s.Xb(9,"div",38),s.Xb(10,"h2",39),s.Tc(11,"Additional Information"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",40),s.fc("click",function(){return s.Hc(a),s.jc().editAdditionalInfo()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",41),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div",63),s.Xb(18,"div",46),s.Xb(19,"div",72),s.Xb(20,"div",42),s.Xb(21,"div",58),s.Xb(22,"h2",59),s.Tc(23,"Employment Information "),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",42),s.Xb(25,"div",49),s.Xb(26,"mat-hint",50),s.Tc(27," Employment Type* "),s.Wb(),s.Xb(28,"mat-card",51),s.Xb(29,"div"),s.Tc(30),s.Wb(),s.Wb(),s.Wb(),s.Xb(31,"div",49),s.Xb(32,"mat-hint",50),s.Tc(33," Employer Name* "),s.Wb(),s.Xb(34,"mat-card",51),s.Xb(35,"div"),s.Tc(36),s.Wb(),s.Wb(),s.Wb(),s.Rc(37,lc,5,1,"div",73),s.Xb(38,"div",49),s.Xb(39,"mat-hint",50),s.Tc(40," Salary* "),s.Wb(),s.Xb(41,"mat-card",51),s.Xb(42,"div"),s.Tc(43),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Tc(44,"\xa0\xa0\xa0\xa0 "),s.Xb(45,"div",74),s.Xb(46,"div",42),s.Xb(47,"div",58),s.Xb(48,"h2",59),s.Tc(49,"KYC Information"),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",42),s.Xb(51,"div",60),s.Xb(52,"mat-hint",50),s.Tc(53," KYC Reference* "),s.Wb(),s.Xb(54,"mat-card",51),s.Xb(55,"div"),s.Tc(56),s.Wb(),s.Wb(),s.Wb(),s.Xb(57,"div",60),s.Xb(58,"mat-hint",50),s.Tc(59," KYC Status* "),s.Wb(),s.Xb(60,"mat-card",75),s.Xb(61,"div",76),s.Tc(62),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(17),s.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.employmentType," "),s.Eb(6),s.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.employerName," "),s.Eb(1),s.rc("ngIf",n.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName),s.Eb(6),s.Vc("",n.dataResponse.dataResp.customerAdditionalInfo.salary," "),s.Eb(13),s.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.kycReference," "),s.Eb(6),s.Vc(" ",n.kycStatus," ")}}function uc(t,e){1&t&&(s.Xb(0,"small",65),s.Tc(1,"No Signatures Available "),s.Wb())}function dc(t,e){1&t&&(s.Xb(0,"div"),s.Sb(1,"img",85),s.Wb()),2&t&&(s.Eb(1),s.rc("src","assets/images/no-image.jpg",s.Jc))}function mc(t,e){if(1&t&&s.Sb(0,"img",86),2&t){var a=s.jc().$implicit;s.rc("src",a.fileUrl,s.Jc)}}function fc(t,e){if(1&t&&(s.Xb(0,"div",42),s.Xb(1,"div"),s.Tc(2),s.Wb(),s.Xb(3,"div",82),s.Rc(4,dc,2,1,"div",83),s.Rc(5,mc,1,1,"ng-template",null,84,s.Sc),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=s.Dc(6);s.Eb(2),s.Vc(" ",a.signatureType," "),s.Eb(2),s.rc("ngIf",null==a.fileUrl)("ngIfElse",n)}}function pc(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div"),s.Xb(2,"div"),s.Xb(3,"div"),s.Rc(4,fc,7,3,"div",81),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Eb(4),s.rc("ngForOf",a.signatureDetails_array)}}function hc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",31),s.Xb(1,"div",32),s.Xb(2,"div",33),s.Tc(3,"5"),s.Wb(),s.Xb(4,"div",34),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",71),s.Xb(7,"div",54),s.Xb(8,"div",55),s.Xb(9,"div",38),s.Xb(10,"h2",39),s.Tc(11,"Mandate Information"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",40),s.fc("click",function(){return s.Hc(a),s.jc().editMandateInfo()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",41),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div",63),s.Xb(18,"div",46),s.Xb(19,"div",72),s.Sb(20,"div",42),s.Xb(21,"div",42),s.Xb(22,"div",49),s.Xb(23,"mat-hint",50),s.Tc(24," No of Signatures* "),s.Wb(),s.Xb(25,"mat-card",51),s.Xb(26,"div"),s.Tc(27),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Tc(28,"\xa0\xa0\xa0\xa0 "),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"div",63),s.Xb(30,"div",78),s.Xb(31,"div",79),s.Xb(32,"div",80),s.Xb(33,"h2",59),s.Tc(34,"Signatures"),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div"),s.Rc(36,uc,2,0,"small",64),s.Rc(37,pc,5,1,"div",1),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(14),s.Vc(" ",n.noOFSigns," "),s.Eb(9),s.rc("ngIf",null==n.signatureDetails_array),s.Eb(1),s.rc("ngIf",null!=n.signatureDetails_array&&(null==n.signatureDetails_array?null:n.signatureDetails_array.length)>0)}}var gc=function(t,e){return{disabledbtn:t,rejectbtn:e}},vc=function(t,e){return{disabledbtn:t,approvebtn:e}};function yc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",87),s.Xb(2,"div"),s.Xb(3,"button",88),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.updateApplicationStatus(t.dataResponse,"REJECTED")}),s.Tc(4,"Reject"),s.Wb(),s.Wb(),s.Xb(5,"div"),s.Xb(6,"button",88),s.fc("click",function(){s.Hc(a);var t=s.jc();return t.updateApplicationStatus(t.dataResponse,"APPROVED")}),s.Tc(7,"Approve"),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(3),s.rc("hidden",n.rejectedStatus)("ngClass",s.yc(4,gc,n.rejectedStatus,!n.rejectedStatus)),s.Eb(3),s.rc("hidden",n.approvedStatus)("ngClass",s.yc(7,vc,n.approvedStatus,!n.approvedStatus))}}var Wc,Xc=((Wc=function(){function t(e,n,o,r,i,c,s,l,b,u){a(this,t),this.tasSumService=e,this.cdr=n,this.router=o,this.apiService=r,this.ls=i,this.dialogRef=c,this.dataResponse=s,this.sanitizer=l,this.snack=b,this.dialog=u,this.selectedIndex=0,this.addNewProof=!1,this.arrayPrefix=[],this.arrayGender=[],this.arrayMaritalStatus=[],this.arrayCountry=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayEmploymentType=[],this.arrayEmployerName=[],this.otherDocumentArray=[],this.proofDocumentArray=[],this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"]}return o(t,[{key:"ngOnInit",value:function(){var t=this;setTimeout(function(){t.loading=!0,console.log("dataResponse.dataResp.customerId",t.dataResponse.dataResp.customerId),console.log("dataResponse.dataResp.accountId",t.dataResponse.dataResp.accountId),t.customerId=t.dataResponse.dataResp.customerId,t.ls.setItem("customerId",t.customerId),t.getCustomerDocumentsDetails(t.customerId),console.log(t.customerId),t.phoneNum=t.dataResponse.dataResp.phoneNumber,t.emailID=t.dataResponse.dataResp.primaryEmailAdress,console.log("Dataas",t.dataResponse,t.phoneNum,t.emailID),t.customerColorCode=localStorage.getItem("CustomerColorCode"),t.imageUrl=t.dataResponse.dataResp.profileImage,t.status=t.dataResponse.dataResp.custStatus,t.errorStatus=t.dataResponse.dataResp.custStatus,t.userAddress_array=t.dataResponse.dataResp.userAddress,t.custIdProofs_array=t.dataResponse.dataResp.custIdProofs,console.log("result::",t.custIdProofs_array),"REJECTED"===t.status?(t.rejectedStatus=!0,t.approvedStatus=!0,t.editScreen=!1):"INITIATED"===t.status?(t.rejectedStatus=!1,t.approvedStatus=!1,t.editScreen=!1):"APPROVED"===t.status?(t.rejectedStatus=!0,t.approvedStatus=!0,t.editScreen=!0):"UNDER_PROCESS"===t.status&&(t.rejectedStatus=!1,t.approvedStatus=!0,t.editScreen=!1),t.getProfileImage(t.dataResponse.dataResp.customerId),t.fetchSignatureDetails(t.dataResponse.dataResp.customerId)},5e3),"NULL"!==this.dataResponse.dataResp.customerAdditionalInfo.kycStatus&&(this.kycStatus=this.dataResponse.dataResp.customerAdditionalInfo.kycStatus)}},{key:"goToCustOnboarding",value:function(){console.log("Navigating to edit screen"),this.apiService.updateKycStatusByCustId(this.dataResponse.dataResp.customerId,"","UNDER_PROCESS").subscribe(function(t){}),this.router.navigateByUrl("/others/newCustomerOnboarding"),console.log(this.dataResponse);var t=this.dataResponse.dataResp.kycReference.split("KYC_");console.log(t[1]),this.ls.setItem("EDIT-KYCDETAILS",t[1]),console.log(this.ls.getItem("EDIT-KYCDETAILS")),this.dialogRef.close({message:"Confirm"})}},{key:"getCustomerDocumentsDetails",value:function(t){var e=this;this.apiService.getCustomerAllDocuments(t,[6,7,8]).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName,console.log("custOtherDoc_array::",e.custOtherDoc_array))})}},{key:"updateApplicationStatus",value:function(t,e,a){var n=this;t.dataResp.customerAdditionalInfo.kycStatus=e,this.statusUpdate=e,this.apiService.updateKycStatusByCustId(t.dataResp.customerId,"",e).subscribe(function(t){null!=t&&(n.cdr.markForCheck(),n.cdr.detectChanges(),1!=a&&n.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),n.snack.open(""+e,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},function(t){console.log("error resp :: ",t),n.errorStatus=e,n.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(t){t.recordStatus=this.statusUpdate,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){null!=t.profileImage&&(e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},function(t){})}},{key:"fetchSignatureDetails",value:function(t){var e=this;console.log("inside fetchSignatureDetails method"),this.apiService.getSignatureDocuments(t).subscribe(function(t){console.log(t),console.log(t.length),e.noOFSigns=t.length,e.signatureDetails_array=t},function(t){console.log(t)})}},{key:"openEditScreen",value:function(t,e){var a=this;this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){console.log(t),a.status=t.status,"INITIATED"==t.status&&(a.updateApplicationStatus(a.dataResponse,"INITIATED",!0),t.screen||Object.assign(e,t.resp),"documentUpload"==t.screen&&a.getCustomerDocumentsDetails(a.customerId),"signatureUpload"==t.screen&&a.fetchSignatureDetails(a.customerId)),a.cdr.markForCheck(),a.cdr.detectChanges()})}},{key:"editPrimaryInfo",value:function(){this.openEditScreen(si,this.dataResponse.dataResp)}},{key:"editContactInfo",value:function(){this.openEditScreen(xi,this.userAddress_array)}},{key:"editProofOfIdentity",value:function(){this.openEditScreen(Oi,this.proofDoc_array)}},{key:"editAdditionalInfo",value:function(){this.openEditScreen(Ui,this.dataResponse.dataResp.customerAdditionalInfo)}},{key:"editMandateInfo",value:function(){this.openEditScreen(Ki,this.signatureDetails_array)}}]),t}()).\u0275fac=function(t){return new(t||Wc)(s.Rb(h.a),s.Rb(s.h),s.Rb(He.h),s.Rb(l.b),s.Rb(d.a),s.Rb(m.g),s.Rb(m.a),s.Rb(io.b),s.Rb(y.a),s.Rb(m.b))},Wc.\u0275cmp=s.Lb({type:Wc,selectors:[["app-cust-on-boarding-approver"]],viewQuery:function(t,e){var a;1&t&&s.ad($i,!0),2&t&&s.Cc(a=s.gc())&&(e.ncForm=a.first)},inputs:{initiatedArr:"initiatedArr"},decls:55,vars:18,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Primary Information",2,"border-radius","0px","width","800px"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width",2,"padding","1rem 1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[2,"font-size","18px"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px","width","750px"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"padding-bottom","1rem"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["label","Contact Information",2,"border-radius","0px","width","800px"],[1,"full-width",2,"padding","1rem"],[2,"padding-bottom","1rem"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxFlex","40%","fxFlex.xs","50%",2,"padding","0.5rem 0.5rem"],[2,"font-size","16px"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["label","Proof Of Identity",2,"border-radius","0px","width","800px"],[2,"padding","1rem 0"],["style","color: grey;",4,"ngIf"],[2,"color","grey"],["class","full-width",4,"ngFor","ngForOf"],[2,"text-align","center"],["required","","alt","",1,"formImg2",3,"src"],[2,"margin-top","35px"],["download","",2,"color","#4A56E2","text-decoration","underline",3,"href"],["label","Other Information",2,"border-radius","0px","width","800px"],["fxFlex","59%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","39%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],[1,"mat1",2,"width","98%"],[1,"mat11"],["fxFlex","40%","fxFlex.xs","100%"],["fxFlex","100%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxLayout","row","fxLayoutAlign","space-between center",2,"padding","1rem 0"],["fxFlex","15%","fxFlex.xs","50%"],["fxLayout","row wrap","style","padding: 0.5rem 0;","class","full-width",4,"ngFor","ngForOf"],[1,"imgCard"],[4,"ngIf","ngIfElse"],["showAvatar",""],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",3,"hidden","ngClass","click"]],template:function(t,e){1&t&&(s.Xb(0,"form"),s.Xb(1,"div",0),s.Rc(2,Hi,1,0,"mat-spinner",1),s.Wb(),s.Xb(3,"div",2),s.Xb(4,"div",3),s.Xb(5,"div",4),s.Xb(6,"div"),s.Xb(7,"mat-icon",5),s.fc("click",function(){return e.close(e.dataResponse)}),s.Tc(8," close"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div",6),s.Xb(10,"div",7),s.Xb(11,"div",8),s.Xb(12,"div",9),s.Rc(13,Yi,2,1,"span",10),s.Wb(),s.Xb(14,"div",11),s.Xb(15,"div",12),s.Sb(16,"img",13),s.Tc(17,"\xa0 "),s.Xb(18,"div"),s.Xb(19,"span",14),s.Tc(20),s.Wb(),s.Sb(21,"br"),s.Xb(22,"span",15),s.Tc(23),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",16),s.Xb(25,"mat-icon",17),s.Tc(26,"phone "),s.Wb(),s.Tc(27,"\xa0\xa0\xa0 "),s.Xb(28,"span",18),s.Tc(29),s.Wb(),s.Wb(),s.Xb(30,"div",16),s.Xb(31,"mat-icon",17),s.Tc(32," mail_outline"),s.Wb(),s.Tc(33,"\xa0\xa0 \xa0 "),s.Xb(34,"span",19),s.Tc(35),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",20),s.Xb(37,"div",21),s.Rc(38,Zi,7,16,"div",22),s.Rc(39,tc,2,1,"div",23),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Sb(41,"br"),s.Sb(42,"br"),s.Sb(43,"br"),s.Xb(44,"div",24),s.Xb(45,"h2"),s.Tc(46),s.Wb(),s.Wb(),s.Rc(47,ac,100,14,"div",25),s.Rc(48,oc,18,2,"div",25),s.Sb(49,"br"),s.Rc(50,sc,21,3,"div",25),s.Rc(51,bc,63,7,"div",25),s.Rc(52,hc,38,4,"div",25),s.Rc(53,yc,8,10,"div",1),s.Sb(54,"br"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(2),s.rc("ngIf",e.loading),s.Eb(11),s.rc("ngForOf",e.nameCreater),s.Eb(7),s.Vc("",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.createdBy," "),s.Eb(3),s.Vc("EID #",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.creatorId,""),s.Eb(6),s.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.mobile," "),s.Eb(6),s.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.email," "),s.Eb(3),s.rc("ngIf","not_available"==e.imageUrl),s.Eb(1),s.rc("ngIf","not_available"!=e.imageUrl),s.Eb(7),s.Yc("",e.dataResponse.dataResp.prefix,"\xa0",e.dataResponse.dataResp.firstName,"\xa0",e.dataResponse.dataResp.middleName,"\xa0",e.dataResponse.dataResp.lastName," "),s.Eb(1),s.rc("ngIf",!e.loading),s.Eb(1),s.rc("ngIf",!e.loading),s.Eb(2),s.rc("ngIf",!e.loading),s.Eb(1),s.rc("ngIf",!e.loading),s.Eb(1),s.rc("ngIf",!e.loading),s.Eb(1),s.rc("ngIf",!e.loading))},directives:[g.C,g.s,g.t,W.d,i.n,W.e,X.a,i.m,I.c,O.b,W.b,I.a,Ba.a,T.f,W.f,i.l,co.a],pipes:[i.v,i.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.editbtn{color:#0e7cc5;cursor:pointer}.num{background-color:#fff;border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;margin-top:15px}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:5%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:1px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 2.7rem;color:#fff}.mat1{height:3.3rem}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}"],encapsulation:2}),Wc),Tc=function(t,e,a,n){return new(a||(a=Promise))(function(o,r){function i(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(i,c)}s((n=n.apply(t,e||[])).next())})};function Ic(t,e){1&t&&s.Sb(0,"mat-spinner",21),2&t&&s.rc("diameter",15)}function Ec(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",22),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"mat-icon"),s.Tc(2,"close"),s.Wb(),s.Wb()}}function Cc(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",37),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function xc(t,e){if(1&t&&s.Sb(0,"img",38),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Ac(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToCustOnBoardingSummary(t,"INITATED",o.getRandomColor(n+3))}),s.Xb(1,"div",24),s.Xb(2,"mat-icon",25),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",26),s.Xb(9,"div",27),s.Rc(10,Cc,2,1,"div",28),s.Rc(11,xc,1,1,"ng-template",null,29,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",30),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"form",31),s.Xb(18,"div",32),s.Xb(19,"span"),s.Tc(20,"Kyc Reference "),s.Wb(),s.Xb(21,"span"),s.Tc(22,"Customer Status"),s.Wb(),s.Wb(),s.Xb(23,"div",33),s.Xb(24,"span"),s.Tc(25),s.Wb(),s.Xb(26,"span",34),s.Tc(27),s.Wb(),s.Wb(),s.Sb(28,"br"),s.Xb(29,"div",35),s.Xb(30,"span"),s.Tc(31,"Mobile Number"),s.Wb(),s.Xb(32,"span"),s.Tc(33,"Email Id"),s.Wb(),s.Wb(),s.Xb(34,"div",36),s.Xb(35,"span"),s.Tc(36),s.Wb(),s.Xb(37,"span"),s.Tc(38),s.Wb(),s.Wb(),s.Sb(39,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(2),s.Vc("#",n.customerId,""),s.Eb(9),s.Uc(n.kycReference),s.Eb(2),s.Uc(n.custStatus),s.Eb(9),s.Uc(n.phoneNumber),s.Eb(2),s.Uc(n.primaryEmailAdress)}}function Rc(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",37),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Oc(t,e){if(1&t&&s.Sb(0,"img",38),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Dc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToCustOnBoardingSummary(t,"UNDER_PROCESS",o.getRandomColor(n+6))}),s.Xb(1,"div",24),s.Xb(2,"mat-icon",39),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",26),s.Xb(9,"div",27),s.Rc(10,Rc,2,1,"div",28),s.Rc(11,Oc,1,1,"ng-template",null,29,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",30),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"form",31),s.Xb(18,"div",32),s.Xb(19,"span"),s.Tc(20,"Kyc Reference "),s.Wb(),s.Xb(21,"span"),s.Tc(22,"Customer Status"),s.Wb(),s.Wb(),s.Xb(23,"div",33),s.Xb(24,"span"),s.Tc(25),s.Wb(),s.Xb(26,"span"),s.Tc(27),s.Wb(),s.Wb(),s.Sb(28,"br"),s.Xb(29,"div",35),s.Xb(30,"span"),s.Tc(31,"Mobile Number"),s.Wb(),s.Xb(32,"span"),s.Tc(33,"Email Id"),s.Wb(),s.Wb(),s.Xb(34,"div",36),s.Xb(35,"span"),s.Tc(36),s.Wb(),s.Xb(37,"span"),s.Tc(38),s.Wb(),s.Wb(),s.Sb(39,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(2),s.Vc("#",n.customerId,""),s.Eb(9),s.Uc(n.kycReference),s.Eb(2),s.Uc(n.custStatus),s.Eb(9),s.Uc(n.phoneNumber),s.Eb(2),s.Uc(n.primaryEmailAdress)}}function kc(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",37),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Sc(t,e){if(1&t&&s.Sb(0,"img",38),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Nc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToCustOnBoardingSummary(t,"APPROVED",o.getRandomColor(n+12))}),s.Xb(1,"div",24),s.Xb(2,"mat-icon",40),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",26),s.Xb(9,"div",27),s.Rc(10,kc,2,1,"div",28),s.Rc(11,Sc,1,1,"ng-template",null,29,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",30),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"form",31),s.Xb(18,"div",32),s.Xb(19,"span"),s.Tc(20,"Kyc Reference "),s.Wb(),s.Xb(21,"span"),s.Tc(22,"Customer Status"),s.Wb(),s.Wb(),s.Xb(23,"div",33),s.Xb(24,"span"),s.Tc(25),s.Wb(),s.Xb(26,"span"),s.Tc(27),s.Wb(),s.Wb(),s.Sb(28,"br"),s.Xb(29,"div",35),s.Xb(30,"span"),s.Tc(31,"Mobile Number"),s.Wb(),s.Xb(32,"span"),s.Tc(33,"Email Id"),s.Wb(),s.Wb(),s.Xb(34,"div",36),s.Xb(35,"span"),s.Tc(36),s.Wb(),s.Xb(37,"span"),s.Tc(38),s.Wb(),s.Wb(),s.Sb(39,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(2),s.Vc("#",n.customerId,""),s.Eb(9),s.Uc(n.kycReference),s.Eb(2),s.Uc(n.custStatus),s.Eb(9),s.Uc(n.phoneNumber),s.Eb(2),s.Uc(n.primaryEmailAdress)}}function Pc(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",37),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Fc(t,e){if(1&t&&s.Sb(0,"img",38),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Lc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",23),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToCustOnBoardingSummary(t,"REJECTED",o.getRandomColor(n+15))}),s.Xb(1,"div",24),s.Xb(2,"mat-icon",41),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",26),s.Xb(9,"div",27),s.Rc(10,Pc,2,1,"div",28),s.Rc(11,Fc,1,1,"ng-template",null,29,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",30),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"form",31),s.Xb(18,"div",32),s.Xb(19,"span"),s.Tc(20,"Kyc Reference "),s.Wb(),s.Xb(21,"span"),s.Tc(22,"Customer Status"),s.Wb(),s.Wb(),s.Xb(23,"div",33),s.Xb(24,"span"),s.Tc(25),s.Wb(),s.Xb(26,"span"),s.Tc(27),s.Wb(),s.Wb(),s.Sb(28,"br"),s.Xb(29,"div",35),s.Xb(30,"span"),s.Tc(31,"Mobile Number"),s.Wb(),s.Xb(32,"span"),s.Tc(33,"Email Id"),s.Wb(),s.Wb(),s.Xb(34,"div",36),s.Xb(35,"span"),s.Tc(36),s.Wb(),s.Xb(37,"span"),s.Tc(38),s.Wb(),s.Wb(),s.Sb(39,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(2),s.Vc("#",n.customerId,""),s.Eb(9),s.Uc(n.kycReference),s.Eb(2),s.Uc(n.custStatus),s.Eb(9),s.Uc(n.phoneNumber),s.Eb(2),s.Uc(n.primaryEmailAdress)}}var wc,Uc=((wc=function(){function t(e,n,o,r,i,c,l,u){a(this,t),this.dialog=e,this.ls=n,this.tasSumService=o,this.cdr=r,this.apiService=i,this.snack=c,this.sanitizer=l,this.router=u,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.arr=["INITIATEDArr","UNDER_PROCESSArr","APPROVEDArr","REJECTEDArr"],this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDCount=0,this.UNDER_PROCESSCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.INITIATEDImage=[],this.UNDER_PROCESSImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new s.o,this._searchSubject=new b.a,this.listOfOptions=[{label:"Customer ID ",value:"customerId",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this._setSearchSubscription()}return o(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t=this;this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.getDataOnLoad(),this.listOfOptions.filter(function(e){e.checked&&(t.radioButtonSelected=e.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}},{key:"radioChange",value:function(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(u.a)(1e3)).subscribe(function(e){if(t.setValue.emit(e),console.log("search value :: ",e),console.log("search text :: ",t.searchText),null==e||""==e||""==e)return t.noDataFound=!1,t.searchable=!1,void t.getDataOnLoad();t.searchCustomerId(e)})}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"getDataOnLoad",value:function(){return Tc(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerByStatus(this.statusArr[e],0,0);case 1:case"end":return t.stop()}},t,this)}))}},{key:"fetchCustomerByStatus",value:function(t,e,a){var n=this;this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"GoToCorporate",value:function(){var t=this;setTimeout(function(){t.router.navigateByUrl("tasks/corporate-task-summary")},300)}},{key:"updateStatusResponse",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr=e.customerInfoList,this.INITIATEDTotalPages=e.totalPages,this.INITIATEDTotalRecords=e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=e.customerInfoList,this.UNDER_PROCESSTotalPages=e.totalPages,this.UNDER_PROCESSTotalRecords=e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=e.customerInfoList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=e.customerInfoList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),n.updateDataOnScroll(t,e.customerInfoList)}):console.log("No scroll requied")}},{key:"goToCustOnBoardingSummary",value:function(t,e,a){var n=this;localStorage.setItem("CustomerColorCode",a),this.dialog.open(Xc,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(function(t){console.log("dialog closed:: ",t),"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"INITIATED"!==t.recordStatus&&"UNDER_PROCESS"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus||n.getDataOnLoad()})}},{key:"searchCustomerId",value:function(t){var e,a,n=this;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("cifId"),e=this.searchText.trim(),this.apiService.getKycDetails1(e).subscribe(function(t){console.log(t),null!=t?(a="cifNumber="+e,console.log("cif",a)):(console.log("not a cif"),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(function(){n.getCustomerData(a)},1e3),this.isScroll=!1}},{key:"getCustomerData",value:function(t){var e=this;this.loading=!0,console.log("params::",t);for(var a=0;a<this.statusArr.length;a++){var n=this.statusArr[a];"INITIATED"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.INITIATEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.INITIATEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.INITIATEDArr.push(null==t?void 0:t.customerInfoList[a])}):"UNDER_PROCESS"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.UNDER_PROCESSTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.UNDER_PROCESSArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.UNDER_PROCESSArr.push(t.customerInfoList[a])}):"APPROVED"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.APPROVEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.APPROVEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.APPROVEDArr.push(t.customerInfoList[a])}):"REJECTED"==n&&this.apiService.getKycDetails(t,n).subscribe(function(t){e.REJECTEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.REJECTEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.REJECTEDArr.push(t.customerInfoList[a])})}}},{key:"resetSearchData",value:function(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){if(console.log(t),console.log(t.profileImage),e.searchable=!1,null!=t.profileImage){var a="data:image/jpeg;base64,"+t.profileImage.fileData;e.searchable=!0,e.image=e.sanitizer.bypassSecurityTrustUrl(a),console.log(e.searchable,"Searchable")}},function(t){console.log(t)})}},{key:"getCustomerIdData",value:function(t){var e=this;console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(function(t){if(e.cdr.markForCheck(),e.cdr.detectChanges(),null!=t){var a=t[0].customerAdditionalInfo.kycStatus+"Arr";e[a].splice(0,0,t[0]),e[a]=e[a].slice(),console.log("resp value :: ",e[a])}else e.noDataFound=!0})}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}},{key:"updateDataOnScroll",value:function(t,e){return Tc(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,o,r,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"INITIATED"==t?(n=Yt.unionBy(this.INITIATEDArr,e,"customerId"),this.INITIATEDArr=n):"UNDER_PROCESS"==t?(o=Yt.unionBy(this.UNDER_PROCESSArr,e,"customerId"),this.UNDER_PROCESSArr=o):"APPROVED"==t?(r=Yt.unionBy(this.APPROVEDArr,e,"customerId"),this.APPROVEDArr=r):"REJECTED"==t&&(i=Yt.unionBy(this.REJECTEDArr,e,"customerId"),this.REJECTEDArr=i),this.cdr.markForCheck();case 2:case"end":return a.stop()}},a,this)}))}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||wc)(s.Rb(m.b),s.Rb(d.a),s.Rb(h.a),s.Rb(s.h),s.Rb(l.b),s.Rb(y.a),s.Rb(io.b),s.Rb(He.h))},wc.\u0275cmp=s.Lb({type:wc,selectors:[["app-cust-on-boarding-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:66,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],[1,"slideTogglepadding",3,"change"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryName"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchbox"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search Customer_id or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],[1,"more_vert_icon"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"cardBox",3,"click"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"naming"],[1,"head1"],["fxLayout","row","fxLayoutGap","40px",1,"col1"],["fxLayout","row","fxLayoutGap","58px",1,"col2"],[1,"fieldName"],["fxLayout","row","fxLayoutGap","40px",1,"col3"],["fxLayout","row","fxLayoutGap","44px",1,"col4"],[3,"name"],["alt","",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMark1"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-red","bookMark","bookMark3"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"mat-slide-toggle",2),s.fc("change",function(){return e.GoToCorporate()}),s.Tc(5,"Switch to Corporate Onboarding"),s.Wb(),s.Xb(6,"div",3),s.Xb(7,"div",4),s.Xb(8,"span",5),s.Tc(9," Individual Customer Onboarding Task Summary "),s.Wb(),s.Wb(),s.Xb(10,"div",6),s.Xb(11,"mat-form-field",7),s.Xb(12,"mat-label"),s.Tc(13,"Search"),s.Wb(),s.Xb(14,"div",8),s.Xb(15,"input",9),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Rc(16,Ic,1,1,"mat-spinner",10),s.Wb(),s.Xb(17,"mat-icon",11),s.Tc(18,"search"),s.Wb(),s.Rc(19,Ec,3,0,"button",12),s.Xb(20,"mat-hint"),s.Tc(21,"Search ID or Name"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div",13),s.Xb(23,"div",14),s.Xb(24,"mat-card",15),s.Xb(25,"div",16),s.Xb(26,"span",17),s.Xb(27,"h2",18),s.Tc(28),s.Wb(),s.Wb(),s.Xb(29,"span",19),s.Xb(30,"mat-icon"),s.Tc(31,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(32,"div"),s.Rc(33,Ac,40,14,"div",20),s.Wb(),s.Sb(34,"br"),s.Wb(),s.Xb(35,"mat-card",15),s.Xb(36,"div",16),s.Xb(37,"span",17),s.Xb(38,"h2",18),s.Tc(39),s.Wb(),s.Wb(),s.Xb(40,"span",19),s.Xb(41,"mat-icon"),s.Tc(42,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(43,"div"),s.Rc(44,Dc,40,14,"div",20),s.Wb(),s.Wb(),s.Xb(45,"mat-card",15),s.Xb(46,"div",16),s.Xb(47,"span",17),s.Xb(48,"h2",18),s.Tc(49),s.Wb(),s.Wb(),s.Xb(50,"span",19),s.Xb(51,"mat-icon"),s.Tc(52,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(53,"div"),s.Rc(54,Nc,40,14,"div",20),s.Wb(),s.Sb(55,"br"),s.Wb(),s.Xb(56,"mat-card",15),s.Xb(57,"div",16),s.Xb(58,"span",17),s.Xb(59,"h2",18),s.Tc(60),s.Wb(),s.Wb(),s.Xb(61,"span",19),s.Xb(62,"mat-icon"),s.Tc(63,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(64,"div"),s.Rc(65,Lc,40,14,"div",20),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(14),s.rc("ngModel",e.searchText),s.Eb(1),s.rc("ngIf",e.loading),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(9),s.Wc("Pending for approval (",e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.INITIATEDArr),s.Eb(6),s.Wc("Ongoing (",e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.UNDER_PROCESSArr),s.Eb(5),s.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.APPROVEDArr),s.Eb(6),s.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.REJECTEDArr))},directives:[tr.a,A.a,W.e,W.d,W.f,W.b,T.c,T.g,E.b,g.c,g.r,g.u,i.n,X.a,T.i,T.f,I.a,i.m,O.b,R.b,T.j,I.e,I.c,I.h,I.g,g.C,g.s,g.t,rr],pipes:[Er.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.searchbox[_ngcontent-%COMP%]{padding-right:5%}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;text-align:left;font:normal normal medium 9px/11px Montserrat;letter-spacing:0;color:#0f0f0f;opacity:1}.cardBox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:40vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}.naming[_ngcontent-%COMP%]{font-size:12px;overflow-wrap:anywhere}"]}),wc);function _c(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Company Name is Required! "),s.Wb())}function Mc(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Gc(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please select Category! "),s.Wb())}function Vc(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Bc(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please select Country! "),s.Wb())}var jc,zc=((jc=function(){function t(e,n,o,r,i,c,s){a(this,t),this.basicInfo=e,this.dialogRef=n,this.apiService=o,this.ls=r,this.formBuilder=i,this.snack=c,this.corporateService=s,this.countryArr=[],this.categoryArr=["Privileged","Un Privileged"]}return o(t,[{key:"ngOnInit",value:function(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.basicInfo),this.getCountryName("country"),this.basicInfo&&this.buildBasicForm(this.basicInfo)}},{key:"buildBasicForm",value:function(t){this.corporateInfoUpdateForm=this.formBuilder.group({corporateId:[t.corporateId],companyName:[t?t.companyName:"",[g.A.required]],category:[t?t.category:"",[g.A.required]],country:[t?t.country:"",[g.A.required]]})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.countryArr.push(t[a].countryName)})}},{key:"onSubmit",value:function(){var t=this;this.corporateService.saveOrUpdateCorporateAccountInfo(this.corporateInfoUpdateForm.value).subscribe(function(e){null!=e?(t.snack.open("Basic Information Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"INITIATED",resp:e})):t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||jc)(s.Rb(m.a),s.Rb(m.g),s.Rb(l.b),s.Rb(d.a),s.Rb(g.f),s.Rb(y.a),s.Rb(Gi.a))},jc.\u0275cmp=s.Lb({type:jc,selectors:[["app-update-corporate-basic-info"]],decls:42,vars:7,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","20%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","corporateId","formControlName","corporateId","placeholder","Corporate Id","readonly","true"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["matInput","","name","companyName","formControlName","companyName","placeholder","Company Name"],[4,"ngIf"],["formControlName","category","id","forCategory","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","country","id","forCountry","required",""],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Sb(3,"h1",2),s.Xb(4,"mat-dialog-content"),s.Xb(5,"form",3),s.Xb(6,"div",4),s.Xb(7,"div",5),s.Xb(8,"mat-hint",6),s.Tc(9,"CoporateId"),s.Wb(),s.Xb(10,"mat-card",7),s.Sb(11,"input",8),s.Wb(),s.Wb(),s.Xb(12,"div",9),s.Xb(13,"mat-hint",6),s.Tc(14,"Company Name* "),s.Wb(),s.Xb(15,"mat-card",7),s.Sb(16,"input",10),s.Wb(),s.Rc(17,_c,2,0,"mat-error",11),s.Wb(),s.Xb(18,"div",9),s.Xb(19,"mat-hint",6),s.Tc(20,"Category*"),s.Wb(),s.Xb(21,"mat-card",7),s.Xb(22,"mat-select",12),s.Xb(23,"mat-option",13),s.Tc(24,"Select Category"),s.Wb(),s.Rc(25,Mc,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(26,Gc,2,0,"mat-error",11),s.Wb(),s.Xb(27,"div",9),s.Xb(28,"mat-hint",6),s.Tc(29,"Country*"),s.Wb(),s.Xb(30,"mat-card",7),s.Xb(31,"mat-select",15),s.Xb(32,"mat-option",13),s.Tc(33,"Select Country"),s.Wb(),s.Rc(34,Vc,2,2,"mat-option",14),s.Wb(),s.Wb(),s.Rc(35,Bc,2,0,"mat-error",11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",16),s.Xb(37,"button",17),s.fc("click",function(){return e.onSubmit()}),s.Tc(38,"Save"),s.Wb(),s.Tc(39," \xa0\xa0\xa0 "),s.Xb(40,"button",18),s.fc("click",function(){return e.close()}),s.Tc(41," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(5),s.rc("formGroup",e.corporateInfoUpdateForm),s.Eb(12),s.rc("ngIf",e.corporateInfoUpdateForm.get("companyName").touched&&!e.corporateInfoUpdateForm.get("companyName").valid),s.Eb(8),s.rc("ngForOf",e.categoryArr),s.Eb(1),s.rc("ngIf",e.corporateInfoUpdateForm.get("category").touched&&!e.corporateInfoUpdateForm.get("category").valid),s.Eb(8),s.rc("ngForOf",e.countryArr),s.Eb(1),s.rc("ngIf",e.corporateInfoUpdateForm.get("country").touched&&!e.corporateInfoUpdateForm.get("country").valid),s.Eb(2),s.rc("disabled",e.corporateInfoUpdateForm.invalid))},directives:[W.e,W.d,X.a,m.h,m.e,g.C,g.s,g.j,W.b,T.f,I.a,E.b,g.c,g.r,g.i,i.n,C.a,g.z,D.n,i.m,W.f,R.b,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),jc),qc=r("vrAh"),Jc=r("SqCe");function Kc(t,e){if(1&t&&(s.Xb(0,"mat-panel-title"),s.Tc(1),s.Wb()),2&t){var a=s.jc(2);s.Eb(1),s.Vc(" Create Director ",a.item," ")}}function $c(t,e){if(1&t&&(s.Xb(0,"mat-panel-title"),s.Xb(1,"mat-icon",58),s.Tc(2,"check_circle"),s.Wb(),s.Tc(3),s.Wb()),2&t){var a=s.jc(2);s.Eb(3),s.Vc(" \xa0 Director \xa0 ",a.item,". ")}}function Hc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card",29),s.Xb(1,"input",59),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb()}}function Yc(t,e){if(1&t&&(s.Xb(0,"div",72),s.Xb(1,"h3",73),s.Tc(2),s.kc(3,"uppercase"),s.kc(4,"slice"),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(2),s.Vc(" ",s.lc(3,1,s.nc(4,3,null==a?null:a.firstName,0,1))," ")}}function Zc(t,e){if(1&t&&(s.Xb(0,"div",74),s.Sb(1,"img",75),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("src",null==a?null:a.profileImage,s.Jc)}}function Qc(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-option",65),s.fc("click",function(){s.Hc(a);var t=e.$implicit;return s.jc(3).selectCif(t)}),s.Xb(1,"div",66),s.Xb(2,"div",67),s.Rc(3,Yc,5,7,"div",68),s.Rc(4,Zc,2,1,"div",69),s.Xb(5,"div",22),s.Xb(6,"h5",70),s.Tc(7),s.kc(8,"uppercase"),s.kc(9,"uppercase"),s.kc(10,"uppercase"),s.Wb(),s.Xb(11,"h6",71),s.Tc(12),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.rc("value",null==n?null:n.cifNumber),s.Eb(3),s.rc("ngIf","not_available"==(null==n?null:n.profileImage)),s.Eb(1),s.rc("ngIf","not_available"!=(null==n?null:n.profileImage)),s.Eb(3),s.Xc(" ",s.lc(8,7,null==n?null:n.firstName)," ",s.lc(9,9,null==n?null:n.middleName)," ",s.lc(10,11,null==n?null:n.lastName),""),s.Eb(5),s.Vc("#",null==n?null:n.cifNumber,"")}}function ts(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card",29),s.Xb(1,"input",60,61),s.fc("keyup",function(t){return s.Hc(a),s.jc(2).ngAfterViewInit(t.target.value)})("ngModelChange",function(t){return s.Hc(a),s.jc(2).updatedVal(t)}),s.Wb(),s.Xb(3,"mat-autocomplete",62,63),s.Rc(5,Qc,13,13,"mat-option",64),s.Wb(),s.Wb()}if(2&t){var n=s.Dc(4),o=s.jc(2);s.Eb(1),s.rc("matAutocomplete",n),s.Eb(4),s.rc("ngForOf",o.customerInfoList)}}function es(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"CIF Number is Required!"),s.Wb(),s.Wb())}function as(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ns(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Prefix!"),s.Wb(),s.Wb())}function os(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"First Name is Required!"),s.Wb(),s.Wb())}function rs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Last Name is Required!"),s.Wb(),s.Wb())}function is(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function cs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Gender!"),s.Wb(),s.Wb())}function ss(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0 Prefix and Gender does not match! "),s.Wb())}function ls(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Date Of Birth is Required!"),s.Wb(),s.Wb())}function bs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Place Of Birth is Required!!"),s.Wb(),s.Wb())}function us(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ds(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Residence Type!"),s.Wb(),s.Wb())}function ms(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function fs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Citizenship By!"),s.Wb(),s.Wb())}function ps(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function hs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Country Of Residence"),s.Wb(),s.Wb())}function gs(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function vs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select ID Type!"),s.Wb(),s.Wb())}function ys(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Unique Id Number is Required"),s.Wb(),s.Wb())}function Ws(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Valid Till!"),s.Wb(),s.Wb())}function Xs(t,e){if(1&t&&(s.Xb(0,"div",27),s.Sb(1,"mat-hint",6),s.Xb(2,"mat-card",29),s.Sb(3,"input",81),s.Sb(4,"mat-datepicker-toggle",38),s.Sb(5,"mat-datepicker",null,82),s.Wb(),s.Rc(7,Ws,3,0,"mat-error",18),s.Wb()),2&t){var a=s.Dc(6),n=s.jc().$implicit,o=s.jc(2);s.Eb(3),s.rc("min",o.minDate)("matDatepicker",a),s.Eb(1),s.rc("for",a),s.Eb(3),s.rc("ngIf",n.get("expiryDate").touched&&!n.get("expiryDate").valid)}}function Ts(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",77),s.Xb(1,"div",26),s.Xb(2,"div",27),s.Xb(3,"mat-hint",6),s.Tc(4,"Id Type"),s.Wb(),s.Xb(5,"mat-card",29),s.Xb(6,"mat-select",78),s.Xb(7,"mat-option",31),s.Tc(8,"select---"),s.Wb(),s.Rc(9,gs,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(10,vs,3,0,"mat-error",18),s.Wb(),s.Xb(11,"div",27),s.Xb(12,"mat-hint",6),s.Tc(13,"ID Number"),s.Wb(),s.Xb(14,"mat-card",29),s.Xb(15,"input",79),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(16,ys,3,0,"mat-error",18),s.Wb(),s.Rc(17,Xs,8,4,"div",80),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.jc(2);s.rc("formGroupName",o),s.Eb(9),s.rc("ngForOf",r.idTypeList),s.Eb(1),s.rc("ngIf",n.get("idType").touched&&!n.get("idType").valid),s.Eb(6),s.rc("ngIf",n.get("idNumber").touched&&!n.get("idNumber").valid),s.Eb(1),s.rc("ngIf","Passport"==n.get("idType").value||"DL"==n.get("idType").value)}}function Is(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Enter Valid Address Line 1"),s.Wb(),s.Wb())}function Es(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Enter Valid Address Line 2"),s.Wb(),s.Wb())}function Cs(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function xs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please select country"),s.Wb(),s.Wb())}function As(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.stateName),s.Eb(1),s.Vc(" ",a.stateName," ")}}function Rs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please select state"),s.Wb(),s.Wb())}function Os(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc(" ",a.value1," ")}}function Ds(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please select city"),s.Wb(),s.Wb())}function ks(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please enter Zip Code!(5-10 digits)"),s.Wb(),s.Wb())}function Ss(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please enter valid Zip Code!(5-10 digits)"),s.Wb(),s.Wb())}function Ns(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",83),s.Xb(1,"legend",48),s.Tc(2,"Communication Address"),s.Wb(),s.Sb(3,"hr"),s.Xb(4,"div",26),s.Xb(5,"div",27),s.Xb(6,"mat-hint",6),s.Tc(7,"Address Line 1*"),s.Wb(),s.Xb(8,"mat-card",29),s.Sb(9,"input",84),s.Wb(),s.Rc(10,Is,3,0,"mat-error",18),s.Wb(),s.Xb(11,"div",27),s.Xb(12,"mat-hint",6),s.Tc(13,"Address Line 2*"),s.Wb(),s.Xb(14,"mat-card",29),s.Sb(15,"input",85),s.Wb(),s.Rc(16,Es,3,0,"mat-error",18),s.Wb(),s.Xb(17,"div",27),s.Xb(18,"mat-hint",6),s.Tc(19,"Country*"),s.Wb(),s.Xb(20,"mat-card",29),s.Xb(21,"mat-select",86),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).getStateName(t.value)}),s.Xb(22,"mat-option",31),s.Tc(23,"select---"),s.Wb(),s.Rc(24,Cs,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(25,xs,3,0,"mat-error",18),s.Wb(),s.Xb(26,"div",27),s.Xb(27,"mat-hint",6),s.Tc(28,"State*"),s.Wb(),s.Xb(29,"mat-card",29),s.Xb(30,"mat-select",87),s.fc("selectionChange",function(t){return s.Hc(a),s.jc(2).getCityName(t.value)}),s.Xb(31,"mat-option",31),s.Tc(32,"select---"),s.Wb(),s.Rc(33,As,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(34,Rs,3,0,"mat-error",18),s.Wb(),s.Xb(35,"div",27),s.Xb(36,"mat-hint",6),s.Tc(37,"City*"),s.Wb(),s.Xb(38,"mat-card",29),s.Xb(39,"mat-select",88),s.Xb(40,"mat-option",31),s.Tc(41,"select---"),s.Wb(),s.Rc(42,Os,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(43,Ds,3,0,"mat-error",18),s.Wb(),s.Xb(44,"div",27),s.Xb(45,"mat-hint",6),s.Tc(46,"Zip Code*"),s.Wb(),s.Xb(47,"mat-card",29),s.Xb(48,"input",89),s.fc("keypress",function(t){return s.Hc(a),s.jc(2)._keyPress(t)})("keyup",function(t){return s.Hc(a),s.jc(2).isAllSameDigit(t)}),s.Wb(),s.Wb(),s.Rc(49,ks,3,0,"mat-error",18),s.Rc(50,Ss,3,0,"mat-error",18),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.jc(2);s.rc("formGroupName",o),s.Eb(10),s.rc("ngIf",n.get("address1").touched&&!n.get("address1").valid||n.get("address1").touched&&n.get("address1").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("address2").touched&&!n.get("address2").valid||n.get("address2").touched&&n.get("address2").hasError("pattern")),s.Eb(8),s.rc("ngForOf",r.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("country").touched&&!n.get("country").valid),s.Eb(8),s.rc("ngForOf",r.arrayState),s.Eb(1),s.rc("ngIf",n.get("state").touched&&!n.get("state").valid),s.Eb(8),s.rc("ngForOf",r.arrayCity),s.Eb(1),s.rc("ngIf",n.get("city").touched&&!n.get("city").valid),s.Eb(6),s.rc("ngIf",n.get("zipCode").touched&&n.get("zipCode").hasError("required")),s.Eb(1),s.rc("ngIf",r.isAllSameDigitVal||n.get("zipCode").hasError("pattern"))}}function Ps(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Enter Mobile Number(Maximum 10 digits)!"),s.Wb(),s.Wb())}function Fs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2," \xa0 \xa0 Please Enter Correct Mobile Number "),s.Wb(),s.Wb())}function Ls(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2," \xa0 \xa0 Please Enter Correct Landline Number"),s.Wb(),s.Wb())}function ws(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Tax Id is Required with only numbers!"),s.Wb(),s.Wb())}function Us(t,e){if(1&t&&(s.Xb(0,"mat-option",76),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function _s(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Country Of Issue!"),s.Wb(),s.Wb())}function Ms(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",90),s.Xb(1,"legend",48),s.Tc(2,"Additional Tax ID Details"),s.Wb(),s.Sb(3,"hr"),s.Xb(4,"div",91),s.Xb(5,"div",27),s.Xb(6,"mat-hint",6),s.Tc(7,"Tax ID*"),s.Wb(),s.Xb(8,"mat-card",29),s.Xb(9,"input",92),s.fc("keypress",function(t){return s.Hc(a),s.jc(2).omit_special_char(t)}),s.Wb(),s.Wb(),s.Rc(10,ws,3,0,"mat-error",18),s.Wb(),s.Xb(11,"div",27),s.Xb(12,"mat-hint",6),s.Tc(13,"Country Of Issue*"),s.Wb(),s.Xb(14,"mat-card",29),s.Xb(15,"mat-select",93),s.Xb(16,"mat-option",31),s.Tc(17,"select---"),s.Wb(),s.Rc(18,Us,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(19,_s,3,0,"mat-error",18),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.jc(2);s.rc("formGroupName",o),s.Eb(10),s.rc("ngIf",n.get("taxId").touched&&!n.get("taxId").valid),s.Eb(8),s.rc("ngForOf",r.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("countryOfIssue").touched&&!n.get("countryOfIssue").valid)}}function Gs(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card",16),s.Xb(1,"mat-expansion-panel",17),s.fc("opened",function(){return s.Hc(a),s.jc().openClose("OPEN")})("closed",function(){return s.Hc(a),s.jc().openClose("CLOSE")}),s.Xb(2,"mat-expansion-panel-header"),s.Rc(3,Kc,2,1,"mat-panel-title",18),s.Rc(4,$c,4,1,"mat-panel-title",18),s.Wb(),s.Xb(5,"div",4),s.Xb(6,"div",19),s.Xb(7,"div",20),s.Xb(8,"div",21),s.Xb(9,"div",22),s.Xb(10,"span"),s.Xb(11,"b"),s.Tc(12,"Is the applicant an existing customer?"),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"div",23),s.Xb(14,"mat-slide-toggle",24),s.fc("change",function(t){s.Hc(a);var e=s.jc();return e.toggleChanges(t.checked,e.formDirective)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",21),s.Xb(16,"div",22),s.Xb(17,"span"),s.Xb(18,"b"),s.Tc(19,"Is the applicant an primary customer?"),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",23),s.Sb(21,"mat-slide-toggle",25),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(22,"br"),s.Xb(23,"div",26),s.Xb(24,"div",27),s.Xb(25,"mat-hint",6),s.Tc(26,"CIF Number"),s.Wb(),s.Rc(27,Hc,2,0,"mat-card",28),s.Rc(28,ts,6,2,"mat-card",28),s.Rc(29,es,3,0,"mat-error",18),s.Wb(),s.Xb(30,"div",27),s.Xb(31,"mat-hint",6),s.Tc(32,"Prefix*"),s.Wb(),s.Xb(33,"mat-card",29),s.Xb(34,"mat-select",30),s.Xb(35,"mat-option",31),s.Tc(36,"select---"),s.Wb(),s.Rc(37,as,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(38,ns,3,0,"mat-error",18),s.Wb(),s.Xb(39,"div",27),s.Xb(40,"mat-hint",6),s.Tc(41,"First Name*"),s.Wb(),s.Xb(42,"mat-card",29),s.Xb(43,"input",33),s.fc("keypress",function(t){return s.Hc(a),s.jc().letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(44,os,3,0,"mat-error",18),s.Wb(),s.Xb(45,"div",27),s.Xb(46,"mat-hint",6),s.Tc(47,"Middle Name"),s.Wb(),s.Xb(48,"mat-card",29),s.Xb(49,"input",34),s.fc("keypress",function(t){return s.Hc(a),s.jc().letterOnly(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",27),s.Xb(51,"mat-hint",6),s.Tc(52,"Last Name*"),s.Wb(),s.Xb(53,"mat-card",29),s.Xb(54,"input",35),s.fc("keypress",function(t){return s.Hc(a),s.jc().letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(55,rs,3,0,"mat-error",18),s.Wb(),s.Xb(56,"div",27),s.Xb(57,"mat-hint",6),s.Tc(58,"Gender*"),s.Wb(),s.Xb(59,"mat-card",29),s.Xb(60,"mat-select",36),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().onChangeGender(t)}),s.Xb(61,"mat-option",31),s.Tc(62,"select---"),s.Wb(),s.Rc(63,is,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(64,cs,3,0,"mat-error",18),s.Rc(65,ss,2,0,"mat-error",18),s.Wb(),s.Xb(66,"div",27),s.Xb(67,"mat-hint",6),s.Tc(68,"Date Of Birth*"),s.Wb(),s.Xb(69,"mat-card",29),s.Sb(70,"input",37),s.Xb(71,"div",23),s.Sb(72,"mat-datepicker-toggle",38),s.Wb(),s.Sb(73,"mat-datepicker",null,39),s.Wb(),s.Rc(75,ls,3,0,"mat-error",18),s.Wb(),s.Xb(76,"div",27),s.Xb(77,"mat-hint",6),s.Tc(78,"Place Of Birth "),s.Wb(),s.Xb(79,"mat-card",29),s.Xb(80,"input",40),s.fc("keypress.space",function(t){return s.Hc(a),s.jc().letterOnly(t)}),s.Wb(),s.Wb(),s.Rc(81,bs,3,0,"mat-error",18),s.Wb(),s.Xb(82,"div",27),s.Xb(83,"mat-hint",6),s.Tc(84,"Residence Type*"),s.Wb(),s.Xb(85,"mat-card",29),s.Xb(86,"mat-select",41),s.Xb(87,"mat-option",31),s.Tc(88,"select---"),s.Wb(),s.Rc(89,us,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(90,ds,3,0,"mat-error",18),s.Wb(),s.Xb(91,"div",27),s.Xb(92,"mat-hint",6),s.Tc(93,"Citizenship By*"),s.Wb(),s.Xb(94,"mat-card",29),s.Xb(95,"mat-select",42),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().onSelectionCitizionship(t.value)}),s.Xb(96,"mat-option",31),s.Tc(97,"--Select--"),s.Wb(),s.Rc(98,ms,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(99,fs,3,0,"mat-error",18),s.Wb(),s.Xb(100,"div",27),s.Xb(101,"mat-hint",6),s.Tc(102,"Country Of Residence*"),s.Wb(),s.Xb(103,"mat-card",29),s.Xb(104,"mat-select",43),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().onSelectionResidance(t.value)}),s.Xb(105,"mat-option",31),s.Tc(106,"--Select--"),s.Wb(),s.Rc(107,ps,2,2,"mat-option",32),s.Wb(),s.Wb(),s.Rc(108,hs,3,0,"mat-error",18),s.Wb(),s.Wb(),s.Xb(109,"div",44),s.Rc(110,Ts,18,5,"div",45),s.Wb(),s.Sb(111,"br"),s.Xb(112,"div",46),s.Rc(113,Ns,51,11,"div",47),s.Wb(),s.Sb(114,"br"),s.Xb(115,"div"),s.Xb(116,"legend",48),s.Tc(117,"Contact Information"),s.Wb(),s.Sb(118,"hr"),s.Xb(119,"div",49),s.Xb(120,"div",27),s.Xb(121,"mat-hint",6),s.Tc(122,"Mobile Number*"),s.Wb(),s.Xb(123,"mat-card",29),s.Xb(124,"input",50),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(125,Ps,3,0,"mat-error",18),s.Rc(126,Fs,3,0,"mat-error",18),s.Wb(),s.Xb(127,"div",27),s.Xb(128,"mat-hint",6),s.Tc(129,"Landline Number*"),s.Wb(),s.Xb(130,"mat-card",29),s.Xb(131,"input",51),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Rc(132,Ls,3,0,"mat-error",18),s.Wb(),s.Xb(133,"div",27),s.Xb(134,"mat-hint",6),s.Tc(135,"Email*"),s.Wb(),s.Xb(136,"mat-card",29),s.Sb(137,"input",52),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(138,"br"),s.Xb(139,"div",53),s.Rc(140,Ms,20,4,"div",54),s.Wb(),s.Xb(141,"div",26),s.Xb(142,"div",55),s.Xb(143,"div",56),s.Xb(144,"button",57),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=s.jc();return n.saveDirector(t.value,n.item),n.openClose("CLOSE")}),s.Xb(145,"mat-icon"),s.Tc(146,"add"),s.Wb(),s.Tc(147," ADD DIRECTOR "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.Dc(74),i=s.jc();s.rc("item",n)("formGroupName",o),s.Eb(1),s.rc("expanded",i.panelOpenState),s.Eb(2),s.rc("ngIf",1==i.panelOpenState),s.Eb(1),s.rc("ngIf",0==i.panelOpenState),s.Eb(17),s.rc("disabled",i.disabledToggle),s.Eb(6),s.rc("ngIf",1!=n.get("existingCustomer").value),s.Eb(1),s.rc("ngIf",1==n.get("existingCustomer").value),s.Eb(1),s.rc("ngIf",n.get("cifNumber").touched&&!n.get("cifNumber").valid&&1==n.get("existingCustomer").value),s.Eb(8),s.rc("ngForOf",i.prefixList),s.Eb(1),s.rc("ngIf",n.get("prefix").touched&&!n.get("prefix").valid),s.Eb(6),s.rc("ngIf",n.get("firstName").touched&&!n.get("firstName").valid),s.Eb(11),s.rc("ngIf",n.get("lastName").touched&&!n.get("lastName").valid),s.Eb(8),s.rc("ngForOf",i.genderList),s.Eb(1),s.rc("ngIf",n.get("gender").touched&&!n.get("gender").valid),s.Eb(1),s.rc("ngIf",i.prefixFlag),s.Eb(5),s.rc("matDatepicker",r)("max",i.maxDate),s.Eb(2),s.rc("for",r),s.Eb(3),s.rc("ngIf",n.get("dateOfBirth").touched&&!n.get("dateOfBirth").valid),s.Eb(6),s.rc("ngIf",n.get("placeOfBirth").touched&&!n.get("placeOfBirth").valid),s.Eb(8),s.rc("ngForOf",i.arrayResidence),s.Eb(1),s.rc("ngIf",n.get("residenceStatus").touched&&!n.get("residenceStatus").valid),s.Eb(8),s.rc("ngForOf",i.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("citizenship").touched&&!n.get("citizenship").valid),s.Eb(8),s.rc("ngForOf",i.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("countryOfResidence").touched&&!n.get("countryOfResidence").valid),s.Eb(2),s.rc("ngForOf",n.get("custIdProofs").controls),s.Eb(3),s.rc("ngForOf",n.get("userAddress").controls),s.Eb(12),s.rc("ngIf",n.get("phoneNumber").touched&&!n.get("phoneNumber").valid&&!n.controls.phoneNumber.hasError("minLength")),s.Eb(1),s.rc("ngIf","0000000000"==n.controls.phoneNumber.value),s.Eb(6),s.rc("ngIf","0000000000"==n.controls.landlineNumber.value),s.Eb(8),s.rc("ngForOf",n.get("custTaxInfo").controls),s.Eb(4),s.rc("disabled",n.invalid||!i.prefixFlag)}}var Vs,Bs=((Vs=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.data=e,this.dialogRef=n,this.formBuilder=o,this.ls=r,this.apiService=i,this.corporateService=c,this.snack=s,this.cdr=l,this.appApiService=b,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.isDirectorSaved=!1,this.directors=new g.d([])}return o(t,[{key:"ngOnInit",value:function(){if(this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.getDoc(),this.getCountryName("country"),null!=this.data){this.buildDirectorForm(this.data),this.directors=this.directorUpdateForm.get("directors");for(var t=0;t<this.data.length;t++){this.directors.push(this.addDirectors(this.data[t]));for(var e=0;e<this.data[t].userAddress.length;e++)this.getStateName(this.data[t].userAddress[e].country),this.getCityName(this.data[t].userAddress[e].state),this.addAddress(t,this.data[t].userAddress[e]);this.addIdProof(t,this.data[t].custIdProofs[0]),this.addCustTaxInfo(t,this.data[t].custTaxInfo[0])}}else this.buildDirectorForm(),this.directors=this.directorUpdateForm.get("directors"),this.directors.push(this.addDirectors()),this.addAddress(0),this.addIdProof(0),this.addCustTaxInfo(0)}},{key:"buildDirectorForm",value:function(t){this.directorUpdateForm=this.formBuilder.group({noOfDirector:[t?this.data.length:"1"],directors:this.formBuilder.array([])})}},{key:"addDirectors",value:function(t){return this.formBuilder.group({customerId:this.customerId,citizenship:[t?t.citizenship:""],cifNumber:[t?t.cifNumber:""],corporateId:[t?t.corporateId:""],countryOfResidence:[t?t.countryOfResidence:""],dateOfBirth:[t?t.dateOfBirth:""],existingCustomer:[t?t.existingCustomer:""],firstName:[t?t.firstName:""],gender:[t?t.gender:""],landlineNumber:[t?t.landlineNumber:"",[g.A.minLength(10),g.A.maxLength(10)]],lastName:[t?t.lastName:""],middleName:[t?t.middleName:""],phoneNumber:[t?t.phoneNumber:"",[g.A.minLength(10),g.A.maxLength(10)]],placeOfBirth:[t?t.placeOfBirth:""],prefix:[t?t.prefix:""],primaryCustomer:[!1],primaryEmailAdress:[t?t.primaryEmailAdress:""],residenceStatus:[t?t.residenceStatus:""],verificationType:"onboarding",userAddress:this.formBuilder.array([]),custIdProofs:this.formBuilder.array([]),custTaxInfo:this.formBuilder.array([])})}},{key:"addAddress",value:function(t,e){this.directors.controls[t].get("userAddress").push(this.formBuilder.group({addressType:[e?e.addressType:""],address1:[[e?e.address1:""],[g.A.pattern(".*[a-zA-Z].*")]],address2:[[e?e.address2:""],[g.A.pattern(".*[a-zA-Z].*")]],city:[e?e.city:""],state:[e?e.state:""],country:[e?e.country:""],zipCode:[e?e.zipCode:"",[g.A.required,g.A.pattern("^((\\+91-?)|0)?[0-9]{5,10}$")]]}))}},{key:"addIdProof",value:function(t,e){this.directors.controls[t].get("custIdProofs").push(this.formBuilder.group({idNumber:[e?e.idNumber:""],idType:[e?e.idType:""],expiryDate:[e?e.expiryDate:""]}))}},{key:"addCustTaxInfo",value:function(t,e){this.directors.controls[t].get("custTaxInfo").push(this.formBuilder.group({taxId:[e?e.taxId:"",[g.A.required,g.A.pattern("^[0-9]*$")]],countryOfIssue:[e?e.countryOfIssue:""]}))}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.arrayState=[],this.apiService.getAllCountries().subscribe(function(a){for(var n=function(n){if(a[n].countryName==t)return e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"==t[n].authStatus&&e.arrayState.push(t[n].stateName)}),"break"},o=0;o<a.length&&"break"!==n(o);o++);})}},{key:"getCityName",value:function(t){var e=this;this.apiService.getDropDownValues1("city",t).subscribe(function(t){e.arrayCity=t})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"getDoc",value:function(){var t=this;this.apiService.getDropDownValues("gender").subscribe(function(e){t.genderList=e}),this.apiService.getDropDownValues("prefix").subscribe(function(e){t.prefixList=e}),this.apiService.getDropDownValues("document_name").subscribe(function(e){t.idTypeList=e}),this.apiService.getDropDownValues("address_type").subscribe(function(e){t.addressTypeList=e})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"editDirector",value:function(t){this.panelOpenState=!this.panelOpenState}},{key:"updatedVal",value:function(t){this.showAutocomplete=!!(t&&t.length>=3)}},{key:"selectCif",value:function(t){this.getStateName(t.userAddress[0].country),this.getCityName(t.userAddress[0].state),null!=t.citizenship&&this.onSelectionCitizionship(t.citizenship),null!=t.countryOfResidence&&this.onSelectionResidance(t.countryOfResidence),this.customerInfoList=t.customerInfoList,this.cifNumberForPayload=t.cifNumber,this.customerIdForPayload=t.customerId,delete t.cifNumber,this.autocomplete.closePanel(),this.directorUpdateForm.patchValue(t),this.directorUpdateForm.get("existingCustomer").setValue(!0)}},{key:"fetchByCif",value:function(t){var e=this;console.log(null==t?void 0:t.length),0==(null==t?void 0:t.length)&&this.autocomplete.closePanel(),this.directorUpdateForm.reset({cifNumber:this.directorUpdateForm.get("cifNumber").value,existingCustomer:this.directorUpdateForm.get("existingCustomer").value}),this.showAutocomplete=!1,t&&(clearTimeout(this.timer),this.timer=setTimeout(function(){e.appApiService.fetchByCif(t).subscribe(function(t){console.log("settimeout"),console.log("res::",t),t&&(e.showAutocomplete=!0,e.customerInfoList=t.customerInfoList),null!=e.customerInfoList[0].citizenship&&e.onSelectionCitizionship(e.customerInfoList[0].citizenship),null!=e.customerInfoList[0].countryOfResidence?e.onSelectionResidance(e.customerInfoList[0].countryOfResidence):(null==t?void 0:t.customerInfoList.length)>1?e.customerInfoList=t.customerInfoList:0!=(null==t?void 0:t.customerInfoList.length)&&t||e.snack.open("Kindly Enter Valid CifNumber to proceed","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.error(t)})},1e3))}},{key:"toggleChanges",value:function(t,e){console.log(t),!0===t?this.directorUpdateForm.get("cifNumber").enable():!1===t&&(this.directorUpdateForm.get("cifNumber").disable(),this.customerId=null)}},{key:"onSelectionResidance",value:function(t){var e=this;console.log(t),this.apiService.countryFlaglists(t).subscribe(function(t){console.log(t.currencyCode),e.Currency=t.currencyCode.toLowerCase(),console.log(e.Currency)})}},{key:"onSelectionCitizionship",value:function(t){var e=this;console.log(t),this.apiService.countryFlaglists(t).subscribe(function(t){console.log(t.currencyCode),e.currencyCode=t.currencyCode.toLowerCase(),console.log(e.currencyCode)})}},{key:"onChangeGender",value:function(t){var e=this.directorUpdateForm.value.prefix;"Mr"==e&&"Male"==t.value||("Ms"==e||"Mrs"==e)&&"Female"==t.value?this.prefixFlag=!0:(this.prefixFlag=!1,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"noOfDirector",value:function(){var t=Number(this.directorUpdateForm.get("noOfDirector").value);if(this.directors.length<t)for(var e=this.directors.length;e<t;e++)this.directors.push(this.addDirectors()),this.addAddress(e),this.addIdProof(e),this.addCustTaxInfo(e);else if(t<this.directors.length)for(var a=this.directors.length-1;a>=t;a--)this.directors.removeAt(a)}},{key:"omit_special_char",value:function(t){var e;return(e=t.charCode)>64&&e<91||e>96&&e<123||8==e||32==e||e>=48&&e<=57}},{key:"isAllSameDigit",value:function(t){var e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;this.isAllSameDigitVal=e==a.length}else this.isAllSameDigitVal=!1}},{key:"saveDirector",value:function(t,e){var a=this;t.cifNumber=this.cifNumberForPayload,t.customerId=this.customerIdForPayload,t.corporateId=this.corporateId;var n={corporateId:this.corporateId,customerInfo:[t]};if(this.noOfDir>0){this.saveStatus=[];for(var o=0;o<this.noOfDir;o++)this.saveStatus.push(!0);this.corporateService.setfinishSave(this.saveStatus)}this.corporateService.saveOrUpdateCorporateAccountInfo(n).subscribe(function(t){null!=t?(null!=t.customerInfo&&null!=t.customerInfo[0].cifNumber&&(a.cifNumber=t.customerInfo[0].cifNumber),a.snack.open("Director ".concat(a.item," profile created !"),"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck(),a.noOfDir<=1&&a.dialogRef.close({status:"INITIATED",resp:a.data})):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.isDirectorSaved=!0}},{key:"onSubmit",value:function(){this.dialogRef.close({status:"INITIATED"})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Vs)(s.Rb(m.a),s.Rb(m.g),s.Rb(g.f),s.Rb(d.a),s.Rb(l.b),s.Rb(Gi.a),s.Rb(y.a),s.Rb(s.h),s.Rb(f.a))},Vs.\u0275cmp=s.Lb({type:Vs,selectors:[["app-update-director-details"]],decls:25,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100",1,"full-width"],[1,"hintClass"],["fxFlex","33.33%","fxFlex.xs","100%",1,"inputCard"],["formControlName","noOfDirector","matInput","","id","forNoOfDirectors","placeholder","Enter no of directors",3,"keypress","keyup"],["visible","true",2,"font-weight","600"],[1,"custom-accordion"],["formArrayName","directors"],[3,"item","formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"item","formGroupName"],[1,"mat-elevation-z0",3,"expanded","opened","closed"],[4,"ngIf"],["fxLayout","row wrap",2,"margin-top","20px","margin-left","20px"],["fxFlex","100"],["fxFlex","50"],["fxFlex","80"],["fxFlex","20"],["formControlName","existingCustomer",3,"change"],["formControlName","primaryCustomer",3,"disabled"],["fxLayout","row wrap"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["class","inputCard",4,"ngIf"],[1,"inputCard"],["formControlName","prefix","required",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","firstName","id","forFirstName","required","","placeholder","First Name",3,"keypress"],["matInput","","formControlName","middleName","id","forMiddleName","placeholder","Middle Name",3,"keypress"],["matInput","","formControlName","lastName","id","forLastName","required","","placeholder","Last Name",3,"keypress"],["formControlName","gender","id","forGender","required","",3,"selectionChange"],["fxFlex","80","matInput","","formControlName","dateOfBirth","required","","readonly","",3,"matDatepicker","max"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","placeOfBirth","id","forplaceOfBirth","required","",3,"keypress.space"],["formControlName","residenceStatus","id","forResidenceStatus","required",""],["formControlName","citizenship","id","forcitizenship","required","",3,"selectionChange"],["formControlName","countryOfResidence","id","forcountryOfResidence","required","",3,"selectionChange"],["formArrayName","custIdProofs"],["fxFlex","100%",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","userAddress"],[3,"formGroupName",4,"ngFor","ngForOf"],["visible","true"],["fxFlex","row wrap","fxFlex","100"],["matInput","","formControlName","phoneNumber","id","forPhoneNumber","maxLength","10","minLength","10","onlyNumber","","required","",3,"keypress"],["matInput","","formControlName","landlineNumber","maxLength","10","minLength","10","onlyNumber","","id","forlandlineNumber","required","",3,"keypress"],["matInput","","formControlName","primaryEmailAdress","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$","id","forprimaryEmailAdress","required",""],["formArrayName","custTaxInfo"],["fxFlex","row wrap","class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin-left","13px"],["fxFlex","20",1,"form-group"],["mat-raised-button","","color","primary",2,"background-color","rgb(77, 114, 248)",3,"disabled","click"],[2,"color","#24CCA7"],["matInput","","formControlName","cifNumber","id","forCifNumber",3,"keypress"],["matInput","","formControlName","cifNumber","id","forCifNumber",3,"matAutocomplete","keyup","ngModelChange"],["input",""],[2,"background-color","black"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","90%","margin-bottom","50px",3,"src"],[3,"value"],["fxFlex","100%",3,"formGroupName"],["formControlName","idType","id","forIdType","required",""],["matInput","","formControlName","idNumber","id","foridNumber","maxlength","15","minLength","11","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["matInput","","formControlName","expiryDate","id","forIdexpiryDate","readonly","","required","",3,"min","matDatepicker"],["expiryDate",""],[3,"formGroupName"],["matInput","","id","foraddress1","formControlName","address1","required",""],["matInput","","id","foraddress2","formControlName","address2","required",""],["id","forcountry","formControlName","country","required","",3,"selectionChange"],["id","forstate","formControlName","state","required","",3,"selectionChange"],["id","forCity","formControlName","city","required",""],["matInput","","formControlName","zipCode","id","forZipCode","onlyNumber","","maxlength","10","minLength","5","required","",3,"keypress","keyup"],["fxFlex","row wrap",1,"full-width",3,"formGroupName"],["fxFlex","row wrap"],["matInput","","onlyNumber","","formControlName","taxId","id","forTaxId","maxlength","10","required","",3,"keypress"],["formControlName","countryOfIssue","id","forCountryOfIssue","required",""]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Director Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"mat-hint",6),s.Tc(10,"Number of Directors"),s.Wb(),s.Xb(11,"mat-card",7),s.Xb(12,"input",8),s.fc("keypress",function(t){return e._keyPress(t)})("keyup",function(){return e.noOfDirector()}),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"h3",9),s.Tc(14,"Details Of the Director"),s.Wb(),s.Xb(15,"div",4),s.Xb(16,"mat-accordion",10),s.Xb(17,"div",11),s.Rc(18,Gs,148,34,"mat-card",12),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",13),s.Xb(20,"button",14),s.fc("click",function(){return e.onSubmit()}),s.Tc(21,"Save"),s.Wb(),s.Tc(22," \xa0\xa0\xa0 "),s.Xb(23,"button",15),s.fc("click",function(){return e.close()}),s.Tc(24," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.directorUpdateForm),s.Eb(12),s.rc("ngForOf",e.directorUpdateForm.get("directors").controls),s.Eb(2),s.rc("disabled",e.directorUpdateForm.invalid||!e.isDirectorSaved))},directives:[W.e,W.d,X.a,m.h,m.e,g.C,g.s,g.j,W.b,T.f,I.a,g.c,E.b,g.r,g.i,J.a,g.e,i.m,W.f,R.b,g.k,J.c,J.e,i.n,A.a,C.a,g.z,D.n,x.e,x.g,T.j,x.d,$.a,g.x,J.f,qc.c,qc.a,I.c,Jc.b,T.b,g.m],pipes:[i.w,i.v],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Vs);function js(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Incorporation Number is Required! "),s.Wb())}function zs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter Valid Incorporation Number! "),s.Wb())}function qs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Date of Issue"),s.Wb(),s.Wb())}function Js(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Date of Expiry"),s.Wb(),s.Wb())}function Ks(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-radio-group",25),s.Xb(1,"mat-radio-button",26),s.fc("change",function(t){return s.Hc(a),s.jc().radioSelection(t.value)}),s.Tc(2),s.Wb(),s.Tc(3,"\xa0 "),s.Wb()}if(2&t){var n=e.$implicit,o=s.jc();s.Eb(1),s.rc("value",n)("checked",n==o.identityUpdateForm.value.isAnotherIdProofRequired),s.Eb(1),s.Vc("",n," ")}}function $s(t,e){if(1&t&&(s.Xb(0,"mat-option",45),s.Tc(1),s.Wb()),2&t){var a=e.$implicit,n=s.jc(3);s.rc("disabled",n.isDocumentOptionDisabled(a))("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Hs(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Select Id Type"),s.Wb(),s.Wb())}function Ys(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please Enter Id Number"),s.Wb(),s.Wb())}function Zs(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",30),s.Xb(1,"fieldset",31),s.Xb(2,"div",32),s.Xb(3,"div",33),s.Xb(4,"div",34),s.Xb(5,"label",35),s.Tc(6,"Id Type "),s.Wb(),s.Xb(7,"mat-form-field",36),s.Xb(8,"mat-select",37),s.fc("valueChange",function(t){s.Hc(a);var n=e.index;return s.jc(2).changeValue2(t,n)}),s.Xb(9,"mat-option",38),s.Tc(10,"select---"),s.Wb(),s.Rc(11,$s,2,3,"mat-option",39),s.Wb(),s.Xb(12,"mat-placeholder",40),s.Tc(13,"Select Id Type* "),s.Wb(),s.Wb(),s.Rc(14,Hs,3,0,"mat-error",9),s.Wb(),s.Xb(15,"div",34),s.Xb(16,"label",41),s.Tc(17,"Id Number "),s.Wb(),s.Xb(18,"mat-form-field",36),s.Sb(19,"input",42),s.Xb(20,"mat-placeholder",40),s.Tc(21,"Enter Id Number* "),s.Wb(),s.Wb(),s.Rc(22,Ys,3,0,"mat-error",9),s.Wb(),s.Xb(23,"button",43),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc(2).deleteDocument(t,n)}),s.Xb(24,"mat-icon",44),s.Tc(25,"delete_outline"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.jc(2);s.rc("formGroupName",o),s.Eb(11),s.rc("ngForOf",r.idTypeList),s.Eb(3),s.rc("ngIf",n.get("idType").touched&&!n.get("idType").valid),s.Eb(8),s.rc("ngIf",n.get("idNumber").touched&&!n.get("idNumber").valid)}}function Qs(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",27),s.Rc(1,Zs,26,4,"div",28),s.Xb(2,"button",29),s.fc("click",function(t){return s.Hc(a),s.jc().addDocument(t)}),s.Xb(3,"mat-icon"),s.Tc(4,"add"),s.Wb(),s.Tc(5," ADD "),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(1),s.rc("ngForOf",n.identityUpdateForm.get("idProofList").controls),s.Eb(1),s.rc("disabled",3==n.selectedOptions.length)}}var tl,el=function(){return["YES","NO"]},al=((tl=function(){function t(e,n,o,r,i,c,s){a(this,t),this.dialogRef=e,this.data=n,this.formBuilder=o,this.ls=r,this.apiService=i,this.corporateService=c,this.snack=s,this.minDate=new Date,this.validDate=new Date,this.maxDate=new Date}return o(t,[{key:"ngOnInit",value:function(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.data?(this.buildIdentityForm(),this.identityUpdateForm.patchValue(this.data)):this.buildIdentityForm()}},{key:"buildIdentityForm",value:function(){this.identityUpdateForm=this.formBuilder.group({corporateId:[this.corporateId],incorporationNumber:["",[g.A.required,g.A.pattern("^[a-zA-Z0-9]{0,35}$")]],dateOfIssue:["",[g.A.required]],dateOfExpiry:["",[g.A.required]],isAnotherIdProofRequired:["NO"],idProofList:this.formBuilder.array([])})}},{key:"getDocumentList",get:function(){return this.identityUpdateForm.get("idProofList")}},{key:"addDocument",value:function(){this.getDocumentList.push(this.formBuilder.group({idType:["",[g.A.required]],idNumber:["",[g.A.required]]}))}},{key:"deleteDocument",value:function(t,e){console.log("delete record :: ",t," index :: ",e),this.getDocumentList.removeAt(e)}},{key:"onSubmit",value:function(t){var e=this,a={};Object.keys(t).map(function(e,n){"dateOfIssue"===e||"dateOfExpiry"===e?(t[e]=v(t[e]).format("YYYY-MM-DD"),a[e]=t[e]):"isAnotherIdProofRequired"!=e&&"idProofList"!=e&&(a[e]=t[e])}),this.corporateService.saveOrUpdateCorporateAccountInfo(a).subscribe(function(t){console.log("data :: ",t),null!=t?(e.snack.open("Proof of identity Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"INITIATED",resp:a})):e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),e.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||tl)(s.Rb(m.g),s.Rb(m.a),s.Rb(g.f),s.Rb(d.a),s.Rb(l.b),s.Rb(Gi.a),s.Rb(y.a))},tl.\u0275cmp=s.Lb({type:tl,selectors:[["app-update-corporate-identity"]],decls:50,vars:15,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["visible","true"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","incorporationNumber","placeholder","Incorporation Number","maxLength","35","minLength","0","onlyNumber",""],[4,"ngIf"],["matInput","","id","forIddateOfIssue","readonly","","formControlName","dateOfIssue",3,"matDatepicker","max"],["matSuffix","",3,"for"],["dateOfIssue",""],["matInput","","id","forIddateOfExpiry","readonly","","formControlName","dateOfExpiry",3,"matDatepicker","min"],["dateOfExpiry",""],["fxLayout","row wrap"],["fxFlex","100","fxLayoutGap","20px"],["fxFlex","28"],[2,"padding-left","10px"],["fxFlex","50"],["formControlName","isAnotherIdProofRequired",4,"ngFor","ngForOf"],["formArrayName","idProofList",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["formControlName","isAnotherIdProofRequired"],[3,"value","checked","change"],["formArrayName","idProofList"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],[3,"formGroupName"],[2,"border-top","1px solid lightgray","margin-left","20px","margin-right","20px"],["fxLayout","row wrap",1,"top"],["fxFlex","100","fxLayoutGap","30px"],["fxFlex","30",1,"form-group"],["for","forIdType",1,"hint"],["floatLabel","never"],["formControlName","idType","id","forIdType",3,"valueChange"],["disabled",""],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"placeholder"],["for","forIdNumber",1,"hint"],["matInput","","formControlName","idNumber","id","forIdNumber","maxLength","12","minLength","6"],["mat-button","",3,"click"],[2,"color","tomato"],[3,"disabled","value"]],template:function(t,e){if(1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Proof Of Identity"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div"),s.Xb(8,"legend",4),s.Tc(9,"Certificate of Incorporation Details"),s.Wb(),s.Xb(10,"div"),s.Xb(11,"div",5),s.Xb(12,"mat-hint",6),s.Tc(13,"Incorporation Number*"),s.Wb(),s.Xb(14,"mat-card",7),s.Sb(15,"input",8),s.Wb(),s.Rc(16,js,2,0,"mat-error",9),s.Rc(17,zs,2,0,"mat-error",9),s.Wb(),s.Xb(18,"div",5),s.Xb(19,"mat-hint",6),s.Tc(20,"Date of Issue*"),s.Wb(),s.Xb(21,"mat-card",7),s.Sb(22,"input",10),s.Sb(23,"mat-datepicker-toggle",11),s.Sb(24,"mat-datepicker",null,12),s.Wb(),s.Rc(26,qs,3,0,"mat-error",9),s.Wb(),s.Xb(27,"div",5),s.Xb(28,"mat-hint",6),s.Tc(29,"Date of Expiry*"),s.Wb(),s.Xb(30,"mat-card",7),s.Sb(31,"input",13),s.Sb(32,"mat-datepicker-toggle",11),s.Sb(33,"mat-datepicker",null,14),s.Wb(),s.Rc(35,Js,3,0,"mat-error",9),s.Wb(),s.Wb(),s.Xb(36,"div",15),s.Xb(37,"div",16),s.Xb(38,"div",17),s.Xb(39,"mat-label",18),s.Tc(40," Do you want add another proof of ID? "),s.Wb(),s.Wb(),s.Xb(41,"div",19),s.Rc(42,Ks,4,3,"mat-radio-group",20),s.Wb(),s.Wb(),s.Wb(),s.Rc(43,Qs,6,2,"div",21),s.Wb(),s.Wb(),s.Wb(),s.Xb(44,"div",22),s.Xb(45,"button",23),s.fc("click",function(){return e.onSubmit(e.identityUpdateForm.value)}),s.Tc(46,"Save"),s.Wb(),s.Tc(47," \xa0\xa0\xa0 "),s.Xb(48,"button",24),s.fc("click",function(){return e.close()}),s.Tc(49," Cancel "),s.Wb(),s.Wb()),2&t){var a=s.Dc(25),n=s.Dc(34);s.Eb(6),s.rc("formGroup",e.identityUpdateForm),s.Eb(10),s.rc("ngIf",e.identityUpdateForm.get("incorporationNumber").touched&&e.identityUpdateForm.get("incorporationNumber").hasError("required")),s.Eb(1),s.rc("ngIf",e.identityUpdateForm.get("incorporationNumber").hasError("pattern")),s.Eb(5),s.rc("matDatepicker",a)("max",e.maxDate),s.Eb(1),s.rc("for",a),s.Eb(3),s.rc("ngIf",e.identityUpdateForm.get("dateOfIssue").touched&&!e.identityUpdateForm.get("dateOfIssue").valid),s.Eb(5),s.rc("matDatepicker",n)("min",e.validDate),s.Eb(1),s.rc("for",n),s.Eb(3),s.rc("ngIf",e.identityUpdateForm.get("dateOfExpiry").touched&&!e.identityUpdateForm.get("dateOfExpiry").valid),s.Eb(7),s.rc("ngForOf",s.wc(14,el)),s.Eb(1),s.rc("ngIf","YES"==e.identityUpdateForm.get("isAnotherIdProofRequired").value),s.Eb(2),s.rc("disabled",e.identityUpdateForm.invalid)}},directives:[W.e,W.d,X.a,m.h,m.e,g.C,g.s,g.j,W.b,T.f,I.a,E.b,g.c,g.r,g.i,$.a,i.n,x.e,x.g,T.j,x.d,W.f,T.g,i.m,R.b,T.b,Zt.b,Zt.a,g.e,g.k,T.c,C.a,D.n,T.h],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),tl);function nl(t,e){if(1&t&&(s.Xb(0,"mat-option",23),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ol(t,e){if(1&t&&(s.Xb(0,"mat-option",23),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function rl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Type Of Ownership is Required! "),s.Wb())}function il(t,e){1&t&&(s.Xb(0,"legend",38),s.Tc(1,"Document Upload"),s.Wb())}function cl(t,e){if(1&t&&(s.Xb(0,"mat-option",39),s.Tc(1),s.Wb()),2&t){var a=e.$implicit,n=s.jc(2);s.rc("disabled",n.isDocumentOptionDisabled(a))("value",a),s.Eb(1),s.Vc(" ",a," ")}}function sl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Document Type is Required!"),s.Wb(),s.Wb())}function ll(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",24),s.Rc(1,il,2,0,"legend",25),s.Xb(2,"div",3),s.Xb(3,"div",26),s.Xb(4,"div",27),s.Xb(5,"mat-hint",5),s.Tc(6,"Document Type*"),s.Wb(),s.Xb(7,"mat-card",6),s.Xb(8,"mat-select",28),s.fc("valueChange",function(t){s.Hc(a);var n=e.index;return s.jc().changeValue(t,n)}),s.Xb(9,"mat-option",8),s.Tc(10,"select"),s.Wb(),s.Rc(11,cl,2,3,"mat-option",29),s.Wb(),s.Wb(),s.Rc(12,sl,3,0,"mat-error",12),s.Wb(),s.Xb(13,"div",30),s.Sb(14,"img",31),s.Wb(),s.Xb(15,"div",32),s.Xb(16,"input",33,34),s.fc("change",function(t){s.Hc(a);var n=e.index,o=s.Dc(17);return s.jc().onOtherDocSelect(t.target.files,n,o.files[0].name)}),s.Wb(),s.Xb(18,"button",35),s.fc("click",function(){return s.Hc(a),s.Dc(17).click()}),s.Tc(19,"Browse"),s.Wb(),s.Xb(20,"button",36),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index;return s.jc().deleteDocument(t,n)}),s.Xb(21,"mat-icon",37),s.Tc(22,"delete_outline"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.jc();s.rc("formGroupName",o),s.Eb(1),s.rc("ngIf",0==o),s.Eb(10),s.rc("ngForOf",r.documentTypeList),s.Eb(1),s.rc("ngIf",n.get("documentType").touched&&!n.get("documentType").valid),s.Eb(2),s.rc("src",n.controls.fileData.value,s.Jc)}}var bl,ul=((bl=function(){function t(e,n,o,r,i,c,s){var l=this;a(this,t),this.dialogRef=e,this.formBuilder=n,this.data=o,this.ls=r,this.apiService=i,this.corporateService=c,this.snack=s,this.organizationTypeList=["Public","Private"],this.typeOfOwnershipList=["Independent","Dependent"],this.kycStatusList=["APPROVED","BACKLOG","INITIATED","REJECTED"],this.otherDocumentArray=[],this.selectedOptions=[],this.selectedDocumentTypes=[],this.corporateDocs=[],this.isDocumentOptionDisabled=function(t){return l.selectedOptions.includes(t)}}return o(t,[{key:"ngOnInit",value:function(){var t=this;if(console.log(this.data),this.corporateId=this.ls.getItem("corporateId"),this.apiService.getDropDownValues("document_type").subscribe(function(e){t.documentTypeList=e}),this.data){this.data.corporateDocs=this.data.corporateDocs.filter(function(t){return"Profile"!=t.documentName}),this.buildOtherFormGroup(this.data);for(var e=0;e<this.data.corporateDocs.length;e++)this.addDocument(),this.otherInfoUpdateForm.controls.corporateDocs.controls[e].controls.documentType.setValue(this.data.corporateDocs[e].documentName),this.otherInfoUpdateForm.controls.corporateDocs.controls[e].controls.fileData.setValue(this.data.corporateDocs[e].fileUrl),this.otherInfoUpdateForm.controls.corporateDocs.controls[e].controls.documentName.setValue(this.data.corporateDocs[e].fileName)}}},{key:"buildOtherFormGroup",value:function(t){this.otherInfoUpdateForm=this.formBuilder.group({corporateId:[this.corporateId],organizationType:[t?t.organizationType:"",g.A.required],typeOfOwnership:[t?t.typeOfOwnership:"",g.A.required],kycReference:[t?t.kycReference:""],KycStatus:[t?t.kycStatus:""],corporateDocs:this.formBuilder.array([])})}},{key:"getDocumentList",get:function(){return this.otherInfoUpdateForm.get("corporateDocs")}},{key:"addDocument",value:function(){this.getDocumentList.push(this.formBuilder.group({documentType:["",[g.A.required]],documentName:["",[g.A.required]],fileData:[""]}))}},{key:"deleteDocument",value:function(t,e){this.getDocumentList.removeAt(e)}},{key:"changeValue",value:function(t,e){var a=this;console.log(e),this.selectedDocumentTypes[e]&&(this.selectedOptions=this.selectedOptions.filter(function(t){return t!==a.selectedDocumentTypes[e]})),this.selectedDocumentTypes[e]=t,console.log(t),this.selectedOptions.push(t)}},{key:"onOtherDocSelect",value:function(t,e,a){var n=this;this.otherDocumentArray.push(t.item(0)),this.otherInfoUpdateForm.get("corporateDocs").controls[e].controls.documentName.setValue(a);var o=new FileReader;o.readAsDataURL(t.item(0)),o.onload=function(t){n.otherInfoUpdateForm.get("corporateDocs").controls[e].controls.fileData.setValue(o.result)}}},{key:"onSubmit",value:function(t){var e=this,a={};Object.keys(t).map(function(e,n){"corporateDocs"!=e&&(a[e]=t[e])}),this.corporateService.saveOrUpdateCorporateAccountInfo(a).subscribe(function(t){if(null!=t){for(var a=0;a<e.otherInfoUpdateForm.get("corporateDocs").value.length;a++)if(e.otherDocumentArray.length>0){var n={};n.documentName=e.otherInfoUpdateForm.get("corporateDocs").value[a].documentType,n.documentType=2,n.fileType=e.otherDocumentArray[a].type,n.fileName=e.otherDocumentArray[a].name,n.corporateId=t.corporateId,n.id=e.otherDocumentArray[a].id;var o=new FormData;o.append("data",JSON.stringify(n)),o.append("file",e.otherDocumentArray[a]),e.apiService.uploadCorporateDocument(o).subscribe(function(t){console.log(t),e.corporateDocs.push(t)})}}else e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});e.dialogRef.close({status:"INITIATED",resp:{typeOfOwnership:t.typeOfOwnership,organizationType:t.organizationType,corporateDocs:e.corporateDocs}})},function(t){console.log("error resp :: ",t),e.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||bl)(s.Rb(m.g),s.Rb(g.f),s.Rb(m.a),s.Rb(d.a),s.Rb(l.b),s.Rb(Gi.a),s.Rb(y.a))},bl.\u0275cmp=s.Lb({type:bl,selectors:[["app-update-corporate-addititonal-info"]],decls:45,vars:6,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33%","fxFl50ex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["id","forOrganizationType","formControlName","organizationType","required",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","33%","fxFlex.xs","100%",1,"full-width"],["id","forTypeOfOwnership","formControlName","typeOfOwnership","required",""],[4,"ngIf"],["formArrayName","corporateDocs"],[3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row wrap"],["fxFlex","100","fxLayoutGap","1px"],["fxFlex","1"],["fxFlex","20"],["mat-button","","color","primary",3,"click"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["visible","true",4,"ngIf"],["fxFlex","100","fxLayoutGap","20px",1,"padding"],["fxFlex","50","fxFlex.xs","100%",1,"full-width"],["id","forDocumentType","formControlName","documentType","required","",3,"valueChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.xs","100%",1,"pt20"],["height","80px","width","85px",3,"src"],["fxFlex","30","fxLayoutGap","5px",2,"display","flex","margin-top","20px","align-content","center","margin-left","30px"],["type","file","name","fileData","formControlName","fileData",1,"default-background",2,"display","none","margin-top","20px",3,"change"],["fileData",""],["mat-button","",2,"text-decoration","underline","color","#456EFE",3,"routerLink","click"],["mat-button","",3,"click"],[2,"color","tomato"],["visible","true"],[3,"disabled","value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1"),s.Tc(4,"Other Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",2),s.Xb(7,"div"),s.Xb(8,"h3"),s.Tc(9,"Organization Information"),s.Wb(),s.Sb(10,"hr"),s.Xb(11,"div",3),s.Xb(12,"div",4),s.Xb(13,"mat-hint",5),s.Tc(14,"Organization Type"),s.Wb(),s.Xb(15,"mat-card",6),s.Xb(16,"mat-select",7),s.Xb(17,"mat-option",8),s.Tc(18,"select"),s.Wb(),s.Rc(19,nl,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",10),s.Xb(21,"mat-hint",5),s.Tc(22,"Type of Ownership"),s.Wb(),s.Xb(23,"mat-card",6),s.Xb(24,"mat-select",11),s.Xb(25,"mat-option",8),s.Tc(26,"select"),s.Wb(),s.Rc(27,ol,2,2,"mat-option",9),s.Wb(),s.Wb(),s.Rc(28,rl,2,0,"mat-error",12),s.Wb(),s.Xb(29,"div",13),s.Rc(30,ll,23,5,"div",14),s.Xb(31,"div",15),s.Xb(32,"div",16),s.Sb(33,"div",17),s.Xb(34,"div",18),s.Xb(35,"button",19),s.fc("click",function(){return e.addDocument()}),s.Xb(36,"mat-icon"),s.Tc(37,"add"),s.Wb(),s.Tc(38," ADD DOCUMENT "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",20),s.Xb(40,"button",21),s.fc("click",function(){return e.onSubmit(e.otherInfoUpdateForm.value)}),s.Tc(41,"Save"),s.Wb(),s.Tc(42," \xa0\xa0\xa0 "),s.Xb(43,"button",22),s.fc("click",function(){return e.close()}),s.Tc(44," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.otherInfoUpdateForm),s.Eb(13),s.rc("ngForOf",e.organizationTypeList),s.Eb(8),s.rc("ngForOf",e.typeOfOwnershipList),s.Eb(1),s.rc("ngIf",e.otherInfoUpdateForm.get("typeOfOwnership").touched&&!e.otherInfoUpdateForm.get("typeOfOwnership").valid),s.Eb(2),s.rc("ngForOf",e.otherInfoUpdateForm.get("corporateDocs").controls),s.Eb(10),s.rc("disabled",e.otherInfoUpdateForm.invalid))},directives:[W.e,W.d,X.a,m.e,g.C,g.s,g.j,W.b,T.f,I.a,C.a,g.r,g.i,g.z,D.n,i.m,i.n,g.e,W.f,R.b,T.b,g.k,g.c,He.i],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}legend[_ngcontent-%COMP%]{width:auto;color:grey;font-size:20px;padding-right:20px;font-family:Montserrat,Courier,monospace}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),bl);function dl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Valid Address "),s.Wb())}function ml(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Enter Valid Address "),s.Wb())}function fl(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function pl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Country is Required! "),s.Wb())}function hl(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.stateName),s.Eb(1),s.Vc(" ",a.stateName," ")}}function gl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," State is Required! "),s.Wb())}function vl(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc(" ",a.value1," ")}}function yl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," City is Required! "),s.Wb())}function Wl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please enter valid Zip code"),s.Wb(),s.Wb())}function Xl(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Please enter valid ZipCode!"),s.Wb(),s.Wb())}function Tl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",20),s.Xb(1,"h3",7),s.Tc(2,"Company Address"),s.Wb(),s.Sb(3,"hr"),s.Xb(4,"div",21),s.Xb(5,"div",8),s.Xb(6,"mat-hint",9),s.Tc(7,"Address Line 1*"),s.Wb(),s.Xb(8,"mat-card",10),s.Sb(9,"input",22),s.Wb(),s.Rc(10,dl,2,0,"mat-error",12),s.Wb(),s.Xb(11,"div",8),s.Xb(12,"mat-hint",9),s.Tc(13,"Address Line 2*"),s.Wb(),s.Xb(14,"mat-card",10),s.Sb(15,"input",23),s.Wb(),s.Rc(16,ml,2,0,"mat-error",12),s.Wb(),s.Xb(17,"div",8),s.Xb(18,"mat-hint",9),s.Tc(19,"Country*"),s.Wb(),s.Xb(20,"mat-card",10),s.Xb(21,"mat-select",24),s.fc("selectionChange",function(t){s.Hc(a);var n=e.index;return s.jc().getStateName(t.value,n)}),s.Xb(22,"mat-option",25),s.Tc(23,"select"),s.Wb(),s.Rc(24,fl,2,2,"mat-option",26),s.Wb(),s.Wb(),s.Rc(25,pl,2,0,"mat-error",12),s.Wb(),s.Xb(26,"div",8),s.Xb(27,"mat-hint",9),s.Tc(28,"State*"),s.Wb(),s.Xb(29,"mat-card",10),s.Xb(30,"mat-select",27),s.fc("selectionChange",function(t){s.Hc(a);var n=e.index;return s.jc().getCityName(t.value,n)}),s.Xb(31,"mat-option",25),s.Tc(32,"select---"),s.Wb(),s.Rc(33,hl,2,2,"mat-option",26),s.Wb(),s.Wb(),s.Rc(34,gl,2,0,"mat-error",12),s.Wb(),s.Xb(35,"div",8),s.Xb(36,"mat-hint",9),s.Tc(37,"City*"),s.Wb(),s.Xb(38,"mat-card",10),s.Xb(39,"mat-select",28),s.Xb(40,"mat-option",25),s.Tc(41,"select---"),s.Wb(),s.Rc(42,vl,2,2,"mat-option",26),s.Wb(),s.Wb(),s.Rc(43,yl,2,0,"mat-error",12),s.Wb(),s.Xb(44,"div",8),s.Xb(45,"mat-hint",9),s.Tc(46,"Zip code*"),s.Wb(),s.Xb(47,"mat-card",10),s.Xb(48,"input",29),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)})("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().isAllSameDigit(t,n)}),s.Wb(),s.Wb(),s.Rc(49,Wl,3,0,"mat-error",12),s.Rc(50,Xl,3,0,"mat-error",12),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index,r=s.jc();s.rc("formGroupName",o),s.Eb(10),s.rc("ngIf",n.get("address1").touched&&!n.get("address1").valid||n.get("address1").touched&&n.get("address1").hasError("pattern")),s.Eb(6),s.rc("ngIf",n.get("address2").touched&&!n.get("address2").valid||n.get("address2").touched&&n.get("address2").hasError("pattern")),s.Eb(8),s.rc("ngForOf",r.arrayCountry),s.Eb(1),s.rc("ngIf",n.get("country").touched&&!n.get("country").valid),s.Eb(8),s.rc("ngForOf",r.arrayState),s.Eb(1),s.rc("ngIf",n.get("state").touched&&!n.get("state").valid),s.Eb(8),s.rc("ngForOf",r.arrayCity),s.Eb(1),s.rc("ngIf",n.get("city").touched&&!n.get("city").valid),s.Eb(6),s.rc("ngIf",n.get("zipCode").touched&&!n.get("zipCode").valid&&!n.controls.zipCode.hasError("minLength")),s.Eb(1),s.rc("ngIf",r.isAllSameDigitVal&&o==r.zipIndex)}}function Il(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Primary Email is Required! "),s.Wb())}var El,Cl=((El=function(){function t(e,n,o,r,i,c,s){a(this,t),this.data=e,this.dialogRef=n,this.formBuilder=o,this.corporateService=r,this.ls=i,this.snack=c,this.apiService=s,this.arrayState=[],this.arrayCountry=[],this.arrayCity=[],this.isAllSameDigitVal=!1,this.corporateAddress=new g.d([])}return o(t,[{key:"ngOnInit",value:function(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.getCountryName("country"),this.data?(this.buildContactForm(this.data[0]),this.corporateAddress=this.updateContactInfoForm.get("corporateAddress"),this.corporateAddress.push(this.createUserAddress(this.data[0])),this.getStateName(this.corporateAddress.get("country").value),this.getStateName(this.corporateAddress.get("state").value)):(this.buildContactForm(),this.corporateAddress=this.updateContactInfoForm.get("corporateAddress"),this.corporateAddress.push(this.createUserAddress()))}},{key:"buildContactForm",value:function(t){this.updateContactInfoForm=this.formBuilder.group({corporateId:[this.corporateId],primaryEmail:[t?t.primaryEmail:"",[g.A.required]],secondaryEmail:[t?t.secondaryEmail:""],mobileNumber:[t?t.mobileNumber:"",[g.A.minLength(10),g.A.maxLength(10)]],landLine:[t?t.landlineNumber:"",[g.A.maxLength,g.A.minLength]],isMailingAddressSame:["YES"],corporateAddress:this.formBuilder.array([])})}},{key:"createUserAddress",value:function(t){return this.formBuilder.group({addressType:["Communication",[g.A.required]],address1:[t?t.address1:[""],[g.A.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[g.A.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"isAllSameDigit",value:function(t,e){this.zipIndex=e;var a=0,n=t.target.value;if(""!=n){for(var o=0;o<n.length;o++)0==n[o]&&a++;this.isAllSameDigitVal=a==n.length}else this.isAllSameDigitVal=!1}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.arrayState=[],this.arrayCity=[],this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName==t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){e.arrayState=t});break}})}},{key:"getCityName",value:function(t){var e=this;this.apiService.getDropDownValues1("city",t).subscribe(function(t){e.arrayCity=t})}},{key:"onSubmit",value:function(t){var e=this;"NO"==t.isMailingAddressSame&&(t.corporateAddress[0].addressType="Company",t.corporateAddress[1].addressType="Mailing"),"YES"==t.isMailingAddressSame&&(t.corporateAddress[0].addressType="Company"),this.corporateService.saveOrUpdateCorporateAccountInfo(t).subscribe(function(t){null!=t&&(e.corporateService.sendCorporateAccountId(t.corporateId),e.snack.open("Contact Information Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"INITIATED",resp:e.updateContactInfoForm.value}))})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||El)(s.Rb(m.a),s.Rb(m.g),s.Rb(g.f),s.Rb(Gi.a),s.Rb(d.a),s.Rb(y.a),s.Rb(l.b))},El.\u0275cmp=s.Lb({type:El,selectors:[["app-update-corporate-contact-info"]],decls:45,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title","",2,"font-size","18px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["formArrayName","corporateAddress"],["fxFlex","row wrap","class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],[1,"heading",2,"font-weight","600"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","id","forPrimaryEmail","formControlName","primaryEmail","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"],[4,"ngIf"],["matInput","","id","forSecondaryEmail","formControlName","secondaryEmail","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"],["FxLayout","row wrap",1,"full-width"],["matInput","","placeholder","Mobile Number","formControlName","mobileNumber","maxLength","10","minlength","10","onlyNumber","","required","",3,"keypress"],["matInput","","placeholder","Landline Number","formControlName","landLine","maxLength","10","minLength","10","onlyNumber","",3,"keypress"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxFlex","row wrap",1,"full-width",3,"formGroupName"],["fxLayout","row wrap"],["matInput","","placeholder","Address Line 1","formControlName","address1","id","forAddress1"],["matInput","","placeholder","Address Line 2","formControlName","address2","id","forAddress2"],["id","forcountry","formControlName","country",3,"selectionChange"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["id","forstate","formControlName","state",3,"selectionChange"],["id","forCity","formControlName","city"],["minlength","6","placeholder","Zip Code","maxlength","10","matInput","","id","forZipCode","onlyNumber","","formControlName","zipCode",3,"keypress","keyup"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h2",2),s.Tc(4,"Contact Information"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"form",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Rc(9,Tl,51,11,"div",6),s.Wb(),s.Xb(10,"h3",7),s.Tc(11,"Email"),s.Wb(),s.Sb(12,"hr"),s.Xb(13,"div",4),s.Xb(14,"div",8),s.Xb(15,"mat-hint",9),s.Tc(16,"Primary Email*"),s.Wb(),s.Xb(17,"mat-card",10),s.Sb(18,"input",11),s.Wb(),s.Rc(19,Il,2,0,"mat-error",12),s.Wb(),s.Xb(20,"div",8),s.Xb(21,"mat-hint",9),s.Tc(22,"Secondary Email"),s.Wb(),s.Xb(23,"mat-card",10),s.Sb(24,"input",13),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"h3",7),s.Tc(26,"Contact Number"),s.Wb(),s.Sb(27,"hr"),s.Xb(28,"div",14),s.Xb(29,"div",8),s.Xb(30,"mat-hint",9),s.Tc(31,"Mobile Number*"),s.Wb(),s.Xb(32,"mat-card",10),s.Xb(33,"input",15),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",8),s.Xb(35,"mat-hint",9),s.Tc(36,"Landline Number"),s.Wb(),s.Xb(37,"mat-card",10),s.Xb(38,"input",16),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",17),s.Xb(40,"button",18),s.fc("click",function(){return e.onSubmit(e.updateContactInfoForm.value)}),s.Tc(41,"Save"),s.Wb(),s.Tc(42," \xa0\xa0\xa0 "),s.Xb(43,"button",19),s.fc("click",function(){return e.close()}),s.Tc(44," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(6),s.rc("formGroup",e.updateContactInfoForm),s.Eb(3),s.rc("ngForOf",e.updateContactInfoForm.get("corporateAddress").controls),s.Eb(10),s.rc("ngIf",e.updateContactInfoForm.get("primaryEmail").touched&&!e.updateContactInfoForm.get("primaryEmail").valid),s.Eb(21),s.rc("disabled",e.updateContactInfoForm.invalid))},directives:[W.e,W.d,X.a,m.h,m.e,g.C,g.s,g.j,g.e,i.m,W.b,T.f,I.a,E.b,g.c,g.r,g.i,g.x,i.n,g.n,$.a,g.z,W.f,R.b,g.k,C.a,D.n,g.m,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),El),xl=["ncForm"];function Al(t,e){1&t&&s.Sb(0,"mat-spinner")}function Rl(t,e){if(1&t&&(s.Xb(0,"div",14),s.Xb(1,"h1",15),s.Tc(2),s.kc(3,"slice"),s.kc(4,"uppercase"),s.Wb(),s.Wb()),2&t){var a=s.jc(2);s.Oc("background",a.customerColorCode),s.Eb(2),s.Vc("",s.nc(3,3,s.lc(4,7,null==a.dataResponse||null==a.dataResponse.dataResp?null:a.dataResponse.dataResp.companyName),0,1)," ")}}function Ol(t,e){if(1&t&&s.Sb(0,"img",17),2&t){var a=s.jc(3);s.rc("src",a.imageUrl,s.Jc)}}function Dl(t,e){if(1&t&&(s.Xb(0,"div",14),s.Rc(1,Ol,1,1,"img",16),s.Wb()),2&t){var a=s.jc(2);s.Eb(1),s.rc("ngIf",null!=a.image)}}function kl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",18),s.Xb(1,"div",19),s.Xb(2,"div",20),s.Tc(3,"1"),s.Wb(),s.Xb(4,"div",21),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",22),s.Xb(7,"div",23),s.Xb(8,"div",24),s.Xb(9,"div",25),s.Xb(10,"h2",26),s.Tc(11,"Basic Information"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",27),s.fc("click",function(){return s.Hc(a),s.jc(2).editBasicInfo()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",28),s.Wb(),s.Xb(16,"div",29),s.Xb(17,"div",30),s.Xb(18,"div",31),s.Xb(19,"div",32),s.Xb(20,"div",33),s.Xb(21,"div",34),s.Xb(22,"div",35),s.Xb(23,"div",36),s.Xb(24,"mat-hint",37),s.Tc(25," Corporate ID "),s.Wb(),s.Xb(26,"mat-card",38),s.Xb(27,"div"),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"div",36),s.Xb(30,"mat-hint",37),s.Tc(31," Company Name "),s.Wb(),s.Xb(32,"mat-card",38),s.Xb(33,"div"),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div",36),s.Xb(36,"mat-hint",37),s.Tc(37," Category "),s.Wb(),s.Xb(38,"mat-card",38),s.Xb(39,"div"),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",35),s.Xb(42,"div",36),s.Xb(43,"mat-hint",37),s.Tc(44," Country "),s.Wb(),s.Xb(45,"mat-card",38),s.Xb(46,"div"),s.Tc(47),s.Wb(),s.Wb(),s.Wb(),s.Xb(48,"div",36),s.Xb(49,"mat-hint",37),s.Tc(50," Corporate Status "),s.Wb(),s.Xb(51,"mat-card",38),s.Xb(52,"div"),s.Tc(53),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(15),s.Uc(n.dataResponse.dataResp.corporateId),s.Eb(6),s.Uc(n.dataResponse.dataResp.companyName),s.Eb(6),s.Uc(n.dataResponse.dataResp.category),s.Eb(7),s.Uc(n.dataResponse.dataResp.country),s.Eb(6),s.Uc(n.dataResponse.dataResp.corporateStatus)}}function Sl(t,e){if(1&t&&(s.Xb(0,"div",50),s.Xb(1,"mat-hint",37),s.Tc(2," No Of Directors "),s.Wb(),s.Xb(3,"mat-card",38),s.Xb(4,"div"),s.Tc(5),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(4);s.Eb(5),s.Uc(a.dataResponse.dataResp.noOfDirectors)}}function Nl(t,e){if(1&t&&(s.Xb(0,"div",50),s.Xb(1,"mat-hint",37),s.Tc(2," Middle Name "),s.Wb(),s.Xb(3,"mat-card",38),s.Xb(4,"div"),s.Tc(5),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(5),s.Uc(a.middleName)}}function Pl(t,e){if(1&t&&(s.Xb(0,"div",29),s.Xb(1,"div",30),s.Xb(2,"div",31),s.Xb(3,"div",32),s.Xb(4,"div",33),s.Xb(5,"div",34),s.Xb(6,"div",35),s.Rc(7,Sl,6,1,"div",43),s.Xb(8,"div",36),s.Xb(9,"mat-hint",37),s.Tc(10," CIF Number "),s.Wb(),s.Xb(11,"mat-card",38),s.Xb(12,"div"),s.Tc(13),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",36),s.Xb(15,"mat-hint",37),s.Tc(16," Customer ID "),s.Wb(),s.Xb(17,"mat-card",38),s.Xb(18,"div"),s.Tc(19),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",35),s.Xb(21,"div",36),s.Xb(22,"mat-hint",37),s.Tc(23," Prefix* "),s.Wb(),s.Xb(24,"mat-card",38),s.Xb(25,"div"),s.Tc(26),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"div",36),s.Xb(28,"mat-hint",37),s.Tc(29," First Name* "),s.Wb(),s.Xb(30,"mat-card",38),s.Xb(31,"div"),s.Tc(32),s.Wb(),s.Wb(),s.Wb(),s.Rc(33,Nl,6,1,"div",43),s.Xb(34,"div",36),s.Xb(35,"mat-hint",37),s.Tc(36," Last Name* "),s.Wb(),s.Xb(37,"mat-card",38),s.Xb(38,"div"),s.Tc(39),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(40,"div",35),s.Xb(41,"div",36),s.Xb(42,"mat-hint",37),s.Tc(43," Gender* "),s.Wb(),s.Xb(44,"mat-card",38),s.Xb(45,"div"),s.Tc(46),s.Wb(),s.Wb(),s.Wb(),s.Xb(47,"div",36),s.Xb(48,"mat-hint",37),s.Tc(49," Date of Birth* "),s.Wb(),s.Xb(50,"mat-card",38),s.Xb(51,"div"),s.Tc(52),s.Wb(),s.Wb(),s.Wb(),s.Xb(53,"div",36),s.Xb(54,"mat-hint",37),s.Tc(55," Place of Birth* "),s.Wb(),s.Xb(56,"mat-card",38),s.Xb(57,"div"),s.Tc(58),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(59,"div",29),s.Xb(60,"div",36),s.Xb(61,"mat-hint",37),s.Tc(62," Residence type*"),s.Wb(),s.Xb(63,"mat-card",38),s.Xb(64,"div"),s.Tc(65),s.Wb(),s.Wb(),s.Wb(),s.Xb(66,"div",36),s.Xb(67,"mat-hint",37),s.Tc(68," Citizenship*"),s.Wb(),s.Xb(69,"mat-card",38),s.Xb(70,"div"),s.Tc(71),s.Wb(),s.Wb(),s.Wb(),s.Xb(72,"div",36),s.Xb(73,"mat-hint",37),s.Tc(74," Country of Residence*"),s.Wb(),s.Xb(75,"mat-card",38),s.Xb(76,"div"),s.Tc(77),s.Wb(),s.Wb(),s.Wb(),s.Xb(78,"div",36),s.Xb(79,"mat-hint",37),s.Tc(80," ID Type*"),s.Wb(),s.Xb(81,"mat-card",38),s.Xb(82,"div"),s.Tc(83),s.Wb(),s.Wb(),s.Wb(),s.Xb(84,"div",36),s.Xb(85,"mat-hint",37),s.Tc(86," ID Number*"),s.Wb(),s.Xb(87,"mat-card",38),s.Xb(88,"div"),s.Tc(89),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(90,"div",33),s.Xb(91,"div",44),s.Xb(92,"h1",45),s.Tc(93,"Communication Address"),s.Wb(),s.Wb(),s.Wb(),s.Sb(94,"hr",46),s.Xb(95,"div",29),s.Xb(96,"div",47),s.Xb(97,"mat-hint",37),s.Tc(98," Address Line 1* "),s.Wb(),s.Xb(99,"mat-card",38),s.Xb(100,"div"),s.Tc(101),s.Wb(),s.Wb(),s.Wb(),s.Xb(102,"div",47),s.Xb(103,"mat-hint",37),s.Tc(104," Address Line 2* "),s.Wb(),s.Xb(105,"mat-card",38),s.Xb(106,"div"),s.Tc(107),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(108,"div",29),s.Xb(109,"div",48),s.Xb(110,"mat-hint",37),s.Tc(111," Country* "),s.Wb(),s.Xb(112,"mat-card",38),s.Xb(113,"div"),s.Tc(114),s.Wb(),s.Wb(),s.Wb(),s.Xb(115,"div",48),s.Xb(116,"mat-hint",37),s.Tc(117," State* "),s.Wb(),s.Xb(118,"mat-card",38),s.Xb(119,"div"),s.Tc(120),s.Wb(),s.Wb(),s.Wb(),s.Xb(121,"div",48),s.Xb(122,"mat-hint",37),s.Tc(123," City* "),s.Wb(),s.Xb(124,"mat-card",38),s.Xb(125,"div"),s.Tc(126),s.Wb(),s.Wb(),s.Wb(),s.Xb(127,"div",48),s.Xb(128,"mat-hint",37),s.Tc(129," Zipcode* "),s.Wb(),s.Xb(130,"mat-card",38),s.Xb(131,"div"),s.Tc(132),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(133,"div",33),s.Xb(134,"div",44),s.Xb(135,"h1",45),s.Tc(136,"Contact Information"),s.Wb(),s.Wb(),s.Wb(),s.Sb(137,"hr",46),s.Xb(138,"div",29),s.Xb(139,"div",36),s.Xb(140,"mat-hint",37),s.Tc(141," Mobile Number* "),s.Wb(),s.Xb(142,"mat-card",38),s.Xb(143,"div"),s.Tc(144),s.Wb(),s.Wb(),s.Wb(),s.Xb(145,"div",36),s.Xb(146,"mat-hint",37),s.Tc(147," Landline Number* "),s.Wb(),s.Xb(148,"mat-card",38),s.Xb(149,"div"),s.Tc(150),s.Wb(),s.Wb(),s.Wb(),s.Xb(151,"div",36),s.Xb(152,"mat-hint",37),s.Tc(153," Email* "),s.Wb(),s.Xb(154,"mat-card",38),s.Xb(155,"div"),s.Tc(156),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(157,"div",29),s.Xb(158,"div",49),s.Xb(159,"h1",45),s.Tc(160,"Additional Tax ID Details"),s.Wb(),s.Wb(),s.Wb(),s.Sb(161,"hr",46),s.Xb(162,"div",29),s.Xb(163,"div",47),s.Xb(164,"mat-hint",37),s.Tc(165," Tax ID* "),s.Wb(),s.Xb(166,"mat-card",38),s.Xb(167,"div"),s.Tc(168),s.Wb(),s.Wb(),s.Wb(),s.Xb(169,"div",47),s.Xb(170,"mat-hint",37),s.Tc(171," Country of Issue* "),s.Wb(),s.Xb(172,"mat-card",38),s.Xb(173,"div"),s.Tc(174),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=s.jc(3);s.Eb(7),s.rc("ngIf",n.dataResponse.dataResp.middleName),s.Eb(6),s.Uc(a.cifNumber),s.Eb(6),s.Uc(a.custStatus),s.Eb(7),s.Uc(a.prefix),s.Eb(6),s.Uc(a.firstName),s.Eb(1),s.rc("ngIf",n.dataResponse.dataResp.middleName),s.Eb(6),s.Uc(a.lastName),s.Eb(7),s.Uc(a.gender),s.Eb(6),s.Uc(a.dateOfBirth),s.Eb(6),s.Uc(a.placeOfBirth),s.Eb(7),s.Uc(a.residenceStatus),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].citizenship),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].countryOfResidence),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].custIdProofs[0].idType),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].custIdProofs[0].idNumber),s.Eb(12),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].address1),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].address2),s.Eb(7),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].country),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].state),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].city),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].zipCode),s.Eb(12),s.Uc(n.dataResponse.dataResp.customerInfo[0].phoneNumber),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].landlineNumber),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].primaryEmailAdress),s.Eb(12),s.Uc(n.dataResponse.dataResp.customerInfo[0].custTaxInfo[0].taxId),s.Eb(6),s.Uc(n.dataResponse.dataResp.customerInfo[0].custTaxInfo[0].countryOfIssue)}}function Fl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",18),s.Xb(1,"div",19),s.Xb(2,"div",20),s.Tc(3,"2"),s.Wb(),s.Xb(4,"div",21),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",39),s.Xb(7,"div",40),s.Xb(8,"div",41),s.Xb(9,"div",25),s.Xb(10,"h2",26),s.Tc(11,"Director Details"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",27),s.fc("click",function(){return s.Hc(a),s.jc(2).editDirectorDetails()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",28),s.Wb(),s.Rc(16,Pl,175,26,"div",42),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(3),s.rc("ngForOf",n.directorsInfo_array)}}function Ll(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",29),s.Xb(2,"div",30),s.Xb(3,"div",53),s.Xb(4,"div",33),s.Xb(5,"div",44),s.Xb(6,"h1",45),s.Tc(7,"Company Address"),s.Wb(),s.Wb(),s.Wb(),s.Sb(8,"hr",46),s.Xb(9,"div",29),s.Xb(10,"div",47),s.Xb(11,"mat-hint",37),s.Tc(12," Address Line 1* "),s.Wb(),s.Xb(13,"mat-card",38),s.Xb(14,"div"),s.Tc(15),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div",47),s.Xb(17,"mat-hint",37),s.Tc(18," Address Line 2* "),s.Wb(),s.Xb(19,"mat-card",38),s.Xb(20,"div"),s.Tc(21),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div",29),s.Xb(23,"div",48),s.Xb(24,"mat-hint",37),s.Tc(25," Country* "),s.Wb(),s.Xb(26,"mat-card",38),s.Xb(27,"div"),s.Tc(28),s.Wb(),s.Wb(),s.Wb(),s.Xb(29,"div",48),s.Xb(30,"mat-hint",37),s.Tc(31," State* "),s.Wb(),s.Xb(32,"mat-card",38),s.Xb(33,"div"),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div",48),s.Xb(36,"mat-hint",37),s.Tc(37," City* "),s.Wb(),s.Xb(38,"mat-card",38),s.Xb(39,"div"),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",48),s.Xb(42,"mat-hint",37),s.Tc(43," Zipcode* "),s.Wb(),s.Xb(44,"mat-card",38),s.Xb(45,"div"),s.Tc(46),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(47,"div",33),s.Xb(48,"div",44),s.Xb(49,"h1",45),s.Tc(50,"Email"),s.Wb(),s.Wb(),s.Wb(),s.Sb(51,"hr",46),s.Xb(52,"div",29),s.Xb(53,"div",48),s.Xb(54,"mat-hint",37),s.Tc(55," Primary Email* "),s.Wb(),s.Xb(56,"mat-card",38),s.Xb(57,"div"),s.Tc(58),s.Wb(),s.Wb(),s.Wb(),s.Xb(59,"div",48),s.Xb(60,"mat-hint",37),s.Tc(61," Secondary Email "),s.Wb(),s.Xb(62,"mat-card",38),s.Xb(63,"div"),s.Tc(64),s.Wb(),s.Wb(),s.Wb(),s.Xb(65,"div",33),s.Xb(66,"div",44),s.Xb(67,"h1",45),s.Tc(68,"Contact Number"),s.Wb(),s.Wb(),s.Wb(),s.Sb(69,"hr",46),s.Xb(70,"div",48),s.Xb(71,"mat-hint",37),s.Tc(72," Mobile Number* "),s.Wb(),s.Xb(73,"mat-card",38),s.Xb(74,"div"),s.Tc(75),s.Wb(),s.Wb(),s.Wb(),s.Xb(76,"div",48),s.Xb(77,"mat-hint",37),s.Tc(78," Landline Number* "),s.Wb(),s.Xb(79,"mat-card",38),s.Xb(80,"div"),s.Tc(81),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(3);s.Eb(15),s.Uc(a.dataResponse.dataResp.corporateAddress[0].address1),s.Eb(6),s.Uc(a.dataResponse.dataResp.corporateAddress[0].address2),s.Eb(7),s.Uc(a.dataResponse.dataResp.corporateAddress[0].country),s.Eb(6),s.Uc(a.dataResponse.dataResp.corporateAddress[0].state),s.Eb(6),s.Uc(a.dataResponse.dataResp.corporateAddress[0].city),s.Eb(6),s.Uc(a.dataResponse.dataResp.corporateAddress[0].zipCode),s.Eb(12),s.Uc(a.dataResponse.dataResp.primaryEmail),s.Eb(6),s.Uc(a.dataResponse.dataResp.secondaryEmail),s.Eb(11),s.Uc(a.dataResponse.dataResp.mobileNumber),s.Eb(6),s.Uc(a.dataResponse.dataResp.customerInfo[0].landlineNumber)}}function wl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",18),s.Xb(1,"div",19),s.Xb(2,"div",20),s.Tc(3,"3"),s.Wb(),s.Xb(4,"div",21),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",51),s.Xb(7,"div",23),s.Xb(8,"div",40),s.Xb(9,"div",41),s.Xb(10,"div",25),s.Xb(11,"h2",26),s.Tc(12,"Contact Information"),s.Wb(),s.Xb(13,"span"),s.Xb(14,"mat-icon",27),s.fc("click",function(){return s.Hc(a),s.jc(2).editContactInfo()}),s.Tc(15,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(16,"mat-divider",28),s.Wb(),s.Rc(17,Ll,82,10,"div",52),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(14),s.rc("hidden",n.editScreen),s.Eb(3),s.rc("ngForOf",n.userAddress_array)}}function Ul(t,e){1&t&&(s.Xb(0,"small",57),s.Tc(1,"No Data Found"),s.Wb())}function _l(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",35),s.Xb(2,"div",36),s.Xb(3,"mat-hint",37),s.Tc(4," Incorporation Number "),s.Wb(),s.Xb(5,"mat-card",38),s.Xb(6,"div"),s.Tc(7),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"div",36),s.Xb(9,"mat-hint",37),s.Tc(10," Date Of Issue "),s.Wb(),s.Xb(11,"mat-card",38),s.Xb(12,"div"),s.Tc(13),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",36),s.Xb(15,"mat-hint",37),s.Tc(16," Date Of Expiry "),s.Wb(),s.Xb(17,"mat-card",38),s.Xb(18,"div"),s.Tc(19),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc(3);s.Eb(7),s.Uc(a.dataResponse.dataResp.incorporationNumber),s.Eb(6),s.Uc(a.dataResponse.dataResp.dateOfIssue),s.Eb(6),s.Uc(a.dataResponse.dataResp.dateOfExpiry)}}function Ml(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",18),s.Xb(1,"div",19),s.Xb(2,"div",20),s.Tc(3,"4"),s.Wb(),s.Xb(4,"div",21),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",54),s.Xb(7,"div",40),s.Xb(8,"div",41),s.Xb(9,"div",25),s.Xb(10,"h2",26),s.Tc(11,"Proof Of Identity"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",27),s.fc("click",function(){return s.Hc(a),s.jc(2).editProofOfIdentity()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",28),s.Wb(),s.Xb(16,"div"),s.Xb(17,"div",55),s.Xb(18,"div",53),s.Rc(19,Ul,2,0,"small",56),s.Rc(20,_l,20,3,"div",1),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(6),s.rc("ngIf",null==n.custDoc_array),s.Eb(1),s.rc("ngIf",null!=n.custDoc_array&&(null==n.custDoc_array?null:n.custDoc_array.length)>0)}}function Gl(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",36),s.Xb(2,"mat-hint",37),s.Tc(3," Document Type* "),s.Wb(),s.Xb(4,"mat-card",38),s.Xb(5,"div"),s.Tc(6),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",36),s.Xb(8,"mat-hint",60),s.Tc(9," \xa0\xa0 Document Name* "),s.Wb(),s.Xb(10,"div",61),s.Sb(11,"img",62),s.Xb(12,"div"),s.Tc(13),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",36),s.Xb(15,"div",63),s.Xb(16,"a",64),s.Tc(17,"Download "),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(6),s.Uc(a.documentName),s.Eb(5),s.rc("src",a.fileUrl,s.Jc),s.Eb(2),s.Uc(a.fileName),s.Eb(3),s.sc("href",a.fileUrl,s.Jc)}}function Vl(t,e){if(1&t&&(s.Xb(0,"div",32),s.Rc(1,Gl,18,4,"div",1),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.rc("ngIf","Profile"!=a.documentName)}}function Bl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",18),s.Xb(1,"div",19),s.Xb(2,"div",20),s.Tc(3,"5"),s.Wb(),s.Xb(4,"div",21),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"mat-card",58),s.Xb(7,"div",40),s.Xb(8,"div",41),s.Xb(9,"div",25),s.Xb(10,"h2",26),s.Tc(11,"Other Information"),s.Wb(),s.Xb(12,"span"),s.Xb(13,"mat-icon",27),s.fc("click",function(){return s.Hc(a),s.jc(2).editOtherInfo()}),s.Tc(14,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(15,"mat-divider",28),s.Wb(),s.Xb(16,"div",29),s.Xb(17,"div",30),s.Xb(18,"div",31),s.Xb(19,"div",32),s.Xb(20,"div",33),s.Xb(21,"div",44),s.Xb(22,"h1",45),s.Tc(23,"Organization Information"),s.Wb(),s.Wb(),s.Sb(24,"hr",46),s.Xb(25,"div",34),s.Xb(26,"div",35),s.Xb(27,"div",36),s.Xb(28,"mat-hint",37),s.Tc(29," Organization Type "),s.Wb(),s.Xb(30,"mat-card",38),s.Xb(31,"div"),s.Tc(32),s.Wb(),s.Wb(),s.Wb(),s.Xb(33,"div",36),s.Xb(34,"mat-hint",37),s.Tc(35," Type of Ownership "),s.Wb(),s.Xb(36,"mat-card",38),s.Xb(37,"div"),s.Tc(38),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",33),s.Rc(40,Vl,2,1,"div",59),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(13),s.rc("hidden",n.editScreen),s.Eb(19),s.Uc(n.dataResponse.dataResp.organizationType),s.Eb(6),s.Uc(n.dataResponse.dataResp.typeOfOwnership),s.Eb(2),s.rc("ngForOf",n.custDoc_array)}}var jl=function(t,e){return{disabledbtn:t,rejectbtn:e}},zl=function(t,e){return{disabledbtn:t,approvebtn:e}};function ql(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",65),s.Xb(2,"button",66),s.fc("click",function(){s.Hc(a);var t=s.jc(2);return t.updateApplicationStatus(t.dataResponse,"REJECTED")}),s.Tc(3," Reject "),s.Wb(),s.Tc(4," \xa0\xa0 "),s.Xb(5,"button",67),s.fc("click",function(){s.Hc(a);var t=s.jc(2);return t.updateApplicationStatus(t.dataResponse,"APPROVED")}),s.Tc(6,"Approve"),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(2),s.rc("hidden",n.rejectedStatus)("ngClass",s.yc(4,jl,n.rejectedStatus,!n.rejectedStatus)),s.Eb(3),s.rc("hidden",n.approvedStatus)("ngClass",s.yc(7,zl,n.approvedStatus,!n.approvedStatus))}}function Jl(t,e){if(1&t&&(s.Xb(0,"div",7),s.Xb(1,"div",8),s.Xb(2,"div",9),s.Rc(3,Rl,5,9,"div",10),s.Rc(4,Dl,2,1,"div",11),s.Wb(),s.Wb(),s.Sb(5,"br"),s.Sb(6,"br"),s.Sb(7,"br"),s.Sb(8,"br"),s.Xb(9,"div",12),s.Xb(10,"h2"),s.Tc(11),s.Wb(),s.Wb(),s.Rc(12,kl,54,6,"div",13),s.Rc(13,Fl,17,2,"div",13),s.Rc(14,wl,18,2,"div",13),s.Sb(15,"br"),s.Rc(16,Ml,21,3,"div",13),s.Rc(17,Bl,41,4,"div",13),s.Rc(18,ql,7,10,"div",1),s.Sb(19,"br"),s.Wb()),2&t){var a=s.jc();s.Eb(3),s.rc("ngIf","not_available"==a.imageUrl),s.Eb(1),s.rc("ngIf","not_available"!=a.imageUrl),s.Eb(7),s.Vc("",null==a.dataResponse||null==a.dataResponse.dataResp?null:a.dataResponse.dataResp.companyName,"\xa0 "),s.Eb(1),s.rc("ngIf",!a.loading),s.Eb(1),s.rc("ngIf",!a.loading),s.Eb(1),s.rc("ngIf",!a.loading),s.Eb(2),s.rc("ngIf",!a.loading),s.Eb(1),s.rc("ngIf",!a.loading),s.Eb(1),s.rc("ngIf",!a.loading)}}var Kl,$l=((Kl=function(){function t(e,n,o,r,i,c,s,l,b,u){a(this,t),this.tasSumService=e,this.cdr=n,this.router=o,this.ls=r,this.apiService=i,this.dialogRef=c,this.dataResponse=s,this.sanitizer=l,this.snack=b,this.dialog=u,this.selectedIndex=0,this.addNewProof=!1,this.arrayPrefix=[],this.arrayGender=[],this.arrayMaritalStatus=[],this.arrayCountry=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayEmploymentType=[],this.arrayEmployerName=[],this.otherDocumentArray=[],this.proofDocumentArray=[],this.loading=!0,this.isOnGoing=""}return o(t,[{key:"ngOnInit",value:function(){var t=this;setTimeout(function(){t.loading=!0,t.corporateId=t.dataResponse.dataResp.corporateId,t.ls.setItem("corporateId",t.corporateId),t.custDoc_array=t.dataResponse.dataResp.corporateDocs,t.getCustomerDocumentsDetails1(t.corporateId),t.phoneNum=t.dataResponse.dataResp.category,t.emailID=t.dataResponse.dataResp.companyName,t.customerColorCode=localStorage.getItem("CustomerColorCode"),t.apiService.getCoropratedetails(t.corporateId).subscribe(function(e){t.imageUrl=e.profileImage}),t.status=t.dataResponse.dataResp.corporateStatus,t.errorStatus=t.dataResponse.dataResp.custStatus,t.userAddress_array=t.dataResponse.dataResp.customerInfo[0].userAddress,t.custIdProofs_array=t.dataResponse.dataResp.custIdProofs,t.directorsInfo_array=t.dataResponse.dataResp.customerInfo,console.log("result::",t.custIdProofs_array),console.log("status::",t.status),"REJECTED"===t.status?(t.approvedStatus=!0,t.rejectedStatus=!0,t.editScreen=!1):"APPROVED"===t.status?(t.approvedStatus=!0,t.rejectedStatus=!0,t.editScreen=!0):"UNDER_PROCESS"===t.status?(t.approvedStatus=!0,t.rejectedStatus=!1,t.isOnGoing=t.status,t.editScreen=!1):"INITIATED"===t.status&&(t.approvedStatus=!1,t.rejectedStatus=!1,t.editScreen=!1),t.getProfileImage(t.dataResponse.dataResp.corporateId)},5e3)}},{key:"goToCorporate",value:function(){console.log("Navigating to edit screen"),this.router.navigateByUrl("/onboardingCorporate/corporate"),console.log(this.dataResponse),this.ls.setItem("EDIT-CORPORATEID",this.dataResponse.dataResp.corporateId),this.dialogRef.close({message:"Confirm"})}},{key:"getCustomerDocumentsDetails",value:function(t){var e=this;this.document_type="3",this.apiService.getCustomerDocuments(t,this.document_type).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName)})}},{key:"getCustomerDocumentsDetails1",value:function(t){var e=this;this.document_type="2",this.apiService.getCustomerDocuments(t,this.document_type).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName)})}},{key:"updateApplicationStatus",value:function(t,e,a){var n=this;t.dataResp.corporateStatus=e,this.statusUpdate=e,this.apiService.updateCorporateSatatus(t.dataResp.corporateId,e).subscribe(function(t){null!=t&&(n.cdr.markForCheck(),n.cdr.detectChanges(),1!=a&&n.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),n.snack.open(e+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},function(t){console.log("error resp :: ",t),n.errorStatus=e,n.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(t){t.recordStatus=this.statusUpdate,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getCoropratedetails(t).subscribe(function(t){console.log(t),null!=t.profileImage&&(e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},function(t){})}},{key:"openEditScreen",value:function(t,e){var a=this;this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){console.log(t),a.status=t.status,"INITIATED"==t.status&&(a.status="INITIATED",a.updateApplicationStatus(a.dataResponse,"INITIATED",!0),Object.assign(e,t.resp))})}},{key:"editBasicInfo",value:function(){this.openEditScreen(zc,this.dataResponse.dataResp)}},{key:"editDirectorDetails",value:function(){this.openEditScreen(Bs,this.directorsInfo_array)}},{key:"editContactInfo",value:function(){this.openEditScreen(Cl,this.userAddress_array)}},{key:"editProofOfIdentity",value:function(){this.openEditScreen(al,this.dataResponse.dataResp)}},{key:"editOtherInfo",value:function(){this.openEditScreen(ul,this.dataResponse.dataResp)}}]),t}()).\u0275fac=function(t){return new(t||Kl)(s.Rb(h.a),s.Rb(s.h),s.Rb(He.h),s.Rb(d.a),s.Rb(l.b),s.Rb(m.g),s.Rb(m.a),s.Rb(io.b),s.Rb(y.a),s.Rb(m.b))},Kl.\u0275cmp=s.Lb({type:Kl,selectors:[["app-corporate-approver"]],viewQuery:function(t,e){var a;1&t&&s.ad(xl,!0),2&t&&s.Cc(a=s.gc())&&(e.ncForm=a.first)},inputs:{initiatedArr:"initiatedArr"},decls:10,vars:2,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["class","main",4,"ngIf"],[1,"main"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Basic Information",2,"border-radius","0px","width","800px"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width",2,"padding","1rem 1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[2,"font-size","18px"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px","width","750px"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"padding-bottom","1rem"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["label","Director Details",2,"border-radius","0px","width","800px"],[1,"full-width",2,"padding","1rem"],[2,"padding-bottom","1rem"],["fxLayout","row wrap","style","padding: 0.5rem 0;","class","full-width",4,"ngFor","ngForOf"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","40%","fxFlex.xs","50%",2,"padding","0.5rem 0.5rem"],[2,"font-size","16px"],[1,"margintop"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["fxFlex","40%","fxFlex.xs","50%"],["fxFlex","40%","fxFlex.xs","100%"],["label","Contact Information",2,"border-radius","0px","width","800px"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["label","Proof Of Identity",2,"border-radius","0px","width","800px"],[2,"padding","1rem 0"],["style","color: grey;",4,"ngIf"],[2,"color","grey"],["label","Other Information",2,"border-radius","0px","width","800px"],["class","full-width",4,"ngFor","ngForOf"],[1,"hint1",2,"text-align","center"],[2,"text-align","center"],["required","","alt","",1,"formImg2",3,"src"],[2,"margin-top","35px"],["download","",2,"color","#4A56E2","text-decoration","underline",3,"href"],[2,"float","right"],["type","button",1,"rejectbtn",3,"hidden","ngClass","click"],["type","button",1,"approvebtn",3,"hidden","ngClass","click"]],template:function(t,e){1&t&&(s.Xb(0,"form"),s.Xb(1,"div",0),s.Rc(2,Al,1,0,"mat-spinner",1),s.Wb(),s.Xb(3,"div",2),s.Xb(4,"div",3),s.Xb(5,"div",4),s.Xb(6,"div"),s.Xb(7,"mat-icon",5),s.fc("click",function(){return e.close(e.dataResponse)}),s.Tc(8," close"),s.Wb(),s.Wb(),s.Wb(),s.Rc(9,Jl,20,9,"div",6),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(2),s.rc("ngIf",e.loading),s.Eb(7),s.rc("ngIf",!e.loading))},directives:[g.C,g.s,g.t,W.d,i.n,W.e,X.a,O.b,I.c,W.b,I.a,Ba.a,T.f,i.m,i.l,co.a],pipes:[i.v,i.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center}.editbtn{color:#0e7cc5;cursor:pointer}.num{border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;background-color:#fff}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:5%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:30px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 2.7rem;color:#fff}.mat1{height:3.3rem}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.margintop{margin-top:0;width:732px}"],encapsulation:2}),Kl),Hl=function(t,e,a,n){return new(a||(a=Promise))(function(o,r){function i(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(i,c)}s((n=n.apply(t,e||[])).next())})};function Yl(t,e){1&t&&s.Sb(0,"mat-spinner")}function Zl(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",19),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"div",20),s.Rc(2,Yl,1,0,"mat-spinner",21),s.Wb(),s.Xb(3,"mat-icon"),s.Tc(4,"close"),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(2),s.rc("ngIf",n.loading)}}function Ql(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",a.companyName)}}function tb(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"img",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("src",null==a.corporateDocs[0]?null:a.corporateDocs[0].fileUrl,s.Jc)}}function eb(t,e){if(1&t&&s.Sb(0,"img",34),2&t){var a=s.jc(2).$implicit;s.rc("src",null==a.corporateDocs[0]?null:a.corporateDocs[0].fileUrl,s.Jc)}}function ab(t,e){1&t&&s.Rc(0,eb,1,1,"ng-template",null,35,s.Sc)}function nb(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToCorporateOnBoardingSummary(t,"INITATED",o.getRandomColor(n+3))}),s.Xb(1,"div",23),s.Xb(2,"mat-icon",24),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",25),s.Xb(9,"div",26),s.Rc(10,Ql,2,1,"div",21),s.Rc(11,tb,2,1,"div",21),s.Rc(12,ab,2,0,void 0,21),s.Wb(),s.Xb(13,"mat-card-title",27),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Tc(16),s.Wb(),s.Wb(),s.Xb(17,"form",28),s.Xb(18,"div",29),s.Xb(19,"span"),s.Tc(20,"Category "),s.Wb(),s.Xb(21,"span"),s.Tc(22,"Organization Type"),s.Wb(),s.Wb(),s.Xb(23,"div",30),s.Xb(24,"span"),s.Tc(25),s.Wb(),s.Xb(26,"span"),s.Tc(27),s.Wb(),s.Wb(),s.Sb(28,"br"),s.Xb(29,"div",31),s.Xb(30,"span"),s.Tc(31,"Date Of Issue"),s.Wb(),s.Xb(32,"span"),s.Tc(33,"Type Of Ownership"),s.Wb(),s.Wb(),s.Xb(34,"div",32),s.Xb(35,"span"),s.Tc(36),s.kc(37,"date"),s.Wb(),s.Xb(38,"span"),s.Tc(39),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(6),s.Uc(s.lc(7,10,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf",null==n.corporateDocs),s.Eb(1),s.rc("ngIf",1==(null==n.corporateDocs[0]?null:n.corporateDocs[0].documentType)),s.Eb(1),s.rc("ngIf",1==(null==n.corporateDocs[0]?null:n.corporateDocs[0].documentType)),s.Eb(2),s.Vc(" ",n.companyName,"\xa0 "),s.Eb(2),s.Vc("#",n.corporateId,""),s.Eb(9),s.Uc(n.category),s.Eb(2),s.Uc(n.organizationType),s.Eb(9),s.Uc(s.lc(37,12,n.dateOfIssue)),s.Eb(3),s.Uc(n.typeOfOwnership)}}function ob(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",a.companyName)}}function rb(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"img",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("src",a.profileImage,s.Jc)}}function ib(t,e){if(1&t&&s.Sb(0,"img",37),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function cb(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToCorporateOnBoardingSummary(t,"UNDER_PROCESS",o.getRandomColor(n+6))}),s.Xb(1,"div",23),s.Xb(2,"mat-icon",36),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",25),s.Xb(9,"div",26),s.Rc(10,ob,2,1,"div",21),s.Rc(11,rb,2,1,"div",21),s.Rc(12,ib,1,1,"ng-template",null,35,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",27),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Tc(17),s.Wb(),s.Wb(),s.Xb(18,"form",28),s.Xb(19,"div",29),s.Xb(20,"span"),s.Tc(21,"Category "),s.Wb(),s.Xb(22,"span"),s.Tc(23,"Organization Type"),s.Wb(),s.Wb(),s.Xb(24,"div",30),s.Xb(25,"span"),s.Tc(26),s.Wb(),s.Xb(27,"span"),s.Tc(28),s.Wb(),s.Wb(),s.Sb(29,"br"),s.Xb(30,"div",31),s.Xb(31,"span"),s.Tc(32,"Date Of Issue"),s.Wb(),s.Xb(33,"span"),s.Tc(34,"Type Of Ownership"),s.Wb(),s.Wb(),s.Xb(35,"div",32),s.Xb(36,"span"),s.Tc(37),s.kc(38,"date"),s.Wb(),s.Xb(39,"span"),s.Tc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(6),s.Uc(s.lc(7,9,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf",null==n.profileImage),s.Eb(1),s.rc("ngIf",null!=n.profileImage),s.Eb(4),s.Vc(" ",n.companyName," "),s.Eb(2),s.Vc("#",n.corporateId,""),s.Eb(9),s.Uc(n.category),s.Eb(2),s.Uc(n.organizationType),s.Eb(9),s.Uc(s.lc(38,11,n.dateOfIssue)),s.Eb(3),s.Uc(n.typeOfOwnership)}}function sb(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",a.companyName)}}function lb(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"img",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("src",a.profileImage,s.Jc)}}function bb(t,e){if(1&t&&s.Sb(0,"img",37),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function ub(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToCorporateOnBoardingSummary(t,"APPROVED",o.getRandomColor(n+12))}),s.Xb(1,"div",23),s.Xb(2,"mat-icon",38),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",25),s.Xb(9,"div",26),s.Rc(10,sb,2,1,"div",21),s.Rc(11,lb,2,1,"div",21),s.Rc(12,bb,1,1,"ng-template",null,35,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",27),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Tc(17),s.Wb(),s.Wb(),s.Xb(18,"form",28),s.Xb(19,"div",29),s.Xb(20,"span"),s.Tc(21,"Category "),s.Wb(),s.Xb(22,"span"),s.Tc(23,"Organization Type"),s.Wb(),s.Wb(),s.Xb(24,"div",30),s.Xb(25,"span"),s.Tc(26),s.Wb(),s.Xb(27,"span"),s.Tc(28),s.Wb(),s.Wb(),s.Sb(29,"br"),s.Xb(30,"div",31),s.Xb(31,"span"),s.Tc(32,"Date Of Issue"),s.Wb(),s.Xb(33,"span"),s.Tc(34,"Type Of Ownership"),s.Wb(),s.Wb(),s.Xb(35,"div",32),s.Xb(36,"span"),s.Tc(37),s.kc(38,"date"),s.Wb(),s.Xb(39,"span"),s.Tc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(6),s.Uc(s.lc(7,9,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf",null==n.profileImage),s.Eb(1),s.rc("ngIf",null!=n.profileImage),s.Eb(4),s.Vc(" ",n.companyName," "),s.Eb(2),s.Vc("#",n.corporateId,""),s.Eb(9),s.Uc(n.category),s.Eb(2),s.Uc(n.organizationType),s.Eb(9),s.Uc(s.lc(38,11,n.dateOfIssue)),s.Eb(3),s.Uc(n.typeOfOwnership)}}function db(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",33),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",a.companyName)}}function mb(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"img",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("src",a.profileImage,s.Jc)}}function fb(t,e){if(1&t&&s.Sb(0,"img",37),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function pb(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToCorporateOnBoardingSummary(t,"REJECTED",o.getRandomColor(n+15))}),s.Xb(1,"div",23),s.Xb(2,"mat-icon",39),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",25),s.Xb(9,"div",26),s.Rc(10,db,2,1,"div",21),s.Rc(11,mb,2,1,"div",21),s.Rc(12,fb,1,1,"ng-template",null,35,s.Sc),s.Wb(),s.Xb(14,"mat-card-title",27),s.Tc(15),s.Wb(),s.Xb(16,"mat-card-subtitle"),s.Tc(17),s.Wb(),s.Wb(),s.Xb(18,"form",28),s.Xb(19,"div",29),s.Xb(20,"span"),s.Tc(21,"Category "),s.Wb(),s.Xb(22,"span"),s.Tc(23,"Organization Type"),s.Wb(),s.Wb(),s.Xb(24,"div",30),s.Xb(25,"span"),s.Tc(26),s.Wb(),s.Xb(27,"span"),s.Tc(28),s.Wb(),s.Wb(),s.Sb(29,"br"),s.Xb(30,"div",31),s.Xb(31,"span"),s.Tc(32,"Date Of Issue"),s.Wb(),s.Xb(33,"span"),s.Tc(34,"Type Of Ownership"),s.Wb(),s.Wb(),s.Xb(35,"div",32),s.Xb(36,"span"),s.Tc(37),s.kc(38,"date"),s.Wb(),s.Xb(39,"span"),s.Tc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(6),s.Uc(s.lc(7,9,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf",null==n.profileImage),s.Eb(1),s.rc("ngIf",null!=n.profileImage),s.Eb(4),s.Vc(" ",n.companyName," "),s.Eb(2),s.Vc("#",n.corporateId,""),s.Eb(9),s.Uc(n.category),s.Eb(2),s.Uc(n.organizationType),s.Eb(9),s.Uc(s.lc(38,11,n.dateOfIssue)),s.Eb(3),s.Uc(n.typeOfOwnership)}}var hb,gb=((hb=function(){function t(e,n,o,r,i,c,l,u){a(this,t),this.dialog=e,this.ls=n,this.tasSumService=o,this.cdr=r,this.apiService=i,this.router=c,this.snack=l,this.sanitizer=u,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.arr=["INITIATEDArr","UNDER_PROCESSArr","APPROVEDArr","REJECTEDArr"],this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDCount=0,this.UNDER_PROCESSCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.INITIATEDImage=[],this.UNDER_PROCESSImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.screenType="corporate",this.setValue=new s.o,this._searchSubject=new b.a,this.listOfOptions=[{label:"Corporate ID",value:"corporateID",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this.isScroll=!0,this._setSearchSubscription()}return o(t,[{key:"onScroll",value:function(t){this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages)}},{key:"ngOnInit",value:function(){var t=this;this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.getDataOnLoad(),this.listOfOptions.filter(function(e){e.checked&&(t.radioButtonSelected=e.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}},{key:"radioChange",value:function(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(u.a)(1e3)).subscribe(function(e){if(t.setValue.emit(e),console.log("search value :: ",e),console.log("search text :: ",t.searchText),null==e||""==e||""==e)return t.noDataFound=!1,t.searchable=!1,void t.getDataOnLoad();t.searchcorporateID(e)})}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"getDataOnLoad",value:function(){return Hl(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e],0,0);case 1:case"end":return t.stop()}},t,this)}))}},{key:"fetchCustomerInfo",value:function(t,e,a){var n=this;this.tasSumService.getallCorporateData(this.screenType,t,e).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr=null==e?void 0:e.corporateList,this.INITIATEDTotalPages=null==e?void 0:e.totalPages,this.INITIATEDTotalRecords=null==e?void 0:e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=null==e?void 0:e.corporateList,this.UNDER_PROCESSTotalPages=null==e?void 0:e.totalPages,this.UNDER_PROCESSTotalRecords=null==e?void 0:e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.corporateList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.corporateList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;0!=this.isScroll&&(console.log("---------scrolled----------"),e!==a?this.tasSumService.getallCorporateData(this.screenType,t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),n.updateDataOnScroll(t,e.corporateList)}):console.log("No scroll requied"))}},{key:"GoToCustomerOnboarding",value:function(){var t=this;setTimeout(function(){t.router.navigateByUrl("/tasks/cust-on-boarding-task-summary")},300)}},{key:"goToCorporateOnBoardingSummary",value:function(t,e,a){var n=this;localStorage.setItem("CustomerColorCode",a),this.dialog.open($l,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(function(t){console.log("dialog closed:: ",t),"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus&&"INITIATED"!==t.recordStatus&&"UNDER_PROCESS"!==t.recordStatus||n.getDataOnLoad()})}},{key:"searchcorporateID",value:function(t){var e;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e="mobileNumber="+this.searchText.trim()):(console.log("kycId"),e="corporateId="+this.searchText.trim()):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e="primaryEmail="+this.searchText.trim()):t==t.toUpperCase()?(console.log("name"),e="corporateStatus="+this.searchText.trim()):(console.log("name"),e="companyName="+this.searchText.trim())),this.getCustomerData(e),this.isScroll=!1}},{key:"getCustomerData",value:function(t){var e=this;this.loading=!0,console.log("params::",t),this.apiService.getcorporateSearchDetails(t).subscribe(function(t){e.loading=!1,console.log("resp data :: ",t),e.resetSearchData();for(var a=0;a<t.corporateList.length;a++){for(var n=t.corporateList[a],o=0;o<t.corporateList[a].corporateDocs.length;o++)n.profileImage="Profile"==t.corporateList[a].corporateDocs[o].documentName?t.corporateList[a].corporateDocs[o].fileUrl:null;e.searchResponseUpdate(t.corporateList[a].corporateStatus,n)}})}},{key:"resetSearchData",value:function(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){console.log("called ?",t,e),"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){if(console.log(t),console.log(t.profileImage),e.searchable=!1,null!=t.profileImage){var a="data:image/jpeg;base64,"+t.profileImage.fileData;e.searchable=!0,e.image=e.sanitizer.bypassSecurityTrustUrl(a),console.log(e.searchable,"Searchable")}},function(t){console.log(t)})}},{key:"getcorporateIDData",value:function(t){var e=this;console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(function(t){if(console.log("resp data :: ",t),e.cdr.markForCheck(),e.cdr.detectChanges(),null!=t){var a=t[0].customerAdditionalInfo.kycStatus+"Arr";e[a].splice(0,0,t[0]),e[a]=e[a].slice(),console.log("resp value :: ",e[a])}else e.noDataFound=!0})}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}},{key:"updateDataOnScroll",value:function(t,e){return Hl(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,o,r,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"INITIATED"==t?(n=Yt.unionBy(this.INITIATEDArr,e,"corporateID"),this.INITIATEDArr=n):"UNDER_PROCESS"==t?(o=Yt.unionBy(this.UNDER_PROCESSArr,e,"corporateID"),this.UNDER_PROCESSArr=o):"APPROVED"==t?(r=Yt.unionBy(this.APPROVEDArr,e,"corporateID"),this.APPROVEDArr=r):"REJECTED"==t&&(i=Yt.unionBy(this.REJECTEDArr,e,"corporateID"),this.REJECTEDArr=i),this.cdr.markForCheck();case 2:case"end":return a.stop()}},a,this)}))}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||hb)(s.Rb(m.b),s.Rb(d.a),s.Rb(h.a),s.Rb(s.h),s.Rb(l.b),s.Rb(He.h),s.Rb(y.a),s.Rb(io.b))},hb.\u0275cmp=s.Lb({type:hb,selectors:[["app-corporate-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:65,vars:17,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],[1,"slideTogglepadding",3,"change"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryName"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchbox"],["appearance","outline",1,"full-width"],["matInput","","name","search","autocomplete","off","placeholder","Search Corporate_id or Company Name",3,"ngModel","ngModelChange","keyup"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],[1,"more_vert_icon"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayoutAlign","center"],[4,"ngIf"],[1,"cardBox",3,"click"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar",""],[2,"font-size","16px"],[1,"head1"],["fxLayout","row","fxLayoutGap","40px",1,"col1"],["fxLayout","row","fxLayoutGap","58px",1,"col2"],["fxLayout","row","fxLayoutGap","40px",1,"col3"],["fxLayout","row","fxLayoutGap","44px",1,"col4"],[3,"name"],["alt","",2,"width","150px","height","50px","border-radius","60%",3,"src"],["showAvatar",""],[1,"fill-color-blue","bookMark","bookMark1"],["alt","",2,"width","150px","height","50px","border-radius","50%",3,"src"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-blue","bookMark","bookMark3"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"mat-slide-toggle",2),s.fc("change",function(){return e.GoToCustomerOnboarding()}),s.Tc(5,"Switch to Customer Onboarding "),s.Wb(),s.Xb(6,"div",3),s.Xb(7,"div",4),s.Xb(8,"span",5),s.Tc(9," Corporate Customer Onboarding Task Summary "),s.Wb(),s.Wb(),s.Xb(10,"div",6),s.Xb(11,"mat-form-field",7),s.Xb(12,"mat-label"),s.Tc(13,"Search"),s.Wb(),s.Xb(14,"input",8),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Xb(15,"mat-icon",9),s.Tc(16,"search"),s.Wb(),s.Rc(17,Zl,5,1,"button",10),s.Xb(18,"mat-hint"),s.Tc(19,"Search Corporate_id or Company Name"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",11),s.Xb(21,"div",12),s.Xb(22,"mat-card",13),s.Xb(23,"div",14),s.Xb(24,"span",15),s.Xb(25,"h2",16),s.Tc(26),s.Wb(),s.Wb(),s.Xb(27,"span",17),s.Xb(28,"mat-icon"),s.Tc(29,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"div"),s.Rc(31,nb,41,14,"div",18),s.Wb(),s.Sb(32,"br"),s.Wb(),s.Xb(33,"mat-card",13),s.Xb(34,"div",14),s.Xb(35,"span",15),s.Xb(36,"h2",16),s.Tc(37),s.Wb(),s.Wb(),s.Xb(38,"span",17),s.Xb(39,"mat-icon"),s.Tc(40,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div"),s.Rc(42,cb,42,13,"div",18),s.Wb(),s.Wb(),s.Xb(43,"mat-card",13),s.Xb(44,"div",14),s.Xb(45,"span",15),s.Xb(46,"h2",16),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"span",17),s.Xb(49,"mat-icon"),s.Tc(50,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(51,"div"),s.Rc(52,ub,42,13,"div",18),s.Wb(),s.Sb(53,"br"),s.Wb(),s.Xb(54,"mat-card",13),s.Xb(55,"div",14),s.Xb(56,"span",15),s.Xb(57,"h2",16),s.Tc(58),s.Wb(),s.Wb(),s.Xb(59,"span",17),s.Xb(60,"mat-icon"),s.Tc(61,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(62,"div"),s.Rc(63,pb,42,13,"div",18),s.Wb(),s.Wb(),s.Wb(),s.Sb(64,"br"),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(13),s.rc("ngModel",e.searchText),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(9),s.Wc("Pending for approval (",null==e.INITIATEDArr?null:e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.INITIATEDArr),s.Eb(6),s.Wc("Ongoing (",null==e.UNDER_PROCESSArr?null:e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.UNDER_PROCESSArr),s.Eb(5),s.Wc("Approved (",null==e.APPROVEDArr?null:e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.APPROVEDArr),s.Eb(6),s.Wc("Rejected (",null==e.REJECTEDArr?null:e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.REJECTEDArr))},directives:[tr.a,A.a,W.e,W.d,W.f,W.b,T.c,T.g,E.b,g.c,g.r,g.u,X.a,T.i,i.n,T.f,I.a,i.m,R.b,T.j,O.b,I.e,I.c,I.h,I.g,g.C,g.s,g.t,rr],pipes:[Er.a,i.f],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.searchbox[_ngcontent-%COMP%]{padding-right:5%}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;text-align:left;font:normal normal medium 9px/11px Montserrat;letter-spacing:0;color:#0f0f0f;opacity:1}.cardBox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:40vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}"]}),hb);function vb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0\xa0\xa0 Card Type Is Required "),s.Wb())}function yb(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Wb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0\xa0\xa0Currency is Required! "),s.Wb())}function Xb(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc("",a," ")}}function Tb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0\xa0\xa0Employment Type is Required! "),s.Wb())}function Ib(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," \xa0\xa0\xa0Affinity Program is Required! "),s.Wb())}var Eb,Cb=((Eb=function(){function t(e,n,o,r,i,c){a(this,t),this.data=e,this.dialogRef=n,this.apiService=o,this.formBuilder=r,this.router=i,this.snack=c,this.localCurrencyArr=["CNY","GBP","INR","USD","ZAR","GBP"]}return o(t,[{key:"ngOnInit",value:function(){this.getEmploymentType("employment_type"),console.log(this.data),this.data?this.buildInitiationUpdateForm(this.data):this.buildInitiationUpdateForm()}},{key:"getEmploymentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.employmentTypeArray=t})}},{key:"buildInitiationUpdateForm",value:function(t){this.cardInitiationUpdateForm=this.formBuilder.group({existingCustomer:[t&&t.existingCustomer?t.existingCustomer:""],cardType:[t&&t.cardType?t.cardType:"",[g.A.required]],customerAccount:[t&&t.customerAccount?t.customerAccount:""],applicantName:[t&&t.applicantName?t.applicantName:""],currency:[t&&t.currency?t.currency:"",[g.A.required]],employmentType:[t&&t.employmentType?t.employmentType:"",[g.A.required]],affinityProgram:[t&&t.affinityProgram?t.affinityProgram:"",[g.A.required]]})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"onSubmit",value:function(){var t=this;this.apiService.uploadCardInitiation({existingCustomer:this.cardInitiationUpdateForm.value.existingCustomer,cardType:this.cardInitiationUpdateForm.value.cardType,customerAccount:this.cardInitiationUpdateForm.value.customerAccount,applicantName:this.cardInitiationUpdateForm.value.applicantName,currency:this.cardInitiationUpdateForm.value.currency,employmentType:this.cardInitiationUpdateForm.value.employmentType,affinityProgram:this.cardInitiationUpdateForm.value.affinityProgram,nameOnCard:this.data.nameOnCard,status:this.data.status,kycStatus:this.data.kycStatus,kycReference:this.data.kycRefrence,customerId:this.data.customerId,cardId:this.data.cardId}).subscribe(function(e){t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:e.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})})},function(e){t.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}]),t}()).\u0275fac=function(t){return new(t||Eb)(s.Rb(m.a),s.Rb(m.g),s.Rb(l.b),s.Rb(g.f),s.Rb(He.h),s.Rb(y.a))},Eb.\u0275cmp=s.Lb({type:Eb,selectors:[["app-card-initiation-details-update"]],decls:61,vars:7,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline"],["readonly","true","matInput","","name","existingCustomer","formControlName","existingCustomer"],["formControlName","cardType"],["value","Debit"],["value","Credit"],["value","Forex"],[4,"ngIf"],["matInput","","formControlName","customerAccount"],["matInput","","formControlName","applicantName"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],["formControlName","employmentType","placeholder","Select Employment Type *"],["fxLayout","row"],["formControlName","affinityProgram","placeholder","Select Affinity Program *"],["value","Affinity Program1"],["value","Affinity Program2"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Card Initiation Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"div",4),s.Xb(9,"mat-form-field",5),s.Xb(10,"mat-label"),s.Tc(11,"Existing Customer"),s.Wb(),s.Sb(12,"input",6),s.Wb(),s.Xb(13,"mat-form-field",5),s.Xb(14,"mat-label"),s.Tc(15,"Card Type"),s.Wb(),s.Xb(16,"mat-select",7),s.Xb(17,"mat-option",8),s.Tc(18,"Debit"),s.Wb(),s.Xb(19,"mat-option",9),s.Tc(20,"Credit"),s.Wb(),s.Xb(21,"mat-option",10),s.Tc(22,"Forex"),s.Wb(),s.Wb(),s.Rc(23,vb,2,0,"mat-error",11),s.Wb(),s.Xb(24,"mat-form-field",5),s.Xb(25,"mat-label"),s.Tc(26,"Customer Account"),s.Wb(),s.Sb(27,"input",12),s.Wb(),s.Wb(),s.Xb(28,"div",4),s.Xb(29,"mat-form-field",5),s.Xb(30,"mat-label"),s.Tc(31,"Applicant Name"),s.Wb(),s.Sb(32,"input",13),s.Wb(),s.Xb(33,"mat-form-field",5),s.Xb(34,"mat-label"),s.Tc(35,"Currency"),s.Wb(),s.Xb(36,"mat-select",14),s.Rc(37,yb,2,2,"mat-option",15),s.Wb(),s.Rc(38,Wb,2,0,"mat-error",11),s.Wb(),s.Xb(39,"mat-form-field",5),s.Xb(40,"mat-label"),s.Tc(41,"Employment Type"),s.Wb(),s.Xb(42,"mat-select",16),s.Rc(43,Xb,2,2,"mat-option",15),s.Wb(),s.Rc(44,Tb,2,0,"mat-error",11),s.Wb(),s.Wb(),s.Xb(45,"div",17),s.Xb(46,"mat-form-field",5),s.Xb(47,"mat-label"),s.Tc(48,"Affinity Program *"),s.Wb(),s.Xb(49,"mat-select",18),s.Xb(50,"mat-option",19),s.Tc(51,"Affinity Program1"),s.Wb(),s.Xb(52,"mat-option",20),s.Tc(53,"Affinity Program2"),s.Wb(),s.Wb(),s.Rc(54,Ib,2,0,"mat-error",11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(55,"div",21),s.Xb(56,"button",22),s.fc("click",function(){return e.onSubmit()}),s.Tc(57,"Save"),s.Wb(),s.Tc(58," \xa0\xa0\xa0 "),s.Xb(59,"button",23),s.fc("click",function(){return e.close()}),s.Tc(60," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardInitiationUpdateForm),s.Eb(16),s.rc("ngIf",!e.cardInitiationUpdateForm.get("cardType").valid&&e.cardInitiationUpdateForm.get("cardType").touched),s.Eb(14),s.rc("ngForOf",e.localCurrencyArr),s.Eb(1),s.rc("ngIf",!e.cardInitiationUpdateForm.get("currency").valid&&e.cardInitiationUpdateForm.get("currency").touched),s.Eb(5),s.rc("ngForOf",e.employmentTypeArray),s.Eb(1),s.rc("ngIf",!e.cardInitiationUpdateForm.get("employmentType").valid&&e.cardInitiationUpdateForm.get("employmentType").touched),s.Eb(10),s.rc("ngIf",!e.cardInitiationUpdateForm.get("affinityProgram").valid&&e.cardInitiationUpdateForm.get("affinityProgram").touched))},directives:[W.e,W.d,X.a,m.h,m.e,I.a,g.C,g.s,g.j,W.f,T.c,W.b,T.g,E.b,g.c,g.r,g.i,C.a,D.n,i.n,i.m,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Eb);function xb(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Ab(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Select Account Type "),s.Wb())}function Rb(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.branchName),s.Eb(1),s.Vc(" ",a.branchName," ")}}function Ob(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Select Account Branch "),s.Wb())}function Db(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter valid Product ID "),s.Wb())}function kb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter Product Name "),s.Wb())}function Sb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter Existing Value "),s.Wb())}function Nb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter Account Currency "),s.Wb())}function Pb(t,e){if(1&t&&(s.Xb(0,"mat-option",19),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Fb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Select user Recommendation "),s.Wb())}function Lb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please Enter Remarks "),s.Wb())}var wb,Ub=((wb=function(){function t(e,n,o,r,i){a(this,t),this.data=e,this.fb=n,this.apiService=o,this.dialogRef=r,this.snack=i}return o(t,[{key:"ngOnInit",value:function(){this.getUserRecomendation("user_recomendation"),this.getAccountType("account_type"),this.getAccountBranchDetails(),null!=this.data.approvalInfo?this.buildformGroup(this.data.approvalInfo):this.buildformGroup()}},{key:"buildformGroup",value:function(t){this.cardApprovalUpdateForm=this.fb.group({accountType:[t?t.accountType:"",g.A.required],productCode:[t?t.productCode:"",g.A.required],userRecommendation:[t?t.userRecommendation:"",g.A.required],accountBranch:[t?t.accountBranch:"",g.A.required],accountCurrency:[t?t.accountCurrency:"",g.A.required],productName:[t?t.productName:"",g.A.required],existingValues:[t?t.existingValues:"",g.A.required],remarks:[t?t.remarks:""]})}},{key:"onSubmit",value:function(){var t=this;console.log("data",this.cardApprovalUpdateForm.value),this.apiService.upsertApprovalDetails({cardId:this.data.cardId,accountBranch:this.cardApprovalUpdateForm.value.accountBranch,accountCurrency:this.cardApprovalUpdateForm.value.accountCurrency,accountType:this.cardApprovalUpdateForm.value.accountType,existingValues:this.cardApprovalUpdateForm.value.existingValues,productCode:this.cardApprovalUpdateForm.value.productCode,productName:this.cardApprovalUpdateForm.value.productName,remarks:this.cardApprovalUpdateForm.value.remarks,userRecommendation:this.cardApprovalUpdateForm.value.userRecommendation}).subscribe(function(e){t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:e.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})})},function(e){t.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}},{key:"getAccountCurrency",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayAccountCurrency=t})}},{key:"getAccountType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayAccountType=t})}},{key:"getUserRecomendation",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayUserRecomendation=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.arrayAccountBranch=e})}},{key:"keyPressAlphanumeric",value:function(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||wb)(s.Rb(m.a),s.Rb(g.f),s.Rb(l.b),s.Rb(m.g),s.Rb(y.a))},wb.\u0275cmp=s.Lb({type:wb,selectors:[["app-card-approval-details-update"]],decls:60,vars:13,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline"],["placeholder","Account Type","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Account Branch","formControlName","accountBranch"],["matInput","","placeholder","Product Image","formControlName","productCode"],["matInput","","placeholder","Product Name","formControlName","productName",3,"keypress"],["matInput","","placeholder","Existing Value","formControlName","existingValues",3,"keypress"],["matInput","","placeholder","Account Currency","formControlName","accountCurrency",3,"keypress"],["placeholder","Recommended for Approval","formControlName","userRecommendation"],["matInput","","placeholder","Remarks","formControlName","remarks"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Approval Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"div",4),s.Xb(9,"mat-form-field",5),s.Xb(10,"mat-label"),s.Tc(11,"Account Type*"),s.Wb(),s.Xb(12,"mat-select",6),s.Rc(13,xb,2,2,"mat-option",7),s.Wb(),s.Rc(14,Ab,2,0,"mat-error",8),s.Wb(),s.Xb(15,"mat-form-field",5),s.Xb(16,"mat-label"),s.Tc(17,"Account Branch*"),s.Wb(),s.Xb(18,"mat-select",9),s.Rc(19,Rb,2,2,"mat-option",7),s.Wb(),s.Rc(20,Ob,2,0,"mat-error",8),s.Wb(),s.Xb(21,"mat-form-field",5),s.Xb(22,"mat-label"),s.Tc(23,"Product Code*"),s.Wb(),s.Sb(24,"input",10),s.Wb(),s.Rc(25,Db,2,0,"mat-error",8),s.Wb(),s.Xb(26,"div",4),s.Xb(27,"mat-form-field",5),s.Xb(28,"mat-label"),s.Tc(29,"Product Name*"),s.Wb(),s.Xb(30,"input",11),s.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),s.Wb(),s.Rc(31,kb,2,0,"mat-error",8),s.Wb(),s.Xb(32,"mat-form-field",5),s.Xb(33,"mat-label"),s.Tc(34,"Existing Value*"),s.Wb(),s.Xb(35,"input",12),s.fc("keypress",function(t){return e.onKeyPress(t)}),s.Wb(),s.Rc(36,Sb,2,0,"mat-error",8),s.Wb(),s.Xb(37,"mat-form-field",5),s.Xb(38,"mat-label"),s.Tc(39,"Account Currency*"),s.Wb(),s.Xb(40,"input",13),s.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),s.Wb(),s.Rc(41,Nb,2,0,"mat-error",8),s.Wb(),s.Wb(),s.Xb(42,"div",4),s.Xb(43,"mat-form-field",5),s.Xb(44,"mat-label"),s.Tc(45,"User Recomendation*"),s.Wb(),s.Xb(46,"mat-select",14),s.Rc(47,Pb,2,2,"mat-option",7),s.Wb(),s.Rc(48,Fb,2,0,"mat-error",8),s.Wb(),s.Xb(49,"mat-form-field",5),s.Xb(50,"mat-label"),s.Tc(51,"Remarks"),s.Wb(),s.Sb(52,"input",15),s.Rc(53,Lb,2,0,"mat-error",8),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(54,"div",16),s.Xb(55,"button",17),s.fc("click",function(){return e.onSubmit()}),s.Tc(56,"Save"),s.Wb(),s.Tc(57," \xa0\xa0\xa0 "),s.Xb(58,"button",18),s.fc("click",function(){return e.close()}),s.Tc(59," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardApprovalUpdateForm),s.Eb(6),s.rc("ngForOf",e.arrayAccountType),s.Eb(1),s.rc("ngIf",e.cardApprovalUpdateForm.get("accountType").hasError("required")),s.Eb(5),s.rc("ngForOf",e.arrayAccountBranch),s.Eb(1),s.rc("ngIf",e.cardApprovalUpdateForm.get("accountBranch").hasError("required")),s.Eb(5),s.rc("ngIf",e.cardApprovalUpdateForm.get("productCode").touched&&0==e.cardApprovalUpdateForm.get("productCode").value),s.Eb(6),s.rc("ngIf",e.cardApprovalUpdateForm.get("productName").hasError("required")),s.Eb(5),s.rc("ngIf",e.cardApprovalUpdateForm.get("existingValues").hasError("required")),s.Eb(5),s.rc("ngIf",e.cardApprovalUpdateForm.get("accountCurrency").hasError("required")),s.Eb(6),s.rc("ngForOf",e.arrayUserRecomendation),s.Eb(1),s.rc("ngIf",e.cardApprovalUpdateForm.get("userRecommendation").hasError("required")),s.Eb(5),s.rc("ngIf",e.cardApprovalUpdateForm.get("remarks").hasError("required")),s.Eb(2),s.rc("disabled",e.cardApprovalUpdateForm.invalid))},directives:[W.e,W.f,W.d,X.a,m.h,m.e,I.a,g.C,g.s,g.j,T.c,W.b,T.g,C.a,g.r,g.i,i.m,i.n,E.b,g.c,D.n,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),wb);function _b(t,e){if(1&t&&(s.Xb(0,"mat-option",16),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Mb(t,e){if(1&t&&(s.Xb(0,"mat-option",16),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}var Gb,Vb=((Gb=function(){function t(e,n,o,r,i,c){a(this,t),this.data=e,this.fb=n,this.dialogRef=o,this.apiService=r,this.snack=i,this.cdr=c,this.arraySystemRecommendation=["Recomended For Approval","Recommended For Reject"]}return o(t,[{key:"ngOnInit",value:function(){this.data.assessmentInfo?this.buildAssessmentForm(this.data.assessmentInfo):this.buildAssessmentForm()}},{key:"buildAssessmentForm",value:function(t){this.cardAssessmentUpdateForm=this.fb.group({cardId:[this.data.cardId],assessmentId:[t.assessmentId="1"],requestedCardLimit:[t?t.requestedCardLimit:""],systemRecommendation:[t?t.systemRecommendation:"",g.A.required],approvedCardLimit:[t?t.approvedCardLimit:""],userRecommendation:[t?t.userRecommendation:"",[g.A.required]],recommendedCardLimit:[t?t.recommendedCardLimit:"",[g.A.required]],remark:[t?t.remark:""]})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"_keyPress1",value:function(t){var e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}},{key:"onSubmit",value:function(){var t=this;console.log(this.cardAssessmentUpdateForm),this.apiService.cardAssessmentDetails(this.cardAssessmentUpdateForm.value).subscribe(function(e){console.log("data",e),null!=e&&(t.snack.open("Assessment details Updated successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:e.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})}))})}}]),t}()).\u0275fac=function(t){return new(t||Gb)(s.Rb(m.a),s.Rb(g.f),s.Rb(m.g),s.Rb(l.b),s.Rb(y.a),s.Rb(s.h))},Gb.\u0275cmp=s.Lb({type:Gb,selectors:[["app-card-assessment-report-update"]],decls:42,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","33.33%","appearance","outline"],["matInput","","formControlName","requestedCardLimit","placeholder","Requested Card Limit","readonly","",3,"keypress"],["formControlName","systemRecommendation","placeholder","Recommended for Approval"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userRecommendation","placeholder","Recommended for Approval"],["matInput","","formControlName","recommendedCardLimit","required","",3,"keypress"],["matInput","","formControlName","approvedCardLimit","placeholder","Approved Card Limit","readonly","","required","",3,"keypress"],["matInput","","formControlName","remark","type","text"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Assessment Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"div",4),s.Xb(9,"mat-form-field",5),s.Xb(10,"mat-label"),s.Tc(11,"Requested Card Limit"),s.Wb(),s.Xb(12,"input",6),s.fc("keypress",function(t){return e._keyPress1(t)}),s.Wb(),s.Wb(),s.Xb(13,"mat-form-field",5),s.Xb(14,"mat-label"),s.Tc(15,"System Recommendation"),s.Wb(),s.Xb(16,"mat-select",7),s.Rc(17,_b,2,2,"mat-option",8),s.Wb(),s.Wb(),s.Xb(18,"mat-form-field",5),s.Xb(19,"mat-label"),s.Tc(20,"User Recommendation"),s.Wb(),s.Xb(21,"mat-select",9),s.Rc(22,Mb,2,2,"mat-option",8),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div",4),s.Xb(24,"mat-form-field",5),s.Xb(25,"mat-label"),s.Tc(26,"Recommended Card Limit"),s.Wb(),s.Xb(27,"input",10),s.fc("keypress",function(t){return e._keyPress1(t)}),s.Wb(),s.Wb(),s.Xb(28,"mat-form-field",5),s.Xb(29,"mat-label"),s.Tc(30,"Approved Card Limit"),s.Wb(),s.Xb(31,"input",11),s.fc("keypress",function(t){return e._keyPress1(t)}),s.Wb(),s.Wb(),s.Xb(32,"mat-form-field",5),s.Xb(33,"mat-label"),s.Tc(34,"Remarks"),s.Wb(),s.Sb(35,"input",12),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",13),s.Xb(37,"button",14),s.fc("click",function(){return e.onSubmit()}),s.Tc(38,"Save"),s.Wb(),s.Tc(39," \xa0\xa0\xa0 "),s.Xb(40,"button",15),s.fc("click",function(){return e.close()}),s.Tc(41," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardAssessmentUpdateForm),s.Eb(10),s.rc("ngForOf",e.arraySystemRecommendation),s.Eb(5),s.rc("ngForOf",e.arraySystemRecommendation),s.Eb(15),s.rc("disabled",e.cardAssessmentUpdateForm.invalid))},directives:[W.e,W.d,X.a,m.h,m.e,I.a,g.C,g.s,g.j,W.f,T.c,W.b,T.g,E.b,g.c,g.r,g.i,C.a,i.m,g.z,D.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Gb);function Bb(t,e){if(1&t&&(s.Xb(0,"mat-option",12),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function jb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Customer Name is Required! "),s.Wb())}function zb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Agency is Required! "),s.Wb())}function qb(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Ratings is Required! "),s.Wb())}function Jb(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card"),s.Xb(1,"mat-accordion",3),s.Xb(2,"h5"),s.Tc(3,"Score "),s.Wb(),s.Sb(4,"br"),s.Xb(5,"div",13),s.Xb(6,"mat-form-field",4),s.Xb(7,"mat-label"),s.Tc(8,"Select Agency*"),s.Wb(),s.Xb(9,"mat-select",14),s.Xb(10,"mat-option",15),s.Tc(11,"Select"),s.Wb(),s.Xb(12,"mat-option",16),s.fc("click",function(){return s.Hc(a),s.jc().onClick()}),s.Tc(13,"Test Agency"),s.Wb(),s.Xb(14,"mat-option",17),s.fc("click",function(){return s.Hc(a),s.jc().onClick()}),s.Tc(15,"Ujjivan Agency"),s.Wb(),s.Xb(16,"mat-option",18),s.fc("click",function(){return s.Hc(a),s.jc().onClick()}),s.Tc(17,"Fast Track Agency"),s.Wb(),s.Wb(),s.Rc(18,zb,2,0,"mat-error",7),s.Wb(),s.Xb(19,"mat-form-field",4),s.Xb(20,"mat-label"),s.Tc(21,"Ratings"),s.Wb(),s.Xb(22,"input",19),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Rc(23,qb,2,0,"mat-error",7),s.Wb(),s.Xb(24,"mat-form-field",4),s.Xb(25,"mat-label"),s.Tc(26,"Remarks"),s.Wb(),s.Sb(27,"input",20),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"button",21),s.fc("click",function(){return s.Hc(a),s.jc().addFormGroup()}),s.Xb(29,"mat-icon"),s.Tc(30,"add"),s.Wb(),s.Tc(31," ADD AGENCY "),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.jc();s.Eb(1),s.rc("formGroup",n),s.Eb(11),s.rc("disabled",o.disableTest),s.Eb(2),s.rc("disabled",o.disableUjjivan),s.Eb(2),s.rc("disabled",o.disableFastTrack),s.Eb(2),s.rc("ngIf",!n.controls.agencyName.valid&&n.controls.agencyName.touched),s.Eb(5),s.rc("ngIf",!n.controls.ratings.valid&&n.controls.ratings.touched),s.Eb(5),s.rc("disabled",o.disableAddAgency)}}var Kb,$b=((Kb=function(){function t(e,n,o,r,i,c){a(this,t),this.data=e,this.dialogRef=n,this.formBuilder=o,this.appApiService=r,this.api=i,this.snack=c}return o(t,[{key:"ngOnInit",value:function(){this.getCustomerInformationDetails(),this.data.creditScore.cardId?this.buildCreditForm(this.data.creditScore):this.buildCreditForm()}},{key:"getCustomerInformationDetails",value:function(){var t=this;this.customerNames=[],this.appApiService.fetchCustomersByCardAccId(this.data.cardId,"cardOrigin").subscribe(function(e){console.log("resp for customer information names ",e.data);for(var a=0;a<e.data.length;a++)t.customerNames.push(null==e.data[a].middleName?e.data[a].firstName+" "+e.data[a].lastName:e.data[a].firstName+" "+e.data[a].middleName+" "+e.data[a].lastName);console.log("customer name ",t.customerNames),t.customerNames&&(console.log("If condtion"),t.cardCreditScoreUpdateForm.get("customerName").setValue(t.customerNames[0]))},function(t){})}},{key:"f",get:function(){return this.cardCreditScoreUpdateForm.controls}},{key:"c",get:function(){return this.f.agencyRating}},{key:"buildCreditForm",value:function(t,e){console.log(t),this.cardCreditScoreUpdateForm=this.formBuilder.group({cardId:this.data.cardId,customerName:t.customerName?t.customerName:this.customerNames[0],agencyRating:this.formBuilder.array([this.addModFormGroup(t)])}),console.log(this.cardCreditScoreUpdateForm)}},{key:"addModFormGroup",value:function(t){return console.log(t,"inside addModeFormGrp"),this.formBuilder.group({cardId:[this.data.cardId],agencyId:[t?t.agencyId:0],agencyName:[t?t.agencyRating[0].agencyName:"",g.A.required],ratings:[t?t.agencyRating[0].ratings:"",g.A.required],remarks:[t?t.agencyRating[0].remarks:""]})}},{key:"addFormGroup",value:function(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",g.A.required],ratings:["",g.A.required]}))}},{key:"submit",value:function(t){var e=this;console.log("val",t),t.accountType="cardOrigin",this.api.saveCreditDetails(t).subscribe(function(t){console.log(t),200===t||null!==t?(e.snack.open(" Credit Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.api.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(function(t){e.dialogRef.close({status:t.status})})):500===t&&e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log(t)})}},{key:"onClick",value:function(){for(var t=0;t<3;t++)"Test Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableTest=!0),"Ujjivan Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableUjjivan=!0),"Fast Track Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableFastTrack=!0);3==this.cardCreditScoreUpdateForm.value.agencyRating.length&&(this.disableAddAgency=!0)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"onSubmit",value:function(){}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Kb)(s.Rb(m.a),s.Rb(m.g),s.Rb(g.f),s.Rb(f.a),s.Rb(l.b),s.Rb(y.a))},Kb.\u0275cmp=s.Lb({type:Kb,selectors:[["app-card-credit-score-update"]],decls:22,vars:5,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["appearance","outline","fxFlex","30%"],["name","customerName","formControlName","customerName"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],["fxLayout","row","fxLayoutGap","5%"],["name","agencyName","formControlName","agencyName"],["value",""],["value","Test Agency",3,"disabled","click"],["value","Ujjivan Agency",3,"disabled","click"],["value","Fast Track Agency",3,"disabled","click"],["matInput","","formControlName","ratings","type","text","name","ratings",1,"alignment",3,"keypress"],["matInput","","formControlName","remarks","type","text","name","remarks",1,"alignment"],["mat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Credit Score Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"mat-card"),s.Xb(9,"mat-form-field",4),s.Xb(10,"mat-label"),s.Tc(11,"Customer Name*"),s.Wb(),s.Xb(12,"mat-select",5),s.Rc(13,Bb,2,2,"mat-option",6),s.Wb(),s.Rc(14,jb,2,0,"mat-error",7),s.Wb(),s.Wb(),s.Rc(15,Jb,32,7,"mat-card",8),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div",9),s.Xb(17,"button",10),s.fc("click",function(){return e.submit(e.cardCreditScoreUpdateForm.value)}),s.Tc(18,"Save"),s.Wb(),s.Tc(19," \xa0\xa0\xa0 "),s.Xb(20,"button",11),s.fc("click",function(){return e.close()}),s.Tc(21," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardCreditScoreUpdateForm),s.Eb(6),s.rc("ngForOf",e.customerNames),s.Eb(1),s.rc("ngIf",!e.cardCreditScoreUpdateForm.get("customerName").valid&&e.cardCreditScoreUpdateForm.get("customerName").touched),s.Eb(1),s.rc("ngForOf",e.c.controls),s.Eb(2),s.rc("disabled",!e.cardCreditScoreUpdateForm.valid))},directives:[W.e,W.d,X.a,m.h,m.e,I.a,g.C,g.s,g.j,T.c,W.b,T.g,C.a,g.r,g.i,i.m,i.n,W.f,D.n,T.b,J.a,E.b,g.c,R.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Kb);function Hb(t,e){if(1&t){var a=s.Yb();s.Xb(0,"tr",11),s.Vb(1,3),s.Xb(2,"td"),s.Xb(3,"mat-form-field"),s.Sb(4,"input",12),s.Wb(),s.Wb(),s.Xb(5,"td"),s.Xb(6,"mat-form-field"),s.Xb(7,"input",13),s.fc("keypress",function(t){return s.Hc(a),s.jc().onKeyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"td"),s.Xb(9,"div",14),s.Xb(10,"mat-checkbox",15),s.fc("change",function(t){return s.Hc(a),s.jc().checkbox(t)}),s.Wb(),s.Wb(),s.Wb(),s.Ub(),s.Wb()}if(2&t){var n=e.$implicit;s.Eb(1),s.rc("formGroup",n)}}var Yb,Zb=((Yb=function(){function e(t,n,o,r,i,c){a(this,e),this.data=t,this.formBuilder=n,this.apiService=o,this.dialogRef=r,this.snack=i,this.api=c,this.accountType="Card Origin"}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.data.currencytype=localStorage.getItem("Currency Type"),"INR"===this.data.currencytype?this.currencySymbol="\u20b9":"USD"===this.data.currencytype?this.currencySymbol="$":"CNY"===this.data.currencytype?this.currencySymbol="\xa5":"GBP"===this.data.currencytype?this.currencySymbol="\xa3":"ZAR"===this.data.currencytype&&(this.currencySymbol="R"),this.cardChargeUpdateForm=this.formBuilder.group({chargeInfo:new g.d([])}),this.data.chargeInfo?(this.onChangeInterest(this.data.chargeInfo.length),this.in.patchValue(t(this.data.chargeInfo))):this.apiService.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(t){e.onChangeInterest(t.length),e.in.patchValue([Object.assign(Object.assign({},t[0]),{amount:history.state.amount?history.state.amount:""})])})}},{key:"onChangeInterest",value:function(t){var e=t||0;if(this.in.length<e)for(var a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],amount:["",g.A.required],waiver:[!1],cardId:[this.data.cardId],chargeDetailsId:[""]}));else for(var n=this.in.length;n>=e;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.cardChargeUpdateForm.controls}},{key:"in",get:function(){return this.f.chargeInfo}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}},{key:"checkbox",value:function(t){console.log(t.checked)}},{key:"onSubmit",value:function(t){var e=this;console.log("form",t),this.api.cardChargeDetailsSave(t).subscribe(function(t){e.snack.open("Charge Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("backend response from intrest saving",t),e.apiService.updateCardStatus({cardId:e.data.cardId,status:"BACKLOG"}).subscribe(function(t){e.dialogRef.close({status:t.status})})},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),e}()).\u0275fac=function(t){return new(t||Yb)(s.Rb(m.a),s.Rb(g.f),s.Rb(l.b),s.Rb(m.g),s.Rb(y.a),s.Rb(l.b))},Yb.\u0275cmp=s.Lb({type:Yb,selectors:[["app-card-charge-details-update"]],decls:25,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[1,"tableRow"],["matInput","","formControlName","intrestType","name","account_branch","readonly","",1,"input"],["maxlength","10","formControlName","amount","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","matInput","","formControlName","amount","name","account_branch",1,"input",3,"keypress"],[1,"waiver-pos"],["formControlName","waiver","color","primary",3,"change"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Charge Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"table",4),s.Xb(9,"thead",5),s.Xb(10,"tr",6),s.Xb(11,"th"),s.Tc(12,"Interest Type"),s.Wb(),s.Xb(13,"th"),s.Tc(14,"Amount"),s.Wb(),s.Xb(15,"th"),s.Tc(16,"waiever"),s.Wb(),s.Wb(),s.Wb(),s.Xb(17,"tbody"),s.Rc(18,Hb,11,1,"tr",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",8),s.Xb(20,"button",9),s.fc("click",function(){return e.onSubmit(e.cardChargeUpdateForm.value)}),s.Tc(21,"Save"),s.Wb(),s.Tc(22," \xa0\xa0\xa0 "),s.Xb(23,"button",10),s.fc("click",function(){return e.close()}),s.Tc(24," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardChargeUpdateForm),s.Eb(11),s.rc("ngForOf",e.in.controls),s.Eb(2),s.rc("disabled",e.cardChargeUpdateForm.invalid))},directives:[W.e,W.d,X.a,m.h,m.e,I.a,g.C,g.s,g.j,i.m,W.f,T.c,E.b,g.c,g.r,g.i,g.m,Qt.a],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Yb);function Qb(t,e){if(1&t&&(s.Xb(0,"tr",11),s.Vb(1,3),s.Xb(2,"td"),s.Xb(3,"mat-card",12),s.Sb(4,"input",13),s.Wb(),s.Wb(),s.Xb(5,"td"),s.Xb(6,"mat-card",12),s.Sb(7,"input",14),s.Wb(),s.Wb(),s.Xb(8,"td"),s.Xb(9,"mat-card",12),s.Sb(10,"input",15),s.Wb(),s.Wb(),s.Xb(11,"td"),s.Xb(12,"mat-card",12),s.Sb(13,"input",16),s.Wb(),s.Wb(),s.Ub(),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.rc("formGroup",a)}}var tu,eu=((tu=function(){function t(e,n,o,r,i){a(this,t),this.data=e,this.formBuilder=n,this.api=o,this.snack=r,this.dialogRef=i,this.accountType="Card Origin"}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.cardInterestUpdateForm=this.formBuilder.group({interestInfo:new g.d([])}),console.log(this.data),this.data.interestInfo?(this.onChangeInterest(this.data.interestInfo.length),this.in.patchValue(this.data.interestInfo)):this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(function(e){t.onChangeInterest(e.length),t.in.patchValue(e)}),console.log(this.cardInterestUpdateForm)}},{key:"onChangeInterest",value:function(t){var e=t||0;if(this.in.length<e)for(var a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:["Fixed Rate",g.A.required],intrestRateApplicable:[5,g.A.required],marginIn:[null,[g.A.required,g.A.max(100),g.A.min(0)]],effectiveRate:[10,[g.A.required,g.A.max(100),g.A.min(0)]],cardInterestId:[""],cardId:[this.data.cardId]}));else for(var n=this.in.length;n>=e;n--)this.in.removeAt(n)}},{key:"onSubmit",value:function(){var t=this;console.log(this.cardInterestUpdateForm.value),this.api.cardintrestDetailsSave(this.cardInterestUpdateForm.value).subscribe(function(e){t.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("backend response from intrest saving",e)},function(e){t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"f",get:function(){return this.cardInterestUpdateForm.controls}},{key:"in",get:function(){return this.f.interestInfo}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||tu)(s.Rb(m.a),s.Rb(g.f),s.Rb(l.b),s.Rb(y.a),s.Rb(m.g))},tu.\u0275cmp=s.Lb({type:tu,selectors:[["app-card-interest-details-update"]],decls:27,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn"],["type","button",1,"cancelbtn",3,"click"],[1,"tableRow"],[1,"matCardBox-form"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"inputPercent"],["matInput","","formControlName","marginIn","name","margin","type","number","placeholder","Margin","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"inputPercent"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Interest Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"table",4),s.Xb(9,"thead",5),s.Xb(10,"tr",6),s.Xb(11,"th"),s.Tc(12,"Interest Type"),s.Wb(),s.Xb(13,"th"),s.Tc(14,"Interest Rate Applicable in %"),s.Wb(),s.Xb(15,"th"),s.Tc(16,"Margin in %"),s.Wb(),s.Xb(17,"th"),s.Tc(18,"Effective Rate %"),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"tbody"),s.Rc(20,Qb,14,1,"tr",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(21,"div",8),s.Xb(22,"button",9),s.Tc(23,"Save"),s.Wb(),s.Tc(24," \xa0\xa0\xa0 "),s.Xb(25,"button",10),s.fc("click",function(){return e.close()}),s.Tc(26," Cancel "),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardInterestUpdateForm),s.Eb(13),s.rc("ngForOf",e.in.controls))},directives:[W.e,W.d,X.a,m.h,m.e,I.a,g.C,g.s,g.j,i.m,W.f,E.b,g.c,g.r,g.i,g.w],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),tu);function au(t,e){if(1&t&&(s.Xb(0,"mat-option",66),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function nu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please select the Employment Type "),s.Wb())}function ou(t,e){if(1&t&&(s.Xb(0,"mat-option",66),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function ru(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please select the Employment Category "),s.Wb())}function iu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please enter the Employee Number "),s.Wb())}function cu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please enter the Office Name "),s.Wb())}function su(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Please enter the Designation "),s.Wb())}function lu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Employment Start Date is Required! "),s.Wb())}function bu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Tc(1," Employment End Date is Required! "),s.Wb())}var uu,du=((uu=function(){function t(e,n,o,r,i,c){a(this,t),this.data=e,this.dialogRef=n,this.formBuilder=o,this.apiService=r,this.cdr=i,this.snack=c,this.maxDate=new Date}return o(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),this.data&&this.data.financialInfo?this.buildFinacialFormGroup(this.data.financialInfo[0]):this.buildFinacialFormGroup()}},{key:"buildFinacialFormGroup",value:function(t){var e=this;console.log(t),this.cardFinancialDetailsUpdateForm=this.formBuilder.group({id:[t?t.id:""],applicantName:[this.data.initiationInfo.applicantName,g.A.required],currentlyWorking:[t?t.currentlyWorking:""],applicantTotalIncome:[t?t.applicantTotalIncome:0,g.A.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,g.A.required],lastUpdatedon:[t?new Date(t.lastUpdatedon):""],employmentType:[t?t.employmentType:"",g.A.required],employmentCategory:[t?t.employmentCategory:"",g.A.required],employeeNumber:[t?t.employeeNumber:"",g.A.required],officeName:[t?t.officeName:"",g.A.required],designation:[t?t.designation:"",g.A.required],employmentStartDate:[t?new Date(t.employmentStartDate):"",g.A.required],employmentEndDate:[t?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0]},{validator:function(t){return e.validateInputGroups(t)}})}},{key:"validateInputGroups",value:function(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}},{key:"converDate",value:function(t){var e=v(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"onSubmit",value:function(){var t=this,e=this.converDate(this.cardFinancialDetailsUpdateForm.controls.employmentStartDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.cardFinancialDetailsUpdateForm.value.employmentStartDate=e):this.cardFinancialDetailsUpdateForm.value.employmentStartDate=null;var a=this.converDate(this.cardFinancialDetailsUpdateForm.controls.employmentEndDate.value);a&&"Invalid date"!=a?(console.log("startDate",a),this.cardFinancialDetailsUpdateForm.value.employmentEndDate=a):this.cardFinancialDetailsUpdateForm.value.employmentEndDate=null;var n=v(this.cardFinancialDetailsUpdateForm.controls.lastUpdatedon.value).format("YYYY-MM-DD HH:MM:SS");console.log("lastUpdatedon",n),n&&"Invalid date"!=n?(console.log("startDate",n),this.cardFinancialDetailsUpdateForm.value.lastUpdatedon=n):this.cardFinancialDetailsUpdateForm.value.lastUpdatedon=null,this.cardFinancialDetailsUpdateForm.value.accountType="cardOrigin",this.cardFinancialDetailsUpdateForm.value.cardId=this.data.initiationInfo.cardId,console.log("submit",this.cardFinancialDetailsUpdateForm.value),console.log(this.cardFinancialDetailsUpdateForm.value);var o=[];o.push(this.cardFinancialDetailsUpdateForm.value),console.log(o),this.apiService.upsertCardFinancialDetails(o).subscribe(function(e){console.log(e),t.snack.open("Financial Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:t.data.initiationInfo.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})})},function(e){t.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"calculateTotalMonthlyIncome",value:function(t){var e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.cardFinancialDetailsUpdateForm.controls.monthlyIncomeTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalMonthlyExpenses",value:function(t){var e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.cardFinancialDetailsUpdateForm.controls.monthlyExpenseTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalLiabilities",value:function(t){var e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.cardFinancialDetailsUpdateForm.controls.liabilityTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalAssets",value:function(t){var e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.cardFinancialDetailsUpdateForm.controls.assetTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalIncomeAndExpense",value:function(t){var e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.cardFinancialDetailsUpdateForm.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.cardFinancialDetailsUpdateForm.controls.applicantTotalExpense.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"getEmploymentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentType=t})}},{key:"getEmploymentCategory",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentCategory=t})}}]),t}()).\u0275fac=function(t){return new(t||uu)(s.Rb(m.a),s.Rb(m.g),s.Rb(g.f),s.Rb(l.b),s.Rb(s.h),s.Rb(y.a))},uu.\u0275cmp=s.Lb({type:uu,selectors:[["app-card-financial-details-update"]],decls:264,vars:23,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline",1,"full-width"],["matInput","","formControlName","applicantName","placeholder","Applicant Name"],["matInput","","type","text","formControlName","currentlyWorking","placeholder","Currently Working"],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Income"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total  Expenses"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","lastUpdatedon",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"keypress"],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name",3,"keypress"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation",3,"keypress"],["fxFlex","31.32%","appearance","outline",1,"full-width"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentStartDate",1,"alignment",3,"max","matDatepicker"],["start",""],["fxLayout","row"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentEndDate",1,"alignment",3,"matDatepicker","min"],["end",""],[1,""],[1,"card-title-text"],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","placeholder","Business",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","education","name","mod","placeholder","Education",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","Rentals",3,"input","keypress"],["fxLayout","row","fxLayoutGap","5%",1,"pb-1"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","Overdrafts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","Vehicle Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","Cards Outstanding's",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","Others",3,"keypress","input"],[1,"pb-1"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","Saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","Fixed Deposits",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","Stocks/Funds","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","Automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","Lands","formControlName","lands",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","Others","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","Total","readonly",""],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Financial Details"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"mat-card"),s.Xb(9,"div",4),s.Xb(10,"mat-form-field",5),s.Xb(11,"mat-label"),s.Tc(12,"Applicant Name"),s.Wb(),s.Sb(13,"input",6),s.Wb(),s.Xb(14,"mat-form-field",5),s.Xb(15,"mat-label"),s.Tc(16,"Currently Working"),s.Wb(),s.Sb(17,"input",7),s.Wb(),s.Xb(18,"mat-form-field",5),s.Xb(19,"mat-label"),s.Tc(20,"Total Income*"),s.Wb(),s.Sb(21,"input",8),s.Wb(),s.Wb(),s.Xb(22,"div",4),s.Xb(23,"mat-form-field",5),s.Xb(24,"mat-label"),s.Tc(25,"Total Expenses*"),s.Wb(),s.Sb(26,"input",9),s.Wb(),s.Xb(27,"mat-form-field",5),s.Xb(28,"mat-label"),s.Tc(29,"Last Update On"),s.Wb(),s.Sb(30,"input",10),s.Sb(31,"mat-datepicker-toggle",11),s.Sb(32,"mat-datepicker",null,12),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"mat-card"),s.Xb(35,"mat-card-title"),s.Xb(36,"div"),s.Tc(37,"Employment Details"),s.Wb(),s.Sb(38,"mat-divider"),s.Wb(),s.Xb(39,"mat-card-content"),s.Xb(40,"div",4),s.Xb(41,"mat-form-field",5),s.Xb(42,"mat-label"),s.Tc(43,"Employment Type*"),s.Wb(),s.Xb(44,"mat-select",13),s.Rc(45,au,2,2,"mat-option",14),s.Wb(),s.Rc(46,nu,2,0,"mat-error",15),s.Wb(),s.Xb(47,"mat-form-field",5),s.Xb(48,"mat-label"),s.Tc(49,"Employment Category*"),s.Wb(),s.Xb(50,"mat-select",16),s.Rc(51,ou,2,2,"mat-option",14),s.Wb(),s.Rc(52,ru,2,0,"mat-error",15),s.Wb(),s.Xb(53,"mat-form-field",5),s.Xb(54,"mat-label"),s.Tc(55,"Employee number*"),s.Wb(),s.Xb(56,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Rc(57,iu,2,0,"mat-error",15),s.Wb(),s.Wb(),s.Xb(58,"div",4),s.Xb(59,"mat-form-field",5),s.Xb(60,"mat-label"),s.Tc(61,"Office Name*"),s.Wb(),s.Xb(62,"input",18),s.fc("keypress",function(t){return e.letterOnly(t)}),s.Wb(),s.Rc(63,cu,2,0,"mat-error",15),s.Wb(),s.Xb(64,"mat-form-field",5),s.Xb(65,"mat-label"),s.Tc(66,"Designation*"),s.Wb(),s.Xb(67,"input",19),s.fc("keypress",function(t){return e.letterOnly(t)}),s.Wb(),s.Rc(68,su,2,0,"mat-error",15),s.Wb(),s.Xb(69,"mat-form-field",20),s.Xb(70,"mat-label"),s.Tc(71,"Employment Start Date*"),s.Wb(),s.Sb(72,"input",21),s.Sb(73,"mat-datepicker-toggle",11),s.Sb(74,"mat-datepicker",null,22),s.Rc(76,lu,2,0,"mat-error",15),s.Wb(),s.Wb(),s.Xb(77,"div",23),s.Xb(78,"mat-form-field",5),s.Xb(79,"mat-label"),s.Tc(80,"Employment End Date"),s.Wb(),s.Sb(81,"input",24),s.Sb(82,"mat-datepicker-toggle",11),s.Sb(83,"mat-datepicker",null,25),s.Rc(85,bu,2,0,"mat-error",15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(86,"mat-card"),s.Xb(87,"mat-card-title",26),s.Xb(88,"div",27),s.Tc(89," Monthly Income "),s.Xb(90,"div",28),s.Tc(91),s.Wb(),s.Wb(),s.Sb(92,"mat-divider"),s.Wb(),s.Xb(93,"mat-card-content"),s.Xb(94,"div",4),s.Xb(95,"mat-form-field",5),s.Xb(96,"mat-label"),s.Tc(97,"Bonus"),s.Wb(),s.Xb(98,"input",29),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(99,"mat-form-field",5),s.Xb(100,"mat-label"),s.Tc(101,"Interest Income"),s.Wb(),s.Xb(102,"input",30),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(103,"mat-form-field",5),s.Xb(104,"mat-label"),s.Tc(105,"Salary"),s.Wb(),s.Xb(106,"input",31),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(107,"div",4),s.Xb(108,"mat-form-field",5),s.Xb(109,"mat-label"),s.Tc(110,"Business"),s.Wb(),s.Xb(111,"input",32),s.fc("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Xb(112,"mat-form-field",5),s.Xb(113,"mat-label"),s.Tc(114,"Pension"),s.Wb(),s.Xb(115,"input",33),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(116,"mat-form-field",5),s.Xb(117,"mat-label"),s.Tc(118,"Rentals"),s.Wb(),s.Xb(119,"input",34),s.fc("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(120,"div",4),s.Xb(121,"mat-form-field",5),s.Xb(122,"mat-label"),s.Tc(123,"Cash Gifts"),s.Wb(),s.Xb(124,"input",35),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(125,"mat-form-field",5),s.Xb(126,"mat-label"),s.Tc(127,"Others"),s.Wb(),s.Xb(128,"input",36),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(129,"mat-form-field",5),s.Xb(130,"mat-label"),s.Tc(131,"Total"),s.Wb(),s.Sb(132,"input",37),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(133,"mat-card"),s.Xb(134,"mat-card-title",26),s.Xb(135,"div",27),s.Tc(136," Monthly Expenses "),s.Xb(137,"div",28),s.Tc(138),s.Wb(),s.Wb(),s.Sb(139,"mat-divider"),s.Wb(),s.Xb(140,"mat-card-content"),s.Xb(141,"div",4),s.Xb(142,"mat-form-field",5),s.Xb(143,"mat-label"),s.Tc(144,"Household"),s.Wb(),s.Xb(145,"input",38),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(146,"mat-form-field",5),s.Xb(147,"mat-label"),s.Tc(148,"Education"),s.Wb(),s.Xb(149,"input",39),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(150,"mat-form-field",5),s.Xb(151,"mat-label"),s.Tc(152,"Vehicle Maintenance"),s.Wb(),s.Xb(153,"input",40),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(154,"div",4),s.Xb(155,"mat-form-field",5),s.Xb(156,"mat-label"),s.Tc(157,"Medical"),s.Wb(),s.Xb(158,"input",41),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(159,"mat-form-field",5),s.Xb(160,"mat-label"),s.Tc(161,"Travel"),s.Wb(),s.Xb(162,"input",42),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(163,"mat-form-field",5),s.Xb(164,"mat-label"),s.Tc(165,"Rentals"),s.Wb(),s.Xb(166,"input",43),s.fc("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(167,"div",44),s.Xb(168,"mat-form-field",5),s.Xb(169,"mat-label"),s.Tc(170,"Others"),s.Wb(),s.Xb(171,"input",45),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(172,"mat-form-field",5),s.Xb(173,"mat-label"),s.Tc(174,"Total"),s.Wb(),s.Sb(175,"input",46),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(176,"mat-card"),s.Xb(177,"mat-card-title",26),s.Xb(178,"div",27),s.Tc(179," Annual Liabilities "),s.Xb(180,"div",28),s.Tc(181),s.Wb(),s.Wb(),s.Sb(182,"mat-divider"),s.Wb(),s.Xb(183,"mat-card-content"),s.Xb(184,"div",4),s.Xb(185,"mat-form-field",5),s.Xb(186,"mat-label"),s.Tc(187,"Property Loans"),s.Wb(),s.Xb(188,"input",47),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(189,"mat-form-field",5),s.Xb(190,"mat-label"),s.Tc(191,"Personal Loans"),s.Wb(),s.Xb(192,"input",48),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(193,"mat-form-field",5),s.Xb(194,"mat-label"),s.Tc(195,"Overdrafts"),s.Wb(),s.Xb(196,"input",49),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(197,"div",4),s.Xb(198,"mat-form-field",5),s.Xb(199,"mat-label"),s.Tc(200,"Vehicle Loans"),s.Wb(),s.Xb(201,"input",50),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(202,"mat-form-field",5),s.Xb(203,"mat-label"),s.Tc(204,"Cards Outstanding's"),s.Wb(),s.Xb(205,"input",51),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(206,"mat-form-field",5),s.Xb(207,"mat-label"),s.Tc(208,"Others"),s.Wb(),s.Xb(209,"input",52),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(210,"div",53),s.Xb(211,"mat-form-field",5),s.Xb(212,"mat-label"),s.Tc(213,"Total"),s.Wb(),s.Sb(214,"input",54),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(215,"mat-card"),s.Xb(216,"mat-card-title",26),s.Xb(217,"div",27),s.Tc(218," Asset "),s.Xb(219,"div",28),s.Tc(220),s.Wb(),s.Wb(),s.Sb(221,"mat-divider"),s.Wb(),s.Xb(222,"mat-card-content"),s.Xb(223,"div",4),s.Xb(224,"mat-form-field",5),s.Xb(225,"mat-label"),s.Tc(226,"Savings Deposits"),s.Wb(),s.Xb(227,"input",55),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(228,"mat-form-field",5),s.Xb(229,"mat-label"),s.Tc(230,"Properties"),s.Wb(),s.Xb(231,"input",56),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(232,"mat-form-field",5),s.Xb(233,"mat-label"),s.Tc(234,"Fixed Deposits"),s.Wb(),s.Xb(235,"input",57),s.fc("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(236,"div",4),s.Xb(237,"mat-form-field",5),s.Xb(238,"mat-label"),s.Tc(239,"Stocks/Funds"),s.Wb(),s.Xb(240,"input",58),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(241,"mat-form-field",5),s.Xb(242,"mat-label"),s.Tc(243,"Automobiles"),s.Wb(),s.Xb(244,"input",59),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(245,"mat-form-field",5),s.Xb(246,"mat-label"),s.Tc(247,"Lands"),s.Wb(),s.Xb(248,"input",60),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(249,"div",4),s.Xb(250,"mat-form-field",5),s.Xb(251,"mat-label"),s.Tc(252,"Others"),s.Wb(),s.Xb(253,"input",61),s.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),s.Wb(),s.Wb(),s.Xb(254,"mat-form-field",5),s.Xb(255,"mat-label"),s.Tc(256,"Total"),s.Wb(),s.Sb(257,"input",62),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(258,"div",63),s.Xb(259,"button",64),s.fc("click",function(){return e.onSubmit()}),s.Tc(260,"Save"),s.Wb(),s.Tc(261," \xa0\xa0\xa0 "),s.Xb(262,"button",65),s.fc("click",function(){return e.close()}),s.Tc(263," Cancel "),s.Wb(),s.Wb()),2&t){var a=s.Dc(33),n=s.Dc(75),o=s.Dc(84);s.Eb(7),s.rc("formGroup",e.cardFinancialDetailsUpdateForm),s.Eb(23),s.rc("matDatepicker",a),s.Eb(1),s.rc("for",a),s.Eb(14),s.rc("ngForOf",e.arrayEmploymentType),s.Eb(1),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentType").hasError("required")),s.Eb(5),s.rc("ngForOf",e.arrayEmploymentCategory),s.Eb(1),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentCategory").hasError("required")&&e.cardFinancialDetailsUpdateForm.get("employmentCategory").touched),s.Eb(5),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employeeNumber").hasError("required")),s.Eb(6),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("officeName").hasError("required")),s.Eb(5),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("designation").hasError("required")),s.Eb(4),s.rc("max",e.maxDate)("matDatepicker",n),s.Eb(1),s.rc("for",n),s.Eb(3),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentStartDate").hasError("required")),s.Eb(5),s.rc("matDatepicker",o)("min",e.cardFinancialDetailsUpdateForm.get("employmentStartDate").value),s.Eb(1),s.rc("for",o),s.Eb(3),s.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentEndDate").hasError("required")),s.Eb(6),s.Uc(e.incomeErrMsg),s.Eb(47),s.Uc(e.ExpensesErrMsg),s.Eb(43),s.Uc(e.LiabilitiesErrMsg),s.Eb(39),s.Uc(e.assetErrMsg),s.Eb(39),s.rc("disabled",e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg)}},directives:[W.e,W.d,X.a,m.h,m.e,I.a,g.C,g.s,g.j,W.f,T.c,W.b,T.g,E.b,g.c,g.r,g.i,g.w,x.e,x.g,T.j,x.d,I.h,Ba.a,I.d,C.a,i.m,i.n,g.m,$.a,R.b,D.n,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}"]}),uu);function mu(t,e){if(1&t&&(s.Xb(0,"mat-option",20),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function fu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"tr",3),s.Xb(1,"td",13),s.Xb(2,"mat-select",14),s.fc("valueChange",function(t){s.Hc(a);var n=e.index;return s.jc().changeValue2(t,n)}),s.Rc(3,mu,2,2,"mat-option",15),s.Wb(),s.Wb(),s.Xb(4,"td"),s.Xb(5,"div"),s.Xb(6,"input",16),s.fc("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().OnInput1(t,!0,n)})("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"td"),s.Xb(8,"div"),s.Xb(9,"input",17),s.fc("keyup",function(t){s.Hc(a);var n=e.index;return s.jc().OnInput(t,!0,n)})("keypress",function(t){return s.Hc(a),s.jc().keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(10,"td",18),s.Xb(11,"div"),s.Xb(12,"button",19),s.fc("click",function(){s.Hc(a);var t=e.index;return s.jc().onclick1(t)}),s.Xb(13,"mat-icon"),s.Tc(14,"delete"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.jc();s.rc("formGroup",n),s.Eb(3),s.rc("ngForOf",o.arraylimitType),s.Eb(3),s.rc("readonly",o.isDLReadOnly),s.Eb(3),s.rc("readonly",o.isLPTReadOnly)}}function pu(t,e){1&t&&(s.Xb(0,"mat-error"),s.Xb(1,"small"),s.Tc(2,"Limit per transaction should be less "),s.Wb(),s.Sb(3,"br"),s.Xb(4,"small"),s.Tc(5,"than daily limit"),s.Wb(),s.Wb())}var hu,gu=((hu=function(){function t(e,n,o,r,i){a(this,t),this.data=e,this.dialogRef=n,this.fb=o,this.apiService=r,this.snack=i,this.arraylimitType=["Domestic Limit","International Limit","Daily Limit","ATM limit","POS Limit","Internet Limit"]}return o(t,[{key:"ngOnInit",value:function(){if(console.log(this.data),this.buildcardPrefrenceUpdateForm(),this.data.preferanceInfo){this.cardPrefrenceOnLoad=this.data.preferanceInfo,this.isdailylimit=!0,this.isLimitTransaction=!0,this.buildcardPrefrenceUpdateForm(this.data.preferanceInfo,!0);for(var t=0;t<=this.cardPrefrenceOnLoad.length-1;t++)this.selectedOptions2.push(this.cardPrefrenceOnLoad[t].limitType);this.isRowEnds=!0,console.log("All Transaction Details",this.data)}else this.buildcardPrefrenceUpdateForm()}},{key:"buildcardPrefrenceUpdateForm",value:function(t,e){if(this.cardPrefrenceUpdateForm=this.fb.group({cardPrefrences:this.fb.array([this.addMFormGroup()])}),e){this.addMandateToFormGroup(t),console.log(t);for(var a=0;a<=t.length-1;a++)t[a].dailyLimit=this.addComa(t[a].dailyLimit),t[a].limitPerTransaction=this.addComa(t[a].limitPerTransaction);this.m.patchValue(t)}}},{key:"addMFormGroup",value:function(){return this.fb.group({preferenceId:[""],limitType:[""],dailyLimit:["",[g.A.maxLength(18),g.A.pattern("^[0-9]{10,12}$")]],limitPerTransaction:["",[g.A.maxLength(18),g.A.pattern("^[0-9]{10,12}$")]]})}},{key:"addMandateToFormGroup",value:function(t){for(var e=t.length,a=1;a<e;a++)this.m.push(this.fb.group({preferenceId:[""],limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}));this.isdailylimit=!0}},{key:"addComa",value:function(t){var e=t.toString().replace(/,/g,"").split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}},{key:"addMandate",value:function(){this.isdailylimit=!1,this.islimitType=!1,this.isLimitTransaction=!1,this.isLPTReadOnly=!0,this.isLPTReadOnly=!0,console.log("this.selectedOptions2",this.selectedOptions2),this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}))}},{key:"onSubmit",value:function(){var t=this,e=[];this.cardPrefrenceUpdateForm.value.cardPrefrences.cardId=this.data.cardId;for(var a=0;a<this.cardPrefrenceUpdateForm.value.cardPrefrences.length;a++){var n=Object.assign({},this.cardPrefrenceUpdateForm.value.cardPrefrences[a],{cardId:this.data.cardId});n.dailyLimit=parseInt(this.removeComma(n.dailyLimit)),n.limitPerTransaction=parseInt(this.removeComma(n.limitPerTransaction)),e.push(n)}this.apiService.uploadCardPrefrence(e).subscribe(function(e){console.log("data",e),null!=e&&(t.snack.open("Card Preferences Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:t.data.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})}))},function(e){t.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"onclick1",value:function(t){var e=this;this.islimitType=!0,this.isLimitTransaction=!0,this.isdailylimit=!0,this.isRowEnds=!1,this.isLPTReadOnly=!1,this.isLPTReadOnly=!1,this.cardPrefrenceUpdateForm.controls.cardPrefrences.removeAt(t),null==this.cardPrefrenceOnLoad?console.log("deleted"):null!=this.cardPrefrenceOnLoad[t]&&this.apiService.deleteCardPrefrence(this.cardPrefrenceOnLoad[t].preferenceId).subscribe(function(t){},function(t){200==t.status&&e.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.selectedOptions2.splice(t,1),console.log("console.log(this.selectedOptions2);",this.selectedOptions2),this.isdailylimit=!0}},{key:"f",get:function(){return this.cardPrefrenceUpdateForm.controls}},{key:"m",get:function(){return this.f.cardPrefrences}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"changeValue2",value:function(t,e){var a=this;this.islimitType=!0,this.selectedDocumentTypes2[e]&&(this.selectedOptions2=this.selectedOptions2.filter(function(t){return t!==a.selectedDocumentTypes2[e]})),this.selectedDocumentTypes2[e]=t,this.selectedOptions2.push(t),this.selectedDocumentTypes2.length==this.arraylimitType.length?(this.isRowEnds=!0,console.log("isRowends",this.isRowEnds)):(this.isRowEnds=!1,console.log("isRowends",this.isRowEnds)),this.isDLReadOnly=!1}},{key:"_keyPress",value:function(t){console.log(this.cardPrefrenceUpdateForm);var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isdailylimit=!0,this.isLPTReadOnly=!1}},{key:"keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isLimitTransaction=!0}},{key:"OnInput",value:function(t,e,a){this.limiPrTrn=t.target.value;var n=this.removeComma(this.cardPrefrenceUpdateForm.value.cardPrefrences[a].dailyLimit),o=this.removeComma(this.limiPrTrn);this.isLimitTransaction=!!this.limiPrTrn,this.isGreaterValue=Number(o)>Number(n)||(Number(o),Number(n),!1);var r={limitPerTransaction:this.addComa(this.limiPrTrn)};this.m.controls[a].patchValue(r)}},{key:"OnInput1",value:function(t,e,a){this.limitDaily=t.target.value,this.isdailylimit=!!this.limitDaily;var n={dailyLimit:this.addComa(this.limitDaily)};this.m.controls[a].patchValue(n)}},{key:"removeComma",value:function(t){var e=t.replace(/,/g,"");return console.log("numb",e),e}}]),t}()).\u0275fac=function(t){return new(t||hu)(s.Rb(m.a),s.Rb(m.g),s.Rb(g.f),s.Rb(l.b),s.Rb(y.a))},hu.\u0275cmp=s.Lb({type:hu,selectors:[["app-card-preference-details-update"]],decls:31,vars:5,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"table-container"],[1,"table"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","335px"],["mat-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[2,"width","5cm"],["formControlName","limitType","placeholder","Select Type","name","limitType",1,"inputMatcard1",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","maxlength","18","formControlName","dailyLimit",1,"alignment",3,"readonly","keyup","keypress"],["type","text","maxlength","18","formControlName","limitPerTransaction",1,"alignment",3,"readonly","keyup","keypress"],[1,"deletebutton"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"mat-icon",1),s.fc("click",function(){return e.close()}),s.Tc(2,"close"),s.Wb(),s.Wb(),s.Xb(3,"h1",2),s.Tc(4,"Card Preferences"),s.Wb(),s.Xb(5,"mat-dialog-content"),s.Xb(6,"mat-card"),s.Xb(7,"form",3),s.Xb(8,"div",4),s.Xb(9,"table",5),s.Xb(10,"thead"),s.Xb(11,"tr"),s.Xb(12,"th"),s.Tc(13,"Limit Type"),s.Wb(),s.Xb(14,"th"),s.Tc(15,"Daily Limit"),s.Wb(),s.Xb(16,"th"),s.Tc(17,"Limit per transaction"),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"tbody"),s.Rc(19,fu,15,4,"tr",6),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",7),s.Xb(21,"button",8),s.fc("click",function(){return e.addMandate()}),s.Xb(22,"mat-icon"),s.Tc(23,"add"),s.Wb(),s.Wb(),s.Rc(24,pu,6,0,"mat-error",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",10),s.Xb(26,"button",11),s.fc("click",function(){return e.onSubmit()}),s.Tc(27,"Save"),s.Wb(),s.Tc(28," \xa0\xa0\xa0 "),s.Xb(29,"button",12),s.fc("click",function(){return e.close()}),s.Tc(30," Cancel "),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.cardPrefrenceUpdateForm),s.Eb(12),s.rc("ngForOf",e.m.controls),s.Eb(2),s.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction&&e.islimitType&&!e.isRowEnds)||e.isGreaterValue),s.Eb(3),s.rc("ngIf",e.isGreaterValue),s.Eb(2),s.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction||e.islimitType)||e.isGreaterValue||0==e.m.controls.length))},directives:[W.e,W.d,X.a,m.h,m.e,I.a,g.C,g.s,g.j,i.m,W.f,R.b,i.n,C.a,g.r,g.i,g.c,g.m,D.n,T.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.table-container[_ngcontent-%COMP%]{padding:0 10%;margin:20px auto 0}.table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:.2cm;background-color:#007bff}.alignment[_ngcontent-%COMP%]{border-style:none;outline:none;box-shadow:0 0 0;padding-top:11px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:medium;color:#fff;opacity:1;padding:12px;vertical-align:top}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;border:1px solid rgba(2,2,3,.48627450980392156)}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;color:#f1f1f1;padding:8px;text-align:center}.deletebutton[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-option-text[_ngcontent-%COMP%]{display:inline-block;flex-grow:1;margin-left:10px!important;overflow:hidden;text-overflow:ellipsis}.mat-select-panel[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%], .mat-select-panel[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{font-size:inherit;line-height:3em;margin-left:10px;height:3em}.egret-blue[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);margin-left:10px}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 10px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 0 0 rgba(0,0,0,.1607843137254902);box-sizing:border-box;padding:10px;width:100%}"]}),hu),vu=["chart"];function yu(t,e){if(1&t&&(s.Xb(0,"span",62),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.Uc(a)}}function Wu(t,e){if(1&t&&(s.Xb(0,"div",63),s.Xb(1,"h1",64),s.Tc(2),s.kc(3,"slice"),s.kc(4,"uppercase"),s.kc(5,"slice"),s.kc(6,"uppercase"),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Oc("background",a.customerColorCode),s.Eb(2),s.Wc("",s.nc(3,4,s.lc(4,8,a.cardInfo.firstName),0,1),"",s.nc(5,10,s.lc(6,14,a.cardInfo.lastName),0,1),"")}}function Xu(t,e){if(1&t&&s.Sb(0,"img",66),2&t){var a=s.jc(2);s.rc("src",a.imageUrl,s.Jc)}}function Tu(t,e){if(1&t&&(s.Xb(0,"div",63),s.Rc(1,Xu,1,1,"img",65),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngIf","not_available"!=a.imageUrl)}}function Iu(t,e){if(1&t&&(s.Xb(0,"div",79),s.Xb(1,"small",80),s.Tc(2),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(2),s.Vc("CIF #",null==a?null:a.cifNumber,"")}}function Eu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",81),s.fc("click",function(){return s.Hc(a),s.jc(2).goTo360Dashboard()}),s.Xb(1,"small",80),s.Tc(2),s.Wb(),s.Wb()}if(2&t){var n=s.jc().$implicit;s.Eb(2),s.Vc("CIF #",null==n?null:n.cifNumber,"")}}function Cu(t,e){if(1&t&&(s.Xb(0,"div",67),s.Xb(1,"div",38),s.Xb(2,"mat-card"),s.Xb(3,"div",67),s.Xb(4,"div",68),s.Sb(5,"img",69),s.Wb(),s.Xb(6,"div",70),s.Xb(7,"div",71),s.Xb(8,"div"),s.Xb(9,"div",67),s.Xb(10,"div",72),s.Xb(11,"h2",73),s.Xb(12,"span"),s.Tc(13),s.Wb(),s.Tc(14,"\xa0 "),s.Xb(15,"span"),s.Tc(16),s.Wb(),s.Tc(17,"\xa0 "),s.Xb(18,"span"),s.Tc(19),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",74),s.Tc(21,"|"),s.Wb(),s.Xb(22,"div",72),s.Xb(23,"small",49),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",67),s.Rc(26,Iu,3,1,"div",75),s.Rc(27,Eu,3,1,"div",76),s.Wb(),s.Sb(28,"br"),s.Xb(29,"div",77),s.Xb(30,"div",78),s.Xb(31,"small",48),s.Tc(32,"Date of Birth"),s.Wb(),s.Sb(33,"br"),s.Xb(34,"p",49),s.Tc(35),s.Wb(),s.Wb(),s.Xb(36,"div",78),s.Xb(37,"small",48),s.Tc(38,"Email ID"),s.Wb(),s.Sb(39,"br"),s.Xb(40,"p",49),s.Tc(41),s.Wb(),s.Wb(),s.Xb(42,"div",78),s.Xb(43,"small",48),s.Tc(44,"Mobile Number"),s.Wb(),s.Sb(45,"br"),s.Xb(46,"p",49),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"div",78),s.Xb(49,"small",48),s.Tc(50,"Phone Number"),s.Wb(),s.Sb(51,"br"),s.Xb(52,"p",49),s.Tc(53),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=s.jc();s.Eb(13),s.Uc(null==a?null:a.firstName),s.Eb(3),s.Uc(null==a?null:a.middleName),s.Eb(3),s.Uc(null==a?null:a.lastName),s.Eb(5),s.Vc("Last Updated On ",null!=a&&a.modifiedTime?a.modifiedTime:a.createdTime,""),s.Eb(2),s.rc("ngIf",!n.isApprovedSreen),s.Eb(1),s.rc("ngIf",n.isApprovedSreen),s.Eb(8),s.Uc(null==a?null:a.dateOfBirth),s.Eb(6),s.Uc(null==a?null:a.primaryEmailAdress),s.Eb(6),s.Uc(null==a||null==a.userAddress[0]?null:a.userAddress[0].mobileNumber),s.Eb(6),s.Uc(null==a?null:a.phoneNumber)}}function xu(t,e){if(1&t&&s.Sb(0,"apx-chart",91),2&t){var a=s.jc(2);s.rc("series",a.chartOptions.series)("chart",a.chartOptions.chart)("plotOptions",a.chartOptions.plotOptions)("labels",a.chartOptions.labels)}}function Au(t,e){if(1&t&&s.Sb(0,"apx-chart",92),2&t){var a=s.jc(2);s.rc("series",a.chartOptions1.series1)("chart",a.chartOptions1.chart1)("yaxis",a.chartOptions1.yaxis1)("xaxis",a.chartOptions1.xaxis1)("labels",a.chartOptions1.labels1)("stroke",a.chartOptions1.stroke1)("markers",a.chartOptions1.markers1)("fill",a.chartOptions1.fill1)("tooltip",a.chartOptions1.tooltip1)}}function Ru(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"h3"),s.Tc(3,"Financial Details"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"mat-icon",31),s.fc("click",function(){return s.Hc(a),s.jc().editFinancialDetails()}),s.Tc(6,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(7,"hr"),s.Xb(8,"mat-card"),s.Xb(9,"div",71),s.Xb(10,"mat-card"),s.Xb(11,"h4"),s.Tc(12,"Assets and Liabilities"),s.Wb(),s.Rc(13,xu,1,4,"apx-chart",82),s.Wb(),s.Xb(14,"mat-card"),s.Xb(15,"h4"),s.Tc(16,"Income and Expenses"),s.Wb(),s.Rc(17,Au,1,9,"apx-chart",83),s.Wb(),s.Wb(),s.Xb(18,"mat-card"),s.Xb(19,"mat-card-header",84),s.Xb(20,"div",85),s.Xb(21,"div",86),s.Xb(22,"div",87),s.Xb(23,"mat-icon"),s.Tc(24,"perm_identity"),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div"),s.Xb(26,"mat-card-title",88),s.Tc(27),s.Wb(),s.Xb(28,"mat-card-subtitle",89),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"div",90),s.Xb(31,"div"),s.Xb(32,"div",36),s.Tc(33,"Employment Type"),s.Wb(),s.Xb(34,"div",37),s.Tc(35),s.Wb(),s.Wb(),s.Xb(36,"div"),s.Xb(37,"div",36),s.Tc(38,"Employment Category"),s.Wb(),s.Xb(39,"div",37),s.Tc(40),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Wb()}if(2&t){var n=s.jc();s.Eb(5),s.rc("hidden",n.editScreen),s.Eb(8),s.rc("ngIf",n.chartOptions),s.Eb(4),s.rc("ngIf",n.chartOptions1),s.Eb(10),s.Uc(n.designation),s.Eb(2),s.Wc("",n.employeeNumber,",",n.officeName," "),s.Eb(6),s.Uc(n.employmentType),s.Eb(5),s.Uc(n.employmentCategory)}}function Ou(t,e){if(1&t&&(s.Xb(0,"div",33),s.Sb(1,"div",34),s.Xb(2,"div",35),s.Xb(3,"div",36),s.Tc(4,"Limit Type"),s.Wb(),s.Xb(5,"div",37),s.Tc(6),s.Wb(),s.Wb(),s.Xb(7,"div",35),s.Xb(8,"div",36),s.Tc(9,"Daily Limit"),s.Wb(),s.Xb(10,"div",37),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"div",35),s.Xb(13,"div",36),s.Tc(14,"Limit Per Transaction"),s.Wb(),s.Xb(15,"div",37),s.Tc(16),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(6),s.Uc(a.limitType),s.Eb(5),s.Uc(a.dailyLimit),s.Eb(5),s.Uc(a.limitPerTransaction)}}function Du(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",30),s.Xb(2,"h3"),s.Tc(3,"Card Preferences Details"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"mat-icon",31),s.fc("click",function(){return s.Hc(a),s.jc().editCardPreferenceDetails()}),s.Tc(6,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Sb(7,"hr"),s.Xb(8,"mat-card"),s.Xb(9,"mat-card-content"),s.Rc(10,Ou,17,3,"div",93),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(5),s.rc("hidden",n.editScreen),s.Eb(5),s.rc("ngForOf",n.preferenceDetails)}}function ku(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"h4"),s.Tc(3,"Fixed Interest"),s.Wb(),s.Wb(),s.Xb(4,"div",95),s.Xb(5,"div"),s.Xb(6,"mat-card",96),s.Xb(7,"div"),s.Xb(8,"div",36),s.Tc(9,"Interest Type"),s.Wb(),s.Xb(10,"div",37),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div"),s.Xb(13,"mat-card",96),s.Xb(14,"div"),s.Xb(15,"div",36),s.Tc(16,"Applicable Interest Rate"),s.Wb(),s.Xb(17,"div",37),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div"),s.Xb(20,"mat-card",96),s.Xb(21,"div"),s.Xb(22,"div",36),s.Tc(23,"Effective Rate %"),s.Wb(),s.Xb(24,"div",37),s.Tc(25),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(26,"div"),s.Xb(27,"mat-card",96),s.Xb(28,"div"),s.Xb(29,"div",36),s.Tc(30,"Margin In %"),s.Wb(),s.Xb(31,"div",37),s.Tc(32),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(11),s.Uc(a.intrestType),s.Eb(7),s.Uc(a.intrestRateApplicable),s.Eb(7),s.Uc(a.effectiveRate),s.Eb(7),s.Uc(a.marginIn)}}function Su(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card"),s.Xb(1,"div",30),s.Xb(2,"h3"),s.Tc(3,"Interest Details"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"mat-icon",31),s.fc("click",function(){return s.Hc(a),s.jc(2).editInterestDetails()}),s.Tc(6,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(7,ku,33,4,"mat-card",94),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(5),s.rc("hidden",n.editScreen),s.Eb(2),s.rc("ngForOf",n.intrestDetails)}}function Nu(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div"),s.Xb(2,"h4"),s.Tc(3,"IT Charge"),s.Wb(),s.Wb(),s.Xb(4,"div"),s.Xb(5,"div"),s.Xb(6,"mat-card",97),s.Xb(7,"div"),s.Xb(8,"div",36),s.Tc(9,"Amount"),s.Wb(),s.Xb(10,"div",37),s.Tc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(11),s.Uc(a.amount)}}function Pu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"mat-card"),s.Xb(1,"div",30),s.Xb(2,"h3"),s.Tc(3,"Charge Details"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"mat-icon",31),s.fc("click",function(){return s.Hc(a),s.jc(2).editChargeDetails()}),s.Tc(6,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Rc(7,Nu,12,1,"mat-card",94),s.Wb()}if(2&t){var n=s.jc(2);s.Eb(5),s.rc("hidden",n.editScreen),s.Eb(2),s.rc("ngForOf",n.chargeDetails)}}function Fu(t,e){if(1&t&&(s.Xb(0,"div",25),s.Xb(1,"div",26),s.Xb(2,"div",27),s.Tc(3,"2"),s.Wb(),s.Xb(4,"div",28),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Xb(6,"div",29),s.Xb(7,"h2"),s.Tc(8,"Application Enrichment"),s.Wb(),s.Sb(9,"hr"),s.Rc(10,Su,8,2,"mat-card",51),s.Sb(11,"br"),s.Sb(12,"hr"),s.Rc(13,Pu,8,2,"mat-card",51),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(10),s.rc("ngIf",(null==a.intrestDetails?null:a.intrestDetails.length)>0),s.Eb(3),s.rc("ngIf",(null==a.chargeDetails?null:a.chargeDetails.length)>0)}}function Lu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",25),s.Xb(1,"div",26),s.Xb(2,"div",27),s.Tc(3,"3"),s.Wb(),s.Xb(4,"div",28),s.Tc(5,"\xa0"),s.Wb(),s.Wb(),s.Sb(6,"br"),s.Xb(7,"div",29),s.Xb(8,"h2"),s.Tc(9,"Underwriting Stage"),s.Wb(),s.Sb(10,"hr"),s.Xb(11,"div"),s.Xb(12,"div",30),s.Xb(13,"h3"),s.Tc(14,"Credit Score Details"),s.Wb(),s.Xb(15,"span"),s.Xb(16,"mat-icon",31),s.fc("click",function(){return s.Hc(a),s.jc().editCreditScoreDetails()}),s.Tc(17,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"div",39),s.Xb(19,"div",42),s.Xb(20,"div",43),s.Xb(21,"mat-card",98),s.Xb(22,"mat-card-content"),s.Xb(23,"div",38),s.Xb(24,"div",99),s.Xb(25,"div",100),s.Vb(26),s.Xb(27,"div",101),s.Xb(28,"mat-hint",36),s.Tc(29,"Customer Name"),s.Wb(),s.Sb(30,"br"),s.Xb(31,"mat-hint",37),s.Tc(32),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(33,"div",39),s.Xb(34,"div",42),s.Xb(35,"div",43),s.Xb(36,"mat-card",98),s.Xb(37,"mat-card-content"),s.Xb(38,"div",38),s.Xb(39,"div",99),s.Xb(40,"div",100),s.Vb(41),s.Sb(42,"div",102),s.Xb(43,"div",103),s.Xb(44,"mat-card",104),s.Xb(45,"h3"),s.Tc(46,"Score"),s.Wb(),s.Sb(47,"br"),s.Xb(48,"div",105),s.Xb(49,"div",100),s.Vb(50),s.Xb(51,"div",106),s.Xb(52,"mat-hint",36),s.Tc(53,"Agency"),s.Wb(),s.Sb(54,"br"),s.Xb(55,"mat-hint",37),s.Tc(56),s.Wb(),s.Wb(),s.Xb(57,"div",106),s.Xb(58,"mat-hint",36),s.Tc(59,"Score"),s.Wb(),s.Sb(60,"br"),s.Xb(61,"mat-hint",37),s.Tc(62),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Wb(),s.Sb(63,"br"),s.Xb(64,"div",99),s.Xb(65,"div",100),s.Vb(66),s.Xb(67,"div",106),s.Xb(68,"mat-hint",36),s.Tc(69,"Remarks"),s.Wb(),s.Sb(70,"br"),s.Xb(71,"mat-hint",37),s.Tc(72),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(73,"hr"),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(16),s.rc("hidden",n.editScreen),s.Eb(16),s.Uc(n.customerName),s.Eb(24),s.Uc(n.agencyName),s.Eb(6),s.Uc(n.ratings),s.Eb(10),s.Vc("",n.remarks," ")}}var wu,Uu=function(t,e){return{disabledbtn:t,rejectbtn:e}},_u=function(t,e){return{disabledbtn:t,approvebtn:e}},Mu=((wu=function(){function t(e,n,o,r,i,c,s,l,b,u,d){a(this,t),this.router=e,this.tasksummaryService=n,this.ls=o,this.dialogRef=r,this.appApiService=i,this.api=c,this.sanitizer=s,this.data=l,this.cdr=b,this.snack=u,this.dialog=d,this.chart=new p.a,this.isOnGoing="",this.nameCreater=["Y","B","","D","E","T","A","E","R","C"]}return o(t,[{key:"ngOnInit",value:function(){this.cardInfo=this.data,console.log(this.cardInfo),this.cardId=this.ls.getItem(""),this.ls.setItem("CIF_NUM_PRIMARY",this.cardInfo.customerId),this.ls.setItem("NAME",this.cardInfo.firstName+" "+this.cardInfo.lastName),this.getProfileImage(this.cardInfo.customerId),"REJECTED"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1):"APPROVED"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0):"ONGOING"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!1,this.editScreen=!1):"BACKLOG"==this.cardInfo.status&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1),this.getAccountInfoByAccountId(this.cardInfo.cardId),this.getCustomerInfoDetails(this.cardInfo.cardId)}},{key:"close",value:function(t){this.dialogRef.close({message:"Confirm",data:this.cardInfo.status})}},{key:"getProfileImage",value:function(t){var e=this;this.image=null,null!=this.cardInfo.customerId&&this.api.getProfileDetails(t).subscribe(function(t){null!=t.profileImage&&(e.imageUrl=t.profileImage,e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},function(t){console.log(t)})}},{key:"goToCardAccount",value:function(){var t=this;console.log("Navigating to edit screen"),this.ls.setItem("EDIT-CARDINFO",this.cardAccountInfo),this.api.updateCardStatus({cardId:this.cardInfo.cardId,status:"ONGOING"}).subscribe(function(t){}),console.log("acc data :: ",this.cardInfo),setTimeout(function(){t.router.navigateByUrl("/cardaccount/applicationEntryStage/list")},1e3),this.dialogRef.close({message:"Confirm"})}},{key:"getAccountInfoByAccountId",value:function(t){var e=this;this.tasksummaryService.getCardAccountInfoById(t).subscribe(function(t){if(t)for(var a in e.cardAccountInfo=t,console.log("backend data",e.cardAccountInfo),e.initiationDetails=e.cardAccountInfo.initiationInfo,console.log(e.initiationDetails),e.cardAccountInfo.financialInfo&&(e.financialDetails=e.cardAccountInfo.financialInfo[0],e.income=e.cardAccountInfo.financialInfo[0].applicantTotalIncome,e.expense=e.cardAccountInfo.financialInfo[0].applicantTotalExpense,e.designation=e.cardAccountInfo.financialInfo[0].designation,e.office=e.cardAccountInfo.financialInfo[0].office,e.employeeNumber=e.cardAccountInfo.financialInfo[0].employeeNumber,e.employmentType=e.cardAccountInfo.financialInfo[0].employmentType,e.employmentCategory=e.cardAccountInfo.financialInfo[0].employmentCategory),e.cardAccountInfo.creditRatingInfo&&(e.creditRatingDetails=e.cardAccountInfo.creditRatingInfo,e.customerName=e.cardAccountInfo.creditRatingInfo.customerName,e.cardAccountInfo.creditRatingInfo.agencyRating&&(e.cardAccountInfo.creditRatingInfo.agencyRating[0].agencyName&&(e.agencyName=e.cardAccountInfo.creditRatingInfo.agencyRating[0].agencyName),e.cardAccountInfo.creditRatingInfo.agencyRating[0].ratings&&(e.ratings=e.cardAccountInfo.creditRatingInfo.agencyRating[0].ratings),e.cardAccountInfo.creditRatingInfo.agencyRating[0].remarks&&(e.remarks=e.cardAccountInfo.creditRatingInfo.agencyRating[0].remarks))),e.intrestDetails=e.cardAccountInfo.interestInfo,e.chargeDetails=e.cardAccountInfo.chargeInfo,e.signatureData=e.cardAccountInfo.documentInfo,e.assessmentDetails=e.cardAccountInfo.assessmentInfo,e.approvalDetails=e.cardAccountInfo.approvalInfo,e.preferenceDetails=e.cardAccountInfo.preferenceInfo,e.assignValues(e.cardAccountInfo.initiationInfo,e.cardAccountInfo.financialInfo[0],e.cardAccountInfo.creditRatingInfo,e.cardAccountInfo.interestInfo,e.cardAccountInfo.chargeInfo,e.cardAccountInfo.documentInfo,e.cardAccountInfo.assessmentInfo,e.cardAccountInfo.approvalInfo,e.cardAccountInfo.preferenceInfo),e.cardAccountInfo)Object.prototype.hasOwnProperty.call(e.cardAccountInfo,a)})}},{key:"assignValues",value:function(t,e,a,n,o,r,i,c,s){this.approvalDetails=c,this.assessmentDetails=i,this.initiationDetails=t,this.creditRatingDetails=a,this.financialDetails=e,this.interestDetails=n,this.chargeDetails=o,this.signatureData=r,this.preferenceDetails=s,this.chartOptions={series:[48],chart:{height:200,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:"70%"}}},labels:["saved"]},this.chartOptions1={series1:[{name:"Income :"+this.income,type:"line",data:[40,55,50,70,65,68,50,45,35,30,38,40]},{name:"Expenses :"+this.expense,type:"line",data:[55,30,25,45,46,47,48,52,44,35,30]}],chart1:{height:220,type:"line"},stroke1:{curve:"smooth"},fill1:{type:"solid",opacity:[.35,1]},labels1:["JAN","","FEB","","MAR","","APR","","MAY ","","JUN"],yaxis1:[{title:{text:""}}],xaxis1:{labels:{trim:!1}}}}},{key:"updateApplicationStatus",value:function(t,e){var a=this;console.log("formData::",t);var n=e;this.accStatus=e,console.log(this.accStatus),this.tasksummaryService.updateCardAccountStatus({status:this.accStatus,cardId:t.cardId}).subscribe(function(t){null!=t.cardId||""!=t.cardId||""!=t.cardId?(a.close(n),a.cdr.markForCheck(),a.cdr.detectChanges(),a.dialogRef.close({message:"Confirm",data:n}),a.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck()):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.errorStatus=e,a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"openEditScreen",value:function(t,e){var a=this;this.api.updateCardStatus({cardId:this.cardInfo.cardId,status:"ONGOING"}).subscribe(function(t){a.approvedStatus=!0,a.rejectedStatus=!1}),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){a.cardInfo.status=t.status,"BACKLOG"==a.cardInfo.status&&(a.approvedStatus=!1,a.rejectedStatus=!1),a.getAccountInfoByAccountId(a.cardInfo.cardId),a.cdr.markForCheck()})}},{key:"editInitiationDetails",value:function(){this.openEditScreen(Cb,this.initiationDetails)}},{key:"editFinancialDetails",value:function(){this.openEditScreen(du,this.cardAccountInfo)}},{key:"editCardPreferenceDetails",value:function(){this.openEditScreen(gu,{preferanceInfo:this.preferenceDetails,cardId:this.cardInfo.cardId})}},{key:"editInterestDetails",value:function(){this.openEditScreen(eu,{interestInfo:this.interestDetails,cardId:this.cardInfo.cardId})}},{key:"editChargeDetails",value:function(){this.openEditScreen(Zb,{chargeInfo:this.chargeDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}},{key:"editCreditScoreDetails",value:function(){this.openEditScreen($b,{creditScore:this.creditRatingDetails,cardId:this.cardInfo.cardId})}},{key:"editAssessmentReport",value:function(){this.openEditScreen(Vb,{assessmentInfo:this.assessmentDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}},{key:"editApprovalDetails",value:function(){this.openEditScreen(Ub,{approvalInfo:this.approvalDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}},{key:"getCustomerInfoDetails",value:function(t){var e=this;this.appApiService.fetchCardCustomersByCardId(t,"cardOrigin").subscribe(function(t){t.data&&(e.customerInfoDetails=t.data,e.ownership=e.customerInfoDetails[0].ownership,e.noOfApplicants=e.customerInfoDetails[0].numOfApplicants)},function(t){})}}]),t}()).\u0275fac=function(t){return new(t||wu)(s.Rb(He.h),s.Rb(h.a),s.Rb(d.a),s.Rb(m.g),s.Rb(f.a),s.Rb(l.b),s.Rb(io.b),s.Rb(m.a),s.Rb(s.h),s.Rb(y.a),s.Rb(m.b))},wu.\u0275cmp=s.Lb({type:wu,selectors:[["app-card-account-approver"]],viewQuery:function(t,e){var a;1&t&&s.ad(vu,!0),2&t&&s.Cc(a=s.gc())&&(e.chart=a.first)},decls:277,vars:53,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon"],[2,"color","darkgray","cursor","pointer","margin-right","30px",3,"click"],["fxLayoutAlign","center"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["fxFlex","85"],["fxLayout","row","fxLayoutAlign","space-between end"],[1,"editbtn",3,"hidden","click"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[1,"pt-16"],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],[4,"ngIf"],["fxLayout","row","class","flex-container",4,"ngIf"],[1,"appersoninfocard",2,"width","250px"],["fxLayout","row",1,"rowbord","nobord"],["fxLayout","row","fxLayoutAlign"," start"],[1,"circle1"],[1,"content2"],[2,"padding-bottom","20px"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"rejectbtn",3,"hidden","ngClass","click"],["type","button",1,"approvebtn",3,"hidden","ngClass","click"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row wrap",1,"full-width"],["fxFlex","7%","fxFlex.xs","50%","fxFlex.md","10%","fxFlex.sm","15%",1,"pb-16"],["height","50px","width","50px","src","assets/images/backgrounds/defaultProfileBackground.png",1,"rounded-circle"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-16"],[1,"valueTextName"],[1,"pl-16","text-secondary"],["class","pl-16 pr-16",4,"ngIf"],["class","pl-16 pr-16",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[1,"pl-16","pr-16"],[1,"headingText1"],[1,"pl-16","pr-16",3,"click"],[3,"series","chart","plotOptions","labels",4,"ngIf"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip",4,"ngIf"],["fxLayout","row","fxLayoutGap","70px"],["fxLayout","row","FxLayoutAlign","start"],[1,"circle"],[1,"content1"],[1,"matCardTitle"],[2,"color","grey","font-size","10px"],["fxLayout","row","fxLayoutGap","80px",1,"matCardTitle","col"],[3,"series","chart","plotOptions","labels"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip"],["fxLayout","row","class","rowbord",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"appersoninfocard",2,"width","100px"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],["fxFlex","5%","fxFlex.xs","100%","fxLayoutAlign","end start",1,"inputCardclass"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","column","fxLayoutGap","10%","fxLayoutAlign","space-between none"],["fxFlex","20%","fxFlex.xs","50%"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"div",0),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"div",3),s.Xb(5,"mat-icon",4),s.fc("click",function(){return e.close(e.data)}),s.Tc(6," close "),s.Wb(),s.Wb(),s.Wb(),s.Sb(7,"div",5),s.Xb(8,"div",6),s.Xb(9,"div",7),s.Xb(10,"div",8),s.Xb(11,"div",9),s.Rc(12,yu,2,1,"span",10),s.Wb(),s.Xb(13,"div",11),s.Xb(14,"div",12),s.Sb(15,"img",13),s.Tc(16,"\xa0 "),s.Xb(17,"div"),s.Xb(18,"span",14),s.Tc(19),s.Wb(),s.Sb(20,"br"),s.Xb(21,"span",15),s.Tc(22),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div",16),s.Xb(24,"mat-icon",17),s.Tc(25,"phone "),s.Wb(),s.Tc(26,"\xa0\xa0\xa0 "),s.Xb(27,"span",18),s.Tc(28),s.Wb(),s.Wb(),s.Xb(29,"div",16),s.Xb(30,"mat-icon",17),s.Tc(31," mail_outline"),s.Wb(),s.Tc(32,"\xa0\xa0 \xa0 "),s.Xb(33,"span",19),s.Tc(34),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div",20),s.Xb(36,"div",21),s.Rc(37,Wu,7,16,"div",22),s.Rc(38,Tu,2,1,"div",23),s.Wb(),s.Wb(),s.Sb(39,"br"),s.Sb(40,"br"),s.Sb(41,"br"),s.Sb(42,"br"),s.Xb(43,"div",24),s.Xb(44,"h2"),s.Tc(45),s.Wb(),s.Wb(),s.Xb(46,"div",25),s.Xb(47,"div",26),s.Xb(48,"div",27),s.Tc(49,"1"),s.Wb(),s.Xb(50,"div",28),s.Tc(51,"\xa0"),s.Wb(),s.Wb(),s.Xb(52,"div",29),s.Xb(53,"h2"),s.Tc(54,"Application Entry Stage"),s.Wb(),s.Sb(55,"hr"),s.Xb(56,"div",30),s.Xb(57,"h3"),s.Tc(58,"Card Initiation Details"),s.Wb(),s.Xb(59,"span"),s.Xb(60,"mat-icon",31),s.fc("click",function(){return e.editInitiationDetails()}),s.Tc(61,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(62,"mat-card",32),s.Xb(63,"mat-card-content"),s.Xb(64,"div",33),s.Sb(65,"div",34),s.Xb(66,"div",35),s.Xb(67,"div",36),s.Tc(68,"Existing Customer"),s.Wb(),s.Xb(69,"div",37),s.Tc(70),s.Wb(),s.Wb(),s.Xb(71,"div",35),s.Xb(72,"div",36),s.Tc(73,"Card Type"),s.Wb(),s.Xb(74,"div",37),s.Tc(75),s.Wb(),s.Wb(),s.Xb(76,"div",35),s.Xb(77,"div",36),s.Tc(78,"Customer Account"),s.Wb(),s.Xb(79,"div",37),s.Tc(80),s.Wb(),s.Wb(),s.Wb(),s.Xb(81,"div",33),s.Sb(82,"div",34),s.Xb(83,"div",35),s.Xb(84,"div",36),s.Tc(85,"Applicant Name"),s.Wb(),s.Xb(86,"div",37),s.Tc(87),s.Wb(),s.Wb(),s.Xb(88,"div",35),s.Xb(89,"div",36),s.Tc(90,"Currency"),s.Wb(),s.Xb(91,"div",37),s.Tc(92),s.Wb(),s.Wb(),s.Xb(93,"div",35),s.Xb(94,"div",36),s.Tc(95,"Employment Type"),s.Wb(),s.Xb(96,"div",37),s.Tc(97),s.Wb(),s.Wb(),s.Wb(),s.Xb(98,"div",33),s.Sb(99,"div",34),s.Xb(100,"div",35),s.Xb(101,"div",36),s.Tc(102,"Affinity Program"),s.Wb(),s.Xb(103,"div",37),s.Tc(104),s.Wb(),s.Wb(),s.Xb(105,"div",35),s.Xb(106,"div",36),s.Tc(107,"Status"),s.Wb(),s.Xb(108,"div",37),s.Tc(109),s.Wb(),s.Wb(),s.Xb(110,"div",35),s.Xb(111,"div",36),s.Tc(112,"Modification No"),s.Wb(),s.Xb(113,"div",37),s.Tc(114),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(115,"mat-card",32),s.Xb(116,"div",38),s.Xb(117,"div",39),s.Xb(118,"div",40),s.Xb(119,"h4",41),s.Tc(120,"Customer Information"),s.Wb(),s.Wb(),s.Xb(121,"div",42),s.Xb(122,"div",43),s.Xb(123,"div",38),s.Xb(124,"div",44),s.Xb(125,"div",45),s.Xb(126,"div"),s.Xb(127,"mat-card"),s.Xb(128,"div",46),s.Xb(129,"div",47),s.Xb(130,"small",48),s.Tc(131,"Holding Pattern"),s.Wb(),s.Xb(132,"h3",49),s.Tc(133),s.Wb(),s.Wb(),s.Xb(134,"div",47),s.Xb(135,"small",48),s.Tc(136,"Ownership"),s.Wb(),s.Xb(137,"h3",49),s.Tc(138),s.Wb(),s.Wb(),s.Xb(139,"div",47),s.Xb(140,"small",48),s.Tc(141,"Number of Applicant"),s.Wb(),s.Xb(142,"h3",49),s.Tc(143),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(144,Cu,54,10,"div",50),s.Wb(),s.Wb(),s.Sb(145,"br"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(146,Ru,42,8,"div",51),s.Rc(147,Du,11,2,"div",51),s.Wb(),s.Wb(),s.Rc(148,Fu,14,2,"div",52),s.Rc(149,Lu,74,5,"div",52),s.Xb(150,"div",25),s.Xb(151,"div",26),s.Xb(152,"div",27),s.Tc(153,"4"),s.Wb(),s.Xb(154,"div",28),s.Tc(155,"\xa0"),s.Wb(),s.Wb(),s.Xb(156,"div",29),s.Xb(157,"h2"),s.Tc(158,"Assessment Stage"),s.Wb(),s.Sb(159,"hr"),s.Xb(160,"div",30),s.Xb(161,"h3"),s.Tc(162,"Assessment Report"),s.Wb(),s.Xb(163,"span"),s.Xb(164,"mat-icon",31),s.fc("click",function(){return e.editAssessmentReport()}),s.Tc(165,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(166,"mat-card",32),s.Xb(167,"mat-card-content"),s.Xb(168,"div",33),s.Sb(169,"div",34),s.Xb(170,"div",35),s.Xb(171,"div",36),s.Tc(172,"Requested Card Limit"),s.Wb(),s.Xb(173,"div",37),s.Tc(174),s.Wb(),s.Wb(),s.Xb(175,"div",35),s.Xb(176,"div",36),s.Tc(177,"System Recommendation"),s.Wb(),s.Xb(178,"div",37),s.Tc(179),s.Wb(),s.Wb(),s.Xb(180,"div",35),s.Xb(181,"div",36),s.Tc(182,"User Recommendation"),s.Wb(),s.Xb(183,"div",37),s.Tc(184),s.Wb(),s.Wb(),s.Wb(),s.Xb(185,"div",33),s.Sb(186,"div",34),s.Xb(187,"div",35),s.Xb(188,"div",36),s.Tc(189,"Recommended Card Limit"),s.Wb(),s.Xb(190,"div",37),s.Tc(191),s.Wb(),s.Wb(),s.Xb(192,"div",35),s.Xb(193,"div",36),s.Tc(194,"Approved Card Limit"),s.Wb(),s.Xb(195,"div",37),s.Tc(196),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(197,"div",25),s.Xb(198,"div",26),s.Xb(199,"div",27),s.Tc(200,"5"),s.Wb(),s.Xb(201,"div",28),s.Tc(202,"\xa0"),s.Wb(),s.Wb(),s.Xb(203,"div",29),s.Xb(204,"h2"),s.Tc(205,"Approval Stage"),s.Wb(),s.Sb(206,"hr"),s.Xb(207,"div",30),s.Xb(208,"h3"),s.Tc(209,"Approval Details"),s.Wb(),s.Xb(210,"span"),s.Xb(211,"mat-icon",31),s.fc("click",function(){return e.editApprovalDetails()}),s.Tc(212,"edit"),s.Wb(),s.Wb(),s.Wb(),s.Xb(213,"mat-card",32),s.Xb(214,"mat-card-content"),s.Xb(215,"div",33),s.Sb(216,"div",34),s.Xb(217,"div",35),s.Xb(218,"div",36),s.Tc(219,"Account Type"),s.Wb(),s.Xb(220,"div",37),s.Tc(221),s.Wb(),s.Wb(),s.Xb(222,"div",35),s.Xb(223,"div",36),s.Tc(224,"Account Branch"),s.Wb(),s.Xb(225,"div",37),s.Tc(226),s.Wb(),s.Wb(),s.Xb(227,"div",35),s.Xb(228,"div",36),s.Tc(229,"Product Code"),s.Wb(),s.Xb(230,"div",37),s.Tc(231),s.Wb(),s.Wb(),s.Wb(),s.Xb(232,"div",33),s.Sb(233,"div",34),s.Xb(234,"div",35),s.Xb(235,"div",36),s.Tc(236,"Product Name"),s.Wb(),s.Xb(237,"div",37),s.Tc(238),s.Wb(),s.Wb(),s.Xb(239,"div",35),s.Xb(240,"div",36),s.Tc(241,"Account Currency"),s.Wb(),s.Xb(242,"div",37),s.Tc(243),s.Wb(),s.Wb(),s.Xb(244,"div",35),s.Xb(245,"div",36),s.Tc(246,"Existing Value"),s.Wb(),s.Xb(247,"div",37),s.Tc(248),s.Wb(),s.Wb(),s.Wb(),s.Xb(249,"div",33),s.Xb(250,"div",35),s.Xb(251,"mat-card",53),s.Xb(252,"div",54),s.Xb(253,"div",55),s.Xb(254,"div",56),s.Xb(255,"div",57),s.Xb(256,"mat-icon"),s.Tc(257,"done"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(258,"div",58),s.Xb(259,"div",36),s.Tc(260,"User Recommendation"),s.Wb(),s.Xb(261,"div",37),s.Tc(262),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(263,"div",34),s.Xb(264,"div",35),s.Xb(265,"div",36),s.Tc(266,"Remarks"),s.Wb(),s.Xb(267,"div",37),s.Tc(268),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(269,"div",59),s.Xb(270,"div"),s.Xb(271,"button",60),s.fc("click",function(){return e.updateApplicationStatus(e.initiationDetails,"REJECTED")}),s.Tc(272," Reject "),s.Wb(),s.Tc(273," \xa0\xa0 "),s.Xb(274,"button",61),s.fc("click",function(){return e.updateApplicationStatus(e.initiationDetails,"APPROVED")}),s.Tc(275,"Approve"),s.Wb(),s.Tc(276," \xa0\xa0 "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(12),s.rc("ngForOf",e.nameCreater),s.Eb(7),s.Vc("",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.createdBy," "),s.Eb(3),s.Vc("EID #",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.creatorId,""),s.Eb(6),s.Vc(" ",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.mobile," "),s.Eb(6),s.Vc(" ",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.email," "),s.Eb(3),s.rc("ngIf","not_available"==e.imageUrl),s.Eb(1),s.rc("ngIf","not_available"!=e.imageUrl),s.Eb(7),s.Xc("",e.cardInfo.prefix,"\xa0",e.cardInfo.firstName,"\xa0",e.cardInfo.lastName,""),s.Eb(15),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.initiationDetails?null:e.initiationDetails.existingCustomer),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.cardType),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.customerAccount),s.Eb(7),s.Uc(null==e.initiationDetails?null:e.initiationDetails.applicantName),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.currency),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.employmentType),s.Eb(7),s.Uc(null==e.initiationDetails?null:e.initiationDetails.affinityProgram),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.status),s.Eb(5),s.Uc(null==e.initiationDetails?null:e.initiationDetails.modificationNo),s.Eb(19),s.Uc(e.ownership),s.Eb(5),s.Uc(e.ownership),s.Eb(5),s.Uc(e.noOfApplicants),s.Eb(1),s.rc("ngForOf",e.customerInfoDetails),s.Eb(2),s.rc("ngIf",null!=e.financialDetails),s.Eb(1),s.rc("ngIf",null!=e.preferenceDetails),s.Eb(1),s.rc("ngIf",(null==e.intrestDetails?null:e.intrestDetails.length)>0||(null==e.chargeDetails?null:e.chargeDetails.length)>0),s.Eb(1),s.rc("ngIf",(null==e.creditRatingDetails||null==e.creditRatingDetails.agencyRating?null:e.creditRatingDetails.agencyRating.length)>0),s.Eb(15),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.assessmentDetails?null:e.assessmentDetails.requestedCardLimit),s.Eb(5),s.Uc(null==e.assessmentDetails?null:e.assessmentDetails.systemRecommendation),s.Eb(5),s.Uc(null==e.assessmentDetails?null:e.assessmentDetails.userRecommendation),s.Eb(7),s.Uc(null==e.assessmentDetails?null:e.assessmentDetails.recommendedCardLimit),s.Eb(5),s.Uc(null==e.assessmentDetails?null:e.assessmentDetails.approvedCardLimit),s.Eb(15),s.rc("hidden",e.editScreen),s.Eb(10),s.Uc(null==e.approvalDetails?null:e.approvalDetails.accountType),s.Eb(5),s.Uc(null==e.approvalDetails?null:e.approvalDetails.accountBranch),s.Eb(5),s.Uc(null==e.approvalDetails?null:e.approvalDetails.productCode),s.Eb(7),s.Uc(null==e.approvalDetails?null:e.approvalDetails.productName),s.Eb(5),s.Uc(null==e.approvalDetails?null:e.approvalDetails.accountCurrency),s.Eb(5),s.Uc(null==e.approvalDetails?null:e.approvalDetails.existingValues),s.Eb(14),s.Uc(null==e.approvalDetails?null:e.approvalDetails.userRecommendation),s.Eb(6),s.Uc(null==e.approvalDetails?null:e.approvalDetails.remarks),s.Eb(3),s.rc("hidden",e.rejectedStatus)("ngClass",s.yc(47,Uu,e.rejectedStatus,!e.rejectedStatus)),s.Eb(3),s.rc("hidden",e.approvedStatus)("ngClass",s.yc(50,_u,e.approvedStatus,!e.approvedStatus)))},directives:[W.e,W.d,X.a,i.m,I.c,i.n,W.b,I.a,I.d,W.f,i.l,co.a,I.e,I.h,I.g,p.a,T.f],pipes:[i.v,i.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%;margin-left:22%}.closeIcon[_ngcontent-%COMP%]{color:#a9a9a9;cursor:pointer;margin-right:30px}.editbtn[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-right:20px}.num[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;background-color:#fff}.qtncrd[_ngcontent-%COMP%]{margin-right:2%;margin-bottom:40px;padding:10px}.qtnval[_ngcontent-%COMP%]{padding-top:8px}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:5%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%}.appersoninfocard1[_ngcontent-%COMP%]{width:90%}.interstcard[_ngcontent-%COMP%]{width:100px;height:80px;border:1px solid}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;padding:3rem 3.3rem;color:#fff}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.matCardTitle[_ngcontent-%COMP%]{font-size:16px;padding-top:1%}"]}),wu);function Gu(t,e){1&t&&s.Sb(0,"mat-spinner",20),2&t&&s.rc("diameter",15)}function Vu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",21),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"mat-icon"),s.Tc(2,"close"),s.Wb(),s.Wb()}}function Bu(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function ju(t,e){if(1&t&&s.Sb(0,"img",35),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function zu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"BACKLOG",o.getRandomColor(n+3))}),s.Xb(1,"mat-icon",23),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,Bu,2,1,"div",26),s.Rc(6,ju,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"table"),s.Xb(14,"thead",31),s.Xb(15,"th",32),s.Tc(16,"Card Type"),s.Wb(),s.Xb(17,"th",32),s.Tc(18,"Applicant name"),s.Wb(),s.Wb(),s.Xb(19,"tbody",33),s.Xb(20,"tr"),s.Xb(21,"td",32),s.Tc(22),s.Wb(),s.Xb(23,"td",32),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf",null==n.profileImage)("ngIfElse",o),s.Eb(4),s.Xc("",null==n?null:n.firstName," ",null==n?null:n.middleName," ",null==n?null:n.lastName,""),s.Eb(2),s.Uc(null==n?null:n.cardId),s.Eb(11),s.Uc(null==n?null:n.cardType),s.Eb(2),s.Uc(null==n?null:n.applicantName)}}function qu(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Ju(t,e){if(1&t&&s.Sb(0,"img",35),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Ku(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"ONGOING",o.getRandomColor(n+6))}),s.Xb(1,"mat-icon",36),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,qu,2,1,"div",26),s.Rc(6,Ju,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"table"),s.Xb(14,"thead",31),s.Xb(15,"th",37),s.Tc(16,"Card Type"),s.Wb(),s.Xb(17,"th",37),s.Tc(18,"Applicant name"),s.Wb(),s.Wb(),s.Xb(19,"tbody",33),s.Xb(20,"tr"),s.Xb(21,"td",32),s.Tc(22),s.Wb(),s.Xb(23,"td",32),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf",null==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc("",null==n?null:n.prefix," ",n.firstName," ",n.middleName," ",n.lastName,""),s.Eb(2),s.Uc(null==n?null:n.cardId),s.Eb(11),s.Uc(null==n?null:n.cardType),s.Eb(2),s.Uc(null==n?null:n.applicantName)}}function $u(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Hu(t,e){if(1&t&&s.Sb(0,"img",35),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Yu(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"APPROVED",o.getRandomColor(n+9))}),s.Xb(1,"mat-icon",38),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,$u,2,1,"div",26),s.Rc(6,Hu,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",28),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"table"),s.Xb(14,"thead",31),s.Xb(15,"th",37),s.Tc(16,"Card Type"),s.Wb(),s.Xb(17,"th",37),s.Tc(18,"Applicant name"),s.Wb(),s.Wb(),s.Xb(19,"tbody",33),s.Xb(20,"tr"),s.Xb(21,"td",32),s.Tc(22),s.Wb(),s.Xb(23,"td",32),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf",null==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc("",null==n?null:n.prefix," ",n.firstName," ",n.middleName," ",n.lastName,""),s.Eb(2),s.Vc(" ",null==n?null:n.cardId,""),s.Eb(11),s.Uc(null==n?null:n.cardType),s.Eb(2),s.Uc(null==n?null:n.applicantName)}}function Zu(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",34),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Qu(t,e){if(1&t&&s.Sb(0,"img",35),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function td(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.gotoapproverpage(t,"REJECTED",o.getRandomColor(n+12))}),s.Xb(1,"mat-icon",39),s.Tc(2,"bookmark"),s.Wb(),s.Xb(3,"mat-card-header",24),s.Xb(4,"div",25),s.Rc(5,Zu,2,1,"div",26),s.Rc(6,Qu,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(8,"mat-card-title",40),s.Tc(9),s.Wb(),s.Xb(10,"mat-card-subtitle",29),s.Tc(11),s.Wb(),s.Wb(),s.Xb(12,"form",30),s.Xb(13,"table"),s.Xb(14,"thead",31),s.Xb(15,"th",37),s.Tc(16,"Card Type"),s.Wb(),s.Xb(17,"th",37),s.Tc(18,"Applicant name"),s.Wb(),s.Wb(),s.Xb(19,"tbody",33),s.Xb(20,"tr"),s.Xb(21,"td",32),s.Tc(22),s.Wb(),s.Xb(23,"td",32),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(7);s.Eb(5),s.rc("ngIf",null==n.profileImage)("ngIfElse",o),s.Eb(4),s.Xc("",null==n?null:n.firstName," ",n.middleName," ",n.lastName," "),s.Eb(2),s.Uc(null==n?null:n.cardId),s.Eb(11),s.Uc(null==n?null:n.cardType),s.Eb(2),s.Uc(null==n?null:n.applicantName)}}var ed,ad=((ed=function(){function t(e,n,o,r,i){a(this,t),this.dialog=e,this.sanitizer=n,this.tasksummaryService=o,this.apiService=r,this.cdr=i,this.statusArr=["ONGOING","BACKLOG","APPROVED","REJECTED"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new s.o,this._searchSubject=new b.a,this.noDataFound=!1,this._setSearchSubscription()}return o(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){this.apiService.setTask(!0),this.getDataOnLoad()}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(u.a)(1e3)).subscribe(function(e){t.searchKycid(e)})}},{key:"getDataOnLoad",value:function(){for(var t=0;t<this.statusArr.length;t++)this.getAllAccDetails(this.statusArr[t],0,0)}},{key:"getAllAccDetails",value:function(t,e,a){var n=this;this.tasksummaryService.getCardAccDetails(t).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"ONGOING"==t?(this.ONGOINGArr=e.cardList,this.ONGOINGTotalPages=e.totalPages,this.ONGOINGTotalRecords=e.totalNoOfElements):"BACKLOG"==t?(this.BACKLOGArr=e.cardList,this.BACKLOGTotalPages=e.totalPages,this.BACKLOGTotalRecords=e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=e.cardList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=e.cardList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasksummaryService.getAllCardAccDetailOnScroll(t,e).subscribe(function(e){n.updateDataOnScroll(t,e.cardList),n.cdr.markForCheck()}):console.log("No scroll requied")}},{key:"gotoapproverpage",value:function(t,e,a){var n=this;this.tasksummaryService.cardStatusData(e),localStorage.setItem("CustomerColorCode",a),this.dialog.open(Mu,{panelClass:"full-width-dialog",data:t,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){"REJECTED"!==t.data&&"APPROVED"!==t.data&&"BACKLOG"!==t.data&&"ONGOING"!==t.data||n.getDataOnLoad()})}},{key:"searchKycid",value:function(t){var e,a,n=this;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("cardId"),e=this.searchText.trim(),this.tasksummaryService.getCardAccSearchData1(e).subscribe(function(t){console.log(t),null!=t?(a="cardId="+e,console.log("loan",a)):(console.log("not a loan"),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(function(){n.getAccountData(a)},100),this.isScroll=!1}},{key:"getAccountData",value:function(t){var e=this;this.loading=!0;for(var a=0;a<this.statusArr.length;a++){var n=this.statusArr[a];"BACKLOG"==n?this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.BACKLOGTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.BACKLOGArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.BACKLOGArr.push(null==t?void 0:t.cardList[a])}):"ONGOING"==n?this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.ONGOINGTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.ONGOINGArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.ONGOINGArr.push(t.cardList[a])}):"APPROVED"==n?this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.APPROVEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.APPROVEDArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.APPROVEDArr.push(t.cardList[a])}):"REJECTED"==n&&this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.REJECTEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.REJECTEDArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.REJECTEDArr.push(t.cardList[a])})}}},{key:"resetSearchData",value:function(){this.ONGOINGArr=[],this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"searchResponseUpdate",value:function(t,e){console.log("status::",t),"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}},{key:"updateDataOnScroll",value:function(t,e){if("ONGOING"==t){var a=Yt.unionBy(this.ONGOINGArr,e,"cardId");this.ONGOINGArr=a}else if("BACKLOG"==t){var n=Yt.unionBy(this.BACKLOGArr,e,"cardId");this.BACKLOGArr=n}else if("APPROVED"==t){var o=Yt.unionBy(this.APPROVEDArr,e,"cardId");this.APPROVEDArr=o}else if("REJECTED"==t){var r=Yt.unionBy(this.REJECTEDArr,e,"cardId");this.REJECTEDArr=r}this.cdr.markForCheck()}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.ONGOINGArr=[],this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.BACKLOGPage=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalPages=0}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||ed)(s.Rb(m.b),s.Rb(io.b),s.Rb(h.a),s.Rb(l.b),s.Rb(s.h))},ed.\u0275cmp=s.Lb({type:ed,selectors:[["app-card-origination-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:66,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryDetails"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchTopDetails"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search Card ID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],[1,"more_vert_icon"],["class","detailedView",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"detailedView",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[2,"font-size","14px"],[2,"color","green"],[1,"head1"],[1,"col1"],[1,"fs-11"],[1,"col2"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMarkOngoing"],[1,"fs-10"],[1,"fill-color-blue","bookMark","bookMarkApproved"],[1,"fill-color-blue","bookMark","bookMarkRejected"],[2,"font-size","16px"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"div",2),s.Xb(5,"div",3),s.Xb(6,"h2",4),s.Tc(7," Card Origination Task Summary "),s.Wb(),s.Wb(),s.Xb(8,"div",5),s.Xb(9,"mat-form-field",6),s.Xb(10,"mat-label"),s.Tc(11,"Search"),s.Wb(),s.Xb(12,"div",7),s.Xb(13,"input",8),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Rc(14,Gu,1,1,"mat-spinner",9),s.Wb(),s.Xb(15,"mat-icon",10),s.Tc(16,"search"),s.Wb(),s.Rc(17,Vu,3,0,"button",11),s.Xb(18,"mat-hint"),s.Tc(19,"Search Card ID or Name"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",12),s.Xb(21,"div",13),s.Xb(22,"mat-card",14),s.Xb(23,"div",15),s.Xb(24,"span",16),s.Xb(25,"h2",17),s.Tc(26),s.Wb(),s.Wb(),s.Xb(27,"span",18),s.Xb(28,"mat-icon"),s.Tc(29,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"div"),s.Rc(31,zu,25,8,"div",19),s.Wb(),s.Sb(32,"br"),s.Wb(),s.Xb(33,"mat-card",14),s.Xb(34,"div",15),s.Xb(35,"span",16),s.Xb(36,"h2",17),s.Tc(37),s.Wb(),s.Wb(),s.Xb(38,"span",18),s.Xb(39,"mat-icon"),s.Tc(40,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div"),s.Rc(42,Ku,25,9,"div",19),s.Wb(),s.Sb(43,"br"),s.Wb(),s.Xb(44,"mat-card",14),s.Xb(45,"div",15),s.Xb(46,"span",16),s.Xb(47,"h2",17),s.Tc(48),s.Wb(),s.Wb(),s.Xb(49,"span",18),s.Xb(50,"mat-icon"),s.Tc(51,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(52,"div"),s.Rc(53,Yu,25,9,"div",19),s.Wb(),s.Sb(54,"br"),s.Wb(),s.Xb(55,"mat-card",14),s.Xb(56,"div",15),s.Xb(57,"span",16),s.Xb(58,"h2",17),s.Tc(59),s.Wb(),s.Wb(),s.Xb(60,"span",18),s.Xb(61,"mat-icon"),s.Tc(62,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(63,"div"),s.Rc(64,td,25,8,"div",19),s.Wb(),s.Sb(65,"br"),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(12),s.rc("ngModel",e.searchText),s.Eb(1),s.rc("ngIf",e.loading),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(9),s.Wc("Pending for approval (",e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.BACKLOGArr),s.Eb(6),s.Wc("Ongoing (",e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.ONGOINGArr),s.Eb(6),s.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.APPROVEDArr),s.Eb(6),s.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.REJECTEDArr))},directives:[tr.a,W.e,W.d,W.f,W.b,T.c,T.g,E.b,g.c,g.r,g.u,i.n,X.a,T.i,T.f,I.a,i.m,O.b,R.b,T.j,I.e,I.c,I.h,I.g,g.C,g.s,g.t,rr],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-right:30px;margin-right:30px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{font-size:9px;color:grey}.coldata[_ngcontent-%COMP%]{font-size:9px;color:#000}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:180px;box-sizing:border-box;margin:0 0 10px;padding:0}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.bookMarkOngoing[_ngcontent-%COMP%]{color:orange}.bookMarkApproved[_ngcontent-%COMP%]{color:#1fbfa9}.bookMarkRejected[_ngcontent-%COMP%]{color:red}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.summaryDetails[_ngcontent-%COMP%]{padding-left:29px}.searchTopDetails[_ngcontent-%COMP%]{padding-right:5%}.detailedView[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:30vh}.fs-10[_ngcontent-%COMP%]{font-size:10px;color:grey}.fs-11[_ngcontent-%COMP%]{font-size:11px}"]}),ed);function nd(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function od(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.branchName),s.Eb(1),s.Uc(a.branchName)}}function rd(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.Xb(1,"div",5),s.Xb(2,"mat-label"),s.Tc(3,"loan Amount "),s.Wb(),s.Xb(4,"mat-form-field",6),s.Xb(5,"input",23),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",5),s.Xb(7,"mat-label"),s.Tc(8,"Business Product Name "),s.Wb(),s.Xb(9,"mat-form-field",6),s.Xb(10,"mat-select",24),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().getAccountType(t.value)}),s.Rc(11,nd,2,2,"mat-option",13),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",5),s.Xb(13,"mat-label"),s.Tc(14,"Account Branch"),s.Wb(),s.Xb(15,"mat-form-field",6),s.Xb(16,"mat-select",25),s.fc("selectionChange",function(t){return s.Hc(a),s.jc().onChangeBranch(t)}),s.Rc(17,od,2,2,"mat-option",13),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(11),s.rc("ngForOf",n.arrayAccountBranch),s.Eb(6),s.rc("ngForOf",n.screenArray)}}function id(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function cd(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function sd(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}var ld,bd=((ld=function(){function t(e,n,o,r,i,c,s,l,b,u,d){a(this,t),this.data=e,this.dialogue=n,this.taskSumService=o,this.dialogRef=r,this.fb=i,this.cdr=c,this.apiService=s,this.ls=l,this.snack=b,this.router=u,this.loader=d,this.updateLoanDetails=!1,this.updateAsset=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.minDate=new Date,this.maxDate=new Date,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.ifEdit=!1,this.showEditOption=!1,this.flag=!1,this.flag1=!1,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){console.log("mat dialog data -- ",this.data),this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),console.log("component call check"),this.getLoanDetails(),this.buildMenuForm(this.data),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.getCountryName("country"),this.getStateName("state")}},{key:"getAssetDetails",value:function(){var t=this;this.loader.open(),this.apiService.getAssetails(this.loanaccountID).subscribe(function(e){t.loader.close(),t.assetDetails=e,t.getStateName(t.assetDetails.country),t.getCityName(t.assetDetails.state),console.log(t.assetDetails),t.buildAssetForm(t.assetDetails)},function(e){t.loader.close()})}},{key:"buildMenuForm",value:function(t){var e,a,n,o,r,i,c,s,l,b,u,d,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanUpdateForm=this.fb.group({loanAccountId:[this.loanaccountID],businessProductName:[t?null===(e=null==t?void 0:t.info)||void 0===e?void 0:e.businessProductName:""],accountBranch:[t?null===(a=null==t?void 0:t.info)||void 0===a?void 0:a.accountBranch:""],applicationDate:[t?null===(n=null==t?void 0:t.info)||void 0===n?void 0:n.applicationDate:""],accountType:[t?null===(o=null==t?void 0:t.info)||void 0===o?void 0:o.accountType:""],estimatedCost:[t?null===(r=null==t?void 0:t.info)||void 0===r?void 0:r.estimatedCost:""],customerContribution:[t?null===(i=null==t?void 0:t.info)||void 0===i?void 0:i.customerContribution:""],loanAmount:[t?null===(c=null==t?void 0:t.info)||void 0===c?void 0:c.loanAmount:""],purposeOfLoan:[t?null===(s=null==t?void 0:t.info)||void 0===s?void 0:s.purposeOfLoan:""],accountCurrency:[t?null===(l=null==t?void 0:t.info)||void 0===l?void 0:l.accountCurrency:""],loanTenure:[t?null===(b=null==t?void 0:t.info)||void 0===b?void 0:b.loanTenure:""],day:[t?Number(null===(u=null==t?void 0:t.info)||void 0===u?void 0:u.loanTenure.split("-")[2]):""],month:[t?null===(d=null==t?void 0:t.info)||void 0===d?void 0:d.loanTenure.split("-")[1]:""],year:[t?Number(null===(m=null==t?void 0:t.info)||void 0===m?void 0:m.loanTenure.split("-")[0]):""]}),console.log("form before",this.loanUpdateForm),console.log("form aftr",this.loanUpdateForm.value)}},{key:"save",value:function(){var t=this;console.log("save check"),this.loanUpdateForm.value,this.apiService.saveLoanDetails(this.loanUpdateForm.value).subscribe(function(e){t.snack.open("Data Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close(!0)},function(e){t.snack.open("Unable to Save!","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close(!1)})}},{key:"close",value:function(){this.dialogRef.close(!1)}},{key:"getAccountType",value:function(t){var e=this;console.log("State -- ",t),this.apiService.getAccount(t).subscribe(function(t){console.log("data.accountType",t),e.accountType=t.accountTypeName,console.log("this.accountType",e.accountType),e.loanUpdateForm.get("accountType").setValue(t.accountTypeName)})}},{key:"getBusinessProductDetails",value:function(t){var e=this;this.apiService.getBusinessProductName(t).subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.screenArray=e,t.screenArrayData=e,0==t.screenArray.length&&t.screenArray.push(t.branchName),console.log("this.branchName::",t.branchName,t.screenArray),t.currencyData=t.screenArray.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData)})}},{key:"onChangeBranch",value:function(t){this.currencyData=this.screenArray.find(function(e){return e.branchName==t.value}),null==this.currencyData&&null==this.currencyData||this.itemForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}},{key:"getLoanDetails",value:function(){var t=this;console.log("get loan details"),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanUpdateForm.value),t.loanUpdateForm.controls.businessProductName.setValue(t.loanAccountDetails.businessProductName),t.loanUpdateForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanUpdateForm.value.accountType)),t.ls.setItem("accountType",t.loanUpdateForm.value.accountType),t.loanUpdateForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanUpdateForm.value.loanAmount=t.loanAccountDetails.loanAmount})}},{key:"buildAssetForm",value:function(t){var e,a,n,o,r,i,c,s,l,b,u,d;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanAssetForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.assetInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.assetInfo)||void 0===a?void 0:a.state:""],city:[t?null===(n=null==t?void 0:t.assetInfo)||void 0===n?void 0:n.city:""],assetStatus:[t?null===(o=null==t?void 0:t.assetInfo)||void 0===o?void 0:o.assetStatus:""],estimatedCost:[t?null===(r=null==t?void 0:t.assetInfo)||void 0===r?void 0:r.estimatedCost:""],dimensions:[t?null===(i=null==t?void 0:t.assetInfo)||void 0===i?void 0:i.dimensions:""],locality:[t?null===(c=null==t?void 0:t.assetInfo)||void 0===c?void 0:c.locality:""],marketValue:[t?null===(s=null==t?void 0:t.assetInfo)||void 0===s?void 0:s.marketValue:""],building:[t?null===(l=null==t?void 0:t.assetInfo)||void 0===l?void 0:l.building:""],zipCode:[t?null===(b=null==t?void 0:t.assetInfo)||void 0===b?void 0:b.zipCode:""],homeType:[t?null===(u=null==t?void 0:t.assetInfo)||void 0===u?void 0:u.homeType:""],mortgagedBranch:[t?null===(d=null==t?void 0:t.assetInfo)||void 0===d?void 0:d.mortgagedBranch:""]}),console.log("form before",this.loanUpdateForm),console.log("form aftr",this.loanUpdateForm.value)}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"next",value:function(){console.log("this.accountType",this.accountType),this.router.navigate(["/tasks/loan-account-task-summary"]),console.log("this.ls.accounttype",this.ls.getItem("accountType")),this.taskSumService.getLoanAccountDetails(this.loanaccountID).subscribe(function(t){console.log("data",t)})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"submitForm1",value:function(){var t=this,e=new Date;e=this.loanUpdateForm.value.applicationDate,console.log("applicationDate",this.loanUpdateForm.value.applicationDate);var a=v(e).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",a);var n=new Date(a);console.log("ck",n);var o=this.loanUpdateForm.value.loanAmount;o=parseInt(o);var r=this.loanUpdateForm.value.estimatedCost;r=parseInt(r);var i=this.loanUpdateForm.value.year+"-"+this.loanUpdateForm.value.month+"-"+this.loanUpdateForm.value.day;this.loanUpdateForm.get("loanTenure").setValue(i),delete this.loanUpdateForm.value.year,delete this.loanUpdateForm.value.month,delete this.loanUpdateForm.value.day;var c={loanAccountId:this.data.loanAccountId,businessProductName:this.loanUpdateForm.value.businessProductName,accountBranch:this.loanUpdateForm.value.accountBranch,applicationDate:a,accountType:this.loanUpdateForm.value.accountType,estimatedCost:r,customerContribution:this.loanUpdateForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanUpdateForm.value.purposeOfLoan,loanTenure:this.loanUpdateForm.value.loanTenure,accountCurrency:this.loanUpdateForm.value.accountCurrency};console.log("payload",c),this.apiService.saveLoanDetails(c).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.loader.open(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanUpdateForm.value),t.loanUpdateForm.controls.businessProductName.setValue(t.loanAccountDetails.businessProductName),t.loanUpdateForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanUpdateForm.value.accountType)),t.ls.setItem("accountType",t.loanUpdateForm.value.accountType),t.loanUpdateForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanUpdateForm.value.loanAmount=t.loanAccountDetails.loanAmount,t.loader.close()})}},{key:"submitForm",value:function(){var t=this,e=new Date;e=this.loanForm.value.applicationDate,console.log("applicationDate",this.loanForm.value.applicationDate);var a=v(e).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",a);var n=new Date(a);console.log("ck",n);var o=this.loanForm.value.loanAmount;o=parseInt(o);var r=this.loanForm.value.estimatedCost;r=parseInt(r);var i=this.loanForm.value.year+"-"+this.loanForm.value.month+"-"+this.loanForm.value.day;this.loanForm.get("loanTenure").setValue(i),delete this.loanForm.value.year,delete this.loanForm.value.month,delete this.loanForm.value.day;var c={loanAccountId:this.showEditOption?this.loanaccountID:null,businessProductName:this.loanForm.value.businessProductName,accountBranch:this.loanForm.value.accountBranch,applicationDate:a,accountType:this.loanForm.value.accountType,estimatedCost:r,customerContribution:this.loanForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanForm.value.purposeOfLoan,loanTenure:this.loanForm.value.loanTenure,accountCurrency:this.loanForm.value.accountCurrency};console.log("payload",c),this.apiService.saveLoanDetails(c).subscribe(function(e){console.log("data",e.loanAccountId),t.loanAccountId=e.loanAccountId,console.log("loanAccountid",t.loanAccountId),t.assign(e.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:e.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),sessionStorage.setItem("loanAccountId",e.loanAccountid),t.ls.setItem("fundByStatus",{loanAccountid:e.loanAccountid}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("loanAccountId",e.loanAccountId),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.ls.getItem("loanAccountid"),console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.next()})}}]),t}()).\u0275fac=function(t){return new(t||ld)(s.Rb(m.a),s.Rb(m.b),s.Rb(h.a),s.Rb(m.g),s.Rb(g.f),s.Rb(s.h),s.Rb(l.b),s.Rb(d.a),s.Rb(y.a),s.Rb(He.h),s.Rb(q.a))},ld.\u0275cmp=s.Lb({type:ld,selectors:[["app-loan-account-details-update"]],decls:63,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","estimatedCost","formControlName","estimatedCost",3,"keypress"],["matInput","","name","customerContribution","formControlName","customerContribution",3,"keypress"],["matInput","","name","accountType","formControlName","accountType",1,"alignment",3,"readonly"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["matInput","","name","date","formControlName","applicationDate","placeholder","DD/MM/YYYY",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","name","purposeOfLoan","formControlName","purposeOfLoan",1,"alignment"],["align","end"],["mat-button","",3,"click"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["matInput","","name","loanAmount","formControlName","loanAmount",3,"keypress"],["name","account_branch","formControlName","businessProductName",3,"selectionChange"],["name","mod","formControlName","accountBranch",3,"selectionChange"],[3,"value"]],template:function(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Account Details"),s.Wb(),s.Xb(7,"form",2),s.Rc(8,rd,18,2,"div",3),s.Xb(9,"div",4),s.Xb(10,"div",5),s.Xb(11,"mat-label"),s.Tc(12,"Estimated Cost"),s.Wb(),s.Xb(13,"mat-form-field",6),s.Xb(14,"input",7),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",5),s.Xb(16,"mat-label"),s.Tc(17,"Customer Contribution"),s.Wb(),s.Xb(18,"mat-form-field",6),s.Xb(19,"input",8),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",5),s.Xb(21,"mat-label"),s.Tc(22,"Account Type"),s.Wb(),s.Xb(23,"mat-form-field",6),s.Sb(24,"input",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",4),s.Xb(26,"div",5),s.Xb(27,"mat-label"),s.Tc(28,"Loan Tenure"),s.Wb(),s.Xb(29,"div",10),s.Xb(30,"div",11),s.Xb(31,"div"),s.Xb(32,"mat-form-field",6),s.Xb(33,"mat-select",12),s.Rc(34,id,2,2,"mat-option",13),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div"),s.Xb(36,"mat-form-field",6),s.Xb(37,"mat-select",14),s.Rc(38,cd,2,2,"mat-option",13),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div"),s.Xb(40,"mat-form-field",6),s.Xb(41,"mat-select",15),s.Rc(42,sd,2,2,"mat-option",13),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(43,"div",5),s.Xb(44,"div",5),s.Xb(45,"mat-label"),s.Tc(46,"Application Date"),s.Wb(),s.Xb(47,"mat-form-field",6),s.Sb(48,"input",16),s.Sb(49,"mat-datepicker-toggle",17),s.Sb(50,"mat-datepicker",null,18),s.Wb(),s.Wb(),s.Wb(),s.Xb(52,"div",4),s.Xb(53,"div",5),s.Xb(54,"mat-label"),s.Tc(55,"Purpose of Loan"),s.Wb(),s.Xb(56,"mat-form-field",6),s.Sb(57,"input",19),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(58,"mat-dialog-actions",20),s.Xb(59,"button",21),s.fc("click",function(){return e.submitForm1()}),s.Tc(60," Update "),s.Wb(),s.Xb(61,"button",21),s.fc("click",function(){return e.close()}),s.Tc(62,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.Dc(51);s.Eb(7),s.rc("formGroup",e.loanUpdateForm),s.Eb(1),s.rc("ngIf","loanAccount_array"===e.data.editType),s.Eb(16),s.rc("readonly",!0),s.Eb(10),s.rc("ngForOf",e.years),s.Eb(4),s.rc("ngForOf",e.months),s.Eb(4),s.rc("ngForOf",e.days),s.Eb(6),s.rc("matDatepicker",a),s.Eb(1),s.rc("for",a)}},directives:[m.e,W.e,X.a,g.C,g.s,g.j,i.n,W.b,T.g,T.c,E.b,g.c,g.r,g.i,W.f,W.d,C.a,i.m,x.e,x.g,T.j,x.d,m.c,R.b,D.n],styles:[".selectOption[_ngcontent-%COMP%]{background-color:#fdfdff;border:transparent}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}"]}),ld),ud=r("iiaH");function dd(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function md(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc(" ",a.value1,"")}}function fd(t,e){if(1&t&&(s.Xb(0,"mat-option",30),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Uc(a.value1)}}var pd,hd=((pd=function(){function t(e,n,o,r,i,c,s,l,b,u){a(this,t),this.router=e,this.data=n,this.snack=o,this.dataService=r,this.ls=i,this.fb=c,this.taskSumService=s,this.apiService=l,this.dialogRef=b,this.cdr=u,this.isEdit=!1,this.minDate=new Date,this.maxDate=new Date,this.showEditOption=!1,this.appEntrySummaryView=!1,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log(this.loanaccountID),console.log("this.loanaccountID",this.loanaccountID),this.buildAssetForm(this.data),this.getCountryName("country"),this.getStateName("state"),this.getCityName("city")}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"getAssetDetails",value:function(){var t=this;this.apiService.getAssetails(this.loanaccountID).subscribe(function(e){t.assetDetails=e,t.buildAssetForm(t.assetDetails),t.getStateName(t.assetDetails.country),t.getCityName(t.assetDetails.state),console.log(t.assetDetails)},function(t){})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,country:this.loanAssetForm.value.country,state:this.loanAssetForm.value.state,city:this.loanAssetForm.value.city,assetStatus:this.loanAssetForm.value.assetStatus,estimatedCost:this.loanAssetForm.value.estimatedCost,dimensions:this.loanAssetForm.value.dimensions,street:this.loanAssetForm.value.street,locality:this.loanAssetForm.value.locality,marketValue:this.loanAssetForm.value.marketValue,mortgagedBranch:this.loanAssetForm.value.marketValue,building:this.loanAssetForm.value.building,homeType:this.loanAssetForm.value.homeType,zipCode:this.loanAssetForm.value.zipCode};console.log("payload",e),this.apiService.upsertAssetDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.cdr.markForCheck(),t.cdr.detectChanges(),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"goBack",value:function(){this.dialogRef.close()}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"getBusinessProductDetails",value:function(t){var e=this;this.apiService.getBusinessProductName(t).subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.screenArray=e,t.screenArrayData=e,0==t.screenArray.length&&t.screenArray.push(t.branchName),console.log("this.branchName::",t.branchName,t.screenArray),t.currencyData=t.screenArray.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData)})}},{key:"buildAssetForm",value:function(t){var e,a,n,o,r,i,c,s,l,b,u,d,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.getCountryName("country"),this.getStateName("state"),this.getCityName("city"),this.loanAssetForm=this.fb.group({loanAccountId:[this.loanaccountID],street:[t?null===(e=null==t?void 0:t.assetInfo)||void 0===e?void 0:e.street:""],country:[t?null===(a=null==t?void 0:t.assetInfo)||void 0===a?void 0:a.country:""],state:[t?null===(n=null==t?void 0:t.assetInfo)||void 0===n?void 0:n.state:""],city:[t?null===(o=null==t?void 0:t.assetInfo)||void 0===o?void 0:o.city:""],assetStatus:[t?null===(r=null==t?void 0:t.assetInfo)||void 0===r?void 0:r.assetStatus:""],estimatedCost:[t?null===(i=null==t?void 0:t.assetInfo)||void 0===i?void 0:i.estimatedCost:""],dimensions:[t?null===(c=null==t?void 0:t.assetInfo)||void 0===c?void 0:c.dimensions:""],locality:[t?null===(s=null==t?void 0:t.assetInfo)||void 0===s?void 0:s.locality:""],marketValue:[t?null===(l=null==t?void 0:t.assetInfo)||void 0===l?void 0:l.marketValue:""],building:[t?null===(b=null==t?void 0:t.assetInfo)||void 0===b?void 0:b.building:""],zipCode:[t?null===(u=null==t?void 0:t.assetInfo)||void 0===u?void 0:u.zipCode:""],homeType:[t?null===(d=null==t?void 0:t.assetInfo)||void 0===d?void 0:d.homeType:""],mortgagedBranch:[t?null===(m=null==t?void 0:t.assetInfo)||void 0===m?void 0:m.mortgagedBranch:""]}),console.log("form before",this.loanAssetForm),console.log("form aftr",this.loanAssetForm.value)}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"goToEdit",value:function(){this.dialogRef.close(),this.dataService.sendNavParam(this.accountDetails),this.router.navigate(["loan/account/loan-details"])}},{key:"goToClose",value:function(){this.dialogRef.close(),this.getDataOnLoad()}}]),t}()).\u0275fac=function(t){return new(t||pd)(s.Rb(He.h),s.Rb(m.a),s.Rb(y.a),s.Rb(ud.a),s.Rb(d.a),s.Rb(g.f),s.Rb(h.a),s.Rb(l.b),s.Rb(m.g),s.Rb(s.h))},pd.\u0275cmp=s.Lb({type:pd,selectors:[["app-loan-account-details-edit"]],inputs:{loanDetailsInfo:"loanDetailsInfo"},decls:108,vars:4,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","mod","formControlName","assetStatus"],["value",""],["value","Under Construction"],["value","Completed Construction"],["matInput","","name","building","formControlName","building"],["name","mortgagedBranch","formControlName","mortgagedBranch"],["value","test"],["fxLayout","row wrap"],["name","country","formControlName","country",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","mod","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["name","dimensions","formControlName","dimensions"],["value","Sq.Ft"],["name","mod","formControlName","homeType"],["value","Villa"],["value","Flat"],["value","Apartment"],["matInput","","name","locality","formControlName","locality"],["matInput","","name","street","formControlName","street"],["matInput","","name","marketValue","formControlName","marketValue",3,"keypress"],["matInput","","name","amt","formControlName","zipCode",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Asset Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Asset Status "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"mat-select",6),s.Xb(14,"mat-option",7),s.Tc(15,"Select"),s.Wb(),s.Xb(16,"mat-option",8),s.Tc(17,"Under Construction"),s.Wb(),s.Xb(18,"mat-option",9),s.Tc(19,"Completed Construction"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",4),s.Xb(21,"mat-label"),s.Tc(22,"Building "),s.Wb(),s.Xb(23,"mat-form-field",5),s.Sb(24,"input",10),s.Wb(),s.Wb(),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"Mortgaged Branch"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Xb(29,"mat-select",11),s.Xb(30,"mat-option",7),s.Tc(31,"Select"),s.Wb(),s.Xb(32,"mat-option",12),s.Tc(33,"test"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",13),s.Xb(35,"div",4),s.Xb(36,"mat-label"),s.Tc(37,"Country"),s.Wb(),s.Xb(38,"mat-form-field",5),s.Xb(39,"mat-select",14),s.fc("selectionChange",function(t){return e.getStateName(t.value)}),s.Xb(40,"mat-option",7),s.Tc(41,"Select"),s.Wb(),s.Rc(42,dd,2,2,"mat-option",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(43,"div",4),s.Xb(44,"mat-label"),s.Tc(45,"State"),s.Wb(),s.Xb(46,"mat-form-field",5),s.Xb(47,"mat-select",16),s.fc("selectionChange",function(t){return e.getCityName(t.value)}),s.Xb(48,"mat-option",7),s.Tc(49,"Select"),s.Wb(),s.Rc(50,md,2,2,"mat-option",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(51,"div",4),s.Xb(52,"mat-label"),s.Tc(53,"City"),s.Wb(),s.Xb(54,"mat-form-field",5),s.Xb(55,"mat-select",17),s.Xb(56,"mat-option",7),s.Tc(57,"Select"),s.Wb(),s.Rc(58,fd,2,2,"mat-option",15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(59,"div",13),s.Xb(60,"div",4),s.Xb(61,"mat-label"),s.Tc(62,"Dimensions"),s.Wb(),s.Xb(63,"mat-form-field",5),s.Xb(64,"mat-select",18),s.Xb(65,"mat-option",7),s.Tc(66,"Select"),s.Wb(),s.Xb(67,"mat-option",19),s.Tc(68,"Sq.Ft"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(69,"div",4),s.Xb(70,"mat-label"),s.Tc(71,"Home Type"),s.Wb(),s.Xb(72,"mat-form-field",5),s.Xb(73,"mat-select",20),s.Xb(74,"mat-option",7),s.Tc(75,"Select"),s.Wb(),s.Xb(76,"mat-option",21),s.Tc(77,"Villa"),s.Wb(),s.Xb(78,"mat-option",22),s.Tc(79,"Flat"),s.Wb(),s.Xb(80,"mat-option",23),s.Tc(81,"Apartment"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(82,"div",4),s.Xb(83,"mat-label"),s.Tc(84,"Locality"),s.Wb(),s.Xb(85,"mat-form-field",5),s.Sb(86,"input",24),s.Wb(),s.Wb(),s.Wb(),s.Xb(87,"div",13),s.Xb(88,"div",4),s.Xb(89,"mat-label"),s.Tc(90,"Street"),s.Wb(),s.Xb(91,"mat-form-field",5),s.Sb(92,"input",25),s.Wb(),s.Wb(),s.Xb(93,"div",4),s.Xb(94,"mat-label"),s.Tc(95,"Market Value"),s.Wb(),s.Xb(96,"mat-form-field",5),s.Xb(97,"input",26),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(98,"div",4),s.Xb(99,"mat-label"),s.Tc(100,"Zip Code"),s.Wb(),s.Xb(101,"mat-form-field",5),s.Xb(102,"input",27),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(103,"mat-dialog-actions",28),s.Xb(104,"button",29),s.fc("click",function(){return e.submitForm1()}),s.Tc(105," Update "),s.Wb(),s.Xb(106,"button",29),s.fc("click",function(){return e.goToClose()}),s.Tc(107,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanAssetForm),s.Eb(35),s.rc("ngForOf",e.arrayCountry),s.Eb(8),s.rc("ngForOf",e.arrayState),s.Eb(8),s.rc("ngForOf",e.arrayCity))},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,C.a,g.r,g.i,D.n,E.b,g.c,i.m,m.c,R.b],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),pd);function gd(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",12),s.Xb(1,"div",5),s.Xb(2,"mat-label"),s.Tc(3,"Number of Applicants "),s.Wb(),s.Xb(4,"mat-form-field",6),s.Xb(5,"input",13),s.fc("keypress",function(t){return s.Hc(a),s.jc()._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",5),s.Xb(7,"mat-label"),s.Tc(8,"Registered "),s.Wb(),s.Sb(9,"mat-form-field",6),s.Wb(),s.Wb()}}var vd,yd=((vd=function(){function t(e,n,o,r,i,c,s,l,b,u){a(this,t),this.fb=e,this.router=n,this.data=o,this.snack=r,this.dataService=i,this.ls=c,this.taskSumService=s,this.apiService=l,this.dialogRef=b,this.cdr=u,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log(this.loanaccountID),console.log("this.loanaccountID",this.loanaccountID),this.getMandateDetails(),this.buildMandateForm()}},{key:"buildMandateForm",value:function(t){this.loanMandateUpdate=this.fb.group({applicantName:[t?null==t?void 0:t.applicantName:""],registered:[t?null==t?void 0:t.registered:""],numberOfApplicant:[t?null==t?void 0:t.numberOfApplicant:""],collateralPercentage:[t?null==t?void 0:t.collateralPercentage:""],repaymentSharePercentage:[t?null==t?void 0:t.repaymentSharePercentage:""]})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,applicantName:this.loanMandateUpdate.value.applicantName,collateralShare:this.loanMandateUpdate.value.collateralShare,repaymentShare:this.loanMandateUpdate.value.repaymentShare};console.log("payload",e),this.apiService.upsertMandateDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getMandateDetails",value:function(){var t=this;this.apiService.getMandateDetailsByLoanAccId(this.loanaccountID).subscribe(function(e){t.mandateDetails=e,console.log(t.mandateDetails),t.buildMandateForm(t.mandateDetails)},function(t){})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"next",value:function(){this.router.navigate(["/tasks/loan-account-task-summary"]),console.log("this.ls.accounttype",this.ls.getItem("accountType")),this.taskSumService.getLoanAccountDetails(this.loanaccountID).subscribe(function(t){console.log("data",t)})}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"goToClose",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||vd)(s.Rb(g.f),s.Rb(He.h),s.Rb(m.a),s.Rb(y.a),s.Rb(ud.a),s.Rb(d.a),s.Rb(h.a),s.Rb(l.b),s.Rb(m.g),s.Rb(s.h))},vd.\u0275cmp=s.Lb({type:vd,selectors:[["app-loan-mandate-details-update"]],decls:30,vars:2,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],["matInput","","name","collateralPercentage","formControlName","collateralPercentage",3,"keypress"],["matInput","","name","repaymentSharePercentage","formControlName","repaymentSharePercentage",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["matInput","","name","amt","formControlName","numberOfApplicant",3,"keypress"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Mandate Details"),s.Wb(),s.Xb(7,"form",2),s.Rc(8,gd,10,0,"div",3),s.Xb(9,"div",4),s.Xb(10,"div",5),s.Xb(11,"mat-label"),s.Tc(12,"Applicant Name"),s.Wb(),s.Xb(13,"mat-form-field",6),s.Sb(14,"input",7),s.Wb(),s.Wb(),s.Xb(15,"div",5),s.Xb(16,"mat-label"),s.Tc(17,"Collateral Percentage"),s.Wb(),s.Xb(18,"mat-form-field",6),s.Xb(19,"input",8),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",5),s.Xb(21,"mat-label"),s.Tc(22,"Repayment Share Percentage"),s.Wb(),s.Xb(23,"mat-form-field",6),s.Xb(24,"input",9),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"mat-dialog-actions",10),s.Xb(26,"button",11),s.fc("click",function(){return e.submitForm1()}),s.Tc(27," Update "),s.Wb(),s.Xb(28,"button",11),s.fc("click",function(){return e.goToClose()}),s.Tc(29,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanMandateUpdate),s.Eb(1),s.rc("ngIf","loanAccount_array"===e.data.editType))},directives:[m.e,W.e,X.a,g.C,g.s,g.j,i.n,W.b,T.g,T.c,E.b,g.c,g.r,g.i,m.c,R.b],styles:[""]}),vd);function Wd(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Xd(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Td(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Id(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc(" ",a.value1," ")}}function Ed(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc("",a.value1," ")}}var Cd,xd=((Cd=function(){function t(e,n,o,r,i,c,s,l,b,u,d){a(this,t),this.fb=e,this.data=n,this.dialogue=o,this.taskSumService=r,this.cdr=i,this.dialogRef=c,this.apiService=s,this.ls=l,this.snack=b,this.router=u,this.loader=d,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,this.buildCollateralForm(),this.getCountryName("country"),this.getCollateralType("collateral_type"),this.getCollateralDetails(),this.getRateValue("currency")}},{key:"buildCollateralForm",value:function(t){var e,a,n,o,r,i,c,s,l,b,u,d,m;console.log("item",t),t&&(this.getStateName(t.country),this.getCityName(t.state)),this.loanCollateralForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.collateralInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.collateralInfo)||void 0===a?void 0:a.state:""],city:[t?null===(n=null==t?void 0:t.collateralInfo)||void 0===n?void 0:n.city:""],collateralType:[t?null===(o=null==t?void 0:t.collateralInfo)||void 0===o?void 0:o.collateralType:""],collateralCurrency:[t?null===(r=null==t?void 0:t.collateralInfo)||void 0===r?void 0:r.collateralCurrency:""],collateralValue:[t?null===(i=null==t?void 0:t.collateralInfo)||void 0===i?void 0:i.collateralValue:""],locality:[t?null===(c=null==t?void 0:t.collateralInfo)||void 0===c?void 0:c.locality:""],street:[t?null===(s=null==t?void 0:t.collateralInfo)||void 0===s?void 0:s.street:""],building:[t?null===(l=null==t?void 0:t.collateralInfo)||void 0===l?void 0:l.building:""],zipCode:[t?null===(b=null==t?void 0:t.collateralInfo)||void 0===b?void 0:b.zipCode:""],homeType:[t?null===(u=null==t?void 0:t.collateralInfo)||void 0===u?void 0:u.homeType:""],attributes:[t?null===(d=null==t?void 0:t.collateralInfo)||void 0===d?void 0:d.attributes:""],thirdPartyCollateral:[t?null===(m=null==t?void 0:t.collateralInfo)||void 0===m?void 0:m.thirdPartyCollateral:""]}),console.log("form before",this.loanCollateralForm),console.log("form aftr",this.loanCollateralForm.value)}},{key:"getRateValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayRateValue=t})}},{key:"getCollateralDetails",value:function(){var t=this;this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(function(e){t.collateralDetails=e,console.log(t.collateralDetails.collateralDetails.length),console.log(t.collateralDetails),t.buildCollateralForm(t.collateralDetails)},function(t){})}},{key:"getCollateralType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCollateralType=t})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,attributes:this.loanCollateralForm.value.attributes,building:this.loanCollateralForm.value.building,city:this.loanCollateralForm.value.city,zipCode:this.loanCollateralForm.value.zipCode,country:this.loanCollateralForm.value.country,state:this.loanCollateralForm.value.state,dimensions:this.loanCollateralForm.value.dimensions,locality:this.loanCollateralForm.value.locality,thirdpartyCollateral:this.loanCollateralForm.value.thirdPartyCollateral,collateralValue:this.loanCollateralForm.value.collateralValue,collateralType:this.loanCollateralForm.value.collateralType,collateralCurrency:this.loanCollateralForm.value.collateralCurrency};console.log("payload",e),this.apiService.upsertCollateralDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.loanCollateralDetails=e,console.log("this.loanCollateralDetails",t.loanCollateralDetails),console.log("form",t.loanCollateralForm.value),t.loanCollateralForm.value.building=t.loanCollateralDetails.building,t.loanCollateralForm.value.dimensions=t.loanCollateralDetails.dimensions,t.loanCollateralForm.value.attributes=t.loanCollateralDetails.attributes,t.loanCollateralForm.value.collateralCurrency=t.loanCollateralDetails.collateralCurrency,t.loader.close()})}}]),t}()).\u0275fac=function(t){return new(t||Cd)(s.Rb(g.f),s.Rb(m.a),s.Rb(m.b),s.Rb(h.a),s.Rb(s.h),s.Rb(m.g),s.Rb(l.b),s.Rb(d.a),s.Rb(y.a),s.Rb(He.h),s.Rb(q.a))},Cd.\u0275cmp=s.Lb({type:Cd,selectors:[["app-loan-collateral-details-update"]],decls:94,vars:6,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","collateralType","formControlName","collateralType"],[3,"value",4,"ngFor","ngForOf"],["name","collateralCurrency","formControlName","collateralCurrency"],["matInput","","name","collateralValue","formControlName","collateralValue",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","thirdPartyCollateral","formControlName","thirdPartyCollateral"],["name","attributes","formControlName","attributes","required",""],["value","1"],["value","2"],["matInput","","name","dimensions","formControlName","dimensions",1,"alignment",3,"keypress"],["matInput","","name","building","formControlName","building"],["matInput","","name","street","formControlName","street"],["matInput","","name","locality","formControlName","locality",1,"alignment"],["name","country","formControlName","country","required","",3,"selectionChange"],["name","state","formControlName","state","required","",3,"selectionChange"],["name","city","formControlName","city","required",""],["matInput","","name","zipCode","formControlName","zipCode","minlength","6","maxlength","10",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Collateral Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Collateral Type "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"mat-select",6),s.Rc(14,Wd,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",4),s.Xb(16,"mat-label"),s.Tc(17,"Collateral Currency "),s.Wb(),s.Xb(18,"mat-form-field",5),s.Xb(19,"mat-select",8),s.Rc(20,Xd,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(21,"div",4),s.Xb(22,"mat-label"),s.Tc(23,"Collateral Value"),s.Wb(),s.Xb(24,"mat-form-field",5),s.Xb(25,"input",9),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(26,"div",10),s.Xb(27,"div",4),s.Xb(28,"mat-label"),s.Tc(29,"Third Party Collateral"),s.Wb(),s.Xb(30,"mat-form-field",5),s.Sb(31,"input",11),s.Wb(),s.Wb(),s.Xb(32,"div",4),s.Xb(33,"mat-label"),s.Tc(34,"Attributes"),s.Wb(),s.Xb(35,"mat-form-field",5),s.Xb(36,"mat-select",12),s.Xb(37,"mat-option",13),s.Tc(38,"Attributes 1"),s.Wb(),s.Xb(39,"mat-option",14),s.Tc(40,"Attributes 2"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",4),s.Xb(42,"mat-label"),s.Tc(43,"Dimensions"),s.Wb(),s.Xb(44,"mat-form-field",5),s.Xb(45,"input",15),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div",10),s.Xb(47,"div",4),s.Xb(48,"mat-label"),s.Tc(49,"Building"),s.Wb(),s.Xb(50,"mat-form-field",5),s.Sb(51,"input",16),s.Wb(),s.Wb(),s.Xb(52,"div",4),s.Xb(53,"mat-label"),s.Tc(54,"Street"),s.Wb(),s.Xb(55,"mat-form-field",5),s.Sb(56,"input",17),s.Wb(),s.Wb(),s.Xb(57,"div",4),s.Xb(58,"mat-label"),s.Tc(59,"Locality"),s.Wb(),s.Xb(60,"mat-form-field",5),s.Sb(61,"input",18),s.Wb(),s.Wb(),s.Wb(),s.Xb(62,"div",10),s.Xb(63,"div",4),s.Xb(64,"mat-label"),s.Tc(65,"Country"),s.Wb(),s.Xb(66,"mat-form-field",5),s.Xb(67,"mat-select",19),s.fc("selectionChange",function(t){return e.getStateName(t.value)})("selectionChange",function(t){return e.getCityName(t.value)}),s.Rc(68,Td,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(69,"div",4),s.Xb(70,"mat-label"),s.Tc(71,"State"),s.Wb(),s.Xb(72,"mat-form-field",5),s.Xb(73,"mat-select",20),s.fc("selectionChange",function(t){return e.getCityName(t.value)}),s.Rc(74,Id,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(75,"div",4),s.Xb(76,"mat-label"),s.Tc(77,"City"),s.Wb(),s.Xb(78,"mat-form-field",5),s.Xb(79,"mat-select",21),s.Rc(80,Ed,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(81,"div",10),s.Xb(82,"div",4),s.Xb(83,"mat-label"),s.Tc(84,"Zip Code"),s.Wb(),s.Xb(85,"mat-form-field",5),s.Xb(86,"input",22),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Sb(87,"div",4),s.Sb(88,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(89,"mat-dialog-actions",23),s.Xb(90,"button",24),s.fc("click",function(){return e.submitForm1()}),s.Tc(91," Update "),s.Wb(),s.Xb(92,"button",24),s.fc("click",function(){return e.goToClose()}),s.Tc(93,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanCollateralForm),s.Eb(7),s.rc("ngForOf",e.arrayCollateralType),s.Eb(6),s.rc("ngForOf",e.arrayRateValue),s.Eb(48),s.rc("ngForOf",e.arrayCountry),s.Eb(6),s.rc("ngForOf",e.arrayState),s.Eb(6),s.rc("ngForOf",e.arrayCity))},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,C.a,g.r,g.i,i.m,E.b,g.c,g.z,D.n,g.n,g.m,m.c,R.b],styles:[""]}),Cd);function Ad(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Rd(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Od(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Vc(" ",a.value1,"")}}function Dd(t,e){if(1&t&&(s.Xb(0,"mat-option",25),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.value1),s.Eb(1),s.Uc(a.value1)}}var kd,Sd,Nd=((Sd=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.fb=e,this.loader=n,this.ls=o,this.snack=r,this.taskSumService=i,this.cdr=c,this.data=s,this.apiService=l,this.dialogRef=b,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.tomorrow=new Date,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.tomorrow.setDate(this.tomorrow.getDate())}return o(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),console.log("component call check"),this.buildGuarantorForm(this.data),this.getCountryName("country"),this.getStateName("state"),this.getPrefixValue("prefix")}},{key:"buildGuarantorForm",value:function(t){var e,a,n,o,r,i,c,s,l,b,u,d;console.log("item",t),t&&t.country&&(this.getStateName(t.country),this.getCityName(t.state)),this.loanGuarantorForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.gurantorInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.gurantorInfo)||void 0===a?void 0:a.state:""],city:[t?null===(n=null==t?void 0:t.gurantorInfo)||void 0===n?void 0:n.city:""],prefix:[t?null===(o=null==t?void 0:t.gurantorInfo)||void 0===o?void 0:o.prefix:""],firstName:[t?null===(r=null==t?void 0:t.gurantorInfo)||void 0===r?void 0:r.firstName:""],lastName:[t?null===(i=null==t?void 0:t.gurantorInfo)||void 0===i?void 0:i.lastName:""],mobileNumber:[t?null===(c=null==t?void 0:t.gurantorInfo)||void 0===c?void 0:c.mobileNumber:""],building:[t?null===(s=null==t?void 0:t.gurantorInfo)||void 0===s?void 0:s.building:t.gurantorInfo.address1],street:[t?null===(l=null==t?void 0:t.gurantorInfo)||void 0===l?void 0:l.street:t.gurantorInfo.address2],zipCode:[t?null===(b=null==t?void 0:t.gurantorInfo)||void 0===b?void 0:b.zipCode:""],emailAddress:[t?null===(u=null==t?void 0:t.gurantorInfo)||void 0===u?void 0:u.emailAddress:""],dateOfBirth:[t?null===(d=null==t?void 0:t.gurantorInfo)||void 0===d?void 0:d.dateOfBirth:""]})}},{key:"getGuarantorDetails",value:function(){var t=this;this.loader.open(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(function(e){t.loader.close(),t.guarantorDetails=e,console.log("this.guarantorDetails::",t.guarantorDetails),t.getStateName(t.guarantorDetails.country),t.getCityName(t.guarantorDetails.state),t.buildGuarantorForm(t.guarantorDetails),t.guarantorDetails.address1=t.loanGuarantorForm.value.building,t.guarantorDetails.address2=t.loanGuarantorForm.value.street},function(e){t.loader.close()})}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t,console.log("data",e.arrayPrefix)})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.guarantorDetails=e,console.log("this.accountDetails",t.guarantorDetails),console.log("form",t.loanGuarantorForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,country:this.loanGuarantorForm.value.country,state:this.loanGuarantorForm.value.state,city:this.loanGuarantorForm.value.city,address1:this.loanGuarantorForm.value.building,address2:this.loanGuarantorForm.value.street,zipCode:this.loanGuarantorForm.value.zipCode,mobileNumber:this.loanGuarantorForm.value.mobileNumber};console.log("payload",e),this.apiService.upsertGuarantorDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||Sd)(s.Rb(g.f),s.Rb(q.a),s.Rb(d.a),s.Rb(y.a),s.Rb(h.a),s.Rb(s.h),s.Rb(m.a),s.Rb(l.b),s.Rb(m.g))},Sd.\u0275cmp=s.Lb({type:Sd,selectors:[["app-loan-guarantor-details-update"]],decls:90,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","prefix","formControlName","prefix","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","firstName","formControlName","firstName"],["matInput","","name","lastName","formControlName","lastName"],["fxLayout","row wrap"],["name","country","formControlName","country",3,"selectionChange"],["value",""],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["matInput","","name","building","formControlName","building"],["matInput","","name","street","formControlName","street"],["matInput","","name","zipCode","formControlName","zipCode","maxlength","6",3,"keypress"],["matInput","","name","dateOfBirth","formControlName","dateOfBirth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerDOB",""],["matInput","","name","emailAddress","formControlName","emailAddress"],["matInput","","name","mobileNumber","formControlName","mobileNumber","maxlength","10",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Guarantor Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Prefix "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"mat-select",6),s.Rc(14,Ad,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",4),s.Xb(16,"mat-label"),s.Tc(17,"First Name "),s.Wb(),s.Xb(18,"mat-form-field",5),s.Sb(19,"input",8),s.Wb(),s.Wb(),s.Xb(20,"div",4),s.Xb(21,"mat-label"),s.Tc(22,"Last Name"),s.Wb(),s.Xb(23,"mat-form-field",5),s.Sb(24,"input",9),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",10),s.Xb(26,"div",4),s.Xb(27,"mat-label"),s.Tc(28,"Country"),s.Wb(),s.Xb(29,"mat-form-field",5),s.Xb(30,"mat-select",11),s.fc("selectionChange",function(t){return e.getStateName(t.value)})("selectionChange",function(t){return e.getCityName(t.value)}),s.Xb(31,"mat-option",12),s.Tc(32,"Select"),s.Wb(),s.Rc(33,Rd,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",4),s.Xb(35,"mat-label"),s.Tc(36,"State"),s.Wb(),s.Xb(37,"mat-form-field",5),s.Xb(38,"mat-select",13),s.fc("selectionChange",function(t){return e.getCityName(t.value)}),s.Xb(39,"mat-option",12),s.Tc(40,"Select"),s.Wb(),s.Rc(41,Od,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Xb(42,"div",4),s.Xb(43,"mat-label"),s.Tc(44,"City"),s.Wb(),s.Xb(45,"mat-form-field",5),s.Xb(46,"mat-select",14),s.Xb(47,"mat-option",12),s.Tc(48,"Select"),s.Wb(),s.Rc(49,Dd,2,2,"mat-option",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",10),s.Xb(51,"div",4),s.Xb(52,"mat-label"),s.Tc(53,"Building"),s.Wb(),s.Xb(54,"mat-form-field",5),s.Sb(55,"input",15),s.Wb(),s.Wb(),s.Xb(56,"div",4),s.Xb(57,"mat-label"),s.Tc(58,"Street"),s.Wb(),s.Xb(59,"mat-form-field",5),s.Sb(60,"input",16),s.Wb(),s.Wb(),s.Xb(61,"div",4),s.Xb(62,"mat-label"),s.Tc(63,"Zip Code"),s.Wb(),s.Xb(64,"mat-form-field",5),s.Xb(65,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(66,"div",10),s.Xb(67,"div",4),s.Xb(68,"mat-label"),s.Tc(69,"Date Of Birth"),s.Wb(),s.Xb(70,"mat-form-field",5),s.Sb(71,"input",18),s.Sb(72,"mat-datepicker-toggle",19),s.Sb(73,"mat-datepicker",null,20),s.Wb(),s.Wb(),s.Xb(75,"div",4),s.Xb(76,"mat-label"),s.Tc(77,"Email Address"),s.Wb(),s.Xb(78,"mat-form-field",5),s.Sb(79,"input",21),s.Wb(),s.Wb(),s.Xb(80,"div",4),s.Xb(81,"mat-label"),s.Tc(82,"Phone Number"),s.Wb(),s.Xb(83,"mat-form-field",5),s.Xb(84,"input",22),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(85,"mat-dialog-actions",23),s.Xb(86,"button",24),s.fc("click",function(){return e.submitForm1()}),s.Tc(87," Update "),s.Wb(),s.Xb(88,"button",24),s.fc("click",function(){return e.goToClose()}),s.Tc(89,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.Dc(74);s.Eb(7),s.rc("formGroup",e.loanGuarantorForm),s.Eb(7),s.rc("ngForOf",e.arrayPrefix),s.Eb(19),s.rc("ngForOf",e.arrayCountry),s.Eb(8),s.rc("ngForOf",e.arrayState),s.Eb(8),s.rc("ngForOf",e.arrayCity),s.Eb(22),s.rc("matDatepicker",a)("max",e.tomorrow),s.Eb(1),s.rc("for",a)}},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,C.a,g.r,g.i,g.z,i.m,E.b,g.c,D.n,g.m,x.e,x.g,T.j,x.d,m.c,R.b],styles:[""]}),Sd),Pd=((kd=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.apiService=e,this.data=n,this.fb=o,this.loader=r,this.taskSumService=i,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildDisbursementForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildDisbursementForm",value:function(t){var e,a,n,o,r,i,c,s;console.log("item",t),this.loanDisbursementForm=this.fb.group({loanAccountId:[this.loanaccountID],disbursementMode:[t?null===(e=null==t?void 0:t.disbursementInfo)||void 0===e?void 0:e.disbursementMode:""],totalDisbursement:[t?null===(a=null==t?void 0:t.disbursementInfo)||void 0===a?void 0:a.totalDisbursement:""],numberOfDisbursement:[t?null===(n=null==t?void 0:t.disbursementInfo)||void 0===n?void 0:n.numberOfDisbursement:""],multipleDisbursementRequired:[!t||(null===(o=null==t?void 0:t.disbursementInfo)||void 0===o?void 0:o.multipleDisbursementRequired)],branchCode:[t?null===(r=null==t?void 0:t.disbursementInfo)||void 0===r?void 0:r.branchCode:""],customerAccount:[t?null===(i=null==t?void 0:t.disbursementInfo)||void 0===i?void 0:i.customerAccount:""],loanAmount:[t?null===(c=null==t?void 0:t.disbursementInfo)||void 0===c?void 0:c.loanAmount:""],marginIn:[t?null===(s=null==t?void 0:t.disbursementInfo)||void 0===s?void 0:s.marginIn:""]})}},{key:"getDisbursementDetails",value:function(){var t=this;this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(function(e){t.disbursementDetails=e,console.log("this.disbursementDetails::",t.disbursementDetails),t.buildDisbursementForm(t.disbursementDetails),t.loanDisbursementForm.value.numberOfDisbursement=t.disbursementDetails.numberOfDisbursement,t.loanDisbursementForm.value.totalDisbursement=t.disbursementDetails.totalDisbursement,t.loanDisbursementForm.value.loanAmount=t.disbursementDetails.loanAmount,t.loanDisbursementForm.value.branchCode=t.disbursementDetails.branchCode,t.loanDisbursementForm.value.customerAccount=t.disbursementDetails.customerAccount,t.loanDisbursementForm.value.marginIn=t.disbursementDetails.marginIn,t.loanDisbursementForm.value.multipleDisbursementRequired=t.disbursementDetails.multipleDisbursementRequired},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.disbursementDetails=e,console.log("this.accountDetails",t.disbursementDetails),console.log("form",t.loanDisbursementForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,disbursementMode:this.loanDisbursementForm.value.disbursementMode,totalDisbursement:this.loanDisbursementForm.value.totalDisbursement,numberOfDisbursement:this.loanDisbursementForm.value.numberOfDisbursement,multipleDisbursementRequired:this.loanDisbursementForm.value.multipleDisbursementRequired,branchCode:this.loanDisbursementForm.value.branchCode,customerAccount:this.loanDisbursementForm.value.customerAccount,loanAmount:this.loanDisbursementForm.value.loanAmount,marginIn:this.loanDisbursementForm.value.marginIn};console.log("payload",e),this.apiService.loanDisbursementSave(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||kd)(s.Rb(l.b),s.Rb(m.a),s.Rb(g.f),s.Rb(q.a),s.Rb(h.a),s.Rb(s.h),s.Rb(d.a),s.Rb(m.g),s.Rb(y.a))},kd.\u0275cmp=s.Lb({type:kd,selectors:[["app-loan-disbursement-details-update"]],decls:63,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["placeholder","Disbursement Mode","formControlName","disbursementMode"],["value",""],["value","mode1"],["value","mode12"],["matInput","","name","numberOfDisbursement","formControlName","numberOfDisbursement","maxlength","6",3,"keypress"],["matInput","","name","totalDisbursement","formControlName","totalDisbursement","maxlength","6",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","loanAmount","formControlName","loanAmount",3,"keypress"],["matInput","","name","branchCode","formControlName","branchCode",3,"keypress"],["matInput","","name","customerAccount","formControlName","customerAccount"],["matInput","","name","multipleDisbursementRequired","formControlName","multipleDisbursementRequired"],["matInput","","name","marginIn","formControlName","marginIn",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Disbursement Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Disbursement Mode "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"mat-select",6),s.Xb(14,"mat-option",7),s.Tc(15,"Select"),s.Wb(),s.Xb(16,"mat-option",8),s.Tc(17,"Auto Disbursement"),s.Wb(),s.Xb(18,"mat-option",9),s.Tc(19,"Manual Disbursement "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",4),s.Xb(21,"mat-label"),s.Tc(22,"Number of Disbursement"),s.Wb(),s.Xb(23,"mat-form-field",5),s.Xb(24,"input",10),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"Total Disbursement"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Xb(29,"input",11),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"div",12),s.Xb(31,"div",4),s.Xb(32,"mat-label"),s.Tc(33,"Loan Amount"),s.Wb(),s.Xb(34,"mat-form-field",5),s.Xb(35,"input",13),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",4),s.Xb(37,"mat-label"),s.Tc(38,"Branch Code "),s.Wb(),s.Xb(39,"mat-form-field",5),s.Xb(40,"input",14),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",4),s.Xb(42,"mat-label"),s.Tc(43,"Customer Account"),s.Wb(),s.Xb(44,"mat-form-field",5),s.Sb(45,"input",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div",12),s.Xb(47,"div",4),s.Xb(48,"mat-label"),s.Tc(49,"Multiple Disbursement Required?"),s.Wb(),s.Xb(50,"mat-form-field",5),s.Sb(51,"input",16),s.Wb(),s.Wb(),s.Xb(52,"div",4),s.Xb(53,"mat-label"),s.Tc(54,"Margin In"),s.Wb(),s.Xb(55,"mat-form-field",5),s.Xb(56,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Sb(57,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(58,"mat-dialog-actions",18),s.Xb(59,"button",19),s.fc("click",function(){return e.submitForm1()}),s.Tc(60," Update "),s.Wb(),s.Xb(61,"button",19),s.fc("click",function(){return e.goToClose()}),s.Tc(62,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanDisbursementForm))},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,C.a,g.r,g.i,D.n,E.b,g.c,g.m,m.c,R.b],styles:[""]}),kd);function Fd(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Ld(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function wd(t,e){if(1&t&&(s.Xb(0,"mat-option",26),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}var Ud,_d,Md,Gd,Vd=((Gd=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.apiService=e,this.data=n,this.fb=o,this.loader=r,this.taskSumService=i,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.tomorrow=new Date,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.tomorrow.setDate(this.tomorrow.getDate())}return o(t,[{key:"ngOnInit",value:function(){this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildRepaymentForm(this.data)}},{key:"getRepaymenttDetails",value:function(){var t=this;this.loader.open(),this.apiService.loanRepaymentFetchById(this.loanaccountID).subscribe(function(e){t.loader.close(),t.repaymentDetails=e,t.buildRepaymentForm(t.repaymentDetails),t.loanRepaymentForm.value.loanTenure=t.repaymentDetails.loanTenure,t.loanRepaymentForm.value.maturityeDate=t.repaymentDetails.maturityeDate,t.loanRepaymentForm.value.firstRepaymentDate=t.repaymentDetails.firstRepaymentDate,t.loanRepaymentForm.value.moratariumPeriod=t.repaymentDetails.moratariumPeriod,t.loanRepaymentForm.value.branchCode=t.repaymentDetails.branchCode,t.loanRepaymentForm.value.customerAccount=t.repaymentDetails.customerAccount,t.loanRepaymentForm.value.bankName=t.repaymentDetails.bankName,t.loanRepaymentForm.value.typeOfRepayment=t.repaymentDetails.typeOfRepayment,t.loanRepaymentForm.value.repaymentMode=t.repaymentDetails.repaymentMode,t.loanRepaymentForm.value.repaymentFrequency=t.repaymentDetails.repaymentFrequency},function(e){t.loader.close()})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildRepaymentForm",value:function(t){var e,a,n,o,r,i,c,s,l,b,u,d,m;console.log("item",t),this.loanRepaymentForm=this.fb.group({loanAccountId:[this.loanaccountID],disbursementMode:[t?null===(e=null==t?void 0:t.loanRepaymentInfo)||void 0===e?void 0:e.disbursementMode:""],firstRepaymentDate:[t?null===(a=null==t?void 0:t.loanRepaymentInfo)||void 0===a?void 0:a.firstRepaymentDate:""],moraturioumPeriod:[t?null===(n=null==t?void 0:t.loanRepaymentInfo)||void 0===n?void 0:n.moraturioumPeriod:""],typeOfRepayment:[t?null===(o=null==t?void 0:t.loanRepaymentInfo)||void 0===o?void 0:o.typeOfRepayment:""],branchCode:[t?null===(r=null==t?void 0:t.loanRepaymentInfo)||void 0===r?void 0:r.branchCode:""],customerAccount:[t?null===(i=null==t?void 0:t.loanRepaymentInfo)||void 0===i?void 0:i.customerAccount:""],bankName:[t?null===(c=null==t?void 0:t.loanRepaymentInfo)||void 0===c?void 0:c.bankName:""],repaymentMode:[t?null===(s=null==t?void 0:t.loanRepaymentInfo)||void 0===s?void 0:s.repaymentMode:""],repaymentFrequency:[t?null===(l=null==t?void 0:t.loanRepaymentInfo)||void 0===l?void 0:l.repaymentFrequency:""],loanTenure:[t?null===(b=null==t?void 0:t.loanRepaymentInfo)||void 0===b?void 0:b.loanTenure:""],day:[t?Number(null===(u=null==t?void 0:t.loanRepaymentInfo)||void 0===u?void 0:u.loanTenure.split("-")[2]):""],month:[t?null===(d=null==t?void 0:t.info)||void 0===d?void 0:d.loanRepaymentInfo.split("-")[1]:""],year:[t?Number(null===(m=null==t?void 0:t.loanRepaymentInfo)||void 0===m?void 0:m.loanTenure.split("-")[0]):""]})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.loanRepaymentFetchById(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.repaymentDetails=e,console.log("this.accountDetails",t.repaymentDetails),console.log("form",t.loanRepaymentForm.value)})}},{key:"submitForm1",value:function(){var t=this,e=new Date;e=this.loanRepaymentForm.value.firstDisbursementDate,console.log("firstDisbursementDate",this.loanRepaymentForm.value.firstDisbursementDate);var a=v(e).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",a);var n=this.loanRepaymentForm.value.year+"-"+this.loanRepaymentForm.value.month+"-"+this.loanRepaymentForm.value.day;this.loanRepaymentForm.get("loanTenure").setValue(n),delete this.loanRepaymentForm.value.year,delete this.loanRepaymentForm.value.month,delete this.loanRepaymentForm.value.day;var o={loanAccountId:this.data.loanAccountId,typeOfRepayment:this.loanRepaymentForm.value.typeOfRepayment,loanTenure:this.loanRepaymentForm.value.loanTenure,maturityeDate:this.loanRepaymentForm.value.maturityeDate,firstRepaymentDate:this.loanRepaymentForm.value.firstRepaymentDate,moratariumPeriod:this.loanRepaymentForm.value.moratariumPeriod,branchCode:this.loanRepaymentForm.value.branchCode,customerAccount:this.loanRepaymentForm.value.customerAccount,bankName:this.loanRepaymentForm.value.bankName,repaymentMode:this.loanRepaymentForm.value.repaymentMode,repaymentFrequency:this.loanRepaymentForm.value.repaymentFrequency};console.log("payload",o),this.apiService.loanRepaymentSave(o).subscribe(function(e){t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||Gd)(s.Rb(l.b),s.Rb(m.a),s.Rb(g.f),s.Rb(q.a),s.Rb(h.a),s.Rb(s.h),s.Rb(d.a),s.Rb(m.g),s.Rb(y.a))},Gd.\u0275cmp=s.Lb({type:Gd,selectors:[["app-loan-repayment-details-update"]],decls:80,vars:7,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","bankName","formControlName","bankName"],["matInput","","name","branchCode","formControlName","branchCode"],["matInput","","name","customerAccount","formControlName","customerAccount"],["fxLayout","row wrap"],["matInput","","name","firstRepaymentDate","formControlName","firstRepaymentDate",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerDOB1",""],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["matInput","","name","moraturioumPeriod","formControlName","moraturioumPeriod","maxlength","6",3,"keypress"],["name","typeOfRepayment","formControlName","typeOfRepayment"],["value","EMI"],["matInput","","name","repaymentMode","formControlName","repaymentMode"],["matInput","","name","repaymentFrequency","formControlName","repaymentFrequency"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Repayment Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Bank Name"),s.Wb(),s.Xb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Branch Code "),s.Wb(),s.Xb(17,"mat-form-field",5),s.Sb(18,"input",7),s.Wb(),s.Wb(),s.Xb(19,"div",4),s.Xb(20,"mat-label"),s.Tc(21,"Customer Account"),s.Wb(),s.Xb(22,"mat-form-field",5),s.Sb(23,"input",8),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",9),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"First Repayment Date"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Sb(29,"input",10),s.Sb(30,"mat-datepicker-toggle",11),s.Sb(31,"mat-datepicker",null,12),s.Wb(),s.Wb(),s.Xb(33,"div",4),s.Xb(34,"mat-label"),s.Tc(35,"Loan Tenure"),s.Wb(),s.Xb(36,"div",13),s.Xb(37,"div",14),s.Xb(38,"div"),s.Xb(39,"mat-form-field",5),s.Xb(40,"mat-select",15),s.Rc(41,Fd,2,2,"mat-option",16),s.Wb(),s.Wb(),s.Wb(),s.Xb(42,"div"),s.Xb(43,"mat-form-field",5),s.Xb(44,"mat-select",17),s.Rc(45,Ld,2,2,"mat-option",16),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div"),s.Xb(47,"mat-form-field",5),s.Xb(48,"mat-select",18),s.Rc(49,wd,2,2,"mat-option",16),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(50,"div",4),s.Wb(),s.Xb(51,"div",9),s.Xb(52,"div",4),s.Xb(53,"mat-label"),s.Tc(54,"Moratorium Period"),s.Wb(),s.Xb(55,"mat-form-field",5),s.Xb(56,"input",19),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(57,"div",4),s.Xb(58,"mat-label"),s.Tc(59,"Type Of Repayment "),s.Wb(),s.Xb(60,"mat-form-field",5),s.Xb(61,"mat-select",20),s.Xb(62,"mat-option",21),s.Tc(63,"EMI"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(64,"div",4),s.Xb(65,"mat-label"),s.Tc(66,"Repayment Mode"),s.Wb(),s.Xb(67,"mat-form-field",5),s.Sb(68,"input",22),s.Wb(),s.Wb(),s.Wb(),s.Xb(69,"div",9),s.Xb(70,"div",4),s.Xb(71,"mat-label"),s.Tc(72,"Repayment Frequency"),s.Wb(),s.Xb(73,"mat-form-field",5),s.Sb(74,"input",23),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(75,"mat-dialog-actions",24),s.Xb(76,"button",25),s.fc("click",function(){return e.submitForm1()}),s.Tc(77," Update "),s.Wb(),s.Xb(78,"button",25),s.fc("click",function(){return e.goToClose()}),s.Tc(79,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.Dc(32);s.Eb(7),s.rc("formGroup",e.loanRepaymentForm),s.Eb(22),s.rc("matDatepicker",a)("max",e.tomorrow),s.Eb(1),s.rc("for",a),s.Eb(11),s.rc("ngForOf",e.years),s.Eb(4),s.rc("ngForOf",e.months),s.Eb(4),s.rc("ngForOf",e.days)}},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,E.b,g.c,g.r,g.i,x.e,x.g,T.j,x.d,W.f,W.d,C.a,i.m,g.m,D.n,m.c,R.b],styles:[""]}),Gd),Bd=((Md=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.apiService=e,this.data=n,this.fb=o,this.loader=r,this.taskSumService=i,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanCreditForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLoanCreditForm",value:function(t){var e,a,n,o,r,i,c;console.log("item",t),this.loanCreditForm=this.fb.group({loanAccountId:[this.loanaccountID],customerName:[t?null===(e=null==t?void 0:t.loanCreditInfo)||void 0===e?void 0:e.customerName:""],agencyName:[t?null===(n=null===(a=null==t?void 0:t.loanCreditInfo)||void 0===a?void 0:a.agencyRating[0])||void 0===n?void 0:n.agencyName:""],remarks:[t?null===(r=null===(o=null==t?void 0:t.loanCreditInfo)||void 0===o?void 0:o.agencyRating[0])||void 0===r?void 0:r.remarks:""],ratings:[t?null===(c=null===(i=null==t?void 0:t.loanCreditInfo)||void 0===i?void 0:i.agencyRating[0])||void 0===c?void 0:c.ratings:""]})}},{key:"getLoanCreditDetails",value:function(){var t=this;this.apiService.gettingCreditRatingDetails(this.loanaccountID).subscribe(function(e){t.creditDetails=e,console.log("this.creditDetails::",t.creditDetails),t.buildLoanCreditForm(t.creditDetails),t.loanCreditForm.value.customerName=t.creditDetails.customerName,t.loanCreditForm.value.agencyName=t.creditDetails.agencyRating.agencyName,t.loanCreditForm.value.ratings=t.creditDetails.agencyRating.ratings,t.loanCreditForm.value.remarks=t.creditDetails.agencyRating.remarks},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.gettingCreditRatingDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.creditDetails=e,console.log("this.accountDetails",t.creditDetails),console.log("form",t.loanCreditForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={accountType:"loan",loanAccountId:this.data.loanAccountId,customerName:this.loanCreditForm.value.customerName,agencyName:this.loanCreditForm.value.agencyName,ratings:this.loanCreditForm.value.ratings,remarks:this.loanCreditForm.value.remarks};console.log("payload",e),this.apiService.saveCreditDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}}]),t}()).\u0275fac=function(t){return new(t||Md)(s.Rb(l.b),s.Rb(m.a),s.Rb(g.f),s.Rb(q.a),s.Rb(h.a),s.Rb(s.h),s.Rb(d.a),s.Rb(m.g),s.Rb(y.a))},Md.\u0275cmp=s.Lb({type:Md,selectors:[["app-loan-credit-details-update"]],decls:37,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","customerName","formControlName","customerName"],["matInput","","name","agencyName","formControlName","agencyName"],["matInput","","name","remarks","formControlName","remarks"],["fxLayout","row wrap"],["matInput","","name","ratings","formControlName","ratings"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Credit Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Customer Name "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Agency Name"),s.Wb(),s.Xb(17,"mat-form-field",5),s.Sb(18,"input",7),s.Wb(),s.Wb(),s.Xb(19,"div",4),s.Xb(20,"mat-label"),s.Tc(21,"Remarks"),s.Wb(),s.Xb(22,"mat-form-field",5),s.Sb(23,"input",8),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",9),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"Ratings"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Sb(29,"input",10),s.Wb(),s.Wb(),s.Sb(30,"div",4),s.Sb(31,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(32,"mat-dialog-actions",11),s.Xb(33,"button",12),s.fc("click",function(){return e.submitForm1()}),s.Tc(34," Update "),s.Wb(),s.Xb(35,"button",12),s.fc("click",function(){return e.goToClose()}),s.Tc(36,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanCreditForm))},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,E.b,g.c,g.r,g.i,m.c,R.b],styles:[""]}),Md),jd=((_d=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.apiService=e,this.data=n,this.fb=o,this.loader=r,this.taskSumService=i,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanValuationForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLoanValuationForm",value:function(t){var e,a,n,o,r,i,c,s,l,b;console.log("item",t),this.loanValuationForm=this.fb.group({loanAccountId:[this.loanaccountID],valuationDate:[t?null===(e=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===e?void 0:e.valuationDate:""],forcedSaleValue:[t?null===(a=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===a?void 0:a.forcedSaleValue:""],propertyAreaSize:[t?null===(n=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===n?void 0:n.propertyAreaSize:""],bankValuation:[t?null===(o=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===o?void 0:o.bankValuation:""],assetType:[t?null===(r=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===r?void 0:r.assetType:""],actualPropertyAreaSize:[t?null===(i=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===i?void 0:i.actualPropertyAreaSize:""],borrowersMktValOfAsset:[t?null===(c=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===c?void 0:c.borrowersMktValOfAsset:""],faceValOfAsset:[t?null===(s=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===s?void 0:s.faceValOfAsset:""],mktValOfAsset:[t?null===(l=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===l?void 0:l.mktValOfAsset:""],propertyAreaInUnits:[t?null===(b=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===b?void 0:b.propertyAreaInUnits:""]})}},{key:"getLoanCreditDetails",value:function(){var t=this;this.apiService.gettingValuationDetails(this.loanaccountID).subscribe(function(e){t.valuationOfAssetDetails=e,console.log("this.creditDetails::",t.valuationOfAssetDetails),t.buildLoanValuationForm(t.valuationOfAssetDetails),t.loanValuationForm.value.faceValOfAsset=t.valuationOfAssetDetails.faceValOfAsset,t.loanValuationForm.value.forcedSaleValue=t.valuationOfAssetDetails.forcedSaleValue,t.loanValuationForm.value.bankValuation=t.valuationOfAssetDetails.bankValuation,t.loanValuationForm.value.mktValOfAsset=t.valuationOfAssetDetails.mktValOfAsset,t.loanValuationForm.value.borrowersMktValOfAsset=t.valuationOfAssetDetails.borrowersMktValOfAsset,t.loanValuationForm.value.propertyAreaSize=t.valuationOfAssetDetails.propertyAreaSize,t.loanValuationForm.value.propertyAreaInUnits=t.valuationOfAssetDetails.propertyAreaInUnits,t.loanValuationForm.value.assetType=t.valuationOfAssetDetails.assetType,t.loanValuationForm.value.actualPropertyAreaSize=t.valuationOfAssetDetails.actualPropertyAreaSize},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.gettingValuationDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.valuationOfAssetDetails=e,console.log("this.accountDetails",t.valuationOfAssetDetails),console.log("form",t.loanValuationForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,bankValuation:this.loanValuationForm.value.bankValuation,assetType:this.loanValuationForm.value.assetType,propertyAreaSize:this.loanValuationForm.value.propertyAreaSize,actualPropertySizeArea:this.loanValuationForm.value.actualPropertySizeArea,borrowersMktValOfAsset:this.loanValuationForm.value.borrowersMktValOfAsset,faceValOfAsset:this.loanValuationForm.value.faceValOfAsset,mktValOfAsset:this.loanValuationForm.value.mktValOfAsset,propertyAreaInSize:this.loanValuationForm.value.propertyAreaInSize,propertyAreaInUnits:this.loanValuationForm.value.propertyAreaInUnits,valuationDate:this.loanValuationForm.value.valuationDate,forcedSaleValue:this.loanValuationForm.value.forcedSaleValue,actualPropertyAreaSize:this.loanValuationForm.value.actualPropertyAreaSize};console.log("payload",e),this.apiService.saveValuationDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||_d)(s.Rb(l.b),s.Rb(m.a),s.Rb(g.f),s.Rb(q.a),s.Rb(h.a),s.Rb(s.h),s.Rb(d.a),s.Rb(m.g),s.Rb(y.a))},_d.\u0275cmp=s.Lb({type:_d,selectors:[["app-loan-valuation-of-asset-update"]],decls:69,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","bankValuation","formControlName","bankValuation"],["matInput","","name","assetType","formControlName","assetType"],["matInput","","name","propertyAreaSize","formControlName","propertyAreaSize",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","actualPropertyAreaSize","formControlName","actualPropertyAreaSize",3,"keypress"],["matInput","","name","borrowersMktValOfAsset","formControlName","borrowersMktValOfAsset",3,"keypress"],["matInput","","name","faceValOfAsset","formControlName","faceValOfAsset",3,"keypress"],["matInput","","name","mktValOfAsset","formControlName","mktValOfAsset",3,"keypress"],["matInput","","name","propertyAreaInUnits","formControlName","propertyAreaInUnits",3,"keypress"],["matInput","","name","valuationDate","formControlName","valuationDate"],["matInput","","name","forcedSaleValue","formControlName","forcedSaleValue",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Credit Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Bank Valuation "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Asset Type"),s.Wb(),s.Xb(17,"mat-form-field",5),s.Sb(18,"input",7),s.Wb(),s.Wb(),s.Xb(19,"div",4),s.Xb(20,"mat-label"),s.Tc(21,"Property Size Area"),s.Wb(),s.Xb(22,"mat-form-field",5),s.Xb(23,"input",8),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",9),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"Actual Property Size Area"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Xb(29,"input",10),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"div",4),s.Xb(31,"mat-label"),s.Tc(32,"Borrower's Market Value "),s.Wb(),s.Xb(33,"mat-form-field",5),s.Xb(34,"input",11),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(35,"div",4),s.Xb(36,"mat-label"),s.Tc(37,"Face Value Of Asset"),s.Wb(),s.Xb(38,"mat-form-field",5),s.Xb(39,"input",12),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(40,"div",9),s.Xb(41,"div",4),s.Xb(42,"mat-label"),s.Tc(43,"Market Value of Asset"),s.Wb(),s.Xb(44,"mat-form-field",5),s.Xb(45,"input",13),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div",4),s.Xb(47,"mat-label"),s.Tc(48,"Property Area In Units "),s.Wb(),s.Xb(49,"mat-form-field",5),s.Xb(50,"input",14),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(51,"div",4),s.Xb(52,"mat-label"),s.Tc(53,"Valuation Date"),s.Wb(),s.Xb(54,"mat-form-field",5),s.Sb(55,"input",15),s.Wb(),s.Wb(),s.Wb(),s.Xb(56,"div",9),s.Xb(57,"div",4),s.Xb(58,"mat-label"),s.Tc(59,"Forced Sale Value"),s.Wb(),s.Xb(60,"mat-form-field",5),s.Xb(61,"input",16),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Sb(62,"div",4),s.Sb(63,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(64,"mat-dialog-actions",17),s.Xb(65,"button",18),s.fc("click",function(){return e.submitForm1()}),s.Tc(66," Update "),s.Wb(),s.Xb(67,"button",18),s.fc("click",function(){return e.goToClose()}),s.Tc(68,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanValuationForm))},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,E.b,g.c,g.r,g.i,m.c,R.b],styles:[""]}),_d),zd=((Ud=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.apiService=e,this.data=n,this.fb=o,this.loader=r,this.taskSumService=i,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.showEditOption=!1,this.isChecked=!0,this.disabled=!0,this.disabledToggle=!0,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLegalOpinionForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLegalOpinionForm",value:function(t){var e,a,n,o,r,i,c,s;console.log("item",t),this.loanLegalForm=this.fb.group({loanAccountId:[this.loanaccountID],opinion:[t?null===(e=null==t?void 0:t.loanLegalInfo)||void 0===e?void 0:e.opinion:""],lawyerName:[t?null===(a=null==t?void 0:t.loanLegalInfo)||void 0===a?void 0:a.lawyerName:""],isDecisionFavorable:[t?null===(n=null==t?void 0:t.loanLegalInfo)||void 0===n?void 0:n.isDecisionFavorable:""],mktValOfAsset:[t?null===(o=null==t?void 0:t.loanLegalInfo)||void 0===o?void 0:o.mktValOfAsset:""],opinionDate:[t?null===(r=null==t?void 0:t.loanLegalInfo)||void 0===r?void 0:r.opinionDate:""],validationDate:[t?null===(i=null==t?void 0:t.loanLegalInfo)||void 0===i?void 0:i.validationDate:""],description:[t?null===(c=null==t?void 0:t.loanLegalInfo)||void 0===c?void 0:c.description:""],assetAreaSize:[t?null===(s=null==t?void 0:t.loanLegalInfo)||void 0===s?void 0:s.assetAreaSize:""]})}},{key:"gettingLegalOpinionDetail",value:function(){var t=this;this.loader.open(),this.apiService.gettingLegalOpinionDetails(this.loanaccountID).subscribe(function(e){t.loader.close(),console.log(e),t.buildLegalOpinionForm(e)},function(e){t.loader.close()})}},{key:"toggle",value:function(t){console.log("value",t),"Not Favourable"==t?(this.disabled=!1,this.isChecked=!1,this.disabledToggle=!1):"Favourable"==t?(this.disabled=!0,this.isChecked=!0,this.disabledToggle=!0):this.isChecked=!1}},{key:"getDisbursementDetails",value:function(){var t=this;this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(function(e){t.legalDetails=e,console.log("this.legalDetails::",t.legalDetails),t.buildLegalOpinionForm(t.legalDetails),t.loanLegalForm.value.opinion=t.legalDetails.opinion,t.loanLegalForm.value.opinionDate=t.legalDetails.opinionDate,t.loanLegalForm.value.validationDate=t.legalDetails.validationDate,t.loanLegalForm.value.mktValOfAsset=t.legalDetails.mktValOfAsset,t.loanLegalForm.value.lawyerName=t.legalDetails.lawyerName,t.loanLegalForm.value.description=t.legalDetails.description,t.loanLegalForm.value.isDecisionFavorable=t.legalDetails.isDecisionFavorable,t.loanLegalForm.value.assetAreaSize=t.legalDetails.assetAreaSize},function(e){t.loader.close()})}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.gettingLegalOpinionDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.legalDetails=e,console.log("this.accountDetails",t.legalDetails),console.log("form",t.loanLegalForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,description:this.loanLegalForm.value.description,mktValOfAsset:this.loanLegalForm.value.mktValOfAsset,opinion:this.loanLegalForm.value.opinion,opinionDate:this.loanLegalForm.value.opinionDate,valuationDate:this.loanLegalForm.value.valuationDate,lawyerName:this.loanLegalForm.value.lawyerName,isDecisionFavorable:this.loanLegalForm.value.isDecisionFavorable,assetAreaSize:this.loanLegalForm.value.assetAreaSize};console.log("payload",e),this.apiService.saveLegalOpinion(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}}]),t}()).\u0275fac=function(t){return new(t||Ud)(s.Rb(l.b),s.Rb(m.a),s.Rb(g.f),s.Rb(q.a),s.Rb(h.a),s.Rb(s.h),s.Rb(d.a),s.Rb(m.g),s.Rb(y.a))},Ud.\u0275cmp=s.Lb({type:Ud,selectors:[["app-loan-legal-opinion-updates"]],decls:61,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","opinion","formControlName","opinion"],["value","Favorable"],["value","Non Favorable"],["matInput","","name","description","formControlName","description"],["matInput","","name","assetAreaSize","formControlName","assetAreaSize",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","lawyerName","formControlName","lawyerName"],["matInput","","name","mktValOfAsset","formControlName","mktValOfAsset",3,"keypress"],["matInput","","name","opinionDate","formControlName","opinionDate"],["matInput","","name","valuationDate","formControlName","isDecisionFavorable"],["matInput","","name","valuationDate","formControlName","valuationDate",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Legal Opinion Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Opinion "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"mat-select",6),s.Xb(14,"mat-option",7),s.Tc(15,"Favorable"),s.Wb(),s.Xb(16,"mat-option",8),s.Tc(17,"Non Favorable "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"div",4),s.Xb(19,"mat-label"),s.Tc(20,"Description"),s.Wb(),s.Xb(21,"mat-form-field",5),s.Sb(22,"input",9),s.Wb(),s.Wb(),s.Xb(23,"div",4),s.Xb(24,"mat-label"),s.Tc(25,"Asset Area Size"),s.Wb(),s.Xb(26,"mat-form-field",5),s.Xb(27,"input",10),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"div",11),s.Xb(29,"div",4),s.Xb(30,"mat-label"),s.Tc(31,"Lawyer Name"),s.Wb(),s.Xb(32,"mat-form-field",5),s.Sb(33,"input",12),s.Wb(),s.Wb(),s.Xb(34,"div",4),s.Xb(35,"mat-label"),s.Tc(36,"Market Value of Asset "),s.Wb(),s.Xb(37,"mat-form-field",5),s.Xb(38,"input",13),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",4),s.Xb(40,"mat-label"),s.Tc(41,"Opinion Date"),s.Wb(),s.Xb(42,"mat-form-field",5),s.Sb(43,"input",14),s.Wb(),s.Wb(),s.Wb(),s.Xb(44,"div",11),s.Xb(45,"div",4),s.Xb(46,"mat-label"),s.Tc(47,"is Decision Favorable?"),s.Wb(),s.Xb(48,"mat-form-field",5),s.Sb(49,"input",15),s.Wb(),s.Wb(),s.Xb(50,"div",4),s.Xb(51,"mat-label"),s.Tc(52,"Valuation Date"),s.Wb(),s.Xb(53,"mat-form-field",5),s.Xb(54,"input",16),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Sb(55,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(56,"mat-dialog-actions",17),s.Xb(57,"button",18),s.fc("click",function(){return e.submitForm1()}),s.Tc(58," Update "),s.Wb(),s.Xb(59,"button",18),s.fc("click",function(){return e.goToClose()}),s.Tc(60,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanLegalForm))},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,C.a,g.r,g.i,D.n,E.b,g.c,m.c,R.b],styles:[""]}),Ud);function qd(t,e){if(1&t&&(s.Xb(0,"mat-option",21),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Jd(t,e){if(1&t&&(s.Xb(0,"mat-option",21),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function Kd(t,e){if(1&t&&(s.Xb(0,"mat-option",21),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function $d(t,e){if(1&t&&(s.Xb(0,"mat-option",21),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function Hd(t,e){if(1&t&&(s.Xb(0,"mat-option",21),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}var Yd,Zd,Qd=((Zd=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.loader=e,this.apiService=n,this.data=o,this.fb=r,this.ls=i,this.dialogRef=c,this.snack=s,this.taskSumService=l,this.cdr=b,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildDisbursementForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildDisbursementForm",value:function(t){var e,a,n,o,r,i,c,s,l,b;console.log("item",t),this.loanAssessmentUpdate=this.fb.group({loanAccountId:[this.loanaccountID],loanAmountRecommendation:[t?null===(e=null==t?void 0:t.loanAssessmentInfo)||void 0===e?void 0:e.loanAmountRecommendation:""],approvedLoanAmount:[t?null===(a=null==t?void 0:t.loanAssessmentInfo)||void 0===a?void 0:a.approvedLoanAmount:""],systemRecommendation:[t?null===(n=null==t?void 0:t.loanAssessmentInfo)||void 0===n?void 0:n.systemRecommendation:""],userRecommendation:[t?null===(o=null==t?void 0:t.loanAssessmentInfo)||void 0===o?void 0:o.userRecommendation:""],rateOfInterest:[t?null===(r=null==t?void 0:t.loanAssessmentInfo)||void 0===r?void 0:r.rateOfInterest:""],requestedLoanAmount:[t?null===(i=null==t?void 0:t.loanAssessmentInfo)||void 0===i?void 0:i.requestedLoanAmount:""],loanTenure:[t?null===(c=null==t?void 0:t.loanAssessmentInfo)||void 0===c?void 0:c.loanTenure:""],day:[t?null===(s=null==t?void 0:t.loanAssessmentInfo)||void 0===s?void 0:s.loanTenure.split("-")[2]:""],month:[t?null===(l=null==t?void 0:t.loanAssessmentInfo)||void 0===l?void 0:l.loanTenure.split("-")[1]:""],year:[t?null===(b=null==t?void 0:t.loanAssessmentInfo)||void 0===b?void 0:b.loanTenure.split("-")[0]:""]})}},{key:"getDisbursementDetails",value:function(){var t=this;this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(function(e){t.assessmentDetails=e,console.log("this.assessmentDetails::",t.assessmentDetails),t.buildDisbursementForm(t.disbursementDetails),t.loanAssessmentUpdate.value.requestedLoanAmount=t.assessmentDetails.requestedLoanAmount,t.loanAssessmentUpdate.value.rateOfInterest=t.assessmentDetails.rateOfInterest,t.loanAssessmentUpdate.value.userRecommendation=t.assessmentDetails.userRecommendation,t.loanAssessmentUpdate.value.systemRecommendation=t.assessmentDetails.systemRecommendation,t.loanAssessmentUpdate.value.loanTenure=t.assessmentDetails.loanTenure,t.loanAssessmentUpdate.value.approvedLoanAmount=t.assessmentDetails.approvedLoanAmount,t.loanAssessmentUpdate.value.loanAmountRecommendation=t.assessmentDetails.loanAmountRecommendation},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.assessmentDetails=e,console.log("this.assessmentDetails",t.assessmentDetails),console.log("form",t.loanAssessmentUpdate.value)})}},{key:"submitForm1",value:function(){var t=this,e=this.loanAssessmentUpdate.value.year+"-"+this.loanAssessmentUpdate.value.month+"-"+this.loanAssessmentUpdate.value.day;this.loanAssessmentUpdate.get("loanTenure").setValue(e),delete this.loanAssessmentUpdate.value.year,delete this.loanAssessmentUpdate.value.month,delete this.loanAssessmentUpdate.value.day;var a={loanAccountId:this.data.loanAccountId,rateOfInterest:this.loanAssessmentUpdate.value.rateOfInterest,requestedLoanAmount:this.loanAssessmentUpdate.value.requestedLoanAmount,loanTenure:this.loanAssessmentUpdate.value.loanTenure,userRecommendation:this.loanAssessmentUpdate.value.userRecommendation,systemRecommendation:this.loanAssessmentUpdate.value.systemRecommendation,approvedLoanAmount:this.loanAssessmentUpdate.value.approvedLoanAmount,loanAmountRecommendation:this.loanAssessmentUpdate.value.loanAmountRecommendation};console.log("payload",a),this.apiService.updateAssessmentDetails(a).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||Zd)(s.Rb(q.a),s.Rb(l.b),s.Rb(m.a),s.Rb(g.f),s.Rb(d.a),s.Rb(m.g),s.Rb(y.a),s.Rb(h.a),s.Rb(s.h))},Zd.\u0275cmp=s.Lb({type:Zd,selectors:[["app-loan-assessment-details-update"]],decls:67,vars:6,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","approvedLoanAmount","formControlName","approvedLoanAmount",3,"keypress"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["fxLayout","row wrap"],["formControlName","systemRecommendation","placeholder","Recommended for Approval"],["formControlName","userRecommendation","placeholder","User Recommendation"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",3,"keypress"],["matInput","","name","requestedLoanAmount","formControlName","requestedLoanAmount",1,"alignment",3,"keypress"],["matInput","","name","loanAmountRecommendation","formControlName","loanAmountRecommendation",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Assessment Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Approved Loan Amount "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Xb(13,"input",6),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Loan Tenure"),s.Wb(),s.Xb(17,"div",7),s.Xb(18,"div",8),s.Xb(19,"div"),s.Xb(20,"mat-form-field",5),s.Xb(21,"mat-select",9),s.Rc(22,qd,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div"),s.Xb(24,"mat-form-field",5),s.Xb(25,"mat-select",11),s.Rc(26,Jd,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"div"),s.Xb(28,"mat-form-field",5),s.Xb(29,"mat-select",12),s.Rc(30,Kd,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(31,"div",4),s.Wb(),s.Xb(32,"div",13),s.Xb(33,"div",4),s.Xb(34,"mat-label"),s.Tc(35,"System Recommendation "),s.Wb(),s.Xb(36,"mat-form-field",5),s.Xb(37,"mat-select",14),s.Rc(38,$d,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",4),s.Xb(40,"mat-label"),s.Tc(41,"User Recommendation"),s.Wb(),s.Xb(42,"mat-form-field",5),s.Xb(43,"mat-select",15),s.Rc(44,Hd,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(45,"div",4),s.Xb(46,"mat-label"),s.Tc(47,"Rate Of Interest"),s.Wb(),s.Xb(48,"mat-form-field",5),s.Xb(49,"input",16),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",13),s.Xb(51,"div",4),s.Xb(52,"mat-label"),s.Tc(53,"Requested Loan Amount"),s.Wb(),s.Xb(54,"mat-form-field",5),s.Xb(55,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(56,"div",4),s.Xb(57,"mat-label"),s.Tc(58,"Loan Amount Recommended"),s.Wb(),s.Xb(59,"mat-form-field",5),s.Xb(60,"input",18),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Sb(61,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(62,"mat-dialog-actions",19),s.Xb(63,"button",20),s.fc("click",function(){return e.submitForm1()}),s.Tc(64," Update "),s.Wb(),s.Xb(65,"button",20),s.fc("click",function(){return e.goToClose()}),s.Tc(66,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanAssessmentUpdate),s.Eb(15),s.rc("ngForOf",e.years),s.Eb(4),s.rc("ngForOf",e.months),s.Eb(4),s.rc("ngForOf",e.days),s.Eb(8),s.rc("ngForOf",e.arraySystemRecommendation),s.Eb(6),s.rc("ngForOf",e.arrayUserRecommendation))},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,E.b,g.c,g.r,g.i,W.f,W.d,C.a,i.m,m.c,R.b,D.n],styles:[""]}),Zd),tm=((Yd=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.apiService=e,this.data=n,this.fb=o,this.loader=r,this.taskSumService=i,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanOfferIssueForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLoanOfferIssueForm",value:function(t){var e,a,n,o,r,i,c,s,l,b;console.log("item",t),this.loanOfferIssueForm=this.fb.group({loanAccountId:[this.loanaccountID],applicantName:[t?null===(e=null==t?void 0:t.loanOfferIssueInfo)||void 0===e?void 0:e.applicantName:""],interest:[t?null===(a=null==t?void 0:t.loanOfferIssueInfo)||void 0===a?void 0:a.interest:""],rateOfInterest:[t?null===(n=null==t?void 0:t.loanOfferIssueInfo)||void 0===n?void 0:n.rateOfInterest:""],principal:[t?null===(o=null==t?void 0:t.loanOfferIssueInfo)||void 0===o?void 0:o.principal:""],installmentType:[t?null===(r=null==t?void 0:t.loanOfferIssueInfo)||void 0===r?void 0:r.installmentType:""],installmentFrequency:[t?null===(i=null==t?void 0:t.loanOfferIssueInfo)||void 0===i?void 0:i.installmentFrequency:""],approvedLoanAmount:[t?null===(c=null==t?void 0:t.loanOfferIssueInfo)||void 0===c?void 0:c.approvedLoanAmount:""],generateOffer:[t?null===(s=null==t?void 0:t.loanOfferIssueInfo)||void 0===s?void 0:s.generateOffer:""],charges:[t?null===(l=null==t?void 0:t.loanOfferIssueInfo)||void 0===l?void 0:l.charges:""],loanTenure:[t?null===(b=null==t?void 0:t.loanOfferIssueInfo)||void 0===b?void 0:b.loanTenure:""]})}},{key:"getLoanOfferIssue",value:function(){var t=this;this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(function(e){t.offerIssueDetails=e,console.log("this.offerIssueDetails::",t.offerIssueDetails),t.buildLoanOfferIssueForm(t.offerIssueDetails),t.loanOfferIssueForm.value.applicantName=t.offerIssueDetails.applicantName,t.loanOfferIssueForm.value.rateOfInterest=t.offerIssueDetails.rateOfInterest,t.loanOfferIssueForm.value.installmentType=t.offerIssueDetails.installmentType,t.loanOfferIssueForm.value.installmentFrequency=t.offerIssueDetails.installmentFrequency,t.loanOfferIssueForm.value.generateOffer=t.offerIssueDetails.generateOffer,t.loanOfferIssueForm.value.charges=t.offerIssueDetails.charges,t.loanOfferIssueForm.value.loanTenure=t.offerIssueDetails.loanTenure,t.loanOfferIssueForm.value.principal=t.offerIssueDetails.principal,t.loanOfferIssueForm.value.interest=t.offerIssueDetails.interest,t.loanOfferIssueForm.value.offerIssueDate=t.offerIssueDetails.offerIssueDate,t.loanOfferIssueForm.value.approvedLoanAmount=t.offerIssueDetails.approvedLoanAmount},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.offerIssueDetails=e,console.log("this.accountDetails",t.offerIssueDetails),console.log("form",t.loanOfferIssueForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,applicantName:this.loanOfferIssueForm.value.applicantName,charges:this.loanOfferIssueForm.value.charges,rateOfInterest:this.loanOfferIssueForm.value.rateOfInterest,installmentType:this.loanOfferIssueForm.value.installmentType,installmentFrequency:this.loanOfferIssueForm.value.installmentFrequency,generateOffer:this.loanOfferIssueForm.value.generateOffer,loanTenure:this.loanOfferIssueForm.value.loanTenure,approvedLoanAmount:this.loanOfferIssueForm.value.approvedLoanAmount,principal:this.loanOfferIssueForm.value.principal,interest:this.loanOfferIssueForm.value.interest,offerIssueDate:this.loanOfferIssueForm.value.offerIssueDate};console.log("payload",e),this.apiService.upsertOfferIssue(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||Yd)(s.Rb(l.b),s.Rb(m.a),s.Rb(g.f),s.Rb(q.a),s.Rb(h.a),s.Rb(s.h),s.Rb(d.a),s.Rb(m.g),s.Rb(y.a))},Yd.\u0275cmp=s.Lb({type:Yd,selectors:[["app-loan-offer-issue-details-update"]],decls:81,vars:3,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],["matInput","","name","approvedLoanAmount","formControlName","approvedLoanAmount","maxlength","6",3,"keypress"],["matInput","","name","charges","formControlName","charges","maxlength","6",3,"keypress"],["fxLayout","row wrap"],["placeholder","Generate Offer","formControlName","generateOffer"],["value",""],["value","With Schedule"],["value","Without Schedule"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",3,"keypress"],["matInput","","name","installmentFrequency","formControlName","installmentFrequency",3,"keypress"],["matInput","","name","installmentType","formControlName","installmentType",3,"keypress"],["matInput","","name","interest","formControlName","interest",3,"keypress"],["matInput","","name","loanTenure","formControlName","loanTenure","maxlength","10",3,"keypress"],["matInput","","name","principal","formControlName","principal","maxlength","10",3,"keypress"],["matInput","","name","offerIssueDate","formControlName","offerIssueDate",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDOB",""],["align","end"],["mat-button","",3,"click"]],template:function(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Offer Issue Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Applicant Name "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Approved Loan Amount"),s.Wb(),s.Xb(17,"mat-form-field",5),s.Xb(18,"input",7),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",4),s.Xb(20,"mat-label"),s.Tc(21,"Charges"),s.Wb(),s.Xb(22,"mat-form-field",5),s.Xb(23,"input",8),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(24,"div",9),s.Xb(25,"div",4),s.Xb(26,"mat-label"),s.Tc(27,"Generate Offer"),s.Wb(),s.Xb(28,"mat-form-field",5),s.Xb(29,"mat-select",10),s.Xb(30,"mat-option",11),s.Tc(31,"Select"),s.Wb(),s.Xb(32,"mat-option",12),s.Tc(33,"With Schedule"),s.Wb(),s.Xb(34,"mat-option",13),s.Tc(35,"Without Schedule "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",4),s.Xb(37,"mat-label"),s.Tc(38,"Rate Of Interest "),s.Wb(),s.Xb(39,"mat-form-field",5),s.Xb(40,"input",14),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",4),s.Xb(42,"mat-label"),s.Tc(43,"Installment frequency"),s.Wb(),s.Xb(44,"mat-form-field",5),s.Xb(45,"input",15),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(46,"div",9),s.Xb(47,"div",4),s.Xb(48,"mat-label"),s.Tc(49,"Installment Type"),s.Wb(),s.Xb(50,"mat-form-field",5),s.Xb(51,"input",16),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(52,"div",4),s.Xb(53,"mat-label"),s.Tc(54,"Interest"),s.Wb(),s.Xb(55,"mat-form-field",5),s.Xb(56,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(57,"div",4),s.Xb(58,"mat-label"),s.Tc(59,"Loan Tenure"),s.Wb(),s.Xb(60,"mat-form-field",5),s.Xb(61,"input",18),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(62,"div",9),s.Xb(63,"div",4),s.Xb(64,"mat-label"),s.Tc(65,"Principal"),s.Wb(),s.Xb(66,"mat-form-field",5),s.Xb(67,"input",19),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(68,"div",4),s.Xb(69,"mat-label"),s.Tc(70,"Offer Issue Date"),s.Wb(),s.Xb(71,"mat-form-field",5),s.Sb(72,"input",20),s.Sb(73,"mat-datepicker-toggle",21),s.Sb(74,"mat-datepicker",null,22),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(76,"mat-dialog-actions",23),s.Xb(77,"button",24),s.fc("click",function(){return e.submitForm1()}),s.Tc(78," Update "),s.Wb(),s.Xb(79,"button",24),s.fc("click",function(){return e.goToClose()}),s.Tc(80,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.Dc(75);s.Eb(7),s.rc("formGroup",e.loanOfferIssueForm),s.Eb(65),s.rc("matDatepicker",a),s.Eb(1),s.rc("for",a)}},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,E.b,g.c,g.r,g.i,g.m,C.a,D.n,x.e,x.g,T.j,x.d,m.c,R.b],styles:[""]}),Yd);function em(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function am(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function nm(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Uc(a)}}function om(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a.branchName),s.Eb(1),s.Uc(a.branchName)}}function rm(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}function im(t,e){if(1&t&&(s.Xb(0,"mat-option",24),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.rc("value",a),s.Eb(1),s.Vc(" ",a," ")}}var cm,sm=((cm=function(){function t(e,n,o,r,i,c,s,l,b){a(this,t),this.loader=e,this.apiService=n,this.data=o,this.fb=r,this.ls=i,this.dialogRef=c,this.cdr=s,this.taskSumService=l,this.snack=b,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return o(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,this.buildLoanApprovalForm(this.data),this.getLoanDetails(),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID)}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"getDataOnLoad",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,o){function r(t){try{c(a.next(t))}catch(e){o(e)}}function i(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(r,i)}c((a=a.apply(t,[])).next())});var t,e,a}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"buildLoanApprovalForm",value:function(t){var e,a,n,o,r,i,c,s,l,b,u,d,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanApprovalForm=this.fb.group({loanAccountId:[this.loanaccountID],productName:[t?null===(e=null==t?void 0:t.loanApprovalInfo)||void 0===e?void 0:e.productName:""],accountBranch:[t?null===(a=null==t?void 0:t.loanApprovalInfo)||void 0===a?void 0:a.accountBranch:""],accountType:[t?null===(n=null==t?void 0:t.loanApprovalInfo)||void 0===n?void 0:n.accountType:""],applicantName:[t?null===(o=null==t?void 0:t.loanApprovalInfo)||void 0===o?void 0:o.applicantName:""],approvedLoanAccount:[t?null===(r=null==t?void 0:t.loanApprovalInfo)||void 0===r?void 0:r.approvedLoanAccount:""],userRecommendation:[t?null===(i=null==t?void 0:t.loanApprovalInfo)||void 0===i?void 0:i.userRecommendation:""],rateOfInterest:[t?null===(c=null==t?void 0:t.loanApprovalInfo)||void 0===c?void 0:c.rateOfInterest:""],margin:[t?null===(s=null==t?void 0:t.loanApprovalInfo)||void 0===s?void 0:s.margin:""],loanTenure:[t?null===(l=null==t?void 0:t.loanApprovalInfo)||void 0===l?void 0:l.loanTenure:""],effectiveRate:[t?null===(b=null==t?void 0:t.loanApprovalInfo)||void 0===b?void 0:b.effectiveRate:""],day:[t?null===(u=null==t?void 0:t.loanApprovalInfo)||void 0===u?void 0:u.loanTenure.split("-")[2]:""],month:[t?null===(d=null==t?void 0:t.loanApprovalInfo)||void 0===d?void 0:d.loanTenure.split("-")[1]:""],year:[t?null===(m=null==t?void 0:t.loanApprovalInfo)||void 0===m?void 0:m.loanTenure.split("-")[0]:""]})}},{key:"getAccountType",value:function(t){var e=this;console.log("State -- ",t),this.apiService.getAccount(t).subscribe(function(t){console.log("data.accountType",t),e.accountType=t.accountTypeName,console.log("this.accountType",e.accountType),e.loanApprovalForm.get("accountType").setValue(t.accountTypeName)})}},{key:"getBusinessProductDetails",value:function(t){var e=this;this.apiService.getBusinessProductName(t).subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.screenArray=e,t.screenArrayData=e,0==t.screenArray.length&&t.screenArray.push(t.branchName),console.log("this.branchName::",t.branchName,t.screenArray),t.currencyData=t.screenArray.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData)})}},{key:"onChangeBranch",value:function(t){this.currencyData=this.screenArray.find(function(e){return e.branchName==t.value}),null==this.currencyData&&null==this.currencyData||this.loanApprovalForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}},{key:"submitForm1",value:function(){var t=this,e=this.loanApprovalForm.value.year+"-"+this.loanApprovalForm.value.month+"-"+this.loanApprovalForm.value.day;this.loanApprovalForm.get("loanTenure").setValue(e),delete this.loanApprovalForm.value.year,delete this.loanApprovalForm.value.month,delete this.loanApprovalForm.value.day;var a={loanAccountId:this.data.loanAccountId,productName:this.loanApprovalForm.value.productName,accountBranch:this.loanApprovalForm.value.accountBranch,accountType:this.loanApprovalForm.value.accountType,applicantName:this.loanApprovalForm.value.applicantName,margin:this.loanApprovalForm.value.margin,rateOfInterest:this.loanApprovalForm.value.rateOfInterest,userRecommendation:this.loanApprovalForm.value.userRecommendation,effectiveRate:this.loanApprovalForm.value.effectiveRate,loanTenure:this.loanApprovalForm.value.loanTenure,accountCurrency:this.loanApprovalForm.value.accountCurrency,approvedLoanAccount:this.loanApprovalForm.value.approvedLoanAccount};console.log("payload",a),this.apiService.saveLoanDetails(a).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.productName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getLoanDetails",value:function(){var t=this;console.log("get loan details"),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.buildLoanApprovalForm(t.loanAccountDetails),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanApprovalForm.value),t.loanApprovalForm.controls.productName.setValue(t.loanAccountDetails.productName),t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanApprovalForm.value.accountType)),t.ls.setItem("accountType",t.loanApprovalForm.value.accountType),t.loanApprovalForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanApprovalForm.value.userRecommendation=t.loanAccountDetails.userRecommendation,t.loanApprovalForm.value.loanTenure=t.loanAccountDetails.loanTenure,t.loanApprovalForm.value.applicantName=t.loanAccountDetails.applicantName,t.loanApprovalForm.value.margin=t.loanAccountDetails.margin,t.loanApprovalForm.value.approvedLoanAccount=t.loanAccountDetails.approvedLoanAccount,t.loanApprovalForm.value.effectiveRate=t.loanAccountDetails.effectiveRate,t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,t.loanApprovalForm.value.productName=t.loanAccountDetails.productName,t.loanApprovalForm.value.rateOfInterest=t.loanAccountDetails.rateOfInterest})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.buildLoanApprovalForm(t.loanAccountDetails),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanApprovalForm.value),t.loanApprovalForm.controls.productName.setValue(t.loanAccountDetails.productName),t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanApprovalForm.value.accountType)),t.ls.setItem("accountType",t.loanApprovalForm.value.accountType),t.loanApprovalForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanApprovalForm.value.userRecommendation=t.loanAccountDetails.userRecommendation,t.loanApprovalForm.value.loanTenure=t.loanAccountDetails.loanTenure,t.loanApprovalForm.value.applicantName=t.loanAccountDetails.applicantName,t.loanApprovalForm.value.margin=t.loanAccountDetails.margin,t.loanApprovalForm.value.approvedLoanAccount=t.loanAccountDetails.approvedLoanAccount,t.loanApprovalForm.value.effectiveRate=t.loanAccountDetails.effectiveRate,t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,t.loanApprovalForm.value.productName=t.loanAccountDetails.productName,t.loanApprovalForm.value.rateOfInterest=t.loanAccountDetails.rateOfInterest})}}]),t}()).\u0275fac=function(t){return new(t||cm)(s.Rb(q.a),s.Rb(l.b),s.Rb(m.a),s.Rb(g.f),s.Rb(d.a),s.Rb(m.g),s.Rb(s.h),s.Rb(h.a),s.Rb(y.a))},cm.\u0275cmp=s.Lb({type:cm,selectors:[["app-loan-approval-details-update"]],decls:84,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["fxLayout","row wrap"],["name","mod","formControlName","accountBranch",3,"selectionChange"],["matInput","","name","accountType","formControlName","accountType",1,"alignment",3,"readonly"],["name","account_branch","formControlName","productName",3,"selectionChange"],["matInput","","name","approvedLoanAccount","formControlName","approvedLoanAccount",1,"alignment",3,"keypress"],["matInput","","name","effectiveRate","formControlName","effectiveRate",1,"alignment",3,"keypress"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",1,"alignment",3,"keypress"],["matInput","","name","margin","formControlName","margin",1,"alignment",3,"keypress"],["formControlName","userRecommendation","placeholder","User Recommendation"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Xb(0,"div"),s.Xb(1,"mat-dialog-content"),s.Xb(2,"div",0),s.Xb(3,"mat-icon",1),s.fc("click",function(){return e.goToClose()}),s.Tc(4,"close"),s.Wb(),s.Wb(),s.Xb(5,"h1"),s.Tc(6,"Loan Approval Details"),s.Wb(),s.Xb(7,"form",2),s.Xb(8,"div",3),s.Xb(9,"div",4),s.Xb(10,"mat-label"),s.Tc(11,"Applicant Name "),s.Wb(),s.Xb(12,"mat-form-field",5),s.Sb(13,"input",6),s.Wb(),s.Wb(),s.Xb(14,"div",4),s.Xb(15,"mat-label"),s.Tc(16,"Loan Tenure"),s.Wb(),s.Xb(17,"div",7),s.Xb(18,"div",8),s.Xb(19,"div"),s.Xb(20,"mat-form-field",5),s.Xb(21,"mat-select",9),s.Rc(22,em,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div"),s.Xb(24,"mat-form-field",5),s.Xb(25,"mat-select",11),s.Rc(26,am,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"div"),s.Xb(28,"mat-form-field",5),s.Xb(29,"mat-select",12),s.Rc(30,nm,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(31,"div",4),s.Wb(),s.Xb(32,"div",13),s.Xb(33,"div",4),s.Xb(34,"mat-label"),s.Tc(35,"Account Branch "),s.Wb(),s.Xb(36,"mat-form-field",5),s.Xb(37,"mat-select",14),s.fc("selectionChange",function(t){return e.onChangeBranch(t)}),s.Rc(38,om,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div",4),s.Xb(40,"mat-label"),s.Tc(41,"Account Type"),s.Wb(),s.Xb(42,"mat-form-field",5),s.Sb(43,"input",15),s.Wb(),s.Wb(),s.Xb(44,"div",4),s.Xb(45,"mat-label"),s.Tc(46,"Product Name"),s.Wb(),s.Xb(47,"mat-form-field",5),s.Xb(48,"mat-select",16),s.fc("selectionChange",function(t){return e.getAccountType(t.value)}),s.Rc(49,rm,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(50,"div",13),s.Xb(51,"div",4),s.Xb(52,"mat-label"),s.Tc(53,"Approved Loan Amount"),s.Wb(),s.Xb(54,"mat-form-field",5),s.Xb(55,"input",17),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(56,"div",4),s.Xb(57,"mat-label"),s.Tc(58,"Effective Rate"),s.Wb(),s.Xb(59,"mat-form-field",5),s.Xb(60,"input",18),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(61,"div",4),s.Xb(62,"mat-label"),s.Tc(63,"Rate Of Interest"),s.Wb(),s.Xb(64,"mat-form-field",5),s.Xb(65,"input",19),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(66,"div",13),s.Xb(67,"div",4),s.Xb(68,"mat-label"),s.Tc(69,"Margin"),s.Wb(),s.Xb(70,"mat-form-field",5),s.Xb(71,"input",20),s.fc("keypress",function(t){return e._keyPress(t)}),s.Wb(),s.Wb(),s.Wb(),s.Xb(72,"div",4),s.Xb(73,"mat-label"),s.Tc(74,"User Recommendation"),s.Wb(),s.Xb(75,"mat-form-field",5),s.Xb(76,"mat-select",21),s.Rc(77,im,2,2,"mat-option",10),s.Wb(),s.Wb(),s.Wb(),s.Sb(78,"div",4),s.Wb(),s.Wb(),s.Wb(),s.Xb(79,"mat-dialog-actions",22),s.Xb(80,"button",23),s.fc("click",function(){return e.submitForm1()}),s.Tc(81," Update "),s.Wb(),s.Xb(82,"button",23),s.fc("click",function(){return e.goToClose()}),s.Tc(83,"Close"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(7),s.rc("formGroup",e.loanApprovalForm),s.Eb(15),s.rc("ngForOf",e.years),s.Eb(4),s.rc("ngForOf",e.months),s.Eb(4),s.rc("ngForOf",e.days),s.Eb(8),s.rc("ngForOf",e.screenArray),s.Eb(5),s.rc("readonly",!0),s.Eb(6),s.rc("ngForOf",e.arrayAccountBranch),s.Eb(28),s.rc("ngForOf",e.arrayUserRecommendation))},directives:[m.e,W.e,X.a,g.C,g.s,g.j,W.b,T.g,T.c,E.b,g.c,g.r,g.i,W.f,W.d,C.a,i.m,m.c,R.b,D.n],styles:[""]}),cm);function lm(t,e){if(1&t&&(s.Xb(0,"span",71),s.Tc(1),s.Wb()),2&t){var a=e.$implicit;s.Eb(1),s.Uc(a)}}function bm(t,e){if(1&t&&(s.Xb(0,"div",72),s.Xb(1,"h1",73),s.Tc(2),s.kc(3,"slice"),s.kc(4,"uppercase"),s.kc(5,"slice"),s.kc(6,"uppercase"),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Oc("background",a.customerColorCode),s.Eb(2),s.Wc("",s.nc(3,4,s.lc(4,8,a.loanInfo.firstName),0,1),"",s.nc(5,10,s.lc(6,14,a.loanInfo.lastName),0,1),"")}}function um(t,e){if(1&t&&s.Sb(0,"img",75),2&t){var a=s.jc(2);s.rc("src",a.imageUrl,s.Jc)}}function dm(t,e){if(1&t&&(s.Xb(0,"div",72),s.Rc(1,um,1,1,"img",74),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngIf","not_available"!=a.imageUrl)}}function mm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().onEdit("loanAccount_array")}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function fm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().editAsset("assest_array")}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function pm(t,e){if(1&t&&(s.Xb(0,"div",88),s.Xb(1,"small",89),s.Tc(2),s.Wb(),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(2),s.Vc("CIF #",null==a?null:a.cifNumber,"")}}function hm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",90),s.fc("click",function(){return s.Hc(a),s.jc(2).goTo360Dashboard()}),s.Xb(1,"small",89),s.Tc(2),s.Wb(),s.Wb()}if(2&t){var n=s.jc().$implicit;s.Eb(2),s.Vc("CIF #",null==n?null:n.cifNumber,"")}}function gm(t,e){if(1&t&&(s.Xb(0,"div",62),s.Xb(1,"div",38),s.Xb(2,"mat-card"),s.Xb(3,"div",62),s.Xb(4,"div",77),s.Sb(5,"img",78),s.Wb(),s.Xb(6,"div",79),s.Xb(7,"div",80),s.Xb(8,"div"),s.Xb(9,"div",62),s.Xb(10,"div",81),s.Xb(11,"h2",82),s.Xb(12,"span"),s.Tc(13),s.Wb(),s.Tc(14,"\xa0 "),s.Xb(15,"span"),s.Tc(16),s.Wb(),s.Tc(17,"\xa0 "),s.Xb(18,"span"),s.Tc(19),s.Wb(),s.Wb(),s.Wb(),s.Xb(20,"div",83),s.Tc(21,"|"),s.Wb(),s.Xb(22,"div",81),s.Xb(23,"small",48),s.Tc(24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",62),s.Rc(26,pm,3,1,"div",84),s.Rc(27,hm,3,1,"div",85),s.Wb(),s.Sb(28,"br"),s.Xb(29,"div",86),s.Xb(30,"div",87),s.Xb(31,"small",47),s.Tc(32,"Date of Birth"),s.Wb(),s.Sb(33,"br"),s.Xb(34,"p",48),s.Tc(35),s.Wb(),s.Wb(),s.Xb(36,"div",87),s.Xb(37,"small",47),s.Tc(38,"Email ID"),s.Wb(),s.Sb(39,"br"),s.Xb(40,"p",48),s.Tc(41),s.Wb(),s.Wb(),s.Xb(42,"div",87),s.Xb(43,"small",47),s.Tc(44,"Mobile Number"),s.Wb(),s.Sb(45,"br"),s.Xb(46,"p",48),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"div",87),s.Xb(49,"small",47),s.Tc(50,"Landline Number"),s.Wb(),s.Sb(51,"br"),s.Xb(52,"p",48),s.Tc(53),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=s.jc();s.Eb(13),s.Uc(null==a?null:a.firstName),s.Eb(3),s.Uc(null==a?null:a.middleName),s.Eb(3),s.Uc(null==a?null:a.lastName),s.Eb(5),s.Vc("Last Updated On ",null!=a&&a.modifiedTime?a.modifiedTime:a.createdTime,""),s.Eb(2),s.rc("ngIf",!n.isApprovedSreen),s.Eb(1),s.rc("ngIf",n.isApprovedSreen),s.Eb(8),s.Uc(null==a?null:a.dateOfBirth),s.Eb(6),s.Uc(null==a?null:a.primaryEmailAdress),s.Eb(6),s.Uc(null==a?null:a.phoneNumber),s.Eb(6),s.Uc(null==a?null:a.landlineNumber)}}function vm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().editMandate()}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function ym(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",91),s.Xb(1,"mat-accordion",92),s.Xb(2,"mat-expansion-panel",93),s.fc("opened",function(){return s.Hc(a),s.jc().panelOpenState=!0})("closed",function(){return s.Hc(a),s.jc().panelOpenState=!1}),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Tc(5),s.Wb(),s.Wb(),s.Xb(6,"div"),s.Xb(7,"div",52),s.Vb(8),s.Xb(9,"div",53),s.Xb(10,"mat-hint",35),s.Tc(11,"Applicant Name"),s.Wb(),s.Sb(12,"br"),s.Xb(13,"mat-hint",36),s.Tc(14),s.Wb(),s.Wb(),s.Xb(15,"div",53),s.Xb(16,"mat-hint",35),s.Tc(17,"Collateral Share Percentage"),s.Wb(),s.Sb(18,"br"),s.Xb(19,"mat-hint",36),s.Tc(20),s.Wb(),s.Wb(),s.Xb(21,"div",53),s.Xb(22,"mat-hint",35),s.Tc(23,"Repayment Share Percentage"),s.Wb(),s.Sb(24,"br"),s.Xb(25,"mat-hint",36),s.Tc(26),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index;s.Eb(5),s.Vc(" Mandate ",o+1," "),s.Eb(9),s.Uc(n.applicantName),s.Eb(6),s.Uc(n.collateralShare),s.Eb(6),s.Uc(n.repaymentShare)}}function Wm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().editCollateral()}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function Xm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",53),s.Xb(1,"mat-hint",47),s.Tc(2,"Secondary Charge Allowed ?"),s.Wb(),s.Sb(3,"br"),s.Xb(4,"div",95),s.Xb(5,"mat-slide-toggle",96),s.fc("change",function(){return s.Hc(a),s.jc(3).stayTrue1()}),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=s.jc().$implicit;s.Eb(5),s.rc("checked",n.secondaryChargeAllowed)}}function Tm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",91),s.Xb(1,"mat-accordion",92),s.Xb(2,"mat-expansion-panel",93),s.fc("opened",function(){return s.Hc(a),s.jc(2).panelOpenState=!0})("closed",function(){return s.Hc(a),s.jc(2).panelOpenState=!1}),s.Xb(3,"mat-expansion-panel-header"),s.Xb(4,"mat-panel-title"),s.Tc(5),s.Wb(),s.Wb(),s.Xb(6,"div"),s.Xb(7,"div",52),s.Vb(8),s.Xb(9,"div",53),s.Xb(10,"div",35),s.Tc(11,"Number Of Collateral"),s.Wb(),s.Sb(12,"br"),s.Xb(13,"div",36),s.Tc(14),s.Wb(),s.Wb(),s.Xb(15,"div",53),s.Xb(16,"div",35),s.Tc(17,"Total Collateral Value"),s.Wb(),s.Sb(18,"br"),s.Xb(19,"div",36),s.Tc(20),s.Wb(),s.Wb(),s.Xb(21,"div",53),s.Xb(22,"div",35),s.Tc(23,"Utilized Previously"),s.Wb(),s.Sb(24,"br"),s.Xb(25,"div",36),s.Tc(26),s.Wb(),s.Wb(),s.Xb(27,"div",53),s.Xb(28,"div",35),s.Tc(29,"Cover Available"),s.Wb(),s.Sb(30,"br"),s.Xb(31,"div",36),s.Tc(32),s.Wb(),s.Wb(),s.Rc(33,Xm,6,1,"div",94),s.Ub(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=e.index;s.Eb(5),s.Vc(" Collateral ",o+1," "),s.Eb(9),s.Uc(n.noOfCollateral),s.Eb(6),s.Uc(n.totalCollateralValue),s.Eb(6),s.Uc(n.utilizedPreviously),s.Eb(6),s.Uc(n.coverAvailable),s.Eb(1),s.rc("ngIf",null!=n)}}function Im(t,e){if(1&t&&(s.Xb(0,"div",54),s.Rc(1,Tm,34,6,"div",55),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.rc("ngForOf",a.colateral_array.collateralDetails)}}function Em(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().editGuarantor()}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function Cm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().onEdit()}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function xm(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div",97),s.Xb(2,"div"),s.Xb(3,"mat-card",98),s.Xb(4,"div"),s.Xb(5,"div",35),s.Tc(6,"Interest Type"),s.Wb(),s.Xb(7,"div",36),s.Tc(8),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div"),s.Xb(10,"mat-card",98),s.Xb(11,"div"),s.Xb(12,"div",35),s.Tc(13,"Effective Rate"),s.Wb(),s.Xb(14,"div",36),s.Tc(15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div"),s.Xb(17,"mat-card",98),s.Xb(18,"div"),s.Xb(19,"div",35),s.Tc(20,"Applicable Interest Rate"),s.Wb(),s.Xb(21,"div",36),s.Tc(22),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div"),s.Xb(24,"mat-card",98),s.Xb(25,"div"),s.Xb(26,"div",35),s.Tc(27,"Margin In %"),s.Wb(),s.Xb(28,"div",36),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(8),s.Uc(null==a?null:a.intrestType),s.Eb(7),s.Uc(null==a?null:a.effectiveRate),s.Eb(7),s.Uc(null==a?null:a.intrestRateApplicable),s.Eb(7),s.Uc(null==a?null:a.marginIn)}}function Am(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().editDisbursement("loanDisbusment_array")}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function Rm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().editRepaymentInfo("loanRepayment_array")}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function Om(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().onEdit()}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function Dm(t,e){if(1&t&&(s.Xb(0,"mat-card"),s.Xb(1,"div",97),s.Xb(2,"div"),s.Xb(3,"mat-card",98),s.Xb(4,"div"),s.Xb(5,"div",35),s.Tc(6,"Amount"),s.Wb(),s.Xb(7,"div",36),s.Tc(8),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div"),s.Xb(10,"mat-card",98),s.Xb(11,"div"),s.Xb(12,"div",35),s.Tc(13,"Charge Details ID"),s.Wb(),s.Xb(14,"div",36),s.Tc(15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div"),s.Xb(17,"mat-card",98),s.Xb(18,"div"),s.Xb(19,"div",35),s.Tc(20,"Interest Type"),s.Wb(),s.Xb(21,"div",36),s.Tc(22),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(23,"div"),s.Xb(24,"mat-card",98),s.Xb(25,"div"),s.Xb(26,"div",35),s.Tc(27,"Waiver"),s.Wb(),s.Xb(28,"div",36),s.Tc(29),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit;s.Eb(8),s.Uc(null==a?null:a.amout),s.Eb(7),s.Uc(null==a?null:a.chargeDetailsId),s.Eb(7),s.Uc(null==a?null:a.intrestType),s.Eb(7),s.Uc(null==a?null:a.waiver)}}function km(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().editCreditInfo("loanCreditScore_array")}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function Sm(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",32),s.Sb(2,"div",33),s.Xb(3,"div",34),s.Xb(4,"div",35),s.Tc(5,"Customer Name"),s.Wb(),s.Xb(6,"div",36),s.Tc(7),s.Wb(),s.Wb(),s.Xb(8,"div",34),s.Xb(9,"div",35),s.Tc(10,"Agency Name"),s.Wb(),s.Xb(11,"div",36),s.Tc(12),s.Wb(),s.Wb(),s.Xb(13,"div",34),s.Xb(14,"div",35),s.Tc(15,"Remarks"),s.Wb(),s.Xb(16,"div",36),s.Tc(17),s.Wb(),s.Wb(),s.Xb(18,"div",34),s.Xb(19,"div",35),s.Tc(20,"Ratings"),s.Wb(),s.Xb(21,"div",36),s.Tc(22),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=s.jc(2);s.Eb(7),s.Uc(null==n.loanCreditScore_array?null:n.loanCreditScore_array.customerName),s.Eb(5),s.Uc(a.agencyName),s.Eb(5),s.Uc(a.remarks),s.Eb(5),s.Uc(a.ratings)}}function Nm(t,e){if(1&t&&(s.Xb(0,"mat-card",31),s.Xb(1,"mat-card-content"),s.Rc(2,Sm,23,4,"div",59),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(2),s.rc("ngForOf",a.loanCreditScore_array.agencyRating)}}function Pm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",99),s.fc("click",function(){return s.Hc(a),s.jc().editValuationOfAsset("valueofassest_array")}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function Fm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().editLegalOpinion("legaopninio_array")}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function Lm(t,e){if(1&t&&(s.Xb(0,"div",103),s.Xb(1,"mat-card",104),s.Xb(2,"div"),s.Tc(3),s.Wb(),s.Xb(4,"div",105),s.Tc(5),s.Wb(),s.Wb(),s.Xb(6,"mat-card",104),s.Xb(7,"div"),s.Tc(8,"Score"),s.Wb(),s.Xb(9,"div",105),s.Tc(10),s.Wb(),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index;s.Eb(3),s.Wc("",n+1,".",a.scorecardQuestion,""),s.Eb(2),s.Uc(a.scorecardAnswer),s.Eb(5),s.Uc(a.scoreData)}}function wm(t,e){if(1&t&&(s.Xb(0,"div"),s.Xb(1,"div",100),s.Tc(2),s.Wb(),s.Xb(3,"div",101),s.Rc(4,Lm,11,4,"div",102),s.Wb(),s.Wb()),2&t){var a=e.$implicit,n=e.index,o=s.jc();s.Eb(2),s.Vc("Applicant ",a.applicantId,""),s.Eb(2),s.rc("ngForOf",null==o.qualitativeScoreboardSummary?null:o.qualitativeScoreboardSummary.scoreCardMapping[n].scoreCardDetails)}}function Um(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().editAssessmentInfo("loanassement_array")}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function _m(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div"),s.Xb(1,"button",76),s.fc("click",function(){return s.Hc(a),s.jc().editOfferIssueInfo("offerissue_array")}),s.Tc(2,"edit"),s.Wb(),s.Wb()}}function Mm(t,e){if(1&t&&(s.Xb(0,"mat-card",31),s.Xb(1,"mat-card-content"),s.Xb(2,"div",32),s.Sb(3,"div",33),s.Xb(4,"div",34),s.Xb(5,"div",35),s.Tc(6,"Applicant Name"),s.Wb(),s.Xb(7,"div",36),s.Tc(8),s.Wb(),s.Wb(),s.Xb(9,"div",34),s.Xb(10,"div",35),s.Tc(11,"Approved Loan Amount"),s.Wb(),s.Xb(12,"div",36),s.Tc(13),s.Wb(),s.Wb(),s.Xb(14,"div",34),s.Xb(15,"div",35),s.Tc(16,"Loan Tenure"),s.Wb(),s.Xb(17,"div",36),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",32),s.Sb(20,"div",33),s.Xb(21,"div",34),s.Xb(22,"div",35),s.Tc(23,"Installment Type"),s.Wb(),s.Xb(24,"div",36),s.Tc(25),s.Wb(),s.Wb(),s.Xb(26,"div",34),s.Xb(27,"div",35),s.Tc(28,"Installment Frequency"),s.Wb(),s.Xb(29,"div",36),s.Tc(30),s.Wb(),s.Wb(),s.Xb(31,"div",34),s.Xb(32,"div",35),s.Tc(33,"Rate Of Interest(in %)"),s.Wb(),s.Xb(34,"div",36),s.Tc(35),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",32),s.Sb(37,"div",33),s.Xb(38,"div",34),s.Xb(39,"div",35),s.Tc(40,"Offer Issue Date"),s.Wb(),s.Xb(41,"div",36),s.Tc(42),s.Wb(),s.Wb(),s.Xb(43,"div",34),s.Xb(44,"div",35),s.Tc(45,"Generate Offer"),s.Wb(),s.Xb(46,"div",36),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"div",34),s.Xb(49,"div",35),s.Tc(50,"Offer Expiry Date"),s.Wb(),s.Xb(51,"div",36),s.Tc(52),s.Wb(),s.Wb(),s.Wb(),s.Xb(53,"div",32),s.Sb(54,"div",33),s.Xb(55,"div",34),s.Xb(56,"div",35),s.Tc(57,"Date Of Offer Accept/Reject"),s.Wb(),s.Xb(58,"div",36),s.Tc(59),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(8),s.Uc(a.offerDetails.applicantName),s.Eb(5),s.Uc(null==a.offerDetails?null:a.offerDetails.approvedLoanAmount),s.Eb(5),s.Uc(null==a.offerDetails?null:a.offerDetails.loanTenure),s.Eb(7),s.Uc(a.offerDetails.installmentType),s.Eb(5),s.Uc(a.offerDetails.installmentFrequency),s.Eb(5),s.Uc(a.offerDetails.rateOfInterest),s.Eb(7),s.Uc(a.offerDetails.offerIssueDate),s.Eb(5),s.Uc(a.offerDetails.generateOffer),s.Eb(5),s.Uc(a.offerDetails.offerExpiryDate),s.Eb(7),s.Uc(a.offerDetails.dateOfOfferAcceptOrReject)}}function Gm(t,e){if(1&t&&(s.Xb(0,"mat-card",31),s.Xb(1,"mat-card-content"),s.Xb(2,"div",32),s.Sb(3,"div",33),s.Xb(4,"div",34),s.Xb(5,"div",35),s.Tc(6,"Applicant Name"),s.Wb(),s.Xb(7,"div",36),s.Tc(8),s.Wb(),s.Wb(),s.Xb(9,"div",34),s.Xb(10,"div",35),s.Tc(11,"Offer Issue Date"),s.Wb(),s.Xb(12,"div",36),s.Tc(13),s.Wb(),s.Wb(),s.Xb(14,"div",34),s.Xb(15,"div",35),s.Tc(16,"Offer Exipiry Date"),s.Wb(),s.Xb(17,"div",36),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",32),s.Sb(20,"div",33),s.Xb(21,"div",34),s.Xb(22,"div",35),s.Tc(23,"Offer Amend Date"),s.Wb(),s.Xb(24,"div",36),s.Tc(25),s.Wb(),s.Wb(),s.Xb(26,"div",34),s.Xb(27,"div",35),s.Tc(28,"Approved Loan Amount"),s.Wb(),s.Xb(29,"div",36),s.Tc(30),s.Wb(),s.Wb(),s.Xb(31,"div",34),s.Xb(32,"div",35),s.Tc(33,"Loan Amount Recommended"),s.Wb(),s.Xb(34,"div",36),s.Tc(35),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",32),s.Sb(37,"div",33),s.Xb(38,"div",34),s.Xb(39,"div",35),s.Tc(40,"Loan Tenure"),s.Wb(),s.Xb(41,"div",36),s.Tc(42),s.Wb(),s.Wb(),s.Xb(43,"div",34),s.Xb(44,"div",35),s.Tc(45,"Installment Type"),s.Wb(),s.Xb(46,"div",36),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"div",34),s.Xb(49,"div",35),s.Tc(50,"Rate Of Interest(%)"),s.Wb(),s.Xb(51,"div",36),s.Tc(52),s.Wb(),s.Wb(),s.Wb(),s.Xb(53,"div",32),s.Sb(54,"div",33),s.Xb(55,"div",34),s.Xb(56,"div",35),s.Tc(57,"Margin(%))"),s.Wb(),s.Xb(58,"div",36),s.Tc(59),s.Wb(),s.Wb(),s.Xb(60,"div",34),s.Xb(61,"div",35),s.Tc(62,"Effective Rate(%)"),s.Wb(),s.Xb(63,"div",36),s.Tc(64),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(8),s.Uc(a.postOfferDetails.applicantName),s.Eb(5),s.Uc(a.postOfferDetails.offerIssueDate),s.Eb(5),s.Uc(a.postOfferDetails.offerExpiryDate),s.Eb(7),s.Uc(a.postOfferDetails.offerAmendDate),s.Eb(5),s.Uc(a.postOfferDetails.approvedLoanAmount),s.Eb(5),s.Uc(a.postOfferDetails.loanAmmountRecommended),s.Eb(7),s.Uc(a.postOfferDetails.loanTenure),s.Eb(5),s.Uc(a.postOfferDetails.installmentType),s.Eb(5),s.Uc(a.postOfferDetails.rateOfInterest),s.Eb(7),s.Uc(a.postOfferDetails.margin),s.Eb(5),s.Uc(a.postOfferDetails.effectiveRate)}}function Vm(t,e){if(1&t&&(s.Xb(0,"mat-card",31),s.Xb(1,"mat-card-content"),s.Xb(2,"div",32),s.Sb(3,"div",33),s.Xb(4,"div",34),s.Xb(5,"div",35),s.Tc(6,"Applicant Name"),s.Wb(),s.Xb(7,"div",36),s.Tc(8),s.Wb(),s.Wb(),s.Xb(9,"div",34),s.Xb(10,"div",35),s.Tc(11,"Approved Loan Amount"),s.Wb(),s.Xb(12,"div",36),s.Tc(13),s.Wb(),s.Wb(),s.Xb(14,"div",34),s.Xb(15,"div",35),s.Tc(16,"Offer Issue Date"),s.Wb(),s.Xb(17,"div",36),s.Tc(18),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",32),s.Sb(20,"div",33),s.Xb(21,"div",34),s.Xb(22,"div",35),s.Tc(23,"Offer Accepted Date"),s.Wb(),s.Xb(24,"div",36),s.Tc(25),s.Wb(),s.Wb(),s.Xb(26,"div",34),s.Xb(27,"div",35),s.Tc(28,"Loan Tenure"),s.Wb(),s.Xb(29,"div",36),s.Tc(30),s.Wb(),s.Wb(),s.Xb(31,"div",34),s.Xb(32,"div",35),s.Tc(33,"Installment Type"),s.Wb(),s.Xb(34,"div",36),s.Tc(35),s.Wb(),s.Wb(),s.Wb(),s.Xb(36,"div",32),s.Sb(37,"div",33),s.Xb(38,"div",34),s.Xb(39,"div",35),s.Tc(40,"Installment Frequency"),s.Wb(),s.Xb(41,"div",36),s.Tc(42),s.Wb(),s.Wb(),s.Xb(43,"div",34),s.Xb(44,"div",35),s.Tc(45,"Rate of Interest"),s.Wb(),s.Xb(46,"div",36),s.Tc(47),s.Wb(),s.Wb(),s.Xb(48,"div",34),s.Xb(49,"div",35),s.Tc(50,"Principal"),s.Wb(),s.Xb(51,"div",36),s.Tc(52),s.Wb(),s.Wb(),s.Wb(),s.Xb(53,"div",32),s.Sb(54,"div",33),s.Xb(55,"div",34),s.Xb(56,"div",35),s.Tc(57,"Interest"),s.Wb(),s.Xb(58,"div",36),s.Tc(59),s.Wb(),s.Wb(),s.Xb(60,"div",34),s.Xb(61,"div",35),s.Tc(62,"Installment Amount"),s.Wb(),s.Xb(63,"div",36),s.Tc(64),s.Wb(),s.Wb(),s.Xb(65,"div",34),s.Xb(66,"div",35),s.Tc(67,"Charges"),s.Wb(),s.Xb(68,"div",36),s.Tc(69),s.Wb(),s.Wb(),s.Wb(),s.Xb(70,"div",32),s.Sb(71,"div",33),s.Xb(72,"div",34),s.Xb(73,"div",35),s.Tc(74,"Disbursement Amount"),s.Wb(),s.Xb(75,"div",36),s.Tc(76),s.Wb(),s.Wb(),s.Xb(77,"div",34),s.Xb(78,"div",35),s.Tc(79,"Repayment Amount"),s.Wb(),s.Xb(80,"div",36),s.Tc(81),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t){var a=s.jc();s.Eb(8),s.Uc(a.accountCreateValue.applicantName),s.Eb(5),s.Uc(a.accountCreateValue.approvedLoanAmount),s.Eb(5),s.Uc(a.accountCreateValue.offerIssueDate),s.Eb(7),s.Uc(a.accountCreateValue.offerAcceptedDate),s.Eb(5),s.Uc(a.accountCreateValue.loanTenure),s.Eb(5),s.Uc(a.accountCreateValue.installmentType),s.Eb(7),s.Uc(a.accountCreateValue.installmentFrequency),s.Eb(5),s.Uc(a.accountCreateValue.rateOfInterest),s.Eb(5),s.Uc(a.accountCreateValue.principal),s.Eb(7),s.Uc(a.accountCreateValue.interest),s.Eb(5),s.Uc(a.accountCreateValue.installmentAmount),s.Eb(5),s.Uc(a.accountCreateValue.charges),s.Eb(7),s.Uc(a.accountCreateValue.disbursementAmount),s.Eb(5),s.Uc(a.accountCreateValue.repaymentAmount)}}function Bm(t,e){if(1&t&&(s.Xb(0,"div",36),s.Xb(1,"a",106),s.Tc(2,"link"),s.Wb(),s.Sb(3,"link"),s.Wb()),2&t){var a=s.jc();s.Eb(1),s.sc("href",a.signatureData.fileUrl,s.Jc)}}var jm,zm=function(t,e){return{disabledbtn:t,rejectbtn:e}},qm=function(t,e){return{disabledbtn:t,approvebtn:e}},Jm=((jm=function(){function t(e,n,o,r,i,c,s,l,b,u,d,m,f,p,h){a(this,t),this.taskSumService=e,this.ls=n,this.api=o,this.dialogService=r,this.router=i,this.cdr=c,this.dialog=s,this.snack=l,this.tasksummaryService=b,this.appApiService=u,this.loader=d,this.apiService=m,this.sanitizer=f,this.dataResponse=p,this.dialogRef=h,this.updateLoanDetails=!1,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"]}return o(t,[{key:"ngOnInit",value:function(){console.log("dataResponse.dataResp.loanAccountId",this.dataResponse.dataResp.loanAccountId),this.loanAccountId=this.dataResponse.dataResp.loanAccountId,this.status=this.dataResponse.dataResp.status,this.loanInfo=this.dataResponse.dataResp,this.ls.setItem("CIF_NUM_PRIMARY",this.loanInfo.customerId),this.ls.setItem("NAME",this.loanInfo.firstName+" "+this.loanInfo.lastName),this.getCustomerInfoDetails(),this.getMandateDetails(),this.fetchOfferAcceptRejectDetails(this.loanAccountId),this.fetchPostOfferAmendmentDetails(),this.getAccountCreateDetails(),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId),this.getProfileImage(this.loanInfo.customerId)}},{key:"getAllData",value:function(t){var e=this;this.api.getLoanQualitativeScorecardDetails(this.loanAccountId).subscribe(function(t){e.qualitativeScoreboardSummary=t})}},{key:"getLoanAccountInfo",value:function(t){var e=this;this.taskSumService.getLoanAccountDetails(t).subscribe(function(t){console.log("data",t),e.loanAccount_array=t,e.createDataInfo=Object.values(t)[20],console.log(Object.values(t)),console.log(Object.values(t)[0]),e.loanAccount_array=Object.values(t)[0],e.assest_array=Object.values(t)[1],e.mandate_array=Object.values(t)[4],console.log("mandate_array",e.mandate_array.mandateId),e.colateral_array=Object.values(t)[6],console.log("collateral",e.colateral_array),console.log("collateral obj",Object.values(t)[6]),console.log(Object.values(t)),e.guranator_array=Object.values(t)[7],e.loanInterest_array=Object.values(t)[8],e.loanDisbusment_array=Object.values(t)[9],e.loanRepayment_array=Object.values(t)[10],e.loanCharge_array=Object.values(t)[11],e.accountService_array=Object.values(t)[12],e.loanCreditScore_array=Object.values(t)[13],e.valueofassest_array=Object.values(t)[14],e.legaopninio_array=Object.values(t)[15],e.loanassement_array=Object.values(t)[16],e.loanapproval_array=Object.values(t)[17],e.offerissue_array=Object.values(t)[18],"REJECTED"===Object.values(t)[0].status?(e.approvedStatus=!0,e.rejectedStatus=!0,e.editScreen=!1):"APPROVED"===Object.values(t)[0].status?(e.approvedStatus=!0,e.rejectedStatus=!0,e.editScreen=!0):"ONGOING"===Object.values(t)[0].status?(e.approvedStatus=!0,e.rejectedStatus=!1,e.editScreen=!1):"BACKLOG"===Object.values(t)[0].status&&(e.approvedStatus=!1,e.rejectedStatus=!1,e.editScreen=!1)})}},{key:"goToLoanAccount",value:function(){console.log("Navigating to edit screen"),this.ls.setItem("LOAN_ACC_ARRAY",this.loanAccount_array),console.log(this.loanAccount_array),this.api.updateLoanDetailsStatus({loanAccountId:this.loanAccount_array.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),this.router.navigateByUrl("/loan/account/list"),this.dialogRef.close({message:"Confirm"})}},{key:"editAsset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openPopUp1(t)}},{key:"editGuarantor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openGuarantor(t)}},{key:"openGuarantor",value:function(t){var e=this;this.dialog.open(Nd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,gurantorInfo:this.guranator_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editDisbursement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openDisbursement(t)}},{key:"openDisbursement",value:function(t){var e=this;this.dialog.open(Pd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,disbursementInfo:this.loanDisbusment_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editRepaymentInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openRepaymentInfo(t)}},{key:"openRepaymentInfo",value:function(t){var e=this;this.dialog.open(Vd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanRepaymentInfo:this.loanRepayment_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editValuationOfAsset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openValuationOfAssetInfo(t)}},{key:"openValuationOfAssetInfo",value:function(t){var e=this;this.dialog.open(jd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanValuationOfAssetInfo:this.valueofassest_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editLegalOpinion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openLegalOpnionInfo(t)}},{key:"openLegalOpnionInfo",value:function(t){var e=this;this.dialog.open(zd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanLegalInfo:this.legaopninio_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editAssessmentInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openAssessmentInfo(t)}},{key:"openAssessmentInfo",value:function(t){var e=this;this.dialog.open(Qd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanAssessmentInfo:this.loanassement_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editOfferIssueInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openOfferIssueInfo(t)}},{key:"openOfferIssueInfo",value:function(t){var e=this;this.dialog.open(tm,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanOfferIssueInfo:this.offerissue_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editApprovalInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openApprovalInfo(t)}},{key:"openApprovalInfo",value:function(t){var e=this;this.dialog.open(sm,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanApprovalInfo:this.loanapproval_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editCreditInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openCreditInfo(t)}},{key:"openCreditInfo",value:function(t){var e=this;this.dialog.open(Bd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanCreditInfo:this.loanCreditScore_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"onEdit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("edit"),this.loanAccount_array&&this.openPopUp(t)}},{key:"openPopUp",value:function(t){var e=this;this.dialog.open(bd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,info:this.loanAccount_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"openPopUp1",value:function(t){var e=this;this.dialog.open(hd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,assetInfo:this.assest_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"openCollateralPopup",value:function(t){var e=this;this.dialog.open(xd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,collateralInfo:this.colateral_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editCollateral",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("edit"),this.openCollateralPopup(t)}},{key:"editMandate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("edit"),this.openMandate(t)}},{key:"openMandate",value:function(t){var e=this;this.dialog.open(yd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,mandateInfo:this.mandate_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"close",value:function(t){this.dialogRef.close({message:"Confirm",data:t})}},{key:"getCustomerInfoDetails",value:function(){var t=this;this.appApiService.fetchCustomersByLoanAccId(this.loanAccountId,"loan").subscribe(function(e){e.data&&(t.customerInfoDetails=e.data,t.ownership=t.customerInfoDetails[0].ownership,t.noOfApplicants=t.customerInfoDetails[0].numOfApplicants)},function(e){t.loader.close()})}},{key:"getProfileImage",value:function(t){var e=this;this.image=null,null!=this.loanInfo.customerId&&this.api.getProfileDetails(t).subscribe(function(t){null!=t.profileImage&&(e.imageUrl=t.profileImage,e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl)),t.signatures&&(e.signatureData=t.signatures[0],e.ls.setItem("signedImage",e.signatureData.fileUrl))},function(t){console.log(t)})}},{key:"getMandateDetails",value:function(){var t=this;this.apiService.getMandateDetailsByLoanAccId(this.loanAccountId).subscribe(function(e){t.mandateDetails=e,t.mandateDetailsArray=e.mandateDetails},function(t){})}},{key:"stayTrue1",value:function(){this.colateral_array.collateralDetails.secondaryChargeAllowed=!0}},{key:"fetchOfferAcceptRejectDetails",value:function(t){var e=this;this.apiService.getofferDetails(t).subscribe(function(t){e.offerDetails=t})}},{key:"fetchPostOfferAmendmentDetails",value:function(){var t=this;this.apiService.getOfferAmendmentDetails(this.loanAccountId).subscribe(function(e){t.postOfferDetails=e,console.log("details",t.postOfferDetails)})}},{key:"getAccountCreateDetails",value:function(){var t=this;this.api.getAccountCreateDetails(this.loanAccountId).subscribe(function(e){t.accountCreateValue=e})}},{key:"updateApplicationStatus",value:function(t,e){var a=this;console.log("data : ",t),t.status=e;var n=e;this.accStatus=e,this.tasksummaryService.updateLoanAccStatus({status:e,loanAccountId:t.loanAccountId}).subscribe(function(t){null!=t.loanAccountId||""!=t.loanAccountId||""!=t.loanAccountId?(a.close(n),a.cdr.markForCheck(),a.cdr.detectChanges(),a.dialogRef.close({message:"Confirm",data:n}),a.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck()):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.errorStatus=e,a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}]),t}()).\u0275fac=function(t){return new(t||jm)(s.Rb(h.a),s.Rb(d.a),s.Rb(l.b),s.Rb(Tr.a),s.Rb(He.h),s.Rb(s.h),s.Rb(m.b),s.Rb(y.a),s.Rb(h.a),s.Rb(f.a),s.Rb(q.a),s.Rb(l.b),s.Rb(io.b),s.Rb(m.a),s.Rb(m.g))},jm.\u0275cmp=s.Lb({type:jm,selectors:[["app-loan-account-approver"]],decls:1005,vars:162,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[2,"color","darkgray","cursor","pointer","margin-right","30px",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Application Entry Stage",2,"border-radius","0px","width","900px"],["fxFlex","85"],[2,"width","800px"],[4,"ngIf"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],["fxLayout","row",1,"rowbord","nobord"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[1,"pt-16"],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],[1,"paraFont"],[1,"chequecard"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","50%"],["fxLayout","row wrap"],["class","full-width pt-16",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["label","Limit Entry Stage",2,"border-radius","0px","width","900px"],["label","Application Enrichment Stage",2,"border-radius","0px","width","900px"],[4,"ngFor","ngForOf"],["class","mtcd",4,"ngIf"],[1,"full-width",2,"padding","0rem 2rem"],["fxLayout","row wrap",1,"full-width"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","85",1,"margin1",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],["fxLayout","row","fxLayoutAlign","space between center"],["visible","true"],["class","labelval",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"rejectbtn",3,"hidden","ngClass","click"],["type","button",1,"approvebtn",3,"hidden","ngClass","click"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["type","button",1,"editScreen",2,"float","right","padding-top","2px",3,"click"],["fxFlex","7%","fxFlex.xs","50%","fxFlex.md","10%","fxFlex.sm","15%",1,"pb-16"],["height","50px","width","50px","src","assets/images/backgrounds/defaultProfileBackground.png",1,"rounded-circle"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-16"],[1,"valueTextName"],[1,"pl-16","text-secondary"],["class","pl-16 pr-16",4,"ngIf"],["class","pl-16 pr-16",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[1,"pl-16","pr-16"],[1,"headingText1"],[1,"pl-16","pr-16",3,"click"],[1,"full-width","pt-16"],[1,"full-width","mat-elevation-z0"],[1,"mat-elevation-z0","border","border-primary",3,"opened","closed"],["fxFlex","33%","fxFlex.xs","50%",4,"ngIf"],[1,"toggle"],[3,"checked","change"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],["type","button",1,"editScreen",2,"float","right","padding-top","7px",3,"click"],[1,"applicanthd",2,"font-weight","bold","font-family","sans-serif"],[1,"row","wrap"],["fxLayout","row wrap","class","qtncard row","style","max-width:100%","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","100","fxFlex.sm","50","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","100","fxFlex.sm","50",1,"full-width",2,"max-width","100%"],[1,"qtncard","row",2,"justify-content","space-evenly"],[1,"qtnval",2,"opacity","80%"],["download","",1,"linkColor",3,"href"]],template:function(t,e){if(1&t){s.Xb(0,"div"),s.Xb(1,"div",0),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"div"),s.Xb(5,"mat-icon",3),s.fc("click",function(){return e.close(e.dataResponse)}),s.Tc(6," close"),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"div",6),s.Xb(10,"div",7),s.Rc(11,lm,2,1,"span",8),s.Wb(),s.Xb(12,"div",9),s.Xb(13,"div",10),s.Sb(14,"img",11),s.Tc(15,"\xa0 "),s.Xb(16,"div"),s.Xb(17,"span",12),s.Tc(18),s.Wb(),s.Sb(19,"br"),s.Xb(20,"span",13),s.Tc(21),s.Wb(),s.Wb(),s.Wb(),s.Xb(22,"div",14),s.Xb(23,"mat-icon",15),s.Tc(24,"phone "),s.Wb(),s.Tc(25,"\xa0\xa0\xa0 "),s.Xb(26,"span",16),s.Tc(27),s.Wb(),s.Wb(),s.Xb(28,"div",14),s.Xb(29,"mat-icon",15),s.Tc(30," mail_outline"),s.Wb(),s.Tc(31,"\xa0\xa0 \xa0 "),s.Xb(32,"span",17),s.Tc(33),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",18),s.Xb(35,"div",19),s.Rc(36,bm,7,16,"div",20),s.Rc(37,dm,2,1,"div",21),s.Wb(),s.Wb(),s.Sb(38,"br"),s.Sb(39,"br"),s.Sb(40,"br"),s.Sb(41,"br"),s.Xb(42,"div",22),s.Xb(43,"h2"),s.Tc(44),s.Wb(),s.Wb(),s.Xb(45,"div",23),s.Xb(46,"div",24),s.Xb(47,"div",25),s.Tc(48,"1"),s.Wb(),s.Xb(49,"div",26),s.Tc(50,"\xa0"),s.Wb(),s.Wb(),s.Xb(51,"mat-card",27),s.Xb(52,"div",28),s.Xb(53,"h2"),s.Tc(54,"Application Entry Stage"),s.Wb(),s.Sb(55,"mat-divider"),s.Xb(56,"mat-card",29),s.Rc(57,mm,3,0,"div",30),s.Xb(58,"h3"),s.Tc(59,"Loan Account Details"),s.Wb(),s.Xb(60,"mat-card",31),s.Xb(61,"mat-card-content"),s.Xb(62,"div",32),s.Sb(63,"div",33),s.Xb(64,"div",34),s.Xb(65,"div",35),s.Tc(66,"Account Currency"),s.Wb(),s.Xb(67,"div",36),s.Tc(68),s.Wb(),s.Wb(),s.Xb(69,"div",34),s.Xb(70,"div",35),s.Tc(71,"Account Branch"),s.Wb(),s.Xb(72,"div",36),s.Tc(73),s.Wb(),s.Wb(),s.Xb(74,"div",34),s.Xb(75,"div",35),s.Tc(76,"Loan Account ID"),s.Wb(),s.Xb(77,"div",36),s.Tc(78),s.Wb(),s.Wb(),s.Wb(),s.Xb(79,"div",32),s.Sb(80,"div",33),s.Xb(81,"div",34),s.Xb(82,"div",35),s.Tc(83,"Application Date"),s.Wb(),s.Xb(84,"div",36),s.Tc(85),s.Wb(),s.Wb(),s.Xb(86,"div",34),s.Xb(87,"div",35),s.Tc(88,"Customer Contribution"),s.Wb(),s.Xb(89,"div",36),s.Tc(90),s.Wb(),s.Wb(),s.Xb(91,"div",34),s.Xb(92,"div",35),s.Tc(93,"Estimated Cost"),s.Wb(),s.Xb(94,"div",36),s.Tc(95),s.Wb(),s.Wb(),s.Wb(),s.Xb(96,"div",32),s.Sb(97,"div",33),s.Xb(98,"div",34),s.Xb(99,"div",35),s.Tc(100,"Loan Amount"),s.Wb(),s.Xb(101,"div",36),s.Tc(102),s.Wb(),s.Wb(),s.Xb(103,"div",34),s.Xb(104,"div",35),s.Tc(105,"Loan Tenure"),s.Wb(),s.Xb(106,"div",36),s.Tc(107),s.Wb(),s.Wb(),s.Xb(108,"div",34),s.Xb(109,"div",35),s.Tc(110,"Purpose of Loan"),s.Wb(),s.Xb(111,"div",36),s.Tc(112),s.Wb(),s.Wb(),s.Wb(),s.Xb(113,"div",32),s.Sb(114,"div",33),s.Xb(115,"div",34),s.Xb(116,"div",35),s.Tc(117,"Status"),s.Wb(),s.Xb(118,"div",36),s.Tc(119),s.Wb(),s.Wb(),s.Xb(120,"div",34),s.Xb(121,"div",35),s.Tc(122,"Business Product Name"),s.Wb(),s.Xb(123,"div",36),s.Tc(124),s.Wb(),s.Wb(),s.Xb(125,"div",34),s.Xb(126,"div",35),s.Tc(127,"Modification Number"),s.Wb(),s.Xb(128,"div",36),s.Tc(129),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(130,fm,3,0,"div",30),s.Xb(131,"h3"),s.Tc(132,"Asset Information"),s.Wb(),s.Sb(133,"hr"),s.Xb(134,"mat-card",31),s.Xb(135,"mat-card-content"),s.Xb(136,"div",32),s.Sb(137,"div",33),s.Xb(138,"div",34),s.Xb(139,"div",35),s.Tc(140,"Asset Status"),s.Wb(),s.Xb(141,"div",36),s.Tc(142),s.Wb(),s.Wb(),s.Xb(143,"div",34),s.Xb(144,"div",35),s.Tc(145,"Building"),s.Wb(),s.Xb(146,"div",36),s.Tc(147),s.Wb(),s.Wb(),s.Xb(148,"div",34),s.Xb(149,"div",35),s.Tc(150,"Mortgaged Branch"),s.Wb(),s.Xb(151,"div",36),s.Tc(152),s.Wb(),s.Wb(),s.Wb(),s.Xb(153,"div",32),s.Sb(154,"div",33),s.Xb(155,"div",34),s.Xb(156,"div",35),s.Tc(157,"City"),s.Wb(),s.Xb(158,"div",36),s.Tc(159),s.Wb(),s.Wb(),s.Xb(160,"div",34),s.Xb(161,"div",35),s.Tc(162,"Country"),s.Wb(),s.Xb(163,"div",36),s.Tc(164),s.Wb(),s.Wb(),s.Xb(165,"div",34),s.Xb(166,"div",35),s.Tc(167,"Dimensions"),s.Wb(),s.Xb(168,"div",36),s.Tc(169),s.Wb(),s.Wb(),s.Wb(),s.Xb(170,"div",32),s.Sb(171,"div",33),s.Xb(172,"div",34),s.Xb(173,"div",35),s.Tc(174,"Home Type"),s.Wb(),s.Xb(175,"div",36),s.Tc(176),s.Wb(),s.Wb(),s.Xb(177,"div",34),s.Xb(178,"div",35),s.Tc(179,"Locality"),s.Wb(),s.Xb(180,"div",36),s.Tc(181),s.Wb(),s.Wb(),s.Xb(182,"div",34),s.Xb(183,"div",35),s.Tc(184,"Market Value"),s.Wb(),s.Xb(185,"div",36),s.Tc(186),s.Wb(),s.Wb(),s.Wb(),s.Xb(187,"div",32),s.Sb(188,"div",33),s.Xb(189,"div",34),s.Xb(190,"div",35),s.Tc(191,"State"),s.Wb(),s.Xb(192,"div",36),s.Tc(193),s.Wb(),s.Wb(),s.Xb(194,"div",34),s.Xb(195,"div",35),s.Tc(196,"City"),s.Wb(),s.Xb(197,"div",36),s.Tc(198),s.Wb(),s.Wb(),s.Xb(199,"div",34),s.Xb(200,"div",35),s.Tc(201,"Zip code"),s.Wb(),s.Xb(202,"div",36),s.Tc(203),s.Wb(),s.Wb(),s.Wb(),s.Xb(204,"div",37),s.Sb(205,"div",33),s.Wb(),s.Wb(),s.Wb(),s.Xb(206,"div"),s.Xb(207,"h3"),s.Tc(208,"Customer Information Details"),s.Wb(),s.Sb(209,"hr"),s.Xb(210,"mat-card",31),s.Xb(211,"div",38),s.Xb(212,"div",39),s.Sb(213,"div",40),s.Xb(214,"div",41),s.Xb(215,"div",42),s.Xb(216,"div",38),s.Xb(217,"div",43),s.Xb(218,"div",44),s.Xb(219,"div"),s.Xb(220,"mat-card"),s.Xb(221,"div",45),s.Xb(222,"div",46),s.Xb(223,"small",47),s.Tc(224,"Holding Pattern"),s.Wb(),s.Xb(225,"h3",48),s.Tc(226),s.Wb(),s.Wb(),s.Xb(227,"div",46),s.Xb(228,"small",47),s.Tc(229,"Ownership"),s.Wb(),s.Xb(230,"h3",48),s.Tc(231),s.Wb(),s.Wb(),s.Xb(232,"div",46),s.Xb(233,"small",47),s.Tc(234,"Number of Applicant"),s.Wb(),s.Xb(235,"h3",48),s.Tc(236),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Rc(237,gm,54,10,"div",49),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(238,"div"),s.Rc(239,vm,3,0,"div",30),s.Xb(240,"h3"),s.Tc(241,"Mandate Details"),s.Wb(),s.Sb(242,"hr"),s.Xb(243,"mat-card"),s.Xb(244,"div",38),s.Xb(245,"div",39),s.Xb(246,"div",40),s.Xb(247,"h4",50),s.Tc(248,"Mandate Details"),s.Wb(),s.Wb(),s.Xb(249,"div",41),s.Xb(250,"div",42),s.Xb(251,"mat-card",51),s.Xb(252,"mat-card-content"),s.Xb(253,"div",38),s.Xb(254,"div",43),s.Xb(255,"div",52),s.Vb(256),s.Xb(257,"div",53),s.Xb(258,"mat-hint",35),s.Tc(259,"Number of Applicants"),s.Wb(),s.Sb(260,"br"),s.Xb(261,"mat-hint",36),s.Tc(262),s.Wb(),s.Wb(),s.Ub(),s.Wb(),s.Xb(263,"div",54),s.Rc(264,ym,27,4,"div",55),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(265,"div"),s.Rc(266,Wm,3,0,"div",30),s.Xb(267,"h3"),s.Tc(268,"Collateral Details"),s.Wb(),s.Sb(269,"hr"),s.Xb(270,"mat-card",31),s.Xb(271,"mat-card-content"),s.Xb(272,"div",32),s.Sb(273,"div",33),s.Xb(274,"div",34),s.Xb(275,"div",35),s.Tc(276,"Attributes"),s.Wb(),s.Xb(277,"div",36),s.Tc(278),s.Wb(),s.Wb(),s.Xb(279,"div",34),s.Xb(280,"div",35),s.Tc(281,"Building"),s.Wb(),s.Xb(282,"div",36),s.Tc(283),s.Wb(),s.Wb(),s.Xb(284,"div",34),s.Xb(285,"div",35),s.Tc(286,"City"),s.Wb(),s.Xb(287,"div",36),s.Tc(288),s.Wb(),s.Wb(),s.Wb(),s.Xb(289,"div",32),s.Sb(290,"div",33),s.Xb(291,"div",34),s.Xb(292,"div",35),s.Tc(293,"Collateral Currency"),s.Wb(),s.Xb(294,"div",36),s.Tc(295),s.Wb(),s.Wb(),s.Xb(296,"div",34),s.Xb(297,"div",35),s.Tc(298,"Collateral Type"),s.Wb(),s.Xb(299,"div",36),s.Tc(300),s.Wb(),s.Wb(),s.Xb(301,"div",34),s.Xb(302,"div",35),s.Tc(303,"Collateral Value"),s.Wb(),s.Xb(304,"div",36),s.Tc(305),s.Wb(),s.Wb(),s.Wb(),s.Xb(306,"div",32),s.Sb(307,"div",33),s.Xb(308,"div",34),s.Xb(309,"div",35),s.Tc(310,"Country"),s.Wb(),s.Xb(311,"div",36),s.Tc(312),s.Wb(),s.Wb(),s.Xb(313,"div",34),s.Xb(314,"div",35),s.Tc(315,"Dimensions"),s.Wb(),s.Xb(316,"div",36),s.Tc(317),s.Wb(),s.Wb(),s.Xb(318,"div",34),s.Xb(319,"div",35),s.Tc(320,"Locality"),s.Wb(),s.Xb(321,"div",36),s.Tc(322),s.Wb(),s.Wb(),s.Wb(),s.Xb(323,"div",32),s.Sb(324,"div",33),s.Xb(325,"div",34),s.Xb(326,"div",35),s.Tc(327,"State"),s.Wb(),s.Xb(328,"div",36),s.Tc(329),s.Wb(),s.Wb(),s.Xb(330,"div",34),s.Xb(331,"div",35),s.Tc(332,"Third Party Collateral"),s.Wb(),s.Xb(333,"div",36),s.Tc(334),s.Wb(),s.Wb(),s.Xb(335,"div",34),s.Xb(336,"div",35),s.Tc(337,"Street"),s.Wb(),s.Xb(338,"div",36),s.Tc(339),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(340,"mat-card",31),s.Rc(341,Im,2,1,"div",56),s.Wb(),s.Wb(),s.Xb(342,"div"),s.Rc(343,Em,3,0,"div",30),s.Xb(344,"h3"),s.Tc(345,"Guarantor Details"),s.Wb(),s.Sb(346,"hr"),s.Xb(347,"mat-card",31),s.Xb(348,"mat-card-content"),s.Xb(349,"div",32),s.Sb(350,"div",33),s.Xb(351,"div",34),s.Xb(352,"div",35),s.Tc(353,"Prefix"),s.Wb(),s.Xb(354,"div",36),s.Tc(355),s.Wb(),s.Wb(),s.Xb(356,"div",34),s.Xb(357,"div",35),s.Tc(358,"First Name"),s.Wb(),s.Xb(359,"div",36),s.Tc(360),s.Wb(),s.Wb(),s.Xb(361,"div",34),s.Xb(362,"div",35),s.Tc(363,"Last Name"),s.Wb(),s.Xb(364,"div",36),s.Tc(365),s.Wb(),s.Wb(),s.Wb(),s.Xb(366,"div",32),s.Sb(367,"div",33),s.Xb(368,"div",34),s.Xb(369,"div",35),s.Tc(370,"CIF Number"),s.Wb(),s.Xb(371,"div",36),s.Tc(372),s.Wb(),s.Wb(),s.Xb(373,"div",34),s.Xb(374,"div",35),s.Tc(375,"Relationship with Customer"),s.Wb(),s.Xb(376,"div",36),s.Tc(377),s.Wb(),s.Wb(),s.Xb(378,"div",34),s.Xb(379,"div",35),s.Tc(380,"Country"),s.Wb(),s.Xb(381,"div",36),s.Tc(382),s.Wb(),s.Wb(),s.Wb(),s.Xb(383,"div",32),s.Sb(384,"div",33),s.Xb(385,"div",34),s.Xb(386,"div",35),s.Tc(387,"Date Of Birth"),s.Wb(),s.Xb(388,"div",36),s.Tc(389),s.Wb(),s.Wb(),s.Xb(390,"div",34),s.Xb(391,"div",35),s.Tc(392,"Email address"),s.Wb(),s.Xb(393,"div",36),s.Tc(394),s.Wb(),s.Wb(),s.Xb(395,"div",34),s.Xb(396,"div",35),s.Tc(397,"Mobile Number"),s.Wb(),s.Xb(398,"div",36),s.Tc(399),s.Wb(),s.Wb(),s.Wb(),s.Xb(400,"div",32),s.Sb(401,"div",33),s.Xb(402,"div",34),s.Xb(403,"div",35),s.Tc(404,"Address 1"),s.Wb(),s.Xb(405,"div",36),s.Tc(406),s.Wb(),s.Wb(),s.Xb(407,"div",34),s.Xb(408,"div",35),s.Tc(409,"Address 2"),s.Wb(),s.Xb(410,"div",36),s.Tc(411),s.Wb(),s.Wb(),s.Xb(412,"div",34),s.Xb(413,"div",35),s.Tc(414,"City"),s.Wb(),s.Xb(415,"div",36),s.Tc(416),s.Wb(),s.Wb(),s.Wb(),s.Xb(417,"div",32),s.Sb(418,"div",33),s.Xb(419,"div",34),s.Xb(420,"div",35),s.Tc(421,"State"),s.Wb(),s.Xb(422,"div",36),s.Tc(423),s.Wb(),s.Wb(),s.Xb(424,"div",34),s.Xb(425,"div",35),s.Tc(426,"Phone Number"),s.Wb(),s.Xb(427,"div",36),s.Tc(428),s.Wb(),s.Wb(),s.Xb(429,"div",34),s.Xb(430,"div",35),s.Tc(431,"Zip Code"),s.Wb(),s.Xb(432,"div",36),s.Tc(433),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(434,"div",23),s.Xb(435,"div",24),s.Xb(436,"div",25),s.Tc(437,"2"),s.Wb(),s.Xb(438,"div",26),s.Tc(439,"\xa0"),s.Wb(),s.Wb(),s.Xb(440,"mat-card",57),s.Xb(441,"div",28),s.Xb(442,"h2"),s.Tc(443,"Loan Application Enrichment"),s.Wb(),s.Sb(444,"hr"),s.Xb(445,"mat-card",58),s.Xb(446,"div",28),s.Sb(447,"hr"),s.Xb(448,"mat-card"),s.Rc(449,Cm,3,0,"div",30),s.Xb(450,"h3"),s.Tc(451,"Interest Details"),s.Wb(),s.Rc(452,xm,30,4,"mat-card",59),s.Wb(),s.Sb(453,"br"),s.Sb(454,"hr"),s.Wb(),s.Wb(),s.Sb(455,"br"),s.Xb(456,"mat-card",29),s.Rc(457,Am,3,0,"div",30),s.Xb(458,"h3"),s.Tc(459,"Loan Disbursement Details"),s.Wb(),s.Xb(460,"mat-card",31),s.Xb(461,"mat-card-content"),s.Xb(462,"div",32),s.Sb(463,"div",33),s.Xb(464,"div",34),s.Xb(465,"div",35),s.Tc(466,"Branch Code"),s.Wb(),s.Xb(467,"div",36),s.Tc(468),s.Wb(),s.Wb(),s.Xb(469,"div",34),s.Xb(470,"div",35),s.Tc(471,"Customer Account"),s.Wb(),s.Xb(472,"div",36),s.Tc(473),s.Wb(),s.Wb(),s.Xb(474,"div",34),s.Xb(475,"div",35),s.Tc(476,"Disbursement Mode"),s.Wb(),s.Xb(477,"div",36),s.Tc(478),s.Wb(),s.Wb(),s.Wb(),s.Xb(479,"div",32),s.Sb(480,"div",33),s.Xb(481,"div",34),s.Xb(482,"div",35),s.Tc(483,"First Disbursement Date"),s.Wb(),s.Xb(484,"div",36),s.Tc(485),s.Wb(),s.Wb(),s.Xb(486,"div",34),s.Xb(487,"div",35),s.Tc(488,"Loan Amount"),s.Wb(),s.Xb(489,"div",36),s.Tc(490),s.Wb(),s.Wb(),s.Xb(491,"div",34),s.Xb(492,"div",35),s.Tc(493,"Multiple Disbursement Required"),s.Wb(),s.Xb(494,"div",36),s.Tc(495),s.Wb(),s.Wb(),s.Wb(),s.Xb(496,"div",32),s.Sb(497,"div",33),s.Xb(498,"div",34),s.Xb(499,"div",35),s.Tc(500,"Number Of Disbursement"),s.Wb(),s.Xb(501,"div",36),s.Tc(502),s.Wb(),s.Wb(),s.Xb(503,"div",34),s.Xb(504,"div",35),s.Tc(505,"Total Disbursement"),s.Wb(),s.Xb(506,"div",36),s.Tc(507),s.Wb(),s.Wb(),s.Sb(508,"div",34);s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(509,"br"),s.Xb(510,"mat-card",29),s.Rc(511,Rm,3,0,"div",30),s.Xb(512,"h3"),s.Tc(513,"Loan Repayment Details"),s.Wb(),s.Xb(514,"mat-card",31),s.Xb(515,"mat-card-content"),s.Xb(516,"div",32),s.Sb(517,"div",33),s.Xb(518,"div",34),s.Xb(519,"div",35),s.Tc(520,"Bank Name"),s.Wb(),s.Xb(521,"div",36),s.Tc(522),s.Wb(),s.Wb(),s.Xb(523,"div",34),s.Xb(524,"div",35),s.Tc(525,"Branch Code"),s.Wb(),s.Xb(526,"div",36),s.Tc(527),s.Wb(),s.Wb(),s.Xb(528,"div",34),s.Xb(529,"div",35),s.Tc(530,"Customer Account"),s.Wb(),s.Xb(531,"div",36),s.Tc(532),s.Wb(),s.Wb(),s.Wb(),s.Xb(533,"div",32),s.Sb(534,"div",33),s.Xb(535,"div",34),s.Xb(536,"div",35),s.Tc(537,"First Repayment Date"),s.Wb(),s.Xb(538,"div",36),s.Tc(539),s.Wb(),s.Wb(),s.Xb(540,"div",34),s.Xb(541,"div",35),s.Tc(542,"Loan Tenure"),s.Wb(),s.Xb(543,"div",36),s.Tc(544),s.Wb(),s.Wb(),s.Xb(545,"div",34),s.Xb(546,"div",35),s.Tc(547,"Maturity Date"),s.Wb(),s.Xb(548,"div",36),s.Tc(549),s.Wb(),s.Wb(),s.Wb(),s.Xb(550,"div",32),s.Sb(551,"div",33),s.Xb(552,"div",34),s.Xb(553,"div",35),s.Tc(554,"Moraturioum Period"),s.Wb(),s.Xb(555,"div",36),s.Tc(556),s.Wb(),s.Wb(),s.Xb(557,"div",34),s.Xb(558,"div",35),s.Tc(559,"Type Of Repayment"),s.Wb(),s.Xb(560,"div",36),s.Tc(561),s.Wb(),s.Wb(),s.Xb(562,"div",34),s.Xb(563,"div",35),s.Tc(564,"Repayment Frequency"),s.Wb(),s.Xb(565,"div",36),s.Tc(566),s.Wb(),s.Wb(),s.Wb(),s.Xb(567,"div",32),s.Sb(568,"div",33),s.Xb(569,"div",34),s.Xb(570,"div",35),s.Tc(571,"Repayment Mode"),s.Wb(),s.Xb(572,"div",36),s.Tc(573),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(574,"br"),s.Xb(575,"mat-card"),s.Rc(576,Om,3,0,"div",30),s.Xb(577,"h3"),s.Tc(578,"Loan Charge Details"),s.Wb(),s.Rc(579,Dm,30,4,"mat-card",59),s.Wb(),s.Xb(580,"mat-card"),s.Xb(581,"h3"),s.Tc(582,"Account Service Details"),s.Wb(),s.Xb(583,"mat-card",31),s.Xb(584,"mat-card-content"),s.Xb(585,"div",32),s.Sb(586,"div",33),s.Xb(587,"div",34),s.Xb(588,"div",35),s.Tc(589,"Statement Cycle"),s.Wb(),s.Xb(590,"div",36),s.Tc(591),s.Wb(),s.Wb(),s.Xb(592,"div",34),s.Xb(593,"div",35),s.Tc(594,"Statement Type"),s.Wb(),s.Xb(595,"div",36),s.Tc(596),s.Wb(),s.Wb(),s.Xb(597,"div",34),s.Xb(598,"div",35),s.Tc(599,"start Date"),s.Wb(),s.Xb(600,"div",36),s.Tc(601),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(602,"br"),s.Xb(603,"div",23),s.Xb(604,"div",24),s.Xb(605,"div",25),s.Tc(606,"3"),s.Wb(),s.Xb(607,"div",26),s.Tc(608,"\xa0"),s.Wb(),s.Wb(),s.Xb(609,"mat-card",57),s.Xb(610,"div",28),s.Xb(611,"h2"),s.Tc(612,"Loan Underwriting Stage"),s.Wb(),s.Sb(613,"hr"),s.Xb(614,"mat-card",29),s.Rc(615,km,3,0,"div",30),s.Xb(616,"h3"),s.Tc(617,"Loan Credit Score Details"),s.Wb(),s.Rc(618,Nm,3,1,"mat-card",60),s.Wb(),s.Sb(619,"br"),s.Xb(620,"mat-card",29),s.Rc(621,Pm,3,0,"div",30),s.Xb(622,"h3"),s.Tc(623,"Valuation of Asset Details"),s.Wb(),s.Xb(624,"mat-card",31),s.Xb(625,"mat-card-content"),s.Xb(626,"div",32),s.Sb(627,"div",33),s.Xb(628,"div",34),s.Xb(629,"div",35),s.Tc(630,"Bank Valuation"),s.Wb(),s.Xb(631,"div",36),s.Tc(632),s.Wb(),s.Wb(),s.Xb(633,"div",34),s.Xb(634,"div",35),s.Tc(635,"Asset Type"),s.Wb(),s.Xb(636,"div",36),s.Tc(637),s.Wb(),s.Wb(),s.Xb(638,"div",34),s.Xb(639,"div",35),s.Tc(640,"Property Area Size"),s.Wb(),s.Xb(641,"div",36),s.Tc(642),s.Wb(),s.Wb(),s.Wb(),s.Xb(643,"div",32),s.Sb(644,"div",33),s.Xb(645,"div",34),s.Xb(646,"div",35),s.Tc(647,"Actual Property Area Size"),s.Wb(),s.Xb(648,"div",36),s.Tc(649),s.Wb(),s.Wb(),s.Xb(650,"div",34),s.Xb(651,"div",35),s.Tc(652,"Borrower's Market Value"),s.Wb(),s.Xb(653,"div",36),s.Tc(654),s.Wb(),s.Wb(),s.Xb(655,"div",34),s.Xb(656,"div",35),s.Tc(657,"Face Value Of Asset"),s.Wb(),s.Xb(658,"div",36),s.Tc(659),s.Wb(),s.Wb(),s.Wb(),s.Xb(660,"div",32),s.Sb(661,"div",33),s.Xb(662,"div",34),s.Xb(663,"div",35),s.Tc(664,"Market Value Of Asset"),s.Wb(),s.Xb(665,"div",36),s.Tc(666),s.Wb(),s.Wb(),s.Xb(667,"div",34),s.Xb(668,"div",35),s.Tc(669,"Asset Valuer"),s.Wb(),s.Xb(670,"div",36),s.Tc(671),s.Wb(),s.Wb(),s.Xb(672,"div",34),s.Xb(673,"div",35),s.Tc(674,"Forced Sale Value"),s.Wb(),s.Xb(675,"div",36),s.Tc(676),s.Wb(),s.Wb(),s.Wb(),s.Xb(677,"div",32),s.Sb(678,"div",33),s.Xb(679,"div",34),s.Xb(680,"div",35),s.Tc(681,"Valuation Date"),s.Wb(),s.Xb(682,"div",36),s.Tc(683),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(684,"br"),s.Xb(685,"mat-card",29),s.Rc(686,Fm,3,0,"div",30),s.Xb(687,"h3"),s.Tc(688,"Legal Opinion Details"),s.Wb(),s.Xb(689,"mat-card",31),s.Xb(690,"mat-card-content"),s.Xb(691,"div",32),s.Sb(692,"div",33),s.Xb(693,"div",34),s.Xb(694,"div",35),s.Tc(695,"Opinion"),s.Wb(),s.Xb(696,"div",36),s.Tc(697),s.Wb(),s.Wb(),s.Xb(698,"div",34),s.Xb(699,"div",35),s.Tc(700,"Asset Area Size"),s.Wb(),s.Xb(701,"div",36),s.Tc(702),s.Wb(),s.Wb(),s.Xb(703,"div",34),s.Xb(704,"div",35),s.Tc(705,"Description"),s.Wb(),s.Xb(706,"div",36),s.Tc(707),s.Wb(),s.Wb(),s.Wb(),s.Xb(708,"div",32),s.Sb(709,"div",33),s.Xb(710,"div",34),s.Xb(711,"div",35),s.Tc(712,"Lawyer Name"),s.Wb(),s.Xb(713,"div",36),s.Tc(714),s.Wb(),s.Wb(),s.Xb(715,"div",34),s.Xb(716,"div",35),s.Tc(717,"Market Value Of Asset"),s.Wb(),s.Xb(718,"div",36),s.Tc(719),s.Wb(),s.Wb(),s.Xb(720,"div",34),s.Xb(721,"div",35),s.Tc(722,"Opinion Date"),s.Wb(),s.Xb(723,"div",36),s.Tc(724),s.Wb(),s.Wb(),s.Wb(),s.Xb(725,"div",32),s.Sb(726,"div",33),s.Xb(727,"div",34),s.Xb(728,"div",35),s.Tc(729,"Is Decision Favorable?"),s.Wb(),s.Xb(730,"div",36),s.Tc(731),s.Wb(),s.Wb(),s.Xb(732,"div",34),s.Xb(733,"div",35),s.Tc(734,"Valuation Date"),s.Wb(),s.Xb(735,"div",36),s.Tc(736),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(737,"br"),s.Xb(738,"div",23),s.Xb(739,"div",24),s.Xb(740,"div",25),s.Tc(741,"4"),s.Wb(),s.Xb(742,"div",26),s.Tc(743,"\xa0"),s.Wb(),s.Wb(),s.Xb(744,"mat-card",57),s.Xb(745,"div",28),s.Xb(746,"h2"),s.Tc(747,"Loan Assessment Details"),s.Wb(),s.Sb(748,"hr"),s.Xb(749,"mat-card",29),s.Xb(750,"h3"),s.Tc(751,"Qualitative Scoreboard"),s.Wb(),s.Xb(752,"mat-card",31),s.Xb(753,"mat-card-content"),s.Xb(754,"div",32),s.Sb(755,"div",33),s.Xb(756,"div",34),s.Xb(757,"div",35),s.Tc(758,"ScoreCard Id"),s.Wb(),s.Xb(759,"div",36),s.Tc(760),s.Wb(),s.Wb(),s.Xb(761,"div",34),s.Xb(762,"div",35),s.Tc(763,"Number Of Applicants"),s.Wb(),s.Xb(764,"div",36),s.Tc(765),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(766,"mat-card",31),s.Xb(767,"mat-card-content"),s.Xb(768,"div",61),s.Xb(769,"div",62),s.Rc(770,wm,5,2,"div",59),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(771,"mat-card",29),s.Rc(772,Um,3,0,"div",30),s.Xb(773,"h3"),s.Tc(774,"Assessment Details"),s.Wb(),s.Xb(775,"mat-card",31),s.Xb(776,"mat-card-content"),s.Xb(777,"div",32),s.Sb(778,"div",33),s.Xb(779,"div",34),s.Xb(780,"div",35),s.Tc(781,"Approved Loan Amount"),s.Wb(),s.Xb(782,"div",36),s.Tc(783),s.Wb(),s.Wb(),s.Xb(784,"div",34),s.Xb(785,"div",35),s.Tc(786,"Loan Tenure"),s.Wb(),s.Xb(787,"div",36),s.Tc(788),s.Wb(),s.Wb(),s.Xb(789,"div",34),s.Xb(790,"div",35),s.Tc(791,"Rate Of Interest"),s.Wb(),s.Xb(792,"div",36),s.Tc(793),s.Wb(),s.Wb(),s.Wb(),s.Xb(794,"div",32),s.Sb(795,"div",33),s.Xb(796,"div",34),s.Xb(797,"div",35),s.Tc(798,"Loan Amount Recommended"),s.Wb(),s.Xb(799,"div",36),s.Tc(800),s.Wb(),s.Wb(),s.Xb(801,"div",34),s.Xb(802,"div",35),s.Tc(803,"System Recommendation"),s.Wb(),s.Xb(804,"div",36),s.Tc(805),s.Wb(),s.Wb(),s.Xb(806,"div",34),s.Xb(807,"div",35),s.Tc(808,"User Recommendation"),s.Wb(),s.Xb(809,"div",36),s.Tc(810),s.Wb(),s.Wb(),s.Wb(),s.Xb(811,"div",32),s.Sb(812,"div",33),s.Xb(813,"div",34),s.Xb(814,"div",35),s.Tc(815,"Requested Loan Amount"),s.Wb(),s.Xb(816,"div",36),s.Tc(817),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(818,"br"),s.Wb(),s.Wb(),s.Wb(),s.Sb(819,"br"),s.Xb(820,"div",23),s.Xb(821,"div",24),s.Xb(822,"div",25),s.Tc(823,"5"),s.Wb(),s.Xb(824,"div",26),s.Tc(825,"\xa0"),s.Wb(),s.Wb(),s.Xb(826,"mat-card",57),s.Xb(827,"div",28),s.Xb(828,"h2"),s.Tc(829,"Loan Offer Issue"),s.Wb(),s.Sb(830,"hr"),s.Sb(831,"br"),s.Xb(832,"mat-card",29),s.Rc(833,_m,3,0,"div",30),s.Xb(834,"h3"),s.Tc(835,"Offer Issue Details"),s.Wb(),s.Xb(836,"mat-card",31),s.Xb(837,"mat-card-content"),s.Xb(838,"div",32),s.Sb(839,"div",33),s.Xb(840,"div",34),s.Xb(841,"div",35),s.Tc(842,"Applicant Name"),s.Wb(),s.Xb(843,"div",36),s.Tc(844),s.Wb(),s.Wb(),s.Xb(845,"div",34),s.Xb(846,"div",35),s.Tc(847,"Approved Loan Amount"),s.Wb(),s.Xb(848,"div",36),s.Tc(849),s.Wb(),s.Wb(),s.Xb(850,"div",34),s.Xb(851,"div",35),s.Tc(852,"Charges"),s.Wb(),s.Xb(853,"div",36),s.Tc(854),s.Wb(),s.Wb(),s.Wb(),s.Xb(855,"div",32),s.Sb(856,"div",33),s.Xb(857,"div",34),s.Xb(858,"div",35),s.Tc(859,"Generate Offer"),s.Wb(),s.Xb(860,"div",36),s.Tc(861),s.Wb(),s.Wb(),s.Xb(862,"div",34),s.Xb(863,"div",35),s.Tc(864,"Installment Amount"),s.Wb(),s.Xb(865,"div",36),s.Tc(866),s.Wb(),s.Wb(),s.Xb(867,"div",34),s.Xb(868,"div",35),s.Tc(869,"Installment Type"),s.Wb(),s.Xb(870,"div",36),s.Tc(871),s.Wb(),s.Wb(),s.Wb(),s.Xb(872,"div",32),s.Sb(873,"div",33),s.Xb(874,"div",34),s.Xb(875,"div",35),s.Tc(876,"Interest"),s.Wb(),s.Xb(877,"div",36),s.Tc(878),s.Wb(),s.Wb(),s.Xb(879,"div",34),s.Xb(880,"div",35),s.Tc(881,"Loan Tenure"),s.Wb(),s.Xb(882,"div",36),s.Tc(883),s.Wb(),s.Wb(),s.Xb(884,"div",34),s.Xb(885,"div",35),s.Tc(886,"Offer Issue Date"),s.Wb(),s.Xb(887,"div",36),s.Tc(888),s.Wb(),s.Wb(),s.Wb(),s.Xb(889,"div",32),s.Sb(890,"div",33),s.Xb(891,"div",34),s.Xb(892,"div",35),s.Tc(893,"Principal"),s.Wb(),s.Xb(894,"div",36),s.Tc(895),s.Wb(),s.Wb(),s.Xb(896,"div",34),s.Xb(897,"div",35),s.Tc(898,"Rate Of Interest"),s.Wb(),s.Xb(899,"div",36),s.Tc(900),s.Wb(),s.Wb(),s.Sb(901,"div",34),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Sb(902,"br"),s.Wb(),s.Wb(),s.Wb(),s.Sb(903,"br"),s.Xb(904,"div",23),s.Xb(905,"div",24),s.Xb(906,"div",25),s.Tc(907,"6"),s.Wb(),s.Xb(908,"div",26),s.Tc(909,"\xa0"),s.Wb(),s.Wb(),s.Xb(910,"mat-card",57),s.Xb(911,"div",28),s.Xb(912,"h2"),s.Tc(913,"Offer Accept/Reject Stage"),s.Wb(),s.Sb(914,"hr"),s.Sb(915,"br"),s.Xb(916,"mat-card",29),s.Xb(917,"h3"),s.Tc(918,"Offer Accept Details"),s.Wb(),s.Rc(919,Mm,60,10,"mat-card",60),s.Wb(),s.Sb(920,"br"),s.Wb(),s.Wb(),s.Wb(),s.Sb(921,"br"),s.Xb(922,"div",23),s.Xb(923,"div",24),s.Xb(924,"div",25),s.Tc(925,"7"),s.Wb(),s.Xb(926,"div",26),s.Tc(927,"\xa0"),s.Wb(),s.Wb(),s.Xb(928,"mat-card",57),s.Xb(929,"div",28),s.Xb(930,"h2"),s.Tc(931,"Post Offer Amend Stage"),s.Wb(),s.Sb(932,"hr"),s.Sb(933,"br"),s.Xb(934,"mat-card",29),s.Xb(935,"h3"),s.Tc(936,"Post Offer Amend Stage"),s.Wb(),s.Rc(937,Gm,65,11,"mat-card",60),s.Wb(),s.Sb(938,"br"),s.Wb(),s.Wb(),s.Wb(),s.Sb(939,"br"),s.Xb(940,"div",23),s.Xb(941,"div",24),s.Xb(942,"div",25),s.Tc(943,"8"),s.Wb(),s.Xb(944,"div",26),s.Tc(945,"\xa0"),s.Wb(),s.Wb(),s.Xb(946,"mat-card",57),s.Xb(947,"div",28),s.Xb(948,"h2"),s.Tc(949,"Account Credit Details Stage"),s.Wb(),s.Sb(950,"hr"),s.Sb(951,"br"),s.Xb(952,"mat-card",29),s.Xb(953,"h3"),s.Tc(954,"Account Credit Details Stage"),s.Wb(),s.Rc(955,Vm,82,14,"mat-card",60),s.Wb(),s.Sb(956,"br"),s.Wb(),s.Wb(),s.Wb(),s.Sb(957,"br"),s.Sb(958,"br"),s.Xb(959,"div",63),s.Xb(960,"div",24),s.Xb(961,"div",25),s.Tc(962,"9"),s.Wb(),s.Xb(963,"div",26),s.Tc(964,"\xa0"),s.Wb(),s.Wb(),s.Xb(965,"div",64),s.Xb(966,"h2"),s.Tc(967,"Digital Sign"),s.Wb(),s.Xb(968,"div",65),s.Xb(969,"fieldset"),s.Xb(970,"legend",66),s.Tc(971,"Digital Sign"),s.Wb(),s.Wb(),s.Wb(),s.Xb(972,"mat-card",31),s.Xb(973,"mat-card-content"),s.Xb(974,"div",32),s.Sb(975,"div",33),s.Xb(976,"div",34),s.Xb(977,"div",35),s.Tc(978,"Document Name"),s.Wb(),s.Xb(979,"div",36),s.Tc(980),s.Wb(),s.Wb(),s.Xb(981,"div",34),s.Xb(982,"div",35),s.Tc(983,"File Type"),s.Wb(),s.Xb(984,"div",36),s.Tc(985),s.Wb(),s.Wb(),s.Xb(986,"div",34),s.Xb(987,"div",35),s.Tc(988,"File Name"),s.Wb(),s.Xb(989,"div",36),s.Tc(990),s.Wb(),s.Wb(),s.Xb(991,"div",34),s.Xb(992,"div",35),s.Tc(993,"Download"),s.Wb(),s.Rc(994,Bm,4,1,"div",67),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(995,"div"),s.Xb(996,"div",68),s.Xb(997,"div"),s.Xb(998,"button",69),s.fc("click",function(){return e.updateApplicationStatus(e.loanAccount_array,"REJECTED")}),s.Tc(999," Reject "),s.Wb(),s.Tc(1e3," \xa0\xa0 "),s.Xb(1001,"button",70),s.fc("click",function(){return e.updateApplicationStatus(e.loanAccount_array,"APPROVED")}),s.Tc(1002,"Approve"),s.Wb(),s.Tc(1003," \xa0\xa0 "),s.Wb(),s.Wb(),s.Wb(),s.Sb(1004,"br"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}2&t&&(s.Eb(11),s.rc("ngForOf",e.nameCreater),s.Eb(7),s.Vc("",null==e.createDataInfo?null:e.createDataInfo.createdBy," "),s.Eb(3),s.Vc("EID #",null==e.createDataInfo?null:e.createDataInfo.creatorId,""),s.Eb(6),s.Vc(" ",null==e.createDataInfo?null:e.createDataInfo.mobile," "),s.Eb(6),s.Vc(" ",null==e.createDataInfo?null:e.createDataInfo.email," "),s.Eb(3),s.rc("ngIf","not_available"==e.imageUrl),s.Eb(1),s.rc("ngIf","not_available"!==e.imageUrl),s.Eb(7),s.Xc("",e.loanInfo.prefix,"\xa0",e.loanInfo.firstName,"\xa0",e.loanInfo.lastName,""),s.Eb(13),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(11),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.accountCurrency),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.accountBranch),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanAccountId),s.Eb(7),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.applicationDate),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.customerContribution),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.estimatedCost),s.Eb(7),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanAmount),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanTenure),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.purposeOfLoan),s.Eb(7),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.status),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.businessProductName),s.Eb(5),s.Uc(null==e.loanAccount_array?null:e.loanAccount_array.modificationNo),s.Eb(1),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(12),s.Uc(null==e.assest_array?null:e.assest_array.assetStatus),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.building),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.mortgagedBranch),s.Eb(7),s.Uc(null==e.assest_array?null:e.assest_array.city),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.country),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.dimensions),s.Eb(7),s.Uc(null==e.assest_array?null:e.assest_array.homeType),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.locality),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.marketValue),s.Eb(7),s.Uc(null==e.assest_array?null:e.assest_array.state),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.city),s.Eb(5),s.Uc(null==e.assest_array?null:e.assest_array.zipCode),s.Eb(23),s.Uc(e.ownership),s.Eb(5),s.Uc(e.ownership),s.Eb(5),s.Uc(e.noOfApplicants),s.Eb(1),s.rc("ngForOf",e.customerInfoDetails),s.Eb(2),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(23),s.Uc(null==e.mandateDetails?null:e.mandateDetails.noOfApplicants),s.Eb(2),s.rc("ngForOf",e.mandateDetailsArray),s.Eb(2),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(12),s.Uc(null==e.colateral_array?null:e.colateral_array.attributes),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.building),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.city),s.Eb(7),s.Uc(null==e.colateral_array?null:e.colateral_array.collateralCurrency),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.collateralType),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.collateralValue),s.Eb(7),s.Uc(null==e.colateral_array?null:e.colateral_array.country),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.dimensions),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.locality),s.Eb(7),s.Uc(null==e.colateral_array?null:e.colateral_array.state),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.thirdPartyCollateral),s.Eb(5),s.Uc(null==e.colateral_array?null:e.colateral_array.street),s.Eb(2),s.rc("ngIf",e.colateral_array),s.Eb(2),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(12),s.Uc(null==e.guranator_array?null:e.guranator_array.prefix),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.firstName),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.lastName),s.Eb(7),s.Uc(null==e.guranator_array?null:e.guranator_array.cifNumber),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.relationWithCustomer),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.country),s.Eb(7),s.Uc(null==e.guranator_array?null:e.guranator_array.dateOfBirth),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.emailAddress),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.mobileNumber),s.Eb(7),s.Uc(null==e.guranator_array?null:e.guranator_array.address1),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.address2),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.city),s.Eb(7),s.Uc(null==e.guranator_array?null:e.guranator_array.state),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.phoneNumber),s.Eb(5),s.Uc(null==e.guranator_array?null:e.guranator_array.zipCode),s.Eb(16),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(3),s.rc("ngForOf",e.loanInterest_array),s.Eb(5),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(11),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.branchCode),s.Eb(5),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.customerAccount),s.Eb(5),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.disbursementMode),s.Eb(7),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.firstDisbursementDate),s.Eb(5),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.loanAmount),s.Eb(5),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.mutipleDisbursementRequired),s.Eb(7),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.numberOfDisbursement),s.Eb(5),s.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.totalDisbursement),s.Eb(4),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(11),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.bankName),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.branchCode),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.customerAccount),s.Eb(7),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.firstRepaymentDate),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.loanTenure),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.maturityDate),s.Eb(7),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.moraturioumPeriod),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.typeOfRepayment),s.Eb(5),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.repaymentFrequency),s.Eb(7),s.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.repaymentMode),s.Eb(3),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(3),s.rc("ngForOf",e.loanCharge_array),s.Eb(12),s.Uc(null==e.accountService_array?null:e.accountService_array.statementCycle),s.Eb(5),s.Uc(null==e.accountService_array?null:e.accountService_array.statementType),s.Eb(5),s.Uc(null==e.accountService_array?null:e.accountService_array.startDate),s.Eb(14),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(3),s.rc("ngIf",e.loanCreditScore_array),s.Eb(3),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(11),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.bankValuation),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.assetType),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.propertyAreaSize),s.Eb(7),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.actualPropertyAreaSize),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.borrowersMktValOfAsset),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.faceValOfAsset),s.Eb(7),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.mktValOfAsset),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.assetValue),s.Eb(5),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.forcedSaleValue),s.Eb(7),s.Uc(null==e.valueofassest_array?null:e.valueofassest_array.valuationDate),s.Eb(3),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(11),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.opinion),s.Eb(5),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.assetAreaSize),s.Eb(5),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.description),s.Eb(7),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.lawyerName),s.Eb(5),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.mktValOfAsset),s.Eb(5),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.opinionDate),s.Eb(7),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.isDecisionFavorable),s.Eb(5),s.Uc(null==e.legaopninio_array?null:e.legaopninio_array.valuationDate),s.Eb(24),s.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardId),s.Eb(5),s.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.numberOfApplicant),s.Eb(5),s.rc("ngForOf",null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardMapping),s.Eb(2),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(11),s.Uc(null==e.loanassement_array?null:e.loanassement_array.approvedLoanAmount),s.Eb(5),s.Uc(null==e.loanassement_array?null:e.loanassement_array.loanTenure),s.Eb(5),s.Uc(null==e.loanassement_array?null:e.loanassement_array.rateOfInterest),s.Eb(7),s.Uc(null==e.loanassement_array?null:e.loanassement_array.loanAmountRecommendation),s.Eb(5),s.Uc(null==e.loanassement_array?null:e.loanassement_array.systemRecommendation),s.Eb(5),s.Uc(null==e.loanassement_array?null:e.loanassement_array.userRecommendation),s.Eb(7),s.Uc(null==e.loanassement_array?null:e.loanassement_array.requestedLoanAmount),s.Eb(16),s.rc("ngIf","BACKLOG"==e.dataResponse.dataResp.status),s.Eb(11),s.Uc(null==e.offerissue_array?null:e.offerissue_array.applicantName),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.approvedLoanAmount),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.charges),s.Eb(7),s.Uc(null==e.offerissue_array?null:e.offerissue_array.generateOffer),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.installmentAmount),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.installmentType),s.Eb(7),s.Uc(null==e.offerissue_array?null:e.offerissue_array.interest),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.loanTenure),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.offerIssueDate),s.Eb(7),s.Uc(null==e.offerissue_array?null:e.offerissue_array.principal),s.Eb(5),s.Uc(null==e.offerissue_array?null:e.offerissue_array.rateOfInterest),s.Eb(19),s.rc("ngIf",e.offerDetails),s.Eb(18),s.rc("ngIf",e.postOfferDetails),s.Eb(18),s.rc("ngIf",e.accountCreateValue),s.Eb(25),s.Uc(null==e.signatureData?null:e.signatureData.documentName),s.Eb(5),s.Uc(null==e.signatureData?null:e.signatureData.fileType),s.Eb(5),s.Uc(null==e.signatureData?null:e.signatureData.fileName),s.Eb(4),s.rc("ngIf",null==e.signatureData?null:e.signatureData.fileUrl),s.Eb(4),s.rc("hidden",e.rejectedStatus)("ngClass",s.yc(156,zm,e.rejectedStatus,!e.rejectedStatus)),s.Eb(3),s.rc("hidden",e.approvedStatus)("ngClass",s.yc(159,qm,e.approvedStatus,!e.approvedStatus)))},directives:[W.e,W.d,X.a,i.m,I.c,i.n,W.b,I.a,Ba.a,I.d,W.f,T.f,i.l,co.a,J.a,J.c,J.e,J.f,A.a],pipes:[i.v,i.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.rejectbtn[_ngcontent-%COMP%]{text-align:center;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.approvebtn[_ngcontent-%COMP%], .rejectbtn[_ngcontent-%COMP%]{border-style:1px solid transparent}.approvebtn[_ngcontent-%COMP%]{margin:10px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.num[_ngcontent-%COMP%]{width:50%;background-color:#fff}.num[_ngcontent-%COMP%], .num1[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center;height:70px;padding-top:25px}.num1[_ngcontent-%COMP%]{width:15%}.qtncrd[_ngcontent-%COMP%]{border:.5px groove;margin-right:2%}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:5%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%;border:1px solid}.appersoninfocard1[_ngcontent-%COMP%]{width:90%;border:1px solid}.interstcard[_ngcontent-%COMP%]{background-color:#e5e5e5;width:100px;height:80px}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px;position:relative;padding-right:12px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;padding:3rem 3.3rem;color:#fff}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.editbtn[_ngcontent-%COMP%]{width:150px}.editbtn[_ngcontent-%COMP%], .editScreen[_ngcontent-%COMP%]{color:#fff;background-color:#0e7cc5;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;border-color:#0e57c5;height:30px}.editScreen[_ngcontent-%COMP%]{width:100px}.qtncrd[_ngcontent-%COMP%]{background-color:#f7f7f7;margin-left:12%;margin-bottom:40px;padding:10px;width:100%;box-shadow:#f7f7f7;block-size:70px;height:80px}.qtnval[_ngcontent-%COMP%]{padding-top:8px;width:100%;color:#696969}.qtncard1[_ngcontent-%COMP%]{height:80px;block-size:80px;background-color:#f7f7f7;margin-left:12%}.qtncard[_ngcontent-%COMP%], .qtncard1[_ngcontent-%COMP%]{width:100%}.qtnhd[_ngcontent-%COMP%]{margin:20px}.applicanthd[_ngcontent-%COMP%]{text-align:left;padding:42px;font-size:medium;font-family:sans-serif;color:rgba(0,0,0,.7411764705882353)}"]}),jm),Km=function(t,e,a,n){return new(a||(a=Promise))(function(o,r){function i(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(i,c)}s((n=n.apply(t,e||[])).next())})};function $m(t,e){1&t&&s.Sb(0,"mat-spinner",21),2&t&&s.rc("diameter",15)}function Hm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"button",18),s.fc("click",function(){return s.Hc(a),s.jc().clear()}),s.Xb(1,"div",19),s.Rc(2,$m,1,1,"mat-spinner",20),s.Wb(),s.Xb(3,"mat-icon"),s.Tc(4,"close"),s.Wb(),s.Wb()}if(2&t){var n=s.jc();s.Eb(2),s.rc("ngIf",n.loading)}}function Ym(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Zm(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function Qm(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),s.Xb(1,"div"),s.Xb(2,"mat-icon",23),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",24),s.Xb(9,"div",25),s.Rc(10,Ym,2,1,"div",26),s.Rc(11,Zm,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",28),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Xb(16,"span",29),s.Tc(17),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"form",30),s.Xb(19,"div",31),s.Xb(20,"span"),s.Tc(21,"Account Branch "),s.Wb(),s.Xb(22,"span"),s.Tc(23,"Account Type "),s.Wb(),s.Wb(),s.Xb(24,"div",32),s.Xb(25,"span"),s.Tc(26),s.Wb(),s.Xb(27,"span"),s.Tc(28),s.Wb(),s.Wb(),s.Sb(29,"br"),s.Xb(30,"div",33),s.Xb(31,"span"),s.Tc(32,"Business Product Name"),s.Wb(),s.Xb(33,"span"),s.Tc(34,"Status"),s.Wb(),s.Wb(),s.Xb(35,"div",34),s.Xb(36,"span"),s.Tc(37),s.Wb(),s.Xb(38,"span"),s.Tc(39),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(3),s.Vc("#",n.loanAccountId,""),s.Eb(9),s.Uc(n.accountBranch),s.Eb(2),s.Uc(n.accountType),s.Eb(9),s.Uc(n.businessProductName),s.Eb(2),s.Uc(n.status)}}function tf(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function ef(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function af(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),s.Xb(1,"div"),s.Xb(2,"mat-icon",37),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",24),s.Xb(9,"div",25),s.Rc(10,tf,2,1,"div",26),s.Rc(11,ef,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",28),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Xb(16,"span",29),s.Tc(17),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"form",30),s.Xb(19,"div",31),s.Xb(20,"span"),s.Tc(21,"Account Branch "),s.Wb(),s.Xb(22,"span"),s.Tc(23,"Account Type "),s.Wb(),s.Wb(),s.Xb(24,"div",32),s.Xb(25,"span"),s.Tc(26),s.Wb(),s.Xb(27,"span"),s.Tc(28),s.Wb(),s.Wb(),s.Sb(29,"br"),s.Xb(30,"div",33),s.Xb(31,"span"),s.Tc(32,"Business Product Name"),s.Wb(),s.Xb(33,"span"),s.Tc(34,"Status"),s.Wb(),s.Wb(),s.Xb(35,"div",34),s.Xb(36,"span"),s.Tc(37),s.Wb(),s.Xb(38,"span"),s.Tc(39),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(3),s.Vc("#",n.loanAccountId,""),s.Eb(9),s.Uc(n.accountBranch),s.Eb(2),s.Uc(n.accountType),s.Eb(9),s.Uc(n.businessProductName),s.Eb(2),s.Uc(n.status)}}function nf(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function of(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function rf(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),s.Xb(1,"div"),s.Xb(2,"mat-icon",38),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",24),s.Xb(9,"div",25),s.Rc(10,nf,2,1,"div",26),s.Rc(11,of,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",28),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Xb(16,"span",29),s.Tc(17),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"form",30),s.Xb(19,"div",31),s.Xb(20,"span"),s.Tc(21,"Account Branch "),s.Wb(),s.Xb(22,"span"),s.Tc(23,"Account Type "),s.Wb(),s.Wb(),s.Xb(24,"div",32),s.Xb(25,"span"),s.Tc(26),s.Wb(),s.Xb(27,"span"),s.Tc(28),s.Wb(),s.Wb(),s.Sb(29,"br"),s.Xb(30,"div",33),s.Xb(31,"span"),s.Tc(32,"Business Product Name"),s.Wb(),s.Xb(33,"span"),s.Tc(34,"Status"),s.Wb(),s.Wb(),s.Xb(35,"div",34),s.Xb(36,"span"),s.Tc(37),s.Wb(),s.Xb(38,"span"),s.Tc(39),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(3),s.Vc("#",n.loanAccountId,""),s.Eb(9),s.Uc(n.accountBranch),s.Eb(2),s.Uc(n.accountType),s.Eb(9),s.Uc(n.businessProductName),s.Eb(2),s.Uc(n.status)}}function cf(t,e){if(1&t&&(s.Xb(0,"div"),s.Sb(1,"app-photo",35),s.Wb()),2&t){var a=s.jc().$implicit;s.Eb(1),s.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function sf(t,e){if(1&t&&s.Sb(0,"img",36),2&t){var a=s.jc().$implicit;s.rc("src",a.profileImage,s.Jc)}}function lf(t,e){if(1&t){var a=s.Yb();s.Xb(0,"div",22),s.fc("click",function(){s.Hc(a);var t=e.$implicit,n=e.index,o=s.jc();return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),s.Xb(1,"div"),s.Xb(2,"mat-icon",39),s.Tc(3,"bookmark"),s.Wb(),s.Xb(4,"span"),s.Xb(5,"small"),s.Tc(6),s.kc(7,"dateAgo"),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"mat-card-header",24),s.Xb(9,"div",25),s.Rc(10,cf,2,1,"div",26),s.Rc(11,sf,1,1,"ng-template",null,27,s.Sc),s.Wb(),s.Xb(13,"mat-card-title",28),s.Tc(14),s.Wb(),s.Xb(15,"mat-card-subtitle"),s.Xb(16,"span",29),s.Tc(17),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"form",30),s.Xb(19,"div",31),s.Xb(20,"span"),s.Tc(21,"Account Branch "),s.Wb(),s.Xb(22,"span"),s.Tc(23,"Account Type "),s.Wb(),s.Wb(),s.Xb(24,"div",32),s.Xb(25,"span"),s.Tc(26),s.Wb(),s.Xb(27,"span"),s.Tc(28),s.Wb(),s.Wb(),s.Sb(29,"br"),s.Xb(30,"div",33),s.Xb(31,"span"),s.Tc(32,"Business Product Name"),s.Wb(),s.Xb(33,"span"),s.Tc(34,"Status"),s.Wb(),s.Wb(),s.Xb(35,"div",34),s.Xb(36,"span"),s.Tc(37),s.Wb(),s.Xb(38,"span"),s.Tc(39),s.Wb(),s.Wb(),s.Sb(40,"br"),s.Wb(),s.Wb()}if(2&t){var n=e.$implicit,o=s.Dc(12);s.Eb(6),s.Uc(s.lc(7,12,null==n?null:n.createdTime)),s.Eb(4),s.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),s.Eb(4),s.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),s.Eb(3),s.Vc("#",n.loanAccountId,""),s.Eb(9),s.Uc(n.accountBranch),s.Eb(2),s.Uc(n.accountType),s.Eb(9),s.Uc(n.businessProductName),s.Eb(2),s.Uc(n.status)}}var bf,uf,df=[{path:""},{path:"task-summary",component:Xr},{path:"cust-on-boarding-task-summary",component:Uc},{path:"kyc-task-summary",component:Mr},{path:"cust-on-boarding-approver",component:Xc},{path:"corporate-task-summary",component:gb},{path:"loan-account-task-summary",component:(bf=function(){function t(e,n,o,r,i,c,l){a(this,t),this.dialog=e,this.ls=n,this.taskSumService=o,this.cdr=r,this.apiService=i,this.snack=c,this.sanitizer=l,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.screenType="loan",this.isScroll=!0,this.setValue=new s.o,this._searchSubject=new b.a,this.listOfOptions=[{label:"Corporate ID",value:"corporateID",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this._setSearchSubscription()}return o(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t=this;this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.getDataOnLoad(),this.listOfOptions.filter(function(e){e.checked&&(t.radioButtonSelected=e.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}},{key:"radioChange",value:function(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}},{key:"updateSearch",value:function(t){console.log("searchTextValue::",t),this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(u.a)(1e3)).subscribe(function(e){if(t.setValue.emit(e),console.log("search value :: ",e),console.log("search text :: ",t.searchText),null==e||""==e||""==e)return t.noDataFound=!1,t.searchable=!1,void t.getDataOnLoad();t.searchcorporateID(e)})}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"getDataOnLoad",value:function(){return Km(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}))}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"BACKLOG"==t?(this.BACKLOGArr=null==e?void 0:e.loanList,this.BACKLOGTotalPages=null==e?void 0:e.totalPages,this.BACKLOGTotalRecords=null==e?void 0:e.totalNoOfElements):"ONGOING"==t?(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.loanList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.loanList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.taskSumService.getAllLoanDetailOnScroll(t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),n.updateDataOnScroll(t,e.loanList)}):console.log("No scroll requied")}},{key:"goToLoanAccountSummary",value:function(t,e,a){var n=this;localStorage.setItem("CustomerColorCode",a),this.dialog.open(Jm,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(function(t){console.log("dialog closed:: ",t),"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus||n.getDataOnLoad(),n.getDataOnLoad()})}},{key:"searchcorporateID",value:function(t){var e,a,n=this;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("Id"),e=this.searchText.trim(),this.taskSumService.getallLoanAccountData2(e).subscribe(function(t){console.log(t),null!=t?(a="loanAccountId="+e,console.log("loan",a)):(console.log("not a loan"),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(function(){n.getCustomerData(a)},100),this.isScroll=!1}},{key:"getCustomerData",value:function(t){var e=this;console.log(t),this.loading=!0;for(var a=0;a<this.statusArr.length;a++){var n=this.statusArr[a];"BACKLOG"==n?this.taskSumService.getallLoanAccountData1(t,n).subscribe(function(t){e.BACKLOGTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.BACKLOGArr=[];for(var a=0;a<(null==t?void 0:t.loanList.length);a++)e.BACKLOGArr.push(null==t?void 0:t.loanList[a])}):"ONGOING"==n?this.taskSumService.getallLoanAccountData1(t,n).subscribe(function(t){e.ONGOINGTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.ONGOINGArr=[];for(var a=0;a<(null==t?void 0:t.loanList.length);a++)e.ONGOINGArr.push(t.loanList[a])}):"APPROVED"==n?this.taskSumService.getallLoanAccountData1(t,n).subscribe(function(t){e.APPROVEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.APPROVEDArr=[];for(var a=0;a<(null==t?void 0:t.loanList.length);a++)e.APPROVEDArr.push(t.loanList[a])}):"REJECTED"==n&&this.taskSumService.getallLoanAccountData1(t,n).subscribe(function(t){e.REJECTEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.REJECTEDArr=[];for(var a=0;a<(null==t?void 0:t.loanList.length);a++)e.REJECTEDArr.push(null==t?void 0:t.loanList[a])})}}},{key:"resetSearchData",value:function(){this.BACKLOGArr=[],this.ONGOINGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){if(console.log(t),console.log(t.profileImage),e.searchable=!1,null!=t.profileImage){var a="data:image/jpeg;base64,"+t.profileImage.fileData;e.searchable=!0,e.image=e.sanitizer.bypassSecurityTrustUrl(a),console.log(e.searchable,"Searchable")}},function(t){console.log(t)})}},{key:"getcorporateIDData",value:function(t){var e=this;console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(function(t){if(console.log("resp data :: ",t),e.cdr.markForCheck(),e.cdr.detectChanges(),null!=t){var a=t[0].customerAdditionalInfo.kycStatus+"Arr";e[a].splice(0,0,t[0]),e[a]=e[a].slice(),console.log("resp value :: ",e[a])}else e.noDataFound=!0})}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.ONGOINGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.BACKLOGArr=[],this.BACKLOGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.ONGOINGPage=0,this.BACKLOGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.ONGOINGTotalPages=0}},{key:"updateDataOnScroll",value:function(t,e){return Km(this,void 0,void 0,regeneratorRuntime.mark(function a(){var n,o,r,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"BACKLOG"==t?(n=Yt.unionBy(this.BACKLOGArr,e,"loanAccountId"),this.BACKLOGArr=n):"ONGOING"==t?(o=Yt.unionBy(this.ONGOINGArr,e,"loanAccountId"),this.ONGOINGArr=o):"APPROVED"==t?(r=Yt.unionBy(this.APPROVEDArr,e,"loanAccountId"),this.APPROVEDArr=r):"REJECTED"==t&&(i=Yt.unionBy(this.REJECTEDArr,e,"loanAccountId"),this.REJECTEDArr=i),this.cdr.markForCheck();case 2:case"end":return a.stop()}},a,this)}))}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}(),bf.\u0275fac=function(t){return new(t||bf)(s.Rb(m.b),s.Rb(d.a),s.Rb(h.a),s.Rb(s.h),s.Rb(l.b),s.Rb(y.a),s.Rb(io.b))},bf.\u0275cmp=s.Lb({type:bf,selectors:[["app-loan-account-task-summary"]],hostBindings:function(t,e){1&t&&s.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:63,vars:17,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"heading"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"topSection"],["appearance","outline",1,"full-width"],["matInput","","name","search","autocomplete","off","placeholder","Search Loan Account Id",3,"ngModel","ngModelChange","keyup"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],[1,"tolltipicon"],["class","colorChange",3,"click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayoutAlign","center"],[3,"diameter",4,"ngIf"],[3,"diameter"],[1,"colorChange",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"naming"],[1,"loanIdText"],[1,"head1"],["fxLayout","row","fxLayoutGap","40px",1,"col1"],["fxLayout","row","fxLayoutGap","58px",1,"col2"],["fxLayout","row","fxLayoutGap","40px",1,"col3"],["fxLayout","row","fxLayoutGap","44px",1,"col4"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","book2"],[1,"fill-color-blue","bookMark","book3"],[1,"fill-color-blue","bookMark","book4"]],template:function(t,e){1&t&&(s.Sb(0,"br"),s.Xb(1,"div",0),s.fc("scrolled",function(t){return e.onScroll(t)}),s.Sb(2,"br"),s.Xb(3,"div",1),s.Xb(4,"div",2),s.Xb(5,"div",3),s.Xb(6,"span",4),s.Tc(7," Loan Account Task Summary "),s.Wb(),s.Wb(),s.Xb(8,"div",5),s.Xb(9,"mat-form-field",6),s.Xb(10,"mat-label"),s.Tc(11,"Search"),s.Wb(),s.Xb(12,"input",7),s.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),s.Wb(),s.Xb(13,"mat-icon",8),s.Tc(14,"search"),s.Wb(),s.Rc(15,Hm,5,1,"button",9),s.Xb(16,"mat-hint"),s.Tc(17,"Search Loan Account ID"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"div",10),s.Xb(19,"div",11),s.Xb(20,"mat-card",12),s.Xb(21,"div",13),s.Xb(22,"span",14),s.Xb(23,"h2",15),s.Tc(24),s.Wb(),s.Wb(),s.Xb(25,"span",16),s.Xb(26,"mat-icon"),s.Tc(27,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(28,"div"),s.Rc(29,Qm,41,14,"div",17),s.Wb(),s.Sb(30,"br"),s.Wb(),s.Xb(31,"mat-card",12),s.Xb(32,"div",13),s.Xb(33,"span",14),s.Xb(34,"h2",15),s.Tc(35),s.Wb(),s.Wb(),s.Xb(36,"span",16),s.Xb(37,"mat-icon"),s.Tc(38,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(39,"div"),s.Rc(40,af,41,14,"div",17),s.Wb(),s.Wb(),s.Xb(41,"mat-card",12),s.Xb(42,"div",13),s.Xb(43,"span",14),s.Xb(44,"h2",15),s.Tc(45),s.Wb(),s.Wb(),s.Xb(46,"span",16),s.Xb(47,"mat-icon"),s.Tc(48,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(49,"div"),s.Rc(50,rf,41,14,"div",17),s.Wb(),s.Sb(51,"br"),s.Wb(),s.Xb(52,"mat-card",12),s.Xb(53,"div",13),s.Xb(54,"span",14),s.Xb(55,"h2",15),s.Tc(56),s.Wb(),s.Wb(),s.Xb(57,"span",16),s.Xb(58,"mat-icon"),s.Tc(59,"more_vert"),s.Wb(),s.Wb(),s.Wb(),s.Xb(60,"div"),s.Rc(61,lf,41,14,"div",17),s.Wb(),s.Wb(),s.Wb(),s.Sb(62,"br"),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),s.Eb(11),s.rc("ngModel",e.searchText),s.Eb(3),s.rc("ngIf",e.searchText),s.Eb(9),s.Wc("Pending for approval (",null==e.BACKLOGArr?null:e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.BACKLOGArr),s.Eb(6),s.Wc("Ongoing (",null==e.ONGOINGArr?null:e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.ONGOINGArr),s.Eb(5),s.Wc("Approved (",null==e.APPROVEDArr?null:e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.APPROVEDArr),s.Eb(6),s.Wc("Rejected (",null==e.REJECTEDArr?null:e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),s.Eb(5),s.rc("ngForOf",e.REJECTEDArr))},directives:[tr.a,W.e,W.d,W.f,W.b,T.c,T.g,E.b,g.c,g.r,g.u,X.a,T.i,i.n,T.f,I.a,i.m,R.b,T.j,O.b,I.e,I.c,I.h,I.g,g.C,g.s,g.t,rr],pipes:[Er.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%;padding-left:55px;padding-right:55px}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.topSection[_ngcontent-%COMP%]{padding-right:5.35%;margin-top:2%}.heading[_ngcontent-%COMP%]{padding-left:3.7%;margin-top:3%}.headingss[_ngcontent-%COMP%]{font-size:17px}.colorChange[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:35vh}.book2[_ngcontent-%COMP%]{color:#ff8c00}.book3[_ngcontent-%COMP%]{color:#1fbfa9}.book4[_ngcontent-%COMP%]{color:red}.naming[_ngcontent-%COMP%]{font-size:12px;overflow-wrap:anywhere}.loanIdText[_ngcontent-%COMP%]{text-transform:uppercase;color:#1fbfa9;font-size:12px}.imgData[_ngcontent-%COMP%]{width:150px;height:50px;border-radius:50%}"]}),bf)},{path:"corporate-approver",component:$l},{path:"card-account-task-summary",component:ad},{path:"card-account-approver",component:Mu},{path:"loan-account-task-summary/loan-account-approver",component:bd}],mf=r("rJgo"),ff=r("hzfI"),pf=r("5QHs"),hf=r("KeVr"),gf=r("zMWy"),vf=r("mnDI"),yf=r("WRcG"),Wf=r("KVVp"),Xf=r("Svv8"),Tf=((uf=function t(){a(this,t)}).\u0275mod=s.Pb({type:uf}),uf.\u0275inj=s.Ob({factory:function(t){return new(t||uf)},providers:[{provide:m.g,useValue:{}},{provide:m.a,useValue:[]}],imports:[[i.c,g.l,g.y,mf.c,E.c,c.a,X.b,I.f,hf.a,ff.c,Ba.b,T.e,vf.a,x.f,Zt.c,O.a,tr.b,pf.a,A.b,p.b,gf.a,He.l.forChild(df),yf.OnboardingCorporateModule,Wf.OthersModule]]}),uf);s.Kc(Xf.a,[W.e,W.d,X.a,I.a,Ri.a,W.f,R.b],[])}}])}();