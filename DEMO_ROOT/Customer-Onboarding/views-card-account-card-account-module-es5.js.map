{"version":3,"sources":["webpack:///src/app/shared/models/cardPrefrences.ts","webpack:///src/app/views/card-account/application-entry-stage/card-customer-information/card-customer-information.component.ts","webpack:///src/app/views/card-account/application-entry-stage/card-customer-information/card-customer-information.component.html","webpack:///src/app/views/card-account/underwriting-stage/underwriting-stage.component.ts","webpack:///src/app/views/card-account/underwriting-stage/underwriting-stage.component.html","webpack:///src/app/views/card-account/application-entry-stage/application-entry-stage.component.ts","webpack:///src/app/views/card-account/application-entry-stage/application-entry-stage.component.html","webpack:///src/app/views/card-account/underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component.ts","webpack:///src/app/views/card-account/underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component.html","webpack:///src/app/views/card-account/supervisor-approval-stage/supervisor-approval-stage.component.ts","webpack:///src/app/views/card-account/supervisor-approval-stage/supervisor-approval-stage.component.html","webpack:///src/app/views/card-account/application-entry-stage/card-prefrences/card-prefrences.component.ts","webpack:///src/app/views/card-account/application-entry-stage/card-prefrences/card-prefrences.component.html","webpack:///src/app/views/card-account/underwriting-stage/underwriting-credit-rating/underwriting-credit-rating.component.ts","webpack:///src/app/views/card-account/underwriting-stage/underwriting-credit-rating/underwriting-credit-rating.component.html","webpack:///src/app/views/card-account/application-enrichment/enrichment-summary/enrichment-summary.component.ts","webpack:///src/app/views/card-account/application-enrichment/enrichment-summary/enrichment-summary.component.html","webpack:///src/app/views/card-account/card-account.component.ts","webpack:///src/app/views/card-account/card-account.component.html","webpack:///src/app/views/card-account/application-enrichment/charge-details/charge-details.component.ts","webpack:///src/app/views/card-account/application-enrichment/charge-details/charge-details.component.html","webpack:///src/app/views/card-account/assessment-stage/assessment-stage.component.ts","webpack:///src/app/views/card-account/assessment-stage/assessment-stage.component.html","webpack:///src/app/views/card-account/card-account.routing.ts","webpack:///src/app/views/card-account/application-enrichment/charge-details/card-acc-charge-det-sum/card-acc-charge-det-sum.component.ts","webpack:///src/app/views/card-account/application-enrichment/charge-details/card-acc-charge-det-sum/card-acc-charge-det-sum.component.html","webpack:///src/app/views/card-account/digital-signing/digital-view-summary/digital-view-summary.component.ts","webpack:///src/app/views/card-account/digital-signing/digital-view-summary/digital-view-summary.component.html","webpack:///src/app/views/card-account/digital-signing/digitalsign-summary/digitalsign-summary.component.ts","webpack:///src/app/views/card-account/digital-signing/digitalsign-summary/digitalsign-summary.component.html","webpack:///src/app/views/card-account/cardaccount-application-assessment/cardaccount-application-assessment.component.ts","webpack:///src/app/views/card-account/cardaccount-application-assessment/cardaccount-application-assessment.component.html","webpack:///src/app/views/card-account/application-enrichment/intrest-details/intrest-details.component.ts","webpack:///src/app/views/card-account/application-enrichment/intrest-details/intrest-details.component.html","webpack:///src/app/views/card-account/digital-signing/digital-signing.component.ts","webpack:///src/app/views/card-account/digital-signing/digital-signing.component.html","webpack:///src/app/views/card-account/document-upload/document-details/document-details.component.html","webpack:///src/app/views/card-account/document-upload/document-details/document-details.component.ts","webpack:///src/app/views/card-account/application-entry-stage/financial-details/financial-details.component.ts","webpack:///src/app/views/card-account/application-entry-stage/financial-details/financial-details.component.html","webpack:///src/app/views/card-account/application-entry-stage/card-account-services/card-account-services.component.ts","webpack:///src/app/views/card-account/application-entry-stage/card-account-services/card-account-services.component.html","webpack:///src/app/views/card-account/digital-signing/digital-sign-now-or-later/digital-sign-now-or-later.component.ts","webpack:///src/app/views/card-account/digital-signing/digital-sign-now-or-later/digital-sign-now-or-later.component.html","webpack:///src/app/views/card-account/application-entry-stage/card-initiation/card-initiation.component.ts","webpack:///src/app/views/card-account/application-entry-stage/card-initiation/card-initiation.component.html","webpack:///src/app/views/card-account/supervisor-approval-stage/approval-details/approval-details.component.ts","webpack:///src/app/views/card-account/supervisor-approval-stage/approval-details/approval-details.component.html","webpack:///src/app/views/card-account/application-enrichment/intrest-details/intrest-details-summary/intrest-details-summary.component.ts","webpack:///src/app/views/card-account/application-enrichment/intrest-details/intrest-details-summary/intrest-details-summary.component.html","webpack:///src/app/views/card-account/application-enrichment/application-enrichment.component.ts","webpack:///src/app/views/card-account/application-enrichment/application-enrichment.component.html","webpack:///src/app/views/card-account/document-upload/document-upload.component.ts","webpack:///src/app/views/card-account/document-upload/document-upload.component.html","webpack:///src/app/views/card-account/card-account.module.ts","webpack:///src/app/views/card-account/underwriting-stage/cardaccount-qualitative-scoreboard/cardaccount-qualitative-scoreboard.component.ts","webpack:///src/app/views/card-account/underwriting-stage/cardaccount-qualitative-scoreboard/cardaccount-qualitative-scoreboard.component.html"],"names":["home","applicant","value","CardCustomerInformationComponent","router","dialog","route","accountService","elRef","renderer","ls","apiService","formBuilder","confirmService","cdr","appApiService","snack","dataService","urlService","loader","cifNumberForm","listOfCustByCif","submitted","formData","console","customerIdProofs","selfNextBtnDisabled","arrayPrefix","arrayGender","arrayCountry","arrayState","arrayCity","arrayResidence","arrayDocumentType","arrayAddressType","applicantDetailsArray","toggle","customerDetails","applicantDetails","showEditOption","tomorrow","Date","maxDate","minDate","validDate","showNewForm","isCifValid","toggleClick","isCustomerDone","previousUrl","addOnCard","addFunc","removedButton","selectedApplicant","listOfAccounts","isAllSameDigitVal","isResidency","isCurrency","addonCardValue","isBirthCountry","isCountry","showExpiryDate","pinCodeErr","prefixFlag","selectedOwnership","citizenshipFflag","setDate","getDate","log","i","isDuplicateCIF","disableSaveBtn","cardId","getItem","applicantId","snapshot","params","JSON","parse","cifNumberPrimary","buildCustomerForm","getListOfAccounts","getOwnershipValue","getPrefixValue","getGenderValue","getResidenceDetails","getCountryName","getAdressType","getAllAuthCities","getDocumentType","getMaritalStatus","isChecked","disabled","disabledToggle","goToggle","fetchCardCustomersByCardId","subscribe","resp","err","dataExtracted","subscription","getaccParam","data","dispResponse","custIdProofs","cardCustomerForm","get","valueChanges","val","patchValue","setItem","onlySelf","emitEvent","reset","ownershipStatus","setValue","noOfapplicants","pipe","prev","next","previousUrl$","refresh","res","markForCheck","cifNumber","getStateName","country","applicantData","prefix","existingCustomer","primaryCustomer","customerId","firstName","middleName","lastName","gender","dateOfBirth","convertDate","placeOfBirth","residenceStatus","nationality","countryOfResidence","occupationType","idType","idNumber","expiryDate","addressType","address1","address2","city","state","zipCode","phoneNumber","landlineNumber","primaryEmailAdress","maritalStatus","birthCountry","doc","clearValidators","idProofs","filter","item","length","Object","prototype","toString","call","stringify","event","charCode","keyCode","open","duration","verticalPosition","horizontalPosition","account","disable","address","userAddress","find","payLoadModel","dependentId","onSelectionBirthCountry","onSelectionResidance","onSelectionCitizionship","getCountrySelection1","onBirthCountry","closeDetails","enable","status","map","_id","Math","round","random","requiredFields","acc","field","id","index","element","numOfApplicants","toggleChanges","confirm","title","message","ok","cancel","deleteApplicant","error","text","isExistingCustomer","some","currency","birthCountryFlag","fetchByCif","customerInfoList","policyRenewalDate","format","onSelectionCitizionship1","onOtherSelectionResidance","getCountrySelection","customerName","date","group","productAccountId","accountId","ownership","addCustFormGroup","setValidators","required","updateValueAndValidity","pattern","minLength","maxLength","email","inputChar","String","fromCharCode","test","preventDefault","inp","excludedKeys","includes","controls","f","key","getDropDownValues","maritalStatusList","arrayOwnership","getAllCountries","authStatus","push","countryName","isAdd","getStateByCountryId","getAuthorizedCityInfo","r","cityName","countryFlaglists","currencyCode","toLowerCase","countryCode","editCountryCode","Currency1","Currency","ResideceCurrency","payloadObj","control","addressObj","custIdProofsArray","addressObjArray","accountType","createAndUpdateCardAccountants","close","custDependentModel","o1","o2","navigate","localStorage","target","clearTimeout","timer","setTimeout","count","number","unsubscribe","sendNavParam","checked","zipcode","fetchStateCityByZipcode","stateName","evt","selector","templateUrl","styleUrls","progressBar","UnderwritingStageComponent","dialogService","isCardCreditRatingDetails","isCardQualitativeScoreboard","cardAccountcreditRatingSummaryDialog","CardQualitativeSummaryDialog","ApplicationEntryStageComponent","isCardPrefrenceDone","CardInitiationScreenDone","isCardInitiationDone","isCardCustomerInformationScreen","isCardFinancialDetailsScreen","isCardAccountService","isCardApplicationStageDone","CardInitiationSummary","CardFinancialDetailsSummary","CardCustomerInfoSummary","cardAccountServiceViewSummary","cardPrefrenceSummary","cardAppEntryStageViewSummary","UnderwritingStageSummaryComponent","imagePath","getAllData","getCardQualitativeScorecardDetails","response","qualitativeScoreboardSummary","scoreCardMapping","getCardCreditRatingDetails","creditDetails","creditRatingValues","goBack","done","SupervisorApprovalStageComponent","isApprovalDetails","isCardSupervisorApprovalDone","CardApprovalSummary","CardApprovalViewSummary","CardPrefrencesComponent","fb","arraylimitType","selectedOptions2","cardDetails","isdailylimit","isLimitTransaction","isGreaterValue","selectedDocumentTypes2","cardPrefrenceOnLoad","isRowEnds","islimitType","isDLReadOnly","isLPTReadOnly","isDocumentOptionDisabled2","buildCardPrefrenceForm","cardPrefrenceScreen","gettingCardPrefrenceDetail","getCardPrefrence","limitType","isResponse","cardPrefrenceForm","cardPrefrences","array","addMFormGroup","addMandateToFormGroup","dailyLimit","addComa","limitPerTransaction","m","numberOfItems","num1","finalNum","replace","split","final","join","flag","k","limiPrTrn","dailyNum","removeComma","LimitTxn","Number","payload","limitDaily","removeAt","undefined","preferenceId","deleteCardPrefrence","splice","newTransaction","assign","parseInt","uploadCardPrefrence","num","numb","addMandate","onSubmit","UnderwritingCreditRatingComponent","api","customerNames","getCustomerInformationDetails","buildCreditForm","gettingCreditRatingDetail","creditDetailsForm","agencyRating","addModFormGroup","c","agencyId","agencyName","ratings","compose","max","remarks","fetchCustomersByCardAccId","saveCreditDetails","disableTest","disableUjjivan","disableFastTrack","disableAddAgency","EnrichmentSummaryComponent","appEntrySummaryView","getCardEnrichmentDetails","interestForm","interest","savingForm","saving","chargeFormIT","chargeIT","loanForm","loan","getFlexcubeDetails","onCardCharge","in2","getCardEnrichmentSummmary","summaryInfo","intererstInfo","onCardintrest","chargeInfo","e","intrestType","intrestRateApplicable","marginIn","effectiveRate","createdDate","createdBy","lastModifiedDate","lastModifiedBy","amount","waiver","chargeDetailsId","f2","floan","Back","Done","CardAccountComponent","isAddOnCardHolderDetails","isDocumentUploadDone","isDocumentUpload","isCardApplicationEnrichmentDone","isCardInterestDetails","isCardChargeDetails","isApplicationUnderWritingStageDone","isQualitativeScoreboard","isCardAssessmentStageDone","isAssessmentReport","isApprovedDetails","isCardDigitalSigningDone","isCardDigitalSigning","accountItemsSub","accountItems$","menuItem","accountItems","ChargeDetailsComponent","history","currencytype","currencySymbol","cardInfo","loanaccountID","loanAccountId","onChangeInterest","cardChargeFetchById","slice","form","cardChargeDetailsSave","inputCharacter","AssessmentStageComponent","cardAccountAssessmentSummaryDialog","cardAccAssessmentSummaryDialog","loanQualitativeSummaryDialog","CardAccountRoutes","path","component","children","redirectTo","pathMatch","CardAccChargeDetSumComponent","dialogRef","craetedBy","edit","DigitalViewSummaryComponent","getDigitalsignByCardId","fileUrl","imageUrl","DigitalsignSummaryComponent","CardaccountApplicationAssessmentComponent","_location","currencyPipe","arrayUserRecommendation","arraySystemRecommendation","curr","currencySymbols","symbol","buildAssessmentForm","getCardAssessmentDetails","assessmentForm","assessmentId","requestedCardLimit","systemRecommendation","approvedCardLimit","userRecommendation","recommendedCardLimit","remark","currencyArr","fltered","currencySymboll","reccommendedCardLimit","transform","input","which","fetchcardAssessmentDetailsById","cardAssessmentDetails","_keyPress1","transformAmount","goNext","IntrestDetailsComponent","getInterestDetails","interestInfo","cardInterestFetchById","min","cardInterestId","cardintrestDetailsSave","DigitalSigningComponent","informations","isEsignScreen","height","width","disableClose","afterClosed","submit","navigateByUrl","DocumentDetailsComponent","http","tokenService","shareDataService","doOcrService","webcamImage","webcamImage1","scan1Array","scan2Array","scan3Array","frontImageArray","backImageArray","otherImageArray","otherDocumentArray","boxArray","document_type","custDocExist","documentSide","frontImage","backImage","otherImage","secondBoxArray","thirdBoxArray","ocrResult","nameOnCard","dobArray","idNumberArray","docarr","addressArray","dataFetched","boxArray2","boxArray3","doc_name","docholder","docuNameArray","arrayOfImageArrays0","arrayOfImageArrays1","arrayOfImageArrays2","docValArray","docarray1","newOtherPage","disableNextAtIndex1","otherDocPages","otherDocumentArray2","screenInfo","ff","bf","docName","progressValFrontArray","progressValBackArray","progressValOthersArray","progressValOtherDocumentArray","customerDocs","trigger","aadharParser","str","adharNumber","dob","name","nameLineIndex","asciiStr","trim","lines","startIndex","j","substr","docString","dobIndex","indexOf","pop","names","x","fullName","panCardParser","nameIndex","panNumber","match","fatherNameIndex","nameString","displayName","dobString","passportParser","dateOfIssue","dateOfExpiry","doIssueIndex","findIndex","line","dates","nationalityIndex","issueNoString","issueNoStringArray","screen","screenName","sessionStorage","customer_Id","addCustomer","documentForm","documentName","frontSide","backSide","others","items","inititemrows","document_name","documentTypeArr","getName","assignName","getOCR","getCustomerId","cId","assignOCRValues","getenableNext","doc_list","forEach","documentType","getKycDataFetchedInfo","documentsList","createItem","createDocItem","upload","dataFetchedValue","disableNext","namePancard","imageOCR","imageOCRBack","addressDisplay","hasNonEmptyFields","values","Boolean","pancard","report","docum_name","backSelected","document_side","deleteCustDoc","othersSelected","getCustomerDocuments","addDocumentlist","newDocumentSide","a","otherArray","fileData","img","docVal","selectedFile","docSideEnum","worker","logger","load","loadLanguage","initialize","recognize","uploadDoc","panCardDetails","nameDoc","passbookDetails","shotToast","aadharDetails","result","ocrFlag","confirmationDialog","changeValue2_Ocr","terminate","fun","fun1","frontSelected","arg0","Error","webcamImage2","function2","uploadData2","FormData","refreshCustomerId","fileType","_mimeType","fileName","verificationType","imageAsDataUrl","displayVal2","file","dataURLtoFile","append","type","body","assignIdValues","asObservable","tab","textLabel","setIndex","setFinishFlag","finishFlag","updateKycStatus","hasOwnProperty","fetchChildIndex","page_id","element2","document","getElementById","click","element3","custId","docImage","objectURL","source","sanitizer","bypassSecurityTrustUrl","updateKycStatusByCustId","uploadData","displayVal","uploadData1","displayVal1","dataurl","filename","arr","mime","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","childindex","selectedFiles","files","size","formatBytes","reader","FileReader","readAsDataURL","onload","image","doOCR","otherDocumentSelected","bytes","decimals","dm","sizes","floor","parseFloat","pow","toFixed","url","documnetSideValue","docType","uploadSub","UploadProgress","loaded","total","backSideId","otherSideId","otherDocumentSideId","shareCustomerId","sideType","msg","deleteRecord","delCustDoc","uploadDocLink","backdropClass","FinancialDetailsComponent","lastData","toISOString","applicantName","isFinancialScreen","getEmploymentType","getEmploymentCategory","getCardFinancialDetailsSummary","buildFinacialFormGroup","getCardFinancialDetails","arrayEmploymentType","arrayEmploymentCategory","cardFinancialDetailsForm","currentlyWorking","applicantTotalIncome","applicantTotalExpense","lastUpdatedon","employmentType","employmentCategory","employeeNumber","officeName","designation","employmentStartDate","employmentEndDate","salary","interestIncome","bonus","cashGifts","business","pension","monthlyIncomeRentals","monthlyIncomeOthers","monthlyIncomeTotal","household","education","vehicleMaintenance","monthlyExpenseRentals","monthlyExpenseOthers","medical","travel","monthlyExpenseTotal","propertyLoan","vehicleLoan","personalLoans","overdraft","cardOutstandings","liabilityOthers","liabilityTotal","savingDeposits","properties","automobiles","fixedDeposits","lands","assetOthers","stocks","assetTotal","validator","formGroup","validateInputGroups","formgroup","incomeErrMsg","ExpensesErrMsg","LiabilitiesErrMsg","assetErrMsg","startDate","converDate","endDate","upsertCardFinancialDetails","fincialResp","income","detectChanges","calculateTotalIncomeAndExpense","expense","liability","asset","totalIncome","totalExpense","CardAccountServicesComponent","show","selectedRow","statementList","communicationList","commChannelPreferencesArray","AccStatementPreferenceArray","enableFinish","isAccountServiceDone","gettingAccountService","buildServiceForm","accountServiceForm","gettingCardAccountServiceDetails","statementPref","commChannelPref","statementFrequency","statementFrncy","accServiceId","flattenValues","checkbox","checklist","checkboxes","flattenedValues","accountPayload","invalid","updateAccountService","createAccountService","goToNext","DigitalSignNowOrLaterComponent","isDone","isSignLater","getCardInitiationDetails","accountdetailsForStatusUpdate","updateCardAccountStatus","alertForCardFinishButton","statusModel","updateCardStatus","updateResp","removeItem","clear","esignLink","subject","signInLater","getByAccountId","openPopUp","onDone","animations","cardInitiationForm","CardInitiationComponent","arrayofEmployment","onbackSpace","isAddOnCard","localCurrencyArr","selectedCurrency","iskycStatus","isGoForKyc","isKycForCardDone","accountNoArr","buildInitiationForm","isCardDetails","getCardInitiation","kycRefrence","kycNum","getPrimaryInfo","kycStatus","customerAdditionalInfo","getProfileDetails","signatures","accountID","accountCurrency","cardType","customerAccount","affinityProgram","kycReference","uploadCardInitiation","fetchAccountIdByCustId","accountNo","nullValidator","formControlValueChanged","cifNumberControl","valid","showSpinn","custStatus","queryParams","swiftCode","swiftCodeEnable","sendCIF","getAccountData","changeEvent","ApprovalDetailsComponent","getUserRecomendation","getAccountType","getAccountBranchDetails","buildformGroup","approvalForm","getApprovalDetails","productCode","accountBranch","productName","existingValues","upsertApprovalDetails","arrayAccountCurrency","arrayAccountType","arrayUserRecomendation","getAccountBranch","arrayAccountBranch","keyPressAlphanumeric","onKeyPress","IntrestDetailsSummaryComponent","is","interestRateApplicable","iloan","fs","setFlag","ApplicationEnrichmentComponent","DocumentUploadComponent","isLoanApplicationEntryDone","isLoanDetailScreen","CardAccountModule","forChild","declarations","imports","providers","schemas","CardaccountQualitativeScoreboardComponent","sbMultiSelectAnswer","scoreboardQuestionsArray","scoreCardMappingArray","numberOfApplicant","scoreCardId","isDataSaved","disableDoneBtn","anyErrorExist","isQualitativeScreen","sbSelectAnswer","loggedInUser","isScoreCardScreen","getAllQualitative","loadData","Array","getScorecardQuestions","attributeType","scorecardQuestion","scoreCardDetails","mapDataAns","p","scoreCardQuestionId","scorecardAnswer","scoreCardMappingId","scAns","sbSwlwctAnswer","sbSelectAnswer1","answer","qtype","mapId","applcantId","dataUpdated","aplcntExists","dataOject","idx","answerIs","inputValue","validationName","eleid","setStyle","nativeElement","querySelector","isNaN","selectValue","getAssessmentReportDetails","submitData","saveQualitativeScorecard","saveQualitativeScore"],"mappings":"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","file":"views-card-account-card-account-module-es5.js","sourcesContent":["export class home\r\n{\r\n    limitType:any;\r\n    dailyLimit:number;\r\n    limitPerTransaction:number;\r\n   \r\n}","import { ChangeDetectorRef, Component, ElementRef, Input, OnInit, Renderer2, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatProgressBar } from '@angular/material/progress-bar';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppConfirmService } from 'app/shared/services/app-confirm/app-confirm.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { DataService } from 'app/shared/services/data.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n// import { AccountService } from 'app/views/home/account.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\nimport { UrlService } from 'app/views/home/url.service';\r\nimport * as moment from 'moment';\r\nimport { Subscription } from 'rxjs';\r\nimport { pairwise } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-card-customer-information',\r\n  templateUrl: './card-customer-information.component.html',\r\n  styleUrls: ['./card-customer-information.component.scss']\r\n})\r\nexport class CardCustomerInformationComponent implements OnInit {\r\n  cifNumberForm = new FormControl()\r\n  timer: any;\r\n  listOfCustByCif: any = [];\r\n\r\n  @ViewChild(MatProgressBar) progressBar: MatProgressBar;\r\n  submitted = false;\r\n  formData = {}\r\n  console = console;\r\n  cardCustomerForm: FormGroup;\r\n  accountId: string;\r\n  data: any;\r\n  customerIdProofs: any = [];\r\n  selfNextBtnDisabled: boolean = true;\r\n  arrayPrefix: any[] = [];\r\n  arrayGender: any[] = [];\r\n  arrayCountry: any[] = [];\r\n  arrayState: any[] = [];\r\n  arrayCity: any[] = [];\r\n  arrayResidence: any[] = [];\r\n  arrayDocumentType: any[] = [];\r\n  arrayAddressType: any[] = [];\r\n  applicantDetailsArray: any[] = [];\r\n  toggle: boolean = false;\r\n  maritalStatusList: string[];\r\n  // customerDetails: IcustProductCustomerInfo = new IcustProductCustomerInfo();\r\n  customerDetails: any = {};\r\n  applicantDetails = [];\r\n  navSubscription: any;\r\n  routeparams: any;\r\n  showEditOption: boolean = false;\r\n  custInfo: string[];\r\n  tomorrow = new Date();\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  validDate = new Date();\r\n  showNewForm: boolean = true;\r\n  isCifValid: boolean = false;\r\n  toggleClick: boolean = false;\r\n  existingCustomer: boolean;\r\n  productCustomerId: any;\r\n  isCustomerDone: boolean = false;\r\n  previousUrl: string = '';\r\n  addOnCard: boolean = false;\r\n  addFunc: boolean = true;\r\n  index: any;\r\n  entityName: string;\r\n  removedButton: boolean = false;\r\n  selectedApplicant: any = null;\r\n  cifNumberPrimary: any;\r\n  listOfAccounts: any = [];\r\n  subscription: Subscription;\r\n  dispResponse: any;\r\n  arrayOwnership: string[];\r\n  cifNumber: any;\r\n  isAllSameDigitVal: boolean = false;\r\n  loanaccountID: any;\r\n  noOfapplicants: any;\r\n  ownershipStatus: any;\r\n  isChecked: boolean;\r\n  disabled: boolean;\r\n  disabledToggle: boolean;\r\n  @Input() i: any;\r\n  customerId: any;\r\n  currencyCode: any;\r\n  Currency: any;\r\n  Currency1: any;\r\n  cardId: any;\r\n  customerName: any;\r\n  currency: any;\r\n  ResideceCurrency: any;\r\n  isResidency: boolean = false;\r\n  isCurrency: boolean = false;\r\n  addonCardValue: boolean = false;\r\n  countryCode: any;\r\n  editCountryCode: any;\r\n  birthCountryFlag: any;\r\n  isBirthCountry: boolean = false;\r\n  isCountry: boolean = false;\r\n  form: FormGroup;\r\n  isDuplicateCIF: boolean;\r\n  disableSaveBtn: boolean;\r\n  showExpiryDate: boolean = true;\r\n  pinCodeErr: boolean = false;\r\n  prefixFlag: boolean=false;\r\n  selectedOwnership: any = 'Self';\r\n  citizenshipFflag:boolean = false;\r\n\r\n\r\n  constructor(private router: Router, private dialog: MatDialog, private route: ActivatedRoute, private accountService: AccountService, private elRef: ElementRef,\r\n    private renderer: Renderer2, private ls: LocalStoreService, private apiService: ApiService, private formBuilder: FormBuilder, private confirmService: AppConfirmService, private cdr: ChangeDetectorRef, private appApiService: ApplicationEntryStageService,\r\n    private snack: MatSnackBar, private dataService: DataService, private urlService: UrlService, private loader: AppLoaderService) {\r\n    this.tomorrow.setDate(this.tomorrow.getDate()),\r\n      this.validDate.setDate(this.validDate.getDate());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.console.log(this.i);\r\n    this.isDuplicateCIF = false;\r\n    this.disableSaveBtn = false;\r\n    // this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.cardId = this.ls.getItem('cardId');\r\n    console.log(this.cardId)\r\n    let applicantId = this.route.snapshot.params['id'];\r\n    //console.log(\"applicantId\", applicantId);\r\n    this.isCustomerDone = JSON.parse(this.ls.getItem('Card_Customer_Done'));\r\n    this.addOnCard = this.ls.getItem('ADD_ON_CARD') || false;\r\n    console.log('ADD_ON_CARD', this.addOnCard);\r\n\r\n    this.cifNumberPrimary = this.ls.getItem(\"Card_CIF_NUM_PRIMARY\");\r\n    console.log(this.cifNumberPrimary);\r\n    \r\n    //console.log(\"check if\", this.loanaccountID, this.isCustomerDone);\r\n    this.buildCustomerForm();\r\n    this.getListOfAccounts();\r\n    this.getOwnershipValue(\"ownership\");\r\n    this.getPrefixValue(\"prefix\");\r\n    this.getGenderValue(\"gender\");\r\n    this.getResidenceDetails(\"residence\");\r\n    this.getCountryName(\"country\");\r\n    this.getAdressType(\"address_type\");\r\n    this.getAllAuthCities();\r\n    // this.getStateName(\"state\");\r\n    // this.getCityName(\"city\");\r\n    this.prefixFlag=true;\r\n    this.getDocumentType(\"document_type\");\r\n    this.getMaritalStatus(\"maritial_Status\");\r\n    // this.onFocusOutEvent('783',0);\r\n    this.isChecked = true;\r\n    this.disabled = false;\r\n    this.disabledToggle = true;\r\n\r\n    if (this.addOnCard == true) {\r\n      this.goToggle(\"event\");\r\n    }\r\n    if (this.cardId != null && this.isCustomerDone) {\r\n      this.showEditOption = true;\r\n      this.appApiService.fetchCardCustomersByCardId(this.cardId, 'cardOrigin')\r\n        .subscribe((resp: any) => {\r\n          this.buildCustomerForm(resp);\r\n        }, (err: any) => {\r\n        });\r\n      this.getListOfAccounts();\r\n      this.dataExtracted();\r\n    } else {\r\n      this.showEditOption = false;\r\n      this.subscription = this.apiService.getaccParam.subscribe((data: any) => {\r\n        console.log(\"data::\", data);\r\n        this.dispResponse = data;\r\n        this.customerIdProofs = data.custIdProofs;\r\n        // Not Required THIS\r\n        // Comment Added By Sakthi\r\n        // If any issue reach me \r\n        // if (this.listOfAccounts.length == 0) {\r\n        //   this.populatePrimaryApplicant(data);\r\n        // } else {\r\n        //   this.fetchByCif(this.cifNumberPrimary, true);\r\n        // }\r\n      });\r\n    }\r\n    this.cardCustomerForm.get('ownership').valueChanges.subscribe(val => {\r\n      console.log(\"ownership ?\", val);\r\n      \r\n      if (val == 'Joint') {\r\n        this.cardCustomerForm.get('addOnCard').patchValue(true);\r\n        this.ls.setItem('ADD_ON_CARD', true);\r\n        this.cardCustomerForm.get('numOfApplicants').patchValue(2, { onlySelf: true, emitEvent: false });\r\n        this.cardCustomerForm.get('applicantDetails').reset();\r\n        // this.cardCustomerForm.controls['applicantDetails'].get('nationality').patchValue('')\r\n        this.disabled = false;\r\n        console.log(\"this.cardCustomerForm.get('numOfApplicants')\", this.cardCustomerForm.get('numOfApplicants'));\r\n      } else {\r\n        this.cardCustomerForm.get('addOnCard').patchValue(false);\r\n        this.ls.setItem('ADD_ON_CARD', false);\r\n        this.cardCustomerForm.get('numOfApplicants').patchValue(1, { onlySelf: true, emitEvent: false });\r\n      }\r\n    });\r\n    this.cardCustomerForm.get('numOfApplicants').valueChanges.subscribe(val => {\r\n      console.log(\"ownership ?\", val);\r\n      if (val == 1) {\r\n        this.console.log('if')\r\n        this.cardCustomerForm.get('ownership').patchValue('Self', { onlySelf: true, emitEvent: false });\r\n        this.applicant.get('existingCustomer').patchValue(true);\r\n        this.applicant.get('primaryCustomer').patchValue(true);\r\n      } else {\r\n        this.cardCustomerForm.get('ownership').patchValue('Joint', { onlySelf: true, emitEvent: false });\r\n        this.applicant.get('existingCustomer').patchValue(true);\r\n        this.applicant.get('primaryCustomer').patchValue(false);\r\n        this.disabled = false;\r\n      }\r\n    });\r\n    console.log(this.cardCustomerForm);\r\n    console.log(this.listOfAccounts);\r\n    console.log(this.selectedApplicant);\r\n    \r\n    \r\n\r\n  }\r\n\r\n  dataExtracted() {\r\n    this.ownershipStatus = this.ls.getItem('cardownership_value');\r\n    console.log(\"ownership ?\", this.ownershipStatus);\r\n    if (this.ownershipStatus == \"Self\") {\r\n      console.log(\"calling\")\r\n      this.cardCustomerForm.get('numOfApplicants').setValue(1);\r\n    } else {\r\n      this.cardCustomerForm.get('numOfApplicants').setValue(2);\r\n    }\r\n\r\n    this.noOfapplicants = this.ls.getItem('CardNoOfApplicants');\r\n    this.console.log(this.noOfapplicants)\r\n    if (this.noOfapplicants == 1) {\r\n      this.cardCustomerForm.get('ownership').setValue('Self');\r\n    } else {\r\n      this.cardCustomerForm.get('ownership').setValue('Joint');\r\n    }\r\n\r\n\r\n    this.applicant.get('idType')\r\n      .valueChanges\r\n      .pipe(pairwise())\r\n      .subscribe(([prev, next]: [any, any]) => {\r\n        this.applicant.get('idNumber').patchValue('');\r\n        this.applicant.get('expiryDate').patchValue('');\r\n      });\r\n\r\n    this.urlService.previousUrl$\r\n      .subscribe((previousUrl: string) => {\r\n        this.previousUrl = previousUrl\r\n      });\r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n      this.isCustomerDone = JSON.parse(this.ls.getItem('Card_Customer_Done'));\r\n      this.cdr.markForCheck();\r\n    });\r\n    this.cifNumber = this.ls.getItem('CIF_NUM_PRIMARY');\r\n    this.console.log(\"cifNumber=\", this.cifNumber);\r\n\r\n  }\r\n  populatePrimaryApplicant(data: any) {\r\n    this.getStateName(data.country);\r\n    // this.getCityName(data.state,true);\r\n    let applicantData = {\r\n      cifNumber: this.cifNumberPrimary,\r\n      prefix: data.prefix,\r\n      existingCustomer: true,\r\n      primaryCustomer: true,\r\n      customerId: data.customerId,\r\n      firstName: data.firstName,\r\n      middleName: data.middleName,\r\n      lastName: data.lastName,\r\n      gender: data.gender,\r\n      dateOfBirth: this.convertDate(data.dateOfBirth),\r\n      placeOfBirth: data.placeOfBirth,\r\n      residenceStatus: data.residenceStatus,\r\n      nationality: data.nationality,\r\n      countryOfResidence: data.countryOfResidence,\r\n      occupationType: data.occupationType,\r\n      idType: data.idType,\r\n      idNumber: data.idNumber,\r\n      expiryDate: this.convertDate(data?.expiryDate) || '',\r\n      addressType: data.addressType,\r\n      address1: data.address1,\r\n      address2: data.address2,\r\n      city: data.city,\r\n      country: data.country,\r\n      state: data.state,\r\n      zipCode: data.zipCode,\r\n      phoneNumber: data.phoneNumber,\r\n      landlineNumber: data.landlineNumber,\r\n      primaryEmailAdress: data.primaryEmailAdress,\r\n      maritalStatus: data.maritalStatus,\r\n      birthCountry: data.birthCountry\r\n\r\n    }\r\n\r\n    this.applicant.patchValue(applicantData);\r\n  }\r\n\r\n\r\n  changeIdType(doc) {\r\n    console.log(\"doc::\", doc)\r\n    console.log(\"this.customerIdProofs::\", this.customerIdProofs)\r\n    this.showExpiryDate = true;\r\n    if (doc === 'Aadhar card') {\r\n      // this.applicant.get('expiryDate').setValue('')\r\n      this.applicant.get('expiryDate').clearValidators()\r\n      this.showExpiryDate = false;\r\n    }\r\n    let idProofs: any = this.customerIdProofs.filter(item => {\r\n      return item.idType == doc;\r\n    })\r\n    console.log(\"idProofs::\", idProofs)\r\n    if (idProofs.length > 0) {\r\n      this.applicant.get('idNumber').patchValue(idProofs[0].idNumber);\r\n      this.applicant.get('expiryDate').patchValue(this.convertDate(idProofs[0]?.expiryDate) || '');\r\n    } else {\r\n      this.applicant.get('idNumber').patchValue('');\r\n      this.applicant.get('expiryDate').patchValue('');\r\n    }\r\n  }\r\n\r\n  isObjectEmpty(value) {\r\n    return (\r\n      Object.prototype.toString.call(value) === '[object Object]' &&\r\n      JSON.stringify(value) === '{}'\r\n    );\r\n  }\r\n\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n    if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  onChangeData(gender){\r\n    let prefix = this.applicant.value.prefix;\r\n    if(prefix && this.applicant.value.gender){\r\n      if ((prefix == \"Mr\" && (gender == \"Male\")) || ((prefix==\"Ms\" || prefix==\"Mrs\") && (gender == \"Female\"))) {\r\n        this.prefixFlag=true;\r\n      }  else {\r\n        this.prefixFlag=false;\r\n        this.snack.open(\"Prefix and Gender does not match!\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  toggleDetails(account) {\r\n    console.log(this.cardCustomerForm);\r\n\r\n    console.log(\"customerId incomming\", account);\r\n    this.cardCustomerForm.get('numOfApplicants').disable({ onlySelf: true, emitEvent: false });\r\n    // if (this.selectedApplicant && this.selectedApplicant._id === account._id) {\r\n    //   // Close the details\r\n    //   this.closeDetails();\r\n    //   return;\r\n    // }\r\n    let address: any;\r\n    this.console.log(account.userAddress.length);\r\n    if (account.userAddress.length > 1) {\r\n      address = account.userAddress.find((item: any) => item.addressType == \"Permanent\");\r\n    } else {\r\n      address = account.userAddress[0];\r\n    }\r\n    this.getStateName(address.country);\r\n    // this.getCityName(address.state,true);\r\n    // if(account.countryOfResidence!=null){\r\n    //   this.onSelectionCitizionship( account.countryOfResidence);\r\n    // }\r\n    // if(account.nationality!=null){\r\n    //   this.onSelectionResidance(account.nationality);\r\n    // }\r\n\r\n    let payLoadModel = {\r\n      existingCustomer: account.existingCustomer,\r\n      dependentId: account.dependentId,\r\n      primaryCustomer: account.primaryCustomer,\r\n      cifNumber: account.cifNumber,\r\n      prefix: account.prefix,\r\n      firstName: account.firstName,\r\n\r\n      middleName: account.middleName,\r\n      lastName: account.lastName,\r\n      gender: account.gender,\r\n      dateOfBirth: account.dateOfBirth,\r\n      placeOfBirth: account.placeOfBirth,\r\n      residenceStatus: account.residenceStatus,\r\n      nationality: account.nationality,\r\n      countryOfResidence: account.countryOfResidence,\r\n      occupationType: account.occupationType,\r\n      idType: account.custIdProofs[0].idType,\r\n      idNumber: account.custIdProofs[0].idNumber,\r\n      expiryDate: account.custIdProofs[0]?.expiryDate || '',\r\n      addressType: address.addressType,\r\n      address1: address.address1,\r\n      address2: address.address2,\r\n      city: address.city,\r\n      state: address.state,\r\n      country: address.country,\r\n      zipCode: address.zipCode,\r\n      phoneNumber: account.phoneNumber,\r\n      landlineNumber: account.landlineNumber,\r\n      primaryEmailAdress: account.primaryEmailAdress,\r\n      maritalStatus: account.maritalStatus,\r\n      birthCountry: account.birthCountry\r\n    };\r\n    console.log(\"account.firstName=\", account.firstName);\r\n    //console.log(\"firstName=\",this.firstName);\r\n    this.selectedApplicant = account;\r\n    console.log(\"payLoadModel\", payLoadModel);\r\n    this.applicant.patchValue(payLoadModel, { onlySelf: false, emitEvent: false });\r\n    this.onSelectionBirthCountry(payLoadModel.birthCountry)\r\n    this.onSelectionResidance(payLoadModel.countryOfResidence);\r\n    this.onSelectionCitizionship(payLoadModel.nationality);\r\n    this.getCountrySelection1(payLoadModel.country);\r\n    this.onBirthCountry(payLoadModel.birthCountry);\r\n    //this.applicant.patchValue(payLoadModel);\r\n    this.cdr.markForCheck();\r\n    console.log(this.selectedApplicant);\r\n\r\n  }\r\n\r\n  resetAndClose() {\r\n    this.closeDetails();\r\n  }\r\n\r\n  /**\r\n   * Close the details\r\n   */\r\n  closeDetails(): void {\r\n    this.selectedApplicant = null;\r\n    this.applicant.reset();\r\n    this.cardCustomerForm.get('numOfApplicants').enable({ onlySelf: true });\r\n\r\n  }\r\n\r\n  getListOfAccounts() {\r\n    this.isResidency = false;\r\n    this.isCurrency = false;\r\n    this.isBirthCountry = false;\r\n    this.citizenshipFflag = false;\r\n    this.isCountry = false;\r\n    this.appApiService.fetchCardCustomersByCardId(this.cardId, 'cardOrigin')\r\n      .subscribe((resp: any) => {\r\n        this.listOfAccounts = resp.status == 200 ? resp.data.map(value => ({ ...value, _id: Math.round(Math.random() * 10000000000) })) : [];\r\n        this.console.log(\" this.listOfAccounts\", this.listOfAccounts)\r\n        console.log(\"All Customer Details\", this.listOfAccounts.length);\r\n        resp.status == 200 ? this.ls.setItem(\"cId\", resp.data[0].customerId) : null;\r\n        console.log(\"Length check??\", this.listOfAccounts.length);\r\n        const requiredFields = ['prefix', 'firstName', 'lastName', 'dateOfBirth', 'gender', 'birthCountry', 'placeOfBirth', 'residenceStatus', 'countryOfResidence', 'nationality', 'maritalStatus', 'occupationType', 'phoneNumber', 'primaryEmailAdress']\r\n        const custIdProofs = ['idType', 'expiryDate', 'idNumber']\r\n        const userAddress = ['address1', 'address2', 'addressType', 'country', 'state', 'city', 'zipCode']\r\n        this.listOfAccounts.map((acc: { [x: string]: any; custIdProofs: { [x: string]: any; }; userAddress: { [x: string]: any; }; }) => {\r\n          requiredFields.map(field => {\r\n            if (acc[field] != null) {\r\n              custIdProofs.map(id => {\r\n                if (acc.custIdProofs[id] != null) {\r\n                  userAddress.map(address => {\r\n                    if (acc.userAddress[address] != null) {\r\n                      return this.selfNextBtnDisabled = false;\r\n                    } else {\r\n                      return this.selfNextBtnDisabled = true;\r\n                    }\r\n                  })\r\n                } else {\r\n                  return this.selfNextBtnDisabled = true;\r\n                }\r\n              })\r\n            } else {\r\n              return this.selfNextBtnDisabled = true\r\n            }\r\n          })\r\n          console.log('selfNextBtnDisabled ', this.selfNextBtnDisabled);\r\n\r\n        })\r\n\r\n        if (this.listOfAccounts.length == 0) {\r\n          this.applicant.get('existingCustomer').patchValue(true);\r\n          this.applicant.get('primaryCustomer').patchValue(true);\r\n        } else if (this.listOfAccounts.length == 1) {\r\n          this.applicant.get('existingCustomer').patchValue(true);\r\n          this.applicant.get('primaryCustomer').patchValue(false);\r\n        } else if (this.listOfAccounts.length >= 2) {\r\n          this.cardCustomerForm.get('ownership').patchValue('Joint');\r\n          this.applicant.get('existingCustomer').patchValue(true);\r\n          this.applicant.get('primaryCustomer').patchValue(false);\r\n          for (let index = 0; index < resp.data.length; index++) {\r\n            const element = resp.data[index];\r\n            console.log(\"number calling\", element)\r\n            this.cardCustomerForm.get('numOfApplicants').patchValue(resp.data[index].numOfApplicants);\r\n          }\r\n        }\r\n\r\n        this.cdr.markForCheck();\r\n\r\n        this.toggleChanges();\r\n      }, (err: any) => {\r\n\r\n      });\r\n  }\r\n\r\n  removeApplicant(account) {\r\n    this.confirmService\r\n      .confirm({ title: \"Confirm\", message: \"Are you sure want to delete?\", ok: \"Yes\", cancel: \"No\" })\r\n      .subscribe(res => {\r\n        console.log(\"res:: removed \", res);\r\n        if (res) {\r\n          this.appApiService.deleteApplicant(account.customerId, account.dependentId)\r\n            .subscribe((res: any) => {\r\n            }, (err: any) => {\r\n              console.log(err);\r\n              if (err.status == 200) {\r\n                this.snack.open(`Dependent ${account.firstName} ${err.error.text}!`, 'OK', {\r\n                  duration: 4000,\r\n                  verticalPosition: 'top',\r\n                  horizontalPosition: 'right'\r\n                });\r\n                this.getListOfAccounts();\r\n              }\r\n            })\r\n        } else return;\r\n      });\r\n  }\r\n\r\n  fetchByCif(cifNumber, isExistingCustomer) {\r\n    if (this.listOfAccounts.some(acc => acc.cifNumber == cifNumber)) {\r\n      this.isDuplicateCIF = true;\r\n      this.disableSaveBtn = true;\r\n      this.snack.open('Duplicate CIF Number', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    } else {\r\n      this.isDuplicateCIF = false;\r\n      this.disableSaveBtn = false;\r\n      this.currency = null;\r\n      this.birthCountryFlag = null;\r\n      cifNumber && this.appApiService.fetchByCif(cifNumber).subscribe((res: any) => {\r\n        console.log(res)\r\n        // console.log(res.customerInfoList[0].custIdProofs[0]?.expiryDate);\r\n        if (!res) {\r\n          this.isCifValid = false;\r\n          this.snack.open('Invalid CIF Number', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n          this.applicant.get('cifNumber').patchValue('');\r\n          return;\r\n        } else {\r\n          this.applicant.get('expiryDate').clearValidators()\r\n          this.isCifValid = true;\r\n          this.ls.setItem(\"cId\", res.customerInfoList[0].customerId);\r\n          let address: any;\r\n          this.console.log(res.customerInfoList[0].userAddress.length);\r\n          if (res.customerInfoList[0].userAddress.length > 1) {\r\n            address = res.customerInfoList[0].userAddress.find((item: any) => item.addressType == \"Permanent\");\r\n            console.log(address)\r\n          } else {\r\n            address = res.customerInfoList[0].userAddress[0];\r\n            console.log(address)\r\n          }\r\n          let policyRenewalDate = moment(res.customerInfoList[0].custIdProofs[0]?.expiryDate).format();\r\n          this.console.log(policyRenewalDate)\r\n          this.getStateName(address.country);\r\n          // this.getCityName(address.state,true);\r\n          //display flag\r\n          this.onSelectionCitizionship1(res.customerInfoList[0].nationality);\r\n\r\n          this.onOtherSelectionResidance(res.customerInfoList[0].countryOfResidence);\r\n          console.log(res.customerInfoList[0].birthCountry);\r\n\r\n          this.onBirthCountry(res.customerInfoList[0].birthCountry);\r\n          this.getCountrySelection(address.country);\r\n\r\n\r\n\r\n          let applicantData = {\r\n            prefix: res.customerInfoList[0].prefix,\r\n            cifNumber: res.customerInfoList[0].cifNumber,\r\n            existingCustomer: isExistingCustomer,\r\n            customerId: res.customerInfoList[0].customerId,\r\n            firstName: res.customerInfoList[0].firstName,\r\n            middleName: res.customerInfoList[0].middleName,\r\n            lastName: res.customerInfoList[0].lastName,\r\n            gender: res.customerInfoList[0].gender,\r\n            dateOfBirth: this.convertDate(res.customerInfoList[0].dateOfBirth),\r\n            placeOfBirth: res.customerInfoList[0].placeOfBirth,\r\n            residenceStatus: res.customerInfoList[0].residenceStatus,\r\n            nationality: res.customerInfoList[0].nationality,\r\n            countryOfResidence: res.customerInfoList[0].countryOfResidence,\r\n            occupationType: res.customerInfoList[0].occupationType,\r\n            idType: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idType : '',\r\n            idNumber: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idNumber : '',\r\n            expiryDate: policyRenewalDate,\r\n            addressType: address.addressType,\r\n            address1: address.address1,\r\n            address2: address.address2,\r\n            city: address.city,\r\n            country: address.country,\r\n            state: address.state,\r\n            zipCode: address.zipCode,\r\n            phoneNumber: res.customerInfoList[0].phoneNumber,\r\n            landlineNumber: res.customerInfoList[0].landlineNumber,\r\n            primaryEmailAdress: res.customerInfoList[0].primaryEmailAdress,\r\n            maritalStatus: res.customerInfoList[0].maritalStatus,\r\n            birthCountry: res.customerInfoList[0].birthCountry\r\n          }\r\n          this.console.log(\"res.customerInfoList[0].firstName=\", res.customerInfoList[0].firstName);\r\n          this.customerName = res.customerInfoList[0].firstName + ' ' + res.customerInfoList[0].lastName;\r\n          // this.console.log(\"customerName:\",this.customerName);\r\n          // this.ls.setItem(\"customerName\", this.customerName);\r\n          this.applicant.patchValue(applicantData);\r\n          console.log(this.applicant);\r\n        }\r\n        this.cdr.markForCheck();\r\n      }, (err: any) => {\r\n        console.error(err);\r\n      })\r\n    }\r\n  }\r\n\r\n  getCustomerInformationDetails() {\r\n    this.appApiService.fetchCardCustomersByCardId(this.cardId, 'cardOrigin')\r\n      .subscribe((resp: any) => {\r\n        this.buildCustomerForm(resp);\r\n      }, (err: any) => {\r\n      });\r\n  }\r\n\r\n\r\n  convertDate(value) {\r\n    let date = moment(value).format('YYYY-MM-DD') || null; // ISO 8601 format\r\n    // let date = new Date(value).format('yyyy-MMM-dd');\r\n    console.log(\"date\", date);\r\n    if (date)\r\n      return date;\r\n  }\r\n\r\n\r\n  buildCustomerForm(data?) {\r\n    this.console.log('buildCustomerForm--', data)\r\n\r\n    // this.cardCustomerForm = this.formBuilder.group({\r\n    //   productAccountId: data ? data.productAccountId : this.accountId,\r\n    //   ownership: data ? data.data[0]?.ownership || 'Self' : 'Self',\r\n    //   numOfApplicants: data ? data.data[0].numOfApplicants : 1,\r\n    //   addOnCard: data ? data.data[0].addOnCard : this.addOnCard,\r\n    //   applicantDetails: this.addCustFormGroup()\r\n    // });\r\n    this.cardCustomerForm = this.formBuilder.group({\r\n      productAccountId: [data ? data.productAccountId : this.accountId],\r\n      ownership: [data ? data.data[0]?.ownership || 'Self' : 'Self'],\r\n      numOfApplicants: [data ? data.data[0].numOfApplicants || 1 : 1],\r\n      addOnCard: [data ? data.data[0].addOnCard : this.addOnCard],\r\n      applicantDetails: this.addCustFormGroup()\r\n    });\r\n  }\r\n\r\n  toggleChanges() {\r\n    if (this.applicant.get('existingCustomer').value == true) {\r\n      this.applicant.get('cifNumber').enable();\r\n      this.applicant.get('cifNumber').setValidators([Validators.required]);\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n    }\r\n    else {\r\n      this.applicant.patchValue({ cifNumber: '' })\r\n      this.isDuplicateCIF = false;\r\n      this.applicant.get('cifNumber').disable();\r\n      this.applicant.get('cifNumber').clearValidators();\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n  toggleAddForm() {\r\n    this.showNewForm = !this.showNewForm;\r\n  }\r\n\r\n  addCustFormGroup(): FormGroup {\r\n    return this.formBuilder.group({\r\n      existingCustomer: [null, []],\r\n      primaryCustomer: [null, []],\r\n      cifNumber: [''],\r\n      customerId: [''],\r\n      dependentId: [null],\r\n      prefix: ['', Validators.required],\r\n      firstName: ['', Validators.required],\r\n      middleName: [''],\r\n      maritalStatus: ['', Validators.required],\r\n      birthCountry: ['', Validators.required],\r\n      lastName: ['', Validators.required],\r\n      gender: ['', Validators.required],\r\n      dateOfBirth: ['', Validators.required],\r\n      placeOfBirth: ['', Validators.required],\r\n      residenceStatus: ['', Validators.required],\r\n      nationality: ['', Validators.required],\r\n      countryOfResidence: ['', Validators.required],\r\n      occupationType: ['', Validators.required],\r\n      idType: ['', Validators.required],\r\n      idNumber: ['', Validators.required],\r\n      expiryDate: [''],\r\n      addressType: ['', Validators.required],\r\n      address1: ['', [Validators.required, Validators.pattern('.*[a-zA-Z].*')]],\r\n      address2: ['', [Validators.required, Validators.pattern('.*[a-zA-Z].*')]],\r\n      city: ['', Validators.required],\r\n      state: ['', Validators.required],\r\n      country: ['', Validators.required],\r\n      zipCode: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(10), Validators.pattern('^[0-9]{5,10}$')]],\r\n      phoneNumber: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(10), Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      landlineNumber: ['', [Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      primaryEmailAdress: ['', [Validators.required, Validators.email, Validators.pattern('^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\\\.[a-z]{2,4}$')]],\r\n    })\r\n  }\r\n\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n\r\n  keyPressAlphanumeric(event) {\r\n    var inp = String.fromCharCode(event.keyCode);\r\n    if (/[a-zA-Z0-9]/.test(inp)) {\r\n      return true;\r\n    } else {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  validateNumber(event) {\r\n    const keyCode = event.keyCode;\r\n\r\n    const excludedKeys = [8, 37, 39, 46];\r\n\r\n    if (!((keyCode >= 48 && keyCode <= 57) ||\r\n      (keyCode >= 96 && keyCode <= 105) ||\r\n      (excludedKeys.includes(keyCode)))) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() { return this.cardCustomerForm.controls; }\r\n  get applicantCount() { return this.f.numOfApplicants; }\r\n  get applicant() { return this.f.applicantDetails; }\r\n\r\n\r\n\r\n  getPrefixValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayPrefix = data;\r\n    });\r\n  }\r\n  getMaritalStatus(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.maritalStatusList = data;\r\n    });\r\n  }\r\n\r\n  getOwnershipValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayOwnership = data;\r\n    });\r\n  }\r\n\r\n  getGenderValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayGender = data;\r\n    });\r\n  }\r\n\r\n  getCountryName(key: string) {\r\n    this.apiService.getAllCountries().subscribe((data: any) => {\r\n      for (let i = 0; i < data.length; i++) {\r\n        if (data[i].authStatus === 'A') {\r\n          this.arrayCountry.push(data[i].countryName);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  getAdressType(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayAddressType = data;\r\n    });\r\n  }\r\n\r\n\r\n  getStateName(country,isAdd?) {\r\n\r\n    if(isAdd){\r\n      this.applicant.get('zipCode').setValue('');\r\n      this.applicant.get('state').setValue('');\r\n      this.applicant.get('city').setValue('');\r\n    }\r\n    this.applicant.get('city').setValue('');\r\n    this.apiService.getAllCountries().subscribe((data: any) => {\r\n      for (let i = 0; i < data.length; i++) {\r\n        if (data[i].countryName == country) {\r\n          this.apiService.getStateByCountryId(data[i].id).subscribe((resp: any) => {\r\n            this.arrayState = resp\r\n          })\r\n          break;\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  // getCityName(state: any,isEdit?) {\r\n  //   if(!isEdit){\r\n  //   this.applicant.get('city').setValue('');\r\n  //   this.applicant.get('zipCode').setValue('');\r\n  //   }\r\n  //   this.entityName = \"city\";\r\n  //   console.log(state)\r\n  //   this.apiService.getDropDownValues1(this.entityName, state).subscribe((data) => {\r\n  //     this.arrayCity = data;\r\n  //     console.log(\"-->\", this.arrayCity)\r\n  //     // this.applicant.valueChanges.subscribe(data=>{\r\n  //     //   console.log('data :: before ',data.city)\r\n  //     //   data.city='';\r\n  //     //   console.log('data :: after ',data.city)\r\n  //     // })\r\n  //     // this.applicant.value.city='';\r\n  //     // this.applicant.get('city').reset();\r\n  //     console.log('this.applicant', this.applicant)\r\n  //   });\r\n  // }\r\n  getAllAuthCities(){\r\n    this.apiService.getAuthorizedCityInfo().subscribe(res => res.map(r => this.arrayCity.push(r.cityName)))\r\n    console.log(this.arrayCity);\r\n    \r\n  }\r\n  onStateChange(){\r\n    this.applicant.get('zipCode').setValue('')\r\n    this.applicant.get('city').setValue('')\r\n  }\r\n  onCityChange(){\r\n    this.applicant.get('zipCode').setValue('')\r\n  }\r\n  onBirthCountry(data: any) {\r\n    this.console.log(\"data ::\", data)\r\n    this.isBirthCountry = true;\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.birthCountryFlag = value.currencyCode.toLowerCase();\r\n      })\r\n    }\r\n  }\r\n  getCountrySelection(data: any) {\r\n    this.console.log(\"data ::\", data)\r\n    this.isCountry = true;\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.countryCode = value.currencyCode.toLowerCase();\r\n      })\r\n    }\r\n  }\r\n  getCountrySelection1(data: any) {\r\n    this.console.log(\"data ::\", data)\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.editCountryCode = value.currencyCode.toLowerCase();\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  getResidenceDetails(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayResidence = data;\r\n    });\r\n  }\r\n\r\n  getDocumentType(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayDocumentType = data;\r\n    });\r\n  }\r\n  onSelectionCitizionship(data: any) {\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.currencyCode = value.currencyCode.toLowerCase();\r\n        console.log(this.currencyCode);\r\n      })\r\n    }\r\n  }\r\n  onSelectionCitizionship1(data: any) {\r\n    this.citizenshipFflag = true;\r\n    console.log(\"data ::\", data)\r\n    console.log(data);\r\n    this.isCurrency = true;\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        console.log(value);\r\n\r\n        this.currency = value.currencyCode.toLowerCase();\r\n        console.log(this.currency);\r\n\r\n        console.log(this.currencyCode);\r\n      })\r\n    }\r\n  }\r\n  onSelectionBirthCountry(data: any) {\r\n    console.log('Birth Country : ', data);\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe(value => {\r\n        console.log(value.currencyCode);\r\n        this.Currency1 = value.currencyCode.toLowerCase()\r\n      })\r\n    }\r\n\r\n  }\r\n  onSelectionResidance(data: any) {\r\n    this.console.log(\"data ::\", data)\r\n    console.log(data);\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.Currency = value.currencyCode.toLowerCase();\r\n        console.log(this.Currency);\r\n\r\n      })\r\n    }\r\n  }\r\n  onOtherSelectionResidance(data: any) {\r\n    this.console.log(\"data ::\", data)\r\n    console.log(data);\r\n    this.isResidency = true;\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.ResideceCurrency = value.currencyCode.toLowerCase();\r\n\r\n        console.log(this.ResideceCurrency);\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  onSubmit() {\r\n    this.submitted = true;\r\n    console.log('saveapplicant')\r\n    this.isCifValid = false;\r\n    // if (this.cardCustomerForm.invalid) {\r\n    //   console.log(\"test\");\r\n\r\n    //   return;\r\n    // }\r\n    // this.loader.open();\r\n\r\n    let payloadObj: any = {};\r\n    const control = this.cardCustomerForm.controls['applicantDetails'].value;\r\n    console.log(control);\r\n    let addressObj: any = {};\r\n    let custIdProofs: any = {};\r\n    let custIdProofsArray: any[] = [];\r\n    let addressObjArray: any[] = [];\r\n\r\n    payloadObj.customerId = this.ls.getItem(\"cId\");\r\n    payloadObj.cifNumber = control.cifNumber;\r\n    payloadObj.dependentId = control.dependentId;\r\n    payloadObj.existingCustomer = control.existingCustomer;\r\n    payloadObj.primaryCustomer = control.primaryCustomer;\r\n    payloadObj.residenceStatus = control.residenceStatus;\r\n    payloadObj.placeOfBirth = control.placeOfBirth;\r\n    payloadObj.countryOfResidence = control.countryOfResidence;\r\n    payloadObj.occupationType = control.occupationType;\r\n    payloadObj.phoneNumber = control.phoneNumber;\r\n    payloadObj.maritalStatus = control.maritalStatus;\r\n    payloadObj.birthCountry = control.birthCountry;\r\n    payloadObj.primaryEmailAdress = control.primaryEmailAdress;\r\n    payloadObj.prefix = control.prefix;\r\n    payloadObj.firstName = control.firstName;\r\n    payloadObj.middleName = control.middleName;\r\n    payloadObj.lastName = control.lastName;\r\n    payloadObj.cifNumber = control.cifNumber;\r\n    payloadObj.gender = control.gender;\r\n    payloadObj.dateOfBirth = this.convertDate(control.dateOfBirth);\r\n    payloadObj.nationality = control.nationality;\r\n    // payloadObj.customerId = 170053;\r\n    payloadObj.cardId = this.cardId;\r\n    payloadObj.accountType = \"cardOrigin\";\r\n    payloadObj.landlineNumber = control.landlineNumber;\r\n    payloadObj.ownership = this.cardCustomerForm.get('ownership').value;\r\n    payloadObj.numOfApplicants = this.cardCustomerForm.get('numOfApplicants').value;\r\n    payloadObj.addOnCard = this.addonCardValue\r\n    addressObj.address1 = control.address1;\r\n    addressObj.address2 = control.address2;\r\n    addressObj.country = control.country;\r\n    addressObj.state = control.state;\r\n    addressObj.city = control.city;\r\n    addressObj.zipCode = control.zipCode;\r\n    addressObj.addressType = control.addressType;\r\n    addressObjArray.push(addressObj);\r\n    \r\n    if(control?.expiryDate==\"Invalid date\"){\r\n      custIdProofs.expiryDate=null;\r\n    }else{\r\n      custIdProofs.expiryDate = control?.expiryDate != \"\" ? this.convertDate(control?.expiryDate) : \"\" || '';\r\n    }\r\n    \r\n    custIdProofs.idType = control.idType;\r\n    custIdProofs.idNumber = control.idNumber;\r\n    custIdProofsArray.push(custIdProofs);\r\n\r\n    payloadObj.userAddress = addressObjArray;\r\n    payloadObj.custIdProofs = custIdProofsArray;\r\n\r\n    console.log(\"payloadObj\", payloadObj);\r\n    this.isChecked = false;\r\n    this.disabled = false;\r\n    this.appApiService.createAndUpdateCardAccountants(payloadObj)\r\n      .subscribe((data: any) => {\r\n        console.log(\"data::\", data)\r\n        this.closeDetails();\r\n        this.loader.close();\r\n        console.log(\"Response of service 2 ---> \", data)\r\n        if (data.status === 200) {\r\n\r\n          this.getListOfAccounts();\r\n          this.snack.open('Customer Information Details Saved!', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n          if (data.custDependentModel.primaryCustomer == true) {\r\n            if (data.custDependentModel.middleName == null) {\r\n              this.ls.setItem('primaryCustomerName', data.custDependentModel.firstName + ' ' + data.custDependentModel.lastName);\r\n            }\r\n            else {\r\n              this.ls.setItem('primaryCustomerName', data.custDependentModel.firstName + ' ' + data.custDependentModel.middleName + ' ' + data.custDependentModel.lastName);\r\n            }\r\n\r\n          }\r\n          this.cardCustomerForm.get('ownership').patchValue(data.custDependentModel.ownership);\r\n          this.cardCustomerForm.get('numOfApplicants').patchValue(data.custDependentModel.numOfApplicants);\r\n\r\n          // if (this.cardCustomerForm.get('ownership').value == 'Self') {\r\n          //   this.goToNext();\r\n          // }\r\n        }\r\n      }, (err: any) => {\r\n        console.log(err);\r\n        this.loader.close();\r\n        this.snack.open('Error', 'INTERNAL SERVER ERROR', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      })\r\n  }\r\n\r\n  selectOwnershipChange(event) {\r\n    console.log(event);\r\n    this.selectedOwnership = event.value;\r\n  }\r\n\r\n  compareObjects(o1: any, o2: any): boolean {\r\n    return o1 === o2;\r\n  }\r\n\r\n  uploadImage() {\r\n    console.log(\"Upload Image\");\r\n  }\r\n\r\n  onReset() {\r\n    // reset whole form back to initial state\r\n    this.submitted = false;\r\n    this.cardCustomerForm.reset({});\r\n  }\r\n\r\n  onClear() {\r\n    // clear errors and reset ticket fields\r\n    this.submitted = false;\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/cardInitiation`]);\r\n  }\r\n\r\n\r\n  goToNext() {\r\n    \r\n    this.ls.setItem('Card_Customer_Done', true);\r\n    console.log(this.cardCustomerForm.get('numOfApplicants').value);\r\n    \r\n    localStorage.setItem('CardNoOfApplicants', this.cardCustomerForm.get('numOfApplicants').value);\r\n    this.ls.setItem('cardownership_value', this.cardCustomerForm.get('ownership').value);\r\n    \r\n    // //  if(this.ls.getItem.accountType!=)\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/financialDetails`]);\r\n   \r\n    // this.router.navigate([`/cardaccount/applicationEntryStage/list/financialDetails`]);\r\n  }\r\n\r\n  onKeyPress1(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    } console.log(event.target.value);\r\n    clearTimeout(this.timer)\r\n    if (!event.target.value) {\r\n      this.listOfCustByCif = []\r\n    }\r\n  }\r\n\r\n  onKeyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    console.log(event.target.value);\r\n    clearTimeout(this.timer)\r\n    if (!event.target.value) {\r\n      this.isCifValid = false;\r\n      this.applicant.reset();\r\n      this.applicant.get('cifNumber').clearValidators();\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n      this.applicant.get('existingCustomer').patchValue(true);\r\n      this.applicant.get('primaryCustomer').patchValue(true);\r\n      this.listOfCustByCif = []\r\n    } else {\r\n      this.timer = setTimeout(() => {\r\n        this.appApiService.fetchByCif(event.target.value).subscribe((res: any) => {\r\n          console.log(res);\r\n          if (res) {\r\n            this.listOfCustByCif = res.customerInfoList\r\n          }\r\n        })\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  isAllSameDigit(event) {\r\n    let count = 0, number = event.target.value;\r\n    if (number != '') {\r\n      for (var i = 0; i < number.length; i++) {\r\n        if (0 == number[i]) {\r\n          count++;\r\n        }\r\n      }\r\n      console.log('number :: ', number);\r\n      console.log('isAllSameDigitVal :: ', count, number.length)\r\n      if (count == number.length) {\r\n        console.log('if loop')\r\n        this.isAllSameDigitVal = true;\r\n      }\r\n      else {\r\n        this.isAllSameDigitVal = false;\r\n      }\r\n    } else {\r\n      this.isAllSameDigitVal = false;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n    this.dataService.sendNavParam({});\r\n  }\r\n  goToggle(event: any) {\r\n    console.log(\"event\", event.checked);\r\n    this.addonCardValue = event.checked\r\n    // if(event.checked==true){\r\n    // this.ls.setItem('addonCardApplicant', 2);\r\n    // }\r\n    if (event.checked == true || this.addOnCard) {\r\n      this.ls.setItem('ADD_ON_CARD', true);\r\n      this.cardCustomerForm.get('ownership').setValue('Joint');\r\n      this.cardCustomerForm.get('numOfApplicants').patchValue(2);\r\n      this.disabled = false;\r\n    }\r\n    else if (event.checked == false) {\r\n      this.ls.setItem('ADD_ON_CARD', false);\r\n      this.cardCustomerForm.get('ownership').patchValue('Self', { onlySelf: true, emitEvent: false });\r\n      this.cardCustomerForm.get('numOfApplicants').patchValue(1, { onlySelf: true, emitEvent: false });\r\n    }\r\n\r\n  }\r\n\r\n  getCityandStateByZipcode(countryName, zipcode) {\r\n    if (countryName && zipcode.length >= 6) {\r\n      this.apiService.fetchStateCityByZipcode(countryName, zipcode).subscribe((res: any) => {\r\n        if(res){\r\n          this.applicant.get('state').setValue(res.stateName);\r\n          this.applicant.get('city').setValue(res.cityName)\r\n        }\r\n        else{\r\n          this.snack.open(\"Entered Zipcode does not exists\", \"OK\", {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n  Checkout(evt){\r\n    console.log(evt);\r\n    \r\n  }\r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/undraw_personal_information_re_vw8a.svg\" alt=\"\" class=\"w-90\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Customer Information Details</b></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <!-- <mat-progress-bar [mode]=\"determinate\" class=\"session-progress\"></mat-progress-bar> -->\r\n      <mat-card class=\"p-0\">\r\n        <mat-card-title>\r\n          <fieldset>\r\n          <legend visible=\"true\">Customer Information</legend>\r\n          </fieldset>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n          <form *ngIf=\"cardCustomerForm\" [formGroup]=\"cardCustomerForm\" novalidate>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Ownership</mat-label>\r\n                    <mat-select formControlName=\"ownership\" [(value)]=\"selectedOwnership\" (selectionChange)=\"selectOwnershipChange($event)\" name=\"owner\"class=\"graycolor\" required>\r\n                      <mat-option value=\"\">Select</mat-option>\r\n                      <mat-option *ngFor=\"let ownership of arrayOwnership\" [value]=\"ownership\">\r\n                        {{ownership}}\r\n                      </mat-option>\r\n                    </mat-select>\r\n                    <mat-error *ngIf=\"cardCustomerForm.get('ownership').hasError('required')\">\r\n                      Ownership is Required!\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                <div class=\"pb-1\">\r\n                  <ng-container >\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Number of Applicants *</mat-label>\r\n                      <mat-select formControlName=\"numOfApplicants\" name=\"account\">\r\n                        <mat-option [value]=\"1\">1</mat-option>\r\n                        <mat-option [value]=\"2\">2</mat-option>\r\n                        <mat-option [value]=\"3\">3</mat-option>\r\n                        <mat-option [value]=\"4\">4</mat-option>\r\n                        <mat-option [value]=\"5\">5</mat-option>\r\n                      </mat-select>\r\n                    </mat-form-field>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div fxLayout=\"row\" >\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                    <div class=\"mb-1\">\r\n                      \r\n                        <h2>Details Of the Applicant</h2>\r\n                      \r\n                    </div>\r\n              </div>\r\n             \r\n              <div fxFlex=\"100\"  fxLayoutGap=\"16px\" fxLayoutAlign=\"end end\"style=\"padding-right:15px\">\r\n              <div class=\"mb-1\">\r\n                <p class=\"m-0 text-right\">Completed {{ listOfAccounts.length }} /\r\n                  {{ cardCustomerForm.get('numOfApplicants').value }}</p>\r\n                <mat-progress-bar\r\n                  [color]=\"cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? 'primary' : 'accent'\"\r\n                  mode=\"determinate\"\r\n                  [value]=\"cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? 100 : 50\"\r\n                  class=\"rounded\" style=\"height: 5px\">\r\n                </mat-progress-bar>\r\n                <mat-hint><small> completed / total applicants </small></mat-hint>\r\n              </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                    <div class=\"pb-1\">\r\n                        <label  class=\"hint\">Add on CardHolder</label>\r\n                        \r\n                        <mat-slide-toggle  style=\"margin-left: 1cm;\" formControlName=\"addOnCard\"\r\n                        (change)=\"goToggle($event)\"\r\n                            >\r\n                        </mat-slide-toggle>\r\n                    </div>\r\n                </div>\r\n             </div>\r\n            </div>\r\n\r\n            \r\n        \r\n            <!-- *ngIf=\"!showNewForm\" -->\r\n            <div class=\"mt-12\">\r\n              <mat-accordion multi=\"true\">\r\n                <mat-expansion-panel class=\"mb-8\" *ngFor=\"let account of listOfAccounts; let i=index\" expanded=\"true\">\r\n                  <mat-expansion-panel-header>\r\n                    <mat-panel-title>\r\n                      <mat-icon class=\"check-circle\">check_circle</mat-icon> <span class=\"ml-8\">Applicant {{ i+1 }}</span>\r\n                    </mat-panel-title>\r\n                  </mat-expansion-panel-header>\r\n                  <mat-card>\r\n                    <mat-card-header style=\"margin-bottom: -16px !important;\">\r\n                        <div mat-card-avatar>\r\n                          <app-avatar-photo [name]=\"account.firstName + ' ' + account.lastName\"></app-avatar-photo>\r\n                        </div>\r\n                        <mat-card-title>\r\n                          <div fxLayout=\"row\">\r\n                            <h6 class=\"m-0 mr-16\">{{ account.firstName + ' ' + account.lastName }}</h6>\r\n                            <span fxFlex></span>\r\n                            <mat-chip mat-sm-chip [color]=\"'warn'\" *ngIf=\"account.primaryCustomer\"\r\n                              [selected]=\"account.primaryCustomer\">{{account.primaryCustomer ? 'primary' : ''}}</mat-chip>\r\n                          </div>\r\n    \r\n                        </mat-card-title>\r\n                        <mat-card-subtitle><span class=\"mat-caption\">CIF\r\n                            {{ account.cifNumber != null ? '#' + account.cifNumber : '- n/a' }}</span></mat-card-subtitle>\r\n                        <div fxLayout=\"row\" fxFlex=\"1 1 0%\" fxLayoutAlign=\"end end\">\r\n                          <span class=\"group-btn-bg\">\r\n                            <ng-container *ngIf=\"selectedApplicant?._id === account._id; else showEdit\">\r\n                              <a type=\"reset\" mat-icon-button color=\"primary\" (click)=\"resetAndClose()\">\r\n                                <mat-icon>close</mat-icon>\r\n                              </a>\r\n                            </ng-container>\r\n                            <ng-template #showEdit>\r\n                              <a type=\"submit\" mat-icon-button color=\"primary\" (click)=\"toggleDetails(account)\">\r\n                                <mat-icon>edit</mat-icon>\r\n                              </a>\r\n                            </ng-template>\r\n    \r\n                            <a *ngIf=\"account.dependentId\" mat-icon-button color=\"warn\" (click)=\"removeApplicant(account)\">\r\n                              <mat-icon>delete</mat-icon>\r\n                            </a>\r\n                          </span>\r\n                        </div>\r\n                      </mat-card-header>\r\n                      <mat-card-container>\r\n                        <ng-container *ngIf=\"selectedApplicant?._id === account._id\">\r\n                          <ng-container *ngTemplateOutlet=\"detailApplicant; context: {$implicit: account}\"></ng-container>\r\n                        </ng-container>\r\n                     \r\n  \r\n                      <ng-template #detailApplicant let-account>\r\n                        <form [formGroup]=\"cardCustomerForm\" class=\"mt-32\">\r\n                          <div formGroupName=\"applicantDetails\">\r\n                            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                <div class=\"pb-1\">\r\n                                  <label>Is the applicant an existing customer?</label>\r\n                                  &nbsp;&nbsp;\r\n                                  <mat-slide-toggle (change)=\"toggleChanges($event)\" formControlName=\"existingCustomer\">\r\n                                  </mat-slide-toggle>\r\n                                  <div class=\"mb-16\"></div>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Prefix *</mat-label>\r\n                                    <mat-select name=\"prefix\" formControlName=\"prefix\"\r\n                                    (selectionChange)=\"onChangeData(applicant.get('gender').value)\">\r\n                                      <mat-option *ngFor=\"let prefix of arrayPrefix\" [value]=\"prefix\">\r\n                                        {{prefix}}\r\n                                      </mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"applicant.get('prefix').hasError('required')\">\r\n                                      Prefix is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Middle Name</mat-label>\r\n                                    <input matInput name=\"mname\" formControlName=\"middleName\" placeholder=\"Middle Name\"\r\n                                      (keypress)=\"letterOnly($event)\" />\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Date of Birth *</mat-label>\r\n                                    <input matInput name=\"date\" readonly formControlName=\"dateOfBirth\"\r\n                                      placeholder=\"Date of birth\" [matDatepicker]=\"appDatepicker\" [max]=\"tomorrow\"\r\n                                      [max]=\"maxDate\" />\r\n  \r\n                                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                                    <mat-error *ngIf=\"applicant.get('dateOfBirth').hasError('required')\">\r\n                                      Date of Birth is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                  <mat-datepicker #appDatepicker></mat-datepicker>\r\n                                </div>\r\n                                <div  class=\"p-1\" >\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Birth Country</mat-label>\r\n                                        <div fxFlex=\"20\">\r\n                                          <div matPrefix>\r\n                                            <div *ngIf=\"Currency1\" class=\"currency-flag currency-flag-{{Currency1}}\"></div>\r\n                                          </div>\r\n                                        </div>\r\n                                        <mat-select name=\"birthCountry\" formControlName=\"birthCountry\" required\r\n                                        (selectionChange)=\"onSelectionBirthCountry($event.value)\">\r\n                                             <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                                {{country}}\r\n                                              </mat-option>\r\n                                        </mat-select>\r\n                                    </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Resident Status *</mat-label>\r\n                                    <mat-select name=\"residenceType\" formControlName=\"residenceStatus\">\r\n                                      <mat-option *ngFor=\"let residence of arrayResidence\" [value]=\"residence\">\r\n                                        {{residence}}\r\n                                      </mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"applicant.get('residenceStatus').hasError('required')\">\r\n                                      Resident Status is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n  \r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Country of Residence</mat-label>\r\n                                    <div fxFlex=\"20\">\r\n                                      <div matPrefix>\r\n                                        <div *ngIf=\"Currency\" class=\"currency-flag currency-flag-{{Currency}}\"></div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <mat-select formControlName=\"countryOfResidence\" id=\"forcitizenship\"\r\n                                    (selectionChange)=\"onSelectionResidance($event.value)\" required>\r\n                                    <mat-option disabled>--Select--</mat-option>\r\n                                    <mat-option *ngFor=\"let country of arrayCountry\"\r\n                                      [value]=\"country\">\r\n                                      {{country}}\r\n                                    </mat-option>\r\n                                  </mat-select>\r\n                                    <mat-error *ngIf=\"applicant.get('countryOfResidence').hasError('required')\">\r\n                                      Country of Residence is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>ID Type *</mat-label>\r\n                                    <mat-select name=\"idtype\" formControlName=\"idType\"\r\n                                      (selectionChange)=\"changeIdType(applicant.get('idType').value)\">\r\n                                      <mat-option *ngFor=\"let doc of arrayDocumentType\" [value]=\"doc\">\r\n                                        {{doc}}\r\n                                      </mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"applicant.get('idType').hasError('required')\">\r\n                                      ID Type is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>ID Type Valid Till</mat-label>\r\n                                    <input matInput name=\"date\" readonly formControlName=\"expiryDate\" [required]=\"applicant.get('idType').value != 'Aadhar card'\"\r\n                                      placeholder=\"ID Type Valid Till\" [matDatepicker]=\"appDatepicker1\" [min]=\"validDate\"/>\r\n  \r\n                                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                                    <mat-error *ngIf=\"applicant.get('expiryDate').hasError('required')\">\r\n                                      ID Type Valid Till is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                  <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                                </div>\r\n                              </div>\r\n                              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                                <div class=\"pb-1\">\r\n                                  <label>Is the applicant a primary customer?</label>\r\n                                  &nbsp;&nbsp;\r\n                                  <mat-slide-toggle formControlName=\"primaryCustomer\">\r\n                                  </mat-slide-toggle>\r\n  \r\n                                  <div class=\"mb-16\"></div>\r\n                                </div>\r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>First Name *</mat-label>\r\n                                    <input matInput name=\"fname\" formControlName=\"firstName\" placeholder=\"First Name\"\r\n                                      (keypress)=\"letterOnly($event)\" />\r\n                                    <mat-error *ngIf=\"applicant.get('firstName').hasError('required')\">\r\n                                      First Name is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Last Name *</mat-label>\r\n                                    <input matInput name=\"lname\" formControlName=\"lastName\" placeholder=\"Last Name\"\r\n                                      (keypress)=\"letterOnly($event)\" />\r\n                                    <mat-error *ngIf=\"applicant.get('lastName').hasError('required')\">\r\n                                      Last Name is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Gender *</mat-label>\r\n                                    <mat-select name=\"gender\" formControlName=\"gender\" (selectionChange)=\"onChangeData($event.value)\">\r\n                                      <mat-option *ngFor=\"let gender of arrayGender\" [value]=\"gender\">\r\n                                        {{gender}}\r\n                                      </mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"applicant.get('gender').hasError('required')\">\r\n                                      Gender is Required!\r\n                                    </mat-error>\r\n                                    <mat-hint class=\"err-msg\" *ngIf=\" !prefixFlag\">\r\n                                      &nbsp; Prefix and Gender does not match!\r\n                                   </mat-hint>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Birth Place *</mat-label>\r\n                                    <input matInput name=\"bplace\" formControlName=\"placeOfBirth\"\r\n                                      placeholder=\"Birth Place\" />\r\n                                    <mat-error *ngIf=\"applicant.get('placeOfBirth').hasError('required')\">\r\n                                      Birth Place is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1 info\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Citizenship By</mat-label>\r\n                                     <div fxFlex=\"20\">\r\n                                        <div matPrefix>\r\n                                          <div *ngIf=\"currencyCode\"\r\n                                            class=\"currency-flag currency-flag-{{currencyCode}}\"></div>\r\n                                        </div>\r\n                                      </div>\r\n                                      <div fxFlex=\"100\">\r\n                                        <mat-select formControlName=\"nationality\" id=\"forcitizenship\"\r\n                                          (selectionChange)=\"onSelectionCitizionship($event.value)\" required>\r\n                                          <mat-option disabled>--Select--</mat-option>\r\n                                          <mat-option *ngFor=\"let citizenship of arrayCountry\"\r\n                                            [value]=\"citizenship\">\r\n                                            {{citizenship}}\r\n                                          </mat-option>\r\n                                        </mat-select>\r\n                                      </div>\r\n                                    <mat-error *ngIf=\"applicant.get('nationality').hasError('required')\">\r\n                                    Citizenship By is Required!\r\n                                  </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n\r\n                                <div  class=\"p-1\" >\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Marital Status</mat-label>\r\n                                        <mat-select name=\"maritalStatus\" formControlName=\"maritalStatus\" required>\r\n                                            <mat-option *ngFor=\"let status of maritalStatusList\" [value]=\"status\">{{ status }}\r\n                                            </mat-option>\r\n                                        </mat-select>\r\n                                    </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Occupation Type *</mat-label>\r\n                                    <input matInput name=\"occupation\" (keypress)=\"letterOnly($event)\" formControlName=\"occupationType\"\r\n                                      placeholder=\"Occupation Type\" />\r\n                                    <mat-error *ngIf=\"applicant.get('occupationType').hasError('required')\">\r\n                                      Occupation Type is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1 info3\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Unique ID Number *</mat-label>\r\n                                    <input matInput name=\"uniqueidentity\" formControlName=\"idNumber\"\r\n                                      placeholder=\"Unique ID Number\" maxlength=\"12\"\r\n                                      pattern=\"^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$\" />\r\n                                    <mat-error\r\n                                      *ngIf=\"applicant.get('idNumber').touched && !applicant.get('idNumber').valid\">\r\n                                      <div *ngIf=\"applicant.get('idNumber').hasError('required')\">Unique ID Number is\r\n                                        Required!</div>\r\n                                      <div *ngIf=\"applicant.get('idNumber').hasError('pattern')\">This is a numeric field\r\n                                      </div>\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                              </div>\r\n                            </div>\r\n                            <!-- Address Section start-->\r\n                            <mat-accordion>\r\n                              <mat-expansion-panel class=\"mb-8\" expanded=\"true\">\r\n                                <mat-expansion-panel-header>\r\n                                  <mat-panel-title>Communication Address </mat-panel-title>\r\n                                </mat-expansion-panel-header>\r\n  \r\n                                <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Address Line 1 *</mat-label>\r\n                                        <textarea matInput formControlName=\"address1\" placeholder=\"Address 1\"></textarea>\r\n                                        <mat-error *ngIf=\"applicant.get('address1').hasError('required')\">\r\n                                          Address Line 1 is Required!\r\n                                        </mat-error>\r\n                                        <mat-error *ngIf=\" applicant.get('address1').touched && applicant.get('address1').hasError('pattern')\">\r\n                                          Please Enter Valid Address \r\n                                         </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Residence Type *</mat-label>\r\n                                        <mat-select name=\"addressType\" formControlName=\"addressType\">\r\n                                          <mat-option *ngFor=\"let addressType of arrayAddressType\" [value]=\"addressType\">\r\n                                            {{addressType}}\r\n                                          </mat-option>\r\n                                        </mat-select>\r\n                                        <mat-error *ngIf=\"applicant.get('addressType').hasError('required')\">\r\n                                          Residence Type is Required!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Zip Code *</mat-label>\r\n                                        <input minlength=\"5\" maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"a_zip\"\r\n                                          formControlName=\"zipCode\" onlyNumber placeholder=\"Zip Code\"\r\n                                          (keyup)=\"isAllSameDigit($event)\"\r\n                                          (change)=\"getCityandStateByZipcode(applicant.get('country').value,$event.target.value)\" />\r\n                                        <mat-error *ngIf=\"applicant.get('zipCode').hasError('required') &&\r\n                                          !applicant.controls['zipCode'].valid && applicant.controls['zipCode']?.touched\">\r\n                                          Please enter valid Zip Code!(5-10 digits)\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                      <h5 *ngIf=\"isAllSameDigitVal\" style=\"color: #E74C3C;\">Please enter valid Zip Code!(5-10 digits)\r\n                                      </h5>\r\n  \r\n                                    </div>\r\n\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>City *</mat-label>\r\n                                        <mat-select name=\"city\" formControlName=\"city\" (selectionChange)=\"onCityChange()\">\r\n                                          <mat-option *ngFor=\"let city of arrayCity\" [value]=\"city\">{{city}}\r\n                                          </mat-option>\r\n                                        </mat-select>\r\n                                        <mat-error *ngIf=\"applicant.get('city').hasError('required')\">\r\n                                          City is Required!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n  \r\n                                   \r\n  \r\n                                  </div>\r\n                                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Address Line 2 *</mat-label>\r\n                                        <textarea matInput formControlName=\"address2\" placeholder=\"Address 2\"></textarea>\r\n                                        <mat-error *ngIf=\"applicant.get('address2').hasError('required')\">\r\n                                          Address Line 2 is Required!\r\n                                        </mat-error>\r\n                                        <mat-error *ngIf=\" applicant.get('address2').touched && applicant.get('address2').hasError('pattern')\">\r\n                                          Please Enter Valid Address \r\n                                         </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n  \r\n                                \r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Country *</mat-label>\r\n                                        <div fxFlex=\"20\">\r\n                                          <div matPrefix>\r\n                                            <div *ngIf=\"editCountryCode\"\r\n                                              class=\"currency-flag currency-flag-{{editCountryCode}}\"></div>\r\n                                          </div>\r\n                                        </div>\r\n                                        <mat-select name=\"country\" formControlName=\"country\"\r\n                                          (selectionChange)=\"getStateName($event.value,true)\"\r\n                                          (selectionChange)=\"getCountrySelection1($event.value)\">\r\n                                          <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                            {{country}}\r\n                                          </mat-option>\r\n                                        </mat-select>\r\n                                        <mat-error *ngIf=\"applicant.get('country').hasError('required')\">\r\n                                          Country is Required!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>State *</mat-label>\r\n                                        <mat-select name=\"state\" formControlName=\"state\"(selectionChange)=\"onStateChange()\"\r\n                                          >\r\n                                          <mat-option *ngFor=\"let state of arrayState\" [value]=\"state.stateName\">\r\n                                            {{state.stateName}}</mat-option>\r\n  \r\n                                        </mat-select>\r\n                                        <mat-error *ngIf=\"applicant.get('state').hasError('required')\">\r\n                                          State is Required!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n  \r\n                                  \r\n  \r\n  \r\n                                  </div>\r\n                                </div>\r\n                              </mat-expansion-panel>\r\n                            </mat-accordion>\r\n                            <!-- Address Section end -->\r\n                            <!-- Contact Information -->\r\n                            <mat-accordion>\r\n                              <mat-expansion-panel class=\"mb-8\" expanded=\"true\">\r\n                                <mat-expansion-panel-header>\r\n                                  <mat-panel-title>Contact Information </mat-panel-title>\r\n                                </mat-expansion-panel-header>\r\n  \r\n                                <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Mobile Number *</mat-label>\r\n                                        <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput\r\n                                          formControlName=\"phoneNumber\" name=\"phone\" placeholder=\"Mobile Number\" />\r\n                                        <mat-error *ngIf=\"applicant.get('phoneNumber').hasError('required')\">\r\n                                          Mobile Number is Required!\r\n                                        </mat-error>\r\n                                        <mat-error *ngIf=\"applicant.get('phoneNumber').hasError('pattern')\">\r\n                                          Please, Enter 10 digit Mobile Number!\r\n                                        </mat-error>\r\n  \r\n                                      </mat-form-field>\r\n                                      <mat-error style=\"margin-top:-20px\" *ngIf=\"applicant.get('phoneNumber').value == '0000000000'\">\r\n                                        &nbsp; &nbsp; Please Enter Correct Mobile Number\r\n                                     </mat-error>\r\n                                    </div>\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>E-mail *</mat-label>\r\n                                        <input matInput name=\"email\" formControlName=\"primaryEmailAdress\"\r\n                                          placeholder=\"e-mail\" />\r\n                                        <mat-error *ngIf=\"applicant.get('primaryEmailAdress').hasError('required')\">\r\n                                          E-mail is Required!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Landline Number </mat-label>\r\n                                        <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"mobile\"\r\n                                          formControlName=\"landlineNumber\" placeholder=\"Landline Number\" />\r\n                                        <!-- <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('required')\">\r\n                                          Landline Number is Required!\r\n                                        </mat-error> -->\r\n                                        <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('pattern')\">\r\n                                          Please, Enter 10 digit Landline Number!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                      <mat-error style=\"margin-top:-20px\" *ngIf=\"applicant.get('landlineNumber').value == '0000000000'\">\r\n                                        &nbsp; &nbsp; Please Enter Correct Landline Number\r\n                                     </mat-error>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n  \r\n                              </mat-expansion-panel>\r\n                              <div class=\"pb-1\">\r\n                                <button mat-button color=\"primary\" [disabled]=\"applicant.invalid\" (click)=\"onSubmit()\">\r\n                                  <mat-icon></mat-icon> UPDATE APPLICANT\r\n                                </button>\r\n  \r\n                              </div>\r\n                            </mat-accordion>\r\n                            <!-- Contact Information -->\r\n                          </div>\r\n                        </form>\r\n                      </ng-template>\r\n                    </mat-card-container>\r\n                  </mat-card>\r\n                </mat-expansion-panel>\r\n              </mat-accordion>\r\n  \r\n            </div>\r\n            <!-- <h1>591 -selapp {{selectedApplicant}} -get {{cardCustomerForm.get('numOfApplicants').value}} -listacc {{listOfAccounts.length}}</h1> -->\r\n            <!-- *ngIf=\"showNewForm\" -->\r\n            <div class=\"mt-16\"\r\n              *ngIf=\"selectedApplicant == null && cardCustomerForm.get('numOfApplicants').value !== listOfAccounts.length\">\r\n              <!-- *ngIf=\"cardCustomerForm.get('numOfApplicants').value && selectedApplicant == null && cardCustomerForm.get('numOfApplicants').value !== listOfAccounts.length\"> -->\r\n              <mat-accordion>\r\n                <mat-expansion-panel class=\"mb-8 borderStyle\"\r\n                  [expanded]=\"cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? false : true\">\r\n                  <!-- [expanded]=\"cardCustomerForm.get('numOfApplicants').value && cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? false : true\"> -->\r\n                  <mat-expansion-panel-header class=\"marginData\">\r\n                    <mat-panel-title class=\"textDesign\">Create Applicant  </mat-panel-title>\r\n                  </mat-expansion-panel-header>\r\n                  <mat-divider class=\"design\"></mat-divider> \r\n                  <div formGroupName=\"applicantDetails\">\r\n                    <div class=\"pb-1\">\r\n                      <label>Is the applicant an existing customer? </label>\r\n                      &nbsp;&nbsp;\r\n                      <!-- {{ listOfAccounts.length }} -->\r\n                      <mat-slide-toggle (change)=\"toggleChanges($event)\" formControlName=\"existingCustomer\"\r\n                          ></mat-slide-toggle>\r\n                      <div class=\"mb-16\"></div>\r\n                    </div>\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                      <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                       \r\n                        <div class=\"pb-1\" >\r\n                          <div fxLayout=\"row\" fxLayoutGap=\"2px\" fxLayoutAlign=\"space-between\">\r\n                            <div fxFlex=\"100\" fxFlexAlign=\"center\"class=\"boxsize\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>CIF Number</mat-label>\r\n                                <input matInput (keypress)=\"_keyPress($event)\"\r\n                                  (change)=\"fetchByCif(applicant.get('cifNumber').value,applicant.get('existingCustomer').value)\"\r\n                                  formControlName=\"cifNumber\" name=\"cif\"\r\n                                  placeholder=\"CIF Number\"\r\n                                  (keyup)=\"onKeyPress($event)\" [formControl]=\"cifNumberForm\" [matAutocomplete]=\"auto\"\r\n                                  [readonly]=\"applicant.get('existingCustomer').value == true ? false : true\" />\r\n                                <mat-icon *ngIf=\"isCifValid\" matSuffix color=\"primary\">check_circle</mat-icon>\r\n                                <!-- <mat-icon *ngIf=\"applicant.get('existingCustomer').value && !isCifValid\" matSuffix color=\"warn\">report_problem</mat-icon> -->\r\n                                <mat-error *ngIf=\"applicant.get('cifNumber').hasError('required')  && !isCifValid\">\r\n                                  CIF Number is Required!\r\n                                </mat-error>\r\n                                <mat-hint class=\"err-msg\" *ngIf=\"isDuplicateCIF\">Duplicate CIF Number</mat-hint>\r\n                                <mat-hint class=\"hintColor\" *ngIf=\"!isCifValid && onbackSpace\">\r\n                                  Enter valid CIF Number!</mat-hint>\r\n                              </mat-form-field>\r\n                            </div>\r\n                            <div>\r\n                              <mat-autocomplete class=\"card-cust-auto-cif\" #auto=\"matAutocomplete\">\r\n                                <mat-option *ngFor=\"let option of listOfCustByCif\" [value]=\"option.customerId\">\r\n                                  <div fxLayout=\"row wrap\" style=\"margin-top: 20px;\">\r\n                                    <div fxFlex=\" 100\">\r\n                                      <div mat-card-avatar *ngIf=\"option?.profileImage =='not_available'\" class=\"example-header-image-dropdown\" fxFlex=\"10\">\r\n                                        <h3 align=\"center\" style=\"margin-top: 5px;font-size: large; color: white;\">\r\n                                          {{option?.firstName | slice:0:1 | uppercase}}\r\n                                        </h3>\r\n                                      </div>\r\n                                      <div *ngIf=\"option?.profileImage !='not_available'\" mat-card-avatar fxFlex=\"10\">\r\n                                        <img matListAvatar\r\n                                          style=\"border-radius: 50%;height: 85%;margin-right: 20px;width: 100%;margin-bottom: 50px;\" align=\"center\"\r\n                                          [src]=\"option?.profileImage\" alt=\"...\">\r\n                                      </div>\r\n                                      <div fxFlex=\"80\">\r\n                                        <h5 style=\"margin-bottom: 0px;\">\r\n                                          {{option?.firstName | uppercase}}\r\n                                          {{option?.middleName | uppercase}}\r\n                                          {{option?.lastName | uppercase}}\r\n                                        </h5>\r\n                                        <h6 style=\"margin-top: 0px;\" class=\"cif-0\">#{{option?.cifNumber}}</h6>\r\n                                      </div>\r\n                                      <mat-icon class=\"right-arrow1\">keyboard_arrow_right</mat-icon>\r\n                                    </div>\r\n                                  </div>\r\n                                </mat-option>\r\n                              </mat-autocomplete>\r\n                            </div>\r\n                            <!-- <div fxFlex=\"15\" fxFlexAlign=\"center\">\r\n                                <a class=\"mb-16\" mat-flat-button color=\"primary\" (click)=\"fetchByCif(applicant.get('cifNumber').value)\">fetch</a>\r\n                              </div> -->\r\n                          </div>\r\n                        </div>\r\n  \r\n     \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>First Name *</mat-label>\r\n                            <input matInput name=\"fname\" formControlName=\"firstName\" placeholder=\"First Name\"\r\n                              (keypress)=\"letterOnly($event)\" />\r\n                            <mat-error *ngIf=\"applicant.get('firstName').hasError('required')\">\r\n                              First Name is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n\r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Last Name *</mat-label>\r\n                            <input matInput name=\"lname\" formControlName=\"lastName\" placeholder=\"Last Name\"\r\n                              (keypress)=\"letterOnly($event)\" />\r\n                            <mat-error *ngIf=\"applicant.get('lastName').hasError('required')\">\r\n                              Last Name is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Date of Birth *</mat-label>\r\n                            <input matInput name=\"date\" readonly formControlName=\"dateOfBirth\" placeholder=\"Date of birth\"\r\n                              [matDatepicker]=\"appDatepicker\" [max]=\"tomorrow\" [max]=\"maxDate\" />\r\n  \r\n                            <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                            <mat-error *ngIf=\"applicant.get('dateOfBirth').hasError('required')\">\r\n                              Date of Birth is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                          <mat-datepicker #appDatepicker></mat-datepicker>\r\n                        </div>\r\n                        <div class=\"pb-1\" >\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Birth Country</mat-label>\r\n                                <div fxFlex=\"20\" [style.display]=\"birthCountryFlag == null ? 'none': ''\">\r\n                                  <div matPrefix>\r\n                                    <div *ngIf=\"isBirthCountry\" class=\"currency-flag currency-flag-{{birthCountryFlag}}\"></div>\r\n                                  </div>\r\n                                </div>\r\n                                <mat-select name=\"birthCountry\"  (selectionChange)=\"onBirthCountry($event.value)\" formControlName=\"birthCountry\" required>\r\n                                     <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                        {{country}}\r\n                                      </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Resident Status *</mat-label>\r\n                            <mat-select name=\"residenceType\" formControlName=\"residenceStatus\">\r\n                              <mat-option *ngFor=\"let residence of arrayResidence\" [value]=\"residence\">\r\n                                {{residence}}\r\n                              </mat-option>\r\n                            </mat-select>\r\n                            <mat-error *ngIf=\"applicant.get('residenceStatus').hasError('required')\">\r\n                              Resident Status is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n  \r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Country of Residence</mat-label>\r\n                            <div fxFlex=\"20\">\r\n                              <div matPrefix>\r\n                                <div *ngIf=\"isResidency\" class=\"currency-flag currency-flag-{{ResideceCurrency}}\"></div>\r\n                              </div>\r\n                            </div>\r\n                            \r\n                            <mat-select formControlName=\"countryOfResidence\" id=\"forcitizenship\"\r\n                                (selectionChange)=\"onOtherSelectionResidance($event.value)\" required>\r\n                               <mat-option disabled>--Select--</mat-option>\r\n                              <mat-option *ngFor=\"let country of arrayCountry\"\r\n                              [value]=\"country\">\r\n                              {{country}}\r\n                              </mat-option>\r\n                           </mat-select>\r\n                            <mat-error *ngIf=\"applicant.get('countryOfResidence').hasError('required')\">\r\n                              Country of Residence is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>ID Type *</mat-label>\r\n                            <mat-select name=\"idtype\" formControlName=\"idType\"\r\n                              (selectionChange)=\"changeIdType(applicant.get('idType').value)\">\r\n                              <mat-option *ngFor=\"let doc of arrayDocumentType\" [value]=\"doc\">\r\n                                {{doc}}\r\n                              </mat-option>\r\n                            </mat-select>\r\n                            <mat-error *ngIf=\"applicant.get('idType').hasError('required')\">\r\n                              ID Type is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                        \r\n                        <div class=\"pb-1\" *ngIf=\"showExpiryDate && applicant.get('idType').value !== 'Aadhar card'\" >\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>ID Type Valid Till </mat-label>\r\n                            <input matInput name=\"date\" readonly formControlName=\"expiryDate\"[required]=\"applicant.get('idType').value !== 'Aadhar card'\"\r\n                              placeholder=\"ID Type Valid Till\" [matDatepicker]=\"appDatepicker1\" [min]=\"validDate\"/>\r\n  \r\n                            <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                            <mat-error *ngIf=\"applicant.get('expiryDate').hasError('required')\">\r\n                              ID Type Valid Till is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                          <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                        </div>\r\n                      </div>\r\n                      <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                        <div class=\"pb-1\" *ngIf=\"listOfAccounts.length == 0\">\r\n                          <label>Is the applicant a primary customer?</label>\r\n                          &nbsp;&nbsp;\r\n                          <mat-slide-toggle formControlName=\"primaryCustomer\" [(ngModel)]=\"isChecked\"\r\n                            [disabled]=\"listOfAccounts.length == 0 ? true : false\">\r\n                          </mat-slide-toggle>\r\n  \r\n                          <div class=\"mb-16\"></div>\r\n                        </div>\r\n                        <div  #show>\r\n                          <label>&nbsp;</label>\r\n                        </div>\r\n                        <div>\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Customer Prefix *</mat-label>\r\n                            <mat-select name=\"prefix\" formControlName=\"prefix\"\r\n                            (selectionChange)=\"onChangeData(applicant.get('gender').value)\">\r\n                              <mat-option *ngFor=\"let prefix of arrayPrefix\" [value]=\"prefix\">\r\n                                {{prefix}}\r\n                              </mat-option>\r\n                            </mat-select>\r\n                            <mat-error *ngIf=\"applicant.get('prefix').hasError('required')\">\r\n                              Prefix is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n         \r\n                        <div class=\"pb-1 info1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Middle Name</mat-label>\r\n                            <input matInput name=\"mname\" formControlName=\"middleName\" placeholder=\"Middle Name\"\r\n                              (keypress)=\"letterOnly($event)\" />\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Gender *</mat-label>\r\n                            <mat-select name=\"gender\" formControlName=\"gender\" (selectionChange)=\"onChangeData($event.value)\">\r\n                              <mat-option *ngFor=\"let gender of arrayGender\" [value]=\"gender\">\r\n                                {{gender}}\r\n                              </mat-option>\r\n                            </mat-select>\r\n                            <mat-error *ngIf=\"applicant.get('gender').hasError('required')\">\r\n                              Gender is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Birth Place *</mat-label>\r\n                            <input matInput name=\"bplace\" formControlName=\"placeOfBirth\" placeholder=\"Birth Place\" />\r\n                            <mat-error *ngIf=\"applicant.get('placeOfBirth').hasError('required')\">\r\n                              Birth Place is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Citizenship By</mat-label>\r\n                             <div fxFlex=\"20\" [style.display]=\"currency == null ? 'none': ''\">\r\n                                <div matPrefix >\r\n                                  <div *ngIf=\"citizenshipFflag\"\r\n                                    class=\"currency-flag currency-flag-{{currency}}\"></div>\r\n                                </div>\r\n                              </div>\r\n                              <div fxFlex=\"100\">\r\n                                <mat-select formControlName=\"nationality\" id=\"forcitizenship\"\r\n                                (selectionChange)=\"onSelectionCitizionship1($event.value)\"\r\n                                  required>\r\n                                  <mat-option disabled>--Select--</mat-option>\r\n                                  <mat-option *ngFor=\"let citizenship of arrayCountry\"\r\n                                    [value]=\"citizenship\">\r\n                                    {{citizenship}}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                              </div>\r\n                            <mat-error *ngIf=\"applicant.get('nationality').hasError('required')\">\r\n                            Citizenship By is Required!\r\n                          </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                        \r\n\r\n                        <div class=\"pb-1\" >\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Marital Status</mat-label>\r\n                                <mat-select name=\"maritalStatus\" formControlName=\"maritalStatus\" required>\r\n                                    <mat-option *ngFor=\"let status of maritalStatusList\" [value]=\"status\">{{ status }}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n\r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Occupation Type *</mat-label>\r\n                            <input matInput name=\"occupation\"  (keypress)=\"letterOnly($event)\" formControlName=\"occupationType\"\r\n                              placeholder=\"Occupation Type\" />\r\n                            <mat-error *ngIf=\"applicant.get('occupationType').hasError('required')\">\r\n                              Occupation Type is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Unique ID *</mat-label>\r\n                            <input matInput name=\"uniqueidentity\" formControlName=\"idNumber\" placeholder=\"Unique ID\"\r\n                              maxlength=\"12\" (keypress)=\"keyPressAlphanumeric($event)\" />\r\n                            <mat-error *ngIf=\"applicant.get('idNumber').touched && !applicant.get('idNumber').valid\">\r\n                              <div *ngIf=\"applicant.get('idNumber').hasError('required')\">Unique ID is Required!</div>\r\n                              <div *ngIf=\"applicant.get('idNumber').hasError('pattern')\">This is a alphanumeric field\r\n                              </div>\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n  \r\n  \r\n                      </div>\r\n                    </div>\r\n                    <!-- Address Section start-->\r\n                    <mat-accordion>\r\n                      <mat-expansion-panel class=\"mb-8\" expanded=\"true\">\r\n                        <mat-expansion-panel-header>\r\n                          <mat-panel-title>Communication Address </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n  \r\n                        <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                          <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Address Line 1 *</mat-label>\r\n                                <textarea matInput formControlName=\"address1\" placeholder=\"Address 1\"></textarea>\r\n                                <mat-error *ngIf=\"applicant.get('address1').hasError('required')\">\r\n                                  Address Line 1 is Required!\r\n                                </mat-error>\r\n                                <mat-error *ngIf=\" applicant.get('address1').touched && applicant.get('address1').hasError('pattern')\">\r\n                                  Please Enter Valid Address\r\n                                 </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n                           \r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Residence Type *</mat-label>\r\n                                <mat-select name=\"addressType\" formControlName=\"addressType\">\r\n                                  <mat-option *ngFor=\"let addressType of arrayAddressType\" [value]=\"addressType\">\r\n                                    {{addressType}}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                                <mat-error *ngIf=\"applicant.get('addressType').hasError('required')\">\r\n                                  Residence Type is Required!\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n                          \r\n                            \r\n                            \r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Zip Code *</mat-label>\r\n                                <input minlength=\"5\" maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"a_zip\"\r\n                                  formControlName=\"zipCode\" onlyNumber placeholder=\"Zip Code\"\r\n                                  (keyup)=\"isAllSameDigit($event)\"\r\n                                   (change)=\"getCityandStateByZipcode(applicant.get('country').value,$event.target.value)\"/>\r\n                              </mat-form-field>\r\n                              <mat-error *ngIf=\"applicant.get('zipCode').hasError('required') &&\r\n                                !applicant.controls['zipCode'].valid && \r\n                                applicant.controls['zipCode']?.touched\">\r\n                                Zip code is required!\r\n                              </mat-error>\r\n                              <mat-error *ngIf=\"applicant.get('zipCode').errors?.pattern\">Please enter valid Zip Code!(5-10 digits)</mat-error>\r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>City * </mat-label>\r\n                                <mat-select name=\"city\" formControlName=\"city\" (selectionChange)=\"onCityChange()\">\r\n                                  <mat-option *ngFor=\"let city of arrayCity\" [value]=\"city\">{{city}}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                                <mat-error *ngIf=\"applicant.get('city').hasError('required')\">\r\n                                  City is Required!\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n \r\n  \r\n                          </div>\r\n                          <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Address Line 2 *</mat-label>\r\n                                <textarea matInput formControlName=\"address2\" placeholder=\"Address 2\"></textarea>\r\n                                <mat-error *ngIf=\"applicant.get('address2').hasError('required')\">\r\n                                  Address Line 2 is Required!\r\n                                </mat-error>\r\n                                <mat-error *ngIf=\" applicant.get('address2').touched && applicant.get('address2').hasError('pattern')\">\r\n                                  Please Enter Valid Address \r\n                                 </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n                            \r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Country *</mat-label>\r\n                                <div fxFlex=\"20\">\r\n                                  <div matPrefix>\r\n                                    <div *ngIf=\"isCountry\"\r\n                                      class=\"currency-flag currency-flag-{{countryCode}}\"></div>\r\n                                  </div>\r\n                                </div>\r\n                                <mat-select name=\"country\" formControlName=\"country\"\r\n                                  (selectionChange)=\"getStateName($event.value,true)\"\r\n                                  (selectionChange)=\"getCountrySelection($event.value)\">\r\n                                  <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                    {{country}}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                                <mat-error *ngIf=\"applicant.get('country').hasError('required')\">\r\n                                  Country is Required!\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>State *</mat-label>\r\n                                <mat-select name=\"state\" formControlName=\"state\" (selectionChange)=\"onStateChange()\"\r\n                                  >\r\n                                  <mat-option *ngFor=\"let state of arrayState\" [value]=\"state.stateName\">{{state.stateName}}\r\n                                  </mat-option>\r\n  \r\n                                </mat-select>\r\n                                <mat-error *ngIf=\"applicant.get('state').hasError('required')\">\r\n                                  State is Required!\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n\r\n                            \r\n        \r\n  \r\n                          </div>\r\n                        </div>\r\n                      </mat-expansion-panel>\r\n                    </mat-accordion>\r\n                    <!-- Address Section end -->\r\n                    <!-- Contact Information -->\r\n                    <mat-accordion>\r\n                      <mat-expansion-panel class=\"mb-8\" expanded=\"true\">\r\n                        <mat-expansion-panel-header>\r\n                          <mat-panel-title>Contact Information </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n  \r\n                        <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                          <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Mobile Number *</mat-label>\r\n                                <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput\r\n                                  formControlName=\"phoneNumber\" name=\"phone\" placeholder=\"Mobile Number\" />\r\n                                <mat-error *ngIf=\"applicant.get('phoneNumber').hasError('required')\">\r\n                                  Mobile Number is Required!\r\n                                </mat-error>\r\n                                <mat-error *ngIf=\"applicant.get('phoneNumber').hasError('pattern')\">\r\n                                  Please, Enter 10 digit Mobile Number!\r\n                                </mat-error>\r\n  \r\n                              </mat-form-field>\r\n                              <mat-error style=\"margin-top:-20px\" *ngIf=\"applicant.get('phoneNumber').value == '0000000000'\">\r\n                                &nbsp; &nbsp; Please Enter Correct Mobile Number\r\n                             </mat-error>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>E-mail *</mat-label>\r\n                                <input matInput name=\"email\" formControlName=\"primaryEmailAdress\" placeholder=\"e-mail\" (keypress)=\"Checkout(applicant)\"  />\r\n                                <mat-error *ngIf=\"applicant.get('primaryEmailAdress').hasError('required')\">\r\n                                  E-mail is Required!\r\n                                </mat-error>\r\n                                <mat-error *ngIf=\"applicant.get('primaryEmailAdress').errors?.email || applicant.get('primaryEmailAdress').errors?.pattern\">\r\n                                  \"Please Enter Valid Email\"\r\n                                </mat-error>\r\n                                <!-- <mat-error *ngIf=\"form.controls['email'].touched && form.controls['email'].errors?.required || form.controls['email'].errors?.email\">\r\n                                  \"Please Enter Valid Email\"\r\n                                </mat-error> -->\r\n                              </mat-form-field>\r\n                            </div>\r\n                          </div>\r\n                          <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Landline Number </mat-label>\r\n                                <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"mobile\"\r\n                                  formControlName=\"landlineNumber\" placeholder=\"Landline Number\" />\r\n                                <!-- <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('required')\">\r\n                                  Landline Number is Required!\r\n                                </mat-error> -->\r\n                                <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('pattern')\">\r\n                                  Please, Enter 10 digit Landline Number!\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                              <mat-error style=\"margin-top:-20px\" *ngIf=\"applicant.get('landlineNumber').value == '0000000000'\">\r\n                                &nbsp; &nbsp; Please Enter Correct Landline Number\r\n                             </mat-error>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n  \r\n                      </mat-expansion-panel>\r\n                      <div class=\"pb-1\">\r\n  \r\n                        <!-- <button\r\n                        mat-button\r\n                        color=\"warn\"\r\n                        (click)=\"removeApplicant()\"\r\n                      >\r\n                        <mat-icon></mat-icon> RESET APPLICANT\r\n                      </button> -->\r\n                      </div>\r\n                      <div class=\"pb-1\">\r\n                        <a mat-button color=\"primary\" *ngIf=\"applicant.invalid ||isDuplicateCIF || disableSaveBtn; else openSave\" [disabled]=\"applicant.invalid||isDuplicateCIF\" >\r\n                          <mat-icon></mat-icon> SAVE APPLICANT\r\n                        </a>\r\n                        <ng-template #openSave>\r\n                          <a mat-button color=\"primary\" (click)=\"onSubmit()\">\r\n                            <mat-icon></mat-icon> SAVE APPLICANT\r\n                          </a>\r\n                        </ng-template>\r\n  \r\n                        <!-- <button\r\n                        mat-button\r\n                        color=\"warn\"\r\n                        (click)=\"removeApplicant()\"\r\n                      >\r\n                        <mat-icon></mat-icon> RESET APPLICANT\r\n                      </button> -->\r\n                      </div>\r\n  \r\n                    </mat-accordion>\r\n                    <!-- Contact Information -->\r\n                  </div>\r\n                </mat-expansion-panel>\r\n              </mat-accordion>\r\n  \r\n            </div>\r\n  \r\n            <!-- <pre><code>{{applicant.getRawValue() | json}}</code></pre> -->\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n              <button mat-button rounded  (click)=\"goBack()\">\r\n                Back\r\n              </button>\r\n              <ng-container *ngIf=\"cardCustomerForm.get('ownership').value == 'Joint'; else hideBtn\">\r\n                <button mat-raised-button color=\"primary\" class=\"Nextbtn\" (click)=\"goToNext()\"\r\n                [disabled]=\"cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? 'false' : 'true'\">\r\n                <!-- [disabled]=\"cardCustomerForm.get('numOfApplicants').value && !!listOfAccounts.length && cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? 'false' : 'true'\"> -->\r\n                  Next\r\n                </button>\r\n              </ng-container>\r\n              <ng-template #hideBtn>\r\n                <button class=\"Nextbtn\" mat-raised-button color=\"primary\" (click)=\"goToNext()\"\r\n                [disabled]=\"cardCustomerForm.get('numOfApplicants').value !== listOfAccounts.length || (cardCustomerForm.invalid && (selectedApplicant !== null)) \">\r\n                <!-- [disabled]=\"cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? 'false' : 'true'\"> -->\r\n                <!-- [disabled]=\"(cardCustomerForm.get('numOfApplicants').value && !!listOfAccounts.length && (cardCustomerForm.get('numOfApplicants').value !== listOfAccounts.length)) || ((listOfAccounts.length ? (cardCustomerForm.touched && cardCustomerForm.invalid) : cardCustomerForm.invalid) && (selectedApplicant !== null))\"> -->\r\n                  Next\r\n                </button>\r\n              </ng-template>\r\n            </div>\r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n@Component({\r\n\r\n\r\n  selector: 'app-underwriting-stage',\r\n  templateUrl: './underwriting-stage.component.html',\r\n  styleUrls: ['./underwriting-stage.component.scss']\r\n})\r\nexport class UnderwritingStageComponent implements OnInit {\r\n  isCardCreditRatingDetails: boolean = false;\r\n  isCardQualitativeScoreboard:boolean=false;\r\n  cardId :any;\r\n  constructor(private router:Router, private ls: LocalStoreService,private dialogService : DialogService,\r\n  private accountService: AccountService,private cdr: ChangeDetectorRef) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isCardQualitativeScoreboard=this.ls.getItem('CARD_QUALITATIVE_SCOREBOARD_DONE');\r\n    this.isCardCreditRatingDetails = this.ls.getItem('CARD_CREDIT_RATING_DONE');\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n        this.cardId = this.ls.getItem('cardId');\r\n      //  this.loanAccountId = this.ls.getItem('loanAccountId');\r\n        this.isCardQualitativeScoreboard=this.ls.getItem('CARD_QUALITATIVE_SCOREBOARD_DONE');\r\n        this.isCardCreditRatingDetails = this.ls.getItem('CARD_CREDIT_RATING_DONE');\r\n        this.cdr.markForCheck();\r\n      });\r\n  }\r\n\r\n  viewSummary(){\r\n    this.router.navigate([`cardaccount/underwritingStage/summary`]);\r\n  }\r\n\r\n  goToCreditRatingSummary(){\r\n    this.dialogService.cardAccountcreditRatingSummaryDialog();\r\n  }\r\n  openCardQualitativeDialog(){\r\n    this.dialogService.CardQualitativeSummaryDialog();\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. ­­­­­­­­\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-8\" *ngIf=\"isCardCreditRatingDetails && isCardQualitativeScoreboard;\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Underwriting Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\" (click)=\"viewSummary()\">\r\n                    View Summary\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card [ngClass]=\"{'border-size': isCardCreditRatingDetails || !isCardCreditRatingDetails  }\">\r\n        <mat-card-header>\r\n          <mat-card-title>1. Credit Rating Details</mat-card-title>\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\">\r\n            <div fxFlex=\"50%\"style=\"padding-left:17px\" class=\"txtclr\">\r\n              <p>\r\n                Credit rating details are captured here.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/Mask_Group_9.svg'\" class=\"card-img\" /> \r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <div class=\"mb-1\" *ngIf=\"isCardCreditRatingDetails\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\">\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n          </div>\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n            <ng-container *ngIf=\"isCardCreditRatingDetails; else showCredit\">\r\n                <button mat-button (click)=\"goToCreditRatingSummary()\" color=\"primary\">\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                </button>\r\n            </ng-container>\r\n            \r\n            <ng-template #showCredit>\r\n                <button mat-button [routerLink]=\"['/cardaccount/underwritingStage/credit-rating']\" color=\"primary\">\r\n                   Add Details <mat-icon>chevron_right</mat-icon>\r\n                </button>\r\n            </ng-template>\r\n          </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 1 end -->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start-->\r\n      <mat-card [ngClass]=\"{'border-size': isCardCreditRatingDetails || !isCardCreditRatingDetails && isCardQualitativeScoreboard  }\">\r\n        <mat-card-header>\r\n          <mat-card-title>2. Qualitative Scorecard</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n            <div fxFlex=\"50%\" style=\"padding-left:17px\"class=\"txtclr\">\r\n              <p>\r\n                Charge Details are displayed.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/undraw_Scrum_board_re_wk7v.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <div class=\"mb-1\"  *ngIf=\"isCardQualitativeScoreboard\">\r\n            <mat-progress-bar\r\n             [color]=\"'primary'\" \r\n              mode=\"determinate\"\r\n             [value]=\"100\" class=\"rounded\" \r\n             style=\"height: 6px\">\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n          </div>\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"isCardQualitativeScoreboard; else showQualitative\">\r\n              <button mat-button (click)=\"openCardQualitativeDialog()\" color=\"primary\">\r\n                 View Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-container>\r\n\r\n          <ng-template #showQualitative>\r\n              <!-- <button mat-button [routerLink]=\"['/cardaccount/underwritingStage/qualitative']\" \r\n              color=\"primary\" [disabled]=\"!isCardQualitativeScoreboard\"> -->\r\n              <button mat-button [routerLink]=\"['/cardaccount/underwritingStage/qualitative']\" \r\n              color=\"primary\" [disabled]=\"!isCardCreditRatingDetails\" >\r\n                Add Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-template>\r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>\r\n  </div>\r\n  \r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { CardInitiationSummaryComponent } from './card-initiation/card-initiation-summary/card-initiation-summary.component';\r\n\r\n@Component({\r\n  selector: 'app-application-entry-stage',\r\n  templateUrl: './application-entry-stage.component.html',\r\n  styleUrls: ['./application-entry-stage.component.scss']\r\n})\r\nexport class ApplicationEntryStageComponent implements OnInit {\r\n  isCardPrefrenceDone:boolean=false\r\n  CardInitiationScreenDone:boolean=false;\r\n  isCardInitiationDone:boolean=false;\r\n  isCardCustomerInformationScreen:boolean=false;\r\n  isCardFinancialDetailsScreen:boolean=false;\r\n  isCardAccountService:boolean=false;\r\n  isCardApplicationStageDone:boolean=false;\r\n\r\n\r\n  constructor(private router:Router,private dialogService : DialogService,private ls: LocalStoreService, public dialog: MatDialog) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isCardApplicationStageDone=this.ls.getItem('CARD_APPLICATION_ENTRY_DONE');\r\n    this.isCardPrefrenceDone=this.ls.getItem('card_prefrence_done');\r\n    this.isCardInitiationDone=this.ls.getItem('CARD_INITIATION_DONE');\r\n    this.isCardCustomerInformationScreen=this.ls.getItem('Card_Customer_Done');\r\n    this.isCardFinancialDetailsScreen=this.ls.getItem('CARD_FINANCIAL_DONE');\r\n    this.isCardAccountService=this.ls.getItem('CARD_ACC_SERVICE_DONE')\r\n  }\r\n  openCardInitiationSummary(){\r\n    this.dialogService.CardInitiationSummary();\r\n  }\r\n  goToFinancialSummarry(){\r\n    this.dialogService.CardFinancialDetailsSummary();\r\n  }\r\n  goToCustomerInfo(){\r\n    this.dialogService.CardCustomerInfoSummary();\r\n  }\r\n\r\n  goToCradAccountService(){\r\n    this.dialogService.cardAccountServiceViewSummary();\r\n  }\r\n  cardPrefrenceSummary(){\r\n    this.dialogService.cardPrefrenceSummary();\r\n  }\r\n\r\n  openCardEntryStageViewSummary(){\r\n    this.dialogService.cardAppEntryStageViewSummary();\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\" class=\"matcard-size1\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. ­­­­­­­­\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\" *ngIf=\"isCardApplicationStageDone\" class=\"mt-8\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Entry Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button class=\"btn-color\"\r\n                 (click)=\"openCardEntryStageViewSummary()\">\r\n                    View Summary\r\n                    <mat-icon>chevron_right</mat-icon>\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n        <!-- Card 1 start-->\r\n        <mat-card [ngClass]=\"{'border-size':isCardInitiationDone || !isCardInitiationDone }\">\r\n            <mat-card-header>\r\n                <mat-card-title style=\"font-size: 16px\">1. Card Initiation</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" style=\"font-size: 11px\">\r\n                    <div fxFlex=\"50%\" class=\"notActive\" >\r\n                        <p class=\"text-align\">\r\n                            All the primary information about the customer is captured.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img src=\"assets/images/cardInitiation.png\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n                <div class=\"mb-1\" *ngIf=\"isCardInitiationDone\">\r\n                    <mat-progress-bar\r\n                      [color]=\"'primary'\"\r\n                      mode=\"determinate\"\r\n                      [value]=\"100\"\r\n                      class=\"rounded\"\r\n                      style=\"height: 6px\">\r\n                    </mat-progress-bar>\r\n                    <p class=\"m-0 text-right\">Completed</p>\r\n                    <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n                  </div>\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            \r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardInitiationDone\">\r\n                    <button\r\n                  mat-button\r\n                  (click)=\"openCardInitiationSummary()\"\r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n      \r\n                <ng-container *ngIf=\"!isCardInitiationDone\" >\r\n                    <button \r\n                  mat-button\r\n                  [routerLink]=\"['/cardaccount/applicationEntryStage/list/cardInitiation']\" \r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container >\r\n            \r\n                \r\n              </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n    \r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n        <!-- Card 1 start-->\r\n        <mat-card [ngClass]=\"{'border-size':isCardCustomerInformationScreen || !isCardCustomerInformationScreen && isCardInitiationDone }\">\r\n            <mat-card-header>\r\n                <mat-card-title style=\"font-size: 16px\">2. Customer Information Details</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" style=\"font-size: 11px\">\r\n                    <div fxFlex=\"50%\" class=\"notActive\" >\r\n                        <p class=\"text-align\">\r\n                            All the primary information about the customer is captured.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/undraw_personal_information_re_vw8a.svg.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n                <div class=\"mb-1\" *ngIf=\"isCardCustomerInformationScreen\">\r\n                    <mat-progress-bar\r\n                      [color]=\"'primary'\"\r\n                      mode=\"determinate\"\r\n                      [value]=\"100\"\r\n                      class=\"rounded\"\r\n                      style=\"height: 6px\">\r\n                    </mat-progress-bar>\r\n                    <p class=\"m-0 text-right\">Completed</p>\r\n                    <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n                  </div>\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n          \r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardCustomerInformationScreen; else showCustomer\">\r\n                    <button\r\n                  mat-button\r\n                 (click)=\"goToCustomerInfo()\"\r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n      \r\n                <ng-template #showCustomer>\r\n                    <button \r\n                  mat-button\r\n                  [routerLink]=\"['/cardaccount/applicationEntryStage/list/customerInformation']\"\r\n                  color=\"primary\"\r\n                  [disabled]=\"!isCardInitiationDone\"\r\n                  class=\"add-align\"\r\n                >\r\n                  Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template>\r\n            \r\n                \r\n              </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- card 2 start-->\r\n        <mat-card [ngClass]=\"{'border-size':isCardFinancialDetailsScreen || !isCardFinancialDetailsScreen && isCardCustomerInformationScreen }\">\r\n            <mat-card-header>\r\n                <mat-card-title style=\"font-size: 16px\">3. Financial Details</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" style=\"font-size: 11px\">\r\n                    <div fxFlex=\"50%\" class=\"notActive\" >\r\n                        <p class=\"text-align\">\r\n                            Financial Details such as Monthly Income, Monthly Expenses, Liabilities are captured.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"\r\n                  'assets/images/svg/undraw_Finance_re_gnv2.svg'\r\n                \" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n                <div class=\"mb-1\" *ngIf=\"isCardFinancialDetailsScreen\">\r\n                    <mat-progress-bar\r\n                      [color]=\"'primary'\"\r\n                      mode=\"determinate\"\r\n                      [value]=\"100\"\r\n                      class=\"rounded\"\r\n                      style=\"height: 6px\">\r\n                    </mat-progress-bar>\r\n                    <p class=\"m-0 text-right\">Completed</p>\r\n                    <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n                  </div>\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardFinancialDetailsScreen; else showFinancial\">\r\n                    <button\r\n                  mat-button\r\n                  (click)=\"goToFinancialSummarry()\"\r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n      \r\n                <ng-template #showFinancial>\r\n                    <button \r\n                  mat-button\r\n                  [routerLink]=\"['/cardaccount/applicationEntryStage/list/financialDetails']\"\r\n                  color=\"primary\"\r\n                  [disabled]=\"!isCardCustomerInformationScreen\"\r\n                  class=\"add-align\"\r\n                >\r\n                  Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template>\r\n            \r\n                \r\n              </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 2 end-->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- card 2 start-->\r\n        <mat-card [ngClass]=\"{'border-size':isCardPrefrenceDone || !isCardPrefrenceDone && isCardFinancialDetailsScreen }\">\r\n            <mat-card-header>\r\n                <mat-card-title style=\"font-size: 16px\">4. Card Preferences</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" style=\"font-size: 11px\">\r\n                    <div fxFlex=\"50%\" class=\"notActive\" >\r\n                        <p class=\"text-align\">\r\n                            Card related information are added.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"\r\n                  'assets/images/svg/Mask_Group_1.svg'\r\n                \" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n                <div class=\"mb-1\" *ngIf=\"isCardPrefrenceDone\">\r\n                    <mat-progress-bar\r\n                      [color]=\"'primary'\"\r\n                      mode=\"determinate\"\r\n                      [value]=\"100\"\r\n                      class=\"rounded\"\r\n                      style=\"height: 6px\">\r\n                    </mat-progress-bar>\r\n                    <p class=\"m-0 text-right\">Completed</p>\r\n                    <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n                  </div>\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardPrefrenceDone; else showCardPrefrence\">\r\n                    <button\r\n                  mat-button\r\n                  (click)=\"cardPrefrenceSummary()\"\r\n              \r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n      \r\n                <ng-template #showCardPrefrence>\r\n                    <button \r\n                  mat-button\r\n                  [routerLink]=\"[ '/cardaccount/applicationEntryStage/list/cardPrefrence' ]\"\r\n                  color=\"primary\"\r\n                  [disabled]=\"!isCardFinancialDetailsScreen\"\r\n                  class=\"add-align\"\r\n                >\r\n                  Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template>\r\n            \r\n                \r\n              </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 2 end-->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- card 2 start-->\r\n        <mat-card [ngClass]=\"{'border-size':isCardAccountService || !isCardAccountService && isCardPrefrenceDone }\">\r\n            <mat-card-header>\r\n                <mat-card-title style=\"font-size: 16px\">5. Account Services</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" style=\"font-size: 11px\">\r\n\r\n                    <div fxFlex=\"50%\" class=\"notActive\" >\r\n\r\n                        <p class=\"text-align\">\r\n                            Account services preferences like account statement frequency and mode are captured.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"\r\n                  'assets/images/svg/undraw_opinion_dxp8.svg'\r\n                \" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n                <div class=\"mb-1\" *ngIf=\"isCardAccountService\">\r\n                    <mat-progress-bar\r\n                      [color]=\"'primary'\"\r\n                      mode=\"determinate\"\r\n                      [value]=\"100\"\r\n                      class=\"rounded\"\r\n                      style=\"height: 6px\">\r\n                    </mat-progress-bar>\r\n                    <p class=\"m-0 text-right\">Completed</p>\r\n                    <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n                  </div>\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n\r\n                <ng-container *ngIf=\"isCardAccountService; else showService\">\r\n                    <button\r\n                  mat-button\r\n                  (click)=\"goToCradAccountService()\"\r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n      \r\n                <ng-template #showService>\r\n                    <button \r\n                  mat-button\r\n                  [routerLink]=\"['/cardaccount/applicationEntryStage/list/accountServices']\"\r\n                  color=\"primary\"\r\n                  [disabled]=\"!isCardPrefrenceDone\"\r\n                  class=\"add-align\"\r\n                >\r\n                  Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template>\r\n            \r\n                \r\n              </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 2 end-->\r\n    </div>\r\n    <!-- <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <mat-card>\r\n            <mat-card-header>\r\n                <mat-card-title>5. Add on Card Holder Details</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> \r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                    <div fxFlex=\"50%\">\r\n                        <p>Details such as name, relation, address of the add on card holder is captured.</p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/Mask Group 5.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n                <!--end::Progress\r\n            </mat-card-content>\r\n            <!--begin:: Card body\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n\r\n                <button mat-button color=\"primary\" [routerLink]=\"[ '/loan/account/customer-information' ]\">\r\n                    View Details <mat-icon>chevron_right</mat-icon>\r\n                </button>\r\n\r\n            </mat-card-actions>\r\n        </mat-card>\r\n    </div> -->\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { QualitativeScoreboardSummary } from 'app/shared/models/qualitativeScoreboardSummary';\r\nimport { AssessmentReportSummary } from 'app/shared/models/AssessmentReportSummary';\r\nimport { UrlService } from 'app/views/home/url.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-underwriting-stage-summary',\r\n  templateUrl: './underwriting-stage-summary.component.html',\r\n  styleUrls: ['./underwriting-stage-summary.component.scss']\r\n})\r\nexport class UnderwritingStageSummaryComponent implements OnInit {\r\n\r\n  previousUrl: string = '';\r\n  accountId: any;\r\n  qualitativeScoreboardSummary: QualitativeScoreboardSummary;\r\n  assessmentReportSummary: AssessmentReportSummary;\r\n  imagePath = \"assets/images/assesment.png\";\r\n  cardId: any;\r\n  customerName: any;\r\n  creditRatingValues: any;\r\n  constructor(\r\n    private router: Router,\r\n    private ls: LocalStoreService,\r\n    private apiService: ApiService,\r\n    private urlService: UrlService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem('cardId');\r\n    \r\n    this.getAllData(this.cardId);\r\n\r\n    this.urlService.previousUrl$\r\n      .subscribe((previousUrl: string) => {\r\n        this.previousUrl = previousUrl\r\n      });\r\n\r\n\r\n  }\r\n\r\n  getAllData(id) {\r\n    this.apiService.getCardQualitativeScorecardDetails(this.cardId).subscribe((response) => {\r\n      this.qualitativeScoreboardSummary = response;\r\n      console.log(this.qualitativeScoreboardSummary);\r\n       console.log(this.qualitativeScoreboardSummary.scoreCardMapping);\r\n    });\r\n   \r\n    this.apiService.getCardCreditRatingDetails(id).subscribe((creditDetails: any) => {\r\n      console.log(creditDetails.customerName);\r\n      this.customerName=creditDetails.customerName;\r\n      this.creditRatingValues=creditDetails;\r\n      });\r\n    }\r\n  \r\n    goBack() {\r\n      this.router.navigate([`cardaccount/underwritingStage/list`]);\r\n    }\r\n  \r\n    done() {\r\n      // this.router.navigate([`/cardaccount/assessmentStage/list/${this.cardId}`]);\r\n      this.router.navigate([\"/cardaccount/assessmentStage/list\"]);\r\n    }\r\n  \r\n\r\n}\r\n","<div fxLayout=\"column\" style=\"padding: 3rem 0rem;\" fxLayoutAlign=\"space-around center\" fxLayoutGap=\"20px\"\r\n    class=\"full-width\">\r\n    <div>\r\n        <img [src]=\"imagePath\">\r\n    </div>\r\n    <div>\r\n        <h2 style=\"font-size: 24px;\">Application Underwriting stage Summary</h2>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row\">\r\n    <h4 class=\"paraFont\">Credit Score Details</h4>\r\n</div>\r\n<div class=\"fullcard\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n        <div fxFlex=\"100%\">\r\n            <mat-card class=\"chequecard\">\r\n                <mat-card-content>\r\n                    <div class=\"full-width\" >\r\n                         <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                <ng-container>\r\n                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                        <mat-hint class=\"headingText\">CustomerName</mat-hint>\r\n                                                <br>\r\n                                         <mat-hint class=\"valueText\">{{customerName}}</mat-hint>\r\n                                    </div>\r\n                                 </ng-container>\r\n                            </div>\r\n                         </div>\r\n                    </div>\r\n                </mat-card-content>\r\n            </mat-card>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"fullcard\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n        <div fxFlex=\"100%\">\r\n            <div *ngFor=\"let credit of creditRatingValues.agencyRating\">\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\" >\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                     <ng-container>\r\n                                            <div fxFlex=\"5%\" fxFlex.xs=\"100%\" class=\"inputCardclass\" fxLayoutAlign=\"end start\">\r\n                                                <!-- <div >\r\n                                                    <app-avatar-photo [name]=\"customer?.firstName + ' ' + customer?.lastName\"></app-avatar-photo> \r\n                                                </div> -->\r\n                                             </div>\r\n                                            <div fxFlex fxFlex.xs=\"100%\" class=\"inputCardclass\">\r\n                                                <mat-card class=\"inputCard\">\r\n                                                    <h3>Score</h3><br>\r\n                                                        <div fxLayout=\"column\" fxLayoutGap=\"10%\" fxLayoutAlign=\"space-between none\">\r\n                                                        <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                            <ng-container>\r\n                                                                <div fxFlex=\"20%\" fxFlex.xs=\"50%\">\r\n                                                                    <mat-hint class=\"headingText\">Agency</mat-hint><br>\r\n                                                                    <mat-hint class=\"valueText\">{{credit.agencyName}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"20%\" fxFlex.xs=\"50%\">\r\n                                                                    <mat-hint class=\"headingText\">Score</mat-hint><br>\r\n                                                                    <mat-hint class=\"valueText\">{{credit.ratings}}</mat-hint>\r\n                                                                </div>   \r\n                                                            </ng-container>\r\n                                                        </div>\r\n                                                        </div><br>\r\n                                                        <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                                <ng-container>\r\n                                                                    <div fxFlex=\"20%\" fxFlex.xs=\"50%\">\r\n                                                                        <mat-hint class=\"headingText\">Remarks</mat-hint><br>\r\n                                                                        <mat-hint class=\"valueText\">{{credit.remarks}} </mat-hint>\r\n                                                                    </div>\r\n                                                                </ng-container>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                </mat-card>\r\n                                            </div>\r\n                                    </ng-container>\r\n                                </div>    \r\n                            </div>\r\n                        </div>\r\n                     </mat-card-content>\r\n                </mat-card>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> \r\n<br>\r\n\r\n<div fxLayout=\"column\" fxLayoutAlign=\"space-between start\" fxLayoutGap=\"10px\" class=\"full-width\">\r\n   \r\n    <div fxFlex=\"100%\" fxFlex.xs=\"100%\" class=\"full-width\"\r\n        style=\"border:1px solid rgb(249 245 245);border-radius: 5px;\"><!--- *ngIf=\"qualitativeScoreboardSummary !=null\"-->\r\n        <div fxLayout=\"column\" fxLayoutAlign=\"space-evenly start\" class=\"full-width\">\r\n            <div class=\"full-width\">\r\n                <div fxLayout=\"row wrap\" class=\"full-width\" style=\"padding:2rem;\">\r\n                    <div fxFlex=\"100%\" fxFlex.xs=\"100%\">\r\n                        <div>\r\n                            <span style=\"color: #102245;opacity: 64%; font-size:medium;font-family: sans-serif;\">ScoreCard Id</span><br>\r\n                            <div style=\"padding-top: 5px;\">\r\n                                <span style=\"font-size: medium;\">ID #{{qualitativeScoreboardSummary?.scoreCardId}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div fxFlex=\"100%\" fxFlex.xs=\"100%\">\r\n                        <div class=\"mt-32\">\r\n                            <span style=\"color: #102245;opacity: 64%; font-size: medium;font-family: sans-serif;\">Number Of Applicants</span><br>\r\n                            <div style=\"padding-top: 5px;\">\r\n                                <span style=\"font-size: medium;\">{{qualitativeScoreboardSummary?.numberOfApplicant}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n         \r\n            <div class=\"full-width\">\r\n                <mat-divider style=\"background-color: white\"></mat-divider>\r\n            </div>\r\n          \r\n           \r\n            <div fxLayout=\"row wrap\" style=\"color: #102245;opacity: 64%; font-size: medium;font-family: sans-serif; padding: 0rem 1rem;\" \r\n            class='qtnhd'>Questions</div> \r\n          \r\n            <div class=\"full-width\" style=\"padding: 0rem 2rem;\">             \r\n              <div fxLayout=\"row wrap\" class=\"full-width\" >\r\n                <div *ngFor='let item of qualitativeScoreboardSummary?.scoreCardMapping;let k=index'>  \r\n                  <div class=\"applicanthd\" \r\n                    style=\"font-weight: bold;font-family: sans-serif;\">Applicant {{item.applicantId}}</div>\r\n                    <div class=\"row wrap\">\r\n                      <div fxLayout=\"row wrap\" class=\"qtncard row\"\r\n                       fxLayoutGap=\"30px\" fxFlex=\"50%\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\" class=\"full-width\"\r\n                       *ngFor='let item of qualitativeScoreboardSummary?.scoreCardMapping[k].scoreCardDetails;let i=index'>\r\n                       <mat-card class=\"qtncard1 row\" style=\" justify-content:space-evenly;\">\r\n                       <div>{{i+1}}.{{item.scorecardQuestion}}</div>\r\n                       <div class='qtnval' style=\"opacity: 80%\">{{item.scorecardAnswer}}</div>\r\n                       </mat-card>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          \r\n        </div>\r\n    </div>\r\n   \r\n</div>\r\n\r\n<div >\r\n    <button mat-stroked-button color=\"primary\"\r\n            style=\"border-radius: 20px;width: 10rem;height: 2.5rem;font-family: sans-serif;\"\r\n            (click)=\"goBack()\"\r\n    >\r\n        Back\r\n    </button>\r\n    <span fxFlex></span>\r\n    <button\r\n        style=\"border-radius: 20px;width: 10rem;height: 2.5rem;background-color: #456EFE; float: right; color: white; font-family: sans-serif;\"\r\n        mat-raised-button type=\"button\" (click)=\"done()\"\r\n    >\r\n        Done\r\n    </button>   \r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-supervisor-approval-stage',\r\n  templateUrl: './supervisor-approval-stage.component.html',\r\n  styleUrls: ['./supervisor-approval-stage.component.scss']\r\n})\r\nexport class SupervisorApprovalStageComponent implements OnInit {\r\n  isApprovalDetails: boolean= false;\r\n  isCardSupervisorApprovalDone:boolean=false;\r\n\r\n  constructor(private router: Router,private dialogService : DialogService,private ls: LocalStoreService,\r\n   ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isApprovalDetails = this.ls.getItem('CARD_APPROVAL_DONE');\r\n    this.isCardSupervisorApprovalDone=this.ls.getItem('CARD_SUPERVISOR_DONE');\r\n    console.log(\"\", this.isApprovalDetails)\r\n  }\r\n\r\n  addDetails(){\r\n    console.log(\"calling\")\r\n    this.router.navigate([\"/cardaccount/SupervisorApprovalStage/list/approvalDetails\"]);\r\n  }\r\n  openApprovalSummary(){\r\n    this.dialogService.CardApprovalSummary();\r\n  }\r\n  openViewApprovalSummary(){\r\n    this.dialogService.CardApprovalViewSummary();\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\" class=\"matcard-size1\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. ­­­­­­­­\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-8\" *ngIf=\"isCardSupervisorApprovalDone\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Entry Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\"(click)=\"openViewApprovalSummary()\">\r\n                    View Summary\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n        <!-- Card 1 start-->\r\n        <mat-card>\r\n            <mat-card-header>\r\n                <mat-card-title>1.Approval Details</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                    <div fxFlex=\"50%\"class=\"txtclr\">\r\n                        <p>\r\n                            Approval Details are captured.</p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/MaskGroup_16.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n                <div class=\"mb-1\" *ngIf=\"isApprovalDetails\">\r\n                    <mat-progress-bar\r\n                      [color]=\"'primary'\"\r\n                      mode=\"determinate\"\r\n                      [value]=\"100\"\r\n                      class=\"rounded\"\r\n                      style=\"height: 6px\">\r\n                    </mat-progress-bar>\r\n                    <p class=\"m-0 text-right\">Completed</p>\r\n                    <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n                  </div>\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container>\r\n                    <button mat-button color=\"primary\" *ngIf=\"!isApprovalDetails\"  (click)=\"addDetails()\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n                <ng-container>\r\n                    <button mat-button color=\"primary\" *ngIf=\"isApprovalDetails\" (click)=\"openApprovalSummary()\">\r\n                        View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n                <!-- <ng-template #showLoan>\r\n                    <button mat-button color=\"primary\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template> -->\r\n\r\n\r\n            </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n\r\n\r\n</div>\r\n\r\n","import { Component, ElementRef, OnInit, QueryList, ViewChildren } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { home } from 'app/shared/models/cardPrefrences';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-card-prefrences',\r\n  templateUrl: './card-prefrences.component.html',\r\n  styleUrls: ['./card-prefrences.component.scss']\r\n})\r\nexport class CardPrefrencesComponent implements OnInit {\r\n  //@ViewChildren(\"selectLang\") langSelects: QueryList<ElementRef<HTMLSelectElement>>;\r\n  \r\n  home=new home();\r\n  cardPrefrenceForm: FormGroup;\r\n  arraylimitType: string[] = [];\r\n  selectedOptions2: string[] = [];\r\n  cardId:number;\r\n  cardDetails: string[]=[];\r\n  isdailylimit:boolean=false;\r\n  isLimitTransaction:boolean=false;\r\n  limiPrTrn: Number;\r\n  limitDaily: number;\r\n  isGreaterValue:boolean=false;\r\n  selectedDocumentTypes2: string[] = [];\r\n  cardPrefrenceOnLoad:any = [];\r\n  isRowEnds:boolean=false;\r\n  islimitType:boolean=false;\r\n  isDLReadOnly: boolean = true;\r\n  isLPTReadOnly:boolean=true;\r\n\r\n  \r\n  constructor(  private fb: FormBuilder, private router: Router, private apiService:ApiService, private snack: MatSnackBar, private ls: LocalStoreService,\r\n    private accountService : AccountService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.arraylimitType=[\"Domestic Limit\",\"International Limit\",\"Daily Limit\",\"ATM limit\",\"POS Limit\",\"Internet Limit\"];\r\n    //this.newArray=this.arraylimitType\r\n    this.buildCardPrefrenceForm();\r\n    let cardPrefrenceScreen: boolean = JSON.parse(this.ls.getItem('card_prefrence_done'));\r\n    if (this.cardId!=null && cardPrefrenceScreen) {\r\n      this.gettingCardPrefrenceDetail();\r\n    }\r\n    else{\r\n      console.log(\"\");\r\n      //this.buildMandateForm();\r\n    }\r\n    \r\n   \r\n  }\r\n  gettingCardPrefrenceDetail() {\r\n    this.apiService.getCardPrefrence(this.cardId).subscribe((cardDetails) => {\r\n      console.log(cardDetails);\r\n      \r\n        this.cardPrefrenceOnLoad = cardDetails;\r\n        if(cardDetails){\r\n          this.isdailylimit=true;\r\n          this.isLimitTransaction=true;\r\n          this.islimitType=true;\r\n        }\r\n        else{\r\n          this.isdailylimit=false;\r\n          this.isLimitTransaction=false;\r\n        }\r\n        for(let i=0; i<=this.cardPrefrenceOnLoad.length-1;i++){\r\n          this.selectedOptions2.push(this.cardPrefrenceOnLoad[i].limitType);\r\n        }\r\n        console.log(\"All Transaction Details\", cardDetails);\r\n        this.buildCardPrefrenceForm(cardDetails, true);\r\n      });\r\n  }\r\n  buildCardPrefrenceForm(data?, isResponse?:boolean) {\r\n    this.cardPrefrenceForm = this.fb.group({\r\n      cardPrefrences: this.fb.array([this.addMFormGroup()])\r\n    });\r\n    if(isResponse){\r\n      this.addMandateToFormGroup(data);\r\n      console.log(data);\r\n      for(let i=0;i<=data.length-1;i++){\r\n        data[i].dailyLimit=this.addComa(data[i].dailyLimit);\r\n        data[i].limitPerTransaction=this.addComa(data[i].limitPerTransaction);\r\n      }\r\n      this.m.patchValue(data);\r\n    }\r\n  }\r\n  addMandateToFormGroup(data?) {\r\n    const numberOfItems = data.length;\r\n    for (let index = 1; index < numberOfItems; index++) {\r\n      this.m.push(this.fb.group({\r\n        limitType: [''],\r\n      dailyLimit: [''],\r\n      limitPerTransaction: [''],\r\n      }));\r\n    }\r\n    this.isdailylimit=true;\r\n  }\r\n  get f() { return this.cardPrefrenceForm.controls; }\r\n  get m() { return this.f.cardPrefrences as FormArray; }\r\n  newcard(){\r\n\r\n  }\r\n  addMFormGroup(): FormGroup {\r\n    \r\n    return this.fb.group({\r\n      limitType: [''],\r\n      dailyLimit: ['',[ Validators.maxLength(18),Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      limitPerTransaction: ['', [ Validators.maxLength(18),Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n    });\r\n    \r\n  }\r\n \r\n  addMandate(){\r\n    this.isdailylimit=false;\r\n    this.islimitType=false;\r\n    this.isLimitTransaction=false;\r\n    this.isLPTReadOnly=true;\r\n    this.isDLReadOnly=true;\r\n console.log(\"this.selectedOptions2\",this.selectedOptions2);\r\nthis.m.push(this.fb.group({\r\n limitType: [''],\r\n dailyLimit: [''],\r\n limitPerTransaction: [''],\r\n}));\r\n  }\r\n  \r\n  addComa(num1){\r\n    console.log(num1)\r\n  \r\n    let finalNum = num1.toString().replace(/,/g, '').split(\".\");\r\n    finalNum[0] = finalNum[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    let final = finalNum.join(\".\");\r\n    return final;\r\n\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n        event.preventDefault();\r\n    }\r\n    this.isdailylimit=true;\r\n    this.isLPTReadOnly=false\r\n   }\r\n   keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n        event.preventDefault();\r\n    }\r\n    this.isLimitTransaction=true;\r\n   }\r\n   OnInput(event: any, flag,k) {\r\n      this.limiPrTrn = event.target.value;\r\n      var dailyNum=this.removeComma(this.cardPrefrenceForm.value.cardPrefrences[k].dailyLimit);\r\n      var LimitTxn=this.removeComma(this.limiPrTrn);\r\n      if(!this.limiPrTrn){\r\n        this.isLimitTransaction=false;\r\n      }else{\r\n        this.isLimitTransaction=true;\r\n      }\r\n    \r\n    if( Number(LimitTxn) > Number(dailyNum)){\r\n      this.isGreaterValue=true;\r\n    }\r\n    else if( Number(LimitTxn) < Number(dailyNum)){\r\n      this.isGreaterValue=false;\r\n    }\r\n    else{\r\n      this.isGreaterValue=false;\r\n    }\r\n    let payload={\r\n      limitPerTransaction:this.addComa(this.limiPrTrn)\r\n    }\r\n    this.m.controls[k].patchValue(payload);\r\n\r\n\r\n  //  this.cardPrefrenceForm.get('limitPerTransaction').setValue(this.addComa( this.limiPrTrn ));\r\n  //console.log( this.addComa( this.limiPrTrn ));\r\n  //this.m.controls[k].value.limitPerTransaction.setValue( this.addComa( this.limiPrTrn ))\r\n\r\n  }\r\n  \r\n  OnInput1(event: any, flag,k) {\r\n      this.limitDaily = event.target.value;\r\n      if(!this.limitDaily){\r\n        this.isdailylimit=false;\r\n      }else{\r\n        this.isdailylimit=true;\r\n      }\r\n      let payload=\r\n      {\r\n        dailyLimit:this.addComa(this.limitDaily)\r\n      }\r\n      this.m.controls[k].patchValue(payload);\r\n  }\r\n  onclick1(k){\r\n    this.islimitType=true;\r\n    this.isLimitTransaction=true;\r\n    this.isdailylimit=true;\r\n    this.isRowEnds=false;\r\n    this.isLPTReadOnly=false;\r\n    this.isDLReadOnly=false;\r\n    const control = <FormArray>this.cardPrefrenceForm.controls['cardPrefrences'];\r\n    control.removeAt(k);\r\n    if(this.cardPrefrenceOnLoad==undefined){\r\n      console.log(\"deleted\")\r\n    }\r\n    else if(this.cardPrefrenceOnLoad[k]!=undefined){\r\n    let id = this.cardPrefrenceOnLoad[k].preferenceId;\r\n    this.apiService.deleteCardPrefrence(id)\r\n    .subscribe(data => { \r\n      \r\n    },\r\n    \r\n      err=>{\r\n        if (err.status == 200) {\r\n          this.snack.open('Record Deleted Successfully', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n        }\r\n\r\n\r\n    }\r\n    )}\r\n\r\n      this.selectedOptions2.splice(k,1);\r\n      console.log(\"console.log(this.selectedOptions2);\",this.selectedOptions2);\r\n      this.isdailylimit=true;\r\n   \r\n  }\r\n\r\n  onSubmit(){\r\n    var data :any;\r\n   var payload:any[]=[];\r\n   this.cardPrefrenceForm.value.cardPrefrences.cardId=this.cardId;\r\n   if(this.cardPrefrenceOnLoad){\r\n    for(let i =this.cardPrefrenceOnLoad.length;i<=this.cardPrefrenceForm.value.cardPrefrences.length-1;i++){\r\n      data=this.cardPrefrenceForm.value.cardPrefrences[i];\r\n      let newTransaction=Object.assign({},data,{cardId: this.cardId});\r\n      newTransaction.dailyLimit=parseInt(this.removeComma(newTransaction.dailyLimit));\r\n      newTransaction.limitPerTransaction=parseInt(this.removeComma(newTransaction.limitPerTransaction));\r\n      payload.push(newTransaction);\r\n      \r\n    }\r\n   }else{\r\n    for(let i =0;i<this.cardPrefrenceForm.value.cardPrefrences.length;i++){\r\n      data=this.cardPrefrenceForm.value.cardPrefrences[i];\r\n      let newTransaction=Object.assign({},data,{cardId: this.cardId});\r\n      newTransaction.dailyLimit=parseInt(this.removeComma(newTransaction.dailyLimit));\r\n      newTransaction.limitPerTransaction=parseInt(this.removeComma(newTransaction.limitPerTransaction));\r\n      payload.push(newTransaction);\r\n      \r\n    }\r\n   }\r\n    \r\n    this.apiService.uploadCardPrefrence(payload).subscribe(data => {\r\n      console.log(\"data\", data);\r\n      if (data != null) {\r\n        this.snack.open('Card Preferences Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        // this.ls.setItem('card_prefrence_done', true);\r\n        // this.accountService.refresh.next();\r\n        this.next();\r\n      }\r\n    });\r\n    \r\n  }\r\n  removeComma(num:any){\r\n    var numb =num.replace(/,/g, \"\");\r\n    console.log(\"numb\",numb)\r\n    return numb;\r\n\r\n  }\r\n  goBack(){\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/financialDetails`]);\r\n  }\r\n  next(){\r\n     this.ls.setItem('card_prefrence_done', true);\r\n      this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/accountServices`]);\r\n  }\r\n  isDocumentOptionDisabled2 = (value) => {\r\n    return this.selectedOptions2.includes(value);\r\n  };\r\n\r\n  changeValue2(event:any, i) {\r\n    this.islimitType=true;\r\n    if (this.selectedDocumentTypes2[i]) {\r\n      this.selectedOptions2 = this.selectedOptions2.filter(\r\n        (val) => val !== this.selectedDocumentTypes2[i]\r\n      );\r\n    }\r\n    \r\n    this.selectedDocumentTypes2[i] = event;\r\n    this.selectedOptions2.push(event);\r\n    if(this.selectedDocumentTypes2.length==this.arraylimitType.length){\r\n      this.isRowEnds=true;\r\n     \r\n      console.log(\"isRowends\",this.isRowEnds);\r\n    }\r\n    else{\r\n      this.isRowEnds=false;\r\n      console.log(\"isRowends\",this.isRowEnds);\r\n    }\r\n    this.isDLReadOnly=false\r\n  }\r\n \r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img\r\n          src=\"assets/images/svg/Mask_Group_1.svg\"\r\n          alt=\"\"\r\n          class=\"w-90\"\r\n        />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Card Preferences</b></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0\">\r\n        <mat-card-title>\r\n          <fieldset class=\"height\">\r\n          <legend visible=\"true\">Card Preferences</legend>\r\n          </fieldset>\r\n        </mat-card-title>\r\n<form [formGroup]=\"cardPrefrenceForm\" >\r\n   <div class=\"table-container\">\r\n   <table class=\"table\">\r\n    <thead>\r\n        <tr>\r\n            <th>Limit Type\r\n               </th>\r\n            <th>Daily Limit</th>\r\n            <th>Limit per transaction</th>\r\n        </tr>\r\n    </thead>\r\n    \r\n    <tbody >\r\n        <tr [formGroup]=\"cardPrefrence\" *ngFor=\"let cardPrefrence of m.controls; let k = index;\">\r\n          <!-- [disabled]=isDocumentOptionDisabled2(limitType)  -->\r\n            \r\n            <td style=\"width: 5cm;\">\r\n              \r\n                \r\n               \r\n           <mat-select class=\"inputMatcard1\" formControlName=\"limitType\" \r\n              placeholder=\"Select Type\" name=\"limitType\"   (valueChange)=\"changeValue2($event, k)\">\r\n   \r\n             <mat-option *ngFor=\"let limitType of arraylimitType\" [value]=\"limitType\" [hidden]=isDocumentOptionDisabled2(limitType) >\r\n              {{limitType}}\r\n             </mat-option>\r\n            </mat-select>\r\n           \r\n                \r\n            </td>\r\n            <td>\r\n                <div>\r\n                    <input type=\"text\" class=\"alignment\" maxlength=\"18\"   formControlName=\"dailyLimit\" (keyup)=\"OnInput1($event,true,k)\"  [readonly]=\"isDLReadOnly\" \r\n                    (keypress)=_keyPress($event) >\r\n\r\n                </div>\r\n            </td>\r\n            <td>\r\n                <div>\r\n\r\n                    <input type=\"text\" class=\"alignment\" maxlength=\"18\"   formControlName=\"limitPerTransaction\" (keyup)=\"OnInput($event,true,k)\" [readonly]=\"isLPTReadOnly\" \r\n                    (keypress)=keyPress($event) >\r\n\r\n                </div>\r\n            </td>\r\n            <td class=\"deletebutton\">\r\n                <div >\r\n                    <!-- <button mat-icon-button mat-sm-button color=\"warn\" (click)=\"onclick(mandate,k)\"> -->\r\n                      <button mat-icon-button mat-sm-button color=\"warn\" (click)=\"onclick1(k)\">\r\n                        <mat-icon>delete</mat-icon>\r\n                      </button>\r\n                </div>\r\n            </td>\r\n           \r\n        \r\n\r\n        </tr>\r\n        \r\n    </tbody>\r\n\r\n\r\n\r\n\r\n</table>\r\n<div\r\nfxLayout=\"row\"\r\n\r\nfxLayoutGap=\"335px\"\r\n>\r\n  <button mat-button color=\"primary\"  [disabled]=\"!(isdailylimit && isLimitTransaction && islimitType && !isRowEnds) || isGreaterValue   \"  (click)=\"addMandate()\" ><mat-icon>add</mat-icon> </button>\r\n  <mat-error *ngIf=\"isGreaterValue\">\r\n    <small >Limit per transaction should be less </small><br>\r\n    <small>than daily limit</small>\r\n  </mat-error>\r\n</div>\r\n \r\n\r\n\r\n\r\n<!-- <div style=\"margin-left: 20cm;\">\r\n    \r\n    <button mat-raised-button type=\"button\" color=\"primary\"\r\n    [disabled]=\"!(isdailylimit && isLimitTransaction)\"  (click)=\"onSubmit()\" >Next </button>\r\n</div> -->\r\n\r\n<div\r\nfxLayout=\"row\"\r\nfxLayoutAlign=\"space-between center\"\r\nfxLayoutGap=\"16px\"\r\nclass=\"mt-32\"\r\n>\r\n<button mat-button rounded  (click)=\"goBack()\" >\r\n  Back\r\n</button>\r\n<button class=\"Nextbtn\" mat-raised-button type=\"button\" color=\"primary\"\r\n    [disabled]=\"!(isdailylimit && isLimitTransaction && islimitType) || isGreaterValue || m.controls.length==0\"  (click)=\"onSubmit()\" >Next </button>\r\n\r\n</div>  \r\n\r\n</div>\r\n</form>\r\n        \r\n        \r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormArray, FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\nimport { number } from 'ngx-custom-validators/src/app/number/validator';\r\n\r\n@Component({\r\n  selector: 'app-underwriting-credit-rating',\r\n  templateUrl: './underwriting-credit-rating.component.html',\r\n  styleUrls: ['./underwriting-credit-rating.component.scss'],\r\n})\r\nexport class UnderwritingCreditRatingComponent implements OnInit {\r\n  creditDetailsForm: FormGroup;\r\n  customerNames: any[] = [];\r\n  cardId: any;\r\n  isCardCreditRatingDetails: any;\r\n  customerName: any;\r\n  disableTest: boolean;\r\n  disableUjjivan: boolean;\r\n  disableFastTrack: boolean;\r\n  disableAddAgency: boolean;\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private ls: LocalStoreService,\r\n    private appApiService: ApplicationEntryStageService,\r\n    private snack: MatSnackBar,\r\n    private api: ApiService,\r\n    private accountService: AccountService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem('cardId');\r\n\r\n    this.customerName = this.ls.getItem('primaryCustomerName');\r\n    this.isCardCreditRatingDetails = this.ls.getItem('CARD_CREDIT_RATING_DONE');\r\n    this.getCustomerInformationDetails();\r\n    this.buildCreditForm();\r\n\r\n    if (this.isCardCreditRatingDetails == false) {\r\n      this.buildCreditForm();\r\n    } else {\r\n      this.gettingCreditRatingDetail();\r\n    }\r\n  }\r\n\r\n  get f() {\r\n    return this.creditDetailsForm.controls;\r\n  }\r\n  get c() {\r\n    return this.f.agencyRating as FormArray;\r\n  }\r\n\r\n  buildCreditForm(data?, isResponse?: boolean) {\r\n    console.log(data);\r\n\r\n    this.creditDetailsForm = this.formBuilder.group({\r\n      //   customerName:[data && data.customerName? data.customerName:'',Validators.required],\r\n      // loanAccountId:this.loanaccountID,\r\n      cardId: this.cardId,\r\n      //cardId:data?data.cardId:'952',\r\n      // customerName:data? data.customerName:'',\r\n      customerName: data ? data.customerName : this.customerNames[0],\r\n      // customerName:data?data.customerName:this.customerName,\r\n      agencyRating: this.formBuilder.array([this.addModFormGroup(data)]),\r\n    });\r\n\r\n    console.log(this.creditDetailsForm);\r\n  }\r\n  addFormGroup() {\r\n    this.c.push(\r\n      this.formBuilder.group({\r\n        agencyId: [0],\r\n        agencyName: ['', Validators.required],\r\n        ratings: ['', Validators.required],\r\n        // remarks: ['',Validators.required],\r\n        // agencyName: [''],\r\n        // ratings: [''],\r\n        // remarks: [''],\r\n      })\r\n    );\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cardaccount/applicationEnrichment/list']);\r\n  }\r\n\r\n  addModFormGroup(data): FormGroup {\r\n    console.log(data, 'inside addModeFormGrp');\r\n    return this.formBuilder.group({\r\n      // cardId:[data?data.cardId:'952'],\r\n      cardId: [this.cardId],\r\n      agencyId: [data ? data.agencyId : 0],\r\n      agencyName: [\r\n        data ? data.agencyRating[0].agencyName : '',\r\n        Validators.required,\r\n      ],\r\n      ratings: [data ? data.agencyRating[0].ratings : '',Validators.compose(\r\n        [Validators.required,Validators.max(5)])],\r\n      remarks: [data ? data.agencyRating[0].remarks : ''],\r\n      // agencyName: [data?data.agencyRating[0].agencyName : ''],\r\n      // ratings: [data?data.agencyRating[0].ratings : ''],\r\n      // remarks: [data?data.agencyRating[0].remarks : ''],\r\n    });\r\n  }\r\n\r\n  getCustomerInformationDetails() {\r\n    this.appApiService\r\n      .fetchCustomersByCardAccId(this.cardId, 'cardOrigin')\r\n      .subscribe(\r\n        (resp: any) => {\r\n          console.log('resp for customer information names ', resp.data);\r\n          for (let index = 0; index < resp.data.length; index++) {\r\n            if (resp.data[index].middleName == null) {\r\n              this.customerNames[index] =\r\n                resp.data[index].firstName + ' ' + resp.data[index].lastName;\r\n            } else {\r\n              this.customerNames[index] =\r\n                resp.data[index].firstName +\r\n                ' ' +\r\n                resp.data[index].middleName +\r\n                ' ' +\r\n                resp.data[index].lastName;\r\n            }\r\n          }\r\n          console.log('customer name ', this.customerNames);\r\n          if (this.customerNames) {\r\n            console.log('If condtion');\r\n            this.creditDetailsForm\r\n              .get('customerName')\r\n              .setValue(this.customerNames[0]);\r\n          }\r\n        },\r\n        (err: any) => {}\r\n      );\r\n  }\r\n  gettingCreditRatingDetail() {\r\n    this.api.getCardCreditRatingDetails(this.cardId).subscribe((resp: any) => {\r\n      console.log(resp);\r\n      this.buildCreditForm(resp, true);\r\n    });\r\n  }\r\n  removeAgency(i:number) {\r\n    console.log(i);\r\n    \r\n  }\r\n\r\n  OnSubmit(val) {\r\n    console.log('val', val);\r\n    val.accountType = 'cardOrigin';\r\n    this.api.saveCreditDetails(val).subscribe(\r\n      (data: any) => {\r\n        console.log(data);\r\n        if (data === 200 || data !== null) {\r\n          this.snack.open(' Credit Details Saved!', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right',\r\n          });\r\n          this.ls.setItem('CARD_CREDIT_RATING_DONE', true);\r\n          this.accountService.refresh.next();\r\n          this.router.navigate([`/cardaccount/underwritingStage/qualitative`]);\r\n        } else if (data === 500) {\r\n          this.snack.open(\r\n            'Not able to connect to server!',\r\n            'INTERNAL SERVER ERROR',\r\n            {\r\n              duration: 4000,\r\n              verticalPosition: 'top',\r\n              horizontalPosition: 'right',\r\n            }\r\n          );\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    );\r\n    this.router.navigate([`/cardaccount/underwritingStage/qualitative/`]);\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  onClick() {\r\n   for(let i=0; i<3; i++) {     \r\n     if(this.creditDetailsForm.value.agencyRating[i].agencyName==\"Test Agency\") {\r\n       this.disableTest=true;\r\n       this.disableUjjivan=false;\r\n       this.disableFastTrack=false;\r\n      }    \r\n     if(this.creditDetailsForm.value.agencyRating[i].agencyName==\"Ujjivan Agency\") {\r\n       this.disableUjjivan=true;\r\n       this.disableFastTrack=false;\r\n       this.disableTest=false;\r\n      }    \r\n     if(this.creditDetailsForm.value.agencyRating[i].agencyName==\"Fast Track Agency\") {\r\n       this.disableFastTrack=true;\r\n       this.disableUjjivan=false;\r\n       this.disableTest=false;\r\n\r\n\r\n      }\r\n    }\r\n    if(this.creditDetailsForm.value.agencyRating.length==3) {\r\n      this.disableAddAgency=true;\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/Mask_Group_9.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8 \">\r\n      <div class=\"main-title1\"><b>Credit Score Details</b></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <!-- <mat-progress-bar [mode]=\"determinate\" class=\"session-progress\"></mat-progress-bar> -->\r\n    <mat-card class=\"p-0\">\r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Credit Score Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form *ngIf=\"creditDetailsForm\" [formGroup]=\"creditDetailsForm\">\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div class=\"flex-grow-2\" style=\"padding-left: 10px;\">\r\n              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n              <!-- <mat-hint>Customer Name*</mat-hint> -->\r\n              <mat-label>Customer Name*</mat-label>\r\n              <!-- <mat-card class=\"widthCard inputMatcard\"> -->\r\n                <div *ngIf=\"customerNames.length > 1\">\r\n                  <mat-select\r\n                    name=\"customerName\"\r\n                    formControlName=\"customerName\"\r\n                  >\r\n                    <mat-option\r\n                      *ngFor=\"let customerName of customerNames\"\r\n                      [value]=\"customerName\"\r\n                    >\r\n                      {{ customerName }}\r\n                    </mat-option>\r\n                    <!-- <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option value=\"GayathriR\">GayathriR</mat-option>  -->\r\n                  </mat-select>\r\n                </div>\r\n\r\n                <div *ngIf=\"customerNames.length == 1\">\r\n                  <input\r\n                    matInput\r\n                    formControlName=\"customerName\"\r\n                    class=\"alignment\"\r\n                    type=\"text\"\r\n                    readonly\r\n                  />\r\n                </div>\r\n              <!-- </mat-card> -->\r\n              <mat-error\r\n                *ngIf=\"\r\n                  !creditDetailsForm.get('customerName').valid &&\r\n                  creditDetailsForm.get('customerName').touched\r\n                \"\r\n              >\r\n                Customer Name is Required!\r\n              </mat-error>\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mt-16\" *ngFor=\"let mandate of c.controls; let i = index\">\r\n            <mat-accordion [formGroup]=\"mandate\">\r\n              <mat-card class=\"border1\">\r\n                <h3>Score </h3>\r\n                <mat-divider class=\"design\"></mat-divider><br>\r\n                <div [formGroup]=\"mandate\">\r\n                  <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                    <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                      <div class=\"flex-grow-2\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <!-- <mat-hint>Select Agency*</mat-hint> -->\r\n                        <mat-label>Select Agency*</mat-label>\r\n                        <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                          <mat-select\r\n                            name=\"agencyName\"\r\n                            formControlName=\"agencyName\">\r\n                            <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                            <mat-option (click)=\"onClick()\" [disabled]=disableTest \r\n                                value=\"Test Agency\">Test Agency</mat-option>\r\n                            <mat-option (click)=\"onClick()\" [disabled]=disableUjjivan \r\n                                value=\"Ujjivan Agency\">Ujjivan Agency</mat-option>\r\n                            <mat-option (click)=\"onClick()\" [disabled]=disableFastTrack \r\n                                value=\"Fast Track Agency\">Fast Track Agency</mat-option>\r\n                          </mat-select>\r\n                        <!-- </mat-card> -->\r\n                        <mat-error\r\n                          *ngIf=\"\r\n                            !mandate.controls['agencyName'].valid &&\r\n                            mandate.controls['agencyName'].touched\r\n                          \"\r\n                        >\r\n                          Agency is Required!\r\n                        </mat-error>\r\n                        </mat-form-field>\r\n                      </div>\r\n                      <div class=\"flex-grow-1\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <mat-label> Remarks</mat-label>\r\n                        <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <input\r\n                            matInput\r\n                            placeholder=\"Remarks\"\r\n                            formControlName=\"remarks\"\r\n                            class=\"alignment\"\r\n                            type=\"text\"\r\n                            name=\"remarks\"\r\n                          />\r\n                        <!-- </mat-card> -->\r\n                        <!-- <mat-error\r\n                          *ngIf=\"\r\n                            !mandate.controls['remarks'].valid &&\r\n                            mandate.controls['remarks'].touched\r\n                          \"\r\n                        >\r\n                          Remarks is Required!\r\n                        </mat-error> -->\r\n                        </mat-form-field>\r\n                      </div>\r\n                    </div>\r\n                    <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                      <div class=\"flex-grow-1\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <!-- <mat-hint>Ratings*</mat-hint> -->\r\n                        <mat-label>Ratings*</mat-label>\r\n                        <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <input\r\n                            matInput\r\n                            formControlName=\"ratings\"\r\n                            class=\"alignment\"\r\n                            (keypress)=\"_keyPress($event)\"\r\n                            type=\"text\"\r\n                            name=\"ratings\"\r\n                          />\r\n                        <!-- </mat-card> -->\r\n                        <mat-error\r\n                          *ngIf=\"\r\n                            mandate.controls['ratings'].value == 0 &&\r\n                            mandate.controls['ratings'].touched\r\n                          \"\r\n                        >\r\n                       \r\n                          Ratings is Required!\r\n                        </mat-error>\r\n                        <mat-error\r\n                          *ngIf=\"\r\n                            mandate.controls['ratings'].value>5\r\n                          \"\r\n                        >\r\n                          maximum rating is 5\r\n                        </mat-error>\r\n                        </mat-form-field>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                </div>\r\n              </mat-card>\r\n            </mat-accordion>\r\n          </div>\r\n          <button mat-button color=\"primary\" [disabled]=disableAddAgency (click)=\"addFormGroup()\">\r\n            <mat-icon>add</mat-icon> ADD AGENCY\r\n          </button>\r\n          <button mat-button class=\"dltbtn\"  (click)=\"removeAgency()\">\r\n            DELETE\r\n          </button>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutAlign=\"space-between center\"\r\n            fxLayoutGap=\"16px\"\r\n            class=\"mt-32\"\r\n          >\r\n            <button mat-button rounded  (click)=\"goBack()\">\r\n              Back\r\n            </button>\r\n            <button class=\"Nextbtn\" mat-raised-button color=\"primary\" [disabled]=\"!creditDetailsForm.valid\" (click)=\"OnSubmit(creditDetailsForm.value)\">\r\n              Next\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n</div>","import { Component, Input, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n\r\n@Component({\r\n  selector: \"app-enrichment-summary\",\r\n  templateUrl: \"./enrichment-summary.component.html\",\r\n  styleUrls: [\"./enrichment-summary.component.scss\"],\r\n})\r\nexport class EnrichmentSummaryComponent implements OnInit {\r\n  appEntrySummaryView: boolean = false;\r\n  accountDetails: any;\r\n  interestForm: FormGroup;\r\n  chargeFormIT: FormGroup;\r\n  savingForm: FormGroup;\r\n  loanForm: FormGroup;\r\n  interestForm1: FormGroup;\r\n  accountId: any;\r\n  //for loan interest details\r\n  loanInterestResp: {\r\n    intrestType: string;\r\n    interestRateApplicable: string;\r\n    marginIn: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  intererstInfo: {\r\n    intrestType: string;\r\n    interestRateApplicable: string;\r\n    margin: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  accountType: String = \"Home Loan\";\r\n  cardId:any;\r\n  chargeInfo: any;\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private ls: LocalStoreService,\r\n    private snack: MatSnackBar,\r\n    private api: ApiService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    // this.api.getApprovedStatus().subscribe((resp)=>{\r\n    //   console.log(\"message\",resp);\r\n    //   this.isApprovedSreen=resp;\r\n\r\n    // })\r\n    // this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    this.getCardEnrichmentDetails(this.cardId);\r\n    this.interestForm = this.formBuilder.group({\r\n      interest: new FormArray([]),\r\n    });\r\n    this.savingForm = this.formBuilder.group({\r\n      saving: new FormArray([]),\r\n    });\r\n    this.chargeFormIT = this.formBuilder.group({\r\n      chargeIT: new FormArray([]),\r\n    });\r\n    this.loanForm = this.formBuilder.group({\r\n      loan: new FormArray([]),\r\n    });\r\n    \r\n   \r\n\r\n    //for Charge Details\r\n    this.api\r\n      .getFlexcubeDetails(\"chargeDetails\", this.accountType)\r\n      .subscribe((response) => {\r\n        this.onCardCharge(response.length);\r\n        this.in2.patchValue(response);\r\n      });\r\n  }\r\n\r\n  getCardEnrichmentDetails(cardId:any){\r\n    this.api.getCardEnrichmentSummmary(cardId)\r\n      .subscribe((summaryInfo: any) => {\r\n       console.log(summaryInfo);\r\n       this.intererstInfo=summaryInfo.intererstInfo;\r\n       console.log(this.intererstInfo);\r\n       this.onCardintrest(this.intererstInfo.length);\r\n       this.in.patchValue(this.intererstInfo);\r\n       \r\n       this.chargeInfo = summaryInfo.chargeInfo;\r\n       this.onCardCharge(this.chargeInfo.length);\r\n       this.in2.patchValue(this.chargeInfo);\r\n      });\r\n  }\r\n\r\n  onCardintrest(e) {\r\n    // this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            intrestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            //accountId: [this.accountId],\r\n            cardId: [this.cardId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  onCardCharge(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in2.length < numberOfItems) {\r\n      for (let i = this.in2.length; i < numberOfItems; i++) {\r\n        this.in2.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            amount: [\"\"],\r\n            waiver: [true],\r\n            cardId: [this.cardId],\r\n            chargeDetailsId: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in2.length; i >= numberOfItems; i--) {\r\n        this.in2.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f2() {\r\n    return this.chargeFormIT.controls;\r\n  }\r\n  get in2() {\r\n    return this.f2.chargeIT as FormArray;\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.interest as FormArray;\r\n  }\r\n\r\n  get iloan() {\r\n    return this.floan.loan as FormArray;\r\n  }\r\n\r\n  get floan() {\r\n    return this.loanForm.controls;\r\n  }\r\n\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"chargeInfo detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n\r\n  checkbox(event) {\r\n    console.log(event.checked);\r\n  }\r\n\r\n  assignAccountType(accountType) {\r\n    this.accountType = accountType;\r\n  }\r\n\r\n  Done() {\r\n    this.router.navigate([`/cardaccount/underwritingStage/list`]);\r\n  }\r\n  Back() {\r\n    this.router.navigate([`/cardaccount/applicationEnrichment/list`]);\r\n  }\r\n}\r\n","<div class=\"propic text-center\">\r\n    <img class=\"entryImg\" src=\"assets/images/svg/undraw_statistic_chart_38b6.svg\" alt=\"\" />\r\n</div>\r\n<div class=\"profile-title text-center mt-8\">\r\n    <div class=\"main-title\"><b>Application Enrichment</b></div>\r\n</div>\r\n\r\n<!--Interest Details Summary-->\r\n<div class=\"spanDiv1\">\r\n    \r\n    <h4 class=\"paraFont\">Interest Details</h4>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"main\">\r\n\r\n    <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n        <div class=\"mt-24\"></div>\r\n        <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\">\r\n           \r\n            <table>\r\n\r\n                <tbody>\r\n                    <tr class=\"mt-4\" *ngFor=\"let interest of in.controls; let i = index\"\r\n                        style=\"display: flex;flex-wrap: wrap;\">\r\n                        <div class=\"row\">\r\n                            <ng-container [formGroup]=\"interest\">\r\n                                <div class=\"heading\">\r\n                                    <input matInput formControlName=\"intrestType\" name=\"account_branch\"\r\n                                        id=\"headingInput\" readonly />\r\n                                </div>\r\n                                <td>\r\n                                    <mat-card class=\"matCardBox\">\r\n                                        <mat-label class=\"label\">Interest Rate Applicable</mat-label>\r\n                                        <input matInput formControlName=\"intrestRateApplicable\" name=\"account_branch\"\r\n                                            class=\"input\" readonly />\r\n                                    </mat-card>\r\n                                </td>\r\n                                <td>\r\n                                    <mat-card class=\"matCardBox\">\r\n                                        <mat-label class=\"label\">Margin in %</mat-label>\r\n                                        <input matInput formControlName=\"marginIn\" name=\"account_branch\" class=\"input\"\r\n                                            readonly />\r\n\r\n                                    </mat-card>\r\n                                </td>\r\n                                <td>\r\n                                    <mat-card class=\"matCardBox\">\r\n                                        <mat-label class=\"label\">Effective Rate %</mat-label>\r\n                                        <input matInput formControlName=\"effectiveRate\" name=\"account_branch\" value=\"\"\r\n                                            class=\"input\" readonly />\r\n                                    </mat-card>\r\n                                </td>\r\n                            </ng-container>\r\n                        </div>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n\r\n\r\n        <br>\r\n\r\n        <!--Charge Details Summary-->\r\n        <div>\r\n            <h4 class=\"paraFont\">Card Account Charge Details</h4>\r\n        </div>\r\n        <mat-card class=\"matCard\">\r\n\r\n            <div fxLayout=\"row wrap\" class=\"main\">\r\n                <div fxFlex=\"100\">\r\n                </div>\r\n                <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n                    <div class=\"mt-24\"></div>\r\n                    <form *ngIf=\"chargeFormIT\" [formGroup]=\"chargeFormIT\">\r\n                        <table class=\"cart-table default-bg mat-elevation-z0\">\r\n                            <tbody>\r\n                                <tr class=\"mt-4\" *ngFor=\"let chargeIT of in2.controls; let i = index\"\r\n                                    class=\"chargeTable\">\r\n                                    <div class=\"row\" class=\"chargeLeft\">\r\n                                        <ng-container [formGroup]=\"chargeIT\">\r\n                                            <div class=\"heading\">\r\n                                                <input matInput formControlName=\"intrestType\" name=\"account_branch\"\r\n                                                    id=\"headingInput\" readonly />\r\n                                            </div>\r\n                                            <td>\r\n                                                <mat-card class=\"matCardBox\">\r\n                                                    <mat-label class=\"label\">Amount</mat-label>\r\n                                                    <input matInput formControlName=\"amount\" name=\"account_branch\"\r\n                                                        class=\"input\" readonly />\r\n                                                </mat-card>\r\n                                            </td>\r\n                                            <td>\r\n                                                <mat-card class=\"matCardBox\">\r\n                                                    <mat-label class=\"label\">waiver</mat-label>\r\n                                                    <input matInput formControlName=\"waiver\" name=\"account_branch\"\r\n                                                    class=\"input\" readonly />\r\n                                                </mat-card>\r\n                                            </td>\r\n                                        </ng-container>\r\n                                    </div>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </mat-card>\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n<div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n    <button mat-button rounded color=\"primary\" (click)=\"Back()\">\r\n        Back\r\n    </button>\r\n    <button mat-raised-button class=\"Next\" color=\"primary\" (click)=\"Done()\">\r\n        Done\r\n    </button>\r\n</div>","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { Observable, of, Subscription } from 'rxjs';\r\n// import { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n@Component({\r\n  selector: 'app-card-account',\r\n  templateUrl: './card-account.component.html',\r\n  styleUrls: ['./card-account.component.scss']\r\n})\r\nexport class CardAccountComponent implements OnInit {\r\n  public accountItems: any[];\r\n  private accountItemsSub: Subscription;\r\n  isCardApplicationStageDone : boolean = false;\r\n  isCardInitiationDone : boolean = false;\r\n  isCardCustomerInformationScreen: boolean = false;\r\n  isCardFinancialDetailsScreen : boolean = false;\r\n  //isCardPreferencesScreen : boolean = true;\r\n  isCardPrefrenceDone:boolean = false;\r\n  // isAccountServices : boolean = true;\r\n  isCardAccountService:boolean=false;\r\n  isAddOnCardHolderDetails : boolean = true;\r\n\r\n  isDocumentUploadDone : boolean = false;\r\n  isDocumentUpload : boolean = false;\r\n\r\n  isCardApplicationEnrichmentDone:boolean=false\r\n // isEnrichmentDone : boolean = true;\r\n isCardInterestDetails : boolean = false;\r\n isCardChargeDetails : boolean = false;\r\n\r\n  isApplicationUnderWritingStageDone : boolean = true;\r\n // isCardCreditRatingDetails : boolean = true;\r\n  isQualitativeScoreboard : boolean = true;\r\n  isCardCreditRatingDetails: boolean = false;\r\n  isCardQualitativeScoreboard: boolean=false;\r\n\r\n  isCardAssessmentStageDone : boolean = false;\r\n  isAssessmentReport : boolean = false;\r\n\r\n\r\n  isCardSupervisorApprovalDone : boolean = true;\r\n  isApprovedDetails : boolean = true;\r\n\r\n  isCardDigitalSigningDone : boolean = true;\r\n  isCardDigitalSigning : boolean = true;\r\n  cardId: any;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  constructor(\r\n    private ls: LocalStoreService,private api: ApiService, private router: Router,private cdr:ChangeDetectorRef ,private accountService:AccountService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.accountItemsSub = this.accountService.accountItems$.subscribe(menuItem => {\r\n      this.accountItems = menuItem;\r\n    });\r\n    console.log(\"reset\")\r\n    this.cardId = this.ls.getItem('cardId');\r\n    this.isCardApplicationStageDone=this.ls.getItem('CARD_APPLICATION_ENTRY_DONE');\r\n    this.isCardInitiationDone=this.ls.getItem('CARD_INITIATION_DONE');\r\n    this.isCardCustomerInformationScreen=this.ls.getItem('Card_Customer_Done');\r\n    this.isCardFinancialDetailsScreen = this.ls.getItem('CARD_FINANCIAL_DONE');\r\n    // this.isCardPreferencesScreen = this.ls.getItem('CARD_PREFERENCE_DONE');\r\n    this.isCardPrefrenceDone=this.ls.getItem('card_prefrence_done');\r\n    // this.isAccountServices = this.ls.getItem('CARD_ACCOUNT_SERVICES_DONE');\r\n    this.isCardAccountService=this.ls.getItem('CARD_ACC_SERVICE_DONE');\r\n\r\n    this.isDocumentUploadDone = this.ls.getItem('CARD_DOCUMENT_STAGE_DONE');\r\n    this.isDocumentUpload=this.ls.getItem('CARD_DOCUMENT_DONE');\r\n\r\n\r\n    this.isCardApplicationEnrichmentDone=this.ls.getItem('CARD_ENRICHMENT_DONE');\r\n    console.log('isCardApplicationEnrichmentDone', this.isCardApplicationEnrichmentDone);\r\n    \r\n   // this.isEnrichmentDone= this.ls.getItem('LOAN_ENRICHMENT_DONE');\r\n    this.isCardInterestDetails=this.ls.getItem('CARD_INTEREST_DETAILS_DONE');\r\n    this.isCardChargeDetails=this.ls.getItem('CARD_CHARGE_DETAILS_DONE');\r\n    \r\n    this.isApplicationUnderWritingStageDone= this.ls.getItem('CARD_UNDERWRITING_DONE');\r\n    this.isCardCreditRatingDetails = this.ls.getItem('CARD_CREDIT_RATING_DONE');\r\n    this.isCardQualitativeScoreboard=this.ls.getItem('CARD_QUALITATIVE_SCOREBOARD_DONE');\r\n\r\n    this.isCardAssessmentStageDone=this.ls.getItem('CARD_ASSESSMENT_STAGE_DONE');\r\n    this.isAssessmentReport=this.ls.getItem('CARD_ASSESSMENT_DONE');\r\n\r\n    this.isCardSupervisorApprovalDone=this.ls.getItem('CARD_SUPERVISOR_DONE');\r\n    this.isApprovedDetails=this.ls.getItem('CARD_APPROVAL_DONE');\r\n\r\n    this.isCardDigitalSigningDone=this.ls.getItem('CARD_DIGITAL_STAGE_DONE');\r\n    this.isCardDigitalSigning=this.ls.getItem('CARD_DIGITAL_SIGN_DONE');\r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n     \r\n    this.cardId = this.ls.getItem('cardId');\r\n\r\n    this.isCardApplicationStageDone=this.ls.getItem('CARD_APPLICATION_ENTRY_DONE');\r\n    this.isCardInitiationDone=this.ls.getItem('CARD_INITIATION_DONE');\r\n    this.isCardCustomerInformationScreen=this.ls.getItem('Card_Customer_Done');\r\n    this.isCardFinancialDetailsScreen = this.ls.getItem('CARD_FINANCIAL_DONE');\r\n    // this.isCardPreferencesScreen = this.ls.getItem('CARD_PREFERENCE_DONE');\r\n    this.isCardPrefrenceDone=this.ls.getItem('card_prefrence_done');\r\n    this.isCardAccountService=this.ls.getItem('CARD_ACC_SERVICE_DONE')\r\n    // this.isAccountServices = this.ls.getItem('CARD_ACCOUNT_SERVICES_DONE');\r\n\r\n    \r\n    this.isDocumentUploadDone = this.ls.getItem('CARD_DOCUMENT_STAGE_DONE');\r\n    this.isDocumentUpload=this.ls.getItem('CARD_DOCUMENT_DONE');\r\n    \r\n   // this.isEnrichmentDone= this.ls.getItem('LOAN_ENRICHMENT_DONE');\r\n   this.isCardApplicationEnrichmentDone=this.ls.getItem('CARD_ENRICHMENT_DONE');\r\n    this.isCardInterestDetails=this.ls.getItem('CARD_INTEREST_DETAILS_DONE');\r\n    this.isCardChargeDetails=this.ls.getItem('CARD_CHARGE_DETAILS_DONE');\r\n    \r\n    this.isApplicationUnderWritingStageDone= this.ls.getItem('CARD_UNDERWRITING_DONE');\r\n    this.isCardCreditRatingDetails = this.ls.getItem('CARD_CREDIT_RATING_DONE');\r\n    this.isCardQualitativeScoreboard=this.ls.getItem('CARD_QUALITATIVE_SCOREBOARD_DONE');\r\n\r\n    this.isCardAssessmentStageDone=this.ls.getItem('CARD_ASSESSMENT_STAGE_DONE');\r\n    this.isAssessmentReport=this.ls.getItem('CARD_ASSESSMENT_DONE');\r\n\r\n    this.isCardSupervisorApprovalDone=this.ls.getItem('CARD_SUPERVISOR_DONE');\r\n    this.isApprovedDetails=this.ls.getItem('CARD_APPROVAL_DONE');\r\n\r\n    this.isCardDigitalSigningDone=this.ls.getItem('CARD_DIGITAL_STAGE_DONE');\r\n    this.isCardDigitalSigning=this.ls.getItem('CARD_DIGITAL_SIGN_DONE');\r\n \r\n     })\r\n  }\r\n  ngOnDestroy() {\r\n    if (this.accountItemsSub) {\r\n      this.accountItemsSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div class=\"m-333\">\r\n    <mat-sidenav-container class=\"topSection\" style=\"background-color: white !important;\">\r\n        <mat-sidenav EgretSideNavToggle class=\"app-sidebar\" style=\"width: 300px;\">\r\n      <span class=\"sidenav-header\">Home > Create Card Account</span>\r\n            <!-- <div class=\"app-filters-wrap\"> -->\r\n            <div class=\"sidenav-hold\">\r\n                <ul appDropdown class=\"sidenav mt-32\">\r\n\r\n                    <!-- Application satge start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isCardApplicationStageDone ? 'active' : 'notActive'\">\r\n                                <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isCardApplicationStageDone ? 'active' : 'notActive'\">\r\n                                    account_balance_wallet\r\n                                </mat-icon>\r\n                                <span class=\"item-name lvl1\">Application Entry Stage</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list']\"\r\n                                    [ngClass]=\"isCardApplicationStageDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list/cardInitiation']\"\r\n                                    [ngClass]=\"isCardInitiationDone ? 'enable' : 'disable'\">\r\n\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Card Initiation</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  \r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list/customerInformation']\"\r\n                                    [ngClass]=\"isCardCustomerInformationScreen ? 'enable' : 'disable'\">\r\n\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Customer Information\r\n                                            Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n             \r\n                                <!--*ngIf=\"isHomeLoan; else hideNav\"-->\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a \r\n                                    class=\"side-menu\"\r\n                                    [ngClass]=\"isCardFinancialDetailsScreen ? 'enable' : 'disable'\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list/financialDetails']\"\r\n                                    >\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Financial Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  \r\n                                    class=\"side-menu\"\r\n                                    [ngClass]=\"isCardPrefrenceDone ? 'enable' : 'disable'\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list/cardPrefrence']\"\r\n                                    >\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Card Preferences</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  \r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list/accountServices']\"\r\n                                    [ngClass]=\"isCardAccountService ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Account Services</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <!-- <li routerLinkActive=\"open\">\r\n                                    <a \r\n                                        style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                                        [ngClass]=\"isAddOnCardHolderDetails ? 'enable' : 'disable'\">\r\n                                         <a \r\n                                        style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                                       > -->\r\n                                      <!--  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Add on Card Holder\r\n                                            Details</span>\r\n                                        <span fxFlex></span> -->\r\n                                 <!--   </a> \r\n                                </li> -->\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Application satge end -->\r\n\r\n                    <!-- Document Upload start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isDocumentUploadDone ? 'active' : 'notActive'\"\r\n                            [routerLink]=\"['/cardaccount/documentupload/list']\">\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isDocumentUploadDone ? 'active' : 'notActive'\">file_upload</mat-icon>\r\n                                <span class=\"item-name lvl1\">Document Upload</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/documentupload/list']\"\r\n                                    [ngClass]=\"isCardApplicationStageDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  [ngClass]=\"isDocumentUpload? 'enable' : 'disable'\"\r\n                                    [routerLink]=\"['/cardaccount/documentupload/list/document-details']\"\r\n                                    class=\"side-menu\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Document Upload</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Document Upload end -->\r\n\r\n                    <!-- Enrichment satge start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isCardApplicationEnrichmentDone ? 'active' : 'notActive'\"\r\n                            [routerLink]=\"['/cardaccount/applicationEnrichment/list']\">\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isCardApplicationEnrichmentDone ? 'active' : 'notActive'\">border_color</mat-icon>\r\n                                <span class=\"item-name lvl1\">Application Enrichment</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a class=\"side-menu\"\r\n                                       [routerLink]=\"['/cardaccount/applicationEnrichment/list']\"\r\n                                       [ngClass]=\"isCardApplicationEnrichmentDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                \r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                        [routerLink]=\"['/cardaccount/applicationEnrichment/intrest-details']\"\r\n                                        [ngClass]=\"isCardInterestDetails ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Interest\r\n                                            Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                        [routerLink]=\"['/cardaccount/applicationEnrichment/charge-details']\"\r\n                                        [ngClass]=\"isCardChargeDetails ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Charge Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Enrichment satge end -->\r\n\r\n                    <!-- Underwriting start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle\r\n                                [ngClass]=\"isApplicationUnderWritingStageDone ? 'active' : 'notActive'\"\r\n                                [routerLink]=\"['/cardaccount/underwritingStage/list']\">\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isApplicationUnderWritingStageDone ? 'active' : 'notActive'\">border_color\r\n                                </mat-icon>\r\n                                <span class=\"item-name lvl1\">Application Underwriting</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/underwritingStage/list']\"\r\n                                    [ngClass]=\"isCardApplicationStageDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                        [ngClass]=\"isCardCreditRatingDetails ? 'enable' : 'disable'\"\r\n                                        [routerLink]=\"['/cardaccount/underwritingStage/credit-rating']\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Credit Score\r\n                                            Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                        [ngClass]=\"isCardQualitativeScoreboard ? 'enable' : 'disable'\"\r\n                                        [routerLink]=\"['/cardaccount/underwritingStage/qualitative']\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Qualitative\r\n                                            Scoreboard</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Underwriting end -->\r\n\r\n                    <!-- assesment start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isCardAssessmentStageDone ? 'active' : 'notActive'\"\r\n                                [routerLink]=\"['/cardaccount/assessmentStage/list']\"\r\n                               >\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isCardAssessmentStageDone ? 'active' : 'notActive'\">assessment</mat-icon>\r\n                                <span class=\"item-name lvl1\">Application Assessment</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/assessmentStage/list']\"\r\n                                    [ngClass]=\"isCardApplicationStageDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                         [routerLink]=\"['/cardaccount/assessmentStage/application-assessment/list']\"\r\n                                         [ngClass]=\"isAssessmentReport ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Assessment Report</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- assesment end -->\r\n\r\n                    <!-- Supervisor Approval start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isCardSupervisorApprovalDone ? 'active' : 'notActive'\"\r\n                            [routerLink]=\"['/cardaccount/SupervisorApprovalStage/list']\">\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isCardSupervisorApprovalDone ? 'active' : 'notActive'\">done_all</mat-icon>\r\n                                <span class=\"item-name lvl1\">Supervisor Approval Stage</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/SupervisorApprovalStage/list']\"\r\n                                    [ngClass]=\"isCardApplicationStageDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/SupervisorApprovalStage/list/approvalDetails']\"\r\n                                        [ngClass]=\"isApprovedDetails ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Approved Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Supervisor Approval end -->\r\n\r\n                    <!-- Digital Signing start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isCardDigitalSigningDone ? 'active' : 'notActive'\"\r\n                                [routerLink]=\"['/cardaccount/DigitalSigning/list']\">\r\n                                <!--<mat-icon class=\"sidenav-mat-icon\">style</mat-icon>-->\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isCardDigitalSigningDone ? 'active' : 'notActive'\">web_asset</mat-icon>\r\n                                <span class=\"item-name lvl1\">Digital Signing</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                        [routerLink]=\"['/cardaccount/DigitalSigning/list']\"\r\n                                        [ngClass]=\"isCardDigitalSigningDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                     class=\"side-menu\"\r\n                                     [routerLink]=\"['/cardaccount/digitalsigning/options']\"\r\n                                     [ngClass]=\"isCardDigitalSigning ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Digital Signing</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Digital Signing end -->\r\n                </ul>\r\n            </div>\r\n\r\n        </mat-sidenav>\r\n        <div class=\"app-wrap\" fxLayout=\"row\" fxLayoutWrap=\"wrap\">\r\n            <!-- Right side -->\r\n            <div class=\"full-width mt-32\">\r\n                <router-outlet></router-outlet>\r\n            </div>\r\n\r\n        </div>\r\n    </mat-sidenav-container>\r\n</div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n// import { AccountService } from \"app/views/loan-account/account.service\";\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n\r\n@Component({\r\n  selector: \"app-charge-details\",\r\n  templateUrl: \"./charge-details.component.html\",\r\n  styleUrls: [\"./charge-details.component.scss\"],\r\n})\r\nexport class ChargeDetailsComponent implements OnInit {\r\n  interestForm: FormGroup;\r\n  accountId: any;\r\n  intrestFlag: Boolean;\r\n  interestResp: any;\r\n  accountType: String = \"Card Origin\";\r\n  resp: { intrestType: string; amount: string; waiver: string }[];\r\n  loanaccountID: any;\r\n  cardId: number;\r\n  currencytype:any;\r\n  currencySymbol: string;\r\n  cardInfo: any;\r\n  constructor(\r\n    private accountService: AccountService,\r\n    private snack: MatSnackBar,\r\n    private ls: LocalStoreService,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    console.log(history.state.amount);\r\n    \r\n    this.cardId = this.ls.getItem('cardId');\r\n    this.currencytype=localStorage.getItem('Currency Type');\r\n    if(this.currencytype===\"INR\"){\r\n      this.currencySymbol=\"₹\"\r\n    }else if(this.currencytype===\"USD\"){\r\n      this.currencySymbol=\"$\"\r\n    }else if(this.currencytype===\"CNY\"){\r\n      this.currencySymbol=\"¥\"\r\n    }else if(this.currencytype===\"GBP\"){\r\n      this.currencySymbol=\"£\"\r\n    }else if(this.currencytype===\"ZAR\"){\r\n      this.currencySymbol=\"R\"\r\n    }\r\n\r\n    if(this.cardInfo){\r\n      this.loanaccountID = this.cardInfo.loanAccountId;\r\n    }\r\n    this.interestForm = this.formBuilder.group({\r\n      chargeInfo: new FormArray([]),\r\n    });\r\n    this.api\r\n      .getFlexcubeDetails(\"chargeDetails\", this.accountType)\r\n      .subscribe((response) => {\r\n        this.onChangeInterest(response.length);\r\n        this.in.patchValue([{...response[0], amount: history.state.amount ? history.state.amount : ''}]);\r\n      });    \r\nsetTimeout(()=>{\r\n  this.api.cardChargeFetchById(this.cardId).subscribe((resp) => {\r\n    console.log(\"resp from backend \", this.resp);\r\n    this.resp = resp;\r\n    this.onChangeInterest(this.resp.length);\r\n    this.in.patchValue(this.resp);\r\n  });\r\n},10);\r\n    \r\n  }\r\n\r\n  onChangeInterest(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            amount: [\"\",Validators.required],\r\n            waiver: [false],\r\n            cardId: [this.cardId],\r\n            chargeDetailsId: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.chargeInfo as FormArray;\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([\r\n      `/cardaccount/applicationEnrichment/intrest-details`,\r\n    ]);\r\n  }\r\n  appendPercentage(event) {\r\n    // console.log(event.key)\r\n    console.log(event.target.value);\r\n\r\n    if (!event.target.value.length) return;\r\n\r\n    if (event.target.value.length === 1) {\r\n      event.target.value = `${event.target.value}%`;\r\n    }\r\n    if (event.target.value.length > 1) {\r\n      event.target.value = `${event.target.value.slice(0, -1)}%`;\r\n    }\r\n  }\r\n\r\n  onSubmit(form) {\r\n    console.log(\"form\", form);\r\n    form.chargeInfo = form.chargeInfo.map((chargeInfo) => ({\r\n      ...chargeInfo,\r\n      // loanAccountId: this.loanaccountID,\r\n    }));\r\n\r\n    this.api.cardChargeDetailsSave(form).subscribe(\r\n      (resp) => {\r\n        this.snack.open(\"Charge Details Saved!\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n        this.next();\r\n        console.log(\"backend response from intrest saving\", resp);\r\n      },\r\n      (err) => {\r\n        this.snack.open(\r\n          \"Not able to connect to server!\",\r\n          \"INTERNAL SERVER ERROR\",\r\n          {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"chargeInfo detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n  checkbox(event) {\r\n    console.log(event.checked);\r\n  }\r\n  next() {\r\n    this.ls.setItem(\"CARD_CHARGE_DETAILS_DONE\", true);\r\n    this.ls.setItem('CARD_ENRICHMENT_DONE',true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/underwritingStage/list`]);\r\n  }\r\n\r\n  onKeyPress(event: any) {\r\n    const number = /[0-9\\+\\-\\ ]/;\r\n    let inputCharacter = String.fromCharCode(event.charCode);\r\n    if (event.keyCode != 8 && !number.test(inputCharacter)) {\r\n      event.preventDefault();\r\n      console.log(\"event:\", event)\r\n    }\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/chargeDetails.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Charge Details</b></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\" class=\"m-333\">\r\n    <div class=\"mt-24\"></div>\r\n    <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\" class=\"chargeForm\">\r\n      <div class=\"spanDiv1\">\r\n        <span class=\"span\">Charge Details\r\n        </span>\r\n        <mat-divider class=\"divider\"></mat-divider>\r\n      </div>\r\n      <table class=\"cart-table default-bg mat-elevation-z0\">\r\n        <thead class=\"tr\">\r\n          <tr class=\"theadClass\">\r\n            <th>Interest Type</th>\r\n            <th>Amount</th>\r\n            <th>waiever</th>\r\n\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let chargeInfo of in.controls; let i = index\" class=\"tableRow\">\r\n            <ng-container [formGroup]=\"chargeInfo\">\r\n              <td>\r\n                <mat-form-field >\r\n                  <input class=\"input\" matInput formControlName=\"intrestType\" name=\"account_branch\"\r\n                     readonly />\r\n                </mat-form-field>\r\n              </td>\r\n              <td>\r\n                <mat-form-field >\r\n                  <span class=\"currencySymbol\" matPrefix>{{currencySymbol}}&nbsp;</span>\r\n                  <input \r\n                    class=\"input\" \r\n                    maxlength=\"10\"\r\n                    formControlName=\"amount\" \r\n                    (keypress)=\"onKeyPress($event)\" \r\n                    oninput=\"this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null\" matInput formControlName=\"amount\" name=\"account_branch\" \r\n                  />\r\n                </mat-form-field>\r\n              </td>\r\n              <td>\r\n                <div class=\"waiver-pos\">\r\n                  <mat-checkbox formControlName=\"waiver\" (change)='checkbox($event)' color=\"primary\"></mat-checkbox>\r\n                </div>\r\n              </td>\r\n            </ng-container>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n  </div>\r\n\r\n  <div fxFlex=\"100\" class=\"mt-16\">\r\n    <a mat-button rounded  (click)=\"goBack()\">Back</a>\r\n    <span fxFlex></span>\r\n    <button class=\"Nextbtn\" mat-raised-button color=\"primary\" type=\"button\" [disabled]=\"interestForm.invalid\"\r\n      (click)=\"onSubmit(interestForm.value)\">Next</button>\r\n  </div>\r\n\r\n</div>\r\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { Router } from '@angular/router';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n@Component({\r\n  selector: 'app-assessment-stage',\r\n  templateUrl: './assessment-stage.component.html',\r\n  styleUrls: ['./assessment-stage.component.scss']\r\n})\r\nexport class AssessmentStageComponent implements OnInit {\r\n  isCardAssessmentStageDone:boolean=false;\r\n  isAssessmentReport:boolean=false;\r\n  cardId:any;\r\n\r\n  constructor(\r\n    private ls: LocalStoreService,private router: Router, private dialogService: DialogService, \r\n    private cdr: ChangeDetectorRef,\r\n     private accountService: AccountService, private apiService: ApiService\r\n  ) { }\r\n  \r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.isAssessmentReport=this.ls.getItem('CARD_ASSESSMENT_DONE');\r\n    this.isCardAssessmentStageDone=this.ls.getItem('CARD_ASSESSMENT_STAGE_DONE');\r\n  }\r\n\r\n  goToCardAssessmentSummary(){\r\n    this.dialogService.cardAccountAssessmentSummaryDialog();\r\n  }\r\n  goToCardAppAssessmentSummary(){\r\n    this.dialogService.cardAccAssessmentSummaryDialog();\r\n  }\r\n\r\n  openLoanQualitativeDialog(){\r\n    this.dialogService.loanQualitativeSummaryDialog();\r\n  }\r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. ­­­­­­­­\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-8\" *ngIf=\"isCardAssessmentStageDone\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Entry Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\" (click)=\"goToCardAppAssessmentSummary()\">\r\n                    View Summary\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n  \r\n\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <mat-card>\r\n          <mat-card-header>\r\n            <mat-card-title>1. Assessment Report</mat-card-title>\r\n          </mat-card-header>\r\n          <mat-card-content>\r\n            <div\r\n              fxLayout=\"row\"\r\n              fxLayoutGap=\"10px\"\r\n              fxLayoutAlign=\"space-between start\">\r\n              <div fxFlex=\"50%\"class=font1>\r\n                <p>\r\n                 The recommendation will be displayed with Approval or Rejection recommendation.\r\n                </p>\r\n              </div>\r\n              <div fxFlex=\"50%\">\r\n                <img [src]=\"'assets/images/svg/MaskGroup_13.svg'\" class=\"card-img\" />\r\n              </div>\r\n            </div>\r\n        \r\n            <div class=\"mb-1\" *ngIf=\"isAssessmentReport\">\r\n              <mat-progress-bar\r\n                [color]=\"'primary'\"\r\n                mode=\"determinate\"\r\n                [value]=\"100\"\r\n                class=\"rounded\"\r\n                style=\"height: 6px\">\r\n              </mat-progress-bar>\r\n              <p class=\"m-0 text-right\">Completed</p>\r\n              <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n            </div>\r\n       \r\n          </mat-card-content>\r\n    \r\n          <mat-divider></mat-divider>\r\n          <mat-card-actions>\r\n              <ng-container *ngIf=\"isAssessmentReport; else showAssessment\">\r\n                  <button mat-button (click)=\"goToCardAssessmentSummary()\" color=\"primary\">\r\n                    View Details <mat-icon>chevron_right</mat-icon>\r\n                  </button>\r\n              </ng-container>\r\n              \r\n              <ng-template #showAssessment>\r\n                  <button mat-button [routerLink]=\"['/cardaccount/assessmentStage/application-assessment/list']\" color=\"primary\">\r\n                     Add Details <mat-icon>chevron_right</mat-icon>\r\n                  </button>\r\n              </ng-template>\r\n            </mat-card-actions>\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n    \r\n\r\n\r\n\r\n</div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ApplicationEnrichmentComponent } from './application-enrichment/application-enrichment.component';\r\nimport { ChargeDetailsComponent } from './application-enrichment/charge-details/charge-details.component';\r\nimport { EnrichmentSummaryComponent } from './application-enrichment/enrichment-summary/enrichment-summary.component';\r\nimport { IntrestDetailsComponent } from './application-enrichment/intrest-details/intrest-details.component';\r\nimport { ApplicationEntryStageComponent } from './application-entry-stage/application-entry-stage.component';\r\nimport { CardAccountServicesComponent } from './application-entry-stage/card-account-services/card-account-services.component';\r\nimport { CardCustomerInformationComponent } from './application-entry-stage/card-customer-information/card-customer-information.component';\r\nimport { CardPrefrencesComponent } from './application-entry-stage/card-prefrences/card-prefrences.component';\r\nimport { CardInitiationComponent } from './application-entry-stage/card-initiation/card-initiation.component';\r\nimport { FinancialDetailsComponent } from './application-entry-stage/financial-details/financial-details.component';\r\nimport { AssessmentStageComponent } from './assessment-stage/assessment-stage.component';\r\nimport { CardAccountComponent } from './card-account.component';\r\nimport { DigitalSignNowOrLaterComponent } from './digital-signing/digital-sign-now-or-later/digital-sign-now-or-later.component';\r\nimport { DigitalSigningComponent } from './digital-signing/digital-signing.component';\r\nimport { UploadSignatureOrEsignComponent } from './digital-signing/upload-signature-or-esign/upload-signature-or-esign.component';\r\nimport { CardaccountApplicationAssessmentComponent } from './cardaccount-application-assessment/cardaccount-application-assessment.component';\r\nimport { DocumentDetailsComponent } from './document-upload/document-details/document-details.component';\r\nimport { DocumentUploadComponent } from './document-upload/document-upload.component';\r\nimport { ApprovalDetailsComponent } from './supervisor-approval-stage/approval-details/approval-details.component';\r\nimport { SupervisorApprovalStageComponent } from './supervisor-approval-stage/supervisor-approval-stage.component';\r\nimport { CardaccountQualitativeScoreboardComponent } from './underwriting-stage/cardaccount-qualitative-scoreboard/cardaccount-qualitative-scoreboard.component';\r\nimport { UnderwritingCreditRatingComponent } from './underwriting-stage/underwriting-credit-rating/underwriting-credit-rating.component';\r\nimport { UnderwritingStageComponent } from './underwriting-stage/underwriting-stage.component';\r\n// import { UploadLinkToEmailComponent } from './document-upload/upload-link-to-email/upload-link-to-email.component';\r\nimport { UnderwritingStageSummaryComponent } from './underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component';\r\n\r\n\r\nexport const CardAccountRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CardAccountComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        redirectTo: 'applicationEntryStage/list',\r\n        pathMatch: 'full'\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list',\r\n        component: ApplicationEntryStageComponent,\r\n      },\r\n      {\r\n        path: 'documentupload/list/document-details',\r\n        component: DocumentDetailsComponent,\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list/financialDetails',\r\n        component: FinancialDetailsComponent,\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list/customerInformation',\r\n        component: CardCustomerInformationComponent,\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list/accountServices',\r\n        component: CardAccountServicesComponent,\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list/cardPrefrence',\r\n        component: CardPrefrencesComponent,\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list/cardInitiation',\r\n        component: CardInitiationComponent,\r\n      },\r\n      {\r\n        path: 'documentupload/list',\r\n        component: DocumentUploadComponent,\r\n      },\r\n      // {\r\n      //   path: 'documentupload/link',\r\n      //   component: UploadLinkToEmailComponent,\r\n      // },\r\n      {\r\n        path: 'applicationEnrichment/list',\r\n        component: ApplicationEnrichmentComponent,\r\n      },\r\n      {\r\n        path: 'applicationEnrichment/intrest-details',\r\n        component: IntrestDetailsComponent,\r\n      },\r\n      {\r\n        path: 'applicationEnrichment/charge-details',\r\n        component: ChargeDetailsComponent,\r\n      },\r\n      {\r\n        path: 'applicationEnrichment/Summary',\r\n        component: EnrichmentSummaryComponent,\r\n      },\r\n      {\r\n        path: 'underwritingStage/list',\r\n        component: UnderwritingStageComponent,\r\n      },\r\n      {\r\n        path: 'underwritingStage/summary',\r\n        component: UnderwritingStageSummaryComponent,\r\n      },\r\n      {\r\n        path: 'underwritingStage/credit-rating',\r\n        component:UnderwritingCreditRatingComponent,\r\n      },\r\n      {\r\n        path:'underwritingStage/qualitative',\r\n        component:CardaccountQualitativeScoreboardComponent,\r\n      },\r\n      {\r\n        path: 'assessmentStage/list',\r\n        component: AssessmentStageComponent,\r\n      },\r\n      {\r\n        path:'assessmentStage/application-assessment/list',\r\n        component:CardaccountApplicationAssessmentComponent,\r\n      },\r\n      {\r\n        path: 'SupervisorApprovalStage/list',\r\n        component: SupervisorApprovalStageComponent,\r\n      },\r\n      {\r\n        path: 'SupervisorApprovalStage/list/approvalDetails',\r\n        component: ApprovalDetailsComponent,\r\n      },\r\n      {\r\n        path: 'DigitalSigning/list',\r\n        component: DigitalSigningComponent,\r\n      },\r\n      {\r\n        path: 'digitalsigning/options',\r\n        component: DigitalSignNowOrLaterComponent,\r\n      },\r\n      {\r\n        path: 'digitalsigning/upload',\r\n        component: UploadSignatureOrEsignComponent,\r\n      }\r\n  \r\n  \r\n    ]\r\n  }\r\n];","import { CUSTOM_ELEMENTS_SCHEMA, Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { MatDialogRef } from \"@angular/material/dialog\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-card-acc-charge-det-sum',\r\n  templateUrl: './card-acc-charge-det-sum.component.html',\r\n  styleUrls: ['./card-acc-charge-det-sum.component.scss']\r\n})\r\nexport class CardAccChargeDetSumComponent implements OnInit {\r\n\r\n  form1: Boolean;\r\n  form2: Boolean;\r\n\r\n  chargeFormIT: FormGroup;\r\n  savingForm: FormGroup;\r\n  accountId: any;\r\n  // accountType: any;\r\n  resp: { intrestType: string; amount: string; waiver: string }[];\r\n  loanAccountId: any;\r\n  accountType: String = \"Home Loan\";\r\n  cardId: number;\r\n  cardInfo: any;\r\n\r\n  constructor(\r\n    private snack: MatSnackBar,\r\n    private dialogRef: MatDialogRef<CardAccChargeDetSumComponent>,\r\n    private ls: LocalStoreService,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    console.log(this.cardId);\r\n    \r\n    if(this.cardInfo){\r\n      this.loanAccountId = this.cardInfo.loanAccountId;\r\n    }\r\n    this.chargeFormIT = this.formBuilder.group({\r\n      chargeIT: new FormArray([]),\r\n    });\r\n\r\n    // this.api\r\n    //   .getFlexcubeDetails(\"chargeDetails\", this.accountType)\r\n    //   .subscribe((response) => {\r\n    //     this.onChangeInterest(response.length);\r\n    //     this.in.patchValue(response);\r\n    //   });\r\n\r\n  this.api.cardChargeFetchById(this.cardId).subscribe((resp) => {\r\n    console.log(\"resp from backend \", resp);\r\n    this.resp = resp;\r\n    this.onChangeInterest(this.resp.length);\r\n    this.in.patchValue(this.resp);\r\n  });\r\n\r\n// setTimeout(() => {\r\n//   this.api.cardChargeFetchById(this.cardId).subscribe((resp) => {\r\n//     console.log(\"resp from backend \", this.resp);\r\n//     this.resp = resp;\r\n//     this.onChangeInterest(this.resp.length);\r\n//     this.in.patchValue(this.resp);\r\n//   });\r\n// },10);\r\n    \r\n  }\r\n\r\n  onChangeInterest(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            amount: [\"\"],\r\n            waiver: [false],\r\n            cardId: [this.cardId],\r\n            createdDate: [\"\"],\r\n            craetedBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.chargeFormIT.controls;\r\n  }\r\n  get in() {\r\n    return this.f.chargeIT as FormArray;\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([\"/cardaccount/applicationEnrichment/list\"]);\r\n  }\r\n\r\n  onSubmit(form) {}\r\n  edit() {\r\n    // const amount = this.chargeFormIT.controls['chargeIT'].value.at(-1)['amount']\r\n    // console.log({amount});\r\n    this.dialogRef.close();\r\n    this.router.navigate([`/cardaccount/applicationEnrichment/charge-details`]);\r\n  }\r\n\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"charge detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n\r\n  close(){\r\n    this.router.navigate([\"/cardaccount/applicationEnrichment/list\"]);\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[a-zA-Z]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n}\r\n","<!-- <p>card-acc-charge-det-sum works!</p>\r\n<mat-card>\r\n\t<mat-card-header>\r\n\t\t<mat-card-title>Title</mat-card-title>\r\n\t\t<mat-card-subtitle>Subtitle</mat-card-subtitle>\r\n\t</mat-card-header>\r\n\t<img matCardImage src=\"Card wide image source\">\r\n\t<mat-card-content>\r\n\t\tText content\r\n\t</mat-card-content>\r\n\t<mat-card-actions align=\"start\">\r\n\t\t<button mat-button (click)=\"onAction1\">Action1</button>\r\n\t\t\r\n\t</mat-card-actions>\r\n\t<mat-card-footer>\r\n\t\tFooter\r\n\t</mat-card-footer>\r\n</mat-card> -->\r\n\r\n<mat-card class=\"matCard\">\r\n  <button mat-button id=\"close\" mat-dialog-close>\r\n    <mat-icon class=\"closeicon\">close</mat-icon>\r\n  </button>\r\n  <div class=\"spanDiv1\">\r\n    <span class=\"paraFont\">Charge Details Summary\r\n\r\n    </span>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"main\">\r\n    <div fxFlex=\"100\">\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n      <div class=\"mt-24\"></div>\r\n      <form *ngIf=\"chargeFormIT\" [formGroup]=\"chargeFormIT\">\r\n        <table class=\"cart-table default-bg mat-elevation-z0\">\r\n          <tbody>\r\n            <tr class=\"mt-4\" *ngFor=\"let chargeIT of [in.controls[in.controls.length - 1]]; let i = index\" class=\"form\">\r\n              <div class=\"row\" >\r\n                <ng-container [formGroup]=\"chargeIT\">\r\n                  <div class=\"heading\">\r\n                    <input matInput formControlName=\"intrestType\" name=\"account_branch\" id=\"headingInput\" readonly />\r\n                  </div>\r\n                  <td>\r\n                    <mat-card class=\"matCardBox\">\r\n                      <mat-label class=\"label\">Amount</mat-label>\r\n                      <input matInput formControlName=\"amount\" #amount name=\"account_branch\" class=\"input\" readonly />\r\n                    </mat-card>\r\n                  </td>\r\n                  <td>\r\n                    <mat-card class=\"matCardBox\">\r\n                      <mat-label class=\"label\">waiver</mat-label>\r\n                      <input matInput formControlName=\"waiver\" #waiver name=\"account_branch\" class=\"input\" readonly />\r\n                    </mat-card>\r\n                  </td>\r\n                </ng-container>\r\n              </div>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <span class=\"spanDiv\" (click)=\"edit()\">Edit</span>\r\n</mat-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n@Component({\r\n  selector: 'app-digital-view-summary',\r\n  templateUrl: './digital-view-summary.component.html',\r\n  styleUrls: ['./digital-view-summary.component.scss']\r\n})\r\nexport class DigitalViewSummaryComponent implements OnInit {\r\n  cardId:any;\r\n  accountInfo: any;\r\n  imageUrl: any;\r\n\r\n  constructor( private router: Router,private ls: LocalStoreService, private api: ApiService, private loader: AppLoaderService) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.cardId)\r\n     this.cardId = this.ls.getItem('cardId');\r\n     console.log(this.cardId)\r\n     this.getDigitalsignByCardId(this.cardId);\r\n  }\r\n\r\n  getDigitalsignByCardId(cardId) {\r\n    this.api.getDigitalsignByCardId(cardId).subscribe((resp) => {\r\n      console.log(resp)\r\n        console.log(resp[0].fileUrl);\r\n       this.imageUrl = resp[resp.length-1].fileUrl\r\n      this.loader.close();\r\n    }, (err: any) => {\r\n      // this.loader.close();\r\n    }); \r\n  }\r\n}\r\n","<div fxLayoutAlign=\"end stretch\" mat-dialog-close class=\"close\"><mat-icon>close</mat-icon></div>\r\n<div class=\"approval-details\">\r\n <fieldset>\r\n  <legend visible=\"true\" clas=\"paraFont\">Digital Signing</legend>\r\n </fieldset>\r\n <mat-card class=\"card\">\r\n    <div>\r\n        <div>\r\n            <img [src]=\" this.imageUrl\" alt=\"No Image\">\r\n        </div>\r\n       \r\n    </div>\r\n </mat-card>\r\n<!-- <p class=\"editButton\" mat-dialog-close \r\n[routerLink]=\"['/cardaccount/digitalsigning/options']\"\r\n>Edit</p> -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-digitalsign-summary',\r\n  templateUrl: './digitalsign-summary.component.html',\r\n  styleUrls: ['./digitalsign-summary.component.scss']\r\n})\r\nexport class DigitalsignSummaryComponent implements OnInit {\r\n  cardId:any;\r\n  accountInfo: any;\r\n  imageUrl: any;\r\n  constructor( private router: Router,private ls: LocalStoreService, private api: ApiService, private loader: AppLoaderService) { }\r\n\r\n  ngOnInit(): void {\r\n    \r\n    console.log(this.cardId)\r\n     this.cardId = this.ls.getItem('cardId');\r\n     console.log(this.cardId)\r\n     this.getDigitalsignByCardId(this.cardId);\r\n    //  if(this.accountInfo){\r\n    //   this.accountId=this.accountInfo.businessProductAccount.accountId\r\n    //   }\r\n    \r\n  }\r\n  getDigitalsignByCardId(cardId) {\r\n    this.api.getDigitalsignByCardId(cardId).subscribe((resp) => {\r\n      console.log(resp)\r\n        console.log(resp[0].fileUrl);\r\n       this.imageUrl = resp[resp.length-1].fileUrl\r\n      this.loader.close();\r\n    }, (err: any) => {\r\n      // this.loader.close();\r\n    }); \r\n  }\r\n\r\n  \r\n\r\n}\r\n","<div fxLayoutAlign=\"end stretch\" mat-dialog-close class=\"close\"><mat-icon>close</mat-icon></div>\r\n<div class=\"approval-details\">\r\n <fieldset>\r\n  <legend visible=\"true\" clas=\"paraFont\">Digital Signing</legend>\r\n </fieldset>\r\n <mat-card class=\"card\">\r\n    <div>\r\n        <div>\r\n            <img [src]=\" this.imageUrl\" alt=\"No Image\">\r\n        </div>\r\n       \r\n    </div>\r\n </mat-card>\r\n<p class=\"editButton\" mat-dialog-close \r\n[routerLink]=\"['/cardaccount/digitalsigning/options']\"\r\n>Edit</p>\r\n</div>","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { CurrencyPipe, Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\nimport { Console } from 'console';\r\n\r\n@Component({\r\n  selector: 'app-cardaccount-application-assessment',\r\n  templateUrl: './cardaccount-application-assessment.component.html',\r\n  styleUrls: ['./cardaccount-application-assessment.component.scss'],\r\n})\r\nexport class CardaccountApplicationAssessmentComponent implements OnInit {\r\n  currency: string;\r\n  public assessmentForm: FormGroup;\r\n  isAssessmentReport: boolean = false;\r\n  arrayUserRecommendation = [\r\n    'Recommended For Approval',\r\n    'Pending For Documents',\r\n    'Recommended for Review',\r\n  ];\r\n  arraySystemRecommendation = [\r\n    'Recomended For Approval',\r\n    'Recommended For Reject',\r\n  ];\r\n  cardId: any;\r\n  curr: string = '';\r\n  isCardAssessmentStageDone: boolean = false;\r\n  requestedCardLimit: any;\r\n  recommendedCardLimit: any;\r\n  approvedCardLimit: string;\r\n  currencySymboll: string;\r\n  currencySymbol: boolean = true;\r\n  //    currency_symbols = {\r\n  //     'USD': '$', // US Dollar\r\n  //     'EUR': '€', // Euro\r\n  //     'GBP': '£', // British Pound Sterling\r\n  //     'ILS': '₪', // Israeli New Sheqel\r\n  //     'INR': '₹', // Indian Rupee\r\n  //     'JPY': '¥', // Japanese Yen\r\n  //     'KRW': '₩', // South Korean Won\r\n  //     'NGN': '₦', // Nigerian Naira\r\n  //     'PHP': '₱', // Philippine Peso\r\n  //     'PLN': 'zł', // Polish Zloty\r\n  //     'PYG': '₲', // Paraguayan Guarani\r\n  //     'THB': '฿', // Thai Baht\r\n  //     'UAH': '₴', // Ukrainian Hryvnia\r\n  //     'VND': '₫', // Vietnamese Dong\r\n  //     'CNY': '¥', // Chinese Yuan Currency\r\n  //     'ZAR': 'R', // South Africa Rand\r\n  // };\r\n  //localCurrencyArr=['CNY','GBP','INR','USD','ZAR','GBP'];\r\n  currencySymbols=[\r\n    {currency:'USD', symbol:'$'},{currency:'EUR', symbol:'€'},\r\n    {currency:'JPY', symbol:'¥'},\r\n    {currency:'GBP', symbol:'£'},\r\n    {currency:'ILS', symbol:'₪'},\r\n    {currency:'KRW', symbol:'₩'},\r\n    {currency:'NGN', symbol:'₦'},\r\n    {currency:'PHP', symbol:'₱'},\r\n    {currency:'PLN', symbol:'zł'},\r\n    {currency:'THB', symbol:'฿'},\r\n    {currency:'UAH', symbol:'₴'},\r\n    {currency:'VND', symbol:'₫'},\r\n    {currency:'CNY', symbol:'¥'},\r\n    { currency: 'ZAR', symbol: 'R'},\r\n    {currency:'INR', symbol:'₹'},\r\n  ]\r\n  currencyArr: { currency: string; symbol: string; }[];\r\n  currencytype: string;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private snack: MatSnackBar,\r\n    private cdr: ChangeDetectorRef,\r\n    private apiService: ApiService,\r\n    private _location: Location,\r\n    private ls: LocalStoreService,\r\n    private fb: FormBuilder,\r\n    private accountService: AccountService,\r\n    private currencyPipe: CurrencyPipe\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.curr = localStorage.getItem('Currency Type');\r\n    this.cardId = this.ls.getItem('cardId');\r\n    this.isAssessmentReport = this.ls.getItem('CARD_ASSESSMENT_DONE');\r\n    this.isCardAssessmentStageDone = this.ls.getItem(\r\n      'CARD_ASSESSMENT_STAGE_DONE'\r\n    );\r\n    this.buildAssessmentForm({});\r\n    if (this.isAssessmentReport == false) {\r\n      this.buildAssessmentForm();\r\n    } else {\r\n      this.getCardAssessmentDetails();\r\n    }\r\n  }\r\n\r\n  buildAssessmentForm(item?, isResponse?: boolean) {\r\n    this.assessmentForm = this.fb.group({\r\n      // cardId:[data?data.cardId:'952'],\r\n      // agencyId:[data?data.agencyId : 0],\r\n      // cardId:[item?item.cardId:'1'],\r\n      // assessmentId:[item?item.assessmentId:'1'],\r\n\r\n      cardId: [this.cardId],\r\n      assessmentId: [(item.assessmentId = '1')],\r\n      requestedCardLimit: [(item.requestedCardLimit = '15000')],\r\n      systemRecommendation: [\r\n        // (item.systemRecommendation = 'Recommended for Approval'),[Validators.required]\r\n        item ? item.systemRecommendation : '',\r\n        [Validators.required],\r\n      ],\r\n      approvedCardLimit: [(item.approvedCardLimit = '10000')],\r\n      // requestedCardLimit: [item ? item.requestedCardLimit: ' ₹ 15000'],\r\n      // systemRecommendation:[item ? item.systemRecommendation:'Recommended for Approval'],\r\n      // approvedCardLimit:[item ? item.approvedCardLimit: '10000'],\r\n      userRecommendation: [\r\n        item ? item.userRecommendation : '',[Validators.required]\r\n      ],\r\n      recommendedCardLimit: [\r\n        item ? item.recommendedCardLimit : '',Validators.compose(\r\n          [Validators.required,Validators.max(10000)])\r\n       \r\n      ],\r\n      remark: [item ? item.remark : ''],\r\n    });\r\n    console.log('curr', this.curr);\r\n    if (item) {\r\n      // if (this.curr === 'INR') {\r\n      //   //this.recommendedCardLimit = \"₹\" + ' ' + this.assessmentForm.value.recommendedCardLimit;\r\n      //   this.approvedCardLimit =\r\n      //     '₹' + ' ' + this.assessmentForm.value.approvedCardLimit;\r\n      //   this.requestedCardLimit =\r\n      //     '₹' + ' ' + this.assessmentForm.value.requestedCardLimit;\r\n      //   this.currencySymboll = '₹' + ' ';\r\n      //   console.log('reccommendedCardLimit:', this.recommendedCardLimit);\r\n      // } else {\r\n      //   // this.recommendedCardLimit = \"$\" + ' ' + this.assessmentForm.value.recommendedCardLimit;\r\n      //   this.approvedCardLimit =\r\n      //     '$' + ' ' + this.assessmentForm.value.approvedCardLimit;\r\n      //   this.requestedCardLimit =\r\n      //     '$' + ' ' + this.assessmentForm.value.requestedCardLimit;\r\n      //   this.currencySymboll = '$' + ' ';\r\n      // }\r\n      for(let i=0;i<this.currencySymbols.length;i++){\r\n        this.currencyArr= this.currencySymbols.filter((fltered)=>{\r\n         return this.curr===fltered.currency;\r\n        })\r\n        console.log(\"this.currencyArr\",this.currencyArr);\r\n      }\r\n      this.currencySymboll = this.currencyArr[0].symbol;  \r\n      this.approvedCardLimit = this.currencySymboll + ' ' + this.assessmentForm.value.approvedCardLimit;\r\n      this.requestedCardLimit = this.currencySymboll + ' ' + this.assessmentForm.value.requestedCardLimit;\r\n      this.recommendedCardLimit = this.currencySymboll + ' '+ this.assessmentForm.value.reccommendedCardLimit;\r\n\r\n\r\n      //  this.assessmentForm.controls.recommendedCardLimit.setValue(this.curr);\r\n      this.assessmentForm.controls.approvedCardLimit.setValue(\r\n        this.approvedCardLimit\r\n      );\r\n      this.assessmentForm.controls.requestedCardLimit.setValue(\r\n        this.requestedCardLimit\r\n      );\r\n      // this.assessmentForm.controls.recommendedCardLimit.setValue(this.recommendedCardLimit);//editable field\r\n    }\r\n  }\r\n\r\n  transformAmount(element) {\r\n    if (this.curr === 'INR') {\r\n      console.log(this.currencySymbol);\r\n      this.currencySymboll = this.currencyPipe.transform(\r\n        this.currencySymboll,\r\n        '₹'\r\n      );\r\n      console.log(this.currencySymbol);\r\n      element.target.value = this.currencySymboll;\r\n    } else {\r\n      this.currencySymboll = this.currencyPipe.transform(\r\n        this.currencySymboll,\r\n        '$'\r\n      );\r\n      element.target.value = this.currencySymboll;\r\n    }\r\n    console.log(element.target.value);\r\n  }\r\n\r\n  keyUpEvent(event: any){\r\n    console.log('event', event.target.value);\r\n    // var final=event.target.value+ this.currencySymboll;\r\n    let finalNum = event.target.value.toString().replace(/,/g, '').split('.');\r\n    // finalNum[0] = finalNum[0].replace(\r\n    //   /\\B(?=(\\d{1})+(?!\\d))/g,\r\n    //   this.currencySymboll\r\n    // );\r\n    let final = finalNum.join('.');\r\n    // let final = finalNum.slice(0, 5);\r\n    console.log('final', final);\r\n    console.log('finalLength', final.length);\r\n    //this.assessmentForm.controls.recommendedCardLimit.setValue(this.currencySymboll);\r\n    this.assessmentForm.controls.recommendedCardLimit.setValue(final);\r\n  }\r\n\r\n  _keyPress1(event: any) {\r\n    const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    const input = event.target.value;\r\n    if (input.length === 0 && event.which === 48) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  getCardAssessmentDetails() {\r\n    this.apiService\r\n      .fetchcardAssessmentDetailsById(this.cardId)\r\n      //this.apiService.fetchcardAssessmentDetails()\r\n      .subscribe((resp: any) => {\r\n        console.log(resp);\r\n        this.buildAssessmentForm(resp, true);\r\n      });\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  goNext(val) {\r\n    console.log('val', val.approvedCardLimit);\r\n    console.log('val.approvedCardLimit', val.approvedCardLimit.length);\r\n    console.log('val', val.recommendedCardLimit);\r\n    console.log('val.recommendedCardLimit',val.recommendedCardLimit.length);\r\n    val.approvedCardLimit = val.approvedCardLimit.slice(\r\n      2,\r\n      val.approvedCardLimit.length - 1\r\n    );\r\n    val.requestedCardLimit = val.requestedCardLimit.slice(\r\n      2,\r\n      val.requestedCardLimit.length - 1\r\n    );\r\n    //let num = val.recommendedCardLimit.length;\r\n    //var final = val.recommendedCardLimit.slice(1, num - 1);\r\n   // console.log('final', final);\r\n   // final = this.removeComma(final);\r\n   // console.log('final', final);\r\n   // val.recommendedCardLimit = final;\r\n    this.apiService.cardAssessmentDetails(val).subscribe((data) => {\r\n      console.log('data', data);\r\n      if (data != null) {\r\n        this.snack.open('Assessment details saved successfully!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right',\r\n        });\r\n        this.cdr.markForCheck();\r\n      }\r\n    });\r\n    this.next();\r\n  }\r\n  removeComma(num: any) {\r\n    var numb = num.replace(/,/g, '');\r\n    console.log('numb', numb);\r\n    return numb;\r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem('CARD_ASSESSMENT_DONE', true);\r\n    this.ls.setItem('CARD_ASSESSMENT_STAGE_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/SupervisorApprovalStage/list`]);\r\n  }\r\n  goBack() {\r\n    this.router.navigate([`/cardaccount/assessmentStage/list`]);\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/MaskGroup_13.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Assessment Report</b></div>\r\n    </div>\r\n  </div>\r\n\r\n  <!--Assessment Details starts here-->\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">\r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Assessment Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n\r\n      <div>\r\n        <form [formGroup]=\"assessmentForm\">\r\n          <div fxLayout=\"column\">\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\"class=\"field\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\"style=\"margin-left: -5px;\">\r\n                <mat-label class=\"hint\">Requested Card Limit *</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <input\r\n                    matInput\r\n                    formControlName=\"requestedCardLimit\"\r\n                    (keypress)=\"_keyPress1($event)\"\r\n                    class=\"alignment\"\r\n                    type=\"text\"\r\n                    placeholder=\"Requested Card Limit\"\r\n                    readonly\r\n                  />\r\n                  <!-- {{curr }} {{requestedCardLimit }} -->\r\n                  <!--  {{curr }} {{requestedCardLimit | number: '1.' }} -->\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"48%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">System Recommendation *</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <mat-select\r\n                    formControlName=\"systemRecommendation\"\r\n                    placeholder=\"Select\"\r\n                  >\r\n                   <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option\r\n                      *ngFor=\"\r\n                        let systemRecommendation of arraySystemRecommendation\r\n                      \"\r\n                      [value]=\"systemRecommendation\"\r\n                    >\r\n                      {{ systemRecommendation }}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                  <!-- <input matInput formControlName=\"loanTenure\" class=\"alignment\" type=\"text\" readonly/>{{accountDetails?.loanTenure}} -->\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n              </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\"class=\"field\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\"style=\"margin-left: -5px;\">\r\n                <mat-label class=\"hint\">User Recommendation *</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <mat-select\r\n                    formControlName=\"userRecommendation\"\r\n                    placeholder=\"Select\"\r\n                  >\r\n                   <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option\r\n                      *ngFor=\"let userRecommendation of arrayUserRecommendation\"\r\n                      [value]=\"userRecommendation\"\r\n                    >\r\n                      {{ userRecommendation }}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n\r\n                <mat-error\r\n                  *ngIf=\"\r\n                    !assessmentForm.get('userRecommendation').valid &&\r\n                    assessmentForm.get('userRecommendation').touched\r\n                  \"\r\n                >\r\n                  &nbsp;&nbsp; Please select the User Recommendation\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"48%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Recommended Card Limit</mat-label>\r\n                \r\n                <!-- <mat-card fxLayout=\"row wrap\"> -->\r\n                  <span fxFlex=\"4\">{{currencySymboll}}</span>\r\n                  <input fxFlex=\"96\"\r\n                    matInput\r\n                    formControlName=\"recommendedCardLimit\"\r\n                    (keypress)=\"_keyPress1($event)\"\r\n                    (blur)=\"transformAmount($event)\"                  \r\n                    type=\"text\"\r\n                    required\r\n                  />\r\n                  <!-- < [ngClass]=\"{'currencySymbol' : true}\"\r\n                input type=\"text\" (blur)=\"transformAmount($event)\" [(ngModel)]=\"formattedAmount\"  /> \r\n                (blur)=\"transformAmount($event)\"  (keyup)=\"keyUpEvent($event,true)\" -->\r\n                  <!-- {{curr }} {{recommendedCardLimit | number: '1.' }} -->\r\n                <!-- </mat-card> -->\r\n                <!-- <mat-error\r\n                  *ngIf=\"assessmentForm.get('recommendedCardLimit').touched &&\r\n                  assessmentForm.get('recommendedCardLimit').value == 0\">\r\n                  &nbsp;&nbsp; Please enter valid Recommended Card Limit\r\n                </mat-error> -->\r\n                <mat-error class=\"colorRed\"*ngIf=\"assessmentForm.get('recommendedCardLimit').touched &&\r\n                assessmentForm.get('recommendedCardLimit').value == 0\" >\r\n                  Please enter valid Recommended Card Limit\r\n              </mat-error> \r\n              <mat-error class=\"colorRed\" *ngIf=\"assessmentForm.get('recommendedCardLimit').value > 10000\">\r\n                The recommendation card limit should not be greater than approved card limit\r\n              </mat-error> \r\n                </mat-form-field>\r\n              </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\"class=\"field\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\"style=\"margin-left: -5px;\">\r\n                <mat-label class=\"hint\">Approved Card Limit</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <input\r\n                    matInput\r\n                    formControlName=\"approvedCardLimit\"\r\n                    (keypress)=\"_keyPress1($event)\"\r\n                    class=\"alignment\"\r\n                    type=\"text\"\r\n                    placeholder=\"Approved Card Limit\"\r\n                    readonly\r\n                    required\r\n                  />\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"48%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Remarks</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <input\r\n                    matInput\r\n                    placeholder=\"Remarks\"\r\n                    formControlName=\"remark\"\r\n                    class=\"alignment\"\r\n                    type=\"text\"\r\n                  />\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n                <!-- <mat-error\r\n                  *ngIf=\"\r\n                    !assessmentForm.get('remark').valid &&\r\n                    assessmentForm.get('remark').touched\r\n                  \"\r\n                >\r\n                  &nbsp;&nbsp; Please enter the remarks\r\n                </mat-error> -->\r\n              </div>\r\n            </div>\r\n          </div>\r\n         \r\n        </form>\r\n      </div>\r\n    </mat-card>\r\n    <div fxLayout=\"row\"\r\n    fxLayoutAlign=\"space-between center\"\r\n    fxLayoutGap=\"16px\"\r\n    class=\"mt-32\">\r\n      <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n        Back\r\n\r\n      </button>\r\n       \r\n      <button type=\"button\" class=\"Nextbtn\" (click)=\"goNext(assessmentForm.value)\" [disabled]=\"!assessmentForm.valid\" mat-raised-button color=\"primary\">\r\n\r\n        Next\r\n    </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { AppLoaderService } from \"app/shared/services/app-loader/app-loader.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n// import { AccountService } from 'app/views/loan-account/account.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-intrest-details',\r\n  templateUrl: './intrest-details.component.html',\r\n  styleUrls: ['./intrest-details.component.scss']\r\n})\r\nexport class IntrestDetailsComponent implements OnInit {\r\n\r\n  interestForm: FormGroup;\r\n  accountId: any;\r\n  intrestFlag: Boolean;\r\n  interestResp: any;\r\n  showEditOption: boolean = false;\r\n  resp: {\r\n    intrestType: string;\r\n    intrestRateApplicable: string;\r\n    marginIn: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  accountType: String = \"Card Origin\";\r\n  cardId: number;\r\n  \r\n  constructor(\r\n    private accountService: AccountService,\r\n    private snack: MatSnackBar,\r\n    private ls: LocalStoreService,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private loader: AppLoaderService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    let isCardInterestDetails = this.ls.getItem('CARD_INTEREST_DETAILS_DONE');\r\n    this.getInterestDetails();\r\n    if (this.cardId != null && isCardInterestDetails) {\r\n      this.showEditOption = true;\r\n      \r\n      this.getInterestDetails();\r\n    } \r\n    else {\r\n      console.log(\"else\");\r\n      this.showEditOption = false;\r\n      this.api\r\n      .getFlexcubeDetails(\"intrestDetails\", this.accountType)\r\n      .subscribe((response) => {\r\n        if(response) {\r\n          this.onChangeInterest(response.length);\r\n          this.in.patchValue(response);\r\n        }\r\n      });\r\n    }\r\n\r\n    this.interestForm = this.formBuilder.group({\r\n      interestInfo: new FormArray([]),\r\n    });\r\n  \r\n  }\r\n\r\n  getInterestDetails(){\r\n    // this.loader.open();\r\n    // this.cardId=this.ls.getItem('cardId');\r\n    // console.log(this.cardId)\r\n    this.cardId = this.cardId;\r\n    this.api.cardInterestFetchById(this.cardId).subscribe((resp) => {\r\n      this.loader.close();\r\n      console.log(\"resp from backend \", resp);\r\n      if(resp) {\r\n        this.resp = resp;\r\n        this.onChangeInterest(this.resp.length);\r\n        this.in.patchValue(this.resp);\r\n      }\r\n    }, (err: any) => {\r\n      // this.loader.close();\r\n    }); \r\n  }\r\n\r\n  onChangeInterest(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"Fixed Rate\", Validators.required],\r\n            intrestRateApplicable: [5.0, Validators.required],\r\n            marginIn :[null,[Validators.required, Validators.max(100), Validators.min(0)],],\r\n            effectiveRate: [10.0,[Validators.required, Validators.max(100), Validators.min(0)],],\r\n            cardInterestId: [\"\"],\r\n            cardId: [this.cardId],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.interestInfo as FormArray;\r\n  }\r\n\r\n  appendPercentage(event) {\r\n    // console.log(event.key)\r\n    console.log(event.target.value);\r\n\r\n    if (!event.target.value.length) return;\r\n\r\n    if (event.target.value.length === 1) {\r\n      event.target.value = `${event.target.value}%`;\r\n    }\r\n    if (event.target.value.length > 1) {\r\n      event.target.value = `${event.target.value.slice(0, -1)}%`;\r\n    }\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log(this.interestForm.value)\r\n    this.api.cardintrestDetailsSave(this.interestForm.value).subscribe(\r\n      (resp) => {\r\n        this.snack.open(\"Interest Details Saved!\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n        this.next();\r\n        console.log(\"backend response from intrest saving\", resp);\r\n      },\r\n      (err) => {\r\n        this.snack.open(\r\n          \"Not able to connect to server!\",\r\n          \"INTERNAL SERVER ERROR\",\r\n          {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          }\r\n        );\r\n      }\r\n    );\r\n    \r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem('CARD_INTEREST_DETAILS_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/applicationEnrichment/charge-details`]);\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([\r\n      `/cardaccount/applicationEnrichment/list`,\r\n    ]);\r\n  }\r\n\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"Interest detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/loanInterest.svg\" alt=\"\" class=\"w-80\" />\r\n    </div>\r\n\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Interest Details</b></div>\r\n    </div>\r\n  </div>\r\n\r\n  <div fxFlex=\"100\" class=\"m-333\">\r\n\r\n    <div class=\"mt-24\"></div>\r\n    <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\" class=\"chargeForm\">\r\n      <div class=\"spanDiv1\">\r\n        <span class=\"span\">\r\n          Interest Details\r\n        </span>\r\n        <mat-divider class=\"divider\"></mat-divider>\r\n      </div>\r\n      <table class=\"cart-table default-bg mat-elevation-z0\">\r\n        <thead class=\"tr\">\r\n          <tr class=\"theadClass\">\r\n            <!-- <th>Rate Code</th> -->\r\n            <th>Interest Type</th>\r\n            <th>Interest Rate Applicable</th>\r\n            <th>Margin in %</th>\r\n            <th>Effective Rate %</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let interestInfo of in.controls; let i = index\" class=\"tableRow\">\r\n\r\n            <ng-container [formGroup]=\"interestInfo\">\r\n              <td>\r\n                <mat-card class=\"matCardBox-form\">\r\n                  <input class=\"input\" matInput formControlName=\"intrestType\" name=\"intrestType\"\r\n                    placeholder=\"Interest Type\" readonly />\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <mat-card class=\"matCardBox-form box1\">\r\n                  <input class=\"inputPercent\" matInput formControlName=\"intrestRateApplicable\" name=\"intrestRateApplicable\"\r\n                    placeholder=\"Interest Rate Applicable\"readonly />\r\n                    <span matSuffix>%</span>\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <mat-card class=\"matCardBox-form box1\">\r\n                  <input class=\"inputPercent\" matInput formControlName=\"marginIn\" name=\"margin\" \r\n                    placeholder=\"Margin\" readonly />\r\n                    <span matSuffix>%</span>\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <mat-card class=\"matCardBox-form box1\">\r\n                  <input class=\"inputPercent\" matInput formControlName=\"effectiveRate\" name=\"effectiveRate\"\r\n                    placeholder=\"Effective Rate\" value=\"\" readonly />\r\n                    <span matSuffix>%</span>\r\n                </mat-card>\r\n              </td>\r\n            </ng-container>\r\n\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n  </div>\r\n\r\n  <!-- <div fxFlex=\"100\" class=\"mt-16\">\r\n    <a mat-button rounded color=\"primary\" (click)=\"goBack()\">Back</a>\r\n    <span fxFlex></span>\r\n    <button mat-raised-button color=\"primary\" type=\"button\"\r\n      (click)=\"onSubmit()\">Next</button>\r\n  </div> -->\r\n\r\n  \r\n  <div fxFlex=\"100\" class=\"mt-16\">\r\n    <a mat-button rounded (click)=\"goBack()\">Back</a>\r\n    <span fxFlex></span>\r\n    <button class=\"Nextbtn\" mat-raised-button color=\"primary\" type=\"button\" [disabled]=\"interestForm.invalid\"\r\n      (click)=\"onSubmit()\">Next</button>\r\n  </div>\r\n</div>\r\n</div>\r\n\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\nimport { DigitalViewSummaryComponent } from './digital-view-summary/digital-view-summary.component';\r\n\r\nimport { AccountService } from '../account.service';\r\n\r\nimport { DigitalsignSummaryComponent } from './digitalsign-summary/digitalsign-summary.component';\r\n\r\n@Component({\r\n  selector: 'app-digital-signing',\r\n  templateUrl: './digital-signing.component.html',\r\n  styleUrls: ['./digital-signing.component.scss']\r\n})\r\nexport class DigitalSigningComponent implements OnInit {\r\n\r\n  informations = [\r\n    {\r\n      'id':1,\r\n      'title': '1. Digital Signing',\r\n      'content':\"Customer can either sign now or sign later\",\r\n      'percentage':70,\r\n      'status':'Pending',\r\n      'state': 'application/digital-sign/options',\r\n      'avatar':\"assets/images/esign.jpg\"\r\n\r\n    }\r\n  ];\r\n\r\n  accountId:any;\r\n  isEsignScreen:boolean = false;\r\n  constructor(private router:Router,private ls: LocalStoreService,public dialog: MatDialog,private cdr:ChangeDetectorRef, private accountService: AccountService) { }\r\n\r\n  ngOnInit(){\r\n    this.accountId = this.ls.getItem('accountId');\r\n    this.isEsignScreen = this.ls.getItem('eSignStage');\r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n      this.accountId = this.ls.getItem('accountId');\r\n      this.isEsignScreen = this.ls.getItem('eSignStage');\r\n    \r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  goToDetail(item){\r\n    console.log(item);\r\n    this.router.navigate([`/home/${item.state}`]);\r\n  }\r\n  goToDigitalSign() {\r\n    const dialogRef = this.dialog.open(DigitalsignSummaryComponent, { \r\n      height: '55%',\r\n      width: '40%',\r\n      disableClose: true });\r\n    dialogRef.afterClosed().subscribe((submit) => {\r\n    })\r\n\r\n  }\r\n  goToDigitalSignViewSummary() {\r\n    const dialogRef = this.dialog.open(DigitalViewSummaryComponent, { \r\n      height: '55%',\r\n      width: '40%',\r\n      disableClose: true });\r\n    dialogRef.afterClosed().subscribe((submit) => {\r\n    })\r\n\r\n  }\r\n\r\n  goToDigitalSigningOptions() {\r\n    this.ls.setItem('CARD_DIGITAL_STAGE_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigateByUrl('/cardaccount/digitalsigning/options');\r\n  }\r\n\r\n}","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. ­­­­­­­­\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-8\"*ngIf=\"isEsignScreen\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Entry Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\"(click)=\"goToDigitalSignViewSummary()\">\r\n                    View Summary\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n        <!-- Card 1 start-->\r\n        <mat-card>\r\n            <mat-card-header>\r\n                <mat-card-title>1.Digital Signing</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                       <div fxFlex=\"50%\" class=\"txtclr\">\r\n                            <p> Customer can either sign now or sign later.</p>\r\n                       </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/Mask Group 55.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <div class=\"mb-1\" *ngIf=\"isEsignScreen\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div>\r\n                <!--end::Progress-->\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isEsignScreen\">\r\n                    <button mat-button (click)=\"goToDigitalSign()\" color=\"primary\" class=\"pl-27\">\r\n                      View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                  </ng-container>\r\n          \r\n                  <a mat-button\r\n                  (click)=\"goToDigitalSigningOptions()\"\r\n                       *ngIf=\"!isEsignScreen\" color=\"primary\" class=\"pl-27\">\r\n                    Add Details <mat-icon>chevron_right</mat-icon>\r\n                  </a>\r\n                <!-- <ng-container> -->\r\n                    <!-- <a\r\n                      mat-button\r\n                      [routerLink]=\"['/cardaccount/digitalsigning/options']\"\r\n                      color=\"primary\"\r\n                    >\r\n                    {{ isEsignScreen ? \"Show Details\" : \"Add Details\" }}\r\n                    <mat-icon>chevron_right</mat-icon>\r\n                    </a> -->\r\n                    <!-- <button mat-button color=\"primary\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button> -->\r\n                <!-- </ng-container> -->\r\n\r\n                <!-- <ng-template #showLoan>\r\n                    <button mat-button color=\"primary\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template> -->\r\n\r\n\r\n            </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n\r\n\r\n</div>","<div class=\"matcard-size\">\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n            <img src=\"assets/images/svg/Mask Group 6.svg\" alt=\"\" class=\"w-90\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Document Upload</b></div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-24\">\r\n        <h2 class=\"ml-16\">Document Details</h2>\r\n        <div class=\"mt-24\"></div>\r\n    <mat-card *ngFor=\"let item of docholder; let m=index;\">\r\n        <label><span style=\"font-size: 20px;\">Customer Name({{m+1}}/{{docholder.length}}) :</span>&nbsp;&nbsp; {{item.firstName}}&nbsp;{{item?.middleName}}&nbsp;{{item.lastName}}</label>\r\n        <div>\r\n             <app-genric-document-upload [screenInfo]=\"screenInfo[m]\"></app-genric-document-upload>\r\n            \r\n       \r\n        </div>\r\n  \r\n    </mat-card>\r\n    </div>\r\n    <!-- <div>\r\n        <table>\r\n            <tr>\r\n                <td>\r\n\r\n                    <button  mat-raised-button type=\"button\"\r\n                        id=\"auto_trigger\">\r\n                        <mat-icon color=\"primary\">add</mat-icon>DOCUMENT\r\n                    </button>\r\n\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div> -->\r\n    <div fxFlex=\"100\" class=\"mt-16\">\r\n        <button mat-stroked-button class=\"Backbtn\" (click)=\"goBack()\">BACK</button>\r\n        <span fxFlex></span>\r\n        <button class=\"Nextbtn\" mat-raised-button color=\"primary\" [disabled]=\"disableNextAtIndex1\" type=\"button\" (click)=\"goNext()\">Next</button>\r\n    \r\n    </div>\r\n</div>\r\n</div>","import { ChangeDetectorRef, Component, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { MatTabChangeEvent } from \"@angular/material/tabs\";\r\nimport { Router } from \"@angular/router\";\r\n\r\nimport { WebcamImage } from \"ngx-webcam\";\r\nimport { Subject, Observable, Subscription } from \"rxjs\";\r\nimport Swal from 'sweetalert2'\r\nimport { HttpClient, HttpEventType } from \"@angular/common/http\";\r\nimport { ApiService, LINK_URL } from \"app/shared/services/api.service\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { MatProgressBar } from \"@angular/material/progress-bar\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { DataService } from \"app/shared/services/data.service\";\r\nimport { createWorker } from 'tesseract.js';\r\nimport { Worker } from 'tesseract.js';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { AppLoaderService } from \"app/shared/services/app-loader/app-loader.service\";\r\nimport { CutomerFingerPrintComponent } from 'app/views/others/cutomer-finger-print/cutomer-finger-print.component';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { SucessMessageComponent } from '../sucess-message/sucess-message.component';\r\nimport { DocumentOcrService } from 'app/views/others/genric-document-upload/document-ocr.service';\r\n@Component({\r\n  selector: 'app-document-details',\r\n  templateUrl: './document-details.component.html',\r\n  styleUrls: ['./document-details.component.scss']\r\n})\r\nexport class DocumentDetailsComponent implements OnInit {\r\n  documentForm: FormGroup;\r\n  public webcamImage: WebcamImage = null;\r\n  public webcamImage1: WebcamImage = null;\r\n  scan1: boolean;\r\n  scan2: boolean;\r\n  scan3: boolean;\r\n  scan1Array: boolean[] = [];\r\n  scan2Array: boolean[] = [];\r\n  scan3Array: boolean[] = [];\r\n  public customerId: string = null;\r\n  selectedFiles: any;\r\n  fileUrl: string | ArrayBuffer;\r\n  backSelected: any;\r\n  frontSelected: any;\r\n  othersSelected: any;\r\n  image: any;\r\n  imageURL: any;\r\n  imageURL1: any;\r\n  imageURL2: any;\r\n  displayVal: boolean;\r\n  frontImageArray: any[] = [];\r\n  backImageArray: any[] = [];\r\n  otherImageArray: any[] = [];\r\n  otherDocumentArray: any[] = [];\r\n  boxArray: any[] = [];\r\n  documents_Type: string[];\r\n  documentsList: any;\r\n  displayVal1: boolean;\r\n  displayVal2: boolean;\r\n  customer_Id: string;\r\n  @ViewChild(MatProgressBar) progressBar: MatProgressBar;\r\n  //document_type: string;\r\n  document_type: string[] = [\"6\", \"7\", \"8\"];\r\n  custDocExist: boolean = false;\r\n  sanitizer: any;\r\n  doc: any;\r\n  doc_list: any;\r\n  selectedOptions2: any[] = [];\r\n  documentSide: number = null;\r\n  frontImage: any = null;\r\n  backImage: any = null;\r\n  otherImage: any = null;\r\n  uploadSub: Subscription;\r\n  secondBoxArray: boolean[] = [];\r\n  disableNext: boolean;\r\n  thirdBoxArray: boolean[] = [];\r\n  webcamImage2: WebcamImage;\r\n  ocrResult = 'Recognizing...';\r\n  name: any;\r\n  ocrFlag: boolean;\r\n  selectedDocumentTypes2: any[] = [];\r\n  namePancard: string;\r\n  nameOnCard: any[] = [];\r\n  dob: any;\r\n  dobArray: any[] = [];\r\n  panNumber: any;\r\n  idNumberArray: any[] = [];\r\n  docarr: any[] = [];\r\n  pancard: boolean;\r\n  dateOfIssue: any;\r\n  dateOfExpiry: any;\r\n  backSideId: any;\r\n  frontSideId: any;\r\n  otherSideId: any;\r\n  enableAadharReadOnly: boolean;\r\n  nameDoc: string;\r\n  address: string;\r\n  addressArray: any[] = [];\r\n  undefinedCheck: boolean;\r\n  addressDisplay: boolean;\r\n  dataFetched: boolean = false;\r\n  dataFetchedValue: string;\r\n  boxArray2: any[] = [];\r\n  boxArray3: any[] = [];\r\n  x: any;\r\n  temp: any;\r\n  temp2: any;\r\n  doc_name: any[] = [];\r\n  docholder:any[]= [];\r\n  docuNameArray: any[] = [];\r\n  docuName: any;\r\n  arrayOfImageArrays0: any[] = [];\r\n  arrayOfImageArrays1: any[] = [];\r\n  arrayOfImageArrays2: any[] = [];\r\n  secondKey: any;\r\n  page_id: any;\r\n  docValArray: any[] = [];\r\n  docarray1:any=[];\r\n  docum_name: any;\r\n  document_side: any;\r\n  newOtherPage: boolean = false;\r\n  disableNextAtIndex1: boolean = true;\r\n  \r\n  OtherpageGroup: FormGroup;\r\n  otherpagerray: FormArray;\r\n  deleterecord:any;\r\n  otherDocumentSelected: any;\r\n  otherDocumentSideId: any;\r\n  childindex: any;\r\n  otherDocPages: any[]=[];\r\n  otherDocumentArray2: any[]=[];\r\n  newDocumentSide: any;\r\n  fetchChildIndex: number;\r\n  isDocumentUploadDone: boolean = false;\r\n  isDocumentUpload: boolean = false;\r\n  cardId: any;\r\n  link: Promise<boolean>;\r\n  custId: any;\r\n  screenInfo: any = [];\r\n  screen: any;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private tokenService: ApiService,\r\n    public dialog: MatDialog,\r\n    private router: Router,\r\n    private fb: FormBuilder,\r\n    private snack: MatSnackBar,\r\n    private ls: LocalStoreService,\r\n    private shareDataService: DataService,\r\n    private cdr: ChangeDetectorRef,\r\n    private api: ApiService,\r\n    private dialogService: DialogService,\r\n    private loader: AppLoaderService,\r\n    private accountService:AccountService,\r\n    private appApiService: ApplicationEntryStageService,\r\n    private doOcrService:DocumentOcrService,\r\n  ) {\r\n  }\r\n  loading: boolean;\r\n  ff: boolean = false;\r\n  bf: boolean = false;\r\n  index: string[];\r\n  document_name: string[];\r\n  documentTypeArr: string[];\r\n  docName: any = \"document_name\";\r\n  backSideValue: any;\r\n  progressValFrontArray:number[]=[];\r\n  progressValBackArray:number[]=[];\r\n  progressValOthersArray:number[]=[];\r\n  progressValOtherDocumentArray:any[]=[];\r\n  customerDocs: any = [];\r\n  // Refresh customer id issue\r\n  refreshCustomerId: any;\r\n  docType:any;\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem('cardId');\r\n    this.appApiService.fetchCardCustomersByCardId(this.cardId ,'cardOrigin')\r\n      .subscribe((resp: any) => {\r\n        for(let i=0;i<=resp.data.length; i++){\r\n        this.screen= {\r\n          screenName: \"Cad Document Upload\",\r\n          name:resp.data[i].firstName,\r\n          data: \"\",\r\n          customerId: resp.data[i].customerId,\r\n          cifNumber:resp.data[i].cifNumber\r\n        }\r\n        this.screenInfo.push(this.screen);};\r\n})// )\r\nconsole.log(this.screenInfo);\r\n    //this.addotherpage(0,1);\r\n    this.customerId = sessionStorage.getItem(\"customer_id\");\r\n    this.customer_Id = sessionStorage.getItem('customer_id');\r\n //   this.cardId = this.ls.getItem('cardId');\r\n    this.addCustomer();\r\n    this.getCustomerInformationDetails();\r\n    \r\n    this.documentForm = this.fb.group({\r\n      documentName: [\"\", [Validators.required]],\r\n      frontSide: [\"\", [Validators.required]],\r\n      backSide: [\"\"],\r\n      others: [\"\"],\r\n      items:this.fb.array([this.inititemrows('')])\r\n    });\r\n    this.doc_name=[\"Aadhar card\",\"Pan card\",\"Passport\"];\r\n    this.docValArray=['frontSide','backSide','others'];\r\n    this.tokenService.getDropDownValues(this.docName).subscribe((resp) => {\r\n      this.document_name = resp;\r\n    });\r\n    this.tokenService.getDropDownValues('document_type').subscribe((resp) => {\r\n      this.documentTypeArr = resp;\r\n    });\r\n    this.api.getName().subscribe((resp) => {\r\n      this.assignName(resp.name);\r\n    })\r\n    this.api.getOCR().subscribe(resp => {\r\n    })\r\n    this.shareDataService.getCustomerId.subscribe(cId => {\r\n      this.api.getOCR().subscribe(resp => {\r\n        console.log(\"ocr resp from backend \", resp);\r\n        this.assignOCRValues(resp);\r\n      })\r\n      console.log(\"cId=\", cId);\r\n      // if (47953 !== null) {\r\n      //   this.refreshCustomerId = cId;\r\n      //   this.getCustomerDocuments(cId);\r\n      //   console.log(\"cId=\", cId);\r\n      // }\r\n     \r\n    })\r\n    this.doOcrService.getenableNext()\r\n    .subscribe(data=>{\r\n      console.log(\"data disableNextAtIndex1 :: \",data);\r\n      this.disableNextAtIndex1=data;\r\n    });\r\n\r\n    //this.customerId = this.ls.getItem('customer_id');\r\n    this.documentForm.valueChanges.subscribe(data => {\r\n      if (data.doc_list.length > 0) {\r\n        console.log(\"data.doc_list.length\", data.doc_list.length);\r\n        this.selectedOptions2 = [];\r\n        data.doc_list.forEach((element, index) => {\r\n          this.selectedOptions2.push(element.documentType);\r\n        });\r\n      }\r\n\r\n    })\r\n    this.api.getKycDataFetchedInfo()\r\n      .subscribe(data => {\r\n        this.documentForm = this.fb.group({\r\n          documentsList: this.fb.array([this.createItem()]),\r\n          doc_list: (data === 'DATA FETCH') ? this.fb.array([]) : this.fb.array([this.createDocItem()]),\r\n          id: [\"\"],\r\n          upload: [\"\", [Validators.required]],\r\n        });\r\n        if (data === 'DATA FETCH') {\r\n          this.dataFetched = true;\r\n          this.dataFetchedValue = data;\r\n        }\r\n        else {\r\n          this.dataFetched = false;\r\n        }\r\n      })\r\n      this.disableNext=true;\r\n      //console.log(item.value);\r\n  }\r\n  addCustomer(){\r\n    this.docarr.push(this.inititemrows(''));\r\n  }\r\n  addCust(){\r\n    this.docarr.push(this.inititemrows(''));\r\n  }\r\n  inititemrows(item){\r\n    return this.fb.group({\r\n      id: item ? item.id : [''],\r\n     \r\n      fileUrl: item ? item.fileUrl : [''],\r\n    })\r\n  }\r\n  addDocumentlist(data:any) {\r\n    this.newOtherPage=false;\r\n    this.disableNext=true;\r\n    for(let i=0;i<= data.data.length-1;i++){\r\n    //this.doc_list = this.documentForm.get('doc_list') as FormArray;\r\n    this.documentsList = this.documentForm.get('documentsList') as FormArray;\r\n    this.documentsList.push(this.createItem());\r\n    this.doc_list.push(this.createDocItem());\r\n    }\r\n  }\r\n\r\n  addDocuments() {\r\n    this.newOtherPage=false;\r\n    this.disableNext=true;\r\n    //this.doc_list = this.documentForm.get('doc_list') as FormArray;\r\n    this.documentsList = this.documentForm.get('documentsList') as FormArray;\r\n    this.documentsList.push(this.createItem());\r\n    this.doc_list.push(this.createDocItem());\r\n  }\r\n  \r\n  createDocItem() {\r\n    return this.fb.group({\r\n      documentName: [\"\", [Validators.required]],\r\n      frontSide: [\"\", [Validators.required]],\r\n      backSide: [\"\"],\r\n      others: [\"\"],\r\n      fileUrl: [\"\"]\r\n    });\r\n  }\r\n\r\n  createItem() {\r\n    return this.fb.group({\r\n      id: [\"\"],\r\n      documentName: [\"\", Validators.required],\r\n      documentType: [\"\"],\r\n    });\r\n  }\r\n\r\n  assignOCRValues(resp) {\r\n    console.log(resp);\r\n    this.dob = resp.dob;\r\n    this.namePancard = resp.namePancard;\r\n    this.panNumber = resp.panNumber;\r\n    this.frontImageArray[0] = resp.imageOCR;\r\n    //added code\r\n    this.backImageArray[0] = resp.imageOCRBack;\r\n    //added code\r\n    if (resp.imageOCRBack) {\r\n      this.backImageArray[0] = resp.imageOCRBack;\r\n      this.secondBoxArray[0] = true;\r\n      this.address = resp.address;\r\n      this.addressDisplay = true;\r\n      this.progressValBackArray[0] = 100;\r\n    }\r\n    const hasNonEmptyFields = Object.values(resp).some((value) => Boolean(value))\r\n      console.log(\"hasNonEmptyFields\", hasNonEmptyFields)\r\n    if (hasNonEmptyFields) {\r\n      this.documentForm.get('documentName').patchValue('Aadhar card');\r\n      console.log(this.documentForm.get('documentName'));\r\n      this.progressValFrontArray[0] = 100;\r\n      //this.enableAadharReadOnly = true;\r\n      this.disableNext=true;\r\n      this.pancard = true;\r\n    }\r\n  }\r\n\r\n  delete(report, value, i) {\r\n    this.docum_name=report.documentName;\r\n    this.customerId = sessionStorage.getItem(\"customer_id\");\r\n    if (value == 2) {\r\n      this.secondBoxArray[i] = false;\r\n      this.addressDisplay = false;\r\n      this.progressValBackArray[i] = 0;\r\n      this.backImageArray[i] = null;\r\n      this.backSelected = null;\r\n      this.document_side=value;\r\n  \r\n        this.api.deleteCustDoc(this.customerId, this.docum_name, this.document_side).subscribe((data) => {\r\n      });\r\n    }\r\n    if (value == 3) {\r\n      this.thirdBoxArray[i] = false;\r\n      this.progressValOthersArray[i] = 0;\r\n      this.otherImageArray[i] = null;\r\n      this.othersSelected = null;\r\n      this.document_side=value;\r\n    \r\n        this.api.deleteCustDoc(this.customerId, this.docum_name, this.document_side).subscribe((data) => {\r\n      });\r\n    }\r\n    this.disableNext = false;\r\n  }\r\n  getCustomerInformationDetails() {\r\n    this.appApiService.fetchCardCustomersByCardId(this.cardId ,'cardOrigin')\r\n      .subscribe((resp: any) => {\r\n        console.log(resp.data);\r\n        console.log(resp.data.customerId);\r\n        this.docholder=resp.data;\r\n        \r\n        for(let i=0;i<= resp.data.length-1;i++){\r\n          this.getCustomerDocuments(resp.data[i].customerId); \r\n        }\r\n       \r\n        console.log(this.docholder);\r\n        this.addDocumentlist(resp);\r\n        //this.buildCustomerForm(resp);\r\n      }, (err: any) => {\r\n      });\r\n  }\r\n\r\n  deleteOtherDocument(report, i, k){\r\n    this.docum_name=report.documentName;\r\n    this.customerId = sessionStorage.getItem(\"customer_id\");\r\n   this.newDocumentSide=k+4;\r\n    if(this.docarray1[i][k]){\r\n      \r\n    this.docarray1[i].pop();\r\n    this.otherDocumentArray[i][k]=null;\r\n   }\r\n  else{\r\n   }\r\n   this.api.deleteCustDoc(this.customerId, this.docum_name, this.newDocumentSide).subscribe((data) => {\r\n    \r\n  });\r\n\r\n    \r\n  }\r\n\r\n  assignName(name: any) {\r\n    this.name = name.toLowerCase();\r\n  }\r\n  addotherpage(a){\r\n   if(this.docarray1[a]){\r\n    this.docarray1[a].push(this.inititemrows(''));\r\n  }\r\n  else{\r\n    var otherArray=[this.inititemrows('')];\r\nthis.docarray1[a] = otherArray;\r\n  this.otherDocumentArray[a] = [];\r\n  this.progressValOtherDocumentArray[a]=[];\r\n  }\r\n  }\r\n  createOtherForm(item): FormGroup{\r\n    return this.fb.group({\r\n      id: [\"\"],\r\n     // documentType: [\"\", Validators.required],\r\n      fileData: item ? item.fileData : [''],\r\n      fileUrl: item ? item.fileUrl : [''],\r\n    })\r\n  }\r\n\r\n  goNext(){\r\n    this.ls.setItem('CARD_DOCUMENT_STAGE_DONE',true);\r\n    this.ls.setItem('CARD_DOCUMENT_DONE',true);\r\n    this.ls.setItem('CARD_ENRICHMENT_DONE',true);\r\n    this.accountService.refresh.next(); \r\n    this.router.navigate([`/cardaccount/applicationEnrichment/list`]);\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\r\n      `/cardaccount/documentupload/list`,\r\n    ]);\r\n  }\r\n  private trigger: Subject<void> = new Subject<void>();\r\n\r\n  triggerSnapshot(i): void {\r\n    this.trigger.next();\r\n    this.scan1Array[i] = false;\r\n    this.scan2Array[i] = false;\r\n    this.scan3Array[i] = false;\r\n  }\r\n\r\n  callingBox2(i) {\r\n    this.secondBoxArray[i] = true;\r\n    this.disableNext = true;\r\n    //this.enableAadharReadOnly = false;\r\n    console.log(this.secondBoxArray[i]);\r\n  }\r\n\r\n  callingBox3(i) {\r\n    this.thirdBoxArray[i] = true;\r\n    this.disableNext = true;\r\n    this.newOtherPage=true;\r\n    //this.enableAadharReadOnly = false;\r\n  }\r\n\r\n   doOCR(img, docVal, selectedFile, docSideEnum, i) {\r\n    const worker = createWorker({\r\n      logger: m => console.log(m)\r\n    });\r\n    (async () => {\r\n      this.loader.open();\r\n      await worker.load();\r\n      await worker.loadLanguage('eng');\r\n      await worker.initialize('eng');\r\n      const { data: { text } } = await worker.recognize(img);\r\n      this.loader.close();\r\n      if (docSideEnum === 3) {\r\n        this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        return;\r\n      }if (docSideEnum > 3) {\r\n        this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        return;\r\n      }\r\n      if (this.documentForm.value.documentsList[i].documentName === 'Pan card') {\r\n        const panCardDetails = this.panCardParser(text);\r\n        this.nameDoc = panCardDetails.name.toLowerCase();\r\n      }\r\n      if (this.documentForm.value.documentsList[i].documentName == 'Passport') {\r\n        const passbookDetails = this.passportParser(text);\r\n        this.nameDoc = passbookDetails.name.toLowerCase();\r\n        if (!this.nameDoc) {\r\n          this.shotToast(\"The document is not a valid Passport\");\r\n          return;\r\n        }\r\n      }\r\n      if (this.documentForm.value.documentsList[i].documentName == 'Aadhar card' && docSideEnum == '1')\r\n      //if(docSideEnum == '1')\r\n      {\r\n        const aadharDetails = this.aadharParser(text);\r\n        this.nameDoc = aadharDetails.fullName.toLowerCase();\r\n        let result = /^([a-z]){2,30}$/.test(this.nameDoc.replace(/\\s/g, \"\"));\r\n        if (result === false) {\r\n          // this.shotToast(\"Name in the document: \" + aadharDetails.fullName + \" is invalid\");\r\n          this.shotToast(\"The document is not a valid Aadhar card\");\r\n          return;\r\n        }\r\n      }\r\n      if (this.documentForm.value.documentsList[i].documentName == 'Aadhar card' && docSideEnum == '2')\r\n      //if(docSideEnum == '2')\r\n      {\r\n        const aadharDetails = this.aadharParser(text);\r\n        \r\n        let address = text.split(\",\");\r\n        for (let index = 0; index < address.length; index++) {\r\n          address[index] = address[index].replace(/[^a-zA-Z ]/g, \"\");\r\n          console.log(\"array after removing special characters \", address[index])\r\n        }\r\n        // console.log(\"array after removing special characters \",address)\r\n        if (address[2] === undefined) {\r\n          address[2] = '';\r\n        }\r\n        if (address[5] === undefined) {\r\n          address[5] = '';\r\n        }\r\n        if (address[6] === undefined) {\r\n          address[6] = '';\r\n        }\r\n        if (address[7] === undefined) {\r\n          address[7] = '';\r\n        }\r\n        if (address[2] === undefined && address[5] === undefined && address[6] === undefined && address[7] === undefined) {\r\n          this.addressDisplay = false;\r\n          return;\r\n        }\r\n        if (address[2] === '' && address[5] === '' && address[6] === '' && address[7] === '') {\r\n          this.addressDisplay = false;\r\n          return;\r\n        }\r\n        // this.addressArray[i] = address[2] + \",\" + address[5] + \",\" + address[6] + \",\" + address[7];\r\n        this.addressArray[i] = address[3] + \",\" + address[5] + \",\" + address[7] ;\r\n        this.addressDisplay = true;\r\n        this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        // this.backImageArray[i] = img;\r\n      }\r\n    \r\n      console.log(text.includes(this.name));\r\n      this.ocrFlag = text.includes(this.name);\r\n\r\n      if (docSideEnum == '1' && (this.nameDoc.replace(/\\s/g, \"\") !== this.name.replace(/\\s/g, \"\"))) {\r\n       \r\n        this.dialogService.confirmationDialog(this.nameDoc, this.name).subscribe((response) => {\r\n          console.log(response)\r\n          if (response == \"No\") {\r\n            this.changeValue2_Ocr(docVal, i);\r\n          }\r\n          if (response == \"Yes\") {\r\n\r\n            if (this.documentForm.value.documentsList[i].documentName == 'Pan card') {\r\n              const panCardDetails = this.panCardParser(text);\r\n              this.nameOnCard[i] = panCardDetails.name.toLowerCase();\r\n              this.dobArray[i] = panCardDetails.dateOfBirth;\r\n              this.idNumberArray[i] = panCardDetails.panNumber;\r\n              this.pancard = true;\r\n              this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n            }\r\n            if (this.documentForm.value.documentsList[i].documentName == 'Passport') {\r\n              const passbookDetails = this.passportParser(text);\r\n              this.nameOnCard[i] = passbookDetails.name.toLowerCase();\r\n              this.dobArray[i] = passbookDetails.dob;\r\n              this.idNumberArray[i] = passbookDetails.issueNoString;\r\n              this.dateOfIssue = passbookDetails.dateOfIssue;\r\n              this.dateOfExpiry = passbookDetails.dateOfExpiry;\r\n              this.pancard = true;\r\n              this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n            }\r\n            if (this.documentForm.value.documentsList[i].documentName == 'Aadhar card') {\r\n              const aadharDetails = this.aadharParser(text);\r\n              this.nameOnCard[i] = aadharDetails.fullName.toLowerCase();\r\n              this.dobArray[i] = aadharDetails.dob;\r\n              this.idNumberArray[i] = aadharDetails.adharNumber;\r\n              this.pancard = true;\r\n              this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n            }\r\n            else{\r\n              this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n            }\r\n\r\n          }\r\n        });\r\n\r\n      }\r\n      else if (docSideEnum == '1' && (this.nameDoc.replace(/\\s/g, \"\") == this.name.replace(/\\s/g, \"\"))) {\r\n        if (this.documentForm.value.documentsList[i].documentName == 'Pan card') {\r\n          const panCardDetails = this.panCardParser(text);\r\n          this.nameOnCard[i] = panCardDetails.name.toLowerCase();\r\n          this.dobArray[i] = panCardDetails.dateOfBirth;\r\n          this.idNumberArray[i] = panCardDetails.panNumber;\r\n          this.pancard = true;\r\n          this.uploadDoc(img,selectedFile, docVal, docSideEnum, i);\r\n        }\r\n        if (this.documentForm.value.documentsList[i].documentName == 'Passport') {\r\n          const passbookDetails = this.passportParser(text);\r\n          this.nameOnCard[i] = passbookDetails.name.toLowerCase();\r\n          this.dobArray[i] = passbookDetails.dob;\r\n          this.idNumberArray[i] = passbookDetails.issueNoString;\r\n          this.dateOfIssue = passbookDetails.dateOfIssue;\r\n          this.dateOfExpiry = passbookDetails.dateOfExpiry;\r\n          this.pancard = true;\r\n          this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        }\r\n        if (this.documentForm.value.documentsList[i].documentName == 'Aadhar card') {\r\n          const aadharDetails = this.aadharParser(text);\r\n          this.nameOnCard[i] = aadharDetails.fullName.toLowerCase();\r\n          this.dobArray[i] = aadharDetails.dob;\r\n          this.idNumberArray[i] = aadharDetails.adharNumber;\r\n          this.pancard = true;\r\n          this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        }\r\n        else{\r\n          this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        }\r\n      }\r\n      await worker.terminate();\r\n    })();\r\n  }\r\n  aadharParser = (str) => {\r\n    try {\r\n      let adharNumber,\r\n        dob,\r\n        name,\r\n        nameLineIndex = 2;\r\n      const asciiStr = str.replace(/[^\\x00-\\x7F]/g, \"\").trim();\r\n      const lines = asciiStr.split(\"\\n\");\r\n\r\n      for (let i = lines.length - 1; i >= 0; i--) {\r\n        let count = 0,\r\n          startIndex = -1;\r\n        for (let j = 0; j < lines[i].length; j++) {\r\n          if (lines[i][j] >= \"0\" && lines[i][j] <= \"9\") {\r\n            count++;\r\n            if (startIndex === -1) startIndex = j;\r\n          }\r\n        }\r\n        if (count >= 12) {\r\n          adharNumber = lines[i].substr(startIndex, startIndex + 14);\r\n        }\r\n      }\r\n\r\n      for (let i = 0; i < lines.length; i++) {\r\n        [\"DOB\", \"Year of Birth\"].some((docString) => {\r\n          const dobIndex = lines[i].indexOf(docString);\r\n          if (dobIndex !== -1) {\r\n            dob = lines[i]\r\n              .trim()\r\n              .slice(dobIndex, lines[i].length)\r\n              .split(\" \")\r\n              .pop();\r\n            nameLineIndex = i - 1;\r\n            console.log(dob);\r\n          }\r\n        });\r\n      }\r\n\r\n      const names = lines[nameLineIndex]\r\n        .split(\" \")\r\n        .filter((x) => x.length > 1)\r\n        .join(\" \");\r\n      console.log(names);\r\n      return {\r\n        dob,\r\n        adharNumber,\r\n        fullName: names,\r\n      };\r\n    } catch (error) {\r\n      console.log(error);\r\n      console.error(\"Unable to parse aadhar\");\r\n    }\r\n  };\r\n\r\n  handleImage(webcamImage: WebcamImage, i): void {\r\n    this.webcamImage = webcamImage;\r\n    this.fun(this.webcamImage, i);\r\n  }\r\n  handleImage1(webcamImage: WebcamImage, i): void {\r\n    this.webcamImage1 = webcamImage;\r\n    this.fun1(this.webcamImage1, i);\r\n  }\r\n\r\n  isDocumentOptionDisabled2 = (value) => {\r\n    return this.selectedOptions2.includes(value);\r\n  }\r\n\r\n  changeValue2(value:any, i) {\r\n    this.disableNext=true;\r\n    if (this.selectedDocumentTypes2[i]) {\r\n      this.selectedOptions2 = this.selectedOptions2.filter(val => val !== this.selectedDocumentTypes2[i])\r\n    }\r\n    this.selectedDocumentTypes2[i] = value;\r\n    this.selectedOptions2.push(value);\r\n\r\n    this.secondBoxArray[i] = false;\r\n    this.thirdBoxArray[i] = false;\r\n    this.frontImageArray[i] = '';\r\n    this.backImageArray[i] = '';\r\n    this.otherImageArray[i] = '';\r\n    this.backSelected = '';\r\n    this.frontSelected = '';\r\n    this.othersSelected = '';\r\n    this.progressValFrontArray[i] = 0;\r\n    this.progressValBackArray[i] = 0;\r\n    this.pancard = false;\r\n    console.log(\"i=\", i);\r\n  }\r\n  panCardParser = (str) => {\r\n    try {\r\n      const asciiStr = str.replace(/[^\\x00-\\x7F]/g, \"\");\r\n      const startIndex = asciiStr.indexOf(\"Permanent\");\r\n      const nameIndex = asciiStr.indexOf(\"Name\");\r\n\r\n      const panNumber = asciiStr.slice(startIndex, nameIndex).match(\"[A-Z]{5}[0-9]{4}[A-Z]{1}\")[0]; // Returns ain,ain,ain\r\n\r\n      const fatherNameIndex = asciiStr.indexOf(\"Father's Name :\");\r\n      //const slicedStr = asciiStr.slice(fatherNameIndex, str.length).split('\\n');\r\n\r\n      const nameString = asciiStr.slice(nameIndex, fatherNameIndex).split(\"\\n\"); // .find(str => str.length > 3);\r\n      const displayName = nameString[1].split(\" \");\r\n      const dobString = asciiStr.slice(asciiStr.indexOf(\"Date of Birth\"), asciiStr.length);\r\n      const dob = dobString.split(\"\\n\")[1].split(\" \")[0];\r\n      return {\r\n        panNumber,\r\n        name: `${displayName[0]} ${displayName[1]}`,\r\n        dateOfBirth: dob\r\n\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      console.error(\"Unable to parse pan card\");\r\n      this.snack.open('Please Upload Valid Document', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    }\r\n  };\r\n\r\n  passportParser = (str) => {\r\n    try {\r\n      let dateOfIssue, dateOfExpiry;\r\n      const asciiStr = str.replace(/[^\\x00-\\x7F]/g, \"\");\r\n      const nameIndex = asciiStr.indexOf(\"Given Name\");\r\n      const lines = asciiStr.slice(nameIndex, asciiStr.length).split(\"\\n\");\r\n      const doIssueIndex =\r\n        lines.findIndex((line) => line.indexOf(\"Date of Issue\") > -1) + 1;\r\n      if (doIssueIndex > 0) {\r\n        const dates = lines[doIssueIndex].split(\" \");\r\n        dateOfIssue = dates[dates.length - 2];\r\n        dateOfExpiry = dates[dates.length - 2];\r\n      }\r\n\r\n      const nationalityIndex = asciiStr.indexOf(\"Nationality\");\r\n      const dob = asciiStr\r\n        .slice(nationalityIndex, asciiStr.length)\r\n        ?.split(\"\\n\")[1]\r\n        .split(\" \")\r\n        .pop();\r\n\r\n      let issueNoString;\r\n      const issueNoStringArray = asciiStr.trim().split(\"\\n\");\r\n      for (let i = issueNoStringArray.length - 1; i >= 0; i--) {\r\n        if (issueNoStringArray[i].includes(\"<\")) {\r\n          issueNoString = issueNoStringArray[i].substr(\r\n            0,\r\n            issueNoStringArray[i].indexOf(\"<\")\r\n          );\r\n          break;\r\n        }\r\n      }\r\n\r\n      return {\r\n        dob,\r\n        name: lines[1],\r\n        issueNoString,\r\n        dateOfIssue,\r\n        dateOfExpiry,\r\n      };\r\n    } catch (error) {\r\n      console.error(\"Unable to parse passport\");\r\n    }\r\n  };\r\n\r\n\r\n  changeValue2_Ocr(docVal, i) {\r\n    if (docVal === 'frontSide') {\r\n      this.frontImageArray[i] = '';\r\n      this.frontSelected = '';\r\n      this.progressValFrontArray[i] = 0;\r\n    }\r\n    if (docVal === 'backSide') {\r\n      this.secondBoxArray[i] = false;\r\n      this.backImageArray[i] = '';\r\n      this.backSelected = '';\r\n      this.progressValBackArray[i] = 0;\r\n    }\r\n    if (docVal === 'others') {\r\n      this.thirdBoxArray[i] = false;\r\n      this.otherImageArray[i] = '';\r\n      this.othersSelected = '';\r\n      this.progressValOthersArray[i] = 0;\r\n      //this.enableAadharReadOnly = true;\r\n      this.disableNext=true;\r\n    }\r\n  }\r\n  j(arg0: string, j: any) {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n\r\n  handleImage2(webcamImage: WebcamImage, i): void {\r\n    console.log(i);\r\n    this.webcamImage2 = webcamImage;\r\n    this.function2(this.webcamImage2, i);\r\n  }\r\n  function2(webcamImage, i) {\r\n    console.log(i);\r\n    const cId: string = this.customerId;\r\n    const uploadData2 = new FormData();\r\n    const data = {\r\n      customerId: this.refreshCustomerId,\r\n      documentName: this.documentForm.value.documentName,\r\n      documentType: \"3\",\r\n      fileType: webcamImage._mimeType,\r\n      fileName: \"doc\",\r\n      verificationType: \"KYC verification\",\r\n      documentSide: 3,\r\n      idNumber: this.panNumber\r\n    };\r\n    console.log(webcamImage.imageAsDataUrl);\r\n    this.otherImageArray[i] = webcamImage.imageAsDataUrl;\r\n    // this.doOCR(this.imageURL2);\r\n    this.displayVal2 = false;\r\n    let file = this.dataURLtoFile(webcamImage.imageAsDataUrl, \"Aadhar\");\r\n\r\n    uploadData2.append(\"data\", JSON.stringify(data));\r\n\r\n    uploadData2.append(\"file\", file);\r\n    this.tokenService.upload(uploadData2).subscribe(\r\n      (res: any) => {\r\n        this.progressValOthersArray[i] = 100;\r\n        if (res.type === 4) {\r\n          if (res.body) {\r\n            console.log(\"res.body.id\", res.body.id);\r\n            this.assignIdValues(\"others\", res.body.id);\r\n          }\r\n        }\r\n        this.documentForm.get(\"backSide\").patchValue(true);\r\n      }, (error) => {\r\n        if (error.status == 201) {\r\n          this.ff = true;\r\n          this.documentForm.get(\"backSide\").patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  public get triggerObservable(): Observable<void> {\r\n    return this.trigger.asObservable();\r\n  }\r\n\r\n  tabClick(event: MatTabChangeEvent) {\r\n    const tab = event.tab.textLabel;\r\n\r\n    if (tab === \"Documents Upload\") {\r\n      this.router.navigateByUrl(\"/others/documents\");\r\n    }\r\n    if (tab === \"verification\") {\r\n      this.router.navigateByUrl(\"/others/verification\");\r\n    }\r\n    if (tab === \"Basic Information\") {\r\n      this.router.navigateByUrl(\"/others/kyc\");\r\n    }\r\n  }\r\n  onNext(documentForm) {\r\n   \r\n    this.documentForm.reset();\r\n    this.tokenService.setIndex({\r\n      index: 2,\r\n      // index: 0,\r\n    });\r\n    this.tokenService.setFinishFlag({\r\n    //finishFlag: false,\r\n    finishFlag: true,\r\n    });\r\n    //this.documentForm.reset();\r\n\r\n    this.updateKycStatus();\r\n    localStorage.setItem('page_id', '2');\r\n  }\r\n\r\n  getCustomerDocuments(cId) {\r\n    for (const key in this.document_type) {\r\n      if (Object.prototype.hasOwnProperty.call(this.document_type, key)) {\r\n        const element = this.document_type[key];\r\n        console.log(element, key, cId);\r\n      this.tokenService.getCustomerDocuments(cId, element)\r\n      .subscribe((data) => {\r\n        console.log(key, data, this.documentForm);\r\n        this.customerDocs = data;\r\n        this.docuNameArray=[\"Aadhar card\",\"Pan card\",\"Passport\"];\r\n        console.log(this.documentForm.controls.documentsList['controls']);\r\n        this.documentForm.controls.documentsList['controls'][0].controls.documentName.setValue(this.docuNameArray[0]); \r\n        //this.documentForm.get('documentName').patchValue(this.frontImage.documentName);\r\n\r\n   this.doc_name=[\"Aadhar card\",\"Pan card\",\"Passport\"];\r\n\r\n   for(let j=0; j<this.customerDocs.length; j++)  \r\n     {\r\n        if(this.customerDocs[j])\r\n        {\r\n          console.log(this.customerDocs[j].documentName);\r\n          for(let i=0; i<3; i++)\r\n          { \r\n            if(this.customerDocs[j].documentName==this.doc_name[i] && this.customerDocs[j].documentSide==1)\r\n               {  this.frontImageArray[i]=this.customerDocs[j].fileUrl;\r\n                this.progressValFrontArray[i]=100;\r\n                  console.log(\"index\",i)\r\n                 }  \r\n          }\r\n         for(let i=0; i<3; i++)\r\n          { \r\n           if(this.customerDocs[j].documentName==this.doc_name[i] && this.customerDocs[j].documentSide==2)\r\n             {  this.backImageArray[i]=this.customerDocs[j].fileUrl;\r\n              this.progressValBackArray[i] = 100;\r\n                this.secondBoxArray[i] = true; \r\n               }  \r\n          }\r\n         for(let i=0; i<3; i++)\r\n          {        \r\n          if(this.customerDocs[j].documentName==this.doc_name[i] && this.customerDocs[j].documentSide==3)\r\n             {  this.otherImageArray[i]=this.customerDocs[j].fileUrl;\r\n              this.progressValOthersArray[i] = 100;\r\n                this.thirdBoxArray[i] = true;\r\n               }  \r\n          }\r\n          for(let i=0; i<3; i++)\r\n          {        \r\n          if(this.customerDocs[j].documentName==this.doc_name[i] && this.customerDocs[j].documentSide>3)\r\n             { \r\n               \r\n               this.fetchChildIndex=this.customerDocs[j].documentSide-4;\r\n\r\n            this.newOtherPage=true;\r\n              if(this.docarray1[i]){\r\n               this.docarray1[i].push(this.inititemrows(''));\r\n               \r\n             }\r\n             else{\r\n               var otherArray=[this.inititemrows('')];\r\n           this.docarray1[i] = otherArray;\r\n             this.otherDocumentArray[i] = [];\r\n             }\r\n            this.otherDocumentArray[i][this.fetchChildIndex]=this.customerDocs[j].fileUrl;\r\n            console.log(\"this.otherDocumentArray\",this.otherDocumentArray);\r\n\r\n               }  \r\n          }\r\n        }\r\n        this.disableNext=false;\r\n      }\r\n\r\n     if (this.customerDocs.length > 0) \r\n     {\r\n     \r\n       \r\n        this.page_id=this.ls.getItem('page_id');\r\n        console.log(this.page_id);\r\n        if(this.customerDocs[0].documentName==\"Pan card\" && this.page_id !== 2)\r\n        {\r\n          let element2:HTMLElement = document.getElementById('auto_trigger') as HTMLElement;  \r\n          if(element2){\r\n            console.log(element2);\r\n            element2.click();\r\n            }\r\n            this.disableNext=false;\r\n        } \r\n        this.documentForm.controls.documentsList['controls'][1].controls.documentName.setValue(this.docuNameArray[1]);\r\n\r\n        if(this.customerDocs[0].documentName==\"Passport\" && this.page_id !== 2)\r\n        {\r\n          let element3:HTMLElement = document.getElementById('auto_trigger') as HTMLElement;  \r\n          if(element3){\r\n            console.log(element3);\r\n            element3.click();\r\n            } \r\n            this.disableNext=false;\r\n        }\r\n        this.documentForm.controls.documentsList['controls'][2].controls.documentName.setValue(this.docuNameArray[2]); \r\n\r\n          if (this.frontImage.documentName == 'Pan card') {\r\n            this.panNumber = this.customerDocs.find(item => item.documentSide == 2).idNumber\r\n          }\r\n\r\n          if(this.frontImage.documentName == 'Aadhar card'){\r\n            this.panNumber= this.customerDocs.find(item => item.documentSide == 1).idNumber\r\n          }\r\n          if(this.panNumber){\r\n            this.pancard=true;\r\n          }\r\n\r\n          if (this.frontImage != null) {\r\n            this.progressValFrontArray[0] = 100;\r\n          }\r\n          if (this.backImage != null) {\r\n\r\n            this.progressValBackArray[0] = 100;\r\n          }\r\n          if (this.otherImage != null) {\r\n\r\n            this.progressValOthersArray[0] = 100;\r\n          }\r\n          let payload = {\r\n            documentName: this.customerDocs[0].documentName,\r\n            frontSide: this.customerDocs[0].documentName,\r\n            backSide: this.customerDocs[0].documentName,\r\n          }\r\n          this.documentForm.patchValue(payload);\r\n          console.log(this.customerDocs[0].documentName);\r\n      }\r\n        this.cdr.markForCheck();\r\n        console.log(\"end of api\");\r\n     });\r\n   }\r\n  }\r\n  this.custId = cId\r\n}\r\n  convertBlob(docImage) {\r\n    let objectURL = 'data:image/jpeg;base64,' + docImage;\r\n    let source = this.sanitizer.bypassSecurityTrustUrl(objectURL);\r\n    return source;\r\n  }\r\n\r\n  updateKycStatus() {\r\n    this.tokenService.updateKycStatusByCustId(this.customer_Id, 'UNDER_PROCESS', \"\")\r\n      .subscribe(data => {\r\n        console.log('update response :: ', data)\r\n      })\r\n  }\r\n  previous() {\r\n    // this.documentForm.reset();\r\n    this.tokenService.setIndex({\r\n      index: 0,\r\n    });\r\n  }\r\n  openDialog() {\r\n    const dialogRef = this.dialog.open(CutomerFingerPrintComponent, {\r\n      data: { number: \"9656849771\", type: \"Mobile Number\" },\r\n      disableClose: true,\r\n    });\r\n    dialogRef.afterClosed().subscribe((submit) => {\r\n      \r\n    });\r\n  }\r\n  scan(i) {\r\n    this.scan1Array[i] = true;\r\n    this.scan2Array[i] = false;\r\n    this.scan3Array[i] = false;\r\n    //this.enableAadharReadOnly = true;\r\n    this.disableNext=false;\r\n  }\r\n  scan12(i) {\r\n    this.scan1Array[i] = false;\r\n    this.scan2Array[i] = true;\r\n    this.scan3Array[i] = false\r\n    //this.enableAadharReadOnly = true;\r\n    this.disableNext=false;\r\n  }\r\n  scan13(i) {\r\n    this.scan1Array[i] = false;\r\n    this.scan2Array[i] = false;\r\n    this.scan3Array[i] = true;\r\n    //this.enableAadharReadOnly = true;\r\n    this.disableNext=false;\r\n  }\r\n\r\n  // webcam snapshot trigger\r\n  fun(webcamImage, i) {\r\n    const cId: string = this.customerId;\r\n    const uploadData = new FormData();\r\n    const data = {\r\n      customerId: this.refreshCustomerId,\r\n      documentName: this.documentForm.value.documentName,\r\n      documentType: \"3\",\r\n      fileType: webcamImage._mimeType,\r\n      fileName: \"doc\",\r\n      verificationType: \"KYC verification\",\r\n      documentSide: 1,\r\n      idNumber: this.panNumber\r\n\r\n    };\r\n    this.frontImageArray[i] = webcamImage.imageAsDataUrl;\r\n    // this.doOCR(this.imageURL)\r\n    this.displayVal = false;\r\n    let file = this.dataURLtoFile(webcamImage.imageAsDataUrl, \"Aadhar\");\r\n\r\n    uploadData.append(\"data\", JSON.stringify(data));\r\n\r\n    uploadData.append(\"file\", file);\r\n\r\n    this.tokenService.upload(uploadData).subscribe(\r\n      (res) => {\r\n        this.progressValFrontArray[i] = 100;\r\n        this.documentForm.get(\"frontSide\").patchValue(true);\r\n      },\r\n      (error) => {\r\n        if (error.status == 201) {\r\n          this.bf = true;\r\n          this.documentForm.get(\"frontSide\").patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  fun1(webcamImage, i) {\r\n    console.log(\"inside fun1\")\r\n    const cId: string = this.customerId;\r\n\r\n    const uploadData1 = new FormData();\r\n    const data = {\r\n      customerId: this.refreshCustomerId,\r\n      documentName: this.documentForm.value.documentName,\r\n      documentType: \"3\",\r\n      fileType: webcamImage._mimeType,\r\n      fileName: \"doc\",\r\n      verificationType: \"KYC verification\",\r\n      documentSide: 2,\r\n      idNumber: this.panNumber\r\n    };\r\n    this.backImageArray[i] = webcamImage.imageAsDataUrl;\r\n    // this.doOCR(this.imageURL1);\r\n    this.displayVal1 = false;\r\n    let file = this.dataURLtoFile(webcamImage.imageAsDataUrl, \"Aadhar\");\r\n\r\n    uploadData1.append(\"data\", JSON.stringify(data));\r\n\r\n    uploadData1.append(\"file\", file);\r\n\r\n    this.tokenService.upload(uploadData1).subscribe(\r\n      (res: any) => {\r\n        this.progressValBackArray[i] = 100;\r\n        if (res.type === 4) {\r\n          if (res.body) {\r\n            console.log(\"res.body.id\", res.body.id);\r\n            this.assignIdValues(\"backSide\", res.body.id);\r\n          }\r\n        }\r\n        this.documentForm.get(\"backSide\").patchValue(true);\r\n      }, (error) => {\r\n        if (error.status == 201) {\r\n          this.ff = true;\r\n          this.documentForm.get(\"backSide\").patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  dataURLtoFile(dataurl, filename) {\r\n    var arr = dataurl.split(\",\"),\r\n      mime = arr[0].match(/:(.*?);/)[1],\r\n      bstr = atob(arr[1]),\r\n      n = bstr.length,\r\n      u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, { type: mime });\r\n  }\r\n  assign(id) {\r\n    this.customerId = id;\r\n  }\r\n\r\n  onUpload(event, docVal, docSideEnum, i,customerId) {\r\n    console.log(customerId);\r\n    this.newDocumentSide=docSideEnum;\r\n    this.childindex=docSideEnum-4;\r\n    console.log(event, docVal, docSideEnum);\r\n    if (docVal === 'frontSide') {\r\n      this.progressValFrontArray[i] = 0;\r\n    }\r\n    if (docVal === 'backSide') {\r\n      this.progressValBackArray[i] = 0;\r\n    }\r\n    if (docVal === 'others') {\r\n      this.progressValOthersArray[i] = 0;\r\n    }\r\n    this.selectedFiles = event.target.files[0];\r\n    let size = event.target.files[0].size;\r\n    this.shotToast(`Your file size is ${this.formatBytes(size, 2)}`);\r\n    if (event.target.files) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      reader.onload = (event: any) => {\r\n        this.image = event.target.result;\r\n        if (docVal === 'backSide') {\r\n          this.backSelected = this.selectedFiles.name;\r\n          //this.backImageArray[i] = this.image;\r\n          this.doOCR(this.image, docVal, this.selectedFiles, docSideEnum, i);\r\n          this.displayVal1 = true;\r\n        }\r\n        if (docVal === 'frontSide') {\r\n          this.frontSelected = this.selectedFiles.name;\r\n          //this.frontImageArray[i] = this.image;\r\n          // this.doOCR(this.frontImageArray[i], docVal, this.selectedFiles, docSideEnum, i);\r\n          this.doOCR(this.image, docVal, this.selectedFiles, docSideEnum, i);\r\n          this.displayVal = true;\r\n        }\r\n        if (docVal === 'others') {\r\n          this.othersSelected = this.selectedFiles.name;\r\n          this.doOCR(this.image, docVal, this.selectedFiles, docSideEnum, i);\r\n          this.displayVal2 = true;\r\n          // this.documentSide = 1;\r\n        }\r\n        if(docVal === 'otherDocument'){\r\n          this.otherDocumentSelected = this.selectedFiles.name;\r\n         if(this.otherDocumentArray[i][this.childindex]){\r\n          \r\n        this.otherDocumentArray[i][this.childindex]=this.image;\r\n       }\r\n      else{\r\n      \r\n        var otherArray=[this.image];\r\n         this.otherDocumentArray[i][this.childindex] = this.image;\r\n        \r\n       }\r\n       console.log(\"final document\", this.docarray1)\r\n         \r\n          this.doOCR(this.otherDocumentArray[i][this.childindex], docVal, this.selectedFiles, docSideEnum, i);\r\n          //this.displayVal2 = true;\r\n        }\r\n      }\r\n    }\r\n    \r\n    this.disableNext = false;\r\n  }\r\n\r\n\r\n  formatBytes(bytes, decimals) {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n  }\r\n\r\n\r\n  uploadDoc(img, url, docVal, documnetSideValue, i) {\r\n    this.childindex=documnetSideValue-4;\r\n    console.log(\"URL ---- \", url);\r\n    const cId: string = this.customerId;\r\n    const uploadData = new FormData();\r\n    if(this.documentForm.value.documentsList[i].documentName==='Aadhar card')\r\n    { \r\n      this.docType='6';\r\n    }\r\n    if(this.documentForm.value.documentsList[i].documentName==='Pan card')\r\n    { \r\n      this.docType='7';\r\n    }\r\n    if(this.documentForm.value.documentsList[i].documentName==='Passport')\r\n    {\r\n      this.docType='8';\r\n    }\r\n\r\n    const data = {\r\n      // customerId: this.refreshCustomerId,\r\n      customerId: this.docholder[i].customerId,\r\n      //documentName: this.documentForm.value.documentName,\r\n      documentName: this.documentForm.value.documentsList[i].documentName,\r\n      documentType: this.docType,\r\n      fileType: url.type,\r\n      fileName: url.name,\r\n      verificationType: \"KYC verification\",\r\n      documentSide: documnetSideValue,\r\n      idNumber: this.panNumber,\r\n      name: this.namePancard,\r\n      dob: this.dob\r\n    };\r\n    uploadData.append(\"data\", JSON.stringify(data));\r\n    uploadData.append(\"file\", url);\r\n    console.log(\"URL -- \", url.name, data, uploadData);\r\n    this.uploadSub = this.tokenService.upload(uploadData)\r\n      .subscribe((res: any) => {\r\n        console.log(\"Response -- \", res);\r\n        if (docVal === 'backSide') {\r\n          if (res.type) {\r\n            if (res.type == HttpEventType.UploadProgress) {\r\n              this.progressValBackArray[i] = Math.round(100 * (res.loaded / res.total));\r\n              this.backImageArray[i] = img;\r\n            }\r\n            // else if (res.type == HttpEventType.Response) {\r\n            //   this.progressValBack = 0;\r\n            // }\r\n          }\r\n        } else if ((docVal === 'frontSide')) {\r\n          if (res.type) {\r\n            if (res.type == HttpEventType.UploadProgress) {\r\n              this.progressValFrontArray[i] = Math.round(100 * (res.loaded / res.total));\r\n              this.frontImageArray[i] = img;\r\n            }\r\n            // else if (res.type == HttpEventType.Response) {\r\n            //   this.progressValFront = 0;\r\n            // }\r\n          }\r\n        }\r\n        else if ((docVal === 'others')) {\r\n          if (res.type) {\r\n            if (res.type == HttpEventType.UploadProgress) {\r\n              this.progressValOthersArray[i] = Math.round(100 * (res.loaded / res.total));\r\n              console.log(\"uploadProgress others\", this.progressValOthersArray[i]);\r\n              this.otherImageArray[i] = img;\r\n            }\r\n          }\r\n         \r\n        }\r\n        else{\r\n\r\n        }\r\n        if (res.body) {\r\n\r\n          console.log(\"res.body.id\", res.body.id);\r\n          this.assignIdValues(docVal, res.body.id);\r\n          this.documentForm.get(docVal).patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      },\r\n        (error: any) => {\r\n          if (error.status == 201) {\r\n            this.documentForm.get(docVal).patchValue(true);\r\n            this.shotToast(\"Document Uploaded!\");\r\n          } else {\r\n            if (docVal === 'backSide') {\r\n              this.progressValBackArray[i] = 0;\r\n              this.backImageArray[i] = null;\r\n              this.backSelected = null;\r\n              this.shotToast(error.message);\r\n            } else {\r\n              this.progressValFrontArray[i] = 0;\r\n              this.frontImageArray[i] = null;\r\n              this.frontSelected = null;\r\n              this.shotToast(error.message);\r\n            }\r\n          }\r\n        }\r\n    );\r\n  }\r\n\r\n  assignIdValues(docVal: any, id: any) {\r\n    console.log(docVal);\r\n    if (docVal === 'backSide') {\r\n\r\n      this.backSideId = id;\r\n    }\r\n    if (docVal === 'others') {\r\n      this.otherSideId = id;\r\n    }\r\n    if (docVal === 'otherDocument') {\r\n      this.otherDocumentSideId = id;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.shareDataService.shareCustomerId(null);\r\n  }\r\n\r\n  cancelUpload(sideType: string) {\r\n    this.uploadSub.unsubscribe();\r\n    this.shotToast(\"Document Uploaded Cancelled!\");\r\n    if (sideType == 'backSide') {\r\n      this.progressValBackArray[0] = 0;\r\n      this.backImageArray[0] = null;\r\n      this.backSelected = null;\r\n    } else {\r\n      this.progressValFrontArray[0] = 0;\r\n      this.frontImageArray[0] = null;\r\n      this.frontSelected = null;\r\n    }\r\n  }\r\n  \r\n  shotToast(msg: string) {\r\n    this.snack.open(`${msg}`, \"OK\", {\r\n      duration: 6000,\r\n      verticalPosition: \"top\",\r\n      horizontalPosition: \"right\",\r\n    });\r\n  }\r\n\r\n  deleteDocument(report,index)\r\n  {\r\n    console.log(this.customerId, report, index);\r\n    this.customerId=this.ls.getItem('customerId');\r\n\r\n    const deleteRecord = this.documentForm.get('documentsList') as FormArray;\r\n    console.log(deleteRecord);\r\n    deleteRecord.removeAt(index);\r\n\r\n    this.api.delCustDoc(this.customerId, report.documentName).subscribe((data) => {\r\n    console.log(\"data after delete\",data);\r\n      });\r\n  }\r\n\r\nnext(){\r\n  this.router.navigate([`/cardaccount/applicationEnrichment/list`]);\r\n}\r\n\r\nuploadLink(){\r\n  \r\n  this.api.uploadDocLink(LINK_URL,this.custId).subscribe(\r\n    (res: any) => {\r\n      console.log(\"uploadDocLink\",res)\r\n      if(res != \"\" || res == undefined || res != null){\r\n        console.log(\"uploadDocLink\",res)\r\n        const dialogRef = this.dialog.open(SucessMessageComponent, {\r\n          width: \"35%\",\r\n          backdropClass: \"dialog-bg-trans\",\r\n          height: \"50%\",\r\n          disableClose: true,\r\n        });\r\n  \r\n        dialogRef.afterClosed().subscribe((result) => {\r\n          console.log(\"The dialog was closed\", result);\r\n        });\r\n      }\r\n  })\r\n}\r\n}\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\nimport Swal from 'sweetalert2';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n@Component({\r\n  selector: 'app-financial-details',\r\n  templateUrl: './financial-details.component.html',\r\n  styleUrls: ['./financial-details.component.scss']\r\n})\r\nexport class FinancialDetailsComponent implements OnInit {\r\n  cardFinancialDetailsForm:FormGroup;\r\n  arrayEmploymentType: string[];\r\n  arrayEmploymentCategory: string[];\r\n  //formBuilder: any;\r\n  incomeErrMsg: string;\r\n  disableNext: boolean = false;\r\n  ExpensesErrMsg: any;\r\n  LiabilitiesErrMsg: any;\r\n  assetErrMsg: string;\r\n  liabilitiesErrMsg: string;\r\n  expensesErrMsg: string;\r\n  cardId: any;\r\n  showEditOption:boolean=false;\r\n  minDate = new Date();\r\n   maxDate = new Date();\r\n  applicant: any;\r\n  applicantName: any;\r\n  lastData:any;\r\n  currencySymbol: string;\r\n  currencytype: string;\r\n\r\n\r\n  constructor(   private formBuilder: FormBuilder, private api: ApiService,private snack: MatSnackBar, private accountService: AccountService,\r\n    private router: Router,private ls: LocalStoreService, private cdr:ChangeDetectorRef,\r\n   ) { \r\n    this.lastData = new Date().toISOString().slice(0,10);\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    console.log(history.state.amount);\r\n    \r\n    this.cardId = this.ls.getItem('cardId');\r\n    this.currencytype=localStorage.getItem('Currency Type');\r\n    if(this.currencytype===\"INR\"){\r\n      this.currencySymbol=\"₹\"\r\n    }else if(this.currencytype===\"USD\"){\r\n      this.currencySymbol=\"$\"\r\n    }else if(this.currencytype===\"CNY\"){\r\n      this.currencySymbol=\"¥\"\r\n    }else if(this.currencytype===\"GBP\"){\r\n      this.currencySymbol=\"£\"\r\n    }else if(this.currencytype===\"ZAR\"){\r\n      this.currencySymbol=\"R\"\r\n    }\r\n    // this.cardId=this.ls.getItem(\"cardId\");\r\n   // this.applicant=this.ls.getItem('Card_Applicant_name');\r\n    this.applicantName=this.ls.getItem('primaryCustomerName');\r\n    let isFinancialScreen: boolean = JSON.parse(this.ls.getItem('CARD_FINANCIAL_DONE'));\r\n    this.getEmploymentType(\"fin_employment_type\");\r\n    this.getEmploymentCategory(\"employment_category\");\r\n    // setTimeout(() => {\r\n    //   this.buildFinacialFormGroup();\r\n    // },200);\r\n      \r\n  \r\n    if (this.cardId != null && isFinancialScreen) {\r\n      console.log(\"fggd\");\r\n      \r\n      this.showEditOption = true;\r\n      this.getCardFinancialDetailsSummary();\r\n    } else {\r\n      this.showEditOption = false;\r\n      setTimeout(() =>{\r\n        this.buildFinacialFormGroup();\r\n      },200)\r\n      \r\n    }\r\n\r\n\r\n    // this.createFinancialDetail();\r\n  }\r\n  getCardFinancialDetailsSummary(){\r\n    \r\n    this.api.getCardFinancialDetails(this.cardId)\r\n    .subscribe((result: any) => {\r\n\r\n      console.log(result);\r\n\r\n      let index = result.length-1;\r\n      console.log(result[index]);\r\n      \r\n      this.buildFinacialFormGroup(result[index]);\r\n\r\n    })\r\n  }\r\n  getEmploymentType(key: string) {\r\n    this.api.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayEmploymentType = data;\r\n    });\r\n  }\r\n  getEmploymentCategory(key: string) {\r\n    this.api.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayEmploymentCategory = data;\r\n    });\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    // console.log(\"key\",event);\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n        event.preventDefault();\r\n    }\r\n   }\r\n   buildFinacialFormGroup(data?) {\r\n     console.log(data);\r\n    this.cardFinancialDetailsForm = this.formBuilder.group({\r\n      // Financial Details\r\n     // applicantName: [this.applicantName, Validators.required],\r\n      applicantName: [data ? data.applicantName : this.ls.getItem('Card_Applicant_name'), Validators.required],\r\n      currentlyWorking: [data ? data.currentlyWorking : ''],\r\n      applicantTotalIncome: [data ? data.applicantTotalIncome : 0, Validators.required],\r\n      applicantTotalExpense: [data ? data.applicantTotalExpense : 0, Validators.required],\r\n      lastUpdatedon: [data && data?.lastUpdatedon ? new Date(data.lastUpdatedon) : ''],\r\n      //limit_end_date: [data ? new Date(data.limit_end_date) : ''],\r\n      \r\n      // Employement Details\r\n      employmentType: [data ? data.employmentType : '', Validators.required],\r\n      employmentCategory: [data ? data.employmentCategory : '', Validators.required],\r\n      employeeNumber: [data ? data.employeeNumber : ''],\r\n      officeName: [data ? data.officeName : ''],\r\n      designation: [data ? data.designation : ''],\r\n      employmentStartDate: [data && data?.employmentStartDate ? new Date(data.employmentStartDate): '', Validators.required],\r\n      employmentEndDate: [data && data?.employmentEndDate ? new Date(data.employmentEndDate): '',],\r\n      \r\n      // Monthly Income\r\n      salary: [data ? data.salary : ''],\r\n      interestIncome: [data ? data.interestIncome : ''],\r\n      bonus: [data ? data.bonus : ''],\r\n      cashGifts: [data ? data.cashGifts : ''],\r\n      business: [data ? data.business : ''],\r\n      pension: [data ? data.pension : ''],\r\n      monthlyIncomeRentals: [data ? data.monthlyIncomeRentals : ''],\r\n      monthlyIncomeOthers: [data ? data.monthlyIncomeOthers : ''],\r\n      monthlyIncomeTotal: [data ? data.monthlyIncomeTotal : 0],\r\n            \r\n      // Monthly Expense\r\n      household: [data ? data.household : ''],\r\n      education: [data ? data.education : ''],\r\n      vehicleMaintenance: [data ? data.vehicleMaintenance : ''],\r\n      monthlyExpenseRentals: [data ? data.monthlyExpenseRentals : ''],\r\n      monthlyExpenseOthers: [data ? data.monthlyExpenseOthers : ''],\r\n      medical: [data ? data.medical : ''],\r\n      travel: [data ? data.travel : ''],\r\n      monthlyExpenseTotal: [data ? data.monthlyExpenseTotal : 0],\r\n      \r\n      // Annual Liability\r\n      propertyLoan: [data ? data.propertyLoan : ''],\r\n      vehicleLoan: [data ? data.vehicleLoan : ''],\r\n      personalLoans: [data ? data.personalLoans : ''],\r\n      overdraft: [data ? data.overdraft : ''],\r\n      cardOutstandings: [data ? data.cardOutstandings : ''],\r\n      liabilityOthers: [data ? data.liabilityOthers : ''],\r\n      liabilityTotal: [data ? data.liabilityTotal : 0],\r\n      \r\n      // Assets\r\n      savingDeposits: [data ? data.savingDeposits : ''],\r\n      properties: [data ? data.properties : ''],\r\n      automobiles: [data ? data.automobiles : ''],\r\n      fixedDeposits: [data ? data.fixedDeposits : ''],\r\n      lands: [data ? data.lands : ''],\r\n      assetOthers: [data ? data.assetOthers : ''],\r\n      stocks: [data ? data.stocks : ''],\r\n      assetTotal: [data ? data.assetTotal : 0],\r\n      \r\n      // accountId; -->need to get from other screens\r\n     // accountId: this.accountId != null ? this.accountId : '',\r\n    }, {validator:(formGroup:FormGroup)=>{\r\n      return this.validateInputGroups(formGroup)\r\n    }\r\n  });\r\n\r\n  }  \r\n  validateInputGroups(formgroup:FormGroup) {\r\n    if(formgroup.controls[\"salary\"].value || formgroup.controls[\"interestIncome\"].value || \r\n    formgroup.controls[\"bonus\"].value || formgroup.controls[\"cashGifts\"].value || \r\n    formgroup.controls[\"business\"].value || formgroup.controls[\"pension\"].value || \r\n    formgroup.controls[\"monthlyIncomeRentals\"].value || formgroup.controls[\"monthlyIncomeOthers\"].value) {\r\n     \r\n      this.incomeErrMsg = null\r\n        this.disableNext = true;\r\n      \r\n    }\r\n    else {\r\n      this.incomeErrMsg = \"Entering any one field is mandatory for Monthly Income Section\";\r\n      this.disableNext = false;\r\n    }\r\n    \r\n    if(formgroup.controls[\"household\"].value || formgroup.controls[\"education\"].value ||\r\n    formgroup.controls[\"vehicleMaintenance\"].value || formgroup.controls[\"monthlyExpenseRentals\"].value ||\r\n    formgroup.controls[\"monthlyExpenseOthers\"].value || formgroup.controls[\"medical\"].value || \r\n    formgroup.controls[\"travel\"].value) {\r\n\r\n      this.ExpensesErrMsg = null;\r\n        this.disableNext = true;\r\n      \r\n    }\r\n    else {\r\n      this.ExpensesErrMsg = \"Entering any one field is mandatory for Monthly Expenses Section\";\r\n      this.disableNext = false;\r\n    }\r\n    \r\n    if(formgroup.controls[\"propertyLoan\"].value || formgroup.controls[\"vehicleLoan\"].value ||\r\n    formgroup.controls[\"personalLoans\"].value || formgroup.controls[\"overdraft\"].value ||\r\n    formgroup.controls[\"cardOutstandings\"].value || formgroup.controls[\"liabilityOthers\"].value) {\r\n      \r\n      this.LiabilitiesErrMsg = null;\r\n        this.disableNext = true;\r\n      \r\n    }\r\n    else {\r\n      this.LiabilitiesErrMsg = \"Entering any one field is mandatory for Annual Liabilities Section\";\r\n      this.disableNext = false;\r\n    }\r\n    \r\n    if(formgroup.controls[\"savingDeposits\"].value || formgroup.controls[\"properties\"].value ||\r\n    formgroup.controls[\"automobiles\"].value || formgroup.controls[\"fixedDeposits\"].value ||\r\n    formgroup.controls[\"lands\"].value || formgroup.controls[\"assetOthers\"].value || \r\n    formgroup.controls[\"stocks\"].value) {\r\n\r\n      this.assetErrMsg = null;\r\n        this.disableNext = true;\r\n      \r\n    }\r\n    else {\r\n      this.assetErrMsg = \"Entering any one field is mandatory for Asset Section\";\r\n      this.disableNext = false;\r\n    }\r\n  }\r\n  \r\n  onSubmit() {\r\n    let startDate = this.converDate(this.cardFinancialDetailsForm.controls.employmentStartDate.value);\r\n    if(startDate && startDate!= \"Invalid date\"){\r\n    console.log(\"startDate\", startDate);\r\n    this.cardFinancialDetailsForm.value['employmentStartDate'] = startDate;\r\n    }else{\r\n      this.cardFinancialDetailsForm.value['employmentStartDate'] = null;\r\n    }\r\n    let endDate = this.converDate(this.cardFinancialDetailsForm.controls.employmentEndDate.value);\r\n    if(endDate && endDate!= \"Invalid date\"){\r\n      console.log(\"startDate\", endDate);\r\n      this.cardFinancialDetailsForm.value['employmentEndDate'] = endDate;\r\n    }else{\r\n      this.cardFinancialDetailsForm.value['employmentEndDate'] = null;\r\n    }\r\n    \r\n    //let lastUpdatedon = this.converDate(this.cardFinancialDetailsForm.controls.lastUpdatedon.value);\r\n    let lastUpdatedon =moment(this.cardFinancialDetailsForm.controls.lastUpdatedon.value).format('YYYY-MM-DD HH:MM:SS');\r\n    console.log(\"lastUpdatedon\",lastUpdatedon)\r\n    if(lastUpdatedon && lastUpdatedon!= \"Invalid date\"){\r\n      console.log(\"startDate\", lastUpdatedon);\r\n      this.cardFinancialDetailsForm.value['lastUpdatedon'] = lastUpdatedon;\r\n    }else{\r\n      this.cardFinancialDetailsForm.value['lastUpdatedon'] = null;\r\n    }\r\n\r\n    this.cardFinancialDetailsForm.value.accountType=\"cardOrigin\";\r\n    this.cardFinancialDetailsForm.value.cardId=this.cardId; \r\n    console.log(\"submit\", this.cardFinancialDetailsForm.value);\r\n    console.log(this.cardFinancialDetailsForm.value)\r\n    var payload: any[]=[];\r\n    payload.push(this.cardFinancialDetailsForm.value)\r\n    console.log(payload);\r\n    // if (!this.cardFinancialDetailsForm.value.applicantName || !this.cardFinancialDetailsForm.value.employmentType || !this.cardFinancialDetailsForm.value.employmentCategory) {\r\n    //   console.log(\"if--->\")\r\n    //   Swal.fire('Please Enter The Mandatory Fields !');\r\n    //   return false;\r\n    // }\r\n    this.api.upsertCardFinancialDetails(payload).subscribe(fincialResp => {\r\n\r\n      console.log(fincialResp);\r\n      this.snack.open('Financial Details Saved!', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n\r\n      // this.ls.setItem('limitEntryStage', 'true');\r\n      // this.ls.setItem('LIMIT_FIN_DONE', true);\r\n      //  this.accountService.refresh.next();\r\n       this.next();\r\n      // limit-entry-stage/view-summary\r\n      //this.router.navigate([`/home/application/enrichment/list`, this.accountId]);\r\n\r\n    }, err => {\r\n      this.snack.open('Error Unable to Save!', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    })\r\n\r\n  }\r\n  goBack(){\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/customerInformation`]);\r\n  }\r\n  next(){\r\n    this.ls.setItem('CARD_FINANCIAL_DONE', true)\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/cardPrefrence`]);\r\n   \r\n  }\r\n  converDate(value) {\r\n    // let date = moment(value).format('YYYY-MM-DDThh:mm:ss');\r\n    let date = moment(value).format('YYYY-MMM-DD');\r\n    console.log(\"date\", date);\r\n    if (date)\r\n      return date;\r\n  }\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n            if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n                return true;\r\n            else\r\n                return false;\r\n  }\r\n  // Total Monthly Income\r\n  calculateTotalMonthlyIncome(value) {\r\n    let income:number = Number(value.salary) + Number(value.business) + \r\n    Number(value.interestIncome) + Number(value.pension) + \r\n    Number(value.bonus) + Number(value.monthlyIncomeOthers) + \r\n    Number(value.monthlyIncomeRentals) + Number(value.cashGifts);\r\n    \r\n    // this.cardFinancialDetailsForm.controls.monthlyIncome.get('monthlyIncomeTotal').setValue(income);\r\n    this.cardFinancialDetailsForm.controls.monthlyIncomeTotal.setValue(income);\r\n    this.cdr.markForCheck();\r\n    this.cdr.detectChanges();\r\n\r\n    this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value);\r\n  }\r\n\r\n  // Total Monthly Expense\r\n  calculateTotalMonthlyExpenses(value) {\r\n    let expense:number = Number(value.household) + Number(value.education) + \r\n      Number(value.vehicleMaintenance) + Number(value.monthlyExpenseOthers) + \r\n      Number(value.medical) + Number(value.travel) + \r\n      Number(value.monthlyExpenseRentals);\r\n\r\n    // this.cardFinancialDetailsForm.controls.monthlyExpense.get('monthlyExpenseTotal').setValue(expense);\r\n    this.cardFinancialDetailsForm.controls.monthlyExpenseTotal.setValue(expense);\r\n    this.cdr.markForCheck();\r\n    this.cdr.detectChanges();\r\n\r\n    this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value);\r\n  }\r\n\r\n  // Total Liabilities\r\n  calculateTotalLiabilities(value) {\r\n    let liability:number = Number(value.propertyLoan) + Number(value.personalLoans) + \r\n    Number(value.overdraft) + Number(value.vehicleLoan) + \r\n    Number(value.cardOutstandings) + Number(value.liabilityOthers);\r\n\r\n    // this.cardFinancialDetailsForm.controls.annualLiability.get('liabilityTotal').setValue(liability);\r\n    this.cardFinancialDetailsForm.controls.liabilityTotal.setValue(liability);\r\n    this.cdr.markForCheck();\r\n    this.cdr.detectChanges();\r\n    \r\n    this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value);\r\n  }\r\n\r\n  // Total Assets\r\n  calculateTotalAssets(value) {\r\n    let asset:number = Number(value.savingDeposits) + Number(value.properties) + \r\n    Number(value.fixedDeposits) + Number(value.stocks) + \r\n    Number(value.automobiles) + Number(value.lands) + Number(value.assetOthers);\r\n\r\n    // this.cardFinancialDetailsForm.controls.assets.get('assetTotal').setValue(asset);\r\n    this.cardFinancialDetailsForm.controls.assetTotal.setValue(asset);\r\n    this.cdr.markForCheck();\r\n    this.cdr.detectChanges();\r\n    \r\n    this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value);\r\n  }\r\n\r\n  // Total Income, Expense and Final Total\r\n  calculateTotalIncomeAndExpense(value) {\r\n\r\n    let totalIncome:number = (value.monthlyIncomeTotal*12) + value.assetTotal;\r\n    let totalExpense:number =(value.monthlyExpenseTotal*12) + value.liabilityTotal;\r\n\r\n    this.cardFinancialDetailsForm.controls.applicantTotalIncome.setValue(totalIncome);\r\n    this.cardFinancialDetailsForm.controls.applicantTotalExpense.setValue(totalExpense);\r\n    this.cdr.markForCheck();\r\n    this.cdr.detectChanges();\r\n   }\r\n\r\n}\r\n","<div class=\"matcard-size\">\r\n<div fxLayout=\"row\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img\r\n        src=\"assets/images/svg/MaskGroup_2.svg\"\r\n        alt=\"\"\r\n        class=\"w-90\"\r\n      />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\">Financial Details</div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div>\r\n  <form  *ngIf=\"cardFinancialDetailsForm\" [formGroup]=\"cardFinancialDetailsForm\">\r\n    <div fxLayout=\"row\">\r\n      <div fxFlex=\"100\">\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title>\r\n            <fieldset>\r\n            <legend visible=\"true\">Financial Details</legend>\r\n            </fieldset>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Applicant Name</mat-label>\r\n                    <input\r\n                      matInput\r\n                      formControlName=\"applicantName\"\r\n                      \r\n                      placeholder=\"Applicant Name\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total Income*</mat-label>\r\n                    <span matPrefix>{{currencySymbol}}&nbsp;</span>\r\n                    <input\r\n                      matInput\r\n                      type=\"number\"\r\n                      \r\n                      formControlName=\"applicantTotalIncome\"\r\n                      placeholder=\"Total Income\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Last Update On</mat-label>\r\n                    <input\r\n                      matInput\r\n                      id=\"dob\"\r\n                      class=\"alignment\"\r\n                      readonly\r\n                      [matDatepicker]=\"picker\"\r\n                      [max]=\"lastData\"\r\n                      value=\"offerIssueDate\"\r\n                      placeholder=\"DD/MM/YYYY\"\r\n                      formControlName=\"lastUpdatedon\"\r\n                    />\r\n                   \r\n                      <mat-datepicker-toggle matSuffix [for]=\"picker\">\r\n                      </mat-datepicker-toggle>\r\n\r\n                      <mat-datepicker #picker> </mat-datepicker>\r\n                   \r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Currently Working</mat-label>\r\n                    <input\r\n                      matInput\r\n                      type=\"text\"\r\n                      formControlName=\"currentlyWorking\"\r\n                      placeholder=\"Currently Working\"\r\n                    />\r\n                    <!-- <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('currentlyWorking')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please enter Currently Working\r\n                    </mat-error> -->\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total Expenses*</mat-label>\r\n                    <span class=\"curr_icon\" matPrefix>{{currencySymbol}}&nbsp;</span>\r\n                    <input\r\n                      matInput\r\n                      type=\"number\"\r\n                     \r\n                      formControlName=\"applicantTotalExpense\"\r\n                      placeholder=\"Total  Expenses\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n                <!-- <div class=\"pb-1\">\r\n                  <button mat-button color=\"primary\">Edit</button>\r\n                </div> -->\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title class=\"\">\r\n            <div class=\"card-title-text\">Employment Details</div>\r\n            <mat-divider></mat-divider>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <!-- <form  [formGroup]=\"cardFinancialDetailsForm\"> -->\r\n\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Employment Type *</mat-label>\r\n                    <mat-select formControlName=\"employmentType\">\r\n                      <mat-option\r\n                        *ngFor=\"let employmentType of arrayEmploymentType\"\r\n                        [value]=\"employmentType\"\r\n                      >\r\n                        {{ employmentType }}\r\n                      </mat-option>\r\n                    </mat-select>\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('employmentType')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please select the Employment Type\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Employee number</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxLength=\"5\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      formControlName=\"employeeNumber\"\r\n                      placeholder=\"Employee Number\"\r\n                      [required]=\"cardFinancialDetailsForm\r\n                          .get('employmentType').value == 'Salaried'\"\r\n                      \r\n                    />\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('employeeNumber')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please enter the Employee Number\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Designation</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"20\"\r\n                      name=\"Designation\"\r\n                      formControlName=\"designation\"\r\n                      placeholder=\"Designation\"\r\n                      (keypress)=\"letterOnly($event)\"\r\n                      [required]=\"cardFinancialDetailsForm\r\n                          .get('employmentType').value == 'Salaried'\"\r\n                    />\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('designation')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please enter the Designation\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Employment Start Date *</mat-label>\r\n                    <input\r\n                      matInput\r\n                      id=\"dob\"\r\n                      class=\"alignment\"\r\n                      readonly\r\n                      [max]=\"maxDate\"\r\n                      [matDatepicker]=\"start\"\r\n                      value=\"offerIssueDate\"\r\n                      placeholder=\"DD/MM/YYYY\"\r\n                      formControlName=\"employmentStartDate\"\r\n                    />\r\n\r\n                    <mat-datepicker-toggle matSuffix [for]=\"start\">\r\n                    </mat-datepicker-toggle>\r\n\r\n                    <mat-datepicker #start> </mat-datepicker>\r\n\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('employmentStartDate')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Employment Start Date is Required!\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Employment Category *</mat-label>\r\n                    <mat-select\r\n                      name=\"employmentCategory\"\r\n                      formControlName=\"employmentCategory\"\r\n                    >\r\n                      <mat-option\r\n                        *ngFor=\"\r\n                          let employmentCategory of arrayEmploymentCategory\r\n                        \"\r\n                        [value]=\"employmentCategory\"\r\n                      >\r\n                        {{ employmentCategory }}\r\n                      </mat-option>\r\n                    </mat-select>\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('employmentCategory')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please select the Employment Category\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Office Name</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"20\"\r\n                      name=\"Office Name\"\r\n                      formControlName=\"officeName\"\r\n                      placeholder=\"Office Name\"\r\n                      (keypress)=\"letterOnly($event)\"\r\n                      [required]=\"cardFinancialDetailsForm\r\n                          .get('employmentType').value == 'Salaried'\"\r\n                    />\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('officeName')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please enter the Office Name\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Employment End Date</mat-label>\r\n\r\n                    <input\r\n                      matInput\r\n                      id=\"dob\"\r\n                      class=\"alignment\"\r\n                      readonly\r\n                      [matDatepicker]=\"end\"\r\n                      [min]=\"cardFinancialDetailsForm\r\n                      .get('employmentStartDate').value\"\r\n                      value=\"offerIssueDate\"\r\n                      placeholder=\"DD/MM/YYYY\"\r\n                      formControlName=\"employmentEndDate\"\r\n                    />\r\n\r\n                    <mat-datepicker-toggle matSuffix [for]=\"end\">\r\n                    </mat-datepicker-toggle>\r\n\r\n                    <mat-datepicker #end> </mat-datepicker>\r\n\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('employmentEndDate')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Employment End Date is Required!\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- </form> -->\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title class=\"\">\r\n            <div class=\"card-title-text\">\r\n              Monthly Income\r\n              <div class=\"ErrMsg\">{{ incomeErrMsg }}</div>\r\n            </div>\r\n            <mat-divider></mat-divider>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Bonus</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"bonus\"\r\n                      name=\"bonus\"\r\n                      placeholder=\"Bonus\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Interest Income</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"interestIncome\"\r\n                      name=\"interestIncome\"\r\n                      placeholder=\"Interest Income\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Salary</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"salary\"\r\n                      name=\"salary\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      placeholder=\"Salary\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Cash Gifts</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"cashGifts\"\r\n                      name=\"cashGifts\"\r\n                      placeholder=\"Cash Gifts\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"monthlyIncomeTotal\"\r\n                      placeholder=\"Total\"\r\n                      readonly\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Business</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"business\"\r\n                      formControlName=\"business\"\r\n                      placeholder=\"Business\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Pension</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"pension\"\r\n                      formControlName=\"pension\"\r\n                      placeholder=\"Pension\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Rentals</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"monthlyIncomeRentals\"\r\n                      formControlName=\"monthlyIncomeRentals\"\r\n                      placeholder=\"Rentals\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Others</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"monthlyIncomeOthers\"\r\n                      formControlName=\"monthlyIncomeOthers\"\r\n                      placeholder=\"Others\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title class=\"\">\r\n            <div class=\"card-title-text\">\r\n              Monthly Expenses\r\n              <div class=\"ErrMsg\">{{ ExpensesErrMsg }}</div>\r\n            </div>\r\n            <mat-divider></mat-divider>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Household</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"household\"\r\n                      name=\"household\"\r\n                      placeholder=\"Household\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Education</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"education\"\r\n                      name=\"mod\"\r\n                      placeholder=\"Education\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Vehicle Maintenance</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"vehicleMaintenance\"\r\n                      name=\"mod\"\r\n                      placeholder=\"Vehicle Maintenance\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Others</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"monthlyExpenseOthers\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                      placeholder=\"Others\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"monthlyExpenseTotal\"\r\n                      name=\"monthlyExpenseTotal\"\r\n                      placeholder=\"Total\" readonly\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Medical</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"medical\"\r\n                      formControlName=\"medical\"\r\n                      placeholder=\"Medical\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Travel</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"a_sig\"\r\n                      formControlName=\"travel\"\r\n                      placeholder=\"Travel\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Rentals</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"a_sig\"\r\n                      formControlName=\"monthlyExpenseRentals\"\r\n                      placeholder=\"Rentals\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title class=\"\">\r\n            <div class=\"card-title-text\">\r\n              Annual Liabilities\r\n              <div class=\"ErrMsg\">{{ LiabilitiesErrMsg }}</div>\r\n            </div>\r\n            <mat-divider></mat-divider>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Property Loans</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"propertyLoan\"\r\n                      placeholder=\"Property Loan\"\r\n                      formControlName=\"propertyLoan\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Personal Loans</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"personalLoans\"\r\n                      formControlName=\"personalLoans\"\r\n                      placeholder=\"Personal Loans\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Overdrafts</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      name=\"overdraft\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"overdraft\"\r\n                      placeholder=\"Overdrafts\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"liabilityTotal\"\r\n                      placeholder=\"Total\"\r\n                      formControlName=\"liabilityTotal\" readonly\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Vehicle Loans</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"vehicleLoan\"\r\n                      name=\"vehicleLoan\"\r\n                      placeholder=\"Vehicle Loans\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Cards Outstanding's</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"cardOutstandings\"\r\n                      formControlName=\"cardOutstandings\"\r\n                      placeholder=\"Cards Outstanding's\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Others</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"liabilityOthers\"\r\n                      formControlName=\"liabilityOthers\"\r\n                      placeholder=\"Others\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title class=\"\">\r\n            <div class=\"card-title-text\">\r\n              Asset\r\n              <div class=\"ErrMsg\">{{ assetErrMsg }}</div>\r\n            </div>\r\n            <mat-divider></mat-divider>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Savings Deposits</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"savingDeposits\"\r\n                      placeholder=\"Saving Deposits\"\r\n                      formControlName=\"savingDeposits\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Properties</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"properties\"\r\n                      formControlName=\"properties\"\r\n                      placeholder=\"Properties\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Fixed Deposits</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"fixedDeposits\"\r\n                      formControlName=\"fixedDeposits\"\r\n                      placeholder=\"Fixed Deposits\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Others</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"assetOthers\"\r\n                      placeholder=\"Others\"\r\n                      formControlName=\"assetOthers\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"assetTotal\"\r\n                      formControlName=\"assetTotal\"\r\n                      placeholder=\"Total\" readonly\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Stocks/Funds</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      placeholder=\"Stocks/Funds\"\r\n                      formControlName=\"stocks\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Automobiles</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"automobiles\"\r\n                      placeholder=\"Automobiles\"\r\n                      formControlName=\"automobiles\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Lands</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"lands\"\r\n                      placeholder=\"Lands\"\r\n                      formControlName=\"lands\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n    <div fxLayout=\"row\">\r\n      <div fxFlex=\"100\">\r\n        <div\r\n          fxLayout=\"row\"\r\n          fxLayoutAlign=\"space-between center\"\r\n          fxLayoutGap=\"16px\"\r\n          class=\"mt-32\"\r\n        >\r\n          <button mat-button rounded  (click)=\"goBack()\">\r\n            Back\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"Nextbtn\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            [disabled]=\"\r\n              incomeErrMsg || ExpensesErrMsg || LiabilitiesErrMsg || assetErrMsg || !cardFinancialDetailsForm.valid\r\n            \"\r\n            (click)=\"onSubmit()\"\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, FormArray, FormBuilder } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DataService } from 'app/shared/services/data.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n// import { AccountService } from 'app/views/home/account.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\nimport { UrlService } from 'app/views/home/url.service';\r\n\r\nimport { flow } from 'lodash';\r\nimport { flatMap, filter } from 'lodash/fp';\r\n\r\n\r\n@Component({\r\n  selector: 'app-card-account-services',\r\n  templateUrl: './card-account-services.component.html',\r\n  styleUrls: ['./card-account-services.component.scss']\r\n})\r\nexport class CardAccountServicesComponent implements OnInit {\r\n\r\n  show: boolean = false;\r\n  selectedRow= false;\r\n  // selection = new SelectionModel<PeriodicElement>(true, []);\r\n  accountServiceForm: FormGroup;\r\n  statementList = [\r\n    {\r\n      \"id\": 1,\r\n      \"name\": \"EMAIL\",\r\n      \"checked\": false\r\n    },\r\n    {\r\n      \"id\": 2,\r\n      \"name\": \"POST\",\r\n      \"checked\": false\r\n    }\r\n  ];\r\n  communicationList = [\r\n    {\r\n      \"id\": 1,\r\n      \"name\": \"EMAIL\",\r\n      \"checked\": false\r\n    },\r\n    {\r\n      \"id\": 2,\r\n      \"name\": \"POST\",\r\n      \"checked\": false\r\n    },\r\n    {\r\n      \"id\": 3,\r\n      \"name\": \"SMS\",\r\n      \"checked\": false\r\n    }\r\n  ];\r\n\r\n  commChannelPreferencesArray : any[] = [];\r\n  AccStatementPreferenceArray : any[] = [];\r\n  accountId: any;\r\n  isNew: boolean;\r\n  navSubscription: any;\r\n  routeparams: any;\r\n  showEditOption: boolean = false;\r\n  previousUrl: string = '';\r\n  enableFinish: boolean=false;\r\n  statementFrncy: string;\r\n  bankChanlPref: string;\r\n  cardId:any;\r\n  constructor(private router: Router, private urlService: UrlService, private dataService: DataService, private route: ActivatedRoute, private snack: MatSnackBar, private ls: LocalStoreService, private accountService: AccountService, private formBuilder: FormBuilder, private apiService: ApiService, private cdr:ChangeDetectorRef) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem('cardId');\r\n    let isAccountServiceDone:boolean = JSON.parse(this.ls.getItem('CARD_ACC_SERVICE_DONE'));\r\n\r\n    if(this.cardId != null && isAccountServiceDone){\r\n      console.log(\"editform is true\");\r\n      this.showEditOption = true;\r\n      this.gettingAccountService();\r\n      // call api service and build data with response\r\n    }else{\r\n      this.showEditOption = false;\r\n      this.buildServiceForm();\r\n      console.log(\"editform is false\");\r\n      this.accountServiceForm.controls['statementPref'].patchValue(this.statementList);\r\n      this.accountServiceForm.controls['commChannelPref'].patchValue(this.communicationList);\r\n      // build form without data for capturing\r\n    }\r\n  \r\n    console.log(\"showEditOption\", this.showEditOption);\r\n    this.urlService.previousUrl$\r\n    .subscribe((previousUrl: string) => {\r\n        this.previousUrl = previousUrl\r\n    });\r\n\r\n  }\r\n\r\n  gettingAccountService() {\r\n    this.apiService.gettingCardAccountServiceDetails(this.cardId)\r\n    .subscribe((resp: any) => {\r\n      console.log(\"All Account Service\", resp);\r\n      this.buildServiceForm(resp);\r\n      this.statementList = resp.statementPref;\r\n      this.communicationList = resp.commChannelPref;\r\n     \r\n      // console.log(\"showEditOption\", this.showEditOption);\r\n      this.cdr.markForCheck();\r\n\r\n      for(var i =0 ;i< this.communicationList.length;i++){\r\n      \r\n        if(this.communicationList[i].checked){\r\n          this.commChannelPreferencesArray.push(this.communicationList[i].name);\r\n        }\r\n      }\r\n      for(var i =0 ;i< this.statementList.length;i++){\r\n        if(this.statementList[i].checked){\r\n          this.AccStatementPreferenceArray.push(this.statementList[i].name);\r\n        }\r\n      }\r\n      \r\n      localStorage.setItem('statementFrequency', resp.statementFrequency);\r\n      this.enableFinish=true;\r\n     \r\n    });\r\n  }\r\n  statementFrequency(e){\r\n    this.statementFrncy=localStorage.getItem('statementFrequency');\r\n    if(e!=this.statementFrncy){\r\n      this.enableFinish=true;\r\n    }\r\n  }\r\n  \r\n\r\n  buildServiceForm(data?) {\r\n    this.accountServiceForm = this.formBuilder.group({\r\n      accServiceId: [data ? data.accServiceId : null],\r\n      productAccountId: [this.accountId != null ? this.accountId : null],\r\n      statementFrequency: [data ? data.statementFrequency : ''],\r\n      statementPref: [data ? this.flattenValues(data.statementPref) : ''],\r\n    \r\n      commChannelPref: [data ? this.flattenValues(data.commChannelPref) : ''],\r\n     \r\n    });\r\n  }\r\n\r\n  onChecklistChange(checked, checkbox) {\r\n    checkbox.checked = checked;\r\n    this.enableFinish=true;\r\n    const checklist = this.accountServiceForm.get('statementPref');\r\n    checklist.setValue(this.flattenValues(this.statementList));\r\n    if(checked){\r\n      this.AccStatementPreferenceArray.push(checkbox.name);\r\n    }\r\n    else{\r\n      this.AccStatementPreferenceArray.forEach( (item, index) => {\r\n        if(item === checkbox.name){\r\n          this.AccStatementPreferenceArray.splice(index,1);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onCheckComChange(checked, checkbox) {\r\n    console.log(checked);\r\n    console.log(checkbox);\r\n    checkbox.checked = checked;\r\n    const checklist = this.accountServiceForm.get('commChannelPref');\r\n    checklist.setValue(this.flattenValues(this.communicationList));\r\n    if(checked){\r\n      this.commChannelPreferencesArray.push(checkbox.name);\r\n      console.log(\"checked\",checkbox.name);\r\n      this.enableFinish=true;\r\n    }\r\n    else{\r\n      this.commChannelPreferencesArray.forEach( (item, index) => {\r\n        if(item === checkbox.name){\r\n          this.commChannelPreferencesArray.splice(index,1);\r\n          console.log(\"checked\",checkbox.name);\r\n          this.enableFinish=true;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  flattenValues(checkboxes) {\r\n    const flattenedValues = flow([\r\n      filter(checkbox => checkbox.checked),\r\n      flatMap(checkbox => checkbox.name)\r\n    ])(checkboxes);\r\n    return flattenedValues.join(',');\r\n  }\r\n\r\n  isObjectEmpty(value) {\r\n    return (\r\n      Object.prototype.toString.call(value) === '[object Object]' &&\r\n      JSON.stringify(value) === '{}'\r\n    );\r\n  }\r\n\r\n  togglePreference() {\r\n    this.show = !this.show;\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/cardPrefrence`]);\r\n  }\r\n\r\n  onSubmit() {\r\n  \r\n    let accountPayload = {\r\n     // \"productAccountId\": this.accountId,\r\n      // \"cardId\":this.accountServiceForm.value.accServiceId,\r\n      \"cardId\":this.cardId,\r\n      \"statementFrequency\": this.accountServiceForm.value.statementFrequency,\r\n      \"statementPref\": this.statementList,\r\n     \r\n      \"commChannelPref\": this.communicationList,\r\n     \r\n      \"accountType\": \"cardOrigin\"\r\n    };\r\n\r\n    if (this.accountServiceForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    if (this.showEditOption) {\r\n      this.apiService.updateAccountService(this.cardId, accountPayload)\r\n        .subscribe((data: any) => {\r\n          console.log(data);\r\n          //this.accountService.refresh.next();\r\n          //this.router.navigate([`/home/application/nominee/add/${this.accountId}`]);\r\n          this.snack.open('Account Service Updated!', 'OK', { duration: 4000, verticalPosition: 'top', horizontalPosition: 'right' });\r\n          //this.router.navigate([`/cardaccount/documentupload/list`]);\r\n        }, err => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      this.apiService.createAccountService(this.cardId, accountPayload)\r\n        .subscribe((data: any) => {\r\n          console.log(data);\r\n         // this.ls.setItem('CARD_ACC_SERVICE_DONE', true);\r\n        //  this.accountService.refresh.next();\r\n         // this.router.navigate([`/home/application/nominee/add/${this.accountId}`]);\r\n          this.snack.open('Account Service Saved!', 'OK', { duration: 4000, verticalPosition: 'top', horizontalPosition: 'right' });\r\n        }, err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n    this.goToNext()\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n  goToNext(){  \r\n    this.ls.setItem('CARD_ACC_SERVICE_DONE', true);\r\n    this.ls.setItem('CARD_APPLICATION_ENTRY_DONE',true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/documentupload/list`]);\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img\r\n          src=\"assets/images/svg/undraw_opinion_dxp8.svg\"\r\n          alt=\"\"\r\n          class=\"w-90\"\r\n        />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Account Services</b></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- <div class=\"card-title-text\">Account Services</div> -->\r\n  <div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0 bordercard\" >\r\n        <mat-card-title>\r\n          <fieldset>\r\n          <legend visible=\"true\">Account Services</legend>\r\n          </fieldset>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n          <form *ngIf=\"accountServiceForm\" [formGroup]=\"accountServiceForm\">\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <label><strong>Account Statement Frequency*</strong></label>\r\n                  <div class=\"m-16\"></div>\r\n                  <mat-radio-group\r\n                    class=\"mt-12\"\r\n                    name=\"statementFreq\"\r\n                    formControlName=\"statementFrequency\" (change)=\"statementFrequency($event.value)\"\r\n                    \r\n                    required  \r\n                  >\r\n                    <mat-radio-button value=\"MONTHLY\" class=\"ml-8\" color=\"primary\"\r\n                      >Monthly</mat-radio-button\r\n                    >\r\n                    <mat-radio-button\r\n                      value=\"BIANNUAL\"\r\n                      class=\"ml-16\"\r\n                      color=\"primary\"\r\n                      >Bi-Annual</mat-radio-button\r\n                    >\r\n                    <div class=\"m-16\"></div>\r\n                    <mat-radio-button\r\n                      value=\"QUATERLY\"\r\n                      class=\"ml-8\"\r\n                      color=\"primary\"\r\n                      >Quaterly</mat-radio-button\r\n                    >\r\n                    <mat-radio-button value=\"ANNUAL\" class=\"ml-16\" color=\"primary\"\r\n                      >Annual</mat-radio-button\r\n                    >\r\n                  </mat-radio-group>\r\n                </div>\r\n              </div>\r\n  \r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                <div class=\"pb-1\">\r\n                  <label><strong>Account Statement Preference*</strong></label>\r\n                  <div class=\"m-16\"></div>\r\n                  <p\r\n                    *ngFor=\"let item of statementList\"\r\n                    formArrayName=\"statementPref\"\r\n                  >\r\n                    <mat-checkbox\r\n                      class=\"checkbox-margin\"\r\n                      color=\"primary\"\r\n                      (change)=\"onChecklistChange($event.checked, item)\"\r\n                      [value]=\"item\"\r\n                      [checked]=\"item.checked\"\r\n                      >{{ item.name }}\r\n                    </mat-checkbox>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!--<div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"mt-32\">\r\n              <button\r\n                mat-button\r\n                rounded\r\n                color=\"primary\"\r\n               \r\n              >\r\n               ADD PREFERENCE  <!--<mat-icon>keyboard_arrow_down</mat-icon>  -->\r\n               <!--removed event from button  (click)=\"togglePreference()\"\r\n              </button>\r\n            </div>-->\r\n            <div class=\"m-32\"></div>\r\n            <!--removing if condition for ng-container *ngIf=\"show\"-->\r\n            <ng-container >\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                \r\n                \r\n  \r\n                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                  <div fxLayout=\"row wrap\">\r\n                    <div fxFlex=\"100\">\r\n                      <label\r\n                        ><strong>Communication Channel Preferences*</strong></label\r\n                      >\r\n                      <div class=\"m-12\"></div>\r\n                    </div>\r\n                    <div fxFlex=\"100\">\r\n                      <div\r\n                        fxFlex=\"25\"\r\n                        *ngFor=\"let item of communicationList\"\r\n                        formArrayName=\"commChannelPref\"\r\n                       \r\n                      >\r\n                        <mat-checkbox\r\n                        color=\"primary\"\r\n                          class=\"checkbox-margin\"\r\n                          (change)=\"onCheckComChange($event.checked, item)\"\r\n                          [value]=\"item\"\r\n                          [checked]=\"item.checked\"\r\n                          >{{ item.name }}\r\n                        </mat-checkbox>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n  \r\n              \r\n            </ng-container>\r\n  \r\n            \r\n            <!-- [disabled]=\" !enableFinish || !accountServiceForm.valid ||\r\n               commChannelPreferencesArray.length == 0 || AccStatementPreferenceArray.length == 0\" -->\r\n               <!-- [disabled]=\"!accountServiceForm.valid\" -->\r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n      <div\r\n              fxLayout=\"row\"\r\n              fxLayoutAlign=\"space-between center\"\r\n              fxLayoutGap=\"16px\"\r\n              class=\"mt-32\"\r\n            >\r\n              <button mat-button rounded class=\"Backbtn\"  (click)=\"goBack()\" >\r\n                Back\r\n              </button>\r\n              <button class=\"Nextbtn\" mat-raised-button (click)=\"onSubmit()\"  [disabled]=\"  !accountServiceForm.valid ||\r\n              commChannelPreferencesArray.length == 0 || AccStatementPreferenceArray.length == 0\" \r\n               color=\"primary\" >\r\n                Next\r\n              </button>\r\n            </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { MatDialog, MatDialogRef } from \"@angular/material/dialog\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { ApplicationEntryStageService } from \"app/shared/services/application-entry-stage.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { AccountService } from \"app/views/card-account/account.service\";\r\nimport { UrlService } from \"app/views/home/url.service\";\r\nimport { EsignaturePopComponent } from \"../esignature-pop/esignature-pop.component\";\r\nimport { UploadSignatureOrEsignComponent } from \"../upload-signature-or-esign/upload-signature-or-esign.component\";\r\nimport { DialogService } from \"app/shared/services/dialogs/dialog.service\";\r\nimport { rumangoAnimations } from \"app/shared/animations/rumango-animations\";\r\n@Component({\r\n  selector: \"app-digital-sign-now-or-later\",\r\n  templateUrl: \"./digital-sign-now-or-later.component.html\",\r\n  styleUrls: [\"./digital-sign-now-or-later.component.scss\"],\r\n  animations: rumangoAnimations\r\n})\r\nexport class DigitalSignNowOrLaterComponent implements OnInit {\r\n  accountdetailsForStatusUpdate: Object;\r\n  previousUrl: string = \"\";\r\n  show: boolean = false;\r\n  show1: any;\r\n  cardId: any;\r\n  isDone: boolean = false;\r\n\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private router: Router,\r\n    private ls: LocalStoreService,\r\n    private accountService: AccountService,\r\n    private apiService: ApplicationEntryStageService,\r\n    private urlService: UrlService,\r\n    private api: ApiService,\r\n    private dialogService: DialogService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem(\"cardId\");\r\n\r\n    this.urlService.previousUrl$.subscribe((previousUrl: string) => {\r\n      this.previousUrl = previousUrl;\r\n    });\r\n  }\r\n\r\n  openPopUp(data?: any) {\r\n    let response: any;\r\n    if (data === undefined || data === null) {\r\n      response = {\r\n        isSignLater: false,\r\n        screen: \"Create Account\",\r\n      };\r\n    }\r\n    if (!this.show) {\r\n      let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n        UploadSignatureOrEsignComponent,\r\n        {\r\n          width: \"720px\",\r\n          disableClose: true,\r\n          data: data === undefined || data === null ? response : data,\r\n        }\r\n      );\r\n      dialogRef.afterClosed().subscribe((res) => {\r\n\r\n        console.log(res);\r\n    this.show = true;       \r\n          \r\n           this.ls.setItem(\"enable\", true);\r\n          // this.getByAccountId(this.accountId);\r\n\r\n      });\r\n    }\r\n  }\r\n  getByAccountId(accountId: any) {\r\n    this.api.getCardInitiationDetails(this.cardId).subscribe((resp) => {\r\n      this.accountdetailsForStatusUpdate = resp;\r\n      this.updateCardAccountStatus();\r\n    });\r\n  }\r\n  onDone() {\r\n    this.isDone = true;\r\n    this.dialogService.alertForCardFinishButton().subscribe((response) => {\r\n      console.log(\"response ::\", response);\r\n    });\r\n  }\r\n  updateCardAccountStatus() {\r\n    let statusModel = {\r\n      cardId: this.cardId,\r\n      status: \"BACKLOG\",\r\n    };\r\n    this.api.updateCardStatus(statusModel).subscribe((updateResp) => {\r\n      console.log(\"updateResp:: \", updateResp);\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cardaccount/DigitalSigning/list']);\r\n  }\r\n\r\n  resetState() {\r\n    this.ls.removeItem(\"CARD_APPLICATION_ENTRY_DONE\");\r\n    this.ls.removeItem(\"CARD_INITIATION_DONE\");\r\n    this.ls.removeItem(\"Card_Customer_Done\");\r\n    this.ls.removeItem(\"CARD_FINANCIAL_DONE\");\r\n    this.ls.removeItem(\"card_prefrence_done\");\r\n    this.ls.removeItem(\"CARD_ACC_SERVICE_DONE\");\r\n    this.ls.removeItem(\"Card_CIF_NUM_PRIMARY\");\r\n    this.ls.removeItem(\"Card_Applicant_name\");\r\n\r\n    this.ls.removeItem(\"CARD_DOCUMENT_STAGE_DONE\");\r\n    this.ls.removeItem(\"CARD_DOCUMENT_DONE\");\r\n\r\n    this.ls.removeItem(\"CARD_ENRICHMENT_DONE\");\r\n    this.ls.removeItem(\"CARD_INTEREST_DETAILS_DONE\");\r\n    this.ls.removeItem(\"CARD_CHARGE_DETAILS_DONE\");\r\n\r\n    this.ls.removeItem(\"CARD_UNDERWRITING_DONE\");\r\n    this.ls.removeItem(\"CARD_CREDIT_RATING_DONE\");\r\n    this.ls.removeItem(\"CARD_QUALITATIVE_SCOREBOARD_DONE\");\r\n\r\n    this.ls.removeItem(\"CARD_ASSESSMENT_STAGE_DONE\");\r\n    this.ls.removeItem(\"CARD_ASSESSMENT_DONE\");\r\n\r\n    this.ls.removeItem(\"CARD_SUPERVISOR_DONE\");\r\n    this.ls.removeItem(\"CARD_APPROVAL_DONE\");\r\n\r\n    this.ls.removeItem(\"CARD_DIGITAL_STAGE_DONE\");\r\n    this.ls.removeItem(\"CARD_DIGITAL_SIGN_DONE\");\r\n    this.ls.removeItem(\"enable\");\r\n    this.ls.removeItem(\"eSignStage\");\r\n    this.ls.removeItem(\"cardId\");\r\n    this.ls.removeItem(\"CardNoOfApplicants\");\r\n    this.ls.removeItem(\"primaryCustomerName\");\r\n    this.ls.removeItem(\"cardownership_value\");\r\n    this.ls.removeItem(\"cId\");\r\n    this.ls.removeItem(\"cardSignedImage\");\r\n    this.ls.removeItem(\"enable\")\r\n\r\n    sessionStorage.clear();\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([\"/cardaccount/applicationEntryStage/list\"]);\r\n  }\r\n\r\n  onSubmit() {\r\n    let payload = {\r\n      accountId: this.cardId,\r\n      esignLink: \"gcom\",\r\n      subject: \"testing\",\r\n    };\r\n    this.api.signInLater(payload).subscribe(\r\n      (data: any) => {\r\n        console.log(\"data::\", data);\r\n        this.getByAccountId(this.cardId);\r\n        this.ls.setItem(\"eSignStage\", true);\r\n        // this.accountService.refresh.next();\r\n        let response: any = {\r\n          email: data.email,\r\n          customerId: data.customerId,\r\n          subject: data.subject,\r\n          isSignLater: true,\r\n          screen: \"Create Account\",\r\n        };\r\n        this.openPopUp(response);\r\n      },\r\n      (err: any) => {}\r\n    );\r\n  }\r\n}\r\n","<div class=\"matcard-size\">\r\n  <div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/Mask Group 55.svg\" alt=\"\" class=\"w-90\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Digital Signing</b></div>\r\n      </div>\r\n    </div>\r\n    <mat-card class=\"mat-card-img\">\r\n      <div fxFlex=\"100\" class=\"mt-32\">\r\n        <mat-card\r\n          class=\"sign-box hoverAdd\"\r\n          (click)=\"openPopUp()\"\r\n          [@animate]=\"{ value: '*', params: { delay: '300ms', y: '50px' } }\"\r\n          matRipple\r\n        >\r\n          <mat-card-content class=\"p-0\">\r\n            <mat-list class=\"compact-list mb-16\">\r\n              <mat-list-item class=\"\">\r\n                <img class=\"mr-16\" src=\"assets/images/svg/signnow.png\" alt=\"\" />\r\n                <!-- [ngClass]=\" show ? 'primary' : 'secondary'\" -->\r\n                <div fxLayout=\"column\" fxFlex=\"100\">\r\n                  <h3 class=\"m-0 mr-16\">Sign Now</h3>\r\n                  <span fxFlex></span>\r\n                  <br />\r\n                  <div fxFlex=\"40\" class=\"text\">\r\n                    Enables you to digitally sign the document. To e sign the\r\n                    document, click on it, create your eSignature, click on Done\r\n                    and it will add to your document.\r\n                  </div>\r\n                </div>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n\r\n      <div fxFlex=\"100\">\r\n        <div class=\"text-center\">\r\n          <button mat-button class=\"text\">OR</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div fxFlex=\"100\">\r\n        <mat-card\r\n          class=\"sign-box hoverAdd\"\r\n          \r\n          matRipple\r\n        >\r\n          <mat-card-content class=\"p-0\">\r\n            <mat-list class=\"compact-list mb-16\">\r\n              <mat-list-item class=\"\" (click)=\"onSubmit()\">\r\n                <img\r\n                  class=\"mr-16\"\r\n                  src=\"assets/images/svg/signlater.png\"\r\n                  alt=\"\"\r\n                />\r\n                <!-- [ngClass]=\" show ? 'primary' : 'primary'\" -->\r\n                <div fxLayout=\"column\" fxFlex=\"100\">\r\n                  <h3 class=\"m-0 mr-16\">Sign Later</h3>\r\n                  <span fxFlex></span>\r\n                  <br />\r\n                  <div fxFlex=\"40\" class=\"text\">\r\n                    Enables you to sign the document later. To sign later, click\r\n                    here, an email will be sent to the respective email id\r\n                    provided with a sign link. You can verify and sign later.\r\n                  </div>\r\n                </div>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n    </mat-card>\r\n    <div fxFlex=\"100\" class=\"mt-16\">\r\n      <button mat-button class=\"Backbtn\" (click)=\"goBack()\">BACK</button>\r\n      <span fxFlex></span>\r\n\r\n      <button\r\n        class=\"Nextbtn\"\r\n        mat-raised-button\r\n        color=\"primary\"\r\n        type=\"button\"\r\n        [disabled]=\"!show\"\r\n        (click)=\"onDone()\"\r\n      >\r\n        FINISH\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-card-initiation',\r\n  templateUrl: './card-initiation.component.html',\r\n  styleUrls: ['./card-initiation.component.scss']\r\n})\r\nexport class CardInitiationComponent implements OnInit {\r\n  cifNumberForm = new FormControl();\r\n  timer: any;\r\n  listOfCustByCif: any = [];\r\n\r\n  cardInitiationForm: FormGroup;\r\n  showEditOption: boolean = false;\r\n  isCardInitiationDone:boolean = false;\r\n  arrayofEmployment: any[] = [];\r\n  cardId: any;\r\n  applicant: any;\r\n  console: any;\r\n  isCifValid: boolean = false;\r\n  onbackSpace: boolean = false;\r\n  showSpinn: boolean;\r\n  cifNumberPrimary: any;\r\n  flag: boolean;\r\n  currencyData: any;\r\n  arrayAccountBranch: any;\r\n  branchName: any;\r\n  isExistingCustomer: boolean = true;\r\n  isAddOnCard:boolean = false;\r\n  localCurrencyArr = ['CNY', 'GBP', 'INR', 'USD', 'ZAR', 'GBP'];\r\n  selectedCurrency = this.localCurrencyArr[-1];\r\n  kycStatus: any;\r\n  status: any;\r\n  iskycStatus: boolean = false;\r\n  isGoForKyc: boolean = false;\r\n  isKycForCardDone: boolean = false;\r\n  cardType: any;\r\n  kycRefrence: string;\r\n  accountID: any;\r\n  accountNoArr = [];\r\n  cifNumber: any;\r\n  constructor(private ls: LocalStoreService, private router: Router, private accountService: AccountService,\r\n    private formBuilder: FormBuilder, private apiService: ApiService, private appApiService: ApplicationEntryStageService,\r\n    private snack: MatSnackBar, private cdr: ChangeDetectorRef) {\r\n  }\r\n\r\n  ngOnInit(): void { \r\n   // this.ls.getItem(\"kycnumber\");\r\n   console.log(this.ls.getItem(\"cardCustomer\"));\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.applicant=this.ls.getItem('NAME');\r\n    this.getEmploymentType(\"employment_type\");\r\n    console.log(\"this.cardId\",this.cardId);\r\n\r\n    this.buildInitiationForm();\r\n    // this.cardInitiationForm.get('applicantName').setValue(this.applicant);\r\n    let isCardDetails: boolean = JSON.parse(this.ls.getItem('CARD_INITIATION_DONE'));\r\n    this.isCardInitiationDone = this.ls.getItem('CARD_INITIATION_DONE');\r\n    if (this.cardId != null && this.isCardInitiationDone) {\r\n      this.iskycStatus = true;\r\n      this.showEditOption = true;\r\n      this.cifNumberPrimary = this.ls.getItem(\"Card_CIF_NUM_PRIMARY\");\r\n      this.getCardInitiation();\r\n\r\n    }\r\n\r\n\r\n    //console.log(\"this.kycStatus\",this.kycStatus);\r\n    this.isKycForCardDone = this.ls.getItem(\"kycForCard\");\r\n    if (this.isKycForCardDone == true) {\r\n      // this.kycStatus = this.ls.getItem(\"KycStatus\");\r\n      this.cardInitiationForm.get('existingCustomer').patchValue(false);\r\n      this.kycRefrence = this.ls.getItem(\"kycReference\");\r\n      if(this.kycRefrence){\r\n        let kycNum = this.kycRefrence.slice(4);\r\n        console.log(kycNum);        \r\n        this.apiService.getPrimaryInfo(kycNum).subscribe((result: any) => {\r\n          this.kycStatus = result.customerInfoList[0].customerAdditionalInfo.kycStatus\r\n          this.ls.setItem('KycStatus',this.kycStatus)\r\n        })\r\n      }\r\n      this.iskycStatus = true;\r\n      this.isGoForKyc = true;\r\n      this.cardInitiationForm.get('cardType').patchValue(this.ls.getItem(\"cardType\"));\r\n      console.log(this.ls.getItem(\"cardCustomer\"));\r\n      this.cardInitiationForm.controls.applicantName.setValue(this.ls.getItem(\"cardCustomer\"));\r\n      //this.ls.getItem(\"cardType\");\r\n    }\r\n    else {\r\n      //   this.iskycStatus=false;\r\n    }\r\n  }\r\n\r\n  onKeyPress(event: any) {\r\n    if (event.keyCode === 8) {\r\n      this.onbackSpace = true;\r\n      this.isCifValid = false;\r\n    }\r\n    else {\r\n      this.onbackSpace = false;\r\n    }\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    console.log(event.target.value, !event.target.value);\r\n    clearTimeout(this.timer)\r\n    \r\n    if (!event.target.value) {\r\n      this.isCifValid = false;\r\n      this.cardInitiationForm.get('cifNumber').clearValidators();\r\n      this.cardInitiationForm.get('cifNumber').updateValueAndValidity();\r\n      this.cardInitiationForm.get('existingCustomer').patchValue(true);\r\n      this.cardInitiationForm.reset();\r\n      this.listOfCustByCif = []\r\n    } else {\r\n      this.timer = setTimeout(() => {\r\n        this.appApiService.fetchByCif(event.target.value).subscribe((res: any) => { \r\n          console.log(res);\r\n          if (res) {\r\n            this.listOfCustByCif = res.customerInfoList\r\n          }\r\n        })\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  goToggle(event: any) {\r\n    // this.cardInitiationForm.reset();\r\n    console.log(\"event\", event.checked);\r\n    if (event.checked == true) {\r\n      // this.cardInitiationForm.reset();\r\n      this.cardInitiationForm.get('existingCustomer').patchValue(true);\r\n      this.isExistingCustomer = true;\r\n      // this.cardInitiationForm.reset();\r\n\r\n    }\r\n    else {\r\n      // this.cardInitiationForm.reset();\r\n      this.cardInitiationForm.controls.currency.setValue(\"\");\r\n      // this.cardInitiationForm.get(\"currency\").setValue(\"\");    \r\n      this.cardInitiationForm.get(\"employmentType\").setValue(\"\");\r\n      this.cardInitiationForm.get(\"applicantName\").setValue(\"\");\r\n      this.cardInitiationForm.get(\"customerAccount\").setValue(\"\");\r\n      this.cardInitiationForm.get(\"nameOnCard\").setValue(\"\");\r\n      this.cardInitiationForm.get(\"affinityProgram\").setValue(\"\");\r\n      this.cardInitiationForm.get(\"cifNumber\").setValue(\"\");\r\n      this.cardInitiationForm.get('existingCustomer').patchValue(false);\r\n      this.isExistingCustomer = false;\r\n      // this.cardInitiationForm.get(\"currency\").setValue(\"\");\r\n      \r\n    }\r\n\r\n  }\r\n  addOnCard(event: any) {\r\n    console.log(\"event\", event.checked);\r\n    if (event.checked == true) {\r\n      this.isAddOnCard = true;\r\n      this.ls.setItem('ADD_ON_CARD', true);\r\n    }\r\n    else {\r\n      this.isAddOnCard = false;\r\n      this.ls.setItem('ADD_ON_CARD', false);\r\n    }\r\n\r\n  }\r\n  \r\n  getEmploymentType(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayofEmployment = data;\r\n      console.log(this.arrayofEmployment);\r\n\r\n    });\r\n  }\r\n\r\n  getAccountData(cifNumber){\r\n    this.apiService.getProfileDetails(cifNumber)\r\n      .subscribe((data: any) => {\r\n        console.log(data);\r\n        console.log(data?.signatures?.[0]?.accountId)\r\n        this.accountID = data?.signatures?.[0]?.accountId;\r\n        this.cardInitiationForm.controls.currency.setValue(data?.accountCurrency);\r\n      }, (error: any) => {\r\n        // console.log(error);\r\n      });\r\n  }\r\n  onSubmit() {\r\n    console.log(\"data\", this.cardInitiationForm.value)\r\n    localStorage.setItem('Currency Type', this.cardInitiationForm.value.currency);\r\n    let payload = {\r\n      existingCustomer: this.cardInitiationForm.value.existingCustomer,\r\n      cardType: this.cardInitiationForm.value.cardType,\r\n      customerAccount: this.cardInitiationForm.value.customerAccount,\r\n      applicantName: this.cardInitiationForm.value.applicantName,\r\n      currency: this.cardInitiationForm.value.currency,\r\n      employmentType: this.cardInitiationForm.value.employmentType,\r\n      affinityProgram: this.cardInitiationForm.value.affinityProgram,\r\n      nameOnCard: this.cardInitiationForm.value.nameOnCard,\r\n      status: null,\r\n      kycStatus: this.kycStatus,\r\n      kycReference: this.kycRefrence,\r\n      customerId: this.cardInitiationForm.value.cifNumber,\r\n\r\n      cardId: this.showEditOption ? this.cardId : null,\r\n    }\r\n\r\n    this.apiService.uploadCardInitiation(payload)\r\n      .subscribe((data: any) => {\r\n        this.ls.setItem('cardId', data.cardId);\r\n        let statusModel = {\r\n          cardId: data.cardId,\r\n          status: \"ONGOING\"\r\n        };\r\n        this.apiService.updateCardStatus(statusModel).subscribe(data => {\r\n        });\r\n\r\n        console.log(\"data\", data);\r\n        \r\n        this.next();\r\n      });\r\n\r\n  }\r\n  next() {\r\n    this.ls.setItem('CARD_INITIATION_DONE',true);\r\n    this.ls.setItem('Card_Applicant_name',this.cardInitiationForm.value.applicantName);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/customerInformation`]);\r\n  }\r\n  getCardInitiation() {\r\n\r\n    this.apiService.getCardInitiationDetails(this.cardId)\r\n    .subscribe((resp: any) => {\r\n      this.kycStatus = resp.kycStatus;\r\n      this.kycRefrence = resp.kycReference;\r\n      this.buildInitiationForm(resp);\r\n      this.apiService.fetchAccountIdByCustId(this.cifNumberPrimary).subscribe((accountNo: any[]) => {\r\n        this.accountNoArr = accountNo;\r\n        this.cardInitiationForm.controls.customerAccount.setValue(this.accountNoArr?.[0])\r\n      });\r\n      console.log(\"data\", resp);\r\n      if (resp.existingCustomer == true) {\r\n        this.isExistingCustomer = true;\r\n      }\r\n      else {\r\n        this.isExistingCustomer = false;\r\n      }\r\n\r\n    });\r\n  }\r\n  buildInitiationForm(data?) {\r\n    const addOnCard = localStorage.getItem(\"ADD_ON_CARD\"); \r\n        \r\n    \r\n    this.cardInitiationForm = this.formBuilder.group({\r\n      cifNumber: [data ? this.cifNumberPrimary : '',data?.existingCustomer == true?[Validators.required]:[Validators.nullValidator]],\r\n      existingCustomer: [data ? data.existingCustomer : true,],\r\n      cardType: [data ? data.cardType : '', [Validators.required]],\r\n      customerAccount: [data ? data.customerAccount : '', data?.existingCustomer == true?[Validators.required]:[Validators.nullValidator]],\r\n      applicantName: [data ? data.applicantName : ''],\r\n      currency: [data ? data.currency : '', [Validators.required]],\r\n      employmentType: [data ? data.employmentType : '', [Validators.required]],\r\n      affinityProgram: [data ? data.affinityProgram : '', [Validators.required]],\r\n      nameOnCard: [data ? data.nameOnCard : '', [Validators.required]],\r\n      addOnCard:[addOnCard == 'true' ? true : false],\r\n    });\r\n    this.selectedCurrency = data?.currency;\r\n    this.formControlValueChanged();\r\n  }\r\n  formControlValueChanged() {\r\n    \r\n    let cifNumberControl = this.cardInitiationForm.get('cifNumber');\r\n    this.cardInitiationForm.get('existingCustomer').valueChanges.subscribe(\r\n        (val) => {\r\n            console.log(val);\r\n            if (val == false) {\r\n              this.cardInitiationForm.get('customerAccount').setValidators([Validators.nullValidator]);\r\n                cifNumberControl.setValidators([Validators.nullValidator]);\r\n            }   \r\n            else{\r\n              this.cardInitiationForm.get('customerAccount').setValidators([Validators.required]);\r\n              cifNumberControl.setValidators([Validators.required]);\r\n          }            \r\n            cifNumberControl.updateValueAndValidity();\r\n        });\r\n}\r\n  goBack() {\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list`]);\r\n  }\r\n  keyUpevent(event) {\r\n    if (event.keyCode === 8) {\r\n      this.onbackSpace = true;\r\n      this.isCifValid = false;\r\n    }\r\n    else {\r\n      this.onbackSpace = false;\r\n    }\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n  letterOnly(event) {\r\n    console.log(!this.isGoForKyc);\r\n    console.log(!this.cardInitiationForm.valid);\r\n    console.log(!this.cardInitiationForm.valid || !this.isGoForKyc);\r\n    \r\n    console.log(this.cardInitiationForm);\r\n    var charCode = event.keyCode;\r\n    if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  fetchByCif(cifNumber) {\r\n\r\n    if (!!cifNumber) {\r\n      this.showSpinn = true;\r\n      this.appApiService.fetchByCif(cifNumber).subscribe((res: any) => {\r\n        this.kycStatus = res.customerInfoList[0].customerAdditionalInfo.kycStatus\r\n        this.kycRefrence = res.customerInfoList[0].customerAdditionalInfo.kycReference\r\n     \r\n        this.cardInitiationForm.controls.cifNumber.setValue(cifNumber);\r\n        this.cardInitiationForm.controls.applicantName.setValue(res.customerInfoList[0].firstName + \" \" + res.customerInfoList[0].lastName);\r\n       // this.ls.setItem('Card_Applicant_name', res.customerInfoList[0].firstName + \" \" + res.customerInfoList[0].lastName);\r\n        this.cardInitiationForm.controls.customerAccount.setValue(this.accountID)\r\n\r\n        this.showSpinn = false;\r\n\r\n        if (!res) {\r\n          this.isCifValid = false;\r\n\r\n          this.snack.open('Invalid CIF Number', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n          // this.cardInitiationForm.get('cifNumber').patchValue(\"\");\r\n          return;\r\n        } else {\r\n          if (res.customerInfoList[0].custStatus != \"APPROVED\") {\r\n            this.isCifValid = false;\r\n          }\r\n          if (res.customerInfoList[0].custStatus == \"APPROVED\") {\r\n            this.isCifValid = true;\r\n          }\r\n          //console.log(this.isCifValid,\"else2 condition\");\r\n\r\n          let address: any;\r\n          // this.console.log(res.customerInfoList[0].userAddress.length);\r\n          if (res.customerInfoList[0].userAddress.length > 1) {\r\n            address = res.customerInfoList[0].userAddress.find((item: any) => item.addressType == \"Permanent\" || item.addressType == \"permanent\");\r\n          } else {\r\n            address = res.customerInfoList[0].userAddress[0];\r\n          }\r\n          let queryParams = {\r\n            prefix: res.customerInfoList[0].prefix,\r\n            customerId: res.customerInfoList[0].customerId,\r\n            firstName: res.customerInfoList[0].firstName,\r\n            middleName: res.customerInfoList[0].middleName,\r\n            lastName: res.customerInfoList[0].lastName,\r\n            gender: res.customerInfoList[0].gender,\r\n            dateOfBirth: this.convertDate(res.customerInfoList[0].dateOfBirth),\r\n            placeOfBirth: res.customerInfoList[0].placeOfBirth,\r\n            residenceStatus: res.customerInfoList[0].residenceStatus,\r\n            nationality: res.customerInfoList[0].nationality,\r\n            countryOfResidence: res.customerInfoList[0].countryOfResidence,\r\n            occupationType: res.customerInfoList[0].occupationType,\r\n            custIdProofs: res.customerInfoList[0].custIdProofs,\r\n            idType: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idType : '',\r\n            idNumber: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idNumber : '',\r\n            expiryDate: res.customerInfoList[0].custIdProofs.length > 0 ? this.convertDate(res.customerInfoList[0].custIdProofs[0].expiryDate) : '',\r\n            addressType: address.addressType,\r\n            address1: address.address1,\r\n            address2: address.address2,\r\n            city: address.city,\r\n            country: address.country,\r\n            state: address.state,\r\n            zipCode: address.zipCode,\r\n            phoneNumber: res.customerInfoList[0].phoneNumber,\r\n            landlineNumber: res.customerInfoList[0].landlineNumber,\r\n            primaryEmailAdress: res.customerInfoList[0].primaryEmailAdress\r\n          };\r\n          if (this.cardInitiationForm.value.swiftCode == null || this.cardInitiationForm.value.swiftCodeEnable == null) {\r\n            console.log(this.cardInitiationForm.value.swiftCode);\r\n            this.flag = false;\r\n          }\r\n          this.cifNumberPrimary = cifNumber;\r\n          this.ls.setItem(\"Card_CIF_NUM_PRIMARY\", this.cifNumberPrimary);\r\n          this.apiService.sendCIF(queryParams);\r\n          this.apiService.fetchAccountIdByCustId(cifNumber).subscribe((accountNo: []) => {\r\n            this.accountNoArr = accountNo;\r\n            this.cardInitiationForm.controls.customerAccount.setValue(this.accountNoArr?.[0])\r\n            console.log(accountNo);\r\n          });\r\n        }\r\n        this.cdr.markForCheck();\r\n\r\n      });\r\n      this.getAccountData(cifNumber);\r\n    }\r\n  }\r\n  changeEvent(event: any) {\r\n    console.log(event.value);\r\n    this.cardType = event.value\r\n    if (event.value == \"Credit\" || \"Debit\" || \"Forex\") {\r\n      this.iskycStatus = true;\r\n      if (this.kycStatus == \"APPROVED\") {\r\n        this.isGoForKyc = true;\r\n      }\r\n      else {\r\n        this.isGoForKyc = false;\r\n      }\r\n\r\n    }\r\n    else {\r\n      this.isGoForKyc = true;\r\n      this.iskycStatus = false;\r\n    }\r\n  }\r\n  convertDate(value) {\r\n    let date = moment(value).format('YYYY-MMM-DD'); // ISO 8601 format\r\n    // let date = new Date(value).format('yyyy-MMM-dd');\r\n    if (date)\r\n      return date;\r\n  }\r\n  goToKyc() {\r\n    this.ls.setItem('cardType', this.cardType);\r\n    this.ls.setItem(\"accountType\", 'cardOrigination')\r\n    this.router.navigate([`/others/kyc`]);\r\n  }\r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/undraw_opinion_dxp8.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title\"><b>Card Initiation</b></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"row\">\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">\r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Card Initiation</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form fxLayout=\"column\" [formGroup]=\"cardInitiationForm\">\r\n          <div fxFlex=\"100%\" fxLayoutGap=\"10px\">\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n              <div class=\"pb-1\">\r\n                <label class=\"hint\">Existing Customer *</label>\r\n\r\n                <mat-slide-toggle style=\"margin-left: 1cm;\" name=\"scholarshipOrBusinessEligible\"\r\n                  formControlName=\"existingCustomer\" (change)=\"goToggle($event)\">\r\n                </mat-slide-toggle>\r\n              </div>\r\n\r\n              <div class=\"flex-grow-1\" fxFlex=\"100%\" *ngIf=\"iskycStatus\" fxLayout=\"column\">\r\n                <div fxFlex=\"100%\">\r\n                  <label class=\"hint\">KYC ID</label>&nbsp;\r\n                  <label style=\"color: #03a9f4;\">{{kycRefrence}}</label>\r\n                  <label class=\"hint\">KYC Status</label>&nbsp;\r\n                  <label style=\"color: #03a9f4;\">{{kycStatus}}</label>\r\n                </div>\r\n                <div>\r\n                  &nbsp;&nbsp;&nbsp;<button mat-button [disabled]=\"isGoForKyc || isExistingCustomer\" (click)=\"goToKyc()\"\r\n                    style=\"text-decoration: underline;\">Go For KYC</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"pb-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Card Type *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <mat-select formControlName=\"cardType\" placeholder=\"Select\"\r\n                    (selectionChange)=\"changeEvent($event)\">\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option *ngIf=\"isExistingCustomer\" value=\"Debit\">Debit</mat-option>\r\n                    <mat-option value=\"Credit\">Credit</mat-option>\r\n                    <mat-option *ngIf=\"isExistingCustomer\" value=\"Forex\">Forex</mat-option>\r\n\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('cardType').valid  && cardInitiationForm.get('cardType').touched \">\r\n                  &nbsp;&nbsp;&nbsp;Card Type is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n\r\n              </div>\r\n              <div class=\"pb-1\" *ngIf=\"isExistingCustomer\">\r\n                <div>\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">CIF Number*</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <input matInput class=\"alignment\" type=\"text\" (keypress)=_keyPress($event)\r\n                    (change)=\"fetchByCif(cardInitiationForm.get('cifNumber').value)\"\r\n                    (keyup)=\"onKeyPress($event)\" [formControl]=\"cifNumberForm\" [matAutocomplete]=\"auto\"\r\n                    formControlName=\"cifNumber\" placeholder=\"CIF Number\" />\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                *ngIf=\"!cardInitiationForm.get('cifNumber').valid  && cardInitiationForm.get('cifNumber').touched\">\r\n                &nbsp;&nbsp;&nbsp; CIF Number Is Required\r\n                </mat-error>\r\n                  </mat-form-field>\r\n              </div>\r\n\r\n                <div>\r\n                  <mat-autocomplete #auto=\"matAutocomplete\">\r\n                    <mat-option *ngFor=\"let option of listOfCustByCif\" [value]=\"option.customerId\">\r\n                      <div fxLayout=\"row wrap\" style=\"margin-top: 20px;\">\r\n                        <div fxFlex=\" 100\">\r\n                          <div mat-card-avatar *ngIf=\"option?.profileImage =='not_available'\" class=\"example-header-image-dropdown\" fxFlex=\"10\">\r\n                            <h3 align=\"center\" style=\"margin-top: 5px;font-size: large;\">\r\n                              {{option?.firstName | slice:0:1 | uppercase}}{{option?.lastName | slice:0:1 | uppercase}}\r\n                            </h3>\r\n                          </div>\r\n                          <div *ngIf=\"option?.profileImage !='not_available'\" mat-card-avatar fxFlex=\"10\">\r\n                            <img matListAvatar\r\n                              style=\"border-radius: 50%;height: 85%;margin-right: 20px;width: 100%;margin-bottom: 50px;\" align=\"center\"\r\n                              [src]=\"option?.profileImage\" alt=\"...\">\r\n                          </div>\r\n                          <div fxFlex=\"80\">\r\n                            <h5 style=\"margin-bottom: 0px;\">\r\n                              {{option?.firstName | uppercase}}\r\n                              {{option?.middleName | uppercase}}\r\n                              {{option?.lastName | uppercase}}\r\n                            </h5>\r\n                            <h6 style=\"margin-top: 0px;\">#{{option?.cifNumber}}</h6>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </mat-option>\r\n                  </mat-autocomplete>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"pb-1\" *ngIf=\"!isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n                <mat-label class=\"hint\">Currency *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <mat-select formControlName=\"currency\" [(ngModel)]=\"selectedCurrency\"placeholder=\"Select\">\r\n                    <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option [value]=\"currency\" *ngFor=\"let currency of localCurrencyArr\">{{currency}}</mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('currency').valid  && cardInitiationForm.get('currency').touched\">\r\n                  &nbsp;&nbsp;&nbsp;Currency is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n\r\n              </div>\r\n\r\n              <div class=\"pb-1\" *ngIf=\"isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Currency</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <input matInput class=\"alignment\" type=\"text\" autocomplete=\"off\" formControlName=\"currency\"\r\n                    placeholder=\"currency\" name=\"currency\" (keypress)=\"_keyPress($event)\" readonly/>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('currency').valid  && cardInitiationForm.get('currency').touched\">\r\n                  &nbsp;&nbsp;&nbsp;currency is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n\r\n              <div class=\"pb-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Affinity Program *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <mat-select formControlName=\"affinityProgram\" placeholder=\"Select\">\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"Affinity Program1\">Affinity Program1</mat-option>\r\n                    <mat-option value=\"Affinity Program2\">Affinity Program2</mat-option>\r\n\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('affinityProgram').valid  && cardInitiationForm.get('affinityProgram').touched\">\r\n                  &nbsp;&nbsp;&nbsp;Affinity Program is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"pb-1\" *ngIf=\"!isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Name On Card *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <input matInput class=\"alignment\" type=\"text\" (keypress)=letterOnly($event) formControlName=\"nameOnCard\"\r\n                    placeholder=\"Name On Card\" name=\"nameOnCard\" />\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('nameOnCard').valid  && cardInitiationForm.get('nameOnCard').touched\" >\r\n                  &nbsp;&nbsp;&nbsp;Name on Card is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n\r\n              </div>\r\n\r\n\r\n\r\n            </div>\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"pb-1\" *ngIf=\"isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Customer Account Number *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <mat-select formControlName=\"customerAccount\"  >\r\n                    <mat-option [value]=\"accNo\" *ngFor=\"let accNo of accountNoArr\">{{accNo}}</mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('customerAccount').valid  && cardInitiationForm.get('customerAccount').touched\">\r\n                  &nbsp;&nbsp;&nbsp;Customer Account is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"pb-1\" *ngIf=\"!isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Customer Account Number </mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <input matInput class=\"alignment\" type=\"text\" autocomplete=\"off\" formControlName=\"customerAccount\"\r\n                    placeholder=\"Customer Account Number\" name=\"customerAccount\" (keypress)=\"_keyPress($event)\" />\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('customerAccount').valid  && cardInitiationForm.get('customerAccount').touched\">\r\n                  &nbsp;&nbsp;&nbsp;Customer Account is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n\r\n              <div class=\"pb-1\" *ngIf=\"isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Applicant Name </mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <!-- <input *ngIf=\"!isExistingCustomer\" matInput class=\"alignment\" type=\"text\" (keypress)=letterOnly($event)\r\n                    formControlName=\"applicantName\" placeholder=\"Applicant Name\" required/> -->\r\n                  <input *ngIf=\"isExistingCustomer\" matInput class=\"alignment\" type=\"text\" (keypress)=letterOnly($event) readonly\r\n                    formControlName=\"applicantName\" placeholder=\"Applicant Name\" />\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n\r\n              </div>\r\n\r\n              <div class=\"pb-1\"*ngIf=\"!isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Applicant Name * </mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <input *ngIf=\"!isExistingCustomer\" matInput class=\"alignment\" type=\"text\" (keypress)=letterOnly($event)\r\n                    formControlName=\"applicantName\" placeholder=\"Applicant Name\" />\r\n                  <!-- <input *ngIf=\"isExistingCustomer\" matInput class=\"alignment\" type=\"text\" (keypress)=letterOnly($event) readonly\r\n                    formControlName=\"applicantName\" placeholder=\"Applicant Name\" /> -->\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n\r\n              </div>\r\n\r\n              <div class=\"pb-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Employment Type *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <mat-select formControlName=\"employmentType\" placeholder=\"Select\">\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option *ngFor=\"let employment of arrayofEmployment\" [value]=\"employment\">{{employment}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('employmentType').valid  && cardInitiationForm.get('employmentType').touched\">\r\n                  &nbsp;&nbsp;&nbsp;Employment Type is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n\r\n              </div>\r\n              <div class=\"pb-1\" *ngIf=\"isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Name On Card *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <input matInput class=\"alignment\" type=\"text\" formControlName=\"nameOnCard\" (keypress)=\"letterOnly($event)\"\r\n                    placeholder=\"Name On Card\" />\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n\r\n              </div>\r\n\r\n\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          <div fxFlex=\"100%\" fxLayoutGap=\"10px\">\r\n\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n              <div class=\"pb-1\">\r\n                <label class=\"hint\">Addon Card</label>\r\n\r\n                <mat-slide-toggle style=\"margin-left: 1cm;\"formControlName=\"addOnCard\" (change)=\"addOnCard($event)\">\r\n                </mat-slide-toggle>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n            <button mat-button rounded (click)=\"goBack()\">\r\n              Back\r\n            </button>\r\n\r\n            <button class=\"Nextbtn\" mat-raised-button (click)=\"onSubmit()\" [disabled]=\"(!isExistingCustomer||isExistingCustomer || cardInitiationForm.get('cardType').value !== 'Credit' )?(!cardInitiationForm.valid):(!cardInitiationForm.valid || !isGoForKyc)\" color=\"primary\">\r\n              Next\r\n            </button>\r\n          </div>\r\n\r\n\r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n@Component({\r\n  selector: 'app-approval-details',\r\n  templateUrl: './approval-details.component.html',\r\n  styleUrls: ['./approval-details.component.scss']\r\n})\r\nexport class ApprovalDetailsComponent implements OnInit {\r\n  approvalForm: FormGroup;\r\n  arrayAccountType: string[];\r\n  arrayAccountCurrency: string[];\r\n  arrayUserRecomendation: string[];\r\n  cardId: any;\r\n  showEditOption: boolean = false;\r\n  arrayAccountBranch: any;\r\n  currency: any;\r\n\r\n  constructor(private api: ApiService,\r\n    private ls: LocalStoreService,private fb:FormBuilder,\r\n    private apiService:ApiService,private router: Router,\r\n    private accountService : AccountService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getUserRecomendation(\"user_recomendation\");\r\n    this.getAccountType(\"account_type\")\r\n    this.getAccountBranchDetails();\r\n    \r\n    this.buildformGroup();\r\n    console.log(this.approvalForm);\r\n\r\n    this.cardId=this.ls.getItem('cardId');\r\n    console.log(\"this.cardId\",this.cardId);\r\n    this.getCardInitiationDetails();\r\n    let isApprovalDetails: boolean = this.ls.getItem('CARD_APPROVAL_DONE');\r\n    console.log(\"checc\", isApprovalDetails)\r\n    if(this.cardId!=null && isApprovalDetails ){\r\n      this.showEditOption = true;\r\n      this.getApprovalDetails();\r\n\r\n    }\r\n  }\r\n\r\n  buildformGroup(data?){\r\n    this.approvalForm = this.fb.group({\r\n      accountType:[data ? data.accountType : '',Validators.required],\r\n      productCode:[data ? data.productCode :'',Validators.required],\r\n      userRecommendation:[data ? data.userRecommendation :'',Validators.required],\r\n      accountBranch:[data ? data.accountBranch :'',Validators.required],\r\n      accountCurrency:[data ? data.accountCurrency :'',Validators.required],\r\n      productName:[data ? data.productName :'',Validators.required],\r\n      existingValues:[data ? data.existingValues :'',Validators.required],\r\n      remarks:[data ? data.remarks :'']\r\n    })\r\n  }\r\n  onSubmit(){\r\n    console.log(\"data\", this.approvalForm.value);\r\n    \r\n    let payload={\r\n      cardId: this.cardId,\r\n      accountBranch: this.approvalForm.value.accountBranch,\r\n      accountCurrency: this.approvalForm.value.accountCurrency,\r\n      accountType: this.approvalForm.value.accountType,\r\n      existingValues: this.approvalForm.value.existingValues,\r\n      productCode: this.approvalForm.value.productCode,\r\n      productName: this.approvalForm.value.productName,\r\n      remarks: this.approvalForm.value.remarks,\r\n      userRecommendation: this.approvalForm.value.userRecommendation,\r\n\r\n    }\r\n    this.apiService.upsertApprovalDetails(payload)\r\n    .subscribe((data: any) => {\r\n\r\n      console.log(\"data\",data);\r\n      \r\n    });\r\n    this.next();\r\n  }\r\nnext(){\r\n  this.ls.setItem('CARD_APPROVAL_DONE', true);\r\n  this.ls.setItem('CARD_SUPERVISOR_DONE',true);\r\n  this.accountService.refresh.next();\r\n  this.router.navigate([`/cardaccount/DigitalSigning/list`]);\r\n\r\n}\r\ngoBack(){\r\n  this.router.navigate([`/cardaccount/SupervisorApprovalStage/list`]);\r\n}\r\n  getApprovalDetails(){\r\n\r\n    this.apiService.getApprovalDetails(this.cardId)\r\n    .subscribe((resp: any) => {\r\n      this.buildformGroup(resp);\r\n\r\n      console.log(\"data\",resp);\r\n     \r\n    });\r\n  }\r\n  onKeyPress(event: any) {\r\n    const number = /[0-9\\+\\-\\ ]/;\r\n    let inputCharacter = String.fromCharCode(event.charCode);\r\n    if (event.keyCode != 8 && !number.test(inputCharacter)) {\r\n      event.preventDefault();\r\n      console.log(\"event:\", event)\r\n    }\r\n  }\r\n\r\n  getAccountCurrency(key: string) {\r\n    this.api.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayAccountCurrency = data;\r\n    });\r\n  }\r\n\r\n  getAccountType(key: string) {\r\n    this.api.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayAccountType = data;\r\n    });\r\n  }\r\n  \r\n  getUserRecomendation(key: string) {\r\n    this.api.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayUserRecomendation = data;\r\n    });\r\n  }\r\n\r\n  getAccountBranchDetails() {\r\n    //debugger\r\n    this.api.getAccountBranch().subscribe((data) => {\r\n      console.log(\"data:: AccountBranch \", data)\r\n      this.arrayAccountBranch = data;\r\n    });\r\n  }\r\n\r\n  getCardInitiationDetails(){\r\n    this.apiService.getCardInitiationDetails(this.cardId)\r\n    .subscribe((resp: any) => {\r\n    console.log(\"data\",resp);\r\n    this.currency=resp.currency;  \r\n    this.approvalForm.controls.accountCurrency.setValue(this.currency);\r\n    });\r\n  }\r\n\r\n\r\n  keyPressAlphanumeric(event) {\r\n    var inp = String.fromCharCode(event.keyCode);\r\n    if (/[a-zA-Z0-9]/.test(inp)) {\r\n      return true;\r\n    } else {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\" class=\"matcard-size1\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img\r\n          src=\"assets/images/svg/MaskGroup_16.svg\"\r\n          alt=\"\"\r\n          class=\"w-90\"\r\n        />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Approval Details</b></div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-24\">\r\n      <h2 class=\"ml-16\">Approval Details</h2>\r\n      <div class=\"mt-24\"></div>\r\n  \r\n      <mat-card  >\r\n        <form [formGroup]=\"approvalForm\">\r\n        <mat-card-content>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"pb-1\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\" >\r\n                  <mat-label>Account Type*</mat-label>\r\n                  <mat-select name=\"accountType\" placeholder=\"Account type\" formControlName=\"accountType\" >\r\n                     <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option *ngFor=\"let arrayAccountType of arrayAccountType\" [value]=\"arrayAccountType\" > \r\n                      {{arrayAccountType}} \r\n                    </mat-option> \r\n                  </mat-select>\r\n                  <mat-error *ngIf=\"approvalForm.get('accountType').hasError('required')\">\r\n                    Please Select Account Type\r\n                   </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n  \r\n              <div class=\"pb-1\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\" >\r\n                  <mat-label>Product Code*</mat-label>\r\n                  <input\r\n                    matInput\r\n                    name=\"productCode\"\r\n                    placeholder=\"Product Code\"\r\n                    formControlName=\"productCode\" \r\n                  />\r\n                  <!-- <mat-error *ngIf=\"approvalForm.get('productCode').hasError('required')\">\r\n                    Please Select Product Code\r\n                   </mat-error> -->\r\n                   <!-- <mat-icon matSuffix>account_balance</mat-icon> -->\r\n                </mat-form-field>\r\n                <mat-error\r\n                   *ngIf=\"approvalForm.get('productCode').touched &&\r\n                   approvalForm.get('productCode').value == 0\">\r\n                   Please Enter valid Product ID\r\n              </mat-error>\r\n              </div>\r\n  \r\n              <div class=\"pb-1\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\"  >\r\n                  <mat-label>Account Currency*</mat-label>\r\n                    <input\r\n                    matInput\r\n                    name=\"account_currency\"\r\n                    placeholder=\"Account Currency\"\r\n                    formControlName=\"accountCurrency\"\r\n                    (keypress)=\"keyPressAlphanumeric($event)\"\r\n                    readonly\r\n                  />\r\n                  <mat-error *ngIf=\"approvalForm.get('accountCurrency').hasError('required')\">\r\n                    Please Enter Account Currency\r\n                   </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n  \r\n              <div class=\"pb-1\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>User Recomendation*</mat-label>\r\n                  <mat-select name=\"owner\" placeholder=\"Recommended for Approval\" formControlName=\"userRecommendation\" >\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option *ngFor=\"let userRecommendation of arrayUserRecomendation\" [value]=\"userRecommendation\" > \r\n                      {{userRecommendation}} \r\n                    </mat-option> \r\n                  </mat-select>\r\n                  <mat-error *ngIf=\"approvalForm.get('userRecommendation').hasError('required')\">\r\n                   Please Select user Recommendation\r\n                  </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              \r\n            </div>\r\n  \r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n              <div class=\"pb-1\" >\r\n                <mat-form-field class=\"full-width\" appearance=\"outline\" >\r\n                  <mat-label>Account Branch*</mat-label>\r\n                  <mat-select name=\"accountBranch\" placeholder=\"Account Branch\" formControlName=\"accountBranch\" >\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option *ngFor=\"let arrayAccountBranch of arrayAccountBranch\" [value]=\"arrayAccountBranch.branchName\" > \r\n                      {{arrayAccountBranch.branchName}} \r\n                    </mat-option> \r\n                  </mat-select>\r\n                  <mat-error *ngIf=\"approvalForm.get('accountBranch').hasError('required')\">\r\n                    Please Select Account Branch \r\n                   </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"pb-1\" >\r\n                <mat-form-field class=\"full-width\" appearance=\"outline\" >\r\n                  <mat-label>Product Name*</mat-label>\r\n                  <input\r\n                    matInput\r\n                    name=\"productName\" \r\n                    placeholder=\"Product Name\" \r\n                    formControlName=\"productName\"\r\n                    (keypress)=\"keyPressAlphanumeric($event)\"\r\n                  />\r\n                  <!-- <mat-error *ngIf=\"approvalForm.get('productName').hasError('required')\">\r\n                   Please Enter Product Name\r\n                   </mat-error> -->\r\n                </mat-form-field>\r\n                <mat-error\r\n                   *ngIf=\"approvalForm.get('productName').touched &&\r\n                   approvalForm.get('productName').value == 0\">\r\n                   Please Enter valid Product Name\r\n                </mat-error>\r\n              </div>\r\n              \r\n              <div class=\"pb-1\" >\r\n                <mat-form-field class=\"full-width\" appearance=\"outline\" >\r\n                  <mat-label>Existing Value*</mat-label>\r\n                  <input\r\n                    matInput onlyNumber\r\n                    name=\"existingValues\" \r\n                    placeholder=\"Existing Value\"\r\n                    (keypress)=\"onKeyPress($event)\"\r\n                    formControlName=\"existingValues\"\r\n                  />\r\n                  <!-- <mat-error *ngIf=\"approvalForm.get('existingValues').hasError('required')\">\r\n                    Please Enter Existing Value\r\n                   </mat-error> -->\r\n                </mat-form-field>\r\n                <mat-error\r\n                   *ngIf=\"approvalForm.get('existingValues').touched &&\r\n                   approvalForm.get('existingValues').value == 0\">\r\n                   Please Enter valid Existing Value\r\n                </mat-error>\r\n              </div>\r\n\r\n              <div class=\"pb-1\" >\r\n                <mat-form-field class=\"full-width\" appearance=\"outline\" >\r\n                  <mat-label>Remarks</mat-label>\r\n                  <input\r\n                    matInput\r\n                    name=\"remarks\" \r\n                    placeholder=\"Remarks\" \r\n                    formControlName=\"remarks\"\r\n                  />\r\n                  <mat-error *ngIf=\"approvalForm.get('remarks').hasError('required')\">\r\n                    Please Enter Remarks\r\n                   </mat-error>\r\n                </mat-form-field>\r\n              </div> \r\n            </div>\r\n          </div>\r\n        </mat-card-content>\r\n      </form>\r\n      </mat-card>\r\n      \r\n    </div>\r\n  \r\n    <div fxFlex=\"100\" class=\"mt-16\">\r\n      <button mat-stroked-button class=\"Backbtn\"  (click)=goBack() >BACK</button>\r\n      <span fxFlex></span>\r\n      <button class=\"Nextbtn\" mat-raised-button color=\"primary\" type=\"button\"\r\n      (click)=\"onSubmit()\"\r\n       [disabled]=\"approvalForm.invalid\" >Next</button>\r\n    </div>\r\n  </div>\r\n ","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { MatDialogRef } from \"@angular/material/dialog\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n\r\n@Component({\r\n  selector: 'app-intrest-details-summary',\r\n  templateUrl: './intrest-details-summary.component.html',\r\n  styleUrls: ['./intrest-details-summary.component.scss']\r\n})\r\nexport class IntrestDetailsSummaryComponent implements OnInit {\r\n  interestForm: FormGroup;\r\n  savingForm: FormGroup;\r\n  loanForm: FormGroup;\r\n  accountType: any;\r\n  accountId: any;\r\n  resp: {\r\n    intrestType: string;\r\n    interestRateApplicable: string;\r\n    marginIn: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  // loanAccountId: any;\r\n  cardId: number;\r\n  constructor(\r\n    private ls: LocalStoreService,\r\n    private snack: MatSnackBar,\r\n    private dialogRef: MatDialogRef<IntrestDetailsSummaryComponent>,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.interestForm = this.formBuilder.group({\r\n      interest: new FormArray([]),\r\n    });\r\n    this.savingForm = this.formBuilder.group({\r\n      saving: new FormArray([]),\r\n    });\r\n\r\n    this.loanForm = this.formBuilder.group({\r\n      loan: new FormArray([]),\r\n    });\r\n\r\n    this.api.cardInterestFetchById(this.cardId).subscribe((resp) => {\r\n      console.log(\"resp from backend \", this.resp);\r\n      this.resp = resp;\r\n      this.onChangeInterest(this.resp.length);\r\n      this.in.patchValue(this.resp);\r\n    });\r\n  }\r\n\r\n  assignAccountType(accountType) {\r\n    this.accountType = accountType;\r\n  }\r\n\r\n  onChangeInterest(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            intrestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            cardId: [this.cardId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  onChangeSaving(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.is.length < numberOfItems) {\r\n      for (let i = this.is.length; i < numberOfItems; i++) {\r\n        this.is.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            interestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            cardId: [this.cardId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.is.length; i >= numberOfItems; i--) {\r\n        this.is.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  onChangeLoan(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.iloan.length < numberOfItems) {\r\n      for (let i = this.iloan.length; i < numberOfItems; i++) {\r\n        this.iloan.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            interestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            cardId: [this.cardId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.iloan.length; i >= numberOfItems; i--) {\r\n        this.iloan.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.interest as FormArray;\r\n  }\r\n  get fs() {\r\n    return this.savingForm.controls;\r\n  }\r\n  get is() {\r\n    return this.fs.saving as FormArray;\r\n  }\r\n  get floan() {\r\n    return this.loanForm.controls;\r\n  }\r\n  get iloan() {\r\n    return this.floan.loan as FormArray;\r\n  }\r\n\r\n  goBack() {\r\n      this.router.navigate([\r\n        `/cardaccount/applicationEnrichment/list`,\r\n      ]); \r\n  }\r\n\r\n  onSubmit(form) {}\r\n  edit() {\r\n    this.dialogRef.close();\r\n    this.api.setFlag({\r\n      flag: true,\r\n    });\r\n    this.router.navigate([\r\n      `/cardaccount/applicationEnrichment/intrest-details`,\r\n    ]);\r\n  }\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"Intrest detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","\r\n<mat-card class=\"matCard\">\r\n    <button mat-button id=\"close\" mat-dialog-close>\r\n      <mat-icon class=\"closeicon\">close</mat-icon>\r\n    </button>\r\n    <div class=\"spanDiv1\">\r\n      <span class=\"span\">Interest Details Summary\r\n  \r\n      </span>\r\n      <mat-divider class=\"divider\"></mat-divider>\r\n    </div>\r\n    <div fxLayout=\"row wrap\" class=\"main\">\r\n      <div fxFlex=\"100\">\r\n      </div>\r\n      <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n        <div class=\"mt-24\"></div>\r\n        <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\">\r\n          <table class=\"cart-table default-bg mat-elevation-z0\">\r\n            <tbody>\r\n              <tr [formGroup]=\"interest\" class=\"mt-4\" *ngFor=\"let interest of in.controls; let i = index\" class=\"form\">\r\n                <div class=\"row\">\r\n                  <ng-container>\r\n  \r\n                    <div class=\"heading\">\r\n                      <input matInput formControlName=\"intrestType\" name=\"account_branch\" id=\"headingInput\" readonly />\r\n                    </div>\r\n  \r\n                    <td>\r\n                      <mat-card class=\"matCardBox\">\r\n                        <mat-label class=\"label\">Interest Rate Applicable</mat-label>\r\n                        <input matInput formControlName=\"intrestRateApplicable\" name=\"account_branch\" class=\"input\"\r\n                          readonly />\r\n                      </mat-card>\r\n                    </td>\r\n                    <td>\r\n                      <mat-card class=\"matCardBox\">\r\n                        <mat-label class=\"label\">Margin in %</mat-label>\r\n                        <input matInput formControlName=\"marginIn\" name=\"account_branch\" class=\"input\" readonly />\r\n                      </mat-card>\r\n                    </td>\r\n                    <td>\r\n                      <mat-card class=\"matCardBox\">\r\n                        <mat-label class=\"label\">Effective Rate %</mat-label>\r\n                        <input matInput formControlName=\"effectiveRate\" name=\"account_branch\" value=\"\" class=\"input\"\r\n                          readonly />\r\n  \r\n                      </mat-card>\r\n                    </td>\r\n                  </ng-container>\r\n                </div>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </form>\r\n      </div>\r\n  \r\n    </div>\r\n  \r\n  \r\n    <span class=\"spanDiv\" (click)=\"edit()\">Edit</span>\r\n  </mat-card>","import { ChangeDetectorRef, Component, OnInit } from \"@angular/core\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { Router } from \"@angular/router\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { CardAccChargeDetSumComponent } from \"./charge-details/card-acc-charge-det-sum/card-acc-charge-det-sum.component\";\r\nimport { IntrestDetailsSummaryComponent } from \"./intrest-details/intrest-details-summary/intrest-details-summary.component\";\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n@Component({\r\n  selector: \"app-application-enrichment\",\r\n  templateUrl: \"./application-enrichment.component.html\",\r\n  styleUrls: [\"./application-enrichment.component.scss\"],\r\n})\r\nexport class ApplicationEnrichmentComponent implements OnInit {\r\n  isCardInterestDetails: boolean = false;\r\n  isCardChargeDetails: boolean = false;\r\n  isCardApplicationEnrichmentDone: boolean = false;\r\n  cardId: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public dialog: MatDialog,\r\n    private ls: LocalStoreService,\r\n    private accountService : AccountService, private cdr: ChangeDetectorRef\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.isCardInterestDetails = this.ls.getItem('CARD_INTEREST_DETAILS_DONE');\r\n    this.isCardChargeDetails = this.ls.getItem('CARD_CHARGE_DETAILS_DONE');\r\n\r\n    if (this.isCardInterestDetails && this.isCardChargeDetails) {\r\n      this.isCardApplicationEnrichmentDone = true;\r\n    }\r\n  }\r\n\r\n  goToInterestSummary() {\r\n    const dialogRef = this.dialog.open(IntrestDetailsSummaryComponent, {\r\n      data: { number: \"9656849771\", type: \"Mobile Number\" },\r\n      disableClose: true,\r\n    });\r\n    dialogRef.afterClosed().subscribe((submit) => {});\r\n  }\r\n\r\n  goToChargeSummary() {\r\n    const dialogRef = this.dialog.open(CardAccChargeDetSumComponent, {\r\n      data: { number: \"9656849771\", type: \"Mobile Number\" },\r\n      disableClose: true,\r\n    });\r\n    dialogRef.afterClosed().subscribe((submit) => {});\r\n  }\r\n\r\n  navigate() {\r\n    this.router.navigate([`/cardaccount/applicationEnrichment/Summary`]);\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. ­­­­­­­­\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div fxFlex=\"100\" *ngIf=\"isCardApplicationEnrichmentDone\" class=\"mt-8\"><!--isCardApplicationEnrichementDone-->\r\n\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Enrichment Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\" (click)=\"navigate()\">View Summary</button>\r\n            </div>\r\n        </mat-card>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        \r\n        <!-- Card 1 start-->\r\n        <mat-card [ngClass]=\"{'border-size': isCardInterestDetails || !isCardInterestDetails  }\">\r\n            <mat-card-header>\r\n                <mat-card-title>1.Interest Details</mat-card-title>\r\n                \r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                    <div fxFlex=\"50%\"class=\"size\">\r\n                        <p>\r\n                            Interest Type and Effective Interest Rate is captured.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/Mask Ggroup 5.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n         \r\n            <div class=\"mb-1\" *ngIf=\"isCardInterestDetails\">\r\n                <mat-progress-bar\r\n                  [color]=\"'primary'\"\r\n                  mode=\"determinate\"\r\n                  [value]=\"100\"\r\n                  class=\"rounded\"\r\n                  style=\"height: 6px\">\r\n                </mat-progress-bar>\r\n                <p class=\"m-0 text-right\">Completed</p>\r\n                <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n              </div>\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardInterestDetails\">\r\n                    <button mat-button color=\"primary\" (click)=\"goToInterestSummary()\">\r\n                        View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"!isCardInterestDetails\">\r\n                    <button mat-button color=\"primary\"\r\n                        [routerLink]=\"['/cardaccount/applicationEnrichment/intrest-details']\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n            </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        \r\n        <!-- Card 1 start-->\r\n        <mat-card  [ngClass]=\"{'border-size': isCardChargeDetails || !isCardChargeDetails && isCardInterestDetails  }\">\r\n            <mat-card-header>\r\n                <mat-card-title>2.Charge Details</mat-card-title>\r\n                \r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                    <div fxFlex=\"50%\"class=\"size\">\r\n                        <p>\r\n                            Charge Details are dispalyed.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/esign.png'\"class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"mb-1\" *ngIf=\"isCardChargeDetails\">\r\n                    <mat-progress-bar\r\n                      [color]=\"'primary'\"\r\n                      mode=\"determinate\"\r\n                      [value]=\"100\"\r\n                      class=\"rounded\"\r\n                      style=\"height: 6px\">\r\n                    </mat-progress-bar>\r\n                    <p class=\"m-0 text-right\">Completed</p>\r\n                    <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n                  </div>\r\n            </mat-card-content>\r\n            \r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardChargeDetails\">\r\n                    <button mat-button color=\"primary\" (click)=\"goToChargeSummary()\">\r\n                        View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"!isCardChargeDetails\">\r\n                    <button mat-button color=\"primary\"\r\n                        [routerLink]=\"['/cardaccount/applicationEnrichment/charge-details']\"\r\n                        [disabled]=\"!isCardInterestDetails\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n            </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n</div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-document-upload',\r\n  templateUrl: './document-upload.component.html',\r\n  styleUrls: ['./document-upload.component.scss']\r\n})\r\nexport class DocumentUploadComponent implements OnInit {\r\n\r\n  isLoanApplicationEntryDone :boolean=false;\r\n  isLoanDetailScreen :boolean=false;\r\n \r\n  isDocumentUploadDone: boolean = false;\r\n  isDocumentUpload: boolean = false;\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private ls: LocalStoreService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isDocumentUpload = this.ls.getItem('CARD_DOCUMENT_DONE');\r\n    if (this.isDocumentUpload) {\r\n      this.isDocumentUploadDone = true;\r\n    }\r\n  }\r\n\r\n\r\n  documentdetails(){\r\n    this.router.navigate([\r\n      `/cardaccount/documentupload/list/document-details`,\r\n    ]);\r\n\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. ­­­­­­­­\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-8\" *ngIf=\"isDocumentUploadDone\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Entry Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\">\r\n                    View Summary\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n        <!-- Card 1 start-->\r\n        <mat-card>\r\n            <mat-card-header>\r\n                <mat-card-title>1. Document Upload</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                    <div fxFlex=\"50%\" style=\"padding-left: 17px;\">\r\n                        <p class=\"colour\">\r\n                            All the necessary documents required for the application can be uploaded.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/Mask Group 6.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n                <div class=\"mb-1\" *ngIf=\"isDocumentUploadDone\">\r\n                    <mat-progress-bar\r\n                      [color]=\"'primary'\"\r\n                      mode=\"determinate\"\r\n                      [value]=\"100\"\r\n                      class=\"rounded\"\r\n                      style=\"height: 6px\">\r\n                    </mat-progress-bar>\r\n                    <p class=\"m-0 text-right\">Completed</p>\r\n                </div>\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"!isDocumentUploadDone\">\r\n                    <button mat-button color=\"primary\" (click)=\"documentdetails()\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n                <ng-container *ngIf=\"isDocumentUploadDone\">\r\n                    <button mat-button color=\"primary\" (click)=\"documentdetails()\">\r\n                        view details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n\r\n            </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n</div>\r\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { CommonModule, CurrencyPipe } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\n\r\nimport { SignaturePadModule } from 'angular2-signaturepad';\r\nimport { CardAccountRoutes } from './card-account.routing';\r\nimport { CardAccountComponent } from './card-account.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\nimport { SharedPipesModule } from 'app/shared/pipes/shared-pipes.module';\r\nimport { SharedDirectivesModule } from 'app/shared/directives/shared-directives.module';\r\nimport { SharedMaterialModule } from 'app/shared/shared-material.module';\r\nimport { ApplicationEntryStageComponent } from './application-entry-stage/application-entry-stage.component';\r\nimport { DocumentUploadComponent } from './document-upload/document-upload.component';\r\nimport { ApplicationEnrichmentComponent } from './application-enrichment/application-enrichment.component';\r\nimport { UnderwritingStageComponent } from './underwriting-stage/underwriting-stage.component';\r\nimport { AssessmentStageComponent } from './assessment-stage/assessment-stage.component';\r\nimport { SupervisorApprovalStageComponent } from './supervisor-approval-stage/supervisor-approval-stage.component';\r\nimport { DigitalSigningComponent } from './digital-signing/digital-signing.component';\r\nimport { DocumentDetailsComponent } from './document-upload/document-details/document-details.component';\r\nimport { IntrestDetailsComponent } from './application-enrichment/intrest-details/intrest-details.component';\r\nimport { ChargeDetailsComponent } from './application-enrichment/charge-details/charge-details.component';\r\nimport { IntrestDetailsSummaryComponent } from './application-enrichment/intrest-details/intrest-details-summary/intrest-details-summary.component';\r\nimport { EnrichmentSummaryComponent } from './application-enrichment/enrichment-summary/enrichment-summary.component';\r\nimport { MatCardModule } from '@angular/material/card';\r\n\r\nimport { UnderwritingCreditRatingComponent } from './underwriting-stage/underwriting-credit-rating/underwriting-credit-rating.component';\r\nimport { CardaccountQualitativeScoreboardComponent } from './underwriting-stage/cardaccount-qualitative-scoreboard/cardaccount-qualitative-scoreboard.component';\r\nimport { CardaccountApplicationAssessmentComponent } from './cardaccount-application-assessment/cardaccount-application-assessment.component';\r\nimport { UnderwritingCreditSummaryComponent } from './underwriting-stage/underwriting-credit-rating/underwriting-credit-summary/underwriting-credit-summary.component';\r\nimport { CardaccountApplicationAssessmentSummaryComponent } from './cardaccount-application-assessment/cardaccount-application-assessment-summary/cardaccount-application-assessment-summary.component';\r\nimport { CardaccountQualitativeSummaryComponent } from './underwriting-stage/cardaccount-qualitative-scoreboard/cardaccount-qualitative-summary/cardaccount-qualitative-summary.component';\r\nimport { ApprovalDetailsComponent } from './supervisor-approval-stage/approval-details/approval-details.component';\r\nimport { FinancialDetailsComponent } from './application-entry-stage/financial-details/financial-details.component';\r\nimport { CardCustomerInformationComponent } from './application-entry-stage/card-customer-information/card-customer-information.component';\r\nimport { CardAccountServicesComponent } from './application-entry-stage/card-account-services/card-account-services.component';\r\nimport { CardPrefrencesComponent } from './application-entry-stage/card-prefrences/card-prefrences.component';\r\nimport { CardAccountSummaryComponent } from './application-entry-stage/card-account-services/card-account-summary/card-account-summary.component';\r\nimport { CardInitiationComponent } from './application-entry-stage/card-initiation/card-initiation.component';\r\nimport { CardInitiationSummaryComponent } from './application-entry-stage/card-initiation/card-initiation-summary/card-initiation-summary.component';\r\nimport { DigitalSignNowOrLaterComponent } from './digital-signing/digital-sign-now-or-later/digital-sign-now-or-later.component';\r\nimport { UploadSignatureOrEsignComponent } from './digital-signing/upload-signature-or-esign/upload-signature-or-esign.component';\r\nimport { EsignaturePopComponent } from './digital-signing/esignature-pop/esignature-pop.component';\r\nimport { ApprovalDetailsSummaryComponent } from './supervisor-approval-stage/approval-details/approval-details-summary/approval-details-summary.component';\r\nimport { CardFinancialDetailsSummaryComponent } from './application-entry-stage/financial-details/card-financial-details-summary/card-financial-details-summary.component';\r\nimport { CardCustomerInfoSummaryComponent } from './application-entry-stage/card-customer-information/card-customer-info-summary/card-customer-info-summary.component';\r\n// import { ChargeDetailsSummaryComponent } from '../home/charge-details-summary/charge-details-summary.component';\r\nimport { CardAccChargeDetSumComponent } from './application-enrichment/charge-details/card-acc-charge-det-sum/card-acc-charge-det-sum.component';\r\nimport { CardPrefrenceSummaryComponent } from './application-entry-stage/card-prefrences/card-prefrence-summary/card-prefrence-summary.component';\r\nimport { CardaccountAppEntryStageViewSummaryComponent } from './application-entry-stage/cardaccount-app-entry-stage-view-summary/cardaccount-app-entry-stage-view-summary.component';\r\nimport { SucessMessageComponent } from './document-upload/sucess-message/sucess-message.component';\r\n// import { UploadLinkToEmailComponent } from './document-upload/upload-link-to-email/upload-link-to-email.component';\r\nimport { UnderwritingStageSummaryComponent } from './underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component';\r\n\r\nimport { OthersModule } from '../others/others.module';\r\nimport { SuccessAlertCardComponent } from './digital-signing/success-alert-card/success-alert-card.component';\r\nimport { DigitalsignSummaryComponent } from './digital-signing/digitalsign-summary/digitalsign-summary.component';\r\nimport { CardAccountAppAssessmentViewsummaryComponent } from './cardaccount-application-assessment/card-account-app-assessment-viewsummary/card-account-app-assessment-viewsummary.component';\r\nimport { CardApprovalViewSummaryComponent } from './supervisor-approval-stage/approval-details/card-approval-view-summary/card-approval-view-summary.component';\r\nimport { DigitalViewSummaryComponent } from './digital-signing/digital-view-summary/digital-view-summary.component';\r\n@NgModule({\r\n  declarations: [\r\n    CardAccountComponent,\r\n    ApplicationEntryStageComponent,\r\n    DocumentUploadComponent,\r\n    ApplicationEnrichmentComponent,\r\n    UnderwritingStageComponent,\r\n    AssessmentStageComponent,\r\n    SupervisorApprovalStageComponent,\r\n    DigitalSigningComponent,\r\n    DocumentDetailsComponent,\r\n    IntrestDetailsComponent,\r\n    ChargeDetailsComponent,\r\n    IntrestDetailsSummaryComponent,\r\n    EnrichmentSummaryComponent,\r\n    // ChargeDetailsSummaryComponent,\r\n    UnderwritingCreditRatingComponent,\r\n    CardaccountQualitativeScoreboardComponent,\r\n    CardaccountApplicationAssessmentComponent,\r\n    UnderwritingCreditSummaryComponent,\r\n    CardaccountApplicationAssessmentSummaryComponent,\r\n    CardaccountQualitativeSummaryComponent,\r\n    ApprovalDetailsComponent,\r\n    FinancialDetailsComponent,\r\n    CardCustomerInformationComponent,\r\n    CardAccountServicesComponent,\r\n    CardPrefrencesComponent,\r\n    CardAccountSummaryComponent,\r\n    CardInitiationComponent,\r\n    CardInitiationSummaryComponent,\r\n    DigitalSignNowOrLaterComponent,\r\n    UploadSignatureOrEsignComponent,\r\n    EsignaturePopComponent,\r\n    ApprovalDetailsSummaryComponent,\r\n    CardFinancialDetailsSummaryComponent,\r\n\r\n    CardCustomerInfoSummaryComponent,\r\n\r\n    CardAccChargeDetSumComponent,\r\n\r\n    CardPrefrenceSummaryComponent,\r\n    CardaccountAppEntryStageViewSummaryComponent,\r\n    SucessMessageComponent,\r\n    // UploadLinkToEmailComponent\r\n    UnderwritingStageSummaryComponent,\r\n    SuccessAlertCardComponent,\r\n    DigitalsignSummaryComponent,\r\n    CardAccountAppAssessmentViewsummaryComponent,\r\n    CardApprovalViewSummaryComponent,\r\n    DigitalViewSummaryComponent,\r\n  ],\r\n  imports: [\r\n    \r\n    CommonModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    FlexLayoutModule,\r\n    NgxDatatableModule,\r\n    FormsModule,\r\n    MatIconModule,\r\n    MatCardModule,\r\n    ReactiveFormsModule,\r\n    PerfectScrollbarModule,\r\n    SharedPipesModule,\r\n    SharedDirectivesModule,\r\n    SharedMaterialModule,\r\n    SignaturePadModule,\r\n    MatAutocompleteModule,\r\n    RouterModule.forChild(CardAccountRoutes),\r\n    OthersModule,\r\n   \r\n  ],\r\n  providers: [\r\n    CurrencyPipe\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n})\r\nexport class CardAccountModule {}\r\n","import { ChangeDetectorRef, Component, ElementRef, OnInit, Renderer2 } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { QualitativeScoreboardSummary } from 'app/shared/models/qualitativeScoreboardSummary';\r\n// import { AssessmentReportSummary } from 'app/shared/models/AssessmentReportSummary';\r\n// import { QualitativeScoreboardSummary } from 'app/shared/models/qualitativeScoreboardSummary';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\nimport { log } from 'console';\r\n\r\n@Component({\r\n  selector: 'app-cardaccount-qualitative-scoreboard',\r\n  templateUrl: './cardaccount-qualitative-scoreboard.component.html',\r\n  styleUrls: ['./cardaccount-qualitative-scoreboard.component.scss']\r\n})\r\nexport class CardaccountQualitativeScoreboardComponent implements OnInit {\r\n\r\n  qsForm: FormGroup;\r\n  qsFormArray: FormArray;\r\n  accountId: any;\r\n  // accountType: any;\r\n  accountType=\"cardOrigin\";\r\n  loggedInUser: any;\r\n  sbMultiSelectAnswer: any[] = [];\r\n  scoreboardQuestionsArray: { applicantId: any, scoreCardDetails: any[],scorecardQuestion:any }[] = [];\r\n  scoreCardMappingArray: { applicantId: any, scoreCardDetails: { scoreCardQuestionId: any, scorecardAnswer: any, scoreCardMappingId: any }[] }[] = [];\r\n  numberOfApplicant = new FormControl('');\r\n  scoreCardId = new FormControl('');\r\n  // assessmentReportSummary: AssessmentReportSummary;\r\n  qualitativeScoreboardSummary: QualitativeScoreboardSummary;\r\n  isDataSaved: boolean = false;\r\n  disableDoneBtn: boolean = true;\r\n  anyErrorExist: boolean = false;\r\n  isQualitativeScreen: boolean = false;\r\n  isQualitative: any;\r\n  isQualitativeScoreboard:any;\r\n  previousUrl: string = '';\r\n  showEditOption: boolean = false;\r\n  overDraftByStatus:boolean;\r\n  no_of_applicants: any;\r\n  noOfapplicants:any;\r\n  isCardQualitativeScoreboard:boolean=false;\r\n  loanAccountId: any;\r\n  loanaccountID: any;\r\n  cardId:any;\r\n  sA: any;\r\n  scoreCardDetails:any;\r\n  sbSwlwctAnswer: any[];\r\n  sbSelectAnswer: string=\"\";\r\n  sbSelectAnswer1: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private api: ApiService,\r\n    private snack: MatSnackBar,\r\n    private fb: FormBuilder,\r\n    private ls: LocalStoreService,\r\n    private accountService: AccountService,\r\n    private elRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    //private urlService: UrlService,\r\n    private cdr:ChangeDetectorRef,\r\n  ) { }\r\n\r\n\r\n  ngOnInit(): void {\r\n    // this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    // console.log(\"LOAN ACCOUNT ID:: \",this.loanaccountID);\r\n  //  this.accountType = this.ls.getItem('accountType');\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.loggedInUser = this.ls.getItem('ICUST_USER');\r\n    this.isCardQualitativeScoreboard = this.ls.getItem('CARD_QUALITATIVE_SCOREBOARD_DONE');\r\n    console.log(this.isCardQualitativeScoreboard);\r\n    \r\n    //this.no_of_applicants = this.ls.getItem('NO_OF_APPLICANTS');\r\n      \r\n    this.noOfapplicants = this.ls.getItem('CardNoOfApplicants');\r\n    // console.log(this.no_of_applicants);\r\n    console.log(this.noOfapplicants);\r\n    console.log(this.loggedInUser);\r\n    let isScoreCardScreen: boolean = JSON.parse(this.ls.getItem('ASSESSMENT_QA_DONE'));\r\n    \r\n    // if (this.loanaccountID != null && isScoreCardScreen) {\r\n      if ( this.cardId != null && this.isCardQualitativeScoreboard) {\r\n      this.showEditOption = true;\r\n      this.isQualitativeScreen = true;\r\n      this.getAllQualitative();\r\n    } else {\r\n      console.log(\"else\");\r\n      this.showEditOption = false;\r\n      this.loadData();\r\n    }\r\n  //  this.getAccountDetails();\r\n \r\n  //  this.accountType == \"current\" ? this.accountType = \"saving\" : this.accountType = \"saving\";//This line because we have backend data only for savings. This line is temporary.\r\n  // this.accountType == \"current\" ? this.accountType = \"loan\" : this.accountType = \"loan\";\r\n   /// this.accountType == \"current\" ? this.accountType = \"Home Loan\" : this.accountType = \"Home Loan\";\r\n   \r\n    // this.urlService.previousUrl$\r\n    //   .subscribe((previousUrl: string) => {\r\n    //     this.previousUrl = previousUrl\r\n    //   });\r\n\r\n   \r\n\r\n  }\r\n  counter(i: number) {\r\n    return new Array(i);\r\n}\r\n  loadData(){\r\n    this.api.getScorecardQuestions(this.accountType).subscribe((response) => {  \r\n      console.log(response);\r\n\r\n      console.log(this.noOfapplicants);\r\n      if(!this.noOfapplicants && response){\r\n        this.noOfapplicants=response.length;\r\n      }\r\n      response[1].attributeType=\"drop-down\"\r\n\r\n      for (let n = 0; n < this.noOfapplicants; n++) {\r\n          this.scoreboardQuestionsArray.push({scorecardQuestion: response,applicantId: n + 1, scoreCardDetails: response});\r\n          let mapDataAns: any[] = [];\r\n          console.log(\"data\",this.scoreCardDetails);\r\n          for (let p = 0; p < response.length; p++){\r\n            mapDataAns.push({scoreCardQuestionId: response[p].scoreCardQuestionId, scorecardAnswer: null, scoreCardMappingId: null}); \r\n          }\r\n          this.scoreCardMappingArray.push({applicantId: n + 1, scoreCardDetails: mapDataAns});\r\n      }\r\n\r\n      console.log(\"data\",this.scoreCardDetails);\r\n      console.log(\"ques:\",this.scoreboardQuestionsArray)\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  getAllQualitative() {\r\n    console.log(this.isQualitativeScreen);\r\n    this.api.getCardQualitativeScorecardDetails(this.cardId).subscribe((response) => {\r\n      console.log(response);\r\n      \r\n      console.log(this.isQualitativeScreen);\r\n      this.qualitativeScoreboardSummary = response;\r\n      console.log(this.qualitativeScoreboardSummary.scoreCardId + \" : \" + this.qualitativeScoreboardSummary.numberOfApplicant);\r\n      this.scoreCardId.setValue(this.qualitativeScoreboardSummary.scoreCardId);\r\n      this.numberOfApplicant.setValue(this.qualitativeScoreboardSummary.numberOfApplicant);\r\n      console.log(\"scorecard id: \", this.scoreCardId)\r\n      console.log(\"numberOfApplicant : \", this.numberOfApplicant)\r\n\r\n      this.scoreboardQuestionsArray = [];\r\n      for (let i = 0; i < this.qualitativeScoreboardSummary.scoreCardMapping.length; i++) {\r\n        console.log(\"inside for\", this.qualitativeScoreboardSummary.scoreCardMapping)\r\n        this.api.getScorecardQuestions(this.accountType).subscribe((response) => {\r\n          console.log(response);\r\n\r\n          console.log(this.noOfapplicants);\r\n          if (!this.noOfapplicants && response) {\r\n            this.noOfapplicants = response.length;\r\n          }\r\n\r\n          for (let n = 0; n < this.noOfapplicants; n++) {\r\n            this.scoreboardQuestionsArray.push({ scorecardQuestion: response, applicantId: n + 1, scoreCardDetails: response });\r\n            console.log(this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails.length)\r\n            for (let j = 0; j < this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails.length; j++) {\r\n              console.log(this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails)\r\n              var scAns = this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails;\r\n              console.log(scAns)\r\n             \r\n              \r\n              this.sbMultiSelectAnswer.push(scAns[j].scorecardAnswer);\r\n              for(let k=0; k < this.sbMultiSelectAnswer.length; k++){\r\n                if(this.sbMultiSelectAnswer[2]){\r\n                  this.sbSelectAnswer = this.sbMultiSelectAnswer[2];\r\n                  console.log(this.sbSwlwctAnswer);\r\n                }\r\n                else if(this.sbMultiSelectAnswer[0]){\r\n                  this.sbSelectAnswer1 = this.sbMultiSelectAnswer[0];\r\n                  console.log(this.sbSelectAnswer1);\r\n                }\r\n              }\r\n              console.log(this.sbMultiSelectAnswer);\r\n            }\r\n          }\r\n\r\n          console.log(\"data\", this.scoreCardDetails);\r\n          console.log(\"ques:\", this.scoreboardQuestionsArray)\r\n          this.cdr.markForCheck();\r\n        });\r\n\r\n        this.scoreCardMappingArray = this.scoreboardQuestionsArray;\r\n      }\r\n\r\n      console.log(this.scoreboardQuestionsArray, \"scoreBoardQuestionArray\");\r\n      this.disableDoneBtn = false;\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n\r\n  insertData(id: any, answer: any, qtype: string, mapId: any,index:any, applcantId: any) {\r\n    console.log(\"Answer: \", answer,index, applcantId , id ,qtype,mapId,);\r\n    if (qtype == 'checkbox') {\r\n      answer = answer.toString();\r\n    }\r\n    let dataUpdated: boolean = false ;\r\n    let aplcntExists: boolean = false ;\r\n    console.log(this.scoreCardMappingArray);\r\n    console.log(this.numberOfApplicant);\r\n    console.log(this.disableDoneBtn);\r\n    console.log(this.sbMultiSelectAnswer);\r\n    \r\n\r\n    \r\n    \r\n    for (let m = 0; m < this.scoreCardMappingArray.length; m++) {\r\n      if (this.scoreCardMappingArray[m].applicantId == applcantId ) {\r\n        for (let n = 0; n < this.scoreCardMappingArray[m].scoreCardDetails.length; n++) {\r\n          if(this.isCardQualitativeScoreboard){\r\n            console.log(\"Edit Condition\");\r\n            if(n == index){\r\n                 if (this.scoreCardMappingArray[m].scoreCardDetails[n].scoreCardQuestionId == id) {\r\n            this.scoreCardMappingArray[m].scoreCardDetails[n].scorecardAnswer = answer;\r\n            this.sbMultiSelectAnswer[n] = answer;\r\n            dataUpdated = true;\r\n             \r\n          }\r\n            }else{\r\n              this.scoreCardMappingArray[m].scoreCardDetails[n].scorecardAnswer = this.sbMultiSelectAnswer[n]\r\n\r\n            }\r\n          \r\n           \r\n            \r\n          }else{\r\n          console.log(n, this.scoreCardMappingArray[m].scoreCardDetails[n]);\r\n          if (this.scoreCardMappingArray[m].scoreCardDetails[n].scoreCardQuestionId == id) {\r\n            this.scoreCardMappingArray[m].scoreCardDetails[n].scorecardAnswer = answer;\r\n            dataUpdated = true;\r\n          }\r\n        }\r\n        }\r\n        aplcntExists = true ;\r\n      }\r\n    }\r\n    if (!dataUpdated) {\r\n      let dataOject: any = {};\r\n      dataOject.scoreCardQuestionId = id;\r\n      dataOject.scorecardAnswer = answer;\r\n      if (mapId != null) {\r\n        dataOject.scoreCardMappingId = mapId;\r\n\r\n      }\r\n      if (!aplcntExists) {\r\n        let idx = this.scoreCardMappingArray.length ;\r\n        this.scoreCardMappingArray.push({applicantId: applcantId, scoreCardDetails: dataOject});\r\n      } else {\r\n        for (let m = 0; m < this.scoreCardMappingArray.length; m++) {\r\n          if (this.scoreCardMappingArray[m].applicantId == applcantId ) {\r\n           \r\n              this.scoreCardMappingArray[m].scoreCardDetails.push(dataOject);\r\n              console.log(this.scoreCardMappingArray[m].scoreCardDetails);\r\n          }\r\n        }\r\n      }\r\n      // console.log(dataOject,\"Dataobject\");\r\n    }\r\n\r\n    if (this.scoreCardMappingArray.length == this.scoreboardQuestionsArray.length) {\r\n      let disableDoneBtn: number = 0;\r\n      for (let m = 0; m < this.scoreCardMappingArray.length; m++) {\r\n        for (let i = 0; i < this.scoreCardMappingArray[m].scoreCardDetails.length; i++) {\r\n          console.log(this.scoreCardMappingArray[m].scoreCardDetails[i].scorecardAnswer);\r\n          \r\n          let answerIs: any = this.scoreCardMappingArray[m].scoreCardDetails[i].scorecardAnswer;\r\n          if (answerIs == '' || answerIs == null || answerIs == undefined) {\r\n            disableDoneBtn++;\r\n          }\r\n        }\r\n      }\r\n      if (disableDoneBtn > 0) {\r\n        this.disableDoneBtn = true;\r\n      }\r\n      else if (this.anyErrorExist == false && disableDoneBtn == 0) {\r\n        this.disableDoneBtn = false;\r\n      }\r\n    }\r\n    console.log(\"Map Array: \", this.scoreCardMappingArray)\r\n    console.log(this.disableDoneBtn);\r\n  }\r\n\r\n  validateInputValue(inputValue: any, index: any, validationName: string) {\r\n    // console.log(inputValue, index);\r\n    let eleid: any = '#inputError' + index;\r\n    if (inputValue == '' || inputValue == null || inputValue == undefined) {\r\n      this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'visible');\r\n    }\r\n    else {\r\n      if (!isNaN(inputValue) && validationName == \"Name\") {\r\n        this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'visible');\r\n        this.anyErrorExist = true;\r\n      }\r\n      else {\r\n        this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'hidden');\r\n        this.anyErrorExist = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  validateSelectValue(selectValue: any, index: any) {\r\n    // console.log(selectValue, index);\r\n    let eleid: any = '#selectError' + index;\r\n    console.log(eleid);\r\n    \r\n    if (selectValue == '' || selectValue == null || selectValue == undefined) {\r\n      this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'visible');\r\n    }\r\n    else {\r\n      this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'hidden');\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    // this.router.navigate([`${this.previousUrl}`]);\r\n    this.router.navigate([\"/cardaccount/underwritingStage/credit-rating\"]);\r\n\r\n  }\r\n\r\n  getAllData(id) {\r\n    this.api.getAssessmentReportDetails(id).subscribe((response) => {\r\n      // this.assessmentReportSummary = response;\r\n      // console.log(this.assessmentReportSummary);\r\n    });\r\n  }\r\n  saveQualitativeScore(){\r\n    let submitData: any = {};\r\n    // console.log(this.no_of_applicants);\r\n    // let numberOfApplicant = this.no_of_applicants;\r\n    console.log(this.noOfapplicants);\r\n    let numberOfApplicant = this.noOfapplicants;\r\n    // submitData.loanAccountId=this.loanaccountID;  noOfapplicants\r\n    submitData.cardId=this.cardId;  \r\n    // submitData.loanAccountId = this.loanAccountId? this.loanAccountId : 999612;// loanAccountId: this.loanaccountID,\r\n    submitData.numberOfApplicant = numberOfApplicant;\r\n    submitData.scoreCardId = this.scoreCardId.value;\r\n    submitData.loggedInUser = 123;\r\n    submitData.accountType=\"cardOrigin\";\r\n    \r\n    submitData.scoreCardMapping = this.scoreCardMappingArray;\r\n    console.log(submitData);\r\n    this.api.saveQualitativeScorecard(submitData).subscribe((resp) => {\r\n      console.log(\"data\",submitData.cardId);\r\n      this.snack.open('Card Origination Qualitative Scoreboard Saved!', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n      // console.log(resp);\r\n      this.isDataSaved = true;\r\n      // this.ls.setItem('CARD_QUALITATIVE_SCOREBOARD_DONE', true);\r\n      // this.ls.setItem('CARD_UNDERWRITING_DONE',true);\r\n      // this.disableDoneBtn=false\r\n      this.accountService.refresh.next();\r\n    \r\n    }, err => {\r\n      this.snack.open('Server Error!', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    })\r\n    this.next();\r\n  }\r\n\r\n  next(){\r\n    this.ls.setItem('CARD_QUALITATIVE_SCOREBOARD_DONE', true);\r\n    this.ls.setItem('CARD_UNDERWRITING_DONE',true);\r\n    this.accountService.refresh.next();\r\n     this.router.navigate([\"/cardaccount/assessmentStage/list\"]);\r\n  }\r\n\r\n  // done() {\r\n  //   this.ls.setItem('ASSESSMENT_QA_DONE', true);\r\n  //  // this.accountService.refresh.next();\r\n  //   this.router.navigate([`/home/application/assessment/report/${this.accountId}`]);\r\n  // }\r\n  noOfApplicant(event){\r\n    console.log(event);\r\n\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"row wrap\" class=\"matcard-size1\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/undraw_Scrum_board_re_wk7v.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Qualitative Scoreboard</b></div>\r\n    </div>\r\n  </div>\r\n  <form>\r\n    <div fxFlex=\"100\" class=\"mt-24\">\r\n      <h2 class=\"ml-16\">Qualitative Scoreboard</h2>\r\n      <div class=\"mt-24\"></div>\r\n      <mat-card>\r\n        <mat-card-title></mat-card-title>\r\n        <mat-card-content>\r\n          <h4><b>Scorecard ID</b></h4>\r\n          <h4>\r\n            <input matInput name=\"ScoreCardId\" onlyNumber placeholder=\"Enter ScoreCardId\" [formControl]=\"scoreCardId\"\r\n             />\r\n             <mat-error\r\n              *ngIf=\"scoreCardId.touched && scoreCardId.value == 0\">\r\n               Please Enter valid Scorecard ID\r\n              </mat-error>\r\n          </h4>\r\n          <h3 class=\"mt-32\">About the Qualitative Scorecard ID</h3>\r\n          <p class=\"disableText\">\r\n            Lorem Ipsum is simply dummy text of the printing and typesetting\r\n            industry. Lorem Ipsum has been the industry's standard dummy text ever\r\n            since the 1500s, when an unknown printer took a galley of type and\r\n            scrambled it to make a type specimen book.\r\n          </p>\r\n          <h3 class=\"mt-32\">No. of Applicant</h3>\r\n          <p>{{noOfapplicants}}</p>\r\n        </mat-card-content>\r\n      </mat-card>\r\n  \r\n      <div class=\"mt-32\"></div>\r\n      <mat-accordion multi=\"true\">\r\n        <mat-expansion-panel class=\"mb-8\"  *ngFor='let sA of scoreboardQuestionsArray ; let ix = index' expanded=\"true\">\r\n          <mat-expansion-panel-header>\r\n          <mat-panel-title><mat-icon class=\"check-circle\">check_circle</mat-icon> <span class=\"ml-8\">Applicant {{ sA.applicantId }}</span></mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n            <mat-card class=\"full-width\">\r\n              <mat-card-content class=\"full-width\">\r\n                    <div>\r\n                      <h3>Questions</h3>\r\n                    </div>\r\n                    <div fxLayout=\"column\">\r\n                    <!-- <div class=\"full-width\"> --><div fxLayout=\"row\" fxFlex=\"70%\" fxLayoutGap=\"35px\">\r\n                      <div fxLayout=\"row wrap\" class=\"full-width\" *ngFor=\"let sQ of sA.scoreCardDetails; let i=index;\">\r\n                        <div class=\"full-width\">\r\n                          <div class=\"qDiv\">\r\n                            <mat-hint>{{i + 1 }}.{{sQ.scorecardQuestion}}<span class=\"redC\" *ngIf=\"sQ.isRequired\"> *</span></mat-hint>\r\n                          </div>\r\n                          <div class=\"full-width\" *ngIf=\"sQ.attributeType == 'textbox'\">\r\n                            <mat-form-field class=\"full-width\" appearance=\"outline\">\r\n                              <input matInput\r\n                              [required]=\"sQ.isRequired\"\r\n                              [autocomplete]=\"off\"\r\n                              [maxlength]=\"sQ.validationName == 'Name'? 25 : 50\"\r\n                              name=\"{{ 'input' + i }}\"\r\n                              id=\"{{ 'input' + i }}\"\r\n                            \r\n                              [value]=\"scoreCardMappingArray[ix].scoreCardDetails[i].scorecardAnswer == undefined? sbSelectAnswer : scoreCardMappingArray[ix].scoreCardDetails[i].scorecardAnswer\"\r\n                              (keyup)=\"validateInputValue($event.target.value,i,sQ.validationName);insertData(sQ.scoreCardQuestionId,$event.target.value,sQ.attributeType,sQ.scoreCardMappingId,i,sA.applicantId)\"\r\n                              (click)=\"validateInputValue($event.target.value,i,sQ.validationName)\"\r\n                              >\r\n                            </mat-form-field>\r\n                            <!-- [value]=\"sQ.scorecardAnswer\" -->\r\n                            <mat-error [style.visibility]=\"'hidden'\" id=\"{{ 'inputError' + i }}\">Enter {{sQ.validationName}}</mat-error>\r\n                          </div>\r\n                          <div class=\"full-width\" *ngIf=\"sQ.attributeType == 'drop-down' || sQ.attributeType == 'checkbox'\">\r\n                            <mat-form-field class=\"full-width\" appearance=\"outline\">\r\n                              <mat-select\r\n                              [required]=\"sQ.isRequired\"\r\n                              [name]=\"sQ.attributeType == 'checkbox'?  'multiSelect' + i  :  'select' + i \"\r\n                              [id]=\"sQ.attributeType == 'checkbox'?  'multiSelect' + i  :  'select' + i \"\r\n                              [value]=\"sQ.attributeType == 'checkbox'? sbMultiSelectAnswer : sbMultiSelectAnswer[i]\"\r\n                              (click)=\"validateSelectValue($event.target.value,i)\"\r\n                              (selectionChange)=\"validateSelectValue($event.value,i);insertData(sQ.scoreCardQuestionId,$event.value,sQ.attributeType,sQ.scoreCardMappingId,i,sA.applicantId)\"  \r\n                              [multiple]=\"sQ.attributeType == 'checkbox'\"\r\n                              >\r\n                                <mat-option *ngFor=\"let sA of sQ.scorecardAnswers\" [value]=\"sA\">\r\n                                  {{sA}}\r\n                                </mat-option>\r\n                              </mat-select>\r\n                            </mat-form-field>\r\n                            <mat-error [style.visibility]=\"'hidden'\" id=\"{{ 'selectError' + i }}\">Please select {{sQ.validationName}}</mat-error>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                     \r\n                      <!-- <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                        <div class=\"qDiv\">\r\n                        <mat-hint>Score<span class=\"redC\" ></span></mat-hint>\r\n                       </div>\r\n                        <div class=\"full-width\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <input matInput name=\"ScoreId\" placeholder=\"Enter the Score\"\r\n                          />\r\n                           <input matInput name=\"ScoreId\" onlyNumber placeholder=\"Enter the Score\" [formControl]=\"scoreId\"\r\n                          /> \r\n                          </mat-form-field>\r\n                        </div>\r\n                      </div> -->\r\n                    </div>\r\n                  </div>\r\n              </mat-card-content>\r\n            </mat-card>\r\n          </mat-expansion-panel>\r\n        </mat-accordion>\r\n    </div>\r\n  </form>\r\n\r\n  <div fxFlex=\"100\" class=\"mt-16\">\r\n    <button mat-stroked-button class=\"Backbtn\" (click)=\"goBack()\">BACK</button>\r\n    <span fxFlex></span>\r\n   \r\n\r\n    <button class=\"Nextbtn\" mat-raised-button color=\"primary\" [disabled]=\"disableDoneBtn || !numberOfApplicant.valid\" (click)=\"saveQualitativeScore()\" type=\"button\">Next</button>\r\n  </div>\r\n</div>\r\n"]}