!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,i=void 0;try{for(var r,c=e[Symbol.iterator]();!(a=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(s){o=!0,i=s}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{obtS:function(n,o,r){"use strict";r.r(o),r.d(o,"LoanAccountModule",function(){return yp});var c,s,l,b,u=r("SVse"),m=r("8Y7J"),d=r("iInd"),p=r("VDRc"),f=r("PDjf"),g=r("Q2Ze"),h=r("Dxy4"),v=((c=function(){function e(t){a(this,e),this.router=t,this.previousUrl="",this.userRecommendation={userRecommendation:"Recomended For Approval"},this.details={requestedLoanAmount:"$200,000",loanTenure:"5 years",rateOfIntrested:"5%",loanAmountRecomended:"$500,000",approvedLoanAmount:"$200,000",findLoanTenure:"5 years",finalRate:"5%",applicantName:"ABC",applicantType:"Home Loan",accountBranch:"000",productCode:"HMN 03",productName:"New Home Loan",rateOfIntrest:"5.9",loanAmount:"$500,000",installmentType:"EMI",stage:"HML/Stage1",installmentAmount:"$100,000",installmentFreq:"Monthly",assessmentApprovedMethod:"Internal Score Card",userAction:"Action",date:"12/2/2021",charge:"$200,000",principle:"$100,000",intrest:"$100,000"}}return i(e,[{key:"ngOnInit",value:function(){}},{key:"goBack",value:function(){this.router.navigate([""+this.previousUrl])}},{key:"accountApprovalStageSummary",value:function(){this.router.navigate(["/loan/account-approval/list"])}}]),e}()).\u0275fac=function(e){return new(e||c)(m.Rb(d.h))},c.\u0275cmp=m.Lb({type:c,selectors:[["app-account-approval-details-summary"]],decls:330,vars:45,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_secure_files_re_6vdh.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"full-width"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row wrap"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[1,"chequecard"],["fxFlex","30%","fxFlex.xs","100%"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16x",1,"mt-32"],["mat-button","","rounded","","color","grey",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div"),m.Xb(1,"div",0),m.Xb(2,"div",1),m.Xb(3,"div",2),m.Sb(4,"img",3),m.Wb(),m.Xb(5,"div",4),m.Xb(6,"div",5),m.Xb(7,"b"),m.Tc(8,"Account Approval Summary Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",6),m.Xb(10,"div",0),m.Xb(11,"h4",7),m.Tc(12,"Assessment Details"),m.Wb(),m.Wb(),m.Xb(13,"div",8),m.Xb(14,"div",9),m.Xb(15,"div",10),m.Xb(16,"div",6),m.Xb(17,"div",11),m.Xb(18,"div",12),m.Vb(19),m.Xb(20,"div",13),m.Xb(21,"mat-card",14),m.Xb(22,"div",15),m.Xb(23,"div",12),m.Vb(24),m.Xb(25,"div",16),m.Xb(26,"mat-hint",17),m.Tc(27,"Requested Loan Amount "),m.Wb(),m.Sb(28,"br"),m.Xb(29,"mat-hint",18),m.Tc(30),m.Wb(),m.Wb(),m.Xb(31,"div",16),m.Xb(32,"mat-hint",17),m.Tc(33,"Loan Tenure"),m.Wb(),m.Sb(34,"br"),m.Xb(35,"mat-hint",18),m.Tc(36),m.Wb(),m.Wb(),m.Xb(37,"div",16),m.Xb(38,"mat-hint",17),m.Tc(39,"Rate Of Interest "),m.Wb(),m.Sb(40,"br"),m.Xb(41,"mat-hint",18),m.Tc(42),m.Wb(),m.Wb(),m.Xb(43,"div",16),m.Xb(44,"mat-hint",17),m.Tc(45,"System Recommendation "),m.Wb(),m.Sb(46,"br"),m.Xb(47,"mat-hint",18),m.Tc(48),m.Wb(),m.Wb(),m.Xb(49,"div",16),m.Xb(50,"mat-hint",17),m.Tc(51,"User Recommendation "),m.Wb(),m.Sb(52,"br"),m.Xb(53,"mat-hint",18),m.Tc(54),m.Wb(),m.Wb(),m.Xb(55,"div",16),m.Xb(56,"mat-hint",17),m.Tc(57,"Loan Amount Recommended "),m.Wb(),m.Sb(58,"br"),m.Xb(59,"mat-hint",18),m.Tc(60),m.Wb(),m.Wb(),m.Xb(61,"div",16),m.Xb(62,"mat-hint",17),m.Tc(63,"Approved Loan Amount "),m.Wb(),m.Sb(64,"br"),m.Xb(65,"mat-hint",18),m.Tc(66),m.Wb(),m.Wb(),m.Xb(67,"div",16),m.Xb(68,"mat-hint",17),m.Tc(69,"Final Loan tenure "),m.Wb(),m.Sb(70,"br"),m.Xb(71,"mat-hint",18),m.Tc(72),m.Wb(),m.Wb(),m.Xb(73,"div",16),m.Xb(74,"mat-hint",17),m.Tc(75,"Final Rate"),m.Wb(),m.Sb(76,"br"),m.Xb(77,"mat-hint",18),m.Tc(78),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(79,"br"),m.Xb(80,"div",8),m.Xb(81,"div",0),m.Xb(82,"h4",7),m.Tc(83,"Offer Accept / Reject Details"),m.Wb(),m.Wb(),m.Xb(84,"div",9),m.Xb(85,"div",10),m.Xb(86,"mat-card",19),m.Xb(87,"mat-card-content"),m.Xb(88,"div",6),m.Xb(89,"div",11),m.Xb(90,"div",12),m.Vb(91),m.Xb(92,"div",20),m.Xb(93,"mat-hint",17),m.Tc(94,"Applicant Name"),m.Wb(),m.Sb(95,"br"),m.Xb(96,"mat-hint",18),m.Tc(97),m.Wb(),m.Wb(),m.Xb(98,"div",20),m.Xb(99,"mat-hint",17),m.Tc(100,"Approved Loan Amount"),m.Wb(),m.Sb(101,"br"),m.Xb(102,"mat-hint",18),m.Tc(103),m.Wb(),m.Wb(),m.Xb(104,"div",20),m.Xb(105,"mat-hint",17),m.Tc(106,"Loan Tenure"),m.Wb(),m.Sb(107,"br"),m.Xb(108,"mat-hint",18),m.Tc(109),m.Wb(),m.Wb(),m.Xb(110,"div",20),m.Xb(111,"mat-hint",17),m.Tc(112,"Installment Type"),m.Wb(),m.Sb(113,"br"),m.Xb(114,"mat-hint",18),m.Tc(115),m.Wb(),m.Wb(),m.Xb(116,"div",20),m.Xb(117,"mat-hint",17),m.Tc(118,"Installment Frequency"),m.Wb(),m.Sb(119,"br"),m.Xb(120,"mat-hint",18),m.Tc(121),m.Wb(),m.Wb(),m.Xb(122,"div",20),m.Xb(123,"mat-hint",17),m.Tc(124,"Rate Of Interest(in %)"),m.Wb(),m.Sb(125,"br"),m.Xb(126,"mat-hint",18),m.Tc(127),m.Wb(),m.Wb(),m.Xb(128,"div",20),m.Xb(129,"mat-hint",17),m.Tc(130,"Principal"),m.Wb(),m.Sb(131,"br"),m.Xb(132,"mat-hint",18),m.Tc(133),m.Wb(),m.Wb(),m.Xb(134,"div",20),m.Xb(135,"mat-hint",17),m.Tc(136,"Interest"),m.Wb(),m.Sb(137,"br"),m.Xb(138,"mat-hint",18),m.Tc(139),m.Wb(),m.Wb(),m.Xb(140,"div",20),m.Xb(141,"mat-hint",17),m.Tc(142,"Installment Amount"),m.Wb(),m.Sb(143,"br"),m.Xb(144,"mat-hint",18),m.Tc(145),m.Wb(),m.Wb(),m.Xb(146,"div",20),m.Xb(147,"mat-hint",17),m.Tc(148,"Charges"),m.Wb(),m.Sb(149,"br"),m.Xb(150,"mat-hint",18),m.Tc(151),m.Wb(),m.Wb(),m.Xb(152,"div",20),m.Xb(153,"mat-hint",17),m.Tc(154,"Offer Issue Date"),m.Wb(),m.Sb(155,"br"),m.Xb(156,"mat-hint",18),m.Tc(157),m.Wb(),m.Wb(),m.Xb(158,"div",20),m.Xb(159,"mat-hint",17),m.Tc(160,"Generate Date"),m.Wb(),m.Sb(161,"br"),m.Xb(162,"mat-hint",18),m.Tc(163),m.Wb(),m.Wb(),m.Xb(164,"div",20),m.Xb(165,"mat-hint",17),m.Tc(166,"Customer Response"),m.Wb(),m.Sb(167,"br"),m.Xb(168,"mat-hint",18),m.Tc(169),m.Wb(),m.Wb(),m.Xb(170,"div",20),m.Xb(171,"mat-hint",17),m.Tc(172,"Date Of Offer Accept/Reject"),m.Wb(),m.Sb(173,"br"),m.Xb(174,"mat-hint",18),m.Tc(175),m.Wb(),m.Wb(),m.Xb(176,"div",20),m.Xb(177,"mat-hint",17),m.Tc(178,"Offer Expiry Date"),m.Wb(),m.Sb(179,"br"),m.Xb(180,"mat-hint",18),m.Tc(181),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(182,"br"),m.Xb(183,"div",8),m.Xb(184,"div",8),m.Xb(185,"div",0),m.Xb(186,"h4",7),m.Tc(187,"Loan Summary Details "),m.Wb(),m.Wb(),m.Wb(),m.Xb(188,"div",9),m.Xb(189,"div",10),m.Xb(190,"mat-card",19),m.Xb(191,"mat-card-content"),m.Xb(192,"div",6),m.Xb(193,"div",11),m.Xb(194,"div",12),m.Vb(195),m.Xb(196,"div",20),m.Xb(197,"mat-hint",17),m.Tc(198,"Applicant Name"),m.Wb(),m.Sb(199,"br"),m.Xb(200,"mat-hint",18),m.Tc(201),m.Wb(),m.Wb(),m.Xb(202,"div",20),m.Xb(203,"mat-hint",17),m.Tc(204,"Account Type"),m.Wb(),m.Sb(205,"br"),m.Xb(206,"mat-hint",18),m.Tc(207),m.Wb(),m.Wb(),m.Xb(208,"div",20),m.Xb(209,"mat-hint",17),m.Tc(210,"Account Branch"),m.Wb(),m.Sb(211,"br"),m.Xb(212,"mat-hint",18),m.Tc(213),m.Wb(),m.Wb(),m.Xb(214,"div",20),m.Xb(215,"mat-hint",17),m.Tc(216,"Product Code"),m.Wb(),m.Sb(217,"br"),m.Xb(218,"mat-hint",18),m.Tc(219),m.Wb(),m.Wb(),m.Xb(220,"div",20),m.Xb(221,"mat-hint",17),m.Tc(222,"Product Name"),m.Wb(),m.Sb(223,"br"),m.Xb(224,"mat-hint",18),m.Tc(225),m.Wb(),m.Wb(),m.Xb(226,"div",20),m.Xb(227,"mat-hint",17),m.Tc(228,"Host Product Code"),m.Wb(),m.Sb(229,"br"),m.Xb(230,"mat-hint",18),m.Tc(231),m.Wb(),m.Wb(),m.Xb(232,"div",20),m.Xb(233,"mat-hint",17),m.Tc(234,"Host Product Description"),m.Wb(),m.Sb(235,"br"),m.Xb(236,"mat-hint",18),m.Tc(237),m.Wb(),m.Wb(),m.Xb(238,"div",20),m.Xb(239,"mat-hint",17),m.Tc(240,"Loan Amount"),m.Wb(),m.Sb(241,"br"),m.Xb(242,"mat-hint",18),m.Tc(243),m.Wb(),m.Wb(),m.Xb(244,"div",20),m.Xb(245,"mat-hint",17),m.Tc(246,"Loan Tenure"),m.Wb(),m.Sb(247,"br"),m.Xb(248,"mat-hint",18),m.Tc(249),m.Wb(),m.Wb(),m.Xb(250,"div",20),m.Xb(251,"mat-hint",17),m.Tc(252,"Interest Rate(in %)"),m.Wb(),m.Sb(253,"br"),m.Xb(254,"mat-hint",18),m.Tc(255),m.Wb(),m.Wb(),m.Xb(256,"div",20),m.Xb(257,"mat-hint",17),m.Tc(258,"Repayment Method"),m.Wb(),m.Sb(259,"br"),m.Xb(260,"mat-hint",18),m.Tc(261),m.Wb(),m.Wb(),m.Xb(262,"div",20),m.Xb(263,"mat-hint",17),m.Tc(264,"Repayment Frequency"),m.Wb(),m.Sb(265,"br"),m.Xb(266,"mat-hint",18),m.Tc(267),m.Wb(),m.Wb(),m.Xb(268,"div",20),m.Xb(269,"mat-hint",17),m.Tc(270,"Application Date"),m.Wb(),m.Sb(271,"br"),m.Xb(272,"mat-hint",18),m.Tc(273),m.Wb(),m.Wb(),m.Xb(274,"div",20),m.Xb(275,"mat-hint",17),m.Tc(276,"Assessment Approval Method"),m.Wb(),m.Sb(277,"br"),m.Xb(278,"mat-hint",18),m.Tc(279),m.Wb(),m.Wb(),m.Xb(280,"div",20),m.Xb(281,"mat-hint",17),m.Tc(282,"Offer Approved Date"),m.Wb(),m.Sb(283,"br"),m.Xb(284,"mat-hint",18),m.Tc(285),m.Wb(),m.Wb(),m.Xb(286,"div",20),m.Xb(287,"mat-hint",17),m.Tc(288,"Approver ID"),m.Wb(),m.Sb(289,"br"),m.Xb(290,"mat-hint",18),m.Tc(291),m.Wb(),m.Wb(),m.Xb(292,"div",20),m.Xb(293,"mat-hint",17),m.Tc(294,"Stage"),m.Wb(),m.Sb(295,"br"),m.Xb(296,"mat-hint",18),m.Tc(297),m.Wb(),m.Wb(),m.Xb(298,"div",20),m.Xb(299,"mat-hint",17),m.Tc(300,"Date"),m.Wb(),m.Sb(301,"br"),m.Xb(302,"mat-hint",18),m.Tc(303),m.Wb(),m.Wb(),m.Xb(304,"div",20),m.Xb(305,"mat-hint",17),m.Tc(306,"Offer Issue Date"),m.Wb(),m.Sb(307,"br"),m.Xb(308,"mat-hint",18),m.Tc(309),m.Wb(),m.Wb(),m.Xb(310,"div",20),m.Xb(311,"mat-hint",17),m.Tc(312,"User Recommendation"),m.Wb(),m.Sb(313,"br"),m.Xb(314,"mat-hint",18),m.Tc(315),m.Wb(),m.Wb(),m.Xb(316,"div",20),m.Xb(317,"mat-hint",17),m.Tc(318,"User Action"),m.Wb(),m.Sb(319,"br"),m.Xb(320,"mat-hint",18),m.Tc(321),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(322,"br"),m.Xb(323,"div",0),m.Xb(324,"div",1),m.Xb(325,"div",21),m.Xb(326,"button",22),m.fc("click",function(){return t.goBack()}),m.Tc(327," Back "),m.Wb(),m.Xb(328,"button",23),m.fc("click",function(){return t.accountApprovalStageSummary()}),m.Tc(329," Done "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(30),m.Uc(t.details.requestedLoanAmount),m.Eb(6),m.Vc("",t.details.loanTenure," "),m.Eb(6),m.Vc("",t.details.rateOfIntrested," "),m.Eb(6),m.Vc("",t.userRecommendation.userRecommendation," "),m.Eb(6),m.Vc("",t.userRecommendation.userRecommendation," "),m.Eb(6),m.Vc("",t.details.loanAmountRecomended," "),m.Eb(6),m.Vc("",t.details.approvedLoanAmount," "),m.Eb(6),m.Vc("",t.details.findLoanTenure," "),m.Eb(6),m.Vc("",t.details.finalRate," "),m.Eb(19),m.Uc(t.details.applicantName),m.Eb(6),m.Uc(t.details.approvedLoanAmount),m.Eb(6),m.Uc(t.details.loanTenure),m.Eb(6),m.Uc(t.details.installmentType),m.Eb(6),m.Uc(t.details.installmentFreq),m.Eb(6),m.Uc(t.details.rateOfIntrested),m.Eb(6),m.Uc(t.details.principle),m.Eb(6),m.Uc(t.details.intrest),m.Eb(6),m.Uc(t.details.installmentAmount),m.Eb(6),m.Uc(t.details.charge),m.Eb(6),m.Uc(t.details.date),m.Eb(6),m.Uc(t.details.date),m.Eb(6),m.Uc(t.userRecommendation.userRecommendation),m.Eb(6),m.Uc(t.details.date),m.Eb(6),m.Uc(t.details.date),m.Eb(20),m.Uc(t.details.applicantName),m.Eb(6),m.Uc(t.details.applicantType),m.Eb(6),m.Uc(t.details.accountBranch),m.Eb(6),m.Uc(t.details.productCode),m.Eb(6),m.Uc(t.details.productName),m.Eb(6),m.Uc(t.details.productCode),m.Eb(6),m.Uc(t.details.productName),m.Eb(6),m.Uc(t.details.loanAmount),m.Eb(6),m.Uc(t.details.loanTenure),m.Eb(6),m.Uc(t.details.rateOfIntrested),m.Eb(6),m.Uc(t.details.assessmentApprovedMethod),m.Eb(6),m.Uc(t.details.installmentFreq),m.Eb(6),m.Uc(t.details.date),m.Eb(6),m.Uc(t.details.assessmentApprovedMethod),m.Eb(6),m.Uc(t.details.date),m.Eb(6),m.Uc(t.details.productCode),m.Eb(6),m.Uc(t.details.stage),m.Eb(6),m.Uc(t.details.date),m.Eb(6),m.Uc(t.details.date),m.Eb(6),m.Uc(t.userRecommendation.userRecommendation),m.Eb(6),m.Uc(t.details.userAction))},directives:[p.e,p.b,p.d,p.f,f.a,g.f,f.d,h.b],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.homeicon[_ngcontent-%COMP%]{padding-left:2px;color:#00f;font-size:20px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat;font-size:16px}.paraFont[_ngcontent-%COMP%]{padding-left:2%}.accountIcon[_ngcontent-%COMP%]{font-size:45px;color:#24cca7}.incomeCard[_ngcontent-%COMP%]{width:650px}.expenseCard[_ngcontent-%COMP%], .incomeCard[_ngcontent-%COMP%]{height:300px;border-radius:5px}.expenseCard[_ngcontent-%COMP%]{padding-left:20px;width:450px}.valueTexting[_ngcontent-%COMP%]{color:#0f0f0f;font-family:Montserrat;padding-left:30px}.headingTexting[_ngcontent-%COMP%]{padding-left:30px}.headingText[_ngcontent-%COMP%], .headingTexting[_ngcontent-%COMP%]{color:#aaa;font-family:Manrope;font-size:11px}.headingText[_ngcontent-%COMP%]{padding-left:10px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),c),y=r("89pA"),W=r("tZUg"),X=r("kA6c"),x=r("nm5K"),C=r("iiaH"),I=r("iELJ"),A=r("zHaW"),O=r("Tj54"),T=((b=function(){function e(t,n,o,i,r){a(this,e),this.router=t,this.apiService=n,this.dialogRef=o,this.snack=i,this.dataService=r,this.userRecommendation={userRecommendation:"Recomended For Approval"}}return i(e,[{key:"ngOnInit",value:function(){this.fetchAssessmentDetails()}},{key:"fetchAssessmentDetails",value:function(){var e=this;this.apiService.getAssessmentDetails(1234).subscribe(function(t){e.items=t,console.log(e.items)})}},{key:"edit",value:function(){this.dataService.sendNavParam(this.items),this.dialogRef.close(),this.router.navigate(["loan/account-approval/assessment-details"])}},{key:"close",value:function(){this.dialogRef.close(),this.router.navigate(["/loan/account-approval/list"])}}]),e}()).\u0275fac=function(e){return new(e||b)(m.Rb(d.h),m.Rb(x.b),m.Rb(I.g),m.Rb(A.a),m.Rb(C.a))},b.\u0275cmp=m.Lb({type:b,selectors:[["app-assessment-summary"]],decls:75,vars:9,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row wrap"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[1,"editButton",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"mat-icon",2),m.fc("click",function(){return t.close()}),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"h4",4),m.Tc(6,"Assessment Summary"),m.Wb(),m.Wb(),m.Xb(7,"div",5),m.Xb(8,"div",6),m.Xb(9,"div",7),m.Xb(10,"div",0),m.Xb(11,"div",8),m.Xb(12,"div",9),m.Vb(13),m.Xb(14,"div",10),m.Xb(15,"mat-card",11),m.Xb(16,"div",12),m.Xb(17,"div",9),m.Vb(18),m.Xb(19,"div",13),m.Xb(20,"mat-hint",14),m.Tc(21,"Requested Loan Amount "),m.Wb(),m.Sb(22,"br"),m.Xb(23,"mat-hint",15),m.Tc(24),m.Wb(),m.Wb(),m.Xb(25,"div",13),m.Xb(26,"mat-hint",14),m.Tc(27,"Loan Tenure "),m.Wb(),m.Sb(28,"br"),m.Xb(29,"mat-hint",15),m.Tc(30),m.Wb(),m.Wb(),m.Xb(31,"div",13),m.Xb(32,"mat-hint",14),m.Tc(33,"Rate Of Interest "),m.Wb(),m.Sb(34,"br"),m.Xb(35,"mat-hint",15),m.Tc(36),m.Wb(),m.Wb(),m.Xb(37,"div",13),m.Xb(38,"mat-hint",14),m.Tc(39,"System Recommendation "),m.Wb(),m.Sb(40,"br"),m.Xb(41,"mat-hint",15),m.Tc(42),m.Wb(),m.Wb(),m.Xb(43,"div",13),m.Xb(44,"mat-hint",14),m.Tc(45,"User Recommendation "),m.Wb(),m.Sb(46,"br"),m.Xb(47,"mat-hint",15),m.Tc(48),m.Wb(),m.Wb(),m.Xb(49,"div",13),m.Xb(50,"mat-hint",14),m.Tc(51,"Loan Amount Recommended "),m.Wb(),m.Sb(52,"br"),m.Xb(53,"mat-hint",15),m.Tc(54),m.Wb(),m.Wb(),m.Xb(55,"div",13),m.Xb(56,"mat-hint",14),m.Tc(57,"Approved Loan Amount "),m.Wb(),m.Sb(58,"br"),m.Xb(59,"mat-hint",15),m.Tc(60),m.Wb(),m.Wb(),m.Xb(61,"div",13),m.Xb(62,"mat-hint",14),m.Tc(63,"Final Loan tenure "),m.Wb(),m.Sb(64,"br"),m.Xb(65,"mat-hint",15),m.Tc(66),m.Wb(),m.Wb(),m.Xb(67,"div",13),m.Xb(68,"mat-hint",14),m.Tc(69,"Final Rate "),m.Wb(),m.Sb(70,"br"),m.Xb(71,"mat-hint",15),m.Tc(72),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Xb(73,"p",16),m.fc("click",function(){return t.edit()}),m.Tc(74,"Edit"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(24),m.Vc(" ",t.items.requestedLoanAmount," "),m.Eb(6),m.Vc(" ",t.items.loanTenure," "),m.Eb(6),m.Vc(" ",t.items.rateOfInterest," "),m.Eb(6),m.Vc(" ",t.items.systemRecommendation," "),m.Eb(6),m.Vc(" ",t.items.userRecommendation," "),m.Eb(6),m.Vc(" ",t.items.loanAmountRecommendation," "),m.Eb(6),m.Vc(" ",t.items.approvedLoanAmount," "),m.Eb(6),m.Vc(" ",t.items.finalLoanTenure," "),m.Eb(6),m.Vc(" ",t.items.finalRate," "))},directives:[p.e,O.a,p.d,p.b,p.f,f.a,g.f],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.homeicon[_ngcontent-%COMP%]{padding-left:2px;color:#00f;font-size:20px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px;font-size:16px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat}.paraFont[_ngcontent-%COMP%]{font-size:20px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),b),D=((l=function(){function e(t,n){a(this,e),this.router=t,this.dialogRef=n,this.userRecommendation={userRecommendation:"Recomended For Approval"},this.loanDetails={applicantName:"ABC",applicantType:"Home Loan",accountBranch:"000",productCode:"HMN 03",productName:"New Home Loan",approvedLoanAmount:"$200,000",loanTenure:"5 years",rateOfIntrest:"5.9",loanAmount:"$500,000",installmentType:"EMI",stage:"HML/Stage1",installmentAmount:"$100,000",installmentFreq:"Monthly",assessmentApprovedMethod:"Internal Score Card",userAction:"Action",date:"12/2/2021"}}return i(e,[{key:"ngOnInit",value:function(){}},{key:"edit",value:function(){this.dialogRef.close(),this.router.navigate(["loan/account-approval/loan-summary-details"])}},{key:"close",value:function(){this.dialogRef.close(),this.router.navigate(["/loan/account-approval/list"])}}]),e}()).\u0275fac=function(e){return new(e||l)(m.Rb(d.h),m.Rb(I.g))},l.\u0275cmp=m.Lb({type:l,selectors:[["app-loan-view-summary"]],decls:147,vars:21,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row wrap"],["fxFlex","30%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[1,"editButton",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"mat-icon",2),m.fc("click",function(){return t.close()}),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"h4",4),m.Tc(6,"Loan Summary"),m.Wb(),m.Wb(),m.Xb(7,"div",5),m.Xb(8,"div",6),m.Xb(9,"div",7),m.Xb(10,"div",0),m.Xb(11,"div",8),m.Xb(12,"div",9),m.Vb(13),m.Xb(14,"div",10),m.Xb(15,"mat-card",11),m.Xb(16,"div",12),m.Xb(17,"div",9),m.Vb(18),m.Xb(19,"div",13),m.Xb(20,"mat-hint",14),m.Tc(21,"Applicant Name"),m.Wb(),m.Sb(22,"br"),m.Xb(23,"mat-hint",15),m.Tc(24),m.Wb(),m.Wb(),m.Xb(25,"div",13),m.Xb(26,"mat-hint",14),m.Tc(27,"Account Type"),m.Wb(),m.Sb(28,"br"),m.Xb(29,"mat-hint",15),m.Tc(30),m.Wb(),m.Wb(),m.Xb(31,"div",13),m.Xb(32,"mat-hint",14),m.Tc(33,"Account Branch"),m.Wb(),m.Sb(34,"br"),m.Xb(35,"mat-hint",15),m.Tc(36),m.Wb(),m.Wb(),m.Xb(37,"div",13),m.Xb(38,"mat-hint",14),m.Tc(39,"Product Code"),m.Wb(),m.Sb(40,"br"),m.Xb(41,"mat-hint",15),m.Tc(42),m.Wb(),m.Wb(),m.Xb(43,"div",13),m.Xb(44,"mat-hint",14),m.Tc(45,"Product Name"),m.Wb(),m.Sb(46,"br"),m.Xb(47,"mat-hint",15),m.Tc(48),m.Wb(),m.Wb(),m.Xb(49,"div",13),m.Xb(50,"mat-hint",14),m.Tc(51,"Host Product Code"),m.Wb(),m.Sb(52,"br"),m.Xb(53,"mat-hint",15),m.Tc(54),m.Wb(),m.Wb(),m.Xb(55,"div",13),m.Xb(56,"mat-hint",14),m.Tc(57,"Host Product Description"),m.Wb(),m.Sb(58,"br"),m.Xb(59,"mat-hint",15),m.Tc(60),m.Wb(),m.Wb(),m.Xb(61,"div",13),m.Xb(62,"mat-hint",14),m.Tc(63,"Loan Amount"),m.Wb(),m.Sb(64,"br"),m.Xb(65,"mat-hint",15),m.Tc(66),m.Wb(),m.Wb(),m.Xb(67,"div",13),m.Xb(68,"mat-hint",14),m.Tc(69,"Loan Tenure"),m.Wb(),m.Sb(70,"br"),m.Xb(71,"mat-hint",15),m.Tc(72),m.Wb(),m.Wb(),m.Xb(73,"div",13),m.Xb(74,"mat-hint",14),m.Tc(75,"Interest Rate(in %)"),m.Wb(),m.Sb(76,"br"),m.Xb(77,"mat-hint",15),m.Tc(78),m.Wb(),m.Wb(),m.Xb(79,"div",13),m.Xb(80,"mat-hint",14),m.Tc(81,"Repayment Method"),m.Wb(),m.Sb(82,"br"),m.Xb(83,"mat-hint",15),m.Tc(84),m.Wb(),m.Wb(),m.Xb(85,"div",13),m.Xb(86,"mat-hint",14),m.Tc(87,"Repayment Frequency"),m.Wb(),m.Sb(88,"br"),m.Xb(89,"mat-hint",15),m.Tc(90),m.Wb(),m.Wb(),m.Xb(91,"div",13),m.Xb(92,"mat-hint",14),m.Tc(93,"Application Date"),m.Wb(),m.Sb(94,"br"),m.Xb(95,"mat-hint",15),m.Tc(96),m.Wb(),m.Wb(),m.Xb(97,"div",13),m.Xb(98,"mat-hint",14),m.Tc(99,"Assessment Approval Method"),m.Wb(),m.Sb(100,"br"),m.Xb(101,"mat-hint",15),m.Tc(102),m.Wb(),m.Wb(),m.Xb(103,"div",13),m.Xb(104,"mat-hint",14),m.Tc(105,"Offer Approved Date"),m.Wb(),m.Sb(106,"br"),m.Xb(107,"mat-hint",15),m.Tc(108),m.Wb(),m.Wb(),m.Xb(109,"div",13),m.Xb(110,"mat-hint",14),m.Tc(111,"Approver ID"),m.Wb(),m.Sb(112,"br"),m.Xb(113,"mat-hint",15),m.Tc(114),m.Wb(),m.Wb(),m.Xb(115,"div",13),m.Xb(116,"mat-hint",14),m.Tc(117,"Stage"),m.Wb(),m.Sb(118,"br"),m.Xb(119,"mat-hint",15),m.Tc(120),m.Wb(),m.Wb(),m.Xb(121,"div",13),m.Xb(122,"mat-hint",14),m.Tc(123,"Date"),m.Wb(),m.Sb(124,"br"),m.Xb(125,"mat-hint",15),m.Tc(126),m.Wb(),m.Wb(),m.Xb(127,"div",13),m.Xb(128,"mat-hint",14),m.Tc(129,"Offer Issue Date"),m.Wb(),m.Sb(130,"br"),m.Xb(131,"mat-hint",15),m.Tc(132),m.Wb(),m.Wb(),m.Xb(133,"div",13),m.Xb(134,"mat-hint",14),m.Tc(135,"User Recommendation"),m.Wb(),m.Sb(136,"br"),m.Xb(137,"mat-hint",15),m.Tc(138),m.Wb(),m.Wb(),m.Xb(139,"div",13),m.Xb(140,"mat-hint",14),m.Tc(141,"User Action"),m.Wb(),m.Sb(142,"br"),m.Xb(143,"mat-hint",15),m.Tc(144),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Xb(145,"p",16),m.fc("click",function(){return t.edit()}),m.Tc(146,"Edit"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(24),m.Uc(t.loanDetails.applicantName),m.Eb(6),m.Uc(t.loanDetails.applicantType),m.Eb(6),m.Uc(t.loanDetails.accountBranch),m.Eb(6),m.Uc(t.loanDetails.productCode),m.Eb(6),m.Uc(t.loanDetails.productName),m.Eb(6),m.Uc(t.loanDetails.productCode),m.Eb(6),m.Uc(t.loanDetails.productName),m.Eb(6),m.Uc(t.loanDetails.loanAmount),m.Eb(6),m.Uc(t.loanDetails.loanTenure),m.Eb(6),m.Uc(t.loanDetails.rateOfIntrest),m.Eb(6),m.Uc(t.loanDetails.installmentType),m.Eb(6),m.Uc(t.loanDetails.installmentFreq),m.Eb(6),m.Uc(t.loanDetails.date),m.Eb(6),m.Uc(t.loanDetails.assessmentApprovedMethod),m.Eb(6),m.Uc(t.loanDetails.date),m.Eb(6),m.Uc(t.loanDetails.productCode),m.Eb(6),m.Uc(t.loanDetails.stage),m.Eb(6),m.Uc(t.loanDetails.date),m.Eb(6),m.Uc(t.loanDetails.date),m.Eb(6),m.Uc(t.userRecommendation.userRecommendation),m.Eb(6),m.Uc(t.loanDetails.userAction))},directives:[p.e,O.a,p.d,p.b,p.f,f.a,g.f],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.homeicon[_ngcontent-%COMP%]{padding-left:2px;color:#00f;font-size:20px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px;font-size:16px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat}.paraFont[_ngcontent-%COMP%]{font-size:20px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),l),k=((s=function(){function e(t,n,o,i){a(this,e),this.router=t,this.dialogRef=n,this.apiService=o,this.dataService=i,this.userRecommendation={userRecommendation:"Accept"}}return i(e,[{key:"ngOnInit",value:function(){this.fetchOfferAcceptRejectDetails()}},{key:"fetchOfferAcceptRejectDetails",value:function(){var e=this;this.apiService.getofferDetails(7654).subscribe(function(t){e.offerDetails=t,console.log(e.offerDetails)})}},{key:"edit",value:function(){this.dataService.sendNavParam(this.offerDetails),this.dialogRef.close(),this.router.navigate(["loan/account-approval/offer-acceptReject-details"])}},{key:"close",value:function(){this.dialogRef.close(),this.router.navigate(["/loan/account-approval/list"])}}]),e}()).\u0275fac=function(e){return new(e||s)(m.Rb(d.h),m.Rb(I.g),m.Rb(x.b),m.Rb(C.a))},s.\u0275cmp=m.Lb({type:s,selectors:[["app-offer-accept-reject-summary"]],decls:111,vars:15,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row wrap"],["fxFlex","30%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[1,"editButton",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"mat-icon",2),m.fc("click",function(){return t.close()}),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"h4",4),m.Tc(6,"Offer Accept / Reject Summary"),m.Wb(),m.Wb(),m.Xb(7,"div",5),m.Xb(8,"div",6),m.Xb(9,"div",7),m.Xb(10,"div",0),m.Xb(11,"div",8),m.Xb(12,"div",9),m.Vb(13),m.Xb(14,"div",10),m.Xb(15,"mat-card",11),m.Xb(16,"div",12),m.Xb(17,"div",9),m.Vb(18),m.Xb(19,"div",13),m.Xb(20,"mat-hint",14),m.Tc(21,"Applicant Name"),m.Wb(),m.Sb(22,"br"),m.Xb(23,"mat-hint",15),m.Tc(24),m.Wb(),m.Wb(),m.Xb(25,"div",13),m.Xb(26,"mat-hint",14),m.Tc(27,"Approved Loan Amount"),m.Wb(),m.Sb(28,"br"),m.Xb(29,"mat-hint",15),m.Tc(30),m.Wb(),m.Wb(),m.Xb(31,"div",13),m.Xb(32,"mat-hint",14),m.Tc(33,"Loan Tenure"),m.Wb(),m.Sb(34,"br"),m.Xb(35,"mat-hint",15),m.Tc(36),m.Wb(),m.Wb(),m.Xb(37,"div",13),m.Xb(38,"mat-hint",14),m.Tc(39,"Installment Type"),m.Wb(),m.Sb(40,"br"),m.Xb(41,"mat-hint",15),m.Tc(42),m.Wb(),m.Wb(),m.Xb(43,"div",13),m.Xb(44,"mat-hint",14),m.Tc(45,"Installment Frequency"),m.Wb(),m.Sb(46,"br"),m.Xb(47,"mat-hint",15),m.Tc(48),m.Wb(),m.Wb(),m.Xb(49,"div",13),m.Xb(50,"mat-hint",14),m.Tc(51,"Rate Of Interest(in %)"),m.Wb(),m.Sb(52,"br"),m.Xb(53,"mat-hint",15),m.Tc(54),m.Wb(),m.Wb(),m.Xb(55,"div",13),m.Xb(56,"mat-hint",14),m.Tc(57,"Principal"),m.Wb(),m.Sb(58,"br"),m.Xb(59,"mat-hint",15),m.Tc(60),m.Wb(),m.Wb(),m.Xb(61,"div",13),m.Xb(62,"mat-hint",14),m.Tc(63,"Interest"),m.Wb(),m.Sb(64,"br"),m.Xb(65,"mat-hint",15),m.Tc(66),m.Wb(),m.Wb(),m.Xb(67,"div",13),m.Xb(68,"mat-hint",14),m.Tc(69,"Installment Amount"),m.Wb(),m.Sb(70,"br"),m.Xb(71,"mat-hint",15),m.Tc(72),m.Wb(),m.Wb(),m.Xb(73,"div",13),m.Xb(74,"mat-hint",14),m.Tc(75,"Charges"),m.Wb(),m.Sb(76,"br"),m.Xb(77,"mat-hint",15),m.Tc(78),m.Wb(),m.Wb(),m.Xb(79,"div",13),m.Xb(80,"mat-hint",14),m.Tc(81,"Offer Issue Date"),m.Wb(),m.Sb(82,"br"),m.Xb(83,"mat-hint",15),m.Tc(84),m.Wb(),m.Wb(),m.Xb(85,"div",13),m.Xb(86,"mat-hint",14),m.Tc(87,"Generate Offer"),m.Wb(),m.Sb(88,"br"),m.Xb(89,"mat-hint",15),m.Tc(90),m.Wb(),m.Wb(),m.Xb(91,"div",13),m.Xb(92,"mat-hint",14),m.Tc(93,"Customer Response"),m.Wb(),m.Sb(94,"br"),m.Xb(95,"mat-hint",15),m.Tc(96),m.Wb(),m.Wb(),m.Xb(97,"div",13),m.Xb(98,"mat-hint",14),m.Tc(99,"Date Of Offer Accept/Reject"),m.Wb(),m.Sb(100,"br"),m.Xb(101,"mat-hint",15),m.Tc(102),m.Wb(),m.Wb(),m.Xb(103,"div",13),m.Xb(104,"mat-hint",14),m.Tc(105,"Offer Expiry Date"),m.Wb(),m.Sb(106,"br"),m.Xb(107,"mat-hint",15),m.Tc(108),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Xb(109,"p",16),m.fc("click",function(){return t.edit()}),m.Tc(110,"Edit"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(24),m.Uc(t.offerDetails.applicantName),m.Eb(6),m.Uc(t.offerDetails.approvedLoanAmount),m.Eb(6),m.Uc(t.offerDetails.loanTenure),m.Eb(6),m.Uc(t.offerDetails.installmentType),m.Eb(6),m.Uc(t.offerDetails.installmentFrequency),m.Eb(6),m.Uc(t.offerDetails.rateOfInterest),m.Eb(6),m.Uc(t.offerDetails.principle),m.Eb(6),m.Uc(t.offerDetails.interest),m.Eb(6),m.Uc(t.offerDetails.installmentAmount),m.Eb(6),m.Uc(t.offerDetails.charges),m.Eb(6),m.Uc(t.offerDetails.offerIssueDate),m.Eb(6),m.Uc(t.offerDetails.generateOffer),m.Eb(6),m.Uc(t.userRecommendation.userRecommendation),m.Eb(6),m.Uc(t.offerDetails.dateOfOfferAcceptOrReject),m.Eb(6),m.Uc(t.offerDetails.offerExpiryDate))},directives:[p.e,O.a,p.d,p.b,p.f,f.a,g.f],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.homeicon[_ngcontent-%COMP%]{padding-left:2px;color:#00f;font-size:20px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px;font-size:16px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat}.paraFont[_ngcontent-%COMP%]{font-size:20px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),s),S=r("BSbQ"),_=r("BTe0"),R=function(){return{y:"50px",delay:"300ms"}},E=function(e){return{value:"*",params:e}};function M(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",19),m.Xb(1,"mat-card"),m.Xb(2,"div",20),m.Xb(3,"div",21),m.Xb(4,"mat-icon",22),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",23),m.Xb(7,"h3"),m.Tc(8,"Account Approval Stage Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",24),m.Xb(10,"button",25),m.fc("click",function(){return m.Hc(n),m.jc().gotoAccountApprovalSummary()}),m.Tc(11," View Summary "),m.Xb(12,"mat-icon"),m.Tc(13,"chevron_right"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,E,m.wc(1,R))))}function P(e,t){1&e&&(m.Xb(0,"div",26),m.Sb(1,"mat-progress-bar",27),m.Xb(2,"p",28),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}function N(e,t){if(1&e){var n=m.Yb();m.Xb(0,"a",29),m.fc("click",function(){return m.Hc(n),m.jc().goToAssessmentSummary()}),m.Tc(1," View Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()}}function w(e,t){1&e&&(m.Xb(0,"div",26),m.Sb(1,"mat-progress-bar",27),m.Xb(2,"p",28),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}function F(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"a",29),m.fc("click",function(){return m.Hc(n),m.jc().openDialog1()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var L=function(){return["/loan/account-approval/offer-acceptReject-details/"]};function V(e,t){1&e&&(m.Xb(0,"button",15),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,L))}function q(e,t){1&e&&(m.Xb(0,"div",26),m.Sb(1,"mat-progress-bar",27),m.Xb(2,"p",28),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}function j(e,t){if(1&e){var n=m.Yb();m.Xb(0,"a",29),m.fc("click",function(){return m.Hc(n),m.jc(2).openDialog2()}),m.Tc(1," View Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()}}function B(e,t){if(1&e&&(m.Vb(0),m.Rc(1,j,4,0,"a",16),m.Ub()),2&e){var n=m.jc();m.Eb(1),m.rc("ngIf",n.isLoanSummaryStageDone)}}var z=function(){return["/loan/account-approval/loan-summary-details/"]};function U(e,t){1&e&&(m.Xb(0,"button",15),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,z))}var H,G=function(){return["/loan/account-approval/assessment-details/"]},Y=((H=function(){function e(t,n,o,i,r){a(this,e),this.router=t,this.dialog=n,this.ls=o,this.cdr=i,this.accountService=r,this.isAccountApproveStageDone=!1,this.isAssessmentStageDone=!1,this.isOfferAcceptRejectStageDone=!1,this.isLoanSummaryStageDone=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.isAccountApproveStageDone=this.ls.getItem("account-approval"),this.isAssessmentStageDone=this.ls.getItem("assessment-details"),this.isOfferAcceptRejectStageDone=this.ls.getItem("offer-acceptReject-details"),this.isLoanSummaryStageDone=this.ls.getItem("loan-summary-details"),this.accountService.refresh.subscribe(function(t){e.isAccountApproveStageDone=e.ls.getItem("account-approval"),e.isAssessmentStageDone=e.ls.getItem("assessment-details"),e.isOfferAcceptRejectStageDone=e.ls.getItem("offer-acceptReject-details"),e.isLoanSummaryStageDone=e.ls.getItem("loan-summary-details"),e.cdr.markForCheck()})}},{key:"goToAssessmentSummary",value:function(){this.dialog.open(T,{width:"75%",backdropClass:"dialog-bg-trans",height:"50%",disableClose:!0}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})}},{key:"openDialog1",value:function(){this.dialog.open(k,{width:"75%",backdropClass:"dialog-bg-trans",height:"60%",disableClose:!0}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})}},{key:"openDialog2",value:function(){this.dialog.open(D,{width:"75%",backdropClass:"dialog-bg-trans",height:"70%",disableClose:!0}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})}},{key:"gotoAccountApprovalSummary",value:function(){this.router.navigate(["/loan/account-approval/account-approval-summary-details/"])}}]),e}()).\u0275fac=function(e){return new(e||H)(m.Rb(d.h),m.Rb(I.b),m.Rb(W.a),m.Rb(m.h),m.Rb(X.a))},H.\u0275cmp=m.Lb({type:H,selectors:[["app-account-approval-stage"]],decls:69,vars:14,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["showCustomer",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",1,"btn-color",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"click"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create Retail Loan Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,M,14,4,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card"),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1. Assessment Details"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",11),m.Xb(20,"div",12),m.Xb(21,"p"),m.Tc(22," Basic Details for Loan Account is captured. "),m.Wb(),m.Wb(),m.Xb(23,"div",12),m.Sb(24,"img",13),m.Wb(),m.Wb(),m.Rc(25,P,4,2,"div",14),m.Wb(),m.Sb(26,"mat-divider"),m.Xb(27,"mat-card-actions"),m.Xb(28,"a",15),m.Tc(29," Add Details "),m.Xb(30,"mat-icon"),m.Tc(31,"chevron_right"),m.Wb(),m.Wb(),m.Rc(32,N,4,0,"a",16),m.Wb(),m.Wb(),m.Wb(),m.Xb(33,"div",10),m.Xb(34,"mat-card"),m.Xb(35,"mat-card-header"),m.Xb(36,"mat-card-title"),m.Tc(37,"2. Offer Accept / Reject Details"),m.Wb(),m.Wb(),m.Xb(38,"mat-card-content"),m.Xb(39,"div",11),m.Xb(40,"div",12),m.Xb(41,"p"),m.Tc(42," Details about asset or vehicle or admission is added. "),m.Wb(),m.Wb(),m.Xb(43,"div",12),m.Sb(44,"img",13),m.Wb(),m.Wb(),m.Rc(45,w,4,2,"div",14),m.Wb(),m.Sb(46,"mat-divider"),m.Xb(47,"mat-card-actions"),m.Rc(48,F,5,0,"ng-container",17),m.Rc(49,V,4,2,"ng-template",null,18,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(51,"div",10),m.Xb(52,"mat-card"),m.Xb(53,"mat-card-header"),m.Xb(54,"mat-card-title"),m.Tc(55,"3. Loan Summary Details"),m.Wb(),m.Wb(),m.Xb(56,"mat-card-content"),m.Xb(57,"div",11),m.Xb(58,"div",12),m.Xb(59,"p"),m.Tc(60,"All the primary information about the customer is captured."),m.Wb(),m.Wb(),m.Xb(61,"div",12),m.Sb(62,"img",13),m.Wb(),m.Wb(),m.Rc(63,q,4,2,"div",14),m.Wb(),m.Sb(64,"mat-divider"),m.Xb(65,"mat-card-actions"),m.Rc(66,B,2,1,"ng-container",17),m.Rc(67,U,4,2,"ng-template",null,18,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(50);m.Eb(11),m.rc("ngIf",!t.isAccountApproveStageDone),m.Eb(13),m.rc("src","assets/images/svg/Group 673.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isAssessmentStageDone),m.Eb(3),m.rc("routerLink",m.wc(13,G)),m.Eb(4),m.rc("ngIf",t.isAssessmentStageDone),m.Eb(12),m.rc("src","assets/images/svg/undraw_personal_information_re_vw8a.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isOfferAcceptRejectStageDone),m.Eb(3),m.rc("ngIf",t.isAssessmentStageDone&&t.isOfferAcceptRejectStageDone)("ngIfElse",n),m.Eb(14),m.rc("src","assets/images/svg/undraw_Terms_re_6ak4.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isLoanSummaryStageDone),m.Eb(3),m.rc("ngIf",t.isOfferAcceptRejectStageDone&&t.isLoanSummaryStageDone)("ngIfElse",n)}},directives:[p.e,p.b,u.n,f.a,f.e,f.h,f.d,p.f,p.d,S.a,f.b,h.a,d.k,O.a,h.b,_.a,d.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}"],data:{animation:y.a}}),H),$=r("s7LF"),Q=r("e6WT"),J=r("ZTz/"),Z=r("UhP/");function K(e,t){if(1&e&&(m.Xb(0,"mat-option",29),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function ee(e,t){if(1&e&&(m.Xb(0,"mat-option",29),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}var te,ne=((te=function(){function e(t,n,o,i,r,c){a(this,e),this.router=t,this.snack=n,this.cdr=o,this.apiService=i,this._location=r,this.fb=c,this.userRecommendation=["Recomended For Approval","Recommended For Reject"],this.systemRecommendation=["Recomended For Approval","Recommended For Reject"]}return i(e,[{key:"ngOnInit",value:function(){this.buildAssessmentForm({})}},{key:"buildAssessmentForm",value:function(e){this.assessmentForm=this.fb.group({loanAccountId:[e.loanAccountId="1234567"],requestedLoanAmount:[e.requestedLoanAmount],loanTenure:[e.loanTenure],rateOfInterest:[e.rateOfInterest],systemRecommendation:[e.systemRecommendation],userRecommendation:[e.userRecommendation||""],loanAmountRecommendation:[e.loanAmountRecommendation||""],approvedLoanAmount:[e.approvedLoanAmount],finalLoanTenure:[e.finalLoanTenure],finalRate:[e.finalRate]})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"next",value:function(){var e=this;this.apiService.assessmentDetails(this.assessmentForm.value).subscribe(function(t){console.log("data",t),null!=t&&(e.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.cdr.markForCheck())}),this.router.navigate(["/loan/account-approval/offer-acceptReject-details"])}},{key:"goBack",value:function(){this.router.navigate(["/loan/account-approval/list"])}}]),e}()).\u0275fac=function(e){return new(e||te)(m.Rb(d.h),m.Rb(A.a),m.Rb(m.h),m.Rb(x.b),m.Rb(u.j),m.Rb($.f))},te.\u0275cmp=m.Lb({type:te,selectors:[["app-assessment-details"]],decls:91,vars:3,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","row wrap"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","maxlength","10","formControlName","requestedLoanAmount","placeholder","Requested Loan Amount",3,"keypress"],["matInput","","maxlength","8","formControlName","loanTenure","placeholder","Loan Tenure"],["matInput","","maxlength","10","formControlName","rateOfInterest","placeholder","Rate Of Interest",3,"keypress"],["disableOptionCentering","","name","prefix","formControlName","systemRecommendation"],["value",""],[3,"value",4,"ngFor","ngForOf"],["disableOptionCentering","","name","prefix","formControlName","userRecommendation"],["matInput","","maxlength","10","formControlName","loanAmountRecommendation","placeholder","Loan Amount Recommended",3,"keypress"],["matInput","","maxlength","10","formControlName","approvedLoanAmount","placeholder","Approved Loan Amount",3,"keypress"],["matInput","","maxlength","8","formControlName","finalLoanTenure","placeholder","Final Loan Tenure"],["matInput","","maxlength","10","formControlName","finalRate","placeholder","Final Rate",3,"keypress"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"click"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Assessment Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"div",1),m.Xb(10,"mat-card",7),m.Xb(11,"mat-card-title",8),m.Xb(12,"div",9),m.Tc(13,"Assessment Details"),m.Wb(),m.Sb(14,"mat-divider"),m.Wb(),m.Xb(15,"mat-card-content"),m.Xb(16,"form",10),m.Xb(17,"div",11),m.Xb(18,"div",12),m.Xb(19,"div",13),m.Xb(20,"mat-label"),m.Tc(21,"Requested Loan Amount"),m.Wb(),m.Xb(22,"mat-form-field",14),m.Xb(23,"input",15),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(24,"div",12),m.Xb(25,"div",13),m.Xb(26,"mat-label"),m.Tc(27,"Loan Tenure"),m.Wb(),m.Xb(28,"mat-form-field",14),m.Sb(29,"input",16),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"div",11),m.Xb(31,"div",12),m.Xb(32,"div",13),m.Xb(33,"mat-label"),m.Tc(34,"Rate Of Interest"),m.Wb(),m.Xb(35,"mat-form-field",14),m.Xb(36,"input",17),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(37,"div",12),m.Xb(38,"div",13),m.Xb(39,"mat-label"),m.Tc(40,"System Recommendation"),m.Wb(),m.Xb(41,"mat-form-field",14),m.Xb(42,"mat-label"),m.Tc(43,"System Recommendation"),m.Wb(),m.Xb(44,"mat-select",18),m.Xb(45,"mat-option",19),m.Tc(46,"Select"),m.Wb(),m.Rc(47,K,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(48,"div",11),m.Xb(49,"div",12),m.Xb(50,"div",13),m.Xb(51,"mat-label"),m.Tc(52,"User Recommendation"),m.Wb(),m.Xb(53,"mat-form-field",14),m.Xb(54,"mat-label"),m.Tc(55,"User Recommendation"),m.Wb(),m.Xb(56,"mat-select",21),m.Xb(57,"mat-option",19),m.Tc(58,"Select"),m.Wb(),m.Rc(59,ee,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(60,"div",12),m.Xb(61,"div",13),m.Xb(62,"mat-label"),m.Tc(63,"Loan Amount Recommended"),m.Wb(),m.Xb(64,"mat-form-field",14),m.Xb(65,"input",22),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(66,"div",11),m.Xb(67,"div",12),m.Xb(68,"div",13),m.Xb(69,"mat-label"),m.Tc(70,"Approved Loan Amount"),m.Wb(),m.Xb(71,"mat-form-field",14),m.Xb(72,"input",23),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(73,"div",12),m.Xb(74,"div",13),m.Xb(75,"mat-label"),m.Tc(76,"Final Loan tenure"),m.Wb(),m.Xb(77,"mat-form-field",14),m.Sb(78,"input",24),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(79,"div",11),m.Xb(80,"div",12),m.Xb(81,"div",13),m.Xb(82,"mat-label"),m.Tc(83,"Final Rate"),m.Wb(),m.Xb(84,"mat-form-field",14),m.Xb(85,"input",25),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(86,"div",26),m.Xb(87,"button",27),m.fc("click",function(){return t.goBack()}),m.Tc(88,"Back"),m.Wb(),m.Xb(89,"button",28),m.fc("click",function(){return t.next()}),m.Tc(90,"Next"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(16),m.rc("formGroup",t.assessmentForm),m.Eb(31),m.rc("ngForOf",t.systemRecommendation),m.Eb(12),m.rc("ngForOf",t.userRecommendation))},directives:[p.e,p.b,f.a,f.h,S.a,f.d,$.C,$.s,$.j,p.f,g.g,g.c,Q.b,$.c,$.m,$.r,$.i,J.a,Z.n,u.m,h.b],styles:[".button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -7%!important;background-color:#a0a0a0!important;border-radius:45px!important}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px!important;color:#fff!important}.Next[_ngcontent-%COMP%]{margin:12px -11% 12px 0!important;background-color:#426af5!important;border-radius:55px!important}"]}),te);function ae(e,t){if(1&e&&(m.Xb(0,"mat-option",41),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}var oe,ie=((oe=function(){function e(t,n,o){a(this,e),this.router=t,this._location=n,this.fb=o,this.userRecommendation=["Recomended For Approval","Recommended For Reject"]}return i(e,[{key:"ngOnInit",value:function(){this.buildAssessmentForm()}},{key:"buildAssessmentForm",value:function(){this.loanSummaryForm=this.fb.group({applicantName:[""],accountType:[""],accountBranch:[""],productCode:[""],productName:[""],hostProductCode:[""],hostProductDescription:[""],loanAmount:[""],loanTenure:[""],interestRate:[""],repaymentMethod:[""],repaymentFrequency:[""],applicationDate:[""],assessmentApprovalMethod:[""],offerApprovedDate:[""],offerAcceptedDate:[""],approverID:[""],stage:[""],date:[""],offerIssueDate:[""],userRecommendation:[""],userAction:[""]})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"next",value:function(){this.router.navigate(["/loan/account-approval/offer-acceptReject-details"])}},{key:"goBack",value:function(){this.router.navigate(["/loan/account-approval/list"])}}]),e}()).\u0275fac=function(e){return new(e||oe)(m.Rb(d.h),m.Rb(u.j),m.Rb($.f))},oe.\u0275cmp=m.Lb({type:oe,selectors:[["app-loan-summary-details"]],decls:188,vars:2,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","row wrap"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","maxlength","10","formControlName","applicantName","placeholder","Applicant Name"],["matInput","","maxlength","10","formControlName","accountType","placeholder","Account type",3,"keypress"],["matInput","","maxlength","10","formControlName","accountBranch","placeholder","Account Branch",3,"keypress"],["matInput","","maxlength","10","formControlName","productCode","placeholder","Product Code",3,"keypress"],["matInput","","maxlength","10","formControlName","productName","placeholder","Product Name",3,"keypress"],["matInput","","maxlength","10","formControlName","hostProductCode","placeholder","Host Product Code",3,"keypress"],["matInput","","maxlength","10","formControlName","hostProductDescription","placeholder","Host Product Description",3,"keypress"],["matInput","","maxlength","10","formControlName","loanAmount","placeholder","Loan Amount",3,"keypress"],["matInput","","maxlength","10","formControlName","loanTenure","placeholder","Loan Tenure",3,"keypress"],["matInput","","maxlength","10","formControlName","interestRate","placeholder","Interest Rate",3,"keypress"],["matInput","","maxlength","10","formControlName","repaymentMethod","placeholder","Repayment Method",3,"keypress"],["matInput","","maxlength","10","formControlName","repaymentFrequency","placeholder","Repayment Frequency",3,"keypress"],["matInput","","maxlength","10","formControlName","applicationDate","placeholder","Application Date",3,"keypress"],["matInput","","maxlength","10","formControlName","assessmentApprovalMethod","placeholder","Assessment Approval Method",3,"keypress"],["matInput","","maxlength","10","formControlName","offerApprovedDate","placeholder","Offer Approved Date",3,"keypress"],["matInput","","maxlength","10","formControlName","offerAcceptedDate","placeholder","Offer Accepted Date",3,"keypress"],["matInput","","maxlength","10","formControlName","approverID","placeholder","Approver ID",3,"keypress"],["matInput","","maxlength","10","formControlName","stage","placeholder","Stage",3,"keypress"],["matInput","","maxlength","10","formControlName","date","placeholder","Date",3,"keypress"],["matInput","","maxlength","10","formControlName","offerIssueDate","placeholder","Offer Issue Date",3,"keypress"],["name","prefix","formControlName","userRecommendation"],[3,"value",4,"ngFor","ngForOf"],["matInput","","maxlength","10","formControlName","userAction","placeholder","User Action",3,"keypress"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"click"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Loan Summary Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"div",1),m.Xb(10,"mat-card",7),m.Xb(11,"mat-card-title",8),m.Xb(12,"div",9),m.Tc(13,"Loan Summary Details"),m.Wb(),m.Sb(14,"mat-divider"),m.Wb(),m.Xb(15,"mat-card-content"),m.Xb(16,"form",10),m.Xb(17,"div",11),m.Xb(18,"div",12),m.Xb(19,"div",13),m.Xb(20,"mat-label"),m.Tc(21,"Applicant Name"),m.Wb(),m.Xb(22,"mat-form-field",14),m.Sb(23,"input",15),m.Wb(),m.Wb(),m.Wb(),m.Xb(24,"div",12),m.Xb(25,"div",13),m.Xb(26,"mat-label"),m.Tc(27,"Account Type"),m.Wb(),m.Xb(28,"mat-form-field",14),m.Xb(29,"input",16),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"div",11),m.Xb(31,"div",12),m.Xb(32,"div",13),m.Xb(33,"mat-label"),m.Tc(34,"Account Branch"),m.Wb(),m.Xb(35,"mat-form-field",14),m.Xb(36,"input",17),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(37,"div",12),m.Xb(38,"div",13),m.Xb(39,"mat-label"),m.Tc(40,"Product Code"),m.Wb(),m.Xb(41,"mat-form-field",14),m.Xb(42,"input",18),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(43,"div",11),m.Xb(44,"div",12),m.Xb(45,"div",13),m.Xb(46,"mat-label"),m.Tc(47,"Product Name"),m.Wb(),m.Xb(48,"mat-form-field",14),m.Xb(49,"input",19),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(50,"div",12),m.Xb(51,"div",13),m.Xb(52,"mat-label"),m.Tc(53,"Host Product Code"),m.Wb(),m.Xb(54,"mat-form-field",14),m.Xb(55,"input",20),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(56,"div",11),m.Xb(57,"div",12),m.Xb(58,"div",13),m.Xb(59,"mat-label"),m.Tc(60,"Host Product Description"),m.Wb(),m.Xb(61,"mat-form-field",14),m.Xb(62,"input",21),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(63,"mat-card-title",8),m.Xb(64,"div",9),m.Tc(65,"Application Details"),m.Wb(),m.Sb(66,"mat-divider"),m.Xb(67,"mat-card"),m.Xb(68,"div",11),m.Xb(69,"div",12),m.Xb(70,"div",13),m.Xb(71,"mat-label"),m.Tc(72,"Loan Amount"),m.Wb(),m.Xb(73,"mat-form-field",14),m.Xb(74,"input",22),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(75,"div",12),m.Xb(76,"div",13),m.Xb(77,"mat-label"),m.Tc(78,"Loan Tenure"),m.Wb(),m.Xb(79,"mat-form-field",14),m.Xb(80,"input",23),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(81,"div",11),m.Xb(82,"div",12),m.Xb(83,"div",13),m.Xb(84,"mat-label"),m.Tc(85,"Interest Rate(in %)"),m.Wb(),m.Xb(86,"mat-form-field",14),m.Xb(87,"input",24),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(88,"div",12),m.Xb(89,"div",13),m.Xb(90,"mat-label"),m.Tc(91,"Repayment Method"),m.Wb(),m.Xb(92,"mat-form-field",14),m.Xb(93,"input",25),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(94,"div",11),m.Xb(95,"div",12),m.Xb(96,"div",13),m.Xb(97,"mat-label"),m.Tc(98,"Repayment Frequency"),m.Wb(),m.Xb(99,"mat-form-field",14),m.Xb(100,"input",26),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(101,"div",12),m.Xb(102,"div",13),m.Xb(103,"a"),m.Tc(104," Repayment Schedule View"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(105,"mat-card-title",8),m.Xb(106,"div",9),m.Tc(107,"Application Life Cycle Details"),m.Wb(),m.Sb(108,"mat-divider"),m.Xb(109,"mat-card"),m.Xb(110,"div",11),m.Xb(111,"div",12),m.Xb(112,"div",13),m.Xb(113,"mat-label"),m.Tc(114,"Application Date"),m.Wb(),m.Xb(115,"mat-form-field",14),m.Xb(116,"input",27),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(117,"div",12),m.Xb(118,"div",13),m.Xb(119,"mat-label"),m.Tc(120,"Assessment Approval Method"),m.Wb(),m.Xb(121,"mat-form-field",14),m.Xb(122,"input",28),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(123,"div",11),m.Xb(124,"div",12),m.Xb(125,"div",13),m.Xb(126,"mat-label"),m.Tc(127,"Offer Approved Date"),m.Wb(),m.Xb(128,"mat-form-field",14),m.Xb(129,"input",29),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(130,"div",12),m.Xb(131,"div",13),m.Xb(132,"mat-label"),m.Tc(133,"Offer Accepted Date"),m.Wb(),m.Xb(134,"mat-form-field",14),m.Xb(135,"input",30),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(136,"mat-card-title",8),m.Xb(137,"div",9),m.Tc(138,"Approval Details"),m.Wb(),m.Sb(139,"mat-divider"),m.Xb(140,"mat-card"),m.Xb(141,"div",11),m.Xb(142,"div",12),m.Xb(143,"div",13),m.Xb(144,"mat-label"),m.Tc(145,"Approver ID"),m.Wb(),m.Xb(146,"mat-form-field",14),m.Xb(147,"input",31),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(148,"div",12),m.Xb(149,"div",13),m.Xb(150,"mat-label"),m.Tc(151,"Stage"),m.Wb(),m.Xb(152,"mat-form-field",14),m.Xb(153,"input",32),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(154,"div",11),m.Xb(155,"div",12),m.Xb(156,"div",13),m.Xb(157,"mat-label"),m.Tc(158,"Date"),m.Wb(),m.Xb(159,"mat-form-field",14),m.Xb(160,"input",33),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(161,"div",12),m.Xb(162,"div",13),m.Xb(163,"mat-label"),m.Tc(164,"Offer Issue Date"),m.Wb(),m.Xb(165,"mat-form-field",14),m.Xb(166,"input",34),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(167,"div",11),m.Xb(168,"div",12),m.Xb(169,"div",13),m.Xb(170,"mat-label"),m.Tc(171,"User Recommendation"),m.Wb(),m.Xb(172,"mat-form-field",14),m.Xb(173,"mat-label"),m.Tc(174,"User Recommendation"),m.Wb(),m.Xb(175,"mat-select",35),m.Rc(176,ae,2,2,"mat-option",36),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(177,"div",12),m.Xb(178,"div",13),m.Xb(179,"mat-label"),m.Tc(180,"User Action"),m.Wb(),m.Xb(181,"mat-form-field",14),m.Xb(182,"input",37),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(183,"div",38),m.Xb(184,"button",39),m.fc("click",function(){return t.goBack()}),m.Tc(185,"Back"),m.Wb(),m.Xb(186,"button",40),m.fc("click",function(){return t.next()}),m.Tc(187,"Next"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(16),m.rc("formGroup",t.loanSummaryForm),m.Eb(160),m.rc("ngForOf",t.userRecommendation))},directives:[p.e,p.b,f.a,f.h,S.a,f.d,$.C,$.s,$.j,p.f,g.g,g.c,Q.b,$.c,$.m,$.r,$.i,J.a,u.m,h.b,Z.n],styles:[".button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -7%!important;background-color:#a0a0a0!important;border-radius:45px!important}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px!important;color:#fff!important}.Next[_ngcontent-%COMP%]{margin:12px -11% 12px 0!important;background-color:#426af5!important;border-radius:55px!important}"]}),oe),re=r("wd/R"),ce=r("TN/R");function se(e,t){if(1&e&&(m.Xb(0,"mat-option",39),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}var le,be=((le=function(){function e(t,n,o,i,r,c){a(this,e),this.router=t,this.snack=n,this.cdr=o,this.apiService=i,this._location=r,this.fb=c,this.maxDate=new Date,this.minDate=new Date,this.customerResponse=["Accept","Reject"]}return i(e,[{key:"ngOnInit",value:function(){this.buildOfferAcceptRejectForm({})}},{key:"buildOfferAcceptRejectForm",value:function(e){this.offerAcceptRejectForm=this.fb.group({offerAcceptOrRejectId:[e.offerAcceptOrRejectId="12345"],loanAccountId:"7654",applicantName:[e.applicantName],approvedLoanAmount:[e.approvedLoanAmount],loanTenure:[e.loanTenure],installmentType:[e.installmentType],installmentFrequency:[e.installmentFrequency],rateOfInterest:[e.rateOfInterest],principal:[e.principal],interest:[e.interest],installmentAmount:[e.installmentAmount],charges:[e.charges],dateOfOfferAcceptOrReject:[new Date(e.dateOfOfferAcceptOrReject)],generateOffer:[new Date(e.generateOffer)],offerIssueDate:[new Date(e.offerIssueDate)],offerExpiryDate:[new Date(e.offerExpiryDate)]})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"convertDate",value:function(e){var t=re(e).format("YYYY-MMM-DD HH:mm:ss");if(console.log("date",t),t)return t}},{key:"next",value:function(){var e=this,t=this.convertDate(this.offerAcceptRejectForm.controls.generateOffer.value);this.offerAcceptRejectForm.value.generateOffer=t;var n=this.convertDate(this.offerAcceptRejectForm.controls.dateOfOfferAcceptOrReject.value);this.offerAcceptRejectForm.value.dateOfOfferAcceptOrReject=n;var a=this.convertDate(this.offerAcceptRejectForm.controls.offerIssueDate.value);this.offerAcceptRejectForm.value.offerIssueDate=a;var o=this.convertDate(this.offerAcceptRejectForm.controls.offerExpiryDate.value);this.offerAcceptRejectForm.value.offerExpiryDate=o,this.apiService.offerDetails(this.offerAcceptRejectForm.value).subscribe(function(t){console.log("data",t),null!=t&&(e.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.cdr.markForCheck())}),this.router.navigate(["/loan/account-approval/loan-summary-details"])}},{key:"goBack",value:function(){this.router.navigate(["/loan/account-approval/assessment-details"])}}]),e}()).\u0275fac=function(e){return new(e||le)(m.Rb(d.h),m.Rb(A.a),m.Rb(m.h),m.Rb(x.b),m.Rb(u.j),m.Rb($.f))},le.\u0275cmp=m.Lb({type:le,selectors:[["app-offer-accept-reject-details"]],decls:139,vars:14,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","row wrap"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","maxlength","10","formControlName","applicantName","placeholder","Applicant Name"],["matInput","","maxlength","10","formControlName","approvedLoanAmount","placeholder","Approved Loan Amount",3,"keypress"],["matInput","","type","text","maxlength","10","formControlName","loanTenure","placeholder","Loan Tenure"],["matInput","","type","text","maxlength","10","formControlName","installmentType","placeholder","Installment Type"],["matInput","","type","text","maxlength","10","formControlName","installmentFrequency","placeholder","Installment Frequency"],["matInput","","maxlength","10","formControlName","rateOfInterest","placeholder","Rate Of Interest",3,"keypress"],["matInput","","maxlength","10","formControlName","principal","placeholder","Principal",3,"keypress"],["matInput","","maxlength","8","formControlName","interest","placeholder","Interest"],["matInput","","maxlength","10","formControlName","installmentAmount","placeholder","Installment Amount",3,"keypress"],["matInput","","maxlength","8","formControlName","charges","placeholder","Charges"],["matInput","","formControlName","offerIssueDate","placeholder","Offer Issue Date","readonly","",3,"min","matDatepicker","keypress"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","formControlName","generateOffer","placeholder","Generate Offer","readonly","",3,"min","matDatepicker","keypress"],["appDatepicker2",""],["name","prefix","formControlName","Customer Response","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["readonly","","matInput","","name","dob","formControlName","dateOfOfferAcceptOrReject","placeholder","Date Of Offer Accept/Reject",3,"matDatepicker","min"],["appDatepicker",""],["matInput","","name","dob","formControlName","offerExpiryDate","placeholder","Offer Expiry Date","readonly","",3,"min","matDatepicker"],["appDatepicker3",""],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"click"],[3,"value"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Offer Accept / Reject Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"div",1),m.Xb(10,"mat-card",7),m.Xb(11,"mat-card-title",8),m.Xb(12,"div",9),m.Tc(13,"Offer Accept / Reject Details"),m.Wb(),m.Sb(14,"mat-divider"),m.Wb(),m.Xb(15,"mat-card-content"),m.Xb(16,"form",10),m.Xb(17,"div",11),m.Xb(18,"div",12),m.Xb(19,"div",13),m.Xb(20,"mat-label"),m.Tc(21,"Applicant Name"),m.Wb(),m.Xb(22,"mat-form-field",14),m.Sb(23,"input",15),m.Wb(),m.Wb(),m.Wb(),m.Xb(24,"div",12),m.Xb(25,"div",13),m.Xb(26,"mat-label"),m.Tc(27,"Approved Loan Amount"),m.Wb(),m.Xb(28,"mat-form-field",14),m.Xb(29,"input",16),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"div",11),m.Xb(31,"div",12),m.Xb(32,"div",13),m.Xb(33,"mat-label"),m.Tc(34,"Loan Tenure"),m.Wb(),m.Xb(35,"mat-form-field",14),m.Sb(36,"input",17),m.Wb(),m.Wb(),m.Wb(),m.Xb(37,"div",12),m.Xb(38,"div",13),m.Xb(39,"mat-label"),m.Tc(40,"Installment Type"),m.Wb(),m.Xb(41,"mat-form-field",14),m.Sb(42,"input",18),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(43,"div",11),m.Xb(44,"div",12),m.Xb(45,"div",13),m.Xb(46,"mat-label"),m.Tc(47,"Installment Frequency"),m.Wb(),m.Xb(48,"mat-form-field",14),m.Sb(49,"input",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(50,"div",12),m.Xb(51,"div",13),m.Xb(52,"mat-label"),m.Tc(53,"Rate Of Interest(in %)"),m.Wb(),m.Xb(54,"mat-form-field",14),m.Xb(55,"input",20),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(56,"div",11),m.Xb(57,"div",12),m.Xb(58,"div",13),m.Xb(59,"mat-label"),m.Tc(60,"Principal"),m.Wb(),m.Xb(61,"mat-form-field",14),m.Xb(62,"input",21),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(63,"div",12),m.Xb(64,"div",13),m.Xb(65,"mat-label"),m.Tc(66,"Interest "),m.Wb(),m.Xb(67,"mat-form-field",14),m.Sb(68,"input",22),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(69,"div",11),m.Xb(70,"div",12),m.Xb(71,"div",13),m.Xb(72,"mat-label"),m.Tc(73,"Installment Amount"),m.Wb(),m.Xb(74,"mat-form-field",14),m.Xb(75,"input",23),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(76,"div",12),m.Xb(77,"div",13),m.Xb(78,"mat-label"),m.Tc(79,"Charges"),m.Wb(),m.Xb(80,"mat-form-field",14),m.Sb(81,"input",24),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(82,"div",11),m.Xb(83,"div",12),m.Xb(84,"div",13),m.Xb(85,"mat-label"),m.Tc(86,"Offer Issue Date"),m.Wb(),m.Xb(87,"mat-form-field",14),m.Xb(88,"input",25),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Sb(89,"mat-datepicker-toggle",26),m.Wb(),m.Sb(90,"mat-datepicker",null,27),m.Wb(),m.Wb(),m.Xb(92,"div",12),m.Xb(93,"div",13),m.Xb(94,"mat-label"),m.Tc(95,"Generate Offer"),m.Wb(),m.Xb(96,"mat-form-field",14),m.Xb(97,"input",28),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Sb(98,"mat-datepicker-toggle",26),m.Wb(),m.Sb(99,"mat-datepicker",null,29),m.Wb(),m.Wb(),m.Wb(),m.Xb(101,"div",11),m.Xb(102,"div",12),m.Xb(103,"div",13),m.Xb(104,"mat-label"),m.Tc(105,"Customer Response"),m.Wb(),m.Xb(106,"mat-form-field",14),m.Xb(107,"mat-label"),m.Tc(108,"Customer Response"),m.Wb(),m.Xb(109,"mat-select",30),m.Rc(110,se,2,2,"mat-option",31),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(111,"div",12),m.Xb(112,"div",13),m.Xb(113,"mat-label"),m.Tc(114,"Date Of Offer Accept/Reject"),m.Wb(),m.Xb(115,"mat-form-field",14),m.Xb(116,"mat-label"),m.Tc(117,"Date Of Offer Accept/Reject"),m.Wb(),m.Sb(118,"input",32),m.Sb(119,"mat-datepicker-toggle",26),m.Wb(),m.Sb(120,"mat-datepicker",null,33),m.Wb(),m.Wb(),m.Wb(),m.Xb(122,"div",11),m.Xb(123,"div",12),m.Xb(124,"div",13),m.Xb(125,"mat-label"),m.Tc(126,"Offer Expiry Date"),m.Wb(),m.Xb(127,"mat-form-field",14),m.Xb(128,"mat-label"),m.Tc(129,"Offer Expiry Date"),m.Wb(),m.Sb(130,"input",34),m.Sb(131,"mat-datepicker-toggle",26),m.Wb(),m.Sb(132,"mat-datepicker",null,35),m.Wb(),m.Wb(),m.Wb(),m.Xb(134,"div",36),m.Xb(135,"button",37),m.fc("click",function(){return t.goBack()}),m.Tc(136,"Back"),m.Wb(),m.Xb(137,"button",38),m.fc("click",function(){return t.next()}),m.Tc(138,"Next"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(91),a=m.Dc(100),o=m.Dc(121),i=m.Dc(133);m.Eb(16),m.rc("formGroup",t.offerAcceptRejectForm),m.Eb(72),m.rc("min",t.offerAcceptRejectForm.get("offerIssueDate").value)("matDatepicker",n),m.Eb(1),m.rc("for",n),m.Eb(8),m.rc("min",t.offerAcceptRejectForm.get("generateOffer").value)("matDatepicker",a),m.Eb(1),m.rc("for",a),m.Eb(12),m.rc("ngForOf",t.customerResponse),m.Eb(8),m.rc("matDatepicker",o)("min",t.offerAcceptRejectForm.get("dateOfOfferAcceptOrReject").value),m.Eb(1),m.rc("for",o),m.Eb(11),m.rc("min",t.offerAcceptRejectForm.get("offerExpiryDate").value)("matDatepicker",i),m.Eb(1),m.rc("for",i)}},directives:[p.e,p.b,f.a,f.h,S.a,f.d,$.C,$.s,$.j,p.f,g.g,g.c,Q.b,$.c,$.m,$.r,$.i,ce.e,ce.g,g.j,ce.d,J.a,u.m,h.b,Z.n],styles:[".button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -7%!important;background-color:#a0a0a0!important;border-radius:45px!important}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px!important;color:#fff!important}.Next[_ngcontent-%COMP%]{margin:12px -11% 12px 0!important;background-color:#426af5!important;border-radius:55px!important}"]}),le),ue=r("+6Ey"),me=r("pMoy"),de=r("jMqV");function pe(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Statement Cycle is Required!"),m.Wb())}function fe(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Statement Type is Required!"),m.Wb())}function ge(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Start Date is Required!"),m.Wb())}function he(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Move Across Month is Required!"),m.Wb())}function ve(e,t){if(1&e&&(m.Xb(0,"div",14),m.Xb(1,"mat-hint"),m.Tc(2,"Move Across Month*"),m.Wb(),m.Xb(3,"mat-card",45),m.Xb(4,"mat-select",46),m.Xb(5,"mat-option",47),m.Tc(6,"Yes"),m.Wb(),m.Xb(7,"mat-option",48),m.Tc(8,"No"),m.Wb(),m.Wb(),m.Wb(),m.Rc(9,he,2,0,"mat-error",22),m.Wb()),2&e){var n=m.jc();m.Eb(9),m.rc("ngIf",!n.holidayPreferenceForm.get("moveAcrossMonth").valid&&n.holidayPreferenceForm.get("moveAcrossMonth").touched)}}function ye(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Holiday Check is Required!"),m.Wb())}function We(e,t){if(1&e&&(m.Xb(0,"div",14),m.Xb(1,"mat-hint"),m.Tc(2,"Holiday Check*"),m.Wb(),m.Xb(3,"mat-card",45),m.Xb(4,"mat-select",49),m.Xb(5,"mat-option",50),m.Tc(6,"Currency"),m.Wb(),m.Xb(7,"mat-option",51),m.Tc(8,"Local"),m.Wb(),m.Xb(9,"mat-option",52),m.Tc(10,"Clearing"),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,ye,2,0,"mat-error",22),m.Wb()),2&e){var n=m.jc();m.Eb(11),m.rc("ngIf",!n.holidayPreferenceForm.get("holidayCheck").valid&&n.holidayPreferenceForm.get("holidayCheck").touched)}}function Xe(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Move Across Month is Required!"),m.Wb())}function xe(e,t){if(1&e&&(m.Xb(0,"div",14),m.Xb(1,"mat-hint"),m.Tc(2,"Move Across Month*"),m.Wb(),m.Xb(3,"mat-card",45),m.Xb(4,"mat-select",53),m.Xb(5,"mat-option",47),m.Tc(6,"Yes"),m.Wb(),m.Xb(7,"mat-option",48),m.Tc(8,"No"),m.Wb(),m.Wb(),m.Wb(),m.Rc(9,Xe,2,0,"mat-error",22),m.Wb()),2&e){var n=m.jc();m.Eb(9),m.rc("ngIf",!n.maturityForm.get("moveAcrossMonth").valid&&n.maturityForm.get("moveAcrossMonth").touched)}}function Ce(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Holiday Check is Required!"),m.Wb())}function Ie(e,t){if(1&e&&(m.Xb(0,"div",14),m.Xb(1,"mat-hint"),m.Tc(2,"Holiday Check*"),m.Wb(),m.Xb(3,"mat-card",45),m.Xb(4,"mat-select",54),m.Xb(5,"mat-option",50),m.Tc(6,"Currency"),m.Wb(),m.Xb(7,"mat-option",51),m.Tc(8,"Local"),m.Wb(),m.Xb(9,"mat-option",52),m.Tc(10,"Clearing"),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,Ce,2,0,"mat-error",22),m.Wb()),2&e){var n=m.jc();m.Eb(11),m.rc("ngIf",!n.maturityForm.get("holidayCheck").valid&&n.maturityForm.get("holidayCheck").touched)}}function Ae(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Move Across Month is Required!"),m.Wb())}function Oe(e,t){if(1&e&&(m.Xb(0,"div",14),m.Xb(1,"mat-hint"),m.Tc(2,"Move Across Month*"),m.Wb(),m.Xb(3,"mat-card",45),m.Xb(4,"mat-select",53),m.Xb(5,"mat-option",47),m.Tc(6,"Yes"),m.Wb(),m.Xb(7,"mat-option",48),m.Tc(8,"No"),m.Wb(),m.Wb(),m.Wb(),m.Rc(9,Ae,2,0,"mat-error",22),m.Wb()),2&e){var n=m.jc();m.Eb(9),m.rc("ngIf",!n.revisionForm.get("moveAcrossMonth").valid&&n.revisionForm.get("moveAcrossMonth").touched)}}function Te(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Holiday Check is Required!"),m.Wb())}function De(e,t){if(1&e&&(m.Xb(0,"div",14),m.Xb(1,"mat-hint"),m.Tc(2,"Holiday Check*"),m.Wb(),m.Xb(3,"mat-card",45),m.Xb(4,"mat-select",54),m.Xb(5,"mat-option",50),m.Tc(6,"Currency"),m.Wb(),m.Xb(7,"mat-option",51),m.Tc(8,"Local"),m.Wb(),m.Xb(9,"mat-option",52),m.Tc(10,"Clearing"),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,Te,2,0,"mat-error",22),m.Wb()),2&e){var n=m.jc();m.Eb(11),m.rc("ngIf",!n.revisionForm.get("holidayCheck").valid&&n.revisionForm.get("holidayCheck").touched)}}var ke,Se=((ke=function(){function e(t,n,o,i,r,c,s,l){a(this,e),this.formBuilder=t,this.datepipe=n,this.api=o,this.apiService=i,this.snack=r,this.router=c,this.ls=s,this.accountService=l,this.maxDate=new Date,this.minDate=new Date,this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.flag5=!1,this.flag6=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.buildAccountForm(),this.lastUpdateByCif(),setTimeout(function(){e.api.AccountServicesFetchById(e.loanaccountID).subscribe(function(t){console.log("resp from backend ",t),e.buildStatmentPreferenceForm(t),t.serviceDetails.find(function(e){return"Maturity"===e.serviceName}),e.buildMaturityForm(t.serviceDetails.find(function(e){return"Maturity"===e.serviceName})),e.buildRevisionForm(t.serviceDetails.find(function(e){return"Revision"===e.serviceName})),e.buildHolidayForm(t.serviceDetails.find(function(e){return"Holiday Preference"===e.serviceName}))})},10)}},{key:"buildAccountForm",value:function(){this.statementPreferencesForm=this.formBuilder.group({statementCycle:["",$.A.required],statementType:["",$.A.required],statementGeneration:["",$.A.required],startDate:["",$.A.compose([$.A.required,$.A.min(this.lastData)])],accServiceId:[],loanAccountId:[this.loanaccountID]}),this.holidayPreferenceForm=this.formBuilder.group({ignoreHolidays:[!0],holidayCheck:["",$.A.required],moveAcrossMonth:["",$.A.required],cascadeSchedules:["",$.A.required],accServiceDetailsId:[""],accountServiceId:[""],serviceName:["Holiday Preference"]}),this.maturityForm=this.formBuilder.group({ignoreHolidays:[!0],holidayCheck:["",$.A.required],moveAcrossMonth:["",$.A.required],cascadeSchedules:["",$.A.required],accServiceDetailsId:[""],accountServiceId:[""],serviceName:["Maturity"]}),this.revisionForm=this.formBuilder.group({ignoreHolidays:[!0],holidayCheck:["",$.A.required],moveAcrossMonth:["",$.A.required],cascadeSchedules:["",$.A.required],accServiceDetailsId:[""],accountServiceId:[""],serviceName:["Revision"]})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/application-enrichment"])}},{key:"clickToggle1",value:function(){this.flag1=!this.flag1}},{key:"clickToggle2",value:function(){this.flag2=!this.flag2}},{key:"clickToggle3",value:function(){this.flag3=!this.flag3}},{key:"clickToggle4",value:function(){this.flag4=!this.flag4}},{key:"clickToggle5",value:function(){this.flag5=!this.flag5}},{key:"clickToggle6",value:function(){this.flag6=!this.flag6}},{key:"buildMaturityForm",value:function(e){this.maturityForm=this.formBuilder.group({ignoreHolidays:[!e||e.ignoreHolidays],holidayCheck:[e?e.holidayCheck:"",$.A.required],moveAcrossMonth:[e?e.moveAcrossMonth:"",$.A.required],cascadeSchedules:[!e||e.cascadeSchedules,$.A.required],accServiceDetailsId:[e?e.accServiceDetailsId:""],accountServiceId:[e?e.accountServiceId:""],serviceName:["Maturity"]})}},{key:"buildRevisionForm",value:function(e){this.revisionForm=this.formBuilder.group({ignoreHolidays:[!e||e.ignoreHolidays],holidayCheck:[e?e.holidayCheck:"",$.A.required],moveAcrossMonth:[e?e.moveAcrossMonth:"",$.A.required],cascadeSchedules:[!e||e.cascadeSchedules,$.A.required],accServiceDetailsId:[e?e.accServiceDetailsId:""],accountServiceId:[e?e.accountServiceId:""],serviceName:["Revision"]})}},{key:"buildHolidayForm",value:function(e){this.holidayPreferenceForm=this.formBuilder.group({ignoreHolidays:[!e||e.ignoreHolidays],holidayCheck:[e?e.holidayCheck:"",$.A.required],moveAcrossMonth:[e?e.moveAcrossMonth:"",$.A.required],cascadeSchedules:[!e||e.cascadeSchedules,$.A.required],accServiceDetailsId:[e?e.accServiceDetailsId:""],accountServiceId:[e?e.accountServiceId:""],serviceName:["Holiday Preference"]})}},{key:"buildStatmentPreferenceForm",value:function(e){var t=new Date(e.startDate).toISOString().substring(0,10);this.statementPreferencesForm=this.formBuilder.group({statementCycle:[e?e.statementCycle:"",$.A.required],statementType:[e?e.statementType:"",$.A.required],statementGeneration:[e?e.statementGeneration:"",$.A.required],startDate:[e?t:"",$.A.required],accServiceId:[e?e.accServiceId:""],loanAccountId:[this.loanaccountID]})}},{key:"submit",value:function(){var e=this,t={serviceDetails:[]},n=this.datepipe.transform(this.statementPreferencesForm.value.startDate,"yyyy-MMM-dd");t.statementCycle=this.statementPreferencesForm.value.statementCycle,t.statementType=this.statementPreferencesForm.value.statementType,t.statementGeneration=this.statementPreferencesForm.value.statementGeneration,t.startDate=n,t.accServiceId=this.statementPreferencesForm.value.accServiceId,t.loanAccountId=this.statementPreferencesForm.value.loanAccountId,t.serviceDetails[0]=this.maturityForm.value,t.serviceDetails[1]=this.revisionForm.value,t.serviceDetails[2]=this.holidayPreferenceForm.value,console.log("obj_test ",t),this.api.saveAccountService(t).subscribe(function(t){console.log("resp ",t),e.snack.open("Account Services Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next()},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"lastUpdateByCif",value:function(){var e=this;this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(t){e.lastData=e.datepipe.transform(t.applicationDate,"yyyy-MM-dd")},function(e){console.error(e)})}},{key:"next",value:function(){this.ls.setItem("LOAN_ACCOUNT_SERVICES_DONE",!0),this.ls.setItem("LOAN_ENRICHMENT_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/list/underwritingStage"])}}]),e}()).\u0275fac=function(e){return new(e||ke)(m.Rb($.f),m.Rb(u.f),m.Rb(x.b),m.Rb(x.b),m.Rb(A.a),m.Rb(d.h),m.Rb(W.a),m.Rb(ue.a))},ke.\u0275cmp=m.Lb({type:ke,selectors:[["app-account-services"]],decls:160,vars:18,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["alt","",1,"w-90",3,"src"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,"alignChange"],["visible","true"],[1,"marginTop"],["visible","true",1,"headingName"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"flex-grow-2"],["appearance","outline",1,"full-width"],["placeholder","Statement Cycle","name","statementCycle","disableOptionCentering","","formControlName","statementCycle"],["value",""],["value","Monthly"],["value","Quaterly"],["value","Half-yearly"],["value","Yearly"],[4,"ngIf"],["placeholder","Statement Type","name","opinion","formControlName","statementType","disableOptionCentering",""],["value","Detailed"],["value","Summary"],["placeholder","DD/MM/YYYY","matInput","","name","valuationDate","formControlName","startDate",1,"alignment",3,"min","matDatepicker"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"sqInput1"],["formControlName","statementGeneration","color","primary"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["fxLayout","row","fxLayoutGap","25px",1,"toggle"],["fxFlex","100",1,"pr-1"],[1,"pb-1"],["formControlName","ignoreHolidays","name","ignoreHolidays",3,"change"],["class","flex-grow-2",4,"ngIf"],["formControlName","cascadeSchedules",3,"change"],["formControlName","isSameAsHolidayDate","name","isSameAsHolidayDate","color","primary"],["formControlName","ignoreHolidays",3,"change"],["formControlName","isSameAsRevisionSchedules","color","primary"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[1,"widthCard","inputMatName"],["placeholder","Move Across Month","name","moveAcrossMonth","formControlName","moveAcrossMonth","disableOptionCentering",""],["value","Yes"],["value","No"],["placeholder","Holiday Check","name","holidayCheck","formControlName","holidayCheck","disableOptionCentering",""],["value","Currency"],["value","Local"],["value","Clearing"],["placeholder","Move Across Month","name","opinion","formControlName","moveAcrossMonth","disableOptionCentering",""],["placeholder","Holiday Check","name","opinion","formControlName","holidayCheck","disableOptionCentering",""]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Account Services"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title",7),m.Xb(11,"fieldset"),m.Xb(12,"legend",8),m.Tc(13,"Account Services"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-title",7),m.Xb(15,"fieldset",9),m.Xb(16,"legend",10),m.Tc(17,"Statement Preferences"),m.Wb(),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"form",11),m.Xb(20,"div",12),m.Xb(21,"div",13),m.Xb(22,"div",14),m.Xb(23,"mat-form-field",15),m.Xb(24,"mat-label"),m.Tc(25,"Statement Cycle*"),m.Wb(),m.Xb(26,"mat-select",16),m.Xb(27,"mat-option",17),m.Tc(28,"Select"),m.Wb(),m.Xb(29,"mat-option",18),m.Tc(30,"Monthly"),m.Wb(),m.Xb(31,"mat-option",19),m.Tc(32,"Quaterly"),m.Wb(),m.Xb(33,"mat-option",20),m.Tc(34,"Half-yearly"),m.Wb(),m.Xb(35,"mat-option",21),m.Tc(36,"Yearly"),m.Wb(),m.Wb(),m.Rc(37,pe,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Xb(38,"div",14),m.Xb(39,"mat-form-field",15),m.Xb(40,"mat-label"),m.Tc(41,"Statement Type*"),m.Wb(),m.Xb(42,"mat-select",23),m.Xb(43,"mat-option",24),m.Tc(44,"Detailed"),m.Wb(),m.Xb(45,"mat-option",25),m.Tc(46,"Summary"),m.Wb(),m.Wb(),m.Rc(47,fe,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Wb(),m.Xb(48,"div",13),m.Xb(49,"div",14),m.Xb(50,"mat-form-field",15),m.Xb(51,"mat-label"),m.Tc(52,"Start Date*"),m.Wb(),m.Sb(53,"input",26),m.Xb(54,"div",27),m.Sb(55,"mat-datepicker-toggle",28),m.Sb(56,"mat-datepicker",null,29),m.Wb(),m.Rc(58,ge,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(59,"mat-card-title"),m.Xb(60,"fieldset",7),m.Xb(61,"legend",10),m.Tc(62,"Statement Generation*"),m.Wb(),m.Wb(),m.Wb(),m.Xb(63,"div",12),m.Xb(64,"div",13),m.Xb(65,"div",14),m.Xb(66,"div",0),m.Xb(67,"div",30),m.Xb(68,"mat-checkbox",31),m.Tc(69,"\xa0Email "),m.Wb(),m.Tc(70,"\xa0 "),m.Wb(),m.Xb(71,"div",30),m.Xb(72,"mat-checkbox",31),m.Tc(73,"\xa0Mobile "),m.Wb(),m.Tc(74,"\xa0 "),m.Wb(),m.Xb(75,"div",30),m.Xb(76,"mat-checkbox",31),m.Tc(77,"\xa0Hard Copy "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(78,"mat-card-title",7),m.Xb(79,"fieldset",9),m.Xb(80,"legend",10),m.Tc(81,"Holiday Preferences"),m.Wb(),m.Wb(),m.Wb(),m.Xb(82,"mat-card-content"),m.Xb(83,"form",11),m.Xb(84,"div",12),m.Xb(85,"div",32),m.Xb(86,"div",33),m.Xb(87,"div",34),m.Xb(88,"div",35),m.Tc(89," Ignore Holidays ?? "),m.Xb(90,"mat-slide-toggle",36),m.fc("change",function(){return t.clickToggle1()}),m.Wb(),m.Wb(),m.Sb(91,"br"),m.Wb(),m.Wb(),m.Rc(92,ve,10,1,"div",37),m.Wb(),m.Xb(93,"div",13),m.Rc(94,We,12,1,"div",37),m.Xb(95,"div",33),m.Xb(96,"div",34),m.Xb(97,"div",35),m.Tc(98," Cascade Schedules ? "),m.Xb(99,"mat-slide-toggle",38),m.fc("change",function(){return t.clickToggle4()}),m.Wb(),m.Wb(),m.Sb(100,"br"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(101,"div",35),m.Xb(102,"mat-checkbox",39),m.Tc(103,"\xa0Same as Holiday Date? "),m.Wb(),m.Tc(104,"\xa0 "),m.Wb(),m.Wb(),m.Xb(105,"mat-card-title",7),m.Xb(106,"fieldset",9),m.Xb(107,"legend",10),m.Tc(108,"Maturity Date"),m.Wb(),m.Wb(),m.Wb(),m.Xb(109,"mat-card-content"),m.Xb(110,"form",11),m.Xb(111,"div",12),m.Xb(112,"div",32),m.Xb(113,"div",33),m.Xb(114,"div",34),m.Xb(115,"div",35),m.Tc(116," Ignore Holidays ?? "),m.Xb(117,"mat-slide-toggle",40),m.fc("change",function(){return t.clickToggle2()}),m.Wb(),m.Wb(),m.Sb(118,"br"),m.Wb(),m.Wb(),m.Rc(119,xe,10,1,"div",37),m.Wb(),m.Xb(120,"div",13),m.Rc(121,Ie,12,1,"div",37),m.Xb(122,"div",33),m.Xb(123,"div",34),m.Xb(124,"div",35),m.Tc(125," Cascade Schedules ? "),m.Xb(126,"mat-slide-toggle",38),m.fc("change",function(){return t.clickToggle5()}),m.Wb(),m.Wb(),m.Sb(127,"br"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(128,"div",35),m.Xb(129,"mat-checkbox",41),m.Tc(130,"\xa0Same as Revision Schedules? "),m.Wb(),m.Tc(131,"\xa0 "),m.Wb(),m.Wb(),m.Xb(132,"mat-card-title",7),m.Xb(133,"fieldset",9),m.Xb(134,"legend",10),m.Tc(135,"Revision Schedules"),m.Wb(),m.Wb(),m.Wb(),m.Xb(136,"mat-card-content"),m.Xb(137,"form",11),m.Xb(138,"div",12),m.Xb(139,"div",32),m.Xb(140,"div",33),m.Xb(141,"div",34),m.Xb(142,"div",35),m.Tc(143," Ignore Holidays ?? "),m.Xb(144,"mat-slide-toggle",40),m.fc("change",function(){return t.clickToggle3()}),m.Wb(),m.Wb(),m.Sb(145,"br"),m.Wb(),m.Wb(),m.Rc(146,Oe,10,1,"div",37),m.Wb(),m.Xb(147,"div",13),m.Rc(148,De,12,1,"div",37),m.Xb(149,"div",33),m.Xb(150,"div",34),m.Xb(151,"div",35),m.Tc(152," Cascade Schedules ? "),m.Xb(153,"mat-slide-toggle",38),m.fc("change",function(){return t.clickToggle6()}),m.Wb(),m.Wb(),m.Sb(154,"br"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(155,"div",42),m.Xb(156,"button",43),m.fc("click",function(){return t.goBack()}),m.Tc(157,"Back"),m.Wb(),m.Xb(158,"button",44),m.fc("click",function(){return t.submit()}),m.Tc(159," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(57);m.Eb(3),m.rc("src","assets/images/svg/accountService.svg",m.Jc),m.Eb(16),m.rc("formGroup",t.statementPreferencesForm),m.Eb(18),m.rc("ngIf",!t.statementPreferencesForm.get("statementCycle").valid&&t.statementPreferencesForm.get("statementCycle").touched),m.Eb(10),m.rc("ngIf",!t.statementPreferencesForm.get("statementType").valid&&t.statementPreferencesForm.get("statementType").touched),m.Eb(6),m.rc("min",t.lastData)("matDatepicker",n),m.Eb(2),m.rc("for",n),m.Eb(3),m.rc("ngIf",!t.statementPreferencesForm.get("startDate").valid&&t.statementPreferencesForm.get("startDate").touched),m.Eb(25),m.rc("formGroup",t.holidayPreferenceForm),m.Eb(9),m.rc("ngIf",t.flag1),m.Eb(2),m.rc("ngIf",t.flag1),m.Eb(16),m.rc("formGroup",t.maturityForm),m.Eb(9),m.rc("ngIf",t.flag2),m.Eb(2),m.rc("ngIf",t.flag2),m.Eb(16),m.rc("formGroup",t.revisionForm),m.Eb(9),m.rc("ngIf",t.flag3),m.Eb(2),m.rc("ngIf",t.flag3),m.Eb(10),m.rc("disabled",!t.statementPreferencesForm.valid)}},directives:[p.e,p.b,f.a,f.h,f.d,$.C,$.s,$.j,p.f,g.c,g.g,J.a,$.r,$.i,Z.n,u.n,Q.b,$.c,ce.e,ce.g,g.j,ce.d,me.a,de.a,p.d,h.b,g.b,g.f],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{width:100px}.full-width2[_ngcontent-%COMP%]{width:335px}.inputCard[_ngcontent-%COMP%]{width:100%;height:25px}.inputMatcard[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px;width:300px}.inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;margin-top:10px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:20%;margin-left:-1%}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-hint[_ngcontent-%COMP%]{font-family:Manrope}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}mat-slide-toggle[_ngcontent-%COMP%]{margin-top:5%}.spanDiv1[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1%;margin-top:2%}.span[_ngcontent-%COMP%]{font-weight:600;width:30%!important;margin-bottom:18px;margin-left:23px}.span.marginL-0[_ngcontent-%COMP%]{margin-left:0}.divider[_ngcontent-%COMP%]{position:relative!important;width:100%!important;margin-top:10px;opacity:.35}.divider.marginL-0[_ngcontent-%COMP%]{margin-left:0!important}#select[_ngcontent-%COMP%]{height:48px}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.datechange[_ngcontent-%COMP%]{height:10px;margin-right:10px}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:5%}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}.headingName[_ngcontent-%COMP%]{font-size:14px}.marginTop[_ngcontent-%COMP%]{margin-top:2%}.dataChange[_ngcontent-%COMP%]{height:48px;margin-left:0!important}.alignChange[_ngcontent-%COMP%]{margin-left:0!important;margin-top:2%}.sqInput1[_ngcontent-%COMP%]{width:32%;margin-left:.5%;height:47px}"]}),ke);function _e(e,t){if(1&e){var n=m.Yb();m.Xb(0,"tr",19),m.Vb(1,20),m.Xb(2,"td"),m.Xb(3,"mat-card",21),m.Sb(4,"input",22),m.Wb(),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",21),m.Xb(7,"span"),m.Tc(8,"\u20b9"),m.Wb(),m.Sb(9,"input",23),m.Wb(),m.Wb(),m.Xb(10,"td"),m.Xb(11,"div",24),m.Xb(12,"mat-checkbox",25),m.fc("change",function(e){return m.Hc(n),m.jc(2).checkbox(e)}),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb()}if(2&e){var a=t.$implicit;m.Eb(1),m.rc("formGroup",a)}}function Re(e,t){if(1&e&&(m.Xb(0,"form",13),m.Xb(1,"mat-card-title"),m.Xb(2,"fieldset"),m.Xb(3,"legend",14),m.Tc(4,"Charge Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(5,"table",15),m.Xb(6,"thead",16),m.Xb(7,"tr",17),m.Xb(8,"th"),m.Tc(9,"Interest Type"),m.Wb(),m.Xb(10,"th"),m.Tc(11,"Amount"),m.Wb(),m.Xb(12,"th"),m.Tc(13,"waiver"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"tbody"),m.Rc(15,_e,13,1,"tr",18),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.interestForm),m.Eb(15),m.rc("ngForOf",n.in.controls)}}var Ee,Me=((Ee=function(){function e(t,n,o,i,r,c){a(this,e),this.accountService=t,this.snack=n,this.ls=o,this.api=i,this.router=r,this.formBuilder=c,this.accountType="Home Loan"}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.accountId=this.ls.getItem("accountId"),this.interestForm=this.formBuilder.group({chargeInfo:new $.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(t){e.onChangeInterest(t.length),e.in.patchValue(t)}),setTimeout(function(){e.api.loanCahrgeFetchById(e.loanaccountID).subscribe(function(t){console.log("resp from backend ",e.resp),e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp)})},10)}},{key:"assign",value:function(e){}},{key:"onChangeInterest",value:function(e){var t=e||0;if(this.in.length<t)for(var n=this.in.length;n<t;n++)this.in.push(this.formBuilder.group({intrestType:[""],amout:["",$.A.required],waiver:[!0],loanAccountId:[this.loanaccountID],chargeDetailsId:[""]}));else for(var a=this.in.length;a>=t;a--)this.in.removeAt(a)}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.chargeInfo}},{key:"goBack",value:function(){console.log(this.accountId),this.router.navigate(["/loan/account/application-enrichment"])}},{key:"appendPercentage",value:function(e){console.log(e.target.value),e.target.value.length&&(1===e.target.value.length&&(e.target.value=e.target.value+"%"),e.target.value.length>1&&(e.target.value=e.target.value.slice(0,-1)+"%"))}},{key:"onSubmit",value:function(e){var t=this;console.log("form",e.chargeInfo),e.chargeInfo=e.chargeInfo.map(function(e){return Object.assign(Object.assign({},e),{loanAccountId:t.loanaccountID})}),this.api.loanchargeSave(e).subscribe(function(e){t.snack.open("Charge Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.next(),console.log("backend response from intrest saving",e)},function(e){t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("chargeInfo detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"checkbox",value:function(e){console.log(e.checked)}},{key:"next",value:function(){this.ls.setItem("LOAN_CHARGE_DETAILS",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/application-enrichment/account-services"])}}]),e}()).\u0275fac=function(e){return new(e||Ee)(m.Rb(ue.a),m.Rb(A.a),m.Rb(W.a),m.Rb(x.b),m.Rb(d.h),m.Rb($.f))},Ee.\u0275cmp=m.Lb({type:Ee,selectors:[["app-loan-charge-details"]],decls:17,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/chargeDetails.svg","alt","",1,"w-81"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],["visible","true"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],[1,"matCardBox"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type","readonly","",1,"input"],["type","number","matInput","","formControlName","amout","name","account_branch","placeholder","Amount",1,"input"],[1,"waiver-pos"],["formControlName","waiver","color","primary",3,"change"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h2"),m.Tc(7,"Charge Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Sb(9,"div",7),m.Rc(10,Re,16,2,"form",8),m.Wb(),m.Xb(11,"div",9),m.Xb(12,"a",10),m.fc("click",function(){return t.goBack()}),m.Tc(13,"Back"),m.Wb(),m.Sb(14,"span",11),m.Xb(15,"button",12),m.fc("click",function(){return t.onSubmit(t.interestForm.value)}),m.Tc(16,"Next"),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(10),m.rc("ngIf",t.interestForm),m.Eb(5),m.rc("disabled",t.interestForm.invalid))},directives:[p.e,p.b,u.n,h.a,h.b,$.C,$.s,$.j,f.h,u.m,f.a,Q.b,$.c,$.r,$.i,$.w,me.a],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px;opacity:1}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.matCardBox[_ngcontent-%COMP%]{width:130px;height:50px;margin-top:20px;display:flex}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.backButton[_ngcontent-%COMP%]{color:#5d5d5d;border-style:none}.backButton[_ngcontent-%COMP%], .spanDivider[_ngcontent-%COMP%]{letter-spacing:0;opacity:1}.spanDivider[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;color:#456efe}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDivider1[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1%;margin-top:2%}.tableRow[_ngcontent-%COMP%]{width:724px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.waiver-pos[_ngcontent-%COMP%]{text-align:center}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:5%}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;margin-top:1%;width:120%}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:5%}"]}),Ee),Pe=r("3sEA");function Ne(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Disbursement Mode is Required! "),m.Wb())}function we(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Number of Disbursement is Required!"),m.Wb())}function Fe(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Total Disbursement is Required!"),m.Wb())}function Le(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Loan Amount is Required!"),m.Wb())}function Ve(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," First Disbursement Date is Required!"),m.Wb())}function qe(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",13),m.Xb(4,"div",15),m.Xb(5,"div",16),m.Tc(6," Required Multiple Disbursement ?\xa0\xa0\xa0 "),m.Sb(7,"mat-slide-toggle",17),m.Wb(),m.Sb(8,"br"),m.Wb(),m.Wb(),m.Xb(9,"div",18),m.Xb(10,"mat-form-field",19),m.Xb(11,"mat-label"),m.Tc(12,"Disbursement Mode*"),m.Wb(),m.Xb(13,"mat-select",20),m.Xb(14,"mat-option",21),m.Tc(15,"Auto Disbursement"),m.Wb(),m.Xb(16,"mat-option",22),m.Tc(17,"Manual Disbursement "),m.Wb(),m.Wb(),m.Rc(18,Ne,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(19,"div",18),m.Xb(20,"mat-form-field",19),m.Xb(21,"mat-label"),m.Tc(22,"Number of Disbursement*"),m.Wb(),m.Xb(23,"input",24),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(24,we,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(25,"div",18),m.Xb(26,"mat-form-field",19),m.Xb(27,"mat-label"),m.Tc(28,"Total Disbursement*"),m.Wb(),m.Xb(29,"input",25),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(30,Fe,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(31,"div",26),m.Xb(32,"div",18),m.Xb(33,"mat-form-field",19),m.Xb(34,"mat-label"),m.Tc(35,"Loan Amount*"),m.Wb(),m.Sb(36,"input",27),m.Rc(37,Le,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(38,"div",18),m.Xb(39,"mat-form-field",19),m.Xb(40,"mat-label"),m.Tc(41,"First Disbursement Date*"),m.Wb(),m.Sb(42,"input",28),m.Xb(43,"div",29),m.Sb(44,"mat-datepicker-toggle",30),m.Sb(45,"mat-datepicker",null,31),m.Wb(),m.Rc(47,Ve,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(46),o=m.jc();m.rc("formGroup",o.loanDisbursementForm),m.Eb(18),m.rc("ngIf",!o.loanDisbursementForm.get("disbursementMode").valid&&o.loanDisbursementForm.get("disbursementMode").touched),m.Eb(6),m.rc("ngIf",!o.loanDisbursementForm.get("numberOfDisbursement").valid&&o.loanDisbursementForm.get("numberOfDisbursement").touched),m.Eb(6),m.rc("ngIf",!o.loanDisbursementForm.get("totalDisbursement").valid&&o.loanDisbursementForm.get("totalDisbursement").touched),m.Eb(7),m.rc("ngIf",!o.loanDisbursementForm.get("loanAmount").valid&&o.loanDisbursementForm.get("loanAmount").touched),m.Eb(5),m.rc("min",o.minDate)("matDatepicker",a),m.Eb(2),m.rc("for",a),m.Eb(3),m.rc("ngIf",!o.loanDisbursementForm.get("firstDisbursementDate").valid&&o.loanDisbursementForm.get("firstDisbursementDate").touched)}}function je(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Be(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Customer Account is Required! "),m.Wb())}function ze(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Branch Code is Required! "),m.Wb())}function Ue(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",32),m.Xb(3,"div",33),m.Xb(4,"mat-form-field",19),m.Xb(5,"mat-label"),m.Tc(6," Customer Account*"),m.Wb(),m.Xb(7,"mat-select",34),m.Rc(8,je,2,2,"mat-option",35),m.Wb(),m.Rc(9,Be,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"div",36),m.Xb(11,"div",33),m.Xb(12,"mat-form-field",19),m.Xb(13,"input",37),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(14,ze,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.jc();m.rc("formGroup",a.internalAccount),m.Eb(8),m.rc("ngForOf",a.accountNoArr),m.Eb(1),m.rc("ngIf",!a.internalAccount.get("customerAccount").valid&&a.internalAccount.get("customerAccount").touched),m.Eb(5),m.rc("ngIf",!a.internalAccount.get("branchCode").valid&&a.internalAccount.get("branchCode").touched)}}var He,Ge=((He=function(){function e(t,n,o,i,r,c,s,l){a(this,e),this.loader=t,this.ls=n,this.datepipe=o,this.router=i,this.formBuilder=r,this.api=c,this.snack=s,this.accountService=l,this.maxDate=new Date,this.minDate=new Date,this.accountNoArr=[],this.showEditOption=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanaccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountId=this.loanInfo.loanAccountId);var t=this.ls.getItem("LOAN_DISBURSEMENT_DETAIL_DONE");setTimeout(function(){null!=e.loanaccountId&&t?(e.showEditOption=!0,e.getDisbursementDetails()):(e.showEditOption=!1,e.buildformGroup())},10),this.fetchByCif()}},{key:"getDisbursementDetails",value:function(){var e=this;this.loader.open(),this.api.loanDisbursementFetchById(this.loanaccountId).subscribe(function(t){e.loader.close(),e.disbursementDetails=t,e.buildformGroup(e.disbursementDetails)},function(t){e.loader.close()})}},{key:"buildformGroup",value:function(e){var t=this.ls.getItem("loanAmount")||"";this.loanDisbursementForm=this.formBuilder.group({mutipleDisbursementRequired:[!e||e.mutipleDisbursementRequired],loanAccountId:this.loanaccountId,loanDisbursementId:[e?e.loanDisbursementId:""],numberOfDisbursement:[e?e.numberOfDisbursement:"",$.A.required],totalDisbursement:[e?e.totalDisbursement:"",$.A.required],loanAmount:[e?e.loanAmount:t,$.A.required],firstDisbursementDate:[e?new Date(e.firstDisbursementDate).toISOString().substring(0,10):"",$.A.required],disbursementMode:[e?e.disbursementMode:"",$.A.required]}),this.internalAccount=this.formBuilder.group({customerAccount:[e?e.customerAccount:"",$.A.required],branchCode:[e?e.branchCode:"",$.A.required]})}},{key:"submit",value:function(){var e=this,t=this.datepipe.transform(this.loanDisbursementForm.value.firstDisbursementDate,"yyyy-MMM-dd");this.loanDisbursementForm.value.branchCode=this.internalAccount.value.branchCode,this.loanDisbursementForm.value.customerAccount=this.internalAccount.value.customerAccount,this.loanDisbursementForm.value.firstDisbursementDate=t,this.api.loanDisbursementSave(this.loanDisbursementForm.value).subscribe(function(t){e.snack.open("Loan Disbursement Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next()},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"next",value:function(){this.ls.setItem("LOAN_DISBURSEMENT_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/application-enrichment/loan-repayment"])}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/application-enrichment/intrest-details"])}},{key:"fetchByCif",value:function(){var e=this;this.cifNumber=this.ls.getItem("cId"),this.api.fetchAccountIdByCustId(this.cifNumber).subscribe(function(t){var n;e.accountNoArr=t,e.internalAccount.get("customerAccount").setValue(null===(n=e.accountNoArr)||void 0===n?void 0:n[0])})}}]),e}()).\u0275fac=function(e){return new(e||He)(m.Rb(Pe.a),m.Rb(W.a),m.Rb(u.f),m.Rb(d.h),m.Rb($.f),m.Rb(x.b),m.Rb(A.a),m.Rb(ue.a))},He.\u0275cmp=m.Lb({type:He,selectors:[["app-loan-disbursement-details"]],decls:27,vars:3,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/loanDisbursement.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["fxFlex","100",1,"pr-1"],[1,"pb-1"],["formControlName","mutipleDisbursementRequired"],[1,"flex-grow-2"],["appearance","outline",1,"full-width"],["placeholder","Disbursement Mode","formControlName","disbursementMode","disableOptionCentering",""],["value","Auto Disbursement"],["value","Manual Disbursement"],[4,"ngIf"],["matInput","","placeholder","Number of Disbursement","formControlName","numberOfDisbursement","name","MarketValueofAsset","autocomplete","off",1,"alignment",3,"keypress"],["matInput","","placeholder","Total Disbursement","formControlName","totalDisbursement","name","MarketValueofAsset","autocomplete","off",1,"alignment",3,"keypress"],["fxFlex","100","fxFlex.gt-xs","50",1,"padding"],["placeholder","Loan Amount","matInput","","formControlName","loanAmount","readonly","","name","MarketValueofAsset",1,"alignment"],["placeholder","DD/MM/YYYY","matInput","","name","valuationDate","formControlName","firstDisbursementDate","readonly","",1,"alignment",3,"min","matDatepicker"],["fxFlex","8%","id","toggle"],["matSuffix","",1,"date_picker",3,"for"],["appDatepicker",""],["fxFlex","100","fxFlex.gt-xs","50",2,"padding-right","5px"],[1,"flex-grow-1"],["formControlName","customerAccount","disableOptionCentering","","placeholder","Customer Account"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-xs","50"],["matInput","","placeholder","Branch Code","formControlName","branchCode","name","MarketValueofAsset",1,"alignment",3,"keypress"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h2"),m.Tc(7,"Loan Disbursement Details "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title"),m.Xb(11,"fieldset"),m.Xb(12,"legend",7),m.Tc(13,"Loan Disbursement Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,qe,48,9,"form",8),m.Wb(),m.Xb(16,"mat-card-title"),m.Xb(17,"fieldset"),m.Xb(18,"legend",7),m.Tc(19,"Internal Account"),m.Wb(),m.Wb(),m.Wb(),m.Xb(20,"mat-card-content"),m.Rc(21,Ue,15,4,"form",8),m.Wb(),m.Wb(),m.Xb(22,"div",9),m.Xb(23,"button",10),m.fc("click",function(){return t.goBack()}),m.Tc(24," Back "),m.Wb(),m.Xb(25,"button",11),m.fc("click",function(){return t.submit()}),m.Tc(26," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.loanDisbursementForm),m.Eb(6),m.rc("ngIf",t.internalAccount),m.Eb(4),m.rc("disabled",!t.loanDisbursementForm.valid||!t.internalAccount.valid))},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,de.a,$.r,$.i,g.c,g.g,J.a,Z.n,Q.b,$.c,ce.e,ce.g,g.j,ce.d,g.b,u.m],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.padding[_ngcontent-%COMP%]{padding-top:8%}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{width:100px}.full-width2[_ngcontent-%COMP%]{width:335px}.inputCard[_ngcontent-%COMP%]{width:100%;height:25px}.inputMatcard[_ngcontent-%COMP%]{margin-top:5px;width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName[_ngcontent-%COMP%]{margin-top:15px}.inputMatName1[_ngcontent-%COMP%]{flex-grow:1;margin-top:10px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:20%;margin-left:-1%}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-hint[_ngcontent-%COMP%]{font-family:Manrope}mat-slide-toggle[_ngcontent-%COMP%]{margin-top:5%}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}#heightDate[_ngcontent-%COMP%]{height:48px!important}.select[_ngcontent-%COMP%]{height:48px}.marginTop[_ngcontent-%COMP%]{margin-top:20px}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:0}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}mat-divider.divider.mat-divider-horizontal[_ngcontent-%COMP%]{margin-top:-2%}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}.dataChange[_ngcontent-%COMP%]{height:55px!important}  .date_picker button{height:25px}"]}),He);function Ye(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",8),m.Xb(1,"h7",9),m.Tc(2,"Statement Preferences"),m.Wb(),m.Xb(3,"mat-card",10),m.Xb(4,"mat-card-content"),m.Xb(5,"div",11),m.Xb(6,"div",12),m.Xb(7,"div",13),m.Vb(8),m.Xb(9,"div",14),m.Xb(10,"mat-hint",15),m.Tc(11,"Statement Cycle"),m.Wb(),m.Sb(12,"br"),m.Xb(13,"mat-hint",16),m.Tc(14),m.Wb(),m.Wb(),m.Xb(15,"div",14),m.Xb(16,"mat-hint",15),m.Tc(17,"Statement Type"),m.Wb(),m.Sb(18,"br"),m.Xb(19,"mat-hint",16),m.Tc(20),m.Wb(),m.Wb(),m.Xb(21,"div",14),m.Xb(22,"mat-hint",15),m.Tc(23,"Start Date"),m.Wb(),m.Sb(24,"br"),m.Xb(25,"mat-hint",16),m.Tc(26),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(27,"div"),m.Xb(28,"span",17),m.Sb(29,"hr",18),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"h7",9),m.Tc(31,"Holiday Preferences"),m.Wb(),m.Xb(32,"mat-card",10),m.Xb(33,"mat-card-content"),m.Xb(34,"div",11),m.Xb(35,"div",12),m.Xb(36,"div",13),m.Vb(37),m.Xb(38,"div",14),m.Xb(39,"mat-hint",15),m.Tc(40,"Ignore Holidays ?"),m.Wb(),m.Sb(41,"br"),m.Xb(42,"div",19),m.Sb(43,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Xb(44,"div",14),m.Xb(45,"mat-hint",15),m.Tc(46,"Holiday Check"),m.Wb(),m.Sb(47,"br"),m.Xb(48,"mat-hint",16),m.Tc(49),m.Wb(),m.Wb(),m.Xb(50,"div",14),m.Xb(51,"mat-hint",15),m.Tc(52,"Move Across Month"),m.Wb(),m.Sb(53,"br"),m.Xb(54,"mat-hint",16),m.Tc(55),m.Wb(),m.Wb(),m.Xb(56,"div",14),m.Xb(57,"mat-hint",15),m.Tc(58,"Cascade Schedules ?"),m.Wb(),m.Sb(59,"br"),m.Xb(60,"div",19),m.Sb(61,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(62,"h7",9),m.Tc(63,"Maturity Date"),m.Wb(),m.Xb(64,"mat-card",10),m.Xb(65,"mat-card-content"),m.Xb(66,"div",11),m.Xb(67,"div",12),m.Xb(68,"div",13),m.Vb(69),m.Xb(70,"div",14),m.Xb(71,"mat-hint",15),m.Tc(72,"Ignore Holidays ?"),m.Wb(),m.Sb(73,"br"),m.Xb(74,"div",19),m.Sb(75,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Xb(76,"div",14),m.Xb(77,"mat-hint",15),m.Tc(78,"Holiday Check"),m.Wb(),m.Sb(79,"br"),m.Xb(80,"mat-hint",16),m.Tc(81),m.Wb(),m.Wb(),m.Xb(82,"div",14),m.Xb(83,"mat-hint",15),m.Tc(84,"Move Across Month"),m.Wb(),m.Sb(85,"br"),m.Xb(86,"mat-hint",16),m.Tc(87),m.Wb(),m.Wb(),m.Xb(88,"div",14),m.Xb(89,"mat-hint",15),m.Tc(90,"Cascade Schedules ?"),m.Wb(),m.Sb(91,"br"),m.Xb(92,"div",19),m.Sb(93,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(94,"h7",9),m.Tc(95,"Revision Schedules"),m.Wb(),m.Xb(96,"mat-card",10),m.Xb(97,"mat-card-content"),m.Xb(98,"div",11),m.Xb(99,"div",12),m.Xb(100,"div",13),m.Vb(101),m.Xb(102,"div",14),m.Xb(103,"mat-hint",15),m.Tc(104,"Ignore Holidays ?"),m.Wb(),m.Sb(105,"br"),m.Xb(106,"div",19),m.Sb(107,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Xb(108,"div",14),m.Xb(109,"mat-hint",15),m.Tc(110,"Holiday Check"),m.Wb(),m.Sb(111,"br"),m.Xb(112,"mat-hint",16),m.Tc(113),m.Wb(),m.Wb(),m.Xb(114,"div",14),m.Xb(115,"mat-hint",15),m.Tc(116,"Move Across Month"),m.Wb(),m.Sb(117,"br"),m.Xb(118,"mat-hint",16),m.Tc(119),m.Wb(),m.Wb(),m.Xb(120,"div",14),m.Xb(121,"mat-hint",15),m.Tc(122,"Cascade Schedules ?"),m.Wb(),m.Sb(123,"br"),m.Xb(124,"div",19),m.Sb(125,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(126,"p",21),m.fc("click",function(){return m.Hc(n),m.jc().goToEdit()}),m.Tc(127,"Edit"),m.Wb(),m.Wb()}if(2&e){var a=m.jc();m.Eb(14),m.Uc(a.resp.statementCycle),m.Eb(6),m.Vc("",a.resp.statementType," "),m.Eb(6),m.Vc("",a.resp.startDate," "),m.Eb(17),m.rc("checked",a.ignoreHolidayVarHoliday),m.Eb(6),m.Uc(a.holiday.holidayCheck),m.Eb(6),m.Uc(a.holiday.moveAcrossMonth),m.Eb(6),m.rc("checked",a.cascadeVarHoliday),m.Eb(14),m.rc("checked",a.ignoreHolidayVarMaturity),m.Eb(6),m.Uc(a.maturity.holidayCheck),m.Eb(6),m.Uc(a.maturity.moveAcrossMonth),m.Eb(6),m.rc("checked",a.cascadeVarMaturity),m.Eb(14),m.rc("checked",a.ignoreHolidayVarRevison),m.Eb(6),m.Uc(a.revision.holidayCheck),m.Eb(6),m.Uc(a.revision.moveAcrossMonth),m.Eb(6),m.rc("checked",a.cascadeVarRevison)}}var $e,Qe=(($e=function(){function e(t,n,o,i){a(this,e),this.dialogRef=t,this.router=n,this.api=o,this.ls=i}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(function(){e.api.AccountServicesFetchById(e.loanAccountId).subscribe(function(t){console.log("resp from backend ",t),t&&(e.resp=t,e.maturity=t.serviceDetails.find(function(e){return"Maturity"===e.serviceName}),e.revision=t.serviceDetails.find(function(e){return"Revision"===e.serviceName}),e.holiday=t.serviceDetails.find(function(e){return"Holiday Preference"===e.serviceName}),e.cascadeVarMaturity=e.maturity.cascadeSchedules,e.cascadeVarRevison=e.revision.cascadeSchedules,e.cascadeVarHoliday=e.holiday.cascadeSchedules,e.ignoreHolidayVarMaturity=e.maturity.cascadeSchedules,e.ignoreHolidayVarRevison=e.revision.cascadeSchedules,e.ignoreHolidayVarHoliday=e.holiday.cascadeSchedules)})},10)}},{key:"goToClose",value:function(){this.dialogRef.close()}},{key:"goToEdit",value:function(){this.dialogRef.close(),this.router.navigate(["/loan/account/application-enrichment/account-services"])}}]),e}()).\u0275fac=function(e){return new(e||$e)(m.Rb(I.g),m.Rb(d.h),m.Rb(x.b),m.Rb(W.a))},$e.\u0275cmp=m.Lb({type:$e,selectors:[["app-account-service-summary"]],decls:10,vars:1,consts:[[1,"full-width",2,"height","auto"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],[1,"spanDiv1"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%",4,"ngIf"],["fxFlex","100%"],["fxLayout","row"],[1,"chequecard"],[1,"full-width"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","25%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["layout","row"],["flex","",1,"line"],[1,"toggle"],[3,"checked"],[1,"editButton",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"mat-icon",2),m.fc("click",function(){return t.goToClose()}),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"span",4),m.Tc(6,"Account Services Summary "),m.Wb(),m.Wb(),m.Xb(7,"div",5),m.Xb(8,"div",6),m.Rc(9,Ye,128,15,"div",7),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(9),m.rc("ngIf",t.resp))},directives:[p.e,O.a,p.d,u.n,p.b,f.a,f.d,p.f,g.f,de.a],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:2%;margin-top:.3%;margin-left:15px}h7[_ngcontent-%COMP%]{margin-left:20px}.para[_ngcontent-%COMP%], h7[_ngcontent-%COMP%]{font-family:Montserrat}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:1000px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:auto;margin:auto}.chequecard[_ngcontent-%COMP%]{width:700px;height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),$e);function Je(e,t){if(1&e&&(m.Xb(0,"tr",14),m.Xb(1,"div",15),m.Vb(2,11),m.Xb(3,"div",16),m.Sb(4,"input",17),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",18),m.Xb(7,"mat-label",19),m.Tc(8,"Amount"),m.Wb(),m.Sb(9,"input",20),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb()),2&e){var n=t.$implicit;m.Eb(2),m.rc("formGroup",n)}}function Ze(e,t){if(1&e&&(m.Xb(0,"form",11),m.Xb(1,"table",12),m.Xb(2,"tbody"),m.Rc(3,Je,10,1,"tr",13),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.chargeFormIT),m.Eb(3),m.rc("ngForOf",n.in.controls)}}var Ke,et,tt=((et=function(){function e(t,n,o,i,r,c){a(this,e),this.snack=t,this.dialogRef=n,this.ls=o,this.api=i,this.router=r,this.formBuilder=c,this.accountType="Home Loan"}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),this.chargeFormIT=this.formBuilder.group({chargeIT:new $.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(t){e.onChangeInterest(t.length),e.in.patchValue(t)}),setTimeout(function(){e.api.loanCahrgeFetchById(e.loanAccountId).subscribe(function(t){console.log("resp from backend ",e.resp),e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp)})},10)}},{key:"onChangeInterest",value:function(e){var t=e||0;if(this.in.length<t)for(var n=this.in.length;n<t;n++)this.in.push(this.formBuilder.group({intrestType:[""],amout:[""],waiver:[!1],accountId:[""],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var a=this.in.length;a>=t;a--)this.in.removeAt(a)}},{key:"f",get:function(){return this.chargeFormIT.controls}},{key:"in",get:function(){return this.f.chargeIT}},{key:"goBack",value:function(){this.router.navigate(["/home/application/enrichment/list"])}},{key:"onSubmit",value:function(e){}},{key:"edit",value:function(){this.dialogRef.close(),this.router.navigate(["/loan/account/application-enrichment/charge-details"])}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("charge detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[a-zA-Z]/.test(t)||e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||et)(m.Rb(A.a),m.Rb(I.g),m.Rb(W.a),m.Rb(x.b),m.Rb(d.h),m.Rb($.f))},et.\u0275cmp=m.Lb({type:et,selectors:[["app-loan-charge-details-summary"]],decls:14,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","chargeTable",4,"ngFor","ngForOf"],[1,"chargeTable"],[1,"chargeLeft"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","amout","name","account_branch","readonly","",1,"input"]],template:function(e,t){1&e&&(m.Xb(0,"mat-card",0),m.Xb(1,"button",1),m.Xb(2,"mat-icon",2),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"span",4),m.Tc(6,"Charge Details Summary "),m.Wb(),m.Wb(),m.Xb(7,"div",5),m.Sb(8,"div",6),m.Xb(9,"div",7),m.Sb(10,"div",8),m.Rc(11,Ze,4,2,"form",9),m.Wb(),m.Wb(),m.Xb(12,"span",10),m.fc("click",function(){return t.edit()}),m.Tc(13,"Edit"),m.Wb(),m.Wb()),2&e&&(m.Eb(11),m.rc("ngIf",t.chargeFormIT))},directives:[f.a,h.b,I.d,O.a,p.e,p.b,u.n,$.C,$.s,$.j,u.m,Q.b,$.c,$.r,$.i,g.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px;width:400px}.mainDiv[_ngcontent-%COMP%]{padding:5px}.paraFont[_ngcontent-%COMP%]{font-family:Montserrat;font-size:20px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1;width:400px}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:15px;font-weight:600;width:70%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}"]}),et),nt=((Ke=function(){function e(t,n,o,i){a(this,e),this.ls=t,this.api=n,this.dialogRef=o,this.router=i}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanaccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountId=this.loanInfo.loanAccountId),setTimeout(function(){e.api.loanDisbursementFetchById(e.loanaccountId).subscribe(function(t){e.resp=t,e.CheckboxVar=t.mutipleDisbursementRequired})},10)}},{key:"goToClose",value:function(){this.dialogRef.close()}},{key:"goToEdit",value:function(){this.dialogRef.close(),this.router.navigate(["/loan/account/application-enrichment/loan-disbursement"])}}]),e}()).\u0275fac=function(e){return new(e||Ke)(m.Rb(W.a),m.Rb(x.b),m.Rb(I.g),m.Rb(d.h))},Ke.\u0275cmp=m.Lb({type:Ke,selectors:[["app-loan-disbursement-summary"]],decls:87,vars:8,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"toggle"],[3,"checked"],[1,"valueText"],["layout","row"],["flex","",1,"line"],[1,"editButton",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"mat-icon",2),m.fc("click",function(){return t.goToClose()}),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"div",4),m.Xb(6,"h4",5),m.Tc(7,"Loan Disbursement Details Summary "),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"div",7),m.Xb(10,"h7",4),m.Tc(11,"Loan Disbursement Details"),m.Wb(),m.Xb(12,"mat-card",8),m.Xb(13,"mat-card-content"),m.Xb(14,"div",0),m.Xb(15,"div",9),m.Xb(16,"div",10),m.Vb(17),m.Xb(18,"div",11),m.Xb(19,"mat-hint",12),m.Tc(20,"Required Multiple Disbursement ?"),m.Wb(),m.Sb(21,"br"),m.Xb(22,"div",13),m.Sb(23,"mat-slide-toggle",14),m.Wb(),m.Wb(),m.Xb(24,"div",11),m.Xb(25,"mat-hint",12),m.Tc(26,"Loan Amount"),m.Wb(),m.Sb(27,"br"),m.Xb(28,"mat-hint",15),m.Tc(29),m.Wb(),m.Wb(),m.Xb(30,"div",11),m.Xb(31,"mat-hint",12),m.Tc(32,"Number of Disbursement "),m.Wb(),m.Sb(33,"br"),m.Xb(34,"mat-hint",15),m.Tc(35),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(36,"div"),m.Xb(37,"span",16),m.Sb(38,"hr",17),m.Wb(),m.Wb(),m.Xb(39,"div",10),m.Vb(40),m.Xb(41,"div",11),m.Xb(42,"mat-hint",12),m.Tc(43,"First Disbursement Date"),m.Wb(),m.Sb(44,"br"),m.Xb(45,"mat-hint",15),m.Tc(46),m.Wb(),m.Wb(),m.Xb(47,"div",11),m.Xb(48,"mat-hint",12),m.Tc(49,"Total Disbursement"),m.Wb(),m.Sb(50,"br"),m.Xb(51,"mat-hint",15),m.Tc(52),m.Wb(),m.Wb(),m.Xb(53,"div",11),m.Xb(54,"mat-hint",12),m.Tc(55,"Disbursement Mode"),m.Wb(),m.Sb(56,"br"),m.Xb(57,"mat-hint",15),m.Tc(58),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(59,"div"),m.Xb(60,"span",16),m.Sb(61,"hr",17),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(62,"h7",4),m.Tc(63,"Internal Account"),m.Wb(),m.Xb(64,"mat-card",8),m.Xb(65,"mat-card-content"),m.Xb(66,"div",0),m.Xb(67,"div",9),m.Xb(68,"div",10),m.Vb(69),m.Xb(70,"div",11),m.Xb(71,"mat-hint",12),m.Tc(72,"Customer Account"),m.Wb(),m.Sb(73,"br"),m.Xb(74,"mat-hint",15),m.Tc(75),m.Wb(),m.Wb(),m.Xb(76,"div",11),m.Xb(77,"mat-hint",12),m.Tc(78,"Branch Code"),m.Wb(),m.Sb(79,"br"),m.Xb(80,"mat-hint",15),m.Tc(81),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(82,"div"),m.Xb(83,"span",16),m.Sb(84,"hr",17),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(85,"p",18),m.fc("click",function(){return t.goToEdit()}),m.Tc(86,"Edit"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(23),m.rc("checked",t.CheckboxVar),m.Eb(6),m.Uc(t.resp.loanAmount),m.Eb(6),m.Vc("",t.resp.numberOfDisbursement," "),m.Eb(11),m.Vc("",t.resp.firstDisbursementDate," "),m.Eb(6),m.Uc(t.resp.totalDisbursement),m.Eb(6),m.Vc("",t.resp.disbursementMode," "),m.Eb(17),m.Uc(t.resp.customerAccount),m.Eb(6),m.Uc(t.resp.branchCode))},directives:[p.e,O.a,p.d,p.b,f.a,f.d,p.f,g.f,de.a],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:1000px;height:250px;border:1px solid #e4e4e4;padding:10px}h7[_ngcontent-%COMP%]{margin-left:20px}.paraFont[_ngcontent-%COMP%], h7[_ngcontent-%COMP%]{font-family:Montserrat}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-size:16px;margin-bottom:2%}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{width:700px;height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),Ke);function at(e,t){1&e&&(m.Xb(0,"tr",15),m.Xb(1,"div",16),m.Vb(2),m.Xb(3,"div",17),m.Sb(4,"input",18),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",19),m.Xb(7,"mat-label",20),m.Tc(8,"Interest Rate Applicable"),m.Wb(),m.Sb(9,"input",21),m.Wb(),m.Wb(),m.Xb(10,"td"),m.Xb(11,"mat-card",19),m.Xb(12,"mat-label",20),m.Tc(13,"Margin in %"),m.Wb(),m.Sb(14,"input",22),m.Wb(),m.Wb(),m.Xb(15,"td"),m.Xb(16,"mat-card",19),m.Xb(17,"mat-label",20),m.Tc(18,"Effective Rate %"),m.Wb(),m.Sb(19,"input",23),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb()),2&e&&m.rc("formGroup",t.$implicit)}function ot(e,t){if(1&e&&(m.Xb(0,"form",12),m.Xb(1,"table",13),m.Xb(2,"tbody"),m.Rc(3,at,20,1,"tr",14),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.interestForm),m.Eb(3),m.rc("ngForOf",n.in.controls)}}var it,rt=((it=function(){function e(t,n,o,i,r,c){a(this,e),this.ls=t,this.snack=n,this.dialogRef=o,this.api=i,this.router=r,this.formBuilder=c}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),this.interestForm=this.formBuilder.group({interest:new $.d([])}),this.savingForm=this.formBuilder.group({saving:new $.d([])}),this.loanForm=this.formBuilder.group({loan:new $.d([])}),setTimeout(function(){e.api.loanInterestFetchById(e.loanAccountId).subscribe(function(t){console.log("resp from backend ",e.resp),e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp)})},10)}},{key:"assignAccountType",value:function(e){this.accountType=e}},{key:"onChangeInterest",value:function(e){var t=e||0;if(this.in.length<t)for(var n=this.in.length;n<t;n++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],accountId:[this.accountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var a=this.in.length;a>=t;a--)this.in.removeAt(a)}},{key:"onChangeSaving",value:function(e){var t=e||0;if(this.is.length<t)for(var n=this.is.length;n<t;n++)this.is.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],accountId:[this.accountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var a=this.is.length;a>=t;a--)this.is.removeAt(a)}},{key:"onChangeLoan",value:function(e){var t=e||0;if(this.iloan.length<t)for(var n=this.iloan.length;n<t;n++)this.iloan.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],accountId:[this.accountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var a=this.iloan.length;a>=t;a--)this.iloan.removeAt(a)}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.interest}},{key:"fs",get:function(){return this.savingForm.controls}},{key:"is",get:function(){return this.fs.saving}},{key:"floan",get:function(){return this.loanForm.controls}},{key:"iloan",get:function(){return this.floan.loan}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/application-enrichment"])}},{key:"onSubmit",value:function(e){}},{key:"edit",value:function(){this.dialogRef.close(),this.api.setFlag({flag:!0}),this.router.navigate(["/loan/account/application-enrichment/intrest-details"])}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("Intrest detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}}]),e}()).\u0275fac=function(e){return new(e||it)(m.Rb(W.a),m.Rb(A.a),m.Rb(I.g),m.Rb(x.b),m.Rb(d.h),m.Rb($.f))},it.\u0275cmp=m.Lb({type:it,selectors:[["app-loan-interest-summary"]],decls:15,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"span"],[1,"divider"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","form",3,"formGroup",4,"ngFor","ngForOf"],[1,"form",3,"formGroup"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","marginIn","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"]],template:function(e,t){1&e&&(m.Xb(0,"mat-card",0),m.Xb(1,"button",1),m.Xb(2,"mat-icon",2),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"span",4),m.Tc(6,"Interest Details "),m.Wb(),m.Sb(7,"mat-divider",5),m.Wb(),m.Xb(8,"div",6),m.Sb(9,"div",7),m.Xb(10,"div",8),m.Sb(11,"div",9),m.Rc(12,ot,4,2,"form",10),m.Wb(),m.Wb(),m.Xb(13,"span",11),m.fc("click",function(){return t.edit()}),m.Tc(14,"Edit"),m.Wb(),m.Wb()),2&e&&(m.Eb(12),m.rc("ngIf",t.interestForm))},directives:[f.a,h.b,I.d,O.a,S.a,p.e,p.b,u.n,$.C,$.s,$.j,u.m,Q.b,$.c,$.r,$.i,g.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.tableRow[_ngcontent-%COMP%]{width:724px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.mainDiv[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:25%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}"]}),it);function ct(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",8),m.Xb(1,"h7",4),m.Tc(2,"Loan Repayment Details"),m.Wb(),m.Xb(3,"mat-card",9),m.Xb(4,"mat-card-content"),m.Xb(5,"div",0),m.Xb(6,"div",10),m.Xb(7,"div",11),m.Vb(8),m.Xb(9,"div",12),m.Xb(10,"mat-hint",13),m.Tc(11,"Type of Repayment"),m.Wb(),m.Sb(12,"br"),m.Xb(13,"mat-hint",14),m.Tc(14),m.Wb(),m.Wb(),m.Xb(15,"div",12),m.Xb(16,"mat-hint",13),m.Tc(17,"Repayment Frequency"),m.Wb(),m.Sb(18,"br"),m.Xb(19,"mat-hint",14),m.Tc(20),m.Wb(),m.Wb(),m.Xb(21,"div",12),m.Xb(22,"mat-hint",13),m.Tc(23,"First Repayment Date"),m.Wb(),m.Sb(24,"br"),m.Xb(25,"mat-hint",14),m.Tc(26),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(27,"div"),m.Xb(28,"span",15),m.Sb(29,"hr",16),m.Wb(),m.Wb(),m.Xb(30,"div",11),m.Vb(31),m.Xb(32,"div",12),m.Xb(33,"mat-hint",13),m.Tc(34,"Loan Tenure"),m.Wb(),m.Sb(35,"br"),m.Xb(36,"mat-hint",14),m.Tc(37),m.Wb(),m.Wb(),m.Xb(38,"div",12),m.Xb(39,"mat-hint",13),m.Tc(40,"Maturity Date"),m.Wb(),m.Sb(41,"br"),m.Xb(42,"mat-hint",14),m.Tc(43),m.Wb(),m.Wb(),m.Xb(44,"div",12),m.Xb(45,"mat-hint",13),m.Tc(46,"Repayment Mode"),m.Wb(),m.Sb(47,"br"),m.Xb(48,"mat-hint",14),m.Tc(49),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(50,"div"),m.Xb(51,"span",15),m.Sb(52,"hr",16),m.Wb(),m.Wb(),m.Xb(53,"div",11),m.Vb(54),m.Xb(55,"div",12),m.Xb(56,"mat-hint",13),m.Tc(57,"Moratorium Period ( in months)"),m.Wb(),m.Sb(58,"br"),m.Xb(59,"mat-hint",14),m.Tc(60),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(61,"h7",4),m.Tc(62,"Internal Account"),m.Wb(),m.Xb(63,"mat-card",9),m.Xb(64,"mat-card-content"),m.Xb(65,"div",0),m.Xb(66,"div",10),m.Xb(67,"div",11),m.Vb(68),m.Xb(69,"div",12),m.Xb(70,"mat-hint",13),m.Tc(71,"Customer Account"),m.Wb(),m.Sb(72,"br"),m.Xb(73,"mat-hint",14),m.Tc(74),m.Wb(),m.Wb(),m.Xb(75,"div",12),m.Xb(76,"mat-hint",13),m.Tc(77,"Branch Code"),m.Wb(),m.Sb(78,"br"),m.Xb(79,"mat-hint",14),m.Tc(80),m.Wb(),m.Wb(),m.Xb(81,"div",12),m.Xb(82,"mat-hint",13),m.Tc(83,"Bank Name"),m.Wb(),m.Sb(84,"br"),m.Xb(85,"mat-hint",14),m.Tc(86),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(87,"div"),m.Xb(88,"span",15),m.Sb(89,"hr",16),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(90,"p",17),m.fc("click",function(){return m.Hc(n),m.jc().goToEdit()}),m.Tc(91,"Edit"),m.Wb(),m.Wb()}if(2&e){var a=m.jc();m.Eb(14),m.Uc(a.resp.typeOfRepayment),m.Eb(6),m.Vc("",a.resp.repaymentFrequency," "),m.Eb(6),m.Vc("",a.resp.firstRepaymentDate," "),m.Eb(11),m.Vc("",a.resp.loanTenure," "),m.Eb(6),m.Uc(a.resp.maturityDate),m.Eb(6),m.Vc("",a.resp.repaymentMode," "),m.Eb(11),m.Vc("",a.resp.moraturioumPeriod," "),m.Eb(14),m.Uc(a.resp.customerAccount),m.Eb(6),m.Uc(a.resp.branchCode),m.Eb(6),m.Uc(a.resp.bankName)}}var st,lt=((st=function(){function e(t,n,o,i){a(this,e),this.ls=t,this.dialogRef=n,this.api=o,this.router=i}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(function(){e.api.loanRepaymentFetchById(e.loanAccountId).subscribe(function(t){e.resp=t,console.log(e.resp)})},10)}},{key:"goToClose",value:function(){this.dialogRef.close()}},{key:"goToEdit",value:function(){this.dialogRef.close(),this.router.navigate(["/loan/account/application-enrichment/loan-repayment/"+this.loanAccountId])}}]),e}()).\u0275fac=function(e){return new(e||st)(m.Rb(W.a),m.Rb(I.g),m.Rb(x.b),m.Rb(d.h))},st.\u0275cmp=m.Lb({type:st,selectors:[["app-loan-repayment-summary"]],decls:10,vars:1,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%",4,"ngIf"],["fxFlex","100%"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["layout","row"],["flex","",1,"line"],[1,"editButton",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"mat-icon",2),m.fc("click",function(){return t.goToClose()}),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"div",4),m.Xb(6,"h4",5),m.Tc(7,"Loan Repayment Details Summary"),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Rc(9,ct,92,10,"div",7),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(9),m.rc("ngIf",t.resp))},directives:[p.e,O.a,p.d,u.n,p.b,f.a,f.d,p.f,g.f],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:1000px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px;margin-bottom:2%}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{width:700px;height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}h7[_ngcontent-%COMP%]{margin-left:20px;font-family:Montserrat}"]}),st),bt=r("ura0"),ut=function(){return{y:"50px",delay:"300ms"}},mt=function(e){return{value:"*",params:e}};function dt(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",21),m.Xb(1,"mat-card"),m.Xb(2,"div",22),m.Xb(3,"div",23),m.Xb(4,"mat-icon",24),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",25),m.Xb(7,"h6"),m.Tc(8,"Application Enrichment Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",26),m.Xb(10,"button",27),m.fc("click",function(){return m.Hc(n),m.jc().navigate()}),m.Tc(11,"View Summary"),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,mt,m.wc(1,ut))))}function pt(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",27),m.fc("click",function(){return m.Hc(n),m.jc().goToLoanInterest()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var ft=function(){return["/loan/account/application-enrichment/intrest-details"]};function gt(e,t){1&e&&(m.Vb(0),m.Xb(1,"button",28),m.Tc(2," Add Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()),2&e&&(m.Eb(1),m.rc("routerLink",m.wc(1,ft)))}function ht(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",27),m.fc("click",function(){return m.Hc(n),m.jc().goToLoanDisbursement()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var vt=function(){return["/loan/account/application-enrichment/loan-disbursement"]};function yt(e,t){if(1&e&&(m.Xb(0,"button",29),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,vt))("disabled",!n.loanInterestDetailsScreen)}}function Wt(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",27),m.fc("click",function(){return m.Hc(n),m.jc().goToLoanRepayment()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Xt=function(){return["/loan/account/application-enrichment/loan-repayment"]};function xt(e,t){if(1&e&&(m.Xb(0,"button",29),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,Xt))("disabled",!n.loanDisbursementDetailsScreen)}}function Ct(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",27),m.fc("click",function(){return m.Hc(n),m.jc().goChargeSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var It=function(){return["/loan/account/application-enrichment/charge-details"]};function At(e,t){if(1&e&&(m.Xb(0,"button",29),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,It))("disabled",!n.loanRepaymentDetailsScreen)}}function Ot(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",27),m.fc("click",function(){return m.Hc(n),m.jc().goToAccountSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Tt=function(){return["/loan/account/application-enrichment/account-services"]};function Dt(e,t){if(1&e&&(m.Xb(0,"button",29),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,Tt))("disabled",!n.loanChargeDetailsScreen)}}var kt,St=function(e){return{"border-size":e}},_t=((kt=function(){function e(t,n,o){a(this,e),this.router=t,this.dialog=n,this.ls=o,this.loanInterestDetailsScreen=!1,this.loanDisbursementDetailsScreen=!1,this.loanRepaymentDetailsScreen=!1,this.loanChargeDetailsScreen=!1,this.loanAccountServicesScreen=!1,this.isLoanApplicationEnrichementDone=!1}return i(e,[{key:"ngOnInit",value:function(){this.loanInterestDetailsScreen=this.ls.getItem("LOAN_INTERST_DETAIL_DONE"),this.loanDisbursementDetailsScreen=this.ls.getItem("LOAN_DISBURSEMENT_DETAIL_DONE"),this.loanRepaymentDetailsScreen=this.ls.getItem("LOAN_REPAYMENT_DETAIL_DONE"),this.loanChargeDetailsScreen=this.ls.getItem("LOAN_CHARGE_DETAILS"),this.loanAccountServicesScreen=this.ls.getItem("LOAN_ACCOUNT_SERVICES_DONE"),this.loanInterestDetailsScreen&&this.loanDisbursementDetailsScreen&&this.loanRepaymentDetailsScreen&&this.loanChargeDetailsScreen&&this.loanAccountServicesScreen&&(this.isLoanApplicationEnrichementDone=!0)}},{key:"goToLoanInterest",value:function(){this.dialog.open(rt,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"goToLoanDisbursement",value:function(){this.dialog.open(nt,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"goToLoanRepayment",value:function(){this.dialog.open(lt,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"goChargeSummary",value:function(){this.dialog.open(tt,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"goToAccountSummary",value:function(){this.dialog.open(Qe,{height:"auto",data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"navigate",value:function(){this.router.navigate(["/loan/account/application-enrichment/Summary"])}}]),e}()).\u0275fac=function(e){return new(e||kt)(m.Rb(d.h),m.Rb(I.b),m.Rb(W.a))},kt.\u0275cmp=m.Lb({type:kt,selectors:[["app-loan-enrichment"]],decls:97,vars:31,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%"],[1,"card-img1",3,"src"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["showLoanDetail",""],["showLoanRepayment",""],["showLoanCharge",""],["showLoanAccountService",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create Retail Loan Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,dt,12,4,"div",8),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card",11),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1.Loan Interest Details"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",12),m.Xb(20,"div",13),m.Xb(21,"p"),m.Tc(22," Interest Type and Effective Interest Rate is captured. "),m.Wb(),m.Wb(),m.Xb(23,"div",13),m.Sb(24,"img",14),m.Wb(),m.Wb(),m.Wb(),m.Sb(25,"mat-divider"),m.Xb(26,"mat-card-actions"),m.Rc(27,pt,5,0,"ng-container",15),m.Rc(28,gt,5,2,"ng-container",15),m.Wb(),m.Wb(),m.Wb(),m.Xb(29,"div",10),m.Xb(30,"mat-card",11),m.Xb(31,"mat-card-header"),m.Xb(32,"mat-card-title"),m.Tc(33,"2. Loan Disbursement Details "),m.Wb(),m.Wb(),m.Xb(34,"mat-card-content"),m.Xb(35,"div",12),m.Xb(36,"div",13),m.Xb(37,"p"),m.Tc(38," Loan disbursement mode and corresponding details are captured. "),m.Wb(),m.Wb(),m.Xb(39,"div",13),m.Sb(40,"img",14),m.Wb(),m.Wb(),m.Wb(),m.Sb(41,"mat-divider"),m.Xb(42,"mat-card-actions"),m.Rc(43,ht,5,0,"ng-container",16),m.Rc(44,yt,4,3,"ng-template",null,17,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(46,"div",10),m.Xb(47,"mat-card",11),m.Xb(48,"mat-card-header"),m.Xb(49,"mat-card-title"),m.Tc(50,"3. Loan Repayment Details"),m.Wb(),m.Wb(),m.Xb(51,"mat-card-content"),m.Xb(52,"div",12),m.Xb(53,"div",13),m.Xb(54,"p"),m.Tc(55," All the primary information about the customer is captured. "),m.Wb(),m.Wb(),m.Xb(56,"div",13),m.Sb(57,"img",14),m.Wb(),m.Wb(),m.Wb(),m.Sb(58,"mat-divider"),m.Xb(59,"mat-card-actions"),m.Rc(60,Wt,5,0,"ng-container",16),m.Rc(61,xt,4,3,"ng-template",null,18,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(63,"div",10),m.Xb(64,"mat-card",11),m.Xb(65,"mat-card-header"),m.Xb(66,"mat-card-title"),m.Tc(67,"4. Charge Details"),m.Wb(),m.Wb(),m.Xb(68,"mat-card-content"),m.Xb(69,"div",12),m.Xb(70,"div",13),m.Xb(71,"p"),m.Tc(72," Charge Details are dispalyed. "),m.Wb(),m.Wb(),m.Xb(73,"div",13),m.Sb(74,"img",14),m.Wb(),m.Wb(),m.Wb(),m.Sb(75,"mat-divider"),m.Xb(76,"mat-card-actions"),m.Rc(77,Ct,5,0,"ng-container",16),m.Rc(78,At,4,3,"ng-template",null,19,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(80,"div",10),m.Xb(81,"mat-card",11),m.Xb(82,"mat-card-header"),m.Xb(83,"mat-card-title"),m.Tc(84,"5.Account Services"),m.Wb(),m.Wb(),m.Xb(85,"mat-card-content"),m.Xb(86,"div",12),m.Xb(87,"div",13),m.Xb(88,"p"),m.Tc(89,"Statement preference and the holiday preferences are captured."),m.Wb(),m.Wb(),m.Xb(90,"div",13),m.Sb(91,"img",14),m.Wb(),m.Wb(),m.Wb(),m.Sb(92,"mat-divider"),m.Xb(93,"mat-card-actions"),m.Rc(94,Ot,5,0,"ng-container",16),m.Rc(95,Dt,4,3,"ng-template",null,20,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(45),a=m.Dc(62),o=m.Dc(79),i=m.Dc(96);m.Eb(11),m.rc("ngIf",t.isLoanApplicationEnrichementDone),m.Eb(3),m.rc("ngClass",m.xc(21,St,t.loanInterestDetailsScreen||!t.loanInterestDetailsScreen)),m.Eb(10),m.rc("src","assets/images/svg/loanInterest.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.loanInterestDetailsScreen),m.Eb(1),m.rc("ngIf",!t.loanInterestDetailsScreen),m.Eb(2),m.rc("ngClass",m.xc(23,St,t.loanDisbursementDetailsScreen||!t.loanDisbursementDetailsScreen&&t.loanInterestDetailsScreen)),m.Eb(10),m.rc("src","assets/images/svg/loanDisbursement.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.loanDisbursementDetailsScreen&&t.loanInterestDetailsScreen)("ngIfElse",n),m.Eb(4),m.rc("ngClass",m.xc(25,St,t.loanRepaymentDetailsScreen||!t.loanRepaymentDetailsScreen&&t.loanDisbursementDetailsScreen)),m.Eb(10),m.rc("src","assets/images/svg/loanRepayment.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.loanRepaymentDetailsScreen&&t.loanDisbursementDetailsScreen)("ngIfElse",a),m.Eb(4),m.rc("ngClass",m.xc(27,St,t.loanChargeDetailsScreen||!t.loanChargeDetailsScreen&&t.loanRepaymentDetailsScreen)),m.Eb(10),m.rc("src","assets/images/svg/chargeDetails.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.loanChargeDetailsScreen&&t.loanRepaymentDetailsScreen)("ngIfElse",o),m.Eb(4),m.rc("ngClass",m.xc(29,St,t.loanAccountServicesScreen||!t.loanAccountServicesScreen&&t.loanChargeDetailsScreen)),m.Eb(10),m.rc("src","assets/images/svg/accountService.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.loanChargeDetailsScreen&&t.loanAccountServicesScreen)("ngIfElse",i)}},directives:[p.e,p.b,u.n,f.a,u.l,bt.a,f.e,f.h,f.d,p.f,p.d,S.a,f.b,O.a,h.b,d.i],styles:[".card-img1[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}"]}),kt);function Rt(e,t){if(1&e&&(m.Xb(0,"tr",21),m.Vb(1,22),m.Xb(2,"td"),m.Xb(3,"mat-card",23),m.Sb(4,"input",24),m.Wb(),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",23),m.Sb(7,"input",25),m.Wb(),m.Wb(),m.Xb(8,"td"),m.Xb(9,"mat-card",23),m.Xb(10,"div",26),m.Sb(11,"input",27),m.Wb(),m.Xb(12,"span"),m.Tc(13,"%"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"td"),m.Xb(15,"mat-card",23),m.Xb(16,"div",26),m.Sb(17,"input",28),m.Wb(),m.Xb(18,"span"),m.Tc(19,"%"),m.Wb(),m.Wb(),m.Wb(),m.Xb(20,"td"),m.Xb(21,"mat-card",23),m.Sb(22,"input",29),m.Wb(),m.Wb(),m.Ub(),m.Wb()),2&e){var n=t.$implicit;m.Eb(1),m.rc("formGroup",n)}}function Et(e,t){if(1&e&&(m.Xb(0,"form",13),m.Xb(1,"div",14),m.Xb(2,"span",15),m.Tc(3,"Interest Details"),m.Wb(),m.Sb(4,"mat-divider",16),m.Wb(),m.Xb(5,"table",17),m.Xb(6,"thead",18),m.Xb(7,"tr",19),m.Xb(8,"th"),m.Tc(9,"Rate Code"),m.Wb(),m.Xb(10,"th"),m.Tc(11,"Interest Type"),m.Wb(),m.Xb(12,"th"),m.Tc(13,"Interest Rate Applicable"),m.Wb(),m.Xb(14,"th"),m.Tc(15,"Margin in %"),m.Wb(),m.Xb(16,"th"),m.Tc(17,"Effective Rate %"),m.Wb(),m.Wb(),m.Wb(),m.Xb(18,"tbody"),m.Rc(19,Rt,23,1,"tr",20),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.interestForm),m.Eb(19),m.rc("ngForOf",n.in.controls)}}var Mt,Pt=((Mt=function(){function e(t,n,o,i,r,c,s){a(this,e),this.accountService=t,this.snack=n,this.ls=o,this.api=i,this.router=r,this.formBuilder=c,this.loader=s,this.showEditOption=!1,this.accountType="Home Loan"}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.accountId=this.ls.getItem("accountId"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);var t=this.ls.getItem("LOAN_INTERST_DETAIL_DONE");setTimeout(function(){null!=e.loanaccountID&&t?(e.showEditOption=!0,e.getInterestDetails()):(console.log("else"),e.showEditOption=!1,e.api.getFlexcubeDetails("intrestDetails",e.accountType).subscribe(function(t){e.onChangeInterest(t.length),e.in.patchValue(t)}))},10),this.interestForm=this.formBuilder.group({interestInfo:new $.d([])})}},{key:"assign",value:function(e){}},{key:"getInterestDetails",value:function(){var e=this;this.loader.open(),this.api.loanInterestFetchById(this.loanaccountID).subscribe(function(t){e.loader.close(),console.log("resp from backend ",e.resp),e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp)},function(t){e.loader.close()})}},{key:"onChangeInterest",value:function(e){var t=e||0;if(this.in.length<t)for(var n=this.in.length;n<t;n++)this.in.push(this.formBuilder.group({rateCode:["",$.A.required],intrestType:["",$.A.required],intrestRateApplicable:["",$.A.required],marginIn:["",[$.A.required,$.A.max(100),$.A.min(0)]],effectiveRate:["",[$.A.required,$.A.max(100),$.A.min(0)]],loanAccountId:[this.loanaccountID],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],loanInterestId:[""],id:[""]}));else for(var a=this.in.length;a>=t;a--)this.in.removeAt(a)}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.interestInfo}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/application-enrichment"])}},{key:"appendPercentage",value:function(e){console.log(e.target.value),e.target.value.length&&(1===e.target.value.length&&(e.target.value=e.target.value+"%"),e.target.value.length>1&&(e.target.value=e.target.value.slice(0,-1)+"%"))}},{key:"onSubmit",value:function(){var e=this;this.api.loanintrestDetailsSave(this.interestForm.value).subscribe(function(t){e.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next(),console.log("backend response from intrest saving",t)},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"next",value:function(){this.ls.setItem("LOAN_INTERST_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/application-enrichment/loan-disbursement"])}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("Interest detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}}]),e}()).\u0275fac=function(e){return new(e||Mt)(m.Rb(ue.a),m.Rb(A.a),m.Rb(W.a),m.Rb(x.b),m.Rb(d.h),m.Rb($.f),m.Rb(Pe.a))},Mt.\u0275cmp=m.Lb({type:Mt,selectors:[["app-loan-intrest-details"]],decls:17,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/loanInterest.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],["id","mat-line",1,"divider-line"],[1,"mat-title"],[1,"mat-line-position"],[1,"cart-table"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],[1,"matCardBox"],["matInput","","formControlName","rateCode","name","rateCode","placeholder","Rate Code","readonly","",1,"input"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],[1,"field"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","marginIn","type","number","placeholder","Margin","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"input"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h2"),m.Tc(7,"Interest Details Summary"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Sb(9,"div",7),m.Rc(10,Et,20,2,"form",8),m.Wb(),m.Xb(11,"div",9),m.Xb(12,"a",10),m.fc("click",function(){return t.goBack()}),m.Tc(13,"Back"),m.Wb(),m.Sb(14,"span",11),m.Xb(15,"button",12),m.fc("click",function(){return t.onSubmit()}),m.Tc(16,"Next"),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(10),m.rc("ngIf",t.interestForm),m.Eb(5),m.rc("disabled",!t.interestForm))},directives:[p.e,p.b,u.n,h.a,h.b,$.C,$.s,$.j,S.a,u.m,f.a,Q.b,$.c,$.r,$.i,$.w],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px;opacity:1}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.matCardBox[_ngcontent-%COMP%]{display:flex;width:110px;height:50px;margin-top:20px}.matCardBox1[_ngcontent-%COMP%]{width:110px;padding-bottom:10px;margin-top:22px;padding-top:0;height:50px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.backButton[_ngcontent-%COMP%]{letter-spacing:0;color:#5d5d5d;opacity:1;border-style:none}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDivider1[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1%;margin-top:2%}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.bgColor[_ngcontent-%COMP%]{background-color:#c3c3c3}.theadClass[_ngcontent-%COMP%]{width:136px}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.cart-table[_ngcontent-%COMP%]{width:80%}.field[_ngcontent-%COMP%]{display:flex;margin-left:50%}.mat-title[_ngcontent-%COMP%]{color:#000;font-size:150%;font-weight:600;width:50%!important;margin-left:5%;margin-bottom:2%}.divider-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:0;margin-top:5%}.mat-line-position[_ngcontent-%COMP%]{margin-top:1%;position:unset!important;width:120%;opacity:.35}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:5%}"]}),Mt);function Nt(e,t){if(1&e&&(m.Xb(0,"div",6),m.Xb(1,"td",7),m.Tc(2),m.Wb(),m.Xb(3,"td",8),m.Tc(4),m.Wb(),m.Xb(5,"td",9),m.Tc(6),m.Wb(),m.Wb()),2&e){var n=t.$implicit;m.Eb(2),m.Uc(n.paymentNumber),m.Eb(2),m.Uc(n.paymentDate),m.Eb(2),m.Uc(n.principalPaid)}}var wt,Ft=((wt=function(){function e(t,n,o,i,r,c){a(this,e),this.fb=t,this.ls=n,this.router=o,this.formBuilder=i,this.dialogRef=r,this.apiService=c}return i(e,[{key:"ngOnInit",value:function(){this.loanaccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountId=this.loanInfo.loanAccountId),this.scheduleStatus=JSON.parse(localStorage.getItem("fetchRescheduleData")),console.log(this.scheduleStatus),console.log(this.scheduleStatus[0].paymentDate)}},{key:"close",value:function(){this.dialogRef.close(),this.router.navigateByUrl("/loan/account/application-enrichment/loan-repayment")}}]),e}()).\u0275fac=function(e){return new(e||wt)(m.Rb($.f),m.Rb(W.a),m.Rb(d.h),m.Rb($.f),m.Rb(I.g),m.Rb(x.b))},wt.\u0275cmp=m.Lb({type:wt,selectors:[["app-repayment-schedule"]],decls:17,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],[1,"cart-table","default-bg","mat-elevation-z0"],["fxLayout","row","fxLayoutAlign","space-between center",1,"heading"],[1,"label"],["fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"headingText1"],[1,"headingText2"],[1,"headingText3"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"mat-icon",1),m.fc("click",function(){return t.close()}),m.Tc(2,"close"),m.Wb(),m.Wb(),m.Xb(3,"form"),m.Xb(4,"table",2),m.Xb(5,"tbody"),m.Xb(6,"tr"),m.Xb(7,"div"),m.Vb(8),m.Xb(9,"div",3),m.Xb(10,"th",4),m.Tc(11,"Payment Number"),m.Wb(),m.Xb(12,"th",4),m.Tc(13,"Payment Date"),m.Wb(),m.Xb(14,"th",4),m.Tc(15,"Principal To Be Paid"),m.Wb(),m.Wb(),m.Rc(16,Nt,7,3,"div",5),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(16),m.rc("ngForOf",t.scheduleStatus))},directives:[p.e,O.a,$.C,$.s,$.t,p.d,u.m],styles:[".contain[_ngcontent-%COMP%]{justify-content:flex-end}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.headingText1[_ngcontent-%COMP%]{padding-left:10%}.headingText2[_ngcontent-%COMP%], .headingText3[_ngcontent-%COMP%]{padding-right:0}"]}),wt);function Lt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Type of Repayment is Required!"),m.Wb())}function Vt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," First Repayment Date is Required!"),m.Wb())}function qt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Maturity Date is Required!"),m.Wb())}function jt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Moratorium Period is Required!"),m.Wb())}function Bt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Repayment Frequency is Required!"),m.Wb())}function zt(e,t){if(1&e&&(m.Xb(0,"mat-option",42),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Ut(e,t){if(1&e&&(m.Xb(0,"mat-option",42),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Ht(e,t){if(1&e&&(m.Xb(0,"mat-option",42),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Gt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Loan Tenure is Required!"),m.Wb())}function Yt(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",43),m.Xb(1,"div",44),m.Xb(2,"a",45),m.fc("click",function(){return m.Hc(n),m.jc(2).openPopup()}),m.Tc(3,"Show Repayment Schedule"),m.Wb(),m.Sb(4,"br"),m.Wb(),m.Wb()}if(2&e){var a=m.jc(2);m.rc("formGroup",a.loanRepaymentForm)}}function $t(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",15),m.Xb(4,"mat-form-field",16),m.Xb(5,"mat-label"),m.Tc(6,"Repayment Mode*"),m.Wb(),m.Xb(7,"mat-select",17),m.Xb(8,"mat-option",18),m.Tc(9,"Internal"),m.Wb(),m.Xb(10,"mat-option",19),m.Tc(11,"External"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(12,"div",15),m.Xb(13,"mat-form-field",16),m.Xb(14,"mat-label"),m.Tc(15,"Type of Repayment*"),m.Wb(),m.Xb(16,"mat-select",20),m.Xb(17,"mat-option",21),m.Tc(18,"EMI"),m.Wb(),m.Wb(),m.Rc(19,Lt,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Xb(20,"div",15),m.Xb(21,"mat-form-field",16),m.Xb(22,"mat-label"),m.Tc(23,"First Repayment Date*"),m.Wb(),m.Sb(24,"input",23),m.Xb(25,"div",24),m.Sb(26,"mat-datepicker-toggle",25),m.Sb(27,"mat-datepicker",null,26),m.Wb(),m.Rc(29,Vt,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Xb(30,"div",15),m.Xb(31,"mat-form-field",16),m.Xb(32,"mat-label"),m.Tc(33,"Maturity Date*"),m.Wb(),m.Sb(34,"input",27),m.Xb(35,"div",24),m.Sb(36,"mat-datepicker-toggle",25),m.Sb(37,"mat-datepicker",null,28),m.Wb(),m.Rc(39,qt,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Xb(40,"div",29),m.Xb(41,"mat-form-field",16),m.Xb(42,"mat-label"),m.Tc(43,"Moratorium Period ( in months) *"),m.Wb(),m.Sb(44,"input",30),m.Rc(45,jt,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Wb(),m.Xb(46,"div",31),m.Xb(47,"div",15),m.Xb(48,"mat-form-field",16),m.Xb(49,"mat-label"),m.Tc(50,"Repayment Frequency*"),m.Wb(),m.Xb(51,"mat-select",32),m.Xb(52,"mat-option",33),m.Tc(53,"opinion"),m.Wb(),m.Wb(),m.Rc(54,Bt,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Xb(55,"div",29),m.Xb(56,"div"),m.Xb(57,"div",0),m.Xb(58,"mat-hint",34),m.Xb(59,"b"),m.Tc(60,"Loan Tenure *"),m.Wb(),m.Wb(),m.Xb(61,"mat-form-field",35),m.Xb(62,"mat-label"),m.Tc(63,"Year*"),m.Wb(),m.Xb(64,"mat-select",36),m.Rc(65,zt,2,2,"mat-option",37),m.Wb(),m.Wb(),m.Xb(66,"mat-form-field",38),m.Xb(67,"mat-label"),m.Tc(68,"Month*"),m.Wb(),m.Xb(69,"mat-select",39),m.Rc(70,Ut,2,2,"mat-option",37),m.Wb(),m.Wb(),m.Xb(71,"mat-form-field",38),m.Xb(72,"mat-label"),m.Tc(73,"Day*"),m.Wb(),m.Xb(74,"mat-select",40),m.fc("selectionChange",function(){m.Hc(n);var e=m.jc();return e.getDays(e.loanRepaymentForm.get("month").value,e.loanRepaymentForm.get("year").value,e.loanRepaymentForm.get("day").value)}),m.Rc(75,Ht,2,2,"mat-option",37),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Rc(76,Gt,2,0,"mat-error",22),m.Wb(),m.Rc(77,Yt,5,1,"div",41),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(28),o=m.Dc(38),i=m.jc();m.rc("formGroup",i.loanRepaymentForm),m.Eb(19),m.rc("ngIf",!i.loanRepaymentForm.get("typeOfRepayment").valid&&i.loanRepaymentForm.get("typeOfRepayment").touched),m.Eb(5),m.rc("min",i.loanRepaymentForm.get("firstRepaymentDate").value)("matDatepicker",a),m.Eb(2),m.rc("for",a),m.Eb(3),m.rc("ngIf",!i.loanRepaymentForm.get("firstRepaymentDate").valid&&i.loanRepaymentForm.get("firstRepaymentDate").touched),m.Eb(5),m.rc("matDatepicker",o)("max",i.getDays(i.loanRepaymentForm.get("month").value,i.loanRepaymentForm.get("year").value,i.loanRepaymentForm.get("day").value)),m.Eb(2),m.rc("for",o),m.Eb(3),m.rc("ngIf",!i.loanRepaymentForm.get("maturityDate").valid&&i.loanRepaymentForm.get("maturityDate").touched),m.Eb(6),m.rc("ngIf",!i.loanRepaymentForm.get("moraturioumPeriod").valid&&i.loanRepaymentForm.get("moraturioumPeriod").touched),m.Eb(9),m.rc("ngIf",!i.loanRepaymentForm.get("repaymentFrequency").valid&&i.loanRepaymentForm.get("repaymentFrequency").touched),m.Eb(11),m.rc("ngForOf",i.years),m.Eb(5),m.rc("ngForOf",i.months),m.Eb(5),m.rc("ngForOf",i.days),m.Eb(1),m.rc("ngIf",!i.loanRepaymentForm.get("loanTenure").valid&&i.loanRepaymentForm.get("loanTenure").touched),m.Eb(1),m.rc("ngIf",i.scheduleLink)}}function Qt(e,t){if(1&e&&(m.Xb(0,"mat-option",42),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Jt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Customer Account Number is Required! "),m.Wb())}function Zt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please Enter Valid Customer Account number "),m.Wb())}function Kt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0 Bank Name is Required! "),m.Wb())}function en(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0 Please Enter Valid Bank Name "),m.Wb())}function tn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Branch Code is Required! "),m.Wb())}function nn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please Enter Valid Branch Code "),m.Wb())}function an(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," IFSC Code is Required! "),m.Wb())}function on(e,t){if(1&e&&(m.Xb(0,"div",29),m.Xb(1,"mat-hint"),m.Tc(2,"IFSC Code*"),m.Wb(),m.Xb(3,"mat-card",50),m.Sb(4,"input",51),m.Wb(),m.Rc(5,an,2,0,"mat-error",22),m.Wb()),2&e){var n=m.jc(2);m.Eb(5),m.rc("ngIf",!n.internalAccount.get("ifscCode").valid&&n.internalAccount.get("ifscCode").touched)}}function rn(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",29),m.Xb(4,"mat-form-field",16),m.Xb(5,"mat-label"),m.Tc(6,"Customer Account Number*"),m.Wb(),m.Xb(7,"mat-select",46),m.Rc(8,Qt,2,2,"mat-option",37),m.Wb(),m.Rc(9,Jt,2,0,"mat-error",22),m.Rc(10,Zt,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Xb(11,"div",29),m.Xb(12,"mat-form-field",16),m.Xb(13,"mat-label"),m.Tc(14,"Bank Name*"),m.Wb(),m.Xb(15,"input",47),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(16,Kt,2,0,"mat-error",22),m.Rc(17,en,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Wb(),m.Xb(18,"div",31),m.Xb(19,"div",29),m.Xb(20,"mat-form-field",16),m.Xb(21,"mat-label"),m.Tc(22,"Branch Code*"),m.Wb(),m.Xb(23,"input",48),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(24,tn,2,0,"mat-error",22),m.Rc(25,nn,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Rc(26,on,6,1,"div",49),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.jc();m.rc("formGroup",a.internalAccount),m.Eb(8),m.rc("ngForOf",a.accountNoArr),m.Eb(1),m.rc("ngIf",a.internalAccount.get("customerAccount").hasError("required")&&a.internalAccount.get("customerAccount").touched),m.Eb(1),m.rc("ngIf",a.internalAccount.get("customerAccount").hasError("pattern")&&a.internalAccount.get("customerAccount").touched),m.Eb(6),m.rc("ngIf",a.internalAccount.get("bankName").hasError("required")&&a.internalAccount.get("bankName").touched),m.Eb(1),m.rc("ngIf",a.internalAccount.get("bankName").hasError("pattern")&&a.internalAccount.get("bankName").touched),m.Eb(7),m.rc("ngIf",a.internalAccount.get("branchCode").hasError("required")&&a.internalAccount.get("branchCode").touched),m.Eb(1),m.rc("ngIf",a.internalAccount.get("branchCode").hasError("pattern")&&a.internalAccount.get("branchCode").touched),m.Eb(1),m.rc("ngIf","external"==a.repaymentMode)}}var cn,sn=((cn=function(){function e(t,n,o,i,r,c,s,l,b,u){a(this,e),this.formBuilder=t,this.datepipe=n,this.snack=o,this.api=i,this.apiService=r,this.router=c,this.ls=s,this.dialog=l,this.loader=b,this.accountService=u,this.maxDate=new Date,this.minDate=new Date,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.accountNoArr=[]}return i(e,[{key:"ngOnInit",value:function(){this.loanaccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountId=this.loanInfo.loanAccountId),this.selectedYear=(new Date).getFullYear();for(var e=0;e<=50;e++)this.years.push(e+" year");for(var t=0;t<=11;t++)this.months.push(t+" month");for(var n=0;n<=30;n++)this.days.push(n+" day");var a=this.ls.getItem("LOAN_DISBURSEMENT_DETAIL_DONE");null!=this.loanaccountId&&a?(this.showEditOption=!0,this.getRepaymenttDetails()):(this.showEditOption=!1,this.buildAccountForm()),this.fetchByCif(),this.loanData()}},{key:"getRepaymenttDetails",value:function(){var e=this;this.api.loanRepaymentFetchById(this.loanaccountId).subscribe(function(t){e.repaymentDetails=t,e.buildAccountForm(e.repaymentDetails)},function(t){e.loader.close()})}},{key:"buildAccountForm",value:function(e){this.loanRepaymentForm=this.formBuilder.group({branchCode:[""],customerAccount:[""],bankName:[""],firstRepaymentDate:[e?new Date(e.firstRepaymentDate).toISOString().substring(0,10):"",$.A.required],loanAccountId:this.loanaccountId,loanRepaymentId:[e?e.loanRepaymentId:""],loanTenure:[e?e.loanTenure:""],maturityDate:[e?new Date(e.maturityDate).toISOString().substring(0,10):"",$.A.required],moraturioumPeriod:[e?e.moraturioumPeriod:"",$.A.required],repaymentFrequency:[e?e.repaymentFrequency:"",$.A.required],repaymentMode:[e?e.repaymentMode:"",$.A.required],typeOfRepayment:[e?e.typeOfRepayment:"",$.A.required],day:[e?e.loanTenure.split("-")[2]:"",[$.A.required]],month:[e?e.loanTenure.split("-")[1]:"",[$.A.required]],year:[e?e.loanTenure.split("-")[0]:"",[$.A.required]]}),console.log(this.loanRepaymentForm.value),this.scheduleLink=this.formBuilder.group({firstRepaymentDate:this.loanRepaymentForm.get("firstRepaymentDate"),loanAccountId:this.loanaccountId}),this.internalAccount=this.formBuilder.group({branchCode:[e?e.branchCode:"",[$.A.required,$.A.pattern(".*[a-zA-Z0-9].*")]],customerAccount:[e?e.customerAccount:"",[$.A.required,$.A.pattern(".*[0-9].*")]],bankName:[e?e.bankName:"",[$.A.required,$.A.pattern(".*[a-zA-Z0-9].*")]]})}},{key:"getDays",value:function(e,t,n){var a=re(new Date).add(parseInt(e.split(" ")[0]),"months").format("LLL"),o=re(a).add(parseInt(t.split(" ")[0]),"year").format("LLL"),i=re(o).add(parseInt(n.split(" ")[0]),"days").format("LLL");console.log("finalDate---\x3e",i),this.loanRepaymentForm.get("maturityDate").setValue(new Date(i))}},{key:"openPopup",value:function(){var e=this;console.log(this.loanRepaymentForm.value),console.log(this.internalAccount.value),console.log("payload",this.scheduleLink.value);var t=re(this.scheduleLink.value).format("DD-MMM-YYYY");console.log(t);var n={firstRepaymentDate:t,loanAccountId:this.loanaccountId};console.log("payload",n),this.api.scheduleLink(n).subscribe(function(t){e.fetchRescheduleData=t,console.log(e.fetchRescheduleData),e.loanaccountId=e.ls.getItem("loanAccountId"),localStorage.setItem("fetchRescheduleData",JSON.stringify(e.fetchRescheduleData)),console.log(e.fetchRescheduleData),e.dialog.open(Ft,{width:"55%",backdropClass:"dialog-bg-trans",height:"55%",disableClose:!0}).afterClosed().subscribe(function(e){console.log("The dialog was closed",e)})}),null!=t&&(t=re(this.scheduleLink.value).format("YYYY-MMM-DD"))}},{key:"submit",value:function(){var e=this,t=this.datepipe.transform(this.loanRepaymentForm.value.firstRepaymentDate,"yyyy-MMM-dd"),n=this.datepipe.transform(this.loanRepaymentForm.value.maturityDate,"yyyy-MMM-dd"),a=this.loanRepaymentForm.value.year+"-"+this.loanRepaymentForm.value.month+"-"+this.loanRepaymentForm.value.day;this.loanRepaymentForm.get("loanTenure").setValue(a),this.loanRepaymentForm.value.loanTenure=a,this.loanRepaymentForm.get("branchCode").setValue(this.internalAccount.value.branchCode),this.loanRepaymentForm.get("customerAccount").setValue(this.internalAccount.value.customerAccount),this.loanRepaymentForm.get("bankName").setValue(this.internalAccount.value.bankName),this.loanRepaymentForm.get("firstRepaymentDate").setValue(t),this.loanRepaymentForm.get("loanTenure").setValue(a),this.loanRepaymentForm.get("maturityDate").setValue(n),console.log(this.loanRepaymentForm.value),this.api.loanRepaymentSave(this.loanRepaymentForm.value).subscribe(function(t){e.snack.open("Loan Repayment Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next()},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/application-enrichment/loan-disbursement"])}},{key:"convertDate",value:function(e){var t=re(e).format("YYYY-MMM-DD");if(console.log("date",t),t)return t}},{key:"next",value:function(){this.ls.setItem("LOAN_REPAYMENT_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/application-enrichment/charge-details"])}},{key:"_keyPress",value:function(e){32!==e.which||e.target.value.length||e.preventDefault()}},{key:"fetchByCif",value:function(){var e=this;this.cifNumber=this.ls.getItem("cId"),this.api.fetchAccountIdByCustId(this.cifNumber).subscribe(function(t){var n;e.accountNoArr=t,console.log(e.accountNoArr),e.internalAccount.get("customerAccount").setValue(null===(n=e.accountNoArr)||void 0===n?void 0:n[0])})}},{key:"loanData",value:function(){var e=this;this.apiService.fetchByLoanAccountId(this.loanaccountId).subscribe(function(t){var n=t.loanTenure.split("-")[0],a=t.loanTenure.split("-")[1],o=t.loanTenure.split("-")[2];e.loanRepaymentForm.get("year").setValue(n),e.loanRepaymentForm.get("month").setValue(a),e.loanRepaymentForm.get("day").setValue(o)},function(e){console.error(e)})}}]),e}()).\u0275fac=function(e){return new(e||cn)(m.Rb($.f),m.Rb(u.f),m.Rb(A.a),m.Rb(x.b),m.Rb(x.b),m.Rb(d.h),m.Rb(W.a),m.Rb(I.b),m.Rb(Pe.a),m.Rb(ue.a))},cn.\u0275cmp=m.Lb({type:cn,selectors:[["app-loan-repayment-component"]],decls:25,vars:3,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_Payments_re_77x0.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-2"],["appearance","outline",1,"full-width"],["disableOptionCentering","","placeholder","Repayment Mode","name","repaymentMode","formControlName","repaymentMode"],["value","Internal"],["value","External"],["disableOptionCentering","","placeholder","Type of Repayment","name","opinion","formControlName","typeOfRepayment"],["value","EMI"],[4,"ngIf"],["placeholder","DD/MM/YYYY","matInput","","name","valuationDate","formControlName","firstRepaymentDate",1,"alignment",3,"min","matDatepicker"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker1",""],["placeholder","DD/MM/YYYY","matInput","","name","valuationDate","formControlName","maturityDate","readonly","",1,"alignment",3,"matDatepicker","max"],["appDatepicker",""],[1,"flex-grow-1"],["matInput","","placeholder","Moratorium Period","formControlName","moraturioumPeriod","type","number","name","MarketValueofAsset","min","0",1,"alignment"],["fxFlex","100","fxFlex.gt-xs","50"],["disableOptionCentering","","placeholder","Repayment Frequency","name","opinion","formControlName","repaymentFrequency"],["value","opinion"],[1,"tenre"],["appearance","outline","fxFlex","22.5",1,"full-width","tenure1"],["name","year","placeholder","Year","formControlName","year","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxFlex","21.5",1,"full-width","tenure1"],["name","month","placeholder","Month","formControlName","month","disableOptionCentering",""],["name","day","placeholder","Day","formControlName","day","disableOptionCentering","",3,"selectionChange"],["fxLayout","row","fxLayoutGap","25px","class","showShedule",3,"formGroup",4,"ngIf"],[3,"value"],["fxLayout","row","fxLayoutGap","25px",1,"showShedule",3,"formGroup"],["fxFlex","100",1,"pr-1"],[1,"link",3,"routerLink","click"],["formControlName","customerAccount","disableOptionCentering","","placeholder","Customer Account"],["matInput","","placeholder","Bank Name","formControlName","bankName","type","text","name","MarketValueofAsset",1,"alignment",3,"keypress"],["matInput","","placeholder","Branch Code","formControlName","branchCode","type","text","name","MarketValueofAsset",1,"alignment",3,"keypress"],["class","flex-grow-1",4,"ngIf"],[1,"inputMatName"],["matInput","","placeholder","IFSC Code","formControlName","ifscCode","type","text","name","MarketValueofAsset",1,"alignment"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Loan Repayment Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"fieldset"),m.Xb(11,"legend",7),m.Tc(12,"Loan Repayment Details"),m.Wb(),m.Wb(),m.Xb(13,"mat-card-content"),m.Rc(14,$t,78,17,"form",8),m.Wb(),m.Xb(15,"fieldset"),m.Xb(16,"legend",7),m.Tc(17,"Internal Account"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Rc(19,rn,27,9,"form",8),m.Wb(),m.Wb(),m.Xb(20,"div",9),m.Xb(21,"button",10),m.fc("click",function(){return t.goBack()}),m.Tc(22," Back "),m.Wb(),m.Xb(23,"button",11),m.fc("click",function(){return t.submit()}),m.Tc(24," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(14),m.rc("ngIf",t.loanRepaymentForm),m.Eb(5),m.rc("ngIf",t.internalAccount),m.Eb(4),m.rc("disabled",!(null!=t.loanRepaymentForm&&t.loanRepaymentForm.get("typeOfRepayment").valid&&null!=t.loanRepaymentForm&&t.loanRepaymentForm.get("firstRepaymentDate").valid&&null!=t.loanRepaymentForm&&t.loanRepaymentForm.get("maturityDate").valid&&null!=t.loanRepaymentForm&&t.loanRepaymentForm.get("moraturioumPeriod").valid&&null!=t.loanRepaymentForm&&t.loanRepaymentForm.get("repaymentFrequency").valid&&null!=t.loanRepaymentForm&&t.loanRepaymentForm.get("loanTenure").valid&&null!=t.internalAccount&&t.internalAccount.get("customerAccount").valid&&null!=t.internalAccount&&t.internalAccount.get("bankName").valid&&null!=t.internalAccount&&t.internalAccount.get("branchCode").valid)))},directives:[p.e,p.b,f.a,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,g.c,g.g,J.a,$.r,$.i,Z.n,Q.b,$.c,ce.e,ce.g,g.j,ce.d,$.w,g.f,u.m,g.b,d.k],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}#heightRepay[_ngcontent-%COMP%]{height:44px}.showShedule[_ngcontent-%COMP%]{margin-top:7%}.link[_ngcontent-%COMP%]{text-decoration:underline;color:#456efe;font-size:small;align-self:center}#heightDate[_ngcontent-%COMP%]{height:48px!important}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{width:100px}.full-width2[_ngcontent-%COMP%]{width:335px}.inputCard[_ngcontent-%COMP%]{width:100%;height:25px}.inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName[_ngcontent-%COMP%]{margin-top:15px}.inputMatName1[_ngcontent-%COMP%]{flex-grow:1;margin-top:10px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:30%;margin-left:-1%;height:47px}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-hint[_ngcontent-%COMP%]{font-family:Manrope}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}mat-slide-toggle[_ngcontent-%COMP%]{margin-top:5%}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:0}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%;margin-bottom:5%}#mat-line2[_ngcontent-%COMP%]{margin-top:4%;margin-left:5%;margin-bottom:3%}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:20px;margin-right:20px;margin-top:20px!important;margin-bottom:20px!important}.datechange[_ngcontent-%COMP%]{height:10px;padding:0;margin-right:10px}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.tenre[_ngcontent-%COMP%]{margin-top:19px}"]}),cn),ln=r("qMRc");function bn(e,t){1&e&&m.Sb(0,"input",76)}function un(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please enter the Applicant Name "),m.Wb())}function mn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please enter the Last Update On "),m.Wb())}function dn(e,t){if(1&e&&(m.Xb(0,"mat-option",77),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function pn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please select the Employment Type "),m.Wb())}function fn(e,t){if(1&e&&(m.Xb(0,"mat-option",77),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function gn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please enter the Office Name "),m.Wb())}function hn(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",15),m.Xb(1,"div",16),m.Xb(2,"div"),m.Xb(3,"div",17),m.Xb(4,"div",18),m.Xb(5,"div",19),m.Xb(6,"mat-form-field",20),m.Xb(7,"mat-label"),m.Tc(8,"Applicant Name"),m.Wb(),m.Xb(9,"input",21),m.fc("keypress",function(e){return m.Hc(n),m.jc(2).letterOnly(e)}),m.Wb(),m.Rc(10,bn,1,0,"input",22),m.Rc(11,un,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(12,"div",24),m.Xb(13,"div",19),m.Xb(14,"mat-form-field",20),m.Xb(15,"mat-label"),m.Tc(16,"Last Update On"),m.Wb(),m.Sb(17,"input",25),m.Sb(18,"mat-datepicker-toggle",26),m.Sb(19,"mat-datepicker",null,27),m.Wb(),m.Rc(21,mn,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(22,"div",28),m.Xb(23,"div",18),m.Xb(24,"div",19),m.Xb(25,"mat-form-field",20),m.Xb(26,"mat-label"),m.Tc(27,"Total Income"),m.Wb(),m.Xb(28,"input",29),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(29,"div",24),m.Xb(30,"div",19),m.Xb(31,"mat-form-field",20),m.Xb(32,"mat-label"),m.Tc(33,"Total Expenses"),m.Wb(),m.Xb(34,"input",30),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(35,"div"),m.Xb(36,"mat-card-title"),m.Xb(37,"fieldset",31),m.Xb(38,"legend",7),m.Tc(39,"Basic Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(40,"div",28),m.Xb(41,"div",18),m.Xb(42,"div",19),m.Xb(43,"mat-form-field",20),m.Xb(44,"mat-label"),m.Tc(45,"Employment Type"),m.Wb(),m.Xb(46,"mat-select",32),m.Rc(47,dn,2,2,"mat-option",33),m.Wb(),m.Rc(48,pn,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(49,"div",24),m.Xb(50,"div",19),m.Xb(51,"mat-form-field",20),m.Xb(52,"mat-label"),m.Tc(53,"Employment Category* "),m.Wb(),m.Xb(54,"mat-select",34),m.Rc(55,fn,2,2,"mat-option",33),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(56,"div",18),m.Xb(57,"div",19),m.Xb(58,"mat-form-field",20),m.Xb(59,"mat-label"),m.Tc(60,"Employee Number"),m.Wb(),m.Xb(61,"input",35),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(62,"div",24),m.Xb(63,"div",19),m.Xb(64,"mat-form-field",20),m.Xb(65,"mat-label"),m.Tc(66,"Designation "),m.Wb(),m.Xb(67,"input",36),m.fc("keypress",function(e){return m.Hc(n),m.jc(2).letterOnly(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(68,"div",18),m.Xb(69,"div",19),m.Xb(70,"mat-form-field",20),m.Xb(71,"mat-label"),m.Tc(72,"Employment Start Date"),m.Wb(),m.Sb(73,"input",37),m.Sb(74,"mat-datepicker-toggle",26),m.Sb(75,"mat-datepicker",null,38),m.Wb(),m.Wb(),m.Wb(),m.Xb(77,"div",24),m.Xb(78,"div",19),m.Xb(79,"mat-form-field",20),m.Xb(80,"mat-label"),m.Tc(81,"Employment End Date"),m.Wb(),m.Sb(82,"input",39),m.Sb(83,"mat-datepicker-toggle",26),m.Sb(84,"mat-datepicker",null,40),m.Wb(),m.Wb(),m.Wb(),m.Xb(86,"div",18),m.Xb(87,"div",19),m.Xb(88,"mat-form-field",20),m.Xb(89,"mat-label"),m.Tc(90,"Office Name"),m.Wb(),m.Xb(91,"input",41),m.fc("keypress",function(e){return m.Hc(n),m.jc(2).letterOnly(e)}),m.Wb(),m.Rc(92,gn,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(93,"div"),m.Xb(94,"div"),m.Xb(95,"mat-card-title"),m.Xb(96,"fieldset",31),m.Xb(97,"legend",7),m.Tc(98,"Monthly Income"),m.Wb(),m.Wb(),m.Wb(),m.Xb(99,"div",42),m.Tc(100),m.Wb(),m.Wb(),m.Xb(101,"div",28),m.Xb(102,"div",18),m.Xb(103,"div",19),m.Xb(104,"mat-form-field",20),m.Xb(105,"mat-label"),m.Tc(106,"Bonus"),m.Wb(),m.Xb(107,"input",43),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(108,"div",24),m.Xb(109,"div",19),m.Xb(110,"mat-form-field",20),m.Xb(111,"mat-label"),m.Tc(112,"Business"),m.Wb(),m.Xb(113,"input",44),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(114,"div",18),m.Xb(115,"div",19),m.Xb(116,"mat-form-field",20),m.Xb(117,"mat-label"),m.Tc(118,"Interest Income"),m.Wb(),m.Xb(119,"input",45),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(120,"div",24),m.Xb(121,"div",19),m.Xb(122,"mat-form-field",20),m.Xb(123,"mat-label"),m.Tc(124,"Pension"),m.Wb(),m.Xb(125,"input",46),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(126,"div",18),m.Xb(127,"div",19),m.Xb(128,"mat-form-field",20),m.Xb(129,"mat-label"),m.Tc(130,"Salary"),m.Wb(),m.Xb(131,"input",47),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(132,"div",24),m.Xb(133,"div",19),m.Xb(134,"mat-form-field",20),m.Xb(135,"mat-label"),m.Tc(136,"Rentals"),m.Wb(),m.Xb(137,"input",48),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(138,"div",18),m.Xb(139,"div",19),m.Xb(140,"mat-form-field",20),m.Xb(141,"mat-label"),m.Tc(142,"Cash Gifts"),m.Wb(),m.Xb(143,"input",49),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(144,"div",24),m.Xb(145,"div",19),m.Xb(146,"mat-form-field",20),m.Xb(147,"mat-label"),m.Tc(148,"Others"),m.Wb(),m.Xb(149,"input",50),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(150,"div",18),m.Xb(151,"div",19),m.Xb(152,"mat-form-field",20),m.Xb(153,"mat-label"),m.Tc(154,"Total"),m.Wb(),m.Sb(155,"input",51),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(156,"div"),m.Xb(157,"mat-card-title"),m.Xb(158,"fieldset",31),m.Xb(159,"legend",7),m.Tc(160,"Monthly Expenses"),m.Wb(),m.Wb(),m.Wb(),m.Sb(161,"div",52),m.Xb(162,"div"),m.Xb(163,"div",42),m.Tc(164),m.Wb(),m.Wb(),m.Xb(165,"div",28),m.Xb(166,"div",18),m.Xb(167,"div",19),m.Xb(168,"mat-form-field",20),m.Xb(169,"mat-label"),m.Tc(170,"Household"),m.Wb(),m.Xb(171,"input",53),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(172,"div",24),m.Xb(173,"div",19),m.Xb(174,"mat-form-field",20),m.Xb(175,"mat-label"),m.Tc(176,"Medical"),m.Wb(),m.Xb(177,"input",54),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(178,"div",18),m.Xb(179,"div",19),m.Xb(180,"mat-form-field",20),m.Xb(181,"mat-label"),m.Tc(182,"Education"),m.Wb(),m.Xb(183,"input",55),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(184,"div",24),m.Xb(185,"div",19),m.Xb(186,"mat-form-field",20),m.Xb(187,"mat-label"),m.Tc(188,"Travel"),m.Wb(),m.Xb(189,"input",56),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(190,"div",18),m.Xb(191,"div",19),m.Xb(192,"mat-form-field",20),m.Xb(193,"mat-label"),m.Tc(194,"Vehicle Maintenance"),m.Wb(),m.Xb(195,"input",57),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(196,"div",24),m.Xb(197,"div",19),m.Xb(198,"mat-form-field",20),m.Xb(199,"mat-label"),m.Tc(200,"Rentals"),m.Wb(),m.Xb(201,"input",58),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(202,"div",18),m.Xb(203,"div",19),m.Xb(204,"mat-form-field",20),m.Xb(205,"mat-label"),m.Tc(206,"Others"),m.Wb(),m.Xb(207,"input",59),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(208,"div",28),m.Xb(209,"div",18),m.Xb(210,"div",19),m.Xb(211,"mat-form-field",20),m.Xb(212,"mat-label"),m.Tc(213,"Total"),m.Wb(),m.Sb(214,"input",60),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(215,"div"),m.Xb(216,"mat-card-title"),m.Xb(217,"fieldset",31),m.Xb(218,"legend",7),m.Tc(219,"Liabilitiess"),m.Wb(),m.Wb(),m.Wb(),m.Xb(220,"div"),m.Xb(221,"div",42),m.Tc(222),m.Wb(),m.Wb(),m.Xb(223,"div",28),m.Xb(224,"div",18),m.Xb(225,"div",19),m.Xb(226,"mat-form-field",20),m.Xb(227,"mat-label"),m.Tc(228,"Property Loans"),m.Wb(),m.Xb(229,"input",61),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(230,"div",24),m.Xb(231,"div",19),m.Xb(232,"mat-form-field",20),m.Xb(233,"mat-label"),m.Tc(234,"Vehicle Loans"),m.Wb(),m.Xb(235,"input",62),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(236,"div",18),m.Xb(237,"div",19),m.Xb(238,"mat-form-field",20),m.Xb(239,"mat-label"),m.Tc(240,"Personal Loans"),m.Wb(),m.Xb(241,"input",63),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(242,"div",24),m.Xb(243,"div",19),m.Xb(244,"mat-form-field",20),m.Xb(245,"mat-label"),m.Tc(246,"Cards outstandings"),m.Wb(),m.Xb(247,"input",64),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(248,"div",18),m.Xb(249,"div",19),m.Xb(250,"mat-form-field",20),m.Xb(251,"mat-label"),m.Tc(252,"Overdrafts"),m.Wb(),m.Xb(253,"input",65),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(254,"div",24),m.Xb(255,"div",19),m.Xb(256,"mat-form-field",20),m.Xb(257,"mat-label"),m.Tc(258,"Others"),m.Wb(),m.Xb(259,"input",66),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(260,"div",28),m.Xb(261,"div",18),m.Xb(262,"div",19),m.Xb(263,"mat-form-field",20),m.Xb(264,"mat-label"),m.Tc(265,"Total"),m.Wb(),m.Sb(266,"input",67),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(267,"div"),m.Xb(268,"mat-card-title"),m.Xb(269,"fieldset",31),m.Xb(270,"legend",7),m.Tc(271,"Asset"),m.Wb(),m.Wb(),m.Wb(),m.Xb(272,"div"),m.Xb(273,"div",42),m.Tc(274),m.Wb(),m.Wb(),m.Xb(275,"div",28),m.Xb(276,"div",18),m.Xb(277,"div",19),m.Xb(278,"mat-form-field",20),m.Xb(279,"mat-label"),m.Tc(280,"Savings Deposits"),m.Wb(),m.Xb(281,"input",68),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(282,"div",24),m.Xb(283,"div",19),m.Xb(284,"mat-form-field",20),m.Xb(285,"mat-label"),m.Tc(286,"Stocks/Funds"),m.Wb(),m.Xb(287,"input",69),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(288,"div",18),m.Xb(289,"div",19),m.Xb(290,"mat-form-field",20),m.Xb(291,"mat-label"),m.Tc(292,"Properties"),m.Wb(),m.Xb(293,"input",70),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(294,"div",24),m.Xb(295,"div",19),m.Xb(296,"mat-form-field",20),m.Xb(297,"mat-label"),m.Tc(298,"Automobiles"),m.Wb(),m.Xb(299,"input",71),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(300,"div",18),m.Xb(301,"div",19),m.Xb(302,"mat-form-field",20),m.Xb(303,"mat-label"),m.Tc(304,"Fixed Deposits"),m.Wb(),m.Xb(305,"input",72),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(306,"div",24),m.Xb(307,"div",19),m.Xb(308,"mat-form-field",20),m.Xb(309,"mat-label"),m.Tc(310,"Lands"),m.Wb(),m.Xb(311,"input",73),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(312,"div",18),m.Xb(313,"div",19),m.Xb(314,"mat-form-field",20),m.Xb(315,"mat-label"),m.Tc(316,"Others"),m.Wb(),m.Xb(317,"input",74),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(318,"div",28),m.Xb(319,"div",18),m.Xb(320,"div",19),m.Xb(321,"mat-form-field",20),m.Xb(322,"mat-label"),m.Tc(323,"Total"),m.Wb(),m.Sb(324,"input",75),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=t.$implicit,o=t.index,i=m.Dc(20),r=m.Dc(76),c=m.Dc(85),s=m.jc(2);m.Eb(1),m.rc("formGroupName",o),m.Eb(9),m.rc("ngIf",s.isExistingCustomer),m.Eb(1),m.rc("ngIf",!a.controls.applicantName.valid&&a.controls.applicantName.touched),m.Eb(6),m.rc("matDatepicker",i)("max",s.lastData),m.Eb(1),m.rc("for",i),m.Eb(3),m.rc("ngIf",!a.controls.lastUpdatedon.valid&&a.controls.lastUpdatedon.touched),m.Eb(26),m.rc("ngForOf",s.arrayEmploymentType),m.Eb(1),m.rc("ngIf",!a.controls.employmentType.valid&&a.controls.employmentType.touched),m.Eb(6),m.rc("required","Salaried"==a.controls.employmentType),m.Eb(1),m.rc("ngForOf",s.arrayEmploymentCategory),m.Eb(6),m.rc("required","Salaried"==a.controls.employmentType.value),m.Eb(6),m.rc("required","Salaried"==a.controls.employmentType.value),m.Eb(6),m.rc("matDatepicker",r)("max",s.maxDate),m.Eb(1),m.rc("for",r),m.Eb(8),m.rc("matDatepicker",c)("min",a.get("employmentStartDate").value)("max",s.maxDate),m.Eb(1),m.rc("for",c),m.Eb(8),m.rc("required","Salaried"==a.controls.employmentType.value),m.Eb(1),m.rc("ngIf",!a.controls.officeName.valid&&a.controls.officeName.touched),m.Eb(8),m.Vc("\xa0\xa0",s.incomeErrMsg,""),m.Eb(64),m.Vc("\xa0\xa0",s.ExpensesErrMsg,""),m.Eb(58),m.Vc("\xa0\xa0",s.LiabilitiesErrMsg,""),m.Eb(52),m.Vc("\xa0\xa0",s.assetErrMsg,"")}}function vn(e,t){if(1&e&&(m.Xb(0,"form",12),m.Xb(1,"div",13),m.Rc(2,hn,325,26,"div",14),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.financialDetailsForm),m.Eb(2),m.rc("ngForOf",n.financialDetailsForm.get("financialDetails_array").controls)}}var yn,Wn=((yn=function(){function e(t,n,o,i,r,c,s,l,b,u){a(this,e),this.fb=t,this.ls=n,this.loader=o,this.apiService=i,this.router=r,this.snack=c,this.datepipe=s,this.accountService=l,this.appApiService=b,this.cdr=u,this.loanaccountID=0,this.showEditOption=!1,this.financialDetails=[],this.isMonthlyIncome=!0,this.disableNext=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.applicantName=this.ls.getItem("primaryCustomerName"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.loggedInUser=String(this.ls.getItem("userName")),this.noOfApplicants=this.ls.getItem("LoanNoOfApplicants"),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category");var t=JSON.parse(this.ls.getItem("FINANCIAL_DETAIL_DONE"));this.financialDetailsForm=this.fb.group({financialDetails_array:this.fb.array([])}),1!=this.noOfApplicants&&2!=this.noOfApplicants||this.addApplicant(),setTimeout(function(){e.loanaccountID&&t?(e.showEditOption=!0,e.getFinancialDetails()):e.showEditOption=!1},10),this.fetchByCif(),this.lastUpdateByCif()}},{key:"createFinancialDetail",value:function(e){var t=this;return this.fb.group({applicantName:[e?e.applicantName:this.ls.getItem("primaryCustomerName"),$.A.required],applicantTotalIncome:[e?e.applicantTotalIncome:""],applicantTotalExpense:[e?e.applicantTotalExpense:""],lastUpdatedon:[e?e.lastUpdatedon:"",$.A.compose([$.A.required,$.A.min(this.lastData)])],employmentStartDate:[e?new Date(e.employmentStartDate).toISOString().substring(0,10):""],employmentEndDate:[e?e.employmentEndDate:""],assetTotal:[e?e.assetTotal:""],liabilityTotal:[e?e.liabilityTotal:""],employmentType:[e?e.employmentType:"",$.A.required],employmentCategory:[e?e.employmentCategory:""],employeeNumber:[e?e.employeeNumber:""],officeName:[e?e.officeName:""],designation:[e?e.designation:""],bonus:[e?e.bonus:""],business:[e?e.business:""],interestIncome:[e?e.interestIncome:""],pension:[e?e.pension:""],salary:[e?e.salary:""],monthlyExpenseRentals:[e?e.monthlyExpenseRentals:""],monthlyExpenseTotal:[e?e.monthlyExpenseTotal:""],cashGifts:[e?e.cashGifts:""],assetOthers:[e?e.assetOthers:""],liabilityOthers:[e?e.liabilityOthers:""],monthlyExpenseOthers:[e?e.monthlyExpenseOthers:""],monthlyIncomeOthers:[e?e.monthlyIncomeOthers:""],monthlyIncomeRentals:[e?e.monthlyIncomeRentals:""],monthlyIncomeTotal:[e?e.monthlyIncomeTotal:""],household:[e?e.household:""],medical:[e?e.medical:""],education:[e?e.education:""],travel:[e?e.travel:""],vehicleMaintenance:[e?e.vehicleMaintenance:""],propertyLoan:[e?e.propertyLoan:""],vehicleLoan:[e?e.vehicleLoan:""],personalLoans:[e?e.personalLoans:""],cardOutstandings:[e?e.cardOutstandings:""],overdraft:[e?e.overdraft:""],savingDeposits:[e?e.savingDeposits:""],stocks:[e?e.stocks:""],properties:[e?e.properties:""],automobiles:[e?e.automobiles:""],fixedDeposits:[e?e.fixedDeposits:""],lands:[e?e.lands:""]},{validator:function(e){return t.validateInputGroups(e)}})}},{key:"validateInputGroups",value:function(e){e.controls.salary.value||e.controls.interestIncome.value||e.controls.bonus.value||e.controls.cashGifts.value||e.controls.business.value||e.controls.pension.value||e.controls.monthlyIncomeRentals.value||e.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),e.controls.household.value||e.controls.education.value||e.controls.vehicleMaintenance.value||e.controls.monthlyExpenseRentals.value||e.controls.monthlyExpenseOthers.value||e.controls.medical.value||e.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),e.controls.propertyLoan.value||e.controls.vehicleLoan.value||e.controls.personalLoans.value||e.controls.overdraft.value||e.controls.cardOutstandings.value||e.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),e.controls.savingDeposits.value||e.controls.properties.value||e.controls.automobiles.value||e.controls.fixedDeposits.value||e.controls.lands.value||e.controls.assetOthers.value||e.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}},{key:"addApplicant",value:function(){this.financialDetails_array=this.financialDetailsForm.get("financialDetails_array"),this.financialDetails_array.push(this.createFinancialDetail())}},{key:"getFinancialDetails",value:function(){var e=this;this.loader.open(),this.apiService.getFinancialDetailsByLoanAccId(this.loanaccountID).subscribe(function(t){e.loader.close();for(var n=0;n<t.length;n++)e.financialDetails_array.patchValue(t),console.log(t[0].employmentStartDate)},function(t){e.loader.close()})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/mandate-details"])}},{key:"submitForm",value:function(){var e=this,t=[];this.financialDetails_array=this.financialDetailsForm.get("financialDetails_array"),t=this.financialDetails_array.value;for(var n=0;n<this.financialDetails_array.length;n++)t[n].lastUpdatedon=this.datepipe.transform(t[n].lastUpdatedon,"yyyy-MM-dd"),t[n].employmentStartDate=this.datepipe.transform(t[n].employmentStartDate,"yyyy-MMM-dd"),t[n].employmentEndDate=this.datepipe.transform(t[n].employmentEndDate,"yyyy-MMM-dd"),t[n].accountId=this.accountId,t[n].loanAccountId=this.loanaccountID,t[n].loggedInUser=this.loggedInUser,t[n].accountType="loan";this.apiService.upsertfinancialDetailsLoan(t).subscribe(function(t){console.log("data",t),null!=t&&(e.snack.open("Financial Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next())})}},{key:"next",value:function(){this.ls.setItem("FINANCIAL_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/collateral_details"])}},{key:"getEmploymentType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){console.log(e),t.arrayEmploymentType=e})}},{key:"getEmploymentCategory",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayEmploymentCategory=e})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"calculateTotalMonthlyIncome",value:function(e){var t=Number(e.financialDetails_array[0].salary)+Number(e.financialDetails_array[0].business)+Number(e.financialDetails_array[0].interestIncome)+Number(e.financialDetails_array[0].pension)+Number(e.financialDetails_array[0].bonus)+Number(e.financialDetails_array[0].monthlyIncomeOthers)+Number(e.financialDetails_array[0].monthlyIncomeRentals)+Number(e.financialDetails_array[0].cashGifts),n=this.financialDetailsForm.get("financialDetails_array");n.controls[0].get("monthlyIncomeTotal").setValue(t),this.totalMonthlyIncome=t,this.totalIncome=12*t+this.totalAsset,n.controls[0].get("applicantTotalIncome").setValue(this.totalIncome)}},{key:"calculateMonthlyExpenseTotal",value:function(e){var t=Number(e.financialDetails_array[0].household)+Number(e.financialDetails_array[0].medical)+Number(e.financialDetails_array[0].education)+Number(e.financialDetails_array[0].travel)+Number(e.financialDetails_array[0].vehicleMaintenance)+Number(e.financialDetails_array[0].monthlyExpenseRentals)+Number(e.financialDetails_array[0].monthlyExpenseOthers),n=this.financialDetailsForm.get("financialDetails_array");n.controls[0].get("monthlyExpenseTotal").setValue(t),this.totalMonthlyExpense=t,this.totalExpenses=12*t+this.totalLiability,n.controls[0].get("applicantTotalExpense").setValue(this.totalExpenses)}},{key:"calculateLiabilityTotal",value:function(e){var t=Number(e.financialDetails_array[0].propertyLoan)+Number(e.financialDetails_array[0].vehicleLoan)+Number(e.financialDetails_array[0].personalLoans)+Number(e.financialDetails_array[0].overdraft)+Number(e.financialDetails_array[0].cardOutstandings)+Number(e.financialDetails_array[0].liabilityOthers),n=this.financialDetailsForm.get("financialDetails_array");n.controls[0].get("liabilityTotal").setValue(t),this.totalMonthlyLiability=t,this.totalExpenses=t+12*this.totalMonthlyExpense,n.controls[0].get("applicantTotalExpense").setValue(this.totalExpenses)}},{key:"calculateAssetTotal",value:function(e){var t=Number(e.financialDetails_array[0].savingDeposits)+Number(e.financialDetails_array[0].stocks)+Number(e.financialDetails_array[0].properties)+Number(e.financialDetails_array[0].automobiles)+Number(e.financialDetails_array[0].fixedDeposits)+Number(e.financialDetails_array[0].lands)+Number(e.financialDetails_array[0].assetOthers),n=this.financialDetailsForm.get("financialDetails_array");n.controls[0].get("assetTotal").setValue(t),this.totalMonthlyAsset=t,this.totalIncome=t+12*this.totalMonthlyIncome,n.controls[0].get("applicantTotalIncome").setValue(this.totalIncome)}},{key:"fetchByCif",value:function(){var e=this;this.cifNumber=this.ls.getItem("cId"),this.appApiService.fetchByCif(this.cifNumber).subscribe(function(t){e.financialDetailsForm.get("financialDetails_array").controls[0].get("applicantName").setValue(t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName)},function(e){console.error(e)})}},{key:"lastUpdateByCif",value:function(){var e=this;this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(t){e.lastData=e.datepipe.transform(t.applicationDate,"yyyy-MM-dd")},function(e){console.error(e)})}}]),e}()).\u0275fac=function(e){return new(e||yn)(m.Rb($.f),m.Rb(W.a),m.Rb(Pe.a),m.Rb(x.b),m.Rb(d.h),m.Rb(A.a),m.Rb(u.f),m.Rb(ue.a),m.Rb(ln.a),m.Rb(m.h))},yn.\u0275cmp=m.Lb({type:yn,selectors:[["app-financial-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_2.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["type","button","mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],[1,"full-width"],["class","full-width","formArrayName","financialDetails_array",4,"ngFor","ngForOf"],["formArrayName","financialDetails_array",1,"full-width"],[1,"full-width","pt-16",3,"formGroupName"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"pt-16"],["fxFlex","50%","fxFlex.xs","100%"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName","required","",3,"keypress"],["matInput","","class","alignment","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",4,"ngIf"],[4,"ngIf"],["fxFlex","50%","fxFlex.xs","100%",1,"p-2"],["matInput","","name","lastUpdatedon","formControlName","lastUpdatedon","placeholder","DD/MM/YYYY","readonly","","required","",1,"alignment",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerUpdatedDate",""],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"full-width"],["matInput","","name","applicantTotalIncome","formControlName","applicantTotalIncome",3,"keypress"],["matInput","","name","applicantTotalExpense","formControlName","applicantTotalExpense",3,"keypress"],[1,"alignChange"],["name","employmentType","formControlName","employmentType","required","","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["name","employmentCategory","formControlName","employmentCategory","disableOptionCentering","",3,"required"],["matInput","","name","employeeNumber","formControlName","employeeNumber","maxlength","5",3,"required","keypress"],["matInput","","name","designation","formControlName","designation",3,"required","keypress"],["matInput","","name","employmentStartDate","formControlName","employmentStartDate","placeholder","DD/MM/YYYY","readonly","",1,"alignment",3,"matDatepicker","max"],["pickerStartDate",""],["matInput","","name","employmentEndDate","formControlName","employmentEndDate","placeholder","DD/MM/YYYY","readonly","",1,"alignment",3,"matDatepicker","min","max"],["pickerEndDate",""],["matInput","","name","officeName","formControlName","officeName",3,"required","keypress"],[1,"ErrMsg"],["matInput","","name","bonus","formControlName","bonus",3,"keypress","input"],["matInput","","name","business","formControlName","business",3,"keypress","input"],["matInput","","name","interestIncome","formControlName","interestIncome",3,"keypress","input"],["matInput","","name","pension","formControlName","pension",3,"keypress","input"],["matInput","","name","salary","formControlName","salary",3,"keypress","input"],["matInput","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals",3,"keypress","input"],["matInput","","name","cashGifts","formControlName","cashGifts",3,"keypress","input"],["matInput","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers",3,"keypress","input"],["matInput","","type","number","name","monthlyIncomeTotal","formControlName","monthlyIncomeTotal","readonly",""],["fxLayout","row wrap",1,"full-width"],["matInput","","name","household","formControlName","household",3,"keypress","input"],["matInput","","name","medical","formControlName","medical",3,"keypress","input"],["matInput","","name","education","formControlName","education",3,"keypress","input"],["matInput","","name","travel","formControlName","travel",3,"keypress","input"],["matInput","","name","vehicleMaintenance","formControlName","vehicleMaintenance",3,"keypress","input"],["matInput","","name","monthlyExpenseRentals","formControlName","monthlyExpenseRentals",3,"keypress","input"],["matInput","","name","monthlyExpenseOthers","formControlName","monthlyExpenseOthers",3,"keypress","input"],["matInput","","type","number","name","monthlyExpenseTotal","formControlName","monthlyExpenseTotal","readonly",""],["matInput","","name","propertyLoan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","name","vehicleLoan","formControlName","vehicleLoan",3,"keypress","input"],["matInput","","name","personalLoans","formControlName","personalLoans",3,"keypress","input"],["matInput","","name","cardOutstandings","formControlName","cardOutstandings",3,"keypress","input"],["matInput","","name","overdraft","formControlName","overdraft",3,"keypress","input"],["matInput","","name","liabilityOthers","formControlName","liabilityOthers",3,"keypress","input"],["matInput","","type","number","name","liabilityTotal","formControlName","liabilityTotal","readonly",""],["matInput","","name","savingDeposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","name","stocks","formControlName","stocks",3,"keypress","input"],["matInput","","name","properties","formControlName","properties",3,"keypress","input"],["matInput","","name","automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","name","fixedDeposits","formControlName","fixedDeposits",3,"keypress","input"],["matInput","","name","lands","formControlName","lands",3,"keypress","input"],["matInput","","name","assetOthers","formControlName","assetOthers",3,"keypress","input"],["matInput","","type","number","name","assetTotal","formControlName","assetTotal","readonly",""],["matInput","","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",1,"alignment"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h1"),m.Tc(7,"Financial Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title"),m.Xb(11,"fieldset"),m.Xb(12,"legend",7),m.Tc(13,"Financial Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,vn,3,2,"form",8),m.Wb(),m.Wb(),m.Xb(16,"div",9),m.Xb(17,"button",10),m.fc("click",function(){return t.goBack()}),m.Tc(18," Back "),m.Wb(),m.Xb(19,"button",11),m.fc("click",function(){return t.submitForm()}),m.Tc(20," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.financialDetailsForm),m.Eb(4),m.rc("disabled",t.incomeErrMsg||t.ExpensesErrMsg||t.LiabilitiesErrMsg||t.assetErrMsg||!t.financialDetailsForm.valid))},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,u.m,$.e,$.k,g.c,g.g,Q.b,$.c,$.r,$.i,$.z,ce.e,ce.g,g.j,ce.d,J.a,$.m,$.w,g.b,Z.n],styles:[".ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}.width[_ngcontent-%COMP%]{width:98%}.dataChange[_ngcontent-%COMP%]{height:53px;margin-left:0!important}input[_ngcontent-%COMP%]{border:none;outline:none}.datechange[_ngcontent-%COMP%]{height:10px}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}"]}),yn),Xn=r("q7Ft"),xn=r("/1WF"),Cn=r("Bp9c"),In=r("UGQK"),An=r("r/oB"),On=function(){return["/loan/account/asset-details"]};function Tn(e,t){if(1&e&&(m.Xb(0,"li",14),m.Xb(1,"a",17),m.Xb(2,"span",16),m.Tc(3,"Asset Details"),m.Wb(),m.Sb(4,"span",11),m.Wb(),m.Wb()),2&e){var n=m.jc();m.Eb(1),m.rc("routerLink",m.wc(2,On))("ngClass",n.isAssetsDetailScreen?"enable":"disable")}}var Dn=function(){return["/loan/account/vehicle-details"]};function kn(e,t){if(1&e&&(m.Xb(0,"li",14),m.Xb(1,"a",17),m.Xb(2,"span",16),m.Tc(3,"Vehicle Details"),m.Wb(),m.Sb(4,"span",11),m.Wb(),m.Wb()),2&e){var n=m.jc();m.Eb(1),m.rc("routerLink",m.wc(2,Dn))("ngClass",n.isVehicleDetailScreen?"enable":"disable")}}var Sn=function(){return["/loan/account/admission-details"]};function _n(e,t){if(1&e&&(m.Xb(0,"li",14),m.Xb(1,"a",17),m.Xb(2,"span",16),m.Tc(3,"Admission Details"),m.Wb(),m.Sb(4,"span",11),m.Wb(),m.Wb()),2&e){var n=m.jc();m.Eb(1),m.rc("routerLink",m.wc(2,Sn))("ngClass",n.isAdmissionDetails?"enable":"disable")}}function Rn(e,t){}var En,Mn=function(){return["/loan/account/list"]},Pn=function(){return["/loan/account/loan-details"]},Nn=function(){return["/loan/account/customer-information"]},wn=function(){return["/loan/account/mandate-details"]},Fn=function(){return["/loan/account/financial-details"]},Ln=function(){return["/loan/account/collateral_details"]},Vn=function(){return["/loan/account/guarantor_details"]},qn=function(){return["/loan/account/application-enrichment"]},jn=function(){return["/loan/account/application-enrichment/intrest-details"]},Bn=function(){return["/loan/account/application-enrichment/loan-disbursement"]},zn=function(){return["/loan/account/application-enrichment/loan-repayment"]},Un=function(){return["/loan/account/application-enrichment/charge-details"]},Hn=function(){return["/loan/account/application-enrichment/account-services"]},Gn=function(){return["/loan/account/list/underwritingStage"]},Yn=function(){return["/loan/account/list/underwritingStage/creditrating"]},$n=function(){return["/loan/account/list/underwritingStage/valuationofassets"]},Qn=function(){return["/loan/account/list/underwritingStage/legalopinion"]},Jn=function(){return["/loan/account/assessment/list"]},Zn=function(){return["/loan/account/assessment/qualitative/"]},Kn=function(){return["/loan/account/assessment/assessment-details/"]},ea=function(){return["/loan/account/supervisor-summary/"]},ta=function(){return["/loan/account/list/offer-issue"]},na=function(){return["/loan/account/list/offer-issue/offerissue"]},aa=function(){return["/loan/account/offerstage/list"]},oa=function(){return["/loan/account/offerstage/offer-accept-reject"]},ia=function(){return["/loan/account/post-offer-amend-stage/list"]},ra=function(){return["/loan/account/post-offer-amendment"]},ca=function(){return["/loan/account/account-creation-stage"]},sa=function(){return["/loan/account/account-creation-stage/account-create-details"]},la=function(){return["/loan/account/digitalsigning/list"]},ba=function(e){return["/loan/account/digitalsigning/list/options",e]},ua=function(){return["/loan/account/digitalsigning/options"]},ma=((En=function(){function e(t,n,o,i,r){a(this,e),this.ls=t,this.api=n,this.router=o,this.cdr=i,this.accountService=r,this.isAssessmentStageDone=!1,this.isChargesScreen=!1,this.isLoanQualitativeScoreboard=!1,this.isLoanAssessmentDetails=!1,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreenDone=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1,this.isAccountApproveStageDone=!1,this.isOfferAcceptRejectStageDone=!1,this.isOfferAcceptReject=!1,this.isLoanSummaryStageDone=!1,this.isSupervisorApprovalDone=!1,this.isApprovedDetails=!1,this.isCreditRatingScreen=!1,this.isValuationAssetScreen=!1,this.islegalOpinionScreen=!1,this.isLoanEnrichmentDone=!1,this.isLoanInterestDetails=!1,this.isLoanDisbursementDetails=!1,this.isLoanRepaymentDetails=!1,this.isChargeDetails=!1,this.isAccountServices=!1,this.isLoanApplicationEntryDone=!1,this.isLoanDetailScreen=!1,this.isAssetsDetailScreen=!1,this.isVehicleDetailScreen=!1,this.isAdmissionDetails=!1,this.isCustomerInformation=!1,this.isMandateDetails=!1,this.isFinancialDetails=!1,this.isCollateralDetails=!1,this.isGuarantorDetails=!1,this.isUnderWritingStageDone=!1,this.isCreditRatingDetails=!1,this.isValuationofAsset=!1,this.isLegalOpinion=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.isEducationLoan=!1,this.isPostOfferAmendStageDone=!1,this.isPostOfferAmendment=!1,this.isAccountCreationStageDone=!1,this.isAccountCreditStage=!1,this.isDigitalSigningDone=!1,this.isDigitalSigning=!1,this.isLoanEnrichment=!1,this.isLoanAssessmentStageScreen=!1,this.isApprovalScreen=!1,this.isSupervisorapprovalScreen=!1,this.isOfferIssueStageScreen=!1,this.isOfferIssueRejectStageScreen=!1,this.isPostAmmendementStageScreen=!1,this.isPostAmmendementScreen=!1,this.isAccountCreateDetailsScreen=!1,this.isAccountCreationStageScreenDone=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.accountItemsSub=this.accountService.accountItems$.subscribe(function(t){e.accountItems=t}),console.log("reset"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.ls.setItem("LOAN_DETAIL_DONE",!0),this.ls.setItem("VEHICLE_DETAIL_DONE",!0),this.ls.setItem("ADMISSION_DETAIL_DONE",!0),this.ls.setItem("CUSTOMERINFO_DETAIL_DONE",!0),this.ls.setItem("ASSET_DETAIL_DONE",!0),this.ls.setItem("MANDATE_DETAIL_DONE",!0),this.ls.setItem("FINANCIAL_DETAIL_DONE",!0),this.ls.setItem("COLLATERAL_DETAIL_DONE",!0),this.ls.setItem("GUARANTOR_DETAIL_DONE",!0),this.ls.setItem("LOAN_ENRICHMENT_DONE",!0),this.ls.setItem("LOAN_INTERST_DETAIL_DONE",!0),this.ls.setItem("LOAN_DISBURSEMENT_DETAIL_DONE",!0),this.ls.setItem("LOAN_REPAYMENT_DETAIL_DONE",!0),this.ls.setItem("LOAN_CHARGE_DETAILS",!0),this.ls.setItem("LOAN_ACCOUNT_SERVICES_DONE",!0),this.ls.setItem("CREDIT_RATING_DONE",!0),this.ls.setItem("VALUATION_OF_ASSET_DONE",!0),this.ls.setItem("LEGAL_OPINION_DONE",!0),this.ls.setItem("underWritingStage",!0),this.ls.setItem("LOAN_QUALITATIVE_SCOREBOARD_DONE",!0),this.ls.setItem("LOAN_ASSESSMENT_DETAILS_DONE",!0),this.ls.setItem("LOAN_ASSESSMENT_STAGE_DONE",!0),this.ls.setItem("APPROVED_DETAILS",!0),this.ls.setItem("SUPERVISOR_APPROVAL_STAGE",!0),this.ls.setItem("assessmentScreen",!0),this.ls.setItem("OfferIssue",!0),this.ls.setItem("legalScreen",!0),this.ls.setItem("valuationAsset",!0),this.ls.setItem("CreditRatingDetails",!0),this.ls.setItem("OfferIssueStageDone",!0),this.ls.setItem("assessmentStage",!0),this.ls.setItem("ASSESSMENT_QA_DONE",!0),this.ls.setItem("assessmentScreen",!0),this.ls.setItem("OfferIssue",!0),this.ls.setItem("OfferIssueRejectScreen",!0),this.ls.setItem("OfferIssueRejectStageScreen",!0),this.ls.setItem("PostOfferAmmendementScreen",!0),this.ls.setItem("PostOfferAmmendementStageScreen",!0),this.ls.setItem("post-offer-amend-stage",!0),this.ls.setItem("ACCOUNT_CREATTION_STAGE_DONE",!0),this.ls.setItem("ACCOUNT_CREATE_DETAILS_DONE",!0),this.ls.setItem("eSignStage",!0));var t=this.ls.getItem("isHomeLoan")||null;console.log("fetch",t),this.overDraftByStatus1=null!=t&&t.isActive,console.log(this.overDraftByStatus1);var n=this.ls.getItem("accountType")||null;console.log("fundStatus::",n),null==t?(this.isVehicleLoan=!1,this.isHomeLoan=!1,this.isEducationLoan=!1):"Home Loan"==n?(this.isVehicleLoan=!1,this.isHomeLoan=!0,this.isEducationLoan=!1):"Vehicle Loan"==n?(this.isHomeLoan=!1,this.isVehicleLoan=!0,this.isEducationLoan=!1):(this.isHomeLoan=!1,this.isVehicleLoan=!1,this.isEducationLoan=!0),this.isAccountApproveStageDone=this.ls.getItem("LOAN_ENRICHMENT_DONE"),this.isAssessmentStageDone=this.ls.getItem("assessment-details"),this.isOfferAcceptRejectStageDone=this.ls.getItem("offer-acceptReject-details"),this.isLoanSummaryStageDone=this.ls.getItem("loan-summary-details"),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isOfferIssueStageScreen=this.ls.getItem("OfferIssueStageDone"),this.isOfferIssueScreen=this.ls.getItem("OfferIssue"),this.isOfferIssueRejectStageScreen=this.ls.getItem("OfferIssueRejectStageScreen"),this.isOfferIssueRejectScreen=this.ls.getItem("OfferIssueRejectScreen"),this.isUnderWritingStageDone=this.ls.getItem("underWritingStage"),this.isCreditRatingDetails=this.ls.getItem("CREDIT_RATING_DONE"),this.isValuationofAsset=this.ls.getItem("VALUATION_OF_ASSET_DONE"),this.isLegalOpinion=this.ls.getItem("LEGAL_OPINION_DONE"),this.isLoanApplicationEntryDone=this.ls.getItem("LoanEntryStage"),this.isLoanDetailScreen=this.ls.getItem("LOAN_DETAIL_DONE"),this.isAssetsDetailScreen=this.ls.getItem("ASSET_DETAIL_DONE"),this.isVehicleDetailScreen=this.ls.getItem("VEHICLE_DETAIL_DONE"),this.isAdmissionDetails=this.ls.getItem("ADMISSION_DETAIL_DONE"),this.isCustomerInformation=this.ls.getItem("CUSTOMERINFO_DETAIL_DONE"),this.isMandateDetails=this.ls.getItem("MANDATE_DETAIL_DONE"),this.isFinancialDetails=this.ls.getItem("FINANCIAL_DETAIL_DONE"),this.isCollateralDetails=this.ls.getItem("COLLATERAL_DETAIL_DONE"),this.isGuarantorDetails=this.ls.getItem("GUARANTOR_DETAIL_DONE"),this.isLoanInterestDetails=this.ls.getItem("LOAN_INTERST_DETAIL_DONE"),this.isLoanDisbursementDetails=this.ls.getItem("LOAN_DISBURSEMENT_DETAIL_DONE"),this.isLoanRepaymentDetails=this.ls.getItem("LOAN_REPAYMENT_DETAIL_DONE"),this.isChargeDetails=this.ls.getItem("LOAN_CHARGE_DETAILS"),this.isAccountServices=this.ls.getItem("LOAN_ACCOUNT_SERVICES_DONE"),this.isLoanEnrichment=this.ls.getItem("LOAN_ENRICHMENT_DONE"),this.islegalOpinionScreen=this.ls.getItem("legalScreen"),this.isValuationAssetScreen=this.ls.getItem("valuationAsset"),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isCreditRatingScreen=this.ls.getItem("CreditRatingDetails"),this.isLoanQualitativeScoreboard=this.ls.getItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),this.isLoanAssessmentDetails=this.ls.getItem("LOAN_ASSESSMENT_DETAILS_DONE"),this.isLoanAssessmentStageScreen=this.ls.getItem("LOAN_ASSESSMENT_STAGE_DONE"),this.isSupervisorapprovalScreen=this.ls.getItem("SUPERVISOR_APPROVAL_STAGE"),this.isApprovalScreen=this.ls.getItem("APPROVED_DETAILS"),this.isPostAmmendementStageScreen=this.ls.getItem("PostOfferAmmendementStageScreen"),this.isPostAmmendementScreen=this.ls.getItem("PostOfferAmmendementScreen"),this.isAccountCreationStageScreenDone=this.ls.getItem("ACCOUNT_CREATTION_STAGE_DONE"),this.isAccountCreateDetailsScreen=this.ls.getItem("ACCOUNT_CREATE_DETAILS_DONE"),this.accountService.refresh.subscribe(function(t){e.loanaccountID=e.ls.getItem("loanAccountId"),e.isAccountApproveStageDone=e.ls.getItem("LOAN_ENRICHMENT_DONE");var n=e.ls.getItem("accountType")||null;console.log("fundStatus::",n),"Home Loan"==n?(e.isVehicleLoan=!1,e.isHomeLoan=!0,e.isEducationLoan=!1):"Vehicle Loan"==n?(e.isHomeLoan=!1,e.isVehicleLoan=!0,e.isEducationLoan=!1):(e.isHomeLoan=!1,e.isVehicleLoan=!1,e.isEducationLoan=!0),e.isAssessmentStageDone=e.ls.getItem("assessment-details"),e.isOfferAcceptRejectStageDone=e.ls.getItem("offer-acceptReject-details"),e.isLoanSummaryStageDone=e.ls.getItem("loan-summary-details"),e.isAssesmentDetailsScreen=e.ls.getItem("assessmentScreen"),e.isOfferIssueStageScreen=e.ls.getItem("OfferIssueStageDone"),e.isOfferIssueScreen=e.ls.getItem("OfferIssue"),e.isOfferIssueRejectStageScreen=e.ls.getItem("OfferIssueRejectStageScreen"),e.isOfferIssueRejectScreen=e.ls.getItem("OfferIssueRejectScreen"),e.isLoanEnrichment=e.ls.getItem("LOAN_ENRICHMENT_DONE"),e.isUnderWritingStageDone=e.ls.getItem("underWritingStage"),e.isCreditRatingDetails=e.ls.getItem("CREDIT_RATING_DONE"),e.isValuationofAsset=e.ls.getItem("VALUATION_OF_ASSET_DONE"),e.isLegalOpinion=e.ls.getItem("LEGAL_OPINION_DONE"),e.isLoanApplicationEntryDone=e.ls.getItem("LoanEntryStage"),e.isLoanDetailScreen=e.ls.getItem("LOAN_DETAIL_DONE"),e.isAssetsDetailScreen=e.ls.getItem("ASSET_DETAIL_DONE"),e.isVehicleDetailScreen=e.ls.getItem("VEHICLE_DETAIL_DONE"),e.isAdmissionDetails=e.ls.getItem("ADMISSION_DETAIL_DONE"),e.isCustomerInformation=e.ls.getItem("CUSTOMERINFO_DETAIL_DONE"),e.isMandateDetails=e.ls.getItem("MANDATE_DETAIL_DONE"),e.isFinancialDetails=e.ls.getItem("FINANCIAL_DETAIL_DONE"),e.isCollateralDetails=e.ls.getItem("COLLATERAL_DETAIL_DONE"),e.isGuarantorDetails=e.ls.getItem("GUARANTOR_DETAIL_DONE"),e.isLoanInterestDetails=e.ls.getItem("LOAN_INTERST_DETAIL_DONE"),e.isLoanDisbursementDetails=e.ls.getItem("LOAN_DISBURSEMENT_DETAIL_DONE"),e.isLoanRepaymentDetails=e.ls.getItem("LOAN_REPAYMENT_DETAIL_DONE"),e.isChargeDetails=e.ls.getItem("LOAN_CHARGE_DETAILS"),e.isAccountServices=e.ls.getItem("LOAN_ACCOUNT_SERVICES_DONE"),e.islegalOpinionScreen=e.ls.getItem("legalScreen"),e.isValuationAssetScreen=e.ls.getItem("valuationAsset"),e.isAssesmentDetailsScreen=e.ls.getItem("assessmentScreen"),e.isCreditRatingScreen=e.ls.getItem("CreditRatingDetails"),e.isLoanQualitativeScoreboard=e.ls.getItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),e.isLoanAssessmentDetails=e.ls.getItem("LOAN_ASSESSMENT_DETAILS_DONE"),e.isLoanAssessmentStageScreen=e.ls.getItem("LOAN_ASSESSMENT_STAGE_DONE"),e.isSupervisorapprovalScreen=e.ls.getItem("SUPERVISOR_APPROVAL_STAGE"),e.isApprovalScreen=e.ls.getItem("APPROVED_DETAILS"),e.isPostAmmendementStageScreen=e.ls.getItem("PostOfferAmmendementStageScreen"),e.isPostAmmendementScreen=e.ls.getItem("PostOfferAmmendementScreen"),e.isAccountCreationStageScreenDone=e.ls.getItem("ACCOUNT_CREATTION_STAGE_DONE"),e.isAccountCreateDetailsScreen=e.ls.getItem("ACCOUNT_CREATE_DETAILS_DONE")})}},{key:"goApproved",value:function(){this.api.sendApprovedStatus(!0),this.router.navigate(["/loan/account/supervisor-approveddetails"])}},{key:"ngOnDestroy",value:function(){this.accountItemsSub&&this.accountItemsSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||En)(m.Rb(W.a),m.Rb(x.b),m.Rb(d.h),m.Rb(m.h),m.Rb(ue.a))},En.\u0275cmp=m.Lb({type:En,selectors:[["app-loan-account"]],decls:290,vars:113,consts:[[1,"m-333"],[1,"topSection"],["EgretSideNavToggle","",1,"app-sidebar",2,"width","300px"],[1,"sidenav-header"],[1,"sidenav-hold"],["appDropdown","",1,"sidenav","mt-32"],["appDropdownLink","","routerLinkActive","open"],[1,"lvl1"],["appDropdownToggle","",3,"ngClass"],[1,"sidenav-mat-icon",3,"ngClass"],[1,"item-name","lvl1"],["fxFlex",""],[1,"menu-caret"],["appDropdown","",1,"lvl2",2,"margin-right","8px"],["routerLinkActive","open"],[1,"side-menu",2,"margin-left","9px","margin-top","5px","height","30px","margin-bottom","15px",3,"routerLink"],[1,"item-name","lvl2",2,"margin-left","10px"],[1,"side-menu",2,"margin-left","9px","margin-top","5px","height","30px","margin-bottom","15px",3,"routerLink","ngClass"],["routerLinkActive","open",4,"ngIf","ngIfElse"],["hideNav",""],[1,"side-menu",2,"margin-left","9px","margin-top","5px","height","30px","margin-bottom","15px",3,"ngClass","routerLink"],[1,"side-menu",2,"margin-left","9px","margin-top","5px","height","30px","margin-bottom","15px",3,"ngClass","click"],["fxLayout","row","fxLayoutWrap","wrap",1,"app-wrap"],[1,"full-width","mt-32"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"mat-sidenav-container",1),m.Xb(2,"mat-sidenav",2),m.Xb(3,"span",3),m.Tc(4,"Home > Create Loan Account"),m.Wb(),m.Xb(5,"div",4),m.Xb(6,"ul",5),m.Xb(7,"li",6),m.Xb(8,"div",7),m.Xb(9,"a",8),m.Xb(10,"mat-icon",9),m.Tc(11,"account_balance_wallet"),m.Wb(),m.Xb(12,"span",10),m.Tc(13,"Application Entry Stage"),m.Wb(),m.Sb(14,"span",11),m.Xb(15,"mat-icon",12),m.Tc(16,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(17,"ul",13),m.Xb(18,"li",14),m.Xb(19,"a",15),m.Xb(20,"span",16),m.Tc(21,"Summary"),m.Wb(),m.Sb(22,"span",11),m.Wb(),m.Wb(),m.Xb(23,"li",14),m.Xb(24,"a",17),m.Xb(25,"span",16),m.Tc(26,"Loan Details"),m.Wb(),m.Sb(27,"span",11),m.Wb(),m.Wb(),m.Rc(28,Tn,5,3,"li",18),m.Rc(29,kn,5,3,"li",18),m.Rc(30,_n,5,3,"li",18),m.Xb(31,"li",14),m.Xb(32,"a",17),m.Xb(33,"span",16),m.Tc(34,"Customer Information"),m.Wb(),m.Sb(35,"span",11),m.Wb(),m.Wb(),m.Xb(36,"li",14),m.Xb(37,"a",17),m.Xb(38,"span",16),m.Tc(39,"Mandate Details"),m.Wb(),m.Sb(40,"span",11),m.Wb(),m.Wb(),m.Xb(41,"li",14),m.Xb(42,"a",17),m.Xb(43,"span",16),m.Tc(44,"Financial Details"),m.Wb(),m.Sb(45,"span",11),m.Wb(),m.Wb(),m.Xb(46,"li",14),m.Xb(47,"a",17),m.Xb(48,"span",16),m.Tc(49,"Collateral Details"),m.Wb(),m.Sb(50,"span",11),m.Wb(),m.Wb(),m.Xb(51,"li",14),m.Xb(52,"a",17),m.Xb(53,"span",16),m.Tc(54,"Guarantor Details"),m.Wb(),m.Sb(55,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Rc(56,Rn,0,0,"ng-template",null,19,m.Sc),m.Xb(58,"li",6),m.Xb(59,"div",7),m.Xb(60,"a",8),m.Xb(61,"mat-icon",9),m.Tc(62,"style"),m.Wb(),m.Xb(63,"span",10),m.Tc(64,"Application Enrichment"),m.Wb(),m.Sb(65,"span",11),m.Xb(66,"mat-icon",12),m.Tc(67,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(68,"ul",13),m.Xb(69,"li",14),m.Xb(70,"a",15),m.Xb(71,"span",16),m.Tc(72,"Summary"),m.Wb(),m.Sb(73,"span",11),m.Wb(),m.Wb(),m.Xb(74,"li",14),m.Xb(75,"a",20),m.Xb(76,"span",16),m.Tc(77,"Loan Interest Details"),m.Wb(),m.Sb(78,"span",11),m.Wb(),m.Wb(),m.Xb(79,"li",14),m.Xb(80,"a",20),m.Xb(81,"span",16),m.Tc(82,"Loan Disbursement Details"),m.Wb(),m.Sb(83,"span",11),m.Wb(),m.Wb(),m.Xb(84,"li",14),m.Xb(85,"a",20),m.Xb(86,"span",16),m.Tc(87,"Loan Repayment Details"),m.Wb(),m.Sb(88,"span",11),m.Wb(),m.Wb(),m.Xb(89,"li",14),m.Xb(90,"a",20),m.Xb(91,"span",16),m.Tc(92,"Charge Details"),m.Wb(),m.Sb(93,"span",11),m.Wb(),m.Wb(),m.Xb(94,"li",14),m.Xb(95,"a",20),m.Xb(96,"span",16),m.Tc(97,"Account Services"),m.Wb(),m.Sb(98,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(99,"li",6),m.Xb(100,"div",7),m.Xb(101,"a",8),m.Xb(102,"mat-icon",9),m.Tc(103,"create"),m.Wb(),m.Xb(104,"span",10),m.Tc(105,"Underwriting Stage"),m.Wb(),m.Sb(106,"span",11),m.Xb(107,"mat-icon",12),m.Tc(108,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(109,"ul",13),m.Xb(110,"li",14),m.Xb(111,"a",15),m.Xb(112,"span",16),m.Tc(113,"Summary"),m.Wb(),m.Sb(114,"span",11),m.Wb(),m.Wb(),m.Xb(115,"li",14),m.Xb(116,"a",20),m.Xb(117,"span",16),m.Tc(118,"Credit Score Details"),m.Wb(),m.Sb(119,"span",11),m.Wb(),m.Wb(),m.Xb(120,"li",14),m.Xb(121,"a",20),m.Xb(122,"span",16),m.Tc(123,"Valuation of Asset"),m.Wb(),m.Sb(124,"span",11),m.Wb(),m.Wb(),m.Xb(125,"li",14),m.Xb(126,"a",20),m.Xb(127,"span",16),m.Tc(128,"Legal Opinion"),m.Wb(),m.Sb(129,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(130,"li",6),m.Xb(131,"div",7),m.Xb(132,"a",8),m.Xb(133,"mat-icon",9),m.Tc(134,"assessment"),m.Wb(),m.Xb(135,"span",10),m.Tc(136,"Assessment Stage"),m.Wb(),m.Sb(137,"span",11),m.Xb(138,"mat-icon",12),m.Tc(139,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(140,"ul",13),m.Xb(141,"li",14),m.Xb(142,"a",15),m.Xb(143,"span",16),m.Tc(144,"Summary"),m.Wb(),m.Sb(145,"span",11),m.Wb(),m.Wb(),m.Xb(146,"li",14),m.Xb(147,"a",20),m.Xb(148,"span",16),m.Tc(149,"Qualitative Scoreboard"),m.Wb(),m.Sb(150,"span",11),m.Wb(),m.Wb(),m.Xb(151,"li",14),m.Xb(152,"a",20),m.Xb(153,"span",16),m.Tc(154,"Assessment Details"),m.Wb(),m.Sb(155,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(156,"li",6),m.Xb(157,"div",7),m.Xb(158,"a",8),m.Xb(159,"mat-icon",9),m.Tc(160,"supervisor_account"),m.Wb(),m.Xb(161,"span",10),m.Tc(162,"Supervisor Approval Stage"),m.Wb(),m.Sb(163,"span",11),m.Xb(164,"mat-icon",12),m.Tc(165,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(166,"ul",13),m.Xb(167,"li",14),m.Xb(168,"a",15),m.Xb(169,"span",16),m.Tc(170,"Summary"),m.Wb(),m.Sb(171,"span",11),m.Wb(),m.Wb(),m.Xb(172,"li",14),m.Xb(173,"a",21),m.fc("click",function(){return t.goApproved()}),m.Xb(174,"span",16),m.Tc(175,"Approved Details"),m.Wb(),m.Sb(176,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(177,"li",6),m.Xb(178,"div",7),m.Xb(179,"a",8),m.Xb(180,"mat-icon",9),m.Tc(181,"credit_card"),m.Wb(),m.Xb(182,"span",10),m.Tc(183,"Offer Issue Stage"),m.Wb(),m.Sb(184,"span",11),m.Xb(185,"mat-icon",12),m.Tc(186,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(187,"ul",13),m.Xb(188,"li",14),m.Xb(189,"a",15),m.Xb(190,"span",16),m.Tc(191,"Summary"),m.Wb(),m.Sb(192,"span",11),m.Wb(),m.Wb(),m.Xb(193,"li",14),m.Xb(194,"a",20),m.Xb(195,"span",16),m.Tc(196,"Offer Issue"),m.Wb(),m.Sb(197,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(198,"li",6),m.Xb(199,"div",7),m.Xb(200,"a",8),m.Xb(201,"mat-icon",9),m.Tc(202,"border_color"),m.Wb(),m.Xb(203,"span",10),m.Tc(204,"Offer Accept / Reject Stage"),m.Wb(),m.Sb(205,"span",11),m.Xb(206,"mat-icon",12),m.Tc(207,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(208,"ul",13),m.Xb(209,"li",14),m.Xb(210,"a",15),m.Xb(211,"span",16),m.Tc(212,"Summary"),m.Wb(),m.Sb(213,"span",11),m.Wb(),m.Wb(),m.Xb(214,"li",14),m.Xb(215,"a",17),m.Xb(216,"span",16),m.Tc(217,"Offer Accept / Reject"),m.Wb(),m.Sb(218,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(219,"li",6),m.Xb(220,"div",7),m.Xb(221,"a",8),m.Xb(222,"mat-icon",9),m.Tc(223,"file_copy"),m.Wb(),m.Xb(224,"span",10),m.Tc(225,"Post Offer Amend Stage"),m.Wb(),m.Sb(226,"span",11),m.Xb(227,"mat-icon",12),m.Tc(228,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(229,"ul",13),m.Xb(230,"li",14),m.Xb(231,"a",15),m.Xb(232,"span",16),m.Tc(233,"Summary"),m.Wb(),m.Sb(234,"span",11),m.Wb(),m.Wb(),m.Xb(235,"li",14),m.Xb(236,"a",20),m.Xb(237,"span",16),m.Tc(238,"Post Offer Amendment"),m.Wb(),m.Sb(239,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(240,"li",6),m.Xb(241,"div",7),m.Xb(242,"a",8),m.Xb(243,"mat-icon",9),m.Tc(244,"person_add"),m.Wb(),m.Xb(245,"span",10),m.Tc(246,"Account Creation Stage"),m.Wb(),m.Sb(247,"span",11),m.Xb(248,"mat-icon",12),m.Tc(249,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(250,"ul",13),m.Xb(251,"li",14),m.Xb(252,"a",15),m.Xb(253,"span",16),m.Tc(254,"Summary"),m.Wb(),m.Sb(255,"span",11),m.Wb(),m.Wb(),m.Xb(256,"li",14),m.Xb(257,"a",20),m.Xb(258,"span",16),m.Tc(259,"Account Credit Details"),m.Wb(),m.Sb(260,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(261,"li",6),m.Xb(262,"div",7),m.Xb(263,"a",8),m.Xb(264,"mat-icon",9),m.Tc(265,"view_comfy"),m.Wb(),m.Xb(266,"span",10),m.Tc(267,"Digital Signing"),m.Wb(),m.Sb(268,"span",11),m.Xb(269,"mat-icon",12),m.Tc(270,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(271,"ul",13),m.Xb(272,"li",14),m.Xb(273,"a",15),m.Xb(274,"span",16),m.Tc(275,"Summary"),m.Wb(),m.Sb(276,"span",11),m.Wb(),m.Wb(),m.Xb(277,"li",14),m.Xb(278,"a",20),m.Xb(279,"span",16),m.Tc(280,"Digital Signing"),m.Wb(),m.Sb(281,"span",11),m.Wb(),m.Wb(),m.Xb(282,"li",14),m.Xb(283,"a",15),m.Xb(284,"span",16),m.Tc(285,"Signing"),m.Wb(),m.Sb(286,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(287,"div",22),m.Xb(288,"div",23),m.Sb(289,"router-outlet"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(57);m.Eb(9),m.rc("ngClass",t.isLoanApplicationEntryDone?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isLoanApplicationEntryDone?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(80,Mn)),m.Eb(5),m.rc("routerLink",m.wc(81,Pn))("ngClass",t.isLoanDetailScreen?"enable":"disable"),m.Eb(4),m.rc("ngIf",t.isHomeLoan)("ngIfElse",n),m.Eb(1),m.rc("ngIf",t.isVehicleLoan)("ngIfElse",n),m.Eb(1),m.rc("ngIf",t.isEducationLoan)("ngIfElse",n),m.Eb(2),m.rc("routerLink",m.wc(82,Nn))("ngClass",t.isCustomerInformation?"enable":"disable"),m.Eb(5),m.rc("routerLink",m.wc(83,wn))("ngClass",t.isMandateDetails?"enable":"disable"),m.Eb(5),m.rc("routerLink",m.wc(84,Fn))("ngClass",t.isFinancialDetails?"enable":"disable"),m.Eb(5),m.rc("routerLink",m.wc(85,Ln))("ngClass",t.isCollateralDetails?"enable":"disable"),m.Eb(5),m.rc("routerLink",m.wc(86,Vn))("ngClass",t.isGuarantorDetails?"enable":"disable"),m.Eb(8),m.rc("ngClass",t.isAccountApproveStageDone?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isAccountApproveStageDone?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(87,qn)),m.Eb(5),m.rc("ngClass",t.isLoanInterestDetails?"enable":"disable")("routerLink",m.wc(88,jn)),m.Eb(5),m.rc("ngClass",t.isLoanDisbursementDetails?"enable":"disable")("routerLink",m.wc(89,Bn)),m.Eb(5),m.rc("ngClass",t.isLoanRepaymentDetails?"enable":"disable")("routerLink",m.wc(90,zn)),m.Eb(5),m.rc("ngClass",t.isChargeDetails?"enable":"disable")("routerLink",m.wc(91,Un)),m.Eb(5),m.rc("ngClass",t.isAccountServices?"enable":"disable")("routerLink",m.wc(92,Hn)),m.Eb(6),m.rc("ngClass",t.isLoanEnrichment?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isLoanEnrichment?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(93,Gn)),m.Eb(5),m.rc("ngClass",t.isCreditRatingDetails?"enable":"disable")("routerLink",m.wc(94,Yn)),m.Eb(5),m.rc("ngClass",t.isValuationofAsset?"enable":"disable")("routerLink",m.wc(95,$n)),m.Eb(5),m.rc("ngClass",t.isLegalOpinion?"enable":"disable")("routerLink",m.wc(96,Qn)),m.Eb(6),m.rc("ngClass",t.isUnderWritingStageDone?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isUnderWritingStageDone?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(97,Jn)),m.Eb(5),m.rc("ngClass",t.isLoanQualitativeScoreboard?"enable":"disable")("routerLink",m.wc(98,Zn)),m.Eb(5),m.rc("ngClass",t.isLoanAssessmentDetails?"enable":"disable")("routerLink",m.wc(99,Kn)),m.Eb(6),m.rc("ngClass",t.isLoanAssessmentStageScreen?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isLoanAssessmentStageScreen?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(100,ea)),m.Eb(5),m.rc("ngClass",t.isApprovalScreen?"enable":"disable"),m.Eb(6),m.rc("ngClass",t.isSupervisorapprovalScreen?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isSupervisorapprovalScreen?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(101,ta)),m.Eb(5),m.rc("ngClass",t.isOfferIssueScreen?"enable":"disable")("routerLink",m.wc(102,na)),m.Eb(6),m.rc("ngClass",t.isOfferIssueStageScreen?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isOfferIssueStageScreen?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(103,aa)),m.Eb(5),m.rc("routerLink",m.wc(104,oa))("ngClass",t.isOfferIssueRejectScreen?"enable":"disable"),m.Eb(6),m.rc("ngClass",t.isOfferIssueRejectStageScreen?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isOfferIssueRejectStageScreen?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(105,ia)),m.Eb(5),m.rc("ngClass",t.isPostAmmendementScreen?"enable":"disable")("routerLink",m.wc(106,ra)),m.Eb(6),m.rc("ngClass",t.isPostAmmendementStageScreen?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isPostAmmendementStageScreen?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(107,ca)),m.Eb(5),m.rc("ngClass",t.isAccountCreateDetailsScreen?"enable":"disable")("routerLink",m.wc(108,sa)),m.Eb(6),m.rc("ngClass",t.isAccountCreationStageScreenDone?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isAccountCreationStageScreenDone?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(109,la)),m.Eb(5),m.rc("ngClass",t.isDigitalSigning?"enable":"disable")("routerLink",m.xc(110,ba,t.accountId)),m.Eb(5),m.rc("routerLink",m.wc(112,ua))}},directives:[Xn.e,Xn.d,xn.a,Cn.a,In.a,d.j,An.a,u.l,bt.a,O.a,p.b,d.k,u.n,p.e,d.m],styles:["li[_ngcontent-%COMP%]{list-style-type:none!important}a[_ngcontent-%COMP%]   .mat-icon.sidenav-mat-icon[_ngcontent-%COMP%]{border-left:none!important;border-color:transparent}.sidenav-hold[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:before{background:none!important;top:0}li.open[_ngcontent-%COMP%]{background:none!important}.active[_ngcontent-%COMP%], .enable[_ngcontent-%COMP%]{color:#03a9f4!important}.disable[_ngcontent-%COMP%], .notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.topSection[_ngcontent-%COMP%]{margin-top:35px!important}"]}),En),da=r("laYw"),pa=function(){return{y:"50px",delay:"300ms"}},fa=function(e){return{value:"*",params:e}};function ga(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",23),m.Xb(1,"mat-card"),m.Xb(2,"div",24),m.Xb(3,"div",25),m.Xb(4,"mat-icon",26),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",27),m.Xb(7,"h6"),m.Tc(8,"Application Assesment Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",28),m.Xb(10,"button",29),m.fc("click",function(){return m.Hc(n),m.jc().viewSummary()}),m.Tc(11," View Summary "),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,fa,m.wc(1,pa))))}function ha(e,t){1&e&&(m.Xb(0,"div",30),m.Sb(1,"mat-progress-bar",31),m.Xb(2,"p",32),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}var va=function(){return["/loan/account/assessment/qualitative"]};function ya(e,t){1&e&&(m.Xb(0,"button",33),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,va))}function Wa(e,t){if(1&e){var n=m.Yb();m.Xb(0,"button",29),m.fc("click",function(){return m.Hc(n),m.jc().openLoanQualitativeDialog()}),m.Tc(1," View Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()}}function Xa(e,t){}function xa(e,t){1&e&&(m.Xb(0,"div",30),m.Sb(1,"mat-progress-bar",31),m.Xb(2,"p",32),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}function Ca(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",29),m.fc("click",function(){return m.Hc(n),m.jc().openLoanAssessmentDialog()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Ia=function(){return["/loan/account/assessment/assessment-details"]};function Aa(e,t){1&e&&(m.Xb(0,"button",33),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,Ia))}function Oa(e,t){if(1&e&&m.Rc(0,Aa,4,2,"button",18),2&e){var n=m.jc();m.rc("ngIf",!n.isLoanAssessmentDetails)}}var Ta,Da=function(e){return{"border-size":e}},ka=((Ta=function(){function e(t,n,o,i,r,c){a(this,e),this.router=t,this.dialogService=n,this.ls=o,this.cdr=i,this.accountService=r,this.apiService=c,this.isLoanQualitativeScoreboard=!1,this.isLoanAssessmentDetails=!1,this.isAssessmentStageDone=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanAccountId=this.ls.getItem("loanAccountId"),this.isAssessmentStageDone=this.ls.getItem("assessmentStage"),this.isLoanQualitativeScoreboard=this.ls.getItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),this.isLoanAssessmentDetails=this.ls.getItem("LOAN_ASSESSMENT_DETAILS_DONE"),this.accountService.refresh.subscribe(function(t){e.loanAccountId=e.ls.getItem("loanAccountId"),e.isLoanQualitativeScoreboard=e.ls.getItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),e.isLoanAssessmentDetails=e.ls.getItem("LOAN_ASSESSMENT_DETAILS_DONE"),e.cdr.markForCheck()})}},{key:"qualitativeScoreboard",value:function(){this.router.navigate(["loan/account/assessment/qualitative"])}},{key:"getData",value:function(e){var t=this;this.apiService.getApplnAssessmentDetails(e).subscribe(function(e){t.assessmentReportSummary=e,console.log(t.assessmentReportSummary)})}},{key:"viewSummary",value:function(){this.router.navigate(["loan/account/assessment/summary"])}},{key:"openLoanQualitativeDialog",value:function(){this.dialogService.loanQualitativeSummaryDialog()}},{key:"openLoanAssessmentDialog",value:function(){this.dialogService.loanAssessmentSummaryDialog()}}]),e}()).\u0275fac=function(e){return new(e||Ta)(m.Rb(d.h),m.Rb(da.a),m.Rb(W.a),m.Rb(m.h),m.Rb(X.a),m.Rb(x.b))},Ta.\u0275cmp=m.Lb({type:Ta,selectors:[["app-loan-assesment-stage"]],decls:50,vars:15,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],["mat-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["showQualitative",""],[4,"ngIf","ngIfElse"],["showReport",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create Retain Loan Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Open a Retain Loan Account with bank XYZ bank in a better way. "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,ga,12,4,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card",11),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1. Qualitative Scorecard Details"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",12),m.Xb(20,"div",13),m.Xb(21,"p",14),m.Tc(22,"Relevant evaluation details of the Applicant is captured and the scores are automatically displayed."),m.Wb(),m.Wb(),m.Xb(23,"div",15),m.Sb(24,"img",16),m.Wb(),m.Wb(),m.Rc(25,ha,4,2,"div",17),m.Wb(),m.Sb(26,"mat-divider"),m.Xb(27,"mat-card-actions"),m.Rc(28,ya,4,2,"button",18),m.Rc(29,Wa,4,0,"button",19),m.Rc(30,Xa,0,0,"ng-template",null,20,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(32,"div",10),m.Xb(33,"mat-card",11),m.Xb(34,"mat-card-header"),m.Xb(35,"mat-card-title"),m.Tc(36,"2. Assessment Details"),m.Wb(),m.Wb(),m.Xb(37,"mat-card-content"),m.Xb(38,"div",12),m.Xb(39,"div",13),m.Xb(40,"p",14),m.Tc(41,"The evaluation in terms of the qualitative and quantitative scores are recorded."),m.Wb(),m.Wb(),m.Xb(42,"div",13),m.Sb(43,"img",16),m.Wb(),m.Wb(),m.Rc(44,xa,4,2,"div",17),m.Wb(),m.Sb(45,"mat-divider"),m.Xb(46,"mat-card-actions"),m.Rc(47,Ca,5,0,"ng-container",21),m.Rc(48,Oa,1,1,"ng-template",null,22,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(49);m.Eb(11),m.rc("ngIf",t.isLoanQualitativeScoreboard&&t.isLoanAssessmentDetails),m.Eb(3),m.rc("ngClass",m.xc(11,Da,t.isLoanQualitativeScoreboard||!t.isLoanQualitativeScoreboard)),m.Eb(10),m.rc("src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isLoanQualitativeScoreboard),m.Eb(3),m.rc("ngIf",!t.isLoanQualitativeScoreboard),m.Eb(1),m.rc("ngIf",t.isLoanQualitativeScoreboard),m.Eb(4),m.rc("ngClass",m.xc(13,Da,t.isLoanAssessmentDetails||!t.isLoanAssessmentDetails&&t.isLoanQualitativeScoreboard)),m.Eb(10),m.rc("src","assets/images/svg/MaskGroup_13.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isLoanAssessmentDetails),m.Eb(3),m.rc("ngIf",t.isLoanQualitativeScoreboard&&t.isLoanAssessmentDetails)("ngIfElse",n)}},directives:[p.e,p.b,u.n,f.a,u.l,bt.a,f.e,f.h,f.d,p.f,p.d,S.a,f.b,O.a,h.b,_.a,d.i],styles:[".not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.viewsum[_ngcontent-%COMP%]{float:right;color:#24cca7}.classCompleted1[_ngcontent-%COMP%]     .mat-progress-bar-fill:after{background-color:#24cca7}.classNotCompleted[_ngcontent-%COMP%]{color:#456efe}.classCompleted[_ngcontent-%COMP%]{color:#24cca7}.borderForCardCompeted[_ngcontent-%COMP%]{border:1px dashed #24cca7}.borderForCardNotCompeted[_ngcontent-%COMP%]{border:1px dashed #2196f3}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}"]}),Ta),Sa=r("3kSh"),_a=r("NN4w");function Ra(e,t){if(1&e&&(m.Xb(0,"div"),m.Xb(1,"div",12),m.Xb(2,"mat-card"),m.Xb(3,"div",6),m.Xb(4,"div",43),m.Xb(5,"div"),m.Xb(6,"div"),m.Xb(7,"div",12),m.Xb(8,"div",44),m.Xb(9,"small",45),m.Xb(10,"span"),m.Tc(11),m.Wb(),m.Tc(12,"\xa0 "),m.Xb(13,"span"),m.Tc(14),m.Wb(),m.Tc(15,"\xa0 "),m.Xb(16,"span"),m.Tc(17),m.Wb(),m.Tc(18,"\xa0 "),m.Xb(19,"span"),m.Tc(20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(21,"div",12),m.Xb(22,"div",46),m.Xb(23,"small",47),m.Tc(24),m.Wb(),m.Wb(),m.Wb(),m.Xb(25,"div"),m.Xb(26,"div",48),m.Xb(27,"small",47),m.Tc(28,"Address: "),m.Xb(29,"span"),m.Tc(30),m.Wb(),m.Tc(31,"\xa0 "),m.Xb(32,"span"),m.Tc(33),m.Wb(),m.Tc(34,"\xa0 "),m.Xb(35,"span"),m.Tc(36),m.Wb(),m.Tc(37,"\xa0 "),m.Xb(38,"span"),m.Tc(39),m.Wb(),m.Tc(40,"\xa0 "),m.Xb(41,"span"),m.Tc(42),m.Wb(),m.Tc(43,"\xa0 "),m.Xb(44,"span"),m.Tc(45),m.Wb(),m.Tc(46,"\xa0"),m.Wb(),m.Wb(),m.Xb(47,"div",48),m.Xb(48,"small",47),m.Tc(49,"Email ID: "),m.Xb(50,"span"),m.Tc(51),m.Wb(),m.Wb(),m.Wb(),m.Xb(52,"div",48),m.Xb(53,"small",47),m.Tc(54,"Phone Number: "),m.Xb(55,"span"),m.Tc(56),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=t.$implicit;m.Eb(11),m.Vc("Customer Name: ",null==n?null:n.prefix,""),m.Eb(3),m.Uc(null==n?null:n.firstName),m.Eb(3),m.Uc(null==n?null:n.middleName),m.Eb(3),m.Uc(null==n?null:n.lastName),m.Eb(4),m.Vc("CIF Number: #",null==n?null:n.cifNumber,""),m.Eb(6),m.Uc(null==n?null:n.userAddress[0].address1),m.Eb(3),m.Uc(null==n?null:n.userAddress[0].address2),m.Eb(3),m.Uc(null==n?null:n.userAddress[0].city),m.Eb(3),m.Uc(null==n?null:n.userAddress[0].state),m.Eb(3),m.Uc(null==n?null:n.userAddress[0].country),m.Eb(3),m.Uc(null==n?null:n.userAddress[0].zipCode),m.Eb(6),m.Uc(null==n?null:n.primaryEmailAdress),m.Eb(5),m.Uc(null==n?null:n.phoneNumber)}}function Ea(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please enter the Request Loan Amount "),m.Wb())}function Ma(e,t){if(1&e&&(m.Xb(0,"mat-option",49),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Pa(e,t){if(1&e&&(m.Xb(0,"mat-option",49),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Na(e,t){if(1&e&&(m.Xb(0,"mat-option",49),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function wa(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Loan Tenure is Required!"),m.Wb())}function Fa(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Loan Tenure is Required!"),m.Wb())}function La(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Loan Tenure is Required!"),m.Wb())}function Va(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Input Valid Loan Tenure!"),m.Wb())}function qa(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please enter the Rate Of Interest "),m.Wb())}function ja(e,t){if(1&e&&(m.Xb(0,"mat-option",49),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Ba(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please enter the System Recommendation "),m.Wb())}function za(e,t){if(1&e&&(m.Xb(0,"mat-option",49),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Ua(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please enter the User Recommendation "),m.Wb())}function Ha(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please enter the Loan Amount Recommendation "),m.Wb())}function Ga(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please enter the Approved Loan Amount "),m.Wb())}function Ya(e,t){1&e&&(m.Xb(0,"small",50),m.Tc(1," Approved Loan Amount should not be greater than the Loan Amount Requested. "),m.Wb())}var $a,Qa=(($a=function(){function e(t,n,o,i,r,c,s,l,b,u,m,d,p,f,g,h){a(this,e),this.formBuilder=t,this.route=n,this.router=o,this.ls=i,this.dataService=r,this.loader=c,this.accountService=s,this.confirmService=l,this.apiService=b,this.snack=u,this.cdr=m,this.appApiService=d,this.dialog=p,this.elRef=f,this.renderer=g,this.urlService=h,this.submitted=!1,this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.showEditOption=!1,this.arrrayResidence=[],this.arrayCountry=[],this.arrayDocumentType=[],this.arrayPrefix=[],this.arrayGender=[],this.arrayResidence=[],this.arrayCity=[],this.arrayAddressType=[],this.arrayState=[],this.applicantDetails=[],this.isCifValid=!1,this.selectedApplicant=null,this.listOfAccounts=[],this.isAccountOpenScreen=!1,this.formData={},this.console=console,this.applicantDetailsArray=[],this.toggle=!1,this.customerDetails={},this.tomorrow=new Date,this.maxDate=new Date,this.minDate=new Date,this.validDate=new Date,this.showNewForm=!0,this.toggleClick=!1,this.previousUrl="",this.addFunc=!0,this.removedButton=!1,this.isAllSameDigitVal=!1,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.loanAssessmentForm=this.formBuilder.group({rateOfInterest:[""],requestedLoanAmount:[""],loanTenure:[""],approvedLoanAmount:["",[$.A.required]],loanAmountRecommendation:["",[$.A.required]],userRecommendation:[""],systemRecommendation:[""],day:["",[$.A.required]],month:["",[$.A.required]],year:["",[$.A.required]]})}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var n=0;n<=11;n++)this.months.push(n+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.accountId=this.ls.getItem("accountId"),console.log("applicantId",this.route.snapshot.params.id),this.isAccountOpenScreen=JSON.parse(this.ls.getItem("ACC_OPEN_DONE")),this.cifNumberPrimary=this.ls.getItem("CIF_NUM_PRIMARY"),console.log("check if",this.accountId,this.isAccountOpenScreen),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),console.log("LOAN ACCOUNT ID:: ",this.loanaccountID);var o=JSON.parse(this.ls.getItem("LOAN_DETAIL_DONE"));setTimeout(function(){e.getListOfAccounts(),e.buildCustomerForm(),e.getAccountDetails()},10),null!=this.accountId&&this.isAssessmentStageDone?(this.showEditOption=!0,this.approvedLoanAmount=this.accountDetails.approvedLoanAmount):(this.showEditOption=!1,this.subscription=this.apiService.getaccParam.subscribe(function(t){console.log("data::",t),sessionStorage.setItem("customerName",t.firstName+" "+t.lastName),e.displayResponse=t,e.isObjectEmpty(e.displayResponse)})),this.urlService.previousUrl$.subscribe(function(t){e.previousUrl=t}),this.accountService.refresh.subscribe(function(t){e.isAccountOpenScreen=JSON.parse(e.ls.getItem("ACC_OPEN_DONE")),e.cdr.markForCheck()}),this.cifNumber=this.ls.getItem("CIF_NUM_PRIMARY"),this.console.log("cifNumber=",this.cifNumber),setTimeout(function(){null!=e.loanaccountID&&o?e.showEditOption=!0:(console.log("else"),e.showEditOption=!1,e.buildformGroup()),e.getAccountDetails()},10)}},{key:"createCustomerInfoDetail",value:function(e){return this.formBuilder.group({cifNumber:e?e.cifNumber:[""],prefix:e?e.prefix:[""],firstName:e?e.firstName:[""],middleName:e?e.middleName:[""],lastName:e?e.lastName:[""],gender:e?e.gender:[""],addressType:e?e.addressType:[""],building:e?e.building:[""],street:e?e.street:[""],locality:e?e.locality:[""],city:e?e.city:[""],state:e?e.state:[""],country:e?e.country:[""],pinCode:e?e.pinCode:[""],phoneNumber:e?e.phoneNumber:[""],mobileNumber:e?e.mobileNumber:[""],email:e?e.email:[""]})}},{key:"getCustomerInformationDetails",value:function(){var e=this;this.apiService.getCustomerInformationDetailsById(this.accountId).subscribe(function(t){console.log("All Customer Details",t),e.buildCustomerForm(t)},function(e){})}},{key:"buildCustomerForm",value:function(e){this.applicantForms=this.formBuilder.group({productAccountId:e?e.productAccountId:this.accountId,ownership:e?e.ownership:"Self",numOfApplicants:e?e.numOfApplicants:1,applicantDetails:this.addCustFormGroup()})}},{key:"isObjectEmpty",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&"{}"===JSON.stringify(e)}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"populatePrimaryApplicant",value:function(e){var t={cifNumber:this.cifNumberPrimary,prefix:e.prefix,existingCustomer:!0,primaryCustomer:!0,customerId:e.customerId,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,gender:e.gender,dateOfBirth:this.convertDate(e.dateOfBirth),addressType:e.addressType,address1:e.address1,address2:e.address2,city:e.city,country:e.country,state:e.state,zipCode:e.zipCode,phoneNumber:e.phoneNumber,landlineNumber:e.landlineNumber,primaryEmailAdress:e.primaryEmailAdress};this.applicant.patchValue(t)}},{key:"convertDate",value:function(e){var t=re(e).format("YYYY-MM-DD");if(console.log("date",t),t)return t}},{key:"getAccountDetails",value:function(){var e=this;console.log("LoanAccountId:",this.loanaccountID),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(function(t){e.rateOfInterest=t.rateOfInterest,e.loanTenure=t.loanTenure;var n=e.loanTenure.split("-")[2];console.log(n);var a=e.loanTenure.split("-")[1];console.log(a);var o=e.loanTenure.split("-")[0];console.log(o),console.log("LoanAccountId:",t.loanAccountId),console.log("rateofinterest:",t.loanAmount),console.log("loan tenure:",t.loanTenure),console.log(t),e.buildformGroup(t),null!=e.approvedLoanAmount&&e.updateLoanAssessmentDetails()},function(e){})}},{key:"addCustomerFormGroup",value:function(){return this.formBuilder.group({cifNumber:[""],customerId:[""],prefix:[""],firstName:[""],middleName:[""],lastName:[""],gender:[""],dateOfBirth:[""],addressType:[""],address1:[""],address2:[""],city:[""],state:[""],country:[""],zipCode:[""],phoneNumber:[""],landlineNumber:[""],primaryEmailAdress:[""]})}},{key:"buildformGroup",value:function(e){console.log(e),this.loanAssessmentForm=this.formBuilder.group({rateOfInterest:[e?e.rateOfInterest:"",[$.A.required]],loanTenure:[e?e.loanTenure:""],approvedLoanAmount:[e?e.approvedLoanAmount:"",[$.A.required]],loanAmountRecommendation:[e?e.loanAmountRecommendation:"",[$.A.required]],userRecommendation:[e?e.userRecommendation:"",[$.A.required]],systemRecommendation:[e?e.systemRecommendation:"",[$.A.required]],requestedLoanAmount:[e?e.requestedLoanAmount:"",[$.A.required]],year:[e?e.loanTenure.split("-")[0]:""],month:[e?e.loanTenure.split("-")[1]:""],day:[e?e.loanTenure.split("-")[2]:""]})}},{key:"onReset",value:function(){this.submitted=!1,this.applicantForms.reset({})}},{key:"onClear",value:function(){this.submitted=!1}},{key:"resetAndClose",value:function(){this.closeDetails()}},{key:"closeDetails",value:function(){this.selectedApplicant=null,this.applicant.reset(),this.applicantForms.get("numOfApplicants").enable({onlySelf:!0})}},{key:"toggleDetails",value:function(e){var t;console.log("customerId incomming",e),this.applicantForms.get("numOfApplicants").disable({onlySelf:!0,emitEvent:!1}),console.log(e.userAddress.length),t=e.userAddress.length>1?e.userAddress.find(function(e){return"Permanent"==e.addressType}):e.userAddress[0];var n={existingCustomer:e.existingCustomer,dependentId:e.dependentId,primaryCustomer:e.primaryCustomer,cifNumber:e.cifNumber,prefix:e.prefix,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,gender:e.gender,dateOfBirth:e.dateOfBirth,addressType:t.addressType,address1:t.address1,address2:t.address2,city:t.city,state:t.state,country:t.country,zipCode:t.zipCode,phoneNumber:e.phoneNumber,landlineNumber:e.landlineNumber,primaryEmailAdress:e.primaryEmailAdress};console.log("account.firstName=",e.firstName),this.selectedApplicant=e,this.applicant.patchValue(n,{onlySelf:!1,emitEvent:!1}),this.cdr.markForCheck()}},{key:"getListOfAccounts",value:function(){var e=this;this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(function(t){if(e.console.log("resp:",t),e.console.log("address1:",t.data[0].userAddress[0].address1),e.address1=t.data[0].userAddress[0].address1,e.address2=t.data[0].userAddress[0].address2,e.city=t.data[0].userAddress[0].city,e.state=t.data[0].userAddress[0].state,e.country=t.data[0].userAddress[0].country,e.zipCode=t.data[0].userAddress[0].zipCode,e.listOfAccounts=200==t.status?t.data.map(function(e){return Object.assign(Object.assign({},e),{_id:Math.round(1e10*Math.random())})}):[],e.loader.close(),console.log("All Customer Details",e.listOfAccounts.length),200==t.status&&e.ls.setItem("cId",t.data[0].customerId),console.log("Length check??",e.listOfAccounts.length),0==e.listOfAccounts.length)e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!0);else if(1==e.listOfAccounts.length)e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!1);else if(e.listOfAccounts.length>=2){e.applicantForms.get("ownership").patchValue("Join");for(var n=0;n<t.data.length;n++)e.applicantForms.get("numOfApplicants").patchValue(t.data[n].numOfApplicants)}e.cdr.markForCheck(),e.toggleChanges()},function(t){e.loader.close()})}},{key:"toggleChanges",value:function(){1==this.applicant.get("existingCustomer").value?(this.applicant.get("cifNumber").enable(),this.applicant.get("cifNumber").setValidators([$.A.required]),this.applicant.get("cifNumber").updateValueAndValidity()):(this.applicant.get("cifNumber").disable(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity())}},{key:"toggleAddForm",value:function(){this.showNewForm=!this.showNewForm}},{key:"addCustFormGroup",value:function(){return this.formBuilder.group({existingCustomer:[null,[]],primaryCustomer:[null,[]],cifNumber:[""],customerId:[""],dependentId:[null],prefix:[""],firstName:[""],middleName:[""],lastName:[""],gender:[""],dateOfBirth:[""],addressType:[""],address1:[""],address2:[""],city:[""],state:[""],country:[""],zipCode:[""],phoneNumber:["",[$.A.required,$.A.minLength(3),$.A.maxLength(10),$.A.pattern("^[0-9]{10,12}$")]],landlineNumber:["",[$.A.required,$.A.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:["",[$.A.required,$.A.email]]})}},{key:"f",get:function(){return this.applicantForms.controls}},{key:"applicantCount",get:function(){return this.f.numOfApplicants}},{key:"applicant",get:function(){return this.f.applicantDetails}},{key:"onSubmit",value:function(){if(this.submitted=!0,console.log("saveapplicant"),this.isCifValid=!1,this.applicantForms.invalid)console.log("test");else{this.loader.open();var e={},t=this.applicantForms.controls.applicantDetails.value,n={},a=[];e.customerId=this.ls.getItem("cId"),e.cifNumber=t.cifNumber,e.dependentId=t.dependentId,e.existingCustomer=t.existingCustomer,e.primaryCustomer=t.primaryCustomer,e.phoneNumber=t.phoneNumber,e.primaryEmailAdress=t.primaryEmailAdress,e.prefix=t.prefix,e.firstName=t.firstName,e.middleName=t.middleName,e.lastName=t.lastName,e.cifNumber=t.cifNumber,e.gender=t.gender,e.dateOfBirth=this.convertDate(t.dateOfBirth),e.accountId=this.accountId,e.landlineNumber=t.landlineNumber,e.ownership=this.applicantForms.get("ownership").value,e.numOfApplicants=this.applicantForms.get("numOfApplicants").value,n.address1=t.address1,n.address2=t.address2,n.country=t.country,n.state=t.state,n.city=t.city,n.zipCode=t.zipCode,n.addressType=t.addressType,a.push(n),e.userAddress=a,console.log("payloadObj",e)}}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.dataService.sendNavParam({})}},{key:"isAllSameDigit",value:function(e){var t=0,n=e.target.value;if(""!=n){for(var a=0;a<n.length;a++)0==n[a]&&t++;console.log("number :: ",n),console.log("isAllSameDigitVal :: ",t,n.length),t==n.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/assessment/qualitative"])}},{key:"goToNext",value:function(){this.ls.setItem("ACC_OPEN_DONE",!0),this.accountService.refresh.next(),this.ls.setItem("NO_OF_APPLICANTS",this.applicantForms.get("numOfApplicants").value),this.router.navigate(["/loan/account/list"])}},{key:"goNext",value:function(){var e=this.loanAssessmentForm.value.approvedLoanAmount;e=parseInt(e);var t=this.loanAssessmentForm.value.rateOfInterest;t=parseInt(t);var n=this.loanAssessmentForm.value.loanTenure,a=this.loanAssessmentForm.value.requestedLoanAmount;a=parseInt(a),console.log("payload",{loanAccountId:this.loanaccountID,approvedLoanAmount:e,requestedLoanAmount:a,rateOfInterest:t,loanTenure:n,loanAmountRecommendation:this.loanAssessmentForm.value.loanAmountRecommendation,userRecommendation:this.loanAssessmentForm.value.userRecommendation,systemRecommendation:this.loanAssessmentForm.value.systemRecommendation}),this.updateLoanAssessmentDetails()}},{key:"updateLoanAssessmentDetails",value:function(){var e=this,t=this.loanAssessmentForm.value.approvedLoanAmount;t=parseInt(t);var n=this.loanAssessmentForm.value.loanAmountRecommendation;n=parseInt(n);var a={loanAccountId:this.loanaccountID,approvedLoanAmount:t,requestedLoanAmount:this.loanAssessmentForm.value.requestedLoanAmount,rateOfInterest:this.loanAssessmentForm.value.rateOfInterest,loanTenure:this.loanAssessmentForm.value.loanTenure,loanAmountRecommendation:this.loanAssessmentForm.value.loanAmountRecommendation,userRecommendation:this.loanAssessmentForm.value.userRecommendation,systemRecommendation:this.loanAssessmentForm.value.systemRecommendation};console.log("payload",a),this.apiService.updateAssessmentDetails(a).subscribe(function(t){console.log("approvedLoanAmount:",t.approvedLoanAmount),e.snack.open("Loan Assessment Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log(t),e.ls.setItem("LOAN_ASSESSMENT_DETAILS_DONE",!0),e.ls.setItem("LOAN_ASSESSMENT_STAGE_DONE",!0),e.accountService.refresh.next(),e.router.navigate(["/loan/account/supervisor-summary/"])},function(t){e.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"onInput",value:function(e,t){this.approvedLoanAmount=t?e.target.value:e,console.log("this.salary)::",this.approvedLoanAmount);var n=this.approvedLoanAmount.toString().replace(/,/g,"").split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var a=n.join(".");console.log("final",a),this.loanAssessmentForm.controls.approvedLoanAmount.setValue(a)}},{key:"keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"_keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"OnInput",value:function(e,t,n){this.approvedLoanAmount=e.target.value,console.log(Number(this.approvedLoanAmount),Number(t),Number(n)),this.flag=Number(this.approvedLoanAmount)>Number(t)||Number(this.approvedLoanAmount)>Number(n);var a=String.fromCharCode(e.charCode);/[0-9]/.test(a)||e.preventDefault()}},{key:"removeComma",value:function(e){var t=e.replace(/,/g,"");return console.log("numb",t),t}}]),e}()).\u0275fac=function(e){return new(e||$a)(m.Rb($.f),m.Rb(d.a),m.Rb(d.h),m.Rb(W.a),m.Rb(C.a),m.Rb(Pe.a),m.Rb(ue.a),m.Rb(Sa.a),m.Rb(x.b),m.Rb(A.a),m.Rb(m.h),m.Rb(ln.a),m.Rb(I.b),m.Rb(m.l),m.Rb(m.I),m.Rb(_a.a))},$a.\u0275cmp=m.Lb({type:$a,selectors:[["app-loan-assessment-details"]],viewQuery:function(e,t){var n;1&e&&m.ad(_.a,!0),2&e&&m.Cc(n=m.gc())&&(t.progressBar=n.first)},decls:104,vars:21,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_13.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","row wrap",1,"full-width"],[1,"p-0"],[1,"alignChange"],["visible","true"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"full-width"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[4,"ngFor","ngForOf"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["fxFlex","49%",1,"flex-grow-1","marginnpadding"],["appearance","outline",1,"full-width"],[1,"hint"],["matInput","","formControlName","requestedLoanAmount","type","text","readonly","",1,"alignment",3,"keypress"],[4,"ngIf"],["fxFlex","49%",1,"flex-grow-1","loanCard","marginnpadding"],[1,"size"],["appearance","outline","fxFlex","22.5",1,"full-width","tenure1"],["name","year","placeholder","Year","formControlName","year","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month","disableOptionCentering",""],["appearance","outline","fxFlex","22",1,"full-width","tenure1"],["name","day","formControlName","day","disableOptionCentering",""],["fxFlex","70%","fxLayoutGap","10px"],["matInput","","formControlName","rateOfInterest","type","text","placeholder","Rate Of Interest","readonly","",1,"alignment",3,"keypress"],["fxFlex","49%",1,"flex-grow-1","loanCard","marginpadding"],["formControlName","systemRecommendation","placeholder","Select","disableOptionCentering",""],["formControlName","userRecommendation","placeholder","Select","disableOptionCentering",""],["fxFlex","49%",1,"flex-grow-1","marginpadding"],["type","text","matInput","","name","loanAmountRecommendation","autocomplete","off","formControlName","loanAmountRecommendation","placeholder","Loan amount Recommendation",1,"alignment",3,"keypress"],["matInput","","formControlName","approvedLoanAmount","pattern","^[1-9][0-9]*$","autocomplete","off","type","text","placeholder","Approved Loan Amount",1,"alignment",3,"input"],["style","color:red;",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],[1,"pl-16"],[1,"valueText"],[1,"pl-16","pr-16"],[1,"valueTextName"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[3,"value"],[2,"color","red"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Assessment Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"div",1),m.Xb(10,"mat-card",7),m.Xb(11,"mat-card-title",8),m.Xb(12,"fieldset"),m.Xb(13,"legend",9),m.Tc(14,"Customer Information"),m.Wb(),m.Wb(),m.Wb(),m.Xb(15,"div",10),m.Xb(16,"div",11),m.Xb(17,"div",12),m.Xb(18,"div",13),m.Rc(19,Ra,57,13,"div",14),m.Wb(),m.Wb(),m.Sb(20,"br"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(21,"div",1),m.Xb(22,"mat-card",7),m.Xb(23,"mat-card-title",8),m.Xb(24,"fieldset"),m.Xb(25,"legend",9),m.Tc(26,"Assessment Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div"),m.Xb(28,"form",15),m.Xb(29,"div",16),m.Xb(30,"div",17),m.Xb(31,"div",18),m.Xb(32,"mat-form-field",19),m.Xb(33,"mat-label",20),m.Tc(34,"Request Loan Amount*"),m.Wb(),m.Xb(35,"input",21),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Tc(36),m.Rc(37,Ea,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Xb(38,"div",23),m.Xb(39,"div",0),m.Xb(40,"label",24),m.Tc(41,"Loan Tenure*"),m.Wb(),m.Xb(42,"mat-form-field",25),m.Xb(43,"mat-label"),m.Tc(44,"Year*"),m.Wb(),m.Xb(45,"mat-select",26),m.Rc(46,Ma,2,2,"mat-option",27),m.Wb(),m.Wb(),m.Xb(47,"mat-form-field",25),m.Xb(48,"mat-label"),m.Tc(49,"Month*"),m.Wb(),m.Xb(50,"mat-select",28),m.Rc(51,Pa,2,2,"mat-option",27),m.Wb(),m.Wb(),m.Xb(52,"mat-form-field",29),m.Xb(53,"mat-label"),m.Tc(54,"Day*"),m.Wb(),m.Xb(55,"mat-select",30),m.Rc(56,Na,2,2,"mat-option",27),m.Wb(),m.Wb(),m.Rc(57,wa,2,0,"mat-error",22),m.Rc(58,Fa,2,0,"mat-error",22),m.Rc(59,La,2,0,"mat-error",22),m.Rc(60,Va,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Wb(),m.Xb(61,"div",31),m.Xb(62,"div",18),m.Xb(63,"mat-form-field",19),m.Xb(64,"mat-label",20),m.Tc(65,"Rate Of Interest*"),m.Wb(),m.Xb(66,"input",32),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Tc(67),m.Rc(68,qa,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Xb(69,"div",33),m.Xb(70,"mat-form-field",19),m.Xb(71,"mat-label",20),m.Tc(72,"System Recommendation*"),m.Wb(),m.Xb(73,"mat-select",34),m.Rc(74,ja,2,2,"mat-option",27),m.Wb(),m.Rc(75,Ba,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Wb(),m.Xb(76,"div",31),m.Xb(77,"div",18),m.Xb(78,"mat-form-field",19),m.Xb(79,"mat-label",20),m.Tc(80,"User Recommendation*"),m.Wb(),m.Xb(81,"mat-select",35),m.Rc(82,za,2,2,"mat-option",27),m.Wb(),m.Rc(83,Ua,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Xb(84,"div",36),m.Xb(85,"mat-form-field",19),m.Xb(86,"mat-label",20),m.Tc(87,"Loan Amount Recommendation*"),m.Wb(),m.Xb(88,"input",37),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Rc(89,Ha,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Wb(),m.Xb(90,"div",31),m.Xb(91,"div",18),m.Xb(92,"mat-form-field",19),m.Xb(93,"mat-label",20),m.Tc(94,"Approved Loan Amount*"),m.Wb(),m.Xb(95,"input",38),m.fc("input",function(e){return t.OnInput(e,t.loanAmountRecommendation,t.loanAssessmentForm.get("requestedLoanAmount").value)}),m.Wb(),m.Rc(96,Ga,2,0,"mat-error",22),m.Wb(),m.Xb(97,"div"),m.Rc(98,Ya,2,0,"small",39),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(99,"div",40),m.Xb(100,"button",41),m.fc("click",function(){return t.goBack()}),m.Tc(101," Back "),m.Wb(),m.Xb(102,"button",42),m.fc("click",function(){return t.goNext()}),m.Tc(103," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(19),m.rc("ngForOf",t.listOfAccounts),m.Eb(9),m.rc("formGroup",t.loanAssessmentForm),m.Eb(8),m.Vc("",null==t.accountDetails?null:t.accountDetails.loanAmount," "),m.Eb(1),m.rc("ngIf",!t.loanAssessmentForm.get("requestedLoanAmount").valid&&t.loanAssessmentForm.get("requestedLoanAmount").touched),m.Eb(9),m.rc("ngForOf",t.years),m.Eb(5),m.rc("ngForOf",t.months),m.Eb(5),m.rc("ngForOf",t.days),m.Eb(1),m.rc("ngIf",!t.loanAssessmentForm.get("year").valid&&t.loanAssessmentForm.get("year").touched),m.Eb(1),m.rc("ngIf",!t.loanAssessmentForm.get("month").valid&&t.loanAssessmentForm.get("month").touched),m.Eb(1),m.rc("ngIf",!t.loanAssessmentForm.get("day").valid&&t.loanAssessmentForm.get("day").touched),m.Eb(1),m.rc("ngIf","0 year"==t.loanAssessmentForm.get("year").value&&"0 month"==t.loanAssessmentForm.get("month").value&&"0 day"==t.loanAssessmentForm.get("day").value),m.Eb(7),m.Vc("",null==t.accountDetails?null:t.accountDetails.rateOfInterest," "),m.Eb(1),m.rc("ngIf",!t.loanAssessmentForm.get("rateOfInterest").valid&&t.loanAssessmentForm.get("rateOfInterest").touched),m.Eb(6),m.rc("ngForOf",t.arraySystemRecommendation),m.Eb(1),m.rc("ngIf",!t.loanAssessmentForm.get("systemRecommendation").valid&&t.loanAssessmentForm.get("systemRecommendation").touched),m.Eb(7),m.rc("ngForOf",t.arrayUserRecommendation),m.Eb(1),m.rc("ngIf",!t.loanAssessmentForm.get("userRecommendation").valid&&t.loanAssessmentForm.get("userRecommendation").touched),m.Eb(6),m.rc("ngIf",!t.loanAssessmentForm.get("loanAmountRecommendation").valid&&t.loanAssessmentForm.get("loanAmountRecommendation").touched),m.Eb(7),m.rc("ngIf",!t.loanAssessmentForm.get("approvedLoanAmount").valid&&t.loanAssessmentForm.get("approvedLoanAmount").touched),m.Eb(2),m.rc("ngIf",t.flag),m.Eb(4),m.rc("disabled",!t.loanAssessmentForm.valid||t.flag))},directives:[p.e,p.b,f.a,f.h,p.d,p.f,u.m,$.C,$.s,$.j,g.c,g.g,Q.b,$.c,$.r,$.i,u.n,J.a,$.x,h.b,g.b,Z.n],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.valueText[_ngcontent-%COMP%]{color:#0f0f0f}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-size:14px}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.type[_ngcontent-%COMP%]{text-transform:capitalize}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px}.sqInput1[_ngcontent-%COMP%]{width:28%;margin-left:2.9%;height:55px}.loanCard[_ngcontent-%COMP%]{margin-top:2px}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.size[_ngcontent-%COMP%]{margin-top:15px}.marginnpadding[_ngcontent-%COMP%]{padding-left:2%}.marginpadding[_ngcontent-%COMP%]{padding-left:1%;padding-right:1.2%}"]}),$a),Ja=r("2Goh"),Za=r("o4Yh");function Ka(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter valid Scorecard ID "),m.Wb())}function eo(e,t){if(1&e&&(m.Xb(0,"div",19),m.Xb(1,"div",20),m.Tc(2,"Number of Applicant "),m.Xb(3,"div"),m.Tc(4),m.Wb(),m.Wb(),m.Wb()),2&e){var n=t.$implicit;m.Eb(4),m.Uc(n.applicantId)}}function to(e,t){1&e&&(m.Xb(0,"span",30),m.Tc(1," *"),m.Wb())}function no(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",37),m.Xb(1,"mat-form-field",38),m.Xb(2,"input",39),m.fc("keyup",function(e){m.Hc(n);var t=m.jc(),a=t.index,o=t.$implicit,i=m.jc().$implicit,r=m.jc();return r.validateInputValue(e.target.value,a,o.validationName),r.insertData(o.scoreCardQuestionId,e.target.value,o.attributeType,o.scoreCardMappingId,a,i.applicantId)})("click",function(e){m.Hc(n);var t=m.jc(),a=t.index,o=t.$implicit;return m.jc(2).validateInputValue(e.target.value,a,o.validationName)}),m.Wb(),m.Wb(),m.Xb(3,"mat-error",40),m.Tc(4),m.Wb(),m.Wb()}if(2&e){var a=m.jc(),o=a.index,i=a.$implicit,r=m.jc().index,c=m.jc();m.Eb(2),m.sc("name","input"+o),m.sc("id","input"+o),m.rc("required",i.isRequired)("autocomplete",c.off)("maxlength","Name"==i.validationName?25:50)("value",null==c.scoreCardMappingArray[r].scoreCardDetails[o].scorecardAnswer?"":c.scoreCardMappingArray[r].scoreCardDetails[o].scorecardAnswer),m.Eb(1),m.Oc("visibility","hidden"),m.sc("id","inputError"+o),m.Eb(1),m.Vc("Enter ",i.validationName,"")}}function ao(e,t){if(1&e&&(m.Xb(0,"mat-option",43),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function oo(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",24),m.Xb(1,"mat-form-field",31),m.Xb(2,"mat-select",41),m.fc("valueChange",function(e){m.Hc(n);var t=m.jc(),a=t.$implicit,o=t.index,i=m.jc().index,r=m.jc();return"checkbox"==a.attributeType?r.sbMultiSelectAnswer:r.scoreCardMappingArray[i].scoreCardDetails[o].scorecardAnswer=e})("click",function(e){m.Hc(n);var t=m.jc().index;return m.jc(2).validateSelectValue(e.target.value,t)})("selectionChange",function(e){m.Hc(n);var t=m.jc(),a=t.index,o=t.$implicit,i=m.jc().$implicit,r=m.jc();return r.validateSelectValue(e.value,a),r.insertData(o.scoreCardQuestionId,e.value,o.attributeType,o.scoreCardMappingId,a,i.applicantId)}),m.Xb(3,"mat-option"),m.Tc(4,"Select"),m.Wb(),m.Rc(5,ao,2,2,"mat-option",42),m.Wb(),m.Wb(),m.Xb(6,"mat-error",40),m.Tc(7),m.Wb(),m.Wb()}if(2&e){var a=m.jc(),o=a.$implicit,i=a.index,r=m.jc().index,c=m.jc();m.Eb(2),m.rc("required",o.isRequired)("name","checkbox"==o.attributeType?"multiSelect"+i:"select"+i)("id","checkbox"==o.attributeType?"multiSelect"+i:"select"+i)("value","checkbox"==o.attributeType?c.sbMultiSelectAnswer:c.scoreCardMappingArray[r].scoreCardDetails[i].scorecardAnswer)("multiple","checkbox"==o.attributeType),m.Eb(3),m.rc("ngForOf",o.scorecardAnswers),m.Eb(1),m.Oc("visibility","hidden"),m.sc("id","selectError"+i),m.Eb(1),m.Vc("Please select ",o.validationName,"")}}function io(e,t){if(1&e&&(m.Xb(0,"div",33),m.Xb(1,"div",24),m.Xb(2,"div",29),m.Xb(3,"mat-hint"),m.Tc(4),m.Rc(5,to,2,0,"span",34),m.Wb(),m.Wb(),m.Rc(6,no,5,10,"div",35),m.Rc(7,oo,8,10,"div",36),m.Wb(),m.Wb()),2&e){var n=t.$implicit,a=t.index;m.Eb(4),m.Wc("",a+1,".",n.scorecardQuestion,""),m.Eb(1),m.rc("ngIf",n.isRequired),m.Eb(1),m.rc("ngIf","textbox"==n.attributeType),m.Eb(1),m.rc("ngIf","drop-down"==n.attributeType||"checkbox"==n.attributeType)}}function ro(e,t){if(1&e){var n=m.Yb();m.Xb(0,"mat-expansion-panel",21),m.Xb(1,"mat-expansion-panel-header"),m.Xb(2,"mat-panel-title"),m.Xb(3,"mat-icon",22),m.Tc(4,"check_circle"),m.Wb(),m.Xb(5,"span",20),m.Tc(6),m.Wb(),m.Wb(),m.Wb(),m.Xb(7,"mat-card",23),m.Xb(8,"mat-card-content",24),m.Xb(9,"div"),m.Xb(10,"h3"),m.Tc(11,"Questions"),m.Wb(),m.Wb(),m.Xb(12,"div",25),m.Xb(13,"div",26),m.Rc(14,io,8,5,"div",27),m.Xb(15,"div",28),m.Xb(16,"div",29),m.Xb(17,"mat-hint"),m.Tc(18,"Score"),m.Sb(19,"span",30),m.Wb(),m.Wb(),m.Xb(20,"div",24),m.Xb(21,"mat-form-field",31),m.Xb(22,"input",32),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)})("input",function(e){return m.Hc(n),m.jc().scoreCardValue(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=t.$implicit,o=m.jc();m.Eb(6),m.Vc("Applicant ",a.applicantId,""),m.Eb(8),m.rc("ngForOf",a.scoreCardDetails),m.Eb(8),m.rc("formControl",o.ScoreId)}}var co,so=((co=function(){function e(t,n,o,i,r,c,s,l,b){a(this,e),this.router=t,this.api=n,this.snack=o,this.fb=i,this.ls=r,this.elRef=c,this.renderer=s,this.cdr=l,this.accountService=b,this.sbMultiSelectAnswer=[],this.scoreboardQuestionsArray=[],this.scoreCardMappingArray=[],this.numberOfApplicant=new $.g(""),this.scoreCardId=new $.g(""),this.isDataSaved=!1,this.disableDoneBtn=!0,this.anyErrorExist=!1,this.isQualitativeScreen=!1,this.previousUrl="",this.showEditOption=!1,this.isLoanQualitativeScoreboard=!1,this.sbSelectAnswer=""}return i(e,[{key:"ngOnInit",value:function(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),console.log("LOAN ACCOUNT ID:: ",this.loanaccountID),this.accountType=this.ls.getItem("accountType"),this.loggedInUser=this.ls.getItem("ICUST_USER"),this.isQualitative=localStorage.getItem("Status"),this.no_of_applicants=this.ls.getItem("NO_OF_APPLICANTS"),console.log(this.no_of_applicants),console.log(this.loggedInUser),JSON.parse(this.ls.getItem("ASSESSMENT_QA_DONE")),this.isLoanQualitativeScoreboard=this.ls.getItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),null!=this.loanaccountID&&this.isLoanQualitativeScoreboard?(this.showEditOption=!0,this.isQualitativeScreen=!0,this.getAllQualitative()):(console.log("else"),this.showEditOption=!1,this.loadData())}},{key:"counter",value:function(e){return new Array(e)}},{key:"loadData",value:function(){var e=this;this.api.getScorecardQuestions(this.accountType).subscribe(function(t){console.log(t),console.log(e.no_of_applicants),!e.no_of_applicants&&t&&(e.no_of_applicants=t.length);for(var n=0;n<e.no_of_applicants;n++){e.scoreboardQuestionsArray.push({scorecardQuestion:t,applicantId:n+1,scoreCardDetails:t});var a=[];console.log("data",e.scoreCardDetails);for(var o=0;o<t.length;o++)a.push({scoreCardQuestionId:t[o].scoreCardQuestionId,scorecardAnswer:null,scoreCardMappingId:null});e.scoreCardMappingArray.push({applicantId:n+1,scoreCardDetails:a})}console.log("data",e.scoreCardDetails),console.log("ques:",e.scoreboardQuestionsArray),e.cdr.markForCheck()})}},{key:"getAllQualitative",value:function(){var e=this;console.log(this.isQualitativeScreen),this.api.getLoanQualitativeScorecardDetails(this.loanaccountID).subscribe(function(t){e.qualitativeScoreboardSummary=t,console.log(e.qualitativeScoreboardSummary.scoreCardId+" : "+e.qualitativeScoreboardSummary.numberOfApplicant),e.scoreCardId.setValue(e.qualitativeScoreboardSummary.scoreCardId),e.numberOfApplicant.setValue(e.qualitativeScoreboardSummary.numberOfApplicant),console.log("scorecard id: ",e.scoreCardId),console.log("numberOfApplicant : ",e.numberOfApplicant),console.log(e.qualitativeScoreboardSummary),e.scoreboardQuestionsArray=[];for(var n=function(t){console.log("inside for",e.qualitativeScoreboardSummary.scoreCardMapping),e.api.getScorecardQuestions(e.accountType).subscribe(function(n){console.log(n),console.log(e.no_of_applicants),!e.no_of_applicants&&n&&(e.no_of_applicants=n.length);for(var a=0;a<e.no_of_applicants;a++){e.scoreboardQuestionsArray.push({scorecardQuestion:n,applicantId:a+1,scoreCardDetails:n}),console.log(e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails.length);for(var o=0;o<e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails.length;o++){console.log(e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails);var i=e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails;console.log(i),e.sbMultiSelectAnswer.push(i[o].scorecardAnswer),console.log(e.sbMultiSelectAnswer)}}console.log("data",e.scoreCardDetails),console.log("ques:",e.scoreboardQuestionsArray),e.cdr.markForCheck()}),e.scoreCardMappingArray=e.scoreboardQuestionsArray},a=0;a<e.qualitativeScoreboardSummary.scoreCardMapping.length;a++)n(a);console.log(e.scoreboardQuestionsArray,"scoreBoardQuestionArray"),e.disableDoneBtn=!1,e.cdr.markForCheck()})}},{key:"insertData",value:function(e,t,n,a,o,i){console.log("Answer: ",t,o,i),console.log("score vaue",this.scorevalue),"checkbox"==n&&(t=t.toString());for(var r=!1,c=!1,s=0;s<this.scoreCardMappingArray.length;s++)if(this.scoreCardMappingArray[s].applicantId==i){for(var l=0;l<this.scoreCardMappingArray[s].scoreCardDetails.length;l++)console.log(l,this.scoreCardMappingArray[s].scoreCardDetails[l]),this.scoreCardMappingArray[s].scoreCardDetails[l].scoreCardQuestionId==e&&(this.scoreCardMappingArray[s].scoreCardDetails[l].scorecardAnswer=t,r=!0);c=!0}if(!r){var b={};if(b.scoreCardQuestionId=e,b.scorecardAnswer=t,null!=a&&(b.scoreCardMappingId=a),c)for(var u=0;u<this.scoreCardMappingArray.length;u++)this.scoreCardMappingArray[u].applicantId==i&&(this.scoreCardMappingArray[u].scoreCardDetails.push(b),console.log(this.scoreCardMappingArray[u].scoreCardDetails));else this.scoreCardMappingArray.push({applicantId:i,scoreCardDetails:b})}if(this.scoreCardMappingArray.length==this.scoreboardQuestionsArray.length){for(var m=0,d=0;d<this.scoreCardMappingArray.length;d++)for(var p=0;p<this.scoreCardMappingArray[d].scoreCardDetails.length;p++){var f=this.scoreCardMappingArray[d].scoreCardDetails[p].scorecardAnswer;""!=f&&null!=f&&null!=f||m++}m>0?this.disableDoneBtn=!0:0==this.anyErrorExist&&0==m&&(this.disableDoneBtn=!1)}console.log("Map Array: ",this.scoreCardMappingArray)}},{key:"validateInputValue",value:function(e,t,n){var a="#inputError"+t;""==e||null==e||null==e?this.renderer.setStyle(this.elRef.nativeElement.querySelector(a),"visibility","visible"):isNaN(e)||"Name"!=n?(this.renderer.setStyle(this.elRef.nativeElement.querySelector(a),"visibility","hidden"),this.anyErrorExist=!1):(this.renderer.setStyle(this.elRef.nativeElement.querySelector(a),"visibility","visible"),this.anyErrorExist=!0)}},{key:"validateSelectValue",value:function(e,t){this.renderer.setStyle(this.elRef.nativeElement.querySelector("#selectError"+t),"visibility",""==e||null==e||null==e?"visible":"hidden")}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/assessment/list"])}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);console.log("inputChar",t),t=t.toString(),console.log("inputChar1",t),/[0-9]/.test(t=t)||e.preventDefault()}},{key:"scoreCardValue",value:function(e){console.log(e.target.value),this.scorevalue=e.target.value,this.applicantId=this.scoreboardQuestionsArray[0].applicantId,this.saveData()}},{key:"saveData",value:function(){console.log("scoreValue",this.scorevalue);for(var e=0;e<this.scoreCardMappingArray.length;e++)if(this.scoreCardMappingArray[e].applicantId==this.applicantId)for(var t=0;t<this.scoreCardMappingArray[e].scoreCardDetails.length;t++)console.log(t,this.scoreCardMappingArray[e].scoreCardDetails[t]),this.scoreCardMappingArray[e].scoreCardDetails[t].scoreData=this.scorevalue,console.log(this.scoreCardMappingArray[e].scoreCardDetails[t].scoreData)}},{key:"getAllData",value:function(e){var t=this;this.api.getAssessmentReportDetails(e).subscribe(function(e){t.assessmentReportSummary=e,console.log(t.assessmentReportSummary)})}},{key:"saveQualitativeScore",value:function(){var e=this,t={};console.log(this.no_of_applicants);var n=this.no_of_applicants;t.loanAccountId=this.loanaccountID,t.numberOfApplicant=n,t.scoreCardId=this.scoreCardId.value,t.loggedInUser=123,t.accountType="loan",t.scoreCardMapping=this.scoreCardMappingArray,console.log(t),this.api.saveQualitativeScorecard(t).subscribe(function(n){console.log("data",t.loanaccountID),e.snack.open("Loan Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.isDataSaved=!0},function(t){e.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.ls.setItem("LOAN_QUALITATIVE_SCOREBOARD_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/assessment/assessment-details"])}},{key:"noOfApplicant",value:function(e){console.log(e)}}]),e}()).\u0275fac=function(e){return new(e||co)(m.Rb(d.h),m.Rb(x.b),m.Rb(A.a),m.Rb($.f),m.Rb(W.a),m.Rb(m.l),m.Rb(m.I),m.Rb(m.h),m.Rb(ue.a))},co.\u0275cmp=m.Lb({type:co,selectors:[["app-loan-qualitative-scoreboard"]],decls:37,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxFlex","100",1,"mt-24"],[1,"mt-24"],[1,"card-title-text"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId",3,"formControl"],[4,"ngIf"],[1,"mt-32"],["class","mb-8",4,"ngFor","ngForOf"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"mb-8"],[1,"ml-8"],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"full-width","qdivcard"],[1,"full-width"],["fxLayout","column"],["fxLayout","row","fxFlex","70%","fxLayoutGap","35px"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],["fxFlex","50%",1,"flex-grow-1"],[1,"qDiv"],[1,"redC"],["appearance","outline",1,"full-width"],["matInput","","name","ScoreId","placeholder","Enter the Score",3,"formControl","keypress","input"],["fxLayout","row wrap",1,"full-width"],["class","redC",4,"ngIf"],["class","questions-tab",4,"ngIf"],["class","full-width",4,"ngIf"],[1,"questions-tab"],["appearance","outline",1,"questions-tab"],["matInput","",3,"required","autocomplete","maxlength","name","id","value","keyup","click"],[3,"id"],["disableOptionCentering","","placeholder","Select",3,"required","name","id","value","multiple","valueChange","click","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Qualitative Scoreboard"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"form"),m.Xb(9,"div",6),m.Sb(10,"div",7),m.Xb(11,"mat-card"),m.Xb(12,"mat-card-title"),m.Xb(13,"div",8),m.Tc(14,"Qualitative Scoreboard"),m.Wb(),m.Sb(15,"mat-divider"),m.Wb(),m.Xb(16,"mat-card-content"),m.Xb(17,"h4"),m.Xb(18,"b"),m.Tc(19,"Scorecard ID"),m.Wb(),m.Wb(),m.Xb(20,"h4"),m.Sb(21,"input",9),m.Rc(22,Ka,2,0,"mat-error",10),m.Wb(),m.Xb(23,"h3",11),m.Tc(24,"Description"),m.Wb(),m.Xb(25,"p"),m.Tc(26," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. "),m.Wb(),m.Rc(27,eo,5,1,"div",12),m.Wb(),m.Wb(),m.Sb(28,"div",11),m.Xb(29,"mat-accordion",13),m.Rc(30,ro,23,3,"mat-expansion-panel",14),m.Wb(),m.Wb(),m.Wb(),m.Xb(31,"div",15),m.Xb(32,"button",16),m.fc("click",function(){return t.goBack()}),m.Tc(33,"Back"),m.Wb(),m.Sb(34,"span",17),m.Xb(35,"button",18),m.fc("click",function(){return t.saveQualitativeScore()}),m.Tc(36,"Next"),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(21),m.rc("formControl",t.scoreCardId),m.Eb(1),m.rc("ngIf",t.scoreCardId.touched&&0==t.scoreCardId.value),m.Eb(5),m.rc("ngForOf",t.scoreboardQuestionsArray),m.Eb(3),m.rc("ngForOf",t.scoreboardQuestionsArray),m.Eb(5),m.rc("disabled",t.disableDoneBtn||!t.numberOfApplicant.valid))},directives:[p.e,p.b,$.C,$.s,$.t,f.a,f.h,S.a,f.d,Q.b,$.c,Ja.a,$.r,$.h,u.n,u.m,Za.a,h.b,g.b,Za.c,Za.e,Za.f,O.a,p.f,g.f,g.c,J.a,Z.n],styles:[".qaDiv[_ngcontent-%COMP%]{padding:1.5rem 1rem}.qDiv[_ngcontent-%COMP%]{padding:.5em 0}.redC[_ngcontent-%COMP%]{color:red}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.qdivcard[_ngcontent-%COMP%]{margin-left:3px}.Back[_ngcontent-%COMP%]{background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;color:#fff}.Next[_ngcontent-%COMP%]{background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}input[_ngcontent-%COMP%]{outline:none;border:none}.div1[_ngcontent-%COMP%]{padding-left:12px}.questions-tab[_ngcontent-%COMP%]{width:60%}.mat-card-content[_ngcontent-%COMP%]{padding-top:5px}legend[_ngcontent-%COMP%]{margin-left:-10px}.mb-8[_ngcontent-%COMP%]{box-shadow:none!important}"]}),co),lo=r("xNiI");function bo(e,t){if(1&e&&(m.Xb(0,"mat-option",40),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.branchName),m.Eb(1),m.Vc(" ",n.branchName," ")}}function uo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Mortgaged Branch is Required! "),m.Wb())}function mo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Market Value is Required! "),m.Wb())}function po(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Building is Required! "),m.Wb())}function fo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Locality is Required! "),m.Wb())}function go(e,t){if(1&e&&(m.Xb(0,"mat-option",40),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.stateName),m.Eb(1),m.Vc(" ",n.stateName,"")}}function ho(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," State is Required! "),m.Wb())}function vo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Valid Zip Code is Required!(5-10 digits) "),m.Wb())}function yo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Street is Required! "),m.Wb())}function Wo(e,t){if(1&e&&(m.Xb(0,"mat-option",40),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Xo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country is Required! "),m.Wb())}function xo(e,t){if(1&e&&(m.Xb(0,"mat-option",40),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.value1),m.Eb(1),m.Uc(n.value1)}}function Co(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," City is Required! "),m.Wb())}function Io(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",15),m.Xb(4,"mat-form-field",16),m.Xb(5,"mat-label"),m.Tc(6,"Mortgaged Branch*"),m.Wb(),m.Xb(7,"mat-select",17),m.Rc(8,bo,2,2,"mat-option",18),m.Wb(),m.Rc(9,uo,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Xb(10,"div",15),m.Xb(11,"mat-form-field",16),m.Xb(12,"mat-label"),m.Tc(13,"Dimensions"),m.Wb(),m.Xb(14,"mat-select",20),m.Xb(15,"mat-option",21),m.Tc(16,"Sq.Ft"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(17,"div",15),m.Xb(18,"mat-form-field",16),m.Xb(19,"mat-label"),m.Tc(20,"Asset Status"),m.Wb(),m.Xb(21,"mat-select",22),m.Xb(22,"mat-option",23),m.Tc(23,"Under Construction"),m.Wb(),m.Xb(24,"mat-option",24),m.Tc(25,"Completed Construction"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(26,"div",25),m.Xb(27,"div",15),m.Xb(28,"mat-form-field",16),m.Xb(29,"mat-label"),m.Tc(30,"Home Type"),m.Wb(),m.Xb(31,"mat-select",26),m.Xb(32,"mat-option",27),m.Tc(33,"Villa"),m.Wb(),m.Xb(34,"mat-option",28),m.Tc(35,"Flat"),m.Wb(),m.Xb(36,"mat-option",29),m.Tc(37,"Apartment"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(38,"div",15),m.Xb(39,"mat-form-field",16),m.Xb(40,"mat-label"),m.Tc(41,"Market Value*"),m.Wb(),m.Xb(42,"input",30),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(43,mo,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(44,"mat-card-title"),m.Xb(45,"fieldset",31),m.Xb(46,"legend",7),m.Tc(47,"Address"),m.Wb(),m.Wb(),m.Wb(),m.Xb(48,"div",32),m.Xb(49,"div",25),m.Xb(50,"div",15),m.Xb(51,"mat-form-field",16),m.Xb(52,"mat-label"),m.Tc(53,"Building*"),m.Wb(),m.Sb(54,"input",33),m.Rc(55,po,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Xb(56,"div",15),m.Xb(57,"mat-form-field",16),m.Xb(58,"mat-label"),m.Tc(59,"Locality*"),m.Wb(),m.Sb(60,"input",34),m.Rc(61,fo,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Xb(62,"div",15),m.Xb(63,"mat-form-field",16),m.Xb(64,"mat-label"),m.Tc(65,"State*"),m.Wb(),m.Xb(66,"mat-select",35),m.fc("selectionChange",function(e){return m.Hc(n),m.jc().getCityName(e.value)}),m.Rc(67,go,2,2,"mat-option",18),m.Wb(),m.Rc(68,ho,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Xb(69,"div",15),m.Xb(70,"mat-form-field",16),m.Xb(71,"mat-label"),m.Tc(72,"Zip Code*"),m.Wb(),m.Xb(73,"input",36),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(74,vo,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(75,"div",14),m.Xb(76,"div",15),m.Xb(77,"mat-form-field",16),m.Xb(78,"mat-label"),m.Tc(79,"Street*"),m.Wb(),m.Sb(80,"input",37),m.Rc(81,yo,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Xb(82,"div",15),m.Xb(83,"mat-form-field",16),m.Xb(84,"mat-label"),m.Tc(85,"Country*"),m.Wb(),m.Xb(86,"mat-select",38),m.fc("selectionChange",function(e){return m.Hc(n),m.jc().getStateName(e.value)}),m.Rc(87,Wo,2,2,"mat-option",18),m.Wb(),m.Rc(88,Xo,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Xb(89,"div",15),m.Xb(90,"mat-form-field",16),m.Xb(91,"mat-label"),m.Tc(92,"City*"),m.Wb(),m.Xb(93,"mat-select",39),m.Rc(94,xo,2,2,"mat-option",18),m.Wb(),m.Rc(95,Co,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.jc();m.rc("formGroup",a.assetForm),m.Eb(8),m.rc("ngForOf",a.arrayAccountBranch),m.Eb(1),m.rc("ngIf",!a.assetForm.get("mortgagedBranch").valid&&a.assetForm.get("mortgagedBranch").touched),m.Eb(34),m.rc("ngIf",!a.assetForm.get("marketValue").valid&&a.assetForm.get("marketValue").touched),m.Eb(12),m.rc("ngIf",!a.assetForm.get("building").valid&&a.assetForm.get("building").touched),m.Eb(6),m.rc("ngIf",!a.assetForm.get("locality").valid&&a.assetForm.get("locality").touched),m.Eb(6),m.rc("ngForOf",a.arrayState),m.Eb(1),m.rc("ngIf",!a.assetForm.get("state").valid&&a.assetForm.get("state").touched),m.Eb(6),m.rc("ngIf",!a.assetForm.get("zipCode").valid&&a.assetForm.get("zipCode").touched),m.Eb(7),m.rc("ngIf",!a.assetForm.get("street").valid&&a.assetForm.get("street").touched),m.Eb(6),m.rc("ngForOf",a.arrayCountry),m.Eb(1),m.rc("ngIf",!a.assetForm.get("country").valid&&a.assetForm.get("country").touched),m.Eb(6),m.rc("ngForOf",a.arrayCity),m.Eb(1),m.rc("ngIf",!a.assetForm.get("city").valid&&a.assetForm.get("city").touched)}}var Ao,Oo=((Ao=function(){function e(t,n,o,i,r,c,s){a(this,e),this.fb=t,this.loader=n,this.apiService=o,this.snack=i,this.ls=r,this.router=c,this.accountService=s,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.showEditOption=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanaccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.getAccountBranchDetails(),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountId=this.loanInfo.loanAccountId),console.log("this.loanaccountId",this.loanaccountId),this.buildformGroup(),this.getCountryName("country"),this.getStateName("state");var t=JSON.parse(this.ls.getItem("ASSET_DETAIL_DONE"));setTimeout(function(){null!=e.loanaccountId&&t?(e.showEditOption=!0,e.getAssetDetails()):(console.log("else"),e.showEditOption=!1,e.buildformGroup())},10)}},{key:"getAssetDetails",value:function(){var e=this;this.loader.open(),this.apiService.getAssetails(this.loanaccountId).subscribe(function(t){e.loader.close(),e.assetDetails=t,e.getStateName(e.assetDetails.country),e.getCityName(e.assetDetails.state),console.log(e.assetDetails),e.buildformGroup(e.assetDetails)},function(t){e.loader.close()})}},{key:"getCountryName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(e){for(var n=0;n<e.length;n++)"A"===e[n].authStatus&&(t.arrayCountry.push(e[n].countryName),t.arrayCountry.sort())})}},{key:"getStateName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(n){for(var a=0;a<n.length;a++)if(n[a].countryName==e){t.apiService.getStateByCountryId(n[a].id).subscribe(function(e){t.arrayState=e});break}})}},{key:"getCityName",value:function(e){var t=this;this.entityName="city",console.log(e),this.apiService.getDropDownValues1(this.entityName,e).subscribe(function(e){t.arrayCity=e,console.log("--\x3e",t.arrayCity)})}},{key:"getAccountBranchDetails",value:function(){var e=this;this.apiService.getAccountBranch().subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"buildformGroup",value:function(e){console.log("data",e),this.assetForm=this.fb.group({id:[""],loanaccountId:this.loanaccountId,mortgagedBranch:[e?e.mortgagedBranch:"",$.A.required],dimensions:[e?e.dimensions:""],assetStatus:[e?e.assetStatus:""],homeType:[e?e.homeType:""],marketValue:[e?e.marketValue:"",$.A.required],building:[e?e.building:"",$.A.required],street:[e?e.street:"",$.A.required],locality:[e?e.locality:"",$.A.required],city:[e?e.city:"",$.A.required],state:[e?e.state:"",$.A.required],country:[e?e.country:"",$.A.required],zipCode:[e?e.zipCode:"",[$.A.required,$.A.pattern("^((\\+91-?)|0)?[0-9]{5,10}$")]]})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/loan-details"])}},{key:"next",value:function(){this.ls.setItem("ASSET_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/customer-information"])}},{key:"submitForm",value:function(){var e=this,t={loanAccountId:this.loanaccountId,mortgagedBranch:this.assetForm.value.mortgagedBranch,street:this.assetForm.value.street,locality:this.assetForm.value.locality,building:this.assetForm.value.building,marketValue:this.assetForm.value.marketValue,homeType:this.assetForm.value.homeType,dimensions:this.assetForm.value.dimensions,city:this.assetForm.value.city,assetStatus:this.assetForm.value.assetStatus,state:this.assetForm.value.state,country:this.assetForm.value.country,zipCode:this.assetForm.value.zipCode};console.log("payload",t),this.apiService.upsertAssetDetails(t).subscribe(function(t){console.log("data",t),null!=t&&e.snack.open("Asset Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.next()}}]),e}()).\u0275fac=function(e){return new(e||Ao)(m.Rb($.f),m.Rb(Pe.a),m.Rb(x.b),m.Rb(A.a),m.Rb(W.a),m.Rb(d.h),m.Rb(ue.a))},Ao.\u0275cmp=m.Lb({type:Ao,selectors:[["app-asset-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/asset_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["name","mod","formControlName","mortgagedBranch","placeholder","Select","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","dimensions","formControlName","dimensions","disableOptionCentering",""],["value","Sq.Ft"],["name","mod","formControlName","assetStatus","disableOptionCentering",""],["value","Under Construction"],["value","Completed Construction"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["name","homeType","formControlName","homeType","disableOptionCentering",""],["value","Villa"],["value","Flat"],["value","Apartment"],["formControlName","marketValue","matInput","","name","marketValue","placeholder","Market Value",1,"alignment",3,"keypress"],[1,"alignChange"],["fxLayout","row","fxLayoutGap","25px",1,"mt-16"],["matInput","","formControlName","building","name","building","placeholder","Building","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["matInput","","formControlName","locality","name","locality","placeholder","Locality","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')",1,"alignment"],["name","state","formControlName","state","placeholder","Select","disableOptionCentering","",3,"selectionChange"],["matInput","","formControlName","zipCode","minlength","5","maxlength","10","name","zipCode","placeholder","Zip Code","autocomplete","off",1,"alignment",3,"keypress"],["matInput","","formControlName","street","name","street","placeholder","Street","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')",1,"alignment"],["name","country","formControlName","country","disableOptionCentering","","placeholder","Select",3,"selectionChange"],["name","city","formControlName","city","placeholder","Select","disableOptionCentering",""],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h1"),m.Tc(7,"Asset Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title"),m.Xb(11,"fieldset"),m.Xb(12,"legend",7),m.Tc(13,"Asset Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,Io,96,14,"form",8),m.Wb(),m.Wb(),m.Xb(16,"div",9),m.Xb(17,"button",10),m.fc("click",function(){return t.goBack()}),m.Tc(18," Back "),m.Wb(),m.Xb(19,"button",11),m.fc("click",function(){return t.submitForm()}),m.Tc(20," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.assetForm),m.Eb(4),m.rc("disabled",!t.assetForm.valid))},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,g.c,g.g,J.a,$.r,$.i,u.m,Z.n,$.c,Q.b,$.n,$.m,g.b],styles:[".inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{margin-top:5px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName1[_ngcontent-%COMP%]{margin-top:10px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:20%;margin-left:-1%}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}"]}),Ao),To=r("h9BM");function Do(e,t){if(1&e&&(m.Xb(0,"mat-option",39),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function ko(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Business Product Name is Required!"),m.Wb())}function So(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Application Date is Required!"),m.Wb())}function _o(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Estimated Cost is Required!"),m.Wb())}function Ro(e,t){1&e&&(m.Xb(0,"small",40),m.Tc(1," Loan Amount should not be greater than Estimated Cost! "),m.Wb())}function Eo(e,t){if(1&e&&(m.Xb(0,"mat-option",39),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.branchName),m.Eb(1),m.Uc(n.branchName)}}function Mo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Account Type is Required!"),m.Wb())}function Po(e,t){1&e&&(m.Xb(0,"small",40),m.Tc(1," Customer Contribution should not be greater than Estimated Cost! "),m.Wb())}function No(e,t){if(1&e&&(m.Xb(0,"mat-option",39),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function wo(e,t){if(1&e&&(m.Xb(0,"mat-option",39),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Fo(e,t){if(1&e&&(m.Xb(0,"mat-option",39),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Lo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Loan Tenure is Required!"),m.Wb())}function Vo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Loan Tenure is Required!"),m.Wb())}function qo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Loan Tenure is Required!"),m.Wb())}function jo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Input Valid Loan Tenure!"),m.Wb())}function Bo(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",13),m.Xb(1,"div",14),m.Xb(2,"div",15),m.Xb(3,"div",16),m.Xb(4,"mat-form-field",17),m.Xb(5,"mat-label"),m.Tc(6,"Business Product Name*"),m.Wb(),m.Xb(7,"mat-select",18),m.fc("selectionChange",function(e){return m.Hc(n),m.jc().getAccountType(e.value)}),m.Xb(8,"mat-option"),m.Tc(9,"Select"),m.Wb(),m.Rc(10,Do,2,2,"mat-option",19),m.Wb(),m.Rc(11,ko,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(12,"div",16),m.Xb(13,"mat-form-field",17),m.Xb(14,"mat-label"),m.Tc(15,"Application Date*"),m.Wb(),m.Sb(16,"input",21),m.Xb(17,"div",22),m.Sb(18,"mat-datepicker-toggle",23),m.Sb(19,"mat-datepicker",null,24),m.Wb(),m.Wb(),m.Rc(21,So,2,0,"mat-error",20),m.Wb(),m.Xb(22,"div",16),m.Xb(23,"mat-form-field",17),m.Xb(24,"mat-label"),m.Tc(25,"Estimated Cost*"),m.Wb(),m.Xb(26,"input",25),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc();return e.calculateLoanAmmount(e.loanForm.value)})("input",function(){m.Hc(n);var e=m.jc();return e.calculateestimatedCost(e.loanForm.value)}),m.Wb(),m.Rc(27,_o,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(28,"div",16),m.Xb(29,"mat-form-field",17),m.Xb(30,"mat-label"),m.Tc(31,"Loan Amount *"),m.Wb(),m.Xb(32,"input",26),m.fc("input",function(){m.Hc(n);var e=m.jc();return e.calculatCustomerContri(e.loanForm.value)})("input",function(){m.Hc(n);var e=m.jc();return e.calculateestimatedCost(e.loanForm.value)}),m.Wb(),m.Wb(),m.Rc(33,Ro,2,0,"small",27),m.Wb(),m.Xb(34,"div",16),m.Xb(35,"mat-form-field",17),m.Xb(36,"mat-label"),m.Tc(37,"Purpose of Loan"),m.Wb(),m.Sb(38,"textarea",28),m.Wb(),m.Wb(),m.Wb(),m.Xb(39,"div",15),m.Xb(40,"div",16),m.Xb(41,"mat-form-field",17),m.Xb(42,"mat-label"),m.Tc(43,"Account Branch"),m.Wb(),m.Xb(44,"mat-select",29),m.fc("selectionChange",function(e){return m.Hc(n),m.jc().onChangeBranch(e)}),m.Xb(45,"mat-option"),m.Tc(46,"Select"),m.Wb(),m.Rc(47,Eo,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(48,"div",16),m.Xb(49,"mat-form-field",17),m.Xb(50,"mat-label"),m.Tc(51,"Account Type*"),m.Wb(),m.Sb(52,"input",30),m.Rc(53,Mo,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(54,"div",16),m.Xb(55,"mat-form-field",17),m.Xb(56,"mat-label"),m.Tc(57,"Customer Contribution"),m.Wb(),m.Xb(58,"input",31),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc();return e.calculatCustomerContri(e.loanForm.value)})("input",function(){m.Hc(n);var e=m.jc();return e.calculateLoanAmmount(e.loanForm.value)}),m.Wb(),m.Sb(59,"div"),m.Wb(),m.Rc(60,Po,2,0,"small",27),m.Wb(),m.Xb(61,"div",16),m.Xb(62,"div",0),m.Xb(63,"mat-hint",32),m.Tc(64,"Loan Tenure *"),m.Wb(),m.Xb(65,"mat-form-field",33),m.Xb(66,"mat-label"),m.Tc(67,"Year*"),m.Wb(),m.Xb(68,"mat-select",34),m.Rc(69,No,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Xb(70,"mat-form-field",35),m.Xb(71,"mat-label"),m.Tc(72,"Month*"),m.Wb(),m.Xb(73,"mat-select",36),m.Rc(74,wo,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Xb(75,"mat-form-field",37),m.Xb(76,"mat-label"),m.Tc(77,"Day*"),m.Wb(),m.Xb(78,"mat-select",38),m.Rc(79,Fo,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Rc(80,Lo,2,0,"mat-error",20),m.Rc(81,Vo,2,0,"mat-error",20),m.Rc(82,qo,2,0,"mat-error",20),m.Rc(83,jo,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(20),o=m.jc();m.rc("formGroup",o.loanForm),m.Eb(10),m.rc("ngForOf",o.arrayAccountBranch),m.Eb(1),m.rc("ngIf",o.loanForm.get("businessProductName").touched&&!o.loanForm.get("businessProductName").valid),m.Eb(5),m.rc("matDatepicker",a)("min",o.minDate)("max",o.maxDate),m.Eb(2),m.rc("for",a),m.Eb(3),m.rc("ngIf",!o.loanForm.get("applicationDate").valid&&o.loanForm.get("applicationDate").touched),m.Eb(6),m.rc("ngIf",!o.loanForm.get("estimatedCost").valid&&o.loanForm.get("estimatedCost").touched),m.Eb(6),m.rc("ngIf",o.flag1),m.Eb(14),m.rc("ngForOf",o.screenArray),m.Eb(5),m.rc("readonly",!0),m.Eb(1),m.rc("ngIf",!o.loanForm.get("accountType").valid&&o.loanForm.get("accountType").touched),m.Eb(7),m.rc("ngIf",o.flag),m.Eb(9),m.rc("ngForOf",o.years),m.Eb(5),m.rc("ngForOf",o.months),m.Eb(5),m.rc("ngForOf",o.days),m.Eb(1),m.rc("ngIf",!o.loanForm.get("year").valid&&o.loanForm.get("year").touched),m.Eb(1),m.rc("ngIf",!o.loanForm.get("month").valid&&o.loanForm.get("month").touched),m.Eb(1),m.rc("ngIf",!o.loanForm.get("day").valid&&o.loanForm.get("day").touched),m.Eb(1),m.rc("ngIf","0 year"==o.loanForm.get("year").value&&"0 month"==o.loanForm.get("month").value&&"0 day"==o.loanForm.get("day").value)}}var zo,Uo=((zo=function(){function e(t,n,o,i,r,c,s,l){a(this,e),this.fb=t,this.api=n,this.ls=o,this.loader=i,this.apiService=r,this.snack=c,this.accountService=s,this.router=l,this.showEditOption=!1,this.flag=!1,this.flag1=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.minDate=new Date,this.maxDate=new Date,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.maxDate.setDate(this.maxDate.getDate()+13),this.loanForm=this.fb.group({loanAccountId:[""],businessProductName:["",[$.A.required]],accountBranch:[""],applicationDate:["",[$.A.required]],accountType:[""],estimatedCost:[""],customerContribution:[""],loanAmount:[""],loanTenure:[""],year:[""],month:[""],day:[""],purposeOfLoan:[""],accountCurrency:[""]})}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var n=0;n<=11;n++)this.months.push(n+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.getAccountBranchDetails(),this.loanaccountID=this.ls.getItem("loanAccountId"),console.log("this.productaccountID1",this.loanaccountID),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);var o=JSON.parse(this.ls.getItem("LOAN_DETAIL_DONE"));setTimeout(function(){null!=e.loanaccountID&&o?(e.showEditOption=!0,e.getAccountDetails()):(console.log("else"),e.showEditOption=!1,e.buildformGroup())},1),this.getBusinessProductDetails("business_product_name")}},{key:"getAccountDetails",value:function(){var e=this;this.loader.open(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(t){e.loader.close(),e.loanDetails=t,console.log(e.loanDetails),e.buildformGroup(e.loanDetails)},function(t){e.loader.close()})}},{key:"getBusinessProductDetails",value:function(e){var t=this;this.apiService.getBusinessProductName(e).subscribe(function(e){console.log("data:: AccountBranch ",e),t.arrayAccountBranch=e})}},{key:"getAccountType",value:function(e){var t=this;console.log("State -- ",e),this.apiService.getAccount(e).subscribe(function(e){console.log("data.accountType",e),t.accountType=e.accountTypeName,console.log("this.accountType",t.accountType),t.loanForm.get("accountType").setValue(e.accountTypeName)})}},{key:"getAccountBranchDetails",value:function(){var e=this;this.api.getAccountBranch().subscribe(function(t){console.log("data:: AccountBranch ",t),e.screenArray=t,e.screenArrayData=t,0==e.screenArray.length&&e.screenArray.push(e.branchName),console.log("this.branchName::",e.branchName,e.screenArray),e.currencyData=e.screenArray.find(function(t){return t.branchName==e.branchName}),console.log("Currency",e.currencyData),null==e.currencyData&&null==e.currencyData||e.loanForm.get("accountCurrency").setValue(e.currencyData.branchCcy)})}},{key:"onChangeBranch",value:function(e){this.currencyData=this.screenArray.find(function(t){return t.branchName==e.value}),null==this.currencyData&&null==this.currencyData||this.loanForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}},{key:"buildformGroup",value:function(e){var t=e?re(e.applicationDate).format():"";console.log(t),this.loanForm=this.fb.group({loanAccountId:[this.loanaccountID],businessProductName:[e?e.businessProductName:"",[$.A.required]],accountBranch:[e?e.accountBranch:""],applicationDate:[e?t:"",[$.A.required]],accountType:[e?e.accountType:"",[$.A.required]],estimatedCost:[e?e.estimatedCost:"",[$.A.required]],customerContribution:[e?e.customerContribution:""],loanAmount:[e?e.loanAmount:"",[$.A.required]],purposeOfLoan:[e?e.purposeOfLoan:""],accountCurrency:[e?e.accountCurrency:""],loanTenure:[e?e.loanTenure:""],day:[e?e.loanTenure.split("-")[2]:"",[$.A.required]],month:[e?e.loanTenure.split("-")[1]:"",[$.A.required]],year:[e?e.loanTenure.split("-")[0]:"",[$.A.required]]})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/list"])}},{key:"next",value:function(){this.ls.setItem("LOAN_DETAIL_DONE",!0),console.log("this.accountType",this.accountType),console.log("this.ls.accounttype",this.ls.getItem("accountType")),"Home Loan"==(this.accountType||this.ls.getItem("accountType"))?(this.ls.setItem("isHomeLoan",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/asset-details"])):"Vehicle Loan"==(this.accountType||this.ls.getItem("accountType"))?(this.ls.setItem("isVehicleLoan",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/vehicle-details"])):(this.ls.setItem("isEducationLoan",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/admission-details"]))}},{key:"assign",value:function(e){this.api.setAccountId({loanAccountId:e}),console.log("loan",this.loanAccountId)}},{key:"keyPressofScreems",value:function(e){var t=e.target.value.toLowerCase();this.resultOfScreen=this.screenArrayData.filter(function(e){return e.toLowerCase().includes(t)}),this.screenArray=this.resultOfScreen}},{key:"submitForm",value:function(){var e=this,t=new Date;t=this.loanForm.value.applicationDate,console.log("applicationDate",this.loanForm.value.applicationDate);var n=re(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",n);var a=new Date(n);console.log("ck",a);var o=this.loanForm.value.loanAmount;o=parseInt(o);var i=this.loanForm.value.estimatedCost;i=parseInt(i);var r=this.loanForm.value.year+"-"+this.loanForm.value.month+"-"+this.loanForm.value.day;this.loanForm.get("loanTenure").setValue(r),delete this.loanForm.value.year,delete this.loanForm.value.month,delete this.loanForm.value.day;var c={loanAccountId:this.showEditOption?this.loanaccountID:null,businessProductName:this.loanForm.value.businessProductName,accountBranch:this.loanForm.value.accountBranch,applicationDate:n,accountType:this.loanForm.value.accountType,estimatedCost:i,customerContribution:this.loanForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanForm.value.purposeOfLoan,loanTenure:this.loanForm.value.loanTenure,accountCurrency:this.loanForm.value.accountCurrency};console.log("payload",c),this.apiService.saveLoanDetails(c).subscribe(function(t){if(console.log("data",t.loanAccountId),e.loanAccountId=t.loanAccountId,console.log("loanAccountid",e.loanAccountId),e.assign(t.loanAccountId),200===t||null!==t){e.apiService.updateLoanDetailsStatus({loanAccountId:t.loanAccountId,status:"ONGOING"}).subscribe(function(e){}),sessionStorage.setItem("loanAccountId",t.loanAccountid);var n={loanAccountid:t.loanAccountid};e.ls.setItem("loanAmount",t.loanAmount),e.ls.setItem("fundByStatus",n),e.ls.setItem("accountType",t.accountType),e.ls.setItem("loanAccountId",t.loanAccountId),e.ls.setItem("productName",t.businessProductName),e.loanaccountID=e.ls.getItem("loanAccountid"),console.log("this.productaccountID",e.loanaccountID),e.snack.open("Loan Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}500===t&&(e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),e.next()})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);console.log("inputChar",t),t=t.toString(),console.log("inputChar1",t),/[0-9]/.test(t=t)||e.preventDefault()}},{key:"calculateLoanAmmount",value:function(e){if(console.log("value",e.customerContribution),""===e.customerContribution)return Number(e.estimatedCost);if(""==e.customerContribution||0==e.customerContribution){var t=Number(e.estimatedCost)-Number(e.loanAmount);this.loanForm.controls.customerContribution.setValue(t)}else{Number(e.estimatedCost)<Number(e.customerContribution)?e.estimatedCost&&(this.flag=!0,console.log("this.flag",this.flag)):this.flag=!1,Number(e.estimatedCost)<Number(e)?console.log("this.flag",this.flag1):this.flag1=!1;var n=Number(e.estimatedCost)-Number(e.customerContribution);this.loanForm.controls.loanAmount.setValue(n<0?0:n)}}},{key:"calculateestimatedCost",value:function(e){if(console.log("value",e.loanAmount),""!==e.loanAmount)if(""==e.loanAmount||0==e.loanAmount){var t=Number(e.estimatedCost)-Number(e.customerContribution);this.loanForm.controls.loanAmount.setValue(t)}else{Number(e.estimatedCost)<Number(e.loanAmount)?""!==e.estimatedCost&&(this.flag1=!0,console.log("this.flag",this.flag1)):this.flag1=!1,Number(e.estimatedCost)<Number(e)?console.log("this.flag",this.flag):this.flag=!1;var n=Number(e.estimatedCost)-Number(e.loanAmount);this.loanForm.controls.customerContribution.setValue(n<0?0:n)}}},{key:"calculatCustomerContri",value:function(e){if(console.log("value",e.loanAmount),""!=e.customerContribution&&""!=e.loanAmount&&""==e.estimatedCost){var t=Number(e.customerContribution)+Number(e.loanAmount);this.loanForm.controls.estimatedCost.setValue(t)}}}]),e}()).\u0275fac=function(e){return new(e||zo)(m.Rb($.f),m.Rb(x.b),m.Rb(W.a),m.Rb(Pe.a),m.Rb(x.b),m.Rb(A.a),m.Rb(ue.a),m.Rb(d.h))},zo.\u0275cmp=m.Lb({type:zo,selectors:[["app-loan-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,"alignChange"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["name","account_branch","placeholder","Select ","formControlName","businessProductName","disableOptionCentering","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","name","date","formControlName","applicationDate","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker","min","max"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","formControlName","estimatedCost","name","a_sig","autocomplete","off","placeholder","Estimated Cost",1,"alignment",3,"keypress","input"],["matInput","","formControlName","loanAmount","autocomplete","off","name","a_sig","placeholder","Loan Amount",1,"alignment",3,"input"],["style","color:red;",4,"ngIf"],["matInput","","formControlName","purposeOfLoan","name","remark","placeholder","Purpose of Loan",1,"alignment"],["name","mod","placeholder","Select","formControlName","accountBranch","disableOptionCentering","",3,"selectionChange"],["matInput","","name","accountType","placeholder","Account Type","formControlName","accountType",1,"alignment",3,"readonly"],["matInput","","formControlName","customerContribution","name","a_sig","placeholder","Customer Contribution","autocomplete","off",1,"alignment",3,"keypress","input"],[1,"tenre"],["appearance","outline","fxFlex","24.4%",1,"full-width","tenure1"],["name","year","placeholder","Year","formControlName","year","disableOptionCentering",""],["appearance","outline","fxFlex","23.4%",1,"full-width","tenure1"],["name","month","placeholder","Month","formControlName","month","disableOptionCentering",""],["appearance","outline","fxFlex","24%",1,"full-width","tenure2"],["name","day","placeholder","Day","formControlName","day","disableOptionCentering",""],[3,"value"],[2,"color","red"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Loan Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title",7),m.Xb(11,"fieldset"),m.Xb(12,"legend",8),m.Tc(13,"Loan Information"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,Bo,84,21,"form",9),m.Wb(),m.Wb(),m.Xb(16,"div",10),m.Xb(17,"button",11),m.fc("click",function(){return t.goBack()}),m.Tc(18," Back "),m.Wb(),m.Xb(19,"button",12),m.fc("click",function(){return t.submitForm()}),m.Tc(20," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.loanForm),m.Eb(4),m.rc("disabled",!t.loanForm.valid||t.flag||t.flag1||"0 year"==t.loanForm.get("year").value&&"0 month"==t.loanForm.get("month").value&&"0 day"==t.loanForm.get("day").value))},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,g.c,g.g,J.a,$.r,$.i,Z.n,u.m,Q.b,$.c,ce.e,ce.g,g.j,ce.d,g.f,g.b],styles:[".inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{margin-top:5px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName1[_ngcontent-%COMP%]{height:48px;flex-direction:row;display:flex;margin-top:10px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.tenre[_ngcontent-%COMP%]{margin-top:19px!important}.tenure0[_ngcontent-%COMP%], .tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:3%!important}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}.datechange[_ngcontent-%COMP%]{height:10px;margin-right:10px}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.inputMatName[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.sqInput1[_ngcontent-%COMP%]{width:30%;margin-left:.5%;height:48px;margin-top:5px}#myDIV[_ngcontent-%COMP%]{height:40px;margin-top:20px;font-size:17px;background-color:#fff;font-family:Verdana;margin-left:27px}.alignChange[_ngcontent-%COMP%]{margin-right:4px}.dataChange[_ngcontent-%COMP%]{height:48px}"]}),zo),Ho=r("iC2e"),Go=r("eQBv"),Yo=r("abKK"),$o=r("2Fcj"),Qo=r("52qL"),Jo=r("DdyD"),Zo=function(){return{y:"50px",delay:"300ms"}},Ko=function(e){return{value:"*",params:e}};function ei(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",26),m.Xb(1,"mat-card",27),m.Xb(2,"div",28),m.Xb(3,"div",29),m.Xb(4,"mat-icon",30),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",31),m.Xb(7,"h6"),m.Tc(8,"Application Entry Stage Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",32),m.Xb(10,"button",33),m.fc("click",function(){return m.Hc(n),m.jc().openLoanEntryStageViewSummary()}),m.Tc(11," View Summary "),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,Ko,m.wc(1,Zo))))}function ti(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",33),m.fc("click",function(){return m.Hc(n),m.jc().goToLoanSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}function ni(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",33),m.fc("click",function(){return m.Hc(n),m.jc().goToLoan()}),m.Tc(2," Add Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}function ai(e,t){if(1&e&&(m.Vb(0),m.Xb(1,"button",34),m.Tc(2," Add Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()),2&e){var n=m.jc();m.Eb(1),m.rc("disabled",!n.isLoanDetailScreen)}}function oi(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",33),m.fc("click",function(){return m.Hc(n),m.jc(2).goToLoanEntry()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var ii=function(){return["/loan/account/asset-details"]};function ri(e,t){if(1&e&&(m.Xb(0,"button",36),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc(2);m.rc("routerLink",m.wc(2,ii))("disabled",!n.isLoanDetailScreen)}}function ci(e,t){if(1&e&&(m.Xb(0,"div"),m.Rc(1,oi,5,0,"ng-container",19),m.Rc(2,ri,4,3,"ng-template",null,35,m.Sc),m.Wb()),2&e){var n=m.Dc(3),a=m.jc();m.Eb(1),m.rc("ngIf",a.isAssetsDetailScreen&&a.isLoanDetailScreen)("ngIfElse",n)}}function si(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",33),m.fc("click",function(){return m.Hc(n),m.jc(2).goToVehicleDetails()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var li=function(){return["/loan/account/vehicle-details"]};function bi(e,t){1&e&&(m.Xb(0,"button",38),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,li))}function ui(e,t){if(1&e&&(m.Xb(0,"div"),m.Rc(1,si,5,0,"ng-container",19),m.Rc(2,bi,4,2,"ng-template",null,37,m.Sc),m.Wb()),2&e){var n=m.Dc(3),a=m.jc();m.Eb(1),m.rc("ngIf",a.isVehicleDetailScreen&&a.isLoanDetailScreen)("ngIfElse",n)}}function mi(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",33),m.fc("click",function(){return m.Hc(n),m.jc(2).goToAdmissionDetails()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var di=function(){return["/loan/account/admission-details"]};function pi(e,t){1&e&&(m.Xb(0,"button",38),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,di))}function fi(e,t){if(1&e&&(m.Xb(0,"div"),m.Rc(1,mi,5,0,"ng-container",19),m.Rc(2,pi,4,2,"ng-template",null,39,m.Sc),m.Wb()),2&e){var n=m.Dc(3),a=m.jc();m.Eb(1),m.rc("ngIf",a.isAdmissionDetailScreen&&a.isLoanDetailScreen)("ngIfElse",n)}}function gi(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",33),m.fc("click",function(){return m.Hc(n),m.jc().goToCustomerInfoDetails()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var hi=function(){return["/loan/account/customer-information"]};function vi(e,t){if(1&e&&(m.Xb(0,"button",36),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,hi))("disabled",!n.isAnyScreen)}}function yi(e,t){}function Wi(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",33),m.fc("click",function(){return m.Hc(n),m.jc().goToMandateDetails()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Xi=function(){return["/loan/account/mandate-details"]};function xi(e,t){if(1&e&&(m.Xb(0,"button",36),m.Tc(1," Add Details"),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,Xi))("disabled",!n.isCustomerInformationScreen)}}function Ci(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",33),m.fc("click",function(){return m.Hc(n),m.jc().goToFinancialDetails()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Ii=function(){return["/loan/account/financial-details"]};function Ai(e,t){if(1&e&&(m.Xb(0,"button",36),m.Tc(1," Add Details"),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,Ii))("disabled",!n.isMandateDetailScreen)}}function Oi(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",33),m.fc("click",function(){return m.Hc(n),m.jc().goToCollateralDetails()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Ti=function(){return["/loan/account/collateral_details"]};function Di(e,t){if(1&e&&(m.Xb(0,"button",36),m.Tc(1," Add Details"),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,Ti))("disabled",!n.isFinancialDetailScreen)}}function ki(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",33),m.fc("click",function(){return m.Hc(n),m.jc().goToGuarantorDetails()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Si=function(){return["/loan/account/guarantor_details"]};function _i(e,t){if(1&e&&(m.Xb(0,"button",36),m.Tc(1," Add Details"),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,Si))("disabled",!n.isCollateralDetailsScreen)}}var Ri,Ei,Mi=function(e){return{"border-size":e}},Pi=((Ei=function(){function e(t,n,o,i){a(this,e),this.router=t,this.dialogService=n,this.ls=o,this.dialog=i,this.isLoanApplicationEntryDone=!1,this.isLoanDetailScreen=!1,this.isAssetsDetailScreen=!1,this.isVehicleDetailScreen=!1,this.isAdmissionDetailScreen=!1,this.isFinancialDetailScreen=!1,this.isMandateDetailScreen=!1,this.isGuarantorDetailScreen=!1,this.isCustomerInformationScreen=!1,this.isCollateralDetailsScreen=!1,this.isAnyScreen=!1,this.isCustomerDetailScreen=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.isEducationLoan=!1}return i(e,[{key:"ngOnInit",value:function(){this.isLoanApplicationEntryDone=this.ls.getItem("LoanEntryStage"),this.isLoanDetailScreen=this.ls.getItem("LOAN_DETAIL_DONE"),this.isAssetsDetailScreen=this.ls.getItem("ASSET_DETAIL_DONE"),this.isVehicleDetailScreen=this.ls.getItem("VEHICLE_DETAIL_DONE"),this.isAdmissionDetailScreen=this.ls.getItem("ADMISSION_DETAIL_DONE"),this.isCustomerInformationScreen=this.ls.getItem("CUSTOMERINFO_DETAIL_DONE"),this.isFinancialDetailScreen=this.ls.getItem("FINANCIAL_DETAIL_DONE"),this.isMandateDetailScreen=this.ls.getItem("MANDATE_DETAIL_DONE"),this.isGuarantorDetailScreen=this.ls.getItem("GUARANTOR_DETAIL_DONE"),this.isCollateralDetailsScreen=this.ls.getItem("COLLATERAL_DETAIL_DONE"),this.isCustomerDetailScreen=this.ls.getItem("CUSTOMERINFO_DETAIL_DONE"),1!=this.isAssetsDetailScreen&&1!=this.isVehicleDetailScreen&&1!=this.isAdmissionDetailScreen||(this.isAnyScreen=!0),"Home Loan"==this.ls.getItem("accountType")?(this.isHomeLoan=!0,this.isVehicleLoan=!1,this.isEducationLoan=!1):"Vehicle Loan"==this.ls.getItem("accountType")?(this.isHomeLoan=!1,this.isVehicleLoan=!0,this.isEducationLoan=!1):"Education Loan"==this.ls.getItem("accountType")&&(this.isHomeLoan=!1,this.isVehicleLoan=!1,this.isEducationLoan=!0)}},{key:"goToAdmissionDetails",value:function(){this.isAdmissionDetailScreen?this.dialog.open(Ho.a,{disableClose:!0}).afterClosed().subscribe(function(e){}):this.router.navigate(["/loan/account/admission-details"])}},{key:"goToFinancialDetails",value:function(){this.isFinancialDetailScreen?this.dialog.open($o.a,{disableClose:!0}).afterClosed().subscribe(function(e){}):this.router.navigate(["/loan/account/financial-details"])}},{key:"goToMandateDetails",value:function(){this.isMandateDetailScreen?this.dialog.open(Jo.a,{disableClose:!0}).afterClosed().subscribe(function(e){}):this.router.navigate(["/loan/account/mandate-details"])}},{key:"goToGuarantorDetails",value:function(){this.isMandateDetailScreen?this.dialog.open(Qo.a,{disableClose:!0}).afterClosed().subscribe(function(e){}):this.router.navigate(["/loan/account/guarantor_details"])}},{key:"goToCollateralDetails",value:function(){this.isCollateralDetailsScreen&&this.isFinancialDetailScreen?this.dialog.open(Go.a,{disableClose:!0}).afterClosed().subscribe(function(e){}):this.router.navigate(["/loan/account/collateral_details"])}},{key:"goToCustomerInfoDetails",value:function(){this.isCustomerDetailScreen?this.dialog.open(Yo.a,{disableClose:!0,maxHeight:"90%",width:"70%"}).afterClosed().subscribe(function(e){}):this.router.navigate(["/loan/account/customer-information"])}},{key:"goToLoan",value:function(){this.router.navigate(["/loan/account/loan-details"])}},{key:"goToLoanSummary",value:function(){this.dialogService.loanDetailsSummaryDialog()}},{key:"goToLoanEntry",value:function(){this.dialogService.assetDetailsSummaryDialog()}},{key:"goToVehicleDetails",value:function(){this.dialogService.vehicleDetailsSummaryDialog()}},{key:"openLoanEntryStageViewSummary",value:function(){this.dialogService.loanAppEntryStageViewSummary()}}]),e}()).\u0275fac=function(e){return new(e||Ei)(m.Rb(d.h),m.Rb(da.a),m.Rb(W.a),m.Rb(I.b))},Ei.\u0275cmp=m.Lb({type:Ei,selectors:[["app-loan-entry-stage"]],decls:134,vars:49,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],[1,"titleName"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",1,"fontStyle"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["showCustomerInfo",""],["hideNav",""],["showMandte",""],["showFinance",""],["showCollateral",""],["showGuarantor",""],["fxFlex","100",1,"mt-8"],[1,"border-size"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","",3,"disabled"],["showAsset",""],["mat-button","","color","primary",3,"routerLink","disabled"],["showVehicle",""],["mat-button","","color","primary",3,"routerLink"],["showAdmission",""]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create Retail Loan Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,ei,12,4,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card",11),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title",12),m.Tc(17,"1. Loan Details"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",13),m.Xb(20,"div",14),m.Xb(21,"p",15),m.Tc(22," Basic Details for Loan Account is captured. "),m.Wb(),m.Wb(),m.Xb(23,"div",16),m.Sb(24,"img",17),m.Wb(),m.Wb(),m.Wb(),m.Sb(25,"mat-divider"),m.Xb(26,"mat-card-actions"),m.Rc(27,ti,5,0,"ng-container",18),m.Rc(28,ni,5,0,"ng-container",18),m.Wb(),m.Wb(),m.Wb(),m.Xb(29,"div",10),m.Xb(30,"mat-card",11),m.Xb(31,"mat-card-header"),m.Xb(32,"mat-card-title",12),m.Tc(33,"2. Asset Details / Vehicle Details / Admission Details"),m.Wb(),m.Wb(),m.Xb(34,"mat-card-content"),m.Xb(35,"div",13),m.Xb(36,"div",14),m.Xb(37,"p",15),m.Tc(38," Details about asset or vehicle or admission is added. "),m.Wb(),m.Wb(),m.Xb(39,"div",16),m.Sb(40,"img",17),m.Wb(),m.Wb(),m.Wb(),m.Sb(41,"mat-divider"),m.Xb(42,"mat-card-actions"),m.Rc(43,ai,5,1,"ng-container",19),m.Rc(44,ci,4,2,"div",19),m.Rc(45,ui,4,2,"div",19),m.Rc(46,fi,4,2,"div",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(47,"div",10),m.Xb(48,"mat-card",11),m.Xb(49,"mat-card-header"),m.Xb(50,"mat-card-title",12),m.Tc(51,"3. Customer Information"),m.Wb(),m.Wb(),m.Xb(52,"mat-card-content"),m.Xb(53,"div",13),m.Xb(54,"div",14),m.Xb(55,"p",15),m.Tc(56,"All the primary information about the customer is captured."),m.Wb(),m.Wb(),m.Xb(57,"div",16),m.Sb(58,"img",17),m.Wb(),m.Wb(),m.Wb(),m.Sb(59,"mat-divider"),m.Xb(60,"mat-card-actions"),m.Rc(61,gi,5,0,"ng-container",19),m.Rc(62,vi,4,3,"ng-template",null,20,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Rc(64,yi,0,0,"ng-template",null,21,m.Sc),m.Xb(66,"div",10),m.Xb(67,"mat-card",11),m.Xb(68,"mat-card-header"),m.Xb(69,"mat-card-title",12),m.Tc(70,"4. Mandate Details"),m.Wb(),m.Wb(),m.Xb(71,"mat-card-content"),m.Xb(72,"div",13),m.Xb(73,"div",14),m.Xb(74,"p",15),m.Tc(75," Mode of operation, Signatory details of the customer is added. "),m.Wb(),m.Wb(),m.Xb(76,"div",16),m.Sb(77,"img",17),m.Wb(),m.Wb(),m.Wb(),m.Sb(78,"mat-divider"),m.Xb(79,"mat-card-actions"),m.Rc(80,Wi,5,0,"ng-container",19),m.Rc(81,xi,4,3,"ng-template",null,22,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(83,"div",10),m.Xb(84,"mat-card",11),m.Xb(85,"mat-card-header"),m.Xb(86,"mat-card-title",12),m.Tc(87,"5. Financial Details"),m.Wb(),m.Wb(),m.Xb(88,"mat-card-content"),m.Xb(89,"div",13),m.Xb(90,"div",14),m.Xb(91,"p",15),m.Tc(92," The basic details and the income and expense details are captured. "),m.Wb(),m.Wb(),m.Xb(93,"div",16),m.Sb(94,"img",17),m.Wb(),m.Wb(),m.Wb(),m.Sb(95,"mat-divider"),m.Xb(96,"mat-card-actions"),m.Rc(97,Ci,5,0,"ng-container",19),m.Rc(98,Ai,4,3,"ng-template",null,23,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(100,"div",10),m.Xb(101,"mat-card",11),m.Xb(102,"mat-card-header"),m.Xb(103,"mat-card-title",12),m.Tc(104,"6. Collateral Details"),m.Wb(),m.Wb(),m.Xb(105,"mat-card-content"),m.Xb(106,"div",13),m.Xb(107,"div",14),m.Xb(108,"p",15),m.Tc(109," The additional collateral which is offered by the customer as security for the loan is added. "),m.Wb(),m.Wb(),m.Xb(110,"div",16),m.Sb(111,"img",17),m.Wb(),m.Wb(),m.Wb(),m.Sb(112,"mat-divider"),m.Xb(113,"mat-card-actions"),m.Rc(114,Oi,5,0,"ng-container",19),m.Rc(115,Di,4,3,"ng-template",null,24,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(117,"div",10),m.Xb(118,"mat-card",11),m.Xb(119,"mat-card-header"),m.Xb(120,"mat-card-title",12),m.Tc(121,"7. Guarantor Details"),m.Wb(),m.Wb(),m.Xb(122,"mat-card-content"),m.Xb(123,"div",13),m.Xb(124,"div",14),m.Xb(125,"p",15),m.Tc(126," Any number of guarantor details can be added. "),m.Wb(),m.Wb(),m.Xb(127,"div",16),m.Sb(128,"img",17),m.Wb(),m.Wb(),m.Wb(),m.Sb(129,"mat-divider"),m.Xb(130,"mat-card-actions"),m.Rc(131,ki,5,0,"ng-container",19),m.Rc(132,_i,4,3,"ng-template",null,25,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(63),a=m.Dc(65),o=m.Dc(82),i=m.Dc(99),r=m.Dc(116),c=m.Dc(133);m.Eb(11),m.rc("ngIf",t.isLoanApplicationEntryDone),m.Eb(3),m.rc("ngClass",m.xc(35,Mi,t.isLoanDetailScreen||!t.isLoanDetailScreen)),m.Eb(10),m.rc("src","assets/images/svg/Group 673.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isLoanDetailScreen),m.Eb(1),m.rc("ngIf",!t.isLoanDetailScreen),m.Eb(2),m.rc("ngClass",m.xc(37,Mi,t.isAssetsDetailScreen||!t.isAssetsDetailScreen&&t.isLoanDetailScreen)),m.Eb(10),m.rc("src","assets/images/svg/MaskGroup1_1.svg",m.Jc),m.Eb(3),m.rc("ngIf",!t.isLoanDetailScreen)("ngIfElse",a),m.Eb(1),m.rc("ngIf",t.isHomeLoan)("ngIfElse",a),m.Eb(1),m.rc("ngIf",t.isVehicleLoan)("ngIfElse",a),m.Eb(1),m.rc("ngIf",t.isEducationLoan)("ngIfElse",a),m.Eb(2),m.rc("ngClass",m.xc(39,Mi,t.isCustomerInformationScreen||!t.isCustomerInformationScreen&&(t.isAssetsDetailScreen||t.isAdmissionDetailScreen||t.isVehicleDetailScreen))),m.Eb(10),m.rc("src","assets/images/svg/undraw_personal_information_re_vw8a.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isCustomerInformationScreen&&(t.isAssetsDetailScreen||t.isAdmissionDetailScreen||t.isVehicleDetailScreen))("ngIfElse",n),m.Eb(6),m.rc("ngClass",m.xc(41,Mi,t.isMandateDetailScreen||!t.isMandateDetailScreen&&t.isCustomerInformationScreen)),m.Eb(10),m.rc("src","assets/images/svg/undraw_Terms_re_6ak_4.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isMandateDetailScreen&&t.isCustomerInformationScreen)("ngIfElse",o),m.Eb(4),m.rc("ngClass",m.xc(43,Mi,t.isFinancialDetailScreen||!t.isFinancialDetailScreen&&t.isMandateDetailScreen)),m.Eb(10),m.rc("src","assets/images/svg/MaskGroup_2.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isFinancialDetailScreen&&t.isMandateDetailScreen)("ngIfElse",i),m.Eb(4),m.rc("ngClass",m.xc(45,Mi,t.isCollateralDetailsScreen||!t.isCollateralDetailsScreen&&t.isFinancialDetailScreen)),m.Eb(10),m.rc("src","assets/images/svg/MaskGroup_3.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isCollateralDetailsScreen&&t.isFinancialDetailScreen)("ngIfElse",r),m.Eb(4),m.rc("ngClass",m.xc(47,Mi,t.isGuarantorDetailScreen||!t.isGuarantorDetailScreen&&t.isCollateralDetailsScreen)),m.Eb(10),m.rc("src","assets/images/svg/MaskGroup_4.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isGuarantorDetailScreen&&t.isCollateralDetailsScreen)("ngIfElse",c)}},directives:[p.e,p.b,u.n,f.a,u.l,bt.a,f.e,f.h,f.d,p.f,p.d,S.a,f.b,O.a,h.b,d.i],styles:[".not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.titleName[_ngcontent-%COMP%]{font-size:16px}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.text-align[_ngcontent-%COMP%]{padding-left:18px}.fontStyle[_ngcontent-%COMP%]{font-size:11px}"],data:{animation:y.a}}),Ei),Ni=((Ri=function(){function e(t,n,o,i,r){a(this,e),this.dialogRef=t,this.apiService=n,this.dataService=o,this.ls=i,this.router=r}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanAccountId=this.ls.getItem("loanAccountId"),console.log(this.loanAccountId),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(function(){e.fetchPostOfferAmendmentDetails()},10)}},{key:"fetchPostOfferAmendmentDetails",value:function(){var e=this;this.apiService.getOfferAmendmentDetails(this.loanAccountId).subscribe(function(t){console.log(t),e.offerDetails=t,console.log("details",e.offerDetails)})}},{key:"edit",value:function(){this.dataService.sendNavParam(this.offerDetails),this.dialogRef.close(),this.router.navigate(["loan/account/post-offer-amendment"])}},{key:"close",value:function(){this.dialogRef.close(),this.router.navigate(["/loan/account/post-offer-amend-stage/list"])}}]),e}()).\u0275fac=function(e){return new(e||Ri)(m.Rb(I.g),m.Rb(x.b),m.Rb(C.a),m.Rb(W.a),m.Rb(d.h))},Ri.\u0275cmp=m.Lb({type:Ri,selectors:[["app-post-offer-amendment-summary"]],decls:87,vars:11,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row wrap"],["fxFlex","30%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[1,"editButton",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"mat-icon",2),m.fc("click",function(){return t.close()}),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"h4",4),m.Tc(6,"Post Offer Amendment Summary"),m.Wb(),m.Wb(),m.Xb(7,"div",5),m.Xb(8,"div",6),m.Xb(9,"div",7),m.Xb(10,"div",0),m.Xb(11,"div",8),m.Xb(12,"div",9),m.Vb(13),m.Xb(14,"div",10),m.Xb(15,"mat-card",11),m.Xb(16,"div",12),m.Xb(17,"div",9),m.Vb(18),m.Xb(19,"div",13),m.Xb(20,"mat-hint",14),m.Tc(21,"Applicant Name"),m.Wb(),m.Sb(22,"br"),m.Xb(23,"mat-hint",15),m.Tc(24),m.Wb(),m.Wb(),m.Xb(25,"div",13),m.Xb(26,"mat-hint",14),m.Tc(27,"Offer Issue Date"),m.Wb(),m.Sb(28,"br"),m.Xb(29,"mat-hint",15),m.Tc(30),m.Wb(),m.Wb(),m.Xb(31,"div",13),m.Xb(32,"mat-hint",14),m.Tc(33,"Offer Exipiry Date"),m.Wb(),m.Sb(34,"br"),m.Xb(35,"mat-hint",15),m.Tc(36),m.Wb(),m.Wb(),m.Xb(37,"div",13),m.Xb(38,"mat-hint",14),m.Tc(39,"Offer Amend Date"),m.Wb(),m.Sb(40,"br"),m.Xb(41,"mat-hint",15),m.Tc(42),m.Wb(),m.Wb(),m.Xb(43,"div",13),m.Xb(44,"mat-hint",14),m.Tc(45,"Approved Loan Amount"),m.Wb(),m.Sb(46,"br"),m.Xb(47,"mat-hint",15),m.Tc(48),m.Wb(),m.Wb(),m.Xb(49,"div",13),m.Xb(50,"mat-hint",14),m.Tc(51,"Loan Amount Recommended"),m.Wb(),m.Sb(52,"br"),m.Xb(53,"mat-hint",15),m.Tc(54),m.Wb(),m.Wb(),m.Xb(55,"div",13),m.Xb(56,"mat-hint",14),m.Tc(57,"Loan Tenure"),m.Wb(),m.Sb(58,"br"),m.Xb(59,"mat-hint",15),m.Tc(60),m.Wb(),m.Wb(),m.Xb(61,"div",13),m.Xb(62,"mat-hint",14),m.Tc(63,"Installment Type"),m.Wb(),m.Sb(64,"br"),m.Xb(65,"mat-hint",15),m.Tc(66),m.Wb(),m.Wb(),m.Xb(67,"div",13),m.Xb(68,"mat-hint",14),m.Tc(69,"Rate Of Interest(%)"),m.Wb(),m.Sb(70,"br"),m.Xb(71,"mat-hint",15),m.Tc(72),m.Wb(),m.Wb(),m.Xb(73,"div",13),m.Xb(74,"mat-hint",14),m.Tc(75,"Margin(%))"),m.Wb(),m.Sb(76,"br"),m.Xb(77,"mat-hint",15),m.Tc(78),m.Wb(),m.Wb(),m.Xb(79,"div",13),m.Xb(80,"mat-hint",14),m.Tc(81,"Effective Rate(%)"),m.Wb(),m.Sb(82,"br"),m.Xb(83,"mat-hint",15),m.Tc(84),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Xb(85,"p",16),m.fc("click",function(){return t.edit()}),m.Tc(86,"Edit"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(24),m.Uc(null==t.offerDetails?null:t.offerDetails.applicantName),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.offerIssueDate),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.offerExpiryDate),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.offerAmendDate),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.approvedLoanAmount),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.loanAmmountRecommended),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.loanTenure),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.installmentType),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.rateOfInterest),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.margin),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.effectiveRate))},directives:[p.e,O.a,p.d,p.b,p.f,f.a,g.f],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.homeicon[_ngcontent-%COMP%]{padding-left:2px;color:#00f;font-size:20px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px;font-size:16px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat}.paraFont[_ngcontent-%COMP%]{font-size:20px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),Ri),wi=function(){return{y:"50px",delay:"300ms"}},Fi=function(e){return{value:"*",params:e}};function Li(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",17),m.Xb(1,"mat-card"),m.Xb(2,"div",18),m.Xb(3,"div",19),m.Xb(4,"mat-icon",20),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",21),m.Xb(7,"h6"),m.Tc(8,"Post Offer Amendment Stage Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",22),m.Xb(10,"button",23),m.fc("click",function(){return m.Hc(n),m.jc().gotopostOfferAmendStageSummary()}),m.Tc(11," View Summary "),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,Fi,m.wc(1,wi))))}var Vi=function(){return["/loan/account/post-offer-amendment"]};function qi(e,t){1&e&&(m.Vb(0),m.Xb(1,"button",24),m.Tc(2," Add Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()),2&e&&(m.Eb(1),m.rc("routerLink",m.wc(1,Vi)))}function ji(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",23),m.fc("click",function(){return m.Hc(n),m.jc().goTopostOfferAmendmentSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Bi,zi=((Bi=function(){function e(t,n,o){a(this,e),this.router=t,this.dialog=n,this.ls=o}return i(e,[{key:"ngOnInit",value:function(){this.ispostOfferAmendStageDone=this.ls.getItem("post-offer-amend-stage"),this.isOfferIssueRejectScreen=this.ls.getItem("OfferIssueRejectScreen")}},{key:"goTopostOfferAmendmentSummary",value:function(){this.dialog.open(Ni,{width:"75%",backdropClass:"dialog-bg-trans",height:"60%",disableClose:!0}).afterClosed().subscribe(function(e){console.log("The dialog was closed")})}},{key:"gotopostOfferAmendStageSummary",value:function(){this.router.navigate(["/loan/account/post-offer-amend-stage-summary/"])}}]),e}()).\u0275fac=function(e){return new(e||Bi)(m.Rb(d.h),m.Rb(I.b),m.Rb(W.a))},Bi.\u0275cmp=m.Lb({type:Bi,selectors:[["app-post-offer-amend-stage"]],decls:29,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create Retail Loan Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,Li,12,4,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card"),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1. Post Offer Amendment "),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",11),m.Xb(20,"div",12),m.Xb(21,"p",13),m.Tc(22," Post Offer Amendment details are displayed. "),m.Wb(),m.Wb(),m.Xb(23,"div",14),m.Sb(24,"img",15),m.Wb(),m.Wb(),m.Wb(),m.Sb(25,"mat-divider"),m.Xb(26,"mat-card-actions"),m.Rc(27,qi,5,2,"ng-container",16),m.Rc(28,ji,5,0,"ng-container",16),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(11),m.rc("ngIf",t.ispostOfferAmendStageDone),m.Eb(13),m.rc("src","assets/images/svg/undraw_Post_re_mtr_4.svg",m.Jc),m.Eb(3),m.rc("ngIf",!t.ispostOfferAmendStageDone),m.Eb(1),m.rc("ngIf",t.ispostOfferAmendStageDone))},directives:[p.e,p.b,u.n,f.a,f.e,f.h,f.d,p.f,p.d,S.a,f.b,O.a,h.b,d.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}"],data:{animation:y.a}}),Bi);function Ui(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",10),m.Xb(1,"div",11),m.Xb(2,"div",12),m.Xb(3,"div",13),m.Xb(4,"mat-form-field",14),m.Xb(5,"mat-label"),m.Tc(6,"Applicant Name*"),m.Wb(),m.Xb(7,"input",15),m.fc("keypress",function(e){return m.Hc(n),m.jc().letterOnly(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",13),m.Xb(9,"mat-form-field",14),m.Xb(10,"mat-label"),m.Tc(11,"Loan Tenure*"),m.Wb(),m.Xb(12,"input",16),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(13,"div",13),m.Xb(14,"mat-form-field",14),m.Xb(15,"mat-label"),m.Tc(16,"Installment Frequency"),m.Wb(),m.Sb(17,"input",17),m.Wb(),m.Wb(),m.Xb(18,"div",13),m.Xb(19,"mat-form-field",14),m.Xb(20,"mat-label"),m.Tc(21,"Approved Loan Amount"),m.Wb(),m.Xb(22,"input",18),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(23,"div",13),m.Xb(24,"mat-form-field",14),m.Xb(25,"mat-label"),m.Tc(26,"Installment Type"),m.Wb(),m.Sb(27,"input",19),m.Wb(),m.Wb(),m.Xb(28,"div",13),m.Xb(29,"mat-form-field",14),m.Xb(30,"mat-label"),m.Tc(31,"Principal"),m.Wb(),m.Xb(32,"input",20),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(33,"div",13),m.Xb(34,"mat-form-field",14),m.Xb(35,"mat-label"),m.Tc(36,"Installment Amount"),m.Wb(),m.Xb(37,"input",21),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(38,"div",13),m.Xb(39,"mat-form-field",14),m.Xb(40,"mat-label"),m.Tc(41,"Offer Issue Date*"),m.Wb(),m.Sb(42,"input",22),m.Sb(43,"mat-datepicker-toggle",23),m.Wb(),m.Sb(44,"mat-datepicker",null,24),m.Wb(),m.Wb(),m.Xb(46,"div",12),m.Xb(47,"div",13),m.Xb(48,"mat-form-field",14),m.Xb(49,"mat-label"),m.Tc(50,"Approved Loan Amount*"),m.Wb(),m.Xb(51,"input",25),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(52,"div",13),m.Xb(53,"mat-form-field",14),m.Xb(54,"mat-label"),m.Tc(55,"Installment Type"),m.Wb(),m.Sb(56,"input",19),m.Wb(),m.Wb(),m.Xb(57,"div",13),m.Xb(58,"mat-form-field",14),m.Xb(59,"mat-label"),m.Tc(60,"Rate Of Interest(%)*"),m.Wb(),m.Xb(61,"input",26),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(62,"div",13),m.Xb(63,"mat-form-field",14),m.Xb(64,"mat-label"),m.Tc(65,"Loan Tenure*"),m.Wb(),m.Xb(66,"input",16),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(67,"div",13),m.Xb(68,"mat-form-field",14),m.Xb(69,"mat-label"),m.Tc(70,"Rate Of Interest(%)*"),m.Wb(),m.Xb(71,"input",26),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(72,"div",13),m.Xb(73,"mat-form-field",14),m.Xb(74,"mat-label"),m.Tc(75,"Interest*"),m.Wb(),m.Xb(76,"input",27),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(77,"div",13),m.Xb(78,"mat-form-field",14),m.Xb(79,"mat-label"),m.Tc(80,"Charges*"),m.Wb(),m.Xb(81,"input",28),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(82,"div",13),m.Xb(83,"mat-form-field",14),m.Xb(84,"mat-label"),m.Tc(85,"Generate Offer*"),m.Wb(),m.Sb(86,"input",29),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(87,"div",30),m.Xb(88,"button",31),m.Tc(89," Back "),m.Wb(),m.Xb(90,"button",32),m.fc("click",function(){return m.Hc(n),m.jc().Done()}),m.Tc(91," Done "),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(45),o=m.jc();m.rc("formGroup",o.OfferIssueForm),m.Eb(42),m.rc("matDatepicker",a),m.Eb(1),m.rc("for",a)}}var Hi,Gi=((Hi=function(){function e(t,n){a(this,e),this.fb=t,this.router=n}return i(e,[{key:"ngOnInit",value:function(){this.buildformGroup()}},{key:"buildformGroup",value:function(){this.OfferIssueForm=this.fb.group({id:[""],applicant_name:[""],instalment_frequency:[""],offer_issue_date:[""],account_type:[""],principal:[""],loan_amount:[""],loan_tenure:[""]})}},{key:"Done",value:function(){this.router.navigate(["/loan/account/offerstage/list"])}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||Hi)(m.Rb($.f),m.Rb(d.h))},Hi.\u0275cmp=m.Lb({type:Hi,selectors:[["app-offer-issue"]],decls:16,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","name","a_sig","placeholder","Applicant Name",3,"keypress"],["matInput","","name","a_sig","placeholder","5 Years","maxlength","2",3,"keypress"],["matInput","","name","a_sig","placeholder","Monthly","maxlength","8"],["matInput","","name","a_sig","placeholder","$200,000","maxlength","12",3,"keypress"],["matInput","","name","a_sig","placeholder","EMI"],["matInput","","name","a_sig","placeholder","$500,000","maxlength","8",3,"keypress"],["matInput","","name","a_sig","placeholder","$120,000","maxlength","8",3,"keypress"],["matInput","","name","date","readonly","","placeholder","12/12/2020",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","name","a_sig","placeholder","$500,000","maxlength","12",3,"keypress"],["matInput","","name","a_sig","placeholder","9.4","maxlength","2",3,"keypress"],["matInput","","name","a_sig","placeholder","$147,677","maxlength","8",3,"keypress"],["matInput","","name","a_sig","placeholder","$100","maxlength","5",3,"keypress"],["matInput","","name","a_sig","placeholder","With Schedule"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Offer Issue Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title",7),m.Xb(11,"div",8),m.Tc(12,"Offer Issue Information"),m.Wb(),m.Sb(13,"mat-divider"),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,Ui,92,3,"form",9),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.OfferIssueForm))},directives:[p.e,p.b,f.a,f.h,S.a,f.d,u.n,$.C,$.s,$.j,p.f,p.d,g.c,g.g,Q.b,ce.e,ce.g,g.j,ce.d,h.b],styles:[""]}),Hi);function Yi(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Applicant Name "),m.Wb())}function $i(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please select Offer Expiry Date "),m.Wb())}function Qi(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Approved Loan Amount "),m.Wb())}function Ji(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Instalment Type "),m.Wb())}function Zi(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Margin "),m.Wb())}function Ki(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please select Offer Issue Date "),m.Wb())}function er(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please select Offer Amend Date "),m.Wb())}function tr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Loan Amount Recommended "),m.Wb())}function nr(e,t){if(1&e&&(m.Xb(0,"mat-option",41),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function ar(e,t){if(1&e&&(m.Xb(0,"mat-option",41),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function or(e,t){if(1&e&&(m.Xb(0,"mat-option",41),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function ir(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please Enter Rate Of Interest "),m.Wb())}function rr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0Please Enter Effective Rate "),m.Wb())}function cr(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",15),m.Xb(4,"mat-form-field",16),m.Xb(5,"mat-label"),m.Tc(6,"Applicant Name"),m.Wb(),m.Xb(7,"input",17),m.fc("keypress",function(e){return m.Hc(n),m.jc().letterOnly(e)}),m.Wb(),m.Rc(8,Yi,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",19),m.Xb(10,"div",15),m.Xb(11,"mat-form-field",16),m.Xb(12,"mat-label"),m.Tc(13," Offer Expiry Date"),m.Wb(),m.Xb(14,"input",20),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Sb(15,"mat-datepicker-toggle",21),m.Sb(16,"mat-datepicker",null,22),m.Rc(18,$i,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Xb(19,"div",14),m.Xb(20,"div",15),m.Xb(21,"mat-form-field",16),m.Xb(22,"mat-label"),m.Tc(23,"Approved Loan Amount"),m.Wb(),m.Xb(24,"input",23),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(25,Qi,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Xb(26,"div",19),m.Xb(27,"div",15),m.Xb(28,"mat-form-field",16),m.Xb(29,"mat-label"),m.Tc(30," Installment Type"),m.Wb(),m.Xb(31,"mat-select",24),m.Xb(32,"mat-option",25),m.Tc(33,"EMI"),m.Wb(),m.Wb(),m.Rc(34,Ji,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Xb(35,"div",14),m.Xb(36,"div",15),m.Xb(37,"mat-form-field",16),m.Xb(38,"mat-label"),m.Tc(39,"Margin"),m.Wb(),m.Xb(40,"input",26),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress1(e)}),m.Wb(),m.Rc(41,Zi,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Xb(42,"div",19),m.Xb(43,"div",15),m.Xb(44,"mat-form-field",16),m.Xb(45,"mat-label"),m.Tc(46,"Offer Issue Date*"),m.Wb(),m.Xb(47,"input",27),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Sb(48,"mat-datepicker-toggle",21),m.Sb(49,"mat-datepicker",null,28),m.Rc(51,Ki,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Xb(52,"div",14),m.Xb(53,"div",15),m.Xb(54,"mat-form-field",16),m.Xb(55,"mat-label"),m.Tc(56,"Offer Amend Date*"),m.Wb(),m.Xb(57,"input",29),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Sb(58,"mat-datepicker-toggle",21),m.Sb(59,"mat-datepicker",null,30),m.Rc(61,er,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Xb(62,"div",19),m.Xb(63,"div",15),m.Xb(64,"mat-form-field",16),m.Xb(65,"mat-label"),m.Tc(66,"Loan Amount Recommended"),m.Wb(),m.Xb(67,"input",31),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(68,tr,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Xb(69,"div",14),m.Xb(70,"div",0),m.Xb(71,"label",32),m.Tc(72,"Loan Tenure *"),m.Wb(),m.Xb(73,"mat-form-field",33),m.Xb(74,"mat-label"),m.Tc(75,"Year"),m.Wb(),m.Xb(76,"mat-select",34),m.Rc(77,nr,2,2,"mat-option",35),m.Wb(),m.Wb(),m.Xb(78,"mat-form-field",36),m.Xb(79,"mat-label"),m.Tc(80,"Month"),m.Wb(),m.Xb(81,"mat-select",37),m.Rc(82,ar,2,2,"mat-option",35),m.Wb(),m.Wb(),m.Xb(83,"mat-form-field",36),m.Xb(84,"mat-label"),m.Tc(85,"Day"),m.Wb(),m.Xb(86,"mat-select",38),m.Rc(87,or,2,2,"mat-option",35),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(88,"div",19),m.Xb(89,"div",15),m.Xb(90,"mat-form-field",16),m.Xb(91,"mat-label"),m.Tc(92,"Rate Of Interest(%)"),m.Wb(),m.Xb(93,"input",39),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress1(e)}),m.Wb(),m.Rc(94,ir,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Xb(95,"div",14),m.Xb(96,"div",15),m.Xb(97,"mat-form-field",16),m.Xb(98,"mat-label"),m.Tc(99,"Effective Rate(%)"),m.Wb(),m.Xb(100,"input",40),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress1(e)}),m.Wb(),m.Rc(101,rr,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(17),o=m.Dc(50),i=m.Dc(60),r=m.jc();m.rc("formGroup",r.PostOfferAmendmentForm),m.Eb(8),m.rc("ngIf",!r.PostOfferAmendmentForm.get("applicantName").valid&&r.PostOfferAmendmentForm.get("applicantName").touched),m.Eb(6),m.rc("min",r.PostOfferAmendmentForm.get("offerIssueDate").value)("matDatepicker",a),m.Eb(1),m.rc("for",a),m.Eb(3),m.rc("ngIf",!r.PostOfferAmendmentForm.get("offerExpiryDate").valid&&r.PostOfferAmendmentForm.get("offerExpiryDate").touched),m.Eb(7),m.rc("ngIf",!r.PostOfferAmendmentForm.get("approvedLoanAmount").valid&&r.PostOfferAmendmentForm.get("approvedLoanAmount").touched),m.Eb(9),m.rc("ngIf",!r.PostOfferAmendmentForm.get("installmentType").valid&&r.PostOfferAmendmentForm.get("installmentType").touched),m.Eb(7),m.rc("ngIf",!r.PostOfferAmendmentForm.get("margin").valid&&r.PostOfferAmendmentForm.get("margin").touched),m.Eb(6),m.rc("min",r.PostOfferAmendmentForm.get("offerIssueDate").value)("matDatepicker",o),m.Eb(1),m.rc("for",o),m.Eb(3),m.rc("ngIf",!r.PostOfferAmendmentForm.get("offerIssueDate").valid&&r.PostOfferAmendmentForm.get("offerIssueDate").touched),m.Eb(6),m.rc("matDatepicker",i),m.Eb(1),m.rc("for",i),m.Eb(3),m.rc("ngIf",!r.PostOfferAmendmentForm.get("offerAmendDate").valid&&r.PostOfferAmendmentForm.get("offerAmendDate").touched),m.Eb(7),m.rc("ngIf",!r.PostOfferAmendmentForm.get("loanAmmountRecommended").valid&&r.PostOfferAmendmentForm.get("loanAmmountRecommended").touched),m.Eb(9),m.rc("ngForOf",r.years),m.Eb(5),m.rc("ngForOf",r.months),m.Eb(5),m.rc("ngForOf",r.days),m.Eb(7),m.rc("ngIf",!r.PostOfferAmendmentForm.get("rateOfInterest").valid&&r.PostOfferAmendmentForm.get("rateOfInterest").touched),m.Eb(7),m.rc("ngIf",!r.PostOfferAmendmentForm.get("effectiveRate").valid&&r.PostOfferAmendmentForm.get("effectiveRate").touched)}}var sr,lr=((sr=function(){function e(t,n,o,i,r,c,s,l,b){a(this,e),this.fb=t,this.api=n,this.ls=o,this.loader=i,this.appApiService=r,this.apiService=c,this.snack=s,this.accountService=l,this.router=b,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.maxDate=new Date,this.minDate=new Date,this.maxDate.setDate(this.maxDate.getDate()+13)}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var n=0;n<=11;n++)this.months.push(n+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanAccountId=this.ls.getItem("loanAccountId"),console.log(this.loanAccountId),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId);var o=JSON.parse(this.ls.getItem("post-offer-amend-stage"));console.log(o),setTimeout(function(){null!=e.loanAccountId&&o?(e.showEditOption=!0,e.getAmendDetails()):(e.showEditOption=!1,e.buildformGroup({}))},10),this.fetchByCif(),this.loanData(),this.intrestData(),this.installmentTypeData()}},{key:"getAmendDetails",value:function(){var e=this;this.api.getOfferAmendmentDetails(this.loanAccountId).subscribe(function(t){console.log(t),e.buildformGroup(t)})}},{key:"buildformGroup",value:function(e){e.offerIssueDate=e?re(e.offerIssueDate).format():"",e.offerExpiryDate=e?re(e.offerExpiryDate).format():"",e.offerAmendDate=e?re(e.offerAmendDate).format():"",this.PostOfferAmendmentForm=this.fb.group({loanAccountId:this.loanAccountId,applicantName:[e?e.applicantName:""],offerIssueDate:[e?e.offerIssueDate:""],offerExpiryDate:[e?e.offerExpiryDate:""],offerAmendDate:[e?e.offerAmendDate:""],installmentType:[e?e.installmentType:""],margin:[e?e.margin:""],approvedLoanAmount:[e?e.approvedLoanAmount:""],loanAmmountRecommended:[e?e.loanAmmountRecommended:""],loanTenure:[e?e.loanTenure:""],rateOfInterest:[e?e.rateOfInterest:""],effectiveRate:[e?e.effectiveRate:""],year:[e?e.year:""],month:[e?e.month:""],day:[e?e.day:""]})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"_keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"submit",value:function(){var e=this;this.ls.setItem("post-offer-amend-stage",!0),this.loanAccountId=this.ls.getItem("loanAccountId"),console.log("loanAccountId",this.loanAccountId),this.PostOfferAmendmentForm.get("loanAccountId").setValue(this.ls.getItem("loanAccountId"));var t=this.PostOfferAmendmentForm.value.rateOfInterest;t=parseInt(t),this.PostOfferAmendmentForm.get("rateOfInterest").setValue(t);var n=this.PostOfferAmendmentForm.value.loanAmmountRecommended;n=parseInt(n),this.PostOfferAmendmentForm.get("loanAmmountRecommended").setValue(n),this.PostOfferAmendmentForm.value.rateOfInterest=t;var a=this.PostOfferAmendmentForm.value.margin;a=parseInt(a),this.PostOfferAmendmentForm.get("margin").setValue(a);var o=this.PostOfferAmendmentForm.value.effectiveRate;o=parseInt(o),this.PostOfferAmendmentForm.get("effectiveRate").setValue(o);var i=new Date;i=this.PostOfferAmendmentForm.value.offerIssueDate;var r=re(i).format("YYYY-MMM-DD"),c=new Date;c=this.PostOfferAmendmentForm.value.offerExpiryDate;var s=re(c).format("YYYY-MMM-DD"),l=new Date;l=this.PostOfferAmendmentForm.value.offerAmendDate;var b=re(l).format("YYYY-MMM-DD"),u=this.PostOfferAmendmentForm.value.year+"-"+this.PostOfferAmendmentForm.value.month+"-"+this.PostOfferAmendmentForm.value.day;this.PostOfferAmendmentForm.get("loanTenure").setValue(u),this.PostOfferAmendmentForm.value.loanTenure=u;var m=this.PostOfferAmendmentForm.value.approvedLoanAmount;m=parseInt(m);var d={loanAccountId:this.loanAccountId,approvedLoanAmount:m,applicantName:this.PostOfferAmendmentForm.value.applicantName,loanTenure:u,installmentType:this.PostOfferAmendmentForm.value.installmentType,effectiveRate:o,margin:a,rateOfInterest:t,offerIssueDate:r,offerAmendDate:b,offerExpiryDate:s,loanAmmountRecommended:n};console.log("payload",d),this.api.uploadPostOfferAmendmentDetails(d).subscribe(function(t){console.log(t),null!==t&&e.snack.open(" Post Offer Amendment Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next()},function(e){console.log(e)})}},{key:"next",value:function(){this.ls.setItem("PostOfferAmmendementScreen",!0),this.ls.setItem("PostOfferAmmendementStageScreen",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/account-creation-stage"])}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/post-offer-amend-stage/list"])}},{key:"keyPressAlphanumeric",value:function(e){var t=String.fromCharCode(e.keyCode);return!!/[a-zA-Z0-9]/.test(t)||(e.preventDefault(),!1)}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"fetchByCif",value:function(){var e=this;this.cifNumber=this.ls.getItem("cId"),console.log(this.cifNumber),this.appApiService.fetchByCif(this.cifNumber).subscribe(function(t){console.log(t),console.log(t.customerInfoList[0].firstName),e.PostOfferAmendmentForm.get("applicantName").setValue(t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName)},function(e){console.error(e)})}},{key:"loanData",value:function(){var e=this;console.log(this.loanAccountId),this.apiService.fetchByLoanAccountId(this.loanAccountId).subscribe(function(t){console.log(t),console.log(t.approvedLoanAmount),e.PostOfferAmendmentForm.get("approvedLoanAmount").setValue(t.approvedLoanAmount),console.log(t.loanTenure),e.year=t.loanTenure.split("-")[0],console.log(e.year),e.month=t.loanTenure.split("-")[1],console.log(e.month),e.day=t.loanTenure.split("-")[2],console.log(e.day),e.PostOfferAmendmentForm.get("year").setValue(e.year),e.PostOfferAmendmentForm.get("month").setValue(e.month),e.PostOfferAmendmentForm.get("day").setValue(e.day)},function(e){console.error(e)})}},{key:"intrestData",value:function(){var e=this;console.log(this.loanAccountId),this.apiService.fetchLoanAssessment(this.loanAccountId).subscribe(function(t){console.log(t),e.PostOfferAmendmentForm.get("rateOfInterest").setValue(t.rateOfInterest),e.PostOfferAmendmentForm.get("loanAmmountRecommended").setValue(t.loanAmountRecommendation)})}},{key:"installmentTypeData",value:function(){var e=this;console.log(this.loanAccountId),this.apiService.getOfferAcceptReject(this.loanAccountId).subscribe(function(t){console.log(t),e.PostOfferAmendmentForm.get("installmentType").setValue(t.installmentType);var n=re(t.offerIssueDate).format();e.PostOfferAmendmentForm.get("offerIssueDate").setValue(n),console.log(n)})}}]),e}()).\u0275fac=function(e){return new(e||sr)(m.Rb($.f),m.Rb(x.b),m.Rb(W.a),m.Rb(Pe.a),m.Rb(ln.a),m.Rb(x.b),m.Rb(A.a),m.Rb(ue.a),m.Rb(d.h))},sr.\u0275cmp=m.Lb({type:sr,selectors:[["app-post-offer-amendment"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/post_amend_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"full-width"],["fxFlex","50%","fxFlex.xs","100%",1,"pr-2"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["matInput","","type","text","maxlength","15","name","a_sig","placeholder","Applicant Name","formControlName","applicantName","required","",3,"keypress"],[4,"ngIf"],["fxFlex","50%","fxFlex.xs","100%",1,"p-2"],["matInput","","readonly","","name","offerExpiryDate","formControlName","offerExpiryDate","required","",3,"min","matDatepicker","keypress"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","placeholder","Approved Loan Account","maxlength","10","name","approvedLoanAmount","formControlName","approvedLoanAmount","required","",3,"keypress"],["name","installmentType","placeholder","Select","disableOptionCentering","","formControlName","installmentType","required",""],["value","EMI"],["matInput","","maxlength","3","name","margin","placeholder","Margin","formControlName","margin","required","",3,"keypress"],["matInput","","readonly","","name","issuedate","formControlName","offerIssueDate",3,"min","matDatepicker","keypress"],["appDatepicker1",""],["matInput","","readonly","","name","amenddate","formControlName","offerAmendDate",3,"matDatepicker","keypress"],["appDatepicker2",""],["matInput","","placeholder"," Loan Account Recommended","maxlength","10","name","a_sig","formControlName","loanAmmountRecommended","required","",3,"keypress"],[1,"size"],["appearance","outline","fxFlex","23",1,"full-width","tenure1"],["disableOptionCentering","","name","year","placeholder","Year","formControlName","year","required",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxFlex","21.5",1,"full-width","tenure1"],["disableOptionCentering","","name","month","placeholder","Month","formControlName","month","required",""],["disableOptionCentering","","name","day","placeholder","Day","formControlName","day","required",""],["matInput","","maxlength","3","name","rateOfInterest","placeholder","Rate Of Interest","formControlName","rateOfInterest","required","",3,"keypress"],["matInput","","maxlength","3","name","effectiveRate","placeholder","Effective Rate(%)","formControlName","effectiveRate","required","",3,"keypress"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Post Offer Amendment"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title"),m.Xb(11,"fieldset"),m.Xb(12,"legend",7),m.Tc(13,"Post Offer Amendment Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,cr,102,22,"form",8),m.Wb(),m.Wb(),m.Xb(16,"div",9),m.Xb(17,"button",10),m.fc("click",function(){return t.goBack()}),m.Tc(18," Back "),m.Wb(),m.Xb(19,"button",11),m.fc("click",function(){return t.submit()}),m.Tc(20," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.PostOfferAmendmentForm),m.Eb(4),m.rc("disabled",t.PostOfferAmendmentForm.invalid))},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,g.c,g.g,Q.b,$.c,$.m,$.r,$.i,$.z,ce.e,ce.g,g.j,ce.d,J.a,Z.n,u.m,g.b],styles:[".card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.postData[_ngcontent-%COMP%], .sqInput1[_ngcontent-%COMP%]{height:56px}.sqInput1[_ngcontent-%COMP%]{width:29.5%;margin-left:2.5%}.Back[_ngcontent-%COMP%]{background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;color:#fff}.Next[_ngcontent-%COMP%]{background-color:#426af5;border-radius:55px}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}input[_ngcontent-%COMP%]{border:none;outline:none}.alignCChange[_ngcontent-%COMP%]{margin-right:0!important}.alignCChange[_ngcontent-%COMP%], .tenureChange[_ngcontent-%COMP%]{margin-left:0!important}.tenureMarginChange[_ngcontent-%COMP%]{margin-right:0!important}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.size[_ngcontent-%COMP%]{margin-top:15px}"]}),sr);function br(e,t){if(1&e&&(m.Xb(0,"form",10),m.Xb(1,"div",11),m.Xb(2,"div",12),m.Xb(3,"div",13),m.Xb(4,"mat-form-field",14),m.Xb(5,"mat-label"),m.Tc(6,"Loan Amount*"),m.Wb(),m.Sb(7,"input",15),m.Wb(),m.Wb(),m.Xb(8,"div",13),m.Xb(9,"mat-form-field",14),m.Xb(10,"mat-label"),m.Tc(11,"First Disbursement Date*"),m.Wb(),m.Sb(12,"input",16),m.Sb(13,"mat-datepicker-toggle",17),m.Wb(),m.Sb(14,"mat-datepicker",null,18),m.Wb(),m.Xb(16,"div",13),m.Xb(17,"mat-form-field",14),m.Xb(18,"mat-label"),m.Tc(19,"Disbursement Mode"),m.Wb(),m.Sb(20,"input",19),m.Wb(),m.Wb(),m.Xb(21,"div",13),m.Xb(22,"mat-form-field",14),m.Xb(23,"mat-label"),m.Tc(24,"Branch Code"),m.Wb(),m.Sb(25,"input",20),m.Wb(),m.Wb(),m.Wb(),m.Xb(26,"div",12),m.Xb(27,"div",13),m.Xb(28,"mat-form-field",14),m.Xb(29,"mat-label"),m.Tc(30,"Disbursement Frequency*"),m.Wb(),m.Sb(31,"input",21),m.Wb(),m.Wb(),m.Xb(32,"a",22),m.Xb(33,"u"),m.Tc(34," Disbursement Schedule"),m.Wb(),m.Wb(),m.Xb(35,"div",13),m.Xb(36,"mat-form-field",14),m.Xb(37,"mat-label"),m.Tc(38,"Customer Account"),m.Wb(),m.Sb(39,"input",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(40,"div",24),m.Xb(41,"button",25),m.Tc(42," Back "),m.Wb(),m.Xb(43,"button",26),m.Tc(44," Next "),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(15),a=m.jc();m.rc("formGroup",a.loanDisbursementForm),m.Eb(12),m.rc("matDatepicker",n),m.Eb(1),m.rc("for",n)}}var ur,mr=((ur=function(){function e(t){a(this,e),this.fb=t}return i(e,[{key:"ngOnInit",value:function(){this.buildformGroup()}},{key:"buildformGroup",value:function(){this.loanDisbursementForm=this.fb.group({id:[""],loan_amount:[""],first_disbursement_date:[""],disbursement_mode:[""],branch_code:[""],disbursement_frequency:[""],customer_account:[""]})}}]),e}()).\u0275fac=function(e){return new(e||ur)(m.Rb($.f))},ur.\u0275cmp=m.Lb({type:ur,selectors:[["app-loan-disbursement"]],decls:16,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","name","a_sig","placeholder","$2,000,000"],["matInput","","name","date","placeholder","12/03/2020",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","name","a_sig","placeholder","Internal Account"],["matInput","","name","a_sig","placeholder","009"],["matInput","","name","a_sig","placeholder","Monthly"],[2,"color","rgb(0, 153, 255)"],["matInput","","name","a_sig","placeholder","1940048000"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary"],["mat-raised-button","","color","primary"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Loan Disbursement Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title",7),m.Xb(11,"div",8),m.Tc(12,"Loan Disbursement Details"),m.Wb(),m.Sb(13,"mat-divider"),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,br,45,3,"form",9),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.loanDisbursementForm))},directives:[p.e,p.b,f.a,f.h,S.a,f.d,u.n,$.C,$.s,$.j,p.f,p.d,g.c,g.g,Q.b,ce.e,ce.g,g.j,ce.d,h.b],styles:[""]}),ur);function dr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Product Name is Required! "),m.Wb())}function pr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Vehicle Class is Required! "),m.Wb())}function fr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Maker is Required! "),m.Wb())}function gr(e,t){if(1&e&&(m.Xb(0,"mat-option",60),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function hr(e,t){if(1&e&&(m.Xb(0,"mat-option",60),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function vr(e,t){if(1&e&&(m.Xb(0,"mat-option",60),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function yr(e,t){if(1&e&&(m.Xb(0,"mat-option",60),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.value1),m.Eb(1),m.Uc(n.value1)}}function Wr(e,t){if(1&e&&(m.Xb(0,"mat-error"),m.Tc(1),m.Wb()),2&e){var n=m.jc(2);m.Eb(1),m.Vc(" Enter the valid policy number ",n.minlength," . ")}}function Xr(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",15),m.Xb(4,"mat-hint"),m.Tc(5,"Product Name*"),m.Wb(),m.Xb(6,"mat-card",16),m.Sb(7,"input",17),m.Wb(),m.Rc(8,dr,2,0,"mat-error",18),m.Wb(),m.Xb(9,"div",15),m.Xb(10,"mat-hint"),m.Tc(11,"Hypothecated Branch"),m.Wb(),m.Xb(12,"mat-card",19),m.Xb(13,"mat-select",20),m.Xb(14,"mat-option",21),m.Tc(15,"Select"),m.Wb(),m.Xb(16,"mat-option",22),m.Tc(17,"test"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(18,"div",14),m.Xb(19,"div",15),m.Xb(20,"mat-hint"),m.Tc(21,"Vehicle Class*"),m.Wb(),m.Xb(22,"mat-card",19),m.Xb(23,"mat-select",23),m.Xb(24,"mat-option"),m.Tc(25,"Select"),m.Wb(),m.Xb(26,"mat-option",24),m.Tc(27,"New"),m.Wb(),m.Wb(),m.Wb(),m.Rc(28,pr,2,0,"mat-error",18),m.Wb(),m.Xb(29,"div",15),m.Xb(30,"mat-hint"),m.Tc(31,"Maker*"),m.Wb(),m.Xb(32,"mat-card",16),m.Sb(33,"input",25),m.Wb(),m.Rc(34,fr,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Xb(35,"div",14),m.Xb(36,"div",15),m.Xb(37,"mat-hint"),m.Tc(38,"Model"),m.Wb(),m.Xb(39,"mat-card",16),m.Sb(40,"input",26),m.Wb(),m.Wb(),m.Xb(41,"div",15),m.Xb(42,"mat-hint"),m.Tc(43,"Maker MM/YYYY *"),m.Wb(),m.Xb(44,"div",27),m.Xb(45,"div",28),m.Xb(46,"mat-card",19),m.Xb(47,"mat-select",29),m.Xb(48,"mat-option"),m.Tc(49,"Select"),m.Wb(),m.Rc(50,gr,2,2,"mat-option",30),m.Wb(),m.Wb(),m.Wb(),m.Xb(51,"div",28),m.Xb(52,"mat-card",19),m.Xb(53,"mat-select",31),m.Xb(54,"mat-option"),m.Tc(55,"Select"),m.Wb(),m.Rc(56,hr,2,2,"mat-option",30),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(57,"div",14),m.Xb(58,"div",15),m.Xb(59,"mat-hint"),m.Tc(60,"Chassis Number"),m.Wb(),m.Xb(61,"mat-card",16),m.Sb(62,"input",32),m.Wb(),m.Wb(),m.Xb(63,"div",15),m.Xb(64,"mat-hint"),m.Tc(65,"Engine Number"),m.Wb(),m.Xb(66,"mat-card",16),m.Sb(67,"input",33),m.Wb(),m.Wb(),m.Wb(),m.Xb(68,"div",14),m.Xb(69,"div",15),m.Xb(70,"mat-hint"),m.Tc(71,"Registration Number"),m.Wb(),m.Xb(72,"mat-card",16),m.Sb(73,"input",34),m.Wb(),m.Wb(),m.Xb(74,"div",15),m.Xb(75,"mat-hint"),m.Tc(76,"Registration State"),m.Wb(),m.Xb(77,"mat-card",19),m.Xb(78,"mat-select",35),m.fc("selectionChange",function(e){return m.Hc(n),m.jc().getCityName(e.value)}),m.Xb(79,"mat-option",21),m.Tc(80,"Select"),m.Wb(),m.Rc(81,vr,2,2,"mat-option",30),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(82,"div",14),m.Xb(83,"div",15),m.Xb(84,"mat-hint"),m.Tc(85,"Registration City"),m.Wb(),m.Xb(86,"mat-card",19),m.Xb(87,"mat-select",36),m.Xb(88,"mat-option",21),m.Tc(89,"Select"),m.Wb(),m.Rc(90,yr,2,2,"mat-option",30),m.Wb(),m.Wb(),m.Wb(),m.Xb(91,"div",15),m.Xb(92,"mat-hint"),m.Tc(93,"Expected Selling Price"),m.Wb(),m.Xb(94,"mat-card",16),m.Xb(95,"input",37),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(96,"div",14),m.Xb(97,"div",38),m.Xb(98,"mat-hint"),m.Tc(99,"Distance Run"),m.Wb(),m.Xb(100,"mat-card",39),m.Sb(101,"input",40),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(102,"mat-card-title"),m.Xb(103,"fieldset",41),m.Xb(104,"legend",7),m.Tc(105,"Insurance Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(106,"div",42),m.Xb(107,"div",43),m.Xb(108,"div",44),m.Xb(109,"mat-hint"),m.Tc(110,"Insurance Details"),m.Wb(),m.Xb(111,"mat-card",16),m.Sb(112,"input",45),m.Wb(),m.Wb(),m.Xb(113,"div",44),m.Xb(114,"mat-hint"),m.Tc(115,"Policy Number"),m.Wb(),m.Xb(116,"mat-card",16),m.Xb(117,"input",46),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)})("ngModelChange",function(e){return m.Hc(n),m.jc().changeInput(e)}),m.Wb(),m.Wb(),m.Rc(118,Wr,2,1,"mat-error",18),m.Wb(),m.Xb(119,"div",44),m.Xb(120,"mat-hint"),m.Tc(121,"Premium Amount"),m.Wb(),m.Xb(122,"mat-card",16),m.Xb(123,"input",47),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(124,"div",43),m.Xb(125,"div",44),m.Xb(126,"mat-hint"),m.Tc(127,"Insurance Company"),m.Wb(),m.Xb(128,"mat-card",16),m.Sb(129,"input",48),m.Wb(),m.Wb(),m.Xb(130,"div",44),m.Xb(131,"mat-hint"),m.Tc(132,"Policy Commencement Date *"),m.Wb(),m.Xb(133,"mat-card",49),m.Sb(134,"input",50),m.Xb(135,"div",51),m.Sb(136,"mat-datepicker-toggle",52),m.Sb(137,"mat-datepicker",null,53),m.Wb(),m.Wb(),m.Wb(),m.Xb(139,"div",44),m.Xb(140,"mat-hint"),m.Tc(141,"Premium Frequency"),m.Wb(),m.Xb(142,"mat-card",16),m.Sb(143,"input",54),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(144,"div",55),m.Xb(145,"div",56),m.Xb(146,"div",44),m.Xb(147,"mat-hint"),m.Tc(148,"Policy Renewal Date *"),m.Wb(),m.Xb(149,"mat-card",57),m.Sb(150,"input",58),m.Xb(151,"div",51),m.Sb(152,"mat-datepicker-toggle",52),m.Sb(153,"mat-datepicker",null,59),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(138),o=m.Dc(154),i=m.jc();m.rc("formGroup",i.vehicleForm),m.Eb(8),m.rc("ngIf",!i.vehicleForm.get("productName").valid&&i.vehicleForm.get("productName").touched),m.Eb(20),m.rc("ngIf",!i.vehicleForm.get("vehicleClass").valid&&i.vehicleForm.get("vehicleClass").touched),m.Eb(6),m.rc("ngIf",!i.vehicleForm.get("maker").valid&&i.vehicleForm.get("maker").touched),m.Eb(16),m.rc("ngForOf",i.years),m.Eb(6),m.rc("ngForOf",i.months),m.Eb(25),m.rc("ngForOf",i.arrayState),m.Eb(9),m.rc("ngForOf",i.arrayCity),m.Eb(28),m.rc("ngIf",!i.vehicleForm.get("policyNumber").valid&&i.vehicleForm.get("policyNumber").errors.minlength),m.Eb(16),m.rc("matDatepicker",a),m.Eb(2),m.rc("for",a),m.Eb(14),m.rc("min",i.vehicleForm.get("policyCommencementDate").value)("matDatepicker",o),m.Eb(2),m.rc("for",o)}}var xr,Cr=((xr=function(){function e(t,n,o,i,r,c,s,l){a(this,e),this.fb=t,this.ls=n,this.loader=o,this.apiService=i,this.snack=r,this.accountService=c,this.router=s,this.datepipe=l,this.showEditOption=!1,this.months=[],this.years=[],this.policyNumber=!0}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.productName=this.ls.getItem("productName"),this.selectedYear=(new Date).getFullYear();for(var t=this.selectedYear;t>=1990;t--)this.years.push(t);this.months=["01","02","03","04","05","06","07","08","09","10","11","12"];var n=JSON.parse(this.ls.getItem("VEHICLE_DETAIL_DONE"));setTimeout(function(){null!=e.loanaccountID&&n?(e.showEditOption=!0,e.getVehicleDetails()):(console.log("else"),e.showEditOption=!1,e.buildformGroup())},10),this.vehicleForm.get("productName").patchValue(this.productName),this.getStateName()}},{key:"changeInput",value:function(e){this.policyNumber=!e.length}},{key:"getVehicleDetails",value:function(){var e=this;this.loader.open(),this.apiService.getVehicleDetails(this.loanaccountID).subscribe(function(t){e.loader.close(),e.vehicleDetails=t,console.log(e.vehicleDetails),e.buildformGroup(e.vehicleDetails)},function(t){e.loader.close()})}},{key:"buildformGroup",value:function(e){this.getStateName(),this.vehicleForm=this.fb.group({id:[""],insuranceDetails:[e?e.insuranceDetails:""],distanceRun:[e?e.distanceRun:""],engineNumber:[e?e.engineNumber:""],expectedSellingPrice:[e?e.expectedSellingPrice:""],insuranceCompany:[e?e.insuranceCompany:""],model:[e?e.model:""],policyCommencementDate:[e?e.policyCommencementDate:"",[$.A.required]],policyNumber:[e?e.policyNumber:""],policyRenewalDate:[e?e.policyRenewalDate:"",[$.A.required]],premiunAmount:[e?e.premiunAmount:""],premiunFrequency:[e?e.premiunFrequency:""],productName:[e?e.productName:"",$.A.required],maker:[e?e.maker:"",$.A.required],hypothecatedBranch:[e?e.hypothecatedBranch:""],registrationCity:[e?e.registrationCity:""],registrationNumber:[e?e.registrationNumber:""],registrationState:[e?e.registrationState:""],vehicleClass:[e?e.vehicleClass:"",[$.A.required]],chassisNumber:[e?e.chassisNumber:""],make:[e?e.make:""],month:[e?e.make.split("-")[1]:"",[$.A.required]],year:[e?e.make.split("-")[0]:"",[$.A.required]]})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/loan-details"])}},{key:"getStateName",value:function(){var e=this;this.apiService.getDropDownValues("state").subscribe(function(t){e.arrayState=t.sort(),console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(e){var t=this;console.log("inside getCityName::",e),this.apiService.getDropDownValues1("city",e).subscribe(function(e){t.arrayCity=e,console.log("--\x3e",t.arrayCity)})}},{key:"next",value:function(){this.ls.setItem("VEHICLE_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/customer-information"])}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"convertDate",value:function(e){var t=re(e).format("YYYY-MM-DD");if(console.log("date",t),t)return t}},{key:"submitForm",value:function(){var e=this,t=this.vehicleForm.value.expectedSellingPrice;t=parseInt(t);var n=this.vehicleForm.value.premiunAmount;n=parseInt(n);var a=this.vehicleForm.value.year+"-"+this.vehicleForm.value.month;this.vehicleForm.get("make").setValue(a);var o={loanAccountId:this.loanaccountID,insuranceDetails:this.vehicleForm.value.insuranceDetails,distanceRun:this.vehicleForm.value.distanceRun,engineNumber:this.vehicleForm.value.engineNumber,expectedSellingPrice:t,insuranceCompany:this.vehicleForm.value.insuranceCompany,purposeOfLoan:this.vehicleForm.value.purposeOfLoan,model:this.vehicleForm.value.model,policyNumber:this.vehicleForm.value.policyNumber,policyRenewalDate:this.datepipe.transform(this.vehicleForm.value.policyRenewalDate,"yyyy-MMM-dd"),policyCommencementDate:this.datepipe.transform(this.vehicleForm.value.policyCommencementDate,"yyyy-MMM-dd"),premiunAmount:n,premiunFrequency:this.vehicleForm.value.premiunFrequency,productName:this.vehicleForm.value.productName,registrationCity:this.vehicleForm.value.registrationCity,registrationNumber:this.vehicleForm.value.registrationNumber,registrationState:this.vehicleForm.value.registrationState,vehicleClass:this.vehicleForm.value.vehicleClass,chassisNumber:this.vehicleForm.value.chassisNumber,maker:this.vehicleForm.value.maker,hypothecatedBranch:this.vehicleForm.value.hypothecatedBranch,make:a};console.log("payload",o),this.apiService.saveVehicleDetails(o).subscribe(function(t){console.log("data",t),null!=t&&e.snack.open("Vehicle Details saved Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),500===t&&(e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))}),this.next()}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}}]),e}()).\u0275fac=function(e){return new(e||xr)(m.Rb($.f),m.Rb(W.a),m.Rb(Pe.a),m.Rb(x.b),m.Rb(A.a),m.Rb(ue.a),m.Rb(d.h),m.Rb(u.f))},xr.\u0275cmp=m.Lb({type:xr,selectors:[["app-vehicle-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/asset_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","column"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"inputMatName"],["formControlName","productName","autocomplete","off","matInput","","name","a_sig","placeholder","Product Name","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')",1,"alignment"],[4,"ngIf"],[1,"widthCard","inputMatName1"],["name","hypothecatedBranch","placeholder","Select","disableOptionCentering","","formControlName","hypothecatedBranch"],["value",""],["value","test"],["name","vehicleClass","placeholder","Select","formControlName","vehicleClass","disableOptionCentering",""],["value","New"],["formControlName","maker","autocomplete","off","matInput","","name","maker","placeholder","Maker","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["formControlName","model","autocomplete","off","matInput","","name","model","placeholder","Model","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","start center"],["fxFlex","30"],["name","year","placeholder","YYYY","formControlName","year","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","MM","formControlName","month","disableOptionCentering",""],["formControlName","chassisNumber","autocomplete","off","maxlength","17","matInput","","name","a_sig","placeholder","Chassis Number","oninput","this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')","image.png","",1,"alignment"],["matInput","","formControlName","engineNumber","autocomplete","off","maxlength","12","name","a_sig","placeholder","Engine Number","oninput","this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["formControlName","registrationNumber","autocomplete","off","matInput","","name","a_sig","placeholder","Registration Number","oninput","this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["disableOptionCentering","","name","registrationState","placeholder","Select","formControlName","registrationState",3,"selectionChange"],["disableOptionCentering","","name","registrationCity","placeholder","Select","formControlName","registrationCity"],["matInput","","formControlName","expectedSellingPrice","autocomplete","off","name","a_sig","placeholder","Expected Selling Price","oninput","this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')",1,"alignment",3,"keypress"],["fxFlex","49.5%",1,"flex-grow-1"],[1,"widthCard","inputMatName"],["matInput","","formControlName","distanceRun","autocomplete","off","name","a_sig","placeholder","Distance Run","oninput","this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],[1,"alignChange"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"mt-16"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-1"],["formControlName","insuranceDetails","autocomplete","off","matInput","","name","a_sig","placeholder","Insurance Details","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["formControlName","policyNumber","autocomplete","off","minlength","6","maxlength","9","matInput","","name","a_sig","placeholder","Policy Number",1,"alignment",3,"keypress","ngModelChange"],["formControlName","premiunAmount","autocomplete","off","matInput","","name","a_sig","placeholder","Premium Amount",1,"alignment",3,"keypress"],["formControlName","insuranceCompany","autocomplete","off","matInput","","name","a_sig","placeholder","Insurance Company","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')",1,"alignment"],[1,"inputMatName1",2,"height","48px"],["matInput","","name","policyCommencementDate","autocomplete","off","formControlName","policyCommencementDate","readonly","","placeholder","DD/MM/YYYY","disableOptionCentering","",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","formControlName","premiunFrequency","autocomplete","off","name","premiunFrequency","placeholder","Premium Frequency","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')",1,"alignment"],["fxLayout","row"],["fxFlex","100","fxFlex.gt-xs","49.5%"],[1,"inputMatName1"],["matInput","","name","policyRenewalDate","autocomplete","off","formControlName","policyRenewalDate","readonly","","placeholder","DD/MM/YYYY","disableOptionCentering","",1,"alignment",3,"min","matDatepicker"],["appDatepicker2",""],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Vehicle Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title"),m.Xb(11,"fieldset"),m.Xb(12,"legend",7),m.Tc(13,"Vehicle Information"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,Xr,155,14,"form",8),m.Wb(),m.Wb(),m.Xb(16,"div",9),m.Xb(17,"button",10),m.fc("click",function(){return t.goBack()}),m.Tc(18," Back "),m.Wb(),m.Xb(19,"button",11),m.fc("click",function(){return t.submitForm()}),m.Tc(20," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.vehicleForm),m.Eb(4),m.rc("disabled",!t.vehicleForm.valid))},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,g.f,$.c,Q.b,$.r,$.i,J.a,Z.n,u.m,$.m,$.n,ce.e,ce.g,g.j,ce.d,g.b],styles:[".line[_ngcontent-%COMP%]{left:617px;width:571px;height:2px;border:1px solid #707070;opacity:.23}.inputMatcard[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px;width:300px}.inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;margin-top:12px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName1[_ngcontent-%COMP%]{height:48px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:30%;margin-left:0!important}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}.alignChange[_ngcontent-%COMP%]{margin-left:0!important;margin-top:20px}"]}),xr);function Ir(e,t){if(1&e&&(m.Xb(0,"form",10),m.Xb(1,"div",11),m.Xb(2,"div",12),m.Xb(3,"div",13),m.Xb(4,"mat-form-field",14),m.Xb(5,"mat-label"),m.Tc(6,"Type of Repayment*"),m.Wb(),m.Sb(7,"input",15),m.Wb(),m.Wb(),m.Xb(8,"div",13),m.Xb(9,"mat-form-field",14),m.Xb(10,"mat-label"),m.Tc(11,"First Repayment Date*"),m.Wb(),m.Sb(12,"input",16),m.Sb(13,"mat-datepicker-toggle",17),m.Wb(),m.Sb(14,"mat-datepicker",null,18),m.Wb(),m.Xb(16,"div",13),m.Xb(17,"mat-form-field",14),m.Xb(18,"mat-label"),m.Tc(19,"Maturity Date*"),m.Wb(),m.Sb(20,"input",19),m.Sb(21,"mat-datepicker-toggle",17),m.Wb(),m.Sb(22,"mat-datepicker",null,18),m.Wb(),m.Xb(24,"div",13),m.Xb(25,"mat-form-field",14),m.Xb(26,"mat-label"),m.Tc(27,"Customer Account"),m.Wb(),m.Sb(28,"input",20),m.Wb(),m.Wb(),m.Xb(29,"div",13),m.Xb(30,"mat-form-field",14),m.Xb(31,"mat-label"),m.Tc(32,"Moratorium Period"),m.Wb(),m.Sb(33,"input",21),m.Wb(),m.Wb(),m.Wb(),m.Xb(34,"div",12),m.Xb(35,"div",13),m.Xb(36,"mat-form-field",14),m.Xb(37,"mat-label"),m.Tc(38,"Repayment Frequency*"),m.Wb(),m.Sb(39,"input",22),m.Wb(),m.Wb(),m.Xb(40,"div",13),m.Xb(41,"mat-form-field",14),m.Xb(42,"mat-label"),m.Tc(43,"Loan Tenure"),m.Wb(),m.Sb(44,"input",23),m.Wb(),m.Wb(),m.Xb(45,"div",13),m.Xb(46,"mat-form-field",14),m.Xb(47,"mat-label"),m.Tc(48,"Repayment Mode"),m.Wb(),m.Sb(49,"input",24),m.Wb(),m.Wb(),m.Xb(50,"div",13),m.Xb(51,"mat-form-field",14),m.Xb(52,"mat-label"),m.Tc(53,"Branch code"),m.Wb(),m.Sb(54,"input",25),m.Wb(),m.Wb(),m.Xb(55,"a",26),m.Xb(56,"u"),m.Tc(57," Show Payment Schedule"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(58,"div",27),m.Xb(59,"button",28),m.Tc(60," Back "),m.Wb(),m.Xb(61,"button",29),m.Tc(62," Done "),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(15),a=m.jc();m.rc("formGroup",a.loanRepaymentForm),m.Eb(12),m.rc("matDatepicker",n),m.Eb(1),m.rc("for",n),m.Eb(7),m.rc("matDatepicker",n),m.Eb(1),m.rc("for",n)}}var Ar,Or=((Ar=function(){function e(t){a(this,e),this.fb=t}return i(e,[{key:"ngOnInit",value:function(){this.buildformGroup()}},{key:"buildformGroup",value:function(){this.loanRepaymentForm=this.fb.group({id:[""],type_of_repayment:[""],first_repayment_date:[""],maturity_date:[""],loan_tenure:[""],repayment_mode:[""],repayment_frequency:[""],customer_account:[""],moratorium_period:[""],branch_code:[""]})}}]),e}()).\u0275fac=function(e){return new(e||Ar)(m.Rb($.f))},Ar.\u0275cmp=m.Lb({type:Ar,selectors:[["app-loan-repayment"]],decls:16,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","name","a_sig","placeholder","EMI"],["matInput","","name","date","readonly","","placeholder","12/02/2020",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","name","date","placeholder","12/02/2025",3,"matDatepicker"],["matInput","","name","a_sig","placeholder","Customer Account"],["matInput","","name","a_sig","placeholder","2"],["matInput","","name","a_sig","placeholder","Monthly"],["matInput","","name","a_sig","placeholder","10 years"],["matInput","","name","a_sig","placeholder","Internal Account"],["matInput","","name","a_sig","placeholder","Branch code"],[2,"color","rgb(0, 153, 255)"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary"],["mat-raised-button","","color","primary"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Loan Repayment Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title",7),m.Xb(11,"div",8),m.Tc(12,"Loan Repayment Details"),m.Wb(),m.Sb(13,"mat-divider"),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,Ir,63,5,"form",9),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.loanRepaymentForm))},directives:[p.e,p.b,f.a,f.h,S.a,f.d,u.n,$.C,$.s,$.j,p.f,p.d,g.c,g.g,Q.b,ce.e,ce.g,g.j,ce.d,h.b],styles:[""]}),Ar),Tr=function(){return{y:"50px",delay:"300ms"}},Dr=function(e){return{value:"*",params:e}};function kr(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",19),m.Xb(1,"mat-card"),m.Xb(2,"div",20),m.Xb(3,"div",21),m.Xb(4,"mat-icon",22),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",23),m.Xb(7,"h6"),m.Tc(8,"Offer Accept/Reject Stage Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",24),m.Xb(10,"button",25),m.fc("click",function(){return m.Hc(n),m.jc().popupOfferIssue()}),m.Tc(11," View Summary "),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,Dr,m.wc(1,Tr))))}function Sr(e,t){1&e&&(m.Xb(0,"div",26),m.Sb(1,"mat-progress-bar",27),m.Xb(2,"p",28),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}function _r(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",25),m.fc("click",function(){return m.Hc(n),m.jc().popupOfferIssue()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Rr=function(){return["/loan/account/offerstage/offer-accept-reject"]};function Er(e,t){1&e&&(m.Xb(0,"button",29),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,Rr))}var Mr,Pr=((Mr=function(){function e(t,n,o,i,r,c){a(this,e),this.router=t,this.dialogService=n,this.ls=o,this.cdr=i,this.accountService=r,this.apiService=c,this.isQualitativeScreen=!1,this.isReportScreen=!1,this.isAssessmentStageDone=!1,this.isChargesScreen=!1,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.accountId=this.ls.getItem("accountId");var t=this.ls.getItem("overDraftByStatus")||null;console.log("fetch",t),this.overDraftByStatus=null!=t&&t.isActive,console.log(this.overDraftByStatus),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isOfferIssueScreen=this.ls.getItem("OfferIssue"),this.isOfferIssueRejectScreen=this.ls.getItem("OfferIssueRejectScreen"),this.accountService.refresh.subscribe(function(t){e.accountId=e.ls.getItem("accountId");var n=e.ls.getItem("overDraftByStatus")||null;e.overDraftByStatus=null!=n&&n.isActive,e.isAssessmentStageDone=e.ls.getItem("assessmentStage"),e.isQualitativeScreen=e.ls.getItem("ASSESSMENT_QA_DONE"),e.isAssesmentDetailsScreen=e.ls.getItem("assessmentScreen"),e.isOfferIssueScreen=e.ls.getItem("OfferIssue"),e.isOfferIssueRejectScreen=e.ls.getItem("OfferIssueRejectScreen"),e.cdr.markForCheck()}),this.getData(this.accountId)}},{key:"getData",value:function(e){var t=this;this.apiService.getApplnAssessmentDetails(e).subscribe(function(e){t.assessmentReportSummary=e,console.log(t.assessmentReportSummary)})}},{key:"popupAssessment",value:function(){this.dialogService.offerAssessmentSummaryDialog()}},{key:"popup",value:function(){this.dialogService.offerIssueSummaryDialog()}},{key:"popupOfferIssue",value:function(){this.dialogService.offerAcceptRejectSummaryDialog()}}]),e}()).\u0275fac=function(e){return new(e||Mr)(m.Rb(d.h),m.Rb(da.a),m.Rb(W.a),m.Rb(m.h),m.Rb(X.a),m.Rb(x.b))},Mr.\u0275cmp=m.Lb({type:Mr,selectors:[["app-offer-accept-reject-stage"]],decls:31,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showReport",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create Retail Loan Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,kr,12,4,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card"),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1. Offer Accept / Reject Details"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",11),m.Xb(20,"div",12),m.Xb(21,"p",13),m.Tc(22,"Offer Accept or Reject Details are provided."),m.Wb(),m.Wb(),m.Xb(23,"div",14),m.Sb(24,"img",15),m.Wb(),m.Wb(),m.Rc(25,Sr,4,2,"div",16),m.Wb(),m.Sb(26,"mat-divider"),m.Xb(27,"mat-card-actions"),m.Rc(28,_r,5,0,"ng-container",17),m.Rc(29,Er,4,2,"ng-template",null,18,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(30);m.Eb(11),m.rc("ngIf",t.isOfferIssueRejectScreen),m.Eb(13),m.rc("src","assets/images/svg/undraw_approve_qwp7.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isOfferIssueRejectScreen),m.Eb(3),m.rc("ngIf",t.isOfferIssueRejectScreen)("ngIfElse",n)}},directives:[p.e,p.b,u.n,f.a,f.e,f.h,f.d,p.f,p.d,S.a,f.b,O.a,h.b,_.a,d.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}"]}),Mr);function Nr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0 Applicant Name is Required! "),m.Wb())}function wr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0 Approved Loan Amount is Required! "),m.Wb())}function Fr(e,t){if(1&e&&(m.Xb(0,"mat-option",42),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Lr(e,t){if(1&e&&(m.Xb(0,"mat-option",42),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Vr(e,t){if(1&e&&(m.Xb(0,"mat-option",42),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function qr(e,t){if(1&e&&(m.Xb(0,"mat-option",42),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function jr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0 Offer Issue Date is Required! "),m.Wb())}function Br(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0 Generate Offer Date is Required! "),m.Wb())}function zr(e,t){if(1&e&&(m.Xb(0,"mat-option",42),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Ur(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0 Date Of Offer Accept/Reject is Required! "),m.Wb())}function Hr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0 Offer Expiry Date is Required! "),m.Wb())}var Gr,Yr=((Gr=function(){function e(t,n,o,i,r,c,s,l){a(this,e),this.router=t,this.ls=n,this.apiService=o,this.snack=i,this.loader=r,this.formBuilder=c,this.appApiService=s,this.accountService=l,this.generateArr=["With Schedule","without Schedule"],this.disableDone=!0,this.showEditOption=!1,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1,this.arraySystemRecommendation=["Approved","Rejected"],this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.installmentTypes=["EMI"],this.offeracceptForm=this.formBuilder.group({approvedLoanAmount:["",[$.A.required]],applicantName:["",[$.A.required]],loanTenure:[""],installmentType:["",[$.A.required]],installmentFrequency:[""],rateOfInterest:[],customerResponse:[""],offerIssueDate:["",[$.A.required]],generateOffer:["",[$.A.required]],offerExpiryDate:["",[$.A.required]],dateOfOfferAcceptOrReject:["",[$.A.required]],year:["",[$.A.required]],month:["",[$.A.required]],day:["",[$.A.required]]})}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var n=0;n<=11;n++)this.months.push(n+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);var o=JSON.parse(this.ls.getItem("OfferIssueRejectScreen"));setTimeout(function(){null!=e.loanaccountID&&o?(e.showEditOption=!0,e.getAccountDetails()):(console.log("else"),e.showEditOption=!1,e.buildOfferAcceptForm())},10),this.fetchByCif(),this.loanData(),this.intrestData(),this.installmentTypeData()}},{key:"getAccountDetails",value:function(){var e=this;this.apiService.getOfferAcceptReject(this.loanaccountID).subscribe(function(t){e.accountDetails=t,console.log(e.accountDetails),e.buildOfferAcceptForm(e.accountDetails)},function(t){e.loader.close()})}},{key:"buildOfferAcceptForm",value:function(e){e.offerIssueDate=e?re(e.offerIssueDate).format():"",e.generateOffer=e?re(e.generateOffer).format():"",e.offerExpiryDate=e?re(e.offerExpiryDate).format():"",e.dateOfOfferAcceptOrReject=e?re(e.offerAcceptOrRejectDate).format():"",this.offeracceptForm=this.formBuilder.group({approvedLoanAmount:[e?e.approvedLoanAmount:""],loanTenure:[e?e.loanTenure:""],applicantName:[e?e.applicantName:""],installmentFrequency:[e?e.installmentFrequency:""],rateOfInterest:[e?e.rateOfInterest:""],offerIssueDate:[e?e.offerIssueDate:""],generateOffer:[e?e.generateOffer:""],offerExpiryDate:[e?e.offerExpiryDate:""],year:[e?e.loanTenure.split("-")[0]:""],month:[e?e.loanTenure.split("-")[1]:""],day:[e?e.loanTenure.split("-")[2]:""],installmentType:[e?e.installmentType:""],dateOfOfferAcceptOrReject:[e?e.dateOfOfferAcceptOrReject:""],customerResponse:[e?e.customerResponse:""]})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/offerstage/list"])}},{key:"Submit",value:function(){var e=this,t=new Date;t=this.offeracceptForm.value.offerIssueDate;var n=re(t).format("YYYY-MMM-DD HH:MM:SS"),a=new Date;a=this.offeracceptForm.value.offerAcceptOrRejectDate;var o=re(a).format("YYYY-MMM-DD HH:MM:SS");console.log("OAR",o);var i=new Date;i=this.offeracceptForm.value.offerExpiryDate;var r=re(i).format("YYYY-MMM-DD HH:MM:SS");console.log("OE",r);var c=new Date;c=this.offeracceptForm.value.generateOffer;var s=re(c).format("YYYY-MMM-DD HH:MM:SS");console.log("GO",s);var l=this.offeracceptForm.value.approvedLoanAmount;l=parseInt(l);var b=this.offeracceptForm.value.rateOfInterest;b=parseInt(b);var u=this.offeracceptForm.value.year+"-"+this.offeracceptForm.value.month+"-"+this.offeracceptForm.value.day;this.offeracceptForm.get("loanTenure").setValue(u),delete this.offeracceptForm.value.year,delete this.offeracceptForm.value.month,delete this.offeracceptForm.value.day,this.offeracceptForm.value.interest=parseInt(this.offeracceptForm.value.interest),this.offeracceptForm.value.installmentAmount=parseInt(this.offeracceptForm.value.installmentAmount);var m={loanAccountId:this.loanaccountID,approvedLoanAmount:l,applicantName:this.offeracceptForm.value.applicantName,loanTenure:u,installmentType:this.offeracceptForm.value.installmentType,installmentFrequency:this.offeracceptForm.value.installmentFrequency,rateOfInterest:b,offerIssueDate:n,interest:this.offeracceptForm.value.interest,installmentAmount:this.offeracceptForm.value.installmentAmount,dateOfOfferAcceptOrReject:o,offerExpiryDate:r,generateOffer:s,customerResponse:this.offeracceptForm.value.customerResponse};console.log("payload",m),this.apiService.offerDetails(m).subscribe(function(t){console.log("data",t),null!=t&&e.snack.open("Offer Issue Accept/Reject Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.Next()})}},{key:"Next",value:function(){this.ls.setItem("OfferIssueRejectScreen",!0),this.ls.setItem("OfferIssueRejectStageScreen",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/post-offer-amend-stage/list"])}},{key:"_keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"onInput",value:function(e,t){this.approvedLoan=t?e.target.value:e,console.log("this.salary)::",this.approvedLoan);var n=this.approvedLoan.toString().replace(/,/g,"").split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var a=n.join(".");console.log("final",a),this.offeracceptForm.controls.approvedLoan.setValue(a)}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"fetchByCif",value:function(){var e=this;this.cifNumber=this.ls.getItem("cId"),this.appApiService.fetchByCif(this.cifNumber).subscribe(function(t){e.offeracceptForm.get("applicantName").setValue(t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName)},function(e){console.error(e)})}},{key:"loanData",value:function(){var e=this;console.log(this.loanaccountID),this.apiService.fetchByLoanAccountId(this.loanaccountID).subscribe(function(t){console.log(t),e.offeracceptForm.get("approvedLoanAmount").setValue(t.approvedLoanAmount),console.log(t.loanTenure);var n=t.loanTenure.split("-")[0];console.log(n);var a=t.loanTenure.split("-")[1];console.log(a);var o=t.loanTenure.split("-")[2];console.log(o),e.offeracceptForm.get("year").setValue(n),e.offeracceptForm.get("month").setValue(a),e.offeracceptForm.get("day").setValue(o)},function(e){console.error(e)})}},{key:"intrestData",value:function(){var e=this;console.log(this.loanaccountID),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(function(t){e.offeracceptForm.get("rateOfInterest").setValue(t.rateOfInterest)})}},{key:"installmentTypeData",value:function(){var e=this;console.log(this.loanaccountID),this.apiService.getingOfferIssueDetails(this.loanaccountID).subscribe(function(t){console.log(t),e.offeracceptForm.get("installmentType").setValue(t.installmentType),e.offeracceptForm.get("installmentFrequency").setValue(t.installmentFrequency);var n=re(t.offerIssueDate).format();e.offeracceptForm.get("offerIssueDate").setValue(n),console.log(n)})}}]),e}()).\u0275fac=function(e){return new(e||Gr)(m.Rb(d.h),m.Rb(W.a),m.Rb(x.b),m.Rb(A.a),m.Rb(Pe.a),m.Rb($.f),m.Rb(ln.a),m.Rb(ue.a))},Gr.\u0275cmp=m.Lb({type:Gr,selectors:[["app-offer-accept-reject"]],decls:118,vars:24,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_approve_qwp7.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","column",3,"formGroup"],[1,"alignChange"],["visible","true"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],[1,"hint"],["matInput","","type","text","name","applicantName","formControlName","applicantName","placeholder","Applicant Name","readonly","",1,"alignment"],[4,"ngIf"],["matInput","","type","text","name","approvedLoanAmount","placeholder","Approved Loan Account","formControlName","approvedLoanAmount","maxlength","16","maxlength","16",1,"alignment",3,"keypress","keyup"],["fxLayout","row wrap"],[1,"size"],["appearance","outline","fxFlex","23",1,"full-width","tenure1"],["name","year","placeholder","Year","disableOptionCentering","","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxFlex","22.5",1,"full-width","tenure1"],["name","month","placeholder","Month","formControlName","month","disableOptionCentering",""],["appearance","outline","fxFlex","22",1,"full-width","tenure1"],["name","day","placeholder","Day","formControlName","day","disableOptionCentering",""],["formControlName","installmentType","placeholder","Select","disableOptionCentering","","required","",1,"alignment"],["matInput","","type","text","name","applicantName","formControlName","installmentFrequency","maxlength","2","placeholder","Installment Frequency",1,"alignment",3,"keypress"],["matInput","","type","text","name","loanAmmount","maxlength","2","formControlName","rateOfInterest","placeholder","Rate Of Interest",1,"alignment",3,"keypress"],["matInput","","id","dob","name","offerIssueDate","readonly","","formControlName","offerIssueDate","value","offerIssueDate","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","id","generateOffer","name","generateOffer","readonly","","formControlName","generateOffer","value","generateOffer","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker","max"],["picker3",""],["name","customerResponse","formControlName","customerResponse","disableOptionCenteringplaceholder","Select"],["value"," "],["matInput","","id","dob","name","dateOfOfferAcceptOrReject","readonly","","formControlName","dateOfOfferAcceptOrReject","value","dateOfOfferAcceptOrReject","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker","min"],["picker1",""],["matInput","","id","dobss","name","offerExpiryDate","readonly","","formControlName","offerExpiryDate","value","Date","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker","min"],["picker2",""],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Offer Accept / Reject"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",0),m.Xb(9,"form",6),m.Xb(10,"div",1),m.Xb(11,"mat-card",0),m.Xb(12,"mat-card-title"),m.Xb(13,"fieldset",7),m.Xb(14,"legend",8),m.Tc(15,"Offer Accept / Reject"),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"div",9),m.Xb(17,"div",10),m.Xb(18,"mat-form-field",11),m.Xb(19,"mat-label",12),m.Tc(20,"Applicant Name*"),m.Wb(),m.Sb(21,"input",13),m.Rc(22,Nr,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Xb(23,"div",10),m.Xb(24,"mat-form-field",11),m.Xb(25,"mat-label",12),m.Tc(26,"Approved Loan Amount*"),m.Wb(),m.Xb(27,"input",15),m.fc("keypress",function(e){return t._keyPress1(e)})("keyup",function(e){return t.onInput(e,!0)}),m.Wb(),m.Rc(28,wr,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Wb(),m.Xb(29,"div",9),m.Xb(30,"div",10),m.Xb(31,"div",16),m.Xb(32,"label",17),m.Tc(33,"Loan Tenure*"),m.Wb(),m.Xb(34,"mat-form-field",18),m.Xb(35,"mat-label"),m.Tc(36,"Year*"),m.Wb(),m.Xb(37,"mat-select",19),m.Rc(38,Fr,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Xb(39,"mat-form-field",21),m.Xb(40,"mat-label"),m.Tc(41,"Month*"),m.Wb(),m.Xb(42,"mat-select",22),m.Rc(43,Lr,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Xb(44,"mat-form-field",23),m.Xb(45,"mat-label"),m.Tc(46,"Day*"),m.Wb(),m.Xb(47,"mat-select",24),m.Rc(48,Vr,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(49,"div",10),m.Xb(50,"mat-form-field",11),m.Xb(51,"mat-label",12),m.Tc(52,"Installment Type*"),m.Wb(),m.Xb(53,"mat-select",25),m.Rc(54,qr,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(55,"div",9),m.Xb(56,"div",10),m.Xb(57,"mat-form-field",11),m.Xb(58,"mat-label",12),m.Tc(59,"Installment Frequency"),m.Wb(),m.Xb(60,"input",26),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(61,"div",10),m.Xb(62,"mat-form-field",11),m.Xb(63,"mat-label",12),m.Tc(64,"Rate of Interest in(%)"),m.Wb(),m.Xb(65,"input",27),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(66,"div",9),m.Xb(67,"div",10),m.Xb(68,"mat-form-field",11),m.Xb(69,"mat-label",12),m.Tc(70,"Offer Issue Date*"),m.Wb(),m.Sb(71,"input",28),m.Sb(72,"mat-datepicker-toggle",29),m.Sb(73,"mat-datepicker",null,30),m.Rc(75,jr,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Xb(76,"div",10),m.Xb(77,"mat-form-field",11),m.Xb(78,"mat-label",12),m.Tc(79,"Generate Offer*"),m.Wb(),m.Sb(80,"input",31),m.Sb(81,"mat-datepicker-toggle",29),m.Sb(82,"mat-datepicker",null,32),m.Rc(84,Br,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Wb(),m.Xb(85,"div",9),m.Xb(86,"div",10),m.Xb(87,"mat-form-field",11),m.Xb(88,"mat-label",12),m.Tc(89,"Customer Response"),m.Wb(),m.Xb(90,"mat-select",33),m.Xb(91,"mat-option",34),m.Tc(92,"Select"),m.Wb(),m.Rc(93,zr,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Wb(),m.Xb(94,"div",10),m.Xb(95,"mat-form-field",11),m.Xb(96,"mat-label",12),m.Tc(97,"Date Of Offer Accept/Reject *"),m.Wb(),m.Sb(98,"input",35),m.Sb(99,"mat-datepicker-toggle",29),m.Sb(100,"mat-datepicker",null,36),m.Rc(102,Ur,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Wb(),m.Xb(103,"div",9),m.Xb(104,"div",10),m.Xb(105,"mat-form-field",11),m.Xb(106,"mat-label",12),m.Tc(107,"Offer Expiry Date *"),m.Wb(),m.Sb(108,"input",37),m.Sb(109,"mat-datepicker-toggle",29),m.Sb(110,"mat-datepicker",null,38),m.Rc(112,Hr,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(113,"div",39),m.Xb(114,"button",40),m.fc("click",function(){return t.goBack()}),m.Tc(115," Back "),m.Wb(),m.Xb(116,"button",41),m.fc("click",function(){return t.Submit()}),m.Tc(117," Next "),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(74),a=m.Dc(83),o=m.Dc(101),i=m.Dc(111);m.Eb(9),m.rc("formGroup",t.offeracceptForm),m.Eb(13),m.rc("ngIf",!t.offeracceptForm.get("applicantName").valid&&t.offeracceptForm.get("applicantName").touched),m.Eb(6),m.rc("ngIf",!t.offeracceptForm.get("approvedLoanAmount").valid&&t.offeracceptForm.get("approvedLoanAmount").touched),m.Eb(10),m.rc("ngForOf",t.years),m.Eb(5),m.rc("ngForOf",t.months),m.Eb(5),m.rc("ngForOf",t.days),m.Eb(6),m.rc("ngForOf",t.installmentTypes),m.Eb(17),m.rc("matDatepicker",n),m.Eb(1),m.rc("for",n),m.Eb(3),m.rc("ngIf",!t.offeracceptForm.get("offerIssueDate").valid&&t.offeracceptForm.get("offerIssueDate").touched),m.Eb(5),m.rc("matDatepicker",a)("max",t.offeracceptForm.get("offerIssueDate").value),m.Eb(1),m.rc("for",a),m.Eb(3),m.rc("ngIf",!t.offeracceptForm.get("generateOffer").valid&&t.offeracceptForm.get("generateOffer").touched),m.Eb(9),m.rc("ngForOf",t.arraySystemRecommendation),m.Eb(5),m.rc("matDatepicker",o)("min",t.offeracceptForm.get("offerIssueDate").value),m.Eb(1),m.rc("for",o),m.Eb(3),m.rc("ngIf",t.offeracceptForm.get("dateOfOfferAcceptOrReject").invalid&&t.offeracceptForm.get("dateOfOfferAcceptOrReject").touched),m.Eb(6),m.rc("matDatepicker",i)("min",t.offeracceptForm.get("offerIssueDate").value),m.Eb(1),m.rc("for",i),m.Eb(3),m.rc("ngIf",t.offeracceptForm.get("offerExpiryDate").invalid&&t.offeracceptForm.get("offerExpiryDate").touched),m.Eb(4),m.rc("disabled",!t.offeracceptForm.valid)}},directives:[p.e,p.b,$.C,$.s,$.j,f.a,f.h,p.f,g.c,g.g,Q.b,$.c,$.r,$.i,u.n,$.m,J.a,u.m,$.z,ce.e,ce.g,g.j,ce.d,Z.n,p.d,h.b,g.b],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.3rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:5.5cm}.sqInput1[_ngcontent-%COMP%]{width:30%;margin-left:.5%;height:47px}.inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.issuecard[_ngcontent-%COMP%]{height:48px}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.size[_ngcontent-%COMP%]{margin-top:15px}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}"]}),Gr);function $r(e,t){if(1&e&&(m.Xb(0,"mat-option",26),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Qr(e,t){if(1&e&&(m.Xb(0,"mat-option",26),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}var Jr,Zr=((Jr=function(){function e(t,n,o,i,r){a(this,e),this.formBuilder=t,this.ls=n,this.apiService=o,this.snack=i,this.router=r,this.disableDone=!0,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1,this.arraySystemRecommendation=["Approved","Rejected"],this.offerAssessmentFormGroup=this.formBuilder.group({loanAccountId:["566",[$.A.required]],rateOfInterest:["",[$.A.required]],requestedLoanAmount:["",[$.A.required]],loanTenure:["",[$.A.required]],approvedLoanAmount:["",[$.A.required]],userRecommendation:["",[$.A.required]],systemRecommendation:["",[$.A.required]],loanAmountRecommendation:["",[$.A.required]]})}return i(e,[{key:"ngOnInit",value:function(){}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/offerstage/list"])}},{key:"goNext",value:function(){var e=this;this.apiService.updateAssessment(this.offerAssessmentFormGroup.value).subscribe(function(t){console.log("data",t),null!=t&&e.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.ls.setItem("assessmentScreen",!0),this.router.navigate(["/loan/account/offerstage/offer-issue"])}}]),e}()).\u0275fac=function(e){return new(e||Jr)(m.Rb($.f),m.Rb(W.a),m.Rb(x.b),m.Rb(A.a),m.Rb(d.h))},Jr.\u0275cmp=m.Lb({type:Jr,selectors:[["app-offer-assessment-details"]],decls:62,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_report_mx0a.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","column"],["fxLayout","column",3,"formGroup"],["fxLayout","column",2,"border-radius","30px","margin-right","1.5cm"],[1,""],[1,"card-title-text"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["matInput","","formControlName","requestedLoanAmount","type","text","placeholder","Request Loan Amount",1,"alignment"],["matInput","","formControlName","loanTenure","type","text","placeholder","Loan Tenure",1,"alignment"],["matInput","","formControlName","rateOfInterest","type","text","placeholder","Rate Of Interest",1,"alignment"],["placeholder","Recommended for Approval","formControlName","systemRecommendation","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","User Recommendation","formControlName","userRecommendation","disableOptionCentering",""],["matInput","","formControlName","loanAmountRecommendation","type","text","placeholder","loanAmountRecommendation",1,"alignment"],["matInput","","formControlName","approvedLoanAmount","type","text","placeholder","Approved Loan Amount",1,"alignment"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Assessment Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"form",7),m.Xb(10,"div",1),m.Xb(11,"mat-card",8),m.Xb(12,"mat-card-title",9),m.Xb(13,"div",10),m.Tc(14,"Assessment Details"),m.Sb(15,"mat-divider"),m.Wb(),m.Wb(),m.Xb(16,"div",11),m.Xb(17,"div",12),m.Xb(18,"label",13),m.Tc(19,"Request Loan Amount"),m.Wb(),m.Xb(20,"mat-card",14),m.Sb(21,"input",15),m.Wb(),m.Wb(),m.Xb(22,"div",12),m.Xb(23,"label",13),m.Tc(24,"Loan Tenure"),m.Wb(),m.Xb(25,"mat-card",14),m.Sb(26,"input",16),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div",11),m.Xb(28,"div",12),m.Xb(29,"label",13),m.Tc(30,"Rate Of Interest"),m.Wb(),m.Xb(31,"mat-card",14),m.Sb(32,"input",17),m.Wb(),m.Wb(),m.Xb(33,"div",12),m.Xb(34,"label",13),m.Tc(35,"System Recommendation"),m.Wb(),m.Xb(36,"mat-card",14),m.Xb(37,"mat-select",18),m.Rc(38,$r,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(39,"div",11),m.Xb(40,"div",12),m.Xb(41,"label",13),m.Tc(42,"User Recommendation"),m.Wb(),m.Xb(43,"mat-card",14),m.Xb(44,"mat-select",20),m.Rc(45,Qr,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(46,"div",12),m.Xb(47,"label",13),m.Tc(48,"Loan Amount Recommended"),m.Wb(),m.Xb(49,"mat-card",14),m.Sb(50,"input",21),m.Wb(),m.Wb(),m.Wb(),m.Xb(51,"div",11),m.Xb(52,"div",12),m.Xb(53,"label",13),m.Tc(54,"Approved Loan Amount"),m.Wb(),m.Xb(55,"mat-card",14),m.Sb(56,"input",22),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(57,"div",23),m.Xb(58,"button",24),m.fc("click",function(){return t.goBack()}),m.Tc(59,"Back"),m.Wb(),m.Xb(60,"button",25),m.fc("click",function(){return t.goNext()}),m.Tc(61,"Next"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(9),m.rc("formGroup",t.offerAssessmentFormGroup),m.Eb(29),m.rc("ngForOf",t.arraySystemRecommendation),m.Eb(7),m.rc("ngForOf",t.arraySystemRecommendation),m.Eb(15),m.rc("disabled",!t.offerAssessmentFormGroup.valid))},directives:[p.e,p.b,$.C,$.s,$.j,f.a,f.h,S.a,p.f,Q.b,$.c,$.r,$.i,J.a,u.m,h.b,Z.n],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}"]}),Jr);function Kr(e,t){if(1&e&&(m.Xb(0,"mat-option",32),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.Eb(1),m.Vc(" ",n," ")}}function ec(e,t){if(1&e&&(m.Xb(0,"mat-option",33),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.Eb(1),m.Vc(" ",n," ")}}function tc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please select Agency!"),m.Wb(),m.Wb())}function nc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please enter Ratings!"),m.Wb(),m.Wb())}var ac,oc=((ac=function(){function e(t,n,o,i,r,c){a(this,e),this.formBuilder=t,this.loader=n,this.apiService=o,this.snack=i,this.ls=r,this.router=c,this.agencyRating=[],this.agencyArr=["riyan","john daey","joo"],this.customerArr=["Jo Smith","David","Chris"],this.showEditOption=!1,this.creditDetails=this.formBuilder.group({agencyName:["",[$.A.required]],ratings:["",[$.A.required]],remarks:["",[$.A.required]]})}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanAccountId=this.ls.getItem("loanAccountId"),console.log("this.accountId ",this.accountId),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId);var t=JSON.parse(this.ls.getItem("CreditRatingDetails"));setTimeout(function(){null!=e.loanAccountId&&t?(e.showEditOption=!0,e.getAccountDetails()):(console.log("else"),e.showEditOption=!1,e.buildAccountForm())},10)}},{key:"getAccountDetails",value:function(){var e=this;this.loader.open(),this.apiService.getCreditRating(this.loanAccountId).subscribe(function(t){e.loader.close(),e.accountDetails=t,console.log(e.accountDetails),e.buildAccountForm(e.accountDetails)},function(t){e.loader.close()})}},{key:"buildAccountForm",value:function(e){this.creditDetails=this.formBuilder.group({customerName:[e?this.ls.getItem("NAME"):""],agencyName:[e?e.agencyName:"",$.A.required],ratings:[e?e.ratings:"",$.A.required],remarks:[e?e.remarks:"",$.A.required]})}},{key:"submit",value:function(){this.next()}},{key:"next",value:function(){var e=this;this.agencyRating.push(this.creditDetails.value),console.log("addbranch::",this.agencyRating);var t={agencyRating:this.agencyRating,loanAccountId:this.loanAccountId};this.apiService.UpdateCreditRating(t).subscribe(function(t){console.log(t),200===t||null!==t?(e.snack.open("  Credit Rating  Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.ls.setItem("CreditRatingDetails",!0),e.router.navigate(["/loan/account/list/offer-issue/valuation-asset"])):500===t&&e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){console.log(e)}),console.log("payload",t)}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||ac)(m.Rb($.f),m.Rb(Pe.a),m.Rb(x.b),m.Rb(A.a),m.Rb(W.a),m.Rb(d.h))},ac.\u0275cmp=m.Lb({type:ac,selectors:[["app-credit-rating-details"]],decls:62,vars:6,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","column"],["fxLayout","column",3,"formGroup"],[1,"p-0",2,"border-radius","30px","margin-right","1.5cm"],[1,"card-title-text"],["fxFlex","40%",1,"form-group"],[1,"hint"],[1,"inputMatName"],["disableOptionCentering","",1,"alignment"],["disabled",""],["value","customerName",4,"ngFor","ngForOf"],[1,"form-group"],["expanded","true",1,"mb-8",2,"border","1px solid #456EFE"],[2,"border","1px solid #456EFE"],["fxFlex","100","fxLayoutGap","10px"],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],["formControlName","agencyName","disableOptionCentering","",1,"alignment"],["value","agencyName",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","maxlength","3","type","text","name","ratings","formControlName","ratings",1,"alignment",3,"keypress"],["fxLayoutGap","10px"],[1,"full-width"],["matInput","","formControlName","remarks"],[1,"button"],["mat-button","",1,"Back"],["mat-stroked-button","",1,"Next",3,"disabled","click"],["value","customerName"],["value","agencyName"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Credit Rating Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"form",7),m.Xb(10,"div",1),m.Xb(11,"mat-card",8),m.Xb(12,"mat-card-title"),m.Xb(13,"div",9),m.Tc(14,"Credit Rating Details"),m.Sb(15,"mat-divider"),m.Wb(),m.Wb(),m.Xb(16,"mat-card-content"),m.Xb(17,"div"),m.Xb(18,"div",10),m.Xb(19,"label",11),m.Tc(20,"Customer Name* "),m.Wb(),m.Xb(21,"mat-card",12),m.Xb(22,"mat-select",13),m.Xb(23,"mat-option",14),m.Tc(24,"select---"),m.Wb(),m.Rc(25,Kr,2,1,"mat-option",15),m.Wb(),m.Wb(),m.Wb(),m.Sb(26,"br"),m.Sb(27,"br"),m.Wb(),m.Xb(28,"div",16),m.Xb(29,"mat-expansion-panel",17),m.Xb(30,"mat-expansion-panel-header",18),m.Xb(31,"mat-panel-title"),m.Tc(32,"Ratings "),m.Wb(),m.Wb(),m.Xb(33,"div"),m.Xb(34,"div",19),m.Xb(35,"div",20),m.Xb(36,"div",21),m.Xb(37,"label",11),m.Tc(38,"Select Agency* "),m.Wb(),m.Xb(39,"mat-card",12),m.Xb(40,"mat-select",22),m.Xb(41,"mat-option",14),m.Tc(42,"select---"),m.Wb(),m.Rc(43,ec,2,1,"mat-option",23),m.Wb(),m.Wb(),m.Rc(44,tc,3,0,"mat-error",24),m.Wb(),m.Xb(45,"div",21),m.Xb(46,"label",11),m.Tc(47,"Ratings* "),m.Wb(),m.Xb(48,"mat-card",12),m.Xb(49,"input",25),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Rc(50,nc,3,0,"mat-error",24),m.Wb(),m.Wb(),m.Xb(51,"div",26),m.Xb(52,"div",10),m.Xb(53,"mat-label",11),m.Tc(54,"Remarks"),m.Wb(),m.Xb(55,"mat-form-field",27),m.Sb(56,"textarea",28),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(57,"div",29),m.Xb(58,"button",30),m.Tc(59,"Back"),m.Wb(),m.Xb(60,"button",31),m.fc("click",function(){return t.submit()}),m.Tc(61,"Next"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(9),m.rc("formGroup",t.creditDetails),m.Eb(16),m.rc("ngForOf",t.customerArr),m.Eb(18),m.rc("ngForOf",t.agencyArr),m.Eb(1),m.rc("ngIf",t.creditDetails.get("agencyName").touched&&!t.creditDetails.get("agencyName").valid),m.Eb(6),m.rc("ngIf",t.creditDetails.get("ratings").touched&&!t.creditDetails.get("ratings").valid),m.Eb(10),m.rc("disabled",!t.creditDetails.valid))},directives:[p.e,p.b,$.C,$.s,$.j,f.a,f.h,S.a,f.d,J.a,Z.n,u.m,Za.c,Za.e,Za.f,p.f,$.r,$.i,u.n,Q.b,$.c,$.m,g.g,g.c,h.b,g.b],styles:[".head[_ngcontent-%COMP%]{background-color:#fff}.basic-container[_ngcontent-%COMP%]{padding:5px}.main-head[_ngcontent-%COMP%]{padding-left:6%;padding-top:16px;padding-bottom:0}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;margin-top:20px;font-size:15px;text-decoration:underline;color:#2680eb}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.line[_ngcontent-%COMP%]{width:70px;border-bottom:5px solid #456efe;left:30px}h2[_ngcontent-%COMP%]{font-size:18px}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:10px}.selectandCard[_ngcontent-%COMP%]{background-color:#fdfdff}input[_ngcontent-%COMP%]{border:0;outline:0;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}.gap[_ngcontent-%COMP%]{padding:.5rem}.bg[_ngcontent-%COMP%]{background-color:#f1f1f4}.gapbw[_ngcontent-%COMP%]{padding:1rem 0}.spacearround[_ngcontent-%COMP%]{padding:0 4.3rem}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%;text-align:center}.formImg[_ngcontent-%COMP%]{height:200px!important;width:200px!important;background-color:#f5f5f5;border-radius:10%}.changeDiv[_ngcontent-%COMP%]{position:relative;height:30px;line-height:30px}.mat-form-field[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 4px 4px #dcdcdc!important;padding-left:10px}  .mat-form-field-underline{display:none}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-focused[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:transparent}"]}),ac);function ic(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please Select Opinion!"),m.Wb(),m.Wb())}function rc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please enter Asset Area !"),m.Wb(),m.Wb())}function cc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please enter Market Value of Asset !"),m.Wb(),m.Wb())}function sc(e,t){if(1&e&&(m.Xb(0,"mat-option",37),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function lc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please Select Lawyer Name!"),m.Wb(),m.Wb())}function bc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please Select Opinion Date!"),m.Wb(),m.Wb())}function uc(e,t){if(1&e&&(m.Xb(0,"mat-option",37),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function mc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please Select Description!"),m.Wb(),m.Wb())}var dc,pc=((dc=function(){function e(t,n,o,i,r,c){a(this,e),this.formBuilder=t,this.apiService=n,this.snack=o,this.ls=i,this.loader=r,this.router=c,this.showEditOption=!1,this.lawyerArr=["John Asset","Peter","Henery Nicholus","Mountbaton"],this.descriptionArr=["Title Deeds clear","sanction","Asset-backed securitisations"],this.legalOpinion=this.formBuilder.group({assetAreaSize:["",[$.A.required]],description:[""],lawyerName:[""],mktValOfAsset:["",[$.A.required]],opinion:[""],opinionDate:[""],valuationDate:[""]})}return i(e,[{key:"ngOnInit",value:function(){var e=this;JSON.parse(this.ls.getItem("legalScreen"))?(this.showEditOption=!0,this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(function(){e.getLegalOpinionDetails()},10)):(console.log("else"),this.showEditOption=!1,this.buildOfferIssueForm())}},{key:"getLegalOpinionDetails",value:function(){var e=this;this.loader.open(),this.apiService.getLegalOpinion(112).subscribe(function(t){e.loader.close(),e.accountDetails=t,console.log(e.accountDetails),e.buildOfferIssueForm(e.accountDetails)},function(t){e.loader.close()})}},{key:"buildOfferIssueForm",value:function(e){this.legalOpinion=this.formBuilder.group({assetAreaSize:[e?e.assetAreaSize:""],description:[e?e.description:""],lawyerName:[e?e.lawyerName:""],mktValOfAsset:[e?e.mktValOfAsset:""],opinion:[e?e.opinion:""],opinionDate:[e?e.opinionDate:""],valuationDate:[e?e.valuationDate:""]})}},{key:"onclick",value:function(){var e=new Date;e=this.legalOpinion.value.opinionDate;var t=re(e).format("YYYY-MM-DD HH:MM:SS");console.log("dateStringWithTime",t)}},{key:"Submit",value:function(){var e=this,t=new Date;t=this.legalOpinion.value.opinionDate;var n=re(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",n);var a=this.legalOpinion.value.assetAreaSize;a=parseInt(a),console.log("pk",a),this.apiService.UpdateLegalOpinion({assetAreaInUnits:this.legalOpinion.value.assetAreaInUnits,assetAreaSize:a,description:this.legalOpinion.value.description,isDecisionFavorable:"yes",lawyerName:this.legalOpinion.value.lawyerName,loanAccountId:112,mktValOfAsset:this.legalOpinion.value.mktValOfAsset,opinion:this.legalOpinion.value.opinion,opinionDate:n,valuationDate:n}).subscribe(function(t){console.log(t),200===t||null!==t?(e.snack.open("  Legal Opinion  Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.Next()):500===t&&e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){console.log(e)})}},{key:"Next",value:function(){this.ls.setItem("legalScreen",!0),this.router.navigate(["/loan/account/list/offer-issue/offer-assessment"])}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/list/offer-issue/valuation-asset"])}},{key:"_keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"onInput",value:function(e,t){this.assetArea=t?e.target.value:e,console.log("this.salary)::",this.assetArea);var n=this.assetArea.toString().replace(/,/g,"").split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var a=n.join(".");console.log("final",a),this.legalOpinion.controls.mktValOfAsset.setValue(a)}},{key:"onInput1",value:function(e,t){this.assetArea=t?e.target.value:e,console.log("this.salary)::",this.assetArea);var n=this.assetArea.toString().replace(/,/g,"").split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var a=n.join(".");console.log("final",a),this.legalOpinion.controls.assetAreaSize.setValue(a)}}]),e}()).\u0275fac=function(e){return new(e||dc)(m.Rb($.f),m.Rb(x.b),m.Rb(A.a),m.Rb(W.a),m.Rb(Pe.a),m.Rb(d.h))},dc.\u0275cmp=m.Lb({type:dc,selectors:[["app-legal-opinion"]],decls:93,vars:12,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","column"],["fxLayout","column",3,"formGroup"],["fxLayout","column",2,"border-radius","30px","margin-right","1.5cm"],[1,"card-title-text"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["disableOptionCentering","","formControlName","opinion",1,"alignment"],["value","Bank Panel"],["value","Bank Manager"],["value","Bank Accountant"],[4,"ngIf"],["fxLayout","column","fxFlex","100"],["fxFlex","15%",1,"flex-grow-1"],["fxFlex","85%",1,"flex-grow-1"],["matInput","","formControlName","assetAreaSize","name","assetAreaSize","maxlength","16","type","text",1,"alignment",3,"keypress","keyup"],["matInput","","type","text","name","mktValOfAsset","formControlName","mktValOfAsset","maxlength","16",1,"alignment",3,"keypress","keyup"],["disableOptionCentering","","formControlName","lawyerName",1,"alignment"],[3,"value",4,"ngFor","ngForOf"],[1,"inputMatLastName",2,"height","48px"],["matInput","","id","dob","name","opinionDate","readonly","","formControlName","opinionDate","value","opinionDate","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","text","name","valuationDate","placeholder","DD/MM/YYYY","formControlName","valuationDate",1,"alignment"],["disableOptionCentering","","formControlName","description",1,"alignment"],[1,"pb-1",2,"padding-top","1.5cm"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Legal Opinion"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"form",7),m.Xb(10,"div",1),m.Xb(11,"mat-card",8),m.Xb(12,"mat-card-title"),m.Xb(13,"div",9),m.Tc(14,"Legal Opinion"),m.Sb(15,"mat-divider"),m.Wb(),m.Wb(),m.Xb(16,"div",10),m.Xb(17,"div",11),m.Xb(18,"label",12),m.Tc(19,"Opinion "),m.Wb(),m.Xb(20,"mat-card",13),m.Xb(21,"mat-select",14),m.Xb(22,"mat-option"),m.Tc(23,"select"),m.Wb(),m.Xb(24,"mat-option",15),m.Tc(25,"Bank Panel"),m.Wb(),m.Xb(26,"mat-option",16),m.Tc(27,"Bank Manager"),m.Wb(),m.Xb(28,"mat-option",17),m.Tc(29,"Bank Accountant"),m.Wb(),m.Wb(),m.Wb(),m.Rc(30,ic,3,0,"mat-error",18),m.Wb(),m.Xb(31,"div",19),m.Xb(32,"label",12),m.Tc(33,"Asset Area *"),m.Wb(),m.Xb(34,"div",0),m.Xb(35,"div",20),m.Xb(36,"mat-card",13),m.Xb(37,"mat-placeholder"),m.Tc(38,"Sq"),m.Wb(),m.Wb(),m.Wb(),m.Xb(39,"div",21),m.Xb(40,"mat-card",13),m.Xb(41,"input",22),m.fc("keypress",function(e){return t._keyPress1(e)})("keyup",function(e){return t.onInput1(e,!0)}),m.Wb(),m.Wb(),m.Rc(42,rc,3,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(43,"div",10),m.Xb(44,"div",11),m.Xb(45,"label",12),m.Tc(46,"Market Value of Asset *"),m.Wb(),m.Xb(47,"mat-card",13),m.Xb(48,"input",23),m.fc("keypress",function(e){return t._keyPress1(e)})("keyup",function(e){return t.onInput(e,!0)}),m.Wb(),m.Wb(),m.Rc(49,cc,3,0,"mat-error",18),m.Wb(),m.Xb(50,"div",11),m.Xb(51,"label",12),m.Tc(52,"Lawyer Name"),m.Wb(),m.Xb(53,"mat-card",13),m.Xb(54,"mat-select",24),m.Xb(55,"mat-option"),m.Tc(56,"select"),m.Wb(),m.Rc(57,sc,2,2,"mat-option",25),m.Wb(),m.Wb(),m.Rc(58,lc,3,0,"mat-error",18),m.Wb(),m.Wb(),m.Xb(59,"div",10),m.Xb(60,"div",11),m.Xb(61,"label",12),m.Tc(62,"Opinion Date"),m.Wb(),m.Xb(63,"mat-card",26),m.Sb(64,"input",27),m.Xb(65,"div",28),m.Sb(66,"mat-datepicker-toggle",29),m.Sb(67,"mat-datepicker",null,30),m.Wb(),m.Wb(),m.Rc(69,bc,3,0,"mat-error",18),m.Wb(),m.Xb(70,"div",11),m.Xb(71,"label",12),m.Tc(72,"Valuation Date"),m.Wb(),m.Xb(73,"mat-card",13),m.Sb(74,"input",31),m.Wb(),m.Wb(),m.Wb(),m.Xb(75,"div",10),m.Xb(76,"div",11),m.Xb(77,"label",12),m.Tc(78,"Description"),m.Wb(),m.Xb(79,"mat-card",13),m.Xb(80,"mat-select",32),m.Xb(81,"mat-option"),m.Tc(82,"select"),m.Wb(),m.Rc(83,uc,2,2,"mat-option",25),m.Wb(),m.Wb(),m.Rc(84,mc,3,0,"mat-error",18),m.Wb(),m.Xb(85,"div",33),m.Tc(86," Descision Favourable ? "),m.Sb(87,"mat-slide-toggle"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(88,"div",34),m.Xb(89,"button",35),m.fc("click",function(){return t.goBack()}),m.Tc(90,"Back"),m.Wb(),m.Xb(91,"button",36),m.fc("click",function(){return t.Submit()}),m.Tc(92,"Next"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(68);m.Eb(9),m.rc("formGroup",t.legalOpinion),m.Eb(21),m.rc("ngIf",t.legalOpinion.get("opinion").touched&&!t.legalOpinion.get("opinion").valid),m.Eb(12),m.rc("ngIf",t.legalOpinion.get("assetAreaSize").touched&&!t.legalOpinion.get("assetAreaSize").valid),m.Eb(7),m.rc("ngIf",t.legalOpinion.get("mktValOfAsset").touched&&!t.legalOpinion.get("mktValOfAsset").valid),m.Eb(8),m.rc("ngForOf",t.lawyerArr),m.Eb(1),m.rc("ngIf",t.legalOpinion.get("lawyerName").touched&&!t.legalOpinion.get("lawyerName").valid),m.Eb(6),m.rc("matDatepicker",n),m.Eb(2),m.rc("for",n),m.Eb(3),m.rc("ngIf",t.legalOpinion.get("opinionDate").touched&&!t.legalOpinion.get("opinionDate").valid),m.Eb(14),m.rc("ngForOf",t.descriptionArr),m.Eb(1),m.rc("ngIf",t.legalOpinion.get("description").touched&&!t.legalOpinion.get("description").valid),m.Eb(7),m.rc("disabled",!t.legalOpinion.valid)}},directives:[p.e,p.b,$.C,$.s,$.j,f.a,f.h,S.a,p.f,J.a,$.r,$.i,Z.n,u.n,g.h,Q.b,$.c,$.m,u.m,ce.e,ce.g,g.j,ce.d,de.a,h.b,g.b],styles:[".inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:10px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;padding-left:20px}.line[_ngcontent-%COMP%]{flex:1;margin-left:90px}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.inputMatLastName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}"]}),dc);function fc(e,t){if(1&e&&(m.Xb(0,"mat-option",26),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function gc(e,t){if(1&e&&(m.Xb(0,"mat-option",26),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}var hc,vc=((hc=function(){function e(t,n,o,i,r){a(this,e),this.formBuilder=t,this.ls=n,this.apiService=o,this.snack=i,this.router=r,this.disableDone=!0,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1,this.arraySystemRecommendation=["Approved","Rejected"],this.offerAssessmentFormGroup=this.formBuilder.group({loanAccountId:["520",[$.A.required]],rateOfInterest:["",[$.A.required]],requestedLoanAmount:["",[$.A.required]],loanTenure:["",[$.A.required]],approvedLoanAmount:["",[$.A.required]],userRecommendation:["",[$.A.required]],systemRecommendation:["",[$.A.required]],loanAmountRecommendation:["",[$.A.required]]})}return i(e,[{key:"ngOnInit",value:function(){}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/offerstage/list"])}},{key:"goNext",value:function(){var e=this;this.apiService.updateAssessment(this.offerAssessmentFormGroup.value).subscribe(function(t){console.log("data",t),null!=t&&e.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.ls.setItem("assessmentScreen",!0),this.router.navigate(["/loan/account/list/offer-issue/offerissue"])}}]),e}()).\u0275fac=function(e){return new(e||hc)(m.Rb($.f),m.Rb(W.a),m.Rb(x.b),m.Rb(A.a),m.Rb(d.h))},hc.\u0275cmp=m.Lb({type:hc,selectors:[["app-offer-assessment"]],decls:62,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_report_mx0a.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","column"],["fxLayout","column",3,"formGroup"],["fxLayout","column",2,"border-radius","30px","margin-right","1.5cm"],[1,""],[1,"card-title-text"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["matInput","","formControlName","requestedLoanAmount","type","text","placeholder","Request Loan Amount",1,"alignment"],["matInput","","formControlName","loanTenure","type","text","placeholder","Loan Tenure",1,"alignment"],["matInput","","formControlName","rateOfInterest","type","text","placeholder","Rate Of Interest",1,"alignment"],["placeholder","Recommended for Approval","formControlName","systemRecommendation","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","User Recommendation","formControlName","userRecommendation","disableOptionCentering",""],["matInput","","formControlName","loanAmountRecommendation","type","text","placeholder","loanAmountRecommendation",1,"alignment"],["matInput","","formControlName","approvedLoanAmount","type","text","placeholder","Approved Loan Amount",1,"alignment"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Assessment Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"form",7),m.Xb(10,"div",1),m.Xb(11,"mat-card",8),m.Xb(12,"mat-card-title",9),m.Xb(13,"div",10),m.Tc(14,"Assessment Details"),m.Sb(15,"mat-divider"),m.Wb(),m.Wb(),m.Xb(16,"div",11),m.Xb(17,"div",12),m.Xb(18,"label",13),m.Tc(19,"Request Loan Amount"),m.Wb(),m.Xb(20,"mat-card",14),m.Sb(21,"input",15),m.Wb(),m.Wb(),m.Xb(22,"div",12),m.Xb(23,"label",13),m.Tc(24,"Loan Tenure"),m.Wb(),m.Xb(25,"mat-card",14),m.Sb(26,"input",16),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div",11),m.Xb(28,"div",12),m.Xb(29,"label",13),m.Tc(30,"Rate Of Interest"),m.Wb(),m.Xb(31,"mat-card",14),m.Sb(32,"input",17),m.Wb(),m.Wb(),m.Xb(33,"div",12),m.Xb(34,"label",13),m.Tc(35,"System Recommendation"),m.Wb(),m.Xb(36,"mat-card",14),m.Xb(37,"mat-select",18),m.Rc(38,fc,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(39,"div",11),m.Xb(40,"div",12),m.Xb(41,"label",13),m.Tc(42,"User Recommendation"),m.Wb(),m.Xb(43,"mat-card",14),m.Xb(44,"mat-select",20),m.Rc(45,gc,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(46,"div",12),m.Xb(47,"label",13),m.Tc(48,"Loan Amount Recommended"),m.Wb(),m.Xb(49,"mat-card",14),m.Sb(50,"input",21),m.Wb(),m.Wb(),m.Wb(),m.Xb(51,"div",11),m.Xb(52,"div",12),m.Xb(53,"label",13),m.Tc(54,"Approved Loan Amount"),m.Wb(),m.Xb(55,"mat-card",14),m.Sb(56,"input",22),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(57,"div",23),m.Xb(58,"button",24),m.fc("click",function(){return t.goBack()}),m.Tc(59,"Back"),m.Wb(),m.Xb(60,"button",25),m.fc("click",function(){return t.goNext()}),m.Tc(61,"Next"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(9),m.rc("formGroup",t.offerAssessmentFormGroup),m.Eb(29),m.rc("ngForOf",t.arraySystemRecommendation),m.Eb(7),m.rc("ngForOf",t.arraySystemRecommendation),m.Eb(15),m.rc("disabled",!t.offerAssessmentFormGroup.valid))},directives:[p.e,p.b,$.C,$.s,$.j,f.a,f.h,S.a,p.f,Q.b,$.c,$.r,$.i,J.a,u.m,h.b,Z.n],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}"]}),hc),yc=r("pu8Q"),Wc=["report"];function Xc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0 Applicant Name is Required! "),m.Wb())}function xc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0 Approved Loan Amount is Required! "),m.Wb())}function Cc(e,t){if(1&e&&(m.Xb(0,"mat-option",51),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Ic(e,t){if(1&e&&(m.Xb(0,"mat-option",51),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Ac(e,t){if(1&e&&(m.Xb(0,"mat-option",51),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Oc(e,t){if(1&e&&(m.Xb(0,"mat-option",51),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Tc(e,t){if(1&e&&(m.Xb(0,"a",52),m.Xb(1,"span",53),m.Tc(2,"file_download"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.sc("href",n.docUrl,m.Jc)}}function Dc(e,t){1&e&&(m.Xb(0,"a",54),m.Xb(1,"span",53),m.Tc(2,"file_download"),m.Wb(),m.Wb())}function kc(e,t){1&e&&m.Sb(0,"mat-spinner",55),2&e&&m.rc("diameter",30)}var Sc,_c=((Sc=function(){function e(t,n,o,i,r,c,s,l,b){a(this,e),this.router=t,this.ls=n,this.apiService=o,this.snack=i,this.loader=r,this._document=c,this.appApiService=s,this.formBuilder=l,this.accountService=b,this.generateArr=["With Schedule","without Schedule"],this.showEditOption=!1,this.otherDocumentArray=[],this.files=[],this.fileName=[],this.showDelete=!0,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.documentUploaded=!1,this.OfferIssueForm=this.formBuilder.group({approvedLoanAmount:["",[$.A.required]],applicantName:["",[$.A.required]],installmentFrequency:["",[$.A.required]],rateOfInterest:["",[$.A.required]],offerIssueDate:["",[$.A.required]],year:["",[$.A.required]],month:["",[$.A.required]],day:["",[$.A.required]],installmentType:["",[$.A.required]],generateOffer:["",[$.A.required]],interest:["",[$.A.required]],principal:["",[$.A.required]],installmentAmount:["",[$.A.required]],charges:["",[$.A.required]],loanTenure:[""]})}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var n=0;n<=11;n++)this.months.push(n+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);var o=JSON.parse(this.ls.getItem("OfferIssue"));setTimeout(function(){null!=e.loanaccountID&&o?(e.showEditOption=!0,e.getAccountDetails()):(console.log("else"),e.showEditOption=!1,e.buildOfferIssueForm())},10),this.fetchByCif(),this.loanData(),this.intrestData()}},{key:"onFileSelected",value:function(e){console.log("event -- ",e.target.files);var n,a=function(e,n){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=t(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){s=!0,r=e},f:function(){try{c||null==a.return||a.return()}finally{if(s)throw r}}}}(e.target.files);try{for(a.s();!(n=a.n()).done;){var o=n.value;this.files.push({name:o.name,type:o.type}),this.snack.open("File Uploded","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}}catch(i){a.e(i)}finally{a.f()}this.selectedFiles=e.target.files[0],console.log("selectedFiles: any",this.selectedFiles),e.target.files&&this.uploadDoc(e.target.files[0],this.selectedFiles,e)}},{key:"uploadDoc",value:function(e,t,n){console.log("event---\x3e> ",t);var a=new FormData;a.append("file",t),console.log(a)}},{key:"getAccountDetails",value:function(){var e=this;this.loader.open(),this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(function(t){e.loader.close(),e.accountDetails=t,console.log(e.accountDetails),e.buildOfferIssueForm(e.accountDetails)},function(t){e.loader.close()})}},{key:"f",get:function(){return this.OfferIssueForm.controls}},{key:"c",get:function(){return this.f.collaterals}},{key:"deleteDoc",value:function(){this.documentUploaded=!1,this.docUrl=" ",this.fileName=" ",this.showDelete=!1}},{key:"uploadCollateralType",value:function(e){var t=this;console.log("event",e),this.showSpinn=!0;var n=e.target.files[0];this.fileName=n.name,console.log("File name=",this.fileName);var a={loanAccountId:this.loanaccountID,screenType:"offerIssue"},o=new FormData;o.append("data",JSON.stringify(a)),o.append("file",n),console.log("file",n),console.log("data",a),this.apiService.uploadOfferDocument(o).subscribe(function(e){console.log("Document Resp",e,e.fileUrl),t.docUrl=e.fileUrl,e&&e.fileUrl&&(t.showSpinn=!1,t.snack.open("Document Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.documentUploaded=!0)})}},{key:"buildOfferIssueForm",value:function(e){e.offerIssueDate=e?re(e.offerIssueDate).format():"",this.OfferIssueForm=this.formBuilder.group({approvedLoanAmount:[e?e.approvedLoanAmount:""],loanTenure:[e?e.loanTenure:""],applicantName:[e?e.applicantName:""],installmentFrequency:[e?e.installmentFrequency:""],rateOfInterest:[e?e.rateOfInterest:""],offerIssueDate:[e?e.offerIssueDate:""],generateOffer:[e?e.generateOffer:""],installmentAmount:[e?e.installmentAmount:""],principal:[e?e.principal:""],interest:[e?e.interest:""],charges:[e?e.charges:""],year:[e?e.loanTenure.split("-")[0]:""],month:[e?e.loanTenure.split("-")[1]:""],day:[e?e.loanTenure.split("-")[2]:""],installmentType:[e?e.installmentType:""]})}},{key:"goBack",value:function(){this.router.navigate(["loan/account/offer-issue/list"])}},{key:"Submit",value:function(){var e=this,t=new Date;t=this.OfferIssueForm.value.opinionDate;var n=re(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",n);var a=this.OfferIssueForm.value.approvedLoanAmount;a=parseInt(a);var o=this.OfferIssueForm.value.rateOfInterest;o=parseInt(o);var i=this.OfferIssueForm.value.year+"-"+this.OfferIssueForm.value.month+"-"+this.OfferIssueForm.value.day;this.OfferIssueForm.get("loanTenure").setValue(i),delete this.OfferIssueForm.value.year,delete this.OfferIssueForm.value.month,delete this.OfferIssueForm.value.day,this.OfferIssueForm.value.principal=parseInt(this.OfferIssueForm.value.principal),this.OfferIssueForm.value.interest=parseInt(this.OfferIssueForm.value.interest),this.OfferIssueForm.value.installmentAmount=parseInt(this.OfferIssueForm.value.installmentAmount),this.OfferIssueForm.value.charges=parseInt(this.OfferIssueForm.value.charges);var r={loanAccountId:this.loanaccountID,approvedLoanAmount:a,loanTenure:i,applicantName:this.OfferIssueForm.value.applicantName,installmentFrequency:this.OfferIssueForm.value.installmentFrequency,rateOfInterest:o,offerIssueDate:n,generateOffer:this.OfferIssueForm.value.generateOffer,principal:this.OfferIssueForm.value.principal,interest:this.OfferIssueForm.value.interest,installmentAmount:this.OfferIssueForm.value.installmentAmount,charges:this.OfferIssueForm.value.charges,installmentType:this.OfferIssueForm.value.installmentType};console.log("payload",r),this.apiService.upsertOfferIssue(r).subscribe(function(t){console.log("data",t),null!=t&&e.snack.open("Offer Issue Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.Next()}},{key:"Next",value:function(){this.ls.setItem("OfferIssue",!0),this.ls.setItem("OfferIssueStageDone",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/offerstage/list"])}},{key:"_keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"onInput",value:function(e,t){this.approvedLoan=t?e.target.value:e,console.log("this.salary)::",this.approvedLoan);var n=this.approvedLoan.toString().replace(/,/g,"").split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var a=n.join(".");console.log("final",a),this.OfferIssueForm.controls.approvedLoanAmount.setValue(a)}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"fetchByCif",value:function(){var e=this;this.cifNumber=this.ls.getItem("cId"),this.appApiService.fetchByCif(this.cifNumber).subscribe(function(t){e.OfferIssueForm.get("applicantName").setValue(t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName)},function(e){console.error(e)})}},{key:"loanData",value:function(){var e=this;console.log(this.loanaccountID),this.apiService.fetchByLoanAccountId(this.loanaccountID).subscribe(function(t){e.OfferIssueForm.get("approvedLoanAmount").setValue(t.approvedLoanAmount);var n=t.loanTenure.split("-")[0],a=t.loanTenure.split("-")[1],o=t.loanTenure.split("-")[2];e.OfferIssueForm.get("year").setValue(n),e.OfferIssueForm.get("month").setValue(a),e.OfferIssueForm.get("day").setValue(o)},function(e){console.error(e)})}},{key:"intrestData",value:function(){var e=this;console.log(this.loanaccountID),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(function(t){e.OfferIssueForm.get("rateOfInterest").setValue(t.rateOfInterest)})}}]),e}()).\u0275fac=function(e){return new(e||Sc)(m.Rb(d.h),m.Rb(W.a),m.Rb(x.b),m.Rb(A.a),m.Rb(Pe.a),m.Rb(u.e),m.Rb(ln.a),m.Rb($.f),m.Rb(ue.a))},Sc.\u0275cmp=m.Lb({type:Sc,selectors:[["app-offerissue"]],viewQuery:function(e,t){var n;1&e&&m.ad(Wc,!0),2&e&&m.Cc(n=m.gc())&&(t.report=n.first)},decls:127,vars:14,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_17.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","column",3,"formGroup"],[1,"alignChange"],["visible","true"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],[1,"hint"],["matInput","","type","text","name","applicantName","placeholder","Applicant Name","formControlName","applicantName","readonly","",1,"alignment"],[4,"ngIf"],["matInput","","type","text","name","approvedLoanAmount","placeholder","Approved Loan Account","maxlength","16","formControlName","approvedLoanAmount",1,"alignment",3,"keypress","keyup"],["fxLayout","row wrap",1,"hight"],[1,"size1"],["appearance","outline","fxFlex","23",1,"full-width","tenure1"],["name","year","placeholder","Year","formControlName","year","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxFlex","22.5",1,"full-width","tenure1"],["name","month","placeholder","Month","formControlName","month","disableOptionCentering",""],["appearance","outline","fxFlex","22",1,"full-width","tenure1"],["name","day","placeholder","Day","formControlName","day","disableOptionCentering",""],["name","installmentType","placeholder","Select","formControlName","installmentType","disableOptionCentering","",1,"alignment"],["value","EMI"],["matInput","","autocomplete","off","type","text","placeholder","Installment Frequency","name","installmentFrequency","maxlength","2","formControlName","installmentFrequency",1,"alignment",3,"keypress"],["matInput","","autocomplete","off","type","text","placeholder","Rate Of Interest","name","rateOfInterest","formControlName","rateOfInterest","minlength","1","maxlength","2",1,"alignment",3,"keypress"],["matInput","","autocomplete","off","type","text","name","principal","placeholder","Principal","maxlength","12","formControlName","principal",1,"alignment",3,"keypress"],["matInput","","type","text","autocomplete","off","placeholder","Interest","name","interest","maxlength","2","formControlName","interest",1,"alignment",3,"keypress"],["matInput","","type","text","autocomplete","off","placeholder","Installment Amount","name","installmentAmount","maxlength","12","formControlName","installmentAmount",1,"alignment",3,"keypress"],["matInput","","type","text","autocomplete","off","placeholder","Charges","name","charges","maxlength","8","formControlName","charges",1,"alignment",3,"keypress"],["matInput","","id","dob","name","offerIssueDate","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","offerIssueDate",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["disableOptionCentering","","formControlName","generateOffer","placeholder","Generate Offer",1,"alignment"],["fxFlex","30%",1,"flex-grow-1","documentCard"],["type","file","name","documentUrl","accept","application/pdf,application/msword",2,"display","none",3,"change"],["documentUrl",""],["fxLayout","row wrap",1,"flex-grow-1"],[1,"docData",3,"routerLink","click"],[1,"documentHint"],["fxFlex","40%",1,"flex-grow-1"],["class","documentlink","download","",3,"href",4,"ngIf"],["class","documentlink","download","",4,"ngIf"],["color","warn",1,"docIcon",3,"click"],["class","spinner",3,"diameter",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"value"],["download","",1,"documentlink",3,"href"],[1,"material-icons"],["download","",1,"documentlink"],[1,"spinner",3,"diameter"]],template:function(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Offer Issue Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",0),m.Xb(9,"form",6),m.Xb(10,"div",1),m.Xb(11,"mat-card",0),m.Xb(12,"mat-card-title"),m.Xb(13,"fieldset",7),m.Xb(14,"legend",8),m.Tc(15,"Offer Issue Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"div",9),m.Xb(17,"div",10),m.Xb(18,"mat-form-field",11),m.Xb(19,"mat-label",12),m.Tc(20,"Applicant Name*"),m.Wb(),m.Sb(21,"input",13),m.Rc(22,Xc,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Xb(23,"div",10),m.Xb(24,"mat-form-field",11),m.Xb(25,"mat-label",12),m.Tc(26,"Approved Loan Amount*"),m.Wb(),m.Xb(27,"input",15),m.fc("keypress",function(e){return t._keyPress1(e)})("keyup",function(e){return t.onInput(e,!0)}),m.Wb(),m.Rc(28,xc,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Wb(),m.Xb(29,"div",9),m.Xb(30,"div",10),m.Xb(31,"div",16),m.Xb(32,"label",17),m.Tc(33,"Loan Tenure*"),m.Wb(),m.Xb(34,"mat-form-field",18),m.Xb(35,"mat-label"),m.Tc(36,"Year*"),m.Wb(),m.Xb(37,"mat-select",19),m.Rc(38,Cc,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Xb(39,"mat-form-field",21),m.Xb(40,"mat-label"),m.Tc(41,"Month*"),m.Wb(),m.Xb(42,"mat-select",22),m.Rc(43,Ic,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Xb(44,"mat-form-field",23),m.Xb(45,"mat-label"),m.Tc(46,"Day*"),m.Wb(),m.Xb(47,"mat-select",24),m.Rc(48,Ac,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(49,"div",10),m.Xb(50,"mat-form-field",11),m.Xb(51,"mat-label",12),m.Tc(52,"Installment Type*"),m.Wb(),m.Xb(53,"mat-select",25),m.Xb(54,"mat-option",26),m.Tc(55,"EMI"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(56,"div",9),m.Xb(57,"div",10),m.Xb(58,"mat-form-field",11),m.Xb(59,"mat-label",12),m.Tc(60,"Installment Frequency*"),m.Wb(),m.Xb(61,"input",27),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(62,"div",10),m.Xb(63,"mat-form-field",11),m.Xb(64,"mat-label",12),m.Tc(65,"Rate of Interest in(%)*"),m.Wb(),m.Xb(66,"input",28),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(67,"div",9),m.Xb(68,"div",10),m.Xb(69,"mat-form-field",11),m.Xb(70,"mat-label",12),m.Tc(71,"Principal*"),m.Wb(),m.Xb(72,"input",29),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(73,"div",10),m.Xb(74,"mat-form-field",11),m.Xb(75,"mat-label",12),m.Tc(76,"Interest*"),m.Wb(),m.Xb(77,"input",30),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(78,"div",9),m.Xb(79,"div",10),m.Xb(80,"mat-form-field",11),m.Xb(81,"mat-label",12),m.Tc(82,"Installment Amount*"),m.Wb(),m.Xb(83,"input",31),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(84,"div",10),m.Xb(85,"mat-form-field",11),m.Xb(86,"mat-label",12),m.Tc(87,"Charges*"),m.Wb(),m.Xb(88,"input",32),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(89,"div",9),m.Xb(90,"div",10),m.Xb(91,"mat-form-field",11),m.Xb(92,"mat-label",12),m.Tc(93,"Offer Issue Date*"),m.Wb(),m.Sb(94,"input",33),m.Sb(95,"mat-datepicker-toggle",34),m.Sb(96,"mat-datepicker",null,35),m.Wb(),m.Wb(),m.Xb(98,"div",10),m.Xb(99,"mat-form-field",11),m.Xb(100,"mat-label",12),m.Tc(101,"Generate Offer*"),m.Wb(),m.Xb(102,"mat-select",36),m.Rc(103,Oc,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(104,"div",9),m.Xb(105,"div",37),m.Xb(106,"input",38,39),m.fc("change",function(e){return t.uploadCollateralType(e)}),m.Wb(),m.Xb(108,"div",40),m.Xb(109,"a",41),m.fc("click",function(){return m.Hc(n),m.Dc(107).click()}),m.Tc(110,"Add Document"),m.Wb(),m.Tc(111," \xa0 "),m.Xb(112,"mat-hint",42),m.Tc(113),m.Wb(),m.Wb(),m.Wb(),m.Xb(114,"div",43),m.Rc(115,Tc,3,1,"a",44),m.Tc(116," \xa0 "),m.Rc(117,Dc,3,0,"a",45),m.Tc(118," \xa0 "),m.Xb(119,"mat-icon",46),m.fc("click",function(){return t.deleteDoc()}),m.Tc(120,"delete"),m.Wb(),m.Rc(121,kc,1,1,"mat-spinner",47),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(122,"div",48),m.Xb(123,"button",49),m.fc("click",function(){return t.goBack()}),m.Tc(124," Back "),m.Wb(),m.Xb(125,"button",50),m.fc("click",function(){return t.Submit()}),m.Tc(126," Next "),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(97);m.Eb(9),m.rc("formGroup",t.OfferIssueForm),m.Eb(13),m.rc("ngIf",!t.OfferIssueForm.get("applicantName").valid&&t.OfferIssueForm.get("applicantName").touched),m.Eb(6),m.rc("ngIf",!t.OfferIssueForm.get("approvedLoanAmount").valid&&t.OfferIssueForm.get("approvedLoanAmount").touched),m.Eb(10),m.rc("ngForOf",t.years),m.Eb(5),m.rc("ngForOf",t.months),m.Eb(5),m.rc("ngForOf",t.days),m.Eb(46),m.rc("matDatepicker",a),m.Eb(1),m.rc("for",a),m.Eb(8),m.rc("ngForOf",t.generateArr),m.Eb(10),m.Uc(t.fileName),m.Eb(2),m.rc("ngIf",t.documentUploaded),m.Eb(2),m.rc("ngIf",!t.documentUploaded),m.Eb(4),m.rc("ngIf",t.showSpinn),m.Eb(4),m.rc("disabled",!t.OfferIssueForm.valid)}},directives:[p.e,p.b,$.C,$.s,$.j,f.a,f.h,p.f,g.c,g.g,Q.b,$.c,$.r,$.i,u.n,$.m,J.a,u.m,Z.n,$.n,ce.e,ce.g,g.j,ce.d,d.k,g.f,O.a,p.d,h.b,g.b,yc.b],styles:[".inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{color:grey;margin-left:.1rem;font-size:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;padding-left:20px}.line[_ngcontent-%COMP%]{flex:1;margin-left:90px}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.inputMatLastName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.sqInput1[_ngcontent-%COMP%]{width:30%;margin-left:.5%;height:47px}.issueCard[_ngcontent-%COMP%]{border-radius:30px;margin-right:1.5cm}.docData[_ngcontent-%COMP%]{text-decoration:underline;color:#456efe;margin-left:.3rem}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.size1[_ngcontent-%COMP%]{margin-top:15px}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:20px;margin-right:20px;margin-top:20px!important}.hight[_ngcontent-%COMP%]{height:10px}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}"]}),Sc),Rc=r("Nk78");function Ec(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Loan Requested for is Required! "),m.Wb())}function Mc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Mode of Study is Required! "),m.Wb())}function Pc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Institution is Required! "),m.Wb())}function Nc(e,t){if(1&e&&(m.Xb(0,"mat-option",53),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function wc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country is Required! "),m.Wb())}function Fc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Specialization is Required! "),m.Wb())}function Lc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Employment Potential is Required! "),m.Wb())}function Vc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Cost Of Course is Required! "),m.Wb())}function qc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Admission Status is Required! "),m.Wb())}function jc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Proposed Course of Study is Required! "),m.Wb())}function Bc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," University / School is Required! "),m.Wb())}function zc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Institution Ranking is Required! "),m.Wb())}function Uc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Course Commencement Date is Required! "),m.Wb())}function Hc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Project Earning is Required! "),m.Wb())}function Gc(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," School (In GBP) is Required! "),m.Wb())}function Yc(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",10),m.Xb(1,"div",11),m.Xb(2,"div",12),m.Xb(3,"div",13),m.Xb(4,"mat-form-field",14),m.Xb(5,"mat-label"),m.Tc(6,"Loan Requested for"),m.Wb(),m.Xb(7,"mat-select",15),m.Xb(8,"mat-option",16),m.Tc(9," Select "),m.Wb(),m.Xb(10,"mat-option",17),m.Tc(11,"Overseas"),m.Wb(),m.Xb(12,"mat-option",18),m.Tc(13,"Home"),m.Wb(),m.Xb(14,"mat-option",19),m.Tc(15,"Education"),m.Wb(),m.Xb(16,"mat-option",20),m.Tc(17,"Business"),m.Wb(),m.Wb(),m.Rc(18,Ec,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(19,"div",13),m.Xb(20,"mat-form-field",14),m.Xb(21,"mat-label"),m.Tc(22,"Mode of Study"),m.Wb(),m.Xb(23,"mat-select",22),m.Xb(24,"mat-option",16),m.Tc(25," Select "),m.Wb(),m.Xb(26,"mat-option",17),m.Tc(27,"Full Time"),m.Wb(),m.Xb(28,"mat-option",17),m.Tc(29,"Part Time"),m.Wb(),m.Wb(),m.Rc(30,Mc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(31,"div",13),m.Xb(32,"mat-form-field",14),m.Xb(33,"mat-label"),m.Tc(34,"Institution"),m.Wb(),m.Sb(35,"input",23),m.Rc(36,Pc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(37,"div",13),m.Xb(38,"mat-form-field",14),m.Xb(39,"mat-label"),m.Tc(40,"Country"),m.Wb(),m.Xb(41,"mat-select",24),m.Xb(42,"mat-option",16),m.Tc(43,"Select"),m.Wb(),m.Rc(44,Nc,2,2,"mat-option",25),m.Wb(),m.Rc(45,wc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(46,"div",13),m.Xb(47,"mat-form-field",14),m.Xb(48,"mat-label"),m.Tc(49,"Course Duration"),m.Wb(),m.Xb(50,"mat-date-range-input",26),m.Sb(51,"input",27,28),m.Xb(53,"input",29,30),m.fc("dateChange",function(){m.Hc(n);var e=m.Dc(52),t=m.Dc(54);return m.jc().dateRangeChange(e,t)}),m.Wb(),m.Wb(),m.Sb(55,"mat-datepicker-toggle",31),m.Xb(56,"mat-date-range-picker",null,32),m.Xb(58,"mat-date-range-picker-actions"),m.Xb(59,"button",33),m.Tc(60,"Cancel"),m.Wb(),m.Xb(61,"button",34),m.Tc(62,"Apply"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(63,"div",13),m.Xb(64,"mat-form-field",14),m.Xb(65,"mat-label"),m.Tc(66,"Specialization"),m.Wb(),m.Sb(67,"input",35),m.Rc(68,Fc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(69,"div",13),m.Xb(70,"mat-form-field",14),m.Xb(71,"mat-label"),m.Tc(72,"Employment Potential"),m.Wb(),m.Xb(73,"input",36),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(74,Lc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(75,"div",13),m.Xb(76,"mat-form-field",14),m.Xb(77,"mat-label"),m.Tc(78,"Cost of Course (In GBP)s"),m.Wb(),m.Xb(79,"input",37),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(80,Vc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Wb(),m.Xb(81,"div",12),m.Xb(82,"div",13),m.Xb(83,"mat-form-field",14),m.Xb(84,"mat-label"),m.Tc(85,"Admission Status"),m.Wb(),m.Xb(86,"mat-select",38),m.Xb(87,"mat-option",16),m.Tc(88," Select "),m.Wb(),m.Xb(89,"mat-option",17),m.Tc(90,"Under Process"),m.Wb(),m.Xb(91,"mat-option",17),m.Tc(92,"Confirmed"),m.Wb(),m.Wb(),m.Rc(93,qc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(94,"div",13),m.Xb(95,"mat-form-field",14),m.Xb(96,"mat-label"),m.Tc(97,"Proposed Course of Study"),m.Wb(),m.Sb(98,"input",39),m.Rc(99,jc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(100,"div",13),m.Xb(101,"mat-form-field",14),m.Xb(102,"mat-label"),m.Tc(103,"University / School"),m.Wb(),m.Sb(104,"input",40),m.Rc(105,Bc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(106,"div",13),m.Xb(107,"mat-form-field",14),m.Xb(108,"mat-label"),m.Tc(109,"Institution Ranking"),m.Wb(),m.Xb(110,"input",41),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(111,zc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(112,"div",13),m.Xb(113,"mat-form-field",14),m.Xb(114,"mat-label"),m.Tc(115,"Course Commencement Date"),m.Wb(),m.Sb(116,"input",42),m.Sb(117,"mat-datepicker-toggle",31),m.Sb(118,"mat-datepicker",null,43),m.Rc(120,Uc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(121,"div",13),m.Xb(122,"mat-form-field",14),m.Xb(123,"mat-label"),m.Tc(124,"Projected Earning"),m.Wb(),m.Xb(125,"input",44),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(126,Hc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Xb(127,"div",45),m.Xb(128,"div",46),m.Xb(129,"div",47),m.Xb(130,"div",13),m.Tc(131," Scholarship/ Business Eligible \xa0\xa0\xa0 "),m.Sb(132,"mat-slide-toggle",48),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(133,"div",13),m.Xb(134,"mat-form-field",14),m.Xb(135,"mat-label"),m.Tc(136,"Source (In GBP)"),m.Wb(),m.Xb(137,"input",49),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(138,Gc,2,0,"mat-error",21),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(139,"div",50),m.Xb(140,"button",51),m.fc("click",function(){return m.Hc(n),m.jc().goBack()}),m.Tc(141," Back "),m.Wb(),m.Xb(142,"button",52),m.fc("click",function(){return m.Hc(n),m.jc().submitForm()}),m.Tc(143," Next "),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(57),o=m.Dc(119),i=m.jc();m.rc("formGroup",i.admissionDetailsForm),m.Eb(18),m.rc("ngIf",!i.admissionDetailsForm.get("loanRequestedFor").valid&&i.admissionDetailsForm.get("loanRequestedFor").touched),m.Eb(12),m.rc("ngIf",!i.admissionDetailsForm.get("modeOfStudy").valid&&i.admissionDetailsForm.get("modeOfStudy").touched),m.Eb(6),m.rc("ngIf",!i.admissionDetailsForm.get("institution").valid&&i.admissionDetailsForm.get("institution").touched),m.Eb(8),m.rc("ngForOf",i.arrayCountry),m.Eb(1),m.rc("ngIf",!i.admissionDetailsForm.get("country").valid&&i.admissionDetailsForm.get("country").touched),m.Eb(5),m.rc("rangePicker",a),m.Eb(5),m.rc("for",a),m.Eb(13),m.rc("ngIf",!i.admissionDetailsForm.get("specialization").valid&&i.admissionDetailsForm.get("specialization").touched),m.Eb(6),m.rc("ngIf",!i.admissionDetailsForm.get("employmentPotential").valid&&i.admissionDetailsForm.get("employmentPotential").touched),m.Eb(6),m.rc("ngIf",!i.admissionDetailsForm.get("costOfCourse").valid&&i.admissionDetailsForm.get("costOfCourse").touched),m.Eb(13),m.rc("ngIf",!i.admissionDetailsForm.get("admissionStatus").valid&&i.admissionDetailsForm.get("admissionStatus").touched),m.Eb(6),m.rc("ngIf",!i.admissionDetailsForm.get("proposedCourseOfStudy").valid&&i.admissionDetailsForm.get("proposedCourseOfStudy").touched),m.Eb(6),m.rc("ngIf",!i.admissionDetailsForm.get("university").valid&&i.admissionDetailsForm.get("university").touched),m.Eb(6),m.rc("ngIf",!i.admissionDetailsForm.get("institutionRanking").valid&&i.admissionDetailsForm.get("institutionRanking").touched),m.Eb(5),m.rc("matDatepicker",o)("min",i.minDate)("max",i.maxDate),m.Eb(1),m.rc("for",o),m.Eb(3),m.rc("ngIf",!i.admissionDetailsForm.get("courseCommencementDate").valid&&i.admissionDetailsForm.get("courseCommencementDate").touched),m.Eb(6),m.rc("ngIf",!i.admissionDetailsForm.get("projectedEarning").valid&&i.admissionDetailsForm.get("projectedEarning").touched),m.Eb(6),m.rc("checked",i.scholarshipOrBusinessEligible),m.Eb(6),m.rc("ngIf",!i.admissionDetailsForm.get("source").valid&&i.admissionDetailsForm.get("source").touched),m.Eb(4),m.rc("disabled",!i.admissionDetailsForm.valid)}}var $c,Qc=(($c=function(){function e(t,n,o,i,r,c,s,l){a(this,e),this.fb=t,this.ls=n,this.loader=o,this.apiService=i,this.router=r,this.snack=c,this.datepipe=s,this.accountService=l,this.showEditOption=!1,this.arrayCountry=[]}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.buildformGroup(),this.getCountryName("country"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);var t=JSON.parse(this.ls.getItem("ADMISSION_DETAIL_DONE"));setTimeout(function(){null!=e.loanaccountID&&t?(e.showEditOption=!0,e.getAdmissionDetails()):(e.showEditOption=!1,e.buildformGroup())},10)}},{key:"buildformGroup",value:function(e){this.admissionDetailsForm=this.fb.group({loanRequestedFor:[e?e.loanRequestedFor:"",$.A.required],modeOfStudy:[e?e.modeOfStudy:"",$.A.required],institution:[e?e.institution:"",$.A.required],country:[e?e.country:"",$.A.required],specialization:[e?e.specialization:"",$.A.required],employmentPotential:[e?e.employmentPotential:"",$.A.required],costOfCourse:[e?e.costOfCourse:"",$.A.required],scholarshipOrBusinessEligible:[!!e&&e.scholarshipOrBusinessEligible,$.A.required],admissionStatus:[e?e.admissionStatus:"",$.A.required],institutionRanking:[e?e.institutionRanking:"",$.A.required],courseCommencementDate:[e?this.convertDate(e.courseCommencementDate):"",$.A.required],courseDuration:[e?e.courseDuration:"",$.A.required],proposedCourseOfStudy:[e?e.proposedCourseOfStudy:"",$.A.required],university:[e?e.university:"",$.A.required],projectedEarning:[e?e.projectedEarning:"",$.A.required],source:[e?e.source:"",$.A.required]})}},{key:"getAdmissionDetails",value:function(){var e=this;this.loader.open(),this.apiService.getAdmissionDetailsByLoanAccId(this.loanaccountID).subscribe(function(t){e.loader.close(),e.addmissionDetails=t,console.log(e.addmissionDetails),e.buildformGroup(e.addmissionDetails)},function(t){e.loader.close()})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/loan-details"])}},{key:"submitForm",value:function(){var e=this,t={};(t=this.admissionDetailsForm.value).loanAccountId=this.loanaccountID,this.apiService.upsertAdmissionDetails(t).subscribe(function(t){console.log("data",t),null!=t&&(e.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next())})}},{key:"next",value:function(){this.ls.setItem("ADMISSION_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/customer-information"])}},{key:"monthDiff",value:function(e,t){var n;return n=12*(t.getFullYear()-e.getFullYear()),n-=e.getMonth(),(n+=t.getMonth())<=0?0:n}},{key:"dateRangeChange",value:function(e,t){var n=new Date(e.value),a=new Date(t.value);e.value&&t.value&&this.admissionDetailsForm.controls.courseDuration.setValue(this.monthDiff(n,a))}},{key:"convertDate",value:function(e){var t=re(e).format("YYYY-MM-DD");if(console.log("date",t),t)return t}},{key:"getCountryName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(e){for(var n=0;n<e.length;n++)"A"===e[n].authStatus&&(t.arrayCountry.push(e[n].countryName),t.arrayCountry.sort())})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||$c)(m.Rb($.f),m.Rb(W.a),m.Rb(Pe.a),m.Rb(x.b),m.Rb(d.h),m.Rb(A.a),m.Rb(u.f),m.Rb(ue.a))},$c.\u0275cmp=m.Lb({type:$c,selectors:[["app-admission-details"]],decls:16,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center",1,"pt-16"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["name","loanRequestedFor","formControlName","loanRequestedFor","disableOptionCentering","","required",""],["value",""],["value","test"],["value","Home"],["value","Education"],["value","Business"],[4,"ngIf"],["name","modeOfStudy","formControlName","modeOfStudy","required","","disableOptionCentering",""],["matInput","","name","institution","formControlName","institution","required","","placeholder","Institution","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["name","country","formControlName","country","required","","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["required","",3,"rangePicker"],["matStartDate","","placeholder","DD/MM/YYYY","readonly",""],["dateRangeStart",""],["matEndDate","","placeholder","DD/MM/YYYY","readonly","",3,"dateChange"],["dateRangeEnd",""],["matSuffix","",3,"for"],["rangePicker",""],["mat-button","","matDateRangePickerCancel",""],["mat-raised-button","","color","primary","matDateRangePickerApply",""],["matInput","","name","specialization","formControlName","specialization","placeholder","Specialization","required","","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["matInput","","name","employmentPotential","formControlName","employmentPotential","placeholder","Employment Potential Value","required","",3,"keypress"],["matInput","","name","costOfCourse","formControlName","costOfCourse","placeholder","Cost of Course","required","",3,"keypress"],["name","admissionStatus","formControlName","admissionStatus","required","","disableOptionCentering",""],["matInput","","name","proposedCourseOfStudy","formControlName","proposedCourseOfStudy","placeholder","Study Purpose","required","","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["matInput","","name","university","formControlName","university","placeholder","university/School","required","","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["matInput","","name","institutionRanking","formControlName","institutionRanking","placeholder","Ranking","required","",3,"keypress"],["matInput","","name","courseCommencementDate","formControlName","courseCommencementDate","placeholder","DD/MM/YYYY","required","",1,"alignment",3,"matDatepicker","min","max"],["picker",""],["matInput","","name","projectedEarning","formControlName","projectedEarning","placeholder","Projected Earning","required","",3,"keypress"],[1,"p-16"],[1,"pb-16"],[1,"pb-4"],["name","scholarshipOrBusinessEligible","formControlName","scholarshipOrBusinessEligible",3,"checked"],["matInput","","name","source","formControlName","source","placeholder","Source","required","",3,"keypress"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Admission Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title",7),m.Xb(11,"div",8),m.Tc(12,"Admission Details"),m.Wb(),m.Sb(13,"mat-divider"),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,Yc,144,24,"form",9),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.admissionDetailsForm))},directives:[p.e,p.b,f.a,f.h,S.a,f.d,u.n,$.C,$.s,$.j,p.f,p.d,g.c,g.g,J.a,$.r,$.i,$.z,Z.n,Q.b,$.c,u.m,ce.b,ce.i,ce.h,ce.g,g.j,ce.c,h.b,ce.e,ce.d,de.a,g.b],styles:[".card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}"]}),$c),Jc=r("Zy1z"),Zc=r("f44v"),Kc=r("vrAh"),es=r("SqCe");function ts(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function ns(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Ownership is Required! "),m.Wb())}function as(e,t){1&e&&(m.Vb(0),m.Xb(1,"div",18),m.Xb(2,"mat-form-field",19),m.Xb(3,"mat-label"),m.Tc(4,"Number of Applicants*"),m.Wb(),m.Xb(5,"mat-select",35),m.Xb(6,"mat-option"),m.Tc(7,"Select"),m.Wb(),m.Xb(8,"mat-option",34),m.Tc(9,"1"),m.Wb(),m.Xb(10,"mat-option",34),m.Tc(11,"2"),m.Wb(),m.Xb(12,"mat-option",34),m.Tc(13,"3"),m.Wb(),m.Xb(14,"mat-option",34),m.Tc(15,"4"),m.Wb(),m.Xb(16,"mat-option",34),m.Tc(17,"5"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub()),2&e&&(m.Eb(8),m.rc("value",1),m.Eb(2),m.rc("value",2),m.Eb(2),m.rc("value",3),m.Eb(2),m.rc("value",4),m.Eb(2),m.rc("value",5))}function os(e,t){if(1&e&&(m.Xb(0,"mat-chip",51),m.Tc(1),m.Wb()),2&e){var n=m.jc().$implicit;m.rc("color","warn")("selected",n.primaryCustomer),m.Eb(1),m.Uc(n.primaryCustomer?"primary":"")}}function is(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"a",52),m.fc("click",function(){return m.Hc(n),m.jc(3).resetAndClose()}),m.Xb(2,"mat-icon"),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Ub()}}function rs(e,t){if(1&e){var n=m.Yb();m.Xb(0,"a",53),m.fc("click",function(){m.Hc(n);var e=m.jc().$implicit;return m.jc(2).toggleDetails(e)}),m.Xb(1,"mat-icon"),m.Tc(2,"edit"),m.Wb(),m.Wb()}}function cs(e,t){if(1&e){var n=m.Yb();m.Xb(0,"a",54),m.fc("click",function(){m.Hc(n);var e=m.jc().$implicit;return m.jc(2).removeApplicant(e)}),m.Xb(1,"mat-icon"),m.Tc(2,"delete"),m.Wb(),m.Wb()}}function ss(e,t){1&e&&m.Tb(0)}var ls=function(e){return{$implicit:e}};function bs(e,t){if(1&e&&(m.Vb(0),m.Rc(1,ss,1,0,"ng-container",55),m.Ub()),2&e){var n=m.jc().$implicit,a=m.Dc(29);m.Eb(1),m.rc("ngTemplateOutlet",a)("ngTemplateOutletContext",m.xc(2,ls,n))}}function us(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function ms(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Prefix is Required! "),m.Wb())}function ds(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Date of Birth is Required! "),m.Wb())}function ps(e,t){if(1&e&&m.Sb(0,"div",97),2&e){var n=m.jc(4);m.Hb("currency-flag currency-flag-",n.birthCountryImage,"")}}function fs(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function gs(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country of Residence is Required! "),m.Wb())}function hs(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function vs(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Resident Status is Required! "),m.Wb())}function ys(e,t){if(1&e&&m.Sb(0,"div"),2&e){var n=m.jc(4);m.Hb("currency-flag currency-flag-",n.countryResidenceImage,"")}}function Ws(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Xs(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country of Residence is Required! "),m.Wb())}function xs(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Cs(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," ID Type is Required! "),m.Wb())}function Is(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," ID Type Valid Till is Required! "),m.Wb())}function As(e,t){if(1&e&&(m.Xb(0,"div",17),m.Xb(1,"mat-form-field",19),m.Xb(2,"mat-label"),m.Tc(3,"ID Type Valid Till"),m.Wb(),m.Sb(4,"input",98),m.Sb(5,"mat-datepicker-toggle",63),m.Rc(6,Is,2,0,"mat-error",23),m.Wb(),m.Sb(7,"mat-datepicker",null,99),m.Wb()),2&e){var n=m.Dc(8),a=m.jc(4);m.Eb(4),m.rc("required","Passport"==a.applicant.get("idType").value)("matDatepicker",n)("min",a.minDate),m.Eb(1),m.rc("for",n),m.Eb(1),m.rc("ngIf",a.applicant.get("expiryDate").hasError("required"))}}function Os(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," First Name is Required! "),m.Wb())}function Ts(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Last Name is Required! "),m.Wb())}function Ds(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function ks(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Gender is Required! "),m.Wb())}function Ss(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Birth Place is Required! "),m.Wb())}function _s(e,t){if(1&e&&m.Sb(0,"div"),2&e){var n=m.jc(4);m.Hb("currency-flag currency-flag-",n.citizenshipImage,"")}}function Rs(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Es(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Citizenship is Required! "),m.Wb())}function Ms(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc("",n," ")}}function Ps(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Marital Status is Required! "),m.Wb())}function Ns(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Occupation Type is Required! "),m.Wb())}function ws(e,t){1&e&&(m.Xb(0,"div"),m.Tc(1,"Unique ID Number is Required!"),m.Wb())}function Fs(e,t){1&e&&(m.Xb(0,"div"),m.Tc(1,"This is a numeric field "),m.Wb())}function Ls(e,t){if(1&e&&(m.Xb(0,"mat-error"),m.Rc(1,ws,2,0,"div",23),m.Rc(2,Fs,2,0,"div",23),m.Wb()),2&e){var n=m.jc(4);m.Eb(1),m.rc("ngIf",n.applicant.get("idNumber").hasError("required")),m.Eb(1),m.rc("ngIf",n.applicant.get("idNumber").hasError("pattern"))}}function Vs(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Address Line 1 is Required! "),m.Wb())}function qs(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Valid Address "),m.Wb())}function js(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Bs(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Residence Type is Required! "),m.Wb())}function zs(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.stateName),m.Eb(1),m.Vc(" ",n.stateName,"")}}function Us(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," State is Required! "),m.Wb())}function Hs(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please enter valid Zip Code!(5-10 digits) "),m.Wb())}function Gs(e,t){1&e&&(m.Xb(0,"h5",100),m.Tc(1,"Please enter valid Zip Code!(5-10 digits) "),m.Wb())}function Ys(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Address Line 2 is Required! "),m.Wb())}function $s(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Valid Address "),m.Wb())}function Qs(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Js(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country is Required! "),m.Wb())}function Zs(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.value1),m.Eb(1),m.Vc("",n.value1," ")}}function Ks(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," City is Required! "),m.Wb())}function el(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Mobile Number is Required! "),m.Wb())}function tl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please, Enter 10 digit Mobile Number! "),m.Wb())}function nl(e,t){1&e&&(m.Xb(0,"mat-error",101),m.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),m.Wb())}function al(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," E-mail is Required! "),m.Wb())}function ol(e,t){1&e&&(m.Xb(0,"mat-error",101),m.Tc(1," \xa0 \xa0 Please Enter Correct Landline Number "),m.Wb())}function il(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",56),m.Xb(1,"div",57),m.Xb(2,"div",15),m.Xb(3,"div",16),m.Xb(4,"div",17),m.Xb(5,"label"),m.Tc(6,"Is the applicant an existing customer?"),m.Wb(),m.Tc(7," \xa0\xa0\xa0\xa0 "),m.Xb(8,"mat-slide-toggle",58),m.fc("change",function(e){return m.Hc(n),m.jc(3).toggleChanges(e)}),m.Wb(),m.Sb(9,"div",59),m.Wb(),m.Xb(10,"div",17),m.Xb(11,"mat-form-field",19),m.Xb(12,"mat-label"),m.Tc(13,"Prefix*"),m.Wb(),m.Xb(14,"mat-select",60),m.Rc(15,us,2,2,"mat-option",22),m.Wb(),m.Rc(16,ms,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(17,"div",17),m.Xb(18,"mat-form-field",19),m.Xb(19,"mat-label"),m.Tc(20,"Middle Name"),m.Wb(),m.Xb(21,"input",61),m.fc("keypress",function(e){return m.Hc(n),m.jc(3).letterOnly(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(22,"div",17),m.Xb(23,"mat-form-field",19),m.Xb(24,"mat-label"),m.Tc(25,"Date of Birth*"),m.Wb(),m.Sb(26,"input",62),m.Sb(27,"mat-datepicker-toggle",63),m.Rc(28,ds,2,0,"mat-error",23),m.Wb(),m.Sb(29,"mat-datepicker",null,64),m.Wb(),m.Xb(31,"div",17),m.Xb(32,"mat-form-field",19),m.Xb(33,"mat-label"),m.Tc(34,"Birth Country"),m.Wb(),m.Xb(35,"div",65),m.Xb(36,"div",66),m.Rc(37,ps,1,3,"div",67),m.Wb(),m.Wb(),m.Xb(38,"mat-select",68),m.fc("selectionChange",function(e){return m.Hc(n),m.jc(3).onSelectionBirthCountry(e.value)}),m.Rc(39,fs,2,2,"mat-option",22),m.Wb(),m.Wb(),m.Rc(40,gs,2,0,"mat-error",23),m.Wb(),m.Xb(41,"div",17),m.Xb(42,"mat-form-field",19),m.Xb(43,"mat-label"),m.Tc(44,"Resident Status*"),m.Wb(),m.Xb(45,"mat-select",69),m.Rc(46,hs,2,2,"mat-option",22),m.Wb(),m.Rc(47,vs,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(48,"div",17),m.Xb(49,"mat-form-field",19),m.Xb(50,"mat-label"),m.Tc(51,"Country of Residence"),m.Wb(),m.Xb(52,"div",65),m.Xb(53,"div",66),m.Rc(54,ys,1,3,"div",70),m.Wb(),m.Wb(),m.Xb(55,"mat-select",71),m.fc("selectionChange",function(e){return m.Hc(n),m.jc(3).onSelectionCountryOfresidence(e.value)}),m.Rc(56,Ws,2,2,"mat-option",22),m.Wb(),m.Wb(),m.Rc(57,Xs,2,0,"mat-error",23),m.Wb(),m.Xb(58,"div",17),m.Xb(59,"mat-form-field",19),m.Xb(60,"mat-label"),m.Tc(61,"ID Type*"),m.Wb(),m.Xb(62,"mat-select",72),m.fc("selectionChange",function(){m.Hc(n);var e=m.jc(3);return e.changeIdType(e.applicant.get("idType").value)}),m.Rc(63,xs,2,2,"mat-option",22),m.Wb(),m.Rc(64,Cs,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Rc(65,As,9,5,"div",73),m.Wb(),m.Xb(66,"div",24),m.Xb(67,"div",17),m.Xb(68,"label"),m.Tc(69,"Is the applicant a primary customer?"),m.Wb(),m.Tc(70," \xa0\xa0\xa0\xa0 "),m.Sb(71,"mat-slide-toggle",74),m.Sb(72,"div",59),m.Wb(),m.Xb(73,"div",17),m.Xb(74,"mat-form-field",19),m.Xb(75,"mat-label"),m.Tc(76,"First Name*"),m.Wb(),m.Xb(77,"input",75),m.fc("keypress",function(e){return m.Hc(n),m.jc(3).letterOnly(e)}),m.Wb(),m.Rc(78,Os,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(79,"div",17),m.Xb(80,"mat-form-field",19),m.Xb(81,"mat-label"),m.Tc(82,"Last Name*"),m.Wb(),m.Xb(83,"input",76),m.fc("keypress",function(e){return m.Hc(n),m.jc(3).letterOnly(e)}),m.Wb(),m.Rc(84,Ts,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(85,"div",17),m.Xb(86,"mat-form-field",19),m.Xb(87,"mat-label"),m.Tc(88,"Gender*"),m.Wb(),m.Xb(89,"mat-select",77),m.Rc(90,Ds,2,2,"mat-option",22),m.Wb(),m.Rc(91,ks,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(92,"div",17),m.Xb(93,"mat-form-field",19),m.Xb(94,"mat-label"),m.Tc(95,"Birth Place*"),m.Wb(),m.Sb(96,"input",78),m.Rc(97,Ss,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(98,"div",17),m.Xb(99,"mat-form-field",19),m.Xb(100,"mat-label"),m.Tc(101,"Citizenship By"),m.Wb(),m.Xb(102,"div",65),m.Xb(103,"div",66),m.Rc(104,_s,1,3,"div",70),m.Wb(),m.Wb(),m.Xb(105,"mat-select",79),m.fc("selectionChange",function(e){return m.Hc(n),m.jc(3).onSelectionCitizenship(e.value)}),m.Rc(106,Rs,2,2,"mat-option",22),m.Wb(),m.Wb(),m.Rc(107,Es,2,0,"mat-error",23),m.Wb(),m.Xb(108,"div",80),m.Xb(109,"mat-form-field",19),m.Xb(110,"mat-label"),m.Tc(111,"Marital Status"),m.Wb(),m.Xb(112,"mat-select",81),m.Rc(113,Ms,2,2,"mat-option",22),m.Wb(),m.Rc(114,Ps,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(115,"div",17),m.Xb(116,"mat-form-field",19),m.Xb(117,"mat-label"),m.Tc(118,"Occupation Type*"),m.Wb(),m.Sb(119,"input",82),m.Rc(120,Ns,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(121,"div",17),m.Xb(122,"mat-form-field",19),m.Xb(123,"mat-label"),m.Tc(124,"Unique ID Number *"),m.Wb(),m.Sb(125,"input",83),m.Rc(126,Ls,3,2,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(127,"mat-accordion"),m.Xb(128,"mat-expansion-panel",36),m.Xb(129,"mat-expansion-panel-header"),m.Xb(130,"mat-panel-title"),m.Tc(131,"Communication Address "),m.Wb(),m.Wb(),m.Xb(132,"div",15),m.Xb(133,"div",16),m.Xb(134,"div",17),m.Xb(135,"mat-form-field",19),m.Xb(136,"mat-label"),m.Tc(137,"Address Line 1*"),m.Wb(),m.Sb(138,"textarea",84),m.Rc(139,Vs,2,0,"mat-error",23),m.Rc(140,qs,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(141,"div",17),m.Xb(142,"mat-form-field",19),m.Xb(143,"mat-label"),m.Tc(144,"Residence Type*"),m.Wb(),m.Xb(145,"mat-select",85),m.Rc(146,js,2,2,"mat-option",22),m.Wb(),m.Rc(147,Bs,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(148,"div",17),m.Xb(149,"mat-form-field",19),m.Xb(150,"mat-label"),m.Tc(151,"State*"),m.Wb(),m.Xb(152,"mat-select",86),m.fc("selectionChange",function(e){return m.Hc(n),m.jc(3).getCityName(e.value)}),m.Rc(153,zs,2,2,"mat-option",22),m.Wb(),m.Rc(154,Us,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(155,"div",17),m.Xb(156,"mat-form-field",19),m.Xb(157,"mat-label"),m.Tc(158,"Zip Code*"),m.Wb(),m.Xb(159,"input",87),m.fc("keypress",function(e){return m.Hc(n),m.jc(3).onKeyPress1(e)})("keyup",function(e){return m.Hc(n),m.jc(3).isAllSameDigit(e)}),m.Wb(),m.Rc(160,Hs,2,0,"mat-error",23),m.Wb(),m.Rc(161,Gs,2,0,"h5",88),m.Wb(),m.Wb(),m.Xb(162,"div",24),m.Xb(163,"div",17),m.Xb(164,"mat-form-field",19),m.Xb(165,"mat-label"),m.Tc(166,"Address Line 2*"),m.Wb(),m.Sb(167,"textarea",89),m.Rc(168,Ys,2,0,"mat-error",23),m.Rc(169,$s,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(170,"div",17),m.Xb(171,"mat-form-field",19),m.Xb(172,"mat-label"),m.Tc(173,"Country*"),m.Wb(),m.Xb(174,"mat-select",90),m.fc("selectionChange",function(e){return m.Hc(n),m.jc(3).getStateName(e.value)}),m.Rc(175,Qs,2,2,"mat-option",22),m.Wb(),m.Rc(176,Js,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Xb(177,"div",17),m.Xb(178,"mat-form-field",19),m.Xb(179,"mat-label"),m.Tc(180,"City*"),m.Wb(),m.Xb(181,"mat-select",91),m.Rc(182,Zs,2,2,"mat-option",22),m.Wb(),m.Rc(183,Ks,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(184,"mat-accordion"),m.Xb(185,"mat-expansion-panel",36),m.Xb(186,"mat-expansion-panel-header"),m.Xb(187,"mat-panel-title"),m.Tc(188,"Contact Information "),m.Wb(),m.Wb(),m.Xb(189,"div",15),m.Xb(190,"div",16),m.Xb(191,"div",17),m.Xb(192,"mat-form-field",19),m.Xb(193,"mat-label"),m.Tc(194,"Mobile Number*"),m.Wb(),m.Xb(195,"input",92),m.fc("keypress",function(e){return m.Hc(n),m.jc(3).onKeyPress1(e)}),m.Wb(),m.Rc(196,el,2,0,"mat-error",23),m.Rc(197,tl,2,0,"mat-error",23),m.Wb(),m.Rc(198,nl,2,0,"mat-error",93),m.Wb(),m.Xb(199,"div",17),m.Xb(200,"mat-form-field",19),m.Xb(201,"mat-label"),m.Tc(202,"E-mail*"),m.Wb(),m.Sb(203,"input",94),m.Rc(204,al,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(205,"div",24),m.Xb(206,"div",17),m.Xb(207,"mat-form-field",19),m.Xb(208,"mat-label"),m.Tc(209,"Landline Number"),m.Wb(),m.Xb(210,"input",95),m.fc("keypress",function(e){return m.Hc(n),m.jc(3).onKeyPress1(e)}),m.Wb(),m.Wb(),m.Rc(211,ol,2,0,"mat-error",93),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(212,"div",17),m.Xb(213,"button",96),m.fc("click",function(){return m.Hc(n),m.jc(3).onSubmit()}),m.Tc(214," UPDATE APPLICANT "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(30),o=m.jc(3);m.rc("formGroup",o.customerInfoForm),m.Eb(15),m.rc("ngForOf",o.arrayPrefix),m.Eb(1),m.rc("ngIf",o.applicant.get("prefix").hasError("required")),m.Eb(10),m.rc("matDatepicker",a)("max",o.tomorrow)("max",o.maxDate),m.Eb(1),m.rc("for",a),m.Eb(1),m.rc("ngIf",o.applicant.get("dateOfBirth").hasError("required")),m.Eb(9),m.rc("ngIf",o.birthCountryImage),m.Eb(2),m.rc("ngForOf",o.arrayCountry),m.Eb(1),m.rc("ngIf",o.applicant.get("birthCountry").hasError("required")),m.Eb(6),m.rc("ngForOf",o.arrayResidence),m.Eb(1),m.rc("ngIf",o.applicant.get("residenceStatus").hasError("required")),m.Eb(7),m.rc("ngIf",o.countryResidenceImage),m.Eb(2),m.rc("ngForOf",o.arrayCountry),m.Eb(1),m.rc("ngIf",!o.applicant.get("countryOfResidence").valid&&o.applicant.get("countryOfResidence").touched),m.Eb(6),m.rc("ngForOf",o.arrayDocumentType),m.Eb(1),m.rc("ngIf",o.applicant.get("idType").hasError("required")),m.Eb(1),m.rc("ngIf","Passport"==o.applicant.get("idType").value),m.Eb(13),m.rc("ngIf",o.applicant.get("firstName").hasError("required")),m.Eb(6),m.rc("ngIf",o.applicant.get("lastName").hasError("required")),m.Eb(6),m.rc("ngForOf",o.arrayGender),m.Eb(1),m.rc("ngIf",o.applicant.get("gender").hasError("required")),m.Eb(6),m.rc("ngIf",o.applicant.get("placeOfBirth").hasError("required")),m.Eb(7),m.rc("ngIf",o.citizenshipImage),m.Eb(2),m.rc("ngForOf",o.arrayCountry),m.Eb(1),m.rc("ngIf",o.applicant.get("nationality").hasError("required")),m.Eb(6),m.rc("ngForOf",o.maritalStatusList),m.Eb(1),m.rc("ngIf",o.applicant.get("maritalStatus").hasError("required")),m.Eb(6),m.rc("ngIf",o.applicant.get("occupationType").hasError("required")),m.Eb(6),m.rc("ngIf",o.applicant.get("idNumber").touched&&!o.applicant.get("idNumber").valid),m.Eb(13),m.rc("ngIf",o.applicant.get("address1").hasError("required")),m.Eb(1),m.rc("ngIf",o.applicant.get("address1").touched&&o.applicant.get("address1").hasError("pattern")),m.Eb(6),m.rc("ngForOf",o.arrayAddressType),m.Eb(1),m.rc("ngIf",o.applicant.get("addressType").hasError("required")),m.Eb(6),m.rc("ngForOf",o.arrayState),m.Eb(1),m.rc("ngIf",o.applicant.get("state").hasError("required")),m.Eb(6),m.rc("ngIf",o.applicant.get("zipCode").hasError("required")&&!o.applicant.controls.zipCode.valid&&(null==o.applicant.controls.zipCode?null:o.applicant.controls.zipCode.touched)),m.Eb(1),m.rc("ngIf",o.isAllSameDigitVal),m.Eb(7),m.rc("ngIf",o.applicant.get("address2").hasError("required")),m.Eb(1),m.rc("ngIf",o.applicant.get("address2").touched&&o.applicant.get("address2").hasError("pattern")),m.Eb(6),m.rc("ngForOf",o.arrayCountry),m.Eb(1),m.rc("ngIf",o.applicant.get("country").hasError("required")),m.Eb(6),m.rc("ngForOf",o.arrayCity),m.Eb(1),m.rc("ngIf",o.applicant.get("city").hasError("required")),m.Eb(13),m.rc("ngIf",o.applicant.get("phoneNumber").hasError("required")),m.Eb(1),m.rc("ngIf",o.applicant.get("phoneNumber").hasError("pattern")),m.Eb(1),m.rc("ngIf","0000000000"==o.applicant.get("phoneNumber").value),m.Eb(6),m.rc("ngIf",o.applicant.get("primaryEmailAdress").hasError("required")),m.Eb(7),m.rc("ngIf","0000000000"==o.applicant.get("landlineNumber").value),m.Eb(2),m.rc("disabled",o.applicant.invalid)}}function rl(e,t){if(1&e&&(m.Xb(0,"mat-expansion-panel",36),m.Xb(1,"mat-expansion-panel-header"),m.Xb(2,"mat-panel-title"),m.Xb(3,"mat-icon",37),m.Tc(4,"check_circle"),m.Wb(),m.Xb(5,"span",38),m.Tc(6),m.Wb(),m.Wb(),m.Wb(),m.Xb(7,"mat-card"),m.Xb(8,"mat-card-header",39),m.Xb(9,"div",40),m.Sb(10,"app-avatar-photo",41),m.Wb(),m.Xb(11,"mat-card-title"),m.Xb(12,"div",0),m.Xb(13,"h6",42),m.Tc(14),m.Wb(),m.Sb(15,"span",43),m.Rc(16,os,2,3,"mat-chip",44),m.Wb(),m.Wb(),m.Xb(17,"mat-card-subtitle"),m.Xb(18,"span",45),m.Tc(19),m.Wb(),m.Wb(),m.Xb(20,"div",46),m.Xb(21,"span",47),m.Rc(22,is,4,0,"ng-container",12),m.Rc(23,rs,3,0,"ng-template",null,48,m.Sc),m.Rc(25,cs,3,0,"a",49),m.Wb(),m.Wb(),m.Wb(),m.Xb(26,"mat-card-container"),m.Rc(27,bs,2,4,"ng-container",23),m.Rc(28,il,215,51,"ng-template",null,50,m.Sc),m.Wb(),m.Wb(),m.Wb()),2&e){var n=t.$implicit,a=t.index,o=m.Dc(24),i=m.jc(2);m.Eb(6),m.Vc("Applicant ",a+1,""),m.Eb(4),m.rc("name",n.firstName+" "+n.lastName),m.Eb(4),m.Uc(n.firstName+" "+n.lastName),m.Eb(2),m.rc("ngIf",n.primaryCustomer),m.Eb(3),m.Vc("CIF ",null!=n.cifNumber?"#"+n.cifNumber:"- n/a",""),m.Eb(3),m.rc("ngIf",(null==i.selectedApplicant?null:i.selectedApplicant._id)===n._id)("ngIfElse",o),m.Eb(3),m.rc("ngIf",n.dependentId),m.Eb(2),m.rc("ngIf",(null==i.selectedApplicant?null:i.selectedApplicant._id)===n._id)}}function cl(e,t){1&e&&(m.Xb(0,"mat-icon",128),m.Tc(1,"check_circle"),m.Wb())}function sl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," CIF Number is Required! "),m.Wb())}function ll(e,t){1&e&&(m.Xb(0,"mat-hint",129),m.Tc(1,"Duplicate CIF Number"),m.Wb())}function bl(e,t){1&e&&(m.Xb(0,"mat-hint",130),m.Tc(1," Enter valid CIF Number!"),m.Wb())}function ul(e,t){if(1&e&&(m.Xb(0,"div",138),m.Xb(1,"h3",139),m.Tc(2),m.kc(3,"uppercase"),m.kc(4,"slice"),m.kc(5,"uppercase"),m.kc(6,"slice"),m.Wb(),m.Wb()),2&e){var n=m.jc().$implicit;m.Eb(2),m.Wc(" ",m.lc(3,2,m.nc(4,4,null==n?null:n.firstName,0,1)),"",m.lc(5,8,m.nc(6,10,null==n?null:n.lastName,0,1))," ")}}function ml(e,t){if(1&e&&(m.Xb(0,"div",140),m.Sb(1,"img",141),m.Wb()),2&e){var n=m.jc().$implicit;m.Eb(1),m.rc("src",null==n?null:n.profileImage,m.Jc)}}function dl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Xb(1,"div",131),m.Xb(2,"div",132),m.Rc(3,ul,7,14,"div",133),m.Rc(4,ml,2,1,"div",134),m.Xb(5,"div",135),m.Xb(6,"h5",136),m.Tc(7),m.kc(8,"uppercase"),m.kc(9,"uppercase"),m.kc(10,"uppercase"),m.Wb(),m.Xb(11,"h6",137),m.Tc(12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.customerId),m.Eb(3),m.rc("ngIf","not_available"==(null==n?null:n.profileImage)),m.Eb(1),m.rc("ngIf","not_available"!=(null==n?null:n.profileImage)),m.Eb(3),m.Xc(" ",m.lc(8,7,null==n?null:n.firstName)," ",m.lc(9,9,null==n?null:n.middleName)," ",m.lc(10,11,null==n?null:n.lastName)," "),m.Eb(5),m.Vc("#",null==n?null:n.cifNumber,"")}}function pl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," First Name is Required! "),m.Wb())}function fl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Last Name is Required! "),m.Wb())}function gl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Date of Birth is Required! "),m.Wb())}function hl(e,t){if(1&e&&m.Sb(0,"div"),2&e){var n=m.jc(3);m.Hb("currency-flag currency-flag-",n.birthCountryImage,"")}}function vl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function yl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country of Residence is Required! "),m.Wb())}function Wl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Xl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Resident Status is Required! "),m.Wb())}function xl(e,t){if(1&e&&m.Sb(0,"div"),2&e){var n=m.jc(3);m.Hb("currency-flag currency-flag-",n.countryResidenceImage,"")}}function Cl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Il(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country of Residence is Required! "),m.Wb())}function Al(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Ol(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 ID Type is Required! "),m.Wb())}function Tl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Id Valid Till date is Required! "),m.Wb())}function Dl(e,t){if(1&e&&(m.Xb(0,"div",17),m.Xb(1,"div",18),m.Xb(2,"mat-form-field",19),m.Xb(3,"mat-label"),m.Tc(4,"ID Type Valid Till"),m.Wb(),m.Sb(5,"input",142),m.Xb(6,"div",143),m.Sb(7,"mat-datepicker-toggle",63),m.Sb(8,"mat-datepicker",null,99),m.Wb(),m.Rc(10,Tl,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(9),a=m.jc(3);m.Eb(5),m.rc("matDatepicker",n)("min",a.minDate),m.Eb(2),m.rc("for",n),m.Eb(3),m.rc("ngIf",!a.applicant.get("expiryDate").valid&&a.applicant.get("expiryDate").touched)}}function kl(e,t){if(1&e&&(m.Xb(0,"div",107),m.Xb(1,"label"),m.Tc(2,"Is the applicant a primary customer?"),m.Wb(),m.Tc(3," \xa0\xa0\xa0\xa0 "),m.Sb(4,"mat-slide-toggle",144),m.Sb(5,"div",59),m.Wb()),2&e){var n=m.jc(3);m.Eb(4),m.rc("disabled",0==n.listOfAccounts.length)}}function Sl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function _l(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Prefix is Required! "),m.Wb())}function Rl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function El(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Gender is Required! "),m.Wb())}function Ml(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Last Name is Required! "),m.Wb())}function Pl(e,t){if(1&e&&m.Sb(0,"div"),2&e){var n=m.jc(3);m.Hb("currency-flag currency-flag-",n.citizenshipImage,"")}}function Nl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function wl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Citizenship is Required! "),m.Wb())}function Fl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc("",n," ")}}function Ll(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Marital Status is Required! "),m.Wb())}function Vl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Occupation Type is Required! "),m.Wb())}function ql(e,t){1&e&&(m.Xb(0,"div"),m.Tc(1,"Unique ID is Required!"),m.Wb())}function jl(e,t){1&e&&(m.Xb(0,"div"),m.Tc(1,"This is a alphanumeric field "),m.Wb())}function Bl(e,t){if(1&e&&(m.Xb(0,"mat-error"),m.Rc(1,ql,2,0,"div",23),m.Rc(2,jl,2,0,"div",23),m.Wb()),2&e){var n=m.jc(3);m.Eb(1),m.rc("ngIf",n.applicant.get("idNumber").hasError("required")),m.Eb(1),m.rc("ngIf",n.applicant.get("idNumber").hasError("pattern"))}}function zl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Address Line 1 is Required!"),m.Wb())}function Ul(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Valid Address "),m.Wb())}function Hl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Gl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Residence Type is Required! "),m.Wb())}function Yl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.stateName),m.Eb(1),m.Vc("",n.stateName," ")}}function $l(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 State is Required! "),m.Wb())}function Ql(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Valid Zip Code is Required!(5-10 digits) "),m.Wb())}function Jl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Address Line 2 is Required!"),m.Wb())}function Zl(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Valid Address "),m.Wb())}function Kl(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function eb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 City is Required! "),m.Wb())}function tb(e,t){if(1&e&&(m.Xb(0,"mat-option",34),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.value1),m.Eb(1),m.Uc(n.value1)}}function nb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 City is Required! "),m.Wb())}function ab(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please, Enter 10 digit Mobile Number! "),m.Wb())}function ob(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),m.Wb())}function ib(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," E-mail is Required! "),m.Wb())}function rb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0 \xa0 Please Enter Correct Landline Number "),m.Wb())}function cb(e,t){if(1&e){var n=m.Yb();m.Xb(0,"a",96),m.fc("click",function(){return m.Hc(n),m.jc(3).onSubmit()}),m.Tc(1," ADD APPLICANT "),m.Wb()}if(2&e){var a=m.jc(3);m.rc("disabled",a.applicant.invalid||a.isDuplicateCIF)}}function sb(e,t){if(1&e){var n=m.Yb();m.Xb(0,"a",145),m.fc("click",function(){return m.Hc(n),m.jc(3).onSubmit()}),m.Tc(1," ADD APPLICANT "),m.Wb()}}function lb(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",102),m.Xb(1,"mat-accordion"),m.Xb(2,"mat-expansion-panel",103),m.Xb(3,"mat-expansion-panel-header",104),m.Xb(4,"mat-panel-title",105),m.Tc(5,"Create New Applicant "),m.Wb(),m.Wb(),m.Sb(6,"mat-divider",106),m.Xb(7,"div",57),m.Xb(8,"div",15),m.Xb(9,"div",16),m.Xb(10,"div",107),m.Xb(11,"label"),m.Tc(12,"Is the applicant an existing customer? "),m.Wb(),m.Tc(13," \xa0\xa0\xa0\xa0 "),m.Xb(14,"mat-slide-toggle",108),m.fc("change",function(e){return m.Hc(n),m.jc(2).toggleChanges(e)})("ngModelChange",function(e){return m.Hc(n),m.jc(2).isChecked=e}),m.Wb(),m.Sb(15,"div",59),m.Wb(),m.Xb(16,"div",17),m.Xb(17,"div",109),m.Xb(18,"div",110),m.Xb(19,"div",18),m.Xb(20,"mat-form-field",19),m.Xb(21,"mat-label"),m.Tc(22,"CIF Number"),m.Wb(),m.Xb(23,"input",111),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("change",function(){m.Hc(n);var e=m.jc(2);return e.fetchByCif(e.applicant.get("cifNumber").value,e.applicant.get("existingCustomer").value)})("keyup",function(e){return m.Hc(n),m.jc(2).onKeyPress(e)}),m.Wb(),m.Rc(24,cl,2,0,"mat-icon",112),m.Rc(25,sl,2,0,"mat-error",23),m.Rc(26,ll,2,0,"mat-hint",113),m.Rc(27,bl,2,0,"mat-hint",114),m.Wb(),m.Wb(),m.Xb(28,"div"),m.Xb(29,"mat-autocomplete",null,115),m.Rc(31,dl,13,13,"mat-option",22),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(32,"div",17),m.Xb(33,"div",18),m.Xb(34,"mat-form-field",19),m.Xb(35,"mat-label"),m.Tc(36,"First Name"),m.Wb(),m.Xb(37,"input",75),m.fc("keypress",function(e){return m.Hc(n),m.jc(2).letterOnly(e)}),m.Wb(),m.Rc(38,pl,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(39,"div",17),m.Xb(40,"div",18),m.Xb(41,"mat-form-field",19),m.Xb(42,"mat-label"),m.Tc(43,"Last Name*"),m.Wb(),m.Xb(44,"input",76),m.fc("keypress",function(e){return m.Hc(n),m.jc(2).letterOnly(e)}),m.Wb(),m.Rc(45,fl,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(46,"div",17),m.Xb(47,"div",18),m.Xb(48,"mat-form-field",19),m.Xb(49,"mat-label"),m.Tc(50,"Date of Birth*"),m.Wb(),m.Sb(51,"input",62),m.Sb(52,"mat-datepicker-toggle",63),m.Sb(53,"mat-datepicker",null,64),m.Rc(55,gl,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(56,"div",17),m.Xb(57,"div",18),m.Xb(58,"mat-form-field",19),m.Xb(59,"mat-label"),m.Tc(60,"Birth Country"),m.Wb(),m.Xb(61,"div",65),m.Xb(62,"div",66),m.Rc(63,hl,1,3,"div",70),m.Wb(),m.Wb(),m.Xb(64,"mat-select",116),m.fc("selectionChange",function(e){return m.Hc(n),m.jc(2).onSelectionBirthCountry(e.value)}),m.Rc(65,vl,2,2,"mat-option",22),m.Wb(),m.Rc(66,yl,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(67,"div",17),m.Xb(68,"div",18),m.Xb(69,"mat-form-field",19),m.Xb(70,"mat-label"),m.Tc(71,"Resident Status*"),m.Wb(),m.Xb(72,"mat-select",69),m.Xb(73,"mat-option",21),m.Tc(74,"Select"),m.Wb(),m.Rc(75,Wl,2,2,"mat-option",22),m.Wb(),m.Rc(76,Xl,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(77,"div",17),m.Xb(78,"div",18),m.Xb(79,"mat-form-field",19),m.Xb(80,"mat-label"),m.Tc(81,"Country of Residence*"),m.Wb(),m.Xb(82,"div",65),m.Xb(83,"div",66),m.Rc(84,xl,1,3,"div",70),m.Wb(),m.Wb(),m.Xb(85,"mat-select",117),m.fc("selectionChange",function(e){return m.Hc(n),m.jc(2).onSelectionCountryOfresidence(e.value)}),m.Rc(86,Cl,2,2,"mat-option",22),m.Wb(),m.Rc(87,Il,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(88,"div",17),m.Xb(89,"div",18),m.Xb(90,"mat-form-field",19),m.Xb(91,"mat-label"),m.Tc(92,"ID Type*"),m.Wb(),m.Xb(93,"mat-select",72),m.fc("selectionChange",function(){m.Hc(n);var e=m.jc(2);return e.changeIdType(e.applicant.get("idType").value)}),m.Xb(94,"mat-option",21),m.Tc(95,"Select"),m.Wb(),m.Rc(96,Al,2,2,"mat-option",22),m.Wb(),m.Rc(97,Ol,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Rc(98,Dl,11,4,"div",73),m.Wb(),m.Xb(99,"div",24),m.Rc(100,kl,6,1,"div",118),m.Xb(101,"div",119),m.Xb(102,"div",18),m.Xb(103,"mat-form-field",19),m.Xb(104,"mat-label"),m.Tc(105,"Customer Prefix*"),m.Wb(),m.Xb(106,"mat-select",60),m.Xb(107,"mat-option",21),m.Tc(108,"Select"),m.Wb(),m.Rc(109,Sl,2,2,"mat-option",22),m.Wb(),m.Rc(110,_l,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(111,"div",17),m.Xb(112,"div",18),m.Xb(113,"mat-form-field",19),m.Xb(114,"mat-label"),m.Tc(115,"Middle Name"),m.Wb(),m.Xb(116,"input",61),m.fc("keypress",function(e){return m.Hc(n),m.jc(2).letterOnly(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(117,"div",17),m.Xb(118,"div",18),m.Xb(119,"mat-form-field",19),m.Xb(120,"mat-label"),m.Tc(121,"Gender*"),m.Wb(),m.Xb(122,"mat-select",77),m.Xb(123,"mat-option",21),m.Tc(124,"Select"),m.Wb(),m.Rc(125,Rl,2,2,"mat-option",22),m.Wb(),m.Rc(126,El,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(127,"div",17),m.Xb(128,"div",18),m.Xb(129,"mat-form-field",19),m.Xb(130,"mat-label"),m.Tc(131,"Birth Place*"),m.Wb(),m.Sb(132,"input",120),m.Rc(133,Ml,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(134,"div",17),m.Xb(135,"div",18),m.Xb(136,"mat-form-field",19),m.Xb(137,"mat-label"),m.Tc(138,"Citizenship By"),m.Wb(),m.Xb(139,"div",65),m.Xb(140,"div",66),m.Rc(141,Pl,1,3,"div",70),m.Wb(),m.Wb(),m.Xb(142,"mat-select",121),m.fc("selectionChange",function(e){return m.Hc(n),m.jc(2).onSelectionCitizenship(e.value)}),m.Rc(143,Nl,2,2,"mat-option",22),m.Wb(),m.Rc(144,wl,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(145,"div",17),m.Xb(146,"div",18),m.Xb(147,"mat-form-field",19),m.Xb(148,"mat-label"),m.Tc(149,"Marital Status*"),m.Wb(),m.Xb(150,"mat-select",122),m.Xb(151,"mat-option",21),m.Tc(152,"Select"),m.Wb(),m.Rc(153,Fl,2,2,"mat-option",22),m.Wb(),m.Rc(154,Ll,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(155,"div",17),m.Xb(156,"div",18),m.Xb(157,"mat-form-field",19),m.Xb(158,"mat-label"),m.Tc(159,"Occupation Type*"),m.Wb(),m.Sb(160,"input",123),m.Rc(161,Vl,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(162,"div",17),m.Xb(163,"div",18),m.Xb(164,"mat-form-field",19),m.Xb(165,"mat-label"),m.Tc(166,"Unique ID *"),m.Wb(),m.Xb(167,"input",124),m.fc("keypress",function(e){return m.Hc(n),m.jc(2).keyPressAlphanumeric(e)}),m.Wb(),m.Rc(168,Bl,3,2,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(169,"mat-accordion"),m.Xb(170,"mat-expansion-panel",36),m.Xb(171,"mat-card-title"),m.Xb(172,"fieldset",25),m.Xb(173,"legend",8),m.Tc(174,"Communication Address"),m.Wb(),m.Wb(),m.Wb(),m.Xb(175,"div",15),m.Xb(176,"div",24),m.Xb(177,"div",17),m.Xb(178,"div",18),m.Xb(179,"mat-form-field",19),m.Xb(180,"mat-label"),m.Tc(181,"Address Line 1*"),m.Wb(),m.Sb(182,"textarea",84),m.Rc(183,zl,2,0,"mat-error",23),m.Rc(184,Ul,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(185,"div",17),m.Xb(186,"div",18),m.Xb(187,"mat-form-field",19),m.Xb(188,"mat-label"),m.Tc(189,"Residence Type*"),m.Wb(),m.Xb(190,"mat-select",85),m.Xb(191,"mat-option",21),m.Tc(192,"Select"),m.Wb(),m.Rc(193,Hl,2,2,"mat-option",22),m.Wb(),m.Rc(194,Gl,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(195,"div",17),m.Xb(196,"div",18),m.Xb(197,"mat-form-field",19),m.Xb(198,"mat-label"),m.Tc(199,"State*"),m.Wb(),m.Xb(200,"mat-select",86),m.fc("selectionChange",function(e){return m.Hc(n),m.jc(2).getCityName(e.value)}),m.Xb(201,"mat-option",21),m.Tc(202,"Select"),m.Wb(),m.Rc(203,Yl,2,2,"mat-option",22),m.Wb(),m.Rc(204,$l,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(205,"div",17),m.Xb(206,"div",18),m.Xb(207,"mat-form-field",19),m.Xb(208,"mat-label"),m.Tc(209,"Zip Code*"),m.Wb(),m.Xb(210,"input",87),m.fc("keypress",function(e){return m.Hc(n),m.jc(2).onKeyPress1(e)})("keyup",function(e){return m.Hc(n),m.jc(2).isAllSameDigit(e)}),m.Wb(),m.Rc(211,Ql,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(212,"div",24),m.Xb(213,"div",17),m.Xb(214,"div",18),m.Xb(215,"mat-form-field",19),m.Xb(216,"mat-label"),m.Tc(217,"Address Line 2*"),m.Wb(),m.Sb(218,"textarea",89),m.Rc(219,Jl,2,0,"mat-error",23),m.Rc(220,Zl,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(221,"div",17),m.Xb(222,"div",18),m.Xb(223,"mat-form-field",19),m.Xb(224,"mat-label"),m.Tc(225,"Country*"),m.Wb(),m.Xb(226,"mat-select",125),m.fc("selectionChange",function(e){return m.Hc(n),m.jc(2).getStateName(e.value)})("selectionChange",function(e){return m.Hc(n),m.jc(2).getCityName(e.value)}),m.Xb(227,"mat-option",21),m.Tc(228,"Select"),m.Wb(),m.Rc(229,Kl,2,2,"mat-option",22),m.Wb(),m.Rc(230,eb,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(231,"div",17),m.Xb(232,"div",18),m.Xb(233,"mat-form-field",19),m.Xb(234,"mat-label"),m.Tc(235,"City*"),m.Wb(),m.Xb(236,"mat-select",91),m.Xb(237,"mat-option",21),m.Tc(238,"Select"),m.Wb(),m.Rc(239,tb,2,2,"mat-option",22),m.Wb(),m.Rc(240,nb,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(241,"mat-accordion"),m.Xb(242,"mat-expansion-panel",36),m.Xb(243,"mat-card-title"),m.Xb(244,"fieldset",25),m.Xb(245,"legend",8),m.Tc(246,"Contact Information"),m.Wb(),m.Wb(),m.Wb(),m.Xb(247,"div",15),m.Xb(248,"div",16),m.Xb(249,"div",17),m.Xb(250,"div",18),m.Xb(251,"mat-form-field",19),m.Xb(252,"mat-label"),m.Tc(253,"Mobile Number*"),m.Wb(),m.Xb(254,"input",92),m.fc("keypress",function(e){return m.Hc(n),m.jc(2).onKeyPress1(e)}),m.Wb(),m.Rc(255,ab,2,0,"mat-error",23),m.Rc(256,ob,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(257,"div",17),m.Xb(258,"div",18),m.Xb(259,"mat-form-field",19),m.Xb(260,"mat-label"),m.Tc(261,"E-mail*"),m.Wb(),m.Sb(262,"input",94),m.Rc(263,ib,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(264,"div",24),m.Xb(265,"div",17),m.Xb(266,"div",18),m.Xb(267,"mat-form-field",19),m.Xb(268,"mat-label"),m.Tc(269,"Landline Number"),m.Wb(),m.Xb(270,"input",95),m.fc("keypress",function(e){return m.Hc(n),m.jc(2).onKeyPress1(e)}),m.Wb(),m.Rc(271,rb,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(272,"div",17),m.Xb(273,"div",17),m.Rc(274,cb,2,1,"a",126),m.Rc(275,sb,2,0,"ng-template",null,127,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(30),o=m.Dc(54),i=m.Dc(276),r=m.jc(2);m.Eb(2),m.rc("expanded",r.customerInfoForm.get("numOfApplicants").value!==r.listOfAccounts.length),m.Eb(12),m.rc("ngModel",r.isChecked)("disabled",r.disabled),m.Eb(9),m.rc("readonly",1!=r.applicant.get("existingCustomer").value)("formControl",r.cifNumberForm)("matAutocomplete",a),m.Eb(1),m.rc("ngIf",r.isCifValid),m.Eb(1),m.rc("ngIf",r.applicant.get("cifNumber").hasError("required")&&!r.applicant.get("cifNumber").valid&&r.applicant.get("cifNumber").touched&&!r.isCifValid),m.Eb(1),m.rc("ngIf",r.isDuplicateCIF),m.Eb(1),m.rc("ngIf",!r.isCifValid&&r.onbackSpace),m.Eb(4),m.rc("ngForOf",r.listOfCustByCif),m.Eb(7),m.rc("ngIf",!r.applicant.get("firstName").valid&&r.applicant.get("firstName").touched),m.Eb(7),m.rc("ngIf",!r.applicant.get("lastName").valid&&r.applicant.get("lastName").touched),m.Eb(6),m.rc("matDatepicker",o)("max",r.tomorrow)("max",r.maxDate),m.Eb(1),m.rc("for",o),m.Eb(3),m.rc("ngIf",!r.applicant.get("dateOfBirth").valid&&r.applicant.get("dateOfBirth").touched),m.Eb(8),m.rc("ngIf",r.birthCountryImage),m.Eb(2),m.rc("ngForOf",r.arrayCountry),m.Eb(1),m.rc("ngIf",!r.applicant.get("countryOfResidence").valid&&r.applicant.get("countryOfResidence").touched),m.Eb(9),m.rc("ngForOf",r.arrayResidence),m.Eb(1),m.rc("ngIf",!r.applicant.get("residenceStatus").valid&&r.applicant.get("residenceStatus").touched),m.Eb(8),m.rc("ngIf",r.countryResidenceImage),m.Eb(2),m.rc("ngForOf",r.arrayCountry),m.Eb(1),m.rc("ngIf",!r.applicant.get("countryOfResidence").valid&&r.applicant.get("countryOfResidence").touched),m.Eb(9),m.rc("ngForOf",r.arrayDocumentType),m.Eb(1),m.rc("ngIf",!r.applicant.get("idType").valid&&r.applicant.get("idType").touched),m.Eb(1),m.rc("ngIf","Passport"==r.applicant.get("idType").value),m.Eb(2),m.rc("ngIf",0==r.listOfAccounts.length),m.Eb(9),m.rc("ngForOf",r.arrayPrefix),m.Eb(1),m.rc("ngIf",!r.applicant.get("prefix").valid&&r.applicant.get("prefix").touched),m.Eb(15),m.rc("ngForOf",r.arrayGender),m.Eb(1),m.rc("ngIf",!r.applicant.get("gender").valid&&r.applicant.get("gender").touched),m.Eb(7),m.rc("ngIf",!r.applicant.get("placeOfBirth").valid&&r.applicant.get("placeOfBirth").touched),m.Eb(8),m.rc("ngIf",r.citizenshipImage),m.Eb(2),m.rc("ngForOf",r.arrayCountry),m.Eb(1),m.rc("ngIf",!r.applicant.get("nationality").valid&&r.applicant.get("nationality").touched),m.Eb(9),m.rc("ngForOf",r.maritalStatusList),m.Eb(1),m.rc("ngIf",!r.applicant.get("maritalStatus").valid&&r.applicant.get("maritalStatus").touched),m.Eb(7),m.rc("ngIf",!r.applicant.get("occupationType").valid&&r.applicant.get("occupationType").touched),m.Eb(7),m.rc("ngIf",r.applicant.get("idNumber").touched&&!r.applicant.get("idNumber").valid),m.Eb(15),m.rc("ngIf",!r.applicant.get("address1").valid&&r.applicant.get("address1").touched&&r.applicant.get("address1").hasError("required")),m.Eb(1),m.rc("ngIf",r.applicant.get("address1").touched&&r.applicant.get("address1").hasError("pattern")),m.Eb(9),m.rc("ngForOf",r.arrayAddressType),m.Eb(1),m.rc("ngIf",!r.applicant.get("addressType").valid&&r.applicant.get("addressType").touched),m.Eb(9),m.rc("ngForOf",r.arrayState),m.Eb(1),m.rc("ngIf",!r.applicant.get("state").valid&&r.applicant.get("state").touched),m.Eb(7),m.rc("ngIf",!r.applicant.controls.zipCode.valid&&(null==r.applicant.controls.zipCode?null:r.applicant.controls.zipCode.touched)),m.Eb(8),m.rc("ngIf",!r.applicant.get("address2").valid&&r.applicant.get("address2").touched&&r.applicant.get("address2").hasError("required")),m.Eb(1),m.rc("ngIf",r.applicant.get("address2").touched&&r.applicant.get("address2").hasError("pattern")),m.Eb(9),m.rc("ngForOf",r.arrayCountry),m.Eb(1),m.rc("ngIf",!r.applicant.get("country").valid&&r.applicant.get("country").touched),m.Eb(9),m.rc("ngForOf",r.arrayCity),m.Eb(1),m.rc("ngIf",!r.applicant.get("city").valid&&r.applicant.get("city").touched),m.Eb(15),m.rc("ngIf",!r.applicant.get("phoneNumber").valid&&r.applicant.get("phoneNumber").touched),m.Eb(1),m.rc("ngIf","0000000000"==r.applicant.get("phoneNumber").value),m.Eb(7),m.rc("ngIf",!r.applicant.get("primaryEmailAdress").valid&&r.applicant.get("primaryEmailAdress").touched),m.Eb(8),m.rc("ngIf","0000000000"==r.applicant.get("landlineNumber").value),m.Eb(3),m.rc("ngIf",r.applicant.invalid||r.isDuplicateCIF||r.disableSaveBtn)("ngIfElse",i)}}function bb(e,t){if(1&e&&(m.Xb(0,"form",14),m.Xb(1,"div",15),m.Xb(2,"div",16),m.Xb(3,"div",17),m.Xb(4,"div",18),m.Xb(5,"mat-form-field",19),m.Xb(6,"mat-label"),m.Tc(7,"Ownership*"),m.Wb(),m.Xb(8,"mat-select",20),m.Xb(9,"mat-option",21),m.Tc(10,"Select"),m.Wb(),m.Rc(11,ts,2,2,"mat-option",22),m.Wb(),m.Rc(12,ns,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(13,"div",24),m.Xb(14,"div",17),m.Rc(15,as,18,5,"ng-container",12),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"mat-card-title"),m.Xb(17,"fieldset",25),m.Xb(18,"legend",8),m.Tc(19,"Details Of The Applicant"),m.Wb(),m.Wb(),m.Wb(),m.Xb(20,"div",26),m.Xb(21,"div",27),m.Xb(22,"p",28),m.Tc(23),m.Wb(),m.Sb(24,"mat-progress-bar",29),m.Xb(25,"mat-hint"),m.Xb(26,"small"),m.Tc(27," completed / total applicants "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(28,"div",30),m.Xb(29,"mat-accordion",31),m.Rc(30,rl,30,9,"mat-expansion-panel",32),m.Wb(),m.Wb(),m.Rc(31,lb,277,61,"div",33),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.customerInfoForm),m.Eb(11),m.rc("ngForOf",n.arrayOwnership),m.Eb(1),m.rc("ngIf",n.customerInfoForm.get("ownership").hasError("required")),m.Eb(3),m.rc("ngIf","Joint"==n.customerInfoForm.get("ownership").value)("ngIfElse",n.showAdd),m.Eb(8),m.Wc("Completed ",n.listOfAccounts.length," / ",n.customerInfoForm.get("numOfApplicants").value,""),m.Eb(1),m.rc("color",n.customerInfoForm.get("numOfApplicants").value===n.listOfAccounts.length?"primary":"accent")("value",n.customerInfoForm.get("numOfApplicants").value===n.listOfAccounts.length?100:50),m.Eb(6),m.rc("ngForOf",n.listOfAccounts),m.Eb(1),m.rc("ngIf",n.customerInfoForm.get("numOfApplicants").value!==n.listOfAccounts.length)}}function ub(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",146),m.fc("click",function(){return m.Hc(n),m.jc().goToNext()}),m.Tc(2," Next "),m.Wb(),m.Ub()}if(2&e){var a=m.jc();m.Eb(1),m.rc("disabled",a.customerInfoForm.get("numOfApplicants").value===a.listOfAccounts.length?"false":"true")}}function mb(e,t){if(1&e){var n=m.Yb();m.Xb(0,"button",146),m.fc("click",function(){return m.Hc(n),m.jc().goToNext()}),m.Tc(1," Next "),m.Wb()}if(2&e){var a=m.jc();m.rc("disabled",a.customerInfoForm.get("numOfApplicants").value===a.listOfAccounts.length?"false":"true")}}var db,pb=((db=function(){function t(e,n,o,i,r,c,s,l,b,u,m,d,p,f,g,h,v,y){a(this,t),this.router=e,this.dialog=n,this.route=o,this.accountService=i,this.elRef=r,this.api=c,this.renderer=s,this.ls=l,this.apiService=b,this.formBuilder=u,this.confirmService=m,this.cdr=d,this.appApiService=p,this.snack=f,this.dialogService=g,this.dataService=h,this.urlService=v,this.loader=y,this.cifNumberForm=new $.g,this.listOfCustByCif=[],this.submitted=!1,this.formData={},this.console=console,this.customerIdProofs=[],this.arrayPrefix=[],this.arrayGender=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayAddressType=[],this.applicantDetailsArray=[],this.toggle=!1,this.customerDetails={},this.applicantDetails=[],this.showEditOption=!1,this.tomorrow=new Date,this.maxDate=new Date,this.minDate=new Date,this.validDate=new Date,this.showNewForm=!0,this.isCifValid=!1,this.toggleClick=!1,this.isAccountOpenScreen=!1,this.previousUrl="",this.addFunc=!0,this.removedButton=!1,this.selectedApplicant=null,this.listOfAccounts=[],this.isAllSameDigitVal=!1,this.isBirthCountry=!1,this.tomorrow.setDate(this.tomorrow.getDate()),this.validDate.setDate(this.validDate.getDate())}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.console.log(this.i),this.loanaccountID=this.ls.getItem("loanAccountId"),this.accountId=this.ls.getItem("accountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.productName=this.ls.getItem("productName"),this.isDuplicateCIF=!1,this.disableSaveBtn=!1,console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),console.log("applicantId",this.route.snapshot.params.id),this.isAccountOpenScreen=JSON.parse(this.ls.getItem("CUSTOMERINFO_DETAIL_DONE")),this.cifNumberPrimary=this.ls.getItem("CIF_NUM_PRIMARY"),console.log("check if",this.loanaccountID,this.isAccountOpenScreen),this.buildCustomerForm(),this.getListOfAccounts(),this.getOwnershipValue("ownership"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getAdressType("address_type"),this.getDocumentType("document_type"),this.getMaritalStatus("maritial_Status"),this.isChecked=!0,this.disabled=!0,this.disabledToggle=!0,setTimeout(function(){null!=e.loanaccountID&&e.isAccountOpenScreen&&(e.showEditOption=!0,e.getCustomerInformationDetails(),e.getListOfAccounts(),e.dataExtracted())},10),this.customerInfoForm.get("ownership").valueChanges.subscribe(function(t){console.log("ownership ?",t),"Joint"==t?e.customerInfoForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}):e.customerInfoForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1})})}},{key:"dataExtracted",value:function(){var t=this;this.ownershipStatus=this.ls.getItem("ownership_value"),console.log("ownership ?",this.ownershipStatus),"Joint"==this.ownershipStatus?(console.log("calling"),this.customerInfoForm.get("numOfApplicants").setValue(2)):this.customerInfoForm.get("numOfApplicants").setValue(1),this.noOfapplicants=this.ls.getItem("LoanNoOfApplicants"),this.console.log(this.noOfapplicants),1==this.noOfapplicants?this.customerInfoForm.get("ownership").setValue("Self"):this.customerInfoForm.get("ownership").setValue("Joint"),this.applicant.get("idType").valueChanges.pipe(Object(Jc.a)()).subscribe(function(n){var a=e(n,2);a[0],a[1],t.applicant.get("idNumber").patchValue(""),t.applicant.get("expiryDate").patchValue("")}),this.urlService.previousUrl$.subscribe(function(e){t.previousUrl=e}),this.accountService.refresh.subscribe(function(e){t.isAccountOpenScreen=JSON.parse(t.ls.getItem("CUSTOMERINFO_DETAIL_DONE")),t.cdr.markForCheck()}),this.cifNumber=this.ls.getItem("CIF_NUM_PRIMARY"),this.console.log("cifNumber=",this.cifNumber)}},{key:"onKeyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault(),console.log(e.target.value),clearTimeout(this.timer),e.target.value||(this.listOfCustByCif=[])}},{key:"onKeyPress",value:function(e){var t=this,n=String.fromCharCode(e.charCode);/[0-9]/.test(n)||e.preventDefault(),console.log(e.target.value),clearTimeout(this.timer),e.target.value?this.timer=setTimeout(function(){t.appApiService.fetchByCif(e.target.value).subscribe(function(e){console.log(e.cifNumber),e&&(t.listOfCustByCif=e.customerInfoList)})},1e3):(this.isCifValid=!1,this.applicant.reset(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity(),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0),this.listOfCustByCif=[])}},{key:"changeIdType",value:function(e){console.log("doc::",e),console.log("this.customerIdProofs::",this.customerIdProofs);var t=this.customerIdProofs.filter(function(t){return t.idType==e});console.log("idProofs::",t),t.length>0?(this.applicant.get("idNumber").patchValue(t[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(t[0].expiryDate))):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}},{key:"isObjectEmpty",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&"{}"===JSON.stringify(e)}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"toggleDetails",value:function(e){var t;console.log("customerId incomming",e),this.customerInfoForm.get("numOfApplicants").disable({onlySelf:!0,emitEvent:!1}),this.console.log(e.userAddress.length),t=e.userAddress.length>1?e.userAddress.find(function(e){return"Permanent"==e.addressType}):e.userAddress[0],this.getStateName(t.country),this.getCityName(t.state);var n={existingCustomer:e.existingCustomer,dependentId:e.dependentId,primaryCustomer:e.primaryCustomer,cifNumber:e.cifNumber,prefix:e.prefix,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,gender:e.gender,dateOfBirth:e.dateOfBirth,placeOfBirth:e.placeOfBirth,birthCountry:e.birthCountry,maritalStatus:e.maritalStatus,residenceStatus:e.residenceStatus,nationality:e.nationality,countryOfResidence:e.countryOfResidence,occupationType:e.occupationType,idType:e.custIdProofs[0].idType,idNumber:e.custIdProofs[0].idNumber,expiryDate:e.custIdProofs[0].expiryDate,addressType:t.addressType,address1:t.address1,address2:t.address2,city:t.city,state:t.state,country:t.country,zipCode:t.zipCode,phoneNumber:e.phoneNumber,landlineNumber:e.landlineNumber,primaryEmailAdress:e.primaryEmailAdress};this.onSelectionCountryOfresidence(n.countryOfResidence),this.onSelectionBirthCountry(n.birthCountry),this.onSelectionCitizenship(n.nationality),console.log("account.firstName=",e.firstName),this.selectedApplicant=e,console.log("payLoadModel",n),this.applicant.patchValue(n,{onlySelf:!1,emitEvent:!1}),this.cdr.markForCheck()}},{key:"resetAndClose",value:function(){this.closeDetails()}},{key:"closeDetails",value:function(){this.selectedApplicant=null,this.applicant.reset(),this.customerInfoForm.get("numOfApplicants").enable({onlySelf:!0})}},{key:"getListOfAccounts",value:function(){var e=this;this.isBirthCountry=!1,this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(function(t){if(e.listOfAccounts=200==t.status?t.data.map(function(e){return Object.assign(Object.assign({},e),{_id:Math.round(1e10*Math.random())})}):[],e.console.log(" this.listOfAccounts",e.listOfAccounts),console.log("All Customer Details",e.listOfAccounts.length),200==t.status&&e.ls.setItem("cId",t.data[0].customerId),console.log("Length check??",e.listOfAccounts.length),0==e.listOfAccounts.length)e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!0);else if(1==e.listOfAccounts.length)e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!1);else if(e.listOfAccounts.length>=2){e.customerInfoForm.get("ownership").patchValue("Joint"),e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!1);for(var n=0;n<t.data.length;n++)e.customerInfoForm.get("numOfApplicants").patchValue(t.data[n].numOfApplicants)}e.cdr.markForCheck(),e.toggleChanges()},function(e){})}},{key:"removeApplicant",value:function(e){var t=this;this.confirmService.confirm({title:"Confirm",message:"Are you sure want to delete?",ok:"Yes",cancel:"No"}).subscribe(function(n){console.log("res:: removed ",n),n&&t.appApiService.deleteApplicant(e.customerId,e.dependentId).subscribe(function(e){},function(n){console.log(n),200==n.status&&(t.snack.open("Dependent ".concat(e.firstName," ").concat(n.error.text,"!"),"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getListOfAccounts())})})}},{key:"fetchByCif",value:function(e,t){var n=this;this.listOfAccounts.some(function(t){return t.cifNumber==e})?(this.isDuplicateCIF=!0,this.disableSaveBtn=!0,this.snack.open("Duplicate CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})):(this.isDuplicateCIF=!1,this.disableSaveBtn=!1,e&&this.appApiService.fetchByCif(e).subscribe(function(a){if(console.log(a),!a)return n.isCifValid=!1,n.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void n.applicant.get("cifNumber").patchValue("");a&&(n.isCifValid=!0,n.api.fetchAccountIdByCustId(e).subscribe(function(e){if(console.log(e),e){var o;n.ls.setItem("cId",a.customerInfoList[0].customerId),n.console.log(a.customerInfoList[0].userAddress.length),a.customerInfoList[0].userAddress.length>1?(o=a.customerInfoList[0].userAddress.find(function(e){return"Permanent"==e.addressType}),console.log(o)):(o=a.customerInfoList[0].userAddress[0],console.log(o)),n.getStateName(o.country),n.getCityName(o.state);var i={prefix:a.customerInfoList[0].prefix,cifNumber:a.customerInfoList[0].cifNumber,existingCustomer:t,customerId:a.customerInfoList[0].customerId,firstName:a.customerInfoList[0].firstName,middleName:a.customerInfoList[0].middleName,lastName:a.customerInfoList[0].lastName,gender:a.customerInfoList[0].gender,dateOfBirth:n.convertDate(a.customerInfoList[0].dateOfBirth),maritalStatus:a.customerInfoList[0].maritalStatus,placeOfBirth:a.customerInfoList[0].placeOfBirth,birthCountry:a.customerInfoList[0].birthCountry,residenceStatus:a.customerInfoList[0].residenceStatus,nationality:a.customerInfoList[0].citizenship,countryOfResidence:a.customerInfoList[0].countryOfResidence,occupationType:a.customerInfoList[0].occupationType,idType:a.customerInfoList[0].custIdProofs.length>0?a.customerInfoList[0].custIdProofs[0].idType:"",idNumber:a.customerInfoList[0].custIdProofs.length>0?a.customerInfoList[0].custIdProofs[0].idNumber:"",expiryDate:a.customerInfoList[0].custIdProofs.length>0?a.customerInfoList[0].custIdProofs[0].expiryDate:"",addressType:o.addressType,address1:o.address1,address2:o.address2,city:o.city,country:o.country,state:o.state,zipCode:o.zipCode,phoneNumber:a.customerInfoList[0].phoneNumber,landlineNumber:a.customerInfoList[0].landlineNumber,primaryEmailAdress:a.customerInfoList[0].primaryEmailAdress};n.onSelectionCountryOfresidence(i.countryOfResidence),n.onSelectionBirthCountry(i.birthCountry),n.onSelectionCitizenship(i.nationality),n.console.log("res.customerInfoList[0].firstName=",a.customerInfoList[0].firstName),n.customerName=a.customerInfoList[0].firstName+" "+a.customerInfoList[0].lastName,n.applicant.patchValue(i),console.log(n.applicant)}else n.isCifValid=!1,n.dialogService.alertForCustomerDialog().subscribe(function(e){console.log("response ::",e)}),n.applicant.get("cifNumber").patchValue("")})),n.cdr.markForCheck()},function(e){console.error(e)}))}},{key:"getCustomerInformationDetails",value:function(){var e=this;this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(function(t){e.buildCustomerForm(t)},function(e){})}},{key:"convertDate",value:function(e){var t=re(e).format("YYYY-MM-DD");if(console.log("date",t),t)return t}},{key:"buildCustomerForm",value:function(e){this.console.log(e),this.customerInfoForm=this.formBuilder.group({productAccountId:e?e.productAccountId:this.accountId,ownership:e?e[0].ownership:"Self",numOfApplicants:e?e[0].numOfApplicants:1,applicantDetails:this.addCustFormGroup()})}},{key:"toggleChanges",value:function(){1==this.applicant.get("existingCustomer").value?(this.applicant.get("cifNumber").enable(),this.applicant.get("cifNumber").setValidators([$.A.required]),this.applicant.get("cifNumber").updateValueAndValidity()):(this.applicant.get("cifNumber").disable(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity())}},{key:"toggleAddForm",value:function(){this.showNewForm=!this.showNewForm}},{key:"addCustFormGroup",value:function(){return this.formBuilder.group({existingCustomer:[null,[]],primaryCustomer:[null,[]],cifNumber:[""],customerId:[""],dependentId:[null],prefix:["",$.A.required],firstName:["",$.A.required],middleName:[""],maritalStatus:[""],birthCountry:[""],lastName:["",$.A.required],gender:["",$.A.required],dateOfBirth:["",$.A.required],placeOfBirth:["",$.A.required],residenceStatus:["",$.A.required],nationality:["",$.A.required],countryOfResidence:["",$.A.required],occupationType:["",$.A.required],idType:["",$.A.required],idNumber:["",$.A.required],expiryDate:[""],addressType:["",$.A.required],address1:["",[$.A.required,$.A.pattern(".*[a-zA-Z].*")]],address2:["",[$.A.required,$.A.pattern(".*[a-zA-Z].*")]],city:["",$.A.required],state:["",$.A.required],country:["",$.A.required],zipCode:["",[$.A.required,$.A.minLength(5),$.A.maxLength(10)]],phoneNumber:["",[$.A.required,$.A.minLength(3),$.A.maxLength(10),$.A.pattern("^[0-9]{10,12}$")]],landlineNumber:["",[$.A.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:["",[$.A.required,$.A.email]]})}},{key:"_keyPress",value:function(e){console.log(e.target.value);var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"keyPressAlphanumeric",value:function(e){var t=String.fromCharCode(e.keyCode);return!!/[a-zA-Z0-9]/.test(t)||(e.preventDefault(),!1)}},{key:"validateNumber",value:function(e){var t=e.keyCode;t>=48&&t<=57||t>=96&&t<=105||[8,37,39,46].includes(t)||e.preventDefault()}},{key:"f",get:function(){return this.customerInfoForm.controls}},{key:"applicantCount",get:function(){return this.f.numOfApplicants}},{key:"applicant",get:function(){return this.f.applicantDetails}},{key:"getPrefixValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayPrefix=e})}},{key:"getMaritalStatus",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.maritalStatusList=e})}},{key:"getOwnershipValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayOwnership=e})}},{key:"getGenderValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayGender=e})}},{key:"getCountryName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(e){for(var n=0;n<e.length;n++)"A"===e[n].authStatus&&(t.arrayCountry.push(e[n].countryName),t.arrayCountry.sort())})}},{key:"getAdressType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayAddressType=e})}},{key:"getStateName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(n){for(var a=0;a<n.length;a++)if(n[a].countryName==e){t.apiService.getStateByCountryId(n[a].id).subscribe(function(e){t.arrayState=e});break}})}},{key:"getCityName",value:function(e){var t=this;this.entityName="city",console.log(e),this.apiService.getDropDownValues1(this.entityName,e).subscribe(function(e){t.arrayCity=e,console.log("--\x3e",t.arrayCity),console.log("this.applicant",t.applicant)})}},{key:"getResidenceDetails",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayResidence=e})}},{key:"getDocumentType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.console.log(e),t.arrayDocumentType=e})}},{key:"onSubmit",value:function(){var e=this;this.submitted=!0,console.log("saveapplicant"),this.isCifValid=!1;var t={},n=this.customerInfoForm.controls.applicantDetails.value;console.log(n);var a={},o={},i=[],r=[];t.customerId=this.ls.getItem("cId"),t.cifNumber=n.cifNumber,t.dependentId=n.dependentId,t.existingCustomer=n.existingCustomer,t.primaryCustomer=n.primaryCustomer,t.residenceStatus=n.residenceStatus,t.placeOfBirth=n.placeOfBirth,t.countryOfResidence=n.countryOfResidence,t.occupationType=n.occupationType,t.phoneNumber=n.phoneNumber,t.primaryEmailAdress=n.primaryEmailAdress,t.prefix=n.prefix,t.firstName=n.firstName,t.middleName=n.middleName,t.lastName=n.lastName,t.cifNumber=n.cifNumber,t.gender=n.gender,t.dateOfBirth=n.dateOfBirth,t.birthCountry=n.birthCountry,t.maritalStatus=n.maritalStatus,t.nationality=n.nationality,t.loanAccountId=this.loanaccountID,t.accountType="loan",t.landlineNumber=n.landlineNumber,t.ownership=this.customerInfoForm.get("ownership").value,t.numOfApplicants=this.customerInfoForm.get("numOfApplicants").value,a.address1=n.address1,a.address2=n.address2,a.country=n.country,a.state=n.state,a.city=n.city,a.zipCode=n.zipCode,a.addressType=n.addressType,r.push(a),o.expiryDate=n.expiryDate,o.idType=n.idType,o.idNumber=n.idNumber,i.push(o),t.userAddress=r,t.custIdProofs=i,console.log("payloadObj",t),this.isChecked=!1,this.disabled=!1,this.appApiService.createAndUpdateAccountants(t).subscribe(function(t){console.log("data::",t),e.closeDetails(),e.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(e.getListOfAccounts(),e.snack.open(" Applicant is creating successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),1==t.custDependentModel.primaryCustomer&&e.ls.setItem("primaryCustomerName",t.custDependentModel.firstName+" "+t.custDependentModel.lastName),e.customerInfoForm.get("ownership").patchValue(t.custDependentModel.ownership),e.customerInfoForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants),"Self"==e.customerInfoForm.get("ownership").value&&e.goToNext())},function(t){console.log(t),e.loader.close(),e.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"uploadImage",value:function(){console.log("Upload Image")}},{key:"onReset",value:function(){this.submitted=!1,this.customerInfoForm.reset({})}},{key:"onClear",value:function(){this.submitted=!1}},{key:"goBack",value:function(){this.router.navigate("Classic Home Loan"==this.productName?["/loan/account/asset-details"]:"Vehicle Loan"==this.productName?["/loan/account/vehicle-details"]:["/loan/account/admission-details"])}},{key:"goToNext",value:function(){this.ls.setItem("CUSTOMERINFO_DETAIL_DONE",!0),this.accountService.refresh.next(),this.ls.setItem("LoanNoOfApplicants",this.customerInfoForm.get("numOfApplicants").value),this.ls.setItem("ownership_value",this.customerInfoForm.get("ownership").value),this.router.navigate(["/loan/account/mandate-details"])}},{key:"isAllSameDigit",value:function(e){var t=0,n=e.target.value;if(""!=n){for(var a=0;a<n.length;a++)0==n[a]&&t++;console.log("number :: ",n),console.log("isAllSameDigitVal :: ",t,n.length),t==n.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.dataService.sendNavParam({})}},{key:"onSelectionBirthCountry",value:function(e){var t=this;this.isBirthCountry=!0,this.birthCountryImage="",this.apiService.countryCurrencyFlaglists(e).subscribe(function(e){console.log(e),t.birthCountryImage=e.currencyId.currencyCode.toLowerCase()})}},{key:"onSelectionCitizenship",value:function(e){var t=this;this.citizenshipImage="",null!=e&&this.apiService.countryCurrencyFlaglists(e).subscribe(function(e){console.log(e),t.citizenshipImage=e.currencyId.currencyCode.toLowerCase(),console.log(t.citizenshipImage)})}},{key:"onSelectionCountryOfresidence",value:function(e){var t=this;this.countryResidenceImage="",null!=e&&(console.log(e),this.apiService.countryCurrencyFlaglists(e).subscribe(function(e){t.countryResidenceImage=e.currencyId.currencyCode.toLowerCase()}))}}]),t}()).\u0275fac=function(e){return new(e||db)(m.Rb(d.h),m.Rb(I.b),m.Rb(d.a),m.Rb(ue.a),m.Rb(m.l),m.Rb(x.b),m.Rb(m.I),m.Rb(W.a),m.Rb(x.b),m.Rb($.f),m.Rb(Sa.a),m.Rb(m.h),m.Rb(ln.a),m.Rb(A.a),m.Rb(da.a),m.Rb(C.a),m.Rb(_a.a),m.Rb(Pe.a))},db.\u0275cmp=m.Lb({type:db,selectors:[["app-customer-information"]],viewQuery:function(e,t){var n;1&e&&m.ad(_.a,!0),2&e&&m.Cc(n=m.gc())&&(t.progressBar=n.first)},inputs:{i:"i"},decls:23,vars:3,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","row wrap"],[1,"p-0"],["visible","true"],["novalidate","",3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],[4,"ngIf","ngIfElse"],["hideBtn",""],["novalidate","",3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["name","owner","formControlName","ownership","placeholder","Select","disableOptionCentering",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"marginChange"],["fxLayout","row","fxLayoutGap","16px","fxLayoutAlign","end end"],[1,"mb-1"],[1,"m-0","text-right"],["mode","determinate",1,"rounded",2,"height","5px",3,"color","value"],[1,"mt-12"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["class","mt-16",4,"ngIf"],[3,"value"],["formControlName","numOfApplicants","name","account","disableOptionCentering",""],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"ml-8"],[2,"margin-bottom","-16px !important"],["mat-card-avatar",""],[3,"name"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],["fxLayout","row","fxFlex","1 1 0%","fxLayoutAlign","end end"],[1,"group-btn-bg"],["showEdit",""],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["detailApplicant",""],["mat-sm-chip","",3,"color","selected"],["type","reset","mat-icon-button","","color","primary",3,"click"],["type","submit","mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mt-32",3,"formGroup"],["formGroupName","applicantDetails"],["formControlName","existingCustomer",3,"change"],[1,"mb-16"],["name","prefix","formControlName","prefix","disableOptionCentering",""],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","DD/MM/YYYY",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","20"],["matPrefix",""],["id","flag",3,"class",4,"ngIf"],["name","birthCountry","formControlName","birthCountry","required","","disableOptionCentering","",3,"selectionChange"],["name","residenceType","formControlName","residenceStatus","disableOptionCentering",""],[3,"class",4,"ngIf"],["name","resident","formControlName","countryOfResidence","required","","disableOptionCentering","",3,"selectionChange"],["name","idtype","formControlName","idType","disableOptionCentering","",3,"selectionChange"],["class","pb-1",4,"ngIf"],["formControlName","primaryCustomer"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","gender","formControlName","gender","disableOptionCentering",""],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],["name","citizen","formControlName","nationality","required","","disableOptionCentering","",3,"selectionChange"],[1,"p-1"],["name","maritalStatus","formControlName","maritalStatus","disableOptionCentering",""],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["matInput","","formControlName","address1","placeholder","Address 1"],["name","addressType","formControlName","addressType","disableOptionCentering",""],["name","state","formControlName","state","disableOptionCentering","",3,"selectionChange"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country","disableOptionCentering","",3,"selectionChange"],["name","city","formControlName","city","disableOptionCentering",""],["maxlength","10","matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number",3,"keypress"],["style","margin-top:-20px",4,"ngIf"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["mat-button","","color","primary",1,"paddingChange",3,"disabled","click"],["id","flag"],["matInput","","name","date","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"required","matDatepicker","min"],["appDatepicker1",""],[2,"color","#E74C3C"],[2,"margin-top","-20px"],[1,"mt-16"],[1,"mb-8","borderStyle",3,"expanded"],[1,"marginData"],[1,"textDesign"],[1,"design"],[1,"pb-1","pt-3"],["formControlName","existingCustomer",3,"ngModel","disabled","change","ngModelChange"],["fxLayout","row","fxLayoutGap","2px","fxLayoutAlign","space-between"],["fxFlex","100","fxFlexAlign","center"],["matInput","","required","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"readonly","formControl","matAutocomplete","keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","err-msg",4,"ngIf"],["class","hintColor",4,"ngIf"],["auto","matAutocomplete"],["name","birthCountry","formControlName","birthCountry","placeholder","Select","required","","disableOptionCentering","",3,"selectionChange"],["name","resident","formControlName","countryOfResidence","required","","placeholder","Select","disableOptionCentering","",3,"selectionChange"],["class","pb-1 pt-3",4,"ngIf"],[1,"pb-1","topChange"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')"],["name","citizen","formControlName","nationality","placeholder","Select","required","","disableOptionCentering","",3,"selectionChange"],["name","maritalStatus","formControlName","maritalStatus","required","","disableOptionCentering",""],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID","maxlength","12",3,"keypress"],["name","","formControlName","country","disableOptionCentering","",3,"selectionChange"],["mat-button","","color","primary","class","paddingChange",3,"disabled","click",4,"ngIf","ngIfElse"],["openSave",""],["matSuffix","","color","primary"],[1,"err-msg"],[1,"hintColor"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],["fxFlex","80"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","90%","margin-bottom","50px",3,"src"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"matDatepicker","min"],["fxFlex","8%","id","toggle"],["formControlName","primaryCustomer",3,"disabled"],["mat-button","","color","primary",1,"paddingChange",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h1"),m.Tc(7,"Customer Information"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"div",1),m.Xb(10,"mat-card",7),m.Xb(11,"mat-card-title"),m.Xb(12,"fieldset"),m.Xb(13,"legend",8),m.Tc(14,"Customer Information Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(15,"mat-card-content"),m.Rc(16,bb,32,11,"form",9),m.Wb(),m.Wb(),m.Xb(17,"div",10),m.Xb(18,"button",11),m.fc("click",function(){return t.goBack()}),m.Tc(19," Back "),m.Wb(),m.Rc(20,ub,3,1,"ng-container",12),m.Rc(21,mb,2,1,"ng-template",null,13,m.Sc),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(22);m.Eb(16),m.rc("ngIf",t.customerInfoForm),m.Eb(4),m.rc("ngIf","Joint"==t.customerInfoForm.get("ownership").value)("ngIfElse",n)}},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,g.c,g.g,J.a,$.r,$.i,Z.n,u.m,_.a,g.f,Za.a,g.b,Za.c,Za.e,Za.f,O.a,f.e,f.c,f.g,Zc.a,h.a,u.s,$.k,de.a,Q.b,$.c,ce.e,ce.g,g.j,ce.d,g.i,$.z,$.m,$.x,$.n,Ja.a,S.a,p.a,Kc.c,$.h,Kc.a,es.b],pipes:[u.w,u.v],styles:[".currency-flag[_ngcontent-%COMP%]{display:inline-block;width:24px!important;height:16px!important;background-size:cover;background-image:url(https://wise.com/public-resources/assets/flags/rectangle_fallback.png)}.currency-flag-sm[_ngcontent-%COMP%]{width:16px;height:10px}.currency-flag-lg[_ngcontent-%COMP%]{width:36px;height:24px}.currency-flag-xl[_ngcontent-%COMP%]{width:48px;height:32px}  .cdk-overlay-pane{min-width:270px!important;padding:7px 0}  .mat-card-avatar{max-width:15%!important}.err-msg[_ngcontent-%COMP%]{color:var(--danger)}.example-header-image-dropdown[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;background-size:cover;background-color:#aed6f1;max-width:15%!important;width:25px;height:35px;border-radius:50%}.currency-flag.currency-flag-aed[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aed.png)}.currency-flag.currency-flag-afn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/afn.png)}.currency-flag.currency-flag-all[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/all.png)}.currency-flag.currency-flag-amd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/amd.png)}.currency-flag.currency-flag-ang[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ang.png)}.currency-flag.currency-flag-aoa[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aoa.png)}.currency-flag.currency-flag-ars[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ars.png)}.currency-flag.currency-flag-aud[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aud.png)}.currency-flag.currency-flag-awg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/awg.png)}.currency-flag.currency-flag-azn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/azn.png)}.currency-flag.currency-flag-bam[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bam.png)}.currency-flag.currency-flag-bbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bbd.png)}.currency-flag.currency-flag-bdt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bdt.png)}.currency-flag.currency-flag-bgn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bgn.png)}.currency-flag.currency-flag-bhd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bhd.png)}.currency-flag.currency-flag-bif[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bif.png)}.currency-flag.currency-flag-bmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bmd.png)}.currency-flag.currency-flag-bnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bnd.png)}.currency-flag.currency-flag-bob[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bob.png)}.currency-flag.currency-flag-brl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/brl.png)}.currency-flag.currency-flag-bsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bsd.png)}.currency-flag.currency-flag-btn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/btn.png)}.currency-flag.currency-flag-bwp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bwp.png)}.currency-flag.currency-flag-byn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/byn.png)}.currency-flag.currency-flag-bzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bzd.png)}.currency-flag.currency-flag-cad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cad.png)}.currency-flag.currency-flag-cdf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cdf.png)}.currency-flag.currency-flag-chf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/chf.png)}.currency-flag.currency-flag-clp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/clp.png)}.currency-flag.currency-flag-cny[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cny.png)}.currency-flag.currency-flag-cop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cop.png)}.currency-flag.currency-flag-crc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/crc.png)}.currency-flag.currency-flag-cup[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cup.png)}.currency-flag.currency-flag-cve[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cve.png)}.currency-flag.currency-flag-czk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/czk.png)}.currency-flag.currency-flag-djf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/djf.png)}.currency-flag.currency-flag-dkk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dkk.png)}.currency-flag.currency-flag-dop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dop.png)}.currency-flag.currency-flag-dzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dzd.png)}.currency-flag.currency-flag-egp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/egp.png)}.currency-flag.currency-flag-ern[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ern.png)}.currency-flag.currency-flag-etb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/etb.png)}.currency-flag.currency-flag-eur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/eur.png)}.currency-flag.currency-flag-fjd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fjd.png)}.currency-flag.currency-flag-fkp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fkp.png)}.currency-flag.currency-flag-gbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gbp.png)}.currency-flag.currency-flag-gel[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gel.png)}.currency-flag.currency-flag-ghs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ghs.png)}.currency-flag.currency-flag-gip[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gip.png)}.currency-flag.currency-flag-gmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gmd.png)}.currency-flag.currency-flag-gnf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gnf.png)}.currency-flag.currency-flag-gtq[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gtq.png)}.currency-flag.currency-flag-gyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gyd.png)}.currency-flag.currency-flag-hkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hkd.png)}.currency-flag.currency-flag-hnl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hnl.png)}.currency-flag.currency-flag-hrk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hrk.png)}.currency-flag.currency-flag-htg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/htg.png)}.currency-flag.currency-flag-huf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/huf.png)}.currency-flag.currency-flag-idr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/idr.png)}.currency-flag.currency-flag-ils[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ils.png)}.currency-flag.currency-flag-inr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/inr.png)}.currency-flag.currency-flag-iqd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/iqd.png)}.currency-flag.currency-flag-irr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/irr.png)}.currency-flag.currency-flag-isk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/isk.png)}.currency-flag.currency-flag-jmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jmd.png)}.currency-flag.currency-flag-jod[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jod.png)}.currency-flag.currency-flag-jpy[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jpy.png)}.currency-flag.currency-flag-kes[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kes.png)}.currency-flag.currency-flag-kgs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kgs.png)}.currency-flag.currency-flag-khr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/khr.png)}.currency-flag.currency-flag-kmf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kmf.png)}.currency-flag.currency-flag-kpw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kpw.png)}.currency-flag.currency-flag-krw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/krw.png)}.currency-flag.currency-flag-kwd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kwd.png)}.currency-flag.currency-flag-kyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kyd.png)}.currency-flag.currency-flag-kzt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kzt.png)}.currency-flag.currency-flag-lak[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lak.png)}.currency-flag.currency-flag-lbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lbp.png)}.currency-flag.currency-flag-lkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lkr.png)}.currency-flag.currency-flag-lrd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lrd.png)}.currency-flag.currency-flag-ltl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ltl.png)}.currency-flag.currency-flag-lyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lyd.png)}.currency-flag.currency-flag-mad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mad.png)}.currency-flag.currency-flag-mdl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mdl.png)}.currency-flag.currency-flag-mga[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mga.png)}.currency-flag.currency-flag-mkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mkd.png)}.currency-flag.currency-flag-mmk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mmk.png)}.currency-flag.currency-flag-mnt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mnt.png)}.currency-flag.currency-flag-mop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mop.png)}.currency-flag.currency-flag-mro[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mro.png)}.currency-flag.currency-flag-mur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mur.png)}.currency-flag.currency-flag-mvr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mvr.png)}.currency-flag.currency-flag-mwk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mwk.png)}.currency-flag.currency-flag-mxn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mxn.png)}.currency-flag.currency-flag-myr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/myr.png)}.currency-flag.currency-flag-mzn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mzn.png)}.currency-flag.currency-flag-nad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nad.png)}.currency-flag.currency-flag-ngn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ngn.png)}.currency-flag.currency-flag-nio[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nio.png)}.currency-flag.currency-flag-nok[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nok.png)}.currency-flag.currency-flag-npr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/npr.png)}.currency-flag.currency-flag-nzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nzd.png)}.currency-flag.currency-flag-omr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/omr.png)}.currency-flag.currency-flag-pen[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pen.png)}.currency-flag.currency-flag-pgk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pgk.png)}.currency-flag.currency-flag-php[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/php.png)}.currency-flag.currency-flag-pkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pkr.png)}.currency-flag.currency-flag-pln[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pln.png)}.currency-flag.currency-flag-pyg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pyg.png)}.currency-flag.currency-flag-qar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/qar.png)}.currency-flag.currency-flag-ron[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ron.png)}.currency-flag.currency-flag-rsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rsd.png)}.currency-flag.currency-flag-rub[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rub.png)}.currency-flag.currency-flag-rwf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rwf.png)}.currency-flag.currency-flag-sar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sar.png)}.currency-flag.currency-flag-sbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sbd.png)}.currency-flag.currency-flag-scr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/scr.png)}.currency-flag.currency-flag-sek[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sek.png)}.currency-flag.currency-flag-sgd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sgd.png)}.currency-flag.currency-flag-shp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/shp.png)}.currency-flag.currency-flag-sll[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sll.png)}.currency-flag.currency-flag-sos[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sos.png)}.currency-flag.currency-flag-srd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/srd.png)}.currency-flag.currency-flag-std[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/std.png)}.currency-flag.currency-flag-svc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/svc.png)}.currency-flag.currency-flag-syp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/syp.png)}.currency-flag.currency-flag-szl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/szl.png)}.currency-flag.currency-flag-thb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/thb.png)}.currency-flag.currency-flag-tjs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tjs.png)}.currency-flag.currency-flag-tnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tnd.png)}.currency-flag.currency-flag-top[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/top.png)}.currency-flag.currency-flag-try[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/try.png)}.currency-flag.currency-flag-ttd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ttd.png)}.currency-flag.currency-flag-twd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/twd.png)}.currency-flag.currency-flag-tzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tzs.png)}.currency-flag.currency-flag-uah[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uah.png)}.currency-flag.currency-flag-ugx[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ugx.png)}.currency-flag.currency-flag-usd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/usd.png)}.currency-flag.currency-flag-uyu[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uyu.png)}.currency-flag.currency-flag-uzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uzs.png)}.currency-flag.currency-flag-vef[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vef.png)}.currency-flag.currency-flag-vnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vnd.png)}.currency-flag.currency-flag-vuv[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vuv.png)}.currency-flag.currency-flag-wst[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/wst.png)}.currency-flag.currency-flag-xaf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xaf.png)}.currency-flag.currency-flag-xcd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xcd.png)}.currency-flag.currency-flag-xof[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xof.png)}.currency-flag.currency-flag-xpf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xpf.png)}.currency-flag.currency-flag-yer[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/yer.png)}.currency-flag.currency-flag-zar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zar.png)}.currency-flag.currency-flag-zmw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zmw.png)}#flag[_ngcontent-%COMP%]{width:48px;height:30px}mat-card.mat-focus-indicator.widthCard.inputMatName[_ngcontent-%COMP%]{height:53px}.marginAlign[_ngcontent-%COMP%], .marginChange[_ngcontent-%COMP%]{margin-left:0!important}.marginAlign[_ngcontent-%COMP%]{height:53px}.paddingChange[_ngcontent-%COMP%]{padding-left:0!important}input[_ngcontent-%COMP%]{border:none;outline:none}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px;opacity:1}textarea[_ngcontent-%COMP%]{border:none;outline:none}"]}),db);function fb(e,t){if(1&e&&(m.Xb(0,"mat-option",40),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.Eb(1),m.Vc(" ",n," ")}}function gb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please enter Asset Type!"),m.Wb(),m.Wb())}function hb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please enter Asset Type!"),m.Wb(),m.Wb())}function vb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please enter Property Area!"),m.Wb(),m.Wb())}function yb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please enter Borrowers Market Value of Asset!"),m.Wb(),m.Wb())}function Wb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please select Asset Valuer"),m.Wb(),m.Wb())}function Xb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please Select Valuation Date!"),m.Wb(),m.Wb())}function xb(e,t){if(1&e&&(m.Xb(0,"mat-option",41),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.Eb(1),m.Vc(" ",n," ")}}function Cb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Please Select Actual Area of the Property!"),m.Wb(),m.Wb())}var Ib,Ab=((Ib=function(){function e(t,n,o,i,r,c){a(this,e),this.formBuilder=t,this.ls=n,this.loader=o,this.apiService=i,this.snack=r,this.router=c,this.bankValuationArr=["internal","external"],this.areaArr=["sq","hectare"],this.showEditOption=!1,this.assetValuation=this.formBuilder.group({bankValuation:["",[$.A.required]],assetType:["",[$.A.required]],propertyAreaSize:["",[$.A.required]],mktValOfAsset:["",[$.A.required]],assetValue:["",[$.A.required]],valuationDate:["",[$.A.required]],actualPropertyAreaSize:["",[$.A.required]],actualPropertyAreaInUnits:["",[$.A.required]]})}return i(e,[{key:"ngOnInit",value:function(){JSON.parse(this.ls.getItem("valuationAsset"))?(this.showEditOption=!0,this.getAccountDetails()):(console.log("else"),this.showEditOption=!1,this.buildOfferIssueForm())}},{key:"getAccountDetails",value:function(){var e=this;this.loader.open(),this.apiService.getAssetValuation(112).subscribe(function(t){e.loader.close(),e.accountDetails=t,console.log(e.accountDetails),e.buildOfferIssueForm(e.accountDetails)},function(t){e.loader.close()})}},{key:"buildOfferIssueForm",value:function(e){this.assetValuation=this.formBuilder.group({bankValuation:[e?e.bankValuation:""],assetType:[e?e.assetType:""],propertyAreaSize:[e?e.propertyAreaSize:""],mktValOfAsset:[e?e.mktValOfAsset:""],assetValue:[e?e.assetValue:""],valuationDate:[e?e.valuationDate:""],actualPropertyAreaSize:[e?e.actualPropertyAreaSize:""],actualPropertyAreaInUnits:[e?e.actualPropertyAreaInUnits:""]})}},{key:"goBack",value:function(){this.router.navigate(["/loan/offer-issue/credit-rating"])}},{key:"submit",value:function(){var e=this,t=new Date;t=this.assetValuation.value.valuationDate;var n=re(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",n);var a=this.assetValuation.value.actualPropertyAreaSize;a=parseInt(a);var o=this.assetValuation.value.propertyAreaSize;o=parseInt(o);var i={loanAccountId:parseInt("112"),bankValuation:this.assetValuation.value.bankValuation,assetType:this.assetValuation.value.assetType,propertyAreaSize:o,mktValOfAsset:this.assetValuation.value.mktValOfAsset,assetValue:this.assetValuation.value.assetValue,actualPropertyAreaInUnits:this.assetValuation.value.actualPropertyAreaInUnits,valuationDate:n,actualPropertyAreaSize:a};console.log("payload",i),this.apiService.saveOrValuationOfAsset(i).subscribe(function(t){console.log("data",t),null!=t&&e.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.next()}},{key:"next",value:function(){this.ls.setItem("valuationAsset",!0),this.router.navigate(["/loan/account/list/offer-issue/legal-opinion"])}},{key:"keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"onInput",value:function(e,t){this.marketValue=t?e.target.value:e,console.log("this.salary)::",this.marketValue);var n=this.marketValue.toString().replace(/,/g,"").split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var a=n.join(".");console.log("final",a),this.assetValuation.controls.mktValOfAsset.setValue(a)}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||Ib)(m.Rb($.f),m.Rb(W.a),m.Rb(Pe.a),m.Rb(x.b),m.Rb(A.a),m.Rb(d.h))},Ib.\u0275cmp=m.Lb({type:Ib,selectors:[["app-asset-valuation"]],decls:123,vars:15,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"card-title-text"],[3,"formGroup"],["fxLayout","column",2,"border-radius","30px"],[1,"container"],[1,"text","mat-typography"],[1,"line"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["disableOptionCentering","",1,"alignment",3,"formControl"],["value","bankValuation",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","assetType","type","text","name","assetType","required","",1,"alignment"],["fxLayout","column","fxFlex","100"],["fxLayout","row"],["fxFlex","15%",1,"flex-grow-1"],["fxFlex","85%",1,"flex-grow-1"],["matInput","","formControlName","propertyAreaSize","type","text",1,"alignment",3,"keypress"],["matInput","","formControlName","mktValOfAsset","type","text",1,"alignment",3,"keypress","keyup"],["formControlName","assetValue","disableOptionCentering",""],["value",""],["value","Bank Manager"],["value","Bank Clerk"],["value","Bank Accountant"],["matInput","","readonly","","formControlName","valuationDate",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle"],["matSuffix","",3,"for"],["appDatepicker",""],["value","actualPropertyAreaInUnits",4,"ngFor","ngForOf"],["matInput","","formControlName","actualPropertyAreaSize","type","text",1,"alignment",3,"keypress"],["disableOptionCentering",""],["fxLayout","row",1,"button"],["mat-button","","rounded","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"disabled","click"],["value","bankValuation"],["value","actualPropertyAreaInUnits"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h1"),m.Tc(7,"Valuation of Asset"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",0),m.Xb(9,"form",6),m.Xb(10,"mat-card",7),m.Xb(11,"div",8),m.Xb(12,"div",9),m.Tc(13,"Valuation Details"),m.Wb(),m.Xb(14,"div",10),m.Sb(15,"mat-divider"),m.Wb(),m.Wb(),m.Xb(16,"div",11),m.Xb(17,"div",12),m.Xb(18,"label",13),m.Tc(19,"Bank Valuation* "),m.Wb(),m.Xb(20,"mat-card",14),m.Xb(21,"mat-select",15),m.Xb(22,"mat-option"),m.Tc(23,"select"),m.Wb(),m.Rc(24,fb,2,1,"mat-option",16),m.Wb(),m.Wb(),m.Rc(25,gb,3,0,"mat-error",17),m.Wb(),m.Xb(26,"div",12),m.Xb(27,"label",13),m.Tc(28,"Asset Type*"),m.Wb(),m.Xb(29,"mat-card",14),m.Sb(30,"input",18),m.Wb(),m.Rc(31,hb,3,0,"mat-error",17),m.Wb(),m.Wb(),m.Xb(32,"div",11),m.Xb(33,"div",19),m.Xb(34,"label",13),m.Tc(35,"Property Area*"),m.Wb(),m.Xb(36,"div",20),m.Xb(37,"div",21),m.Xb(38,"mat-card",14),m.Tc(39," Sq "),m.Wb(),m.Wb(),m.Xb(40,"div",22),m.Xb(41,"mat-card",14),m.Xb(42,"input",23),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Rc(43,vb,3,0,"mat-error",17),m.Wb(),m.Wb(),m.Wb(),m.Xb(44,"div",12),m.Xb(45,"label",13),m.Tc(46,"Borrowers MArket Value of Asset*"),m.Wb(),m.Xb(47,"mat-card",14),m.Xb(48,"input",24),m.fc("keypress",function(e){return t.keyPress1(e)})("keyup",function(e){return t.onInput(e,!0)}),m.Wb(),m.Wb(),m.Rc(49,yb,3,0,"mat-error",17),m.Wb(),m.Wb(),m.Xb(50,"div",11),m.Xb(51,"div",12),m.Xb(52,"label",13),m.Tc(53,"Asset Valuer*"),m.Wb(),m.Xb(54,"mat-card",14),m.Xb(55,"mat-select",25),m.Xb(56,"mat-option",26),m.Tc(57,"Select"),m.Wb(),m.Xb(58,"mat-option",27),m.Tc(59,"Bank Manager"),m.Wb(),m.Xb(60,"mat-option",28),m.Tc(61,"Bank Clerk"),m.Wb(),m.Xb(62,"mat-option",29),m.Tc(63,"Bank Accountant"),m.Wb(),m.Wb(),m.Wb(),m.Rc(64,Wb,3,0,"mat-error",17),m.Wb(),m.Xb(65,"div",12),m.Xb(66,"label",13),m.Tc(67,"Valuation Date*"),m.Wb(),m.Xb(68,"mat-card",14),m.Sb(69,"input",30),m.Xb(70,"div",31),m.Sb(71,"mat-datepicker-toggle",32),m.Sb(72,"mat-datepicker",null,33),m.Wb(),m.Wb(),m.Rc(74,Xb,3,0,"mat-error",17),m.Wb(),m.Wb(),m.Xb(75,"div",11),m.Xb(76,"div",19),m.Xb(77,"label",13),m.Tc(78,"Actual Area of the Property*"),m.Wb(),m.Xb(79,"div",20),m.Xb(80,"div",21),m.Xb(81,"mat-card",14),m.Xb(82,"mat-select",15),m.Xb(83,"mat-option"),m.Tc(84,"select"),m.Wb(),m.Rc(85,xb,2,1,"mat-option",34),m.Wb(),m.Wb(),m.Wb(),m.Xb(86,"div",22),m.Xb(87,"mat-card",14),m.Xb(88,"input",35),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Rc(89,Cb,3,0,"mat-error",17),m.Wb(),m.Wb(),m.Wb(),m.Xb(90,"div",12),m.Xb(91,"label",13),m.Tc(92,"Face Value of Asset"),m.Wb(),m.Xb(93,"mat-card",14),m.Xb(94,"mat-select",36),m.Xb(95,"mat-option",26),m.Tc(96,"Currency"),m.Wb(),m.Xb(97,"mat-option",26),m.Tc(98,"INR"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(99,"div",11),m.Xb(100,"div",12),m.Xb(101,"label",13),m.Tc(102,"Market Value of Asset"),m.Wb(),m.Xb(103,"mat-card",14),m.Xb(104,"mat-select",36),m.Xb(105,"mat-option",26),m.Tc(106,"Currency"),m.Wb(),m.Xb(107,"mat-option",26),m.Tc(108,"INR"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(109,"div",12),m.Xb(110,"label",13),m.Tc(111,"Forced Sale VAlue"),m.Wb(),m.Xb(112,"mat-card",14),m.Xb(113,"mat-select",36),m.Xb(114,"mat-option",26),m.Tc(115,"Currency"),m.Wb(),m.Xb(116,"mat-option",26),m.Tc(117,"INR"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(118,"div",37),m.Xb(119,"button",38),m.fc("click",function(){return t.goBack()}),m.Tc(120," Back "),m.Wb(),m.Xb(121,"button",39),m.fc("click",function(){return t.submit()}),m.Tc(122," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(73);m.Eb(9),m.rc("formGroup",t.assetValuation),m.Eb(12),m.rc("formControl",t.assetValuation.controls.bankValuation),m.Eb(3),m.rc("ngForOf",t.bankValuationArr),m.Eb(1),m.rc("ngIf",t.assetValuation.get("bankValuation").touched&&!t.assetValuation.get("bankValuation").valid),m.Eb(6),m.rc("ngIf",t.assetValuation.get("assetType").touched&&!t.assetValuation.get("assetType").valid),m.Eb(12),m.rc("ngIf",t.assetValuation.get("propertyAreaSize").touched&&!t.assetValuation.get("propertyAreaSize").valid),m.Eb(6),m.rc("ngIf",t.assetValuation.get("mktValOfAsset").touched&&!t.assetValuation.get("mktValOfAsset").valid),m.Eb(15),m.rc("ngIf",t.assetValuation.get("assetValue").touched&&!t.assetValuation.get("assetValue").valid),m.Eb(5),m.rc("matDatepicker",n),m.Eb(2),m.rc("for",n),m.Eb(3),m.rc("ngIf",t.assetValuation.get("valuationDate").touched&&!t.assetValuation.get("valuationDate").valid),m.Eb(8),m.rc("formControl",t.assetValuation.controls.actualPropertyAreaInUnits),m.Eb(3),m.rc("ngForOf",t.areaArr),m.Eb(4),m.rc("ngIf",t.assetValuation.get("actualPropertyAreaSize").touched&&!t.assetValuation.get("actualPropertyAreaSize").valid),m.Eb(32),m.rc("disabled",!t.assetValuation.get("bankValuation").valid)}},directives:[p.e,p.b,$.C,$.s,$.j,f.a,S.a,p.f,J.a,$.r,$.h,Z.n,u.m,u.n,Q.b,$.c,$.i,$.z,ce.e,ce.g,g.j,ce.d,h.b,g.b],styles:[".inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:10px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;padding-left:20px}.line[_ngcontent-%COMP%]{flex:1;margin-left:90px}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}"]}),Ib),Ob=function(){return{y:"50px",delay:"300ms"}},Tb=function(e){return{value:"*",params:e}};function Db(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",18),m.Xb(1,"mat-card"),m.Xb(2,"div",19),m.Xb(3,"div",20),m.Xb(4,"mat-icon",21),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",22),m.Xb(7,"h6"),m.Tc(8,"Offer Issue Stage Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",23),m.Xb(10,"button",24),m.fc("click",function(){return m.Hc(n),m.jc().goToOfferIssue()}),m.Tc(11," View Summary "),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,Tb,m.wc(1,Ob))))}function kb(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",24),m.fc("click",function(){return m.Hc(n),m.jc().goToOfferIssue()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Sb=function(){return["/loan/account/list/offer-issue/offerissue"]};function _b(e,t){1&e&&(m.Xb(0,"button",25),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,Sb))}var Rb,Eb=((Rb=function(){function e(t,n,o,i,r,c){a(this,e),this.router=t,this.dialogService=n,this.route=o,this.ls=i,this.cdr=r,this.accountService=c,this.isCreditRatingScreen=!1,this.isValuationAssetScreen=!1,this.islegalOpinionScreen=!1,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this,t=this.ls.getItem("overDraftByStatus")||null;console.log("fetch",t),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isOfferIssueScreen=this.ls.getItem("OfferIssue"),this.islegalOpinionScreen=this.ls.getItem("legalScreen"),this.isValuationAssetScreen=this.ls.getItem("valuationAsset"),this.isCreditRatingScreen=this.ls.getItem("CreditRatingDetails"),this.accountService.refresh.subscribe(function(t){e.islegalOpinionScreen=e.ls.getItem("legalScreen"),e.isValuationAssetScreen=e.ls.getItem("valuationAsset"),e.isAssesmentDetailsScreen=e.ls.getItem("assessmentScreen"),e.isOfferIssueScreen=e.ls.getItem("OfferIssue"),e.isCreditRatingScreen=e.ls.getItem("CreditRatingDetails"),e.cdr.markForCheck()})}},{key:"goToAccountDetails",value:function(){this.dialogService.assetValutionSummaryDialog()}},{key:"goToLegalOpinion",value:function(){this.dialogService.legalopinionSummaryDialog()}},{key:"goToAssesmentDetails",value:function(){this.dialogService.offeredAssessmentSummaryDialog()}},{key:"goToOfferIssue",value:function(){this.dialogService.offerIssue1SummaryDialog()}},{key:"goCreditDetails",value:function(){this.dialogService.CreditRatingDetailsDialog()}}]),e}()).\u0275fac=function(e){return new(e||Rb)(m.Rb(d.h),m.Rb(da.a),m.Rb(d.a),m.Rb(W.a),m.Rb(m.h),m.Rb(X.a))},Rb.\u0275cmp=m.Lb({type:Rb,selectors:[["app-offer-issue-stage"]],decls:30,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf","ngIfElse"],["showOffer",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create Retail Loan Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,Db,12,4,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card"),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1. Offer Issue"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",11),m.Xb(20,"div",12),m.Xb(21,"p",13),m.Tc(22," Enables the Approver to capture the OfferIssue date. "),m.Wb(),m.Wb(),m.Xb(23,"div",14),m.Sb(24,"img",15),m.Wb(),m.Wb(),m.Wb(),m.Sb(25,"mat-divider"),m.Xb(26,"mat-card-actions"),m.Rc(27,kb,5,0,"ng-container",16),m.Rc(28,_b,4,2,"ng-template",null,17,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(29);m.Eb(11),m.rc("ngIf",t.isOfferIssueScreen),m.Eb(13),m.rc("src","assets/images/svg/MaskGroup_17.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isOfferIssueScreen)("ngIfElse",n)}},directives:[p.e,p.b,u.n,f.a,f.e,f.h,f.d,p.f,p.d,S.a,f.b,O.a,h.b,d.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}"]}),Rb);function Mb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Number of Applicants is Required! "),m.Wb())}function Pb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Applicant Name is Required! "),m.Wb())}function Nb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Collateral Share Percentage is Required! "),m.Wb())}function wb(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",22),m.Xb(1,"div",23),m.Xb(2,"mat-accordion",24),m.Xb(3,"mat-expansion-panel",25),m.fc("opened",function(){return m.Hc(n),m.jc(2).panelOpenState=!0})("closed",function(){return m.Hc(n),m.jc(2).panelOpenState=!1}),m.Xb(4,"mat-expansion-panel-header",26),m.Xb(5,"mat-panel-title",27),m.Tc(6),m.Wb(),m.Wb(),m.Sb(7,"mat-divider",28),m.Xb(8,"div"),m.Xb(9,"div",29),m.Xb(10,"div",30),m.Xb(11,"mat-form-field",16),m.Xb(12,"mat-label"),m.Tc(13,"Applicant Name"),m.Wb(),m.Sb(14,"input",31),m.Rc(15,Pb,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Xb(16,"div",32),m.Xb(17,"mat-form-field",16),m.Xb(18,"mat-label"),m.Tc(19,"Collateral Share Percentage"),m.Wb(),m.Xb(20,"input",33),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)}),m.Wb(),m.Rc(21,Nb,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Xb(22,"div",30),m.Xb(23,"mat-form-field",16),m.Xb(24,"mat-label"),m.Tc(25,"Repayment Share Percentage"),m.Wb(),m.Sb(26,"input",34),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div",35),m.Xb(28,"div"),m.Xb(29,"button",36),m.fc("click",function(){return m.Hc(n),m.jc(2).addMandate("")}),m.Tc(30," ADD MANDATE"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=t.$implicit,o=t.index,i=m.jc(2);m.Eb(1),m.rc("formGroupName",o),m.Eb(5),m.Vc(" Mandate ",o+1," "),m.Eb(9),m.rc("ngIf",!a.controls.applicantName.valid&&a.controls.applicantName.touched),m.Eb(6),m.rc("ngIf",!a.controls.collateralShare.valid&&a.controls.collateralShare.touched),m.Eb(8),m.rc("disabled",(null==i.mandateInfo?null:i.mandateInfo.invalid)||i.noOfApplicants==i.count)}}function Fb(e,t){if(1&e&&(m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",15),m.Xb(4,"mat-form-field",16),m.Xb(5,"mat-label"),m.Tc(6,"Number of Applicants"),m.Wb(),m.Sb(7,"input",17),m.Rc(8,Mb,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",19),m.Xb(10,"form",20),m.Rc(11,wb,31,5,"div",21),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.mandateDetailsForm),m.Eb(8),m.rc("ngIf",!n.mandateDetailsForm.get("noOfApplicants").valid&&n.mandateDetailsForm.get("noOfApplicants").touched),m.Eb(2),m.rc("formGroup",n.mandateInfo),m.Eb(1),m.rc("ngForOf",n.mandateInfo.get("mandateInfo_array").controls)}}var Lb,Vb=((Lb=function(){function e(t,n,o,i,r,c,s,l,b,u){a(this,e),this.fb=t,this.ls=n,this.loader=o,this.apiService=i,this.router=r,this.snack=c,this.accountService=s,this.confirmService=l,this.cdr=b,this.appApiService=u,this.panelOpenState=!1,this.showEditOption=!1,this.mandateId=0,this.count=0}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.buildformGroup(),this.noOfApplicants=this.ls.getItem("LoanNoOfApplicants"),this.mandateInfo=this.fb.group({mandateInfo_array:this.fb.array([])}),this.mandateId=0,this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);var t=JSON.parse(this.ls.getItem("MANDATE_DETAIL_DONE"));setTimeout(function(){e.loanaccountID&&t?(e.showEditOption=!0,e.getMandateDetails()):(e.addMandate(""),e.showEditOption=!1,e.buildformGroup())},10),console.log("FORM::",this.mandateInfo.get("mandateInfo_array").controls)}},{key:"getMandateDetails",value:function(){var e=this;this.loader.open(),this.apiService.getMandateDetailsByLoanAccId(this.loanaccountID).subscribe(function(t){if(e.loader.close(),e.mandateDetails=t,console.log(e.mandateDetails),e.buildformGroup(e.mandateDetails),t)for(var n=0;n<t.mandateDetails.length;n++)e.addMandate(t.mandateDetails[n])},function(t){e.loader.close()})}},{key:"buildformGroup",value:function(e){this.mandateDetailsForm=this.fb.group({noOfApplicants:[e?e.noOfApplicants:"",$.A.required],registered:[!!e&&e.registered,$.A.required]}),this.mandateDetailsForm.get("noOfApplicants").setValue(this.noOfApplicants)}},{key:"createMandateDetail",value:function(e){return this.fb.group({applicantName:e?e.applicantName:["",$.A.required],collateralShare:e?e.collateralShare:["",[$.A.required,$.A.minLength(1),$.A.maxLength(2)]],repaymentShare:e?e.repaymentShare:[""],mandateId:"",mandateDetailsId:""})}},{key:"addMandate",value:function(e){console.log(e),this.mandateInfo_array=this.mandateInfo.get("mandateInfo_array"),this.mandateInfo_array.push(this.createMandateDetail(e)),this.count++,console.log(this.count),this.applicantNameFetch()}},{key:"applicantNameFetch",value:function(){var e=this;this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(function(t){var n=e.mandateInfo.get("mandateInfo_array");switch(e.count){case 1:console.log(n),n.controls[0].get("applicantName").setValue(t.data[0].firstName+" "+t.data[0].lastName);break;case 2:e.mandateInfo_array.controls[1].get("applicantName").setValue(t.data[1].firstName+" "+t.data[1].lastName);break;case 3:e.mandateInfo_array.controls[2].get("applicantName").setValue(t.data[2].firstName+" "+t.data[2].lastName);break;case 4:e.mandateInfo_array.controls[3].get("applicantName").setValue(t.data[3].firstName+" "+t.data[3].lastName);break;default:e.mandateInfo_array.controls[4].get("applicantName").setValue(t.data[4].firstName+" "+t.data[4].lastName)}})}},{key:"removeMandate",value:function(e){var t=this;console.log("i",e),this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(function(n){console.log("res:: removed ",n),n&&(t.mandateInfo.controls.mandateInfo_array.removeAt(e),t.count--,t.cdr.markForCheck())})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/customer-information"])}},{key:"submitForm",value:function(){var e=this,t={};this.mandateDetailsForm.get("noOfApplicants").setValue(this.noOfApplicants),console.log("NumOfApplicants:",this.mandateDetailsForm.get("noOfApplicants").setValue(this.noOfApplicants)),t=this.mandateDetailsForm.value,console.log("Mandate Details:",this.mandateDetailsForm.value),t.loanAccountId=this.loanaccountID,t.mandateDetails=this.mandateInfo_array.value,this.ls.getItem("MANDATE_DETAIL_DONE")&&(t.mandateId=this.mandateId),this.apiService.upsertMandateDetails(t).subscribe(function(t){console.log("data",t),null!=t&&(e.snack.open("Mandate Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next())})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"next",value:function(){this.ls.setItem("MANDATE_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/financial-details"])}}]),e}()).\u0275fac=function(e){return new(e||Lb)(m.Rb($.f),m.Rb(W.a),m.Rb(Pe.a),m.Rb(x.b),m.Rb(d.h),m.Rb(A.a),m.Rb(ue.a),m.Rb(Sa.a),m.Rb(m.h),m.Rb(ln.a))},Lb.\u0275cmp=m.Lb({type:Lb,selectors:[["app-mandate-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/mandate_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["type","button","mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center",1,"pt-16"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","name","noOfApplicants","readonly","","placeholder","Number Of Applicants","formControlName","noOfApplicants","required",""],[4,"ngIf"],["fxLayout","row",1,"full-width"],[1,"full-width",3,"formGroup"],["fxLayout","row","class","full-width pt-16","formArrayName","mandateInfo_array",4,"ngFor","ngForOf"],["fxLayout","row","formArrayName","mandateInfo_array",1,"full-width","pt-16"],[1,"full-width",3,"formGroupName"],[1,"full-width","mat-elevation-z0"],[1,"mat-elevation-z0","borderStyle",3,"opened","closed"],[1,"marginData"],[1,"textDesign"],[1,"design"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"pt-16","full-width"],["fxFlex","50%","fxFlex.xs","100%"],["matInput","","name","applicantName","placeholder","Applicant Name","formControlName","applicantName","readonly","","required",""],["fxFlex","50%","fxFlex.xs","100%",1,"p-1"],["matInput","","name","collateralShare","placeholder","Collateral Share Percentage","minlength","1","maxlength","2","formControlName","collateralShare","required","",3,"keypress"],["matInput","","minlength","1","maxlength","2","name","repaymentShare","placeholder","Repayment Share Percentage","formControlName","repaymentShare"],["fxLayout","row","fxLayoutGap","16px",1,"mt-32"],["mat-button","","color","primary",1,"paddingChange",3,"disabled","click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h1"),m.Tc(7,"Mandate Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title"),m.Xb(11,"fieldset"),m.Xb(12,"legend",7),m.Tc(13,"Mandate Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,Fb,12,4,"form",8),m.Wb(),m.Wb(),m.Xb(16,"div",9),m.Xb(17,"button",10),m.fc("click",function(){return t.goBack()}),m.Tc(18," Back "),m.Wb(),m.Xb(19,"button",11),m.fc("click",function(){return t.submitForm()}),m.Tc(20," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.mandateDetailsForm),m.Eb(4),m.rc("disabled",!t.mandateDetailsForm.valid||!t.mandateInfo.valid))},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,g.c,g.g,Q.b,$.c,$.r,$.i,$.z,u.m,g.b,$.e,$.k,Za.a,Za.c,Za.e,Za.f,S.a,$.n,$.m],styles:[".paddingChange[_ngcontent-%COMP%]{padding-left:0}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px;opacity:1}.marginData[_ngcontent-%COMP%]{margin-bottom:0!important}.textDesign[_ngcontent-%COMP%]{font:normal normal medium 18px/22px Montserrat;letter-spacing:0;color:#00000f;opacity:1}"]}),Lb);function qb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Customer Name is Required!"),m.Wb())}function jb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Agency is Required!"),m.Wb())}function Bb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Ratings is Required!"),m.Wb())}function zb(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",20),m.Xb(1,"mat-accordion",21),m.Xb(2,"mat-expansion-panel",22),m.Xb(3,"mat-expansion-panel-header",23),m.Xb(4,"mat-panel-title",24),m.Tc(5,"Score "),m.Wb(),m.Wb(),m.Sb(6,"mat-divider",25),m.Xb(7,"div",12),m.Xb(8,"div",13),m.Xb(9,"div",26),m.Xb(10,"div",15),m.Xb(11,"mat-form-field",16),m.Xb(12,"mat-label"),m.Tc(13,"Select Agency*"),m.Wb(),m.Xb(14,"mat-select",27),m.Xb(15,"mat-option",28),m.Tc(16,"Test Agency"),m.Wb(),m.Xb(17,"mat-option",29),m.Tc(18,"Ujjivan Agency"),m.Wb(),m.Xb(19,"mat-option",30),m.Tc(20,"Fast Track Agency"),m.Wb(),m.Wb(),m.Rc(21,jb,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Xb(22,"div",15),m.Xb(23,"mat-form-field",16),m.Xb(24,"mat-label"),m.Tc(25,"Remarks"),m.Wb(),m.Sb(26,"input",31),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div",32),m.Xb(28,"div",15),m.Xb(29,"mat-form-field",16),m.Xb(30,"mat-label"),m.Tc(31,"Ratings*"),m.Wb(),m.Xb(32,"input",33),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)}),m.Wb(),m.Rc(33,Bb,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(34,"button",34),m.fc("click",function(){return m.Hc(n),m.jc(2).addFormGroup()}),m.Xb(35,"mat-icon"),m.Tc(36,"add"),m.Wb(),m.Tc(37," ADD AGENCY "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=t.$implicit;m.Eb(1),m.rc("formGroup",a),m.Eb(6),m.rc("formGroup",a),m.Eb(14),m.rc("ngIf",!a.controls.agencyName.valid&&a.controls.agencyName.touched),m.Eb(12),m.rc("ngIf",!a.controls.ratings.valid&&a.controls.ratings.touched)}}function Ub(e,t){if(1&e&&(m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",15),m.Xb(4,"mat-form-field",16),m.Xb(5,"mat-label"),m.Tc(6,"Customer Name*"),m.Wb(),m.Sb(7,"input",17),m.Rc(8,qb,2,0,"mat-error",18),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Rc(9,zb,38,4,"div",19),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.creditForms),m.Eb(7),m.rc("readonly",!0),m.Eb(1),m.rc("ngIf",!n.creditForms.get("customerName").valid&&n.creditForms.get("customerName").touched),m.Eb(1),m.rc("ngForOf",n.c.controls)}}var Hb,Gb=((Hb=function(){function e(t,n,o,i,r,c,s){a(this,e),this.formBuilder=t,this.ls=n,this.appApiService=o,this.snack=i,this.api=r,this.router=c,this.accountService=s,this.customerNames=[]}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.customerName=this.ls.getItem("primaryCustomerName"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),setTimeout(function(){e.getCustomerInformationDetails()},10),this.isCreditRatingDetails=this.ls.getItem("CREDIT_RATING_DONE"),0==this.isCreditRatingDetails?this.buildCollateralForm():this.gettingCreditRatingDetail(),console.log(this.isCreditRatingDetails)}},{key:"gettingCreditRatingDetail",value:function(){var e=this;this.api.gettingCreditRatingDetails(this.loanaccountID).subscribe(function(t){console.log(t),e.buildCollateralForm(t,!0)})}},{key:"buildCollateralForm",value:function(e,t){console.log(e),this.creditForms=this.formBuilder.group({customerName:[e&&e.customerName?e.customerName:"",$.A.required],loanAccountId:this.loanaccountID,agencyRating:this.formBuilder.array([this.addModFormGroup(e)])}),console.log(this.creditForms)}},{key:"getCustomerInformationDetails",value:function(){var e=this;this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(function(t){console.log("resp for customer information names ",t.data);for(var n=0;n<t.data.length;n++)e.customerNames[n]=null!=t.data[n].middleName?t.data[n].firstName+" "+t.data[n].middleName+" "+t.data[n].lastName:t.data[n].firstName+" "+t.data[n].lastName;console.log("customer name ",e.customerNames),1===e.customerNames.length&&e.creditForms.get("customerName").setValue(e.customerNames[0])},function(e){})}},{key:"f",get:function(){return this.creditForms.controls}},{key:"c",get:function(){return this.f.agencyRating}},{key:"addFormGroup",value:function(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",$.A.required],ratings:["",$.A.required],remarks:[""]}))}},{key:"addModFormGroup",value:function(e){return console.log(e,"inside addModeFormGrp"),this.formBuilder.group({agencyId:[e?e.agencyId:0],agencyName:[e?e.agencyRating[0].agencyName:"",$.A.required],ratings:[e?e.agencyRating[0].ratings:"",$.A.required],remarks:[e?e.agencyRating[0].remarks:""]})}},{key:"OnSubmit",value:function(e){var t=this;console.log("val",e),e.accountType="loan",this.api.saveCreditDetails(e).subscribe(function(e){console.log(e),200===e||null!==e?(t.snack.open(" Credit Score Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.ls.setItem("CREDIT_RATING_DONE",!0),t.accountService.refresh.next(),t.router.navigate(["/loan/account/list/underwritingStage/valuationofassets"])):500===e&&t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){console.log(e)})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/list/underwritingStage"])}}]),e}()).\u0275fac=function(e){return new(e||Hb)(m.Rb($.f),m.Rb(W.a),m.Rb(ln.a),m.Rb(A.a),m.Rb(x.b),m.Rb(d.h),m.Rb(ue.a))},Hb.\u0275cmp=m.Lb({type:Hb,selectors:[["app-credit-rating-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask_Group_9.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-2"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["matInput","","type","text","name","customerName","formControlName","customerName",1,"alignment",3,"readonly"],[4,"ngIf"],["class","mt-16",4,"ngFor","ngForOf"],[1,"mt-16"],[1,"full-width","mat-elevation-z0",3,"formGroup"],[1,"borderStyle"],[1,"marginData"],[1,"textDesign"],[1,"design"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1","pt-2"],["name","agencyName","disableOptionCentering","","formControlName","agencyName"],["value","Test Agency"],["value","Ujjivan Agency"],["value","Fast Track Agency"],["matInput","","formControlName","remarks","placeholder","remarks","type","text","name","remarks",1,"alignment"],["fxFlex","100","fxFlex.gt-xs","50",1,"pt-2"],["matInput","","formControlName","ratings","placeholder","ratings","type","text","name","ratings",1,"alignment",3,"keypress"],["mat-button","","color","primary",1,"PaddingChange",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h2"),m.Tc(7,"Credit Score Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title"),m.Xb(11,"fieldset"),m.Xb(12,"legend",7),m.Tc(13,"Credit Score Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,Ub,10,4,"form",8),m.Wb(),m.Wb(),m.Xb(16,"div",9),m.Xb(17,"button",10),m.fc("click",function(){return t.goBack()}),m.Tc(18," Back "),m.Wb(),m.Xb(19,"button",11),m.fc("click",function(){return t.OnSubmit(t.creditForms.value)}),m.Tc(20," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.creditForms),m.Eb(4),m.rc("disabled",!t.creditForms.valid))},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,g.c,g.g,Q.b,$.c,$.r,$.i,u.m,g.b,Za.a,Za.c,Za.e,Za.f,S.a,J.a,Z.n,O.a],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{max-width:200px}.inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:5%}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px;opacity:1}.marginData[_ngcontent-%COMP%]{margin-bottom:0!important}.textDesign[_ngcontent-%COMP%]{font:normal normal medium 18px/22px Montserrat;letter-spacing:0;color:#00000f;opacity:1}.PaddingChange[_ngcontent-%COMP%]{padding-left:0!important}  .mat-drawer-inner-container{overflow:hidden}"]}),Hb),Yb=r("U75Y"),$b=r("VWQp");function Qb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Select Opinion By "),m.Wb())}function Jb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Market Value of Asset is Required!"),m.Wb())}function Zb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Opinion Date is Required! "),m.Wb())}function Kb(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Description is Required ! "),m.Wb())}function eu(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Proper Description"),m.Wb())}function tu(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Asset Area is Required! "),m.Wb())}function nu(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Lawyer Name is Required!"),m.Wb())}function au(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Valid Lawyer Name"),m.Wb())}function ou(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Valuation Date is Required! "),m.Wb())}var iu,ru=((iu=function(){function e(t,n,o,i,r,c,s){a(this,e),this.formBuilder=t,this.loader=n,this.snack=o,this.api=i,this.ls=r,this.router=c,this.accountService=s,this.maxDate=new Date,this.minDate=new Date,this.showEditOption=!1,this.isChecked=!0,this.disabled=!0,this.disabledToggle=!0,this.accountForm=this.formBuilder.group({assetAreaSize:["",[$.A.required]],description:["",[$.A.required,$.A.pattern(".*[a-zA-Z].*")]],lawyerName:["",[$.A.required,$.A.pattern(".*[a-zA-Z].*")]],mktValOfAsset:["",[$.A.required]],opinion:["",[$.A.required]],isDecisionFavorable:[""],opinionDate:["",[$.A.required]],valuationDate:["",[$.A.required]],assetAreaInUnits:["",[$.A.required]]})}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),console.log("this.productaccountID1",this.loanaccountID);var t=JSON.parse(this.ls.getItem("LEGAL_OPINION_DONE"));setTimeout(function(){null!=e.loanaccountID&&t?(e.showEditOption=!0,e.gettingLegalOpinionDetail()):(console.log("else"),e.showEditOption=!1,e.buildAccountForm())},10),this.valueData()}},{key:"gettingLegalOpinionDetail",value:function(){var e=this;this.loader.open(),this.api.gettingLegalOpinionDetails(this.loanaccountID).subscribe(function(t){e.isChecked="Favourable"==t.opinion,e.loader.close(),console.log(t),e.buildAccountForm(t,!0)},function(t){e.loader.close()})}},{key:"toggle",value:function(e){console.log("value",e),"Not Favourable"==e?(this.disabled=!1,this.isChecked=!1,this.disabledToggle=!1):"Favourable"==e?(this.disabled=!0,this.isChecked=!0,this.disabledToggle=!0):this.isChecked=!1}},{key:"buildAccountForm",value:function(e,t){e.opinionDate=e?re(e.opinionDate).format():"",e.valuationDate=e?re(e.valuationDate).format():"",console.log(e),this.accountForm=this.formBuilder.group({assetAreaInUnits:[e?e.assetAreaInUnits:""],assetAreaSize:[e?e.assetAreaSize:0],description:[e?e.description:""],isDecisionFavorable:[this.isChecked],lawyerName:[e?e.lawyerName:""],loanAccountId:[this.loanaccountID],mktValOfAsset:[e?e.mktValOfAsset:""],opinion:[e?e.opinion:""],opinionDate:[e?e.opinionDate:""],valuationDate:[e?e.valuationDate:""]}),console.log("this.accountForm",this.accountForm)}},{key:"OnSubmit",value:function(){var e=this,t=new Date;t=this.accountForm.value.opinionDate;var n=re(t).format("YYYY-MMM-DD HH:MM:SS"),a=new Date;a=this.accountForm.value.valuationDate;var o=re(a).format("YYYY-MMM-DD HH:MM:SS"),i=this.accountForm.value.assetAreaSize;i=parseInt(i),console.log("pk",i),this.api.saveLegalOpinion({assetAreaInUnits:this.accountForm.value.assetAreaInUnits,assetAreaSize:i,description:this.accountForm.value.description,isDecisionFavorable:this.accountForm.value.isDecisionFavorable,lawyerName:this.accountForm.value.lawyerName,loanAccountId:this.loanaccountID,mktValOfAsset:this.accountForm.value.mktValOfAsset,opinion:this.accountForm.value.opinion,opinionDate:n,valuationDate:o}).subscribe(function(t){console.log(t),200===t||null!==t?(e.snack.open(" Legal Opinion Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.ls.setItem("LEGAL_OPINION_DONE",!0),e.isCreditRatingDetails=e.ls.getItem("CREDIT_RATING_DONE"),e.isValuationofAsset=e.ls.getItem("VALUATION_OF_ASSET_DONE"),e.isLegalOpinion=e.ls.getItem("LEGAL_OPINION_DONE"),1==e.isCreditRatingDetails&&1==e.isValuationofAsset&&1==e.isLegalOpinion&&(e.ls.setItem("underWritingStage",!0),e.next())):500===t&&e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){console.log(e)}),this.router.navigate(["/loan/account/assessment/list"])}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"_keyPress1",value:function(e){(32===e.which&&!e.target.value.length||e.keyCode>=48&&e.keyCode<=57)&&e.preventDefault()}},{key:"next",value:function(){this.accountService.refresh.next(),this.router.navigate(["/loan/account/assessment/list"])}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/list/underwritingStage/valuationofassets"])}},{key:"valueData",value:function(){var e=this;this.api.gettingValuationDetails(this.loanaccountID).subscribe(function(t){console.log(t),e.accountForm.get("mktValOfAsset").setValue(t.mktValOfAsset)})}}]),e}()).\u0275fac=function(e){return new(e||iu)(m.Rb($.f),m.Rb(Pe.a),m.Rb(A.a),m.Rb(x.b),m.Rb(W.a),m.Rb(d.h),m.Rb(X.a))},iu.\u0275cmp=m.Lb({type:iu,selectors:[["app-legal-opinion"]],decls:101,vars:16,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/legal_opinion_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,"alignChange"],["visible","true"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-2"],["appearance","outline",1,"full-width"],["name","opinion","formControlName","opinion","disableOptionCentering","","placeholder","Opinion By",3,"selectionChange"],["value","Favourable"],["value","Not Favourable"],[4,"ngIf"],[1,"flex-grow-1"],["matInput","","formControlName","mktValOfAsset","placeholder","Market Value","type","text","name","mktValOfAsset",1,"alignment",3,"keypress"],["matInput","","name","opinionDate","formControlName","opinionDate","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","name","description","formControlName","description","placeholder","Description",1,"alignment",3,"keypress"],["fxFlex","100","fxFlex.gt-xs","50"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","20%",1,"flex-grow-1"],["formControlName","assetAreaInUnits","disableOptionCentering","","placeholder","Select"],["value","Sq"],["value","Acr"],["value","Cent"],["fxFlex","75%",1,"flex-grow-1"],["matInput","","formControlName","assetAreaSize","name","assetAreaSize","placeholder","Asset Area","name","remarks",1,"alignment",3,"keypress"],["matInput","","name","lawyerName","formControlName","lawyerName","placeholder","Lawyer Name",1,"alignment",3,"keypress"],["matInput","","name","valuationDate","formControlName","valuationDate","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker"],["appDatepicker",""],[1,"pb-1"],["formControlName","isDecisionFavorable",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h2"),m.Tc(7,"Legal Opinion"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title",7),m.Xb(11,"fieldset"),m.Xb(12,"legend",8),m.Tc(13,"Legal Opinion"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Xb(15,"form",9),m.Xb(16,"div",10),m.Xb(17,"div",11),m.Xb(18,"div",12),m.Xb(19,"mat-form-field",13),m.Xb(20,"mat-label"),m.Tc(21,"Opinion By*"),m.Wb(),m.Xb(22,"mat-select",14),m.fc("selectionChange",function(e){return t.toggle(e.value)}),m.Xb(23,"mat-option",15),m.Tc(24,"Favourable"),m.Wb(),m.Xb(25,"mat-option",16),m.Tc(26,"Not Favourable"),m.Wb(),m.Wb(),m.Rc(27,Qb,2,0,"mat-error",17),m.Wb(),m.Wb(),m.Xb(28,"div",18),m.Xb(29,"mat-form-field",13),m.Xb(30,"mat-label"),m.Tc(31,"Market Value of Asset*"),m.Wb(),m.Xb(32,"input",19),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Rc(33,Jb,2,0,"mat-error",17),m.Wb(),m.Wb(),m.Xb(34,"div",18),m.Xb(35,"mat-form-field",13),m.Xb(36,"mat-label"),m.Tc(37,"Opinion Date*"),m.Wb(),m.Sb(38,"input",20),m.Xb(39,"div",21),m.Sb(40,"mat-datepicker-toggle",22),m.Sb(41,"mat-datepicker",null,23),m.Wb(),m.Rc(43,Zb,2,0,"mat-error",17),m.Wb(),m.Wb(),m.Xb(44,"div",12),m.Xb(45,"mat-form-field",13),m.Xb(46,"mat-label"),m.Tc(47,"Description*"),m.Wb(),m.Xb(48,"input",24),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Rc(49,Kb,2,0,"mat-error",17),m.Rc(50,eu,2,0,"mat-error",17),m.Wb(),m.Wb(),m.Wb(),m.Xb(51,"div",25),m.Xb(52,"div"),m.Xb(53,"div",26),m.Xb(54,"div",27),m.Xb(55,"mat-form-field",13),m.Xb(56,"mat-label"),m.Tc(57,"Asset Area*"),m.Wb(),m.Xb(58,"mat-select",28),m.Xb(59,"mat-option"),m.Tc(60,"Select"),m.Wb(),m.Xb(61,"mat-option",29),m.Tc(62,"Sq"),m.Wb(),m.Xb(63,"mat-option",30),m.Tc(64,"Acr"),m.Wb(),m.Xb(65,"mat-option",31),m.Tc(66,"Cent"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(67,"div",32),m.Xb(68,"mat-form-field",13),m.Xb(69,"mat-label"),m.Tc(70,"Asset Area"),m.Wb(),m.Xb(71,"input",33),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Rc(72,tu,2,0,"mat-error",17),m.Wb(),m.Wb(),m.Xb(73,"div",12),m.Xb(74,"mat-form-field",13),m.Xb(75,"mat-label"),m.Tc(76,"Lawyer Name*"),m.Wb(),m.Xb(77,"input",34),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Rc(78,nu,2,0,"mat-error",17),m.Rc(79,au,2,0,"mat-error",17),m.Wb(),m.Wb(),m.Xb(80,"div",18),m.Xb(81,"mat-form-field",13),m.Xb(82,"mat-label"),m.Tc(83,"Valuation Date*"),m.Wb(),m.Sb(84,"input",35),m.Xb(85,"div",21),m.Sb(86,"mat-datepicker-toggle",22),m.Sb(87,"mat-datepicker",null,36),m.Wb(),m.Rc(89,ou,2,0,"mat-error",17),m.Wb(),m.Wb(),m.Xb(90,"div",10),m.Xb(91,"div",11),m.Xb(92,"div",37),m.Tc(93," Decision Favorable ?\xa0\xa0\xa0 "),m.Xb(94,"mat-slide-toggle",38),m.fc("ngModelChange",function(e){return t.disabled=e}),m.Wb(),m.Wb(),m.Sb(95,"br"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(96,"div",39),m.Xb(97,"button",40),m.fc("click",function(){return t.goBack()}),m.Tc(98," Back "),m.Wb(),m.Xb(99,"button",41),m.fc("click",function(){return t.OnSubmit()}),m.Tc(100," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(42),a=m.Dc(88);m.Eb(15),m.rc("formGroup",t.accountForm),m.Eb(12),m.rc("ngIf",!t.accountForm.get("opinion").valid&&t.accountForm.get("opinion").touched),m.Eb(6),m.rc("ngIf",!t.accountForm.get("mktValOfAsset").valid&&t.accountForm.get("mktValOfAsset").touched),m.Eb(5),m.rc("matDatepicker",n),m.Eb(2),m.rc("for",n),m.Eb(3),m.rc("ngIf",!t.accountForm.get("opinionDate").valid&&t.accountForm.get("opinionDate").touched),m.Eb(6),m.rc("ngIf",t.accountForm.get("description").hasError("required")&&t.accountForm.get("description").touched),m.Eb(1),m.rc("ngIf",t.accountForm.get("description").hasError("pattern")&&t.accountForm.get("description").touched),m.Eb(22),m.rc("ngIf",!t.accountForm.get("assetAreaInUnits").valid&&t.accountForm.get("assetAreaInUnits").touched||!t.accountForm.get("assetAreaSize").valid&&t.accountForm.get("assetAreaSize").touched),m.Eb(6),m.rc("ngIf",t.accountForm.get("lawyerName").hasError("required")&&t.accountForm.get("lawyerName").touched),m.Eb(1),m.rc("ngIf",t.accountForm.get("lawyerName").hasError("pattern")&&t.accountForm.get("lawyerName").touched),m.Eb(5),m.rc("matDatepicker",a),m.Eb(2),m.rc("for",a),m.Eb(3),m.rc("ngIf",!t.accountForm.get("valuationDate").valid&&t.accountForm.get("valuationDate").touched),m.Eb(5),m.rc("ngModel",t.disabled),m.Eb(5),m.rc("disabled",!t.accountForm.valid)}},directives:[p.e,p.b,f.a,f.h,f.d,$.C,$.s,$.j,p.f,g.c,g.g,J.a,$.r,$.i,Z.n,u.n,Q.b,$.c,ce.e,ce.g,g.j,ce.d,de.a,p.d,h.b,g.b],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{width:100px}.full-width2[_ngcontent-%COMP%]{width:335px}.inputCard[_ngcontent-%COMP%]{width:100%;height:25px}.inputMatcard[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px;width:300px}.inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;margin-top:12px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:20%;margin-left:0!important;height:48px}.sqInput2[_ngcontent-%COMP%]{width:73%;height:48px}mat-hint[_ngcontent-%COMP%]{font-family:Manrope}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.datechange[_ngcontent-%COMP%]{height:10px;margin-right:10px}mat-slide-toggle[_ngcontent-%COMP%]{margin-top:5%}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:5%}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%}"]}),iu);function cu(e,t){1&e&&m.Sb(0,"img",21)}function su(e,t){if(1&e&&(m.Xb(0,"h4",22),m.Tc(1),m.Wb()),2&e){var n=m.jc();m.Eb(1),m.Uc(n.titleName)}}function lu(e,t){if(1&e&&(m.Xb(0,"mat-card",8),m.Xb(1,"mat-card-content"),m.Xb(2,"div",2),m.Xb(3,"div",9),m.Xb(4,"div",10),m.Vb(5),m.Xb(6,"div",23),m.Xb(7,"mat-card",24),m.Xb(8,"mat-hint",13),m.Tc(9,"Ratings"),m.Wb(),m.Sb(10,"br"),m.Xb(11,"div",9),m.Xb(12,"div",10),m.Vb(13),m.Xb(14,"div",11),m.Xb(15,"mat-hint",12),m.Tc(16,"Agency"),m.Wb(),m.Sb(17,"br"),m.Xb(18,"mat-hint",13),m.Tc(19),m.Wb(),m.Wb(),m.Xb(20,"div",11),m.Xb(21,"mat-hint",12),m.Tc(22,"Ratings"),m.Wb(),m.Sb(23,"br"),m.Xb(24,"mat-hint",13),m.Tc(25),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(26,"div",10),m.Vb(27),m.Xb(28,"div",11),m.Xb(29,"mat-hint",12),m.Tc(30,"Remarks"),m.Wb(),m.Sb(31,"br"),m.Xb(32,"mat-hint",13),m.Tc(33),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=t.$implicit;m.Eb(19),m.Uc(null==n?null:n.agencyName),m.Eb(6),m.Vc("",null==n?null:n.ratings," "),m.Eb(8),m.Uc(null==n?null:n.remarks)}}function bu(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",25),m.Xb(1,"button",26),m.fc("click",function(){return m.Hc(n),m.jc().goBack()}),m.Tc(2," Back "),m.Wb(),m.Xb(3,"button",27),m.fc("click",function(){return m.Hc(n),m.jc().done()}),m.Tc(4," Done "),m.Wb(),m.Wb()}}var uu,mu=((uu=function(){function e(t,n,o){a(this,e),this.router=t,this.api=n,this.ls=o,this.titleName="UnderWriting Stage"}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanAccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountID=this.loanInfo.loanAccountId),this.api.getApprovedStatus().subscribe(function(t){console.log("message",t),e.isApprovedSreen=t}),this.loanAccountId=this.ls.getItem("loanAccountId"),setTimeout(function(){e.getunderwritingStageSummaryDetails(e.loanAccountId),e.gettingCreditRatingDetail()},10)}},{key:"getunderwritingStageSummaryDetails",value:function(e){var t=this;this.api.gettingUnderWritingSummary(this.loanAccountId).subscribe(function(e){console.log(e),t.ValuationDetailsValues=e.valuationOfAssetInfo,console.log(t.ValuationDetailsValues),t.opinionDetailsValue=e.legalOpinionInfo,console.log(t.opinionDetailsValue)})}},{key:"gettingCreditRatingDetail",value:function(){var e=this;this.api.gettingCreditRatingDetails(this.loanAccountID).subscribe(function(t){console.log(t),e.creditRatingValues=t})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/list"])}},{key:"done",value:function(){this.router.navigate(["/loan/account/list"])}}]),e}()).\u0275fac=function(e){return new(e||uu)(m.Rb(d.h),m.Rb(x.b),m.Rb(W.a))},uu.\u0275cmp=m.Lb({type:uu,selectors:[["app-underwriting-stage-summary"]],decls:192,vars:31,consts:[["class","entryImg","src","assets/images/entry.png","alt","",4,"ngIf"],["class","para",4,"ngIf"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["class","chequecard",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutGap","4%","fxLayoutAlign","space-between none",1,"colAlign"],["layout","row"],["flex","",1,"line"],[1,"toggle"],["disabled","","checked","opinionDetailsValue.isDecisionFavorable"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px","class","mt-32",4,"ngIf"],["src","assets/images/entry.png","alt","",1,"entryImg"],[1,"para"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div"),m.Rc(1,cu,1,0,"img",0),m.Rc(2,su,2,1,"h4",1),m.Xb(3,"div",2),m.Xb(4,"div",3),m.Xb(5,"div",4),m.Xb(6,"h4",5),m.Tc(7,"Credit Rating Details"),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"div",7),m.Xb(10,"mat-card",8),m.Xb(11,"mat-card-content"),m.Xb(12,"div",2),m.Xb(13,"div",9),m.Xb(14,"div",10),m.Vb(15),m.Xb(16,"div",11),m.Xb(17,"mat-hint",12),m.Tc(18,"CustomerName"),m.Wb(),m.Sb(19,"br"),m.Xb(20,"mat-hint",13),m.Tc(21),m.Wb(),m.Wb(),m.Sb(22,"div",11),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(23,"div",3),m.Xb(24,"div",6),m.Xb(25,"div",7),m.Rc(26,lu,34,3,"mat-card",14),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(27,"br"),m.Xb(28,"div",2),m.Xb(29,"div",3),m.Xb(30,"div",4),m.Xb(31,"h4",5),m.Tc(32,"Valuation Details"),m.Wb(),m.Wb(),m.Xb(33,"div",6),m.Xb(34,"div",7),m.Xb(35,"mat-card",8),m.Xb(36,"mat-card-content"),m.Xb(37,"div",2),m.Xb(38,"div",15),m.Xb(39,"div",10),m.Vb(40),m.Xb(41,"div",11),m.Xb(42,"mat-hint",12),m.Tc(43,"Bank Valuation"),m.Wb(),m.Sb(44,"br"),m.Xb(45,"mat-hint",13),m.Tc(46),m.Wb(),m.Wb(),m.Xb(47,"div",11),m.Xb(48,"mat-hint",12),m.Tc(49,"Asset Type "),m.Wb(),m.Sb(50,"br"),m.Xb(51,"mat-hint",13),m.Tc(52),m.Wb(),m.Wb(),m.Xb(53,"div",11),m.Xb(54,"mat-hint",12),m.Tc(55,"Property Area "),m.Wb(),m.Sb(56,"br"),m.Xb(57,"mat-hint",13),m.Tc(58),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(59,"div"),m.Xb(60,"span",16),m.Sb(61,"hr",17),m.Wb(),m.Wb(),m.Xb(62,"div",10),m.Vb(63),m.Xb(64,"div",11),m.Xb(65,"mat-hint",12),m.Tc(66,"Borrowers Market Value of Asset"),m.Wb(),m.Sb(67,"br"),m.Xb(68,"mat-hint",13),m.Tc(69),m.Wb(),m.Wb(),m.Xb(70,"div",11),m.Xb(71,"mat-hint",12),m.Tc(72,"Asset Valuer "),m.Wb(),m.Sb(73,"br"),m.Xb(74,"mat-hint",13),m.Tc(75),m.Wb(),m.Wb(),m.Xb(76,"div",11),m.Xb(77,"mat-hint",12),m.Tc(78,"Valuation Date "),m.Wb(),m.Sb(79,"br"),m.Xb(80,"mat-hint",13),m.Tc(81),m.kc(82,"date"),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(83,"div"),m.Xb(84,"span",16),m.Sb(85,"hr",17),m.Wb(),m.Wb(),m.Xb(86,"div",10),m.Vb(87),m.Xb(88,"div",11),m.Xb(89,"mat-hint",12),m.Tc(90,"Actual Area of the Property"),m.Wb(),m.Sb(91,"br"),m.Xb(92,"mat-hint",13),m.Tc(93),m.Wb(),m.Wb(),m.Xb(94,"div",11),m.Xb(95,"mat-hint",12),m.Tc(96,"Face Value Of Asset"),m.Wb(),m.Sb(97,"br"),m.Xb(98,"mat-hint",13),m.Tc(99),m.Wb(),m.Wb(),m.Xb(100,"div",11),m.Xb(101,"mat-hint",12),m.Tc(102,"Market Value Of Asset "),m.Wb(),m.Sb(103,"br"),m.Xb(104,"mat-hint",13),m.Tc(105),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(106,"div"),m.Xb(107,"span",16),m.Sb(108,"hr",17),m.Wb(),m.Wb(),m.Xb(109,"div",10),m.Vb(110),m.Xb(111,"div",11),m.Xb(112,"mat-hint",12),m.Tc(113,"Forced Sale Value"),m.Wb(),m.Sb(114,"br"),m.Xb(115,"mat-hint",13),m.Tc(116),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(117,"br"),m.Xb(118,"div",2),m.Xb(119,"div",3),m.Xb(120,"div",4),m.Xb(121,"h4",5),m.Tc(122,"Legal Opinion"),m.Wb(),m.Wb(),m.Xb(123,"div",6),m.Xb(124,"div",7),m.Xb(125,"mat-card",8),m.Xb(126,"mat-card-content"),m.Xb(127,"div",2),m.Xb(128,"div",15),m.Xb(129,"div",10),m.Vb(130),m.Xb(131,"div",11),m.Xb(132,"mat-hint",12),m.Tc(133,"Opinion"),m.Wb(),m.Sb(134,"br"),m.Xb(135,"mat-hint",13),m.Tc(136),m.Wb(),m.Wb(),m.Xb(137,"div",11),m.Xb(138,"mat-hint",12),m.Tc(139,"Asset Area"),m.Wb(),m.Sb(140,"br"),m.Xb(141,"mat-hint",13),m.Tc(142),m.Wb(),m.Wb(),m.Xb(143,"div",11),m.Xb(144,"mat-hint",12),m.Tc(145,"Market Value of Asset"),m.Wb(),m.Sb(146,"br"),m.Xb(147,"mat-hint",13),m.Tc(148),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(149,"div"),m.Xb(150,"span",16),m.Sb(151,"hr",17),m.Wb(),m.Wb(),m.Xb(152,"div",10),m.Vb(153),m.Xb(154,"div",11),m.Xb(155,"mat-hint",12),m.Tc(156,"Lawyer Name "),m.Wb(),m.Sb(157,"br"),m.Xb(158,"mat-hint",13),m.Tc(159),m.Wb(),m.Wb(),m.Xb(160,"div",11),m.Xb(161,"mat-hint",12),m.Tc(162,"Opinion Date"),m.Wb(),m.Sb(163,"br"),m.Xb(164,"mat-hint",13),m.Tc(165),m.kc(166,"date"),m.Wb(),m.Wb(),m.Xb(167,"div",11),m.Xb(168,"mat-hint",12),m.Tc(169,"Valuation Date"),m.Wb(),m.Sb(170,"br"),m.Xb(171,"mat-hint",13),m.Tc(172),m.kc(173,"date"),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(174,"div"),m.Xb(175,"span",16),m.Sb(176,"hr",17),m.Wb(),m.Wb(),m.Xb(177,"div",10),m.Vb(178),m.Xb(179,"div",11),m.Xb(180,"mat-hint",12),m.Tc(181,"Description"),m.Wb(),m.Sb(182,"br"),m.Xb(183,"mat-hint",13),m.Tc(184),m.Wb(),m.Wb(),m.Xb(185,"div",11),m.Xb(186,"mat-hint",12),m.Tc(187,"Decision Favorable ?"),m.Wb(),m.Sb(188,"br"),m.Xb(189,"div",18),m.Sb(190,"mat-slide-toggle",19),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Rc(191,bu,5,0,"div",20),m.Wb()),2&e&&(m.Eb(1),m.rc("ngIf",!t.isApprovedSreen),m.Eb(1),m.rc("ngIf",!t.isApprovedSreen),m.Eb(19),m.Uc(t.creditRatingValues.customerName),m.Eb(5),m.rc("ngForOf",t.creditRatingValues.agencyRating),m.Eb(20),m.Uc(t.ValuationDetailsValues.bankValuation),m.Eb(6),m.Vc(" ",t.ValuationDetailsValues.assetType," "),m.Eb(6),m.Wc(" ",t.ValuationDetailsValues.propertyAreaInUnits," ",t.ValuationDetailsValues.propertyAreaSize," "),m.Eb(11),m.Vc(" ",t.ValuationDetailsValues.borrowersMktValOfAsset," "),m.Eb(6),m.Uc(t.ValuationDetailsValues.assetValue),m.Eb(6),m.Uc(m.lc(82,25,t.ValuationDetailsValues.valuationDate)),m.Eb(12),m.Wc(" ",t.ValuationDetailsValues.actualPropertyAreaInUnits," ",t.ValuationDetailsValues.actualPropertyAreaSize," "),m.Eb(6),m.Uc(t.ValuationDetailsValues.faceValOfAsset),m.Eb(6),m.Uc(t.ValuationDetailsValues.mktValOfAsset),m.Eb(11),m.Vc(" ",t.ValuationDetailsValues.forcedSaleValue," "),m.Eb(20),m.Uc(t.opinionDetailsValue.opinion),m.Eb(6),m.Wc(" ",t.opinionDetailsValue.assetAreaInUnits," ",t.opinionDetailsValue.assetAreaSize," "),m.Eb(6),m.Vc(" ",t.opinionDetailsValue.mktValOfAsset," "),m.Eb(11),m.Vc(" ",t.opinionDetailsValue.lawyerName," "),m.Eb(6),m.Vc("",m.lc(166,27,t.opinionDetailsValue.opinionDate)," "),m.Eb(7),m.Vc("",m.lc(173,29,t.opinionDetailsValue.valuationDate)," "),m.Eb(12),m.Vc(" ",t.opinionDetailsValue.description," "),m.Eb(7),m.rc("ngIf",!t.isApprovedSreen))},directives:[u.n,p.e,p.d,p.b,f.a,f.d,p.f,g.f,u.m,de.a,h.b],pipes:[u.f],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#2b2b2b;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),uu),du=function(){return{y:"50px",delay:"300ms"}},pu=function(e){return{value:"*",params:e}};function fu(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",19),m.Xb(1,"mat-card"),m.Xb(2,"div",20),m.Xb(3,"div",21),m.Xb(4,"mat-icon",22),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",23),m.Xb(7,"h6"),m.Tc(8,"Underwriting Stage"),m.Wb(),m.Wb(),m.Sb(9,"span",24),m.Xb(10,"button",25),m.fc("click",function(){return m.Hc(n),m.jc().viewSummary()}),m.Tc(11," View Summary "),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,pu,m.wc(1,du))))}function gu(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",25),m.fc("click",function(){return m.Hc(n),m.jc().goToCreditRatingSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var hu=function(){return["/loan/account/list/underwritingStage/creditrating"]};function vu(e,t){1&e&&(m.Xb(0,"button",26),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,hu))}function yu(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",25),m.fc("click",function(){return m.Hc(n),m.jc().goToValuationAssetsSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Wu=function(){return["/loan/account/list/underwritingStage/valuationofassets"]};function Xu(e,t){if(1&e&&(m.Xb(0,"button",27),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,Wu))("disabled",!n.isCreditRatingDetails)}}function xu(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",25),m.fc("click",function(){return m.Hc(n),m.jc().goToLegalOpinionSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Cu=function(){return["/loan/account/list/underwritingStage/legalopinion"]};function Iu(e,t){if(1&e&&(m.Xb(0,"button",27),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("routerLink",m.wc(2,Cu))("disabled",!n.isValuationofAsset)}}var Au,Ou=function(e){return{"border-size":e}},Tu=((Au=function(){function e(t,n,o){a(this,e),this.ls=t,this.dialogService=n,this.router=o,this.isUnderWritingStageDone=!1,this.isCreditRatingDetails=!1,this.isValuationofAsset=!1,this.isLegalOpinion=!1,this.loanAccId="200"}return i(e,[{key:"ngOnInit",value:function(){this.isUnderWritingStageDone=this.ls.getItem("underWritingStage"),this.isCreditRatingDetails=this.ls.getItem("CREDIT_RATING_DONE"),this.isValuationofAsset=this.ls.getItem("VALUATION_OF_ASSET_DONE"),this.isLegalOpinion=this.ls.getItem("LEGAL_OPINION_DONE")}},{key:"goToCreditRatingSummary",value:function(){this.dialogService.creditRatingSummaryDialog()}},{key:"goToValuationAssetsSummary",value:function(){this.dialogService.valuationAssetsSummaryDialog()}},{key:"goToLegalOpinionSummary",value:function(){this.dialogService.legalOpinionSummaryDialog()}},{key:"viewSummary",value:function(){this.router.navigate(["loan/account/list/underwritingStage/summary"])}}]),e}()).\u0275fac=function(e){return new(e||Au)(m.Rb(W.a),m.Rb(da.a),m.Rb(d.h))},Au.\u0275cmp=m.Lb({type:Au,selectors:[["app-underwriting-stage"]],decls:64,vars:19,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf","ngIfElse"],["showCredit",""],["showValuation",""],["showOpinion",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create Retail Loan Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,fu,12,4,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card",11),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1. Credit Rating Details"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",12),m.Xb(20,"div",13),m.Xb(21,"p"),m.Tc(22," The information on the External Rating Agencies Rating / Scores for the Loan Applicant is collected. "),m.Wb(),m.Wb(),m.Xb(23,"div",13),m.Sb(24,"img",14),m.Wb(),m.Wb(),m.Wb(),m.Sb(25,"mat-divider"),m.Xb(26,"mat-card-actions"),m.Rc(27,gu,5,0,"ng-container",15),m.Rc(28,vu,4,2,"ng-template",null,16,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"div",10),m.Xb(31,"mat-card",11),m.Xb(32,"mat-card-header"),m.Xb(33,"mat-card-title"),m.Tc(34,"2. Valuation of Asset"),m.Wb(),m.Wb(),m.Xb(35,"mat-card-content"),m.Xb(36,"div",12),m.Xb(37,"div",13),m.Xb(38,"p"),m.Tc(39," The information on the asset valuation done by the bank approved valuator is captured. "),m.Wb(),m.Wb(),m.Xb(40,"div",13),m.Sb(41,"img",14),m.Wb(),m.Wb(),m.Wb(),m.Sb(42,"mat-divider"),m.Xb(43,"mat-card-actions"),m.Rc(44,yu,5,0,"ng-container",15),m.Rc(45,Xu,4,3,"ng-template",null,17,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(47,"div",10),m.Xb(48,"mat-card",11),m.Xb(49,"mat-card-header"),m.Xb(50,"mat-card-title"),m.Tc(51,"3. Legal Opinion"),m.Wb(),m.Wb(),m.Xb(52,"mat-card-content"),m.Xb(53,"div",12),m.Xb(54,"div",13),m.Xb(55,"p"),m.Tc(56,"The legal opinion provided by the bank approved lawyer and decision provided thereon is captured."),m.Wb(),m.Wb(),m.Xb(57,"div",13),m.Sb(58,"img",14),m.Wb(),m.Wb(),m.Wb(),m.Sb(59,"mat-divider"),m.Xb(60,"mat-card-actions"),m.Rc(61,xu,5,0,"ng-container",15),m.Rc(62,Iu,4,3,"ng-template",null,18,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(29),a=m.Dc(46),o=m.Dc(63);m.Eb(11),m.rc("ngIf",t.isUnderWritingStageDone),m.Eb(3),m.rc("ngClass",m.xc(13,Ou,t.isCreditRatingDetails||!t.isCreditRatingDetails)),m.Eb(10),m.rc("src","assets/images/svg/Mask_Group_9.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isCreditRatingDetails)("ngIfElse",n),m.Eb(4),m.rc("ngClass",m.xc(15,Ou,t.isValuationofAsset||!t.isValuationofAsset&&t.isCreditRatingDetails)),m.Eb(10),m.rc("src","assets/images/svg/Mask Group 11.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isValuationofAsset)("ngIfElse",a),m.Eb(4),m.rc("ngClass",m.xc(17,Ou,t.isLegalOpinion||!t.isLegalOpinion&&t.isValuationofAsset)),m.Eb(10),m.rc("src","assets/images/svg/Mask Group 10.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isLegalOpinion)("ngIfElse",o)}},directives:[p.e,p.b,u.n,f.a,u.l,bt.a,f.e,f.h,f.d,p.f,p.d,S.a,f.b,O.a,h.b,d.i],styles:[".not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}"]}),Au),Du=r("9P+6");function ku(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Bank Valuation is Required!"),m.Wb())}function Su(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Asset Valuer is Required!"),m.Wb())}function _u(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Actual Area of the Property is Required! "),m.Wb())}function Ru(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Actual Area of the Property is Required! "),m.Wb())}function Eu(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Market Value Of Asset is Required!"),m.Wb())}function Mu(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Asset Type is Required!"),m.Wb())}function Pu(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Borrowers Market Value of Asset is Required!"),m.Wb())}function Nu(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Valuation Date is Required!"),m.Wb())}function wu(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Face Value Of Asset is Required!"),m.Wb())}function Fu(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Forced Sale Value is Required"),m.Wb())}var Lu,Vu=((Lu=function(){function e(t,n,o,i,r,c,s,l,b){a(this,e),this.formBuilder=t,this.ls=n,this.snack=o,this.loader=i,this.api=r,this.apiService=c,this.datepipe=s,this.router=l,this.accountService=b,this.maxDate=new Date,this.minDate=new Date,this.showEditOption=!1,this.accountForm=this.formBuilder.group({bankValuation:[""],assetType:[""],propertyAreaSize:[""],mktValOfAsset:[""],assetValue:[""],valuationDate:[""],actualPropertyAreaSize:[""],actualPropertyAreaInUnits:[""],borrowersMktValOfAsset:[""],forcedSaleValue:[""],faceValOfAsset:[""]})}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);var t=JSON.parse(this.ls.getItem("VALUATION_OF_ASSET_DONE"));null!=this.loanaccountID&&t?(this.showEditOption=!0,setTimeout(function(){e.gettingValuationDetail()},10)):(console.log("else"),this.showEditOption=!1,this.buildAccountForm()),this.lastUpdateByCif()}},{key:"gettingValuationDetail",value:function(){var e=this;this.loader.open(),this.api.gettingValuationDetails(this.loanaccountID).subscribe(function(t){e.loader.close(),console.log(t),e.buildAccountForm(t,!0)},function(t){e.loader.close()})}},{key:"buildAccountForm",value:function(e,t){console.log(e);var n=e?re(e.valuationDate).format():"";this.accountForm=this.formBuilder.group({actualPropertyAreaInUnits:[e?e.actualPropertyAreaInUnits:"",$.A.required],actualPropertyAreaSize:[e?e.actualPropertyAreaSize:"",$.A.required],assetType:[e?e.assetType:"",$.A.required],assetValue:[e?e.assetValue:"",$.A.required],bankValuation:[e?e.bankValuation:"",$.A.required],borrowersMktValOfAsset:[e?e.borrowersMktValOfAsset:"",$.A.required],forcedSaleValue:[e?e.forcedSaleValue:"",$.A.required],faceValOfAsset:[e?e.faceValOfAsset:"",$.A.required],loanAccountId:[this.loanaccountID],mktValOfAsset:[e?e.mktValOfAsset:"",$.A.required],propertyAreaSize:[e?e.propertyAreaSize:"",$.A.required],valuationDate:[e?n:"",$.A.compose([$.A.required,$.A.min(this.lastData)])],valuationId:[e?e.valuationId:""]}),console.log("this.form",this.accountForm)}},{key:"OnSubmit",value:function(e){var t=this;console.log(e,"Values"),e.valuationDate=re(e.valuationDate).format("YYYY-MMM-DD HH:mm:ss"),this.api.saveValuationDetails(e).subscribe(function(e){console.log(e),200===e||null!==e?(t.snack.open(" Valuation Assets Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.next()):500===e&&t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){console.log(e)})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"next",value:function(){this.ls.setItem("VALUATION_OF_ASSET_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/list/underwritingStage/legalopinion"])}},{key:"lastUpdateByCif",value:function(){var e=this;this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(t){e.lastData=e.datepipe.transform(t.applicationDate,"yyyy-MM-dd")},function(e){console.error(e)})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/list/underwritingStage/creditrating"])}}]),e}()).\u0275fac=function(e){return new(e||Lu)(m.Rb($.f),m.Rb(W.a),m.Rb(A.a),m.Rb(Pe.a),m.Rb(x.b),m.Rb(x.b),m.Rb(u.f),m.Rb(d.h),m.Rb(ue.a))},Lu.\u0275cmp=m.Lb({type:Lu,selectors:[["app-valuation-of-assets"]],decls:126,vars:15,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask Group 11.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-2"],["appearance","outline",1,"full-width"],["name","bankValuation","formControlName","bankValuation","disableOptionCentering","","placeholder","Enter Bank Valuation"],["value","INTERNAL"],["value","EXTERNAL"],[4,"ngIf"],["fxLayout","row"],["fxFlex","15%",1,"flex-grow-1"],["readonly","","matInput","","formControlName","sq","placeholder","sq"],["fxFlex","83.3%",1,"flex-grow-1","gap"],["matInput","","formControlName","propertyAreaSize","name","remarks",1,"alignment",3,"keypress"],[1,"flex-grow-1"],["name","assetValue","formControlName","assetValue","disableOptionCentering",""],["value","Bank Manager"],["value","Bank Clerk"],["value","Bank Accountant"],["fxLayout","row "],["fxFlex","20%",1,"flex-grow-1"],[1,"size"],["fxflex","20%",1,"flex-grow-1","gap"],["name","actualPropertyAreaInUnits","disableOptionCentering","","formControlName","actualPropertyAreaInUnits"],["value","Sq"],["value","Acr"],["value","Cent"],["fxflex","25%",1,"flex-grow-1","gap"],["matInput","","formControlName","actualPropertyAreaSize","name","actualPropertyAreaSize","name","remarks",1,"alignment",3,"keypress"],["matInput","","formControlName","mktValOfAsset","name","mktValOfAsset","placeholder","Enter Market Value","name","remarks",1,"alignment",3,"keypress"],["name","assetType","formControlName","assetType","disableOptionCentering",""],["value","Personal"],["value","Vehicle"],["value","Home"],["matInput","","formControlName","borrowersMktValOfAsset","placeholder","Borrowers Market Value ","name","borrowersMktValOfAsset",1,"alignment",3,"keypress"],["matInput","","name","valuationDate","formControlName","valuationDate","placeholder","DD/MM/YYYY","disableOptionCentering","",1,"alignment",3,"matDatepicker","min"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","formControlName","faceValOfAsset","placeholder","Enter Face Value","name","faceValOfAsset",1,"alignment",3,"keypress"],["matInput","","formControlName","forcedSaleValue","placeholder","Enter Forced Sale Value","name","forcedSaleValue",1,"alignment",3,"keypress"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Valuation of Asset"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"fieldset"),m.Xb(11,"legend",7),m.Tc(12,"Valuation Details"),m.Wb(),m.Wb(),m.Xb(13,"mat-card-content"),m.Xb(14,"form",8),m.Xb(15,"div",9),m.Xb(16,"div",10),m.Xb(17,"div",11),m.Xb(18,"mat-form-field",12),m.Xb(19,"mat-label"),m.Tc(20,"Bank Valuation*"),m.Wb(),m.Xb(21,"mat-select",13),m.Xb(22,"mat-option",14),m.Tc(23,"Internal"),m.Wb(),m.Xb(24,"mat-option",15),m.Tc(25,"External"),m.Wb(),m.Wb(),m.Rc(26,ku,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(27,"div"),m.Xb(28,"div",17),m.Xb(29,"div",18),m.Xb(30,"mat-form-field",12),m.Xb(31,"mat-label"),m.Tc(32,"sq"),m.Wb(),m.Xb(33,"b"),m.Sb(34,"input",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(35,"div",20),m.Xb(36,"mat-form-field",12),m.Xb(37,"mat-label"),m.Tc(38,"Property Area*"),m.Wb(),m.Xb(39,"input",21),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(40,"div",22),m.Xb(41,"mat-form-field",12),m.Xb(42,"mat-label"),m.Tc(43,"Asset Valuer*"),m.Wb(),m.Xb(44,"mat-select",23),m.Xb(45,"mat-option",24),m.Tc(46,"Bank Manager"),m.Wb(),m.Xb(47,"mat-option",25),m.Tc(48,"Bank Clerk"),m.Wb(),m.Xb(49,"mat-option",26),m.Tc(50,"Bank Accountant"),m.Wb(),m.Wb(),m.Rc(51,Su,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(52,"div"),m.Xb(53,"div",27),m.Xb(54,"div",28),m.Xb(55,"mat-hint",29),m.Xb(56,"b"),m.Tc(57,"Actual Property Area *"),m.Wb(),m.Wb(),m.Wb(),m.Xb(58,"div",30),m.Xb(59,"mat-form-field",12),m.Xb(60,"mat-label"),m.Tc(61,"Asset Valuer*"),m.Wb(),m.Xb(62,"mat-select",31),m.Xb(63,"mat-option",32),m.Tc(64,"Sq"),m.Wb(),m.Xb(65,"mat-option",33),m.Tc(66,"Acr"),m.Wb(),m.Xb(67,"mat-option",34),m.Tc(68,"Cent"),m.Wb(),m.Wb(),m.Rc(69,_u,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(70,"div",35),m.Xb(71,"mat-form-field",12),m.Xb(72,"input",36),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Rc(73,Ru,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(74,"div",11),m.Xb(75,"mat-form-field",12),m.Xb(76,"mat-label"),m.Tc(77,"Market Value Of Asset*"),m.Wb(),m.Xb(78,"input",37),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Rc(79,Eu,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Wb(),m.Xb(80,"div",10),m.Xb(81,"div",22),m.Xb(82,"mat-form-field",12),m.Xb(83,"mat-label"),m.Tc(84,"Asset Type*"),m.Wb(),m.Xb(85,"mat-select",38),m.Xb(86,"mat-option",39),m.Tc(87,"Personal"),m.Wb(),m.Xb(88,"mat-option",40),m.Tc(89,"Vehicle"),m.Wb(),m.Xb(90,"mat-option",41),m.Tc(91,"Home"),m.Wb(),m.Wb(),m.Rc(92,Mu,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(93,"div",22),m.Xb(94,"mat-form-field",12),m.Xb(95,"mat-label"),m.Tc(96,"Borrowers Market Value of Asset*"),m.Wb(),m.Xb(97,"input",42),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Rc(98,Pu,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(99,"div",22),m.Xb(100,"mat-form-field",12),m.Xb(101,"mat-label"),m.Tc(102,"Valuation Date*"),m.Wb(),m.Sb(103,"input",43),m.Xb(104,"div",44),m.Sb(105,"mat-datepicker-toggle",45),m.Sb(106,"mat-datepicker",null,46),m.Wb(),m.Rc(108,Nu,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(109,"div",11),m.Xb(110,"mat-form-field",12),m.Xb(111,"mat-label"),m.Tc(112,"Face Value Of Asset*"),m.Wb(),m.Xb(113,"input",47),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Rc(114,wu,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(115,"div",22),m.Xb(116,"mat-form-field",12),m.Xb(117,"mat-label"),m.Tc(118,"Forced Sale Value*"),m.Wb(),m.Xb(119,"input",48),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Rc(120,Fu,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(121,"div",49),m.Xb(122,"button",50),m.fc("click",function(){return t.goBack()}),m.Tc(123," Back "),m.Wb(),m.Xb(124,"button",51),m.fc("click",function(){return t.OnSubmit(t.accountForm.value)}),m.Tc(125," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(107);m.Eb(14),m.rc("formGroup",t.accountForm),m.Eb(12),m.rc("ngIf",!t.accountForm.get("bankValuation").valid&&t.accountForm.get("bankValuation").touched),m.Eb(25),m.rc("ngIf",!t.accountForm.get("assetValue").valid&&t.accountForm.get("assetValue").touched),m.Eb(18),m.rc("ngIf",!t.accountForm.get("actualPropertyAreaInUnits").valid&&t.accountForm.get("actualPropertyAreaInUnits").touched),m.Eb(4),m.rc("ngIf",!t.accountForm.get("actualPropertyAreaSize").valid&&t.accountForm.get("actualPropertyAreaSize").touched),m.Eb(6),m.rc("ngIf",!t.accountForm.get("mktValOfAsset").valid&&t.accountForm.get("mktValOfAsset").touched),m.Eb(13),m.rc("ngIf",!t.accountForm.get("assetType").valid&&t.accountForm.get("assetType").touched),m.Eb(6),m.rc("ngIf",!t.accountForm.get("borrowersMktValOfAsset").valid&&t.accountForm.get("borrowersMktValOfAsset").touched),m.Eb(5),m.rc("matDatepicker",n)("min",t.lastData),m.Eb(2),m.rc("for",n),m.Eb(3),m.rc("ngIf",!t.accountForm.get("valuationDate").valid&&t.accountForm.get("valuationDate").touched),m.Eb(6),m.rc("ngIf",!t.accountForm.get("faceValOfAsset").valid&&t.accountForm.get("faceValOfAsset").touched),m.Eb(6),m.rc("ngIf",!t.accountForm.get("forcedSaleValue").valid&&t.accountForm.get("forcedSaleValue").touched),m.Eb(4),m.rc("disabled",!(t.accountForm.controls.bankValuation.valid&&t.accountForm.controls.assetValue.valid&&t.accountForm.controls.actualPropertyAreaInUnits.valid&&t.accountForm.controls.actualPropertyAreaSize.valid&&t.accountForm.controls.mktValOfAsset.valid&&t.accountForm.controls.assetType.valid&&t.accountForm.controls.borrowersMktValOfAsset.valid&&t.accountForm.controls.valuationDate.valid&&t.accountForm.controls.faceValOfAsset.valid&&t.accountForm.controls.forcedSaleValue.valid))}},directives:[p.e,p.b,f.a,f.d,$.C,$.s,$.j,p.f,g.c,g.g,J.a,$.r,$.i,Z.n,u.n,Q.b,$.c,g.f,ce.e,ce.g,g.j,ce.d,p.d,h.b,g.b],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{width:100px}.full-width2[_ngcontent-%COMP%]{width:335px}.inputMatcard[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px;width:300px}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.datechange[_ngcontent-%COMP%]{height:10px;margin-right:10px}.inputMatName[_ngcontent-%COMP%]{margin-top:5px}.inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName1[_ngcontent-%COMP%]{margin-top:10px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:20%;margin-left:-1%}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-hint[_ngcontent-%COMP%]{font-family:Manrope}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:5%}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:24px!important;margin-right:20px;margin-top:20px!important}.size[_ngcontent-%COMP%]{font-size:small}.gap[_ngcontent-%COMP%]{margin-left:10px!important}"]}),Lu);function qu(e,t){1&e&&(m.Xb(0,"div",17),m.Sb(1,"mat-progress-bar",18),m.Xb(2,"p",19),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}var ju,Bu=function(){return["/loan/account/digitalsigning/list/options"]},zu=((ju=function(){function e(t,n,o){a(this,e),this.router=t,this.ls=n,this.cdr=o,this.informations=[{id:1,title:"1. Digital Signing",content:"Customer can either sign now or sign later",percentage:70,status:"Pending",state:"application/digital-sign/options",avatar:"assets/images/esign.jpg"}],this.isEsignScreen=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.accountId=this.ls.getItem("accountId"),this.isEsignScreen=this.ls.getItem("eSignStage"),this.accountService.refresh.subscribe(function(t){e.accountId=e.ls.getItem("accountId"),e.isEsignScreen=e.ls.getItem("eSignStage"),e.cdr.markForCheck()})}},{key:"goToDetail",value:function(e){console.log(e),this.router.navigate(["/home/"+e.state])}}]),e}()).\u0275fac=function(e){return new(e||ju)(m.Rb(d.h),m.Rb(W.a),m.Rb(m.h))},ju.\u0275cmp=m.Lb({type:ju,selectors:[["app-digital-signing"]],decls:31,vars:5,consts:[["fxLayout","row"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],["mat-button","","color","primary",3,"routerLink"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create New Customer"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Create New Customer Account with bank XYZ bank in a better way. "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(11,"div",8),m.Xb(12,"div",9),m.Xb(13,"mat-card"),m.Xb(14,"mat-card-header"),m.Xb(15,"mat-card-title"),m.Tc(16,"1. Digital Signing"),m.Wb(),m.Wb(),m.Xb(17,"mat-card-content"),m.Xb(18,"div",10),m.Xb(19,"div",11),m.Xb(20,"p",12),m.Tc(21,"Customer can either sign now or sign later"),m.Wb(),m.Wb(),m.Xb(22,"div",13),m.Sb(23,"img",14),m.Wb(),m.Wb(),m.Rc(24,qu,4,2,"div",15),m.Wb(),m.Sb(25,"mat-divider"),m.Xb(26,"mat-card-actions"),m.Xb(27,"a",16),m.Tc(28),m.Xb(29,"mat-icon"),m.Tc(30,"chevron_right"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(23),m.rc("src","assets/images/svg/MaskGroup5_1.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isEsignScreen),m.Eb(3),m.rc("routerLink",m.wc(4,Bu)),m.Eb(1),m.Vc(" ",t.isEsignScreen?"Show Details":"Add Details"," "))},directives:[p.e,p.b,f.a,f.e,f.h,f.d,p.f,p.d,u.n,S.a,f.b,h.a,d.k,O.a,_.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}"]}),ju),Uu=function(){return{y:"50px",delay:"300ms"}},Hu=function(e){return{value:"*",params:e}};function Gu(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",17),m.Xb(1,"mat-card"),m.Xb(2,"div",18),m.Xb(3,"div",19),m.Xb(4,"mat-icon",20),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",21),m.Xb(7,"h6"),m.Tc(8,"Supervisor Approval Stage"),m.Wb(),m.Wb(),m.Sb(9,"span",22),m.Xb(10,"button",16),m.fc("click",function(){return m.Hc(n),m.jc().addDetails()}),m.Tc(11," View Details "),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,Hu,m.wc(1,Uu))))}var Yu,$u=((Yu=function(){function e(t,n,o){a(this,e),this.ls=t,this.router=n,this.apiService=o,this.loanApprovedDetailsScreen=!1}return i(e,[{key:"ngOnInit",value:function(){this.loanApprovedDetailsScreen=this.ls.getItem("APPROVED_DETAILS")}},{key:"addDetails",value:function(){console.log("calling"),this.apiService.sendApprovedStatus(!0),this.router.navigate(["/loan/account/supervisor-approveddetails"])}}]),e}()).\u0275fac=function(e){return new(e||Yu)(m.Rb(W.a),m.Rb(d.h),m.Rb(x.b))},Yu.\u0275cmp=m.Lb({type:Yu,selectors:[["app-supervisor-approval-stage"]],decls:32,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],["mat-button","","color","primary",3,"click"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create Retail Loan Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,Gu,12,4,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card"),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1. Approval Details "),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",11),m.Xb(20,"div",12),m.Xb(21,"p",13),m.Tc(22," Approval details are captured. "),m.Wb(),m.Wb(),m.Xb(23,"div",14),m.Sb(24,"img",15),m.Wb(),m.Wb(),m.Wb(),m.Sb(25,"mat-divider"),m.Xb(26,"mat-card-actions"),m.Vb(27),m.Xb(28,"button",16),m.fc("click",function(){return t.addDetails()}),m.Tc(29," View Details "),m.Xb(30,"mat-icon"),m.Tc(31,"chevron_right"),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(11),m.rc("ngIf",t.loanApprovedDetailsScreen),m.Eb(13),m.rc("src","assets/images/svg/MaskGroup_16.svg",m.Jc))},directives:[p.e,p.b,u.n,f.a,f.e,f.h,f.d,p.f,p.d,S.a,f.b,h.b,O.a],styles:[".notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}.mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}"]}),Yu),Qu=r("q59W"),Ju=r("hzfI"),Zu=r("hHub");function Ku(e,t){1&e&&(m.Xb(0,"div",30),m.Sb(1,"img",31),m.Wb())}function em(e,t){1&e&&(m.Xb(0,"div",32),m.Xb(1,"div",33),m.Xb(2,"b"),m.Tc(3,"Loan Application Enrichment"),m.Wb(),m.Wb(),m.Wb())}function tm(e,t){if(1&e&&(m.Xb(0,"tr",36),m.Xb(1,"div",37),m.Vb(2,34),m.Xb(3,"div",38),m.Sb(4,"input",39),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",40),m.Xb(7,"mat-label",41),m.Tc(8,"Interest Rate Applicable"),m.Wb(),m.Sb(9,"input",42),m.Wb(),m.Wb(),m.Xb(10,"td"),m.Xb(11,"mat-card",40),m.Xb(12,"mat-label",41),m.Tc(13,"Margin in %"),m.Wb(),m.Sb(14,"input",43),m.Wb(),m.Wb(),m.Xb(15,"td"),m.Xb(16,"mat-card",40),m.Xb(17,"mat-label",41),m.Tc(18,"Effective Rate %"),m.Wb(),m.Sb(19,"input",44),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb()),2&e){var n=t.$implicit;m.Eb(2),m.rc("formGroup",n)}}function nm(e,t){if(1&e&&(m.Xb(0,"form",34),m.Xb(1,"table"),m.Xb(2,"tbody"),m.Rc(3,tm,20,1,"tr",35),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.interestForm),m.Eb(3),m.rc("ngForOf",n.in.controls)}}function am(e,t){if(1&e&&(m.Xb(0,"div",12),m.Xb(1,"mat-card",13),m.Xb(2,"mat-card-content"),m.Xb(3,"div",14),m.Xb(4,"div",15),m.Xb(5,"div",16),m.Vb(6),m.Xb(7,"div",17),m.Xb(8,"mat-hint",18),m.Tc(9,"Type of Repayment"),m.Wb(),m.Sb(10,"br"),m.Xb(11,"mat-hint",21),m.Tc(12),m.Wb(),m.Wb(),m.Xb(13,"div",17),m.Xb(14,"mat-hint",18),m.Tc(15,"Repayment Frequency"),m.Wb(),m.Sb(16,"br"),m.Xb(17,"mat-hint",21),m.Tc(18),m.Wb(),m.Wb(),m.Xb(19,"div",17),m.Xb(20,"mat-hint",18),m.Tc(21,"First Repayment Date"),m.Wb(),m.Sb(22,"br"),m.Xb(23,"mat-hint",21),m.Tc(24),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(25,"div"),m.Xb(26,"span",22),m.Sb(27,"hr",23),m.Wb(),m.Wb(),m.Xb(28,"div",16),m.Vb(29),m.Xb(30,"div",17),m.Xb(31,"mat-hint",18),m.Tc(32,"Loan Tenure"),m.Wb(),m.Sb(33,"br"),m.Xb(34,"mat-hint",21),m.Tc(35),m.Wb(),m.Wb(),m.Xb(36,"div",17),m.Xb(37,"mat-hint",18),m.Tc(38,"Maturity Date"),m.Wb(),m.Sb(39,"br"),m.Xb(40,"mat-hint",21),m.Tc(41),m.Wb(),m.Wb(),m.Xb(42,"div",17),m.Xb(43,"mat-hint",18),m.Tc(44,"Repayment Mode"),m.Wb(),m.Sb(45,"br"),m.Xb(46,"mat-hint",21),m.Tc(47),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(48,"div"),m.Xb(49,"span",22),m.Sb(50,"hr",23),m.Wb(),m.Wb(),m.Xb(51,"div",16),m.Vb(52),m.Xb(53,"div",17),m.Xb(54,"mat-hint",18),m.Tc(55,"Moratorium Period ( in months)"),m.Wb(),m.Sb(56,"br"),m.Xb(57,"mat-hint",21),m.Tc(58),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(59,"h3",24),m.Tc(60,"Internal Account"),m.Wb(),m.Xb(61,"mat-card",13),m.Xb(62,"mat-card-content"),m.Xb(63,"div",14),m.Xb(64,"div",15),m.Xb(65,"div",16),m.Vb(66),m.Xb(67,"div",17),m.Xb(68,"mat-hint",18),m.Tc(69,"Customer Account"),m.Wb(),m.Sb(70,"br"),m.Xb(71,"mat-hint",21),m.Tc(72),m.Wb(),m.Wb(),m.Xb(73,"div",17),m.Xb(74,"mat-hint",18),m.Tc(75,"Branch Code"),m.Wb(),m.Sb(76,"br"),m.Xb(77,"mat-hint",21),m.Tc(78),m.Wb(),m.Wb(),m.Xb(79,"div",17),m.Xb(80,"mat-hint",18),m.Tc(81,"Bank Name"),m.Wb(),m.Sb(82,"br"),m.Xb(83,"mat-hint",21),m.Tc(84),m.Wb(),m.Wb(),m.Xb(85,"div",17),m.Xb(86,"mat-hint",18),m.Tc(87,"IFSC Code"),m.Wb(),m.Sb(88,"br"),m.Xb(89,"mat-hint",21),m.Tc(90),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(91,"div"),m.Xb(92,"span",22),m.Sb(93,"hr",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.jc();m.Eb(12),m.Uc(n.repaymentInfo.typeOfRepayment),m.Eb(6),m.Vc("",n.repaymentInfo.repaymentFrequency," "),m.Eb(6),m.Vc("",n.repaymentInfo.firstRepaymentDate," "),m.Eb(11),m.Vc("",n.repaymentInfo.loanTenure," "),m.Eb(6),m.Uc(n.repaymentInfo.maturityDate),m.Eb(6),m.Vc("",n.repaymentInfo.repaymentMode," "),m.Eb(11),m.Vc("",n.repaymentInfo.moraturioumPeriod," "),m.Eb(14),m.Uc(n.repaymentInfo.customerAccount),m.Eb(6),m.Uc(n.repaymentInfo.branchCode),m.Eb(6),m.Uc(n.repaymentInfo.bankName),m.Eb(6),m.Uc(n.repaymentInfo.ifscCode)}}function om(e,t){if(1&e&&(m.Xb(0,"tr",47),m.Xb(1,"div",48),m.Vb(2,34),m.Xb(3,"div",38),m.Sb(4,"input",39),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",40),m.Xb(7,"mat-label",41),m.Tc(8,"Amount"),m.Wb(),m.Sb(9,"input",49),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb()),2&e){var n=t.$implicit;m.Eb(2),m.rc("formGroup",n)}}function im(e,t){if(1&e&&(m.Xb(0,"form",34),m.Xb(1,"table",45),m.Xb(2,"tbody"),m.Rc(3,om,10,1,"tr",46),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.chargeFormIT),m.Eb(3),m.rc("ngForOf",n.in2.controls)}}function rm(e,t){if(1&e&&(m.Xb(0,"div",12),m.Xb(1,"h3",24),m.Tc(2,"Statement Preferences"),m.Wb(),m.Xb(3,"mat-card",13),m.Xb(4,"mat-card-content"),m.Xb(5,"div",14),m.Xb(6,"div",15),m.Xb(7,"div",16),m.Vb(8),m.Xb(9,"div",50),m.Xb(10,"mat-hint",18),m.Tc(11,"Statement Cycle"),m.Wb(),m.Sb(12,"br"),m.Xb(13,"mat-hint",21),m.Tc(14),m.Wb(),m.Wb(),m.Xb(15,"div",50),m.Xb(16,"mat-hint",18),m.Tc(17,"Statement Type"),m.Wb(),m.Sb(18,"br"),m.Xb(19,"mat-hint",21),m.Tc(20),m.Wb(),m.Wb(),m.Xb(21,"div",50),m.Xb(22,"mat-hint",18),m.Tc(23,"Start Date"),m.Wb(),m.Sb(24,"br"),m.Xb(25,"mat-hint",21),m.Tc(26),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(27,"div"),m.Xb(28,"span",22),m.Sb(29,"hr",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"h3",24),m.Tc(31,"Holiday Preferences"),m.Wb(),m.Xb(32,"mat-card",13),m.Xb(33,"mat-card-content"),m.Xb(34,"div",14),m.Xb(35,"div",15),m.Xb(36,"div",16),m.Vb(37),m.Xb(38,"div",50),m.Xb(39,"mat-hint",18),m.Tc(40,"Ignore Holidays ?"),m.Wb(),m.Sb(41,"br"),m.Xb(42,"div",19),m.Sb(43,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Xb(44,"div",50),m.Xb(45,"mat-hint",18),m.Tc(46,"Holiday Check"),m.Wb(),m.Sb(47,"br"),m.Xb(48,"mat-hint",21),m.Tc(49),m.Wb(),m.Wb(),m.Xb(50,"div",50),m.Xb(51,"mat-hint",18),m.Tc(52,"Move Across Month"),m.Wb(),m.Sb(53,"br"),m.Xb(54,"mat-hint",21),m.Tc(55),m.Wb(),m.Wb(),m.Xb(56,"div",50),m.Xb(57,"mat-hint",18),m.Tc(58,"Cascade Schedules ?"),m.Wb(),m.Sb(59,"br"),m.Xb(60,"div",19),m.Sb(61,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(62,"h7",24),m.Tc(63,"Maturity Date"),m.Wb(),m.Xb(64,"mat-card",13),m.Xb(65,"mat-card-content"),m.Xb(66,"div",14),m.Xb(67,"div",15),m.Xb(68,"div",16),m.Vb(69),m.Xb(70,"div",50),m.Xb(71,"mat-hint",18),m.Tc(72,"Ignore Holidays ?"),m.Wb(),m.Sb(73,"br"),m.Xb(74,"div",19),m.Sb(75,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Xb(76,"div",50),m.Xb(77,"mat-hint",18),m.Tc(78,"Holiday Check"),m.Wb(),m.Sb(79,"br"),m.Xb(80,"mat-hint",21),m.Tc(81),m.Wb(),m.Wb(),m.Xb(82,"div",50),m.Xb(83,"mat-hint",18),m.Tc(84,"Move Across Month"),m.Wb(),m.Sb(85,"br"),m.Xb(86,"mat-hint",21),m.Tc(87),m.Wb(),m.Wb(),m.Xb(88,"div",50),m.Xb(89,"mat-hint",18),m.Tc(90,"Cascade Schedules ?"),m.Wb(),m.Sb(91,"br"),m.Xb(92,"div",19),m.Sb(93,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(94,"h7",24),m.Tc(95,"Revision Schedules"),m.Wb(),m.Xb(96,"mat-card",13),m.Xb(97,"mat-card-content"),m.Xb(98,"div",14),m.Xb(99,"div",15),m.Xb(100,"div",16),m.Vb(101),m.Xb(102,"div",50),m.Xb(103,"mat-hint",18),m.Tc(104,"Ignore Holidays ?"),m.Wb(),m.Sb(105,"br"),m.Xb(106,"div",19),m.Sb(107,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Xb(108,"div",50),m.Xb(109,"mat-hint",18),m.Tc(110,"Holiday Check"),m.Wb(),m.Sb(111,"br"),m.Xb(112,"mat-hint",21),m.Tc(113),m.Wb(),m.Wb(),m.Xb(114,"div",50),m.Xb(115,"mat-hint",18),m.Tc(116,"Move Across Month"),m.Wb(),m.Sb(117,"br"),m.Xb(118,"mat-hint",21),m.Tc(119),m.Wb(),m.Wb(),m.Xb(120,"div",50),m.Xb(121,"mat-hint",18),m.Tc(122,"Cascade Schedules ?"),m.Wb(),m.Sb(123,"br"),m.Xb(124,"div",19),m.Sb(125,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.jc();m.Eb(14),m.Uc(n.accServiceInfo.statementCycle),m.Eb(6),m.Vc("",n.accServiceInfo.statementType," "),m.Eb(6),m.Vc("",n.accServiceInfo.startDate," "),m.Eb(17),m.rc("checked",n.ignoreHolidayVarHoliday),m.Eb(6),m.Uc(n.holiday.holidayCheck),m.Eb(6),m.Uc(n.holiday.moveAcrossMonth),m.Eb(6),m.rc("checked",n.cascadeVarHoliday),m.Eb(14),m.rc("checked",n.ignoreHolidayVarMaturity),m.Eb(6),m.Uc(n.maturity.holidayCheck),m.Eb(6),m.Uc(n.maturity.moveAcrossMonth),m.Eb(6),m.rc("checked",n.cascadeVarMaturity),m.Eb(14),m.rc("checked",n.ignoreHolidayVarRevison),m.Eb(6),m.Uc(n.revision.holidayCheck),m.Eb(6),m.Uc(n.revision.moveAcrossMonth),m.Eb(6),m.rc("checked",n.cascadeVarRevison)}}function cm(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",51),m.Xb(1,"button",52),m.fc("click",function(){return m.Hc(n),m.jc().Back()}),m.Tc(2," Back "),m.Wb(),m.Xb(3,"button",53),m.fc("click",function(){return m.Hc(n),m.jc().Done()}),m.Tc(4," Done "),m.Wb(),m.Wb()}}var sm,lm=((sm=function(){function e(t,n,o,i,r){a(this,e),this.formBuilder=t,this.ls=n,this.snack=o,this.api=i,this.router=r,this.appEntrySummaryView=!1,this.accountType="Home Loan"}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.api.getApprovedStatus().subscribe(function(t){console.log("message",t),e.isApprovedSreen=t}),this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(function(){e.getLoanEnrichmentDetails(e.loanAccountId)},10),this.interestForm=this.formBuilder.group({interest:new $.d([])}),this.savingForm=this.formBuilder.group({saving:new $.d([])}),this.chargeFormIT=this.formBuilder.group({chargeIT:new $.d([])}),this.loanForm=this.formBuilder.group({loan:new $.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(t){e.onloanCharge(t.length),e.in2.patchValue(t)})}},{key:"getLoanEnrichmentDetails",value:function(e){var t=this;this.api.getLoanEnrichmentSummmary(this.loanAccountId).subscribe(function(e){console.log(e),t.intererstInfo=e.intererstInfo,console.log(t.intererstInfo),t.onChangeInterest(t.intererstInfo.length),t.in.patchValue(t.intererstInfo),t.disbursementInfo=e.disbursementInfo,t.CheckboxVar=t.disbursementInfo.mutipleDisbursementRequired,console.log(t.disbursementInfo),t.repaymentInfo=e.repaymentInfo,console.log(t.repaymentInfo),t.chargeInfo=e.chargeInfo,t.onloanCharge(t.chargeInfo.length),t.in2.patchValue(t.chargeInfo),t.accServiceInfo=e.accServiceInfo,t.maturity=t.accServiceInfo.serviceDetails.find(function(e){return"Maturity"===e.serviceName}),t.revision=t.accServiceInfo.serviceDetails.find(function(e){return"Revision"===e.serviceName}),t.holiday=t.accServiceInfo.serviceDetails.find(function(e){return"Holiday Preference"===e.serviceName}),t.cascadeVarMaturity=t.maturity.cascadeSchedules,t.cascadeVarRevison=t.revision.cascadeSchedules,t.cascadeVarHoliday=t.holiday.cascadeSchedules,t.ignoreHolidayVarMaturity=t.maturity.ignoreHolidays,t.ignoreHolidayVarRevison=t.revision.ignoreHolidays,t.ignoreHolidayVarHoliday=t.holiday.ignoreHolidays})}},{key:"onChangeInterest",value:function(e){var t=e||0;if(this.in.length<t)for(var n=this.in.length;n<t;n++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],loanAccountId:[this.loanAccountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var a=this.in.length;a>=t;a--)this.in.removeAt(a)}},{key:"onChangeSaving",value:function(e){var t=e||0;if(this.is.length<t)for(var n=this.is.length;n<t;n++)this.is.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],loanAccountId:[this.loanAccountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var a=this.is.length;a>=t;a--)this.is.removeAt(a)}},{key:"onChangeLoan",value:function(e){var t=e||0;if(this.iloan.length<t)for(var n=this.iloan.length;n<t;n++)this.iloan.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],loanAccountId:[this.loanAccountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var a=this.iloan.length;a>=t;a--)this.iloan.removeAt(a)}},{key:"onloanCharge",value:function(e){var t=e||0;if(this.in2.length<t)for(var n=this.in2.length;n<t;n++)this.in2.push(this.formBuilder.group({intrestType:[""],amout:[""],waiver:[!0],loanAccountId:[this.loanAccountId],chargeDetailsId:[""]}));else for(var a=this.in2.length;a>=t;a--)this.in2.removeAt(a)}},{key:"f2",get:function(){return this.chargeFormIT.controls}},{key:"in2",get:function(){return this.f2.chargeIT}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.interest}},{key:"fs",get:function(){return this.savingForm.controls}},{key:"is",get:function(){return this.fs.saving}},{key:"floan",get:function(){return this.loanForm.controls}},{key:"iloan",get:function(){return this.floan.loan}},{key:"fCharge",get:function(){return this.chargeFormIT.controls}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("chargeInfo detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"checkbox",value:function(e){console.log(e.checked)}},{key:"assignAccountType",value:function(e){this.accountType=e}},{key:"Done",value:function(){this.router.navigate(["/loan/account/list/underwritingStage"])}},{key:"Back",value:function(){this.router.navigate(["/loan/account/application-enrichment"])}}]),e}()).\u0275fac=function(e){return new(e||sm)(m.Rb($.f),m.Rb(W.a),m.Rb(A.a),m.Rb(x.b),m.Rb(d.h))},sm.\u0275cmp=m.Lb({type:sm,selectors:[["app-loan-enrichment-view-summary"]],decls:117,vars:15,consts:[["class","propic text-center",4,"ngIf"],["class","profile-title text-center mt-8",4,"ngIf"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"fullcard"],["fxLayout","row"],[1,"divider"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],[1,"full-width"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"toggle"],[3,"checked"],[1,"valueText"],["layout","row"],["flex","",1,"line"],["fxLayout","row",1,"paraFont"],["fxFlex","100%",4,"ngIf"],[1,"matCard"],["fxFlex","100"],[1,"full-width",2,"height","auto"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px","class","mt-32",4,"ngIf"],[1,"propic","text-center"],["src","assets/images/svg/undraw_statistic_chart_38b6.svg","alt","",1,"entryImg"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[3,"formGroup"],["class","mt-4","style","display: flex;flex-wrap: wrap;",4,"ngFor","ngForOf"],[1,"mt-4",2,"display","flex","flex-wrap","wrap"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","chargeTable",4,"ngFor","ngForOf"],[1,"chargeTable"],[1,"chargeLeft"],["matInput","","formControlName","amout","name","account_branch","readonly","",1,"input"],["fxFlex","25%","fxFlex.xs","100%"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(m.Rc(0,Ku,2,0,"div",0),m.Rc(1,em,4,0,"div",1),m.Xb(2,"div",2),m.Xb(3,"h4",3),m.Tc(4,"Loan Interest Details"),m.Wb(),m.Wb(),m.Xb(5,"div",4),m.Xb(6,"div",5),m.Sb(7,"div",6),m.Rc(8,nm,4,2,"form",7),m.Sb(9,"br"),m.Xb(10,"div",8),m.Xb(11,"div",9),m.Xb(12,"h4",3),m.Tc(13,"Loan Disbursement Details"),m.Wb(),m.Wb(),m.Xb(14,"div",2),m.Sb(15,"mat-divider",10),m.Wb(),m.Xb(16,"div",11),m.Xb(17,"div",12),m.Xb(18,"mat-card",13),m.Xb(19,"mat-card-content"),m.Xb(20,"div",14),m.Xb(21,"div",15),m.Xb(22,"div",16),m.Vb(23),m.Xb(24,"div",17),m.Xb(25,"mat-hint",18),m.Tc(26,"Required Multiple Disbursement ?"),m.Wb(),m.Sb(27,"br"),m.Xb(28,"div",19),m.Sb(29,"mat-slide-toggle",20),m.Wb(),m.Wb(),m.Xb(30,"div",17),m.Xb(31,"mat-hint",18),m.Tc(32,"Loan Amount"),m.Wb(),m.Sb(33,"br"),m.Xb(34,"mat-hint",21),m.Tc(35),m.Wb(),m.Wb(),m.Xb(36,"div",17),m.Xb(37,"mat-hint",18),m.Tc(38,"Number of Disbursement "),m.Wb(),m.Sb(39,"br"),m.Xb(40,"mat-hint",21),m.Tc(41),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(42,"div"),m.Xb(43,"span",22),m.Sb(44,"hr",23),m.Wb(),m.Wb(),m.Xb(45,"div",16),m.Vb(46),m.Xb(47,"div",17),m.Xb(48,"mat-hint",18),m.Tc(49,"First Disbursement Date"),m.Wb(),m.Sb(50,"br"),m.Xb(51,"mat-hint",21),m.Tc(52),m.Wb(),m.Wb(),m.Xb(53,"div",17),m.Xb(54,"mat-hint",18),m.Tc(55,"Total Disbursement"),m.Wb(),m.Sb(56,"br"),m.Xb(57,"mat-hint",21),m.Tc(58),m.Wb(),m.Wb(),m.Xb(59,"div",17),m.Xb(60,"mat-hint",18),m.Tc(61,"Disbursement Mode"),m.Wb(),m.Sb(62,"br"),m.Xb(63,"mat-hint",21),m.Tc(64),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(65,"div"),m.Xb(66,"span",22),m.Sb(67,"hr",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(68,"h7",24),m.Tc(69,"Internal Account"),m.Wb(),m.Xb(70,"mat-card",13),m.Xb(71,"mat-card-content"),m.Xb(72,"div",14),m.Xb(73,"div",15),m.Xb(74,"div",16),m.Vb(75),m.Xb(76,"div",17),m.Xb(77,"mat-hint",18),m.Tc(78,"Customer Account"),m.Wb(),m.Sb(79,"br"),m.Xb(80,"mat-hint",21),m.Tc(81),m.Wb(),m.Wb(),m.Xb(82,"div",17),m.Xb(83,"mat-hint",18),m.Tc(84,"Branch Code"),m.Wb(),m.Sb(85,"br"),m.Xb(86,"mat-hint",21),m.Tc(87),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(88,"div"),m.Xb(89,"span",22),m.Sb(90,"hr",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(91,"br"),m.Xb(92,"div",8),m.Xb(93,"div",9),m.Xb(94,"h4",3),m.Tc(95,"Loan Repayment Details"),m.Wb(),m.Wb(),m.Xb(96,"div",11),m.Rc(97,am,94,11,"div",25),m.Wb(),m.Wb(),m.Sb(98,"br"),m.Xb(99,"div"),m.Xb(100,"h4",3),m.Tc(101,"Loan Charge Details"),m.Wb(),m.Wb(),m.Xb(102,"mat-card",26),m.Xb(103,"div",4),m.Sb(104,"div",27),m.Xb(105,"div",5),m.Sb(106,"div",6),m.Rc(107,im,4,2,"form",7),m.Wb(),m.Wb(),m.Wb(),m.Xb(108,"div",2),m.Xb(109,"h4",3),m.Tc(110,"Loan Account Services"),m.Wb(),m.Wb(),m.Xb(111,"mat-card",26),m.Xb(112,"div",28),m.Xb(113,"div",8),m.Xb(114,"div",11),m.Rc(115,rm,126,15,"div",25),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Rc(116,cm,5,0,"div",29)),2&e&&(m.rc("ngIf",!t.isApprovedSreen),m.Eb(1),m.rc("ngIf",!t.isApprovedSreen),m.Eb(7),m.rc("ngIf",t.interestForm),m.Eb(21),m.rc("checked",t.CheckboxVar),m.Eb(6),m.Uc(t.disbursementInfo.loanAmount),m.Eb(6),m.Uc(t.disbursementInfo.numberOfDisbursement),m.Eb(11),m.Vc("",t.disbursementInfo.firstDisbursementDate," "),m.Eb(6),m.Uc(t.disbursementInfo.totalDisbursement),m.Eb(6),m.Vc("",t.disbursementInfo.disbursementMode," "),m.Eb(17),m.Uc(t.disbursementInfo.customerAccount),m.Eb(6),m.Uc(t.disbursementInfo.branchCode),m.Eb(10),m.rc("ngIf",t.disbursementInfo),m.Eb(10),m.rc("ngIf",t.chargeFormIT),m.Eb(8),m.rc("ngIf",t.accServiceInfo),m.Eb(1),m.rc("ngIf",!t.isApprovedSreen))},directives:[u.n,p.e,p.b,S.a,p.d,f.a,f.d,p.f,g.f,de.a,$.C,$.s,$.j,u.m,Q.b,$.c,$.r,$.i,g.g,h.b],styles:[".spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px;background-color:#f7f7f7}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;background-color:#f7f7f7!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.toggle[_ngcontent-%COMP%]{padding-left:16px}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:22%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}"]}),sm),bm=r("9IFT");function um(e,t){1&e&&m.Tc(0,"Loan Entry Stage Details")}function mm(e,t){1&e&&m.Tc(0,"Loan Application Enrichment")}function dm(e,t){1&e&&m.Tc(0,"Underwriting Stage")}function pm(e,t){1&e&&m.Tc(0,"Assessment Stage")}var fm,gm=((fm=function(){function e(t,n,o,i,r,c){a(this,e),this.appEntryService=t,this.ls=n,this.apiService=o,this.router=i,this.accountService=r,this.dialogService=c,this.isLinear=!1}return i(e,[{key:"ngAfterViewInit",value:function(){console.log("in afterview init"),this.stepper._getIndicatorType=function(){return Qu.i.NUMBER}}},{key:"ngOnInit",value:function(){var e=this;this.ls.setItem("isapprovedSupervisor",!0),this.apiService.sendApprovedStatus(!0),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),console.log("this.loanaccountID",this.loanaccountID),setTimeout(function(){e.getLoanEntryStageInfo(e.loanaccountID)},10)}},{key:"getLoanEntryStageInfo",value:function(e){var t=this;this.appEntryService.getLoanEntryStageInfo(e).subscribe(function(n){t.data=n,null!=t.data&&(console.log("data :: ",t.data),t.fetchCustomersByLoanAccIdForViewSummary(e))})}},{key:"fetchCustomersByLoanAccIdForViewSummary",value:function(e){var t=this;this.appEntryService.fetchCustomersByLoanAccIdForViewSummary(e).subscribe(function(e){console.log("custResp :: ",e),t.customerInfoResp=e,null!=t.customerInfoResp&&(t.customerInfo={isAppEntryView:!0,data:t.customerInfoResp.data})})}},{key:"Done",value:function(){this.ls.setItem("APPROVED_DETAILS",!0),this.ls.setItem("SUPERVISOR_APPROVAL_STAGE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/offer-issue/list"])}},{key:"Back",value:function(){this.router.navigate(["/loan/account/supervisor-summary"])}}]),e}()).\u0275fac=function(e){return new(e||fm)(m.Rb(ln.a),m.Rb(W.a),m.Rb(x.b),m.Rb(d.h),m.Rb(ue.a),m.Rb(da.a))},fm.\u0275cmp=m.Lb({type:fm,selectors:[["app-supervisor-approved-details"]],viewQuery:function(e,t){var n;1&e&&m.ad(Ju.d,!0),2&e&&m.Cc(n=m.gc())&&(t.stepper=n.first)},decls:27,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_16.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[3,"linear"],["stepper",""],["matStepLabel",""],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Back",3,"click"],["mat-raised-button","",1,"Next",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Approval Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"mat-vertical-stepper",6,7),m.Xb(10,"mat-step"),m.Rc(11,um,1,0,"ng-template",8),m.Sb(12,"app-loan-app-entry-stage-view-summary"),m.Wb(),m.Xb(13,"mat-step"),m.Rc(14,mm,1,0,"ng-template",8),m.Sb(15,"app-loan-enrichment-view-summary"),m.Wb(),m.Xb(16,"mat-step"),m.Rc(17,dm,1,0,"ng-template",8),m.Sb(18,"app-underwriting-stage-summary"),m.Wb(),m.Xb(19,"mat-step"),m.Rc(20,pm,1,0,"ng-template",8),m.Sb(21,"app-loan-assessment-view-summary"),m.Wb(),m.Wb(),m.Wb(),m.Xb(22,"div",9),m.Xb(23,"button",10),m.fc("click",function(){return t.Back()}),m.Tc(24," Back "),m.Wb(),m.Xb(25,"button",11),m.fc("click",function(){return t.Done()}),m.Tc(26," Next "),m.Wb(),m.Wb()),2&e&&(m.Eb(8),m.rc("linear",t.isLinear))},directives:[p.e,p.b,Ju.d,Ju.a,Ju.b,Zu.a,lm,mu,bm.a,p.d,p.f,h.b],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.Back[_ngcontent-%COMP%]{background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;color:#fff}.Next[_ngcontent-%COMP%]{background-color:#426af5;border-radius:55px}"]}),fm);function hm(e,t){if(1&e&&(m.Xb(0,"form",10),m.Xb(1,"div",11),m.Xb(2,"div",12),m.Xb(3,"div",13),m.Xb(4,"mat-hint",14),m.Tc(5,"Requested Loan Amount"),m.Wb(),m.Xb(6,"mat-card",15),m.Sb(7,"input",16),m.Wb(),m.Wb(),m.Xb(8,"div",13),m.Xb(9,"mat-hint",14),m.Tc(10," Rate of Interest"),m.Wb(),m.Xb(11,"mat-card",15),m.Sb(12,"input",17),m.Wb(),m.Wb(),m.Xb(13,"div",13),m.Xb(14,"mat-hint",14),m.Tc(15,"User Recommendation"),m.Wb(),m.Xb(16,"mat-card",15),m.Sb(17,"input",18),m.Wb(),m.Wb(),m.Xb(18,"div",13),m.Xb(19,"mat-hint",14),m.Tc(20,"Approved Loan Amount"),m.Wb(),m.Xb(21,"mat-card",15),m.Sb(22,"input",19),m.Wb(),m.Wb(),m.Xb(23,"div",13),m.Xb(24,"mat-hint",14),m.Tc(25,"Final Rate"),m.Wb(),m.Xb(26,"mat-card",15),m.Sb(27,"input",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(28,"div",12),m.Xb(29,"div",13),m.Xb(30,"mat-hint",14),m.Tc(31,"Loan Tenure"),m.Wb(),m.Xb(32,"mat-card",15),m.Sb(33,"input",20),m.Wb(),m.Wb(),m.Xb(34,"div",13),m.Xb(35,"mat-hint",14),m.Tc(36,"System Recommendation"),m.Wb(),m.Xb(37,"mat-card",15),m.Sb(38,"input",21),m.Wb(),m.Wb(),m.Xb(39,"div",13),m.Xb(40,"mat-hint",14),m.Tc(41,"Loan Amount Recommended"),m.Wb(),m.Xb(42,"mat-card",15),m.Sb(43,"input",22),m.Wb(),m.Wb(),m.Xb(44,"div",13),m.Xb(45,"mat-hint"),m.Tc(46,"Final Loan Tenure"),m.Wb(),m.Xb(47,"mat-card",15),m.Sb(48,"input",23),m.Wb(),m.Wb(),m.Xb(49,"div",13),m.Xb(50,"mat-form-field",24),m.Sb(51,"input",25),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(52,"div",26),m.Xb(53,"button",27),m.Tc(54," Back "),m.Wb(),m.Xb(55,"button",28),m.Tc(56," Next "),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.jc();m.rc("formGroup",n.assessmentForm)}}var vm,ym=((vm=function(){function e(t){a(this,e),this.fb=t}return i(e,[{key:"ngOnInit",value:function(){this.buildformGroup()}},{key:"buildformGroup",value:function(){this.assessmentForm=this.fb.group({requestedLoanAmount:[""],rateofInterest:[""],userRecommendation:[""],approvedLoanAmount:[""],loanTenure:[""],systemRecommendation:[""],loanAmountRecommended:[""],finalLoanTenure:[""]})}}]),e}()).\u0275fac=function(e){return new(e||vm)(m.Rb($.f))},vm.\u0275cmp=m.Lb({type:vm,selectors:[["app-supervisor-assessment-details"]],decls:16,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center",1,"pt-16"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],[1,"pl-3"],["type","input"],["matInput","","name","requestedLoanAmount","placeholder","Requested Loan Amount",1,"alignment"],["matInput","","name","rateofInterest","placeholder","Rate of Interest",1,"alignment"],["matInput","","name","userRecommendation","placeholder","User Recommendation",1,"alignment"],["matInput","","name","approvedLoanAmount","placeholder","Approved Loan Amount",1,"alignment"],["matInput","","name","loanTenure","placeholder","Loan Tenure",1,"alignment"],["matInput","","name","systemRecommendation","placeholder","System Recommendation",1,"alignment"],["matInput","","name","loanAmountRecommended","placeholder","Loan Amount Recommended",1,"alignment"],["matInput","","name","finalLoanTenure","placeholder","Final Loan Tenure",1,"alignment"],["appearance","outline",1,"full-width",2,"visibility","hidden"],["matInput","",1,"alignment"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary"],["mat-raised-button","","color","primary"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Assesment Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title",7),m.Xb(11,"div",8),m.Tc(12,"Assesment Details"),m.Wb(),m.Sb(13,"mat-divider"),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,hm,57,1,"form",9),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.assessmentForm))},directives:[p.e,p.b,f.a,f.h,S.a,f.d,u.n,$.C,$.s,$.j,p.f,p.d,g.f,Q.b,g.c,h.b],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}"]}),vm),Wm=function(){return{y:"50px",delay:"300ms"}},Xm=function(e){return{value:"*",params:e}},xm=function(){return["/loan/account/account-creation-stage/account-creation-summary"]};function Cm(e,t){1&e&&(m.Xb(0,"div",19),m.Xb(1,"mat-card"),m.Xb(2,"div",20),m.Xb(3,"div",21),m.Xb(4,"mat-icon",22),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",23),m.Xb(7,"h6"),m.Tc(8,"Account Creation Stage Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",24),m.Xb(10,"button",25),m.Tc(11," View Summary "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("@animate",m.xc(3,Xm,m.wc(2,Wm))),m.Eb(9),m.rc("routerLink",m.wc(5,xm)))}function Im(e,t){1&e&&(m.Xb(0,"div",26),m.Sb(1,"mat-progress-bar",27),m.Xb(2,"p",28),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}function Am(e,t){if(1&e){var n=m.Yb();m.Vb(0),m.Xb(1,"button",29),m.fc("click",function(){return m.Hc(n),m.jc().goToAccountCreateSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}function Om(e,t){if(1&e){var n=m.Yb();m.Xb(0,"button",29),m.fc("click",function(){return m.Hc(n),m.jc().addDetails1()}),m.Tc(1," Add Details"),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()}}var Tm,Dm,km=((Dm=function(){function e(t,n,o,i){a(this,e),this.router=t,this.ls=n,this.dialogService=o,this.dialog=i,this.isAccountCreationStageDone=!1,this.isAccountCreateDetails=!1,this.isOfferAcceptReject=!1}return i(e,[{key:"ngOnInit",value:function(){this.isAccountCreationStageDone=this.ls.getItem("accountCreationStage"),this.isOfferAcceptReject=this.ls.getItem("OFFER_ACCEPT_REJECT_DONE"),this.isAccountCreateDetails=this.ls.getItem("ACCOUNT_CREATE_DETAILS_DONE")}},{key:"addDetails",value:function(){this.router.navigate(["/loan/account/account-creation-stage/offer-accept-reject"])}},{key:"addDetails1",value:function(){this.router.navigate(["/loan/account/account-creation-stage/account-create-details"])}},{key:"goToOfferAcceptRejectSummary",value:function(){this.dialogService.OfferAcceptRejectSummaryDialog()}},{key:"goToAccountCreateSummary",value:function(){this.dialogService.AccountCreateSummaryDialog()}}]),e}()).\u0275fac=function(e){return new(e||Dm)(m.Rb(d.h),m.Rb(W.a),m.Rb(da.a),m.Rb(I.b))},Dm.\u0275cmp=m.Lb({type:Dm,selectors:[["app-account-creation-stage"]],decls:31,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showAccount",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"routerLink"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"click"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Sb(4,"i",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create Retail Loan Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,Cm,12,6,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card"),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1. Account Create Details"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",11),m.Xb(20,"div",12),m.Xb(21,"p",13),m.Tc(22," Account Create Details are displayed . "),m.Wb(),m.Wb(),m.Xb(23,"div",14),m.Sb(24,"img",15),m.Wb(),m.Wb(),m.Rc(25,Im,4,2,"div",16),m.Wb(),m.Sb(26,"mat-divider"),m.Xb(27,"mat-card-actions"),m.Rc(28,Am,5,0,"ng-container",17),m.Rc(29,Om,4,0,"ng-template",null,18,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(30);m.Eb(11),m.rc("ngIf",t.isAccountCreateDetails),m.Eb(13),m.rc("src","assets/images/account details.png",m.Jc),m.Eb(1),m.rc("ngIf",t.isAccountCreateDetails),m.Eb(3),m.rc("ngIf",t.isAccountCreateDetails)("ngIfElse",n)}},directives:[p.e,p.b,u.n,f.a,f.e,f.h,f.d,p.f,p.d,S.a,f.b,O.a,h.b,d.i,_.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}"]}),Dm),Sm=((Tm=function(){function e(t,n,o,i,r,c){a(this,e),this.api=t,this.formBuilder=n,this.router=o,this.ls=i,this.dialogService=r,this.snack=c,this.maxDate=new Date,this.minDate=new Date}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.isOfferAcceptReject=this.ls.getItem("OFFER_ACCEPT_REJECT_DONE"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),setTimeout(function(){0==e.isOfferAcceptReject?e.buildofferForm():e.getOfferAcceptReject()},10)}},{key:"getOfferAcceptReject",value:function(){var e=this;this.api.getOfferAcceptReject("200").subscribe(function(t){console.log(t),e.buildofferForm(t,!0)})}},{key:"buildofferForm",value:function(e,t){console.log(e),this.offerForm=this.formBuilder.group({accept:[""],applicantName:[""],loanTenure:[0],installmentFrequency:[""],installmentType:[""],principal:[0],installmentAmount:[0],offerIssueDate:[""],approvedLoanAmount:[0],rateOfInterest:[0],interest:[0],charges:[0],generateOffer:[""],offerExpiryDate:[""],dateOfOfferAcceptOrReject:[""],loanAccountId:[10],offerAcceptOrRejectId:[""]})}},{key:"_keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"goBack",value:function(){this.router.navigate(["loan/account/account-creation-stage"])}},{key:"onSubmit",value:function(){var e=this;this.offerForm.value.offerIssueDate=re(this.offerForm.value.offerIssueDate).format("YYYY-MMM-DD HH:mm:ss"),this.offerForm.value.generateOffer=re(this.offerForm.value.generateOffer).format('YYYY-MMM-DD HH:mm:ss"'),this.offerForm.value.offerExpiryDate=re(this.offerForm.value.offerExpiryDate).format("YYYY-MMM-DD HH:mm:ss"),this.offerForm.value.dateOfOfferAcceptOrReject=re(this.offerForm.value.dateOfOfferAcceptOrReject).format("YYYY-MMM-DD HH:mm:ss"),this.api.saveOfferAcceptReject(this.offerForm.value).subscribe(function(t){console.log(t),200!==t&&null===t||(e.snack.open(" Credit Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.ls.setItem("OFFER_ACCEPT_REJECT_DONE",!0),e.router.navigate(["loan/account/account-creation-stage/account-create-details"]))},function(e){console.log(e)})}}]),e}()).\u0275fac=function(e){return new(e||Tm)(m.Rb(x.b),m.Rb($.f),m.Rb(d.h),m.Rb(W.a),m.Rb(da.a),m.Rb(A.a))},Tm.\u0275cmp=m.Lb({type:Tm,selectors:[["app-offer-accept-reject"]],decls:146,vars:10,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/offer.png","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"card-title-text"],["fxLayout","column",3,"formGroup"],["fxLayout","column",2,"border-radius","30px","margin-right","1.5cm"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["matInput","","name","applicantName","type","text","formControlName","applicantName","placeholder","Applicant Name",1,"alignment"],["matInput","","type","text","name","loanAmmount","maxlength","16","formControlName","approvedLoanAmount",1,"alignment",3,"keypress"],["matInput","","type","text","name","loanTenure","formControlName","loanTenure","placeholder","in years",1,"alignment"],["matInput","","type","text","name","installmentType","formControlName","installmentType",1,"alignment"],["matInput","","type","text","name","installmentFrequency","formControlName","installmentFrequency",1,"alignment"],["matInput","","type","text","name","loanAmmount","formControlName","rateOfInterest",1,"alignment"],["matInput","","type","text","name","approvedloanAmmount","formControlName","approvedLoanAmount",1,"alignment"],["matInput","","type","text","name","loanAmmount","formControlName","loanTenure",1,"alignment"],["matInput","","type","text","name","principal","formControlName","principal",1,"alignment"],["matInput","","type","text","name","interest","formControlName","interest",1,"alignment"],["matInput","","type","text","name","installmentAmount","formControlName","installmentAmount",1,"alignment"],["matInput","","type","text","name","charges","formControlName","charges",1,"alignment"],[1,"inputMatLastName",2,"height","54px"],["matInput","","id","dob","name","OpinionDate","readonly","","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","offerIssueDate",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"inputMatName",2,"height","54px"],["matInput","","id","dob","name","OpinionDate","readonly","","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","generateOffer",1,"alignment",3,"matDatepicker"],["datapicker",""],[2,"border-top","1px solid lightgray","margin-left","20px","margin-right","20px"],["visible","true"],["fxLayout","row wrap"],["fxFlex","100%","fxLayoutGap","10px"],[1,"inputMatLastName"],["matInput","","disableOptionCentering","","name","customerResponse","placeholder","","formControlName","accept",1,"alignment"],["value",""],["value","accept"],["matInput","","id","dob","name","OpinionDate","readonly","","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","dateOfOfferAcceptOrReject",1,"alignment",3,"matDatepicker"],["appDatapicker",""],["matInput","","id","dob","name","offerExpiryDate","readonly","","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","offerExpiryDate",1,"alignment",3,"matDatepicker"],["expiryDate",""],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h1"),m.Tc(7,"Offer Accept/Reject"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",0),m.Xb(9,"form",6),m.Xb(10,"div",1),m.Xb(11,"mat-card",7),m.Xb(12,"mat-card-title"),m.Xb(13,"div",5),m.Tc(14,"Offer Accept/Reject"),m.Sb(15,"mat-divider"),m.Wb(),m.Wb(),m.Xb(16,"div",8),m.Xb(17,"div",9),m.Xb(18,"label",10),m.Tc(19,"Applicant Name*"),m.Wb(),m.Xb(20,"mat-card",11),m.Sb(21,"input",12),m.Wb(),m.Wb(),m.Xb(22,"div",9),m.Xb(23,"label",10),m.Tc(24,"Approved Loan Amount*"),m.Wb(),m.Xb(25,"mat-card",11),m.Xb(26,"input",13),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div",8),m.Xb(28,"div",9),m.Xb(29,"label",10),m.Tc(30,"Loan Tenure"),m.Wb(),m.Xb(31,"mat-card",11),m.Sb(32,"input",14),m.Wb(),m.Wb(),m.Xb(33,"div",9),m.Xb(34,"label",10),m.Tc(35,"Installment Type"),m.Wb(),m.Xb(36,"mat-card",11),m.Sb(37,"input",15),m.Wb(),m.Wb(),m.Wb(),m.Xb(38,"div",8),m.Xb(39,"div",9),m.Xb(40,"label",10),m.Tc(41,"Installment Frequency"),m.Wb(),m.Xb(42,"mat-card",11),m.Sb(43,"input",16),m.Wb(),m.Wb(),m.Xb(44,"div",9),m.Xb(45,"label",10),m.Tc(46,"Rate of Interest (in%)"),m.Wb(),m.Xb(47,"mat-card",11),m.Sb(48,"input",17),m.Wb(),m.Wb(),m.Wb(),m.Xb(49,"div",8),m.Xb(50,"div",9),m.Xb(51,"label",10),m.Tc(52,"Approved Loan Amount"),m.Wb(),m.Xb(53,"mat-card",11),m.Sb(54,"input",18),m.Wb(),m.Wb(),m.Xb(55,"div",9),m.Xb(56,"label",10),m.Tc(57,"Loan Tenure"),m.Wb(),m.Xb(58,"mat-card",11),m.Sb(59,"input",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(60,"div",8),m.Xb(61,"div",9),m.Xb(62,"label",10),m.Tc(63,"Installment Type"),m.Wb(),m.Xb(64,"mat-card",11),m.Sb(65,"input",15),m.Wb(),m.Wb(),m.Xb(66,"div",9),m.Xb(67,"label",10),m.Tc(68,"Rate of Interest"),m.Wb(),m.Xb(69,"mat-card",11),m.Sb(70,"input",17),m.Wb(),m.Wb(),m.Wb(),m.Xb(71,"div",8),m.Xb(72,"div",9),m.Xb(73,"label",10),m.Tc(74,"Principal"),m.Wb(),m.Xb(75,"mat-card",11),m.Sb(76,"input",20),m.Wb(),m.Wb(),m.Xb(77,"div",9),m.Xb(78,"label",10),m.Tc(79,"Interest"),m.Wb(),m.Xb(80,"mat-card",11),m.Sb(81,"input",21),m.Wb(),m.Wb(),m.Wb(),m.Xb(82,"div",8),m.Xb(83,"div",9),m.Xb(84,"label",10),m.Tc(85,"Installment Amount"),m.Wb(),m.Xb(86,"mat-card",11),m.Sb(87,"input",22),m.Wb(),m.Wb(),m.Xb(88,"div",9),m.Xb(89,"label",10),m.Tc(90,"Charges"),m.Wb(),m.Xb(91,"mat-card",11),m.Sb(92,"input",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(93,"div",8),m.Xb(94,"div",9),m.Xb(95,"label",10),m.Tc(96,"Offer Issue Date"),m.Wb(),m.Xb(97,"mat-card",24),m.Sb(98,"input",25),m.Sb(99,"mat-datepicker-toggle",26),m.Sb(100,"mat-datepicker",null,27),m.Wb(),m.Wb(),m.Xb(102,"div",9),m.Xb(103,"label",10),m.Tc(104,"Generate Offer"),m.Wb(),m.Xb(105,"mat-card",28),m.Sb(106,"input",29),m.Sb(107,"mat-datepicker-toggle",26),m.Sb(108,"mat-datepicker",null,30),m.Wb(),m.Wb(),m.Wb(),m.Xb(110,"fieldset",31),m.Xb(111,"legend",32),m.Tc(112,"Offer Accept/Reject"),m.Wb(),m.Xb(113,"div",33),m.Xb(114,"div",34),m.Xb(115,"div",9),m.Xb(116,"label",10),m.Tc(117,"Customer Response"),m.Wb(),m.Xb(118,"mat-card",35),m.Xb(119,"mat-select",36),m.Xb(120,"mat-option",37),m.Tc(121,"Select"),m.Wb(),m.Xb(122,"mat-option",38),m.Tc(123,"Accept"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(124,"div",9),m.Xb(125,"label",10),m.Tc(126,"Date Of Offer Accept/Reject"),m.Wb(),m.Xb(127,"mat-card",28),m.Sb(128,"input",39),m.Sb(129,"mat-datepicker-toggle",26),m.Sb(130,"mat-datepicker",null,40),m.Wb(),m.Wb(),m.Wb(),m.Xb(132,"div",34),m.Xb(133,"div",9),m.Xb(134,"label",10),m.Tc(135,"Offer Expiry Date"),m.Wb(),m.Xb(136,"mat-card",28),m.Sb(137,"input",41),m.Sb(138,"mat-datepicker-toggle",26),m.Sb(139,"mat-datepicker",null,42),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(141,"div",43),m.Xb(142,"button",44),m.fc("click",function(){return t.goBack()}),m.Tc(143," Back "),m.Wb(),m.Xb(144,"button",45),m.fc("click",function(){return t.onSubmit()}),m.Tc(145," Done "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(101),a=m.Dc(109),o=m.Dc(131),i=m.Dc(140);m.Eb(9),m.rc("formGroup",t.offerForm),m.Eb(89),m.rc("matDatepicker",n),m.Eb(1),m.rc("for",n),m.Eb(7),m.rc("matDatepicker",a),m.Eb(1),m.rc("for",a),m.Eb(21),m.rc("matDatepicker",o),m.Eb(1),m.rc("for",o),m.Eb(8),m.rc("matDatepicker",i),m.Eb(1),m.rc("for",i),m.Eb(6),m.rc("disabled",t.offerForm.invalid)}},directives:[p.e,p.b,$.C,$.s,$.j,f.a,f.h,S.a,p.f,Q.b,$.c,$.r,$.i,$.m,ce.e,ce.g,g.j,ce.d,J.a,Z.n,p.d,h.b],styles:[".hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}legend[_ngcontent-%COMP%]{width:auto;color:#000;font-size:20px;padding-left:20px;padding-right:20px;font-family:Courier New,Courier,monospace}fieldset[_ngcontent-%COMP%], legend[_ngcontent-%COMP%]{margin-left:20px}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-right:20px;margin-top:20px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Done[_ngcontent-%COMP%]{width:150px;color:#fff}.Done[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.placeholder[_ngcontent-%COMP%]{border:none}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}.disableDone[_ngcontent-%COMP%]{color:#3d18e4!important}.enableDone[_ngcontent-%COMP%]{color:#fff!important}"]}),Tm);function _m(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0Applicant Name is Required! "),m.Wb())}function Rm(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0Approved Loan Amount is Required! "),m.Wb())}function Em(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0Offer Issue Date is Required! "),m.Wb())}function Mm(e,t){if(1&e&&(m.Xb(0,"mat-option",45),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Pm(e,t){if(1&e&&(m.Xb(0,"mat-option",45),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}function Nm(e,t){if(1&e&&(m.Xb(0,"mat-option",45),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Uc(n)}}var wm,Fm,Lm=((wm=function(){function e(t,n,o,i,r,c,s,l,b){a(this,e),this.formBuilder=t,this.router=n,this.ls=o,this.appApiService=i,this.dialogService=r,this.api=c,this.apiService=s,this.snack=l,this.accountService=b,this.maxDate=new Date,this.minDate=new Date,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.accountForm=this.formBuilder.group({applicantName:["",[$.A.required]],approvedLoanAmount:["",[$.A.required]],loanTenure:[""],installmentFrequency:[""],installmentType:[""],principal:[""],installmentAmount:[""],offerIssueDate:["",[$.A.required]],offerAcceptedDate:[""],accountCreateId:[""],rateOfInterest:[""],interest:[""],charges:[""],disbursementAmount:[""],repaymentAmount:[""],loanAccountId:[""],year:[""],month:[""],day:[""]})}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var n=0;n<=11;n++)this.months.push(n+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.isAccountCreateDetails=this.ls.getItem("ACCOUNT_CREATE_DETAILS_DONE"),setTimeout(function(){0==e.isAccountCreateDetails?e.buildaccountForm():e.getAccountCreateDetails()},10),this.fetchByCif(),this.loanData(),this.intrestData(),this.installmentTypeData(),this.interestLoadData(),this.dataLoad()}},{key:"getAccountCreateDetails",value:function(){var e=this;this.api.getAccountCreateDetails(this.loanaccountID).subscribe(function(t){console.log(t),e.buildaccountForm(t,!0)})}},{key:"buildaccountForm",value:function(e,t){e.offerIssueDate=e?re(e.offerIssueDate).format():"",e.offerAcceptedDate=e?re(e.offerAcceptedDate).format():"",console.log(e),this.accountForm=this.formBuilder.group({accountCreateId:[""],loanAccountId:[e?e.loanAccountId:""],applicantName:[e?e.applicantName:""],approvedLoanAmount:[e?e.approvedLoanAmount:""],loanTenure:[e?e.loanTenure:""],installmentFrequency:[e?e.installmentFrequency:""],principal:[e?e.principal:""],installmentAmount:[e?e.installmentAmount:""],disbursementAmount:[e?e.disbursementAmount:""],offerAcceptedDate:[e?e.offerAcceptedDate:""],offerIssueDate:[e?e.offerIssueDate:"",[$.A.required]],installmentType:[e?e.installmentType:""],rateOfInterest:[e?e.rateOfInterest:""],interest:[e?e.interest:""],charges:[e?e.charges:""],repaymentAmount:[e?e.repaymentAmount:""],year:[e?e.loanTenure.split("-")[0]:""],month:[e?e.loanTenure.split("-")[1]:""],day:[e?e.loanTenure.split("-")[2]:""]}),console.log("this.accountForm",this.accountForm)}},{key:"goBack",value:function(){this.router.navigate(["loan/account/account-creation-stage"])}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"onSubmit",value:function(){var e=this,t=new Date;t=this.accountForm.value.offerIssueDate;var n=re(t).format("YYYY-MMM-DD HH:MM:SS");new Date,this.accountForm.value.offerAcceptedDate;var a=re(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",n);var o=this.accountForm.value.approvedLoanAmount;o=parseInt(o);var i=this.accountForm.value.rateOfInterest;i=parseInt(i);var r=this.accountForm.value.year+"-"+this.accountForm.value.month+"-"+this.accountForm.value.day;this.accountForm.get("loanTenure").setValue(r),this.accountForm.value.loanTenure=r;var c={loanAccountId:this.loanaccountID,approvedLoanAmount:o,applicantName:this.accountForm.value.applicantName,loanTenure:r,installmentType:this.accountForm.value.installmentType,installmentFrequency:this.accountForm.value.installmentFrequency,rateOfInterest:i,principal:this.accountForm.value.principal,installmentAmount:this.accountForm.value.installmentAmount,interest:this.accountForm.value.interest,charges:this.accountForm.value.charges,disbursementAmount:this.accountForm.value.disbursementAmount,repaymentAmount:this.accountForm.value.repaymentAmount,offerIssueDate:n,offerAcceptedDate:a};console.log("payload",c),this.api.saveAccountCreateDetails(c).subscribe(function(t){console.log(t),200!==t&&null===t||(e.snack.open(" Account Create Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.ls.setItem("ACCOUNT_CREATE_DETAILS_DONE",!0),e.ls.setItem("ACCOUNT_CREATTION_STAGE_DONE",!0),e.accountService.refresh.next(),e.router.navigate(["loan/account/digitalsigning/list"]))},function(e){console.log(e)})}},{key:"fetchByCif",value:function(){var e=this;this.cifNumber=this.ls.getItem("cId"),this.appApiService.fetchByCif(this.cifNumber).subscribe(function(t){e.accountForm.get("applicantName").setValue(t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName)},function(e){console.error(e)})}},{key:"loanData",value:function(){var e=this;console.log(this.loanaccountID),this.apiService.fetchByLoanAccountId(this.loanaccountID).subscribe(function(t){console.log(t),e.accountForm.get("approvedLoanAmount").setValue(t.approvedLoanAmount),console.log(t.loanTenure);var n=t.loanTenure.split("-")[0];console.log(n);var a=t.loanTenure.split("-")[1];console.log(a);var o=t.loanTenure.split("-")[2];console.log(o),e.accountForm.get("year").setValue(n),e.accountForm.get("month").setValue(a),e.accountForm.get("day").setValue(o)},function(e){console.error(e)})}},{key:"intrestData",value:function(){var e=this;console.log(this.loanaccountID),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(function(t){e.accountForm.get("rateOfInterest").setValue(t.rateOfInterest)})}},{key:"installmentTypeData",value:function(){var e=this;console.log(this.loanaccountID),this.apiService.getOfferAcceptReject(this.loanaccountID).subscribe(function(t){console.log(t),e.accountForm.get("installmentType").setValue(t.installmentType),e.accountForm.get("installmentFrequency").setValue(t.installmentFrequency);var n=re(t.offerIssueDate).format();e.accountForm.get("offerIssueDate").setValue(n);var a=re(t.offerAcceptOrRejectDate).format();e.accountForm.get("offerAcceptedDate").setValue(a),console.log(n)})}},{key:"interestLoadData",value:function(){var e=this;console.log(this.loanaccountID),this.apiService.getingOfferIssueDetails(this.loanaccountID).subscribe(function(t){console.log(t),e.accountForm.get("interest").setValue(t.interest),e.accountForm.get("charges").setValue(t.charges),e.accountForm.get("principal").setValue(t.principal),e.accountForm.get("installmentAmount").setValue(t.installmentAmount)})}},{key:"dataLoad",value:function(){var e=this;console.log(this.loanaccountID),this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(function(t){console.log(t),e.accountForm.get("disbursementAmount").setValue(t.totalDisbursement)})}}]),e}()).\u0275fac=function(e){return new(e||wm)(m.Rb($.f),m.Rb(d.h),m.Rb(W.a),m.Rb(ln.a),m.Rb(da.a),m.Rb(x.b),m.Rb(x.b),m.Rb(A.a),m.Rb(ue.a))},wm.\u0275cmp=m.Lb({type:wm,selectors:[["app-account-create-details"]],decls:127,vars:13,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/account details.png","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"card-title-text"],["fxLayout","column",3,"formGroup"],[1,"alignChange"],["visible","true"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],[1,"hint"],["matInput","","name","applicantName","placeholder","Applicant Name","formControlName","applicantName",1,"alignment",3,"keypress"],[4,"ngIf"],["matInput","","name","loanAmmount","maxlength","16","formControlName","approvedLoanAmount","placeholder","Approved Loan Amount",1,"alignment",3,"keypress"],["matInput","","id","dob","name","OpinionDate","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","offerIssueDate",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["picker",""],["matInput","","id","dob","name","OpinionDate","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","offerAcceptedDate",1,"alignment",3,"matDatepicker","min"],["appDatepicker",""],[1,"flex-grow-1"],["fxLayout","row wrap"],[1,"tenre"],["appearance","outline","fxFlex","23",1,"full-width","tenure1"],["name","year","placeholder","Year","formControlName","year","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","fxFlex","21.5",1,"full-width","tenure1"],["name","month","placeholder","Month","formControlName","month","disableOptionCentering",""],["name","day","placeholder","Day","formControlName","day","disableOptionCentering",""],["fxFlex","49.5",1,"flex-grow-1"],["disableOptionCentering","","name","installmentType","placeholder","Select","formControlName","installmentType",1,"alignment"],["value","EMI"],["matInput","","name","installmentFrequency","placeholder","Installment Frequency","formControlName","installmentFrequency",1,"alignment",3,"keypress"],["matInput","","name","rateofInterest","placeholder","Percentage","formControlName","rateOfInterest","maxlength","2",1,"alignment",3,"keypress"],["matInput","","name","principal","placeholder","Amount","formControlName","principal","maxlength","8",1,"alignment",3,"keypress"],["matInput","","name","interest","placeholder","Amount","formControlName","interest","maxlength","2",1,"alignment",3,"keypress"],["matInput","","name","installmentAmount","maxlength","8","placeholder","Installment Amount","formControlName","installmentAmount",1,"alignment",3,"keypress"],["matInput","","name","Amount","placeholder","Amount","formControlName","charges","maxlength","5",1,"alignment",3,"keypress"],["matInput","","name","disbursementAmount","placeholder","Disbursement Amount","formControlName","disbursementAmount","maxlength","8",1,"alignment",3,"keypress"],["matInput","","name","repaymentAmount","placeholder","Repayment Amount","formControlName","repaymentAmount","maxlength","8",1,"alignment",3,"keypress"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Back",3,"click"],["mat-raised-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h1"),m.Xb(7,"b"),m.Tc(8,"Account Create Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",0),m.Xb(10,"form",6),m.Xb(11,"div",1),m.Xb(12,"mat-card",0),m.Xb(13,"mat-card-title"),m.Xb(14,"fieldset",7),m.Xb(15,"legend",8),m.Tc(16,"Account Create Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(17,"div",9),m.Xb(18,"div",10),m.Xb(19,"mat-form-field",11),m.Xb(20,"mat-label",12),m.Tc(21,"Applicant Name*"),m.Wb(),m.Xb(22,"input",13),m.fc("keypress",function(e){return t.letterOnly(e)}),m.Wb(),m.Rc(23,_m,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Xb(24,"div",10),m.Xb(25,"mat-form-field",11),m.Xb(26,"mat-label",12),m.Tc(27,"Approved Loan Amount*"),m.Wb(),m.Xb(28,"input",15),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Rc(29,Rm,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"div",9),m.Xb(31,"div",10),m.Xb(32,"mat-form-field",11),m.Xb(33,"mat-label",12),m.Tc(34,"Offer Issue Date*"),m.Wb(),m.Sb(35,"input",16),m.Xb(36,"div",17),m.Sb(37,"mat-datepicker-toggle",18),m.Sb(38,"mat-datepicker",null,19),m.Wb(),m.Rc(40,Em,2,0,"mat-error",14),m.Wb(),m.Wb(),m.Xb(41,"div",10),m.Xb(42,"mat-form-field",11),m.Xb(43,"mat-label",12),m.Tc(44,"Offer Accepted Date"),m.Wb(),m.Sb(45,"input",20),m.Xb(46,"div",17),m.Sb(47,"mat-datepicker-toggle",18),m.Sb(48,"mat-datepicker",null,21),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(50,"div",22),m.Xb(51,"div"),m.Xb(52,"div",23),m.Xb(53,"mat-hint",24),m.Xb(54,"b"),m.Tc(55,"Loan Tenure *"),m.Wb(),m.Wb(),m.Xb(56,"mat-form-field",25),m.Xb(57,"mat-label"),m.Tc(58,"Year*"),m.Wb(),m.Xb(59,"mat-select",26),m.Rc(60,Mm,2,2,"mat-option",27),m.Wb(),m.Wb(),m.Xb(61,"mat-form-field",28),m.Xb(62,"mat-label"),m.Tc(63,"Month*"),m.Wb(),m.Xb(64,"mat-select",29),m.Rc(65,Pm,2,2,"mat-option",27),m.Wb(),m.Wb(),m.Xb(66,"mat-form-field",28),m.Xb(67,"mat-label"),m.Tc(68,"Day*"),m.Wb(),m.Xb(69,"mat-select",30),m.Rc(70,Nm,2,2,"mat-option",27),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(71,"div",31),m.Xb(72,"mat-form-field",11),m.Xb(73,"mat-label",12),m.Tc(74,"Installment Type"),m.Wb(),m.Xb(75,"mat-select",32),m.Xb(76,"mat-option",33),m.Tc(77,"EMI"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(78,"div",9),m.Xb(79,"div",10),m.Xb(80,"mat-form-field",11),m.Xb(81,"mat-label",12),m.Tc(82,"Installment Frequency"),m.Wb(),m.Xb(83,"input",34),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(84,"div",10),m.Xb(85,"mat-form-field",11),m.Xb(86,"mat-label",12),m.Tc(87,"Rate of Interest"),m.Wb(),m.Xb(88,"input",35),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(89,"div",9),m.Xb(90,"div",10),m.Xb(91,"mat-form-field",11),m.Xb(92,"mat-label",12),m.Tc(93,"Principal"),m.Wb(),m.Xb(94,"input",36),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(95,"div",10),m.Xb(96,"mat-form-field",11),m.Xb(97,"mat-label",12),m.Tc(98,"Interest"),m.Wb(),m.Xb(99,"input",37),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(100,"div",9),m.Xb(101,"div",10),m.Xb(102,"mat-form-field",11),m.Xb(103,"mat-label",12),m.Tc(104,"Installment Amount"),m.Wb(),m.Xb(105,"input",38),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(106,"div",10),m.Xb(107,"mat-form-field",11),m.Xb(108,"mat-label",12),m.Tc(109,"Charges"),m.Wb(),m.Xb(110,"input",39),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(111,"div",9),m.Xb(112,"div",10),m.Xb(113,"mat-form-field",11),m.Xb(114,"mat-label",12),m.Tc(115,"Disbursement Account"),m.Wb(),m.Xb(116,"input",40),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(117,"div",10),m.Xb(118,"mat-form-field",11),m.Xb(119,"mat-label",12),m.Tc(120,"Repayment Account"),m.Wb(),m.Xb(121,"input",41),m.fc("keypress",function(e){return t._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(122,"div",42),m.Xb(123,"button",43),m.fc("click",function(){return t.goBack()}),m.Tc(124," Back "),m.Wb(),m.Xb(125,"button",44),m.fc("click",function(){return t.onSubmit()}),m.Tc(126," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(39),a=m.Dc(49);m.Eb(10),m.rc("formGroup",t.accountForm),m.Eb(13),m.rc("ngIf",!t.accountForm.get("applicantName").valid&&t.accountForm.get("applicantName").touched),m.Eb(6),m.rc("ngIf",!t.accountForm.get("approvedLoanAmount").valid&&t.accountForm.get("approvedLoanAmount").touched),m.Eb(6),m.rc("matDatepicker",n),m.Eb(2),m.rc("for",n),m.Eb(3),m.rc("ngIf",!t.accountForm.get("offerIssueDate").valid&&t.accountForm.get("offerIssueDate").touched),m.Eb(5),m.rc("matDatepicker",a)("min",t.accountForm.get("offerIssueDate").value),m.Eb(2),m.rc("for",a),m.Eb(13),m.rc("ngForOf",t.years),m.Eb(5),m.rc("ngForOf",t.months),m.Eb(5),m.rc("ngForOf",t.days),m.Eb(55),m.rc("disabled",!t.accountForm.valid)}},directives:[p.e,p.b,$.C,$.s,$.j,f.a,f.h,p.f,g.c,g.g,Q.b,$.c,$.r,$.i,u.n,$.m,ce.e,ce.g,g.j,ce.d,g.f,J.a,u.m,Z.n,p.d,h.b,g.b],styles:[".hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-right:20px;margin-top:20px!important;margin-bottom:20px!important}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:48%}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm;margin-right:10px}.mat-form-field-type-mat-select[_ngcontent-%COMP%]:not(.mat-form-field-disabled)   .mat-form-field-flex[_ngcontent-%COMP%]{width:50%!important;margin-left:50px}  .loan-installment-row .mat-form-field-wrapper{padding-bottom:5px}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.sqInput1[_ngcontent-%COMP%]{width:28%;margin-left:2.5%;height:53px}.Back[_ngcontent-%COMP%]{background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;color:#fff}.Next[_ngcontent-%COMP%]{background-color:#426af5;border-radius:55px}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.tenre[_ngcontent-%COMP%]{margin-top:19px}.datechange[_ngcontent-%COMP%]{height:10px}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}"]}),wm),Vm=r("uf+g"),qm=r("ZfxJ"),jm=((Fm=function(){function e(t,n,o){a(this,e),this.router=t,this.api=n,this.ls=o,this.titleName="Account Creation Stage"}return i(e,[{key:"ngOnInit",value:function(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.getOfferAcceptReject(),this.getAccountCreateDetails()}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/list"])}},{key:"done",value:function(){this.router.navigate(["/loan/account/list"])}},{key:"getOfferAcceptReject",value:function(){var e=this;this.api.getOfferAcceptReject("200").subscribe(function(t){console.log(t),e.offerAcceptRejectvalue=t})}},{key:"getAccountCreateDetails",value:function(){var e=this;this.api.getAccountCreateDetails(this.loanaccountID).subscribe(function(t){console.log(t),e.accountCreateValue=t})}}]),e}()).\u0275fac=function(e){return new(e||Fm)(m.Rb(d.h),m.Rb(x.b),m.Rb(W.a))},Fm.\u0275cmp=m.Lb({type:Fm,selectors:[["app-account-creation-summary"]],decls:127,vars:15,consts:[["src","assets/images/entry.png","alt","",1,"entryImg"],[1,"para"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","4%","fxLayoutAlign","space-between none",1,"colAlign"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["layout","row"],["flex","",1,"line"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div"),m.Sb(1,"img",0),m.Xb(2,"h4",1),m.Tc(3),m.Wb(),m.Sb(4,"br"),m.Xb(5,"div",2),m.Xb(6,"div",3),m.Xb(7,"div",4),m.Xb(8,"h4",5),m.Tc(9,"Account Create Details"),m.Wb(),m.Wb(),m.Xb(10,"div",6),m.Xb(11,"div",7),m.Xb(12,"mat-card",8),m.Xb(13,"mat-card-content"),m.Xb(14,"div",2),m.Xb(15,"div",9),m.Xb(16,"div",10),m.Vb(17),m.Xb(18,"div",11),m.Xb(19,"mat-hint",12),m.Tc(20,"Applicant Name"),m.Wb(),m.Sb(21,"br"),m.Xb(22,"mat-hint",13),m.Tc(23),m.Wb(),m.Wb(),m.Xb(24,"div",11),m.Xb(25,"mat-hint",12),m.Tc(26,"Approved Loan Amount "),m.Wb(),m.Sb(27,"br"),m.Xb(28,"mat-hint",13),m.Tc(29),m.Wb(),m.Wb(),m.Xb(30,"div",11),m.Xb(31,"mat-hint",12),m.Tc(32,"Offer Issue Date"),m.Wb(),m.Sb(33,"br"),m.Xb(34,"mat-hint",13),m.Tc(35),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(36,"div"),m.Xb(37,"span",14),m.Sb(38,"hr",15),m.Wb(),m.Wb(),m.Xb(39,"div",10),m.Vb(40),m.Xb(41,"div",11),m.Xb(42,"mat-hint",12),m.Tc(43,"Offer Accepted Date"),m.Wb(),m.Sb(44,"br"),m.Xb(45,"mat-hint",13),m.Tc(46),m.Wb(),m.Wb(),m.Xb(47,"div",11),m.Xb(48,"mat-hint",12),m.Tc(49,"Loan Tenure"),m.Wb(),m.Sb(50,"br"),m.Xb(51,"mat-hint",13),m.Tc(52),m.Wb(),m.Wb(),m.Xb(53,"div",11),m.Xb(54,"mat-hint",12),m.Tc(55,"Installment Type"),m.Wb(),m.Sb(56,"br"),m.Xb(57,"mat-hint",13),m.Tc(58),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(59,"div"),m.Xb(60,"span",14),m.Sb(61,"hr",15),m.Wb(),m.Wb(),m.Xb(62,"div",10),m.Vb(63),m.Xb(64,"div",11),m.Xb(65,"mat-hint",12),m.Tc(66,"Installment Frequency"),m.Wb(),m.Sb(67,"br"),m.Xb(68,"mat-hint",13),m.Tc(69),m.Wb(),m.Wb(),m.Xb(70,"div",11),m.Xb(71,"mat-hint",12),m.Tc(72,"Rate of Interest"),m.Wb(),m.Sb(73,"br"),m.Xb(74,"mat-hint",13),m.Tc(75),m.Wb(),m.Wb(),m.Xb(76,"div",11),m.Xb(77,"mat-hint",12),m.Tc(78,"Principal"),m.Wb(),m.Sb(79,"br"),m.Xb(80,"mat-hint",13),m.Tc(81),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(82,"div"),m.Xb(83,"span",14),m.Sb(84,"hr",15),m.Wb(),m.Wb(),m.Xb(85,"div",10),m.Vb(86),m.Xb(87,"div",11),m.Xb(88,"mat-hint",12),m.Tc(89,"Interest"),m.Wb(),m.Sb(90,"br"),m.Xb(91,"mat-hint",13),m.Tc(92),m.Wb(),m.Wb(),m.Xb(93,"div",11),m.Xb(94,"mat-hint",12),m.Tc(95,"Installment Amount"),m.Wb(),m.Sb(96,"br"),m.Xb(97,"mat-hint",13),m.Tc(98),m.Wb(),m.Wb(),m.Xb(99,"div",11),m.Xb(100,"mat-hint",12),m.Tc(101,"Charges"),m.Wb(),m.Sb(102,"br"),m.Xb(103,"mat-hint",13),m.Tc(104),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Xb(105,"div"),m.Xb(106,"span",14),m.Sb(107,"hr",15),m.Wb(),m.Wb(),m.Xb(108,"div",10),m.Vb(109),m.Xb(110,"div",11),m.Xb(111,"mat-hint",12),m.Tc(112,"Disbursement Amount"),m.Wb(),m.Sb(113,"br"),m.Xb(114,"mat-hint",13),m.Tc(115),m.Wb(),m.Wb(),m.Xb(116,"div",11),m.Xb(117,"mat-hint",12),m.Tc(118,"Repayment Amount"),m.Wb(),m.Sb(119,"br"),m.Xb(120,"mat-hint",13),m.Tc(121),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(122,"div",16),m.Xb(123,"button",17),m.fc("click",function(){return t.goBack()}),m.Tc(124," Back\n"),m.Wb(),m.Xb(125,"button",18),m.fc("click",function(){return t.done()}),m.Tc(126," Done\n"),m.Wb(),m.Wb()),2&e&&(m.Eb(3),m.Uc(t.titleName),m.Eb(20),m.Uc(t.accountCreateValue.applicantName),m.Eb(6),m.Vc("",t.accountCreateValue.approvedLoanAmount," "),m.Eb(6),m.Vc("",t.accountCreateValue.offerIssueDate," "),m.Eb(11),m.Uc(t.accountCreateValue.offerAcceptedDate),m.Eb(6),m.Vc("",t.accountCreateValue.loanTenure," "),m.Eb(6),m.Uc(t.accountCreateValue.installmentType),m.Eb(11),m.Uc(t.accountCreateValue.installmentFrequency),m.Eb(6),m.Uc(t.accountCreateValue.rateOfInterest),m.Eb(6),m.Vc("",t.accountCreateValue.principal," "),m.Eb(11),m.Uc(t.accountCreateValue.interest),m.Eb(6),m.Uc(t.accountCreateValue.installmentAmount),m.Eb(6),m.Uc(t.accountCreateValue.charges),m.Eb(11),m.Uc(t.accountCreateValue.disbursementAmount),m.Eb(6),m.Uc(t.accountCreateValue.repaymentAmount))},directives:[p.e,p.d,p.b,f.a,f.d,p.f,g.f,h.b],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}"]}),Fm);function Bm(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 CIF Number is Required! "),m.Wb())}function zm(e,t){1&e&&(m.Xb(0,"mat-error",56),m.Tc(1,"Duplicate CIF Number"),m.Wb())}function Um(e,t){if(1&e&&(m.Xb(0,"mat-option",57),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Hm(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Relationship with Customer is Required! "),m.Wb())}function Gm(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0 Prefix and Relationship with Customer does not match! "),m.Wb())}function Ym(e,t){if(1&e&&(m.Xb(0,"mat-option",57),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function $m(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Prefix is Required! "),m.Wb())}function Qm(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 First Name is Required! "),m.Wb())}function Jm(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Last Name is Required! "),m.Wb())}function Zm(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Date of Birth is Required! "),m.Wb())}function Km(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Building is Required! "),m.Wb())}function ed(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Street is Required! "),m.Wb())}function td(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Address 1 is Required! "),m.Wb())}function nd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0Address 2 is Required! "),m.Wb())}function ad(e,t){if(1&e&&(m.Xb(0,"mat-option",57),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function od(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Country is Required! "),m.Wb())}function id(e,t){if(1&e&&(m.Xb(0,"mat-option",57),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.stateName),m.Eb(1),m.Vc(" ",n.stateName,"")}}function rd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 State is Required! "),m.Wb())}function cd(e,t){if(1&e&&(m.Xb(0,"mat-option",57),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.value1),m.Eb(1),m.Vc("",n.value1," ")}}function sd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 City is Required! "),m.Wb())}function ld(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0Valid Zip Code is Required!(5-10 digits) "),m.Wb())}function bd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Phone Number is Required! "),m.Wb())}function ud(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please Enter Valid Phone Number "),m.Wb())}function md(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Mobile Number is Required! "),m.Wb())}function dd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please Enter Valid Mobile Number "),m.Wb())}function pd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 E-mail is Required! "),m.Wb())}function fd(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",15),m.Xb(4,"div",16),m.Xb(5,"div",17),m.Xb(6,"div",18),m.Tc(7," Is the guarantor an existing customer ? \xa0\xa0\xa0\xa0"),m.Xb(8,"mat-slide-toggle",19),m.fc("change",function(){return m.Hc(n),m.jc().stayTrue()}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",20),m.Xb(10,"mat-form-field",21),m.Xb(11,"mat-label"),m.Tc(12,"CIF Number"),m.Wb(),m.Xb(13,"input",22),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)})("keyup",function(e){return m.Hc(n),m.jc().keyUpevent(e)}),m.Wb(),m.Rc(14,Bm,2,0,"mat-error",23),m.Rc(15,zm,2,0,"mat-error",24),m.Wb(),m.Wb(),m.Xb(16,"div",25),m.Xb(17,"p",26),m.fc("click",function(){m.Hc(n);var e=m.jc();return e.fetchByCif(e.guarantorDetailsForm.get("cifNumber").value)}),m.Tc(18," Fetch"),m.Wb(),m.Wb(),m.Xb(19,"div",27),m.Xb(20,"div",28),m.Xb(21,"mat-form-field",29),m.Xb(22,"mat-label",30),m.Tc(23,"Relationship with Customer"),m.Wb(),m.Xb(24,"mat-select",31),m.fc("selectionChange",function(e){return m.Hc(n),m.jc().onChangeData(e)}),m.Rc(25,Um,2,2,"mat-option",32),m.Wb(),m.Rc(26,Hm,2,0,"mat-error",23),m.Rc(27,Gm,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(28,"div",27),m.Xb(29,"div",28),m.Xb(30,"mat-form-field",29),m.Xb(31,"mat-label",30),m.Tc(32,"Prefix"),m.Wb(),m.Xb(33,"mat-select",33),m.Rc(34,Ym,2,2,"mat-option",32),m.Wb(),m.Rc(35,$m,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(36,"div",27),m.Xb(37,"div",28),m.Xb(38,"mat-form-field",29),m.Xb(39,"mat-label",30),m.Tc(40,"First Name"),m.Wb(),m.Xb(41,"input",34),m.fc("keypress",function(e){return m.Hc(n),m.jc().letterOnly(e)}),m.Wb(),m.Rc(42,Qm,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(43,"div",27),m.Xb(44,"div",28),m.Xb(45,"mat-form-field",29),m.Xb(46,"mat-label",30),m.Tc(47,"Middle Name"),m.Wb(),m.Xb(48,"input",35),m.fc("keypress",function(e){return m.Hc(n),m.jc().letterOnly(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(49,"div",27),m.Xb(50,"div",28),m.Xb(51,"mat-form-field",29),m.Xb(52,"mat-label",30),m.Tc(53,"Last Name"),m.Wb(),m.Xb(54,"input",36),m.fc("keypress",function(e){return m.Hc(n),m.jc().letterOnly(e)}),m.Wb(),m.Rc(55,Jm,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(56,"div",27),m.Xb(57,"div",28),m.Xb(58,"mat-form-field",29),m.Xb(59,"mat-label",30),m.Tc(60,"Date of Birth"),m.Wb(),m.Sb(61,"input",37),m.Sb(62,"mat-datepicker-toggle",38),m.Sb(63,"mat-datepicker",null,39),m.Rc(65,Zm,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(66,"div"),m.Xb(67,"div",40),m.Xb(68,"div",41),m.Tc(69,"\xa0\xa0 Address "),m.Wb(),m.Wb(),m.Xb(70,"div"),m.Xb(71,"span",42),m.Sb(72,"hr",43),m.Wb(),m.Wb(),m.Xb(73,"div",13),m.Xb(74,"div",27),m.Xb(75,"div",28),m.Xb(76,"mat-form-field",29),m.Xb(77,"mat-label",30),m.Tc(78,"Building"),m.Wb(),m.Xb(79,"input",44),m.fc("keypress",function(e){return m.Hc(n),m.jc().keyPressAlphanumeric(e)}),m.Wb(),m.Rc(80,Km,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(81,"div",27),m.Xb(82,"div",28),m.Xb(83,"mat-form-field",29),m.Xb(84,"mat-label",30),m.Tc(85,"Street"),m.Wb(),m.Xb(86,"input",45),m.fc("keypress",function(e){return m.Hc(n),m.jc().keyPressAlphanumeric(e)}),m.Wb(),m.Rc(87,ed,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(88,"div",27),m.Xb(89,"div",28),m.Xb(90,"mat-form-field",29),m.Xb(91,"mat-label",30),m.Tc(92,"Address 1"),m.Wb(),m.Sb(93,"input",46),m.Rc(94,td,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(95,"div",27),m.Xb(96,"div",28),m.Xb(97,"mat-form-field",29),m.Xb(98,"mat-label",30),m.Tc(99,"Address 2"),m.Wb(),m.Sb(100,"input",47),m.Rc(101,nd,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(102,"div",27),m.Xb(103,"div",28),m.Xb(104,"mat-form-field",29),m.Xb(105,"mat-label",30),m.Tc(106,"Country *"),m.Wb(),m.Xb(107,"mat-select",48),m.fc("selectionChange",function(e){return m.Hc(n),m.jc().getStateName(e.value)})("selectionChange",function(e){return m.Hc(n),m.jc().getCityName(e.value)}),m.Xb(108,"mat-option",49),m.Tc(109,"Select"),m.Wb(),m.Rc(110,ad,2,2,"mat-option",32),m.Wb(),m.Rc(111,od,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(112,"div",27),m.Xb(113,"div",28),m.Xb(114,"mat-form-field",29),m.Xb(115,"mat-label",30),m.Tc(116,"State *"),m.Wb(),m.Xb(117,"mat-select",50),m.fc("selectionChange",function(e){return m.Hc(n),m.jc().getCityName(e.value)}),m.Rc(118,id,2,2,"mat-option",32),m.Wb(),m.Rc(119,rd,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(120,"div",27),m.Xb(121,"div",28),m.Xb(122,"mat-form-field",29),m.Xb(123,"mat-label",30),m.Tc(124,"City"),m.Wb(),m.Xb(125,"mat-select",51),m.Rc(126,cd,2,2,"mat-option",32),m.Wb(),m.Rc(127,sd,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(128,"div",27),m.Xb(129,"div",28),m.Xb(130,"mat-form-field",29),m.Xb(131,"mat-label",30),m.Tc(132,"Zip Code"),m.Wb(),m.Xb(133,"input",52),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(134,ld,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(135,"div"),m.Xb(136,"div",40),m.Xb(137,"div",41),m.Tc(138,"\xa0\xa0 Contact Information"),m.Wb(),m.Wb(),m.Xb(139,"div"),m.Xb(140,"span",42),m.Sb(141,"hr",43),m.Wb(),m.Wb(),m.Xb(142,"div",13),m.Xb(143,"div",27),m.Xb(144,"div",28),m.Xb(145,"mat-form-field",29),m.Xb(146,"mat-label",30),m.Tc(147,"Phone Number"),m.Wb(),m.Xb(148,"input",53),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(149,bd,2,0,"mat-error",23),m.Rc(150,ud,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(151,"div",27),m.Xb(152,"div",28),m.Xb(153,"mat-form-field",29),m.Xb(154,"mat-label",30),m.Tc(155,"Mobile Number"),m.Wb(),m.Xb(156,"input",54),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(157,md,2,0,"mat-error",23),m.Rc(158,dd,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Xb(159,"div",27),m.Xb(160,"div",28),m.Xb(161,"mat-form-field",29),m.Xb(162,"mat-label",30),m.Tc(163,"E-mail"),m.Wb(),m.Sb(164,"input",55),m.Rc(165,pd,2,0,"mat-error",23),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(64),o=m.jc();m.rc("formGroup",o.guarantorDetailsForm),m.Eb(14),m.rc("ngIf",!o.guarantorDetailsForm.get("cifNumber").valid&&o.guarantorDetailsForm.get("cifNumber").touched),m.Eb(1),m.rc("ngIf",o.isDuplicateCIF),m.Eb(9),m.rc("value",o.relationshipType),m.Eb(1),m.rc("ngForOf",o.arrayRelationshipType),m.Eb(1),m.rc("ngIf",!o.guarantorDetailsForm.get("relationWithCustomer").valid&&o.guarantorDetailsForm.get("relationWithCustomer").touched),m.Eb(1),m.rc("ngIf",!o.prefixFlag),m.Eb(7),m.rc("ngForOf",o.arrayPrefix),m.Eb(1),m.rc("ngIf",!o.guarantorDetailsForm.get("prefix").valid&&o.guarantorDetailsForm.get("prefix").touched),m.Eb(7),m.rc("ngIf",!o.guarantorDetailsForm.get("firstName").valid&&o.guarantorDetailsForm.get("firstName").touched),m.Eb(13),m.rc("ngIf",!o.guarantorDetailsForm.get("lastName").valid&&o.guarantorDetailsForm.get("lastName").touched),m.Eb(6),m.rc("matDatepicker",a)("min",o.minDate)("max",o.maxDate),m.Eb(1),m.rc("for",a),m.Eb(3),m.rc("ngIf",!o.guarantorDetailsForm.get("dateOfBirth").valid&&o.guarantorDetailsForm.get("dateOfBirth").touched),m.Eb(15),m.rc("ngIf",o.guarantorDetailsForm.get("building").valid&&o.guarantorDetailsForm.get("building").touched&&!o.guarantorDetailsForm.get("building").valid||o.guarantorDetailsForm.get("building").touched&&o.guarantorDetailsForm.get("building").hasError("pattern")),m.Eb(7),m.rc("ngIf",o.guarantorDetailsForm.get("street").valid&&o.guarantorDetailsForm.get("street").touched&&!o.guarantorDetailsForm.get("street").valid||o.guarantorDetailsForm.get("street").touched&&o.guarantorDetailsForm.get("street").hasError("pattern")),m.Eb(7),m.rc("ngIf",o.guarantorDetailsForm.get("address1").valid&&o.guarantorDetailsForm.get("address1").touched&&!o.guarantorDetailsForm.get("address1").valid||o.guarantorDetailsForm.get("address1").touched&&o.guarantorDetailsForm.get("address1").hasError("pattern")),m.Eb(7),m.rc("ngIf",o.guarantorDetailsForm.get("address2").valid&&o.guarantorDetailsForm.get("address2").touched&&!o.guarantorDetailsForm.get("address2").valid||o.guarantorDetailsForm.get("address2").touched&&o.guarantorDetailsForm.get("address2").hasError("pattern")),m.Eb(9),m.rc("ngForOf",o.arrayCountry),m.Eb(1),m.rc("ngIf",!o.guarantorDetailsForm.get("country").valid&&o.guarantorDetailsForm.get("country").touched),m.Eb(7),m.rc("ngForOf",o.arrayState),m.Eb(1),m.rc("ngIf",!o.guarantorDetailsForm.get("state").valid&&o.guarantorDetailsForm.get("state").touched),m.Eb(7),m.rc("ngForOf",o.arrayCity),m.Eb(1),m.rc("ngIf",!o.guarantorDetailsForm.get("city").valid&&o.guarantorDetailsForm.get("city").touched),m.Eb(7),m.rc("ngIf",!o.guarantorDetailsForm.get("zipCode").valid&&o.guarantorDetailsForm.get("zipCode").touched),m.Eb(15),m.rc("ngIf",o.guarantorDetailsForm.get("phoneNumber").hasError("required")&&o.guarantorDetailsForm.get("phoneNumber").touched),m.Eb(1),m.rc("ngIf",o.guarantorDetailsForm.get("phoneNumber").hasError("pattern")&&o.guarantorDetailsForm.get("phoneNumber").touched),m.Eb(7),m.rc("ngIf",o.guarantorDetailsForm.get("mobileNumber").hasError("required")&&o.guarantorDetailsForm.get("mobileNumber").touched),m.Eb(1),m.rc("ngIf",o.guarantorDetailsForm.get("mobileNumber").hasError("pattern")&&o.guarantorDetailsForm.get("mobileNumber").touched),m.Eb(7),m.rc("ngIf",!o.guarantorDetailsForm.get("emailAddress").valid&&o.guarantorDetailsForm.get("emailAddress").touched)}}var gd,hd=((gd=function(){function e(t,n,o,i,r,c,s,l){a(this,e),this.fb=t,this.ls=n,this.loader=o,this.apiService=i,this.router=r,this.snack=c,this.accountService=s,this.appApiService=l,this.loanaccountID=0,this.showEditOption=!1,this.active=!1,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.arrayRelationshipType=[],this.tomorrow=new Date,this.cifNumber=[],this.prefixFlag=!1,this.tomorrow.setDate(this.tomorrow.getDate())}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.buildformGroup(),this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.prefixFlag=!0,this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);var t=JSON.parse(this.ls.getItem("GUARANTOR_DETAIL_DONE"));this.getCountryName("country"),this.getRelationShipType("relationship_type"),this.getPrefixValue("prefix"),this.numOfApplicants=this.ls.getItem("LoanNoOfApplicants"),setTimeout(function(){e.loanaccountID&&t?(e.showEditOption=!0,e.getGuarantorDetails()):(e.showEditOption=!1,e.buildformGroup())},10),this.cifByData()}},{key:"buildformGroup",value:function(e){e&&e.country&&(this.getStateName(e.country),this.getCityName(e.state)),this.guarantorDetailsForm=this.fb.group({cifNumber:[e?e.cifNumber:"",$.A.required],relationWithCustomer:[e?e.relationWithCustomer:"",$.A.required],prefix:[e?e.prefix:"",$.A.required],firstName:[e?e.firstName:"",$.A.required],existingCustomer:[!0,$.A.required],middleName:[e?e.middleName:""],lastName:[e?e.lastName:"",$.A.required],dateOfBirth:[e?e.dateOfBirth:"",$.A.required],building:[e?e.building:"",[$.A.pattern(".*[a-zA-Z].*")]],street:[e?e.street:"",[$.A.pattern(".*[a-zA-Z].*")]],address1:[e?e.address1:"",[$.A.pattern(".*[a-zA-Z].*"),$.A.required]],address2:[e?e.address2:"",[$.A.pattern(".*[a-zA-Z].*"),$.A.required]],city:[e?e.city:"",$.A.required],state:[e?e.state:"",$.A.required],country:[e?e.country:"",$.A.required],zipCode:[e?e.zipCode:"",[$.A.required,$.A.pattern("^[0-9]{5,10}$")]],phoneNumber:[e?e.phoneNumber:"",[$.A.pattern("^[0-9]{10,12}$")]],mobileNumber:[e?e.mobileNumber:"",[$.A.required,$.A.pattern("^[0-9]{10,12}$")]],emailAddress:[e?e.emailAddress:"",[$.A.required,$.A.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]]})}},{key:"onChangeData",value:function(e){var t=this.guarantorDetailsForm.value.prefix;("Mr"!=t||"Father"!=e.value&&"Brother"!=e.value&&"Spouse"!=e.value)&&("Ms"!=t&&"Mrs"!=t||"Mother"!=e.value&&"Sister"!=e.value)?(this.prefixFlag=!1,this.snack.open("Prefix and Relationship with Customer does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})):this.prefixFlag=!0}},{key:"keyPressAlphanumeric",value:function(e){var t=String.fromCharCode(e.keyCode);return!!/^[a-zA-Z0-9_ ]*$/.test(t)||(e.preventDefault(),!1)}},{key:"getGuarantorDetails",value:function(){var e=this;this.loader.open(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(function(t){e.loader.close(),e.guarantorDetails=t,console.log("this.guarantorDetails::",e.guarantorDetails),e.getStateName(e.guarantorDetails.country),e.getCityName(e.guarantorDetails.state),e.buildformGroup(e.guarantorDetails)},function(t){e.loader.close()})}},{key:"getRelationShipType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayRelationshipType=e,console.log("--\x3e",t.arrayCountry)})}},{key:"getPrefixValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayPrefix=e})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"getCountryName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(e){for(var n=0;n<e.length;n++)"A"===e[n].authStatus&&(t.arrayCountry.push(e[n].countryName),t.arrayCountry.sort())})}},{key:"getStateName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(n){for(var a=0;a<n.length;a++)if(n[a].countryName==e){t.apiService.getStateByCountryId(n[a].id).subscribe(function(e){t.arrayState=e});break}})}},{key:"getCityName",value:function(e){var t=this;this.entityName="city",console.log(e),this.apiService.getDropDownValues1(this.entityName,e).subscribe(function(e){t.arrayCity=e,console.log("--\x3e",t.arrayCity)})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/collateral_details"])}},{key:"stayTrue",value:function(){this.guarantorDetailsForm.get("existingCustomer").setValue(!0)}},{key:"submitForm",value:function(){var e=this,t={};(t=this.guarantorDetailsForm.value).loanAccountId=this.loanaccountID,t.active=this.active,t.customerId=this.customerId,t.customerTypeId=this.customerTypeId,t.userAddress=this.userAddress,t.cifNumber=this.guarantorDetailsForm.value.cifNumber,this.apiService.upsertGuarantorDetails(t).subscribe(function(t){console.log("data",t),null!=t&&(e.snack.open("Guarantor Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next())})}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"keyUpevent",value:function(e){console.log("event",e)}},{key:"cifByData",value:function(){var e=this;this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(function(t){if(t.data)for(var n=0;n<=e.numOfApplicants;n++)e.cifNumber.push({cifValue:t.data[n].customerId})})}},{key:"fetchByCif",value:function(e){var t=this;this.cifNumber.some(function(t){return t.cifValue==e})?(this.isDuplicateCIF=!0,this.disableSaveBtn=!0,this.snack.open("Duplicate CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})):(this.isDuplicateCIF=!0,this.disableSaveBtn=!1,e&&this.appApiService.fetchByCif(e).subscribe(function(e){t.buildformGroup({cifNumber:e.customerInfoList[0].cifNumber,relationWithCustomer:e.customerInfoList[0].relationWithCustomer,prefix:e.customerInfoList[0].prefix,firstName:e.customerInfoList[0].firstName,middleName:e.customerInfoList[0].middleName,lastName:e.customerInfoList[0].lastName,dateOfBirth:e.customerInfoList[0].dateOfBirth,building:e.customerInfoList[0].building,street:e.customerInfoList[0].street,address1:e.customerInfoList[0].userAddress[0].address1,address2:e.customerInfoList[0].userAddress[0].address2,city:e.customerInfoList[0].userAddress[0].city,state:e.customerInfoList[0].userAddress[0].state,country:e.customerInfoList[0].userAddress[0].country,zipCode:e.customerInfoList[0].userAddress[0].zipCode,phoneNumber:e.customerInfoList[0].phoneNumber,mobileNumber:e.customerInfoList[0].landlineNumber,emailAddress:e.customerInfoList[0].primaryEmailAdress})}))}},{key:"next",value:function(){this.ls.setItem("GUARANTOR_DETAIL_DONE",!0),this.ls.setItem("LoanEntryStage",!0),console.log("loan entry stage done:",this.ls.setItem("LoanEntryStage",!0)),this.accountService.refresh.next(),this.router.navigate(["/loan/account/application-enrichment"])}}]),e}()).\u0275fac=function(e){return new(e||gd)(m.Rb($.f),m.Rb(W.a),m.Rb(Pe.a),m.Rb(x.b),m.Rb(d.h),m.Rb(A.a),m.Rb(ue.a),m.Rb(ln.a))},gd.\u0275cmp=m.Lb({type:gd,selectors:[["app-guarantor-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_4.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["type","button","mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"full-width"],["fxFlex","50%","fxFlex.xs","100%"],[1,"p-16",2,"padding-left","8px !important"],[1,"pb-16"],[1,"pb-4"],[1,"pb-1"],["name","existingCustomer","formControlName","existingCustomer","required","",3,"change"],["fxFlex","40%","fxFlex.xs","100%"],["appearance","outline",1,"full-width",2,"padding-left","15px"],["matInput","","name","cifNumber","formControlName","cifNumber","required","",3,"keypress","keyup"],[4,"ngIf"],["class","err-msg",4,"ngIf"],["fxFlex","10%","fxFlex.xs","100%",1,"fechButtonDiv","float-end",2,"padding-left","13px"],[1,"fetchButton",2,"padding-left","13px",3,"click"],["fxFlex","50%","fxFlex.xs","100%",1,"p-2"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],[1,"p-3"],["name","rtype","formControlName","relationWithCustomer","placeholder","Select","disableOptionCentering","","required","",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","prefix","formControlName","prefix","required","","disableOptionCentering","","placeholder","Select"],["matInput","","name","firstName","formControlName","firstName","required","",3,"keypress"],["matInput","","name","middleName","formControlName","middleName",3,"keypress"],["matInput","","name","lastName","formControlName","lastName","required","",3,"keypress"],["matInput","","name","dateOfBirth","formControlName","dateOfBirth","placeholder","DD/MM/YYYY","readonly","","required","",1,"alignment",3,"matDatepicker","min","max"],["matSuffix","",3,"for"],["pickerDOB",""],["fxLayout","row wrap",1,"full-width"],[1,"card-title-text","p-2"],["layout","row"],["flex","",1,"line"],["matInput","","name","building","formControlName","building",3,"keypress"],["matInput","","name","street","formControlName","street",3,"keypress"],["matInput","","name","building","formControlName","address1","required",""],["matInput","","name","street","formControlName","address2","required",""],["name","country","formControlName","country","disableOptionCentering","","placeholder","Select",3,"selectionChange"],["value",""],["name","state","formControlName","state","disableOptionCentering","","placeholder","Select",3,"selectionChange"],["name","city","formControlName","city","required","","placeholder","Select","disableOptionCentering",""],["matInput","","name","zipCode","formControlName","zipCode","minlength","5","maxlength","6","onlyNumber","","type","text","required","",3,"keypress"],["matInput","","name","phoneNumber","formControlName","phoneNumber","minlength","10","maxlength","10","required","",3,"keypress"],["matInput","","name","mobileNumber","formControlName","mobileNumber","minlength","10","maxlength","10","required","",3,"keypress"],["matInput","","name","emailAddress","formControlName","emailAddress","required",""],[1,"err-msg"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h2"),m.Tc(7,"Guarantor Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title"),m.Xb(11,"fieldset"),m.Xb(12,"legend",7),m.Tc(13,"Guarantor Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,fd,166,32,"form",8),m.Wb(),m.Wb(),m.Xb(16,"div",9),m.Xb(17,"button",10),m.fc("click",function(){return t.goBack()}),m.Tc(18," Back "),m.Wb(),m.Xb(19,"button",11),m.fc("click",function(){return t.submitForm()}),m.Tc(20," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.guarantorDetailsForm),m.Eb(4),m.rc("disabled",!(t.guarantorDetailsForm.get("cifNumber").valid&&t.guarantorDetailsForm.get("relationWithCustomer").valid&&t.guarantorDetailsForm.get("prefix").valid&&t.guarantorDetailsForm.get("firstName").valid&&t.guarantorDetailsForm.get("lastName").valid&&t.guarantorDetailsForm.get("dateOfBirth").valid&&t.guarantorDetailsForm.get("address1").valid&&t.guarantorDetailsForm.get("address2").valid&&t.guarantorDetailsForm.get("mobileNumber").valid&&t.guarantorDetailsForm.get("emailAddress").valid)))},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,de.a,de.c,$.r,$.i,$.z,g.c,g.g,Q.b,$.c,J.a,u.m,ce.e,ce.g,g.j,ce.d,Z.n,$.n,$.m,Ja.a,g.b],styles:[".fetchButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:10px;padding-top:15px;cursor:pointer;margin-right:40px}"]}),gd);function vd(e,t){if(1&e&&(m.Xb(0,"mat-option",46),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function yd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Collateral Type is Required! "),m.Wb())}function Wd(e,t){if(1&e&&(m.Xb(0,"mat-option",46),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function Xd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Currency is Required! "),m.Wb())}function xd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Collateral Value is Required! "),m.Wb())}function Cd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Attributes is Required! "),m.Wb())}function Id(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Dimensions is Required! "),m.Wb())}function Ad(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Building is Required! "),m.Wb())}function Od(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Street is Required! "),m.Wb())}function Td(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Locality is Required! "),m.Wb())}function Dd(e,t){if(1&e&&(m.Xb(0,"mat-option",46),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}function kd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Country is Required! "),m.Wb())}function Sd(e,t){if(1&e&&(m.Xb(0,"mat-option",46),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.stateName),m.Eb(1),m.Vc(" ",n.stateName,"")}}function _d(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 State is Required! "),m.Wb())}function Rd(e,t){if(1&e&&(m.Xb(0,"mat-option",46),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n.value1),m.Eb(1),m.Vc("",n.value1," ")}}function Ed(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 City is Required! "),m.Wb())}function Md(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0Valid Zip Code is Required!(5-10 digits) "),m.Wb())}function Pd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Number of Collateral is Required! "),m.Wb())}function Nd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Total Collateral Value is Required! "),m.Wb())}function wd(e,t){1&e&&(m.Xb(0,"small",63),m.Tc(1," Cover Available or Utilized Previously can't be greater than Total Collateral Value "),m.Wb())}function Fd(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Utilized Previously is Required! "),m.Wb())}function Ld(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Cover Available is Required! "),m.Wb())}function Vd(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",47),m.Xb(1,"div",48),m.Xb(2,"mat-accordion",49),m.Xb(3,"mat-expansion-panel",50),m.fc("opened",function(){return m.Hc(n),m.jc(2).panelOpenState=!0})("closed",function(){return m.Hc(n),m.jc(2).panelOpenState=!1}),m.Xb(4,"mat-expansion-panel-header",51),m.Xb(5,"mat-panel-title",52),m.Tc(6," Add Collateral "),m.Wb(),m.Wb(),m.Sb(7,"mat-divider",53),m.Xb(8,"div"),m.Xb(9,"div",54),m.Xb(10,"div",14),m.Xb(11,"div",15),m.Xb(12,"mat-form-field",16),m.Xb(13,"mat-label"),m.Tc(14,"Number of Collateral*"),m.Wb(),m.Xb(15,"input",55),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)}),m.Wb(),m.Wb(),m.Rc(16,Pd,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Xb(17,"div",56),m.Xb(18,"div",15),m.Xb(19,"mat-form-field",16),m.Xb(20,"mat-label"),m.Tc(21,"Total Collateral Value*"),m.Wb(),m.Xb(22,"input",57),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateCoverAvail(e.collateralInfo_array.value[0])})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateUtilizedPrev(e.collateralInfo_array.value[0])}),m.Wb(),m.Wb(),m.Rc(23,Nd,2,0,"mat-error",19),m.Wb(),m.Xb(24,"div"),m.Rc(25,wd,2,0,"small",58),m.Wb(),m.Wb(),m.Xb(26,"div",56),m.Xb(27,"div",15),m.Xb(28,"mat-form-field",16),m.Xb(29,"mat-label"),m.Tc(30,"Utilized Previously *"),m.Wb(),m.Xb(31,"input",59),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateCoverAvail(e.collateralInfo_array.value[0])})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateTotalColVal(e.collateralInfo_array.value[0])}),m.Wb(),m.Wb(),m.Rc(32,Fd,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Xb(33,"div",56),m.Xb(34,"div",15),m.Xb(35,"mat-form-field",16),m.Xb(36,"mat-label"),m.Tc(37,"Cover Available*"),m.Wb(),m.Xb(38,"input",60),m.fc("keypress",function(e){return m.Hc(n),m.jc(2)._keyPress(e)})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateTotalColVal(e.collateralInfo_array.value[0])})("input",function(){m.Hc(n);var e=m.jc(2);return e.calculateUtilizedPrev(e.collateralInfo_array.value[0])}),m.Wb(),m.Wb(),m.Rc(39,Ld,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Xb(40,"div",20),m.Xb(41,"div"),m.Xb(42,"div",27),m.Xb(43,"div",28),m.Xb(44,"div",61),m.Tc(45," Secondary Charge Allowed ?\xa0\xa0\xa0\xa0 "),m.Sb(46,"mat-slide-toggle",62),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=t.$implicit,o=t.index,i=m.jc(2);m.Eb(1),m.rc("formGroupName",o),m.Eb(15),m.rc("ngIf",a.get("noOfCollateral").hasError("required")&&a.get("noOfCollateral").hasError("touched")),m.Eb(7),m.rc("ngIf",a.get("totalCollateralValue").hasError("required")&&a.get("totalCollateralValue").hasError("touched")),m.Eb(2),m.rc("ngIf",i.flag),m.Eb(7),m.rc("ngIf",a.get("utilizedPreviously").hasError("required")&&a.get("utilizedPreviously").hasError("touched")),m.Eb(7),m.rc("ngIf",a.get("coverAvailable").hasError("required")&&a.get("coverAvailable").hasError("touched"))}}function qd(e,t){if(1&e){var n=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",15),m.Xb(4,"mat-form-field",16),m.Xb(5,"mat-label"),m.Tc(6,"Collateral Type"),m.Wb(),m.Xb(7,"mat-select",17),m.Rc(8,vd,2,2,"mat-option",18),m.Wb(),m.Rc(9,yd,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Sb(10,"div",20),m.Xb(11,"div",14),m.Xb(12,"div",15),m.Xb(13,"mat-form-field",16),m.Xb(14,"mat-label"),m.Tc(15,"Currency "),m.Wb(),m.Xb(16,"mat-select",21),m.Rc(17,Wd,2,2,"mat-option",18),m.Wb(),m.Rc(18,Xd,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(19,"div",20),m.Xb(20,"div",15),m.Xb(21,"mat-form-field",16),m.Xb(22,"mat-label"),m.Tc(23,"Collateral Value"),m.Wb(),m.Xb(24,"input",22),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(25,xd,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(26,"div",14),m.Xb(27,"div",15),m.Xb(28,"mat-form-field",16),m.Xb(29,"mat-label"),m.Tc(30,"Attributes"),m.Wb(),m.Xb(31,"mat-select",23),m.Xb(32,"mat-option",24),m.Tc(33,"Attributes 1"),m.Wb(),m.Xb(34,"mat-option",25),m.Tc(35,"Attributes 2"),m.Wb(),m.Wb(),m.Rc(36,Cd,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(37,"div",20),m.Xb(38,"div",26),m.Xb(39,"div",27),m.Xb(40,"div",28),m.Xb(41,"div",29),m.Tc(42," Third Party Collateral \xa0\xa0 \xa0\xa0"),m.Sb(43,"mat-slide-toggle",30),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(44,"div",14),m.Xb(45,"div",31),m.Xb(46,"div",15),m.Xb(47,"mat-form-field",16),m.Xb(48,"mat-label"),m.Tc(49,"Dimensions"),m.Wb(),m.Xb(50,"input",32),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(51,Id,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(52,"div"),m.Xb(53,"mat-card-title"),m.Xb(54,"fieldset",33),m.Xb(55,"legend",7),m.Tc(56,"Address"),m.Wb(),m.Wb(),m.Wb(),m.Xb(57,"div",13),m.Xb(58,"div",14),m.Xb(59,"div",15),m.Xb(60,"mat-form-field",16),m.Xb(61,"mat-label"),m.Tc(62,"Building"),m.Wb(),m.Xb(63,"input",34),m.fc("keypress",function(e){return m.Hc(n),m.jc().keyPressAlphanumeric(e)}),m.Wb(),m.Rc(64,Ad,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(65,"div",20),m.Xb(66,"div",15),m.Xb(67,"mat-form-field",16),m.Xb(68,"mat-label"),m.Tc(69,"Street"),m.Wb(),m.Xb(70,"input",35),m.fc("keypress",function(e){return m.Hc(n),m.jc().keyPressAlphanumeric(e)}),m.Wb(),m.Rc(71,Od,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(72,"div",14),m.Xb(73,"div",15),m.Xb(74,"mat-form-field",16),m.Xb(75,"mat-label"),m.Tc(76,"Locality"),m.Wb(),m.Xb(77,"input",36),m.fc("keypress",function(e){return m.Hc(n),m.jc().letterOnly(e)}),m.Wb(),m.Rc(78,Td,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(79,"div",20),m.Xb(80,"div",15),m.Xb(81,"mat-form-field",16),m.Xb(82,"mat-label"),m.Tc(83,"Country"),m.Wb(),m.Xb(84,"mat-select",37),m.fc("selectionChange",function(e){return m.Hc(n),m.jc().getStateName(e.value)})("selectionChange",function(e){return m.Hc(n),m.jc().getCityName(e.value)}),m.Rc(85,Dd,2,2,"mat-option",18),m.Wb(),m.Rc(86,kd,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(87,"div",14),m.Xb(88,"div",15),m.Xb(89,"mat-form-field",16),m.Xb(90,"mat-label"),m.Tc(91,"State"),m.Wb(),m.Xb(92,"mat-select",38),m.fc("selectionChange",function(e){return m.Hc(n),m.jc().getCityName(e.value)}),m.Rc(93,Sd,2,2,"mat-option",18),m.Wb(),m.Rc(94,_d,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(95,"div",20),m.Xb(96,"div",15),m.Xb(97,"mat-form-field",16),m.Xb(98,"mat-label"),m.Tc(99,"City"),m.Wb(),m.Xb(100,"mat-select",39),m.Rc(101,Rd,2,2,"mat-option",18),m.Wb(),m.Rc(102,Ed,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(103,"div",14),m.Xb(104,"div",15),m.Xb(105,"mat-form-field",16),m.Xb(106,"mat-label"),m.Tc(107,"Zip Code"),m.Wb(),m.Xb(108,"input",40),m.fc("keypress",function(e){return m.Hc(n),m.jc()._keyPress(e)}),m.Wb(),m.Rc(109,Md,2,0,"mat-error",19),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(110,"div"),m.Xb(111,"div",41),m.Xb(112,"div"),m.Xb(113,"button",42),m.fc("click",function(){return m.Hc(n),m.jc().addMandate("")}),m.Tc(114,"+ ADD COLLATERAL"),m.Wb(),m.Wb(),m.Wb(),m.Xb(115,"div",43),m.Xb(116,"form",44),m.Rc(117,Vd,47,6,"div",45),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.jc();m.rc("formGroup",a.collateralDetailsForm),m.Eb(8),m.rc("ngForOf",a.arrayCollateralType),m.Eb(1),m.rc("ngIf",!a.collateralDetailsForm.get("collateralType").valid&&a.collateralDetailsForm.get("collateralType").touched),m.Eb(8),m.rc("ngForOf",a.arrayRateValue),m.Eb(1),m.rc("ngIf",!a.collateralDetailsForm.get("collateralCurrency").valid&&a.collateralDetailsForm.get("collateralCurrency").touched),m.Eb(7),m.rc("ngIf",!a.collateralDetailsForm.get("collateralValue").valid&&a.collateralDetailsForm.get("collateralValue").touched),m.Eb(11),m.rc("ngIf",!a.collateralDetailsForm.get("attributes").valid&&a.collateralDetailsForm.get("attributes").touched),m.Eb(15),m.rc("ngIf",!a.collateralDetailsForm.get("dimensions").valid&&a.collateralDetailsForm.get("dimensions").touched),m.Eb(13),m.rc("ngIf",a.collateralDetailsForm.get("building")&&a.collateralDetailsForm.get("building").touched&&!a.collateralDetailsForm.get("building").valid||a.collateralDetailsForm.get("building").touched&&a.collateralDetailsForm.get("building").hasError("pattern")),m.Eb(7),m.rc("ngIf",a.collateralDetailsForm.get("street")&&a.collateralDetailsForm.get("street").touched&&!a.collateralDetailsForm.get("street").valid||a.collateralDetailsForm.get("street").touched&&a.collateralDetailsForm.get("street").hasError("pattern")),m.Eb(7),m.rc("ngIf",!a.collateralDetailsForm.get("locality").valid&&a.collateralDetailsForm.get("locality").touched),m.Eb(7),m.rc("ngForOf",a.arrayCountry),m.Eb(1),m.rc("ngIf",!a.collateralDetailsForm.get("country").valid&&a.collateralDetailsForm.get("country").touched),m.Eb(7),m.rc("ngForOf",a.arrayState),m.Eb(1),m.rc("ngIf",!a.collateralDetailsForm.get("state").valid&&a.collateralDetailsForm.get("state").touched),m.Eb(7),m.rc("ngForOf",a.arrayCity),m.Eb(1),m.rc("ngIf",!a.collateralDetailsForm.get("city").valid&&a.collateralDetailsForm.get("city").touched),m.Eb(7),m.rc("ngIf",!a.collateralDetailsForm.get("zipCode").valid&&a.collateralDetailsForm.get("zipCode").touched),m.Eb(4),m.rc("disabled",null==a.collateralInfo?null:a.collateralInfo.invalid),m.Eb(3),m.rc("formGroup",a.collateralInfo),m.Eb(1),m.rc("ngForOf",a.collateralInfo.get("collateralInfo_array").controls)}}var jd,Bd=((jd=function(){function e(t,n,o,i,r,c,s){a(this,e),this.fb=t,this.ls=n,this.loader=o,this.apiService=i,this.router=r,this.snack=c,this.accountService=s,this.panelOpenState=!1,this.showEditOption=!1,this.collateralId=0,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.flag=!1,this.flag1=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.buildformGroup(),this.collateralInfo=this.fb.group({collateralInfo_array:this.fb.array([])}),this.collateralId=0,this.getCountryName("country"),this.getCollateralType("collateral_type"),this.getRateValue("currency"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);var t=JSON.parse(this.ls.getItem("COLLATERAL_DETAIL_DONE"));setTimeout(function(){e.loanaccountID&&t?(e.showEditOption=!0,e.getCollateralDetails()):(e.showEditOption=!1,e.buildformGroup(),e.addMandate(""))},10)}},{key:"buildformGroup",value:function(e){console.log("data",e),e&&(this.getStateName(e.country),this.getCityName(e.state)),this.collateralDetailsForm=this.fb.group({collateralType:[e?e.collateralType:"",$.A.required],collateralCurrency:[e?e.collateralCurrency:"",$.A.required],collateralValue:[e?e.collateralValue:"",$.A.required],attributes:[e?e.attributes:"",$.A.required],dimensions:[e?e.dimensions:"",$.A.required],thirdPartyCollateral:[!!e&&e.thirdPartyCollateral,$.A.required],building:[e?e.building:"",[$.A.required,$.A.pattern(".*[a-zA-Z].*")]],street:[e?e.street:"",[$.A.required,$.A.pattern(".*[a-zA-Z].*")]],locality:[e?e.locality:"",$.A.required],city:[e?e.city:"",$.A.required],state:[e?e.state:"",$.A.required],country:[e?e.country:"",$.A.required],zipCode:[e?e.zipCode:"",[$.A.required,$.A.pattern("^((\\+91-?)|0)?[0-9]{5,10}$")]]})}},{key:"createCollateralDetail",value:function(e){return this.fb.group({noOfCollateral:e?e.noOfCollateral:["",$.A.required],totalCollateralValue:e?e.totalCollateralValue:["",$.A.required],utilizedPreviously:e?e.utilizedPreviously:["",$.A.required],secondaryChargeAllowed:[!!e&&e.secondaryChargeAllowed],coverAvailable:e?e.coverAvailable:["",$.A.required],collateralDetailsId:"",collateralId:""})}},{key:"addMandate",value:function(e){console.log("i",e),this.collateralInfo_array=this.collateralInfo.get("collateralInfo_array"),this.collateralInfo_array.push(this.createCollateralDetail(e))}},{key:"getCollateralDetails",value:function(){var e=this;this.loader.open(),this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(function(t){e.loader.close(),e.collateralDetails=t,console.log(e.collateralDetails.collateralDetails.length),console.log(e.collateralDetails),e.buildformGroup(e.collateralDetails),e.populateCollateral(e.collateralDetails)},function(t){e.loader.close()})}},{key:"populateCollateral",value:function(e){for(var t=0;t<=e.collateralDetails.length;t++)this.addMandate({noOfCollateral:e.collateralDetails[t].noOfCollateral,totalCollateralValue:e.collateralDetails[t].totalCollateralValue,utilizedPreviously:e.collateralDetails[t].utilizedPreviously,secondaryChargeAllowed:!!e&&e.collateralDetails[t].secondaryChargeAllowed,coverAvailable:e.collateralDetails[t].coverAvailable,collateralDetailsId:"",collateralId:""})}},{key:"getCollateralType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayCollateralType=e})}},{key:"getRateValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayRateValue=e})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/financial-details"])}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"submitForm",value:function(){var e=this,t={};(t=this.collateralDetailsForm.value).accountId=this.accountId,t.loanAccountId=this.loanaccountID,t.collateralDetails=this.collateralInfo_array.value,t.loggedInUser=this.ls.getItem("loggedInUser"),this.ls.getItem("COLLATERAL_DETAIL_DONE")&&(t.mandateId=this.collateralId),this.apiService.upsertCollateralDetails(t).subscribe(function(t){console.log("data",t),null!=t&&(e.snack.open("Collateral Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next())})}},{key:"next",value:function(){this.ls.setItem("COLLATERAL_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/guarantor_details"])}},{key:"getCountryName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(e){for(var n=0;n<e.length;n++)"A"===e[n].authStatus&&(t.arrayCountry.push(e[n].countryName),t.arrayCountry.sort())})}},{key:"keyPressAlphanumeric",value:function(e){var t=String.fromCharCode(e.keyCode);return!!/^[a-zA-Z0-9_ ]*$/.test(t)||(e.preventDefault(),!1)}},{key:"getStateName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(n){for(var a=0;a<n.length;a++)if(n[a].countryName==e){t.apiService.getStateByCountryId(n[a].id).subscribe(function(e){t.arrayState=e});break}})}},{key:"getCityName",value:function(e){var t=this;this.entityName="city",console.log(e),this.apiService.getDropDownValues1(this.entityName,e).subscribe(function(e){t.arrayCity=e,console.log("--\x3e",t.arrayCity)})}},{key:"calculateUtilizedPrev",value:function(e){if(""!==e.totalCollateralValue&&!(Number(e.totalCollateralValue)<Number(e.coverAvailable))){var t=Number(e.totalCollateralValue)-Number(e.coverAvailable);this.collateralInfo.get("collateralInfo_array").controls[0].get("utilizedPreviously").setValue(t)}}},{key:"calculateCoverAvail",value:function(e){if(""!==e.totalCollateralValue)if(Number(e.totalCollateralValue)<Number(e.utilizedPreviously)&&Number(e.totalCollateralValue)<Number(e.coverAvailable))this.flag=!0;else if(!(Number(e.totalCollateralValue)<Number(e.utilizedPreviously))){this.flag=!1;var t=Number(e.totalCollateralValue)-Number(e.utilizedPreviously);this.collateralInfo.get("collateralInfo_array").controls[0].get("coverAvailable").setValue(t)}}},{key:"calculateTotalColVal",value:function(e){if(""!==e.utilizedPreviously&&""!==e.coverAvailable){var t=Number(e.utilizedPreviously)+Number(e.coverAvailable);this.collateralInfo.get("collateralInfo_array").controls[0].get("totalCollateralValue").setValue(t)}}}]),e}()).\u0275fac=function(e){return new(e||jd)(m.Rb($.f),m.Rb(W.a),m.Rb(Pe.a),m.Rb(x.b),m.Rb(d.h),m.Rb(A.a),m.Rb(ue.a))},jd.\u0275cmp=m.Lb({type:jd,selectors:[["app-collateral-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/collatorial_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["type","button","mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"full-width"],["fxFlex","50%","fxFlex.xs","100%"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["name","collateralType","formControlName","collateralType","required","","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","50%","fxFlex.xs","100%",1,"p-2"],["name","collateralCurrency","formControlName","collateralCurrency","required","","disableOptionCentering",""],["matInput","","name","collateralValue","formControlName","collateralValue","maxlength","12","required","",3,"keypress"],["name","attributes","formControlName","attributes","required","","disableOptionCentering",""],["value","1"],["value","2"],[1,"p-16"],[1,"pb-16"],[1,"pb-4"],[1,"pb-1",2,"margin-top","38px"],["name","thirdPartyCollateral","formControlName","thirdPartyCollateral"],["fxLayout","row wrap",1,"full-width"],["matInput","","name","dimensions","formControlName","dimensions","required","",3,"keypress"],[1,"alignChange"],["matInput","","name","building","formControlName","building","required","",3,"keypress"],["matInput","","name","street","formControlName","street","required","",3,"keypress"],["matInput","","name","locality","formControlName","locality","required","",3,"keypress"],["name","country","formControlName","country","required","","disableOptionCentering","",3,"selectionChange"],["name","state","formControlName","state","required","","disableOptionCentering","",3,"selectionChange"],["name","city","formControlName","city","required","","disableOptionCentering",""],["matInput","","name","zipCode","formControlName","zipCode","minlength","5","maxlength","10","required","",3,"keypress"],["fxLayout","row","fxLayoutGap","16px",1,"mt-32"],["mat-button","","color","primary",1,"paddingChange",3,"disabled","click"],["fxLayout","row",1,"full-width"],[1,"full-width",3,"formGroup"],["fxLayout","row","class","full-width pt-16","formArrayName","collateralInfo_array",4,"ngFor","ngForOf"],[3,"value"],["fxLayout","row","formArrayName","collateralInfo_array",1,"full-width","pt-16"],[1,"full-width",3,"formGroupName"],[1,"full-width","mat-elevation-z0"],[1,"mat-elevation-z0","borderStyle",3,"opened","closed"],[1,"marginData"],[1,"textDesign"],[1,"design"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"pt-16","full-width"],["matInput","","name","noOfCollateral","formControlName","noOfCollateral",3,"keypress"],["fxFlex","50%","fxFlex.xs","100%",1,"p-1"],["matInput","","name","totalCollateralValue","formControlName","totalCollateralValue",3,"keypress","input"],["style","color:red;",4,"ngIf"],["matInput","","name","utilizedPreviously","formControlName","utilizedPreviously",3,"keypress","input"],["matInput","","name","coverAvailable","formControlName","coverAvailable",3,"keypress","input"],[1,"pb-1"],["name","secondaryChargeAllowed","formControlName","secondaryChargeAllowed"],[2,"color","red"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h1"),m.Tc(7,"Collateral Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",1),m.Xb(9,"mat-card",6),m.Xb(10,"mat-card-title"),m.Xb(11,"fieldset"),m.Xb(12,"legend",7),m.Tc(13,"Collateral Details"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"mat-card-content"),m.Rc(15,qd,118,21,"form",8),m.Wb(),m.Wb(),m.Xb(16,"div",9),m.Xb(17,"button",10),m.fc("click",function(){return t.goBack()}),m.Tc(18," Back "),m.Wb(),m.Xb(19,"button",11),m.fc("click",function(){return t.submitForm()}),m.Tc(20," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(15),m.rc("ngIf",t.collateralDetailsForm),m.Eb(4),m.rc("disabled",!(t.collateralDetailsForm.valid&&t.collateralInfo.valid)))},directives:[p.e,p.b,f.a,f.h,f.d,u.n,p.d,p.f,h.b,$.C,$.s,$.j,g.c,g.g,J.a,$.r,$.i,$.z,u.m,Q.b,$.c,$.m,Z.n,de.a,$.n,g.b,$.e,$.k,Za.a,Za.c,Za.e,Za.f,S.a],styles:[".alignChange[_ngcontent-%COMP%], .dataChange[_ngcontent-%COMP%]{margin-left:0!important}.dataChange[_ngcontent-%COMP%]{margin-right:0!important}.paddingChange[_ngcontent-%COMP%]{padding-left:0!important}input[_ngcontent-%COMP%]{outline:none!important;border:none!important}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px;opacity:1}.marginData[_ngcontent-%COMP%]{margin-bottom:0!important}"]}),jd);function zd(e,t){if(1&e&&(m.Xb(0,"mat-option",30),m.Tc(1),m.Wb()),2&e){var n=t.$implicit;m.rc("value",n),m.Eb(1),m.Vc(" ",n," ")}}var Ud,Hd,Gd=((Hd=function(){function e(t,n,o,i,r,c){a(this,e),this.router=t,this.ls=n,this.apiService=o,this.snack=i,this.loader=r,this.formBuilder=c,this.generateArr=["With Schedule","without Schedule"],this.showEditOption=!1,this.disableDone=!0,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1,this.OfferIssueForm=this.formBuilder.group({approvedLoanAmount:[],applicantName:[""],loanTenure:[],installmentType:[""],installmentFrequency:[""],rateOfInterest:[],offerIssueDate:[""],generateOffer:[""]})}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);var t=JSON.parse(this.ls.getItem("OfferIssue"));setTimeout(function(){t?(e.showEditOption=!0,e.getAccountDetails()):(console.log("else"),e.showEditOption=!1,e.buildOfferIssueForm())},10)}},{key:"getAccountDetails",value:function(){var e=this;this.loader.open(),this.apiService.getOfferIssueDetails(this.loanaccountID?this.loanaccountID:44444).subscribe(function(t){e.loader.close(),e.accountDetails=t,console.log(e.accountDetails),e.buildOfferIssueForm(e.accountDetails)},function(t){e.loader.close()})}},{key:"buildOfferIssueForm",value:function(e){this.OfferIssueForm=this.formBuilder.group({approvedLoanAmount:[e?e.approvedLoanAmount:""],applicantName:[e?e.applicantName:""],loanTenure:[e?e.loanTenure:""],installmentType:[e?e.installmentType:""],installmentFrequency:[e?e.installmentFrequency:""],rateOfInterest:[e?e.rateOfInterest:""],offerIssueDate:[e?e.offerIssueDate:""],generateOffer:[e?e.generateOffer:""]})}},{key:"goBack",value:function(){this.router.navigate(["/loan/account/offerstage/offer-assessment"])}},{key:"Submit",value:function(){var e=this,t=new Date;t=this.OfferIssueForm.value.opinionDate;var n=re(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",n);var a=this.OfferIssueForm.value.approvedLoanAmount;a=parseInt(a);var o=this.OfferIssueForm.value.rateOfInterest;o=parseInt(o);var i={loanAccountId:parseInt("44444"),approvedLoanAmount:a,applicantName:this.OfferIssueForm.value.applicantName,loanTenure:this.OfferIssueForm.value.loanTenure,installmentType:this.OfferIssueForm.value.installmentType,installmentFrequency:this.OfferIssueForm.value.installmentFrequency,rateOfInterest:o,offerIssueDate:n,generateOffer:this.OfferIssueForm.value.generateOffer};console.log("payload",i),this.apiService.upsertOfferIssue(i).subscribe(function(t){console.log("data",t),null!=t&&e.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.Next()}},{key:"Next",value:function(){this.ls.setItem("OfferIssue",!0),this.router.navigate(["/loan/account/offerstage/offer-accept-reject"])}},{key:"_keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"onInput",value:function(e,t){this.approvedLoan=t?e.target.value:e,console.log("this.salary)::",this.approvedLoan);var n=this.approvedLoan.toString().replace(/,/g,"").split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var a=n.join(".");console.log("final",a),this.OfferIssueForm.controls.approvedLoanAmount.setValue(a)}}]),e}()).\u0275fac=function(e){return new(e||Hd)(m.Rb(d.h),m.Rb(W.a),m.Rb(x.b),m.Rb(A.a),m.Rb(Pe.a),m.Rb($.f))},Hd.\u0275cmp=m.Lb({type:Hd,selectors:[["app-offer-issue"]],decls:83,vars:5,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"card-title-text"],["fxLayout","column",3,"formGroup"],["fxLayout","column",2,"border-radius","30px","margin-right","1.5cm"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["matInput","","type","text","name","applicantName","placeholder","Applicant Name","formControlName","applicantName",1,"alignment"],["matInput","","type","text","name","approvedLoanAmount","placeholder","Approved Loan Amount","maxlength","16","formControlName","approvedLoanAmount",1,"alignment",3,"keypress","keyup"],["matInput","","type","text","name","loanTenure","formControlName","loanTenure","placeholder","in years",1,"alignment"],["matInput","","type","text","name","installmentType","placeholder","Installment Type","formControlName","installmentType",1,"alignment"],["matInput","","type","text","name","installmentFrequency","formControlName","installmentFrequency",1,"alignment"],["matInput","","type","text","name","rateOfInterest","formControlName","rateOfInterest","min","0","max","100",1,"alignment"],["matInput","","type","text","name","approvedLoanAmount","formControlName","approvedLoanAmount",1,"alignment"],["matInput","","type","text","name","loanTenure","formControlName","loanTenure",1,"alignment"],[1,"inputMatLastName",2,"height","48px"],["matInput","","id","dob","name","offerIssueDate","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","offerIssueDate",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle"],["matSuffix","",3,"for"],["picker",""],["formControlName","generateOffer","disableOptionCentering","",1,"alignment"],[3,"value",4,"ngFor","ngForOf"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"h1"),m.Tc(7,"Offer Issue Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",0),m.Xb(9,"form",6),m.Xb(10,"div",1),m.Xb(11,"mat-card",7),m.Xb(12,"mat-card-title"),m.Xb(13,"div",5),m.Tc(14,"Offer Issue Details"),m.Sb(15,"mat-divider"),m.Wb(),m.Wb(),m.Xb(16,"div",8),m.Xb(17,"div",9),m.Xb(18,"label",10),m.Tc(19,"Applicant Name*"),m.Wb(),m.Xb(20,"mat-card",11),m.Sb(21,"input",12),m.Wb(),m.Wb(),m.Xb(22,"div",9),m.Xb(23,"label",10),m.Tc(24,"Approved Loan Amount*"),m.Wb(),m.Xb(25,"mat-card",11),m.Xb(26,"input",13),m.fc("keypress",function(e){return t._keyPress1(e)})("keyup",function(e){return t.onInput(e,!0)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div",8),m.Xb(28,"div",9),m.Xb(29,"label",10),m.Tc(30,"Loan Tenure"),m.Wb(),m.Xb(31,"mat-card",11),m.Sb(32,"input",14),m.Wb(),m.Wb(),m.Xb(33,"div",9),m.Xb(34,"label",10),m.Tc(35,"Installment Type"),m.Wb(),m.Xb(36,"mat-card",11),m.Sb(37,"input",15),m.Wb(),m.Wb(),m.Wb(),m.Xb(38,"div",8),m.Xb(39,"div",9),m.Xb(40,"label",10),m.Tc(41,"Installment Frequency"),m.Wb(),m.Xb(42,"mat-card",11),m.Sb(43,"input",16),m.Wb(),m.Wb(),m.Xb(44,"div",9),m.Xb(45,"label",10),m.Tc(46,"Rate of Interest in(%)"),m.Wb(),m.Xb(47,"mat-card",11),m.Sb(48,"input",17),m.Wb(),m.Wb(),m.Wb(),m.Xb(49,"div",8),m.Xb(50,"div",9),m.Xb(51,"label",10),m.Tc(52,"Approved Loan Account"),m.Wb(),m.Xb(53,"mat-card",11),m.Sb(54,"input",18),m.Wb(),m.Wb(),m.Xb(55,"div",9),m.Xb(56,"label",10),m.Tc(57,"Loan Tenure"),m.Wb(),m.Xb(58,"mat-card",11),m.Sb(59,"input",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(60,"div",8),m.Xb(61,"div",9),m.Xb(62,"label",10),m.Tc(63,"Offer Issue Date"),m.Wb(),m.Xb(64,"mat-card",20),m.Sb(65,"input",21),m.Xb(66,"div",22),m.Sb(67,"mat-datepicker-toggle",23),m.Sb(68,"mat-datepicker",null,24),m.Wb(),m.Wb(),m.Wb(),m.Xb(70,"div",9),m.Xb(71,"label",10),m.Tc(72,"Generate Offer"),m.Wb(),m.Xb(73,"mat-card",11),m.Xb(74,"mat-select",25),m.Xb(75,"mat-option"),m.Tc(76,"select"),m.Wb(),m.Rc(77,zd,2,2,"mat-option",26),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(78,"div",27),m.Xb(79,"button",28),m.fc("click",function(){return t.goBack()}),m.Tc(80,"Back"),m.Wb(),m.Xb(81,"button",29),m.fc("click",function(){return t.Submit()}),m.Tc(82,"Done"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var n=m.Dc(69);m.Eb(9),m.rc("formGroup",t.OfferIssueForm),m.Eb(56),m.rc("matDatepicker",n),m.Eb(2),m.rc("for",n),m.Eb(10),m.rc("ngForOf",t.generateArr),m.Eb(4),m.rc("disabled",!t.OfferIssueForm.valid)}},directives:[p.e,p.b,$.C,$.s,$.j,f.a,f.h,S.a,p.f,Q.b,$.c,$.r,$.i,$.m,ce.e,ce.g,g.j,ce.d,J.a,Z.n,u.m,h.b],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:5.5cm}"]}),Hd),Yd=((Ud=function(){function e(t,n,o,i){a(this,e),this.router=t,this.apiService=n,this.ls=o,this.cdr=i}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.cdr.markForCheck(),this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(function(){e.getViewSummary()},10)}},{key:"goBack",value:function(){this.router.navigate(["loan/account/post-offer-amend-stage/list"])}},{key:"done",value:function(){this.router.navigate(["/loan/account/account-creation-stage/"])}},{key:"getViewSummary",value:function(){var e=this;this.apiService.getOfferAmendDetails(this.loanAccountId).subscribe(function(t){console.log("result",t),e.offerDetails=t[3],console.log("result",t),console.log("offerDetails::",e.offerDetails)})}}]),e}()).\u0275fac=function(e){return new(e||Ud)(m.Rb(d.h),m.Rb(x.b),m.Rb(W.a),m.Rb(m.h))},Ud.\u0275cmp=m.Lb({type:Ud,selectors:[["app-post-offer-amendment-stage-summary"]],decls:98,vars:11,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_secure_files_re_6vdh.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"full-width"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxFlex","30%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16x",1,"mt-32"],["mat-button","","rounded","","color","grey",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div"),m.Xb(1,"div",0),m.Xb(2,"div",1),m.Xb(3,"div",2),m.Sb(4,"img",3),m.Wb(),m.Xb(5,"div",4),m.Xb(6,"div",5),m.Xb(7,"b"),m.Tc(8,"Post Offer Amendment Stage"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",6),m.Xb(10,"div",0),m.Xb(11,"h4",7),m.Tc(12,"Post Offer Amendment Stage Summary"),m.Wb(),m.Wb(),m.Xb(13,"div",8),m.Xb(14,"div",9),m.Xb(15,"div",10),m.Xb(16,"div",6),m.Xb(17,"div",11),m.Xb(18,"div",12),m.Vb(19),m.Xb(20,"div",13),m.Xb(21,"mat-card",14),m.Xb(22,"div",11),m.Xb(23,"div",12),m.Vb(24),m.Xb(25,"div",15),m.Xb(26,"mat-hint",16),m.Tc(27,"Applicant Name"),m.Wb(),m.Sb(28,"br"),m.Xb(29,"mat-hint",17),m.Tc(30),m.Wb(),m.Wb(),m.Xb(31,"div",15),m.Xb(32,"mat-hint",16),m.Tc(33,"Offer Issue Date"),m.Wb(),m.Sb(34,"br"),m.Xb(35,"mat-hint",17),m.Tc(36),m.Wb(),m.Wb(),m.Xb(37,"div",15),m.Xb(38,"mat-hint",16),m.Tc(39,"Offer Exipiry Date"),m.Wb(),m.Sb(40,"br"),m.Xb(41,"mat-hint",17),m.Tc(42),m.Wb(),m.Wb(),m.Xb(43,"div",15),m.Xb(44,"mat-hint",16),m.Tc(45,"Offer Amend Date"),m.Wb(),m.Sb(46,"br"),m.Xb(47,"mat-hint",17),m.Tc(48),m.Wb(),m.Wb(),m.Xb(49,"div",15),m.Xb(50,"mat-hint",16),m.Tc(51,"Approved Loan Amount"),m.Wb(),m.Sb(52,"br"),m.Xb(53,"mat-hint",17),m.Tc(54),m.Wb(),m.Wb(),m.Xb(55,"div",15),m.Xb(56,"mat-hint",16),m.Tc(57,"Loan Amount Recommended"),m.Wb(),m.Sb(58,"br"),m.Xb(59,"mat-hint",17),m.Tc(60),m.Wb(),m.Wb(),m.Xb(61,"div",15),m.Xb(62,"mat-hint",16),m.Tc(63,"Loan Tenure"),m.Wb(),m.Sb(64,"br"),m.Xb(65,"mat-hint",17),m.Tc(66),m.Wb(),m.Wb(),m.Xb(67,"div",15),m.Xb(68,"mat-hint",16),m.Tc(69,"Installment Type"),m.Wb(),m.Sb(70,"br"),m.Xb(71,"mat-hint",17),m.Tc(72),m.Wb(),m.Wb(),m.Xb(73,"div",15),m.Xb(74,"mat-hint",16),m.Tc(75,"Rate Of Interest(%)"),m.Wb(),m.Sb(76,"br"),m.Xb(77,"mat-hint",17),m.Tc(78),m.Wb(),m.Wb(),m.Xb(79,"div",15),m.Xb(80,"mat-hint",16),m.Tc(81,"Margin(%))"),m.Wb(),m.Sb(82,"br"),m.Xb(83,"mat-hint",17),m.Tc(84),m.Wb(),m.Wb(),m.Xb(85,"div",15),m.Xb(86,"mat-hint",16),m.Tc(87,"Effective Rate(%)"),m.Wb(),m.Sb(88,"br"),m.Xb(89,"mat-hint",17),m.Tc(90),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(91,"div",0),m.Xb(92,"div",1),m.Xb(93,"div",18),m.Xb(94,"button",19),m.fc("click",function(){return t.goBack()}),m.Tc(95," Back "),m.Wb(),m.Xb(96,"button",20),m.fc("click",function(){return t.done()}),m.Tc(97," Done "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(30),m.Uc(null==t.offerDetails?null:t.offerDetails.applicantName),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.offerIssueDate),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.offerExpiryDate),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.offerAmendDate),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.approvedLoanAmount),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.loanAmmountRecommended),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.loanTenure),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.installmentType),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.rateOfInterest),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.margin),m.Eb(6),m.Uc(null==t.offerDetails?null:t.offerDetails.effectiveRate))},directives:[p.e,p.b,p.d,p.f,f.a,g.f,h.b],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat;font-size:16px}.paraFont[_ngcontent-%COMP%]{padding-left:2%}.accountIcon[_ngcontent-%COMP%]{font-size:45px;color:#24cca7}.incomeCard[_ngcontent-%COMP%]{width:650px}.expenseCard[_ngcontent-%COMP%], .incomeCard[_ngcontent-%COMP%]{height:300px;border-radius:5px}.expenseCard[_ngcontent-%COMP%]{padding-left:20px;width:450px}.valueTexting[_ngcontent-%COMP%]{color:#0f0f0f;font-family:Montserrat;padding-left:30px}.headingTexting[_ngcontent-%COMP%]{padding-left:30px}.headingText[_ngcontent-%COMP%], .headingTexting[_ngcontent-%COMP%]{color:#aaa;font-family:Manrope;font-size:11px}.headingText[_ngcontent-%COMP%]{padding-left:10px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),Ud),$d=r("r1zJ");function Qd(e,t){if(1&e){var n=m.Yb();m.Xb(0,"button",7),m.fc("click",function(){return m.Hc(n),m.jc().close1()}),m.Xb(1,"mat-icon"),m.Tc(2,"close"),m.Wb(),m.Wb()}}function Jd(e,t){if(1&e){var n=m.Yb();m.Xb(0,"button",7),m.fc("click",function(){return m.Hc(n),m.jc().close()}),m.Xb(1,"mat-icon"),m.Tc(2,"close"),m.Wb(),m.Wb()}}function Zd(e,t){1&e&&(m.Xb(0,"div",4),m.Xb(1,"div",8),m.Sb(2,"img",9),m.Wb(),m.Wb())}function Kd(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",10),m.Xb(1,"h5",11),m.Tc(2,"Please e-sign the application!"),m.Wb(),m.Xb(3,"mat-card",12),m.Xb(4,"mat-card-content"),m.Xb(5,"signature-pad",13),m.fc("onBeginEvent",function(){return m.Hc(n),m.jc().drawStart()})("onEndEvent",function(){return m.Hc(n),m.jc().drawComplete()}),m.Wb(),m.Wb(),m.Wb(),m.Xb(6,"div",14),m.Xb(7,"button",15),m.fc("click",function(){return m.Hc(n),m.jc().onSubmit()}),m.Tc(8," SUBMIT "),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.jc();m.Eb(5),m.rc("options",a.signaturePadOptions),m.Eb(2),m.rc("disabled",a.disableDone)}}var ep,tp=((ep=function(){function e(t,n,o,i,r,c,s,l){a(this,e),this.data=t,this.dialogRef=n,this.ls=o,this.accountService=i,this.apiService=r,this.router=c,this.appEntryService=s,this.cdr=l,this.isDone=!1,this.signaturePadOptions={minWidth:2,canvasWidth:250,canvasHeight:150},this.count=0,this.res={enable:!1,image:null},this.disableDone=!0,this.signupload=!0}return i(e,[{key:"ngOnInit",value:function(){this.accountId=this.ls.getItem("loanAccountId"),this.accountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.accountId=this.loanInfo.loanAccountId),console.log("popup response data:",this.data),this.isDone=this.data.isSignLater,this.cdr.markForCheck()}},{key:"ngAfterViewInit",value:function(){this.signaturePad.set("minWidth",2),this.signaturePad.clear()}},{key:"drawComplete",value:function(){console.log(this.signaturePad.toDataURL());var e=this.signaturePad.toDataURL();this.imageurl=e,console.log("this.imageurl",this.imageurl),this.disableDone=!e.toString().includes("data:image/png;base64")}},{key:"drawStart",value:function(){console.log("begin drawing")}},{key:"clearSignature",value:function(){this.signaturePad.clear()}},{key:"savePad",value:function(){var e=this.signaturePad.toDataURL();this.signatureImg=e}},{key:"close1",value:function(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(this.dialogRef.close({image:this.imageurl}),this.ls.setItem("enable",!1))}},{key:"close",value:function(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(console.log("else ::"),this.dialogRef.close({image:this.imageurl}))}},{key:"onFileChanged",value:function(e){this.selectedFile=e.target.files[0],console.log(this.selectedFile),this.disableDone=!1}},{key:"onSubmit",value:function(){var e=this;console.log(this.signaturePad.toDataURL());var t={};console.log("this.data::",this.data),"NewCustomerOnboarding"!==this.data.screen?(t.accountId=this.accountId,setTimeout(function(){e.getByAccountId(t.accountId)},10)):(this.apiService.getAccountIdByCusId(this.data.customerId).subscribe(function(e){console.log("Account Id response -- ",e),t.accountId=e}),this.res={enable:!0,image:this.signaturePad.toDataURL()}),t.customerId=this.data.customerId,t.documentName=this.data.customerId+"Signature",t.documentType="10",t.fileType="image/jpeg",t.fileName="signature";for(var n=this.signaturePad.toDataURL("image/png"),a=atob(n.substring("data:image/png;base64,".length)),o=new Uint8Array(a.length),i=0,r=a.length;i<r;++i)o[i]=a.charCodeAt(i);var c=new Blob([o],{type:"image/png"}),s=new FormData;s.append("data",JSON.stringify(t)),s.append("file",c),s.append("accType","savings"),this.apiService.uploadDocument(s).subscribe(function(t){console.log(t),t&&(e.ls.setItem("signedImage",e.imageurl),console.log(e.imageurl),console.log(e.ls.getItem("signedImage")),e.close(),e.show=!0,e.res=t)},function(t){e.close(),e.res=!1}),"NewCustomerOnboarding"!==this.data.screen?this.isDone=!1:this.close(),console.log(this.isDone),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate(["loan/account/digitalsigning/list/options/"])}),this.ls.setItem("eSignStage",!0)}},{key:"getByAccountId",value:function(e){var t=this;this.apiService.fetchByLoanAccountId(e).subscribe(function(e){console.log("updateStatus :: ",e),t.accountdetailsForStatusUpdate=e,t.updateAccountStatus(e)})}},{key:"updateAccountStatus",value:function(e){e.status="BACKLOG",this.apiService.updateLoanDetailsStatus(e).subscribe(function(e){console.log("updateResp:: ",e)})}}]),e}()).\u0275fac=function(e){return new(e||ep)(m.Rb(I.a),m.Rb(I.g),m.Rb(W.a),m.Rb(X.a),m.Rb(x.b),m.Rb(d.h),m.Rb(ln.a),m.Rb(m.h))},ep.\u0275cmp=m.Lb({type:ep,selectors:[["app-esign-pop"]],viewQuery:function(e,t){var n;1&e&&m.ad($d.a,!0),2&e&&m.Cc(n=m.gc())&&(t.signaturePad=n.first)},decls:8,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","100",4,"ngIf"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","50","fxFlexOffset","20px",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"propic","text-center"],["src","assets/images/esign.png","alt",""],["fxFlex","50","fxFlexOffset","20px"],[1,"text-center","mt-16","esignFont"],[1,"mt-16"],[3,"options","onBeginEvent","onEndEvent"],[1,"text-center"],["mat-raised-button","",1,"Next",3,"disabled","click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Rc(2,Qd,3,0,"button",2),m.Rc(3,Jd,3,0,"button",2),m.Wb(),m.Rc(4,Zd,3,0,"div",3),m.Xb(5,"div",4),m.Xb(6,"div",5),m.Rc(7,Kd,9,2,"div",6),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(2),m.rc("ngIf",!t.isDone),m.Eb(1),m.rc("ngIf",t.isDone),m.Eb(1),m.rc("ngIf",!t.isDone),m.Eb(3),m.rc("ngIf",!t.isDone))},directives:[p.e,p.b,p.d,u.n,h.b,O.a,p.c,f.a,f.d,$d.a],styles:[".Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}.esignFont[_ngcontent-%COMP%]{font-size:large;font-weight:300}"]}),ep),np=["profileFile"];function ap(e,t){if(1&e){var n=m.Yb();m.Xb(0,"button",7),m.fc("click",function(){return m.Hc(n),m.jc().close1()}),m.Xb(1,"mat-icon"),m.Tc(2,"close"),m.Wb(),m.Wb()}}function op(e,t){if(1&e){var n=m.Yb();m.Xb(0,"button",7),m.fc("click",function(){return m.Hc(n),m.jc().close()}),m.Xb(1,"mat-icon"),m.Tc(2,"close"),m.Wb(),m.Wb()}}function ip(e,t){1&e&&(m.Xb(0,"div",4),m.Xb(1,"div",8),m.Sb(2,"img",9),m.Wb(),m.Wb())}function rp(e,t){1&e&&(m.Xb(0,"div"),m.Sb(1,"img",24),m.Wb()),2&e&&(m.Eb(1),m.rc("src","assets/images/no-image.jpg",m.Jc))}function cp(e,t){if(1&e&&m.Sb(0,"img",25),2&e){var n=m.jc(2);m.rc("src",n.imageURL1,m.Jc)}}function sp(e,t){if(1&e){var n=m.Yb();m.Xb(0,"div",10),m.Xb(1,"h5",11),m.Tc(2,"Signature!"),m.Wb(),m.Xb(3,"div",12),m.Xb(4,"div",13),m.Xb(5,"button",14),m.fc("click",function(){return m.Hc(n),m.jc().openPopUp()}),m.Tc(6,"Digital Sign"),m.Wb(),m.Wb(),m.Xb(7,"div",15),m.Xb(8,"button",16),m.fc("click",function(){return m.Hc(n),m.Dc(11).click()}),m.Tc(9," Upload "),m.Xb(10,"input",17,18),m.fc("change",function(e){return m.Hc(n),m.jc().onFileSelect(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(12,"div",5),m.Xb(13,"div",13),m.Xb(14,"div",19),m.Rc(15,rp,2,1,"div",20),m.Rc(16,cp,1,1,"ng-template",null,21,m.Sc),m.Wb(),m.Xb(18,"div",12),m.Xb(19,"button",22),m.fc("click",function(){return m.Hc(n),m.jc().deleteImg()}),m.Tc(20," DELETE "),m.Wb(),m.Xb(21,"button",23),m.fc("click",function(){return m.Hc(n),m.jc().onSubmit()}),m.Tc(22," SUBMIT "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var a=m.Dc(17),o=m.jc();m.Eb(15),m.rc("ngIf","not_available"==o.imageURL1)("ngIfElse",a),m.Eb(6),m.rc("disabled","not_available"==o.imageURL1)}}var lp,bp,up,mp=((lp=function(){function e(t,n,o,i,r,c,s){a(this,e),this.data=t,this.router=n,this.apiService=o,this.dialogService=i,this.dialog=r,this.dialogRef=c,this.ls=s,this.isDone=!1,this.previousUrl="",this.disableDone=!0,this.res={enable:!1,image:null}}return i(e,[{key:"ngOnInit",value:function(){this.image=this.ls.getItem("signedImage"),this.imageURL1=this.image?this.image:"not_available",this.accountId=this.ls.getItem("loanAccountId")}},{key:"close1",value:function(){var e=this;"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(this.dialogRef.close(!0),"not_available"!==this.imageURL1&&this.ls.getItem("eSignStage")&&this.ls.setItem("enable",!0),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate(["loan/account/digitalsigning/list/options"])}))}},{key:"close2",value:function(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(this.dialogRef.close(!0),this.ls.setItem("enable",!0))}},{key:"openPopUp",value:function(e){var t,n=this;null==e&&(t={isSignLater:!1,screen:"Create Account"}),this.show||this.dialog.open(tp,{width:"720px",disableClose:!0,data:null==e?t:e}).afterClosed().subscribe(function(e){console.log("dismiss res",e),e&&(n.imageURL1=null==e?void 0:e.image,n.disableDone=!(null==e?void 0:e.image),n.show=n.ls.setItem("enable",!0),console.log(n.show))})}},{key:"onFileSelect",value:function(e){var t=this;console.log("event -- ",e.target.files),this.selectedFile=e.target.files[0],console.log(this.selectedFile);var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=function(e){t.imageURL1=n.result};var a=this.selectedFile,o=new FormData;o.append("data",JSON.stringify({customerId:this.customerId,documentName:this.customerId+"Signature",documentType:"10",fileType:e.type,fileName:e.name,verificationType:"Digital Signing"})),o.append("file",a),this.apiService.upload(o).subscribe(function(e){})}},{key:"onSubmit",value:function(){var e=this;this.isDone=!0,this.dialogRef.close(!0),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate(["loan/account/digitalsigning/list/options"])})}},{key:"deleteImg",value:function(){var e=this;this.dialogService.doConfirmDialog("").subscribe(function(t){"Yes"==t&&(e.ls.setItem("enable",!1),e.ls.removeItem("signedImage"),e.imageURL1="not_available",e.profileFile.nativeElement.value="",e.apiService.deleteCustomerDoc(e.customerId,e.profileId).subscribe(function(e){}),e.disableDone=!0,e.ls.setItem("enable",!0))})}}]),e}()).\u0275fac=function(e){return new(e||lp)(m.Rb(I.a),m.Rb(d.h),m.Rb(x.b),m.Rb(da.a),m.Rb(I.b),m.Rb(I.g),m.Rb(W.a))},lp.\u0275cmp=m.Lb({type:lp,selectors:[["app-upload-sign-or-esign"]],viewQuery:function(e,t){var n;1&e&&m.ad(np,!0),2&e&&m.Cc(n=m.gc())&&(t.profileFile=n.first)},decls:8,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","100",4,"ngIf"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","50","fxFlexOffset","20px",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"propic","text-center"],["src","assets/images/esign.png","alt",""],["fxFlex","50","fxFlexOffset","20px"],[1,"text-center","mt-16","esignFont"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","20px"],[1,"sub-section-1"],["appearence","outline",1,"scanButton",3,"click"],[1,"sub-section-2"],[1,"Upload","scanButton",3,"click"],["type","file","accept","image/*","required","",1,"changeInput",2,"display","none",3,"change"],["fileInput",""],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","","color","red",1,"dltbtn",3,"click"],["mat-raised-button","","color","primary",1,"dbtn",3,"disabled","click"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Rc(2,ap,3,0,"button",2),m.Rc(3,op,3,0,"button",2),m.Wb(),m.Rc(4,ip,3,0,"div",3),m.Xb(5,"div",4),m.Xb(6,"div",5),m.Rc(7,sp,23,3,"div",6),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(2),m.rc("ngIf",!t.isDone),m.Eb(1),m.rc("ngIf",t.isDone),m.Eb(1),m.rc("ngIf",!t.isDone),m.Eb(3),m.rc("ngIf",!t.isDone))},directives:[p.e,p.b,p.d,u.n,h.b,O.a,p.c,p.f],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.formImg[_ngcontent-%COMP%]{height:200px!important;width:400px!important;background-color:#f5f5f5;border-radius:10%}.esignFont[_ngcontent-%COMP%]{font-size:large;font-weight:300}.Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}.dltbtn[_ngcontent-%COMP%]{background-color:red}.dbtn[_ngcontent-%COMP%], .dltbtn[_ngcontent-%COMP%]{margin:12px 0;width:35%;color:#fff;border-radius:55px}.dbtn[_ngcontent-%COMP%]{background-color:#426af5}"]}),lp),dp=[{path:"",component:ma,children:[{path:"",redirectTo:"account/list",pathMatch:"full"},{path:"account/list",component:Pi,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/offerstage/list",component:Pr,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/offerstage/offer-assessment",component:Zr,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/offerstage/offer-issue",component:Gd,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/offerstage/offer-accept-reject",component:Yr,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/list",component:Y,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/assessment-details",component:ne,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/offer-acceptReject-details",component:be,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/offer-acceptReject-summary-details",component:k,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/loan-summary-details",component:ie,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/account-approval-summary-details",component:v,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage",component:Tu,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/creditrating",component:Gb,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/creditrating/edit",component:Yb.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/legalopinion",component:ru,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/legalopinion/edit",component:$b.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/valuationofassets",component:Vu,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/valuationofassets/edit",component:Du.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/summary",component:mu,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/assessment/list",component:ka,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/assessment/summary",component:bm.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/loan-details",component:Uo,data:{title:"Home",breadcrumb:"Loan Details"}},{path:"account/application-enrichment",component:_t,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/Summary",component:lm,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/intrest-details",component:Pt,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/loan-disbursement",component:Ge,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/loan-repayment",component:sn,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/loan-repayment/:id",component:sn,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/account-services",component:Se,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/charge-details",component:Me,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/loan-details/summary",component:To.a,data:{title:"Home",breadcrumb:"Loan Details"}},{path:"account/asset-details",component:Oo,data:{title:"Home",breadcrumb:"Asset Details"}},{path:"account/asset-details/summary",component:lo.a,data:{title:"Home",breadcrumb:"Asset Details"}},{path:"account/vehicle-details",component:Cr,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/digitalsigning/list",component:zu,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/digitalsigning/list/options",component:(bp=function(){function e(t,n,o,i,r,c,s,l){a(this,e),this.dialog=t,this.router=n,this.ls=o,this.accountService=i,this.apiService=r,this.dialogService=c,this.urlService=s,this.api=l,this.previousUrl="",this.show=!1,this.show1=!1,this.isDone=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.show1=this.ls.getItem("eSignStage")&&null!==this.ls.getItem("signedImage"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.accountId=this.ls.getItem("accountId"),this.urlService.previousUrl$.subscribe(function(t){e.previousUrl=t})}},{key:"openPopUp",value:function(e){var t,n=this;null==e&&(t={isSignLater:!1,screen:"Create Account"}),this.show||this.dialog.open(mp,{width:"720px",disableClose:!0,data:null==e?t:e}).afterClosed().subscribe(function(e){n.loanAccountId=n.loanaccountID,console.log("dismiss res",e),e&&(n.show=n.ls.getItem("enable"),n.show1=n.ls.getItem("enable"),console.log(n.show),n.getByAccountId(n.loanAccountId))})}},{key:"getByAccountId",value:function(e){var t=this;this.api.fetchByLoanAccountId(e).subscribe(function(e){t.accountdetailsForStatusUpdate=e,t.updateAccountStatus(e)})}},{key:"updateAccountStatus",value:function(e){e.status="BACKLOG",this.api.updateLoanDetailsStatus(e).subscribe(function(e){console.log("updateResp:: ",e)})}},{key:"onDone",value:function(){this.isDone=!0,this.dialogService.alertForLoanFinishButton().subscribe(function(e){console.log("response ::",e)})}},{key:"goBack",value:function(){this.router.navigate([this.previousUrl])}},{key:"resetState",value:function(){this.ls.removeItem("LoanEntryStage"),this.ls.removeItem("LOAN_DETAIL_DONE"),this.ls.removeItem("ASSET_DETAIL_DONE"),this.ls.removeItem("VEHICLE_DETAIL_DONE"),this.ls.removeItem("ADMISSION_DETAIL_DONE"),this.ls.removeItem("CUSTOMERINFO_DETAIL_DONE"),this.ls.removeItem("MANDATE_DETAIL_DONE"),this.ls.removeItem("FINANCIAL_DETAIL_DONE"),this.ls.removeItem("COLLATERAL_DETAIL_DONE"),this.ls.removeItem("GUARANTOR_DETAIL_DONE"),this.ls.removeItem("LOAN_ENRICHMENT_DONE"),this.ls.removeItem("LOAN_INTERST_DETAIL_DONE"),this.ls.removeItem("LOAN_DISBURSEMENT_DETAIL_DONE"),this.ls.removeItem("LOAN_REPAYMENT_DETAIL_DONE"),this.ls.removeItem("LOAN_CHARGE_DETAILS"),this.ls.removeItem("LOAN_ACCOUNT_SERVICES_DONE"),this.ls.removeItem("LOAN_ENRICHMENT_DONE"),this.ls.removeItem("assessment-details"),this.ls.removeItem("offer-acceptReject-details"),this.ls.removeItem("loan-summary-details"),this.ls.removeItem("assessmentScreen"),this.ls.removeItem("OfferIssueStageDone"),this.ls.removeItem("OfferIssue"),this.ls.removeItem("OfferIssueRejectStageScreen"),this.ls.removeItem("OfferIssueRejectScreen"),this.ls.removeItem("underWritingStage"),this.ls.removeItem("CREDIT_RATING_DONE"),this.ls.removeItem("VALUATION_OF_ASSET_DONE"),this.ls.removeItem("LEGAL_OPINION_DONE"),this.ls.removeItem("legalScreen"),this.ls.removeItem("valuationAsset"),this.ls.removeItem("CreditRatingDetails"),this.ls.removeItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),this.ls.removeItem("LOAN_ASSESSMENT_DETAILS_DONE"),this.ls.removeItem("LOAN_ASSESSMENT_STAGE_DONE"),this.ls.removeItem("SUPERVISOR_APPROVAL_STAGE"),this.ls.removeItem("isapprovedSupervisor"),this.ls.removeItem("APPROVED_DETAILS"),this.ls.removeItem("PostOfferAmmendementStageScreen"),this.ls.removeItem("PostOfferAmmendementScreen"),this.ls.removeItem("post-offer-amend-stage"),this.ls.removeItem("ACCOUNT_CREATTION_STAGE_DONE"),this.ls.removeItem("ACCOUNT_CREATE_DETAILS_DONE"),this.ls.removeItem("eSignStage"),this.ls.removeItem("loanAccountId"),this.ls.removeItem("primaryCustomerName"),this.ls.removeItem("cardownership_value"),this.ls.removeItem("cId"),this.ls.removeItem("signedImage"),this.ls.removeItem("LoanNoOfApplicants"),this.ls.removeItem("isHomeLoan"),this.ls.removeItem("productName"),sessionStorage.clear(),this.accountService.refresh.next(),this.router.navigate(["/loan"])}},{key:"onSubmit",value:function(){var e=this;console.log(this.loanaccountID),this.api.signInLater({loanAccountId:this.loanaccountID,subject:"Link to sign later",esignLink:"http:bxjcks.com"}).subscribe(function(t){console.log("data::",t),e.getByAccountId(e.loanaccountID),e.ls.setItem("eSignStage",!0),e.accountService.refresh.next(),e.isDone=!0,e.dialogService.alertForLoanSignLater().subscribe(function(e){console.log("response ::",e)}),e.show=e.ls.setItem("enable",!0)},function(e){})}}]),e}(),bp.\u0275fac=function(e){return new(e||bp)(m.Rb(I.b),m.Rb(d.h),m.Rb(W.a),m.Rb(ue.a),m.Rb(ln.a),m.Rb(da.a),m.Rb(_a.a),m.Rb(x.b))},bp.\u0275cmp=m.Lb({type:bp,selectors:[["app-digital-sign-in-now-or-later"]],decls:43,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/digi.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"mat-card-img"],["fxFlex","100",1,"mt-32"],[1,"rounded-circle",3,"click"],[1,"p-0"],[1,"compact-list","mb-16"],[1,""],["mat-list-avatar","","src","assets/images/signnow.png","alt","",1,"mr-16"],["fxLayout","column","fxFlex","100"],[1,"m-0","mr-16"],["fxFlex",""],["fxFlex","40",1,"mt-4","notActive"],[1,"text-center"],["mat-button","",1,"full-width","notActive"],["mat-list-avatar","","src","assets/images/signlater.png","alt","",1,"mr-16"],["fxFlex","100",1,"mt-16"],["mat-button","",1,"Back",3,"click"],["mat-raised-button","","type","button",1,"Next",3,"disabled","click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Digital Signing"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"mat-card",6),m.Xb(9,"div",7),m.Xb(10,"mat-card",8),m.fc("click",function(){return t.openPopUp()}),m.Xb(11,"mat-card-content",9),m.Xb(12,"mat-list",10),m.Xb(13,"mat-list-item",11),m.Sb(14,"img",12),m.Xb(15,"div",13),m.Xb(16,"h3",14),m.Tc(17,"Sign Now"),m.Wb(),m.Sb(18,"span",15),m.Xb(19,"div",16),m.Tc(20," Enables you to digitally sign the document. To e sign the document, click on it, create your eSignature or Upload your signature, click on Done and it will add to your "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(21,"div",1),m.Xb(22,"div",17),m.Xb(23,"button",18),m.Tc(24,"OR"),m.Wb(),m.Wb(),m.Wb(),m.Xb(25,"div",1),m.Xb(26,"mat-card",8),m.fc("click",function(){return t.onSubmit()}),m.Xb(27,"mat-card-content",9),m.Xb(28,"mat-list",10),m.Xb(29,"mat-list-item",11),m.Sb(30,"img",19),m.Xb(31,"div",13),m.Xb(32,"h3",14),m.Tc(33,"Sign Later"),m.Wb(),m.Sb(34,"span",15),m.Xb(35,"div",16),m.Tc(36," Enables you to sign the document later. To sign later, click here, an email will be sent to the respective email id provided with a sign link. You can verify and sign later. "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(37,"div",20),m.Xb(38,"button",21),m.fc("click",function(){return t.goBack()}),m.Tc(39,"BACK"),m.Wb(),m.Sb(40,"span",15),m.Xb(41,"button",22),m.fc("click",function(){return t.onDone()}),m.Tc(42,"FINISH"),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(41),m.rc("disabled",!t.show1))},directives:[p.e,p.b,f.a,f.d,es.a,es.d,es.b,h.b],styles:[".primary[_ngcontent-%COMP%]{cursor:not-allowed}.secondary[_ngcontent-%COMP%]{cursor:pointer}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.Back[_ngcontent-%COMP%]{border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{margin:12px 0;width:150px}.Next[_ngcontent-%COMP%]{background-color:#426af5;color:#fff;border-radius:55px}.mat-card-img[_ngcontent-%COMP%]{height:100%;width:100%;flex-direction:column!important;box-sizing:border-box!important;display:flex!important;border-radius:40px!important}"]}),bp),data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/digitalsigning/options",component:mp,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/vehicle-details/summary",component:Rc.a,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/offer-issue/list",component:Eb,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/offer-issue/credit-rating",component:oc,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/offer-issue/valuation-asset",component:Ab,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/offer-issue/legal-opinion",component:pc,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/offer-issue/offer-assessment",component:vc,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/offer-issue/offerissue",component:_c,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/admission-details",component:Qc,data:{title:"Loan",breadcrumb:"Admission Details"}},{path:"account/customer-information",component:pb,data:{title:"Loan",breadcrumb:"Customer Information"}},{path:"account/mandate-details",component:Vb,data:{title:"Loan",breadcrumb:"Mandate Details"}},{path:"account/financial-details",component:Wn,data:{title:"Loan",breadcrumb:"Financial Details"}},{path:"account/collateral_details",component:Bd,data:{title:"Loan",breadcrumb:"Collateral Details"}},{path:"account/account-creation-stage",component:km,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/account-creation-stage/account-create-details",component:Lm,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/account-creation-stage/account-create-summary",component:qm.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/account-creation-stage/offer-accept-reject",component:Sm,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/account-creation-stage/offer-accept-reject-summary",component:Vm.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/account-creation-stage/account-creation-summary",component:jm,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/guarantor_details",component:hd,data:{title:"Loan",breadcrumb:"Guarantor Details"}},{path:"account/supervisor-summary",component:$u,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/supervisor/list",component:$u,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/supervisor-assessmentdetails",component:ym,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/supervisor-approveddetails",component:gm,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/assessment-summary",component:ka,data:{title:"Home",breadcrumb:"Create Retain Loan Account"}},{path:"account/post-offer-amend-stage/list",component:zi,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/post-offer-amend-stage-summary",component:Yd,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/offer-issue",component:Gi,data:{title:"Home",breadcrumb:"Offer Issue"}},{path:"account/post-offer-amendment",component:lr,data:{title:"Home",breadcrumb:"Offer Issue"}},{path:"account/loan-disbursement",component:mr,data:{title:"Home",breadcrumb:"Offer Issue"}},{path:"account/loan-repayment",component:Or,data:{title:"Home",breadcrumb:"Offer Issue"}},{path:"account/assessment/summary",component:ka,data:{title:"Home",breadcrumb:"Assessment Details"}},{path:"account/assessment/qualitative",component:so,data:{title:"Home",breadcrumb:"Qualitative Scoreboard Details"}},{path:"account/assessment/assessment-details",component:Qa,data:{title:"Home",breadcrumb:"Assessment Details"}}]}],pp=r("u9T3"),fp=r("mnDI"),gp=r("aYsj"),hp=r("zMWy"),vp=r("aLe/"),yp=((up=function e(){a(this,e)}).\u0275mod=m.Pb({type:up}),up.\u0275inj=m.Ob({factory:function(e){return new(e||up)},providers:[u.f,{provide:Z.f,useValue:"en-GB"},{provide:I.g,useValue:{}},{provide:I.a,useValue:[]}],imports:[[u.c,hp.a,pp.a,$.l,$.y,vp.c,gp.a,fp.a,hp.a,$d.b,Kc.b,d.l.forChild(dp)]]}),up)}}])}();