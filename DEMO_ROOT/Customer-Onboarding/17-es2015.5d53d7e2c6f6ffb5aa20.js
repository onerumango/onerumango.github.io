(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{VVaf:function(e,t,i){"use strict";i.r(t),i.d(t,"SessionsModule",function(){return U});var r=i("aLe/"),n=i("SVse"),o=i("s7LF"),s=i("iInd"),a=i("zMWy"),c=i("u9T3"),l=i("TSSN"),g=i("tZUg"),m=i("rp8y"),b=i("iELJ"),h=i("nZzT"),d=i("kA6c"),p=i("8Y7J"),u=i("zHaW"),f=i("PDjf"),v=i("VDRc"),C=i("Tj54"),S=i("Dxy4");let I=(()=>{class e{constructor(e,t,i,r,n,o,s,a,c,l){this.dialogRef=e,this.fpCaptureService=t,this.data=i,this.cdr=r,this.snack=n,this.formBuilder=o,this.ls=s,this.router=a,this.jwtService=c,this.accountService=l,this.titleMessage="Please use your fingerprint to authenticate",this.contentMessage="Please place your thumb on the fingerprint reader to proceed.",this.totalItems=0,this.totalPages=0,this.flag=!1}ngOnInit(){this.custFormGroup=this.formBuilder.group({anyCustomerId:[""]})}applyFilter(e){e.target.value=e.target.value.trim(),this.customerId=e.target.value,console.log("Value : ",this.customerId)}getCutomerData(e){console.log("formData :: ",e)}goToClose(){this.dialogRef.close()}captureFingerPrintHttps(){console.log("in component"),this.fpCaptureService.CallingSGIFPCapture().subscribe(e=>{console.log("capturedData:: ",e),0==e.ErrorCode?(this.snack.open("Finding ,is registed customer","OK",{duration:1e3,verticalPosition:"top",horizontalPosition:"right"}),this.getFpDataForMatchOnPageLoad(e.TemplateBase64)):this.getError(e.ErrorCode)},e=>{this.snack.open(""+e,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}getFpDataForMatchOnPageLoad(e){console.log("TemplateBase64 :: ",e),this.fpCaptureService.getCustInfoByFp(0,100,4).subscribe(t=>{console.log("resp:: ",t),this.matchFpFromUi(e,t.data[0])})}matchFpFromUi(e,t){this.fpCaptureService.CallingSGIFPMatch(e,t.fpTemplateBase64).subscribe(e=>{if(console.log("fpResp : ",e),e.MatchingScore>=0&&0===e.ErrorCode){this.snack.open("Finger Print Authentication Completed Successfully","OK",{duration:1e3,verticalPosition:"top",horizontalPosition:"right"});let e=t.customerId;return this.router.navigateByUrl("/others/Service"),this.ls.setItem("customer_id",e),this.cdr.markForCheck(),this.cdr.detectChanges(),void this.dialogRef.close({message:"Confirm",custId:e})}return this.snack.open("Finger Print Authentication Failed","error",{duration:1e3,verticalPosition:"top",horizontalPosition:"right"}),void this.getError(e.ErrorCode)},e=>{})}getError(e){let t=this.fpCaptureService.errorCodeService(e);console.log("error code",t)}matchFingerPrint(e){this.fpCaptureService.matchCapturedFp(4,e).subscribe(e=>{if(console.log("matchFp:: ",e),e.customerId){let t=e.customerId;this.router.navigateByUrl("/others/Service"),this.ls.setItem("customer_id",e.customerId),this.cdr.markForCheck(),this.cdr.detectChanges(),this.dialogRef.close({message:"Confirm",data:t})}else console.log("else")})}saveBiometric(e,t,i){this.fpCaptureService.saveBiometric(e,t,i,"Kisok Authenticate").subscribe(e=>{console.log("after save ",e),this.cdr.markForCheck(),this.snack.open("Captured "+t+" Finger","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}return e.\u0275fac=function(t){return new(t||e)(p.Rb(b.g),p.Rb(m.b),p.Rb(b.a),p.Rb(p.h),p.Rb(u.a),p.Rb(o.f),p.Rb(g.a),p.Rb(s.h),p.Rb(h.a),p.Rb(d.a))},e.\u0275cmp=p.Lb({type:e,selectors:[["app-fingerprint"]],decls:19,vars:2,consts:[[2,"background-color","white"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],["fxLayout","column","fxLayoutGap","5%","fxLayoutAlign","space-between center",1,""],[1,"card-title"],[1,"para"],[1,"matIcon"],["mat-flat-button","",1,"buttonScan",3,"click"]],template:function(e,t){1&e&&(p.Xb(0,"mat-card",0),p.Xb(1,"div",1),p.Xb(2,"mat-icon",2),p.fc("click",function(){return t.goToClose()}),p.Tc(3,"close"),p.Wb(),p.Wb(),p.Xb(4,"div"),p.Xb(5,"div",3),p.Xb(6,"div"),p.Xb(7,"h3",4),p.Tc(8),p.Wb(),p.Sb(9,"br"),p.Xb(10,"div"),p.Xb(11,"p",5),p.Tc(12),p.Wb(),p.Wb(),p.Wb(),p.Xb(13,"div"),p.Xb(14,"mat-icon",6),p.Tc(15,"fingerprint"),p.Wb(),p.Wb(),p.Xb(16,"div"),p.Xb(17,"button",7),p.fc("click",function(){return t.captureFingerPrintHttps()}),p.Tc(18,"SCAN"),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Wb()),2&e&&(p.Eb(8),p.Uc(t.titleMessage),p.Eb(4),p.Uc(t.contentMessage))},directives:[f.a,v.e,C.a,v.f,v.d,S.b],styles:[".main-div[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.text[_ngcontent-%COMP%]{justify-content:center;padding-top:25px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#000}.para[_ngcontent-%COMP%]{color:#000;text-align:center}.matIcon[_ngcontent-%COMP%]{color:#4badf7;padding-right:4rem;font-size:6rem}.card-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}.card-title[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:sans-serif;color:#000}p[_ngcontent-%COMP%]{font-size:12px}.buttonScan[_ngcontent-%COMP%]{width:170px;border-radius:25px;background-color:#456efe;color:#fff;font-family:sans-serif}.full-width[_ngcontent-%COMP%]{border-radius:10px}"]}),e})();const y=function(){return["/home"]};let D=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Lb({type:e,selectors:[["app-not-found"]],decls:15,vars:2,consts:[[1,"d-flex","align-items-center","h-full","mat-bg-default"],[1,"app-error"],[1,"fix"],["color","warn",1,"error-icon"],[1,"error-text"],[1,"error-title"],[1,"error-subtitle"],[1,"error-actions"],["mat-raised-button","","color","primary",1,"mb-16","mr-8",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(e,t){1&e&&(p.Xb(0,"div",0),p.Xb(1,"div",1),p.Xb(2,"div",2),p.Xb(3,"mat-icon",3),p.Tc(4,"error"),p.Wb(),p.Xb(5,"div",4),p.Xb(6,"h1",5),p.Tc(7,"404"),p.Wb(),p.Xb(8,"div",6),p.Tc(9,"Page Not Found!"),p.Wb(),p.Wb(),p.Wb(),p.Xb(10,"div",7),p.Xb(11,"button",8),p.Tc(12,"Back to Dashboard"),p.Wb(),p.Xb(13,"button",9),p.Tc(14,"Report this Problem"),p.Wb(),p.Wb(),p.Wb(),p.Wb()),2&e&&(p.Eb(11),p.rc("routerLink",p.wc(1,y)))},directives:[C.a,S.b,s.i],styles:[""]}),e})();const E=function(){return["/"]};let O=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Lb({type:e,selectors:[["app-error"]],decls:15,vars:2,consts:[[1,"page-wrap","h-full","mat-bg-default"],[1,"app-error"],[1,"fix"],["color","warn",1,"error-icon"],[1,"error-text"],[1,"error-title"],[1,"error-subtitle"],[1,"error-actions"],["mat-raised-button","","color","primary",1,"mb-16","mr-8",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(e,t){1&e&&(p.Xb(0,"div",0),p.Xb(1,"div",1),p.Xb(2,"div",2),p.Xb(3,"mat-icon",3),p.Tc(4,"warning"),p.Wb(),p.Xb(5,"div",4),p.Xb(6,"h1",5),p.Tc(7,"500"),p.Wb(),p.Xb(8,"div",6),p.Tc(9,"Server Error!"),p.Wb(),p.Wb(),p.Wb(),p.Xb(10,"div",7),p.Xb(11,"button",8),p.Tc(12,"Back to Dashboard"),p.Wb(),p.Xb(13,"button",9),p.Tc(14,"Report this Problem"),p.Wb(),p.Wb(),p.Wb(),p.Wb()),2&e&&(p.Eb(11),p.rc("routerLink",p.wc(1,E)))},directives:[C.a,S.b,s.i],styles:[""]}),e})();var T=i("DyWe"),P=i("EApP"),_=i("Q2Ze"),x=i("e6WT"),k=i("BSbQ");const w=function(){return{}};let N=(()=>{class e{constructor(e,t,i,r,n,o,s,a){this.fb=e,this.toastr=t,this.snack=i,this.accountService=r,this.ls=n,this.router=o,this.jwtService=s,this.dialog=a}ngOnInit(){this.signinForm=this.fb.group({email:["",[o.z.required,o.z.email]],password:["",o.z.required]})}onSubmit(){this.signinForm.invalid||this.jwtService.signin().subscribe(e=>{console.log("res: ",e),localStorage.setItem("userName",e.user.userName),this.router.navigateByUrl("/others/Service"),this.ls.removeItem("appEntryStage"),this.ls.removeItem("ACC_DONE"),this.ls.removeItem("ACC_OPEN_DONE"),this.ls.removeItem("ACC_SERVICE_DONE"),this.ls.removeItem("ACC_MANDATE_DONE"),this.ls.removeItem("ACC_NOMINEE_DONE"),this.ls.removeItem("limitEntryStage"),this.ls.removeItem("LIMIT_SECURED_DONE"),this.ls.removeItem("LIMIT_UNSECURED_DONE"),this.ls.removeItem("LIMIT_FIN_DONE"),this.ls.removeItem("enrichmentStage"),this.ls.removeItem("ENRICHMENT_CHARGES_DONE"),this.ls.removeItem("ENRICHMENT_INTEREST_DONE"),this.ls.removeItem("assessmentStage"),this.ls.removeItem("ASSESSMENT_QA_DONE"),this.ls.removeItem("ASSESSMENT_REPORT_DONE"),this.ls.removeItem("fundingStage"),this.ls.removeItem("FUNDING_INI_DONE"),this.ls.removeItem("approvalStage"),this.ls.removeItem("APPROVAL_DETAILS_DONE"),this.ls.removeItem("accountId"),this.ls.removeItem("eSignStage"),this.ls.removeItem("PRODUCT_CUSTOMER_ID"),this.ls.removeItem("cId"),this.accountService.refresh.next()},e=>console.error("Err",e))}openDialog(){this.dialog.open(T.a,{width:"40%",panelClass:"paddingClass",data:{verificationType:"signin"}}).afterClosed().subscribe(e=>{"success"==e&&(this.jwtService.signin().subscribe(e=>{console.log("res: ",e),localStorage.setItem("userName",e.user.userName),this.router.navigateByUrl("/others/Service"),this.ls.removeItem("appEntryStage"),this.ls.removeItem("ACC_DONE"),this.ls.removeItem("ACC_OPEN_DONE"),this.ls.removeItem("ACC_SERVICE_DONE"),this.ls.removeItem("ACC_MANDATE_DONE"),this.ls.removeItem("ACC_NOMINEE_DONE"),this.ls.removeItem("limitEntryStage"),this.ls.removeItem("LIMIT_SECURED_DONE"),this.ls.removeItem("LIMIT_UNSECURED_DONE"),this.ls.removeItem("LIMIT_FIN_DONE"),this.ls.removeItem("enrichmentStage"),this.ls.removeItem("ENRICHMENT_CHARGES_DONE"),this.ls.removeItem("ENRICHMENT_INTEREST_DONE"),this.ls.removeItem("assessmentStage"),this.ls.removeItem("ASSESSMENT_QA_DONE"),this.ls.removeItem("ASSESSMENT_REPORT_DONE"),this.ls.removeItem("fundingStage"),this.ls.removeItem("FUNDING_INI_DONE"),this.ls.removeItem("approvalStage"),this.ls.removeItem("APPROVAL_DETAILS_DONE"),this.ls.removeItem("accountId"),this.ls.removeItem("eSignStage"),this.ls.removeItem("PRODUCT_CUSTOMER_ID"),this.ls.removeItem("cId"),this.accountService.refresh.next()},e=>console.error("Err",e)),console.log("Dialog result: "+e))})}}return e.\u0275fac=function(t){return new(t||e)(p.Rb(o.f),p.Rb(P.b),p.Rb(u.a),p.Rb(d.a),p.Rb(g.a),p.Rb(s.h),p.Rb(h.a),p.Rb(b.b))},e.\u0275cmp=p.Lb({type:e,selectors:[["app-signin"]],decls:26,vars:3,consts:[[1,"seciton-left"],[1,"section-left-content"],[1,"text-36","font-weight-light"],[1,"mb-24","text-small"],[1,"form-holder","h-full-screen","mat-bg-card","mat-elevation-z4",3,"perfectScrollbar"],["fxLayout","column",1,"signup-form",3,"formGroup","ngSubmit"],[1,"form-headline","text-center","mb-32"],[1,"font-weight-light"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"mb-48"],["width","200px","src","assets/images/logo.png","alt",""],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","name","email","placeholder","Email"],["matInput","","formControlName","password","type","password","name","password","placeholder","********"],["mat-raised-button","","color","primary"],[1,"my-32"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"mb-48",3,"click"],["width","90px","height","90px","src","assets/images/fingerprint.png","alt",""]],template:function(e,t){1&e&&(p.Xb(0,"div",0),p.Xb(1,"div",1),p.Xb(2,"h1",2),p.Tc(3,"Sample Text over here?"),p.Wb(),p.Xb(4,"p",3),p.Tc(5,"Content of the app if required!"),p.Wb(),p.Wb(),p.Wb(),p.Xb(6,"div",4),p.Xb(7,"form",5),p.fc("ngSubmit",function(){return t.onSubmit()}),p.Xb(8,"div",6),p.Xb(9,"h1",7),p.Tc(10,"Sign In"),p.Wb(),p.Wb(),p.Xb(11,"div",8),p.Sb(12,"img",9),p.Wb(),p.Xb(13,"mat-form-field",10),p.Xb(14,"mat-label"),p.Tc(15,"Email"),p.Wb(),p.Sb(16,"input",11),p.Wb(),p.Xb(17,"mat-form-field",10),p.Xb(18,"mat-label"),p.Tc(19,"Password"),p.Wb(),p.Sb(20,"input",12),p.Wb(),p.Xb(21,"button",13),p.Tc(22,"Sign In"),p.Wb(),p.Sb(23,"mat-divider",14),p.Xb(24,"div",15),p.fc("click",function(){return t.openDialog()}),p.Sb(25,"img",16),p.Wb(),p.Wb(),p.Wb()),2&e&&(p.Eb(6),p.rc("perfectScrollbar",p.wc(2,w)),p.Eb(1),p.rc("formGroup",t.signinForm))},directives:[r.b,o.A,o.s,v.e,o.j,v.d,_.c,_.g,x.b,o.c,o.r,o.i,S.b,k.a],styles:[""]}),e})();var W=i("3sEA"),A=i("ETNk");const R=[{path:"",children:[{path:"signin",component:N,data:{title:"Signin"}},{path:"callback",component:(()=>{class e{constructor(e,t,i,r,n){this.spinner=e,this.jwtService=t,this.router=i,this.ls=r,this.themeService=n}ngOnInit(){this.spinner.open();let e=window.location.href.indexOf("appType");this.ls.setItem("redirectedFromTellerDashboard",e.toString());let t=window.location.href.indexOf("code"),i=this.ls.getParameterByName("code"),r=this.ls.getParameterByName("appType"),n=this.ls.getParameterByName("theme");this.CID_360=this.ls.getParameterByName("CID_360"),null==this.ls.getParameterByName("searchTerm")&&null==this.ls.getParameterByName("searchTerm")||(this.searchTerm=this.ls.getParameterByName("searchTerm")),console.log(this.searchTerm);let o=this.jwtService.decodeData(i),s=this.parseAccessTokenFromUserObject(o);return n&&(n=n.replace(/['"]+/g,""),this.ls.setItem("theme","dark"==n?"egret-dark-purple":"egret-blue")),console.log(this.ls.getParameterByName("code")),console.log(this.ls.getParameterByName("appType")),console.log(o),-1!=t?(this.jwtService.setUserAndToken(s,o,!0),this.switchRoute(r),void this.spinner.close()):window.location.href="http://192.168.0.14:8081/iCust-Teller/"}parseAccessTokenFromUserObject(e){var t;return null===(t=e.jwtResp)||void 0===t?void 0:t.accessToken}switchRoute(e){console.log(e);let t=this.ls.getParameterByName("userType");switch(this.ls.setItem("userType",t),e){case"KYC":this.router.navigateByUrl("/others/Service");break;case"INDIVIDUAL":this.router.navigateByUrl("/others/customerTypeDialog");break;case"CORPORATE":this.router.navigateByUrl("/onboardingCorporate/corporate");break;case"CUSTACC":this.router.navigateByUrl("/home/application/list");break;case"TASKS":this.router.navigateByUrl("/tasks/task-summary"+(this.searchTerm?"?searchTerm="+this.searchTerm:""));break;case"KYCTASKS":this.router.navigateByUrl("/tasks/kyc-task-summary"+(this.searchTerm?"?searchTerm="+this.searchTerm:""));break;case"CUSTOMERTASKS":this.router.navigateByUrl("/tasks/cust-on-boarding-task-summary"+(this.searchTerm?"?searchTerm="+this.searchTerm:""));break;case"CORPORATETASKS":this.router.navigateByUrl("/tasks/corporate-task-summary");break;case"DASHBOARD360":this.router.navigateByUrl("/others/mainNavigation?cId="+this.CID_360);break;case"LOANACC":this.router.navigateByUrl("/loan/account/list");break;case"CARDACC":this.router.navigateByUrl("/cardaccount/applicationEntryStage/list");break;default:this.router.navigateByUrl("/others/Service");break;case"LOANACCTASKS":this.router.navigateByUrl("/tasks/loan-account-task-summary"+(this.searchTerm?"?searchTerm="+this.searchTerm:""));break;case"CARDACCTASKS":this.router.navigateByUrl("/tasks/card-account-task-summary"+(this.searchTerm?"?searchTerm="+this.searchTerm:""));break;case"INDIVIDUALONBOARDING":this.router.navigateByUrl("/others/newCustomerOnboarding");break;case"BRANCHKYC":this.router.navigateByUrl("/others/kyc")}}}return e.\u0275fac=function(t){return new(t||e)(p.Rb(W.a),p.Rb(h.a),p.Rb(s.h),p.Rb(g.a),p.Rb(A.a))},e.\u0275cmp=p.Lb({type:e,selectors:[["app-auth-callback"]],decls:2,vars:0,template:function(e,t){1&e&&(p.Xb(0,"p"),p.Tc(1," Loading, Please wait...\n"),p.Wb())},styles:[""]}),e})()},{path:"404",component:D,data:{title:"Not Found"}},{path:"error",component:O,data:{title:"Error"}},{path:"fingerPrint",component:I,data:{title:"Error"}},{path:"signLater",component:i("cGjq").a,data:{title:"Error"}}]}];let U=(()=>{class e{}return e.\u0275mod=p.Pb({type:e}),e.\u0275inj=p.Ob({factory:function(t){return new(t||e)},imports:[[n.c,o.l,l.b,o.x,a.a,c.a,r.c,s.l.forChild(R)]]}),e})()},cGjq:function(e,t,i){"use strict";i.d(t,"a",function(){return C});var r=i("r1zJ"),n=i("nm5K"),o=i("laYw"),s=i("tZUg"),a=i("8Y7J"),c=i("iInd"),l=i("zHaW"),g=i("l0rg"),m=i("SVse"),b=i("ura0"),h=i("Dxy4");const d=["profileFile"],p=["fileUpload"];function u(e,t){if(1&e){const e=a.Yb();a.Xb(0,"div",4),a.Xb(1,"div",12),a.Xb(2,"div"),a.Xb(3,"signature-pad",13),a.fc("onBeginEvent",function(){return a.Hc(e),a.jc().drawStart()})("onEndEvent",function(){return a.Hc(e),a.jc().drawComplete()}),a.Wb(),a.Wb(),a.Wb(),a.Wb()}if(2&e){const e=a.jc();a.Eb(3),a.rc("options",e.signaturePadOptions)}}function f(e,t){if(1&e){const e=a.Yb();a.Xb(0,"div",12),a.Xb(1,"div",20),a.Xb(2,"div",21),a.Sb(3,"img",22),a.Wb(),a.Xb(4,"div"),a.Xb(5,"span",16),a.fc("click",function(){return a.Hc(e),a.jc(2).deleteImg()}),a.Tc(6,"Clear"),a.Wb(),a.Wb(),a.Wb(),a.Wb()}if(2&e){const e=a.jc(2);a.Eb(3),a.rc("src",e.imageURL1,a.Jc)}}function v(e,t){if(1&e){const e=a.Yb();a.Xb(0,"div",4),a.Xb(1,"div",12),a.Xb(2,"div"),a.Sb(3,"img",14),a.Wb(),a.Xb(4,"div"),a.Xb(5,"h1",15),a.Tc(6,"Drag and Drop file"),a.Wb(),a.Wb(),a.Xb(7,"div"),a.Xb(8,"h1"),a.Tc(9,"or"),a.Wb(),a.Wb(),a.Xb(10,"div"),a.Xb(11,"span",16),a.fc("click",function(){return a.Hc(e),a.jc().chooseFileDevice()}),a.Tc(12,"Browse"),a.Wb(),a.Xb(13,"input",17,18),a.fc("change",function(t){return a.Hc(e),a.jc().onFileSelect(t)}),a.Wb(),a.Wb(),a.Wb(),a.Rc(15,f,7,1,"div",19),a.Wb()}if(2&e){const e=a.jc();a.Eb(15),a.rc("ngIf",e.fileUploaded)}}let C=(()=>{class e{constructor(e,t,i,r,n,o){this.apiService=e,this.dialogService=t,this.ls=i,this.route=r,this.router=n,this.snack=o,this.signaturePadOptions={minWidth:2,canvasWidth:1e3,canvasHeight:300},this.disableDone=!0,this.signUploadActive=!1,this.eSignActive=!0,this.fileUploaded=!1}ngOnInit(){this.route.queryParamMap.subscribe(e=>{this.userData=atob(e.get("cb")),e.get("cb")&&this.router.navigate([],{queryParams:{cb:atob(e.get("cb"))}})})}drawStart(){console.log("begin drawing")}signType(e){"eSignActive"==e?(this.signUploadActive=!1,this.eSignActive=!0):"signUploadActive"==e&&(this.signUploadActive=!0,this.eSignActive=!1)}chooseFileDevice(){this.fileUpload.nativeElement.click(),this.fileUploaded=!0}drawComplete(){console.log(this.signaturePad.toDataURL()),this.esignUrl=this.signaturePad.toDataURL(),console.log("signUrl",this.esignUrl),this.disableDone=!this.esignUrl.toString().includes("data:image/png;base64")}onFileSelect(e){console.log("event -- ",e.target.files),this.selectedFile=e.target.files[0],console.log(this.selectedFile);let t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=e=>{this.imageURL1=t.result}}save(e){var t;this.route.queryParamMap.subscribe(e=>{this.userData="{"+e.get("cb").split("&")+"}",console.log(this.userData)});const i=null===(t=this.signaturePad)||void 0===t?void 0:t.toDataURL();this.signatureImg=i;const r=this.signaturePad.toDataURL("image/png"),n=atob(r.substring("data:image/png;base64,".length)),o=new Uint8Array(n.length);for(var s=0,a=n.length;s<a;++s)o[s]=n.charCodeAt(s);const c=new Blob([o],{type:"image/png"}),l=new FormData;l.append("data",JSON.stringify(this.userData)),this.eSignActive?l.append("file",c):this.fileUploaded&&l.append("file",this.selectedFile),console.log(l),this.apiService.uploadSignature(l).subscribe(e=>{console.log(e),e&&this.snack.open("Uploaded successfully!","OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})})}deleteImg(){this.ls.setItem("enable",!1),this.imageURL1="not_available"}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(n.b),a.Rb(o.a),a.Rb(s.a),a.Rb(c.a),a.Rb(c.h),a.Rb(l.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-sign-later"]],viewQuery:function(e,t){if(1&e&&(a.ad(r.a,!0),a.ad(d,!0),a.ad(p,!0)),2&e){let e;a.Cc(e=a.gc())&&(t.signaturePad=e.first),a.Cc(e=a.gc())&&(t.profileFile=e.first),a.Cc(e=a.gc())&&(t.fileUpload=e.first)}},decls:24,vars:4,consts:[[1,"headerColor"],[1,"headerDiv"],[1,"bankNameDiv"],[1,"locationDiv"],[1,"selectSignatureContentDiv"],[3,"ngClass","click"],[1,"imgSignDiv"],["width","100px","height","100px","src","assets/images/esign.png","alt",""],[1,"fontSignDiv"],["class","selectSignatureContentDiv",4,"ngIf"],[1,"btnalgn"],["mat-raised-button","",1,"btncolor",3,"click"],[1,"signDiv"],[3,"options","onBeginEvent","onEndEvent"],["width","100px","height","100px","src","assets/images/download.jpg","alt",""],[1,"fontStyle"],[1,"browseLink",3,"click"],["type","file",1,"fileUploadClass",3,"change"],["fileUpload",""],["class","signDiv",4,"ngIf"],[1,"afterUploadImgDiv"],[1,"upImgDiv"],["required","","alt","",1,"formImg",3,"src"]],template:function(e,t){1&e&&(a.Xb(0,"div"),a.Xb(1,"div"),a.Xb(2,"mat-toolbar",0),a.Xb(3,"div",1),a.Xb(4,"div",2),a.Tc(5,"Demo Bank"),a.Wb(),a.Xb(6,"div",3),a.Tc(7,"K N-Kasthuri Nagar"),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Xb(8,"div",4),a.Xb(9,"div",5),a.fc("click",function(){return t.signType("eSignActive")}),a.Xb(10,"div",6),a.Sb(11,"img",7),a.Wb(),a.Xb(12,"div",8),a.Tc(13," E - Sign Draw "),a.Wb(),a.Wb(),a.Xb(14,"div",5),a.fc("click",function(){return t.signType("signUploadActive")}),a.Xb(15,"div",6),a.Sb(16,"img",7),a.Wb(),a.Xb(17,"div",8),a.Tc(18," Image Upload "),a.Wb(),a.Wb(),a.Wb(),a.Rc(19,u,4,1,"div",9),a.Rc(20,v,16,1,"div",9),a.Xb(21,"div",10),a.Xb(22,"button",11),a.fc("click",function(e){return t.save(e)}),a.Tc(23,"Sumbit"),a.Wb(),a.Wb(),a.Wb()),2&e&&(a.Eb(9),a.rc("ngClass",t.eSignActive?"eSignDivActive":"eSignDiv"),a.Eb(5),a.rc("ngClass",t.signUploadActive?"signUploadDivActive":"signUploadDiv"),a.Eb(5),a.rc("ngIf",t.eSignActive),a.Eb(1),a.rc("ngIf",t.signUploadActive))},directives:[g.a,m.l,b.a,m.n,h.b,r.a],styles:[".example-icon[_ngcontent-%COMP%]{padding:0 14px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.formImg[_ngcontent-%COMP%]{height:200px}.headerDiv[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 100px;width:100%}.eSignDiv[_ngcontent-%COMP%]{box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902)!important}.eSignDiv[_ngcontent-%COMP%], .eSignDivActive[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:5px;display:flex;flex-direction:column;text-align:center;align-items:center;justify-content:center;font-size:medium;font-family:sans-serif;gap:10px}.eSignDivActive[_ngcontent-%COMP%]{border-bottom:5px solid #004c97}.fontSignDiv[_ngcontent-%COMP%]{font-weight:700;padding-bottom:10px}.imgSignDiv[_ngcontent-%COMP%]{flex:2 1 auto}.btncolor[_ngcontent-%COMP%], .imgSignDiv[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.btncolor[_ngcontent-%COMP%]{color:#fff;background-image:linear-gradient(90deg,#051b2e,#004a92)}.btnalgn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-bottom:30px}.signUploadDiv[_ngcontent-%COMP%]{width:200px;height:200px;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902)!important;border-radius:5px;text-align:center;font-size:medium;font-family:sans-serif;gap:10px}.contentCentr[_ngcontent-%COMP%], .signUploadDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.fontStyle[_ngcontent-%COMP%]{font-weight:700}.signUploadDivActive[_ngcontent-%COMP%]{width:200px;height:200px;font-size:medium;font-family:sans-serif;border-bottom:5px solid #004c97}.signDiv[_ngcontent-%COMP%], .signUploadDivActive[_ngcontent-%COMP%]{border-radius:5px;display:flex;flex-direction:column;text-align:center;align-items:center;justify-content:center;gap:10px}.signDiv[_ngcontent-%COMP%]{width:100%;height:300px;box-shadow:0 1px 8px rgba(0,0,0,.1607843137254902)!important}.fileUploadClass[_ngcontent-%COMP%]{display:none!important}.browseLink[_ngcontent-%COMP%]{color:#004c97!important;font-family:sans-serif;font-weight:700;cursor:pointer}.browseLink[_ngcontent-%COMP%]:hover{text-decoration:underline!important}.selectSignatureContentDiv[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;gap:40px;padding:60px}.afterUploadImgDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px;justify-content:space-between;align-items:center;gap:30px}.upImgDiv[_ngcontent-%COMP%]{width:300px!important}.bankNameDiv[_ngcontent-%COMP%]{font-size:xx-large;font-family:initial}.locationDiv[_ngcontent-%COMP%]{font-size:large;font-family:sans-serif}.headerColor[_ngcontent-%COMP%]{color:#fff;background-image:linear-gradient(90deg,#051b2e,#004a92)}.mat-progress-bar-fill[_ngcontent-%COMP%]:after{background-color:#02396e}.mat-progress-bar-buffer[_ngcontent-%COMP%]{background:#02396e}.selectedColor[_ngcontent-%COMP%]{color:#02396e}.example-card[_ngcontent-%COMP%]{max-width:400px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}"]}),e})()}}]);