!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{VVaf:function(e,o,n){"use strict";n.r(o),n.d(o,"SessionsModule",function(){return W});var i,a,c,s,u=n("Kdsb"),l=n("ofXK"),b=n("3Pt+"),f=n("tyNb"),p=n("zMWy"),d=n("YUcS"),g=n("sYmb"),m=n("fXoL"),h=n("NFeN"),v=n("bTqV"),y=function(){return["/"]},P=((i=function(){function e(){t(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=m.Ib({type:i,selectors:[["app-not-found"]],decls:15,vars:2,consts:[[1,"d-flex","align-items-center","h-full","mat-bg-default"],[1,"app-error"],[1,"fix"],["color","warn",1,"error-icon"],[1,"error-text"],[1,"error-title"],[1,"error-subtitle"],[1,"error-actions"],["mat-raised-button","","color","primary",1,"mb-16","mr-8",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(t,e){1&t&&(m.Ub(0,"div",0),m.Ub(1,"div",1),m.Ub(2,"div",2),m.Ub(3,"mat-icon",3),m.Pc(4,"error"),m.Tb(),m.Ub(5,"div",4),m.Ub(6,"h1",5),m.Pc(7,"404"),m.Tb(),m.Ub(8,"div",6),m.Pc(9,"Page Not Found!"),m.Tb(),m.Tb(),m.Tb(),m.Ub(10,"div",7),m.Ub(11,"button",8),m.Pc(12,"Back to Dashboard"),m.Tb(),m.Ub(13,"button",9),m.Pc(14,"Report this Problem"),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t&&(m.Bb(11),m.nc("routerLink",m.sc(1,y)))},directives:[h.a,v.a,f.h],styles:[""]}),i),T=function(){return["/"]},U=((a=function(){function e(){t(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=m.Ib({type:a,selectors:[["app-error"]],decls:15,vars:2,consts:[[1,"page-wrap","h-full","mat-bg-default"],[1,"app-error"],[1,"fix"],["color","warn",1,"error-icon"],[1,"error-text"],[1,"error-title"],[1,"error-subtitle"],[1,"error-actions"],["mat-raised-button","","color","primary",1,"mb-16","mr-8",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(t,e){1&t&&(m.Ub(0,"div",0),m.Ub(1,"div",1),m.Ub(2,"div",2),m.Ub(3,"mat-icon",3),m.Pc(4,"warning"),m.Tb(),m.Ub(5,"div",4),m.Ub(6,"h1",5),m.Pc(7,"500"),m.Tb(),m.Ub(8,"div",6),m.Pc(9,"Server Error!"),m.Tb(),m.Tb(),m.Tb(),m.Ub(10,"div",7),m.Ub(11,"button",8),m.Pc(12,"Back to Dashboard"),m.Tb(),m.Ub(13,"button",9),m.Pc(14,"Report this Problem"),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t&&(m.Bb(11),m.nc("routerLink",m.sc(1,T)))},directives:[h.a,v.a,f.h],styles:[""]}),a),w=n("nZzT"),k=n("0IaG"),C=n("rp8y"),O=n("tZUg"),x=n("dNgK"),I=n("XiUz"),S=((c=function(){function e(r,o,n,i,a,c,s,u,l){t(this,e),this.dialogRef=r,this.fpCaptureService=o,this.data=n,this.cdr=i,this.snack=a,this.jwtService=c,this.formBuilder=s,this.ls=u,this.router=l,this.titleMessage="Please use your fingerprint to authenticate",this.contentMessage="Please place your thumb on the fingerprint reader to proceed.",this.totalItems=0,this.totalPages=0,this.flag=!1}return r(e,[{key:"ngOnInit",value:function(){this.custFormGroup=this.formBuilder.group({anyCustomerId:[""]})}},{key:"applyFilter",value:function(t){t.target.value=t.target.value.trim(),this.customerId=t.target.value,console.log("Value : ",this.customerId)}},{key:"getCutomerData",value:function(t){console.log("formData :: ",t)}},{key:"goToClose",value:function(){this.dialogRef.close()}},{key:"captureFingerPrintHttps",value:function(){var t=this;console.log("in component"),this.fpCaptureService.CallingSGIFPCapture().subscribe(function(e){console.log("capturedData:: ",e),0==e.ErrorCode?(t.snack.open("Finding ,is registed customer","OK",{duration:1e3,verticalPosition:"top",horizontalPosition:"right"}),t.getFpDataForMatchOnPageLoad(e.TemplateBase64)):t.getError(e.ErrorCode)},function(e){t.snack.open(""+e,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"getFpDataForMatchOnPageLoad",value:function(t){var e=this;console.log("TemplateBase64 :: ",t),this.fpCaptureService.getCustInfoByFp(0,100,4).subscribe(function(r){if(console.log("resp:: ",r),r.totalPages-1==0)Object.keys(r.data).forEach(function(o){e.matchFpFromUi(t,r.data[o])});else for(var o=0;o<r.totalPages;o++)0==o&&Object.keys(r.data).forEach(function(o){e.matchFpFromUi(t,r.data[o])})})}},{key:"matchFpFromUi",value:function(t,e){var r=this;this.fpCaptureService.CallingSGIFPMatch(t,e.fpTemplateBase64).subscribe(function(t){if(console.log("fpResp : ",t),t.MatchingScore>=100){var o=e.customerId;return console.log("res",e),r.jwtService.setUserAndToken(e,!0),r.router.navigateByUrl("/others/dashboard"),r.ls.setItem("customer_id",o),r.cdr.markForCheck(),r.cdr.detectChanges(),r.dialogRef.close({message:"Confirm",custId:o}),void r.snack.open("User found : "+e.customerId,"OK",{duration:1e3,verticalPosition:"top",horizontalPosition:"right"})}})}},{key:"getError",value:function(t){var e=this.fpCaptureService.errorCodeService(t);console.log("error code",e)}},{key:"saveBiometric",value:function(t,e,r){var o=this;this.fpCaptureService.saveBiometric(t,e,r,"Kisok Authenticate").subscribe(function(t){console.log("after save ",t),o.cdr.markForCheck(),o.snack.open("Captured "+e+" Finger","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}]),e}()).\u0275fac=function(t){return new(t||c)(m.Ob(k.g),m.Ob(C.a),m.Ob(k.a),m.Ob(m.h),m.Ob(x.a),m.Ob(w.a),m.Ob(b.e),m.Ob(O.a),m.Ob(f.g))},c.\u0275cmp=m.Ib({type:c,selectors:[["app-fingerprint"]],decls:19,vars:2,consts:[[2,"background-color","white"],["fxLayout","row",1,"contain",3,"click"],[1,"backIcon"],["fxLayout","column","fxLayoutGap","5%","fxLayoutAlign","space-between center",1,""],[1,"card-title"],[1,"para"],[1,"matIcon"],["mat-flat-button","",1,"buttonScan",3,"click"]],template:function(t,e){1&t&&(m.Ub(0,"div",0),m.Ub(1,"div",1),m.cc("click",function(){return e.goToClose()}),m.Ub(2,"mat-icon",2),m.Pc(3,"close"),m.Tb(),m.Tb(),m.Ub(4,"div"),m.Ub(5,"div",3),m.Ub(6,"div"),m.Ub(7,"h3",4),m.Pc(8),m.Tb(),m.Pb(9,"br"),m.Ub(10,"div"),m.Ub(11,"p",5),m.Pc(12),m.Tb(),m.Tb(),m.Tb(),m.Ub(13,"div"),m.Ub(14,"mat-icon",6),m.Pc(15,"fingerprint"),m.Tb(),m.Tb(),m.Ub(16,"div"),m.Ub(17,"button",7),m.cc("click",function(){return e.captureFingerPrintHttps()}),m.Pc(18,"SCAN"),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb()),2&t&&(m.Bb(8),m.Qc(e.titleMessage),m.Bb(4),m.Qc(e.contentMessage))},directives:[I.d,h.a,I.e,I.c,v.a],styles:[".main-div[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.text[_ngcontent-%COMP%]{justify-content:center;padding-top:25px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#000}.para[_ngcontent-%COMP%]{color:#000;text-align:center}.matIcon[_ngcontent-%COMP%]{color:#4badf7;padding-right:4rem;font-size:6rem}.card-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}.card-title[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:sans-serif;color:#000}p[_ngcontent-%COMP%]{font-size:12px}.buttonScan[_ngcontent-%COMP%]{width:170px;border-radius:25px;background-color:#456efe;color:#fff;font-family:sans-serif}.full-width[_ngcontent-%COMP%]{border-radius:10px}"]}),c),F=n("ETNk"),M=n("rmxa"),B=new Uint8Array(16);function L(){if(!s&&!(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(B)}for(var N=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_=function(t){return"string"==typeof t&&N.test(t)},j=[],z=0;z<256;++z)j.push((z+256).toString(16).substr(1));var E=function(t,e,r){var o=(t=t||{}).random||(t.rng||L)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){r=r||0;for(var n=0;n<16;++n)e[r+n]=o[n];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(j[t[e+0]]+j[t[e+1]]+j[t[e+2]]+j[t[e+3]]+"-"+j[t[e+4]]+j[t[e+5]]+"-"+j[t[e+6]]+j[t[e+7]]+"-"+j[t[e+8]]+j[t[e+9]]+"-"+j[t[e+10]]+j[t[e+11]]+j[t[e+12]]+j[t[e+13]]+j[t[e+14]]+j[t[e+15]]).toLowerCase();if(!_(r))throw TypeError("Stringified UUID is invalid");return r}(o)},R=n("5eHb"),A=n("JqCM"),D=n("kmnG"),K=n("qFsG"),q=n("f0Cb");function G(t,e){1&t&&(m.Ub(0,"mat-error",20),m.Pc(1," Please enter user Id "),m.Tb())}function V(t,e){1&t&&(m.Ub(0,"mat-error",20),m.Pc(1," Please enter Password "),m.Tb())}var H,J,Q=function(){return{}},X=[{path:"",children:[{path:"signin",component:(H=function(){function e(r,o,n,i,a,c,s,u){t(this,e),this.fb=r,this.layout=o,this.router=n,this.jwtService=i,this.themeService=a,this.dialog=c,this.toastr=s,this.spinner=u,this.hide=!0}return r(e,[{key:"ngOnInit",value:function(){this.browserKey=E(),this.signinForm=this.fb.group({username:["",b.z.required],password:["",b.z.required],systemCode:[this.browserKey]})}},{key:"onSubmit",value:function(){var t=this;this.signinForm.invalid||(this.spinner.show(),this.jwtService.loginIcut(this.signinForm.value).subscribe(function(e){console.log("ress",e),t.spinner.hide(),e&&(console.log("if res",e),t.jwtService.setUserAndToken(e,!0),localStorage.setItem("branchName",e.branchName),localStorage.setItem("userName",e.userName),localStorage.setItem("browserId",t.browserKey),t.router.navigateByUrl("/others/dashboard"),t.showToast(e))},function(e){console.log("err",e),t.spinner.hide(),e.error&&t.toastr.error(""+e.error.message,"Error!",{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3})}))}},{key:"onChange",value:function(t){console.log("e",t)}},{key:"changeTheme1",value:function(t){this.layout.applyMatTheme(t)}},{key:"openDialog",value:function(){this.dialog.open(S).afterClosed().subscribe(function(t){console.log("Dialog result: "+t)})}},{key:"showToast",value:function(t){this.toastr.success(""+t.email,"Welcome, ".concat(t.userName,"!"),{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3})}}]),e}(),H.\u0275fac=function(t){return new(t||H)(m.Ob(b.e),m.Ob(M.a),m.Ob(f.g),m.Ob(w.a),m.Ob(F.a),m.Ob(k.b),m.Ob(R.b),m.Ob(A.c))},H.\u0275cmp=m.Ib({type:H,selectors:[["app-signin"]],decls:29,vars:7,consts:[[1,"seciton-left"],[1,"section-left-content"],[1,"text-36","font-weight-light"],[1,"mb-24","text-small"],[1,"form-holder","h-full-screen","mat-bg-card","mat-elevation-z4",3,"perfectScrollbar"],["fxLayout","column",1,"signup-form",3,"formGroup","ngSubmit"],[1,"form-headline","text-center","mb-32"],[1,"font-weight-light"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"mb-48"],["width","200px","src","assets/images/logo.png","alt",""],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","type","text","name","username","placeholder","User Id","required",""],["class","errorColour",4,"ngIf"],["matInput","","formControlName","password","name","password","placeholder","********","required","",3,"type"],["matSuffix","",2,"cursor","pointer",3,"click"],["mat-raised-button","","color","primary",1,"btnclr",3,"click"],[1,"my-32"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"mb-48",3,"click"],["width","90px","height","90px","src","assets/images/fingerprint.png","alt",""],["size","small","type","square-loader"],[1,"errorColour"]],template:function(t,e){1&t&&(m.Ub(0,"div",0),m.Ub(1,"div",1),m.Pb(2,"h1",2),m.Pb(3,"p",3),m.Tb(),m.Tb(),m.Ub(4,"div",4),m.Ub(5,"form",5),m.cc("ngSubmit",function(){return e.onSubmit()}),m.Ub(6,"div",6),m.Ub(7,"h1",7),m.Pc(8,"Sign In"),m.Tb(),m.Tb(),m.Ub(9,"div",8),m.Pb(10,"img",9),m.Tb(),m.Ub(11,"mat-form-field",10),m.Ub(12,"mat-label"),m.Pc(13,"User Id"),m.Tb(),m.Pb(14,"input",11),m.Nc(15,G,2,0,"mat-error",12),m.Tb(),m.Ub(16,"mat-form-field",10),m.Ub(17,"mat-label"),m.Pc(18,"Password"),m.Tb(),m.Pb(19,"input",13),m.Ub(20,"mat-icon",14),m.cc("click",function(){return e.hide=!e.hide}),m.Pc(21),m.Tb(),m.Nc(22,V,2,0,"mat-error",12),m.Tb(),m.Ub(23,"button",15),m.cc("click",function(t){return e.onChange(t)}),m.Pc(24,"Sign In"),m.Tb(),m.Pb(25,"mat-divider",16),m.Ub(26,"div",17),m.cc("click",function(){return e.openDialog()}),m.Pb(27,"img",18),m.Tb(),m.Tb(),m.Tb(),m.Pb(28,"ngx-spinner",19)),2&t&&(m.Bb(4),m.nc("perfectScrollbar",m.sc(6,Q)),m.Bb(1),m.nc("formGroup",e.signinForm),m.Bb(10),m.nc("ngIf",e.signinForm.get("username").hasError("required")),m.Bb(4),m.nc("type",e.hide?"password":"text"),m.Bb(2),m.Qc(e.hide?"visibility_off":"visibility"),m.Bb(1),m.nc("ngIf",e.signinForm.get("password").hasError("required")))},directives:[u.b,b.A,b.s,I.d,b.j,I.c,D.c,D.g,K.b,b.c,b.r,b.h,b.y,l.n,h.a,D.j,v.a,q.a,A.a,D.b],styles:[".errorColour[_ngcontent-%COMP%]{color:red}.btnclr[_ngcontent-%COMP%]{color:#fff;background-color:#03a9f4;font-size:14px;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:400!important;line-height:36px}.toast-success[_ngcontent-%COMP%]{background-color:#304156!important}"]}),H),data:{title:"Signin"}},{path:"404",component:P,data:{title:"Not Found"}},{path:"error",component:U,data:{title:"Error"}}]}],W=((J=r(function e(){t(this,e)})).\u0275mod=m.Mb({type:J}),J.\u0275inj=m.Lb({factory:function(t){return new(t||J)},imports:[[l.c,b.l,g.b,b.x,p.a,d.a,u.c,A.b,f.k.forChild(X)]]}),J)}}])}();