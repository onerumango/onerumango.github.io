!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);e.exports=function(){return n(o),o}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},EcEN:function(e,t,n){var o=n("xDdU"),r=n("xk4V"),i=r;i.v1=o,i.v4=r,e.exports=i},I2ZF:function(e,t){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);e.exports=function(e,t){var o=t||0;return[n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]]].join("")}},VVaf:function(t,o,r){"use strict";r.r(o),r.d(o,"SessionsModule",function(){return L});var i,a,s,c=r("Kdsb"),l=r("ofXK"),u=r("3Pt+"),d=r("tyNb"),g=r("zMWy"),p=r("YUcS"),b=r("sYmb"),f=r("fXoL"),m=r("NFeN"),h=r("bTqV"),v=function(){return["/"]},y=((i=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=f.Ib({type:i,selectors:[["app-not-found"]],decls:15,vars:2,consts:[[1,"d-flex","align-items-center","h-full","mat-bg-default"],[1,"app-error"],[1,"fix"],["color","warn",1,"error-icon"],[1,"error-text"],[1,"error-title"],[1,"error-subtitle"],[1,"error-actions"],["mat-raised-button","","color","primary",1,"mb-16","mr-8",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(e,t){1&e&&(f.Ub(0,"div",0),f.Ub(1,"div",1),f.Ub(2,"div",2),f.Ub(3,"mat-icon",3),f.Qc(4,"error"),f.Tb(),f.Ub(5,"div",4),f.Ub(6,"h1",5),f.Qc(7,"404"),f.Tb(),f.Ub(8,"div",6),f.Qc(9,"Page Not Found!"),f.Tb(),f.Tb(),f.Tb(),f.Ub(10,"div",7),f.Ub(11,"button",8),f.Qc(12,"Back to Dashboard"),f.Tb(),f.Ub(13,"button",9),f.Qc(14,"Report this Problem"),f.Tb(),f.Tb(),f.Tb(),f.Tb()),2&e&&(f.Bb(11),f.oc("routerLink",f.tc(1,v)))},directives:[m.a,h.a,d.h],styles:[""]}),i),x=function(){return["/"]},w=((a=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=f.Ib({type:a,selectors:[["app-error"]],decls:15,vars:2,consts:[[1,"page-wrap","h-full","mat-bg-default"],[1,"app-error"],[1,"fix"],["color","warn",1,"error-icon"],[1,"error-text"],[1,"error-title"],[1,"error-subtitle"],[1,"error-actions"],["mat-raised-button","","color","primary",1,"mb-16","mr-8",3,"routerLink"],["mat-raised-button","","color","warn"]],template:function(e,t){1&e&&(f.Ub(0,"div",0),f.Ub(1,"div",1),f.Ub(2,"div",2),f.Ub(3,"mat-icon",3),f.Qc(4,"warning"),f.Tb(),f.Ub(5,"div",4),f.Ub(6,"h1",5),f.Qc(7,"500"),f.Tb(),f.Ub(8,"div",6),f.Qc(9,"Server Error!"),f.Tb(),f.Tb(),f.Tb(),f.Ub(10,"div",7),f.Ub(11,"button",8),f.Qc(12,"Back to Dashboard"),f.Tb(),f.Ub(13,"button",9),f.Qc(14,"Report this Problem"),f.Tb(),f.Tb(),f.Tb(),f.Tb()),2&e&&(f.Bb(11),f.oc("routerLink",f.tc(1,x)))},directives:[m.a,h.a,d.h],styles:[""]}),a),C=r("nZzT"),P=r("0IaG"),T=r("rp8y"),_=r("tZUg"),O=r("dNgK"),U=r("XiUz"),k=((s=function(){function t(n,o,r,i,a,s,c,l,u,d){e(this,t),this.dialogRef=n,this.fpCaptureService=o,this.data=r,this.cdr=i,this.snack=a,this.fingerPrintService=s,this.jwtService=c,this.formBuilder=l,this.ls=u,this.router=d,this.titleMessage="Please use your fingerprint to authenticate",this.contentMessage="Please place your thumb on the fingerprint reader to proceed.",this.totalItems=0,this.totalPages=0,this.flag=!1}return n(t,[{key:"ngOnInit",value:function(){this.custFormGroup=this.formBuilder.group({anyCustomerId:[""]})}},{key:"applyFilter",value:function(e){e.target.value=e.target.value.trim(),this.customerId=e.target.value,console.log("Value : ",this.customerId)}},{key:"getCutomerData",value:function(e){console.log("formData :: ",e)}},{key:"goToClose",value:function(){this.dialogRef.close()}},{key:"scan",value:function(){this.captureFingerPrint("Thumb")}},{key:"captureFingerPrint",value:function(e){var t=this;this.fingerPrintService.CallingSGIFPCapture().subscribe(function(n){console.log("capFingerPrint 29 ::: ",n),console.log("fingerName :: ",e),0==n.ErrorCode?(t.cdr.detectChanges(),console.log("this.customerId :: ",t.customerId),t.saveFingerPrint(n)):t.getError(n.ErrorCode)})}},{key:"getFpDataForMatchOnPageLoad",value:function(e){var t=this;console.log("TemplateBase64 :: ",e),this.fpCaptureService.getCustInfoByFp(0,100,4).subscribe(function(n){console.log("resp:: ",n),t.matchFpFromUi(e,n.data[0])})}},{key:"matchFpFromUi",value:function(e,t){var n=this;this.fpCaptureService.CallingSGIFPMatch(e,t.fpTemplateBase64).subscribe(function(e){if(console.log("fpResp : ",e),e.MatchingScore>=0&&0===e.ErrorCode){n.snack.open("Finger Print Authentication Completed Successfully","OK",{duration:1e3,verticalPosition:"top",horizontalPosition:"right"});var o=t.customerId;return console.log("res",t),n.jwtService.setUserAndToken(t,!0),n.router.navigateByUrl("/others/dashboard"),n.ls.setItem("customer_id",o),n.cdr.markForCheck(),n.cdr.detectChanges(),void n.dialogRef.close({message:"Confirm",custId:o})}return n.snack.open("Finger Print Authentication Failed","error",{duration:1e3,verticalPosition:"top",horizontalPosition:"right"}),void n.getError(e.ErrorCode)})}},{key:"getError",value:function(e){var t=this.fpCaptureService.errorCodeService(e);console.log("error code",t)}},{key:"saveFingerPrint",value:function(e){var t=this;this.fpCaptureService.uploadFingerPrint(e).subscribe(function(e){console.log("after save ",e),t.cdr.markForCheck(),t.snack.open("Captured  Finger","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.getFpDataForMatchOnPageLoad(e.TemplateBase64)}}]),t}()).\u0275fac=function(e){return new(e||s)(f.Ob(P.g),f.Ob(T.a),f.Ob(P.a),f.Ob(f.h),f.Ob(O.a),f.Ob(T.a),f.Ob(C.a),f.Ob(u.g),f.Ob(_.a),f.Ob(d.g))},s.\u0275cmp=f.Ib({type:s,selectors:[["app-fingerprint"]],decls:19,vars:2,consts:[[2,"background-color","white"],["fxLayout","row",1,"contain",3,"click"],[1,"backIcon"],["fxLayout","column","fxLayoutGap","5%","fxLayoutAlign","space-between center",1,""],[1,"card-title"],[1,"para"],[1,"matIcon"],["mat-flat-button","",1,"buttonScan",3,"click"]],template:function(e,t){1&e&&(f.Ub(0,"div",0),f.Ub(1,"div",1),f.cc("click",function(){return t.goToClose()}),f.Ub(2,"mat-icon",2),f.Qc(3,"close"),f.Tb(),f.Tb(),f.Ub(4,"div"),f.Ub(5,"div",3),f.Ub(6,"div"),f.Ub(7,"h3",4),f.Qc(8),f.Tb(),f.Pb(9,"br"),f.Ub(10,"div"),f.Ub(11,"p",5),f.Qc(12),f.Tb(),f.Tb(),f.Tb(),f.Ub(13,"div"),f.Ub(14,"mat-icon",6),f.Qc(15,"fingerprint"),f.Tb(),f.Tb(),f.Ub(16,"div"),f.Ub(17,"button",7),f.cc("click",function(){return t.scan()}),f.Qc(18,"SCAN"),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Tb()),2&e&&(f.Bb(8),f.Rc(t.titleMessage),f.Bb(4),f.Rc(t.contentMessage))},directives:[U.d,m.a,U.e,U.c,h.a],styles:[".main-div[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.text[_ngcontent-%COMP%]{justify-content:center;padding-top:25px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#000}.para[_ngcontent-%COMP%]{color:#000;text-align:center}.matIcon[_ngcontent-%COMP%]{color:#4badf7;padding-right:4rem;font-size:6rem}.card-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}.card-title[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:sans-serif;color:#000}p[_ngcontent-%COMP%]{font-size:12px}.buttonScan[_ngcontent-%COMP%]{width:170px;border-radius:25px;background-color:#456efe;color:#fff;font-family:sans-serif}.full-width[_ngcontent-%COMP%]{border-radius:10px}"]}),s),M=r("ETNk"),I=r("rmxa"),F=r("EcEN"),S=r("nm5K"),D=r("5eHb"),E=r("JqCM"),Q=r("kmnG"),B=r("qFsG");function j(e,t){1&e&&(f.Ub(0,"mat-error",22),f.Qc(1," Please enter user Id "),f.Tb())}function N(e,t){1&e&&(f.Ub(0,"mat-error",22),f.Qc(1," Please enter Password "),f.Tb())}var R,A,q=[{path:"",children:[{path:"signin",component:(R=function(){function t(n,o,r,i,a,s,c,l,u){e(this,t),this.fb=n,this.layout=o,this.router=r,this.jwtService=i,this.themeService=a,this.dialog=s,this.toastr=c,this.apiService=l,this.spinner=u,this.hide=!0}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.browserKey=Object(F.v4)(),this.signinForm=this.fb.group({username:["",u.C.required],password:["",u.C.required],systemCode:[this.browserKey]}),this.apiService.getSecurityPolicyDetails().subscribe(function(t){e.security=t[0]})}},{key:"onSubmit",value:function(){var e=this;this.signinForm.invalid?""!==this.signinForm.value.password&&""!==this.signinForm.value.username||this.toastr.error("Error","Please enter login credentials.",{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3}):(this.spinner.show(),this.jwtService.loginIcut(this.signinForm.value).subscribe(function(t){console.log("ress",t),e.userResp=t,e.spinner.hide(),null==(null==t?void 0:t.data)&&"Account blocked, Max failed attempts reached"==t.message?e.toastr.error(""+t.message,"Error!",{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3}):t&&(e.notifyPswdExpry=e.security.notifyPasswordExpiryInDays,e.pswdExpiry=e.security.pswdExpiry,0===e.pswdExpiry&&0===e.notifyPswdExpry||(e.currentDate=new Date,e.changePwdDate=new Date(e.userResp.pwdChangeDate),console.log(e.changePwdDate),e.differnceInTime=e.currentDate-e.changePwdDate,console.log(e.differnceInTime),e.differnceInDays=Math.floor(e.differnceInTime/864e5),e.finalDiff=e.pswdExpiry-e.differnceInDays,console.log(e.finalDiff,e.pswdExpiry,e.differnceInDays),0===e.finalDiff||e.finalDiff<=0?e.toastr.error("Error!","Your Password is expired. Please reset your password.",{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3}):(console.log("if res",t),e.jwtService.setUserAndToken(t,!0),localStorage.setItem("branchName",t.branchName),localStorage.setItem("userName",t.userName),localStorage.setItem("browserId",e.browserKey),localStorage.setItem("tellerid",t.id),console.log(e.finalDiff),e.finalDiff>0&&e.finalDiff<=e.notifyPswdExpry&&"A"==e.security.authStatus&&e.toastr.error("Your password will expire in "+e.finalDiff+" day(s)",""),e.router.navigateByUrl("/others/dashboard"),e.showToast(t))))},function(t){console.log("err",t),e.spinner.hide(),t.error&&e.toastr.error(""+t.error,"Error!",{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3})}))}},{key:"onChange",value:function(e){console.log("e",e)}},{key:"changeTheme1",value:function(e){this.layout.applyMatTheme(e)}},{key:"openDialog",value:function(){this.dialog.open(k).afterClosed().subscribe(function(e){console.log("Dialog result: "+e)})}},{key:"showToast",value:function(e){this.toastr.success(""+e.email,"Welcome, ".concat(e.userName,"!"),{progressAnimation:"decreasing",progressBar:!0,positionClass:"toast-top-right",timeOut:3e3})}}]),t}(),R.\u0275fac=function(e){return new(e||R)(f.Ob(u.g),f.Ob(I.a),f.Ob(d.g),f.Ob(C.a),f.Ob(M.a),f.Ob(P.b),f.Ob(D.b),f.Ob(S.a),f.Ob(E.c))},R.\u0275cmp=f.Ib({type:R,selectors:[["app-signin"]],decls:40,vars:5,consts:[[1,"login_container"],[1,"login_content"],[1,"login_heading"],[1,"login_subtitle"],["fxLayout","column",1,"login_form"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","type","text","name","username","placeholder","User Id","required",""],["class","errorColour",4,"ngIf"],["matInput","","formControlName","password","name","password","placeholder","********","required","",3,"type"],["matSuffix","",2,"cursor","pointer",3,"click"],[1,"login_link_button"],["mat-raised-button","",1,"login_sigin",3,"click"],[1,"login_alternate_signin"],[1,"login_horizontal"],[1,"login_alternate_text"],[1,"login_methods"],["mat-raised-button","",1,"login_button",3,"click"],[1,"loginMethodCard"],["mat-raised-button","",1,"login_button"],[1,"login_image"],["src","assets/images/login-image.png"],[1,"errorColour"]],template:function(e,t){1&e&&(f.Ub(0,"div",0),f.Ub(1,"div",1),f.Ub(2,"h1",2),f.Qc(3,"Demo Bank"),f.Tb(),f.Ub(4,"h2",3),f.Qc(5,"Welcome to DemoBank!"),f.Tb(),f.Ub(6,"div",4),f.Ub(7,"form",5),f.cc("ngSubmit",function(){return t.onSubmit()}),f.Ub(8,"mat-form-field",6),f.Ub(9,"mat-label"),f.Qc(10,"User Id"),f.Tb(),f.Pb(11,"input",7),f.Oc(12,j,2,0,"mat-error",8),f.Tb(),f.Ub(13,"mat-form-field",6),f.Ub(14,"mat-label"),f.Qc(15,"Password"),f.Tb(),f.Pb(16,"input",9),f.Ub(17,"mat-icon",10),f.cc("click",function(){return t.hide=!t.hide}),f.Qc(18),f.Tb(),f.Oc(19,N,2,0,"mat-error",8),f.Tb(),f.Ub(20,"button",11),f.Qc(21,"Forgot Password?"),f.Tb(),f.Ub(22,"button",12),f.cc("click",function(e){return t.onChange(e)}),f.Qc(23,"Sign In"),f.Tb(),f.Tb(),f.Ub(24,"div",13),f.Pb(25,"div",14),f.Ub(26,"div",15),f.Qc(27,"Or sign in using"),f.Tb(),f.Pb(28,"div",14),f.Tb(),f.Ub(29,"div",16),f.Ub(30,"button",17),f.cc("click",function(){return t.openDialog()}),f.Ub(31,"mat-icon",18),f.Qc(32,"fingerprint"),f.Tb(),f.Qc(33,"FingerPrint"),f.Tb(),f.Ub(34,"button",19),f.Ub(35,"mat-icon",18),f.Qc(36,"face"),f.Tb(),f.Qc(37,"Face Id"),f.Tb(),f.Tb(),f.Tb(),f.Tb(),f.Ub(38,"div",20),f.Pb(39,"img",21),f.Tb(),f.Tb()),2&e&&(f.Bb(7),f.oc("formGroup",t.signinForm),f.Bb(5),f.oc("ngIf",t.signinForm.get("username").hasError("required")),f.Bb(4),f.oc("type",t.hide?"password":"text"),f.Bb(2),f.Rc(t.hide?"visibility_off":"visibility"),f.Bb(1),f.oc("ngIf",t.signinForm.get("password").hasError("required")))},directives:[U.d,u.D,u.u,u.l,Q.c,Q.g,B.b,u.d,u.t,u.j,u.B,l.n,m.a,Q.i,h.a,Q.b],styles:[".login_container[_ngcontent-%COMP%]{padding:40px;display:flex;justify-content:center}.login_subtitle[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:28px;padding-left:16px}.login_form[_ngcontent-%COMP%]{max-width:408px;width:100%;padding-left:16px;display:flex;flex-direction:column;gap:16px}.login_content[_ngcontent-%COMP%]{width:100%;max-width:568px;gap:16px;padding-left:20px}.login_heading[_ngcontent-%COMP%]{letter-spacing:0;color:#004c97}.login_link_button[_ngcontent-%COMP%]{color:#004c97;outline:none;background:none;box-shadow:none;border:none;align-self:flex-end;font-weight:700;margin-top:-10px;float:right}.login_horizontal[_ngcontent-%COMP%]{height:2px;width:100%;background-color:#004c97;height:1px;flex-grow:1;align-self:center}.login_alternate_text[_ngcontent-%COMP%]{width:100%;align-self:center;margin:auto;text-align:center;color:#004c97;font-weight:700}.login_button[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;align-items:center;width:100%;height:58px;background:#fff 0 0 no-repeat padding-box;box-shadow:3px 3px 15px rgba(0,0,0,.058823529411764705);border-radius:15px;border:none}.login_alternate_signin[_ngcontent-%COMP%]{display:flex;margin-top:20px}.login_sigin[_ngcontent-%COMP%]{background:transparent linear-gradient(90deg,#051a2d,#004c97) 0 0 no-repeat padding-box;border-radius:24px;opacity:1;padding:5px;width:100%;color:#fff;margin-top:20px}.login_image[_ngcontent-%COMP%]{display:block;display:flex;overflow:hidden;max-width:760px;min-height:520px;max-height:calc(100vh - 80px)}.login_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-o-object-fit:cover;object-fit:cover}.login_methods[_ngcontent-%COMP%]{display:flex;gap:16px}@media screen and (max-width:1023px){.login_image[_ngcontent-%COMP%]{display:none}.login_content[_ngcontent-%COMP%]{padding-left:0;max-width:408px}}@media screen and (max-width:767px){.login_container[_ngcontent-%COMP%]{padding:20px}.login_form[_ngcontent-%COMP%]{padding-left:0}.login_subtitle[_ngcontent-%COMP%]{margin:16px 0}}[_nghost-%COMP%]     .mat-form-field-outline-start{border-radius:15px 0 0 15px!important;min-width:10px!important}[_nghost-%COMP%]     .mat-form-field-outline-end{border-radius:0 15px 15px 0!important}.loginMethodCard[_ngcontent-%COMP%]{margin-right:20px;color:#004c97}"]}),R),data:{title:"Signin"}},{path:"404",component:y,data:{title:"Not Found"}},{path:"error",component:w,data:{title:"Error"}}]}],L=((A=n(function t(){e(this,t)})).\u0275mod=f.Mb({type:A}),A.\u0275inj=f.Lb({factory:function(e){return new(e||A)},imports:[[l.c,u.n,b.b,u.A,g.a,p.a,c.c,E.b,d.k.forChild(q)]]}),A)},xDdU:function(e,t,n){var o,r,i=n("4fRq"),a=n("I2ZF"),s=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],d=(e=e||{}).node||o,g=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==g){var p=i();null==d&&(d=o=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==g&&(g=r=16383&(p[6]<<8|p[7]))}var b=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:c+1,m=b-s+(f-c)/1e4;if(m<0&&void 0===e.clockseq&&(g=g+1&16383),(m<0||b>s)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=b,c=f,r=g;var h=(1e4*(268435455&(b+=122192928e5))+f)%4294967296;u[l++]=h>>>24&255,u[l++]=h>>>16&255,u[l++]=h>>>8&255,u[l++]=255&h;var v=b/4294967296*1e4&268435455;u[l++]=v>>>8&255,u[l++]=255&v,u[l++]=v>>>24&15|16,u[l++]=v>>>16&255,u[l++]=g>>>8|128,u[l++]=255&g;for(var y=0;y<6;++y)u[l+y]=d[y];return t||a(u)}},xk4V:function(e,t,n){var o=n("4fRq"),r=n("I2ZF");e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||r(a)}}}])}();