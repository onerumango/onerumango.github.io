{"version":3,"file":"src_app_pages_forgotmpin_forgotmpin_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEJ;AAEnD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,4DAAc;KAC1B;CACF,CAAC;IAMW,2BAA2B,SAA3B,2BAA2B;;AAA3B,2BAA2B;IAJvC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,2BAA2B;AAAA;;;;;;;;;;;;;;;;;;;;;;;;AChBC;AACM;AACmB;AAErB;AAE6B;AAEvB;AAC0B;IAahE,oBAAoB,SAApB,oBAAoB;;AAApB,oBAAoB;IAXhC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,+DAAmB;YACnB,uDAAW;YACX,mFAA2B;YAC3B,uFAAoB;SACrB;QACD,YAAY,EAAE,CAAC,4DAAc,CAAC;KAC/B,CAAC;GACW,oBAAoB;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBiB;AACkB;AACT;AAEV;AACS;AACX;IAOlC,cAAc,SAAd,cAAc;IAIzB,YAAoB,MAAc,EAAU,GAAe,EAAS,SAA0B,EAAU,EAAe;QAAnG,WAAM,GAAN,MAAM,CAAQ;QAAU,QAAG,GAAH,GAAG,CAAY;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAU,OAAE,GAAF,EAAE,CAAa;QAHvH,aAAQ,GAAG,IAAI,uDAAQ,EAAE,CAAC;IAGkG,CAAC;IAE7H,QAAQ;QACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC7B,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;SACrC,CAAC,CAAC;IACL,CAAC;IAED,IAAI;QACF,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IACrC,CAAC;IAED,MAAM,CAAC,KAAK;QACV,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,KAAK,CAAC,OAAO,CAAC;QACjD,MAAM,OAAO,GAAG,mCAAmC,CAAC;QACpD,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;YAC/B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,UAAU,CAAC;YAClC,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,QAAQ,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,KAAK,CAAC,OAAO,CAAC;YAC3C,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC;YAEnC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;;gBAEpD,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;oBACrB,YAAY,CAAC,OAAO,CAAC,kBAAkB,EAAE,eAAG,CAAC,MAAM,CAAC,0CAAE,MAAM,0CAAE,WAAW,CAAC,CAAC;oBAC3E,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,SAAS,CAAC,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,OAAO,CAAC,CAAC;oBAC7B,MAAM,gBAAgB,GAAqB;wBACzC,WAAW,EAAE;4BACX,YAAY,EAAE,YAAY;yBAC3B;qBACF,CAAC;oBACF,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC;oBACxC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;iBACxB;qBAAM;oBACL,IAAI,CAAC,SAAS,CAAC,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,OAAO,CAAC,CAAC;iBAC9B;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC;SAC5C;IACH,CAAC;IACK,SAAS,CAAC,OAAO;;YACrB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,OAAO,EAAE,GAAG,OAAO,EAAE;gBACrB,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,QAAQ;aACnB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;;;;;;;;AArDU,cAAc;IAL1B,wDAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,uEAAqC;;KAEtC,CAAC;GACW,cAAc;AAAA","sources":["./src/app/pages/forgotmpin/forgotmpin-routing.module.ts","./src/app/pages/forgotmpin/forgotmpin.module.ts","./src/app/pages/forgotmpin/forgotmpin.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ForgotmpinPage } from './forgotmpin.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ForgotmpinPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ForgotmpinPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ForgotmpinPageRoutingModule } from './forgotmpin-routing.module';\r\n\r\nimport { ForgotmpinPage } from './forgotmpin.page';\r\nimport { SharedMaterialModule } from 'src/app/shared/shared-material.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    ForgotmpinPageRoutingModule,\r\n    SharedMaterialModule\r\n  ],\r\n  declarations: [ForgotmpinPage]\r\n})\r\nexport class ForgotmpinPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Router, NavigationExtras } from '@angular/router';\r\n\r\nimport { ToastController } from '@ionic/angular';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { otpModel } from '../login/login.page';\r\n\r\n@Component({\r\n  selector: 'app-forgotmpin',\r\n  templateUrl: './forgotmpin.page.html',\r\n  styleUrls: ['./forgotmpin.page.scss'],\r\n})\r\nexport class ForgotmpinPage implements OnInit {\r\n  oTpModel = new otpModel();\r\n  customerPhonenum: string;\r\n  loginForm: FormGroup;\r\n  constructor(private router: Router, private api: ApiService, public toastCtrl: ToastController, private fb: FormBuilder,) { }\r\n\r\n  ngOnInit() {\r\n    this.loginForm = this.fb.group({\r\n      phoneNo: ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  back() {\r\n    this.router.navigateByUrl('/mpin');\r\n  }\r\n\r\n  getOtp(phone) {\r\n    console.log(this.customerPhonenum, phone.phoneNo)\r\n    const pattern = /^([\\+0-9]{3}[0-9]{10}|[0-9]{10})$/;\r\n    if (pattern.test(phone.phoneNo)) {\r\n      this.oTpModel.source = 'customer';\r\n      this.oTpModel.source_key = 'mobile';\r\n      this.oTpModel.source_value = phone.phoneNo;\r\n      this.oTpModel.isMobileLogin = true;\r\n      \r\n      this.api.getOtp(this.oTpModel).subscribe((res: any) => {\r\n\r\n        if (res.status == 200) {\r\n          localStorage.setItem('customerPhonenum', res['data']?.otpVal?.sourceValue);\r\n          this.router.navigate(['otp']);\r\n          this.openToast(res?.message);\r\n          const navigationExtras: NavigationExtras = {\r\n            queryParams: {\r\n              'screenName': 'forgotmpin'\r\n            },\r\n          };\r\n          this.api.sendNavParam(navigationExtras);\r\n          this.loginForm.reset();\r\n        } else {\r\n          this.openToast(res?.message);\r\n        }\r\n      });\r\n    } else {\r\n      this.openToast('Enter valid phone number');\r\n    }\r\n  }\r\n  async openToast(message) {\r\n    const toast = await this.toastCtrl.create({\r\n      message: `${message}`,\r\n      duration: 2500,\r\n      position: 'bottom',\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}