{"version":3,"file":"src_app_pages_v2_kyc-video_kyc-video_module_ts.js","mappings":"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","sources":["./src/app/pages/v2/kyc-video/kyc-video-routing.module.ts","./src/app/pages/v2/kyc-video/kyc-video.module.ts","./src/app/pages/v2/kyc-video/kyc-video.page.ts","./src/app/pages/v2/kyc-video/kyc-video.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { KycVideoPage } from './kyc-video.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: KycVideoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class KycVideoPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { KycVideoPageRoutingModule } from './kyc-video-routing.module';\r\n\r\nimport { KycVideoPage } from './kyc-video.page';\r\nimport { NgxFlagPickerModule } from 'ngx-flag-picker';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { DirectiveModule } from 'src/app/directives/directive.module';\r\nimport { SharedMaterialModule } from 'src/app/shared/shared-material.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    NgxFlagPickerModule,\r\n    ComponentsModule,\r\n    DirectiveModule,\r\n    SharedMaterialModule,\r\n    KycVideoPageRoutingModule\r\n  ],\r\n  declarations: [KycVideoPage],\r\n  providers:[DatePipe]\r\n})\r\nexport class KycVideoPageModule {}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { DatePipe, Location } from '@angular/common';\r\nimport { VideoService } from './kyc-video.service';\r\nimport { TransactionDateComponent } from 'src/app/components/transaction-date/transaction-date.component';\r\nimport { TimeSlotsComponent } from 'src/app/components/time-slots/time-slots.component';\r\n\r\nimport { IcustCustomerVideoVerification } from './kyv-video';\r\nimport { BranchService } from '../kyc-branch/kyc-branch.service';\r\nimport { TokenV2Page } from '../../token-v2/token-v2.page';\r\nimport { VerificationModalComponent } from 'src/app/components/verification-modal/verification-modal.component';\r\n\r\n@Component({\r\n  selector: 'app-kyc-video',\r\n  templateUrl: './kyc-video.page.html',\r\n  styleUrls: ['./kyc-video.page.scss'],\r\n  providers: [DatePipe],\r\n})\r\nexport class KycVideoPage implements OnInit {\r\n  @Input() defaultValues: Partial<any>;\r\n  // svg icons links\r\n  deleteIcon = 'assets/icon/delete.svg';\r\n  editIcon = 'assets/icon/edit.svg';\r\n\r\n  // selected value of segment tab\r\n  selectedTab: string = 'BASIC-INFO';\r\n\r\n  selectedOptionValue;\r\n  icustCustVideoVerifyDto: IcustCustomerVideoVerification;\r\n  prefixSelectedValue;\r\n  genderSelectedValue;\r\n  maritalStatusSelectedValue;\r\n  nationalityStatusSelectedValue;\r\n  resTypeSelectedValue;\r\n  countrySelectedValue;\r\n  stateSelectedValue;\r\n  citySelectedValue;\r\n\r\n  basicInfoForm: FormGroup;\r\n  scheduleForm: FormGroup;\r\n\r\n  buttonDisabled = true;\r\n\r\n  selectedTime;\r\n\r\n  toggleArr: any[] = [\r\n    {\r\n      id: 1,\r\n      checked: true,\r\n      name: 'Auto',\r\n    },\r\n    {\r\n      id: 2,\r\n      checked: false,\r\n      name: 'Manual',\r\n    },\r\n  ];\r\n\r\n  permanentAddress: FormGroup;\r\n  customerId: any;\r\n  selectedData: any;\r\n  basicInfoData: any;\r\n  scheduleButtonDisable: boolean = true;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private router: Router,\r\n    private modalCtrl: ModalController,\r\n    private _location: Location,\r\n    private videoService: VideoService,\r\n    private branchService: BranchService,\r\n    private datePipe: DatePipe\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.createForm();\r\n    this.buildScheduleForm();\r\n    this.permanentAddress = this.fb.group({});\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.openDialog();\r\n  }\r\n\r\n  createForm() {\r\n    this.basicInfoForm = this.fb.group({\r\n      customerId: [''],\r\n      firstName: ['', [Validators.required]],\r\n      middleName: [''],\r\n      lastName: ['', [Validators.required]],\r\n      gender: ['', [Validators.required]],\r\n      maritalStatus: ['', [Validators.required]],\r\n      nationality: ['', [Validators.required]],\r\n      residenceType: [''],\r\n      primaryEmailAdress: [\r\n        '',\r\n        [\r\n          Validators.required,\r\n          Validators.pattern(\r\n            '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,4}$'\r\n          ),\r\n        ],\r\n      ],\r\n      phoneNumber: [\r\n        '',\r\n        [Validators.required, Validators.pattern('^((\\\\+91-?)|0)?[0-9]{10}$')],\r\n      ],\r\n      userAddress: this.fb.array([this.addAddressForm('Communication')]),\r\n    });\r\n  }\r\n  get userAddresses(): FormArray {\r\n    return this.basicInfoForm.get('userAddress') as FormArray;\r\n  }\r\n\r\n  addAddressForm(addressType) {\r\n    return this.fb.group({\r\n      addressType: [addressType],\r\n      address1: ['', [Validators.required]],\r\n      address2: ['', [Validators.required]],\r\n      residenceType: ['', [Validators.required]],\r\n      country: ['', [Validators.required]],\r\n      zipCode: ['', [Validators.required]],\r\n      state: ['', [Validators.required]],\r\n      city: ['', [Validators.required]],\r\n    });\r\n  }\r\n  onClick(evt) {\r\n    if (evt.value == 'No') {\r\n      this.userAddresses.push(this.addAddressForm('Permanent'));\r\n    } else {\r\n      this.userAddresses.removeAt(1);\r\n    }\r\n  }\r\n\r\n  // form builder for schedule appointment\r\n  buildScheduleForm() {\r\n    this.scheduleForm = this.fb.group({\r\n      scheduledDate: ['', [Validators.required]],\r\n      scheduledTime: ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  // time slots\r\n  async openTimeSlot() {\r\n    let modal = await this.modalCtrl.create({\r\n      component: TimeSlotsComponent,\r\n      componentProps: {\r\n        date: this.scheduleForm.value.scheduledDate,\r\n      },\r\n    });\r\n\r\n    modal.onDidDismiss().then((res) => {\r\n      console.log('Getting Back Data', res);\r\n      this.scheduleForm.get('scheduledTime').setValue(res?.data.form);\r\n      this.selectedData = res?.data.payload;\r\n      console.log(this.scheduleForm);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  getBasicInfo(event) {\r\n    console.log('output from getBasicInfo() of kyc-video: ', event);\r\n    // console.log(this.basicInfoData.data.customerId)\r\n    // console.log(this.basicInfoData.customerId)\r\n\r\n    if (event) {\r\n      this.selectedTab = 'SCHEDULE';\r\n      this.scheduleButtonDisable = false;\r\n      this.basicInfoData = event;\r\n      this.customerId = this.basicInfoData.customerId;\r\n      console.log(this.basicInfoData)\r\n      console.log(this.basicInfoData.data.customerId)\r\n    }\r\n  }\r\n\r\n  goToNextTab(selectedTab: string) {\r\n    console.log(selectedTab);\r\n    let payload = {\r\n      phoneNumber: this.basicInfoForm.value.phoneNumber,\r\n      primaryEmailAdress: this.basicInfoForm.value.primaryEmailAdress,\r\n    };\r\n    this.videoService.fetchCustomerDetails(payload).subscribe((res) => {\r\n      console.log(res);\r\n      if (res) {\r\n        this.saveCustomerData();\r\n        this.selectedTab = 'SCHEDULE';\r\n        this.scheduleButtonDisable = false;\r\n      } else {\r\n        this.selectedTab = 'SCHEDULE';\r\n      }\r\n    });\r\n  }\r\n\r\n  saveCustomerData() {\r\n    let payload = this.basicInfoForm.value;\r\n    payload.verificationType = 'KYC';\r\n    console.log(payload);\r\n\r\n    this.videoService.upsertCustomer(payload).subscribe((res) => {\r\n      this.customerId = res.customerId;\r\n      this.basicInfoForm.get('customerId').setValue(res.customerId);\r\n    });\r\n  }\r\n\r\n  goToPrevious(selectedTab: string) {\r\n    this.selectedTab = selectedTab;\r\n  }\r\n\r\n  backToDashboard() {\r\n    this.router.navigate(['dashboard']);\r\n  }\r\n\r\n  goBack() {\r\n    this._location.back();\r\n  }\r\n\r\n  finish() {\r\n    console.log('called');\r\n    // this.icustCustVideoVerifyDto = this.basicInfoData;\r\n    // let date = this.scheduleForm.get('scheduleDate').value;\r\n\r\n    // let format = this.datePipe.transform(date, 'yyyy-MM-dd');\r\n    // this.icustCustVideoVerifyDto.scheduledDate = format;\r\n    // this.icustCustVideoVerifyDto.scheduledTime = this.selectedData;\r\n    // this.icustCustVideoVerifyDto.tellerId = 1;\r\n    // this.icustCustVideoVerifyDto.loggedInUser = 1;\r\n    // console.log(this.icustCustVideoVerifyDto);\r\n\r\n    // this.videoService\r\n    //   .saveCustBasicInfoData(this.icustCustVideoVerifyDto)\r\n    //   .subscribe((data) => {\r\n    //     console.log(data);\r\n    //     if (data) {\r\n    //       this.videoService\r\n    //         .scheduleAppointment(this.customerId, 'INITIATED', '')\r\n    //         .subscribe((res) => {\r\n    //           if (res) {\r\n    //             data.kycReference = res.kycReference;\r\n    //             this.openScheduleModal(data);\r\n    //           }\r\n    //         });\r\n    //     }\r\n    //   });\r\n    let resData = {...this.basicInfoData.data}\r\n    let time = this.scheduleForm.get('scheduledTime').value\r\n    let formattedDate: string[] = [];\r\n    formattedDate.push(time)\r\n\r\n    let payload = {\r\n      scheduledDate: this.scheduleForm.get('scheduledDate').value,\r\n      scheduledTime: formattedDate,\r\n      expiryTime: '',\r\n      generatedLink: '',\r\n      status: '',\r\n      customerId: resData.customerId,\r\n      prefix: resData.prefix,\r\n      firstName: resData.firstName,\r\n      lastName: resData.lastName,\r\n      mobile: resData.contact.mobile,\r\n      email: resData.contact.email,\r\n    };\r\n\r\n    console.log('basicInfoData: ',this.basicInfoData)\r\n    console.log(payload);\r\n    console.log('resData: ', resData)\r\n    console.log(time)\r\n    console.log(formattedDate)\r\n    this.videoService.scheduleAppointment(payload).subscribe((res) => {\r\n      if (res) {\r\n        // data.kycReference = res.kycReference;\r\n        this.openScheduleModal(res.data);\r\n      }\r\n    });\r\n  }\r\n\r\n  async openScheduleModal(data) {\r\n    let modal = await this.modalCtrl.create({\r\n      component: TokenV2Page,\r\n      componentProps: {\r\n        scheduleInfo: data,\r\n        screen: 'mobile-kyc',\r\n        screenType: 'video',\r\n        txntitle: 'KYC Video Verification',\r\n      },\r\n    });\r\n\r\n    modal.onDidDismiss().then((res) => {\r\n      this.router.navigate(['kyc']);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  async openDialog() {\r\n    let modal = await this.modalCtrl.create({\r\n      component: VerificationModalComponent,\r\n      componentProps: {\r\n        screen: 'video',\r\n      },\r\n    });\r\n\r\n    modal.onDidDismiss().then((res) => {\r\n      console.log('Getting Back Data', res);\r\n      this.basicInfoData = res?.data?.customerData;\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  datePopup() {\r\n    this.modalCtrl\r\n      .create({\r\n        component: TransactionDateComponent,\r\n      })\r\n      .then((modalResp) => {\r\n        modalResp.present();\r\n        modalResp.onDidDismiss().then((res) => {\r\n          console.log(res, 'after dismiss');\r\n          this.scheduleForm.get('scheduledDate').setValue(res?.data);\r\n        });\r\n      });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { BehaviorSubject } from 'rxjs';\r\nexport const API_URL = environment.BASE_URL;\r\nconst MICROSERVICE_URL = environment.microServiceURL;\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class VideoService {\r\n  constructor(private httpClient: HttpClient) {}\r\n\r\n  fetchCustomerDetails(payload: any) {\r\n    return this.httpClient.post<any>(\r\n      `${API_URL}/customerdata/phoneNoEmailIdExists`,\r\n      payload\r\n    );\r\n  }\r\n\r\n  upsertCustomer(data: object) {\r\n    return this.httpClient.post<any>(\r\n      `${API_URL}/customerdata/upsertCustomerDetails`,\r\n      data\r\n    );\r\n  }\r\n\r\n  updateKyc(kycDetails: any) {\r\n    return this.httpClient\r\n      .post<any>(`${API_URL}/customerdata/saveRekycOrAcceptInfo`, kycDetails)\r\n  }\r\n\r\n  saveCustBasicInfoData(icustCustVideoVerifyDto) {\r\n    return this.httpClient.post<any>(\r\n      `${API_URL}/icust-video-verify/save`,\r\n      icustCustVideoVerifyDto\r\n    );\r\n  }\r\n\r\n  scheduleAppointment(payload) {\r\n    return this.httpClient.post<any>(`${MICROSERVICE_URL}/video-verify/save`, payload)\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}