{"version":3,"file":"src_app_pages_v2_customer-onboarding-individual_customer-onboarding-individual_module_ts.js","mappings":"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","sources":["./src/app/pages/v2/customer-onboarding-individual/customer-onboarding-individual-routing.module.ts","./src/app/pages/v2/customer-onboarding-individual/customer-onboarding-individual.module.ts","./src/app/pages/v2/customer-onboarding-individual/customer-onboarding-individual.page.ts","./src/app/pages/v2/customer-onboarding-individual/store.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CustomerOnboardingIndividualPage } from './customer-onboarding-individual.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CustomerOnboardingIndividualPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CustomerOnboardingIndividualPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CustomerOnboardingIndividualPageRoutingModule } from './customer-onboarding-individual-routing.module';\r\n\r\nimport { CustomerOnboardingIndividualPage } from './customer-onboarding-individual.page';\r\nimport { ComponentsModule } from \"../../../components/components.module\";\r\nimport { DirectiveModule } from 'src/app/directives/directive.module';\r\nimport { SharedMaterialModule } from 'src/app/shared/shared-material.module';\r\n\r\n@NgModule({\r\n    declarations: [CustomerOnboardingIndividualPage],\r\n    imports: [\r\n      CommonModule,\r\n      FormsModule,\r\n      ReactiveFormsModule,\r\n        IonicModule,\r\n        DirectiveModule,\r\n        SharedMaterialModule,\r\n        CustomerOnboardingIndividualPageRoutingModule,\r\n        ComponentsModule\r\n    ]\r\n})\r\nexport class CustomerOnboardingIndividualPageModule {}\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport { SegmentTabs, Store } from './store';\r\nimport {\r\n  FormGroup,\r\n  FormBuilder,\r\n  Validators,\r\n  FormArray,\r\n  FormControl,\r\n} from '@angular/forms';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { ImagePopupComponent } from 'src/app/components/image-popup/image-popup.component';\r\nimport { SignPadComponent } from 'src/app/components/sign-pad/sign-pad.component';\r\n// import { ModalController } from '@ionic/angular';\r\nimport { VerificationModalComponent } from 'src/app/components/verification-modal/verification-modal.component';\r\n\r\n@Component({\r\n  selector: 'app-customer-onboarding-individual',\r\n  templateUrl: './customer-onboarding-individual.page.html',\r\n  styleUrls: ['./customer-onboarding-individual.page.scss'],\r\n})\r\nexport class CustomerOnboardingIndividualPage implements OnInit {\r\n\r\n  infoIcon = 'assets/icon/infoIcon-green.svg'\r\n\r\n  isKycStatusVisible: boolean = false;\r\n\r\n  selectedTab: string;\r\n  CategoryForm: FormGroup;\r\n  customerCategorySelectedOption: any\r\n  selectedFile: File;\r\n\r\n  isSignatureDone: boolean = false\r\n\r\n  constructor(private router: Router, private _location: Location, private fb: FormBuilder, private modalCtrl: ModalController) { }\r\n\r\n  @ViewChild('fileInput') fileInput: ElementRef;\r\n\r\n  ngOnInit() {\r\n    this.selectedTab = this.SegmentTabsValues[0].val;\r\n    this.buildDocumentUploadForm();\r\n  }\r\n\r\n\r\n\r\n  SegmentTabsValues: SegmentTabs[] = Store.segmentButtons\r\n  options = ['Rich', 'Poor']\r\n\r\n\r\n  toggleKycStatusComponent(){\r\n    this.isKycStatusVisible = !this.isKycStatusVisible\r\n  }\r\n\r\n  /**\r\n   * CATEGORY form of OTHER INFO segment tab\r\n   */\r\n\r\n  buildDocumentUploadForm() {\r\n    this.CategoryForm = this.fb.group({\r\n      categories: this.fb.array([this.createCategoryItem()]),\r\n    });\r\n  }\r\n\r\n  createCategoryItem() {\r\n    return this.fb.group({\r\n      customerCategory: ['', Validators.required],\r\n      fileName: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  categories(): FormArray {\r\n    return this.CategoryForm.get('categories') as FormArray;\r\n  }\r\n\r\n  addCategoryItem(){\r\n    this.categories().push(this.createCategoryItem())\r\n  }\r\n\r\n  removeCategoryItem(index: number) {\r\n    this.categories().removeAt(index);\r\n  }\r\n\r\n  onFileSelected(event: any) {\r\n    this.selectedFile = event.target.files[0];\r\n  }\r\n  getSelectedImage(): string | ArrayBuffer {\r\n    if (this.selectedFile) {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(this.selectedFile);\r\n      reader.onload = () => {\r\n        return reader.result;\r\n      };\r\n    }\r\n    return '';\r\n  }\r\n\r\n  async openImagePopUp(event){\r\n    this.selectedFile = event.target.files[0];\r\n    const fReader = new FileReader();\r\n    fReader.readAsDataURL(this.selectedFile);\r\n    fReader.onloadend = async (_event: any) => {\r\n      let filename = this.selectedFile.name;\r\n      let base64File = _event.target.result;\r\n      // let base64File = await new Promise((resolve) => {\r\n      //   _event.target.onloadend = () => resolve(_event.target.result);\r\n      // });\r\n      console.log('Uploaded File name: ', filename);\r\n\r\n      try {\r\n        let modal = await this.modalCtrl.create({\r\n          component: ImagePopupComponent,\r\n\r\n          componentProps: {\r\n            image: base64File,\r\n            imgTitle: filename\r\n          },\r\n        });\r\n\r\n        modal.onDidDismiss().then((res) => {\r\n\r\n        });\r\n\r\n        return await modal.present();\r\n\r\n      } catch (error) {\r\n        console.error('File upload error:', error);\r\n      }\r\n\r\n\r\n    };\r\n\r\n  }\r\n\r\n  // MANDATE POPUP\r\n\r\n  async openDigitalSignPad(){\r\n    let modal = await this.modalCtrl.create({\r\n      component: SignPadComponent,\r\n\r\n      componentProps: {\r\n\r\n      },\r\n    });\r\n\r\n    modal.onDidDismiss().then(() => {\r\n      this.isSignatureDone = true\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  deleteSign(){\r\n    this.isSignatureDone = false\r\n  }\r\n\r\n  goBack(){\r\n    this._location.back()\r\n  }\r\n  ionViewWillEnter() {\r\n    this.openDialog();\r\n  }\r\n  async openDialog() {\r\n    let modal = await this.modalCtrl.create({\r\n      component: VerificationModalComponent,\r\n      componentProps: {\r\n        data: '',\r\n        screen: 'individual',\r\n      },\r\n    });\r\n\r\n    modal.onDidDismiss().then((res) => {\r\n      console.log('Getting Back Data', res);\r\n      // if (res?.data?.customerData) {\r\n      //   // this.basicInfoForm.patchValue(res?.data?.customerData);\r\n      //   this.basicInfoData = res?.data?.customerData;\r\n      // }\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  /**\r\n   * Got to previous tab in segment menu\r\n   * @param index number of the tab as per it is mapped in the store.ts\r\n   */\r\n\r\n  goToPreviousTab(index: number){\r\n    if(index !== 0) this.selectedTab = this.SegmentTabsValues[index - 1].val;\r\n\r\n  }\r\n}\r\n","export interface SegmentTabs{\r\n  idx: number,\r\n  title: string,\r\n  val: string\r\n}\r\n\r\nexport class Store{\r\n  static segmentButtons: SegmentTabs[] = [\r\n    {\r\n      idx: 0,\r\n      title: 'Primary Information',\r\n      val: 'PRIMARY-INFO'\r\n    },\r\n    {\r\n      idx: 1,\r\n      title: 'Proof Of Identity',\r\n      val: 'POI'\r\n    },\r\n    {\r\n      idx: 2,\r\n      title: 'Other Information',\r\n      val: 'OTHER-INFO'\r\n    },\r\n    {\r\n      idx: 3,\r\n      title: 'Professional Information',\r\n      val: 'PROF-INFO'\r\n    },\r\n    {\r\n      idx: 4,\r\n      title: 'Financial Details',\r\n      val: 'FIN-DETAILS'\r\n    },\r\n    {\r\n      idx: 5,\r\n      title: 'Mandate',\r\n      val: 'MANDATE'\r\n    }\r\n  ]\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}