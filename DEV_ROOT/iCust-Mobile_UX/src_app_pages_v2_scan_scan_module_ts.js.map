{"version":3,"file":"src_app_pages_v2_scan_scan_module_ts.js","mappings":"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","sources":["./src/app/components/crop/crop.component.ts","./src/app/components/scan-doc/scan-doc.component.ts","./src/app/pages/v2/scan/scan-routing.module.ts","./src/app/pages/v2/scan/scan.module.ts","./src/app/pages/v2/scan/scan.page.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { DocScannerConfig } from 'ngx-document-scanner';\r\n\r\n@Component({\r\n  selector: 'app-crop',\r\n  templateUrl: './crop.component.html',\r\n  styleUrls: ['./crop.component.scss'],\r\n})\r\nexport class CropComponent implements OnInit {\r\n @Input() file:any;\r\n @Input() frontFile:any\r\n  constructor(private modalCtrl:ModalController) { }\r\n  config: DocScannerConfig = {  \r\n    editorBackgroundColor: '#fafafa', \r\n    buttonThemeColor: 'primary',  \r\n    cropToolColor: '#ff4081',  \r\n    cropToolShape: 'circle',\r\n    exportImageIcon: 'cloud_download'  \r\n};\r\n  ngOnInit() {\r\n    console.log()\r\n  }\r\n\r\n\r\n  editResult(event){\r\n    console.log(event);\r\n    this.modalCtrl.dismiss(event);\r\n  }\r\n  onError(event){\r\n    console.log(event);\r\n  }\r\n  editorState(event){\r\n    console.log(event);\r\n  }\r\n  exitEditor(event){\r\n    console.log(event);    \r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { DocScannerConfig } from 'ngx-document-scanner';\r\nimport { WebcamImage, WebcamInitError } from 'ngx-webcam';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { CropComponent } from '../crop/crop.component';\r\nimport { HttpEventType, HttpResponse } from '@angular/common/http';\r\n@Component({\r\n  selector: 'app-scan-doc',\r\n  templateUrl: './scan-doc.component.html',\r\n  styleUrls: ['./scan-doc.component.scss'],\r\n})\r\nexport class ScanDocComponent implements OnInit {\r\n  image: string | ArrayBuffer;\r\n  selectedImage: string | ArrayBuffer;\r\n\r\n  constructor(private modalController: ModalController) {}\r\n  // @Input() screenData:any\r\n  [x: string]: any;\r\n  private trigger: Subject<any> = new Subject();\r\n  public webcamImage!: WebcamImage;\r\n  private nextWebcam: Subject<any> = new Subject();\r\n  sysImage = '';\r\n  error?: string;\r\n  isDone: boolean = false;\r\n\r\n  ngOnInit() {}\r\n  config: DocScannerConfig = {\r\n    editorBackgroundColor: '#fafafa',\r\n    buttonThemeColor: 'primary',\r\n    cropToolColor: '#ff4081',\r\n    cropToolShape: 'circle',\r\n    exportImageIcon: 'cloud_download',\r\n  };\r\n  uploadImg(event) {\r\n    let selectedFile = event.target.files[0];\r\n    this.image = selectedFile;\r\n    let fileReader = new FileReader();\r\n    fileReader.readAsDataURL(selectedFile);\r\n    fileReader.onload = (_event) => {\r\n      this.selectedImage = fileReader.result;\r\n    };\r\n  }\r\n  public captureImg(webcamImage: WebcamImage): void {\r\n    this.webcamImage = webcamImage;\r\n    this.sysImage = webcamImage!.imageAsDataUrl;\r\n    console.info('got webcam image', this.sysImage);\r\n    this.isDone = true;\r\n    this.file = this.DataURIToBlob(this.sysImage)\r\n    // this.openDocuemntCropModal(this.DataURIToBlob(this.sysImage));\r\n  }\r\n  public get invokeObservable(): Observable<any> {\r\n    return this.trigger.asObservable();\r\n  }\r\n  public get nextWebcamObservable(): Observable<any> {\r\n    return this.nextWebcam.asObservable();\r\n  }\r\n  public handleInitError(error: WebcamInitError): void {\r\n    this.errors.push(error);\r\n  }\r\n\r\n\r\n  public getSnapshot(): void {\r\n    this.trigger.next();\r\n  }\r\n\r\n  back() {\r\n    this.modalController.dismiss();\r\n  }\r\n  closeModal() {\r\n    this.modalController.dismiss();\r\n  }\r\n  retake() {\r\n    this.webcamImage = null;\r\n    this.sysImage = null;\r\n    this.isDone = false;\r\n  }\r\n\r\n  async openDocuemntCropModal(file) {\r\n    let modal = await this.modalController.create({\r\n      component: CropComponent,\r\n      componentProps: {\r\n        file: file,\r\n      },\r\n    });\r\n    modal.onDidDismiss().then((res) => {\r\n      console.log('Getting Back Data', res);\r\n      let fr = new FileReader();\r\n      fr.readAsDataURL(res?.data);\r\n      fr.onload = (_event) => {\r\n        this.cropImage = _event.target.result;\r\n        this.fileUpload(this.cropImage)\r\n      };\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n  onSubmit(){\r\n    this.modalController.dismiss({\r\n      resImage:this.sysImage,\r\n      file:this.file\r\n    });}\r\n\r\n    DataURIToBlob(dataURI: string) {\r\n      const splitDataURI = dataURI.split(',');\r\n\r\n      const byteString =\r\n        splitDataURI[0].indexOf('base64') >= 0\r\n          ? atob(splitDataURI[1])\r\n          : decodeURI(splitDataURI[1]);\r\n\r\n      const mimeString = splitDataURI[0].split(':')[1].split(';')[0];\r\n\r\n      const ia = new Uint8Array(byteString.length);\r\n\r\n      for (let i = 0; i < byteString.length; i++)\r\n        ia[i] = byteString.charCodeAt(i);\r\n\r\n      return new Blob([ia], { type: mimeString });\r\n    }\r\n\r\n    editResult(event){\r\n      console.log(event);\r\n    }\r\n    onError(event){\r\n      console.log(event);\r\n    }\r\n    editorState(event){\r\n      console.log(event);\r\n    }\r\n    exitEditor(event){\r\n      console.log(event);    \r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ScanPage } from './scan.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ScanPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ScanPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ScanPageRoutingModule } from './scan-routing.module';\r\n\r\nimport { ScanPage } from './scan.page';\r\nimport { SharedMaterialModule } from 'src/app/shared/shared-material.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedMaterialModule,\r\n    ScanPageRoutingModule\r\n  ],\r\n  declarations: [ScanPage]\r\n})\r\nexport class ScanPageModule {}\r\n","import { Location } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { CropComponent } from 'src/app/components/crop/crop.component';\r\nimport { ScanDocComponent } from 'src/app/components/scan-doc/scan-doc.component';\r\nimport { ApiService } from 'src/app/services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-scan',\r\n  templateUrl: './scan.page.html',\r\n  styleUrls: ['./scan.page.scss'],\r\n})\r\nexport class ScanPage implements OnInit {\r\n  frontScanImage: any \r\n  backScanImage: any\r\n  chequeData: any;\r\n  constructor(\r\n    private router: Router,\r\n    private location: Location,\r\n    private modalCtrl: ModalController,\r\n    private api: ApiService\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  goBack() {\r\n    this.location.back();\r\n  }\r\n  async openScanner(side:string) {\r\n    let modal = await this.modalCtrl.create({\r\n      component: ScanDocComponent,\r\n      backdropDismiss: true,\r\n    });\r\n\r\n    modal.onDidDismiss().then((res) => {\r\n      console.log('Getting Back Data', res);\r\n      const fReader = new FileReader()\r\n      fReader.readAsDataURL(res?.data?.file)\r\n      fReader.onloadend = (_event: any) => {\r\n        if(side == 'front'){\r\n          this.frontScanImage = _event.target.result;\r\n        }\r\n        else{\r\n          this.backScanImage = _event.target.result;\r\n        }\r\n      }\r\n      this.readChequeData(res?.data?.file);\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n  readChequeData(file) {\r\n    const formData = new FormData();\r\n    formData.append('file', file, 'image.jpg');\r\n    this.api.getChequeData(formData).subscribe((res) => {\r\n      let cheque: any = {};\r\n      res.data.forEach((d) => {\r\n        cheque[d.label] = d.value;\r\n      });\r\n      this.chequeData = cheque;\r\n    });\r\n  }\r\n\r\n  DataURIToBlob(dataURI: string) {\r\n    const splitDataURI = dataURI.split(',');\r\n    const byteString =\r\n      splitDataURI[0].indexOf('base64') >= 0\r\n        ? atob(splitDataURI[1])\r\n        : decodeURI(splitDataURI[1]);\r\n    const mimeString = splitDataURI[0].split(':')[1].split(';')[0];\r\n    const ia = new Uint8Array(byteString.length);\r\n    for (let i = 0; i < byteString.length; i++)\r\n      ia[i] = byteString.charCodeAt(i);\r\n    return new Blob([ia], { type: mimeString });\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}