!function(){"use strict";function e(e,i){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,i)}(e))||i&&e&&"number"==typeof e.length){r&&(e=r);var c=0,n=function(){};return{s:n,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw s}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkmedian=self.webpackChunkmedian||[]).push([[45],{17988:function(e,t,i){i.d(t,{G:function(){return c},T:function(){return s}});var r=i(37716),c=function(){function e(e,t,i){this.el=e,this.vcr=t,this.renderer=i,this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=this;this.dtTrigger?this.dtTrigger.subscribe(function(t){e.displayTable(t)}):this.displayTable(null)},e.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},e.prototype.displayTable=function(e){var t=this;e&&(this.dtOptions=e),this.dtInstance=new Promise(function(e,i){Promise.resolve(t.dtOptions).then(function(r){0===Object.keys(r).length&&0===$("tbody tr",t.el.nativeElement).length?i("Both the table and dtOptions cannot be empty"):setTimeout(function(){var i={rowCallback:function(e,i,c){if(r.columns){var n=r.columns;t.applyNgPipeTransform(e,n),t.applyNgRefTemplate(e,n,i)}r.rowCallback&&r.rowCallback(e,i,c)}};i=Object.assign({},r,i),t.dt=$(t.el.nativeElement).DataTable(i),e(t.dt)})})})},e.prototype.applyNgPipeTransform=function(e,t){t.filter(function(e){return e.ngPipeInstance&&!e.ngTemplateRef}).forEach(function(i){var r=i.ngPipeInstance,c=t.findIndex(function(e){return e.data===i.data}),n=e.childNodes.item(c),s=$(n).text(),o=r.transform(s);$(n).text(o)})},e.prototype.applyNgRefTemplate=function(e,t,i){var r=this;t.filter(function(e){return e.ngTemplateRef&&!e.ngPipeInstance}).forEach(function(c){var n=c.ngTemplateRef,s=n.ref,o=n.context,l=t.findIndex(function(e){return e.data===c.data}),u=e.childNodes.item(l);$(u).html("");var a=Object.assign({},o,null==o?void 0:o.userData,{adtData:i}),h=r.vcr.createEmbeddedView(s,a);r.renderer.appendChild(u,h.rootNodes[0])})},e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),e}(),n=i(38583),s=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[n.ez]]}),e}()},52045:function(t,r,n){n.r(r),n.d(r,{InitiateAccountClosureModule:function(){return ue}});var s=n(38583),o=n(39895),l=n(50215),u=n(3679),a=n(79765),h=function(){function e(){i(this,e)}return c(e,[{key:"map",value:function(e){throw new Error("Method not implemented.")}}]),e}(),g=n(35383),f=n(88259),d=n.n(f),S=n(37716),p=n(60965),m=n(80463),v=n(77382);function T(e,t){1&e&&(S.TgZ(0,"div"),S._uU(1," Please Select Account Type "),S.qZA())}function U(e,t){if(1&e&&(S.TgZ(0,"div",23),S.YNc(1,T,2,0,"div",24),S.qZA()),2&e){var i=S.oxw();S.xp6(1),S.Q6J("ngIf",i.accountClosureForm.get("accountType").errors.required)}}function y(e,t){1&e&&(S.TgZ(0,"div"),S._uU(1," Please Enter Account Number "),S.qZA())}function Z(e,t){if(1&e&&(S.TgZ(0,"div",23),S.YNc(1,y,2,0,"div",24),S.qZA()),2&e){var i=S.oxw(2);S.xp6(1),S.Q6J("ngIf",i.accountClosureForm.get("accountNumber").errors.required)}}function A(e,t){if(1&e&&(S.TgZ(0,"div",6),S.TgZ(1,"label",14),S._uU(2,"Account Number"),S.TgZ(3,"span",15),S._uU(4,"*"),S.qZA(),S.qZA(),S._UZ(5,"input",25),S.YNc(6,Z,2,1,"div",21),S.qZA()),2&e){var i=S.oxw();S.xp6(5),S.Q6J("readonly",i.editFlag),S.xp6(1),S.Q6J("ngIf",i.accountClosureForm.get("accountNumber").invalid&&(i.accountClosureForm.get("accountNumber").dirty||i.accountClosureForm.get("accountNumber").touched))}}function C(e,t){1&e&&(S.TgZ(0,"div"),S._uU(1," Please Enter Branch Code "),S.qZA())}function b(e,t){if(1&e&&(S.TgZ(0,"div",23),S.YNc(1,C,2,0,"div",24),S.qZA()),2&e){var i=S.oxw(2);S.xp6(1),S.Q6J("ngIf",i.accountClosureForm.get("branchCode").errors.required)}}function q(e,t){if(1&e&&(S.TgZ(0,"div",6),S.TgZ(1,"label",14),S._uU(2,"Branch Code"),S.TgZ(3,"span",15),S._uU(4,"*"),S.qZA(),S.qZA(),S._UZ(5,"input",26),S.YNc(6,b,2,1,"div",21),S.qZA()),2&e){var i=S.oxw();S.xp6(5),S.Q6J("readonly",i.editFlag),S.xp6(1),S.Q6J("ngIf",i.accountClosureForm.get("branchCode").invalid&&(i.accountClosureForm.get("branchCode").dirty||i.accountClosureForm.get("branchCode").touched))}}function k(e,t){1&e&&(S.TgZ(0,"div"),S._uU(1," Please Enter Reason For Closure "),S.qZA())}function N(e,t){if(1&e&&(S.TgZ(0,"div",23),S.YNc(1,k,2,0,"div",24),S.qZA()),2&e){var i=S.oxw(2);S.xp6(1),S.Q6J("ngIf",i.accountClosureForm.get("reasonForClosure").errors.required)}}function x(e,t){if(1&e&&(S.TgZ(0,"div",6),S.TgZ(1,"label",14),S._uU(2,"Reason For Closure"),S.TgZ(3,"span",15),S._uU(4,"*"),S.qZA(),S.qZA(),S._UZ(5,"input",27),S.YNc(6,N,2,1,"div",21),S.qZA()),2&e){var i=S.oxw();S.xp6(5),S.Q6J("readonly",i.editFlag),S.xp6(1),S.Q6J("ngIf",i.accountClosureForm.get("reasonForClosure").invalid&&(i.accountClosureForm.get("reasonForClosure").dirty||i.accountClosureForm.get("reasonForClosure").touched))}}var w=function(e){return{"--display":e}};function O(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",6),S.TgZ(1,"div",28),S.TgZ(2,"div",29),S.TgZ(3,"div",30),S.TgZ(4,"input",31),S.NdJ("change",function(e){return S.CHM(i),S.oxw().selectFile(e)}),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&e){var r=S.oxw();S.xp6(3),S.Akn(S.VKq(5,w,r.fileName?"none":"flex")),S.uIk("data-text",r.fetchUserSingle.fileName?r.fetchUserSingle.fileName:r.fileName?r.fileName:"Upload File"),S.xp6(1),S.Q6J("readonly",r.editFlag)("disabled",r.accountClosureForm.disabled)}}function I(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",34),S.TgZ(1,"button",37),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).onSubmitFile()}),S._uU(2,"Submit File"),S.qZA(),S.qZA()}if(2&e){var r=S.oxw(2);S.xp6(1),S.Q6J("disabled",r.submitFile&&r.accountClosureForm.controls.accountType.invalid)}}function F(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",34),S.TgZ(1,"button",37),S.NdJ("click",function(e){return S.CHM(i),S.oxw(2).onSubmitSingle(e)}),S._uU(2,"Submit"),S.qZA(),S.qZA()}if(2&e){var r=S.oxw(2);S.xp6(1),S.Q6J("disabled",r.accountClosureForm.invalid)}}function P(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",6),S.TgZ(1,"div",32),S.YNc(2,I,3,1,"div",33),S.YNc(3,F,3,1,"div",33),S.TgZ(4,"div",34),S.TgZ(5,"button",35),S.NdJ("click",function(){return S.CHM(i),S.oxw().generateExcel()}),S._uU(6,"View Report"),S.qZA(),S.qZA(),S.TgZ(7,"div",34),S.TgZ(8,"button",36),S._uU(9,"Exit"),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&e){var r=S.oxw();S.xp6(2),S.Q6J("ngIf",!r.singleCall),S.xp6(1),S.Q6J("ngIf",r.singleCall)}}function B(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",34),S.TgZ(1,"button",38),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).editValues()}),S._uU(2," Edit"),S.qZA(),S.qZA()}}function _(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",34),S.TgZ(1,"button",37),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).onSubmitFile()}),S._uU(2,"Submit File"),S.qZA(),S.qZA()}if(2&e){var r=S.oxw(2);S.xp6(1),S.Q6J("disabled",r.submitFile&&r.accountClosureForm.controls.accountType.invalid)}}function E(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",34),S.TgZ(1,"button",37),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).onSubmitOfSingleClosure()}),S._uU(2,"Submit"),S.qZA(),S.qZA()}if(2&e){var r=S.oxw(2);S.xp6(1),S.Q6J("disabled",r.accountClosureForm.invalid)}}function J(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",34),S.TgZ(1,"button",39),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).onclickOfAuth()}),S._uU(2),S.qZA(),S.qZA()}if(2&e){var r=S.oxw(2);S.xp6(2),S.hij(" ",r.roleCodes.auth.labelDescription,"")}}function D(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",34),S.TgZ(1,"button",35),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).onclickOfReopen()}),S._uU(2),S.qZA(),S.qZA()}if(2&e){var r=S.oxw(2);S.xp6(2),S.hij(" ",r.roleCodes.reopen.labelDescription,"")}}function Y(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",34),S.TgZ(1,"button",35),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).onclickOfClose()}),S._uU(2),S.qZA(),S.qZA()}if(2&e){var r=S.oxw(2);S.xp6(2),S.hij(" ",r.roleCodes.close.labelDescription,"")}}function R(e,t){if(1&e&&(S.TgZ(0,"div",34),S.TgZ(1,"button",40),S._uU(2),S.qZA(),S.qZA()),2&e){var i=S.oxw(2);S.xp6(2),S.Oqu(i.roleCodes.delete.labelDescription)}}function L(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",34),S.TgZ(1,"button",35),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).onClickOfViewToData()}),S._uU(2,"View Report"),S.qZA(),S.qZA()}}function V(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",34),S.TgZ(1,"button",41),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).onClickOfViewToDatabulk()}),S._uU(2,"View Report"),S.qZA(),S.qZA()}}function Q(e,t){if(1&e&&(S.TgZ(0,"div",6),S.TgZ(1,"div",32),S.YNc(2,B,3,0,"div",33),S.YNc(3,_,3,1,"div",33),S.YNc(4,E,3,1,"div",33),S.YNc(5,J,3,1,"div",33),S.YNc(6,D,3,1,"div",33),S.YNc(7,Y,3,1,"div",33),S.YNc(8,R,3,1,"div",33),S.YNc(9,L,3,0,"div",33),S.YNc(10,V,3,0,"div",33),S.TgZ(11,"div",34),S.TgZ(12,"button",36),S._uU(13,"Exit"),S.qZA(),S.qZA(),S.qZA(),S.qZA()),2&e){var i=S.oxw();S.xp6(2),S.Q6J("ngIf",!i.editFlag),S.xp6(1),S.Q6J("ngIf",!i.singleCall&&i.editFlag),S.xp6(1),S.Q6J("ngIf",i.singleCall&&i.editFlag),S.xp6(1),S.Q6J("ngIf",("UNAUTHORIZED"==i.fetchUserSingle.verifiedStatus||"U"==i.fetchUserSingle.verifiedStatus||"Unauthorized"==i.fetchUserSingle.verifiedStatus)&&i.roleCodes.auth),S.xp6(1),S.Q6J("ngIf",("CLOSE"==i.fetchUserSingle.recordStatus||"C"==i.fetchUserSingle.recordStatus||"Close"==i.fetchUserSingle.recordStatus)&&("YES"==i.fetchUserSingle.verifiedOnce||"Y"==i.fetchUserSingle.verifiedOnce)&&i.roleCodes.reopen),S.xp6(1),S.Q6J("ngIf",("OPEN"==i.fetchUserSingle.recordStatus||"O"==i.fetchUserSingle.recordStatus||"Open"==i.fetchUserSingle.recordStatus)&&("YES"==i.fetchUserSingle.verifiedOnce||"Y"==i.fetchUserSingle.verifiedOnce)&&i.roleCodes.close),S.xp6(1),S.Q6J("ngIf",("NO"==i.fetchUserSingle.verifiedOnce||"N"==i.fetchUserSingle.verifiedOnce)&&i.roleCodes.delete),S.xp6(1),S.Q6J("ngIf","SINGLE"==i.fetchUserSingle.closureType),S.xp6(1),S.Q6J("ngIf","BULK"==i.fetchUserSingle.closureType)}}var j,M=((j=function(){function e(t,r,c,n,s,o,l,u){i(this,e),this.formBuilder=t,this.cdr=r,this.router=c,this.accClosure=n,this.canDeactivateGuard=s,this.iziToast=o,this.route=l,this.roleService=u,this.fetchUserSingle=new h,this.fetch=new h,this.editFlag=!1,this.selected="dormant",this.accountClosure=new h,this.submitFile=!0,this.bulk=!0,this.roleCodes=new g.yv,this.formTouched=!0,this.showDialog=!1,this.subject=new a.xQ,this.modifyScreen=!1}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.accClosureNavObj=localStorage.getItem("AccountClosureNavObj"),this.accClosureNavigationObject=JSON.parse(this.accClosureNavObj),this.accClosure.getIndexValue().subscribe(function(t){e.paramScreen=t,""===t.index&&e.createAccClosure()}),this.currentUser=localStorage.getItem("currentUser").replace(/['"]+/g,""),this.navSubscription=this.roleService.getNavParam.subscribe(function(t){return e.initiateAccClosure=t}),console.log(this.initiateAccClosure,"Initiate Account Closure"),console.log(this.accClosureNavigationObject,"accClosureNavigationObject"),this.fetchUserSingle.id=this.initiateAccClosure.queryParams.id,this.fetchUserSingle.modNo=this.initiateAccClosure.queryParams.modNo,this.fetchUserSingle.closureType=this.initiateAccClosure.queryParams.closureType,this.fetchUserSingle.accountNumber=this.initiateAccClosure.queryParams.accountNumber,this.fetchUserSingle.accountType=this.initiateAccClosure.queryParams.accountType,this.fetchUserSingle.recordStatus=this.initiateAccClosure.queryParams.recordStatus,this.fetchUserSingle.verifiedStatus=this.initiateAccClosure.queryParams.verifiedStatus,this.fetchUserSingle.inputBy=this.initiateAccClosure.queryParams.inputBy,this.fetchUserSingle.inputTime=this.initiateAccClosure.queryParams.inputTime,this.fetchUserSingle.verifiedOnce=this.initiateAccClosure.queryParams.verifiedfirst,this.fetchUserSingle.verifiedBy=this.initiateAccClosure.queryParams.verifiedBy,this.fetchUserSingle.fileName=this.initiateAccClosure.queryParams.fileName,this.fetchUserSingle.branchCode=this.initiateAccClosure.queryParams.branch,this.fetchUserSingle.reasonForClosure=this.initiateAccClosure.queryParams.reason,this.fetchUserSingle.processStatus=this.initiateAccClosure.queryParams.processStatus,this.fetchUserSingle.accountLinkageDesc=this.initiateAccClosure.queryParams.Desc,this.fetchUserSingle.closeStatusInputBy=this.initiateAccClosure.queryParams.closeStatusInputBy,this.fetchUserSingle.closeStatusInputTime=this.initiateAccClosure.queryParams.closeStatusInputTime,this.fetchUserSingle.closeStatus=this.initiateAccClosure.queryParams.closeStatus,this.fetchUserSingle.icliqAvlBal=this.initiateAccClosure.queryParams.icliqAvlBal,this.fetchUserSingle.icliqBalance=this.initiateAccClosure.queryParams.icliqBalance,this.fetchUserSingle.icliqStatus=this.initiateAccClosure.queryParams.icliqStatus,this.fetchUserSingle.makerId=this.initiateAccClosure.queryParams.makerId,this.fetchUserSingle.makerInputTime=this.initiateAccClosure.queryParams.makerInputTime,this.fetchUserSingle.accls=this.initiateAccClosure.queryParams.accls,this.fetchUserSingle.lastTransactionDetail=this.initiateAccClosure.queryParams.lastTransactionDetail,this.fetchUserSingle.blockedAmount=this.initiateAccClosure.queryParams.blockedAmount,this.fetchUserSingle.deStatus=this.initiateAccClosure.queryParams.deStatus,this.fetchUserSingle.linkedAccounts=this.initiateAccClosure.queryParams.linkedAccounts,this.fetchUserSingle.checkerId=this.initiateAccClosure.queryParams.checkerId,this.fetchUserSingle.checkerInputTime=this.initiateAccClosure.queryParams.checkerInputTime,console.log(this.roleCodes),"SINGLE"==this.fetchUserSingle.closureType?this.data="SINGLE":(this.data="BULK",this.data=this.singleCall),this.cdr.markForCheck(),this.selected=this.fetchUserSingle.accountType,this.radioSelectred=this.fetchUserSingle.closureType,console.log("inside bulk",this.fetchUserSingle),this.cdr.markForCheck(),null==this.fetchUserSingle.closureType&&this.buildAccClosureForm(this.fetchUserSingle,!1),("BULK"==this.fetchUserSingle.closureType||"SINGLE"==this.fetchUserSingle.closureType||null==this.fetchUserSingle.closureType)&&("BULK"==this.fetchUserSingle.closureType&&(this.bulk=!0),"SINGLE"==this.fetchUserSingle.closureType&&(this.bulk=!1),console.log("YJHGJH"),this.buildAccClosureForm(this.fetchUserSingle,!0)),console.log(this.initiateAccClosure),("BULK"!=this.initiateAccClosure.queryParams.closureType||"SINGLE"!=this.initiateAccClosure.queryParams.closureType)&&null!=JSON.parse(this.accClosureNavObj)&&"new"!=this.paramScreen.index&&(this.fetchUserSingle=this.accClosureNavigationObject,console.log("YJHGJH"),this.buildAccClosureForm(this.accClosureNavigationObject),this.fileName=this.accClosureNavigationObject.fileName,this.accountClosureForm.disable()),this.accountClosureForm.get("closureType").setValue("BULK"),localStorage.setItem("CLOSURETYPE",this.accountClosureForm.value.closureType),this.roleService.screenLabelList.subscribe(function(t){return e.roleCodes=t}),setTimeout(function(){},100),console.log(this.fetchUserSingle),this.auditLog()}},{key:"auditLog",value:function(){("C"==this.fetchUserSingle.recordStatus||"CLOSE"==this.fetchUserSingle.recordStatus)&&(this.fetchUserSingle.recordStatus="CLOSE"),("O"==this.fetchUserSingle.recordStatus||"OPEN"==this.fetchUserSingle.recordStatus)&&(this.fetchUserSingle.recordStatus="OPEN"),"U"==this.fetchUserSingle.verifiedStatus&&(this.fetchUserSingle.verifiedStatus="UNAUTHORIZED"),"A"==this.fetchUserSingle.verifiedOnce&&(this.fetchUserSingle.verifiedOnce="AUTHORIZED"),"Y"==this.fetchUserSingle.verifiedOnce&&(this.fetchUserSingle.verifiedOnce="YES"),"N"==this.fetchUserSingle.verifiedOnce&&(this.fetchUserSingle.verifiedOnce="NO")}},{key:"onClickOfBulk",value:function(){this.singleCall=!1,this.accountClosureForm.get("closureType").setValue("BULK"),localStorage.setItem("CLOSURETYPE",this.accountClosureForm.value.closureType)}},{key:"onclickOfSingle",value:function(){this.singleCall=!0,this.accountClosureForm.get("closureType").setValue("SINGLE"),localStorage.setItem("CLOSURETYPE",this.accountClosureForm.value.closureType)}},{key:"buildAccClosureForm",value:function(e,t){console.log(e),this.accountClosureForm=this.formBuilder.group({closureType:[e.closureType?e.closureType:"",u.kI.required],accountType:[e.accountType?e.accountType:"",u.kI.required],accountNumber:[e.accountNumber?e.accountNumber:"",[u.kI.required,u.kI.pattern("^[0-9 -']+")]],branchCode:[e.branchCode?e.branchCode:"",[u.kI.required,u.kI.pattern("^[0-9 -']+")]],reasonForClosure:[e.reasonForClosure?e.reasonForClosure:"",u.kI.required]})}},{key:"selectFile",value:function(e){this.accountClosureForm.get("accountType").value?(this.selectedFiles=e.target.files,this.sizeOfFile=this.selectedFiles.item(0).size,this.fileName=this.selectedFiles[0].name,setTimeout(function(){},8e3),this.submitFile=!1):d().fire({text:"Please enter Account Type",icon:"error"})}},{key:"onSubmitSingle",value:function(e){var t=this;this.fetchUserSingle.inputBy=this.currentUser,this.accClosure.onSingleClosure(this.accountClosureForm.value,this.fetchUserSingle.inputBy).subscribe(function(e){if(e){var i=e.errorDesc;"S"==i||"S"===i?(t.fetchUserSingle=e,t.auditLog(),d().fire({text:"Record Successfully Uploaded"}),t.formTouched=!t.accountClosureForm.touched):d().fire({text:i,icon:"warning"})}else d().fire({text:"Server Error",icon:"error"})})}},{key:"editValues",value:function(){this.editFlag=!0,this.accountClosureForm.enable()}},{key:"onClickOfViewToDatabulk",value:function(){"BULK"==this.fetchUserSingle.closureType&&(this.accClosure.sendNavParam({queryParams:{closureTypeViewBulk:this.fetchUserSingle.closureType,fileName:this.fetchUserSingle.fileName,accountTypeBulk:this.fetchUserSingle.accountType,record:this.fetchUserSingle.recordStatus,authorizer:this.fetchUserSingle.verifiedBy,authFirsTime:this.fetchUserSingle.verifiedOnce,authStatus:this.fetchUserSingle.verifiedStatus,authDate:this.fetchUserSingle.verifiedTime,creator:this.fetchUserSingle.inputBy,creatorDate:this.fetchUserSingle.inputTime,modficationNo:this.fetchUserSingle.modNo,processStatus:this.fetchUserSingle.processStatus,Desc:this.fetchUserSingle.accountLinkageDesc,closeStatusInputBy:this.fetchUserSingle.closeStatusInputBy,closeStatusInputTime:this.fetchUserSingle.closeStatusInputTime,closeStatus:this.fetchUserSingle.closeStatus,icliqAvlBal:this.fetchUserSingle.icliqAvlBal,icliqBalance:this.fetchUserSingle.icliqBalance,icliqStatus:this.fetchUserSingle.icliqStatus,makerId:this.fetchUserSingle.makerId,makerInputTime:this.fetchUserSingle.makerInputTime,accls:this.fetchUserSingle.accls,lastTransactionDetail:this.fetchUserSingle.lastTransactionDetail,blockedAmount:this.fetchUserSingle.blockedAmount,deStatus:this.fetchUserSingle.deStatus,linkedAccounts:this.fetchUserSingle.linkedAccounts,checkerId:this.fetchUserSingle.checkerId,checkerInputTime:this.fetchUserSingle.checkerInputTime}}),this.router.navigate(["initiate-account-closure/viewReport"]))}},{key:"onClickOfViewToData",value:function(){var e=this;localStorage.setItem("accountTypeForProcess",this.fetchUserSingle.accountType),localStorage.setItem("closureTypeForBulk",this.fetchUserSingle.closureType),"SINGLE"==this.fetchUserSingle.closureType&&this.accClosure.onViewOfSingleClsureType(this.fetchUserSingle.accountType,this.fetchUserSingle.closureType,this.fetchUserSingle.accountNumber).subscribe(function(t){e.fetch=t,e.router.navigate(["initiate-account-closure/viewReport"])})}},{key:"onSubmitFile",value:function(){var e=this;this.accountClosureForm.get("closureType").setValue("BULK"),console.log(this.accountClosureForm.value),console.log(this.accountClosureForm.controls.accountType.value),this.sendAccountType=this.accountClosureForm.controls.accountType.value,console.log(this.accountClosureForm.controls.closureType.value),this.sendClosureType=this.accountClosureForm.controls.closureType.value,this.currentFileUpload=this.selectedFiles.item(0),this.showSubmitProgressBar=!0,this.sendAccountType?this.accClosure.onFileUpload(this.currentFileUpload,this.sendAccountType,this.sendClosureType,this.currentUser).subscribe(function(t){t?(e.fetchUserSingle=t,console.log(e.fetchUserSingle),"S"==e.fetchUserSingle.errorDesc?(e.enableView=!0,e.submitFile=!0,d().fire({text:"File uploaded sucessfully",icon:"success"}),e.formTouched=!e.accountClosureForm.touched,e.showSubmitProgressBar=!1,e.showAuditlog=!0):(e.accountClosureForm.get("accountType").setValue(e.sendAccountType),d().fire({text:e.fetchUserSingle.errorDesc,icon:"error"}),e.showSubmitProgressBar=!1)):d().fire({text:"Server Error",icon:"error"})}):(d().fire({text:"AccountType is Mandatory",icon:"warning"}),this.showSubmitProgressBar=!1)}},{key:"canExit",value:function(){var e=this,t=!1;return this.accountClosureForm.touched&&1==this.formTouched?d().fire({text:"There are unsaved changes in the screen. Would you like to navigate to other screen?",showCancelButton:!0,confirmButtonColor:"#E6224A",cancelButtonColor:"#011945",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(function(i){return!0===i.isConfirmed?(t=!0,e.cdr.markForCheck(),t):(t=!1,e.cdr.markForCheck(),t)}):(t=!0,new Promise(function(i,r){!0===t&&(t=!0,e.cdr.markForCheck(),i(!0))}))}},{key:"generateExcel",value:function(){this.router.navigate(["initiate-account-closure/viewReport"]),"BULK"==this.fetchUserSingle.closureType&&(console.log("insdie bulk",this.fetchUserSingle),console.log("accont Type",this.fetchUserSingle.accountType),console.log("closure Tpye",this.fetchUserSingle.closureType),console.log("finle Name",this.fetchUserSingle.fileName),this.router.navigate(["initiate-account-closure/viewReport"],{queryParams:{closureTypeViewBulk:this.fetchUserSingle.closureType,fileNmaeBulk:this.fetchUserSingle.fileName,accountTypeBulk:this.fetchUserSingle.accountType,record:this.fetchUserSingle.recordStatus,authorizer:this.fetchUserSingle.verifiedBy,authFirsTime:this.fetchUserSingle.verifiedOnce,authStatus:this.fetchUserSingle.verifiedStatus,authDate:this.fetchUserSingle.verifiedTime,creator:this.fetchUserSingle.inputBy,creatorDate:this.fetchUserSingle.inputTime,modficationNo:this.fetchUserSingle.modNo,processStatus:this.fetchUserSingle.processStatus}}))}},{key:"onSubmitOfSingleClosure",value:function(){var e=this;this.accClosure.submiitingSingleClosureRecordAfterEdit(this.fetchUserSingle,this.currentUser,this.fetchUserSingle.id).subscribe(function(t){if(console.log(t.errorDesc),e.fetchUserSingle=t,"S"==e.fetchUserSingle.errorDesc)d().fire({title:"Record successfuly modified and uploaded"});else{var i=t.errorDesc;d().fire({title:i,icon:"warning"})}e.cdr.markForCheck()})}},{key:"onclickOfAuth",value:function(){console.log("this is auth"),console.log(this.fetchUserSingle.accountNumber),this.accClosure.onAuthorizingTheRecord(this.fetchUserSingle.accountNumber,this.currentUser).subscribe(function(e){console.log(e),e?d().fire({title:"Record is Authorized"}):d().fire({title:"Authorization Failed",icon:"warning"})})}},{key:"onclickOfClose",value:function(){var e=this;console.log("this is close"),this.accClosure.onClosingTheRecord(this.fetchUserSingle.accountNumber,this.currentUser).subscribe(function(t){console.log(t),e.fetchUserSingle=t,e.auditLog()})}},{key:"onclickOfReopen",value:function(){var e=this;console.log("this is reopen"),this.accClosure.onReopningTheRecord(this.fetchUserSingle.accountNumber,this.currentUser).subscribe(function(t){console.log(t),e.fetchUserSingle=t,"C"==e.fetchUserSingle.recordStatus&&(e.fetchUserSingle.recordStatus="CLOSE"),"O"==e.fetchUserSingle.recordStatus&&(e.fetchUserSingle.recordStatus="OPEN")})}},{key:"createAccClosure",value:function(){this.roleService.sendNavParam({queryParams:{}})}}]),e}()).\u0275fac=function(e){return new(e||j)(S.Y36(u.qu),S.Y36(S.sBO),S.Y36(o.F0),S.Y36(p.b),S.Y36(l.I),S.Y36(m.I),S.Y36(o.gz),S.Y36(v.N))},j.\u0275cmp=S.Xpm({type:j,selectors:[["npr-account-closure-details"]],decls:41,vars:12,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],["action","",1,"formStyle",3,"formGroup"],[1,"dbCardStyle","cardWidth"],[1,"row","gy-4","justify-content-center"],[1,"col-12"],[1,"row","g-2","justify-content-center"],[1,"col-sm-4","col-5"],[1,"radio","radioStyle"],["id","radio-1","name","radio","type","radio",3,"readonly","checked","click"],["for","radio-1",1,"radio-label"],["id","radio-2","name","radio","type","radio",3,"readonly","checked","click"],["for","radio-2",1,"radio-label"],["for","roleName",1,"formLbl"],[1,"colorRed"],["formControlName","accountType","aria-label","Default select example",1,"form-select"],["hidden","","value","","disabled","","selected",""],["value","dormant"],["value","overDrawn"],["value","unclaimed"],["class","errorColor",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"errorColor"],[4,"ngIf"],["id","accountNumber","placeholder","Account Number","required","","formControlName","accountNumber","value","",1,"form-control",3,"readonly"],["id","branchCode","placeholder","Branch Code","required","","formControlName","branchCode","value","",1,"form-control",3,"readonly"],["id","","placeholder","Reason For Closure","required","","formControlName","reasonForClosure","value","",1,"form-control",3,"readonly"],[1,"fileUpload"],[1,"formS"],[1,"file-upload-wrapper","upIcon"],["name","file-upload-field","type","file","value","",1,"file-upload-field",3,"readonly","disabled","change"],[1,"row","g-3","pb-3","justify-content-center","pt-3"],["class","col-auto",4,"ngIf"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],["routerLink","/initiate-account-closure",1,"btn","smBtn","minWdSmBtn","btnSecondary"],["href","javascript:void(0)",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],[1,"btn","smBtn","minWdSmBtn","btnUpdate",3,"click"],[1,"btn","smBtn","minWdSmBtn","btnAuth",3,"click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary"],["type","button",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"]],template:function(e,t){1&e&&(S.TgZ(0,"div",0),S.TgZ(1,"div",1),S.TgZ(2,"h2",2),S._uU(3,"Initiate Account Closure"),S.qZA(),S.qZA(),S.TgZ(4,"form",3),S.TgZ(5,"div",4),S.TgZ(6,"div",5),S.TgZ(7,"div",6),S.TgZ(8,"div",7),S.TgZ(9,"div",8),S.TgZ(10,"div",9),S.TgZ(11,"input",10),S.NdJ("click",function(){return t.onClickOfBulk()}),S.qZA(),S.TgZ(12,"label",11),S._uU(13,"Bulk"),S.qZA(),S.qZA(),S.qZA(),S.TgZ(14,"div",8),S.TgZ(15,"div",9),S.TgZ(16,"input",12),S.NdJ("click",function(){return t.onclickOfSingle()}),S.qZA(),S.TgZ(17,"label",13),S._uU(18,"Single"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.TgZ(19,"div",6),S.TgZ(20,"label",14),S._uU(21,"Account Type"),S.TgZ(22,"span",15),S._uU(23,"*"),S.qZA(),S.qZA(),S.TgZ(24,"select",16),S.TgZ(25,"option",17),S._uU(26,"--Please select--"),S.qZA(),S.TgZ(27,"option",18),S._uU(28,"Dormant "),S.qZA(),S.TgZ(29,"option",19),S._uU(30,"OverDrawn Accounts"),S.qZA(),S.TgZ(31,"option",20),S._uU(32,"Unclaimed "),S.qZA(),S.qZA(),S.YNc(33,U,2,1,"div",21),S.qZA(),S.YNc(34,A,7,2,"div",22),S.YNc(35,q,7,2,"div",22),S.YNc(36,x,7,2,"div",22),S.YNc(37,O,5,7,"div",22),S.YNc(38,P,10,2,"div",22),S.YNc(39,Q,14,9,"div",22),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S._UZ(40,"br")),2&e&&(S.xp6(4),S.Q6J("formGroup",t.accountClosureForm),S.xp6(7),S.Q6J("readonly",t.editFlag)("checked",t.bulk),S.xp6(5),S.Q6J("readonly",t.editFlag)("checked",!t.bulk),S.xp6(17),S.Q6J("ngIf",t.accountClosureForm.get("accountType").invalid&&(t.accountClosureForm.get("accountType").dirty||t.accountClosureForm.get("accountType").touched)),S.xp6(1),S.Q6J("ngIf",t.singleCall),S.xp6(1),S.Q6J("ngIf",t.singleCall),S.xp6(1),S.Q6J("ngIf",t.singleCall),S.xp6(1),S.Q6J("ngIf",!t.singleCall),S.xp6(1),S.Q6J("ngIf",null==t.fetchUserSingle.closureType),S.xp6(1),S.Q6J("ngIf",null!=t.fetchUserSingle.closureType))},directives:[u._Y,u.JL,u.sg,u.EJ,u.JJ,u.u,u.YN,u.Kr,s.O5,u.Fj,u.Q7,o.rH],styles:[".errorColor[_ngcontent-%COMP%]{color:#e6224a}"]}),j),H=n(17988);function z(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",6),S.TgZ(1,"a",11),S.NdJ("click",function(){return S.CHM(i),S.oxw().createAccClosure()}),S._uU(2),S.qZA(),S.qZA()}if(2&e){var r=S.oxw();S.xp6(2),S.Oqu(r.roleCodes.new.labelDescription)}}function G(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"button",18),S.NdJ("click",function(){S.CHM(i);var e=S.oxw().$implicit;return S.oxw().close(e)}),S._UZ(1,"img",19),S.qZA()}}function W(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"button",20),S.NdJ("click",function(){S.CHM(i);var e=S.oxw().$implicit;return S.oxw().open(e)}),S._UZ(1,"img",21),S.qZA()}}function K(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"button",22),S.NdJ("click",function(){S.CHM(i);var e=S.oxw().$implicit;return S.oxw().delete(e)}),S._UZ(1,"img",23),S.qZA()}}function $(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"tr"),S.TgZ(1,"td"),S.TgZ(2,"a",12),S.NdJ("click",function(){var e=S.CHM(i).$implicit;return S.oxw().getDataFromSummary(e)}),S._uU(3),S.qZA(),S.qZA(),S.TgZ(4,"td"),S._uU(5),S.qZA(),S.TgZ(6,"td"),S._uU(7),S.qZA(),S.TgZ(8,"td"),S._uU(9),S.qZA(),S.TgZ(10,"td"),S._uU(11),S.qZA(),S.TgZ(12,"td"),S._uU(13),S.qZA(),S.TgZ(14,"td"),S._uU(15),S.ALo(16,"date"),S.qZA(),S.TgZ(17,"td"),S.TgZ(18,"button",13),S.NdJ("click",function(){var e=S.CHM(i).$implicit;return S.oxw().auth(e)}),S._UZ(19,"img",14),S.qZA(),S.YNc(20,G,2,0,"button",15),S.YNc(21,W,2,0,"button",16),S.YNc(22,K,2,0,"button",17),S.qZA(),S.qZA()}if(2&e){var r=t.$implicit;S.xp6(2),S.MGl("routerLink","/initiate-account-closure/create/",r.closureType,""),S.xp6(1),S.Oqu(r.closureType),S.xp6(2),S.Oqu(r.accountType),S.xp6(2),S.Oqu(r.status),S.xp6(2),S.Oqu(r.makerId),S.xp6(2),S.Oqu(r.verifiedStatus),S.xp6(2),S.Oqu(r.recordStatus),S.xp6(2),S.Oqu(S.xi3(16,12,r.inputTime,"medium")),S.xp6(3),S.Q6J("disabled",!("U"==r.verifiedStatus||"UNAUTHORIZED"==r.verifiedStatus||"Unauthorized"==r.verifiedStatus)),S.xp6(2),S.Q6J("ngIf",!("O"!=r.recordStatus&&"Open"!=r.recordStatus&&"OPEN"!=r.recordStatus||"Y"!=r.verifiedOnce&&"YES"!=r.verifiedOnce)),S.xp6(1),S.Q6J("ngIf",!("CLOSED"!=r.recordStatus&&"Close"!=r.recordStatus&&"C"!=r.recordStatus||"YES"!=r.verifiedOnce&&"Y"!=r.verifiedOnce)),S.xp6(1),S.Q6J("ngIf","N"==r.verifiedOnce||"NO"==r.verifiedOnce)}}var X=function(){return["/dashboard"]},ee=function(){var t=function(){function t(e,r,c){i(this,t),this.accClosureServiceSum=e,this.roleService=r,this.router=c,this.dtOptions={},this.roleCodes=new g.yv,this.dtTrigger=new a.xQ,this.statusArr=["Authorized","Unauthorized","Open","Close"]}return c(t,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.newRolePermissions()},2e3),this.dtOptions={pagingType:"full_numbers",pageLength:5,columnDefs:[{type:"date",targets:[6]}],order:[[6,"desc"]],processing:!0,lengthMenu:[[5,10,20,30,-1],[5,10,20,30,"ALL"]]},this.currentUser=localStorage.getItem("currentUser").replace(/['"]+/g,""),this.gettingAccClosureSummary(this.currentUser),this.roleService.fetchScreenPermissions("Initiate Account Closure"),this.roleService.screenLabelList.subscribe(function(t){return e.roleCodes=t}),console.log(this.roleCodes)}},{key:"createAccClosure",value:function(){this.router.navigate(["/initiate-account-closure/create"]),this.roleService.sendNavParam({queryParams:{}}),this.accClosureServiceSum.setIndexValue({index:"new"})}},{key:"getDataFromSummary",value:function(e){console.log("this is row",e),this.fileName=e.fileName,localStorage.setItem("fileName",this.fileName),this.viewAccountType=e.accountType,localStorage.setItem("typeOfAccount",this.viewAccountType);var t={queryParams:{modifyNo:e.modNo,closureType:e.closureType,accountNumber:e.accountNumber,accountType:e.accountType,recordStatus:e.recordStatus,verifiedStatus:e.verifiedStatus,inputBy:e.inputBy,inputTime:e.inputTime,modNo:e.modNo,authorizedTime:e.authorizedTime,verifiedfirst:e.verifiedOnce,verifiedBy:e.verifiedBy,fileName:e.fileName,branch:e.branchCode,reason:e.reasonForClosure,id:e.id,processStatus:e.processStatus,Desc:e.accountLinkageDesc,closeStatusInputBy:e.closeStatusInputBy,closeStatusInputTime:e.closeStatusInputTime,closeStatus:e.closeStatus,icliqAvlBal:e.icliqAvlBal,icliqBalance:e.icliqBalance,icliqStatus:e.icliqStatus,makerId:e.makerId,makerInputTime:e.makerInputTime,accls:e.accls,lastTransactionDetail:e.lastTransactionDetail,blockedAmount:e.blockedAmount,deStatus:e.deStatus,linkedAccounts:e.linkedAccounts,checkerId:e.checkerId,checkerInputTime:e.checkerInputTime}};console.log("navigationExtras",t),localStorage.setItem("AccountClosureNavObj",JSON.stringify(e)),this.roleService.sendNavParam(t),this.router.navigate(["/initiate-account-closure/create"]),this.accClosureServiceSum.setIndexValue({index:"edit"})}},{key:"newRolePermissions",value:function(){this.roleService.fetchScreenPermissions("Initiate Account Closure")}},{key:"gettingAccClosureSummary",value:function(t){var i=this;console.log("this account closure Summary"),this.accClosureServiceSum.gettingAccountClosureSummary(t).subscribe(function(t){console.log(t),i.SummaryData=t;var r,c=e(i.SummaryData);try{var n=function(){var e=r.value;e.verifiedStatus=i.statusArr.find(function(t){return t.startsWith(e.verifiedStatus)}),e.recordStatus=i.statusArr.find(function(t){return t.startsWith(e.recordStatus)})};for(c.s();!(r=c.n()).done;)n()}catch(s){c.e(s)}finally{c.f()}i.summaryDetails=t,i.dtTrigger.next()})}},{key:"auth",value:function(e){console.log(e),console.log("this is auth"),console.log(e.accountNumber),this.accClosureServiceSum.onAuthorizingTheRecord(e.accountNumber,this.currentUser).subscribe(function(e){console.log(e),e?d().fire({title:"Record is Authorized"}).then(function(){return window.location.reload()}):d().fire({title:"Authorization Failed",icon:"warning"})})}},{key:"open",value:function(e){var t=this;console.log("this is reopen"),this.accClosureServiceSum.onReopningTheRecord(this.fetchUserSingle.accountNumber,this.currentUser).subscribe(function(e){console.log(e),t.fetchUserSingle=e,"C"==t.fetchUserSingle.recordStatus&&(t.fetchUserSingle.recordStatus="CLOSE"),"O"==t.fetchUserSingle.recordStatus&&(t.fetchUserSingle.recordStatus="OPEN")})}},{key:"close",value:function(e){var t=this;console.log("this is close"),this.accClosureServiceSum.onClosingTheRecord(e.accountNumber,this.currentUser).subscribe(function(e){console.log(e),t.fetchUserSingle=e,t.auditLog()})}},{key:"delete",value:function(e){}},{key:"auditLog",value:function(){("C"==this.fetchUserSingle.recordStatus||"CLOSE"==this.fetchUserSingle.recordStatus)&&(this.fetchUserSingle.recordStatus="CLOSE"),("O"==this.fetchUserSingle.recordStatus||"OPEN"==this.fetchUserSingle.recordStatus)&&(this.fetchUserSingle.recordStatus="OPEN"),"U"==this.fetchUserSingle.verifiedStatus&&(this.fetchUserSingle.verifiedStatus="UNAUTHORIZED"),"A"==this.fetchUserSingle.verifiedOnce&&(this.fetchUserSingle.verifiedOnce="AUTHORIZED"),"Y"==this.fetchUserSingle.verifiedOnce&&(this.fetchUserSingle.verifiedOnce="YES"),"N"==this.fetchUserSingle.verifiedOnce&&(this.fetchUserSingle.verifiedOnce="NO")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(S.Y36(p.b),S.Y36(v.N),S.Y36(o.F0))},t.\u0275cmp=S.Xpm({type:t,selectors:[["npr-initiate-account-closure"]],decls:32,vars:6,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],[1,"dbCardStyle"],[1,"row","g-3","pb-3","justify-content-end"],["class","col-auto",4,"ngIf"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[1,"table-responsive"],["datatable","",1,"dataTable","table","tableStyle","nowrap","vAlignMdl",2,"width","100%",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],[1,"primaryColor",3,"routerLink","click"],["title","Authorize",1,"btn",2,"color","red",3,"disabled","click"],["src","assets/images/authorize.svg","alt","Authorize"],["class","btn","style","color: red","title","Close",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Reopen",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Delete",3,"click",4,"ngIf"],["title","Close",1,"btn",2,"color","red",3,"click"],["src","assets/images/CROSS1.svg","alt","..."],["title","Reopen",1,"btn",2,"color","red",3,"click"],["src","assets/images/open.svg","alt","..."],["title","Delete",1,"btn",2,"color","red",3,"click"],["src","assets/images/delete.svg","alt","..."]],template:function(e,t){1&e&&(S.TgZ(0,"div",0),S.TgZ(1,"div",1),S.TgZ(2,"h2",2),S._uU(3,"Initiate Account Closure "),S.qZA(),S.qZA(),S.TgZ(4,"div",3),S.TgZ(5,"div",4),S.YNc(6,z,3,1,"div",5),S.TgZ(7,"div",6),S.TgZ(8,"a",7),S._uU(9,"Exit"),S.qZA(),S.qZA(),S.qZA(),S.TgZ(10,"div",8),S.TgZ(11,"table",9),S.TgZ(12,"thead"),S.TgZ(13,"tr"),S.TgZ(14,"th"),S._uU(15,"closure type"),S.qZA(),S.TgZ(16,"th"),S._uU(17,"account type"),S.qZA(),S.TgZ(18,"th"),S._uU(19,"status"),S.qZA(),S.TgZ(20,"th"),S._uU(21,"maker id"),S.qZA(),S.TgZ(22,"th"),S._uU(23,"auth status"),S.qZA(),S.TgZ(24,"th"),S._uU(25,"record status"),S.qZA(),S.TgZ(26,"th"),S._uU(27,"date"),S.qZA(),S.TgZ(28,"th"),S._uU(29,"action"),S.qZA(),S.qZA(),S.qZA(),S.TgZ(30,"tbody"),S.YNc(31,$,23,15,"tr",10),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA()),2&e&&(S.xp6(6),S.Q6J("ngIf",t.roleCodes.new),S.xp6(2),S.Q6J("routerLink",S.DdM(5,X)),S.xp6(3),S.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),S.xp6(20),S.Q6J("ngForOf",t.summaryDetails))},directives:[s.O5,o.yS,H.G,s.sg],pipes:[s.uU],styles:[""]}),t}(),te=n(4108),ie=n.n(te);function re(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",14),S.TgZ(1,"button",17),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).onProcessingTheBulkAccount()}),S._uU(2,"Process"),S.qZA(),S.qZA()}}function ce(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",14),S.TgZ(1,"button",17),S.NdJ("click",function(){return S.CHM(i),S.oxw(2).onProcessingTheSingleAccount()}),S._uU(2,"Process"),S.qZA(),S.qZA()}}function ne(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",6),S.TgZ(1,"div",7),S.TgZ(2,"label",8),S._uU(3,"Export As"),S.qZA(),S.TgZ(4,"select",9),S.NdJ("change",function(e){return S.CHM(i),S.oxw().modo(e.target.value)}),S.TgZ(5,"option",10),S._uU(6,"Excel"),S.qZA(),S.TgZ(7,"option",11),S._uU(8,"PDF"),S.qZA(),S.qZA(),S.qZA(),S.TgZ(9,"div",7),S.TgZ(10,"div",12),S.YNc(11,re,3,0,"div",13),S.YNc(12,ce,3,0,"div",13),S.TgZ(13,"div",14),S.TgZ(14,"a",15),S.NdJ("click",function(){return S.CHM(i),S.oxw().onCancelingTheRecord()}),S._uU(15,"Delete"),S.qZA(),S.qZA(),S.TgZ(16,"div",14),S.TgZ(17,"button",16),S._uU(18,"Exit"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&e){var r=S.oxw();S.xp6(11),S.Q6J("ngIf","BULK"==r.closureTypes),S.xp6(1),S.Q6J("ngIf","SINGLE"==r.closureTypes)}}function se(e,t){if(1&e){var i=S.EpF();S.TgZ(0,"div",18),S.TgZ(1,"div",19),S.TgZ(2,"table",20),S.TgZ(3,"thead"),S.TgZ(4,"tr"),S.TgZ(5,"th"),S._uU(6,"Account Type"),S.qZA(),S.TgZ(7,"th"),S._uU(8,"Closure Type"),S.qZA(),S.TgZ(9,"th"),S._uU(10,"Branch Code"),S.qZA(),S.TgZ(11,"th"),S._uU(12,"Account Number"),S.qZA(),S.qZA(),S.qZA(),S.TgZ(13,"tbody"),S.TgZ(14,"tr"),S.TgZ(15,"td"),S._uU(16),S.qZA(),S.TgZ(17,"td"),S._uU(18),S.qZA(),S.TgZ(19,"td"),S._uU(20),S.qZA(),S.TgZ(21,"td"),S._uU(22),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.TgZ(23,"table",21),S.TgZ(24,"thead"),S.TgZ(25,"tr"),S.TgZ(26,"th"),S._uU(27,"Current Balance [ACY]"),S.qZA(),S.TgZ(28,"th"),S._uU(29,"Current Balance [LCY]"),S.qZA(),S.TgZ(30,"th"),S._uU(31,"Available Balance"),S.qZA(),S.TgZ(32,"th"),S._uU(33," No Debit"),S.qZA(),S.TgZ(34,"th"),S._uU(35,"No Credit"),S.qZA(),S.TgZ(36,"th"),S._uU(37,"Frozen"),S.qZA(),S.TgZ(38,"th"),S._uU(39,"Dormant"),S.qZA(),S.TgZ(40,"th"),S._uU(41,"Account Status"),S.qZA(),S.TgZ(42,"th"),S._uU(43,"Record Status"),S.qZA(),S.TgZ(44,"th"),S._uU(45,"Customer Id"),S.qZA(),S.TgZ(46,"th"),S._uU(47,"Value Date"),S.qZA(),S.TgZ(48,"th"),S._uU(49,"Account Block"),S.qZA(),S.qZA(),S.qZA(),S.TgZ(50,"tbody"),S.TgZ(51,"tr"),S.TgZ(52,"td"),S._uU(53),S.qZA(),S.TgZ(54,"td"),S._uU(55),S.qZA(),S.TgZ(56,"td"),S._uU(57),S.qZA(),S.TgZ(58,"td"),S._uU(59),S.qZA(),S.TgZ(60,"td"),S._uU(61),S.qZA(),S.TgZ(62,"td"),S._uU(63),S.qZA(),S.TgZ(64,"td"),S._uU(65),S.qZA(),S.TgZ(66,"td"),S._uU(67),S.qZA(),S.TgZ(68,"td"),S._uU(69),S.qZA(),S.TgZ(70,"td"),S._uU(71),S.qZA(),S.TgZ(72,"td"),S._uU(73),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.TgZ(74,"div",7),S.TgZ(75,"div",12),S.TgZ(76,"div",14),S.TgZ(77,"button",15),S.NdJ("click",function(){return S.CHM(i),S.oxw().onProcessingTheSingleAccount()}),S._uU(78,"Process"),S.qZA(),S.qZA(),S.TgZ(79,"div",14),S.TgZ(80,"button",15),S.NdJ("click",function(){return S.CHM(i),S.oxw().onCancelingTheSingleRecord()}),S._uU(81,"Delete"),S.qZA(),S.qZA(),S.TgZ(82,"div",14),S.TgZ(83,"button",16),S._uU(84,"Exit"),S.qZA(),S.qZA(),S.qZA(),S.qZA(),S.TgZ(85,"div",7),S.TgZ(86,"label",8),S._uU(87,"Export As"),S.qZA(),S.TgZ(88,"select",22),S.TgZ(89,"option",23),S.NdJ("click",function(){return S.CHM(i),S.oxw().downloadReportForSingle()}),S._uU(90,"Excel"),S.qZA(),S.TgZ(91,"option",24),S.NdJ("click",function(){return S.CHM(i),S.oxw().convertReportForSingle()}),S._uU(92,"PDF"),S.qZA(),S.qZA(),S.qZA(),S.qZA()}if(2&e){var r=S.oxw();S.xp6(2),S.Q6J("dtOptions",r.dtOptions)("dtTrigger",r.dtTrigger),S.xp6(14),S.Oqu(r.fetchUserSingle.accountType),S.xp6(2),S.Oqu(r.fetchUserSingle.closureType),S.xp6(2),S.Oqu(r.fetchUserSingle.branchCode),S.xp6(2),S.Oqu(r.fetchUserSingle.accountNumber),S.xp6(1),S.Q6J("dtOptions",r.dtOptions)("dtTrigger",r.dtTrigger),S.xp6(30),S.Oqu(r.fetchUserSingle.acyCurrBalance),S.xp6(2),S.hij(" ",r.fetchUserSingle.lcyCurrBalance,""),S.xp6(2),S.Oqu(r.fetchUserSingle.acyAvlBal),S.xp6(2),S.Oqu(r.fetchUserSingle.acStatNoDr),S.xp6(2),S.Oqu(r.fetchUserSingle.acSatNoCr),S.xp6(2),S.Oqu(r.fetchUserSingle.frozen),S.xp6(2),S.Oqu(r.fetchUserSingle.dorm),S.xp6(2),S.Oqu(r.fetchUserSingle.accountStatus),S.xp6(2),S.Oqu(r.fetchUserSingle.recordStatusFromFlexCube),S.xp6(2),S.Oqu(r.fetchUserSingle.customerId),S.xp6(2),S.Oqu(r.fetchUserSingle.valueDate)}}n(46481);var oe=[{path:"",component:ee},{path:"create",component:M,canDeactivate:[l.I]},{path:"viewReport",component:function(){var e=function(){function e(t,r,c,n,s){i(this,e),this.excelService=t,this.ref=r,this.iziToast=c,this.roleService=n,this.router=s,this.fetchUserSingle=new h,this.accountTypeForBulk="",this.excel=[],this.sendFileName="",this.dtTrigger=new a.xQ,this.dtOptions={},this.singleExcel=Array()}return c(e,[{key:"ngOnInit",value:function(){var e=this;console.log("Inside View Report"),this.closureTypes=localStorage.getItem("CLOSURETYPE"),console.log(this.closureTypes),this.navSubscription=this.excelService.getNavParam.subscribe(function(t){return e.ViewAccClosure=t}),console.log(this.ViewAccClosure),this.fetchUserSingle.accountTypeBulk=this.ViewAccClosure.queryParams.accountTypeBulk,this.fetchUserSingle.modNo=this.ViewAccClosure.queryParams.modNo,this.fetchUserSingle.closureType=this.ViewAccClosure.queryParams.closureType,this.fetchUserSingle.accountNumber=this.ViewAccClosure.queryParams.accountNumber,this.fetchUserSingle.accountType=this.ViewAccClosure.queryParams.accountType,this.fetchUserSingle.recordStatus=this.ViewAccClosure.queryParams.record,this.fetchUserSingle.verifiedStatus=this.ViewAccClosure.queryParams.verifiedStatus,this.fetchUserSingle.inputBy=this.ViewAccClosure.queryParams.inputBy,this.fetchUserSingle.inputTime=this.ViewAccClosure.queryParams.inputTime,this.fetchUserSingle.verifiedOnce=this.ViewAccClosure.queryParams.verifiedfirst,this.fetchUserSingle.verifiedBy=this.ViewAccClosure.queryParams.verifiedBy,this.fetchUserSingle.fileName=this.ViewAccClosure.queryParams.fileName,this.fetchUserSingle.branchCode=this.ViewAccClosure.queryParams.branch,this.fetchUserSingle.reasonForClosure=this.ViewAccClosure.queryParams.reason,this.fetchUserSingle.processStatus=this.ViewAccClosure.queryParams.processStatus,this.fetchUserSingle.accountLinkageDesc=this.ViewAccClosure.queryParams.Desc,this.fetchUserSingle.closeStatusInputBy=this.ViewAccClosure.queryParams.closeStatusInputBy,this.fetchUserSingle.closeStatusInputTime=this.ViewAccClosure.queryParams.closeStatusInputTime,this.fetchUserSingle.closeStatus=this.ViewAccClosure.queryParams.closeStatus,this.fetchUserSingle.icliqAvlBal=this.ViewAccClosure.queryParams.icliqAvlBal,this.fetchUserSingle.icliqBalance=this.ViewAccClosure.queryParams.icliqBalance,this.fetchUserSingle.icliqStatus=this.ViewAccClosure.queryParams.icliqStatus,this.fetchUserSingle.makerId=this.ViewAccClosure.queryParams.makerId,this.fetchUserSingle.makerInputTime=this.ViewAccClosure.queryParams.makerInputTime,this.fetchUserSingle.accls=this.ViewAccClosure.queryParams.accls,this.fetchUserSingle.lastTransactionDetail=this.ViewAccClosure.queryParams.lastTransactionDetail,this.fetchUserSingle.blockedAmount=this.ViewAccClosure.queryParams.blockedAmount,this.fetchUserSingle.deStatus=this.ViewAccClosure.queryParams.deStatus,this.fetchUserSingle.linkedAccounts=this.ViewAccClosure.queryParams.linkedAccounts,this.fetchUserSingle.checkerId=this.ViewAccClosure.queryParams.checkerId,this.fetchUserSingle.checkerInputTime=this.ViewAccClosure.queryParams.checkerInputTime,console.log(this.fetchUserSingle)}},{key:"exportAsXLSX",value:function(){var e=this;console.log("this is on click of download"),setTimeout(function(){},2e3),console.log(this.fetchUserSingle.fileName);var t=this.fetchUserSingle.fileName.split(".").slice(0,-1).join(".");this.excelService.getExcel(t,this.fetchUserSingle.accountType).subscribe(function(t){console.log("this is backend data for excel",t),e.excel=t,t.forEach(function(e){}),e.excelService.exportAsExcelFile(e.excel,"BULK_ACCOUNT_CLOSURE")}),console.log(this.excel)}},{key:"convert",value:function(){var e=this;new(ie());var t=[["AccountNo","branchCode","closureReason","customerId","fileName","frozen"]],i=[];console.log(this.fetchUserSingle);var r=this.fetchUserSingle.fileName.split(".").slice(0,-1).join(".");this.excelService.getExcel(r,this.fetchUserSingle.accountType).subscribe(function(r){console.log("this is backend data for excel"),e.excel=r,e.excel.forEach(function(e){var t=new Date(e.timeForExport).toLocaleDateString("en-us");console.log(t),i.push([e.accountNo,e.branchCode,e.closureReason,e.customerId,e.fileName,e.frozen])});var c=new(ie());c.autoTable({head:t,body:i}),c.save("BULK_Account_Closure.pdf")})}},{key:"modo",value:function(e){console.log(e),"PDF"==e&&this.convert(),"Excel"==e&&this.exportAsXLSX()}},{key:"onProcessingTheBulkAccount",value:function(){var e=this;console.log("this is bulk process",this.fetchUserSingle.fileName),this.excelService.processTheBulkRecord(this.fetchUserSingle.fileName,this.fetchUserSingle.accountType,this.fetchUserSingle.inputBy).subscribe(function(t){console.log(t);var i=t.errorDesc;1==t.var1?(e.process=!0,e.ref.markForCheck(),d().fire({text:"Record Processed SuccessFully",icon:"success"})):d().fire({text:i,icon:"warning"})})}},{key:"onCancelingTheRecord",value:function(){var e=this;console.log("this is deleteing the record",this.fetchUserSingle.fileName),this.excelService.onDeletingTheReocrd(this.fetchUserSingle.fileName,this.fetchUserSingle.accountTypeBulk,this.fetchUserSingle.makerId).subscribe(function(t){console.log(t),1==t?(e.delete=!0,d().fire({text:"Record is Deleted",icon:"success"}),e.router.navigate(["/initiate-account-closure"])):d().fire({text:"Failed To Delete The Record",icon:"warning"})})}},{key:"onProcessingTheSingleAccount",value:function(){var e=this;console.log("this is single process",this.fetchUserSingle.accountNumber),this.excelService.processTheSingleRecord(this.fetchUserSingle.accountNumber,this.fetchUserSingle.inputBy).subscribe(function(t){console.log(t);var i=t.errorDesc;1==t.var1?(e.process=!0,e.ref.markForCheck(),d().fire({text:"Record Processed SuccessFully",icon:"success"})):d().fire({text:i,icon:"warning"})})}},{key:"onCancelingTheSingleRecord",value:function(){var e=this;console.log("deleting Single",this.fetchUserSingle.accountNumber),console.log("deleting Single",this.fetchUserSingle.accountType),console.log("deleting Single",this.fetchUserSingle.closureType),console.log("deleting Single",this.fetchUserSingle.inputBy),this.excelService.onDeletingSingle(this.fetchUserSingle.accountNumber,this.fetchUserSingle.accountType,this.fetchUserSingle.closureType,this.fetchUserSingle.inputBy).subscribe(function(t){console.log(t),e.deleteSingle=!0,1==t?(d().fire({text:"Record is Deleted",icon:"success"}),e.router.navigate(["/initiate-account-closure"])):d().fire({text:"Failed To Delete The Record",icon:"warning"})})}},{key:"downloadReportForSingle",value:function(){console.log("download for single"),this.singleExcel.push(this.fetchUserSingle),console.log(this.fetchUserSingle),console.log(this.singleExcel),this.excelService.exportAsExcelForSingleAccount(this.singleExcel,"SINGLE_ACCOUNT_CLOSURE"),console.log("this is single",this.singleExcel)}},{key:"convertReportForSingle",value:function(){var e=this;console.log(this.fetchUserSingle);var t=new(ie()),i=this.fetchUserSingle;Object.keys(i),Object.values(i),Object.entries(i),console.log(Object.entries(i)),Object.entries(i);var r=Object.keys(this.fetchUserSingle).map(function(t){return{type:t,value:e.fetchUserSingle[t]}});console.log(r),t.autoTable({body:r}),t.save("Single_Account_Closure.pdf")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(S.Y36(p.b),S.Y36(S.sBO),S.Y36(m.I),S.Y36(v.N),S.Y36(o.F0))},e.\u0275cmp=S.Xpm({type:e,selectors:[["npr-view-report-acc-closure"]],decls:7,vars:2,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],["action","",1,"formStyle"],["class","dbCardStyle cardWidth",4,"ngIf"],["class","dbCardStyle",4,"ngIf"],[1,"dbCardStyle","cardWidth"],[1,"col-12"],["for","roleName",1,"formLbl"],["aria-label","Default select example",1,"form-select",3,"change"],["value","Excel"],["value","PDF"],[1,"row","g-3","pb-3","justify-content-center","pt-3"],["class","col-auto",4,"ngIf"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],["routerLink","/initiate-account-closure",1,"btn","smBtn","minWdSmBtn","btnSecondary"],["type","button",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],[1,"dbCardStyle"],[1,"row","g-3","pb-3","justify-content-end"],["datatable","",1,"dataTable","table","tableStyle","responsive","nowrap",2,"width","100%",3,"dtOptions","dtTrigger"],["datatable","",1,"dataTable","table","tableStyle","responsive","nowrap",3,"dtOptions","dtTrigger"],["aria-label","Default select example",1,"form-select"],["value","1",3,"click"],["value","2",3,"click"]],template:function(e,t){1&e&&(S.TgZ(0,"div",0),S.TgZ(1,"div",1),S.TgZ(2,"h2",2),S._uU(3,"View Report"),S.qZA(),S.qZA(),S.TgZ(4,"form",3),S.YNc(5,ne,19,2,"div",4),S.YNc(6,se,93,19,"div",5),S.qZA(),S.qZA()),2&e&&(S.xp6(5),S.Q6J("ngIf","SINGLE"!=t.fetchUserSingle.closureType),S.xp6(1),S.Q6J("ngIf","SINGLE"==t.fetchUserSingle.closureType))},directives:[u._Y,u.JL,s.O5,u.YN,u.Kr,o.rH,H.G],styles:[""]}),e}()}],le=function(){var e=c(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S.oAB({type:e}),e.\u0275inj=S.cJS({imports:[[o.Bz.forChild(oe)],o.Bz]}),e}(),ue=function(){var e=c(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S.oAB({type:e}),e.\u0275inj=S.cJS({imports:[[s.ez,le,H.T,u.UX]]}),e}()}}])}();