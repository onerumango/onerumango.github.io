!function(){function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{tPCj:function(t,n,i){"use strict";i.r(n),i.d(n,"CardAccountModule",function(){return Bo});var o=i("SVse"),c=i("Tj54"),s=i("vrAh"),l=i("r1zJ"),u=i("tZUg"),d=i("s7LF"),b=i("nm5K"),m=i("8Y7J"),p=i("zHaW"),g=i("iELJ"),f=i("iInd"),h=i("PDjf"),y=i("Dxy4"),v=i("VDRc"),C=i("e6WT"),x=i("Q2Ze");function W(e,t){if(1&e&&(m.Xb(0,"tr",14),m.Xb(1,"div",15),m.Vb(2,11),m.Xb(3,"div",16),m.Sb(4,"input",17),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",18),m.Xb(7,"mat-label",19),m.Tc(8,"Amount"),m.Wb(),m.Sb(9,"input",20,21),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb()),2&e){var r=t.$implicit;m.Eb(2),m.rc("formGroup",r)}}var X=function(e){return[e]};function I(e,t){if(1&e&&(m.Xb(0,"form",11),m.Xb(1,"table",12),m.Xb(2,"tbody"),m.Rc(3,W,11,1,"tr",13),m.Wb(),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("formGroup",r.chargeFormIT),m.Eb(3),m.rc("ngForOf",m.xc(2,X,r.in.controls[r.in.controls.length-1]))}}var k,S=((k=function(){function e(t,n,a,i,o,c){r(this,e),this.snack=t,this.dialogRef=n,this.ls=a,this.api=i,this.router=o,this.formBuilder=c,this.accountType="Home Loan"}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.chargeFormIT=this.formBuilder.group({chargeIT:new d.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(t){e.onChangeInterest(t.length),e.in.patchValue(t)}),this.api.cardChargeFetchById(this.cardId).subscribe(function(t){console.log("resp from backend ",e.resp),e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp)})}},{key:"onChangeInterest",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.in.length<t)for(var r=this.in.length;r<t;r++)this.in.push(this.formBuilder.group({intrestType:[""],amount:[""],waiver:[!1],cardId:[this.cardId],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var n=this.in.length;n>=t;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.chargeFormIT.controls}},{key:"in",get:function(){return this.f.chargeIT}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"onSubmit",value:function(e){}},{key:"edit",value:function(){var e=this.chargeFormIT.controls.chargeIT.value.at(-1).amount;console.log({amount:e}),this.dialogRef.close(),this.router.navigate(["/cardaccount/applicationEnrichment/charge-details"],{state:{amount:e}})}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("charge detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"close",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[a-zA-Z]/.test(t)||e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||k)(m.Rb(p.a),m.Rb(g.g),m.Rb(u.a),m.Rb(b.b),m.Rb(f.h),m.Rb(d.f))},k.\u0275cmp=m.Lb({type:k,selectors:[["app-card-acc-charge-det-sum"]],decls:14,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","form",4,"ngFor","ngForOf"],[1,"form"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","amount","name","account_branch","readonly","",1,"input"],["amount",""]],template:function(e,t){1&e&&(m.Xb(0,"mat-card",0),m.Xb(1,"button",1),m.Xb(2,"mat-icon",2),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"span",4),m.Tc(6,"Charge Details Summary "),m.Wb(),m.Wb(),m.Xb(7,"div",5),m.Sb(8,"div",6),m.Xb(9,"div",7),m.Sb(10,"div",8),m.Rc(11,I,4,4,"form",9),m.Wb(),m.Wb(),m.Xb(12,"span",10),m.fc("click",function(){return t.edit()}),m.Tc(13,"Edit"),m.Wb(),m.Wb()),2&e&&(m.Eb(11),m.rc("ngIf",t.chargeFormIT))},directives:[h.a,y.b,g.d,c.a,v.e,v.b,o.n,d.C,d.s,d.j,o.m,C.b,d.c,d.r,d.i,x.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px;width:400px}.mainDiv[_ngcontent-%COMP%]{padding:5px}.paraFont[_ngcontent-%COMP%]{font-family:Montserrat;font-size:20px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1;width:400px}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:15px;font-weight:600;width:70%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}"]}),k),O=i("BSbQ");function D(e,t){1&e&&(m.Xb(0,"tr",15),m.Xb(1,"div",16),m.Vb(2),m.Xb(3,"div",17),m.Sb(4,"input",18),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",19),m.Xb(7,"mat-label",20),m.Tc(8,"Interest Rate Applicable"),m.Wb(),m.Sb(9,"input",21),m.Wb(),m.Wb(),m.Xb(10,"td"),m.Xb(11,"mat-card",19),m.Xb(12,"mat-label",20),m.Tc(13,"Margin in %"),m.Wb(),m.Sb(14,"input",22),m.Wb(),m.Wb(),m.Xb(15,"td"),m.Xb(16,"mat-card",19),m.Xb(17,"mat-label",20),m.Tc(18,"Effective Rate %"),m.Wb(),m.Sb(19,"input",23),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb()),2&e&&m.rc("formGroup",t.$implicit)}function T(e,t){if(1&e&&(m.Xb(0,"form",12),m.Xb(1,"table",13),m.Xb(2,"tbody"),m.Rc(3,D,20,1,"tr",14),m.Wb(),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("formGroup",r.interestForm),m.Eb(3),m.rc("ngForOf",r.in.controls)}}var A,E=((A=function(){function e(t,n,a,i,o,c){r(this,e),this.ls=t,this.snack=n,this.dialogRef=a,this.api=i,this.router=o,this.formBuilder=c}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.interestForm=this.formBuilder.group({interest:new d.d([])}),this.savingForm=this.formBuilder.group({saving:new d.d([])}),this.loanForm=this.formBuilder.group({loan:new d.d([])}),this.api.cardInterestFetchById(this.cardId).subscribe(function(t){console.log("resp from backend ",e.resp),e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp)})}},{key:"assignAccountType",value:function(e){this.accountType=e}},{key:"onChangeInterest",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.in.length<t)for(var r=this.in.length;r<t;r++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var n=this.in.length;n>=t;n--)this.in.removeAt(n)}},{key:"onChangeSaving",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.is.length<t)for(var r=this.is.length;r<t;r++)this.is.push(this.formBuilder.group({intrestType:[""],interestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var n=this.is.length;n>=t;n--)this.is.removeAt(n)}},{key:"onChangeLoan",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.iloan.length<t)for(var r=this.iloan.length;r<t;r++)this.iloan.push(this.formBuilder.group({intrestType:[""],interestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var n=this.iloan.length;n>=t;n--)this.iloan.removeAt(n)}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.interest}},{key:"fs",get:function(){return this.savingForm.controls}},{key:"is",get:function(){return this.fs.saving}},{key:"floan",get:function(){return this.loanForm.controls}},{key:"iloan",get:function(){return this.floan.loan}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"onSubmit",value:function(e){}},{key:"edit",value:function(){this.dialogRef.close(),this.api.setFlag({flag:!0}),this.router.navigate(["/cardaccount/applicationEnrichment/intrest-details"])}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("Intrest detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}}]),e}()).\u0275fac=function(e){return new(e||A)(m.Rb(u.a),m.Rb(p.a),m.Rb(g.g),m.Rb(b.b),m.Rb(f.h),m.Rb(d.f))},A.\u0275cmp=m.Lb({type:A,selectors:[["app-intrest-details-summary"]],decls:15,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"span"],[1,"divider"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","form",3,"formGroup",4,"ngFor","ngForOf"],[1,"form",3,"formGroup"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"]],template:function(e,t){1&e&&(m.Xb(0,"mat-card",0),m.Xb(1,"button",1),m.Xb(2,"mat-icon",2),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Xb(4,"div",3),m.Xb(5,"span",4),m.Tc(6,"Interest Details Summary "),m.Wb(),m.Sb(7,"mat-divider",5),m.Wb(),m.Xb(8,"div",6),m.Sb(9,"div",7),m.Xb(10,"div",8),m.Sb(11,"div",9),m.Rc(12,T,4,2,"form",10),m.Wb(),m.Wb(),m.Xb(13,"span",11),m.fc("click",function(){return t.edit()}),m.Tc(14,"Edit"),m.Wb(),m.Wb()),2&e&&(m.Eb(12),m.rc("ngIf",t.interestForm))},directives:[h.a,y.b,g.d,c.a,O.a,v.e,v.b,o.n,d.C,d.s,d.j,o.m,C.b,d.c,d.r,d.i,x.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.tableRow[_ngcontent-%COMP%]{width:724px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.mainDiv[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:25%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}"]}),A),_=i("6JYK"),w=i("ura0"),P=function(){return{y:"50px",delay:"300ms"}},N=function(e){return{value:"*",params:e}};function R(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",17),m.Xb(1,"mat-card"),m.Xb(2,"div",18),m.Xb(3,"div",19),m.Xb(4,"mat-icon",20),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",21),m.Xb(7,"h6"),m.Tc(8,"Application Enrichment Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",22),m.Xb(10,"button",23),m.fc("click",function(){return m.Hc(r),m.jc().navigate()}),m.Tc(11,"View Summary"),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,N,m.wc(1,P))))}function F(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",23),m.fc("click",function(){return m.Hc(r),m.jc().goToInterestSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var M=function(){return["/cardaccount/applicationEnrichment/intrest-details"]};function L(e,t){1&e&&(m.Vb(0),m.Xb(1,"button",24),m.Tc(2," Add Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()),2&e&&(m.Eb(1),m.rc("routerLink",m.wc(1,M)))}function V(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",23),m.fc("click",function(){return m.Hc(r),m.jc().goToChargeSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var B=function(){return["/cardaccount/applicationEnrichment/charge-details"]};function j(e,t){if(1&e&&(m.Vb(0),m.Xb(1,"button",25),m.Tc(2," Add Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()),2&e){var r=m.jc();m.Eb(1),m.rc("routerLink",m.wc(2,B))("disabled",!r.isCardInterestDetails)}}var q,U=function(e){return{"border-size":e}},z=((q=function(){function e(t,n,a,i,o){r(this,e),this.router=t,this.dialog=n,this.ls=a,this.accountService=i,this.cdr=o,this.isCardInterestDetails=!1,this.isCardChargeDetails=!1,this.isCardApplicationEnrichmentDone=!1}return a(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.isCardInterestDetails=this.ls.getItem("CARD_INTEREST_DETAILS_DONE"),this.isCardChargeDetails=this.ls.getItem("CARD_CHARGE_DETAILS_DONE"),this.isCardInterestDetails&&this.isCardChargeDetails&&(this.isCardApplicationEnrichmentDone=!0)}},{key:"goToInterestSummary",value:function(){this.dialog.open(E,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"goToChargeSummary",value:function(){this.dialog.open(S,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"navigate",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/Summary"])}}]),e}()).\u0275fac=function(e){return new(e||q)(m.Rb(f.h),m.Rb(g.b),m.Rb(u.a),m.Rb(_.a),m.Rb(m.h))},q.\u0275cmp=m.Lb({type:q,selectors:[["app-application-enrichment"]],decls:45,vars:13,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"size"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create New Card Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,R,12,4,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card",11),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1.Interest Details"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",12),m.Xb(20,"div",13),m.Xb(21,"p"),m.Tc(22," Interest Type and Effective Interest Rate is captured. "),m.Wb(),m.Wb(),m.Xb(23,"div",14),m.Sb(24,"img",15),m.Wb(),m.Wb(),m.Wb(),m.Sb(25,"mat-divider"),m.Xb(26,"mat-card-actions"),m.Rc(27,F,5,0,"ng-container",16),m.Rc(28,L,5,2,"ng-container",16),m.Wb(),m.Wb(),m.Wb(),m.Xb(29,"div",10),m.Xb(30,"mat-card",11),m.Xb(31,"mat-card-header"),m.Xb(32,"mat-card-title"),m.Tc(33,"2.Charge Details"),m.Wb(),m.Wb(),m.Xb(34,"mat-card-content"),m.Xb(35,"div",12),m.Xb(36,"div",13),m.Xb(37,"p"),m.Tc(38," Charge Details are dispalyed. "),m.Wb(),m.Wb(),m.Xb(39,"div",14),m.Sb(40,"img",15),m.Wb(),m.Wb(),m.Wb(),m.Sb(41,"mat-divider"),m.Xb(42,"mat-card-actions"),m.Rc(43,V,5,0,"ng-container",16),m.Rc(44,j,5,3,"ng-container",16),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(11),m.rc("ngIf",t.isCardApplicationEnrichmentDone),m.Eb(3),m.rc("ngClass",m.xc(9,U,t.isCardInterestDetails||!t.isCardInterestDetails)),m.Eb(10),m.rc("src","assets/images/svg/Mask Ggroup 5.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isCardInterestDetails),m.Eb(1),m.rc("ngIf",!t.isCardInterestDetails),m.Eb(2),m.rc("ngClass",m.xc(11,U,t.isCardChargeDetails||!t.isCardChargeDetails&&t.isCardInterestDetails)),m.Eb(10),m.rc("src","assets/images/esign.png",m.Jc),m.Eb(3),m.rc("ngIf",t.isCardChargeDetails),m.Eb(1),m.rc("ngIf",!t.isCardChargeDetails))},directives:[v.e,v.b,o.n,h.a,o.l,w.a,h.e,h.h,h.d,v.f,v.d,O.a,h.b,c.a,y.b,f.i],styles:[".border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.size[_ngcontent-%COMP%]{padding-left:18px!important;color:#d3d3d3}"]}),q),G=i("pMoy");function H(e,t){if(1&e){var r=m.Yb();m.Xb(0,"tr",22),m.Vb(1,23),m.Xb(2,"td"),m.Xb(3,"mat-form-field"),m.Sb(4,"input",24),m.Wb(),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-form-field"),m.Xb(7,"span",25),m.Tc(8),m.Wb(),m.Xb(9,"input",26),m.fc("keypress",function(e){return m.Hc(r),m.jc(2).onKeyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"td"),m.Xb(11,"div",27),m.Xb(12,"mat-checkbox",28),m.fc("change",function(e){return m.Hc(r),m.jc(2).checkbox(e)}),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb()}if(2&e){var n=t.$implicit,a=m.jc(2);m.Eb(1),m.rc("formGroup",n),m.Eb(7),m.Vc("",a.currencySymbol,"\xa0")}}function Y(e,t){if(1&e&&(m.Xb(0,"form",14),m.Xb(1,"div",15),m.Xb(2,"span",16),m.Tc(3,"Charge Details "),m.Wb(),m.Sb(4,"mat-divider",17),m.Wb(),m.Xb(5,"table",18),m.Xb(6,"thead",19),m.Xb(7,"tr",20),m.Xb(8,"th"),m.Tc(9,"Interest Type"),m.Wb(),m.Xb(10,"th"),m.Tc(11,"Amount"),m.Wb(),m.Xb(12,"th"),m.Tc(13,"waiever"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"tbody"),m.Rc(15,H,13,2,"tr",21),m.Wb(),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("formGroup",r.interestForm),m.Eb(15),m.rc("ngForOf",r.in.controls)}}var $,Q=(($=function(){function e(t,n,a,i,o,c){r(this,e),this.accountService=t,this.snack=n,this.ls=a,this.api=i,this.router=o,this.formBuilder=c,this.accountType="Card Origin"}return a(e,[{key:"ngOnInit",value:function(){var e=this;console.log(history.state.amount),this.cardId=this.ls.getItem("cardId"),this.currencytype=localStorage.getItem("Currency Type"),"INR"===this.currencytype?this.currencySymbol="\u20b9":"USD"===this.currencytype?this.currencySymbol="$":"CNY"===this.currencytype?this.currencySymbol="\xa5":"GBP"===this.currencytype?this.currencySymbol="\xa3":"ZAR"===this.currencytype&&(this.currencySymbol="R"),this.interestForm=this.formBuilder.group({chargeInfo:new d.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(t){e.onChangeInterest(t.length),e.in.patchValue([Object.assign(Object.assign({},t[0]),{amount:history.state.amount?history.state.amount:""})])})}},{key:"onChangeInterest",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.in.length<t)for(var r=this.in.length;r<t;r++)this.in.push(this.formBuilder.group({intrestType:[""],amount:["",d.A.required],waiver:[!1],cardId:[this.cardId],chargeDetailsId:[""]}));else for(var n=this.in.length;n>=t;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.chargeInfo}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/intrest-details"])}},{key:"appendPercentage",value:function(e){console.log(e.target.value),e.target.value.length&&(1===e.target.value.length&&(e.target.value=e.target.value+"%"),e.target.value.length>1&&(e.target.value=e.target.value.slice(0,-1)+"%"))}},{key:"onSubmit",value:function(e){var t=this;console.log("form",e),this.api.cardChargeDetailsSave(e).subscribe(function(e){t.snack.open("Charge Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.next(),console.log("backend response from intrest saving",e)},function(e){t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("chargeInfo detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"checkbox",value:function(e){console.log(e.checked)}},{key:"next",value:function(){this.ls.setItem("CARD_CHARGE_DETAILS_DONE",!0),this.ls.setItem("CARD_ENRICHMENT_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/underwritingStage/list"])}},{key:"onKeyPress",value:function(e){var t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||(e.preventDefault(),console.log("event:",e))}}]),e}()).\u0275fac=function(e){return new(e||$)(m.Rb(_.a),m.Rb(p.a),m.Rb(u.a),m.Rb(b.b),m.Rb(f.h),m.Rb(d.f))},$.\u0275cmp=m.Lb({type:$,selectors:[["app-charge-details"]],decls:18,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/chargeDetails.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],[1,"spanDiv1"],[1,"span"],[1,"divider"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],["matInput","","formControlName","intrestType","name","account_branch","readonly","",1,"input"],["matPrefix",""],["maxlength","10","formControlName","amount","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","matInput","","formControlName","amount","name","account_branch",1,"input",3,"keypress"],[1,"waiver-pos"],["formControlName","waiver","color","primary",3,"change"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Charge Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Sb(10,"div",8),m.Rc(11,Y,16,2,"form",9),m.Wb(),m.Xb(12,"div",10),m.Xb(13,"a",11),m.fc("click",function(){return t.goBack()}),m.Tc(14,"Back"),m.Wb(),m.Sb(15,"span",12),m.Xb(16,"button",13),m.fc("click",function(){return t.onSubmit(t.interestForm.value)}),m.Tc(17,"Next"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(11),m.rc("ngIf",t.interestForm),m.Eb(5),m.rc("disabled",t.interestForm.invalid))},directives:[v.e,v.b,o.n,y.a,y.b,d.C,d.s,d.j,O.a,o.m,x.c,C.b,d.c,d.r,d.i,x.i,d.m,G.a],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mat-form-field[_ngcontent-%COMP%]{box-shadow:0 2px 2px #dcdcdc!important;padding-left:10px}  .mat-form-field-underline{display:none}.mainDiv[_ngcontent-%COMP%]{padding:10px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px;opacity:1}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.matCardBox[_ngcontent-%COMP%]{min-width:150px;max-width:200px;width:100%}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.backButton[_ngcontent-%COMP%]{color:#5d5d5d;border-style:none}.backButton[_ngcontent-%COMP%], .spanDiv[_ngcontent-%COMP%]{letter-spacing:0;opacity:1}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;color:#456efe}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.span[_ngcontent-%COMP%]{font-weight:600;width:22%!important;margin-left:50px}.divider[_ngcontent-%COMP%]{position:unset!important;width:500px;align-self:center!important}.theadClass[_ngcontent-%COMP%]{background-color:#fff}.tableRow[_ngcontent-%COMP%]{width:500px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.waiver-pos[_ngcontent-%COMP%]{text-align:center}"]}),$);function K(e,t){if(1&e&&(m.Xb(0,"tr",17),m.Xb(1,"div",18),m.Vb(2,15),m.Xb(3,"div",19),m.Sb(4,"input",20),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",21),m.Xb(7,"mat-label",22),m.Tc(8,"Interest Rate Applicable"),m.Wb(),m.Sb(9,"input",23),m.Wb(),m.Wb(),m.Xb(10,"td"),m.Xb(11,"mat-card",21),m.Xb(12,"mat-label",22),m.Tc(13,"Margin in %"),m.Wb(),m.Sb(14,"input",24),m.Wb(),m.Wb(),m.Xb(15,"td"),m.Xb(16,"mat-card",21),m.Xb(17,"mat-label",22),m.Tc(18,"Effective Rate %"),m.Wb(),m.Sb(19,"input",25),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb()),2&e){var r=t.$implicit;m.Eb(2),m.rc("formGroup",r)}}function J(e,t){if(1&e&&(m.Xb(0,"form",15),m.Xb(1,"table"),m.Xb(2,"tbody"),m.Rc(3,K,20,1,"tr",16),m.Wb(),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("formGroup",r.interestForm),m.Eb(3),m.rc("ngForOf",r.in.controls)}}function Z(e,t){if(1&e&&(m.Xb(0,"tr",28),m.Xb(1,"div",29),m.Vb(2,15),m.Xb(3,"div",19),m.Sb(4,"input",20),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",21),m.Xb(7,"mat-label",22),m.Tc(8,"Amount"),m.Wb(),m.Sb(9,"input",30),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb()),2&e){var r=t.$implicit;m.Eb(2),m.rc("formGroup",r)}}function ee(e,t){if(1&e&&(m.Xb(0,"form",15),m.Xb(1,"table",26),m.Xb(2,"tbody"),m.Rc(3,Z,10,1,"tr",27),m.Wb(),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("formGroup",r.chargeFormIT),m.Eb(3),m.rc("ngForOf",r.in2.controls)}}var te,re=((te=function(){function e(t,n,a,i,o){r(this,e),this.formBuilder=t,this.ls=n,this.snack=a,this.api=i,this.router=o,this.appEntrySummaryView=!1,this.accountType="Home Loan"}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.getCardEnrichmentDetails(this.cardId),this.interestForm=this.formBuilder.group({interest:new d.d([])}),this.savingForm=this.formBuilder.group({saving:new d.d([])}),this.chargeFormIT=this.formBuilder.group({chargeIT:new d.d([])}),this.loanForm=this.formBuilder.group({loan:new d.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(t){e.onCardCharge(t.length),e.in2.patchValue(t)})}},{key:"getCardEnrichmentDetails",value:function(e){var t=this;this.api.getCardEnrichmentSummmary(e).subscribe(function(e){console.log(e),t.intererstInfo=e.intererstInfo,console.log(t.intererstInfo),t.onCardintrest(t.intererstInfo.length),t.in.patchValue(t.intererstInfo),t.chargeInfo=e.chargeInfo,t.onCardCharge(t.chargeInfo.length),t.in2.patchValue(t.chargeInfo)})}},{key:"onCardintrest",value:function(e){var t=e||0;if(this.in.length<t)for(var r=this.in.length;r<t;r++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var n=this.in.length;n>=t;n--)this.in.removeAt(n)}},{key:"onCardCharge",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.in2.length<t)for(var r=this.in2.length;r<t;r++)this.in2.push(this.formBuilder.group({intrestType:[""],amount:[""],waiver:[!0],cardId:[this.cardId],chargeDetailsId:[""]}));else for(var n=this.in2.length;n>=t;n--)this.in2.removeAt(n)}},{key:"f2",get:function(){return this.chargeFormIT.controls}},{key:"in2",get:function(){return this.f2.chargeIT}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.interest}},{key:"iloan",get:function(){return this.floan.loan}},{key:"floan",get:function(){return this.loanForm.controls}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("chargeInfo detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"checkbox",value:function(e){console.log(e.checked)}},{key:"assignAccountType",value:function(e){this.accountType=e}},{key:"Done",value:function(){this.router.navigate(["/cardaccount/underwritingStage/list"])}},{key:"Back",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}}]),e}()).\u0275fac=function(e){return new(e||te)(m.Rb(d.f),m.Rb(u.a),m.Rb(p.a),m.Rb(b.b),m.Rb(f.h))},te.\u0275cmp=m.Lb({type:te,selectors:[["app-enrichment-summary"]],decls:28,vars:2,consts:[[1,"propic","text-center"],["src","assets/images/svg/undraw_statistic_chart_38b6.svg","alt","",1,"entryImg"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"matCard"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"formGroup"],["class","mt-4","style","display: flex;flex-wrap: wrap;",4,"ngFor","ngForOf"],[1,"mt-4",2,"display","flex","flex-wrap","wrap"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","chargeTable",4,"ngFor","ngForOf"],[1,"chargeTable"],[1,"chargeLeft"],["matInput","","formControlName","amount","name","account_branch","readonly","",1,"input"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Sb(1,"img",1),m.Wb(),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Xb(4,"b"),m.Tc(5,"Application Enrichment"),m.Wb(),m.Wb(),m.Wb(),m.Xb(6,"div",4),m.Xb(7,"h4",5),m.Tc(8,"Interest Details"),m.Wb(),m.Wb(),m.Xb(9,"div",6),m.Xb(10,"div",7),m.Sb(11,"div",8),m.Rc(12,J,4,2,"form",9),m.Sb(13,"br"),m.Xb(14,"div"),m.Xb(15,"h4",5),m.Tc(16,"Card Account Charge Details"),m.Wb(),m.Wb(),m.Xb(17,"mat-card",10),m.Xb(18,"div",6),m.Sb(19,"div",11),m.Xb(20,"div",7),m.Sb(21,"div",8),m.Rc(22,ee,4,2,"form",9),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(23,"div",12),m.Xb(24,"button",13),m.fc("click",function(){return t.Back()}),m.Tc(25," Back "),m.Wb(),m.Xb(26,"button",14),m.fc("click",function(){return t.Done()}),m.Tc(27," Done "),m.Wb(),m.Wb()),2&e&&(m.Eb(12),m.rc("ngIf",t.interestForm),m.Eb(10),m.rc("ngIf",t.chargeFormIT))},directives:[v.e,v.b,o.n,h.a,v.d,v.f,y.b,d.C,d.s,d.j,o.m,C.b,d.c,d.r,d.i,x.g],styles:[".spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#213253;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.toggle[_ngcontent-%COMP%]{padding-left:16px}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:22%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}.headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}"]}),te),ne=i("3sEA");function ae(e,t){if(1&e&&(m.Xb(0,"tr",22),m.Vb(1,23),m.Xb(2,"td"),m.Xb(3,"mat-card",24),m.Sb(4,"input",25),m.Wb(),m.Wb(),m.Xb(5,"td"),m.Xb(6,"mat-card",26),m.Sb(7,"input",27),m.Xb(8,"span",28),m.Tc(9,"%"),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"td"),m.Xb(11,"mat-card",26),m.Sb(12,"input",29),m.Xb(13,"span",28),m.Tc(14,"%"),m.Wb(),m.Wb(),m.Wb(),m.Xb(15,"td"),m.Xb(16,"mat-card",26),m.Sb(17,"input",30),m.Xb(18,"span",28),m.Tc(19,"%"),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb()),2&e){var r=t.$implicit;m.Eb(1),m.rc("formGroup",r)}}function ie(e,t){if(1&e&&(m.Xb(0,"form",14),m.Xb(1,"div",15),m.Xb(2,"span",16),m.Tc(3," Interest Details "),m.Wb(),m.Sb(4,"mat-divider",17),m.Wb(),m.Xb(5,"table",18),m.Xb(6,"thead",19),m.Xb(7,"tr",20),m.Xb(8,"th"),m.Tc(9,"Interest Type"),m.Wb(),m.Xb(10,"th"),m.Tc(11,"Interest Rate Applicable"),m.Wb(),m.Xb(12,"th"),m.Tc(13,"Margin in %"),m.Wb(),m.Xb(14,"th"),m.Tc(15,"Effective Rate %"),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"tbody"),m.Rc(17,ae,20,1,"tr",21),m.Wb(),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("formGroup",r.interestForm),m.Eb(17),m.rc("ngForOf",r.in.controls)}}var oe,ce=((oe=function(){function e(t,n,a,i,o,c,s){r(this,e),this.accountService=t,this.snack=n,this.ls=a,this.api=i,this.router=o,this.formBuilder=c,this.loader=s,this.showEditOption=!1,this.accountType="Card Origin"}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId");var t=this.ls.getItem("CARD_INTEREST_DETAILS_DONE");this.getInterestDetails(),null!=this.cardId&&t?(this.showEditOption=!0,this.getInterestDetails()):(console.log("else"),this.showEditOption=!1,this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(function(t){e.onChangeInterest(t.length),e.in.patchValue(t)})),this.interestForm=this.formBuilder.group({interestInfo:new d.d([])})}},{key:"getInterestDetails",value:function(){var e=this;this.cardId=this.cardId,this.api.cardInterestFetchById(this.cardId).subscribe(function(t){e.loader.close(),console.log("resp from backend ",e.resp),e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp)},function(e){})}},{key:"onChangeInterest",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.in.length<t)for(var r=this.in.length;r<t;r++)this.in.push(this.formBuilder.group({intrestType:["Fixed Rate",d.A.required],intrestRateApplicable:[5,d.A.required],marginIn:[null,[d.A.required,d.A.max(100),d.A.min(0)]],effectiveRate:[10,[d.A.required,d.A.max(100),d.A.min(0)]],cardInterestId:[""],cardId:[this.cardId]}));else for(var n=this.in.length;n>=t;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.interestInfo}},{key:"appendPercentage",value:function(e){console.log(e.target.value),e.target.value.length&&(1===e.target.value.length&&(e.target.value=e.target.value+"%"),e.target.value.length>1&&(e.target.value=e.target.value.slice(0,-1)+"%"))}},{key:"onSubmit",value:function(){var e=this;console.log(this.interestForm.value),this.api.cardintrestDetailsSave(this.interestForm.value).subscribe(function(t){e.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next(),console.log("backend response from intrest saving",t)},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"next",value:function(){this.ls.setItem("CARD_INTEREST_DETAILS_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEnrichment/charge-details"])}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("Interest detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||oe)(m.Rb(_.a),m.Rb(p.a),m.Rb(u.a),m.Rb(b.b),m.Rb(f.h),m.Rb(d.f),m.Rb(ne.a))},oe.\u0275cmp=m.Lb({type:oe,selectors:[["app-intrest-details"]],decls:18,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/loanInterest.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],[1,"spanDiv1"],[1,"span"],[1,"divider"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],[1,"matCardBox-form"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],[1,"matCardBox-form","box1"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"inputPercent"],["matSuffix",""],["matInput","","formControlName","marginIn","name","margin","placeholder","Margin","readonly","",1,"inputPercent"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"inputPercent"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Interest Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Sb(10,"div",8),m.Rc(11,ie,18,2,"form",9),m.Wb(),m.Xb(12,"div",10),m.Xb(13,"a",11),m.fc("click",function(){return t.goBack()}),m.Tc(14,"Back"),m.Wb(),m.Sb(15,"span",12),m.Xb(16,"button",13),m.fc("click",function(){return t.onSubmit()}),m.Tc(17,"Next"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(11),m.rc("ngIf",t.interestForm),m.Eb(5),m.rc("disabled",t.interestForm.invalid))},directives:[v.e,v.b,o.n,y.a,y.b,d.C,d.s,d.j,O.a,o.m,h.a,C.b,d.c,d.r,d.i,x.j],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px;opacity:1}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.matCardBox[_ngcontent-%COMP%]{width:130px;height:50px;margin-top:20px}.matCardBox-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;align-items:center}.matCardBox-form[_ngcontent-%COMP%]   input.inputPercent[_ngcontent-%COMP%]{width:10px!important;min-width:10px!important}.box1[_ngcontent-%COMP%]{height:55px!important}.matCardBox1[_ngcontent-%COMP%]{width:110px;padding-bottom:10px;margin-top:22px;padding-top:0;height:50px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%], .inputPercent[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.inputPercent[_ngcontent-%COMP%]{width:10%}.backButton[_ngcontent-%COMP%]{color:#5d5d5d;border-style:none}.backButton[_ngcontent-%COMP%], .spanDiv[_ngcontent-%COMP%]{letter-spacing:0;opacity:1}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;color:#456efe}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.span[_ngcontent-%COMP%]{font-weight:600;width:22%!important;margin-left:50px}.divider[_ngcontent-%COMP%]{position:unset!important;width:500px;align-self:center!important}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.bgColor[_ngcontent-%COMP%]{background-color:#c3c3c3}.theadClass[_ngcontent-%COMP%]{background-color:#fff}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}"]}),oe),se=i("laYw"),le=function(){return{y:"50px",delay:"300ms"}},ue=function(e){return{value:"*",params:e}};function de(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",23),m.Xb(1,"mat-card"),m.Xb(2,"div",24),m.Xb(3,"div",25),m.Xb(4,"mat-icon",26),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",27),m.Xb(7,"h6"),m.Tc(8,"Application Entry Stage Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",28),m.Xb(10,"button",29),m.fc("click",function(){return m.Hc(r),m.jc().openCardEntryStageViewSummary()}),m.Tc(11," View Summary "),m.Xb(12,"mat-icon"),m.Tc(13,"chevron_right"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,ue,m.wc(1,le))))}function be(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",30),m.fc("click",function(){return m.Hc(r),m.jc().openCardInitiationSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var me=function(){return["/cardaccount/applicationEntryStage/list/cardInitiation"]};function pe(e,t){1&e&&(m.Vb(0),m.Xb(1,"button",31),m.Tc(2," Add Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()),2&e&&(m.Eb(1),m.rc("routerLink",m.wc(1,me)))}function ge(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",30),m.fc("click",function(){return m.Hc(r),m.jc().goToCustomerInfo()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var fe=function(){return["/cardaccount/applicationEntryStage/list/customerInformation"]};function he(e,t){if(1&e&&(m.Xb(0,"button",32),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("routerLink",m.wc(2,fe))("disabled",!r.isCardInitiationDone)}}function ye(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",30),m.fc("click",function(){return m.Hc(r),m.jc().goToFinancialSummarry()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var ve=function(){return["/cardaccount/applicationEntryStage/list/financialDetails"]};function Ce(e,t){if(1&e&&(m.Xb(0,"button",32),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("routerLink",m.wc(2,ve))("disabled",!r.isCardCustomerInformationScreen)}}function xe(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",30),m.fc("click",function(){return m.Hc(r),m.jc().cardPrefrenceSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var We=function(){return["/cardaccount/applicationEntryStage/list/cardPrefrence"]};function Xe(e,t){if(1&e&&(m.Xb(0,"button",32),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("routerLink",m.wc(2,We))("disabled",!r.isCardFinancialDetailsScreen)}}function Ie(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",30),m.fc("click",function(){return m.Hc(r),m.jc().goToCradAccountService()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var ke=function(){return["/cardaccount/applicationEntryStage/list/accountServices"]};function Se(e,t){if(1&e&&(m.Xb(0,"button",32),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("routerLink",m.wc(2,ke))("disabled",!r.isCardPrefrenceDone)}}var Oe,De=function(e){return{"border-size":e}},Te=((Oe=function(){function e(t,n,a,i){r(this,e),this.router=t,this.dialogService=n,this.ls=a,this.dialog=i,this.isCardPrefrenceDone=!1,this.CardInitiationScreenDone=!1,this.isCardInitiationDone=!1,this.isCardCustomerInformationScreen=!1,this.isCardFinancialDetailsScreen=!1,this.isCardAccountService=!1,this.isCardApplicationStageDone=!1}return a(e,[{key:"ngOnInit",value:function(){this.isCardApplicationStageDone=this.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),this.isCardPrefrenceDone=this.ls.getItem("card_prefrence_done"),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),this.isCardCustomerInformationScreen=this.ls.getItem("Card_Customer_Done"),this.isCardFinancialDetailsScreen=this.ls.getItem("CARD_FINANCIAL_DONE"),this.isCardAccountService=this.ls.getItem("CARD_ACC_SERVICE_DONE")}},{key:"openCardInitiationSummary",value:function(){this.dialogService.CardInitiationSummary()}},{key:"goToFinancialSummarry",value:function(){this.dialogService.CardFinancialDetailsSummary()}},{key:"goToCustomerInfo",value:function(){this.dialogService.CardCustomerInfoSummary()}},{key:"goToCradAccountService",value:function(){this.dialogService.cardAccountServiceViewSummary()}},{key:"cardPrefrenceSummary",value:function(){this.dialogService.cardPrefrenceSummary()}},{key:"openCardEntryStageViewSummary",value:function(){this.dialogService.cardAppEntryStageViewSummary()}}]),e}()).\u0275fac=function(e){return new(e||Oe)(m.Rb(f.h),m.Rb(se.a),m.Rb(u.a),m.Rb(g.b))},Oe.\u0275cmp=m.Lb({type:Oe,selectors:[["app-application-entry-stage"]],decls:96,vars:31,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],[2,"font-size","16px"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",2,"font-size","11px"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["showCustomer",""],["showFinancial",""],["showCardPrefrence",""],["showService",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","",1,"btn-color",3,"click"],["mat-button","","color","primary",1,"add-align",3,"click"],["mat-button","","color","primary",1,"add-align",3,"routerLink"],["mat-button","","color","primary",1,"add-align",3,"routerLink","disabled"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Create New Card Account"),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(10,de,14,4,"div",7),m.Wb(),m.Xb(11,"div",8),m.Xb(12,"div",9),m.Xb(13,"mat-card",10),m.Xb(14,"mat-card-header"),m.Xb(15,"mat-card-title",11),m.Tc(16,"1. Card Initiation"),m.Wb(),m.Wb(),m.Xb(17,"mat-card-content"),m.Xb(18,"div",12),m.Xb(19,"div",13),m.Xb(20,"p",14),m.Tc(21," All the primary information about the customer is captured. "),m.Wb(),m.Wb(),m.Xb(22,"div",15),m.Sb(23,"img",16),m.Wb(),m.Wb(),m.Wb(),m.Sb(24,"mat-divider"),m.Xb(25,"mat-card-actions"),m.Rc(26,be,5,0,"ng-container",17),m.Rc(27,pe,5,2,"ng-container",17),m.Wb(),m.Wb(),m.Wb(),m.Xb(28,"div",9),m.Xb(29,"mat-card",10),m.Xb(30,"mat-card-header"),m.Xb(31,"mat-card-title",11),m.Tc(32,"2. Customer Information Details"),m.Wb(),m.Wb(),m.Xb(33,"mat-card-content"),m.Xb(34,"div",12),m.Xb(35,"div",13),m.Xb(36,"p",14),m.Tc(37," All the primary information about the customer is captured. "),m.Wb(),m.Wb(),m.Xb(38,"div",15),m.Sb(39,"img",16),m.Wb(),m.Wb(),m.Wb(),m.Sb(40,"mat-divider"),m.Xb(41,"mat-card-actions"),m.Rc(42,ge,5,0,"ng-container",18),m.Rc(43,he,4,3,"ng-template",null,19,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(45,"div",9),m.Xb(46,"mat-card",10),m.Xb(47,"mat-card-header"),m.Xb(48,"mat-card-title",11),m.Tc(49,"3. Financial Details"),m.Wb(),m.Wb(),m.Xb(50,"mat-card-content"),m.Xb(51,"div",12),m.Xb(52,"div",13),m.Xb(53,"p",14),m.Tc(54," Financial Details such as Monthly Income, Monthly Expenses, Liabilities are captured. "),m.Wb(),m.Wb(),m.Xb(55,"div",15),m.Sb(56,"img",16),m.Wb(),m.Wb(),m.Wb(),m.Sb(57,"mat-divider"),m.Xb(58,"mat-card-actions"),m.Rc(59,ye,5,0,"ng-container",18),m.Rc(60,Ce,4,3,"ng-template",null,20,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(62,"div",9),m.Xb(63,"mat-card",10),m.Xb(64,"mat-card-header"),m.Xb(65,"mat-card-title",11),m.Tc(66,"4. Card Preferences"),m.Wb(),m.Wb(),m.Xb(67,"mat-card-content"),m.Xb(68,"div",12),m.Xb(69,"div",13),m.Xb(70,"p",14),m.Tc(71," Card related information are added. "),m.Wb(),m.Wb(),m.Xb(72,"div",15),m.Sb(73,"img",16),m.Wb(),m.Wb(),m.Wb(),m.Sb(74,"mat-divider"),m.Xb(75,"mat-card-actions"),m.Rc(76,xe,5,0,"ng-container",18),m.Rc(77,Xe,4,3,"ng-template",null,21,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(79,"div",9),m.Xb(80,"mat-card",10),m.Xb(81,"mat-card-header"),m.Xb(82,"mat-card-title",11),m.Tc(83,"5. Account Services"),m.Wb(),m.Wb(),m.Xb(84,"mat-card-content"),m.Xb(85,"div",12),m.Xb(86,"div",13),m.Xb(87,"p",14),m.Tc(88," Account services preferences like account statement frequency and mode are captured. "),m.Wb(),m.Wb(),m.Xb(89,"div",15),m.Sb(90,"img",16),m.Wb(),m.Wb(),m.Wb(),m.Sb(91,"mat-divider"),m.Xb(92,"mat-card-actions"),m.Rc(93,Ie,5,0,"ng-container",18),m.Rc(94,Se,4,3,"ng-template",null,22,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var r=m.Dc(44),n=m.Dc(61),a=m.Dc(78),i=m.Dc(95);m.Eb(10),m.rc("ngIf",t.isCardApplicationStageDone),m.Eb(3),m.rc("ngClass",m.xc(21,De,t.isCardInitiationDone||!t.isCardInitiationDone)),m.Eb(10),m.rc("src","assets/images/svg/undraw_personal_information_re_vw8a.svg.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isCardInitiationDone),m.Eb(1),m.rc("ngIf",!t.isCardInitiationDone),m.Eb(2),m.rc("ngClass",m.xc(23,De,t.isCardCustomerInformationScreen||!t.isCardCustomerInformationScreen&&t.isCardInitiationDone)),m.Eb(10),m.rc("src","assets/images/svg/undraw_personal_information_re_vw8a.svg.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isCardCustomerInformationScreen)("ngIfElse",r),m.Eb(4),m.rc("ngClass",m.xc(25,De,t.isCardFinancialDetailsScreen||!t.isCardFinancialDetailsScreen&&t.isCardCustomerInformationScreen)),m.Eb(10),m.rc("src","assets/images/svg/undraw_Finance_re_gnv2.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isCardFinancialDetailsScreen)("ngIfElse",n),m.Eb(4),m.rc("ngClass",m.xc(27,De,t.isCardPrefrenceDone||!t.isCardPrefrenceDone&&t.isCardFinancialDetailsScreen)),m.Eb(10),m.rc("src","assets/images/svg/Mask_Group_1.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isCardPrefrenceDone)("ngIfElse",a),m.Eb(4),m.rc("ngClass",m.xc(29,De,t.isCardAccountService||!t.isCardAccountService&&t.isCardPrefrenceDone)),m.Eb(10),m.rc("src","assets/images/svg/undraw_opinion_dxp8.svg",m.Jc),m.Eb(3),m.rc("ngIf",t.isCardAccountService)("ngIfElse",i)}},directives:[v.e,v.b,o.n,h.a,o.l,w.a,h.e,h.h,h.d,v.f,v.d,O.a,h.b,c.a,y.b,f.i],styles:[".not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.main-title1[_ngcontent-%COMP%]{font-size:28px}.text-muted1[_ngcontent-%COMP%]{font-size:20px;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}.add-align[_ngcontent-%COMP%]{padding-left:27px}"]}),Oe),Ae=i("iiaH"),Ee=i("NN4w"),_e=i("LvDl"),we=i("YS3K"),Pe=i("zQhy");function Ne(e,t){if(1&e){var r=m.Yb();m.Xb(0,"p",31),m.Xb(1,"mat-checkbox",32),m.fc("change",function(e){m.Hc(r);var n=t.$implicit;return m.jc(2).onChecklistChange(e.checked,n)}),m.Tc(2),m.Wb(),m.Wb()}if(2&e){var n=t.$implicit;m.Eb(1),m.rc("value",n)("checked",n.checked),m.Eb(1),m.Vc("",n.name," ")}}function Re(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",33),m.Xb(1,"mat-checkbox",32),m.fc("change",function(e){m.Hc(r);var n=t.$implicit;return m.jc(2).onCheckComChange(e.checked,n)}),m.Tc(2),m.Wb(),m.Wb()}if(2&e){var n=t.$implicit;m.Eb(1),m.rc("value",n)("checked",n.checked),m.Eb(1),m.Vc("",n.name," ")}}function Fe(e,t){if(1&e){var r=m.Yb();m.Xb(0,"form",15),m.Xb(1,"div",16),m.Xb(2,"div",17),m.Xb(3,"div",18),m.Xb(4,"label"),m.Xb(5,"strong"),m.Tc(6,"Account Statement Frequency*"),m.Wb(),m.Wb(),m.Sb(7,"div",19),m.Xb(8,"mat-radio-group",20),m.fc("change",function(e){return m.Hc(r),m.jc().statementFrequency(e.value)}),m.Xb(9,"mat-radio-button",21),m.Tc(10,"Monthly"),m.Wb(),m.Xb(11,"mat-radio-button",22),m.Tc(12,"Bi-Annual"),m.Wb(),m.Sb(13,"div",19),m.Xb(14,"mat-radio-button",23),m.Tc(15,"Quaterly"),m.Wb(),m.Xb(16,"mat-radio-button",24),m.Tc(17,"Annual"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(18,"div",25),m.Xb(19,"div",18),m.Xb(20,"label"),m.Xb(21,"strong"),m.Tc(22,"Account Statement Preference*"),m.Wb(),m.Wb(),m.Sb(23,"div",19),m.Rc(24,Ne,3,3,"p",26),m.Wb(),m.Wb(),m.Wb(),m.Sb(25,"div",27),m.Vb(26),m.Xb(27,"div",16),m.Xb(28,"div",25),m.Xb(29,"div",28),m.Xb(30,"div",2),m.Xb(31,"label"),m.Xb(32,"strong"),m.Tc(33,"Communication Channel Preferences*"),m.Wb(),m.Wb(),m.Sb(34,"div",29),m.Wb(),m.Xb(35,"div",2),m.Rc(36,Re,3,3,"div",30),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb()}if(2&e){var n=m.jc();m.rc("formGroup",n.accountServiceForm),m.Eb(24),m.rc("ngForOf",n.statementList),m.Eb(12),m.rc("ngForOf",n.communicationList)}}var Me,Le=((Me=function(){function e(t,n,a,i,o,c,s,l,u,d){r(this,e),this.router=t,this.urlService=n,this.dataService=a,this.route=i,this.snack=o,this.ls=c,this.accountService=s,this.formBuilder=l,this.apiService=u,this.cdr=d,this.show=!1,this.selectedRow=!1,this.statementList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1}],this.communicationList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1},{id:3,name:"SMS",checked:!1}],this.commChannelPreferencesArray=[],this.AccStatementPreferenceArray=[],this.showEditOption=!1,this.previousUrl="",this.enableFinish=!1}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId");var t=JSON.parse(this.ls.getItem("CARD_ACC_SERVICE_DONE"));null!=this.cardId&&t?(console.log("editform is true"),this.showEditOption=!0,this.gettingAccountService()):(this.showEditOption=!1,this.buildServiceForm(),console.log("editform is false"),this.accountServiceForm.controls.statementPref.patchValue(this.statementList),this.accountServiceForm.controls.commChannelPref.patchValue(this.communicationList)),console.log("showEditOption",this.showEditOption),this.urlService.previousUrl$.subscribe(function(t){e.previousUrl=t})}},{key:"gettingAccountService",value:function(){var e=this;this.apiService.gettingCardAccountServiceDetails(this.cardId).subscribe(function(t){console.log("All Account Service",t),e.buildServiceForm(t),e.statementList=t.statementPref,e.communicationList=t.commChannelPref,e.cdr.markForCheck();for(var r=0;r<e.communicationList.length;r++)e.communicationList[r].checked&&e.commChannelPreferencesArray.push(e.communicationList[r].name);for(r=0;r<e.statementList.length;r++)e.statementList[r].checked&&e.AccStatementPreferenceArray.push(e.statementList[r].name);localStorage.setItem("statementFrequency",t.statementFrequency),e.enableFinish=!0})}},{key:"statementFrequency",value:function(e){this.statementFrncy=localStorage.getItem("statementFrequency"),e!=this.statementFrncy&&(this.enableFinish=!0)}},{key:"buildServiceForm",value:function(e){this.accountServiceForm=this.formBuilder.group({accServiceId:[e?e.accServiceId:null],productAccountId:[null!=this.accountId?this.accountId:null],statementFrequency:[e?e.statementFrequency:""],statementPref:[e?this.flattenValues(e.statementPref):""],commChannelPref:[e?this.flattenValues(e.commChannelPref):""]})}},{key:"onChecklistChange",value:function(e,t){var r=this;t.checked=e,this.enableFinish=!0,this.accountServiceForm.get("statementPref").setValue(this.flattenValues(this.statementList)),e?this.AccStatementPreferenceArray.push(t.name):this.AccStatementPreferenceArray.forEach(function(e,n){e===t.name&&r.AccStatementPreferenceArray.splice(n,1)})}},{key:"onCheckComChange",value:function(e,t){var r=this;console.log(e),console.log(t),t.checked=e,this.accountServiceForm.get("commChannelPref").setValue(this.flattenValues(this.communicationList)),e?(this.commChannelPreferencesArray.push(t.name),console.log("checked",t.name),this.enableFinish=!0):this.commChannelPreferencesArray.forEach(function(e,n){e===t.name&&(r.commChannelPreferencesArray.splice(n,1),console.log("checked",t.name),r.enableFinish=!0)})}},{key:"flattenValues",value:function(e){return Object(_e.flow)([Object(we.filter)(function(e){return e.checked}),Object(we.flatMap)(function(e){return e.name})])(e).join(",")}},{key:"isObjectEmpty",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&"{}"===JSON.stringify(e)}},{key:"togglePreference",value:function(){this.show=!this.show}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEntryStage/list/cardPrefrence"])}},{key:"onSubmit",value:function(){var e=this,t={cardId:this.cardId,statementFrequency:this.accountServiceForm.value.statementFrequency,statementPref:this.statementList,commChannelPref:this.communicationList,accountType:"cardOrigin"};this.accountServiceForm.invalid||(this.showEditOption?this.apiService.updateAccountService(this.cardId,t).subscribe(function(t){console.log(t),e.snack.open("Account Service Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){console.log(e)}):this.apiService.createAccountService(this.cardId,t).subscribe(function(t){console.log(t),e.snack.open("Account Service Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){console.log(e)}),this.goToNext())}},{key:"ngOnDestroy",value:function(){}},{key:"goToNext",value:function(){this.ls.setItem("CARD_ACC_SERVICE_DONE",!0),this.ls.setItem("CARD_APPLICATION_ENTRY_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/documentupload/list"])}}]),e}()).\u0275fac=function(e){return new(e||Me)(m.Rb(f.h),m.Rb(Ee.a),m.Rb(Ae.a),m.Rb(f.a),m.Rb(p.a),m.Rb(u.a),m.Rb(_.a),m.Rb(d.f),m.Rb(b.b),m.Rb(m.h))},Me.\u0275cmp=m.Lb({type:Me,selectors:[["app-card-account-services"]],decls:25,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_opinion_dxp8.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"card-title-text"],[1,"p-0","bordercard"],[1,""],[1,"bordercard"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],[1,"m-16"],["name","statementFreq","formControlName","statementFrequency","required","",1,"mt-12",3,"change"],["value","MONTHLY","color","primary",1,"ml-8"],["value","BIANNUAL","color","primary",1,"ml-16"],["value","QUATERLY","color","primary",1,"ml-8"],["value","ANNUAL","color","primary",1,"ml-16"],["fxFlex","100","fxFlex.gt-xs","50"],["formArrayName","statementPref",4,"ngFor","ngForOf"],[1,"m-32"],["fxLayout","row wrap"],[1,"m-12"],["fxFlex","25","formArrayName","commChannelPref",4,"ngFor","ngForOf"],["formArrayName","statementPref"],["color","primary",1,"checkbox-margin",3,"value","checked","change"],["fxFlex","25","formArrayName","commChannelPref"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Account Services"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10,"Account Services"),m.Wb(),m.Xb(11,"div",1),m.Xb(12,"div",2),m.Xb(13,"mat-card",8),m.Xb(14,"mat-card-title",9),m.Xb(15,"div",7),m.Tc(16,"Account Statement"),m.Wb(),m.Sb(17,"mat-divider",10),m.Wb(),m.Xb(18,"mat-card-content"),m.Rc(19,Fe,37,3,"form",11),m.Wb(),m.Wb(),m.Xb(20,"div",12),m.Xb(21,"button",13),m.fc("click",function(){return t.goBack()}),m.Tc(22," Back "),m.Wb(),m.Xb(23,"button",14),m.fc("click",function(){return t.onSubmit()}),m.Tc(24," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(19),m.rc("ngIf",t.accountServiceForm),m.Eb(4),m.rc("disabled",!t.accountServiceForm.valid||0==t.commChannelPreferencesArray.length||0==t.AccStatementPreferenceArray.length))},directives:[v.e,v.b,h.a,h.h,O.a,h.d,o.n,v.d,v.f,y.b,d.C,d.s,d.j,Pe.b,d.r,d.i,d.z,Pe.a,o.m,d.e,G.a],styles:[".card-title-text[_ngcontent-%COMP%]{color:#000;padding-left:18px;font-size:30px;font-weight:700}.bordercard[_ngcontent-%COMP%]{border:1px solid #87ceeb}"]}),Me),Ve=i("BTe0"),Be=i("3kSh"),je=i("qMRc"),qe=i("wd/R"),Ue=i("Zy1z"),ze=i("ZTz/"),Ge=i("UhP/"),He=i("jMqV"),Ye=i("o4Yh"),$e=i("f44v"),Qe=i("TN/R"),Ke=i("2Goh"),Je=i("SqCe");function Ze(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function et(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Ownership is Required! "),m.Wb())}function tt(e,t){1&e&&(m.Vb(0),m.Xb(1,"mat-form-field",16),m.Xb(2,"mat-label"),m.Tc(3,"Number of Applicants *"),m.Wb(),m.Xb(4,"mat-select",39),m.Xb(5,"mat-option",38),m.Tc(6,"1"),m.Wb(),m.Xb(7,"mat-option",38),m.Tc(8,"2"),m.Wb(),m.Xb(9,"mat-option",38),m.Tc(10,"3"),m.Wb(),m.Xb(11,"mat-option",38),m.Tc(12,"4"),m.Wb(),m.Xb(13,"mat-option",38),m.Tc(14,"5"),m.Wb(),m.Wb(),m.Wb(),m.Ub()),2&e&&(m.Eb(5),m.rc("value",1),m.Eb(2),m.rc("value",2),m.Eb(2),m.rc("value",3),m.Eb(2),m.rc("value",4),m.Eb(2),m.rc("value",5))}function rt(e,t){if(1&e&&(m.Xb(0,"mat-chip",55),m.Tc(1),m.Wb()),2&e){var r=m.jc().$implicit;m.rc("color","warn")("selected",r.primaryCustomer),m.Eb(1),m.Uc(r.primaryCustomer?"primary":"")}}function nt(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"a",56),m.fc("click",function(){return m.Hc(r),m.jc(3).resetAndClose()}),m.Xb(2,"mat-icon"),m.Tc(3,"close"),m.Wb(),m.Wb(),m.Ub()}}function at(e,t){if(1&e){var r=m.Yb();m.Xb(0,"a",57),m.fc("click",function(){m.Hc(r);var e=m.jc().$implicit;return m.jc(2).toggleDetails(e)}),m.Xb(1,"mat-icon"),m.Tc(2,"edit"),m.Wb(),m.Wb()}}function it(e,t){if(1&e){var r=m.Yb();m.Xb(0,"a",58),m.fc("click",function(){m.Hc(r);var e=m.jc().$implicit;return m.jc(2).removeApplicant(e)}),m.Xb(1,"mat-icon"),m.Tc(2,"delete"),m.Wb(),m.Wb()}}function ot(e,t){1&e&&m.Tb(0)}var ct=function(e){return{$implicit:e}};function st(e,t){if(1&e&&(m.Vb(0),m.Rc(1,ot,1,0,"ng-container",59),m.Ub()),2&e){var r=m.jc().$implicit,n=m.Dc(29);m.Eb(1),m.rc("ngTemplateOutlet",n)("ngTemplateOutletContext",m.xc(2,ct,r))}}function lt(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function ut(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Prefix is Required! "),m.Wb())}function dt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Date of Birth is Required! "),m.Wb())}function bt(e,t){if(1&e&&m.Sb(0,"div"),2&e){var r=m.jc(4);m.Hb("currency-flag currency-flag-",r.Currency1,"")}}function mt(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function pt(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function gt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Resident Status is Required! "),m.Wb())}function ft(e,t){if(1&e&&m.Sb(0,"div"),2&e){var r=m.jc(4);m.Hb("currency-flag currency-flag-",r.Currency,"")}}function ht(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function yt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country of Residence is Required! "),m.Wb())}function vt(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Ct(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," ID Type is Required! "),m.Wb())}function xt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," ID Type Valid Till is Required! "),m.Wb())}function Wt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," First Name is Required! "),m.Wb())}function Xt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Last Name is Required! "),m.Wb())}function It(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function kt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Gender is Required! "),m.Wb())}function St(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Birth Place is Required! "),m.Wb())}function Ot(e,t){if(1&e&&m.Sb(0,"div"),2&e){var r=m.jc(4);m.Hb("currency-flag currency-flag-",r.currencyCode,"")}}function Dt(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Tt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Citizenship By is Required! "),m.Wb())}function At(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc("",r," ")}}function Et(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Occupation Type is Required! "),m.Wb())}function _t(e,t){1&e&&(m.Xb(0,"div"),m.Tc(1,"Unique ID Number is Required!"),m.Wb())}function wt(e,t){1&e&&(m.Xb(0,"div"),m.Tc(1,"This is a numeric field "),m.Wb())}function Pt(e,t){if(1&e&&(m.Xb(0,"mat-error"),m.Rc(1,_t,2,0,"div",20),m.Rc(2,wt,2,0,"div",20),m.Wb()),2&e){var r=m.jc(4);m.Eb(1),m.rc("ngIf",r.applicant.get("idNumber").hasError("required")),m.Eb(1),m.rc("ngIf",r.applicant.get("idNumber").hasError("pattern"))}}function Nt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Address Line 1 is Required! "),m.Wb())}function Rt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Valid Address "),m.Wb())}function Ft(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Mt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Residence Type is Required! "),m.Wb())}function Lt(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r.stateName),m.Eb(1),m.Vc(" ",r.stateName,"")}}function Vt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," State is Required! "),m.Wb())}function Bt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please enter valid Zip Code!(5-10 digits) "),m.Wb())}function jt(e,t){1&e&&(m.Xb(0,"h5",104),m.Tc(1,"Please enter valid Zip Code!(5-10 digits) "),m.Wb())}function qt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Address Line 2 is Required! "),m.Wb())}function Ut(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Valid Address "),m.Wb())}function zt(e,t){if(1&e&&m.Sb(0,"div"),2&e){var r=m.jc(4);m.Hb("currency-flag currency-flag-",r.editCountryCode,"")}}function Gt(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Ht(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country is Required! "),m.Wb())}function Yt(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r.value1),m.Eb(1),m.Vc("",r.value1," ")}}function $t(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," City is Required! "),m.Wb())}function Qt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Mobile Number is Required! "),m.Wb())}function Kt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please, Enter 10 digit Mobile Number! "),m.Wb())}function Jt(e,t){1&e&&(m.Xb(0,"mat-error",105),m.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),m.Wb())}function Zt(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," E-mail is Required! "),m.Wb())}function er(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please, Enter 10 digit Landline Number! "),m.Wb())}function tr(e,t){1&e&&(m.Xb(0,"mat-error",105),m.Tc(1," \xa0 \xa0 Please Enter Correct Landline Number "),m.Wb())}function rr(e,t){if(1&e){var r=m.Yb();m.Xb(0,"form",60),m.Xb(1,"div",61),m.Xb(2,"div",13),m.Xb(3,"div",14),m.Xb(4,"div",15),m.Xb(5,"label"),m.Tc(6,"Is the applicant an existing customer?"),m.Wb(),m.Tc(7," \xa0\xa0 "),m.Xb(8,"mat-slide-toggle",62),m.fc("change",function(e){return m.Hc(r),m.jc(3).toggleChanges(e)}),m.Wb(),m.Sb(9,"div",63),m.Wb(),m.Xb(10,"div",15),m.Xb(11,"mat-form-field",16),m.Xb(12,"mat-label"),m.Tc(13,"Prefix *"),m.Wb(),m.Xb(14,"mat-select",64),m.Rc(15,lt,2,2,"mat-option",19),m.Wb(),m.Rc(16,ut,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(17,"div",15),m.Xb(18,"mat-form-field",16),m.Xb(19,"mat-label"),m.Tc(20,"Middle Name"),m.Wb(),m.Xb(21,"input",65),m.fc("keypress",function(e){return m.Hc(r),m.jc(3).letterOnly(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(22,"div",15),m.Xb(23,"mat-form-field",16),m.Xb(24,"mat-label"),m.Tc(25,"Date of Birth *"),m.Wb(),m.Sb(26,"input",66),m.Sb(27,"mat-datepicker-toggle",67),m.Rc(28,dt,2,0,"mat-error",20),m.Wb(),m.Sb(29,"mat-datepicker",null,68),m.Wb(),m.Xb(31,"div",69),m.Xb(32,"mat-form-field",16),m.Xb(33,"mat-label"),m.Tc(34,"Birth Country"),m.Wb(),m.Xb(35,"div",70),m.Xb(36,"div",71),m.Rc(37,bt,1,3,"div",72),m.Wb(),m.Wb(),m.Xb(38,"mat-select",73),m.fc("selectionChange",function(e){return m.Hc(r),m.jc(3).onSelectionBirthCountry(e.value)}),m.Rc(39,mt,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(40,"div",15),m.Xb(41,"mat-form-field",16),m.Xb(42,"mat-label"),m.Tc(43,"Resident Status *"),m.Wb(),m.Xb(44,"mat-select",74),m.Rc(45,pt,2,2,"mat-option",19),m.Wb(),m.Rc(46,gt,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(47,"div",15),m.Xb(48,"mat-form-field",16),m.Xb(49,"mat-label"),m.Tc(50,"Country of Residence"),m.Wb(),m.Xb(51,"div",70),m.Xb(52,"div",71),m.Rc(53,ft,1,3,"div",72),m.Wb(),m.Wb(),m.Xb(54,"mat-select",75),m.fc("selectionChange",function(e){return m.Hc(r),m.jc(3).onSelectionResidance(e.value)}),m.Xb(55,"mat-option",76),m.Tc(56,"--Select--"),m.Wb(),m.Rc(57,ht,2,2,"mat-option",19),m.Wb(),m.Rc(58,yt,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(59,"div",15),m.Xb(60,"mat-form-field",16),m.Xb(61,"mat-label"),m.Tc(62,"ID Type *"),m.Wb(),m.Xb(63,"mat-select",77),m.fc("selectionChange",function(){m.Hc(r);var e=m.jc(3);return e.changeIdType(e.applicant.get("idType").value)}),m.Rc(64,vt,2,2,"mat-option",19),m.Wb(),m.Rc(65,Ct,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(66,"div",15),m.Xb(67,"mat-form-field",16),m.Xb(68,"mat-label"),m.Tc(69,"ID Type Valid Till"),m.Wb(),m.Sb(70,"input",78),m.Sb(71,"mat-datepicker-toggle",67),m.Rc(72,xt,2,0,"mat-error",20),m.Wb(),m.Sb(73,"mat-datepicker",null,79),m.Wb(),m.Wb(),m.Xb(75,"div",21),m.Xb(76,"div",15),m.Xb(77,"label"),m.Tc(78,"Is the applicant a primary customer?"),m.Wb(),m.Tc(79," \xa0\xa0 "),m.Sb(80,"mat-slide-toggle",80),m.Sb(81,"div",63),m.Wb(),m.Xb(82,"div",15),m.Xb(83,"mat-form-field",16),m.Xb(84,"mat-label"),m.Tc(85,"First Name *"),m.Wb(),m.Xb(86,"input",81),m.fc("keypress",function(e){return m.Hc(r),m.jc(3).letterOnly(e)}),m.Wb(),m.Rc(87,Wt,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(88,"div",15),m.Xb(89,"mat-form-field",16),m.Xb(90,"mat-label"),m.Tc(91,"Last Name *"),m.Wb(),m.Xb(92,"input",82),m.fc("keypress",function(e){return m.Hc(r),m.jc(3).letterOnly(e)}),m.Wb(),m.Rc(93,Xt,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(94,"div",15),m.Xb(95,"mat-form-field",16),m.Xb(96,"mat-label"),m.Tc(97,"Gender *"),m.Wb(),m.Xb(98,"mat-select",83),m.Rc(99,It,2,2,"mat-option",19),m.Wb(),m.Rc(100,kt,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(101,"div",15),m.Xb(102,"mat-form-field",16),m.Xb(103,"mat-label"),m.Tc(104,"Birth Place *"),m.Wb(),m.Sb(105,"input",84),m.Rc(106,St,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(107,"div",85),m.Xb(108,"mat-form-field",16),m.Xb(109,"mat-label"),m.Tc(110,"Citizenship By"),m.Wb(),m.Xb(111,"div",70),m.Xb(112,"div",71),m.Rc(113,Ot,1,3,"div",72),m.Wb(),m.Wb(),m.Xb(114,"div",2),m.Xb(115,"mat-select",86),m.fc("selectionChange",function(e){return m.Hc(r),m.jc(3).onSelectionCitizionship(e.value)}),m.Xb(116,"mat-option",76),m.Tc(117,"--Select--"),m.Wb(),m.Rc(118,Dt,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Rc(119,Tt,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(120,"div",69),m.Xb(121,"mat-form-field",16),m.Xb(122,"mat-label"),m.Tc(123,"Marital Status"),m.Wb(),m.Xb(124,"mat-select",87),m.Rc(125,At,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(126,"div",15),m.Xb(127,"mat-form-field",16),m.Xb(128,"mat-label"),m.Tc(129,"Occupation Type *"),m.Wb(),m.Xb(130,"input",88),m.fc("keypress",function(e){return m.Hc(r),m.jc(3).letterOnly(e)}),m.Wb(),m.Rc(131,Et,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(132,"div",89),m.Xb(133,"mat-form-field",16),m.Xb(134,"mat-label"),m.Tc(135,"Unique ID Number *"),m.Wb(),m.Sb(136,"input",90),m.Rc(137,Pt,3,2,"mat-error",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(138,"mat-accordion"),m.Xb(139,"mat-expansion-panel",40),m.Xb(140,"mat-expansion-panel-header"),m.Xb(141,"mat-panel-title"),m.Tc(142,"Communication Address "),m.Wb(),m.Wb(),m.Xb(143,"div",13),m.Xb(144,"div",14),m.Xb(145,"div",15),m.Xb(146,"mat-form-field",16),m.Xb(147,"mat-label"),m.Tc(148,"Address Line 1 *"),m.Wb(),m.Sb(149,"textarea",91),m.Rc(150,Nt,2,0,"mat-error",20),m.Rc(151,Rt,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(152,"div",15),m.Xb(153,"mat-form-field",16),m.Xb(154,"mat-label"),m.Tc(155,"Residence Type *"),m.Wb(),m.Xb(156,"mat-select",92),m.Rc(157,Ft,2,2,"mat-option",19),m.Wb(),m.Rc(158,Mt,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(159,"div",15),m.Xb(160,"mat-form-field",16),m.Xb(161,"mat-label"),m.Tc(162,"State *"),m.Wb(),m.Xb(163,"mat-select",93),m.fc("selectionChange",function(e){return m.Hc(r),m.jc(3).getCityName(e.value)}),m.Rc(164,Lt,2,2,"mat-option",19),m.Wb(),m.Rc(165,Vt,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(166,"div",15),m.Xb(167,"mat-form-field",16),m.Xb(168,"mat-label"),m.Tc(169,"Zip Code *"),m.Wb(),m.Xb(170,"input",94),m.fc("keypress",function(e){return m.Hc(r),m.jc(3).onKeyPress1(e)})("keyup",function(e){return m.Hc(r),m.jc(3).isAllSameDigit(e)}),m.Wb(),m.Rc(171,Bt,2,0,"mat-error",20),m.Wb(),m.Rc(172,jt,2,0,"h5",95),m.Wb(),m.Wb(),m.Xb(173,"div",21),m.Xb(174,"div",15),m.Xb(175,"mat-form-field",16),m.Xb(176,"mat-label"),m.Tc(177,"Address Line 2 *"),m.Wb(),m.Sb(178,"textarea",96),m.Rc(179,qt,2,0,"mat-error",20),m.Rc(180,Ut,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(181,"div",15),m.Xb(182,"mat-form-field",16),m.Xb(183,"mat-label"),m.Tc(184,"Country *"),m.Wb(),m.Xb(185,"div",70),m.Xb(186,"div",71),m.Rc(187,zt,1,3,"div",72),m.Wb(),m.Wb(),m.Xb(188,"mat-select",97),m.fc("selectionChange",function(e){return m.Hc(r),m.jc(3).getStateName(e.value)})("selectionChange",function(e){return m.Hc(r),m.jc(3).getCountrySelection1(e.value)}),m.Rc(189,Gt,2,2,"mat-option",19),m.Wb(),m.Rc(190,Ht,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(191,"div",15),m.Xb(192,"mat-form-field",16),m.Xb(193,"mat-label"),m.Tc(194,"City *"),m.Wb(),m.Xb(195,"mat-select",98),m.Rc(196,Yt,2,2,"mat-option",19),m.Wb(),m.Rc(197,$t,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(198,"mat-accordion"),m.Xb(199,"mat-expansion-panel",40),m.Xb(200,"mat-expansion-panel-header"),m.Xb(201,"mat-panel-title"),m.Tc(202,"Contact Information "),m.Wb(),m.Wb(),m.Xb(203,"div",13),m.Xb(204,"div",14),m.Xb(205,"div",15),m.Xb(206,"mat-form-field",16),m.Xb(207,"mat-label"),m.Tc(208,"Mobile Number *"),m.Wb(),m.Xb(209,"input",99),m.fc("keypress",function(e){return m.Hc(r),m.jc(3).onKeyPress1(e)}),m.Wb(),m.Rc(210,Qt,2,0,"mat-error",20),m.Rc(211,Kt,2,0,"mat-error",20),m.Wb(),m.Rc(212,Jt,2,0,"mat-error",100),m.Wb(),m.Xb(213,"div",15),m.Xb(214,"mat-form-field",16),m.Xb(215,"mat-label"),m.Tc(216,"E-mail *"),m.Wb(),m.Sb(217,"input",101),m.Rc(218,Zt,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Wb(),m.Xb(219,"div",21),m.Xb(220,"div",15),m.Xb(221,"mat-form-field",16),m.Xb(222,"mat-label"),m.Tc(223,"Landline Number "),m.Wb(),m.Xb(224,"input",102),m.fc("keypress",function(e){return m.Hc(r),m.jc(3).onKeyPress1(e)}),m.Wb(),m.Rc(225,er,2,0,"mat-error",20),m.Wb(),m.Rc(226,tr,2,0,"mat-error",100),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(227,"div",15),m.Xb(228,"button",103),m.fc("click",function(){return m.Hc(r),m.jc(3).onSubmit()}),m.Sb(229,"mat-icon"),m.Tc(230," UPDATE APPLICANT "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.Dc(30),a=m.Dc(74),i=m.jc(3);m.rc("formGroup",i.cardCustomerForm),m.Eb(15),m.rc("ngForOf",i.arrayPrefix),m.Eb(1),m.rc("ngIf",i.applicant.get("prefix").hasError("required")),m.Eb(10),m.rc("matDatepicker",n)("max",i.tomorrow)("max",i.maxDate),m.Eb(1),m.rc("for",n),m.Eb(1),m.rc("ngIf",i.applicant.get("dateOfBirth").hasError("required")),m.Eb(9),m.rc("ngIf",i.Currency1),m.Eb(2),m.rc("ngForOf",i.arrayCountry),m.Eb(6),m.rc("ngForOf",i.arrayResidence),m.Eb(1),m.rc("ngIf",i.applicant.get("residenceStatus").hasError("required")),m.Eb(7),m.rc("ngIf",i.Currency),m.Eb(4),m.rc("ngForOf",i.arrayCountry),m.Eb(1),m.rc("ngIf",i.applicant.get("countryOfResidence").hasError("required")),m.Eb(6),m.rc("ngForOf",i.arrayDocumentType),m.Eb(1),m.rc("ngIf",i.applicant.get("idType").hasError("required")),m.Eb(5),m.rc("required","Aadhar card"!=i.applicant.get("idType").value)("matDatepicker",a)("min",i.validDate),m.Eb(1),m.rc("for",a),m.Eb(1),m.rc("ngIf",i.applicant.get("expiryDate").hasError("required")),m.Eb(15),m.rc("ngIf",i.applicant.get("firstName").hasError("required")),m.Eb(6),m.rc("ngIf",i.applicant.get("lastName").hasError("required")),m.Eb(6),m.rc("ngForOf",i.arrayGender),m.Eb(1),m.rc("ngIf",i.applicant.get("gender").hasError("required")),m.Eb(6),m.rc("ngIf",i.applicant.get("placeOfBirth").hasError("required")),m.Eb(7),m.rc("ngIf",i.currencyCode),m.Eb(5),m.rc("ngForOf",i.arrayCountry),m.Eb(1),m.rc("ngIf",i.applicant.get("nationality").hasError("required")),m.Eb(6),m.rc("ngForOf",i.maritalStatusList),m.Eb(6),m.rc("ngIf",i.applicant.get("occupationType").hasError("required")),m.Eb(6),m.rc("ngIf",i.applicant.get("idNumber").touched&&!i.applicant.get("idNumber").valid),m.Eb(13),m.rc("ngIf",i.applicant.get("address1").hasError("required")),m.Eb(1),m.rc("ngIf",i.applicant.get("address1").touched&&i.applicant.get("address1").hasError("pattern")),m.Eb(6),m.rc("ngForOf",i.arrayAddressType),m.Eb(1),m.rc("ngIf",i.applicant.get("addressType").hasError("required")),m.Eb(6),m.rc("ngForOf",i.arrayState),m.Eb(1),m.rc("ngIf",i.applicant.get("state").hasError("required")),m.Eb(6),m.rc("ngIf",i.applicant.get("zipCode").hasError("required")&&!i.applicant.controls.zipCode.valid&&(null==i.applicant.controls.zipCode?null:i.applicant.controls.zipCode.touched)),m.Eb(1),m.rc("ngIf",i.isAllSameDigitVal),m.Eb(7),m.rc("ngIf",i.applicant.get("address2").hasError("required")),m.Eb(1),m.rc("ngIf",i.applicant.get("address2").touched&&i.applicant.get("address2").hasError("pattern")),m.Eb(7),m.rc("ngIf",i.editCountryCode),m.Eb(2),m.rc("ngForOf",i.arrayCountry),m.Eb(1),m.rc("ngIf",i.applicant.get("country").hasError("required")),m.Eb(6),m.rc("ngForOf",i.arrayCity),m.Eb(1),m.rc("ngIf",i.applicant.get("city").hasError("required")),m.Eb(13),m.rc("ngIf",i.applicant.get("phoneNumber").hasError("required")),m.Eb(1),m.rc("ngIf",i.applicant.get("phoneNumber").hasError("pattern")),m.Eb(1),m.rc("ngIf","0000000000"==i.applicant.get("phoneNumber").value),m.Eb(6),m.rc("ngIf",i.applicant.get("primaryEmailAdress").hasError("required")),m.Eb(7),m.rc("ngIf",i.applicant.get("landlineNumber").hasError("pattern")),m.Eb(1),m.rc("ngIf","0000000000"==i.applicant.get("landlineNumber").value),m.Eb(2),m.rc("disabled",i.applicant.invalid)}}function nr(e,t){if(1&e&&(m.Xb(0,"mat-expansion-panel",40),m.Xb(1,"mat-expansion-panel-header"),m.Xb(2,"mat-panel-title"),m.Xb(3,"mat-icon",41),m.Tc(4,"check_circle"),m.Wb(),m.Xb(5,"span",42),m.Tc(6),m.Wb(),m.Wb(),m.Wb(),m.Xb(7,"mat-card"),m.Xb(8,"mat-card-header",43),m.Xb(9,"div",44),m.Sb(10,"app-avatar-photo",45),m.Wb(),m.Xb(11,"mat-card-title"),m.Xb(12,"div",1),m.Xb(13,"h6",46),m.Tc(14),m.Wb(),m.Sb(15,"span",47),m.Rc(16,rt,2,3,"mat-chip",48),m.Wb(),m.Wb(),m.Xb(17,"mat-card-subtitle"),m.Xb(18,"span",49),m.Tc(19),m.Wb(),m.Wb(),m.Xb(20,"div",50),m.Xb(21,"span",51),m.Rc(22,nt,4,0,"ng-container",22),m.Rc(23,at,3,0,"ng-template",null,52,m.Sc),m.Rc(25,it,3,0,"a",53),m.Wb(),m.Wb(),m.Wb(),m.Xb(26,"mat-card-container"),m.Rc(27,st,2,4,"ng-container",20),m.Rc(28,rr,231,55,"ng-template",null,54,m.Sc),m.Wb(),m.Wb(),m.Wb()),2&e){var r=t.$implicit,n=t.index,a=m.Dc(24),i=m.jc(2);m.Eb(6),m.Vc("Applicant ",n+1,""),m.Eb(4),m.rc("name",r.firstName+" "+r.lastName),m.Eb(4),m.Uc(r.firstName+" "+r.lastName),m.Eb(2),m.rc("ngIf",r.primaryCustomer),m.Eb(3),m.Vc("CIF ",null!=r.cifNumber?"#"+r.cifNumber:"- n/a",""),m.Eb(3),m.rc("ngIf",(null==i.selectedApplicant?null:i.selectedApplicant._id)===r._id)("ngIfElse",a),m.Eb(3),m.rc("ngIf",r.dependentId),m.Eb(2),m.rc("ngIf",(null==i.selectedApplicant?null:i.selectedApplicant._id)===r._id)}}function ar(e,t){1&e&&(m.Xb(0,"mat-icon",127),m.Tc(1,"check_circle"),m.Wb())}function ir(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," CIF Number is Required! "),m.Wb())}function or(e,t){1&e&&(m.Xb(0,"mat-hint",128),m.Tc(1,"Duplicate CIF Number"),m.Wb())}function cr(e,t){1&e&&(m.Xb(0,"mat-hint",129),m.Tc(1," Enter valid CIF Number!"),m.Wb())}function sr(e,t){if(1&e&&(m.Xb(0,"div",137),m.Xb(1,"h3",138),m.Tc(2),m.kc(3,"uppercase"),m.kc(4,"slice"),m.kc(5,"uppercase"),m.kc(6,"slice"),m.Wb(),m.Wb()),2&e){var r=m.jc().$implicit;m.Eb(2),m.Wc(" ",m.lc(3,2,m.nc(4,4,null==r?null:r.firstName,0,1)),"",m.lc(5,8,m.nc(6,10,null==r?null:r.lastName,0,1))," ")}}function lr(e,t){if(1&e&&(m.Xb(0,"div",139),m.Sb(1,"img",140),m.Wb()),2&e){var r=m.jc().$implicit;m.Eb(1),m.rc("src",null==r?null:r.profileImage,m.Jc)}}function ur(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Xb(1,"div",130),m.Xb(2,"div",131),m.Rc(3,sr,7,14,"div",132),m.Rc(4,lr,2,1,"div",133),m.Xb(5,"div",134),m.Xb(6,"h5",135),m.Tc(7),m.kc(8,"uppercase"),m.kc(9,"uppercase"),m.kc(10,"uppercase"),m.Wb(),m.Xb(11,"h6",136),m.Tc(12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r.customerId),m.Eb(3),m.rc("ngIf","not_available"==(null==r?null:r.profileImage)),m.Eb(1),m.rc("ngIf","not_available"!=(null==r?null:r.profileImage)),m.Eb(3),m.Xc(" ",m.lc(8,7,null==r?null:r.firstName)," ",m.lc(9,9,null==r?null:r.middleName)," ",m.lc(10,11,null==r?null:r.lastName)," "),m.Eb(5),m.Vc("#",null==r?null:r.cifNumber,"")}}function dr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," First Name is Required! "),m.Wb())}function br(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Last Name is Required! "),m.Wb())}function mr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Date of Birth is Required! "),m.Wb())}function pr(e,t){if(1&e&&m.Sb(0,"div"),2&e){var r=m.jc(3);m.Hb("currency-flag currency-flag-",r.birthCountryFlag,"")}}function gr(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function fr(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function hr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Resident Status is Required! "),m.Wb())}function yr(e,t){if(1&e&&m.Sb(0,"div"),2&e){var r=m.jc(3);m.Hb("currency-flag currency-flag-",r.ResideceCurrency,"")}}function vr(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Cr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country of Residence is Required! "),m.Wb())}function xr(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Wr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," ID Type is Required! "),m.Wb())}function Xr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," ID Type Valid Till is Required! "),m.Wb())}function Ir(e,t){if(1&e&&(m.Xb(0,"div",15),m.Xb(1,"mat-form-field",16),m.Xb(2,"mat-label"),m.Tc(3,"ID Type Valid Till "),m.Wb(),m.Sb(4,"input",78),m.Sb(5,"mat-datepicker-toggle",67),m.Rc(6,Xr,2,0,"mat-error",20),m.Wb(),m.Sb(7,"mat-datepicker",null,79),m.Wb()),2&e){var r=m.Dc(8),n=m.jc(3);m.Eb(4),m.rc("required","Aadhar card"!==n.applicant.get("idType").value)("matDatepicker",r)("min",n.validDate),m.Eb(1),m.rc("for",r),m.Eb(1),m.rc("ngIf",n.applicant.get("expiryDate").hasError("required"))}}function kr(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",15),m.Xb(1,"label"),m.Tc(2,"Is the applicant a primary customer?"),m.Wb(),m.Tc(3," \xa0\xa0 "),m.Xb(4,"mat-slide-toggle",141),m.fc("ngModelChange",function(e){return m.Hc(r),m.jc(3).isChecked=e}),m.Wb(),m.Sb(5,"div",63),m.Wb()}if(2&e){var n=m.jc(3);m.Eb(4),m.rc("ngModel",n.isChecked)("disabled",0==n.listOfAccounts.length)}}function Sr(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Or(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Prefix is Required! "),m.Wb())}function Dr(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Tr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Gender is Required! "),m.Wb())}function Ar(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Birth Place is Required! "),m.Wb())}function Er(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function _r(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Citizenship By is Required! "),m.Wb())}function wr(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc("",r," ")}}function Pr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Occupation Type is Required! "),m.Wb())}function Nr(e,t){1&e&&(m.Xb(0,"div"),m.Tc(1,"Unique ID is Required!"),m.Wb())}function Rr(e,t){1&e&&(m.Xb(0,"div"),m.Tc(1,"This is a alphanumeric field "),m.Wb())}function Fr(e,t){if(1&e&&(m.Xb(0,"mat-error"),m.Rc(1,Nr,2,0,"div",20),m.Rc(2,Rr,2,0,"div",20),m.Wb()),2&e){var r=m.jc(3);m.Eb(1),m.rc("ngIf",r.applicant.get("idNumber").hasError("required")),m.Eb(1),m.rc("ngIf",r.applicant.get("idNumber").hasError("pattern"))}}function Mr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Address Line 1 is Required! "),m.Wb())}function Lr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Valid Address "),m.Wb())}function Vr(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Br(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Residence Type is Required! "),m.Wb())}function jr(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r.stateName),m.Eb(1),m.Vc("",r.stateName," ")}}function qr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," State is Required! "),m.Wb())}function Ur(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Zip code is required! "),m.Wb())}function zr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter valid Zip Code!(5-10 digits)"),m.Wb())}function Gr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Address Line 2 is Required! "),m.Wb())}function Hr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Valid Address "),m.Wb())}function Yr(e,t){if(1&e&&m.Sb(0,"div"),2&e){var r=m.jc(3);m.Hb("currency-flag currency-flag-",r.countryCode,"")}}function $r(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Qr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Country is Required! "),m.Wb())}function Kr(e,t){if(1&e&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r.value1),m.Eb(1),m.Vc("",r.value1," ")}}function Jr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," City is Required! "),m.Wb())}function Zr(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Mobile Number is Required! "),m.Wb())}function en(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please, Enter 10 digit Mobile Number! "),m.Wb())}function tn(e,t){1&e&&(m.Xb(0,"mat-error",105),m.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),m.Wb())}function rn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," E-mail is Required! "),m.Wb())}function nn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1,' "Please Enter Valid Email" '),m.Wb())}function an(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please, Enter 10 digit Landline Number! "),m.Wb())}function on(e,t){1&e&&(m.Xb(0,"mat-error",105),m.Tc(1," \xa0 \xa0 Please Enter Correct Landline Number "),m.Wb())}function cn(e,t){if(1&e&&(m.Xb(0,"a",142),m.Sb(1,"mat-icon"),m.Tc(2," SAVE APPLICANT "),m.Wb()),2&e){var r=m.jc(3);m.rc("disabled",r.applicant.invalid||r.isDuplicateCIF)}}function sn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"a",143),m.fc("click",function(){return m.Hc(r),m.jc(3).onSubmit()}),m.Sb(1,"mat-icon"),m.Tc(2," SAVE APPLICANT "),m.Wb()}}function ln(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",106),m.Xb(1,"mat-accordion"),m.Xb(2,"mat-expansion-panel",107),m.Xb(3,"mat-expansion-panel-header",108),m.Xb(4,"mat-panel-title",109),m.Tc(5,"Create Applicant 2"),m.Wb(),m.Wb(),m.Sb(6,"mat-divider",110),m.Xb(7,"div",61),m.Xb(8,"div",15),m.Xb(9,"label"),m.Tc(10,"Is the applicant an existing customer? "),m.Wb(),m.Tc(11," \xa0\xa0 "),m.Xb(12,"mat-slide-toggle",111),m.fc("change",function(e){return m.Hc(r),m.jc(2).toggleChanges(e)}),m.Wb(),m.Sb(13,"div",63),m.Wb(),m.Xb(14,"div",13),m.Xb(15,"div",14),m.Xb(16,"div",15),m.Xb(17,"div",112),m.Xb(18,"div",113),m.Xb(19,"mat-form-field",16),m.Xb(20,"mat-label"),m.Tc(21,"CIF Number"),m.Wb(),m.Xb(22,"input",114),m.fc("keypress",function(e){return m.Hc(r),m.jc(2)._keyPress(e)})("change",function(){m.Hc(r);var e=m.jc(2);return e.fetchByCif(e.applicant.get("cifNumber").value,e.applicant.get("existingCustomer").value)})("keyup",function(e){return m.Hc(r),m.jc(2).onKeyPress(e)}),m.Wb(),m.Rc(23,ar,2,0,"mat-icon",115),m.Rc(24,ir,2,0,"mat-error",20),m.Rc(25,or,2,0,"mat-hint",116),m.Rc(26,cr,2,0,"mat-hint",117),m.Wb(),m.Wb(),m.Xb(27,"div"),m.Xb(28,"mat-autocomplete",118,119),m.Rc(30,ur,13,13,"mat-option",19),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(31,"div",15),m.Xb(32,"mat-form-field",16),m.Xb(33,"mat-label"),m.Tc(34,"First Name *"),m.Wb(),m.Xb(35,"input",81),m.fc("keypress",function(e){return m.Hc(r),m.jc(2).letterOnly(e)}),m.Wb(),m.Rc(36,dr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(37,"div",15),m.Xb(38,"mat-form-field",16),m.Xb(39,"mat-label"),m.Tc(40,"Last Name *"),m.Wb(),m.Xb(41,"input",82),m.fc("keypress",function(e){return m.Hc(r),m.jc(2).letterOnly(e)}),m.Wb(),m.Rc(42,br,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(43,"div",15),m.Xb(44,"mat-form-field",16),m.Xb(45,"mat-label"),m.Tc(46,"Date of Birth *"),m.Wb(),m.Sb(47,"input",66),m.Sb(48,"mat-datepicker-toggle",67),m.Rc(49,mr,2,0,"mat-error",20),m.Wb(),m.Sb(50,"mat-datepicker",null,68),m.Wb(),m.Xb(52,"div",15),m.Xb(53,"mat-form-field",16),m.Xb(54,"mat-label"),m.Tc(55,"Birth Country"),m.Wb(),m.Xb(56,"div",70),m.Xb(57,"div",71),m.Rc(58,pr,1,3,"div",72),m.Wb(),m.Wb(),m.Xb(59,"mat-select",73),m.fc("selectionChange",function(e){return m.Hc(r),m.jc(2).onBirthCountry(e.value)}),m.Rc(60,gr,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(61,"div",15),m.Xb(62,"mat-form-field",16),m.Xb(63,"mat-label"),m.Tc(64,"Resident Status *"),m.Wb(),m.Xb(65,"mat-select",74),m.Rc(66,fr,2,2,"mat-option",19),m.Wb(),m.Rc(67,hr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(68,"div",15),m.Xb(69,"mat-form-field",16),m.Xb(70,"mat-label"),m.Tc(71,"Country of Residence"),m.Wb(),m.Xb(72,"div",70),m.Xb(73,"div",71),m.Rc(74,yr,1,3,"div",72),m.Wb(),m.Wb(),m.Xb(75,"mat-select",75),m.fc("selectionChange",function(e){return m.Hc(r),m.jc(2).onOtherSelectionResidance(e.value)}),m.Xb(76,"mat-option",76),m.Tc(77,"--Select--"),m.Wb(),m.Rc(78,vr,2,2,"mat-option",19),m.Wb(),m.Rc(79,Cr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(80,"div",15),m.Xb(81,"mat-form-field",16),m.Xb(82,"mat-label"),m.Tc(83,"ID Type *"),m.Wb(),m.Xb(84,"mat-select",77),m.fc("selectionChange",function(){m.Hc(r);var e=m.jc(2);return e.changeIdType(e.applicant.get("idType").value)}),m.Rc(85,xr,2,2,"mat-option",19),m.Wb(),m.Rc(86,Wr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Rc(87,Ir,9,5,"div",120),m.Wb(),m.Xb(88,"div",21),m.Rc(89,kr,6,2,"div",121),m.Xb(90,"div",null,122),m.Xb(92,"label"),m.Tc(93,"\xa0"),m.Wb(),m.Wb(),m.Xb(94,"div"),m.Xb(95,"mat-form-field",16),m.Xb(96,"mat-label"),m.Tc(97,"Customer Prefix *"),m.Wb(),m.Xb(98,"mat-select",64),m.Rc(99,Sr,2,2,"mat-option",19),m.Wb(),m.Rc(100,Or,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(101,"div",123),m.Xb(102,"mat-form-field",16),m.Xb(103,"mat-label"),m.Tc(104,"Middle Name"),m.Wb(),m.Xb(105,"input",65),m.fc("keypress",function(e){return m.Hc(r),m.jc(2).letterOnly(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(106,"div",15),m.Xb(107,"mat-form-field",16),m.Xb(108,"mat-label"),m.Tc(109,"Gender *"),m.Wb(),m.Xb(110,"mat-select",83),m.Rc(111,Dr,2,2,"mat-option",19),m.Wb(),m.Rc(112,Tr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(113,"div",15),m.Xb(114,"mat-form-field",16),m.Xb(115,"mat-label"),m.Tc(116,"Birth Place *"),m.Wb(),m.Sb(117,"input",84),m.Rc(118,Ar,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(119,"div",15),m.Xb(120,"mat-form-field",16),m.Xb(121,"mat-label"),m.Tc(122,"Citizenship By"),m.Wb(),m.Xb(123,"div",70),m.Xb(124,"div",71),m.Sb(125,"div"),m.Wb(),m.Wb(),m.Xb(126,"div",2),m.Xb(127,"mat-select",86),m.fc("selectionChange",function(e){return m.Hc(r),m.jc(2).onSelectionCitizionship1(e.value)}),m.Xb(128,"mat-option",76),m.Tc(129,"--Select--"),m.Wb(),m.Rc(130,Er,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Rc(131,_r,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(132,"div",15),m.Xb(133,"mat-form-field",16),m.Xb(134,"mat-label"),m.Tc(135,"Marital Status"),m.Wb(),m.Xb(136,"mat-select",87),m.Rc(137,wr,2,2,"mat-option",19),m.Wb(),m.Wb(),m.Wb(),m.Xb(138,"div",15),m.Xb(139,"mat-form-field",16),m.Xb(140,"mat-label"),m.Tc(141,"Occupation Type *"),m.Wb(),m.Xb(142,"input",88),m.fc("keypress",function(e){return m.Hc(r),m.jc(2).letterOnly(e)}),m.Wb(),m.Rc(143,Pr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(144,"div",15),m.Xb(145,"mat-form-field",16),m.Xb(146,"mat-label"),m.Tc(147,"Unique ID *"),m.Wb(),m.Xb(148,"input",124),m.fc("keypress",function(e){return m.Hc(r),m.jc(2).keyPressAlphanumeric(e)}),m.Wb(),m.Rc(149,Fr,3,2,"mat-error",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(150,"mat-accordion"),m.Xb(151,"mat-expansion-panel",40),m.Xb(152,"mat-expansion-panel-header"),m.Xb(153,"mat-panel-title"),m.Tc(154,"Communication Address "),m.Wb(),m.Wb(),m.Xb(155,"div",13),m.Xb(156,"div",14),m.Xb(157,"div",15),m.Xb(158,"mat-form-field",16),m.Xb(159,"mat-label"),m.Tc(160,"Address Line 1 *"),m.Wb(),m.Sb(161,"textarea",91),m.Rc(162,Mr,2,0,"mat-error",20),m.Rc(163,Lr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(164,"div",15),m.Xb(165,"mat-form-field",16),m.Xb(166,"mat-label"),m.Tc(167,"Residence Type *"),m.Wb(),m.Xb(168,"mat-select",92),m.Rc(169,Vr,2,2,"mat-option",19),m.Wb(),m.Rc(170,Br,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(171,"div",15),m.Xb(172,"mat-form-field",16),m.Xb(173,"mat-label"),m.Tc(174,"State *"),m.Wb(),m.Xb(175,"mat-select",93),m.fc("selectionChange",function(e){return m.Hc(r),m.jc(2).getCityName(e.value)}),m.Rc(176,jr,2,2,"mat-option",19),m.Wb(),m.Rc(177,qr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(178,"div",15),m.Xb(179,"mat-form-field",16),m.Xb(180,"mat-label"),m.Tc(181,"Zip Code *"),m.Wb(),m.Xb(182,"input",94),m.fc("keypress",function(e){return m.Hc(r),m.jc(2).onKeyPress1(e)})("keyup",function(e){return m.Hc(r),m.jc(2).isAllSameDigit(e)}),m.Wb(),m.Wb(),m.Rc(183,Ur,2,0,"mat-error",20),m.Rc(184,zr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(185,"div",21),m.Xb(186,"div",15),m.Xb(187,"mat-form-field",16),m.Xb(188,"mat-label"),m.Tc(189,"Address Line 2 *"),m.Wb(),m.Sb(190,"textarea",96),m.Rc(191,Gr,2,0,"mat-error",20),m.Rc(192,Hr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(193,"div",15),m.Xb(194,"mat-form-field",16),m.Xb(195,"mat-label"),m.Tc(196,"Country *"),m.Wb(),m.Xb(197,"div",70),m.Xb(198,"div",71),m.Rc(199,Yr,1,3,"div",72),m.Wb(),m.Wb(),m.Xb(200,"mat-select",97),m.fc("selectionChange",function(e){return m.Hc(r),m.jc(2).getStateName(e.value)})("selectionChange",function(e){return m.Hc(r),m.jc(2).getCityName(e.value)})("selectionChange",function(e){return m.Hc(r),m.jc(2).getCountrySelection(e.value)}),m.Rc(201,$r,2,2,"mat-option",19),m.Wb(),m.Rc(202,Qr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Xb(203,"div",15),m.Xb(204,"mat-form-field",16),m.Xb(205,"mat-label"),m.Tc(206,"City * "),m.Wb(),m.Xb(207,"mat-select",98),m.Rc(208,Kr,2,2,"mat-option",19),m.Wb(),m.Rc(209,Jr,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(210,"mat-accordion"),m.Xb(211,"mat-expansion-panel",40),m.Xb(212,"mat-expansion-panel-header"),m.Xb(213,"mat-panel-title"),m.Tc(214,"Contact Information "),m.Wb(),m.Wb(),m.Xb(215,"div",13),m.Xb(216,"div",14),m.Xb(217,"div",15),m.Xb(218,"mat-form-field",16),m.Xb(219,"mat-label"),m.Tc(220,"Mobile Number *"),m.Wb(),m.Xb(221,"input",99),m.fc("keypress",function(e){return m.Hc(r),m.jc(2).onKeyPress1(e)}),m.Wb(),m.Rc(222,Zr,2,0,"mat-error",20),m.Rc(223,en,2,0,"mat-error",20),m.Wb(),m.Rc(224,tn,2,0,"mat-error",100),m.Wb(),m.Xb(225,"div",15),m.Xb(226,"mat-form-field",16),m.Xb(227,"mat-label"),m.Tc(228,"E-mail *"),m.Wb(),m.Sb(229,"input",101),m.Rc(230,rn,2,0,"mat-error",20),m.Rc(231,nn,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Wb(),m.Xb(232,"div",21),m.Xb(233,"div",15),m.Xb(234,"mat-form-field",16),m.Xb(235,"mat-label"),m.Tc(236,"Landline Number "),m.Wb(),m.Xb(237,"input",102),m.fc("keypress",function(e){return m.Hc(r),m.jc(2).onKeyPress1(e)}),m.Wb(),m.Rc(238,an,2,0,"mat-error",20),m.Wb(),m.Rc(239,on,2,0,"mat-error",100),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(240,"div",15),m.Xb(241,"div",15),m.Rc(242,cn,3,1,"a",125),m.Rc(243,sn,3,0,"ng-template",null,126,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.Dc(29),a=m.Dc(51),i=m.Dc(91),o=m.Dc(244),c=m.jc(2);m.Eb(2),m.rc("expanded",c.cardCustomerForm.get("numOfApplicants").value!==c.listOfAccounts.length),m.Eb(10),m.rc("disabled",0==c.listOfAccounts.length),m.Eb(10),m.rc("formControl",c.cifNumberForm)("matAutocomplete",n)("readonly",1!=c.applicant.get("existingCustomer").value),m.Eb(1),m.rc("ngIf",c.isCifValid),m.Eb(1),m.rc("ngIf",c.applicant.get("cifNumber").hasError("required")&&!c.isCifValid),m.Eb(1),m.rc("ngIf",c.isDuplicateCIF),m.Eb(1),m.rc("ngIf",!c.isCifValid&&c.onbackSpace),m.Eb(4),m.rc("ngForOf",c.listOfCustByCif),m.Eb(6),m.rc("ngIf",c.applicant.get("firstName").hasError("required")),m.Eb(6),m.rc("ngIf",c.applicant.get("lastName").hasError("required")),m.Eb(5),m.rc("matDatepicker",a)("max",c.tomorrow)("max",c.maxDate),m.Eb(1),m.rc("for",a),m.Eb(1),m.rc("ngIf",c.applicant.get("dateOfBirth").hasError("required")),m.Eb(7),m.Oc("display",null==c.birthCountryFlag?"none":""),m.Eb(2),m.rc("ngIf",c.isBirthCountry),m.Eb(2),m.rc("ngForOf",c.arrayCountry),m.Eb(6),m.rc("ngForOf",c.arrayResidence),m.Eb(1),m.rc("ngIf",c.applicant.get("residenceStatus").hasError("required")),m.Eb(7),m.rc("ngIf",c.isResidency),m.Eb(4),m.rc("ngForOf",c.arrayCountry),m.Eb(1),m.rc("ngIf",c.applicant.get("countryOfResidence").hasError("required")),m.Eb(6),m.rc("ngForOf",c.arrayDocumentType),m.Eb(1),m.rc("ngIf",c.applicant.get("idType").hasError("required")),m.Eb(1),m.rc("ngIf",c.showExpiryDate&&"Aadhar card"!==c.applicant.get("idType").value),m.Eb(2),m.rc("ngIf",0==c.listOfAccounts.length)("ngIfElse",i),m.Eb(10),m.rc("ngForOf",c.arrayPrefix),m.Eb(1),m.rc("ngIf",c.applicant.get("prefix").hasError("required")),m.Eb(11),m.rc("ngForOf",c.arrayGender),m.Eb(1),m.rc("ngIf",c.applicant.get("gender").hasError("required")),m.Eb(6),m.rc("ngIf",c.applicant.get("placeOfBirth").hasError("required")),m.Eb(6),m.Oc("display",null==c.currency?"none":""),m.Eb(1),m.Hb("currency-flag currency-flag-",c.currency,""),m.Eb(5),m.rc("ngForOf",c.arrayCountry),m.Eb(1),m.rc("ngIf",c.applicant.get("nationality").hasError("required")),m.Eb(6),m.rc("ngForOf",c.maritalStatusList),m.Eb(6),m.rc("ngIf",c.applicant.get("occupationType").hasError("required")),m.Eb(6),m.rc("ngIf",c.applicant.get("idNumber").touched&&!c.applicant.get("idNumber").valid),m.Eb(13),m.rc("ngIf",c.applicant.get("address1").hasError("required")),m.Eb(1),m.rc("ngIf",c.applicant.get("address1").touched&&c.applicant.get("address1").hasError("pattern")),m.Eb(6),m.rc("ngForOf",c.arrayAddressType),m.Eb(1),m.rc("ngIf",c.applicant.get("addressType").hasError("required")),m.Eb(6),m.rc("ngForOf",c.arrayState),m.Eb(1),m.rc("ngIf",c.applicant.get("state").hasError("required")),m.Eb(6),m.rc("ngIf",c.applicant.get("zipCode").hasError("required")&&!c.applicant.controls.zipCode.valid&&(null==c.applicant.controls.zipCode?null:c.applicant.controls.zipCode.touched)),m.Eb(1),m.rc("ngIf",null==c.applicant.get("zipCode").errors?null:c.applicant.get("zipCode").errors.pattern),m.Eb(7),m.rc("ngIf",c.applicant.get("address2").hasError("required")),m.Eb(1),m.rc("ngIf",c.applicant.get("address2").touched&&c.applicant.get("address2").hasError("pattern")),m.Eb(7),m.rc("ngIf",c.isCountry),m.Eb(2),m.rc("ngForOf",c.arrayCountry),m.Eb(1),m.rc("ngIf",c.applicant.get("country").hasError("required")),m.Eb(6),m.rc("ngForOf",c.arrayCity),m.Eb(1),m.rc("ngIf",c.applicant.get("city").hasError("required")),m.Eb(13),m.rc("ngIf",c.applicant.get("phoneNumber").hasError("required")),m.Eb(1),m.rc("ngIf",c.applicant.get("phoneNumber").hasError("pattern")),m.Eb(1),m.rc("ngIf","0000000000"==c.applicant.get("phoneNumber").value),m.Eb(6),m.rc("ngIf",c.applicant.get("primaryEmailAdress").hasError("required")),m.Eb(1),m.rc("ngIf",(null==c.applicant.get("primaryEmailAdress").errors?null:c.applicant.get("primaryEmailAdress").errors.email)||(null==c.applicant.get("primaryEmailAdress").errors?null:c.applicant.get("primaryEmailAdress").errors.pattern)),m.Eb(7),m.rc("ngIf",c.applicant.get("landlineNumber").hasError("pattern")),m.Eb(1),m.rc("ngIf","0000000000"==c.applicant.get("landlineNumber").value),m.Eb(3),m.rc("ngIf",c.applicant.invalid||c.isDuplicateCIF||c.disableSaveBtn)("ngIfElse",o)}}function un(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",144),m.fc("click",function(){return m.Hc(r),m.jc(2).goToNext()}),m.Tc(2," Next "),m.Wb(),m.Ub()}if(2&e){var n=m.jc(2);m.Eb(1),m.rc("disabled",n.cardCustomerForm.get("numOfApplicants").value===n.listOfAccounts.length?"false":"true")}}function dn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"button",144),m.fc("click",function(){return m.Hc(r),m.jc(2).goToNext()}),m.Tc(1," Next "),m.Wb()}if(2&e){var n=m.jc(2);m.rc("disabled",n.cardCustomerForm.get("numOfApplicants").value!==n.listOfAccounts.length||n.cardCustomerForm.invalid&&null!==n.selectedApplicant)}}function bn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"div",15),m.Xb(4,"mat-form-field",16),m.Xb(5,"mat-label"),m.Tc(6,"Ownership"),m.Wb(),m.Xb(7,"mat-select",17),m.Xb(8,"mat-option",18),m.Tc(9,"Select"),m.Wb(),m.Rc(10,Ze,2,2,"mat-option",19),m.Wb(),m.Rc(11,et,2,0,"mat-error",20),m.Wb(),m.Wb(),m.Wb(),m.Xb(12,"div",21),m.Xb(13,"div",15),m.Rc(14,tt,15,5,"ng-container",22),m.Wb(),m.Wb(),m.Wb(),m.Xb(15,"div",1),m.Xb(16,"div",21),m.Xb(17,"div",23),m.Xb(18,"h2"),m.Tc(19,"Details Of the Applicant"),m.Wb(),m.Wb(),m.Wb(),m.Xb(20,"div",24),m.Xb(21,"div",23),m.Xb(22,"p",25),m.Tc(23),m.Wb(),m.Sb(24,"mat-progress-bar",26),m.Xb(25,"mat-hint"),m.Xb(26,"small"),m.Tc(27," completed / total applicants "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(28,"div",13),m.Xb(29,"div",27),m.Xb(30,"div",28),m.Xb(31,"div",15),m.Xb(32,"label",29),m.Tc(33,"Add on CardHolder"),m.Wb(),m.Xb(34,"mat-slide-toggle",30),m.fc("change",function(e){return m.Hc(r),m.jc().goToggle(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(35,"div",31),m.Xb(36,"mat-accordion",32),m.Rc(37,nr,30,9,"mat-expansion-panel",33),m.Wb(),m.Wb(),m.Rc(38,ln,245,70,"div",34),m.Xb(39,"div",35),m.Xb(40,"button",36),m.fc("click",function(){return m.Hc(r),m.jc().goBack()}),m.Tc(41," Back "),m.Wb(),m.Rc(42,un,3,1,"ng-container",22),m.Rc(43,dn,2,1,"ng-template",null,37,m.Sc),m.Wb(),m.Wb()}if(2&e){var n=m.Dc(44),a=m.jc();m.rc("formGroup",a.cardCustomerForm),m.Eb(10),m.rc("ngForOf",a.arrayOwnership),m.Eb(1),m.rc("ngIf",a.cardCustomerForm.get("ownership").hasError("required")),m.Eb(3),m.rc("ngIf","Joint"==a.cardCustomerForm.get("ownership").value)("ngIfElse",a.showAdd),m.Eb(9),m.Wc("Completed ",a.listOfAccounts.length," / ",a.cardCustomerForm.get("numOfApplicants").value,""),m.Eb(1),m.rc("color",a.cardCustomerForm.get("numOfApplicants").value===a.listOfAccounts.length?"primary":"accent")("value",a.cardCustomerForm.get("numOfApplicants").value===a.listOfAccounts.length?100:50),m.Eb(13),m.rc("ngForOf",a.listOfAccounts),m.Eb(1),m.rc("ngIf",null==a.selectedApplicant&&a.cardCustomerForm.get("numOfApplicants").value!==a.listOfAccounts.length),m.Eb(4),m.rc("ngIf","Joint"==a.cardCustomerForm.get("ownership").value)("ngIfElse",n)}}var mn,pn=((mn=function(){function t(e,n,a,i,o,c,s,l,u,b,m,p,g,f,h,y){r(this,t),this.router=e,this.dialog=n,this.route=a,this.accountService=i,this.elRef=o,this.renderer=c,this.ls=s,this.apiService=l,this.formBuilder=u,this.confirmService=b,this.cdr=m,this.appApiService=p,this.snack=g,this.dataService=f,this.urlService=h,this.loader=y,this.cifNumberForm=new d.g,this.listOfCustByCif=[],this.submitted=!1,this.formData={},this.console=console,this.customerIdProofs=[],this.selfNextBtnDisabled=!0,this.arrayPrefix=[],this.arrayGender=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayAddressType=[],this.applicantDetailsArray=[],this.toggle=!1,this.customerDetails={},this.applicantDetails=[],this.showEditOption=!1,this.tomorrow=new Date,this.maxDate=new Date,this.minDate=new Date,this.validDate=new Date,this.showNewForm=!0,this.isCifValid=!1,this.toggleClick=!1,this.isCustomerDone=!1,this.previousUrl="",this.addOnCard=!1,this.addFunc=!0,this.removedButton=!1,this.selectedApplicant=null,this.listOfAccounts=[],this.isAllSameDigitVal=!1,this.isResidency=!1,this.isCurrency=!1,this.addonCardValue=!1,this.isBirthCountry=!1,this.isCountry=!1,this.showExpiryDate=!0,this.tomorrow.setDate(this.tomorrow.getDate()),this.validDate.setDate(this.validDate.getDate())}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.console.log(this.i),this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.isCustomerDone=JSON.parse(this.ls.getItem("Card_Customer_Done")),this.addOnCard=this.ls.getItem("ADD_ON_CARD")||!1,console.log("ADD_ON_CARD",this.addOnCard),this.cifNumberPrimary=this.ls.getItem("Card_CIF_NUM_PRIMARY"),this.buildCustomerForm(),this.getListOfAccounts(),this.getOwnershipValue("ownership"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getAdressType("address_type"),this.getDocumentType("document_type"),this.getMaritalStatus("maritial_Status"),this.isChecked=!0,this.disabled=!1,this.disabledToggle=!0,1==this.addOnCard&&this.goToggle("event"),null!=this.cardId&&this.isCustomerDone?(this.showEditOption=!0,this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(function(t){e.buildCustomerForm(t)},function(e){}),this.getListOfAccounts(),this.dataExtracted()):(this.showEditOption=!1,this.subscription=this.apiService.getaccParam.subscribe(function(t){console.log("data::",t),e.dispResponse=t,e.customerIdProofs=t.custIdProofs})),this.cardCustomerForm.get("ownership").valueChanges.subscribe(function(t){console.log("ownership ?",t),"Joint"==t?(e.cardCustomerForm.get("addOnCard").patchValue(!0),e.ls.setItem("ADD_ON_CARD",!0),e.cardCustomerForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}),e.cardCustomerForm.get("applicantDetails").reset(),e.disabled=!1,console.log("this.cardCustomerForm.get('numOfApplicants')",e.cardCustomerForm.get("numOfApplicants"))):(e.cardCustomerForm.get("addOnCard").patchValue(!1),e.ls.setItem("ADD_ON_CARD",!1),e.cardCustomerForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1}))}),this.cardCustomerForm.get("numOfApplicants").valueChanges.subscribe(function(t){console.log("ownership ?",t),1==t?(e.cardCustomerForm.get("ownership").patchValue("Self",{onlySelf:!0,emitEvent:!1}),e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!0)):(e.cardCustomerForm.get("ownership").patchValue("Joint",{onlySelf:!0,emitEvent:!1}),e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!1),e.disabled=!1)}),console.log(this.cardCustomerForm)}},{key:"dataExtracted",value:function(){var t=this;this.ownershipStatus=this.ls.getItem("cardownership_value"),console.log("ownership ?",this.ownershipStatus),"Joint"==this.ownershipStatus?(console.log("calling"),this.cardCustomerForm.get("numOfApplicants").setValue(2)):this.cardCustomerForm.get("numOfApplicants").setValue(1),this.noOfapplicants=this.ls.getItem("CardNoOfApplicants"),this.console.log(this.noOfapplicants),1==this.noOfapplicants?this.cardCustomerForm.get("ownership").setValue("Self"):this.cardCustomerForm.get("ownership").setValue("Joint"),this.applicant.get("idType").valueChanges.pipe(Object(Ue.a)()).subscribe(function(r){var n=e(r,2);n[0],n[1],t.applicant.get("idNumber").patchValue(""),t.applicant.get("expiryDate").patchValue("")}),this.urlService.previousUrl$.subscribe(function(e){t.previousUrl=e}),this.accountService.refresh.subscribe(function(e){t.isCustomerDone=JSON.parse(t.ls.getItem("Card_Customer_Done")),t.cdr.markForCheck()}),this.cifNumber=this.ls.getItem("CIF_NUM_PRIMARY"),this.console.log("cifNumber=",this.cifNumber)}},{key:"populatePrimaryApplicant",value:function(e){this.getStateName(e.country),this.getCityName(e.state);var t={cifNumber:this.cifNumberPrimary,prefix:e.prefix,existingCustomer:!0,primaryCustomer:!0,customerId:e.customerId,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,gender:e.gender,dateOfBirth:this.convertDate(e.dateOfBirth),placeOfBirth:e.placeOfBirth,residenceStatus:e.residenceStatus,nationality:e.nationality,countryOfResidence:e.countryOfResidence,occupationType:e.occupationType,idType:e.idType,idNumber:e.idNumber,expiryDate:this.convertDate(null==e?void 0:e.expiryDate)||"",addressType:e.addressType,address1:e.address1,address2:e.address2,city:e.city,country:e.country,state:e.state,zipCode:e.zipCode,phoneNumber:e.phoneNumber,landlineNumber:e.landlineNumber,primaryEmailAdress:e.primaryEmailAdress,maritalStatus:e.maritalStatus,birthCountry:e.birthCountry};this.applicant.patchValue(t)}},{key:"changeIdType",value:function(e){var t;console.log("doc::",e),console.log("this.customerIdProofs::",this.customerIdProofs),this.showExpiryDate=!0,"Aadhar card"===e&&(this.applicant.get("expiryDate").clearValidators(),this.showExpiryDate=!1);var r=this.customerIdProofs.filter(function(t){return t.idType==e});console.log("idProofs::",r),r.length>0?(this.applicant.get("idNumber").patchValue(r[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(null===(t=r[0])||void 0===t?void 0:t.expiryDate)||"")):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}},{key:"isObjectEmpty",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&"{}"===JSON.stringify(e)}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"toggleDetails",value:function(e){var t,r;console.log(this.cardCustomerForm),console.log("customerId incomming",e),this.cardCustomerForm.get("numOfApplicants").disable({onlySelf:!0,emitEvent:!1}),this.console.log(e.userAddress.length),r=e.userAddress.length>1?e.userAddress.find(function(e){return"Permanent"==e.addressType}):e.userAddress[0],this.getStateName(r.country),this.getCityName(r.state);var n={existingCustomer:e.existingCustomer,dependentId:e.dependentId,primaryCustomer:e.primaryCustomer,cifNumber:e.cifNumber,prefix:e.prefix,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,gender:e.gender,dateOfBirth:e.dateOfBirth,placeOfBirth:e.placeOfBirth,residenceStatus:e.residenceStatus,nationality:e.nationality,countryOfResidence:e.countryOfResidence,occupationType:e.occupationType,idType:e.custIdProofs[0].idType,idNumber:e.custIdProofs[0].idNumber,expiryDate:(null===(t=e.custIdProofs[0])||void 0===t?void 0:t.expiryDate)||"",addressType:r.addressType,address1:r.address1,address2:r.address2,city:r.city,state:r.state,country:r.country,zipCode:r.zipCode,phoneNumber:e.phoneNumber,landlineNumber:e.landlineNumber,primaryEmailAdress:e.primaryEmailAdress,maritalStatus:e.maritalStatus,birthCountry:e.birthCountry};console.log("account.firstName=",e.firstName),this.selectedApplicant=e,console.log("payLoadModel",n),this.applicant.patchValue(n,{onlySelf:!1,emitEvent:!1}),this.onSelectionBirthCountry(n.birthCountry),this.onSelectionResidance(n.countryOfResidence),this.onSelectionCitizionship(n.nationality),this.getCountrySelection1(n.country),this.onBirthCountry(n.birthCountry),this.cdr.markForCheck(),console.log(this.selectedApplicant)}},{key:"resetAndClose",value:function(){this.closeDetails()}},{key:"closeDetails",value:function(){this.selectedApplicant=null,this.applicant.reset(),this.cardCustomerForm.get("numOfApplicants").enable({onlySelf:!0})}},{key:"getListOfAccounts",value:function(){var e=this;this.isResidency=!1,this.isCurrency=!1,this.isBirthCountry=!1,this.isCountry=!1,this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(function(t){e.listOfAccounts=200==t.status?t.data.map(function(e){return Object.assign(Object.assign({},e),{_id:Math.round(1e10*Math.random())})}):[],e.console.log(" this.listOfAccounts",e.listOfAccounts),console.log("All Customer Details",e.listOfAccounts.length),200==t.status&&e.ls.setItem("cId",t.data[0].customerId),console.log("Length check??",e.listOfAccounts.length);var r=["prefix","firstName","lastName","dateOfBirth","gender","birthCountry","placeOfBirth","residenceStatus","countryOfResidence","nationality","maritalStatus","occupationType","phoneNumber","primaryEmailAdress"],n=["idType","expiryDate","idNumber"],a=["address1","address2","addressType","country","state","city","zipCode"];if(e.listOfAccounts.map(function(t){r.map(function(r){if(null==t[r])return e.selfNextBtnDisabled=!0;n.map(function(r){if(null==t.custIdProofs[r])return e.selfNextBtnDisabled=!0;a.map(function(r){return e.selfNextBtnDisabled=null==t.userAddress[r]})})}),console.log("selfNextBtnDisabled ",e.selfNextBtnDisabled)}),0==e.listOfAccounts.length)e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!0);else if(1==e.listOfAccounts.length)e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!1);else if(e.listOfAccounts.length>=2){e.cardCustomerForm.get("ownership").patchValue("Joint"),e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!1);for(var i=0;i<t.data.length;i++)console.log("number calling",t.data[i]),e.cardCustomerForm.get("numOfApplicants").patchValue(t.data[i].numOfApplicants)}e.cdr.markForCheck(),e.toggleChanges()},function(e){})}},{key:"removeApplicant",value:function(e){var t=this;this.confirmService.confirm({title:"Confirm",message:"Are you sure want to delete?",ok:"Yes",cancel:"No"}).subscribe(function(r){console.log("res:: removed ",r),r&&t.appApiService.deleteApplicant(e.customerId,e.dependentId).subscribe(function(e){},function(r){console.log(r),200==r.status&&(t.snack.open("Dependent ".concat(e.firstName," ").concat(r.error.text,"!"),"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getListOfAccounts())})})}},{key:"fetchByCif",value:function(e,t){var r=this;this.listOfAccounts.some(function(t){return t.cifNumber==e})?(this.isDuplicateCIF=!0,this.disableSaveBtn=!0,this.snack.open("Duplicate CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})):(this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.currency=null,this.birthCountryFlag=null,e&&this.appApiService.fetchByCif(e).subscribe(function(e){var n,a;if(console.log(e),!e)return r.isCifValid=!1,r.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void r.applicant.get("cifNumber").patchValue("");r.applicant.get("expiryDate").clearValidators(),r.isCifValid=!0,r.ls.setItem("cId",e.customerInfoList[0].customerId),r.console.log(e.customerInfoList[0].userAddress.length),e.customerInfoList[0].userAddress.length>1?(a=e.customerInfoList[0].userAddress.find(function(e){return"Permanent"==e.addressType}),console.log(a)):(a=e.customerInfoList[0].userAddress[0],console.log(a));var i=qe(null===(n=e.customerInfoList[0].custIdProofs[0])||void 0===n?void 0:n.expiryDate).format();r.console.log(i),r.getStateName(a.country),r.getCityName(a.state),r.onSelectionCitizionship1(e.customerInfoList[0].nationality),r.onOtherSelectionResidance(e.customerInfoList[0].countryOfResidence),console.log(e.customerInfoList[0].birthCountry),r.onBirthCountry(e.customerInfoList[0].birthCountry),r.getCountrySelection(a.country);var o={prefix:e.customerInfoList[0].prefix,cifNumber:e.customerInfoList[0].cifNumber,existingCustomer:t,customerId:e.customerInfoList[0].customerId,firstName:e.customerInfoList[0].firstName,middleName:e.customerInfoList[0].middleName,lastName:e.customerInfoList[0].lastName,gender:e.customerInfoList[0].gender,dateOfBirth:r.convertDate(e.customerInfoList[0].dateOfBirth),placeOfBirth:e.customerInfoList[0].placeOfBirth,residenceStatus:e.customerInfoList[0].residenceStatus,nationality:e.customerInfoList[0].nationality,countryOfResidence:e.customerInfoList[0].countryOfResidence,occupationType:e.customerInfoList[0].occupationType,idType:e.customerInfoList[0].custIdProofs.length>0?e.customerInfoList[0].custIdProofs[0].idType:"",idNumber:e.customerInfoList[0].custIdProofs.length>0?e.customerInfoList[0].custIdProofs[0].idNumber:"",expiryDate:i,addressType:a.addressType,address1:a.address1,address2:a.address2,city:a.city,country:a.country,state:a.state,zipCode:a.zipCode,phoneNumber:e.customerInfoList[0].phoneNumber,landlineNumber:e.customerInfoList[0].landlineNumber,primaryEmailAdress:e.customerInfoList[0].primaryEmailAdress,maritalStatus:e.customerInfoList[0].maritalStatus,birthCountry:e.customerInfoList[0].birthCountry};r.console.log("res.customerInfoList[0].firstName=",e.customerInfoList[0].firstName),r.customerName=e.customerInfoList[0].firstName+" "+e.customerInfoList[0].lastName,r.applicant.patchValue(o),console.log(r.applicant),r.cdr.markForCheck()},function(e){console.error(e)}))}},{key:"getCustomerInformationDetails",value:function(){var e=this;this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(function(t){e.buildCustomerForm(t)},function(e){})}},{key:"convertDate",value:function(e){var t=qe(e).format("YYYY-MM-DD")||null;if(console.log("date",t),t)return t}},{key:"buildCustomerForm",value:function(e){this.console.log(e),this.cardCustomerForm=this.formBuilder.group({productAccountId:e?e.productAccountId:this.accountId,ownership:e?e.data[0].ownership:"Self",numOfApplicants:e?e.data[0].numOfApplicants:1,addOnCard:e?e.data[0].addOnCard:this.addOnCard,applicantDetails:this.addCustFormGroup()})}},{key:"toggleChanges",value:function(){1==this.applicant.get("existingCustomer").value?(this.applicant.get("cifNumber").enable(),this.applicant.get("cifNumber").setValidators([d.A.required]),this.applicant.get("cifNumber").updateValueAndValidity()):(this.applicant.patchValue({cifNumber:""}),this.isDuplicateCIF=!1,this.applicant.get("cifNumber").disable(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity())}},{key:"toggleAddForm",value:function(){this.showNewForm=!this.showNewForm}},{key:"addCustFormGroup",value:function(){return this.formBuilder.group({existingCustomer:[null,[]],primaryCustomer:[null,[]],cifNumber:[""],customerId:[""],dependentId:[null],prefix:["",d.A.required],firstName:["",d.A.required],middleName:[""],maritalStatus:["",d.A.required],birthCountry:["",d.A.required],lastName:["",d.A.required],gender:["",d.A.required],dateOfBirth:["",d.A.required],placeOfBirth:["",d.A.required],residenceStatus:["",d.A.required],nationality:["",d.A.required],countryOfResidence:["",d.A.required],occupationType:["",d.A.required],idType:["",d.A.required],idNumber:["",d.A.required],expiryDate:[""],addressType:["",d.A.required],address1:["",[d.A.required,d.A.pattern(".*[a-zA-Z].*")]],address2:["",[d.A.required,d.A.pattern(".*[a-zA-Z].*")]],city:["",d.A.required],state:["",d.A.required],country:["",d.A.required],zipCode:["",[d.A.required,d.A.minLength(5),d.A.maxLength(10),d.A.pattern("^[0-9]{5,10}$")]],phoneNumber:["",[d.A.required,d.A.minLength(3),d.A.maxLength(10),d.A.pattern("^[0-9]{10,12}$")]],landlineNumber:["",[d.A.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:["",[d.A.required,d.A.email,d.A.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]]})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"keyPressAlphanumeric",value:function(e){var t=String.fromCharCode(e.keyCode);return!!/[a-zA-Z0-9]/.test(t)||(e.preventDefault(),!1)}},{key:"validateNumber",value:function(e){var t=e.keyCode;t>=48&&t<=57||t>=96&&t<=105||[8,37,39,46].includes(t)||e.preventDefault()}},{key:"f",get:function(){return this.cardCustomerForm.controls}},{key:"applicantCount",get:function(){return this.f.numOfApplicants}},{key:"applicant",get:function(){return this.f.applicantDetails}},{key:"getPrefixValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayPrefix=e})}},{key:"getMaritalStatus",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.maritalStatusList=e})}},{key:"getOwnershipValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayOwnership=e})}},{key:"getGenderValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayGender=e})}},{key:"getCountryName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(e){for(var r=0;r<e.length;r++)"A"===e[r].authStatus&&t.arrayCountry.push(e[r].countryName)})}},{key:"getAdressType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayAddressType=e})}},{key:"getStateName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(r){for(var n=0;n<r.length;n++)if(r[n].countryName==e){t.apiService.getStateByCountryId(r[n].id).subscribe(function(e){t.arrayState=e});break}})}},{key:"getCityName",value:function(e){var t=this;this.entityName="city",console.log(e),this.apiService.getDropDownValues1(this.entityName,e).subscribe(function(e){t.arrayCity=e,console.log("--\x3e",t.arrayCity),console.log("this.applicant",t.applicant)})}},{key:"onBirthCountry",value:function(e){var t=this;this.console.log("data ::",e),this.isBirthCountry=!0,null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.birthCountryFlag=e.currencyCode.toLowerCase()})}},{key:"getCountrySelection",value:function(e){var t=this;this.console.log("data ::",e),this.isCountry=!0,null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.countryCode=e.currencyCode.toLowerCase()})}},{key:"getCountrySelection1",value:function(e){var t=this;this.console.log("data ::",e),null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.editCountryCode=e.currencyCode.toLowerCase()})}},{key:"getResidenceDetails",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayResidence=e})}},{key:"getDocumentType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayDocumentType=e})}},{key:"onSelectionCitizionship",value:function(e){var t=this;null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.currencyCode=e.currencyCode.toLowerCase(),console.log(t.currencyCode)})}},{key:"onSelectionCitizionship1",value:function(e){var t=this;console.log("data ::",e),console.log(e),this.isCurrency=!0,null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){console.log(e),t.currency=e.currencyCode.toLowerCase(),console.log(t.currency),console.log(t.currencyCode)})}},{key:"onSelectionBirthCountry",value:function(e){var t=this;console.log("Birth Country : ",e),null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){console.log(e.currencyCode),t.Currency1=e.currencyCode.toLowerCase()})}},{key:"onSelectionResidance",value:function(e){var t=this;this.console.log("data ::",e),console.log(e),null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.Currency=e.currencyCode.toLowerCase(),console.log(t.Currency)})}},{key:"onOtherSelectionResidance",value:function(e){var t=this;this.console.log("data ::",e),console.log(e),this.isResidency=!0,null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.ResideceCurrency=e.currencyCode.toLowerCase(),console.log(t.ResideceCurrency)})}},{key:"onSubmit",value:function(){var e=this;this.submitted=!0,console.log("saveapplicant"),this.isCifValid=!1;var t={},r=this.cardCustomerForm.controls.applicantDetails.value;console.log(r);var n={},a={},i=[],o=[];t.customerId=this.ls.getItem("cId"),t.cifNumber=r.cifNumber,t.dependentId=r.dependentId,t.existingCustomer=r.existingCustomer,t.primaryCustomer=r.primaryCustomer,t.residenceStatus=r.residenceStatus,t.placeOfBirth=r.placeOfBirth,t.countryOfResidence=r.countryOfResidence,t.occupationType=r.occupationType,t.phoneNumber=r.phoneNumber,t.maritalStatus=r.maritalStatus,t.birthCountry=r.birthCountry,t.primaryEmailAdress=r.primaryEmailAdress,t.prefix=r.prefix,t.firstName=r.firstName,t.middleName=r.middleName,t.lastName=r.lastName,t.cifNumber=r.cifNumber,t.gender=r.gender,t.dateOfBirth=this.convertDate(r.dateOfBirth),t.nationality=r.nationality,t.cardId=this.cardId,t.accountType="cardOrigin",t.landlineNumber=r.landlineNumber,t.ownership=this.cardCustomerForm.get("ownership").value,t.numOfApplicants=this.cardCustomerForm.get("numOfApplicants").value,t.addOnCard=this.addonCardValue,n.address1=r.address1,n.address2=r.address2,n.country=r.country,n.state=r.state,n.city=r.city,n.zipCode=r.zipCode,n.addressType=r.addressType,o.push(n),a.expiryDate="Invalid date"==(null==r?void 0:r.expiryDate)?null:""!=(null==r?void 0:r.expiryDate)?this.convertDate(null==r?void 0:r.expiryDate):"",a.idType=r.idType,a.idNumber=r.idNumber,i.push(a),t.userAddress=o,t.custIdProofs=i,console.log("payloadObj",t),this.isChecked=!1,this.disabled=!1,this.appApiService.createAndUpdateCardAccountants(t).subscribe(function(t){console.log("data::",t),e.closeDetails(),e.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(e.getListOfAccounts(),e.snack.open("Customer Information Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),1==t.custDependentModel.primaryCustomer&&e.ls.setItem("primaryCustomerName",null==t.custDependentModel.middleName?t.custDependentModel.firstName+" "+t.custDependentModel.lastName:t.custDependentModel.firstName+" "+t.custDependentModel.middleName+" "+t.custDependentModel.lastName),e.cardCustomerForm.get("ownership").patchValue(t.custDependentModel.ownership),e.cardCustomerForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants),"Self"==e.cardCustomerForm.get("ownership").value&&e.goToNext())},function(t){console.log(t),e.loader.close(),e.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"uploadImage",value:function(){console.log("Upload Image")}},{key:"onReset",value:function(){this.submitted=!1,this.cardCustomerForm.reset({})}},{key:"onClear",value:function(){this.submitted=!1}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEntryStage/list/cardInitiation"])}},{key:"goToNext",value:function(){this.ls.setItem("Card_Customer_Done",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/financialDetails"]),this.ls.setItem("CardNoOfApplicants",this.cardCustomerForm.get("numOfApplicants").value),this.ls.setItem("cardownership_value",this.cardCustomerForm.get("ownership").value),this.router.navigate(["/cardaccount/applicationEntryStage/list/financialDetails"])}},{key:"onKeyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault(),console.log(e.target.value),clearTimeout(this.timer),e.target.value||(this.listOfCustByCif=[])}},{key:"onKeyPress",value:function(e){var t=this,r=String.fromCharCode(e.charCode);/[0-9]/.test(r)||e.preventDefault(),console.log(e.target.value),clearTimeout(this.timer),e.target.value?this.timer=setTimeout(function(){t.appApiService.fetchByCif(e.target.value).subscribe(function(e){console.log(e),e&&(t.listOfCustByCif=e.customerInfoList)})},1e3):(this.isCifValid=!1,this.applicant.reset(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity(),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0),this.listOfCustByCif=[])}},{key:"isAllSameDigit",value:function(e){var t=0,r=e.target.value;if(""!=r){for(var n=0;n<r.length;n++)0==r[n]&&t++;console.log("number :: ",r),console.log("isAllSameDigitVal :: ",t,r.length),t==r.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.dataService.sendNavParam({})}},{key:"goToggle",value:function(e){console.log("event",e.checked),this.addonCardValue=e.checked,1==e.checked||this.addOnCard?(this.cardCustomerForm.get("ownership").setValue("Joint"),this.cardCustomerForm.get("numOfApplicants").patchValue(2),this.disabled=!1):0==e.checked&&(this.cardCustomerForm.get("ownership").patchValue("Self",{onlySelf:!0,emitEvent:!1}),this.cardCustomerForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1}))}}]),t}()).\u0275fac=function(e){return new(e||mn)(m.Rb(f.h),m.Rb(g.b),m.Rb(f.a),m.Rb(_.a),m.Rb(m.l),m.Rb(m.I),m.Rb(u.a),m.Rb(b.b),m.Rb(d.f),m.Rb(Be.a),m.Rb(m.h),m.Rb(je.a),m.Rb(p.a),m.Rb(Ae.a),m.Rb(Ee.a),m.Rb(ne.a))},mn.\u0275cmp=m.Lb({type:mn,selectors:[["app-card-customer-information"]],viewQuery:function(e,t){var r;1&e&&m.ad(Ve.a,!0),2&e&&m.Cc(r=m.gc())&&(t.progressBar=r.first)},inputs:{i:"i"},decls:18,vars:1,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","row wrap"],[1,"p-0"],[1,""],[1,"card-title-text"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["formControlName","ownership","name","owner","required","",1,"graycolor"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","50"],[4,"ngIf","ngIfElse"],[1,"mb-1"],["fxFlex","100","fxLayoutGap","16px","fxLayoutAlign","end end",2,"padding-right","15px"],[1,"m-0","text-right"],["mode","determinate",1,"rounded",2,"height","5px",3,"color","value"],["fxFlex","100%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],["formControlName","addOnCard",2,"margin-left","1cm",3,"change"],[1,"mt-12"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["class","mt-16",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["hideBtn",""],[3,"value"],["formControlName","numOfApplicants","name","account"],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"ml-8"],[2,"margin-bottom","-16px !important"],["mat-card-avatar",""],[3,"name"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],["fxLayout","row","fxFlex","1 1 0%","fxLayoutAlign","end end"],[1,"group-btn-bg"],["showEdit",""],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["detailApplicant",""],["mat-sm-chip","",3,"color","selected"],["type","reset","mat-icon-button","","color","primary",3,"click"],["type","submit","mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mt-32",3,"formGroup"],["formGroupName","applicantDetails"],["formControlName","existingCustomer",3,"change"],[1,"mb-16"],["name","prefix","formControlName","prefix"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","Date of birth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"p-1"],["fxFlex","20"],["matPrefix",""],[3,"class",4,"ngIf"],["name","birthCountry","formControlName","birthCountry","required","",3,"selectionChange"],["name","residenceType","formControlName","residenceStatus"],["formControlName","countryOfResidence","id","forcitizenship","required","",3,"selectionChange"],["disabled",""],["name","idtype","formControlName","idType",3,"selectionChange"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"required","matDatepicker","min"],["appDatepicker1",""],["formControlName","primaryCustomer"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","gender","formControlName","gender"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],[1,"pb-1","info"],["formControlName","nationality","id","forcitizenship","required","",3,"selectionChange"],["name","maritalStatus","formControlName","maritalStatus","required",""],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type",3,"keypress"],[1,"pb-1","info3"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["matInput","","formControlName","address1","placeholder","Address 1"],["name","addressType","formControlName","addressType"],["name","state","formControlName","state",3,"selectionChange"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country",3,"selectionChange"],["name","city","formControlName","city"],["maxlength","10","matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number",3,"keypress"],["style","margin-top:-20px",4,"ngIf"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["mat-button","","color","primary",3,"disabled","click"],[2,"color","#E74C3C"],[2,"margin-top","-20px"],[1,"mt-16"],[1,"mb-8","borderStyle",3,"expanded"],[1,"marginData"],[1,"textDesign"],[1,"design"],["formControlName","existingCustomer",3,"disabled","change"],["fxLayout","row","fxLayoutGap","2px","fxLayoutAlign","space-between"],["fxFlex","100","fxFlexAlign","center",1,"boxsize"],["matInput","","required","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"formControl","matAutocomplete","readonly","keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","err-msg",4,"ngIf"],["class","hintColor",4,"ngIf"],[1,"card-cust-auto-cif"],["auto","matAutocomplete"],["class","pb-1",4,"ngIf"],["class","pb-1",4,"ngIf","ngIfElse"],["show",""],[1,"pb-1","info1"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID","maxlength","12",3,"keypress"],["mat-button","","color","primary",3,"disabled",4,"ngIf","ngIfElse"],["openSave",""],["matSuffix","","color","primary"],[1,"err-msg"],[1,"hintColor"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],["fxFlex","80"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","90%","margin-bottom","50px",3,"src"],["formControlName","primaryCustomer",3,"ngModel","disabled","ngModelChange"],["mat-button","","color","primary",3,"disabled"],["mat-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Customer Information Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Xb(10,"div",2),m.Xb(11,"mat-card",8),m.Xb(12,"mat-card-title",9),m.Xb(13,"div",10),m.Tc(14,"Customer Information"),m.Wb(),m.Sb(15,"mat-divider"),m.Wb(),m.Xb(16,"mat-card-content"),m.Rc(17,bn,45,13,"form",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(17),m.rc("ngIf",t.cardCustomerForm))},directives:[v.e,v.b,h.a,h.h,O.a,h.d,o.n,d.C,d.s,d.j,v.f,x.c,x.g,ze.a,d.r,d.i,d.z,Ge.n,o.m,v.d,Ve.a,x.f,He.a,Ye.a,y.b,x.b,Ye.c,Ye.e,Ye.f,c.a,h.e,h.c,h.g,$e.a,y.a,o.s,d.k,C.b,d.c,Qe.e,Qe.g,x.j,Qe.d,x.i,d.m,d.x,d.n,Ke.a,v.a,s.c,d.h,s.a,Je.b],pipes:[o.w,o.v],styles:[".form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.currency-flag[_ngcontent-%COMP%]{display:inline-block;width:24px;height:16px;background-size:cover;background-image:url(https://wise.com/public-resources/assets/flags/rectangle_fallback.png)}.currency-flag-sm[_ngcontent-%COMP%]{width:16px;height:10px}.currency-flag-lg[_ngcontent-%COMP%]{width:36px;height:24px}.currency-flag-xl[_ngcontent-%COMP%]{width:48px;height:32px}  .card-cust-auto-cif.mat-autocomplete-panel{width:270px!important;padding:7px 0;border:1px solid #456efe!important;border-radius:5px!important;opacity:1!important}  .mat-card-avatar{max-width:15%!important}.example-header-image-dropdown[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;background-size:cover;background-color:#aed6f1;max-width:15%!important;width:25px;height:35px;border-radius:50%}.err-msg[_ngcontent-%COMP%]{color:var(--danger)}.currency-flag.currency-flag-aed[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aed.png)}.currency-flag.currency-flag-afn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/afn.png)}.currency-flag.currency-flag-all[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/all.png)}.currency-flag.currency-flag-amd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/amd.png)}.currency-flag.currency-flag-ang[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ang.png)}.currency-flag.currency-flag-aoa[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aoa.png)}.currency-flag.currency-flag-ars[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ars.png)}.currency-flag.currency-flag-aud[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aud.png)}.currency-flag.currency-flag-awg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/awg.png)}.currency-flag.currency-flag-azn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/azn.png)}.currency-flag.currency-flag-bam[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bam.png)}.currency-flag.currency-flag-bbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bbd.png)}.currency-flag.currency-flag-bdt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bdt.png)}.currency-flag.currency-flag-bgn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bgn.png)}.currency-flag.currency-flag-bhd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bhd.png)}.currency-flag.currency-flag-bif[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bif.png)}.currency-flag.currency-flag-bmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bmd.png)}.currency-flag.currency-flag-bnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bnd.png)}.currency-flag.currency-flag-bob[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bob.png)}.currency-flag.currency-flag-brl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/brl.png)}.currency-flag.currency-flag-bsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bsd.png)}.currency-flag.currency-flag-btn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/btn.png)}.currency-flag.currency-flag-bwp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bwp.png)}.currency-flag.currency-flag-byn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/byn.png)}.currency-flag.currency-flag-bzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bzd.png)}.currency-flag.currency-flag-cad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cad.png)}.currency-flag.currency-flag-cdf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cdf.png)}.currency-flag.currency-flag-chf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/chf.png)}.currency-flag.currency-flag-clp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/clp.png)}.currency-flag.currency-flag-cny[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cny.png)}.currency-flag.currency-flag-cop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cop.png)}.currency-flag.currency-flag-crc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/crc.png)}.currency-flag.currency-flag-cup[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cup.png)}.currency-flag.currency-flag-cve[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cve.png)}.currency-flag.currency-flag-czk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/czk.png)}.currency-flag.currency-flag-djf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/djf.png)}.currency-flag.currency-flag-dkk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dkk.png)}.currency-flag.currency-flag-dop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dop.png)}.currency-flag.currency-flag-dzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dzd.png)}.currency-flag.currency-flag-egp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/egp.png)}.currency-flag.currency-flag-ern[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ern.png)}.currency-flag.currency-flag-etb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/etb.png)}.currency-flag.currency-flag-eur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/eur.png)}.currency-flag.currency-flag-fjd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fjd.png)}.currency-flag.currency-flag-fkp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fkp.png)}.currency-flag.currency-flag-gbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gbp.png)}.currency-flag.currency-flag-gel[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gel.png)}.currency-flag.currency-flag-ghs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ghs.png)}.currency-flag.currency-flag-gip[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gip.png)}.currency-flag.currency-flag-gmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gmd.png)}.currency-flag.currency-flag-gnf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gnf.png)}.currency-flag.currency-flag-gtq[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gtq.png)}.currency-flag.currency-flag-gyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gyd.png)}.currency-flag.currency-flag-hkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hkd.png)}.currency-flag.currency-flag-hnl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hnl.png)}.currency-flag.currency-flag-hrk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hrk.png)}.currency-flag.currency-flag-htg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/htg.png)}.currency-flag.currency-flag-huf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/huf.png)}.currency-flag.currency-flag-idr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/idr.png)}.currency-flag.currency-flag-ils[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ils.png)}.currency-flag.currency-flag-inr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/inr.png)}.currency-flag.currency-flag-iqd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/iqd.png)}.currency-flag.currency-flag-irr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/irr.png)}.currency-flag.currency-flag-isk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/isk.png)}.currency-flag.currency-flag-jmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jmd.png)}.currency-flag.currency-flag-jod[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jod.png)}.currency-flag.currency-flag-jpy[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jpy.png)}.currency-flag.currency-flag-kes[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kes.png)}.currency-flag.currency-flag-kgs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kgs.png)}.currency-flag.currency-flag-khr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/khr.png)}.currency-flag.currency-flag-kmf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kmf.png)}.currency-flag.currency-flag-kpw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kpw.png)}.currency-flag.currency-flag-krw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/krw.png)}.currency-flag.currency-flag-kwd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kwd.png)}.currency-flag.currency-flag-kyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kyd.png)}.currency-flag.currency-flag-kzt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kzt.png)}.currency-flag.currency-flag-lak[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lak.png)}.currency-flag.currency-flag-lbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lbp.png)}.currency-flag.currency-flag-lkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lkr.png)}.currency-flag.currency-flag-lrd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lrd.png)}.currency-flag.currency-flag-ltl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ltl.png)}.currency-flag.currency-flag-lyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lyd.png)}.currency-flag.currency-flag-mad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mad.png)}.currency-flag.currency-flag-mdl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mdl.png)}.currency-flag.currency-flag-mga[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mga.png)}.currency-flag.currency-flag-mkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mkd.png)}.currency-flag.currency-flag-mmk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mmk.png)}.currency-flag.currency-flag-mnt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mnt.png)}.currency-flag.currency-flag-mop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mop.png)}.currency-flag.currency-flag-mro[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mro.png)}.currency-flag.currency-flag-mur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mur.png)}.currency-flag.currency-flag-mvr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mvr.png)}.currency-flag.currency-flag-mwk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mwk.png)}.currency-flag.currency-flag-mxn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mxn.png)}.currency-flag.currency-flag-myr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/myr.png)}.currency-flag.currency-flag-mzn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mzn.png)}.currency-flag.currency-flag-nad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nad.png)}.currency-flag.currency-flag-ngn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ngn.png)}.currency-flag.currency-flag-nio[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nio.png)}.currency-flag.currency-flag-nok[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nok.png)}.currency-flag.currency-flag-npr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/npr.png)}.currency-flag.currency-flag-nzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nzd.png)}.currency-flag.currency-flag-omr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/omr.png)}.currency-flag.currency-flag-pen[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pen.png)}.currency-flag.currency-flag-pgk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pgk.png)}.currency-flag.currency-flag-php[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/php.png)}.currency-flag.currency-flag-pkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pkr.png)}.currency-flag.currency-flag-pln[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pln.png)}.currency-flag.currency-flag-pyg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pyg.png)}.currency-flag.currency-flag-qar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/qar.png)}.currency-flag.currency-flag-ron[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ron.png)}.currency-flag.currency-flag-rsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rsd.png)}.currency-flag.currency-flag-rub[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rub.png)}.currency-flag.currency-flag-rwf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rwf.png)}.currency-flag.currency-flag-sar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sar.png)}.currency-flag.currency-flag-sbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sbd.png)}.currency-flag.currency-flag-scr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/scr.png)}.currency-flag.currency-flag-sek[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sek.png)}.currency-flag.currency-flag-sgd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sgd.png)}.currency-flag.currency-flag-shp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/shp.png)}.currency-flag.currency-flag-sll[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sll.png)}.currency-flag.currency-flag-sos[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sos.png)}.currency-flag.currency-flag-srd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/srd.png)}.currency-flag.currency-flag-std[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/std.png)}.currency-flag.currency-flag-svc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/svc.png)}.currency-flag.currency-flag-syp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/syp.png)}.currency-flag.currency-flag-szl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/szl.png)}.currency-flag.currency-flag-thb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/thb.png)}.currency-flag.currency-flag-tjs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tjs.png)}.currency-flag.currency-flag-tnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tnd.png)}.currency-flag.currency-flag-top[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/top.png)}.currency-flag.currency-flag-try[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/try.png)}.currency-flag.currency-flag-ttd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ttd.png)}.currency-flag.currency-flag-twd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/twd.png)}.currency-flag.currency-flag-tzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tzs.png)}.currency-flag.currency-flag-uah[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uah.png)}.currency-flag.currency-flag-ugx[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ugx.png)}.currency-flag.currency-flag-usd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/usd.png)}.currency-flag.currency-flag-uyu[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uyu.png)}.currency-flag.currency-flag-uzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uzs.png)}.currency-flag.currency-flag-vef[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vef.png)}.currency-flag.currency-flag-vnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vnd.png)}.currency-flag.currency-flag-vuv[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vuv.png)}.currency-flag.currency-flag-wst[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/wst.png)}.currency-flag.currency-flag-xaf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xaf.png)}.currency-flag.currency-flag-xcd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xcd.png)}.currency-flag.currency-flag-xof[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xof.png)}.currency-flag.currency-flag-xpf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xpf.png)}.currency-flag.currency-flag-yer[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/yer.png)}.currency-flag.currency-flag-zar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zar.png)}.currency-flag.currency-flag-zmw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zmw.png)}.graycolor[_ngcontent-%COMP%]{color:grey} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}.boxsize[_ngcontent-%COMP%]{margin-top:30px}.info[_ngcontent-%COMP%]{margin-bottom:4px}.info1[_ngcontent-%COMP%]{margin-top:6px}.birthfield[_ngcontent-%COMP%]{padding:.25px!important}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px!important;opacity:1!important}"]}),mn),gn=function e(){r(this,e)};function fn(e,t){if(1&e&&(m.Xb(0,"mat-option",27),m.Tc(1),m.Wb()),2&e){var r=t.$implicit,n=m.jc(2);m.rc("value",r)("hidden",n.isDocumentOptionDisabled2(r)),m.Eb(1),m.Vc(" ",r," ")}}function hn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"tr",10),m.Xb(1,"td",20),m.Xb(2,"mat-select",21),m.fc("valueChange",function(e){m.Hc(r);var n=t.index;return m.jc().changeValue2(e,n)}),m.Rc(3,fn,2,3,"mat-option",22),m.Wb(),m.Wb(),m.Xb(4,"td"),m.Xb(5,"div"),m.Xb(6,"input",23),m.fc("keyup",function(e){m.Hc(r);var n=t.index;return m.jc().OnInput1(e,!0,n)})("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(7,"td"),m.Xb(8,"div"),m.Xb(9,"input",24),m.fc("keyup",function(e){m.Hc(r);var n=t.index;return m.jc().OnInput(e,!0,n)})("keypress",function(e){return m.Hc(r),m.jc().keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"td",25),m.Xb(11,"div"),m.Xb(12,"button",26),m.fc("click",function(){m.Hc(r);var e=t.index;return m.jc().onclick1(e)}),m.Xb(13,"mat-icon"),m.Tc(14,"delete"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=t.$implicit,a=m.jc();m.rc("formGroup",n),m.Eb(3),m.rc("ngForOf",a.arraylimitType),m.Eb(3),m.rc("readonly",a.isDLReadOnly),m.Eb(3),m.rc("readonly",a.isLPTReadOnly)}}function yn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Xb(1,"small"),m.Tc(2,"Limit per transaction should be less "),m.Wb(),m.Sb(3,"br"),m.Xb(4,"small"),m.Tc(5,"than daily limit"),m.Wb(),m.Wb())}var vn,Cn=((vn=function(){function e(t,n,a,i,o,c){var s=this;r(this,e),this.fb=t,this.router=n,this.apiService=a,this.snack=i,this.ls=o,this.accountService=c,this.home=new gn,this.arraylimitType=[],this.selectedOptions2=[],this.cardDetails=[],this.isdailylimit=!1,this.isLimitTransaction=!1,this.isGreaterValue=!1,this.selectedDocumentTypes2=[],this.cardPrefrenceOnLoad=[],this.isRowEnds=!1,this.islimitType=!1,this.isDLReadOnly=!0,this.isLPTReadOnly=!0,this.isDocumentOptionDisabled2=function(e){return s.selectedOptions2.includes(e)}}return a(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.arraylimitType=["Domestic Limit","International Limit","Daily Limit","ATM limit","POS Limit","Internet Limit"],this.buildCardPrefrenceForm();var e=JSON.parse(this.ls.getItem("card_prefrence_done"));null!=this.cardId&&e?this.gettingCardPrefrenceDetail():console.log("")}},{key:"gettingCardPrefrenceDetail",value:function(){var e=this;this.apiService.getCardPrefrence(this.cardId).subscribe(function(t){console.log(t),e.cardPrefrenceOnLoad=t,t?(e.isdailylimit=!0,e.isLimitTransaction=!0,e.islimitType=!0):(e.isdailylimit=!1,e.isLimitTransaction=!1);for(var r=0;r<=e.cardPrefrenceOnLoad.length-1;r++)e.selectedOptions2.push(e.cardPrefrenceOnLoad[r].limitType);console.log("All Transaction Details",t),e.buildCardPrefrenceForm(t,!0)})}},{key:"buildCardPrefrenceForm",value:function(e,t){if(this.cardPrefrenceForm=this.fb.group({cardPrefrences:this.fb.array([this.addMFormGroup()])}),t){this.addMandateToFormGroup(e),console.log(e);for(var r=0;r<=e.length-1;r++)e[r].dailyLimit=this.addComa(e[r].dailyLimit),e[r].limitPerTransaction=this.addComa(e[r].limitPerTransaction);this.m.patchValue(e)}}},{key:"addMandateToFormGroup",value:function(e){for(var t=e.length,r=1;r<t;r++)this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}));this.isdailylimit=!0}},{key:"f",get:function(){return this.cardPrefrenceForm.controls}},{key:"m",get:function(){return this.f.cardPrefrences}},{key:"newcard",value:function(){}},{key:"addMFormGroup",value:function(){return this.fb.group({limitType:[""],dailyLimit:["",[d.A.maxLength(18),d.A.pattern("^[0-9]{10,12}$")]],limitPerTransaction:["",[d.A.maxLength(18),d.A.pattern("^[0-9]{10,12}$")]]})}},{key:"addMandate",value:function(){this.isdailylimit=!1,this.islimitType=!1,this.isLimitTransaction=!1,this.isLPTReadOnly=!0,this.isDLReadOnly=!0,console.log("this.selectedOptions2",this.selectedOptions2),this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}))}},{key:"addComa",value:function(e){console.log(e);var t=e.toString().replace(/,/g,"").split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault(),this.isdailylimit=!0,this.isLPTReadOnly=!1}},{key:"keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault(),this.isLimitTransaction=!0}},{key:"OnInput",value:function(e,t,r){this.limiPrTrn=e.target.value;var n=this.removeComma(this.cardPrefrenceForm.value.cardPrefrences[r].dailyLimit),a=this.removeComma(this.limiPrTrn);this.isLimitTransaction=!!this.limiPrTrn,this.isGreaterValue=Number(a)>Number(n)||(Number(a),Number(n),!1);var i={limitPerTransaction:this.addComa(this.limiPrTrn)};this.m.controls[r].patchValue(i)}},{key:"OnInput1",value:function(e,t,r){this.limitDaily=e.target.value,this.isdailylimit=!!this.limitDaily;var n={dailyLimit:this.addComa(this.limitDaily)};this.m.controls[r].patchValue(n)}},{key:"onclick1",value:function(e){var t=this;this.islimitType=!0,this.isLimitTransaction=!0,this.isdailylimit=!0,this.isRowEnds=!1,this.isLPTReadOnly=!1,this.isDLReadOnly=!1,this.cardPrefrenceForm.controls.cardPrefrences.removeAt(e),null==this.cardPrefrenceOnLoad?console.log("deleted"):null!=this.cardPrefrenceOnLoad[e]&&this.apiService.deleteCardPrefrence(this.cardPrefrenceOnLoad[e].preferenceId).subscribe(function(e){},function(e){200==e.status&&t.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.selectedOptions2.splice(e,1),console.log("console.log(this.selectedOptions2);",this.selectedOptions2),this.isdailylimit=!0}},{key:"onSubmit",value:function(){var e,t=this,r=[];if(this.cardPrefrenceForm.value.cardPrefrences.cardId=this.cardId,this.cardPrefrenceOnLoad)for(var n=this.cardPrefrenceOnLoad.length;n<=this.cardPrefrenceForm.value.cardPrefrences.length-1;n++){e=this.cardPrefrenceForm.value.cardPrefrences[n];var a=Object.assign({},e,{cardId:this.cardId});a.dailyLimit=parseInt(this.removeComma(a.dailyLimit)),a.limitPerTransaction=parseInt(this.removeComma(a.limitPerTransaction)),r.push(a)}else for(var i=0;i<this.cardPrefrenceForm.value.cardPrefrences.length;i++){e=this.cardPrefrenceForm.value.cardPrefrences[i];var o=Object.assign({},e,{cardId:this.cardId});o.dailyLimit=parseInt(this.removeComma(o.dailyLimit)),o.limitPerTransaction=parseInt(this.removeComma(o.limitPerTransaction)),r.push(o)}this.apiService.uploadCardPrefrence(r).subscribe(function(e){console.log("data",e),null!=e&&(t.snack.open("Card Preferences Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.next())})}},{key:"removeComma",value:function(e){var t=e.replace(/,/g,"");return console.log("numb",t),t}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEntryStage/list/financialDetails"])}},{key:"next",value:function(){this.ls.setItem("card_prefrence_done",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/accountServices"])}},{key:"changeValue2",value:function(e,t){var r=this;this.islimitType=!0,this.selectedDocumentTypes2[t]&&(this.selectedOptions2=this.selectedOptions2.filter(function(e){return e!==r.selectedDocumentTypes2[t]})),this.selectedDocumentTypes2[t]=e,this.selectedOptions2.push(e),this.selectedDocumentTypes2.length==this.arraylimitType.length?(this.isRowEnds=!0,console.log("isRowends",this.isRowEnds)):(this.isRowEnds=!1,console.log("isRowends",this.isRowEnds)),this.isDLReadOnly=!1}}]),e}()).\u0275fac=function(e){return new(e||vn)(m.Rb(d.f),m.Rb(f.h),m.Rb(b.b),m.Rb(p.a),m.Rb(u.a),m.Rb(_.a))},vn.\u0275cmp=m.Lb({type:vn,selectors:[["app-card-prefrences"]],decls:39,vars:5,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask_Group_1.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],[1,"table-container"],[1,"table"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","335px"],["mat-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["mat-raised-button","","type","button","color","primary",1,"Nextbtn",3,"disabled","click"],[2,"width","5cm"],["formControlName","limitType","placeholder","Select Type","name","limitType",1,"inputMatcard1",3,"valueChange"],[3,"value","hidden",4,"ngFor","ngForOf"],["type","text","maxlength","18","formControlName","dailyLimit",1,"alignment",3,"readonly","keyup","keypress"],["type","text","maxlength","18","formControlName","limitPerTransaction",1,"alignment",3,"readonly","keyup","keypress"],[1,"deletebutton"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],[3,"value","hidden"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Card Preferences"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",1),m.Xb(10,"div",2),m.Xb(11,"mat-card",7),m.Xb(12,"mat-card-title",8),m.Xb(13,"div",9),m.Tc(14,"Card Preferences"),m.Wb(),m.Sb(15,"mat-divider"),m.Wb(),m.Xb(16,"form",10),m.Xb(17,"div",11),m.Xb(18,"table",12),m.Xb(19,"thead"),m.Xb(20,"tr"),m.Xb(21,"th"),m.Tc(22,"Limit Type "),m.Wb(),m.Xb(23,"th"),m.Tc(24,"Daily Limit"),m.Wb(),m.Xb(25,"th"),m.Tc(26,"Limit per transaction"),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"tbody"),m.Rc(28,hn,15,4,"tr",13),m.Wb(),m.Wb(),m.Xb(29,"div",14),m.Xb(30,"button",15),m.fc("click",function(){return t.addMandate()}),m.Xb(31,"mat-icon"),m.Tc(32,"add"),m.Wb(),m.Wb(),m.Rc(33,yn,6,0,"mat-error",16),m.Wb(),m.Xb(34,"div",17),m.Xb(35,"button",18),m.fc("click",function(){return t.goBack()}),m.Tc(36," Back\n"),m.Wb(),m.Xb(37,"button",19),m.fc("click",function(){return t.onSubmit()}),m.Tc(38,"Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(16),m.rc("formGroup",t.cardPrefrenceForm),m.Eb(12),m.rc("ngForOf",t.m.controls),m.Eb(2),m.rc("disabled",!(t.isdailylimit&&t.isLimitTransaction&&t.islimitType&&!t.isRowEnds)||t.isGreaterValue),m.Eb(3),m.rc("ngIf",t.isGreaterValue),m.Eb(4),m.rc("disabled",!(t.isdailylimit&&t.isLimitTransaction&&t.islimitType)||t.isGreaterValue||0==t.m.controls.length))},directives:[v.e,v.b,h.a,h.h,O.a,d.C,d.s,d.j,o.m,v.f,y.b,c.a,o.n,v.d,ze.a,d.r,d.i,d.c,d.m,Ge.n,x.b],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.table-container[_ngcontent-%COMP%]{padding:0 10%;margin:20px auto 0}.table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:.2cm;background-color:#007bff}.alignment[_ngcontent-%COMP%]{border-style:none;outline:none;box-shadow:0 0 0;padding-top:11px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:medium;color:#fff;opacity:1;padding:12px;vertical-align:top}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;border:1px solid rgba(2,2,3,.48627450980392156)}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;color:#f1f1f1;padding:8px;text-align:center}.deletebutton[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-option-text[_ngcontent-%COMP%]{display:inline-block;flex-grow:1;margin-left:10px!important;overflow:hidden;text-overflow:ellipsis}.mat-select-panel[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%], .mat-select-panel[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{font-size:inherit;line-height:3em;margin-left:10px;height:3em}.egret-blue[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);margin-left:10px}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 10px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 0 0 rgba(0,0,0,.1607843137254902);box-sizing:border-box;padding:10px;width:100%}"]}),vn);function xn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",37),m.Xb(1,"div",38),m.Xb(2,"label",14),m.Tc(3,"KYC ID"),m.Wb(),m.Tc(4,"\xa0 "),m.Xb(5,"label",39),m.Tc(6),m.Wb(),m.Xb(7,"label",14),m.Tc(8,"KYC Status"),m.Wb(),m.Tc(9,"\xa0 "),m.Xb(10,"label",39),m.Tc(11),m.Wb(),m.Wb(),m.Xb(12,"div"),m.Tc(13," \xa0\xa0\xa0"),m.Xb(14,"button",40),m.fc("click",function(){return m.Hc(r),m.jc().goToKyc()}),m.Tc(15,"Go For KYC"),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.jc();m.Eb(6),m.Uc(n.kycRefrence),m.Eb(5),m.Uc(n.kycStatus),m.Eb(3),m.rc("disabled",n.isGoForKyc||n.isExistingCustomer)}}function Wn(e,t){1&e&&(m.Xb(0,"mat-option",41),m.Tc(1,"Debit"),m.Wb())}function Xn(e,t){1&e&&(m.Xb(0,"mat-option",42),m.Tc(1,"Forex"),m.Wb())}function In(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0Card Type is Required! "),m.Wb())}function kn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0 CIF Number Is Required "),m.Wb())}function Sn(e,t){if(1&e&&(m.Xb(0,"div",53),m.Xb(1,"h3",54),m.Tc(2),m.kc(3,"uppercase"),m.kc(4,"slice"),m.kc(5,"uppercase"),m.kc(6,"slice"),m.Wb(),m.Wb()),2&e){var r=m.jc().$implicit;m.Eb(2),m.Wc(" ",m.lc(3,2,m.nc(4,4,null==r?null:r.firstName,0,1)),"",m.lc(5,8,m.nc(6,10,null==r?null:r.lastName,0,1))," ")}}function On(e,t){if(1&e&&(m.Xb(0,"div",55),m.Sb(1,"img",56),m.Wb()),2&e){var r=m.jc().$implicit;m.Eb(1),m.rc("src",null==r?null:r.profileImage,m.Jc)}}function Dn(e,t){if(1&e&&(m.Xb(0,"mat-option",45),m.Xb(1,"div",46),m.Xb(2,"div",47),m.Rc(3,Sn,7,14,"div",48),m.Rc(4,On,2,1,"div",49),m.Xb(5,"div",50),m.Xb(6,"h5",51),m.Tc(7),m.kc(8,"uppercase"),m.kc(9,"uppercase"),m.kc(10,"uppercase"),m.Wb(),m.Xb(11,"h6",52),m.Tc(12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r.customerId),m.Eb(3),m.rc("ngIf","not_available"==(null==r?null:r.profileImage)),m.Eb(1),m.rc("ngIf","not_available"!=(null==r?null:r.profileImage)),m.Eb(3),m.Xc(" ",m.lc(8,7,null==r?null:r.firstName)," ",m.lc(9,9,null==r?null:r.middleName)," ",m.lc(10,11,null==r?null:r.lastName)," "),m.Eb(5),m.Vc("#",null==r?null:r.cifNumber,"")}}function Tn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",13),m.Xb(1,"div"),m.Xb(2,"mat-form-field",19),m.Xb(3,"mat-label",14),m.Tc(4,"CIF Number*"),m.Wb(),m.Xb(5,"input",43),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("change",function(){m.Hc(r);var e=m.jc();return e.fetchByCif(e.cardInitiationForm.get("cifNumber").value)})("keyup",function(e){return m.Hc(r),m.jc().onKeyPress(e)}),m.Wb(),m.Rc(6,kn,2,0,"mat-error",24),m.Wb(),m.Wb(),m.Xb(7,"div"),m.Xb(8,"mat-autocomplete",null,44),m.Rc(10,Dn,13,13,"mat-option",32),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.Dc(9),a=m.jc();m.Eb(5),m.rc("formControl",a.cifNumberForm)("matAutocomplete",n),m.Eb(1),m.rc("ngIf",!a.cardInitiationForm.get("cifNumber").valid&&a.cardInitiationForm.get("cifNumber").touched),m.Eb(4),m.rc("ngForOf",a.listOfCustByCif)}}function An(e,t){if(1&e&&(m.Xb(0,"mat-option",45),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Uc(r)}}function En(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0Currency is Required! "),m.Wb())}function _n(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",13),m.Xb(1,"mat-form-field",19),m.Xb(2,"mat-label",14),m.Tc(3,"Currency *"),m.Wb(),m.Xb(4,"mat-select",57),m.fc("ngModelChange",function(e){return m.Hc(r),m.jc().selectedCurrency=e}),m.Xb(5,"mat-option",58),m.Tc(6,"Select"),m.Wb(),m.Rc(7,An,2,2,"mat-option",32),m.Wb(),m.Rc(8,En,2,0,"mat-error",24),m.Wb(),m.Wb()}if(2&e){var n=m.jc();m.Eb(4),m.rc("ngModel",n.selectedCurrency),m.Eb(3),m.rc("ngForOf",n.localCurrencyArr),m.Eb(1),m.rc("ngIf",!n.cardInitiationForm.get("currency").valid&&n.cardInitiationForm.get("currency").touched)}}function wn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0currency is Required! "),m.Wb())}function Pn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",13),m.Xb(1,"mat-form-field",19),m.Xb(2,"mat-label",14),m.Tc(3,"Currency"),m.Wb(),m.Xb(4,"input",59),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)}),m.Wb(),m.Rc(5,wn,2,0,"mat-error",24),m.Wb(),m.Wb()}if(2&e){var n=m.jc();m.Eb(5),m.rc("ngIf",!n.cardInitiationForm.get("currency").valid&&n.cardInitiationForm.get("currency").touched)}}function Nn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0Affinity Program is Required! "),m.Wb())}function Rn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0Name on Card is Required! "),m.Wb())}function Fn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",13),m.Xb(1,"mat-form-field",19),m.Xb(2,"mat-label",14),m.Tc(3,"Name On Card *"),m.Wb(),m.Xb(4,"input",60),m.fc("keypress",function(e){return m.Hc(r),m.jc().letterOnly(e)}),m.Wb(),m.Rc(5,Rn,2,0,"mat-error",24),m.Wb(),m.Wb()}if(2&e){var n=m.jc();m.Eb(5),m.rc("ngIf",!n.cardInitiationForm.get("nameOnCard").valid&&n.cardInitiationForm.get("nameOnCard").touched)}}function Mn(e,t){if(1&e&&(m.Xb(0,"mat-option",45),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Uc(r)}}function Ln(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0Customer Account is Required! "),m.Wb())}function Vn(e,t){if(1&e&&(m.Xb(0,"div",13),m.Xb(1,"mat-form-field",19),m.Xb(2,"mat-label",14),m.Tc(3,"Customer Account Number *"),m.Wb(),m.Xb(4,"mat-select",61),m.Rc(5,Mn,2,2,"mat-option",32),m.Wb(),m.Rc(6,Ln,2,0,"mat-error",24),m.Wb(),m.Wb()),2&e){var r=m.jc();m.Eb(5),m.rc("ngForOf",r.accountNoArr),m.Eb(1),m.rc("ngIf",!r.cardInitiationForm.get("customerAccount").valid&&r.cardInitiationForm.get("customerAccount").touched)}}function Bn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0Customer Account is Required! "),m.Wb())}function jn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",13),m.Xb(1,"mat-form-field",19),m.Xb(2,"mat-label",14),m.Tc(3,"Customer Account Number"),m.Wb(),m.Xb(4,"input",62),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)}),m.Wb(),m.Rc(5,Bn,2,0,"mat-error",24),m.Wb(),m.Wb()}if(2&e){var n=m.jc();m.Eb(5),m.rc("ngIf",!n.cardInitiationForm.get("customerAccount").valid&&n.cardInitiationForm.get("customerAccount").touched)}}function qn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"input",63),m.fc("keypress",function(e){return m.Hc(r),m.jc().letterOnly(e)}),m.Wb()}}function Un(e,t){if(1&e){var r=m.Yb();m.Xb(0,"input",64),m.fc("keypress",function(e){return m.Hc(r),m.jc().letterOnly(e)}),m.Wb()}}function zn(e,t){if(1&e&&(m.Xb(0,"mat-option",45),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc("",r," ")}}function Gn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0\xa0Employment Type is Required! "),m.Wb())}function Hn(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",13),m.Xb(1,"mat-form-field",19),m.Xb(2,"mat-label",14),m.Tc(3,"Name On Card"),m.Wb(),m.Xb(4,"input",65),m.fc("keypress",function(e){return m.Hc(r),m.jc().letterOnly(e)}),m.Wb(),m.Wb(),m.Wb()}}var Yn,$n=((Yn=function(){function e(t,n,a,i,o,c,s,l){r(this,e),this.ls=t,this.router=n,this.accountService=a,this.formBuilder=i,this.apiService=o,this.appApiService=c,this.snack=s,this.cdr=l,this.cifNumberForm=new d.g,this.listOfCustByCif=[],this.showEditOption=!1,this.isCardInitiationDone=!1,this.arrayofEmployment=[],this.isCifValid=!1,this.onbackSpace=!1,this.isExistingCustomer=!0,this.localCurrencyArr=["CNY","GBP","INR","USD","ZAR","GBP"],this.selectedCurrency=this.localCurrencyArr[-1],this.iskycStatus=!1,this.isGoForKyc=!1,this.isKycForCardDone=!1,this.accountNoArr=[]}return a(e,[{key:"ngOnInit",value:function(){var e=this;if(console.log(this.ls.getItem("cardCustomer")),this.cardId=this.ls.getItem("cardId"),this.applicant=this.ls.getItem("NAME"),this.getEmploymentType("employment_type"),console.log("this.cardId",this.cardId),this.buildInitiationForm(),JSON.parse(this.ls.getItem("CARD_INITIATION_DONE")),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),null!=this.cardId&&this.isCardInitiationDone&&(this.iskycStatus=!0,this.showEditOption=!0,this.cifNumberPrimary=this.ls.getItem("Card_CIF_NUM_PRIMARY"),this.getCardInitiation()),this.isKycForCardDone=this.ls.getItem("kycForCard"),1==this.isKycForCardDone){if(this.cardInitiationForm.get("existingCustomer").patchValue(!1),this.kycRefrence=this.ls.getItem("kycReference"),this.kycRefrence){var t=this.kycRefrence.slice(4);console.log(t),this.apiService.getPrimaryInfo(t).subscribe(function(t){e.kycStatus=t.customerInfoList[0].customerAdditionalInfo.kycStatus,e.ls.setItem("KycStatus",e.kycStatus)})}this.iskycStatus=!0,this.isGoForKyc=!0,this.cardInitiationForm.get("cardType").patchValue(this.ls.getItem("cardType")),console.log(this.ls.getItem("cardCustomer")),this.cardInitiationForm.controls.applicantName.setValue(this.ls.getItem("cardCustomer"))}}},{key:"onKeyPress",value:function(e){var t=this;8===e.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1;var r=String.fromCharCode(e.charCode);/[0-9]/.test(r)||e.preventDefault(),console.log(e.target.value,!e.target.value),clearTimeout(this.timer),e.target.value?this.timer=setTimeout(function(){t.appApiService.fetchByCif(e.target.value).subscribe(function(e){console.log(e),e&&(t.listOfCustByCif=e.customerInfoList)})},1e3):(this.isCifValid=!1,this.cardInitiationForm.get("cifNumber").clearValidators(),this.cardInitiationForm.get("cifNumber").updateValueAndValidity(),this.cardInitiationForm.get("existingCustomer").patchValue(!0),this.cardInitiationForm.reset(),this.listOfCustByCif=[])}},{key:"goToggle",value:function(e){console.log("event",e.checked),this.isExistingCustomer=1==e.checked}},{key:"addOnCard",value:function(e){console.log("event",e.checked),this.ls.setItem("ADD_ON_CARD",1==e.checked)}},{key:"getEmploymentType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayofEmployment=e,console.log(t.arrayofEmployment)})}},{key:"getAccountData",value:function(e){var t=this;this.apiService.getProfileDetails(e).subscribe(function(e){var r,n,a,i;console.log(e),console.log(null===(n=null===(r=null==e?void 0:e.signatures)||void 0===r?void 0:r[0])||void 0===n?void 0:n.accountId),t.accountID=null===(i=null===(a=null==e?void 0:e.signatures)||void 0===a?void 0:a[0])||void 0===i?void 0:i.accountId,t.cardInitiationForm.controls.currency.setValue(null==e?void 0:e.accountCurrency)},function(e){})}},{key:"onSubmit",value:function(){var e=this;console.log("data",this.cardInitiationForm.value),localStorage.setItem("Currency Type",this.cardInitiationForm.value.currency),this.apiService.uploadCardInitiation({existingCustomer:this.cardInitiationForm.value.existingCustomer,cardType:this.cardInitiationForm.value.cardType,customerAccount:this.cardInitiationForm.value.customerAccount,applicantName:this.cardInitiationForm.value.applicantName,currency:this.cardInitiationForm.value.currency,employmentType:this.cardInitiationForm.value.employmentType,affinityProgram:this.cardInitiationForm.value.affinityProgram,nameOnCard:this.cardInitiationForm.value.nameOnCard,status:null,kycStatus:this.kycStatus,kycReference:this.kycRefrence,customerId:this.cardInitiationForm.value.cifNumber,cardId:this.showEditOption?this.cardId:null}).subscribe(function(t){e.ls.setItem("cardId",t.cardId),e.apiService.updateCardStatus({cardId:t.cardId,status:"ONGOING"}).subscribe(function(e){}),console.log("data",t),e.next()})}},{key:"next",value:function(){this.ls.setItem("CARD_INITIATION_DONE",!0),this.ls.setItem("Card_Applicant_name",this.cardInitiationForm.value.applicantName),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/customerInformation"])}},{key:"getCardInitiation",value:function(){var e=this;this.apiService.getCardInitiationDetails(this.cardId).subscribe(function(t){e.kycStatus=t.kycStatus,e.kycRefrence=t.kycReference,e.buildInitiationForm(t),e.apiService.fetchAccountIdByCustId(e.cifNumberPrimary).subscribe(function(t){var r;e.accountNoArr=t,e.cardInitiationForm.controls.customerAccount.setValue(null===(r=e.accountNoArr)||void 0===r?void 0:r[0])}),console.log("data",t),e.isExistingCustomer=1==t.existingCustomer})}},{key:"buildInitiationForm",value:function(e){var t=localStorage.getItem("ADD_ON_CARD");this.cardInitiationForm=this.formBuilder.group({cifNumber:[e?this.cifNumberPrimary:"",[d.A.required]],existingCustomer:[!e||e.existingCustomer],cardType:[e?e.cardType:"",[d.A.required]],customerAccount:[e?e.customerAccount:"",[d.A.required]],applicantName:[e?e.applicantName:""],currency:[e?e.currency:"",[d.A.required]],employmentType:[e?e.employmentType:"",[d.A.required]],affinityProgram:[e?e.affinityProgram:"",[d.A.required]],nameOnCard:[e?e.nameOnCard:"",[d.A.required]],addOnCard:["true"==t]}),this.formControlValueChanged()}},{key:"formControlValueChanged",value:function(){var e=this,t=this.cardInitiationForm.get("cifNumber");this.cardInitiationForm.get("existingCustomer").valueChanges.subscribe(function(r){console.log(r),0==r?(e.cardInitiationForm.get("customerAccount").setValidators([d.A.nullValidator]),t.setValidators([d.A.nullValidator])):(e.cardInitiationForm.get("customerAccount").setValidators([d.A.required]),t.setValidators([d.A.required])),t.updateValueAndValidity()})}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEntryStage/list"])}},{key:"keyUpevent",value:function(e){8===e.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"letterOnly",value:function(e){console.log(!this.isGoForKyc),console.log(!this.cardInitiationForm.valid),console.log(!this.cardInitiationForm.valid||!this.isGoForKyc),console.log(this.cardInitiationForm);var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"fetchByCif",value:function(e){var t=this;e&&(this.showSpinn=!0,this.appApiService.fetchByCif(e).subscribe(function(r){if(t.kycStatus=r.customerInfoList[0].customerAdditionalInfo.kycStatus,t.kycRefrence=r.customerInfoList[0].customerAdditionalInfo.kycReference,t.cardInitiationForm.controls.cifNumber.setValue(e),t.cardInitiationForm.controls.applicantName.setValue(r.customerInfoList[0].firstName+" "+r.customerInfoList[0].lastName),t.cardInitiationForm.controls.customerAccount.setValue(t.accountID),t.showSpinn=!1,!r)return t.isCifValid=!1,void t.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});var n;"APPROVED"!=r.customerInfoList[0].custStatus&&(t.isCifValid=!1),"APPROVED"==r.customerInfoList[0].custStatus&&(t.isCifValid=!0),n=r.customerInfoList[0].userAddress.length>1?r.customerInfoList[0].userAddress.find(function(e){return"Permanent"==e.addressType||"permanent"==e.addressType}):r.customerInfoList[0].userAddress[0];var a={prefix:r.customerInfoList[0].prefix,customerId:r.customerInfoList[0].customerId,firstName:r.customerInfoList[0].firstName,middleName:r.customerInfoList[0].middleName,lastName:r.customerInfoList[0].lastName,gender:r.customerInfoList[0].gender,dateOfBirth:t.convertDate(r.customerInfoList[0].dateOfBirth),placeOfBirth:r.customerInfoList[0].placeOfBirth,residenceStatus:r.customerInfoList[0].residenceStatus,nationality:r.customerInfoList[0].nationality,countryOfResidence:r.customerInfoList[0].countryOfResidence,occupationType:r.customerInfoList[0].occupationType,custIdProofs:r.customerInfoList[0].custIdProofs,idType:r.customerInfoList[0].custIdProofs.length>0?r.customerInfoList[0].custIdProofs[0].idType:"",idNumber:r.customerInfoList[0].custIdProofs.length>0?r.customerInfoList[0].custIdProofs[0].idNumber:"",expiryDate:r.customerInfoList[0].custIdProofs.length>0?t.convertDate(r.customerInfoList[0].custIdProofs[0].expiryDate):"",addressType:n.addressType,address1:n.address1,address2:n.address2,city:n.city,country:n.country,state:n.state,zipCode:n.zipCode,phoneNumber:r.customerInfoList[0].phoneNumber,landlineNumber:r.customerInfoList[0].landlineNumber,primaryEmailAdress:r.customerInfoList[0].primaryEmailAdress};null!=t.cardInitiationForm.value.swiftCode&&null!=t.cardInitiationForm.value.swiftCodeEnable||(console.log(t.cardInitiationForm.value.swiftCode),t.flag=!1),t.cifNumberPrimary=e,t.ls.setItem("Card_CIF_NUM_PRIMARY",t.cifNumberPrimary),t.apiService.sendCIF(a),t.apiService.fetchAccountIdByCustId(e).subscribe(function(e){var r;t.accountNoArr=e,t.cardInitiationForm.controls.customerAccount.setValue(null===(r=t.accountNoArr)||void 0===r?void 0:r[0]),console.log(e)}),t.cdr.markForCheck()}),this.getAccountData(e))}},{key:"changeEvent",value:function(e){console.log(e.value),this.cardType=e.value,"Credit"==e.value?(this.iskycStatus=!0,this.isGoForKyc="APPROVED"==this.kycStatus):(this.isGoForKyc=!0,this.iskycStatus=!1)}},{key:"convertDate",value:function(e){var t=qe(e).format("YYYY-MMM-DD");if(t)return t}},{key:"goToKyc",value:function(){this.ls.setItem("cardType",this.cardType),this.ls.setItem("accountType","cardOrigination"),this.router.navigate(["/others/kyc"])}}]),e}()).\u0275fac=function(e){return new(e||Yn)(m.Rb(u.a),m.Rb(f.h),m.Rb(_.a),m.Rb(d.f),m.Rb(b.b),m.Rb(je.a),m.Rb(p.a),m.Rb(m.h))},Yn.\u0275cmp=m.Lb({type:Yn,selectors:[["app-card-initiation"]],decls:79,vars:18,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_opinion_dxp8.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],["fxLayout","column",3,"formGroup"],["fxFlex","100%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"pb-1"],[1,"hint"],["name","scholarshipOrBusinessEligible","formControlName","existingCustomer",2,"margin-left","1cm",3,"change"],["class","flex-grow-1","fxFlex","100%","fxLayout","column",4,"ngIf"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["appearance","outline",1,"full-width"],["formControlName","cardType","placeholder","Select",3,"selectionChange"],["value","Debit",4,"ngIf"],["value","Credit"],["value","Forex",4,"ngIf"],[4,"ngIf"],["class","pb-1",4,"ngIf"],["formControlName","affinityProgram","placeholder","Select"],["value","Affinity Program1"],["value","Affinity Program2"],["matInput","","class","alignment","type","text","formControlName","applicantName","placeholder","Applicant Name",3,"keypress",4,"ngIf"],["matInput","","class","alignment","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",3,"keypress",4,"ngIf"],["formControlName","employmentType","placeholder","Select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","addOnCard",2,"margin-left","1cm",3,"change"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],["fxFlex","100%","fxLayout","column",1,"flex-grow-1"],["fxFlex","100%"],[2,"color","#03a9f4"],["mat-button","",2,"text-decoration","underline",3,"disabled","click"],["value","Debit"],["value","Forex"],["matInput","","type","text","formControlName","cifNumber","placeholder","CIF Number",1,"alignment",3,"formControl","matAutocomplete","keypress","change","keyup"],["auto","matAutocomplete"],[3,"value"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],["fxFlex","80"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","100%","margin-bottom","50px",3,"src"],["formControlName","currency","placeholder","Select",3,"ngModel","ngModelChange"],["value",""],["matInput","","type","text","autocomplete","off","formControlName","currency","placeholder","currency","name","currency",1,"alignment",3,"keypress"],["matInput","","type","text","formControlName","nameOnCard","placeholder","Name On Card","name","nameOnCard","required","",1,"alignment",3,"keypress"],["formControlName","customerAccount"],["matInput","","type","text","autocomplete","off","formControlName","customerAccount","placeholder","Customer Account Number","name","customerAccount",1,"alignment",3,"keypress"],["matInput","","type","text","formControlName","applicantName","placeholder","Applicant Name",1,"alignment",3,"keypress"],["matInput","","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",1,"alignment",3,"keypress"],["matInput","","type","text","formControlName","nameOnCard","placeholder","Name On Card",1,"alignment",3,"keypress"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Card Initiation"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",1),m.Xb(10,"div",2),m.Xb(11,"mat-card",7),m.Xb(12,"mat-card-title",8),m.Xb(13,"div",9),m.Tc(14,"Card Initiation"),m.Wb(),m.Sb(15,"mat-divider"),m.Wb(),m.Xb(16,"mat-card-content"),m.Xb(17,"form",10),m.Xb(18,"div",11),m.Xb(19,"div",12),m.Xb(20,"div",13),m.Xb(21,"label",14),m.Tc(22,"Existing Customer *"),m.Wb(),m.Xb(23,"mat-slide-toggle",15),m.fc("change",function(e){return t.goToggle(e)}),m.Wb(),m.Wb(),m.Rc(24,xn,16,3,"div",16),m.Wb(),m.Wb(),m.Xb(25,"div",17),m.Xb(26,"div",18),m.Xb(27,"div",13),m.Xb(28,"mat-form-field",19),m.Xb(29,"mat-label",14),m.Tc(30,"Card Type *"),m.Wb(),m.Xb(31,"mat-select",20),m.fc("selectionChange",function(e){return t.changeEvent(e)}),m.Rc(32,Wn,2,0,"mat-option",21),m.Xb(33,"mat-option",22),m.Tc(34,"Credit"),m.Wb(),m.Rc(35,Xn,2,0,"mat-option",23),m.Wb(),m.Rc(36,In,2,0,"mat-error",24),m.Wb(),m.Wb(),m.Rc(37,Tn,11,4,"div",25),m.Rc(38,_n,9,3,"div",25),m.Rc(39,Pn,6,1,"div",25),m.Xb(40,"div",13),m.Xb(41,"mat-form-field",19),m.Xb(42,"mat-label",14),m.Tc(43,"Affinity Program *"),m.Wb(),m.Xb(44,"mat-select",26),m.Xb(45,"mat-option",27),m.Tc(46,"Affinity Program1"),m.Wb(),m.Xb(47,"mat-option",28),m.Tc(48,"Affinity Program2"),m.Wb(),m.Wb(),m.Rc(49,Nn,2,0,"mat-error",24),m.Wb(),m.Wb(),m.Rc(50,Fn,6,1,"div",25),m.Wb(),m.Xb(51,"div",18),m.Rc(52,Vn,7,2,"div",25),m.Rc(53,jn,6,1,"div",25),m.Xb(54,"div",13),m.Xb(55,"mat-form-field",19),m.Xb(56,"mat-label",14),m.Tc(57,"Applicant Name *"),m.Wb(),m.Rc(58,qn,1,0,"input",29),m.Rc(59,Un,1,0,"input",30),m.Wb(),m.Wb(),m.Xb(60,"div",13),m.Xb(61,"mat-form-field",19),m.Xb(62,"mat-label",14),m.Tc(63,"Employment Type *"),m.Wb(),m.Xb(64,"mat-select",31),m.Rc(65,zn,2,2,"mat-option",32),m.Wb(),m.Rc(66,Gn,2,0,"mat-error",24),m.Wb(),m.Wb(),m.Rc(67,Hn,5,0,"div",25),m.Wb(),m.Wb(),m.Xb(68,"div",11),m.Xb(69,"div",12),m.Xb(70,"div",13),m.Xb(71,"label",14),m.Tc(72,"Addon Card"),m.Wb(),m.Xb(73,"mat-slide-toggle",33),m.fc("change",function(e){return t.addOnCard(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(74,"div",34),m.Xb(75,"button",35),m.fc("click",function(){return t.goBack()}),m.Tc(76," Back "),m.Wb(),m.Xb(77,"button",36),m.fc("click",function(){return t.onSubmit()}),m.Tc(78," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(17),m.rc("formGroup",t.cardInitiationForm),m.Eb(7),m.rc("ngIf",t.iskycStatus),m.Eb(8),m.rc("ngIf",t.isExistingCustomer),m.Eb(3),m.rc("ngIf",t.isExistingCustomer),m.Eb(1),m.rc("ngIf",!t.cardInitiationForm.get("cardType").valid&&t.cardInitiationForm.get("cardType").touched),m.Eb(1),m.rc("ngIf",t.isExistingCustomer),m.Eb(1),m.rc("ngIf",!t.isExistingCustomer),m.Eb(1),m.rc("ngIf",t.isExistingCustomer),m.Eb(10),m.rc("ngIf",!t.cardInitiationForm.get("affinityProgram").valid&&t.cardInitiationForm.get("affinityProgram").touched),m.Eb(1),m.rc("ngIf",!t.isExistingCustomer),m.Eb(2),m.rc("ngIf",t.isExistingCustomer),m.Eb(1),m.rc("ngIf",!t.isExistingCustomer),m.Eb(5),m.rc("ngIf",!t.isExistingCustomer),m.Eb(1),m.rc("ngIf",t.isExistingCustomer),m.Eb(6),m.rc("ngForOf",t.arrayofEmployment),m.Eb(1),m.rc("ngIf",!t.cardInitiationForm.get("employmentType").valid&&t.cardInitiationForm.get("employmentType").touched),m.Eb(1),m.rc("ngIf",t.isExistingCustomer),m.Eb(10),m.rc("disabled",t.isExistingCustomer||"Credit"!==t.cardInitiationForm.value.cardType?!t.cardInitiationForm.valid:!t.cardInitiationForm.valid||!t.isGoForKyc))},directives:[v.e,v.b,h.a,h.h,O.a,h.d,d.C,d.s,d.j,v.f,He.a,d.r,d.i,o.n,x.c,x.g,ze.a,Ge.n,o.m,v.d,y.b,x.b,C.b,d.c,s.c,d.h,s.a,h.c,Je.b,d.z],pipes:[o.w,o.v],styles:[".inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;padding-left:20px}.line[_ngcontent-%COMP%]{flex:1;margin-left:90px}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.inputMatLastName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}  .cdk-overlay-pane{min-width:270px!important;padding:7px 0}  .mat-card-avatar{max-width:15%!important}.example-header-image-dropdown[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;background-size:cover;background-color:#aed6f1;max-width:15%!important;width:25px;height:35px;border-radius:50%}.main-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}  .mat-autocomplete-panel{margin:10px!important;min-width:107%!important;left:-6%!important}"]}),Yn);function Qn(e,t){if(1&e&&(m.Xb(0,"mat-option",72),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Kn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please select the Employment Type "),m.Wb())}function Jn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please enter the Employee Number "),m.Wb())}function Zn(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please enter the Designation "),m.Wb())}function ea(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Employment Start Date is Required! "),m.Wb())}function ta(e,t){if(1&e&&(m.Xb(0,"mat-option",72),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function ra(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please select the Employment Category "),m.Wb())}function na(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please enter the Office Name "),m.Wb())}function aa(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Employment End Date is Required! "),m.Wb())}function ia(e,t){if(1&e){var r=m.Yb();m.Xb(0,"form",8),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"mat-card",9),m.Xb(4,"mat-card-title",10),m.Xb(5,"div",11),m.Tc(6,"Financial Details"),m.Wb(),m.Sb(7,"mat-divider"),m.Wb(),m.Xb(8,"mat-card-content"),m.Xb(9,"div",12),m.Xb(10,"div",13),m.Xb(11,"div",14),m.Xb(12,"mat-form-field",15),m.Xb(13,"mat-label"),m.Tc(14,"Applicant Name"),m.Wb(),m.Sb(15,"input",16),m.Wb(),m.Wb(),m.Xb(16,"div",14),m.Xb(17,"mat-form-field",15),m.Xb(18,"mat-label"),m.Tc(19,"Total Income*"),m.Wb(),m.Xb(20,"span",17),m.Tc(21),m.Wb(),m.Sb(22,"input",18),m.Wb(),m.Wb(),m.Xb(23,"div",14),m.Xb(24,"mat-form-field",15),m.Xb(25,"mat-label"),m.Tc(26,"Last Update On"),m.Wb(),m.Sb(27,"input",19),m.Sb(28,"mat-datepicker-toggle",20),m.Sb(29,"mat-datepicker",null,21),m.Wb(),m.Wb(),m.Wb(),m.Xb(31,"div",13),m.Xb(32,"div",14),m.Xb(33,"mat-form-field",15),m.Xb(34,"mat-label"),m.Tc(35,"Currently Working"),m.Wb(),m.Sb(36,"input",22),m.Wb(),m.Wb(),m.Xb(37,"div",14),m.Xb(38,"mat-form-field",15),m.Xb(39,"mat-label"),m.Tc(40,"Total Expenses*"),m.Wb(),m.Xb(41,"span",23),m.Tc(42),m.Wb(),m.Sb(43,"input",24),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(44,"mat-card",9),m.Xb(45,"mat-card-title",10),m.Xb(46,"div",11),m.Tc(47,"Employment Details"),m.Wb(),m.Sb(48,"mat-divider"),m.Wb(),m.Xb(49,"mat-card-content"),m.Xb(50,"div",12),m.Xb(51,"div",13),m.Xb(52,"div",14),m.Xb(53,"mat-form-field",15),m.Xb(54,"mat-label"),m.Tc(55,"Employment Type *"),m.Wb(),m.Xb(56,"mat-select",25),m.Rc(57,Qn,2,2,"mat-option",26),m.Wb(),m.Rc(58,Kn,2,0,"mat-error",27),m.Wb(),m.Wb(),m.Xb(59,"div",14),m.Xb(60,"mat-form-field",15),m.Xb(61,"mat-label"),m.Tc(62,"Employee number"),m.Wb(),m.Xb(63,"input",28),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)}),m.Wb(),m.Rc(64,Jn,2,0,"mat-error",27),m.Wb(),m.Wb(),m.Xb(65,"div",14),m.Xb(66,"mat-form-field",15),m.Xb(67,"mat-label"),m.Tc(68,"Designation"),m.Wb(),m.Xb(69,"input",29),m.fc("keypress",function(e){return m.Hc(r),m.jc().letterOnly(e)}),m.Wb(),m.Rc(70,Zn,2,0,"mat-error",27),m.Wb(),m.Wb(),m.Xb(71,"div",14),m.Xb(72,"mat-form-field",15),m.Xb(73,"mat-label"),m.Tc(74,"Employment Start Date *"),m.Wb(),m.Sb(75,"input",30),m.Sb(76,"mat-datepicker-toggle",20),m.Sb(77,"mat-datepicker",null,31),m.Rc(79,ea,2,0,"mat-error",27),m.Wb(),m.Wb(),m.Wb(),m.Xb(80,"div",13),m.Xb(81,"div",14),m.Xb(82,"mat-form-field",15),m.Xb(83,"mat-label"),m.Tc(84,"Employment Category *"),m.Wb(),m.Xb(85,"mat-select",32),m.Rc(86,ta,2,2,"mat-option",26),m.Wb(),m.Rc(87,ra,2,0,"mat-error",27),m.Wb(),m.Wb(),m.Xb(88,"div",14),m.Xb(89,"mat-form-field",15),m.Xb(90,"mat-label"),m.Tc(91,"Office Name"),m.Wb(),m.Xb(92,"input",33),m.fc("keypress",function(e){return m.Hc(r),m.jc().letterOnly(e)}),m.Wb(),m.Rc(93,na,2,0,"mat-error",27),m.Wb(),m.Wb(),m.Xb(94,"div",14),m.Xb(95,"mat-form-field",15),m.Xb(96,"mat-label"),m.Tc(97,"Employment End Date"),m.Wb(),m.Sb(98,"input",34),m.Sb(99,"mat-datepicker-toggle",20),m.Sb(100,"mat-datepicker",null,35),m.Rc(102,aa,2,0,"mat-error",27),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(103,"mat-card",9),m.Xb(104,"mat-card-title",10),m.Xb(105,"div",11),m.Tc(106," Monthly Income "),m.Xb(107,"div",36),m.Tc(108),m.Wb(),m.Wb(),m.Sb(109,"mat-divider"),m.Wb(),m.Xb(110,"mat-card-content"),m.Xb(111,"div",12),m.Xb(112,"div",13),m.Xb(113,"div",14),m.Xb(114,"mat-form-field",15),m.Xb(115,"mat-label"),m.Tc(116,"Bonus"),m.Wb(),m.Xb(117,"input",37),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(118,"div",14),m.Xb(119,"mat-form-field",15),m.Xb(120,"mat-label"),m.Tc(121,"Interest Income"),m.Wb(),m.Xb(122,"input",38),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(123,"div",14),m.Xb(124,"mat-form-field",15),m.Xb(125,"mat-label"),m.Tc(126,"Salary"),m.Wb(),m.Xb(127,"input",39),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(128,"div",14),m.Xb(129,"mat-form-field",15),m.Xb(130,"mat-label"),m.Tc(131,"Cash Gifts"),m.Wb(),m.Xb(132,"input",40),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(133,"div",14),m.Xb(134,"mat-form-field",15),m.Xb(135,"mat-label"),m.Tc(136,"Total"),m.Wb(),m.Sb(137,"input",41),m.Wb(),m.Wb(),m.Wb(),m.Xb(138,"div",13),m.Xb(139,"div",14),m.Xb(140,"mat-form-field",15),m.Xb(141,"mat-label"),m.Tc(142,"Business"),m.Wb(),m.Xb(143,"input",42),m.fc("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)})("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(144,"div",14),m.Xb(145,"mat-form-field",15),m.Xb(146,"mat-label"),m.Tc(147,"Pension"),m.Wb(),m.Xb(148,"input",43),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(149,"div",14),m.Xb(150,"mat-form-field",15),m.Xb(151,"mat-label"),m.Tc(152,"Rentals"),m.Wb(),m.Xb(153,"input",44),m.fc("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)})("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(154,"div",14),m.Xb(155,"mat-form-field",15),m.Xb(156,"mat-label"),m.Tc(157,"Others"),m.Wb(),m.Xb(158,"input",45),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(159,"mat-card",9),m.Xb(160,"mat-card-title",10),m.Xb(161,"div",11),m.Tc(162," Monthly Expenses "),m.Xb(163,"div",36),m.Tc(164),m.Wb(),m.Wb(),m.Sb(165,"mat-divider"),m.Wb(),m.Xb(166,"mat-card-content"),m.Xb(167,"div",12),m.Xb(168,"div",13),m.Xb(169,"div",14),m.Xb(170,"mat-form-field",15),m.Xb(171,"mat-label"),m.Tc(172,"Household"),m.Wb(),m.Xb(173,"input",46),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(174,"div",14),m.Xb(175,"mat-form-field",15),m.Xb(176,"mat-label"),m.Tc(177,"Education"),m.Wb(),m.Xb(178,"input",47),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(179,"div",14),m.Xb(180,"mat-form-field",15),m.Xb(181,"mat-label"),m.Tc(182,"Vehicle Maintenance"),m.Wb(),m.Xb(183,"input",48),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(184,"div",14),m.Xb(185,"mat-form-field",15),m.Xb(186,"mat-label"),m.Tc(187,"Others"),m.Wb(),m.Xb(188,"input",49),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(189,"div",14),m.Xb(190,"mat-form-field",15),m.Xb(191,"mat-label"),m.Tc(192,"Total"),m.Wb(),m.Sb(193,"input",50),m.Wb(),m.Wb(),m.Wb(),m.Xb(194,"div",13),m.Xb(195,"div",14),m.Xb(196,"mat-form-field",15),m.Xb(197,"mat-label"),m.Tc(198,"Medical"),m.Wb(),m.Xb(199,"input",51),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(200,"div",14),m.Xb(201,"mat-form-field",15),m.Xb(202,"mat-label"),m.Tc(203,"Travel"),m.Wb(),m.Xb(204,"input",52),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(205,"div",14),m.Xb(206,"mat-form-field",15),m.Xb(207,"mat-label"),m.Tc(208,"Rentals"),m.Wb(),m.Xb(209,"input",53),m.fc("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)})("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(210,"mat-card",9),m.Xb(211,"mat-card-title",10),m.Xb(212,"div",11),m.Tc(213," Annual Liabilities "),m.Xb(214,"div",36),m.Tc(215),m.Wb(),m.Wb(),m.Sb(216,"mat-divider"),m.Wb(),m.Xb(217,"mat-card-content"),m.Xb(218,"div",12),m.Xb(219,"div",13),m.Xb(220,"div",14),m.Xb(221,"mat-form-field",15),m.Xb(222,"mat-label"),m.Tc(223,"Property Loans"),m.Wb(),m.Xb(224,"input",54),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(225,"div",14),m.Xb(226,"mat-form-field",15),m.Xb(227,"mat-label"),m.Tc(228,"Personal Loans"),m.Wb(),m.Xb(229,"input",55),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(230,"div",14),m.Xb(231,"mat-form-field",15),m.Xb(232,"mat-label"),m.Tc(233,"Overdrafts"),m.Wb(),m.Xb(234,"input",56),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(235,"div",14),m.Xb(236,"mat-form-field",15),m.Xb(237,"mat-label"),m.Tc(238,"Total"),m.Wb(),m.Sb(239,"input",57),m.Wb(),m.Wb(),m.Wb(),m.Xb(240,"div",13),m.Xb(241,"div",14),m.Xb(242,"mat-form-field",15),m.Xb(243,"mat-label"),m.Tc(244,"Vehicle Loans"),m.Wb(),m.Xb(245,"input",58),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(246,"div",14),m.Xb(247,"mat-form-field",15),m.Xb(248,"mat-label"),m.Tc(249,"Cards Outstanding's"),m.Wb(),m.Xb(250,"input",59),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(251,"div",14),m.Xb(252,"mat-form-field",15),m.Xb(253,"mat-label"),m.Tc(254,"Others"),m.Wb(),m.Xb(255,"input",60),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(256,"mat-card",9),m.Xb(257,"mat-card-title",10),m.Xb(258,"div",11),m.Tc(259," Asset "),m.Xb(260,"div",36),m.Tc(261),m.Wb(),m.Wb(),m.Sb(262,"mat-divider"),m.Wb(),m.Xb(263,"mat-card-content"),m.Xb(264,"div",12),m.Xb(265,"div",13),m.Xb(266,"div",14),m.Xb(267,"mat-form-field",15),m.Xb(268,"mat-label"),m.Tc(269,"Savings Deposits"),m.Wb(),m.Xb(270,"input",61),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(271,"div",14),m.Xb(272,"mat-form-field",15),m.Xb(273,"mat-label"),m.Tc(274,"Properties"),m.Wb(),m.Xb(275,"input",62),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(276,"div",14),m.Xb(277,"mat-form-field",15),m.Xb(278,"mat-label"),m.Tc(279,"Fixed Deposits"),m.Wb(),m.Xb(280,"input",63),m.fc("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)})("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(281,"div",14),m.Xb(282,"mat-form-field",15),m.Xb(283,"mat-label"),m.Tc(284,"Others"),m.Wb(),m.Xb(285,"input",64),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(286,"div",14),m.Xb(287,"mat-form-field",15),m.Xb(288,"mat-label"),m.Tc(289,"Total"),m.Wb(),m.Sb(290,"input",65),m.Wb(),m.Wb(),m.Wb(),m.Xb(291,"div",13),m.Xb(292,"div",14),m.Xb(293,"mat-form-field",15),m.Xb(294,"mat-label"),m.Tc(295,"Stocks/Funds"),m.Wb(),m.Xb(296,"input",66),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(297,"div",14),m.Xb(298,"mat-form-field",15),m.Xb(299,"mat-label"),m.Tc(300,"Automobiles"),m.Wb(),m.Xb(301,"input",67),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(302,"div",14),m.Xb(303,"mat-form-field",15),m.Xb(304,"mat-label"),m.Tc(305,"Lands"),m.Wb(),m.Xb(306,"input",68),m.fc("keypress",function(e){return m.Hc(r),m.jc()._keyPress(e)})("input",function(){m.Hc(r);var e=m.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(307,"div",1),m.Xb(308,"div",2),m.Xb(309,"div",69),m.Xb(310,"button",70),m.fc("click",function(){return m.Hc(r),m.jc().goBack()}),m.Tc(311," Back "),m.Wb(),m.Xb(312,"button",71),m.fc("click",function(){return m.Hc(r),m.jc().onSubmit()}),m.Tc(313," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.Dc(30),a=m.Dc(78),i=m.Dc(101),o=m.jc();m.rc("formGroup",o.cardFinancialDetailsForm),m.Eb(21),m.Vc("",o.currencySymbol,"\xa0"),m.Eb(6),m.rc("matDatepicker",n)("max",o.lastData),m.Eb(1),m.rc("for",n),m.Eb(14),m.Vc("",o.currencySymbol,"\xa0"),m.Eb(15),m.rc("ngForOf",o.arrayEmploymentType),m.Eb(1),m.rc("ngIf",o.cardFinancialDetailsForm.get("employmentType").hasError("required")),m.Eb(5),m.rc("required","Salaried"==o.cardFinancialDetailsForm.get("employmentType").value),m.Eb(1),m.rc("ngIf",o.cardFinancialDetailsForm.get("employeeNumber").hasError("required")),m.Eb(5),m.rc("required","Salaried"==o.cardFinancialDetailsForm.get("employmentType").value),m.Eb(1),m.rc("ngIf",o.cardFinancialDetailsForm.get("designation").hasError("required")),m.Eb(5),m.rc("max",o.maxDate)("matDatepicker",a),m.Eb(1),m.rc("for",a),m.Eb(3),m.rc("ngIf",o.cardFinancialDetailsForm.get("employmentStartDate").hasError("required")),m.Eb(7),m.rc("ngForOf",o.arrayEmploymentCategory),m.Eb(1),m.rc("ngIf",o.cardFinancialDetailsForm.get("employmentCategory").hasError("required")),m.Eb(5),m.rc("required","Salaried"==o.cardFinancialDetailsForm.get("employmentType").value),m.Eb(1),m.rc("ngIf",o.cardFinancialDetailsForm.get("officeName").hasError("required")),m.Eb(5),m.rc("matDatepicker",i)("min",o.cardFinancialDetailsForm.get("employmentStartDate").value),m.Eb(1),m.rc("for",i),m.Eb(3),m.rc("ngIf",o.cardFinancialDetailsForm.get("employmentEndDate").hasError("required")),m.Eb(6),m.Uc(o.incomeErrMsg),m.Eb(56),m.Uc(o.ExpensesErrMsg),m.Eb(51),m.Uc(o.LiabilitiesErrMsg),m.Eb(46),m.Uc(o.assetErrMsg),m.Eb(51),m.rc("disabled",o.incomeErrMsg||o.ExpensesErrMsg||o.LiabilitiesErrMsg||o.assetErrMsg||!o.cardFinancialDetailsForm.valid)}}var oa,ca=((oa=function(){function e(t,n,a,i,o,c,s){r(this,e),this.formBuilder=t,this.api=n,this.snack=a,this.accountService=i,this.router=o,this.ls=c,this.cdr=s,this.disableNext=!1,this.showEditOption=!1,this.minDate=new Date,this.maxDate=new Date,this.lastData=(new Date).toISOString().slice(0,10)}return a(e,[{key:"ngOnInit",value:function(){var e=this;console.log(history.state.amount),this.cardId=this.ls.getItem("cardId"),this.currencytype=localStorage.getItem("Currency Type"),"INR"===this.currencytype?this.currencySymbol="\u20b9":"USD"===this.currencytype?this.currencySymbol="$":"CNY"===this.currencytype?this.currencySymbol="\xa5":"GBP"===this.currencytype?this.currencySymbol="\xa3":"ZAR"===this.currencytype&&(this.currencySymbol="R"),this.applicantName=this.ls.getItem("primaryCustomerName");var t=JSON.parse(this.ls.getItem("CARD_FINANCIAL_DONE"));this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),null!=this.cardId&&t?(console.log("fggd"),this.showEditOption=!0,this.getCardFinancialDetailsSummary()):(this.showEditOption=!1,setTimeout(function(){e.buildFinacialFormGroup()},200))}},{key:"getCardFinancialDetailsSummary",value:function(){var e=this;this.api.getCardFinancialDetails(this.cardId).subscribe(function(t){console.log(t),e.buildFinacialFormGroup(t[t.length-1])})}},{key:"getEmploymentType",value:function(e){var t=this;this.api.getDropDownValues(e).subscribe(function(e){t.arrayEmploymentType=e})}},{key:"getEmploymentCategory",value:function(e){var t=this;this.api.getDropDownValues(e).subscribe(function(e){t.arrayEmploymentCategory=e})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"buildFinacialFormGroup",value:function(e){var t=this;console.log(e),this.cardFinancialDetailsForm=this.formBuilder.group({applicantName:[e?e.applicantName:this.ls.getItem("Card_Applicant_name"),d.A.required],currentlyWorking:[e?e.currentlyWorking:""],applicantTotalIncome:[e?e.applicantTotalIncome:0,d.A.required],applicantTotalExpense:[e?e.applicantTotalExpense:0,d.A.required],lastUpdatedon:[e&&(null==e?void 0:e.lastUpdatedon)?new Date(e.lastUpdatedon):""],employmentType:[e?e.employmentType:"",d.A.required],employmentCategory:[e?e.employmentCategory:"",d.A.required],employeeNumber:[e?e.employeeNumber:""],officeName:[e?e.officeName:""],designation:[e?e.designation:""],employmentStartDate:[e&&(null==e?void 0:e.employmentStartDate)?new Date(e.employmentStartDate):"",d.A.required],employmentEndDate:[e&&(null==e?void 0:e.employmentEndDate)?new Date(e.employmentEndDate):""],salary:[e?e.salary:""],interestIncome:[e?e.interestIncome:""],bonus:[e?e.bonus:""],cashGifts:[e?e.cashGifts:""],business:[e?e.business:""],pension:[e?e.pension:""],monthlyIncomeRentals:[e?e.monthlyIncomeRentals:""],monthlyIncomeOthers:[e?e.monthlyIncomeOthers:""],monthlyIncomeTotal:[e?e.monthlyIncomeTotal:0],household:[e?e.household:""],education:[e?e.education:""],vehicleMaintenance:[e?e.vehicleMaintenance:""],monthlyExpenseRentals:[e?e.monthlyExpenseRentals:""],monthlyExpenseOthers:[e?e.monthlyExpenseOthers:""],medical:[e?e.medical:""],travel:[e?e.travel:""],monthlyExpenseTotal:[e?e.monthlyExpenseTotal:0],propertyLoan:[e?e.propertyLoan:""],vehicleLoan:[e?e.vehicleLoan:""],personalLoans:[e?e.personalLoans:""],overdraft:[e?e.overdraft:""],cardOutstandings:[e?e.cardOutstandings:""],liabilityOthers:[e?e.liabilityOthers:""],liabilityTotal:[e?e.liabilityTotal:0],savingDeposits:[e?e.savingDeposits:""],properties:[e?e.properties:""],automobiles:[e?e.automobiles:""],fixedDeposits:[e?e.fixedDeposits:""],lands:[e?e.lands:""],assetOthers:[e?e.assetOthers:""],stocks:[e?e.stocks:""],assetTotal:[e?e.assetTotal:0]},{validator:function(e){return t.validateInputGroups(e)}})}},{key:"validateInputGroups",value:function(e){e.controls.salary.value||e.controls.interestIncome.value||e.controls.bonus.value||e.controls.cashGifts.value||e.controls.business.value||e.controls.pension.value||e.controls.monthlyIncomeRentals.value||e.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),e.controls.household.value||e.controls.education.value||e.controls.vehicleMaintenance.value||e.controls.monthlyExpenseRentals.value||e.controls.monthlyExpenseOthers.value||e.controls.medical.value||e.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),e.controls.propertyLoan.value||e.controls.vehicleLoan.value||e.controls.personalLoans.value||e.controls.overdraft.value||e.controls.cardOutstandings.value||e.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),e.controls.savingDeposits.value||e.controls.properties.value||e.controls.automobiles.value||e.controls.fixedDeposits.value||e.controls.lands.value||e.controls.assetOthers.value||e.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}},{key:"onSubmit",value:function(){var e=this,t=this.converDate(this.cardFinancialDetailsForm.controls.employmentStartDate.value);t&&"Invalid date"!=t?(console.log("startDate",t),this.cardFinancialDetailsForm.value.employmentStartDate=t):this.cardFinancialDetailsForm.value.employmentStartDate=null;var r=this.converDate(this.cardFinancialDetailsForm.controls.employmentEndDate.value);r&&"Invalid date"!=r?(console.log("startDate",r),this.cardFinancialDetailsForm.value.employmentEndDate=r):this.cardFinancialDetailsForm.value.employmentEndDate=null;var n=qe(this.cardFinancialDetailsForm.controls.lastUpdatedon.value).format("YYYY-MM-DD HH:MM:SS");console.log("lastUpdatedon",n),n&&"Invalid date"!=n?(console.log("startDate",n),this.cardFinancialDetailsForm.value.lastUpdatedon=n):this.cardFinancialDetailsForm.value.lastUpdatedon=null,this.cardFinancialDetailsForm.value.accountType="cardOrigin",this.cardFinancialDetailsForm.value.cardId=this.cardId,console.log("submit",this.cardFinancialDetailsForm.value),console.log(this.cardFinancialDetailsForm.value);var a=[];a.push(this.cardFinancialDetailsForm.value),console.log(a),this.api.upsertCardFinancialDetails(a).subscribe(function(t){console.log(t),e.snack.open("Financial Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next()},function(t){e.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEntryStage/list/customerInformation"])}},{key:"next",value:function(){this.ls.setItem("CARD_FINANCIAL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/cardPrefrence"])}},{key:"converDate",value:function(e){var t=qe(e).format("YYYY-MMM-DD");if(console.log("date",t),t)return t}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"calculateTotalMonthlyIncome",value:function(e){var t=Number(e.salary)+Number(e.business)+Number(e.interestIncome)+Number(e.pension)+Number(e.bonus)+Number(e.monthlyIncomeOthers)+Number(e.monthlyIncomeRentals)+Number(e.cashGifts);this.cardFinancialDetailsForm.controls.monthlyIncomeTotal.setValue(t),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}},{key:"calculateTotalMonthlyExpenses",value:function(e){var t=Number(e.household)+Number(e.education)+Number(e.vehicleMaintenance)+Number(e.monthlyExpenseOthers)+Number(e.medical)+Number(e.travel)+Number(e.monthlyExpenseRentals);this.cardFinancialDetailsForm.controls.monthlyExpenseTotal.setValue(t),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}},{key:"calculateTotalLiabilities",value:function(e){var t=Number(e.propertyLoan)+Number(e.personalLoans)+Number(e.overdraft)+Number(e.vehicleLoan)+Number(e.cardOutstandings)+Number(e.liabilityOthers);this.cardFinancialDetailsForm.controls.liabilityTotal.setValue(t),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}},{key:"calculateTotalAssets",value:function(e){var t=Number(e.savingDeposits)+Number(e.properties)+Number(e.fixedDeposits)+Number(e.stocks)+Number(e.automobiles)+Number(e.lands)+Number(e.assetOthers);this.cardFinancialDetailsForm.controls.assetTotal.setValue(t),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}},{key:"calculateTotalIncomeAndExpense",value:function(e){var t=e.monthlyExpenseTotal+e.liabilityTotal;this.cardFinancialDetailsForm.controls.applicantTotalIncome.setValue(e.monthlyIncomeTotal+e.assetTotal),this.cardFinancialDetailsForm.controls.applicantTotalExpense.setValue(t),this.cdr.markForCheck(),this.cdr.detectChanges()}}]),e}()).\u0275fac=function(e){return new(e||oa)(m.Rb(d.f),m.Rb(b.b),m.Rb(p.a),m.Rb(_.a),m.Rb(f.h),m.Rb(u.a),m.Rb(m.h))},oa.\u0275cmp=m.Lb({type:oa,selectors:[["app-financial-details"]],decls:10,vars:1,consts:[[1,"matcard-size"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_2.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"p-0"],[1,""],[1,"card-title-text"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","formControlName","applicantName","placeholder","Applicant Name"],["matPrefix",""],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Income"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","lastUpdatedon",1,"alignment",3,"matDatepicker","max"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","text","formControlName","currentlyWorking","placeholder","Currently Working"],["matPrefix","",1,"curr_icon"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total  Expenses"],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"required","keypress"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation",3,"required","keypress"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentStartDate",1,"alignment",3,"max","matDatepicker"],["start",""],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name",3,"required","keypress"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentEndDate",1,"alignment",3,"matDatepicker","min"],["end",""],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","placeholder","Business",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","education","name","mod","placeholder","Education",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","Overdrafts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","Vehicle Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","Cards Outstanding's",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","Saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","Fixed Deposits",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","Others","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","Stocks/Funds","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","Automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","Lands","formControlName","lands",3,"keypress","input"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Tc(7,"Financial Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div"),m.Rc(9,ia,314,29,"form",7),m.Wb(),m.Wb()),2&e&&(m.Eb(9),m.rc("ngIf",t.cardFinancialDetailsForm))},directives:[v.e,v.b,o.n,d.C,d.s,d.j,h.a,h.h,O.a,h.d,v.f,x.c,x.g,C.b,d.c,d.r,d.i,x.i,d.w,Qe.e,Qe.g,x.j,Qe.d,ze.a,o.m,d.z,d.m,Ke.a,v.d,y.b,Ge.n,x.b],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}  .mat-form-field-prefix{top:0!important}"]}),oa);function sa(e,t){1&e&&(m.Xb(0,"div",17),m.Sb(1,"mat-progress-bar",18),m.Xb(2,"p",19),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}function la(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",20),m.fc("click",function(){return m.Hc(r),m.jc().goToCardAssessmentSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var ua=function(){return["/cardaccount/assessmentStage/application-assessment/list"]};function da(e,t){1&e&&(m.Xb(0,"button",21),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,ua))}var ba,ma,pa=((ba=function(){function e(t,n,a,i,o,c){r(this,e),this.ls=t,this.router=n,this.dialogService=a,this.cdr=i,this.accountService=o,this.apiService=c,this.isCardAssessmentStageDone=!1,this.isAssessmentReport=!1}return a(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE")}},{key:"goToCardAssessmentSummary",value:function(){this.dialogService.cardAccountAssessmentSummaryDialog()}},{key:"openLoanQualitativeDialog",value:function(){this.dialogService.loanQualitativeSummaryDialog()}}]),e}()).\u0275fac=function(e){return new(e||ba)(m.Rb(u.a),m.Rb(f.h),m.Rb(se.a),m.Rb(m.h),m.Rb(_.a),m.Rb(b.b))},ba.\u0275cmp=m.Lb({type:ba,selectors:[["app-assessment-stage"]],decls:30,vars:4,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"font1"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showAssessment",""],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create New Card Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(11,"div",8),m.Xb(12,"div",9),m.Xb(13,"mat-card"),m.Xb(14,"mat-card-header"),m.Xb(15,"mat-card-title"),m.Tc(16,"1. Assessment Report"),m.Wb(),m.Wb(),m.Xb(17,"mat-card-content"),m.Xb(18,"div",10),m.Xb(19,"div",11),m.Xb(20,"p"),m.Tc(21," The recommendation will be displayed with Approval or Rejection recommendation. "),m.Wb(),m.Wb(),m.Xb(22,"div",12),m.Sb(23,"img",13),m.Wb(),m.Wb(),m.Rc(24,sa,4,2,"div",14),m.Wb(),m.Sb(25,"mat-divider"),m.Xb(26,"mat-card-actions"),m.Rc(27,la,5,0,"ng-container",15),m.Rc(28,da,4,2,"ng-template",null,16,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var r=m.Dc(29);m.Eb(23),m.rc("src","assets/images/svg/MaskGroup_13.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isAssessmentReport),m.Eb(3),m.rc("ngIf",t.isAssessmentReport)("ngIfElse",r)}},directives:[v.e,v.b,h.a,h.e,h.h,h.d,v.f,v.d,o.n,O.a,h.b,Ve.a,y.b,c.a,f.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.font1[_ngcontent-%COMP%]{padding-left:17px;color:#cacaca}"]}),ba),ga=i("q7Ft"),fa=i("/1WF"),ha=i("Bp9c"),ya=i("UGQK"),va=i("r/oB"),Ca=function(){return["/cardaccount/applicationEntryStage/list"]},xa=function(){return["/cardaccount/applicationEntryStage/list/cardInitiation"]},Wa=function(){return["/cardaccount/applicationEntryStage/list/customerInformation"]},Xa=function(){return["/cardaccount/applicationEntryStage/list/financialDetails"]},Ia=function(){return["/cardaccount/applicationEntryStage/list/cardPrefrence"]},ka=function(){return["/cardaccount/applicationEntryStage/list/accountServices"]},Sa=function(){return["/cardaccount/documentupload/list"]},Oa=function(){return["/cardaccount/documentupload/list/document-details"]},Da=function(){return["/cardaccount/applicationEnrichment/list"]},Ta=function(){return["/cardaccount/underwritingStage/list"]},Aa=function(){return["/cardaccount/underwritingStage/credit-rating"]},Ea=function(){return["/cardaccount/underwritingStage/qualitative"]},_a=function(){return["/cardaccount/assessmentStage/list"]},wa=function(){return["/cardaccount/assessmentStage/application-assessment/list"]},Pa=function(){return["/cardaccount/SupervisorApprovalStage/list"]},Na=function(){return["/cardaccount/SupervisorApprovalStage/list/approvalDetails"]},Ra=function(){return["/cardaccount/DigitalSigning/list"]},Fa=function(){return["/cardaccount/DigitalSigning/options"]},Ma=((ma=function(){function e(t,n,a,i,o){r(this,e),this.ls=t,this.api=n,this.router=a,this.cdr=i,this.accountService=o,this.isCardApplicationStageDone=!1,this.isCardInitiationDone=!1,this.isCardCustomerInformationScreen=!1,this.isCardFinancialDetailsScreen=!1,this.isCardPrefrenceDone=!1,this.isCardAccountService=!1,this.isAddOnCardHolderDetails=!0,this.isDocumentUploadDone=!1,this.isDocumentUpload=!1,this.isCardApplicationEnrichmentDone=!1,this.isCardInterestDetails=!1,this.isCardChargeDetails=!1,this.isApplicationUnderWritingStageDone=!0,this.isQualitativeScoreboard=!0,this.isCardCreditRatingDetails=!1,this.isCardQualitativeScoreboard=!1,this.isCardAssessmentStageDone=!1,this.isAssessmentReport=!1,this.isCardSupervisorApprovalDone=!0,this.isApprovedDetails=!0,this.isCardDigitalSigningDone=!0,this.isCardDigitalSigning=!0}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.accountItemsSub=this.accountService.accountItems$.subscribe(function(t){e.accountItems=t}),console.log("reset"),this.cardId=this.ls.getItem("cardId"),this.isCardApplicationStageDone=this.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),this.isCardCustomerInformationScreen=this.ls.getItem("Card_Customer_Done"),this.isCardFinancialDetailsScreen=this.ls.getItem("CARD_FINANCIAL_DONE"),this.isCardPrefrenceDone=this.ls.getItem("card_prefrence_done"),this.isCardAccountService=this.ls.getItem("CARD_ACC_SERVICE_DONE"),this.isDocumentUploadDone=this.ls.getItem("CARD_DOCUMENT_STAGE_DONE"),this.isDocumentUpload=this.ls.getItem("CARD_DOCUMENT_DONE"),this.isCardApplicationEnrichmentDone=this.ls.getItem("CARD_ENRICHMENT_DONE"),this.isCardInterestDetails=this.ls.getItem("CARD_INTEREST_DETAILS_DONE"),this.isCardChargeDetails=this.ls.getItem("CARD_CHARGE_DETAILS_DONE"),this.isApplicationUnderWritingStageDone=this.ls.getItem("CARD_UNDERWRITING_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardSupervisorApprovalDone=this.ls.getItem("CARD_SUPERVISOR_DONE"),this.isApprovedDetails=this.ls.getItem("CARD_APPROVAL_DONE"),this.isCardDigitalSigningDone=this.ls.getItem("CARD_DIGITAL_STAGE_DONE"),this.isCardDigitalSigning=this.ls.getItem("CARD_DIGITAL_SIGN_DONE"),this.accountService.refresh.subscribe(function(t){e.cardId=e.ls.getItem("cardId"),e.isCardApplicationStageDone=e.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),e.isCardInitiationDone=e.ls.getItem("CARD_INITIATION_DONE"),e.isCardCustomerInformationScreen=e.ls.getItem("Card_Customer_Done"),e.isCardFinancialDetailsScreen=e.ls.getItem("CARD_FINANCIAL_DONE"),e.isCardPrefrenceDone=e.ls.getItem("card_prefrence_done"),e.isCardAccountService=e.ls.getItem("CARD_ACC_SERVICE_DONE"),e.isDocumentUploadDone=e.ls.getItem("CARD_DOCUMENT_STAGE_DONE"),e.isDocumentUpload=e.ls.getItem("CARD_DOCUMENT_DONE"),e.isCardApplicationEnrichmentDone=e.ls.getItem("CARD_ENRICHMENT_DONE"),e.isCardInterestDetails=e.ls.getItem("CARD_INTEREST_DETAILS_DONE"),e.isCardChargeDetails=e.ls.getItem("CARD_CHARGE_DETAILS_DONE"),e.isApplicationUnderWritingStageDone=e.ls.getItem("CARD_UNDERWRITING_DONE"),e.isCardCreditRatingDetails=e.ls.getItem("CARD_CREDIT_RATING_DONE"),e.isCardQualitativeScoreboard=e.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),e.isCardAssessmentStageDone=e.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),e.isAssessmentReport=e.ls.getItem("CARD_ASSESSMENT_DONE"),e.isCardSupervisorApprovalDone=e.ls.getItem("CARD_SUPERVISOR_DONE"),e.isApprovedDetails=e.ls.getItem("CARD_APPROVAL_DONE"),e.isCardDigitalSigningDone=e.ls.getItem("CARD_DIGITAL_STAGE_DONE"),e.isCardDigitalSigning=e.ls.getItem("CARD_DIGITAL_SIGN_DONE")})}},{key:"ngOnDestroy",value:function(){this.accountItemsSub&&this.accountItemsSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ma)(m.Rb(u.a),m.Rb(b.b),m.Rb(f.h),m.Rb(m.h),m.Rb(_.a))},ma.\u0275cmp=m.Lb({type:ma,selectors:[["app-card-account"]],decls:188,vars:79,consts:[[1,"matcard-size1"],[1,"m-333"],[1,"topSection",2,"background-color","white !important"],["EgretSideNavToggle","",1,"app-sidebar",2,"width","300px"],[1,"sidenav-header"],[1,"sidenav-hold"],["appDropdown","",1,"sidenav","mt-32"],["appDropdownLink","","routerLinkActive","open"],[1,"lvl1"],["appDropdownToggle","",3,"ngClass"],[1,"sidenav-mat-icon",3,"ngClass"],[1,"item-name","lvl1"],["fxFlex",""],[1,"menu-caret"],["appDropdown","",1,"lvl2",2,"margin-right","8px"],["routerLinkActive","open"],[1,"side-menu",3,"routerLink","ngClass"],[1,"item-name","lvl2",2,"margin-left","10px"],[1,"side-menu",3,"ngClass","routerLink"],["appDropdownToggle","",3,"ngClass","routerLink"],[1,"side-menu",3,"ngClass"],[1,"side-menu",3,"routerLink"],["fxLayout","row","fxLayoutWrap","wrap",1,"app-wrap"],[1,"full-width","mt-32"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"mat-sidenav-container",2),m.Xb(3,"mat-sidenav",3),m.Xb(4,"span",4),m.Tc(5,"Home > Create Card Account"),m.Wb(),m.Xb(6,"div",5),m.Xb(7,"ul",6),m.Xb(8,"li",7),m.Xb(9,"div",8),m.Xb(10,"a",9),m.Xb(11,"mat-icon",10),m.Tc(12," account_balance_wallet "),m.Wb(),m.Xb(13,"span",11),m.Tc(14,"Application Entry Stage"),m.Wb(),m.Sb(15,"span",12),m.Xb(16,"mat-icon",13),m.Tc(17,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(18,"ul",14),m.Xb(19,"li",15),m.Xb(20,"a",16),m.Xb(21,"span",17),m.Tc(22,"Summary"),m.Wb(),m.Sb(23,"span",12),m.Wb(),m.Wb(),m.Xb(24,"li",15),m.Xb(25,"a",16),m.Xb(26,"span",17),m.Tc(27,"Card Initiation"),m.Wb(),m.Sb(28,"span",12),m.Wb(),m.Wb(),m.Xb(29,"li",15),m.Xb(30,"a",16),m.Xb(31,"span",17),m.Tc(32,"Customer Information Details"),m.Wb(),m.Sb(33,"span",12),m.Wb(),m.Wb(),m.Xb(34,"li",15),m.Xb(35,"a",18),m.Xb(36,"span",17),m.Tc(37,"Financial Details"),m.Wb(),m.Sb(38,"span",12),m.Wb(),m.Wb(),m.Xb(39,"li",15),m.Xb(40,"a",18),m.Xb(41,"span",17),m.Tc(42,"Card Preferences"),m.Wb(),m.Sb(43,"span",12),m.Wb(),m.Wb(),m.Xb(44,"li",15),m.Xb(45,"a",16),m.Xb(46,"span",17),m.Tc(47,"Account Services"),m.Wb(),m.Sb(48,"span",12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(49,"li",7),m.Xb(50,"div",8),m.Xb(51,"a",19),m.Xb(52,"mat-icon",10),m.Tc(53,"file_upload"),m.Wb(),m.Xb(54,"span",11),m.Tc(55,"Document Upload"),m.Wb(),m.Sb(56,"span",12),m.Xb(57,"mat-icon",13),m.Tc(58,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(59,"ul",14),m.Xb(60,"li",15),m.Xb(61,"a",16),m.Xb(62,"span",17),m.Tc(63,"Summary"),m.Wb(),m.Sb(64,"span",12),m.Wb(),m.Wb(),m.Xb(65,"li",15),m.Xb(66,"a",18),m.Xb(67,"span",17),m.Tc(68,"Document Upload"),m.Wb(),m.Sb(69,"span",12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(70,"li",7),m.Xb(71,"div",8),m.Xb(72,"a",19),m.Xb(73,"mat-icon",10),m.Tc(74,"style"),m.Wb(),m.Xb(75,"span",11),m.Tc(76,"Application Enrichment"),m.Wb(),m.Sb(77,"span",12),m.Xb(78,"mat-icon",13),m.Tc(79,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(80,"ul",14),m.Xb(81,"li",15),m.Xb(82,"a",18),m.Xb(83,"span",17),m.Tc(84,"Summary"),m.Wb(),m.Sb(85,"span",12),m.Wb(),m.Wb(),m.Xb(86,"li",15),m.Xb(87,"a",20),m.Xb(88,"span",17),m.Tc(89,"Interest Details"),m.Wb(),m.Sb(90,"span",12),m.Wb(),m.Wb(),m.Xb(91,"li",15),m.Xb(92,"a",20),m.Xb(93,"span",17),m.Tc(94,"Charge Details"),m.Wb(),m.Sb(95,"span",12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(96,"li",7),m.Xb(97,"div",8),m.Xb(98,"a",19),m.Xb(99,"mat-icon",10),m.Tc(100,"border_color "),m.Wb(),m.Xb(101,"span",11),m.Tc(102,"Application Underwriting"),m.Wb(),m.Sb(103,"span",12),m.Xb(104,"mat-icon",13),m.Tc(105,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(106,"ul",14),m.Xb(107,"li",15),m.Xb(108,"a",16),m.Xb(109,"span",17),m.Tc(110,"Summary"),m.Wb(),m.Sb(111,"span",12),m.Wb(),m.Wb(),m.Xb(112,"li",15),m.Xb(113,"a",18),m.Xb(114,"span",17),m.Tc(115,"Credit Score Details"),m.Wb(),m.Sb(116,"span",12),m.Wb(),m.Wb(),m.Xb(117,"li",15),m.Xb(118,"a",18),m.Xb(119,"span",17),m.Tc(120,"Qualitative Scoreboard"),m.Wb(),m.Sb(121,"span",12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(122,"li",7),m.Xb(123,"div",8),m.Xb(124,"a",19),m.Xb(125,"mat-icon",10),m.Tc(126,"assessment"),m.Wb(),m.Xb(127,"span",11),m.Tc(128,"Application Assessment"),m.Wb(),m.Sb(129,"span",12),m.Xb(130,"mat-icon",13),m.Tc(131,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(132,"ul",14),m.Xb(133,"li",15),m.Xb(134,"a",16),m.Xb(135,"span",17),m.Tc(136,"Summary"),m.Wb(),m.Sb(137,"span",12),m.Wb(),m.Wb(),m.Xb(138,"li",15),m.Xb(139,"a",16),m.Xb(140,"span",17),m.Tc(141,"Assessment Report"),m.Wb(),m.Sb(142,"span",12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(143,"li",7),m.Xb(144,"div",8),m.Xb(145,"a",19),m.Xb(146,"mat-icon",10),m.Tc(147,"done_all"),m.Wb(),m.Xb(148,"span",11),m.Tc(149,"Supervisor Approval Stage"),m.Wb(),m.Sb(150,"span",12),m.Xb(151,"mat-icon",13),m.Tc(152,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(153,"ul",14),m.Xb(154,"li",15),m.Xb(155,"a",16),m.Xb(156,"span",17),m.Tc(157,"Summary"),m.Wb(),m.Sb(158,"span",12),m.Wb(),m.Wb(),m.Xb(159,"li",15),m.Xb(160,"a",16),m.Xb(161,"span",17),m.Tc(162,"Approved Details"),m.Wb(),m.Sb(163,"span",12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(164,"li",7),m.Xb(165,"div",8),m.Xb(166,"a",9),m.Xb(167,"mat-icon",10),m.Tc(168,"web_asset"),m.Wb(),m.Xb(169,"span",11),m.Tc(170,"Digital Signing"),m.Wb(),m.Sb(171,"span",12),m.Xb(172,"mat-icon",13),m.Tc(173,"keyboard_arrow_right"),m.Wb(),m.Wb(),m.Xb(174,"ul",14),m.Xb(175,"li",15),m.Xb(176,"a",21),m.Xb(177,"span",17),m.Tc(178,"Summary"),m.Wb(),m.Sb(179,"span",12),m.Wb(),m.Wb(),m.Xb(180,"li",15),m.Xb(181,"a",18),m.Xb(182,"span",17),m.Tc(183,"Digital Signing"),m.Wb(),m.Sb(184,"span",12),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(185,"div",22),m.Xb(186,"div",23),m.Sb(187,"router-outlet"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(10),m.rc("ngClass",t.isCardApplicationStageDone?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isCardApplicationStageDone?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(56,Ca))("ngClass",t.isCardApplicationStageDone?"enable":"disable"),m.Eb(5),m.rc("routerLink",m.wc(57,xa))("ngClass",t.isCardInitiationDone?"enable":"disable"),m.Eb(5),m.rc("routerLink",m.wc(58,Wa))("ngClass",t.isCardCustomerInformationScreen?"enable":"disable"),m.Eb(5),m.rc("ngClass",t.isCardFinancialDetailsScreen?"enable":"disable")("routerLink",m.wc(59,Xa)),m.Eb(5),m.rc("ngClass",t.isCardPrefrenceDone?"enable":"disable")("routerLink",m.wc(60,Ia)),m.Eb(5),m.rc("routerLink",m.wc(61,ka))("ngClass",t.isCardAccountService?"enable":"disable"),m.Eb(6),m.rc("ngClass",t.isDocumentUploadDone?"active":"notActive")("routerLink",m.wc(62,Sa)),m.Eb(1),m.rc("ngClass",t.isDocumentUploadDone?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(63,Sa))("ngClass",t.isCardApplicationStageDone?"enable":"disable"),m.Eb(5),m.rc("ngClass",t.isDocumentUpload?"enable":"disable")("routerLink",m.wc(64,Oa)),m.Eb(6),m.rc("ngClass",t.isCardApplicationEnrichmentDone?"active":"notActive")("routerLink",m.wc(65,Da)),m.Eb(1),m.rc("ngClass",t.isCardApplicationEnrichmentDone?"active":"notActive"),m.Eb(9),m.rc("ngClass",t.isCardApplicationEnrichmentDone?"enable":"disable")("routerLink",m.wc(66,Da)),m.Eb(5),m.rc("ngClass",t.isCardInterestDetails?"enable":"disable"),m.Eb(5),m.rc("ngClass",t.isCardChargeDetails?"enable":"disable"),m.Eb(6),m.rc("ngClass",t.isApplicationUnderWritingStageDone?"active":"notActive")("routerLink",m.wc(67,Ta)),m.Eb(1),m.rc("ngClass",t.isApplicationUnderWritingStageDone?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(68,Ta))("ngClass",t.isCardApplicationStageDone?"enable":"disable"),m.Eb(5),m.rc("ngClass",t.isCardCreditRatingDetails?"enable":"disable")("routerLink",m.wc(69,Aa)),m.Eb(5),m.rc("ngClass",t.isCardQualitativeScoreboard?"enable":"disable")("routerLink",m.wc(70,Ea)),m.Eb(6),m.rc("ngClass",t.isCardAssessmentStageDone?"active":"notActive")("routerLink",m.wc(71,_a)),m.Eb(1),m.rc("ngClass",t.isCardAssessmentStageDone?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(72,_a))("ngClass",t.isCardApplicationStageDone?"enable":"disable"),m.Eb(5),m.rc("routerLink",m.wc(73,wa))("ngClass",t.isAssessmentReport?"enable":"disable"),m.Eb(6),m.rc("ngClass",t.isCardSupervisorApprovalDone?"active":"notActive")("routerLink",m.wc(74,Pa)),m.Eb(1),m.rc("ngClass",t.isCardSupervisorApprovalDone?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(75,Pa))("ngClass",t.isCardApplicationStageDone?"enable":"disable"),m.Eb(5),m.rc("routerLink",m.wc(76,Na))("ngClass",t.isApprovedDetails?"enable":"disable"),m.Eb(6),m.rc("ngClass",t.isCardDigitalSigningDone?"active":"notActive"),m.Eb(1),m.rc("ngClass",t.isCardDigitalSigningDone?"active":"notActive"),m.Eb(9),m.rc("routerLink",m.wc(77,Ra)),m.Eb(5),m.rc("ngClass",t.isCardDigitalSigning?"enable":"disable")("routerLink",m.wc(78,Fa)))},directives:[ga.e,ga.d,fa.a,ha.a,ya.a,f.j,va.a,o.l,w.a,c.a,v.b,f.k,v.e,f.m],styles:["li[_ngcontent-%COMP%]{list-style-type:none!important}a[_ngcontent-%COMP%]   .mat-icon.sidenav-mat-icon[_ngcontent-%COMP%]{border-left:none!important;border-color:transparent}.sidenav-hold[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:before{background:none!important;top:0}li.open[_ngcontent-%COMP%]{background:none!important}.active[_ngcontent-%COMP%], .enable[_ngcontent-%COMP%]{color:#03a9f4!important}.disable[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.topSection[_ngcontent-%COMP%]{margin-top:35px!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}"]}),ma),La=i("kA6c");function Va(e,t){if(1&e){var r=m.Yb();m.Xb(0,"button",7),m.fc("click",function(){return m.Hc(r),m.jc().close1()}),m.Xb(1,"mat-icon"),m.Tc(2,"close"),m.Wb(),m.Wb()}}function Ba(e,t){if(1&e){var r=m.Yb();m.Xb(0,"button",7),m.fc("click",function(){return m.Hc(r),m.jc().close()}),m.Xb(1,"mat-icon"),m.Tc(2,"close"),m.Wb(),m.Wb()}}function ja(e,t){1&e&&(m.Xb(0,"div",4),m.Xb(1,"div",8),m.Sb(2,"img",9),m.Wb(),m.Wb())}function qa(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",10),m.Xb(1,"h5",11),m.Tc(2,"Please e-sign the application!"),m.Wb(),m.Xb(3,"mat-card",12),m.Xb(4,"mat-card-content"),m.Xb(5,"signature-pad",13),m.fc("onBeginEvent",function(){return m.Hc(r),m.jc().drawStart()})("onEndEvent",function(){return m.Hc(r),m.jc().drawComplete()}),m.Wb(),m.Wb(),m.Wb(),m.Xb(6,"div",14),m.Xb(7,"button",15),m.fc("click",function(){return m.Hc(r),m.jc().onSubmit()}),m.Tc(8," SUBMIT "),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.jc();m.Eb(5),m.rc("options",n.signaturePadOptions),m.Eb(2),m.rc("disabled",n.disableDone)}}var Ua,za=((Ua=function(){function e(t,n,a,i,o,c,s,l){r(this,e),this.data=t,this.dialogRef=n,this.ls=a,this.router=i,this.accountService=o,this.apiService=c,this.appEntryService=s,this.cdr=l,this.isDone=!1,this.signaturePadOptions={minWidth:2,canvasWidth:700,canvasHeight:300},this.count=0,this.res={enable:!1,image:null},this.disableDone=!0,this.signupload=!0}return a(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),console.log("popup response data:",this.data),this.isDone=this.data.isSignLater,this.cdr.markForCheck()}},{key:"ngAfterViewInit",value:function(){this.signaturePad.set("minWidth",2),this.signaturePad.clear()}},{key:"drawComplete",value:function(){console.log(this.signaturePad.toDataURL()),this.esignUrl=this.signaturePad.toDataURL(),this.disableDone=!this.esignUrl.toString().includes("data:image/png;base64")}},{key:"drawStart",value:function(){console.log("begin drawing")}},{key:"clearSignature",value:function(){this.signaturePad.clear()}},{key:"savePad",value:function(){var e=this.signaturePad.toDataURL();this.signatureImg=e}},{key:"close1",value:function(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(this.dialogRef.close({image:this.esignUrl}),this.ls.setItem("enable",!1))}},{key:"close",value:function(){this.dialogRef.close("NewCustomerOnboarding"===this.data.screen?this.res:{image:this.esignUrl})}},{key:"onSubmit",value:function(){var e=this;console.log(this.signaturePad.toDataURL());var t={},r={};console.log("this.data::",this.data),"NewCustomerOnboarding"!==this.data.screen?(r.cardId=this.data.accountId,this.getByAccountId(r.cardId)):(this.apiService.getAccountIdByCusId(this.data.customerId).subscribe(function(e){console.log("Account Id response -- ",e),t.accountId=e}),this.res={enable:!0,image:this.signaturePad.toDataURL()}),r.customerId=this.data.customerId,r.documentName=this.data.customerId+"Signature",r.documentType="10",r.fileType="image/jpeg",r.fileName="signature";for(var n=this.signaturePad.toDataURL("image/png"),a=atob(n.substring("data:image/png;base64,".length)),i=new Uint8Array(a.length),o=0,c=a.length;o<c;++o)i[o]=a.charCodeAt(o);var s=new Blob([i],{type:"image/png"});t.uploadModel=r,t.noOfSignatures="1";var l=new FormData;l.append("data",JSON.stringify(t)),console.log("data",t),l.append("file",s),l.append("accType","cardOrigin"),this.apiService.uploadSignature(l).subscribe(function(t){console.log(t),t&&(e.close(),e.show=!0,e.res=t)},function(t){e.close(),e.res=!1}),"NewCustomerOnboarding"!==this.data.screen?this.isDone=!1:this.close(),console.log(this.isDone),this.ls.setItem("eSignStage",!0),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){e.router.navigate(["cardaccount/digitalsigning/options"])})}},{key:"getByAccountId",value:function(e){var t=this;this.apiService.getCardInitiationDetails(e).subscribe(function(e){console.log("updateStatus :: ",e),t.accountdetailsForStatusUpdate=e,t.updateCardAccountStatus()})}},{key:"updateCardAccountStatus",value:function(){this.apiService.updateCardStatus({cardId:this.cardId,status:"BACKLOG"}).subscribe(function(e){console.log("updateResp:: ",e)})}}]),e}()).\u0275fac=function(e){return new(e||Ua)(m.Rb(g.a),m.Rb(g.g),m.Rb(u.a),m.Rb(f.h),m.Rb(La.a),m.Rb(b.b),m.Rb(je.a),m.Rb(m.h))},Ua.\u0275cmp=m.Lb({type:Ua,selectors:[["app-esignature-pop"]],viewQuery:function(e,t){var r;1&e&&m.ad(l.a,!0),2&e&&m.Cc(r=m.gc())&&(t.signaturePad=r.first)},decls:8,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","100",4,"ngIf"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","50","fxFlexOffset","20px",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"propic","text-center"],["src","assets/images/esign.png","alt",""],["fxFlex","50","fxFlexOffset","20px"],[1,"text-center","mt-16"],[1,"mt-16","signbox"],[3,"options","onBeginEvent","onEndEvent"],[1,"text-center"],["mat-raised-button","",1,"Next",3,"disabled","click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Rc(2,Va,3,0,"button",2),m.Rc(3,Ba,3,0,"button",2),m.Wb(),m.Rc(4,ja,3,0,"div",3),m.Xb(5,"div",4),m.Xb(6,"div",5),m.Rc(7,qa,9,2,"div",6),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(2),m.rc("ngIf",!t.isDone),m.Eb(1),m.rc("ngIf",t.isDone),m.Eb(1),m.rc("ngIf",!t.isDone),m.Eb(3),m.rc("ngIf",!t.isDone))},directives:[v.e,v.b,v.d,o.n,y.b,c.a,v.c,h.a,h.d,l.a],styles:[".signbox[_ngcontent-%COMP%]{border-style:shadow;height:160px}.Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}"]}),Ua),Ga=["profileFile"];function Ha(e,t){if(1&e){var r=m.Yb();m.Xb(0,"button",7),m.fc("click",function(){return m.Hc(r),m.jc().close1()}),m.Xb(1,"mat-icon"),m.Tc(2,"close"),m.Wb(),m.Wb()}}function Ya(e,t){if(1&e){var r=m.Yb();m.Xb(0,"button",7),m.fc("click",function(){return m.Hc(r),m.jc().close()}),m.Xb(1,"mat-icon"),m.Tc(2,"close"),m.Wb(),m.Wb()}}function $a(e,t){1&e&&(m.Xb(0,"div",4),m.Xb(1,"div",8),m.Sb(2,"img",9),m.Wb(),m.Wb())}function Qa(e,t){1&e&&(m.Xb(0,"div"),m.Sb(1,"img",24),m.Wb()),2&e&&(m.Eb(1),m.rc("src","assets/images/no-image.jpg",m.Jc))}function Ka(e,t){if(1&e&&m.Sb(0,"img",25),2&e){var r=m.jc(2);m.rc("src",r.imageURL1,m.Jc)}}function Ja(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",10),m.Xb(1,"h5",11),m.Tc(2,"Signature!"),m.Wb(),m.Xb(3,"div",12),m.Xb(4,"div",13),m.Xb(5,"button",14),m.fc("click",function(){return m.Hc(r),m.jc().openPopUp()}),m.Tc(6," Digital Sign "),m.Wb(),m.Wb(),m.Xb(7,"div",15),m.Xb(8,"button",16),m.fc("click",function(){return m.Hc(r),m.Dc(11).click()}),m.Tc(9," Upload "),m.Xb(10,"input",17,18),m.fc("change",function(e){return m.Hc(r),m.jc().onFileSelect(e)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(12,"div",5),m.Xb(13,"div",13),m.Xb(14,"div",19),m.Rc(15,Qa,2,1,"div",20),m.Rc(16,Ka,1,1,"ng-template",null,21,m.Sc),m.Wb(),m.Xb(18,"div",12),m.Xb(19,"button",22),m.fc("click",function(){return m.Hc(r),m.jc().deleteImg()}),m.Tc(20," DELETE "),m.Wb(),m.Xb(21,"button",23),m.fc("click",function(){return m.Hc(r),m.jc().onSubmit()}),m.Tc(22," SUBMIT "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.Dc(17),a=m.jc();m.Eb(15),m.rc("ngIf","not_available"==a.imageURL1)("ngIfElse",n),m.Eb(6),m.rc("disabled",a.disableDone)}}var Za,ei,ti,ri=((Za=function(){function e(t,n,a,i,o,c,s,l,u){r(this,e),this.data=t,this.router=n,this.apiService=a,this.dialogService=i,this.dialog=o,this.dialogRef=c,this.ls=s,this.location=l,this.snack=u,this.isDone=!1,this.previousUrl="",this.disableDone=!0,this.res={enable:!1,image:null}}return a(e,[{key:"ngOnInit",value:function(){this.isCardDigitalSigningDone=this.ls.getItem("CARD_DIGITAL_STAGE_DONE"),this.isCardDigitalSigning=this.ls.getItem("CARD_DIGITAL_SIGN_DONE"),this.image=this.ls.getItem("signedImage"),this.imageURL1=this.image?this.image:"not_available",this.accountId=this.ls.getItem("cardId")}},{key:"close1",value:function(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(this.dialogRef.close(!0),this.ls.setItem("enable",!0))}},{key:"openPopUp",value:function(e){var t,r=this;null==e&&(t={isSignLater:!1,screen:"Create Account",accountId:this.accountId,customerId:this.ls.getItem("cId")}),this.show||this.dialog.open(za,{width:"720px",disableClose:!0,data:null==e?t:e}).afterClosed().subscribe(function(e){console.log("dismiss res",e),e&&(r.imageURL1=null==e?void 0:e.image,r.disableDone=!(null==e?void 0:e.image),r.show=r.ls.setItem("enable",!0))})}},{key:"onFileSelect",value:function(e){var t=this;console.log("event -- ",e.target.files),this.selectedFile=e.target.files[0],console.log(this.selectedFile);var r=new FileReader;r.readAsDataURL(e.target.files[0]),r.onload=function(e){t.imageURL1=r.result};var n=this.selectedFile,a=new FormData;a.append("data",JSON.stringify({customerId:this.customerId,documentName:"Signature",documentType:"10",fileType:e.type,fileName:e.name,verificationType:"Digital Signing"})),a.append("file",n),this.apiService.uploadDocument(a).subscribe(function(e){})}},{key:"deleteImg",value:function(){var e=this;this.dialogService.doConfirmDialog("").subscribe(function(t){"Yes"==t&&(e.ls.removeItem("signedImage"),e.ls.removeItem("enable"),e.disableDone=!0,e.imageURL1="not_available",e.profileFile.nativeElement.value="",e.apiService.deleteCustomerDoc(e.customerId,e.profileId).subscribe(function(e){}),e.disableDone=!0,e.ls.setItem("enable",!0))})}},{key:"onSubmit",value:function(){this.isDone=!0,this.dialogRef.close(!0)}}]),e}()).\u0275fac=function(e){return new(e||Za)(m.Rb(g.a),m.Rb(f.h),m.Rb(b.b),m.Rb(se.a),m.Rb(g.b),m.Rb(g.g),m.Rb(u.a),m.Rb(o.j),m.Rb(p.a))},Za.\u0275cmp=m.Lb({type:Za,selectors:[["app-upload-signature-or-esign"]],viewQuery:function(e,t){var r;1&e&&m.ad(Ga,!0),2&e&&m.Cc(r=m.gc())&&(t.profileFile=r.first)},decls:8,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","100",4,"ngIf"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","50","fxFlexOffset","20px",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"propic","text-center"],["src","assets/images/esign.png","alt",""],["fxFlex","50","fxFlexOffset","20px"],[1,"text-center","mt-16","size"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","20px"],[1,"sub-section-1"],["appearence","outline",1,"scanButton",3,"click"],[1,"sub-section-2"],[1,"Upload","scanButton",3,"click"],["type","file","required","",1,"changeInput",2,"display","none",3,"change"],["fileInput",""],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","","color","red",1,"dltbtn",3,"click"],["mat-raised-button","","color","primary",1,"dbtn",3,"disabled","click"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Rc(2,Ha,3,0,"button",2),m.Rc(3,Ya,3,0,"button",2),m.Wb(),m.Rc(4,$a,3,0,"div",3),m.Xb(5,"div",4),m.Xb(6,"div",5),m.Rc(7,Ja,23,3,"div",6),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(2),m.rc("ngIf",!t.isDone),m.Eb(1),m.rc("ngIf",t.isDone),m.Eb(1),m.rc("ngIf",!t.isDone),m.Eb(3),m.rc("ngIf",!t.isDone))},directives:[v.e,v.b,v.d,o.n,y.b,c.a,v.c,v.f],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.formImg[_ngcontent-%COMP%]{height:200px!important;width:400px!important;background-color:#f5f5f5;border-radius:10%}.Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}.size[_ngcontent-%COMP%]{font-size:large;font-weight:300}.dltbtn[_ngcontent-%COMP%]{background-color:red}.dbtn[_ngcontent-%COMP%], .dltbtn[_ngcontent-%COMP%]{margin:12px 0;width:35%;color:#fff;border-radius:55px}.dbtn[_ngcontent-%COMP%]{background-color:#426af5}"]}),Za),ni=function(){return{delay:"300ms",y:"50px"}},ai=function(e){return{value:"*",params:e}},ii=((ei=function(){function e(t,n,a,i,o,c,s,l){r(this,e),this.dialog=t,this.router=n,this.ls=a,this.accountService=i,this.apiService=o,this.urlService=c,this.api=s,this.dialogService=l,this.previousUrl="",this.show=!1,this.isDone=!1}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.urlService.previousUrl$.subscribe(function(t){e.previousUrl=t})}},{key:"openPopUp",value:function(e){var t,r=this;null==e&&(t={isSignLater:!1,screen:"Create Account"}),this.show||this.dialog.open(ri,{width:"720px",disableClose:!0,data:null==e?t:e}).afterClosed().subscribe(function(e){e&&(r.show=r.ls.getItem("enable"))})}},{key:"getByAccountId",value:function(e){var t=this;this.api.getCardInitiationDetails(this.cardId).subscribe(function(e){t.accountdetailsForStatusUpdate=e,t.updateCardAccountStatus()})}},{key:"onDone",value:function(){this.isDone=!0,this.dialogService.alertForCardFinishButton().subscribe(function(e){console.log("response ::",e)})}},{key:"updateCardAccountStatus",value:function(){this.api.updateCardStatus({cardId:this.cardId,status:"BACKLOG"}).subscribe(function(e){console.log("updateResp:: ",e)})}},{key:"goBack",value:function(){this.router.navigate([this.previousUrl])}},{key:"resetState",value:function(){this.ls.removeItem("CARD_APPLICATION_ENTRY_DONE"),this.ls.removeItem("CARD_INITIATION_DONE"),this.ls.removeItem("Card_Customer_Done"),this.ls.removeItem("CARD_FINANCIAL_DONE"),this.ls.removeItem("card_prefrence_done"),this.ls.removeItem("CARD_ACC_SERVICE_DONE"),this.ls.removeItem("Card_CIF_NUM_PRIMARY"),this.ls.removeItem("Card_Applicant_name"),this.ls.removeItem("CARD_DOCUMENT_STAGE_DONE"),this.ls.removeItem("CARD_DOCUMENT_DONE"),this.ls.removeItem("CARD_ENRICHMENT_DONE"),this.ls.removeItem("CARD_INTEREST_DETAILS_DONE"),this.ls.removeItem("CARD_CHARGE_DETAILS_DONE"),this.ls.removeItem("CARD_UNDERWRITING_DONE"),this.ls.removeItem("CARD_CREDIT_RATING_DONE"),this.ls.removeItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.ls.removeItem("CARD_ASSESSMENT_STAGE_DONE"),this.ls.removeItem("CARD_ASSESSMENT_DONE"),this.ls.removeItem("CARD_SUPERVISOR_DONE"),this.ls.removeItem("CARD_APPROVAL_DONE"),this.ls.removeItem("CARD_DIGITAL_STAGE_DONE"),this.ls.removeItem("CARD_DIGITAL_SIGN_DONE"),this.ls.removeItem("enable"),this.ls.removeItem("eSignStage"),this.ls.removeItem("cardId"),this.ls.removeItem("CardNoOfApplicants"),this.ls.removeItem("primaryCustomerName"),this.ls.removeItem("cardownership_value"),this.ls.removeItem("cId"),this.ls.removeItem("signedImage"),sessionStorage.clear(),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list"])}},{key:"onSubmit",value:function(){var e=this;this.api.signInLater({accountId:this.cardId,esignLink:"gcom",subject:"testing"}).subscribe(function(t){console.log("data::",t),e.getByAccountId(e.cardId),e.ls.setItem("eSignStage",!0),e.accountService.refresh.next(),e.openPopUp({email:t.email,customerId:t.customerId,subject:t.subject,isSignLater:!0,screen:"Create Account"})},function(e){})}}]),e}()).\u0275fac=function(e){return new(e||ei)(m.Rb(g.b),m.Rb(f.h),m.Rb(u.a),m.Rb(_.a),m.Rb(je.a),m.Rb(Ee.a),m.Rb(b.b),m.Rb(se.a))},ei.\u0275cmp=m.Lb({type:ei,selectors:[["app-digital-sign-now-or-later"]],decls:46,vars:9,consts:[[1,"matcard-size"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask Group 55.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"mat-card-img"],["fxFlex","100",1,"mt-32"],["matRipple","",1,"sign-box","hoverAdd",3,"click"],[1,"p-0"],[1,"compact-list","mb-16"],[1,""],["src","assets/images/svg/signnow.png","alt","",1,"mr-16"],["fxLayout","column","fxFlex","100"],[1,"m-0","mr-16"],["fxFlex",""],["fxFlex","40",1,"text"],[1,"text-center"],["mat-button","",1,"text"],["matRipple","",1,"sign-box","hoverAdd"],[1,"",3,"click"],["src","assets/images/svg/signlater.png","alt","",1,"mr-16"],["fxFlex","100",1,"mt-16"],["mat-button","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Digital Signing"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"mat-card",7),m.Xb(10,"div",8),m.Xb(11,"mat-card",9),m.fc("click",function(){return t.openPopUp()}),m.Xb(12,"mat-card-content",10),m.Xb(13,"mat-list",11),m.Xb(14,"mat-list-item",12),m.Sb(15,"img",13),m.Xb(16,"div",14),m.Xb(17,"h3",15),m.Tc(18,"Sign Now"),m.Wb(),m.Sb(19,"span",16),m.Sb(20,"br"),m.Xb(21,"div",17),m.Tc(22," Enables you to digitally sign the document. To e sign the document, click on it, create your eSignature, click on Done and it will add to your document. "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(23,"div",2),m.Xb(24,"div",18),m.Xb(25,"button",19),m.Tc(26,"OR"),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div",2),m.Xb(28,"mat-card",20),m.Xb(29,"mat-card-content",10),m.Xb(30,"mat-list",11),m.Xb(31,"mat-list-item",21),m.fc("click",function(){return t.onSubmit()}),m.Sb(32,"img",22),m.Xb(33,"div",14),m.Xb(34,"h3",15),m.Tc(35,"Sign Later"),m.Wb(),m.Sb(36,"span",16),m.Sb(37,"br"),m.Xb(38,"div",17),m.Tc(39," Enables you to sign the document later. To sign later, click here, an email will be sent to the respective email id provided with a sign link. You can verify and sign later. "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(40,"div",23),m.Xb(41,"button",24),m.fc("click",function(){return t.goBack()}),m.Tc(42,"BACK"),m.Wb(),m.Sb(43,"span",16),m.Xb(44,"button",25),m.fc("click",function(){return t.onDone()}),m.Tc(45," FINISH "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(11),m.rc("@animate",m.xc(4,ai,m.wc(3,ni))),m.Eb(17),m.rc("@animate",m.xc(7,ai,m.wc(6,ni))),m.Eb(16),m.rc("disabled",!t.show))},directives:[v.e,v.b,h.a,Ge.s,h.d,Je.a,Je.d,y.b],styles:[".text[_ngcontent-%COMP%]{font-size:13px;color:#cacaca}.mat-card-img[_ngcontent-%COMP%]{height:100%;width:100%;flex-direction:column!important;box-sizing:border-box!important;display:flex!important}.hoverAdd[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.08);cursor:pointer}.compact-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background:none}"]}),ei),oi=function(){return["/cardaccount/digitalsigning/options"]},ci=((ti=function(){function e(t,n,a,i){r(this,e),this.router=t,this.ls=n,this.api=a,this.loader=i}return a(e,[{key:"ngOnInit",value:function(){console.log(this.cardId),this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.getDigitalsignByCardId(this.cardId)}},{key:"getDigitalsignByCardId",value:function(e){var t=this;this.api.getDigitalsignByCardId(e).subscribe(function(e){console.log(e),console.log(e[0].fileUrl),t.imageUrl=e[0].fileUrl,t.loader.close()},function(e){})}}]),e}()).\u0275fac=function(e){return new(e||ti)(m.Rb(f.h),m.Rb(u.a),m.Rb(b.b),m.Rb(ne.a))},ti.\u0275cmp=m.Lb({type:ti,selectors:[["app-digitalsign-summary"]],decls:13,vars:3,consts:[["fxLayoutAlign","end stretch","mat-dialog-close","",1,"close"],[1,"approval-details"],["visible","true","clas","paraFont"],[1,"card"],["alt","No Image",3,"src"],["mat-dialog-close","",1,"editButton",3,"routerLink"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"mat-icon"),m.Tc(2,"close"),m.Wb(),m.Wb(),m.Xb(3,"div",1),m.Xb(4,"fieldset"),m.Xb(5,"legend",2),m.Tc(6,"Digital Signing"),m.Wb(),m.Wb(),m.Xb(7,"mat-card",3),m.Xb(8,"div"),m.Xb(9,"div"),m.Sb(10,"img",4),m.Wb(),m.Wb(),m.Wb(),m.Xb(11,"p",5),m.Tc(12,"Edit"),m.Wb(),m.Wb()),2&e&&(m.Eb(10),m.rc("src",t.imageUrl,m.Jc),m.Eb(1),m.rc("routerLink",m.wc(2,oi)))},directives:[v.d,g.d,c.a,h.a,f.i],styles:[".editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.card[_ngcontent-%COMP%]{width:50%}"]}),ti);function si(e,t){1&e&&(m.Xb(0,"div",16),m.Sb(1,"mat-progress-bar",17),m.Xb(2,"p",18),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}function li(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",19),m.fc("click",function(){return m.Hc(r),m.jc().goToDigitalSign()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var ui=function(){return["/cardaccount/digitalsigning/options"]};function di(e,t){1&e&&(m.Xb(0,"a",20),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,ui))}var bi,mi=((bi=function(){function e(t,n,a,i){r(this,e),this.router=t,this.ls=n,this.dialog=a,this.cdr=i,this.informations=[{id:1,title:"1. Digital Signing",content:"Customer can either sign now or sign later",percentage:70,status:"Pending",state:"application/digital-sign/options",avatar:"assets/images/esign.jpg"}],this.isEsignScreen=!1}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.accountId=this.ls.getItem("accountId"),this.isEsignScreen=this.ls.getItem("eSignStage"),this.accountService.refresh.subscribe(function(t){e.accountId=e.ls.getItem("accountId"),e.isEsignScreen=e.ls.getItem("eSignStage"),e.cdr.markForCheck()})}},{key:"goToDetail",value:function(e){console.log(e),this.router.navigate(["/home/"+e.state])}},{key:"goToDigitalSign",value:function(){this.dialog.open(ci,{height:"55%",width:"40%",disableClose:!0}).afterClosed().subscribe(function(e){})}}]),e}()).\u0275fac=function(e){return new(e||bi)(m.Rb(f.h),m.Rb(u.a),m.Rb(g.b),m.Rb(m.h))},bi.\u0275cmp=m.Lb({type:bi,selectors:[["app-digital-signing"]],decls:28,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf"],["mat-button","","color","primary","class","pl-27",3,"routerLink",4,"ngIf"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",1,"pl-27",3,"click"],["mat-button","","color","primary",1,"pl-27",3,"routerLink"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Create New Card Account"),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"div",7),m.Xb(11,"div",8),m.Xb(12,"mat-card"),m.Xb(13,"mat-card-header"),m.Xb(14,"mat-card-title"),m.Tc(15,"1.Digital Signing"),m.Wb(),m.Wb(),m.Xb(16,"mat-card-content"),m.Xb(17,"div",9),m.Xb(18,"div",10),m.Xb(19,"p"),m.Tc(20," Customer can either sign now or sign later."),m.Wb(),m.Wb(),m.Xb(21,"div",11),m.Sb(22,"img",12),m.Wb(),m.Wb(),m.Rc(23,si,4,2,"div",13),m.Wb(),m.Sb(24,"mat-divider"),m.Xb(25,"mat-card-actions"),m.Rc(26,li,5,0,"ng-container",14),m.Rc(27,di,4,2,"a",15),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(22),m.rc("src","assets/images/svg/Mask Group 55.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isEsignScreen),m.Eb(3),m.rc("ngIf",t.isEsignScreen),m.Eb(1),m.rc("ngIf",!t.isEsignScreen))},directives:[v.e,v.b,h.a,h.e,h.h,h.d,v.f,v.d,o.n,O.a,h.b,Ve.a,y.b,c.a,y.a,f.k],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca;padding-left:15px}"]}),bi);function pi(e,t){if(1&e&&(m.Xb(0,"mat-option",29),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function gi(e,t){if(1&e&&(m.Xb(0,"mat-option",29),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function fi(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please select the User Recommendation "),m.Wb())}function hi(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," \xa0\xa0 Please enter valid Recommended Card Limit "),m.Wb())}var yi,vi=((yi=function(){function e(t,n,a,i,o,c,s,l,u){r(this,e),this.router=t,this.snack=n,this.cdr=a,this.apiService=i,this._location=o,this.ls=c,this.fb=s,this.accountService=l,this.currencyPipe=u,this.isAssessmentReport=!1,this.arrayUserRecommendation=["Recommended For Approval","Pending For Documents","Recommended for Review"],this.arraySystemRecommendation=["Recomended For Approval","Recommended For Reject"],this.curr="",this.isCardAssessmentStageDone=!1,this.currencySymbol=!0,this.currencySymbols=[{currency:"USD",symbol:"$"},{currency:"EUR",symbol:"\u20ac"},{currency:"JPY",symbol:"\xa5"},{currency:"GBP",symbol:"\xa3"},{currency:"ILS",symbol:"\u20aa"},{currency:"KRW",symbol:"\u20a9"},{currency:"NGN",symbol:"\u20a6"},{currency:"PHP",symbol:"\u20b1"},{currency:"PLN",symbol:"z\u0142"},{currency:"THB",symbol:"\u0e3f"},{currency:"UAH",symbol:"\u20b4"},{currency:"VND",symbol:"\u20ab"},{currency:"CNY",symbol:"\xa5"},{currency:"ZAR",symbol:"R"},{currency:"INR",symbol:"\u20b9"}]}return a(e,[{key:"ngOnInit",value:function(){this.curr=localStorage.getItem("Currency Type"),this.cardId=this.ls.getItem("cardId"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),this.buildAssessmentForm({}),0==this.isAssessmentReport?this.buildAssessmentForm():this.getCardAssessmentDetails()}},{key:"buildAssessmentForm",value:function(e,t){var r=this;if(this.assessmentForm=this.fb.group({cardId:[this.cardId],assessmentId:[e.assessmentId="1"],requestedCardLimit:[e.requestedCardLimit="15000"],systemRecommendation:[e?e.systemRecommendation:"",[d.A.required]],approvedCardLimit:[e.approvedCardLimit="10000"],userRecommendation:[e?e.userRecommendation:"",[d.A.required]],recommendedCardLimit:[e?e.recommendedCardLimit:"",[d.A.required]],remark:[e?e.remark:""]}),console.log("curr",this.curr),e){for(var n=0;n<this.currencySymbols.length;n++)this.currencyArr=this.currencySymbols.filter(function(e){return r.curr===e.currency}),console.log("this.currencyArr",this.currencyArr);this.currencySymboll=this.currencyArr[0].symbol,this.approvedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.approvedCardLimit,this.requestedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.requestedCardLimit,this.recommendedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.reccommendedCardLimit,this.assessmentForm.controls.approvedCardLimit.setValue(this.approvedCardLimit),this.assessmentForm.controls.requestedCardLimit.setValue(this.requestedCardLimit)}}},{key:"transformAmount",value:function(e){"INR"===this.curr?(console.log(this.currencySymbol),this.currencySymboll=this.currencyPipe.transform(this.currencySymboll,"\u20b9"),console.log(this.currencySymbol),e.target.value=this.currencySymboll):(this.currencySymboll=this.currencyPipe.transform(this.currencySymboll,"$"),e.target.value=this.currencySymboll),console.log(e.target.value)}},{key:"keyUpEvent",value:function(e){console.log("event",e.target.value);var t=e.target.value.toString().replace(/,/g,"").split(".");t[0]=t[0].replace(/\B(?=(\d{1})+(?!\d))/g,this.currencySymboll);var r=t.join(".");console.log("final",r),console.log("finalLength",r.length),this.assessmentForm.controls.recommendedCardLimit.setValue(r)}},{key:"_keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"getCardAssessmentDetails",value:function(){var e=this;this.apiService.fetchcardAssessmentDetailsById(this.cardId).subscribe(function(t){console.log(t),e.buildAssessmentForm(t,!0)})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"goNext",value:function(e){var t=this;console.log("val",e.approvedCardLimit),console.log("val.approvedCardLimit",e.approvedCardLimit.length),console.log("val",e.recommendedCardLimit),console.log("val.recommendedCardLimit",e.recommendedCardLimit.length),e.approvedCardLimit=e.approvedCardLimit.slice(2,e.approvedCardLimit.length-1),e.requestedCardLimit=e.requestedCardLimit.slice(2,e.requestedCardLimit.length-1),this.apiService.cardAssessmentDetails(e).subscribe(function(e){console.log("data",e),null!=e&&(t.snack.open("Assessment details saved successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.cdr.markForCheck())}),this.next()}},{key:"removeComma",value:function(e){var t=e.replace(/,/g,"");return console.log("numb",t),t}},{key:"next",value:function(){this.ls.setItem("CARD_ASSESSMENT_DONE",!0),this.ls.setItem("CARD_ASSESSMENT_STAGE_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/SupervisorApprovalStage/list"])}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/assessmentStage/list"])}}]),e}()).\u0275fac=function(e){return new(e||yi)(m.Rb(f.h),m.Rb(p.a),m.Rb(m.h),m.Rb(b.b),m.Rb(o.j),m.Rb(u.a),m.Rb(d.f),m.Rb(_.a),m.Rb(o.d))},yi.\u0275cmp=m.Lb({type:yi,selectors:[["app-cardaccount-application-assessment"]],decls:62,vars:7,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_13.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],["fxLayout","column"],["fxFlex","70%","fxLayoutGap","10px",1,"field"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],[1,"hint"],["matInput","","formControlName","requestedCardLimit","type","text","placeholder","Requested Card Limit","readonly","",1,"alignment",3,"keypress"],["fxFlex","48%",1,"flex-grow-1"],["formControlName","systemRecommendation","placeholder","Select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","userRecommendation","placeholder","Select"],[4,"ngIf"],["fxFlex","4"],["fxFlex","96","matInput","","formControlName","recommendedCardLimit","type","text","required","",1,"alignment",3,"keypress","blur"],["matInput","","formControlName","approvedCardLimit","type","text","placeholder","Approved Card Limit","readonly","","required","",1,"alignment",3,"keypress"],["matInput","","placeholder","Remarks","formControlName","remark","type","text",1,"alignment"],[1,"button"],["mat-stroked-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Assessment Report"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",2),m.Xb(10,"mat-card",7),m.Xb(11,"mat-card-title",8),m.Xb(12,"div",9),m.Tc(13," Assessment Details"),m.Sb(14,"mat-divider"),m.Wb(),m.Wb(),m.Xb(15,"div"),m.Xb(16,"form",10),m.Xb(17,"div",11),m.Xb(18,"div",12),m.Xb(19,"div",13),m.Xb(20,"mat-form-field",14),m.Xb(21,"mat-label",15),m.Tc(22,"Requested Card Limit *"),m.Wb(),m.Xb(23,"input",16),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(24,"div",17),m.Xb(25,"mat-form-field",14),m.Xb(26,"mat-label",15),m.Tc(27,"System Recommendation"),m.Wb(),m.Xb(28,"mat-select",18),m.Xb(29,"mat-option",19),m.Tc(30,"Select"),m.Wb(),m.Rc(31,pi,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(32,"div",12),m.Xb(33,"div",13),m.Xb(34,"mat-form-field",14),m.Xb(35,"mat-label",15),m.Tc(36,"User Recommendation *"),m.Wb(),m.Xb(37,"mat-select",21),m.Rc(38,gi,2,2,"mat-option",20),m.Wb(),m.Rc(39,fi,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Xb(40,"div",17),m.Xb(41,"mat-form-field",14),m.Xb(42,"mat-label",15),m.Tc(43,"Recommended Card Limit"),m.Wb(),m.Xb(44,"span",23),m.Tc(45),m.Wb(),m.Xb(46,"input",24),m.fc("keypress",function(e){return t.keyUpEvent(e)})("blur",function(e){return t.transformAmount(e)}),m.Wb(),m.Rc(47,hi,2,0,"mat-error",22),m.Wb(),m.Wb(),m.Wb(),m.Xb(48,"div",12),m.Xb(49,"div",13),m.Xb(50,"mat-form-field",14),m.Xb(51,"mat-label",15),m.Tc(52,"Approved Card Limit"),m.Wb(),m.Xb(53,"input",25),m.fc("keypress",function(e){return t._keyPress1(e)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(54,"div",17),m.Xb(55,"mat-form-field",14),m.Xb(56,"mat-label",15),m.Tc(57,"Remarks"),m.Wb(),m.Sb(58,"input",26),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(59,"div",27),m.Xb(60,"button",28),m.fc("click",function(){return t.goNext(t.assessmentForm.value)}),m.Tc(61," Next "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(16),m.rc("formGroup",t.assessmentForm),m.Eb(15),m.rc("ngForOf",t.arraySystemRecommendation),m.Eb(7),m.rc("ngForOf",t.arrayUserRecommendation),m.Eb(1),m.rc("ngIf",!t.assessmentForm.get("userRecommendation").valid&&t.assessmentForm.get("userRecommendation").touched),m.Eb(6),m.Uc(t.currencySymboll),m.Eb(2),m.rc("ngIf",t.assessmentForm.get("recommendedCardLimit").touched&&0==t.assessmentForm.get("recommendedCardLimit").value),m.Eb(13),m.rc("disabled",!t.assessmentForm.valid))},directives:[v.e,v.b,h.a,h.h,O.a,d.C,d.s,d.j,v.f,x.c,x.g,C.b,d.c,d.r,d.i,ze.a,Ge.n,o.m,o.n,d.z,y.b,x.b],styles:[".Back[_ngcontent-%COMP%]{margin:12px 0 12px -7%!important;color:#fff!important;background-color:#a0a0a0!important;border-radius:45px!important}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px!important}.Next[_ngcontent-%COMP%]{margin:12px -11% 12px 0!important;border-radius:55px!important}.field[_ngcontent-%COMP%]{margin-left:15px}.alignment[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-size:14px}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.type[_ngcontent-%COMP%]{text-transform:capitalize}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),yi),Ci=i("XNiG"),xi=i("IheW"),Wi=i("yb/K"),Xi=i("DyWe"),Ii=i("6slg"),ki=i("KYk2"),Si=i("uKq3");function Oi(e,t){if(1&e&&(m.Xb(0,"mat-card"),m.Xb(1,"label"),m.Xb(2,"span",15),m.Tc(3),m.Wb(),m.Tc(4),m.Wb(),m.Xb(5,"div"),m.Sb(6,"app-genric-document-upload",16),m.Wb(),m.Wb()),2&e){var r=t.$implicit,n=t.index,a=m.jc();m.Eb(3),m.Wc("Customer Name(",n+1,"/",a.docholder.length,") :"),m.Eb(1),m.Xc("\xa0\xa0 ",r.firstName,"\xa0",null==r?null:r.middleName,"\xa0",r.lastName,""),m.Eb(2),m.rc("screenInfo",a.screenInfo[n])}}var Di,Ti,Ai=((Ti=function(){function e(t,n,a,i,o,c,s,l,u,d,b,m,p,g,f){var h=this;r(this,e),this.http=t,this.tokenService=n,this.dialog=a,this.router=i,this.fb=o,this.snack=c,this.ls=s,this.shareDataService=l,this.cdr=u,this.api=d,this.dialogService=b,this.loader=m,this.accountService=p,this.appApiService=g,this.doOcrService=f,this.webcamImage=null,this.webcamImage1=null,this.scan1Array=[],this.scan2Array=[],this.scan3Array=[],this.customerId=null,this.frontImageArray=[],this.backImageArray=[],this.otherImageArray=[],this.otherDocumentArray=[],this.boxArray=[],this.document_type=["6","7","8"],this.custDocExist=!1,this.selectedOptions2=[],this.documentSide=null,this.frontImage=null,this.backImage=null,this.otherImage=null,this.secondBoxArray=[],this.thirdBoxArray=[],this.ocrResult="Recognizing...",this.selectedDocumentTypes2=[],this.nameOnCard=[],this.dobArray=[],this.idNumberArray=[],this.docarr=[],this.addressArray=[],this.dataFetched=!1,this.boxArray2=[],this.boxArray3=[],this.doc_name=[],this.docholder=[],this.docuNameArray=[],this.arrayOfImageArrays0=[],this.arrayOfImageArrays1=[],this.arrayOfImageArrays2=[],this.docValArray=[],this.docarray1=[],this.newOtherPage=!1,this.disableNextAtIndex1=!0,this.otherDocPages=[],this.otherDocumentArray2=[],this.isDocumentUploadDone=!1,this.isDocumentUpload=!1,this.screenInfo=[],this.ff=!1,this.bf=!1,this.docName="document_name",this.progressValFrontArray=[],this.progressValBackArray=[],this.progressValOthersArray=[],this.progressValOtherDocumentArray=[],this.customerDocs=[],this.trigger=new Ci.a,this.aadharParser=function(e){try{var t=function(){for(var t,r,n=2,a=e.replace(/[^\x00-\x7F]/g,"").trim().split("\n"),i=a.length-1;i>=0;i--){for(var o=0,c=-1,s=0;s<a[i].length;s++)a[i][s]>="0"&&a[i][s]<="9"&&(o++,-1===c&&(c=s));o>=12&&(t=a[i].substr(c,c+14))}for(var l=function(e){["DOB","Year of Birth"].some(function(t){var i=a[e].indexOf(t);-1!==i&&(r=a[e].trim().slice(i,a[e].length).split(" ").pop(),n=e-1,console.log(r))})},u=0;u<a.length;u++)l(u);var d=a[n].split(" ").filter(function(e){return e.length>1}).join(" ");return{v:(console.log(d),{dob:r,adharNumber:t,fullName:d})}}();if("object"==typeof t)return t.v}catch(r){console.log(r),console.error("Unable to parse aadhar")}},this.isDocumentOptionDisabled2=function(e){return h.selectedOptions2.includes(e)},this.panCardParser=function(e){try{var t=e.replace(/[^\x00-\x7F]/g,""),r=t.indexOf("Permanent"),n=t.indexOf("Name"),a=t.slice(r,n).match("[A-Z]{5}[0-9]{4}[A-Z]{1}")[0],i=t.indexOf("Father's Name :"),o=t.slice(n,i).split("\n")[1].split(" "),c=t.slice(t.indexOf("Date of Birth"),t.length).split("\n")[1].split(" ")[0];return{panNumber:a,name:"".concat(o[0]," ").concat(o[1]),dateOfBirth:c}}catch(s){console.log(s),console.error("Unable to parse pan card"),h.snack.open("Please Upload Valid Document","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}},this.passportParser=function(e){var t;try{var r,n,a=e.replace(/[^\x00-\x7F]/g,""),i=a.indexOf("Given Name"),o=a.slice(i,a.length).split("\n"),c=o.findIndex(function(e){return e.indexOf("Date of Issue")>-1})+1;if(c>0){var s=o[c].split(" ");r=s[s.length-2],n=s[s.length-2]}for(var l,u=a.indexOf("Nationality"),d=null===(t=a.slice(u,a.length))||void 0===t?void 0:t.split("\n")[1].split(" ").pop(),b=a.trim().split("\n"),m=b.length-1;m>=0;m--)if(b[m].includes("<")){l=b[m].substr(0,b[m].indexOf("<"));break}return{dob:d,name:o[1],issueNoString:l,dateOfIssue:r,dateOfExpiry:n}}catch(p){console.error("Unable to parse passport")}}}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(function(t){for(var r=0;r<=t.data.length;r++)e.screen={screenName:"Cad Document Upload",name:t.data[r].firstName,data:"",customerId:t.data[r].customerId,cifNumber:t.data[r].cifNumber},e.screenInfo.push(e.screen)}),console.log(this.screenInfo),this.customerId=sessionStorage.getItem("customer_id"),this.customer_Id=sessionStorage.getItem("customer_id"),this.addCustomer(),this.getCustomerInformationDetails(),this.documentForm=this.fb.group({documentName:["",[d.A.required]],frontSide:["",[d.A.required]],backSide:[""],others:[""],items:this.fb.array([this.inititemrows("")])}),this.doc_name=["Aadhar card","Pan card","Passport"],this.docValArray=["frontSide","backSide","others"],this.tokenService.getDropDownValues(this.docName).subscribe(function(t){e.document_name=t}),this.tokenService.getDropDownValues("document_type").subscribe(function(t){e.documentTypeArr=t}),this.api.getName().subscribe(function(t){e.assignName(t.name)}),this.api.getOCR().subscribe(function(e){}),this.shareDataService.getCustomerId.subscribe(function(t){e.api.getOCR().subscribe(function(t){console.log("ocr resp from backend ",t),e.assignOCRValues(t)}),console.log("cId=",t)}),this.doOcrService.getenableNext().subscribe(function(t){console.log("data disableNextAtIndex1 :: ",t),e.disableNextAtIndex1=t}),this.documentForm.valueChanges.subscribe(function(t){t.doc_list.length>0&&(console.log("data.doc_list.length",t.doc_list.length),e.selectedOptions2=[],t.doc_list.forEach(function(t,r){e.selectedOptions2.push(t.documentType)}))}),this.api.getKycDataFetchedInfo().subscribe(function(t){e.documentForm=e.fb.group({documentsList:e.fb.array([e.createItem()]),doc_list:e.fb.array("DATA FETCH"===t?[]:[e.createDocItem()]),id:[""],upload:["",[d.A.required]]}),"DATA FETCH"===t?(e.dataFetched=!0,e.dataFetchedValue=t):e.dataFetched=!1}),this.disableNext=!0}},{key:"addCustomer",value:function(){this.docarr.push(this.inititemrows(""))}},{key:"addCust",value:function(){this.docarr.push(this.inititemrows(""))}},{key:"inititemrows",value:function(e){return this.fb.group({id:e?e.id:[""],fileUrl:e?e.fileUrl:[""]})}},{key:"addDocumentlist",value:function(e){this.newOtherPage=!1,this.disableNext=!0;for(var t=0;t<=e.data.length-1;t++)this.documentsList=this.documentForm.get("documentsList"),this.documentsList.push(this.createItem()),this.doc_list.push(this.createDocItem())}},{key:"addDocuments",value:function(){this.newOtherPage=!1,this.disableNext=!0,this.documentsList=this.documentForm.get("documentsList"),this.documentsList.push(this.createItem()),this.doc_list.push(this.createDocItem())}},{key:"createDocItem",value:function(){return this.fb.group({documentName:["",[d.A.required]],frontSide:["",[d.A.required]],backSide:[""],others:[""],fileUrl:[""]})}},{key:"createItem",value:function(){return this.fb.group({id:[""],documentName:["",d.A.required],documentType:[""]})}},{key:"assignOCRValues",value:function(e){console.log(e),this.dob=e.dob,this.namePancard=e.namePancard,this.panNumber=e.panNumber,this.frontImageArray[0]=e.imageOCR,this.backImageArray[0]=e.imageOCRBack,e.imageOCRBack&&(this.backImageArray[0]=e.imageOCRBack,this.secondBoxArray[0]=!0,this.address=e.address,this.addressDisplay=!0,this.progressValBackArray[0]=100);var t=Object.values(e).some(function(e){return Boolean(e)});console.log("hasNonEmptyFields",t),t&&(this.documentForm.get("documentName").patchValue("Aadhar card"),console.log(this.documentForm.get("documentName")),this.progressValFrontArray[0]=100,this.disableNext=!0,this.pancard=!0)}},{key:"delete",value:function(e,t,r){this.docum_name=e.documentName,this.customerId=sessionStorage.getItem("customer_id"),2==t&&(this.secondBoxArray[r]=!1,this.addressDisplay=!1,this.progressValBackArray[r]=0,this.backImageArray[r]=null,this.backSelected=null,this.document_side=t,this.api.deleteCustDoc(this.customerId,this.docum_name,this.document_side).subscribe(function(e){})),3==t&&(this.thirdBoxArray[r]=!1,this.progressValOthersArray[r]=0,this.otherImageArray[r]=null,this.othersSelected=null,this.document_side=t,this.api.deleteCustDoc(this.customerId,this.docum_name,this.document_side).subscribe(function(e){})),this.disableNext=!1}},{key:"getCustomerInformationDetails",value:function(){var e=this;this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(function(t){console.log(t.data),console.log(t.data.customerId),e.docholder=t.data;for(var r=0;r<=t.data.length-1;r++)e.getCustomerDocuments(t.data[r].customerId);console.log(e.docholder),e.addDocumentlist(t)},function(e){})}},{key:"deleteOtherDocument",value:function(e,t,r){this.docum_name=e.documentName,this.customerId=sessionStorage.getItem("customer_id"),this.newDocumentSide=r+4,this.docarray1[t][r]&&(this.docarray1[t].pop(),this.otherDocumentArray[t][r]=null),this.api.deleteCustDoc(this.customerId,this.docum_name,this.newDocumentSide).subscribe(function(e){})}},{key:"assignName",value:function(e){this.name=e.toLowerCase()}},{key:"addotherpage",value:function(e){if(this.docarray1[e])this.docarray1[e].push(this.inititemrows(""));else{var t=[this.inititemrows("")];this.docarray1[e]=t,this.otherDocumentArray[e]=[],this.progressValOtherDocumentArray[e]=[]}}},{key:"createOtherForm",value:function(e){return this.fb.group({id:[""],fileData:e?e.fileData:[""],fileUrl:e?e.fileUrl:[""]})}},{key:"goNext",value:function(){this.ls.setItem("CARD_DOCUMENT_STAGE_DONE",!0),this.ls.setItem("CARD_DOCUMENT_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/documentupload/list"])}},{key:"triggerSnapshot",value:function(e){this.trigger.next(),this.scan1Array[e]=!1,this.scan2Array[e]=!1,this.scan3Array[e]=!1}},{key:"callingBox2",value:function(e){this.secondBoxArray[e]=!0,this.disableNext=!0,console.log(this.secondBoxArray[e])}},{key:"callingBox3",value:function(e){this.thirdBoxArray[e]=!0,this.disableNext=!0,this.newOtherPage=!0}},{key:"doOCR",value:function(e,t,r,n,a){var i,o,c,s=this,l=Object(Wi.createWorker)({logger:function(e){return console.log(e)}});i=s,c=regeneratorRuntime.mark(function i(){var o,c,s,u,d,b,m,p,g,f,h=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this.loader.open(),i.next=3,l.load();case 3:return i.next=5,l.loadLanguage("eng");case 5:return i.next=7,l.initialize("eng");case 7:return i.next=9,l.recognize(e);case 9:if(o=i.sent,c=o.data.text,this.loader.close(),3===n){i.next=39;break}if(!(n>3)){i.next=16;break}this.uploadDoc(e,r,t,n,a),i.next=37;break;case 16:if("Pan card"===this.documentForm.value.documentsList[a].documentName&&(s=this.panCardParser(c),this.nameDoc=s.name.toLowerCase()),"Passport"!=this.documentForm.value.documentsList[a].documentName){i.next=21;break}if(u=this.passportParser(c),this.nameDoc=u.name.toLowerCase(),this.nameDoc){i.next=21;break}return i.abrupt("return",void this.shotToast("The document is not a valid Passport"));case 21:if("Aadhar card"!=this.documentForm.value.documentsList[a].documentName||"1"!=n){i.next=25;break}if(d=this.aadharParser(c),this.nameDoc=d.fullName.toLowerCase(),!1!==/^([a-z]){2,30}$/.test(this.nameDoc.replace(/\s/g,""))){i.next=25;break}return i.abrupt("return",void this.shotToast("The document is not a valid Aadhar card"));case 25:if("Aadhar card"!=this.documentForm.value.documentsList[a].documentName||"2"!=n){i.next=34;break}for(this.aadharParser(c),b=c.split(","),m=0;m<b.length;m++)b[m]=b[m].replace(/[^a-zA-Z ]/g,""),console.log("array after removing special characters ",b[m]);if(void 0===b[2]&&(b[2]=""),void 0===b[5]&&(b[5]=""),void 0===b[6]&&(b[6]=""),void 0===b[7]&&(b[7]=""),void 0!==b[2]||void 0!==b[5]||void 0!==b[6]||void 0!==b[7]){i.next=31;break}return i.abrupt("return",void(this.addressDisplay=!1));case 31:if(""!==b[2]||""!==b[5]||""!==b[6]||""!==b[7]){i.next=33;break}return i.abrupt("return",void(this.addressDisplay=!1));case 33:this.addressArray[a]=b[3]+","+b[5]+","+b[7],this.addressDisplay=!0,this.uploadDoc(e,r,t,n,a);case 34:return console.log(c.includes(this.name)),this.ocrFlag=c.includes(this.name),"1"==n&&this.nameDoc.replace(/\s/g,"")!==this.name.replace(/\s/g,"")?this.dialogService.confirmationDialog(this.nameDoc,this.name).subscribe(function(i){if(console.log(i),"No"==i&&h.changeValue2_Ocr(t,a),"Yes"==i){if("Pan card"==h.documentForm.value.documentsList[a].documentName){var o=h.panCardParser(c);h.nameOnCard[a]=o.name.toLowerCase(),h.dobArray[a]=o.dateOfBirth,h.idNumberArray[a]=o.panNumber,h.pancard=!0,h.uploadDoc(e,r,t,n,a)}if("Passport"==h.documentForm.value.documentsList[a].documentName){var s=h.passportParser(c);h.nameOnCard[a]=s.name.toLowerCase(),h.dobArray[a]=s.dob,h.idNumberArray[a]=s.issueNoString,h.dateOfIssue=s.dateOfIssue,h.dateOfExpiry=s.dateOfExpiry,h.pancard=!0,h.uploadDoc(e,r,t,n,a)}if("Aadhar card"==h.documentForm.value.documentsList[a].documentName){var l=h.aadharParser(c);h.nameOnCard[a]=l.fullName.toLowerCase(),h.dobArray[a]=l.dob,h.idNumberArray[a]=l.adharNumber,h.pancard=!0,h.uploadDoc(e,r,t,n,a)}else h.uploadDoc(e,r,t,n,a)}}):"1"==n&&this.nameDoc.replace(/\s/g,"")==this.name.replace(/\s/g,"")&&("Pan card"==this.documentForm.value.documentsList[a].documentName&&(p=this.panCardParser(c),this.nameOnCard[a]=p.name.toLowerCase(),this.dobArray[a]=p.dateOfBirth,this.idNumberArray[a]=p.panNumber,this.pancard=!0,this.uploadDoc(e,r,t,n,a)),"Passport"==this.documentForm.value.documentsList[a].documentName&&(g=this.passportParser(c),this.nameOnCard[a]=g.name.toLowerCase(),this.dobArray[a]=g.dob,this.idNumberArray[a]=g.issueNoString,this.dateOfIssue=g.dateOfIssue,this.dateOfExpiry=g.dateOfExpiry,this.pancard=!0,this.uploadDoc(e,r,t,n,a)),"Aadhar card"==this.documentForm.value.documentsList[a].documentName?(f=this.aadharParser(c),this.nameOnCard[a]=f.fullName.toLowerCase(),this.dobArray[a]=f.dob,this.idNumberArray[a]=f.adharNumber,this.pancard=!0,this.uploadDoc(e,r,t,n,a)):this.uploadDoc(e,r,t,n,a)),i.next=37,l.terminate();case 37:i.next=40;break;case 39:this.uploadDoc(e,r,t,n,a);case 40:case"end":return i.stop()}},i,this)}),new((o=void 0)||(o=Promise))(function(e,t){function r(e){try{a(c.next(e))}catch(r){t(r)}}function n(e){try{a(c.throw(e))}catch(r){t(r)}}function a(t){var a;t.done?e(t.value):(a=t.value,a instanceof o?a:new o(function(e){e(a)})).then(r,n)}a((c=c.apply(i,[])).next())})}},{key:"handleImage",value:function(e,t){this.webcamImage=e,this.fun(this.webcamImage,t)}},{key:"handleImage1",value:function(e,t){this.webcamImage1=e,this.fun1(this.webcamImage1,t)}},{key:"changeValue2",value:function(e,t){var r=this;this.disableNext=!0,this.selectedDocumentTypes2[t]&&(this.selectedOptions2=this.selectedOptions2.filter(function(e){return e!==r.selectedDocumentTypes2[t]})),this.selectedDocumentTypes2[t]=e,this.selectedOptions2.push(e),this.secondBoxArray[t]=!1,this.thirdBoxArray[t]=!1,this.frontImageArray[t]="",this.backImageArray[t]="",this.otherImageArray[t]="",this.backSelected="",this.frontSelected="",this.othersSelected="",this.progressValFrontArray[t]=0,this.progressValBackArray[t]=0,this.pancard=!1,console.log("i=",t)}},{key:"changeValue2_Ocr",value:function(e,t){"frontSide"===e&&(this.frontImageArray[t]="",this.frontSelected="",this.progressValFrontArray[t]=0),"backSide"===e&&(this.secondBoxArray[t]=!1,this.backImageArray[t]="",this.backSelected="",this.progressValBackArray[t]=0),"others"===e&&(this.thirdBoxArray[t]=!1,this.otherImageArray[t]="",this.othersSelected="",this.progressValOthersArray[t]=0,this.disableNext=!0)}},{key:"j",value:function(e,t){throw new Error("Method not implemented.")}},{key:"handleImage2",value:function(e,t){console.log(t),this.webcamImage2=e,this.function2(this.webcamImage2,t)}},{key:"function2",value:function(e,t){var r=this;console.log(t);var n=new FormData,a={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:e._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:3,idNumber:this.panNumber};console.log(e.imageAsDataUrl),this.otherImageArray[t]=e.imageAsDataUrl,this.displayVal2=!1;var i=this.dataURLtoFile(e.imageAsDataUrl,"Aadhar");n.append("data",JSON.stringify(a)),n.append("file",i),this.tokenService.upload(n).subscribe(function(e){r.progressValOthersArray[t]=100,4===e.type&&e.body&&(console.log("res.body.id",e.body.id),r.assignIdValues("others",e.body.id)),r.documentForm.get("backSide").patchValue(!0)},function(e){201==e.status&&(r.ff=!0,r.documentForm.get("backSide").patchValue(!0),r.shotToast("Document Uploaded!"))})}},{key:"triggerObservable",get:function(){return this.trigger.asObservable()}},{key:"tabClick",value:function(e){var t=e.tab.textLabel;"Documents Upload"===t&&this.router.navigateByUrl("/others/documents"),"verification"===t&&this.router.navigateByUrl("/others/verification"),"Basic Information"===t&&this.router.navigateByUrl("/others/kyc")}},{key:"onNext",value:function(e){this.documentForm.reset(),this.tokenService.setIndex({index:2}),this.tokenService.setFinishFlag({finishFlag:!0}),this.updateKycStatus(),localStorage.setItem("page_id","2")}},{key:"getCustomerDocuments",value:function(e){var t=this,r=function(r){if(Object.prototype.hasOwnProperty.call(t.document_type,r)){var n=t.document_type[r];console.log(n,r,e),t.tokenService.getCustomerDocuments(e,n).subscribe(function(e){console.log(r,e,t.documentForm),t.customerDocs=e,t.docuNameArray=["Aadhar card","Pan card","Passport"],console.log(t.documentForm.controls.documentsList.controls),t.documentForm.controls.documentsList.controls[0].controls.documentName.setValue(t.docuNameArray[0]),t.doc_name=["Aadhar card","Pan card","Passport"];for(var n=0;n<t.customerDocs.length;n++){if(t.customerDocs[n]){console.log(t.customerDocs[n].documentName);for(var a=0;a<3;a++)t.customerDocs[n].documentName==t.doc_name[a]&&1==t.customerDocs[n].documentSide&&(t.frontImageArray[a]=t.customerDocs[n].fileUrl,t.progressValFrontArray[a]=100,console.log("index",a));for(var i=0;i<3;i++)t.customerDocs[n].documentName==t.doc_name[i]&&2==t.customerDocs[n].documentSide&&(t.backImageArray[i]=t.customerDocs[n].fileUrl,t.progressValBackArray[i]=100,t.secondBoxArray[i]=!0);for(var o=0;o<3;o++)t.customerDocs[n].documentName==t.doc_name[o]&&3==t.customerDocs[n].documentSide&&(t.otherImageArray[o]=t.customerDocs[n].fileUrl,t.progressValOthersArray[o]=100,t.thirdBoxArray[o]=!0);for(var c=0;c<3;c++)if(t.customerDocs[n].documentName==t.doc_name[c]&&t.customerDocs[n].documentSide>3){if(t.fetchChildIndex=t.customerDocs[n].documentSide-4,t.newOtherPage=!0,t.docarray1[c])t.docarray1[c].push(t.inititemrows(""));else{var s=[t.inititemrows("")];t.docarray1[c]=s,t.otherDocumentArray[c]=[]}t.otherDocumentArray[c][t.fetchChildIndex]=t.customerDocs[n].fileUrl,console.log("this.otherDocumentArray",t.otherDocumentArray)}}t.disableNext=!1}if(t.customerDocs.length>0){if(t.page_id=t.ls.getItem("page_id"),console.log(t.page_id),"Pan card"==t.customerDocs[0].documentName&&2!==t.page_id){var l=document.getElementById("auto_trigger");l&&(console.log(l),l.click()),t.disableNext=!1}if(t.documentForm.controls.documentsList.controls[1].controls.documentName.setValue(t.docuNameArray[1]),"Passport"==t.customerDocs[0].documentName&&2!==t.page_id){var u=document.getElementById("auto_trigger");u&&(console.log(u),u.click()),t.disableNext=!1}t.documentForm.controls.documentsList.controls[2].controls.documentName.setValue(t.docuNameArray[2]),"Pan card"==t.frontImage.documentName&&(t.panNumber=t.customerDocs.find(function(e){return 2==e.documentSide}).idNumber),"Aadhar card"==t.frontImage.documentName&&(t.panNumber=t.customerDocs.find(function(e){return 1==e.documentSide}).idNumber),t.panNumber&&(t.pancard=!0),null!=t.frontImage&&(t.progressValFrontArray[0]=100),null!=t.backImage&&(t.progressValBackArray[0]=100),null!=t.otherImage&&(t.progressValOthersArray[0]=100),t.documentForm.patchValue({documentName:t.customerDocs[0].documentName,frontSide:t.customerDocs[0].documentName,backSide:t.customerDocs[0].documentName}),console.log(t.customerDocs[0].documentName)}t.cdr.markForCheck(),console.log("end of api")})}};for(var n in this.document_type)r(n);this.custId=e}},{key:"convertBlob",value:function(e){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpeg;base64,"+e)}},{key:"updateKycStatus",value:function(){this.tokenService.updateKycStatusByCustId(this.customer_Id,"UNDER_PROCESS","").subscribe(function(e){console.log("update response :: ",e)})}},{key:"previous",value:function(){this.tokenService.setIndex({index:0})}},{key:"openDialog",value:function(){this.dialog.open(Xi.a,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"scan",value:function(e){this.scan1Array[e]=!0,this.scan2Array[e]=!1,this.scan3Array[e]=!1,this.disableNext=!1}},{key:"scan12",value:function(e){this.scan1Array[e]=!1,this.scan2Array[e]=!0,this.scan3Array[e]=!1,this.disableNext=!1}},{key:"scan13",value:function(e){this.scan1Array[e]=!1,this.scan2Array[e]=!1,this.scan3Array[e]=!0,this.disableNext=!1}},{key:"fun",value:function(e,t){var r=this,n=new FormData,a={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:e._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:1,idNumber:this.panNumber};this.frontImageArray[t]=e.imageAsDataUrl,this.displayVal=!1;var i=this.dataURLtoFile(e.imageAsDataUrl,"Aadhar");n.append("data",JSON.stringify(a)),n.append("file",i),this.tokenService.upload(n).subscribe(function(e){r.progressValFrontArray[t]=100,r.documentForm.get("frontSide").patchValue(!0)},function(e){201==e.status&&(r.bf=!0,r.documentForm.get("frontSide").patchValue(!0),r.shotToast("Document Uploaded!"))})}},{key:"fun1",value:function(e,t){var r=this;console.log("inside fun1");var n=new FormData,a={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:e._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:2,idNumber:this.panNumber};this.backImageArray[t]=e.imageAsDataUrl,this.displayVal1=!1;var i=this.dataURLtoFile(e.imageAsDataUrl,"Aadhar");n.append("data",JSON.stringify(a)),n.append("file",i),this.tokenService.upload(n).subscribe(function(e){r.progressValBackArray[t]=100,4===e.type&&e.body&&(console.log("res.body.id",e.body.id),r.assignIdValues("backSide",e.body.id)),r.documentForm.get("backSide").patchValue(!0)},function(e){201==e.status&&(r.ff=!0,r.documentForm.get("backSide").patchValue(!0),r.shotToast("Document Uploaded!"))})}},{key:"dataURLtoFile",value:function(e,t){for(var r=e.split(","),n=r[0].match(/:(.*?);/)[1],a=atob(r[1]),i=a.length,o=new Uint8Array(i);i--;)o[i]=a.charCodeAt(i);return new File([o],t,{type:n})}},{key:"assign",value:function(e){this.customerId=e}},{key:"onUpload",value:function(e,t,r,n,a){var i=this;if(console.log(a),this.newDocumentSide=r,this.childindex=r-4,console.log(e,t,r),"frontSide"===t&&(this.progressValFrontArray[n]=0),"backSide"===t&&(this.progressValBackArray[n]=0),"others"===t&&(this.progressValOthersArray[n]=0),this.selectedFiles=e.target.files[0],this.shotToast("Your file size is "+this.formatBytes(e.target.files[0].size,2)),e.target.files){var o=new FileReader;o.readAsDataURL(e.target.files[0]),o.onload=function(e){i.image=e.target.result,"backSide"===t&&(i.backSelected=i.selectedFiles.name,i.doOCR(i.image,t,i.selectedFiles,r,n),i.displayVal1=!0),"frontSide"===t&&(i.frontSelected=i.selectedFiles.name,i.doOCR(i.image,t,i.selectedFiles,r,n),i.displayVal=!0),"others"===t&&(i.othersSelected=i.selectedFiles.name,i.doOCR(i.image,t,i.selectedFiles,r,n),i.displayVal2=!0),"otherDocument"===t&&(i.otherDocumentSelected=i.selectedFiles.name,i.otherDocumentArray[n][i.childindex]=i.image,console.log("final document",i.docarray1),i.doOCR(i.otherDocumentArray[n][i.childindex],t,i.selectedFiles,r,n))}}this.disableNext=!1}},{key:"formatBytes",value:function(e,t){if(0===e)return"0 Bytes";var r=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}},{key:"uploadDoc",value:function(e,t,r,n,a){var i=this;this.childindex=n-4,console.log("URL ---- ",t);var o=new FormData;"Aadhar card"===this.documentForm.value.documentsList[a].documentName&&(this.docType="6"),"Pan card"===this.documentForm.value.documentsList[a].documentName&&(this.docType="7"),"Passport"===this.documentForm.value.documentsList[a].documentName&&(this.docType="8");var c={customerId:this.docholder[a].customerId,documentName:this.documentForm.value.documentsList[a].documentName,documentType:this.docType,fileType:t.type,fileName:t.name,verificationType:"KYC verification",documentSide:n,idNumber:this.panNumber,name:this.namePancard,dob:this.dob};o.append("data",JSON.stringify(c)),o.append("file",t),console.log("URL -- ",t.name,c,o),this.uploadSub=this.tokenService.upload(o).subscribe(function(t){console.log("Response -- ",t),"backSide"===r?t.type&&t.type==xi.e.UploadProgress&&(i.progressValBackArray[a]=Math.round(t.loaded/t.total*100),i.backImageArray[a]=e):"frontSide"===r?t.type&&t.type==xi.e.UploadProgress&&(i.progressValFrontArray[a]=Math.round(t.loaded/t.total*100),i.frontImageArray[a]=e):"others"===r&&t.type&&t.type==xi.e.UploadProgress&&(i.progressValOthersArray[a]=Math.round(t.loaded/t.total*100),console.log("uploadProgress others",i.progressValOthersArray[a]),i.otherImageArray[a]=e),t.body&&(console.log("res.body.id",t.body.id),i.assignIdValues(r,t.body.id),i.documentForm.get(r).patchValue(!0),i.shotToast("Document Uploaded!"))},function(e){201==e.status?(i.documentForm.get(r).patchValue(!0),i.shotToast("Document Uploaded!")):"backSide"===r?(i.progressValBackArray[a]=0,i.backImageArray[a]=null,i.backSelected=null,i.shotToast(e.message)):(i.progressValFrontArray[a]=0,i.frontImageArray[a]=null,i.frontSelected=null,i.shotToast(e.message))})}},{key:"assignIdValues",value:function(e,t){console.log(e),"backSide"===e&&(this.backSideId=t),"others"===e&&(this.otherSideId=t),"otherDocument"===e&&(this.otherDocumentSideId=t)}},{key:"ngOnDestroy",value:function(){this.shareDataService.shareCustomerId(null)}},{key:"cancelUpload",value:function(e){this.uploadSub.unsubscribe(),this.shotToast("Document Uploaded Cancelled!"),"backSide"==e?(this.progressValBackArray[0]=0,this.backImageArray[0]=null,this.backSelected=null):(this.progressValFrontArray[0]=0,this.frontImageArray[0]=null,this.frontSelected=null)}},{key:"shotToast",value:function(e){this.snack.open(""+e,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"deleteDocument",value:function(e,t){console.log(this.customerId,e,t),this.customerId=this.ls.getItem("customerId");var r=this.documentForm.get("documentsList");console.log(r),r.removeAt(t),this.api.delCustDoc(this.customerId,e.documentName).subscribe(function(e){console.log("data after delete",e)})}},{key:"next",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"uploadLink",value:function(){var e=this;this.api.uploadDocLink(b.c,this.custId).subscribe(function(t){console.log("uploadDocLink",t),(""!=t||null==t||null!=t)&&(console.log("uploadDocLink",t),e.dialog.open(Ii.a,{width:"35%",backdropClass:"dialog-bg-trans",height:"50%",disableClose:!0}).afterClosed().subscribe(function(e){console.log("The dialog was closed",e)}))})}}]),e}()).\u0275fac=function(e){return new(e||Ti)(m.Rb(xi.c),m.Rb(b.b),m.Rb(g.b),m.Rb(f.h),m.Rb(d.f),m.Rb(p.a),m.Rb(u.a),m.Rb(Ae.a),m.Rb(m.h),m.Rb(b.b),m.Rb(se.a),m.Rb(ne.a),m.Rb(_.a),m.Rb(je.a),m.Rb(ki.a))},Ti.\u0275cmp=m.Lb({type:Ti,selectors:[["app-document-details"]],viewQuery:function(e,t){var r;1&e&&m.ad(Ve.a,!0),2&e&&m.Cc(r=m.gc())&&(t.progressBar=r.first)},decls:20,vars:2,consts:[[1,"matcard-size"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask Group 6.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"ml-16"],[1,"mt-24"],[4,"ngFor","ngForOf"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[2,"font-size","20px"],[3,"screenInfo"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Document Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Xb(10,"h2",8),m.Tc(11,"Document Details"),m.Wb(),m.Sb(12,"div",9),m.Rc(13,Oi,7,6,"mat-card",10),m.Wb(),m.Xb(14,"div",11),m.Xb(15,"button",12),m.fc("click",function(){return t.goBack()}),m.Tc(16,"BACK"),m.Wb(),m.Sb(17,"span",13),m.Xb(18,"button",14),m.fc("click",function(){return t.goNext()}),m.Tc(19,"Next"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(13),m.rc("ngForOf",t.docholder),m.Eb(5),m.rc("disabled",t.disableNextAtIndex1))},directives:[v.e,v.b,o.m,y.b,h.a,Si.a],styles:[".breadcrumb[_ngcontent-%COMP%]{position:fixed;top:40px;width:100%;background-color:#fff}.link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;color:#456efe;font-size:small;align-self:center}.head[_ngcontent-%COMP%]{background-color:#fff}.snapShot[_ngcontent-%COMP%]{margin-top:2%}.panCradDiv[_ngcontent-%COMP%]{height:30%;right:0;width:200px}.backIcon[_ngcontent-%COMP%]{color:red;float:right}.app-container[_ngcontent-%COMP%]{height:100%;width:100%}.basic-container[_ngcontent-%COMP%]{padding:5px}.main-head[_ngcontent-%COMP%]{padding-left:5%;padding-top:16px;padding-bottom:0}mat-tab-group[_ngcontent-%COMP%]{padding-left:2%}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;height:60vh;border:1px solid #000;padding:10px 5px;box-sizing:border-box}.flex-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0 5px;box-sizing:border-box}.flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){margin-top:5px}.flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){flex:1}.formField1[_ngcontent-%COMP%]{flex-grow:1;width:50px}.formField[_ngcontent-%COMP%], .formField2[_ngcontent-%COMP%]{flex-grow:1;width:100%}#row[_ngcontent-%COMP%]{font-size:9px;color:#2680eb}mat-hint[_ngcontent-%COMP%]{font-size:10px;margin-bottom:-12px;display:block}.inputMatcard[_ngcontent-%COMP%]{max-width:500px;padding:10px}.inputMatcard[_ngcontent-%COMP%], .inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;width:100%}.inputMatcard1[_ngcontent-%COMP%]{padding:18px}.inputMatcard2[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;width:20px}.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.inputClass[_ngcontent-%COMP%]{border-style:hidden;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);font-weight:bolder}[_nghost-%COMP%]     .mat-form-field-outline-end, [_nghost-%COMP%]     .mat-form-field-outline-gap, [_nghost-%COMP%]     div.mat-form-field-outline-start{border-color:0!important;border-width:0!important}.form[_ngcontent-%COMP%]{gap:20px;justify-content:space-between}.form[_ngcontent-%COMP%], .form1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.form1[_ngcontent-%COMP%]{gap:50px;height:400px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.matCard[_ngcontent-%COMP%]{max-width:1200px;align-items:center;justify-content:center;margin:10px auto 3%}.mat-form-field-flex[_ngcontent-%COMP%]{box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902)}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}mat-label[_ngcontent-%COMP%]{font-weight:700;font-size:12px;letter-spacing:0}.matSelect[_ngcontent-%COMP%]{margin-left:20%;width:80px;font-weight:lighter;font-size:10px;letter-spacing:0;color:#000;background-color:#f4f8f7}.dived[_ngcontent-%COMP%], .matSelect[_ngcontent-%COMP%]{padding-top:10px}.scanButton[_ngcontent-%COMP%]{width:80px;display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:50px;border-radius:5px}.matIcon[_ngcontent-%COMP%]{font-size:30px}.insertDriveImg[_ngcontent-%COMP%], .matIcon[_ngcontent-%COMP%]{color:#456efe;display:block;margin:auto}.insertDriveImg[_ngcontent-%COMP%]{padding-top:30px;width:120px;height:120px;text-align:center}.flex-grow-2[_ngcontent-%COMP%]{padding:40px 50px;border:2px dashed #d3d3d3;border-radius:10px}.flex-grow-2[_ngcontent-%COMP%], .flex-grow-Upload[_ngcontent-%COMP%]{margin-bottom:5%}.alignment[_ngcontent-%COMP%]{border-style:none!important}.line[_ngcontent-%COMP%]{border:thick;border-style:solid;border-block-width:unset;color:#00f;color:#6988f6;width:40px;border-radius:5px;margin:initial;margin-bottom:20px}.uploadField[_ngcontent-%COMP%]{font-size:large}input[_ngcontent-%COMP%]{width:80%;color:#374664;opacity:1%;font-weight:600}.mat-tab-group.mat-primary[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-group.mat-primary[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus{background:red}.mat-tab-label-active[_ngcontent-%COMP%]{color:green}  .mat-tab-label-active{color:#6988f6!important}.verification[_ngcontent-%COMP%]{float:right;color:#2a59e7}  .mat-tab-group.mat-primary .mat-ink-bar{background-color:#6988f6!important;height:4px}mat-tab-label[_ngcontent-%COMP%]{font-size:8px}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.line[_ngcontent-%COMP%]{flex:1}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}figure[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border-radius:50px;font-size:25px;text-align:center;margin-right:10px;background:#fff;line-height:1.7em}figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;width:30px;height:auto}.close[_ngcontent-%COMP%]{border-style:none;background-color:#fff;position:relative;top:10px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -12%;width:150px;color:#a9a9a9;border-radius:45px}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}.insertDrive[_ngcontent-%COMP%]{color:#456efe;display:block;margin:auto;font-size:25px}.progressDiv[_ngcontent-%COMP%]{flex-grow:1;align-self:flex-end}.progress[_ngcontent-%COMP%]{text-align:end;font-size:7px}.formSectionContainer[_ngcontent-%COMP%]{gap:40px;display:grid;grid-template-columns:200px auto}@media (max-width:768px){.formSectionContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}}.formImg[_ngcontent-%COMP%]{background-color:green;max-height:100px}.dropDown[_ngcontent-%COMP%]{display:block}.mat-radio-button.mat-accent.mat-radio-checked[_ngcontent-%COMP%]   .mat-radio-outer-circle[_ngcontent-%COMP%]{border-color:#4286f4!important}.mat-radio-button.mat-accent[_ngcontent-%COMP%]   .mat-radio-inner-circle[_ngcontent-%COMP%]{color:#4286f4;background-color:#4286f4}  .egret-navy .mat-progress-bar-buffer{background-color:#add8e6!important}  .egret-navy .mat-progress-bar-fill:after{background-color:#00f!important}#sides[_ngcontent-%COMP%]{width:100px}#box[_ngcontent-%COMP%]{display:flex}.Back[_ngcontent-%COMP%]{background-color:grey;color:#fff}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}button[disabled][_ngcontent-%COMP%]{color:#666}.docimg[_ngcontent-%COMP%]{height:100px;width:100%;-o-object-fit:cover;object-fit:cover}.errbd[_ngcontent-%COMP%]{border:1px solid red}.sub_div[_ngcontent-%COMP%]{position:absolute;bottom:0}p[_ngcontent-%COMP%]{margin-left:300px}.button_2[_ngcontent-%COMP%]{margin-left:600px;bottom:100px}.button_2[_ngcontent-%COMP%], .button_3[_ngcontent-%COMP%]{position:relative;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.button_3[_ngcontent-%COMP%]{bottom:50px}"]}),Ti),Ei=((Di=function(){function e(t){r(this,e),this.router=t,this.isLoanApplicationEntryDone=!1,this.isLoanDetailScreen=!1,this.isDocumentUploadDone=!1,this.isDocumentUpload=!1}return a(e,[{key:"ngOnInit",value:function(){}},{key:"documentdetails",value:function(){this.router.navigate(["/cardaccount/documentupload/list/document-details"])}}]),e}()).\u0275fac=function(e){return new(e||Di)(m.Rb(f.h))},Di.\u0275cmp=m.Lb({type:Di,selectors:[["app-document-upload"]],decls:30,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",2,"padding-left","17px"],[1,"colour"],["fxFlex","50%"],[1,"card-img",3,"src"],["mat-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Create New Card Account"),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"div",7),m.Xb(11,"div",8),m.Xb(12,"mat-card"),m.Xb(13,"mat-card-header"),m.Xb(14,"mat-card-title"),m.Tc(15,"1. Document Upload"),m.Wb(),m.Wb(),m.Xb(16,"mat-card-content"),m.Xb(17,"div",9),m.Xb(18,"div",10),m.Xb(19,"p",11),m.Tc(20," All the necessary documents required for the application can be uploaded. "),m.Wb(),m.Wb(),m.Xb(21,"div",12),m.Sb(22,"img",13),m.Wb(),m.Wb(),m.Wb(),m.Sb(23,"mat-divider"),m.Xb(24,"mat-card-actions"),m.Vb(25),m.Xb(26,"button",14),m.fc("click",function(){return t.documentdetails()}),m.Tc(27," Add Details "),m.Xb(28,"mat-icon"),m.Tc(29,"chevron_right"),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(22),m.rc("src","assets/images/svg/Mask Group 6.svg",m.Jc))},directives:[v.e,v.b,h.a,h.e,h.h,h.d,v.f,v.d,O.a,h.b,y.b,c.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.colour[_ngcontent-%COMP%]{color:#cacaca}"]}),Di);function _i(e,t){if(1&e&&(m.Xb(0,"mat-option",29),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function wi(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Select Account Type "),m.Wb())}function Pi(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter valid Product ID "),m.Wb())}function Ni(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Account Currency "),m.Wb())}function Ri(e,t){if(1&e&&(m.Xb(0,"mat-option",29),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Fi(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Select user Recommendation "),m.Wb())}function Mi(e,t){if(1&e&&(m.Xb(0,"mat-option",29),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r.branchName),m.Eb(1),m.Vc(" ",r.branchName," ")}}function Li(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Select Account Branch "),m.Wb())}function Vi(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter valid Product Name "),m.Wb())}function Bi(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter valid Existing Value "),m.Wb())}function ji(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter Remarks "),m.Wb())}var qi,Ui=((qi=function(){function e(t,n,a,i,o,c){r(this,e),this.api=t,this.ls=n,this.fb=a,this.apiService=i,this.router=o,this.accountService=c,this.showEditOption=!1}return a(e,[{key:"ngOnInit",value:function(){this.getUserRecomendation("user_recomendation"),this.getAccountType("account_type"),this.getAccountBranchDetails(),this.buildformGroup(),console.log(this.approvalForm),this.cardId=this.ls.getItem("cardId"),console.log("this.cardId",this.cardId),this.getCardInitiationDetails();var e=this.ls.getItem("CARD_APPROVAL_DONE");console.log("checc",e),null!=this.cardId&&e&&(this.showEditOption=!0,this.getApprovalDetails())}},{key:"buildformGroup",value:function(e){this.approvalForm=this.fb.group({accountType:[e?e.accountType:"",d.A.required],productCode:[e?e.productCode:"",d.A.required],userRecommendation:[e?e.userRecommendation:"",d.A.required],accountBranch:[e?e.accountBranch:"",d.A.required],accountCurrency:[e?e.accountCurrency:"",d.A.required],productName:[e?e.productName:"",d.A.required],existingValues:[e?e.existingValues:"",d.A.required],remarks:[e?e.remarks:""]})}},{key:"onSubmit",value:function(){console.log("data",this.approvalForm.value),this.apiService.upsertApprovalDetails({cardId:this.cardId,accountBranch:this.approvalForm.value.accountBranch,accountCurrency:this.approvalForm.value.accountCurrency,accountType:this.approvalForm.value.accountType,existingValues:this.approvalForm.value.existingValues,productCode:this.approvalForm.value.productCode,productName:this.approvalForm.value.productName,remarks:this.approvalForm.value.remarks,userRecommendation:this.approvalForm.value.userRecommendation}).subscribe(function(e){console.log("data",e)}),this.next()}},{key:"next",value:function(){this.ls.setItem("CARD_APPROVAL_DONE",!0),this.ls.setItem("CARD_SUPERVISOR_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/DigitalSigning/list"])}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/SupervisorApprovalStage/list"])}},{key:"getApprovalDetails",value:function(){var e=this;this.apiService.getApprovalDetails(this.cardId).subscribe(function(t){e.buildformGroup(t),console.log("data",t)})}},{key:"onKeyPress",value:function(e){var t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||(e.preventDefault(),console.log("event:",e))}},{key:"getAccountCurrency",value:function(e){var t=this;this.api.getDropDownValues(e).subscribe(function(e){t.arrayAccountCurrency=e})}},{key:"getAccountType",value:function(e){var t=this;this.api.getDropDownValues(e).subscribe(function(e){t.arrayAccountType=e})}},{key:"getUserRecomendation",value:function(e){var t=this;this.api.getDropDownValues(e).subscribe(function(e){t.arrayUserRecomendation=e})}},{key:"getAccountBranchDetails",value:function(){var e=this;this.api.getAccountBranch().subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getCardInitiationDetails",value:function(){var e=this;this.apiService.getCardInitiationDetails(this.cardId).subscribe(function(t){console.log("data",t),e.currency=t.currency,e.approvalForm.controls.accountCurrency.setValue(e.currency)})}},{key:"keyPressAlphanumeric",value:function(e){var t=String.fromCharCode(e.keyCode);return!!/[a-zA-Z0-9]/.test(t)||(e.preventDefault(),!1)}}]),e}()).\u0275fac=function(e){return new(e||qi)(m.Rb(b.b),m.Rb(u.a),m.Rb(d.f),m.Rb(b.b),m.Rb(f.h),m.Rb(_.a))},qi.\u0275cmp=m.Lb({type:qi,selectors:[["app-approval-details"]],decls:75,vars:13,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_16.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"ml-16"],[1,"mt-24"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["name","accountType","placeholder","Account type","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","name","productCode","placeholder","Product Code","formControlName","productCode"],["matInput","","name","account_currency","placeholder","Account Currency","formControlName","accountCurrency","readonly","",3,"keypress"],["name","owner","placeholder","Recommended for Approval","formControlName","userRecommendation"],["fxFlex","100","fxFlex.gt-xs","50"],["name","accountBranch","placeholder","Account Branch","formControlName","accountBranch"],["matInput","","name","productName","placeholder","Product Name","formControlName","productName",3,"keypress"],["matInput","","onlyNumber","","name","existingValues","placeholder","Existing Value","formControlName","existingValues",3,"keypress"],["matInput","","name","remarks","placeholder","Remarks","formControlName","remarks"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Approval Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Xb(9,"h2",7),m.Tc(10,"Approval Details"),m.Wb(),m.Sb(11,"div",8),m.Xb(12,"mat-card"),m.Xb(13,"form",9),m.Xb(14,"mat-card-content"),m.Xb(15,"div",10),m.Xb(16,"div",11),m.Xb(17,"div",12),m.Xb(18,"mat-form-field",13),m.Xb(19,"mat-label"),m.Tc(20,"Account Type*"),m.Wb(),m.Xb(21,"mat-select",14),m.Rc(22,_i,2,2,"mat-option",15),m.Wb(),m.Rc(23,wi,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(24,"div",12),m.Xb(25,"mat-form-field",13),m.Xb(26,"mat-label"),m.Tc(27,"Product Code*"),m.Wb(),m.Sb(28,"input",17),m.Wb(),m.Rc(29,Pi,2,0,"mat-error",16),m.Wb(),m.Xb(30,"div",12),m.Xb(31,"mat-form-field",13),m.Xb(32,"mat-label"),m.Tc(33,"Account Currency*"),m.Wb(),m.Xb(34,"input",18),m.fc("keypress",function(e){return t.keyPressAlphanumeric(e)}),m.Wb(),m.Rc(35,Ni,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(36,"div",12),m.Xb(37,"mat-form-field",13),m.Xb(38,"mat-label"),m.Tc(39,"User Recomendation*"),m.Wb(),m.Xb(40,"mat-select",19),m.Rc(41,Ri,2,2,"mat-option",15),m.Wb(),m.Rc(42,Fi,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Wb(),m.Xb(43,"div",20),m.Xb(44,"div",12),m.Xb(45,"mat-form-field",13),m.Xb(46,"mat-label"),m.Tc(47,"Account Branch*"),m.Wb(),m.Xb(48,"mat-select",21),m.Rc(49,Mi,2,2,"mat-option",15),m.Wb(),m.Rc(50,Li,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(51,"div",12),m.Xb(52,"mat-form-field",13),m.Xb(53,"mat-label"),m.Tc(54,"Product Name*"),m.Wb(),m.Xb(55,"input",22),m.fc("keypress",function(e){return t.keyPressAlphanumeric(e)}),m.Wb(),m.Wb(),m.Rc(56,Vi,2,0,"mat-error",16),m.Wb(),m.Xb(57,"div",12),m.Xb(58,"mat-form-field",13),m.Xb(59,"mat-label"),m.Tc(60,"Existing Value*"),m.Wb(),m.Xb(61,"input",23),m.fc("keypress",function(e){return t.onKeyPress(e)}),m.Wb(),m.Wb(),m.Rc(62,Bi,2,0,"mat-error",16),m.Wb(),m.Xb(63,"div",12),m.Xb(64,"mat-form-field",13),m.Xb(65,"mat-label"),m.Tc(66,"Remarks"),m.Wb(),m.Sb(67,"input",24),m.Rc(68,ji,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(69,"div",25),m.Xb(70,"button",26),m.fc("click",function(){return t.goBack()}),m.Tc(71,"BACK"),m.Wb(),m.Sb(72,"span",27),m.Xb(73,"button",28),m.fc("click",function(){return t.onSubmit()}),m.Tc(74,"Next"),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(13),m.rc("formGroup",t.approvalForm),m.Eb(9),m.rc("ngForOf",t.arrayAccountType),m.Eb(1),m.rc("ngIf",t.approvalForm.get("accountType").hasError("required")),m.Eb(6),m.rc("ngIf",t.approvalForm.get("productCode").touched&&0==t.approvalForm.get("productCode").value),m.Eb(6),m.rc("ngIf",t.approvalForm.get("accountCurrency").hasError("required")),m.Eb(6),m.rc("ngForOf",t.arrayUserRecomendation),m.Eb(1),m.rc("ngIf",t.approvalForm.get("userRecommendation").hasError("required")),m.Eb(7),m.rc("ngForOf",t.arrayAccountBranch),m.Eb(1),m.rc("ngIf",t.approvalForm.get("accountBranch").hasError("required")),m.Eb(6),m.rc("ngIf",t.approvalForm.get("productName").touched&&0==t.approvalForm.get("productName").value),m.Eb(6),m.rc("ngIf",t.approvalForm.get("existingValues").touched&&0==t.approvalForm.get("existingValues").value),m.Eb(6),m.rc("ngIf",t.approvalForm.get("remarks").hasError("required")),m.Eb(5),m.rc("disabled",t.approvalForm.invalid))},directives:[v.e,v.b,h.a,d.C,d.s,d.j,h.d,v.f,x.c,x.g,ze.a,d.r,d.i,o.m,o.n,C.b,d.c,Ke.a,y.b,Ge.n,x.b],styles:[""]}),qi);function zi(e,t){if(1&e){var r=m.Yb();m.Xb(0,"button",14),m.fc("click",function(){return m.Hc(r),m.jc().addDetails()}),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()}}function Gi(e,t){if(1&e){var r=m.Yb();m.Xb(0,"button",14),m.fc("click",function(){return m.Hc(r),m.jc().openApprovalSummary()}),m.Tc(1," View Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()}}var Hi,Yi=((Hi=function(){function e(t,n,a){r(this,e),this.router=t,this.dialogService=n,this.ls=a,this.isApprovalDetails=!1,this.isCardSupervisorApprovalDone=!1}return a(e,[{key:"ngOnInit",value:function(){this.isApprovalDetails=this.ls.getItem("CARD_APPROVAL_DONE"),this.isCardSupervisorApprovalDone=this.ls.getItem("CARD_SUPERVISOR_DONE"),console.log("",this.isApprovalDetails)}},{key:"addDetails",value:function(){console.log("calling"),this.router.navigate(["/cardaccount/SupervisorApprovalStage/list/approvalDetails"])}},{key:"openApprovalSummary",value:function(){this.dialogService.CardApprovalSummary()}}]),e}()).\u0275fac=function(e){return new(e||Hi)(m.Rb(f.h),m.Rb(se.a),m.Rb(u.a))},Hi.\u0275cmp=m.Lb({type:Hi,selectors:[["app-supervisor-approval-stage"]],decls:29,vars:3,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr"],["fxFlex","50%"],[1,"card-img",3,"src"],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Create New Card Account"),m.Wb(),m.Wb(),m.Xb(8,"div",6),m.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"div",7),m.Xb(11,"div",8),m.Xb(12,"mat-card"),m.Xb(13,"mat-card-header"),m.Xb(14,"mat-card-title"),m.Tc(15,"1.Approval Details"),m.Wb(),m.Wb(),m.Xb(16,"mat-card-content"),m.Xb(17,"div",9),m.Xb(18,"div",10),m.Xb(19,"p"),m.Tc(20," Approval Details are captured."),m.Wb(),m.Wb(),m.Xb(21,"div",11),m.Sb(22,"img",12),m.Wb(),m.Wb(),m.Wb(),m.Sb(23,"mat-divider"),m.Xb(24,"mat-card-actions"),m.Vb(25),m.Rc(26,zi,4,0,"button",13),m.Ub(),m.Vb(27),m.Rc(28,Gi,4,0,"button",13),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(22),m.rc("src","assets/images/svg/MaskGroup_16.svg",m.Jc),m.Eb(4),m.rc("ngIf",!t.isApprovalDetails),m.Eb(2),m.rc("ngIf",t.isApprovalDetails))},directives:[v.e,v.b,h.a,h.e,h.h,h.d,v.f,v.d,O.a,h.b,o.n,y.b,c.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca;padding-left:17px}"]}),Hi);function $i(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Please Enter valid Scorecard ID "),m.Wb())}function Qi(e,t){1&e&&(m.Xb(0,"span",30),m.Tc(1," *"),m.Wb())}function Ki(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",22),m.Xb(1,"mat-form-field",31),m.Xb(2,"input",32),m.fc("keyup",function(e){m.Hc(r);var t=m.jc(),n=t.index,a=t.$implicit,i=m.jc().$implicit,o=m.jc();return o.validateInputValue(e.target.value,n,a.validationName),o.insertData(a.scoreCardQuestionId,e.target.value,a.attributeType,a.scoreCardMappingId,n,i.applicantId)})("click",function(e){m.Hc(r);var t=m.jc(),n=t.index,a=t.$implicit;return m.jc(2).validateInputValue(e.target.value,n,a.validationName)}),m.Wb(),m.Wb(),m.Xb(3,"mat-error",33),m.Tc(4),m.Wb(),m.Wb()}if(2&e){var n=m.jc(),a=n.index,i=n.$implicit,o=m.jc().index,c=m.jc();m.Eb(2),m.sc("name","input"+a),m.sc("id","input"+a),m.rc("required",i.isRequired)("autocomplete",c.off)("maxlength","Name"==i.validationName?25:50)("value",null==c.scoreCardMappingArray[o].scoreCardDetails[a].scorecardAnswer?c.sbSelectAnswer:c.scoreCardMappingArray[o].scoreCardDetails[a].scorecardAnswer),m.Eb(1),m.Oc("visibility","hidden"),m.sc("id","inputError"+a),m.Eb(1),m.Vc("Enter ",i.validationName,"")}}function Ji(e,t){if(1&e&&(m.Xb(0,"mat-option",36),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function Zi(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",22),m.Xb(1,"mat-form-field",31),m.Xb(2,"mat-select",34),m.fc("click",function(e){m.Hc(r);var t=m.jc().index;return m.jc(2).validateSelectValue(e.target.value,t)})("selectionChange",function(e){m.Hc(r);var t=m.jc(),n=t.index,a=t.$implicit,i=m.jc().$implicit,o=m.jc();return o.validateSelectValue(e.value,n),o.insertData(a.scoreCardQuestionId,e.value,a.attributeType,a.scoreCardMappingId,n,i.applicantId)}),m.Rc(3,Ji,2,2,"mat-option",35),m.Wb(),m.Wb(),m.Xb(4,"mat-error",33),m.Tc(5),m.Wb(),m.Wb()}if(2&e){var n=m.jc(),a=n.$implicit,i=n.index,o=m.jc(2);m.Eb(2),m.rc("required",a.isRequired)("name","checkbox"==a.attributeType?"multiSelect"+i:"select"+i)("id","checkbox"==a.attributeType?"multiSelect"+i:"select"+i)("value","checkbox"==a.attributeType?o.sbMultiSelectAnswer:o.sbMultiSelectAnswer[i])("multiple","checkbox"==a.attributeType),m.Eb(1),m.rc("ngForOf",a.scorecardAnswers),m.Eb(1),m.Oc("visibility","hidden"),m.sc("id","selectError"+i),m.Eb(1),m.Vc("Please select ",a.validationName,"")}}function eo(e,t){if(1&e&&(m.Xb(0,"div",26),m.Xb(1,"div",22),m.Xb(2,"div",27),m.Xb(3,"mat-hint"),m.Tc(4),m.Rc(5,Qi,2,0,"span",28),m.Wb(),m.Wb(),m.Rc(6,Ki,5,10,"div",29),m.Rc(7,Zi,6,10,"div",29),m.Wb(),m.Wb()),2&e){var r=t.$implicit,n=t.index;m.Eb(4),m.Wc("",n+1,".",r.scorecardQuestion,""),m.Eb(1),m.rc("ngIf",r.isRequired),m.Eb(1),m.rc("ngIf","textbox"==r.attributeType),m.Eb(1),m.rc("ngIf","drop-down"==r.attributeType||"checkbox"==r.attributeType)}}function to(e,t){if(1&e&&(m.Xb(0,"mat-expansion-panel",19),m.Xb(1,"mat-expansion-panel-header"),m.Xb(2,"mat-panel-title"),m.Xb(3,"mat-icon",20),m.Tc(4,"check_circle"),m.Wb(),m.Xb(5,"span",21),m.Tc(6),m.Wb(),m.Wb(),m.Wb(),m.Xb(7,"mat-card",22),m.Xb(8,"mat-card-content",22),m.Xb(9,"div"),m.Xb(10,"h3"),m.Tc(11,"Questions"),m.Wb(),m.Wb(),m.Xb(12,"div",23),m.Xb(13,"div",24),m.Rc(14,eo,8,5,"div",25),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var r=t.$implicit;m.Eb(6),m.Vc("Applicant ",r.applicantId,""),m.Eb(8),m.rc("ngForOf",r.scoreCardDetails)}}var ro,no=((ro=function(){function e(t,n,a,i,o,c,s,l,u){r(this,e),this.router=t,this.api=n,this.snack=a,this.fb=i,this.ls=o,this.accountService=c,this.elRef=s,this.renderer=l,this.cdr=u,this.accountType="cardOrigin",this.sbMultiSelectAnswer=[],this.scoreboardQuestionsArray=[],this.scoreCardMappingArray=[],this.numberOfApplicant=new d.g(""),this.scoreCardId=new d.g(""),this.isDataSaved=!1,this.disableDoneBtn=!0,this.anyErrorExist=!1,this.isQualitativeScreen=!1,this.previousUrl="",this.showEditOption=!1,this.isCardQualitativeScoreboard=!1,this.sbSelectAnswer=""}return a(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.loggedInUser=this.ls.getItem("ICUST_USER"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.noOfapplicants=this.ls.getItem("CardNoOfApplicants"),console.log(this.noOfapplicants),console.log(this.loggedInUser),JSON.parse(this.ls.getItem("ASSESSMENT_QA_DONE")),null!=this.cardId&&this.isCardQualitativeScoreboard?(this.showEditOption=!0,this.isQualitativeScreen=!0,this.getAllQualitative()):(console.log("else"),this.showEditOption=!1,this.loadData())}},{key:"counter",value:function(e){return new Array(e)}},{key:"loadData",value:function(){var e=this;this.api.getScorecardQuestions(this.accountType).subscribe(function(t){console.log(t),console.log(e.noOfapplicants),!e.noOfapplicants&&t&&(e.noOfapplicants=t.length),t[1].attributeType="drop-down";for(var r=0;r<e.noOfapplicants;r++){e.scoreboardQuestionsArray.push({scorecardQuestion:t,applicantId:r+1,scoreCardDetails:t});var n=[];console.log("data",e.scoreCardDetails);for(var a=0;a<t.length;a++)n.push({scoreCardQuestionId:t[a].scoreCardQuestionId,scorecardAnswer:null,scoreCardMappingId:null});e.scoreCardMappingArray.push({applicantId:r+1,scoreCardDetails:n})}console.log("data",e.scoreCardDetails),console.log("ques:",e.scoreboardQuestionsArray),e.cdr.markForCheck()})}},{key:"getAllQualitative",value:function(){var e=this;console.log(this.isQualitativeScreen),this.api.getCardQualitativeScorecardDetails(this.cardId).subscribe(function(t){console.log(e.isQualitativeScreen),e.qualitativeScoreboardSummary=t,console.log(e.qualitativeScoreboardSummary.scoreCardId+" : "+e.qualitativeScoreboardSummary.numberOfApplicant),e.scoreCardId.setValue(e.qualitativeScoreboardSummary.scoreCardId),e.numberOfApplicant.setValue(e.qualitativeScoreboardSummary.numberOfApplicant),console.log("scorecard id: ",e.scoreCardId),console.log("numberOfApplicant : ",e.numberOfApplicant),e.scoreboardQuestionsArray=[];for(var r=function(t){console.log("inside for",e.qualitativeScoreboardSummary.scoreCardMapping),e.api.getScorecardQuestions(e.accountType).subscribe(function(r){console.log(r),console.log(e.noOfapplicants),!e.noOfapplicants&&r&&(e.noOfapplicants=r.length);for(var n=0;n<e.noOfapplicants;n++){e.scoreboardQuestionsArray.push({scorecardQuestion:r,applicantId:n+1,scoreCardDetails:r}),console.log(e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails.length);for(var a=0;a<e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails.length;a++){console.log(e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails);var i=e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails;console.log(i),e.sbMultiSelectAnswer.push(i[a].scorecardAnswer);for(var o=0;o<e.sbMultiSelectAnswer.length;o++)e.sbMultiSelectAnswer[2]?(e.sbSelectAnswer=e.sbMultiSelectAnswer[2],console.log(e.sbSwlwctAnswer)):e.sbMultiSelectAnswer[0]&&(e.sbSelectAnswer1=e.sbMultiSelectAnswer[0],console.log(e.sbSelectAnswer1));console.log(e.sbMultiSelectAnswer)}}console.log("data",e.scoreCardDetails),console.log("ques:",e.scoreboardQuestionsArray),e.cdr.markForCheck()}),e.scoreCardMappingArray=e.scoreboardQuestionsArray},n=0;n<e.qualitativeScoreboardSummary.scoreCardMapping.length;n++)r(n);console.log(e.scoreboardQuestionsArray,"scoreBoardQuestionArray"),e.disableDoneBtn=!1,e.cdr.markForCheck()})}},{key:"insertData",value:function(e,t,r,n,a,i){console.log("Answer: ",t,a,i),"checkbox"==r&&(t=t.toString());for(var o=!1,c=!1,s=0;s<this.scoreCardMappingArray.length;s++)if(this.scoreCardMappingArray[s].applicantId==i){for(var l=0;l<this.scoreCardMappingArray[s].scoreCardDetails.length;l++)console.log(l,this.scoreCardMappingArray[s].scoreCardDetails[l]),this.scoreCardMappingArray[s].scoreCardDetails[l].scoreCardQuestionId==e&&(this.scoreCardMappingArray[s].scoreCardDetails[l].scorecardAnswer=t,o=!0);c=!0}if(!o){var u={};if(u.scoreCardQuestionId=e,u.scorecardAnswer=t,null!=n&&(u.scoreCardMappingId=n),c)for(var d=0;d<this.scoreCardMappingArray.length;d++)this.scoreCardMappingArray[d].applicantId==i&&(this.scoreCardMappingArray[d].scoreCardDetails.push(u),console.log(this.scoreCardMappingArray[d].scoreCardDetails));else this.scoreCardMappingArray.push({applicantId:i,scoreCardDetails:u})}if(this.scoreCardMappingArray.length==this.scoreboardQuestionsArray.length){for(var b=0,m=0;m<this.scoreCardMappingArray.length;m++)for(var p=0;p<this.scoreCardMappingArray[m].scoreCardDetails.length;p++){var g=this.scoreCardMappingArray[m].scoreCardDetails[p].scorecardAnswer;""!=g&&null!=g&&null!=g||b++}b>0?this.disableDoneBtn=!0:0==this.anyErrorExist&&0==b&&(this.disableDoneBtn=!1)}console.log("Map Array: ",this.scoreCardMappingArray)}},{key:"validateInputValue",value:function(e,t,r){var n="#inputError"+t;""==e||null==e||null==e?this.renderer.setStyle(this.elRef.nativeElement.querySelector(n),"visibility","visible"):isNaN(e)||"Name"!=r?(this.renderer.setStyle(this.elRef.nativeElement.querySelector(n),"visibility","hidden"),this.anyErrorExist=!1):(this.renderer.setStyle(this.elRef.nativeElement.querySelector(n),"visibility","visible"),this.anyErrorExist=!0)}},{key:"validateSelectValue",value:function(e,t){this.renderer.setStyle(this.elRef.nativeElement.querySelector("#selectError"+t),"visibility",""==e||null==e||null==e?"visible":"hidden")}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/underwritingStage/credit-rating"])}},{key:"getAllData",value:function(e){this.api.getAssessmentReportDetails(e).subscribe(function(e){})}},{key:"saveQualitativeScore",value:function(){var e=this,t={};console.log(this.noOfapplicants);var r=this.noOfapplicants;t.cardId=this.cardId,t.numberOfApplicant=r,t.scoreCardId=this.scoreCardId.value,t.loggedInUser=123,t.accountType="cardOrigin",t.scoreCardMapping=this.scoreCardMappingArray,console.log(t),this.api.saveQualitativeScorecard(t).subscribe(function(r){console.log("data",t.cardId),e.snack.open("Card Origination Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.isDataSaved=!0,e.accountService.refresh.next()},function(t){e.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.next()}},{key:"next",value:function(){this.ls.setItem("CARD_QUALITATIVE_SCOREBOARD_DONE",!0),this.ls.setItem("CARD_UNDERWRITING_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/assessmentStage/list"])}},{key:"noOfApplicant",value:function(e){console.log(e)}}]),e}()).\u0275fac=function(e){return new(e||ro)(m.Rb(f.h),m.Rb(b.b),m.Rb(p.a),m.Rb(d.f),m.Rb(u.a),m.Rb(_.a),m.Rb(m.l),m.Rb(m.I),m.Rb(m.h))},ro.\u0275cmp=m.Lb({type:ro,selectors:[["app-cardaccount-qualitative-scoreboard"]],decls:39,vars:5,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"ml-16"],[1,"mt-24"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId",3,"formControl"],[4,"ngIf"],[1,"mt-32"],[1,"disableText"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"ml-8"],[1,"full-width"],["fxLayout","column"],["fxLayout","row","fxFlex","70%","fxLayoutGap","35px"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap",1,"full-width"],[1,"qDiv"],["class","redC",4,"ngIf"],["class","full-width",4,"ngIf"],[1,"redC"],["appearance","outline",1,"full-width"],["matInput","",3,"required","autocomplete","maxlength","name","id","value","keyup","click"],[3,"id"],[3,"required","name","id","value","multiple","click","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"img",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"b"),m.Tc(7,"Qualitative Scoreboard"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(8,"form"),m.Xb(9,"div",6),m.Xb(10,"h2",7),m.Tc(11,"Qualitative Scoreboard"),m.Wb(),m.Sb(12,"div",8),m.Xb(13,"mat-card"),m.Sb(14,"mat-card-title"),m.Xb(15,"mat-card-content"),m.Xb(16,"h4"),m.Xb(17,"b"),m.Tc(18,"Scorecard ID"),m.Wb(),m.Wb(),m.Xb(19,"h4"),m.Sb(20,"input",9),m.Rc(21,$i,2,0,"mat-error",10),m.Wb(),m.Xb(22,"h3",11),m.Tc(23,"About the Qualitative Scorecard ID"),m.Wb(),m.Xb(24,"p",12),m.Tc(25," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. "),m.Wb(),m.Xb(26,"h3",11),m.Tc(27,"No. of Applicant"),m.Wb(),m.Xb(28,"p"),m.Tc(29),m.Wb(),m.Wb(),m.Wb(),m.Sb(30,"div",11),m.Xb(31,"mat-accordion",13),m.Rc(32,to,15,2,"mat-expansion-panel",14),m.Wb(),m.Wb(),m.Wb(),m.Xb(33,"div",15),m.Xb(34,"button",16),m.fc("click",function(){return t.goBack()}),m.Tc(35,"BACK"),m.Wb(),m.Sb(36,"span",17),m.Xb(37,"button",18),m.fc("click",function(){return t.saveQualitativeScore()}),m.Tc(38,"Next"),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(20),m.rc("formControl",t.scoreCardId),m.Eb(1),m.rc("ngIf",t.scoreCardId.touched&&0==t.scoreCardId.value),m.Eb(8),m.Uc(t.noOfapplicants),m.Eb(3),m.rc("ngForOf",t.scoreboardQuestionsArray),m.Eb(5),m.rc("disabled",t.disableDoneBtn||!t.numberOfApplicant.valid))},directives:[v.e,v.b,d.C,d.s,d.t,h.a,h.h,h.d,C.b,d.c,Ke.a,d.r,d.h,o.n,Ye.a,o.m,y.b,x.b,Ye.c,Ye.e,Ye.f,c.a,v.f,x.f,x.c,ze.a,Ge.n],styles:[".qaDiv[_ngcontent-%COMP%]{padding:1.5rem 1rem}.qDiv[_ngcontent-%COMP%]{padding:.5em 0}.redC[_ngcontent-%COMP%]{color:red}.disableText[_ngcontent-%COMP%]{color:#cacaca}"]}),ro);function ao(e,t){if(1&e&&(m.Xb(0,"mat-option",24),m.Tc(1),m.Wb()),2&e){var r=t.$implicit;m.rc("value",r),m.Eb(1),m.Vc(" ",r," ")}}function io(e,t){if(1&e&&(m.Xb(0,"div"),m.Xb(1,"mat-select",22),m.Rc(2,ao,2,2,"mat-option",23),m.Wb(),m.Wb()),2&e){var r=m.jc(2);m.Eb(2),m.rc("ngForOf",r.customerNames)}}function oo(e,t){1&e&&(m.Xb(0,"div"),m.Sb(1,"input",25),m.Wb())}function co(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Customer Name is Required! "),m.Wb())}function so(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Agency is Required! "),m.Wb())}function lo(e,t){1&e&&(m.Xb(0,"mat-error"),m.Tc(1," Ratings is Required! "),m.Wb())}function uo(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",26),m.Xb(1,"mat-accordion",12),m.Xb(2,"mat-card",27),m.Xb(3,"h3"),m.Tc(4,"Score "),m.Wb(),m.Sb(5,"mat-divider",28),m.Sb(6,"br"),m.Xb(7,"div",12),m.Xb(8,"div",13),m.Xb(9,"div",29),m.Xb(10,"div",30),m.Xb(11,"mat-form-field",15),m.Xb(12,"mat-label"),m.Tc(13,"Select Agency*"),m.Wb(),m.Xb(14,"mat-select",31),m.Xb(15,"mat-option",32),m.fc("click",function(){return m.Hc(r),m.jc(2).onClick()}),m.Tc(16,"Test Agency"),m.Wb(),m.Xb(17,"mat-option",33),m.fc("click",function(){return m.Hc(r),m.jc(2).onClick()}),m.Tc(18,"Ujjivan Agency"),m.Wb(),m.Xb(19,"mat-option",34),m.fc("click",function(){return m.Hc(r),m.jc(2).onClick()}),m.Tc(20,"Fast Track Agency"),m.Wb(),m.Wb(),m.Rc(21,so,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Xb(22,"div",35),m.Xb(23,"mat-form-field",15),m.Xb(24,"mat-label"),m.Tc(25," Remarks"),m.Wb(),m.Sb(26,"input",36),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div",37),m.Xb(28,"div",35),m.Xb(29,"mat-form-field",15),m.Xb(30,"mat-label"),m.Tc(31,"Ratings*"),m.Wb(),m.Xb(32,"input",38),m.fc("keypress",function(e){return m.Hc(r),m.jc(2)._keyPress(e)}),m.Wb(),m.Rc(33,lo,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=t.$implicit,a=m.jc(2);m.Eb(1),m.rc("formGroup",n),m.Eb(6),m.rc("formGroup",n),m.Eb(8),m.rc("disabled",a.disableTest),m.Eb(2),m.rc("disabled",a.disableUjjivan),m.Eb(2),m.rc("disabled",a.disableFastTrack),m.Eb(2),m.rc("ngIf",!n.controls.agencyName.valid&&n.controls.agencyName.touched),m.Eb(12),m.rc("ngIf",!n.controls.ratings.valid&&n.controls.ratings.touched)}}function bo(e,t){if(1&e){var r=m.Yb();m.Xb(0,"form",12),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"mat-form-field",15),m.Xb(4,"mat-label"),m.Tc(5,"Customer Name*"),m.Wb(),m.Rc(6,io,3,1,"div",16),m.Rc(7,oo,2,0,"div",16),m.Rc(8,co,2,0,"mat-error",16),m.Wb(),m.Wb(),m.Wb(),m.Rc(9,uo,34,7,"div",17),m.Xb(10,"button",18),m.fc("click",function(){return m.Hc(r),m.jc().addFormGroup()}),m.Xb(11,"mat-icon"),m.Tc(12,"add"),m.Wb(),m.Tc(13," ADD AGENCY "),m.Wb(),m.Xb(14,"div",19),m.Xb(15,"button",20),m.fc("click",function(){return m.Hc(r),m.jc().goBack()}),m.Tc(16," Back "),m.Wb(),m.Xb(17,"button",21),m.fc("click",function(){m.Hc(r);var e=m.jc();return e.OnSubmit(e.creditDetailsForm.value)}),m.Tc(18," Next "),m.Wb(),m.Wb(),m.Wb()}if(2&e){var n=m.jc();m.rc("formGroup",n.creditDetailsForm),m.Eb(6),m.rc("ngIf",n.customerNames.length>1),m.Eb(1),m.rc("ngIf",1==n.customerNames.length),m.Eb(1),m.rc("ngIf",!n.creditDetailsForm.get("customerName").valid&&n.creditDetailsForm.get("customerName").touched),m.Eb(1),m.rc("ngForOf",n.c.controls),m.Eb(1),m.rc("disabled",n.disableAddAgency),m.Eb(7),m.rc("disabled",!n.creditDetailsForm.valid)}}var mo,po=((mo=function(){function e(t,n,a,i,o,c,s){r(this,e),this.formBuilder=t,this.router=n,this.ls=a,this.appApiService=i,this.snack=o,this.api=c,this.accountService=s,this.customerNames=[]}return a(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.customerName=this.ls.getItem("primaryCustomerName"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.getCustomerInformationDetails(),this.buildCreditForm(),0==this.isCardCreditRatingDetails?this.buildCreditForm():this.gettingCreditRatingDetail()}},{key:"f",get:function(){return this.creditDetailsForm.controls}},{key:"c",get:function(){return this.f.agencyRating}},{key:"buildCreditForm",value:function(e,t){console.log(e),this.creditDetailsForm=this.formBuilder.group({cardId:this.cardId,customerName:e?e.customerName:this.customerNames[0],agencyRating:this.formBuilder.array([this.addModFormGroup(e)])}),console.log(this.creditDetailsForm)}},{key:"addFormGroup",value:function(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",d.A.required],ratings:["",d.A.required]}))}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"addModFormGroup",value:function(e){return console.log(e,"inside addModeFormGrp"),this.formBuilder.group({cardId:[this.cardId],agencyId:[e?e.agencyId:0],agencyName:[e?e.agencyRating[0].agencyName:"",d.A.required],ratings:[e?e.agencyRating[0].ratings:"",d.A.required],remarks:[e?e.agencyRating[0].remarks:""]})}},{key:"getCustomerInformationDetails",value:function(){var e=this;this.appApiService.fetchCustomersByCardAccId(this.cardId,"cardOrigin").subscribe(function(t){console.log("resp for customer information names ",t.data);for(var r=0;r<t.data.length;r++)e.customerNames[r]=null==t.data[r].middleName?t.data[r].firstName+" "+t.data[r].lastName:t.data[r].firstName+" "+t.data[r].middleName+" "+t.data[r].lastName;console.log("customer name ",e.customerNames),e.customerNames&&(console.log("If condtion"),e.creditDetailsForm.get("customerName").setValue(e.customerNames[0]))},function(e){})}},{key:"gettingCreditRatingDetail",value:function(){var e=this;this.api.getCardCreditRatingDetails(this.cardId).subscribe(function(t){console.log(t),e.buildCreditForm(t,!0)})}},{key:"OnSubmit",value:function(e){var t=this;console.log("val",e),e.accountType="cardOrigin",this.api.saveCreditDetails(e).subscribe(function(e){console.log(e),200===e||null!==e?(t.snack.open(" Credit Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.ls.setItem("CARD_CREDIT_RATING_DONE",!0),t.accountService.refresh.next(),t.router.navigate(["/cardaccount/underwritingStage/qualitative"])):500===e&&t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){console.log(e)}),this.router.navigate(["/cardaccount/underwritingStage/qualitative/"])}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"onClick",value:function(){for(var e=0;e<3;e++)"Test Agency"==this.creditDetailsForm.value.agencyRating[e].agencyName&&(this.disableTest=!0,this.disableUjjivan=!1,this.disableFastTrack=!1),"Ujjivan Agency"==this.creditDetailsForm.value.agencyRating[e].agencyName&&(this.disableUjjivan=!0,this.disableFastTrack=!1,this.disableTest=!1),"Fast Track Agency"==this.creditDetailsForm.value.agencyRating[e].agencyName&&(this.disableFastTrack=!0,this.disableUjjivan=!1,this.disableTest=!1);3==this.creditDetailsForm.value.agencyRating.length&&(this.disableAddAgency=!0)}}]),e}()).\u0275fac=function(e){return new(e||mo)(m.Rb(d.f),m.Rb(f.h),m.Rb(u.a),m.Rb(je.a),m.Rb(p.a),m.Rb(b.b),m.Rb(_.a))},mo.\u0275cmp=m.Lb({type:mo,selectors:[["app-underwriting-credit-rating"]],decls:18,vars:1,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask_Group_9.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,""],[1,"card-title-text"],[1,"dividerClass"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],[1,"flex-grow-2",2,"padding-left","10px"],["appearance","outline",1,"full-width"],[4,"ngIf"],["class","mt-16",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],["name","customerName","formControlName","customerName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","customerName","type","text","readonly","",1,"alignment"],[1,"mt-16"],[1,"border1"],[1,"design"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-2"],["name","agencyName","formControlName","agencyName"],["value","Test Agency",3,"disabled","click"],["value","Ujjivan Agency",3,"disabled","click"],["value","Fast Track Agency",3,"disabled","click"],[1,"flex-grow-1"],["matInput","","placeholder","Remarks","formControlName","remarks","type","text","name","remarks",1,"alignment"],["fxFlex","100","fxFlex.gt-xs","50"],["matInput","","formControlName","ratings","type","text","name","ratings",1,"alignment",3,"keypress"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Credit Score Details"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"div",1),m.Xb(10,"div",2),m.Xb(11,"mat-card",7),m.Xb(12,"mat-card-title",8),m.Xb(13,"div",9),m.Tc(14,"Credit Score Details"),m.Wb(),m.Sb(15,"mat-divider",10),m.Wb(),m.Xb(16,"mat-card-content"),m.Rc(17,bo,19,7,"form",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e&&(m.Eb(17),m.rc("ngIf",t.creditDetailsForm))},directives:[v.e,v.b,h.a,h.h,O.a,h.d,o.n,d.C,d.s,d.j,v.f,x.c,x.g,o.m,y.b,c.a,v.d,ze.a,d.r,d.i,Ge.n,C.b,d.c,x.b,Ye.a],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{max-width:200px}.inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.border1[_ngcontent-%COMP%]{border:1px solid #456efe}"]}),mo),go=function(){return{y:"50px",delay:"300ms"}},fo=function(e){return{value:"*",params:e}};function ho(e,t){if(1&e){var r=m.Yb();m.Xb(0,"div",20),m.Xb(1,"mat-card"),m.Xb(2,"div",21),m.Xb(3,"div",22),m.Xb(4,"mat-icon",23),m.Tc(5,"check_circle"),m.Wb(),m.Wb(),m.Xb(6,"div",24),m.Xb(7,"h6"),m.Tc(8,"Application Underwriting Stage Completed"),m.Wb(),m.Wb(),m.Sb(9,"span",25),m.Xb(10,"button",26),m.fc("click",function(){return m.Hc(r),m.jc().viewSummary()}),m.Tc(11," View Summary "),m.Wb(),m.Wb(),m.Wb(),m.Wb()}2&e&&(m.Eb(1),m.rc("@animate",m.xc(2,fo,m.wc(1,go))))}function yo(e,t){1&e&&(m.Xb(0,"div",27),m.Sb(1,"mat-progress-bar",28),m.Xb(2,"p",29),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}function vo(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",26),m.fc("click",function(){return m.Hc(r),m.jc().goToCreditRatingSummary()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Co=function(){return["/cardaccount/underwritingStage/credit-rating"]};function xo(e,t){1&e&&(m.Xb(0,"button",30),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e&&m.rc("routerLink",m.wc(1,Co))}function Wo(e,t){1&e&&(m.Xb(0,"div",27),m.Sb(1,"mat-progress-bar",28),m.Xb(2,"p",29),m.Tc(3,"Completed"),m.Wb(),m.Wb()),2&e&&(m.Eb(1),m.rc("color","primary")("value",100))}function Xo(e,t){if(1&e){var r=m.Yb();m.Vb(0),m.Xb(1,"button",26),m.fc("click",function(){return m.Hc(r),m.jc().openCardQualitativeDialog()}),m.Tc(2," View Details "),m.Xb(3,"mat-icon"),m.Tc(4,"chevron_right"),m.Wb(),m.Wb(),m.Ub()}}var Io=function(){return["/cardaccount/underwritingStage/qualitative"]};function ko(e,t){if(1&e&&(m.Xb(0,"button",31),m.Tc(1," Add Details "),m.Xb(2,"mat-icon"),m.Tc(3,"chevron_right"),m.Wb(),m.Wb()),2&e){var r=m.jc();m.rc("routerLink",m.wc(2,Io))("disabled",!r.isCardCreditRatingDetails)}}var So=function(e){return{"border-size":e}};function Oo(e,t){if(1&e&&(m.Xb(0,"div"),m.Xb(1,"mat-card",8),m.Xb(2,"mat-card-content"),m.Xb(3,"div",9),m.Xb(4,"div",10),m.Xb(5,"div",11),m.Vb(6),m.Sb(7,"div",32),m.Xb(8,"div",33),m.Xb(9,"mat-card",34),m.Xb(10,"h3"),m.Tc(11,"Score"),m.Wb(),m.Sb(12,"br"),m.Xb(13,"div",35),m.Xb(14,"div",11),m.Vb(15),m.Xb(16,"div",36),m.Xb(17,"mat-hint",13),m.Tc(18,"Agency"),m.Wb(),m.Sb(19,"br"),m.Xb(20,"mat-hint",14),m.Tc(21),m.Wb(),m.Wb(),m.Xb(22,"div",36),m.Xb(23,"mat-hint",13),m.Tc(24,"Score"),m.Wb(),m.Sb(25,"br"),m.Xb(26,"mat-hint",14),m.Tc(27),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Sb(28,"br"),m.Xb(29,"div",10),m.Xb(30,"div",11),m.Vb(31),m.Xb(32,"div",36),m.Xb(33,"mat-hint",13),m.Tc(34,"Remarks"),m.Wb(),m.Sb(35,"br"),m.Xb(36,"mat-hint",14),m.Tc(37),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var r=t.$implicit;m.Eb(21),m.Uc(r.agencyName),m.Eb(6),m.Uc(r.ratings),m.Eb(10),m.Vc("",r.remarks," ")}}function Do(e,t){if(1&e&&(m.Xb(0,"div",40),m.Xb(1,"mat-card",41),m.Xb(2,"div"),m.Tc(3),m.Wb(),m.Xb(4,"div",42),m.Tc(5),m.Wb(),m.Wb(),m.Wb()),2&e){var r=t.$implicit,n=t.index;m.Eb(3),m.Wc("",n+1,".",r.scorecardQuestion,""),m.Eb(2),m.Uc(r.scorecardAnswer)}}function To(e,t){if(1&e&&(m.Xb(0,"div"),m.Xb(1,"div",37),m.Tc(2),m.Wb(),m.Xb(3,"div",38),m.Rc(4,Do,6,3,"div",39),m.Wb(),m.Wb()),2&e){var r=t.$implicit,n=t.index,a=m.jc();m.Eb(2),m.Vc("Applicant ",r.applicantId,""),m.Eb(2),m.rc("ngForOf",null==a.qualitativeScoreboardSummary?null:a.qualitativeScoreboardSummary.scoreCardMapping[n].scoreCardDetails)}}var Ao,Eo,_o,wo=[{path:"",component:Ma,children:[{path:"",redirectTo:"applicationEntryStage/list",pathMatch:"full"},{path:"applicationEntryStage/list",component:Te},{path:"documentupload/list/document-details",component:Ai},{path:"applicationEntryStage/list/financialDetails",component:ca},{path:"applicationEntryStage/list/customerInformation",component:pn},{path:"applicationEntryStage/list/accountServices",component:Le},{path:"applicationEntryStage/list/cardPrefrence",component:Cn},{path:"applicationEntryStage/list/cardInitiation",component:$n},{path:"documentupload/list",component:Ei},{path:"applicationEnrichment/list",component:z},{path:"applicationEnrichment/intrest-details",component:ce},{path:"applicationEnrichment/charge-details",component:Q},{path:"applicationEnrichment/Summary",component:re},{path:"underwritingStage/list",component:(Eo=function(){function e(t,n,a,i,o){r(this,e),this.router=t,this.ls=n,this.dialogService=a,this.accountService=i,this.cdr=o,this.isCardCreditRatingDetails=!1,this.isCardQualitativeScoreboard=!1}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.accountService.refresh.subscribe(function(t){e.cardId=e.ls.getItem("cardId"),e.isCardQualitativeScoreboard=e.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),e.isCardCreditRatingDetails=e.ls.getItem("CARD_CREDIT_RATING_DONE"),e.cdr.markForCheck()})}},{key:"viewSummary",value:function(){this.router.navigate(["cardaccount/underwritingStage/summary"])}},{key:"goToCreditRatingSummary",value:function(){this.dialogService.cardAccountcreditRatingSummaryDialog()}},{key:"openCardQualitativeDialog",value:function(){this.dialogService.CardQualitativeSummaryDialog()}}]),e}(),Eo.\u0275fac=function(e){return new(e||Eo)(m.Rb(f.h),m.Rb(u.a),m.Rb(se.a),m.Rb(_.a),m.Rb(m.h))},Eo.\u0275cmp=m.Lb({type:Eo,selectors:[["app-underwriting-stage"]],decls:49,vars:15,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr",2,"padding-left","17px"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showCredit",""],["showQualitative",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(e,t){if(1&e&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"img",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"div",6),m.Xb(7,"b"),m.Tc(8,"Create New Card Account"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),m.Wb(),m.Wb(),m.Wb(),m.Rc(11,ho,12,4,"div",8),m.Wb(),m.Xb(12,"div",9),m.Xb(13,"div",10),m.Xb(14,"mat-card",11),m.Xb(15,"mat-card-header"),m.Xb(16,"mat-card-title"),m.Tc(17,"1. Credit Rating Details"),m.Wb(),m.Wb(),m.Xb(18,"mat-card-content"),m.Xb(19,"div",12),m.Xb(20,"div",13),m.Xb(21,"p"),m.Tc(22," Credit rating details are captured here. "),m.Wb(),m.Wb(),m.Xb(23,"div",14),m.Sb(24,"img",15),m.Wb(),m.Wb(),m.Rc(25,yo,4,2,"div",16),m.Wb(),m.Sb(26,"mat-divider"),m.Xb(27,"mat-card-actions"),m.Rc(28,vo,5,0,"ng-container",17),m.Rc(29,xo,4,2,"ng-template",null,18,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Xb(31,"div",10),m.Xb(32,"mat-card",11),m.Xb(33,"mat-card-header"),m.Xb(34,"mat-card-title"),m.Tc(35,"2. Qualitative Scorecard"),m.Wb(),m.Wb(),m.Xb(36,"mat-card-content"),m.Xb(37,"div",12),m.Xb(38,"div",13),m.Xb(39,"p"),m.Tc(40," Charge Details are displayed. "),m.Wb(),m.Wb(),m.Xb(41,"div",14),m.Sb(42,"img",15),m.Wb(),m.Wb(),m.Rc(43,Wo,4,2,"div",16),m.Wb(),m.Sb(44,"mat-divider"),m.Xb(45,"mat-card-actions"),m.Rc(46,Xo,5,0,"ng-container",17),m.Rc(47,ko,4,3,"ng-template",null,19,m.Sc),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&e){var r=m.Dc(30),n=m.Dc(48);m.Eb(11),m.rc("ngIf",t.isCardCreditRatingDetails&&t.isCardQualitativeScoreboard),m.Eb(3),m.rc("ngClass",m.xc(11,So,t.isCardCreditRatingDetails||!t.isCardCreditRatingDetails)),m.Eb(10),m.rc("src","assets/images/svg/Mask_Group_9.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isCardCreditRatingDetails),m.Eb(3),m.rc("ngIf",t.isCardCreditRatingDetails)("ngIfElse",r),m.Eb(4),m.rc("ngClass",m.xc(13,So,t.isCardCreditRatingDetails||!t.isCardCreditRatingDetails&&t.isCardQualitativeScoreboard)),m.Eb(10),m.rc("src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg",m.Jc),m.Eb(1),m.rc("ngIf",t.isCardQualitativeScoreboard),m.Eb(3),m.rc("ngIf",t.isCardQualitativeScoreboard)("ngIfElse",n)}},directives:[v.e,v.b,o.n,h.a,o.l,w.a,h.e,h.h,h.d,v.f,v.d,O.a,h.b,c.a,y.b,Ve.a,f.i],styles:[".border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca}"]}),Eo)},{path:"underwritingStage/summary",component:(Ao=function(){function e(t,n,a,i){r(this,e),this.router=t,this.ls=n,this.apiService=a,this.urlService=i,this.previousUrl="",this.imagePath="assets/images/assesment.png"}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.getAllData(this.cardId),this.urlService.previousUrl$.subscribe(function(t){e.previousUrl=t})}},{key:"getAllData",value:function(e){var t=this;this.apiService.getCardQualitativeScorecardDetails(this.cardId).subscribe(function(e){t.qualitativeScoreboardSummary=e,console.log(t.qualitativeScoreboardSummary),console.log(t.qualitativeScoreboardSummary.scoreCardMapping)}),this.apiService.getCardCreditRatingDetails(e).subscribe(function(e){console.log(e.customerName),t.customerName=e.customerName,t.creditRatingValues=e})}},{key:"goBack",value:function(){this.router.navigate(["cardaccount/underwritingStage/list"])}},{key:"done",value:function(){this.router.navigate(["/cardaccount/assessmentStage/list"])}}]),e}(),Ao.\u0275fac=function(e){return new(e||Ao)(m.Rb(f.h),m.Rb(u.a),m.Rb(b.b),m.Rb(Ee.a))},Ao.\u0275cmp=m.Lb({type:Ao,selectors:[["app-underwriting-stage-summary"]],decls:63,vars:6,consts:[["fxLayout","column","fxLayoutAlign","space-around center","fxLayoutGap","20px",1,"full-width",2,"padding","3rem 0rem"],[3,"src"],[2,"font-size","24px"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],[1,"full-width"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayoutGap","10px",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"border","1px solid rgb(249 245 245)","border-radius","5px"],["fxLayout","column","fxLayoutAlign","space-evenly start",1,"full-width"],["fxLayout","row wrap",1,"full-width",2,"padding","2rem"],["fxFlex","100%","fxFlex.xs","100%"],[2,"color","#102245","opacity","64%","font-size","medium","font-family","sans-serif"],[2,"padding-top","5px"],[2,"font-size","medium"],[1,"mt-32"],[2,"background-color","white"],["fxLayout","row wrap",1,"qtnhd",2,"color","#102245","opacity","64%","font-size","medium","font-family","sans-serif","padding","0rem 1rem"],[1,"full-width",2,"padding","0rem 2rem"],["fxLayout","row wrap",1,"full-width"],["mat-stroked-button","","color","primary",2,"border-radius","20px","width","10rem","height","2.5rem","font-family","sans-serif",3,"click"],["fxFlex",""],["mat-raised-button","","type","button",2,"border-radius","20px","width","10rem","height","2.5rem","background-color","#456EFE","float","right","color","white","font-family","sans-serif",3,"click"],["fxFlex","5%","fxFlex.xs","100%","fxLayoutAlign","end start",1,"inputCardclass"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","column","fxLayoutGap","10%","fxLayoutAlign","space-between none"],["fxFlex","20%","fxFlex.xs","50%"],[1,"applicanthd",2,"font-weight","bold","font-family","sans-serif"],[1,"row","wrap"],["fxLayout","row wrap","class","qtncard row","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","50","fxFlex.sm","50","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","50","fxFlex.sm","50",1,"full-width"],[1,"qtncard1","row",2,"justify-content","space-evenly"],[1,"qtnval",2,"opacity","80%"]],template:function(e,t){1&e&&(m.Xb(0,"div",0),m.Xb(1,"div"),m.Sb(2,"img",1),m.Wb(),m.Xb(3,"div"),m.Xb(4,"h2",2),m.Tc(5,"Application Underwriting stage Summary"),m.Wb(),m.Wb(),m.Wb(),m.Xb(6,"div",3),m.Xb(7,"h4",4),m.Tc(8,"Credit Score Details"),m.Wb(),m.Wb(),m.Xb(9,"div",5),m.Xb(10,"div",6),m.Xb(11,"div",7),m.Xb(12,"mat-card",8),m.Xb(13,"mat-card-content"),m.Xb(14,"div",9),m.Xb(15,"div",10),m.Xb(16,"div",11),m.Vb(17),m.Xb(18,"div",12),m.Xb(19,"mat-hint",13),m.Tc(20,"CustomerName"),m.Wb(),m.Sb(21,"br"),m.Xb(22,"mat-hint",14),m.Tc(23),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(24,"div",5),m.Xb(25,"div",6),m.Xb(26,"div",7),m.Rc(27,Oo,38,3,"div",15),m.Wb(),m.Wb(),m.Wb(),m.Sb(28,"br"),m.Xb(29,"div",16),m.Xb(30,"div",17),m.Xb(31,"div",18),m.Xb(32,"div",9),m.Xb(33,"div",19),m.Xb(34,"div",20),m.Xb(35,"div"),m.Xb(36,"span",21),m.Tc(37,"ScoreCard Id"),m.Wb(),m.Sb(38,"br"),m.Xb(39,"div",22),m.Xb(40,"span",23),m.Tc(41),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(42,"div",20),m.Xb(43,"div",24),m.Xb(44,"span",21),m.Tc(45,"Number Of Applicants"),m.Wb(),m.Sb(46,"br"),m.Xb(47,"div",22),m.Xb(48,"span",23),m.Tc(49),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(50,"div",9),m.Sb(51,"mat-divider",25),m.Wb(),m.Xb(52,"div",26),m.Tc(53,"Questions"),m.Wb(),m.Xb(54,"div",27),m.Xb(55,"div",28),m.Rc(56,To,5,2,"div",15),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(57,"div"),m.Xb(58,"button",29),m.fc("click",function(){return t.goBack()}),m.Tc(59," Back "),m.Wb(),m.Sb(60,"span",30),m.Xb(61,"button",31),m.fc("click",function(){return t.done()}),m.Tc(62," Done "),m.Wb(),m.Wb()),2&e&&(m.Eb(2),m.rc("src",t.imagePath,m.Jc),m.Eb(21),m.Uc(t.customerName),m.Eb(4),m.rc("ngForOf",t.creditRatingValues.agencyRating),m.Eb(14),m.Vc("ID #",null==t.qualitativeScoreboardSummary?null:t.qualitativeScoreboardSummary.scoreCardId,""),m.Eb(8),m.Uc(null==t.qualitativeScoreboardSummary?null:t.qualitativeScoreboardSummary.numberOfApplicant),m.Eb(7),m.rc("ngForOf",null==t.qualitativeScoreboardSummary?null:t.qualitativeScoreboardSummary.scoreCardMapping))},directives:[v.e,v.d,v.f,v.b,h.a,h.d,x.f,o.m,O.a,y.b],styles:[""]}),Ao)},{path:"underwritingStage/credit-rating",component:po},{path:"underwritingStage/qualitative",component:no},{path:"assessmentStage/list",component:pa},{path:"assessmentStage/application-assessment/list",component:vi},{path:"SupervisorApprovalStage/list",component:Yi},{path:"SupervisorApprovalStage/list/approvalDetails",component:Ui},{path:"DigitalSigning/list",component:mi},{path:"digitalsigning/options",component:ii},{path:"digitalsigning/upload",component:ri}]}],Po=i("u9T3"),No=i("w9WL"),Ro=i("aLe/"),Fo=i("aYsj"),Mo=i("mnDI"),Lo=i("zMWy"),Vo=i("KVVp"),Bo=((_o=function e(){r(this,e)}).\u0275mod=m.Pb({type:_o}),_o.\u0275inj=m.Ob({factory:function(e){return new(e||_o)},providers:[o.d],imports:[[o.c,xi.d,d.y,Po.a,No.a,d.l,c.b,h.f,d.y,Ro.c,Fo.a,Mo.a,Lo.a,l.b,s.b,f.l.forChild(wo),Vo.OthersModule]]}),_o)}}])}();