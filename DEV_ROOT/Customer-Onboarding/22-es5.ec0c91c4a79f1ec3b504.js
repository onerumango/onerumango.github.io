!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,a){if(!t)return;if("string"==typeof t)return e(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,a)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,a){t[e]=a.value},i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(A){l=function(t,e,a){return t[e]=a}}function b(t,e,a,n){var i=e&&e.prototype instanceof m?e:m,r=Object.create(i.prototype),c=new x(n||[]);return o(r,"_invoke",{value:T(t,a,c)}),r}function u(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(A){return{type:"throw",arg:A}}}t.wrap=b;var d={};function m(){}function p(){}function f(){}var h={};l(h,r,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(O([])));v&&v!==e&&n.call(v,r)&&(h=v);var y=f.prototype=m.prototype=Object.create(h);function W(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function X(t,e){function a(o,i,r,c){var s=u(t[o],t,i);if("throw"!==s.type){var l=s.arg,b=l.value;return b&&"object"==typeof b&&n.call(b,"__await")?e.resolve(b.__await).then(function(t){a("next",t,r,c)},function(t){a("throw",t,r,c)}):e.resolve(b).then(function(t){l.value=t,r(l)},function(t){return a("throw",t,r,c)})}c(s.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e(function(e,o){a(t,n,e,o)})}return i=i?i.then(o,o):o()}})}function T(t,e,a){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return D()}for(a.method=o,a.arg=i;;){var r=a.delegate;if(r){var c=I(r,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(t,e,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function I(t,e){var a=e.method,n=t.iterator[a];if(void 0===n)return e.delegate=null,"throw"===a&&t.iterator.return&&(e.method="return",e.arg=void 0,I(t,e),"throw"===e.method)||"return"!==a&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function O(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:D}}function D(){return{value:void 0,done:!0}}return p.prototype=f,o(y,"constructor",{value:f,configurable:!0}),o(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},W(X.prototype),l(X.prototype,c,function(){return this}),t.AsyncIterator=X,t.async=function(e,a,n,o,i){void 0===i&&(i=Promise);var r=new X(b(e,a,n,o),i);return t.isGeneratorFunction(a)?r:r.next().then(function(t){return t.done?t.value:r.next()})},W(y),l(y,s,"Generator"),l(y,r,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),a=[];for(var n in e)a.push(n);return a.reverse(),function t(){for(;a.length;){var n=a.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(a,n){return r.type="throw",r.arg=t,e.next=a,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],r=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=t,r.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),C(a),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var o=n.arg;C(a)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:O(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},t}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?i:String(i)),n)}var o,i}function i(t,e,a){return e&&o(t.prototype,e),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{X7Rc:function(e,o,r){"use strict";r.r(o),r.d(o,"TasksModule",function(){return Fp});var c=r("SVse"),s=r("u9T3"),l=r("8Y7J"),b=r("nm5K"),u=r("XNiG"),d=r("Kj3r"),m=r("tZUg"),p=r("iELJ"),f=r("qMRc"),h=r("Tczp"),g=r("6rwl"),v=r("s7LF"),y=r("wd/R"),W=r("zHaW"),X=r("VDRc"),T=r("Tj54"),I=r("Q2Ze"),E=r("PDjf"),C=r("e6WT"),x=r("ZTz/"),O=r("TN/R"),D=r("jMqV"),A=r("Dxy4"),R=r("pu8Q"),S=r("UhP/");function k(t,e){1&t&&l.Sb(0,"mat-spinner",34),2&t&&l.rc("diameter",80)}function N(t,e){if(1&t&&(l.Xb(0,"mat-option",35),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function P(t,e){1&t&&(l.Xb(0,"mat-error",36),l.Tc(1," Account Type is Required! "),l.Wb())}function F(t,e){if(1&t&&(l.Xb(0,"mat-option",35),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.branchName),l.Eb(1),l.Vc(" ",a.branchName," ")}}function L(t,e){1&t&&(l.Xb(0,"mat-error",36),l.Tc(1," Account Branch is Required! "),l.Wb())}function _(t,e){1&t&&(l.Xb(0,"mat-error",36),l.Tc(1," Account Currency is Required! "),l.Wb())}function w(t,e){1&t&&(l.Xb(0,"mat-error",36),l.Tc(1," Business Product Name is Required! "),l.Wb())}function U(t,e){1&t&&(l.Xb(0,"mat-error",36),l.Tc(1," Product Description is Required! "),l.Wb())}function M(t,e){1&t&&(l.Xb(0,"mat-error",36),l.Tc(1," Application Date is Required! "),l.Wb())}function G(t,e){1&t&&(l.Xb(0,"mat-error",36),l.Tc(1," Please enter valid Application Date! "),l.Wb())}function V(t,e){1&t&&(l.Xb(0,"mat-error",36),l.Tc(1," SWIFT Code is Required! "),l.Wb())}function j(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," SWIFT Code should be a combination of minimum of 8 alphanumeric characters"),l.Wb())}function B(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",5),l.Xb(1,"mat-hint",6),l.Tc(2,"SWIFT Code"),l.Wb(),l.Xb(3,"mat-card",7),l.Xb(4,"input",37),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress1(t)}),l.Wb(),l.Wb(),l.Rc(5,V,2,0,"mat-error",13),l.Rc(6,j,2,0,"mat-error",38),l.Wb()}if(2&t){var n=l.jc();l.Eb(5),l.rc("ngIf",n.accountUpdateForm.get("swiftCode").hasError("required")&&n.accountUpdateForm.get("swiftCode").touched),l.Eb(1),l.rc("ngIf",n.accountUpdateForm.get("swiftCode").value&&!n.accountUpdateForm.get("swiftCode").hasError("required"))}}var z,q=((z=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.data=e,this.dialogRef=a,this.appApiService=o,this.formBuilder=i,this.api=r,this.cdr=c,this.snack=s,this.apiService=l,this.ls=b,this.minDate=new Date,this.maxDate=new Date,this.validDate=new Date,this.invalidDate=!1,this.validDate.setDate(this.validDate.getDate())}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getAccountBranchDetails(),this.getAccountType("account_type"),this.data&&this.data.accountId?this.buildAccountUpdateForm(this.data):this.buildAccountUpdateForm()}},{key:"buildAccountUpdateForm",value:function(t){console.log(t);var e=t?y(t.applicationDate).format():"";this.flag=!(!t||!t.swiftCodeEnable),t&&null!=t.fundTheAccount&&(this.disableFundTheAccount=!0),t.applicationDate<y(new Date).format("YYYY-MM-DD")&&(this.invalidDate=!0),this.accountUpdateForm=this.formBuilder.group({cifNumber:[t&&t.customerId?t.customerId:"",[v.z.required,v.z.minLength(5)]],customerName:[t?t.customerName:""],accountId:[this.accountId],accountType:[t?t.accountType:"",v.z.required],businessProductName:[t?t.businessProductName:"",v.z.required],productImage:[t?t.productImage:""],productDescription:[t?t.productDescription:"",v.z.required],accountBranch:[t?t.accountBranch:"",v.z.required],accountCurrency:[t?t.accountCurrency:"",v.z.required],applicationDate:[t?e:"",v.z.required],fundTheAccount:[t?t.fundTheAccount:"0"],fundBy:[!!t&&t.fundBy],amount:[t?t.amount:"0"],overDraftRequested:[!!t&&t.overDraftRequested],status:[t?t.status:""],swiftCodeEnable:[!!t&&t.swiftCodeEnable],swiftCode:[t?t.swiftCode:"",v.z.pattern("(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+){8,8}$")]})}},{key:"onSubmit",value:function(){var t=this,e={accountId:this.accountId,accountType:this.accountUpdateForm.value.accountType,businessProductName:this.accountUpdateForm.value.businessProductName,customerId:this.accountUpdateForm.value.customerId,productImage:this.accountUpdateForm.value.productImage,productDescription:this.accountUpdateForm.value.productDescription,accountBranch:this.accountUpdateForm.value.accountBranch,accountCurrency:this.accountUpdateForm.value.accountCurrency,applicationDate:this.convertDate(this.accountUpdateForm.value.applicationDate),fundTheAccount:this.accountUpdateForm.value.fundTheAccount,fundBy:this.accountUpdateForm.value.fundBy,amount:this.accountUpdateForm.value.amount,overDraftRequested:this.accountUpdateForm.value.overDraftRequested,status:this.accountUpdateForm.value.status,swiftCode:this.accountUpdateForm.value.swiftCode,swiftCodeEnable:this.accountUpdateForm.value.swiftCodeEnable,customerName:this.accountUpdateForm.value.customerName};0!=this.isCifValid?this.apiService.saveProductAccountInfo(e).subscribe(function(e){200===e||null!==e?(t.snack.open("Account Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})):500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))}):this.snack.open("Kindly Enter Valid CifNumber to proceed!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"fetchByCif",value:function(t){var e=this;this.showSpinn=!0,this.apiService.fetchByCif(t).subscribe(function(a){if("APPROVED"!=a.customerInfoList[0].custStatus&&(e.isCifValid=!1,e.snack.open("CIF Number is not Approved :"+t,"",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})),e.accountUpdateForm.controls.cifNumber.setValue(t),e.currencyData=e.arrayAccountBranch.find(function(t){return t.branchName==e.branchName}),e.accountUpdateForm.get("accountBranch").setValue(e.branchName),null==e.currencyData&&null==e.currencyData||e.accountUpdateForm.get("accountCurrency").setValue(e.currencyData.branchCcy),e.accountUpdateForm.get("amount").setValue(0),e.accountUpdateForm.get("swiftCode").setValue(null),e.showSpinn=!1,!a)return e.isCifValid=!1,void e.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});"APPROVED"==a.customerInfoList[0].custStatus&&(e.isCifValid=!0),null!=e.accountUpdateForm.value.swiftCode&&null!=e.accountUpdateForm.value.swiftCodeEnable||(console.log(e.accountUpdateForm.value.swiftCode),e.flag=!1),"APPROVED"==a.customerInfoList[0].custStatus&&(a.customerInfoList[0].middleName?e.accountUpdateForm.get("customerName").setValue(a.customerInfoList[0].firstName+" "+a.customerInfoList[0].middleName+" "+a.customerInfoList[0].lastName):e.accountUpdateForm.get("customerName").setValue(a.customerInfoList[0].firstName+" "+a.customerInfoList[0].lastName),e.cifNumberPrimary=t),e.cdr.markForCheck()})}},{key:"onToggle",value:function(t){1==t.checked?this.flag=!0:(this.flag=!1,this.accountUpdateForm.controls.swiftCode.reset(),this.cdr.detectChanges(),this.cdr.markForCheck())}},{key:"onKeyPress",value:function(t){var e=this,a=String.fromCharCode(t.charCode);/[0-9]/.test(a)||t.preventDefault(),console.log(t.target.value),clearTimeout(this.timer),t.target.value?this.timer=setTimeout(function(){e.appApiService.fetchByCif(t.target.value).subscribe(function(t){console.log(t),t&&(e.listOfCustByCif=t.customerInfoList)})},1e3):this.listOfCustByCif=[]}},{key:"_keyPress",value:function(t){console.log("gghhhhhhhhhhhhhhhh");var e=String.fromCharCode(t.charCode);/^[A-Za-z\s]*$/.test(e)||t.preventDefault()}},{key:"_keyPress1",value:function(t){var e=String.fromCharCode(t.charCode);/[a-zA-Z0-9]/.test(e)||t.preventDefault()}},{key:"keyUpevent",value:function(t){console.log("event",t),8===t.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1}},{key:"getAccountType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayAccountType=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.api.getAccountBranch().subscribe(function(e){t.arrayAccountBranch=e,t.currencyData=t.arrayAccountBranch.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData),null==t.currencyData&&null==t.currencyData||t.accountUpdateForm.get("accountCurrency").setValue(t.currencyData.branchCcy)})}},{key:"onChangeBranch",value:function(t){this.currencyData=this.arrayAccountBranch.find(function(e){return e.branchName==t.value}),null==this.currencyData&&null==this.currencyData||this.accountUpdateForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}},{key:"convertDate",value:function(t){var e=y(t).format("YYYY-MMM-DD");if(e)return e}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"addevent",value:function(t){this.invalidDate=!1}}]),t}()).\u0275fac=function(t){return new(t||z)(l.Rb(p.a),l.Rb(p.g),l.Rb(f.a),l.Rb(v.f),l.Rb(b.b),l.Rb(l.h),l.Rb(W.a),l.Rb(f.a),l.Rb(m.a))},z.\u0275cmp=l.Lb({type:z,selectors:[["app-account-details-update"]],decls:94,vars:17,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"keypress","change","keyup"],["class","spinner",3,"diameter",4,"ngIf"],["matInput","","readonly","","required","","formControlName","customerName","name","customerName","placeholder","Customer Name",3,"keypress","keyup"],["name","accountType","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["name","account_branch","formControlName","accountBranch",3,"selectionChange"],["matInput","","name","currency","placeholder","Account Currency","formControlName","accountCurrency",3,"readonly"],["matInput","","name","product_image","formControlName","productImage","placeholder","Product Image","value",""],["matInput","","name","business","formControlName","businessProductName","placeholder","Business Product Name"],["matInput","","name","business","placeholder","Product Description","formControlName","productDescription"],["fxFlex","85%"],["matInput","","name","date","readonly","","formControlName","applicationDate","placeholder","Application Date",3,"matDatepicker","min","dateChange"],["fxFlex","15%"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["fxLayout","row"],["formControlName","swiftCodeEnable",3,"change"],[1,"pb-1"],[1,"ml-12"],["formControlName","fundBy"],["formControlName","overDraftRequested"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[1,"spinner",3,"diameter"],[3,"value"],[1,"errorClass"],["minlength","8","maxlength","11","matInput","","name","swift_code","required","","formControlName","swiftCode","placeholder","SWIFT Code","value","",3,"keypress"],[4,"ngIf"]],template:function(t,e){if(1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Account Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"form",3),l.Xb(7,"div",4),l.Xb(8,"div",5),l.Xb(9,"mat-hint",6),l.Tc(10,"CIF Number"),l.Wb(),l.Xb(11,"mat-card",7),l.Xb(12,"input",8),l.fc("keypress",function(t){return e._keyPress(t)})("change",function(){return e.fetchByCif(e.accountUpdateForm.get("cifNumber").value)})("keyup",function(t){return e.onKeyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Rc(13,k,1,1,"mat-spinner",9),l.Xb(14,"div",5),l.Xb(15,"mat-hint",6),l.Tc(16,"Customer Name"),l.Wb(),l.Xb(17,"mat-card",7),l.Xb(18,"input",10),l.fc("keypress",function(t){return e._keyPress(t)})("keyup",function(t){return e.keyUpevent(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"div",5),l.Xb(20,"mat-hint",6),l.Tc(21,"Account Type*"),l.Wb(),l.Xb(22,"mat-card",7),l.Xb(23,"mat-select",11),l.Rc(24,N,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(25,P,2,0,"mat-error",13),l.Wb(),l.Xb(26,"div",5),l.Xb(27,"mat-hint",6),l.Tc(28,"Account Branch*"),l.Wb(),l.Xb(29,"mat-card",7),l.Xb(30,"mat-select",14),l.fc("selectionChange",function(t){return e.onChangeBranch(t)}),l.Rc(31,F,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(32,L,2,0,"mat-error",13),l.Wb(),l.Xb(33,"div",5),l.Xb(34,"mat-hint",6),l.Tc(35,"Account Currency*"),l.Wb(),l.Xb(36,"mat-card",7),l.Sb(37,"input",15),l.Wb(),l.Rc(38,_,2,0,"mat-error",13),l.Wb(),l.Xb(39,"div",5),l.Xb(40,"mat-hint",6),l.Tc(41,"Product Image"),l.Wb(),l.Xb(42,"mat-card",7),l.Sb(43,"input",16),l.Wb(),l.Wb(),l.Xb(44,"div",5),l.Xb(45,"mat-hint",6),l.Tc(46,"Business Product Name*"),l.Wb(),l.Xb(47,"mat-card",7),l.Sb(48,"input",17),l.Wb(),l.Rc(49,w,2,0,"mat-error",13),l.Wb(),l.Xb(50,"div",5),l.Xb(51,"mat-hint",6),l.Tc(52,"Product Description*"),l.Wb(),l.Xb(53,"mat-card",7),l.Sb(54,"input",18),l.Wb(),l.Rc(55,U,2,0,"mat-error",13),l.Wb(),l.Xb(56,"div",5),l.Xb(57,"mat-hint",6),l.Tc(58,"Application Date*"),l.Wb(),l.Xb(59,"mat-card",7),l.Xb(60,"div",19),l.Xb(61,"input",20),l.fc("dateChange",function(t){return e.addevent(t)}),l.Wb(),l.Wb(),l.Xb(62,"div",21),l.Sb(63,"mat-datepicker-toggle",22),l.Wb(),l.Wb(),l.Rc(64,M,2,0,"mat-error",13),l.Rc(65,G,2,0,"mat-error",13),l.Sb(66,"mat-datepicker",null,23),l.Wb(),l.Wb(),l.Xb(68,"div"),l.Xb(69,"div"),l.Rc(70,B,7,2,"div",24),l.Wb(),l.Xb(71,"div",25),l.Xb(72,"div"),l.Tc(73," Want to add SWIFT Code ? "),l.Xb(74,"mat-slide-toggle",26),l.fc("change",function(t){return e.onToggle(t)}),l.Wb(),l.Wb(),l.Sb(75,"br"),l.Wb(),l.Xb(76,"div"),l.Xb(77,"div",27),l.Xb(78,"label"),l.Tc(79,"Initial Funding?"),l.Wb(),l.Sb(80,"div",28),l.Sb(81,"mat-slide-toggle",29),l.Wb(),l.Wb(),l.Xb(82,"div"),l.Xb(83,"div",27),l.Xb(84,"label"),l.Tc(85,"Overdraft Requested?"),l.Wb(),l.Sb(86,"div",28),l.Sb(87,"mat-slide-toggle",30),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(88,"div",31),l.Xb(89,"button",32),l.fc("click",function(){return e.onSubmit()}),l.Tc(90,"Save"),l.Wb(),l.Tc(91," \xa0\xa0\xa0 "),l.Xb(92,"button",33),l.fc("click",function(){return e.close()}),l.Tc(93," Cancel "),l.Wb(),l.Wb()),2&t){var a=l.Dc(67);l.Eb(6),l.rc("formGroup",e.accountUpdateForm),l.Eb(7),l.rc("ngIf",e.showSpinn),l.Eb(11),l.rc("ngForOf",e.arrayAccountType),l.Eb(1),l.rc("ngIf",e.accountUpdateForm.get("accountType").hasError("required")&&e.accountUpdateForm.get("accountType").touched),l.Eb(6),l.rc("ngForOf",e.arrayAccountBranch),l.Eb(1),l.rc("ngIf",e.accountUpdateForm.get("accountBranch").hasError("required")&&e.accountUpdateForm.get("accountBranch").touched),l.Eb(5),l.rc("readonly",!0),l.Eb(1),l.rc("ngIf",e.accountUpdateForm.get("accountCurrency").hasError("required")&&e.accountUpdateForm.get("accountCurrency").touched),l.Eb(11),l.rc("ngIf",e.accountUpdateForm.get("businessProductName").hasError("required")&&e.accountUpdateForm.get("businessProductName").touched),l.Eb(6),l.rc("ngIf",e.accountUpdateForm.get("productDescription").hasError("required")&&e.accountUpdateForm.get("productDescription").touched),l.Eb(6),l.rc("matDatepicker",a)("min",e.validDate),l.Eb(2),l.rc("for",a),l.Eb(1),l.rc("ngIf",e.accountUpdateForm.get("applicationDate").hasError("required")&&e.accountUpdateForm.get("applicationDate").touched),l.Eb(1),l.rc("ngIf",e.invalidDate),l.Eb(5),l.rc("ngIf",e.flag),l.Eb(19),l.rc("disabled",e.accountUpdateForm.invalid)}},directives:[X.e,X.f,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,C.b,v.c,v.r,v.i,c.n,v.y,x.a,c.m,O.e,O.g,I.j,O.d,D.a,A.b,R.b,S.n,I.b,v.n,v.m],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),z),J=r("3kSh"),K=r("3sEA"),$=r("o4Yh"),H=r("f44v"),Y=r("2Goh");function Z(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Q(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Ownership is Required! "),l.Wb())}function tt(t,e){if(1&t){var a=l.Yb();l.Vb(0),l.Xb(1,"mat-form-field",20),l.Xb(2,"mat-label"),l.Tc(3,"Number of Applicants*"),l.Wb(),l.Xb(4,"mat-select",21),l.fc("selectionChange",function(t){return l.Hc(a),l.jc(2).onChangeApplicantNo(t)}),l.Xb(5,"mat-option",18),l.Tc(6,"1"),l.Wb(),l.Xb(7,"mat-option",18),l.Tc(8,"2"),l.Wb(),l.Xb(9,"mat-option",18),l.Tc(10,"3"),l.Wb(),l.Xb(11,"mat-option",18),l.Tc(12,"4"),l.Wb(),l.Xb(13,"mat-option",18),l.Tc(14,"5"),l.Wb(),l.Wb(),l.Wb(),l.Ub()}2&t&&(l.Eb(5),l.rc("value",1),l.Eb(2),l.rc("value",2),l.Eb(2),l.rc("value",3),l.Eb(2),l.rc("value",4),l.Eb(2),l.rc("value",5))}function et(t,e){if(1&t&&(l.Xb(0,"mat-chip",65),l.Tc(1),l.Wb()),2&t){var a=l.jc().$implicit,n=l.jc(2);l.rc("color","warn")("selected",a.value.primaryCustomer),l.Eb(1),l.Uc(n.account.value.primaryCustomer?"primary":"")}}function at(t,e){1&t&&l.Tb(0)}var nt=function(t){return{$implicit:t}};function ot(t,e){if(1&t&&(l.Vb(0),l.Rc(1,at,1,0,"ng-container",66),l.Ub()),2&t){var a=l.jc().$implicit,n=l.jc(2);l.Eb(1),l.rc("ngTemplateOutlet",n.detailApplicant)("ngTemplateOutletContext",l.xc(2,nt,a))}}function it(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function rt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Prefix is Required! "),l.Wb())}function ct(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," First Name is Required! "),l.Wb())}function st(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Last Name is Required! "),l.Wb())}function lt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Date of Birth is Required! "),l.Wb())}function bt(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function ut(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Gender is Required! "),l.Wb())}function dt(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function mt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Resident Status is Required! "),l.Wb())}function pt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Birth Place is Required! "),l.Wb())}function ft(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function ht(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Country of Residence is Required! "),l.Wb())}function gt(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function vt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Citizenship By is Required! "),l.Wb())}function yt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Occupation Type is Required! "),l.Wb())}function Wt(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Xt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," ID Type is Required! "),l.Wb())}function Tt(t,e){1&t&&(l.Xb(0,"div"),l.Tc(1,"Unique ID Number is Required!"),l.Wb())}function It(t,e){1&t&&(l.Xb(0,"div"),l.Tc(1,"This is a numeric field "),l.Wb())}function Et(t,e){if(1&t&&(l.Xb(0,"mat-error",19),l.Rc(1,Tt,2,0,"div",33),l.Rc(2,It,2,0,"div",33),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("ngIf",a.get("idNumber").hasError("required")),l.Eb(1),l.rc("ngIf",a.get("idNumber").hasError("pattern"))}}function Ct(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," ID Type Valid Till is Required! "),l.Wb())}function xt(t,e){if(1&t&&(l.Xb(0,"div",39),l.Xb(1,"mat-hint",10),l.Tc(2,"ID Type Valid Till*"),l.Wb(),l.Xb(3,"mat-card",71),l.Xb(4,"div",72),l.Sb(5,"input",73),l.Wb(),l.Xb(6,"div",74),l.Sb(7,"mat-datepicker-toggle",46),l.Wb(),l.Wb(),l.Rc(8,Ct,2,0,"mat-error",13),l.Sb(9,"mat-datepicker",null,75),l.Wb()),2&t){var a=l.Dc(10),n=l.jc().$implicit,o=l.jc(3);l.Eb(5),l.rc("matDatepicker",a)("min",o.validDate),l.Eb(2),l.rc("for",a),l.Eb(1),l.rc("ngIf",n.get("expiryDate").hasError("required"))}}function Ot(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",67),l.Xb(1,"div",39),l.Xb(2,"mat-hint",10),l.Tc(3,"ID Type*"),l.Wb(),l.Xb(4,"mat-card",40),l.Xb(5,"mat-select",68),l.fc("selectionChange",function(){l.Hc(a);var t=e.$implicit;return l.jc(3).changeIdType(t.get("idType").value)}),l.Rc(6,Wt,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(7,Xt,2,0,"mat-error",13),l.Wb(),l.Xb(8,"div",39),l.Xb(9,"mat-hint",10),l.Tc(10,"Unique ID Number *"),l.Wb(),l.Xb(11,"mat-card",40),l.Sb(12,"input",69),l.Wb(),l.Rc(13,Et,3,2,"mat-error",13),l.Wb(),l.Rc(14,xt,11,4,"div",70),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.jc(3);l.rc("formGroupName",o),l.Eb(6),l.rc("ngForOf",i.arrayDocumentType),l.Eb(1),l.rc("ngIf",n.get("idType").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("idNumber").touched&&!n.get("idNumber").valid),l.Eb(1),l.rc("ngIf","Passport"==n.get("idType").value||"DL"==n.get("idType").value)}}function Dt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Address 1 is Required! "),l.Wb())}function At(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Please Enter Valid Address "),l.Wb())}function Rt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Address 2 is Required! "),l.Wb())}function St(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Please Enter Valid Address "),l.Wb())}function kt(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Nt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Residence Type is Required! "),l.Wb())}function Pt(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Ft(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Country is Required! "),l.Wb())}function Lt(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.stateName),l.Eb(1),l.Vc(" ",a.stateName,"")}}function _t(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," State is Required! "),l.Wb())}function wt(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc("",a," ")}}function Ut(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," City is Required! "),l.Wb())}function Mt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Please enter valid Zip Code!(5-10 digits) "),l.Wb())}function Gt(t,e){1&t&&(l.Xb(0,"h5",85),l.Tc(1,"Please enter valid Zip Code! "),l.Wb())}function Vt(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",76),l.Xb(1,"div",77),l.Xb(2,"div",39),l.Xb(3,"mat-hint",10),l.Tc(4,"Address Line 1*"),l.Wb(),l.Xb(5,"mat-card",40),l.Sb(6,"textarea",78),l.Wb(),l.Rc(7,Dt,2,0,"mat-error",13),l.Rc(8,At,2,0,"mat-error",13),l.Wb(),l.Xb(9,"div",39),l.Xb(10,"mat-hint",10),l.Tc(11,"Address 2*"),l.Wb(),l.Xb(12,"mat-card",40),l.Sb(13,"textarea",79),l.Wb(),l.Rc(14,Rt,2,0,"mat-error",13),l.Rc(15,St,2,0,"mat-error",13),l.Wb(),l.Xb(16,"div",39),l.Xb(17,"mat-hint",10),l.Tc(18,"Residence Type*"),l.Wb(),l.Xb(19,"mat-card",40),l.Xb(20,"mat-select"),l.Rc(21,kt,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(22,Nt,2,0,"mat-error",13),l.Wb(),l.Xb(23,"div",39),l.Xb(24,"mat-hint",10),l.Tc(25,"Country*"),l.Wb(),l.Xb(26,"mat-card",40),l.Xb(27,"mat-select",80),l.fc("selectionChange",function(t){return l.Hc(a),l.jc(3).getStateName(t.value)}),l.Rc(28,Pt,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(29,Ft,2,0,"mat-error",13),l.Wb(),l.Xb(30,"div",39),l.Xb(31,"mat-hint",10),l.Tc(32,"State*"),l.Wb(),l.Xb(33,"mat-card",40),l.Xb(34,"mat-select",81),l.fc("selectionChange",function(t){return l.Hc(a),l.jc(3).getCityName(t.value)}),l.Rc(35,Lt,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(36,_t,2,0,"mat-error",13),l.Wb(),l.Xb(37,"div",39),l.Xb(38,"mat-hint",10),l.Tc(39,"City*"),l.Wb(),l.Xb(40,"mat-card",40),l.Xb(41,"mat-select",82),l.Rc(42,wt,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(43,Ut,2,0,"mat-error",13),l.Wb(),l.Xb(44,"div",39),l.Xb(45,"mat-hint",10),l.Tc(46,"Zip Code*"),l.Wb(),l.Xb(47,"mat-card",40),l.Xb(48,"input",83),l.fc("keypress",function(t){return l.Hc(a),l.jc(3).onKeyPress(t)})("keyup",function(t){return l.Hc(a),l.jc(3).isAllSameDigit(t)}),l.Wb(),l.Wb(),l.Rc(49,Mt,2,0,"mat-error",13),l.Rc(50,Gt,2,0,"h5",84),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.jc(3);l.rc("formGroupName",o),l.Eb(7),l.rc("ngIf",n.get("address1").touched&&n.get("address1").hasError("required")),l.Eb(1),l.rc("ngIf",n.get("address2").touched&&n.get("address1").hasError("pattern")),l.Eb(6),l.rc("ngIf",n.get("address2").hasError("required")),l.Eb(1),l.rc("ngIf",n.get("address2").touched&&n.get("address2").hasError("pattern")),l.Eb(6),l.rc("ngForOf",i.arrayAddressType),l.Eb(1),l.rc("ngIf",n.get("addressType").hasError("required")),l.Eb(6),l.rc("ngForOf",i.arrayCountry),l.Eb(1),l.rc("ngIf",n.get("country").hasError("required")),l.Eb(6),l.rc("ngForOf",i.arrayState),l.Eb(1),l.rc("ngIf",n.get("state").hasError("required")),l.Eb(6),l.rc("ngForOf",i.arrayCity),l.Eb(1),l.rc("ngIf",n.get("city").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("zipCode").hasError("required")&&!n.controls.zipCode.valid&&(null==n.controls.zipCode?null:n.controls.zipCode.touched)),l.Eb(1),l.rc("ngIf",i.isAllSameDigitVal)}}function jt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Please, Enter 10 digit Mobile Number! "),l.Wb())}function Bt(t,e){1&t&&(l.Xb(0,"mat-error",86),l.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),l.Wb())}function zt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Landline Number is Required! "),l.Wb())}function qt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Please, Enter 10 digit Landline Number! "),l.Wb())}function Jt(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," E-mail is Required! "),l.Wb())}function Kt(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",22),l.Xb(1,"mat-accordion",23),l.Xb(2,"mat-expansion-panel"),l.Xb(3,"mat-expansion-panel-header"),l.Xb(4,"mat-panel-title"),l.Xb(5,"mat-icon",24),l.Tc(6,"check_circle"),l.Wb(),l.Xb(7,"span",25),l.Tc(8),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"mat-card"),l.Xb(10,"mat-card-header"),l.Xb(11,"div",26),l.Sb(12,"app-avatar-photo",27),l.Wb(),l.Xb(13,"mat-card-title"),l.Xb(14,"div",28),l.Xb(15,"h6",29),l.Tc(16),l.Wb(),l.Sb(17,"span",30),l.Rc(18,et,2,3,"mat-chip",31),l.Wb(),l.Wb(),l.Xb(19,"mat-card-subtitle"),l.Xb(20,"span",32),l.Tc(21),l.Wb(),l.Wb(),l.Wb(),l.Xb(22,"mat-card-container"),l.Rc(23,ot,2,4,"ng-container",33),l.Wb(),l.Xb(24,"div"),l.Xb(25,"div",34),l.Xb(26,"div",35),l.Xb(27,"label"),l.Tc(28,"Is the applicant an existing customer?"),l.Wb(),l.Tc(29," \xa0\xa0 "),l.Sb(30,"mat-slide-toggle",36),l.Wb(),l.Xb(31,"div",35),l.Xb(32,"label"),l.Tc(33,"Is the applicant a primary customer?"),l.Wb(),l.Tc(34," \xa0\xa0 "),l.Sb(35,"mat-slide-toggle",37),l.Sb(36,"div",38),l.Wb(),l.Xb(37,"div",39),l.Xb(38,"mat-hint",10),l.Tc(39,"Customer Prefix*"),l.Wb(),l.Xb(40,"mat-card",40),l.Xb(41,"mat-select",41),l.Rc(42,it,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(43,rt,2,0,"mat-error",13),l.Wb(),l.Xb(44,"div",39),l.Xb(45,"mat-hint",10),l.Tc(46,"First Name*"),l.Wb(),l.Xb(47,"mat-card",40),l.Xb(48,"input",42),l.fc("keypress",function(t){return l.Hc(a),l.jc(2).letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(49,ct,2,0,"mat-error",13),l.Wb(),l.Xb(50,"div",39),l.Xb(51,"mat-hint",10),l.Tc(52,"Middle Name"),l.Wb(),l.Xb(53,"mat-card",40),l.Xb(54,"input",43),l.fc("keypress",function(t){return l.Hc(a),l.jc(2).letterOnly(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(55,"div",39),l.Xb(56,"mat-hint",10),l.Tc(57,"Last Name*"),l.Wb(),l.Xb(58,"mat-card",40),l.Xb(59,"input",44),l.fc("keypress",function(t){return l.Hc(a),l.jc(2).letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(60,st,2,0,"mat-error",13),l.Wb(),l.Xb(61,"div",39),l.Xb(62,"mat-hint",10),l.Tc(63,"Date of Birth*"),l.Wb(),l.Xb(64,"mat-card",40),l.Sb(65,"input",45),l.Sb(66,"mat-datepicker-toggle",46),l.Wb(),l.Rc(67,lt,2,0,"mat-error",13),l.Sb(68,"mat-datepicker",null,47),l.Wb(),l.Xb(70,"div",39),l.Xb(71,"mat-hint",10),l.Tc(72,"Gender*"),l.Wb(),l.Xb(73,"mat-card",40),l.Xb(74,"mat-select",48),l.Rc(75,bt,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(76,ut,2,0,"mat-error",13),l.Wb(),l.Xb(77,"div",39),l.Xb(78,"mat-hint",10),l.Tc(79,"Resident Status*"),l.Wb(),l.Xb(80,"mat-card",40),l.Xb(81,"mat-select",49),l.Rc(82,dt,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(83,mt,2,0,"mat-error",13),l.Wb(),l.Xb(84,"div",39),l.Xb(85,"mat-hint",10),l.Tc(86,"Birth Place*"),l.Wb(),l.Xb(87,"mat-card",40),l.Sb(88,"input",50),l.Wb(),l.Rc(89,pt,2,0,"mat-error",13),l.Wb(),l.Xb(90,"div",39),l.Xb(91,"mat-hint",10),l.Tc(92,"Country of Residence*"),l.Wb(),l.Xb(93,"mat-card",40),l.Xb(94,"mat-select",51),l.Rc(95,ft,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(96,ht,2,0,"mat-error",13),l.Wb(),l.Xb(97,"div",39),l.Xb(98,"mat-hint",10),l.Tc(99,"Citizenship By*"),l.Wb(),l.Xb(100,"mat-card",40),l.Xb(101,"mat-select",52),l.Rc(102,gt,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(103,vt,2,0,"mat-error",13),l.Wb(),l.Xb(104,"div",39),l.Xb(105,"mat-hint",10),l.Tc(106,"Occupation Type*"),l.Wb(),l.Xb(107,"mat-card",40),l.Sb(108,"input",53),l.Wb(),l.Rc(109,yt,2,0,"mat-error",13),l.Wb(),l.Xb(110,"div",54),l.Rc(111,Ot,15,5,"div",55),l.Wb(),l.Wb(),l.Xb(112,"mat-accordion"),l.Xb(113,"mat-expansion-panel",56),l.Xb(114,"mat-expansion-panel-header"),l.Xb(115,"mat-panel-title"),l.Tc(116,"Contact Information "),l.Wb(),l.Wb(),l.Xb(117,"div",57),l.Rc(118,Vt,51,15,"div",58),l.Wb(),l.Wb(),l.Wb(),l.Xb(119,"mat-accordion"),l.Xb(120,"mat-expansion-panel",56),l.Xb(121,"mat-expansion-panel-header"),l.Xb(122,"mat-panel-title"),l.Tc(123,"Contact Information "),l.Wb(),l.Wb(),l.Xb(124,"div",34),l.Xb(125,"div",39),l.Xb(126,"mat-hint",10),l.Tc(127,"Mobile Number*"),l.Wb(),l.Xb(128,"mat-card",40),l.Xb(129,"input",59),l.fc("keypress",function(t){return l.Hc(a),l.jc(2).onKeyPress(t)}),l.Wb(),l.Wb(),l.Rc(130,jt,2,0,"mat-error",13),l.Rc(131,Bt,2,0,"mat-error",60),l.Wb(),l.Xb(132,"div",39),l.Xb(133,"mat-hint",10),l.Tc(134,"Landline Number"),l.Wb(),l.Xb(135,"mat-card",40),l.Xb(136,"input",61),l.fc("keypress",function(t){return l.Hc(a),l.jc(2).onKeyPress(t)}),l.Wb(),l.Wb(),l.Rc(137,zt,2,0,"mat-error",13),l.Rc(138,qt,2,0,"mat-error",13),l.Wb(),l.Xb(139,"div",39),l.Xb(140,"mat-hint",10),l.Tc(141,"E-mail*"),l.Wb(),l.Xb(142,"mat-card",40),l.Sb(143,"input",62),l.Wb(),l.Rc(144,Jt,2,0,"mat-error",13),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(145,"div",63),l.Xb(146,"button",64),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index;return l.jc(2).onSubmit(t.value,n)}),l.Tc(147," UPDATE APPLICANT "),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.Dc(69),r=l.jc(2);l.rc("item",r.account)("formGroupName",o),l.Eb(8),l.Vc("Applicant ",o+1,""),l.Eb(4),l.rc("name",n.value.firstName+" "+n.value.lastName),l.Eb(4),l.Uc(n.value.firstName+" "+n.value.lastName),l.Eb(2),l.rc("ngIf",n.primaryCustomer),l.Eb(3),l.Vc("CIF ",null!=n.value.cifNumber?"#"+n.value.cifNumber:"-n/a",""),l.Eb(2),l.rc("ngIf",(null==r.selectedApplicant?null:r.selectedApplicant._id)===n._id),l.Eb(19),l.rc("ngForOf",r.arrayPrefix),l.Eb(1),l.rc("ngIf",n.get("prefix").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("firstName").hasError("required")),l.Eb(11),l.rc("ngIf",n.get("lastName").hasError("required")),l.Eb(5),l.rc("matDatepicker",i)("max",r.tomorrow)("max",r.maxDate),l.Eb(1),l.rc("for",i),l.Eb(1),l.rc("ngIf",n.get("dateOfBirth").hasError("required")),l.Eb(8),l.rc("ngForOf",r.arrayGender),l.Eb(1),l.rc("ngIf",n.get("gender").hasError("required")),l.Eb(6),l.rc("ngForOf",r.arrayResidence),l.Eb(1),l.rc("ngIf",n.get("residenceStatus").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("placeOfBirth").hasError("required")),l.Eb(6),l.rc("ngForOf",r.arrayCountry),l.Eb(1),l.rc("ngIf",n.get("countryOfResidence").hasError("required")),l.Eb(6),l.rc("ngForOf",r.arrayCountry),l.Eb(1),l.rc("ngIf",n.get("nationality").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("occupationType").hasError("required")),l.Eb(2),l.rc("ngForOf",n.get("custIdProofs").controls),l.Eb(7),l.rc("ngForOf",n.get("userAddress").controls),l.Eb(12),l.rc("ngIf",n.get("phoneNumber").hasError("pattern")),l.Eb(1),l.rc("ngIf","0000000000"==n.get("phoneNumber").value),l.Eb(6),l.rc("ngIf",n.get("landlineNumber").hasError("required")),l.Eb(1),l.rc("ngIf",n.get("landlineNumber").hasError("pattern")),l.Eb(6),l.rc("ngIf",n.get("primaryEmailAdress").hasError("required")),l.Eb(2),l.rc("disabled",n.invalid)}}function $t(t,e){if(1&t){var a=l.Yb();l.Xb(0,"form",7),l.Xb(1,"div"),l.Xb(2,"div",8),l.Xb(3,"div",9),l.Xb(4,"mat-hint",10),l.Tc(5,"Ownership"),l.Wb(),l.Xb(6,"mat-card"),l.Xb(7,"mat-select",11),l.fc("selectionChange",function(){return l.Hc(a),l.jc().changeOwner()}),l.Rc(8,Z,2,2,"mat-option",12),l.Wb(),l.Wb(),l.Rc(9,Q,2,0,"mat-error",13),l.Wb(),l.Xb(10,"div",14),l.Rc(11,tt,15,5,"ng-container",15),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"div",16),l.Rc(13,Kt,148,35,"div",17),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.rc("formGroup",n.customerInfoUpdateForm),l.Eb(8),l.rc("ngForOf",n.arrayOwnership),l.Eb(1),l.rc("ngIf",n.customerInfoUpdateForm.get("ownership").hasError("required")),l.Eb(2),l.rc("ngIf","Join"==n.customerInfoUpdateForm.get("ownership").value)("ngIfElse",n.showAdd),l.Eb(2),l.rc("ngForOf",n.applicant.controls)}}var Ht,Yt=((Ht=function(){function t(e,a,o,i,r,c,s,l,b,u,d){n(this,t),this.data=e,this.dialogRef=a,this.appApiService=o,this.formBuilder=i,this.apiService=r,this.tasksummaryService=c,this.ls=s,this.snack=l,this.cdr=b,this.loader=u,this.confirmService=d,this.listOfAccounts=[],this.arrayCountry=[],this.arrayCity=[],this.arrayState=[]}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.productCustomerId=this.ls.getItem("accountDetails.customerId"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getOwnershipValue("ownership"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getDocumentType("document_type"),this.getAdressType("address_type"),this.data?(this.getStateValueArray(this.data.data[0].userAddress[0].country),this.getAllAuthCities(),this.buildCustomerForm(this.data.data),this.addCustFormGroup(this.data.data,this.data.data.length)):(this.buildCustomerForm(),this.addCustFormGroup(null,1)),console.log(this.customerInfoUpdateForm)}},{key:"f",get:function(){return this.customerInfoUpdateForm.controls}},{key:"applicantCount",get:function(){return this.f.numOfApplicants}},{key:"applicant",get:function(){return this.f.applicantDetails}},{key:"buildCustomerForm",value:function(t){this.customerInfoUpdateForm=this.formBuilder.group({productAccountId:this.accountId,ownership:t&&t.length>1?"Join":"Self",numOfApplicants:t?t.length.toString():1,applicantDetails:this.formBuilder.array([])})}},{key:"getStateValueArray",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName==t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){e.arrayState=t});break}})}},{key:"getAllAuthCities",value:function(){var t=this;this.apiService.getAuthorizedCityInfo().subscribe(function(e){return e.map(function(e){return t.arrayCity.push(e.cityName)})})}},{key:"convertDate",value:function(t){var e=y(t).format("YYYY-MM-DD");if(console.log("date",e),e)return e}},{key:"addCustFormGroup",value:function(t,e){for(var a=0;a<e;a++)this.applicant.push(this.formBuilder.group({existingCustomer:[t[a]?t[a].existingCustomer:""],primaryCustomer:[t[a]?t[a].primaryCustomer:""],cifNumber:[t[a]?t[a].cifNumber:""],prefix:[t[a]?t[a].prefix:"",v.z.required],firstName:[t[a]?t[a].firstName:"",v.z.required],middleName:[t[a]?t[a].middleName:""],lastName:[t[a]?t[a].lastName:"",v.z.required],gender:[t[a]?t[a].gender:"",v.z.required],dateOfBirth:[t[a]?t[a].dateOfBirth:"",v.z.required],placeOfBirth:[t[a]?t[a].placeOfBirth:"",v.z.required],residenceStatus:[t[a]?t[a].residenceStatus:"",v.z.required],nationality:[t[a]?t[a].nationality:"",v.z.required],countryOfResidence:[t[a]?t[a].countryOfResidence:"",v.z.required],occupationType:[t[a]?t[a].occupationType:"",v.z.required],phoneNumber:[t[a]?t[a].phoneNumber:"",[v.z.required,v.z.minLength(3),v.z.maxLength(10),v.z.pattern("^[0-9]{10,12}$")]],landlineNumber:[t[a]?t[a].landlineNumber:"",[v.z.required,v.z.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:[t[a]?t[a].primaryEmailAdress:"",[v.z.required,v.z.email]],userAddress:this.formBuilder.array([]),custIdProofs:this.formBuilder.array([])})),this.addCustIdProofs(a,t[a].custIdProofs[0]),this.addAddress(a,t[a].userAddress[0])}},{key:"addAddress",value:function(t,e){this.applicant.controls[t].get("userAddress").push(this.formBuilder.group({address1:[e?e.address1:"",[v.z.required]],address2:[e?e.address2:"",[v.z.required]],addressType:[e?e.addressType:"",[v.z.required]],city:[e?e.city:"",[v.z.required]],state:[e?e.state:"",[v.z.required]],country:[e?e.country:"",[v.z.required]],zipCode:[e?e.zipCode:"",[v.z.required]]}))}},{key:"addCustIdProofs",value:function(t,e){this.applicant.controls[t].get("custIdProofs").push(this.formBuilder.group({idNumber:[e?e.idNumber:"",v.z.required],idType:[e?e.idType:"",v.z.required],expiryDate:[e?e.expiryDate:""]}))}},{key:"changeOwner",value:function(){"Join"==this.customerInfoUpdateForm.get("ownership").value?this.customerInfoUpdateForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}):this.customerInfoUpdateForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1})}},{key:"onChangeApplicantNo",value:function(t){var e=t.target.value,a=this.customerInfoUpdateForm.get("numOfApplicants").value;if(e>a)this.addCustFormGroup(null,e-a);else for(var n=a-1;n>=e;n++)this.applicant.removeAt(n);this.customerInfoUpdateForm.get("numOfApplicants").setValue(e)}},{key:"changeIdType",value:function(t){console.log("doc::",t),console.log("this.customerIdProofs::",this.customerIdProofs);var e=this.customerIdProofs.filter(function(e){return e.idType==t});console.log("idProofs::",e),e.length>0?(this.applicant.get("idNumber").patchValue(e[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(e[0].expiryDate))):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t})}},{key:"getGenderValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayGender=t})}},{key:"getOwnershipValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayOwnership=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName===t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayState.push(t[a].stateName)});break}})}},{key:"getCityName",value:function(t){var e=this;console.log(t),this.apiService.getDropDownValues1("city",t).subscribe(function(t){e.arrayCity=t})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"getDocumentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayDocumentType=t})}},{key:"getAdressType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayAddressType=t})}},{key:"onSubmit",value:function(t,e){var a=this;console.log(t),this.isCifValid=!1,this.customerInfoUpdateForm.invalid||(this.loader.open(),"Passport"==t.value.idType&&(t.value.idType=this.convertDate(t.value.idType)),this.appApiService.createAndUpdateAccountants(t).subscribe(function(t){console.log("data::",t),a.closeDetails(),a.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(a.snack.open("Customer Information Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.customerInfoUpdateForm.get("ownership").patchValue(t.custDependentModel.ownership),a.customerInfoUpdateForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants),"Self"!=a.customerInfoUpdateForm.get("ownership").value&&a.applicant.controls.length-1!=e||a.dialogRef.close({status:"BACKLOG"}))},function(t){console.log(t),a.loader.close(),a.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}))}},{key:"isAllSameDigit",value:function(t){var e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;console.log("number :: ",a),console.log("isAllSameDigitVal :: ",e,a.length),e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"validateNumber",value:function(t){var e=t.keyCode;e>=48&&e<=57||e>=96&&e<=105||[8,37,39,46].includes(e)||t.preventDefault()}},{key:"onSave",value:function(){this.dialogRef.close({status:"BACKLOG"})}},{key:"closeDetails",value:function(){this.selectedApplicant=null,this.applicant.reset(),this.customerInfoUpdateForm.get("numOfApplicants").enable({onlySelf:!0})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Ht)(l.Rb(p.a),l.Rb(p.g),l.Rb(f.a),l.Rb(v.f),l.Rb(b.b),l.Rb(g.a),l.Rb(m.a),l.Rb(W.a),l.Rb(l.h),l.Rb(K.a),l.Rb(J.a))},Ht.\u0275cmp=l.Lb({type:Ht,selectors:[["app-customer-info-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","50"],[1,"hintClass"],["formControlName","ownership","name","owner","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","50","fxFlex.gt-xs","50"],[4,"ngIf","ngIfElse"],["formArrayName","applicantDetails"],[3,"item","formGroupName",4,"ngFor","ngForOf"],[3,"value"],[1,"errorClass"],["appearance","outline",1,"full-width"],["formControlName","numOfApplicants","name","account",3,"selectionChange"],[3,"item","formGroupName"],["multi","true"],[1,"check-circle"],[1,"ml-8"],["mat-card-avatar",""],[3,"name"],["fxLayout","row"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%"],["formControlName","existingCustomer"],["formControlName","primaryCustomer"],[1,"mb-16"],["fxFlex","30%","fxFlex.xs","100%"],[1,"inputCard"],["name","prefix","formControlName","prefix"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","Date of birth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],["name","gender","formControlName","gender"],["name","residenceType","formControlName","residenceStatus"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],["name","resident","formControlName","countryOfResidence"],["name","citizen","formControlName","nationality"],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type"],["formArrayName","custIdProofs","fxFlex","100%"],["fxFlex","100%","fxLayout","row wrap",3,"formGroupName",4,"ngFor","ngForOf"],["expanded","true",1,"mb-8"],["formArrayName","userAddress"],[3,"formGroupName",4,"ngFor","ngForOf"],["maxlength","10","matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number",3,"keypress"],["class","errorClass","style","margin-top:-20px",4,"ngIf"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail"],[1,"pb-1"],["mat-button","","color","primary",1,"place_1",3,"disabled","click"],["mat-sm-chip","",3,"color","selected"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","100%","fxLayout","row wrap",3,"formGroupName"],["name","idtype","formControlName","idType",3,"selectionChange"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["fxFlex","30%","fxFlex.xs","100%",4,"ngIf"],["fxLayout","row",1,"inputCard"],["fxFlex","85%"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"matDatepicker","min"],["fxFlex","15%"],["appDatepicker1",""],[3,"formGroupName"],["fxLayout","row wrap"],["matInput","","formControlName","address1","placeholder","Address 1"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],[2,"color","#E74C3C"],[1,"errorClass",2,"margin-top","-20px"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Customer Information Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Rc(6,$t,14,6,"form",3),l.Wb(),l.Xb(7,"div",4),l.Xb(8,"button",5),l.fc("click",function(){return e.onSave()}),l.Tc(9,"Save"),l.Wb(),l.Tc(10," \xa0\xa0\xa0 "),l.Xb(11,"button",6),l.fc("click",function(){return e.close()}),l.Tc(12," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("ngIf",e.customerInfoUpdateForm),l.Eb(2),l.rc("disabled",e.customerInfoUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,A.b,v.A,v.s,v.j,X.b,I.f,E.a,x.a,v.r,v.i,v.y,c.m,v.e,S.n,I.b,I.c,I.g,v.k,$.a,$.c,$.e,$.f,E.e,E.c,E.h,E.g,D.a,C.b,v.c,O.e,O.g,I.j,O.d,v.m,H.a,c.s,v.w,v.n,Y.a],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Ht),Zt=r("YS3K"),Qt=r("LvDl"),te=r("zQhy"),ee=r("pMoy");function ae(t,e){if(1&t){var a=l.Yb();l.Xb(0,"p",31),l.Xb(1,"mat-checkbox",32),l.fc("change",function(t){l.Hc(a);var n=e.$implicit;return l.jc(2).onChecklistChange(t.checked,n)}),l.Tc(2),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit;l.Eb(1),l.rc("value",n)("checked",n.checked),l.Eb(1),l.Vc("",n.name," ")}}function ne(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",33),l.Xb(1,"mat-checkbox",32),l.fc("change",function(t){l.Hc(a);var n=e.$implicit;return l.jc(2).onCheckbankChange(t.checked,n)}),l.Tc(2),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit;l.Eb(1),l.rc("value",n)("checked",n.checked),l.Eb(1),l.Vc("",n.name," ")}}function oe(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",34),l.Xb(1,"mat-checkbox",32),l.fc("change",function(t){l.Hc(a);var n=e.$implicit;return l.jc(2).onCheckComChange(t.checked,n)}),l.Tc(2),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit;l.Eb(1),l.rc("value",n)("checked",n.checked),l.Eb(1),l.Vc("",n.name," ")}}function ie(t,e){if(1&t&&(l.Xb(0,"mat-option",40),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function re(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"table",41),l.Xb(2,"thead",42),l.Xb(3,"tr"),l.Xb(4,"th"),l.Tc(5,"Card Type"),l.Wb(),l.Xb(6,"th"),l.Tc(7,"Daily Limit"),l.Wb(),l.Xb(8,"th"),l.Tc(9,"Domestic Limit"),l.Wb(),l.Xb(10,"th"),l.Tc(11,"International Limit"),l.Wb(),l.Xb(12,"th"),l.Tc(13,"ATM Limit"),l.Wb(),l.Xb(14,"th"),l.Tc(15,"POS Limit "),l.Wb(),l.Xb(16,"th"),l.Tc(17,"Internet Limit "),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"tbody"),l.Xb(19,"tr"),l.Xb(20,"td"),l.Tc(21,"Normal"),l.Wb(),l.Xb(22,"td"),l.Tc(23,"20,000"),l.Wb(),l.Xb(24,"td"),l.Tc(25,"20,000"),l.Wb(),l.Xb(26,"td"),l.Tc(27,"Nil"),l.Wb(),l.Xb(28,"td"),l.Tc(29,"10,000"),l.Wb(),l.Sb(30,"td"),l.Sb(31,"td"),l.Wb(),l.Wb(),l.Wb(),l.Wb())}function ce(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"table",41),l.Xb(2,"thead",42),l.Xb(3,"tr"),l.Xb(4,"th"),l.Tc(5,"Card Type"),l.Wb(),l.Xb(6,"th"),l.Tc(7,"Daily Limit"),l.Wb(),l.Xb(8,"th"),l.Tc(9,"Domestic Limit"),l.Wb(),l.Xb(10,"th"),l.Tc(11,"International Limit"),l.Wb(),l.Xb(12,"th"),l.Tc(13,"ATM Limit"),l.Wb(),l.Xb(14,"th"),l.Tc(15,"POS Limit "),l.Wb(),l.Xb(16,"th"),l.Tc(17,"Internet Limit "),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"tbody"),l.Xb(19,"tr"),l.Xb(20,"td"),l.Tc(21,"Silver"),l.Wb(),l.Xb(22,"td"),l.Tc(23,"40,000"),l.Wb(),l.Xb(24,"td"),l.Tc(25,"40,000"),l.Wb(),l.Xb(26,"td"),l.Tc(27,"20,000"),l.Wb(),l.Xb(28,"td"),l.Tc(29,"40,000"),l.Wb(),l.Sb(30,"td"),l.Sb(31,"td"),l.Wb(),l.Wb(),l.Wb(),l.Wb())}function se(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"table",41),l.Xb(2,"thead",42),l.Xb(3,"tr"),l.Xb(4,"th"),l.Tc(5,"Card Type"),l.Wb(),l.Xb(6,"th"),l.Tc(7,"Daily Limit"),l.Wb(),l.Xb(8,"th"),l.Tc(9,"Domestic Limit"),l.Wb(),l.Xb(10,"th"),l.Tc(11,"International Limit"),l.Wb(),l.Xb(12,"th"),l.Tc(13,"ATM Limit"),l.Wb(),l.Xb(14,"th"),l.Tc(15,"POS Limit "),l.Wb(),l.Xb(16,"th"),l.Tc(17,"Internet Limit "),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"tbody"),l.Xb(19,"tr"),l.Xb(20,"td"),l.Tc(21,"Gold"),l.Wb(),l.Xb(22,"td"),l.Tc(23,"50,000"),l.Wb(),l.Xb(24,"td"),l.Tc(25,"50,000"),l.Wb(),l.Xb(26,"td"),l.Tc(27,"30,000"),l.Wb(),l.Xb(28,"td"),l.Tc(29,"50,000"),l.Wb(),l.Sb(30,"td"),l.Sb(31,"td"),l.Wb(),l.Wb(),l.Wb(),l.Wb())}function le(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"table",41),l.Xb(2,"thead",42),l.Xb(3,"tr"),l.Xb(4,"th"),l.Tc(5,"Card Type"),l.Wb(),l.Xb(6,"th"),l.Tc(7,"Daily Limit"),l.Wb(),l.Xb(8,"th"),l.Tc(9,"Domestic Limit"),l.Wb(),l.Xb(10,"th"),l.Tc(11,"International Limit"),l.Wb(),l.Xb(12,"th"),l.Tc(13,"ATM Limit"),l.Wb(),l.Xb(14,"th"),l.Tc(15,"POS Limit "),l.Wb(),l.Xb(16,"th"),l.Tc(17,"Internet Limit "),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"tbody"),l.Xb(19,"tr"),l.Xb(20,"td"),l.Tc(21,"Diamond"),l.Wb(),l.Xb(22,"td"),l.Tc(23,"75,000"),l.Wb(),l.Xb(24,"td"),l.Tc(25,"75,000"),l.Wb(),l.Xb(26,"td"),l.Tc(27,"50,000"),l.Wb(),l.Xb(28,"td"),l.Tc(29,"75,000"),l.Wb(),l.Sb(30,"td"),l.Sb(31,"td"),l.Wb(),l.Wb(),l.Wb(),l.Wb())}function be(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"table",41),l.Xb(2,"thead",42),l.Xb(3,"tr"),l.Xb(4,"th"),l.Tc(5,"Card Type"),l.Wb(),l.Xb(6,"th"),l.Tc(7,"Daily Limit"),l.Wb(),l.Xb(8,"th"),l.Tc(9,"Domestic Limit"),l.Wb(),l.Xb(10,"th"),l.Tc(11,"International Limit"),l.Wb(),l.Xb(12,"th"),l.Tc(13,"ATM Limit"),l.Wb(),l.Xb(14,"th"),l.Tc(15,"POS Limit "),l.Wb(),l.Xb(16,"th"),l.Tc(17,"Internet Limit "),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"tbody"),l.Xb(19,"tr"),l.Xb(20,"td"),l.Tc(21,"Platinum"),l.Wb(),l.Xb(22,"td"),l.Tc(23,"1,00,000"),l.Wb(),l.Xb(24,"td"),l.Tc(25,"1,00,000"),l.Wb(),l.Xb(26,"td"),l.Tc(27,"1,00,000"),l.Wb(),l.Xb(28,"td"),l.Tc(29,"1,00,000"),l.Wb(),l.Sb(30,"td"),l.Sb(31,"td"),l.Wb(),l.Wb(),l.Wb(),l.Wb())}function ue(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",35),l.Xb(1,"mat-form-field",36),l.Xb(2,"mat-label"),l.Tc(3,"Card Type"),l.Wb(),l.Xb(4,"mat-select",37),l.fc("selectionChange",function(t){return l.Hc(a),l.jc(2).cards(t)}),l.Rc(5,ie,2,2,"mat-option",38),l.Wb(),l.Wb(),l.Xb(6,"div"),l.Rc(7,re,32,0,"div",39),l.Rc(8,ce,32,0,"div",39),l.Rc(9,se,32,0,"div",39),l.Rc(10,le,32,0,"div",39),l.Rc(11,be,32,0,"div",39),l.Wb(),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(5),l.rc("ngForOf",n.arrayCardType),l.Eb(2),l.rc("ngIf",n.Normal),l.Eb(1),l.rc("ngIf",n.Silver),l.Eb(1),l.rc("ngIf",n.Gold),l.Eb(1),l.rc("ngIf",n.Diamond),l.Eb(1),l.rc("ngIf",n.Platinum)}}function de(t,e){if(1&t){var a=l.Yb();l.Xb(0,"form",7),l.Xb(1,"div",8),l.Xb(2,"div"),l.Xb(3,"div"),l.Xb(4,"mat-label"),l.Tc(5," Account Statement Frequency "),l.Wb(),l.Wb(),l.Xb(6,"div"),l.Xb(7,"mat-radio-group",9),l.fc("change",function(t){return l.Hc(a),l.jc().statementFrequency(t.value)}),l.Xb(8,"mat-radio-button",10),l.Tc(9," Monthly "),l.Wb(),l.Xb(10,"mat-radio-button",11),l.Tc(11," Bi-Annual "),l.Wb(),l.Xb(12,"mat-radio-button",12),l.Tc(13," Quaterly "),l.Wb(),l.Xb(14,"mat-radio-button",13),l.Tc(15," Annual "),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(16,"div"),l.Xb(17,"div"),l.Xb(18,"mat-label"),l.Tc(19," Account Statement Preference* "),l.Wb(),l.Wb(),l.Xb(20,"div"),l.Rc(21,ae,3,3,"p",14),l.Wb(),l.Wb(),l.Wb(),l.Xb(22,"div",15),l.Xb(23,"button",16),l.Tc(24," MORE PREFERENCE "),l.Wb(),l.Wb(),l.Xb(25,"div"),l.Xb(26,"div",8),l.Xb(27,"div",17),l.Xb(28,"div",18),l.Xb(29,"mat-label"),l.Tc(30," Banking Channel Preferences* "),l.Wb(),l.Wb(),l.Xb(31,"div",18),l.Rc(32,ne,3,3,"div",19),l.Wb(),l.Wb(),l.Xb(33,"div",17),l.Xb(34,"div",18),l.Xb(35,"mat-label"),l.Tc(36,"Communication Channel Preferences*"),l.Wb(),l.Wb(),l.Xb(37,"div",18),l.Rc(38,oe,3,3,"div",20),l.Wb(),l.Wb(),l.Wb(),l.Xb(39,"div",21),l.Xb(40,"div",22),l.Sb(41,"div",23),l.Xb(42,"div",24),l.Tc(43," Do you need a cheque book? "),l.Sb(44,"mat-slide-toggle",25),l.Wb(),l.Wb(),l.Xb(45,"div",26),l.Xb(46,"div",24),l.Tc(47," Do you need a passbook book? "),l.Sb(48,"mat-slide-toggle",27),l.Wb(),l.Wb(),l.Wb(),l.Xb(49,"div",21),l.Xb(50,"div",28),l.Sb(51,"div",23),l.Xb(52,"div",24),l.Tc(53," Do you need a debit card? "),l.Xb(54,"mat-slide-toggle",29),l.fc("change",function(t){return l.Hc(a),l.jc().onToggle(t)}),l.Wb(),l.Wb(),l.Wb(),l.Rc(55,ue,12,6,"div",30),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.rc("formGroup",n.serviceUpdateForm),l.Eb(21),l.rc("ngForOf",n.statementList),l.Eb(11),l.rc("ngForOf",n.bankList),l.Eb(6),l.rc("ngForOf",n.communicationList),l.Eb(17),l.rc("ngIf",n.isDebitLimit)}}var me,pe=((me=function(){function t(e,a,o,i,r,c,s,l){n(this,t),this.data=e,this.dialogRef=a,this.ls=o,this.formBuilder=i,this.cdr=r,this.apiService=c,this.snack=s,this.tasksummaryService=l,this.statementList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1}],this.bankList=[{id:1,name:"Phone Banking",checked:!1},{id:2,name:"Kiosk Banking",checked:!1},{id:3,name:"Direct Banking",checked:!1}],this.communicationList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1},{id:3,name:"SMS",checked:!1}],this.bankChannelPreferencesArray=[],this.arrayCardType=["Normal","Silver","Gold","Diamond","Platinum"],this.arrayModeOfOperation=["25000","50000","100000"],this.commChannelPreferencesArray=[],this.AccStatementPreferenceArray=[],this.Platinum=!1,this.Diamond=!1,this.Normal=!1,this.Silver=!1,this.Gold=!1}return i(t,[{key:"ngOnInit",value:function(){if(console.log(this.data),this.accountId=this.ls.getItem("accountId"),null!=this.data&&null!=this.data){this.buildServiceForm(this.data),this.statementList=this.data.statementPref,this.communicationList=this.data.commChannelPref,this.bankList=this.data.bankChannelPref,this.data.debitCardRequired&&(this.isDebitLimit=!0),this.cdr.markForCheck();for(var t=0;t<this.bankList.length;t++)this.bankList[t].checked&&this.bankChannelPreferencesArray.push(this.bankList[t].name);for(t=0;t<this.communicationList.length;t++)this.communicationList[t].checked&&this.commChannelPreferencesArray.push(this.communicationList[t].name);for(t=0;t<this.statementList.length;t++)this.statementList[t].checked&&this.AccStatementPreferenceArray.push(this.statementList[t].name)}else this.buildServiceForm(),this.serviceUpdateForm.controls.statementPref.patchValue(this.statementList),this.serviceUpdateForm.controls.commChannelPref.patchValue(this.communicationList)}},{key:"buildServiceForm",value:function(t){this.serviceUpdateForm=this.formBuilder.group({accServiceId:[t?t.accServiceId:null],productAccountId:[null!=this.accountId?this.accountId:null],statementFrequency:[t?t.statementFrequency:""],statementPref:[t?this.flattenValues(t.statementPref):""],bankChannelPref:[t?t.bankChannelPref:""],commChannelPref:[t?this.flattenValues(t.commChannelPref):""],chequebookNeeded:[!!t&&t.chequebookNeeded],debitcardNeeded:[!!t&&t.debitcardNeeded],passbookNeeded:[!!t&&t.passbookNeeded],cardType:[t?t.cardType:""],modeOfOperation:[t?t.modeOfOperation:""],debitCardRequired:[!!t&&t.debitCardRequired],debitCardLimit:[t?t.debitCardLimit:0],debitCardType:[t?t.debitCardType:""]})}},{key:"flattenValues",value:function(t){return Object(Qt.flow)([Object(Zt.filter)(function(t){return t.checked}),Object(Zt.flatMap)(function(t){return t.name})])(t).join(",")}},{key:"onToggle",value:function(t){console.log("event",t.checked),this.isDebitLimit=1==t.checked}},{key:"cards",value:function(t){console.log(t.value),"Normal"==t.value?(console.log(t.value),this.Normal=!0,this.Silver=!1,this.Gold=!1,this.Diamond=!1,this.Platinum=!1):"Silver"==t.value?(this.Silver=!0,this.Normal=!1,this.Gold=!1,this.Diamond=!1,this.Platinum=!1):"Gold"==t.value?(this.Gold=!0,this.Silver=!1,this.Normal=!1,this.Diamond=!1,this.Platinum=!1):"Diamond"==t.value?(this.Diamond=!0,this.Normal=!1,this.Silver=!1,this.Gold=!1,this.Platinum=!1):"Platinum"==t.value&&(this.Platinum=!0,this.Normal=!1,this.Silver=!1,this.Gold=!1,this.Diamond=!1)}},{key:"onChecklistChange",value:function(t,e){var a=this;e.checked=t,this.serviceUpdateForm.get("statementPref").setValue(this.flattenValues(this.statementList)),t?this.AccStatementPreferenceArray.push(e.name):this.AccStatementPreferenceArray.forEach(function(t,n){t===e.name&&a.AccStatementPreferenceArray.splice(n,1)})}},{key:"onCheckComChange",value:function(t,e){var a=this;console.log(t),console.log(e),e.checked=t,this.serviceUpdateForm.get("commChannelPref").setValue(this.flattenValues(this.communicationList)),t?(this.commChannelPreferencesArray.push(e.name),console.log("checked",e.name)):this.commChannelPreferencesArray.forEach(function(t,n){t===e.name&&(a.commChannelPreferencesArray.splice(n,1),console.log("checked",e.name))})}},{key:"onCheckbankChange",value:function(t,e){var a=this;console.log(t),console.log(e),e.checked=t,this.serviceUpdateForm.get("bankChannelPref").setValue(this.flattenValues(this.bankList)),t?(this.bankChannelPreferencesArray.push(e.name),console.log("checked",e.name)):this.bankChannelPreferencesArray.forEach(function(t,n){t===e.name&&(a.bankChannelPreferencesArray.splice(n,1),console.log("checked",e.name))})}},{key:"onSubmit",value:function(){var t=this;this.serviceUpdateForm.invalid||this.apiService.createAccountService(this.accountId,{productAccountId:this.accountId,accServiceId:this.serviceUpdateForm.value.accServiceId,statementFrequency:this.serviceUpdateForm.value.statementFrequency,statementPref:this.statementList,bankChannelPref:this.bankList,commChannelPref:this.communicationList,chequebookNeeded:this.serviceUpdateForm.value.chequebookNeeded,debitCardRequired:this.serviceUpdateForm.value.debitCardRequired,passbookNeeded:this.serviceUpdateForm.value.passbookNeeded,debitCardLimit:this.serviceUpdateForm.value.debitCardLimit,debitCardType:this.serviceUpdateForm.value.debitCardType,accountType:"createAccount"}).subscribe(function(e){console.log(e),t.snack.open("Account Service Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})},function(t){console.log(t)})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||me)(l.Rb(p.a),l.Rb(p.g),l.Rb(m.a),l.Rb(v.f),l.Rb(l.h),l.Rb(b.b),l.Rb(W.a),l.Rb(g.a))},me.\u0275cmp=l.Lb({type:me,selectors:[["app-service-details-update"]],decls:17,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","20%"],["name","statementFreq","formControlName","statementFrequency","required","",3,"change"],["value","MONTHLY","color","primary"],["value","BIANNUAL","color","primary"],["value","QUATERLY","color","primary"],["value","ANNUAL","color","primary"],["formArrayName","statementPref",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"mt-32"],["mat-button","","rounded","","color","primary"],["fxLayout","row wrap"],["fxFlex","100"],["fxFlex","60","formArrayName","bankChannelPref",4,"ngFor","ngForOf"],["fxFlex","25","formArrayName","commChannelPref",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"m-32"],[1,"pb-1","mt-32"],["color","primary","name","checqueBook","formControlName","chequebookNeeded"],["fxFlex","100","fxFlex.gt-xs","50"],["color","primary","name","passbook","formControlName","passbookNeeded"],["fxFlex","100","fxFlex.gt-xs","25",1,"pr-1"],["color","primary","name","debitCardRequired","formControlName","debitCardRequired",3,"change"],["fxFlex","100","style","padding-top: 20px;","fxFlex.gt-xs","20","class","pr-1",4,"ngIf"],["formArrayName","statementPref"],["color","primary",1,"checkbox-margin",3,"value","checked","change"],["fxFlex","60","formArrayName","bankChannelPref"],["fxFlex","25","formArrayName","commChannelPref"],["fxFlex","100","fxFlex.gt-xs","20",1,"pr-1",2,"padding-top","20px"],["appearance","outline",1,"full-width"],["formControlName","debitCardType","name","debitCardType","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"table","table-bordered"],[2,"color","#03a9f4"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Account Service Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"mat-card"),l.Xb(7,"mat-card-title"),l.Tc(8," Account Statement "),l.Wb(),l.Xb(9,"mat-card-content"),l.Rc(10,de,56,5,"form",3),l.Wb(),l.Wb(),l.Wb(),l.Xb(11,"div",4),l.Xb(12,"button",5),l.fc("click",function(){return e.onSubmit()}),l.Tc(13,"Save"),l.Wb(),l.Tc(14," \xa0\xa0\xa0 "),l.Xb(15,"button",6),l.fc("click",function(){return e.close()}),l.Tc(16," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(10),l.rc("ngIf",e.serviceUpdateForm),l.Eb(2),l.rc("disabled",!e.serviceUpdateForm.valid||0==e.bankChannelPreferencesArray.length||0==e.commChannelPreferencesArray.length||0==e.AccStatementPreferenceArray.length))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,E.a,E.h,E.d,c.n,A.b,v.A,v.s,v.j,I.g,te.b,v.r,v.i,v.y,te.a,c.m,X.b,D.a,v.e,ee.a,I.c,x.a,S.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),me);function fe(t,e){if(1&t&&(l.Xb(0,"mat-option",43),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function he(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Prefix is Required! "),l.Wb())}function ge(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," First Name is Required! "),l.Wb())}function ve(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Only Alphabets allowed "),l.Wb())}function ye(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Only Alphabets allowed "),l.Wb())}function We(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Last Name is Required! "),l.Wb())}function Xe(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Only Alphabets allowed "),l.Wb())}function Te(t,e){if(1&t&&(l.Xb(0,"mat-option",43),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Ie(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Relationship Type is Required! "),l.Wb())}function Ee(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Date of Birth is Required! "),l.Wb())}function Ce(t,e){if(1&t&&(l.Xb(0,"mat-option",43),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function xe(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Prefix is Required! "),l.Wb())}function Oe(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," First Name is Required! "),l.Wb())}function De(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Last Name is Required! "),l.Wb())}function Ae(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Relationship Type is Required! "),l.Wb())}function Re(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Date of Birth is Required! "),l.Wb())}function Se(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",45),l.Xb(2,"h3"),l.Xb(3,"strong"),l.Tc(4,"Guardians Details"),l.Wb(),l.Wb(),l.Wb(),l.Xb(5,"div",46),l.Xb(6,"div"),l.Xb(7,"div",12),l.Xb(8,"mat-hint"),l.Tc(9,"Prefix*"),l.Wb(),l.Xb(10,"mat-card"),l.Xb(11,"mat-select",47),l.Rc(12,Ce,2,2,"mat-option",14),l.Wb(),l.Wb(),l.Rc(13,xe,2,0,"mat-error",15),l.Wb(),l.Xb(14,"div",12),l.Xb(15,"mat-hint"),l.Tc(16,"First Name*"),l.Wb(),l.Xb(17,"mat-card"),l.Xb(18,"input",48),l.fc("keypress",function(t){return l.Hc(a),l.jc(3).letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(19,Oe,2,0,"mat-error",15),l.Wb(),l.Xb(20,"div",12),l.Xb(21,"mat-hint"),l.Tc(22,"Middle Name"),l.Wb(),l.Xb(23,"mat-card"),l.Xb(24,"input",49),l.fc("keypress",function(t){return l.Hc(a),l.jc(3).letterOnly(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",12),l.Xb(26,"mat-hint"),l.Tc(27,"Last Name*"),l.Wb(),l.Xb(28,"mat-card"),l.Xb(29,"input",50),l.fc("keypress",function(t){return l.Hc(a),l.jc(3).letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(30,De,2,0,"mat-error",15),l.Wb(),l.Xb(31,"div",12),l.Xb(32,"mat-hint"),l.Tc(33,"RelationShip Type*"),l.Wb(),l.Xb(34,"mat-card"),l.Sb(35,"input",51),l.Wb(),l.Rc(36,Ae,2,0,"mat-error",15),l.Wb(),l.Xb(37,"div",12),l.Xb(38,"mat-hint"),l.Tc(39,"Date Of Birth*"),l.Wb(),l.Xb(40,"mat-card"),l.Sb(41,"input",52),l.Sb(42,"mat-datepicker-toggle",21),l.Wb(),l.Rc(43,Re,2,0,"mat-error",15),l.Sb(44,"mat-datepicker",null,53),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.Dc(45),r=l.jc(3);l.Eb(5),l.rc("formGroupName",o),l.Eb(7),l.rc("ngForOf",r.arrayPrefix),l.Eb(1),l.rc("ngIf",n.get("prefix").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("firstName").hasError("required")),l.Eb(11),l.rc("ngIf",n.get("lastName").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("relationshipType").hasError("required")),l.Eb(5),l.rc("matDatepicker",i)("max",r.tomorrow),l.Eb(1),l.rc("for",i),l.Eb(1),l.rc("ngIf",n.get("dateOfBirth").hasError("required"))}}function ke(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Street is Required! "),l.Wb())}function Ne(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Locality is Required! "),l.Wb())}function Pe(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Building is Required! "),l.Wb())}function Fe(t,e){if(1&t&&(l.Xb(0,"mat-option",43),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Le(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Country is Required! "),l.Wb())}function _e(t,e){if(1&t&&(l.Xb(0,"mat-option",43),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.stateName),l.Eb(1),l.Uc(a.stateName)}}function we(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," State is Required! "),l.Wb())}function Ue(t,e){if(1&t&&(l.Xb(0,"mat-option",43),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.value1),l.Eb(1),l.Uc(a.value1)}}function Me(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," City is Required! "),l.Wb())}function Ge(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Please enter Zip Code! "),l.Wb())}function Ve(t,e){1&t&&(l.Xb(0,"h5",54),l.Tc(1,"Please enter valid Zip Code!"),l.Wb())}function je(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Mobile number is Required! "),l.Wb())}function Be(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Please Enter 10 Digit Mobile Number! "),l.Wb())}function ze(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Email is Required! "),l.Wb())}function qe(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," Email must be a valid email address! "),l.Wb())}function Je(t,e){1&t&&(l.Xb(0,"mat-error",44),l.Tc(1," It is not a valid Landline number. "),l.Wb())}function Ke(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",9),l.Xb(1,"mat-accordion"),l.Xb(2,"mat-expansion-panel",10),l.fc("opened",function(){return l.Hc(a),l.jc(2).panelOpenState=!0})("closed",function(){return l.Hc(a),l.jc(2).panelOpenState=!1}),l.Xb(3,"mat-expansion-panel-header"),l.Xb(4,"mat-panel-title"),l.Tc(5),l.Wb(),l.Wb(),l.Xb(6,"div",11),l.Xb(7,"div",12),l.Xb(8,"mat-hint"),l.Tc(9,"Prefix*"),l.Wb(),l.Xb(10,"mat-card"),l.Xb(11,"mat-select",13),l.fc("selectionChange",function(t){return l.Hc(a),l.jc(2).changeClient(t.value)}),l.Rc(12,fe,2,2,"mat-option",14),l.Wb(),l.Wb(),l.Rc(13,he,2,0,"mat-error",15),l.Wb(),l.Xb(14,"div",12),l.Xb(15,"mat-hint"),l.Tc(16,"First Name*"),l.Wb(),l.Xb(17,"mat-card"),l.Xb(18,"input",16),l.fc("keypress",function(t){return l.Hc(a),l.jc(2).letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(19,ge,2,0,"mat-error",15),l.Rc(20,ve,2,0,"mat-error",15),l.Wb(),l.Xb(21,"div",12),l.Xb(22,"mat-hint"),l.Tc(23,"Middle Name"),l.Wb(),l.Xb(24,"mat-card"),l.Xb(25,"input",17),l.fc("keypress",function(t){return l.Hc(a),l.jc(2).letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(26,ye,2,0,"mat-error",15),l.Wb(),l.Xb(27,"div",12),l.Xb(28,"mat-hint"),l.Tc(29,"Last Name*"),l.Wb(),l.Xb(30,"mat-card"),l.Xb(31,"input",18),l.fc("keypress",function(t){return l.Hc(a),l.jc(2).letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(32,We,2,0,"mat-error",15),l.Rc(33,Xe,2,0,"mat-error",15),l.Wb(),l.Xb(34,"div",12),l.Xb(35,"mat-hint"),l.Tc(36,"Relationship Type*"),l.Wb(),l.Xb(37,"mat-card"),l.Xb(38,"mat-select",19),l.Rc(39,Te,2,2,"mat-option",14),l.Wb(),l.Wb(),l.Rc(40,Ie,2,0,"mat-error",15),l.Wb(),l.Xb(41,"div",12),l.Xb(42,"mat-hint"),l.Tc(43,"Date of Birth*"),l.Wb(),l.Xb(44,"mat-card"),l.Xb(45,"input",20),l.fc("dateInput",function(t){return l.Hc(a),l.jc(2).addInput(t)})("dateChange",function(t){l.Hc(a);var n=e.$implicit;return l.jc(2).addevent(n.controls.guardianDetails,t)}),l.Wb(),l.Sb(46,"mat-datepicker-toggle",21),l.Wb(),l.Rc(47,Ee,2,0,"mat-error",15),l.Sb(48,"mat-datepicker",null,22),l.Wb(),l.Xb(50,"div",23),l.Tc(51," Is the Nominee a Minor? "),l.Xb(52,"mat-slide-toggle",24),l.fc("change",function(t){l.Hc(a);var n=e.$implicit,o=e.index;return l.jc(2).onChange(n.controls.guardianDetails,t,o)}),l.Wb(),l.Wb(),l.Xb(53,"div",25),l.Rc(54,Se,46,10,"div",26),l.Wb(),l.Xb(55,"div",23),l.Tc(56," Same address as Applicant? "),l.Xb(57,"mat-slide-toggle",27),l.fc("change",function(t){return l.Hc(a),l.jc(2).clickToggle(t)}),l.Wb(),l.Wb(),l.Xb(58,"mat-accordion"),l.Xb(59,"mat-expansion-panel",28),l.Xb(60,"mat-expansion-panel-header"),l.Xb(61,"mat-panel-title"),l.Tc(62,"Nominee Address "),l.Wb(),l.Wb(),l.Xb(63,"div",29),l.Xb(64,"div",12),l.Xb(65,"mat-hint"),l.Tc(66,"Street*"),l.Wb(),l.Xb(67,"mat-card"),l.Sb(68,"input",30),l.Wb(),l.Rc(69,ke,2,0,"mat-error",15),l.Wb(),l.Xb(70,"div",12),l.Xb(71,"mat-hint"),l.Tc(72,"Locality*"),l.Wb(),l.Xb(73,"mat-card"),l.Sb(74,"input",31),l.Wb(),l.Rc(75,Ne,2,0,"mat-error",15),l.Wb(),l.Xb(76,"div",12),l.Xb(77,"mat-hint"),l.Tc(78,"Building*"),l.Wb(),l.Xb(79,"mat-card"),l.Sb(80,"input",32),l.Wb(),l.Rc(81,Pe,2,0,"mat-error",15),l.Wb(),l.Xb(82,"div",12),l.Xb(83,"mat-hint"),l.Tc(84,"Country*"),l.Wb(),l.Xb(85,"mat-card"),l.Xb(86,"mat-select",33),l.fc("selectionChange",function(t){return l.Hc(a),l.jc(2).getStateName(t.value)}),l.Rc(87,Fe,2,2,"mat-option",14),l.Wb(),l.Wb(),l.Rc(88,Le,2,0,"mat-error",15),l.Wb(),l.Xb(89,"div",12),l.Xb(90,"mat-hint"),l.Tc(91,"State*"),l.Wb(),l.Xb(92,"mat-card"),l.Xb(93,"mat-select",34),l.fc("selectionChange",function(t){return l.Hc(a),l.jc(2).getCityName(t.value)}),l.Rc(94,_e,2,2,"mat-option",14),l.Wb(),l.Wb(),l.Rc(95,we,2,0,"mat-error",15),l.Wb(),l.Xb(96,"div",12),l.Xb(97,"mat-hint"),l.Tc(98,"city*"),l.Wb(),l.Xb(99,"mat-card"),l.Xb(100,"mat-select",35),l.Rc(101,Ue,2,2,"mat-option",14),l.Wb(),l.Wb(),l.Rc(102,Me,2,0,"mat-error",15),l.Wb(),l.Xb(103,"div",12),l.Xb(104,"mat-hint"),l.Tc(105,"Zip Code*"),l.Wb(),l.Xb(106,"mat-card"),l.Xb(107,"input",36),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)})("keyup",function(t){return l.Hc(a),l.jc(2).isAllSameDigit(t)}),l.Wb(),l.Wb(),l.Rc(108,Ge,2,0,"mat-error",15),l.Rc(109,Ve,2,0,"h5",37),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(110,"mat-accordion"),l.Xb(111,"mat-expansion-panel",28),l.Xb(112,"mat-expansion-panel-header"),l.Xb(113,"mat-panel-title"),l.Tc(114,"Contact Information "),l.Wb(),l.Wb(),l.Xb(115,"div",29),l.Xb(116,"div",12),l.Xb(117,"mat-hint"),l.Tc(118,"Mobile Number*"),l.Wb(),l.Xb(119,"mat-card"),l.Xb(120,"input",38),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(121,je,2,0,"mat-error",15),l.Rc(122,Be,2,0,"mat-error",15),l.Wb(),l.Xb(123,"div",12),l.Xb(124,"mat-hint"),l.Tc(125,"E-mail*"),l.Wb(),l.Xb(126,"mat-card"),l.Sb(127,"input",39),l.Wb(),l.Rc(128,ze,2,0,"mat-error",15),l.Rc(129,qe,2,0,"mat-error",15),l.Wb(),l.Xb(130,"div",12),l.Xb(131,"mat-hint"),l.Tc(132,"Landline Number"),l.Wb(),l.Xb(133,"mat-card"),l.Xb(134,"input",40),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(135,Je,2,0,"mat-error",15),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(136,"button",41),l.fc("click",function(){return l.Hc(a),l.jc(2).addNominee()}),l.Xb(137,"mat-icon"),l.Tc(138,"add"),l.Wb(),l.Tc(139," ADD NOMINEE "),l.Wb(),l.Xb(140,"button",42),l.fc("click",function(){l.Hc(a);var t=e.index;return l.jc(2).removeNominee(t)}),l.Xb(141,"mat-icon"),l.Tc(142,"delete"),l.Wb(),l.Tc(143,"REMOVE "),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.Dc(49),r=l.jc(2);l.Eb(5),l.Wc(" ",1==r.showEditOption?"Edit":"Create"," Nominee ",o+1," "),l.Eb(1),l.rc("formGroup",n),l.Eb(6),l.rc("ngForOf",r.arrayPrefix),l.Eb(1),l.rc("ngIf",n.get("prefix").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("firstName").hasError("required")),l.Eb(1),l.rc("ngIf",n.get("firstName").hasError("pattern")),l.Eb(6),l.rc("ngIf",n.get("middleName").hasError("pattern")),l.Eb(6),l.rc("ngIf",n.get("lastName").hasError("required")),l.Eb(1),l.rc("ngIf",n.get("lastName").hasError("pattern")),l.Eb(5),l.rc("value",r.relationshipType),l.Eb(1),l.rc("ngForOf",r.arrayRelationshipType),l.Eb(1),l.rc("ngIf",n.get("relationshipType").hasError("required")),l.Eb(5),l.rc("matDatepicker",i)("max",r.tomorrow),l.Eb(1),l.rc("for",i),l.Eb(1),l.rc("ngIf",n.get("dateOfBirth").hasError("required")),l.Eb(7),l.rc("ngForOf",n.get("guardianDetails").controls),l.Eb(15),l.rc("ngIf",n.get("street").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("locality").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("building").hasError("required")),l.Eb(6),l.rc("ngForOf",r.arrayCountry),l.Eb(1),l.rc("ngIf",n.get("country").hasError("required")),l.Eb(6),l.rc("ngForOf",r.arrayState),l.Eb(1),l.rc("ngIf",n.get("state").hasError("required")),l.Eb(6),l.rc("ngForOf",r.arrayCity),l.Eb(1),l.rc("ngIf",n.get("city").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("zipCode").hasError("required")&&!n.controls.zipCode.valid&&(null==n.controls.zipCode?null:n.controls.zipCode.touched)),l.Eb(1),l.rc("ngIf",r.isAllSameDigitVal),l.Eb(12),l.rc("ngIf",n.get("phoneNumber").hasError("required")),l.Eb(1),l.rc("ngIf",n.get("phoneNumber").hasError("pattern")),l.Eb(6),l.rc("ngIf",n.get("email").hasError("required")),l.Eb(1),l.rc("ngIf",n.get("email").hasError("pattern")),l.Eb(6),l.rc("ngIf",n.get("mobileNumber").hasError("pattern")),l.Eb(1),l.rc("disabled",null==r.nomineeForms?null:r.nomineeForms.invalid)}}function $e(t,e){if(1&t&&(l.Xb(0,"form",7),l.Rc(1,Ke,144,35,"div",8),l.Wb()),2&t){var a=l.jc();l.rc("formGroup",a.nomineeUpdateForm),l.Eb(1),l.rc("ngForOf",a.n.controls)}}var He,Ye=((He=function(){function t(e,a,o,i,r,c,s,l){n(this,t),this.data=e,this.dialogRef=a,this.apiService=o,this.formBuilder=i,this.ls=r,this.appApiService=c,this.confirmService=s,this.snack=l,this.arrayState=[],this.arrayCity=[]}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getCountryName("country"),this.getRelationShipType("relationship_type"),this.getPrefixValue("prefix"),this.data?(this.getStateName(this.data[0].country),this.getCityName(this.data[0].state),this.buildNomineeForm(),this.addGroup(this.data),this.showEditOption=!0):(this.showEditOption=!1,this.buildNomineeForm(),this.addGroup())}},{key:"buildNomineeForm",value:function(){this.nomineeUpdateForm=this.formBuilder.group({nominees:this.formBuilder.array([])})}},{key:"addGroup",value:function(t){for(var e=t?t.length:1,a=0;a<e;a++)this.expandAddress=t[a].isAddrSameAsApplicant,t[a].dateOfBirth=y(t[a].dateOfBirth).format(),t[a].isNomineeMinor&&(t[a].guardianDetails[0].dateOfBirth=y(t[a].guardianDetails[0].dateOfBirth).format()),this.n.push(this.formBuilder.group({prefix:["",v.z.required],firstName:["",v.z.required],middleName:[""],lastName:["",v.z.required],relationshipType:["",v.z.required],dateOfBirth:["",v.z.required],nomineeId:[""],building:["",v.z.required],street:["",v.z.required],locality:["",v.z.required],city:["",v.z.required],state:["",v.z.required],country:["",v.z.required],zipCode:["",[v.z.required,v.z.minLength(5),v.z.maxLength(10)]],phoneNumber:["",[v.z.required,v.z.pattern("^[0-9]{10,12}$")]],mobileNumber:["",[v.z.pattern("^[0-9]{10,12}$")]],isAddrSameAsApplicant:[!1,v.z.required],isNomineeMinor:[!1,v.z.required],email:["",[v.z.required,v.z.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],guardianDetails:t[a].isNomineeMinor?[this.formBuilder.group({dateOfBirth:["",v.z.required],firstName:["",v.z.required],guardianId:[""],lastName:["",v.z.required],middleName:[""],nomineeId:[""],prefix:["",v.z.required],relationshipType:["",v.z.required]})]:[]})),this.n.at(a).patchValue(t[a])}},{key:"f",get:function(){return this.nomineeUpdateForm.controls}},{key:"n",get:function(){return this.f.nominees}},{key:"addGuardian",value:function(t){return t.push(this.formBuilder.group({prefix:["",v.z.required],firstName:["",v.z.required],middleName:[""],nomineeId:[""],guardianId:[""],lastName:["",v.z.required],relationshipType:["",v.z.required],dateOfBirth:["",v.z.required]}))}},{key:"addevent",value:function(t,e){var a=new Date;a=e.target.value,console.log(y(a).format("YYYY-MM-DD"));var n=new Date(y(a).format("YYYY-MM-DD"));if(this.n.controls[0].patchValue({isNomineeMinor:this.underAgeValidate(n)}),!this.underAgeValidate(n))return t.removeAt(0);this.addGuardian(t)}},{key:"clickToggle",value:function(t){if(this.expandAddress=t.checked,1==t.checked)this.getApplicantAddress();else{var e=this.nomineeUpdateForm.controls.nominees,a=e.controls[e.length-1];a.get("zipCode").reset(),a.get("street").reset(),a.get("locality").reset(),a.get("building").reset(),a.get("country").reset(),a.get("state").reset(),a.get("city").reset()}}},{key:"getApplicantAddress",value:function(){var t=this;this.appApiService.fetchByCif(this.cifNumber).subscribe(function(e){t.address=e.customerInfoList[0].userAddress[0];var a=t.nomineeUpdateForm.controls.nominees,n=a.controls[a.length-1];t.getStateName(t.address.country),t.getCityName(t.address.state),n.get("zipCode").setValue(t.address.zipCode),n.get("street").setValue(t.address.address1),n.get("locality").setValue(t.address.address2),n.get("building").setValue(t.address.address1),n.get("country").setValue(t.address.country),n.get("state").setValue(t.address.state),n.get("city").setValue(t.address.city)})}},{key:"removeNominee",value:function(t){var e=this;console.log("i",t);var a=this.n.at(t).get("nomineeId").value;console.log("nomineeId ::",a),this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(function(n){console.log("res:: removed ",n),n&&e.apiService.deleteNomineeById(a,"ADMIN").subscribe(function(t){console.log("data",t)},function(a){e.nomineeUpdateForm.controls.nominees.removeAt(t),200===a.status&&e.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})})}},{key:"onSubmit",value:function(){for(var t=this,e=0;e<this.nomineeUpdateForm.value.nominees.length;e++)this.nomineeUpdateForm.value.nominees[e].dateOfBirth=this.convertDate(this.nomineeUpdateForm.value.nominees[e].dateOfBirth),this.nomineeUpdateForm.value.nominees[e].isNomineeMinor&&(this.nomineeUpdateForm.value.nominees[e].guardianDetails[0].dateOfBirth=this.convertDate(this.nomineeUpdateForm.value.nominees[e].guardianDetails[0].dateOfBirth));var a={productAccountId:this.accountId,nominees:this.nomineeUpdateForm.value.nominees};this.nomineeUpdateForm.invalid||(this.showEditOption?(this.apiService.updateNominee(this.accountId,a).subscribe(function(t){},function(t){console.log(t)}),this.dialogRef.close({status:"BACKLOG"})):this.apiService.createNominee(this.accountId,a).subscribe(function(e){console.log(e),t.snack.open("Nominee Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log(t)}))}},{key:"changeClient",value:function(t){console.log(t),this.arrayRelationshipType="Mr"==t?["Father","Brother","Spouse"]:"Mrs"==t?["Mother","Spouse"]:["Sister"]}},{key:"underAgeValidate",value:function(t){var e=Date.now()-t.getTime(),a=new Date(e);return Math.abs(a.getUTCFullYear()-1970)<18}},{key:"getRelationShipType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayRelationshipType=t})}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName===t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayState.push(t[a].stateName)});break}})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"keyPressAlphanumeric",value:function(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"isAllSameDigit",value:function(t){var e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"convertDate",value:function(t){var e=y(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||He)(l.Rb(p.a),l.Rb(p.g),l.Rb(b.b),l.Rb(v.f),l.Rb(m.a),l.Rb(f.a),l.Rb(J.a),l.Rb(W.a))},He.\u0275cmp=l.Lb({type:He,selectors:[["app-nominee-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],["expanded","true",3,"opened","closed"],["fxLayout","row wrap",1,"full-width",3,"formGroup"],["fxFlex","33.33%","fxFlex.xs","100%"],["name","prefix","formControlName","prefix",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","rtype","formControlName","relationshipType",3,"value"],["matInput","","name","dob","readonly","","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker","max","dateInput","dateChange"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"pb-1"],["name","isNomineeMinor","formControlName","isNomineeMinor",3,"change"],["formArrayName","guardianDetails"],[4,"ngFor","ngForOf"],["name","isAddrSameAsApplicant","formControlName","isAddrSameAsApplicant",3,"change"],["expanded","true"],["fxLayout","row wrap",1,"full-width"],["matInput","","name","a_street","formControlName","street","placeholder","Street"],["matInput","","name","a_locality","formControlName","locality","placeholder","Locality"],["matInput","","name","a_building","formControlName","building","placeholder","Building"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["matInput","","name","a_zip","formControlName","zipCode","placeholder","Zip Code","maxlength","10","onlyNumber","",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],["matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number","maxlength","10",3,"keypress"],["matInput","","name","email","formControlName","email","placeholder","e-mail"],["matInput","","formControlName","mobileNumber","maxlength","10",3,"keypress"],["mat-button","","rounded","","color","primary",1,"place",3,"disabled","click"],["mat-button","","color","warn",3,"click"],[3,"value"],[1,"errorClass"],[1,"card-title-text"],["fxLayout","row","fxLayoutGap","25px",3,"formGroupName"],["name","g_prefix","formControlName","prefix"],["matInput","","name","g_fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","g_mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","g_lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["matInput","","name","g_rtype","formControlName","relationshipType","placeholder","Relation Type"],["matInput","","readonly","","name","g_dob","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker","max"],["appDatepicker1",""],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Nominee Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Rc(6,$e,2,2,"form",3),l.Wb(),l.Xb(7,"div",4),l.Xb(8,"button",5),l.fc("click",function(){return e.onSubmit()}),l.Tc(9,"Save"),l.Wb(),l.Tc(10," \xa0\xa0\xa0 "),l.Xb(11,"button",6),l.fc("click",function(){return e.close()}),l.Tc(12," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("ngIf",e.nomineeUpdateForm),l.Eb(2),l.rc("disabled",e.nomineeUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,A.b,v.A,v.s,v.j,c.m,$.a,$.c,$.e,$.f,X.b,I.f,E.a,x.a,v.r,v.i,C.b,v.c,O.e,O.g,I.j,O.d,D.a,v.e,v.m,Y.a,S.n,I.b,v.k],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),He),Ze=r("iInd");function Qe(t,e){if(1&t){var a=l.Yb();l.Xb(0,"button",11),l.fc("click",function(){return l.Hc(a),l.jc().addCFormGroup()}),l.Xb(1,"mat-icon"),l.Tc(2,"add"),l.Wb(),l.Tc(3," Add Collateral "),l.Wb()}}function ta(t,e){if(1&t&&(l.Xb(0,"mat-option",55),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function ea(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please select Collateral Type "),l.Wb())}function aa(t,e){if(1&t&&(l.Xb(0,"mat-option",55),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.currencyCode),l.Eb(1),l.Vc(" ",a.currencyCode," ")}}function na(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please enter Collateral Value "),l.Wb())}function oa(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please enter Linkage Percentage "),l.Wb())}function ia(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please enter Available Linkage Amount "),l.Wb())}function ra(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please enter Overdraft Limit Amount "),l.Wb())}function ca(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please select Attributes "),l.Wb())}function sa(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please select Dimensions "),l.Wb())}function la(t,e){1&t&&(l.Xb(0,"mat-icon",57),l.Tc(1,"check_circle"),l.Wb())}function ba(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please enter Security Reference Number "),l.Wb())}function ua(t,e){1&t&&(l.Xb(0,"mat-hint",58),l.Tc(1," Enter valid Security Reference Number!"),l.Wb())}function da(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please enter Branch Code "),l.Wb())}function ma(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please select Rate Value "),l.Wb())}function pa(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please enter Rate "),l.Wb())}function fa(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please enter Spread "),l.Wb())}function ha(t,e){1&t&&(l.Xb(0,"mat-error",56),l.Tc(1," Please enter Final Rate "),l.Wb())}function ga(t,e){if(1&t&&(l.Xb(0,"a",59),l.Tc(1),l.Wb()),2&t){var a=l.jc(2);l.sc("href",a.docUrl,l.Jc),l.Eb(1),l.Vc("",a.fileNam," ")}}function va(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",60),l.fc("click",function(){l.Hc(a);var t=l.jc().index;return l.jc().deleteDoc(t)}),l.Tc(1,"delete"),l.Wb()}}function ya(t,e){1&t&&l.Sb(0,"mat-spinner",61),2&t&&l.rc("diameter",30)}function Wa(t,e){if(1&t){var a=l.Yb();l.Xb(0,"button",62),l.fc("click",function(){l.Hc(a);var t=l.jc().index;return l.jc().removeCollateral(t)}),l.Xb(1,"mat-icon"),l.Tc(2,"delete"),l.Wb(),l.Tc(3," Reset Collateral "),l.Wb()}}function Xa(t,e){if(1&t){var a=l.Yb();l.Xb(0,"button",62),l.fc("click",function(){l.Hc(a);var t=l.jc(),e=t.$implicit,n=t.index;return l.jc().deleteCollateral(e,n)}),l.Xb(1,"mat-icon"),l.Tc(2,"delete"),l.Wb(),l.Tc(3," Remove Collateral "),l.Wb()}}function Ta(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"mat-accordion"),l.Xb(2,"mat-expansion-panel",12),l.fc("opened",function(){return l.Hc(a),l.jc().panelOpenState=!0})("closed",function(){return l.Hc(a),l.jc().panelOpenState=!1}),l.Xb(3,"mat-expansion-panel-header"),l.Xb(4,"mat-panel-title"),l.Tc(5),l.Wb(),l.Wb(),l.Xb(6,"div",13),l.Xb(7,"div",14),l.Xb(8,"div",15),l.Xb(9,"mat-hint",16),l.Tc(10,"Collateral Type"),l.Wb(),l.Xb(11,"mat-card",17),l.Xb(12,"mat-select",18),l.Rc(13,ta,2,2,"mat-option",19),l.Wb(),l.Wb(),l.Rc(14,ea,2,0,"mat-error",20),l.Wb(),l.Xb(15,"div",15),l.Xb(16,"mat-hint",16),l.Tc(17,"Currency"),l.Wb(),l.Xb(18,"mat-card",17),l.Xb(19,"mat-select",21),l.Rc(20,aa,2,2,"mat-option",19),l.Wb(),l.Wb(),l.Wb(),l.Xb(21,"div",15),l.Xb(22,"mat-hint",16),l.Tc(23,"Collateral Value"),l.Wb(),l.Xb(24,"mat-card",17),l.Xb(25,"input",22),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=e.$implicit,n=e.index;return l.jc().calculateLinkagePercent(t.value,n)}),l.Wb(),l.Wb(),l.Rc(26,na,2,0,"mat-error",20),l.Wb(),l.Wb(),l.Xb(27,"div",14),l.Xb(28,"div",15),l.Xb(29,"mat-hint",16),l.Tc(30,"Linkage Percentage"),l.Wb(),l.Xb(31,"mat-card",17),l.Xb(32,"input",23),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("keydown",function(t){l.Hc(a);var n=e.$implicit;return l.jc().getCollatrl(t,n.get("linkagePercentage"))})("input",function(){l.Hc(a);var t=e.$implicit,n=e.index;return l.jc().calculateLinkagePercent(t.value,n)}),l.Wb(),l.Wb(),l.Rc(33,oa,2,0,"mat-error",20),l.Wb(),l.Xb(34,"div",15),l.Xb(35,"mat-hint",16),l.Tc(36,"Available Linkage Amount*"),l.Wb(),l.Xb(37,"mat-card",17),l.Xb(38,"input",24),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(39,ia,2,0,"mat-error",20),l.Wb(),l.Xb(40,"div",15),l.Xb(41,"mat-hint",16),l.Tc(42,"Overdraft Limit Amount*"),l.Wb(),l.Xb(43,"mat-card",17),l.Xb(44,"input",25),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("keyup",function(t){l.Hc(a);var n=e.index;return l.jc().overDraftCondition(t,n)}),l.Wb(),l.Wb(),l.Rc(45,ra,2,0,"mat-error",20),l.Wb(),l.Wb(),l.Xb(46,"div",14),l.Xb(47,"div",15),l.Xb(48,"mat-hint",16),l.Tc(49,"Limit Start Date"),l.Wb(),l.Xb(50,"mat-card",26),l.Xb(51,"input",27),l.fc("selectedChange",function(){l.Hc(a);var t=e.$implicit;return l.jc().getDate(t.get("limitStartDate"))}),l.Wb(),l.Sb(52,"mat-datepicker-toggle",28),l.Wb(),l.Sb(53,"mat-datepicker",null,29),l.Wb(),l.Xb(55,"div",15),l.Xb(56,"mat-hint",16),l.Tc(57,"Limit End Date"),l.Wb(),l.Xb(58,"mat-card",26),l.Sb(59,"input",30),l.Sb(60,"mat-datepicker-toggle",28),l.Wb(),l.Sb(61,"mat-datepicker",null,31),l.Wb(),l.Xb(63,"div",15),l.Xb(64,"mat-hint",16),l.Tc(65,"Attributes*"),l.Wb(),l.Xb(66,"mat-card",17),l.Xb(67,"mat-select",32),l.Xb(68,"mat-option",33),l.Tc(69,"Attributes 1"),l.Wb(),l.Xb(70,"mat-option",34),l.Tc(71,"Attributes 2"),l.Wb(),l.Xb(72,"mat-option",35),l.Tc(73,"Attributes 3"),l.Wb(),l.Wb(),l.Wb(),l.Rc(74,ca,2,0,"mat-error",20),l.Wb(),l.Wb(),l.Xb(75,"div",14),l.Xb(76,"div",15),l.Xb(77,"mat-hint",16),l.Tc(78,"Dimensions*"),l.Wb(),l.Xb(79,"mat-card",17),l.Xb(80,"mat-select",36),l.Xb(81,"mat-option",33),l.Tc(82,"Dimensions 1"),l.Wb(),l.Xb(83,"mat-option",34),l.Tc(84,"Dimensions 2"),l.Wb(),l.Xb(85,"mat-option",35),l.Tc(86,"Dimensions 3"),l.Wb(),l.Wb(),l.Wb(),l.Rc(87,sa,2,0,"mat-error",20),l.Wb(),l.Xb(88,"div",15),l.Xb(89,"mat-hint",16),l.Tc(90,"Security reference Number*"),l.Wb(),l.Xb(91,"mat-card",17),l.Xb(92,"input",37),l.fc("keypress",function(t){return l.Hc(a),l.jc().keyPressAlphanumeric(t)})("change",function(){l.Hc(a);var t=e.$implicit,n=e.index;return l.jc().fetchBySecurityNum(t.get("securityReferenceNumber").value,n)})("keyup",function(t){l.Hc(a);var n=e.index;return l.jc().keyUpevent(t,n)}),l.Wb(),l.Rc(93,la,2,0,"mat-icon",38),l.Wb(),l.Rc(94,ba,2,0,"mat-error",20),l.Rc(95,ua,2,0,"mat-hint",39),l.Wb(),l.Xb(96,"div",15),l.Xb(97,"mat-hint",16),l.Tc(98,"Branch Code"),l.Wb(),l.Xb(99,"mat-card",17),l.Xb(100,"input",40),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(101,da,2,0,"mat-error",20),l.Wb(),l.Wb(),l.Xb(102,"div",14),l.Xb(103,"div",15),l.Xb(104,"mat-hint",16),l.Tc(105,"Rate Value"),l.Wb(),l.Xb(106,"mat-card",17),l.Xb(107,"input",41),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(108,ma,2,0,"mat-error",20),l.Wb(),l.Xb(109,"div",15),l.Xb(110,"mat-hint",16),l.Tc(111,"Rate in % *"),l.Wb(),l.Xb(112,"mat-card",17),l.Xb(113,"input",42),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("keydown",function(t){l.Hc(a);var n=e.$implicit;return l.jc().getCollatrl(t,n.get("rate"))})("input",function(){l.Hc(a);var t=e.$implicit,n=e.index;return l.jc().calculateFinalrate(t.value,n)}),l.Wb(),l.Wb(),l.Rc(114,pa,2,0,"mat-error",20),l.Wb(),l.Xb(115,"div",15),l.Xb(116,"mat-hint",16),l.Tc(117,"Spread*"),l.Wb(),l.Xb(118,"mat-card",17),l.Xb(119,"input",43),l.fc("input",function(){l.Hc(a);var t=e.$implicit,n=e.index;return l.jc().calculateFinalrate(t.value,n)}),l.Wb(),l.Wb(),l.Rc(120,fa,2,0,"mat-error",20),l.Wb(),l.Wb(),l.Xb(121,"div",14),l.Xb(122,"div",15),l.Xb(123,"mat-hint",16),l.Tc(124,"Final Rate in %"),l.Wb(),l.Xb(125,"mat-card",17),l.Xb(126,"input",44),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("keydown",function(t){l.Hc(a);var n=e.$implicit;return l.jc().getCollatrl(t,n.get("finalAmount"))}),l.Wb(),l.Wb(),l.Rc(127,ha,2,0,"mat-error",20),l.Wb(),l.Xb(128,"div",45),l.Xb(129,"input",46,47),l.fc("change",function(t){l.Hc(a);var n=e.index;return l.jc().uploadCollateralType(t,n)}),l.Wb(),l.Xb(131,"div",48),l.Xb(132,"a",49),l.fc("click",function(){return l.Hc(a),l.Dc(130).click()}),l.Tc(133,"Collateral Document Upload"),l.Wb(),l.Tc(134," \xa0 "),l.Xb(135,"mat-hint",50),l.Tc(136),l.Wb(),l.Rc(137,ga,2,2,"a",51),l.Tc(138," \xa0 "),l.Rc(139,va,2,0,"mat-icon",52),l.Rc(140,ya,1,1,"mat-spinner",53),l.Wb(),l.Wb(),l.Wb(),l.Xb(141,"div",45),l.Rc(142,Wa,4,0,"button",54),l.Rc(143,Xa,4,0,"button",54),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.Dc(54),r=l.Dc(62),c=l.jc();l.Eb(5),l.Wc(" ",1==c.showEditOption?"Edit":"Add"," Collateral ",o+1," "),l.Eb(1),l.rc("formGroup",n),l.Eb(7),l.rc("ngForOf",c.arrayCollateralType),l.Eb(1),l.rc("ngIf",n.get("collateralType").touched&&n.get("collateralType").hasError("required")),l.Eb(6),l.rc("ngForOf",c.currency),l.Eb(6),l.rc("ngIf",n.get("collateralType").touched&&n.get("collateralValue").hasError("required")),l.Eb(7),l.rc("ngIf",n.get("linkagePercentage").touched&&n.get("linkagePercentage").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("availableLinkageAccount").touched&&n.get("availableLinkageAccount").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("overdraftLimitAmount").touched&&n.get("overdraftLimitAmount").hasError("required")),l.Eb(6),l.rc("matDatepicker",i)("min",c.minDate),l.Eb(1),l.rc("for",i),l.Eb(7),l.rc("min",n.get("limitStartDate").value)("matDatepicker",r),l.Eb(1),l.rc("for",r),l.Eb(14),l.rc("ngIf",n.get("attributes").touched&&n.get("attributes").hasError("required")&&n.get("attributes").touched),l.Eb(13),l.rc("ngIf",n.get("dimensions").touched&&n.get("dimensions").hasError("required")),l.Eb(6),l.rc("ngIf",c.issecurityValid&&n.get("securityReferenceNumber").value.length>0),l.Eb(1),l.rc("ngIf",n.get("securityReferenceNumber").touched&&n.get("securityReferenceNumber").hasError("required")),l.Eb(1),l.rc("ngIf",!c.issecurityValid&&c.onbackSpace),l.Eb(6),l.rc("ngIf",n.get("branchCode").touched&&n.get("branchCode").hasError("required")),l.Eb(7),l.rc("ngIf",n.get("rateValue").touched&&n.get("rateValue").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("rate").touched&&n.get("rate").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("spread").touched&&n.get("spread").hasError("required")),l.Eb(7),l.rc("ngIf",n.get("finalAmount").touched&&n.get("finalAmount").hasError("required")),l.Eb(9),l.Uc(c.fileName),l.Eb(1),l.rc("ngIf",c.docUrl),l.Eb(2),l.rc("ngIf",c.docUrl&&c.showDelete),l.Eb(1),l.rc("ngIf",c.showSpinn),l.Eb(2),l.rc("ngIf",!c.showEditOption),l.Eb(1),l.rc("ngIf",c.showEditOption)}}var Ia,Ea=((Ia=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.data=e,this.dialogRef=a,this.ls=o,this.formBuilder=i,this.api=r,this.snack=c,this.cdr=s,this.confirmService=l,this.tasksummaryService=b,this.showEditOption=!1}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.loggedInUser=this.ls.getItem("userName"),this.getCollateralType("collateral_type"),this.getCurrencyDetails(),this.data?(this.showEditOption=!0,this.buildSecuredOverdraftForm(this.data),this.addFormGroup(this.data)):(this.showEditOption=!1,this.buildSecuredOverdraftForm(),this.addFormGroup())}},{key:"buildSecuredOverdraftForm",value:function(t){this.securedOverdraftUpdateForm=this.formBuilder.group({collaterals:this.formBuilder.array([])})}},{key:"f",get:function(){return this.securedOverdraftUpdateForm.controls}},{key:"c",get:function(){return this.f.collaterals}},{key:"addFormGroup",value:function(t){var e=t?t.length:1;console.log("numberOfItems",e);for(var a=0;a<e;a++)this.c.push(this.formBuilder.group({id:[t[a].id],collateralType:[t[a]?t.collateralType:""],collateralCurrency:[t[a]?t.collateralCurrency:""],accountId:this.accountId,collateralValue:[t[a]?t[a].collateralValue:""],attributes:[t[a]?t[a].attributes:""],dimensions:[t[a]?t[a].dimensions:""],securityReferenceNumber:[t[a]?t[a].securityReferenceNumber:""],branchCode:[t[a]?t[a].branchCode:""],availableLinkageAccount:[t[a]?t[a].availableLinkageAccount:""],linkagePercentage:[t[a]?t[a].linkagePercentage:""],overdraftLimitAmount:[t[a]?t[a].overdraftLimitAmount:""],limitStartDate:[t[a]?t[a].limitStartDate:""],limitEndDate:[t[a]?t[a].limitEndDate:""],rateValue:[t[a]?t[a].rateValue:""],rate:[t[a]?t[a].rate:""],spread:[t[a]?t[a].spread:""],finalAmount:[t[a]?t[a].finalAmount:""],documentUrl:[t[a]?t[a].documentUrl:""],fileName:[t[a]?t[a].documentUrl:""]}))}},{key:"addCFormGroup",value:function(){this.c.push(this.formBuilder.group({collateralType:[""],collateralCurrency:[""],accountId:this.accountId,collateralValue:[""],attributes:[""],dimensions:[""],securityReferenceNumber:[""],branchCode:[""],availableLinkageAccount:[""],linkagePercentage:[""],overdraftLimitAmount:[""],limitStartDate:[""],limitEndDate:[""],rateValue:[""],rate:[""],spread:[""],finalAmount:[""],documentUrl:[""],fileName:[""]}))}},{key:"getCollateralType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayCollateralType=t})}},{key:"getCurrencyDetails",value:function(){var t=this;this.api.fetchCurrencyMaintAuthRecs().subscribe(function(e){t.currency=e})}},{key:"overDraftCondition",value:function(t,e){var a=this,n=t.target.value;console.log(n,this.linkangePercent),n>this.linkangePercent&&(console.log("Bigger"),this.confirmService.confirm({title:"Confirm",message:" Overdraft Limit Amount should be less than Available Linkage Amount. Do you want to Proceed?",ok:"Yes",cancel:"No"}).subscribe(function(t){console.log("Response",t),!0===t?a.cdr.markForCheck():a.c.at(e).get("overdraftLimitAmount").setValue("")}))}},{key:"fetchBySecurityNum",value:function(t,e){var a=this;t&&(this.showSpinner=!0,console.log("Caling",t),this.api.fetchBySecurityNumber(t).subscribe(function(t){if(console.log(t),a.showSpinner=!1,null==t)return a.issecurityValid=!1,a.snack.open("Invalid Security Reference Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void a.c.at(e).get("securityReferenceNumber").setValue("");a.issecurityValid=!0,a.branchData=t.securedOverDrafts,console.log(a.branchData),a.branchData.forEach(function(t,e){a.branch=a.branchData[e].branchCode}),a.c.at(e).get("branchCode").setValue(a.branch),a.cdr.markForCheck()}))}},{key:"uploadCollateralType",value:function(t,e){var a=this;this.showSpinn=!0;var n=t.target.files[0];this.fileName[e]=n.name;var o={accountId:this.accountId,documentName:this.fileName[e]},i=new FormData;i.append("data",JSON.stringify(o)),i.append("file",n),this.api.uploadcollateralDoc(i).subscribe(function(t){console.log("Document Resp",t,t.url),t&&t.url&&(a.showSpinn=!1,a.snack.open("Document Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.c.at(e).get("documentUrl").setValue(t.url),a.c.at(e).get("fileName").setValue(t.fileName))})}},{key:"deleteDoc",value:function(t){this.docUrl=" ",this.fileName=" ",this.c.at(t).get("documentUrl").setValue(""),this.c.at(t).get("fileName").setValue(""),this.showDelete=!1}},{key:"onSubmit",value:function(t){var e=this;this.c.value.forEach(function(t){""!=t.linkagePercentage&&""!=t.securityReferenceNumber&&""!=t.collateralValue&&""!=t.branchCode||1!=e.securedOverdraftUpdateForm.touched||e.snack.open("mandatory details are not filled so need to be filled!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),null!=t.limitStartDate&&null!=t.limitStartDate._d&&null!=t.limitStartDate._d&&(t.limitStartDate=e.convertDate(t.limitStartDate._d)),null!=t.limitEndDate&&null!=t.limitEndDate._d&&null!=t.limitEndDate._d&&(t.limitEndDate=e.convertDate(t.limitEndDate._d))});var a={securedOverDrafts:this.c.value,loggedInUser:this.loggedInUser};this.securedOverdraftUpdateForm.invalid?console.log("this.securedOverdraftUpdateForm.touched",this.securedOverdraftUpdateForm.touched):this.api.securedDraft(a).subscribe(function(t){e.snack.open("Secured Overdraft Details is already filled, click on Next button to continue!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"onReset",value:function(){this.securedOverdraftUpdateForm.reset(),this.c.clear()}},{key:"removeCollateral",value:function(t){this.c.controls[t].reset()}},{key:"convertDate",value:function(t){var e=y(t).format("YYYY-MM-DDThh:mm:ss");if(console.log("date",e),e)return e}},{key:"keyUpevent",value:function(t,e){console.log("event",t),8===t.keyCode?(this.onbackSpace=!0,this.issecurityValid=!1,this.c.at(e).get("branchCode").setValue("")):this.onbackSpace=!1}},{key:"keyPressAlphanumeric",value:function(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"calculateLinkagePercent",value:function(t,e){this.linkangePercent=t.collateralValue*(t.linkagePercentage/100),this.c.at(e).get("availableLinkageAccount").setValue(this.linkangePercent.toFixed(2))}},{key:"calculateFinalrate",value:function(t,e){this.finalRatevalue=1*t.rate+1*t.spread,console.log(this.linkangePercent,this.c.controls[e]),this.c.at(e).get("finalAmount").setValue(this.finalRatevalue)}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Ia)(l.Rb(p.a),l.Rb(p.g),l.Rb(m.a),l.Rb(v.f),l.Rb(b.b),l.Rb(W.a),l.Rb(l.h),l.Rb(J.a),l.Rb(g.a))},Ia.\u0275cmp=l.Lb({type:Ia,selectors:[["app-secured-overdraft-details-update"]],decls:18,vars:4,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],["fxLayout","row","fxLayout.lt-sm","column",1,"app-top-toolbar"],["fxFlex",""],["mat-button","","color","primary",3,"click",4,"ngIf"],[3,"formGroup"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","color","primary",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["mat-button","","color","primary",3,"click"],["expanded","true",1,"mb-8",3,"opened","closed"],["fxLayout","column",3,"formGroup"],["fxLayout","row","fxFlex","100"],["fxFlex","33.33%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","collateralType","formControlName","collateralType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["name","prefix","formControlName","collateralCurrency"],["matInput","","name","a_sig","id","collateralValue","formControlName","collateralValue","placeholder","Collateral Value","required","",3,"keypress","input"],["matInput","","name","a_sig","formControlName","linkagePercentage","placeholder","Linkage Percentage","required","",3,"keypress","keydown","input"],["readonly","","matInput","","name","a_sig","formControlName","availableLinkageAccount","placeholder","Available Linkage Amount",3,"keypress"],["matInput","","name","a_sig","formControlName","overdraftLimitAmount","placeholder","Overdraft Limit Amount",3,"keypress","keyup"],["fxLayout","row",1,"inputCard"],["readonly","","matInput","","name","dob","formControlName","limitStartDate","placeholder","Limit Start Date",3,"matDatepicker","min","selectedChange"],["matSuffix","",3,"for"],["appDatepicker",""],["readonly","","matInput","","name","led","formControlName","limitEndDate","placeholder","Limit End Date",3,"min","matDatepicker"],["appDatepicker1",""],["name","attributes","formControlName","attributes"],["value","1"],["value","2"],["value","3"],["name","dimensions","formControlName","dimensions"],["matInput","","required","","name","a_sig","formControlName","securityReferenceNumber","placeholder","Security Reference Number",3,"keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","hintClass","class","hintColor",4,"ngIf"],["matInput","","name","a_sig","formControlName","branchCode","placeholder","Branch Code","readonly","","required","",3,"keypress"],["matInput","","name","rateValue","formControlName","rateValue","placeholder","Rate Value",3,"keypress"],["matInput","","name","a_sig","formControlName","rate","placeholder","Rate",3,"keypress","keydown","input"],["matInput","","type","number","name","a_sig","formControlName","spread","placeholder","Spread",3,"input"],["matInput","","name","a_sig","formControlName","finalAmount","placeholder","Rate",3,"keypress","keydown"],[1,"pb-1"],["type","file","name","documentUrl",2,"display","none",3,"change"],["documentUrl",""],["fxLayout","row wrap",1,"flex-container","stretch"],[1,"UploadLink",3,"routerLink","click"],[1,"documentHint"],["class","documentlink","download","",3,"href",4,"ngIf"],["class","docIcon",3,"click",4,"ngIf"],["class","spinner",3,"diameter",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[1,"errorClass"],["matSuffix","","color","primary"],[1,"hintColor"],["download","",1,"documentlink",3,"href"],[1,"docIcon",3,"click"],[1,"spinner",3,"diameter"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Secured Overdraft Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"div",3),l.Sb(7,"span",4),l.Rc(8,Qe,4,0,"button",5),l.Wb(),l.Xb(9,"mat-card"),l.Xb(10,"form",6),l.Rc(11,Ta,144,32,"div",7),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"div",8),l.Xb(13,"button",9),l.fc("click",function(){return e.onSubmit(e.securedOverdraftUpdateForm.value)}),l.Tc(14,"Save"),l.Wb(),l.Tc(15," \xa0\xa0\xa0 "),l.Xb(16,"button",10),l.fc("click",function(){return e.close()}),l.Tc(17," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(8),l.rc("ngIf",!e.showEditOption),l.Eb(2),l.rc("formGroup",e.securedOverdraftUpdateForm),l.Eb(1),l.rc("ngForOf",e.c.controls),l.Eb(2),l.rc("disabled",e.securedOverdraftUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,X.b,c.n,E.a,v.A,v.s,v.j,c.m,A.b,$.a,$.c,$.e,$.f,I.f,x.a,v.r,v.i,C.b,v.c,v.y,O.e,O.g,I.j,O.d,S.n,v.v,Ze.k,I.b,R.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Ia),Ca=r("PSD3"),xa=r.n(Ca);function Oa(t,e){1&t&&(l.Xb(0,"mat-error",34),l.Tc(1," Please Enter Limit ID "),l.Wb())}function Da(t,e){if(1&t&&(l.Xb(0,"mat-option",35),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.currencyCode),l.Eb(1),l.Uc(a.currencyCode)}}function Aa(t,e){1&t&&(l.Xb(0,"mat-error",34),l.Tc(1," Please select Currency "),l.Wb())}function Ra(t,e){1&t&&(l.Xb(0,"mat-error",34),l.Tc(1," Please enter Overdraft Limit Amount "),l.Wb())}function Sa(t,e){1&t&&(l.Xb(0,"mat-error",34),l.Tc(1," Please select Limit Start Date "),l.Wb())}function ka(t,e){1&t&&(l.Xb(0,"mat-error",34),l.Tc(1," Please select Limit End Date "),l.Wb())}function Na(t,e){if(1&t&&(l.Xb(0,"mat-option",35),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function Pa(t,e){1&t&&(l.Xb(0,"mat-error",34),l.Tc(1," Please select Year "),l.Wb())}function Fa(t,e){if(1&t&&(l.Xb(0,"mat-option",35),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function La(t,e){1&t&&(l.Xb(0,"mat-error",34),l.Tc(1," Please select Month "),l.Wb())}function _a(t,e){if(1&t&&(l.Xb(0,"mat-option",35),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function wa(t,e){1&t&&(l.Xb(0,"mat-error",34),l.Tc(1," Please select Day "),l.Wb())}function Ua(t,e){1&t&&(l.Xb(0,"mat-error",34),l.Tc(1," Please enter Renewal Amount "),l.Wb())}function Ma(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",36),l.Xb(1,"div",37),l.Xb(2,"div",38),l.Xb(3,"mat-hint",11),l.Tc(4,"Renew Period"),l.Wb(),l.Xb(5,"div",39),l.Xb(6,"div"),l.Xb(7,"mat-hint"),l.Tc(8,"Years"),l.Wb(),l.Xb(9,"mat-card",12),l.Xb(10,"mat-select",40),l.fc("[ngModel]",function(){return l.Hc(a),l.jc(2).selectedYear}),l.Rc(11,Na,2,2,"mat-option",18),l.Wb(),l.Wb(),l.Rc(12,Pa,2,0,"mat-error",14),l.Wb(),l.Xb(13,"div"),l.Xb(14,"div",31),l.Xb(15,"div",21),l.Xb(16,"mat-hint",11),l.Tc(17,"Months"),l.Wb(),l.Xb(18,"mat-card",12),l.Xb(19,"mat-select",41),l.fc("[ngModel]",function(){return l.Hc(a),l.jc(2).selectedMonth}),l.Rc(20,Fa,2,2,"mat-option",18),l.Wb(),l.Wb(),l.Rc(21,La,2,0,"mat-error",14),l.Wb(),l.Wb(),l.Wb(),l.Xb(22,"div"),l.Xb(23,"div",31),l.Xb(24,"div",21),l.Xb(25,"mat-hint",11),l.Tc(26,"Days"),l.Wb(),l.Xb(27,"mat-card",12),l.Xb(28,"mat-select",42),l.fc("[ngModel]",function(){return l.Hc(a),l.jc(2).selectedDay}),l.Rc(29,_a,2,2,"mat-option",18),l.Wb(),l.Wb(),l.Rc(30,wa,2,0,"mat-error",14),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(31,"div",43),l.Xb(32,"mat-hint",11),l.Tc(33,"Renewal Amount"),l.Wb(),l.Xb(34,"mat-card",12),l.Xb(35,"input",44),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(36,Ua,2,0,"mat-error",14),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(11),l.rc("ngForOf",n.years),l.Eb(1),l.rc("ngIf",n.unsecuredUpdateForm.get("year").hasError("required")&&n.unsecuredUpdateForm.get("year").touched),l.Eb(8),l.rc("ngForOf",n.months),l.Eb(1),l.rc("ngIf",n.unsecuredUpdateForm.get("month").hasError("required")&&n.unsecuredUpdateForm.get("month").touched),l.Eb(8),l.rc("ngForOf",n.days),l.Eb(1),l.rc("ngIf",n.unsecuredUpdateForm.get("day").hasError("required")&&n.unsecuredUpdateForm.get("day").touched),l.Eb(6),l.rc("ngIf",n.unsecuredUpdateForm.get("renewalAmount").hasError("required")&&n.unsecuredUpdateForm.get("renewalAmount").touched)}}function Ga(t,e){if(1&t){var a=l.Yb();l.Xb(0,"form",7),l.Xb(1,"mat-card"),l.Xb(2,"div",8),l.Xb(3,"div",9),l.Xb(4,"div",10),l.Xb(5,"mat-hint",11),l.Tc(6,"Limit ID*"),l.Wb(),l.Xb(7,"mat-card",12),l.Xb(8,"input",13),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(9,Oa,2,0,"mat-error",14),l.Wb(),l.Wb(),l.Xb(10,"div",15),l.Xb(11,"div",16),l.Xb(12,"mat-hint",11),l.Tc(13,"Currency*"),l.Wb(),l.Xb(14,"mat-card",12),l.Xb(15,"mat-select",17),l.fc("[ngModel]",function(){return l.Hc(a),l.jc().selectedCurrency}),l.Rc(16,Da,2,2,"mat-option",18),l.Wb(),l.Wb(),l.Rc(17,Aa,2,0,"mat-error",14),l.Wb(),l.Xb(18,"div",16),l.Xb(19,"mat-hint",11),l.Tc(20,"Overdraft Limit Amount*"),l.Wb(),l.Xb(21,"mat-card",12),l.Xb(22,"input",19),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(23,Ra,2,0,"mat-error",14),l.Wb(),l.Wb(),l.Xb(24,"div",15),l.Xb(25,"div",20),l.Xb(26,"div",21),l.Xb(27,"mat-hint",11),l.Tc(28,"Limit Start Date*"),l.Wb(),l.Xb(29,"mat-card",12),l.Sb(30,"input",22),l.Sb(31,"mat-datepicker-toggle",23),l.Wb(),l.Rc(32,Sa,2,0,"mat-error",14),l.Wb(),l.Sb(33,"mat-datepicker",null,24),l.Wb(),l.Xb(35,"div",20),l.Xb(36,"div",21),l.Xb(37,"mat-hint",11),l.Tc(38,"Limit End Date*"),l.Wb(),l.Xb(39,"mat-card",12),l.Xb(40,"div",25),l.Sb(41,"input",26),l.Wb(),l.Xb(42,"div",27),l.Sb(43,"mat-datepicker-toggle",23),l.Wb(),l.Wb(),l.Rc(44,ka,2,0,"mat-error",14),l.Wb(),l.Sb(45,"mat-datepicker",null,28),l.Wb(),l.Wb(),l.Xb(47,"div",29),l.Xb(48,"div",30),l.Xb(49,"div",31),l.Tc(50," Do your Unsecured Overdraft Limit has to be renewed ? "),l.Xb(51,"mat-slide-toggle",32),l.fc("change",function(t){return l.Hc(a),l.jc().onToggle(t)}),l.Wb(),l.Wb(),l.Sb(52,"br"),l.Wb(),l.Wb(),l.Rc(53,Ma,37,7,"div",33),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.Dc(34),o=l.Dc(46),i=l.jc();l.rc("formGroup",i.unsecuredUpdateForm),l.Eb(9),l.rc("ngIf",i.unsecuredUpdateForm.get("limitId").hasError("required")),l.Eb(7),l.rc("ngForOf",i.currency),l.Eb(1),l.rc("ngIf",i.unsecuredUpdateForm.get("overdraftCurrency").hasError("required")),l.Eb(6),l.rc("ngIf",i.unsecuredUpdateForm.controls.overdraftLimitAmount.touched),l.Eb(7),l.rc("matDatepicker",n)("min",i.minDate),l.Eb(1),l.rc("for",n),l.Eb(1),l.rc("ngIf",i.unsecuredUpdateForm.get("limitStartDate").hasError("required")),l.Eb(9),l.rc("min",i.unsecuredUpdateForm.get("limitStartDate").value)("matDatepicker",o),l.Eb(2),l.rc("for",o),l.Eb(1),l.rc("ngIf",i.unsecuredUpdateForm.get("limitEndDate").hasError("required")),l.Eb(9),l.rc("ngIf",i.flag)}}var Va,ja=((Va=function(){function t(e,a,o,i,r,c,s,l){n(this,t),this.data=e,this.dialogRef=a,this.ls=o,this.formBuilder=i,this.cdr=r,this.api=c,this.snack=s,this.tasksummaryService=l}return i(t,[{key:"ngOnInit",value:function(){this.accountId=this.ls.getItem("accountId"),console.log(this.data,this.accountId),this.getCurrencyDetails(),this.data?this.buildUnsecuredForm(this.data):this.buildUnsecuredForm()}},{key:"buildUnsecuredForm",value:function(t,e){if(this.unsecuredUpdateForm=this.formBuilder.group({limitId:[t?t.limitId:"",v.z.required],accountId:null!=this.accountId?this.accountId:"",overdraftCurrency:[t?t.overdraftCurrency:"",v.z.required],overdraftLimitAmount:[t?t.overdraftLimitAmount:"",v.z.required],limitStartDate:[t?new Date(t.limitStartDate):"",v.z.required],limitEndDate:[t?new Date(t.limitEndDate):"",v.z.required],unsecuredLimit:[""],renewPeriod:[t?t.renewPeriod:""],renewalAmount:[t?t.renewalAmount:""],year:[t?t.year:""],month:[t?t.month:""],day:[t?t.day:""],overdraftLimitRenewed:[t?t.overdraftLimitRenewed:""]}),t&&(console.log("values:",t.renewPeriod),t.renewPeriod)){this.selectedYear=t.renewPeriod.substring(0,4);var a=t.renewPeriod.substring(5,8);this.selectedDay=t.renewPeriod.substring(9,11),this.unsecuredUpdateForm.get("year").setValue(Number(this.selectedYear)),this.unsecuredUpdateForm.get("month").setValue(a),this.unsecuredUpdateForm.get("day").setValue(Number(this.selectedDay)),this.cdr.markForCheck()}}},{key:"onSubmit",value:function(){var t=this;if(!this.unsecuredUpdateForm.value.overdraftLimitRenewed||null!=this.unsecuredUpdateForm.controls.day.value&&null!=this.unsecuredUpdateForm.controls.year.value&&null!=this.unsecuredUpdateForm.controls.month.value){var e=this.convertDate(this.unsecuredUpdateForm.controls.limitStartDate.value);this.unsecuredUpdateForm.value.limitStartDate=e;var a,n=this.convertDate(this.unsecuredUpdateForm.controls.limitEndDate.value);this.unsecuredUpdateForm.value.limitEndDate=n,a=this.unsecuredUpdateForm.value.overdraftLimitRenewed?this.unsecuredUpdateForm.value.year+"-"+this.unsecuredUpdateForm.value.month+"-"+this.unsecuredUpdateForm.value.day:"";var o={accountId:this.accountId,limitId:this.unsecuredUpdateForm.value.limitId,overdraftCurrency:this.unsecuredUpdateForm.value.overdraftCurrency,overdraftLimitAmount:this.unsecuredUpdateForm.value.overdraftLimitAmount,limitStartDate:this.unsecuredUpdateForm.value.limitStartDate,limitEndDate:this.unsecuredUpdateForm.value.limitEndDate,renewPeriod:a,renewalAmount:this.unsecuredUpdateForm.value.renewalAmount,overdraftLimitRenewed:this.unsecuredUpdateForm.value.overdraftLimitRenewed};if(null==o.limitId||null==o.overdraftLimitAmount)return xa.a.fire("Please Enter The Mandatory Fields !"),!1;""!=this.unsecuredUpdateForm.value.limitId&&this.api.unsecuredDraft(o).subscribe(function(e){t.snack.open("UnSecured Overdraft Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})},function(e){t.snack.open(e.message,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}else this.snack.open("Please give Renew Period","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"getCurrencyDetails",value:function(){var t=this;this.api.fetchCurrencyMaintAuthRecs().subscribe(function(e){t.currency=e})}},{key:"onToggle",value:function(t){!0===t.checked?this.flag=!0:(this.flag=!1,this.unsecuredUpdateForm.get("renewalAmount").setValue(""))}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"convertDate",value:function(t){var e=y(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Va)(l.Rb(p.a),l.Rb(p.g),l.Rb(m.a),l.Rb(v.f),l.Rb(l.h),l.Rb(b.b),l.Rb(W.a),l.Rb(g.a))},Va.\u0275cmp=l.Lb({type:Va,selectors:[["app-unsecured-overdraft-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","100%","fxFlex.gt-xs","50",1,"pr-1"],["fxFlex","30%","appearance","outline",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","id","limitId","formControlName","limitId","name","mod","placeholder","Limit ID",3,"keypress"],["class","errorClass",4,"ngIf"],["fxFlex","100%","fxLayout","row wrap","fxLayoutGap","5%"],["fxFlex","40%","appearance","outline",1,"full-width"],["name","prefix","formControlName","overdraftCurrency",3,"[ngModel]"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","a_sig","maxlength","15","formControlName","overdraftLimitAmount","placeholder","Overdraft Limit Amount",3,"keypress"],["fxFlex","40%"],["appearance","outline",1,"full-width"],["readonly","","matInput","","name","dob","formControlName","limitStartDate","placeholder","Limit Start Date",3,"matDatepicker","min"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","85%"],["matInput","","name","dob","formControlName","limitEndDate","placeholder","Limit End Date","readonly","",3,"min","matDatepicker"],["fxFelx","15%"],["appDatepicker1",""],["fxFlex","100","fxLayout","row"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["formControlName","overdraftLimitRenewed",3,"change"],["fxflex","100",4,"ngIf"],[1,"errorClass"],[3,"value"],["fxflex","100"],["fxLayout","row"],["fxFlex","50%"],["fxLayout","row wrap","fxLayoutGap","5px","fxLayout","row"],["required","","formControlName","year",3,"[ngModel]"],["required","","formControlName","month",3,"[ngModel]"],["required","","formControlName","day",3,"[ngModel]"],[1,"full-width"],["matInput","","maxlength","8","name","a_sig","required","","formControlName","renewalAmount","placeholder","Renewal Amount",3,"keypress"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Unsecured Overdraft Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Rc(6,Ga,54,14,"form",3),l.Wb(),l.Xb(7,"div",4),l.Xb(8,"button",5),l.fc("click",function(){return e.onSubmit()}),l.Tc(9,"Save"),l.Wb(),l.Tc(10," \xa0\xa0\xa0 "),l.Xb(11,"button",6),l.fc("click",function(){return e.close()}),l.Tc(12," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("ngIf",e.unsecuredUpdateForm),l.Eb(2),l.rc("disabled",e.unsecuredUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,A.b,v.A,v.s,v.j,E.a,X.b,I.f,C.b,v.c,v.r,v.i,x.a,c.m,v.m,O.e,O.g,I.j,O.d,D.a,I.b,S.n,v.y],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Va),Ba=r("BSbQ");function za(t,e){if(1&t&&(l.Xb(0,"mat-option",67),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function qa(t,e){1&t&&(l.Xb(0,"mat-error",68),l.Tc(1," Please select the Employment Type "),l.Wb())}function Ja(t,e){1&t&&(l.Xb(0,"mat-error",68),l.Tc(1," Please enter the Designation "),l.Wb())}function Ka(t,e){1&t&&(l.Xb(0,"mat-error",68),l.Tc(1," Please enter the Employee Number "),l.Wb())}function $a(t,e){if(1&t&&(l.Xb(0,"mat-option",67),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Ha(t,e){1&t&&(l.Xb(0,"mat-error",68),l.Tc(1," Please select the Employment Category "),l.Wb())}function Ya(t,e){1&t&&(l.Xb(0,"mat-error",68),l.Tc(1," Please enter the Office Name "),l.Wb())}function Za(t,e){if(1&t){var a=l.Yb();l.Xb(0,"form",7),l.Xb(1,"mat-card"),l.Xb(2,"div",8),l.Xb(3,"mat-card"),l.Xb(4,"div",8),l.Xb(5,"div",9),l.Xb(6,"mat-hint",10),l.Tc(7,"Applicant Name"),l.Wb(),l.Xb(8,"mat-card",11),l.Sb(9,"input",12),l.Wb(),l.Wb(),l.Xb(10,"div",9),l.Xb(11,"mat-hint",10),l.Tc(12,"Total Annual Income*"),l.Wb(),l.Xb(13,"mat-card"),l.Sb(14,"input",13),l.Wb(),l.Wb(),l.Xb(15,"div",9),l.Xb(16,"mat-hint",10),l.Tc(17,"Total Annual Expenses*"),l.Wb(),l.Xb(18,"mat-card"),l.Sb(19,"input",14),l.Wb(),l.Wb(),l.Xb(20,"div",9),l.Xb(21,"div"),l.Xb(22,"mat-hint",10),l.Tc(23,"Last Update On"),l.Wb(),l.Xb(24,"mat-card",15),l.Xb(25,"div",16),l.Sb(26,"input",17),l.Wb(),l.Xb(27,"div",18),l.Sb(28,"mat-datepicker-toggle",19),l.Wb(),l.Wb(),l.Wb(),l.Sb(29,"mat-datepicker",null,20),l.Wb(),l.Wb(),l.Wb(),l.Xb(31,"mat-card"),l.Xb(32,"mat-card-title",21),l.Xb(33,"div",22),l.Tc(34,"Employment Details"),l.Wb(),l.Sb(35,"mat-divider"),l.Wb(),l.Xb(36,"mat-card-content"),l.Xb(37,"div",8),l.Xb(38,"div",23),l.Xb(39,"mat-hint",10),l.Tc(40,"Employment Type*"),l.Wb(),l.Xb(41,"mat-card",11),l.Xb(42,"mat-select",24),l.Rc(43,za,2,2,"mat-option",25),l.Wb(),l.Wb(),l.Rc(44,qa,2,0,"mat-error",26),l.Wb(),l.Xb(45,"div",23),l.Xb(46,"mat-hint",10),l.Tc(47,"Designation*"),l.Wb(),l.Xb(48,"mat-card",11),l.Sb(49,"input",27),l.Wb(),l.Rc(50,Ja,2,0,"mat-error",26),l.Wb(),l.Xb(51,"div",23),l.Xb(52,"mat-hint",10),l.Tc(53,"Employee number*"),l.Wb(),l.Xb(54,"mat-card",11),l.Xb(55,"input",28),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(56,Ka,2,0,"mat-error",26),l.Wb(),l.Xb(57,"div",23),l.Xb(58,"mat-hint",10),l.Tc(59,"Employment Category*"),l.Wb(),l.Xb(60,"mat-card",11),l.Xb(61,"mat-select",29),l.Rc(62,$a,2,2,"mat-option",25),l.Wb(),l.Wb(),l.Rc(63,Ha,2,0,"mat-error",26),l.Wb(),l.Xb(64,"div",9),l.Xb(65,"div"),l.Xb(66,"mat-hint",10),l.Tc(67,"Employment Start Date"),l.Wb(),l.Xb(68,"mat-card",11),l.Xb(69,"div",16),l.Sb(70,"input",30),l.Wb(),l.Xb(71,"div",18),l.Sb(72,"mat-datepicker-toggle",19),l.Wb(),l.Wb(),l.Wb(),l.Sb(73,"mat-datepicker",null,31),l.Wb(),l.Xb(75,"div",9),l.Xb(76,"div"),l.Xb(77,"mat-hint",10),l.Tc(78,"Employment End Date"),l.Wb(),l.Xb(79,"mat-card",11),l.Sb(80,"input",32),l.Sb(81,"mat-datepicker-toggle",19),l.Wb(),l.Wb(),l.Sb(82,"mat-datepicker",null,33),l.Wb(),l.Xb(84,"div",23),l.Xb(85,"mat-hint",10),l.Tc(86,"Office Name*"),l.Wb(),l.Xb(87,"mat-card",11),l.Sb(88,"input",34),l.Wb(),l.Rc(89,Ya,2,0,"mat-error",26),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(90,"mat-card"),l.Xb(91,"mat-card-title",21),l.Xb(92,"div",22),l.Tc(93,"Monthly Income "),l.Xb(94,"div",35),l.Tc(95),l.Wb(),l.Wb(),l.Sb(96,"mat-divider"),l.Wb(),l.Xb(97,"mat-card-content"),l.Xb(98,"div",8),l.Xb(99,"div",23),l.Xb(100,"mat-hint",10),l.Tc(101,"Salary"),l.Wb(),l.Xb(102,"mat-card",11),l.Xb(103,"input",36),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(104,"div",23),l.Xb(105,"mat-hint",10),l.Tc(106,"Business"),l.Wb(),l.Xb(107,"mat-card",11),l.Xb(108,"input",37),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(109,"div",23),l.Xb(110,"mat-hint",10),l.Tc(111,"Interest Income"),l.Wb(),l.Xb(112,"mat-card",11),l.Xb(113,"input",38),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(114,"div",23),l.Xb(115,"mat-hint",10),l.Tc(116,"Pension"),l.Wb(),l.Xb(117,"mat-card",11),l.Xb(118,"input",39),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(119,"div",23),l.Xb(120,"mat-hint",10),l.Tc(121,"Bonus"),l.Wb(),l.Xb(122,"mat-card",11),l.Xb(123,"input",40),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(124,"div",23),l.Xb(125,"mat-hint",10),l.Tc(126,"Cash Gifts"),l.Wb(),l.Xb(127,"mat-card",11),l.Xb(128,"input",41),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(129,"div",23),l.Xb(130,"mat-hint",10),l.Tc(131,"Rentals"),l.Wb(),l.Xb(132,"mat-card",11),l.Xb(133,"input",42),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(134,"div",23),l.Xb(135,"mat-hint",10),l.Tc(136,"Others"),l.Wb(),l.Xb(137,"mat-card",11),l.Xb(138,"input",43),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyIncome(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(139,"div",23),l.Xb(140,"mat-hint",10),l.Tc(141,"Total"),l.Wb(),l.Xb(142,"mat-card",11),l.Sb(143,"input",44),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(144,"mat-card"),l.Xb(145,"mat-card-title",21),l.Xb(146,"div",22),l.Tc(147,"Monthly Expenses "),l.Xb(148,"div",35),l.Tc(149),l.Wb(),l.Wb(),l.Sb(150,"mat-divider"),l.Wb(),l.Xb(151,"mat-card-content"),l.Xb(152,"div",8),l.Xb(153,"div",23),l.Xb(154,"mat-hint",10),l.Tc(155,"Household"),l.Wb(),l.Xb(156,"mat-card",11),l.Xb(157,"input",45),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(158,"div",9),l.Xb(159,"mat-hint",10),l.Tc(160,"Medical"),l.Wb(),l.Xb(161,"mat-card",11),l.Xb(162,"input",46),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(163,"div",9),l.Xb(164,"mat-hint",10),l.Tc(165,"Vehicle Maintenance"),l.Wb(),l.Xb(166,"mat-card",11),l.Xb(167,"input",47),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(168,"div",9),l.Xb(169,"mat-hint",10),l.Tc(170,"Travel"),l.Wb(),l.Xb(171,"mat-card",11),l.Xb(172,"input",48),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(173,"div",9),l.Xb(174,"mat-hint",10),l.Tc(175,"Rentals"),l.Wb(),l.Xb(176,"mat-card",11),l.Xb(177,"input",49),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(178,"div",9),l.Xb(179,"mat-hint",10),l.Tc(180,"Others"),l.Wb(),l.Xb(181,"mat-card",11),l.Xb(182,"input",50),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalMonthlyExpenses(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(183,"div",9),l.Xb(184,"mat-hint",10),l.Tc(185,"Total"),l.Wb(),l.Xb(186,"mat-card",11),l.Sb(187,"input",51),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(188,"mat-card"),l.Xb(189,"mat-card-title",21),l.Xb(190,"div",22),l.Tc(191,"Annual Liabilities "),l.Xb(192,"div",35),l.Tc(193),l.Wb(),l.Wb(),l.Sb(194,"mat-divider"),l.Wb(),l.Xb(195,"mat-card-content"),l.Xb(196,"div",8),l.Xb(197,"div",9),l.Xb(198,"mat-hint",10),l.Tc(199,"Property Loans"),l.Wb(),l.Xb(200,"mat-card",11),l.Xb(201,"input",52),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(202,"div",9),l.Xb(203,"mat-hint",10),l.Tc(204,"Personal Loans"),l.Wb(),l.Xb(205,"mat-card",11),l.Xb(206,"input",53),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(207,"div",9),l.Xb(208,"mat-hint",10),l.Tc(209,"Vehicle Loans"),l.Wb(),l.Xb(210,"mat-card",11),l.Xb(211,"input",54),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(212,"div",9),l.Xb(213,"mat-hint",10),l.Tc(214,"Cards Outstanding's"),l.Wb(),l.Xb(215,"mat-card",11),l.Xb(216,"input",55),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(217,"div",9),l.Xb(218,"mat-hint",10),l.Tc(219,"Overdrafts"),l.Wb(),l.Xb(220,"mat-card",11),l.Xb(221,"input",56),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(222,"div",9),l.Xb(223,"mat-hint",10),l.Tc(224,"Others"),l.Wb(),l.Xb(225,"mat-card",11),l.Xb(226,"input",57),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalLiabilities(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(227,"div",9),l.Xb(228,"mat-hint",10),l.Tc(229,"Total"),l.Wb(),l.Xb(230,"mat-card",11),l.Sb(231,"input",58),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(232,"mat-card"),l.Xb(233,"mat-card-title",21),l.Xb(234,"div",22),l.Tc(235,"Asset "),l.Xb(236,"div",35),l.Tc(237),l.Wb(),l.Wb(),l.Sb(238,"mat-divider"),l.Wb(),l.Xb(239,"mat-card-content"),l.Xb(240,"div",8),l.Xb(241,"div",9),l.Xb(242,"mat-hint",10),l.Tc(243,"Savings Deposits"),l.Wb(),l.Sb(244,"mat-card"),l.Xb(245,"input",59),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Xb(246,"div",9),l.Xb(247,"mat-hint",10),l.Tc(248,"Properties"),l.Wb(),l.Xb(249,"mat-card",11),l.Xb(250,"input",60),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(251,"div",9),l.Xb(252,"mat-hint",10),l.Tc(253,"Fixed Deposits"),l.Wb(),l.Xb(254,"mat-card",11),l.Xb(255,"input",61),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(256,"div",9),l.Xb(257,"mat-hint",10),l.Tc(258,"Stocks/Funds"),l.Wb(),l.Xb(259,"mat-card",11),l.Xb(260,"input",62),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(261,"div",9),l.Xb(262,"mat-hint",10),l.Tc(263,"Auto Mobiles"),l.Wb(),l.Xb(264,"mat-card",11),l.Xb(265,"input",63),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(266,"div",9),l.Xb(267,"mat-hint",10),l.Tc(268,"Lands"),l.Wb(),l.Xb(269,"mat-card",11),l.Xb(270,"input",64),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(271,"div",9),l.Xb(272,"mat-hint",10),l.Tc(273,"Others"),l.Wb(),l.Xb(274,"mat-card",11),l.Xb(275,"input",65),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("input",function(){l.Hc(a);var t=l.jc();return t.calculateTotalAssets(t.financialDetailsUpdate.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(276,"div",9),l.Xb(277,"mat-hint",10),l.Tc(278,"Total"),l.Wb(),l.Xb(279,"mat-card"),l.Sb(280,"input",66),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.Dc(30),o=l.Dc(74),i=l.Dc(83),r=l.jc();l.rc("formGroup",r.financialDetailsUpdate),l.Eb(26),l.rc("matDatepicker",n)("max",r.tomorrow),l.Eb(2),l.rc("for",n),l.Eb(15),l.rc("ngForOf",r.arrayEmploymentType),l.Eb(1),l.rc("ngIf",r.financialDetailsUpdate.get("employmentType").hasError("required")),l.Eb(6),l.rc("ngIf",r.financialDetailsUpdate.get("designation").hasError("required")),l.Eb(6),l.rc("ngIf",r.financialDetailsUpdate.get("employeeNumber").hasError("required")),l.Eb(6),l.rc("ngForOf",r.arrayEmploymentCategory),l.Eb(1),l.rc("ngIf",r.financialDetailsUpdate.get("employmentCategory").hasError("required")),l.Eb(7),l.rc("matDatepicker",o),l.Eb(2),l.rc("for",o),l.Eb(8),l.rc("min",r.financialDetailsUpdate.get("employmentStartDate").value)("matDatepicker",i),l.Eb(1),l.rc("for",i),l.Eb(8),l.rc("ngIf",r.financialDetailsUpdate.get("officeName").hasError("required")),l.Eb(6),l.Vc("",r.incomeErrMsg," "),l.Eb(54),l.Vc("",r.ExpensesErrMsg," "),l.Eb(44),l.Vc("",r.LiabilitiesErrMsg," "),l.Eb(44),l.Vc("",r.assetErrMsg," ")}}var Qa,tn=((Qa=function(){function t(e,a,o,i,r,c,s,l){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.ls=i,this.cdr=r,this.api=c,this.snack=s,this.tasksummaryService=l}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data,"AccountId: ",this.ls.getItem("accountId")),this.accountId=this.ls.getItem("accountId"),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),null!=this.data?this.buildFinacialFormGroup(this.data):this.buildFinacialFormGroup()}},{key:"buildFinacialFormGroup",value:function(t){var e=this;this.financialDetailsUpdate=this.formBuilder.group({applicantName:[t?t.applicantName:"",v.z.required],applicantTotalIncome:[t?t.applicantTotalIncome:0,v.z.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,v.z.required],lastUpdatedon:[t?new Date(t.lastUpdatedon):""],limit_end_date:[t?new Date(t.limit_end_date):""],employmentType:[t?t.employmentType:"",v.z.required],employmentCategory:[t?t.employmentCategory:"",v.z.required],employeeNumber:[t?t.employeeNumber:"",v.z.required],officeName:[t?t.officeName:"",v.z.required],designation:[t?t.designation:"",v.z.required],employmentStartDate:[t?new Date(t.employmentStartDate):""],employmentEndDate:[t?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0],accountId:this.ls.getItem("accountId")},{validator:function(t){return e.validateInputGroups(t)}})}},{key:"validateInputGroups",value:function(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}},{key:"onSubmit",value:function(){var t=this,e=this.converDate(this.financialDetailsUpdate.controls.employmentStartDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.financialDetailsUpdate.value.employmentStartDate=e):this.financialDetailsUpdate.value.employmentStartDate=null;var a=this.converDate(this.financialDetailsUpdate.controls.employmentEndDate.value);a&&"Invalid date"!=a?(console.log("startDate",a),this.financialDetailsUpdate.value.employmentEndDate=a):this.financialDetailsUpdate.value.employmentEndDate=null;var n=this.converDate(this.financialDetailsUpdate.controls.lastUpdatedon.value);if(n&&"Invalid date"!=n?(console.log("startDate",n),this.financialDetailsUpdate.value.lastUpdatedon=n):this.financialDetailsUpdate.value.lastUpdatedon=null,console.log("submit",this.financialDetailsUpdate.value),!this.financialDetailsUpdate.value.applicantName||!this.financialDetailsUpdate.value.employmentType||!this.financialDetailsUpdate.value.employmentCategory)return console.log("if---\x3e"),xa.a.fire("Please Enter The Mandatory Fields !"),!1;this.api.upsertfinancialDetails(this.financialDetailsUpdate.value).subscribe(function(e){console.log(e),t.snack.open("Financial Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})},function(e){t.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"getEmploymentType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentType=t})}},{key:"getEmploymentCategory",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentCategory=t})}},{key:"converDate",value:function(t){var e=y(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"calculateTotalMonthlyIncome",value:function(t){var e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.financialDetailsUpdate.controls.monthlyIncomeTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalMonthlyExpenses",value:function(t){var e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.financialDetailsUpdate.controls.monthlyExpenseTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalLiabilities",value:function(t){var e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.financialDetailsUpdate.controls.liabilityTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalAssets",value:function(t){var e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.financialDetailsUpdate.controls.assetTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}},{key:"calculateTotalIncomeAndExpense",value:function(t){var e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.financialDetailsUpdate.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.financialDetailsUpdate.controls.applicantTotalExpense.setValue(e),this.cdr.detectChanges()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Qa)(l.Rb(p.a),l.Rb(p.g),l.Rb(v.f),l.Rb(m.a),l.Rb(l.h),l.Rb(b.b),l.Rb(W.a),l.Rb(g.a))},Qa.\u0275cmp=l.Lb({type:Qa,selectors:[["app-financial-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","submit",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","applicantName","readonly","","placeholder","Applicant Name"],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Annual Income"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total Annual Expenses"],["fxFlexLayout","row",1,"inputCard"],["fxFlex","85%"],["matInput","","formControlName","lastUpdatedon","placeholder","Last Update On","readonly","",3,"matDatepicker","max"],["fxFlex","15%"],["matSuffix","",3,"for"],["appDatepicker",""],[1,""],[1,"card-title-text"],["fxFlex","33.33%","fxFlex.xs","100%","fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"keypress"],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","formControlName","employmentStartDate","placeholder","Employment Start Date","readonly","",3,"matDatepicker"],["start",""],["matInput","","name","employmentEndDate","formControlName","employmentEndDate","placeholder","Employment End Date","readonly","",3,"min","matDatepicker"],["end",""],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","autocomplete","off","placeholder","Business",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","MonthlyIncomeTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","monthlyExpenseRentals",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","monthlyExpenseOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","vehicle Loan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","cardOutstandings",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","overdraft",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","liabilityOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","fixedDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","stocks","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","lands","formControlName","lands",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","assetOthers","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","assetTotal","readonly",""],[3,"value"],[1,"errorClass"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Financial Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Rc(6,Za,281,20,"form",3),l.Wb(),l.Xb(7,"div",4),l.Xb(8,"button",5),l.fc("click",function(){return e.onSubmit()}),l.Tc(9," Save"),l.Wb(),l.Tc(10," \xa0\xa0\xa0 "),l.Xb(11,"button",6),l.fc("click",function(){return e.close()}),l.Tc(12," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("ngIf",e.financialDetailsUpdate),l.Eb(2),l.rc("disabled",!e.financialDetailsUpdate.get("employeeNumber").valid||!e.financialDetailsUpdate.get("employmentType").valid||!e.financialDetailsUpdate.get("designation").valid||e.incomeErrMsg||!e.financialDetailsUpdate.get("officeName").valid||e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,A.b,v.A,v.s,v.j,E.a,X.b,I.f,C.b,v.c,v.r,v.i,v.v,O.e,O.g,I.j,O.d,E.h,Ba.a,E.d,x.a,c.m,v.m,Y.a,S.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}"]}),Qa);function en(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Margin in % is "),l.Xb(2,"strong"),l.Tc(3,"required"),l.Wb(),l.Wb())}function an(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Max value allowed is 100 "),l.Wb())}function nn(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Effective Rate % is required "),l.Wb())}function on(t,e){1&t&&(l.Xb(0,"mat-error",19),l.Tc(1," Max value allowed is 100 "),l.Wb())}function rn(t,e){if(1&t){var a=l.Yb();l.Xb(0,"tr",10),l.Vb(1,7),l.Xb(2,"td"),l.Xb(3,"div"),l.Xb(4,"mat-card",11),l.Sb(5,"input",12),l.Xb(6,"mat-icon",13),l.Tc(7,"credit_card"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"td"),l.Xb(9,"div"),l.Xb(10,"mat-card",14),l.Sb(11,"input",15),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"td"),l.Xb(13,"div"),l.Xb(14,"mat-card",14),l.Xb(15,"input",16),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(16,en,4,0,"mat-error",17),l.Rc(17,an,2,0,"mat-error",17),l.Wb(),l.Wb(),l.Xb(18,"td"),l.Xb(19,"div"),l.Xb(20,"mat-card",14),l.Xb(21,"input",18),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(22,nn,2,0,"mat-error",17),l.Rc(23,on,2,0,"mat-error",17),l.Wb(),l.Wb(),l.Ub(),l.Wb()}if(2&t){var n=e.$implicit;l.Eb(1),l.rc("formGroup",n),l.Eb(15),l.rc("ngIf",null==n.controls.marginIn.errors?null:n.controls.marginIn.errors.required),l.Eb(1),l.rc("ngIf",null==n.controls.marginIn.errors?null:n.controls.marginIn.errors.max),l.Eb(5),l.rc("ngIf",null==n.controls.effectiveRate.errors?null:n.controls.effectiveRate.errors.required),l.Eb(1),l.rc("ngIf",null==n.controls.effectiveRate.errors?null:n.controls.effectiveRate.errors.max)}}function cn(t,e){if(1&t&&(l.Xb(0,"form",7),l.Xb(1,"table"),l.Xb(2,"thead"),l.Xb(3,"tr"),l.Xb(4,"th",8),l.Tc(5,"Interest Type"),l.Wb(),l.Xb(6,"th",8),l.Tc(7,"Interest Rate Applicable"),l.Wb(),l.Xb(8,"th",8),l.Tc(9,"Margin in %"),l.Wb(),l.Xb(10,"th",8),l.Tc(11,"Effective Rate %"),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"tbody"),l.Rc(13,rn,24,5,"tr",9),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc();l.rc("formGroup",a.interestUpdateForm),l.Eb(13),l.rc("ngForOf",a.in.controls)}}var sn,ln=((sn=function(){function t(e,a,o,i,r,c,s){n(this,t),this.data=e,this.dialogRef=a,this.api=o,this.ls=i,this.formBuilder=r,this.snack=c,this.tasksummaryService=s}return i(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.interestUpdateForm=this.formBuilder.group({interest:new v.d([])}),null!=this.data&&(this.buildInterestForm(this.data.length),this.in.patchValue(this.data)),this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(function(e){t.buildInterestForm(e.length),t.in.patchValue(e)})}},{key:"buildInterestForm",value:function(t){var e=t||0;if(this.in.length<e)for(var a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:["",[v.z.required,v.z.max(100),v.z.min(0)]],effectiveRate:["",[v.z.required,v.z.max(100),v.z.min(0)]],accountId:[""],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],id:[""]}));else for(var n=this.in.length;n>=e;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.interestUpdateForm.controls}},{key:"in",get:function(){return this.f.interest}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"onSubmit",value:function(t){var e=this;t.interest=t.interest.map(function(t){return Object.assign(Object.assign({},t),{accountId:e.accountId})}),this.api.intrestDetailsSave(t.interest).subscribe(function(t){e.snack.open("Interest Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||sn)(l.Rb(p.a),l.Rb(p.g),l.Rb(b.b),l.Rb(m.a),l.Rb(v.f),l.Rb(W.a),l.Rb(g.a))},sn.\u0275cmp=l.Lb({type:sn,selectors:[["app-interest-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","color","primary",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[1,"hintClass"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],["fxLayout","row",1,"inputCard"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type","readonly",""],["matSuffix",""],[1,"inputCard"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","placeholder","Interest Rate Applicable","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","maxlength","3","type","text",1,"input",3,"keypress"],["class","errorClass",4,"ngIf"],["matInput","","formControlName","effectiveRate","name","account_branch","type","text","maxlength","3","value","",1,"input",3,"keypress"],[1,"errorClass"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Interest Details"),l.Wb(),l.Xb(5,"mat-card-content"),l.Rc(6,cn,14,2,"form",3),l.Wb(),l.Xb(7,"div",4),l.Xb(8,"button",5),l.fc("click",function(){return e.onSubmit(e.interestUpdateForm.value)}),l.Tc(9,"Save"),l.Wb(),l.Tc(10," \xa0\xa0\xa0 "),l.Xb(11,"button",6),l.fc("click",function(){return e.close()}),l.Tc(12," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("ngIf",e.interestUpdateForm),l.Eb(2),l.rc("disabled",e.interestUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,E.d,c.n,A.b,v.A,v.s,v.j,c.m,E.a,C.b,v.c,v.r,v.i,I.j,v.m,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),sn);function bn(t,e){1&t&&(l.Xb(0,"mat-error",17),l.Tc(1," amount is required "),l.Wb())}function un(t,e){if(1&t){var a=l.Yb();l.Xb(0,"tr"),l.Vb(1,7),l.Xb(2,"td"),l.Xb(3,"div"),l.Xb(4,"mat-card",10),l.Xb(5,"input",11),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Xb(6,"mat-icon",12),l.Tc(7,"credit_card"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"td"),l.Xb(9,"div"),l.Xb(10,"mat-card",10),l.Sb(11,"input",13),l.Xb(12,"mat-icon",12),l.Tc(13,"class"),l.Wb(),l.Wb(),l.Rc(14,bn,2,0,"mat-error",14),l.Wb(),l.Wb(),l.Xb(15,"td"),l.Xb(16,"div",15),l.Xb(17,"mat-checkbox",16),l.fc("change",function(t){return l.Hc(a),l.jc(2).checkboxChanged(t)}),l.Wb(),l.Wb(),l.Wb(),l.Ub(),l.Wb()}if(2&t){var n=e.$implicit;l.Eb(1),l.rc("formGroup",n),l.Eb(13),l.rc("ngIf",(null==n.controls.amount.errors?null:n.controls.amount.errors.required)&&n.controls.amount.touched)}}function dn(t,e){if(1&t&&(l.Xb(0,"form",7),l.Xb(1,"thead"),l.Xb(2,"tr"),l.Xb(3,"th",8),l.Tc(4,"Interest Type"),l.Wb(),l.Xb(5,"th",8),l.Tc(6,"Amount*"),l.Wb(),l.Xb(7,"th",8),l.Tc(8,"Waiver"),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"tbody"),l.Rc(10,un,18,2,"tr",9),l.Wb(),l.Wb()),2&t){var a=l.jc();l.rc("formGroup",a.chargeForm),l.Eb(10),l.rc("ngForOf",a.c.controls)}}var mn,pn=((mn=function(){function t(e,a,o,i,r,c,s){n(this,t),this.data=e,this.dialogRef=a,this.api=o,this.formBuilder=i,this.ls=r,this.snack=c,this.tasksummaryService=s}return i(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.chargeUpdateForm=this.formBuilder.group({charges:new v.d([])}),null!=this.data&&(this.buildChargeForm(this.data.length),this.c.patchValue(this.data)),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(e){t.buildChargeForm(e.length),t.c.patchValue(e)})}},{key:"buildChargeForm",value:function(t){var e=t||0;if(this.c.length<e)for(var a=this.c.length;a<e;a++)this.c.push(this.formBuilder.group({intrestType:[""],amount:["",v.z.required],waiver:[!1],accountId:[this.accountId],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],id:[""]}));else for(var n=this.c.length;n>=e;n--)this.c.removeAt(n)}},{key:"f",get:function(){return this.chargeUpdateForm.controls}},{key:"c",get:function(){return this.f.charges}},{key:"onSubmit",value:function(t){var e=this;t.charges=t.charges.map(function(t){return Object.assign(Object.assign({},t),{accountId:e.accountId})}),t.accountId=this.accountId,this.api.chargeDetailsSave(t.charges).subscribe(function(t){e.snack.open("Account Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"checkboxChanged",value:function(t){console.log(t.checked),this.flag=t.checked}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||mn)(l.Rb(p.a),l.Rb(p.g),l.Rb(b.b),l.Rb(v.f),l.Rb(m.a),l.Rb(W.a),l.Rb(g.a))},mn.\u0275cmp=l.Lb({type:mn,selectors:[["app-charge-details-update"]],decls:14,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[1,"hintClass"],[4,"ngFor","ngForOf"],["fxLayout","row",1,"inputCard"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type",3,"keypress"],["matSuffix",""],["matInput","","formControlName","amount","type","number","name","account_branch","placeholder","Amount"],["class","errorClass",4,"ngIf"],[1,"waiver-pos",2,"text-align","center"],["formControlName","waiver","color","primary",3,"change"],[1,"errorClass"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Charge Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"mat-card"),l.Rc(7,dn,11,2,"form",3),l.Wb(),l.Wb(),l.Xb(8,"div",4),l.Xb(9,"button",5),l.fc("click",function(){return e.onSubmit(e.chargeUpdateForm.value)}),l.Tc(10,"Save"),l.Wb(),l.Tc(11," \xa0\xa0\xa0 "),l.Xb(12,"button",6),l.fc("click",function(){return e.close()}),l.Tc(13," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("ngIf",e.chargeUpdateForm),l.Eb(2),l.rc("disabled",e.chargeUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,E.a,c.n,A.b,v.A,v.s,v.j,c.m,C.b,v.c,v.r,v.i,I.j,v.v,ee.a,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),mn);function fn(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please Enter valid Scorecard ID "),l.Wb())}function hn(t,e){1&t&&l.Sb(0,"input",15)}function gn(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function vn(t,e){if(1&t&&(l.Xb(0,"mat-select",16),l.Rc(1,gn,2,2,"mat-option",17),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("ngForOf",a.value.scorecardAnswers)}}function yn(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div",11),l.Xb(2,"mat-hint"),l.Tc(3),l.Wb(),l.Xb(4,"mat-card"),l.Rc(5,hn,1,0,"input",13),l.Rc(6,vn,2,1,"mat-select",14),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=e.index;l.Eb(1),l.rc("formGroupName",n),l.Eb(2),l.Uc(a.value.scorecardQuestion),l.Eb(2),l.rc("ngIf","textbox"==a.value.attributeType),l.Eb(1),l.rc("ngIf","drop-down"==a.value.attributeType)}}function Wn(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div",11),l.Xb(2,"div",12),l.Rc(3,yn,7,4,"div",7),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=e.index;l.Eb(1),l.rc("formGroupName",n),l.Eb(2),l.rc("ngForOf",a.get("scoreCardDetails").controls)}}var Xn,Tn=((Xn=function(){function t(e,a,o,i,r,c){n(this,t),this.formBuilder=e,this.qualitativeDetails=a,this.ls=o,this.apiService=i,this.dialogRef=r,this.snack=c,this.qualitative=new v.d([])}return i(t,[{key:"ngOnInit",value:function(){var t,e,a=this;console.log(this.qualitativeDetails),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.scoreCardId=null===(t=this.qualitativeDetails)||void 0===t?void 0:t.scorecardId,this.numberOfApplicant=null===(e=this.qualitativeDetails)||void 0===e?void 0:e.numberOfApplicant,this.buildQualitativeForm(),this.apiService.getScorecardQuestions(this.accountType).subscribe(function(t){var e;a.qualitative=a.qualitativeUpdateForm.get("scorecardMapping"),a.qualitative.push(a.addScorecardMappiing());for(var n=0;n<t.length;n++)a.addScorecardDetails(t[n],null===(e=a.qualitativeDetails)||void 0===e?void 0:e.scoreCardMapping[0].scoreCardDetails[n].scorecardAnswer,n)})}},{key:"buildQualitativeForm",value:function(){this.qualitativeUpdateForm=this.formBuilder.group({accountId:this.accountId,accountType:this.accountType,scoreCardId:this.scoreCardId?this.scoreCardId:"",loggedinUser:"123",numberOfApplicant:this.numberOfApplicant,scorecardMapping:this.formBuilder.array([])})}},{key:"addScorecardMappiing",value:function(){return this.formBuilder.group({applicantId:"",scoreCardDetails:this.formBuilder.array([])})}},{key:"addScorecardDetails",value:function(t,e,a){this.qualitative.controls[0].get("scoreCardDetails").push(this.formBuilder.group({scoreCardDetailsId:[t?t.scoreCardDetailsId:""],scoreCardMappingId:[t?t.scoreCardMappingId:""],scoreCardQuestionId:[t?t.scoreCardQuestionId:""],scorecardQuestion:[t?t.scorecardQuestion:""],scorecardAnswer:[t?t.scorecardAnswer:"",[v.z.required]],scorecardAnswers:[t?t.scorecardAnswers:""],attributeType:[t?t.attributeType:""]})),e&&this.qualitative.controls[0].get("scoreCardDetails").at(a).get("scorecardAnswer").setValue(e)}},{key:"saveReports",value:function(t){var e=this;this.apiService.saveQualitativeScorecard(t).subscribe(function(t){e.snack.open("Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})},function(t){e.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Xn)(l.Rb(v.f),l.Rb(p.a),l.Rb(m.a),l.Rb(b.b),l.Rb(p.g),l.Rb(W.a))},Xn.\u0275cmp=l.Lb({type:Xn,selectors:[["app-qualitative-details-update"]],decls:22,vars:4,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId","formControlName","scoreCardId"],[4,"ngIf"],["formArrayName","scorecardMapping"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroupName"],["formArrayName","scoreCardDetails"],["matInput","","formControlName","scorecardAnswer",4,"ngIf"],["formControlName","scorecardAnswer",4,"ngIf"],["matInput","","formControlName","scorecardAnswer"],["formControlName","scorecardAnswer"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Qualitative Scoreboard"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"form",3),l.Xb(7,"mat-card"),l.Xb(8,"div"),l.Xb(9,"mat-hint"),l.Tc(10," Scorecard ID "),l.Wb(),l.Xb(11,"mat-card"),l.Sb(12,"input",4),l.Wb(),l.Rc(13,fn,2,0,"mat-error",5),l.Wb(),l.Xb(14,"div",6),l.Rc(15,Wn,4,2,"div",7),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(16,"div",8),l.Xb(17,"button",9),l.fc("click",function(){return e.saveReports(e.qualitativeUpdateForm.value)}),l.Tc(18,"Save"),l.Wb(),l.Tc(19," \xa0\xa0\xa0 "),l.Xb(20,"button",10),l.fc("click",function(){return e.close()}),l.Tc(21," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("formGroup",e.qualitativeUpdateForm),l.Eb(7),l.rc("ngIf",e.qualitativeUpdateForm.get("scoreCardId").touched&&0==e.qualitativeUpdateForm.get("scoreCardId").value),l.Eb(2),l.rc("ngForOf",e.qualitativeUpdateForm.get("scorecardMapping").controls),l.Eb(2),l.rc("disabled",e.qualitativeUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,v.A,v.s,v.j,E.a,I.f,C.b,v.c,Y.a,v.r,v.i,c.n,v.e,c.m,A.b,I.b,v.k,x.a,S.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Xn),In=r("/Pd4"),En=r("kA6c"),Cn=r("Ya7Z");function xn(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Enter Fund By "),l.Wb())}function On(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Enter Amount "),l.Wb())}function Dn(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Enter Teller Transaction Reference Number "),l.Wb())}function An(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",9),l.Xb(1,"mat-hint",10),l.Tc(2,"Teller Transaction Reference Number"),l.Wb(),l.Xb(3,"mat-card",11),l.Xb(4,"input",19),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(5,Dn,2,0,"mat-error",16),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(5),l.rc("ngIf",n.fundStageUpdateForm.controls.tellerTrxnRefNo.hasError("required"))}}function Rn(t,e){if(1&t&&(l.Xb(0,"mat-hint",10),l.Tc(1),l.kc(2,"currency"),l.Wb()),2&t){var a=l.jc(3);l.Eb(1),l.Vc("Available Balance : ",l.oc(2,1,null==a.accountInfo?null:a.accountInfo.accBalance,null==a.accountInfo?null:a.accountInfo.currency,"symbol","4.2-2"),"")}}function Sn(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Fund By Account is Required! "),l.Wb())}function kn(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",9),l.Xb(1,"mat-hint",10),l.Tc(2,"Fund By Account"),l.Wb(),l.Xb(3,"mat-card",11),l.Xb(4,"input",20),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)})("keyup",function(t){return l.Hc(a),l.jc(2).keyUp(t)})("change",function(){l.Hc(a);var t=l.jc(2);return t.onChangeEvent(t.fundStageUpdateForm.get("fundByAccount").value)}),l.Wb(),l.Xb(5,"mat-icon",21),l.Tc(6,"search"),l.Wb(),l.Wb(),l.Rc(7,Rn,3,6,"mat-hint",22),l.Rc(8,Sn,2,0,"mat-error",16),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(7),l.rc("ngIf",null!==n.accountInfo),l.Eb(1),l.rc("ngIf",n.fundStageUpdateForm.get("fundByAccount").hasError("required"))}}function Nn(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Enter Branch Code "),l.Wb())}function Pn(t,e){if(1&t&&(l.Xb(0,"div",9),l.Xb(1,"mat-hint",10),l.Tc(2,"Branch Code"),l.Wb(),l.Xb(3,"mat-card",11),l.Sb(4,"input",23),l.Wb(),l.Rc(5,Nn,2,0,"mat-error",16),l.Wb()),2&t){var a=l.jc(2);l.Eb(5),l.rc("ngIf",a.fundStageUpdateForm.controls.branchCode.hasError("required"))}}function Fn(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Enter Cheque Number "),l.Wb())}function Ln(t,e){1&t&&(l.Xb(0,"small",26),l.Tc(1," Cheque Number should be minmum 6 digits "),l.Wb())}function _n(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",9),l.Xb(1,"mat-hint",10),l.Tc(2,"Cheque Number"),l.Wb(),l.Xb(3,"mat-card",11),l.Xb(4,"input",24),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(5,Fn,2,0,"mat-error",16),l.Rc(6,Ln,2,0,"small",25),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(5),l.rc("ngIf",n.fundStageUpdateForm.controls.chequeNumber.hasError("required")),l.Eb(1),l.rc("ngIf",n.chequeNoLenCheck)}}function wn(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"div"),l.Xb(2,"div"),l.Xb(3,"button",27),l.Tc(4),l.Wb(),l.Wb(),l.Wb(),l.Xb(5,"div"),l.Xb(6,"div"),l.Xb(7,"button",28),l.Tc(8),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"div",9),l.Xb(10,"mat-hint",10),l.Tc(11,"Amount"),l.Wb(),l.Xb(12,"mat-card",11),l.Xb(13,"span",29),l.Tc(14,"\xa0"),l.Wb(),l.Sb(15,"input",30),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Eb(4),l.Vc(" ReferenceNumber : ",a.fundStageUpdateForm.value.tellerTrxnRefNo," "),l.Eb(4),l.Vc(" Branch Code : ",a.fundStageUpdateForm.value.tellerTrxnStatus," ")}}function Un(t,e){if(1&t){var a=l.Yb();l.Xb(0,"form",7),l.Xb(1,"div",8),l.Xb(2,"div",9),l.Xb(3,"mat-hint",10),l.Tc(4,"Fund By*"),l.Wb(),l.Xb(5,"mat-card",11),l.Xb(6,"mat-select",12),l.fc("selectionChange",function(t){return l.Hc(a),l.jc().selected(t.value)}),l.Xb(7,"mat-option",13),l.Tc(8,"Cash"),l.Wb(),l.Xb(9,"mat-option",14),l.Tc(10,"Cheque"),l.Wb(),l.Xb(11,"mat-option",15),l.Tc(12,"Fund Transfer"),l.Wb(),l.Wb(),l.Wb(),l.Rc(13,xn,2,0,"mat-error",16),l.Wb(),l.Xb(14,"div",9),l.Xb(15,"mat-hint",10),l.Tc(16,"Amount"),l.Wb(),l.Xb(17,"mat-card",11),l.Xb(18,"input",17),l.fc("keyup",function(t){return l.Hc(a),l.jc().validateAmount(t)})("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.kc(19,"removeComma"),l.Wb(),l.Wb(),l.Rc(20,On,2,0,"mat-error",16),l.Wb(),l.Rc(21,An,6,1,"div",18),l.Rc(22,kn,9,2,"div",18),l.Rc(23,Pn,6,1,"div",18),l.Rc(24,_n,7,2,"div",18),l.Wb(),l.Rc(25,wn,16,2,"mat-card",16),l.Wb()}if(2&t){var n=l.jc();l.rc("formGroup",n.fundStageUpdateForm),l.Eb(13),l.rc("ngIf",n.fundStageUpdateForm.controls.fundBy.hasError("required")),l.Eb(5),l.rc("value",l.lc(19,9,n.fundStageUpdateForm.controls.amount.value)),l.Eb(2),l.rc("ngIf",n.fundStageUpdateForm.controls.amount.hasError("required")),l.Eb(1),l.rc("ngIf",n.disabletellerTrxnRefNo),l.Eb(1),l.rc("ngIf",n.disableFundByAccount),l.Eb(1),l.rc("ngIf",n.disabletellerTrxnStatus),l.Eb(1),l.rc("ngIf",n.disablechequeNumber),l.Eb(1),l.rc("ngIf",n.actionView)}}var Mn,Gn=((Mn=function(){function t(e,a,o,i,r,c,s,l,b,u,d){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.cdr=i,this.accountService=r,this.ls=c,this.fundingStageService=s,this.snack=l,this.apiService=b,this.loader=u,this.tasksummaryService=d}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountInfo=this.ls.getItem("accountDetails"),this.data?("Fund Transfer"==this.data.fundBy&&(this.disableFundByAccount=!0,this.disabletellerTrxnStatus=!0,this.disabletellerTrxnRefNo=!1,this.disablechequeNumber=!1),"Cheque"==this.data.fundBy&&(this.disableFundByAccount=!0,this.disablechequeNumber=!0,this.disabletellerTrxnRefNo=!1,this.disabletellerTrxnStatus=!1),"Cash"==this.data.fundBy&&(this.disabletellerTrxnRefNo=!0,this.disableFundByAccount=!1,this.disablechequeNumber=!1,this.disabletellerTrxnStatus=!1),this.buildFundFormGroup(this.data)):this.buildFundFormGroup()}},{key:"buildFundFormGroup",value:function(t){this.fundStageUpdateForm=this.formBuilder.group({fundId:[t?t.fundId:""],fundBy:[t?t.fundBy:"",[v.z.required]],amount:[t?t.amount:""],tellerTrxnRefNo:[t?t.tellerTrxnRefNo:""],fundByAccount:[t?t.fundByAccount:""],chequeNumber:[t?t.chequeNumber:"",[v.z.maxLength]],branchCode:[t?t.branchCode:""],tellerTrxnStatus:[t?t.tellerTrxnStatus:""],createdBy:[t?t.createdBy:""],createdTime:[t?t.createdTime:""],modifiedBy:[t?t.modifiedBy:""],modifiedTime:[t?t.modifiedTime:""],accountId:[this.accountId]}),(null==t?void 0:t.fundByAccount)&&this.fetchAccountBalance(t.fundByAccount)}},{key:"fetchAccountBalance",value:function(t,e){var a=this;this.loader.open(),this.apiService.fetchAccountBalanceByAccountId(t).subscribe(function(t){console.log("RES",t),a.accountInfo=t,e||"Fund Transfer"==a.fundStageUpdateForm.get("fundBy").value&&(a.fundStageUpdateForm.get("fundByAccount").patchValue(t.accountId),a.fundStageUpdateForm.get("branchCode").patchValue(t.branchCode)),a.loader.close(),a.snack.open("Fetched!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){a.loader.close(),a.snack.open("Invalid AccountId!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"selected",value:function(t){console.log(t),"Fund Transfer"==t&&(this.disableFundByAccount=!0,this.disabletellerTrxnStatus=!0,this.disabletellerTrxnRefNo=!1,this.disablechequeNumber=!1,null!=this.accountInfo&&(this.fundStageUpdateForm.get("branchCode").patchValue(this.accountInfo.branchCode),this.fundStageUpdateForm.get("fundByAccount").patchValue(this.accountInfo.accountId)),this.fundStageUpdateForm.get("chequeNumber").patchValue(""),this.fundStageUpdateForm.get("tellerTrxnRefNo").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),"Cheque"==t&&(this.disableFundByAccount=!0,this.disablechequeNumber=!0,this.disabletellerTrxnRefNo=!1,this.disabletellerTrxnStatus=!1,null!=this.accountInfo&&this.fundStageUpdateForm.get("fundByAccount").patchValue(this.accountInfo.accountId),this.fundStageUpdateForm.get("branchCode").patchValue(""),this.fundStageUpdateForm.get("tellerTrxnRefNo").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),"Cash"==t&&(this.disabletellerTrxnRefNo=!0,this.disableFundByAccount=!1,this.disablechequeNumber=!1,this.disabletellerTrxnStatus=!1,this.fundStageUpdateForm.get("branchCode").patchValue(""),this.fundStageUpdateForm.get("chequeNumber").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),this.fundStageUpdateForm.get("fundBy").setValue(t)}},{key:"onSubmit",value:function(t){var e=this;t.accountId=this.accountId,this.fundingStageService.saveOrUpdateFundStageDetails(t).subscribe(function(t){null!=t.accountId||""!=t.accountId||""!=t.accountId?(e.fundingStageService.isSubmittedResp(!0),e.snack.open("Funding Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"}),e.cdr.markForCheck()):(e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))},function(t){console.log("error :: ",t),e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"_keyPress",value:function(t){console.log("PRessed",t);var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"onChangeEvent",value:function(t){console.log("Onchange event",t),this.fetchAccountBalance(t)}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Mn)(l.Rb(p.a),l.Rb(p.g),l.Rb(v.f),l.Rb(l.h),l.Rb(En.a),l.Rb(m.a),l.Rb(In.a),l.Rb(W.a),l.Rb(b.b),l.Rb(K.a),l.Rb(g.a))},Mn.\u0275cmp=l.Lb({type:Mn,selectors:[["app-funding-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["formControlName","fundBy","placeholder","Fund By",1,"full-width",2,"background-color","#FDFDFF","font-size","16px","border","transparent",3,"selectionChange"],["value","Cash"],["value","Cheque"],["value","Fund Transfer"],[4,"ngIf"],["matInput","","formControlName","amount","placeholder","Amount","maxlength","10","minlength","0","required","",3,"value","keyup","keypress"],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["matInput","","formControlName","tellerTrxnRefNo","placeholder","Teller Transaction Reference Number","maxlength","10","minlength","0",3,"keypress"],["name","account","formControlName","fundByAccount","matInput","","placeholder","Fund By Account","maxlength","10","minlength","0",3,"keypress","keyup","change"],["matSuffix",""],["class","hintClass",4,"ngIf"],["matInput","","formControlName","branchCode","appUppercaseInput","","placeholder","Branch Code","maxlength","11","minlength","0"],["matInput","","formControlName","chequeNumber","placeholder","Cheque Number","maxlength","12","minlength","6",3,"keypress"],["style","color: tomato;",4,"ngIf"],[2,"color","tomato"],["mat-raised-button","","id","referenceNumber","color","primary"],["mat-raised-button","","id","status","type","button",2,"background-color","#1ABC9C"],["matPrefix",""],["matInput","","formControlName","amount","placeholder","Amount","readonly",""]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Funding Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Rc(6,Un,26,11,"form",3),l.Wb(),l.Xb(7,"div",4),l.Xb(8,"button",5),l.fc("click",function(){return e.onSubmit(e.fundStageUpdateForm.value)}),l.Tc(9,"Save"),l.Wb(),l.Tc(10," \xa0\xa0\xa0 "),l.Xb(11,"button",6),l.fc("click",function(){return e.close()}),l.Tc(12," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("ngIf",e.fundStageUpdateForm),l.Eb(2),l.rc("disabled",e.fundStageUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,A.b,v.A,v.s,v.j,X.b,I.f,E.a,x.a,v.r,v.i,S.n,C.b,v.c,v.m,v.n,v.y,I.b,I.j,Cn.a,I.i],pipes:[c.d],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),Mn);function Vn(t,e){if(1&t&&(l.Xb(0,"mat-option",17),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function jn(t,e){if(1&t&&(l.Xb(0,"mat-option",17),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Bn(t,e){if(1&t&&(l.Xb(0,"mat-option",17),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}var zn,qn=((zn=function(){function t(e,a,o,i,r,c,s){n(this,t),this.data=e,this.dialogRef=a,this.api=o,this.formBuilder=i,this.ls=r,this.snack=c,this.tasksummaryService=s,this.arrayAccountType=[],this.arrayAccountCurrency=[],this.arrayUserRecomendation=[]}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.buildApprovalForm({}),this.getAccountCurrency("currency"),this.getAccountType("account_type"),this.getUserRecomendation("user_recomendation"),this.data&&this.buildApprovalForm(this.data)}},{key:"buildApprovalForm",value:function(t){this.approvalUpdateForm=this.formBuilder.group({accountId:[this.ls.getItem("accountId")],accountType:[t?t.accountType:""],businessProductName:[t?t.businessProductName:""],productCode:[t?t.businessProductName:""],description:[t?t.description:""],accountBranch:[t?t.accountBranch:""],accountCurrency:[t?t.accountCurrency:""],applicationDate:[t?t.applicationDate:""],fundTheAccount:[t?t.fundTheAccount:""],fundBy:[t?t.fundBy:""],amount:[t?t.amount:""],overDraftRequested:[t?t.overDraftRequested:""],productDescription:[t?t.productDescription:""],userRecommendation:[t?t.userRecommendation:""],createdBy:[this.ls.getItem("userName")]})}},{key:"onSubmit",value:function(t){var e=this;t.applicationDate=y(t.applicationDate).format("DD-MMM-YYYY"),this.api.approvalUpdate(t).subscribe(function(t){e.snack.open("Approval Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"BACKLOG"})})}},{key:"getAccountCurrency",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayAccountCurrency=t})}},{key:"getAccountType",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayAccountType=t})}},{key:"getUserRecomendation",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayUserRecomendation=t})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||zn)(l.Rb(p.a),l.Rb(p.g),l.Rb(b.b),l.Rb(v.f),l.Rb(m.a),l.Rb(W.a),l.Rb(g.a))},zn.\u0275cmp=l.Lb({type:zn,selectors:[["app-approval-details-update"]],decls:42,vars:5,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"paddingclass","full-width"],[1,"hintClass"],[1,"inputCard"],["name","account","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],["matInput","","readonly","","placeholder","Account Branch","formControlName","accountBranch"],["name","owner","formControlName","accountCurrency"],["matInput","","name","account_branch","placeholder","Product Image","formControlName","productCode","readonly",""],["name","owner","placeholder","Recommended for Approval","formControlName","userRecommendation"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Approval Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"form",3),l.Xb(7,"div",4),l.Xb(8,"div",5),l.Xb(9,"mat-hint",6),l.Tc(10,"Account Type"),l.Wb(),l.Xb(11,"mat-card",7),l.Xb(12,"mat-select",8),l.Rc(13,Vn,2,2,"mat-option",9),l.Wb(),l.Wb(),l.Wb(),l.Xb(14,"div",5),l.Xb(15,"mat-hint",6),l.Tc(16,"Account Branch"),l.Wb(),l.Xb(17,"mat-card",7),l.Sb(18,"input",10),l.Wb(),l.Wb(),l.Xb(19,"div",5),l.Xb(20,"mat-hint",6),l.Tc(21,"Account Currency"),l.Wb(),l.Xb(22,"mat-card",7),l.Xb(23,"mat-select",11),l.Rc(24,jn,2,2,"mat-option",9),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",5),l.Xb(26,"mat-hint",6),l.Tc(27,"Product Code"),l.Wb(),l.Xb(28,"mat-card",7),l.Sb(29,"input",12),l.Wb(),l.Wb(),l.Xb(30,"div",5),l.Xb(31,"mat-hint",6),l.Tc(32,"User Recomendation"),l.Wb(),l.Xb(33,"mat-card",7),l.Xb(34,"mat-select",13),l.Rc(35,Bn,2,2,"mat-option",9),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div",14),l.Xb(37,"button",15),l.fc("click",function(){return e.onSubmit(e.approvalUpdateForm.value)}),l.Tc(38,"Save"),l.Wb(),l.Tc(39," \xa0\xa0\xa0 "),l.Xb(40,"button",16),l.fc("click",function(){return e.close()}),l.Tc(41," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("formGroup",e.approvalUpdateForm),l.Eb(7),l.rc("ngForOf",e.arrayAccountType),l.Eb(11),l.rc("ngForOf",e.arrayAccountCurrency),l.Eb(11),l.rc("ngForOf",e.arrayUserRecomendation),l.Eb(2),l.rc("disabled",!e.approvalUpdateForm.valid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,x.a,v.r,v.i,c.m,C.b,v.c,A.b,S.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),zn),Jn=r("h/GN");function Kn(t,e){if(1&t&&(l.Vb(0),l.Tc(1),l.Ub()),2&t){var a=l.jc().index;l.Eb(1),l.Vc(" Update Mandate ",a+1," ")}}function $n(t,e){if(1&t&&l.Tc(0),2&t){var a=l.jc().index;l.Vc(" Create Mandate ",a+1," ")}}function Hn(t,e){if(1&t&&(l.Xb(0,"mat-option",26),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Yn(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Mode Of Operation is Required! "),l.Wb())}function Zn(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Amount From is Required! "),l.Wb())}function Qn(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Amount To is Required! "),l.Wb())}function to(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," No of Signatories is Required! "),l.Wb())}function eo(t,e){1&t&&(l.Xb(0,"small",27),l.Tc(1," No of Signatories can not be more than no of applicants! "),l.Wb())}function ao(t,e){if(1&t){var a=l.Yb();l.Xb(0,"button",28),l.fc("click",function(){l.Hc(a);var t=l.jc().index;return l.jc(2).removeMandate(t)}),l.Sb(1,"mat-icon"),l.Tc(2," REMOVE MANDATE "),l.Wb()}}function no(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"mat-accordion"),l.Xb(2,"mat-expansion-panel",9),l.fc("opened",function(){return l.Hc(a),l.jc(2).panelOpenState=!0})("closed",function(){return l.Hc(a),l.jc(2).panelOpenState=!1}),l.Xb(3,"mat-expansion-panel-header"),l.Xb(4,"mat-panel-title"),l.Rc(5,Kn,2,1,"ng-container",10),l.Rc(6,$n,1,1,"ng-template",null,11,l.Sc),l.Wb(),l.Wb(),l.Xb(8,"div",7),l.Xb(9,"div",12),l.Xb(10,"div",13),l.Xb(11,"div"),l.Xb(12,"mat-hint"),l.Tc(13," Mode Of Operation "),l.Wb(),l.Xb(14,"mat-card"),l.Xb(15,"mat-select",14),l.Rc(16,Hn,2,2,"mat-option",15),l.Wb(),l.Wb(),l.Rc(17,Yn,2,0,"mat-error",16),l.Wb(),l.Xb(18,"div",17),l.Xb(19,"div"),l.Xb(20,"mat-hint"),l.Tc(21,"Amount From*"),l.Wb(),l.Xb(22,"mat-card"),l.Xb(23,"input",18),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(24,Zn,2,0,"mat-error",16),l.Wb(),l.Xb(25,"div"),l.Xb(26,"mat-hint"),l.Tc(27,"Amount From*"),l.Wb(),l.Xb(28,"mat-card"),l.Xb(29,"input",19),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(30,Qn,2,0,"mat-error",16),l.Wb(),l.Wb(),l.Xb(31,"div"),l.Xb(32,"mat-hint"),l.Tc(33,"Required Signatories"),l.Wb(),l.Xb(34,"mat-card"),l.Xb(35,"input",20),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress2(t)}),l.Wb(),l.Wb(),l.Rc(36,to,2,0,"mat-error",16),l.Xb(37,"div"),l.Rc(38,eo,2,0,"small",21),l.Wb(),l.Wb(),l.Xb(39,"div"),l.Xb(40,"mat-hint"),l.Tc(41,"Remarks"),l.Wb(),l.Sb(42,"textarea",22),l.Wb(),l.Xb(43,"div",23),l.Xb(44,"button",24),l.fc("click",function(){return l.Hc(a),l.jc(2).addMandateToFormGroup()}),l.Xb(45,"mat-icon"),l.Tc(46,"add"),l.Wb(),l.Tc(47," ADD MANDATE "),l.Wb(),l.Rc(48,ao,3,0,"button",25),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.Dc(7),r=l.jc(2);l.Eb(5),l.rc("ngIf",r.showEditOption)("ngIfElse",i),l.Eb(3),l.rc("formGroup",n),l.Eb(8),l.rc("ngForOf",r.arrayModeOfOperation),l.Eb(1),l.rc("ngIf",n.get("modeOfOperation").touched&&n.get("modeOfOperation").hasError("required")),l.Eb(7),l.rc("ngIf",n.get("amountFrom").touched&&n.get("amountFrom").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("amountTo").touched&&n.get("amountTo").hasError("required")),l.Eb(6),l.rc("ngIf",n.get("totalSignaturesRequired").touched&&n.get("totalSignaturesRequired").hasError("required")),l.Eb(2),l.rc("ngIf",r.flag),l.Eb(6),l.rc("disabled",o<r.m.controls.length-1),l.Eb(4),l.rc("ngIf",null!=n.get("mandateId").value)}}function oo(t,e){if(1&t&&(l.Xb(0,"form",7),l.Rc(1,no,49,11,"div",8),l.Wb()),2&t){var a=l.jc();l.rc("formGroup",a.mandatesUpdateForm),l.Eb(1),l.rc("ngForOf",a.m.controls)}}var io,ro=((io=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.apiService=i,this.snack=r,this.ls=c,this.api=s,this.confirmService=l,this.tasksummaryService=b}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getModeOfOperation("opr_mode"),this.data?(this.showEditOption=!0,this.buildMandateForm(),this.addMandateToFormGroup(this.data)):(this.showEditOption=!1,this.buildMandateForm(),this.addMandateToFormGroup())}},{key:"buildMandateForm",value:function(){this.mandatesUpdateForm=this.formBuilder.group({mandates:this.formBuilder.array([])})}},{key:"addMandateToFormGroup",value:function(t){var e=t?t.length:1;console.log("numberOfItems",e);for(var a=0;a<e;a++)this.m.push(this.formBuilder.group({mandateId:[t?t.mandateId:""],productAccountId:[this.accountId],modeOfOperation:["",v.z.required],amountFrom:["",v.z.required],amountTo:["",v.z.required],totalSignaturesRequired:[""],remarks:[""]})),this.m.at(a).patchValue(t[a])}},{key:"removeMandate",value:function(t){var e=this,a=this.m.at(t).get("mandateId").value;this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(function(n){console.log("res:: removed ",n),n&&e.apiService.deleteMandateById(a,"ADMIN").subscribe(function(t){console.log("data",t)},function(a){e.mandatesUpdateForm.controls.mandates.removeAt(t),200===a.status&&e.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})})}},{key:"f",get:function(){return this.mandatesUpdateForm.controls}},{key:"m",get:function(){return this.f.mandates}},{key:"getModeOfOperation",value:function(t){var e=this;this.api.getDropDownValues(t).subscribe(function(t){e.arrayModeOfOperation=t})}},{key:"onSubmit",value:function(){var t=this;this.apiService.saveMandateDetails(this.mandatesUpdateForm.value).subscribe(function(e){console.log(e),200===e||null!==e?(t.snack.open(" Mandate Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"BACKLOG"})):500===e&&t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log(t)})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"_keyPress2",value:function(t){this.no_of_sig=t.key,isNaN(t.key)?console.log("input is invalid"):t.key>this.no_of_applicants?(console.log("no of signatories is more than no of applicants"),this.flag=!0):0==t.key?this.flag1=!0:(this.flag=!1,this.flag1=!1);var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||io)(l.Rb(p.a),l.Rb(p.g),l.Rb(v.f),l.Rb(f.a),l.Rb(W.a),l.Rb(m.a),l.Rb(b.b),l.Rb(J.a),l.Rb(g.a))},io.\u0275cmp=l.Lb({type:io,selectors:[["app-mandate-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[4,"ngFor","ngForOf"],["expanded","true",3,"opened","closed"],[4,"ngIf","ngIfElse"],["createMandate",""],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["formControlName","modeOfOperation","name","mod","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["matInput","","maxlength","10","name","a_from","formControlName","amountFrom","placeholder","Amount From",3,"keypress"],["matInput","","maxlength","10","name","a_to","formControlName","amountTo","placeholder","Amount To",3,"keypress"],["matInput","","name","a_sig","formControlName","totalSignaturesRequired","maxlength","1","placeholder","Required No of Signatories",3,"keypress"],["style","color: red",4,"ngIf"],["matInput","","name","remark","formControlName","remarks","placeholder","Leave a Remarks"],[1,"pb-1"],["mat-button","","color","primary",1,"place",3,"disabled","click"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[2,"color","red"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Mandate Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Rc(6,oo,2,2,"form",3),l.Wb(),l.Xb(7,"div",4),l.Xb(8,"button",5),l.fc("click",function(){return e.onSubmit()}),l.Tc(9,"Save"),l.Wb(),l.Tc(10," \xa0\xa0\xa0 "),l.Xb(11,"button",6),l.fc("click",function(){return e.close()}),l.Tc(12," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("ngIf",e.mandatesUpdateForm),l.Eb(2),l.rc("disabled",e.flag||!e.mandatesUpdateForm.valid||e.flag1))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,c.n,A.b,v.A,v.s,v.j,c.m,$.a,$.c,$.e,$.f,X.b,I.f,E.a,x.a,v.r,v.i,v.y,C.b,v.c,v.m,S.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),io),co=r("vSAV"),so=r("nZzT"),lo=r("cUpR"),bo=r("ura0"),uo=["chart"];function mo(t,e){1&t&&l.Sb(0,"mat-spinner")}function po(t,e){if(1&t&&(l.Xb(0,"span",56),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.Eb(1),l.Uc(a)}}function fo(t,e){if(1&t&&(l.Xb(0,"div",57),l.Xb(1,"h1",58),l.Tc(2),l.kc(3,"slice"),l.kc(4,"uppercase"),l.kc(5,"slice"),l.kc(6,"uppercase"),l.Wb(),l.Wb()),2&t){var a=l.jc();l.Oc("background",a.customerColorCode),l.Eb(2),l.Wc("",l.nc(3,4,l.lc(4,8,a.accInfo.firstName),0,1),"",l.nc(5,10,l.lc(6,14,a.accInfo.lastName),0,1),"")}}function ho(t,e){if(1&t&&l.Sb(0,"img",60),2&t){var a=l.jc(2);l.rc("src",a.imageUrl,l.Jc)}}function go(t,e){if(1&t&&(l.Xb(0,"div",57),l.Rc(1,ho,1,1,"img",59),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.rc("ngIf","not_available"!=a.imageUrl)}}function vo(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"mat-card-content"),l.Xb(2,"div",61),l.Xb(3,"div",62),l.Xb(4,"h2",63),l.Tc(5),l.kc(6,"slice"),l.kc(7,"uppercase"),l.kc(8,"slice"),l.kc(9,"uppercase"),l.Wb(),l.Wb(),l.Xb(10,"mat-card",64),l.Xb(11,"div",65),l.Xb(12,"div",66),l.Tc(13),l.Wb(),l.Xb(14,"div",67),l.Tc(15),l.Wb(),l.Xb(16,"div",68),l.Xb(17,"mat-icon",69),l.Tc(18," phone"),l.Wb(),l.Xb(19,"div",70),l.Tc(20),l.Wb(),l.Wb(),l.Xb(21,"div",71),l.Xb(22,"mat-icon",69),l.Tc(23," email"),l.Wb(),l.Xb(24,"div",70),l.Tc(25),l.Wb(),l.Wb(),l.Xb(26,"div",72),l.Xb(27,"mat-icon",69),l.Tc(28," location_on"),l.Wb(),l.Xb(29,"div",70),l.Tc(30),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(31,"mat-card",64),l.Xb(32,"div",73),l.Xb(33,"div",74),l.Xb(34,"h3"),l.Tc(35,"Other Details"),l.Wb(),l.Wb(),l.Xb(36,"div",75),l.Xb(37,"div"),l.Xb(38,"div",37),l.Tc(39,"Date Of Birth"),l.Wb(),l.Xb(40,"div",38),l.Tc(41),l.Wb(),l.Wb(),l.Xb(42,"div"),l.Xb(43,"div",37),l.Tc(44,"Citizenship By"),l.Wb(),l.Xb(45,"div",38),l.Tc(46),l.Wb(),l.Wb(),l.Xb(47,"div"),l.Xb(48,"div",37),l.Tc(49,"Id Type"),l.Wb(),l.Xb(50,"div",38),l.Tc(51),l.Wb(),l.Wb(),l.Wb(),l.Sb(52,"br"),l.Xb(53,"div",76),l.Xb(54,"div"),l.Xb(55,"div",37),l.Tc(56,"Residence Status"),l.Wb(),l.Xb(57,"div",38),l.Tc(58),l.Wb(),l.Wb(),l.Xb(59,"div"),l.Xb(60,"div",37),l.Tc(61,"Occupation Type"),l.Wb(),l.Xb(62,"div",38),l.Tc(63),l.Wb(),l.Wb(),l.Xb(64,"div"),l.Xb(65,"div",37),l.Tc(66,"Unique Id Number"),l.Wb(),l.Xb(67,"div",38),l.Tc(68),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(5),l.Wc("",l.nc(6,14,l.lc(7,18,a.firstName),0,1),"",l.nc(8,20,l.lc(9,24,a.lastName),0,1),""),l.Eb(8),l.Uc(a.prefix+" "+a.firstName+" "+a.lastName),l.Eb(2),l.Vc("CIF ",null!=a.cifNumber?"#"+a.cifNumber:"- n/a",""),l.Eb(5),l.Uc(a.phoneNumber),l.Eb(5),l.Uc(a.primaryEmailAdress),l.Eb(5),l.Wc(" ",a.userAddress[0].address1," ",a.userAddress[0].address," "),l.Eb(11),l.Uc(a.dateOfBirth),l.Eb(5),l.Uc(a.countryOfResidence),l.Eb(5),l.Uc(a.custIdProofs[0].idType),l.Eb(7),l.Uc(a.residenceStatus),l.Eb(5),l.Uc(a.occupationType),l.Eb(5),l.Uc(a.custIdProofs[0].idNumber)}}function yo(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",30),l.Xb(2,"fieldset"),l.Xb(3,"legend",31),l.Tc(4,"Customer Information Details"),l.Wb(),l.Wb(),l.Xb(5,"span"),l.Xb(6,"mat-icon",32),l.fc("click",function(){return l.Hc(a),l.jc().editCustomerInfo()}),l.Tc(7,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card",33),l.Xb(9,"mat-card-content"),l.Xb(10,"div",39),l.Sb(11,"div",35),l.Xb(12,"div",36),l.Xb(13,"div",37),l.Tc(14,"Ownership"),l.Wb(),l.Xb(15,"div",38),l.Tc(16),l.Wb(),l.Wb(),l.Xb(17,"div",36),l.Xb(18,"div",37),l.Tc(19,"Number of Applicant"),l.Wb(),l.Xb(20,"div",38),l.Tc(21),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Rc(22,vo,69,26,"mat-card",41),l.Wb()}if(2&t){var n=l.jc();l.Eb(6),l.rc("hidden",n.editScreen),l.Eb(10),l.Uc(n.customerInformation.data[0].ownership),l.Eb(5),l.Uc(n.customerInformation.data[0].numOfApplicants),l.Eb(1),l.rc("ngForOf",n.customerInformation.data)}}function Wo(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"h2",77),l.Xb(2,"span",78),l.Xb(3,"mat-icon",79),l.Tc(4,"done"),l.Wb(),l.Wb(),l.Tc(5),l.Wb(),l.Xb(6,"div",61),l.Sb(7,"div",80),l.Xb(8,"div",81),l.Xb(9,"div",37),l.Tc(10,"Mode Of Operation"),l.Wb(),l.Xb(11,"div",38),l.Tc(12),l.Wb(),l.Wb(),l.Xb(13,"div",81),l.Xb(14,"div",37),l.Tc(15,"Amount From"),l.Wb(),l.Xb(16,"div",38),l.Tc(17),l.Wb(),l.Wb(),l.Xb(18,"div",81),l.Xb(19,"div",37),l.Tc(20,"Amount To"),l.Wb(),l.Xb(21,"div",38),l.Tc(22),l.Wb(),l.Wb(),l.Xb(23,"div",81),l.Xb(24,"div",37),l.Tc(25,"Required No. of Signatures"),l.Wb(),l.Xb(26,"div",38),l.Tc(27),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=e.index;l.Eb(5),l.Vc("Mandate ",n+1,""),l.Eb(7),l.Uc(a.modeOfOperation),l.Eb(5),l.Uc(a.amountFrom),l.Eb(5),l.Uc(a.amountTo),l.Eb(5),l.Uc(a.totalSignaturesRequired)}}function Xo(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",30),l.Xb(2,"fieldset"),l.Xb(3,"legend",31),l.Tc(4,"Mandate Details"),l.Wb(),l.Wb(),l.Xb(5,"span"),l.Xb(6,"mat-icon",32),l.fc("click",function(){return l.Hc(a),l.jc().editMandateDetails()}),l.Tc(7,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Rc(8,Wo,28,5,"mat-card",41),l.Wb()}if(2&t){var n=l.jc();l.Eb(6),l.rc("hidden",n.editScreen),l.Eb(2),l.rc("ngForOf",n.mandate)}}function To(t,e){if(1&t&&(l.Xb(0,"span"),l.Tc(1),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.Vc(" ",a.name," ")}}function Io(t,e){if(1&t&&(l.Xb(0,"div",38),l.Rc(1,To,2,1,"span",5),l.Wb()),2&t){var a=e.$implicit;l.Eb(1),l.rc("ngIf",a.checked)}}function Eo(t,e){if(1&t&&(l.Xb(0,"span"),l.Tc(1),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.Vc(" ",a.name," ")}}function Co(t,e){if(1&t&&(l.Xb(0,"div",38),l.Rc(1,Eo,2,1,"span",5),l.Wb()),2&t){var a=e.$implicit;l.Eb(1),l.rc("ngIf",a.checked)}}function xo(t,e){if(1&t&&(l.Xb(0,"span"),l.Tc(1),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.Vc(" ",a.name," ")}}function Oo(t,e){if(1&t&&(l.Xb(0,"div",38),l.Rc(1,xo,2,1,"span",5),l.Wb()),2&t){var a=e.$implicit;l.Eb(1),l.rc("ngIf",a.checked)}}function Do(t,e){if(1&t&&(l.Xb(0,"div",81),l.Xb(1,"div",37),l.Tc(2,"Debit Card Type"),l.Wb(),l.Xb(3,"div",38),l.Xb(4,"span"),l.Tc(5),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Eb(5),l.Vc(" ",null==a.debitCardDataValue?null:a.debitCardDataValue.cardType," ")}}function Ao(t,e){if(1&t&&(l.Xb(0,"div",34),l.Xb(1,"table",86),l.Xb(2,"thead",87),l.Xb(3,"tr"),l.Xb(4,"th"),l.Tc(5,"Daily Limit"),l.Wb(),l.Xb(6,"th"),l.Tc(7,"Domestic Limit"),l.Wb(),l.Xb(8,"th"),l.Tc(9,"International Limit"),l.Wb(),l.Xb(10,"th"),l.Tc(11,"ATM Limit"),l.Wb(),l.Xb(12,"th"),l.Tc(13,"POS Limit "),l.Wb(),l.Xb(14,"th"),l.Tc(15,"Internet Limit "),l.Wb(),l.Wb(),l.Wb(),l.Xb(16,"tbody"),l.Xb(17,"tr"),l.Xb(18,"td"),l.Tc(19),l.Wb(),l.Xb(20,"td"),l.Tc(21),l.Wb(),l.Xb(22,"td"),l.Tc(23),l.Wb(),l.Xb(24,"td"),l.Tc(25),l.Wb(),l.Xb(26,"td"),l.Tc(27),l.Wb(),l.Xb(28,"td"),l.Tc(29),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Eb(19),l.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.dailyLimit),l.Eb(2),l.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.domesticLimit),l.Eb(2),l.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.internationalLimit),l.Eb(2),l.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.atmLimit),l.Eb(2),l.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.posLimit),l.Eb(2),l.Uc(null==a.debitCardDataValue?null:a.debitCardDataValue.internetLimit)}}function Ro(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",30),l.Xb(2,"fieldset"),l.Xb(3,"legend",31),l.Tc(4,"Account Service Details"),l.Wb(),l.Wb(),l.Xb(5,"span"),l.Xb(6,"mat-icon",32),l.fc("click",function(){return l.Hc(a),l.jc().editServiceDetails()}),l.Tc(7,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card",33),l.Xb(9,"mat-card-content"),l.Xb(10,"div",34),l.Sb(11,"div",35),l.Xb(12,"div",81),l.Xb(13,"div",37),l.Tc(14,"Account Statement Frequency"),l.Wb(),l.Xb(15,"div",38),l.Tc(16),l.Wb(),l.Wb(),l.Xb(17,"div",81),l.Xb(18,"div",37),l.Tc(19,"Account Statement Preferences"),l.Wb(),l.Rc(20,Io,2,1,"div",82),l.Wb(),l.Xb(21,"div",81),l.Xb(22,"div",37),l.Tc(23,"Cheque Book"),l.Wb(),l.Xb(24,"div",38),l.Sb(25,"mat-slide-toggle",83),l.Wb(),l.Wb(),l.Xb(26,"div",81),l.Xb(27,"div",37),l.Tc(28,"Debit Card"),l.Wb(),l.Xb(29,"div",38),l.Sb(30,"mat-slide-toggle",83),l.Wb(),l.Wb(),l.Wb(),l.Xb(31,"div",34),l.Sb(32,"div",35),l.Xb(33,"div",81),l.Xb(34,"div",37),l.Tc(35,"Banking Channel Preferences"),l.Wb(),l.Rc(36,Co,2,1,"div",82),l.Wb(),l.Xb(37,"div",81),l.Xb(38,"div",37),l.Tc(39,"Communication Channel Preferences"),l.Wb(),l.Rc(40,Oo,2,1,"div",82),l.Wb(),l.Xb(41,"div",81),l.Xb(42,"div",37),l.Tc(43,"Pass Book"),l.Wb(),l.Xb(44,"div",38),l.Sb(45,"mat-slide-toggle",83),l.Wb(),l.Wb(),l.Rc(46,Do,6,1,"div",84),l.Wb(),l.Rc(47,Ao,30,6,"div",85),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(6),l.rc("hidden",n.editScreen),l.Eb(10),l.Uc(n.accountServiceDetails.statementFrequency),l.Eb(4),l.rc("ngForOf",n.accountServiceDetails.statementPref),l.Eb(5),l.rc("checked",null==n.accountServiceDetails?null:n.accountServiceDetails.chequebookNeeded),l.Eb(5),l.rc("checked",null==n.accountServiceDetails?null:n.accountServiceDetails.debitCardRequired),l.Eb(6),l.rc("ngForOf",n.accountServiceDetails.bankChannelPref),l.Eb(4),l.rc("ngForOf",n.accountServiceDetails.commChannelPref),l.Eb(5),l.rc("checked",null==n.accountServiceDetails?null:n.accountServiceDetails.passbookNeeded),l.Eb(1),l.rc("ngIf",n.cardType),l.Eb(1),l.rc("ngIf",n.cardType)}}function So(t,e){if(1&t&&(l.Xb(0,"mat-card",64),l.Xb(1,"div",92),l.Sb(2,"div",74),l.Xb(3,"div",90),l.Xb(4,"h4"),l.Tc(5,"Guardian Details"),l.Wb(),l.Xb(6,"div"),l.Xb(7,"div",66),l.Tc(8),l.Wb(),l.Wb(),l.Xb(9,"div"),l.Xb(10,"div",37),l.Tc(11,"Relationship Type"),l.Wb(),l.Xb(12,"div",38),l.Tc(13),l.Wb(),l.Wb(),l.Xb(14,"div"),l.Xb(15,"div",37),l.Tc(16,"Date Of Birth"),l.Wb(),l.Xb(17,"div",38),l.Tc(18),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(8),l.Uc(a.prefix+" "+a.firstName+" "+a.lastName),l.Eb(5),l.Uc(a.relationshipType),l.Eb(5),l.Uc(a.dateOfBirth)}}function ko(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"h2",77),l.Xb(2,"span",78),l.Xb(3,"mat-icon",79),l.Tc(4,"done"),l.Wb(),l.Wb(),l.Tc(5),l.Wb(),l.Xb(6,"div"),l.Xb(7,"div",61),l.Xb(8,"mat-card",64),l.Xb(9,"div",88),l.Xb(10,"div",66),l.Tc(11),l.Wb(),l.Xb(12,"div",68),l.Xb(13,"mat-icon",69),l.Tc(14," phone"),l.Wb(),l.Xb(15,"div",70),l.Tc(16),l.Wb(),l.Wb(),l.Xb(17,"div",71),l.Xb(18,"mat-icon",69),l.Tc(19," email"),l.Wb(),l.Xb(20,"div",70),l.Tc(21),l.Wb(),l.Wb(),l.Xb(22,"div",72),l.Xb(23,"mat-icon",69),l.Tc(24," location_on"),l.Wb(),l.Xb(25,"div",70),l.Tc(26),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(27,"mat-card",64),l.Xb(28,"div",89),l.Sb(29,"div",74),l.Xb(30,"div",90),l.Xb(31,"div"),l.Xb(32,"div",37),l.Tc(33,"Date Of Birth"),l.Wb(),l.Xb(34,"div",38),l.Tc(35),l.Wb(),l.Wb(),l.Xb(36,"div"),l.Xb(37,"div",37),l.Tc(38,"Relationship Type"),l.Wb(),l.Xb(39,"div",38),l.Tc(40),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Rc(41,So,19,3,"mat-card",91),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=e.index;l.Eb(5),l.Vc("Nominee ",n+1,""),l.Eb(6),l.Uc(a.prefix+" "+a.firstName+" "+a.lastName),l.Eb(5),l.Vc(" ",a.phoneNumber,""),l.Eb(5),l.Uc(a.email),l.Eb(5),l.Zc(" ",a.building," ",a.street," ",a.locality," ",a.city," ",a.state," ",a.country," ",a.zipCode," "),l.Eb(9),l.Uc(a.dateOfBirth),l.Eb(5),l.Uc(a.relationshipType),l.Eb(1),l.rc("ngForOf",a.guardianDetails)}}function No(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",30),l.Xb(2,"fieldset"),l.Xb(3,"legend",31),l.Tc(4,"Nominee Details"),l.Wb(),l.Wb(),l.Xb(5,"span"),l.Xb(6,"mat-icon",32),l.fc("click",function(){return l.Hc(a),l.jc().editNomineeDetails()}),l.Tc(7,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Rc(8,ko,42,14,"mat-card",41),l.Wb()}if(2&t){var n=l.jc();l.Eb(6),l.rc("hidden",n.editScreen),l.Eb(2),l.rc("ngForOf",n.nomineeDetails)}}function Po(t,e){1&t&&(l.Xb(0,"legend",31),l.Tc(1,"Secured Overdraft Details"),l.Wb())}function Fo(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"div"),l.Xb(2,"div",37),l.Tc(3),l.Wb(),l.Wb(),l.Sb(4,"br"),l.Xb(5,"div",94),l.Xb(6,"div",74),l.Xb(7,"mat-icon",69),l.Tc(8," home"),l.Wb(),l.Tc(9),l.Wb(),l.Xb(10,"div",95),l.Xb(11,"div"),l.Xb(12,"button",96),l.Tc(13),l.Wb(),l.Wb(),l.Xb(14,"div"),l.Xb(15,"button",97),l.Tc(16),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(17,"br"),l.Xb(18,"div"),l.Xb(19,"div",98),l.Xb(20,"div"),l.Xb(21,"div",37),l.Tc(22,"Collateral Value"),l.Wb(),l.Xb(23,"div",38),l.Tc(24),l.Wb(),l.Wb(),l.Xb(25,"div"),l.Xb(26,"div",37),l.Tc(27,"Available Linkage Amount"),l.Wb(),l.Xb(28,"div",38),l.Tc(29),l.Wb(),l.Wb(),l.Xb(30,"div"),l.Xb(31,"div",37),l.Tc(32,"Overdraft Limit Amount"),l.Wb(),l.Xb(33,"div",38),l.Tc(34),l.Wb(),l.Wb(),l.Xb(35,"div"),l.Xb(36,"div",37),l.Tc(37,"Final Rate"),l.Wb(),l.Xb(38,"div",38),l.Tc(39),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(3),l.Vc("Collateral/Reference Number: ",a.securityReferenceNumber,""),l.Eb(6),l.Vc(" ",a.collateralType," "),l.Eb(4),l.Uc(a.dimensions),l.Eb(3),l.Uc(a.attributes),l.Eb(8),l.Uc(a.collateralValue),l.Eb(5),l.Uc(a.availableLinkageAccount),l.Eb(5),l.Uc(a.overdraftLimitAmount),l.Eb(5),l.Uc(a.finalAmount)}}function Lo(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",30),l.Xb(2,"fieldset"),l.Rc(3,Po,2,0,"legend",93),l.Wb(),l.Xb(4,"span"),l.Xb(5,"mat-icon",32),l.fc("click",function(){return l.Hc(a),l.jc().editSecuredOverdraftDetails()}),l.Tc(6,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Rc(7,Fo,40,8,"mat-card",5),l.Wb()}if(2&t){var n=e.$implicit,o=l.jc();l.Eb(3),l.rc("ngIf",null!=n.collateralType&&null!=n.securityReferenceNumber),l.Eb(2),l.rc("hidden",o.editScreen),l.Eb(2),l.rc("ngIf",null!=n.collateralType&&null!=n.securityReferenceNumber)}}function _o(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div",37),l.Tc(2,"Renew Period"),l.Wb(),l.Xb(3,"div",38),l.Tc(4),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Eb(4),l.Uc(a.unsecuredOverdraftDetails.renewPeriod)}}function wo(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div",37),l.Tc(2,"Renewal Amount"),l.Wb(),l.Xb(3,"div",38),l.Tc(4),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Eb(4),l.Uc(a.unsecuredOverdraftDetails.renewalAmount)}}function Uo(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",30),l.Xb(2,"fieldset"),l.Xb(3,"legend",31),l.Tc(4,"Unsecured Overdraft Details"),l.Wb(),l.Wb(),l.Xb(5,"span"),l.Xb(6,"mat-icon",32),l.fc("click",function(){return l.Hc(a),l.jc().editUnsecuredOverdraftDetails()}),l.Tc(7,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card"),l.Xb(9,"div"),l.Xb(10,"div",99),l.Xb(11,"div"),l.Xb(12,"div",37),l.Tc(13,"Limit Id"),l.Wb(),l.Xb(14,"div",38),l.Tc(15),l.Wb(),l.Wb(),l.Xb(16,"div"),l.Xb(17,"div",37),l.Tc(18,"Overdraft Limit Amount"),l.Wb(),l.Xb(19,"div",38),l.Tc(20),l.Wb(),l.Wb(),l.Rc(21,_o,5,1,"div",5),l.Rc(22,wo,5,1,"div",5),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(6),l.rc("hidden",n.editScreen),l.Eb(4),l.rc("hidden",null==n.unsecuredOverdraftDetails.renewPeriod&&n.unsecuredOverdraftDetails.renewalAmount),l.Eb(5),l.Uc(n.unsecuredOverdraftDetails.limitId),l.Eb(5),l.Uc(n.unsecuredOverdraftDetails.overdraftLimitAmount),l.Eb(1),l.rc("ngIf",null!=n.unsecuredOverdraftDetails.renewPeriod),l.Eb(1),l.rc("ngIf",null!=n.unsecuredOverdraftDetails.renewalAmount)}}function Mo(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",30),l.Xb(2,"fieldset"),l.Xb(3,"legend",31),l.Tc(4,"Financial Details"),l.Wb(),l.Wb(),l.Xb(5,"span"),l.Xb(6,"mat-icon",32),l.fc("click",function(){return l.Hc(a),l.jc().editFinancialDetails()}),l.Tc(7,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"div",94),l.Xb(9,"mat-card",100),l.Xb(10,"h4"),l.Tc(11,"Assets and Liabilities"),l.Wb(),l.Sb(12,"apx-chart",101),l.Wb(),l.Xb(13,"mat-card",102),l.Xb(14,"h4"),l.Tc(15,"Income and Expenses"),l.Wb(),l.Sb(16,"apx-chart",103),l.Wb(),l.Wb(),l.Xb(17,"mat-card"),l.Xb(18,"mat-card-header",104),l.Xb(19,"div",105),l.Xb(20,"div",62),l.Xb(21,"div",63),l.Xb(22,"mat-icon"),l.Tc(23,"perm_identity"),l.Wb(),l.Wb(),l.Wb(),l.Xb(24,"div"),l.Xb(25,"mat-card-title",106),l.Tc(26),l.Wb(),l.Xb(27,"mat-card-subtitle",107),l.Tc(28),l.Wb(),l.Wb(),l.Wb(),l.Xb(29,"div",108),l.Xb(30,"div"),l.Xb(31,"div",37),l.Tc(32,"Employment Type"),l.Wb(),l.Xb(33,"div",38),l.Tc(34),l.Wb(),l.Wb(),l.Xb(35,"div"),l.Xb(36,"div",37),l.Tc(37,"Employment Category"),l.Wb(),l.Xb(38,"div",38),l.Tc(39),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(40,"br"),l.Wb()}if(2&t){var n=l.jc();l.Eb(6),l.rc("hidden",n.editScreen),l.Eb(6),l.rc("series",n.chartOptions.series)("chart",n.chartOptions.chart)("plotOptions",n.chartOptions.plotOptions)("labels",n.chartOptions.labels),l.Eb(4),l.rc("series",n.chartOptions1.series1)("chart",n.chartOptions1.chart1)("yaxis",n.chartOptions1.yaxis1)("xaxis",n.chartOptions1.xaxis1)("labels",n.chartOptions1.labels1)("stroke",n.chartOptions1.stroke1)("markers",n.chartOptions1.markers1)("fill",n.chartOptions1.fill1)("tooltip",n.chartOptions1.tooltip1),l.Eb(10),l.Uc(n.financialDetails.designation),l.Eb(2),l.Wc("",n.financialDetails.employeeNumber,",",n.financialDetails.officeName," "),l.Eb(6),l.Uc(n.financialDetails.employmentType),l.Eb(5),l.Uc(n.financialDetails.employmentCategory)}}function Go(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"div"),l.Xb(2,"h4"),l.Tc(3,"Fixed Interest"),l.Wb(),l.Wb(),l.Xb(4,"div",109),l.Xb(5,"div"),l.Xb(6,"mat-card",110),l.Xb(7,"div"),l.Xb(8,"div",37),l.Tc(9,"Interest Type"),l.Wb(),l.Xb(10,"div",38),l.Tc(11),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"div"),l.Xb(13,"mat-card",111),l.Xb(14,"div"),l.Xb(15,"div",37),l.Tc(16,"Applicable Interest Rate"),l.Wb(),l.Xb(17,"div",38),l.Tc(18),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"div"),l.Xb(20,"mat-card",112),l.Xb(21,"div"),l.Xb(22,"div",37),l.Tc(23,"Effective Rate %"),l.Wb(),l.Xb(24,"div",38),l.Tc(25),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(26,"div"),l.Xb(27,"mat-card",113),l.Xb(28,"div"),l.Xb(29,"div",37),l.Tc(30,"Margin In %"),l.Wb(),l.Xb(31,"div",38),l.Tc(32),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(11),l.Uc(a.intrestType),l.Eb(7),l.Uc(a.intrestType),l.Eb(7),l.Uc(a.effectiveRate),l.Eb(7),l.Uc(a.marginIn)}}function Vo(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Rc(1,Go,33,4,"mat-card",41),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.rc("ngForOf",a.intrestDetails)}}function jo(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"div"),l.Xb(2,"h4",114),l.Tc(3),l.Wb(),l.Wb(),l.Xb(4,"div"),l.Xb(5,"div"),l.Xb(6,"mat-card",115),l.Xb(7,"div"),l.Xb(8,"div",37),l.Tc(9,"Amount"),l.Wb(),l.Xb(10,"div",38),l.Tc(11),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(3),l.Uc(a.intrestType),l.Eb(8),l.Uc(a.amount)}}function Bo(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Rc(1,jo,12,2,"mat-card",41),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.rc("ngForOf",a.chargeDetails)}}function zo(t,e){if(1&t&&(l.Xb(0,"div",117),l.Xb(1,"div",37),l.Tc(2),l.Wb(),l.Xb(3,"div",38),l.Tc(4),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=e.index;l.Eb(2),l.Wc("",n+1,".",a.scorecardQuestion,""),l.Eb(2),l.Uc(a.scorecardAnswer)}}function qo(t,e){if(1&t&&(l.Xb(0,"div"),l.Rc(1,zo,5,3,"div",116),l.Wb()),2&t){var a=e.index,n=l.jc();l.Eb(1),l.rc("ngForOf",null==n.qualitativeScorecard?null:n.qualitativeScorecard.scoreCardMapping[a].scoreCardDetails)}}function Jo(t,e){if(1&t&&(l.Xb(0,"mat-card",33),l.Xb(1,"fieldset"),l.Xb(2,"legend",31),l.Tc(3,"Assessment Report"),l.Wb(),l.Wb(),l.Xb(4,"mat-card-content"),l.Xb(5,"div",34),l.Sb(6,"div",35),l.Xb(7,"div",36),l.Xb(8,"div",37),l.Tc(9,"Limit Id"),l.Wb(),l.Xb(10,"div",38),l.Tc(11),l.Wb(),l.Wb(),l.Xb(12,"div",36),l.Xb(13,"div",37),l.Tc(14,"Overdraft Limit Amount"),l.Wb(),l.Xb(15,"div",38),l.Tc(16),l.Wb(),l.Wb(),l.Xb(17,"div",36),l.Xb(18,"div",37),l.Tc(19,"Recommended Overdraft Limit"),l.Wb(),l.Xb(20,"div",38),l.Tc(21),l.Wb(),l.Wb(),l.Wb(),l.Xb(22,"div",34),l.Sb(23,"div",35),l.Xb(24,"div",36),l.Xb(25,"div",37),l.Tc(26,"Limit Start Date"),l.Wb(),l.Xb(27,"div",38),l.Tc(28),l.Wb(),l.Wb(),l.Xb(29,"div",36),l.Xb(30,"div",37),l.Tc(31,"Limit End Date"),l.Wb(),l.Xb(32,"div",38),l.Tc(33),l.Wb(),l.Wb(),l.Sb(34,"br"),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc();l.Eb(11),l.Uc(null==a.assessmentReport?null:a.assessmentReport.limitId),l.Eb(5),l.Uc(null==a.assessmentReport?null:a.assessmentReport.overdraftLimitAmount),l.Eb(5),l.Uc(null==a.assessmentReport?null:a.assessmentReport.recommendedOverdraftLimit),l.Eb(7),l.Uc(null==a.assessmentReport?null:a.assessmentReport.limitStartDate),l.Eb(5),l.Uc(null==a.assessmentReport?null:a.assessmentReport.limitEndDate)}}function Ko(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"div",120),l.Xb(2,"div",121),l.Xb(3,"div",122),l.Tc(4,"Branch Code : "),l.Xb(5,"span",123),l.Tc(6),l.Wb(),l.Wb(),l.Wb(),l.Xb(7,"div",121),l.Xb(8,"div",124),l.Tc(9,"Fund By Account: "),l.Xb(10,"span",123),l.Tc(11),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"div",120),l.Xb(13,"div",121),l.Xb(14,"div",122),l.Tc(15,"Amount"),l.Xb(16,"span",123),l.Tc(17),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"div",121),l.Xb(19,"div",124),l.Tc(20,"Fund By"),l.Xb(21,"span",123),l.Tc(22),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Eb(6),l.Uc(a.createAccFundingStage.branchCode),l.Eb(5),l.Uc(a.createAccFundingStage.fundByAccount),l.Eb(6),l.Uc(a.createAccFundingStage.amount),l.Eb(5),l.Uc(a.createAccFundingStage.fundBy)}}function $o(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"div",120),l.Xb(2,"div",121),l.Xb(3,"button",125),l.Tc(4),l.Wb(),l.Wb(),l.Xb(5,"div",121),l.Xb(6,"button",126),l.Tc(7),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"div",120),l.Xb(9,"div",121),l.Xb(10,"div",127),l.Tc(11,"Amount"),l.Xb(12,"div",128),l.Xb(13,"b"),l.Tc(14),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(15,"div",121),l.Xb(16,"div",129),l.Tc(17,"Fund By"),l.Xb(18,"div",123),l.Xb(19,"b"),l.Tc(20),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Eb(4),l.Vc("Reference Number ",a.createAccFundingStage.tellerTrxnRefNo," "),l.Eb(3),l.Vc("",a.createAccFundingStage.tellerTrxnStatus," "),l.Eb(7),l.Uc(a.createAccFundingStage.amount),l.Eb(6),l.Uc(a.createAccFundingStage.fundBy)}}function Ho(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",42),l.Xb(1,"div",43),l.Xb(2,"div",27),l.Tc(3,"5"),l.Wb(),l.Xb(4,"div",28),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"div",118),l.Xb(7,"h2",119),l.Tc(8,"Funding Stage"),l.Wb(),l.Xb(9,"div",30),l.Xb(10,"fieldset"),l.Xb(11,"legend",31),l.Tc(12,"Initial Funding Details"),l.Wb(),l.Wb(),l.Xb(13,"span"),l.Xb(14,"mat-icon",32),l.fc("click",function(){return l.Hc(a),l.jc().editFundingStage()}),l.Tc(15,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Rc(16,Ko,23,4,"mat-card",5),l.Rc(17,$o,21,4,"mat-card",5),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(14),l.rc("hidden",n.editScreen),l.Eb(2),l.rc("ngIf","Fund Transfer"==n.createAccFundingStage.fundBy),l.Eb(1),l.rc("ngIf","Cash"==n.createAccFundingStage.fundBy)}}function Yo(t,e){if(1&t&&(l.Xb(0,"div",38),l.Xb(1,"a",130),l.Tc(2,"link"),l.Wb(),l.Sb(3,"link"),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.sc("href",a.signatureData.fileUrl,l.Jc)}}var Zo=function(t,e){return{disabledbtn:t,continueBtn:e}},Qo=function(t,e){return{disabledbtn:t,rejectButton:e}},ti=function(t,e){return{disabledbtn:t,approveButton:e}};function ei(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",131),l.Xb(1,"div",132),l.fc("click",function(){return l.Hc(a),l.jc().continue()}),l.Xb(2,"label",133),l.Tc(3,"Cotinue"),l.Wb(),l.Wb(),l.Tc(4," \xa0\xa0 "),l.Xb(5,"div",134),l.fc("click",function(){l.Hc(a);var t=l.jc();return t.updateApplicationStatus(t.accountInfo,"REJECTED")}),l.Xb(6,"mat-icon",135),l.Tc(7," highlight_off "),l.Wb(),l.Tc(8,"\xa0\xa0\xa0 "),l.Xb(9,"label",136),l.Tc(10,"Reject"),l.Wb(),l.Wb(),l.Tc(11," \xa0\xa0 "),l.Xb(12,"div",137),l.fc("click",function(){l.Hc(a);var t=l.jc();return t.updateApplicationStatus(t.accountInfo,"APPROVED")}),l.Xb(13,"mat-icon",138),l.Tc(14,"check_circle"),l.Wb(),l.Tc(15,"\xa0\xa0\xa0 "),l.Xb(16,"label",139),l.Tc(17,"Approve"),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(1),l.rc("hidden",n.continueStatus)("ngClass",l.yc(6,Zo,n.continueStatus,!n.continueStatus)),l.Eb(4),l.rc("hidden",n.rejectedStatus)("ngClass",l.yc(9,Qo,n.rejectedStatus,!n.rejectedStatus)),l.Eb(7),l.rc("hidden",n.approvedStatus)("ngClass",l.yc(12,ti,n.approvedStatus,!n.approvedStatus))}}var ai,ni=((ai=function(){function t(e,a,o,i,r,c,s,b,u,d,m,p){n(this,t),this.dialogRef=e,this.data=a,this.apiService=o,this.api=i,this.ls=r,this.router=c,this.tasksummaryService=s,this.cdr=b,this.snack=u,this.sanitizer=d,this.dialog=m,this.jwtService=p,this.chart=new h.a,this.submitClicked=new l.o,this.accountInfo=[],this.chargeDetails=[],this.isOnGoing="",this.variable=!0,this.loading=!0,this.loadingApplEnrich=!1,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this.loadingApplEnrich=!1,this.customerColorCode=localStorage.getItem("CustomerColorCode"),this.accInfo=this.data,console.log("acc data :: ",this.accInfo),this.cardType=this.ls.getItem("cardInfo"),this.accountId=this.accInfo.accountId,this.ls.setItem("accountId",this.accountId),this.ls.setItem("customerId",this.accInfo.customerId),this.ls.setItem("accountType",this.accInfo.accountType),console.log("accountId :: ",this.accInfo.accountId),this.ls.setItem("CIF_NUM_PRIMARY",this.accInfo.customerId),this.ls.setItem("NAME",this.accInfo.firstName+" "+this.accInfo.lastName),this.tasksummaryService.accountStatus.subscribe(function(e){t.loading=!1,"REJECTED"===e?(t.approvedStatus=!0,t.rejectedStatus=!0,t.editScreen=!1,t.continueStatus=!0):"APPROVED"===e?(t.approvedStatus=!0,t.rejectedStatus=!0,t.editScreen=!0,t.continueStatus=!0):"ONGOING"===e?(t.approvedStatus=!0,t.rejectedStatus=!1,t.isOnGoing=e,t.editScreen=!1,t.continueStatus=!1):"BACKLOG"===e&&(t.approvedStatus=!1,t.rejectedStatus=!1,t.editScreen=!1,t.continueStatus=!0)}),this.getAccountInfoByAccountId(this.accInfo.accountId),this.getProfileImage(this.accInfo.customerId),this.cardType&&this.debitCardData(this.cardType)}},{key:"getAccountInfoByAccountId",value:function(t){var e=this;this.tasksummaryService.getAccountInfoByAccId(t).subscribe(function(t){for(var a in e.accountInfo=t,console.log(e.accountInfo),e.intrestDetails=e.accountInfo.intrestDetails,e.chargeDetails=e.accountInfo.chargeDetails,e.loadingApplEnrich=!0,e.assignValues(e.accountInfo.businessProductAccServices,e.accountInfo.businessProductNominee,e.accountInfo.securedOverdraft,e.accountInfo.unsecuredOverdraft,e.accountInfo.financialDetails,e.accountInfo.intrestDetails,e.accountInfo.chargeDetails,e.accountInfo.qualitativeScorecard,e.accountInfo.assessmentReport,e.accountInfo.createAccFundingStage),e.accountInfo)if(Object.prototype.hasOwnProperty.call(e.accountInfo,a)){var n=e.accountInfo[a];if("chargeDetails"===a&&(e.chargeDetails=n,e.accountDetails.applicationDate&&(e.accountDetails.applicationDate=y(e.accountDetails.applicationDate).format("YYYY-MM-DD"))),"businessProductAccount"===a&&(console.log(e.accountDetails),e.accountDetails=n,e.accountDetails.applicationDate&&(e.accountDetails.applicationDate=y(e.accountDetails.applicationDate).format("YYYY-MM-DD"))),"businessProductCustomer"===a)for(var o in e.customerInformation=n,e.customerInformation)if(Object.prototype.hasOwnProperty.call(e.customerInformation,o)){var i=e.customerInformation[o];if("data"===o)for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var c=i[r];i.length>1?c.primaryCustomer&&(e.approverName=c.firstName):e.approverName=c.firstName}}"businessProductMandate"===a&&(e.mandate=n)}})}},{key:"goToCreateAccount",value:function(t,e){var a=this;console.log("Navigating to edit screen::",t),this.ls.setItem("EDIT-CREATEACCCIF",this.accountInfo),this.ls.setItem("accountId",t),console.log("acc data :: ",this.accountInfo),this.tasksummaryService.updateCreateAccStatus({accountId:t,status:"ONGOING"}).subscribe(function(t){}),setTimeout(function(){a.router.navigateByUrl("/home/application/list")},1e3),console.log(this.ls.getItem("EDIT-CREATEACCCIF")),this.dialogRef.close({message:"Confirm"})}},{key:"assignValues",value:function(t,e,a,n,o,i,r,c,s,l){var b;this.accountServiceDetails=t,console.log(this.accountServiceDetails),this.nomineeDetails=e,this.securedOverdraftDetails=a,this.unsecuredOverdraftDetails=n,this.financialDetails=o,this.income=null==o?void 0:o.applicantTotalIncome,this.exepse=null==o?void 0:o.applicantTotalExpense,this.intrestDetails=i,this.chargeDetails=r,this.qualitativeScorecard=c,this.scoreCardMappingArray=null===(b=null==c?void 0:c.scoreCardMapping[0])||void 0===b?void 0:b.scoreCardDetails,this.assessmentReport=s,this.createAccFundingStage=l,this.chartOptions={series:[48],chart:{height:200,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:"70%"}}},labels:["saved"]},this.chartOptions1={series1:[{name:"Income :"+this.income,type:"line",data:[40,55,50,70,65,68,50,45,35,30,38,40]},{name:"Expenses :"+this.exepse,type:"line",data:[55,30,25,45,46,47,48,52,44,35,30]}],chart1:{height:220,type:"line"},stroke1:{curve:"smooth"},fill1:{type:"solid",opacity:[.35,1]},labels1:["JAN","","FEB","","MAR","","APR","","MAY ","","JUN"],yaxis1:[{title:{text:""}}],xaxis1:{labels:{trim:!1}}}}},{key:"updateApplicationStatus",value:function(t,e){var a=this;console.log("data : ",t.businessProductAccount.accountId),t.businessProductAccount.status=e;var n=e;this.accInfo.status=e,this.tasksummaryService.updateCreateAccStatus({status:e,accountId:t.businessProductAccount.accountId}).subscribe(function(t){null!=t.accountId||""!=t.accountId||""!=t.accountId?(a.close(n),a.cdr.markForCheck(),a.cdr.detectChanges(),a.dialogRef.close({message:"Confirm",data:n}),a.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck()):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.errorStatus=e,a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"closeClick",value:function(){this.dialogRef.close()}},{key:"getProfileImage",value:function(t){var e=this;console.log(t),this.image=null,null!=this.accInfo.customerId&&this.api.getProfileDetails(t).subscribe(function(t){console.log(t),null!=t.profileImage&&(e.imageUrl=t.profileImage,console.log("imageurl",e.imageUrl),e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl)),t.signatures&&(e.signatureData=t.signatures[0],"undefinedSignature"==e.signatureData.documentName&&(e.signatureData.documentName="Signature"),e.ls.setItem("signedImage",e.signatureData.fileUrl))},function(t){console.log(t)})}},{key:"getByAccountId",value:function(t){var e=this;this.apiService.getByAccountId(t).subscribe(function(t){e.accountdetailsForStatusUpdate=t,e.updateAccountStatus(t)})}},{key:"updateAccountStatus",value:function(t){t.status=this.appStatus,this.apiService.saveProductAccountInfo(t).subscribe(function(t){console.log("updateResp:: ",t)})}},{key:"close",value:function(t){this.dialogRef.close({message:"Confirm",data:this.accInfo.status})}},{key:"debitCardData",value:function(t){var e=this;console.log("dardType-- ",t),this.api.getCardType(this.cardType.cardType).subscribe(function(t){console.log("resp-- ",t),e.debitCardDataValue=t,console.log(t)},function(t){return console.log("ERROR: ",t)})}},{key:"openEditScreen",value:function(t,e){var a=this;this.tasksummaryService.updateCreateAccStatus({status:"ONGOING",accountId:this.accountId}).subscribe(function(t){console.log(t),null!=t&&(a.approvedStatus=!0,a.rejectedStatus=!1)}),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){a.accInfo.status=t.status,"BACKLOG"==a.accInfo.status&&(a.getAccountInfoByAccountId(a.accountId),a.tasksummaryService.updateCreateAccStatus({status:"BACKLOG",accountId:a.accountId}).subscribe(function(t){console.log(t),null!=t&&(a.approvedStatus=!1,a.rejectedStatus=!1)})),1==t&&a.getProfileImage(a.accInfo.customerId),a.cdr.markForCheck()})}},{key:"editAccountDetails",value:function(){var t,e;this.accountDetails&&(this.accountDetails.customerName=(null===(t=this.accInfo)||void 0===t?void 0:t.firstName)+" "+(null===(e=this.accInfo)||void 0===e?void 0:e.lastName)),this.openEditScreen(q,this.accountDetails)}},{key:"editCustomerInfo",value:function(){this.openEditScreen(Yt,this.customerInformation)}},{key:"editMandateDetails",value:function(){this.openEditScreen(ro,this.mandate)}},{key:"editServiceDetails",value:function(){this.openEditScreen(pe,this.accountServiceDetails)}},{key:"editNomineeDetails",value:function(){this.openEditScreen(Ye,this.nomineeDetails)}},{key:"editSecuredOverdraftDetails",value:function(){this.openEditScreen(Ea,this.securedOverdraftDetails)}},{key:"editUnsecuredOverdraftDetails",value:function(){this.openEditScreen(ja,this.unsecuredOverdraftDetails)}},{key:"editFinancialDetails",value:function(){this.openEditScreen(tn,this.financialDetails)}},{key:"editInterestDetails",value:function(){this.openEditScreen(ln,this.intrestDetails)}},{key:"editChargeDetails",value:function(){this.openEditScreen(pn,this.chargeDetails)}},{key:"editQualitativeDetails",value:function(){this.openEditScreen(Tn,this.qualitativeScorecard)}},{key:"editFundingStage",value:function(){this.openEditScreen(Gn,this.createAccFundingStage)}},{key:"editApprovalDetails",value:function(){console.log(this.accountDetails),this.openEditScreen(qn,this.accountDetails)}},{key:"editDigitalSign",value:function(){this.openEditScreen(Jn.a,this.signatureData)}},{key:"continue",value:function(){var t,e,a,n,o,i,r,c,s,l,b,u,d,m,p,f,h,g;console.log("customer Id-----\x3e",null===(t=this.accountInfo)||void 0===t?void 0:t.businessProductNominee),this.ls.setItem("accountId",null===(e=this.accountInfo.businessProductAccount)||void 0===e?void 0:e.accountId),this.ls.setItem("appEntryStage",!(!this.accountInfo.businessProductAccount||!this.accountInfo.businessProductAccServices||0==(null===(a=this.accountInfo.businessProductCustomer.data)||void 0===a?void 0:a.length)||0==(null===(n=this.accountInfo.businessProductMandate)||void 0===n?void 0:n.length)||0==(null===(o=this.accountInfo.businessProductNominee)||void 0===o?void 0:o.length))),this.ls.setItem("ACC_DONE",!!this.accountInfo.businessProductAccount),this.ls.setItem("ACC_SERVICE_DONE",!!this.accountInfo.businessProductAccServices),this.ls.setItem("ACC_OPEN_DONE",0!=(null===(c=null===(r=null===(i=this.accountInfo)||void 0===i?void 0:i.businessProductCustomer)||void 0===r?void 0:r.data)||void 0===c?void 0:c.length)),this.ls.setItem("ACC_MANDATE_DONE",0!=(null===(s=this.accountInfo.businessProductMandate)||void 0===s?void 0:s.length)),this.ls.setItem("ACC_NOMINEE_DONE",0!=(null===(l=this.accountInfo.businessProductNominee)||void 0===l?void 0:l.length)),this.ls.setItem("limitEntryStage",!(!this.accountInfo.financialDetails||0==(null===(b=this.accountInfo.securedOverdraft)||void 0===b?void 0:b.length)&&!this.accountInfo.unsecuredOverdraft)),this.ls.setItem("LIMIT_FIN_DONE",!!this.accountInfo.financialDetails),this.ls.setItem("LIMIT_SECURED_DONE",!(0==(null===(u=this.accountInfo.securedOverdraft)||void 0===u?void 0:u.length)||!this.accountInfo.securedOverdraft)),this.ls.setItem("LIMIT_UNSECURED_DONE",!!this.accountInfo.unsecuredOverdraft),this.ls.setItem("enrichmentStage",!(!this.accountInfo.chargeDetails||0==(null===(d=this.accountInfo.intrestDetails)||void 0===d?void 0:d.length))),this.ls.setItem("ENRICHMENT_CHARGES_DONE",!!this.accountInfo.chargeDetails),this.ls.setItem("ENRICHMENT_INTEREST_DONE",0!=(null===(m=this.accountInfo.intrestDetails)||void 0===m?void 0:m.length)),this.ls.setItem("ASSESSMENT_QA_DONE",!(0==(null===(h=null===(f=null===(p=this.accountInfo)||void 0===p?void 0:p.qualitativeScorecard)||void 0===f?void 0:f.scoreCardMapping)||void 0===h?void 0:h.length)||!(null===(g=this.accountInfo)||void 0===g?void 0:g.qualitativeScorecard))),this.ls.setItem("ASSESSMENT_REPORT_DONE",!!this.accountInfo.assessmentReport),this.ls.setItem("FUNDING_INI_DONE",!!this.accountInfo.createAccFundingStage),this.ls.setItem("approvalStage",!!this.accountDetails),this.ls.setItem("APPROVAL_DETAILS_DONE",!!this.accountDetails),window.open("".concat(co.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=CUSTACC&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||ai)(l.Rb(p.g),l.Rb(p.a),l.Rb(f.a),l.Rb(b.b),l.Rb(m.a),l.Rb(Ze.h),l.Rb(g.a),l.Rb(l.h),l.Rb(W.a),l.Rb(lo.b),l.Rb(p.b),l.Rb(so.a))},ai.\u0275cmp=l.Lb({type:ai,selectors:[["app-approver"]],viewQuery:function(t,e){var a;1&t&&l.ad(uo,!0),2&t&&l.Cc(a=l.gc())&&(e.chart=a.first)},outputs:{submitClicked:"submitClicked"},decls:316,vars:57,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],["fxLayoutAlign","center"],[4,"ngIf"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","10"],[1,"num"],[1,"bordnum"],["fxFlex","85",1,"margin1"],["fxLayout","row","fxLayoutAlign","space between center"],["visible","true"],[1,"editbtn",3,"hidden","click"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],["fxLayout","row",1,"rowbord","nobord"],[3,"checked","disabled"],[4,"ngFor","ngForOf"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","10",2,"flex","1 1 100%","box-sizing","border-box","max-width","15%"],["fxFlex","85",1,"margin1",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["class","mtcd",4,"ngIf"],["fxLayout","row","class","flex-container","style","flex-direction: row; box-sizing: border-box; display: flex;",4,"ngIf"],[1,"appersoninfocard",2,"width","250px"],["fxLayout","row","fxLayoutAlign"," start"],[1,"circle1"],[1,"content2"],[2,"padding-bottom","30px"],["class","labelval",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row"],[1,"circle"],[1,"content1"],[1,"appersoninfocard"],["fxFlex","200px",1,"size1"],[1,"namecard",2,"font-size","20px"],[1,"cifnum","label"],[1,"phoneno","label"],[1,"maticon"],[1,"textsize"],[1,"email","label"],[1,"address","label"],["fxFlex","300px",2,"font-size","12px"],[2,"font-size","20px"],["fxLayout","row","fxLayoutGap","40px",2,"font-size","12px"],["fxLayout","row","fxLayoutGap","20px",2,"font-size","12px"],[1,"btnleft"],[1,"circle3"],[1,"done1"],["fxFlex","5"],["fxFlex","30"],["class","labelval",4,"ngFor","ngForOf"],["disabled","",3,"checked"],["fxFlex","30",4,"ngIf"],["fxLayout","row","class","rowbord",4,"ngIf"],[1,"table","table-bordered","dataStyle"],[2,"color","#03a9f4"],["fxFlex","200px",2,"font-size","10px"],["fxFlex","100px",2,"font-size","12px"],["fxLayout","column","fxLayoutGap","10px",2,"font-size","12px"],["class","appersoninfocard",4,"ngFor","ngForOf"],["fxFlex","130px",2,"font-size","12px"],["visible","true",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutGap","40px"],["type","button",1,"sqftbtn"],["type","button",1,"acbtn"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","24px"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","20px",3,"hidden"],[1,"box"],[3,"series","chart","plotOptions","labels"],[1,"box2"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip"],["fxLayout","row","fxLayoutGap","70px"],["fxLayout","row","FxLayoutAlign","start"],[2,"font-size","16px","padding-top","30px"],[2,"color","grey","font-size","10px"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","16px","padding-top","30px"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"interstcard2"],[1,"interstcard3"],[1,"interstcard4"],[1,"nom"],[1,"appersoninfocard",2,"width","100px"],["fxFlex","47","class","qtncrd","fxFlex.xs","100",4,"ngFor","ngForOf"],["fxFlex","47","fxFlex.xs","100",1,"qtncrd"],["fxFlex","85",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],[1,"marginn"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mt-12"],["fxFlex","100"],[1,"mat-heading-label","ml-48"],[1,"mat-body-1"],[1,"mat-heading-label","right-text"],["type","button",1,"refnum"],["type","button",1,"suces"],[1,"ml-48","btttn",2,"font-family","Manrope,SemiBold"],[1,"mat-body-1","btttn"],[1,"right-text","btttn"],["download","",1,"linkColor",3,"href"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"div",0),l.Xb(2,"div",1),l.Xb(3,"div",2),l.Xb(4,"div"),l.Xb(5,"mat-icon",3),l.fc("click",function(){return e.close(e.accStatus)}),l.Tc(6," close"),l.Wb(),l.Wb(),l.Wb(),l.Xb(7,"div",4),l.Rc(8,mo,1,0,"mat-spinner",5),l.Wb(),l.Xb(9,"div",6),l.Xb(10,"div",7),l.Xb(11,"div",8),l.Xb(12,"div",9),l.Rc(13,po,2,1,"span",10),l.Wb(),l.Xb(14,"div",11),l.Xb(15,"div",12),l.Sb(16,"img",13),l.Tc(17,"\xa0 "),l.Xb(18,"div"),l.Xb(19,"span",14),l.Tc(20),l.Wb(),l.Sb(21,"br"),l.Xb(22,"span",15),l.Tc(23),l.Wb(),l.Wb(),l.Wb(),l.Xb(24,"div",16),l.Xb(25,"mat-icon",17),l.Tc(26,"phone "),l.Wb(),l.Tc(27,"\xa0\xa0\xa0 "),l.Xb(28,"span",18),l.Tc(29),l.Wb(),l.Wb(),l.Xb(30,"div",16),l.Xb(31,"mat-icon",17),l.Tc(32," mail_outline"),l.Wb(),l.Tc(33,"\xa0\xa0 \xa0 "),l.Xb(34,"span",19),l.Tc(35),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div",20),l.Xb(37,"div",21),l.Rc(38,fo,7,16,"div",22),l.Rc(39,go,2,1,"div",23),l.Wb(),l.Wb(),l.Sb(40,"br"),l.Sb(41,"br"),l.Sb(42,"br"),l.Sb(43,"br"),l.Sb(44,"br"),l.Xb(45,"div",24),l.Xb(46,"h2"),l.Xb(47,"b"),l.Tc(48),l.Wb(),l.Wb(),l.Wb(),l.Sb(49,"br"),l.Sb(50,"br"),l.Xb(51,"div",25),l.Xb(52,"div",26),l.Xb(53,"div",27),l.Tc(54,"1"),l.Wb(),l.Sb(55,"div",28),l.Wb(),l.Xb(56,"div",29),l.Xb(57,"h2"),l.Tc(58,"Application Entry Stage"),l.Wb(),l.Xb(59,"div",30),l.Xb(60,"fieldset"),l.Xb(61,"legend",31),l.Tc(62,"Account Details"),l.Wb(),l.Wb(),l.Xb(63,"span"),l.Xb(64,"mat-icon",32),l.fc("click",function(){return e.editAccountDetails()}),l.Tc(65,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(66,"mat-card",33),l.Xb(67,"mat-card-content"),l.Xb(68,"div",34),l.Sb(69,"div",35),l.Xb(70,"div",36),l.Xb(71,"div",37),l.Tc(72,"CIF Number"),l.Wb(),l.Xb(73,"div",38),l.Tc(74),l.Wb(),l.Wb(),l.Xb(75,"div",36),l.Xb(76,"div",37),l.Tc(77,"Customer Name"),l.Wb(),l.Xb(78,"div",38),l.Tc(79),l.Wb(),l.Wb(),l.Xb(80,"div",36),l.Xb(81,"div",37),l.Tc(82,"Account ID"),l.Wb(),l.Xb(83,"div",38),l.Tc(84),l.Wb(),l.Wb(),l.Wb(),l.Xb(85,"div",34),l.Sb(86,"div",35),l.Xb(87,"div",36),l.Xb(88,"div",37),l.Tc(89,"Account Type"),l.Wb(),l.Xb(90,"div",38),l.Tc(91),l.Wb(),l.Wb(),l.Xb(92,"div",36),l.Xb(93,"div",37),l.Tc(94,"Business Product Name"),l.Wb(),l.Xb(95,"div",38),l.Tc(96),l.Wb(),l.Wb(),l.Xb(97,"div",36),l.Xb(98,"div",37),l.Tc(99,"Account Branch"),l.Wb(),l.Xb(100,"div",38),l.Tc(101),l.Wb(),l.Wb(),l.Wb(),l.Xb(102,"div",34),l.Sb(103,"div",35),l.Xb(104,"div",36),l.Xb(105,"div",37),l.Tc(106,"Account Currency"),l.Wb(),l.Xb(107,"div",38),l.Tc(108),l.Wb(),l.Wb(),l.Xb(109,"div",36),l.Xb(110,"div",37),l.Tc(111,"Application Date"),l.Wb(),l.Xb(112,"div",38),l.Tc(113),l.Wb(),l.Wb(),l.Xb(114,"div",36),l.Xb(115,"div",37),l.Tc(116,"Modification No"),l.Wb(),l.Xb(117,"div",38),l.Tc(118),l.Wb(),l.Wb(),l.Wb(),l.Xb(119,"div",39),l.Sb(120,"div",35),l.Xb(121,"div",36),l.Xb(122,"div",37),l.Tc(123,"OverDraft Requested?"),l.Wb(),l.Xb(124,"div",38),l.Sb(125,"mat-slide-toggle",40),l.Wb(),l.Wb(),l.Xb(126,"div",36),l.Xb(127,"div",37),l.Tc(128,"Swift Code"),l.Wb(),l.Xb(129,"div",38),l.Sb(130,"mat-slide-toggle",40),l.Wb(),l.Wb(),l.Xb(131,"div",36),l.Xb(132,"div",37),l.Tc(133,"Initial Funding "),l.Wb(),l.Xb(134,"div",38),l.Sb(135,"mat-slide-toggle",40),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Rc(136,yo,23,4,"div",5),l.Rc(137,Xo,9,2,"div",5),l.Rc(138,Ro,48,10,"div",5),l.Rc(139,No,9,2,"div",5),l.Wb(),l.Wb(),l.Xb(140,"div",25),l.Xb(141,"div",26),l.Xb(142,"div",27),l.Tc(143,"2"),l.Wb(),l.Xb(144,"div",28),l.Tc(145,"\xa0"),l.Wb(),l.Wb(),l.Xb(146,"div",29),l.Xb(147,"h2"),l.Tc(148,"Limit Entry Stage"),l.Wb(),l.Rc(149,Lo,8,3,"div",41),l.Sb(150,"br"),l.Rc(151,Uo,23,6,"div",5),l.Sb(152,"br"),l.Rc(153,Mo,41,19,"div",5),l.Wb(),l.Wb(),l.Sb(154,"br"),l.Xb(155,"div",25),l.Xb(156,"div",26),l.Xb(157,"div",27),l.Tc(158,"3"),l.Wb(),l.Xb(159,"div",28),l.Tc(160,"\xa0"),l.Wb(),l.Wb(),l.Xb(161,"div",29),l.Xb(162,"h2"),l.Tc(163,"Application Enrichment"),l.Wb(),l.Xb(164,"div",30),l.Xb(165,"fieldset"),l.Xb(166,"legend",31),l.Tc(167,"Interest Details"),l.Wb(),l.Wb(),l.Xb(168,"span"),l.Xb(169,"mat-icon",32),l.fc("click",function(){return e.editInterestDetails()}),l.Tc(170,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Rc(171,Vo,2,1,"mat-card",5),l.Sb(172,"br"),l.Xb(173,"div",30),l.Xb(174,"fieldset"),l.Xb(175,"legend",31),l.Tc(176,"Charge Details"),l.Wb(),l.Wb(),l.Xb(177,"span"),l.Xb(178,"mat-icon",32),l.fc("click",function(){return e.editChargeDetails()}),l.Tc(179,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Rc(180,Bo,2,1,"mat-card",5),l.Wb(),l.Wb(),l.Xb(181,"div",42),l.Xb(182,"div",43),l.Xb(183,"div",27),l.Tc(184,"4"),l.Wb(),l.Xb(185,"div",28),l.Tc(186,"\xa0"),l.Wb(),l.Wb(),l.Xb(187,"div",44),l.Xb(188,"h2"),l.Tc(189,"Application Assessment"),l.Wb(),l.Xb(190,"div",30),l.Xb(191,"fieldset"),l.Xb(192,"legend",31),l.Tc(193,"Qualitative Scorecard"),l.Wb(),l.Wb(),l.Xb(194,"span"),l.Xb(195,"mat-icon",32),l.fc("click",function(){return e.editQualitativeDetails()}),l.Tc(196,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(197,"mat-card",33),l.Xb(198,"mat-card-content"),l.Xb(199,"div"),l.Xb(200,"div",34),l.Xb(201,"div",36),l.Xb(202,"div",37),l.Tc(203,"Scorecard Id"),l.Wb(),l.Xb(204,"div",38),l.Tc(205),l.Wb(),l.Wb(),l.Xb(206,"div",36),l.Xb(207,"div",37),l.Tc(208,"Number of Applicants"),l.Wb(),l.Xb(209,"div",38),l.Tc(210),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(211,"div"),l.Xb(212,"div",45),l.Xb(213,"div"),l.Xb(214,"div",46),l.Rc(215,qo,2,1,"div",41),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(216,"br"),l.Rc(217,Jo,35,5,"mat-card",47),l.Wb(),l.Sb(218,"br"),l.Sb(219,"br"),l.Wb(),l.Rc(220,Ho,18,3,"div",48),l.Xb(221,"div",42),l.Xb(222,"div",43),l.Xb(223,"div",27),l.Tc(224,"6"),l.Wb(),l.Xb(225,"div",28),l.Tc(226,"\xa0"),l.Wb(),l.Wb(),l.Xb(227,"div",44),l.Xb(228,"h2"),l.Tc(229,"Approval Stage"),l.Wb(),l.Xb(230,"div",30),l.Xb(231,"fieldset"),l.Xb(232,"legend",31),l.Tc(233,"Approval Details "),l.Wb(),l.Wb(),l.Xb(234,"span"),l.Xb(235,"mat-icon",32),l.fc("click",function(){return e.editApprovalDetails()}),l.Tc(236,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(237,"mat-card",33),l.Xb(238,"mat-card-content"),l.Xb(239,"div",34),l.Sb(240,"div",35),l.Xb(241,"div",36),l.Xb(242,"div",37),l.Tc(243,"Account Type"),l.Wb(),l.Xb(244,"div",38),l.Tc(245),l.Wb(),l.Wb(),l.Xb(246,"div",36),l.Xb(247,"div",37),l.Tc(248,"Account Branch"),l.Wb(),l.Xb(249,"div",38),l.Tc(250),l.Wb(),l.Wb(),l.Xb(251,"div",36),l.Xb(252,"div",37),l.Tc(253,"Product Code"),l.Wb(),l.Xb(254,"div",38),l.Tc(255),l.Wb(),l.Wb(),l.Wb(),l.Xb(256,"div",34),l.Sb(257,"div",35),l.Xb(258,"div",36),l.Xb(259,"div",37),l.Tc(260,"Account Currency"),l.Wb(),l.Xb(261,"div",38),l.Tc(262),l.Wb(),l.Wb(),l.Wb(),l.Xb(263,"mat-card",49),l.Xb(264,"div",39),l.Xb(265,"div",50),l.Xb(266,"div",51),l.Xb(267,"div",52),l.Xb(268,"mat-icon"),l.Tc(269,"done"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(270,"div",53),l.Xb(271,"div",37),l.Tc(272,"User Recommendation"),l.Wb(),l.Xb(273,"div",38),l.Tc(274),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(275,"div",42),l.Xb(276,"div",43),l.Xb(277,"div",27),l.Tc(278,"7"),l.Wb(),l.Wb(),l.Xb(279,"div",44),l.Xb(280,"h2"),l.Tc(281,"Digital Sign"),l.Wb(),l.Xb(282,"div",30),l.Xb(283,"fieldset"),l.Xb(284,"legend",31),l.Tc(285,"Digital Sign"),l.Wb(),l.Wb(),l.Xb(286,"span"),l.Xb(287,"mat-icon",32),l.fc("click",function(){return e.editDigitalSign()}),l.Tc(288,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(289,"mat-card",33),l.Xb(290,"mat-card-content"),l.Xb(291,"div",34),l.Sb(292,"div",35),l.Xb(293,"div",36),l.Xb(294,"div",37),l.Tc(295,"Document Name"),l.Wb(),l.Xb(296,"div",38),l.Tc(297),l.Wb(),l.Wb(),l.Xb(298,"div",36),l.Xb(299,"div",37),l.Tc(300,"File Type"),l.Wb(),l.Xb(301,"div",38),l.Tc(302),l.Wb(),l.Wb(),l.Xb(303,"div",36),l.Xb(304,"div",37),l.Tc(305,"File Name"),l.Wb(),l.Xb(306,"div",38),l.Tc(307),l.Wb(),l.Wb(),l.Xb(308,"div",36),l.Xb(309,"div",37),l.Tc(310,"Download"),l.Wb(),l.Rc(311,Yo,4,1,"div",54),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(312,"br"),l.Xb(313,"div"),l.Rc(314,ei,18,15,"div",55),l.Wb(),l.Sb(315,"br"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(8),l.rc("ngIf",e.loading),l.Eb(5),l.rc("ngForOf",e.nameCreater),l.Eb(7),l.Vc("",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.createdBy," "),l.Eb(3),l.Vc("EID #",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.creatorId,""),l.Eb(6),l.Vc(" ",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.mobile," "),l.Eb(6),l.Vc(" ",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.email," "),l.Eb(3),l.rc("ngIf","not_available"==e.imageUrl),l.Eb(1),l.rc("ngIf","not_available"!=e.imageUrl),l.Eb(9),l.Xc("",e.accInfo.prefix,"\xa0",e.accInfo.firstName,"\xa0",e.accInfo.lastName,""),l.Eb(16),l.rc("hidden",e.editScreen),l.Eb(10),l.Uc(null==e.accountDetails?null:e.accountDetails.customerId),l.Eb(5),l.Wc("",e.accInfo.firstName,"\xa0",e.accInfo.lastName,""),l.Eb(5),l.Vc("",e.accountId," "),l.Eb(7),l.Uc(null==e.accountDetails?null:e.accountDetails.accountType),l.Eb(5),l.Uc(null==e.accountDetails?null:e.accountDetails.businessProductName),l.Eb(5),l.Uc(null==e.accountDetails?null:e.accountDetails.accountBranch),l.Eb(7),l.Uc(null==e.accountDetails?null:e.accountDetails.accountCurrency),l.Eb(5),l.Uc(null==e.accountDetails?null:e.accountDetails.applicationDate),l.Eb(5),l.Uc(null==e.accountDetails?null:e.accountDetails.modificationNo),l.Eb(7),l.rc("checked",null==e.accountDetails?null:e.accountDetails.overDraftRequested)("disabled",e.variable),l.Eb(5),l.rc("checked",null==e.accountDetails?null:e.accountDetails.swiftCodeEnable)("disabled",e.variable),l.Eb(5),l.rc("checked",null==e.accountDetails?null:e.accountDetails.fundBy)("disabled",e.variable),l.Eb(1),l.rc("ngIf",null!=e.customerInformation),l.Eb(1),l.rc("ngIf",(null==e.mandate?null:e.mandate.length)>0),l.Eb(1),l.rc("ngIf",null!=e.accountServiceDetails),l.Eb(1),l.rc("ngIf",(null==e.nomineeDetails?null:e.nomineeDetails.length)>0),l.Eb(10),l.rc("ngForOf",e.securedOverdraftDetails),l.Eb(2),l.rc("ngIf",null!=e.unsecuredOverdraftDetails),l.Eb(2),l.rc("ngIf",null!=e.financialDetails),l.Eb(16),l.rc("hidden",e.editScreen),l.Eb(2),l.rc("ngIf",(null==e.intrestDetails?null:e.intrestDetails.length)>0),l.Eb(7),l.rc("hidden",e.editScreen),l.Eb(2),l.rc("ngIf",(null==e.chargeDetails?null:e.chargeDetails.length)>0),l.Eb(15),l.rc("hidden",e.editScreen),l.Eb(10),l.Uc(null==e.qualitativeScorecard?null:e.qualitativeScorecard.scoreCardId),l.Eb(5),l.Uc(null==e.qualitativeScorecard?null:e.qualitativeScorecard.numberOfApplicant),l.Eb(5),l.rc("ngForOf",null==e.qualitativeScorecard?null:e.qualitativeScorecard.scoreCardMapping),l.Eb(2),l.rc("ngIf",null!=e.assessmentReport),l.Eb(3),l.rc("ngIf",null!=e.createAccFundingStage),l.Eb(15),l.rc("hidden",e.editScreen),l.Eb(10),l.Uc(null==e.accountDetails?null:e.accountDetails.accountType),l.Eb(5),l.Uc(null==e.accountDetails?null:e.accountDetails.accountBranch),l.Eb(5),l.Uc(null==e.accountDetails?null:e.accountDetails.businessProductName),l.Eb(7),l.Uc(null==e.accountDetails?null:e.accountDetails.accountCurrency),l.Eb(12),l.Uc(null==e.accountDetails?null:e.accountDetails.userRecommendation),l.Eb(13),l.rc("hidden",e.editScreen),l.Eb(10),l.Uc(null==e.signatureData?null:e.signatureData.documentName),l.Eb(5),l.Uc(null==e.signatureData?null:e.signatureData.fileType),l.Eb(5),l.Uc(null==e.signatureData?null:e.signatureData.fileName),l.Eb(4),l.rc("ngIf",null==e.signatureData?null:e.signatureData.fileUrl),l.Eb(3),l.rc("ngIf",!e.loading))},directives:[X.e,X.d,T.a,c.n,c.m,E.c,X.b,E.a,E.d,D.a,R.b,X.f,h.a,E.e,E.h,E.g,c.l,bo.a],pipes:[c.v,c.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.rejectbtn[_ngcontent-%COMP%]{text-align:center;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.approvebtn[_ngcontent-%COMP%], .rejectbtn[_ngcontent-%COMP%]{border-style:1px solid transparent}.approvebtn[_ngcontent-%COMP%]{margin:10px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.num[_ngcontent-%COMP%]{width:52%;height:52px;padding-top:16px;background:#fff;margin-left:15px}.num[_ngcontent-%COMP%], .num1[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center}.num1[_ngcontent-%COMP%]{width:15%;height:70px;padding-top:25px}.qtncrd[_ngcontent-%COMP%]{background-color:#f6f8fc;border:.5px;padding:10px;margin:40px 2% 40px 50px;border-color:#b2b2b2}.qtnval[_ngcontent-%COMP%]{padding-top:8px}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center;margin-left:38px;margin-right:7%}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:5%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem;display:flex;align-items:center;font-family:Manrope,Medium}.textsize[_ngcontent-%COMP%]{padding:0 10px;margin-top:10px}.labelval[_ngcontent-%COMP%]{font-family:Montserrat,Medium}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.dataStyle[_ngcontent-%COMP%]{width:99%;margin-left:4%;margin-right:13%}.btttn[_ngcontent-%COMP%], .dataStyle[_ngcontent-%COMP%]{font-family:Montserrat,Medium}.btttn[_ngcontent-%COMP%]{font-weight:700}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%;margin-bottom:20px!important;background:#f4f6f8;margin-left:32px}.appersoninfocard1[_ngcontent-%COMP%]{width:100%}.interstcard[_ngcontent-%COMP%]{width:97%}.interstcard[_ngcontent-%COMP%], .interstcard2[_ngcontent-%COMP%]{background-color:#e5e5e5;height:86%}.interstcard2[_ngcontent-%COMP%]{width:75%}.interstcard3[_ngcontent-%COMP%]{width:97%;right:29%}.interstcard3[_ngcontent-%COMP%], .interstcard4[_ngcontent-%COMP%]{background-color:#e5e5e5;height:86%}.interstcard4[_ngcontent-%COMP%]{width:100%;right:35%}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:38%;max-width:9%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{background-color:#fff;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px;position:relative;padding-right:12px}.cancelIcon[_ngcontent-%COMP%], .rejectbtn[_ngcontent-%COMP%]{color:red;cursor:pointer}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;opacity:1;padding-top:7px}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:63px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.approvebtn[_ngcontent-%COMP%]{color:#fff;background-color:#0ec588;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;border-color:#0ec588;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;background-color:grey;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:20px;width:100px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin-right:15px;margin-top:21%;position:relative;margin-bottom:14px}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px;margin-left:0}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;position:relative;margin:auto 40px auto auto}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:10px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-top:44px;margin-left:44px}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.editbtn[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-top:10px}.refnum[_ngcontent-%COMP%]{background-color:#0e7cc5;border-color:#0e57c5;height:30px;width:250px}.refnum[_ngcontent-%COMP%], .suces[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;margin-right:60px}.suces[_ngcontent-%COMP%]{background-color:#24cca7;border-color:#0dab4e;height:25px;width:150px;margin-left:204px}.btttn[_ngcontent-%COMP%]{font-family:Manrope,Medium!important;color:#9aa1b0}.margin1[_ngcontent-%COMP%]{margin-top:18px}.margin1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:20px}h2[_ngcontent-%COMP%]{margin-left:13px;font-family:montserrat,bold}.height1[_ngcontent-%COMP%]{margin-left:32px}legend[_ngcontent-%COMP%]{width:auto;margin-right:25px;color:#5f5c5c;font-size:18px;font-family:Montserrat,Medium}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:13px;margin-right:20px;margin-top:20px;flex-grow:1}.size1[_ngcontent-%COMP%]{font-size:10px;height:165px}.maticon[_ngcontent-%COMP%]{margin-top:10px}.box[_ngcontent-%COMP%]{height:295px;width:29%}.box2[_ngcontent-%COMP%]{width:62%}.nom[_ngcontent-%COMP%]{margin-left:30px}.marginn[_ngcontent-%COMP%]{margin-top:22px}.done1[_ngcontent-%COMP%]{top:50%;text-align:center;color:#fff;margin-top:5px;width:inherit;height:auto;font-size:19px}.circle3[_ngcontent-%COMP%]{width:25px;height:3rem;background-color:#0ec588;border-radius:50%;margin-right:10px;margin-left:5px}.btnleft[_ngcontent-%COMP%]{margin-left:0}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),ai),oi=r("MNke");function ii(t,e){if(1&t&&l.Sb(0,"img",3),2&t){var a=l.jc();l.sc("src",a.photoUrl,l.Jc)}}function ri(t,e){if(1&t&&(l.Xb(0,"div",4),l.Tc(1),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.Vc(" ",a.initials," ")}}var ci,si=function(t){return{"background-color":t}},li=((ci=function(){function t(){n(this,t),this.showInitials=!1,this.colors=["#24CCA7","#24CCA7","#24CCA7","#24CCA7"]}return i(t,[{key:"ngOnInit",value:function(){if(!this.photoUrl){this.showInitials=!0,this.createInititals();var t=Math.floor(Math.random()*Math.floor(this.colors.length));this.circleColor=this.colors[t]}}},{key:"createInititals",value:function(){var t=this.name.split(" "),e=t[0].substring(0,1).toUpperCase();t.length>1&&(e+=t[t.length-1].substring(0,1).toUpperCase()),this.initials=e}}]),t}()).\u0275fac=function(t){return new(t||ci)},ci.\u0275cmp=l.Lb({type:ci,selectors:[["app-photo"]],inputs:{photoUrl:"photoUrl",name:"name"},decls:3,vars:5,consts:[[1,"circle",3,"ngStyle"],[3,"src",4,"ngIf"],["class","initials",4,"ngIf"],[3,"src"],[1,"initials"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Rc(1,ii,1,1,"img",1),l.Rc(2,ri,2,1,"div",2),l.Wb()),2&t&&(l.rc("ngStyle",l.xc(3,si,e.circleColor)),l.Eb(1),l.rc("ngIf",!e.showInitials),l.Eb(1),l.rc("ngIf",e.showInitials))},directives:[c.o,bo.b,c.n],styles:[".circle[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;display:flex;justify-content:center;align-items:center}.circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:60px;height:60px}.circle[_ngcontent-%COMP%]   .initials[_ngcontent-%COMP%]{color:#fff;font-size:20px;line-height:19px;letter-spacing:.2625px}"]}),ci);function bi(t,e){1&t&&l.Sb(0,"mat-spinner",19),2&t&&l.rc("diameter",15)}function ui(t,e){if(1&t){var a=l.Yb();l.Xb(0,"button",20),l.fc("click",function(){return l.Hc(a),l.jc().clear()}),l.Xb(1,"mat-icon"),l.Tc(2,"close"),l.Wb(),l.Wb()}}function di(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",38),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function mi(t,e){if(1&t&&l.Sb(0,"img",39),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function pi(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.gotoapproverpage(t,"BACKLOG",o.getRandomColor(n+3))}),l.Xb(1,"mat-icon",22),l.Tc(2,"bookmark"),l.Wb(),l.Xb(3,"mat-card-header",23),l.Xb(4,"div",24),l.Rc(5,di,2,1,"div",25),l.Rc(6,mi,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(8,"mat-card-title",27),l.Tc(9),l.Wb(),l.Xb(10,"mat-card-subtitle",28),l.Tc(11),l.Wb(),l.Wb(),l.Xb(12,"form",29),l.Xb(13,"div",30),l.Xb(14,"div",31),l.Xb(15,"div",32),l.Xb(16,"div",33),l.Xb(17,"span",34),l.Tc(18,"Application Date"),l.Wb(),l.Wb(),l.Xb(19,"div",33),l.Xb(20,"span",34),l.Tc(21,"Applicaton Branch"),l.Wb(),l.Wb(),l.Xb(22,"div",33),l.Xb(23,"span",34),l.Tc(24,"Product"),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",35),l.Xb(26,"div",33),l.Xb(27,"span",36),l.Tc(28),l.Wb(),l.Wb(),l.Xb(29,"div",33),l.Xb(30,"span",37),l.Tc(31),l.Wb(),l.Wb(),l.Xb(32,"div",33),l.Xb(33,"span",37),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Sb(35,"br"),l.Wb(),l.Xb(36,"div",31),l.Xb(37,"div",34),l.Xb(38,"div",33),l.Xb(39,"span",34),l.Tc(40,"Account Type"),l.Wb(),l.Wb(),l.Xb(41,"div",33),l.Xb(42,"span",34),l.Tc(43,"Application By"),l.Wb(),l.Wb(),l.Wb(),l.Xb(44,"div",36),l.Xb(45,"div"),l.Xb(46,"div",33),l.Xb(47,"span",37),l.Tc(48),l.Wb(),l.Wb(),l.Xb(49,"div",33),l.Xb(50,"span",37),l.Tc(51),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(7);l.Eb(5),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Xc("",null==n?null:n.firstName," ",null==n?null:n.middleName," ",null==n?null:n.lastName,""),l.Eb(2),l.Uc(null==n?null:n.accountId),l.Eb(17),l.Uc(null==n?null:n.applicationDate),l.Eb(3),l.Uc(null==n?null:n.accountBranch),l.Eb(3),l.Uc(null==n?null:n.businessProductName),l.Eb(14),l.Uc(null==n?null:n.accountType),l.Eb(3),l.Uc(null==n?null:n.createdBy)}}function fi(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",38),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function hi(t,e){if(1&t&&l.Sb(0,"img",39),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function gi(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.gotoapproverpage(t,"ONGOING",o.getRandomColor(n+6))}),l.Xb(1,"mat-icon",40),l.Tc(2,"bookmark"),l.Wb(),l.Xb(3,"mat-card-header",23),l.Xb(4,"div",24),l.Rc(5,fi,2,1,"div",25),l.Rc(6,hi,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(8,"mat-card-title",27),l.Tc(9),l.Wb(),l.Xb(10,"mat-card-subtitle",28),l.Tc(11),l.Wb(),l.Wb(),l.Xb(12,"form",29),l.Xb(13,"div",30),l.Xb(14,"div",31),l.Xb(15,"div",32),l.Xb(16,"div",33),l.Xb(17,"span",34),l.Tc(18,"Application Date"),l.Wb(),l.Wb(),l.Xb(19,"div",33),l.Xb(20,"span",34),l.Tc(21,"Applicaton Branch"),l.Wb(),l.Wb(),l.Xb(22,"div",33),l.Xb(23,"span",34),l.Tc(24,"Product"),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",35),l.Xb(26,"div",33),l.Xb(27,"span",36),l.Tc(28),l.Wb(),l.Wb(),l.Xb(29,"div",33),l.Xb(30,"span",37),l.Tc(31),l.Wb(),l.Wb(),l.Xb(32,"div",33),l.Xb(33,"span",37),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Sb(35,"br"),l.Wb(),l.Xb(36,"div",31),l.Xb(37,"div",34),l.Xb(38,"div",33),l.Xb(39,"span",34),l.Tc(40,"Account Type"),l.Wb(),l.Wb(),l.Xb(41,"div",33),l.Xb(42,"span",34),l.Tc(43,"Application By"),l.Wb(),l.Wb(),l.Wb(),l.Xb(44,"div",36),l.Xb(45,"div"),l.Xb(46,"div",33),l.Xb(47,"span",37),l.Tc(48),l.Wb(),l.Wb(),l.Xb(49,"div",33),l.Xb(50,"span",37),l.Tc(51),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(7);l.Eb(5),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Xc("",n.firstName," ",n.middleName," ",n.lastName,""),l.Eb(2),l.Uc(n.accountId),l.Eb(17),l.Uc(n.applicationDate),l.Eb(3),l.Uc(n.accountBranch),l.Eb(3),l.Uc(n.businessProductName),l.Eb(14),l.Uc(n.accountType),l.Eb(3),l.Uc(n.createdBy)}}function vi(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",38),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function yi(t,e){if(1&t&&l.Sb(0,"img",39),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function Wi(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.gotoapproverpage(t,"APPROVED",o.getRandomColor(n+9))}),l.Xb(1,"mat-icon",41),l.Tc(2,"bookmark"),l.Wb(),l.Xb(3,"mat-card-header",23),l.Xb(4,"div",24),l.Rc(5,vi,2,1,"div",25),l.Rc(6,yi,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(8,"mat-card-title",27),l.Tc(9),l.Wb(),l.Xb(10,"mat-card-subtitle",28),l.Tc(11),l.Wb(),l.Wb(),l.Xb(12,"form",29),l.Xb(13,"div",30),l.Xb(14,"div",31),l.Xb(15,"div",32),l.Xb(16,"div",33),l.Xb(17,"span",34),l.Tc(18,"Application Date"),l.Wb(),l.Wb(),l.Xb(19,"div",33),l.Xb(20,"span",34),l.Tc(21,"Applicaton Branch"),l.Wb(),l.Wb(),l.Xb(22,"div",33),l.Xb(23,"span",34),l.Tc(24,"Product"),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",35),l.Xb(26,"div",33),l.Xb(27,"span",36),l.Tc(28),l.Wb(),l.Wb(),l.Xb(29,"div",33),l.Xb(30,"span",37),l.Tc(31),l.Wb(),l.Wb(),l.Xb(32,"div",33),l.Xb(33,"span",37),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Sb(35,"br"),l.Wb(),l.Xb(36,"div",31),l.Xb(37,"div",34),l.Xb(38,"div",33),l.Xb(39,"span",34),l.Tc(40,"Account Type"),l.Wb(),l.Wb(),l.Xb(41,"div",33),l.Xb(42,"span",34),l.Tc(43,"Application By"),l.Wb(),l.Wb(),l.Wb(),l.Xb(44,"div",36),l.Xb(45,"div"),l.Xb(46,"div",33),l.Xb(47,"span",37),l.Tc(48),l.Wb(),l.Wb(),l.Xb(49,"div",33),l.Xb(50,"span",37),l.Tc(51),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(7);l.Eb(5),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Xc("",n.firstName," ",n.middleName," ",n.lastName,""),l.Eb(2),l.Uc(n.accountId),l.Eb(17),l.Uc(null==n?null:n.applicationDate),l.Eb(3),l.Uc(null==n?null:n.accountBranch),l.Eb(3),l.Uc(null==n?null:n.businessProductName),l.Eb(14),l.Uc(null==n?null:n.accountType),l.Eb(3),l.Uc(null==n?null:n.createdBy)}}function Xi(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",38),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Ti(t,e){if(1&t&&l.Sb(0,"img",39),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function Ii(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.gotoapproverpage(t,"REJECTED",o.getRandomColor(n+12))}),l.Xb(1,"mat-icon",42),l.Tc(2,"bookmark"),l.Wb(),l.Xb(3,"mat-card-header",23),l.Xb(4,"div",24),l.Rc(5,Xi,2,1,"div",25),l.Rc(6,Ti,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(8,"mat-card-title",27),l.Tc(9),l.Wb(),l.Xb(10,"mat-card-subtitle",28),l.Tc(11),l.Wb(),l.Wb(),l.Xb(12,"form",29),l.Xb(13,"div",30),l.Xb(14,"div",31),l.Xb(15,"div",32),l.Xb(16,"div",33),l.Xb(17,"span",34),l.Tc(18,"Application Date"),l.Wb(),l.Wb(),l.Xb(19,"div",33),l.Xb(20,"span",34),l.Tc(21,"Applicaton Branch"),l.Wb(),l.Wb(),l.Xb(22,"div",33),l.Xb(23,"span",34),l.Tc(24,"Product"),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",35),l.Xb(26,"div",33),l.Xb(27,"span",36),l.Tc(28),l.Wb(),l.Wb(),l.Xb(29,"div",33),l.Xb(30,"span",37),l.Tc(31),l.Wb(),l.Wb(),l.Xb(32,"div",33),l.Xb(33,"span",37),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Sb(35,"br"),l.Wb(),l.Xb(36,"div",31),l.Xb(37,"div",34),l.Xb(38,"div",33),l.Xb(39,"span",34),l.Tc(40,"Account Type"),l.Wb(),l.Wb(),l.Xb(41,"div",33),l.Xb(42,"span",34),l.Tc(43,"Application By"),l.Wb(),l.Wb(),l.Wb(),l.Xb(44,"div",36),l.Xb(45,"div"),l.Xb(46,"div",33),l.Xb(47,"span",37),l.Tc(48),l.Wb(),l.Wb(),l.Xb(49,"div",33),l.Xb(50,"span",37),l.Tc(51),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(7);l.Eb(5),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Xc("",n.firstName," ",n.middleName," ",n.lastName," "),l.Eb(2),l.Uc(n.accountId),l.Eb(17),l.Uc(null==n?null:n.applicationDate),l.Eb(3),l.Uc(null==n?null:n.accountBranch),l.Eb(3),l.Uc(null==n?null:n.businessProductName),l.Eb(14),l.Uc(null==n?null:n.accountType),l.Eb(3),l.Uc(null==n?null:n.createdBy)}}var Ei,Ci=((Ei=function(){function t(e,a,o,i,r,c){n(this,t),this.dialog=e,this.sanitizer=a,this.tasksummaryService=o,this.apiService=i,this.cdr=r,this.route=c,this.statusArr=["ONGOING","BACKLOG","APPROVED","REJECTED"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new l.o,this._searchSubject=new u.a,this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}return i(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t=this;this.apiService.setTask(!0),this.route.queryParamMap.subscribe(function(e){e.get("searchTerm")?(t.redirectedFromTellerSearch=!0,t.searchText=e.get("searchTerm"),t.updateSearch(t.searchText),setTimeout(function(){t.openSearchedApprover()},3e3)):t.getDataOnLoad()})}},{key:"updateSearch",value:function(t){console.log("searchTextValue::",t),this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){t.searchKycid(e)})}},{key:"getDataOnLoad",value:function(){for(var t=0;t<this.statusArr.length;t++)this.getAllAccDetails(this.statusArr[t],0,0)}},{key:"getAllAccDetails",value:function(t,e,a){var n=this;this.tasksummaryService.getAllAccDetails(t).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"ONGOING"==t?(this.ONGOINGArr=e.accountList,this.ONGOINGTotalPages=e.totalPages,this.ONGOINGTotalRecords=e.totalNoOfElements):"BACKLOG"==t?(this.BACKLOGArr=e.accountList,this.BACKLOGTotalPages=e.totalPages,this.BACKLOGTotalRecords=e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=e.accountList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=e.accountList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasksummaryService.getAllAccDetailOnScroll(t,e).subscribe(function(e){n.updateDataOnScroll(t,e.accountList),n.cdr.markForCheck()}):console.log("No scroll requied")}},{key:"gotoapproverpage",value:function(t,e,a){var n=this;this.tasksummaryService.accountStatusData(e),localStorage.setItem("CustomerColorCode",a),this.dialog.open(ni,{panelClass:"full-width-dialog",data:t,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){"REJECTED"!==t.data&&"APPROVED"!==t.data&&"ONGOING"!=t.data&&"BACKLOG"!==t.data||(1==n.redirectedFromTellerSearch?n.updateSearch(n.searchText):n.getDataOnLoad())})}},{key:"searchKycid",value:function(t){var e;if(""===t)return console.log("empty"),this.isScroll=!0,void this.getDataOnLoad();e=this.isNum(t)?"accountId="+this.searchText.trim():"customerName="+this.searchText.trim(),this.isScroll=!1,this.getAccountData(e)}},{key:"getAccountData",value:function(t){var e=this;this.loading=!0,console.log("params :: ",t),this.tasksummaryService.getSearchData(t).subscribe(function(t){e.loading=!1,console.log("resp data :: ",t),e.resetSearchData();for(var a=0;a<t.accountList.length;a++){var n=t.accountList[a];console.log("element ::",n),e.searchResponseUpdate(n.status,t.accountList[a])}})}},{key:"resetSearchData",value:function(){this.ONGOINGArr=[],this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"searchResponseUpdate",value:function(t,e){"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}},{key:"updateDataOnScroll",value:function(t,e){if("ONGOING"==t){console.log("sdsklsdk",e);var a=Qt.unionBy(this.ONGOINGArr,e,"accountId");console.log("result---------------\x3e",a),this.ONGOINGArr=a}else if("BACKLOG"==t){var n=Qt.unionBy(this.BACKLOGArr,e,"accountId");this.BACKLOGArr=n}else if("APPROVED"==t){var o=Qt.unionBy(this.APPROVEDArr,e,"accountId");this.APPROVEDArr=o}else if("REJECTED"==t){var i=Qt.unionBy(this.REJECTEDArr,e,"accountId");this.REJECTEDArr=i}this.cdr.markForCheck()}},{key:"openSearchedApprover",value:function(){var t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(function(t){return 1==t.length});console.log(t),1==t.length&&this.gotoapproverpage(t[0][0],t[0][0].custStatus)}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.ONGOINGArr=[],this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.BACKLOGPage=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalPages=0}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||Ei)(l.Rb(p.b),l.Rb(lo.b),l.Rb(g.a),l.Rb(b.b),l.Rb(l.h),l.Rb(Ze.a))},Ei.\u0275cmp=l.Lb({type:Ei,selectors:[["app-task-summary"]],hostBindings:function(t,e){1&t&&l.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:55,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"headingtext"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchfield"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search AccountID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","matCardbox",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"matCardbox",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[2,"font-size","16px"],[2,"color","green"],[1,"head1"],["fxLayout","column"],["fxLayout","column","fxFlex","100"],["fxLayout","row",1,"col1"],["fxFlex","33",1,"pr3"],[1,"col3"],[1,"col2"],[1,"col4"],[1,"col4","breakWord"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMark1"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-blue","bookMark","bookMark3"]],template:function(t,e){1&t&&(l.Sb(0,"br"),l.Xb(1,"div",0),l.fc("scrolled",function(t){return e.onScroll(t)}),l.Sb(2,"br"),l.Xb(3,"div",1),l.Xb(4,"div",2),l.Xb(5,"div",3),l.Xb(6,"span",4),l.Tc(7," Create Account Task Summary "),l.Wb(),l.Wb(),l.Xb(8,"div",5),l.Xb(9,"mat-form-field",6),l.Xb(10,"mat-label"),l.Tc(11,"Search"),l.Wb(),l.Xb(12,"div",7),l.Xb(13,"input",8),l.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),l.Wb(),l.Rc(14,bi,1,1,"mat-spinner",9),l.Wb(),l.Xb(15,"mat-icon",10),l.Tc(16,"search"),l.Wb(),l.Rc(17,ui,3,0,"button",11),l.Xb(18,"mat-hint"),l.Tc(19,"Search AccountID or Name"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",12),l.Xb(21,"div",13),l.Xb(22,"mat-card",14),l.Xb(23,"div",15),l.Xb(24,"span",16),l.Xb(25,"h2",17),l.Tc(26),l.Wb(),l.Wb(),l.Wb(),l.Xb(27,"div"),l.Rc(28,pi,52,11,"div",18),l.Wb(),l.Sb(29,"br"),l.Wb(),l.Xb(30,"mat-card",14),l.Xb(31,"div",15),l.Xb(32,"span",16),l.Xb(33,"h2",17),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"div"),l.Rc(36,gi,52,11,"div",18),l.Wb(),l.Sb(37,"br"),l.Wb(),l.Xb(38,"mat-card",14),l.Xb(39,"div",15),l.Xb(40,"span",16),l.Xb(41,"h2",17),l.Tc(42),l.Wb(),l.Wb(),l.Wb(),l.Xb(43,"div"),l.Rc(44,Wi,52,11,"div",18),l.Wb(),l.Sb(45,"br"),l.Wb(),l.Xb(46,"mat-card",14),l.Xb(47,"div",15),l.Xb(48,"span",16),l.Xb(49,"h2",17),l.Tc(50),l.Wb(),l.Wb(),l.Wb(),l.Xb(51,"div"),l.Rc(52,Ii,52,11,"div",18),l.Wb(),l.Sb(53,"br"),l.Wb(),l.Wb(),l.Sb(54,"br"),l.Wb(),l.Wb()),2&t&&(l.Eb(1),l.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),l.Eb(12),l.rc("ngModel",e.searchText),l.Eb(1),l.rc("ngIf",e.loading),l.Eb(3),l.rc("ngIf",e.searchText),l.Eb(9),l.Wc("Pending for approval (",e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.BACKLOGArr),l.Eb(6),l.Wc("Ongoing (",e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.ONGOINGArr),l.Eb(6),l.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.APPROVEDArr),l.Eb(6),l.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.REJECTEDArr))},directives:[oi.a,X.e,X.d,X.f,X.b,I.c,I.g,C.b,v.c,v.r,v.u,c.n,T.a,I.i,I.f,E.a,c.m,R.b,A.b,I.j,E.e,E.c,E.h,E.g,v.A,v.s,v.t,li],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#000}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-right:30px;margin-right:30px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{font-size:9px;color:grey}.coldata[_ngcontent-%COMP%]{font-size:9px;color:#000}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:180px;box-sizing:border-box;margin:0 0 10px;padding:0}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.headingtext[_ngcontent-%COMP%]{padding-left:2.2%;padding-top:1%}.searchfield[_ngcontent-%COMP%]{padding-right:5%}.matCardbox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:37vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}.pr3[_ngcontent-%COMP%]{padding-right:3%}.breakWord[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]}),Ei),xi=r("laYw"),Oi=r("yAWA"),Di=r("JC+M");function Ai(t,e){1&t&&l.Sb(0,"mat-spinner",20),2&t&&l.rc("diameter",15)}function Ri(t,e){if(1&t){var a=l.Yb();l.Xb(0,"button",21),l.fc("click",function(){return l.Hc(a),l.jc().clear()}),l.Xb(1,"mat-icon"),l.Tc(2,"close"),l.Wb(),l.Wb()}}function Si(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",40),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function ki(t,e){if(1&t&&l.Sb(0,"img",41),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function Ni(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",22),l.fc("click",function(){l.Hc(a);var t=e.$implicit;return l.jc().goToKycSummary(t.customerId)}),l.Xb(1,"div",23),l.Xb(2,"div",24),l.Xb(3,"mat-icon",25),l.Tc(4,"bookmark"),l.Wb(),l.Xb(5,"span"),l.Xb(6,"small"),l.Tc(7),l.kc(8,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"mat-card-header",26),l.Xb(10,"div",27),l.Rc(11,Si,2,1,"div",28),l.Rc(12,ki,1,1,"ng-template",null,29,l.Sc),l.Wb(),l.Xb(14,"mat-card-title",30),l.Tc(15),l.Wb(),l.Xb(16,"mat-card-subtitle"),l.Xb(17,"span",31),l.Tc(18),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"form",32),l.Xb(20,"div",33),l.Xb(21,"div",34),l.Xb(22,"span"),l.Tc(23,"Verification Type"),l.Wb(),l.Xb(24,"span",35),l.Tc(25,"Biometric"),l.Wb(),l.Wb(),l.Xb(26,"div",34),l.Xb(27,"span"),l.Tc(28,"KYC Status"),l.Wb(),l.Xb(29,"span",35),l.Tc(30),l.Wb(),l.Wb(),l.Wb(),l.Sb(31,"br"),l.Xb(32,"div",36),l.Xb(33,"div",37),l.Xb(34,"span",38),l.Tc(35,"Mobile Number"),l.Wb(),l.Xb(36,"span",39),l.Tc(37),l.Wb(),l.Wb(),l.Xb(38,"div",37),l.Xb(39,"span",38),l.Tc(40,"Email"),l.Wb(),l.Xb(41,"span",39),l.Tc(42),l.Wb(),l.Wb(),l.Wb(),l.Sb(43,"br"),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(13);l.Eb(7),l.Uc(l.lc(8,11,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(3),l.Vc("#",n.customerAdditionalInfo.kycReference,""),l.Eb(12),l.Uc(n.customerAdditionalInfo.kycStatus),l.Eb(7),l.Uc(n.phoneNumber),l.Eb(5),l.Uc(n.primaryEmailAdress)}}function Pi(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",40),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Fi(t,e){if(1&t&&l.Sb(0,"img",41),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function Li(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",22),l.fc("click",function(){l.Hc(a);var t=e.$implicit;return l.jc().goToKycSummary(t.customerId)}),l.Xb(1,"div",23),l.Xb(2,"div",24),l.Xb(3,"mat-icon",42),l.Tc(4,"bookmark"),l.Wb(),l.Xb(5,"span"),l.Xb(6,"small"),l.Tc(7),l.kc(8,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"mat-card-header",26),l.Xb(10,"div",27),l.Rc(11,Pi,2,1,"div",28),l.Rc(12,Fi,1,1,"ng-template",null,29,l.Sc),l.Wb(),l.Xb(14,"mat-card-title",43),l.Tc(15),l.Wb(),l.Xb(16,"mat-card-subtitle"),l.Xb(17,"span",31),l.Tc(18),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"form",32),l.Xb(20,"div",33),l.Xb(21,"div",34),l.Xb(22,"span"),l.Tc(23,"Verification Type"),l.Wb(),l.Xb(24,"span",35),l.Tc(25,"Biometric"),l.Wb(),l.Wb(),l.Xb(26,"div",34),l.Xb(27,"span"),l.Tc(28,"KYC Status"),l.Wb(),l.Xb(29,"span",35),l.Tc(30),l.Wb(),l.Wb(),l.Wb(),l.Sb(31,"br"),l.Xb(32,"div",36),l.Xb(33,"div",37),l.Xb(34,"span",38),l.Tc(35,"Mobile Number"),l.Wb(),l.Xb(36,"span",39),l.Tc(37),l.Wb(),l.Wb(),l.Xb(38,"div",37),l.Xb(39,"span",38),l.Tc(40,"Email"),l.Wb(),l.Xb(41,"span",39),l.Tc(42),l.Wb(),l.Wb(),l.Wb(),l.Sb(43,"br"),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(13);l.Eb(7),l.Uc(l.lc(8,11,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(3),l.Vc("#",n.customerAdditionalInfo.kycReference,""),l.Eb(12),l.Uc(n.customerAdditionalInfo.kycStatus),l.Eb(7),l.Uc(n.phoneNumber),l.Eb(5),l.Uc(n.primaryEmailAdress)}}function _i(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",40),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function wi(t,e){if(1&t&&l.Sb(0,"img",41),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function Ui(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",22),l.fc("click",function(){l.Hc(a);var t=e.$implicit;return l.jc().goToKycSummary(t.customerId)}),l.Xb(1,"div",23),l.Xb(2,"div",24),l.Xb(3,"mat-icon",44),l.Tc(4,"bookmark"),l.Wb(),l.Xb(5,"span"),l.Xb(6,"small"),l.Tc(7),l.kc(8,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"mat-card-header",26),l.Xb(10,"div",27),l.Rc(11,_i,2,1,"div",28),l.Rc(12,wi,1,1,"ng-template",null,29,l.Sc),l.Wb(),l.Xb(14,"mat-card-title",43),l.Tc(15),l.Wb(),l.Xb(16,"mat-card-subtitle"),l.Xb(17,"span",31),l.Tc(18),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"form",32),l.Xb(20,"div",33),l.Xb(21,"div",34),l.Xb(22,"span"),l.Tc(23,"Verification Type"),l.Wb(),l.Xb(24,"span",35),l.Tc(25,"Biometric"),l.Wb(),l.Wb(),l.Xb(26,"div",34),l.Xb(27,"span"),l.Tc(28,"KYC Status"),l.Wb(),l.Xb(29,"span",35),l.Tc(30),l.Wb(),l.Wb(),l.Wb(),l.Sb(31,"br"),l.Xb(32,"div",36),l.Xb(33,"div",37),l.Xb(34,"span",38),l.Tc(35,"Mobile Number"),l.Wb(),l.Xb(36,"span",39),l.Tc(37),l.Wb(),l.Wb(),l.Xb(38,"div",37),l.Xb(39,"span",38),l.Tc(40,"Email"),l.Wb(),l.Xb(41,"span",39),l.Tc(42),l.Wb(),l.Wb(),l.Wb(),l.Sb(43,"br"),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(13);l.Eb(7),l.Uc(l.lc(8,11,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(3),l.Vc("#",n.customerAdditionalInfo.kycReference,""),l.Eb(12),l.Uc(n.customerAdditionalInfo.kycStatus),l.Eb(7),l.Uc(n.phoneNumber),l.Eb(5),l.Uc(n.primaryEmailAdress)}}function Mi(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",40),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Gi(t,e){if(1&t&&l.Sb(0,"img",41),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function Vi(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",22),l.fc("click",function(){l.Hc(a);var t=e.$implicit;return l.jc().goToKycSummary(t.customerId)}),l.Xb(1,"div",23),l.Xb(2,"div",24),l.Xb(3,"mat-icon",45),l.Tc(4,"bookmark"),l.Wb(),l.Xb(5,"span"),l.Xb(6,"small"),l.Tc(7),l.kc(8,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"mat-card-header",26),l.Xb(10,"div",27),l.Rc(11,Mi,2,1,"div",28),l.Rc(12,Gi,1,1,"ng-template",null,29,l.Sc),l.Wb(),l.Xb(14,"mat-card-title",43),l.Tc(15),l.Wb(),l.Xb(16,"mat-card-subtitle"),l.Xb(17,"span",31),l.Tc(18),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"form",32),l.Xb(20,"div",33),l.Xb(21,"div",34),l.Xb(22,"span"),l.Tc(23,"Verification Type"),l.Wb(),l.Xb(24,"span",35),l.Tc(25,"Biometric"),l.Wb(),l.Wb(),l.Xb(26,"div",34),l.Xb(27,"span"),l.Tc(28,"KYC Status"),l.Wb(),l.Xb(29,"span",35),l.Tc(30),l.Wb(),l.Wb(),l.Wb(),l.Sb(31,"br"),l.Xb(32,"div",36),l.Xb(33,"div",37),l.Xb(34,"span",38),l.Tc(35,"Mobile Number"),l.Wb(),l.Xb(36,"span",39),l.Tc(37),l.Wb(),l.Wb(),l.Xb(38,"div",37),l.Xb(39,"span",38),l.Tc(40,"Email"),l.Wb(),l.Xb(41,"span",39),l.Tc(42),l.Wb(),l.Wb(),l.Wb(),l.Sb(43,"br"),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(13);l.Eb(7),l.Uc(l.lc(8,11,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(3),l.Vc("#",n.customerAdditionalInfo.kycReference,""),l.Eb(12),l.Uc(n.customerAdditionalInfo.kycStatus),l.Eb(7),l.Uc(n.phoneNumber),l.Eb(5),l.Uc(n.primaryEmailAdress)}}var ji,Bi=((ji=function(){function t(e,a,o,i,r,c,s,b,d){n(this,t),this.dialog=e,this.dialogService=a,this.apiService=o,this.cdr=i,this.tasSumService=r,this.snack=c,this.sanitizer=s,this.route=d,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.setValue=new l.o,this._searchSubject=new u.a,this.nodataFound=!1,this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.searchable=!1,this.isScroll=!0,this.redirectedFromTellerSearch=!1,this._setSearchSubscription(),b.addSvgIconLiteral("filter_icon",s.bypassSecurityTrustHtml('\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10,13,3,3H21L14,13v6l-4,3Z" fill="none" stroke="#000" stroke-miterlimit="10"/></svg>\n'))}return i(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t=this;this.apiService.setTask(!0),this.route.queryParamMap.subscribe(function(e){e.get("searchTerm")?(t.redirectedFromTellerSearch=!0,t.searchText=e.get("searchTerm"),t.updateSearch(t.searchText),setTimeout(function(){t.openSearchedApprover()},3e3)):t.getDataOnLoad()})}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){t.searchKycid(e),console.log("searchValue :: ",e)})}},{key:"goToKycSummary",value:function(t){var e=this;localStorage.setItem("customerId",t),this.dialog.open(Oi.a,{width:"80%",maxHeight:"100%",backdropClass:"dialog-bg-trans",disableClose:!0}).afterClosed().subscribe(function(t){console.log("The dialog was closed",t),"REJECTED"!==t.data&&"APPROVED"!==t.data&&"INITIATED"!==t.data&&"INITIATED"!==t.data||(1==e.redirectedFromTellerSearch?e.updateSearch(e.searchText):e.getDataOnLoad())})}},{key:"getDataOnLoad",value:function(){for(var t=0;t<this.statusArr.length;t++)this.fetchCustomerByStatus(this.statusArr[t],0,0)}},{key:"fetchCustomerByStatus",value:function(t,e,a){var n=this;this.apiService.getKycTaskSummaryList(t,e,a).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr=e.customerInfoList,this.INITIATEDTotalPages=e.totalPages,this.INITIATEDTotalRecords=e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=e.customerInfoList,this.UNDER_PROCESSTotalPages=e.totalPages,this.UNDER_PROCESSTotalRecords=e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=e.customerInfoList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=e.customerInfoList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),n.updateDataOnScroll(t,e.customerInfoList)}):console.log("No scroll requied")}},{key:"searchKycid",value:function(t){var e,a,n=this;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("kycId"),e="kyc_"+this.searchText.trim(),this.apiService.getKycDetails2(e).subscribe(function(t){console.log(t),null!=t?(a="kycReference="+e,console.log("cif",a)):(console.log("not a cif"),e=n.searchText.trim(),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(function(){n.getKycData(a)},1e3),this.isScroll=!1}},{key:"getKycData",value:function(t){var e=this;this.loading=!0;for(var a=0;a<this.statusArr.length;a++){var n=this.statusArr[a];"INITIATED"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.INITIATEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.INITIATEDArr=[];for(var a=0;a<t.customerInfoList.length;a++)e.INITIATEDArr.push(null==t?void 0:t.customerInfoList[a])}):"UNDER_PROCESS"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.UNDER_PROCESSTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.UNDER_PROCESSArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.UNDER_PROCESSArr.push(t.customerInfoList[a])}):"APPROVED"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.APPROVEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.APPROVEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.APPROVEDArr.push(t.customerInfoList[a])}):"REJECTED"==n&&this.apiService.getKycDetails(t,n).subscribe(function(t){e.REJECTEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.REJECTEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.REJECTEDArr.push(t.customerInfoList[a])})}}},{key:"resetSearchData",value:function(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"clear",value:function(){this.searchText="",this.getDataOnLoad(),this.isScroll=!0}},{key:"updateDataOnScroll",value:function(t,e){if("INITIATED"==t){var a=Qt.unionBy(this.INITIATEDArr,e,"customerId");this.INITIATEDArr=a}else if("UNDER_PROCESS"==t){var n=Qt.unionBy(this.UNDER_PROCESSArr,e,"customerId");this.UNDER_PROCESSArr=n}else if("APPROVED"==t){var o=Qt.unionBy(this.APPROVEDArr,e,"customerId");this.APPROVEDArr=o}else if("REJECTED"==t){var i=Qt.unionBy(this.REJECTEDArr,e,"customerId");this.REJECTEDArr=i}this.cdr.markForCheck()}},{key:"openSearchedApprover",value:function(){var t=[this.REJECTEDArr,this.APPROVEDArr,this.UNDER_PROCESSArr,this.INITIATEDArr].filter(function(t){return 1==t.length});console.log(t),1==t.length&&this.goToKycSummary(t[0][0].customerId)}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||ji)(l.Rb(p.b),l.Rb(xi.a),l.Rb(b.b),l.Rb(l.h),l.Rb(g.a),l.Rb(W.a),l.Rb(lo.b),l.Rb(T.c),l.Rb(Ze.a))},ji.\u0275cmp=l.Lb({type:ji,selectors:[["app-kyc-task-summary"]],hostBindings:function(t,e){1&t&&l.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:57,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","60",1,"pl-50"],[1,"task","ml-24"],["fxLayoutAlign","end center","fxFlex","100","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxLayout","row","fxLayoutGap","10px",1,"search"],["appearance","outline",1,"full-width","search_field"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search ID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],[3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[3,"click"],[1,"graymatcard"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"breakWord",2,"font-size","15px"],[1,"KYCtxt"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxFlex","50","fxLayout","column",1,"pr2"],[1,"col4","breakWord"],["fxLayout","row","fxLayoutGap","10"],["fxLayout","column","fxFlex","50",1,"pr2"],[1,"col3"],[1,"breakWord","col4"],[3,"name"],["alt","",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark",2,"color","darkorange"],[1,"breakWord",2,"font-size","16px"],[1,"fill-color-blue","bookMark",2,"color","#1FBFA9"],[1,"fill-color-blue","bookMark",2,"color","red"]],template:function(t,e){1&t&&(l.Sb(0,"br"),l.Xb(1,"div",0),l.fc("scrolled",function(t){return e.onScroll(t)}),l.Sb(2,"br"),l.Xb(3,"div",1),l.Xb(4,"div",2),l.Xb(5,"div",3),l.Xb(6,"span",4),l.Tc(7," KYC Task Summary "),l.Wb(),l.Wb(),l.Xb(8,"div",5),l.Xb(9,"div",6),l.Xb(10,"mat-form-field",7),l.Xb(11,"mat-label"),l.Tc(12,"Search Records"),l.Wb(),l.Xb(13,"div",8),l.Xb(14,"input",9),l.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),l.Wb(),l.Rc(15,Ai,1,1,"mat-spinner",10),l.Wb(),l.Xb(16,"mat-icon",11),l.Tc(17,"search"),l.Wb(),l.Rc(18,Ri,3,0,"button",12),l.Xb(19,"mat-hint"),l.Tc(20,"Search ID or Name"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(21,"br"),l.Xb(22,"div",13),l.Xb(23,"div",14),l.Xb(24,"mat-card",15),l.Xb(25,"div",16),l.Xb(26,"span",17),l.Xb(27,"h2",18),l.Tc(28),l.Wb(),l.Wb(),l.Wb(),l.Xb(29,"div"),l.Rc(30,Ni,44,13,"div",19),l.Wb(),l.Sb(31,"br"),l.Wb(),l.Xb(32,"mat-card",15),l.Xb(33,"div",16),l.Xb(34,"span",17),l.Xb(35,"h2",18),l.Tc(36),l.Wb(),l.Wb(),l.Wb(),l.Xb(37,"div"),l.Rc(38,Li,44,13,"div",19),l.Wb(),l.Sb(39,"br"),l.Wb(),l.Xb(40,"mat-card",15),l.Xb(41,"div",16),l.Xb(42,"span",17),l.Xb(43,"h2",18),l.Tc(44),l.Wb(),l.Wb(),l.Wb(),l.Xb(45,"div"),l.Rc(46,Ui,44,13,"div",19),l.Wb(),l.Sb(47,"br"),l.Wb(),l.Xb(48,"mat-card",15),l.Xb(49,"div",16),l.Xb(50,"span",17),l.Xb(51,"h2",18),l.Tc(52),l.Wb(),l.Wb(),l.Wb(),l.Xb(53,"div"),l.Rc(54,Vi,44,13,"div",19),l.Wb(),l.Sb(55,"br"),l.Wb(),l.Wb(),l.Sb(56,"br"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(1),l.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),l.Eb(13),l.rc("ngModel",e.searchText),l.Eb(1),l.rc("ngIf",e.loading),l.Eb(3),l.rc("ngIf",e.searchText),l.Eb(10),l.Wc("Pending for approval (",e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.INITIATEDArr),l.Eb(6),l.Wc("Ongoing (",e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.UNDER_PROCESSArr),l.Eb(6),l.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.APPROVEDArr),l.Eb(6),l.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.REJECTEDArr))},directives:[oi.a,X.e,X.f,X.b,X.d,I.c,I.g,C.b,v.c,v.r,v.u,c.n,T.a,I.i,I.f,E.a,c.m,R.b,A.b,I.j,E.e,E.c,E.h,E.g,v.A,v.s,v.t,li],pipes:[Di.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.KYCtxt[_ngcontent-%COMP%]{text-transform:uppercase;color:#1fbfa9;font-size:11px}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#000}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.breakWord[_ngcontent-%COMP%]{overflow-wrap:anywhere}.content[_ngcontent-%COMP%]{padding:10px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.boldClass[_ngcontent-%COMP%]{font-weight:bolder}.innerMatCard[_ngcontent-%COMP%]{width:97%;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%;padding-left:55px;padding-right:55px}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.titleName[_ngcontent-%COMP%]{top:289px;left:492px;width:94px;height:15px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-600) 12px/15px Montserrat;font:normal normal 600 12px/15px Montserrat;color:#000}.fieldName[_ngcontent-%COMP%], .titleName[_ngcontent-%COMP%]{text-align:left;letter-spacing:0;opacity:1}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;font:normal normal medium 9px/11px Montserrat;color:#0f0f0f}.search[_ngcontent-%COMP%]{height:73%;border-radius:5px;margin-left:37.7%}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0!important}.mt-12[_ngcontent-%COMP%]{margin-top:12px}.search_field[_ngcontent-%COMP%]{height:100%;width:259px!important;left:60px;background:#fff}.pl-50[_ngcontent-%COMP%]{padding-left:3.8%;padding-top:1%}.graymatcard[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:42vh}.pr2[_ngcontent-%COMP%]{padding-right:2%}","[_nghost-%COMP%] {\n      \n      background-color: #F5F5F5;\n    }"]}),ji);function zi(t,e){if(1&t&&(l.Xb(0,"mat-option",32),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function qi(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0 \xa0Please Select the Prefix! "),l.Wb())}function Ji(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0 \xa0Enter the First Name "),l.Wb())}function Ki(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0 \xa0Enter the Last Name "),l.Wb())}function $i(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0 \xa0Please Select Date Of Birth "),l.Wb())}function Hi(t,e){if(1&t&&(l.Xb(0,"mat-option",32),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Yi(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0 \xa0Select Marital Status "),l.Wb())}function Zi(t,e){if(1&t&&(l.Xb(0,"mat-option",32),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Qi(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0 \xa0 Select Gender "),l.Wb())}function tr(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0 Prefix and Gender does not match! "),l.Wb())}function er(t,e){if(1&t&&(l.Xb(0,"mat-option",32),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function ar(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0\xa0 Select Nationality "),l.Wb())}function nr(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-hint",34),l.fc("click",function(){l.Hc(a);var t=l.jc();return t.getOtp(t.primaryInfoForm.value)}),l.Tc(1),l.Wb()}if(2&t){var n=l.jc();l.Eb(1),l.Uc(n.emailVerify)}}function or(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0 \xa0 Enter the Primary Email "),l.Wb())}function ir(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," Please Enter valid email address! "),l.Wb())}function rr(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-hint",34),l.fc("click",function(){l.Hc(a);var t=l.jc();return t.getOtpMobile(t.primaryInfoForm.value)}),l.Tc(1),l.Wb()}if(2&t){var n=l.jc();l.Eb(1),l.Uc(n.verify)}}function cr(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0 \xa0 Enter the Mobile Number(maximum 10 digits) "),l.Wb())}function sr(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," Please Enter Mobile Number "),l.Wb())}function lr(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," Mobile number must be 10 digits. "),l.Wb())}function br(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),l.Wb())}var ur,dr=((ur=function(){function t(e,a,o,i,r){n(this,t),this.primaryInfo=e,this.dialogRef=a,this.apiService=o,this.snack=i,this.formBuilder=r,this.arrayCountry=[],this.arrayState=[],this.prefixFlag=!1,this.maxDate=new Date}return i(t,[{key:"ngOnInit",value:function(){console.log(this.primaryInfo),this.customerId=this.primaryInfo.customerId,this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getMaritalStatus("maritial_Status"),this.getCountryName("country"),this.getNationality("nationality"),this.getResidenceDetails("residence"),this.primaryInfo&&this.buildPrimaryInfoForm(this.primaryInfo)}},{key:"buildPrimaryInfoForm",value:function(t){this.primaryInfoForm=this.formBuilder.group({customerId:[this.customerId],prefix:[t?t.prefix:"",[v.z.required]],firstName:[t?t.firstName:"",[v.z.required]],middleName:[t?t.middleName:""],lastName:[t?t.lastName:"",[v.z.required]],dateOfBirth:[t?t.dateOfBirth:"",[v.z.required]],maritalStatus:[t?t.maritalStatus:"",[v.z.required]],gender:[t?t.gender:"",[v.z.required]],nationality:[t?t.nationality:"",[v.z.required]],primaryEmailAdress:[t?t.primaryEmailAdress:"",[v.z.required,v.z.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],phoneNumber:[t?t.phoneNumber:"",[v.z.required]]})}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t})}},{key:"getGenderValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayGender=t})}},{key:"getMaritalStatus",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayMaritalStatus=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName===t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayState.push(t[a].stateName)});break}})}},{key:"getNationality",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.nationalityArray=t})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"onChangePrefix",value:function(t){""!=this.primaryInfoForm.value.gender&&("Mr"==t.value&&"Male"==this.primaryInfoForm.value.gender||("Ms"==t.value||"Mrs"==t.value)&&"Female"==this.primaryInfoForm.value.gender?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})))}},{key:"onChangeGender",value:function(t){"Mr"==this.primaryInfoForm.value.prefix&&"Male"==t.value||("Ms"==this.primaryInfoForm.value.prefix||"Mrs"==this.primaryInfoForm.value.prefix)&&"Female"==t.value?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"onSubmit",value:function(){var t=this,e=new c.f("en-US").transform(this.primaryInfoForm.value.dateOfBirth,"yyyy-MMM-dd");this.primaryInfoForm.value.dateOfBirth=e,this.primaryInfoForm.value.customerSubmit=!1,this.apiService.insertNewUserOnboarding(this.primaryInfoForm.value).subscribe(function(e){console.log(e),t.dialogRef.close({status:"INITIATED",resp:t.primaryInfoForm.value})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||ur)(l.Rb(p.a),l.Rb(p.g),l.Rb(b.b),l.Rb(W.a),l.Rb(v.f))},ur.\u0275cmp=l.Lb({type:ur,selectors:[["app-update-primary-info"]],decls:97,vars:25,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],[1,"full-width"],[1,"hintClass"],[1,"inputClass",2,"max-width","20%"],["formControlName","prefix","required","",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"inputClass"],["type","text","matInput","","formControlName","firstName","required","",3,"keypress"],["type","text","matInput","","formControlName","middleName",3,"keypress"],["type","text","matInput","","formControlName","lastName","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","fxlayoutAlign","start start",1,"full-width"],["fxFlex","90%"],["matInput","","readonly","","formControlName","dateOfBirth","required","",1,"default-background",3,"matDatepicker","max"],["fxFlex","10%"],["matSuffix","",2,"height","0px","line-height","0px",3,"for"],["picker",""],["formControlName","maritalStatus","required",""],["formControlName","gender","required","",3,"selectionChange"],["formControlName","nationality","required",""],["fxFlex","90%","type","email","matInput","","formControlName","primaryEmailAdress","required",""],["fxFlex","10%","class","verification",3,"click",4,"ngIf"],["fxFlex","90%","type","text","onlyNumber","","maxlength","10","minlength","10","matInput","","formControlName","phoneNumber","required","","maxlength","10"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[1,"errorClass"],["fxFlex","10%",1,"verification",3,"click"]],template:function(t,e){if(1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h5",2),l.Tc(4,"Primary Information"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"form",3),l.Xb(7,"div",4),l.Xb(8,"div",5),l.Xb(9,"mat-hint",6),l.Tc(10,"Prefix*"),l.Wb(),l.Xb(11,"mat-card",7),l.Xb(12,"mat-select",8),l.fc("selectionChange",function(t){return e.onChangePrefix(t)}),l.Xb(13,"mat-option",9),l.Tc(14,"Select"),l.Wb(),l.Rc(15,zi,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Rc(16,qi,2,0,"mat-error",11),l.Wb(),l.Xb(17,"div",12),l.Xb(18,"mat-hint",6),l.Tc(19,"First Name*"),l.Wb(),l.Xb(20,"mat-card",13),l.Xb(21,"input",14),l.fc("keypress",function(t){return e.letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(22,Ji,2,0,"mat-error",11),l.Wb(),l.Xb(23,"div",12),l.Xb(24,"mat-hint",6),l.Tc(25,"Middle Name"),l.Wb(),l.Xb(26,"mat-card",13),l.Xb(27,"input",15),l.fc("keypress",function(t){return e.letterOnly(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(28,"div",12),l.Xb(29,"mat-hint",6),l.Tc(30,"Last Name"),l.Wb(),l.Xb(31,"mat-card",13),l.Xb(32,"input",16),l.fc("keypress",function(t){return e.letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(33,Ki,2,0,"mat-error",11),l.Wb(),l.Xb(34,"div",17),l.Xb(35,"mat-hint",6),l.Tc(36,"Date of Birth*"),l.Wb(),l.Xb(37,"mat-card",13),l.Xb(38,"div",18),l.Sb(39,"input",19),l.Wb(),l.Xb(40,"div",20),l.Sb(41,"mat-datepicker-toggle",21),l.Wb(),l.Wb(),l.Rc(42,$i,2,0,"mat-error",11),l.Sb(43,"mat-datepicker",null,22),l.Wb(),l.Xb(45,"div",12),l.Xb(46,"mat-hint",6),l.Tc(47,"Marital Status*"),l.Wb(),l.Xb(48,"mat-card",13),l.Xb(49,"mat-select",23),l.Xb(50,"mat-option",9),l.Tc(51,"Select"),l.Wb(),l.Rc(52,Hi,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Rc(53,Yi,2,0,"mat-error",11),l.Wb(),l.Xb(54,"div",12),l.Xb(55,"mat-hint",6),l.Tc(56,"Gender*"),l.Wb(),l.Xb(57,"mat-card",13),l.Xb(58,"mat-select",24),l.fc("selectionChange",function(t){return e.onChangeGender(t)}),l.Xb(59,"mat-option",9),l.Tc(60,"Select"),l.Wb(),l.Rc(61,Zi,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Rc(62,Qi,2,0,"mat-error",11),l.Rc(63,tr,2,0,"mat-error",11),l.Wb(),l.Xb(64,"div",12),l.Xb(65,"mat-hint",6),l.Tc(66,"Nationality*"),l.Wb(),l.Xb(67,"mat-card",13),l.Xb(68,"mat-select",25),l.Xb(69,"mat-option",9),l.Tc(70,"Select"),l.Wb(),l.Rc(71,er,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Rc(72,ar,2,0,"mat-error",11),l.Wb(),l.Xb(73,"div",12),l.Xb(74,"mat-hint",6),l.Tc(75,"Primary Email*"),l.Wb(),l.Xb(76,"mat-card",13),l.Sb(77,"input",26),l.Rc(78,nr,2,1,"mat-hint",27),l.Wb(),l.Rc(79,or,2,0,"mat-error",11),l.Rc(80,ir,2,0,"mat-error",11),l.Wb(),l.Xb(81,"div",12),l.Xb(82,"mat-hint",6),l.Tc(83,"Mobile Number*"),l.Wb(),l.Xb(84,"mat-card",13),l.Sb(85,"input",28),l.Rc(86,rr,2,1,"mat-hint",27),l.Wb(),l.Rc(87,cr,2,0,"mat-error",11),l.Rc(88,sr,2,0,"mat-error",11),l.Rc(89,lr,2,0,"mat-error",11),l.Rc(90,br,2,0,"mat-error",11),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(91,"div",29),l.Xb(92,"button",30),l.fc("click",function(){return e.onSubmit()}),l.Tc(93,"Save"),l.Wb(),l.Tc(94," \xa0\xa0\xa0 "),l.Xb(95,"button",31),l.fc("click",function(){return e.close()}),l.Tc(96," Cancel "),l.Wb(),l.Wb()),2&t){var a=l.Dc(44);l.Eb(6),l.rc("formGroup",e.primaryInfoForm),l.Eb(9),l.rc("ngForOf",e.arrayPrefix),l.Eb(1),l.rc("ngIf",e.primaryInfoForm.get("prefix").touched&&!e.primaryInfoForm.get("prefix").valid),l.Eb(6),l.rc("ngIf",e.primaryInfoForm.get("firstName")&&e.primaryInfoForm.get("firstName").touched&&!e.primaryInfoForm.get("firstName").valid),l.Eb(11),l.rc("ngIf",e.primaryInfoForm.get("lastName")&&e.primaryInfoForm.get("lastName").touched&&!e.primaryInfoForm.get("lastName").valid),l.Eb(6),l.rc("matDatepicker",a)("max",e.maxDate),l.Eb(2),l.rc("for",a),l.Eb(1),l.rc("ngIf",e.primaryInfoForm.get("dateOfBirth")&&e.primaryInfoForm.get("dateOfBirth").touched&&!e.primaryInfoForm.get("dateOfBirth").valid),l.Eb(10),l.rc("ngForOf",e.arrayMaritalStatus),l.Eb(1),l.rc("ngIf",e.primaryInfoForm.get("maritalStatus")&&e.primaryInfoForm.get("maritalStatus").touched&&!e.primaryInfoForm.get("maritalStatus").valid),l.Eb(8),l.rc("ngForOf",e.arrayGender),l.Eb(1),l.rc("ngIf",e.primaryInfoForm.get("gender")&&e.primaryInfoForm.get("gender").touched&&!e.primaryInfoForm.get("gender").valid),l.Eb(1),l.rc("ngIf",e.prefixFlag),l.Eb(8),l.rc("ngForOf",e.nationalityArray),l.Eb(1),l.rc("ngIf",e.primaryInfoForm.get("nationality")&&e.primaryInfoForm.get("nationality").touched&&!e.primaryInfoForm.get("nationality").valid),l.Eb(6),l.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").valid),l.Eb(1),l.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress")&&e.primaryInfoForm.get("primaryEmailAdress").touched&&!e.primaryInfoForm.get("primaryEmailAdress").valid),l.Eb(1),l.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").hasError("pattern")),l.Eb(6),l.rc("ngIf",e.primaryInfoForm.get("phoneNumber").valid),l.Eb(1),l.rc("ngIf",e.primaryInfoForm.get("phoneNumber").touched&&!e.primaryInfoForm.get("phoneNumber").valid&&!e.primaryInfoForm.get("phoneNumber").hasError("minlength")),l.Eb(1),l.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("required")&&e.primaryInfoForm.get("phoneNumber").touched),l.Eb(1),l.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("pattern")),l.Eb(1),l.rc("ngIf","0000000000"==e.primaryInfoForm.get("phoneNumber").value),l.Eb(2),l.rc("disabled",e.primaryInfoForm.invalid)}},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,I.f,E.a,x.a,v.r,v.i,v.y,S.n,c.m,c.n,X.b,C.b,v.c,O.e,O.g,I.j,O.d,Y.a,v.m,v.n,X.f,A.b,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}"]}),ur);function mr(t,e){1&t&&(l.Xb(0,"h2",32),l.Tc(1,"Comminucation Address"),l.Wb())}function pr(t,e){1&t&&(l.Xb(0,"h2"),l.Tc(1,"Permanent Address"),l.Wb())}function fr(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),l.Wb())}function hr(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),l.Wb())}function gr(t,e){if(1&t&&(l.Xb(0,"mat-option",34),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function vr(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0\xa0\xa0 Select Residence Type "),l.Wb())}function yr(t,e){if(1&t&&(l.Xb(0,"mat-option",34),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Wr(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0\xa0\xa0 Select Country "),l.Wb())}function Xr(t,e){if(1&t&&(l.Xb(0,"mat-option",34),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.stateName),l.Eb(1),l.Vc(" ",a.stateName," ")}}function Tr(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0\xa0\xa0 Please Select State "),l.Wb())}function Ir(t,e){if(1&t&&(l.Xb(0,"mat-option",34),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Er(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0\xa0\xa0 Please Select City "),l.Wb())}function Cr(t,e){1&t&&(l.Xb(0,"mat-error",33),l.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!(5-10 digits) "),l.Wb())}function xr(t,e){1&t&&(l.Xb(0,"h5",35),l.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!"),l.Wb())}function Or(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",8),l.Rc(2,mr,2,0,"h2",9),l.Rc(3,pr,2,0,"h2",10),l.Xb(4,"div",11),l.Xb(5,"div",12),l.Xb(6,"mat-hint",13),l.Tc(7,"Address Line 1 *"),l.Wb(),l.Xb(8,"mat-card",14),l.Sb(9,"textarea",15),l.Wb(),l.Rc(10,fr,2,0,"mat-error",16),l.Wb(),l.Xb(11,"div",12),l.Xb(12,"mat-hint",13),l.Tc(13,"Address Line 2 *"),l.Wb(),l.Xb(14,"mat-card",14),l.Sb(15,"textarea",17),l.Wb(),l.Rc(16,hr,2,0,"mat-error",16),l.Wb(),l.Xb(17,"div",12),l.Xb(18,"mat-hint",13),l.Tc(19,"Residence Type *"),l.Wb(),l.Xb(20,"mat-card",14),l.Xb(21,"mat-select",18),l.Xb(22,"mat-option",19),l.Tc(23," Select"),l.Wb(),l.Rc(24,gr,2,2,"mat-option",20),l.Wb(),l.Wb(),l.Rc(25,vr,2,0,"mat-error",21),l.Wb(),l.Xb(26,"div",12),l.Xb(27,"mat-hint",13),l.Tc(28,"Country *"),l.Wb(),l.Xb(29,"mat-card",14),l.Xb(30,"mat-select",22,23),l.fc("selectionChange",function(t){return l.Hc(a),l.jc().getStateName(t.value,"Communication")})("selectionChange",function(t){return l.Hc(a),l.jc().getCityName(t.value)}),l.Xb(32,"mat-option",19),l.Tc(33," Select"),l.Wb(),l.Rc(34,yr,2,2,"mat-option",20),l.Wb(),l.Wb(),l.Rc(35,Wr,2,0,"mat-error",24),l.Wb(),l.Xb(36,"div",12),l.Xb(37,"mat-hint",13),l.Tc(38,"State*"),l.Wb(),l.Xb(39,"mat-card",14),l.Xb(40,"mat-select",25,26),l.fc("selectionChange",function(t){return l.Hc(a),l.jc().getCityName(t.value,"Communication")}),l.Xb(42,"mat-option",19),l.Tc(43,"Select "),l.Wb(),l.Rc(44,Xr,2,2,"mat-option",20),l.Wb(),l.Wb(),l.Rc(45,Tr,2,0,"mat-error",16),l.Wb(),l.Xb(46,"div",12),l.Xb(47,"mat-hint",13),l.Tc(48,"City*"),l.Wb(),l.Xb(49,"mat-card",14),l.Xb(50,"mat-select",27,28),l.Xb(52,"mat-option",19),l.Tc(53,"Select "),l.Wb(),l.Rc(54,Ir,2,2,"mat-option",20),l.Wb(),l.Wb(),l.Rc(55,Er,2,0,"mat-error",16),l.Wb(),l.Xb(56,"div",12),l.Xb(57,"mat-hint",13),l.Tc(58,"Zip Code*"),l.Wb(),l.Xb(59,"mat-card",14),l.Xb(60,"input",29,30),l.fc("keyup",function(t){l.Hc(a);var n=e.index;return l.jc().isAllSameDigit(t,n)}),l.Wb(),l.Wb(),l.Rc(62,Cr,2,0,"mat-error",24),l.Rc(63,xr,2,0,"h5",31),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.jc();l.Eb(1),l.rc("formGroupName",o),l.Eb(1),l.rc("ngIf",0==o),l.Eb(1),l.rc("ngIf",o>0),l.Eb(7),l.rc("ngIf",n.controls.address1&&n.controls.address1.touched&&!n.controls.address1.valid||n.controls.address1.touched&&n.controls.address1.hasError("pattern")),l.Eb(6),l.rc("ngIf",n.controls.address2&&n.controls.address2.touched&&!n.controls.address2.valid||n.controls.address2.touched&&n.controls.address2.hasError("pattern")),l.Eb(8),l.rc("ngForOf",i.arrayResidence),l.Eb(1),l.rc("ngIf",n.controls.residenceType&&n.controls.residenceType.touched&&!n.controls.residenceType.valid),l.Eb(9),l.rc("ngForOf",i.arrayCountry),l.Eb(1),l.rc("ngIf",n.controls.country&&n.controls.country.touched&&!n.controls.country.valid),l.Eb(9),l.rc("ngForOf",i.arrayState),l.Eb(1),l.rc("ngIf",n.controls.state&&n.controls.state.touched&&!n.controls.state.valid),l.Eb(9),l.rc("ngForOf",i.arrayCity),l.Eb(1),l.rc("ngIf",n.controls.city&&n.controls.city.touched&&!n.controls.city.valid),l.Eb(7),l.rc("ngIf",n.controls.zipCode&&n.controls.zipCode.touched&&!n.controls.zipCode.valid),l.Eb(1),l.rc("ngIf",i.isAllSameDigitVal&&o==i.zipCodeIndex)}}var Dr,Ar,Rr=((Dr=function(){function t(e,a,o,i,r,c,s){n(this,t),this.dialogRef=e,this.contactInfo=a,this.formBuilder=o,this.ls=i,this.apiService=r,this.snack=c,this.cdr=s,this.userAddress_array=new v.d([]),this.arrayCity=[],this.arrayState=[],this.arrayCityPerm=[],this.arrayStatePerm=[],this.arrayCountryPerm=[],this.arrayCountry=[]}return i(t,[{key:"ngOnInit",value:function(){if(console.log(this.contactInfo),this.customerId=this.ls.getItem("customerId"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.contactInfo){this.buildContactInfoForm(),this.userAddress_array=this.contactInfoUpdateForm.get("userAddress_array");for(var t=0;t<this.contactInfo.length;t++)this.getStateName(this.contactInfo[t].country,this.contactInfo[t].addressType),this.getCityName(),this.userAddress_array.push(this.createUserAddress(this.contactInfo[t]))}else this.buildContactInfoForm(),this.userAddress_array.push(this.createUserAddress())}},{key:"buildContactInfoForm",value:function(){this.contactInfoUpdateForm=this.formBuilder.group({userAddress_array:this.formBuilder.array([])})}},{key:"createUserAddress",value:function(t){return this.formBuilder.group({addressType:["Communication",[v.z.required]],address1:[t?t.address1:[""],[v.z.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[v.z.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&(e.arrayCountry.push(t[a].countryName),e.arrayCountryPerm.push(t[a].countryName))})}},{key:"getStateName",value:function(t,e){var a=this;this.apiService.getAllCountries().subscribe(function(n){for(var o=0;o<n.length;o++)if(n[o].countryName==t){a.apiService.getStateByCountryId(n[o].id).subscribe(function(t){"Communication"===e?a.arrayState=t:"Permanent"===e&&(a.arrayStatePerm=t)});break}})}},{key:"getCityName",value:function(){var t=this;this.apiService.getAuthorizedCityInfo().subscribe(function(e){return e.map(function(e){t.arrayCity.push(e.cityName)})})}},{key:"onSubmit",value:function(){var t=this,e={};e.customerId=this.customerId,e.userAddress=this.userAddress_array.value,e.userAddress&&2==e.userAddress.length&&(e.userAddress[1].addressType="Permanent"),this.apiService.insertNewUserOnboarding(e).subscribe(function(a){t.dialogRef.close({status:"INITIATED",resp:e.userAddress})},function(e){t.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"isAllSameDigit",value:function(t,e){console.log("zipIndex :: ",e),this.zipCodeIndex=e,this.cdr.detectChanges();var a=0,n=t.target.value;if(""!=n){for(var o=0;o<n.length;o++)0==n[o]&&a++;console.log("number :: ",n),console.log("isAllSameDigitVal :: ",a,n.length),a==n.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Dr)(l.Rb(p.g),l.Rb(p.a),l.Rb(v.f),l.Rb(m.a),l.Rb(b.b),l.Rb(W.a),l.Rb(l.h))},Dr.\u0275cmp=l.Lb({type:Dr,selectors:[["app-update-contact-info"]],decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["formArrayName","userAddress_array","fxLayout","row wrap",1,"full-width"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row wrap",1,"full-width",3,"formGroupName"],["style","font-size: 18px;",4,"ngIf"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","address1","formControlName","address1","maxlength","255","required",""],["style","color: errorColor;",4,"ngIf"],["matInput","","name","address2","formControlName","address2","maxlength","255","required",""],["name","residenceType","formControlName","residenceType","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["style","color: errorColor",4,"ngIf"],["name","country","formControlName","country","required","",3,"selectionChange"],["country",""],["style","color: errorColor; ",4,"ngIf"],["name","state","required","","formControlName","state",1,"full-width","default-background",3,"selectionChange"],["state",""],["name","city","required","","formControlName","city",1,"full-width","default-background"],["city",""],["type","text","matInput","","name","zipCode","onlyNumber","","required","","minlength","5","maxlength","10","formControlName","zipCode",1,"full-width","default-background",3,"keyup"],["zipCode",""],["style","color: #E74C3C;",4,"ngIf"],[2,"font-size","18px"],[2,"color","errorColor"],[3,"value"],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1"),l.Tc(4,"Contact Information"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"form",2),l.Xb(7,"div",3),l.Rc(8,Or,64,15,"div",4),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"div",5),l.Xb(10,"button",6),l.fc("click",function(){return e.onSubmit()}),l.Tc(11,"Save"),l.Wb(),l.Tc(12," \xa0\xa0\xa0 "),l.Xb(13,"button",7),l.fc("click",function(){return e.close()}),l.Tc(14," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("formGroup",e.contactInfoUpdateForm),l.Eb(2),l.rc("ngForOf",e.contactInfoUpdateForm.get("userAddress_array").controls),l.Eb(2),l.rc("disabled",e.contactInfoUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.e,v.A,v.s,v.j,v.e,c.m,X.f,A.b,v.k,c.n,X.b,I.f,E.a,C.b,v.c,v.r,v.i,v.m,v.y,x.a,S.n,Y.a,v.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Dr),Sr=r("KYk2"),kr=r("uKq3"),Nr=((Ar=function(){function t(e,a,o,i,r){n(this,t),this.ls=e,this.data=a,this.formBuilder=o,this.dialogRef=i,this.doOcrService=r,this.screenInfo={screenName:"onboarding",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"onboarding",data:this.data,customerId:this.customerId,isEdit:!0},this.doOcrService.getenableNext().subscribe(function(e){console.log("data disableNextAtIndex1 :: ",e),t.disableNextAtIndex1=e})}},{key:"createDocItemOthers",value:function(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}},{key:"onSubmit",value:function(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Ar)(l.Rb(m.a),l.Rb(p.a),l.Rb(v.f),l.Rb(p.g),l.Rb(Sr.a))},Ar.\u0275cmp=l.Lb({type:Ar,selectors:[["app-update-proof-of-identity"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h3",2),l.Tc(4,"Proof Of Identity"),l.Wb(),l.Xb(5,"mat-card"),l.Sb(6,"app-genric-document-upload",3),l.Wb(),l.Xb(7,"div",4),l.Xb(8,"button",5),l.fc("click",function(){return e.onSubmit()}),l.Tc(9,"Save"),l.Wb(),l.Tc(10," \xa0\xa0\xa0 "),l.Xb(11,"button",6),l.fc("click",function(){return e.close()}),l.Tc(12," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("screenInfo",e.screenInfo),l.Eb(2),l.rc("disabled",e.disableNextAtIndex1))},directives:[X.e,X.d,T.a,E.a,kr.a,X.f,A.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Ar);function Pr(t,e){if(1&t&&(l.Xb(0,"mat-option",19),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Fr(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," \xa0 \xa0 Select Employment Type "),l.Wb())}function Lr(t,e){if(1&t&&(l.Xb(0,"mat-option",19),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function _r(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," \xa0 \xa0 Select Employment Name "),l.Wb())}function wr(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," \xa0 \xa0 Enter the Employer Name "),l.Wb())}function Ur(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",4),l.Xb(1,"mat-hint",5),l.Tc(2," Other Employer Name*"),l.Wb(),l.Xb(3,"mat-card",6),l.Xb(4,"input",20),l.fc("keypress",function(t){return l.Hc(a),l.jc().letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(5,wr,2,0,"mat-error",10),l.Wb()}if(2&t){var n=l.jc();l.Eb(5),l.rc("ngIf",n.additionalInfoUpdateForm.controls.otherEmployerName&&n.additionalInfoUpdateForm.controls.otherEmployerName.touched&&!n.additionalInfoUpdateForm.controls.otherEmployerName.valid)}}function Mr(t,e){if(1&t&&(l.Xb(0,"mat-option",19),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}var Gr,Vr=((Gr=function(){function t(e,a,o,i,r){n(this,t),this.additionalInfo=e,this.dialogRef=a,this.formBuilder=o,this.apiService=i,this.ls=r,this.kycList=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED","VERIFIED"]}return i(t,[{key:"ngOnInit",value:function(){console.log(this.additionalInfo),this.customerId=this.ls.getItem("customerId"),this.getEmploymentType("employment_type"),this.getEmployerName("employer_name"),this.additionalInfo?(this.buildAdditionalInfoForm(this.additionalInfo),this.OnInput(this.additionalInfoUpdateForm.get("salary").value)):this.buildAdditionalInfoForm()}},{key:"buildAdditionalInfoForm",value:function(t){this.additionalInfoUpdateForm=this.formBuilder.group({employmentType:[t?t.employmentType:"",[v.z.required]],employerName:[t?t.employerName:"",[v.z.required]],otherEmployerName:[t?t.otherEmployerName:""],salary:[t?t.salary:"",[v.z.required]],kycReference:[t?t.kycReference:"",[v.z.required]],kycStatus:[t?t.kycStatus:"",[v.z.required]]})}},{key:"getEmploymentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentType=t,console.log(e.arrayEmploymentType)})}},{key:"getEmployerName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmployerName=t})}},{key:"OnInput",value:function(t){var e=t.toString().replace(/,/g,"").split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");var a=e.join(".");console.log("final",a),this.additionalInfoUpdateForm.controls.salary.setValue(a)}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"_keyPress1",value:function(t){var e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}},{key:"onSubmit",value:function(){var t=this,e={};e.customerId=this.customerId,e.customerAdditionalInfo=this.additionalInfoUpdateForm.value,e.customerAdditionalInfo.salary=e.customerAdditionalInfo.salary.replaceAll(",",""),this.apiService.insertNewUserOnboarding(e).subscribe(function(e){console.log(e),t.dialogRef.close({status:"INITIATED",resp:t.additionalInfoUpdateForm.value})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Gr)(l.Rb(p.a),l.Rb(p.g),l.Rb(v.f),l.Rb(b.b),l.Rb(m.a))},Gr.\u0275cmp=l.Lb({type:Gr,selectors:[["app-update-additional-info"]],decls:57,vars:8,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],[2,"font-size","18px"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","employmentType","required","","formControlName","employmentType"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employerName","formControlName","employerName","required",""],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["type","text","formControlName","salary","maxLength","14","required","","matInput","","name","salary",3,"keypress","keyup"],["readonly","true","type","text","formControlName","kycReference","matInput","","name","kycReference","maxLength","4"],["formControlName","kycStatus","read",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],["required","","type","text","matInput","","formControlName","otherEmployerName",3,"keypress"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1"),l.Tc(4,"Additional Information"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"form",2),l.Xb(7,"div"),l.Xb(8,"h3",3),l.Tc(9,"Employment Information"),l.Wb(),l.Xb(10,"div"),l.Xb(11,"div",4),l.Xb(12,"mat-hint",5),l.Tc(13,"Employment Type*"),l.Wb(),l.Xb(14,"mat-card",6),l.Xb(15,"mat-select",7),l.Xb(16,"mat-option",8),l.Tc(17,"Select"),l.Wb(),l.Rc(18,Pr,2,2,"mat-option",9),l.Wb(),l.Wb(),l.Rc(19,Fr,2,0,"mat-error",10),l.Wb(),l.Xb(20,"div",4),l.Xb(21,"mat-hint",5),l.Tc(22,"Employer Name*"),l.Wb(),l.Xb(23,"mat-card",6),l.Xb(24,"mat-select",11),l.Xb(25,"mat-option",8),l.Tc(26,"Select"),l.Wb(),l.Rc(27,Lr,2,2,"mat-option",9),l.Wb(),l.Wb(),l.Rc(28,_r,2,0,"mat-error",10),l.Wb(),l.Rc(29,Ur,6,1,"div",12),l.Xb(30,"div",4),l.Xb(31,"mat-hint",5),l.Tc(32,"Salary*"),l.Wb(),l.Xb(33,"mat-card",6),l.Xb(34,"input",13),l.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.OnInput(t.target.value)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"h3",3),l.Tc(36,"KYC Information"),l.Wb(),l.Xb(37,"div"),l.Xb(38,"div",4),l.Xb(39,"mat-hint",5),l.Tc(40,"KYC Reference"),l.Wb(),l.Xb(41,"mat-card",6),l.Sb(42,"input",14),l.Wb(),l.Wb(),l.Xb(43,"div",4),l.Xb(44,"mat-hint",5),l.Tc(45,"KYC Status"),l.Wb(),l.Xb(46,"mat-card",6),l.Xb(47,"mat-select",15),l.Xb(48,"mat-option",8),l.Tc(49,"Select "),l.Wb(),l.Rc(50,Mr,2,2,"mat-option",9),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(51,"div",16),l.Xb(52,"button",17),l.fc("click",function(){return e.onSubmit()}),l.Tc(53,"Save"),l.Wb(),l.Tc(54,"\n\xa0\xa0\xa0\n"),l.Xb(55,"button",18),l.fc("click",function(){return e.close()}),l.Tc(56,"\nCancel\n"),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("formGroup",e.additionalInfoUpdateForm),l.Eb(12),l.rc("ngForOf",e.arrayEmploymentType),l.Eb(1),l.rc("ngIf",e.additionalInfoUpdateForm.controls.employmentType&&e.additionalInfoUpdateForm.controls.employmentType.touched&&!e.additionalInfoUpdateForm.controls.employmentType.valid),l.Eb(8),l.rc("ngForOf",e.arrayEmployerName),l.Eb(1),l.rc("ngIf",e.additionalInfoUpdateForm.controls.employerName&&e.additionalInfoUpdateForm.controls.employerName.touched&&!e.additionalInfoUpdateForm.controls.employerName.valid),l.Eb(1),l.rc("ngIf","Others"==(null==e.additionalInfoUpdateForm.controls.employerName?null:e.additionalInfoUpdateForm.controls.employerName.value)),l.Eb(21),l.rc("ngForOf",e.kycList),l.Eb(2),l.rc("disabled",e.additionalInfoUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.e,v.A,v.s,v.j,X.b,I.f,E.a,x.a,v.y,v.r,v.i,S.n,c.m,c.n,v.c,C.b,X.f,A.b,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Gr),jr=r("IheW"),Br=r("zdtB"),zr=r("JVXa");function qr(t,e){if(1&t&&(l.Xb(0,"mat-option",18),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Jr(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," \xa0 \xa0 Enter No of Signatures "),l.Wb())}function Kr(t,e){1&t&&(l.Xb(0,"div"),l.Sb(1,"img",31),l.Wb()),2&t&&(l.Eb(1),l.rc("src","assets/images/no-image.jpg",l.Jc))}function $r(t,e){if(1&t&&l.Sb(0,"img",32),2&t){var a=l.jc().$implicit;l.rc("src",a.value.imageURL1,l.Jc)}}function Hr(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",19),l.Xb(2,"div",20),l.Xb(3,"div",6),l.Xb(4,"div",21),l.Xb(5,"div"),l.Xb(6,"div",22),l.Xb(7,"div"),l.Xb(8,"button",23),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index;return l.jc().openPopUp(t.value,n)}),l.Tc(9,"Digital Sign"),l.Wb(),l.Xb(10,"button",24),l.Tc(11," Upload "),l.Xb(12,"input",25),l.fc("change",function(t){l.Hc(a);var n=e.$implicit,o=e.index;return l.jc().onFileSelect(n.value,t,o)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(13,"div",26),l.Rc(14,Kr,2,1,"div",27),l.Rc(15,$r,1,1,"ng-template",null,28,l.Sc),l.Wb(),l.Xb(17,"button",29),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index;return l.jc().deleteSignature(t.value,n,"delete")}),l.Xb(18,"mat-icon",30),l.Tc(19," delete "),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.index,o=l.Dc(16),i=l.jc();l.Eb(1),l.rc("formGroupName",n),l.Eb(13),l.rc("ngIf","not_available"==i.imageURL1)("ngIfElse",o)}}var Yr,Zr=((Yr=function(){function t(e,a,o,i,r,c,s,l,b,u){n(this,t),this.dialogRef=e,this.formBuilder=a,this.signatures=o,this.apiService=i,this.corporateService=r,this.ls=c,this.dialog=s,this.dialogService=l,this.snack=b,this.cdr=u,this.values=[1,2,3,4,5],this.listOfSignatures=[],this.progressValOthers=0,this.deleteRecord=[]}return i(t,[{key:"ngOnInit",value:function(){if(this.ls.getItem("corporateId"),this.signatures){this.buildSignatureForm(),this.noOfSignSelect=this.signatures.length,this.signatureUpdateForm.get("noOfSignatures").setValue(this.signatures.length);for(var t=0;t<this.signatures.length;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(this.signatures[t]))}}},{key:"buildSignatureForm",value:function(t){this.signatureUpdateForm=this.formBuilder.group({noOfSignatures:[t?t.noOfSignatures:"",[v.z.required]],sign_array:this.formBuilder.array([])})}},{key:"createSignatureBoxes",value:function(t){return this.formBuilder.group({accountSignatureId:t?t.accountSignatureId:0,imageURL1:[t?t.fileUrl:"assets/images/no-image.jpg",v.z.required],documentName:t?t.documentName:"Signature",documentType:t?t.documentType:"",fileType:t.fileType,fileName:t.fileName,verificationType:t?t.verificationType:"New Customer Signature"})}},{key:"getSignArray",get:function(){return this.signatureUpdateForm.get("sign_array")}},{key:"changeValue",value:function(t){var e=this;if(this.noOfSignSelect=t.value,this.enableButton=!1,null==this.signatureUpdateForm.get("sign_array")||null==this.getSignArray)if(0!=this.signatureUpdateForm.get("sign_array").length){if(this.noOfSignSelect>this.signatureUpdateForm.get("sign_array").length)for(var a=this.noOfSignSelect-this.signatureUpdateForm.get("sign_array").length,n=0;n<a;n++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(this.noOfSignSelect<this.signatureUpdateForm.get("sign_array").length){a=this.signatureUpdateForm.get("sign_array").length-this.noOfSignSelect;for(var o=0;o<a;o++)this.signatureUpdateForm.get("sign_array").controls.pop()}}else for(var i=0;i<t.value;i++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(0==this.getSignArray.length)for(var r=0;r<t.value;r++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(t.value<this.getSignArray.length)this.dialogService.doConfirmDialog("Are you sure, value is less than no. of signs?").subscribe(function(a){if("Yes"===a)for(var n=e.getSignArray.length;n>=t.value;n--)e.removeSign(n),n>t.value&&e.deleteSignature(e.signatureUpdateForm.get("sign_array").at(n-1).value,n,"noOfSignChange",t.value)});else if(t.value>this.getSignArray.length){console.log("2nd if",t.value),this.difference=t.value-this.getSignArray.length;for(var c=0;c<this.difference;c++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""))}}},{key:"removeSign",value:function(t){this.signatureUpdateForm.get("sign_array").removeAt(t)}},{key:"deleteSignature",value:function(t,e,a,n){var o=this;"delete"===a?this.dialogService.doConfirmDialog("").subscribe(function(n){"Yes"===n?(console.log("yes => ",n),o.confirmDelete(t,e,a,o.signatureUpdateForm.controls.noOfSignatures.value-1)):console.log("no => ",n)}):this.confirmDelete(t,e,a,this.signatureUpdateForm.controls.noOfSignatures.value-1)}},{key:"confirmDelete",value:function(t,e,a,n){var o=this;this.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(function(a){if(console.log(a),o.listOfSignatures=a||[],o.deleteRecord=a,o.apiService.getSignData().subscribe(function(t){o.signatureUpdateForm.get("sign_array").controls[e].accountSignatureId=t.uploadModel.accountSignatureId}),t.imageURL1.toString().includes("no-image.jpg"))return o.signatureUpdateForm.get("sign_array").controls.splice(e,1),o.signatureUpdateForm.controls.noOfSignatures.setValue(o.signatureUpdateForm.controls.noOfSignatures.value-1),o.noOfSignSelect=o.signatureUpdateForm.controls.noOfSignatures.value,void(o.enableButton=o.sign_array.length==o.signatureUpdateForm.controls.noOfSignatures.value);0!=o.deleteRecord[e].accountSignatureId&&null!=o.deleteRecord[e].accountSignatureId&&null!=o.deleteRecord[e].accountSignatureId&&""!=o.deleteRecord[e].accountSignatureId&&(o.apiService.deleteCustomerSign(o.deleteRecord[e].accountSignatureId).subscribe(function(t){},function(t){o.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(function(t){o.listOfSignatures=t||[],o.sign_array=t,o.enableButton=o.sign_array.length==o.signatureUpdateForm.controls.noOfSignatures.value&&(0!==o.listOfSignatures.length||0!==o.signatureUpdateForm.controls.noOfSignatures.value)})}),o.signatureUpdateForm.get("sign_array").controls.splice(e,1),o.signatureUpdateForm.controls.noOfSignatures.setValue(o.signatureUpdateForm.controls.noOfSignatures.value-1),o.noOfSignSelect=o.signatureUpdateForm.controls.noOfSignatures.value)})}},{key:"openPopUp",value:function(t,e,a){var n,o=this;this.signIndex=e,this.customerId=localStorage.getItem("customerId"),this.signCount=localStorage.getItem("noOfSign"),this.accountSignatureId=t.accountSignatureId?t.accountSignatureId:null,this.enableButton=!1,1==this.listOfSignatures.length&&0==e?this.accountSignatureId=this.listOfSignatures[e].accountSignatureId:e>=0&&this.listOfSignatures.length>1?this.accountSignatureId=(null===(n=this.listOfSignatures[e])||void 0===n?void 0:n.accountSignatureId)?this.listOfSignatures[e].accountSignatureId:0:(console.log("else"),this.accountSignatureId=0),this.show||this.dialog.open(Br.a,{width:"720px",disableClose:!0,data:{screen:"NewCustomerOnboarding",customerId:this.customerId,signCount:this.signatureUpdateForm.get("noOfSignatures").value,accountSignatureId:this.accountSignatureId,signatureType:"DigitalSign"}}).afterClosed().subscribe(function(t){null!=t.image?(o.enableButton=!0,o.signatureUpdateForm.get("sign_array").at(e).get("imageURL1").patchValue(t.image),o.show=!t.enable,o.getListOfSignatures(o.customerId,"Yes")):o.enableButton=!1})}},{key:"getListOfSignatures",value:function(t,e){var a=this;this.apiService.fetchSignatureInfo(t).subscribe(function(t){"Yes"===e&&(a.signatureUpdateForm.get("sign_array").controls[a.signIndex].accountSignatureId=t[t.length-1].accountSignatureId),a.listOfSignatures=t||[],a.cdr.detectChanges(),a.signatureUpdateForm.get("noOfSignatures").setValue(a.noOfSignSelect),a.enableButton=a.listOfSignatures.length==a.noOfSignSelect})}},{key:"onFileSelect",value:function(t,e,a){var n=this;if(this.apiService.fetchSignatureInfo(this.customerId).subscribe(function(t){}),this.selectedFiles=e.target.files[0],e.target.files){var o=new FileReader;o.readAsDataURL(e.target.files[0]),o.onload=function(t){n.signatureimg=t.target.result,console.log(n.signatureimg,"Upload image")},console.log(this.signatureimg),this.uploadDoc(t,e.target.files[0],this.selectedFiles,a,e),console.log("sign array -- ",this.signatureUpdateForm.get("sign_array"))}}},{key:"uploadDoc",value:function(t,e,a,n,o){var i=this;if(o.target.files){var r=new FileReader;r.readAsDataURL(o.target.files[0]),r.onload=function(t){i.signatureimg=t.target.result,i.customerId=localStorage.getItem("customerId"),i.signCount=i.signatureUpdateForm.get("noOfSignatures").value;var o=new FormData,r=new FormData;1==i.listOfSignatures.length&&0==n?(console.log("if"),i.accountSignatureId=i.listOfSignatures[n].accountSignatureId):n>=0&&1!=i.listOfSignatures.length?(console.log(" else if"),i.accountSignatureId=i.listOfSignatures[n].accountSignatureId):(console.log("else"),i.accountSignatureId=0);var c={noOfSignatures:i.signCount,accountSignatureId:i.accountSignatureId,documentName:"Signature",customerId:i.customerId,documentType:"10",fileType:e.type,fileName:e.name,verificationType:"New Customer Signature",signatureType:"Uploaded Sign"};o.append("noOfSignatures",i.signCount),o.append("uploadModel",JSON.stringify(c)),o.append("file",a);var s='{"noOfSignatures":'+i.signCount+', "uploadModel":'+JSON.stringify(c)+" } ";r.append("data",s),r.append("file",a),i.signatureUpdateForm.get("sign_array").at(n).get("imageURL1").patchValue(i.signatureimg),i.uploadSub=i.apiService.uploadSignature(r).subscribe(function(t){null!==t&&(i.signatureUpdateForm.get("sign_array").at(n).get("accountSignatureId").patchValue(t.accountSignatureId),i.signatureUpdateForm.get("sign_array").at(n).get("documentName").patchValue(t.documentName),i.signatureUpdateForm.get("sign_array").at(n).get("documentType").patchValue(t.documentType),i.signatureUpdateForm.get("sign_array").at(n).get("fileType").patchValue(t.fileType),i.signatureUpdateForm.get("sign_array").at(n).get("fileName").patchValue(t.fileName),i.signatureUpdateForm.get("sign_array").at(n).get("verificationType").patchValue(t.verificationType),i.signatureUpdateForm.get("noOfSignatures").patchValue(t.noOfSignatures),console.log(i.signatureUpdateForm)),i.getListOfSignatures(i.customerId,"No"),t.type==jr.e.UploadProgress?i.progressValOthers=Math.round(t.loaded/t.total*100):t.type==jr.e.Response&&(i.progressValOthers=0)},function(t){201==t.status?i.shotToast("Document Uploaded!"):(i.signatureUpdateForm.get("sign_array").at(n).get("imageURL1").patchValue(""),i.shotToast(t.message))})}}}},{key:"onSubmit",value:function(){this.snack.open("Signature Updated","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:this.signatureUpdateForm.get("sign_array").value,screen:"signatureUpload"})}},{key:"shotToast",value:function(t){this.snack.open(""+t,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Yr)(l.Rb(p.g),l.Rb(v.f),l.Rb(p.a),l.Rb(b.b),l.Rb(zr.a),l.Rb(m.a),l.Rb(p.b),l.Rb(xi.a),l.Rb(W.a),l.Rb(l.h))},Yr.\u0275cmp=l.Lb({type:Yr,selectors:[["app-update-mandate-info"]],decls:26,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[2,"font-size","16px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","36%","fxFlex.xs","100%"],[2,"padding-left","0.8rem","font-size","10px"],[1,"inputCard"],["name","noOfSignatures","formControlName","noOfSignatures","placeholder","Choose No. of Signatures","required","",1,"full-width","default-background",2,"font-size","16px","border","transparent",3,"selectionChange"],["noOfSignatures",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formArrayName","sign_array"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],[1,"form"],[1,"flex-grow-2"],["appearence","outline",1,"scanButton",3,"click"],[1,"Upload","scanButton"],["type","file","accept","image/*","required","",1,"changeInput",3,"change"],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","",2,"margin-left","10px","margin-top","30px",3,"click"],[2,"color","red"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Mandate Information"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"h3",3),l.Tc(7," Signatures "),l.Wb(),l.Xb(8,"form",4),l.Xb(9,"div",5),l.Xb(10,"div",6),l.Xb(11,"mat-hint",7),l.Tc(12," No. of Signatures* "),l.Wb(),l.Xb(13,"mat-card",8),l.Xb(14,"mat-select",9,10),l.fc("selectionChange",function(t){return e.changeValue(t)}),l.Rc(16,qr,2,2,"mat-option",11),l.Wb(),l.Wb(),l.Rc(17,Jr,2,0,"mat-error",12),l.Wb(),l.Wb(),l.Xb(18,"div",13),l.Rc(19,Hr,20,3,"div",14),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",15),l.Xb(21,"button",16),l.fc("click",function(){return e.onSubmit()}),l.Tc(22,"Save"),l.Wb(),l.Tc(23," \xa0\xa0\xa0 "),l.Xb(24,"button",17),l.fc("click",function(){return e.close()}),l.Tc(25," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(8),l.rc("formGroup",e.signatureUpdateForm),l.Eb(8),l.rc("ngForOf",e.values),l.Eb(1),l.rc("ngIf",e.signatureUpdateForm.controls.noOfSignatures&&e.signatureUpdateForm.controls.noOfSignatures.touched&&!e.signatureUpdateForm.controls.noOfSignatures.valid),l.Eb(2),l.rc("ngForOf",e.signatureUpdateForm.get("sign_array").controls))},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,x.a,v.r,v.i,v.y,c.m,c.n,v.e,X.f,A.b,S.n,I.b,v.k],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}.padding[_ngcontent-%COMP%]{padding:10px}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.formImg[_ngcontent-%COMP%]{background-color:#f8f8f8}.closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Yr),Qr=["ncForm"];function tc(t,e){1&t&&l.Sb(0,"mat-spinner")}function ec(t,e){if(1&t&&(l.Xb(0,"span",27),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.Eb(1),l.Uc(a)}}function ac(t,e){if(1&t&&(l.Xb(0,"div",28),l.Xb(1,"h1",29),l.Tc(2),l.kc(3,"slice"),l.kc(4,"uppercase"),l.kc(5,"slice"),l.kc(6,"uppercase"),l.Wb(),l.Wb()),2&t){var a=l.jc();l.Oc("background",a.customerColorCode),l.Eb(2),l.Wc("",l.nc(3,4,l.lc(4,8,a.dataResponse.dataResp.firstName),0,1),"",l.nc(5,10,l.lc(6,14,a.dataResponse.dataResp.lastName),0,1),"")}}function nc(t,e){if(1&t&&l.Sb(0,"img",31),2&t){var a=l.jc(2);l.rc("src",a.imageUrl,l.Jc)}}function oc(t,e){if(1&t&&(l.Xb(0,"div",28),l.Rc(1,nc,1,1,"img",30),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.rc("ngIf",null!=a.image)}}function ic(t,e){if(1&t&&(l.Xb(0,"div",50),l.Xb(1,"mat-hint",51),l.Tc(2," Middle Name "),l.Wb(),l.Xb(3,"mat-card",52),l.Xb(4,"div"),l.Tc(5),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Eb(5),l.Uc(a.dataResponse.dataResp.middleName)}}function rc(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",32),l.Xb(1,"div",33),l.Xb(2,"div",34),l.Tc(3,"1"),l.Wb(),l.Xb(4,"div",35),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"mat-card",36),l.Xb(7,"div",37),l.Xb(8,"div",38),l.Xb(9,"div",39),l.Xb(10,"h2",40),l.Tc(11,"Primary Information"),l.Wb(),l.Xb(12,"span"),l.Xb(13,"mat-icon",41),l.fc("click",function(){return l.Hc(a),l.jc().editPrimaryInfo()}),l.Tc(14,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(15,"mat-divider",42),l.Wb(),l.Xb(16,"div",43),l.Xb(17,"div",44),l.Xb(18,"div",45),l.Xb(19,"div",46),l.Xb(20,"div",47),l.Xb(21,"div",48),l.Xb(22,"div",49),l.Xb(23,"div",50),l.Xb(24,"mat-hint",51),l.Tc(25," Customer Id "),l.Wb(),l.Xb(26,"mat-card",52),l.Xb(27,"div"),l.Tc(28),l.Wb(),l.Wb(),l.Wb(),l.Xb(29,"div",50),l.Xb(30,"mat-hint",51),l.Tc(31," Customer Status "),l.Wb(),l.Xb(32,"mat-card",52),l.Xb(33,"div"),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"div",49),l.Xb(36,"div",50),l.Xb(37,"mat-hint",51),l.Tc(38," Prefix* "),l.Wb(),l.Xb(39,"mat-card",52),l.Xb(40,"div"),l.Tc(41),l.Wb(),l.Wb(),l.Wb(),l.Xb(42,"div",50),l.Xb(43,"mat-hint",51),l.Tc(44," First Name* "),l.Wb(),l.Xb(45,"mat-card",52),l.Xb(46,"div"),l.Tc(47),l.Wb(),l.Wb(),l.Wb(),l.Rc(48,ic,6,1,"div",53),l.Xb(49,"div",50),l.Xb(50,"mat-hint",51),l.Tc(51," Last Name* "),l.Wb(),l.Xb(52,"mat-card",52),l.Xb(53,"div"),l.Tc(54),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(55,"div",49),l.Xb(56,"div",50),l.Xb(57,"mat-hint",51),l.Tc(58," Gender* "),l.Wb(),l.Xb(59,"mat-card",52),l.Xb(60,"div"),l.Tc(61),l.Wb(),l.Wb(),l.Wb(),l.Xb(62,"div",50),l.Xb(63,"mat-hint",51),l.Tc(64," Date of Birth* "),l.Wb(),l.Xb(65,"mat-card",52),l.Xb(66,"div"),l.Tc(67),l.Wb(),l.Wb(),l.Wb(),l.Xb(68,"div",50),l.Xb(69,"mat-hint",51),l.Tc(70," Marital Status* "),l.Wb(),l.Xb(71,"mat-card",52),l.Xb(72,"div"),l.Tc(73),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(74,"div",43),l.Xb(75,"div",50),l.Xb(76,"mat-hint",51),l.Tc(77," Nationality*"),l.Wb(),l.Xb(78,"mat-card",52),l.Xb(79,"div"),l.Tc(80),l.Wb(),l.Wb(),l.Wb(),l.Xb(81,"div",50),l.Xb(82,"mat-hint",51),l.Tc(83," Mobile Number* "),l.Wb(),l.Xb(84,"mat-card",52),l.Xb(85,"div"),l.Tc(86),l.Wb(),l.Wb(),l.Wb(),l.Xb(87,"div",50),l.Xb(88,"mat-hint",51),l.Tc(89," Email* "),l.Wb(),l.Xb(90,"mat-card",52),l.Xb(91,"div"),l.Tc(92),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(93,"div",43),l.Xb(94,"div",50),l.Xb(95,"mat-hint",51),l.Tc(96," Modification No"),l.Wb(),l.Xb(97,"mat-card",52),l.Xb(98,"div"),l.Tc(99),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(13),l.rc("hidden",n.editScreen),l.Eb(15),l.Uc(n.dataResponse.dataResp.customerId),l.Eb(6),l.Uc(n.dataResponse.dataResp.custStatus),l.Eb(7),l.Uc(n.dataResponse.dataResp.prefix),l.Eb(6),l.Uc(n.dataResponse.dataResp.firstName),l.Eb(1),l.rc("ngIf",n.dataResponse.dataResp.middleName),l.Eb(6),l.Uc(n.dataResponse.dataResp.lastName),l.Eb(7),l.Uc(n.dataResponse.dataResp.gender),l.Eb(6),l.Uc(n.dataResponse.dataResp.dateOfBirth),l.Eb(6),l.Uc(n.dataResponse.dataResp.maritalStatus),l.Eb(7),l.Uc(n.dataResponse.dataResp.nationality),l.Eb(6),l.Uc(n.dataResponse.dataResp.phoneNumber),l.Eb(6),l.Uc(n.dataResponse.dataResp.primaryEmailAdress),l.Eb(7),l.Uc(n.dataResponse.dataResp.modificationNo)}}function cc(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div",43),l.Xb(2,"div",44),l.Xb(3,"div",58),l.Xb(4,"div",43),l.Xb(5,"div",59),l.Xb(6,"h2",60),l.Tc(7),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"div",43),l.Xb(9,"div",61),l.Xb(10,"mat-hint",51),l.Tc(11," Address Line 1* "),l.Wb(),l.Xb(12,"mat-card",52),l.Xb(13,"div"),l.Tc(14),l.Wb(),l.Wb(),l.Wb(),l.Xb(15,"div",61),l.Xb(16,"mat-hint",51),l.Tc(17," Address Line 2* "),l.Wb(),l.Xb(18,"mat-card",52),l.Xb(19,"div"),l.Tc(20),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(21,"div",43),l.Xb(22,"div",62),l.Xb(23,"mat-hint",51),l.Tc(24," Country* "),l.Wb(),l.Xb(25,"mat-card",52),l.Xb(26,"div"),l.Tc(27),l.Wb(),l.Wb(),l.Wb(),l.Xb(28,"div",62),l.Xb(29,"mat-hint",51),l.Tc(30," State* "),l.Wb(),l.Xb(31,"mat-card",52),l.Xb(32,"div"),l.Tc(33),l.Wb(),l.Wb(),l.Wb(),l.Xb(34,"div",62),l.Xb(35,"mat-hint",51),l.Tc(36," City* "),l.Wb(),l.Xb(37,"mat-card",52),l.Xb(38,"div"),l.Tc(39),l.Wb(),l.Wb(),l.Wb(),l.Xb(40,"div",62),l.Xb(41,"mat-hint",51),l.Tc(42," Zipcode* "),l.Wb(),l.Xb(43,"mat-card",52),l.Xb(44,"div"),l.Tc(45),l.Wb(),l.Wb(),l.Wb(),l.Xb(46,"div",62),l.Xb(47,"mat-hint",51),l.Tc(48," Residence Type* "),l.Wb(),l.Xb(49,"mat-card",52),l.Xb(50,"div"),l.Tc(51),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(7),l.Uc(a.addressType),l.Eb(7),l.Uc(a.address1),l.Eb(6),l.Uc(a.address2),l.Eb(7),l.Uc(a.country),l.Eb(6),l.Uc(a.state),l.Eb(6),l.Uc(a.city),l.Eb(6),l.Uc(a.zipCode),l.Eb(6),l.Uc(a.residenceType)}}function sc(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",32),l.Xb(1,"div",33),l.Xb(2,"div",34),l.Tc(3,"2"),l.Wb(),l.Xb(4,"div",35),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"mat-card",54),l.Xb(7,"div",37),l.Xb(8,"div",55),l.Xb(9,"div",56),l.Xb(10,"div",39),l.Xb(11,"h2",40),l.Tc(12,"Contact Information"),l.Wb(),l.Xb(13,"span"),l.Xb(14,"mat-icon",41),l.fc("click",function(){return l.Hc(a),l.jc().editContactInfo()}),l.Tc(15,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(16,"mat-divider",42),l.Wb(),l.Rc(17,cc,52,8,"div",57),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(14),l.rc("hidden",n.editScreen),l.Eb(3),l.rc("ngForOf",n.userAddress_array)}}function lc(t,e){1&t&&(l.Xb(0,"small",66),l.Tc(1,"No Data Found"),l.Wb())}function bc(t,e){if(1&t&&(l.Xb(0,"div",46),l.Xb(1,"div",50),l.Xb(2,"mat-hint",51),l.Tc(3," Document type* "),l.Wb(),l.Xb(4,"mat-card",52),l.Xb(5,"div"),l.Tc(6),l.Wb(),l.Wb(),l.Wb(),l.Xb(7,"div",50),l.Xb(8,"div",68),l.Sb(9,"img",69),l.Xb(10,"div"),l.Tc(11),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"div",50),l.Xb(13,"div",70),l.Xb(14,"a",71),l.Tc(15,"Download "),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(6),l.Uc(a.documentName),l.Eb(3),l.rc("src",a.fileUrl,l.Jc),l.Eb(2),l.Uc(a.fileName),l.Eb(3),l.sc("href",a.fileUrl,l.Jc)}}function uc(t,e){if(1&t&&(l.Xb(0,"div"),l.Rc(1,bc,16,4,"div",67),l.Wb()),2&t){var a=l.jc(2);l.Eb(1),l.rc("ngForOf",a.custOtherDoc_array)}}function dc(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",32),l.Xb(1,"div",33),l.Xb(2,"div",34),l.Tc(3,"3"),l.Wb(),l.Xb(4,"div",35),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"mat-card",63),l.Xb(7,"div",55),l.Xb(8,"div",56),l.Xb(9,"div",39),l.Xb(10,"h2",40),l.Tc(11,"Proof Of Identity"),l.Wb(),l.Xb(12,"span"),l.Xb(13,"mat-icon",41),l.fc("click",function(){return l.Hc(a),l.jc().editProofOfIdentity()}),l.Tc(14,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(15,"mat-divider",42),l.Wb(),l.Xb(16,"div"),l.Xb(17,"div",64),l.Xb(18,"div",58),l.Rc(19,lc,2,0,"small",65),l.Rc(20,uc,2,1,"div",1),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(13),l.rc("hidden",n.editScreen),l.Eb(6),l.rc("ngIf",null==n.custOtherDoc_array),l.Eb(1),l.rc("ngIf",null!=n.custOtherDoc_array&&(null==n.custOtherDoc_array?null:n.custOtherDoc_array.length)>0)}}function mc(t,e){if(1&t&&(l.Xb(0,"div",78),l.Xb(1,"mat-hint",51),l.Tc(2," Other Employer name* "),l.Wb(),l.Xb(3,"mat-card",52),l.Tc(4),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Eb(4),l.Vc(" ",a.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName," ")}}function pc(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",32),l.Xb(1,"div",33),l.Xb(2,"div",34),l.Tc(3,"4"),l.Wb(),l.Xb(4,"div",35),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"mat-card",72),l.Xb(7,"div",55),l.Xb(8,"div",56),l.Xb(9,"div",39),l.Xb(10,"h2",40),l.Tc(11,"Additional Information"),l.Wb(),l.Xb(12,"span"),l.Xb(13,"mat-icon",41),l.fc("click",function(){return l.Hc(a),l.jc().editAdditionalInfo()}),l.Tc(14,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(15,"mat-divider",42),l.Wb(),l.Xb(16,"div"),l.Xb(17,"div",64),l.Xb(18,"div",47),l.Xb(19,"div",73),l.Xb(20,"div",43),l.Xb(21,"div",59),l.Xb(22,"h2",60),l.Tc(23,"Employment Information "),l.Wb(),l.Wb(),l.Wb(),l.Xb(24,"div",43),l.Xb(25,"div",50),l.Xb(26,"mat-hint",51),l.Tc(27," Employment Type* "),l.Wb(),l.Xb(28,"mat-card",52),l.Xb(29,"div"),l.Tc(30),l.Wb(),l.Wb(),l.Wb(),l.Xb(31,"div",50),l.Xb(32,"mat-hint",51),l.Tc(33," Employer Name* "),l.Wb(),l.Xb(34,"mat-card",52),l.Xb(35,"div"),l.Tc(36),l.Wb(),l.Wb(),l.Wb(),l.Rc(37,mc,5,1,"div",74),l.Xb(38,"div",50),l.Xb(39,"mat-hint",51),l.Tc(40," Salary* "),l.Wb(),l.Xb(41,"mat-card",52),l.Xb(42,"div"),l.Tc(43),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Tc(44,"\xa0\xa0\xa0\xa0 "),l.Xb(45,"div",75),l.Xb(46,"div",43),l.Xb(47,"div",59),l.Xb(48,"h2",60),l.Tc(49,"KYC Information"),l.Wb(),l.Wb(),l.Wb(),l.Xb(50,"div",43),l.Xb(51,"div",61),l.Xb(52,"mat-hint",51),l.Tc(53," KYC Reference* "),l.Wb(),l.Xb(54,"mat-card",52),l.Xb(55,"div"),l.Tc(56),l.Wb(),l.Wb(),l.Wb(),l.Xb(57,"div",61),l.Xb(58,"mat-hint",51),l.Tc(59," KYC Status* "),l.Wb(),l.Xb(60,"mat-card",76),l.Xb(61,"div",77),l.Tc(62),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(13),l.rc("hidden",n.editScreen),l.Eb(17),l.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.employmentType," "),l.Eb(6),l.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.employerName," "),l.Eb(1),l.rc("ngIf",n.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName),l.Eb(6),l.Vc("",n.dataResponse.dataResp.customerAdditionalInfo.salary," "),l.Eb(13),l.Vc(" ",n.dataResponse.dataResp.customerAdditionalInfo.kycReference," "),l.Eb(6),l.Vc(" ",n.kycStatus," ")}}function fc(t,e){1&t&&(l.Xb(0,"small",66),l.Tc(1,"No Signatures Available "),l.Wb())}function hc(t,e){1&t&&(l.Xb(0,"div"),l.Sb(1,"img",86),l.Wb()),2&t&&(l.Eb(1),l.rc("src","assets/images/no-image.jpg",l.Jc))}function gc(t,e){if(1&t&&l.Sb(0,"img",87),2&t){var a=l.jc().$implicit;l.rc("src",a.fileUrl,l.Jc)}}function vc(t,e){if(1&t&&(l.Xb(0,"div",43),l.Xb(1,"div"),l.Tc(2),l.Wb(),l.Xb(3,"div",83),l.Rc(4,hc,2,1,"div",84),l.Rc(5,gc,1,1,"ng-template",null,85,l.Sc),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=l.Dc(6);l.Eb(2),l.Vc(" ",a.signatureType," "),l.Eb(2),l.rc("ngIf",null==a.fileUrl)("ngIfElse",n)}}function yc(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div"),l.Xb(2,"div"),l.Xb(3,"div"),l.Rc(4,vc,7,3,"div",82),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Eb(4),l.rc("ngForOf",a.signatureDetails_array)}}function Wc(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",32),l.Xb(1,"div",33),l.Xb(2,"div",34),l.Tc(3,"5"),l.Wb(),l.Xb(4,"div",35),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"mat-card",72),l.Xb(7,"div",55),l.Xb(8,"div",56),l.Xb(9,"div",39),l.Xb(10,"h2",40),l.Tc(11,"Mandate Information"),l.Wb(),l.Xb(12,"span"),l.Xb(13,"mat-icon",41),l.fc("click",function(){return l.Hc(a),l.jc().editMandateInfo()}),l.Tc(14,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(15,"mat-divider",42),l.Wb(),l.Xb(16,"div"),l.Xb(17,"div",64),l.Xb(18,"div",47),l.Xb(19,"div",73),l.Sb(20,"div",43),l.Xb(21,"div",43),l.Xb(22,"div",50),l.Xb(23,"mat-hint",51),l.Tc(24," No of Signatures* "),l.Wb(),l.Xb(25,"mat-card",52),l.Xb(26,"div"),l.Tc(27),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Tc(28,"\xa0\xa0\xa0\xa0 "),l.Wb(),l.Wb(),l.Wb(),l.Xb(29,"div",64),l.Xb(30,"div",79),l.Xb(31,"div",80),l.Xb(32,"div",81),l.Xb(33,"h2",60),l.Tc(34,"Signatures"),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"div"),l.Rc(36,fc,2,0,"small",65),l.Rc(37,yc,5,1,"div",1),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(13),l.rc("hidden",n.editScreen),l.Eb(14),l.Vc(" ",n.noOFSigns," "),l.Eb(9),l.rc("ngIf",null==n.signatureDetails_array),l.Eb(1),l.rc("ngIf",null!=n.signatureDetails_array&&(null==n.signatureDetails_array?null:n.signatureDetails_array.length)>0)}}var Xc=function(t,e){return{disabledbtn:t,continueBtn:e}},Tc=function(t,e){return{disabledbtn:t,rejectButton:e}},Ic=function(t,e){return{disabledbtn:t,approveButton:e}};function Ec(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",88),l.Xb(1,"div",89),l.fc("click",function(){return l.Hc(a),l.jc().continue()}),l.Xb(2,"label",90),l.Tc(3,"Cotinue"),l.Wb(),l.Wb(),l.Xb(4,"div",91),l.fc("click",function(){l.Hc(a);var t=l.jc();return t.updateApplicationStatus(t.dataResponse,"REJECTED")}),l.Xb(5,"mat-icon",92),l.Tc(6," highlight_off "),l.Wb(),l.Tc(7,"\xa0\xa0\xa0 "),l.Xb(8,"label",93),l.Tc(9,"Reject"),l.Wb(),l.Wb(),l.Tc(10," \xa0\xa0 "),l.Xb(11,"div",94),l.fc("click",function(){l.Hc(a);var t=l.jc();return t.updateApplicationStatus(t.dataResponse,"APPROVED")}),l.Xb(12,"mat-icon",95),l.Tc(13,"check_circle"),l.Wb(),l.Tc(14,"\xa0\xa0\xa0 "),l.Xb(15,"label",96),l.Tc(16,"Approve"),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(1),l.rc("hidden",n.continueStatus)("ngClass",l.yc(7,Xc,n.continueStatus,!n.continueStatus)),l.Eb(3),l.rc("hidden",n.rejectedStatus)("hidden",n.rejectedStatus)("ngClass",l.yc(10,Tc,n.rejectedStatus,!n.rejectedStatus)),l.Eb(7),l.rc("hidden",n.approvedStatus)("ngClass",l.yc(13,Ic,n.approvedStatus,!n.approvedStatus))}}var Cc,xc=((Cc=function(){function t(e,a,o,i,r,c,s,l,b,u,d){n(this,t),this.tasSumService=e,this.cdr=a,this.router=o,this.apiService=i,this.ls=r,this.dialogRef=c,this.dataResponse=s,this.sanitizer=l,this.snack=b,this.dialog=u,this.jwtService=d,this.selectedIndex=0,this.addNewProof=!1,this.arrayPrefix=[],this.arrayGender=[],this.arrayMaritalStatus=[],this.arrayCountry=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayEmploymentType=[],this.arrayEmployerName=[],this.otherDocumentArray=[],this.proofDocumentArray=[],this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}return i(t,[{key:"ngOnInit",value:function(){var t=this;setTimeout(function(){t.loading=!0,console.log("dataResponse.dataResp.customerId",t.dataResponse.dataResp.customerId),console.log("dataResponse.dataResp.accountId",t.dataResponse.dataResp.accountId),t.customerId=t.dataResponse.dataResp.customerId,t.ls.setItem("customerId",t.customerId),t.getCustomerDocumentsDetails(t.customerId),console.log(t.customerId),t.phoneNum=t.dataResponse.dataResp.phoneNumber,t.emailID=t.dataResponse.dataResp.primaryEmailAdress,console.log("Dataas",t.dataResponse,t.phoneNum,t.emailID),t.customerColorCode=localStorage.getItem("CustomerColorCode"),t.imageUrl=t.dataResponse.dataResp.profileImage,t.status=t.dataResponse.dataResp.custStatus,t.errorStatus=t.dataResponse.dataResp.custStatus,t.userAddress_array=t.dataResponse.dataResp.userAddress,t.custIdProofs_array=t.dataResponse.dataResp.custIdProofs,console.log("result::",t.custIdProofs_array),"REJECTED"===t.status?(t.rejectedStatus=!0,t.approvedStatus=!0,t.editScreen=!1,t.continueStatus=!0):"INITIATED"===t.status?(t.rejectedStatus=!1,t.approvedStatus=!1,t.editScreen=!1,t.continueStatus=!0):"APPROVED"===t.status?(t.rejectedStatus=!0,t.approvedStatus=!0,t.editScreen=!0,t.continueStatus=!0):"UNDER_PROCESS"===t.status&&(t.rejectedStatus=!1,t.approvedStatus=!0,t.editScreen=!1,t.continueStatus=!1),t.getProfileImage(t.dataResponse.dataResp.customerId),t.fetchSignatureDetails(t.dataResponse.dataResp.customerId)},5e3),"NULL"!==this.dataResponse.dataResp.customerAdditionalInfo.kycStatus&&(this.kycStatus=this.dataResponse.dataResp.customerAdditionalInfo.kycStatus)}},{key:"goToCustOnboarding",value:function(){console.log("Navigating to edit screen"),this.apiService.updateKycStatusByCustId(this.dataResponse.dataResp.customerId,"","UNDER_PROCESS").subscribe(function(t){}),this.router.navigateByUrl("/others/newCustomerOnboarding"),console.log(this.dataResponse);var t=this.dataResponse.dataResp.kycReference.split("KYC_");console.log(t[1]),this.ls.setItem("EDIT-KYCDETAILS",t[1]),console.log(this.ls.getItem("EDIT-KYCDETAILS")),this.dialogRef.close({message:"Confirm"})}},{key:"getCustomerDocumentsDetails",value:function(t){var e=this;this.apiService.getCustomerAllDocuments(t,[6,7,8]).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName,console.log("custOtherDoc_array::",e.custOtherDoc_array))})}},{key:"updateApplicationStatus",value:function(t,e,a){var n=this;t.dataResp.customerAdditionalInfo.kycStatus=e,this.statusUpdate=e,this.apiService.updateKycStatusByCustId(t.dataResp.customerId,"",e).subscribe(function(t){null!=t&&(n.cdr.markForCheck(),n.cdr.detectChanges(),1!=a&&n.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),n.snack.open(""+e,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},function(t){console.log("error resp :: ",t),n.errorStatus=e,n.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(t){t.recordStatus=this.statusUpdate,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){null!=t.profileImage&&(e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},function(t){})}},{key:"fetchSignatureDetails",value:function(t){var e=this;console.log("inside fetchSignatureDetails method"),this.apiService.getSignatureDocuments(t).subscribe(function(t){console.log(t),console.log(t.length),e.noOFSigns=t.length,e.signatureDetails_array=t},function(t){console.log(t)})}},{key:"openEditScreen",value:function(t,e){var a=this;this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){console.log(t),a.status=t.status,"INITIATED"==t.status&&(a.updateApplicationStatus(a.dataResponse,"INITIATED",!0),t.screen||Object.assign(e,t.resp),"documentUpload"==t.screen&&a.getCustomerDocumentsDetails(a.customerId),"signatureUpload"==t.screen&&a.fetchSignatureDetails(a.customerId)),a.cdr.markForCheck(),a.cdr.detectChanges()})}},{key:"editPrimaryInfo",value:function(){this.openEditScreen(dr,this.dataResponse.dataResp)}},{key:"editContactInfo",value:function(){this.openEditScreen(Rr,this.userAddress_array)}},{key:"editProofOfIdentity",value:function(){this.openEditScreen(Nr,this.proofDoc_array)}},{key:"editAdditionalInfo",value:function(){this.openEditScreen(Vr,this.dataResponse.dataResp.customerAdditionalInfo)}},{key:"editMandateInfo",value:function(){this.openEditScreen(Zr,this.signatureDetails_array)}},{key:"continue",value:function(){this.ls.setItem("customerId",this.dataResponse.dataResp.customerId),this.ls.setItem("currentKycTabIndex",0),window.open("".concat(co.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=INDIVIDUALONBOARDING&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Cc)(l.Rb(g.a),l.Rb(l.h),l.Rb(Ze.h),l.Rb(b.b),l.Rb(m.a),l.Rb(p.g),l.Rb(p.a),l.Rb(lo.b),l.Rb(W.a),l.Rb(p.b),l.Rb(so.a))},Cc.\u0275cmp=l.Lb({type:Cc,selectors:[["app-cust-on-boarding-approver"]],viewQuery:function(t,e){var a;1&t&&l.ad(Qr,!0),2&t&&l.Cc(a=l.gc())&&(e.ncForm=a.first)},inputs:{initiatedArr:"initiatedArr"},decls:55,vars:18,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Primary Information",2,"border-radius","0px","width","800px"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width",2,"padding","1rem 1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[2,"font-size","18px"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px","width","750px"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"padding-bottom","1rem"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["label","Contact Information",2,"border-radius","0px","width","800px"],[1,"full-width",2,"padding","1rem"],[2,"padding-bottom","1rem"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxFlex","40%","fxFlex.xs","50%",2,"padding","0.5rem 0.5rem"],[2,"font-size","16px"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["label","Proof Of Identity",2,"border-radius","0px","width","800px"],[2,"padding","1rem 0"],["style","color: grey;",4,"ngIf"],[2,"color","grey"],["class","full-width",4,"ngFor","ngForOf"],[2,"text-align","center"],["required","","alt","",1,"formImg2",3,"src"],[2,"margin-top","35px"],["download","",2,"color","#4A56E2","text-decoration","underline",3,"href"],["label","Other Information",2,"border-radius","0px","width","800px"],["fxFlex","59%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","39%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],[1,"mat1",2,"width","98%"],[1,"mat11"],["fxFlex","40%","fxFlex.xs","100%"],["fxFlex","100%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxLayout","row","fxLayoutAlign","space-between center",2,"padding","1rem 0"],["fxFlex","15%","fxFlex.xs","50%"],["fxLayout","row wrap","style","padding: 0.5rem 0;","class","full-width",4,"ngFor","ngForOf"],[1,"imgCard"],[4,"ngIf","ngIfElse"],["showAvatar",""],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(l.Xb(0,"form"),l.Xb(1,"div",0),l.Rc(2,tc,1,0,"mat-spinner",1),l.Wb(),l.Xb(3,"div",2),l.Xb(4,"div",3),l.Xb(5,"div",4),l.Xb(6,"div"),l.Xb(7,"mat-icon",5),l.fc("click",function(){return e.close(e.dataResponse)}),l.Tc(8," close"),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"div",6),l.Xb(10,"div",7),l.Xb(11,"div",8),l.Xb(12,"div",9),l.Rc(13,ec,2,1,"span",10),l.Wb(),l.Xb(14,"div",11),l.Xb(15,"div",12),l.Sb(16,"img",13),l.Tc(17,"\xa0 "),l.Xb(18,"div"),l.Xb(19,"span",14),l.Tc(20),l.Wb(),l.Sb(21,"br"),l.Xb(22,"span",15),l.Tc(23),l.Wb(),l.Wb(),l.Wb(),l.Xb(24,"div",16),l.Xb(25,"mat-icon",17),l.Tc(26,"phone "),l.Wb(),l.Tc(27,"\xa0\xa0\xa0 "),l.Xb(28,"span",18),l.Tc(29),l.Wb(),l.Wb(),l.Xb(30,"div",16),l.Xb(31,"mat-icon",17),l.Tc(32," mail_outline"),l.Wb(),l.Tc(33,"\xa0\xa0 \xa0 "),l.Xb(34,"span",19),l.Tc(35),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div",20),l.Xb(37,"div",21),l.Rc(38,ac,7,16,"div",22),l.Rc(39,oc,2,1,"div",23),l.Wb(),l.Wb(),l.Sb(40,"br"),l.Sb(41,"br"),l.Sb(42,"br"),l.Sb(43,"br"),l.Xb(44,"div",24),l.Xb(45,"h2"),l.Tc(46),l.Wb(),l.Wb(),l.Rc(47,rc,100,14,"div",25),l.Rc(48,sc,18,2,"div",25),l.Sb(49,"br"),l.Rc(50,dc,21,3,"div",25),l.Rc(51,pc,63,7,"div",25),l.Rc(52,Wc,38,4,"div",25),l.Rc(53,Ec,17,16,"div",26),l.Sb(54,"br"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(2),l.rc("ngIf",e.loading),l.Eb(11),l.rc("ngForOf",e.nameCreater),l.Eb(7),l.Vc("",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.createdBy," "),l.Eb(3),l.Vc("EID #",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.creatorId,""),l.Eb(6),l.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.mobile," "),l.Eb(6),l.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.email," "),l.Eb(3),l.rc("ngIf","not_available"==e.imageUrl),l.Eb(1),l.rc("ngIf","not_available"!=e.imageUrl),l.Eb(7),l.Yc("",e.dataResponse.dataResp.prefix,"\xa0",e.dataResponse.dataResp.firstName,"\xa0",e.dataResponse.dataResp.middleName,"\xa0",e.dataResponse.dataResp.lastName," "),l.Eb(1),l.rc("ngIf",!e.loading),l.Eb(1),l.rc("ngIf",!e.loading),l.Eb(2),l.rc("ngIf",!e.loading),l.Eb(1),l.rc("ngIf",!e.loading),l.Eb(1),l.rc("ngIf",!e.loading),l.Eb(1),l.rc("ngIf",!e.loading))},directives:[v.A,v.s,v.t,X.d,c.n,X.e,T.a,c.m,E.c,R.b,X.b,E.a,Ba.a,I.f,X.f,c.l,bo.a],pipes:[c.v,c.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.editbtn{color:#0e7cc5;cursor:pointer}.num{background-color:#fff;border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;margin-top:15px}.cancelIcon{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton{top:6705px;left:969px;width:183px;height:41px;margin-right:15%;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon{top:6716px;left:1009px;width:24px;height:24px}.approveIcon,.approvelabel{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.hint1{padding:13px}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:2%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:1px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 2.7rem;color:#fff}.mat1{height:3.3rem}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.continueBtn{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"],encapsulation:2}),Cc),Oc=function(t,e,a,n){return new(a||(a=Promise))(function(o,i){function r(t){try{s(n.next(t))}catch(e){i(e)}}function c(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,c)}s((n=n.apply(t,e||[])).next())})};function Dc(t,e){1&t&&l.Sb(0,"mat-spinner",20),2&t&&l.rc("diameter",15)}function Ac(t,e){if(1&t){var a=l.Yb();l.Xb(0,"button",21),l.fc("click",function(){return l.Hc(a),l.jc().clear()}),l.Xb(1,"mat-icon"),l.Tc(2,"close"),l.Wb(),l.Wb()}}function Rc(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",38),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Sc(t,e){if(1&t&&l.Sb(0,"img",39),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function kc(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",22),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToCustOnBoardingSummary(t,"INITATED",o.getRandomColor(n+3))}),l.Xb(1,"div",23),l.Xb(2,"mat-icon",24),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",25),l.Xb(9,"div",26),l.Rc(10,Rc,2,1,"div",27),l.Rc(11,Sc,1,1,"ng-template",null,28,l.Sc),l.Wb(),l.Xb(13,"mat-card-title",29),l.Tc(14),l.Wb(),l.Xb(15,"mat-card-subtitle"),l.Tc(16),l.Wb(),l.Wb(),l.Xb(17,"form",30),l.Xb(18,"div",31),l.Xb(19,"div",32),l.Xb(20,"span"),l.Tc(21,"Kyc Reference "),l.Wb(),l.Xb(22,"span",33),l.Tc(23),l.Wb(),l.Wb(),l.Xb(24,"div",32),l.Xb(25,"span"),l.Tc(26,"Customer Status"),l.Wb(),l.Xb(27,"span",33),l.Tc(28),l.Wb(),l.Wb(),l.Wb(),l.Sb(29,"br"),l.Xb(30,"div",34),l.Xb(31,"div",32),l.Xb(32,"span",35),l.Tc(33,"Mobile Number"),l.Wb(),l.Xb(34,"span",36),l.Tc(35),l.Wb(),l.Wb(),l.Xb(36,"div",32),l.Xb(37,"span",35),l.Tc(38,"Email"),l.Wb(),l.Xb(39,"span",37),l.Tc(40),l.Wb(),l.Wb(),l.Wb(),l.Sb(41,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(12);l.Eb(6),l.Uc(l.lc(7,12,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(2),l.Vc("#",n.customerId,""),l.Eb(7),l.Uc(n.kycReference),l.Eb(5),l.Uc(n.custStatus),l.Eb(7),l.Uc(n.phoneNumber),l.Eb(5),l.Uc(n.primaryEmailAdress)}}function Nc(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",38),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Pc(t,e){if(1&t&&l.Sb(0,"img",39),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function Fc(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",22),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToCustOnBoardingSummary(t,"UNDER_PROCESS",o.getRandomColor(n+6))}),l.Xb(1,"div",23),l.Xb(2,"mat-icon",40),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",25),l.Xb(9,"div",26),l.Rc(10,Nc,2,1,"div",27),l.Rc(11,Pc,1,1,"ng-template",null,28,l.Sc),l.Wb(),l.Xb(13,"mat-card-title",29),l.Tc(14),l.Wb(),l.Xb(15,"mat-card-subtitle"),l.Tc(16),l.Wb(),l.Wb(),l.Xb(17,"form",30),l.Xb(18,"div",31),l.Xb(19,"div",32),l.Xb(20,"span"),l.Tc(21,"Kyc Reference "),l.Wb(),l.Xb(22,"span",33),l.Tc(23),l.Wb(),l.Wb(),l.Xb(24,"div",32),l.Xb(25,"span"),l.Tc(26,"Customer Status"),l.Wb(),l.Xb(27,"span",33),l.Tc(28),l.Wb(),l.Wb(),l.Wb(),l.Sb(29,"br"),l.Xb(30,"div",34),l.Xb(31,"div",32),l.Xb(32,"span",35),l.Tc(33,"Mobile Number"),l.Wb(),l.Xb(34,"span",36),l.Tc(35),l.Wb(),l.Wb(),l.Xb(36,"div",32),l.Xb(37,"span",35),l.Tc(38,"Email"),l.Wb(),l.Xb(39,"span",37),l.Tc(40),l.Wb(),l.Wb(),l.Wb(),l.Sb(41,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(12);l.Eb(6),l.Uc(l.lc(7,12,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(2),l.Vc("#",n.customerId,""),l.Eb(7),l.Uc(n.kycReference),l.Eb(5),l.Uc(n.custStatus),l.Eb(7),l.Uc(n.phoneNumber),l.Eb(5),l.Uc(n.primaryEmailAdress)}}function Lc(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",38),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function _c(t,e){if(1&t&&l.Sb(0,"img",39),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function wc(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",22),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToCustOnBoardingSummary(t,"APPROVED",o.getRandomColor(n+12))}),l.Xb(1,"div",23),l.Xb(2,"mat-icon",41),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",25),l.Xb(9,"div",26),l.Rc(10,Lc,2,1,"div",27),l.Rc(11,_c,1,1,"ng-template",null,28,l.Sc),l.Wb(),l.Xb(13,"mat-card-title",29),l.Tc(14),l.Wb(),l.Xb(15,"mat-card-subtitle"),l.Tc(16),l.Wb(),l.Wb(),l.Xb(17,"form",30),l.Xb(18,"div",31),l.Xb(19,"div",32),l.Xb(20,"span"),l.Tc(21,"Kyc Reference "),l.Wb(),l.Xb(22,"span",33),l.Tc(23),l.Wb(),l.Wb(),l.Xb(24,"div",32),l.Xb(25,"span"),l.Tc(26,"Customer Status"),l.Wb(),l.Xb(27,"span",33),l.Tc(28),l.Wb(),l.Wb(),l.Wb(),l.Sb(29,"br"),l.Xb(30,"div",34),l.Xb(31,"div",32),l.Xb(32,"span",35),l.Tc(33,"Mobile Number"),l.Wb(),l.Xb(34,"span",36),l.Tc(35),l.Wb(),l.Wb(),l.Xb(36,"div",32),l.Xb(37,"span",35),l.Tc(38,"Email"),l.Wb(),l.Xb(39,"span",37),l.Tc(40),l.Wb(),l.Wb(),l.Wb(),l.Sb(41,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(12);l.Eb(6),l.Uc(l.lc(7,12,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(2),l.Vc("#",n.customerId,""),l.Eb(7),l.Uc(n.kycReference),l.Eb(5),l.Uc(n.custStatus),l.Eb(7),l.Uc(n.phoneNumber),l.Eb(5),l.Uc(n.primaryEmailAdress)}}function Uc(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",38),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Mc(t,e){if(1&t&&l.Sb(0,"img",39),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function Gc(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",22),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToCustOnBoardingSummary(t,"REJECTED",o.getRandomColor(n+15))}),l.Xb(1,"div",23),l.Xb(2,"mat-icon",42),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",25),l.Xb(9,"div",26),l.Rc(10,Uc,2,1,"div",27),l.Rc(11,Mc,1,1,"ng-template",null,28,l.Sc),l.Wb(),l.Xb(13,"mat-card-title",29),l.Tc(14),l.Wb(),l.Xb(15,"mat-card-subtitle"),l.Tc(16),l.Wb(),l.Wb(),l.Xb(17,"form",30),l.Xb(18,"div",31),l.Xb(19,"div",32),l.Xb(20,"span"),l.Tc(21,"Kyc Reference "),l.Wb(),l.Xb(22,"span",33),l.Tc(23),l.Wb(),l.Wb(),l.Xb(24,"div",32),l.Xb(25,"span"),l.Tc(26,"Customer Status"),l.Wb(),l.Xb(27,"span",33),l.Tc(28),l.Wb(),l.Wb(),l.Wb(),l.Sb(29,"br"),l.Xb(30,"div",34),l.Xb(31,"div",32),l.Xb(32,"span",35),l.Tc(33,"Mobile Number"),l.Wb(),l.Xb(34,"span",36),l.Tc(35),l.Wb(),l.Wb(),l.Xb(36,"div",32),l.Xb(37,"span",35),l.Tc(38,"Email"),l.Wb(),l.Xb(39,"span",37),l.Tc(40),l.Wb(),l.Wb(),l.Wb(),l.Sb(41,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(12);l.Eb(6),l.Uc(l.lc(7,12,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(2),l.Vc("#",n.customerId,""),l.Eb(7),l.Uc(n.kycReference),l.Eb(5),l.Uc(n.custStatus),l.Eb(7),l.Uc(n.phoneNumber),l.Eb(5),l.Uc(n.primaryEmailAdress)}}var Vc,jc=((Vc=function(){function t(e,a,o,i,r,c,s,b,d){n(this,t),this.dialog=e,this.ls=a,this.tasSumService=o,this.cdr=i,this.apiService=r,this.snack=c,this.sanitizer=s,this.router=b,this.route=d,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.arr=["INITIATEDArr","UNDER_PROCESSArr","APPROVEDArr","REJECTEDArr"],this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDCount=0,this.UNDER_PROCESSCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.INITIATEDImage=[],this.UNDER_PROCESSImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new l.o,this._searchSubject=new u.a,this.listOfOptions=[{label:"Customer ID ",value:"customerId",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}return i(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t=this;this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.route.queryParamMap.subscribe(function(e){e.get("searchTerm")?(t.redirectedFromTellerSearch=!0,t.searchText=e.get("searchTerm"),t.updateSearch(t.searchText),setTimeout(function(){t.openSearchedApprover()},3e3)):t.getDataOnLoad()}),this.listOfOptions.filter(function(e){e.checked&&(t.radioButtonSelected=e.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}},{key:"radioChange",value:function(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){if(t.setValue.emit(e),console.log("search value :: ",e),console.log("search text :: ",t.searchText),null==e||""==e||""==e)return t.noDataFound=!1,t.searchable=!1,void t.getDataOnLoad();t.searchCustomerId(e)})}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"getDataOnLoad",value:function(){return Oc(this,void 0,void 0,a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerByStatus(this.statusArr[e],0,0);case 1:case"end":return t.stop()}},t,this)}))}},{key:"fetchCustomerByStatus",value:function(t,e,a){var n=this;this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"GoToCorporate",value:function(){var t=this;setTimeout(function(){t.router.navigateByUrl("tasks/corporate-task-summary")},300)}},{key:"updateStatusResponse",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr=e.customerInfoList,this.INITIATEDTotalPages=e.totalPages,this.INITIATEDTotalRecords=e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=e.customerInfoList,this.UNDER_PROCESSTotalPages=e.totalPages,this.UNDER_PROCESSTotalRecords=e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=e.customerInfoList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=e.customerInfoList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),n.updateDataOnScroll(t,e.customerInfoList)}):console.log("No scroll requied")}},{key:"goToCustOnBoardingSummary",value:function(t,e,a){var n=this;localStorage.setItem("CustomerColorCode",a),this.dialog.open(xc,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(function(t){console.log("dialog closed:: ",t),"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"INITIATED"!==t.recordStatus&&"UNDER_PROCESS"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus||(1==n.redirectedFromTellerSearch?n.updateSearch(n.searchText):n.getDataOnLoad())})}},{key:"searchCustomerId",value:function(t){var e,a,n=this;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("cifId"),e=this.searchText.trim(),this.apiService.getKycDetails1(e).subscribe(function(t){console.log(t),null!=t?(a="cifNumber="+e,console.log("cif",a)):(console.log("not a cif"),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(function(){n.getCustomerData(a)},1e3),this.isScroll=!1}},{key:"getCustomerData",value:function(t){var e=this;this.loading=!0,console.log("params::",t);for(var a=0;a<this.statusArr.length;a++){var n=this.statusArr[a];"INITIATED"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.INITIATEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.INITIATEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.INITIATEDArr.push(null==t?void 0:t.customerInfoList[a])}):"UNDER_PROCESS"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.UNDER_PROCESSTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.UNDER_PROCESSArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.UNDER_PROCESSArr.push(t.customerInfoList[a])}):"APPROVED"==n?this.apiService.getKycDetails(t,n).subscribe(function(t){e.APPROVEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.APPROVEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.APPROVEDArr.push(t.customerInfoList[a])}):"REJECTED"==n&&this.apiService.getKycDetails(t,n).subscribe(function(t){e.REJECTEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.REJECTEDArr=[];for(var a=0;a<(null==t?void 0:t.customerInfoList.length);a++)e.REJECTEDArr.push(t.customerInfoList[a])})}}},{key:"resetSearchData",value:function(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){if(console.log(t),console.log(t.profileImage),e.searchable=!1,null!=t.profileImage){var a="data:image/jpeg;base64,"+t.profileImage.fileData;e.searchable=!0,e.image=e.sanitizer.bypassSecurityTrustUrl(a),console.log(e.searchable,"Searchable")}},function(t){console.log(t)})}},{key:"getCustomerIdData",value:function(t){var e=this;console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(function(t){if(e.cdr.markForCheck(),e.cdr.detectChanges(),null!=t){var a=t[0].customerAdditionalInfo.kycStatus+"Arr";e[a].splice(0,0,t[0]),e[a]=e[a].slice(),console.log("resp value :: ",e[a])}else e.noDataFound=!0})}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}},{key:"updateDataOnScroll",value:function(t,e){return Oc(this,void 0,void 0,a().mark(function n(){var o,i,r,c;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"INITIATED"==t?(o=Qt.unionBy(this.INITIATEDArr,e,"customerId"),this.INITIATEDArr=o):"UNDER_PROCESS"==t?(i=Qt.unionBy(this.UNDER_PROCESSArr,e,"customerId"),this.UNDER_PROCESSArr=i):"APPROVED"==t?(r=Qt.unionBy(this.APPROVEDArr,e,"customerId"),this.APPROVEDArr=r):"REJECTED"==t&&(c=Qt.unionBy(this.REJECTEDArr,e,"customerId"),this.REJECTEDArr=c),this.cdr.markForCheck();case 2:case"end":return a.stop()}},n,this)}))}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"openSearchedApprover",value:function(){var t=[this.REJECTEDArr,this.APPROVEDArr,this.UNDER_PROCESSArr,this.INITIATEDArr].filter(function(t){return 1==t.length});console.log(t),1==t.length&&this.goToCustOnBoardingSummary(t[0][0],t[0][0].custStatus)}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||Vc)(l.Rb(p.b),l.Rb(m.a),l.Rb(g.a),l.Rb(l.h),l.Rb(b.b),l.Rb(W.a),l.Rb(lo.b),l.Rb(Ze.h),l.Rb(Ze.a))},Vc.\u0275cmp=l.Lb({type:Vc,selectors:[["app-cust-on-boarding-task-summary"]],hostBindings:function(t,e){1&t&&l.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:54,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],[1,"slideTogglepadding",3,"change"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryName"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchbox"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search Customer_id or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"cardBox",3,"click"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"naming"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxLayout","column","fxFlex","45"],[1,"fieldName"],["fxLayout","row","fxLayoutGap","10"],[1,"col3"],[1,"col4"],[1,"breakWord","col4"],[3,"name"],["alt","",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMark1"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-red","bookMark","bookMark3"]],template:function(t,e){1&t&&(l.Sb(0,"br"),l.Xb(1,"div",0),l.fc("scrolled",function(t){return e.onScroll(t)}),l.Sb(2,"br"),l.Xb(3,"div",1),l.Xb(4,"mat-slide-toggle",2),l.fc("change",function(){return e.GoToCorporate()}),l.Tc(5,"Switch to Corporate Onboarding"),l.Wb(),l.Xb(6,"div",3),l.Xb(7,"div",4),l.Xb(8,"span",5),l.Tc(9," Individual Customer Onboarding Task Summary "),l.Wb(),l.Wb(),l.Xb(10,"div",6),l.Xb(11,"mat-form-field",7),l.Xb(12,"mat-label"),l.Tc(13,"Search"),l.Wb(),l.Xb(14,"div",8),l.Xb(15,"input",9),l.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),l.Wb(),l.Rc(16,Dc,1,1,"mat-spinner",10),l.Wb(),l.Xb(17,"mat-icon",11),l.Tc(18,"search"),l.Wb(),l.Rc(19,Ac,3,0,"button",12),l.Xb(20,"mat-hint"),l.Tc(21,"Search ID or Name"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(22,"div",13),l.Xb(23,"div",14),l.Xb(24,"mat-card",15),l.Xb(25,"div",16),l.Xb(26,"span",17),l.Xb(27,"h2",18),l.Tc(28),l.Wb(),l.Wb(),l.Wb(),l.Xb(29,"div"),l.Rc(30,kc,42,14,"div",19),l.Wb(),l.Sb(31,"br"),l.Wb(),l.Xb(32,"mat-card",15),l.Xb(33,"div",16),l.Xb(34,"span",17),l.Xb(35,"h2",18),l.Tc(36),l.Wb(),l.Wb(),l.Wb(),l.Xb(37,"div"),l.Rc(38,Fc,42,14,"div",19),l.Wb(),l.Wb(),l.Xb(39,"mat-card",15),l.Xb(40,"div",16),l.Xb(41,"span",17),l.Xb(42,"h2",18),l.Tc(43),l.Wb(),l.Wb(),l.Wb(),l.Xb(44,"div"),l.Rc(45,wc,42,14,"div",19),l.Wb(),l.Sb(46,"br"),l.Wb(),l.Xb(47,"mat-card",15),l.Xb(48,"div",16),l.Xb(49,"span",17),l.Xb(50,"h2",18),l.Tc(51),l.Wb(),l.Wb(),l.Wb(),l.Xb(52,"div"),l.Rc(53,Gc,42,14,"div",19),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(1),l.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),l.Eb(14),l.rc("ngModel",e.searchText),l.Eb(1),l.rc("ngIf",e.loading),l.Eb(3),l.rc("ngIf",e.searchText),l.Eb(9),l.Wc("Pending for approval (",e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.INITIATEDArr),l.Eb(6),l.Wc("Ongoing (",e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.UNDER_PROCESSArr),l.Eb(5),l.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.APPROVEDArr),l.Eb(6),l.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.REJECTEDArr))},directives:[oi.a,D.a,X.e,X.d,X.f,X.b,I.c,I.g,C.b,v.c,v.r,v.u,c.n,T.a,I.i,I.f,E.a,c.m,R.b,A.b,I.j,E.e,E.c,E.h,E.g,v.A,v.s,v.t,li],pipes:[Di.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.searchbox[_ngcontent-%COMP%]{padding-right:5%}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;text-align:left;font:normal normal medium 9px/11px Montserrat;letter-spacing:0;color:#0f0f0f;opacity:1}.cardBox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:40vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}.naming[_ngcontent-%COMP%]{font-size:12px}.breakWord[_ngcontent-%COMP%], .naming[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]}),Vc);function Bc(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Company Name is Required! "),l.Wb())}function zc(t,e){if(1&t&&(l.Xb(0,"mat-option",19),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function qc(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please select Category! "),l.Wb())}function Jc(t,e){if(1&t&&(l.Xb(0,"mat-option",19),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Kc(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please select Country! "),l.Wb())}var $c,Hc=(($c=function(){function t(e,a,o,i,r,c,s){n(this,t),this.basicInfo=e,this.dialogRef=a,this.apiService=o,this.ls=i,this.formBuilder=r,this.snack=c,this.corporateService=s,this.countryArr=[],this.categoryArr=["Privileged","Un Privileged"]}return i(t,[{key:"ngOnInit",value:function(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.basicInfo),this.getCountryName("country"),this.basicInfo&&this.buildBasicForm(this.basicInfo)}},{key:"buildBasicForm",value:function(t){this.corporateInfoUpdateForm=this.formBuilder.group({corporateId:[t.corporateId],companyName:[t?t.companyName:"",[v.z.required]],category:[t?t.category:"",[v.z.required]],country:[t?t.country:"",[v.z.required]]})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.countryArr.push(t[a].countryName)})}},{key:"onSubmit",value:function(){var t=this;this.corporateService.saveOrUpdateCorporateAccountInfo(this.corporateInfoUpdateForm.value).subscribe(function(e){null!=e?(t.snack.open("Basic Information Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close({status:"INITIATED",resp:e})):t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||$c)(l.Rb(p.a),l.Rb(p.g),l.Rb(b.b),l.Rb(m.a),l.Rb(v.f),l.Rb(W.a),l.Rb(zr.a))},$c.\u0275cmp=l.Lb({type:$c,selectors:[["app-update-corporate-basic-info"]],decls:42,vars:7,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","20%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","corporateId","formControlName","corporateId","placeholder","Corporate Id","readonly","true"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["matInput","","name","companyName","formControlName","companyName","placeholder","Company Name"],[4,"ngIf"],["formControlName","category","id","forCategory","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","country","id","forCountry","required",""],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Sb(3,"h1",2),l.Xb(4,"mat-dialog-content"),l.Xb(5,"form",3),l.Xb(6,"div",4),l.Xb(7,"div",5),l.Xb(8,"mat-hint",6),l.Tc(9,"CoporateId"),l.Wb(),l.Xb(10,"mat-card",7),l.Sb(11,"input",8),l.Wb(),l.Wb(),l.Xb(12,"div",9),l.Xb(13,"mat-hint",6),l.Tc(14,"Company Name* "),l.Wb(),l.Xb(15,"mat-card",7),l.Sb(16,"input",10),l.Wb(),l.Rc(17,Bc,2,0,"mat-error",11),l.Wb(),l.Xb(18,"div",9),l.Xb(19,"mat-hint",6),l.Tc(20,"Category*"),l.Wb(),l.Xb(21,"mat-card",7),l.Xb(22,"mat-select",12),l.Xb(23,"mat-option",13),l.Tc(24,"Select Category"),l.Wb(),l.Rc(25,zc,2,2,"mat-option",14),l.Wb(),l.Wb(),l.Rc(26,qc,2,0,"mat-error",11),l.Wb(),l.Xb(27,"div",9),l.Xb(28,"mat-hint",6),l.Tc(29,"Country*"),l.Wb(),l.Xb(30,"mat-card",7),l.Xb(31,"mat-select",15),l.Xb(32,"mat-option",13),l.Tc(33,"Select Country"),l.Wb(),l.Rc(34,Jc,2,2,"mat-option",14),l.Wb(),l.Wb(),l.Rc(35,Kc,2,0,"mat-error",11),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div",16),l.Xb(37,"button",17),l.fc("click",function(){return e.onSubmit()}),l.Tc(38,"Save"),l.Wb(),l.Tc(39," \xa0\xa0\xa0 "),l.Xb(40,"button",18),l.fc("click",function(){return e.close()}),l.Tc(41," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(5),l.rc("formGroup",e.corporateInfoUpdateForm),l.Eb(12),l.rc("ngIf",e.corporateInfoUpdateForm.get("companyName").touched&&!e.corporateInfoUpdateForm.get("companyName").valid),l.Eb(8),l.rc("ngForOf",e.categoryArr),l.Eb(1),l.rc("ngIf",e.corporateInfoUpdateForm.get("category").touched&&!e.corporateInfoUpdateForm.get("category").valid),l.Eb(8),l.rc("ngForOf",e.countryArr),l.Eb(1),l.rc("ngIf",e.corporateInfoUpdateForm.get("country").touched&&!e.corporateInfoUpdateForm.get("country").valid),l.Eb(2),l.rc("disabled",e.corporateInfoUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,C.b,v.c,v.r,v.i,c.n,x.a,v.y,S.n,c.m,X.f,A.b,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),$c),Yc=r("vrAh"),Zc=r("SqCe");function Qc(t,e){if(1&t&&(l.Xb(0,"mat-panel-title"),l.Tc(1),l.Wb()),2&t){var a=l.jc(2);l.Eb(1),l.Vc(" Create Director ",a.item," ")}}function ts(t,e){if(1&t&&(l.Xb(0,"mat-panel-title"),l.Xb(1,"mat-icon",58),l.Tc(2,"check_circle"),l.Wb(),l.Tc(3),l.Wb()),2&t){var a=l.jc(2);l.Eb(3),l.Vc(" \xa0 Director \xa0 ",a.item,". ")}}function es(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-card",29),l.Xb(1,"input",59),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb()}}function as(t,e){if(1&t&&(l.Xb(0,"div",72),l.Xb(1,"h3",73),l.Tc(2),l.kc(3,"uppercase"),l.kc(4,"slice"),l.Wb(),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(2),l.Vc(" ",l.lc(3,1,l.nc(4,3,null==a?null:a.firstName,0,1))," ")}}function ns(t,e){if(1&t&&(l.Xb(0,"div",74),l.Sb(1,"img",75),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("src",null==a?null:a.profileImage,l.Jc)}}function os(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-option",65),l.fc("click",function(){l.Hc(a);var t=e.$implicit;return l.jc(3).selectCif(t)}),l.Xb(1,"div",66),l.Xb(2,"div",67),l.Rc(3,as,5,7,"div",68),l.Rc(4,ns,2,1,"div",69),l.Xb(5,"div",22),l.Xb(6,"h5",70),l.Tc(7),l.kc(8,"uppercase"),l.kc(9,"uppercase"),l.kc(10,"uppercase"),l.Wb(),l.Xb(11,"h6",71),l.Tc(12),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit;l.rc("value",null==n?null:n.cifNumber),l.Eb(3),l.rc("ngIf","not_available"==(null==n?null:n.profileImage)),l.Eb(1),l.rc("ngIf","not_available"!=(null==n?null:n.profileImage)),l.Eb(3),l.Xc(" ",l.lc(8,7,null==n?null:n.firstName)," ",l.lc(9,9,null==n?null:n.middleName)," ",l.lc(10,11,null==n?null:n.lastName),""),l.Eb(5),l.Vc("#",null==n?null:n.cifNumber,"")}}function is(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-card",29),l.Xb(1,"input",60,61),l.fc("keyup",function(t){return l.Hc(a),l.jc(2).ngAfterViewInit(t.target.value)})("ngModelChange",function(t){return l.Hc(a),l.jc(2).updatedVal(t)}),l.Wb(),l.Xb(3,"mat-autocomplete",62,63),l.Rc(5,os,13,13,"mat-option",64),l.Wb(),l.Wb()}if(2&t){var n=l.Dc(4),o=l.jc(2);l.Eb(1),l.rc("matAutocomplete",n),l.Eb(4),l.rc("ngForOf",o.customerInfoList)}}function rs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"CIF Number is Required!"),l.Wb(),l.Wb())}function cs(t,e){if(1&t&&(l.Xb(0,"mat-option",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function ss(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select Prefix!"),l.Wb(),l.Wb())}function ls(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"First Name is Required!"),l.Wb(),l.Wb())}function bs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Last Name is Required!"),l.Wb(),l.Wb())}function us(t,e){if(1&t&&(l.Xb(0,"mat-option",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function ds(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select Gender!"),l.Wb(),l.Wb())}function ms(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," \xa0 Prefix and Gender does not match! "),l.Wb())}function ps(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Date Of Birth is Required!"),l.Wb(),l.Wb())}function fs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Place Of Birth is Required!!"),l.Wb(),l.Wb())}function hs(t,e){if(1&t&&(l.Xb(0,"mat-option",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function gs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select Residence Type!"),l.Wb(),l.Wb())}function vs(t,e){if(1&t&&(l.Xb(0,"mat-option",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function ys(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select Citizenship By!"),l.Wb(),l.Wb())}function Ws(t,e){if(1&t&&(l.Xb(0,"mat-option",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Xs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select Country Of Residence"),l.Wb(),l.Wb())}function Ts(t,e){if(1&t&&(l.Xb(0,"mat-option",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Is(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select ID Type!"),l.Wb(),l.Wb())}function Es(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Unique Id Number is Required"),l.Wb(),l.Wb())}function Cs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select Valid Till!"),l.Wb(),l.Wb())}function xs(t,e){if(1&t&&(l.Xb(0,"div",27),l.Sb(1,"mat-hint",6),l.Xb(2,"mat-card",29),l.Sb(3,"input",81),l.Sb(4,"mat-datepicker-toggle",38),l.Sb(5,"mat-datepicker",null,82),l.Wb(),l.Rc(7,Cs,3,0,"mat-error",18),l.Wb()),2&t){var a=l.Dc(6),n=l.jc().$implicit,o=l.jc(2);l.Eb(3),l.rc("min",o.minDate)("matDatepicker",a),l.Eb(1),l.rc("for",a),l.Eb(3),l.rc("ngIf",n.get("expiryDate").touched&&!n.get("expiryDate").valid)}}function Os(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",77),l.Xb(1,"div",26),l.Xb(2,"div",27),l.Xb(3,"mat-hint",6),l.Tc(4,"Id Type"),l.Wb(),l.Xb(5,"mat-card",29),l.Xb(6,"mat-select",78),l.Xb(7,"mat-option",31),l.Tc(8,"select---"),l.Wb(),l.Rc(9,Ts,2,2,"mat-option",32),l.Wb(),l.Wb(),l.Rc(10,Is,3,0,"mat-error",18),l.Wb(),l.Xb(11,"div",27),l.Xb(12,"mat-hint",6),l.Tc(13,"ID Number"),l.Wb(),l.Xb(14,"mat-card",29),l.Xb(15,"input",79),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(16,Es,3,0,"mat-error",18),l.Wb(),l.Rc(17,xs,8,4,"div",80),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.jc(2);l.rc("formGroupName",o),l.Eb(9),l.rc("ngForOf",i.idTypeList),l.Eb(1),l.rc("ngIf",n.get("idType").touched&&!n.get("idType").valid),l.Eb(6),l.rc("ngIf",n.get("idNumber").touched&&!n.get("idNumber").valid),l.Eb(1),l.rc("ngIf","Passport"==n.get("idType").value||"DL"==n.get("idType").value)}}function Ds(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Enter Valid Address Line 1"),l.Wb(),l.Wb())}function As(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Enter Valid Address Line 2"),l.Wb(),l.Wb())}function Rs(t,e){if(1&t&&(l.Xb(0,"mat-option",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Ss(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please select country"),l.Wb(),l.Wb())}function ks(t,e){if(1&t&&(l.Xb(0,"mat-option",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.stateName),l.Eb(1),l.Vc(" ",a.stateName," ")}}function Ns(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please select state"),l.Wb(),l.Wb())}function Ps(t,e){if(1&t&&(l.Xb(0,"mat-option",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.value1),l.Eb(1),l.Vc(" ",a.value1," ")}}function Fs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please select city"),l.Wb(),l.Wb())}function Ls(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please enter Zip Code!(5-10 digits)"),l.Wb(),l.Wb())}function _s(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please enter valid Zip Code!(5-10 digits)"),l.Wb(),l.Wb())}function ws(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",83),l.Xb(1,"legend",48),l.Tc(2,"Communication Address"),l.Wb(),l.Sb(3,"hr"),l.Xb(4,"div",26),l.Xb(5,"div",27),l.Xb(6,"mat-hint",6),l.Tc(7,"Address Line 1*"),l.Wb(),l.Xb(8,"mat-card",29),l.Sb(9,"input",84),l.Wb(),l.Rc(10,Ds,3,0,"mat-error",18),l.Wb(),l.Xb(11,"div",27),l.Xb(12,"mat-hint",6),l.Tc(13,"Address Line 2*"),l.Wb(),l.Xb(14,"mat-card",29),l.Sb(15,"input",85),l.Wb(),l.Rc(16,As,3,0,"mat-error",18),l.Wb(),l.Xb(17,"div",27),l.Xb(18,"mat-hint",6),l.Tc(19,"Country*"),l.Wb(),l.Xb(20,"mat-card",29),l.Xb(21,"mat-select",86),l.fc("selectionChange",function(t){return l.Hc(a),l.jc(2).getStateName(t.value)}),l.Xb(22,"mat-option",31),l.Tc(23,"select---"),l.Wb(),l.Rc(24,Rs,2,2,"mat-option",32),l.Wb(),l.Wb(),l.Rc(25,Ss,3,0,"mat-error",18),l.Wb(),l.Xb(26,"div",27),l.Xb(27,"mat-hint",6),l.Tc(28,"State*"),l.Wb(),l.Xb(29,"mat-card",29),l.Xb(30,"mat-select",87),l.fc("selectionChange",function(t){return l.Hc(a),l.jc(2).getCityName(t.value)}),l.Xb(31,"mat-option",31),l.Tc(32,"select---"),l.Wb(),l.Rc(33,ks,2,2,"mat-option",32),l.Wb(),l.Wb(),l.Rc(34,Ns,3,0,"mat-error",18),l.Wb(),l.Xb(35,"div",27),l.Xb(36,"mat-hint",6),l.Tc(37,"City*"),l.Wb(),l.Xb(38,"mat-card",29),l.Xb(39,"mat-select",88),l.Xb(40,"mat-option",31),l.Tc(41,"select---"),l.Wb(),l.Rc(42,Ps,2,2,"mat-option",32),l.Wb(),l.Wb(),l.Rc(43,Fs,3,0,"mat-error",18),l.Wb(),l.Xb(44,"div",27),l.Xb(45,"mat-hint",6),l.Tc(46,"Zip Code*"),l.Wb(),l.Xb(47,"mat-card",29),l.Xb(48,"input",89),l.fc("keypress",function(t){return l.Hc(a),l.jc(2)._keyPress(t)})("keyup",function(t){return l.Hc(a),l.jc(2).isAllSameDigit(t)}),l.Wb(),l.Wb(),l.Rc(49,Ls,3,0,"mat-error",18),l.Rc(50,_s,3,0,"mat-error",18),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.jc(2);l.rc("formGroupName",o),l.Eb(10),l.rc("ngIf",n.get("address1").touched&&!n.get("address1").valid||n.get("address1").touched&&n.get("address1").hasError("pattern")),l.Eb(6),l.rc("ngIf",n.get("address2").touched&&!n.get("address2").valid||n.get("address2").touched&&n.get("address2").hasError("pattern")),l.Eb(8),l.rc("ngForOf",i.arrayCountry),l.Eb(1),l.rc("ngIf",n.get("country").touched&&!n.get("country").valid),l.Eb(8),l.rc("ngForOf",i.arrayState),l.Eb(1),l.rc("ngIf",n.get("state").touched&&!n.get("state").valid),l.Eb(8),l.rc("ngForOf",i.arrayCity),l.Eb(1),l.rc("ngIf",n.get("city").touched&&!n.get("city").valid),l.Eb(6),l.rc("ngIf",n.get("zipCode").touched&&n.get("zipCode").hasError("required")),l.Eb(1),l.rc("ngIf",i.isAllSameDigitVal||n.get("zipCode").hasError("pattern"))}}function Us(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Enter Mobile Number(Maximum 10 digits)!"),l.Wb(),l.Wb())}function Ms(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2," \xa0 \xa0 Please Enter Correct Mobile Number "),l.Wb(),l.Wb())}function Gs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2," \xa0 \xa0 Please Enter Correct Landline Number"),l.Wb(),l.Wb())}function Vs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Tax Id is Required with only numbers!"),l.Wb(),l.Wb())}function js(t,e){if(1&t&&(l.Xb(0,"mat-option",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Bs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select Country Of Issue!"),l.Wb(),l.Wb())}function zs(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",90),l.Xb(1,"legend",48),l.Tc(2,"Additional Tax ID Details"),l.Wb(),l.Sb(3,"hr"),l.Xb(4,"div",91),l.Xb(5,"div",27),l.Xb(6,"mat-hint",6),l.Tc(7,"Tax ID*"),l.Wb(),l.Xb(8,"mat-card",29),l.Xb(9,"input",92),l.fc("keypress",function(t){return l.Hc(a),l.jc(2).omit_special_char(t)}),l.Wb(),l.Wb(),l.Rc(10,Vs,3,0,"mat-error",18),l.Wb(),l.Xb(11,"div",27),l.Xb(12,"mat-hint",6),l.Tc(13,"Country Of Issue*"),l.Wb(),l.Xb(14,"mat-card",29),l.Xb(15,"mat-select",93),l.Xb(16,"mat-option",31),l.Tc(17,"select---"),l.Wb(),l.Rc(18,js,2,2,"mat-option",32),l.Wb(),l.Wb(),l.Rc(19,Bs,3,0,"mat-error",18),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.jc(2);l.rc("formGroupName",o),l.Eb(10),l.rc("ngIf",n.get("taxId").touched&&!n.get("taxId").valid),l.Eb(8),l.rc("ngForOf",i.arrayCountry),l.Eb(1),l.rc("ngIf",n.get("countryOfIssue").touched&&!n.get("countryOfIssue").valid)}}function qs(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-card",16),l.Xb(1,"mat-expansion-panel",17),l.fc("opened",function(){return l.Hc(a),l.jc().openClose("OPEN")})("closed",function(){return l.Hc(a),l.jc().openClose("CLOSE")}),l.Xb(2,"mat-expansion-panel-header"),l.Rc(3,Qc,2,1,"mat-panel-title",18),l.Rc(4,ts,4,1,"mat-panel-title",18),l.Wb(),l.Xb(5,"div",4),l.Xb(6,"div",19),l.Xb(7,"div",20),l.Xb(8,"div",21),l.Xb(9,"div",22),l.Xb(10,"span"),l.Xb(11,"b"),l.Tc(12,"Is the applicant an existing customer?"),l.Wb(),l.Wb(),l.Wb(),l.Xb(13,"div",23),l.Xb(14,"mat-slide-toggle",24),l.fc("change",function(t){l.Hc(a);var e=l.jc();return e.toggleChanges(t.checked,e.formDirective)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(15,"div",21),l.Xb(16,"div",22),l.Xb(17,"span"),l.Xb(18,"b"),l.Tc(19,"Is the applicant an primary customer?"),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",23),l.Sb(21,"mat-slide-toggle",25),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(22,"br"),l.Xb(23,"div",26),l.Xb(24,"div",27),l.Xb(25,"mat-hint",6),l.Tc(26,"CIF Number"),l.Wb(),l.Rc(27,es,2,0,"mat-card",28),l.Rc(28,is,6,2,"mat-card",28),l.Rc(29,rs,3,0,"mat-error",18),l.Wb(),l.Xb(30,"div",27),l.Xb(31,"mat-hint",6),l.Tc(32,"Prefix*"),l.Wb(),l.Xb(33,"mat-card",29),l.Xb(34,"mat-select",30),l.Xb(35,"mat-option",31),l.Tc(36,"select---"),l.Wb(),l.Rc(37,cs,2,2,"mat-option",32),l.Wb(),l.Wb(),l.Rc(38,ss,3,0,"mat-error",18),l.Wb(),l.Xb(39,"div",27),l.Xb(40,"mat-hint",6),l.Tc(41,"First Name*"),l.Wb(),l.Xb(42,"mat-card",29),l.Xb(43,"input",33),l.fc("keypress",function(t){return l.Hc(a),l.jc().letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(44,ls,3,0,"mat-error",18),l.Wb(),l.Xb(45,"div",27),l.Xb(46,"mat-hint",6),l.Tc(47,"Middle Name"),l.Wb(),l.Xb(48,"mat-card",29),l.Xb(49,"input",34),l.fc("keypress",function(t){return l.Hc(a),l.jc().letterOnly(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(50,"div",27),l.Xb(51,"mat-hint",6),l.Tc(52,"Last Name*"),l.Wb(),l.Xb(53,"mat-card",29),l.Xb(54,"input",35),l.fc("keypress",function(t){return l.Hc(a),l.jc().letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(55,bs,3,0,"mat-error",18),l.Wb(),l.Xb(56,"div",27),l.Xb(57,"mat-hint",6),l.Tc(58,"Gender*"),l.Wb(),l.Xb(59,"mat-card",29),l.Xb(60,"mat-select",36),l.fc("selectionChange",function(t){return l.Hc(a),l.jc().onChangeGender(t)}),l.Xb(61,"mat-option",31),l.Tc(62,"select---"),l.Wb(),l.Rc(63,us,2,2,"mat-option",32),l.Wb(),l.Wb(),l.Rc(64,ds,3,0,"mat-error",18),l.Rc(65,ms,2,0,"mat-error",18),l.Wb(),l.Xb(66,"div",27),l.Xb(67,"mat-hint",6),l.Tc(68,"Date Of Birth*"),l.Wb(),l.Xb(69,"mat-card",29),l.Sb(70,"input",37),l.Xb(71,"div",23),l.Sb(72,"mat-datepicker-toggle",38),l.Wb(),l.Sb(73,"mat-datepicker",null,39),l.Wb(),l.Rc(75,ps,3,0,"mat-error",18),l.Wb(),l.Xb(76,"div",27),l.Xb(77,"mat-hint",6),l.Tc(78,"Place Of Birth "),l.Wb(),l.Xb(79,"mat-card",29),l.Xb(80,"input",40),l.fc("keypress.space",function(t){return l.Hc(a),l.jc().letterOnly(t)}),l.Wb(),l.Wb(),l.Rc(81,fs,3,0,"mat-error",18),l.Wb(),l.Xb(82,"div",27),l.Xb(83,"mat-hint",6),l.Tc(84,"Residence Type*"),l.Wb(),l.Xb(85,"mat-card",29),l.Xb(86,"mat-select",41),l.Xb(87,"mat-option",31),l.Tc(88,"select---"),l.Wb(),l.Rc(89,hs,2,2,"mat-option",32),l.Wb(),l.Wb(),l.Rc(90,gs,3,0,"mat-error",18),l.Wb(),l.Xb(91,"div",27),l.Xb(92,"mat-hint",6),l.Tc(93,"Citizenship By*"),l.Wb(),l.Xb(94,"mat-card",29),l.Xb(95,"mat-select",42),l.fc("selectionChange",function(t){return l.Hc(a),l.jc().onSelectionCitizionship(t.value)}),l.Xb(96,"mat-option",31),l.Tc(97,"--Select--"),l.Wb(),l.Rc(98,vs,2,2,"mat-option",32),l.Wb(),l.Wb(),l.Rc(99,ys,3,0,"mat-error",18),l.Wb(),l.Xb(100,"div",27),l.Xb(101,"mat-hint",6),l.Tc(102,"Country Of Residence*"),l.Wb(),l.Xb(103,"mat-card",29),l.Xb(104,"mat-select",43),l.fc("selectionChange",function(t){return l.Hc(a),l.jc().onSelectionResidance(t.value)}),l.Xb(105,"mat-option",31),l.Tc(106,"--Select--"),l.Wb(),l.Rc(107,Ws,2,2,"mat-option",32),l.Wb(),l.Wb(),l.Rc(108,Xs,3,0,"mat-error",18),l.Wb(),l.Wb(),l.Xb(109,"div",44),l.Rc(110,Os,18,5,"div",45),l.Wb(),l.Sb(111,"br"),l.Xb(112,"div",46),l.Rc(113,ws,51,11,"div",47),l.Wb(),l.Sb(114,"br"),l.Xb(115,"div"),l.Xb(116,"legend",48),l.Tc(117,"Contact Information"),l.Wb(),l.Sb(118,"hr"),l.Xb(119,"div",49),l.Xb(120,"div",27),l.Xb(121,"mat-hint",6),l.Tc(122,"Mobile Number*"),l.Wb(),l.Xb(123,"mat-card",29),l.Xb(124,"input",50),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(125,Us,3,0,"mat-error",18),l.Rc(126,Ms,3,0,"mat-error",18),l.Wb(),l.Xb(127,"div",27),l.Xb(128,"mat-hint",6),l.Tc(129,"Landline Number*"),l.Wb(),l.Xb(130,"mat-card",29),l.Xb(131,"input",51),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Rc(132,Gs,3,0,"mat-error",18),l.Wb(),l.Xb(133,"div",27),l.Xb(134,"mat-hint",6),l.Tc(135,"Email*"),l.Wb(),l.Xb(136,"mat-card",29),l.Sb(137,"input",52),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(138,"br"),l.Xb(139,"div",53),l.Rc(140,zs,20,4,"div",54),l.Wb(),l.Xb(141,"div",26),l.Xb(142,"div",55),l.Xb(143,"div",56),l.Xb(144,"button",57),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=l.jc();return n.saveDirector(t.value,n.item),n.openClose("CLOSE")}),l.Xb(145,"mat-icon"),l.Tc(146,"add"),l.Wb(),l.Tc(147," ADD DIRECTOR "),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.Dc(74),r=l.jc();l.rc("item",n)("formGroupName",o),l.Eb(1),l.rc("expanded",r.panelOpenState),l.Eb(2),l.rc("ngIf",1==r.panelOpenState),l.Eb(1),l.rc("ngIf",0==r.panelOpenState),l.Eb(17),l.rc("disabled",r.disabledToggle),l.Eb(6),l.rc("ngIf",1!=n.get("existingCustomer").value),l.Eb(1),l.rc("ngIf",1==n.get("existingCustomer").value),l.Eb(1),l.rc("ngIf",n.get("cifNumber").touched&&!n.get("cifNumber").valid&&1==n.get("existingCustomer").value),l.Eb(8),l.rc("ngForOf",r.prefixList),l.Eb(1),l.rc("ngIf",n.get("prefix").touched&&!n.get("prefix").valid),l.Eb(6),l.rc("ngIf",n.get("firstName").touched&&!n.get("firstName").valid),l.Eb(11),l.rc("ngIf",n.get("lastName").touched&&!n.get("lastName").valid),l.Eb(8),l.rc("ngForOf",r.genderList),l.Eb(1),l.rc("ngIf",n.get("gender").touched&&!n.get("gender").valid),l.Eb(1),l.rc("ngIf",r.prefixFlag),l.Eb(5),l.rc("matDatepicker",i)("max",r.maxDate),l.Eb(2),l.rc("for",i),l.Eb(3),l.rc("ngIf",n.get("dateOfBirth").touched&&!n.get("dateOfBirth").valid),l.Eb(6),l.rc("ngIf",n.get("placeOfBirth").touched&&!n.get("placeOfBirth").valid),l.Eb(8),l.rc("ngForOf",r.arrayResidence),l.Eb(1),l.rc("ngIf",n.get("residenceStatus").touched&&!n.get("residenceStatus").valid),l.Eb(8),l.rc("ngForOf",r.arrayCountry),l.Eb(1),l.rc("ngIf",n.get("citizenship").touched&&!n.get("citizenship").valid),l.Eb(8),l.rc("ngForOf",r.arrayCountry),l.Eb(1),l.rc("ngIf",n.get("countryOfResidence").touched&&!n.get("countryOfResidence").valid),l.Eb(2),l.rc("ngForOf",n.get("custIdProofs").controls),l.Eb(3),l.rc("ngForOf",n.get("userAddress").controls),l.Eb(12),l.rc("ngIf",n.get("phoneNumber").touched&&!n.get("phoneNumber").valid&&!n.controls.phoneNumber.hasError("minLength")),l.Eb(1),l.rc("ngIf","0000000000"==n.controls.phoneNumber.value),l.Eb(6),l.rc("ngIf","0000000000"==n.controls.landlineNumber.value),l.Eb(8),l.rc("ngForOf",n.get("custTaxInfo").controls),l.Eb(4),l.rc("disabled",n.invalid||!r.prefixFlag)}}var Js,Ks=((Js=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.ls=i,this.apiService=r,this.corporateService=c,this.snack=s,this.cdr=l,this.appApiService=b,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.isDirectorSaved=!1,this.directors=new v.d([])}return i(t,[{key:"ngOnInit",value:function(){if(this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.getDoc(),this.getCountryName("country"),null!=this.data){this.buildDirectorForm(this.data),this.directors=this.directorUpdateForm.get("directors");for(var t=0;t<this.data.length;t++){this.directors.push(this.addDirectors(this.data[t]));for(var e=0;e<this.data[t].userAddress.length;e++)this.getStateName(this.data[t].userAddress[e].country),this.getCityName(this.data[t].userAddress[e].state),this.addAddress(t,this.data[t].userAddress[e]);this.addIdProof(t,this.data[t].custIdProofs[0]),this.addCustTaxInfo(t,this.data[t].custTaxInfo[0])}}else this.buildDirectorForm(),this.directors=this.directorUpdateForm.get("directors"),this.directors.push(this.addDirectors()),this.addAddress(0),this.addIdProof(0),this.addCustTaxInfo(0)}},{key:"buildDirectorForm",value:function(t){this.directorUpdateForm=this.formBuilder.group({noOfDirector:[t?this.data.length:"1"],directors:this.formBuilder.array([])})}},{key:"addDirectors",value:function(t){return this.formBuilder.group({customerId:this.customerId,citizenship:[t?t.citizenship:""],cifNumber:[t?t.cifNumber:""],corporateId:[t?t.corporateId:""],countryOfResidence:[t?t.countryOfResidence:""],dateOfBirth:[t?t.dateOfBirth:""],existingCustomer:[t?t.existingCustomer:""],firstName:[t?t.firstName:""],gender:[t?t.gender:""],landlineNumber:[t?t.landlineNumber:"",[v.z.minLength(10),v.z.maxLength(10)]],lastName:[t?t.lastName:""],middleName:[t?t.middleName:""],phoneNumber:[t?t.phoneNumber:"",[v.z.minLength(10),v.z.maxLength(10)]],placeOfBirth:[t?t.placeOfBirth:""],prefix:[t?t.prefix:""],primaryCustomer:[!1],primaryEmailAdress:[t?t.primaryEmailAdress:""],residenceStatus:[t?t.residenceStatus:""],verificationType:"onboarding",userAddress:this.formBuilder.array([]),custIdProofs:this.formBuilder.array([]),custTaxInfo:this.formBuilder.array([])})}},{key:"addAddress",value:function(t,e){this.directors.controls[t].get("userAddress").push(this.formBuilder.group({addressType:[e?e.addressType:""],address1:[[e?e.address1:""],[v.z.pattern(".*[a-zA-Z].*")]],address2:[[e?e.address2:""],[v.z.pattern(".*[a-zA-Z].*")]],city:[e?e.city:""],state:[e?e.state:""],country:[e?e.country:""],zipCode:[e?e.zipCode:"",[v.z.required,v.z.pattern("^((\\+91-?)|0)?[0-9]{5,10}$")]]}))}},{key:"addIdProof",value:function(t,e){this.directors.controls[t].get("custIdProofs").push(this.formBuilder.group({idNumber:[e?e.idNumber:""],idType:[e?e.idType:""],expiryDate:[e?e.expiryDate:""]}))}},{key:"addCustTaxInfo",value:function(t,e){this.directors.controls[t].get("custTaxInfo").push(this.formBuilder.group({taxId:[e?e.taxId:"",[v.z.required,v.z.pattern("^[0-9]*$")]],countryOfIssue:[e?e.countryOfIssue:""]}))}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.arrayState=[],this.apiService.getAllCountries().subscribe(function(a){for(var n=function(n){if(a[n].countryName==t)return e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){for(var a=0;a<t.length;a++)"A"==t[n].authStatus&&e.arrayState.push(t[n].stateName)}),"break"},o=0;o<a.length&&"break"!==n(o);o++);})}},{key:"getCityName",value:function(t){var e=this;this.apiService.getDropDownValues1("city",t).subscribe(function(t){e.arrayCity=t})}},{key:"getResidenceDetails",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayResidence=t})}},{key:"getDoc",value:function(){var t=this;this.apiService.getDropDownValues("gender").subscribe(function(e){t.genderList=e}),this.apiService.getDropDownValues("prefix").subscribe(function(e){t.prefixList=e}),this.apiService.getDropDownValues("document_name").subscribe(function(e){t.idTypeList=e}),this.apiService.getDropDownValues("address_type").subscribe(function(e){t.addressTypeList=e})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"editDirector",value:function(t){this.panelOpenState=!this.panelOpenState}},{key:"updatedVal",value:function(t){this.showAutocomplete=!!(t&&t.length>=3)}},{key:"selectCif",value:function(t){this.getStateName(t.userAddress[0].country),this.getCityName(t.userAddress[0].state),null!=t.citizenship&&this.onSelectionCitizionship(t.citizenship),null!=t.countryOfResidence&&this.onSelectionResidance(t.countryOfResidence),this.customerInfoList=t.customerInfoList,this.cifNumberForPayload=t.cifNumber,this.customerIdForPayload=t.customerId,delete t.cifNumber,this.autocomplete.closePanel(),this.directorUpdateForm.patchValue(t),this.directorUpdateForm.get("existingCustomer").setValue(!0)}},{key:"fetchByCif",value:function(t){var e=this;console.log(null==t?void 0:t.length),0==(null==t?void 0:t.length)&&this.autocomplete.closePanel(),this.directorUpdateForm.reset({cifNumber:this.directorUpdateForm.get("cifNumber").value,existingCustomer:this.directorUpdateForm.get("existingCustomer").value}),this.showAutocomplete=!1,t&&(clearTimeout(this.timer),this.timer=setTimeout(function(){e.appApiService.fetchByCif(t).subscribe(function(t){console.log("settimeout"),console.log("res::",t),t&&(e.showAutocomplete=!0,e.customerInfoList=t.customerInfoList),null!=e.customerInfoList[0].citizenship&&e.onSelectionCitizionship(e.customerInfoList[0].citizenship),null!=e.customerInfoList[0].countryOfResidence?e.onSelectionResidance(e.customerInfoList[0].countryOfResidence):(null==t?void 0:t.customerInfoList.length)>1?e.customerInfoList=t.customerInfoList:0!=(null==t?void 0:t.customerInfoList.length)&&t||e.snack.open("Kindly Enter Valid CifNumber to proceed","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.error(t)})},1e3))}},{key:"toggleChanges",value:function(t,e){console.log(t),!0===t?this.directorUpdateForm.get("cifNumber").enable():!1===t&&(this.directorUpdateForm.get("cifNumber").disable(),this.customerId=null)}},{key:"onSelectionResidance",value:function(t){var e=this;console.log(t),this.apiService.countryFlaglists(t).subscribe(function(t){console.log(t.currencyCode),e.Currency=t.currencyCode.toLowerCase(),console.log(e.Currency)})}},{key:"onSelectionCitizionship",value:function(t){var e=this;console.log(t),this.apiService.countryFlaglists(t).subscribe(function(t){console.log(t.currencyCode),e.currencyCode=t.currencyCode.toLowerCase(),console.log(e.currencyCode)})}},{key:"onChangeGender",value:function(t){var e=this.directorUpdateForm.value.prefix;"Mr"==e&&"Male"==t.value||("Ms"==e||"Mrs"==e)&&"Female"==t.value?this.prefixFlag=!0:(this.prefixFlag=!1,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"noOfDirector",value:function(){var t=Number(this.directorUpdateForm.get("noOfDirector").value);if(this.directors.length<t)for(var e=this.directors.length;e<t;e++)this.directors.push(this.addDirectors()),this.addAddress(e),this.addIdProof(e),this.addCustTaxInfo(e);else if(t<this.directors.length)for(var a=this.directors.length-1;a>=t;a--)this.directors.removeAt(a)}},{key:"omit_special_char",value:function(t){var e;return(e=t.charCode)>64&&e<91||e>96&&e<123||8==e||32==e||e>=48&&e<=57}},{key:"isAllSameDigit",value:function(t){var e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;this.isAllSameDigitVal=e==a.length}else this.isAllSameDigitVal=!1}},{key:"saveDirector",value:function(t,e){var a=this;t.cifNumber=this.cifNumberForPayload,t.customerId=this.customerIdForPayload,t.corporateId=this.corporateId;var n={corporateId:this.corporateId,customerInfo:[t]};if(this.noOfDir>0){this.saveStatus=[];for(var o=0;o<this.noOfDir;o++)this.saveStatus.push(!0);this.corporateService.setfinishSave(this.saveStatus)}this.corporateService.saveOrUpdateCorporateAccountInfo(n).subscribe(function(t){null!=t?(null!=t.customerInfo&&null!=t.customerInfo[0].cifNumber&&(a.cifNumber=t.customerInfo[0].cifNumber),a.snack.open("Director ".concat(a.item," profile created !"),"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck(),a.noOfDir<=1&&a.dialogRef.close({status:"INITIATED",resp:a.data})):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.isDirectorSaved=!0}},{key:"onSubmit",value:function(){this.dialogRef.close({status:"INITIATED"})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Js)(l.Rb(p.a),l.Rb(p.g),l.Rb(v.f),l.Rb(m.a),l.Rb(b.b),l.Rb(zr.a),l.Rb(W.a),l.Rb(l.h),l.Rb(f.a))},Js.\u0275cmp=l.Lb({type:Js,selectors:[["app-update-director-details"]],decls:25,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100",1,"full-width"],[1,"hintClass"],["fxFlex","33.33%","fxFlex.xs","100%",1,"inputCard"],["formControlName","noOfDirector","matInput","","id","forNoOfDirectors","placeholder","Enter no of directors",3,"keypress","keyup"],["visible","true",2,"font-weight","600"],[1,"custom-accordion"],["formArrayName","directors"],[3,"item","formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"item","formGroupName"],[1,"mat-elevation-z0",3,"expanded","opened","closed"],[4,"ngIf"],["fxLayout","row wrap",2,"margin-top","20px","margin-left","20px"],["fxFlex","100"],["fxFlex","50"],["fxFlex","80"],["fxFlex","20"],["formControlName","existingCustomer",3,"change"],["formControlName","primaryCustomer",3,"disabled"],["fxLayout","row wrap"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["class","inputCard",4,"ngIf"],[1,"inputCard"],["formControlName","prefix","required",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","firstName","id","forFirstName","required","","placeholder","First Name",3,"keypress"],["matInput","","formControlName","middleName","id","forMiddleName","placeholder","Middle Name",3,"keypress"],["matInput","","formControlName","lastName","id","forLastName","required","","placeholder","Last Name",3,"keypress"],["formControlName","gender","id","forGender","required","",3,"selectionChange"],["fxFlex","80","matInput","","formControlName","dateOfBirth","required","","readonly","",3,"matDatepicker","max"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","placeOfBirth","id","forplaceOfBirth","required","",3,"keypress.space"],["formControlName","residenceStatus","id","forResidenceStatus","required",""],["formControlName","citizenship","id","forcitizenship","required","",3,"selectionChange"],["formControlName","countryOfResidence","id","forcountryOfResidence","required","",3,"selectionChange"],["formArrayName","custIdProofs"],["fxFlex","100%",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","userAddress"],[3,"formGroupName",4,"ngFor","ngForOf"],["visible","true"],["fxFlex","row wrap","fxFlex","100"],["matInput","","formControlName","phoneNumber","id","forPhoneNumber","maxLength","10","minLength","10","onlyNumber","","required","",3,"keypress"],["matInput","","formControlName","landlineNumber","maxLength","10","minLength","10","onlyNumber","","id","forlandlineNumber","required","",3,"keypress"],["matInput","","formControlName","primaryEmailAdress","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$","id","forprimaryEmailAdress","required",""],["formArrayName","custTaxInfo"],["fxFlex","row wrap","class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin-left","13px"],["fxFlex","20",1,"form-group"],["mat-raised-button","","color","primary",2,"background-color","rgb(77, 114, 248)",3,"disabled","click"],[2,"color","#24CCA7"],["matInput","","formControlName","cifNumber","id","forCifNumber",3,"keypress"],["matInput","","formControlName","cifNumber","id","forCifNumber",3,"matAutocomplete","keyup","ngModelChange"],["input",""],[2,"background-color","black"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","90%","margin-bottom","50px",3,"src"],[3,"value"],["fxFlex","100%",3,"formGroupName"],["formControlName","idType","id","forIdType","required",""],["matInput","","formControlName","idNumber","id","foridNumber","maxlength","15","minLength","11","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["matInput","","formControlName","expiryDate","id","forIdexpiryDate","readonly","","required","",3,"min","matDatepicker"],["expiryDate",""],[3,"formGroupName"],["matInput","","id","foraddress1","formControlName","address1","required",""],["matInput","","id","foraddress2","formControlName","address2","required",""],["id","forcountry","formControlName","country","required","",3,"selectionChange"],["id","forstate","formControlName","state","required","",3,"selectionChange"],["id","forCity","formControlName","city","required",""],["matInput","","formControlName","zipCode","id","forZipCode","onlyNumber","","maxlength","10","minLength","5","required","",3,"keypress","keyup"],["fxFlex","row wrap",1,"full-width",3,"formGroupName"],["fxFlex","row wrap"],["matInput","","onlyNumber","","formControlName","taxId","id","forTaxId","maxlength","10","required","",3,"keypress"],["formControlName","countryOfIssue","id","forCountryOfIssue","required",""]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Director Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"form",3),l.Xb(7,"div",4),l.Xb(8,"div",5),l.Xb(9,"mat-hint",6),l.Tc(10,"Number of Directors"),l.Wb(),l.Xb(11,"mat-card",7),l.Xb(12,"input",8),l.fc("keypress",function(t){return e._keyPress(t)})("keyup",function(){return e.noOfDirector()}),l.Wb(),l.Wb(),l.Wb(),l.Xb(13,"h3",9),l.Tc(14,"Details Of the Director"),l.Wb(),l.Xb(15,"div",4),l.Xb(16,"mat-accordion",10),l.Xb(17,"div",11),l.Rc(18,qs,148,34,"mat-card",12),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"div",13),l.Xb(20,"button",14),l.fc("click",function(){return e.onSubmit()}),l.Tc(21,"Save"),l.Wb(),l.Tc(22," \xa0\xa0\xa0 "),l.Xb(23,"button",15),l.fc("click",function(){return e.close()}),l.Tc(24," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("formGroup",e.directorUpdateForm),l.Eb(12),l.rc("ngForOf",e.directorUpdateForm.get("directors").controls),l.Eb(2),l.rc("disabled",e.directorUpdateForm.invalid||!e.isDirectorSaved))},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,v.c,C.b,v.r,v.i,$.a,v.e,c.m,X.f,A.b,v.k,$.c,$.e,c.n,D.a,x.a,v.y,S.n,O.e,O.g,I.j,O.d,Y.a,v.w,$.f,Yc.c,Yc.a,E.c,Zc.b,I.b,v.m],pipes:[c.w,c.v],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Js);function $s(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Incorporation Number is Required! "),l.Wb())}function Hs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please Enter Valid Incorporation Number! "),l.Wb())}function Ys(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select Date of Issue"),l.Wb(),l.Wb())}function Zs(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select Date of Expiry"),l.Wb(),l.Wb())}function Qs(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-radio-group",25),l.Xb(1,"mat-radio-button",26),l.fc("change",function(t){return l.Hc(a),l.jc().radioSelection(t.value)}),l.Tc(2),l.Wb(),l.Tc(3,"\xa0 "),l.Wb()}if(2&t){var n=e.$implicit,o=l.jc();l.Eb(1),l.rc("value",n)("checked",n==o.identityUpdateForm.value.isAnotherIdProofRequired),l.Eb(1),l.Vc("",n," ")}}function tl(t,e){if(1&t&&(l.Xb(0,"mat-option",45),l.Tc(1),l.Wb()),2&t){var a=e.$implicit,n=l.jc(3);l.rc("disabled",n.isDocumentOptionDisabled(a))("value",a),l.Eb(1),l.Vc(" ",a," ")}}function el(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Select Id Type"),l.Wb(),l.Wb())}function al(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please Enter Id Number"),l.Wb(),l.Wb())}function nl(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",30),l.Xb(1,"fieldset",31),l.Xb(2,"div",32),l.Xb(3,"div",33),l.Xb(4,"div",34),l.Xb(5,"label",35),l.Tc(6,"Id Type "),l.Wb(),l.Xb(7,"mat-form-field",36),l.Xb(8,"mat-select",37),l.fc("valueChange",function(t){l.Hc(a);var n=e.index;return l.jc(2).changeValue2(t,n)}),l.Xb(9,"mat-option",38),l.Tc(10,"select---"),l.Wb(),l.Rc(11,tl,2,3,"mat-option",39),l.Wb(),l.Xb(12,"mat-placeholder",40),l.Tc(13,"Select Id Type* "),l.Wb(),l.Wb(),l.Rc(14,el,3,0,"mat-error",9),l.Wb(),l.Xb(15,"div",34),l.Xb(16,"label",41),l.Tc(17,"Id Number "),l.Wb(),l.Xb(18,"mat-form-field",36),l.Sb(19,"input",42),l.Xb(20,"mat-placeholder",40),l.Tc(21,"Enter Id Number* "),l.Wb(),l.Wb(),l.Rc(22,al,3,0,"mat-error",9),l.Wb(),l.Xb(23,"button",43),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index;return l.jc(2).deleteDocument(t,n)}),l.Xb(24,"mat-icon",44),l.Tc(25,"delete_outline"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.jc(2);l.rc("formGroupName",o),l.Eb(11),l.rc("ngForOf",i.idTypeList),l.Eb(3),l.rc("ngIf",n.get("idType").touched&&!n.get("idType").valid),l.Eb(8),l.rc("ngIf",n.get("idNumber").touched&&!n.get("idNumber").valid)}}function ol(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",27),l.Rc(1,nl,26,4,"div",28),l.Xb(2,"button",29),l.fc("click",function(t){return l.Hc(a),l.jc().addDocument(t)}),l.Xb(3,"mat-icon"),l.Tc(4,"add"),l.Wb(),l.Tc(5," ADD "),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(1),l.rc("ngForOf",n.identityUpdateForm.get("idProofList").controls),l.Eb(1),l.rc("disabled",3==n.selectedOptions.length)}}var il,rl=function(){return["YES","NO"]},cl=((il=function(){function t(e,a,o,i,r,c,s){n(this,t),this.dialogRef=e,this.data=a,this.formBuilder=o,this.ls=i,this.apiService=r,this.corporateService=c,this.snack=s,this.minDate=new Date,this.validDate=new Date,this.maxDate=new Date}return i(t,[{key:"ngOnInit",value:function(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.data?(this.buildIdentityForm(),this.identityUpdateForm.patchValue(this.data)):this.buildIdentityForm()}},{key:"buildIdentityForm",value:function(){this.identityUpdateForm=this.formBuilder.group({corporateId:[this.corporateId],incorporationNumber:["",[v.z.required,v.z.pattern("^[a-zA-Z0-9]{0,35}$")]],dateOfIssue:["",[v.z.required]],dateOfExpiry:["",[v.z.required]],isAnotherIdProofRequired:["NO"],idProofList:this.formBuilder.array([])})}},{key:"getDocumentList",get:function(){return this.identityUpdateForm.get("idProofList")}},{key:"addDocument",value:function(){this.getDocumentList.push(this.formBuilder.group({idType:["",[v.z.required]],idNumber:["",[v.z.required]]}))}},{key:"deleteDocument",value:function(t,e){console.log("delete record :: ",t," index :: ",e),this.getDocumentList.removeAt(e)}},{key:"onSubmit",value:function(t){var e=this,a={};Object.keys(t).map(function(e,n){"dateOfIssue"===e||"dateOfExpiry"===e?(t[e]=y(t[e]).format("YYYY-MM-DD"),a[e]=t[e]):"isAnotherIdProofRequired"!=e&&"idProofList"!=e&&(a[e]=t[e])}),this.corporateService.saveOrUpdateCorporateAccountInfo(a).subscribe(function(t){console.log("data :: ",t),null!=t?(e.snack.open("Proof of identity Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"INITIATED",resp:a})):e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),e.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||il)(l.Rb(p.g),l.Rb(p.a),l.Rb(v.f),l.Rb(m.a),l.Rb(b.b),l.Rb(zr.a),l.Rb(W.a))},il.\u0275cmp=l.Lb({type:il,selectors:[["app-update-corporate-identity"]],decls:50,vars:15,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["visible","true"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","incorporationNumber","placeholder","Incorporation Number","maxLength","35","minLength","0","onlyNumber",""],[4,"ngIf"],["matInput","","id","forIddateOfIssue","readonly","","formControlName","dateOfIssue",3,"matDatepicker","max"],["matSuffix","",3,"for"],["dateOfIssue",""],["matInput","","id","forIddateOfExpiry","readonly","","formControlName","dateOfExpiry",3,"matDatepicker","min"],["dateOfExpiry",""],["fxLayout","row wrap"],["fxFlex","100","fxLayoutGap","20px"],["fxFlex","28"],[2,"padding-left","10px"],["fxFlex","50"],["formControlName","isAnotherIdProofRequired",4,"ngFor","ngForOf"],["formArrayName","idProofList",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["formControlName","isAnotherIdProofRequired"],[3,"value","checked","change"],["formArrayName","idProofList"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],[3,"formGroupName"],[2,"border-top","1px solid lightgray","margin-left","20px","margin-right","20px"],["fxLayout","row wrap",1,"top"],["fxFlex","100","fxLayoutGap","30px"],["fxFlex","30",1,"form-group"],["for","forIdType",1,"hint"],["floatLabel","never"],["formControlName","idType","id","forIdType",3,"valueChange"],["disabled",""],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"placeholder"],["for","forIdNumber",1,"hint"],["matInput","","formControlName","idNumber","id","forIdNumber","maxLength","12","minLength","6"],["mat-button","",3,"click"],[2,"color","tomato"],[3,"disabled","value"]],template:function(t,e){if(1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Proof Of Identity"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"form",3),l.Xb(7,"div"),l.Xb(8,"legend",4),l.Tc(9,"Certificate of Incorporation Details"),l.Wb(),l.Xb(10,"div"),l.Xb(11,"div",5),l.Xb(12,"mat-hint",6),l.Tc(13,"Incorporation Number*"),l.Wb(),l.Xb(14,"mat-card",7),l.Sb(15,"input",8),l.Wb(),l.Rc(16,$s,2,0,"mat-error",9),l.Rc(17,Hs,2,0,"mat-error",9),l.Wb(),l.Xb(18,"div",5),l.Xb(19,"mat-hint",6),l.Tc(20,"Date of Issue*"),l.Wb(),l.Xb(21,"mat-card",7),l.Sb(22,"input",10),l.Sb(23,"mat-datepicker-toggle",11),l.Sb(24,"mat-datepicker",null,12),l.Wb(),l.Rc(26,Ys,3,0,"mat-error",9),l.Wb(),l.Xb(27,"div",5),l.Xb(28,"mat-hint",6),l.Tc(29,"Date of Expiry*"),l.Wb(),l.Xb(30,"mat-card",7),l.Sb(31,"input",13),l.Sb(32,"mat-datepicker-toggle",11),l.Sb(33,"mat-datepicker",null,14),l.Wb(),l.Rc(35,Zs,3,0,"mat-error",9),l.Wb(),l.Wb(),l.Xb(36,"div",15),l.Xb(37,"div",16),l.Xb(38,"div",17),l.Xb(39,"mat-label",18),l.Tc(40," Do you want add another proof of ID? "),l.Wb(),l.Wb(),l.Xb(41,"div",19),l.Rc(42,Qs,4,3,"mat-radio-group",20),l.Wb(),l.Wb(),l.Wb(),l.Rc(43,ol,6,2,"div",21),l.Wb(),l.Wb(),l.Wb(),l.Xb(44,"div",22),l.Xb(45,"button",23),l.fc("click",function(){return e.onSubmit(e.identityUpdateForm.value)}),l.Tc(46,"Save"),l.Wb(),l.Tc(47," \xa0\xa0\xa0 "),l.Xb(48,"button",24),l.fc("click",function(){return e.close()}),l.Tc(49," Cancel "),l.Wb(),l.Wb()),2&t){var a=l.Dc(25),n=l.Dc(34);l.Eb(6),l.rc("formGroup",e.identityUpdateForm),l.Eb(10),l.rc("ngIf",e.identityUpdateForm.get("incorporationNumber").touched&&e.identityUpdateForm.get("incorporationNumber").hasError("required")),l.Eb(1),l.rc("ngIf",e.identityUpdateForm.get("incorporationNumber").hasError("pattern")),l.Eb(5),l.rc("matDatepicker",a)("max",e.maxDate),l.Eb(1),l.rc("for",a),l.Eb(3),l.rc("ngIf",e.identityUpdateForm.get("dateOfIssue").touched&&!e.identityUpdateForm.get("dateOfIssue").valid),l.Eb(5),l.rc("matDatepicker",n)("min",e.validDate),l.Eb(1),l.rc("for",n),l.Eb(3),l.rc("ngIf",e.identityUpdateForm.get("dateOfExpiry").touched&&!e.identityUpdateForm.get("dateOfExpiry").valid),l.Eb(7),l.rc("ngForOf",l.wc(14,rl)),l.Eb(1),l.rc("ngIf","YES"==e.identityUpdateForm.get("isAnotherIdProofRequired").value),l.Eb(2),l.rc("disabled",e.identityUpdateForm.invalid)}},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,X.b,I.f,E.a,C.b,v.c,v.r,v.i,Y.a,c.n,O.e,O.g,I.j,O.d,X.f,I.g,c.m,A.b,I.b,te.b,te.a,v.e,v.k,I.c,x.a,S.n,I.h],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),il);function sl(t,e){if(1&t&&(l.Xb(0,"mat-option",23),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function ll(t,e){if(1&t&&(l.Xb(0,"mat-option",23),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function bl(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Type Of Ownership is Required! "),l.Wb())}function ul(t,e){1&t&&(l.Xb(0,"legend",38),l.Tc(1,"Document Upload"),l.Wb())}function dl(t,e){if(1&t&&(l.Xb(0,"mat-option",39),l.Tc(1),l.Wb()),2&t){var a=e.$implicit,n=l.jc(2);l.rc("disabled",n.isDocumentOptionDisabled(a))("value",a),l.Eb(1),l.Vc(" ",a," ")}}function ml(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Document Type is Required!"),l.Wb(),l.Wb())}function pl(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",24),l.Rc(1,ul,2,0,"legend",25),l.Xb(2,"div",3),l.Xb(3,"div",26),l.Xb(4,"div",27),l.Xb(5,"mat-hint",5),l.Tc(6,"Document Type*"),l.Wb(),l.Xb(7,"mat-card",6),l.Xb(8,"mat-select",28),l.fc("valueChange",function(t){l.Hc(a);var n=e.index;return l.jc().changeValue(t,n)}),l.Xb(9,"mat-option",8),l.Tc(10,"select"),l.Wb(),l.Rc(11,dl,2,3,"mat-option",29),l.Wb(),l.Wb(),l.Rc(12,ml,3,0,"mat-error",12),l.Wb(),l.Xb(13,"div",30),l.Sb(14,"img",31),l.Wb(),l.Xb(15,"div",32),l.Xb(16,"input",33,34),l.fc("change",function(t){l.Hc(a);var n=e.index,o=l.Dc(17);return l.jc().onOtherDocSelect(t.target.files,n,o.files[0].name)}),l.Wb(),l.Xb(18,"button",35),l.fc("click",function(){return l.Hc(a),l.Dc(17).click()}),l.Tc(19,"Browse"),l.Wb(),l.Xb(20,"button",36),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index;return l.jc().deleteDocument(t,n)}),l.Xb(21,"mat-icon",37),l.Tc(22,"delete_outline"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.jc();l.rc("formGroupName",o),l.Eb(1),l.rc("ngIf",0==o),l.Eb(10),l.rc("ngForOf",i.documentTypeList),l.Eb(1),l.rc("ngIf",n.get("documentType").touched&&!n.get("documentType").valid),l.Eb(2),l.rc("src",n.controls.fileData.value,l.Jc)}}var fl,hl=((fl=function(){function t(e,a,o,i,r,c,s){var l=this;n(this,t),this.dialogRef=e,this.formBuilder=a,this.data=o,this.ls=i,this.apiService=r,this.corporateService=c,this.snack=s,this.organizationTypeList=["Public","Private"],this.typeOfOwnershipList=["Independent","Dependent"],this.kycStatusList=["APPROVED","BACKLOG","INITIATED","REJECTED"],this.otherDocumentArray=[],this.selectedOptions=[],this.selectedDocumentTypes=[],this.corporateDocs=[],this.isDocumentOptionDisabled=function(t){return l.selectedOptions.includes(t)}}return i(t,[{key:"ngOnInit",value:function(){var t=this;if(console.log(this.data),this.corporateId=this.ls.getItem("corporateId"),this.apiService.getDropDownValues("document_type").subscribe(function(e){t.documentTypeList=e}),this.data){this.data.corporateDocs=this.data.corporateDocs.filter(function(t){return"Profile"!=t.documentName}),this.buildOtherFormGroup(this.data);for(var e=0;e<this.data.corporateDocs.length;e++)this.addDocument(),this.otherInfoUpdateForm.controls.corporateDocs.controls[e].controls.documentType.setValue(this.data.corporateDocs[e].documentName),this.otherInfoUpdateForm.controls.corporateDocs.controls[e].controls.fileData.setValue(this.data.corporateDocs[e].fileUrl),this.otherInfoUpdateForm.controls.corporateDocs.controls[e].controls.documentName.setValue(this.data.corporateDocs[e].fileName)}}},{key:"buildOtherFormGroup",value:function(t){this.otherInfoUpdateForm=this.formBuilder.group({corporateId:[this.corporateId],organizationType:[t?t.organizationType:"",v.z.required],typeOfOwnership:[t?t.typeOfOwnership:"",v.z.required],kycReference:[t?t.kycReference:""],KycStatus:[t?t.kycStatus:""],corporateDocs:this.formBuilder.array([])})}},{key:"getDocumentList",get:function(){return this.otherInfoUpdateForm.get("corporateDocs")}},{key:"addDocument",value:function(){this.getDocumentList.push(this.formBuilder.group({documentType:["",[v.z.required]],documentName:["",[v.z.required]],fileData:[""]}))}},{key:"deleteDocument",value:function(t,e){this.getDocumentList.removeAt(e)}},{key:"changeValue",value:function(t,e){var a=this;console.log(e),this.selectedDocumentTypes[e]&&(this.selectedOptions=this.selectedOptions.filter(function(t){return t!==a.selectedDocumentTypes[e]})),this.selectedDocumentTypes[e]=t,console.log(t),this.selectedOptions.push(t)}},{key:"onOtherDocSelect",value:function(t,e,a){var n=this;this.otherDocumentArray.push(t.item(0)),this.otherInfoUpdateForm.get("corporateDocs").controls[e].controls.documentName.setValue(a);var o=new FileReader;o.readAsDataURL(t.item(0)),o.onload=function(t){n.otherInfoUpdateForm.get("corporateDocs").controls[e].controls.fileData.setValue(o.result)}}},{key:"onSubmit",value:function(t){var e=this,a={};Object.keys(t).map(function(e,n){"corporateDocs"!=e&&(a[e]=t[e])}),this.corporateService.saveOrUpdateCorporateAccountInfo(a).subscribe(function(t){if(null!=t){for(var a=0;a<e.otherInfoUpdateForm.get("corporateDocs").value.length;a++)if(e.otherDocumentArray.length>0){var n={};n.documentName=e.otherInfoUpdateForm.get("corporateDocs").value[a].documentType,n.documentType=2,n.fileType=e.otherDocumentArray[a].type,n.fileName=e.otherDocumentArray[a].name,n.corporateId=t.corporateId,n.id=e.otherDocumentArray[a].id;var o=new FormData;o.append("data",JSON.stringify(n)),o.append("file",e.otherDocumentArray[a]),e.apiService.uploadCorporateDocument(o).subscribe(function(t){console.log(t),e.corporateDocs.push(t)})}}else e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});e.dialogRef.close({status:"INITIATED",resp:{typeOfOwnership:t.typeOfOwnership,organizationType:t.organizationType,corporateDocs:e.corporateDocs}})},function(t){console.log("error resp :: ",t),e.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||fl)(l.Rb(p.g),l.Rb(v.f),l.Rb(p.a),l.Rb(m.a),l.Rb(b.b),l.Rb(zr.a),l.Rb(W.a))},fl.\u0275cmp=l.Lb({type:fl,selectors:[["app-update-corporate-addititonal-info"]],decls:45,vars:6,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33%","fxFl50ex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["id","forOrganizationType","formControlName","organizationType","required",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","33%","fxFlex.xs","100%",1,"full-width"],["id","forTypeOfOwnership","formControlName","typeOfOwnership","required",""],[4,"ngIf"],["formArrayName","corporateDocs"],[3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row wrap"],["fxFlex","100","fxLayoutGap","1px"],["fxFlex","1"],["fxFlex","20"],["mat-button","","color","primary",3,"click"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["visible","true",4,"ngIf"],["fxFlex","100","fxLayoutGap","20px",1,"padding"],["fxFlex","50","fxFlex.xs","100%",1,"full-width"],["id","forDocumentType","formControlName","documentType","required","",3,"valueChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.xs","100%",1,"pt20"],["height","80px","width","85px",3,"src"],["fxFlex","30","fxLayoutGap","5px",2,"display","flex","margin-top","20px","align-content","center","margin-left","30px"],["type","file","name","fileData","formControlName","fileData",1,"default-background",2,"display","none","margin-top","20px",3,"change"],["fileData",""],["mat-button","",2,"text-decoration","underline","color","#456EFE",3,"routerLink","click"],["mat-button","",3,"click"],[2,"color","tomato"],["visible","true"],[3,"disabled","value"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1"),l.Tc(4,"Other Information"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"form",2),l.Xb(7,"div"),l.Xb(8,"h3"),l.Tc(9,"Organization Information"),l.Wb(),l.Sb(10,"hr"),l.Xb(11,"div",3),l.Xb(12,"div",4),l.Xb(13,"mat-hint",5),l.Tc(14,"Organization Type"),l.Wb(),l.Xb(15,"mat-card",6),l.Xb(16,"mat-select",7),l.Xb(17,"mat-option",8),l.Tc(18,"select"),l.Wb(),l.Rc(19,sl,2,2,"mat-option",9),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",10),l.Xb(21,"mat-hint",5),l.Tc(22,"Type of Ownership"),l.Wb(),l.Xb(23,"mat-card",6),l.Xb(24,"mat-select",11),l.Xb(25,"mat-option",8),l.Tc(26,"select"),l.Wb(),l.Rc(27,ll,2,2,"mat-option",9),l.Wb(),l.Wb(),l.Rc(28,bl,2,0,"mat-error",12),l.Wb(),l.Xb(29,"div",13),l.Rc(30,pl,23,5,"div",14),l.Xb(31,"div",15),l.Xb(32,"div",16),l.Sb(33,"div",17),l.Xb(34,"div",18),l.Xb(35,"button",19),l.fc("click",function(){return e.addDocument()}),l.Xb(36,"mat-icon"),l.Tc(37,"add"),l.Wb(),l.Tc(38," ADD DOCUMENT "),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(39,"div",20),l.Xb(40,"button",21),l.fc("click",function(){return e.onSubmit(e.otherInfoUpdateForm.value)}),l.Tc(41,"Save"),l.Wb(),l.Tc(42," \xa0\xa0\xa0 "),l.Xb(43,"button",22),l.fc("click",function(){return e.close()}),l.Tc(44," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("formGroup",e.otherInfoUpdateForm),l.Eb(13),l.rc("ngForOf",e.organizationTypeList),l.Eb(8),l.rc("ngForOf",e.typeOfOwnershipList),l.Eb(1),l.rc("ngIf",e.otherInfoUpdateForm.get("typeOfOwnership").touched&&!e.otherInfoUpdateForm.get("typeOfOwnership").valid),l.Eb(2),l.rc("ngForOf",e.otherInfoUpdateForm.get("corporateDocs").controls),l.Eb(10),l.rc("disabled",e.otherInfoUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.e,v.A,v.s,v.j,X.b,I.f,E.a,x.a,v.r,v.i,v.y,S.n,c.m,c.n,v.e,X.f,A.b,I.b,v.k,v.c,Ze.i],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}legend[_ngcontent-%COMP%]{width:auto;color:grey;font-size:20px;padding-right:20px;font-family:Montserrat,Courier,monospace}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),fl);function gl(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Enter Valid Address "),l.Wb())}function vl(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Enter Valid Address "),l.Wb())}function yl(t,e){if(1&t&&(l.Xb(0,"mat-option",30),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Wl(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Country is Required! "),l.Wb())}function Xl(t,e){if(1&t&&(l.Xb(0,"mat-option",30),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.stateName),l.Eb(1),l.Vc(" ",a.stateName," ")}}function Tl(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," State is Required! "),l.Wb())}function Il(t,e){if(1&t&&(l.Xb(0,"mat-option",30),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.value1),l.Eb(1),l.Vc(" ",a.value1," ")}}function El(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," City is Required! "),l.Wb())}function Cl(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please enter valid Zip code"),l.Wb(),l.Wb())}function xl(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Please enter valid ZipCode!"),l.Wb(),l.Wb())}function Ol(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",20),l.Xb(1,"h3",7),l.Tc(2,"Company Address"),l.Wb(),l.Sb(3,"hr"),l.Xb(4,"div",21),l.Xb(5,"div",8),l.Xb(6,"mat-hint",9),l.Tc(7,"Address Line 1*"),l.Wb(),l.Xb(8,"mat-card",10),l.Sb(9,"input",22),l.Wb(),l.Rc(10,gl,2,0,"mat-error",12),l.Wb(),l.Xb(11,"div",8),l.Xb(12,"mat-hint",9),l.Tc(13,"Address Line 2*"),l.Wb(),l.Xb(14,"mat-card",10),l.Sb(15,"input",23),l.Wb(),l.Rc(16,vl,2,0,"mat-error",12),l.Wb(),l.Xb(17,"div",8),l.Xb(18,"mat-hint",9),l.Tc(19,"Country*"),l.Wb(),l.Xb(20,"mat-card",10),l.Xb(21,"mat-select",24),l.fc("selectionChange",function(t){l.Hc(a);var n=e.index;return l.jc().getStateName(t.value,n)}),l.Xb(22,"mat-option",25),l.Tc(23,"select"),l.Wb(),l.Rc(24,yl,2,2,"mat-option",26),l.Wb(),l.Wb(),l.Rc(25,Wl,2,0,"mat-error",12),l.Wb(),l.Xb(26,"div",8),l.Xb(27,"mat-hint",9),l.Tc(28,"State*"),l.Wb(),l.Xb(29,"mat-card",10),l.Xb(30,"mat-select",27),l.fc("selectionChange",function(t){l.Hc(a);var n=e.index;return l.jc().getCityName(t.value,n)}),l.Xb(31,"mat-option",25),l.Tc(32,"select---"),l.Wb(),l.Rc(33,Xl,2,2,"mat-option",26),l.Wb(),l.Wb(),l.Rc(34,Tl,2,0,"mat-error",12),l.Wb(),l.Xb(35,"div",8),l.Xb(36,"mat-hint",9),l.Tc(37,"City*"),l.Wb(),l.Xb(38,"mat-card",10),l.Xb(39,"mat-select",28),l.Xb(40,"mat-option",25),l.Tc(41,"select---"),l.Wb(),l.Rc(42,Il,2,2,"mat-option",26),l.Wb(),l.Wb(),l.Rc(43,El,2,0,"mat-error",12),l.Wb(),l.Xb(44,"div",8),l.Xb(45,"mat-hint",9),l.Tc(46,"Zip code*"),l.Wb(),l.Xb(47,"mat-card",10),l.Xb(48,"input",29),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)})("keyup",function(t){l.Hc(a);var n=e.index;return l.jc().isAllSameDigit(t,n)}),l.Wb(),l.Wb(),l.Rc(49,Cl,3,0,"mat-error",12),l.Rc(50,xl,3,0,"mat-error",12),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index,i=l.jc();l.rc("formGroupName",o),l.Eb(10),l.rc("ngIf",n.get("address1").touched&&!n.get("address1").valid||n.get("address1").touched&&n.get("address1").hasError("pattern")),l.Eb(6),l.rc("ngIf",n.get("address2").touched&&!n.get("address2").valid||n.get("address2").touched&&n.get("address2").hasError("pattern")),l.Eb(8),l.rc("ngForOf",i.arrayCountry),l.Eb(1),l.rc("ngIf",n.get("country").touched&&!n.get("country").valid),l.Eb(8),l.rc("ngForOf",i.arrayState),l.Eb(1),l.rc("ngIf",n.get("state").touched&&!n.get("state").valid),l.Eb(8),l.rc("ngForOf",i.arrayCity),l.Eb(1),l.rc("ngIf",n.get("city").touched&&!n.get("city").valid),l.Eb(6),l.rc("ngIf",n.get("zipCode").touched&&!n.get("zipCode").valid&&!n.controls.zipCode.hasError("minLength")),l.Eb(1),l.rc("ngIf",i.isAllSameDigitVal&&o==i.zipIndex)}}function Dl(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Primary Email is Required! "),l.Wb())}var Al,Rl=((Al=function(){function t(e,a,o,i,r,c,s){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.corporateService=i,this.ls=r,this.snack=c,this.apiService=s,this.arrayState=[],this.arrayCountry=[],this.arrayCity=[],this.isAllSameDigitVal=!1,this.corporateAddress=new v.d([])}return i(t,[{key:"ngOnInit",value:function(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.getCountryName("country"),this.data?(this.buildContactForm(this.data[0]),this.corporateAddress=this.updateContactInfoForm.get("corporateAddress"),this.corporateAddress.push(this.createUserAddress(this.data[0])),this.getStateName(this.corporateAddress.get("country").value),this.getStateName(this.corporateAddress.get("state").value)):(this.buildContactForm(),this.corporateAddress=this.updateContactInfoForm.get("corporateAddress"),this.corporateAddress.push(this.createUserAddress()))}},{key:"buildContactForm",value:function(t){this.updateContactInfoForm=this.formBuilder.group({corporateId:[this.corporateId],primaryEmail:[t?t.primaryEmail:"",[v.z.required]],secondaryEmail:[t?t.secondaryEmail:""],mobileNumber:[t?t.mobileNumber:"",[v.z.minLength(10),v.z.maxLength(10)]],landLine:[t?t.landlineNumber:"",[v.z.maxLength,v.z.minLength]],isMailingAddressSame:["YES"],corporateAddress:this.formBuilder.array([])})}},{key:"createUserAddress",value:function(t){return this.formBuilder.group({addressType:["Communication",[v.z.required]],address1:[t?t.address1:[""],[v.z.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[v.z.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"isAllSameDigit",value:function(t,e){this.zipIndex=e;var a=0,n=t.target.value;if(""!=n){for(var o=0;o<n.length;o++)0==n[o]&&a++;this.isAllSameDigitVal=a==n.length}else this.isAllSameDigitVal=!1}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getAllCountries().subscribe(function(t){for(var a=0;a<t.length;a++)"A"===t[a].authStatus&&e.arrayCountry.push(t[a].countryName)})}},{key:"getStateName",value:function(t){var e=this;this.arrayState=[],this.arrayCity=[],this.apiService.getAllCountries().subscribe(function(a){for(var n=0;n<a.length;n++)if(a[n].countryName==t){e.apiService.getStateByCountryId(a[n].id).subscribe(function(t){e.arrayState=t});break}})}},{key:"getCityName",value:function(t){var e=this;this.apiService.getDropDownValues1("city",t).subscribe(function(t){e.arrayCity=t})}},{key:"onSubmit",value:function(t){var e=this;"NO"==t.isMailingAddressSame&&(t.corporateAddress[0].addressType="Company",t.corporateAddress[1].addressType="Mailing"),"YES"==t.isMailingAddressSame&&(t.corporateAddress[0].addressType="Company"),this.corporateService.saveOrUpdateCorporateAccountInfo(t).subscribe(function(t){null!=t&&(e.corporateService.sendCorporateAccountId(t.corporateId),e.snack.open("Contact Information Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.dialogRef.close({status:"INITIATED",resp:e.updateContactInfoForm.value}))})}},{key:"close",value:function(){this.dialogRef.close({status:"UNDER_PROCESS"})}}]),t}()).\u0275fac=function(t){return new(t||Al)(l.Rb(p.a),l.Rb(p.g),l.Rb(v.f),l.Rb(zr.a),l.Rb(m.a),l.Rb(W.a),l.Rb(b.b))},Al.\u0275cmp=l.Lb({type:Al,selectors:[["app-update-corporate-contact-info"]],decls:45,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title","",2,"font-size","18px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["formArrayName","corporateAddress"],["fxFlex","row wrap","class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],[1,"heading",2,"font-weight","600"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","id","forPrimaryEmail","formControlName","primaryEmail","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"],[4,"ngIf"],["matInput","","id","forSecondaryEmail","formControlName","secondaryEmail","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"],["FxLayout","row wrap",1,"full-width"],["matInput","","placeholder","Mobile Number","formControlName","mobileNumber","maxLength","10","minlength","10","onlyNumber","","required","",3,"keypress"],["matInput","","placeholder","Landline Number","formControlName","landLine","maxLength","10","minLength","10","onlyNumber","",3,"keypress"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxFlex","row wrap",1,"full-width",3,"formGroupName"],["fxLayout","row wrap"],["matInput","","placeholder","Address Line 1","formControlName","address1","id","forAddress1"],["matInput","","placeholder","Address Line 2","formControlName","address2","id","forAddress2"],["id","forcountry","formControlName","country",3,"selectionChange"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["id","forstate","formControlName","state",3,"selectionChange"],["id","forCity","formControlName","city"],["minlength","6","placeholder","Zip Code","maxlength","10","matInput","","id","forZipCode","onlyNumber","","formControlName","zipCode",3,"keypress","keyup"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h2",2),l.Tc(4,"Contact Information"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"form",3),l.Xb(7,"div",4),l.Xb(8,"div",5),l.Rc(9,Ol,51,11,"div",6),l.Wb(),l.Xb(10,"h3",7),l.Tc(11,"Email"),l.Wb(),l.Sb(12,"hr"),l.Xb(13,"div",4),l.Xb(14,"div",8),l.Xb(15,"mat-hint",9),l.Tc(16,"Primary Email*"),l.Wb(),l.Xb(17,"mat-card",10),l.Sb(18,"input",11),l.Wb(),l.Rc(19,Dl,2,0,"mat-error",12),l.Wb(),l.Xb(20,"div",8),l.Xb(21,"mat-hint",9),l.Tc(22,"Secondary Email"),l.Wb(),l.Xb(23,"mat-card",10),l.Sb(24,"input",13),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"h3",7),l.Tc(26,"Contact Number"),l.Wb(),l.Sb(27,"hr"),l.Xb(28,"div",14),l.Xb(29,"div",8),l.Xb(30,"mat-hint",9),l.Tc(31,"Mobile Number*"),l.Wb(),l.Xb(32,"mat-card",10),l.Xb(33,"input",15),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(34,"div",8),l.Xb(35,"mat-hint",9),l.Tc(36,"Landline Number"),l.Wb(),l.Xb(37,"mat-card",10),l.Xb(38,"input",16),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(39,"div",17),l.Xb(40,"button",18),l.fc("click",function(){return e.onSubmit(e.updateContactInfoForm.value)}),l.Tc(41,"Save"),l.Wb(),l.Tc(42," \xa0\xa0\xa0 "),l.Xb(43,"button",19),l.fc("click",function(){return e.close()}),l.Tc(44," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("formGroup",e.updateContactInfoForm),l.Eb(3),l.rc("ngForOf",e.updateContactInfoForm.get("corporateAddress").controls),l.Eb(10),l.rc("ngIf",e.updateContactInfoForm.get("primaryEmail").touched&&!e.updateContactInfoForm.get("primaryEmail").valid),l.Eb(21),l.rc("disabled",e.updateContactInfoForm.invalid))},directives:[X.e,X.d,T.a,p.h,p.e,v.A,v.s,v.j,v.e,c.m,X.b,I.f,E.a,C.b,v.c,v.r,v.i,v.w,c.n,v.n,Y.a,v.y,X.f,A.b,v.k,x.a,S.n,v.m,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),Al),Sl=["ncForm"];function kl(t,e){1&t&&l.Sb(0,"mat-spinner")}function Nl(t,e){if(1&t&&(l.Xb(0,"div",15),l.Xb(1,"h1",16),l.Tc(2),l.kc(3,"slice"),l.kc(4,"uppercase"),l.Wb(),l.Wb()),2&t){var a=l.jc(2);l.Oc("background",a.customerColorCode),l.Eb(2),l.Vc("",l.nc(3,3,l.lc(4,7,null==a.dataResponse||null==a.dataResponse.dataResp?null:a.dataResponse.dataResp.companyName),0,1)," ")}}function Pl(t,e){if(1&t&&l.Sb(0,"img",18),2&t){var a=l.jc(3);l.rc("src",a.imageUrl,l.Jc)}}function Fl(t,e){if(1&t&&(l.Xb(0,"div",15),l.Rc(1,Pl,1,1,"img",17),l.Wb()),2&t){var a=l.jc(2);l.Eb(1),l.rc("ngIf",null!=a.image)}}function Ll(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",19),l.Xb(1,"div",20),l.Xb(2,"div",21),l.Tc(3,"1"),l.Wb(),l.Xb(4,"div",22),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"mat-card",23),l.Xb(7,"div",24),l.Xb(8,"div",25),l.Xb(9,"div",26),l.Xb(10,"h2",27),l.Tc(11,"Basic Information"),l.Wb(),l.Xb(12,"span"),l.Xb(13,"mat-icon",28),l.fc("click",function(){return l.Hc(a),l.jc(2).editBasicInfo()}),l.Tc(14,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(15,"mat-divider",29),l.Wb(),l.Xb(16,"div",30),l.Xb(17,"div",31),l.Xb(18,"div",32),l.Xb(19,"div",33),l.Xb(20,"div",34),l.Xb(21,"div",35),l.Xb(22,"div",36),l.Xb(23,"div",37),l.Xb(24,"mat-hint",38),l.Tc(25," Corporate ID "),l.Wb(),l.Xb(26,"mat-card",39),l.Xb(27,"div"),l.Tc(28),l.Wb(),l.Wb(),l.Wb(),l.Xb(29,"div",37),l.Xb(30,"mat-hint",38),l.Tc(31," Company Name "),l.Wb(),l.Xb(32,"mat-card",39),l.Xb(33,"div"),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"div",37),l.Xb(36,"mat-hint",38),l.Tc(37," Category "),l.Wb(),l.Xb(38,"mat-card",39),l.Xb(39,"div"),l.Tc(40),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(41,"div",36),l.Xb(42,"div",37),l.Xb(43,"mat-hint",38),l.Tc(44," Country "),l.Wb(),l.Xb(45,"mat-card",39),l.Xb(46,"div"),l.Tc(47),l.Wb(),l.Wb(),l.Wb(),l.Xb(48,"div",37),l.Xb(49,"mat-hint",38),l.Tc(50," Corporate Status "),l.Wb(),l.Xb(51,"mat-card",39),l.Xb(52,"div"),l.Tc(53),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(13),l.rc("hidden",n.editScreen),l.Eb(15),l.Uc(n.dataResponse.dataResp.corporateId),l.Eb(6),l.Uc(n.dataResponse.dataResp.companyName),l.Eb(6),l.Uc(n.dataResponse.dataResp.category),l.Eb(7),l.Uc(n.dataResponse.dataResp.country),l.Eb(6),l.Uc(n.dataResponse.dataResp.corporateStatus)}}function _l(t,e){if(1&t&&(l.Xb(0,"div",51),l.Xb(1,"mat-hint",38),l.Tc(2," No Of Directors "),l.Wb(),l.Xb(3,"mat-card",39),l.Xb(4,"div"),l.Tc(5),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc(4);l.Eb(5),l.Uc(a.dataResponse.dataResp.noOfDirectors)}}function wl(t,e){if(1&t&&(l.Xb(0,"div",51),l.Xb(1,"mat-hint",38),l.Tc(2," Middle Name "),l.Wb(),l.Xb(3,"mat-card",39),l.Xb(4,"div"),l.Tc(5),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(5),l.Uc(a.middleName)}}function Ul(t,e){if(1&t&&(l.Xb(0,"div",30),l.Xb(1,"div",31),l.Xb(2,"div",32),l.Xb(3,"div",33),l.Xb(4,"div",34),l.Xb(5,"div",35),l.Xb(6,"div",36),l.Rc(7,_l,6,1,"div",44),l.Xb(8,"div",37),l.Xb(9,"mat-hint",38),l.Tc(10," CIF Number "),l.Wb(),l.Xb(11,"mat-card",39),l.Xb(12,"div"),l.Tc(13),l.Wb(),l.Wb(),l.Wb(),l.Xb(14,"div",37),l.Xb(15,"mat-hint",38),l.Tc(16," Customer ID "),l.Wb(),l.Xb(17,"mat-card",39),l.Xb(18,"div"),l.Tc(19),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",36),l.Xb(21,"div",37),l.Xb(22,"mat-hint",38),l.Tc(23," Prefix* "),l.Wb(),l.Xb(24,"mat-card",39),l.Xb(25,"div"),l.Tc(26),l.Wb(),l.Wb(),l.Wb(),l.Xb(27,"div",37),l.Xb(28,"mat-hint",38),l.Tc(29," First Name* "),l.Wb(),l.Xb(30,"mat-card",39),l.Xb(31,"div"),l.Tc(32),l.Wb(),l.Wb(),l.Wb(),l.Rc(33,wl,6,1,"div",44),l.Xb(34,"div",37),l.Xb(35,"mat-hint",38),l.Tc(36," Last Name* "),l.Wb(),l.Xb(37,"mat-card",39),l.Xb(38,"div"),l.Tc(39),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(40,"div",36),l.Xb(41,"div",37),l.Xb(42,"mat-hint",38),l.Tc(43," Gender* "),l.Wb(),l.Xb(44,"mat-card",39),l.Xb(45,"div"),l.Tc(46),l.Wb(),l.Wb(),l.Wb(),l.Xb(47,"div",37),l.Xb(48,"mat-hint",38),l.Tc(49," Date of Birth* "),l.Wb(),l.Xb(50,"mat-card",39),l.Xb(51,"div"),l.Tc(52),l.Wb(),l.Wb(),l.Wb(),l.Xb(53,"div",37),l.Xb(54,"mat-hint",38),l.Tc(55," Place of Birth* "),l.Wb(),l.Xb(56,"mat-card",39),l.Xb(57,"div"),l.Tc(58),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(59,"div",30),l.Xb(60,"div",37),l.Xb(61,"mat-hint",38),l.Tc(62," Residence type*"),l.Wb(),l.Xb(63,"mat-card",39),l.Xb(64,"div"),l.Tc(65),l.Wb(),l.Wb(),l.Wb(),l.Xb(66,"div",37),l.Xb(67,"mat-hint",38),l.Tc(68," Citizenship*"),l.Wb(),l.Xb(69,"mat-card",39),l.Xb(70,"div"),l.Tc(71),l.Wb(),l.Wb(),l.Wb(),l.Xb(72,"div",37),l.Xb(73,"mat-hint",38),l.Tc(74," Country of Residence*"),l.Wb(),l.Xb(75,"mat-card",39),l.Xb(76,"div"),l.Tc(77),l.Wb(),l.Wb(),l.Wb(),l.Xb(78,"div",37),l.Xb(79,"mat-hint",38),l.Tc(80," ID Type*"),l.Wb(),l.Xb(81,"mat-card",39),l.Xb(82,"div"),l.Tc(83),l.Wb(),l.Wb(),l.Wb(),l.Xb(84,"div",37),l.Xb(85,"mat-hint",38),l.Tc(86," ID Number*"),l.Wb(),l.Xb(87,"mat-card",39),l.Xb(88,"div"),l.Tc(89),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(90,"div",34),l.Xb(91,"div",45),l.Xb(92,"h1",46),l.Tc(93,"Communication Address"),l.Wb(),l.Wb(),l.Wb(),l.Sb(94,"hr",47),l.Xb(95,"div",30),l.Xb(96,"div",48),l.Xb(97,"mat-hint",38),l.Tc(98," Address Line 1* "),l.Wb(),l.Xb(99,"mat-card",39),l.Xb(100,"div"),l.Tc(101),l.Wb(),l.Wb(),l.Wb(),l.Xb(102,"div",48),l.Xb(103,"mat-hint",38),l.Tc(104," Address Line 2* "),l.Wb(),l.Xb(105,"mat-card",39),l.Xb(106,"div"),l.Tc(107),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(108,"div",30),l.Xb(109,"div",49),l.Xb(110,"mat-hint",38),l.Tc(111," Country* "),l.Wb(),l.Xb(112,"mat-card",39),l.Xb(113,"div"),l.Tc(114),l.Wb(),l.Wb(),l.Wb(),l.Xb(115,"div",49),l.Xb(116,"mat-hint",38),l.Tc(117," State* "),l.Wb(),l.Xb(118,"mat-card",39),l.Xb(119,"div"),l.Tc(120),l.Wb(),l.Wb(),l.Wb(),l.Xb(121,"div",49),l.Xb(122,"mat-hint",38),l.Tc(123," City* "),l.Wb(),l.Xb(124,"mat-card",39),l.Xb(125,"div"),l.Tc(126),l.Wb(),l.Wb(),l.Wb(),l.Xb(127,"div",49),l.Xb(128,"mat-hint",38),l.Tc(129," Zipcode* "),l.Wb(),l.Xb(130,"mat-card",39),l.Xb(131,"div"),l.Tc(132),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(133,"div",34),l.Xb(134,"div",45),l.Xb(135,"h1",46),l.Tc(136,"Contact Information"),l.Wb(),l.Wb(),l.Wb(),l.Sb(137,"hr",47),l.Xb(138,"div",30),l.Xb(139,"div",37),l.Xb(140,"mat-hint",38),l.Tc(141," Mobile Number* "),l.Wb(),l.Xb(142,"mat-card",39),l.Xb(143,"div"),l.Tc(144),l.Wb(),l.Wb(),l.Wb(),l.Xb(145,"div",37),l.Xb(146,"mat-hint",38),l.Tc(147," Landline Number* "),l.Wb(),l.Xb(148,"mat-card",39),l.Xb(149,"div"),l.Tc(150),l.Wb(),l.Wb(),l.Wb(),l.Xb(151,"div",37),l.Xb(152,"mat-hint",38),l.Tc(153," Email* "),l.Wb(),l.Xb(154,"mat-card",39),l.Xb(155,"div"),l.Tc(156),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(157,"div",30),l.Xb(158,"div",50),l.Xb(159,"h1",46),l.Tc(160,"Additional Tax ID Details"),l.Wb(),l.Wb(),l.Wb(),l.Sb(161,"hr",47),l.Xb(162,"div",30),l.Xb(163,"div",48),l.Xb(164,"mat-hint",38),l.Tc(165," Tax ID* "),l.Wb(),l.Xb(166,"mat-card",39),l.Xb(167,"div"),l.Tc(168),l.Wb(),l.Wb(),l.Wb(),l.Xb(169,"div",48),l.Xb(170,"mat-hint",38),l.Tc(171," Country of Issue* "),l.Wb(),l.Xb(172,"mat-card",39),l.Xb(173,"div"),l.Tc(174),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=l.jc(3);l.Eb(7),l.rc("ngIf",n.dataResponse.dataResp.middleName),l.Eb(6),l.Uc(a.cifNumber),l.Eb(6),l.Uc(a.custStatus),l.Eb(7),l.Uc(a.prefix),l.Eb(6),l.Uc(a.firstName),l.Eb(1),l.rc("ngIf",n.dataResponse.dataResp.middleName),l.Eb(6),l.Uc(a.lastName),l.Eb(7),l.Uc(a.gender),l.Eb(6),l.Uc(a.dateOfBirth),l.Eb(6),l.Uc(a.placeOfBirth),l.Eb(7),l.Uc(a.residenceStatus),l.Eb(6),l.Uc(n.dataResponse.dataResp.customerInfo[0].citizenship),l.Eb(6),l.Uc(n.dataResponse.dataResp.customerInfo[0].countryOfResidence),l.Eb(6),l.Uc(null==n.dataResponse.dataResp.customerInfo[0].custIdProofs[0]?null:n.dataResponse.dataResp.customerInfo[0].custIdProofs[0].idType),l.Eb(6),l.Uc(null==n.dataResponse.dataResp.customerInfo[0].custIdProofs[0]?null:n.dataResponse.dataResp.customerInfo[0].custIdProofs[0].idNumber),l.Eb(12),l.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].address1),l.Eb(6),l.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].address2),l.Eb(7),l.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].country),l.Eb(6),l.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].state),l.Eb(6),l.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].city),l.Eb(6),l.Uc(n.dataResponse.dataResp.customerInfo[0].userAddress[0].zipCode),l.Eb(12),l.Uc(n.dataResponse.dataResp.customerInfo[0].phoneNumber),l.Eb(6),l.Uc(n.dataResponse.dataResp.customerInfo[0].landlineNumber),l.Eb(6),l.Uc(n.dataResponse.dataResp.customerInfo[0].primaryEmailAdress),l.Eb(12),l.Uc(n.dataResponse.dataResp.customerInfo[0].custTaxInfo[0].taxId),l.Eb(6),l.Uc(n.dataResponse.dataResp.customerInfo[0].custTaxInfo[0].countryOfIssue)}}function Ml(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",19),l.Xb(1,"div",20),l.Xb(2,"div",21),l.Tc(3,"2"),l.Wb(),l.Xb(4,"div",22),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"mat-card",40),l.Xb(7,"div",41),l.Xb(8,"div",42),l.Xb(9,"div",26),l.Xb(10,"h2",27),l.Tc(11,"Director Details"),l.Wb(),l.Xb(12,"span"),l.Xb(13,"mat-icon",28),l.fc("click",function(){return l.Hc(a),l.jc(2).editDirectorDetails()}),l.Tc(14,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(15,"mat-divider",29),l.Wb(),l.Rc(16,Ul,175,26,"div",43),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(13),l.rc("hidden",n.editScreen),l.Eb(3),l.rc("ngForOf",n.directorsInfo_array)}}function Gl(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div",30),l.Xb(2,"div",31),l.Xb(3,"div",54),l.Xb(4,"div",34),l.Xb(5,"div",45),l.Xb(6,"h1",46),l.Tc(7,"Company Address"),l.Wb(),l.Wb(),l.Wb(),l.Sb(8,"hr",47),l.Xb(9,"div",30),l.Xb(10,"div",48),l.Xb(11,"mat-hint",38),l.Tc(12," Address Line 1* "),l.Wb(),l.Xb(13,"mat-card",39),l.Xb(14,"div"),l.Tc(15),l.Wb(),l.Wb(),l.Wb(),l.Xb(16,"div",48),l.Xb(17,"mat-hint",38),l.Tc(18," Address Line 2* "),l.Wb(),l.Xb(19,"mat-card",39),l.Xb(20,"div"),l.Tc(21),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(22,"div",30),l.Xb(23,"div",49),l.Xb(24,"mat-hint",38),l.Tc(25," Country* "),l.Wb(),l.Xb(26,"mat-card",39),l.Xb(27,"div"),l.Tc(28),l.Wb(),l.Wb(),l.Wb(),l.Xb(29,"div",49),l.Xb(30,"mat-hint",38),l.Tc(31," State* "),l.Wb(),l.Xb(32,"mat-card",39),l.Xb(33,"div"),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"div",49),l.Xb(36,"mat-hint",38),l.Tc(37," City* "),l.Wb(),l.Xb(38,"mat-card",39),l.Xb(39,"div"),l.Tc(40),l.Wb(),l.Wb(),l.Wb(),l.Xb(41,"div",49),l.Xb(42,"mat-hint",38),l.Tc(43," Zipcode* "),l.Wb(),l.Xb(44,"mat-card",39),l.Xb(45,"div"),l.Tc(46),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(47,"div",34),l.Xb(48,"div",45),l.Xb(49,"h1",46),l.Tc(50,"Email"),l.Wb(),l.Wb(),l.Wb(),l.Sb(51,"hr",47),l.Xb(52,"div",30),l.Xb(53,"div",49),l.Xb(54,"mat-hint",38),l.Tc(55," Primary Email* "),l.Wb(),l.Xb(56,"mat-card",39),l.Xb(57,"div"),l.Tc(58),l.Wb(),l.Wb(),l.Wb(),l.Xb(59,"div",49),l.Xb(60,"mat-hint",38),l.Tc(61," Secondary Email "),l.Wb(),l.Xb(62,"mat-card",39),l.Xb(63,"div"),l.Tc(64),l.Wb(),l.Wb(),l.Wb(),l.Xb(65,"div",34),l.Xb(66,"div",45),l.Xb(67,"h1",46),l.Tc(68,"Contact Number"),l.Wb(),l.Wb(),l.Wb(),l.Sb(69,"hr",47),l.Xb(70,"div",49),l.Xb(71,"mat-hint",38),l.Tc(72," Mobile Number* "),l.Wb(),l.Xb(73,"mat-card",39),l.Xb(74,"div"),l.Tc(75),l.Wb(),l.Wb(),l.Wb(),l.Xb(76,"div",49),l.Xb(77,"mat-hint",38),l.Tc(78," Landline Number* "),l.Wb(),l.Xb(79,"mat-card",39),l.Xb(80,"div"),l.Tc(81),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc(3);l.Eb(15),l.Uc(a.dataResponse.dataResp.corporateAddress[0].address1),l.Eb(6),l.Uc(a.dataResponse.dataResp.corporateAddress[0].address2),l.Eb(7),l.Uc(a.dataResponse.dataResp.corporateAddress[0].country),l.Eb(6),l.Uc(a.dataResponse.dataResp.corporateAddress[0].state),l.Eb(6),l.Uc(a.dataResponse.dataResp.corporateAddress[0].city),l.Eb(6),l.Uc(a.dataResponse.dataResp.corporateAddress[0].zipCode),l.Eb(12),l.Uc(a.dataResponse.dataResp.primaryEmail),l.Eb(6),l.Uc(a.dataResponse.dataResp.secondaryEmail),l.Eb(11),l.Uc(a.dataResponse.dataResp.mobileNumber),l.Eb(6),l.Uc(a.dataResponse.dataResp.customerInfo[0].landlineNumber)}}function Vl(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",19),l.Xb(1,"div",20),l.Xb(2,"div",21),l.Tc(3,"3"),l.Wb(),l.Xb(4,"div",22),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"mat-card",52),l.Xb(7,"div",24),l.Xb(8,"div",41),l.Xb(9,"div",42),l.Xb(10,"div",26),l.Xb(11,"h2",27),l.Tc(12,"Contact Information"),l.Wb(),l.Xb(13,"span"),l.Xb(14,"mat-icon",28),l.fc("click",function(){return l.Hc(a),l.jc(2).editContactInfo()}),l.Tc(15,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(16,"mat-divider",29),l.Wb(),l.Rc(17,Gl,82,10,"div",53),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(14),l.rc("hidden",n.editScreen),l.Eb(3),l.rc("ngForOf",n.userAddress_array)}}function jl(t,e){1&t&&(l.Xb(0,"small",58),l.Tc(1,"No Data Found"),l.Wb())}function Bl(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div",36),l.Xb(2,"div",37),l.Xb(3,"mat-hint",38),l.Tc(4," Incorporation Number "),l.Wb(),l.Xb(5,"mat-card",39),l.Xb(6,"div"),l.Tc(7),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"div",37),l.Xb(9,"mat-hint",38),l.Tc(10," Date Of Issue "),l.Wb(),l.Xb(11,"mat-card",39),l.Xb(12,"div"),l.Tc(13),l.Wb(),l.Wb(),l.Wb(),l.Xb(14,"div",37),l.Xb(15,"mat-hint",38),l.Tc(16," Date Of Expiry "),l.Wb(),l.Xb(17,"mat-card",39),l.Xb(18,"div"),l.Tc(19),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc(3);l.Eb(7),l.Uc(a.dataResponse.dataResp.incorporationNumber),l.Eb(6),l.Uc(a.dataResponse.dataResp.dateOfIssue),l.Eb(6),l.Uc(a.dataResponse.dataResp.dateOfExpiry)}}function zl(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",19),l.Xb(1,"div",20),l.Xb(2,"div",21),l.Tc(3,"4"),l.Wb(),l.Xb(4,"div",22),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"mat-card",55),l.Xb(7,"div",41),l.Xb(8,"div",42),l.Xb(9,"div",26),l.Xb(10,"h2",27),l.Tc(11,"Proof Of Identity"),l.Wb(),l.Xb(12,"span"),l.Xb(13,"mat-icon",28),l.fc("click",function(){return l.Hc(a),l.jc(2).editProofOfIdentity()}),l.Tc(14,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(15,"mat-divider",29),l.Wb(),l.Xb(16,"div"),l.Xb(17,"div",56),l.Xb(18,"div",54),l.Rc(19,jl,2,0,"small",57),l.Rc(20,Bl,20,3,"div",1),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(13),l.rc("hidden",n.editScreen),l.Eb(6),l.rc("ngIf",null==n.custDoc_array),l.Eb(1),l.rc("ngIf",null!=n.custDoc_array&&(null==n.custDoc_array?null:n.custDoc_array.length)>0)}}function ql(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div",37),l.Xb(2,"mat-hint",38),l.Tc(3," Document Type* "),l.Wb(),l.Xb(4,"mat-card",39),l.Xb(5,"div"),l.Tc(6),l.Wb(),l.Wb(),l.Wb(),l.Xb(7,"div",37),l.Xb(8,"mat-hint",61),l.Tc(9," \xa0\xa0 Document Name* "),l.Wb(),l.Xb(10,"div",62),l.Sb(11,"img",63),l.Xb(12,"div"),l.Tc(13),l.Wb(),l.Wb(),l.Wb(),l.Xb(14,"div",37),l.Xb(15,"div",64),l.Xb(16,"a",65),l.Tc(17,"Download "),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(6),l.Uc(a.documentName),l.Eb(5),l.rc("src",a.fileUrl,l.Jc),l.Eb(2),l.Uc(a.fileName),l.Eb(3),l.sc("href",a.fileUrl,l.Jc)}}function Jl(t,e){if(1&t&&(l.Xb(0,"div",33),l.Rc(1,ql,18,4,"div",1),l.Wb()),2&t){var a=e.$implicit;l.Eb(1),l.rc("ngIf","Profile"!=a.documentName)}}function Kl(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",19),l.Xb(1,"div",20),l.Xb(2,"div",21),l.Tc(3,"5"),l.Wb(),l.Xb(4,"div",22),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"mat-card",59),l.Xb(7,"div",41),l.Xb(8,"div",42),l.Xb(9,"div",26),l.Xb(10,"h2",27),l.Tc(11,"Other Information"),l.Wb(),l.Xb(12,"span"),l.Xb(13,"mat-icon",28),l.fc("click",function(){return l.Hc(a),l.jc(2).editOtherInfo()}),l.Tc(14,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(15,"mat-divider",29),l.Wb(),l.Xb(16,"div",30),l.Xb(17,"div",31),l.Xb(18,"div",32),l.Xb(19,"div",33),l.Xb(20,"div",34),l.Xb(21,"div",45),l.Xb(22,"h1",46),l.Tc(23,"Organization Information"),l.Wb(),l.Wb(),l.Sb(24,"hr",47),l.Xb(25,"div",35),l.Xb(26,"div",36),l.Xb(27,"div",37),l.Xb(28,"mat-hint",38),l.Tc(29," Organization Type "),l.Wb(),l.Xb(30,"mat-card",39),l.Xb(31,"div"),l.Tc(32),l.Wb(),l.Wb(),l.Wb(),l.Xb(33,"div",37),l.Xb(34,"mat-hint",38),l.Tc(35," Type of Ownership "),l.Wb(),l.Xb(36,"mat-card",39),l.Xb(37,"div"),l.Tc(38),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(39,"div",34),l.Rc(40,Jl,2,1,"div",60),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(13),l.rc("hidden",n.editScreen),l.Eb(19),l.Uc(n.dataResponse.dataResp.organizationType),l.Eb(6),l.Uc(n.dataResponse.dataResp.typeOfOwnership),l.Eb(2),l.rc("ngForOf",n.custDoc_array)}}var $l=function(t,e){return{disabledbtn:t,continueBtn:e}},Hl=function(t,e){return{disabledbtn:t,rejectButton:e}},Yl=function(t,e){return{disabledbtn:t,approveButton:e}};function Zl(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",66),l.Xb(1,"div",67),l.fc("click",function(){return l.Hc(a),l.jc(2).continue()}),l.Xb(2,"label",68),l.Tc(3,"Cotinue"),l.Wb(),l.Wb(),l.Tc(4," \xa0\xa0 "),l.Xb(5,"div",69),l.fc("click",function(){l.Hc(a);var t=l.jc(2);return t.updateApplicationStatus(t.dataResponse,"REJECTED")}),l.Xb(6,"mat-icon",70),l.Tc(7," highlight_off "),l.Wb(),l.Tc(8,"\xa0\xa0\xa0 "),l.Xb(9,"label",71),l.Tc(10,"Reject"),l.Wb(),l.Wb(),l.Tc(11," \xa0\xa0 "),l.Xb(12,"div",72),l.fc("click",function(){l.Hc(a);var t=l.jc(2);return t.updateApplicationStatus(t.dataResponse,"APPROVED")}),l.Xb(13,"mat-icon",73),l.Tc(14,"check_circle"),l.Wb(),l.Tc(15,"\xa0\xa0\xa0 "),l.Xb(16,"label",74),l.Tc(17,"Approve"),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(1),l.rc("hidden",n.continueStatus)("ngClass",l.yc(6,$l,n.continueStatus,!n.continueStatus)),l.Eb(4),l.rc("hidden",n.rejectedStatus)("ngClass",l.yc(9,Hl,n.rejectedStatus,!n.rejectedStatus)),l.Eb(7),l.rc("hidden",n.approvedStatus)("ngClass",l.yc(12,Yl,n.approvedStatus,!n.approvedStatus))}}function Ql(t,e){if(1&t&&(l.Xb(0,"div",7),l.Xb(1,"div",8),l.Xb(2,"div",9),l.Rc(3,Nl,5,9,"div",10),l.Rc(4,Fl,2,1,"div",11),l.Wb(),l.Wb(),l.Sb(5,"br"),l.Sb(6,"br"),l.Sb(7,"br"),l.Sb(8,"br"),l.Xb(9,"div",12),l.Xb(10,"h2"),l.Tc(11),l.Wb(),l.Wb(),l.Rc(12,Ll,54,6,"div",13),l.Rc(13,Ml,17,2,"div",13),l.Rc(14,Vl,18,2,"div",13),l.Sb(15,"br"),l.Rc(16,zl,21,3,"div",13),l.Rc(17,Kl,41,4,"div",13),l.Rc(18,Zl,18,15,"div",14),l.Sb(19,"br"),l.Wb()),2&t){var a=l.jc();l.Eb(3),l.rc("ngIf","not_available"==a.imageUrl),l.Eb(1),l.rc("ngIf","not_available"!=a.imageUrl),l.Eb(7),l.Vc("",null==a.dataResponse||null==a.dataResponse.dataResp?null:a.dataResponse.dataResp.companyName,"\xa0 "),l.Eb(1),l.rc("ngIf",!a.loading),l.Eb(1),l.rc("ngIf",!a.loading),l.Eb(1),l.rc("ngIf",!a.loading),l.Eb(2),l.rc("ngIf",!a.loading),l.Eb(1),l.rc("ngIf",!a.loading),l.Eb(1),l.rc("ngIf",!a.loading)}}var tb,eb=((tb=function(){function t(e,a,o,i,r,c,s,l,b,u,d){n(this,t),this.tasSumService=e,this.cdr=a,this.router=o,this.ls=i,this.apiService=r,this.dialogRef=c,this.dataResponse=s,this.sanitizer=l,this.snack=b,this.dialog=u,this.jwtService=d,this.selectedIndex=0,this.addNewProof=!1,this.arrayPrefix=[],this.arrayGender=[],this.arrayMaritalStatus=[],this.arrayCountry=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayEmploymentType=[],this.arrayEmployerName=[],this.otherDocumentArray=[],this.proofDocumentArray=[],this.loading=!0,this.isOnGoing=""}return i(t,[{key:"ngOnInit",value:function(){var t=this;setTimeout(function(){var e,a,n;t.loading=!0,t.corporateId=t.dataResponse.dataResp.corporateId,t.ls.setItem("corporateId",t.corporateId),t.custDoc_array=t.dataResponse.dataResp.corporateDocs,t.getCustomerDocumentsDetails1(t.corporateId),t.phoneNum=t.dataResponse.dataResp.category,t.emailID=t.dataResponse.dataResp.companyName,t.customerColorCode=localStorage.getItem("CustomerColorCode"),t.apiService.getCoropratedetails(t.corporateId).subscribe(function(e){t.imageUrl=e.profileImage}),t.status=t.dataResponse.dataResp.corporateStatus,t.errorStatus=t.dataResponse.dataResp.custStatus,t.userAddress_array=null===(n=null===(a=null===(e=t.dataResponse)||void 0===e?void 0:e.dataResp)||void 0===a?void 0:a.customerInfo[0])||void 0===n?void 0:n.userAddress,t.custIdProofs_array=t.dataResponse.dataResp.custIdProofs,t.directorsInfo_array=t.dataResponse.dataResp.customerInfo,console.log("status::",t.status),"REJECTED"===t.status?(t.approvedStatus=!0,t.rejectedStatus=!0,t.editScreen=!1):"APPROVED"===t.status?(t.approvedStatus=!0,t.rejectedStatus=!0,t.editScreen=!0):"UNDER_PROCESS"===t.status?(t.approvedStatus=!0,t.rejectedStatus=!1,t.isOnGoing=t.status,t.editScreen=!1):"INITIATED"===t.status&&(t.approvedStatus=!1,t.rejectedStatus=!1,t.editScreen=!1),t.getProfileImage(t.dataResponse.dataResp.corporateId)},5e3)}},{key:"goToCorporate",value:function(){console.log("Navigating to edit screen"),this.router.navigateByUrl("/onboardingCorporate/corporate"),console.log(this.dataResponse),this.ls.setItem("EDIT-CORPORATEID",this.dataResponse.dataResp.corporateId),this.dialogRef.close({message:"Confirm"})}},{key:"getCustomerDocumentsDetails",value:function(t){var e=this;this.document_type="3",this.apiService.getCustomerDocuments(t,this.document_type).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName)})}},{key:"getCustomerDocumentsDetails1",value:function(t){var e=this;this.document_type="2",this.apiService.getCustomerDocuments(t,this.document_type).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName)})}},{key:"updateApplicationStatus",value:function(t,e,a){var n=this;t.dataResp.corporateStatus=e,this.statusUpdate=e,this.apiService.updateCorporateSatatus(t.dataResp.corporateId,e).subscribe(function(t){null!=t&&(n.cdr.markForCheck(),n.cdr.detectChanges(),1!=a&&n.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),n.snack.open(e+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},function(t){console.log("error resp :: ",t),n.errorStatus=e,n.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(t){t.recordStatus=this.statusUpdate,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getCoropratedetails(t).subscribe(function(t){console.log(t),null!=t.profileImage&&(e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},function(t){})}},{key:"openEditScreen",value:function(t,e){var a=this;this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){console.log(t),a.status=t.status,"INITIATED"==t.status&&(a.status="INITIATED",a.updateApplicationStatus(a.dataResponse,"INITIATED",!0),Object.assign(e,t.resp))})}},{key:"editBasicInfo",value:function(){this.openEditScreen(Hc,this.dataResponse.dataResp)}},{key:"editDirectorDetails",value:function(){this.openEditScreen(Ks,this.directorsInfo_array)}},{key:"editContactInfo",value:function(){this.openEditScreen(Rl,this.userAddress_array)}},{key:"editProofOfIdentity",value:function(){this.openEditScreen(cl,this.dataResponse.dataResp)}},{key:"editOtherInfo",value:function(){this.openEditScreen(hl,this.dataResponse.dataResp)}},{key:"continue",value:function(){this.ls.setItem("corporateId",this.dataResponse.dataResp.corporateId),window.open("".concat(co.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=CORPORATE&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||tb)(l.Rb(g.a),l.Rb(l.h),l.Rb(Ze.h),l.Rb(m.a),l.Rb(b.b),l.Rb(p.g),l.Rb(p.a),l.Rb(lo.b),l.Rb(W.a),l.Rb(p.b),l.Rb(so.a))},tb.\u0275cmp=l.Lb({type:tb,selectors:[["app-corporate-approver"]],viewQuery:function(t,e){var a;1&t&&l.ad(Sl,!0),2&t&&l.Cc(a=l.gc())&&(e.ncForm=a.first)},inputs:{initiatedArr:"initiatedArr"},decls:10,vars:2,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["class","main",4,"ngIf"],[1,"main"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["class","btngrp","fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Basic Information",2,"border-radius","0px","width","800px"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width",2,"padding","1rem 1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[2,"font-size","18px"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px","width","750px"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"padding-bottom","1rem"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["label","Director Details",2,"border-radius","0px","width","800px"],[1,"full-width",2,"padding","1rem"],[2,"padding-bottom","1rem"],["fxLayout","row wrap","style","padding: 0.5rem 0;","class","full-width",4,"ngFor","ngForOf"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","40%","fxFlex.xs","50%",2,"padding","0.5rem 0.5rem"],[2,"font-size","16px"],[1,"margintop"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["fxFlex","40%","fxFlex.xs","50%"],["fxFlex","40%","fxFlex.xs","100%"],["label","Contact Information",2,"border-radius","0px","width","800px"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["label","Proof Of Identity",2,"border-radius","0px","width","800px"],[2,"padding","1rem 0"],["style","color: grey;",4,"ngIf"],[2,"color","grey"],["label","Other Information",2,"border-radius","0px","width","800px"],["class","full-width",4,"ngFor","ngForOf"],[1,"hint1",2,"text-align","center"],[2,"text-align","center"],["required","","alt","",1,"formImg2",3,"src"],[2,"margin-top","35px"],["download","",2,"color","#4A56E2","text-decoration","underline",3,"href"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",1,"btngrp"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(l.Xb(0,"form"),l.Xb(1,"div",0),l.Rc(2,kl,1,0,"mat-spinner",1),l.Wb(),l.Xb(3,"div",2),l.Xb(4,"div",3),l.Xb(5,"div",4),l.Xb(6,"div"),l.Xb(7,"mat-icon",5),l.fc("click",function(){return e.close(e.dataResponse)}),l.Tc(8," close"),l.Wb(),l.Wb(),l.Wb(),l.Rc(9,Ql,20,9,"div",6),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(2),l.rc("ngIf",e.loading),l.Eb(7),l.rc("ngIf",!e.loading))},directives:[v.A,v.s,v.t,X.d,c.n,X.e,T.a,R.b,E.c,X.b,E.a,Ba.a,I.f,c.m,X.f,c.l,bo.a],pipes:[c.v,c.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center}.cancelIcon{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton{top:6705px;left:969px;width:183px;height:41px;margin-right:18%;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon{top:6716px;left:1009px;width:24px;height:24px}.approveIcon,.approvelabel{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.editbtn{color:#0e7cc5;cursor:pointer}.num{border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;background-color:#fff}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:8%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:30px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 3.4rem;color:#fff}.mat1{height:3.3rem}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.margintop{margin-top:0;width:732px}.btngrp{float:right}.continueBtn{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"],encapsulation:2}),tb),ab=function(t,e,a,n){return new(a||(a=Promise))(function(o,i){function r(t){try{s(n.next(t))}catch(e){i(e)}}function c(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,c)}s((n=n.apply(t,e||[])).next())})};function nb(t,e){1&t&&l.Sb(0,"mat-spinner")}function ob(t,e){if(1&t){var a=l.Yb();l.Xb(0,"button",18),l.fc("click",function(){return l.Hc(a),l.jc().clear()}),l.Xb(1,"div",19),l.Rc(2,nb,1,0,"mat-spinner",20),l.Wb(),l.Xb(3,"mat-icon"),l.Tc(4,"close"),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(2),l.rc("ngIf",n.loading)}}function ib(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",32),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",a.companyName)}}function rb(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"img",33),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("src",null==a.corporateDocs[0]?null:a.corporateDocs[0].fileUrl,l.Jc)}}function cb(t,e){if(1&t&&l.Sb(0,"img",33),2&t){var a=l.jc(2).$implicit;l.rc("src",null==a.corporateDocs[0]?null:a.corporateDocs[0].fileUrl,l.Jc)}}function sb(t,e){1&t&&l.Rc(0,cb,1,1,"ng-template",null,34,l.Sc)}function lb(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToCorporateOnBoardingSummary(t,"INITATED",o.getRandomColor(n+3))}),l.Xb(1,"div",22),l.Xb(2,"mat-icon",23),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",24),l.Xb(9,"div",25),l.Rc(10,ib,2,1,"div",20),l.Rc(11,rb,2,1,"div",20),l.Rc(12,sb,2,0,void 0,20),l.Wb(),l.Xb(13,"mat-card-title",26),l.Tc(14),l.Wb(),l.Xb(15,"mat-card-subtitle"),l.Tc(16),l.Wb(),l.Wb(),l.Xb(17,"form",27),l.Xb(18,"div",28),l.Xb(19,"span"),l.Tc(20,"Category "),l.Wb(),l.Xb(21,"span"),l.Tc(22,"Organization Type"),l.Wb(),l.Wb(),l.Xb(23,"div",29),l.Xb(24,"span"),l.Tc(25),l.Wb(),l.Xb(26,"span"),l.Tc(27),l.Wb(),l.Wb(),l.Sb(28,"br"),l.Xb(29,"div",30),l.Xb(30,"span"),l.Tc(31,"Date Of Issue"),l.Wb(),l.Xb(32,"span"),l.Tc(33,"Type Of Ownership"),l.Wb(),l.Wb(),l.Xb(34,"div",31),l.Xb(35,"span"),l.Tc(36),l.kc(37,"date"),l.Wb(),l.Xb(38,"span"),l.Tc(39),l.Wb(),l.Wb(),l.Sb(40,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit;l.Eb(6),l.Uc(l.lc(7,10,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf",null==n.corporateDocs),l.Eb(1),l.rc("ngIf",1==(null==n.corporateDocs[0]?null:n.corporateDocs[0].documentType)),l.Eb(1),l.rc("ngIf",1==(null==n.corporateDocs[0]?null:n.corporateDocs[0].documentType)),l.Eb(2),l.Vc(" ",n.companyName,"\xa0 "),l.Eb(2),l.Vc("#",n.corporateId,""),l.Eb(9),l.Uc(n.category),l.Eb(2),l.Uc(n.organizationType),l.Eb(9),l.Uc(l.lc(37,12,n.dateOfIssue)),l.Eb(3),l.Uc(n.typeOfOwnership)}}function bb(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",32),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",a.companyName)}}function ub(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"img",33),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("src",a.profileImage,l.Jc)}}function db(t,e){if(1&t&&l.Sb(0,"img",36),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function mb(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToCorporateOnBoardingSummary(t,"UNDER_PROCESS",o.getRandomColor(n+6))}),l.Xb(1,"div",22),l.Xb(2,"mat-icon",35),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",24),l.Xb(9,"div",25),l.Rc(10,bb,2,1,"div",20),l.Rc(11,ub,2,1,"div",20),l.Rc(12,db,1,1,"ng-template",null,34,l.Sc),l.Wb(),l.Xb(14,"mat-card-title",26),l.Tc(15),l.Wb(),l.Xb(16,"mat-card-subtitle"),l.Tc(17),l.Wb(),l.Wb(),l.Xb(18,"form",27),l.Xb(19,"div",28),l.Xb(20,"span"),l.Tc(21,"Category "),l.Wb(),l.Xb(22,"span"),l.Tc(23,"Organization Type"),l.Wb(),l.Wb(),l.Xb(24,"div",29),l.Xb(25,"span"),l.Tc(26),l.Wb(),l.Xb(27,"span"),l.Tc(28),l.Wb(),l.Wb(),l.Sb(29,"br"),l.Xb(30,"div",30),l.Xb(31,"span"),l.Tc(32,"Date Of Issue"),l.Wb(),l.Xb(33,"span"),l.Tc(34,"Type Of Ownership"),l.Wb(),l.Wb(),l.Xb(35,"div",31),l.Xb(36,"span"),l.Tc(37),l.kc(38,"date"),l.Wb(),l.Xb(39,"span"),l.Tc(40),l.Wb(),l.Wb(),l.Sb(41,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit;l.Eb(6),l.Uc(l.lc(7,9,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf",null==n.profileImage),l.Eb(1),l.rc("ngIf",null!=n.profileImage),l.Eb(4),l.Vc(" ",n.companyName," "),l.Eb(2),l.Vc("#",n.corporateId,""),l.Eb(9),l.Uc(n.category),l.Eb(2),l.Uc(n.organizationType),l.Eb(9),l.Uc(l.lc(38,11,n.dateOfIssue)),l.Eb(3),l.Uc(n.typeOfOwnership)}}function pb(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",32),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",a.companyName)}}function fb(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"img",33),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("src",a.profileImage,l.Jc)}}function hb(t,e){if(1&t&&l.Sb(0,"img",36),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function gb(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToCorporateOnBoardingSummary(t,"APPROVED",o.getRandomColor(n+12))}),l.Xb(1,"div",22),l.Xb(2,"mat-icon",37),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",24),l.Xb(9,"div",25),l.Rc(10,pb,2,1,"div",20),l.Rc(11,fb,2,1,"div",20),l.Rc(12,hb,1,1,"ng-template",null,34,l.Sc),l.Wb(),l.Xb(14,"mat-card-title",26),l.Tc(15),l.Wb(),l.Xb(16,"mat-card-subtitle"),l.Tc(17),l.Wb(),l.Wb(),l.Xb(18,"form",27),l.Xb(19,"div",28),l.Xb(20,"span"),l.Tc(21,"Category "),l.Wb(),l.Xb(22,"span"),l.Tc(23,"Organization Type"),l.Wb(),l.Wb(),l.Xb(24,"div",29),l.Xb(25,"span"),l.Tc(26),l.Wb(),l.Xb(27,"span"),l.Tc(28),l.Wb(),l.Wb(),l.Sb(29,"br"),l.Xb(30,"div",30),l.Xb(31,"span"),l.Tc(32,"Date Of Issue"),l.Wb(),l.Xb(33,"span"),l.Tc(34,"Type Of Ownership"),l.Wb(),l.Wb(),l.Xb(35,"div",31),l.Xb(36,"span"),l.Tc(37),l.kc(38,"date"),l.Wb(),l.Xb(39,"span"),l.Tc(40),l.Wb(),l.Wb(),l.Sb(41,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit;l.Eb(6),l.Uc(l.lc(7,9,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf",null==n.profileImage),l.Eb(1),l.rc("ngIf",null!=n.profileImage),l.Eb(4),l.Vc(" ",n.companyName," "),l.Eb(2),l.Vc("#",n.corporateId,""),l.Eb(9),l.Uc(n.category),l.Eb(2),l.Uc(n.organizationType),l.Eb(9),l.Uc(l.lc(38,11,n.dateOfIssue)),l.Eb(3),l.Uc(n.typeOfOwnership)}}function vb(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",32),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",a.companyName)}}function yb(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"img",33),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("src",a.profileImage,l.Jc)}}function Wb(t,e){if(1&t&&l.Sb(0,"img",36),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function Xb(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToCorporateOnBoardingSummary(t,"REJECTED",o.getRandomColor(n+15))}),l.Xb(1,"div",22),l.Xb(2,"mat-icon",38),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",24),l.Xb(9,"div",25),l.Rc(10,vb,2,1,"div",20),l.Rc(11,yb,2,1,"div",20),l.Rc(12,Wb,1,1,"ng-template",null,34,l.Sc),l.Wb(),l.Xb(14,"mat-card-title",26),l.Tc(15),l.Wb(),l.Xb(16,"mat-card-subtitle"),l.Tc(17),l.Wb(),l.Wb(),l.Xb(18,"form",27),l.Xb(19,"div",28),l.Xb(20,"span"),l.Tc(21,"Category "),l.Wb(),l.Xb(22,"span"),l.Tc(23,"Organization Type"),l.Wb(),l.Wb(),l.Xb(24,"div",29),l.Xb(25,"span"),l.Tc(26),l.Wb(),l.Xb(27,"span"),l.Tc(28),l.Wb(),l.Wb(),l.Sb(29,"br"),l.Xb(30,"div",30),l.Xb(31,"span"),l.Tc(32,"Date Of Issue"),l.Wb(),l.Xb(33,"span"),l.Tc(34,"Type Of Ownership"),l.Wb(),l.Wb(),l.Xb(35,"div",31),l.Xb(36,"span"),l.Tc(37),l.kc(38,"date"),l.Wb(),l.Xb(39,"span"),l.Tc(40),l.Wb(),l.Wb(),l.Sb(41,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit;l.Eb(6),l.Uc(l.lc(7,9,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf",null==n.profileImage),l.Eb(1),l.rc("ngIf",null!=n.profileImage),l.Eb(4),l.Vc(" ",n.companyName," "),l.Eb(2),l.Vc("#",n.corporateId,""),l.Eb(9),l.Uc(n.category),l.Eb(2),l.Uc(n.organizationType),l.Eb(9),l.Uc(l.lc(38,11,n.dateOfIssue)),l.Eb(3),l.Uc(n.typeOfOwnership)}}var Tb,Ib=((Tb=function(){function t(e,a,o,i,r,c,s,b){n(this,t),this.dialog=e,this.ls=a,this.tasSumService=o,this.cdr=i,this.apiService=r,this.router=c,this.snack=s,this.sanitizer=b,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.arr=["INITIATEDArr","UNDER_PROCESSArr","APPROVEDArr","REJECTEDArr"],this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDCount=0,this.UNDER_PROCESSCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.INITIATEDImage=[],this.UNDER_PROCESSImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.screenType="corporate",this.setValue=new l.o,this._searchSubject=new u.a,this.listOfOptions=[{label:"Corporate ID",value:"corporateID",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this.isScroll=!0,this._setSearchSubscription()}return i(t,[{key:"onScroll",value:function(t){this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages)}},{key:"ngOnInit",value:function(){var t=this;this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.getDataOnLoad(),this.listOfOptions.filter(function(e){e.checked&&(t.radioButtonSelected=e.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}},{key:"radioChange",value:function(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){if(t.setValue.emit(e),console.log("search value :: ",e),console.log("search text :: ",t.searchText),null==e||""==e||""==e)return t.noDataFound=!1,t.searchable=!1,void t.getDataOnLoad();t.searchcorporateID(e)})}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"getDataOnLoad",value:function(){return ab(this,void 0,void 0,a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e],0,0);case 1:case"end":return t.stop()}},t,this)}))}},{key:"fetchCustomerInfo",value:function(t,e,a){var n=this;this.tasSumService.getallCorporateData(this.screenType,t,e).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"INITIATED"==t?(this.INITIATEDArr=null==e?void 0:e.corporateList,this.INITIATEDTotalPages=null==e?void 0:e.totalPages,this.INITIATEDTotalRecords=null==e?void 0:e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=null==e?void 0:e.corporateList,this.UNDER_PROCESSTotalPages=null==e?void 0:e.totalPages,this.UNDER_PROCESSTotalRecords=null==e?void 0:e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.corporateList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.corporateList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;0!=this.isScroll&&(console.log("---------scrolled----------"),e!==a?this.tasSumService.getallCorporateData(this.screenType,t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),n.updateDataOnScroll(t,e.corporateList)}):console.log("No scroll requied"))}},{key:"GoToCustomerOnboarding",value:function(){var t=this;setTimeout(function(){t.router.navigateByUrl("/tasks/cust-on-boarding-task-summary")},300)}},{key:"goToCorporateOnBoardingSummary",value:function(t,e,a){var n=this;localStorage.setItem("CustomerColorCode",a),this.dialog.open(eb,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(function(t){console.log("dialog closed:: ",t),"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus&&"INITIATED"!==t.recordStatus&&"UNDER_PROCESS"!==t.recordStatus||n.getDataOnLoad()})}},{key:"searchcorporateID",value:function(t){var e;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e="mobileNumber="+this.searchText.trim()):(console.log("kycId"),e="corporateId="+this.searchText.trim()):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e="primaryEmail="+this.searchText.trim()):t==t.toUpperCase()?(console.log("name"),e="corporateStatus="+this.searchText.trim()):(console.log("name"),e="companyName="+this.searchText.trim())),this.getCustomerData(e),this.isScroll=!1}},{key:"getCustomerData",value:function(t){var e=this;this.loading=!0,console.log("params::",t),this.apiService.getcorporateSearchDetails(t).subscribe(function(t){e.loading=!1,console.log("resp data :: ",t),e.resetSearchData();for(var a=0;a<t.corporateList.length;a++){for(var n=t.corporateList[a],o=0;o<t.corporateList[a].corporateDocs.length;o++)n.profileImage="Profile"==t.corporateList[a].corporateDocs[o].documentName?t.corporateList[a].corporateDocs[o].fileUrl:null;e.searchResponseUpdate(t.corporateList[a].corporateStatus,n)}})}},{key:"resetSearchData",value:function(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){console.log("called ?",t,e),"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){if(console.log(t),console.log(t.profileImage),e.searchable=!1,null!=t.profileImage){var a="data:image/jpeg;base64,"+t.profileImage.fileData;e.searchable=!0,e.image=e.sanitizer.bypassSecurityTrustUrl(a),console.log(e.searchable,"Searchable")}},function(t){console.log(t)})}},{key:"getcorporateIDData",value:function(t){var e=this;console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(function(t){if(console.log("resp data :: ",t),e.cdr.markForCheck(),e.cdr.detectChanges(),null!=t){var a=t[0].customerAdditionalInfo.kycStatus+"Arr";e[a].splice(0,0,t[0]),e[a]=e[a].slice(),console.log("resp value :: ",e[a])}else e.noDataFound=!0})}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}},{key:"updateDataOnScroll",value:function(t,e){return ab(this,void 0,void 0,a().mark(function n(){var o,i,r,c;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"INITIATED"==t?(o=Qt.unionBy(this.INITIATEDArr,e,"corporateID"),this.INITIATEDArr=o):"UNDER_PROCESS"==t?(i=Qt.unionBy(this.UNDER_PROCESSArr,e,"corporateID"),this.UNDER_PROCESSArr=i):"APPROVED"==t?(r=Qt.unionBy(this.APPROVEDArr,e,"corporateID"),this.APPROVEDArr=r):"REJECTED"==t&&(c=Qt.unionBy(this.REJECTEDArr,e,"corporateID"),this.REJECTEDArr=c),this.cdr.markForCheck();case 2:case"end":return a.stop()}},n,this)}))}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||Tb)(l.Rb(p.b),l.Rb(m.a),l.Rb(g.a),l.Rb(l.h),l.Rb(b.b),l.Rb(Ze.h),l.Rb(W.a),l.Rb(lo.b))},Tb.\u0275cmp=l.Lb({type:Tb,selectors:[["app-corporate-task-summary"]],hostBindings:function(t,e){1&t&&l.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:53,vars:17,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],[1,"slideTogglepadding",3,"change"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryName"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchbox"],["appearance","outline",1,"full-width"],["matInput","","name","search","autocomplete","off","placeholder","Search Corporate_id or Company Name",3,"ngModel","ngModelChange","keyup"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayoutAlign","center"],[4,"ngIf"],[1,"cardBox",3,"click"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar",""],[2,"font-size","16px"],[1,"head1"],["fxLayout","row","fxLayoutGap","40px",1,"col1"],["fxLayout","row","fxLayoutGap","58px",1,"col2"],["fxLayout","row","fxLayoutGap","40px",1,"col3"],["fxLayout","row","fxLayoutGap","44px",1,"col4"],[3,"name"],["alt","",2,"width","150px","height","50px","border-radius","60%",3,"src"],["showAvatar",""],[1,"fill-color-blue","bookMark","bookMark1"],["alt","",2,"width","150px","height","50px","border-radius","50%",3,"src"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-blue","bookMark","bookMark3"]],template:function(t,e){1&t&&(l.Sb(0,"br"),l.Xb(1,"div",0),l.fc("scrolled",function(t){return e.onScroll(t)}),l.Sb(2,"br"),l.Xb(3,"div",1),l.Xb(4,"mat-slide-toggle",2),l.fc("change",function(){return e.GoToCustomerOnboarding()}),l.Tc(5,"Switch to Customer Onboarding "),l.Wb(),l.Xb(6,"div",3),l.Xb(7,"div",4),l.Xb(8,"span",5),l.Tc(9," Corporate Customer Onboarding Task Summary "),l.Wb(),l.Wb(),l.Xb(10,"div",6),l.Xb(11,"mat-form-field",7),l.Xb(12,"mat-label"),l.Tc(13,"Search"),l.Wb(),l.Xb(14,"input",8),l.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),l.Wb(),l.Xb(15,"mat-icon",9),l.Tc(16,"search"),l.Wb(),l.Rc(17,ob,5,1,"button",10),l.Xb(18,"mat-hint"),l.Tc(19,"Search Corporate_id or Company Name"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",11),l.Xb(21,"div",12),l.Xb(22,"mat-card",13),l.Xb(23,"div",14),l.Xb(24,"span",15),l.Xb(25,"h2",16),l.Tc(26),l.Wb(),l.Wb(),l.Wb(),l.Xb(27,"div"),l.Rc(28,lb,41,14,"div",17),l.Wb(),l.Sb(29,"br"),l.Wb(),l.Xb(30,"mat-card",13),l.Xb(31,"div",14),l.Xb(32,"span",15),l.Xb(33,"h2",16),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"div"),l.Rc(36,mb,42,13,"div",17),l.Wb(),l.Wb(),l.Xb(37,"mat-card",13),l.Xb(38,"div",14),l.Xb(39,"span",15),l.Xb(40,"h2",16),l.Tc(41),l.Wb(),l.Wb(),l.Wb(),l.Xb(42,"div"),l.Rc(43,gb,42,13,"div",17),l.Wb(),l.Sb(44,"br"),l.Wb(),l.Xb(45,"mat-card",13),l.Xb(46,"div",14),l.Xb(47,"span",15),l.Xb(48,"h2",16),l.Tc(49),l.Wb(),l.Wb(),l.Wb(),l.Xb(50,"div"),l.Rc(51,Xb,42,13,"div",17),l.Wb(),l.Wb(),l.Wb(),l.Sb(52,"br"),l.Wb(),l.Wb()),2&t&&(l.Eb(1),l.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),l.Eb(13),l.rc("ngModel",e.searchText),l.Eb(3),l.rc("ngIf",e.searchText),l.Eb(9),l.Wc("Pending for approval (",null==e.INITIATEDArr?null:e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.INITIATEDArr),l.Eb(6),l.Wc("Ongoing (",null==e.UNDER_PROCESSArr?null:e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.UNDER_PROCESSArr),l.Eb(5),l.Wc("Approved (",null==e.APPROVEDArr?null:e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.APPROVEDArr),l.Eb(6),l.Wc("Rejected (",null==e.REJECTEDArr?null:e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.REJECTEDArr))},directives:[oi.a,D.a,X.e,X.d,X.f,X.b,I.c,I.g,C.b,v.c,v.r,v.u,T.a,I.i,c.n,I.f,E.a,c.m,A.b,I.j,R.b,E.e,E.c,E.h,E.g,v.A,v.s,v.t,li],pipes:[Di.a,c.f],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.searchbox[_ngcontent-%COMP%]{padding-right:5%}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;text-align:left;font:normal normal medium 9px/11px Montserrat;letter-spacing:0;color:#0f0f0f;opacity:1}.cardBox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:40vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}"]}),Tb);function Eb(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," \xa0\xa0\xa0 Card Type Is Required "),l.Wb())}function Cb(t,e){if(1&t&&(l.Xb(0,"mat-option",24),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function xb(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," \xa0\xa0\xa0Currency is Required! "),l.Wb())}function Ob(t,e){if(1&t&&(l.Xb(0,"mat-option",24),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc("",a," ")}}function Db(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," \xa0\xa0\xa0Employment Type is Required! "),l.Wb())}function Ab(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," \xa0\xa0\xa0Affinity Program is Required! "),l.Wb())}var Rb,Sb=((Rb=function(){function t(e,a,o,i,r,c){n(this,t),this.data=e,this.dialogRef=a,this.apiService=o,this.formBuilder=i,this.router=r,this.snack=c,this.localCurrencyArr=["CNY","GBP","INR","USD","ZAR","GBP"]}return i(t,[{key:"ngOnInit",value:function(){this.getEmploymentType("employment_type"),console.log(this.data),this.data?this.buildInitiationUpdateForm(this.data):this.buildInitiationUpdateForm()}},{key:"getEmploymentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.employmentTypeArray=t})}},{key:"buildInitiationUpdateForm",value:function(t){this.cardInitiationUpdateForm=this.formBuilder.group({existingCustomer:[t&&t.existingCustomer?t.existingCustomer:""],cardType:[t&&t.cardType?t.cardType:"",[v.z.required]],customerAccount:[t&&t.customerAccount?t.customerAccount:""],applicantName:[t&&t.applicantName?t.applicantName:""],currency:[t&&t.currency?t.currency:"",[v.z.required]],employmentType:[t&&t.employmentType?t.employmentType:"",[v.z.required]],affinityProgram:[t&&t.affinityProgram?t.affinityProgram:"",[v.z.required]]})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"onSubmit",value:function(){var t=this;this.apiService.uploadCardInitiation({existingCustomer:this.cardInitiationUpdateForm.value.existingCustomer,cardType:this.cardInitiationUpdateForm.value.cardType,customerAccount:this.cardInitiationUpdateForm.value.customerAccount,applicantName:this.cardInitiationUpdateForm.value.applicantName,currency:this.cardInitiationUpdateForm.value.currency,employmentType:this.cardInitiationUpdateForm.value.employmentType,affinityProgram:this.cardInitiationUpdateForm.value.affinityProgram,nameOnCard:this.data.nameOnCard,status:this.data.status,kycStatus:this.data.kycStatus,kycReference:this.data.kycRefrence,customerId:this.data.customerId,cardId:this.data.cardId}).subscribe(function(e){t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:e.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})})},function(e){t.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}]),t}()).\u0275fac=function(t){return new(t||Rb)(l.Rb(p.a),l.Rb(p.g),l.Rb(b.b),l.Rb(v.f),l.Rb(Ze.h),l.Rb(W.a))},Rb.\u0275cmp=l.Lb({type:Rb,selectors:[["app-card-initiation-details-update"]],decls:61,vars:7,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline"],["readonly","true","matInput","","name","existingCustomer","formControlName","existingCustomer"],["formControlName","cardType"],["value","Debit"],["value","Credit"],["value","Forex"],[4,"ngIf"],["matInput","","formControlName","customerAccount"],["matInput","","formControlName","applicantName"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],["formControlName","employmentType","placeholder","Select Employment Type *"],["fxLayout","row"],["formControlName","affinityProgram","placeholder","Select Affinity Program *"],["value","Affinity Program1"],["value","Affinity Program2"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Card Initiation Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"mat-card"),l.Xb(7,"form",3),l.Xb(8,"div",4),l.Xb(9,"mat-form-field",5),l.Xb(10,"mat-label"),l.Tc(11,"Existing Customer"),l.Wb(),l.Sb(12,"input",6),l.Wb(),l.Xb(13,"mat-form-field",5),l.Xb(14,"mat-label"),l.Tc(15,"Card Type"),l.Wb(),l.Xb(16,"mat-select",7),l.Xb(17,"mat-option",8),l.Tc(18,"Debit"),l.Wb(),l.Xb(19,"mat-option",9),l.Tc(20,"Credit"),l.Wb(),l.Xb(21,"mat-option",10),l.Tc(22,"Forex"),l.Wb(),l.Wb(),l.Rc(23,Eb,2,0,"mat-error",11),l.Wb(),l.Xb(24,"mat-form-field",5),l.Xb(25,"mat-label"),l.Tc(26,"Customer Account"),l.Wb(),l.Sb(27,"input",12),l.Wb(),l.Wb(),l.Xb(28,"div",4),l.Xb(29,"mat-form-field",5),l.Xb(30,"mat-label"),l.Tc(31,"Applicant Name"),l.Wb(),l.Sb(32,"input",13),l.Wb(),l.Xb(33,"mat-form-field",5),l.Xb(34,"mat-label"),l.Tc(35,"Currency"),l.Wb(),l.Xb(36,"mat-select",14),l.Rc(37,Cb,2,2,"mat-option",15),l.Wb(),l.Rc(38,xb,2,0,"mat-error",11),l.Wb(),l.Xb(39,"mat-form-field",5),l.Xb(40,"mat-label"),l.Tc(41,"Employment Type"),l.Wb(),l.Xb(42,"mat-select",16),l.Rc(43,Ob,2,2,"mat-option",15),l.Wb(),l.Rc(44,Db,2,0,"mat-error",11),l.Wb(),l.Wb(),l.Xb(45,"div",17),l.Xb(46,"mat-form-field",5),l.Xb(47,"mat-label"),l.Tc(48,"Affinity Program *"),l.Wb(),l.Xb(49,"mat-select",18),l.Xb(50,"mat-option",19),l.Tc(51,"Affinity Program1"),l.Wb(),l.Xb(52,"mat-option",20),l.Tc(53,"Affinity Program2"),l.Wb(),l.Wb(),l.Rc(54,Ab,2,0,"mat-error",11),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(55,"div",21),l.Xb(56,"button",22),l.fc("click",function(){return e.onSubmit()}),l.Tc(57,"Save"),l.Wb(),l.Tc(58," \xa0\xa0\xa0 "),l.Xb(59,"button",23),l.fc("click",function(){return e.close()}),l.Tc(60," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.cardInitiationUpdateForm),l.Eb(16),l.rc("ngIf",!e.cardInitiationUpdateForm.get("cardType").valid&&e.cardInitiationUpdateForm.get("cardType").touched),l.Eb(14),l.rc("ngForOf",e.localCurrencyArr),l.Eb(1),l.rc("ngIf",!e.cardInitiationUpdateForm.get("currency").valid&&e.cardInitiationUpdateForm.get("currency").touched),l.Eb(5),l.rc("ngForOf",e.employmentTypeArray),l.Eb(1),l.rc("ngIf",!e.cardInitiationUpdateForm.get("employmentType").valid&&e.cardInitiationUpdateForm.get("employmentType").touched),l.Eb(10),l.rc("ngIf",!e.cardInitiationUpdateForm.get("affinityProgram").valid&&e.cardInitiationUpdateForm.get("affinityProgram").touched))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,X.f,I.c,X.b,I.g,C.b,v.c,v.r,v.i,x.a,S.n,c.n,c.m,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Rb);function kb(t,e){if(1&t&&(l.Xb(0,"mat-option",19),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Nb(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please Select Account Type "),l.Wb())}function Pb(t,e){if(1&t&&(l.Xb(0,"mat-option",19),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.branchName),l.Eb(1),l.Vc(" ",a.branchName," ")}}function Fb(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please Select Account Branch "),l.Wb())}function Lb(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please Enter valid Product ID "),l.Wb())}function _b(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please Enter Product Name "),l.Wb())}function wb(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please Enter Existing Value "),l.Wb())}function Ub(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please Enter Account Currency "),l.Wb())}function Mb(t,e){if(1&t&&(l.Xb(0,"mat-option",19),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Gb(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please Select user Recommendation "),l.Wb())}function Vb(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please Enter Remarks "),l.Wb())}var jb,Bb=((jb=function(){function t(e,a,o,i,r){n(this,t),this.data=e,this.fb=a,this.apiService=o,this.dialogRef=i,this.snack=r}return i(t,[{key:"ngOnInit",value:function(){this.getUserRecomendation("user_recomendation"),this.getAccountType("account_type"),this.getAccountBranchDetails(),null!=this.data.approvalInfo?this.buildformGroup(this.data.approvalInfo):this.buildformGroup()}},{key:"buildformGroup",value:function(t){this.cardApprovalUpdateForm=this.fb.group({accountType:[t?t.accountType:"",v.z.required],productCode:[t?t.productCode:"",v.z.required],userRecommendation:[t?t.userRecommendation:"",v.z.required],accountBranch:[t?t.accountBranch:"",v.z.required],accountCurrency:[t?t.accountCurrency:"",v.z.required],productName:[t?t.productName:"",v.z.required],existingValues:[t?t.existingValues:"",v.z.required],remarks:[t?t.remarks:""]})}},{key:"onSubmit",value:function(){var t=this;console.log("data",this.cardApprovalUpdateForm.value),this.apiService.upsertApprovalDetails({cardId:this.data.cardId,accountBranch:this.cardApprovalUpdateForm.value.accountBranch,accountCurrency:this.cardApprovalUpdateForm.value.accountCurrency,accountType:this.cardApprovalUpdateForm.value.accountType,existingValues:this.cardApprovalUpdateForm.value.existingValues,productCode:this.cardApprovalUpdateForm.value.productCode,productName:this.cardApprovalUpdateForm.value.productName,remarks:this.cardApprovalUpdateForm.value.remarks,userRecommendation:this.cardApprovalUpdateForm.value.userRecommendation}).subscribe(function(e){t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:e.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})})},function(e){t.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}},{key:"getAccountCurrency",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayAccountCurrency=t})}},{key:"getAccountType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayAccountType=t})}},{key:"getUserRecomendation",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayUserRecomendation=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.arrayAccountBranch=e})}},{key:"keyPressAlphanumeric",value:function(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||jb)(l.Rb(p.a),l.Rb(v.f),l.Rb(b.b),l.Rb(p.g),l.Rb(W.a))},jb.\u0275cmp=l.Lb({type:jb,selectors:[["app-card-approval-details-update"]],decls:60,vars:13,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline"],["placeholder","Account Type","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Account Branch","formControlName","accountBranch"],["matInput","","placeholder","Product Image","formControlName","productCode"],["matInput","","placeholder","Product Name","formControlName","productName",3,"keypress"],["matInput","","placeholder","Existing Value","formControlName","existingValues",3,"keypress"],["matInput","","placeholder","Account Currency","formControlName","accountCurrency","readonly","",3,"keypress"],["placeholder","Recommended for Approval","formControlName","userRecommendation"],["matInput","","placeholder","Remarks","formControlName","remarks"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Approval Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"mat-card"),l.Xb(7,"form",3),l.Xb(8,"div",4),l.Xb(9,"mat-form-field",5),l.Xb(10,"mat-label"),l.Tc(11,"Account Type*"),l.Wb(),l.Xb(12,"mat-select",6),l.Rc(13,kb,2,2,"mat-option",7),l.Wb(),l.Rc(14,Nb,2,0,"mat-error",8),l.Wb(),l.Xb(15,"mat-form-field",5),l.Xb(16,"mat-label"),l.Tc(17,"Account Branch*"),l.Wb(),l.Xb(18,"mat-select",9),l.Rc(19,Pb,2,2,"mat-option",7),l.Wb(),l.Rc(20,Fb,2,0,"mat-error",8),l.Wb(),l.Xb(21,"mat-form-field",5),l.Xb(22,"mat-label"),l.Tc(23,"Product Code*"),l.Wb(),l.Sb(24,"input",10),l.Wb(),l.Rc(25,Lb,2,0,"mat-error",8),l.Wb(),l.Xb(26,"div",4),l.Xb(27,"mat-form-field",5),l.Xb(28,"mat-label"),l.Tc(29,"Product Name*"),l.Wb(),l.Xb(30,"input",11),l.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),l.Wb(),l.Rc(31,_b,2,0,"mat-error",8),l.Wb(),l.Xb(32,"mat-form-field",5),l.Xb(33,"mat-label"),l.Tc(34,"Existing Value*"),l.Wb(),l.Xb(35,"input",12),l.fc("keypress",function(t){return e.onKeyPress(t)}),l.Wb(),l.Rc(36,wb,2,0,"mat-error",8),l.Wb(),l.Xb(37,"mat-form-field",5),l.Xb(38,"mat-label"),l.Tc(39,"Account Currency*"),l.Wb(),l.Xb(40,"input",13),l.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),l.Wb(),l.Rc(41,Ub,2,0,"mat-error",8),l.Wb(),l.Wb(),l.Xb(42,"div",4),l.Xb(43,"mat-form-field",5),l.Xb(44,"mat-label"),l.Tc(45,"User Recomendation*"),l.Wb(),l.Xb(46,"mat-select",14),l.Rc(47,Mb,2,2,"mat-option",7),l.Wb(),l.Rc(48,Gb,2,0,"mat-error",8),l.Wb(),l.Xb(49,"mat-form-field",5),l.Xb(50,"mat-label"),l.Tc(51,"Remarks"),l.Wb(),l.Sb(52,"input",15),l.Rc(53,Vb,2,0,"mat-error",8),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(54,"div",16),l.Xb(55,"button",17),l.fc("click",function(){return e.onSubmit()}),l.Tc(56,"Save"),l.Wb(),l.Tc(57," \xa0\xa0\xa0 "),l.Xb(58,"button",18),l.fc("click",function(){return e.close()}),l.Tc(59," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.cardApprovalUpdateForm),l.Eb(6),l.rc("ngForOf",e.arrayAccountType),l.Eb(1),l.rc("ngIf",e.cardApprovalUpdateForm.get("accountType").hasError("required")),l.Eb(5),l.rc("ngForOf",e.arrayAccountBranch),l.Eb(1),l.rc("ngIf",e.cardApprovalUpdateForm.get("accountBranch").hasError("required")),l.Eb(5),l.rc("ngIf",e.cardApprovalUpdateForm.get("productCode").touched&&0==e.cardApprovalUpdateForm.get("productCode").value),l.Eb(6),l.rc("ngIf",e.cardApprovalUpdateForm.get("productName").hasError("required")),l.Eb(5),l.rc("ngIf",e.cardApprovalUpdateForm.get("existingValues").hasError("required")),l.Eb(5),l.rc("ngIf",e.cardApprovalUpdateForm.get("accountCurrency").hasError("required")),l.Eb(6),l.rc("ngForOf",e.arrayUserRecomendation),l.Eb(1),l.rc("ngIf",e.cardApprovalUpdateForm.get("userRecommendation").hasError("required")),l.Eb(5),l.rc("ngIf",e.cardApprovalUpdateForm.get("remarks").hasError("required")),l.Eb(2),l.rc("disabled",e.cardApprovalUpdateForm.invalid))},directives:[X.e,X.f,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,I.c,X.b,I.g,x.a,v.r,v.i,c.m,c.n,C.b,v.c,S.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),jb);function zb(t,e){if(1&t&&(l.Xb(0,"mat-option",16),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function qb(t,e){if(1&t&&(l.Xb(0,"mat-option",16),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}var Jb,Kb=((Jb=function(){function t(e,a,o,i,r,c){n(this,t),this.data=e,this.fb=a,this.dialogRef=o,this.apiService=i,this.snack=r,this.cdr=c,this.arraySystemRecommendation=["Recomended For Approval","Recommended For Reject"]}return i(t,[{key:"ngOnInit",value:function(){this.data.assessmentInfo?this.buildAssessmentForm(this.data.assessmentInfo):this.buildAssessmentForm()}},{key:"buildAssessmentForm",value:function(t){this.cardAssessmentUpdateForm=this.fb.group({cardId:[this.data.cardId],assessmentId:[t.assessmentId="1"],requestedCardLimit:[t?t.requestedCardLimit:""],systemRecommendation:[t?t.systemRecommendation:"",v.z.required],approvedCardLimit:[t?t.approvedCardLimit:""],userRecommendation:[t?t.userRecommendation:"",[v.z.required]],recommendedCardLimit:[t?t.recommendedCardLimit:"",[v.z.required]],remark:[t?t.remark:""]})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"_keyPress1",value:function(t){var e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}},{key:"onSubmit",value:function(){var t=this;console.log(this.cardAssessmentUpdateForm),this.apiService.cardAssessmentDetails(this.cardAssessmentUpdateForm.value).subscribe(function(e){console.log("data",e),null!=e&&(t.snack.open("Assessment details Updated successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:e.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})}))})}}]),t}()).\u0275fac=function(t){return new(t||Jb)(l.Rb(p.a),l.Rb(v.f),l.Rb(p.g),l.Rb(b.b),l.Rb(W.a),l.Rb(l.h))},Jb.\u0275cmp=l.Lb({type:Jb,selectors:[["app-card-assessment-report-update"]],decls:42,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","33.33%","appearance","outline"],["matInput","","formControlName","requestedCardLimit","placeholder","Requested Card Limit","readonly","",3,"keypress"],["formControlName","systemRecommendation","placeholder","Recommended for Approval"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userRecommendation","placeholder","Recommended for Approval"],["matInput","","formControlName","recommendedCardLimit","required","",3,"keypress"],["matInput","","formControlName","approvedCardLimit","placeholder","Approved Card Limit","required","",3,"keypress"],["matInput","","formControlName","remark","type","text"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Assessment Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"mat-card"),l.Xb(7,"form",3),l.Xb(8,"div",4),l.Xb(9,"mat-form-field",5),l.Xb(10,"mat-label"),l.Tc(11,"Requested Card Limit"),l.Wb(),l.Xb(12,"input",6),l.fc("keypress",function(t){return e._keyPress1(t)}),l.Wb(),l.Wb(),l.Xb(13,"mat-form-field",5),l.Xb(14,"mat-label"),l.Tc(15,"System Recommendation"),l.Wb(),l.Xb(16,"mat-select",7),l.Rc(17,zb,2,2,"mat-option",8),l.Wb(),l.Wb(),l.Xb(18,"mat-form-field",5),l.Xb(19,"mat-label"),l.Tc(20,"User Recommendation"),l.Wb(),l.Xb(21,"mat-select",9),l.Rc(22,qb,2,2,"mat-option",8),l.Wb(),l.Wb(),l.Wb(),l.Xb(23,"div",4),l.Xb(24,"mat-form-field",5),l.Xb(25,"mat-label"),l.Tc(26,"Recommended Card Limit"),l.Wb(),l.Xb(27,"input",10),l.fc("keypress",function(t){return e._keyPress1(t)}),l.Wb(),l.Wb(),l.Xb(28,"mat-form-field",5),l.Xb(29,"mat-label"),l.Tc(30,"Approved Card Limit"),l.Wb(),l.Xb(31,"input",11),l.fc("keypress",function(t){return e._keyPress1(t)}),l.Wb(),l.Wb(),l.Xb(32,"mat-form-field",5),l.Xb(33,"mat-label"),l.Tc(34,"Remarks"),l.Wb(),l.Sb(35,"input",12),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div",13),l.Xb(37,"button",14),l.fc("click",function(){return e.onSubmit()}),l.Tc(38,"Save"),l.Wb(),l.Tc(39," \xa0\xa0\xa0 "),l.Xb(40,"button",15),l.fc("click",function(){return e.close()}),l.Tc(41," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.cardAssessmentUpdateForm),l.Eb(10),l.rc("ngForOf",e.arraySystemRecommendation),l.Eb(5),l.rc("ngForOf",e.arraySystemRecommendation),l.Eb(15),l.rc("disabled",e.cardAssessmentUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,X.f,I.c,X.b,I.g,C.b,v.c,v.r,v.i,x.a,c.m,v.y,S.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Jb);function $b(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Customer Name is Required! "),l.Wb())}function Hb(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Agency is Required! "),l.Wb())}function Yb(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Ratings is Required! "),l.Wb())}function Zb(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-card"),l.Xb(1,"mat-accordion",3),l.Xb(2,"h5"),l.Tc(3,"Score "),l.Wb(),l.Sb(4,"br"),l.Xb(5,"div",11),l.Xb(6,"mat-form-field",4),l.Xb(7,"mat-label"),l.Tc(8,"Select Agency*"),l.Wb(),l.Xb(9,"mat-select",12),l.Xb(10,"mat-option",13),l.Tc(11,"Select"),l.Wb(),l.Xb(12,"mat-option",14),l.fc("click",function(){return l.Hc(a),l.jc().onClick()}),l.Tc(13,"Test Agency"),l.Wb(),l.Xb(14,"mat-option",15),l.fc("click",function(){return l.Hc(a),l.jc().onClick()}),l.Tc(15,"Ujjivan Agency"),l.Wb(),l.Xb(16,"mat-option",16),l.fc("click",function(){return l.Hc(a),l.jc().onClick()}),l.Tc(17,"Fast Track Agency"),l.Wb(),l.Wb(),l.Rc(18,Hb,2,0,"mat-error",6),l.Wb(),l.Xb(19,"mat-form-field",4),l.Xb(20,"mat-label"),l.Tc(21,"Ratings"),l.Wb(),l.Xb(22,"input",17),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Rc(23,Yb,2,0,"mat-error",6),l.Wb(),l.Xb(24,"mat-form-field",4),l.Xb(25,"mat-label"),l.Tc(26,"Remarks"),l.Wb(),l.Sb(27,"input",18),l.Wb(),l.Wb(),l.Wb(),l.Xb(28,"button",19),l.fc("click",function(){return l.Hc(a),l.jc().addFormGroup()}),l.Xb(29,"mat-icon"),l.Tc(30,"add"),l.Wb(),l.Tc(31," ADD AGENCY "),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.jc();l.Eb(1),l.rc("formGroup",n),l.Eb(11),l.rc("disabled",o.disableTest),l.Eb(2),l.rc("disabled",o.disableUjjivan),l.Eb(2),l.rc("disabled",o.disableFastTrack),l.Eb(2),l.rc("ngIf",!n.controls.agencyName.valid&&n.controls.agencyName.touched),l.Eb(5),l.rc("ngIf",!n.controls.ratings.valid&&n.controls.ratings.touched),l.Eb(5),l.rc("disabled",o.disableAddAgency)}}var Qb,tu=((Qb=function(){function t(e,a,o,i,r,c){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.appApiService=i,this.api=r,this.snack=c}return i(t,[{key:"ngOnInit",value:function(){this.getCustomerInformationDetails(),this.data.creditScore.cardId?this.buildCreditForm(this.data.creditScore):this.buildCreditForm()}},{key:"getCustomerInformationDetails",value:function(){var t=this;this.customerNames=[],this.appApiService.fetchCustomersByCardAccId(this.data.cardId,"cardOrigin").subscribe(function(e){console.log("resp for customer information names ",e.data);for(var a=0;a<e.data.length;a++)t.customerNames.push(null==e.data[a].middleName?e.data[a].firstName+" "+e.data[a].lastName:e.data[a].firstName+" "+e.data[a].middleName+" "+e.data[a].lastName);console.log("customer name ",t.customerNames),t.customerNames&&(console.log("If condtion"),t.cardCreditScoreUpdateForm.get("customerName").setValue(t.customerNames[0]))},function(t){})}},{key:"f",get:function(){return this.cardCreditScoreUpdateForm.controls}},{key:"c",get:function(){return this.f.agencyRating}},{key:"buildCreditForm",value:function(t,e){console.log(t),this.cardCreditScoreUpdateForm=this.formBuilder.group({cardId:this.data.cardId,customerName:t.customerName?t.customerName:this.customerNames[0],agencyRating:this.formBuilder.array([this.addModFormGroup(t)])}),console.log(this.cardCreditScoreUpdateForm)}},{key:"addModFormGroup",value:function(t){return console.log(t,"inside addModeFormGrp"),this.formBuilder.group({cardId:[this.data.cardId],agencyId:[t?t.agencyId:0],agencyName:[t?t.agencyRating[0].agencyName:"",v.z.required],ratings:[t?t.agencyRating[0].ratings:"",v.z.required],remarks:[t?t.agencyRating[0].remarks:""]})}},{key:"addFormGroup",value:function(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",v.z.required],ratings:["",v.z.required]}))}},{key:"submit",value:function(t){var e=this;console.log("val",t),t.accountType="cardOrigin",this.api.saveCreditDetails(t).subscribe(function(t){console.log(t),200===t||null!==t?(e.snack.open(" Credit Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.api.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(function(t){e.dialogRef.close({status:t.status})})):500===t&&e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log(t)})}},{key:"onClick",value:function(){for(var t=0;t<3;t++)"Test Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableTest=!0),"Ujjivan Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableUjjivan=!0),"Fast Track Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableFastTrack=!0);3==this.cardCreditScoreUpdateForm.value.agencyRating.length&&(this.disableAddAgency=!0)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"onSubmit",value:function(){}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Qb)(l.Rb(p.a),l.Rb(p.g),l.Rb(v.f),l.Rb(f.a),l.Rb(b.b),l.Rb(W.a))},Qb.\u0275cmp=l.Lb({type:Qb,selectors:[["app-card-credit-score-update"]],decls:21,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["appearance","outline","fxFlex","30%"],["matInput","","formControlName","customerName","name","customerName",1,"alignment"],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row","fxLayoutGap","5%"],["name","agencyName","formControlName","agencyName"],["value",""],["value","Test Agency",3,"disabled","click"],["value","Ujjivan Agency",3,"disabled","click"],["value","Fast Track Agency",3,"disabled","click"],["matInput","","formControlName","ratings","type","text","name","ratings",1,"alignment",3,"keypress"],["matInput","","formControlName","remarks","type","text","name","remarks",1,"alignment"],["mat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Credit Score Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"mat-card"),l.Xb(7,"form",3),l.Xb(8,"mat-card"),l.Xb(9,"mat-form-field",4),l.Xb(10,"mat-label"),l.Tc(11,"Customer Name*"),l.Wb(),l.Sb(12,"input",5),l.Rc(13,$b,2,0,"mat-error",6),l.Wb(),l.Wb(),l.Rc(14,Zb,32,7,"mat-card",7),l.Wb(),l.Wb(),l.Wb(),l.Xb(15,"div",8),l.Xb(16,"button",9),l.fc("click",function(){return e.submit(e.cardCreditScoreUpdateForm.value)}),l.Tc(17,"Save"),l.Wb(),l.Tc(18," \xa0\xa0\xa0 "),l.Xb(19,"button",10),l.fc("click",function(){return e.close()}),l.Tc(20," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.cardCreditScoreUpdateForm),l.Eb(6),l.rc("ngIf",!e.cardCreditScoreUpdateForm.get("customerName").valid&&e.cardCreditScoreUpdateForm.get("customerName").touched),l.Eb(1),l.rc("ngForOf",e.c.controls),l.Eb(2),l.rc("disabled",!e.cardCreditScoreUpdateForm.valid))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,I.c,X.b,I.g,C.b,v.c,v.r,v.i,c.n,c.m,X.f,I.b,$.a,x.a,S.n,A.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Qb);function eu(t,e){if(1&t){var a=l.Yb();l.Xb(0,"tr",11),l.Vb(1,3),l.Xb(2,"td"),l.Xb(3,"mat-form-field"),l.Sb(4,"input",12),l.Wb(),l.Wb(),l.Xb(5,"td"),l.Xb(6,"mat-form-field"),l.Xb(7,"input",13),l.fc("keypress",function(t){return l.Hc(a),l.jc().onKeyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"td"),l.Xb(9,"div",14),l.Xb(10,"mat-checkbox",15),l.fc("change",function(t){return l.Hc(a),l.jc().checkbox(t)}),l.Wb(),l.Wb(),l.Wb(),l.Ub(),l.Wb()}if(2&t){var n=e.$implicit;l.Eb(1),l.rc("formGroup",n)}}var au,nu=((au=function(){function e(t,a,o,i,r,c){n(this,e),this.data=t,this.formBuilder=a,this.apiService=o,this.dialogRef=i,this.snack=r,this.api=c,this.accountType="Card Origin"}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.data.currencytype=localStorage.getItem("Currency Type"),"INR"===this.data.currencytype?this.currencySymbol="\u20b9":"USD"===this.data.currencytype?this.currencySymbol="$":"CNY"===this.data.currencytype?this.currencySymbol="\xa5":"GBP"===this.data.currencytype?this.currencySymbol="\xa3":"ZAR"===this.data.currencytype&&(this.currencySymbol="R"),this.cardChargeUpdateForm=this.formBuilder.group({chargeInfo:new v.d([])}),this.data.chargeInfo?(this.onChangeInterest(this.data.chargeInfo.length),this.in.patchValue(t(this.data.chargeInfo))):this.apiService.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(t){e.onChangeInterest(t.length),e.in.patchValue([Object.assign(Object.assign({},t[0]),{amount:history.state.amount?history.state.amount:""})])})}},{key:"onChangeInterest",value:function(t){var e=t||0;if(this.in.length<e)for(var a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],amount:["",v.z.required],waiver:[!1],cardId:[this.data.cardId],chargeDetailsId:[""]}));else for(var n=this.in.length;n>=e;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.cardChargeUpdateForm.controls}},{key:"in",get:function(){return this.f.chargeInfo}},{key:"onKeyPress",value:function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}},{key:"checkbox",value:function(t){console.log(t.checked)}},{key:"onSubmit",value:function(t){var e=this;console.log("form",t),this.api.cardChargeDetailsSave(t).subscribe(function(t){e.snack.open("Charge Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("backend response from intrest saving",t),e.apiService.updateCardStatus({cardId:e.data.cardId,status:"BACKLOG"}).subscribe(function(t){e.dialogRef.close({status:t.status})})},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),e}()).\u0275fac=function(t){return new(t||au)(l.Rb(p.a),l.Rb(v.f),l.Rb(b.b),l.Rb(p.g),l.Rb(W.a),l.Rb(b.b))},au.\u0275cmp=l.Lb({type:au,selectors:[["app-card-charge-details-update"]],decls:25,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[1,"tableRow"],["matInput","","formControlName","intrestType","name","account_branch","readonly","",1,"input"],["maxlength","10","formControlName","amount","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","matInput","","formControlName","amount","name","account_branch",1,"input",3,"keypress"],[1,"waiver-pos"],["formControlName","waiver","color","primary",3,"change"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Charge Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"mat-card"),l.Xb(7,"form",3),l.Xb(8,"table",4),l.Xb(9,"thead",5),l.Xb(10,"tr",6),l.Xb(11,"th"),l.Tc(12,"Interest Type"),l.Wb(),l.Xb(13,"th"),l.Tc(14,"Amount"),l.Wb(),l.Xb(15,"th"),l.Tc(16,"waiever"),l.Wb(),l.Wb(),l.Wb(),l.Xb(17,"tbody"),l.Rc(18,eu,11,1,"tr",7),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"div",8),l.Xb(20,"button",9),l.fc("click",function(){return e.onSubmit(e.cardChargeUpdateForm.value)}),l.Tc(21,"Save"),l.Wb(),l.Tc(22," \xa0\xa0\xa0 "),l.Xb(23,"button",10),l.fc("click",function(){return e.close()}),l.Tc(24," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.cardChargeUpdateForm),l.Eb(11),l.rc("ngForOf",e.in.controls),l.Eb(2),l.rc("disabled",e.cardChargeUpdateForm.invalid))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,c.m,X.f,I.c,C.b,v.c,v.r,v.i,v.m,ee.a],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),au);function ou(t,e){if(1&t&&(l.Xb(0,"tr",11),l.Vb(1,3),l.Xb(2,"td"),l.Xb(3,"mat-card",12),l.Sb(4,"input",13),l.Wb(),l.Wb(),l.Xb(5,"td"),l.Xb(6,"mat-card",12),l.Sb(7,"input",14),l.Wb(),l.Wb(),l.Xb(8,"td"),l.Xb(9,"mat-card",12),l.Sb(10,"input",15),l.Wb(),l.Wb(),l.Xb(11,"td"),l.Xb(12,"mat-card",12),l.Sb(13,"input",16),l.Wb(),l.Wb(),l.Ub(),l.Wb()),2&t){var a=e.$implicit;l.Eb(1),l.rc("formGroup",a)}}var iu,ru=((iu=function(){function t(e,a,o,i,r){n(this,t),this.data=e,this.formBuilder=a,this.api=o,this.snack=i,this.dialogRef=r,this.accountType="Card Origin"}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.cardInterestUpdateForm=this.formBuilder.group({interestInfo:new v.d([])}),console.log(this.data),this.data.interestInfo?(this.onChangeInterest(this.data.interestInfo.length),this.in.patchValue(this.data.interestInfo)):this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(function(e){t.onChangeInterest(e.length),t.in.patchValue(e)}),console.log(this.cardInterestUpdateForm)}},{key:"onChangeInterest",value:function(t){var e=t||0;if(this.in.length<e)for(var a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:["Fixed Rate",v.z.required],intrestRateApplicable:[5,v.z.required],marginIn:[null,[v.z.required,v.z.max(100),v.z.min(0)]],effectiveRate:[10,[v.z.required,v.z.max(100),v.z.min(0)]],cardInterestId:[""],cardId:[this.data.cardId]}));else for(var n=this.in.length;n>=e;n--)this.in.removeAt(n)}},{key:"onSubmit",value:function(){var t=this;console.log(this.cardInterestUpdateForm.value),this.api.cardintrestDetailsSave(this.cardInterestUpdateForm.value).subscribe(function(e){t.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("backend response from intrest saving",e)},function(e){t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"f",get:function(){return this.cardInterestUpdateForm.controls}},{key:"in",get:function(){return this.f.interestInfo}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||iu)(l.Rb(p.a),l.Rb(v.f),l.Rb(b.b),l.Rb(W.a),l.Rb(p.g))},iu.\u0275cmp=l.Lb({type:iu,selectors:[["app-card-interest-details-update"]],decls:27,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn"],["type","button",1,"cancelbtn",3,"click"],[1,"tableRow"],[1,"matCardBox-form"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"inputPercent"],["matInput","","formControlName","marginIn","name","margin","type","number","placeholder","Margin","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"inputPercent"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Interest Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"mat-card"),l.Xb(7,"form",3),l.Xb(8,"table",4),l.Xb(9,"thead",5),l.Xb(10,"tr",6),l.Xb(11,"th"),l.Tc(12,"Interest Type"),l.Wb(),l.Xb(13,"th"),l.Tc(14,"Interest Rate Applicable in %"),l.Wb(),l.Xb(15,"th"),l.Tc(16,"Margin in %"),l.Wb(),l.Xb(17,"th"),l.Tc(18,"Effective Rate %"),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"tbody"),l.Rc(20,ou,14,1,"tr",7),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(21,"div",8),l.Xb(22,"button",9),l.Tc(23,"Save"),l.Wb(),l.Tc(24," \xa0\xa0\xa0 "),l.Xb(25,"button",10),l.fc("click",function(){return e.close()}),l.Tc(26," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.cardInterestUpdateForm),l.Eb(13),l.rc("ngForOf",e.in.controls))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,c.m,X.f,C.b,v.c,v.r,v.i,v.v],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),iu);function cu(t,e){if(1&t&&(l.Xb(0,"mat-option",66),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function su(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please select the Employment Type "),l.Wb())}function lu(t,e){if(1&t&&(l.Xb(0,"mat-option",66),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function bu(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please select the Employment Category "),l.Wb())}function uu(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please enter the Employee Number "),l.Wb())}function du(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please enter the Office Name "),l.Wb())}function mu(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Please enter the Designation "),l.Wb())}function pu(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Employment Start Date is Required! "),l.Wb())}function fu(t,e){1&t&&(l.Xb(0,"mat-error"),l.Tc(1," Employment End Date is Required! "),l.Wb())}var hu,gu=((hu=function(){function t(e,a,o,i,r,c){n(this,t),this.data=e,this.dialogRef=a,this.formBuilder=o,this.apiService=i,this.cdr=r,this.snack=c,this.maxDate=new Date}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),this.data&&this.data.financialInfo?this.buildFinacialFormGroup(this.data.financialInfo[0]):this.buildFinacialFormGroup()}},{key:"buildFinacialFormGroup",value:function(t){var e=this;console.log(t),this.cardFinancialDetailsUpdateForm=this.formBuilder.group({id:[t?t.id:""],applicantName:[this.data.initiationInfo.applicantName,v.z.required],currentlyWorking:[t?t.currentlyWorking:""],applicantTotalIncome:[t?t.applicantTotalIncome:0,v.z.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,v.z.required],lastUpdatedon:[t?new Date(t.lastUpdatedon):""],employmentType:[t?t.employmentType:"",v.z.required],employmentCategory:[t?t.employmentCategory:"",v.z.required],employeeNumber:[t?t.employeeNumber:"",v.z.required],officeName:[t?t.officeName:"",v.z.required],designation:[t?t.designation:"",v.z.required],employmentStartDate:[t?new Date(t.employmentStartDate):"",v.z.required],employmentEndDate:[t?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0]},{validator:function(t){return e.validateInputGroups(t)}})}},{key:"validateInputGroups",value:function(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}},{key:"converDate",value:function(t){var e=y(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}},{key:"onSubmit",value:function(){var t=this,e=this.converDate(this.cardFinancialDetailsUpdateForm.controls.employmentStartDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.cardFinancialDetailsUpdateForm.value.employmentStartDate=e):this.cardFinancialDetailsUpdateForm.value.employmentStartDate=null;var a=this.converDate(this.cardFinancialDetailsUpdateForm.controls.employmentEndDate.value);a&&"Invalid date"!=a?(console.log("startDate",a),this.cardFinancialDetailsUpdateForm.value.employmentEndDate=a):this.cardFinancialDetailsUpdateForm.value.employmentEndDate=null;var n=y(this.cardFinancialDetailsUpdateForm.controls.lastUpdatedon.value).format("YYYY-MM-DD HH:MM:SS");console.log("lastUpdatedon",n),n&&"Invalid date"!=n?(console.log("startDate",n),this.cardFinancialDetailsUpdateForm.value.lastUpdatedon=n):this.cardFinancialDetailsUpdateForm.value.lastUpdatedon=null,this.cardFinancialDetailsUpdateForm.value.accountType="cardOrigin",this.cardFinancialDetailsUpdateForm.value.cardId=this.data.initiationInfo.cardId,console.log("submit",this.cardFinancialDetailsUpdateForm.value),console.log(this.cardFinancialDetailsUpdateForm.value);var o=[];o.push(this.cardFinancialDetailsUpdateForm.value),console.log(o),this.apiService.upsertCardFinancialDetails(o).subscribe(function(e){console.log(e),t.snack.open("Financial Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:t.data.initiationInfo.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})})},function(e){t.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"calculateTotalMonthlyIncome",value:function(t){var e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.cardFinancialDetailsUpdateForm.controls.monthlyIncomeTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalMonthlyExpenses",value:function(t){var e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.cardFinancialDetailsUpdateForm.controls.monthlyExpenseTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalLiabilities",value:function(t){var e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.cardFinancialDetailsUpdateForm.controls.liabilityTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalAssets",value:function(t){var e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.cardFinancialDetailsUpdateForm.controls.assetTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}},{key:"calculateTotalIncomeAndExpense",value:function(t){var e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.cardFinancialDetailsUpdateForm.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.cardFinancialDetailsUpdateForm.controls.applicantTotalExpense.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges()}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}},{key:"letterOnly",value:function(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}},{key:"getEmploymentType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentType=t})}},{key:"getEmploymentCategory",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayEmploymentCategory=t})}}]),t}()).\u0275fac=function(t){return new(t||hu)(l.Rb(p.a),l.Rb(p.g),l.Rb(v.f),l.Rb(b.b),l.Rb(l.h),l.Rb(W.a))},hu.\u0275cmp=l.Lb({type:hu,selectors:[["app-card-financial-details-update"]],decls:264,vars:23,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline",1,"full-width"],["matInput","","formControlName","applicantName","placeholder","Applicant Name"],["matInput","","type","text","formControlName","currentlyWorking","placeholder","Currently Working"],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Income"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total  Expenses"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","lastUpdatedon",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"keypress"],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name",3,"keypress"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation",3,"keypress"],["fxFlex","31.32%","appearance","outline",1,"full-width"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentStartDate",1,"alignment",3,"max","matDatepicker"],["start",""],["fxLayout","row"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentEndDate",1,"alignment",3,"matDatepicker","min"],["end",""],[1,""],[1,"card-title-text"],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","placeholder","Business",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","education","name","mod","placeholder","Education",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","Rentals",3,"input","keypress"],["fxLayout","row","fxLayoutGap","5%",1,"pb-1"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","Overdrafts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","Vehicle Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","Cards Outstanding's",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","Others",3,"keypress","input"],[1,"pb-1"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","Saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","Fixed Deposits",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","Stocks/Funds","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","Automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","Lands","formControlName","lands",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","Others","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","Total","readonly",""],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Financial Details"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"mat-card"),l.Xb(7,"form",3),l.Xb(8,"mat-card"),l.Xb(9,"div",4),l.Xb(10,"mat-form-field",5),l.Xb(11,"mat-label"),l.Tc(12,"Applicant Name"),l.Wb(),l.Sb(13,"input",6),l.Wb(),l.Xb(14,"mat-form-field",5),l.Xb(15,"mat-label"),l.Tc(16,"Currently Working"),l.Wb(),l.Sb(17,"input",7),l.Wb(),l.Xb(18,"mat-form-field",5),l.Xb(19,"mat-label"),l.Tc(20,"Total Income*"),l.Wb(),l.Sb(21,"input",8),l.Wb(),l.Wb(),l.Xb(22,"div",4),l.Xb(23,"mat-form-field",5),l.Xb(24,"mat-label"),l.Tc(25,"Total Expenses*"),l.Wb(),l.Sb(26,"input",9),l.Wb(),l.Xb(27,"mat-form-field",5),l.Xb(28,"mat-label"),l.Tc(29,"Last Update On"),l.Wb(),l.Sb(30,"input",10),l.Sb(31,"mat-datepicker-toggle",11),l.Sb(32,"mat-datepicker",null,12),l.Wb(),l.Wb(),l.Wb(),l.Xb(34,"mat-card"),l.Xb(35,"mat-card-title"),l.Xb(36,"div"),l.Tc(37,"Employment Details"),l.Wb(),l.Sb(38,"mat-divider"),l.Wb(),l.Xb(39,"mat-card-content"),l.Xb(40,"div",4),l.Xb(41,"mat-form-field",5),l.Xb(42,"mat-label"),l.Tc(43,"Employment Type*"),l.Wb(),l.Xb(44,"mat-select",13),l.Rc(45,cu,2,2,"mat-option",14),l.Wb(),l.Rc(46,su,2,0,"mat-error",15),l.Wb(),l.Xb(47,"mat-form-field",5),l.Xb(48,"mat-label"),l.Tc(49,"Employment Category*"),l.Wb(),l.Xb(50,"mat-select",16),l.Rc(51,lu,2,2,"mat-option",14),l.Wb(),l.Rc(52,bu,2,0,"mat-error",15),l.Wb(),l.Xb(53,"mat-form-field",5),l.Xb(54,"mat-label"),l.Tc(55,"Employee number*"),l.Wb(),l.Xb(56,"input",17),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Rc(57,uu,2,0,"mat-error",15),l.Wb(),l.Wb(),l.Xb(58,"div",4),l.Xb(59,"mat-form-field",5),l.Xb(60,"mat-label"),l.Tc(61,"Office Name*"),l.Wb(),l.Xb(62,"input",18),l.fc("keypress",function(t){return e.letterOnly(t)}),l.Wb(),l.Rc(63,du,2,0,"mat-error",15),l.Wb(),l.Xb(64,"mat-form-field",5),l.Xb(65,"mat-label"),l.Tc(66,"Designation*"),l.Wb(),l.Xb(67,"input",19),l.fc("keypress",function(t){return e.letterOnly(t)}),l.Wb(),l.Rc(68,mu,2,0,"mat-error",15),l.Wb(),l.Xb(69,"mat-form-field",20),l.Xb(70,"mat-label"),l.Tc(71,"Employment Start Date*"),l.Wb(),l.Sb(72,"input",21),l.Sb(73,"mat-datepicker-toggle",11),l.Sb(74,"mat-datepicker",null,22),l.Rc(76,pu,2,0,"mat-error",15),l.Wb(),l.Wb(),l.Xb(77,"div",23),l.Xb(78,"mat-form-field",5),l.Xb(79,"mat-label"),l.Tc(80,"Employment End Date"),l.Wb(),l.Sb(81,"input",24),l.Sb(82,"mat-datepicker-toggle",11),l.Sb(83,"mat-datepicker",null,25),l.Rc(85,fu,2,0,"mat-error",15),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(86,"mat-card"),l.Xb(87,"mat-card-title",26),l.Xb(88,"div",27),l.Tc(89," Monthly Income "),l.Xb(90,"div",28),l.Tc(91),l.Wb(),l.Wb(),l.Sb(92,"mat-divider"),l.Wb(),l.Xb(93,"mat-card-content"),l.Xb(94,"div",4),l.Xb(95,"mat-form-field",5),l.Xb(96,"mat-label"),l.Tc(97,"Bonus"),l.Wb(),l.Xb(98,"input",29),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(99,"mat-form-field",5),l.Xb(100,"mat-label"),l.Tc(101,"Interest Income"),l.Wb(),l.Xb(102,"input",30),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(103,"mat-form-field",5),l.Xb(104,"mat-label"),l.Tc(105,"Salary"),l.Wb(),l.Xb(106,"input",31),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(107,"div",4),l.Xb(108,"mat-form-field",5),l.Xb(109,"mat-label"),l.Tc(110,"Business"),l.Wb(),l.Xb(111,"input",32),l.fc("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Xb(112,"mat-form-field",5),l.Xb(113,"mat-label"),l.Tc(114,"Pension"),l.Wb(),l.Xb(115,"input",33),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(116,"mat-form-field",5),l.Xb(117,"mat-label"),l.Tc(118,"Rentals"),l.Wb(),l.Xb(119,"input",34),l.fc("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(120,"div",4),l.Xb(121,"mat-form-field",5),l.Xb(122,"mat-label"),l.Tc(123,"Cash Gifts"),l.Wb(),l.Xb(124,"input",35),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(125,"mat-form-field",5),l.Xb(126,"mat-label"),l.Tc(127,"Others"),l.Wb(),l.Xb(128,"input",36),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(129,"mat-form-field",5),l.Xb(130,"mat-label"),l.Tc(131,"Total"),l.Wb(),l.Sb(132,"input",37),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(133,"mat-card"),l.Xb(134,"mat-card-title",26),l.Xb(135,"div",27),l.Tc(136," Monthly Expenses "),l.Xb(137,"div",28),l.Tc(138),l.Wb(),l.Wb(),l.Sb(139,"mat-divider"),l.Wb(),l.Xb(140,"mat-card-content"),l.Xb(141,"div",4),l.Xb(142,"mat-form-field",5),l.Xb(143,"mat-label"),l.Tc(144,"Household"),l.Wb(),l.Xb(145,"input",38),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(146,"mat-form-field",5),l.Xb(147,"mat-label"),l.Tc(148,"Education"),l.Wb(),l.Xb(149,"input",39),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(150,"mat-form-field",5),l.Xb(151,"mat-label"),l.Tc(152,"Vehicle Maintenance"),l.Wb(),l.Xb(153,"input",40),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(154,"div",4),l.Xb(155,"mat-form-field",5),l.Xb(156,"mat-label"),l.Tc(157,"Medical"),l.Wb(),l.Xb(158,"input",41),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(159,"mat-form-field",5),l.Xb(160,"mat-label"),l.Tc(161,"Travel"),l.Wb(),l.Xb(162,"input",42),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(163,"mat-form-field",5),l.Xb(164,"mat-label"),l.Tc(165,"Rentals"),l.Wb(),l.Xb(166,"input",43),l.fc("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(167,"div",44),l.Xb(168,"mat-form-field",5),l.Xb(169,"mat-label"),l.Tc(170,"Others"),l.Wb(),l.Xb(171,"input",45),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(172,"mat-form-field",5),l.Xb(173,"mat-label"),l.Tc(174,"Total"),l.Wb(),l.Sb(175,"input",46),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(176,"mat-card"),l.Xb(177,"mat-card-title",26),l.Xb(178,"div",27),l.Tc(179," Annual Liabilities "),l.Xb(180,"div",28),l.Tc(181),l.Wb(),l.Wb(),l.Sb(182,"mat-divider"),l.Wb(),l.Xb(183,"mat-card-content"),l.Xb(184,"div",4),l.Xb(185,"mat-form-field",5),l.Xb(186,"mat-label"),l.Tc(187,"Property Loans"),l.Wb(),l.Xb(188,"input",47),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(189,"mat-form-field",5),l.Xb(190,"mat-label"),l.Tc(191,"Personal Loans"),l.Wb(),l.Xb(192,"input",48),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(193,"mat-form-field",5),l.Xb(194,"mat-label"),l.Tc(195,"Overdrafts"),l.Wb(),l.Xb(196,"input",49),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(197,"div",4),l.Xb(198,"mat-form-field",5),l.Xb(199,"mat-label"),l.Tc(200,"Vehicle Loans"),l.Wb(),l.Xb(201,"input",50),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(202,"mat-form-field",5),l.Xb(203,"mat-label"),l.Tc(204,"Cards Outstanding's"),l.Wb(),l.Xb(205,"input",51),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(206,"mat-form-field",5),l.Xb(207,"mat-label"),l.Tc(208,"Others"),l.Wb(),l.Xb(209,"input",52),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(210,"div",53),l.Xb(211,"mat-form-field",5),l.Xb(212,"mat-label"),l.Tc(213,"Total"),l.Wb(),l.Sb(214,"input",54),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(215,"mat-card"),l.Xb(216,"mat-card-title",26),l.Xb(217,"div",27),l.Tc(218," Asset "),l.Xb(219,"div",28),l.Tc(220),l.Wb(),l.Wb(),l.Sb(221,"mat-divider"),l.Wb(),l.Xb(222,"mat-card-content"),l.Xb(223,"div",4),l.Xb(224,"mat-form-field",5),l.Xb(225,"mat-label"),l.Tc(226,"Savings Deposits"),l.Wb(),l.Xb(227,"input",55),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(228,"mat-form-field",5),l.Xb(229,"mat-label"),l.Tc(230,"Properties"),l.Wb(),l.Xb(231,"input",56),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(232,"mat-form-field",5),l.Xb(233,"mat-label"),l.Tc(234,"Fixed Deposits"),l.Wb(),l.Xb(235,"input",57),l.fc("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(236,"div",4),l.Xb(237,"mat-form-field",5),l.Xb(238,"mat-label"),l.Tc(239,"Stocks/Funds"),l.Wb(),l.Xb(240,"input",58),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(241,"mat-form-field",5),l.Xb(242,"mat-label"),l.Tc(243,"Automobiles"),l.Wb(),l.Xb(244,"input",59),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(245,"mat-form-field",5),l.Xb(246,"mat-label"),l.Tc(247,"Lands"),l.Wb(),l.Xb(248,"input",60),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(249,"div",4),l.Xb(250,"mat-form-field",5),l.Xb(251,"mat-label"),l.Tc(252,"Others"),l.Wb(),l.Xb(253,"input",61),l.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),l.Wb(),l.Wb(),l.Xb(254,"mat-form-field",5),l.Xb(255,"mat-label"),l.Tc(256,"Total"),l.Wb(),l.Sb(257,"input",62),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(258,"div",63),l.Xb(259,"button",64),l.fc("click",function(){return e.onSubmit()}),l.Tc(260,"Save"),l.Wb(),l.Tc(261," \xa0\xa0\xa0 "),l.Xb(262,"button",65),l.fc("click",function(){return e.close()}),l.Tc(263," Cancel "),l.Wb(),l.Wb()),2&t){var a=l.Dc(33),n=l.Dc(75),o=l.Dc(84);l.Eb(7),l.rc("formGroup",e.cardFinancialDetailsUpdateForm),l.Eb(23),l.rc("matDatepicker",a),l.Eb(1),l.rc("for",a),l.Eb(14),l.rc("ngForOf",e.arrayEmploymentType),l.Eb(1),l.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentType").hasError("required")),l.Eb(5),l.rc("ngForOf",e.arrayEmploymentCategory),l.Eb(1),l.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentCategory").hasError("required")&&e.cardFinancialDetailsUpdateForm.get("employmentCategory").touched),l.Eb(5),l.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employeeNumber").hasError("required")),l.Eb(6),l.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("officeName").hasError("required")),l.Eb(5),l.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("designation").hasError("required")),l.Eb(4),l.rc("max",e.maxDate)("matDatepicker",n),l.Eb(1),l.rc("for",n),l.Eb(3),l.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentStartDate").hasError("required")),l.Eb(5),l.rc("matDatepicker",o)("min",e.cardFinancialDetailsUpdateForm.get("employmentStartDate").value),l.Eb(1),l.rc("for",o),l.Eb(3),l.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentEndDate").hasError("required")),l.Eb(6),l.Uc(e.incomeErrMsg),l.Eb(47),l.Uc(e.ExpensesErrMsg),l.Eb(43),l.Uc(e.LiabilitiesErrMsg),l.Eb(39),l.Uc(e.assetErrMsg),l.Eb(39),l.rc("disabled",e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg)}},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,X.f,I.c,X.b,I.g,C.b,v.c,v.r,v.i,v.v,O.e,O.g,I.j,O.d,E.h,Ba.a,E.d,x.a,c.m,c.n,v.m,Y.a,A.b,S.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}"]}),hu);function vu(t,e){if(1&t&&(l.Xb(0,"mat-option",20),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function yu(t,e){if(1&t){var a=l.Yb();l.Xb(0,"tr",3),l.Xb(1,"td",13),l.Xb(2,"mat-select",14),l.fc("valueChange",function(t){l.Hc(a);var n=e.index;return l.jc().changeValue2(t,n)}),l.Rc(3,vu,2,2,"mat-option",15),l.Wb(),l.Wb(),l.Xb(4,"td"),l.Xb(5,"div"),l.Xb(6,"input",16),l.fc("keyup",function(t){l.Hc(a);var n=e.index;return l.jc().OnInput1(t,!0,n)})("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(7,"td"),l.Xb(8,"div"),l.Xb(9,"input",17),l.fc("keyup",function(t){l.Hc(a);var n=e.index;return l.jc().OnInput(t,!0,n)})("keypress",function(t){return l.Hc(a),l.jc().keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(10,"td",18),l.Xb(11,"div"),l.Xb(12,"button",19),l.fc("click",function(){l.Hc(a);var t=e.index;return l.jc().onclick1(t)}),l.Xb(13,"mat-icon"),l.Tc(14,"delete"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.jc();l.rc("formGroup",n),l.Eb(3),l.rc("ngForOf",o.arraylimitType),l.Eb(3),l.rc("readonly",o.isDLReadOnly),l.Eb(3),l.rc("readonly",o.isLPTReadOnly)}}function Wu(t,e){1&t&&(l.Xb(0,"mat-error"),l.Xb(1,"small"),l.Tc(2,"Limit per transaction should be less "),l.Wb(),l.Sb(3,"br"),l.Xb(4,"small"),l.Tc(5,"than daily limit"),l.Wb(),l.Wb())}var Xu,Tu,Iu=((Xu=function(){function t(e,a,o,i,r){n(this,t),this.data=e,this.dialogRef=a,this.fb=o,this.apiService=i,this.snack=r,this.arraylimitType=["Domestic Limit","International Limit","Daily Limit","ATM limit","POS Limit","Internet Limit"]}return i(t,[{key:"ngOnInit",value:function(){if(console.log(this.data),this.buildcardPrefrenceUpdateForm(),this.data.preferanceInfo){this.cardPrefrenceOnLoad=this.data.preferanceInfo,this.isdailylimit=!0,this.isLimitTransaction=!0,this.buildcardPrefrenceUpdateForm(this.data.preferanceInfo,!0);for(var t=0;t<=this.cardPrefrenceOnLoad.length-1;t++)this.selectedOptions2.push(this.cardPrefrenceOnLoad[t].limitType);this.isRowEnds=!0,console.log("All Transaction Details",this.data)}else this.buildcardPrefrenceUpdateForm()}},{key:"buildcardPrefrenceUpdateForm",value:function(t,e){if(this.cardPrefrenceUpdateForm=this.fb.group({cardPrefrences:this.fb.array([this.addMFormGroup()])}),e){this.addMandateToFormGroup(t),console.log(t);for(var a=0;a<=t.length-1;a++)t[a].dailyLimit=this.addComa(t[a].dailyLimit),t[a].limitPerTransaction=this.addComa(t[a].limitPerTransaction);this.m.patchValue(t)}}},{key:"addMFormGroup",value:function(){return this.fb.group({preferenceId:[""],limitType:[""],dailyLimit:["",[v.z.maxLength(18),v.z.pattern("^[0-9]{10,12}$")]],limitPerTransaction:["",[v.z.maxLength(18),v.z.pattern("^[0-9]{10,12}$")]]})}},{key:"addMandateToFormGroup",value:function(t){for(var e=t.length,a=1;a<e;a++)this.m.push(this.fb.group({preferenceId:[""],limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}));this.isdailylimit=!0}},{key:"addComa",value:function(t){var e=t.toString().replace(/,/g,"").split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}},{key:"addMandate",value:function(){this.isdailylimit=!1,this.islimitType=!1,this.isLimitTransaction=!1,this.isLPTReadOnly=!0,this.isLPTReadOnly=!0,console.log("this.selectedOptions2",this.selectedOptions2),this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}))}},{key:"onSubmit",value:function(){var t=this,e=[];this.cardPrefrenceUpdateForm.value.cardPrefrences.cardId=this.data.cardId;for(var a=0;a<this.cardPrefrenceUpdateForm.value.cardPrefrences.length;a++){var n=Object.assign({},this.cardPrefrenceUpdateForm.value.cardPrefrences[a],{cardId:this.data.cardId});n.dailyLimit=parseInt(this.removeComma(n.dailyLimit)),n.limitPerTransaction=parseInt(this.removeComma(n.limitPerTransaction)),e.push(n)}this.apiService.uploadCardPrefrence(e).subscribe(function(e){console.log("data",e),null!=e&&(t.snack.open("Card Preferences Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.apiService.updateCardStatus({cardId:t.data.cardId,status:"BACKLOG"}).subscribe(function(e){t.dialogRef.close({status:e.status})}))},function(e){t.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"onclick1",value:function(t){var e=this;this.islimitType=!0,this.isLimitTransaction=!0,this.isdailylimit=!0,this.isRowEnds=!1,this.isLPTReadOnly=!1,this.isLPTReadOnly=!1,this.cardPrefrenceUpdateForm.controls.cardPrefrences.removeAt(t),null==this.cardPrefrenceOnLoad?console.log("deleted"):null!=this.cardPrefrenceOnLoad[t]&&this.apiService.deleteCardPrefrence(this.cardPrefrenceOnLoad[t].preferenceId).subscribe(function(t){},function(t){200==t.status&&e.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.selectedOptions2.splice(t,1),console.log("console.log(this.selectedOptions2);",this.selectedOptions2),this.isdailylimit=!0}},{key:"f",get:function(){return this.cardPrefrenceUpdateForm.controls}},{key:"m",get:function(){return this.f.cardPrefrences}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}},{key:"changeValue2",value:function(t,e){var a=this;this.islimitType=!0,this.selectedDocumentTypes2[e]&&(this.selectedOptions2=this.selectedOptions2.filter(function(t){return t!==a.selectedDocumentTypes2[e]})),this.selectedDocumentTypes2[e]=t,this.selectedOptions2.push(t),this.selectedDocumentTypes2.length==this.arraylimitType.length?(this.isRowEnds=!0,console.log("isRowends",this.isRowEnds)):(this.isRowEnds=!1,console.log("isRowends",this.isRowEnds)),this.isDLReadOnly=!1}},{key:"_keyPress",value:function(t){console.log(this.cardPrefrenceUpdateForm);var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isdailylimit=!0,this.isLPTReadOnly=!1}},{key:"keyPress",value:function(t){var e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isLimitTransaction=!0}},{key:"OnInput",value:function(t,e,a){this.limiPrTrn=t.target.value;var n=this.removeComma(this.cardPrefrenceUpdateForm.value.cardPrefrences[a].dailyLimit),o=this.removeComma(this.limiPrTrn);this.isLimitTransaction=!!this.limiPrTrn,this.isGreaterValue=Number(o)>Number(n)||(Number(o),Number(n),!1);var i={limitPerTransaction:this.addComa(this.limiPrTrn)};this.m.controls[a].patchValue(i)}},{key:"OnInput1",value:function(t,e,a){this.limitDaily=t.target.value,this.isdailylimit=!!this.limitDaily;var n={dailyLimit:this.addComa(this.limitDaily)};this.m.controls[a].patchValue(n)}},{key:"removeComma",value:function(t){var e=t.replace(/,/g,"");return console.log("numb",e),e}}]),t}()).\u0275fac=function(t){return new(t||Xu)(l.Rb(p.a),l.Rb(p.g),l.Rb(v.f),l.Rb(b.b),l.Rb(W.a))},Xu.\u0275cmp=l.Lb({type:Xu,selectors:[["app-card-preference-details-update"]],decls:31,vars:5,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"table-container"],[1,"table"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","335px"],["mat-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[2,"width","5cm"],["formControlName","limitType","placeholder","Select Type","name","limitType",1,"inputMatcard1",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","maxlength","18","formControlName","dailyLimit",1,"alignment",3,"readonly","keyup","keypress"],["type","text","maxlength","18","formControlName","limitPerTransaction",1,"alignment",3,"readonly","keyup","keypress"],[1,"deletebutton"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h1",2),l.Tc(4,"Card Preferences"),l.Wb(),l.Xb(5,"mat-dialog-content"),l.Xb(6,"mat-card"),l.Xb(7,"form",3),l.Xb(8,"div",4),l.Xb(9,"table",5),l.Xb(10,"thead"),l.Xb(11,"tr"),l.Xb(12,"th"),l.Tc(13,"Limit Type"),l.Wb(),l.Xb(14,"th"),l.Tc(15,"Daily Limit"),l.Wb(),l.Xb(16,"th"),l.Tc(17,"Limit per transaction"),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"tbody"),l.Rc(19,yu,15,4,"tr",6),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",7),l.Xb(21,"button",8),l.fc("click",function(){return e.addMandate()}),l.Xb(22,"mat-icon"),l.Tc(23,"add"),l.Wb(),l.Wb(),l.Rc(24,Wu,6,0,"mat-error",9),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",10),l.Xb(26,"button",11),l.fc("click",function(){return e.onSubmit()}),l.Tc(27,"Save"),l.Wb(),l.Tc(28," \xa0\xa0\xa0 "),l.Xb(29,"button",12),l.fc("click",function(){return e.close()}),l.Tc(30," Cancel "),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.cardPrefrenceUpdateForm),l.Eb(12),l.rc("ngForOf",e.m.controls),l.Eb(2),l.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction&&e.islimitType&&!e.isRowEnds)||e.isGreaterValue),l.Eb(3),l.rc("ngIf",e.isGreaterValue),l.Eb(2),l.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction||e.islimitType)||e.isGreaterValue||0==e.m.controls.length))},directives:[X.e,X.d,T.a,p.h,p.e,E.a,v.A,v.s,v.j,c.m,X.f,A.b,c.n,x.a,v.r,v.i,v.c,v.m,S.n,I.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.table-container[_ngcontent-%COMP%]{padding:0 10%;margin:20px auto 0}.table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:.2cm;background-color:#007bff}.alignment[_ngcontent-%COMP%]{border-style:none;outline:none;box-shadow:0 0 0;padding-top:11px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:medium;color:#fff;opacity:1;padding:12px;vertical-align:top}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;border:1px solid rgba(2,2,3,.48627450980392156)}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;color:#f1f1f1;padding:8px;text-align:center}.deletebutton[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-option-text[_ngcontent-%COMP%]{display:inline-block;flex-grow:1;margin-left:10px!important;overflow:hidden;text-overflow:ellipsis}.mat-select-panel[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%], .mat-select-panel[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{font-size:inherit;line-height:3em;margin-left:10px;height:3em}.egret-blue[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);margin-left:10px}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 10px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 0 0 rgba(0,0,0,.1607843137254902);box-sizing:border-box;padding:10px;width:100%}"]}),Xu),Eu=r("I5/J"),Cu=((Tu=function(){function t(e,a,o,i,r){n(this,t),this.ls=e,this.data=a,this.formBuilder=o,this.dialogRef=i,this.doOcrService=r,this.screenInfo={screenName:"Cad Document Upload",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"Cad Document Upload",data:"",customerId:"",isEdit:!0},this.doOcrService.getenableNext().subscribe(function(e){console.log("data disableNextAtIndex1 :: ",e),t.disableNextAtIndex1=e})}},{key:"createDocItemOthers",value:function(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}},{key:"onSubmit",value:function(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}},{key:"close",value:function(){this.dialogRef.close({status:"ONGOING"})}}]),t}()).\u0275fac=function(t){return new(t||Tu)(l.Rb(m.a),l.Rb(p.a),l.Rb(v.f),l.Rb(p.g),l.Rb(Sr.a))},Tu.\u0275cmp=l.Lb({type:Tu,selectors:[["app-update-doc-upload"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(l.Xb(0,"div",0),l.Xb(1,"mat-icon",1),l.fc("click",function(){return e.close()}),l.Tc(2,"close"),l.Wb(),l.Wb(),l.Xb(3,"h3",2),l.Tc(4,"Proof Of Identity"),l.Wb(),l.Xb(5,"mat-card"),l.Sb(6,"app-genric-document-upload",3),l.Wb(),l.Xb(7,"div",4),l.Xb(8,"button",5),l.fc("click",function(){return e.onSubmit()}),l.Tc(9,"Save"),l.Wb(),l.Tc(10," \xa0\xa0\xa0 "),l.Xb(11,"button",6),l.fc("click",function(){return e.close()}),l.Tc(12," Cancel "),l.Wb(),l.Wb()),2&t&&(l.Eb(6),l.rc("screenInfo",e.screenInfo),l.Eb(2),l.rc("disabled",e.disableNextAtIndex1))},directives:[X.e,X.d,T.a,E.a,kr.a,X.f,A.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),Tu),xu=["chart"];function Ou(t,e){if(1&t&&(l.Xb(0,"span",66),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.Eb(1),l.Uc(a)}}function Du(t,e){if(1&t&&(l.Xb(0,"div",67),l.Xb(1,"h1",68),l.Tc(2),l.kc(3,"slice"),l.kc(4,"uppercase"),l.kc(5,"slice"),l.kc(6,"uppercase"),l.Wb(),l.Wb()),2&t){var a=l.jc();l.Oc("background",a.customerColorCode),l.Eb(2),l.Wc("",l.nc(3,4,l.lc(4,8,a.cardInfo.firstName),0,1),"",l.nc(5,10,l.lc(6,14,a.cardInfo.lastName),0,1),"")}}function Au(t,e){if(1&t&&l.Sb(0,"img",70),2&t){var a=l.jc(2);l.rc("src",a.imageUrl,l.Jc)}}function Ru(t,e){if(1&t&&(l.Xb(0,"div",67),l.Rc(1,Au,1,1,"img",69),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.rc("ngIf","not_available"!=a.imageUrl)}}function Su(t,e){if(1&t&&(l.Xb(0,"div",83),l.Xb(1,"small",84),l.Tc(2),l.Wb(),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(2),l.Vc("CIF #",null==a?null:a.cifNumber,"")}}function ku(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",85),l.fc("click",function(){return l.Hc(a),l.jc(2).goTo360Dashboard()}),l.Xb(1,"small",84),l.Tc(2),l.Wb(),l.Wb()}if(2&t){var n=l.jc().$implicit;l.Eb(2),l.Vc("CIF #",null==n?null:n.cifNumber,"")}}function Nu(t,e){if(1&t&&(l.Xb(0,"div",71),l.Xb(1,"div",38),l.Xb(2,"mat-card"),l.Xb(3,"div",71),l.Xb(4,"div",72),l.Sb(5,"img",73),l.Wb(),l.Xb(6,"div",74),l.Xb(7,"div",75),l.Xb(8,"div"),l.Xb(9,"div",71),l.Xb(10,"div",76),l.Xb(11,"h2",77),l.Xb(12,"span"),l.Tc(13),l.Wb(),l.Tc(14,"\xa0 "),l.Xb(15,"span"),l.Tc(16),l.Wb(),l.Tc(17,"\xa0 "),l.Xb(18,"span"),l.Tc(19),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",78),l.Tc(21,"|"),l.Wb(),l.Xb(22,"div",76),l.Xb(23,"small",49),l.Tc(24),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",71),l.Rc(26,Su,3,1,"div",79),l.Rc(27,ku,3,1,"div",80),l.Wb(),l.Sb(28,"br"),l.Xb(29,"div",81),l.Xb(30,"div",82),l.Xb(31,"small",48),l.Tc(32,"Date of Birth"),l.Wb(),l.Sb(33,"br"),l.Xb(34,"p",49),l.Tc(35),l.Wb(),l.Wb(),l.Xb(36,"div",82),l.Xb(37,"small",48),l.Tc(38,"Email ID"),l.Wb(),l.Sb(39,"br"),l.Xb(40,"p",49),l.Tc(41),l.Wb(),l.Wb(),l.Xb(42,"div",82),l.Xb(43,"small",48),l.Tc(44,"Mobile Number"),l.Wb(),l.Sb(45,"br"),l.Xb(46,"p",49),l.Tc(47),l.Wb(),l.Wb(),l.Xb(48,"div",82),l.Xb(49,"small",48),l.Tc(50,"Phone Number"),l.Wb(),l.Sb(51,"br"),l.Xb(52,"p",49),l.Tc(53),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=l.jc();l.Eb(13),l.Uc(null==a?null:a.firstName),l.Eb(3),l.Uc(null==a?null:a.middleName),l.Eb(3),l.Uc(null==a?null:a.lastName),l.Eb(5),l.Vc("Last Updated On ",null!=a&&a.modifiedTime?a.modifiedTime:a.createdTime,""),l.Eb(2),l.rc("ngIf",!n.isApprovedSreen),l.Eb(1),l.rc("ngIf",n.isApprovedSreen),l.Eb(8),l.Uc(null==a?null:a.dateOfBirth),l.Eb(6),l.Uc(null==a?null:a.primaryEmailAdress),l.Eb(6),l.Uc(a.phoneNumber),l.Eb(6),l.Uc(null==a?null:a.landlineNumber)}}function Pu(t,e){if(1&t&&l.Sb(0,"apx-chart",95),2&t){var a=l.jc(2);l.rc("series",a.chartOptions.series)("chart",a.chartOptions.chart)("plotOptions",a.chartOptions.plotOptions)("labels",a.chartOptions.labels)}}function Fu(t,e){if(1&t&&l.Sb(0,"apx-chart",96),2&t){var a=l.jc(2);l.rc("series",a.chartOptions1.series1)("chart",a.chartOptions1.chart1)("yaxis",a.chartOptions1.yaxis1)("xaxis",a.chartOptions1.xaxis1)("labels",a.chartOptions1.labels1)("stroke",a.chartOptions1.stroke1)("markers",a.chartOptions1.markers1)("fill",a.chartOptions1.fill1)("tooltip",a.chartOptions1.tooltip1)}}function Lu(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",30),l.Xb(2,"h3"),l.Tc(3,"Financial Details"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"mat-icon",31),l.fc("click",function(){return l.Hc(a),l.jc().editFinancialDetails()}),l.Tc(6,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(7,"hr"),l.Xb(8,"mat-card"),l.Xb(9,"div",75),l.Xb(10,"mat-card"),l.Xb(11,"h4"),l.Tc(12,"Assets and Liabilities"),l.Wb(),l.Rc(13,Pu,1,4,"apx-chart",86),l.Wb(),l.Xb(14,"mat-card"),l.Xb(15,"h4"),l.Tc(16,"Income and Expenses"),l.Wb(),l.Rc(17,Fu,1,9,"apx-chart",87),l.Wb(),l.Wb(),l.Xb(18,"mat-card"),l.Xb(19,"mat-card-header",88),l.Xb(20,"div",89),l.Xb(21,"div",90),l.Xb(22,"div",91),l.Xb(23,"mat-icon"),l.Tc(24,"perm_identity"),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div"),l.Xb(26,"mat-card-title",92),l.Tc(27),l.Wb(),l.Xb(28,"mat-card-subtitle",93),l.Tc(29),l.Wb(),l.Wb(),l.Wb(),l.Xb(30,"div",94),l.Xb(31,"div"),l.Xb(32,"div",36),l.Tc(33,"Employment Type"),l.Wb(),l.Xb(34,"div",37),l.Tc(35),l.Wb(),l.Wb(),l.Xb(36,"div"),l.Xb(37,"div",36),l.Tc(38,"Employment Category"),l.Wb(),l.Xb(39,"div",37),l.Tc(40),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(41,"br"),l.Wb()}if(2&t){var n=l.jc();l.Eb(5),l.rc("hidden",n.editScreen),l.Eb(8),l.rc("ngIf",n.chartOptions),l.Eb(4),l.rc("ngIf",n.chartOptions1),l.Eb(10),l.Uc(n.designation),l.Eb(2),l.Wc("",n.employeeNumber,",",n.officeName," "),l.Eb(6),l.Uc(n.employmentType),l.Eb(5),l.Uc(n.employmentCategory)}}function _u(t,e){if(1&t&&(l.Xb(0,"div",33),l.Sb(1,"div",34),l.Xb(2,"div",35),l.Xb(3,"div",36),l.Tc(4,"Limit Type"),l.Wb(),l.Xb(5,"div",37),l.Tc(6),l.Wb(),l.Wb(),l.Xb(7,"div",35),l.Xb(8,"div",36),l.Tc(9,"Daily Limit"),l.Wb(),l.Xb(10,"div",37),l.Tc(11),l.Wb(),l.Wb(),l.Xb(12,"div",35),l.Xb(13,"div",36),l.Tc(14,"Limit Per Transaction"),l.Wb(),l.Xb(15,"div",37),l.Tc(16),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(6),l.Uc(a.limitType),l.Eb(5),l.Uc(a.dailyLimit),l.Eb(5),l.Uc(a.limitPerTransaction)}}function wu(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div"),l.Xb(1,"div",30),l.Xb(2,"h3"),l.Tc(3,"Card Preferences Details"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"mat-icon",31),l.fc("click",function(){return l.Hc(a),l.jc().editCardPreferenceDetails()}),l.Tc(6,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Sb(7,"hr"),l.Xb(8,"mat-card"),l.Xb(9,"mat-card-content"),l.Rc(10,_u,17,3,"div",97),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(5),l.rc("hidden",n.editScreen),l.Eb(5),l.rc("ngForOf",n.preferenceDetails)}}function Uu(t,e){if(1&t&&(l.Xb(0,"div",37),l.Xb(1,"a",98),l.Tc(2,"link"),l.Wb(),l.Sb(3,"link"),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.sc("href",a.documentUrl,l.Jc)}}function Mu(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"div"),l.Xb(2,"h4"),l.Tc(3,"Fixed Interest"),l.Wb(),l.Wb(),l.Xb(4,"div",100),l.Xb(5,"div"),l.Xb(6,"mat-card",101),l.Xb(7,"div"),l.Xb(8,"div",36),l.Tc(9,"Interest Type"),l.Wb(),l.Xb(10,"div",37),l.Tc(11),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"div"),l.Xb(13,"mat-card",101),l.Xb(14,"div"),l.Xb(15,"div",36),l.Tc(16,"Applicable Int Rate %"),l.Wb(),l.Xb(17,"div",37),l.Tc(18),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"div"),l.Xb(20,"mat-card",101),l.Xb(21,"div"),l.Xb(22,"div",36),l.Tc(23,"Effective Rate %"),l.Wb(),l.Xb(24,"div",37),l.Tc(25),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(26,"div"),l.Xb(27,"mat-card",101),l.Xb(28,"div"),l.Xb(29,"div",36),l.Tc(30,"Int Margin In %"),l.Wb(),l.Xb(31,"div",37),l.Tc(32),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(11),l.Uc(a.intrestType),l.Eb(7),l.Uc(a.intrestRateApplicable),l.Eb(7),l.Uc(a.effectiveRate),l.Eb(7),l.Uc(a.marginIn)}}function Gu(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-card"),l.Xb(1,"div",30),l.Xb(2,"h3"),l.Tc(3,"Interest Details"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"mat-icon",31),l.fc("click",function(){return l.Hc(a),l.jc(2).editInterestDetails()}),l.Tc(6,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Rc(7,Mu,33,4,"mat-card",99),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(5),l.rc("hidden",n.editScreen),l.Eb(2),l.rc("ngForOf",n.intrestDetails)}}function Vu(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"div"),l.Xb(2,"h4"),l.Tc(3,"Handling Charge"),l.Wb(),l.Wb(),l.Xb(4,"div"),l.Xb(5,"div"),l.Xb(6,"mat-card",102),l.Xb(7,"div"),l.Xb(8,"div",36),l.Tc(9,"Amount"),l.Wb(),l.Xb(10,"div",37),l.Tc(11),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(11),l.Uc(a.amount)}}function ju(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-card"),l.Xb(1,"div",30),l.Xb(2,"h3"),l.Tc(3,"Charge Details"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"mat-icon",31),l.fc("click",function(){return l.Hc(a),l.jc(2).editChargeDetails()}),l.Tc(6,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Rc(7,Vu,12,1,"mat-card",99),l.Wb()}if(2&t){var n=l.jc(2);l.Eb(5),l.rc("hidden",n.editScreen),l.Eb(2),l.rc("ngForOf",n.chargeDetails)}}function Bu(t,e){if(1&t&&(l.Xb(0,"div",25),l.Xb(1,"div",26),l.Xb(2,"div",27),l.Tc(3,"3"),l.Wb(),l.Xb(4,"div",28),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Xb(6,"div",29),l.Xb(7,"h2"),l.Tc(8,"Application Enrichment"),l.Wb(),l.Sb(9,"hr"),l.Rc(10,Gu,8,2,"mat-card",51),l.Sb(11,"br"),l.Sb(12,"hr"),l.Rc(13,ju,8,2,"mat-card",51),l.Wb(),l.Wb()),2&t){var a=l.jc();l.Eb(10),l.rc("ngIf",(null==a.intrestDetails?null:a.intrestDetails.length)>0),l.Eb(3),l.rc("ngIf",(null==a.chargeDetails?null:a.chargeDetails.length)>0)}}function zu(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",25),l.Xb(1,"div",26),l.Xb(2,"div",27),l.Tc(3,"4"),l.Wb(),l.Xb(4,"div",28),l.Tc(5,"\xa0"),l.Wb(),l.Wb(),l.Sb(6,"br"),l.Xb(7,"div",29),l.Xb(8,"h2"),l.Tc(9,"Underwriting Stage"),l.Wb(),l.Sb(10,"hr"),l.Xb(11,"div"),l.Xb(12,"div",30),l.Xb(13,"h3"),l.Tc(14,"Credit Score Details"),l.Wb(),l.Xb(15,"span"),l.Xb(16,"mat-icon",31),l.fc("click",function(){return l.Hc(a),l.jc().editCreditScoreDetails()}),l.Tc(17,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"div",39),l.Xb(19,"div",42),l.Xb(20,"div",43),l.Xb(21,"mat-card",103),l.Xb(22,"mat-card-content"),l.Xb(23,"div",38),l.Xb(24,"div",104),l.Xb(25,"div",105),l.Vb(26),l.Xb(27,"div",106),l.Xb(28,"mat-hint",36),l.Tc(29,"Customer Name"),l.Wb(),l.Sb(30,"br"),l.Xb(31,"mat-hint",37),l.Tc(32),l.Wb(),l.Wb(),l.Ub(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(33,"div",39),l.Xb(34,"div",42),l.Xb(35,"div",43),l.Xb(36,"mat-card",103),l.Xb(37,"mat-card-content"),l.Xb(38,"div",38),l.Xb(39,"div",104),l.Xb(40,"div",105),l.Vb(41),l.Sb(42,"div",107),l.Xb(43,"div",108),l.Xb(44,"mat-card",109),l.Xb(45,"h3"),l.Tc(46,"Score"),l.Wb(),l.Sb(47,"br"),l.Xb(48,"div",110),l.Xb(49,"div",105),l.Vb(50),l.Xb(51,"div",111),l.Xb(52,"mat-hint",36),l.Tc(53,"Agency"),l.Wb(),l.Sb(54,"br"),l.Xb(55,"mat-hint",37),l.Tc(56),l.Wb(),l.Wb(),l.Xb(57,"div",111),l.Xb(58,"mat-hint",36),l.Tc(59,"Score"),l.Wb(),l.Sb(60,"br"),l.Xb(61,"mat-hint",37),l.Tc(62),l.Wb(),l.Wb(),l.Ub(),l.Wb(),l.Wb(),l.Sb(63,"br"),l.Xb(64,"div",104),l.Xb(65,"div",105),l.Vb(66),l.Xb(67,"div",111),l.Xb(68,"mat-hint",36),l.Tc(69,"Remarks"),l.Wb(),l.Sb(70,"br"),l.Xb(71,"mat-hint",37),l.Tc(72),l.Wb(),l.Wb(),l.Ub(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Ub(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(73,"hr"),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(16),l.rc("hidden",n.editScreen),l.Eb(16),l.Uc(n.customerName),l.Eb(24),l.Uc(n.agencyName),l.Eb(6),l.Uc(n.ratings),l.Eb(10),l.Vc("",n.remarks," ")}}function qu(t,e){if(1&t&&(l.Xb(0,"div",37),l.Xb(1,"a",98),l.Tc(2,"link"),l.Wb(),l.Sb(3,"link"),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.sc("href",a.signatureDataForCard.fileUrl,l.Jc)}}var Ju,Ku=function(t,e){return{disabledbtn:t,continueBtn:e}},$u=function(t,e){return{disabledbtn:t,rejectbtn:e}},Hu=function(t,e){return{disabledbtn:t,approvebtn:e}},Yu=((Ju=function(){function t(e,a,o,i,r,c,s,l,b,u,d,m){n(this,t),this.router=e,this.tasksummaryService=a,this.ls=o,this.dialogRef=i,this.appApiService=r,this.api=c,this.sanitizer=s,this.data=l,this.cdr=b,this.snack=u,this.dialog=d,this.jwtService=m,this.chart=new h.a,this.isOnGoing="",this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0,this.document_type=["6","7","8"],this.cardDocumentArray=[]}return i(t,[{key:"ngOnInit",value:function(){this.cardInfo=this.data,console.log(this.cardInfo),localStorage.setItem("cardId",this.cardInfo.cardId),this.cardId=this.ls.getItem(""),this.ls.setItem("CIF_NUM_PRIMARY",this.cardInfo.customerId),this.ls.setItem("NAME",this.cardInfo.firstName+" "+this.cardInfo.lastName),this.getProfileImage(this.cardInfo.customerId),this.getSign(this.cardInfo.cardId),"REJECTED"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1,this.continueStatus=!0):"APPROVED"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0,this.continueStatus=!1):"ONGOING"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!1):"BACKLOG"==this.cardInfo.status&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!0),this.getAccountInfoByAccountId(this.cardInfo.cardId),this.getCustomerInfoDetails(this.cardInfo.cardId),this.getCustomerDocumentsDetails(this.cardInfo.customerId),this.getCardAccountServiceDetails(this.cardInfo.cardId),this.getQalitativeDetails(this.cardInfo.cardId)}},{key:"getQalitativeDetails",value:function(t){var e=this;this.api.getCardQualitativeScorecardDetails(t).subscribe(function(t){e.cardQualitativeDetails=t})}},{key:"getCardDocument",value:function(t){var e=this;for(var a in this.document_type)this.api.getCustomerDocuments(t,this.document_type[a]).subscribe(function(t){e.cardDocumentArray.push(t),console.log(e.cardDocumentArray)})}},{key:"getCardAccountServiceDetails",value:function(t){var e=this;this.api.gettingCardAccountServiceDetails(t).subscribe(function(t){e.cardAccountService=t})}},{key:"close",value:function(t){this.dialogRef.close({message:"Confirm",data:this.cardInfo.status})}},{key:"getProfileImage",value:function(t){var e=this;this.image=null,null!=this.cardInfo.customerId&&this.api.getProfileDetails(t).subscribe(function(t){null!=t.profileImage&&(e.imageUrl=t.profileImage,e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},function(t){console.log(t)})}},{key:"getSign",value:function(t){var e=this;this.api.getDigitalsignByCardId(t).subscribe(function(t){console.log(t),null!=t&&(console.log(t[t.length-1]),e.signatureDataForCard=t[t.length-1])},function(t){})}},{key:"goToCardAccount",value:function(){var t=this;console.log("Navigating to edit screen"),this.ls.setItem("EDIT-CARDINFO",this.cardAccountInfo),this.api.updateCardStatus({cardId:this.cardInfo.cardId,status:"ONGOING"}).subscribe(function(t){}),console.log("acc data :: ",this.cardInfo),setTimeout(function(){t.router.navigateByUrl("/cardaccount/applicationEntryStage/list")},1e3),this.dialogRef.close({message:"Confirm"})}},{key:"getAccountInfoByAccountId",value:function(t){var e=this;this.tasksummaryService.getCardAccountInfoById(t).subscribe(function(t){if(t)for(var a in e.cardAccountInfo=t,e.getCardDocument(e.cardAccountInfo.initiationInfo.customerId),console.log("backend data",e.cardAccountInfo),e.initiationDetails=e.cardAccountInfo.initiationInfo,console.log(e.initiationDetails),e.cardAccountInfo.financialInfo&&(e.financialDetails=e.cardAccountInfo.financialInfo[0],e.income=e.cardAccountInfo.financialInfo[0].applicantTotalIncome,e.expense=e.cardAccountInfo.financialInfo[0].applicantTotalExpense,e.designation=e.cardAccountInfo.financialInfo[0].designation,e.office=e.cardAccountInfo.financialInfo[0].office,e.employeeNumber=e.cardAccountInfo.financialInfo[0].employeeNumber,e.employmentType=e.cardAccountInfo.financialInfo[0].employmentType,e.employmentCategory=e.cardAccountInfo.financialInfo[0].employmentCategory),e.cardAccountInfo.creditRatingInfo&&(e.creditRatingDetails=e.cardAccountInfo.creditRatingInfo,e.customerName=e.cardAccountInfo.creditRatingInfo.customerName,e.cardAccountInfo.creditRatingInfo.agencyRating&&(e.cardAccountInfo.creditRatingInfo.agencyRating[0].agencyName&&(e.agencyName=e.cardAccountInfo.creditRatingInfo.agencyRating[0].agencyName),e.cardAccountInfo.creditRatingInfo.agencyRating[0].ratings&&(e.ratings=e.cardAccountInfo.creditRatingInfo.agencyRating[0].ratings),e.cardAccountInfo.creditRatingInfo.agencyRating[0].remarks&&(e.remarks=e.cardAccountInfo.creditRatingInfo.agencyRating[0].remarks))),e.intrestDetails=e.cardAccountInfo.interestInfo,e.chargeDetails=e.cardAccountInfo.chargeInfo,e.signatureData=e.cardAccountInfo.documentInfo,e.assessmentDetails=e.cardAccountInfo.assessmentInfo,e.approvalDetails=e.cardAccountInfo.approvalInfo,e.preferenceDetails=e.cardAccountInfo.preferenceInfo,e.assignValues(e.cardAccountInfo.initiationInfo,e.cardAccountInfo.financialInfo[0],e.cardAccountInfo.creditRatingInfo,e.cardAccountInfo.interestInfo,e.cardAccountInfo.chargeInfo,e.cardAccountInfo.documentInfo,e.cardAccountInfo.assessmentInfo,e.cardAccountInfo.approvalInfo,e.cardAccountInfo.preferenceInfo),e.cardAccountInfo)Object.prototype.hasOwnProperty.call(e.cardAccountInfo,a)})}},{key:"assignValues",value:function(t,e,a,n,o,i,r,c,s){this.approvalDetails=c,this.assessmentDetails=r,this.initiationDetails=t,this.creditRatingDetails=a,this.financialDetails=e,this.interestDetails=n,this.chargeDetails=o,this.signatureData=i,this.preferenceDetails=s,this.chartOptions={series:[48],chart:{height:200,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:"70%"}}},labels:["saved"]},this.chartOptions1={series1:[{name:"Income :"+this.income,type:"line",data:[40,55,50,70,65,68,50,45,35,30,38,40]},{name:"Expenses :"+this.expense,type:"line",data:[55,30,25,45,46,47,48,52,44,35,30]}],chart1:{height:220,type:"line"},stroke1:{curve:"smooth"},fill1:{type:"solid",opacity:[.35,1]},labels1:["JAN","","FEB","","MAR","","APR","","MAY ","","JUN"],yaxis1:[{title:{text:""}}],xaxis1:{labels:{trim:!1}}}}},{key:"getCustomerDocumentsDetails",value:function(t){var e=this;this.api.getCustomerAllDocuments(t,[6,7,8]).subscribe(function(t){e.loading=!1,e.custOtherDoc_array=t,null!=t&&(e.documentName=e.custOtherDoc_array[0].fileName,e.documentUrl=e.custOtherDoc_array[0].fileUrl)})}},{key:"updateApplicationStatus",value:function(t,e){var a=this;console.log("formData::",t);var n=e;this.accStatus=e,console.log(this.accStatus),this.tasksummaryService.updateCardAccountStatus({status:this.accStatus,cardId:t.cardId}).subscribe(function(t){null!=t.cardId||""!=t.cardId||""!=t.cardId?(a.close(n),a.cdr.markForCheck(),a.cdr.detectChanges(),a.dialogRef.close({message:"Confirm",data:n}),a.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck()):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.errorStatus=e,a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"openEditScreen",value:function(t,e){var a=this;this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){a.cardInfo.status=t.status,"BACKLOG"==a.cardInfo.status&&(a.approvedStatus=!1,a.rejectedStatus=!1),a.getAccountInfoByAccountId(a.cardInfo.cardId),a.getSign(a.cardInfo.cardId),a.cdr.markForCheck()})}},{key:"editProofOfIdentity",value:function(){this.openEditScreen(Cu,this.custOtherDoc_array)}},{key:"editInitiationDetails",value:function(){this.openEditScreen(Sb,this.initiationDetails)}},{key:"editFinancialDetails",value:function(){this.openEditScreen(gu,this.cardAccountInfo)}},{key:"editCardPreferenceDetails",value:function(){this.openEditScreen(Iu,{preferanceInfo:this.preferenceDetails,cardId:this.cardInfo.cardId})}},{key:"editInterestDetails",value:function(){this.openEditScreen(ru,{interestInfo:this.interestDetails,cardId:this.cardInfo.cardId})}},{key:"editChargeDetails",value:function(){this.openEditScreen(nu,{chargeInfo:this.chargeDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}},{key:"editCreditScoreDetails",value:function(){this.openEditScreen(tu,{creditScore:this.creditRatingDetails,cardId:this.cardInfo.cardId})}},{key:"editAssessmentReport",value:function(){this.openEditScreen(Kb,{assessmentInfo:this.assessmentDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}},{key:"editApprovalDetails",value:function(){this.openEditScreen(Bb,{approvalInfo:this.approvalDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}},{key:"editDigitalSign",value:function(){this.ls.setItem("cardSignedImage",null!=this.signatureDataForCard?this.signatureDataForCard.fileUrl:"not_available"),this.ls.setItem("cId",this.cardInfo.customerId),this.openEditScreen(Eu.a,this.cardInfo)}},{key:"getCustomerInfoDetails",value:function(t){var e=this;this.appApiService.fetchCardCustomersByCardId(t,"cardOrigin").subscribe(function(t){t.data&&(e.customerInfoDetails=t.data,e.ownership=e.customerInfoDetails[0].ownership,e.noOfApplicants=e.customerInfoDetails[0].numOfApplicants,e.ownership=e.ls.getItem("cardownership_value"),e.noOfApplicants=e.ls.getItem("CardNoOfApplicants"))},function(t){})}},{key:"continue",value:function(){var t,e,a,n,o,i,r,c,s,l,b,u,d,m,p,f,h,g,v;this.ls.setItem("cardId",null===(t=this.initiationDetails)||void 0===t?void 0:t.cardId),this.ls.setItem("CARD_INITIATION_DONE",!!this.initiationDetails),this.ls.setItem("Card_Customer_Done",0!=(null===(a=null===(e=this.customerInfoDetails)||void 0===e?void 0:e.data)||void 0===a?void 0:a.length)),this.ls.setItem("CARD_FINANCIAL_DONE",0!=(null===(n=this.cardAccountInfo.financialInfo)||void 0===n?void 0:n.lenght)),this.ls.setItem("card_prefrence_done",0!=(null===(o=this.cardAccountInfo.preferenceInfo)||void 0===o?void 0:o.length)),this.ls.setItem("CARD_ACC_SERVICE_DONE",!!this.cardAccountService),this.ls.setItem("CARD_APPLICATION_ENTRY_DONE",0!=(this.initiationDetails&&0!=(null===(r=null===(i=this.customerInfoDetails)||void 0===i?void 0:i.data)||void 0===r?void 0:r.length)&&0!=(null===(c=this.cardAccountInfo.financialInfo)||void 0===c?void 0:c.lenght)&&(null===(s=this.cardAccountInfo.preferenceInfo)||void 0===s?void 0:s.length)&&this.cardAccountService)),this.ls.setItem("CARD_DOCUMENT_STAGE_DONE",!(!this.initiationDetails||0==(null===(b=null===(l=this.customerInfoDetails)||void 0===l?void 0:l.data)||void 0===b?void 0:b.length)||0==(null===(u=this.cardAccountInfo.financialInfo)||void 0===u?void 0:u.lenght)||0==(null===(d=this.cardAccountInfo.preferenceInfo)||void 0===d?void 0:d.length)||!this.cardAccountService)),this.ls.setItem("CARD_DOCUMENT_DONE",!!(this.cardDocumentArray[0]||this.cardDocumentArray[1]||this.cardDocumentArray[2])),this.ls.setItem("CARD_ENRICHMENT_DONE",!!(this.cardDocumentArray[0]||this.cardDocumentArray[1]||this.cardDocumentArray[2])),this.ls.setItem("CARD_INTEREST_DETAILS_DONE",!(0==(null===(m=this.cardAccountInfo.interestInfo)||void 0===m?void 0:m.length)||!this.cardAccountInfo.interestInfo)),this.ls.setItem("CARD_CHARGE_DETAILS_DONE",!(0==(null===(p=this.cardAccountInfo.chargeInfo)||void 0===p?void 0:p.length)||!this.cardAccountInfo.chargeInfo)),this.ls.setItem("CARD_UNDERWRITING_DONE",!(0==(null===(f=this.cardAccountInfo.interestInfo)||void 0===f?void 0:f.length)||!this.cardAccountInfo.interestInfo||0==(null===(h=this.cardAccountInfo.chargeInfo)||void 0===h?void 0:h.length)||!this.cardAccountInfo.chargeInfo)),this.ls.setItem("CARD_ASSESSMENT_STAGE_DONE",!(0==(null===(g=this.cardAccountInfo.creditRatingInfo.agencyRating)||void 0===g?void 0:g.length)||!this.cardAccountInfo.creditRatingInfo.agencyRating||!this.cardQualitativeDetails)),this.ls.setItem("CARD_CREDIT_RATING_DONE",!(0==(null===(v=this.cardAccountInfo.creditRatingInfo.agencyRating)||void 0===v?void 0:v.length)||!this.cardAccountInfo.creditRatingInfo.agencyRating)),this.ls.setItem("CARD_QUALITATIVE_SCOREBOARD_DONE",!!this.cardQualitativeDetails),this.ls.setItem("CARD_ASSESSMENT_DONE",!!this.cardAccountInfo.assessmentInfo),this.ls.setItem("CARD_SUPERVISOR_DONE",!!this.cardAccountInfo.assessmentInfo),this.ls.setItem("CARD_APPROVAL_DONE",!!this.cardAccountInfo.approvalInfo),this.ls.setItem("CARD_DIGITAL_STAGE_DONE",!!this.cardAccountInfo.approvalInfo),window.open("".concat(co.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=CARDACC&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Ju)(l.Rb(Ze.h),l.Rb(g.a),l.Rb(m.a),l.Rb(p.g),l.Rb(f.a),l.Rb(b.b),l.Rb(lo.b),l.Rb(p.a),l.Rb(l.h),l.Rb(W.a),l.Rb(p.b),l.Rb(so.a))},Ju.\u0275cmp=l.Lb({type:Ju,selectors:[["app-card-account-approver"]],viewQuery:function(t,e){var a;1&t&&l.ad(xu,!0),2&t&&l.Cc(a=l.gc())&&(e.chart=a.first)},decls:350,vars:65,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],["fxLayoutAlign","center"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["fxFlex","85"],["fxLayout","row","fxLayoutAlign","space-between end"],[1,"editbtn",3,"hidden","click"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[1,"pt-16"],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],[4,"ngIf"],["class","labelval",4,"ngIf"],["fxLayout","row","class","flex-container",4,"ngIf"],[1,"appersoninfocard",2,"width","250px"],["fxLayout","row",1,"rowbord","nobord"],["fxLayout","row","fxLayoutAlign"," start"],[1,"circle1"],[1,"content2"],[2,"padding-bottom","20px"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","15",2,"flex","1 1 100%","box-sizing","border-box","max-width","15%"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"continueBtn",3,"hidden","ngClass","click"],["type","button",1,"rejectbtn",3,"hidden","ngClass","click"],["type","button",1,"approvebtn",3,"hidden","ngClass","click"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row wrap",1,"full-width"],["fxFlex","7%","fxFlex.xs","50%","fxFlex.md","10%","fxFlex.sm","15%",1,"pb-16"],["height","50px","width","50px","src","assets/images/backgrounds/defaultProfileBackground.png",1,"rounded-circle"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-16"],[1,"valueTextName"],[1,"pl-16","text-secondary"],["class","pl-16 pr-16",4,"ngIf"],["class","pl-16 pr-16",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[1,"pl-16","pr-16"],[1,"headingText1"],[1,"pl-16","pr-16",3,"click"],[3,"series","chart","plotOptions","labels",4,"ngIf"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip",4,"ngIf"],["fxLayout","row","fxLayoutGap","70px"],["fxLayout","row","FxLayoutAlign","start"],[1,"circle"],[1,"content1"],[1,"matCardTitle"],[2,"color","grey","font-size","10px"],["fxLayout","row","fxLayoutGap","80px",1,"matCardTitle","col"],[3,"series","chart","plotOptions","labels"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip"],["fxLayout","row","class","rowbord",4,"ngFor","ngForOf"],["download","",1,"linkColor",3,"href"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"appersoninfocard",2,"width","100px"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],["fxFlex","5%","fxFlex.xs","100%","fxLayoutAlign","end start",1,"inputCardclass"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","column","fxLayoutGap","10%","fxLayoutAlign","space-between none"],["fxFlex","20%","fxFlex.xs","50%"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"div",0),l.Xb(2,"div",1),l.Xb(3,"div",2),l.Xb(4,"div",3),l.Xb(5,"mat-icon",4),l.fc("click",function(){return e.close(e.data)}),l.Tc(6," close "),l.Wb(),l.Wb(),l.Wb(),l.Sb(7,"div",5),l.Xb(8,"div",6),l.Xb(9,"div",7),l.Xb(10,"div",8),l.Xb(11,"div",9),l.Rc(12,Ou,2,1,"span",10),l.Wb(),l.Xb(13,"div",11),l.Xb(14,"div",12),l.Sb(15,"img",13),l.Tc(16,"\xa0 "),l.Xb(17,"div"),l.Xb(18,"span",14),l.Tc(19),l.Wb(),l.Sb(20,"br"),l.Xb(21,"span",15),l.Tc(22),l.Wb(),l.Wb(),l.Wb(),l.Xb(23,"div",16),l.Xb(24,"mat-icon",17),l.Tc(25,"phone "),l.Wb(),l.Tc(26,"\xa0\xa0\xa0 "),l.Xb(27,"span",18),l.Tc(28),l.Wb(),l.Wb(),l.Xb(29,"div",16),l.Xb(30,"mat-icon",17),l.Tc(31," mail_outline"),l.Wb(),l.Tc(32,"\xa0\xa0 \xa0 "),l.Xb(33,"span",19),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"div",20),l.Xb(36,"div",21),l.Rc(37,Du,7,16,"div",22),l.Rc(38,Ru,2,1,"div",23),l.Wb(),l.Wb(),l.Sb(39,"br"),l.Sb(40,"br"),l.Sb(41,"br"),l.Sb(42,"br"),l.Xb(43,"div",24),l.Xb(44,"h2"),l.Tc(45),l.Wb(),l.Wb(),l.Xb(46,"div",25),l.Xb(47,"div",26),l.Xb(48,"div",27),l.Tc(49,"1"),l.Wb(),l.Xb(50,"div",28),l.Tc(51,"\xa0"),l.Wb(),l.Wb(),l.Xb(52,"div",29),l.Xb(53,"h2"),l.Tc(54,"Application Entry Stage"),l.Wb(),l.Sb(55,"hr"),l.Xb(56,"div",30),l.Xb(57,"h3"),l.Tc(58,"Card Initiation Details"),l.Wb(),l.Xb(59,"span"),l.Xb(60,"mat-icon",31),l.fc("click",function(){return e.editInitiationDetails()}),l.Tc(61,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(62,"mat-card",32),l.Xb(63,"mat-card-content"),l.Xb(64,"div",33),l.Sb(65,"div",34),l.Xb(66,"div",35),l.Xb(67,"div",36),l.Tc(68,"Existing Customer"),l.Wb(),l.Xb(69,"div",37),l.Tc(70),l.Wb(),l.Wb(),l.Xb(71,"div",35),l.Xb(72,"div",36),l.Tc(73,"Card Type"),l.Wb(),l.Xb(74,"div",37),l.Tc(75),l.Wb(),l.Wb(),l.Xb(76,"div",35),l.Xb(77,"div",36),l.Tc(78,"Customer Account"),l.Wb(),l.Xb(79,"div",37),l.Tc(80),l.Wb(),l.Wb(),l.Wb(),l.Xb(81,"div",33),l.Sb(82,"div",34),l.Xb(83,"div",35),l.Xb(84,"div",36),l.Tc(85,"Applicant Name"),l.Wb(),l.Xb(86,"div",37),l.Tc(87),l.Wb(),l.Wb(),l.Xb(88,"div",35),l.Xb(89,"div",36),l.Tc(90,"Currency"),l.Wb(),l.Xb(91,"div",37),l.Tc(92),l.Wb(),l.Wb(),l.Xb(93,"div",35),l.Xb(94,"div",36),l.Tc(95,"Employment Type"),l.Wb(),l.Xb(96,"div",37),l.Tc(97),l.Wb(),l.Wb(),l.Wb(),l.Xb(98,"div",33),l.Sb(99,"div",34),l.Xb(100,"div",35),l.Xb(101,"div",36),l.Tc(102,"Affinity Program"),l.Wb(),l.Xb(103,"div",37),l.Tc(104),l.Wb(),l.Wb(),l.Xb(105,"div",35),l.Xb(106,"div",36),l.Tc(107,"Status"),l.Wb(),l.Xb(108,"div",37),l.Tc(109),l.Wb(),l.Wb(),l.Xb(110,"div",35),l.Xb(111,"div",36),l.Tc(112,"Modification No"),l.Wb(),l.Xb(113,"div",37),l.Tc(114),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(115,"mat-card",32),l.Xb(116,"div",38),l.Xb(117,"div",39),l.Xb(118,"div",40),l.Xb(119,"h4",41),l.Tc(120,"Customer Information"),l.Wb(),l.Wb(),l.Xb(121,"div",42),l.Xb(122,"div",43),l.Xb(123,"div",38),l.Xb(124,"div",44),l.Xb(125,"div",45),l.Xb(126,"div"),l.Xb(127,"mat-card"),l.Xb(128,"div",46),l.Xb(129,"div",47),l.Xb(130,"small",48),l.Tc(131,"Holding Pattern"),l.Wb(),l.Xb(132,"h3",49),l.Tc(133),l.Wb(),l.Wb(),l.Xb(134,"div",47),l.Xb(135,"small",48),l.Tc(136,"Ownership"),l.Wb(),l.Xb(137,"h3",49),l.Tc(138),l.Wb(),l.Wb(),l.Xb(139,"div",47),l.Xb(140,"small",48),l.Tc(141,"Number of Applicant"),l.Wb(),l.Xb(142,"h3",49),l.Tc(143),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Rc(144,Nu,54,10,"div",50),l.Wb(),l.Wb(),l.Sb(145,"br"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Rc(146,Lu,42,8,"div",51),l.Rc(147,wu,11,2,"div",51),l.Wb(),l.Wb(),l.Xb(148,"div",25),l.Xb(149,"div",26),l.Xb(150,"div",27),l.Tc(151,"2"),l.Wb(),l.Xb(152,"div",28),l.Tc(153,"\xa0"),l.Wb(),l.Wb(),l.Xb(154,"div",29),l.Xb(155,"h2"),l.Tc(156,"Document Type"),l.Wb(),l.Sb(157,"hr"),l.Xb(158,"div",30),l.Xb(159,"h3"),l.Tc(160,"Document Type"),l.Wb(),l.Xb(161,"span"),l.Xb(162,"mat-icon",31),l.fc("click",function(){return e.editProofOfIdentity()}),l.Tc(163,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(164,"mat-card",32),l.Xb(165,"mat-card-content"),l.Xb(166,"div",33),l.Sb(167,"div",34),l.Xb(168,"div",35),l.Xb(169,"div",36),l.Tc(170,"Document Name"),l.Wb(),l.Xb(171,"div",37),l.Tc(172),l.Wb(),l.Wb(),l.Xb(173,"div",35),l.Xb(174,"div",36),l.Tc(175,"Download"),l.Wb(),l.Rc(176,Uu,4,1,"div",52),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(177,"hr"),l.Wb(),l.Wb(),l.Rc(178,Bu,14,2,"div",53),l.Rc(179,zu,74,5,"div",53),l.Xb(180,"div",25),l.Xb(181,"div",26),l.Xb(182,"div",27),l.Tc(183,"5"),l.Wb(),l.Xb(184,"div",28),l.Tc(185,"\xa0"),l.Wb(),l.Wb(),l.Xb(186,"div",29),l.Xb(187,"h2"),l.Tc(188,"Assessment Stage"),l.Wb(),l.Sb(189,"hr"),l.Xb(190,"div",30),l.Xb(191,"h3"),l.Tc(192,"Assessment Report"),l.Wb(),l.Xb(193,"span"),l.Xb(194,"mat-icon",31),l.fc("click",function(){return e.editAssessmentReport()}),l.Tc(195,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(196,"mat-card",32),l.Xb(197,"mat-card-content"),l.Xb(198,"div",33),l.Sb(199,"div",34),l.Xb(200,"div",35),l.Xb(201,"div",36),l.Tc(202,"Requested Card Limit"),l.Wb(),l.Xb(203,"div",37),l.Tc(204),l.Wb(),l.Wb(),l.Xb(205,"div",35),l.Xb(206,"div",36),l.Tc(207,"System Recommendation"),l.Wb(),l.Xb(208,"div",37),l.Tc(209),l.Wb(),l.Wb(),l.Xb(210,"div",35),l.Xb(211,"div",36),l.Tc(212,"User Recommendation"),l.Wb(),l.Xb(213,"div",37),l.Tc(214),l.Wb(),l.Wb(),l.Wb(),l.Xb(215,"div",33),l.Sb(216,"div",34),l.Xb(217,"div",35),l.Xb(218,"div",36),l.Tc(219,"Recommended Card Limit"),l.Wb(),l.Xb(220,"div",37),l.Tc(221),l.Wb(),l.Wb(),l.Xb(222,"div",35),l.Xb(223,"div",36),l.Tc(224,"Approved Card Limit"),l.Wb(),l.Xb(225,"div",37),l.Tc(226),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(227,"div",25),l.Xb(228,"div",26),l.Xb(229,"div",27),l.Tc(230,"6"),l.Wb(),l.Xb(231,"div",28),l.Tc(232,"\xa0"),l.Wb(),l.Wb(),l.Xb(233,"div",29),l.Xb(234,"h2"),l.Tc(235,"Approval Stage"),l.Wb(),l.Sb(236,"hr"),l.Xb(237,"div",30),l.Xb(238,"h3"),l.Tc(239,"Approval Details"),l.Wb(),l.Xb(240,"span"),l.Xb(241,"mat-icon",31),l.fc("click",function(){return e.editApprovalDetails()}),l.Tc(242,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(243,"mat-card",32),l.Xb(244,"mat-card-content"),l.Xb(245,"div",33),l.Sb(246,"div",34),l.Xb(247,"div",35),l.Xb(248,"div",36),l.Tc(249,"Account Type"),l.Wb(),l.Xb(250,"div",37),l.Tc(251),l.Wb(),l.Wb(),l.Xb(252,"div",35),l.Xb(253,"div",36),l.Tc(254,"Account Branch"),l.Wb(),l.Xb(255,"div",37),l.Tc(256),l.Wb(),l.Wb(),l.Xb(257,"div",35),l.Xb(258,"div",36),l.Tc(259,"Product Code"),l.Wb(),l.Xb(260,"div",37),l.Tc(261),l.Wb(),l.Wb(),l.Wb(),l.Xb(262,"div",33),l.Sb(263,"div",34),l.Xb(264,"div",35),l.Xb(265,"div",36),l.Tc(266,"Product Name"),l.Wb(),l.Xb(267,"div",37),l.Tc(268),l.Wb(),l.Wb(),l.Xb(269,"div",35),l.Xb(270,"div",36),l.Tc(271,"Account Currency"),l.Wb(),l.Xb(272,"div",37),l.Tc(273),l.Wb(),l.Wb(),l.Xb(274,"div",35),l.Xb(275,"div",36),l.Tc(276,"Existing Value"),l.Wb(),l.Xb(277,"div",37),l.Tc(278),l.Wb(),l.Wb(),l.Wb(),l.Xb(279,"div",33),l.Xb(280,"div",35),l.Xb(281,"mat-card",54),l.Xb(282,"div",55),l.Xb(283,"div",56),l.Xb(284,"div",57),l.Xb(285,"div",58),l.Xb(286,"mat-icon"),l.Tc(287,"done"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(288,"div",59),l.Xb(289,"div",36),l.Tc(290,"User Recommendation"),l.Wb(),l.Xb(291,"div",37),l.Tc(292),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(293,"div",34),l.Xb(294,"div",35),l.Xb(295,"div",36),l.Tc(296,"Remarks"),l.Wb(),l.Xb(297,"div",37),l.Tc(298),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(299,"div",60),l.Xb(300,"div",61),l.Xb(301,"div",27),l.Tc(302,"7"),l.Wb(),l.Xb(303,"div",28),l.Tc(304,"\xa0"),l.Wb(),l.Wb(),l.Xb(305,"div",29),l.Xb(306,"h2"),l.Tc(307,"Digital Sign"),l.Wb(),l.Sb(308,"hr"),l.Xb(309,"div",30),l.Xb(310,"h3"),l.Tc(311,"Digital Sign"),l.Wb(),l.Xb(312,"span"),l.Xb(313,"mat-icon",31),l.fc("click",function(){return e.editDigitalSign()}),l.Tc(314,"edit"),l.Wb(),l.Wb(),l.Wb(),l.Xb(315,"mat-card",32),l.Xb(316,"mat-card-content"),l.Xb(317,"div",33),l.Sb(318,"div",34),l.Xb(319,"div",35),l.Xb(320,"div",36),l.Tc(321,"Document Name"),l.Wb(),l.Xb(322,"div",37),l.Tc(323),l.Wb(),l.Wb(),l.Xb(324,"div",35),l.Xb(325,"div",36),l.Tc(326,"File Type"),l.Wb(),l.Xb(327,"div",37),l.Tc(328),l.Wb(),l.Wb(),l.Xb(329,"div",35),l.Xb(330,"div",36),l.Tc(331,"File Name"),l.Wb(),l.Xb(332,"div",37),l.Tc(333,"Signature"),l.Wb(),l.Wb(),l.Xb(334,"div",35),l.Xb(335,"div",36),l.Tc(336,"Download"),l.Wb(),l.Rc(337,qu,4,1,"div",52),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(338,"hr"),l.Wb(),l.Wb(),l.Xb(339,"div",62),l.Xb(340,"div"),l.Xb(341,"button",63),l.fc("click",function(){return e.continue()}),l.Tc(342," Cotinue "),l.Wb(),l.Tc(343,"\xa0\xa0 "),l.Xb(344,"button",64),l.fc("click",function(){return e.updateApplicationStatus(e.initiationDetails,"REJECTED")}),l.Tc(345," Reject "),l.Wb(),l.Tc(346," \xa0\xa0 "),l.Xb(347,"button",65),l.fc("click",function(){return e.updateApplicationStatus(e.initiationDetails,"APPROVED")}),l.Tc(348,"Approve"),l.Wb(),l.Tc(349," \xa0\xa0 "),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(12),l.rc("ngForOf",e.nameCreater),l.Eb(7),l.Vc("",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.createdBy," "),l.Eb(3),l.Vc("EID #",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.creatorId,""),l.Eb(6),l.Vc(" ",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.mobile," "),l.Eb(6),l.Vc(" ",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.email," "),l.Eb(3),l.rc("ngIf","not_available"==e.imageUrl),l.Eb(1),l.rc("ngIf","not_available"!=e.imageUrl),l.Eb(7),l.Xc("",e.cardInfo.prefix,"\xa0",e.cardInfo.firstName,"\xa0",e.cardInfo.lastName,""),l.Eb(15),l.rc("hidden",e.editScreen),l.Eb(10),l.Uc(null==e.initiationDetails?null:e.initiationDetails.existingCustomer),l.Eb(5),l.Uc(null==e.initiationDetails?null:e.initiationDetails.cardType),l.Eb(5),l.Uc(null==e.initiationDetails?null:e.initiationDetails.customerAccount),l.Eb(7),l.Uc(null==e.initiationDetails?null:e.initiationDetails.applicantName),l.Eb(5),l.Uc(null==e.initiationDetails?null:e.initiationDetails.currency),l.Eb(5),l.Uc(null==e.initiationDetails?null:e.initiationDetails.employmentType),l.Eb(7),l.Uc(null==e.initiationDetails?null:e.initiationDetails.affinityProgram),l.Eb(5),l.Uc(null==e.initiationDetails?null:e.initiationDetails.status),l.Eb(5),l.Uc(null==e.initiationDetails?null:e.initiationDetails.modificationNo),l.Eb(19),l.Uc(e.ownership),l.Eb(5),l.Uc(e.ownership),l.Eb(5),l.Uc(e.noOfApplicants),l.Eb(1),l.rc("ngForOf",e.customerInfoDetails),l.Eb(2),l.rc("ngIf",null!=e.financialDetails),l.Eb(1),l.rc("ngIf",null!=e.preferenceDetails),l.Eb(15),l.rc("hidden",e.editScreen),l.Eb(10),l.Uc(e.documentName),l.Eb(4),l.rc("ngIf",e.documentUrl),l.Eb(2),l.rc("ngIf",(null==e.intrestDetails?null:e.intrestDetails.length)>0||(null==e.chargeDetails?null:e.chargeDetails.length)>0),l.Eb(1),l.rc("ngIf",(null==e.creditRatingDetails||null==e.creditRatingDetails.agencyRating?null:e.creditRatingDetails.agencyRating.length)>0),l.Eb(15),l.rc("hidden",e.editScreen),l.Eb(10),l.Uc(null==e.assessmentDetails?null:e.assessmentDetails.requestedCardLimit),l.Eb(5),l.Uc(null==e.assessmentDetails?null:e.assessmentDetails.systemRecommendation),l.Eb(5),l.Uc(null==e.assessmentDetails?null:e.assessmentDetails.userRecommendation),l.Eb(7),l.Uc(null==e.assessmentDetails?null:e.assessmentDetails.recommendedCardLimit),l.Eb(5),l.Uc(null==e.assessmentDetails?null:e.assessmentDetails.approvedCardLimit),l.Eb(15),l.rc("hidden",e.editScreen),l.Eb(10),l.Uc(null==e.approvalDetails?null:e.approvalDetails.accountType),l.Eb(5),l.Uc(null==e.approvalDetails?null:e.approvalDetails.accountBranch),l.Eb(5),l.Uc(null==e.approvalDetails?null:e.approvalDetails.productCode),l.Eb(7),l.Uc(null==e.approvalDetails?null:e.approvalDetails.productName),l.Eb(5),l.Uc(null==e.approvalDetails?null:e.approvalDetails.accountCurrency),l.Eb(5),l.Uc(null==e.approvalDetails?null:e.approvalDetails.existingValues),l.Eb(14),l.Uc(null==e.approvalDetails?null:e.approvalDetails.userRecommendation),l.Eb(6),l.Uc(null==e.approvalDetails?null:e.approvalDetails.remarks),l.Eb(15),l.rc("hidden",e.editScreen),l.Eb(10),l.Uc(null==e.signatureDataForCard?null:e.signatureDataForCard.documentName),l.Eb(5),l.Uc(null==e.signatureDataForCard?null:e.signatureDataForCard.fileType),l.Eb(9),l.rc("ngIf",null==e.signatureDataForCard?null:e.signatureDataForCard.fileUrl),l.Eb(4),l.rc("hidden",e.continueStatus)("ngClass",l.yc(56,Ku,e.continueStatus,!e.continueStatus)),l.Eb(3),l.rc("hidden",e.rejectedStatus)("ngClass",l.yc(59,$u,e.rejectedStatus,!e.rejectedStatus)),l.Eb(3),l.rc("hidden",e.approvedStatus)("ngClass",l.yc(62,Hu,e.approvedStatus,!e.approvedStatus)))},directives:[X.e,X.d,T.a,c.m,E.c,c.n,X.b,E.a,E.d,X.f,c.l,bo.a,E.e,E.h,E.g,h.a,I.f],pipes:[c.v,c.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%;margin-left:22%}.closeIcon[_ngcontent-%COMP%]{color:#a9a9a9;cursor:pointer;margin-right:30px}.editbtn[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-right:20px}.num[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;background-color:#fff}.qtncrd[_ngcontent-%COMP%]{margin-right:2%;margin-bottom:40px;padding:10px}.qtnval[_ngcontent-%COMP%]{padding-top:8px}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:5%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%}.appersoninfocard1[_ngcontent-%COMP%]{width:90%}.interstcard[_ngcontent-%COMP%]{width:100px;height:80px;border:1px solid}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:10px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;padding:3rem 2.6rem;color:#fff}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.matCardTitle[_ngcontent-%COMP%]{font-size:16px;padding-top:1%}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:150px;height:30px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),Ju);function Zu(t,e){1&t&&l.Sb(0,"mat-spinner",19),2&t&&l.rc("diameter",15)}function Qu(t,e){if(1&t){var a=l.Yb();l.Xb(0,"button",20),l.fc("click",function(){return l.Hc(a),l.jc().clear()}),l.Xb(1,"mat-icon"),l.Tc(2,"close"),l.Wb(),l.Wb()}}function td(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",33),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function ed(t,e){if(1&t&&l.Sb(0,"img",34),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function ad(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.gotoapproverpage(t,"BACKLOG",o.getRandomColor(n+3))}),l.Xb(1,"mat-icon",22),l.Tc(2,"bookmark"),l.Wb(),l.Xb(3,"mat-card-header",23),l.Xb(4,"div",24),l.Rc(5,td,2,1,"div",25),l.Rc(6,ed,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(8,"mat-card-title",27),l.Tc(9),l.Wb(),l.Xb(10,"mat-card-subtitle",28),l.Tc(11),l.Wb(),l.Wb(),l.Xb(12,"form",29),l.Xb(13,"table"),l.Xb(14,"thead",30),l.Xb(15,"th",31),l.Tc(16,"Card Type"),l.Wb(),l.Xb(17,"th",31),l.Tc(18,"Applicant name"),l.Wb(),l.Wb(),l.Xb(19,"tbody",32),l.Xb(20,"tr"),l.Xb(21,"td",31),l.Tc(22),l.Wb(),l.Xb(23,"td",31),l.Tc(24),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(7);l.Eb(5),l.rc("ngIf",null==n.profileImage)("ngIfElse",o),l.Eb(4),l.Xc("",null==n?null:n.firstName," ",null==n?null:n.middleName," ",null==n?null:n.lastName,""),l.Eb(2),l.Uc(null==n?null:n.cardId),l.Eb(11),l.Uc(null==n?null:n.cardType),l.Eb(2),l.Uc(null==n?null:n.applicantName)}}function nd(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",33),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function od(t,e){if(1&t&&l.Sb(0,"img",34),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function id(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.gotoapproverpage(t,"ONGOING",o.getRandomColor(n+6))}),l.Xb(1,"mat-icon",35),l.Tc(2,"bookmark"),l.Wb(),l.Xb(3,"mat-card-header",23),l.Xb(4,"div",24),l.Rc(5,nd,2,1,"div",25),l.Rc(6,od,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(8,"mat-card-title",27),l.Tc(9),l.Wb(),l.Xb(10,"mat-card-subtitle",28),l.Tc(11),l.Wb(),l.Wb(),l.Xb(12,"form",29),l.Xb(13,"table"),l.Xb(14,"thead",30),l.Xb(15,"th",36),l.Tc(16,"Card Type"),l.Wb(),l.Xb(17,"th",36),l.Tc(18,"Applicant name"),l.Wb(),l.Wb(),l.Xb(19,"tbody",32),l.Xb(20,"tr"),l.Xb(21,"td",31),l.Tc(22),l.Wb(),l.Xb(23,"td",31),l.Tc(24),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(7);l.Eb(5),l.rc("ngIf",null==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc("",null==n?null:n.prefix," ",n.firstName," ",n.middleName," ",n.lastName,""),l.Eb(2),l.Uc(null==n?null:n.cardId),l.Eb(11),l.Uc(null==n?null:n.cardType),l.Eb(2),l.Uc(null==n?null:n.applicantName)}}function rd(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",33),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function cd(t,e){if(1&t&&l.Sb(0,"img",34),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function sd(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.gotoapproverpage(t,"APPROVED",o.getRandomColor(n+9))}),l.Xb(1,"mat-icon",37),l.Tc(2,"bookmark"),l.Wb(),l.Xb(3,"mat-card-header",23),l.Xb(4,"div",24),l.Rc(5,rd,2,1,"div",25),l.Rc(6,cd,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(8,"mat-card-title",27),l.Tc(9),l.Wb(),l.Xb(10,"mat-card-subtitle",28),l.Tc(11),l.Wb(),l.Wb(),l.Xb(12,"form",29),l.Xb(13,"table"),l.Xb(14,"thead",30),l.Xb(15,"th",36),l.Tc(16,"Card Type"),l.Wb(),l.Xb(17,"th",36),l.Tc(18,"Applicant name"),l.Wb(),l.Wb(),l.Xb(19,"tbody",32),l.Xb(20,"tr"),l.Xb(21,"td",31),l.Tc(22),l.Wb(),l.Xb(23,"td",31),l.Tc(24),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(7);l.Eb(5),l.rc("ngIf",null==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc("",null==n?null:n.prefix," ",n.firstName," ",n.middleName," ",n.lastName,""),l.Eb(2),l.Vc(" ",null==n?null:n.cardId,""),l.Eb(11),l.Uc(null==n?null:n.cardType),l.Eb(2),l.Uc(null==n?null:n.applicantName)}}function ld(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",33),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function bd(t,e){if(1&t&&l.Sb(0,"img",34),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function ud(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.gotoapproverpage(t,"REJECTED",o.getRandomColor(n+12))}),l.Xb(1,"mat-icon",38),l.Tc(2,"bookmark"),l.Wb(),l.Xb(3,"mat-card-header",23),l.Xb(4,"div",24),l.Rc(5,ld,2,1,"div",25),l.Rc(6,bd,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(8,"mat-card-title",39),l.Tc(9),l.Wb(),l.Xb(10,"mat-card-subtitle",28),l.Tc(11),l.Wb(),l.Wb(),l.Xb(12,"form",29),l.Xb(13,"table"),l.Xb(14,"thead",30),l.Xb(15,"th",36),l.Tc(16,"Card Type"),l.Wb(),l.Xb(17,"th",36),l.Tc(18,"Applicant name"),l.Wb(),l.Wb(),l.Xb(19,"tbody",32),l.Xb(20,"tr"),l.Xb(21,"td",31),l.Tc(22),l.Wb(),l.Xb(23,"td",31),l.Tc(24),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(7);l.Eb(5),l.rc("ngIf",null==n.profileImage)("ngIfElse",o),l.Eb(4),l.Xc("",null==n?null:n.firstName," ",n.middleName," ",n.lastName," "),l.Eb(2),l.Uc(null==n?null:n.cardId),l.Eb(11),l.Uc(null==n?null:n.cardType),l.Eb(2),l.Uc(null==n?null:n.applicantName)}}var dd,md=((dd=function(){function t(e,a,o,i,r,c){n(this,t),this.dialog=e,this.sanitizer=a,this.tasksummaryService=o,this.apiService=i,this.cdr=r,this.route=c,this.statusArr=["ONGOING","BACKLOG","APPROVED","REJECTED"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new l.o,this._searchSubject=new u.a,this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}return i(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t=this;this.apiService.setTask(!0),this.route.queryParamMap.subscribe(function(e){e.get("searchTerm")?(t.redirectedFromTellerSearch=!0,t.searchText=e.get("searchTerm"),t.updateSearch(t.searchText),setTimeout(function(){t.openSearchedApprover()},3e3)):t.getDataOnLoad()})}},{key:"updateSearch",value:function(t){this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){t.searchKycid(e)})}},{key:"getDataOnLoad",value:function(){for(var t=0;t<this.statusArr.length;t++)this.getAllAccDetails(this.statusArr[t],0,0)}},{key:"getAllAccDetails",value:function(t,e,a){var n=this;this.tasksummaryService.getCardAccDetails(t).subscribe(function(e){console.log("Response",e),n.updateStatusResponse(t,e)})}},{key:"updateStatusResponse",value:function(t,e){"ONGOING"==t?(this.ONGOINGArr=e.cardList,this.ONGOINGTotalPages=e.totalPages,this.ONGOINGTotalRecords=e.totalNoOfElements):"BACKLOG"==t?(this.BACKLOGArr=e.cardList,this.BACKLOGTotalPages=e.totalPages,this.BACKLOGTotalRecords=e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=e.cardList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=e.cardList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.tasksummaryService.getAllCardAccDetailOnScroll(t,e).subscribe(function(e){n.updateDataOnScroll(t,e.cardList),n.cdr.markForCheck()}):console.log("No scroll requied")}},{key:"gotoapproverpage",value:function(t,e,a){var n=this;this.tasksummaryService.cardStatusData(e),localStorage.setItem("CustomerColorCode",a),this.dialog.open(Yu,{panelClass:"full-width-dialog",data:t,width:"80%",disableClose:!0}).afterClosed().subscribe(function(t){"REJECTED"!==t.data&&"APPROVED"!==t.data&&"BACKLOG"!==t.data&&"ONGOING"!==t.data||(1==n.redirectedFromTellerSearch?n.updateSearch(n.searchText):n.getDataOnLoad())})}},{key:"searchKycid",value:function(t){var e,a,n=this;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("cardId"),e=this.searchText.trim(),this.tasksummaryService.getCardAccSearchData1(e).subscribe(function(t){console.log(t),null!=t?(a="cardId="+e,console.log("loan",a)):(console.log("not a loan"),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(function(){n.getAccountData(a)},100),this.isScroll=!1}},{key:"getAccountData",value:function(t){var e=this;this.loading=!0;for(var a=0;a<this.statusArr.length;a++){var n=this.statusArr[a];"BACKLOG"==n?this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.BACKLOGTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.BACKLOGArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.BACKLOGArr.push(null==t?void 0:t.cardList[a])}):"ONGOING"==n?this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.ONGOINGTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.ONGOINGArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.ONGOINGArr.push(t.cardList[a])}):"APPROVED"==n?this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.APPROVEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.APPROVEDArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.APPROVEDArr.push(t.cardList[a])}):"REJECTED"==n&&this.tasksummaryService.getCardSeracData(t,n).subscribe(function(t){e.REJECTEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.REJECTEDArr=[];for(var a=0;a<(null==t?void 0:t.cardList.length);a++)e.REJECTEDArr.push(t.cardList[a])})}}},{key:"resetSearchData",value:function(){this.ONGOINGArr=[],this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"searchResponseUpdate",value:function(t,e){console.log("status::",t),"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}},{key:"updateDataOnScroll",value:function(t,e){if("ONGOING"==t){var a=Qt.unionBy(this.ONGOINGArr,e,"cardId");this.ONGOINGArr=a}else if("BACKLOG"==t){var n=Qt.unionBy(this.BACKLOGArr,e,"cardId");this.BACKLOGArr=n}else if("APPROVED"==t){var o=Qt.unionBy(this.APPROVEDArr,e,"cardId");this.APPROVEDArr=o}else if("REJECTED"==t){var i=Qt.unionBy(this.REJECTEDArr,e,"cardId");this.REJECTEDArr=i}this.cdr.markForCheck()}},{key:"openSearchedApprover",value:function(){var t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(function(t){return 1==t.length});console.log(t),1==t.length&&this.gotoapproverpage(t[0][0],t[0][0].custStatus)}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.ONGOINGArr=[],this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.BACKLOGPage=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalPages=0}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}()).\u0275fac=function(t){return new(t||dd)(l.Rb(p.b),l.Rb(lo.b),l.Rb(g.a),l.Rb(b.b),l.Rb(l.h),l.Rb(Ze.a))},dd.\u0275cmp=l.Lb({type:dd,selectors:[["app-card-origination-task-summary"]],hostBindings:function(t,e){1&t&&l.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:54,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryDetails"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchTopDetails"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search Card ID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","detailedView",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"detailedView",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[2,"font-size","14px"],[2,"color","green"],[1,"head1"],[1,"col1"],[1,"fs-11"],[1,"col2"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMarkOngoing"],[1,"fs-10"],[1,"fill-color-blue","bookMark","bookMarkApproved"],[1,"fill-color-blue","bookMark","bookMarkRejected"],[2,"font-size","16px"]],template:function(t,e){1&t&&(l.Sb(0,"br"),l.Xb(1,"div",0),l.fc("scrolled",function(t){return e.onScroll(t)}),l.Sb(2,"br"),l.Xb(3,"div",1),l.Xb(4,"div",2),l.Xb(5,"div",3),l.Xb(6,"h2",4),l.Tc(7," Card Origination Task Summary "),l.Wb(),l.Wb(),l.Xb(8,"div",5),l.Xb(9,"mat-form-field",6),l.Xb(10,"mat-label"),l.Tc(11,"Search"),l.Wb(),l.Xb(12,"div",7),l.Xb(13,"input",8),l.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),l.Wb(),l.Rc(14,Zu,1,1,"mat-spinner",9),l.Wb(),l.Xb(15,"mat-icon",10),l.Tc(16,"search"),l.Wb(),l.Rc(17,Qu,3,0,"button",11),l.Xb(18,"mat-hint"),l.Tc(19,"Search Card ID or Name"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",12),l.Xb(21,"div",13),l.Xb(22,"mat-card",14),l.Xb(23,"div",15),l.Xb(24,"span",16),l.Xb(25,"h2",17),l.Tc(26),l.Wb(),l.Wb(),l.Wb(),l.Xb(27,"div"),l.Rc(28,ad,25,8,"div",18),l.Wb(),l.Sb(29,"br"),l.Wb(),l.Xb(30,"mat-card",14),l.Xb(31,"div",15),l.Xb(32,"span",16),l.Xb(33,"h2",17),l.Tc(34),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"div"),l.Rc(36,id,25,9,"div",18),l.Wb(),l.Sb(37,"br"),l.Wb(),l.Xb(38,"mat-card",14),l.Xb(39,"div",15),l.Xb(40,"span",16),l.Xb(41,"h2",17),l.Tc(42),l.Wb(),l.Wb(),l.Wb(),l.Xb(43,"div"),l.Rc(44,sd,25,9,"div",18),l.Wb(),l.Sb(45,"br"),l.Wb(),l.Xb(46,"mat-card",14),l.Xb(47,"div",15),l.Xb(48,"span",16),l.Xb(49,"h2",17),l.Tc(50),l.Wb(),l.Wb(),l.Wb(),l.Xb(51,"div"),l.Rc(52,ud,25,8,"div",18),l.Wb(),l.Sb(53,"br"),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(1),l.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),l.Eb(12),l.rc("ngModel",e.searchText),l.Eb(1),l.rc("ngIf",e.loading),l.Eb(3),l.rc("ngIf",e.searchText),l.Eb(9),l.Wc("Pending for approval (",e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.BACKLOGArr),l.Eb(6),l.Wc("Ongoing (",e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.ONGOINGArr),l.Eb(6),l.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.APPROVEDArr),l.Eb(6),l.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.REJECTEDArr))},directives:[oi.a,X.e,X.d,X.f,X.b,I.c,I.g,C.b,v.c,v.r,v.u,c.n,T.a,I.i,I.f,E.a,c.m,R.b,A.b,I.j,E.e,E.c,E.h,E.g,v.A,v.s,v.t,li],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-right:30px;margin-right:30px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{font-size:9px;color:grey}.coldata[_ngcontent-%COMP%]{font-size:9px;color:#000}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:180px;box-sizing:border-box;margin:0 0 10px;padding:0}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.bookMarkOngoing[_ngcontent-%COMP%]{color:orange}.bookMarkApproved[_ngcontent-%COMP%]{color:#1fbfa9}.bookMarkRejected[_ngcontent-%COMP%]{color:red}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.summaryDetails[_ngcontent-%COMP%]{padding-left:29px}.searchTopDetails[_ngcontent-%COMP%]{padding-right:5%}.detailedView[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:30vh}.fs-10[_ngcontent-%COMP%]{font-size:10px;color:grey}.fs-11[_ngcontent-%COMP%]{font-size:11px}"]}),dd);function pd(t,e){if(1&t&&(l.Xb(0,"mat-option",26),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function fd(t,e){if(1&t&&(l.Xb(0,"mat-option",26),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.branchName),l.Eb(1),l.Uc(a.branchName)}}function hd(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",22),l.Xb(1,"div",5),l.Xb(2,"mat-label"),l.Tc(3,"loan Amount "),l.Wb(),l.Xb(4,"mat-form-field",6),l.Xb(5,"input",23),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(6,"div",5),l.Xb(7,"mat-label"),l.Tc(8,"Business Product Name "),l.Wb(),l.Xb(9,"mat-form-field",6),l.Xb(10,"mat-select",24),l.fc("selectionChange",function(t){return l.Hc(a),l.jc().getAccountType(t.value)}),l.Rc(11,pd,2,2,"mat-option",13),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"div",5),l.Xb(13,"mat-label"),l.Tc(14,"Account Branch"),l.Wb(),l.Xb(15,"mat-form-field",6),l.Xb(16,"mat-select",25),l.fc("selectionChange",function(t){return l.Hc(a),l.jc().onChangeBranch(t)}),l.Rc(17,fd,2,2,"mat-option",13),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(11),l.rc("ngForOf",n.arrayAccountBranch),l.Eb(6),l.rc("ngForOf",n.screenArray)}}function gd(t,e){if(1&t&&(l.Xb(0,"mat-option",26),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function vd(t,e){if(1&t&&(l.Xb(0,"mat-option",26),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function yd(t,e){if(1&t&&(l.Xb(0,"mat-option",26),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}var Wd,Xd=((Wd=function(){function t(e,a,o,i,r,c,s,l,b,u,d){n(this,t),this.data=e,this.dialogue=a,this.taskSumService=o,this.dialogRef=i,this.fb=r,this.cdr=c,this.apiService=s,this.ls=l,this.snack=b,this.router=u,this.loader=d,this.updateLoanDetails=!1,this.updateAsset=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.minDate=new Date,this.maxDate=new Date,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.ifEdit=!1,this.showEditOption=!1,this.flag=!1,this.flag1=!1,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){console.log("mat dialog data -- ",this.data),this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),console.log("component call check"),this.getLoanDetails(),this.buildMenuForm(this.data),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.getCountryName("country"),this.getStateName("state")}},{key:"getAssetDetails",value:function(){var t=this;this.loader.open(),this.apiService.getAssetails(this.loanaccountID).subscribe(function(e){t.loader.close(),t.assetDetails=e,t.getStateName(t.assetDetails.country),t.getCityName(t.assetDetails.state),console.log(t.assetDetails),t.buildAssetForm(t.assetDetails)},function(e){t.loader.close()})}},{key:"buildMenuForm",value:function(t){var e,a,n,o,i,r,c,s,l,b,u,d,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanUpdateForm=this.fb.group({loanAccountId:[this.loanaccountID],businessProductName:[t?null===(e=null==t?void 0:t.info)||void 0===e?void 0:e.businessProductName:""],accountBranch:[t?null===(a=null==t?void 0:t.info)||void 0===a?void 0:a.accountBranch:""],applicationDate:[t?null===(n=null==t?void 0:t.info)||void 0===n?void 0:n.applicationDate:""],accountType:[t?null===(o=null==t?void 0:t.info)||void 0===o?void 0:o.accountType:""],estimatedCost:[t?null===(i=null==t?void 0:t.info)||void 0===i?void 0:i.estimatedCost:""],customerContribution:[t?null===(r=null==t?void 0:t.info)||void 0===r?void 0:r.customerContribution:""],loanAmount:[t?null===(c=null==t?void 0:t.info)||void 0===c?void 0:c.loanAmount:""],purposeOfLoan:[t?null===(s=null==t?void 0:t.info)||void 0===s?void 0:s.purposeOfLoan:""],accountCurrency:[t?null===(l=null==t?void 0:t.info)||void 0===l?void 0:l.accountCurrency:""],loanTenure:[t?null===(b=null==t?void 0:t.info)||void 0===b?void 0:b.loanTenure:""],day:[t?Number(null===(u=null==t?void 0:t.info)||void 0===u?void 0:u.loanTenure.split("-")[2]):""],month:[t?null===(d=null==t?void 0:t.info)||void 0===d?void 0:d.loanTenure.split("-")[1]:""],year:[t?Number(null===(m=null==t?void 0:t.info)||void 0===m?void 0:m.loanTenure.split("-")[0]):""]}),console.log("form before",this.loanUpdateForm),console.log("form aftr",this.loanUpdateForm.value)}},{key:"save",value:function(){var t=this;console.log("save check"),this.loanUpdateForm.value,this.apiService.saveLoanDetails(this.loanUpdateForm.value).subscribe(function(e){t.snack.open("Data Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close(!0)},function(e){t.snack.open("Unable to Save!","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.dialogRef.close(!1)})}},{key:"close",value:function(){this.dialogRef.close(!1)}},{key:"getAccountType",value:function(t){var e=this;console.log("State -- ",t),this.apiService.getAccount(t).subscribe(function(t){console.log("data.accountType",t),e.accountType=t.accountTypeName,console.log("this.accountType",e.accountType),e.loanUpdateForm.get("accountType").setValue(t.accountTypeName)})}},{key:"getBusinessProductDetails",value:function(t){var e=this;this.apiService.getBusinessProductName(t).subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.screenArray=e,t.screenArrayData=e,0==t.screenArray.length&&t.screenArray.push(t.branchName),console.log("this.branchName::",t.branchName,t.screenArray),t.currencyData=t.screenArray.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData)})}},{key:"onChangeBranch",value:function(t){this.currencyData=this.screenArray.find(function(e){return e.branchName==t.value}),null==this.currencyData&&null==this.currencyData||this.itemForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}},{key:"getLoanDetails",value:function(){var t=this;console.log("get loan details"),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanUpdateForm.value),t.loanUpdateForm.controls.businessProductName.setValue(t.loanAccountDetails.businessProductName),t.loanUpdateForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanUpdateForm.value.accountType)),t.ls.setItem("accountType",t.loanUpdateForm.value.accountType),t.loanUpdateForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanUpdateForm.value.loanAmount=t.loanAccountDetails.loanAmount})}},{key:"buildAssetForm",value:function(t){var e,a,n,o,i,r,c,s,l,b,u,d;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanAssetForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.assetInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.assetInfo)||void 0===a?void 0:a.state:""],city:[t?null===(n=null==t?void 0:t.assetInfo)||void 0===n?void 0:n.city:""],assetStatus:[t?null===(o=null==t?void 0:t.assetInfo)||void 0===o?void 0:o.assetStatus:""],estimatedCost:[t?null===(i=null==t?void 0:t.assetInfo)||void 0===i?void 0:i.estimatedCost:""],dimensions:[t?null===(r=null==t?void 0:t.assetInfo)||void 0===r?void 0:r.dimensions:""],locality:[t?null===(c=null==t?void 0:t.assetInfo)||void 0===c?void 0:c.locality:""],marketValue:[t?null===(s=null==t?void 0:t.assetInfo)||void 0===s?void 0:s.marketValue:""],building:[t?null===(l=null==t?void 0:t.assetInfo)||void 0===l?void 0:l.building:""],zipCode:[t?null===(b=null==t?void 0:t.assetInfo)||void 0===b?void 0:b.zipCode:""],homeType:[t?null===(u=null==t?void 0:t.assetInfo)||void 0===u?void 0:u.homeType:""],mortgagedBranch:[t?null===(d=null==t?void 0:t.assetInfo)||void 0===d?void 0:d.mortgagedBranch:""]}),console.log("form before",this.loanUpdateForm),console.log("form aftr",this.loanUpdateForm.value)}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"next",value:function(){console.log("this.accountType",this.accountType),this.router.navigate(["/tasks/loan-account-task-summary"]),console.log("this.ls.accounttype",this.ls.getItem("accountType")),this.taskSumService.getLoanAccountDetails(this.loanaccountID).subscribe(function(t){console.log("data",t)})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"submitForm1",value:function(){var t=this,e=new Date;e=this.loanUpdateForm.value.applicationDate,console.log("applicationDate",this.loanUpdateForm.value.applicationDate);var a=y(e).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",a);var n=new Date(a);console.log("ck",n);var o=this.loanUpdateForm.value.loanAmount;o=parseInt(o);var i=this.loanUpdateForm.value.estimatedCost;i=parseInt(i);var r=this.loanUpdateForm.value.year+"-"+this.loanUpdateForm.value.month+"-"+this.loanUpdateForm.value.day;this.loanUpdateForm.get("loanTenure").setValue(r),delete this.loanUpdateForm.value.year,delete this.loanUpdateForm.value.month,delete this.loanUpdateForm.value.day;var c={loanAccountId:this.data.loanAccountId,businessProductName:this.loanUpdateForm.value.businessProductName,accountBranch:this.loanUpdateForm.value.accountBranch,applicationDate:a,accountType:this.loanUpdateForm.value.accountType,estimatedCost:i,customerContribution:this.loanUpdateForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanUpdateForm.value.purposeOfLoan,loanTenure:this.loanUpdateForm.value.loanTenure,accountCurrency:this.loanUpdateForm.value.accountCurrency};console.log("payload",c),this.apiService.saveLoanDetails(c).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.loader.open(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanUpdateForm.value),t.loanUpdateForm.controls.businessProductName.setValue(t.loanAccountDetails.businessProductName),t.loanUpdateForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanUpdateForm.value.accountType)),t.ls.setItem("accountType",t.loanUpdateForm.value.accountType),t.loanUpdateForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanUpdateForm.value.loanAmount=t.loanAccountDetails.loanAmount,t.loader.close()})}},{key:"submitForm",value:function(){var t=this,e=new Date;e=this.loanForm.value.applicationDate,console.log("applicationDate",this.loanForm.value.applicationDate);var a=y(e).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",a);var n=new Date(a);console.log("ck",n);var o=this.loanForm.value.loanAmount;o=parseInt(o);var i=this.loanForm.value.estimatedCost;i=parseInt(i);var r=this.loanForm.value.year+"-"+this.loanForm.value.month+"-"+this.loanForm.value.day;this.loanForm.get("loanTenure").setValue(r),delete this.loanForm.value.year,delete this.loanForm.value.month,delete this.loanForm.value.day;var c={loanAccountId:this.showEditOption?this.loanaccountID:null,businessProductName:this.loanForm.value.businessProductName,accountBranch:this.loanForm.value.accountBranch,applicationDate:a,accountType:this.loanForm.value.accountType,estimatedCost:i,customerContribution:this.loanForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanForm.value.purposeOfLoan,loanTenure:this.loanForm.value.loanTenure,accountCurrency:this.loanForm.value.accountCurrency};console.log("payload",c),this.apiService.saveLoanDetails(c).subscribe(function(e){console.log("data",e.loanAccountId),t.loanAccountId=e.loanAccountId,console.log("loanAccountid",t.loanAccountId),t.assign(e.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:e.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),sessionStorage.setItem("loanAccountId",e.loanAccountid),t.ls.setItem("fundByStatus",{loanAccountid:e.loanAccountid}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("loanAccountId",e.loanAccountId),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.ls.getItem("loanAccountid"),console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.next()})}}]),t}()).\u0275fac=function(t){return new(t||Wd)(l.Rb(p.a),l.Rb(p.b),l.Rb(g.a),l.Rb(p.g),l.Rb(v.f),l.Rb(l.h),l.Rb(b.b),l.Rb(m.a),l.Rb(W.a),l.Rb(Ze.h),l.Rb(K.a))},Wd.\u0275cmp=l.Lb({type:Wd,selectors:[["app-loan-account-details-update"]],decls:63,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","estimatedCost","formControlName","estimatedCost",3,"keypress"],["matInput","","name","customerContribution","formControlName","customerContribution",3,"keypress"],["matInput","","name","accountType","formControlName","accountType",1,"alignment",3,"readonly"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["matInput","","name","date","formControlName","applicationDate","placeholder","DD/MM/YYYY",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","name","purposeOfLoan","formControlName","purposeOfLoan",1,"alignment"],["align","end"],["mat-button","",3,"click"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["matInput","","name","loanAmount","formControlName","loanAmount",3,"keypress"],["name","account_branch","formControlName","businessProductName",3,"selectionChange"],["name","mod","formControlName","accountBranch",3,"selectionChange"],[3,"value"]],template:function(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Account Details"),l.Wb(),l.Xb(7,"form",2),l.Rc(8,hd,18,2,"div",3),l.Xb(9,"div",4),l.Xb(10,"div",5),l.Xb(11,"mat-label"),l.Tc(12,"Estimated Cost"),l.Wb(),l.Xb(13,"mat-form-field",6),l.Xb(14,"input",7),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(15,"div",5),l.Xb(16,"mat-label"),l.Tc(17,"Customer Contribution"),l.Wb(),l.Xb(18,"mat-form-field",6),l.Xb(19,"input",8),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",5),l.Xb(21,"mat-label"),l.Tc(22,"Account Type"),l.Wb(),l.Xb(23,"mat-form-field",6),l.Sb(24,"input",9),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",4),l.Xb(26,"div",5),l.Xb(27,"mat-label"),l.Tc(28,"Loan Tenure"),l.Wb(),l.Xb(29,"div",10),l.Xb(30,"div",11),l.Xb(31,"div"),l.Xb(32,"mat-form-field",6),l.Xb(33,"mat-select",12),l.Rc(34,gd,2,2,"mat-option",13),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"div"),l.Xb(36,"mat-form-field",6),l.Xb(37,"mat-select",14),l.Rc(38,vd,2,2,"mat-option",13),l.Wb(),l.Wb(),l.Wb(),l.Xb(39,"div"),l.Xb(40,"mat-form-field",6),l.Xb(41,"mat-select",15),l.Rc(42,yd,2,2,"mat-option",13),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(43,"div",5),l.Xb(44,"div",5),l.Xb(45,"mat-label"),l.Tc(46,"Application Date"),l.Wb(),l.Xb(47,"mat-form-field",6),l.Sb(48,"input",16),l.Sb(49,"mat-datepicker-toggle",17),l.Sb(50,"mat-datepicker",null,18),l.Wb(),l.Wb(),l.Wb(),l.Xb(52,"div",4),l.Xb(53,"div",5),l.Xb(54,"mat-label"),l.Tc(55,"Purpose of Loan"),l.Wb(),l.Xb(56,"mat-form-field",6),l.Sb(57,"input",19),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(58,"mat-dialog-actions",20),l.Xb(59,"button",21),l.fc("click",function(){return e.submitForm1()}),l.Tc(60," Update "),l.Wb(),l.Xb(61,"button",21),l.fc("click",function(){return e.close()}),l.Tc(62,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.Dc(51);l.Eb(7),l.rc("formGroup",e.loanUpdateForm),l.Eb(1),l.rc("ngIf","loanAccount_array"===e.data.editType),l.Eb(16),l.rc("readonly",!0),l.Eb(10),l.rc("ngForOf",e.years),l.Eb(4),l.rc("ngForOf",e.months),l.Eb(4),l.rc("ngForOf",e.days),l.Eb(6),l.rc("matDatepicker",a),l.Eb(1),l.rc("for",a)}},directives:[p.e,X.e,T.a,v.A,v.s,v.j,c.n,X.b,I.g,I.c,C.b,v.c,v.r,v.i,X.f,X.d,x.a,c.m,O.e,O.g,I.j,O.d,p.c,A.b,S.n],styles:[".selectOption[_ngcontent-%COMP%]{background-color:#fdfdff;border:transparent}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}"]}),Wd),Td=r("iiaH");function Id(t,e){if(1&t&&(l.Xb(0,"mat-option",30),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Ed(t,e){if(1&t&&(l.Xb(0,"mat-option",30),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.value1),l.Eb(1),l.Vc(" ",a.value1,"")}}function Cd(t,e){if(1&t&&(l.Xb(0,"mat-option",30),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.value1),l.Eb(1),l.Uc(a.value1)}}var xd,Od=((xd=function(){function t(e,a,o,i,r,c,s,l,b,u){n(this,t),this.router=e,this.data=a,this.snack=o,this.dataService=i,this.ls=r,this.fb=c,this.taskSumService=s,this.apiService=l,this.dialogRef=b,this.cdr=u,this.isEdit=!1,this.minDate=new Date,this.maxDate=new Date,this.showEditOption=!1,this.appEntrySummaryView=!1,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log(this.loanaccountID),console.log("this.loanaccountID",this.loanaccountID),this.buildAssetForm(this.data),this.getCountryName("country"),this.getStateName("state"),this.getCityName("city")}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"getAssetDetails",value:function(){var t=this;this.apiService.getAssetails(this.loanaccountID).subscribe(function(e){t.assetDetails=e,t.buildAssetForm(t.assetDetails),t.getStateName(t.assetDetails.country),t.getCityName(t.assetDetails.state),console.log(t.assetDetails)},function(t){})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,country:this.loanAssetForm.value.country,state:this.loanAssetForm.value.state,city:this.loanAssetForm.value.city,assetStatus:this.loanAssetForm.value.assetStatus,estimatedCost:this.loanAssetForm.value.estimatedCost,dimensions:this.loanAssetForm.value.dimensions,street:this.loanAssetForm.value.street,locality:this.loanAssetForm.value.locality,marketValue:this.loanAssetForm.value.marketValue,mortgagedBranch:this.loanAssetForm.value.marketValue,building:this.loanAssetForm.value.building,homeType:this.loanAssetForm.value.homeType,zipCode:this.loanAssetForm.value.zipCode};console.log("payload",e),this.apiService.upsertAssetDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.cdr.markForCheck(),t.cdr.detectChanges(),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"goBack",value:function(){this.dialogRef.close()}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"getBusinessProductDetails",value:function(t){var e=this;this.apiService.getBusinessProductName(t).subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.screenArray=e,t.screenArrayData=e,0==t.screenArray.length&&t.screenArray.push(t.branchName),console.log("this.branchName::",t.branchName,t.screenArray),t.currencyData=t.screenArray.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData)})}},{key:"buildAssetForm",value:function(t){var e,a,n,o,i,r,c,s,l,b,u,d,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.getCountryName("country"),this.getStateName("state"),this.getCityName("city"),this.loanAssetForm=this.fb.group({loanAccountId:[this.loanaccountID],street:[t?null===(e=null==t?void 0:t.assetInfo)||void 0===e?void 0:e.street:""],country:[t?null===(a=null==t?void 0:t.assetInfo)||void 0===a?void 0:a.country:""],state:[t?null===(n=null==t?void 0:t.assetInfo)||void 0===n?void 0:n.state:""],city:[t?null===(o=null==t?void 0:t.assetInfo)||void 0===o?void 0:o.city:""],assetStatus:[t?null===(i=null==t?void 0:t.assetInfo)||void 0===i?void 0:i.assetStatus:""],estimatedCost:[t?null===(r=null==t?void 0:t.assetInfo)||void 0===r?void 0:r.estimatedCost:""],dimensions:[t?null===(c=null==t?void 0:t.assetInfo)||void 0===c?void 0:c.dimensions:""],locality:[t?null===(s=null==t?void 0:t.assetInfo)||void 0===s?void 0:s.locality:""],marketValue:[t?null===(l=null==t?void 0:t.assetInfo)||void 0===l?void 0:l.marketValue:""],building:[t?null===(b=null==t?void 0:t.assetInfo)||void 0===b?void 0:b.building:""],zipCode:[t?null===(u=null==t?void 0:t.assetInfo)||void 0===u?void 0:u.zipCode:""],homeType:[t?null===(d=null==t?void 0:t.assetInfo)||void 0===d?void 0:d.homeType:""],mortgagedBranch:[t?null===(m=null==t?void 0:t.assetInfo)||void 0===m?void 0:m.mortgagedBranch:""]}),console.log("form before",this.loanAssetForm),console.log("form aftr",this.loanAssetForm.value)}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"goToEdit",value:function(){this.dialogRef.close(),this.dataService.sendNavParam(this.accountDetails),this.router.navigate(["loan/account/loan-details"])}},{key:"goToClose",value:function(){this.dialogRef.close(),this.getDataOnLoad()}}]),t}()).\u0275fac=function(t){return new(t||xd)(l.Rb(Ze.h),l.Rb(p.a),l.Rb(W.a),l.Rb(Td.a),l.Rb(m.a),l.Rb(v.f),l.Rb(g.a),l.Rb(b.b),l.Rb(p.g),l.Rb(l.h))},xd.\u0275cmp=l.Lb({type:xd,selectors:[["app-loan-account-details-edit"]],inputs:{loanDetailsInfo:"loanDetailsInfo"},decls:108,vars:4,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","mod","formControlName","assetStatus"],["value",""],["value","Under Construction"],["value","Completed Construction"],["matInput","","name","building","formControlName","building"],["name","mortgagedBranch","formControlName","mortgagedBranch"],["value","test"],["fxLayout","row wrap"],["name","country","formControlName","country",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","mod","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["name","dimensions","formControlName","dimensions"],["value","Sq.Ft"],["name","mod","formControlName","homeType"],["value","Villa"],["value","Flat"],["value","Apartment"],["matInput","","name","locality","formControlName","locality"],["matInput","","name","street","formControlName","street"],["matInput","","name","marketValue","formControlName","marketValue",3,"keypress"],["matInput","","name","amt","formControlName","zipCode",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Asset Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Asset Status "),l.Wb(),l.Xb(12,"mat-form-field",5),l.Xb(13,"mat-select",6),l.Xb(14,"mat-option",7),l.Tc(15,"Select"),l.Wb(),l.Xb(16,"mat-option",8),l.Tc(17,"Under Construction"),l.Wb(),l.Xb(18,"mat-option",9),l.Tc(19,"Completed Construction"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",4),l.Xb(21,"mat-label"),l.Tc(22,"Building "),l.Wb(),l.Xb(23,"mat-form-field",5),l.Sb(24,"input",10),l.Wb(),l.Wb(),l.Xb(25,"div",4),l.Xb(26,"mat-label"),l.Tc(27,"Mortgaged Branch"),l.Wb(),l.Xb(28,"mat-form-field",5),l.Xb(29,"mat-select",11),l.Xb(30,"mat-option",7),l.Tc(31,"Select"),l.Wb(),l.Xb(32,"mat-option",12),l.Tc(33,"test"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(34,"div",13),l.Xb(35,"div",4),l.Xb(36,"mat-label"),l.Tc(37,"Country"),l.Wb(),l.Xb(38,"mat-form-field",5),l.Xb(39,"mat-select",14),l.fc("selectionChange",function(t){return e.getStateName(t.value)}),l.Xb(40,"mat-option",7),l.Tc(41,"Select"),l.Wb(),l.Rc(42,Id,2,2,"mat-option",15),l.Wb(),l.Wb(),l.Wb(),l.Xb(43,"div",4),l.Xb(44,"mat-label"),l.Tc(45,"State"),l.Wb(),l.Xb(46,"mat-form-field",5),l.Xb(47,"mat-select",16),l.fc("selectionChange",function(t){return e.getCityName(t.value)}),l.Xb(48,"mat-option",7),l.Tc(49,"Select"),l.Wb(),l.Rc(50,Ed,2,2,"mat-option",15),l.Wb(),l.Wb(),l.Wb(),l.Xb(51,"div",4),l.Xb(52,"mat-label"),l.Tc(53,"City"),l.Wb(),l.Xb(54,"mat-form-field",5),l.Xb(55,"mat-select",17),l.Xb(56,"mat-option",7),l.Tc(57,"Select"),l.Wb(),l.Rc(58,Cd,2,2,"mat-option",15),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(59,"div",13),l.Xb(60,"div",4),l.Xb(61,"mat-label"),l.Tc(62,"Dimensions"),l.Wb(),l.Xb(63,"mat-form-field",5),l.Xb(64,"mat-select",18),l.Xb(65,"mat-option",7),l.Tc(66,"Select"),l.Wb(),l.Xb(67,"mat-option",19),l.Tc(68,"Sq.Ft"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(69,"div",4),l.Xb(70,"mat-label"),l.Tc(71,"Home Type"),l.Wb(),l.Xb(72,"mat-form-field",5),l.Xb(73,"mat-select",20),l.Xb(74,"mat-option",7),l.Tc(75,"Select"),l.Wb(),l.Xb(76,"mat-option",21),l.Tc(77,"Villa"),l.Wb(),l.Xb(78,"mat-option",22),l.Tc(79,"Flat"),l.Wb(),l.Xb(80,"mat-option",23),l.Tc(81,"Apartment"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(82,"div",4),l.Xb(83,"mat-label"),l.Tc(84,"Locality"),l.Wb(),l.Xb(85,"mat-form-field",5),l.Sb(86,"input",24),l.Wb(),l.Wb(),l.Wb(),l.Xb(87,"div",13),l.Xb(88,"div",4),l.Xb(89,"mat-label"),l.Tc(90,"Street"),l.Wb(),l.Xb(91,"mat-form-field",5),l.Sb(92,"input",25),l.Wb(),l.Wb(),l.Xb(93,"div",4),l.Xb(94,"mat-label"),l.Tc(95,"Market Value"),l.Wb(),l.Xb(96,"mat-form-field",5),l.Xb(97,"input",26),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(98,"div",4),l.Xb(99,"mat-label"),l.Tc(100,"Zip Code"),l.Wb(),l.Xb(101,"mat-form-field",5),l.Xb(102,"input",27),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(103,"mat-dialog-actions",28),l.Xb(104,"button",29),l.fc("click",function(){return e.submitForm1()}),l.Tc(105," Update "),l.Wb(),l.Xb(106,"button",29),l.fc("click",function(){return e.goToClose()}),l.Tc(107,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.loanAssetForm),l.Eb(35),l.rc("ngForOf",e.arrayCountry),l.Eb(8),l.rc("ngForOf",e.arrayState),l.Eb(8),l.rc("ngForOf",e.arrayCity))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.a,v.r,v.i,S.n,C.b,v.c,c.m,p.c,A.b],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),xd);function Dd(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",12),l.Xb(1,"div",5),l.Xb(2,"mat-label"),l.Tc(3,"Number of Applicants "),l.Wb(),l.Xb(4,"mat-form-field",6),l.Xb(5,"input",13),l.fc("keypress",function(t){return l.Hc(a),l.jc()._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(6,"div",5),l.Xb(7,"mat-label"),l.Tc(8,"Registered "),l.Wb(),l.Sb(9,"mat-form-field",6),l.Wb(),l.Wb()}}var Ad,Rd=((Ad=function(){function t(e,a,o,i,r,c,s,l,b,u){n(this,t),this.fb=e,this.router=a,this.data=o,this.snack=i,this.dataService=r,this.ls=c,this.taskSumService=s,this.apiService=l,this.dialogRef=b,this.cdr=u,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log(this.loanaccountID),console.log("this.loanaccountID",this.loanaccountID),this.getMandateDetails(),this.buildMandateForm()}},{key:"buildMandateForm",value:function(t){this.loanMandateUpdate=this.fb.group({applicantName:[t?null==t?void 0:t.applicantName:""],registered:[t?null==t?void 0:t.registered:""],numberOfApplicant:[t?null==t?void 0:t.numberOfApplicant:""],collateralPercentage:[t?null==t?void 0:t.collateralPercentage:""],repaymentSharePercentage:[t?null==t?void 0:t.repaymentSharePercentage:""]})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,applicantName:this.loanMandateUpdate.value.applicantName,collateralShare:this.loanMandateUpdate.value.collateralShare,repaymentShare:this.loanMandateUpdate.value.repaymentShare};console.log("payload",e),this.apiService.upsertMandateDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getMandateDetails",value:function(){var t=this;this.apiService.getMandateDetailsByLoanAccId(this.loanaccountID).subscribe(function(e){t.mandateDetails=e,console.log(t.mandateDetails),t.buildMandateForm(t.mandateDetails)},function(t){})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"next",value:function(){this.router.navigate(["/tasks/loan-account-task-summary"]),console.log("this.ls.accounttype",this.ls.getItem("accountType")),this.taskSumService.getLoanAccountDetails(this.loanaccountID).subscribe(function(t){console.log("data",t)})}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"goToClose",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Ad)(l.Rb(v.f),l.Rb(Ze.h),l.Rb(p.a),l.Rb(W.a),l.Rb(Td.a),l.Rb(m.a),l.Rb(g.a),l.Rb(b.b),l.Rb(p.g),l.Rb(l.h))},Ad.\u0275cmp=l.Lb({type:Ad,selectors:[["app-loan-mandate-details-update"]],decls:30,vars:2,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],["matInput","","name","collateralPercentage","formControlName","collateralPercentage",3,"keypress"],["matInput","","name","repaymentSharePercentage","formControlName","repaymentSharePercentage",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["matInput","","name","amt","formControlName","numberOfApplicant",3,"keypress"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Mandate Details"),l.Wb(),l.Xb(7,"form",2),l.Rc(8,Dd,10,0,"div",3),l.Xb(9,"div",4),l.Xb(10,"div",5),l.Xb(11,"mat-label"),l.Tc(12,"Applicant Name"),l.Wb(),l.Xb(13,"mat-form-field",6),l.Sb(14,"input",7),l.Wb(),l.Wb(),l.Xb(15,"div",5),l.Xb(16,"mat-label"),l.Tc(17,"Collateral Percentage"),l.Wb(),l.Xb(18,"mat-form-field",6),l.Xb(19,"input",8),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",5),l.Xb(21,"mat-label"),l.Tc(22,"Repayment Share Percentage"),l.Wb(),l.Xb(23,"mat-form-field",6),l.Xb(24,"input",9),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"mat-dialog-actions",10),l.Xb(26,"button",11),l.fc("click",function(){return e.submitForm1()}),l.Tc(27," Update "),l.Wb(),l.Xb(28,"button",11),l.fc("click",function(){return e.goToClose()}),l.Tc(29,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.loanMandateUpdate),l.Eb(1),l.rc("ngIf","loanAccount_array"===e.data.editType))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,c.n,X.b,I.g,I.c,C.b,v.c,v.r,v.i,p.c,A.b],styles:[""]}),Ad);function Sd(t,e){if(1&t&&(l.Xb(0,"mat-option",25),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function kd(t,e){if(1&t&&(l.Xb(0,"mat-option",25),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Nd(t,e){if(1&t&&(l.Xb(0,"mat-option",25),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Pd(t,e){if(1&t&&(l.Xb(0,"mat-option",25),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.value1),l.Eb(1),l.Vc(" ",a.value1," ")}}function Fd(t,e){if(1&t&&(l.Xb(0,"mat-option",25),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.value1),l.Eb(1),l.Vc("",a.value1," ")}}var Ld,_d=((Ld=function(){function t(e,a,o,i,r,c,s,l,b,u,d){n(this,t),this.fb=e,this.data=a,this.dialogue=o,this.taskSumService=i,this.cdr=r,this.dialogRef=c,this.apiService=s,this.ls=l,this.snack=b,this.router=u,this.loader=d,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,this.buildCollateralForm(),this.getCountryName("country"),this.getCollateralType("collateral_type"),this.getCollateralDetails(),this.getRateValue("currency")}},{key:"buildCollateralForm",value:function(t){var e,a,n,o,i,r,c,s,l,b,u,d,m;console.log("item",t),t&&(this.getStateName(t.country),this.getCityName(t.state)),this.loanCollateralForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.collateralInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.collateralInfo)||void 0===a?void 0:a.state:""],city:[t?null===(n=null==t?void 0:t.collateralInfo)||void 0===n?void 0:n.city:""],collateralType:[t?null===(o=null==t?void 0:t.collateralInfo)||void 0===o?void 0:o.collateralType:""],collateralCurrency:[t?null===(i=null==t?void 0:t.collateralInfo)||void 0===i?void 0:i.collateralCurrency:""],collateralValue:[t?null===(r=null==t?void 0:t.collateralInfo)||void 0===r?void 0:r.collateralValue:""],locality:[t?null===(c=null==t?void 0:t.collateralInfo)||void 0===c?void 0:c.locality:""],street:[t?null===(s=null==t?void 0:t.collateralInfo)||void 0===s?void 0:s.street:""],building:[t?null===(l=null==t?void 0:t.collateralInfo)||void 0===l?void 0:l.building:""],zipCode:[t?null===(b=null==t?void 0:t.collateralInfo)||void 0===b?void 0:b.zipCode:""],homeType:[t?null===(u=null==t?void 0:t.collateralInfo)||void 0===u?void 0:u.homeType:""],attributes:[t?null===(d=null==t?void 0:t.collateralInfo)||void 0===d?void 0:d.attributes:""],thirdPartyCollateral:[t?null===(m=null==t?void 0:t.collateralInfo)||void 0===m?void 0:m.thirdPartyCollateral:""]}),console.log("form before",this.loanCollateralForm),console.log("form aftr",this.loanCollateralForm.value)}},{key:"getRateValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayRateValue=t})}},{key:"getCollateralDetails",value:function(){var t=this;this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(function(e){t.collateralDetails=e,console.log(t.collateralDetails.collateralDetails.length),console.log(t.collateralDetails),t.buildCollateralForm(t.collateralDetails)},function(t){})}},{key:"getCollateralType",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCollateralType=t})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,attributes:this.loanCollateralForm.value.attributes,building:this.loanCollateralForm.value.building,city:this.loanCollateralForm.value.city,zipCode:this.loanCollateralForm.value.zipCode,country:this.loanCollateralForm.value.country,state:this.loanCollateralForm.value.state,dimensions:this.loanCollateralForm.value.dimensions,locality:this.loanCollateralForm.value.locality,thirdpartyCollateral:this.loanCollateralForm.value.thirdPartyCollateral,collateralValue:this.loanCollateralForm.value.collateralValue,collateralType:this.loanCollateralForm.value.collateralType,collateralCurrency:this.loanCollateralForm.value.collateralCurrency};console.log("payload",e),this.apiService.upsertCollateralDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.loanCollateralDetails=e,console.log("this.loanCollateralDetails",t.loanCollateralDetails),console.log("form",t.loanCollateralForm.value),t.loanCollateralForm.value.building=t.loanCollateralDetails.building,t.loanCollateralForm.value.dimensions=t.loanCollateralDetails.dimensions,t.loanCollateralForm.value.attributes=t.loanCollateralDetails.attributes,t.loanCollateralForm.value.collateralCurrency=t.loanCollateralDetails.collateralCurrency,t.loader.close()})}}]),t}()).\u0275fac=function(t){return new(t||Ld)(l.Rb(v.f),l.Rb(p.a),l.Rb(p.b),l.Rb(g.a),l.Rb(l.h),l.Rb(p.g),l.Rb(b.b),l.Rb(m.a),l.Rb(W.a),l.Rb(Ze.h),l.Rb(K.a))},Ld.\u0275cmp=l.Lb({type:Ld,selectors:[["app-loan-collateral-details-update"]],decls:94,vars:6,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","collateralType","formControlName","collateralType"],[3,"value",4,"ngFor","ngForOf"],["name","collateralCurrency","formControlName","collateralCurrency"],["matInput","","name","collateralValue","formControlName","collateralValue",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","thirdPartyCollateral","formControlName","thirdPartyCollateral"],["name","attributes","formControlName","attributes","required",""],["value","1"],["value","2"],["matInput","","name","dimensions","formControlName","dimensions",1,"alignment",3,"keypress"],["matInput","","name","building","formControlName","building"],["matInput","","name","street","formControlName","street"],["matInput","","name","locality","formControlName","locality",1,"alignment"],["name","country","formControlName","country","required","",3,"selectionChange"],["name","state","formControlName","state","required","",3,"selectionChange"],["name","city","formControlName","city","required",""],["matInput","","name","zipCode","formControlName","zipCode","minlength","6","maxlength","10",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Collateral Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Collateral Type "),l.Wb(),l.Xb(12,"mat-form-field",5),l.Xb(13,"mat-select",6),l.Rc(14,Sd,2,2,"mat-option",7),l.Wb(),l.Wb(),l.Wb(),l.Xb(15,"div",4),l.Xb(16,"mat-label"),l.Tc(17,"Collateral Currency "),l.Wb(),l.Xb(18,"mat-form-field",5),l.Xb(19,"mat-select",8),l.Rc(20,kd,2,2,"mat-option",7),l.Wb(),l.Wb(),l.Wb(),l.Xb(21,"div",4),l.Xb(22,"mat-label"),l.Tc(23,"Collateral Value"),l.Wb(),l.Xb(24,"mat-form-field",5),l.Xb(25,"input",9),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(26,"div",10),l.Xb(27,"div",4),l.Xb(28,"mat-label"),l.Tc(29,"Third Party Collateral"),l.Wb(),l.Xb(30,"mat-form-field",5),l.Sb(31,"input",11),l.Wb(),l.Wb(),l.Xb(32,"div",4),l.Xb(33,"mat-label"),l.Tc(34,"Attributes"),l.Wb(),l.Xb(35,"mat-form-field",5),l.Xb(36,"mat-select",12),l.Xb(37,"mat-option",13),l.Tc(38,"Attributes 1"),l.Wb(),l.Xb(39,"mat-option",14),l.Tc(40,"Attributes 2"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(41,"div",4),l.Xb(42,"mat-label"),l.Tc(43,"Dimensions"),l.Wb(),l.Xb(44,"mat-form-field",5),l.Xb(45,"input",15),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(46,"div",10),l.Xb(47,"div",4),l.Xb(48,"mat-label"),l.Tc(49,"Building"),l.Wb(),l.Xb(50,"mat-form-field",5),l.Sb(51,"input",16),l.Wb(),l.Wb(),l.Xb(52,"div",4),l.Xb(53,"mat-label"),l.Tc(54,"Street"),l.Wb(),l.Xb(55,"mat-form-field",5),l.Sb(56,"input",17),l.Wb(),l.Wb(),l.Xb(57,"div",4),l.Xb(58,"mat-label"),l.Tc(59,"Locality"),l.Wb(),l.Xb(60,"mat-form-field",5),l.Sb(61,"input",18),l.Wb(),l.Wb(),l.Wb(),l.Xb(62,"div",10),l.Xb(63,"div",4),l.Xb(64,"mat-label"),l.Tc(65,"Country"),l.Wb(),l.Xb(66,"mat-form-field",5),l.Xb(67,"mat-select",19),l.fc("selectionChange",function(t){return e.getStateName(t.value)})("selectionChange",function(t){return e.getCityName(t.value)}),l.Rc(68,Nd,2,2,"mat-option",7),l.Wb(),l.Wb(),l.Wb(),l.Xb(69,"div",4),l.Xb(70,"mat-label"),l.Tc(71,"State"),l.Wb(),l.Xb(72,"mat-form-field",5),l.Xb(73,"mat-select",20),l.fc("selectionChange",function(t){return e.getCityName(t.value)}),l.Rc(74,Pd,2,2,"mat-option",7),l.Wb(),l.Wb(),l.Wb(),l.Xb(75,"div",4),l.Xb(76,"mat-label"),l.Tc(77,"City"),l.Wb(),l.Xb(78,"mat-form-field",5),l.Xb(79,"mat-select",21),l.Rc(80,Fd,2,2,"mat-option",7),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(81,"div",10),l.Xb(82,"div",4),l.Xb(83,"mat-label"),l.Tc(84,"Zip Code"),l.Wb(),l.Xb(85,"mat-form-field",5),l.Xb(86,"input",22),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Sb(87,"div",4),l.Sb(88,"div",4),l.Wb(),l.Wb(),l.Wb(),l.Xb(89,"mat-dialog-actions",23),l.Xb(90,"button",24),l.fc("click",function(){return e.submitForm1()}),l.Tc(91," Update "),l.Wb(),l.Xb(92,"button",24),l.fc("click",function(){return e.goToClose()}),l.Tc(93,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.loanCollateralForm),l.Eb(7),l.rc("ngForOf",e.arrayCollateralType),l.Eb(6),l.rc("ngForOf",e.arrayRateValue),l.Eb(48),l.rc("ngForOf",e.arrayCountry),l.Eb(6),l.rc("ngForOf",e.arrayState),l.Eb(6),l.rc("ngForOf",e.arrayCity))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.a,v.r,v.i,c.m,C.b,v.c,v.y,S.n,v.n,v.m,p.c,A.b],styles:[""]}),Ld);function wd(t,e){if(1&t&&(l.Xb(0,"mat-option",25),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Ud(t,e){if(1&t&&(l.Xb(0,"mat-option",25),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function Md(t,e){if(1&t&&(l.Xb(0,"mat-option",25),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.value1),l.Eb(1),l.Vc(" ",a.value1,"")}}function Gd(t,e){if(1&t&&(l.Xb(0,"mat-option",25),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.value1),l.Eb(1),l.Uc(a.value1)}}var Vd,jd,Bd=((jd=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.fb=e,this.loader=a,this.ls=o,this.snack=i,this.taskSumService=r,this.cdr=c,this.data=s,this.apiService=l,this.dialogRef=b,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.tomorrow=new Date,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.tomorrow.setDate(this.tomorrow.getDate())}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),console.log("component call check"),this.buildGuarantorForm(this.data),this.getCountryName("country"),this.getStateName("state"),this.getPrefixValue("prefix")}},{key:"buildGuarantorForm",value:function(t){var e,a,n,o,i,r,c,s,l,b,u,d;console.log("item",t),t&&t.country&&(this.getStateName(t.country),this.getCityName(t.state)),this.loanGuarantorForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.gurantorInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.gurantorInfo)||void 0===a?void 0:a.state:""],city:[t?null===(n=null==t?void 0:t.gurantorInfo)||void 0===n?void 0:n.city:""],prefix:[t?null===(o=null==t?void 0:t.gurantorInfo)||void 0===o?void 0:o.prefix:""],firstName:[t?null===(i=null==t?void 0:t.gurantorInfo)||void 0===i?void 0:i.firstName:""],lastName:[t?null===(r=null==t?void 0:t.gurantorInfo)||void 0===r?void 0:r.lastName:""],mobileNumber:[t?null===(c=null==t?void 0:t.gurantorInfo)||void 0===c?void 0:c.mobileNumber:""],building:[t?null===(s=null==t?void 0:t.gurantorInfo)||void 0===s?void 0:s.building:t.gurantorInfo.address1],street:[t?null===(l=null==t?void 0:t.gurantorInfo)||void 0===l?void 0:l.street:t.gurantorInfo.address2],zipCode:[t?null===(b=null==t?void 0:t.gurantorInfo)||void 0===b?void 0:b.zipCode:""],emailAddress:[t?null===(u=null==t?void 0:t.gurantorInfo)||void 0===u?void 0:u.emailAddress:""],dateOfBirth:[t?null===(d=null==t?void 0:t.gurantorInfo)||void 0===d?void 0:d.dateOfBirth:""]})}},{key:"getGuarantorDetails",value:function(){var t=this;this.loader.open(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(function(e){t.loader.close(),t.guarantorDetails=e,console.log("this.guarantorDetails::",t.guarantorDetails),t.getStateName(t.guarantorDetails.country),t.getCityName(t.guarantorDetails.state),t.buildGuarantorForm(t.guarantorDetails),t.guarantorDetails.address1=t.loanGuarantorForm.value.building,t.guarantorDetails.address2=t.loanGuarantorForm.value.street},function(e){t.loader.close()})}},{key:"getPrefixValue",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayPrefix=t,console.log("data",e.arrayPrefix)})}},{key:"getCountryName",value:function(t){var e=this;this.apiService.getDropDownValues(t).subscribe(function(t){e.arrayCountry=t,console.log("--\x3e",e.arrayCountry)})}},{key:"getStateName",value:function(t){var e=this;this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayState=t,console.log("--\x3e",e.arrayState)})}},{key:"getCityName",value:function(t){var e=this;this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(function(t){e.arrayCity=t,console.log("--\x3e",e.arrayCity)})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.guarantorDetails=e,console.log("this.accountDetails",t.guarantorDetails),console.log("form",t.loanGuarantorForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,country:this.loanGuarantorForm.value.country,state:this.loanGuarantorForm.value.state,city:this.loanGuarantorForm.value.city,address1:this.loanGuarantorForm.value.building,address2:this.loanGuarantorForm.value.street,zipCode:this.loanGuarantorForm.value.zipCode,mobileNumber:this.loanGuarantorForm.value.mobileNumber};console.log("payload",e),this.apiService.upsertGuarantorDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||jd)(l.Rb(v.f),l.Rb(K.a),l.Rb(m.a),l.Rb(W.a),l.Rb(g.a),l.Rb(l.h),l.Rb(p.a),l.Rb(b.b),l.Rb(p.g))},jd.\u0275cmp=l.Lb({type:jd,selectors:[["app-loan-guarantor-details-update"]],decls:90,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","prefix","formControlName","prefix","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","firstName","formControlName","firstName"],["matInput","","name","lastName","formControlName","lastName"],["fxLayout","row wrap"],["name","country","formControlName","country",3,"selectionChange"],["value",""],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["matInput","","name","building","formControlName","building"],["matInput","","name","street","formControlName","street"],["matInput","","name","zipCode","formControlName","zipCode","maxlength","6",3,"keypress"],["matInput","","name","dateOfBirth","formControlName","dateOfBirth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerDOB",""],["matInput","","name","emailAddress","formControlName","emailAddress"],["matInput","","name","mobileNumber","formControlName","mobileNumber","maxlength","10",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Guarantor Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Prefix "),l.Wb(),l.Xb(12,"mat-form-field",5),l.Xb(13,"mat-select",6),l.Rc(14,wd,2,2,"mat-option",7),l.Wb(),l.Wb(),l.Wb(),l.Xb(15,"div",4),l.Xb(16,"mat-label"),l.Tc(17,"First Name "),l.Wb(),l.Xb(18,"mat-form-field",5),l.Sb(19,"input",8),l.Wb(),l.Wb(),l.Xb(20,"div",4),l.Xb(21,"mat-label"),l.Tc(22,"Last Name"),l.Wb(),l.Xb(23,"mat-form-field",5),l.Sb(24,"input",9),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",10),l.Xb(26,"div",4),l.Xb(27,"mat-label"),l.Tc(28,"Country"),l.Wb(),l.Xb(29,"mat-form-field",5),l.Xb(30,"mat-select",11),l.fc("selectionChange",function(t){return e.getStateName(t.value)})("selectionChange",function(t){return e.getCityName(t.value)}),l.Xb(31,"mat-option",12),l.Tc(32,"Select"),l.Wb(),l.Rc(33,Ud,2,2,"mat-option",7),l.Wb(),l.Wb(),l.Wb(),l.Xb(34,"div",4),l.Xb(35,"mat-label"),l.Tc(36,"State"),l.Wb(),l.Xb(37,"mat-form-field",5),l.Xb(38,"mat-select",13),l.fc("selectionChange",function(t){return e.getCityName(t.value)}),l.Xb(39,"mat-option",12),l.Tc(40,"Select"),l.Wb(),l.Rc(41,Md,2,2,"mat-option",7),l.Wb(),l.Wb(),l.Wb(),l.Xb(42,"div",4),l.Xb(43,"mat-label"),l.Tc(44,"City"),l.Wb(),l.Xb(45,"mat-form-field",5),l.Xb(46,"mat-select",14),l.Xb(47,"mat-option",12),l.Tc(48,"Select"),l.Wb(),l.Rc(49,Gd,2,2,"mat-option",7),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(50,"div",10),l.Xb(51,"div",4),l.Xb(52,"mat-label"),l.Tc(53,"Building"),l.Wb(),l.Xb(54,"mat-form-field",5),l.Sb(55,"input",15),l.Wb(),l.Wb(),l.Xb(56,"div",4),l.Xb(57,"mat-label"),l.Tc(58,"Street"),l.Wb(),l.Xb(59,"mat-form-field",5),l.Sb(60,"input",16),l.Wb(),l.Wb(),l.Xb(61,"div",4),l.Xb(62,"mat-label"),l.Tc(63,"Zip Code"),l.Wb(),l.Xb(64,"mat-form-field",5),l.Xb(65,"input",17),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(66,"div",10),l.Xb(67,"div",4),l.Xb(68,"mat-label"),l.Tc(69,"Date Of Birth"),l.Wb(),l.Xb(70,"mat-form-field",5),l.Sb(71,"input",18),l.Sb(72,"mat-datepicker-toggle",19),l.Sb(73,"mat-datepicker",null,20),l.Wb(),l.Wb(),l.Xb(75,"div",4),l.Xb(76,"mat-label"),l.Tc(77,"Email Address"),l.Wb(),l.Xb(78,"mat-form-field",5),l.Sb(79,"input",21),l.Wb(),l.Wb(),l.Xb(80,"div",4),l.Xb(81,"mat-label"),l.Tc(82,"Phone Number"),l.Wb(),l.Xb(83,"mat-form-field",5),l.Xb(84,"input",22),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(85,"mat-dialog-actions",23),l.Xb(86,"button",24),l.fc("click",function(){return e.submitForm1()}),l.Tc(87," Update "),l.Wb(),l.Xb(88,"button",24),l.fc("click",function(){return e.goToClose()}),l.Tc(89,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.Dc(74);l.Eb(7),l.rc("formGroup",e.loanGuarantorForm),l.Eb(7),l.rc("ngForOf",e.arrayPrefix),l.Eb(19),l.rc("ngForOf",e.arrayCountry),l.Eb(8),l.rc("ngForOf",e.arrayState),l.Eb(8),l.rc("ngForOf",e.arrayCity),l.Eb(22),l.rc("matDatepicker",a)("max",e.tomorrow),l.Eb(1),l.rc("for",a)}},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.a,v.r,v.i,v.y,c.m,C.b,v.c,S.n,v.m,O.e,O.g,I.j,O.d,p.c,A.b],styles:[""]}),jd),zd=((Vd=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildDisbursementForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildDisbursementForm",value:function(t){var e,a,n,o,i,r,c,s;console.log("item",t),this.loanDisbursementForm=this.fb.group({loanAccountId:[this.loanaccountID],disbursementMode:[t?null===(e=null==t?void 0:t.disbursementInfo)||void 0===e?void 0:e.disbursementMode:""],totalDisbursement:[t?null===(a=null==t?void 0:t.disbursementInfo)||void 0===a?void 0:a.totalDisbursement:""],numberOfDisbursement:[t?null===(n=null==t?void 0:t.disbursementInfo)||void 0===n?void 0:n.numberOfDisbursement:""],multipleDisbursementRequired:[!t||(null===(o=null==t?void 0:t.disbursementInfo)||void 0===o?void 0:o.multipleDisbursementRequired)],branchCode:[t?null===(i=null==t?void 0:t.disbursementInfo)||void 0===i?void 0:i.branchCode:""],customerAccount:[t?null===(r=null==t?void 0:t.disbursementInfo)||void 0===r?void 0:r.customerAccount:""],loanAmount:[t?null===(c=null==t?void 0:t.disbursementInfo)||void 0===c?void 0:c.loanAmount:""],marginIn:[t?null===(s=null==t?void 0:t.disbursementInfo)||void 0===s?void 0:s.marginIn:""]})}},{key:"getDisbursementDetails",value:function(){var t=this;this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(function(e){t.disbursementDetails=e,console.log("this.disbursementDetails::",t.disbursementDetails),t.buildDisbursementForm(t.disbursementDetails),t.loanDisbursementForm.value.numberOfDisbursement=t.disbursementDetails.numberOfDisbursement,t.loanDisbursementForm.value.totalDisbursement=t.disbursementDetails.totalDisbursement,t.loanDisbursementForm.value.loanAmount=t.disbursementDetails.loanAmount,t.loanDisbursementForm.value.branchCode=t.disbursementDetails.branchCode,t.loanDisbursementForm.value.customerAccount=t.disbursementDetails.customerAccount,t.loanDisbursementForm.value.marginIn=t.disbursementDetails.marginIn,t.loanDisbursementForm.value.multipleDisbursementRequired=t.disbursementDetails.multipleDisbursementRequired},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.disbursementDetails=e,console.log("this.accountDetails",t.disbursementDetails),console.log("form",t.loanDisbursementForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,disbursementMode:this.loanDisbursementForm.value.disbursementMode,totalDisbursement:this.loanDisbursementForm.value.totalDisbursement,numberOfDisbursement:this.loanDisbursementForm.value.numberOfDisbursement,multipleDisbursementRequired:this.loanDisbursementForm.value.multipleDisbursementRequired,branchCode:this.loanDisbursementForm.value.branchCode,customerAccount:this.loanDisbursementForm.value.customerAccount,loanAmount:this.loanDisbursementForm.value.loanAmount,marginIn:this.loanDisbursementForm.value.marginIn};console.log("payload",e),this.apiService.loanDisbursementSave(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||Vd)(l.Rb(b.b),l.Rb(p.a),l.Rb(v.f),l.Rb(K.a),l.Rb(g.a),l.Rb(l.h),l.Rb(m.a),l.Rb(p.g),l.Rb(W.a))},Vd.\u0275cmp=l.Lb({type:Vd,selectors:[["app-loan-disbursement-details-update"]],decls:63,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["placeholder","Disbursement Mode","formControlName","disbursementMode"],["value",""],["value","mode1"],["value","mode12"],["matInput","","name","numberOfDisbursement","formControlName","numberOfDisbursement","maxlength","6",3,"keypress"],["matInput","","name","totalDisbursement","formControlName","totalDisbursement","maxlength","6",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","loanAmount","formControlName","loanAmount",3,"keypress"],["matInput","","name","branchCode","formControlName","branchCode",3,"keypress"],["matInput","","name","customerAccount","formControlName","customerAccount"],["matInput","","name","multipleDisbursementRequired","formControlName","multipleDisbursementRequired"],["matInput","","name","marginIn","formControlName","marginIn",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Disbursement Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Disbursement Mode "),l.Wb(),l.Xb(12,"mat-form-field",5),l.Xb(13,"mat-select",6),l.Xb(14,"mat-option",7),l.Tc(15,"Select"),l.Wb(),l.Xb(16,"mat-option",8),l.Tc(17,"Auto Disbursement"),l.Wb(),l.Xb(18,"mat-option",9),l.Tc(19,"Manual Disbursement "),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",4),l.Xb(21,"mat-label"),l.Tc(22,"Number of Disbursement"),l.Wb(),l.Xb(23,"mat-form-field",5),l.Xb(24,"input",10),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",4),l.Xb(26,"mat-label"),l.Tc(27,"Total Disbursement"),l.Wb(),l.Xb(28,"mat-form-field",5),l.Xb(29,"input",11),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(30,"div",12),l.Xb(31,"div",4),l.Xb(32,"mat-label"),l.Tc(33,"Loan Amount"),l.Wb(),l.Xb(34,"mat-form-field",5),l.Xb(35,"input",13),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div",4),l.Xb(37,"mat-label"),l.Tc(38,"Branch Code "),l.Wb(),l.Xb(39,"mat-form-field",5),l.Xb(40,"input",14),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(41,"div",4),l.Xb(42,"mat-label"),l.Tc(43,"Customer Account"),l.Wb(),l.Xb(44,"mat-form-field",5),l.Sb(45,"input",15),l.Wb(),l.Wb(),l.Wb(),l.Xb(46,"div",12),l.Xb(47,"div",4),l.Xb(48,"mat-label"),l.Tc(49,"Multiple Disbursement Required?"),l.Wb(),l.Xb(50,"mat-form-field",5),l.Sb(51,"input",16),l.Wb(),l.Wb(),l.Xb(52,"div",4),l.Xb(53,"mat-label"),l.Tc(54,"Margin In"),l.Wb(),l.Xb(55,"mat-form-field",5),l.Xb(56,"input",17),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Sb(57,"div",4),l.Wb(),l.Wb(),l.Wb(),l.Xb(58,"mat-dialog-actions",18),l.Xb(59,"button",19),l.fc("click",function(){return e.submitForm1()}),l.Tc(60," Update "),l.Wb(),l.Xb(61,"button",19),l.fc("click",function(){return e.goToClose()}),l.Tc(62,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.loanDisbursementForm))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.a,v.r,v.i,S.n,C.b,v.c,v.m,p.c,A.b],styles:[""]}),Vd);function qd(t,e){if(1&t&&(l.Xb(0,"mat-option",26),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function Jd(t,e){if(1&t&&(l.Xb(0,"mat-option",26),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function Kd(t,e){if(1&t&&(l.Xb(0,"mat-option",26),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}var $d,Hd,Yd,Zd,Qd=((Zd=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.tomorrow=new Date,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.tomorrow.setDate(this.tomorrow.getDate())}return i(t,[{key:"ngOnInit",value:function(){this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildRepaymentForm(this.data)}},{key:"getRepaymenttDetails",value:function(){var t=this;this.loader.open(),this.apiService.loanRepaymentFetchById(this.loanaccountID).subscribe(function(e){t.loader.close(),t.repaymentDetails=e,t.buildRepaymentForm(t.repaymentDetails),t.loanRepaymentForm.value.loanTenure=t.repaymentDetails.loanTenure,t.loanRepaymentForm.value.maturityeDate=t.repaymentDetails.maturityeDate,t.loanRepaymentForm.value.firstRepaymentDate=t.repaymentDetails.firstRepaymentDate,t.loanRepaymentForm.value.moratariumPeriod=t.repaymentDetails.moratariumPeriod,t.loanRepaymentForm.value.branchCode=t.repaymentDetails.branchCode,t.loanRepaymentForm.value.customerAccount=t.repaymentDetails.customerAccount,t.loanRepaymentForm.value.bankName=t.repaymentDetails.bankName,t.loanRepaymentForm.value.typeOfRepayment=t.repaymentDetails.typeOfRepayment,t.loanRepaymentForm.value.repaymentMode=t.repaymentDetails.repaymentMode,t.loanRepaymentForm.value.repaymentFrequency=t.repaymentDetails.repaymentFrequency},function(e){t.loader.close()})}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildRepaymentForm",value:function(t){var e,a,n,o,i,r,c,s,l,b,u,d,m;console.log("item",t),this.loanRepaymentForm=this.fb.group({loanAccountId:[this.loanaccountID],disbursementMode:[t?null===(e=null==t?void 0:t.loanRepaymentInfo)||void 0===e?void 0:e.disbursementMode:""],firstRepaymentDate:[t?null===(a=null==t?void 0:t.loanRepaymentInfo)||void 0===a?void 0:a.firstRepaymentDate:""],moraturioumPeriod:[t?null===(n=null==t?void 0:t.loanRepaymentInfo)||void 0===n?void 0:n.moraturioumPeriod:""],typeOfRepayment:[t?null===(o=null==t?void 0:t.loanRepaymentInfo)||void 0===o?void 0:o.typeOfRepayment:""],branchCode:[t?null===(i=null==t?void 0:t.loanRepaymentInfo)||void 0===i?void 0:i.branchCode:""],customerAccount:[t?null===(r=null==t?void 0:t.loanRepaymentInfo)||void 0===r?void 0:r.customerAccount:""],bankName:[t?null===(c=null==t?void 0:t.loanRepaymentInfo)||void 0===c?void 0:c.bankName:""],repaymentMode:[t?null===(s=null==t?void 0:t.loanRepaymentInfo)||void 0===s?void 0:s.repaymentMode:""],repaymentFrequency:[t?null===(l=null==t?void 0:t.loanRepaymentInfo)||void 0===l?void 0:l.repaymentFrequency:""],loanTenure:[t?null===(b=null==t?void 0:t.loanRepaymentInfo)||void 0===b?void 0:b.loanTenure:""],day:[t?Number(null===(u=null==t?void 0:t.loanRepaymentInfo)||void 0===u?void 0:u.loanTenure.split("-")[2]):""],month:[t?null===(d=null==t?void 0:t.info)||void 0===d?void 0:d.loanRepaymentInfo.split("-")[1]:""],year:[t?Number(null===(m=null==t?void 0:t.loanRepaymentInfo)||void 0===m?void 0:m.loanTenure.split("-")[0]):""]})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.loanRepaymentFetchById(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.repaymentDetails=e,console.log("this.accountDetails",t.repaymentDetails),console.log("form",t.loanRepaymentForm.value)})}},{key:"submitForm1",value:function(){var t=this,e=new Date;e=this.loanRepaymentForm.value.firstDisbursementDate,console.log("firstDisbursementDate",this.loanRepaymentForm.value.firstDisbursementDate);var a=y(e).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",a);var n=this.loanRepaymentForm.value.year+"-"+this.loanRepaymentForm.value.month+"-"+this.loanRepaymentForm.value.day;this.loanRepaymentForm.get("loanTenure").setValue(n),delete this.loanRepaymentForm.value.year,delete this.loanRepaymentForm.value.month,delete this.loanRepaymentForm.value.day;var o={loanAccountId:this.data.loanAccountId,typeOfRepayment:this.loanRepaymentForm.value.typeOfRepayment,loanTenure:this.loanRepaymentForm.value.loanTenure,maturityeDate:this.loanRepaymentForm.value.maturityeDate,firstRepaymentDate:this.loanRepaymentForm.value.firstRepaymentDate,moratariumPeriod:this.loanRepaymentForm.value.moratariumPeriod,branchCode:this.loanRepaymentForm.value.branchCode,customerAccount:this.loanRepaymentForm.value.customerAccount,bankName:this.loanRepaymentForm.value.bankName,repaymentMode:this.loanRepaymentForm.value.repaymentMode,repaymentFrequency:this.loanRepaymentForm.value.repaymentFrequency};console.log("payload",o),this.apiService.loanRepaymentSave(o).subscribe(function(e){t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||Zd)(l.Rb(b.b),l.Rb(p.a),l.Rb(v.f),l.Rb(K.a),l.Rb(g.a),l.Rb(l.h),l.Rb(m.a),l.Rb(p.g),l.Rb(W.a))},Zd.\u0275cmp=l.Lb({type:Zd,selectors:[["app-loan-repayment-details-update"]],decls:80,vars:7,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","bankName","formControlName","bankName"],["matInput","","name","branchCode","formControlName","branchCode"],["matInput","","name","customerAccount","formControlName","customerAccount"],["fxLayout","row wrap"],["matInput","","name","firstRepaymentDate","formControlName","firstRepaymentDate",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerDOB1",""],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["matInput","","name","moraturioumPeriod","formControlName","moraturioumPeriod","maxlength","6",3,"keypress"],["name","typeOfRepayment","formControlName","typeOfRepayment"],["value","EMI"],["matInput","","name","repaymentMode","formControlName","repaymentMode"],["matInput","","name","repaymentFrequency","formControlName","repaymentFrequency"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Repayment Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Bank Name"),l.Wb(),l.Xb(12,"mat-form-field",5),l.Sb(13,"input",6),l.Wb(),l.Wb(),l.Xb(14,"div",4),l.Xb(15,"mat-label"),l.Tc(16,"Branch Code "),l.Wb(),l.Xb(17,"mat-form-field",5),l.Sb(18,"input",7),l.Wb(),l.Wb(),l.Xb(19,"div",4),l.Xb(20,"mat-label"),l.Tc(21,"Customer Account"),l.Wb(),l.Xb(22,"mat-form-field",5),l.Sb(23,"input",8),l.Wb(),l.Wb(),l.Wb(),l.Xb(24,"div",9),l.Xb(25,"div",4),l.Xb(26,"mat-label"),l.Tc(27,"First Repayment Date"),l.Wb(),l.Xb(28,"mat-form-field",5),l.Sb(29,"input",10),l.Sb(30,"mat-datepicker-toggle",11),l.Sb(31,"mat-datepicker",null,12),l.Wb(),l.Wb(),l.Xb(33,"div",4),l.Xb(34,"mat-label"),l.Tc(35,"Loan Tenure"),l.Wb(),l.Xb(36,"div",13),l.Xb(37,"div",14),l.Xb(38,"div"),l.Xb(39,"mat-form-field",5),l.Xb(40,"mat-select",15),l.Rc(41,qd,2,2,"mat-option",16),l.Wb(),l.Wb(),l.Wb(),l.Xb(42,"div"),l.Xb(43,"mat-form-field",5),l.Xb(44,"mat-select",17),l.Rc(45,Jd,2,2,"mat-option",16),l.Wb(),l.Wb(),l.Wb(),l.Xb(46,"div"),l.Xb(47,"mat-form-field",5),l.Xb(48,"mat-select",18),l.Rc(49,Kd,2,2,"mat-option",16),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(50,"div",4),l.Wb(),l.Xb(51,"div",9),l.Xb(52,"div",4),l.Xb(53,"mat-label"),l.Tc(54,"Moratorium Period"),l.Wb(),l.Xb(55,"mat-form-field",5),l.Xb(56,"input",19),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(57,"div",4),l.Xb(58,"mat-label"),l.Tc(59,"Type Of Repayment "),l.Wb(),l.Xb(60,"mat-form-field",5),l.Xb(61,"mat-select",20),l.Xb(62,"mat-option",21),l.Tc(63,"EMI"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(64,"div",4),l.Xb(65,"mat-label"),l.Tc(66,"Repayment Mode"),l.Wb(),l.Xb(67,"mat-form-field",5),l.Sb(68,"input",22),l.Wb(),l.Wb(),l.Wb(),l.Xb(69,"div",9),l.Xb(70,"div",4),l.Xb(71,"mat-label"),l.Tc(72,"Repayment Frequency"),l.Wb(),l.Xb(73,"mat-form-field",5),l.Sb(74,"input",23),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(75,"mat-dialog-actions",24),l.Xb(76,"button",25),l.fc("click",function(){return e.submitForm1()}),l.Tc(77," Update "),l.Wb(),l.Xb(78,"button",25),l.fc("click",function(){return e.goToClose()}),l.Tc(79,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.Dc(32);l.Eb(7),l.rc("formGroup",e.loanRepaymentForm),l.Eb(22),l.rc("matDatepicker",a)("max",e.tomorrow),l.Eb(1),l.rc("for",a),l.Eb(11),l.rc("ngForOf",e.years),l.Eb(4),l.rc("ngForOf",e.months),l.Eb(4),l.rc("ngForOf",e.days)}},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.b,v.c,v.r,v.i,O.e,O.g,I.j,O.d,X.f,X.d,x.a,c.m,v.m,S.n,p.c,A.b],styles:[""]}),Zd),tm=((Yd=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanCreditForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLoanCreditForm",value:function(t){var e,a,n,o,i,r,c;console.log("item",t),this.loanCreditForm=this.fb.group({loanAccountId:[this.loanaccountID],customerName:[t?null===(e=null==t?void 0:t.loanCreditInfo)||void 0===e?void 0:e.customerName:""],agencyName:[t?null===(n=null===(a=null==t?void 0:t.loanCreditInfo)||void 0===a?void 0:a.agencyRating[0])||void 0===n?void 0:n.agencyName:""],remarks:[t?null===(i=null===(o=null==t?void 0:t.loanCreditInfo)||void 0===o?void 0:o.agencyRating[0])||void 0===i?void 0:i.remarks:""],ratings:[t?null===(c=null===(r=null==t?void 0:t.loanCreditInfo)||void 0===r?void 0:r.agencyRating[0])||void 0===c?void 0:c.ratings:""]})}},{key:"getLoanCreditDetails",value:function(){var t=this;this.apiService.gettingCreditRatingDetails(this.loanaccountID).subscribe(function(e){t.creditDetails=e,console.log("this.creditDetails::",t.creditDetails),t.buildLoanCreditForm(t.creditDetails),t.loanCreditForm.value.customerName=t.creditDetails.customerName,t.loanCreditForm.value.agencyName=t.creditDetails.agencyRating.agencyName,t.loanCreditForm.value.ratings=t.creditDetails.agencyRating.ratings,t.loanCreditForm.value.remarks=t.creditDetails.agencyRating.remarks},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.gettingCreditRatingDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.creditDetails=e,console.log("this.accountDetails",t.creditDetails),console.log("form",t.loanCreditForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={accountType:"loan",loanAccountId:this.data.loanAccountId,customerName:this.loanCreditForm.value.customerName,agencyName:this.loanCreditForm.value.agencyName,ratings:this.loanCreditForm.value.ratings,remarks:this.loanCreditForm.value.remarks};console.log("payload",e),this.apiService.saveCreditDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}}]),t}()).\u0275fac=function(t){return new(t||Yd)(l.Rb(b.b),l.Rb(p.a),l.Rb(v.f),l.Rb(K.a),l.Rb(g.a),l.Rb(l.h),l.Rb(m.a),l.Rb(p.g),l.Rb(W.a))},Yd.\u0275cmp=l.Lb({type:Yd,selectors:[["app-loan-credit-details-update"]],decls:37,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","customerName","formControlName","customerName"],["matInput","","name","agencyName","formControlName","agencyName"],["matInput","","name","remarks","formControlName","remarks"],["fxLayout","row wrap"],["matInput","","name","ratings","formControlName","ratings"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Credit Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Customer Name "),l.Wb(),l.Xb(12,"mat-form-field",5),l.Sb(13,"input",6),l.Wb(),l.Wb(),l.Xb(14,"div",4),l.Xb(15,"mat-label"),l.Tc(16,"Agency Name"),l.Wb(),l.Xb(17,"mat-form-field",5),l.Sb(18,"input",7),l.Wb(),l.Wb(),l.Xb(19,"div",4),l.Xb(20,"mat-label"),l.Tc(21,"Remarks"),l.Wb(),l.Xb(22,"mat-form-field",5),l.Sb(23,"input",8),l.Wb(),l.Wb(),l.Wb(),l.Xb(24,"div",9),l.Xb(25,"div",4),l.Xb(26,"mat-label"),l.Tc(27,"Ratings"),l.Wb(),l.Xb(28,"mat-form-field",5),l.Sb(29,"input",10),l.Wb(),l.Wb(),l.Sb(30,"div",4),l.Sb(31,"div",4),l.Wb(),l.Wb(),l.Wb(),l.Xb(32,"mat-dialog-actions",11),l.Xb(33,"button",12),l.fc("click",function(){return e.submitForm1()}),l.Tc(34," Update "),l.Wb(),l.Xb(35,"button",12),l.fc("click",function(){return e.goToClose()}),l.Tc(36,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.loanCreditForm))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.b,v.c,v.r,v.i,p.c,A.b],styles:[""]}),Yd),em=((Hd=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanValuationForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLoanValuationForm",value:function(t){var e,a,n,o,i,r,c,s,l,b;console.log("item",t),this.loanValuationForm=this.fb.group({loanAccountId:[this.loanaccountID],valuationDate:[t?null===(e=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===e?void 0:e.valuationDate:""],forcedSaleValue:[t?null===(a=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===a?void 0:a.forcedSaleValue:""],propertyAreaSize:[t?null===(n=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===n?void 0:n.propertyAreaSize:""],bankValuation:[t?null===(o=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===o?void 0:o.bankValuation:""],assetType:[t?null===(i=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===i?void 0:i.assetType:""],actualPropertyAreaSize:[t?null===(r=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===r?void 0:r.actualPropertyAreaSize:""],borrowersMktValOfAsset:[t?null===(c=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===c?void 0:c.borrowersMktValOfAsset:""],faceValOfAsset:[t?null===(s=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===s?void 0:s.faceValOfAsset:""],mktValOfAsset:[t?null===(l=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===l?void 0:l.mktValOfAsset:""],propertyAreaInUnits:[t?null===(b=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===b?void 0:b.propertyAreaInUnits:""]})}},{key:"getLoanCreditDetails",value:function(){var t=this;this.apiService.gettingValuationDetails(this.loanaccountID).subscribe(function(e){t.valuationOfAssetDetails=e,console.log("this.creditDetails::",t.valuationOfAssetDetails),t.buildLoanValuationForm(t.valuationOfAssetDetails),t.loanValuationForm.value.faceValOfAsset=t.valuationOfAssetDetails.faceValOfAsset,t.loanValuationForm.value.forcedSaleValue=t.valuationOfAssetDetails.forcedSaleValue,t.loanValuationForm.value.bankValuation=t.valuationOfAssetDetails.bankValuation,t.loanValuationForm.value.mktValOfAsset=t.valuationOfAssetDetails.mktValOfAsset,t.loanValuationForm.value.borrowersMktValOfAsset=t.valuationOfAssetDetails.borrowersMktValOfAsset,t.loanValuationForm.value.propertyAreaSize=t.valuationOfAssetDetails.propertyAreaSize,t.loanValuationForm.value.propertyAreaInUnits=t.valuationOfAssetDetails.propertyAreaInUnits,t.loanValuationForm.value.assetType=t.valuationOfAssetDetails.assetType,t.loanValuationForm.value.actualPropertyAreaSize=t.valuationOfAssetDetails.actualPropertyAreaSize},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.gettingValuationDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.valuationOfAssetDetails=e,console.log("this.accountDetails",t.valuationOfAssetDetails),console.log("form",t.loanValuationForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,bankValuation:this.loanValuationForm.value.bankValuation,assetType:this.loanValuationForm.value.assetType,propertyAreaSize:this.loanValuationForm.value.propertyAreaSize,actualPropertySizeArea:this.loanValuationForm.value.actualPropertySizeArea,borrowersMktValOfAsset:this.loanValuationForm.value.borrowersMktValOfAsset,faceValOfAsset:this.loanValuationForm.value.faceValOfAsset,mktValOfAsset:this.loanValuationForm.value.mktValOfAsset,propertyAreaInSize:this.loanValuationForm.value.propertyAreaInSize,propertyAreaInUnits:this.loanValuationForm.value.propertyAreaInUnits,valuationDate:this.loanValuationForm.value.valuationDate,forcedSaleValue:this.loanValuationForm.value.forcedSaleValue,actualPropertyAreaSize:this.loanValuationForm.value.actualPropertyAreaSize};console.log("payload",e),this.apiService.saveValuationDetails(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||Hd)(l.Rb(b.b),l.Rb(p.a),l.Rb(v.f),l.Rb(K.a),l.Rb(g.a),l.Rb(l.h),l.Rb(m.a),l.Rb(p.g),l.Rb(W.a))},Hd.\u0275cmp=l.Lb({type:Hd,selectors:[["app-loan-valuation-of-asset-update"]],decls:69,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","bankValuation","formControlName","bankValuation"],["matInput","","name","assetType","formControlName","assetType"],["matInput","","name","propertyAreaSize","formControlName","propertyAreaSize",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","actualPropertyAreaSize","formControlName","actualPropertyAreaSize",3,"keypress"],["matInput","","name","borrowersMktValOfAsset","formControlName","borrowersMktValOfAsset",3,"keypress"],["matInput","","name","faceValOfAsset","formControlName","faceValOfAsset",3,"keypress"],["matInput","","name","mktValOfAsset","formControlName","mktValOfAsset",3,"keypress"],["matInput","","name","propertyAreaInUnits","formControlName","propertyAreaInUnits",3,"keypress"],["matInput","","name","valuationDate","formControlName","valuationDate"],["matInput","","name","forcedSaleValue","formControlName","forcedSaleValue",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Credit Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Bank Valuation "),l.Wb(),l.Xb(12,"mat-form-field",5),l.Sb(13,"input",6),l.Wb(),l.Wb(),l.Xb(14,"div",4),l.Xb(15,"mat-label"),l.Tc(16,"Asset Type"),l.Wb(),l.Xb(17,"mat-form-field",5),l.Sb(18,"input",7),l.Wb(),l.Wb(),l.Xb(19,"div",4),l.Xb(20,"mat-label"),l.Tc(21,"Property Size Area"),l.Wb(),l.Xb(22,"mat-form-field",5),l.Xb(23,"input",8),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(24,"div",9),l.Xb(25,"div",4),l.Xb(26,"mat-label"),l.Tc(27,"Actual Property Size Area"),l.Wb(),l.Xb(28,"mat-form-field",5),l.Xb(29,"input",10),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(30,"div",4),l.Xb(31,"mat-label"),l.Tc(32,"Borrower's Market Value "),l.Wb(),l.Xb(33,"mat-form-field",5),l.Xb(34,"input",11),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(35,"div",4),l.Xb(36,"mat-label"),l.Tc(37,"Face Value Of Asset"),l.Wb(),l.Xb(38,"mat-form-field",5),l.Xb(39,"input",12),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(40,"div",9),l.Xb(41,"div",4),l.Xb(42,"mat-label"),l.Tc(43,"Market Value of Asset"),l.Wb(),l.Xb(44,"mat-form-field",5),l.Xb(45,"input",13),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(46,"div",4),l.Xb(47,"mat-label"),l.Tc(48,"Property Area In Units "),l.Wb(),l.Xb(49,"mat-form-field",5),l.Xb(50,"input",14),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(51,"div",4),l.Xb(52,"mat-label"),l.Tc(53,"Valuation Date"),l.Wb(),l.Xb(54,"mat-form-field",5),l.Sb(55,"input",15),l.Wb(),l.Wb(),l.Wb(),l.Xb(56,"div",9),l.Xb(57,"div",4),l.Xb(58,"mat-label"),l.Tc(59,"Forced Sale Value"),l.Wb(),l.Xb(60,"mat-form-field",5),l.Xb(61,"input",16),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Sb(62,"div",4),l.Sb(63,"div",4),l.Wb(),l.Wb(),l.Wb(),l.Xb(64,"mat-dialog-actions",17),l.Xb(65,"button",18),l.fc("click",function(){return e.submitForm1()}),l.Tc(66," Update "),l.Wb(),l.Xb(67,"button",18),l.fc("click",function(){return e.goToClose()}),l.Tc(68,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.loanValuationForm))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.b,v.c,v.r,v.i,p.c,A.b],styles:[""]}),Hd),am=(($d=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.showEditOption=!1,this.isChecked=!0,this.disabled=!0,this.disabledToggle=!0,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLegalOpinionForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLegalOpinionForm",value:function(t){var e,a,n,o,i,r,c,s;console.log("item",t),this.loanLegalForm=this.fb.group({loanAccountId:[this.loanaccountID],opinion:[t?null===(e=null==t?void 0:t.loanLegalInfo)||void 0===e?void 0:e.opinion:""],lawyerName:[t?null===(a=null==t?void 0:t.loanLegalInfo)||void 0===a?void 0:a.lawyerName:""],isDecisionFavorable:[t?null===(n=null==t?void 0:t.loanLegalInfo)||void 0===n?void 0:n.isDecisionFavorable:""],mktValOfAsset:[t?null===(o=null==t?void 0:t.loanLegalInfo)||void 0===o?void 0:o.mktValOfAsset:""],opinionDate:[t?null===(i=null==t?void 0:t.loanLegalInfo)||void 0===i?void 0:i.opinionDate:""],validationDate:[t?null===(r=null==t?void 0:t.loanLegalInfo)||void 0===r?void 0:r.validationDate:""],description:[t?null===(c=null==t?void 0:t.loanLegalInfo)||void 0===c?void 0:c.description:""],assetAreaSize:[t?null===(s=null==t?void 0:t.loanLegalInfo)||void 0===s?void 0:s.assetAreaSize:""]})}},{key:"gettingLegalOpinionDetail",value:function(){var t=this;this.loader.open(),this.apiService.gettingLegalOpinionDetails(this.loanaccountID).subscribe(function(e){t.loader.close(),console.log(e),t.buildLegalOpinionForm(e)},function(e){t.loader.close()})}},{key:"toggle",value:function(t){console.log("value",t),"Not Favourable"==t?(this.disabled=!1,this.isChecked=!1,this.disabledToggle=!1):"Favourable"==t?(this.disabled=!0,this.isChecked=!0,this.disabledToggle=!0):this.isChecked=!1}},{key:"getDisbursementDetails",value:function(){var t=this;this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(function(e){t.legalDetails=e,console.log("this.legalDetails::",t.legalDetails),t.buildLegalOpinionForm(t.legalDetails),t.loanLegalForm.value.opinion=t.legalDetails.opinion,t.loanLegalForm.value.opinionDate=t.legalDetails.opinionDate,t.loanLegalForm.value.validationDate=t.legalDetails.validationDate,t.loanLegalForm.value.mktValOfAsset=t.legalDetails.mktValOfAsset,t.loanLegalForm.value.lawyerName=t.legalDetails.lawyerName,t.loanLegalForm.value.description=t.legalDetails.description,t.loanLegalForm.value.isDecisionFavorable=t.legalDetails.isDecisionFavorable,t.loanLegalForm.value.assetAreaSize=t.legalDetails.assetAreaSize},function(e){t.loader.close()})}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.gettingLegalOpinionDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.legalDetails=e,console.log("this.accountDetails",t.legalDetails),console.log("form",t.loanLegalForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,description:this.loanLegalForm.value.description,mktValOfAsset:this.loanLegalForm.value.mktValOfAsset,opinion:this.loanLegalForm.value.opinion,opinionDate:this.loanLegalForm.value.opinionDate,valuationDate:this.loanLegalForm.value.valuationDate,lawyerName:this.loanLegalForm.value.lawyerName,isDecisionFavorable:this.loanLegalForm.value.isDecisionFavorable,assetAreaSize:this.loanLegalForm.value.assetAreaSize};console.log("payload",e),this.apiService.saveLegalOpinion(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}}]),t}()).\u0275fac=function(t){return new(t||$d)(l.Rb(b.b),l.Rb(p.a),l.Rb(v.f),l.Rb(K.a),l.Rb(g.a),l.Rb(l.h),l.Rb(m.a),l.Rb(p.g),l.Rb(W.a))},$d.\u0275cmp=l.Lb({type:$d,selectors:[["app-loan-legal-opinion-updates"]],decls:61,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","opinion","formControlName","opinion"],["value","Favorable"],["value","Non Favorable"],["matInput","","name","description","formControlName","description"],["matInput","","name","assetAreaSize","formControlName","assetAreaSize",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","lawyerName","formControlName","lawyerName"],["matInput","","name","mktValOfAsset","formControlName","mktValOfAsset",3,"keypress"],["matInput","","name","opinionDate","formControlName","opinionDate"],["matInput","","name","valuationDate","formControlName","isDecisionFavorable"],["matInput","","name","valuationDate","formControlName","valuationDate",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Legal Opinion Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Opinion "),l.Wb(),l.Xb(12,"mat-form-field",5),l.Xb(13,"mat-select",6),l.Xb(14,"mat-option",7),l.Tc(15,"Favorable"),l.Wb(),l.Xb(16,"mat-option",8),l.Tc(17,"Non Favorable "),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"div",4),l.Xb(19,"mat-label"),l.Tc(20,"Description"),l.Wb(),l.Xb(21,"mat-form-field",5),l.Sb(22,"input",9),l.Wb(),l.Wb(),l.Xb(23,"div",4),l.Xb(24,"mat-label"),l.Tc(25,"Asset Area Size"),l.Wb(),l.Xb(26,"mat-form-field",5),l.Xb(27,"input",10),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(28,"div",11),l.Xb(29,"div",4),l.Xb(30,"mat-label"),l.Tc(31,"Lawyer Name"),l.Wb(),l.Xb(32,"mat-form-field",5),l.Sb(33,"input",12),l.Wb(),l.Wb(),l.Xb(34,"div",4),l.Xb(35,"mat-label"),l.Tc(36,"Market Value of Asset "),l.Wb(),l.Xb(37,"mat-form-field",5),l.Xb(38,"input",13),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(39,"div",4),l.Xb(40,"mat-label"),l.Tc(41,"Opinion Date"),l.Wb(),l.Xb(42,"mat-form-field",5),l.Sb(43,"input",14),l.Wb(),l.Wb(),l.Wb(),l.Xb(44,"div",11),l.Xb(45,"div",4),l.Xb(46,"mat-label"),l.Tc(47,"is Decision Favorable?"),l.Wb(),l.Xb(48,"mat-form-field",5),l.Sb(49,"input",15),l.Wb(),l.Wb(),l.Xb(50,"div",4),l.Xb(51,"mat-label"),l.Tc(52,"Valuation Date"),l.Wb(),l.Xb(53,"mat-form-field",5),l.Xb(54,"input",16),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Sb(55,"div",4),l.Wb(),l.Wb(),l.Wb(),l.Xb(56,"mat-dialog-actions",17),l.Xb(57,"button",18),l.fc("click",function(){return e.submitForm1()}),l.Tc(58," Update "),l.Wb(),l.Xb(59,"button",18),l.fc("click",function(){return e.goToClose()}),l.Tc(60,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.loanLegalForm))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,x.a,v.r,v.i,S.n,C.b,v.c,p.c,A.b],styles:[""]}),$d);function nm(t,e){if(1&t&&(l.Xb(0,"mat-option",21),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function om(t,e){if(1&t&&(l.Xb(0,"mat-option",21),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function im(t,e){if(1&t&&(l.Xb(0,"mat-option",21),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function rm(t,e){if(1&t&&(l.Xb(0,"mat-option",21),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function cm(t,e){if(1&t&&(l.Xb(0,"mat-option",21),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}var sm,lm,bm=((lm=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.loader=e,this.apiService=a,this.data=o,this.fb=i,this.ls=r,this.dialogRef=c,this.snack=s,this.taskSumService=l,this.cdr=b,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildDisbursementForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildDisbursementForm",value:function(t){var e,a,n,o,i,r,c,s,l,b;console.log("item",t),this.loanAssessmentUpdate=this.fb.group({loanAccountId:[this.loanaccountID],loanAmountRecommendation:[t?null===(e=null==t?void 0:t.loanAssessmentInfo)||void 0===e?void 0:e.loanAmountRecommendation:""],approvedLoanAmount:[t?null===(a=null==t?void 0:t.loanAssessmentInfo)||void 0===a?void 0:a.approvedLoanAmount:""],systemRecommendation:[t?null===(n=null==t?void 0:t.loanAssessmentInfo)||void 0===n?void 0:n.systemRecommendation:""],userRecommendation:[t?null===(o=null==t?void 0:t.loanAssessmentInfo)||void 0===o?void 0:o.userRecommendation:""],rateOfInterest:[t?null===(i=null==t?void 0:t.loanAssessmentInfo)||void 0===i?void 0:i.rateOfInterest:""],requestedLoanAmount:[t?null===(r=null==t?void 0:t.loanAssessmentInfo)||void 0===r?void 0:r.requestedLoanAmount:""],loanTenure:[t?null===(c=null==t?void 0:t.loanAssessmentInfo)||void 0===c?void 0:c.loanTenure:""],day:[t?null===(s=null==t?void 0:t.loanAssessmentInfo)||void 0===s?void 0:s.loanTenure.split("-")[2]:""],month:[t?null===(l=null==t?void 0:t.loanAssessmentInfo)||void 0===l?void 0:l.loanTenure.split("-")[1]:""],year:[t?null===(b=null==t?void 0:t.loanAssessmentInfo)||void 0===b?void 0:b.loanTenure.split("-")[0]:""]})}},{key:"getDisbursementDetails",value:function(){var t=this;this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(function(e){t.assessmentDetails=e,console.log("this.assessmentDetails::",t.assessmentDetails),t.buildDisbursementForm(t.disbursementDetails),t.loanAssessmentUpdate.value.requestedLoanAmount=t.assessmentDetails.requestedLoanAmount,t.loanAssessmentUpdate.value.rateOfInterest=t.assessmentDetails.rateOfInterest,t.loanAssessmentUpdate.value.userRecommendation=t.assessmentDetails.userRecommendation,t.loanAssessmentUpdate.value.systemRecommendation=t.assessmentDetails.systemRecommendation,t.loanAssessmentUpdate.value.loanTenure=t.assessmentDetails.loanTenure,t.loanAssessmentUpdate.value.approvedLoanAmount=t.assessmentDetails.approvedLoanAmount,t.loanAssessmentUpdate.value.loanAmountRecommendation=t.assessmentDetails.loanAmountRecommendation},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.assessmentDetails=e,console.log("this.assessmentDetails",t.assessmentDetails),console.log("form",t.loanAssessmentUpdate.value)})}},{key:"submitForm1",value:function(){var t=this,e=this.loanAssessmentUpdate.value.year+"-"+this.loanAssessmentUpdate.value.month+"-"+this.loanAssessmentUpdate.value.day;this.loanAssessmentUpdate.get("loanTenure").setValue(e),delete this.loanAssessmentUpdate.value.year,delete this.loanAssessmentUpdate.value.month,delete this.loanAssessmentUpdate.value.day;var a={loanAccountId:this.data.loanAccountId,rateOfInterest:this.loanAssessmentUpdate.value.rateOfInterest,requestedLoanAmount:this.loanAssessmentUpdate.value.requestedLoanAmount,loanTenure:this.loanAssessmentUpdate.value.loanTenure,userRecommendation:this.loanAssessmentUpdate.value.userRecommendation,systemRecommendation:this.loanAssessmentUpdate.value.systemRecommendation,approvedLoanAmount:this.loanAssessmentUpdate.value.approvedLoanAmount,loanAmountRecommendation:this.loanAssessmentUpdate.value.loanAmountRecommendation};console.log("payload",a),this.apiService.updateAssessmentDetails(a).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||lm)(l.Rb(K.a),l.Rb(b.b),l.Rb(p.a),l.Rb(v.f),l.Rb(m.a),l.Rb(p.g),l.Rb(W.a),l.Rb(g.a),l.Rb(l.h))},lm.\u0275cmp=l.Lb({type:lm,selectors:[["app-loan-assessment-details-update"]],decls:67,vars:6,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","approvedLoanAmount","formControlName","approvedLoanAmount",3,"keypress"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["fxLayout","row wrap"],["formControlName","systemRecommendation","placeholder","Recommended for Approval"],["formControlName","userRecommendation","placeholder","User Recommendation"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",3,"keypress"],["matInput","","name","requestedLoanAmount","formControlName","requestedLoanAmount",1,"alignment",3,"keypress"],["matInput","","name","loanAmountRecommendation","formControlName","loanAmountRecommendation",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Assessment Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Approved Loan Amount "),l.Wb(),l.Xb(12,"mat-form-field",5),l.Xb(13,"input",6),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(14,"div",4),l.Xb(15,"mat-label"),l.Tc(16,"Loan Tenure"),l.Wb(),l.Xb(17,"div",7),l.Xb(18,"div",8),l.Xb(19,"div"),l.Xb(20,"mat-form-field",5),l.Xb(21,"mat-select",9),l.Rc(22,nm,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Xb(23,"div"),l.Xb(24,"mat-form-field",5),l.Xb(25,"mat-select",11),l.Rc(26,om,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Xb(27,"div"),l.Xb(28,"mat-form-field",5),l.Xb(29,"mat-select",12),l.Rc(30,im,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(31,"div",4),l.Wb(),l.Xb(32,"div",13),l.Xb(33,"div",4),l.Xb(34,"mat-label"),l.Tc(35,"System Recommendation "),l.Wb(),l.Xb(36,"mat-form-field",5),l.Xb(37,"mat-select",14),l.Rc(38,rm,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Xb(39,"div",4),l.Xb(40,"mat-label"),l.Tc(41,"User Recommendation"),l.Wb(),l.Xb(42,"mat-form-field",5),l.Xb(43,"mat-select",15),l.Rc(44,cm,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Xb(45,"div",4),l.Xb(46,"mat-label"),l.Tc(47,"Rate Of Interest"),l.Wb(),l.Xb(48,"mat-form-field",5),l.Xb(49,"input",16),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(50,"div",13),l.Xb(51,"div",4),l.Xb(52,"mat-label"),l.Tc(53,"Requested Loan Amount"),l.Wb(),l.Xb(54,"mat-form-field",5),l.Xb(55,"input",17),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(56,"div",4),l.Xb(57,"mat-label"),l.Tc(58,"Loan Amount Recommended"),l.Wb(),l.Xb(59,"mat-form-field",5),l.Xb(60,"input",18),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Sb(61,"div",4),l.Wb(),l.Wb(),l.Wb(),l.Xb(62,"mat-dialog-actions",19),l.Xb(63,"button",20),l.fc("click",function(){return e.submitForm1()}),l.Tc(64," Update "),l.Wb(),l.Xb(65,"button",20),l.fc("click",function(){return e.goToClose()}),l.Tc(66,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.loanAssessmentUpdate),l.Eb(15),l.rc("ngForOf",e.years),l.Eb(4),l.rc("ngForOf",e.months),l.Eb(4),l.rc("ngForOf",e.days),l.Eb(8),l.rc("ngForOf",e.arraySystemRecommendation),l.Eb(6),l.rc("ngForOf",e.arrayUserRecommendation))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.b,v.c,v.r,v.i,X.f,X.d,x.a,c.m,p.c,A.b,S.n],styles:[""]}),lm),um=((sm=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.apiService=e,this.data=a,this.fb=o,this.loader=i,this.taskSumService=r,this.cdr=c,this.ls=s,this.dialogRef=l,this.snack=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanOfferIssueForm(this.data)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"buildLoanOfferIssueForm",value:function(t){var e,a,n,o,i,r,c,s,l,b;console.log("item",t),this.loanOfferIssueForm=this.fb.group({loanAccountId:[this.loanaccountID],applicantName:[t?null===(e=null==t?void 0:t.loanOfferIssueInfo)||void 0===e?void 0:e.applicantName:""],interest:[t?null===(a=null==t?void 0:t.loanOfferIssueInfo)||void 0===a?void 0:a.interest:""],rateOfInterest:[t?null===(n=null==t?void 0:t.loanOfferIssueInfo)||void 0===n?void 0:n.rateOfInterest:""],principal:[t?null===(o=null==t?void 0:t.loanOfferIssueInfo)||void 0===o?void 0:o.principal:""],installmentType:[t?null===(i=null==t?void 0:t.loanOfferIssueInfo)||void 0===i?void 0:i.installmentType:""],installmentFrequency:[t?null===(r=null==t?void 0:t.loanOfferIssueInfo)||void 0===r?void 0:r.installmentFrequency:""],approvedLoanAmount:[t?null===(c=null==t?void 0:t.loanOfferIssueInfo)||void 0===c?void 0:c.approvedLoanAmount:""],generateOffer:[t?null===(s=null==t?void 0:t.loanOfferIssueInfo)||void 0===s?void 0:s.generateOffer:""],charges:[t?null===(l=null==t?void 0:t.loanOfferIssueInfo)||void 0===l?void 0:l.charges:""],loanTenure:[t?null===(b=null==t?void 0:t.loanOfferIssueInfo)||void 0===b?void 0:b.loanTenure:""]})}},{key:"getLoanOfferIssue",value:function(){var t=this;this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(function(e){t.offerIssueDetails=e,console.log("this.offerIssueDetails::",t.offerIssueDetails),t.buildLoanOfferIssueForm(t.offerIssueDetails),t.loanOfferIssueForm.value.applicantName=t.offerIssueDetails.applicantName,t.loanOfferIssueForm.value.rateOfInterest=t.offerIssueDetails.rateOfInterest,t.loanOfferIssueForm.value.installmentType=t.offerIssueDetails.installmentType,t.loanOfferIssueForm.value.installmentFrequency=t.offerIssueDetails.installmentFrequency,t.loanOfferIssueForm.value.generateOffer=t.offerIssueDetails.generateOffer,t.loanOfferIssueForm.value.charges=t.offerIssueDetails.charges,t.loanOfferIssueForm.value.loanTenure=t.offerIssueDetails.loanTenure,t.loanOfferIssueForm.value.principal=t.offerIssueDetails.principal,t.loanOfferIssueForm.value.interest=t.offerIssueDetails.interest,t.loanOfferIssueForm.value.offerIssueDate=t.offerIssueDetails.offerIssueDate,t.loanOfferIssueForm.value.approvedLoanAmount=t.offerIssueDetails.approvedLoanAmount},function(e){t.loader.close()})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.offerIssueDetails=e,console.log("this.accountDetails",t.offerIssueDetails),console.log("form",t.loanOfferIssueForm.value)})}},{key:"submitForm1",value:function(){var t=this,e={loanAccountId:this.data.loanAccountId,applicantName:this.loanOfferIssueForm.value.applicantName,charges:this.loanOfferIssueForm.value.charges,rateOfInterest:this.loanOfferIssueForm.value.rateOfInterest,installmentType:this.loanOfferIssueForm.value.installmentType,installmentFrequency:this.loanOfferIssueForm.value.installmentFrequency,generateOffer:this.loanOfferIssueForm.value.generateOffer,loanTenure:this.loanOfferIssueForm.value.loanTenure,approvedLoanAmount:this.loanOfferIssueForm.value.approvedLoanAmount,principal:this.loanOfferIssueForm.value.principal,interest:this.loanOfferIssueForm.value.interest,offerIssueDate:this.loanOfferIssueForm.value.offerIssueDate};console.log("payload",e),this.apiService.upsertOfferIssue(e).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.businessProductName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||sm)(l.Rb(b.b),l.Rb(p.a),l.Rb(v.f),l.Rb(K.a),l.Rb(g.a),l.Rb(l.h),l.Rb(m.a),l.Rb(p.g),l.Rb(W.a))},sm.\u0275cmp=l.Lb({type:sm,selectors:[["app-loan-offer-issue-details-update"]],decls:81,vars:3,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],["matInput","","name","approvedLoanAmount","formControlName","approvedLoanAmount","maxlength","6",3,"keypress"],["matInput","","name","charges","formControlName","charges","maxlength","6",3,"keypress"],["fxLayout","row wrap"],["placeholder","Generate Offer","formControlName","generateOffer"],["value",""],["value","With Schedule"],["value","Without Schedule"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",3,"keypress"],["matInput","","name","installmentFrequency","formControlName","installmentFrequency",3,"keypress"],["matInput","","name","installmentType","formControlName","installmentType",3,"keypress"],["matInput","","name","interest","formControlName","interest",3,"keypress"],["matInput","","name","loanTenure","formControlName","loanTenure","maxlength","10",3,"keypress"],["matInput","","name","principal","formControlName","principal","maxlength","10",3,"keypress"],["matInput","","name","offerIssueDate","formControlName","offerIssueDate",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDOB",""],["align","end"],["mat-button","",3,"click"]],template:function(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Offer Issue Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Applicant Name "),l.Wb(),l.Xb(12,"mat-form-field",5),l.Sb(13,"input",6),l.Wb(),l.Wb(),l.Xb(14,"div",4),l.Xb(15,"mat-label"),l.Tc(16,"Approved Loan Amount"),l.Wb(),l.Xb(17,"mat-form-field",5),l.Xb(18,"input",7),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"div",4),l.Xb(20,"mat-label"),l.Tc(21,"Charges"),l.Wb(),l.Xb(22,"mat-form-field",5),l.Xb(23,"input",8),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(24,"div",9),l.Xb(25,"div",4),l.Xb(26,"mat-label"),l.Tc(27,"Generate Offer"),l.Wb(),l.Xb(28,"mat-form-field",5),l.Xb(29,"mat-select",10),l.Xb(30,"mat-option",11),l.Tc(31,"Select"),l.Wb(),l.Xb(32,"mat-option",12),l.Tc(33,"With Schedule"),l.Wb(),l.Xb(34,"mat-option",13),l.Tc(35,"Without Schedule "),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div",4),l.Xb(37,"mat-label"),l.Tc(38,"Rate Of Interest "),l.Wb(),l.Xb(39,"mat-form-field",5),l.Xb(40,"input",14),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(41,"div",4),l.Xb(42,"mat-label"),l.Tc(43,"Installment frequency"),l.Wb(),l.Xb(44,"mat-form-field",5),l.Xb(45,"input",15),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(46,"div",9),l.Xb(47,"div",4),l.Xb(48,"mat-label"),l.Tc(49,"Installment Type"),l.Wb(),l.Xb(50,"mat-form-field",5),l.Xb(51,"input",16),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(52,"div",4),l.Xb(53,"mat-label"),l.Tc(54,"Interest"),l.Wb(),l.Xb(55,"mat-form-field",5),l.Xb(56,"input",17),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(57,"div",4),l.Xb(58,"mat-label"),l.Tc(59,"Loan Tenure"),l.Wb(),l.Xb(60,"mat-form-field",5),l.Xb(61,"input",18),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(62,"div",9),l.Xb(63,"div",4),l.Xb(64,"mat-label"),l.Tc(65,"Principal"),l.Wb(),l.Xb(66,"mat-form-field",5),l.Xb(67,"input",19),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(68,"div",4),l.Xb(69,"mat-label"),l.Tc(70,"Offer Issue Date"),l.Wb(),l.Xb(71,"mat-form-field",5),l.Sb(72,"input",20),l.Sb(73,"mat-datepicker-toggle",21),l.Sb(74,"mat-datepicker",null,22),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(76,"mat-dialog-actions",23),l.Xb(77,"button",24),l.fc("click",function(){return e.submitForm1()}),l.Tc(78," Update "),l.Wb(),l.Xb(79,"button",24),l.fc("click",function(){return e.goToClose()}),l.Tc(80,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.Dc(75);l.Eb(7),l.rc("formGroup",e.loanOfferIssueForm),l.Eb(65),l.rc("matDatepicker",a),l.Eb(1),l.rc("for",a)}},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.b,v.c,v.r,v.i,v.m,x.a,S.n,O.e,O.g,I.j,O.d,p.c,A.b],styles:[""]}),sm);function dm(t,e){if(1&t&&(l.Xb(0,"mat-option",24),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function mm(t,e){if(1&t&&(l.Xb(0,"mat-option",24),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function pm(t,e){if(1&t&&(l.Xb(0,"mat-option",24),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Uc(a)}}function fm(t,e){if(1&t&&(l.Xb(0,"mat-option",24),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a.branchName),l.Eb(1),l.Uc(a.branchName)}}function hm(t,e){if(1&t&&(l.Xb(0,"mat-option",24),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}function gm(t,e){if(1&t&&(l.Xb(0,"mat-option",24),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.rc("value",a),l.Eb(1),l.Vc(" ",a," ")}}var vm,ym=((vm=function(){function t(e,a,o,i,r,c,s,l,b){n(this,t),this.loader=e,this.apiService=a,this.data=o,this.fb=i,this.ls=r,this.dialogRef=c,this.cdr=s,this.taskSumService=l,this.snack=b,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}return i(t,[{key:"ngOnInit",value:function(){this.loanaccountID=this.data.loanAccountId,this.buildLoanApprovalForm(this.data),this.getLoanDetails(),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.selectedYear=(new Date).getFullYear();for(var t=0;t<=50;t++)this.years.push(t+" year");for(var e=0;e<=11;e++)this.months.push(e+" month");for(var a=0;a<=30;a++)this.days.push(a+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID)}},{key:"assign",value:function(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}},{key:"_keyPress",value:function(t){var e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),/[0-9]/.test(e=e)||t.preventDefault()}},{key:"getDataOnLoad",value:function(){return t=this,n=a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(a,o){function i(t){try{c(n.next(t))}catch(e){o(e)}}function r(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(i,r)}c((n=n.apply(t,[])).next())});var t,e,n}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}},{key:"buildLoanApprovalForm",value:function(t){var e,a,n,o,i,r,c,s,l,b,u,d,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanApprovalForm=this.fb.group({loanAccountId:[this.loanaccountID],productName:[t?null===(e=null==t?void 0:t.loanApprovalInfo)||void 0===e?void 0:e.productName:""],accountBranch:[t?null===(a=null==t?void 0:t.loanApprovalInfo)||void 0===a?void 0:a.accountBranch:""],accountType:[t?null===(n=null==t?void 0:t.loanApprovalInfo)||void 0===n?void 0:n.accountType:""],applicantName:[t?null===(o=null==t?void 0:t.loanApprovalInfo)||void 0===o?void 0:o.applicantName:""],approvedLoanAccount:[t?null===(i=null==t?void 0:t.loanApprovalInfo)||void 0===i?void 0:i.approvedLoanAccount:""],userRecommendation:[t?null===(r=null==t?void 0:t.loanApprovalInfo)||void 0===r?void 0:r.userRecommendation:""],rateOfInterest:[t?null===(c=null==t?void 0:t.loanApprovalInfo)||void 0===c?void 0:c.rateOfInterest:""],margin:[t?null===(s=null==t?void 0:t.loanApprovalInfo)||void 0===s?void 0:s.margin:""],loanTenure:[t?null===(l=null==t?void 0:t.loanApprovalInfo)||void 0===l?void 0:l.loanTenure:""],effectiveRate:[t?null===(b=null==t?void 0:t.loanApprovalInfo)||void 0===b?void 0:b.effectiveRate:""],day:[t?null===(u=null==t?void 0:t.loanApprovalInfo)||void 0===u?void 0:u.loanTenure.split("-")[2]:""],month:[t?null===(d=null==t?void 0:t.loanApprovalInfo)||void 0===d?void 0:d.loanTenure.split("-")[1]:""],year:[t?null===(m=null==t?void 0:t.loanApprovalInfo)||void 0===m?void 0:m.loanTenure.split("-")[0]:""]})}},{key:"getAccountType",value:function(t){var e=this;console.log("State -- ",t),this.apiService.getAccount(t).subscribe(function(t){console.log("data.accountType",t),e.accountType=t.accountTypeName,console.log("this.accountType",e.accountType),e.loanApprovalForm.get("accountType").setValue(t.accountTypeName)})}},{key:"getBusinessProductDetails",value:function(t){var e=this;this.apiService.getBusinessProductName(t).subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getAccountBranchDetails",value:function(){var t=this;this.apiService.getAccountBranch().subscribe(function(e){console.log("data:: AccountBranch ",e),t.screenArray=e,t.screenArrayData=e,0==t.screenArray.length&&t.screenArray.push(t.branchName),console.log("this.branchName::",t.branchName,t.screenArray),t.currencyData=t.screenArray.find(function(e){return e.branchName==t.branchName}),console.log("Currency",t.currencyData)})}},{key:"onChangeBranch",value:function(t){this.currencyData=this.screenArray.find(function(e){return e.branchName==t.value}),null==this.currencyData&&null==this.currencyData||this.loanApprovalForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}},{key:"submitForm1",value:function(){var t=this,e=this.loanApprovalForm.value.year+"-"+this.loanApprovalForm.value.month+"-"+this.loanApprovalForm.value.day;this.loanApprovalForm.get("loanTenure").setValue(e),delete this.loanApprovalForm.value.year,delete this.loanApprovalForm.value.month,delete this.loanApprovalForm.value.day;var a={loanAccountId:this.data.loanAccountId,productName:this.loanApprovalForm.value.productName,accountBranch:this.loanApprovalForm.value.accountBranch,accountType:this.loanApprovalForm.value.accountType,applicantName:this.loanApprovalForm.value.applicantName,margin:this.loanApprovalForm.value.margin,rateOfInterest:this.loanApprovalForm.value.rateOfInterest,userRecommendation:this.loanApprovalForm.value.userRecommendation,effectiveRate:this.loanApprovalForm.value.effectiveRate,loanTenure:this.loanApprovalForm.value.loanTenure,accountCurrency:this.loanApprovalForm.value.accountCurrency,approvedLoanAccount:this.loanApprovalForm.value.approvedLoanAccount};console.log("payload",a),this.apiService.saveLoanDetails(a).subscribe(function(e){console.log("data",e.loanAccountId),t.loanaccountID=t.data.loanAccountId,console.log("loanaccountID",t.loanaccountID),t.assign(t.data.loanAccountId),(200===e||null!==e)&&(t.apiService.updateLoanDetailsStatus({loanAccountId:t.data.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),t.ls.setItem("fundByStatus",{loanAccountid:t.data.loanAccountId}),t.ls.setItem("accountType",e.accountType),t.ls.setItem("productName",e.productName),t.loanaccountID=t.data.loanAccountId,console.log("this.productaccountID",t.loanaccountID),t.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getDataOnLoad()),500===e&&(t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),t.goToClose()})}},{key:"getLoanDetails",value:function(){var t=this;console.log("get loan details"),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.buildLoanApprovalForm(t.loanAccountDetails),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanApprovalForm.value),t.loanApprovalForm.controls.productName.setValue(t.loanAccountDetails.productName),t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanApprovalForm.value.accountType)),t.ls.setItem("accountType",t.loanApprovalForm.value.accountType),t.loanApprovalForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanApprovalForm.value.userRecommendation=t.loanAccountDetails.userRecommendation,t.loanApprovalForm.value.loanTenure=t.loanAccountDetails.loanTenure,t.loanApprovalForm.value.applicantName=t.loanAccountDetails.applicantName,t.loanApprovalForm.value.margin=t.loanAccountDetails.margin,t.loanApprovalForm.value.approvedLoanAccount=t.loanAccountDetails.approvedLoanAccount,t.loanApprovalForm.value.effectiveRate=t.loanAccountDetails.effectiveRate,t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,t.loanApprovalForm.value.productName=t.loanAccountDetails.productName,t.loanApprovalForm.value.rateOfInterest=t.loanAccountDetails.rateOfInterest})}},{key:"goToClose",value:function(){var t=this;this.dialogRef.close(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(function(e){console.log("All Account Service",e),t.buildLoanApprovalForm(t.loanAccountDetails),t.loanAccountDetails=e,console.log("this.accountDetails",t.loanAccountDetails),console.log("form",t.loanApprovalForm.value),t.loanApprovalForm.controls.productName.setValue(t.loanAccountDetails.productName),t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,console.log("accountType",t.ls.setItem("accountType",t.loanApprovalForm.value.accountType)),t.ls.setItem("accountType",t.loanApprovalForm.value.accountType),t.loanApprovalForm.value.accountBranch=t.loanAccountDetails.accountBranch,t.loanApprovalForm.value.userRecommendation=t.loanAccountDetails.userRecommendation,t.loanApprovalForm.value.loanTenure=t.loanAccountDetails.loanTenure,t.loanApprovalForm.value.applicantName=t.loanAccountDetails.applicantName,t.loanApprovalForm.value.margin=t.loanAccountDetails.margin,t.loanApprovalForm.value.approvedLoanAccount=t.loanAccountDetails.approvedLoanAccount,t.loanApprovalForm.value.effectiveRate=t.loanAccountDetails.effectiveRate,t.loanApprovalForm.value.accountType=t.loanAccountDetails.accountType,t.loanApprovalForm.value.productName=t.loanAccountDetails.productName,t.loanApprovalForm.value.rateOfInterest=t.loanAccountDetails.rateOfInterest})}}]),t}()).\u0275fac=function(t){return new(t||vm)(l.Rb(K.a),l.Rb(b.b),l.Rb(p.a),l.Rb(v.f),l.Rb(m.a),l.Rb(p.g),l.Rb(l.h),l.Rb(g.a),l.Rb(W.a))},vm.\u0275cmp=l.Lb({type:vm,selectors:[["app-loan-approval-details-update"]],decls:84,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["fxLayout","row wrap"],["name","mod","formControlName","accountBranch",3,"selectionChange"],["matInput","","name","accountType","formControlName","accountType",1,"alignment",3,"readonly"],["name","account_branch","formControlName","productName",3,"selectionChange"],["matInput","","name","approvedLoanAccount","formControlName","approvedLoanAccount",1,"alignment",3,"keypress"],["matInput","","name","effectiveRate","formControlName","effectiveRate",1,"alignment",3,"keypress"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",1,"alignment",3,"keypress"],["matInput","","name","margin","formControlName","margin",1,"alignment",3,"keypress"],["formControlName","userRecommendation","placeholder","User Recommendation"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Xb(0,"div"),l.Xb(1,"mat-dialog-content"),l.Xb(2,"div",0),l.Xb(3,"mat-icon",1),l.fc("click",function(){return e.goToClose()}),l.Tc(4,"close"),l.Wb(),l.Wb(),l.Xb(5,"h1"),l.Tc(6,"Loan Approval Details"),l.Wb(),l.Xb(7,"form",2),l.Xb(8,"div",3),l.Xb(9,"div",4),l.Xb(10,"mat-label"),l.Tc(11,"Applicant Name "),l.Wb(),l.Xb(12,"mat-form-field",5),l.Sb(13,"input",6),l.Wb(),l.Wb(),l.Xb(14,"div",4),l.Xb(15,"mat-label"),l.Tc(16,"Loan Tenure"),l.Wb(),l.Xb(17,"div",7),l.Xb(18,"div",8),l.Xb(19,"div"),l.Xb(20,"mat-form-field",5),l.Xb(21,"mat-select",9),l.Rc(22,dm,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Xb(23,"div"),l.Xb(24,"mat-form-field",5),l.Xb(25,"mat-select",11),l.Rc(26,mm,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Xb(27,"div"),l.Xb(28,"mat-form-field",5),l.Xb(29,"mat-select",12),l.Rc(30,pm,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(31,"div",4),l.Wb(),l.Xb(32,"div",13),l.Xb(33,"div",4),l.Xb(34,"mat-label"),l.Tc(35,"Account Branch "),l.Wb(),l.Xb(36,"mat-form-field",5),l.Xb(37,"mat-select",14),l.fc("selectionChange",function(t){return e.onChangeBranch(t)}),l.Rc(38,fm,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Xb(39,"div",4),l.Xb(40,"mat-label"),l.Tc(41,"Account Type"),l.Wb(),l.Xb(42,"mat-form-field",5),l.Sb(43,"input",15),l.Wb(),l.Wb(),l.Xb(44,"div",4),l.Xb(45,"mat-label"),l.Tc(46,"Product Name"),l.Wb(),l.Xb(47,"mat-form-field",5),l.Xb(48,"mat-select",16),l.fc("selectionChange",function(t){return e.getAccountType(t.value)}),l.Rc(49,hm,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(50,"div",13),l.Xb(51,"div",4),l.Xb(52,"mat-label"),l.Tc(53,"Approved Loan Amount"),l.Wb(),l.Xb(54,"mat-form-field",5),l.Xb(55,"input",17),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(56,"div",4),l.Xb(57,"mat-label"),l.Tc(58,"Effective Rate"),l.Wb(),l.Xb(59,"mat-form-field",5),l.Xb(60,"input",18),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(61,"div",4),l.Xb(62,"mat-label"),l.Tc(63,"Rate Of Interest"),l.Wb(),l.Xb(64,"mat-form-field",5),l.Xb(65,"input",19),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(66,"div",13),l.Xb(67,"div",4),l.Xb(68,"mat-label"),l.Tc(69,"Margin"),l.Wb(),l.Xb(70,"mat-form-field",5),l.Xb(71,"input",20),l.fc("keypress",function(t){return e._keyPress(t)}),l.Wb(),l.Wb(),l.Wb(),l.Xb(72,"div",4),l.Xb(73,"mat-label"),l.Tc(74,"User Recommendation"),l.Wb(),l.Xb(75,"mat-form-field",5),l.Xb(76,"mat-select",21),l.Rc(77,gm,2,2,"mat-option",10),l.Wb(),l.Wb(),l.Wb(),l.Sb(78,"div",4),l.Wb(),l.Wb(),l.Wb(),l.Xb(79,"mat-dialog-actions",22),l.Xb(80,"button",23),l.fc("click",function(){return e.submitForm1()}),l.Tc(81," Update "),l.Wb(),l.Xb(82,"button",23),l.fc("click",function(){return e.goToClose()}),l.Tc(83,"Close"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(7),l.rc("formGroup",e.loanApprovalForm),l.Eb(15),l.rc("ngForOf",e.years),l.Eb(4),l.rc("ngForOf",e.months),l.Eb(4),l.rc("ngForOf",e.days),l.Eb(8),l.rc("ngForOf",e.screenArray),l.Eb(5),l.rc("readonly",!0),l.Eb(6),l.rc("ngForOf",e.arrayAccountBranch),l.Eb(28),l.rc("ngForOf",e.arrayUserRecommendation))},directives:[p.e,X.e,T.a,v.A,v.s,v.j,X.b,I.g,I.c,C.b,v.c,v.r,v.i,X.f,X.d,x.a,c.m,p.c,A.b,S.n],styles:[""]}),vm);function Wm(t,e){if(1&t&&(l.Xb(0,"span",76),l.Tc(1),l.Wb()),2&t){var a=e.$implicit;l.Eb(1),l.Uc(a)}}function Xm(t,e){if(1&t&&(l.Xb(0,"div",77),l.Xb(1,"h1",78),l.Tc(2),l.kc(3,"slice"),l.kc(4,"uppercase"),l.kc(5,"slice"),l.kc(6,"uppercase"),l.Wb(),l.Wb()),2&t){var a=l.jc();l.Oc("background",a.customerColorCode),l.Eb(2),l.Wc("",l.nc(3,4,l.lc(4,8,a.loanInfo.firstName),0,1),"",l.nc(5,10,l.lc(6,14,a.loanInfo.lastName),0,1),"")}}function Tm(t,e){if(1&t&&l.Sb(0,"img",80),2&t){var a=l.jc(2);l.rc("src",a.imageUrl,l.Jc)}}function Im(t,e){if(1&t&&(l.Xb(0,"div",77),l.Rc(1,Tm,1,1,"img",79),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.rc("ngIf","not_available"!=a.imageUrl)}}function Em(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().onEdit("loanAccount_array")}),l.Tc(1,"edit"),l.Wb()}}function Cm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().onEdit("loanAccount_array")}),l.Tc(1,"edit"),l.Wb()}}function xm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().onEdit("loanAccount_array")}),l.Tc(1,"edit"),l.Wb()}}function Om(t,e){if(1&t&&(l.Xb(0,"div",93),l.Xb(1,"small",94),l.Tc(2),l.Wb(),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(2),l.Vc("CIF #",null==a?null:a.cifNumber,"")}}function Dm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",95),l.fc("click",function(){return l.Hc(a),l.jc(2).goTo360Dashboard()}),l.Xb(1,"small",94),l.Tc(2),l.Wb(),l.Wb()}if(2&t){var n=l.jc().$implicit;l.Eb(2),l.Vc("CIF #",null==n?null:n.cifNumber,"")}}function Am(t,e){if(1&t&&(l.Xb(0,"div",62),l.Xb(1,"div",38),l.Xb(2,"mat-card"),l.Xb(3,"div",62),l.Xb(4,"div",82),l.Sb(5,"img",83),l.Wb(),l.Xb(6,"div",84),l.Xb(7,"div",85),l.Xb(8,"div"),l.Xb(9,"div",62),l.Xb(10,"div",86),l.Xb(11,"h2",87),l.Xb(12,"span"),l.Tc(13),l.Wb(),l.Tc(14,"\xa0 "),l.Xb(15,"span"),l.Tc(16),l.Wb(),l.Tc(17,"\xa0 "),l.Xb(18,"span"),l.Tc(19),l.Wb(),l.Wb(),l.Wb(),l.Xb(20,"div",88),l.Tc(21,"|"),l.Wb(),l.Xb(22,"div",86),l.Xb(23,"small",48),l.Tc(24),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div",62),l.Rc(26,Om,3,1,"div",89),l.Rc(27,Dm,3,1,"div",90),l.Wb(),l.Sb(28,"br"),l.Xb(29,"div",91),l.Xb(30,"div",92),l.Xb(31,"small",47),l.Tc(32,"Date of Birth"),l.Wb(),l.Sb(33,"br"),l.Xb(34,"p",48),l.Tc(35),l.Wb(),l.Wb(),l.Xb(36,"div",92),l.Xb(37,"small",47),l.Tc(38,"Email ID"),l.Wb(),l.Sb(39,"br"),l.Xb(40,"p",48),l.Tc(41),l.Wb(),l.Wb(),l.Xb(42,"div",92),l.Xb(43,"small",47),l.Tc(44,"Mobile Number"),l.Wb(),l.Sb(45,"br"),l.Xb(46,"p",48),l.Tc(47),l.Wb(),l.Wb(),l.Xb(48,"div",92),l.Xb(49,"small",47),l.Tc(50,"Landline Number"),l.Wb(),l.Sb(51,"br"),l.Xb(52,"p",48),l.Tc(53),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=l.jc();l.Eb(13),l.Uc(null==a?null:a.firstName),l.Eb(3),l.Uc(null==a?null:a.middleName),l.Eb(3),l.Uc(null==a?null:a.lastName),l.Eb(5),l.Vc("Last Updated On ",null!=a&&a.modifiedTime?a.modifiedTime:a.createdTime,""),l.Eb(2),l.rc("ngIf",!n.isApprovedSreen),l.Eb(1),l.rc("ngIf",n.isApprovedSreen),l.Eb(8),l.Uc(null==a?null:a.dateOfBirth),l.Eb(6),l.Uc(null==a?null:a.primaryEmailAdress),l.Eb(6),l.Uc(null==a?null:a.phoneNumber),l.Eb(6),l.Uc(null==a?null:a.landlineNumber)}}function Rm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editMandate()}),l.Tc(1,"edit"),l.Wb()}}function Sm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",96),l.Xb(1,"mat-accordion",97),l.Xb(2,"mat-expansion-panel",98),l.fc("opened",function(){return l.Hc(a),l.jc().panelOpenState=!0})("closed",function(){return l.Hc(a),l.jc().panelOpenState=!1}),l.Xb(3,"mat-expansion-panel-header"),l.Xb(4,"mat-panel-title"),l.Tc(5),l.Wb(),l.Wb(),l.Xb(6,"div"),l.Xb(7,"div",52),l.Vb(8),l.Xb(9,"div",53),l.Xb(10,"mat-hint",35),l.Tc(11,"Applicant Name"),l.Wb(),l.Sb(12,"br"),l.Xb(13,"mat-hint",36),l.Tc(14),l.Wb(),l.Wb(),l.Xb(15,"div",53),l.Xb(16,"mat-hint",35),l.Tc(17,"Collateral Share Percentage"),l.Wb(),l.Sb(18,"br"),l.Xb(19,"mat-hint",36),l.Tc(20),l.Wb(),l.Wb(),l.Xb(21,"div",53),l.Xb(22,"mat-hint",35),l.Tc(23,"Repayment Share Percentage"),l.Wb(),l.Sb(24,"br"),l.Xb(25,"mat-hint",36),l.Tc(26),l.Wb(),l.Wb(),l.Ub(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index;l.Eb(5),l.Vc(" Mandate ",o+1," "),l.Eb(9),l.Uc(n.applicantName),l.Eb(6),l.Uc(n.collateralShare),l.Eb(6),l.Uc(n.repaymentShare)}}function km(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editCollateral()}),l.Tc(1,"edit"),l.Wb()}}function Nm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",53),l.Xb(1,"mat-hint",47),l.Tc(2,"Secondary Charge Allowed ?"),l.Wb(),l.Sb(3,"br"),l.Xb(4,"div",100),l.Xb(5,"mat-slide-toggle",101),l.fc("change",function(){return l.Hc(a),l.jc(3).stayTrue1()}),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=l.jc().$implicit;l.Eb(5),l.rc("checked",n.secondaryChargeAllowed)}}function Pm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",96),l.Xb(1,"mat-accordion",97),l.Xb(2,"mat-expansion-panel",98),l.fc("opened",function(){return l.Hc(a),l.jc(2).panelOpenState=!0})("closed",function(){return l.Hc(a),l.jc(2).panelOpenState=!1}),l.Xb(3,"mat-expansion-panel-header"),l.Xb(4,"mat-panel-title"),l.Tc(5),l.Wb(),l.Wb(),l.Xb(6,"div"),l.Xb(7,"div",52),l.Vb(8),l.Xb(9,"div",53),l.Xb(10,"div",35),l.Tc(11,"Number Of Collateral"),l.Wb(),l.Sb(12,"br"),l.Xb(13,"div",36),l.Tc(14),l.Wb(),l.Wb(),l.Xb(15,"div",53),l.Xb(16,"div",35),l.Tc(17,"Total Collateral Value"),l.Wb(),l.Sb(18,"br"),l.Xb(19,"div",36),l.Tc(20),l.Wb(),l.Wb(),l.Xb(21,"div",53),l.Xb(22,"div",35),l.Tc(23,"Utilized Previously"),l.Wb(),l.Sb(24,"br"),l.Xb(25,"div",36),l.Tc(26),l.Wb(),l.Wb(),l.Xb(27,"div",53),l.Xb(28,"div",35),l.Tc(29,"Cover Available"),l.Wb(),l.Sb(30,"br"),l.Xb(31,"div",36),l.Tc(32),l.Wb(),l.Wb(),l.Rc(33,Nm,6,1,"div",99),l.Ub(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=e.index;l.Eb(5),l.Vc(" Collateral ",o+1," "),l.Eb(9),l.Uc(n.noOfCollateral),l.Eb(6),l.Uc(n.totalCollateralValue),l.Eb(6),l.Uc(n.utilizedPreviously),l.Eb(6),l.Uc(n.coverAvailable),l.Eb(1),l.rc("ngIf",null!=n)}}function Fm(t,e){if(1&t&&(l.Xb(0,"div",54),l.Rc(1,Pm,34,6,"div",55),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.rc("ngForOf",a.colateral_array.collateralDetails)}}function Lm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editGuarantor()}),l.Tc(1,"edit"),l.Wb()}}function _m(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().onEdit()}),l.Tc(1,"edit"),l.Wb()}}function wm(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"div",102),l.Xb(2,"div"),l.Xb(3,"mat-card",103),l.Xb(4,"div"),l.Xb(5,"div",35),l.Tc(6,"Interest Type"),l.Wb(),l.Xb(7,"div",36),l.Tc(8),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"div"),l.Xb(10,"mat-card",103),l.Xb(11,"div"),l.Xb(12,"div",35),l.Tc(13,"Effective Rate"),l.Wb(),l.Xb(14,"div",36),l.Tc(15),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(16,"div"),l.Xb(17,"mat-card",103),l.Xb(18,"div"),l.Xb(19,"div",35),l.Tc(20,"Applicable Interest Rate"),l.Wb(),l.Xb(21,"div",36),l.Tc(22),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(23,"div"),l.Xb(24,"mat-card",103),l.Xb(25,"div"),l.Xb(26,"div",35),l.Tc(27,"Margin In %"),l.Wb(),l.Xb(28,"div",36),l.Tc(29),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(8),l.Uc(null==a?null:a.intrestType),l.Eb(7),l.Uc(null==a?null:a.effectiveRate),l.Eb(7),l.Uc(null==a?null:a.intrestRateApplicable),l.Eb(7),l.Uc(null==a?null:a.marginIn)}}function Um(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editDisbursement("loanDisbusment_array")}),l.Tc(1,"edit"),l.Wb()}}function Mm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editRepaymentInfo("loanRepayment_array")}),l.Tc(1,"edit"),l.Wb()}}function Gm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().onEdit()}),l.Tc(1,"edit"),l.Wb()}}function Vm(t,e){if(1&t&&(l.Xb(0,"mat-card"),l.Xb(1,"div",102),l.Xb(2,"div"),l.Xb(3,"mat-card",103),l.Xb(4,"div"),l.Xb(5,"div",35),l.Tc(6,"Amount"),l.Wb(),l.Xb(7,"div",36),l.Tc(8),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(9,"div"),l.Xb(10,"mat-card",103),l.Xb(11,"div"),l.Xb(12,"div",35),l.Tc(13,"Charge Details ID"),l.Wb(),l.Xb(14,"div",36),l.Tc(15),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(16,"div"),l.Xb(17,"mat-card",103),l.Xb(18,"div"),l.Xb(19,"div",35),l.Tc(20,"Interest Type"),l.Wb(),l.Xb(21,"div",36),l.Tc(22),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(23,"div"),l.Xb(24,"mat-card",103),l.Xb(25,"div"),l.Xb(26,"div",35),l.Tc(27,"Waiver"),l.Wb(),l.Xb(28,"div",36),l.Tc(29),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit;l.Eb(8),l.Uc(null==a?null:a.amout),l.Eb(7),l.Uc(null==a?null:a.chargeDetailsId),l.Eb(7),l.Uc(null==a?null:a.intrestType),l.Eb(7),l.Uc(null==a?null:a.waiver)}}function jm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editCreditInfo("loanCreditScore_array")}),l.Tc(1,"edit"),l.Wb()}}function Bm(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div",32),l.Sb(2,"div",33),l.Xb(3,"div",34),l.Xb(4,"div",35),l.Tc(5,"Customer Name"),l.Wb(),l.Xb(6,"div",36),l.Tc(7),l.Wb(),l.Wb(),l.Xb(8,"div",34),l.Xb(9,"div",35),l.Tc(10,"Agency Name"),l.Wb(),l.Xb(11,"div",36),l.Tc(12),l.Wb(),l.Wb(),l.Xb(13,"div",34),l.Xb(14,"div",35),l.Tc(15,"Remarks"),l.Wb(),l.Xb(16,"div",36),l.Tc(17),l.Wb(),l.Wb(),l.Xb(18,"div",34),l.Xb(19,"div",35),l.Tc(20,"Ratings"),l.Wb(),l.Xb(21,"div",36),l.Tc(22),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=l.jc(2);l.Eb(7),l.Uc(null==n.loanCreditScore_array?null:n.loanCreditScore_array.customerName),l.Eb(5),l.Uc(a.agencyName),l.Eb(5),l.Uc(a.remarks),l.Eb(5),l.Uc(a.ratings)}}function zm(t,e){if(1&t&&(l.Xb(0,"mat-card",31),l.Xb(1,"mat-card-content"),l.Rc(2,Bm,23,4,"div",58),l.Wb(),l.Wb()),2&t){var a=l.jc();l.Eb(2),l.rc("ngForOf",a.loanCreditScore_array.agencyRating)}}function qm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editValuationOfAsset("valueofassest_array")}),l.Tc(1,"edit"),l.Wb()}}function Jm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editLegalOpinion("legaopninio_array")}),l.Tc(1,"edit"),l.Wb()}}function Km(t,e){if(1&t&&(l.Xb(0,"div",107),l.Xb(1,"mat-card",108),l.Xb(2,"div"),l.Tc(3),l.Wb(),l.Xb(4,"div",109),l.Tc(5),l.Wb(),l.Wb(),l.Xb(6,"mat-card",108),l.Xb(7,"div"),l.Tc(8,"Score"),l.Wb(),l.Xb(9,"div",109),l.Tc(10),l.Wb(),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=e.index;l.Eb(3),l.Wc("",n+1,".",a.scorecardQuestion,""),l.Eb(2),l.Uc(a.scorecardAnswer),l.Eb(5),l.Uc(a.scoreData)}}function $m(t,e){if(1&t&&(l.Xb(0,"div"),l.Xb(1,"div",104),l.Tc(2),l.Wb(),l.Xb(3,"div",105),l.Rc(4,Km,11,4,"div",106),l.Wb(),l.Wb()),2&t){var a=e.$implicit,n=e.index,o=l.jc();l.Eb(2),l.Vc("Applicant ",a.applicantId,""),l.Eb(2),l.rc("ngForOf",null==o.qualitativeScoreboardSummary?null:o.qualitativeScoreboardSummary.scoreCardMapping[n].scoreCardDetails)}}function Hm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editAssessmentInfo("loanassement_array")}),l.Tc(1,"edit"),l.Wb()}}function Ym(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editOfferIssueInfo("offerissue_array")}),l.Tc(1,"edit"),l.Wb()}}function Zm(t,e){if(1&t){var a=l.Yb();l.Xb(0,"mat-icon",81),l.fc("click",function(){return l.Hc(a),l.jc().editOfferIssueInfo("offerissue_array")}),l.Tc(1,"edit"),l.Wb()}}function Qm(t,e){if(1&t&&(l.Xb(0,"mat-card",31),l.Xb(1,"mat-card-content"),l.Xb(2,"div",32),l.Sb(3,"div",33),l.Xb(4,"div",34),l.Xb(5,"div",35),l.Tc(6,"Applicant Name"),l.Wb(),l.Xb(7,"div",36),l.Tc(8),l.Wb(),l.Wb(),l.Xb(9,"div",34),l.Xb(10,"div",35),l.Tc(11,"Approved Loan Amount"),l.Wb(),l.Xb(12,"div",36),l.Tc(13),l.Wb(),l.Wb(),l.Xb(14,"div",34),l.Xb(15,"div",35),l.Tc(16,"Loan Tenure"),l.Wb(),l.Xb(17,"div",36),l.Tc(18),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"div",32),l.Sb(20,"div",33),l.Xb(21,"div",34),l.Xb(22,"div",35),l.Tc(23,"Installment Type"),l.Wb(),l.Xb(24,"div",36),l.Tc(25),l.Wb(),l.Wb(),l.Xb(26,"div",34),l.Xb(27,"div",35),l.Tc(28,"Installment Frequency"),l.Wb(),l.Xb(29,"div",36),l.Tc(30),l.Wb(),l.Wb(),l.Xb(31,"div",34),l.Xb(32,"div",35),l.Tc(33,"Rate Of Interest(in %)"),l.Wb(),l.Xb(34,"div",36),l.Tc(35),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div",32),l.Sb(37,"div",33),l.Xb(38,"div",34),l.Xb(39,"div",35),l.Tc(40,"Offer Issue Date"),l.Wb(),l.Xb(41,"div",36),l.Tc(42),l.Wb(),l.Wb(),l.Xb(43,"div",34),l.Xb(44,"div",35),l.Tc(45,"Generate Offer"),l.Wb(),l.Xb(46,"div",36),l.Tc(47),l.Wb(),l.Wb(),l.Xb(48,"div",34),l.Xb(49,"div",35),l.Tc(50,"Offer Expiry Date"),l.Wb(),l.Xb(51,"div",36),l.Tc(52),l.Wb(),l.Wb(),l.Wb(),l.Xb(53,"div",32),l.Sb(54,"div",33),l.Xb(55,"div",34),l.Xb(56,"div",35),l.Tc(57,"Date Of Offer Accept/Reject"),l.Wb(),l.Xb(58,"div",36),l.Tc(59),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc();l.Eb(8),l.Uc(a.offerDetails.applicantName),l.Eb(5),l.Uc(null==a.offerDetails?null:a.offerDetails.approvedLoanAmount),l.Eb(5),l.Uc(null==a.offerDetails?null:a.offerDetails.loanTenure),l.Eb(7),l.Uc(a.offerDetails.installmentType),l.Eb(5),l.Uc(a.offerDetails.installmentFrequency),l.Eb(5),l.Uc(a.offerDetails.rateOfInterest),l.Eb(7),l.Uc(a.offerDetails.offerIssueDate),l.Eb(5),l.Uc(a.offerDetails.generateOffer),l.Eb(5),l.Uc(a.offerDetails.offerExpiryDate),l.Eb(7),l.Uc(a.offerDetails.dateOfOfferAcceptOrReject)}}function tp(t,e){if(1&t&&(l.Xb(0,"mat-card",31),l.Xb(1,"mat-card-content"),l.Xb(2,"div",32),l.Sb(3,"div",33),l.Xb(4,"div",34),l.Xb(5,"div",35),l.Tc(6,"Applicant Name"),l.Wb(),l.Xb(7,"div",36),l.Tc(8),l.Wb(),l.Wb(),l.Xb(9,"div",34),l.Xb(10,"div",35),l.Tc(11,"Offer Issue Date"),l.Wb(),l.Xb(12,"div",36),l.Tc(13),l.Wb(),l.Wb(),l.Xb(14,"div",34),l.Xb(15,"div",35),l.Tc(16,"Offer Exipiry Date"),l.Wb(),l.Xb(17,"div",36),l.Tc(18),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"div",32),l.Sb(20,"div",33),l.Xb(21,"div",34),l.Xb(22,"div",35),l.Tc(23,"Offer Amend Date"),l.Wb(),l.Xb(24,"div",36),l.Tc(25),l.Wb(),l.Wb(),l.Xb(26,"div",34),l.Xb(27,"div",35),l.Tc(28,"Approved Loan Amount"),l.Wb(),l.Xb(29,"div",36),l.Tc(30),l.Wb(),l.Wb(),l.Xb(31,"div",34),l.Xb(32,"div",35),l.Tc(33,"Loan Amount Recommended"),l.Wb(),l.Xb(34,"div",36),l.Tc(35),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div",32),l.Sb(37,"div",33),l.Xb(38,"div",34),l.Xb(39,"div",35),l.Tc(40,"Loan Tenure"),l.Wb(),l.Xb(41,"div",36),l.Tc(42),l.Wb(),l.Wb(),l.Xb(43,"div",34),l.Xb(44,"div",35),l.Tc(45,"Installment Type"),l.Wb(),l.Xb(46,"div",36),l.Tc(47),l.Wb(),l.Wb(),l.Xb(48,"div",34),l.Xb(49,"div",35),l.Tc(50,"Rate Of Interest(%)"),l.Wb(),l.Xb(51,"div",36),l.Tc(52),l.Wb(),l.Wb(),l.Wb(),l.Xb(53,"div",32),l.Sb(54,"div",33),l.Xb(55,"div",34),l.Xb(56,"div",35),l.Tc(57,"Margin(%))"),l.Wb(),l.Xb(58,"div",36),l.Tc(59),l.Wb(),l.Wb(),l.Xb(60,"div",34),l.Xb(61,"div",35),l.Tc(62,"Effective Rate(%)"),l.Wb(),l.Xb(63,"div",36),l.Tc(64),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc();l.Eb(8),l.Uc(a.postOfferDetails.applicantName),l.Eb(5),l.Uc(a.postOfferDetails.offerIssueDate),l.Eb(5),l.Uc(a.postOfferDetails.offerExpiryDate),l.Eb(7),l.Uc(a.postOfferDetails.offerAmendDate),l.Eb(5),l.Uc(a.postOfferDetails.approvedLoanAmount),l.Eb(5),l.Uc(a.postOfferDetails.loanAmmountRecommended),l.Eb(7),l.Uc(a.postOfferDetails.loanTenure),l.Eb(5),l.Uc(a.postOfferDetails.installmentType),l.Eb(5),l.Uc(a.postOfferDetails.rateOfInterest),l.Eb(7),l.Uc(a.postOfferDetails.margin),l.Eb(5),l.Uc(a.postOfferDetails.effectiveRate)}}function ep(t,e){if(1&t&&(l.Xb(0,"mat-card",31),l.Xb(1,"mat-card-content"),l.Xb(2,"div",32),l.Sb(3,"div",33),l.Xb(4,"div",34),l.Xb(5,"div",35),l.Tc(6,"Applicant Name"),l.Wb(),l.Xb(7,"div",36),l.Tc(8),l.Wb(),l.Wb(),l.Xb(9,"div",34),l.Xb(10,"div",35),l.Tc(11,"Approved Loan Amount"),l.Wb(),l.Xb(12,"div",36),l.Tc(13),l.Wb(),l.Wb(),l.Xb(14,"div",34),l.Xb(15,"div",35),l.Tc(16,"Offer Issue Date"),l.Wb(),l.Xb(17,"div",36),l.Tc(18),l.Wb(),l.Wb(),l.Wb(),l.Xb(19,"div",32),l.Sb(20,"div",33),l.Xb(21,"div",34),l.Xb(22,"div",35),l.Tc(23,"Offer Accepted Date"),l.Wb(),l.Xb(24,"div",36),l.Tc(25),l.Wb(),l.Wb(),l.Xb(26,"div",34),l.Xb(27,"div",35),l.Tc(28,"Loan Tenure"),l.Wb(),l.Xb(29,"div",36),l.Tc(30),l.Wb(),l.Wb(),l.Xb(31,"div",34),l.Xb(32,"div",35),l.Tc(33,"Installment Type"),l.Wb(),l.Xb(34,"div",36),l.Tc(35),l.Wb(),l.Wb(),l.Wb(),l.Xb(36,"div",32),l.Sb(37,"div",33),l.Xb(38,"div",34),l.Xb(39,"div",35),l.Tc(40,"Installment Frequency"),l.Wb(),l.Xb(41,"div",36),l.Tc(42),l.Wb(),l.Wb(),l.Xb(43,"div",34),l.Xb(44,"div",35),l.Tc(45,"Rate of Interest"),l.Wb(),l.Xb(46,"div",36),l.Tc(47),l.Wb(),l.Wb(),l.Xb(48,"div",34),l.Xb(49,"div",35),l.Tc(50,"Principal"),l.Wb(),l.Xb(51,"div",36),l.Tc(52),l.Wb(),l.Wb(),l.Wb(),l.Xb(53,"div",32),l.Sb(54,"div",33),l.Xb(55,"div",34),l.Xb(56,"div",35),l.Tc(57,"Interest"),l.Wb(),l.Xb(58,"div",36),l.Tc(59),l.Wb(),l.Wb(),l.Xb(60,"div",34),l.Xb(61,"div",35),l.Tc(62,"Installment Amount"),l.Wb(),l.Xb(63,"div",36),l.Tc(64),l.Wb(),l.Wb(),l.Xb(65,"div",34),l.Xb(66,"div",35),l.Tc(67,"Charges"),l.Wb(),l.Xb(68,"div",36),l.Tc(69),l.Wb(),l.Wb(),l.Wb(),l.Xb(70,"div",32),l.Sb(71,"div",33),l.Xb(72,"div",34),l.Xb(73,"div",35),l.Tc(74,"Disbursement Amount"),l.Wb(),l.Xb(75,"div",36),l.Tc(76),l.Wb(),l.Wb(),l.Xb(77,"div",34),l.Xb(78,"div",35),l.Tc(79,"Repayment Amount"),l.Wb(),l.Xb(80,"div",36),l.Tc(81),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t){var a=l.jc();l.Eb(8),l.Uc(a.accountCreateValue.applicantName),l.Eb(5),l.Uc(a.accountCreateValue.approvedLoanAmount),l.Eb(5),l.Uc(a.accountCreateValue.offerIssueDate.slice(0,12)),l.Eb(7),l.Uc(a.accountCreateValue.offerAcceptedDate.slice(0,12)),l.Eb(5),l.Uc(a.accountCreateValue.loanTenure),l.Eb(5),l.Uc(a.accountCreateValue.installmentType),l.Eb(7),l.Uc(a.accountCreateValue.installmentFrequency),l.Eb(5),l.Uc(a.accountCreateValue.rateOfInterest),l.Eb(5),l.Uc(a.accountCreateValue.principal),l.Eb(7),l.Uc(a.accountCreateValue.interest),l.Eb(5),l.Uc(a.accountCreateValue.installmentAmount),l.Eb(5),l.Uc(a.accountCreateValue.charges),l.Eb(7),l.Uc(a.accountCreateValue.disbursementAmount),l.Eb(5),l.Uc(a.accountCreateValue.repaymentAmount)}}function ap(t,e){if(1&t&&(l.Xb(0,"div",36),l.Xb(1,"a",110),l.Tc(2,"link"),l.Wb(),l.Sb(3,"link"),l.Wb()),2&t){var a=l.jc();l.Eb(1),l.sc("href",a.signatureData.fileUrl,l.Jc)}}var np,op=function(t,e){return{disabledbtn:t,continueBtn:e}},ip=function(t,e){return{disabledbtn:t,rejectButton:e}},rp=function(t,e){return{disabledbtn:t,approveButton:e}},cp=((np=function(){function t(e,a,o,i,r,c,s,l,b,u,d,m,p,f,h,g){n(this,t),this.taskSumService=e,this.ls=a,this.api=o,this.dialogService=i,this.router=r,this.cdr=c,this.dialog=s,this.snack=l,this.tasksummaryService=b,this.appApiService=u,this.loader=d,this.apiService=m,this.sanitizer=p,this.dataResponse=f,this.dialogRef=h,this.jwtService=g,this.updateLoanDetails=!1,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}return i(t,[{key:"ngOnInit",value:function(){console.log("dataResponse.dataResp.loanAccountId",this.dataResponse.dataResp.loanAccountId),this.loanAccountId=this.dataResponse.dataResp.loanAccountId,this.status=this.dataResponse.dataResp.status,this.loanInfo=this.dataResponse.dataResp,this.ls.setItem("CIF_NUM_PRIMARY",this.loanInfo.customerId),this.ls.setItem("NAME",this.loanInfo.firstName+" "+this.loanInfo.lastName),this.getCustomerInfoDetails(),this.getMandateDetails(),this.fetchOfferAcceptRejectDetails(this.loanAccountId),this.fetchPostOfferAmendmentDetails(),this.getAccountCreateDetails(),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId),this.getProfileImage(this.loanInfo.customerId)}},{key:"getAllData",value:function(t){var e=this;this.api.getLoanQualitativeScorecardDetails(this.loanAccountId).subscribe(function(t){e.qualitativeScoreboardSummary=t})}},{key:"getLoanAccountInfo",value:function(t){var e=this;this.taskSumService.getLoanAccountDetails(t).subscribe(function(t){console.log("data",t),e.loanTaskDetails=t,e.loanAccount_array=t,e.createDataInfo=Object.values(t)[20],console.log(Object.values(t)),console.log(Object.values(t)[0]),e.loanAccount_array=Object.values(t)[0],e.assest_array=Object.values(t)[1],e.mandate_array=Object.values(t)[4],console.log("mandate_array",e.mandate_array.mandateId),e.colateral_array=Object.values(t)[6],console.log("collateral",e.colateral_array),console.log("collateral obj",Object.values(t)[6]),console.log(Object.values(t)),e.guranator_array=Object.values(t)[7],e.loanInterest_array=Object.values(t)[8],e.loanDisbusment_array=Object.values(t)[9],e.loanRepayment_array=Object.values(t)[10],e.loanCharge_array=Object.values(t)[11],e.accountService_array=Object.values(t)[12],e.loanCreditScore_array=Object.values(t)[13],e.valueofassest_array=Object.values(t)[14],e.legaopninio_array=Object.values(t)[15],e.loanassement_array=Object.values(t)[16],e.loanapproval_array=Object.values(t)[17],e.offerissue_array=Object.values(t)[18],"REJECTED"===Object.values(t)[0].status?(e.approvedStatus=!0,e.rejectedStatus=!0,e.editScreen=!1,e.continueStatus=!0):"APPROVED"===Object.values(t)[0].status?(e.approvedStatus=!0,e.rejectedStatus=!0,e.editScreen=!0,e.continueStatus=!0):"ONGOING"===Object.values(t)[0].status?(e.approvedStatus=!0,e.rejectedStatus=!1,e.editScreen=!1,e.continueStatus=!1):"BACKLOG"===Object.values(t)[0].status&&(e.approvedStatus=!1,e.rejectedStatus=!1,e.editScreen=!1,e.continueStatus=!0)})}},{key:"goToLoanAccount",value:function(){console.log("Navigating to edit screen"),this.ls.setItem("LOAN_ACC_ARRAY",this.loanAccount_array),console.log(this.loanAccount_array),this.api.updateLoanDetailsStatus({loanAccountId:this.loanAccount_array.loanAccountId,status:"ONGOING"}).subscribe(function(t){}),this.router.navigateByUrl("/loan/account/list"),this.dialogRef.close({message:"Confirm"})}},{key:"editAsset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openPopUp1(t)}},{key:"editGuarantor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openGuarantor(t)}},{key:"openGuarantor",value:function(t){var e=this;this.dialog.open(Bd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,gurantorInfo:this.guranator_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editDisbursement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openDisbursement(t)}},{key:"openDisbursement",value:function(t){var e=this;this.dialog.open(zd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,disbursementInfo:this.loanDisbusment_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editRepaymentInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openRepaymentInfo(t)}},{key:"openRepaymentInfo",value:function(t){var e=this;this.dialog.open(Qd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanRepaymentInfo:this.loanRepayment_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editValuationOfAsset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openValuationOfAssetInfo(t)}},{key:"openValuationOfAssetInfo",value:function(t){var e=this;this.dialog.open(em,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanValuationOfAssetInfo:this.valueofassest_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editLegalOpinion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openLegalOpnionInfo(t)}},{key:"openLegalOpnionInfo",value:function(t){var e=this;this.dialog.open(am,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanLegalInfo:this.legaopninio_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editAssessmentInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openAssessmentInfo(t)}},{key:"openAssessmentInfo",value:function(t){var e=this;this.dialog.open(bm,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanAssessmentInfo:this.loanassement_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editOfferIssueInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openOfferIssueInfo(t)}},{key:"openOfferIssueInfo",value:function(t){var e=this;this.dialog.open(um,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanOfferIssueInfo:this.offerissue_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editApprovalInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openApprovalInfo(t)}},{key:"openApprovalInfo",value:function(t){var e=this;this.dialog.open(ym,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanApprovalInfo:this.loanapproval_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editCreditInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openCreditInfo(t)}},{key:"openCreditInfo",value:function(t){var e=this;this.dialog.open(tm,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanCreditInfo:this.loanCreditScore_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"onEdit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("edit"),this.loanAccount_array&&this.openPopUp(t)}},{key:"openPopUp",value:function(t){var e=this;this.dialog.open(Xd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,info:this.loanAccount_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"openPopUp1",value:function(t){var e=this;this.dialog.open(Od,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,assetInfo:this.assest_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"openCollateralPopup",value:function(t){var e=this;this.dialog.open(_d,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,collateralInfo:this.colateral_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"editCollateral",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("edit"),this.openCollateralPopup(t)}},{key:"editMandate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("edit"),this.openMandate(t)}},{key:"openMandate",value:function(t){var e=this;this.dialog.open(Rd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,mandateInfo:this.mandate_array,editType:t}}).afterClosed().subscribe(function(t){console.log("dialog closed-- ",t),e.getLoanAccountInfo(e.loanAccountId),e.getAllData(e.loanAccountId)})}},{key:"close",value:function(t){this.dialogRef.close({message:"Confirm",data:t})}},{key:"getCustomerInfoDetails",value:function(){var t=this;this.appApiService.fetchCustomersByLoanAccId(this.loanAccountId,"loan").subscribe(function(e){e.data&&(t.customerInfoDetails=e.data,t.ownership=t.customerInfoDetails[0].ownership,t.noOfApplicants=t.customerInfoDetails[0].numOfApplicants)},function(e){t.loader.close()})}},{key:"getProfileImage",value:function(t){var e=this;this.image=null,null!=this.loanInfo.customerId&&this.api.getProfileDetails(t).subscribe(function(t){null!=t.profileImage&&(e.imageUrl=t.profileImage,e.image=e.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl)),t.signatures&&(e.signatureData=t.signatures[0],e.ls.setItem("signedImage",e.signatureData.fileUrl))},function(t){console.log(t)})}},{key:"getMandateDetails",value:function(){var t=this;this.apiService.getMandateDetailsByLoanAccId(this.loanAccountId).subscribe(function(e){t.mandateDetails=e,t.mandateDetailsArray=e.mandateDetails},function(t){})}},{key:"stayTrue1",value:function(){this.colateral_array.collateralDetails.secondaryChargeAllowed=!0}},{key:"fetchOfferAcceptRejectDetails",value:function(t){var e=this;this.apiService.getofferDetails(t).subscribe(function(t){e.offerDetails=t})}},{key:"fetchPostOfferAmendmentDetails",value:function(){var t=this;this.apiService.getOfferAmendmentDetails(this.loanAccountId).subscribe(function(e){t.postOfferDetails=e,console.log("details",t.postOfferDetails)})}},{key:"getAccountCreateDetails",value:function(){var t=this;this.api.getAccountCreateDetails(this.loanAccountId).subscribe(function(e){t.accountCreateValue=e})}},{key:"updateApplicationStatus",value:function(t,e){var a=this;console.log("data : ",t),t.status=e;var n=e;this.accStatus=e,this.tasksummaryService.updateLoanAccStatus({status:e,loanAccountId:t.loanAccountId}).subscribe(function(t){null!=t.loanAccountId||""!=t.loanAccountId||""!=t.loanAccountId?(a.close(n),a.cdr.markForCheck(),a.cdr.detectChanges(),a.dialogRef.close({message:"Confirm",data:n}),a.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),a.cdr.markForCheck()):a.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(t){console.log("error resp :: ",t),a.errorStatus=e,a.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"continue",value:function(){var t,e,a,n,o,i,r;this.ls.setItem("loanAccountId",null===(t=this.loanAccount_array)||void 0===t?void 0:t.loanAccountId),this.ls.setItem("LOAN_DETAIL_DONE",!!this.loanAccount_array),this.ls.setItem("CUSTOMERINFO_DETAIL_DONE",!!this.customerInfoDetails),this.ls.setItem("COLLATERAL_DETAIL_DONE",!!this.loanTaskDetails.collateralInfo.collateralId),this.ls.setItem("MANDATE_DETAIL_DONE",0!=(null===(e=this.mandateDetailsArray)||void 0===e?void 0:e.length)),this.ls.setItem("GUARANTOR_DETAIL_DONE",!!this.loanTaskDetails.guarantorInfo.guarantorId),this.ls.setItem("FINANCIAL_DETAIL_DONE",!!this.loanTaskDetails.financialInfo),this.ls.setItem("ADMISSION_DETAIL_DONE",!!this.loanTaskDetails.admissionInfo.admissionId),this.ls.setItem("ASSET_DETAIL_DONE",!!this.loanTaskDetails.assessInfo.assetId),this.ls.setItem("VEHICLE_DETAIL_DONE",!!this.loanTaskDetails.vehicleInfo.vehicleId),this.ls.setItem("LoanEntryStage",!!(this.loanAccount_array&&this.customerInfoDetails&&this.loanTaskDetails.collateralInfo.collateralId&&0!=(null===(a=this.mandateDetailsArray)||void 0===a?void 0:a.length)&&this.loanTaskDetails.guarantorInfo.guarantorId&&this.loanTaskDetails.financialInfo&&(this.loanTaskDetails.admissionInfo.admissionId||this.loanTaskDetails.assessInfo.assetId||this.loanTaskDetails.vehicleInfo.vehicleId))),this.ls.setItem("LOAN_INTERST_DETAIL_DONE",!!this.loanTaskDetails.interestInfo),this.ls.setItem("LOAN_CHARGE_DETAILS",!!this.loanTaskDetails.chargeInfo),this.ls.setItem("LOAN_REPAYMENT_DETAIL_DONE",!!this.loanTaskDetails.repaymentInfo.loanRepaymentId),this.ls.setItem("LOAN_DISBURSEMENT_DETAIL_DONE",!!(null===(n=this.loanTaskDetails.disbursementInfo)||void 0===n?void 0:n.loanDisbursementId)),this.ls.setItem("LOAN_ACCOUNT_SERVICES_DONE",!!this.loanTaskDetails.accountServiceInfo.accServiceId),this.ls.setItem("LOAN_ENRICHMENT_DONE",!!(this.loanTaskDetails.interestInfo&&this.loanTaskDetails.chargeInfo&&this.loanTaskDetails.repaymentInfo.loanRepaymentId&&(null===(o=this.loanTaskDetails.disbursementInfo)||void 0===o?void 0:o.loanDisbursementId)&&this.loanTaskDetails.accountServiceInfo.accServiceId)),this.ls.setItem("CREDIT_RATING_DONE",!!this.loanTaskDetails.creditRatingInfo.agencyRating),this.ls.setItem("LEGAL_OPINION_DONE",!!this.loanTaskDetails.legalOpionInfo),this.ls.setItem("VALUATION_OF_ASSET_DONE",!!this.loanTaskDetails.valAssetInfo),this.ls.setItem("underWritingStage",!!(this.loanTaskDetails.creditRatingInfo.agencyRating&&this.loanTaskDetails.legalOpionInfo&&this.loanTaskDetails.valAssetInfo)),this.ls.setItem("isLoanQualitativeScoreboard",!!this.qualitativeScoreboardSummary),this.ls.setItem("LOAN_ASSESSMENT_DETAILS_DONE",!!(null===(i=this.loanTaskDetails.assessInfo)||void 0===i?void 0:i.assetId)),this.ls.setItem("LOAN_ASSESSMENT_STAGE_DONE",!(!this.qualitativeScoreboardSummary||!(null===(r=this.loanTaskDetails.assessInfo)||void 0===r?void 0:r.assetId))),this.ls.setItem("APPROVED_DETAILS",!!this.loanTaskDetails.approvalInfo),this.ls.setItem("SUPERVISOR_APPROVAL_STAGE",!!this.loanTaskDetails.approvalInfo),this.ls.setItem("OfferIssue",!!this.loanTaskDetails.offerIssueInfo),this.ls.setItem("OfferIssueStageDone",!!this.loanTaskDetails.offerIssueInfo),this.ls.setItem("OfferIssueRejectScreen",!!this.offerDetails),this.ls.setItem("OfferIssueRejectStageScreen",!!this.offerDetails),this.ls.setItem("PostOfferAmmendementScreen",!!this.postOfferDetails),this.ls.setItem("PostOfferAmmendementStageScreen",!!this.postOfferDetails),this.ls.setItem("ACCOUNT_CREATE_DETAILS_DONE",!!this.accountCreateValue),this.ls.setItem("ACCOUNT_CREATTION_STAGE_DONE",!!this.accountCreateValue),window.open("".concat(co.a.redirectUrl,"?code=").concat(this.jwtService.getEncryptedToken(),"&appType=LOANACC&theme=null"),"_blank"),this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||np)(l.Rb(g.a),l.Rb(m.a),l.Rb(b.b),l.Rb(xi.a),l.Rb(Ze.h),l.Rb(l.h),l.Rb(p.b),l.Rb(W.a),l.Rb(g.a),l.Rb(f.a),l.Rb(K.a),l.Rb(b.b),l.Rb(lo.b),l.Rb(p.a),l.Rb(p.g),l.Rb(so.a))},np.\u0275cmp=l.Lb({type:np,selectors:[["app-loan-account-approver"]],decls:1062,vars:170,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","10"],[1,"num"],[1,"bordnum"],["fxFlex","85"],["fxLayout","row","fxLayoutAlign","space-between end"],["visible","true"],["class","edit_icon",3,"click",4,"ngIf"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],["fxLayout","row",1,"rowbord","nobord"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[1,"pt-16"],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],[1,"paraFont"],[1,"chequecard"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","50%"],["fxLayout","row wrap"],["class","full-width pt-16",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["label","Application Enrichment Stage",2,"border-radius","0px","width","900px"],[4,"ngFor","ngForOf"],[2,"width","800px"],["class","mtcd",4,"ngIf"],[1,"full-width",2,"padding","0rem 2rem"],["fxLayout","row wrap",1,"full-width"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","85",1,"margin1",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],["fxLayout","row","fxLayoutAlign","space between center"],["class","labelval",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],[1,"edit_icon",3,"click"],["fxFlex","7%","fxFlex.xs","50%","fxFlex.md","10%","fxFlex.sm","15%",1,"pb-16"],["height","50px","width","50px","src","assets/images/backgrounds/defaultProfileBackground.png",1,"rounded-circle"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-16"],[1,"valueTextName"],[1,"pl-16","text-secondary"],["class","pl-16 pr-16",4,"ngIf"],["class","pl-16 pr-16",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[1,"pl-16","pr-16"],[1,"headingText1"],[1,"pl-16","pr-16",3,"click"],[1,"full-width","pt-16"],[1,"full-width","mat-elevation-z0"],[1,"mat-elevation-z0","border","border-primary",3,"opened","closed"],["fxFlex","33%","fxFlex.xs","50%",4,"ngIf"],[1,"toggle"],[3,"checked","change"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"applicanthd",2,"font-weight","bold","font-family","sans-serif"],[1,"row","wrap"],["fxLayout","row wrap","class","qtncard row","style","max-width:100%","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","100","fxFlex.sm","50","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","100","fxFlex.sm","50",1,"full-width",2,"max-width","100%"],[1,"qtncard","row",2,"justify-content","space-evenly"],[1,"qtnval",2,"opacity","80%"],["download","",1,"linkColor",3,"href"]],template:function(t,e){if(1&t){l.Xb(0,"div"),l.Xb(1,"div",0),l.Xb(2,"div",1),l.Xb(3,"div",2),l.Xb(4,"div"),l.Xb(5,"mat-icon",3),l.fc("click",function(){return e.close(e.dataResponse)}),l.Tc(6," close"),l.Wb(),l.Wb(),l.Wb(),l.Xb(7,"div",4),l.Xb(8,"div",5),l.Xb(9,"div",6),l.Xb(10,"div",7),l.Rc(11,Wm,2,1,"span",8),l.Wb(),l.Xb(12,"div",9),l.Xb(13,"div",10),l.Sb(14,"img",11),l.Tc(15,"\xa0 "),l.Xb(16,"div"),l.Xb(17,"span",12),l.Tc(18),l.Wb(),l.Sb(19,"br"),l.Xb(20,"span",13),l.Tc(21),l.Wb(),l.Wb(),l.Wb(),l.Xb(22,"div",14),l.Xb(23,"mat-icon",15),l.Tc(24,"phone "),l.Wb(),l.Tc(25,"\xa0\xa0\xa0 "),l.Xb(26,"span",16),l.Tc(27),l.Wb(),l.Wb(),l.Xb(28,"div",14),l.Xb(29,"mat-icon",15),l.Tc(30," mail_outline"),l.Wb(),l.Tc(31,"\xa0\xa0 \xa0 "),l.Xb(32,"span",17),l.Tc(33),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(34,"div",18),l.Xb(35,"div",19),l.Rc(36,Xm,7,16,"div",20),l.Rc(37,Im,2,1,"div",21),l.Wb(),l.Wb(),l.Sb(38,"br"),l.Sb(39,"br"),l.Sb(40,"br"),l.Sb(41,"br"),l.Xb(42,"div",22),l.Xb(43,"h2"),l.Tc(44),l.Wb(),l.Wb(),l.Xb(45,"div",23),l.Xb(46,"div",24),l.Xb(47,"div",25),l.Tc(48,"1"),l.Wb(),l.Xb(49,"div",26),l.Tc(50,"\xa0"),l.Wb(),l.Wb(),l.Xb(51,"div",27),l.Xb(52,"h2"),l.Tc(53,"Application Entry Stage"),l.Wb(),l.Sb(54,"mat-divider"),l.Xb(55,"div",28),l.Xb(56,"fieldset"),l.Xb(57,"legend",29),l.Tc(58,"Loan Account Details"),l.Wb(),l.Wb(),l.Xb(59,"span"),l.Rc(60,Em,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(61,"mat-card",31),l.Xb(62,"mat-card-content"),l.Xb(63,"div",32),l.Sb(64,"div",33),l.Xb(65,"div",34),l.Xb(66,"div",35),l.Tc(67,"Account Currency"),l.Wb(),l.Xb(68,"div",36),l.Tc(69),l.Wb(),l.Wb(),l.Xb(70,"div",34),l.Xb(71,"div",35),l.Tc(72,"Account Branch"),l.Wb(),l.Xb(73,"div",36),l.Tc(74),l.Wb(),l.Wb(),l.Xb(75,"div",34),l.Xb(76,"div",35),l.Tc(77,"Loan Account ID"),l.Wb(),l.Xb(78,"div",36),l.Tc(79),l.Wb(),l.Wb(),l.Wb(),l.Xb(80,"div",32),l.Sb(81,"div",33),l.Xb(82,"div",34),l.Xb(83,"div",35),l.Tc(84,"Application Date"),l.Wb(),l.Xb(85,"div",36),l.Tc(86),l.Wb(),l.Wb(),l.Xb(87,"div",34),l.Xb(88,"div",35),l.Tc(89,"Customer Contribution"),l.Wb(),l.Xb(90,"div",36),l.Tc(91),l.Wb(),l.Wb(),l.Xb(92,"div",34),l.Xb(93,"div",35),l.Tc(94,"Estimated Cost"),l.Wb(),l.Xb(95,"div",36),l.Tc(96),l.Wb(),l.Wb(),l.Wb(),l.Xb(97,"div",32),l.Sb(98,"div",33),l.Xb(99,"div",34),l.Xb(100,"div",35),l.Tc(101,"Loan Amount"),l.Wb(),l.Xb(102,"div",36),l.Tc(103),l.Wb(),l.Wb(),l.Xb(104,"div",34),l.Xb(105,"div",35),l.Tc(106,"Loan Tenure"),l.Wb(),l.Xb(107,"div",36),l.Tc(108),l.Wb(),l.Wb(),l.Xb(109,"div",34),l.Xb(110,"div",35),l.Tc(111,"Purpose of Loan"),l.Wb(),l.Xb(112,"div",36),l.Tc(113),l.Wb(),l.Wb(),l.Wb(),l.Xb(114,"div",32),l.Sb(115,"div",33),l.Xb(116,"div",34),l.Xb(117,"div",35),l.Tc(118,"Status"),l.Wb(),l.Xb(119,"div",36),l.Tc(120),l.Wb(),l.Wb(),l.Xb(121,"div",34),l.Xb(122,"div",35),l.Tc(123,"Business Product Name"),l.Wb(),l.Xb(124,"div",36),l.Tc(125),l.Wb(),l.Wb(),l.Xb(126,"div",34),l.Xb(127,"div",35),l.Tc(128,"Modification Number"),l.Wb(),l.Xb(129,"div",36),l.Tc(130),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(131,"div",28),l.Xb(132,"fieldset"),l.Xb(133,"legend",29),l.Tc(134,"Asset Information"),l.Wb(),l.Wb(),l.Xb(135,"span"),l.Rc(136,Cm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(137,"mat-card",31),l.Xb(138,"mat-card-content"),l.Xb(139,"div",32),l.Sb(140,"div",33),l.Xb(141,"div",34),l.Xb(142,"div",35),l.Tc(143,"Asset Status"),l.Wb(),l.Xb(144,"div",36),l.Tc(145),l.Wb(),l.Wb(),l.Xb(146,"div",34),l.Xb(147,"div",35),l.Tc(148,"Building"),l.Wb(),l.Xb(149,"div",36),l.Tc(150),l.Wb(),l.Wb(),l.Xb(151,"div",34),l.Xb(152,"div",35),l.Tc(153,"Mortgaged Branch"),l.Wb(),l.Xb(154,"div",36),l.Tc(155),l.Wb(),l.Wb(),l.Wb(),l.Xb(156,"div",32),l.Sb(157,"div",33),l.Xb(158,"div",34),l.Xb(159,"div",35),l.Tc(160,"City"),l.Wb(),l.Xb(161,"div",36),l.Tc(162),l.Wb(),l.Wb(),l.Xb(163,"div",34),l.Xb(164,"div",35),l.Tc(165,"Country"),l.Wb(),l.Xb(166,"div",36),l.Tc(167),l.Wb(),l.Wb(),l.Xb(168,"div",34),l.Xb(169,"div",35),l.Tc(170,"Dimensions"),l.Wb(),l.Xb(171,"div",36),l.Tc(172),l.Wb(),l.Wb(),l.Wb(),l.Xb(173,"div",32),l.Sb(174,"div",33),l.Xb(175,"div",34),l.Xb(176,"div",35),l.Tc(177,"Home Type"),l.Wb(),l.Xb(178,"div",36),l.Tc(179),l.Wb(),l.Wb(),l.Xb(180,"div",34),l.Xb(181,"div",35),l.Tc(182,"Locality"),l.Wb(),l.Xb(183,"div",36),l.Tc(184),l.Wb(),l.Wb(),l.Xb(185,"div",34),l.Xb(186,"div",35),l.Tc(187,"Market Value"),l.Wb(),l.Xb(188,"div",36),l.Tc(189),l.Wb(),l.Wb(),l.Wb(),l.Xb(190,"div",32),l.Sb(191,"div",33),l.Xb(192,"div",34),l.Xb(193,"div",35),l.Tc(194,"State"),l.Wb(),l.Xb(195,"div",36),l.Tc(196),l.Wb(),l.Wb(),l.Xb(197,"div",34),l.Xb(198,"div",35),l.Tc(199,"City"),l.Wb(),l.Xb(200,"div",36),l.Tc(201),l.Wb(),l.Wb(),l.Xb(202,"div",34),l.Xb(203,"div",35),l.Tc(204,"Zip code"),l.Wb(),l.Xb(205,"div",36),l.Tc(206),l.Wb(),l.Wb(),l.Wb(),l.Xb(207,"div",37),l.Sb(208,"div",33),l.Wb(),l.Wb(),l.Wb(),l.Xb(209,"div"),l.Xb(210,"div",28),l.Xb(211,"fieldset"),l.Xb(212,"legend",29),l.Tc(213,"Customer Information Details"),l.Wb(),l.Wb(),l.Xb(214,"span"),l.Rc(215,xm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(216,"mat-card",31),l.Xb(217,"div",38),l.Xb(218,"div",39),l.Sb(219,"div",40),l.Xb(220,"div",41),l.Xb(221,"div",42),l.Xb(222,"div",38),l.Xb(223,"div",43),l.Xb(224,"div",44),l.Xb(225,"div"),l.Xb(226,"mat-card"),l.Xb(227,"div",45),l.Xb(228,"div",46),l.Xb(229,"small",47),l.Tc(230,"Holding Pattern"),l.Wb(),l.Xb(231,"h3",48),l.Tc(232),l.Wb(),l.Wb(),l.Xb(233,"div",46),l.Xb(234,"small",47),l.Tc(235,"Ownership"),l.Wb(),l.Xb(236,"h3",48),l.Tc(237),l.Wb(),l.Wb(),l.Xb(238,"div",46),l.Xb(239,"small",47),l.Tc(240,"Number of Applicant"),l.Wb(),l.Xb(241,"h3",48),l.Tc(242),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Rc(243,Am,54,10,"div",49),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(244,"div"),l.Xb(245,"div",28),l.Xb(246,"fieldset"),l.Xb(247,"legend",29),l.Tc(248,"Mandate Details"),l.Wb(),l.Wb(),l.Xb(249,"span"),l.Rc(250,Rm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(251,"mat-card"),l.Xb(252,"div",38),l.Xb(253,"div",39),l.Xb(254,"div",40),l.Xb(255,"h4",50),l.Tc(256,"Mandate Details"),l.Wb(),l.Wb(),l.Xb(257,"div",41),l.Xb(258,"div",42),l.Xb(259,"mat-card",51),l.Xb(260,"mat-card-content"),l.Xb(261,"div",38),l.Xb(262,"div",43),l.Xb(263,"div",52),l.Vb(264),l.Xb(265,"div",53),l.Xb(266,"mat-hint",35),l.Tc(267,"Number of Applicants"),l.Wb(),l.Sb(268,"br"),l.Xb(269,"mat-hint",36),l.Tc(270),l.Wb(),l.Wb(),l.Ub(),l.Wb(),l.Xb(271,"div",54),l.Rc(272,Sm,27,4,"div",55),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(273,"div"),l.Xb(274,"div",28),l.Xb(275,"fieldset"),l.Xb(276,"legend",29),l.Tc(277,"Collateral Details"),l.Wb(),l.Wb(),l.Xb(278,"span"),l.Rc(279,km,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(280,"mat-card",31),l.Xb(281,"mat-card-content"),l.Xb(282,"div",32),l.Sb(283,"div",33),l.Xb(284,"div",34),l.Xb(285,"div",35),l.Tc(286,"Attributes"),l.Wb(),l.Xb(287,"div",36),l.Tc(288),l.Wb(),l.Wb(),l.Xb(289,"div",34),l.Xb(290,"div",35),l.Tc(291,"Building"),l.Wb(),l.Xb(292,"div",36),l.Tc(293),l.Wb(),l.Wb(),l.Xb(294,"div",34),l.Xb(295,"div",35),l.Tc(296,"City"),l.Wb(),l.Xb(297,"div",36),l.Tc(298),l.Wb(),l.Wb(),l.Wb(),l.Xb(299,"div",32),l.Sb(300,"div",33),l.Xb(301,"div",34),l.Xb(302,"div",35),l.Tc(303,"Collateral Currency"),l.Wb(),l.Xb(304,"div",36),l.Tc(305),l.Wb(),l.Wb(),l.Xb(306,"div",34),l.Xb(307,"div",35),l.Tc(308,"Collateral Type"),l.Wb(),l.Xb(309,"div",36),l.Tc(310),l.Wb(),l.Wb(),l.Xb(311,"div",34),l.Xb(312,"div",35),l.Tc(313,"Collateral Value"),l.Wb(),l.Xb(314,"div",36),l.Tc(315),l.Wb(),l.Wb(),l.Wb(),l.Xb(316,"div",32),l.Sb(317,"div",33),l.Xb(318,"div",34),l.Xb(319,"div",35),l.Tc(320,"Country"),l.Wb(),l.Xb(321,"div",36),l.Tc(322),l.Wb(),l.Wb(),l.Xb(323,"div",34),l.Xb(324,"div",35),l.Tc(325,"Dimensions"),l.Wb(),l.Xb(326,"div",36),l.Tc(327),l.Wb(),l.Wb(),l.Xb(328,"div",34),l.Xb(329,"div",35),l.Tc(330,"Locality"),l.Wb(),l.Xb(331,"div",36),l.Tc(332),l.Wb(),l.Wb(),l.Wb(),l.Xb(333,"div",32),l.Sb(334,"div",33),l.Xb(335,"div",34),l.Xb(336,"div",35),l.Tc(337,"State"),l.Wb(),l.Xb(338,"div",36),l.Tc(339),l.Wb(),l.Wb(),l.Xb(340,"div",34),l.Xb(341,"div",35),l.Tc(342,"Third Party Collateral"),l.Wb(),l.Xb(343,"div",36),l.Tc(344),l.Wb(),l.Wb(),l.Xb(345,"div",34),l.Xb(346,"div",35),l.Tc(347,"Street"),l.Wb(),l.Xb(348,"div",36),l.Tc(349),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(350,"mat-card",31),l.Rc(351,Fm,2,1,"div",56),l.Wb(),l.Wb(),l.Xb(352,"div"),l.Xb(353,"div",28),l.Xb(354,"fieldset"),l.Xb(355,"legend",29),l.Tc(356,"Guarantor Details"),l.Wb(),l.Wb(),l.Xb(357,"span"),l.Rc(358,Lm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(359,"mat-card",31),l.Xb(360,"mat-card-content"),l.Xb(361,"div",32),l.Sb(362,"div",33),l.Xb(363,"div",34),l.Xb(364,"div",35),l.Tc(365,"Prefix"),l.Wb(),l.Xb(366,"div",36),l.Tc(367),l.Wb(),l.Wb(),l.Xb(368,"div",34),l.Xb(369,"div",35),l.Tc(370,"First Name"),l.Wb(),l.Xb(371,"div",36),l.Tc(372),l.Wb(),l.Wb(),l.Xb(373,"div",34),l.Xb(374,"div",35),l.Tc(375,"Last Name"),l.Wb(),l.Xb(376,"div",36),l.Tc(377),l.Wb(),l.Wb(),l.Wb(),l.Xb(378,"div",32),l.Sb(379,"div",33),l.Xb(380,"div",34),l.Xb(381,"div",35),l.Tc(382,"CIF Number"),l.Wb(),l.Xb(383,"div",36),l.Tc(384),l.Wb(),l.Wb(),l.Xb(385,"div",34),l.Xb(386,"div",35),l.Tc(387,"Relationship with Customer"),l.Wb(),l.Xb(388,"div",36),l.Tc(389),l.Wb(),l.Wb(),l.Xb(390,"div",34),l.Xb(391,"div",35),l.Tc(392,"Country"),l.Wb(),l.Xb(393,"div",36),l.Tc(394),l.Wb(),l.Wb(),l.Wb(),l.Xb(395,"div",32),l.Sb(396,"div",33),l.Xb(397,"div",34),l.Xb(398,"div",35),l.Tc(399,"Date Of Birth"),l.Wb(),l.Xb(400,"div",36),l.Tc(401),l.Wb(),l.Wb(),l.Xb(402,"div",34),l.Xb(403,"div",35),l.Tc(404,"Email address"),l.Wb(),l.Xb(405,"div",36),l.Tc(406),l.Wb(),l.Wb(),l.Xb(407,"div",34),l.Xb(408,"div",35),l.Tc(409,"Mobile Number"),l.Wb(),l.Xb(410,"div",36),l.Tc(411),l.Wb(),l.Wb(),l.Wb(),l.Xb(412,"div",32),l.Sb(413,"div",33),l.Xb(414,"div",34),l.Xb(415,"div",35),l.Tc(416,"Address 1"),l.Wb(),l.Xb(417,"div",36),l.Tc(418),l.Wb(),l.Wb(),l.Xb(419,"div",34),l.Xb(420,"div",35),l.Tc(421,"Address 2"),l.Wb(),l.Xb(422,"div",36),l.Tc(423),l.Wb(),l.Wb(),l.Xb(424,"div",34),l.Xb(425,"div",35),l.Tc(426,"City"),l.Wb(),l.Xb(427,"div",36),l.Tc(428),l.Wb(),l.Wb(),l.Wb(),l.Xb(429,"div",32),l.Sb(430,"div",33),l.Xb(431,"div",34),l.Xb(432,"div",35),l.Tc(433,"State"),l.Wb(),l.Xb(434,"div",36),l.Tc(435),l.Wb(),l.Wb(),l.Xb(436,"div",34),l.Xb(437,"div",35),l.Tc(438,"Phone Number"),l.Wb(),l.Xb(439,"div",36),l.Tc(440),l.Wb(),l.Wb(),l.Xb(441,"div",34),l.Xb(442,"div",35),l.Tc(443,"Zip Code"),l.Wb(),l.Xb(444,"div",36),l.Tc(445),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(446,"div",23),l.Xb(447,"div",24),l.Xb(448,"div",25),l.Tc(449,"2"),l.Wb(),l.Xb(450,"div",26),l.Tc(451,"\xa0"),l.Wb(),l.Wb(),l.Xb(452,"div",27),l.Xb(453,"h2"),l.Tc(454,"Loan Application Enrichment"),l.Wb(),l.Sb(455,"hr"),l.Xb(456,"mat-card",57),l.Xb(457,"div",27),l.Sb(458,"hr"),l.Xb(459,"mat-card"),l.Xb(460,"div",28),l.Xb(461,"fieldset"),l.Xb(462,"legend",29),l.Tc(463,"Interest Details"),l.Wb(),l.Wb(),l.Xb(464,"span"),l.Rc(465,_m,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Rc(466,wm,30,4,"mat-card",58),l.Wb(),l.Sb(467,"br"),l.Sb(468,"hr"),l.Wb(),l.Wb(),l.Sb(469,"br"),l.Xb(470,"mat-card",59),l.Xb(471,"div",28),l.Xb(472,"fieldset"),l.Xb(473,"legend",29),l.Tc(474,"Loan Disbursement Details"),l.Wb(),l.Wb(),l.Xb(475,"span"),l.Rc(476,Um,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(477,"mat-card",31),l.Xb(478,"mat-card-content"),l.Xb(479,"div",32),l.Sb(480,"div",33),l.Xb(481,"div",34),l.Xb(482,"div",35),l.Tc(483,"Branch Code"),l.Wb(),l.Xb(484,"div",36),l.Tc(485),l.Wb(),l.Wb(),l.Xb(486,"div",34),l.Xb(487,"div",35),l.Tc(488,"Customer Account"),l.Wb(),l.Xb(489,"div",36),l.Tc(490),l.Wb(),l.Wb(),l.Xb(491,"div",34),l.Xb(492,"div",35),l.Tc(493,"Disbursement Mode"),l.Wb(),l.Xb(494,"div",36),l.Tc(495),l.Wb(),l.Wb(),l.Wb(),l.Xb(496,"div",32),l.Sb(497,"div",33),l.Xb(498,"div",34),l.Xb(499,"div",35),l.Tc(500,"First Disbursement Date"),l.Wb(),l.Xb(501,"div",36);l.Tc(502),l.Wb(),l.Wb(),l.Xb(503,"div",34),l.Xb(504,"div",35),l.Tc(505,"Loan Amount"),l.Wb(),l.Xb(506,"div",36),l.Tc(507),l.Wb(),l.Wb(),l.Xb(508,"div",34),l.Xb(509,"div",35),l.Tc(510,"Multiple Disbursement Required"),l.Wb(),l.Xb(511,"div",36),l.Tc(512),l.Wb(),l.Wb(),l.Wb(),l.Xb(513,"div",32),l.Sb(514,"div",33),l.Xb(515,"div",34),l.Xb(516,"div",35),l.Tc(517,"Number Of Disbursement"),l.Wb(),l.Xb(518,"div",36),l.Tc(519),l.Wb(),l.Wb(),l.Xb(520,"div",34),l.Xb(521,"div",35),l.Tc(522,"Total Disbursement"),l.Wb(),l.Xb(523,"div",36),l.Tc(524),l.Wb(),l.Wb(),l.Sb(525,"div",34),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(526,"br"),l.Xb(527,"mat-card",59),l.Xb(528,"div",28),l.Xb(529,"fieldset"),l.Xb(530,"legend",29),l.Tc(531,"Loan Repayment Details"),l.Wb(),l.Wb(),l.Xb(532,"span"),l.Rc(533,Mm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(534,"mat-card",31),l.Xb(535,"mat-card-content"),l.Xb(536,"div",32),l.Sb(537,"div",33),l.Xb(538,"div",34),l.Xb(539,"div",35),l.Tc(540,"Bank Name"),l.Wb(),l.Xb(541,"div",36),l.Tc(542),l.Wb(),l.Wb(),l.Xb(543,"div",34),l.Xb(544,"div",35),l.Tc(545,"Branch Code"),l.Wb(),l.Xb(546,"div",36),l.Tc(547),l.Wb(),l.Wb(),l.Xb(548,"div",34),l.Xb(549,"div",35),l.Tc(550,"Customer Account"),l.Wb(),l.Xb(551,"div",36),l.Tc(552),l.Wb(),l.Wb(),l.Wb(),l.Xb(553,"div",32),l.Sb(554,"div",33),l.Xb(555,"div",34),l.Xb(556,"div",35),l.Tc(557,"First Repayment Date"),l.Wb(),l.Xb(558,"div",36),l.Tc(559),l.Wb(),l.Wb(),l.Xb(560,"div",34),l.Xb(561,"div",35),l.Tc(562,"Loan Tenure"),l.Wb(),l.Xb(563,"div",36),l.Tc(564),l.Wb(),l.Wb(),l.Xb(565,"div",34),l.Xb(566,"div",35),l.Tc(567,"Maturity Date"),l.Wb(),l.Xb(568,"div",36),l.Tc(569),l.Wb(),l.Wb(),l.Wb(),l.Xb(570,"div",32),l.Sb(571,"div",33),l.Xb(572,"div",34),l.Xb(573,"div",35),l.Tc(574,"Moraturioum Period"),l.Wb(),l.Xb(575,"div",36),l.Tc(576),l.Wb(),l.Wb(),l.Xb(577,"div",34),l.Xb(578,"div",35),l.Tc(579,"Type Of Repayment"),l.Wb(),l.Xb(580,"div",36),l.Tc(581),l.Wb(),l.Wb(),l.Xb(582,"div",34),l.Xb(583,"div",35),l.Tc(584,"Repayment Frequency"),l.Wb(),l.Xb(585,"div",36),l.Tc(586),l.Wb(),l.Wb(),l.Wb(),l.Xb(587,"div",32),l.Sb(588,"div",33),l.Xb(589,"div",34),l.Xb(590,"div",35),l.Tc(591,"Repayment Mode"),l.Wb(),l.Xb(592,"div",36),l.Tc(593),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(594,"br"),l.Xb(595,"mat-card"),l.Xb(596,"div",28),l.Xb(597,"fieldset"),l.Xb(598,"legend",29),l.Tc(599,"Loan Charge Details"),l.Wb(),l.Wb(),l.Xb(600,"span"),l.Rc(601,Gm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Rc(602,Vm,30,4,"mat-card",58),l.Wb(),l.Xb(603,"mat-card"),l.Xb(604,"div",28),l.Xb(605,"fieldset"),l.Xb(606,"legend",29),l.Tc(607,"Account Service Details"),l.Wb(),l.Wb(),l.Sb(608,"span"),l.Wb(),l.Xb(609,"mat-card",31),l.Xb(610,"mat-card-content"),l.Xb(611,"div",32),l.Sb(612,"div",33),l.Xb(613,"div",34),l.Xb(614,"div",35),l.Tc(615,"Statement Cycle"),l.Wb(),l.Xb(616,"div",36),l.Tc(617),l.Wb(),l.Wb(),l.Xb(618,"div",34),l.Xb(619,"div",35),l.Tc(620,"Statement Type"),l.Wb(),l.Xb(621,"div",36),l.Tc(622),l.Wb(),l.Wb(),l.Xb(623,"div",34),l.Xb(624,"div",35),l.Tc(625,"start Date"),l.Wb(),l.Xb(626,"div",36),l.Tc(627),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(628,"br"),l.Xb(629,"div",23),l.Xb(630,"div",24),l.Xb(631,"div",25),l.Tc(632,"3"),l.Wb(),l.Xb(633,"div",26),l.Tc(634,"\xa0"),l.Wb(),l.Wb(),l.Xb(635,"div",27),l.Xb(636,"h2"),l.Tc(637,"Loan Underwriting Stage"),l.Wb(),l.Sb(638,"hr"),l.Xb(639,"mat-card",59),l.Xb(640,"div",28),l.Xb(641,"fieldset"),l.Xb(642,"legend",29),l.Tc(643,"Loan Credit Score Details"),l.Wb(),l.Wb(),l.Xb(644,"span"),l.Rc(645,jm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Rc(646,zm,3,1,"mat-card",60),l.Wb(),l.Sb(647,"br"),l.Xb(648,"mat-card",59),l.Xb(649,"div",28),l.Xb(650,"fieldset"),l.Xb(651,"legend",29),l.Tc(652,"Valuation of Asset Details"),l.Wb(),l.Wb(),l.Xb(653,"span"),l.Rc(654,qm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(655,"mat-card",31),l.Xb(656,"mat-card-content"),l.Xb(657,"div",32),l.Sb(658,"div",33),l.Xb(659,"div",34),l.Xb(660,"div",35),l.Tc(661,"Bank Valuation"),l.Wb(),l.Xb(662,"div",36),l.Tc(663),l.Wb(),l.Wb(),l.Xb(664,"div",34),l.Xb(665,"div",35),l.Tc(666,"Asset Type"),l.Wb(),l.Xb(667,"div",36),l.Tc(668),l.Wb(),l.Wb(),l.Xb(669,"div",34),l.Xb(670,"div",35),l.Tc(671,"Property Area Size"),l.Wb(),l.Xb(672,"div",36),l.Tc(673),l.Wb(),l.Wb(),l.Wb(),l.Xb(674,"div",32),l.Sb(675,"div",33),l.Xb(676,"div",34),l.Xb(677,"div",35),l.Tc(678,"Actual Property Area Size"),l.Wb(),l.Xb(679,"div",36),l.Tc(680),l.Wb(),l.Wb(),l.Xb(681,"div",34),l.Xb(682,"div",35),l.Tc(683,"Borrower's Market Value"),l.Wb(),l.Xb(684,"div",36),l.Tc(685),l.Wb(),l.Wb(),l.Xb(686,"div",34),l.Xb(687,"div",35),l.Tc(688,"Face Value Of Asset"),l.Wb(),l.Xb(689,"div",36),l.Tc(690),l.Wb(),l.Wb(),l.Wb(),l.Xb(691,"div",32),l.Sb(692,"div",33),l.Xb(693,"div",34),l.Xb(694,"div",35),l.Tc(695,"Market Value Of Asset"),l.Wb(),l.Xb(696,"div",36),l.Tc(697),l.Wb(),l.Wb(),l.Xb(698,"div",34),l.Xb(699,"div",35),l.Tc(700,"Asset Valuer"),l.Wb(),l.Xb(701,"div",36),l.Tc(702),l.Wb(),l.Wb(),l.Xb(703,"div",34),l.Xb(704,"div",35),l.Tc(705,"Forced Sale Value"),l.Wb(),l.Xb(706,"div",36),l.Tc(707),l.Wb(),l.Wb(),l.Wb(),l.Xb(708,"div",32),l.Sb(709,"div",33),l.Xb(710,"div",34),l.Xb(711,"div",35),l.Tc(712,"Valuation Date"),l.Wb(),l.Xb(713,"div",36),l.Tc(714),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(715,"br"),l.Xb(716,"mat-card",59),l.Xb(717,"div",28),l.Xb(718,"fieldset"),l.Xb(719,"legend",29),l.Tc(720,"Legal Opinion Details"),l.Wb(),l.Wb(),l.Xb(721,"span"),l.Rc(722,Jm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(723,"mat-card",31),l.Xb(724,"mat-card-content"),l.Xb(725,"div",32),l.Sb(726,"div",33),l.Xb(727,"div",34),l.Xb(728,"div",35),l.Tc(729,"Opinion"),l.Wb(),l.Xb(730,"div",36),l.Tc(731),l.Wb(),l.Wb(),l.Xb(732,"div",34),l.Xb(733,"div",35),l.Tc(734,"Asset Area Size"),l.Wb(),l.Xb(735,"div",36),l.Tc(736),l.Wb(),l.Wb(),l.Xb(737,"div",34),l.Xb(738,"div",35),l.Tc(739,"Description"),l.Wb(),l.Xb(740,"div",36),l.Tc(741),l.Wb(),l.Wb(),l.Wb(),l.Xb(742,"div",32),l.Sb(743,"div",33),l.Xb(744,"div",34),l.Xb(745,"div",35),l.Tc(746,"Lawyer Name"),l.Wb(),l.Xb(747,"div",36),l.Tc(748),l.Wb(),l.Wb(),l.Xb(749,"div",34),l.Xb(750,"div",35),l.Tc(751,"Market Value Of Asset"),l.Wb(),l.Xb(752,"div",36),l.Tc(753),l.Wb(),l.Wb(),l.Xb(754,"div",34),l.Xb(755,"div",35),l.Tc(756,"Opinion Date"),l.Wb(),l.Xb(757,"div",36),l.Tc(758),l.Wb(),l.Wb(),l.Wb(),l.Xb(759,"div",32),l.Sb(760,"div",33),l.Xb(761,"div",34),l.Xb(762,"div",35),l.Tc(763,"Is Decision Favorable?"),l.Wb(),l.Xb(764,"div",36),l.Tc(765),l.Wb(),l.Wb(),l.Xb(766,"div",34),l.Xb(767,"div",35),l.Tc(768,"Valuation Date"),l.Wb(),l.Xb(769,"div",36),l.Tc(770),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(771,"br"),l.Xb(772,"div",23),l.Xb(773,"div",24),l.Xb(774,"div",25),l.Tc(775,"4"),l.Wb(),l.Xb(776,"div",26),l.Tc(777,"\xa0"),l.Wb(),l.Wb(),l.Xb(778,"div",27),l.Xb(779,"h2"),l.Tc(780,"Loan Assessment Details"),l.Wb(),l.Sb(781,"hr"),l.Xb(782,"mat-card",59),l.Xb(783,"div",28),l.Xb(784,"fieldset"),l.Xb(785,"legend",29),l.Tc(786,"Qualitative Scoreboard"),l.Wb(),l.Wb(),l.Sb(787,"span"),l.Wb(),l.Xb(788,"mat-card",31),l.Xb(789,"mat-card-content"),l.Xb(790,"div",32),l.Sb(791,"div",33),l.Xb(792,"div",34),l.Xb(793,"div",35),l.Tc(794,"ScoreCard Id"),l.Wb(),l.Xb(795,"div",36),l.Tc(796),l.Wb(),l.Wb(),l.Xb(797,"div",34),l.Xb(798,"div",35),l.Tc(799,"Number Of Applicants"),l.Wb(),l.Xb(800,"div",36),l.Tc(801),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(802,"mat-card",31),l.Xb(803,"mat-card-content"),l.Xb(804,"div",61),l.Xb(805,"div",62),l.Rc(806,$m,5,2,"div",58),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(807,"mat-card",59),l.Xb(808,"div",28),l.Xb(809,"fieldset"),l.Xb(810,"legend",29),l.Tc(811,"Assessment Details"),l.Wb(),l.Wb(),l.Xb(812,"span"),l.Rc(813,Hm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(814,"mat-card",31),l.Xb(815,"mat-card-content"),l.Xb(816,"div",32),l.Sb(817,"div",33),l.Xb(818,"div",34),l.Xb(819,"div",35),l.Tc(820,"Approved Loan Amount"),l.Wb(),l.Xb(821,"div",36),l.Tc(822),l.Wb(),l.Wb(),l.Xb(823,"div",34),l.Xb(824,"div",35),l.Tc(825,"Loan Tenure"),l.Wb(),l.Xb(826,"div",36),l.Tc(827),l.Wb(),l.Wb(),l.Xb(828,"div",34),l.Xb(829,"div",35),l.Tc(830,"Rate Of Interest"),l.Wb(),l.Xb(831,"div",36),l.Tc(832),l.Wb(),l.Wb(),l.Wb(),l.Xb(833,"div",32),l.Sb(834,"div",33),l.Xb(835,"div",34),l.Xb(836,"div",35),l.Tc(837,"Loan Amount Recommended"),l.Wb(),l.Xb(838,"div",36),l.Tc(839),l.Wb(),l.Wb(),l.Xb(840,"div",34),l.Xb(841,"div",35),l.Tc(842,"System Recommendation"),l.Wb(),l.Xb(843,"div",36),l.Tc(844),l.Wb(),l.Wb(),l.Xb(845,"div",34),l.Xb(846,"div",35),l.Tc(847,"User Recommendation"),l.Wb(),l.Xb(848,"div",36),l.Tc(849),l.Wb(),l.Wb(),l.Wb(),l.Xb(850,"div",32),l.Sb(851,"div",33),l.Xb(852,"div",34),l.Xb(853,"div",35),l.Tc(854,"Requested Loan Amount"),l.Wb(),l.Xb(855,"div",36),l.Tc(856),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(857,"br"),l.Wb(),l.Wb(),l.Sb(858,"br"),l.Xb(859,"div",23),l.Xb(860,"div",24),l.Xb(861,"div",25),l.Tc(862,"5"),l.Wb(),l.Xb(863,"div",26),l.Tc(864,"\xa0"),l.Wb(),l.Wb(),l.Xb(865,"div",27),l.Xb(866,"h2"),l.Tc(867,"Loan Offer Issue"),l.Wb(),l.Sb(868,"hr"),l.Sb(869,"br"),l.Xb(870,"mat-card",59),l.Xb(871,"div",28),l.Xb(872,"fieldset"),l.Xb(873,"legend",29),l.Tc(874,"Offer Issue Details"),l.Wb(),l.Wb(),l.Xb(875,"span"),l.Rc(876,Ym,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Xb(877,"mat-card",31),l.Xb(878,"mat-card-content"),l.Xb(879,"div",32),l.Sb(880,"div",33),l.Xb(881,"div",34),l.Xb(882,"div",35),l.Tc(883,"Applicant Name"),l.Wb(),l.Xb(884,"div",36),l.Tc(885),l.Wb(),l.Wb(),l.Xb(886,"div",34),l.Xb(887,"div",35),l.Tc(888,"Approved Loan Amount"),l.Wb(),l.Xb(889,"div",36),l.Tc(890),l.Wb(),l.Wb(),l.Xb(891,"div",34),l.Xb(892,"div",35),l.Tc(893,"Charges"),l.Wb(),l.Xb(894,"div",36),l.Tc(895),l.Wb(),l.Wb(),l.Wb(),l.Xb(896,"div",32),l.Sb(897,"div",33),l.Xb(898,"div",34),l.Xb(899,"div",35),l.Tc(900,"Generate Offer"),l.Wb(),l.Xb(901,"div",36),l.Tc(902),l.Wb(),l.Wb(),l.Xb(903,"div",34),l.Xb(904,"div",35),l.Tc(905,"Installment Amount"),l.Wb(),l.Xb(906,"div",36),l.Tc(907),l.Wb(),l.Wb(),l.Xb(908,"div",34),l.Xb(909,"div",35),l.Tc(910,"Installment Type"),l.Wb(),l.Xb(911,"div",36),l.Tc(912),l.Wb(),l.Wb(),l.Wb(),l.Xb(913,"div",32),l.Sb(914,"div",33),l.Xb(915,"div",34),l.Xb(916,"div",35),l.Tc(917,"Interest"),l.Wb(),l.Xb(918,"div",36),l.Tc(919),l.Wb(),l.Wb(),l.Xb(920,"div",34),l.Xb(921,"div",35),l.Tc(922,"Loan Tenure"),l.Wb(),l.Xb(923,"div",36),l.Tc(924),l.Wb(),l.Wb(),l.Xb(925,"div",34),l.Xb(926,"div",35),l.Tc(927,"Offer Issue Date"),l.Wb(),l.Xb(928,"div",36),l.Tc(929),l.Wb(),l.Wb(),l.Wb(),l.Xb(930,"div",32),l.Sb(931,"div",33),l.Xb(932,"div",34),l.Xb(933,"div",35),l.Tc(934,"Principal"),l.Wb(),l.Xb(935,"div",36),l.Tc(936),l.Wb(),l.Wb(),l.Xb(937,"div",34),l.Xb(938,"div",35),l.Tc(939,"Rate Of Interest"),l.Wb(),l.Xb(940,"div",36),l.Tc(941),l.Wb(),l.Wb(),l.Sb(942,"div",34),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(943,"br"),l.Wb(),l.Wb(),l.Sb(944,"br"),l.Xb(945,"div",23),l.Xb(946,"div",24),l.Xb(947,"div",25),l.Tc(948,"6"),l.Wb(),l.Xb(949,"div",26),l.Tc(950,"\xa0"),l.Wb(),l.Wb(),l.Xb(951,"div",27),l.Xb(952,"h2"),l.Tc(953,"Offer Accept/Reject Stage"),l.Wb(),l.Sb(954,"hr"),l.Sb(955,"br"),l.Xb(956,"mat-card",59),l.Xb(957,"div",28),l.Xb(958,"fieldset"),l.Xb(959,"legend",29),l.Tc(960,"Offer Accept Details"),l.Wb(),l.Wb(),l.Xb(961,"span"),l.Rc(962,Zm,2,0,"mat-icon",30),l.Wb(),l.Wb(),l.Rc(963,Qm,60,10,"mat-card",60),l.Wb(),l.Sb(964,"br"),l.Wb(),l.Wb(),l.Sb(965,"br"),l.Xb(966,"div",23),l.Xb(967,"div",24),l.Xb(968,"div",25),l.Tc(969,"7"),l.Wb(),l.Xb(970,"div",26),l.Tc(971,"\xa0"),l.Wb(),l.Wb(),l.Xb(972,"div",27),l.Xb(973,"h2"),l.Tc(974,"Post Offer Amend Stage"),l.Wb(),l.Sb(975,"hr"),l.Sb(976,"br"),l.Xb(977,"mat-card",59),l.Xb(978,"div",28),l.Xb(979,"fieldset"),l.Xb(980,"legend",29),l.Tc(981,"Post Offer Amend Stage"),l.Wb(),l.Wb(),l.Sb(982,"span"),l.Wb(),l.Rc(983,tp,65,11,"mat-card",60),l.Wb(),l.Sb(984,"br"),l.Wb(),l.Wb(),l.Sb(985,"br"),l.Xb(986,"div",23),l.Xb(987,"div",24),l.Xb(988,"div",25),l.Tc(989,"8"),l.Wb(),l.Xb(990,"div",26),l.Tc(991,"\xa0"),l.Wb(),l.Wb(),l.Xb(992,"div",27),l.Xb(993,"h2"),l.Tc(994,"Account Credit Details Stage"),l.Wb(),l.Sb(995,"hr"),l.Sb(996,"br"),l.Xb(997,"mat-card",59),l.Xb(998,"div",28),l.Xb(999,"fieldset"),l.Xb(1e3,"legend",29),l.Tc(1001,"Account Create Details Stage"),l.Wb(),l.Wb();l.Sb(1002,"span"),l.Wb(),l.Rc(1003,ep,82,14,"mat-card",60),l.Wb(),l.Sb(1004,"br"),l.Wb(),l.Wb(),l.Sb(1005,"br"),l.Sb(1006,"br"),l.Xb(1007,"div",63),l.Xb(1008,"div",24),l.Xb(1009,"div",25),l.Tc(1010,"9"),l.Wb(),l.Xb(1011,"div",26),l.Tc(1012,"\xa0"),l.Wb(),l.Wb(),l.Xb(1013,"div",64),l.Xb(1014,"h2"),l.Tc(1015,"Digital Sign"),l.Wb(),l.Xb(1016,"div",65),l.Xb(1017,"fieldset"),l.Xb(1018,"legend",29),l.Tc(1019,"Digital Sign"),l.Wb(),l.Wb(),l.Wb(),l.Xb(1020,"mat-card",31),l.Xb(1021,"mat-card-content"),l.Xb(1022,"div",32),l.Sb(1023,"div",33),l.Xb(1024,"div",34),l.Xb(1025,"div",35),l.Tc(1026,"Document Name"),l.Wb(),l.Xb(1027,"div",36),l.Tc(1028),l.Wb(),l.Wb(),l.Xb(1029,"div",34),l.Xb(1030,"div",35),l.Tc(1031,"File Type"),l.Wb(),l.Xb(1032,"div",36),l.Tc(1033),l.Wb(),l.Wb(),l.Xb(1034,"div",34),l.Xb(1035,"div",35),l.Tc(1036,"File Name"),l.Wb(),l.Xb(1037,"div",36),l.Tc(1038),l.Wb(),l.Wb(),l.Xb(1039,"div",34),l.Xb(1040,"div",35),l.Tc(1041,"Download"),l.Wb(),l.Rc(1042,ap,4,1,"div",66),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(1043,"div"),l.Xb(1044,"div",67),l.Xb(1045,"div",68),l.fc("click",function(){return e.continue()}),l.Xb(1046,"label",69),l.Tc(1047,"Cotinue"),l.Wb(),l.Wb(),l.Xb(1048,"div",70),l.fc("click",function(){return e.updateApplicationStatus(e.loanAccount_array,"REJECTED")}),l.Xb(1049,"mat-icon",71),l.Tc(1050," highlight_off "),l.Wb(),l.Tc(1051,"\xa0\xa0\xa0 "),l.Xb(1052,"label",72),l.Tc(1053,"Reject"),l.Wb(),l.Wb(),l.Tc(1054," \xa0\xa0 "),l.Xb(1055,"div",73),l.fc("click",function(){return e.updateApplicationStatus(e.loanAccount_array,"APPROVED")}),l.Xb(1056,"mat-icon",74),l.Tc(1057,"check_circle"),l.Wb(),l.Tc(1058,"\xa0\xa0\xa0 "),l.Xb(1059,"label",75),l.Tc(1060,"Approve"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Sb(1061,"br"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb()}2&t&&(l.Eb(11),l.rc("ngForOf",e.nameCreater),l.Eb(7),l.Vc("",null==e.createDataInfo?null:e.createDataInfo.createdBy," "),l.Eb(3),l.Vc("EID #",null==e.createDataInfo?null:e.createDataInfo.creatorId,""),l.Eb(6),l.Vc(" ",null==e.createDataInfo?null:e.createDataInfo.mobile," "),l.Eb(6),l.Vc(" ",null==e.createDataInfo?null:e.createDataInfo.email," "),l.Eb(3),l.rc("ngIf","not_available"==e.imageUrl),l.Eb(1),l.rc("ngIf","not_available"!==e.imageUrl),l.Eb(7),l.Xc("",e.loanInfo.prefix,"\xa0",e.loanInfo.firstName,"\xa0",e.loanInfo.lastName,""),l.Eb(16),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(9),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.accountCurrency),l.Eb(5),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.accountBranch),l.Eb(5),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanAccountId),l.Eb(7),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.applicationDate.slice(0,12)),l.Eb(5),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.customerContribution),l.Eb(5),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.estimatedCost),l.Eb(7),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanAmount),l.Eb(5),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanTenure),l.Eb(5),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.purposeOfLoan),l.Eb(7),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.status),l.Eb(5),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.businessProductName),l.Eb(5),l.Uc(null==e.loanAccount_array?null:e.loanAccount_array.modificationNo),l.Eb(6),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(9),l.Uc(null==e.assest_array?null:e.assest_array.assetStatus),l.Eb(5),l.Uc(null==e.assest_array?null:e.assest_array.building),l.Eb(5),l.Uc(null==e.assest_array?null:e.assest_array.mortgagedBranch),l.Eb(7),l.Uc(null==e.assest_array?null:e.assest_array.city),l.Eb(5),l.Uc(null==e.assest_array?null:e.assest_array.country),l.Eb(5),l.Uc(null==e.assest_array?null:e.assest_array.dimensions),l.Eb(7),l.Uc(null==e.assest_array?null:e.assest_array.homeType),l.Eb(5),l.Uc(null==e.assest_array?null:e.assest_array.locality),l.Eb(5),l.Uc(null==e.assest_array?null:e.assest_array.marketValue),l.Eb(7),l.Uc(null==e.assest_array?null:e.assest_array.state),l.Eb(5),l.Uc(null==e.assest_array?null:e.assest_array.city),l.Eb(5),l.Uc(null==e.assest_array?null:e.assest_array.zipCode),l.Eb(9),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(17),l.Uc(e.ownership),l.Eb(5),l.Uc(e.ownership),l.Eb(5),l.Uc(e.noOfApplicants),l.Eb(1),l.rc("ngForOf",e.customerInfoDetails),l.Eb(7),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(20),l.Uc(null==e.mandateDetails?null:e.mandateDetails.noOfApplicants),l.Eb(2),l.rc("ngForOf",e.mandateDetailsArray),l.Eb(7),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(9),l.Uc(null==e.colateral_array?null:e.colateral_array.attributes),l.Eb(5),l.Uc(null==e.colateral_array?null:e.colateral_array.building),l.Eb(5),l.Uc(null==e.colateral_array?null:e.colateral_array.city),l.Eb(7),l.Uc(null==e.colateral_array?null:e.colateral_array.collateralCurrency),l.Eb(5),l.Uc(null==e.colateral_array?null:e.colateral_array.collateralType),l.Eb(5),l.Uc(null==e.colateral_array?null:e.colateral_array.collateralValue),l.Eb(7),l.Uc(null==e.colateral_array?null:e.colateral_array.country),l.Eb(5),l.Uc(null==e.colateral_array?null:e.colateral_array.dimensions),l.Eb(5),l.Uc(null==e.colateral_array?null:e.colateral_array.locality),l.Eb(7),l.Uc(null==e.colateral_array?null:e.colateral_array.state),l.Eb(5),l.Uc(null==e.colateral_array?null:e.colateral_array.thirdPartyCollateral),l.Eb(5),l.Uc(null==e.colateral_array?null:e.colateral_array.street),l.Eb(2),l.rc("ngIf",e.colateral_array),l.Eb(7),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(9),l.Uc(null==e.guranator_array?null:e.guranator_array.prefix),l.Eb(5),l.Uc(null==e.guranator_array?null:e.guranator_array.firstName),l.Eb(5),l.Uc(null==e.guranator_array?null:e.guranator_array.lastName),l.Eb(7),l.Uc(null==e.guranator_array?null:e.guranator_array.cifNumber),l.Eb(5),l.Uc(null==e.guranator_array?null:e.guranator_array.relationWithCustomer),l.Eb(5),l.Uc(null==e.guranator_array?null:e.guranator_array.country),l.Eb(7),l.Uc(null==e.guranator_array?null:e.guranator_array.dateOfBirth),l.Eb(5),l.Uc(null==e.guranator_array?null:e.guranator_array.emailAddress),l.Eb(5),l.Uc(null==e.guranator_array?null:e.guranator_array.mobileNumber),l.Eb(7),l.Uc(null==e.guranator_array?null:e.guranator_array.address1),l.Eb(5),l.Uc(null==e.guranator_array?null:e.guranator_array.address2),l.Eb(5),l.Uc(null==e.guranator_array?null:e.guranator_array.city),l.Eb(7),l.Uc(null==e.guranator_array?null:e.guranator_array.state),l.Eb(5),l.Uc(null==e.guranator_array?null:e.guranator_array.phoneNumber),l.Eb(5),l.Uc(null==e.guranator_array?null:e.guranator_array.zipCode),l.Eb(20),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(1),l.rc("ngForOf",e.loanInterest_array),l.Eb(10),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(9),l.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.branchCode),l.Eb(5),l.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.customerAccount),l.Eb(5),l.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.disbursementMode),l.Eb(7),l.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.firstDisbursementDate),l.Eb(5),l.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.loanAmount),l.Eb(5),l.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.mutipleDisbursementRequired),l.Eb(7),l.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.numberOfDisbursement),l.Eb(5),l.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.totalDisbursement),l.Eb(9),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(9),l.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.bankName),l.Eb(5),l.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.branchCode),l.Eb(5),l.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.customerAccount),l.Eb(7),l.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.firstRepaymentDate),l.Eb(5),l.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.loanTenure),l.Eb(5),l.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.maturityDate),l.Eb(7),l.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.moraturioumPeriod),l.Eb(5),l.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.typeOfRepayment),l.Eb(5),l.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.repaymentFrequency),l.Eb(7),l.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.repaymentMode),l.Eb(8),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(1),l.rc("ngForOf",e.loanCharge_array),l.Eb(15),l.Uc(null==e.accountService_array?null:e.accountService_array.statementCycle),l.Eb(5),l.Uc(null==e.accountService_array?null:e.accountService_array.statementType),l.Eb(5),l.Uc(null==e.accountService_array?null:e.accountService_array.startDate),l.Eb(18),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(1),l.rc("ngIf",e.loanCreditScore_array),l.Eb(8),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(9),l.Uc(null==e.valueofassest_array?null:e.valueofassest_array.bankValuation),l.Eb(5),l.Uc(null==e.valueofassest_array?null:e.valueofassest_array.assetType),l.Eb(5),l.Uc(null==e.valueofassest_array?null:e.valueofassest_array.propertyAreaSize),l.Eb(7),l.Uc(null==e.valueofassest_array?null:e.valueofassest_array.actualPropertyAreaSize),l.Eb(5),l.Uc(null==e.valueofassest_array?null:e.valueofassest_array.borrowersMktValOfAsset),l.Eb(5),l.Uc(null==e.valueofassest_array?null:e.valueofassest_array.faceValOfAsset),l.Eb(7),l.Uc(null==e.valueofassest_array?null:e.valueofassest_array.mktValOfAsset),l.Eb(5),l.Uc(null==e.valueofassest_array?null:e.valueofassest_array.assetValue),l.Eb(5),l.Uc(null==e.valueofassest_array?null:e.valueofassest_array.forcedSaleValue),l.Eb(7),l.Uc(null==e.valueofassest_array?null:e.valueofassest_array.valuationDate.slice(0,12)),l.Eb(8),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(9),l.Uc(null==e.legaopninio_array?null:e.legaopninio_array.opinion),l.Eb(5),l.Uc(null==e.legaopninio_array?null:e.legaopninio_array.assetAreaSize),l.Eb(5),l.Uc(null==e.legaopninio_array?null:e.legaopninio_array.description),l.Eb(7),l.Uc(null==e.legaopninio_array?null:e.legaopninio_array.lawyerName),l.Eb(5),l.Uc(null==e.legaopninio_array?null:e.legaopninio_array.mktValOfAsset),l.Eb(5),l.Uc(null==e.legaopninio_array?null:e.legaopninio_array.opinionDate),l.Eb(7),l.Uc(null==e.legaopninio_array?null:e.legaopninio_array.isDecisionFavorable),l.Eb(5),l.Uc(null==e.legaopninio_array?null:e.legaopninio_array.valuationDate),l.Eb(26),l.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardId),l.Eb(5),l.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.numberOfApplicant),l.Eb(5),l.rc("ngForOf",null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardMapping),l.Eb(7),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(9),l.Uc(null==e.loanassement_array?null:e.loanassement_array.approvedLoanAmount),l.Eb(5),l.Uc(null==e.loanassement_array?null:e.loanassement_array.loanTenure),l.Eb(5),l.Uc(null==e.loanassement_array?null:e.loanassement_array.rateOfInterest),l.Eb(7),l.Uc(null==e.loanassement_array?null:e.loanassement_array.loanAmountRecommendation),l.Eb(5),l.Uc(null==e.loanassement_array?null:e.loanassement_array.systemRecommendation),l.Eb(5),l.Uc(null==e.loanassement_array?null:e.loanassement_array.userRecommendation),l.Eb(7),l.Uc(null==e.loanassement_array?null:e.loanassement_array.requestedLoanAmount),l.Eb(20),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(9),l.Uc(null==e.offerissue_array?null:e.offerissue_array.applicantName),l.Eb(5),l.Uc(null==e.offerissue_array?null:e.offerissue_array.approvedLoanAmount),l.Eb(5),l.Uc(null==e.offerissue_array?null:e.offerissue_array.charges),l.Eb(7),l.Uc(null==e.offerissue_array?null:e.offerissue_array.generateOffer),l.Eb(5),l.Uc(null==e.offerissue_array?null:e.offerissue_array.installmentAmount),l.Eb(5),l.Uc(null==e.offerissue_array?null:e.offerissue_array.installmentType),l.Eb(7),l.Uc(null==e.offerissue_array?null:e.offerissue_array.interest),l.Eb(5),l.Uc(null==e.offerissue_array?null:e.offerissue_array.loanTenure),l.Eb(5),l.Uc(null==e.offerissue_array?null:e.offerissue_array.offerIssueDate),l.Eb(7),l.Uc(null==e.offerissue_array?null:e.offerissue_array.principal),l.Eb(5),l.Uc(null==e.offerissue_array?null:e.offerissue_array.rateOfInterest),l.Eb(21),l.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),l.Eb(1),l.rc("ngIf",e.offerDetails),l.Eb(20),l.rc("ngIf",e.postOfferDetails),l.Eb(20),l.rc("ngIf",e.accountCreateValue),l.Eb(25),l.Uc(null==e.signatureData?null:e.signatureData.documentName),l.Eb(5),l.Uc(null==e.signatureData?null:e.signatureData.fileType),l.Eb(5),l.Uc(null==e.signatureData?null:e.signatureData.fileName),l.Eb(4),l.rc("ngIf",null==e.signatureData?null:e.signatureData.fileUrl),l.Eb(3),l.rc("hidden",e.continueStatus)("ngClass",l.yc(161,op,e.continueStatus,!e.continueStatus)),l.Eb(3),l.rc("hidden",e.rejectedStatus)("hidden",e.rejectedStatus)("ngClass",l.yc(164,ip,e.rejectedStatus,!e.rejectedStatus)),l.Eb(7),l.rc("hidden",e.approvedStatus)("ngClass",l.yc(167,rp,e.approvedStatus,!e.approvedStatus)))},directives:[X.e,X.d,T.a,c.m,E.c,c.n,X.b,Ba.a,E.a,E.d,X.f,I.f,c.l,bo.a,$.a,$.c,$.e,$.f,D.a],pipes:[c.v,c.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.rejectbtn[_ngcontent-%COMP%]{text-align:center;border-style:1px solid transparent;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:78px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.approvebtn[_ngcontent-%COMP%]{border-style:1px solid transparent;margin:10px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.num[_ngcontent-%COMP%]{width:50%;height:53px;padding-top:15px;background-color:#fff}.num[_ngcontent-%COMP%], .num1[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center}.num1[_ngcontent-%COMP%]{width:15%;height:70px;padding-top:25px}.qtncrd[_ngcontent-%COMP%]{border:.5px groove;margin-right:2%}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:1%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%;border:1px solid}.appersoninfocard1[_ngcontent-%COMP%]{width:90%;border:1px solid}.interstcard[_ngcontent-%COMP%]{background-color:#e5e5e5;width:100px;height:80px}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px;position:relative;padding-right:12px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;padding:3rem 2.7rem;color:#fff}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.editbtn[_ngcontent-%COMP%]{width:150px}.editbtn[_ngcontent-%COMP%], .editScreen[_ngcontent-%COMP%]{color:#fff;background-color:#0e7cc5;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;border-color:#0e57c5;height:30px}.editScreen[_ngcontent-%COMP%]{width:100px}.qtncrd[_ngcontent-%COMP%]{background-color:#f7f7f7;margin-left:12%;margin-bottom:40px;padding:10px;width:100%;box-shadow:#f7f7f7;block-size:70px;height:80px}.qtnval[_ngcontent-%COMP%]{padding-top:8px;width:100%;color:#696969}.qtncard1[_ngcontent-%COMP%]{height:80px;block-size:80px;background-color:#f7f7f7;margin-left:12%}.qtncard[_ngcontent-%COMP%], .qtncard1[_ngcontent-%COMP%]{width:100%}.qtnhd[_ngcontent-%COMP%]{margin:20px}.applicanthd[_ngcontent-%COMP%]{text-align:left;padding:42px;font-size:medium;font-family:sans-serif;color:rgba(0,0,0,.7411764705882353)}.edit_icon[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-right:20px;float:right}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),np),sp=function(t,e,a,n){return new(a||(a=Promise))(function(o,i){function r(t){try{s(n.next(t))}catch(e){i(e)}}function c(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,c)}s((n=n.apply(t,e||[])).next())})};function lp(t,e){1&t&&l.Sb(0,"mat-spinner",20),2&t&&l.rc("diameter",15)}function bp(t,e){if(1&t){var a=l.Yb();l.Xb(0,"button",17),l.fc("click",function(){return l.Hc(a),l.jc().clear()}),l.Xb(1,"div",18),l.Rc(2,lp,1,1,"mat-spinner",19),l.Wb(),l.Xb(3,"mat-icon"),l.Tc(4,"close"),l.Wb(),l.Wb()}if(2&t){var n=l.jc();l.Eb(2),l.rc("ngIf",n.loading)}}function up(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",34),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function dp(t,e){if(1&t&&l.Sb(0,"img",35),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function mp(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),l.Xb(1,"div"),l.Xb(2,"mat-icon",22),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",23),l.Xb(9,"div",24),l.Rc(10,up,2,1,"div",25),l.Rc(11,dp,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(13,"mat-card-title",27),l.Tc(14),l.Wb(),l.Xb(15,"mat-card-subtitle"),l.Xb(16,"span",28),l.Tc(17),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"form",29),l.Xb(19,"div",30),l.Xb(20,"div",31),l.Xb(21,"span",32),l.Tc(22,"Account Branch "),l.Wb(),l.Xb(23,"span",33),l.Tc(24),l.Wb(),l.Wb(),l.Xb(25,"div",31),l.Xb(26,"span",32),l.Tc(27,"Account Type "),l.Wb(),l.Xb(28,"span",33),l.Tc(29),l.Wb(),l.Wb(),l.Wb(),l.Sb(30,"br"),l.Xb(31,"div",30),l.Xb(32,"div",31),l.Xb(33,"span",32),l.Tc(34,"Business Product Name"),l.Wb(),l.Xb(35,"span",33),l.Tc(36),l.Wb(),l.Wb(),l.Xb(37,"div",31),l.Xb(38,"span",32),l.Tc(39,"Status"),l.Wb(),l.Xb(40,"span",33),l.Tc(41),l.Wb(),l.Wb(),l.Wb(),l.Sb(42,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(12);l.Eb(6),l.Uc(l.lc(7,12,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(3),l.Vc("#",n.loanAccountId,""),l.Eb(7),l.Uc(n.accountBranch),l.Eb(5),l.Uc(n.accountType),l.Eb(7),l.Uc(n.businessProductName),l.Eb(5),l.Uc(n.status)}}function pp(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",34),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function fp(t,e){if(1&t&&l.Sb(0,"img",35),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function hp(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),l.Xb(1,"div"),l.Xb(2,"mat-icon",36),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",23),l.Xb(9,"div",24),l.Rc(10,pp,2,1,"div",25),l.Rc(11,fp,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(13,"mat-card-title",27),l.Tc(14),l.Wb(),l.Xb(15,"mat-card-subtitle"),l.Xb(16,"span",28),l.Tc(17),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"form",29),l.Xb(19,"div",30),l.Xb(20,"div",31),l.Xb(21,"span",32),l.Tc(22,"Account Branch "),l.Wb(),l.Xb(23,"span",33),l.Tc(24),l.Wb(),l.Wb(),l.Xb(25,"div",31),l.Xb(26,"span",32),l.Tc(27,"Account Type "),l.Wb(),l.Xb(28,"span",33),l.Tc(29),l.Wb(),l.Wb(),l.Wb(),l.Sb(30,"br"),l.Xb(31,"div",30),l.Xb(32,"div",31),l.Xb(33,"span",32),l.Tc(34,"Business Product Name"),l.Wb(),l.Xb(35,"span",33),l.Tc(36),l.Wb(),l.Wb(),l.Xb(37,"div",31),l.Xb(38,"span",32),l.Tc(39,"Status"),l.Wb(),l.Xb(40,"span",33),l.Tc(41),l.Wb(),l.Wb(),l.Wb(),l.Sb(42,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(12);l.Eb(6),l.Uc(l.lc(7,12,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(3),l.Vc("#",n.loanAccountId,""),l.Eb(7),l.Uc(n.accountBranch),l.Eb(5),l.Uc(n.accountType),l.Eb(7),l.Uc(n.businessProductName),l.Eb(5),l.Uc(n.status)}}function gp(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",34),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function vp(t,e){if(1&t&&l.Sb(0,"img",35),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function yp(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),l.Xb(1,"div"),l.Xb(2,"mat-icon",37),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",23),l.Xb(9,"div",24),l.Rc(10,gp,2,1,"div",25),l.Rc(11,vp,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(13,"mat-card-title",27),l.Tc(14),l.Wb(),l.Xb(15,"mat-card-subtitle"),l.Xb(16,"span",28),l.Tc(17),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"form",29),l.Xb(19,"div",30),l.Xb(20,"div",31),l.Xb(21,"span",32),l.Tc(22,"Account Branch "),l.Wb(),l.Xb(23,"span",33),l.Tc(24),l.Wb(),l.Wb(),l.Xb(25,"div",31),l.Xb(26,"span",32),l.Tc(27,"Account Type "),l.Wb(),l.Xb(28,"span",33),l.Tc(29),l.Wb(),l.Wb(),l.Wb(),l.Sb(30,"br"),l.Xb(31,"div",30),l.Xb(32,"div",31),l.Xb(33,"span",32),l.Tc(34,"Business Product Name"),l.Wb(),l.Xb(35,"span",33),l.Tc(36),l.Wb(),l.Wb(),l.Xb(37,"div",31),l.Xb(38,"span",32),l.Tc(39,"Status"),l.Wb(),l.Xb(40,"span",33),l.Tc(41),l.Wb(),l.Wb(),l.Wb(),l.Sb(42,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(12);l.Eb(6),l.Uc(l.lc(7,12,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(3),l.Vc("#",n.loanAccountId,""),l.Eb(7),l.Uc(n.accountBranch),l.Eb(5),l.Uc(n.accountType),l.Eb(7),l.Uc(n.businessProductName),l.Eb(5),l.Uc(n.status)}}function Wp(t,e){if(1&t&&(l.Xb(0,"div"),l.Sb(1,"app-photo",34),l.Wb()),2&t){var a=l.jc().$implicit;l.Eb(1),l.rc("name",(null==a?null:a.firstName)+" "+a.lastName)}}function Xp(t,e){if(1&t&&l.Sb(0,"img",35),2&t){var a=l.jc().$implicit;l.rc("src",a.profileImage,l.Jc)}}function Tp(t,e){if(1&t){var a=l.Yb();l.Xb(0,"div",21),l.fc("click",function(){l.Hc(a);var t=e.$implicit,n=e.index,o=l.jc();return o.goToLoanAccountSummary(t,"ONGOING",o.getRandomColor(n+3))}),l.Xb(1,"div"),l.Xb(2,"mat-icon",38),l.Tc(3,"bookmark"),l.Wb(),l.Xb(4,"span"),l.Xb(5,"small"),l.Tc(6),l.kc(7,"dateAgo"),l.Wb(),l.Wb(),l.Wb(),l.Xb(8,"mat-card-header",23),l.Xb(9,"div",24),l.Rc(10,Wp,2,1,"div",25),l.Rc(11,Xp,1,1,"ng-template",null,26,l.Sc),l.Wb(),l.Xb(13,"mat-card-title",27),l.Tc(14),l.Wb(),l.Xb(15,"mat-card-subtitle"),l.Xb(16,"span",28),l.Tc(17),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"form",29),l.Xb(19,"div",30),l.Xb(20,"div",31),l.Xb(21,"span",32),l.Tc(22,"Account Branch "),l.Wb(),l.Xb(23,"span",33),l.Tc(24),l.Wb(),l.Wb(),l.Xb(25,"div",31),l.Xb(26,"span",32),l.Tc(27,"Account Type "),l.Wb(),l.Xb(28,"span",33),l.Tc(29),l.Wb(),l.Wb(),l.Wb(),l.Sb(30,"br"),l.Xb(31,"div",30),l.Xb(32,"div",31),l.Xb(33,"span",32),l.Tc(34,"Business Product Name"),l.Wb(),l.Xb(35,"span",33),l.Tc(36),l.Wb(),l.Wb(),l.Xb(37,"div",31),l.Xb(38,"span",32),l.Tc(39,"Status"),l.Wb(),l.Xb(40,"span",33),l.Tc(41),l.Wb(),l.Wb(),l.Wb(),l.Sb(42,"br"),l.Wb(),l.Wb()}if(2&t){var n=e.$implicit,o=l.Dc(12);l.Eb(6),l.Uc(l.lc(7,12,null==n?null:n.createdTime)),l.Eb(4),l.rc("ngIf","not_available"==n.profileImage)("ngIfElse",o),l.Eb(4),l.Yc(" ",n.prefix,"\xa0",n.firstName,"\xa0",n.middleName,"\xa0",n.lastName," "),l.Eb(3),l.Vc("#",n.loanAccountId,""),l.Eb(7),l.Uc(n.accountBranch),l.Eb(5),l.Uc(n.accountType),l.Eb(7),l.Uc(n.businessProductName),l.Eb(5),l.Uc(n.status)}}var Ip,Ep,Cp=[{path:""},{path:"task-summary",component:Ci},{path:"cust-on-boarding-task-summary",component:jc},{path:"kyc-task-summary",component:Bi},{path:"cust-on-boarding-approver",component:xc},{path:"corporate-task-summary",component:Ib},{path:"loan-account-task-summary",component:(Ip=function(){function t(e,a,o,i,r,c,s,b){n(this,t),this.dialog=e,this.ls=a,this.taskSumService=o,this.cdr=i,this.apiService=r,this.snack=c,this.sanitizer=s,this.route=b,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.screenType="loan",this.isScroll=!0,this.setValue=new l.o,this._searchSubject=new u.a,this.listOfOptions=[{label:"Corporate ID",value:"corporateID",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this._setSearchSubscription()}return i(t,[{key:"onScroll",value:function(t){this.isScroll&&(this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"ngOnInit",value:function(){var t=this;this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.route.queryParamMap.subscribe(function(e){e.get("searchTerm")?(t.redirectedFromTellerSearch=!0,t.searchText=e.get("searchTerm"),t.updateSearch(t.searchText),setTimeout(function(){t.openSearchedApprover()},3e3)):t.getDataOnLoad()}),this.listOfOptions.filter(function(e){e.checked&&(t.radioButtonSelected=e.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}},{key:"radioChange",value:function(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}},{key:"updateSearch",value:function(t){console.log("searchTextValue::",t),this._searchSubject.next(t)}},{key:"_setSearchSubscription",value:function(){var t=this;this._searchSubject.pipe(Object(d.a)(1e3)).subscribe(function(e){if(t.setValue.emit(e),console.log("search value :: ",e),console.log("search text :: ",t.searchText),null==e||""==e||""==e)return t.noDataFound=!1,t.searchable=!1,void t.getDataOnLoad();t.searchcorporateID(e)})}},{key:"clear",value:function(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}},{key:"getDataOnLoad",value:function(){return sp(this,void 0,void 0,a().mark(function t(){var e;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.statusArr.length;e++)this.fetchCustomerInfo(this.statusArr[e]);case 1:case"end":return t.stop()}},t,this)}))}},{key:"fetchCustomerInfo",value:function(t){var e=this;this.taskSumService.getallLoanAccountData(t).subscribe(function(a){console.log("Response",a),e.updateStatusResponse(t,a)})}},{key:"updateStatusResponse",value:function(t,e){console.log("data",e),console.log("status",t),"BACKLOG"==t?(this.BACKLOGArr=null==e?void 0:e.loanList,this.BACKLOGTotalPages=null==e?void 0:e.totalPages,this.BACKLOGTotalRecords=null==e?void 0:e.totalNoOfElements):"ONGOING"==t?(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.loanList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.loanList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}},{key:"onScrollingFinished",value:function(t,e){"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}},{key:"getDataOnScroll",value:function(t,e,a){var n=this;console.log("---------scrolled----------"),e!==a?this.taskSumService.getAllLoanDetailOnScroll(t,e).subscribe(function(e){console.log("count data :: ",e),n.cdr.markForCheck(),n.updateDataOnScroll(t,e.loanList)}):console.log("No scroll requied")}},{key:"goToLoanAccountSummary",value:function(t,e,a){var n=this;localStorage.setItem("CustomerColorCode",a),this.dialog.open(cp,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(function(t){console.log("dialog closed:: ",t),1==n.redirectedFromTellerSearch?n.updateSearch(n.searchText):n.getDataOnLoad()})}},{key:"searchcorporateID",value:function(t){var e,a,n=this;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("Id"),e=this.searchText.trim(),this.taskSumService.getallLoanAccountData2(e).subscribe(function(t){console.log(t),null!=t?(a="loanAccountId="+e,console.log("loan",a)):(console.log("not a loan"),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(function(){n.getCustomerData(a)},100),this.isScroll=!1}},{key:"getCustomerData",value:function(t){var e=this;console.log(t),this.loading=!0;for(var a=0;a<this.statusArr.length;a++){var n=this.statusArr[a];"BACKLOG"==n?this.taskSumService.getallLoanAccountData1(t,n).subscribe(function(t){e.BACKLOGTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.BACKLOGArr=[];for(var a=0;a<(null==t?void 0:t.loanList.length);a++)e.BACKLOGArr.push(null==t?void 0:t.loanList[a])}):"ONGOING"==n?this.taskSumService.getallLoanAccountData1(t,n).subscribe(function(t){e.ONGOINGTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.ONGOINGArr=[];for(var a=0;a<(null==t?void 0:t.loanList.length);a++)e.ONGOINGArr.push(t.loanList[a])}):"APPROVED"==n?this.taskSumService.getallLoanAccountData1(t,n).subscribe(function(t){e.APPROVEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.APPROVEDArr=[];for(var a=0;a<(null==t?void 0:t.loanList.length);a++)e.APPROVEDArr.push(t.loanList[a])}):"REJECTED"==n&&this.taskSumService.getallLoanAccountData1(t,n).subscribe(function(t){e.REJECTEDTotalPages=null==t?void 0:t.totalPages,e.loading=!1,console.log("resp data :: ",t),e.REJECTEDArr=[];for(var a=0;a<(null==t?void 0:t.loanList.length);a++)e.REJECTEDArr.push(null==t?void 0:t.loanList[a])})}}},{key:"resetSearchData",value:function(){this.BACKLOGArr=[],this.ONGOINGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}},{key:"searchResponseUpdate",value:function(t,e){"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}},{key:"getProfileImage",value:function(t){var e=this;this.apiService.getProfileDetails(t).subscribe(function(t){if(console.log(t),console.log(t.profileImage),e.searchable=!1,null!=t.profileImage){var a="data:image/jpeg;base64,"+t.profileImage.fileData;e.searchable=!0,e.image=e.sanitizer.bypassSecurityTrustUrl(a),console.log(e.searchable,"Searchable")}},function(t){console.log(t)})}},{key:"getcorporateIDData",value:function(t){var e=this;console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(function(t){if(console.log("resp data :: ",t),e.cdr.markForCheck(),e.cdr.detectChanges(),null!=t){var a=t[0].customerAdditionalInfo.kycStatus+"Arr";e[a].splice(0,0,t[0]),e[a]=e[a].slice(),console.log("resp value :: ",e[a])}else e.noDataFound=!0})}},{key:"ngOnDestroy",value:function(){this._searchSubject.unsubscribe(),this.ONGOINGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.BACKLOGArr=[],this.BACKLOGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.ONGOINGPage=0,this.BACKLOGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.ONGOINGTotalPages=0}},{key:"updateDataOnScroll",value:function(t,e){return sp(this,void 0,void 0,a().mark(function n(){var o,i,r,c;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"BACKLOG"==t?(o=Qt.unionBy(this.BACKLOGArr,e,"loanAccountId"),this.BACKLOGArr=o):"ONGOING"==t?(i=Qt.unionBy(this.ONGOINGArr,e,"loanAccountId"),this.ONGOINGArr=i):"APPROVED"==t?(r=Qt.unionBy(this.APPROVEDArr,e,"loanAccountId"),this.APPROVEDArr=r):"REJECTED"==t&&(c=Qt.unionBy(this.REJECTEDArr,e,"loanAccountId"),this.REJECTEDArr=c),this.cdr.markForCheck();case 2:case"end":return a.stop()}},n,this)}))}},{key:"isNum",value:function(t){return!isNaN(t)}},{key:"isString",value:function(t){return t}},{key:"openSearchedApprover",value:function(){var t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(function(t){return 1==t.length});console.log(t),1==t.length&&this.goToLoanAccountSummary(t[0][0],t[0][0].custStatus)}},{key:"getRandomColor",value:function(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}]),t}(),Ip.\u0275fac=function(t){return new(t||Ip)(l.Rb(p.b),l.Rb(m.a),l.Rb(g.a),l.Rb(l.h),l.Rb(b.b),l.Rb(W.a),l.Rb(lo.b),l.Rb(Ze.a))},Ip.\u0275cmp=l.Lb({type:Ip,selectors:[["app-loan-account-task-summary"]],hostBindings:function(t,e){1&t&&l.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:51,vars:17,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"heading"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"topSection"],["appearance","outline",1,"full-width"],["matInput","","name","search","autocomplete","off","placeholder","Search Loan Account Id",3,"ngModel","ngModelChange","keyup"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","colorChange",3,"click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayoutAlign","center"],[3,"diameter",4,"ngIf"],[3,"diameter"],[1,"colorChange",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"naming"],[1,"loanIdText"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxLayout","column","fxFlex","45",1,"pr2"],[1,"col3"],[1,"labelValue","col4"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","book2"],[1,"fill-color-blue","bookMark","book3"],[1,"fill-color-blue","bookMark","book4"]],template:function(t,e){1&t&&(l.Sb(0,"br"),l.Xb(1,"div",0),l.fc("scrolled",function(t){return e.onScroll(t)}),l.Sb(2,"br"),l.Xb(3,"div",1),l.Xb(4,"div",2),l.Xb(5,"div",3),l.Xb(6,"span",4),l.Tc(7," Loan Account Task Summary "),l.Wb(),l.Wb(),l.Xb(8,"div",5),l.Xb(9,"mat-form-field",6),l.Xb(10,"mat-label"),l.Tc(11,"Search"),l.Wb(),l.Xb(12,"input",7),l.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),l.Wb(),l.Xb(13,"mat-icon",8),l.Tc(14,"search"),l.Wb(),l.Rc(15,bp,5,1,"button",9),l.Xb(16,"mat-hint"),l.Tc(17,"Search Loan Account ID"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(18,"div",10),l.Xb(19,"div",11),l.Xb(20,"mat-card",12),l.Xb(21,"div",13),l.Xb(22,"span",14),l.Xb(23,"h2",15),l.Tc(24),l.Wb(),l.Wb(),l.Wb(),l.Xb(25,"div"),l.Rc(26,mp,43,14,"div",16),l.Wb(),l.Sb(27,"br"),l.Wb(),l.Xb(28,"mat-card",12),l.Xb(29,"div",13),l.Xb(30,"span",14),l.Xb(31,"h2",15),l.Tc(32),l.Wb(),l.Wb(),l.Wb(),l.Xb(33,"div"),l.Rc(34,hp,43,14,"div",16),l.Wb(),l.Wb(),l.Xb(35,"mat-card",12),l.Xb(36,"div",13),l.Xb(37,"span",14),l.Xb(38,"h2",15),l.Tc(39),l.Wb(),l.Wb(),l.Wb(),l.Xb(40,"div"),l.Rc(41,yp,43,14,"div",16),l.Wb(),l.Sb(42,"br"),l.Wb(),l.Xb(43,"mat-card",12),l.Xb(44,"div",13),l.Xb(45,"span",14),l.Xb(46,"h2",15),l.Tc(47),l.Wb(),l.Wb(),l.Wb(),l.Xb(48,"div"),l.Rc(49,Tp,43,14,"div",16),l.Wb(),l.Wb(),l.Wb(),l.Sb(50,"br"),l.Wb(),l.Wb()),2&t&&(l.Eb(1),l.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),l.Eb(11),l.rc("ngModel",e.searchText),l.Eb(3),l.rc("ngIf",e.searchText),l.Eb(9),l.Wc("Pending for approval (",null==e.BACKLOGArr?null:e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.BACKLOGArr),l.Eb(6),l.Wc("Ongoing (",null==e.ONGOINGArr?null:e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.ONGOINGArr),l.Eb(5),l.Wc("Approved (",null==e.APPROVEDArr?null:e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.APPROVEDArr),l.Eb(6),l.Wc("Rejected (",null==e.REJECTEDArr?null:e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),l.Eb(2),l.rc("ngForOf",e.REJECTEDArr))},directives:[oi.a,X.e,X.d,X.f,X.b,I.c,I.g,C.b,v.c,v.r,v.u,T.a,I.i,c.n,I.f,E.a,c.m,A.b,I.j,R.b,E.e,E.c,E.h,E.g,v.A,v.s,v.t,li],pipes:[Di.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#0f0f0f}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%;padding-left:55px;padding-right:55px}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.topSection[_ngcontent-%COMP%]{padding-right:5.35%;margin-top:2%}.heading[_ngcontent-%COMP%]{padding-left:3.7%;margin-top:3%}.headingss[_ngcontent-%COMP%]{font-size:17px}.colorChange[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:38vh}.book2[_ngcontent-%COMP%]{color:#ff8c00}.book3[_ngcontent-%COMP%]{color:#1fbfa9}.book4[_ngcontent-%COMP%]{color:red}.naming[_ngcontent-%COMP%]{font-size:12px;overflow-wrap:anywhere}.loanIdText[_ngcontent-%COMP%]{text-transform:uppercase;color:#1fbfa9;font-size:12px}.imgData[_ngcontent-%COMP%]{width:150px;height:50px;border-radius:50%}.labelValue[_ngcontent-%COMP%]{overflow-wrap:anywhere}.pr2[_ngcontent-%COMP%]{padding-right:2%}"]}),Ip)},{path:"corporate-approver",component:eb},{path:"card-account-task-summary",component:md},{path:"card-account-approver",component:Yu},{path:"loan-account-task-summary/loan-account-approver",component:Xd}],xp=r("rJgo"),Op=r("hzfI"),Dp=r("5QHs"),Ap=r("KeVr"),Rp=r("zMWy"),Sp=r("mnDI"),kp=r("WRcG"),Np=r("KVVp"),Pp=r("Svv8"),Fp=((Ep=i(function t(){n(this,t)})).\u0275mod=l.Pb({type:Ep}),Ep.\u0275inj=l.Ob({factory:function(t){return new(t||Ep)},providers:[{provide:p.g,useValue:{}},{provide:p.a,useValue:[]}],imports:[[c.c,v.l,v.x,xp.c,C.c,s.a,T.b,E.f,Ap.a,Op.c,Ba.b,I.e,Sp.a,O.f,te.c,R.a,oi.b,Dp.a,D.b,h.b,Rp.a,Ze.l.forChild(Cp),kp.OnboardingCorporateModule,Np.OthersModule]]}),Ep);l.Kc(Pp.a,[X.e,X.d,T.a,E.a,kr.a,X.f,A.b],[])}}])}();