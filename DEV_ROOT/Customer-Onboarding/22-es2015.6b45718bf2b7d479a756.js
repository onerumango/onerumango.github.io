(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{X7Rc:function(t,e,a){"use strict";a.r(e),a.d(e,"TasksModule",function(){return Dm});var o=a("SVse"),i=a("u9T3"),n=a("8Y7J"),r=a("nm5K"),c=a("XNiG"),s=a("Kj3r"),l=a("tZUg"),b=a("iELJ"),d=a("qMRc"),u=a("Tczp"),m=a("6rwl"),p=a("s7LF"),h=a("wd/R"),f=a("zHaW"),g=a("VDRc"),v=a("Tj54"),W=a("Q2Ze"),X=a("PDjf"),y=a("e6WT"),T=a("ZTz/"),I=a("TN/R"),E=a("jMqV"),C=a("Dxy4"),x=a("pu8Q"),D=a("UhP/");function O(t,e){1&t&&n.Sb(0,"mat-spinner",34),2&t&&n.rc("diameter",80)}function A(t,e){if(1&t&&(n.Xb(0,"mat-option",35),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function R(t,e){1&t&&(n.Xb(0,"mat-error",36),n.Tc(1," Account Type is Required! "),n.Wb())}function S(t,e){if(1&t&&(n.Xb(0,"mat-option",35),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.branchName),n.Eb(1),n.Vc(" ",t.branchName," ")}}function N(t,e){1&t&&(n.Xb(0,"mat-error",36),n.Tc(1," Account Branch is Required! "),n.Wb())}function P(t,e){1&t&&(n.Xb(0,"mat-error",36),n.Tc(1," Account Currency is Required! "),n.Wb())}function k(t,e){1&t&&(n.Xb(0,"mat-error",36),n.Tc(1," Business Product Name is Required! "),n.Wb())}function F(t,e){1&t&&(n.Xb(0,"mat-error",36),n.Tc(1," Product Description is Required! "),n.Wb())}function L(t,e){1&t&&(n.Xb(0,"mat-error",36),n.Tc(1," Application Date is Required! "),n.Wb())}function _(t,e){1&t&&(n.Xb(0,"mat-error",36),n.Tc(1," Please enter valid Application Date! "),n.Wb())}function w(t,e){1&t&&(n.Xb(0,"mat-error",36),n.Tc(1," SWIFT Code is Required! "),n.Wb())}function U(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," SWIFT Code should be a combination of minimum of 8 alphanumeric characters"),n.Wb())}function M(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",5),n.Xb(1,"mat-hint",6),n.Tc(2,"SWIFT Code"),n.Wb(),n.Xb(3,"mat-card",7),n.Xb(4,"input",37),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress1(e)}),n.Wb(),n.Wb(),n.Rc(5,w,2,0,"mat-error",13),n.Rc(6,U,2,0,"mat-error",38),n.Wb()}if(2&t){const t=n.jc();n.Eb(5),n.rc("ngIf",t.accountUpdateForm.get("swiftCode").hasError("required")&&t.accountUpdateForm.get("swiftCode").touched),n.Eb(1),n.rc("ngIf",t.accountUpdateForm.get("swiftCode").value&&!t.accountUpdateForm.get("swiftCode").hasError("required"))}}let G=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.data=t,this.dialogRef=e,this.appApiService=a,this.formBuilder=o,this.api=i,this.cdr=n,this.snack=r,this.apiService=c,this.ls=s,this.minDate=new Date,this.maxDate=new Date,this.validDate=new Date,this.invalidDate=!1,this.validDate.setDate(this.validDate.getDate())}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getAccountBranchDetails(),this.getAccountType("account_type"),this.data&&this.data.accountId?this.buildAccountUpdateForm(this.data):this.buildAccountUpdateForm()}buildAccountUpdateForm(t){console.log(t);let e=t?h(t.applicationDate).format():"";this.flag=!(!t||!t.swiftCodeEnable),t&&null!=t.fundTheAccount&&(this.disableFundTheAccount=!0),t.applicationDate<h(new Date).format("YYYY-MM-DD")&&(this.invalidDate=!0),this.accountUpdateForm=this.formBuilder.group({cifNumber:[t&&t.customerId?t.customerId:"",[p.z.required,p.z.minLength(5)]],customerName:[t?t.customerName:""],accountId:[this.accountId],accountType:[t?t.accountType:"",p.z.required],businessProductName:[t?t.businessProductName:"",p.z.required],productImage:[t?t.productImage:""],productDescription:[t?t.productDescription:"",p.z.required],accountBranch:[t?t.accountBranch:"",p.z.required],accountCurrency:[t?t.accountCurrency:"",p.z.required],applicationDate:[t?e:"",p.z.required],fundTheAccount:[t?t.fundTheAccount:"0"],fundBy:[!!t&&t.fundBy],amount:[t?t.amount:"0"],overDraftRequested:[!!t&&t.overDraftRequested],status:[t?t.status:""],swiftCodeEnable:[!!t&&t.swiftCodeEnable],swiftCode:[t?t.swiftCode:"",p.z.pattern("(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+){8,8}$")]})}onSubmit(){let t={accountId:this.accountId,accountType:this.accountUpdateForm.value.accountType,businessProductName:this.accountUpdateForm.value.businessProductName,customerId:this.accountUpdateForm.value.customerId,productImage:this.accountUpdateForm.value.productImage,productDescription:this.accountUpdateForm.value.productDescription,accountBranch:this.accountUpdateForm.value.accountBranch,accountCurrency:this.accountUpdateForm.value.accountCurrency,applicationDate:this.convertDate(this.accountUpdateForm.value.applicationDate),fundTheAccount:this.accountUpdateForm.value.fundTheAccount,fundBy:this.accountUpdateForm.value.fundBy,amount:this.accountUpdateForm.value.amount,overDraftRequested:this.accountUpdateForm.value.overDraftRequested,status:this.accountUpdateForm.value.status,swiftCode:this.accountUpdateForm.value.swiftCode,swiftCodeEnable:this.accountUpdateForm.value.swiftCodeEnable,customerName:this.accountUpdateForm.value.customerName};0!=this.isCifValid?this.apiService.saveProductAccountInfo(t).subscribe(t=>{200===t||null!==t?(this.snack.open("Account Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})):500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))}):this.snack.open("Kindly Enter Valid CifNumber to proceed!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}fetchByCif(t){this.showSpinn=!0,this.apiService.fetchByCif(t).subscribe(e=>{if("APPROVED"!=e.customerInfoList[0].custStatus&&(this.isCifValid=!1,this.snack.open("CIF Number is not Approved :"+t,"",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})),this.accountUpdateForm.controls.cifNumber.setValue(t),this.currencyData=this.arrayAccountBranch.find(t=>t.branchName==this.branchName),this.accountUpdateForm.get("accountBranch").setValue(this.branchName),null==this.currencyData&&null==this.currencyData||this.accountUpdateForm.get("accountCurrency").setValue(this.currencyData.branchCcy),this.accountUpdateForm.get("amount").setValue(0),this.accountUpdateForm.get("swiftCode").setValue(null),this.showSpinn=!1,!e)return this.isCifValid=!1,void this.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});"APPROVED"==e.customerInfoList[0].custStatus&&(this.isCifValid=!0),null!=this.accountUpdateForm.value.swiftCode&&null!=this.accountUpdateForm.value.swiftCodeEnable||(console.log(this.accountUpdateForm.value.swiftCode),this.flag=!1),"APPROVED"==e.customerInfoList[0].custStatus&&(e.customerInfoList[0].middleName?this.accountUpdateForm.get("customerName").setValue(e.customerInfoList[0].firstName+" "+e.customerInfoList[0].middleName+" "+e.customerInfoList[0].lastName):this.accountUpdateForm.get("customerName").setValue(e.customerInfoList[0].firstName+" "+e.customerInfoList[0].lastName),this.cifNumberPrimary=t),this.cdr.markForCheck()})}onToggle(t){1==t.checked?this.flag=!0:(this.flag=!1,this.accountUpdateForm.controls.swiftCode.reset(),this.cdr.detectChanges(),this.cdr.markForCheck())}onKeyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),console.log(t.target.value),clearTimeout(this.timer),t.target.value?this.timer=setTimeout(()=>{this.appApiService.fetchByCif(t.target.value).subscribe(t=>{console.log(t),t&&(this.listOfCustByCif=t.customerInfoList)})},1e3):this.listOfCustByCif=[]}_keyPress(t){console.log("gghhhhhhhhhhhhhhhh");let e=String.fromCharCode(t.charCode);/^[A-Za-z\s]*$/.test(e)||t.preventDefault()}_keyPress1(t){let e=String.fromCharCode(t.charCode);/[a-zA-Z0-9]/.test(e)||t.preventDefault()}keyUpevent(t){console.log("event",t),8===t.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1}getAccountType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayAccountType=t})}getAccountBranchDetails(){this.api.getAccountBranch().subscribe(t=>{this.arrayAccountBranch=t,this.currencyData=this.arrayAccountBranch.find(t=>t.branchName==this.branchName),console.log("Currency",this.currencyData),null==this.currencyData&&null==this.currencyData||this.accountUpdateForm.get("accountCurrency").setValue(this.currencyData.branchCcy)})}onChangeBranch(t){this.currencyData=this.arrayAccountBranch.find(e=>e.branchName==t.value),null==this.currencyData&&null==this.currencyData||this.accountUpdateForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}convertDate(t){let e=h(t).format("YYYY-MMM-DD");if(e)return e}close(){this.dialogRef.close({status:"ONGOING"})}addevent(t){this.invalidDate=!1}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(d.a),n.Rb(p.f),n.Rb(r.b),n.Rb(n.h),n.Rb(f.a),n.Rb(d.a),n.Rb(l.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-account-details-update"]],decls:94,vars:17,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"keypress","change","keyup"],["class","spinner",3,"diameter",4,"ngIf"],["matInput","","readonly","","required","","formControlName","customerName","name","customerName","placeholder","Customer Name",3,"keypress","keyup"],["name","accountType","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["name","account_branch","formControlName","accountBranch",3,"selectionChange"],["matInput","","name","currency","placeholder","Account Currency","formControlName","accountCurrency",3,"readonly"],["matInput","","name","product_image","formControlName","productImage","placeholder","Product Image","value",""],["matInput","","name","business","formControlName","businessProductName","placeholder","Business Product Name"],["matInput","","name","business","placeholder","Product Description","formControlName","productDescription"],["fxFlex","85%"],["matInput","","name","date","readonly","","formControlName","applicationDate","placeholder","Application Date",3,"matDatepicker","min","dateChange"],["fxFlex","15%"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["fxLayout","row"],["formControlName","swiftCodeEnable",3,"change"],[1,"pb-1"],[1,"ml-12"],["formControlName","fundBy"],["formControlName","overDraftRequested"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[1,"spinner",3,"diameter"],[3,"value"],[1,"errorClass"],["minlength","8","maxlength","11","matInput","","name","swift_code","required","","formControlName","swiftCode","placeholder","SWIFT Code","value","",3,"keypress"],[4,"ngIf"]],template:function(t,e){if(1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Account Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"form",3),n.Xb(7,"div",4),n.Xb(8,"div",5),n.Xb(9,"mat-hint",6),n.Tc(10,"CIF Number"),n.Wb(),n.Xb(11,"mat-card",7),n.Xb(12,"input",8),n.fc("keypress",function(t){return e._keyPress(t)})("change",function(){return e.fetchByCif(e.accountUpdateForm.get("cifNumber").value)})("keyup",function(t){return e.onKeyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Rc(13,O,1,1,"mat-spinner",9),n.Xb(14,"div",5),n.Xb(15,"mat-hint",6),n.Tc(16,"Customer Name"),n.Wb(),n.Xb(17,"mat-card",7),n.Xb(18,"input",10),n.fc("keypress",function(t){return e._keyPress(t)})("keyup",function(t){return e.keyUpevent(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"div",5),n.Xb(20,"mat-hint",6),n.Tc(21,"Account Type*"),n.Wb(),n.Xb(22,"mat-card",7),n.Xb(23,"mat-select",11),n.Rc(24,A,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(25,R,2,0,"mat-error",13),n.Wb(),n.Xb(26,"div",5),n.Xb(27,"mat-hint",6),n.Tc(28,"Account Branch*"),n.Wb(),n.Xb(29,"mat-card",7),n.Xb(30,"mat-select",14),n.fc("selectionChange",function(t){return e.onChangeBranch(t)}),n.Rc(31,S,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(32,N,2,0,"mat-error",13),n.Wb(),n.Xb(33,"div",5),n.Xb(34,"mat-hint",6),n.Tc(35,"Account Currency*"),n.Wb(),n.Xb(36,"mat-card",7),n.Sb(37,"input",15),n.Wb(),n.Rc(38,P,2,0,"mat-error",13),n.Wb(),n.Xb(39,"div",5),n.Xb(40,"mat-hint",6),n.Tc(41,"Product Image"),n.Wb(),n.Xb(42,"mat-card",7),n.Sb(43,"input",16),n.Wb(),n.Wb(),n.Xb(44,"div",5),n.Xb(45,"mat-hint",6),n.Tc(46,"Business Product Name*"),n.Wb(),n.Xb(47,"mat-card",7),n.Sb(48,"input",17),n.Wb(),n.Rc(49,k,2,0,"mat-error",13),n.Wb(),n.Xb(50,"div",5),n.Xb(51,"mat-hint",6),n.Tc(52,"Product Description*"),n.Wb(),n.Xb(53,"mat-card",7),n.Sb(54,"input",18),n.Wb(),n.Rc(55,F,2,0,"mat-error",13),n.Wb(),n.Xb(56,"div",5),n.Xb(57,"mat-hint",6),n.Tc(58,"Application Date*"),n.Wb(),n.Xb(59,"mat-card",7),n.Xb(60,"div",19),n.Xb(61,"input",20),n.fc("dateChange",function(t){return e.addevent(t)}),n.Wb(),n.Wb(),n.Xb(62,"div",21),n.Sb(63,"mat-datepicker-toggle",22),n.Wb(),n.Wb(),n.Rc(64,L,2,0,"mat-error",13),n.Rc(65,_,2,0,"mat-error",13),n.Sb(66,"mat-datepicker",null,23),n.Wb(),n.Wb(),n.Xb(68,"div"),n.Xb(69,"div"),n.Rc(70,M,7,2,"div",24),n.Wb(),n.Xb(71,"div",25),n.Xb(72,"div"),n.Tc(73," Want to add SWIFT Code ? "),n.Xb(74,"mat-slide-toggle",26),n.fc("change",function(t){return e.onToggle(t)}),n.Wb(),n.Wb(),n.Sb(75,"br"),n.Wb(),n.Xb(76,"div"),n.Xb(77,"div",27),n.Xb(78,"label"),n.Tc(79,"Initial Funding?"),n.Wb(),n.Sb(80,"div",28),n.Sb(81,"mat-slide-toggle",29),n.Wb(),n.Wb(),n.Xb(82,"div"),n.Xb(83,"div",27),n.Xb(84,"label"),n.Tc(85,"Overdraft Requested?"),n.Wb(),n.Sb(86,"div",28),n.Sb(87,"mat-slide-toggle",30),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(88,"div",31),n.Xb(89,"button",32),n.fc("click",function(){return e.onSubmit()}),n.Tc(90,"Save"),n.Wb(),n.Tc(91," \xa0\xa0\xa0 "),n.Xb(92,"button",33),n.fc("click",function(){return e.close()}),n.Tc(93," Cancel "),n.Wb(),n.Wb()),2&t){const t=n.Dc(67);n.Eb(6),n.rc("formGroup",e.accountUpdateForm),n.Eb(7),n.rc("ngIf",e.showSpinn),n.Eb(11),n.rc("ngForOf",e.arrayAccountType),n.Eb(1),n.rc("ngIf",e.accountUpdateForm.get("accountType").hasError("required")&&e.accountUpdateForm.get("accountType").touched),n.Eb(6),n.rc("ngForOf",e.arrayAccountBranch),n.Eb(1),n.rc("ngIf",e.accountUpdateForm.get("accountBranch").hasError("required")&&e.accountUpdateForm.get("accountBranch").touched),n.Eb(5),n.rc("readonly",!0),n.Eb(1),n.rc("ngIf",e.accountUpdateForm.get("accountCurrency").hasError("required")&&e.accountUpdateForm.get("accountCurrency").touched),n.Eb(11),n.rc("ngIf",e.accountUpdateForm.get("businessProductName").hasError("required")&&e.accountUpdateForm.get("businessProductName").touched),n.Eb(6),n.rc("ngIf",e.accountUpdateForm.get("productDescription").hasError("required")&&e.accountUpdateForm.get("productDescription").touched),n.Eb(6),n.rc("matDatepicker",t)("min",e.validDate),n.Eb(2),n.rc("for",t),n.Eb(1),n.rc("ngIf",e.accountUpdateForm.get("applicationDate").hasError("required")&&e.accountUpdateForm.get("applicationDate").touched),n.Eb(1),n.rc("ngIf",e.invalidDate),n.Eb(5),n.rc("ngIf",e.flag),n.Eb(19),n.rc("disabled",e.accountUpdateForm.invalid)}},directives:[g.e,g.f,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,y.b,p.c,p.r,p.i,o.n,p.y,T.a,o.m,I.e,I.g,W.j,I.d,E.a,C.b,x.b,D.n,W.b,p.n,p.m],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var V=a("3kSh"),B=a("3sEA"),j=a("o4Yh"),z=a("f44v"),q=a("2Goh");function J(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function K(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Ownership is Required! "),n.Wb())}function $(t,e){if(1&t){const t=n.Yb();n.Vb(0),n.Xb(1,"mat-form-field",20),n.Xb(2,"mat-label"),n.Tc(3,"Number of Applicants*"),n.Wb(),n.Xb(4,"mat-select",21),n.fc("selectionChange",function(e){return n.Hc(t),n.jc(2).onChangeApplicantNo(e)}),n.Xb(5,"mat-option",18),n.Tc(6,"1"),n.Wb(),n.Xb(7,"mat-option",18),n.Tc(8,"2"),n.Wb(),n.Xb(9,"mat-option",18),n.Tc(10,"3"),n.Wb(),n.Xb(11,"mat-option",18),n.Tc(12,"4"),n.Wb(),n.Xb(13,"mat-option",18),n.Tc(14,"5"),n.Wb(),n.Wb(),n.Wb(),n.Ub()}2&t&&(n.Eb(5),n.rc("value",1),n.Eb(2),n.rc("value",2),n.Eb(2),n.rc("value",3),n.Eb(2),n.rc("value",4),n.Eb(2),n.rc("value",5))}function H(t,e){if(1&t&&(n.Xb(0,"mat-chip",65),n.Tc(1),n.Wb()),2&t){const t=n.jc().$implicit,e=n.jc(2);n.rc("color","warn")("selected",t.value.primaryCustomer),n.Eb(1),n.Uc(e.account.value.primaryCustomer?"primary":"")}}function Y(t,e){1&t&&n.Tb(0)}const Z=function(t){return{$implicit:t}};function Q(t,e){if(1&t&&(n.Vb(0),n.Rc(1,Y,1,0,"ng-container",66),n.Ub()),2&t){const t=n.jc().$implicit,e=n.jc(2);n.Eb(1),n.rc("ngTemplateOutlet",e.detailApplicant)("ngTemplateOutletContext",n.xc(2,Z,t))}}function tt(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function et(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Prefix is Required! "),n.Wb())}function at(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," First Name is Required! "),n.Wb())}function ot(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Last Name is Required! "),n.Wb())}function it(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Date of Birth is Required! "),n.Wb())}function nt(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function rt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Gender is Required! "),n.Wb())}function ct(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function st(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Resident Status is Required! "),n.Wb())}function lt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Birth Place is Required! "),n.Wb())}function bt(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function dt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Country of Residence is Required! "),n.Wb())}function ut(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function mt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Citizenship By is Required! "),n.Wb())}function pt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Occupation Type is Required! "),n.Wb())}function ht(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function ft(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," ID Type is Required! "),n.Wb())}function gt(t,e){1&t&&(n.Xb(0,"div"),n.Tc(1,"Unique ID Number is Required!"),n.Wb())}function vt(t,e){1&t&&(n.Xb(0,"div"),n.Tc(1,"This is a numeric field "),n.Wb())}function Wt(t,e){if(1&t&&(n.Xb(0,"mat-error",19),n.Rc(1,gt,2,0,"div",33),n.Rc(2,vt,2,0,"div",33),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("ngIf",t.get("idNumber").hasError("required")),n.Eb(1),n.rc("ngIf",t.get("idNumber").hasError("pattern"))}}function Xt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," ID Type Valid Till is Required! "),n.Wb())}function yt(t,e){if(1&t&&(n.Xb(0,"div",39),n.Xb(1,"mat-hint",10),n.Tc(2,"ID Type Valid Till*"),n.Wb(),n.Xb(3,"mat-card",71),n.Xb(4,"div",72),n.Sb(5,"input",73),n.Wb(),n.Xb(6,"div",74),n.Sb(7,"mat-datepicker-toggle",46),n.Wb(),n.Wb(),n.Rc(8,Xt,2,0,"mat-error",13),n.Sb(9,"mat-datepicker",null,75),n.Wb()),2&t){const t=n.Dc(10),e=n.jc().$implicit,a=n.jc(3);n.Eb(5),n.rc("matDatepicker",t)("min",a.validDate),n.Eb(2),n.rc("for",t),n.Eb(1),n.rc("ngIf",e.get("expiryDate").hasError("required"))}}function Tt(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",67),n.Xb(1,"div",39),n.Xb(2,"mat-hint",10),n.Tc(3,"ID Type*"),n.Wb(),n.Xb(4,"mat-card",40),n.Xb(5,"mat-select",68),n.fc("selectionChange",function(){n.Hc(t);const a=e.$implicit;return n.jc(3).changeIdType(a.get("idType").value)}),n.Rc(6,ht,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(7,ft,2,0,"mat-error",13),n.Wb(),n.Xb(8,"div",39),n.Xb(9,"mat-hint",10),n.Tc(10,"Unique ID Number *"),n.Wb(),n.Xb(11,"mat-card",40),n.Sb(12,"input",69),n.Wb(),n.Rc(13,Wt,3,2,"mat-error",13),n.Wb(),n.Rc(14,yt,11,4,"div",70),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.jc(3);n.rc("formGroupName",a),n.Eb(6),n.rc("ngForOf",o.arrayDocumentType),n.Eb(1),n.rc("ngIf",t.get("idType").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("idNumber").touched&&!t.get("idNumber").valid),n.Eb(1),n.rc("ngIf","Passport"==t.get("idType").value||"DL"==t.get("idType").value)}}function It(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Address 1 is Required! "),n.Wb())}function Et(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Please Enter Valid Address "),n.Wb())}function Ct(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Address 2 is Required! "),n.Wb())}function xt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Please Enter Valid Address "),n.Wb())}function Dt(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Ot(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Residence Type is Required! "),n.Wb())}function At(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Rt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Country is Required! "),n.Wb())}function St(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.stateName),n.Eb(1),n.Vc(" ",t.stateName,"")}}function Nt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," State is Required! "),n.Wb())}function Pt(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc("",t," ")}}function kt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," City is Required! "),n.Wb())}function Ft(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Please enter valid Zip Code!(5-10 digits) "),n.Wb())}function Lt(t,e){1&t&&(n.Xb(0,"h5",85),n.Tc(1,"Please enter valid Zip Code! "),n.Wb())}function _t(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",76),n.Xb(1,"div",77),n.Xb(2,"div",39),n.Xb(3,"mat-hint",10),n.Tc(4,"Address Line 1*"),n.Wb(),n.Xb(5,"mat-card",40),n.Sb(6,"textarea",78),n.Wb(),n.Rc(7,It,2,0,"mat-error",13),n.Rc(8,Et,2,0,"mat-error",13),n.Wb(),n.Xb(9,"div",39),n.Xb(10,"mat-hint",10),n.Tc(11,"Address 2*"),n.Wb(),n.Xb(12,"mat-card",40),n.Sb(13,"textarea",79),n.Wb(),n.Rc(14,Ct,2,0,"mat-error",13),n.Rc(15,xt,2,0,"mat-error",13),n.Wb(),n.Xb(16,"div",39),n.Xb(17,"mat-hint",10),n.Tc(18,"Residence Type*"),n.Wb(),n.Xb(19,"mat-card",40),n.Xb(20,"mat-select"),n.Rc(21,Dt,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(22,Ot,2,0,"mat-error",13),n.Wb(),n.Xb(23,"div",39),n.Xb(24,"mat-hint",10),n.Tc(25,"Country*"),n.Wb(),n.Xb(26,"mat-card",40),n.Xb(27,"mat-select",80),n.fc("selectionChange",function(e){return n.Hc(t),n.jc(3).getStateName(e.value)}),n.Rc(28,At,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(29,Rt,2,0,"mat-error",13),n.Wb(),n.Xb(30,"div",39),n.Xb(31,"mat-hint",10),n.Tc(32,"State*"),n.Wb(),n.Xb(33,"mat-card",40),n.Xb(34,"mat-select",81),n.fc("selectionChange",function(e){return n.Hc(t),n.jc(3).getCityName(e.value)}),n.Rc(35,St,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(36,Nt,2,0,"mat-error",13),n.Wb(),n.Xb(37,"div",39),n.Xb(38,"mat-hint",10),n.Tc(39,"City*"),n.Wb(),n.Xb(40,"mat-card",40),n.Xb(41,"mat-select",82),n.Rc(42,Pt,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(43,kt,2,0,"mat-error",13),n.Wb(),n.Xb(44,"div",39),n.Xb(45,"mat-hint",10),n.Tc(46,"Zip Code*"),n.Wb(),n.Xb(47,"mat-card",40),n.Xb(48,"input",83),n.fc("keypress",function(e){return n.Hc(t),n.jc(3).onKeyPress(e)})("keyup",function(e){return n.Hc(t),n.jc(3).isAllSameDigit(e)}),n.Wb(),n.Wb(),n.Rc(49,Ft,2,0,"mat-error",13),n.Rc(50,Lt,2,0,"h5",84),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.jc(3);n.rc("formGroupName",a),n.Eb(7),n.rc("ngIf",t.get("address1").touched&&t.get("address1").hasError("required")),n.Eb(1),n.rc("ngIf",t.get("address2").touched&&t.get("address1").hasError("pattern")),n.Eb(6),n.rc("ngIf",t.get("address2").hasError("required")),n.Eb(1),n.rc("ngIf",t.get("address2").touched&&t.get("address2").hasError("pattern")),n.Eb(6),n.rc("ngForOf",o.arrayAddressType),n.Eb(1),n.rc("ngIf",t.get("addressType").hasError("required")),n.Eb(6),n.rc("ngForOf",o.arrayCountry),n.Eb(1),n.rc("ngIf",t.get("country").hasError("required")),n.Eb(6),n.rc("ngForOf",o.arrayState),n.Eb(1),n.rc("ngIf",t.get("state").hasError("required")),n.Eb(6),n.rc("ngForOf",o.arrayCity),n.Eb(1),n.rc("ngIf",t.get("city").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("zipCode").hasError("required")&&!t.controls.zipCode.valid&&(null==t.controls.zipCode?null:t.controls.zipCode.touched)),n.Eb(1),n.rc("ngIf",o.isAllSameDigitVal)}}function wt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Please, Enter 10 digit Mobile Number! "),n.Wb())}function Ut(t,e){1&t&&(n.Xb(0,"mat-error",86),n.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),n.Wb())}function Mt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Landline Number is Required! "),n.Wb())}function Gt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Please, Enter 10 digit Landline Number! "),n.Wb())}function Vt(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," E-mail is Required! "),n.Wb())}function Bt(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",22),n.Xb(1,"mat-accordion",23),n.Xb(2,"mat-expansion-panel"),n.Xb(3,"mat-expansion-panel-header"),n.Xb(4,"mat-panel-title"),n.Xb(5,"mat-icon",24),n.Tc(6,"check_circle"),n.Wb(),n.Xb(7,"span",25),n.Tc(8),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"mat-card"),n.Xb(10,"mat-card-header"),n.Xb(11,"div",26),n.Sb(12,"app-avatar-photo",27),n.Wb(),n.Xb(13,"mat-card-title"),n.Xb(14,"div",28),n.Xb(15,"h6",29),n.Tc(16),n.Wb(),n.Sb(17,"span",30),n.Rc(18,H,2,3,"mat-chip",31),n.Wb(),n.Wb(),n.Xb(19,"mat-card-subtitle"),n.Xb(20,"span",32),n.Tc(21),n.Wb(),n.Wb(),n.Wb(),n.Xb(22,"mat-card-container"),n.Rc(23,Q,2,4,"ng-container",33),n.Wb(),n.Xb(24,"div"),n.Xb(25,"div",34),n.Xb(26,"div",35),n.Xb(27,"label"),n.Tc(28,"Is the applicant an existing customer?"),n.Wb(),n.Tc(29," \xa0\xa0 "),n.Sb(30,"mat-slide-toggle",36),n.Wb(),n.Xb(31,"div",35),n.Xb(32,"label"),n.Tc(33,"Is the applicant a primary customer?"),n.Wb(),n.Tc(34," \xa0\xa0 "),n.Sb(35,"mat-slide-toggle",37),n.Sb(36,"div",38),n.Wb(),n.Xb(37,"div",39),n.Xb(38,"mat-hint",10),n.Tc(39,"Customer Prefix*"),n.Wb(),n.Xb(40,"mat-card",40),n.Xb(41,"mat-select",41),n.Rc(42,tt,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(43,et,2,0,"mat-error",13),n.Wb(),n.Xb(44,"div",39),n.Xb(45,"mat-hint",10),n.Tc(46,"First Name*"),n.Wb(),n.Xb(47,"mat-card",40),n.Xb(48,"input",42),n.fc("keypress",function(e){return n.Hc(t),n.jc(2).letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(49,at,2,0,"mat-error",13),n.Wb(),n.Xb(50,"div",39),n.Xb(51,"mat-hint",10),n.Tc(52,"Middle Name"),n.Wb(),n.Xb(53,"mat-card",40),n.Xb(54,"input",43),n.fc("keypress",function(e){return n.Hc(t),n.jc(2).letterOnly(e)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(55,"div",39),n.Xb(56,"mat-hint",10),n.Tc(57,"Last Name*"),n.Wb(),n.Xb(58,"mat-card",40),n.Xb(59,"input",44),n.fc("keypress",function(e){return n.Hc(t),n.jc(2).letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(60,ot,2,0,"mat-error",13),n.Wb(),n.Xb(61,"div",39),n.Xb(62,"mat-hint",10),n.Tc(63,"Date of Birth*"),n.Wb(),n.Xb(64,"mat-card",40),n.Sb(65,"input",45),n.Sb(66,"mat-datepicker-toggle",46),n.Wb(),n.Rc(67,it,2,0,"mat-error",13),n.Sb(68,"mat-datepicker",null,47),n.Wb(),n.Xb(70,"div",39),n.Xb(71,"mat-hint",10),n.Tc(72,"Gender*"),n.Wb(),n.Xb(73,"mat-card",40),n.Xb(74,"mat-select",48),n.Rc(75,nt,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(76,rt,2,0,"mat-error",13),n.Wb(),n.Xb(77,"div",39),n.Xb(78,"mat-hint",10),n.Tc(79,"Resident Status*"),n.Wb(),n.Xb(80,"mat-card",40),n.Xb(81,"mat-select",49),n.Rc(82,ct,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(83,st,2,0,"mat-error",13),n.Wb(),n.Xb(84,"div",39),n.Xb(85,"mat-hint",10),n.Tc(86,"Birth Place*"),n.Wb(),n.Xb(87,"mat-card",40),n.Sb(88,"input",50),n.Wb(),n.Rc(89,lt,2,0,"mat-error",13),n.Wb(),n.Xb(90,"div",39),n.Xb(91,"mat-hint",10),n.Tc(92,"Country of Residence*"),n.Wb(),n.Xb(93,"mat-card",40),n.Xb(94,"mat-select",51),n.Rc(95,bt,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(96,dt,2,0,"mat-error",13),n.Wb(),n.Xb(97,"div",39),n.Xb(98,"mat-hint",10),n.Tc(99,"Citizenship By*"),n.Wb(),n.Xb(100,"mat-card",40),n.Xb(101,"mat-select",52),n.Rc(102,ut,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(103,mt,2,0,"mat-error",13),n.Wb(),n.Xb(104,"div",39),n.Xb(105,"mat-hint",10),n.Tc(106,"Occupation Type*"),n.Wb(),n.Xb(107,"mat-card",40),n.Sb(108,"input",53),n.Wb(),n.Rc(109,pt,2,0,"mat-error",13),n.Wb(),n.Xb(110,"div",54),n.Rc(111,Tt,15,5,"div",55),n.Wb(),n.Wb(),n.Xb(112,"mat-accordion"),n.Xb(113,"mat-expansion-panel",56),n.Xb(114,"mat-expansion-panel-header"),n.Xb(115,"mat-panel-title"),n.Tc(116,"Contact Information "),n.Wb(),n.Wb(),n.Xb(117,"div",57),n.Rc(118,_t,51,15,"div",58),n.Wb(),n.Wb(),n.Wb(),n.Xb(119,"mat-accordion"),n.Xb(120,"mat-expansion-panel",56),n.Xb(121,"mat-expansion-panel-header"),n.Xb(122,"mat-panel-title"),n.Tc(123,"Contact Information "),n.Wb(),n.Wb(),n.Xb(124,"div",34),n.Xb(125,"div",39),n.Xb(126,"mat-hint",10),n.Tc(127,"Mobile Number*"),n.Wb(),n.Xb(128,"mat-card",40),n.Xb(129,"input",59),n.fc("keypress",function(e){return n.Hc(t),n.jc(2).onKeyPress(e)}),n.Wb(),n.Wb(),n.Rc(130,wt,2,0,"mat-error",13),n.Rc(131,Ut,2,0,"mat-error",60),n.Wb(),n.Xb(132,"div",39),n.Xb(133,"mat-hint",10),n.Tc(134,"Landline Number"),n.Wb(),n.Xb(135,"mat-card",40),n.Xb(136,"input",61),n.fc("keypress",function(e){return n.Hc(t),n.jc(2).onKeyPress(e)}),n.Wb(),n.Wb(),n.Rc(137,Mt,2,0,"mat-error",13),n.Rc(138,Gt,2,0,"mat-error",13),n.Wb(),n.Xb(139,"div",39),n.Xb(140,"mat-hint",10),n.Tc(141,"E-mail*"),n.Wb(),n.Xb(142,"mat-card",40),n.Sb(143,"input",62),n.Wb(),n.Rc(144,Vt,2,0,"mat-error",13),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(145,"div",63),n.Xb(146,"button",64),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index;return n.jc(2).onSubmit(a.value,o)}),n.Tc(147," UPDATE APPLICANT "),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.Dc(69),i=n.jc(2);n.rc("item",i.account)("formGroupName",a),n.Eb(8),n.Vc("Applicant ",a+1,""),n.Eb(4),n.rc("name",t.value.firstName+" "+t.value.lastName),n.Eb(4),n.Uc(t.value.firstName+" "+t.value.lastName),n.Eb(2),n.rc("ngIf",t.primaryCustomer),n.Eb(3),n.Vc("CIF ",null!=t.value.cifNumber?"#"+t.value.cifNumber:"-n/a",""),n.Eb(2),n.rc("ngIf",(null==i.selectedApplicant?null:i.selectedApplicant._id)===t._id),n.Eb(19),n.rc("ngForOf",i.arrayPrefix),n.Eb(1),n.rc("ngIf",t.get("prefix").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("firstName").hasError("required")),n.Eb(11),n.rc("ngIf",t.get("lastName").hasError("required")),n.Eb(5),n.rc("matDatepicker",o)("max",i.tomorrow)("max",i.maxDate),n.Eb(1),n.rc("for",o),n.Eb(1),n.rc("ngIf",t.get("dateOfBirth").hasError("required")),n.Eb(8),n.rc("ngForOf",i.arrayGender),n.Eb(1),n.rc("ngIf",t.get("gender").hasError("required")),n.Eb(6),n.rc("ngForOf",i.arrayResidence),n.Eb(1),n.rc("ngIf",t.get("residenceStatus").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("placeOfBirth").hasError("required")),n.Eb(6),n.rc("ngForOf",i.arrayCountry),n.Eb(1),n.rc("ngIf",t.get("countryOfResidence").hasError("required")),n.Eb(6),n.rc("ngForOf",i.arrayCountry),n.Eb(1),n.rc("ngIf",t.get("nationality").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("occupationType").hasError("required")),n.Eb(2),n.rc("ngForOf",t.get("custIdProofs").controls),n.Eb(7),n.rc("ngForOf",t.get("userAddress").controls),n.Eb(12),n.rc("ngIf",t.get("phoneNumber").hasError("pattern")),n.Eb(1),n.rc("ngIf","0000000000"==t.get("phoneNumber").value),n.Eb(6),n.rc("ngIf",t.get("landlineNumber").hasError("required")),n.Eb(1),n.rc("ngIf",t.get("landlineNumber").hasError("pattern")),n.Eb(6),n.rc("ngIf",t.get("primaryEmailAdress").hasError("required")),n.Eb(2),n.rc("disabled",t.invalid)}}function jt(t,e){if(1&t){const t=n.Yb();n.Xb(0,"form",7),n.Xb(1,"div"),n.Xb(2,"div",8),n.Xb(3,"div",9),n.Xb(4,"mat-hint",10),n.Tc(5,"Ownership"),n.Wb(),n.Xb(6,"mat-card"),n.Xb(7,"mat-select",11),n.fc("selectionChange",function(){return n.Hc(t),n.jc().changeOwner()}),n.Rc(8,J,2,2,"mat-option",12),n.Wb(),n.Wb(),n.Rc(9,K,2,0,"mat-error",13),n.Wb(),n.Xb(10,"div",14),n.Rc(11,$,15,5,"ng-container",15),n.Wb(),n.Wb(),n.Wb(),n.Xb(12,"div",16),n.Rc(13,Bt,148,35,"div",17),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.rc("formGroup",t.customerInfoUpdateForm),n.Eb(8),n.rc("ngForOf",t.arrayOwnership),n.Eb(1),n.rc("ngIf",t.customerInfoUpdateForm.get("ownership").hasError("required")),n.Eb(2),n.rc("ngIf","Join"==t.customerInfoUpdateForm.get("ownership").value)("ngIfElse",t.showAdd),n.Eb(2),n.rc("ngForOf",t.applicant.controls)}}let zt=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l,b){this.data=t,this.dialogRef=e,this.appApiService=a,this.formBuilder=o,this.apiService=i,this.tasksummaryService=n,this.ls=r,this.snack=c,this.cdr=s,this.loader=l,this.confirmService=b,this.listOfAccounts=[],this.arrayCountry=[],this.arrayCity=[],this.arrayState=[]}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.productCustomerId=this.ls.getItem("accountDetails.customerId"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getOwnershipValue("ownership"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getDocumentType("document_type"),this.getAdressType("address_type"),this.data?(this.getStateValueArray(this.data.data[0].userAddress[0].country),this.getAllAuthCities(),this.buildCustomerForm(this.data.data),this.addCustFormGroup(this.data.data,this.data.data.length)):(this.buildCustomerForm(),this.addCustFormGroup(null,1)),console.log(this.customerInfoUpdateForm)}get f(){return this.customerInfoUpdateForm.controls}get applicantCount(){return this.f.numOfApplicants}get applicant(){return this.f.applicantDetails}buildCustomerForm(t){this.customerInfoUpdateForm=this.formBuilder.group({productAccountId:this.accountId,ownership:t&&t.length>1?"Join":"Self",numOfApplicants:t?t.length.toString():1,applicantDetails:this.formBuilder.array([])})}getStateValueArray(t){this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName==t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{this.arrayState=t});break}})}getAllAuthCities(){this.apiService.getAuthorizedCityInfo().subscribe(t=>t.map(t=>this.arrayCity.push(t.cityName)))}convertDate(t){let e=h(t).format("YYYY-MM-DD");if(console.log("date",e),e)return e}addCustFormGroup(t,e){for(let a=0;a<e;a++)this.applicant.push(this.formBuilder.group({existingCustomer:[t[a]?t[a].existingCustomer:""],primaryCustomer:[t[a]?t[a].primaryCustomer:""],cifNumber:[t[a]?t[a].cifNumber:""],prefix:[t[a]?t[a].prefix:"",p.z.required],firstName:[t[a]?t[a].firstName:"",p.z.required],middleName:[t[a]?t[a].middleName:""],lastName:[t[a]?t[a].lastName:"",p.z.required],gender:[t[a]?t[a].gender:"",p.z.required],dateOfBirth:[t[a]?t[a].dateOfBirth:"",p.z.required],placeOfBirth:[t[a]?t[a].placeOfBirth:"",p.z.required],residenceStatus:[t[a]?t[a].residenceStatus:"",p.z.required],nationality:[t[a]?t[a].nationality:"",p.z.required],countryOfResidence:[t[a]?t[a].countryOfResidence:"",p.z.required],occupationType:[t[a]?t[a].occupationType:"",p.z.required],phoneNumber:[t[a]?t[a].phoneNumber:"",[p.z.required,p.z.minLength(3),p.z.maxLength(10),p.z.pattern("^[0-9]{10,12}$")]],landlineNumber:[t[a]?t[a].landlineNumber:"",[p.z.required,p.z.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:[t[a]?t[a].primaryEmailAdress:"",[p.z.required,p.z.email]],userAddress:this.formBuilder.array([]),custIdProofs:this.formBuilder.array([])})),this.addCustIdProofs(a,t[a].custIdProofs[0]),this.addAddress(a,t[a].userAddress[0])}addAddress(t,e){this.applicant.controls[t].get("userAddress").push(this.formBuilder.group({address1:[e?e.address1:"",[p.z.required]],address2:[e?e.address2:"",[p.z.required]],addressType:[e?e.addressType:"",[p.z.required]],city:[e?e.city:"",[p.z.required]],state:[e?e.state:"",[p.z.required]],country:[e?e.country:"",[p.z.required]],zipCode:[e?e.zipCode:"",[p.z.required]]}))}addCustIdProofs(t,e){this.applicant.controls[t].get("custIdProofs").push(this.formBuilder.group({idNumber:[e?e.idNumber:"",p.z.required],idType:[e?e.idType:"",p.z.required],expiryDate:[e?e.expiryDate:""]}))}changeOwner(){"Join"==this.customerInfoUpdateForm.get("ownership").value?this.customerInfoUpdateForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}):this.customerInfoUpdateForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1})}onChangeApplicantNo(t){let e=t.target.value,a=this.customerInfoUpdateForm.get("numOfApplicants").value;if(e>a)this.addCustFormGroup(null,e-a);else for(let o=a-1;o>=e;o++)this.applicant.removeAt(o);this.customerInfoUpdateForm.get("numOfApplicants").setValue(e)}changeIdType(t){console.log("doc::",t),console.log("this.customerIdProofs::",this.customerIdProofs);let e=this.customerIdProofs.filter(e=>e.idType==t);console.log("idProofs::",e),e.length>0?(this.applicant.get("idNumber").patchValue(e[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(e[0].expiryDate))):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getGenderValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayGender=t})}getOwnershipValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayOwnership=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName===t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayState.push(t[e].stateName)});break}})}getCityName(t){console.log(t),this.apiService.getDropDownValues1("city",t).subscribe(t=>{this.arrayCity=t})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}getDocumentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayDocumentType=t})}getAdressType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayAddressType=t})}onSubmit(t,e){console.log(t),this.isCifValid=!1,this.customerInfoUpdateForm.invalid||(this.loader.open(),"Passport"==t.value.idType&&(t.value.idType=this.convertDate(t.value.idType)),this.appApiService.createAndUpdateAccountants(t).subscribe(t=>{console.log("data::",t),this.closeDetails(),this.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(this.snack.open("Customer Information Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.customerInfoUpdateForm.get("ownership").patchValue(t.custDependentModel.ownership),this.customerInfoUpdateForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants),"Self"!=this.customerInfoUpdateForm.get("ownership").value&&this.applicant.controls.length-1!=e||this.dialogRef.close({status:"BACKLOG"}))},t=>{console.log(t),this.loader.close(),this.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}))}isAllSameDigit(t){let e=0,a=t.target.value;if(""!=a){for(var o=0;o<a.length;o++)0==a[o]&&e++;console.log("number :: ",a),console.log("isAllSameDigitVal :: ",e,a.length),e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}onKeyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}validateNumber(t){const e=t.keyCode;e>=48&&e<=57||e>=96&&e<=105||[8,37,39,46].includes(e)||t.preventDefault()}onSave(){this.dialogRef.close({status:"BACKLOG"})}closeDetails(){this.selectedApplicant=null,this.applicant.reset(),this.customerInfoUpdateForm.get("numOfApplicants").enable({onlySelf:!0})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(d.a),n.Rb(p.f),n.Rb(r.b),n.Rb(m.a),n.Rb(l.a),n.Rb(f.a),n.Rb(n.h),n.Rb(B.a),n.Rb(V.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-customer-info-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","50"],[1,"hintClass"],["formControlName","ownership","name","owner","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","50","fxFlex.gt-xs","50"],[4,"ngIf","ngIfElse"],["formArrayName","applicantDetails"],[3,"item","formGroupName",4,"ngFor","ngForOf"],[3,"value"],[1,"errorClass"],["appearance","outline",1,"full-width"],["formControlName","numOfApplicants","name","account",3,"selectionChange"],[3,"item","formGroupName"],["multi","true"],[1,"check-circle"],[1,"ml-8"],["mat-card-avatar",""],[3,"name"],["fxLayout","row"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%"],["formControlName","existingCustomer"],["formControlName","primaryCustomer"],[1,"mb-16"],["fxFlex","30%","fxFlex.xs","100%"],[1,"inputCard"],["name","prefix","formControlName","prefix"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","Date of birth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],["name","gender","formControlName","gender"],["name","residenceType","formControlName","residenceStatus"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],["name","resident","formControlName","countryOfResidence"],["name","citizen","formControlName","nationality"],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type"],["formArrayName","custIdProofs","fxFlex","100%"],["fxFlex","100%","fxLayout","row wrap",3,"formGroupName",4,"ngFor","ngForOf"],["expanded","true",1,"mb-8"],["formArrayName","userAddress"],[3,"formGroupName",4,"ngFor","ngForOf"],["maxlength","10","matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number",3,"keypress"],["class","errorClass","style","margin-top:-20px",4,"ngIf"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail"],[1,"pb-1"],["mat-button","","color","primary",1,"place_1",3,"disabled","click"],["mat-sm-chip","",3,"color","selected"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxFlex","100%","fxLayout","row wrap",3,"formGroupName"],["name","idtype","formControlName","idType",3,"selectionChange"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["fxFlex","30%","fxFlex.xs","100%",4,"ngIf"],["fxLayout","row",1,"inputCard"],["fxFlex","85%"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"matDatepicker","min"],["fxFlex","15%"],["appDatepicker1",""],[3,"formGroupName"],["fxLayout","row wrap"],["matInput","","formControlName","address1","placeholder","Address 1"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],[2,"color","#E74C3C"],[1,"errorClass",2,"margin-top","-20px"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Customer Information Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Rc(6,jt,14,6,"form",3),n.Wb(),n.Xb(7,"div",4),n.Xb(8,"button",5),n.fc("click",function(){return e.onSave()}),n.Tc(9,"Save"),n.Wb(),n.Tc(10," \xa0\xa0\xa0 "),n.Xb(11,"button",6),n.fc("click",function(){return e.close()}),n.Tc(12," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("ngIf",e.customerInfoUpdateForm),n.Eb(2),n.rc("disabled",e.customerInfoUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.r,p.i,p.y,o.m,p.e,D.n,W.b,W.c,W.g,p.k,j.a,j.c,j.e,j.f,X.e,X.c,X.h,X.g,E.a,y.b,p.c,I.e,I.g,W.j,I.d,p.m,z.a,o.s,p.w,p.n,q.a],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var qt=a("YS3K"),Jt=a("LvDl"),Kt=a("zQhy"),$t=a("pMoy");function Ht(t,e){if(1&t){const t=n.Yb();n.Xb(0,"p",31),n.Xb(1,"mat-checkbox",32),n.fc("change",function(a){n.Hc(t);const o=e.$implicit;return n.jc(2).onChecklistChange(a.checked,o)}),n.Tc(2),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit;n.Eb(1),n.rc("value",t)("checked",t.checked),n.Eb(1),n.Vc("",t.name," ")}}function Yt(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",33),n.Xb(1,"mat-checkbox",32),n.fc("change",function(a){n.Hc(t);const o=e.$implicit;return n.jc(2).onCheckbankChange(a.checked,o)}),n.Tc(2),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit;n.Eb(1),n.rc("value",t)("checked",t.checked),n.Eb(1),n.Vc("",t.name," ")}}function Zt(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",34),n.Xb(1,"mat-checkbox",32),n.fc("change",function(a){n.Hc(t);const o=e.$implicit;return n.jc(2).onCheckComChange(a.checked,o)}),n.Tc(2),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit;n.Eb(1),n.rc("value",t)("checked",t.checked),n.Eb(1),n.Vc("",t.name," ")}}function Qt(t,e){if(1&t&&(n.Xb(0,"mat-option",40),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function te(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"table",41),n.Xb(2,"thead",42),n.Xb(3,"tr"),n.Xb(4,"th"),n.Tc(5,"Card Type"),n.Wb(),n.Xb(6,"th"),n.Tc(7,"Daily Limit"),n.Wb(),n.Xb(8,"th"),n.Tc(9,"Domestic Limit"),n.Wb(),n.Xb(10,"th"),n.Tc(11,"International Limit"),n.Wb(),n.Xb(12,"th"),n.Tc(13,"ATM Limit"),n.Wb(),n.Xb(14,"th"),n.Tc(15,"POS Limit "),n.Wb(),n.Xb(16,"th"),n.Tc(17,"Internet Limit "),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"tbody"),n.Xb(19,"tr"),n.Xb(20,"td"),n.Tc(21,"Normal"),n.Wb(),n.Xb(22,"td"),n.Tc(23,"20,000"),n.Wb(),n.Xb(24,"td"),n.Tc(25,"20,000"),n.Wb(),n.Xb(26,"td"),n.Tc(27,"Nil"),n.Wb(),n.Xb(28,"td"),n.Tc(29,"10,000"),n.Wb(),n.Sb(30,"td"),n.Sb(31,"td"),n.Wb(),n.Wb(),n.Wb(),n.Wb())}function ee(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"table",41),n.Xb(2,"thead",42),n.Xb(3,"tr"),n.Xb(4,"th"),n.Tc(5,"Card Type"),n.Wb(),n.Xb(6,"th"),n.Tc(7,"Daily Limit"),n.Wb(),n.Xb(8,"th"),n.Tc(9,"Domestic Limit"),n.Wb(),n.Xb(10,"th"),n.Tc(11,"International Limit"),n.Wb(),n.Xb(12,"th"),n.Tc(13,"ATM Limit"),n.Wb(),n.Xb(14,"th"),n.Tc(15,"POS Limit "),n.Wb(),n.Xb(16,"th"),n.Tc(17,"Internet Limit "),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"tbody"),n.Xb(19,"tr"),n.Xb(20,"td"),n.Tc(21,"Silver"),n.Wb(),n.Xb(22,"td"),n.Tc(23,"40,000"),n.Wb(),n.Xb(24,"td"),n.Tc(25,"40,000"),n.Wb(),n.Xb(26,"td"),n.Tc(27,"20,000"),n.Wb(),n.Xb(28,"td"),n.Tc(29,"40,000"),n.Wb(),n.Sb(30,"td"),n.Sb(31,"td"),n.Wb(),n.Wb(),n.Wb(),n.Wb())}function ae(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"table",41),n.Xb(2,"thead",42),n.Xb(3,"tr"),n.Xb(4,"th"),n.Tc(5,"Card Type"),n.Wb(),n.Xb(6,"th"),n.Tc(7,"Daily Limit"),n.Wb(),n.Xb(8,"th"),n.Tc(9,"Domestic Limit"),n.Wb(),n.Xb(10,"th"),n.Tc(11,"International Limit"),n.Wb(),n.Xb(12,"th"),n.Tc(13,"ATM Limit"),n.Wb(),n.Xb(14,"th"),n.Tc(15,"POS Limit "),n.Wb(),n.Xb(16,"th"),n.Tc(17,"Internet Limit "),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"tbody"),n.Xb(19,"tr"),n.Xb(20,"td"),n.Tc(21,"Gold"),n.Wb(),n.Xb(22,"td"),n.Tc(23,"50,000"),n.Wb(),n.Xb(24,"td"),n.Tc(25,"50,000"),n.Wb(),n.Xb(26,"td"),n.Tc(27,"30,000"),n.Wb(),n.Xb(28,"td"),n.Tc(29,"50,000"),n.Wb(),n.Sb(30,"td"),n.Sb(31,"td"),n.Wb(),n.Wb(),n.Wb(),n.Wb())}function oe(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"table",41),n.Xb(2,"thead",42),n.Xb(3,"tr"),n.Xb(4,"th"),n.Tc(5,"Card Type"),n.Wb(),n.Xb(6,"th"),n.Tc(7,"Daily Limit"),n.Wb(),n.Xb(8,"th"),n.Tc(9,"Domestic Limit"),n.Wb(),n.Xb(10,"th"),n.Tc(11,"International Limit"),n.Wb(),n.Xb(12,"th"),n.Tc(13,"ATM Limit"),n.Wb(),n.Xb(14,"th"),n.Tc(15,"POS Limit "),n.Wb(),n.Xb(16,"th"),n.Tc(17,"Internet Limit "),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"tbody"),n.Xb(19,"tr"),n.Xb(20,"td"),n.Tc(21,"Diamond"),n.Wb(),n.Xb(22,"td"),n.Tc(23,"75,000"),n.Wb(),n.Xb(24,"td"),n.Tc(25,"75,000"),n.Wb(),n.Xb(26,"td"),n.Tc(27,"50,000"),n.Wb(),n.Xb(28,"td"),n.Tc(29,"75,000"),n.Wb(),n.Sb(30,"td"),n.Sb(31,"td"),n.Wb(),n.Wb(),n.Wb(),n.Wb())}function ie(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"table",41),n.Xb(2,"thead",42),n.Xb(3,"tr"),n.Xb(4,"th"),n.Tc(5,"Card Type"),n.Wb(),n.Xb(6,"th"),n.Tc(7,"Daily Limit"),n.Wb(),n.Xb(8,"th"),n.Tc(9,"Domestic Limit"),n.Wb(),n.Xb(10,"th"),n.Tc(11,"International Limit"),n.Wb(),n.Xb(12,"th"),n.Tc(13,"ATM Limit"),n.Wb(),n.Xb(14,"th"),n.Tc(15,"POS Limit "),n.Wb(),n.Xb(16,"th"),n.Tc(17,"Internet Limit "),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"tbody"),n.Xb(19,"tr"),n.Xb(20,"td"),n.Tc(21,"Platinum"),n.Wb(),n.Xb(22,"td"),n.Tc(23,"1,00,000"),n.Wb(),n.Xb(24,"td"),n.Tc(25,"1,00,000"),n.Wb(),n.Xb(26,"td"),n.Tc(27,"1,00,000"),n.Wb(),n.Xb(28,"td"),n.Tc(29,"1,00,000"),n.Wb(),n.Sb(30,"td"),n.Sb(31,"td"),n.Wb(),n.Wb(),n.Wb(),n.Wb())}function ne(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",35),n.Xb(1,"mat-form-field",36),n.Xb(2,"mat-label"),n.Tc(3,"Card Type"),n.Wb(),n.Xb(4,"mat-select",37),n.fc("selectionChange",function(e){return n.Hc(t),n.jc(2).cards(e)}),n.Rc(5,Qt,2,2,"mat-option",38),n.Wb(),n.Wb(),n.Xb(6,"div"),n.Rc(7,te,32,0,"div",39),n.Rc(8,ee,32,0,"div",39),n.Rc(9,ae,32,0,"div",39),n.Rc(10,oe,32,0,"div",39),n.Rc(11,ie,32,0,"div",39),n.Wb(),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(5),n.rc("ngForOf",t.arrayCardType),n.Eb(2),n.rc("ngIf",t.Normal),n.Eb(1),n.rc("ngIf",t.Silver),n.Eb(1),n.rc("ngIf",t.Gold),n.Eb(1),n.rc("ngIf",t.Diamond),n.Eb(1),n.rc("ngIf",t.Platinum)}}function re(t,e){if(1&t){const t=n.Yb();n.Xb(0,"form",7),n.Xb(1,"div",8),n.Xb(2,"div"),n.Xb(3,"div"),n.Xb(4,"mat-label"),n.Tc(5," Account Statement Frequency "),n.Wb(),n.Wb(),n.Xb(6,"div"),n.Xb(7,"mat-radio-group",9),n.fc("change",function(e){return n.Hc(t),n.jc().statementFrequency(e.value)}),n.Xb(8,"mat-radio-button",10),n.Tc(9," Monthly "),n.Wb(),n.Xb(10,"mat-radio-button",11),n.Tc(11," Bi-Annual "),n.Wb(),n.Xb(12,"mat-radio-button",12),n.Tc(13," Quaterly "),n.Wb(),n.Xb(14,"mat-radio-button",13),n.Tc(15," Annual "),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(16,"div"),n.Xb(17,"div"),n.Xb(18,"mat-label"),n.Tc(19," Account Statement Preference* "),n.Wb(),n.Wb(),n.Xb(20,"div"),n.Rc(21,Ht,3,3,"p",14),n.Wb(),n.Wb(),n.Wb(),n.Xb(22,"div",15),n.Xb(23,"button",16),n.Tc(24," MORE PREFERENCE "),n.Wb(),n.Wb(),n.Xb(25,"div"),n.Xb(26,"div",8),n.Xb(27,"div",17),n.Xb(28,"div",18),n.Xb(29,"mat-label"),n.Tc(30," Banking Channel Preferences* "),n.Wb(),n.Wb(),n.Xb(31,"div",18),n.Rc(32,Yt,3,3,"div",19),n.Wb(),n.Wb(),n.Xb(33,"div",17),n.Xb(34,"div",18),n.Xb(35,"mat-label"),n.Tc(36,"Communication Channel Preferences*"),n.Wb(),n.Wb(),n.Xb(37,"div",18),n.Rc(38,Zt,3,3,"div",20),n.Wb(),n.Wb(),n.Wb(),n.Xb(39,"div",21),n.Xb(40,"div",22),n.Sb(41,"div",23),n.Xb(42,"div",24),n.Tc(43," Do you need a cheque book? "),n.Sb(44,"mat-slide-toggle",25),n.Wb(),n.Wb(),n.Xb(45,"div",26),n.Xb(46,"div",24),n.Tc(47," Do you need a passbook book? "),n.Sb(48,"mat-slide-toggle",27),n.Wb(),n.Wb(),n.Wb(),n.Xb(49,"div",21),n.Xb(50,"div",28),n.Sb(51,"div",23),n.Xb(52,"div",24),n.Tc(53," Do you need a debit card? "),n.Xb(54,"mat-slide-toggle",29),n.fc("change",function(e){return n.Hc(t),n.jc().onToggle(e)}),n.Wb(),n.Wb(),n.Wb(),n.Rc(55,ne,12,6,"div",30),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.rc("formGroup",t.serviceUpdateForm),n.Eb(21),n.rc("ngForOf",t.statementList),n.Eb(11),n.rc("ngForOf",t.bankList),n.Eb(6),n.rc("ngForOf",t.communicationList),n.Eb(17),n.rc("ngIf",t.isDebitLimit)}}let ce=(()=>{class t{constructor(t,e,a,o,i,n,r,c){this.data=t,this.dialogRef=e,this.ls=a,this.formBuilder=o,this.cdr=i,this.apiService=n,this.snack=r,this.tasksummaryService=c,this.statementList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1}],this.bankList=[{id:1,name:"Phone Banking",checked:!1},{id:2,name:"Kiosk Banking",checked:!1},{id:3,name:"Direct Banking",checked:!1}],this.communicationList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1},{id:3,name:"SMS",checked:!1}],this.bankChannelPreferencesArray=[],this.arrayCardType=["Normal","Silver","Gold","Diamond","Platinum"],this.arrayModeOfOperation=["25000","50000","100000"],this.commChannelPreferencesArray=[],this.AccStatementPreferenceArray=[],this.Platinum=!1,this.Diamond=!1,this.Normal=!1,this.Silver=!1,this.Gold=!1}ngOnInit(){if(console.log(this.data),this.accountId=this.ls.getItem("accountId"),null!=this.data&&null!=this.data){this.buildServiceForm(this.data),this.statementList=this.data.statementPref,this.communicationList=this.data.commChannelPref,this.bankList=this.data.bankChannelPref,this.data.debitCardRequired&&(this.isDebitLimit=!0),this.cdr.markForCheck();for(var t=0;t<this.bankList.length;t++)this.bankList[t].checked&&this.bankChannelPreferencesArray.push(this.bankList[t].name);for(t=0;t<this.communicationList.length;t++)this.communicationList[t].checked&&this.commChannelPreferencesArray.push(this.communicationList[t].name);for(t=0;t<this.statementList.length;t++)this.statementList[t].checked&&this.AccStatementPreferenceArray.push(this.statementList[t].name)}else this.buildServiceForm(),this.serviceUpdateForm.controls.statementPref.patchValue(this.statementList),this.serviceUpdateForm.controls.commChannelPref.patchValue(this.communicationList)}buildServiceForm(t){this.serviceUpdateForm=this.formBuilder.group({accServiceId:[t?t.accServiceId:null],productAccountId:[null!=this.accountId?this.accountId:null],statementFrequency:[t?t.statementFrequency:""],statementPref:[t?this.flattenValues(t.statementPref):""],bankChannelPref:[t?t.bankChannelPref:""],commChannelPref:[t?this.flattenValues(t.commChannelPref):""],chequebookNeeded:[!!t&&t.chequebookNeeded],debitcardNeeded:[!!t&&t.debitcardNeeded],passbookNeeded:[!!t&&t.passbookNeeded],cardType:[t?t.cardType:""],modeOfOperation:[t?t.modeOfOperation:""],debitCardRequired:[!!t&&t.debitCardRequired],debitCardLimit:[t?t.debitCardLimit:0],debitCardType:[t?t.debitCardType:""]})}flattenValues(t){return Object(Jt.flow)([Object(qt.filter)(t=>t.checked),Object(qt.flatMap)(t=>t.name)])(t).join(",")}onToggle(t){console.log("event",t.checked),this.isDebitLimit=1==t.checked}cards(t){console.log(t.value),"Normal"==t.value?(console.log(t.value),this.Normal=!0,this.Silver=!1,this.Gold=!1,this.Diamond=!1,this.Platinum=!1):"Silver"==t.value?(this.Silver=!0,this.Normal=!1,this.Gold=!1,this.Diamond=!1,this.Platinum=!1):"Gold"==t.value?(this.Gold=!0,this.Silver=!1,this.Normal=!1,this.Diamond=!1,this.Platinum=!1):"Diamond"==t.value?(this.Diamond=!0,this.Normal=!1,this.Silver=!1,this.Gold=!1,this.Platinum=!1):"Platinum"==t.value&&(this.Platinum=!0,this.Normal=!1,this.Silver=!1,this.Gold=!1,this.Diamond=!1)}onChecklistChange(t,e){e.checked=t,this.serviceUpdateForm.get("statementPref").setValue(this.flattenValues(this.statementList)),t?this.AccStatementPreferenceArray.push(e.name):this.AccStatementPreferenceArray.forEach((t,a)=>{t===e.name&&this.AccStatementPreferenceArray.splice(a,1)})}onCheckComChange(t,e){console.log(t),console.log(e),e.checked=t,this.serviceUpdateForm.get("commChannelPref").setValue(this.flattenValues(this.communicationList)),t?(this.commChannelPreferencesArray.push(e.name),console.log("checked",e.name)):this.commChannelPreferencesArray.forEach((t,a)=>{t===e.name&&(this.commChannelPreferencesArray.splice(a,1),console.log("checked",e.name))})}onCheckbankChange(t,e){console.log(t),console.log(e),e.checked=t,this.serviceUpdateForm.get("bankChannelPref").setValue(this.flattenValues(this.bankList)),t?(this.bankChannelPreferencesArray.push(e.name),console.log("checked",e.name)):this.bankChannelPreferencesArray.forEach((t,a)=>{t===e.name&&(this.bankChannelPreferencesArray.splice(a,1),console.log("checked",e.name))})}onSubmit(){this.serviceUpdateForm.invalid||this.apiService.createAccountService(this.accountId,{productAccountId:this.accountId,accServiceId:this.serviceUpdateForm.value.accServiceId,statementFrequency:this.serviceUpdateForm.value.statementFrequency,statementPref:this.statementList,bankChannelPref:this.bankList,commChannelPref:this.communicationList,chequebookNeeded:this.serviceUpdateForm.value.chequebookNeeded,debitCardRequired:this.serviceUpdateForm.value.debitCardRequired,passbookNeeded:this.serviceUpdateForm.value.passbookNeeded,debitCardLimit:this.serviceUpdateForm.value.debitCardLimit,debitCardType:this.serviceUpdateForm.value.debitCardType,accountType:"createAccount"}).subscribe(t=>{console.log(t),this.snack.open("Account Service Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{console.log(t)})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(l.a),n.Rb(p.f),n.Rb(n.h),n.Rb(r.b),n.Rb(f.a),n.Rb(m.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-service-details-update"]],decls:17,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","20%"],["name","statementFreq","formControlName","statementFrequency","required","",3,"change"],["value","MONTHLY","color","primary"],["value","BIANNUAL","color","primary"],["value","QUATERLY","color","primary"],["value","ANNUAL","color","primary"],["formArrayName","statementPref",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"mt-32"],["mat-button","","rounded","","color","primary"],["fxLayout","row wrap"],["fxFlex","100"],["fxFlex","60","formArrayName","bankChannelPref",4,"ngFor","ngForOf"],["fxFlex","25","formArrayName","commChannelPref",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"m-32"],[1,"pb-1","mt-32"],["color","primary","name","checqueBook","formControlName","chequebookNeeded"],["fxFlex","100","fxFlex.gt-xs","50"],["color","primary","name","passbook","formControlName","passbookNeeded"],["fxFlex","100","fxFlex.gt-xs","25",1,"pr-1"],["color","primary","name","debitCardRequired","formControlName","debitCardRequired",3,"change"],["fxFlex","100","style","padding-top: 20px;","fxFlex.gt-xs","20","class","pr-1",4,"ngIf"],["formArrayName","statementPref"],["color","primary",1,"checkbox-margin",3,"value","checked","change"],["fxFlex","60","formArrayName","bankChannelPref"],["fxFlex","25","formArrayName","commChannelPref"],["fxFlex","100","fxFlex.gt-xs","20",1,"pr-1",2,"padding-top","20px"],["appearance","outline",1,"full-width"],["formControlName","debitCardType","name","debitCardType","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"table","table-bordered"],[2,"color","#03a9f4"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Account Service Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"mat-card"),n.Xb(7,"mat-card-title"),n.Tc(8," Account Statement "),n.Wb(),n.Xb(9,"mat-card-content"),n.Rc(10,re,56,5,"form",3),n.Wb(),n.Wb(),n.Wb(),n.Xb(11,"div",4),n.Xb(12,"button",5),n.fc("click",function(){return e.onSubmit()}),n.Tc(13,"Save"),n.Wb(),n.Tc(14," \xa0\xa0\xa0 "),n.Xb(15,"button",6),n.fc("click",function(){return e.close()}),n.Tc(16," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(10),n.rc("ngIf",e.serviceUpdateForm),n.Eb(2),n.rc("disabled",!e.serviceUpdateForm.valid||0==e.bankChannelPreferencesArray.length||0==e.commChannelPreferencesArray.length||0==e.AccStatementPreferenceArray.length))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,X.a,X.h,X.d,o.n,C.b,p.A,p.s,p.j,W.g,Kt.b,p.r,p.i,p.y,Kt.a,o.m,g.b,E.a,p.e,$t.a,W.c,T.a,D.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();function se(t,e){if(1&t&&(n.Xb(0,"mat-option",43),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function le(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Prefix is Required! "),n.Wb())}function be(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," First Name is Required! "),n.Wb())}function de(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Only Alphabets allowed "),n.Wb())}function ue(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Only Alphabets allowed "),n.Wb())}function me(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Last Name is Required! "),n.Wb())}function pe(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Only Alphabets allowed "),n.Wb())}function he(t,e){if(1&t&&(n.Xb(0,"mat-option",43),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function fe(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Relationship Type is Required! "),n.Wb())}function ge(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Date of Birth is Required! "),n.Wb())}function ve(t,e){if(1&t&&(n.Xb(0,"mat-option",43),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function We(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Prefix is Required! "),n.Wb())}function Xe(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," First Name is Required! "),n.Wb())}function ye(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Last Name is Required! "),n.Wb())}function Te(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Relationship Type is Required! "),n.Wb())}function Ie(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Date of Birth is Required! "),n.Wb())}function Ee(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",45),n.Xb(2,"h3"),n.Xb(3,"strong"),n.Tc(4,"Guardians Details"),n.Wb(),n.Wb(),n.Wb(),n.Xb(5,"div",46),n.Xb(6,"div"),n.Xb(7,"div",12),n.Xb(8,"mat-hint"),n.Tc(9,"Prefix*"),n.Wb(),n.Xb(10,"mat-card"),n.Xb(11,"mat-select",47),n.Rc(12,ve,2,2,"mat-option",14),n.Wb(),n.Wb(),n.Rc(13,We,2,0,"mat-error",15),n.Wb(),n.Xb(14,"div",12),n.Xb(15,"mat-hint"),n.Tc(16,"First Name*"),n.Wb(),n.Xb(17,"mat-card"),n.Xb(18,"input",48),n.fc("keypress",function(e){return n.Hc(t),n.jc(3).letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(19,Xe,2,0,"mat-error",15),n.Wb(),n.Xb(20,"div",12),n.Xb(21,"mat-hint"),n.Tc(22,"Middle Name"),n.Wb(),n.Xb(23,"mat-card"),n.Xb(24,"input",49),n.fc("keypress",function(e){return n.Hc(t),n.jc(3).letterOnly(e)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",12),n.Xb(26,"mat-hint"),n.Tc(27,"Last Name*"),n.Wb(),n.Xb(28,"mat-card"),n.Xb(29,"input",50),n.fc("keypress",function(e){return n.Hc(t),n.jc(3).letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(30,ye,2,0,"mat-error",15),n.Wb(),n.Xb(31,"div",12),n.Xb(32,"mat-hint"),n.Tc(33,"RelationShip Type*"),n.Wb(),n.Xb(34,"mat-card"),n.Sb(35,"input",51),n.Wb(),n.Rc(36,Te,2,0,"mat-error",15),n.Wb(),n.Xb(37,"div",12),n.Xb(38,"mat-hint"),n.Tc(39,"Date Of Birth*"),n.Wb(),n.Xb(40,"mat-card"),n.Sb(41,"input",52),n.Sb(42,"mat-datepicker-toggle",21),n.Wb(),n.Rc(43,Ie,2,0,"mat-error",15),n.Sb(44,"mat-datepicker",null,53),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.Dc(45),i=n.jc(3);n.Eb(5),n.rc("formGroupName",a),n.Eb(7),n.rc("ngForOf",i.arrayPrefix),n.Eb(1),n.rc("ngIf",t.get("prefix").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("firstName").hasError("required")),n.Eb(11),n.rc("ngIf",t.get("lastName").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("relationshipType").hasError("required")),n.Eb(5),n.rc("matDatepicker",o)("max",i.tomorrow),n.Eb(1),n.rc("for",o),n.Eb(1),n.rc("ngIf",t.get("dateOfBirth").hasError("required"))}}function Ce(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Street is Required! "),n.Wb())}function xe(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Locality is Required! "),n.Wb())}function De(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Building is Required! "),n.Wb())}function Oe(t,e){if(1&t&&(n.Xb(0,"mat-option",43),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Ae(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Country is Required! "),n.Wb())}function Re(t,e){if(1&t&&(n.Xb(0,"mat-option",43),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.stateName),n.Eb(1),n.Uc(t.stateName)}}function Se(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," State is Required! "),n.Wb())}function Ne(t,e){if(1&t&&(n.Xb(0,"mat-option",43),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.value1),n.Eb(1),n.Uc(t.value1)}}function Pe(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," City is Required! "),n.Wb())}function ke(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Please enter Zip Code! "),n.Wb())}function Fe(t,e){1&t&&(n.Xb(0,"h5",54),n.Tc(1,"Please enter valid Zip Code!"),n.Wb())}function Le(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Mobile number is Required! "),n.Wb())}function _e(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Please Enter 10 Digit Mobile Number! "),n.Wb())}function we(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Email is Required! "),n.Wb())}function Ue(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," Email must be a valid email address! "),n.Wb())}function Me(t,e){1&t&&(n.Xb(0,"mat-error",44),n.Tc(1," It is not a valid Landline number. "),n.Wb())}function Ge(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",9),n.Xb(1,"mat-accordion"),n.Xb(2,"mat-expansion-panel",10),n.fc("opened",function(){return n.Hc(t),n.jc(2).panelOpenState=!0})("closed",function(){return n.Hc(t),n.jc(2).panelOpenState=!1}),n.Xb(3,"mat-expansion-panel-header"),n.Xb(4,"mat-panel-title"),n.Tc(5),n.Wb(),n.Wb(),n.Xb(6,"div",11),n.Xb(7,"div",12),n.Xb(8,"mat-hint"),n.Tc(9,"Prefix*"),n.Wb(),n.Xb(10,"mat-card"),n.Xb(11,"mat-select",13),n.fc("selectionChange",function(e){return n.Hc(t),n.jc(2).changeClient(e.value)}),n.Rc(12,se,2,2,"mat-option",14),n.Wb(),n.Wb(),n.Rc(13,le,2,0,"mat-error",15),n.Wb(),n.Xb(14,"div",12),n.Xb(15,"mat-hint"),n.Tc(16,"First Name*"),n.Wb(),n.Xb(17,"mat-card"),n.Xb(18,"input",16),n.fc("keypress",function(e){return n.Hc(t),n.jc(2).letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(19,be,2,0,"mat-error",15),n.Rc(20,de,2,0,"mat-error",15),n.Wb(),n.Xb(21,"div",12),n.Xb(22,"mat-hint"),n.Tc(23,"Middle Name"),n.Wb(),n.Xb(24,"mat-card"),n.Xb(25,"input",17),n.fc("keypress",function(e){return n.Hc(t),n.jc(2).letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(26,ue,2,0,"mat-error",15),n.Wb(),n.Xb(27,"div",12),n.Xb(28,"mat-hint"),n.Tc(29,"Last Name*"),n.Wb(),n.Xb(30,"mat-card"),n.Xb(31,"input",18),n.fc("keypress",function(e){return n.Hc(t),n.jc(2).letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(32,me,2,0,"mat-error",15),n.Rc(33,pe,2,0,"mat-error",15),n.Wb(),n.Xb(34,"div",12),n.Xb(35,"mat-hint"),n.Tc(36,"Relationship Type*"),n.Wb(),n.Xb(37,"mat-card"),n.Xb(38,"mat-select",19),n.Rc(39,he,2,2,"mat-option",14),n.Wb(),n.Wb(),n.Rc(40,fe,2,0,"mat-error",15),n.Wb(),n.Xb(41,"div",12),n.Xb(42,"mat-hint"),n.Tc(43,"Date of Birth*"),n.Wb(),n.Xb(44,"mat-card"),n.Xb(45,"input",20),n.fc("dateInput",function(e){return n.Hc(t),n.jc(2).addInput(e)})("dateChange",function(a){n.Hc(t);const o=e.$implicit;return n.jc(2).addevent(o.controls.guardianDetails,a)}),n.Wb(),n.Sb(46,"mat-datepicker-toggle",21),n.Wb(),n.Rc(47,ge,2,0,"mat-error",15),n.Sb(48,"mat-datepicker",null,22),n.Wb(),n.Xb(50,"div",23),n.Tc(51," Is the Nominee a Minor? "),n.Xb(52,"mat-slide-toggle",24),n.fc("change",function(a){n.Hc(t);const o=e.$implicit,i=e.index;return n.jc(2).onChange(o.controls.guardianDetails,a,i)}),n.Wb(),n.Wb(),n.Xb(53,"div",25),n.Rc(54,Ee,46,10,"div",26),n.Wb(),n.Xb(55,"div",23),n.Tc(56," Same address as Applicant? "),n.Xb(57,"mat-slide-toggle",27),n.fc("change",function(e){return n.Hc(t),n.jc(2).clickToggle(e)}),n.Wb(),n.Wb(),n.Xb(58,"mat-accordion"),n.Xb(59,"mat-expansion-panel",28),n.Xb(60,"mat-expansion-panel-header"),n.Xb(61,"mat-panel-title"),n.Tc(62,"Nominee Address "),n.Wb(),n.Wb(),n.Xb(63,"div",29),n.Xb(64,"div",12),n.Xb(65,"mat-hint"),n.Tc(66,"Street*"),n.Wb(),n.Xb(67,"mat-card"),n.Sb(68,"input",30),n.Wb(),n.Rc(69,Ce,2,0,"mat-error",15),n.Wb(),n.Xb(70,"div",12),n.Xb(71,"mat-hint"),n.Tc(72,"Locality*"),n.Wb(),n.Xb(73,"mat-card"),n.Sb(74,"input",31),n.Wb(),n.Rc(75,xe,2,0,"mat-error",15),n.Wb(),n.Xb(76,"div",12),n.Xb(77,"mat-hint"),n.Tc(78,"Building*"),n.Wb(),n.Xb(79,"mat-card"),n.Sb(80,"input",32),n.Wb(),n.Rc(81,De,2,0,"mat-error",15),n.Wb(),n.Xb(82,"div",12),n.Xb(83,"mat-hint"),n.Tc(84,"Country*"),n.Wb(),n.Xb(85,"mat-card"),n.Xb(86,"mat-select",33),n.fc("selectionChange",function(e){return n.Hc(t),n.jc(2).getStateName(e.value)}),n.Rc(87,Oe,2,2,"mat-option",14),n.Wb(),n.Wb(),n.Rc(88,Ae,2,0,"mat-error",15),n.Wb(),n.Xb(89,"div",12),n.Xb(90,"mat-hint"),n.Tc(91,"State*"),n.Wb(),n.Xb(92,"mat-card"),n.Xb(93,"mat-select",34),n.fc("selectionChange",function(e){return n.Hc(t),n.jc(2).getCityName(e.value)}),n.Rc(94,Re,2,2,"mat-option",14),n.Wb(),n.Wb(),n.Rc(95,Se,2,0,"mat-error",15),n.Wb(),n.Xb(96,"div",12),n.Xb(97,"mat-hint"),n.Tc(98,"city*"),n.Wb(),n.Xb(99,"mat-card"),n.Xb(100,"mat-select",35),n.Rc(101,Ne,2,2,"mat-option",14),n.Wb(),n.Wb(),n.Rc(102,Pe,2,0,"mat-error",15),n.Wb(),n.Xb(103,"div",12),n.Xb(104,"mat-hint"),n.Tc(105,"Zip Code*"),n.Wb(),n.Xb(106,"mat-card"),n.Xb(107,"input",36),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)})("keyup",function(e){return n.Hc(t),n.jc(2).isAllSameDigit(e)}),n.Wb(),n.Wb(),n.Rc(108,ke,2,0,"mat-error",15),n.Rc(109,Fe,2,0,"h5",37),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(110,"mat-accordion"),n.Xb(111,"mat-expansion-panel",28),n.Xb(112,"mat-expansion-panel-header"),n.Xb(113,"mat-panel-title"),n.Tc(114,"Contact Information "),n.Wb(),n.Wb(),n.Xb(115,"div",29),n.Xb(116,"div",12),n.Xb(117,"mat-hint"),n.Tc(118,"Mobile Number*"),n.Wb(),n.Xb(119,"mat-card"),n.Xb(120,"input",38),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(121,Le,2,0,"mat-error",15),n.Rc(122,_e,2,0,"mat-error",15),n.Wb(),n.Xb(123,"div",12),n.Xb(124,"mat-hint"),n.Tc(125,"E-mail*"),n.Wb(),n.Xb(126,"mat-card"),n.Sb(127,"input",39),n.Wb(),n.Rc(128,we,2,0,"mat-error",15),n.Rc(129,Ue,2,0,"mat-error",15),n.Wb(),n.Xb(130,"div",12),n.Xb(131,"mat-hint"),n.Tc(132,"Landline Number"),n.Wb(),n.Xb(133,"mat-card"),n.Xb(134,"input",40),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(135,Me,2,0,"mat-error",15),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(136,"button",41),n.fc("click",function(){return n.Hc(t),n.jc(2).addNominee()}),n.Xb(137,"mat-icon"),n.Tc(138,"add"),n.Wb(),n.Tc(139," ADD NOMINEE "),n.Wb(),n.Xb(140,"button",42),n.fc("click",function(){n.Hc(t);const a=e.index;return n.jc(2).removeNominee(a)}),n.Xb(141,"mat-icon"),n.Tc(142,"delete"),n.Wb(),n.Tc(143,"REMOVE "),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.Dc(49),i=n.jc(2);n.Eb(5),n.Wc(" ",1==i.showEditOption?"Edit":"Create"," Nominee ",a+1," "),n.Eb(1),n.rc("formGroup",t),n.Eb(6),n.rc("ngForOf",i.arrayPrefix),n.Eb(1),n.rc("ngIf",t.get("prefix").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("firstName").hasError("required")),n.Eb(1),n.rc("ngIf",t.get("firstName").hasError("pattern")),n.Eb(6),n.rc("ngIf",t.get("middleName").hasError("pattern")),n.Eb(6),n.rc("ngIf",t.get("lastName").hasError("required")),n.Eb(1),n.rc("ngIf",t.get("lastName").hasError("pattern")),n.Eb(5),n.rc("value",i.relationshipType),n.Eb(1),n.rc("ngForOf",i.arrayRelationshipType),n.Eb(1),n.rc("ngIf",t.get("relationshipType").hasError("required")),n.Eb(5),n.rc("matDatepicker",o)("max",i.tomorrow),n.Eb(1),n.rc("for",o),n.Eb(1),n.rc("ngIf",t.get("dateOfBirth").hasError("required")),n.Eb(7),n.rc("ngForOf",t.get("guardianDetails").controls),n.Eb(15),n.rc("ngIf",t.get("street").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("locality").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("building").hasError("required")),n.Eb(6),n.rc("ngForOf",i.arrayCountry),n.Eb(1),n.rc("ngIf",t.get("country").hasError("required")),n.Eb(6),n.rc("ngForOf",i.arrayState),n.Eb(1),n.rc("ngIf",t.get("state").hasError("required")),n.Eb(6),n.rc("ngForOf",i.arrayCity),n.Eb(1),n.rc("ngIf",t.get("city").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("zipCode").hasError("required")&&!t.controls.zipCode.valid&&(null==t.controls.zipCode?null:t.controls.zipCode.touched)),n.Eb(1),n.rc("ngIf",i.isAllSameDigitVal),n.Eb(12),n.rc("ngIf",t.get("phoneNumber").hasError("required")),n.Eb(1),n.rc("ngIf",t.get("phoneNumber").hasError("pattern")),n.Eb(6),n.rc("ngIf",t.get("email").hasError("required")),n.Eb(1),n.rc("ngIf",t.get("email").hasError("pattern")),n.Eb(6),n.rc("ngIf",t.get("mobileNumber").hasError("pattern")),n.Eb(1),n.rc("disabled",null==i.nomineeForms?null:i.nomineeForms.invalid)}}function Ve(t,e){if(1&t&&(n.Xb(0,"form",7),n.Rc(1,Ge,144,35,"div",8),n.Wb()),2&t){const t=n.jc();n.rc("formGroup",t.nomineeUpdateForm),n.Eb(1),n.rc("ngForOf",t.n.controls)}}let Be=(()=>{class t{constructor(t,e,a,o,i,n,r,c){this.data=t,this.dialogRef=e,this.apiService=a,this.formBuilder=o,this.ls=i,this.appApiService=n,this.confirmService=r,this.snack=c,this.arrayState=[],this.arrayCity=[]}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getCountryName("country"),this.getRelationShipType("relationship_type"),this.getPrefixValue("prefix"),this.data?(this.getStateName(this.data[0].country),this.getCityName(this.data[0].state),this.buildNomineeForm(),this.addGroup(this.data),this.showEditOption=!0):(this.showEditOption=!1,this.buildNomineeForm(),this.addGroup())}buildNomineeForm(){this.nomineeUpdateForm=this.formBuilder.group({nominees:this.formBuilder.array([])})}addGroup(t){let e=t?t.length:1;for(let a=0;a<e;a++)this.expandAddress=t[a].isAddrSameAsApplicant,t[a].dateOfBirth=h(t[a].dateOfBirth).format(),t[a].isNomineeMinor&&(t[a].guardianDetails[0].dateOfBirth=h(t[a].guardianDetails[0].dateOfBirth).format()),this.n.push(this.formBuilder.group({prefix:["",p.z.required],firstName:["",p.z.required],middleName:[""],lastName:["",p.z.required],relationshipType:["",p.z.required],dateOfBirth:["",p.z.required],nomineeId:[""],building:["",p.z.required],street:["",p.z.required],locality:["",p.z.required],city:["",p.z.required],state:["",p.z.required],country:["",p.z.required],zipCode:["",[p.z.required,p.z.minLength(5),p.z.maxLength(10)]],phoneNumber:["",[p.z.required,p.z.pattern("^[0-9]{10,12}$")]],mobileNumber:["",[p.z.pattern("^[0-9]{10,12}$")]],isAddrSameAsApplicant:[!1,p.z.required],isNomineeMinor:[!1,p.z.required],email:["",[p.z.required,p.z.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],guardianDetails:t[a].isNomineeMinor?[this.formBuilder.group({dateOfBirth:["",p.z.required],firstName:["",p.z.required],guardianId:[""],lastName:["",p.z.required],middleName:[""],nomineeId:[""],prefix:["",p.z.required],relationshipType:["",p.z.required]})]:[]})),this.n.at(a).patchValue(t[a])}get f(){return this.nomineeUpdateForm.controls}get n(){return this.f.nominees}addGuardian(t){return t.push(this.formBuilder.group({prefix:["",p.z.required],firstName:["",p.z.required],middleName:[""],nomineeId:[""],guardianId:[""],lastName:["",p.z.required],relationshipType:["",p.z.required],dateOfBirth:["",p.z.required]}))}addevent(t,e){let a=new Date;a=e.target.value,console.log(h(a).format("YYYY-MM-DD"));var o=new Date(h(a).format("YYYY-MM-DD"));if(this.n.controls[0].patchValue({isNomineeMinor:this.underAgeValidate(o)}),!this.underAgeValidate(o))return t.removeAt(0);this.addGuardian(t)}clickToggle(t){if(this.expandAddress=t.checked,1==t.checked)this.getApplicantAddress();else{let t=this.nomineeUpdateForm.controls.nominees,e=t.controls[t.length-1];e.get("zipCode").reset(),e.get("street").reset(),e.get("locality").reset(),e.get("building").reset(),e.get("country").reset(),e.get("state").reset(),e.get("city").reset()}}getApplicantAddress(){this.appApiService.fetchByCif(this.cifNumber).subscribe(t=>{this.address=t.customerInfoList[0].userAddress[0];let e=this.nomineeUpdateForm.controls.nominees,a=e.controls[e.length-1];this.getStateName(this.address.country),this.getCityName(this.address.state),a.get("zipCode").setValue(this.address.zipCode),a.get("street").setValue(this.address.address1),a.get("locality").setValue(this.address.address2),a.get("building").setValue(this.address.address1),a.get("country").setValue(this.address.country),a.get("state").setValue(this.address.state),a.get("city").setValue(this.address.city)})}removeNominee(t){console.log("i",t);let e=this.n.at(t).get("nomineeId").value;console.log("nomineeId ::",e),this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(a=>{console.log("res:: removed ",a),a&&this.apiService.deleteNomineeById(e,"ADMIN").subscribe(t=>{console.log("data",t)},e=>{this.nomineeUpdateForm.controls.nominees.removeAt(t),200===e.status&&this.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})})}onSubmit(){for(let e=0;e<this.nomineeUpdateForm.value.nominees.length;e++)this.nomineeUpdateForm.value.nominees[e].dateOfBirth=this.convertDate(this.nomineeUpdateForm.value.nominees[e].dateOfBirth),this.nomineeUpdateForm.value.nominees[e].isNomineeMinor&&(this.nomineeUpdateForm.value.nominees[e].guardianDetails[0].dateOfBirth=this.convertDate(this.nomineeUpdateForm.value.nominees[e].guardianDetails[0].dateOfBirth));let t={productAccountId:this.accountId,nominees:this.nomineeUpdateForm.value.nominees};this.nomineeUpdateForm.invalid||(this.showEditOption?(this.apiService.updateNominee(this.accountId,t).subscribe(t=>{},t=>{console.log(t)}),this.dialogRef.close({status:"BACKLOG"})):this.apiService.createNominee(this.accountId,t).subscribe(t=>{console.log(t),this.snack.open("Nominee Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)}))}changeClient(t){console.log(t),this.arrayRelationshipType="Mr"==t?["Father","Brother","Spouse"]:"Mrs"==t?["Mother","Spouse"]:["Sister"]}underAgeValidate(t){const e=Date.now()-t.getTime(),a=new Date(e);return Math.abs(a.getUTCFullYear()-1970)<18}getRelationShipType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayRelationshipType=t})}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName===t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayState.push(t[e].stateName)});break}})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}isAllSameDigit(t){let e=0,a=t.target.value;if(""!=a){for(var o=0;o<a.length;o++)0==a[o]&&e++;e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}convertDate(t){let e=h(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(r.b),n.Rb(p.f),n.Rb(l.a),n.Rb(d.a),n.Rb(V.a),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-nominee-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],["expanded","true",3,"opened","closed"],["fxLayout","row wrap",1,"full-width",3,"formGroup"],["fxFlex","33.33%","fxFlex.xs","100%"],["name","prefix","formControlName","prefix",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","rtype","formControlName","relationshipType",3,"value"],["matInput","","name","dob","readonly","","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker","max","dateInput","dateChange"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"pb-1"],["name","isNomineeMinor","formControlName","isNomineeMinor",3,"change"],["formArrayName","guardianDetails"],[4,"ngFor","ngForOf"],["name","isAddrSameAsApplicant","formControlName","isAddrSameAsApplicant",3,"change"],["expanded","true"],["fxLayout","row wrap",1,"full-width"],["matInput","","name","a_street","formControlName","street","placeholder","Street"],["matInput","","name","a_locality","formControlName","locality","placeholder","Locality"],["matInput","","name","a_building","formControlName","building","placeholder","Building"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["matInput","","name","a_zip","formControlName","zipCode","placeholder","Zip Code","maxlength","10","onlyNumber","",3,"keypress","keyup"],["style","color: #E74C3C;",4,"ngIf"],["matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number","maxlength","10",3,"keypress"],["matInput","","name","email","formControlName","email","placeholder","e-mail"],["matInput","","formControlName","mobileNumber","maxlength","10",3,"keypress"],["mat-button","","rounded","","color","primary",1,"place",3,"disabled","click"],["mat-button","","color","warn",3,"click"],[3,"value"],[1,"errorClass"],[1,"card-title-text"],["fxLayout","row","fxLayoutGap","25px",3,"formGroupName"],["name","g_prefix","formControlName","prefix"],["matInput","","name","g_fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","g_mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","g_lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["matInput","","name","g_rtype","formControlName","relationshipType","placeholder","Relation Type"],["matInput","","readonly","","name","g_dob","formControlName","dateOfBirth","placeholder","Date of Birth",3,"matDatepicker","max"],["appDatepicker1",""],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Nominee Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Rc(6,Ve,2,2,"form",3),n.Wb(),n.Xb(7,"div",4),n.Xb(8,"button",5),n.fc("click",function(){return e.onSubmit()}),n.Tc(9,"Save"),n.Wb(),n.Tc(10," \xa0\xa0\xa0 "),n.Xb(11,"button",6),n.fc("click",function(){return e.close()}),n.Tc(12," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("ngIf",e.nomineeUpdateForm),n.Eb(2),n.rc("disabled",e.nomineeUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,o.m,j.a,j.c,j.e,j.f,g.b,W.f,X.a,T.a,p.r,p.i,y.b,p.c,I.e,I.g,W.j,I.d,E.a,p.e,p.m,q.a,D.n,W.b,p.k],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var je=a("iInd");function ze(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",11),n.fc("click",function(){return n.Hc(t),n.jc().addCFormGroup()}),n.Xb(1,"mat-icon"),n.Tc(2,"add"),n.Wb(),n.Tc(3," Add Collateral "),n.Wb()}}function qe(t,e){if(1&t&&(n.Xb(0,"mat-option",55),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Je(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please select Collateral Type "),n.Wb())}function Ke(t,e){if(1&t&&(n.Xb(0,"mat-option",55),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.currencyCode),n.Eb(1),n.Vc(" ",t.currencyCode," ")}}function $e(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please enter Collateral Value "),n.Wb())}function He(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please enter Linkage Percentage "),n.Wb())}function Ye(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please enter Available Linkage Amount "),n.Wb())}function Ze(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please enter Overdraft Limit Amount "),n.Wb())}function Qe(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please select Attributes "),n.Wb())}function ta(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please select Dimensions "),n.Wb())}function ea(t,e){1&t&&(n.Xb(0,"mat-icon",57),n.Tc(1,"check_circle"),n.Wb())}function aa(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please enter Security Reference Number "),n.Wb())}function oa(t,e){1&t&&(n.Xb(0,"mat-hint",58),n.Tc(1," Enter valid Security Reference Number!"),n.Wb())}function ia(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please enter Branch Code "),n.Wb())}function na(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please select Rate Value "),n.Wb())}function ra(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please enter Rate "),n.Wb())}function ca(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please enter Spread "),n.Wb())}function sa(t,e){1&t&&(n.Xb(0,"mat-error",56),n.Tc(1," Please enter Final Rate "),n.Wb())}function la(t,e){if(1&t&&(n.Xb(0,"a",59),n.Tc(1),n.Wb()),2&t){const t=n.jc(2);n.sc("href",t.docUrl,n.Jc),n.Eb(1),n.Vc("",t.fileNam," ")}}function ba(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",60),n.fc("click",function(){n.Hc(t);const e=n.jc().index;return n.jc().deleteDoc(e)}),n.Tc(1,"delete"),n.Wb()}}function da(t,e){1&t&&n.Sb(0,"mat-spinner",61),2&t&&n.rc("diameter",30)}function ua(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",62),n.fc("click",function(){n.Hc(t);const e=n.jc().index;return n.jc().removeCollateral(e)}),n.Xb(1,"mat-icon"),n.Tc(2,"delete"),n.Wb(),n.Tc(3," Reset Collateral "),n.Wb()}}function ma(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",62),n.fc("click",function(){n.Hc(t);const e=n.jc(),a=e.$implicit,o=e.index;return n.jc().deleteCollateral(a,o)}),n.Xb(1,"mat-icon"),n.Tc(2,"delete"),n.Wb(),n.Tc(3," Remove Collateral "),n.Wb()}}function pa(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"mat-accordion"),n.Xb(2,"mat-expansion-panel",12),n.fc("opened",function(){return n.Hc(t),n.jc().panelOpenState=!0})("closed",function(){return n.Hc(t),n.jc().panelOpenState=!1}),n.Xb(3,"mat-expansion-panel-header"),n.Xb(4,"mat-panel-title"),n.Tc(5),n.Wb(),n.Wb(),n.Xb(6,"div",13),n.Xb(7,"div",14),n.Xb(8,"div",15),n.Xb(9,"mat-hint",16),n.Tc(10,"Collateral Type"),n.Wb(),n.Xb(11,"mat-card",17),n.Xb(12,"mat-select",18),n.Rc(13,qe,2,2,"mat-option",19),n.Wb(),n.Wb(),n.Rc(14,Je,2,0,"mat-error",20),n.Wb(),n.Xb(15,"div",15),n.Xb(16,"mat-hint",16),n.Tc(17,"Currency"),n.Wb(),n.Xb(18,"mat-card",17),n.Xb(19,"mat-select",21),n.Rc(20,Ke,2,2,"mat-option",19),n.Wb(),n.Wb(),n.Wb(),n.Xb(21,"div",15),n.Xb(22,"mat-hint",16),n.Tc(23,"Collateral Value"),n.Wb(),n.Xb(24,"mat-card",17),n.Xb(25,"input",22),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const a=e.$implicit,o=e.index;return n.jc().calculateLinkagePercent(a.value,o)}),n.Wb(),n.Wb(),n.Rc(26,$e,2,0,"mat-error",20),n.Wb(),n.Wb(),n.Xb(27,"div",14),n.Xb(28,"div",15),n.Xb(29,"mat-hint",16),n.Tc(30,"Linkage Percentage"),n.Wb(),n.Xb(31,"mat-card",17),n.Xb(32,"input",23),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("keydown",function(a){n.Hc(t);const o=e.$implicit;return n.jc().getCollatrl(a,o.get("linkagePercentage"))})("input",function(){n.Hc(t);const a=e.$implicit,o=e.index;return n.jc().calculateLinkagePercent(a.value,o)}),n.Wb(),n.Wb(),n.Rc(33,He,2,0,"mat-error",20),n.Wb(),n.Xb(34,"div",15),n.Xb(35,"mat-hint",16),n.Tc(36,"Available Linkage Amount*"),n.Wb(),n.Xb(37,"mat-card",17),n.Xb(38,"input",24),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(39,Ye,2,0,"mat-error",20),n.Wb(),n.Xb(40,"div",15),n.Xb(41,"mat-hint",16),n.Tc(42,"Overdraft Limit Amount*"),n.Wb(),n.Xb(43,"mat-card",17),n.Xb(44,"input",25),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("keyup",function(a){n.Hc(t);const o=e.index;return n.jc().overDraftCondition(a,o)}),n.Wb(),n.Wb(),n.Rc(45,Ze,2,0,"mat-error",20),n.Wb(),n.Wb(),n.Xb(46,"div",14),n.Xb(47,"div",15),n.Xb(48,"mat-hint",16),n.Tc(49,"Limit Start Date"),n.Wb(),n.Xb(50,"mat-card",26),n.Xb(51,"input",27),n.fc("selectedChange",function(){n.Hc(t);const a=e.$implicit;return n.jc().getDate(a.get("limitStartDate"))}),n.Wb(),n.Sb(52,"mat-datepicker-toggle",28),n.Wb(),n.Sb(53,"mat-datepicker",null,29),n.Wb(),n.Xb(55,"div",15),n.Xb(56,"mat-hint",16),n.Tc(57,"Limit End Date"),n.Wb(),n.Xb(58,"mat-card",26),n.Sb(59,"input",30),n.Sb(60,"mat-datepicker-toggle",28),n.Wb(),n.Sb(61,"mat-datepicker",null,31),n.Wb(),n.Xb(63,"div",15),n.Xb(64,"mat-hint",16),n.Tc(65,"Attributes*"),n.Wb(),n.Xb(66,"mat-card",17),n.Xb(67,"mat-select",32),n.Xb(68,"mat-option",33),n.Tc(69,"Attributes 1"),n.Wb(),n.Xb(70,"mat-option",34),n.Tc(71,"Attributes 2"),n.Wb(),n.Xb(72,"mat-option",35),n.Tc(73,"Attributes 3"),n.Wb(),n.Wb(),n.Wb(),n.Rc(74,Qe,2,0,"mat-error",20),n.Wb(),n.Wb(),n.Xb(75,"div",14),n.Xb(76,"div",15),n.Xb(77,"mat-hint",16),n.Tc(78,"Dimensions*"),n.Wb(),n.Xb(79,"mat-card",17),n.Xb(80,"mat-select",36),n.Xb(81,"mat-option",33),n.Tc(82,"Dimensions 1"),n.Wb(),n.Xb(83,"mat-option",34),n.Tc(84,"Dimensions 2"),n.Wb(),n.Xb(85,"mat-option",35),n.Tc(86,"Dimensions 3"),n.Wb(),n.Wb(),n.Wb(),n.Rc(87,ta,2,0,"mat-error",20),n.Wb(),n.Xb(88,"div",15),n.Xb(89,"mat-hint",16),n.Tc(90,"Security reference Number*"),n.Wb(),n.Xb(91,"mat-card",17),n.Xb(92,"input",37),n.fc("keypress",function(e){return n.Hc(t),n.jc().keyPressAlphanumeric(e)})("change",function(){n.Hc(t);const a=e.$implicit,o=e.index;return n.jc().fetchBySecurityNum(a.get("securityReferenceNumber").value,o)})("keyup",function(a){n.Hc(t);const o=e.index;return n.jc().keyUpevent(a,o)}),n.Wb(),n.Rc(93,ea,2,0,"mat-icon",38),n.Wb(),n.Rc(94,aa,2,0,"mat-error",20),n.Rc(95,oa,2,0,"mat-hint",39),n.Wb(),n.Xb(96,"div",15),n.Xb(97,"mat-hint",16),n.Tc(98,"Branch Code"),n.Wb(),n.Xb(99,"mat-card",17),n.Xb(100,"input",40),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(101,ia,2,0,"mat-error",20),n.Wb(),n.Wb(),n.Xb(102,"div",14),n.Xb(103,"div",15),n.Xb(104,"mat-hint",16),n.Tc(105,"Rate Value"),n.Wb(),n.Xb(106,"mat-card",17),n.Xb(107,"input",41),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(108,na,2,0,"mat-error",20),n.Wb(),n.Xb(109,"div",15),n.Xb(110,"mat-hint",16),n.Tc(111,"Rate in % *"),n.Wb(),n.Xb(112,"mat-card",17),n.Xb(113,"input",42),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("keydown",function(a){n.Hc(t);const o=e.$implicit;return n.jc().getCollatrl(a,o.get("rate"))})("input",function(){n.Hc(t);const a=e.$implicit,o=e.index;return n.jc().calculateFinalrate(a.value,o)}),n.Wb(),n.Wb(),n.Rc(114,ra,2,0,"mat-error",20),n.Wb(),n.Xb(115,"div",15),n.Xb(116,"mat-hint",16),n.Tc(117,"Spread*"),n.Wb(),n.Xb(118,"mat-card",17),n.Xb(119,"input",43),n.fc("input",function(){n.Hc(t);const a=e.$implicit,o=e.index;return n.jc().calculateFinalrate(a.value,o)}),n.Wb(),n.Wb(),n.Rc(120,ca,2,0,"mat-error",20),n.Wb(),n.Wb(),n.Xb(121,"div",14),n.Xb(122,"div",15),n.Xb(123,"mat-hint",16),n.Tc(124,"Final Rate in %"),n.Wb(),n.Xb(125,"mat-card",17),n.Xb(126,"input",44),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("keydown",function(a){n.Hc(t);const o=e.$implicit;return n.jc().getCollatrl(a,o.get("finalAmount"))}),n.Wb(),n.Wb(),n.Rc(127,sa,2,0,"mat-error",20),n.Wb(),n.Xb(128,"div",45),n.Xb(129,"input",46,47),n.fc("change",function(a){n.Hc(t);const o=e.index;return n.jc().uploadCollateralType(a,o)}),n.Wb(),n.Xb(131,"div",48),n.Xb(132,"a",49),n.fc("click",function(){return n.Hc(t),n.Dc(130).click()}),n.Tc(133,"Collateral Document Upload"),n.Wb(),n.Tc(134," \xa0 "),n.Xb(135,"mat-hint",50),n.Tc(136),n.Wb(),n.Rc(137,la,2,2,"a",51),n.Tc(138," \xa0 "),n.Rc(139,ba,2,0,"mat-icon",52),n.Rc(140,da,1,1,"mat-spinner",53),n.Wb(),n.Wb(),n.Wb(),n.Xb(141,"div",45),n.Rc(142,ua,4,0,"button",54),n.Rc(143,ma,4,0,"button",54),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.Dc(54),i=n.Dc(62),r=n.jc();n.Eb(5),n.Wc(" ",1==r.showEditOption?"Edit":"Add"," Collateral ",a+1," "),n.Eb(1),n.rc("formGroup",t),n.Eb(7),n.rc("ngForOf",r.arrayCollateralType),n.Eb(1),n.rc("ngIf",t.get("collateralType").touched&&t.get("collateralType").hasError("required")),n.Eb(6),n.rc("ngForOf",r.currency),n.Eb(6),n.rc("ngIf",t.get("collateralType").touched&&t.get("collateralValue").hasError("required")),n.Eb(7),n.rc("ngIf",t.get("linkagePercentage").touched&&t.get("linkagePercentage").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("availableLinkageAccount").touched&&t.get("availableLinkageAccount").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("overdraftLimitAmount").touched&&t.get("overdraftLimitAmount").hasError("required")),n.Eb(6),n.rc("matDatepicker",o)("min",r.minDate),n.Eb(1),n.rc("for",o),n.Eb(7),n.rc("min",t.get("limitStartDate").value)("matDatepicker",i),n.Eb(1),n.rc("for",i),n.Eb(14),n.rc("ngIf",t.get("attributes").touched&&t.get("attributes").hasError("required")&&t.get("attributes").touched),n.Eb(13),n.rc("ngIf",t.get("dimensions").touched&&t.get("dimensions").hasError("required")),n.Eb(6),n.rc("ngIf",r.issecurityValid&&t.get("securityReferenceNumber").value.length>0),n.Eb(1),n.rc("ngIf",t.get("securityReferenceNumber").touched&&t.get("securityReferenceNumber").hasError("required")),n.Eb(1),n.rc("ngIf",!r.issecurityValid&&r.onbackSpace),n.Eb(6),n.rc("ngIf",t.get("branchCode").touched&&t.get("branchCode").hasError("required")),n.Eb(7),n.rc("ngIf",t.get("rateValue").touched&&t.get("rateValue").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("rate").touched&&t.get("rate").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("spread").touched&&t.get("spread").hasError("required")),n.Eb(7),n.rc("ngIf",t.get("finalAmount").touched&&t.get("finalAmount").hasError("required")),n.Eb(9),n.Uc(r.fileName),n.Eb(1),n.rc("ngIf",r.docUrl),n.Eb(2),n.rc("ngIf",r.docUrl&&r.showDelete),n.Eb(1),n.rc("ngIf",r.showSpinn),n.Eb(2),n.rc("ngIf",!r.showEditOption),n.Eb(1),n.rc("ngIf",r.showEditOption)}}let ha=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.data=t,this.dialogRef=e,this.ls=a,this.formBuilder=o,this.api=i,this.snack=n,this.cdr=r,this.confirmService=c,this.tasksummaryService=s,this.showEditOption=!1}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.loggedInUser=this.ls.getItem("userName"),this.getCollateralType("collateral_type"),this.getCurrencyDetails(),this.data?(this.showEditOption=!0,this.buildSecuredOverdraftForm(this.data),this.addFormGroup(this.data)):(this.showEditOption=!1,this.buildSecuredOverdraftForm(),this.addFormGroup())}buildSecuredOverdraftForm(t){this.securedOverdraftUpdateForm=this.formBuilder.group({collaterals:this.formBuilder.array([])})}get f(){return this.securedOverdraftUpdateForm.controls}get c(){return this.f.collaterals}addFormGroup(t){const e=t?t.length:1;console.log("numberOfItems",e);for(let a=0;a<e;a++)this.c.push(this.formBuilder.group({id:[t[a].id],collateralType:[t[a]?t.collateralType:""],collateralCurrency:[t[a]?t.collateralCurrency:""],accountId:this.accountId,collateralValue:[t[a]?t[a].collateralValue:""],attributes:[t[a]?t[a].attributes:""],dimensions:[t[a]?t[a].dimensions:""],securityReferenceNumber:[t[a]?t[a].securityReferenceNumber:""],branchCode:[t[a]?t[a].branchCode:""],availableLinkageAccount:[t[a]?t[a].availableLinkageAccount:""],linkagePercentage:[t[a]?t[a].linkagePercentage:""],overdraftLimitAmount:[t[a]?t[a].overdraftLimitAmount:""],limitStartDate:[t[a]?t[a].limitStartDate:""],limitEndDate:[t[a]?t[a].limitEndDate:""],rateValue:[t[a]?t[a].rateValue:""],rate:[t[a]?t[a].rate:""],spread:[t[a]?t[a].spread:""],finalAmount:[t[a]?t[a].finalAmount:""],documentUrl:[t[a]?t[a].documentUrl:""],fileName:[t[a]?t[a].documentUrl:""]}))}addCFormGroup(){this.c.push(this.formBuilder.group({collateralType:[""],collateralCurrency:[""],accountId:this.accountId,collateralValue:[""],attributes:[""],dimensions:[""],securityReferenceNumber:[""],branchCode:[""],availableLinkageAccount:[""],linkagePercentage:[""],overdraftLimitAmount:[""],limitStartDate:[""],limitEndDate:[""],rateValue:[""],rate:[""],spread:[""],finalAmount:[""],documentUrl:[""],fileName:[""]}))}getCollateralType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayCollateralType=t})}getCurrencyDetails(){this.api.fetchCurrencyMaintAuthRecs().subscribe(t=>{this.currency=t})}overDraftCondition(t,e){let a=t.target.value;console.log(a,this.linkangePercent),a>this.linkangePercent&&(console.log("Bigger"),this.confirmService.confirm({title:"Confirm",message:" Overdraft Limit Amount should be less than Available Linkage Amount. Do you want to Proceed?",ok:"Yes",cancel:"No"}).subscribe(t=>{console.log("Response",t),!0===t?this.cdr.markForCheck():this.c.at(e).get("overdraftLimitAmount").setValue("")}))}fetchBySecurityNum(t,e){t&&(this.showSpinner=!0,console.log("Caling",t),this.api.fetchBySecurityNumber(t).subscribe(t=>{if(console.log(t),this.showSpinner=!1,null==t)return this.issecurityValid=!1,this.snack.open("Invalid Security Reference Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void this.c.at(e).get("securityReferenceNumber").setValue("");this.issecurityValid=!0,this.branchData=t.securedOverDrafts,console.log(this.branchData),this.branchData.forEach((t,e)=>{this.branch=this.branchData[e].branchCode}),this.c.at(e).get("branchCode").setValue(this.branch),this.cdr.markForCheck()}))}uploadCollateralType(t,e){this.showSpinn=!0;const a=t.target.files[0];this.fileName[e]=a.name;const o={accountId:this.accountId,documentName:this.fileName[e]},i=new FormData;i.append("data",JSON.stringify(o)),i.append("file",a),this.api.uploadcollateralDoc(i).subscribe(t=>{console.log("Document Resp",t,t.url),t&&t.url&&(this.showSpinn=!1,this.snack.open("Document Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.c.at(e).get("documentUrl").setValue(t.url),this.c.at(e).get("fileName").setValue(t.fileName))})}deleteDoc(t){this.docUrl=" ",this.fileName=" ",this.c.at(t).get("documentUrl").setValue(""),this.c.at(t).get("fileName").setValue(""),this.showDelete=!1}onSubmit(t){this.c.value.forEach(t=>{""!=t.linkagePercentage&&""!=t.securityReferenceNumber&&""!=t.collateralValue&&""!=t.branchCode||1!=this.securedOverdraftUpdateForm.touched||this.snack.open("mandatory details are not filled so need to be filled!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),null!=t.limitStartDate&&null!=t.limitStartDate._d&&null!=t.limitStartDate._d&&(t.limitStartDate=this.convertDate(t.limitStartDate._d)),null!=t.limitEndDate&&null!=t.limitEndDate._d&&null!=t.limitEndDate._d&&(t.limitEndDate=this.convertDate(t.limitEndDate._d))});let e={securedOverDrafts:this.c.value,loggedInUser:this.loggedInUser};this.securedOverdraftUpdateForm.invalid?console.log("this.securedOverdraftUpdateForm.touched",this.securedOverdraftUpdateForm.touched):this.api.securedDraft(e).subscribe(t=>{this.snack.open("Secured Overdraft Details is already filled, click on Next button to continue!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}onReset(){this.securedOverdraftUpdateForm.reset(),this.c.clear()}removeCollateral(t){this.c.controls[t].reset()}convertDate(t){let e=h(t).format("YYYY-MM-DDThh:mm:ss");if(console.log("date",e),e)return e}keyUpevent(t,e){console.log("event",t),8===t.keyCode?(this.onbackSpace=!0,this.issecurityValid=!1,this.c.at(e).get("branchCode").setValue("")):this.onbackSpace=!1}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}calculateLinkagePercent(t,e){this.linkangePercent=t.collateralValue*(t.linkagePercentage/100),this.c.at(e).get("availableLinkageAccount").setValue(this.linkangePercent.toFixed(2))}calculateFinalrate(t,e){this.finalRatevalue=1*t.rate+1*t.spread,console.log(this.linkangePercent,this.c.controls[e]),this.c.at(e).get("finalAmount").setValue(this.finalRatevalue)}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(l.a),n.Rb(p.f),n.Rb(r.b),n.Rb(f.a),n.Rb(n.h),n.Rb(V.a),n.Rb(m.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-secured-overdraft-details-update"]],decls:18,vars:4,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],["fxLayout","row","fxLayout.lt-sm","column",1,"app-top-toolbar"],["fxFlex",""],["mat-button","","color","primary",3,"click",4,"ngIf"],[3,"formGroup"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","color","primary",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["mat-button","","color","primary",3,"click"],["expanded","true",1,"mb-8",3,"opened","closed"],["fxLayout","column",3,"formGroup"],["fxLayout","row","fxFlex","100"],["fxFlex","33.33%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","collateralType","formControlName","collateralType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["name","prefix","formControlName","collateralCurrency"],["matInput","","name","a_sig","id","collateralValue","formControlName","collateralValue","placeholder","Collateral Value","required","",3,"keypress","input"],["matInput","","name","a_sig","formControlName","linkagePercentage","placeholder","Linkage Percentage","required","",3,"keypress","keydown","input"],["readonly","","matInput","","name","a_sig","formControlName","availableLinkageAccount","placeholder","Available Linkage Amount",3,"keypress"],["matInput","","name","a_sig","formControlName","overdraftLimitAmount","placeholder","Overdraft Limit Amount",3,"keypress","keyup"],["fxLayout","row",1,"inputCard"],["readonly","","matInput","","name","dob","formControlName","limitStartDate","placeholder","Limit Start Date",3,"matDatepicker","min","selectedChange"],["matSuffix","",3,"for"],["appDatepicker",""],["readonly","","matInput","","name","led","formControlName","limitEndDate","placeholder","Limit End Date",3,"min","matDatepicker"],["appDatepicker1",""],["name","attributes","formControlName","attributes"],["value","1"],["value","2"],["value","3"],["name","dimensions","formControlName","dimensions"],["matInput","","required","","name","a_sig","formControlName","securityReferenceNumber","placeholder","Security Reference Number",3,"keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","hintClass","class","hintColor",4,"ngIf"],["matInput","","name","a_sig","formControlName","branchCode","placeholder","Branch Code","readonly","","required","",3,"keypress"],["matInput","","name","rateValue","formControlName","rateValue","placeholder","Rate Value",3,"keypress"],["matInput","","name","a_sig","formControlName","rate","placeholder","Rate",3,"keypress","keydown","input"],["matInput","","type","number","name","a_sig","formControlName","spread","placeholder","Spread",3,"input"],["matInput","","name","a_sig","formControlName","finalAmount","placeholder","Rate",3,"keypress","keydown"],[1,"pb-1"],["type","file","name","documentUrl",2,"display","none",3,"change"],["documentUrl",""],["fxLayout","row wrap",1,"flex-container","stretch"],[1,"UploadLink",3,"routerLink","click"],[1,"documentHint"],["class","documentlink","download","",3,"href",4,"ngIf"],["class","docIcon",3,"click",4,"ngIf"],["class","spinner",3,"diameter",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[1,"errorClass"],["matSuffix","","color","primary"],[1,"hintColor"],["download","",1,"documentlink",3,"href"],[1,"docIcon",3,"click"],[1,"spinner",3,"diameter"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Secured Overdraft Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"div",3),n.Sb(7,"span",4),n.Rc(8,ze,4,0,"button",5),n.Wb(),n.Xb(9,"mat-card"),n.Xb(10,"form",6),n.Rc(11,pa,144,32,"div",7),n.Wb(),n.Wb(),n.Wb(),n.Xb(12,"div",8),n.Xb(13,"button",9),n.fc("click",function(){return e.onSubmit(e.securedOverdraftUpdateForm.value)}),n.Tc(14,"Save"),n.Wb(),n.Tc(15," \xa0\xa0\xa0 "),n.Xb(16,"button",10),n.fc("click",function(){return e.close()}),n.Tc(17," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(8),n.rc("ngIf",!e.showEditOption),n.Eb(2),n.rc("formGroup",e.securedOverdraftUpdateForm),n.Eb(1),n.rc("ngForOf",e.c.controls),n.Eb(2),n.rc("disabled",e.securedOverdraftUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,g.b,o.n,X.a,p.A,p.s,p.j,o.m,C.b,j.a,j.c,j.e,j.f,W.f,T.a,p.r,p.i,y.b,p.c,p.y,I.e,I.g,W.j,I.d,D.n,p.v,je.k,W.b,x.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var fa=a("PSD3"),ga=a.n(fa);function va(t,e){1&t&&(n.Xb(0,"mat-error",34),n.Tc(1," Please Enter Limit ID "),n.Wb())}function Wa(t,e){if(1&t&&(n.Xb(0,"mat-option",35),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.currencyCode),n.Eb(1),n.Uc(t.currencyCode)}}function Xa(t,e){1&t&&(n.Xb(0,"mat-error",34),n.Tc(1," Please select Currency "),n.Wb())}function ya(t,e){1&t&&(n.Xb(0,"mat-error",34),n.Tc(1," Please enter Overdraft Limit Amount "),n.Wb())}function Ta(t,e){1&t&&(n.Xb(0,"mat-error",34),n.Tc(1," Please select Limit Start Date "),n.Wb())}function Ia(t,e){1&t&&(n.Xb(0,"mat-error",34),n.Tc(1," Please select Limit End Date "),n.Wb())}function Ea(t,e){if(1&t&&(n.Xb(0,"mat-option",35),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function Ca(t,e){1&t&&(n.Xb(0,"mat-error",34),n.Tc(1," Please select Year "),n.Wb())}function xa(t,e){if(1&t&&(n.Xb(0,"mat-option",35),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function Da(t,e){1&t&&(n.Xb(0,"mat-error",34),n.Tc(1," Please select Month "),n.Wb())}function Oa(t,e){if(1&t&&(n.Xb(0,"mat-option",35),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function Aa(t,e){1&t&&(n.Xb(0,"mat-error",34),n.Tc(1," Please select Day "),n.Wb())}function Ra(t,e){1&t&&(n.Xb(0,"mat-error",34),n.Tc(1," Please enter Renewal Amount "),n.Wb())}function Sa(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",36),n.Xb(1,"div",37),n.Xb(2,"div",38),n.Xb(3,"mat-hint",11),n.Tc(4,"Renew Period"),n.Wb(),n.Xb(5,"div",39),n.Xb(6,"div"),n.Xb(7,"mat-hint"),n.Tc(8,"Years"),n.Wb(),n.Xb(9,"mat-card",12),n.Xb(10,"mat-select",40),n.fc("[ngModel]",function(){return n.Hc(t),n.jc(2).selectedYear}),n.Rc(11,Ea,2,2,"mat-option",18),n.Wb(),n.Wb(),n.Rc(12,Ca,2,0,"mat-error",14),n.Wb(),n.Xb(13,"div"),n.Xb(14,"div",31),n.Xb(15,"div",21),n.Xb(16,"mat-hint",11),n.Tc(17,"Months"),n.Wb(),n.Xb(18,"mat-card",12),n.Xb(19,"mat-select",41),n.fc("[ngModel]",function(){return n.Hc(t),n.jc(2).selectedMonth}),n.Rc(20,xa,2,2,"mat-option",18),n.Wb(),n.Wb(),n.Rc(21,Da,2,0,"mat-error",14),n.Wb(),n.Wb(),n.Wb(),n.Xb(22,"div"),n.Xb(23,"div",31),n.Xb(24,"div",21),n.Xb(25,"mat-hint",11),n.Tc(26,"Days"),n.Wb(),n.Xb(27,"mat-card",12),n.Xb(28,"mat-select",42),n.fc("[ngModel]",function(){return n.Hc(t),n.jc(2).selectedDay}),n.Rc(29,Oa,2,2,"mat-option",18),n.Wb(),n.Wb(),n.Rc(30,Aa,2,0,"mat-error",14),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(31,"div",43),n.Xb(32,"mat-hint",11),n.Tc(33,"Renewal Amount"),n.Wb(),n.Xb(34,"mat-card",12),n.Xb(35,"input",44),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(36,Ra,2,0,"mat-error",14),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(11),n.rc("ngForOf",t.years),n.Eb(1),n.rc("ngIf",t.unsecuredUpdateForm.get("year").hasError("required")&&t.unsecuredUpdateForm.get("year").touched),n.Eb(8),n.rc("ngForOf",t.months),n.Eb(1),n.rc("ngIf",t.unsecuredUpdateForm.get("month").hasError("required")&&t.unsecuredUpdateForm.get("month").touched),n.Eb(8),n.rc("ngForOf",t.days),n.Eb(1),n.rc("ngIf",t.unsecuredUpdateForm.get("day").hasError("required")&&t.unsecuredUpdateForm.get("day").touched),n.Eb(6),n.rc("ngIf",t.unsecuredUpdateForm.get("renewalAmount").hasError("required")&&t.unsecuredUpdateForm.get("renewalAmount").touched)}}function Na(t,e){if(1&t){const t=n.Yb();n.Xb(0,"form",7),n.Xb(1,"mat-card"),n.Xb(2,"div",8),n.Xb(3,"div",9),n.Xb(4,"div",10),n.Xb(5,"mat-hint",11),n.Tc(6,"Limit ID*"),n.Wb(),n.Xb(7,"mat-card",12),n.Xb(8,"input",13),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(9,va,2,0,"mat-error",14),n.Wb(),n.Wb(),n.Xb(10,"div",15),n.Xb(11,"div",16),n.Xb(12,"mat-hint",11),n.Tc(13,"Currency*"),n.Wb(),n.Xb(14,"mat-card",12),n.Xb(15,"mat-select",17),n.fc("[ngModel]",function(){return n.Hc(t),n.jc().selectedCurrency}),n.Rc(16,Wa,2,2,"mat-option",18),n.Wb(),n.Wb(),n.Rc(17,Xa,2,0,"mat-error",14),n.Wb(),n.Xb(18,"div",16),n.Xb(19,"mat-hint",11),n.Tc(20,"Overdraft Limit Amount*"),n.Wb(),n.Xb(21,"mat-card",12),n.Xb(22,"input",19),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(23,ya,2,0,"mat-error",14),n.Wb(),n.Wb(),n.Xb(24,"div",15),n.Xb(25,"div",20),n.Xb(26,"div",21),n.Xb(27,"mat-hint",11),n.Tc(28,"Limit Start Date*"),n.Wb(),n.Xb(29,"mat-card",12),n.Sb(30,"input",22),n.Sb(31,"mat-datepicker-toggle",23),n.Wb(),n.Rc(32,Ta,2,0,"mat-error",14),n.Wb(),n.Sb(33,"mat-datepicker",null,24),n.Wb(),n.Xb(35,"div",20),n.Xb(36,"div",21),n.Xb(37,"mat-hint",11),n.Tc(38,"Limit End Date*"),n.Wb(),n.Xb(39,"mat-card",12),n.Xb(40,"div",25),n.Sb(41,"input",26),n.Wb(),n.Xb(42,"div",27),n.Sb(43,"mat-datepicker-toggle",23),n.Wb(),n.Wb(),n.Rc(44,Ia,2,0,"mat-error",14),n.Wb(),n.Sb(45,"mat-datepicker",null,28),n.Wb(),n.Wb(),n.Xb(47,"div",29),n.Xb(48,"div",30),n.Xb(49,"div",31),n.Tc(50," Do your Unsecured Overdraft Limit has to be renewed ? "),n.Xb(51,"mat-slide-toggle",32),n.fc("change",function(e){return n.Hc(t),n.jc().onToggle(e)}),n.Wb(),n.Wb(),n.Sb(52,"br"),n.Wb(),n.Wb(),n.Rc(53,Sa,37,7,"div",33),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.Dc(34),e=n.Dc(46),a=n.jc();n.rc("formGroup",a.unsecuredUpdateForm),n.Eb(9),n.rc("ngIf",a.unsecuredUpdateForm.get("limitId").hasError("required")),n.Eb(7),n.rc("ngForOf",a.currency),n.Eb(1),n.rc("ngIf",a.unsecuredUpdateForm.get("overdraftCurrency").hasError("required")),n.Eb(6),n.rc("ngIf",a.unsecuredUpdateForm.controls.overdraftLimitAmount.touched),n.Eb(7),n.rc("matDatepicker",t)("min",a.minDate),n.Eb(1),n.rc("for",t),n.Eb(1),n.rc("ngIf",a.unsecuredUpdateForm.get("limitStartDate").hasError("required")),n.Eb(9),n.rc("min",a.unsecuredUpdateForm.get("limitStartDate").value)("matDatepicker",e),n.Eb(2),n.rc("for",e),n.Eb(1),n.rc("ngIf",a.unsecuredUpdateForm.get("limitEndDate").hasError("required")),n.Eb(9),n.rc("ngIf",a.flag)}}let Pa=(()=>{class t{constructor(t,e,a,o,i,n,r,c){this.data=t,this.dialogRef=e,this.ls=a,this.formBuilder=o,this.cdr=i,this.api=n,this.snack=r,this.tasksummaryService=c}ngOnInit(){this.accountId=this.ls.getItem("accountId"),console.log(this.data,this.accountId),this.getCurrencyDetails(),this.data?this.buildUnsecuredForm(this.data):this.buildUnsecuredForm()}buildUnsecuredForm(t,e){if(this.unsecuredUpdateForm=this.formBuilder.group({limitId:[t?t.limitId:"",p.z.required],accountId:null!=this.accountId?this.accountId:"",overdraftCurrency:[t?t.overdraftCurrency:"",p.z.required],overdraftLimitAmount:[t?t.overdraftLimitAmount:"",p.z.required],limitStartDate:[t?new Date(t.limitStartDate):"",p.z.required],limitEndDate:[t?new Date(t.limitEndDate):"",p.z.required],unsecuredLimit:[""],renewPeriod:[t?t.renewPeriod:""],renewalAmount:[t?t.renewalAmount:""],year:[t?t.year:""],month:[t?t.month:""],day:[t?t.day:""],overdraftLimitRenewed:[t?t.overdraftLimitRenewed:""]}),t&&(console.log("values:",t.renewPeriod),t.renewPeriod)){this.selectedYear=t.renewPeriod.substring(0,4);let e=t.renewPeriod.substring(5,8);this.selectedDay=t.renewPeriod.substring(9,11),this.unsecuredUpdateForm.get("year").setValue(Number(this.selectedYear)),this.unsecuredUpdateForm.get("month").setValue(e),this.unsecuredUpdateForm.get("day").setValue(Number(this.selectedDay)),this.cdr.markForCheck()}}onSubmit(){if(this.unsecuredUpdateForm.value.overdraftLimitRenewed&&(null==this.unsecuredUpdateForm.controls.day.value||null==this.unsecuredUpdateForm.controls.year.value||null==this.unsecuredUpdateForm.controls.month.value))return void this.snack.open("Please give Renew Period","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});let t=this.convertDate(this.unsecuredUpdateForm.controls.limitStartDate.value);this.unsecuredUpdateForm.value.limitStartDate=t;let e,a=this.convertDate(this.unsecuredUpdateForm.controls.limitEndDate.value);this.unsecuredUpdateForm.value.limitEndDate=a,e=this.unsecuredUpdateForm.value.overdraftLimitRenewed?this.unsecuredUpdateForm.value.year+"-"+this.unsecuredUpdateForm.value.month+"-"+this.unsecuredUpdateForm.value.day:"";let o={accountId:this.accountId,limitId:this.unsecuredUpdateForm.value.limitId,overdraftCurrency:this.unsecuredUpdateForm.value.overdraftCurrency,overdraftLimitAmount:this.unsecuredUpdateForm.value.overdraftLimitAmount,limitStartDate:this.unsecuredUpdateForm.value.limitStartDate,limitEndDate:this.unsecuredUpdateForm.value.limitEndDate,renewPeriod:e,renewalAmount:this.unsecuredUpdateForm.value.renewalAmount,overdraftLimitRenewed:this.unsecuredUpdateForm.value.overdraftLimitRenewed};if(null==o.limitId||null==o.overdraftLimitAmount)return ga.a.fire("Please Enter The Mandatory Fields !"),!1;""!=this.unsecuredUpdateForm.value.limitId&&this.api.unsecuredDraft(o).subscribe(t=>{this.snack.open("UnSecured Overdraft Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open(t.message,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}getCurrencyDetails(){this.api.fetchCurrencyMaintAuthRecs().subscribe(t=>{this.currency=t})}onToggle(t){!0===t.checked?this.flag=!0:(this.flag=!1,this.unsecuredUpdateForm.get("renewalAmount").setValue(""))}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}convertDate(t){let e=h(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(l.a),n.Rb(p.f),n.Rb(n.h),n.Rb(r.b),n.Rb(f.a),n.Rb(m.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-unsecured-overdraft-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","100%","fxFlex.gt-xs","50",1,"pr-1"],["fxFlex","30%","appearance","outline",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","id","limitId","formControlName","limitId","name","mod","placeholder","Limit ID",3,"keypress"],["class","errorClass",4,"ngIf"],["fxFlex","100%","fxLayout","row wrap","fxLayoutGap","5%"],["fxFlex","40%","appearance","outline",1,"full-width"],["name","prefix","formControlName","overdraftCurrency",3,"[ngModel]"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","a_sig","maxlength","15","formControlName","overdraftLimitAmount","placeholder","Overdraft Limit Amount",3,"keypress"],["fxFlex","40%"],["appearance","outline",1,"full-width"],["readonly","","matInput","","name","dob","formControlName","limitStartDate","placeholder","Limit Start Date",3,"matDatepicker","min"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","85%"],["matInput","","name","dob","formControlName","limitEndDate","placeholder","Limit End Date","readonly","",3,"min","matDatepicker"],["fxFelx","15%"],["appDatepicker1",""],["fxFlex","100","fxLayout","row"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["formControlName","overdraftLimitRenewed",3,"change"],["fxflex","100",4,"ngIf"],[1,"errorClass"],[3,"value"],["fxflex","100"],["fxLayout","row"],["fxFlex","50%"],["fxLayout","row wrap","fxLayoutGap","5px","fxLayout","row"],["required","","formControlName","year",3,"[ngModel]"],["required","","formControlName","month",3,"[ngModel]"],["required","","formControlName","day",3,"[ngModel]"],[1,"full-width"],["matInput","","maxlength","8","name","a_sig","required","","formControlName","renewalAmount","placeholder","Renewal Amount",3,"keypress"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Unsecured Overdraft Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Rc(6,Na,54,14,"form",3),n.Wb(),n.Xb(7,"div",4),n.Xb(8,"button",5),n.fc("click",function(){return e.onSubmit()}),n.Tc(9,"Save"),n.Wb(),n.Tc(10," \xa0\xa0\xa0 "),n.Xb(11,"button",6),n.fc("click",function(){return e.close()}),n.Tc(12," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("ngIf",e.unsecuredUpdateForm),n.Eb(2),n.rc("disabled",e.unsecuredUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,X.a,g.b,W.f,y.b,p.c,p.r,p.i,T.a,o.m,p.m,I.e,I.g,W.j,I.d,E.a,W.b,D.n,p.y],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var ka=a("BSbQ");function Fa(t,e){if(1&t&&(n.Xb(0,"mat-option",67),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function La(t,e){1&t&&(n.Xb(0,"mat-error",68),n.Tc(1," Please select the Employment Type "),n.Wb())}function _a(t,e){1&t&&(n.Xb(0,"mat-error",68),n.Tc(1," Please enter the Designation "),n.Wb())}function wa(t,e){1&t&&(n.Xb(0,"mat-error",68),n.Tc(1," Please enter the Employee Number "),n.Wb())}function Ua(t,e){if(1&t&&(n.Xb(0,"mat-option",67),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Ma(t,e){1&t&&(n.Xb(0,"mat-error",68),n.Tc(1," Please select the Employment Category "),n.Wb())}function Ga(t,e){1&t&&(n.Xb(0,"mat-error",68),n.Tc(1," Please enter the Office Name "),n.Wb())}function Va(t,e){if(1&t){const t=n.Yb();n.Xb(0,"form",7),n.Xb(1,"mat-card"),n.Xb(2,"div",8),n.Xb(3,"mat-card"),n.Xb(4,"div",8),n.Xb(5,"div",9),n.Xb(6,"mat-hint",10),n.Tc(7,"Applicant Name"),n.Wb(),n.Xb(8,"mat-card",11),n.Sb(9,"input",12),n.Wb(),n.Wb(),n.Xb(10,"div",9),n.Xb(11,"mat-hint",10),n.Tc(12,"Total Annual Income*"),n.Wb(),n.Xb(13,"mat-card"),n.Sb(14,"input",13),n.Wb(),n.Wb(),n.Xb(15,"div",9),n.Xb(16,"mat-hint",10),n.Tc(17,"Total Annual Expenses*"),n.Wb(),n.Xb(18,"mat-card"),n.Sb(19,"input",14),n.Wb(),n.Wb(),n.Xb(20,"div",9),n.Xb(21,"div"),n.Xb(22,"mat-hint",10),n.Tc(23,"Last Update On"),n.Wb(),n.Xb(24,"mat-card",15),n.Xb(25,"div",16),n.Sb(26,"input",17),n.Wb(),n.Xb(27,"div",18),n.Sb(28,"mat-datepicker-toggle",19),n.Wb(),n.Wb(),n.Wb(),n.Sb(29,"mat-datepicker",null,20),n.Wb(),n.Wb(),n.Wb(),n.Xb(31,"mat-card"),n.Xb(32,"mat-card-title",21),n.Xb(33,"div",22),n.Tc(34,"Employment Details"),n.Wb(),n.Sb(35,"mat-divider"),n.Wb(),n.Xb(36,"mat-card-content"),n.Xb(37,"div",8),n.Xb(38,"div",23),n.Xb(39,"mat-hint",10),n.Tc(40,"Employment Type*"),n.Wb(),n.Xb(41,"mat-card",11),n.Xb(42,"mat-select",24),n.Rc(43,Fa,2,2,"mat-option",25),n.Wb(),n.Wb(),n.Rc(44,La,2,0,"mat-error",26),n.Wb(),n.Xb(45,"div",23),n.Xb(46,"mat-hint",10),n.Tc(47,"Designation*"),n.Wb(),n.Xb(48,"mat-card",11),n.Sb(49,"input",27),n.Wb(),n.Rc(50,_a,2,0,"mat-error",26),n.Wb(),n.Xb(51,"div",23),n.Xb(52,"mat-hint",10),n.Tc(53,"Employee number*"),n.Wb(),n.Xb(54,"mat-card",11),n.Xb(55,"input",28),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(56,wa,2,0,"mat-error",26),n.Wb(),n.Xb(57,"div",23),n.Xb(58,"mat-hint",10),n.Tc(59,"Employment Category*"),n.Wb(),n.Xb(60,"mat-card",11),n.Xb(61,"mat-select",29),n.Rc(62,Ua,2,2,"mat-option",25),n.Wb(),n.Wb(),n.Rc(63,Ma,2,0,"mat-error",26),n.Wb(),n.Xb(64,"div",9),n.Xb(65,"div"),n.Xb(66,"mat-hint",10),n.Tc(67,"Employment Start Date"),n.Wb(),n.Xb(68,"mat-card",11),n.Xb(69,"div",16),n.Sb(70,"input",30),n.Wb(),n.Xb(71,"div",18),n.Sb(72,"mat-datepicker-toggle",19),n.Wb(),n.Wb(),n.Wb(),n.Sb(73,"mat-datepicker",null,31),n.Wb(),n.Xb(75,"div",9),n.Xb(76,"div"),n.Xb(77,"mat-hint",10),n.Tc(78,"Employment End Date"),n.Wb(),n.Xb(79,"mat-card",11),n.Sb(80,"input",32),n.Sb(81,"mat-datepicker-toggle",19),n.Wb(),n.Wb(),n.Sb(82,"mat-datepicker",null,33),n.Wb(),n.Xb(84,"div",23),n.Xb(85,"mat-hint",10),n.Tc(86,"Office Name*"),n.Wb(),n.Xb(87,"mat-card",11),n.Sb(88,"input",34),n.Wb(),n.Rc(89,Ga,2,0,"mat-error",26),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(90,"mat-card"),n.Xb(91,"mat-card-title",21),n.Xb(92,"div",22),n.Tc(93,"Monthly Income "),n.Xb(94,"div",35),n.Tc(95),n.Wb(),n.Wb(),n.Sb(96,"mat-divider"),n.Wb(),n.Xb(97,"mat-card-content"),n.Xb(98,"div",8),n.Xb(99,"div",23),n.Xb(100,"mat-hint",10),n.Tc(101,"Salary"),n.Wb(),n.Xb(102,"mat-card",11),n.Xb(103,"input",36),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(104,"div",23),n.Xb(105,"mat-hint",10),n.Tc(106,"Business"),n.Wb(),n.Xb(107,"mat-card",11),n.Xb(108,"input",37),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(109,"div",23),n.Xb(110,"mat-hint",10),n.Tc(111,"Interest Income"),n.Wb(),n.Xb(112,"mat-card",11),n.Xb(113,"input",38),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(114,"div",23),n.Xb(115,"mat-hint",10),n.Tc(116,"Pension"),n.Wb(),n.Xb(117,"mat-card",11),n.Xb(118,"input",39),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(119,"div",23),n.Xb(120,"mat-hint",10),n.Tc(121,"Bonus"),n.Wb(),n.Xb(122,"mat-card",11),n.Xb(123,"input",40),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(124,"div",23),n.Xb(125,"mat-hint",10),n.Tc(126,"Cash Gifts"),n.Wb(),n.Xb(127,"mat-card",11),n.Xb(128,"input",41),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(129,"div",23),n.Xb(130,"mat-hint",10),n.Tc(131,"Rentals"),n.Wb(),n.Xb(132,"mat-card",11),n.Xb(133,"input",42),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(134,"div",23),n.Xb(135,"mat-hint",10),n.Tc(136,"Others"),n.Wb(),n.Xb(137,"mat-card",11),n.Xb(138,"input",43),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyIncome(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(139,"div",23),n.Xb(140,"mat-hint",10),n.Tc(141,"Total"),n.Wb(),n.Xb(142,"mat-card",11),n.Sb(143,"input",44),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(144,"mat-card"),n.Xb(145,"mat-card-title",21),n.Xb(146,"div",22),n.Tc(147,"Monthly Expenses "),n.Xb(148,"div",35),n.Tc(149),n.Wb(),n.Wb(),n.Sb(150,"mat-divider"),n.Wb(),n.Xb(151,"mat-card-content"),n.Xb(152,"div",8),n.Xb(153,"div",23),n.Xb(154,"mat-hint",10),n.Tc(155,"Household"),n.Wb(),n.Xb(156,"mat-card",11),n.Xb(157,"input",45),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(158,"div",9),n.Xb(159,"mat-hint",10),n.Tc(160,"Medical"),n.Wb(),n.Xb(161,"mat-card",11),n.Xb(162,"input",46),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(163,"div",9),n.Xb(164,"mat-hint",10),n.Tc(165,"Vehicle Maintenance"),n.Wb(),n.Xb(166,"mat-card",11),n.Xb(167,"input",47),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(168,"div",9),n.Xb(169,"mat-hint",10),n.Tc(170,"Travel"),n.Wb(),n.Xb(171,"mat-card",11),n.Xb(172,"input",48),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(173,"div",9),n.Xb(174,"mat-hint",10),n.Tc(175,"Rentals"),n.Wb(),n.Xb(176,"mat-card",11),n.Xb(177,"input",49),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(178,"div",9),n.Xb(179,"mat-hint",10),n.Tc(180,"Others"),n.Wb(),n.Xb(181,"mat-card",11),n.Xb(182,"input",50),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalMonthlyExpenses(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(183,"div",9),n.Xb(184,"mat-hint",10),n.Tc(185,"Total"),n.Wb(),n.Xb(186,"mat-card",11),n.Sb(187,"input",51),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(188,"mat-card"),n.Xb(189,"mat-card-title",21),n.Xb(190,"div",22),n.Tc(191,"Annual Liabilities "),n.Xb(192,"div",35),n.Tc(193),n.Wb(),n.Wb(),n.Sb(194,"mat-divider"),n.Wb(),n.Xb(195,"mat-card-content"),n.Xb(196,"div",8),n.Xb(197,"div",9),n.Xb(198,"mat-hint",10),n.Tc(199,"Property Loans"),n.Wb(),n.Xb(200,"mat-card",11),n.Xb(201,"input",52),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(202,"div",9),n.Xb(203,"mat-hint",10),n.Tc(204,"Personal Loans"),n.Wb(),n.Xb(205,"mat-card",11),n.Xb(206,"input",53),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(207,"div",9),n.Xb(208,"mat-hint",10),n.Tc(209,"Vehicle Loans"),n.Wb(),n.Xb(210,"mat-card",11),n.Xb(211,"input",54),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(212,"div",9),n.Xb(213,"mat-hint",10),n.Tc(214,"Cards Outstanding's"),n.Wb(),n.Xb(215,"mat-card",11),n.Xb(216,"input",55),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(217,"div",9),n.Xb(218,"mat-hint",10),n.Tc(219,"Overdrafts"),n.Wb(),n.Xb(220,"mat-card",11),n.Xb(221,"input",56),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(222,"div",9),n.Xb(223,"mat-hint",10),n.Tc(224,"Others"),n.Wb(),n.Xb(225,"mat-card",11),n.Xb(226,"input",57),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalLiabilities(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(227,"div",9),n.Xb(228,"mat-hint",10),n.Tc(229,"Total"),n.Wb(),n.Xb(230,"mat-card",11),n.Sb(231,"input",58),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(232,"mat-card"),n.Xb(233,"mat-card-title",21),n.Xb(234,"div",22),n.Tc(235,"Asset "),n.Xb(236,"div",35),n.Tc(237),n.Wb(),n.Wb(),n.Sb(238,"mat-divider"),n.Wb(),n.Xb(239,"mat-card-content"),n.Xb(240,"div",8),n.Xb(241,"div",9),n.Xb(242,"mat-hint",10),n.Tc(243,"Savings Deposits"),n.Wb(),n.Sb(244,"mat-card"),n.Xb(245,"input",59),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Xb(246,"div",9),n.Xb(247,"mat-hint",10),n.Tc(248,"Properties"),n.Wb(),n.Xb(249,"mat-card",11),n.Xb(250,"input",60),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(251,"div",9),n.Xb(252,"mat-hint",10),n.Tc(253,"Fixed Deposits"),n.Wb(),n.Xb(254,"mat-card",11),n.Xb(255,"input",61),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(256,"div",9),n.Xb(257,"mat-hint",10),n.Tc(258,"Stocks/Funds"),n.Wb(),n.Xb(259,"mat-card",11),n.Xb(260,"input",62),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(261,"div",9),n.Xb(262,"mat-hint",10),n.Tc(263,"Auto Mobiles"),n.Wb(),n.Xb(264,"mat-card",11),n.Xb(265,"input",63),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(266,"div",9),n.Xb(267,"mat-hint",10),n.Tc(268,"Lands"),n.Wb(),n.Xb(269,"mat-card",11),n.Xb(270,"input",64),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(271,"div",9),n.Xb(272,"mat-hint",10),n.Tc(273,"Others"),n.Wb(),n.Xb(274,"mat-card",11),n.Xb(275,"input",65),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("input",function(){n.Hc(t);const e=n.jc();return e.calculateTotalAssets(e.financialDetailsUpdate.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(276,"div",9),n.Xb(277,"mat-hint",10),n.Tc(278,"Total"),n.Wb(),n.Xb(279,"mat-card"),n.Sb(280,"input",66),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.Dc(30),e=n.Dc(74),a=n.Dc(83),o=n.jc();n.rc("formGroup",o.financialDetailsUpdate),n.Eb(26),n.rc("matDatepicker",t)("max",o.tomorrow),n.Eb(2),n.rc("for",t),n.Eb(15),n.rc("ngForOf",o.arrayEmploymentType),n.Eb(1),n.rc("ngIf",o.financialDetailsUpdate.get("employmentType").hasError("required")),n.Eb(6),n.rc("ngIf",o.financialDetailsUpdate.get("designation").hasError("required")),n.Eb(6),n.rc("ngIf",o.financialDetailsUpdate.get("employeeNumber").hasError("required")),n.Eb(6),n.rc("ngForOf",o.arrayEmploymentCategory),n.Eb(1),n.rc("ngIf",o.financialDetailsUpdate.get("employmentCategory").hasError("required")),n.Eb(7),n.rc("matDatepicker",e),n.Eb(2),n.rc("for",e),n.Eb(8),n.rc("min",o.financialDetailsUpdate.get("employmentStartDate").value)("matDatepicker",a),n.Eb(1),n.rc("for",a),n.Eb(8),n.rc("ngIf",o.financialDetailsUpdate.get("officeName").hasError("required")),n.Eb(6),n.Vc("",o.incomeErrMsg," "),n.Eb(54),n.Vc("",o.ExpensesErrMsg," "),n.Eb(44),n.Vc("",o.LiabilitiesErrMsg," "),n.Eb(44),n.Vc("",o.assetErrMsg," ")}}let Ba=(()=>{class t{constructor(t,e,a,o,i,n,r,c){this.data=t,this.dialogRef=e,this.formBuilder=a,this.ls=o,this.cdr=i,this.api=n,this.snack=r,this.tasksummaryService=c}ngOnInit(){console.log(this.data,"AccountId: ",this.ls.getItem("accountId")),this.accountId=this.ls.getItem("accountId"),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),null!=this.data?this.buildFinacialFormGroup(this.data):this.buildFinacialFormGroup()}buildFinacialFormGroup(t){this.financialDetailsUpdate=this.formBuilder.group({applicantName:[t?t.applicantName:"",p.z.required],applicantTotalIncome:[t?t.applicantTotalIncome:0,p.z.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,p.z.required],lastUpdatedon:[t?new Date(t.lastUpdatedon):""],limit_end_date:[t?new Date(t.limit_end_date):""],employmentType:[t?t.employmentType:"",p.z.required],employmentCategory:[t?t.employmentCategory:"",p.z.required],employeeNumber:[t?t.employeeNumber:"",p.z.required],officeName:[t?t.officeName:"",p.z.required],designation:[t?t.designation:"",p.z.required],employmentStartDate:[t?new Date(t.employmentStartDate):""],employmentEndDate:[t?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0],accountId:this.ls.getItem("accountId")},{validator:t=>this.validateInputGroups(t)})}validateInputGroups(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}onSubmit(){let t=this.converDate(this.financialDetailsUpdate.controls.employmentStartDate.value);t&&"Invalid date"!=t?(console.log("startDate",t),this.financialDetailsUpdate.value.employmentStartDate=t):this.financialDetailsUpdate.value.employmentStartDate=null;let e=this.converDate(this.financialDetailsUpdate.controls.employmentEndDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.financialDetailsUpdate.value.employmentEndDate=e):this.financialDetailsUpdate.value.employmentEndDate=null;let a=this.converDate(this.financialDetailsUpdate.controls.lastUpdatedon.value);if(a&&"Invalid date"!=a?(console.log("startDate",a),this.financialDetailsUpdate.value.lastUpdatedon=a):this.financialDetailsUpdate.value.lastUpdatedon=null,console.log("submit",this.financialDetailsUpdate.value),!this.financialDetailsUpdate.value.applicantName||!this.financialDetailsUpdate.value.employmentType||!this.financialDetailsUpdate.value.employmentCategory)return console.log("if---\x3e"),ga.a.fire("Please Enter The Mandatory Fields !"),!1;this.api.upsertfinancialDetails(this.financialDetailsUpdate.value).subscribe(t=>{console.log(t),this.snack.open("Financial Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}getEmploymentType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentType=t})}getEmploymentCategory(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentCategory=t})}converDate(t){let e=h(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}calculateTotalMonthlyIncome(t){let e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.financialDetailsUpdate.controls.monthlyIncomeTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}calculateTotalMonthlyExpenses(t){let e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.financialDetailsUpdate.controls.monthlyExpenseTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}calculateTotalLiabilities(t){let e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.financialDetailsUpdate.controls.liabilityTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}calculateTotalAssets(t){let e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.financialDetailsUpdate.controls.assetTotal.setValue(e),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.financialDetailsUpdate.value)}calculateTotalIncomeAndExpense(t){let e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.financialDetailsUpdate.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.financialDetailsUpdate.controls.applicantTotalExpense.setValue(e),this.cdr.detectChanges()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(p.f),n.Rb(l.a),n.Rb(n.h),n.Rb(r.b),n.Rb(f.a),n.Rb(m.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-financial-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","submit",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","applicantName","readonly","","placeholder","Applicant Name"],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Annual Income"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total Annual Expenses"],["fxFlexLayout","row",1,"inputCard"],["fxFlex","85%"],["matInput","","formControlName","lastUpdatedon","placeholder","Last Update On","readonly","",3,"matDatepicker","max"],["fxFlex","15%"],["matSuffix","",3,"for"],["appDatepicker",""],[1,""],[1,"card-title-text"],["fxFlex","33.33%","fxFlex.xs","100%","fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"keypress"],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","formControlName","employmentStartDate","placeholder","Employment Start Date","readonly","",3,"matDatepicker"],["start",""],["matInput","","name","employmentEndDate","formControlName","employmentEndDate","placeholder","Employment End Date","readonly","",3,"min","matDatepicker"],["end",""],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","autocomplete","off","placeholder","Business",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","MonthlyIncomeTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","monthlyExpenseRentals",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","monthlyExpenseOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","vehicle Loan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","cardOutstandings",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","overdraft",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","liabilityOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","fixedDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","stocks","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","lands","formControlName","lands",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","assetOthers","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","assetTotal","readonly",""],[3,"value"],[1,"errorClass"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Financial Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Rc(6,Va,281,20,"form",3),n.Wb(),n.Xb(7,"div",4),n.Xb(8,"button",5),n.fc("click",function(){return e.onSubmit()}),n.Tc(9," Save"),n.Wb(),n.Tc(10," \xa0\xa0\xa0 "),n.Xb(11,"button",6),n.fc("click",function(){return e.close()}),n.Tc(12," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("ngIf",e.financialDetailsUpdate),n.Eb(2),n.rc("disabled",!e.financialDetailsUpdate.get("employeeNumber").valid||!e.financialDetailsUpdate.get("employmentType").valid||!e.financialDetailsUpdate.get("designation").valid||e.incomeErrMsg||!e.financialDetailsUpdate.get("officeName").valid||e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,X.a,g.b,W.f,y.b,p.c,p.r,p.i,p.v,I.e,I.g,W.j,I.d,X.h,ka.a,X.d,T.a,o.m,p.m,q.a,D.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}"]}),t})();function ja(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Margin in % is "),n.Xb(2,"strong"),n.Tc(3,"required"),n.Wb(),n.Wb())}function za(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Max value allowed is 100 "),n.Wb())}function qa(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Effective Rate % is required "),n.Wb())}function Ja(t,e){1&t&&(n.Xb(0,"mat-error",19),n.Tc(1," Max value allowed is 100 "),n.Wb())}function Ka(t,e){if(1&t){const t=n.Yb();n.Xb(0,"tr",10),n.Vb(1,7),n.Xb(2,"td"),n.Xb(3,"div"),n.Xb(4,"mat-card",11),n.Sb(5,"input",12),n.Xb(6,"mat-icon",13),n.Tc(7,"credit_card"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"td"),n.Xb(9,"div"),n.Xb(10,"mat-card",14),n.Sb(11,"input",15),n.Wb(),n.Wb(),n.Wb(),n.Xb(12,"td"),n.Xb(13,"div"),n.Xb(14,"mat-card",14),n.Xb(15,"input",16),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(16,ja,4,0,"mat-error",17),n.Rc(17,za,2,0,"mat-error",17),n.Wb(),n.Wb(),n.Xb(18,"td"),n.Xb(19,"div"),n.Xb(20,"mat-card",14),n.Xb(21,"input",18),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(22,qa,2,0,"mat-error",17),n.Rc(23,Ja,2,0,"mat-error",17),n.Wb(),n.Wb(),n.Ub(),n.Wb()}if(2&t){const t=e.$implicit;n.Eb(1),n.rc("formGroup",t),n.Eb(15),n.rc("ngIf",null==t.controls.marginIn.errors?null:t.controls.marginIn.errors.required),n.Eb(1),n.rc("ngIf",null==t.controls.marginIn.errors?null:t.controls.marginIn.errors.max),n.Eb(5),n.rc("ngIf",null==t.controls.effectiveRate.errors?null:t.controls.effectiveRate.errors.required),n.Eb(1),n.rc("ngIf",null==t.controls.effectiveRate.errors?null:t.controls.effectiveRate.errors.max)}}function $a(t,e){if(1&t&&(n.Xb(0,"form",7),n.Xb(1,"table"),n.Xb(2,"thead"),n.Xb(3,"tr"),n.Xb(4,"th",8),n.Tc(5,"Interest Type"),n.Wb(),n.Xb(6,"th",8),n.Tc(7,"Interest Rate Applicable"),n.Wb(),n.Xb(8,"th",8),n.Tc(9,"Margin in %"),n.Wb(),n.Xb(10,"th",8),n.Tc(11,"Effective Rate %"),n.Wb(),n.Wb(),n.Wb(),n.Xb(12,"tbody"),n.Rc(13,Ka,24,5,"tr",9),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc();n.rc("formGroup",t.interestUpdateForm),n.Eb(13),n.rc("ngForOf",t.in.controls)}}let Ha=(()=>{class t{constructor(t,e,a,o,i,n,r){this.data=t,this.dialogRef=e,this.api=a,this.ls=o,this.formBuilder=i,this.snack=n,this.tasksummaryService=r}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.interestUpdateForm=this.formBuilder.group({interest:new p.d([])}),null!=this.data&&(this.buildInterestForm(this.data.length),this.in.patchValue(this.data)),this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(t=>{this.buildInterestForm(t.length),this.in.patchValue(t)})}buildInterestForm(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:["",[p.z.required,p.z.max(100),p.z.min(0)]],effectiveRate:["",[p.z.required,p.z.max(100),p.z.min(0)]],accountId:[""],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],id:[""]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}get f(){return this.interestUpdateForm.controls}get in(){return this.f.interest}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}onSubmit(t){t.interest=t.interest.map(t=>Object.assign(Object.assign({},t),{accountId:this.accountId})),this.api.intrestDetailsSave(t.interest).subscribe(t=>{this.snack.open("Interest Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(r.b),n.Rb(l.a),n.Rb(p.f),n.Rb(f.a),n.Rb(m.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-interest-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","color","primary",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[1,"hintClass"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],["fxLayout","row",1,"inputCard"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type","readonly",""],["matSuffix",""],[1,"inputCard"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","placeholder","Interest Rate Applicable","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","maxlength","3","type","text",1,"input",3,"keypress"],["class","errorClass",4,"ngIf"],["matInput","","formControlName","effectiveRate","name","account_branch","type","text","maxlength","3","value","",1,"input",3,"keypress"],[1,"errorClass"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Interest Details"),n.Wb(),n.Xb(5,"mat-card-content"),n.Rc(6,$a,14,2,"form",3),n.Wb(),n.Xb(7,"div",4),n.Xb(8,"button",5),n.fc("click",function(){return e.onSubmit(e.interestUpdateForm.value)}),n.Tc(9,"Save"),n.Wb(),n.Tc(10," \xa0\xa0\xa0 "),n.Xb(11,"button",6),n.fc("click",function(){return e.close()}),n.Tc(12," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("ngIf",e.interestUpdateForm),n.Eb(2),n.rc("disabled",e.interestUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,X.d,o.n,C.b,p.A,p.s,p.j,o.m,X.a,y.b,p.c,p.r,p.i,W.j,p.m,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();function Ya(t,e){1&t&&(n.Xb(0,"mat-error",17),n.Tc(1," amount is required "),n.Wb())}function Za(t,e){if(1&t){const t=n.Yb();n.Xb(0,"tr"),n.Vb(1,7),n.Xb(2,"td"),n.Xb(3,"div"),n.Xb(4,"mat-card",10),n.Xb(5,"input",11),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Xb(6,"mat-icon",12),n.Tc(7,"credit_card"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"td"),n.Xb(9,"div"),n.Xb(10,"mat-card",10),n.Sb(11,"input",13),n.Xb(12,"mat-icon",12),n.Tc(13,"class"),n.Wb(),n.Wb(),n.Rc(14,Ya,2,0,"mat-error",14),n.Wb(),n.Wb(),n.Xb(15,"td"),n.Xb(16,"div",15),n.Xb(17,"mat-checkbox",16),n.fc("change",function(e){return n.Hc(t),n.jc(2).checkboxChanged(e)}),n.Wb(),n.Wb(),n.Wb(),n.Ub(),n.Wb()}if(2&t){const t=e.$implicit;n.Eb(1),n.rc("formGroup",t),n.Eb(13),n.rc("ngIf",(null==t.controls.amount.errors?null:t.controls.amount.errors.required)&&t.controls.amount.touched)}}function Qa(t,e){if(1&t&&(n.Xb(0,"form",7),n.Xb(1,"thead"),n.Xb(2,"tr"),n.Xb(3,"th",8),n.Tc(4,"Interest Type"),n.Wb(),n.Xb(5,"th",8),n.Tc(6,"Amount*"),n.Wb(),n.Xb(7,"th",8),n.Tc(8,"Waiver"),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"tbody"),n.Rc(10,Za,18,2,"tr",9),n.Wb(),n.Wb()),2&t){const t=n.jc();n.rc("formGroup",t.chargeForm),n.Eb(10),n.rc("ngForOf",t.c.controls)}}let to=(()=>{class t{constructor(t,e,a,o,i,n,r){this.data=t,this.dialogRef=e,this.api=a,this.formBuilder=o,this.ls=i,this.snack=n,this.tasksummaryService=r}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.chargeUpdateForm=this.formBuilder.group({charges:new p.d([])}),null!=this.data&&(this.buildChargeForm(this.data.length),this.c.patchValue(this.data)),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.buildChargeForm(t.length),this.c.patchValue(t)})}buildChargeForm(t){const e=t||0;if(this.c.length<e)for(let a=this.c.length;a<e;a++)this.c.push(this.formBuilder.group({intrestType:[""],amount:["",p.z.required],waiver:[!1],accountId:[this.accountId],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],id:[""]}));else for(let a=this.c.length;a>=e;a--)this.c.removeAt(a)}get f(){return this.chargeUpdateForm.controls}get c(){return this.f.charges}onSubmit(t){t.charges=t.charges.map(t=>Object.assign(Object.assign({},t),{accountId:this.accountId})),t.accountId=this.accountId,this.api.chargeDetailsSave(t.charges).subscribe(t=>{this.snack.open("Account Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}checkboxChanged(t){console.log(t.checked),this.flag=t.checked}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(r.b),n.Rb(p.f),n.Rb(l.a),n.Rb(f.a),n.Rb(m.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-charge-details-update"]],decls:14,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[1,"hintClass"],[4,"ngFor","ngForOf"],["fxLayout","row",1,"inputCard"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type",3,"keypress"],["matSuffix",""],["matInput","","formControlName","amount","type","number","name","account_branch","placeholder","Amount"],["class","errorClass",4,"ngIf"],[1,"waiver-pos",2,"text-align","center"],["formControlName","waiver","color","primary",3,"change"],[1,"errorClass"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Charge Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"mat-card"),n.Rc(7,Qa,11,2,"form",3),n.Wb(),n.Wb(),n.Xb(8,"div",4),n.Xb(9,"button",5),n.fc("click",function(){return e.onSubmit(e.chargeUpdateForm.value)}),n.Tc(10,"Save"),n.Wb(),n.Tc(11," \xa0\xa0\xa0 "),n.Xb(12,"button",6),n.fc("click",function(){return e.close()}),n.Tc(13," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("ngIf",e.chargeUpdateForm),n.Eb(2),n.rc("disabled",e.chargeUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,X.a,o.n,C.b,p.A,p.s,p.j,o.m,y.b,p.c,p.r,p.i,W.j,p.v,$t.a,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();function eo(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please Enter valid Scorecard ID "),n.Wb())}function ao(t,e){1&t&&n.Sb(0,"input",15)}function oo(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function io(t,e){if(1&t&&(n.Xb(0,"mat-select",16),n.Rc(1,oo,2,2,"mat-option",17),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("ngForOf",t.value.scorecardAnswers)}}function no(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div",11),n.Xb(2,"mat-hint"),n.Tc(3),n.Wb(),n.Xb(4,"mat-card"),n.Rc(5,ao,1,0,"input",13),n.Rc(6,io,2,1,"mat-select",14),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=e.index;n.Eb(1),n.rc("formGroupName",a),n.Eb(2),n.Uc(t.value.scorecardQuestion),n.Eb(2),n.rc("ngIf","textbox"==t.value.attributeType),n.Eb(1),n.rc("ngIf","drop-down"==t.value.attributeType)}}function ro(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div",11),n.Xb(2,"div",12),n.Rc(3,no,7,4,"div",7),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=e.index;n.Eb(1),n.rc("formGroupName",a),n.Eb(2),n.rc("ngForOf",t.get("scoreCardDetails").controls)}}let co=(()=>{class t{constructor(t,e,a,o,i,n){this.formBuilder=t,this.qualitativeDetails=e,this.ls=a,this.apiService=o,this.dialogRef=i,this.snack=n,this.qualitative=new p.d([])}ngOnInit(){var t,e;console.log(this.qualitativeDetails),this.accountId=this.ls.getItem("accountId"),this.accountType=this.ls.getItem("accountType"),this.scoreCardId=null===(t=this.qualitativeDetails)||void 0===t?void 0:t.scorecardId,this.numberOfApplicant=null===(e=this.qualitativeDetails)||void 0===e?void 0:e.numberOfApplicant,this.buildQualitativeForm(),this.apiService.getScorecardQuestions(this.accountType).subscribe(t=>{var e;this.qualitative=this.qualitativeUpdateForm.get("scorecardMapping"),this.qualitative.push(this.addScorecardMappiing());for(let a=0;a<t.length;a++)this.addScorecardDetails(t[a],null===(e=this.qualitativeDetails)||void 0===e?void 0:e.scoreCardMapping[0].scoreCardDetails[a].scorecardAnswer,a)})}buildQualitativeForm(){this.qualitativeUpdateForm=this.formBuilder.group({accountId:this.accountId,accountType:this.accountType,scoreCardId:this.scoreCardId?this.scoreCardId:"",loggedinUser:"123",numberOfApplicant:this.numberOfApplicant,scorecardMapping:this.formBuilder.array([])})}addScorecardMappiing(){return this.formBuilder.group({applicantId:"",scoreCardDetails:this.formBuilder.array([])})}addScorecardDetails(t,e,a){this.qualitative.controls[0].get("scoreCardDetails").push(this.formBuilder.group({scoreCardDetailsId:[t?t.scoreCardDetailsId:""],scoreCardMappingId:[t?t.scoreCardMappingId:""],scoreCardQuestionId:[t?t.scoreCardQuestionId:""],scorecardQuestion:[t?t.scorecardQuestion:""],scorecardAnswer:[t?t.scorecardAnswer:"",[p.z.required]],scorecardAnswers:[t?t.scorecardAnswers:""],attributeType:[t?t.attributeType:""]})),e&&this.qualitative.controls[0].get("scoreCardDetails").at(a).get("scorecardAnswer").setValue(e)}saveReports(t){this.apiService.saveQualitativeScorecard(t).subscribe(t=>{this.snack.open("Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(p.f),n.Rb(b.a),n.Rb(l.a),n.Rb(r.b),n.Rb(b.g),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-qualitative-details-update"]],decls:22,vars:4,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId","formControlName","scoreCardId"],[4,"ngIf"],["formArrayName","scorecardMapping"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroupName"],["formArrayName","scoreCardDetails"],["matInput","","formControlName","scorecardAnswer",4,"ngIf"],["formControlName","scorecardAnswer",4,"ngIf"],["matInput","","formControlName","scorecardAnswer"],["formControlName","scorecardAnswer"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Qualitative Scoreboard"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"form",3),n.Xb(7,"mat-card"),n.Xb(8,"div"),n.Xb(9,"mat-hint"),n.Tc(10," Scorecard ID "),n.Wb(),n.Xb(11,"mat-card"),n.Sb(12,"input",4),n.Wb(),n.Rc(13,eo,2,0,"mat-error",5),n.Wb(),n.Xb(14,"div",6),n.Rc(15,ro,4,2,"div",7),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(16,"div",8),n.Xb(17,"button",9),n.fc("click",function(){return e.saveReports(e.qualitativeUpdateForm.value)}),n.Tc(18,"Save"),n.Wb(),n.Tc(19," \xa0\xa0\xa0 "),n.Xb(20,"button",10),n.fc("click",function(){return e.close()}),n.Tc(21," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("formGroup",e.qualitativeUpdateForm),n.Eb(7),n.rc("ngIf",e.qualitativeUpdateForm.get("scoreCardId").touched&&0==e.qualitativeUpdateForm.get("scoreCardId").value),n.Eb(2),n.rc("ngForOf",e.qualitativeUpdateForm.get("scorecardMapping").controls),n.Eb(2),n.rc("disabled",e.qualitativeUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,p.A,p.s,p.j,X.a,W.f,y.b,p.c,q.a,p.r,p.i,o.n,p.e,o.m,C.b,W.b,p.k,T.a,D.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var so=a("/Pd4"),lo=a("kA6c"),bo=a("Ya7Z");function uo(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Enter Fund By "),n.Wb())}function mo(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Enter Amount "),n.Wb())}function po(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Enter Teller Transaction Reference Number "),n.Wb())}function ho(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",9),n.Xb(1,"mat-hint",10),n.Tc(2,"Teller Transaction Reference Number"),n.Wb(),n.Xb(3,"mat-card",11),n.Xb(4,"input",19),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(5,po,2,0,"mat-error",16),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(5),n.rc("ngIf",t.fundStageUpdateForm.controls.tellerTrxnRefNo.hasError("required"))}}function fo(t,e){if(1&t&&(n.Xb(0,"mat-hint",10),n.Tc(1),n.kc(2,"currency"),n.Wb()),2&t){const t=n.jc(3);n.Eb(1),n.Vc("Available Balance : ",n.oc(2,1,null==t.accountInfo?null:t.accountInfo.accBalance,null==t.accountInfo?null:t.accountInfo.currency,"symbol","4.2-2"),"")}}function go(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Fund By Account is Required! "),n.Wb())}function vo(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",9),n.Xb(1,"mat-hint",10),n.Tc(2,"Fund By Account"),n.Wb(),n.Xb(3,"mat-card",11),n.Xb(4,"input",20),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)})("keyup",function(e){return n.Hc(t),n.jc(2).keyUp(e)})("change",function(){n.Hc(t);const e=n.jc(2);return e.onChangeEvent(e.fundStageUpdateForm.get("fundByAccount").value)}),n.Wb(),n.Xb(5,"mat-icon",21),n.Tc(6,"search"),n.Wb(),n.Wb(),n.Rc(7,fo,3,6,"mat-hint",22),n.Rc(8,go,2,0,"mat-error",16),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(7),n.rc("ngIf",null!==t.accountInfo),n.Eb(1),n.rc("ngIf",t.fundStageUpdateForm.get("fundByAccount").hasError("required"))}}function Wo(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Enter Branch Code "),n.Wb())}function Xo(t,e){if(1&t&&(n.Xb(0,"div",9),n.Xb(1,"mat-hint",10),n.Tc(2,"Branch Code"),n.Wb(),n.Xb(3,"mat-card",11),n.Sb(4,"input",23),n.Wb(),n.Rc(5,Wo,2,0,"mat-error",16),n.Wb()),2&t){const t=n.jc(2);n.Eb(5),n.rc("ngIf",t.fundStageUpdateForm.controls.branchCode.hasError("required"))}}function yo(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Enter Cheque Number "),n.Wb())}function To(t,e){1&t&&(n.Xb(0,"small",26),n.Tc(1," Cheque Number should be minmum 6 digits "),n.Wb())}function Io(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",9),n.Xb(1,"mat-hint",10),n.Tc(2,"Cheque Number"),n.Wb(),n.Xb(3,"mat-card",11),n.Xb(4,"input",24),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(5,yo,2,0,"mat-error",16),n.Rc(6,To,2,0,"small",25),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(5),n.rc("ngIf",t.fundStageUpdateForm.controls.chequeNumber.hasError("required")),n.Eb(1),n.rc("ngIf",t.chequeNoLenCheck)}}function Eo(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"div"),n.Xb(2,"div"),n.Xb(3,"button",27),n.Tc(4),n.Wb(),n.Wb(),n.Wb(),n.Xb(5,"div"),n.Xb(6,"div"),n.Xb(7,"button",28),n.Tc(8),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"div",9),n.Xb(10,"mat-hint",10),n.Tc(11,"Amount"),n.Wb(),n.Xb(12,"mat-card",11),n.Xb(13,"span",29),n.Tc(14,"\xa0"),n.Wb(),n.Sb(15,"input",30),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Eb(4),n.Vc(" ReferenceNumber : ",t.fundStageUpdateForm.value.tellerTrxnRefNo," "),n.Eb(4),n.Vc(" Branch Code : ",t.fundStageUpdateForm.value.tellerTrxnStatus," ")}}function Co(t,e){if(1&t){const t=n.Yb();n.Xb(0,"form",7),n.Xb(1,"div",8),n.Xb(2,"div",9),n.Xb(3,"mat-hint",10),n.Tc(4,"Fund By*"),n.Wb(),n.Xb(5,"mat-card",11),n.Xb(6,"mat-select",12),n.fc("selectionChange",function(e){return n.Hc(t),n.jc().selected(e.value)}),n.Xb(7,"mat-option",13),n.Tc(8,"Cash"),n.Wb(),n.Xb(9,"mat-option",14),n.Tc(10,"Cheque"),n.Wb(),n.Xb(11,"mat-option",15),n.Tc(12,"Fund Transfer"),n.Wb(),n.Wb(),n.Wb(),n.Rc(13,uo,2,0,"mat-error",16),n.Wb(),n.Xb(14,"div",9),n.Xb(15,"mat-hint",10),n.Tc(16,"Amount"),n.Wb(),n.Xb(17,"mat-card",11),n.Xb(18,"input",17),n.fc("keyup",function(e){return n.Hc(t),n.jc().validateAmount(e)})("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.kc(19,"removeComma"),n.Wb(),n.Wb(),n.Rc(20,mo,2,0,"mat-error",16),n.Wb(),n.Rc(21,ho,6,1,"div",18),n.Rc(22,vo,9,2,"div",18),n.Rc(23,Xo,6,1,"div",18),n.Rc(24,Io,7,2,"div",18),n.Wb(),n.Rc(25,Eo,16,2,"mat-card",16),n.Wb()}if(2&t){const t=n.jc();n.rc("formGroup",t.fundStageUpdateForm),n.Eb(13),n.rc("ngIf",t.fundStageUpdateForm.controls.fundBy.hasError("required")),n.Eb(5),n.rc("value",n.lc(19,9,t.fundStageUpdateForm.controls.amount.value)),n.Eb(2),n.rc("ngIf",t.fundStageUpdateForm.controls.amount.hasError("required")),n.Eb(1),n.rc("ngIf",t.disabletellerTrxnRefNo),n.Eb(1),n.rc("ngIf",t.disableFundByAccount),n.Eb(1),n.rc("ngIf",t.disabletellerTrxnStatus),n.Eb(1),n.rc("ngIf",t.disablechequeNumber),n.Eb(1),n.rc("ngIf",t.actionView)}}let xo=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l,b){this.data=t,this.dialogRef=e,this.formBuilder=a,this.cdr=o,this.accountService=i,this.ls=n,this.fundingStageService=r,this.snack=c,this.apiService=s,this.loader=l,this.tasksummaryService=b}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.accountInfo=this.ls.getItem("accountDetails"),this.data?("Fund Transfer"==this.data.fundBy&&(this.disableFundByAccount=!0,this.disabletellerTrxnStatus=!0,this.disabletellerTrxnRefNo=!1,this.disablechequeNumber=!1),"Cheque"==this.data.fundBy&&(this.disableFundByAccount=!0,this.disablechequeNumber=!0,this.disabletellerTrxnRefNo=!1,this.disabletellerTrxnStatus=!1),"Cash"==this.data.fundBy&&(this.disabletellerTrxnRefNo=!0,this.disableFundByAccount=!1,this.disablechequeNumber=!1,this.disabletellerTrxnStatus=!1),this.buildFundFormGroup(this.data)):this.buildFundFormGroup()}buildFundFormGroup(t){this.fundStageUpdateForm=this.formBuilder.group({fundId:[t?t.fundId:""],fundBy:[t?t.fundBy:"",[p.z.required]],amount:[t?t.amount:""],tellerTrxnRefNo:[t?t.tellerTrxnRefNo:""],fundByAccount:[t?t.fundByAccount:""],chequeNumber:[t?t.chequeNumber:"",[p.z.maxLength]],branchCode:[t?t.branchCode:""],tellerTrxnStatus:[t?t.tellerTrxnStatus:""],createdBy:[t?t.createdBy:""],createdTime:[t?t.createdTime:""],modifiedBy:[t?t.modifiedBy:""],modifiedTime:[t?t.modifiedTime:""],accountId:[this.accountId]}),(null==t?void 0:t.fundByAccount)&&this.fetchAccountBalance(t.fundByAccount)}fetchAccountBalance(t,e){this.loader.open(),this.apiService.fetchAccountBalanceByAccountId(t).subscribe(t=>{console.log("RES",t),this.accountInfo=t,e||"Fund Transfer"==this.fundStageUpdateForm.get("fundBy").value&&(this.fundStageUpdateForm.get("fundByAccount").patchValue(t.accountId),this.fundStageUpdateForm.get("branchCode").patchValue(t.branchCode)),this.loader.close(),this.snack.open("Fetched!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{this.loader.close(),this.snack.open("Invalid AccountId!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}selected(t){console.log(t),"Fund Transfer"==t&&(this.disableFundByAccount=!0,this.disabletellerTrxnStatus=!0,this.disabletellerTrxnRefNo=!1,this.disablechequeNumber=!1,null!=this.accountInfo&&(this.fundStageUpdateForm.get("branchCode").patchValue(this.accountInfo.branchCode),this.fundStageUpdateForm.get("fundByAccount").patchValue(this.accountInfo.accountId)),this.fundStageUpdateForm.get("chequeNumber").patchValue(""),this.fundStageUpdateForm.get("tellerTrxnRefNo").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),"Cheque"==t&&(this.disableFundByAccount=!0,this.disablechequeNumber=!0,this.disabletellerTrxnRefNo=!1,this.disabletellerTrxnStatus=!1,null!=this.accountInfo&&this.fundStageUpdateForm.get("fundByAccount").patchValue(this.accountInfo.accountId),this.fundStageUpdateForm.get("branchCode").patchValue(""),this.fundStageUpdateForm.get("tellerTrxnRefNo").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),"Cash"==t&&(this.disabletellerTrxnRefNo=!0,this.disableFundByAccount=!1,this.disablechequeNumber=!1,this.disabletellerTrxnStatus=!1,this.fundStageUpdateForm.get("branchCode").patchValue(""),this.fundStageUpdateForm.get("chequeNumber").patchValue(""),this.fundStageUpdateForm.get("amount").patchValue(""),this.fundStageUpdateForm.get("fundByAccount").patchValue("")),this.fundStageUpdateForm.get("fundBy").setValue(t)}onSubmit(t){t.accountId=this.accountId,this.fundingStageService.saveOrUpdateFundStageDetails(t).subscribe(t=>{null!=t.accountId||""!=t.accountId||""!=t.accountId?(this.fundingStageService.isSubmittedResp(!0),this.snack.open("Funding Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"}),this.cdr.markForCheck()):(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error"))},t=>{console.log("error :: ",t),this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}_keyPress(t){console.log("PRessed",t);let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}onChangeEvent(t){console.log("Onchange event",t),this.fetchAccountBalance(t)}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(p.f),n.Rb(n.h),n.Rb(lo.a),n.Rb(l.a),n.Rb(so.a),n.Rb(f.a),n.Rb(r.b),n.Rb(B.a),n.Rb(m.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-funding-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["formControlName","fundBy","placeholder","Fund By",1,"full-width",2,"background-color","#FDFDFF","font-size","16px","border","transparent",3,"selectionChange"],["value","Cash"],["value","Cheque"],["value","Fund Transfer"],[4,"ngIf"],["matInput","","formControlName","amount","placeholder","Amount","maxlength","10","minlength","0","required","",3,"value","keyup","keypress"],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["matInput","","formControlName","tellerTrxnRefNo","placeholder","Teller Transaction Reference Number","maxlength","10","minlength","0",3,"keypress"],["name","account","formControlName","fundByAccount","matInput","","placeholder","Fund By Account","maxlength","10","minlength","0",3,"keypress","keyup","change"],["matSuffix",""],["class","hintClass",4,"ngIf"],["matInput","","formControlName","branchCode","appUppercaseInput","","placeholder","Branch Code","maxlength","11","minlength","0"],["matInput","","formControlName","chequeNumber","placeholder","Cheque Number","maxlength","12","minlength","6",3,"keypress"],["style","color: tomato;",4,"ngIf"],[2,"color","tomato"],["mat-raised-button","","id","referenceNumber","color","primary"],["mat-raised-button","","id","status","type","button",2,"background-color","#1ABC9C"],["matPrefix",""],["matInput","","formControlName","amount","placeholder","Amount","readonly",""]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Funding Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Rc(6,Co,26,11,"form",3),n.Wb(),n.Xb(7,"div",4),n.Xb(8,"button",5),n.fc("click",function(){return e.onSubmit(e.fundStageUpdateForm.value)}),n.Tc(9,"Save"),n.Wb(),n.Tc(10," \xa0\xa0\xa0 "),n.Xb(11,"button",6),n.fc("click",function(){return e.close()}),n.Tc(12," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("ngIf",e.fundStageUpdateForm),n.Eb(2),n.rc("disabled",e.fundStageUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.r,p.i,D.n,y.b,p.c,p.m,p.n,p.y,W.b,W.j,bo.a,W.i],pipes:[o.d],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();function Do(t,e){if(1&t&&(n.Xb(0,"mat-option",17),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Oo(t,e){if(1&t&&(n.Xb(0,"mat-option",17),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Ao(t,e){if(1&t&&(n.Xb(0,"mat-option",17),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}let Ro=(()=>{class t{constructor(t,e,a,o,i,n,r){this.data=t,this.dialogRef=e,this.api=a,this.formBuilder=o,this.ls=i,this.snack=n,this.tasksummaryService=r,this.arrayAccountType=[],this.arrayAccountCurrency=[],this.arrayUserRecomendation=[]}ngOnInit(){console.log(this.data),this.buildApprovalForm({}),this.getAccountCurrency("currency"),this.getAccountType("account_type"),this.getUserRecomendation("user_recomendation"),this.data&&this.buildApprovalForm(this.data)}buildApprovalForm(t){this.approvalUpdateForm=this.formBuilder.group({accountId:[this.ls.getItem("accountId")],accountType:[t?t.accountType:""],businessProductName:[t?t.businessProductName:""],productCode:[t?t.businessProductName:""],description:[t?t.description:""],accountBranch:[t?t.accountBranch:""],accountCurrency:[t?t.accountCurrency:""],applicationDate:[t?t.applicationDate:""],fundTheAccount:[t?t.fundTheAccount:""],fundBy:[t?t.fundBy:""],amount:[t?t.amount:""],overDraftRequested:[t?t.overDraftRequested:""],productDescription:[t?t.productDescription:""],userRecommendation:[t?t.userRecommendation:""],createdBy:[this.ls.getItem("userName")]})}onSubmit(t){t.applicationDate=h(t.applicationDate).format("DD-MMM-YYYY"),this.api.approvalUpdate(t).subscribe(t=>{this.snack.open("Approval Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})})}getAccountCurrency(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayAccountCurrency=t})}getAccountType(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayAccountType=t})}getUserRecomendation(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayUserRecomendation=t})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(r.b),n.Rb(p.f),n.Rb(l.a),n.Rb(f.a),n.Rb(m.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-approval-details-update"]],decls:42,vars:5,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"paddingclass","full-width"],[1,"hintClass"],[1,"inputCard"],["name","account","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],["matInput","","readonly","","placeholder","Account Branch","formControlName","accountBranch"],["name","owner","formControlName","accountCurrency"],["matInput","","name","account_branch","placeholder","Product Image","formControlName","productCode","readonly",""],["name","owner","placeholder","Recommended for Approval","formControlName","userRecommendation"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Approval Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"form",3),n.Xb(7,"div",4),n.Xb(8,"div",5),n.Xb(9,"mat-hint",6),n.Tc(10,"Account Type"),n.Wb(),n.Xb(11,"mat-card",7),n.Xb(12,"mat-select",8),n.Rc(13,Do,2,2,"mat-option",9),n.Wb(),n.Wb(),n.Wb(),n.Xb(14,"div",5),n.Xb(15,"mat-hint",6),n.Tc(16,"Account Branch"),n.Wb(),n.Xb(17,"mat-card",7),n.Sb(18,"input",10),n.Wb(),n.Wb(),n.Xb(19,"div",5),n.Xb(20,"mat-hint",6),n.Tc(21,"Account Currency"),n.Wb(),n.Xb(22,"mat-card",7),n.Xb(23,"mat-select",11),n.Rc(24,Oo,2,2,"mat-option",9),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",5),n.Xb(26,"mat-hint",6),n.Tc(27,"Product Code"),n.Wb(),n.Xb(28,"mat-card",7),n.Sb(29,"input",12),n.Wb(),n.Wb(),n.Xb(30,"div",5),n.Xb(31,"mat-hint",6),n.Tc(32,"User Recomendation"),n.Wb(),n.Xb(33,"mat-card",7),n.Xb(34,"mat-select",13),n.Rc(35,Ao,2,2,"mat-option",9),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"div",14),n.Xb(37,"button",15),n.fc("click",function(){return e.onSubmit(e.approvalUpdateForm.value)}),n.Tc(38,"Save"),n.Wb(),n.Tc(39," \xa0\xa0\xa0 "),n.Xb(40,"button",16),n.fc("click",function(){return e.close()}),n.Tc(41," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("formGroup",e.approvalUpdateForm),n.Eb(7),n.rc("ngForOf",e.arrayAccountType),n.Eb(11),n.rc("ngForOf",e.arrayAccountCurrency),n.Eb(11),n.rc("ngForOf",e.arrayUserRecomendation),n.Eb(2),n.rc("disabled",!e.approvalUpdateForm.valid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.r,p.i,o.m,y.b,p.c,C.b,D.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var So=a("h/GN");function No(t,e){if(1&t&&(n.Vb(0),n.Tc(1),n.Ub()),2&t){const t=n.jc().index;n.Eb(1),n.Vc(" Update Mandate ",t+1," ")}}function Po(t,e){if(1&t&&n.Tc(0),2&t){const t=n.jc().index;n.Vc(" Create Mandate ",t+1," ")}}function ko(t,e){if(1&t&&(n.Xb(0,"mat-option",26),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Fo(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Mode Of Operation is Required! "),n.Wb())}function Lo(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Amount From is Required! "),n.Wb())}function _o(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Amount To is Required! "),n.Wb())}function wo(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," No of Signatories is Required! "),n.Wb())}function Uo(t,e){1&t&&(n.Xb(0,"small",27),n.Tc(1," No of Signatories can not be more than no of applicants! "),n.Wb())}function Mo(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",28),n.fc("click",function(){n.Hc(t);const e=n.jc().index;return n.jc(2).removeMandate(e)}),n.Sb(1,"mat-icon"),n.Tc(2," REMOVE MANDATE "),n.Wb()}}function Go(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"mat-accordion"),n.Xb(2,"mat-expansion-panel",9),n.fc("opened",function(){return n.Hc(t),n.jc(2).panelOpenState=!0})("closed",function(){return n.Hc(t),n.jc(2).panelOpenState=!1}),n.Xb(3,"mat-expansion-panel-header"),n.Xb(4,"mat-panel-title"),n.Rc(5,No,2,1,"ng-container",10),n.Rc(6,Po,1,1,"ng-template",null,11,n.Sc),n.Wb(),n.Wb(),n.Xb(8,"div",7),n.Xb(9,"div",12),n.Xb(10,"div",13),n.Xb(11,"div"),n.Xb(12,"mat-hint"),n.Tc(13," Mode Of Operation "),n.Wb(),n.Xb(14,"mat-card"),n.Xb(15,"mat-select",14),n.Rc(16,ko,2,2,"mat-option",15),n.Wb(),n.Wb(),n.Rc(17,Fo,2,0,"mat-error",16),n.Wb(),n.Xb(18,"div",17),n.Xb(19,"div"),n.Xb(20,"mat-hint"),n.Tc(21,"Amount From*"),n.Wb(),n.Xb(22,"mat-card"),n.Xb(23,"input",18),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(24,Lo,2,0,"mat-error",16),n.Wb(),n.Xb(25,"div"),n.Xb(26,"mat-hint"),n.Tc(27,"Amount From*"),n.Wb(),n.Xb(28,"mat-card"),n.Xb(29,"input",19),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(30,_o,2,0,"mat-error",16),n.Wb(),n.Wb(),n.Xb(31,"div"),n.Xb(32,"mat-hint"),n.Tc(33,"Required Signatories"),n.Wb(),n.Xb(34,"mat-card"),n.Xb(35,"input",20),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress2(e)}),n.Wb(),n.Wb(),n.Rc(36,wo,2,0,"mat-error",16),n.Xb(37,"div"),n.Rc(38,Uo,2,0,"small",21),n.Wb(),n.Wb(),n.Xb(39,"div"),n.Xb(40,"mat-hint"),n.Tc(41,"Remarks"),n.Wb(),n.Sb(42,"textarea",22),n.Wb(),n.Xb(43,"div",23),n.Xb(44,"button",24),n.fc("click",function(){return n.Hc(t),n.jc(2).addMandateToFormGroup()}),n.Xb(45,"mat-icon"),n.Tc(46,"add"),n.Wb(),n.Tc(47," ADD MANDATE "),n.Wb(),n.Rc(48,Mo,3,0,"button",25),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.Dc(7),i=n.jc(2);n.Eb(5),n.rc("ngIf",i.showEditOption)("ngIfElse",o),n.Eb(3),n.rc("formGroup",t),n.Eb(8),n.rc("ngForOf",i.arrayModeOfOperation),n.Eb(1),n.rc("ngIf",t.get("modeOfOperation").touched&&t.get("modeOfOperation").hasError("required")),n.Eb(7),n.rc("ngIf",t.get("amountFrom").touched&&t.get("amountFrom").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("amountTo").touched&&t.get("amountTo").hasError("required")),n.Eb(6),n.rc("ngIf",t.get("totalSignaturesRequired").touched&&t.get("totalSignaturesRequired").hasError("required")),n.Eb(2),n.rc("ngIf",i.flag),n.Eb(6),n.rc("disabled",a<i.m.controls.length-1),n.Eb(4),n.rc("ngIf",null!=t.get("mandateId").value)}}function Vo(t,e){if(1&t&&(n.Xb(0,"form",7),n.Rc(1,Go,49,11,"div",8),n.Wb()),2&t){const t=n.jc();n.rc("formGroup",t.mandatesUpdateForm),n.Eb(1),n.rc("ngForOf",t.m.controls)}}let Bo=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.data=t,this.dialogRef=e,this.formBuilder=a,this.apiService=o,this.snack=i,this.ls=n,this.api=r,this.confirmService=c,this.tasksummaryService=s}ngOnInit(){console.log(this.data),this.accountId=this.ls.getItem("accountId"),this.getModeOfOperation("opr_mode"),this.data?(this.showEditOption=!0,this.buildMandateForm(),this.addMandateToFormGroup(this.data)):(this.showEditOption=!1,this.buildMandateForm(),this.addMandateToFormGroup())}buildMandateForm(){this.mandatesUpdateForm=this.formBuilder.group({mandates:this.formBuilder.array([])})}addMandateToFormGroup(t){const e=t?t.length:1;console.log("numberOfItems",e);for(let a=0;a<e;a++)this.m.push(this.formBuilder.group({mandateId:[t?t.mandateId:""],productAccountId:[this.accountId],modeOfOperation:["",p.z.required],amountFrom:["",p.z.required],amountTo:["",p.z.required],totalSignaturesRequired:[""],remarks:[""]})),this.m.at(a).patchValue(t[a])}removeMandate(t){let e=this.m.at(t).get("mandateId").value;this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(a=>{console.log("res:: removed ",a),a&&this.apiService.deleteMandateById(e,"ADMIN").subscribe(t=>{console.log("data",t)},e=>{this.mandatesUpdateForm.controls.mandates.removeAt(t),200===e.status&&this.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})})}get f(){return this.mandatesUpdateForm.controls}get m(){return this.f.mandates}getModeOfOperation(t){this.api.getDropDownValues(t).subscribe(t=>{this.arrayModeOfOperation=t})}onSubmit(){this.apiService.saveMandateDetails(this.mandatesUpdateForm.value).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open(" Mandate Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"BACKLOG"})):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}_keyPress2(t){this.no_of_sig=t.key,isNaN(t.key)?console.log("input is invalid"):t.key>this.no_of_applicants?(console.log("no of signatories is more than no of applicants"),this.flag=!0):0==t.key?this.flag1=!0:(this.flag=!1,this.flag1=!1);let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(p.f),n.Rb(d.a),n.Rb(f.a),n.Rb(l.a),n.Rb(r.b),n.Rb(V.a),n.Rb(m.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-mandate-details-update"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"formGroup"],[4,"ngFor","ngForOf"],["expanded","true",3,"opened","closed"],[4,"ngIf","ngIfElse"],["createMandate",""],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["formControlName","modeOfOperation","name","mod","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["matInput","","maxlength","10","name","a_from","formControlName","amountFrom","placeholder","Amount From",3,"keypress"],["matInput","","maxlength","10","name","a_to","formControlName","amountTo","placeholder","Amount To",3,"keypress"],["matInput","","name","a_sig","formControlName","totalSignaturesRequired","maxlength","1","placeholder","Required No of Signatories",3,"keypress"],["style","color: red",4,"ngIf"],["matInput","","name","remark","formControlName","remarks","placeholder","Leave a Remarks"],[1,"pb-1"],["mat-button","","color","primary",1,"place",3,"disabled","click"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],[2,"color","red"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Mandate Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Rc(6,Vo,2,2,"form",3),n.Wb(),n.Xb(7,"div",4),n.Xb(8,"button",5),n.fc("click",function(){return e.onSubmit()}),n.Tc(9,"Save"),n.Wb(),n.Tc(10," \xa0\xa0\xa0 "),n.Xb(11,"button",6),n.fc("click",function(){return e.close()}),n.Tc(12," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("ngIf",e.mandatesUpdateForm),n.Eb(2),n.rc("disabled",e.flag||!e.mandatesUpdateForm.valid||e.flag1))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,o.n,C.b,p.A,p.s,p.j,o.m,j.a,j.c,j.e,j.f,g.b,W.f,X.a,T.a,p.r,p.i,p.y,y.b,p.c,p.m,D.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorclass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller}"]}),t})();var jo=a("vSAV"),zo=a("nZzT"),qo=a("cUpR"),Jo=a("ura0");const Ko=["chart"];function $o(t,e){1&t&&n.Sb(0,"mat-spinner")}function Ho(t,e){if(1&t&&(n.Xb(0,"span",56),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.Eb(1),n.Uc(t)}}function Yo(t,e){if(1&t&&(n.Xb(0,"div",57),n.Xb(1,"h1",58),n.Tc(2),n.kc(3,"slice"),n.kc(4,"uppercase"),n.kc(5,"slice"),n.kc(6,"uppercase"),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Oc("background",t.customerColorCode),n.Eb(2),n.Wc("",n.nc(3,4,n.lc(4,8,t.accInfo.firstName),0,1),"",n.nc(5,10,n.lc(6,14,t.accInfo.lastName),0,1),"")}}function Zo(t,e){if(1&t&&n.Sb(0,"img",60),2&t){const t=n.jc(2);n.rc("src",t.imageUrl,n.Jc)}}function Qo(t,e){if(1&t&&(n.Xb(0,"div",57),n.Rc(1,Zo,1,1,"img",59),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.rc("ngIf","not_available"!=t.imageUrl)}}function ti(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"mat-card-content"),n.Xb(2,"div",61),n.Xb(3,"div",62),n.Xb(4,"h2",63),n.Tc(5),n.kc(6,"slice"),n.kc(7,"uppercase"),n.kc(8,"slice"),n.kc(9,"uppercase"),n.Wb(),n.Wb(),n.Xb(10,"mat-card",64),n.Xb(11,"div",65),n.Xb(12,"div",66),n.Tc(13),n.Wb(),n.Xb(14,"div",67),n.Tc(15),n.Wb(),n.Xb(16,"div",68),n.Xb(17,"mat-icon",69),n.Tc(18," phone"),n.Wb(),n.Xb(19,"div",70),n.Tc(20),n.Wb(),n.Wb(),n.Xb(21,"div",71),n.Xb(22,"mat-icon",69),n.Tc(23," email"),n.Wb(),n.Xb(24,"div",70),n.Tc(25),n.Wb(),n.Wb(),n.Xb(26,"div",72),n.Xb(27,"mat-icon",69),n.Tc(28," location_on"),n.Wb(),n.Xb(29,"div",70),n.Tc(30),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(31,"mat-card",64),n.Xb(32,"div",73),n.Xb(33,"div",74),n.Xb(34,"h3"),n.Tc(35,"Other Details"),n.Wb(),n.Wb(),n.Xb(36,"div",75),n.Xb(37,"div"),n.Xb(38,"div",37),n.Tc(39,"Date Of Birth"),n.Wb(),n.Xb(40,"div",38),n.Tc(41),n.Wb(),n.Wb(),n.Xb(42,"div"),n.Xb(43,"div",37),n.Tc(44,"Citizenship By"),n.Wb(),n.Xb(45,"div",38),n.Tc(46),n.Wb(),n.Wb(),n.Xb(47,"div"),n.Xb(48,"div",37),n.Tc(49,"Id Type"),n.Wb(),n.Xb(50,"div",38),n.Tc(51),n.Wb(),n.Wb(),n.Wb(),n.Sb(52,"br"),n.Xb(53,"div",76),n.Xb(54,"div"),n.Xb(55,"div",37),n.Tc(56,"Residence Status"),n.Wb(),n.Xb(57,"div",38),n.Tc(58),n.Wb(),n.Wb(),n.Xb(59,"div"),n.Xb(60,"div",37),n.Tc(61,"Occupation Type"),n.Wb(),n.Xb(62,"div",38),n.Tc(63),n.Wb(),n.Wb(),n.Xb(64,"div"),n.Xb(65,"div",37),n.Tc(66,"Unique Id Number"),n.Wb(),n.Xb(67,"div",38),n.Tc(68),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(5),n.Wc("",n.nc(6,14,n.lc(7,18,t.firstName),0,1),"",n.nc(8,20,n.lc(9,24,t.lastName),0,1),""),n.Eb(8),n.Uc(t.prefix+" "+t.firstName+" "+t.lastName),n.Eb(2),n.Vc("CIF ",null!=t.cifNumber?"#"+t.cifNumber:"- n/a",""),n.Eb(5),n.Uc(t.phoneNumber),n.Eb(5),n.Uc(t.primaryEmailAdress),n.Eb(5),n.Wc(" ",t.userAddress[0].address1," ",t.userAddress[0].address," "),n.Eb(11),n.Uc(t.dateOfBirth),n.Eb(5),n.Uc(t.countryOfResidence),n.Eb(5),n.Uc(t.custIdProofs[0].idType),n.Eb(7),n.Uc(t.residenceStatus),n.Eb(5),n.Uc(t.occupationType),n.Eb(5),n.Uc(t.custIdProofs[0].idNumber)}}function ei(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",30),n.Xb(2,"fieldset"),n.Xb(3,"legend",31),n.Tc(4,"Customer Information Details"),n.Wb(),n.Wb(),n.Xb(5,"span"),n.Xb(6,"mat-icon",32),n.fc("click",function(){return n.Hc(t),n.jc().editCustomerInfo()}),n.Tc(7,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card",33),n.Xb(9,"mat-card-content"),n.Xb(10,"div",39),n.Sb(11,"div",35),n.Xb(12,"div",36),n.Xb(13,"div",37),n.Tc(14,"Ownership"),n.Wb(),n.Xb(15,"div",38),n.Tc(16),n.Wb(),n.Wb(),n.Xb(17,"div",36),n.Xb(18,"div",37),n.Tc(19,"Number of Applicant"),n.Wb(),n.Xb(20,"div",38),n.Tc(21),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Rc(22,ti,69,26,"mat-card",41),n.Wb()}if(2&t){const t=n.jc();n.Eb(6),n.rc("hidden",t.editScreen),n.Eb(10),n.Uc(t.customerInformation.data[0].ownership),n.Eb(5),n.Uc(t.customerInformation.data[0].numOfApplicants),n.Eb(1),n.rc("ngForOf",t.customerInformation.data)}}function ai(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"h2",77),n.Xb(2,"span",78),n.Xb(3,"mat-icon",79),n.Tc(4,"done"),n.Wb(),n.Wb(),n.Tc(5),n.Wb(),n.Xb(6,"div",61),n.Sb(7,"div",80),n.Xb(8,"div",81),n.Xb(9,"div",37),n.Tc(10,"Mode Of Operation"),n.Wb(),n.Xb(11,"div",38),n.Tc(12),n.Wb(),n.Wb(),n.Xb(13,"div",81),n.Xb(14,"div",37),n.Tc(15,"Amount From"),n.Wb(),n.Xb(16,"div",38),n.Tc(17),n.Wb(),n.Wb(),n.Xb(18,"div",81),n.Xb(19,"div",37),n.Tc(20,"Amount To"),n.Wb(),n.Xb(21,"div",38),n.Tc(22),n.Wb(),n.Wb(),n.Xb(23,"div",81),n.Xb(24,"div",37),n.Tc(25,"Required No. of Signatures"),n.Wb(),n.Xb(26,"div",38),n.Tc(27),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=e.index;n.Eb(5),n.Vc("Mandate ",a+1,""),n.Eb(7),n.Uc(t.modeOfOperation),n.Eb(5),n.Uc(t.amountFrom),n.Eb(5),n.Uc(t.amountTo),n.Eb(5),n.Uc(t.totalSignaturesRequired)}}function oi(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",30),n.Xb(2,"fieldset"),n.Xb(3,"legend",31),n.Tc(4,"Mandate Details"),n.Wb(),n.Wb(),n.Xb(5,"span"),n.Xb(6,"mat-icon",32),n.fc("click",function(){return n.Hc(t),n.jc().editMandateDetails()}),n.Tc(7,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Rc(8,ai,28,5,"mat-card",41),n.Wb()}if(2&t){const t=n.jc();n.Eb(6),n.rc("hidden",t.editScreen),n.Eb(2),n.rc("ngForOf",t.mandate)}}function ii(t,e){if(1&t&&(n.Xb(0,"span"),n.Tc(1),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.Vc(" ",t.name," ")}}function ni(t,e){if(1&t&&(n.Xb(0,"div",38),n.Rc(1,ii,2,1,"span",5),n.Wb()),2&t){const t=e.$implicit;n.Eb(1),n.rc("ngIf",t.checked)}}function ri(t,e){if(1&t&&(n.Xb(0,"span"),n.Tc(1),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.Vc(" ",t.name," ")}}function ci(t,e){if(1&t&&(n.Xb(0,"div",38),n.Rc(1,ri,2,1,"span",5),n.Wb()),2&t){const t=e.$implicit;n.Eb(1),n.rc("ngIf",t.checked)}}function si(t,e){if(1&t&&(n.Xb(0,"span"),n.Tc(1),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.Vc(" ",t.name," ")}}function li(t,e){if(1&t&&(n.Xb(0,"div",38),n.Rc(1,si,2,1,"span",5),n.Wb()),2&t){const t=e.$implicit;n.Eb(1),n.rc("ngIf",t.checked)}}function bi(t,e){if(1&t&&(n.Xb(0,"div",81),n.Xb(1,"div",37),n.Tc(2,"Debit Card Type"),n.Wb(),n.Xb(3,"div",38),n.Xb(4,"span"),n.Tc(5),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Eb(5),n.Vc(" ",null==t.debitCardDataValue?null:t.debitCardDataValue.cardType," ")}}function di(t,e){if(1&t&&(n.Xb(0,"div",34),n.Xb(1,"table",86),n.Xb(2,"thead",87),n.Xb(3,"tr"),n.Xb(4,"th"),n.Tc(5,"Daily Limit"),n.Wb(),n.Xb(6,"th"),n.Tc(7,"Domestic Limit"),n.Wb(),n.Xb(8,"th"),n.Tc(9,"International Limit"),n.Wb(),n.Xb(10,"th"),n.Tc(11,"ATM Limit"),n.Wb(),n.Xb(12,"th"),n.Tc(13,"POS Limit "),n.Wb(),n.Xb(14,"th"),n.Tc(15,"Internet Limit "),n.Wb(),n.Wb(),n.Wb(),n.Xb(16,"tbody"),n.Xb(17,"tr"),n.Xb(18,"td"),n.Tc(19),n.Wb(),n.Xb(20,"td"),n.Tc(21),n.Wb(),n.Xb(22,"td"),n.Tc(23),n.Wb(),n.Xb(24,"td"),n.Tc(25),n.Wb(),n.Xb(26,"td"),n.Tc(27),n.Wb(),n.Xb(28,"td"),n.Tc(29),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Eb(19),n.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.dailyLimit),n.Eb(2),n.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.domesticLimit),n.Eb(2),n.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.internationalLimit),n.Eb(2),n.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.atmLimit),n.Eb(2),n.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.posLimit),n.Eb(2),n.Uc(null==t.debitCardDataValue?null:t.debitCardDataValue.internetLimit)}}function ui(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",30),n.Xb(2,"fieldset"),n.Xb(3,"legend",31),n.Tc(4,"Account Service Details"),n.Wb(),n.Wb(),n.Xb(5,"span"),n.Xb(6,"mat-icon",32),n.fc("click",function(){return n.Hc(t),n.jc().editServiceDetails()}),n.Tc(7,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card",33),n.Xb(9,"mat-card-content"),n.Xb(10,"div",34),n.Sb(11,"div",35),n.Xb(12,"div",81),n.Xb(13,"div",37),n.Tc(14,"Account Statement Frequency"),n.Wb(),n.Xb(15,"div",38),n.Tc(16),n.Wb(),n.Wb(),n.Xb(17,"div",81),n.Xb(18,"div",37),n.Tc(19,"Account Statement Preferences"),n.Wb(),n.Rc(20,ni,2,1,"div",82),n.Wb(),n.Xb(21,"div",81),n.Xb(22,"div",37),n.Tc(23,"Cheque Book"),n.Wb(),n.Xb(24,"div",38),n.Sb(25,"mat-slide-toggle",83),n.Wb(),n.Wb(),n.Xb(26,"div",81),n.Xb(27,"div",37),n.Tc(28,"Debit Card"),n.Wb(),n.Xb(29,"div",38),n.Sb(30,"mat-slide-toggle",83),n.Wb(),n.Wb(),n.Wb(),n.Xb(31,"div",34),n.Sb(32,"div",35),n.Xb(33,"div",81),n.Xb(34,"div",37),n.Tc(35,"Banking Channel Preferences"),n.Wb(),n.Rc(36,ci,2,1,"div",82),n.Wb(),n.Xb(37,"div",81),n.Xb(38,"div",37),n.Tc(39,"Communication Channel Preferences"),n.Wb(),n.Rc(40,li,2,1,"div",82),n.Wb(),n.Xb(41,"div",81),n.Xb(42,"div",37),n.Tc(43,"Pass Book"),n.Wb(),n.Xb(44,"div",38),n.Sb(45,"mat-slide-toggle",83),n.Wb(),n.Wb(),n.Rc(46,bi,6,1,"div",84),n.Wb(),n.Rc(47,di,30,6,"div",85),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(6),n.rc("hidden",t.editScreen),n.Eb(10),n.Uc(t.accountServiceDetails.statementFrequency),n.Eb(4),n.rc("ngForOf",t.accountServiceDetails.statementPref),n.Eb(5),n.rc("checked",null==t.accountServiceDetails?null:t.accountServiceDetails.chequebookNeeded),n.Eb(5),n.rc("checked",null==t.accountServiceDetails?null:t.accountServiceDetails.debitCardRequired),n.Eb(6),n.rc("ngForOf",t.accountServiceDetails.bankChannelPref),n.Eb(4),n.rc("ngForOf",t.accountServiceDetails.commChannelPref),n.Eb(5),n.rc("checked",null==t.accountServiceDetails?null:t.accountServiceDetails.passbookNeeded),n.Eb(1),n.rc("ngIf",t.cardType),n.Eb(1),n.rc("ngIf",t.cardType)}}function mi(t,e){if(1&t&&(n.Xb(0,"mat-card",64),n.Xb(1,"div",92),n.Sb(2,"div",74),n.Xb(3,"div",90),n.Xb(4,"h4"),n.Tc(5,"Guardian Details"),n.Wb(),n.Xb(6,"div"),n.Xb(7,"div",66),n.Tc(8),n.Wb(),n.Wb(),n.Xb(9,"div"),n.Xb(10,"div",37),n.Tc(11,"Relationship Type"),n.Wb(),n.Xb(12,"div",38),n.Tc(13),n.Wb(),n.Wb(),n.Xb(14,"div"),n.Xb(15,"div",37),n.Tc(16,"Date Of Birth"),n.Wb(),n.Xb(17,"div",38),n.Tc(18),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(8),n.Uc(t.prefix+" "+t.firstName+" "+t.lastName),n.Eb(5),n.Uc(t.relationshipType),n.Eb(5),n.Uc(t.dateOfBirth)}}function pi(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"h2",77),n.Xb(2,"span",78),n.Xb(3,"mat-icon",79),n.Tc(4,"done"),n.Wb(),n.Wb(),n.Tc(5),n.Wb(),n.Xb(6,"div"),n.Xb(7,"div",61),n.Xb(8,"mat-card",64),n.Xb(9,"div",88),n.Xb(10,"div",66),n.Tc(11),n.Wb(),n.Xb(12,"div",68),n.Xb(13,"mat-icon",69),n.Tc(14," phone"),n.Wb(),n.Xb(15,"div",70),n.Tc(16),n.Wb(),n.Wb(),n.Xb(17,"div",71),n.Xb(18,"mat-icon",69),n.Tc(19," email"),n.Wb(),n.Xb(20,"div",70),n.Tc(21),n.Wb(),n.Wb(),n.Xb(22,"div",72),n.Xb(23,"mat-icon",69),n.Tc(24," location_on"),n.Wb(),n.Xb(25,"div",70),n.Tc(26),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(27,"mat-card",64),n.Xb(28,"div",89),n.Sb(29,"div",74),n.Xb(30,"div",90),n.Xb(31,"div"),n.Xb(32,"div",37),n.Tc(33,"Date Of Birth"),n.Wb(),n.Xb(34,"div",38),n.Tc(35),n.Wb(),n.Wb(),n.Xb(36,"div"),n.Xb(37,"div",37),n.Tc(38,"Relationship Type"),n.Wb(),n.Xb(39,"div",38),n.Tc(40),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Rc(41,mi,19,3,"mat-card",91),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=e.index;n.Eb(5),n.Vc("Nominee ",a+1,""),n.Eb(6),n.Uc(t.prefix+" "+t.firstName+" "+t.lastName),n.Eb(5),n.Vc(" ",t.phoneNumber,""),n.Eb(5),n.Uc(t.email),n.Eb(5),n.Zc(" ",t.building," ",t.street," ",t.locality," ",t.city," ",t.state," ",t.country," ",t.zipCode," "),n.Eb(9),n.Uc(t.dateOfBirth),n.Eb(5),n.Uc(t.relationshipType),n.Eb(1),n.rc("ngForOf",t.guardianDetails)}}function hi(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",30),n.Xb(2,"fieldset"),n.Xb(3,"legend",31),n.Tc(4,"Nominee Details"),n.Wb(),n.Wb(),n.Xb(5,"span"),n.Xb(6,"mat-icon",32),n.fc("click",function(){return n.Hc(t),n.jc().editNomineeDetails()}),n.Tc(7,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Rc(8,pi,42,14,"mat-card",41),n.Wb()}if(2&t){const t=n.jc();n.Eb(6),n.rc("hidden",t.editScreen),n.Eb(2),n.rc("ngForOf",t.nomineeDetails)}}function fi(t,e){1&t&&(n.Xb(0,"legend",31),n.Tc(1,"Secured Overdraft Details"),n.Wb())}function gi(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"div"),n.Xb(2,"div",37),n.Tc(3),n.Wb(),n.Wb(),n.Sb(4,"br"),n.Xb(5,"div",94),n.Xb(6,"div",74),n.Xb(7,"mat-icon",69),n.Tc(8," home"),n.Wb(),n.Tc(9),n.Wb(),n.Xb(10,"div",95),n.Xb(11,"div"),n.Xb(12,"button",96),n.Tc(13),n.Wb(),n.Wb(),n.Xb(14,"div"),n.Xb(15,"button",97),n.Tc(16),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(17,"br"),n.Xb(18,"div"),n.Xb(19,"div",98),n.Xb(20,"div"),n.Xb(21,"div",37),n.Tc(22,"Collateral Value"),n.Wb(),n.Xb(23,"div",38),n.Tc(24),n.Wb(),n.Wb(),n.Xb(25,"div"),n.Xb(26,"div",37),n.Tc(27,"Available Linkage Amount"),n.Wb(),n.Xb(28,"div",38),n.Tc(29),n.Wb(),n.Wb(),n.Xb(30,"div"),n.Xb(31,"div",37),n.Tc(32,"Overdraft Limit Amount"),n.Wb(),n.Xb(33,"div",38),n.Tc(34),n.Wb(),n.Wb(),n.Xb(35,"div"),n.Xb(36,"div",37),n.Tc(37,"Final Rate"),n.Wb(),n.Xb(38,"div",38),n.Tc(39),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(3),n.Vc("Collateral/Reference Number: ",t.securityReferenceNumber,""),n.Eb(6),n.Vc(" ",t.collateralType," "),n.Eb(4),n.Uc(t.dimensions),n.Eb(3),n.Uc(t.attributes),n.Eb(8),n.Uc(t.collateralValue),n.Eb(5),n.Uc(t.availableLinkageAccount),n.Eb(5),n.Uc(t.overdraftLimitAmount),n.Eb(5),n.Uc(t.finalAmount)}}function vi(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",30),n.Xb(2,"fieldset"),n.Rc(3,fi,2,0,"legend",93),n.Wb(),n.Xb(4,"span"),n.Xb(5,"mat-icon",32),n.fc("click",function(){return n.Hc(t),n.jc().editSecuredOverdraftDetails()}),n.Tc(6,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Rc(7,gi,40,8,"mat-card",5),n.Wb()}if(2&t){const t=e.$implicit,a=n.jc();n.Eb(3),n.rc("ngIf",null!=t.collateralType&&null!=t.securityReferenceNumber),n.Eb(2),n.rc("hidden",a.editScreen),n.Eb(2),n.rc("ngIf",null!=t.collateralType&&null!=t.securityReferenceNumber)}}function Wi(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div",37),n.Tc(2,"Renew Period"),n.Wb(),n.Xb(3,"div",38),n.Tc(4),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Eb(4),n.Uc(t.unsecuredOverdraftDetails.renewPeriod)}}function Xi(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div",37),n.Tc(2,"Renewal Amount"),n.Wb(),n.Xb(3,"div",38),n.Tc(4),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Eb(4),n.Uc(t.unsecuredOverdraftDetails.renewalAmount)}}function yi(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",30),n.Xb(2,"fieldset"),n.Xb(3,"legend",31),n.Tc(4,"Unsecured Overdraft Details"),n.Wb(),n.Wb(),n.Xb(5,"span"),n.Xb(6,"mat-icon",32),n.fc("click",function(){return n.Hc(t),n.jc().editUnsecuredOverdraftDetails()}),n.Tc(7,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card"),n.Xb(9,"div"),n.Xb(10,"div",99),n.Xb(11,"div"),n.Xb(12,"div",37),n.Tc(13,"Limit Id"),n.Wb(),n.Xb(14,"div",38),n.Tc(15),n.Wb(),n.Wb(),n.Xb(16,"div"),n.Xb(17,"div",37),n.Tc(18,"Overdraft Limit Amount"),n.Wb(),n.Xb(19,"div",38),n.Tc(20),n.Wb(),n.Wb(),n.Rc(21,Wi,5,1,"div",5),n.Rc(22,Xi,5,1,"div",5),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(6),n.rc("hidden",t.editScreen),n.Eb(4),n.rc("hidden",null==t.unsecuredOverdraftDetails.renewPeriod&&t.unsecuredOverdraftDetails.renewalAmount),n.Eb(5),n.Uc(t.unsecuredOverdraftDetails.limitId),n.Eb(5),n.Uc(t.unsecuredOverdraftDetails.overdraftLimitAmount),n.Eb(1),n.rc("ngIf",null!=t.unsecuredOverdraftDetails.renewPeriod),n.Eb(1),n.rc("ngIf",null!=t.unsecuredOverdraftDetails.renewalAmount)}}function Ti(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",30),n.Xb(2,"fieldset"),n.Xb(3,"legend",31),n.Tc(4,"Financial Details"),n.Wb(),n.Wb(),n.Xb(5,"span"),n.Xb(6,"mat-icon",32),n.fc("click",function(){return n.Hc(t),n.jc().editFinancialDetails()}),n.Tc(7,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"div",94),n.Xb(9,"mat-card",100),n.Xb(10,"h4"),n.Tc(11,"Assets and Liabilities"),n.Wb(),n.Sb(12,"apx-chart",101),n.Wb(),n.Xb(13,"mat-card",102),n.Xb(14,"h4"),n.Tc(15,"Income and Expenses"),n.Wb(),n.Sb(16,"apx-chart",103),n.Wb(),n.Wb(),n.Xb(17,"mat-card"),n.Xb(18,"mat-card-header",104),n.Xb(19,"div",105),n.Xb(20,"div",62),n.Xb(21,"div",63),n.Xb(22,"mat-icon"),n.Tc(23,"perm_identity"),n.Wb(),n.Wb(),n.Wb(),n.Xb(24,"div"),n.Xb(25,"mat-card-title",106),n.Tc(26),n.Wb(),n.Xb(27,"mat-card-subtitle",107),n.Tc(28),n.Wb(),n.Wb(),n.Wb(),n.Xb(29,"div",108),n.Xb(30,"div"),n.Xb(31,"div",37),n.Tc(32,"Employment Type"),n.Wb(),n.Xb(33,"div",38),n.Tc(34),n.Wb(),n.Wb(),n.Xb(35,"div"),n.Xb(36,"div",37),n.Tc(37,"Employment Category"),n.Wb(),n.Xb(38,"div",38),n.Tc(39),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(40,"br"),n.Wb()}if(2&t){const t=n.jc();n.Eb(6),n.rc("hidden",t.editScreen),n.Eb(6),n.rc("series",t.chartOptions.series)("chart",t.chartOptions.chart)("plotOptions",t.chartOptions.plotOptions)("labels",t.chartOptions.labels),n.Eb(4),n.rc("series",t.chartOptions1.series1)("chart",t.chartOptions1.chart1)("yaxis",t.chartOptions1.yaxis1)("xaxis",t.chartOptions1.xaxis1)("labels",t.chartOptions1.labels1)("stroke",t.chartOptions1.stroke1)("markers",t.chartOptions1.markers1)("fill",t.chartOptions1.fill1)("tooltip",t.chartOptions1.tooltip1),n.Eb(10),n.Uc(t.financialDetails.designation),n.Eb(2),n.Wc("",t.financialDetails.employeeNumber,",",t.financialDetails.officeName," "),n.Eb(6),n.Uc(t.financialDetails.employmentType),n.Eb(5),n.Uc(t.financialDetails.employmentCategory)}}function Ii(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"div"),n.Xb(2,"h4"),n.Tc(3,"Fixed Interest"),n.Wb(),n.Wb(),n.Xb(4,"div",109),n.Xb(5,"div"),n.Xb(6,"mat-card",110),n.Xb(7,"div"),n.Xb(8,"div",37),n.Tc(9,"Interest Type"),n.Wb(),n.Xb(10,"div",38),n.Tc(11),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(12,"div"),n.Xb(13,"mat-card",111),n.Xb(14,"div"),n.Xb(15,"div",37),n.Tc(16,"Applicable Interest Rate"),n.Wb(),n.Xb(17,"div",38),n.Tc(18),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"div"),n.Xb(20,"mat-card",112),n.Xb(21,"div"),n.Xb(22,"div",37),n.Tc(23,"Effective Rate %"),n.Wb(),n.Xb(24,"div",38),n.Tc(25),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(26,"div"),n.Xb(27,"mat-card",113),n.Xb(28,"div"),n.Xb(29,"div",37),n.Tc(30,"Margin In %"),n.Wb(),n.Xb(31,"div",38),n.Tc(32),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(11),n.Uc(t.intrestType),n.Eb(7),n.Uc(t.intrestType),n.Eb(7),n.Uc(t.effectiveRate),n.Eb(7),n.Uc(t.marginIn)}}function Ei(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Rc(1,Ii,33,4,"mat-card",41),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.rc("ngForOf",t.intrestDetails)}}function Ci(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"div"),n.Xb(2,"h4",114),n.Tc(3),n.Wb(),n.Wb(),n.Xb(4,"div"),n.Xb(5,"div"),n.Xb(6,"mat-card",115),n.Xb(7,"div"),n.Xb(8,"div",37),n.Tc(9,"Amount"),n.Wb(),n.Xb(10,"div",38),n.Tc(11),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(3),n.Uc(t.intrestType),n.Eb(8),n.Uc(t.amount)}}function xi(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Rc(1,Ci,12,2,"mat-card",41),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.rc("ngForOf",t.chargeDetails)}}function Di(t,e){if(1&t&&(n.Xb(0,"div",117),n.Xb(1,"div",37),n.Tc(2),n.Wb(),n.Xb(3,"div",38),n.Tc(4),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=e.index;n.Eb(2),n.Wc("",a+1,".",t.scorecardQuestion,""),n.Eb(2),n.Uc(t.scorecardAnswer)}}function Oi(t,e){if(1&t&&(n.Xb(0,"div"),n.Rc(1,Di,5,3,"div",116),n.Wb()),2&t){const t=e.index,a=n.jc();n.Eb(1),n.rc("ngForOf",null==a.qualitativeScorecard?null:a.qualitativeScorecard.scoreCardMapping[t].scoreCardDetails)}}function Ai(t,e){if(1&t&&(n.Xb(0,"mat-card",33),n.Xb(1,"fieldset"),n.Xb(2,"legend",31),n.Tc(3,"Assessment Report"),n.Wb(),n.Wb(),n.Xb(4,"mat-card-content"),n.Xb(5,"div",34),n.Sb(6,"div",35),n.Xb(7,"div",36),n.Xb(8,"div",37),n.Tc(9,"Limit Id"),n.Wb(),n.Xb(10,"div",38),n.Tc(11),n.Wb(),n.Wb(),n.Xb(12,"div",36),n.Xb(13,"div",37),n.Tc(14,"Overdraft Limit Amount"),n.Wb(),n.Xb(15,"div",38),n.Tc(16),n.Wb(),n.Wb(),n.Xb(17,"div",36),n.Xb(18,"div",37),n.Tc(19,"Recommended Overdraft Limit"),n.Wb(),n.Xb(20,"div",38),n.Tc(21),n.Wb(),n.Wb(),n.Wb(),n.Xb(22,"div",34),n.Sb(23,"div",35),n.Xb(24,"div",36),n.Xb(25,"div",37),n.Tc(26,"Limit Start Date"),n.Wb(),n.Xb(27,"div",38),n.Tc(28),n.Wb(),n.Wb(),n.Xb(29,"div",36),n.Xb(30,"div",37),n.Tc(31,"Limit End Date"),n.Wb(),n.Xb(32,"div",38),n.Tc(33),n.Wb(),n.Wb(),n.Sb(34,"br"),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Eb(11),n.Uc(null==t.assessmentReport?null:t.assessmentReport.limitId),n.Eb(5),n.Uc(null==t.assessmentReport?null:t.assessmentReport.overdraftLimitAmount),n.Eb(5),n.Uc(null==t.assessmentReport?null:t.assessmentReport.recommendedOverdraftLimit),n.Eb(7),n.Uc(null==t.assessmentReport?null:t.assessmentReport.limitStartDate),n.Eb(5),n.Uc(null==t.assessmentReport?null:t.assessmentReport.limitEndDate)}}function Ri(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"div",120),n.Xb(2,"div",121),n.Xb(3,"div",122),n.Tc(4,"Branch Code : "),n.Xb(5,"span",123),n.Tc(6),n.Wb(),n.Wb(),n.Wb(),n.Xb(7,"div",121),n.Xb(8,"div",124),n.Tc(9,"Fund By Account: "),n.Xb(10,"span",123),n.Tc(11),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(12,"div",120),n.Xb(13,"div",121),n.Xb(14,"div",122),n.Tc(15,"Amount"),n.Xb(16,"span",123),n.Tc(17),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"div",121),n.Xb(19,"div",124),n.Tc(20,"Fund By"),n.Xb(21,"span",123),n.Tc(22),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Eb(6),n.Uc(t.createAccFundingStage.branchCode),n.Eb(5),n.Uc(t.createAccFundingStage.fundByAccount),n.Eb(6),n.Uc(t.createAccFundingStage.amount),n.Eb(5),n.Uc(t.createAccFundingStage.fundBy)}}function Si(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"div",120),n.Xb(2,"div",121),n.Xb(3,"button",125),n.Tc(4),n.Wb(),n.Wb(),n.Xb(5,"div",121),n.Xb(6,"button",126),n.Tc(7),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"div",120),n.Xb(9,"div",121),n.Xb(10,"div",127),n.Tc(11,"Amount"),n.Xb(12,"div",128),n.Xb(13,"b"),n.Tc(14),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(15,"div",121),n.Xb(16,"div",129),n.Tc(17,"Fund By"),n.Xb(18,"div",123),n.Xb(19,"b"),n.Tc(20),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Eb(4),n.Vc("Reference Number ",t.createAccFundingStage.tellerTrxnRefNo," "),n.Eb(3),n.Vc("",t.createAccFundingStage.tellerTrxnStatus," "),n.Eb(7),n.Uc(t.createAccFundingStage.amount),n.Eb(6),n.Uc(t.createAccFundingStage.fundBy)}}function Ni(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",42),n.Xb(1,"div",43),n.Xb(2,"div",27),n.Tc(3,"5"),n.Wb(),n.Xb(4,"div",28),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"div",118),n.Xb(7,"h2",119),n.Tc(8,"Funding Stage"),n.Wb(),n.Xb(9,"div",30),n.Xb(10,"fieldset"),n.Xb(11,"legend",31),n.Tc(12,"Initial Funding Details"),n.Wb(),n.Wb(),n.Xb(13,"span"),n.Xb(14,"mat-icon",32),n.fc("click",function(){return n.Hc(t),n.jc().editFundingStage()}),n.Tc(15,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Rc(16,Ri,23,4,"mat-card",5),n.Rc(17,Si,21,4,"mat-card",5),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(14),n.rc("hidden",t.editScreen),n.Eb(2),n.rc("ngIf","Fund Transfer"==t.createAccFundingStage.fundBy),n.Eb(1),n.rc("ngIf","Cash"==t.createAccFundingStage.fundBy)}}function Pi(t,e){if(1&t&&(n.Xb(0,"div",38),n.Xb(1,"a",130),n.Tc(2,"link"),n.Wb(),n.Sb(3,"link"),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.sc("href",t.signatureData.fileUrl,n.Jc)}}const ki=function(t,e){return{disabledbtn:t,continueBtn:e}},Fi=function(t,e){return{disabledbtn:t,rejectButton:e}},Li=function(t,e){return{disabledbtn:t,approveButton:e}};function _i(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",131),n.Xb(1,"div",132),n.fc("click",function(){return n.Hc(t),n.jc().continue()}),n.Xb(2,"label",133),n.Tc(3,"Cotinue"),n.Wb(),n.Wb(),n.Tc(4," \xa0\xa0 "),n.Xb(5,"div",134),n.fc("click",function(){n.Hc(t);const e=n.jc();return e.updateApplicationStatus(e.accountInfo,"REJECTED")}),n.Xb(6,"mat-icon",135),n.Tc(7," highlight_off "),n.Wb(),n.Tc(8,"\xa0\xa0\xa0 "),n.Xb(9,"label",136),n.Tc(10,"Reject"),n.Wb(),n.Wb(),n.Tc(11," \xa0\xa0 "),n.Xb(12,"div",137),n.fc("click",function(){n.Hc(t);const e=n.jc();return e.updateApplicationStatus(e.accountInfo,"APPROVED")}),n.Xb(13,"mat-icon",138),n.Tc(14,"check_circle"),n.Wb(),n.Tc(15,"\xa0\xa0\xa0 "),n.Xb(16,"label",139),n.Tc(17,"Approve"),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(1),n.rc("hidden",t.continueStatus)("ngClass",n.yc(6,ki,t.continueStatus,!t.continueStatus)),n.Eb(4),n.rc("hidden",t.rejectedStatus)("ngClass",n.yc(9,Fi,t.rejectedStatus,!t.rejectedStatus)),n.Eb(7),n.rc("hidden",t.approvedStatus)("ngClass",n.yc(12,Li,t.approvedStatus,!t.approvedStatus))}}let wi=(()=>{class t{constructor(t,e,a,o,i,r,c,s,l,b,d,m){this.dialogRef=t,this.data=e,this.apiService=a,this.api=o,this.ls=i,this.router=r,this.tasksummaryService=c,this.cdr=s,this.snack=l,this.sanitizer=b,this.dialog=d,this.jwtService=m,this.chart=new u.a,this.submitClicked=new n.o,this.accountInfo=[],this.chargeDetails=[],this.isOnGoing="",this.variable=!0,this.loading=!0,this.loadingApplEnrich=!1,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}ngOnInit(){this.loading=!0,this.loadingApplEnrich=!1,this.customerColorCode=localStorage.getItem("CustomerColorCode"),this.accInfo=this.data,console.log("acc data :: ",this.accInfo),this.cardType=this.ls.getItem("cardInfo"),this.accountId=this.accInfo.accountId,this.ls.setItem("accountId",this.accountId),this.ls.setItem("customerId",this.accInfo.customerId),this.ls.setItem("accountType",this.accInfo.accountType),console.log("accountId :: ",this.accInfo.accountId),this.ls.setItem("CIF_NUM_PRIMARY",this.accInfo.customerId),this.ls.setItem("NAME",this.accInfo.firstName+" "+this.accInfo.lastName),this.tasksummaryService.accountStatus.subscribe(t=>{this.loading=!1,"REJECTED"===t?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1,this.continueStatus=!0):"APPROVED"===t?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0,this.continueStatus=!0):"ONGOING"===t?(this.approvedStatus=!0,this.rejectedStatus=!1,this.isOnGoing=t,this.editScreen=!1,this.continueStatus=!1):"BACKLOG"===t&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!0)}),this.getAccountInfoByAccountId(this.accInfo.accountId),this.getProfileImage(this.accInfo.customerId),this.cardType&&this.debitCardData(this.cardType)}getAccountInfoByAccountId(t){this.tasksummaryService.getAccountInfoByAccId(t).subscribe(t=>{this.accountInfo=t,console.log(this.accountInfo),this.intrestDetails=this.accountInfo.intrestDetails,this.chargeDetails=this.accountInfo.chargeDetails,this.loadingApplEnrich=!0,this.assignValues(this.accountInfo.businessProductAccServices,this.accountInfo.businessProductNominee,this.accountInfo.securedOverdraft,this.accountInfo.unsecuredOverdraft,this.accountInfo.financialDetails,this.accountInfo.intrestDetails,this.accountInfo.chargeDetails,this.accountInfo.qualitativeScorecard,this.accountInfo.assessmentReport,this.accountInfo.createAccFundingStage);for(const e in this.accountInfo)if(Object.prototype.hasOwnProperty.call(this.accountInfo,e)){const t=this.accountInfo[e];if("chargeDetails"===e&&(this.chargeDetails=t,this.accountDetails.applicationDate&&(this.accountDetails.applicationDate=h(this.accountDetails.applicationDate).format("YYYY-MM-DD"))),"businessProductAccount"===e&&(console.log(this.accountDetails),this.accountDetails=t,this.accountDetails.applicationDate&&(this.accountDetails.applicationDate=h(this.accountDetails.applicationDate).format("YYYY-MM-DD"))),"businessProductCustomer"===e){this.customerInformation=t;for(const t in this.customerInformation)if(Object.prototype.hasOwnProperty.call(this.customerInformation,t)){const e=this.customerInformation[t];if("data"===t)for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const a=e[t];e.length>1?a.primaryCustomer&&(this.approverName=a.firstName):this.approverName=a.firstName}}}"businessProductMandate"===e&&(this.mandate=t)}})}goToCreateAccount(t,e){console.log("Navigating to edit screen::",t),this.ls.setItem("EDIT-CREATEACCCIF",this.accountInfo),this.ls.setItem("accountId",t),console.log("acc data :: ",this.accountInfo),this.tasksummaryService.updateCreateAccStatus({accountId:t,status:"ONGOING"}).subscribe(t=>{}),setTimeout(()=>{this.router.navigateByUrl("/home/application/list")},1e3),console.log(this.ls.getItem("EDIT-CREATEACCCIF")),this.dialogRef.close({message:"Confirm"})}assignValues(t,e,a,o,i,n,r,c,s,l){var b;this.accountServiceDetails=t,console.log(this.accountServiceDetails),this.nomineeDetails=e,this.securedOverdraftDetails=a,this.unsecuredOverdraftDetails=o,this.financialDetails=i,this.income=null==i?void 0:i.applicantTotalIncome,this.exepse=null==i?void 0:i.applicantTotalExpense,this.intrestDetails=n,this.chargeDetails=r,this.qualitativeScorecard=c,this.scoreCardMappingArray=null===(b=null==c?void 0:c.scoreCardMapping[0])||void 0===b?void 0:b.scoreCardDetails,this.assessmentReport=s,this.createAccFundingStage=l,this.chartOptions={series:[48],chart:{height:200,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:"70%"}}},labels:["saved"]},this.chartOptions1={series1:[{name:"Income :"+this.income,type:"line",data:[40,55,50,70,65,68,50,45,35,30,38,40]},{name:"Expenses :"+this.exepse,type:"line",data:[55,30,25,45,46,47,48,52,44,35,30]}],chart1:{height:220,type:"line"},stroke1:{curve:"smooth"},fill1:{type:"solid",opacity:[.35,1]},labels1:["JAN","","FEB","","MAR","","APR","","MAY ","","JUN"],yaxis1:[{title:{text:""}}],xaxis1:{labels:{trim:!1}}}}updateApplicationStatus(t,e){console.log("data : ",t.businessProductAccount.accountId),t.businessProductAccount.status=e;let a=e;this.accInfo.status=e,this.tasksummaryService.updateCreateAccStatus({status:e,accountId:t.businessProductAccount.accountId}).subscribe(t=>{null!=t.accountId||""!=t.accountId||""!=t.accountId?(this.close(a),this.cdr.markForCheck(),this.cdr.detectChanges(),this.dialogRef.close({message:"Confirm",data:a}),this.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck()):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log("error resp :: ",t),this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}closeClick(){this.dialogRef.close()}getProfileImage(t){console.log(t),this.image=null,null!=this.accInfo.customerId&&this.api.getProfileDetails(t).subscribe(t=>{console.log(t),null!=t.profileImage&&(this.imageUrl=t.profileImage,console.log("imageurl",this.imageUrl),this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl)),t.signatures&&(this.signatureData=t.signatures[0],"undefinedSignature"==this.signatureData.documentName&&(this.signatureData.documentName="Signature"),this.ls.setItem("signedImage",this.signatureData.fileUrl))},t=>{console.log(t)})}getByAccountId(t){this.apiService.getByAccountId(t).subscribe(t=>{this.accountdetailsForStatusUpdate=t,this.updateAccountStatus(t)})}updateAccountStatus(t){t.status=this.appStatus,this.apiService.saveProductAccountInfo(t).subscribe(t=>{console.log("updateResp:: ",t)})}close(t){this.dialogRef.close({message:"Confirm",data:this.accInfo.status})}debitCardData(t){console.log("dardType-- ",t),this.api.getCardType(this.cardType.cardType).subscribe(t=>{console.log("resp-- ",t),this.debitCardDataValue=t,console.log(t)},t=>console.log("ERROR: ",t))}openEditScreen(t,e){this.tasksummaryService.updateCreateAccStatus({status:"ONGOING",accountId:this.accountId}).subscribe(t=>{console.log(t),null!=t&&(this.approvedStatus=!0,this.rejectedStatus=!1)}),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{this.accInfo.status=t.status,"BACKLOG"==this.accInfo.status&&(this.getAccountInfoByAccountId(this.accountId),this.tasksummaryService.updateCreateAccStatus({status:"BACKLOG",accountId:this.accountId}).subscribe(t=>{console.log(t),null!=t&&(this.approvedStatus=!1,this.rejectedStatus=!1)})),1==t&&this.getProfileImage(this.accInfo.customerId),this.cdr.markForCheck()})}editAccountDetails(){var t,e;this.accountDetails&&(this.accountDetails.customerName=(null===(t=this.accInfo)||void 0===t?void 0:t.firstName)+" "+(null===(e=this.accInfo)||void 0===e?void 0:e.lastName)),this.openEditScreen(G,this.accountDetails)}editCustomerInfo(){this.openEditScreen(zt,this.customerInformation)}editMandateDetails(){this.openEditScreen(Bo,this.mandate)}editServiceDetails(){this.openEditScreen(ce,this.accountServiceDetails)}editNomineeDetails(){this.openEditScreen(Be,this.nomineeDetails)}editSecuredOverdraftDetails(){this.openEditScreen(ha,this.securedOverdraftDetails)}editUnsecuredOverdraftDetails(){this.openEditScreen(Pa,this.unsecuredOverdraftDetails)}editFinancialDetails(){this.openEditScreen(Ba,this.financialDetails)}editInterestDetails(){this.openEditScreen(Ha,this.intrestDetails)}editChargeDetails(){this.openEditScreen(to,this.chargeDetails)}editQualitativeDetails(){this.openEditScreen(co,this.qualitativeScorecard)}editFundingStage(){this.openEditScreen(xo,this.createAccFundingStage)}editApprovalDetails(){console.log(this.accountDetails),this.openEditScreen(Ro,this.accountDetails)}editDigitalSign(){this.openEditScreen(So.a,this.signatureData)}continue(){var t,e,a,o,i,n,r,c,s,l,b,d,u,m,p,h,f,g;console.log("customer Id-----\x3e",null===(t=this.accountInfo)||void 0===t?void 0:t.businessProductNominee),this.ls.setItem("accountId",null===(e=this.accountInfo.businessProductAccount)||void 0===e?void 0:e.accountId),this.ls.setItem("appEntryStage",!(!this.accountInfo.businessProductAccount||!this.accountInfo.businessProductAccServices||0==(null===(a=this.accountInfo.businessProductCustomer.data)||void 0===a?void 0:a.length)||0==(null===(o=this.accountInfo.businessProductMandate)||void 0===o?void 0:o.length)||0==(null===(i=this.accountInfo.businessProductNominee)||void 0===i?void 0:i.length))),this.ls.setItem("ACC_DONE",!!this.accountInfo.businessProductAccount),this.ls.setItem("ACC_SERVICE_DONE",!!this.accountInfo.businessProductAccServices),this.ls.setItem("ACC_OPEN_DONE",0!=(null===(c=null===(r=null===(n=this.accountInfo)||void 0===n?void 0:n.businessProductCustomer)||void 0===r?void 0:r.data)||void 0===c?void 0:c.length)),this.ls.setItem("ACC_MANDATE_DONE",0!=(null===(s=this.accountInfo.businessProductMandate)||void 0===s?void 0:s.length)),this.ls.setItem("ACC_NOMINEE_DONE",0!=(null===(l=this.accountInfo.businessProductNominee)||void 0===l?void 0:l.length)),this.ls.setItem("limitEntryStage",!(!this.accountInfo.financialDetails||0==(null===(b=this.accountInfo.securedOverdraft)||void 0===b?void 0:b.length)&&!this.accountInfo.unsecuredOverdraft)),this.ls.setItem("LIMIT_FIN_DONE",!!this.accountInfo.financialDetails),this.ls.setItem("LIMIT_SECURED_DONE",!(0==(null===(d=this.accountInfo.securedOverdraft)||void 0===d?void 0:d.length)||!this.accountInfo.securedOverdraft)),this.ls.setItem("LIMIT_UNSECURED_DONE",!!this.accountInfo.unsecuredOverdraft),this.ls.setItem("enrichmentStage",!(!this.accountInfo.chargeDetails||0==(null===(u=this.accountInfo.intrestDetails)||void 0===u?void 0:u.length))),this.ls.setItem("ENRICHMENT_CHARGES_DONE",!!this.accountInfo.chargeDetails),this.ls.setItem("ENRICHMENT_INTEREST_DONE",0!=(null===(m=this.accountInfo.intrestDetails)||void 0===m?void 0:m.length)),this.ls.setItem("ASSESSMENT_QA_DONE",!(0==(null===(f=null===(h=null===(p=this.accountInfo)||void 0===p?void 0:p.qualitativeScorecard)||void 0===h?void 0:h.scoreCardMapping)||void 0===f?void 0:f.length)||!(null===(g=this.accountInfo)||void 0===g?void 0:g.qualitativeScorecard))),this.ls.setItem("ASSESSMENT_REPORT_DONE",!!this.accountInfo.assessmentReport),this.ls.setItem("FUNDING_INI_DONE",!!this.accountInfo.createAccFundingStage),this.ls.setItem("approvalStage",!!this.accountDetails),this.ls.setItem("APPROVAL_DETAILS_DONE",!!this.accountDetails),window.open(`${jo.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=CUSTACC&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.g),n.Rb(b.a),n.Rb(d.a),n.Rb(r.b),n.Rb(l.a),n.Rb(je.h),n.Rb(m.a),n.Rb(n.h),n.Rb(f.a),n.Rb(qo.b),n.Rb(b.b),n.Rb(zo.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-approver"]],viewQuery:function(t,e){if(1&t&&n.ad(Ko,!0),2&t){let t;n.Cc(t=n.gc())&&(e.chart=t.first)}},outputs:{submitClicked:"submitClicked"},decls:316,vars:57,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],["fxLayoutAlign","center"],[4,"ngIf"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","10"],[1,"num"],[1,"bordnum"],["fxFlex","85",1,"margin1"],["fxLayout","row","fxLayoutAlign","space between center"],["visible","true"],[1,"editbtn",3,"hidden","click"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],["fxLayout","row",1,"rowbord","nobord"],[3,"checked","disabled"],[4,"ngFor","ngForOf"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","10",2,"flex","1 1 100%","box-sizing","border-box","max-width","15%"],["fxFlex","85",1,"margin1",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["class","mtcd",4,"ngIf"],["fxLayout","row","class","flex-container","style","flex-direction: row; box-sizing: border-box; display: flex;",4,"ngIf"],[1,"appersoninfocard",2,"width","250px"],["fxLayout","row","fxLayoutAlign"," start"],[1,"circle1"],[1,"content2"],[2,"padding-bottom","30px"],["class","labelval",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row"],[1,"circle"],[1,"content1"],[1,"appersoninfocard"],["fxFlex","200px",1,"size1"],[1,"namecard",2,"font-size","20px"],[1,"cifnum","label"],[1,"phoneno","label"],[1,"maticon"],[1,"textsize"],[1,"email","label"],[1,"address","label"],["fxFlex","300px",2,"font-size","12px"],[2,"font-size","20px"],["fxLayout","row","fxLayoutGap","40px",2,"font-size","12px"],["fxLayout","row","fxLayoutGap","20px",2,"font-size","12px"],[1,"btnleft"],[1,"circle3"],[1,"done1"],["fxFlex","5"],["fxFlex","30"],["class","labelval",4,"ngFor","ngForOf"],["disabled","",3,"checked"],["fxFlex","30",4,"ngIf"],["fxLayout","row","class","rowbord",4,"ngIf"],[1,"table","table-bordered","dataStyle"],[2,"color","#03a9f4"],["fxFlex","200px",2,"font-size","10px"],["fxFlex","100px",2,"font-size","12px"],["fxLayout","column","fxLayoutGap","10px",2,"font-size","12px"],["class","appersoninfocard",4,"ngFor","ngForOf"],["fxFlex","130px",2,"font-size","12px"],["visible","true",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutGap","40px"],["type","button",1,"sqftbtn"],["type","button",1,"acbtn"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","24px"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","20px",3,"hidden"],[1,"box"],[3,"series","chart","plotOptions","labels"],[1,"box2"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip"],["fxLayout","row","fxLayoutGap","70px"],["fxLayout","row","FxLayoutAlign","start"],[2,"font-size","16px","padding-top","30px"],[2,"color","grey","font-size","10px"],["fxLayout","row","fxLayoutGap","80px",1,"col",2,"font-size","16px","padding-top","30px"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"interstcard2"],[1,"interstcard3"],[1,"interstcard4"],[1,"nom"],[1,"appersoninfocard",2,"width","100px"],["fxFlex","47","class","qtncrd","fxFlex.xs","100",4,"ngFor","ngForOf"],["fxFlex","47","fxFlex.xs","100",1,"qtncrd"],["fxFlex","85",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],[1,"marginn"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mt-12"],["fxFlex","100"],[1,"mat-heading-label","ml-48"],[1,"mat-body-1"],[1,"mat-heading-label","right-text"],["type","button",1,"refnum"],["type","button",1,"suces"],[1,"ml-48","btttn",2,"font-family","Manrope,SemiBold"],[1,"mat-body-1","btttn"],[1,"right-text","btttn"],["download","",1,"linkColor",3,"href"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"div",0),n.Xb(2,"div",1),n.Xb(3,"div",2),n.Xb(4,"div"),n.Xb(5,"mat-icon",3),n.fc("click",function(){return e.close(e.accStatus)}),n.Tc(6," close"),n.Wb(),n.Wb(),n.Wb(),n.Xb(7,"div",4),n.Rc(8,$o,1,0,"mat-spinner",5),n.Wb(),n.Xb(9,"div",6),n.Xb(10,"div",7),n.Xb(11,"div",8),n.Xb(12,"div",9),n.Rc(13,Ho,2,1,"span",10),n.Wb(),n.Xb(14,"div",11),n.Xb(15,"div",12),n.Sb(16,"img",13),n.Tc(17,"\xa0 "),n.Xb(18,"div"),n.Xb(19,"span",14),n.Tc(20),n.Wb(),n.Sb(21,"br"),n.Xb(22,"span",15),n.Tc(23),n.Wb(),n.Wb(),n.Wb(),n.Xb(24,"div",16),n.Xb(25,"mat-icon",17),n.Tc(26,"phone "),n.Wb(),n.Tc(27,"\xa0\xa0\xa0 "),n.Xb(28,"span",18),n.Tc(29),n.Wb(),n.Wb(),n.Xb(30,"div",16),n.Xb(31,"mat-icon",17),n.Tc(32," mail_outline"),n.Wb(),n.Tc(33,"\xa0\xa0 \xa0 "),n.Xb(34,"span",19),n.Tc(35),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"div",20),n.Xb(37,"div",21),n.Rc(38,Yo,7,16,"div",22),n.Rc(39,Qo,2,1,"div",23),n.Wb(),n.Wb(),n.Sb(40,"br"),n.Sb(41,"br"),n.Sb(42,"br"),n.Sb(43,"br"),n.Sb(44,"br"),n.Xb(45,"div",24),n.Xb(46,"h2"),n.Xb(47,"b"),n.Tc(48),n.Wb(),n.Wb(),n.Wb(),n.Sb(49,"br"),n.Sb(50,"br"),n.Xb(51,"div",25),n.Xb(52,"div",26),n.Xb(53,"div",27),n.Tc(54,"1"),n.Wb(),n.Sb(55,"div",28),n.Wb(),n.Xb(56,"div",29),n.Xb(57,"h2"),n.Tc(58,"Application Entry Stage"),n.Wb(),n.Xb(59,"div",30),n.Xb(60,"fieldset"),n.Xb(61,"legend",31),n.Tc(62,"Account Details"),n.Wb(),n.Wb(),n.Xb(63,"span"),n.Xb(64,"mat-icon",32),n.fc("click",function(){return e.editAccountDetails()}),n.Tc(65,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(66,"mat-card",33),n.Xb(67,"mat-card-content"),n.Xb(68,"div",34),n.Sb(69,"div",35),n.Xb(70,"div",36),n.Xb(71,"div",37),n.Tc(72,"CIF Number"),n.Wb(),n.Xb(73,"div",38),n.Tc(74),n.Wb(),n.Wb(),n.Xb(75,"div",36),n.Xb(76,"div",37),n.Tc(77,"Customer Name"),n.Wb(),n.Xb(78,"div",38),n.Tc(79),n.Wb(),n.Wb(),n.Xb(80,"div",36),n.Xb(81,"div",37),n.Tc(82,"Account ID"),n.Wb(),n.Xb(83,"div",38),n.Tc(84),n.Wb(),n.Wb(),n.Wb(),n.Xb(85,"div",34),n.Sb(86,"div",35),n.Xb(87,"div",36),n.Xb(88,"div",37),n.Tc(89,"Account Type"),n.Wb(),n.Xb(90,"div",38),n.Tc(91),n.Wb(),n.Wb(),n.Xb(92,"div",36),n.Xb(93,"div",37),n.Tc(94,"Business Product Name"),n.Wb(),n.Xb(95,"div",38),n.Tc(96),n.Wb(),n.Wb(),n.Xb(97,"div",36),n.Xb(98,"div",37),n.Tc(99,"Account Branch"),n.Wb(),n.Xb(100,"div",38),n.Tc(101),n.Wb(),n.Wb(),n.Wb(),n.Xb(102,"div",34),n.Sb(103,"div",35),n.Xb(104,"div",36),n.Xb(105,"div",37),n.Tc(106,"Account Currency"),n.Wb(),n.Xb(107,"div",38),n.Tc(108),n.Wb(),n.Wb(),n.Xb(109,"div",36),n.Xb(110,"div",37),n.Tc(111,"Application Date"),n.Wb(),n.Xb(112,"div",38),n.Tc(113),n.Wb(),n.Wb(),n.Xb(114,"div",36),n.Xb(115,"div",37),n.Tc(116,"Modification No"),n.Wb(),n.Xb(117,"div",38),n.Tc(118),n.Wb(),n.Wb(),n.Wb(),n.Xb(119,"div",39),n.Sb(120,"div",35),n.Xb(121,"div",36),n.Xb(122,"div",37),n.Tc(123,"OverDraft Requested?"),n.Wb(),n.Xb(124,"div",38),n.Sb(125,"mat-slide-toggle",40),n.Wb(),n.Wb(),n.Xb(126,"div",36),n.Xb(127,"div",37),n.Tc(128,"Swift Code"),n.Wb(),n.Xb(129,"div",38),n.Sb(130,"mat-slide-toggle",40),n.Wb(),n.Wb(),n.Xb(131,"div",36),n.Xb(132,"div",37),n.Tc(133,"Initial Funding "),n.Wb(),n.Xb(134,"div",38),n.Sb(135,"mat-slide-toggle",40),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Rc(136,ei,23,4,"div",5),n.Rc(137,oi,9,2,"div",5),n.Rc(138,ui,48,10,"div",5),n.Rc(139,hi,9,2,"div",5),n.Wb(),n.Wb(),n.Xb(140,"div",25),n.Xb(141,"div",26),n.Xb(142,"div",27),n.Tc(143,"2"),n.Wb(),n.Xb(144,"div",28),n.Tc(145,"\xa0"),n.Wb(),n.Wb(),n.Xb(146,"div",29),n.Xb(147,"h2"),n.Tc(148,"Limit Entry Stage"),n.Wb(),n.Rc(149,vi,8,3,"div",41),n.Sb(150,"br"),n.Rc(151,yi,23,6,"div",5),n.Sb(152,"br"),n.Rc(153,Ti,41,19,"div",5),n.Wb(),n.Wb(),n.Sb(154,"br"),n.Xb(155,"div",25),n.Xb(156,"div",26),n.Xb(157,"div",27),n.Tc(158,"3"),n.Wb(),n.Xb(159,"div",28),n.Tc(160,"\xa0"),n.Wb(),n.Wb(),n.Xb(161,"div",29),n.Xb(162,"h2"),n.Tc(163,"Application Enrichment"),n.Wb(),n.Xb(164,"div",30),n.Xb(165,"fieldset"),n.Xb(166,"legend",31),n.Tc(167,"Interest Details"),n.Wb(),n.Wb(),n.Xb(168,"span"),n.Xb(169,"mat-icon",32),n.fc("click",function(){return e.editInterestDetails()}),n.Tc(170,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Rc(171,Ei,2,1,"mat-card",5),n.Sb(172,"br"),n.Xb(173,"div",30),n.Xb(174,"fieldset"),n.Xb(175,"legend",31),n.Tc(176,"Charge Details"),n.Wb(),n.Wb(),n.Xb(177,"span"),n.Xb(178,"mat-icon",32),n.fc("click",function(){return e.editChargeDetails()}),n.Tc(179,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Rc(180,xi,2,1,"mat-card",5),n.Wb(),n.Wb(),n.Xb(181,"div",42),n.Xb(182,"div",43),n.Xb(183,"div",27),n.Tc(184,"4"),n.Wb(),n.Xb(185,"div",28),n.Tc(186,"\xa0"),n.Wb(),n.Wb(),n.Xb(187,"div",44),n.Xb(188,"h2"),n.Tc(189,"Application Assessment"),n.Wb(),n.Xb(190,"div",30),n.Xb(191,"fieldset"),n.Xb(192,"legend",31),n.Tc(193,"Qualitative Scorecard"),n.Wb(),n.Wb(),n.Xb(194,"span"),n.Xb(195,"mat-icon",32),n.fc("click",function(){return e.editQualitativeDetails()}),n.Tc(196,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(197,"mat-card",33),n.Xb(198,"mat-card-content"),n.Xb(199,"div"),n.Xb(200,"div",34),n.Xb(201,"div",36),n.Xb(202,"div",37),n.Tc(203,"Scorecard Id"),n.Wb(),n.Xb(204,"div",38),n.Tc(205),n.Wb(),n.Wb(),n.Xb(206,"div",36),n.Xb(207,"div",37),n.Tc(208,"Number of Applicants"),n.Wb(),n.Xb(209,"div",38),n.Tc(210),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(211,"div"),n.Xb(212,"div",45),n.Xb(213,"div"),n.Xb(214,"div",46),n.Rc(215,Oi,2,1,"div",41),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(216,"br"),n.Rc(217,Ai,35,5,"mat-card",47),n.Wb(),n.Sb(218,"br"),n.Sb(219,"br"),n.Wb(),n.Rc(220,Ni,18,3,"div",48),n.Xb(221,"div",42),n.Xb(222,"div",43),n.Xb(223,"div",27),n.Tc(224,"6"),n.Wb(),n.Xb(225,"div",28),n.Tc(226,"\xa0"),n.Wb(),n.Wb(),n.Xb(227,"div",44),n.Xb(228,"h2"),n.Tc(229,"Approval Stage"),n.Wb(),n.Xb(230,"div",30),n.Xb(231,"fieldset"),n.Xb(232,"legend",31),n.Tc(233,"Approval Details "),n.Wb(),n.Wb(),n.Xb(234,"span"),n.Xb(235,"mat-icon",32),n.fc("click",function(){return e.editApprovalDetails()}),n.Tc(236,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(237,"mat-card",33),n.Xb(238,"mat-card-content"),n.Xb(239,"div",34),n.Sb(240,"div",35),n.Xb(241,"div",36),n.Xb(242,"div",37),n.Tc(243,"Account Type"),n.Wb(),n.Xb(244,"div",38),n.Tc(245),n.Wb(),n.Wb(),n.Xb(246,"div",36),n.Xb(247,"div",37),n.Tc(248,"Account Branch"),n.Wb(),n.Xb(249,"div",38),n.Tc(250),n.Wb(),n.Wb(),n.Xb(251,"div",36),n.Xb(252,"div",37),n.Tc(253,"Product Code"),n.Wb(),n.Xb(254,"div",38),n.Tc(255),n.Wb(),n.Wb(),n.Wb(),n.Xb(256,"div",34),n.Sb(257,"div",35),n.Xb(258,"div",36),n.Xb(259,"div",37),n.Tc(260,"Account Currency"),n.Wb(),n.Xb(261,"div",38),n.Tc(262),n.Wb(),n.Wb(),n.Wb(),n.Xb(263,"mat-card",49),n.Xb(264,"div",39),n.Xb(265,"div",50),n.Xb(266,"div",51),n.Xb(267,"div",52),n.Xb(268,"mat-icon"),n.Tc(269,"done"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(270,"div",53),n.Xb(271,"div",37),n.Tc(272,"User Recommendation"),n.Wb(),n.Xb(273,"div",38),n.Tc(274),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(275,"div",42),n.Xb(276,"div",43),n.Xb(277,"div",27),n.Tc(278,"7"),n.Wb(),n.Wb(),n.Xb(279,"div",44),n.Xb(280,"h2"),n.Tc(281,"Digital Sign"),n.Wb(),n.Xb(282,"div",30),n.Xb(283,"fieldset"),n.Xb(284,"legend",31),n.Tc(285,"Digital Sign"),n.Wb(),n.Wb(),n.Xb(286,"span"),n.Xb(287,"mat-icon",32),n.fc("click",function(){return e.editDigitalSign()}),n.Tc(288,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(289,"mat-card",33),n.Xb(290,"mat-card-content"),n.Xb(291,"div",34),n.Sb(292,"div",35),n.Xb(293,"div",36),n.Xb(294,"div",37),n.Tc(295,"Document Name"),n.Wb(),n.Xb(296,"div",38),n.Tc(297),n.Wb(),n.Wb(),n.Xb(298,"div",36),n.Xb(299,"div",37),n.Tc(300,"File Type"),n.Wb(),n.Xb(301,"div",38),n.Tc(302),n.Wb(),n.Wb(),n.Xb(303,"div",36),n.Xb(304,"div",37),n.Tc(305,"File Name"),n.Wb(),n.Xb(306,"div",38),n.Tc(307),n.Wb(),n.Wb(),n.Xb(308,"div",36),n.Xb(309,"div",37),n.Tc(310,"Download"),n.Wb(),n.Rc(311,Pi,4,1,"div",54),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(312,"br"),n.Xb(313,"div"),n.Rc(314,_i,18,15,"div",55),n.Wb(),n.Sb(315,"br"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(8),n.rc("ngIf",e.loading),n.Eb(5),n.rc("ngForOf",e.nameCreater),n.Eb(7),n.Vc("",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.createdBy," "),n.Eb(3),n.Vc("EID #",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.creatorId,""),n.Eb(6),n.Vc(" ",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.mobile," "),n.Eb(6),n.Vc(" ",null==e.accountInfo||null==e.accountInfo.createdByInfo?null:e.accountInfo.createdByInfo.email," "),n.Eb(3),n.rc("ngIf","not_available"==e.imageUrl),n.Eb(1),n.rc("ngIf","not_available"!=e.imageUrl),n.Eb(9),n.Xc("",e.accInfo.prefix,"\xa0",e.accInfo.firstName,"\xa0",e.accInfo.lastName,""),n.Eb(16),n.rc("hidden",e.editScreen),n.Eb(10),n.Uc(null==e.accountDetails?null:e.accountDetails.customerId),n.Eb(5),n.Wc("",e.accInfo.firstName,"\xa0",e.accInfo.lastName,""),n.Eb(5),n.Vc("",e.accountId," "),n.Eb(7),n.Uc(null==e.accountDetails?null:e.accountDetails.accountType),n.Eb(5),n.Uc(null==e.accountDetails?null:e.accountDetails.businessProductName),n.Eb(5),n.Uc(null==e.accountDetails?null:e.accountDetails.accountBranch),n.Eb(7),n.Uc(null==e.accountDetails?null:e.accountDetails.accountCurrency),n.Eb(5),n.Uc(null==e.accountDetails?null:e.accountDetails.applicationDate),n.Eb(5),n.Uc(null==e.accountDetails?null:e.accountDetails.modificationNo),n.Eb(7),n.rc("checked",null==e.accountDetails?null:e.accountDetails.overDraftRequested)("disabled",e.variable),n.Eb(5),n.rc("checked",null==e.accountDetails?null:e.accountDetails.swiftCodeEnable)("disabled",e.variable),n.Eb(5),n.rc("checked",null==e.accountDetails?null:e.accountDetails.fundBy)("disabled",e.variable),n.Eb(1),n.rc("ngIf",null!=e.customerInformation),n.Eb(1),n.rc("ngIf",(null==e.mandate?null:e.mandate.length)>0),n.Eb(1),n.rc("ngIf",null!=e.accountServiceDetails),n.Eb(1),n.rc("ngIf",(null==e.nomineeDetails?null:e.nomineeDetails.length)>0),n.Eb(10),n.rc("ngForOf",e.securedOverdraftDetails),n.Eb(2),n.rc("ngIf",null!=e.unsecuredOverdraftDetails),n.Eb(2),n.rc("ngIf",null!=e.financialDetails),n.Eb(16),n.rc("hidden",e.editScreen),n.Eb(2),n.rc("ngIf",(null==e.intrestDetails?null:e.intrestDetails.length)>0),n.Eb(7),n.rc("hidden",e.editScreen),n.Eb(2),n.rc("ngIf",(null==e.chargeDetails?null:e.chargeDetails.length)>0),n.Eb(15),n.rc("hidden",e.editScreen),n.Eb(10),n.Uc(null==e.qualitativeScorecard?null:e.qualitativeScorecard.scoreCardId),n.Eb(5),n.Uc(null==e.qualitativeScorecard?null:e.qualitativeScorecard.numberOfApplicant),n.Eb(5),n.rc("ngForOf",null==e.qualitativeScorecard?null:e.qualitativeScorecard.scoreCardMapping),n.Eb(2),n.rc("ngIf",null!=e.assessmentReport),n.Eb(3),n.rc("ngIf",null!=e.createAccFundingStage),n.Eb(15),n.rc("hidden",e.editScreen),n.Eb(10),n.Uc(null==e.accountDetails?null:e.accountDetails.accountType),n.Eb(5),n.Uc(null==e.accountDetails?null:e.accountDetails.accountBranch),n.Eb(5),n.Uc(null==e.accountDetails?null:e.accountDetails.businessProductName),n.Eb(7),n.Uc(null==e.accountDetails?null:e.accountDetails.accountCurrency),n.Eb(12),n.Uc(null==e.accountDetails?null:e.accountDetails.userRecommendation),n.Eb(13),n.rc("hidden",e.editScreen),n.Eb(10),n.Uc(null==e.signatureData?null:e.signatureData.documentName),n.Eb(5),n.Uc(null==e.signatureData?null:e.signatureData.fileType),n.Eb(5),n.Uc(null==e.signatureData?null:e.signatureData.fileName),n.Eb(4),n.rc("ngIf",null==e.signatureData?null:e.signatureData.fileUrl),n.Eb(3),n.rc("ngIf",!e.loading))},directives:[g.e,g.d,v.a,o.n,o.m,X.c,g.b,X.a,X.d,E.a,x.b,g.f,u.a,X.e,X.h,X.g,o.l,Jo.a],pipes:[o.v,o.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.rejectbtn[_ngcontent-%COMP%]{text-align:center;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.approvebtn[_ngcontent-%COMP%], .rejectbtn[_ngcontent-%COMP%]{border-style:1px solid transparent}.approvebtn[_ngcontent-%COMP%]{margin:10px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.num[_ngcontent-%COMP%]{width:52%;height:52px;padding-top:16px;background:#fff;margin-left:15px}.num[_ngcontent-%COMP%], .num1[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center}.num1[_ngcontent-%COMP%]{width:15%;height:70px;padding-top:25px}.qtncrd[_ngcontent-%COMP%]{background-color:#f6f8fc;border:.5px;padding:10px;margin:40px 2% 40px 50px;border-color:#b2b2b2}.qtnval[_ngcontent-%COMP%]{padding-top:8px}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center;margin-left:38px;margin-right:7%}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:5%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem;display:flex;align-items:center;font-family:Manrope,Medium}.textsize[_ngcontent-%COMP%]{padding:0 10px;margin-top:10px}.labelval[_ngcontent-%COMP%]{font-family:Montserrat,Medium}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.dataStyle[_ngcontent-%COMP%]{width:99%;margin-left:4%;margin-right:13%}.btttn[_ngcontent-%COMP%], .dataStyle[_ngcontent-%COMP%]{font-family:Montserrat,Medium}.btttn[_ngcontent-%COMP%]{font-weight:700}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%;margin-bottom:20px!important;background:#f4f6f8;margin-left:32px}.appersoninfocard1[_ngcontent-%COMP%]{width:100%}.interstcard[_ngcontent-%COMP%]{width:97%}.interstcard[_ngcontent-%COMP%], .interstcard2[_ngcontent-%COMP%]{background-color:#e5e5e5;height:86%}.interstcard2[_ngcontent-%COMP%]{width:75%}.interstcard3[_ngcontent-%COMP%]{width:97%;right:29%}.interstcard3[_ngcontent-%COMP%], .interstcard4[_ngcontent-%COMP%]{background-color:#e5e5e5;height:86%}.interstcard4[_ngcontent-%COMP%]{width:100%;right:35%}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:38%;max-width:9%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{background-color:#fff;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px;position:relative;padding-right:12px}.cancelIcon[_ngcontent-%COMP%], .rejectbtn[_ngcontent-%COMP%]{color:red;cursor:pointer}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;opacity:1;padding-top:7px}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:63px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.approvebtn[_ngcontent-%COMP%]{color:#fff;background-color:#0ec588;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;border-color:#0ec588;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;background-color:grey;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:20px;width:100px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin-right:15px;margin-top:21%;position:relative;margin-bottom:14px}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px;margin-left:0}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;position:relative;margin:auto 40px auto auto}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:10px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-top:44px;margin-left:44px}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.editbtn[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-top:10px}.refnum[_ngcontent-%COMP%]{background-color:#0e7cc5;border-color:#0e57c5;height:30px;width:250px}.refnum[_ngcontent-%COMP%], .suces[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;margin-right:60px}.suces[_ngcontent-%COMP%]{background-color:#24cca7;border-color:#0dab4e;height:25px;width:150px;margin-left:204px}.btttn[_ngcontent-%COMP%]{font-family:Manrope,Medium!important;color:#9aa1b0}.margin1[_ngcontent-%COMP%]{margin-top:18px}.margin1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:20px}h2[_ngcontent-%COMP%]{margin-left:13px;font-family:montserrat,bold}.height1[_ngcontent-%COMP%]{margin-left:32px}legend[_ngcontent-%COMP%]{width:auto;margin-right:25px;color:#5f5c5c;font-size:18px;font-family:Montserrat,Medium}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:13px;margin-right:20px;margin-top:20px;flex-grow:1}.size1[_ngcontent-%COMP%]{font-size:10px;height:165px}.maticon[_ngcontent-%COMP%]{margin-top:10px}.box[_ngcontent-%COMP%]{height:295px;width:29%}.box2[_ngcontent-%COMP%]{width:62%}.nom[_ngcontent-%COMP%]{margin-left:30px}.marginn[_ngcontent-%COMP%]{margin-top:22px}.done1[_ngcontent-%COMP%]{top:50%;text-align:center;color:#fff;margin-top:5px;width:inherit;height:auto;font-size:19px}.circle3[_ngcontent-%COMP%]{width:25px;height:3rem;background-color:#0ec588;border-radius:50%;margin-right:10px;margin-left:5px}.btnleft[_ngcontent-%COMP%]{margin-left:0}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),t})();var Ui=a("MNke");function Mi(t,e){if(1&t&&n.Sb(0,"img",3),2&t){const t=n.jc();n.sc("src",t.photoUrl,n.Jc)}}function Gi(t,e){if(1&t&&(n.Xb(0,"div",4),n.Tc(1),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.Vc(" ",t.initials," ")}}const Vi=function(t){return{"background-color":t}};let Bi=(()=>{class t{constructor(){this.showInitials=!1,this.colors=["#24CCA7","#24CCA7","#24CCA7","#24CCA7"]}ngOnInit(){if(!this.photoUrl){this.showInitials=!0,this.createInititals();const t=Math.floor(Math.random()*Math.floor(this.colors.length));this.circleColor=this.colors[t]}}createInititals(){let t=this.name.split(" "),e=t[0].substring(0,1).toUpperCase();t.length>1&&(e+=t[t.length-1].substring(0,1).toUpperCase()),this.initials=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Lb({type:t,selectors:[["app-photo"]],inputs:{photoUrl:"photoUrl",name:"name"},decls:3,vars:5,consts:[[1,"circle",3,"ngStyle"],[3,"src",4,"ngIf"],["class","initials",4,"ngIf"],[3,"src"],[1,"initials"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Rc(1,Mi,1,1,"img",1),n.Rc(2,Gi,2,1,"div",2),n.Wb()),2&t&&(n.rc("ngStyle",n.xc(3,Vi,e.circleColor)),n.Eb(1),n.rc("ngIf",!e.showInitials),n.Eb(1),n.rc("ngIf",e.showInitials))},directives:[o.o,Jo.b,o.n],styles:[".circle[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;display:flex;justify-content:center;align-items:center}.circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:60px;height:60px}.circle[_ngcontent-%COMP%]   .initials[_ngcontent-%COMP%]{color:#fff;font-size:20px;line-height:19px;letter-spacing:.2625px}"]}),t})();function ji(t,e){1&t&&n.Sb(0,"mat-spinner",19),2&t&&n.rc("diameter",15)}function zi(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",20),n.fc("click",function(){return n.Hc(t),n.jc().clear()}),n.Xb(1,"mat-icon"),n.Tc(2,"close"),n.Wb(),n.Wb()}}function qi(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",38),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Ji(t,e){if(1&t&&n.Sb(0,"img",39),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function Ki(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.gotoapproverpage(a,"BACKLOG",i.getRandomColor(o+3))}),n.Xb(1,"mat-icon",22),n.Tc(2,"bookmark"),n.Wb(),n.Xb(3,"mat-card-header",23),n.Xb(4,"div",24),n.Rc(5,qi,2,1,"div",25),n.Rc(6,Ji,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(8,"mat-card-title",27),n.Tc(9),n.Wb(),n.Xb(10,"mat-card-subtitle",28),n.Tc(11),n.Wb(),n.Wb(),n.Xb(12,"form",29),n.Xb(13,"div",30),n.Xb(14,"div",31),n.Xb(15,"div",32),n.Xb(16,"div",33),n.Xb(17,"span",34),n.Tc(18,"Application Date"),n.Wb(),n.Wb(),n.Xb(19,"div",33),n.Xb(20,"span",34),n.Tc(21,"Applicaton Branch"),n.Wb(),n.Wb(),n.Xb(22,"div",33),n.Xb(23,"span",34),n.Tc(24,"Product"),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",35),n.Xb(26,"div",33),n.Xb(27,"span",36),n.Tc(28),n.Wb(),n.Wb(),n.Xb(29,"div",33),n.Xb(30,"span",37),n.Tc(31),n.Wb(),n.Wb(),n.Xb(32,"div",33),n.Xb(33,"span",37),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Sb(35,"br"),n.Wb(),n.Xb(36,"div",31),n.Xb(37,"div",34),n.Xb(38,"div",33),n.Xb(39,"span",34),n.Tc(40,"Account Type"),n.Wb(),n.Wb(),n.Xb(41,"div",33),n.Xb(42,"span",34),n.Tc(43,"Application By"),n.Wb(),n.Wb(),n.Wb(),n.Xb(44,"div",36),n.Xb(45,"div"),n.Xb(46,"div",33),n.Xb(47,"span",37),n.Tc(48),n.Wb(),n.Wb(),n.Xb(49,"div",33),n.Xb(50,"span",37),n.Tc(51),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(7);n.Eb(5),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Xc("",null==t?null:t.firstName," ",null==t?null:t.middleName," ",null==t?null:t.lastName,""),n.Eb(2),n.Uc(null==t?null:t.accountId),n.Eb(17),n.Uc(null==t?null:t.applicationDate),n.Eb(3),n.Uc(null==t?null:t.accountBranch),n.Eb(3),n.Uc(null==t?null:t.businessProductName),n.Eb(14),n.Uc(null==t?null:t.accountType),n.Eb(3),n.Uc(null==t?null:t.createdBy)}}function $i(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",38),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Hi(t,e){if(1&t&&n.Sb(0,"img",39),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function Yi(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.gotoapproverpage(a,"ONGOING",i.getRandomColor(o+6))}),n.Xb(1,"mat-icon",40),n.Tc(2,"bookmark"),n.Wb(),n.Xb(3,"mat-card-header",23),n.Xb(4,"div",24),n.Rc(5,$i,2,1,"div",25),n.Rc(6,Hi,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(8,"mat-card-title",27),n.Tc(9),n.Wb(),n.Xb(10,"mat-card-subtitle",28),n.Tc(11),n.Wb(),n.Wb(),n.Xb(12,"form",29),n.Xb(13,"div",30),n.Xb(14,"div",31),n.Xb(15,"div",32),n.Xb(16,"div",33),n.Xb(17,"span",34),n.Tc(18,"Application Date"),n.Wb(),n.Wb(),n.Xb(19,"div",33),n.Xb(20,"span",34),n.Tc(21,"Applicaton Branch"),n.Wb(),n.Wb(),n.Xb(22,"div",33),n.Xb(23,"span",34),n.Tc(24,"Product"),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",35),n.Xb(26,"div",33),n.Xb(27,"span",36),n.Tc(28),n.Wb(),n.Wb(),n.Xb(29,"div",33),n.Xb(30,"span",37),n.Tc(31),n.Wb(),n.Wb(),n.Xb(32,"div",33),n.Xb(33,"span",37),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Sb(35,"br"),n.Wb(),n.Xb(36,"div",31),n.Xb(37,"div",34),n.Xb(38,"div",33),n.Xb(39,"span",34),n.Tc(40,"Account Type"),n.Wb(),n.Wb(),n.Xb(41,"div",33),n.Xb(42,"span",34),n.Tc(43,"Application By"),n.Wb(),n.Wb(),n.Wb(),n.Xb(44,"div",36),n.Xb(45,"div"),n.Xb(46,"div",33),n.Xb(47,"span",37),n.Tc(48),n.Wb(),n.Wb(),n.Xb(49,"div",33),n.Xb(50,"span",37),n.Tc(51),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(7);n.Eb(5),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Xc("",t.firstName," ",t.middleName," ",t.lastName,""),n.Eb(2),n.Uc(t.accountId),n.Eb(17),n.Uc(t.applicationDate),n.Eb(3),n.Uc(t.accountBranch),n.Eb(3),n.Uc(t.businessProductName),n.Eb(14),n.Uc(t.accountType),n.Eb(3),n.Uc(t.createdBy)}}function Zi(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",38),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Qi(t,e){if(1&t&&n.Sb(0,"img",39),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function tn(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.gotoapproverpage(a,"APPROVED",i.getRandomColor(o+9))}),n.Xb(1,"mat-icon",41),n.Tc(2,"bookmark"),n.Wb(),n.Xb(3,"mat-card-header",23),n.Xb(4,"div",24),n.Rc(5,Zi,2,1,"div",25),n.Rc(6,Qi,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(8,"mat-card-title",27),n.Tc(9),n.Wb(),n.Xb(10,"mat-card-subtitle",28),n.Tc(11),n.Wb(),n.Wb(),n.Xb(12,"form",29),n.Xb(13,"div",30),n.Xb(14,"div",31),n.Xb(15,"div",32),n.Xb(16,"div",33),n.Xb(17,"span",34),n.Tc(18,"Application Date"),n.Wb(),n.Wb(),n.Xb(19,"div",33),n.Xb(20,"span",34),n.Tc(21,"Applicaton Branch"),n.Wb(),n.Wb(),n.Xb(22,"div",33),n.Xb(23,"span",34),n.Tc(24,"Product"),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",35),n.Xb(26,"div",33),n.Xb(27,"span",36),n.Tc(28),n.Wb(),n.Wb(),n.Xb(29,"div",33),n.Xb(30,"span",37),n.Tc(31),n.Wb(),n.Wb(),n.Xb(32,"div",33),n.Xb(33,"span",37),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Sb(35,"br"),n.Wb(),n.Xb(36,"div",31),n.Xb(37,"div",34),n.Xb(38,"div",33),n.Xb(39,"span",34),n.Tc(40,"Account Type"),n.Wb(),n.Wb(),n.Xb(41,"div",33),n.Xb(42,"span",34),n.Tc(43,"Application By"),n.Wb(),n.Wb(),n.Wb(),n.Xb(44,"div",36),n.Xb(45,"div"),n.Xb(46,"div",33),n.Xb(47,"span",37),n.Tc(48),n.Wb(),n.Wb(),n.Xb(49,"div",33),n.Xb(50,"span",37),n.Tc(51),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(7);n.Eb(5),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Xc("",t.firstName," ",t.middleName," ",t.lastName,""),n.Eb(2),n.Uc(t.accountId),n.Eb(17),n.Uc(null==t?null:t.applicationDate),n.Eb(3),n.Uc(null==t?null:t.accountBranch),n.Eb(3),n.Uc(null==t?null:t.businessProductName),n.Eb(14),n.Uc(null==t?null:t.accountType),n.Eb(3),n.Uc(null==t?null:t.createdBy)}}function en(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",38),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function an(t,e){if(1&t&&n.Sb(0,"img",39),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function on(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.gotoapproverpage(a,"REJECTED",i.getRandomColor(o+12))}),n.Xb(1,"mat-icon",42),n.Tc(2,"bookmark"),n.Wb(),n.Xb(3,"mat-card-header",23),n.Xb(4,"div",24),n.Rc(5,en,2,1,"div",25),n.Rc(6,an,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(8,"mat-card-title",27),n.Tc(9),n.Wb(),n.Xb(10,"mat-card-subtitle",28),n.Tc(11),n.Wb(),n.Wb(),n.Xb(12,"form",29),n.Xb(13,"div",30),n.Xb(14,"div",31),n.Xb(15,"div",32),n.Xb(16,"div",33),n.Xb(17,"span",34),n.Tc(18,"Application Date"),n.Wb(),n.Wb(),n.Xb(19,"div",33),n.Xb(20,"span",34),n.Tc(21,"Applicaton Branch"),n.Wb(),n.Wb(),n.Xb(22,"div",33),n.Xb(23,"span",34),n.Tc(24,"Product"),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",35),n.Xb(26,"div",33),n.Xb(27,"span",36),n.Tc(28),n.Wb(),n.Wb(),n.Xb(29,"div",33),n.Xb(30,"span",37),n.Tc(31),n.Wb(),n.Wb(),n.Xb(32,"div",33),n.Xb(33,"span",37),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Sb(35,"br"),n.Wb(),n.Xb(36,"div",31),n.Xb(37,"div",34),n.Xb(38,"div",33),n.Xb(39,"span",34),n.Tc(40,"Account Type"),n.Wb(),n.Wb(),n.Xb(41,"div",33),n.Xb(42,"span",34),n.Tc(43,"Application By"),n.Wb(),n.Wb(),n.Wb(),n.Xb(44,"div",36),n.Xb(45,"div"),n.Xb(46,"div",33),n.Xb(47,"span",37),n.Tc(48),n.Wb(),n.Wb(),n.Xb(49,"div",33),n.Xb(50,"span",37),n.Tc(51),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(7);n.Eb(5),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Xc("",t.firstName," ",t.middleName," ",t.lastName," "),n.Eb(2),n.Uc(t.accountId),n.Eb(17),n.Uc(null==t?null:t.applicationDate),n.Eb(3),n.Uc(null==t?null:t.accountBranch),n.Eb(3),n.Uc(null==t?null:t.businessProductName),n.Eb(14),n.Uc(null==t?null:t.accountType),n.Eb(3),n.Uc(null==t?null:t.createdBy)}}let nn=(()=>{class t{constructor(t,e,a,o,i,r){this.dialog=t,this.sanitizer=e,this.tasksummaryService=a,this.apiService=o,this.cdr=i,this.route=r,this.statusArr=["ONGOING","BACKLOG","APPROVED","REJECTED"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new n.o,this._searchSubject=new c.a,this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}onScroll(t){this.isScroll&&(this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}ngOnInit(){this.apiService.setTask(!0),this.route.queryParamMap.subscribe(t=>{t.get("searchTerm")?(this.redirectedFromTellerSearch=!0,this.searchText=t.get("searchTerm"),this.updateSearch(this.searchText),setTimeout(()=>{this.openSearchedApprover()},3e3)):this.getDataOnLoad()})}updateSearch(t){console.log("searchTextValue::",t),this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{this.searchKycid(t)})}getDataOnLoad(){for(let t=0;t<this.statusArr.length;t++)this.getAllAccDetails(this.statusArr[t],0,0)}getAllAccDetails(t,e,a){this.tasksummaryService.getAllAccDetails(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){"ONGOING"==t?(this.ONGOINGArr=e.accountList,this.ONGOINGTotalPages=e.totalPages,this.ONGOINGTotalRecords=e.totalNoOfElements):"BACKLOG"==t?(this.BACKLOGArr=e.accountList,this.BACKLOGTotalPages=e.totalPages,this.BACKLOGTotalRecords=e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=e.accountList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=e.accountList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){console.log("---------scrolled----------"),e!==a?this.tasksummaryService.getAllAccDetailOnScroll(t,e).subscribe(e=>{this.updateDataOnScroll(t,e.accountList),this.cdr.markForCheck()}):console.log("No scroll requied")}gotoapproverpage(t,e,a){this.tasksummaryService.accountStatusData(e),localStorage.setItem("CustomerColorCode",a),this.dialog.open(wi,{panelClass:"full-width-dialog",data:t,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{"REJECTED"!==t.data&&"APPROVED"!==t.data&&"ONGOING"!=t.data&&"BACKLOG"!==t.data||(1==this.redirectedFromTellerSearch?this.updateSearch(this.searchText):this.getDataOnLoad())})}searchKycid(t){let e,a;if(""===t)return console.log("empty"),this.isScroll=!0,void this.getDataOnLoad();this.isNum(t)?(e=this.searchText.trim(),a="accountId="+e):(e=this.searchText.trim(),a="customerName="+e),this.isScroll=!1,this.getAccountData(a)}getAccountData(t){this.loading=!0,console.log("params :: ",t),this.tasksummaryService.getSearchData(t).subscribe(t=>{this.loading=!1,console.log("resp data :: ",t),this.resetSearchData();for(let e=0;e<t.accountList.length;e++){const a=t.accountList[e];console.log("element ::",a),this.searchResponseUpdate(a.status,t.accountList[e])}})}resetSearchData(){this.ONGOINGArr=[],this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}clear(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}isNum(t){return!isNaN(t)}searchResponseUpdate(t,e){"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}updateDataOnScroll(t,e){if("ONGOING"==t){console.log("sdsklsdk",e);const t=Jt.unionBy(this.ONGOINGArr,e,"accountId");console.log("result---------------\x3e",t),this.ONGOINGArr=t}else if("BACKLOG"==t){const t=Jt.unionBy(this.BACKLOGArr,e,"accountId");this.BACKLOGArr=t}else if("APPROVED"==t){const t=Jt.unionBy(this.APPROVEDArr,e,"accountId");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Jt.unionBy(this.REJECTEDArr,e,"accountId");this.REJECTEDArr=t}this.cdr.markForCheck()}openSearchedApprover(){let t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(t=>1==t.length);console.log(t),1==t.length&&this.gotoapproverpage(t[0][0],t[0][0].custStatus)}ngOnDestroy(){this._searchSubject.unsubscribe(),this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.ONGOINGArr=[],this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.BACKLOGPage=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalPages=0}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.b),n.Rb(qo.b),n.Rb(m.a),n.Rb(r.b),n.Rb(n.h),n.Rb(je.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-task-summary"]],hostBindings:function(t,e){1&t&&n.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:55,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"headingtext"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchfield"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search AccountID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","matCardbox",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"matCardbox",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[2,"font-size","16px"],[2,"color","green"],[1,"head1"],["fxLayout","column"],["fxLayout","column","fxFlex","100"],["fxLayout","row",1,"col1"],["fxFlex","33",1,"pr3"],[1,"col3"],[1,"col2"],[1,"col4"],[1,"col4","breakWord"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMark1"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-blue","bookMark","bookMark3"]],template:function(t,e){1&t&&(n.Sb(0,"br"),n.Xb(1,"div",0),n.fc("scrolled",function(t){return e.onScroll(t)}),n.Sb(2,"br"),n.Xb(3,"div",1),n.Xb(4,"div",2),n.Xb(5,"div",3),n.Xb(6,"span",4),n.Tc(7," Create Account Task Summary "),n.Wb(),n.Wb(),n.Xb(8,"div",5),n.Xb(9,"mat-form-field",6),n.Xb(10,"mat-label"),n.Tc(11,"Search"),n.Wb(),n.Xb(12,"div",7),n.Xb(13,"input",8),n.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),n.Wb(),n.Rc(14,ji,1,1,"mat-spinner",9),n.Wb(),n.Xb(15,"mat-icon",10),n.Tc(16,"search"),n.Wb(),n.Rc(17,zi,3,0,"button",11),n.Xb(18,"mat-hint"),n.Tc(19,"Search AccountID or Name"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",12),n.Xb(21,"div",13),n.Xb(22,"mat-card",14),n.Xb(23,"div",15),n.Xb(24,"span",16),n.Xb(25,"h2",17),n.Tc(26),n.Wb(),n.Wb(),n.Wb(),n.Xb(27,"div"),n.Rc(28,Ki,52,11,"div",18),n.Wb(),n.Sb(29,"br"),n.Wb(),n.Xb(30,"mat-card",14),n.Xb(31,"div",15),n.Xb(32,"span",16),n.Xb(33,"h2",17),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div"),n.Rc(36,Yi,52,11,"div",18),n.Wb(),n.Sb(37,"br"),n.Wb(),n.Xb(38,"mat-card",14),n.Xb(39,"div",15),n.Xb(40,"span",16),n.Xb(41,"h2",17),n.Tc(42),n.Wb(),n.Wb(),n.Wb(),n.Xb(43,"div"),n.Rc(44,tn,52,11,"div",18),n.Wb(),n.Sb(45,"br"),n.Wb(),n.Xb(46,"mat-card",14),n.Xb(47,"div",15),n.Xb(48,"span",16),n.Xb(49,"h2",17),n.Tc(50),n.Wb(),n.Wb(),n.Wb(),n.Xb(51,"div"),n.Rc(52,on,52,11,"div",18),n.Wb(),n.Sb(53,"br"),n.Wb(),n.Wb(),n.Sb(54,"br"),n.Wb(),n.Wb()),2&t&&(n.Eb(1),n.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),n.Eb(12),n.rc("ngModel",e.searchText),n.Eb(1),n.rc("ngIf",e.loading),n.Eb(3),n.rc("ngIf",e.searchText),n.Eb(9),n.Wc("Pending for approval (",e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.BACKLOGArr),n.Eb(6),n.Wc("Ongoing (",e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.ONGOINGArr),n.Eb(6),n.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.APPROVEDArr),n.Eb(6),n.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.REJECTEDArr))},directives:[Ui.a,g.e,g.d,g.f,g.b,W.c,W.g,y.b,p.c,p.r,p.u,o.n,v.a,W.i,W.f,X.a,o.m,x.b,C.b,W.j,X.e,X.c,X.h,X.g,p.A,p.s,p.t,Bi],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#000}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-right:30px;margin-right:30px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{font-size:9px;color:grey}.coldata[_ngcontent-%COMP%]{font-size:9px;color:#000}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:180px;box-sizing:border-box;margin:0 0 10px;padding:0}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.headingtext[_ngcontent-%COMP%]{padding-left:2.2%;padding-top:1%}.searchfield[_ngcontent-%COMP%]{padding-right:5%}.matCardbox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:37vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}.pr3[_ngcontent-%COMP%]{padding-right:3%}.breakWord[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]}),t})();var rn=a("laYw"),cn=a("yAWA"),sn=a("JC+M");function ln(t,e){1&t&&n.Sb(0,"mat-spinner",20),2&t&&n.rc("diameter",15)}function bn(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",21),n.fc("click",function(){return n.Hc(t),n.jc().clear()}),n.Xb(1,"mat-icon"),n.Tc(2,"close"),n.Wb(),n.Wb()}}function dn(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",40),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function un(t,e){if(1&t&&n.Sb(0,"img",41),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function mn(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",22),n.fc("click",function(){n.Hc(t);const a=e.$implicit;return n.jc().goToKycSummary(a.customerId)}),n.Xb(1,"div",23),n.Xb(2,"div",24),n.Xb(3,"mat-icon",25),n.Tc(4,"bookmark"),n.Wb(),n.Xb(5,"span"),n.Xb(6,"small"),n.Tc(7),n.kc(8,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"mat-card-header",26),n.Xb(10,"div",27),n.Rc(11,dn,2,1,"div",28),n.Rc(12,un,1,1,"ng-template",null,29,n.Sc),n.Wb(),n.Xb(14,"mat-card-title",30),n.Tc(15),n.Wb(),n.Xb(16,"mat-card-subtitle"),n.Xb(17,"span",31),n.Tc(18),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"form",32),n.Xb(20,"div",33),n.Xb(21,"div",34),n.Xb(22,"span"),n.Tc(23,"Verification Type"),n.Wb(),n.Xb(24,"span",35),n.Tc(25,"Biometric"),n.Wb(),n.Wb(),n.Xb(26,"div",34),n.Xb(27,"span"),n.Tc(28,"KYC Status"),n.Wb(),n.Xb(29,"span",35),n.Tc(30),n.Wb(),n.Wb(),n.Wb(),n.Sb(31,"br"),n.Xb(32,"div",36),n.Xb(33,"div",37),n.Xb(34,"span",38),n.Tc(35,"Mobile Number"),n.Wb(),n.Xb(36,"span",39),n.Tc(37),n.Wb(),n.Wb(),n.Xb(38,"div",37),n.Xb(39,"span",38),n.Tc(40,"Email"),n.Wb(),n.Xb(41,"span",39),n.Tc(42),n.Wb(),n.Wb(),n.Wb(),n.Sb(43,"br"),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(13);n.Eb(7),n.Uc(n.lc(8,11,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(3),n.Vc("#",t.customerAdditionalInfo.kycReference,""),n.Eb(12),n.Uc(t.customerAdditionalInfo.kycStatus),n.Eb(7),n.Uc(t.phoneNumber),n.Eb(5),n.Uc(t.primaryEmailAdress)}}function pn(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",40),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function hn(t,e){if(1&t&&n.Sb(0,"img",41),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function fn(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",22),n.fc("click",function(){n.Hc(t);const a=e.$implicit;return n.jc().goToKycSummary(a.customerId)}),n.Xb(1,"div",23),n.Xb(2,"div",24),n.Xb(3,"mat-icon",42),n.Tc(4,"bookmark"),n.Wb(),n.Xb(5,"span"),n.Xb(6,"small"),n.Tc(7),n.kc(8,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"mat-card-header",26),n.Xb(10,"div",27),n.Rc(11,pn,2,1,"div",28),n.Rc(12,hn,1,1,"ng-template",null,29,n.Sc),n.Wb(),n.Xb(14,"mat-card-title",43),n.Tc(15),n.Wb(),n.Xb(16,"mat-card-subtitle"),n.Xb(17,"span",31),n.Tc(18),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"form",32),n.Xb(20,"div",33),n.Xb(21,"div",34),n.Xb(22,"span"),n.Tc(23,"Verification Type"),n.Wb(),n.Xb(24,"span",35),n.Tc(25,"Biometric"),n.Wb(),n.Wb(),n.Xb(26,"div",34),n.Xb(27,"span"),n.Tc(28,"KYC Status"),n.Wb(),n.Xb(29,"span",35),n.Tc(30),n.Wb(),n.Wb(),n.Wb(),n.Sb(31,"br"),n.Xb(32,"div",36),n.Xb(33,"div",37),n.Xb(34,"span",38),n.Tc(35,"Mobile Number"),n.Wb(),n.Xb(36,"span",39),n.Tc(37),n.Wb(),n.Wb(),n.Xb(38,"div",37),n.Xb(39,"span",38),n.Tc(40,"Email"),n.Wb(),n.Xb(41,"span",39),n.Tc(42),n.Wb(),n.Wb(),n.Wb(),n.Sb(43,"br"),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(13);n.Eb(7),n.Uc(n.lc(8,11,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(3),n.Vc("#",t.customerAdditionalInfo.kycReference,""),n.Eb(12),n.Uc(t.customerAdditionalInfo.kycStatus),n.Eb(7),n.Uc(t.phoneNumber),n.Eb(5),n.Uc(t.primaryEmailAdress)}}function gn(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",40),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function vn(t,e){if(1&t&&n.Sb(0,"img",41),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function Wn(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",22),n.fc("click",function(){n.Hc(t);const a=e.$implicit;return n.jc().goToKycSummary(a.customerId)}),n.Xb(1,"div",23),n.Xb(2,"div",24),n.Xb(3,"mat-icon",44),n.Tc(4,"bookmark"),n.Wb(),n.Xb(5,"span"),n.Xb(6,"small"),n.Tc(7),n.kc(8,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"mat-card-header",26),n.Xb(10,"div",27),n.Rc(11,gn,2,1,"div",28),n.Rc(12,vn,1,1,"ng-template",null,29,n.Sc),n.Wb(),n.Xb(14,"mat-card-title",43),n.Tc(15),n.Wb(),n.Xb(16,"mat-card-subtitle"),n.Xb(17,"span",31),n.Tc(18),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"form",32),n.Xb(20,"div",33),n.Xb(21,"div",34),n.Xb(22,"span"),n.Tc(23,"Verification Type"),n.Wb(),n.Xb(24,"span",35),n.Tc(25,"Biometric"),n.Wb(),n.Wb(),n.Xb(26,"div",34),n.Xb(27,"span"),n.Tc(28,"KYC Status"),n.Wb(),n.Xb(29,"span",35),n.Tc(30),n.Wb(),n.Wb(),n.Wb(),n.Sb(31,"br"),n.Xb(32,"div",36),n.Xb(33,"div",37),n.Xb(34,"span",38),n.Tc(35,"Mobile Number"),n.Wb(),n.Xb(36,"span",39),n.Tc(37),n.Wb(),n.Wb(),n.Xb(38,"div",37),n.Xb(39,"span",38),n.Tc(40,"Email"),n.Wb(),n.Xb(41,"span",39),n.Tc(42),n.Wb(),n.Wb(),n.Wb(),n.Sb(43,"br"),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(13);n.Eb(7),n.Uc(n.lc(8,11,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(3),n.Vc("#",t.customerAdditionalInfo.kycReference,""),n.Eb(12),n.Uc(t.customerAdditionalInfo.kycStatus),n.Eb(7),n.Uc(t.phoneNumber),n.Eb(5),n.Uc(t.primaryEmailAdress)}}function Xn(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",40),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function yn(t,e){if(1&t&&n.Sb(0,"img",41),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function Tn(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",22),n.fc("click",function(){n.Hc(t);const a=e.$implicit;return n.jc().goToKycSummary(a.customerId)}),n.Xb(1,"div",23),n.Xb(2,"div",24),n.Xb(3,"mat-icon",45),n.Tc(4,"bookmark"),n.Wb(),n.Xb(5,"span"),n.Xb(6,"small"),n.Tc(7),n.kc(8,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"mat-card-header",26),n.Xb(10,"div",27),n.Rc(11,Xn,2,1,"div",28),n.Rc(12,yn,1,1,"ng-template",null,29,n.Sc),n.Wb(),n.Xb(14,"mat-card-title",43),n.Tc(15),n.Wb(),n.Xb(16,"mat-card-subtitle"),n.Xb(17,"span",31),n.Tc(18),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"form",32),n.Xb(20,"div",33),n.Xb(21,"div",34),n.Xb(22,"span"),n.Tc(23,"Verification Type"),n.Wb(),n.Xb(24,"span",35),n.Tc(25,"Biometric"),n.Wb(),n.Wb(),n.Xb(26,"div",34),n.Xb(27,"span"),n.Tc(28,"KYC Status"),n.Wb(),n.Xb(29,"span",35),n.Tc(30),n.Wb(),n.Wb(),n.Wb(),n.Sb(31,"br"),n.Xb(32,"div",36),n.Xb(33,"div",37),n.Xb(34,"span",38),n.Tc(35,"Mobile Number"),n.Wb(),n.Xb(36,"span",39),n.Tc(37),n.Wb(),n.Wb(),n.Xb(38,"div",37),n.Xb(39,"span",38),n.Tc(40,"Email"),n.Wb(),n.Xb(41,"span",39),n.Tc(42),n.Wb(),n.Wb(),n.Wb(),n.Sb(43,"br"),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(13);n.Eb(7),n.Uc(n.lc(8,11,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(3),n.Vc("#",t.customerAdditionalInfo.kycReference,""),n.Eb(12),n.Uc(t.customerAdditionalInfo.kycStatus),n.Eb(7),n.Uc(t.phoneNumber),n.Eb(5),n.Uc(t.primaryEmailAdress)}}let In=(()=>{class t{constructor(t,e,a,o,i,r,s,l,b){this.dialog=t,this.dialogService=e,this.apiService=a,this.cdr=o,this.tasSumService=i,this.snack=r,this.sanitizer=s,this.route=b,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.setValue=new n.o,this._searchSubject=new c.a,this.nodataFound=!1,this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.searchable=!1,this.isScroll=!0,this.redirectedFromTellerSearch=!1,this._setSearchSubscription(),l.addSvgIconLiteral("filter_icon",s.bypassSecurityTrustHtml('\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10,13,3,3H21L14,13v6l-4,3Z" fill="none" stroke="#000" stroke-miterlimit="10"/></svg>\n'))}onScroll(t){this.isScroll&&(this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}ngOnInit(){this.apiService.setTask(!0),this.route.queryParamMap.subscribe(t=>{t.get("searchTerm")?(this.redirectedFromTellerSearch=!0,this.searchText=t.get("searchTerm"),this.updateSearch(this.searchText),setTimeout(()=>{this.openSearchedApprover()},3e3)):this.getDataOnLoad()})}updateSearch(t){this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{this.searchKycid(t),console.log("searchValue :: ",t)})}goToKycSummary(t){localStorage.setItem("customerId",t),this.dialog.open(cn.a,{width:"80%",maxHeight:"100%",backdropClass:"dialog-bg-trans",disableClose:!0}).afterClosed().subscribe(t=>{console.log("The dialog was closed",t),"REJECTED"!==t.data&&"APPROVED"!==t.data&&"INITIATED"!==t.data&&"INITIATED"!==t.data||(1==this.redirectedFromTellerSearch?this.updateSearch(this.searchText):this.getDataOnLoad())})}getDataOnLoad(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerByStatus(this.statusArr[t],0,0)}fetchCustomerByStatus(t,e,a){this.apiService.getKycTaskSummaryList(t,e,a).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){"INITIATED"==t?(this.INITIATEDArr=e.customerInfoList,this.INITIATEDTotalPages=e.totalPages,this.INITIATEDTotalRecords=e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=e.customerInfoList,this.UNDER_PROCESSTotalPages=e.totalPages,this.UNDER_PROCESSTotalRecords=e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=e.customerInfoList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=e.customerInfoList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){console.log("---------scrolled----------"),e!==a?this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(e=>{console.log("count data :: ",e),this.cdr.markForCheck(),this.updateDataOnScroll(t,e.customerInfoList)}):console.log("No scroll requied")}searchKycid(t){let e,a;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("kycId"),e="kyc_"+this.searchText.trim(),this.apiService.getKycDetails2(e).subscribe(t=>{console.log(t),null!=t?(a="kycReference="+e,console.log("cif",a)):(console.log("not a cif"),e=this.searchText.trim(),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(()=>{this.getKycData(a)},1e3),this.isScroll=!1}getKycData(t){this.loading=!0;for(let e=0;e<this.statusArr.length;e++){const a=this.statusArr[e];"INITIATED"==a?this.apiService.getKycDetails(t,a).subscribe(t=>{this.INITIATEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.INITIATEDArr=[];for(let e=0;e<t.customerInfoList.length;e++)this.INITIATEDArr.push(null==t?void 0:t.customerInfoList[e])}):"UNDER_PROCESS"==a?this.apiService.getKycDetails(t,a).subscribe(t=>{this.UNDER_PROCESSTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.UNDER_PROCESSArr=[];for(let e=0;e<(null==t?void 0:t.customerInfoList.length);e++)this.UNDER_PROCESSArr.push(t.customerInfoList[e])}):"APPROVED"==a?this.apiService.getKycDetails(t,a).subscribe(t=>{this.APPROVEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.APPROVEDArr=[];for(let e=0;e<(null==t?void 0:t.customerInfoList.length);e++)this.APPROVEDArr.push(t.customerInfoList[e])}):"REJECTED"==a&&this.apiService.getKycDetails(t,a).subscribe(t=>{this.REJECTEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.REJECTEDArr=[];for(let e=0;e<(null==t?void 0:t.customerInfoList.length);e++)this.REJECTEDArr.push(t.customerInfoList[e])})}}resetSearchData(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}searchResponseUpdate(t,e){"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}clear(){this.searchText="",this.getDataOnLoad(),this.isScroll=!0}updateDataOnScroll(t,e){if("INITIATED"==t){const t=Jt.unionBy(this.INITIATEDArr,e,"customerId");this.INITIATEDArr=t}else if("UNDER_PROCESS"==t){const t=Jt.unionBy(this.UNDER_PROCESSArr,e,"customerId");this.UNDER_PROCESSArr=t}else if("APPROVED"==t){const t=Jt.unionBy(this.APPROVEDArr,e,"customerId");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Jt.unionBy(this.REJECTEDArr,e,"customerId");this.REJECTEDArr=t}this.cdr.markForCheck()}openSearchedApprover(){let t=[this.REJECTEDArr,this.APPROVEDArr,this.UNDER_PROCESSArr,this.INITIATEDArr].filter(t=>1==t.length);console.log(t),1==t.length&&this.goToKycSummary(t[0][0].customerId)}ngOnDestroy(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}isNum(t){return!isNaN(t)}isString(t){return t}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.b),n.Rb(rn.a),n.Rb(r.b),n.Rb(n.h),n.Rb(m.a),n.Rb(f.a),n.Rb(qo.b),n.Rb(v.c),n.Rb(je.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-kyc-task-summary"]],hostBindings:function(t,e){1&t&&n.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:57,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","60",1,"pl-50"],[1,"task","ml-24"],["fxLayoutAlign","end center","fxFlex","100","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxLayout","row","fxLayoutGap","10px",1,"search"],["appearance","outline",1,"full-width","search_field"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search ID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],[3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[3,"click"],[1,"graymatcard"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"breakWord",2,"font-size","15px"],[1,"KYCtxt"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxFlex","50","fxLayout","column",1,"pr2"],[1,"col4","breakWord"],["fxLayout","row","fxLayoutGap","10"],["fxLayout","column","fxFlex","50",1,"pr2"],[1,"col3"],[1,"breakWord","col4"],[3,"name"],["alt","",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark",2,"color","darkorange"],[1,"breakWord",2,"font-size","16px"],[1,"fill-color-blue","bookMark",2,"color","#1FBFA9"],[1,"fill-color-blue","bookMark",2,"color","red"]],template:function(t,e){1&t&&(n.Sb(0,"br"),n.Xb(1,"div",0),n.fc("scrolled",function(t){return e.onScroll(t)}),n.Sb(2,"br"),n.Xb(3,"div",1),n.Xb(4,"div",2),n.Xb(5,"div",3),n.Xb(6,"span",4),n.Tc(7," KYC Task Summary "),n.Wb(),n.Wb(),n.Xb(8,"div",5),n.Xb(9,"div",6),n.Xb(10,"mat-form-field",7),n.Xb(11,"mat-label"),n.Tc(12,"Search Records"),n.Wb(),n.Xb(13,"div",8),n.Xb(14,"input",9),n.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),n.Wb(),n.Rc(15,ln,1,1,"mat-spinner",10),n.Wb(),n.Xb(16,"mat-icon",11),n.Tc(17,"search"),n.Wb(),n.Rc(18,bn,3,0,"button",12),n.Xb(19,"mat-hint"),n.Tc(20,"Search ID or Name"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(21,"br"),n.Xb(22,"div",13),n.Xb(23,"div",14),n.Xb(24,"mat-card",15),n.Xb(25,"div",16),n.Xb(26,"span",17),n.Xb(27,"h2",18),n.Tc(28),n.Wb(),n.Wb(),n.Wb(),n.Xb(29,"div"),n.Rc(30,mn,44,13,"div",19),n.Wb(),n.Sb(31,"br"),n.Wb(),n.Xb(32,"mat-card",15),n.Xb(33,"div",16),n.Xb(34,"span",17),n.Xb(35,"h2",18),n.Tc(36),n.Wb(),n.Wb(),n.Wb(),n.Xb(37,"div"),n.Rc(38,fn,44,13,"div",19),n.Wb(),n.Sb(39,"br"),n.Wb(),n.Xb(40,"mat-card",15),n.Xb(41,"div",16),n.Xb(42,"span",17),n.Xb(43,"h2",18),n.Tc(44),n.Wb(),n.Wb(),n.Wb(),n.Xb(45,"div"),n.Rc(46,Wn,44,13,"div",19),n.Wb(),n.Sb(47,"br"),n.Wb(),n.Xb(48,"mat-card",15),n.Xb(49,"div",16),n.Xb(50,"span",17),n.Xb(51,"h2",18),n.Tc(52),n.Wb(),n.Wb(),n.Wb(),n.Xb(53,"div"),n.Rc(54,Tn,44,13,"div",19),n.Wb(),n.Sb(55,"br"),n.Wb(),n.Wb(),n.Sb(56,"br"),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(1),n.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),n.Eb(13),n.rc("ngModel",e.searchText),n.Eb(1),n.rc("ngIf",e.loading),n.Eb(3),n.rc("ngIf",e.searchText),n.Eb(10),n.Wc("Pending for approval (",e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.INITIATEDArr),n.Eb(6),n.Wc("Ongoing (",e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.UNDER_PROCESSArr),n.Eb(6),n.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.APPROVEDArr),n.Eb(6),n.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.REJECTEDArr))},directives:[Ui.a,g.e,g.f,g.b,g.d,W.c,W.g,y.b,p.c,p.r,p.u,o.n,v.a,W.i,W.f,X.a,o.m,x.b,C.b,W.j,X.e,X.c,X.h,X.g,p.A,p.s,p.t,Bi],pipes:[sn.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.KYCtxt[_ngcontent-%COMP%]{text-transform:uppercase;color:#1fbfa9;font-size:11px}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#000}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.breakWord[_ngcontent-%COMP%]{overflow-wrap:anywhere}.content[_ngcontent-%COMP%]{padding:10px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.boldClass[_ngcontent-%COMP%]{font-weight:bolder}.innerMatCard[_ngcontent-%COMP%]{width:97%;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%;padding-left:55px;padding-right:55px}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.titleName[_ngcontent-%COMP%]{top:289px;left:492px;width:94px;height:15px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-600) 12px/15px Montserrat;font:normal normal 600 12px/15px Montserrat;color:#000}.fieldName[_ngcontent-%COMP%], .titleName[_ngcontent-%COMP%]{text-align:left;letter-spacing:0;opacity:1}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;font:normal normal medium 9px/11px Montserrat;color:#0f0f0f}.search[_ngcontent-%COMP%]{height:73%;border-radius:5px;margin-left:37.7%}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0!important}.mt-12[_ngcontent-%COMP%]{margin-top:12px}.search_field[_ngcontent-%COMP%]{height:100%;width:259px!important;left:60px;background:#fff}.pl-50[_ngcontent-%COMP%]{padding-left:3.8%;padding-top:1%}.graymatcard[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:42vh}.pr2[_ngcontent-%COMP%]{padding-right:2%}","[_nghost-%COMP%] {\n      \n      background-color: #F5F5F5;\n    }"]}),t})();function En(t,e){if(1&t&&(n.Xb(0,"mat-option",32),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Cn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0 \xa0Please Select the Prefix! "),n.Wb())}function xn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0 \xa0Enter the First Name "),n.Wb())}function Dn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0 \xa0Enter the Last Name "),n.Wb())}function On(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0 \xa0Please Select Date Of Birth "),n.Wb())}function An(t,e){if(1&t&&(n.Xb(0,"mat-option",32),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Rn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0 \xa0Select Marital Status "),n.Wb())}function Sn(t,e){if(1&t&&(n.Xb(0,"mat-option",32),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Nn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0 \xa0 Select Gender "),n.Wb())}function Pn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0 Prefix and Gender does not match! "),n.Wb())}function kn(t,e){if(1&t&&(n.Xb(0,"mat-option",32),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Fn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0\xa0 Select Nationality "),n.Wb())}function Ln(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-hint",34),n.fc("click",function(){n.Hc(t);const e=n.jc();return e.getOtp(e.primaryInfoForm.value)}),n.Tc(1),n.Wb()}if(2&t){const t=n.jc();n.Eb(1),n.Uc(t.emailVerify)}}function _n(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0 \xa0 Enter the Primary Email "),n.Wb())}function wn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," Please Enter valid email address! "),n.Wb())}function Un(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-hint",34),n.fc("click",function(){n.Hc(t);const e=n.jc();return e.getOtpMobile(e.primaryInfoForm.value)}),n.Tc(1),n.Wb()}if(2&t){const t=n.jc();n.Eb(1),n.Uc(t.verify)}}function Mn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0 \xa0 Enter the Mobile Number(maximum 10 digits) "),n.Wb())}function Gn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," Please Enter Mobile Number "),n.Wb())}function Vn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," Mobile number must be 10 digits. "),n.Wb())}function Bn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),n.Wb())}let jn=(()=>{class t{constructor(t,e,a,o,i){this.primaryInfo=t,this.dialogRef=e,this.apiService=a,this.snack=o,this.formBuilder=i,this.arrayCountry=[],this.arrayState=[],this.prefixFlag=!1,this.maxDate=new Date}ngOnInit(){console.log(this.primaryInfo),this.customerId=this.primaryInfo.customerId,this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getMaritalStatus("maritial_Status"),this.getCountryName("country"),this.getNationality("nationality"),this.getResidenceDetails("residence"),this.primaryInfo&&this.buildPrimaryInfoForm(this.primaryInfo)}buildPrimaryInfoForm(t){this.primaryInfoForm=this.formBuilder.group({customerId:[this.customerId],prefix:[t?t.prefix:"",[p.z.required]],firstName:[t?t.firstName:"",[p.z.required]],middleName:[t?t.middleName:""],lastName:[t?t.lastName:"",[p.z.required]],dateOfBirth:[t?t.dateOfBirth:"",[p.z.required]],maritalStatus:[t?t.maritalStatus:"",[p.z.required]],gender:[t?t.gender:"",[p.z.required]],nationality:[t?t.nationality:"",[p.z.required]],primaryEmailAdress:[t?t.primaryEmailAdress:"",[p.z.required,p.z.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],phoneNumber:[t?t.phoneNumber:"",[p.z.required]]})}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getGenderValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayGender=t})}getMaritalStatus(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayMaritalStatus=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName===t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayState.push(t[e].stateName)});break}})}getNationality(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.nationalityArray=t})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}onChangePrefix(t){""!=this.primaryInfoForm.value.gender&&("Mr"==t.value&&"Male"==this.primaryInfoForm.value.gender||("Ms"==t.value||"Mrs"==t.value)&&"Female"==this.primaryInfoForm.value.gender?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})))}onChangeGender(t){"Mr"==this.primaryInfoForm.value.prefix&&"Male"==t.value||("Ms"==this.primaryInfoForm.value.prefix||"Mrs"==this.primaryInfoForm.value.prefix)&&"Female"==t.value?this.prefixFlag=!1:(this.prefixFlag=!0,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}onSubmit(){const t=new o.f("en-US").transform(this.primaryInfoForm.value.dateOfBirth,"yyyy-MMM-dd");this.primaryInfoForm.value.dateOfBirth=t,this.primaryInfoForm.value.customerSubmit=!1,this.apiService.insertNewUserOnboarding(this.primaryInfoForm.value).subscribe(t=>{console.log(t),this.dialogRef.close({status:"INITIATED",resp:this.primaryInfoForm.value})})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(r.b),n.Rb(f.a),n.Rb(p.f))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-primary-info"]],decls:97,vars:25,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],[1,"full-width"],[1,"hintClass"],[1,"inputClass",2,"max-width","20%"],["formControlName","prefix","required","",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","errorClass",4,"ngIf"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"inputClass"],["type","text","matInput","","formControlName","firstName","required","",3,"keypress"],["type","text","matInput","","formControlName","middleName",3,"keypress"],["type","text","matInput","","formControlName","lastName","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","fxlayoutAlign","start start",1,"full-width"],["fxFlex","90%"],["matInput","","readonly","","formControlName","dateOfBirth","required","",1,"default-background",3,"matDatepicker","max"],["fxFlex","10%"],["matSuffix","",2,"height","0px","line-height","0px",3,"for"],["picker",""],["formControlName","maritalStatus","required",""],["formControlName","gender","required","",3,"selectionChange"],["formControlName","nationality","required",""],["fxFlex","90%","type","email","matInput","","formControlName","primaryEmailAdress","required",""],["fxFlex","10%","class","verification",3,"click",4,"ngIf"],["fxFlex","90%","type","text","onlyNumber","","maxlength","10","minlength","10","matInput","","formControlName","phoneNumber","required","","maxlength","10"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[1,"errorClass"],["fxFlex","10%",1,"verification",3,"click"]],template:function(t,e){if(1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h5",2),n.Tc(4,"Primary Information"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"form",3),n.Xb(7,"div",4),n.Xb(8,"div",5),n.Xb(9,"mat-hint",6),n.Tc(10,"Prefix*"),n.Wb(),n.Xb(11,"mat-card",7),n.Xb(12,"mat-select",8),n.fc("selectionChange",function(t){return e.onChangePrefix(t)}),n.Xb(13,"mat-option",9),n.Tc(14,"Select"),n.Wb(),n.Rc(15,En,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Rc(16,Cn,2,0,"mat-error",11),n.Wb(),n.Xb(17,"div",12),n.Xb(18,"mat-hint",6),n.Tc(19,"First Name*"),n.Wb(),n.Xb(20,"mat-card",13),n.Xb(21,"input",14),n.fc("keypress",function(t){return e.letterOnly(t)}),n.Wb(),n.Wb(),n.Rc(22,xn,2,0,"mat-error",11),n.Wb(),n.Xb(23,"div",12),n.Xb(24,"mat-hint",6),n.Tc(25,"Middle Name"),n.Wb(),n.Xb(26,"mat-card",13),n.Xb(27,"input",15),n.fc("keypress",function(t){return e.letterOnly(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(28,"div",12),n.Xb(29,"mat-hint",6),n.Tc(30,"Last Name"),n.Wb(),n.Xb(31,"mat-card",13),n.Xb(32,"input",16),n.fc("keypress",function(t){return e.letterOnly(t)}),n.Wb(),n.Wb(),n.Rc(33,Dn,2,0,"mat-error",11),n.Wb(),n.Xb(34,"div",17),n.Xb(35,"mat-hint",6),n.Tc(36,"Date of Birth*"),n.Wb(),n.Xb(37,"mat-card",13),n.Xb(38,"div",18),n.Sb(39,"input",19),n.Wb(),n.Xb(40,"div",20),n.Sb(41,"mat-datepicker-toggle",21),n.Wb(),n.Wb(),n.Rc(42,On,2,0,"mat-error",11),n.Sb(43,"mat-datepicker",null,22),n.Wb(),n.Xb(45,"div",12),n.Xb(46,"mat-hint",6),n.Tc(47,"Marital Status*"),n.Wb(),n.Xb(48,"mat-card",13),n.Xb(49,"mat-select",23),n.Xb(50,"mat-option",9),n.Tc(51,"Select"),n.Wb(),n.Rc(52,An,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Rc(53,Rn,2,0,"mat-error",11),n.Wb(),n.Xb(54,"div",12),n.Xb(55,"mat-hint",6),n.Tc(56,"Gender*"),n.Wb(),n.Xb(57,"mat-card",13),n.Xb(58,"mat-select",24),n.fc("selectionChange",function(t){return e.onChangeGender(t)}),n.Xb(59,"mat-option",9),n.Tc(60,"Select"),n.Wb(),n.Rc(61,Sn,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Rc(62,Nn,2,0,"mat-error",11),n.Rc(63,Pn,2,0,"mat-error",11),n.Wb(),n.Xb(64,"div",12),n.Xb(65,"mat-hint",6),n.Tc(66,"Nationality*"),n.Wb(),n.Xb(67,"mat-card",13),n.Xb(68,"mat-select",25),n.Xb(69,"mat-option",9),n.Tc(70,"Select"),n.Wb(),n.Rc(71,kn,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Rc(72,Fn,2,0,"mat-error",11),n.Wb(),n.Xb(73,"div",12),n.Xb(74,"mat-hint",6),n.Tc(75,"Primary Email*"),n.Wb(),n.Xb(76,"mat-card",13),n.Sb(77,"input",26),n.Rc(78,Ln,2,1,"mat-hint",27),n.Wb(),n.Rc(79,_n,2,0,"mat-error",11),n.Rc(80,wn,2,0,"mat-error",11),n.Wb(),n.Xb(81,"div",12),n.Xb(82,"mat-hint",6),n.Tc(83,"Mobile Number*"),n.Wb(),n.Xb(84,"mat-card",13),n.Sb(85,"input",28),n.Rc(86,Un,2,1,"mat-hint",27),n.Wb(),n.Rc(87,Mn,2,0,"mat-error",11),n.Rc(88,Gn,2,0,"mat-error",11),n.Rc(89,Vn,2,0,"mat-error",11),n.Rc(90,Bn,2,0,"mat-error",11),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(91,"div",29),n.Xb(92,"button",30),n.fc("click",function(){return e.onSubmit()}),n.Tc(93,"Save"),n.Wb(),n.Tc(94," \xa0\xa0\xa0 "),n.Xb(95,"button",31),n.fc("click",function(){return e.close()}),n.Tc(96," Cancel "),n.Wb(),n.Wb()),2&t){const t=n.Dc(44);n.Eb(6),n.rc("formGroup",e.primaryInfoForm),n.Eb(9),n.rc("ngForOf",e.arrayPrefix),n.Eb(1),n.rc("ngIf",e.primaryInfoForm.get("prefix").touched&&!e.primaryInfoForm.get("prefix").valid),n.Eb(6),n.rc("ngIf",e.primaryInfoForm.get("firstName")&&e.primaryInfoForm.get("firstName").touched&&!e.primaryInfoForm.get("firstName").valid),n.Eb(11),n.rc("ngIf",e.primaryInfoForm.get("lastName")&&e.primaryInfoForm.get("lastName").touched&&!e.primaryInfoForm.get("lastName").valid),n.Eb(6),n.rc("matDatepicker",t)("max",e.maxDate),n.Eb(2),n.rc("for",t),n.Eb(1),n.rc("ngIf",e.primaryInfoForm.get("dateOfBirth")&&e.primaryInfoForm.get("dateOfBirth").touched&&!e.primaryInfoForm.get("dateOfBirth").valid),n.Eb(10),n.rc("ngForOf",e.arrayMaritalStatus),n.Eb(1),n.rc("ngIf",e.primaryInfoForm.get("maritalStatus")&&e.primaryInfoForm.get("maritalStatus").touched&&!e.primaryInfoForm.get("maritalStatus").valid),n.Eb(8),n.rc("ngForOf",e.arrayGender),n.Eb(1),n.rc("ngIf",e.primaryInfoForm.get("gender")&&e.primaryInfoForm.get("gender").touched&&!e.primaryInfoForm.get("gender").valid),n.Eb(1),n.rc("ngIf",e.prefixFlag),n.Eb(8),n.rc("ngForOf",e.nationalityArray),n.Eb(1),n.rc("ngIf",e.primaryInfoForm.get("nationality")&&e.primaryInfoForm.get("nationality").touched&&!e.primaryInfoForm.get("nationality").valid),n.Eb(6),n.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").valid),n.Eb(1),n.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress")&&e.primaryInfoForm.get("primaryEmailAdress").touched&&!e.primaryInfoForm.get("primaryEmailAdress").valid),n.Eb(1),n.rc("ngIf",e.primaryInfoForm.get("primaryEmailAdress").hasError("pattern")),n.Eb(6),n.rc("ngIf",e.primaryInfoForm.get("phoneNumber").valid),n.Eb(1),n.rc("ngIf",e.primaryInfoForm.get("phoneNumber").touched&&!e.primaryInfoForm.get("phoneNumber").valid&&!e.primaryInfoForm.get("phoneNumber").hasError("minlength")),n.Eb(1),n.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("required")&&e.primaryInfoForm.get("phoneNumber").touched),n.Eb(1),n.rc("ngIf",e.primaryInfoForm.get("phoneNumber").hasError("pattern")),n.Eb(1),n.rc("ngIf","0000000000"==e.primaryInfoForm.get("phoneNumber").value),n.Eb(2),n.rc("disabled",e.primaryInfoForm.invalid)}},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,W.f,X.a,T.a,p.r,p.i,p.y,D.n,o.m,o.n,g.b,y.b,p.c,I.e,I.g,W.j,I.d,q.a,p.m,p.n,g.f,C.b,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}"]}),t})();function zn(t,e){1&t&&(n.Xb(0,"h2",32),n.Tc(1,"Comminucation Address"),n.Wb())}function qn(t,e){1&t&&(n.Xb(0,"h2"),n.Tc(1,"Permanent Address"),n.Wb())}function Jn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),n.Wb())}function Kn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0\xa0\xa0 Enter Valid Address "),n.Wb())}function $n(t,e){if(1&t&&(n.Xb(0,"mat-option",34),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Hn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0\xa0\xa0 Select Residence Type "),n.Wb())}function Yn(t,e){if(1&t&&(n.Xb(0,"mat-option",34),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Zn(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0\xa0\xa0 Select Country "),n.Wb())}function Qn(t,e){if(1&t&&(n.Xb(0,"mat-option",34),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.stateName),n.Eb(1),n.Vc(" ",t.stateName," ")}}function tr(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0\xa0\xa0 Please Select State "),n.Wb())}function er(t,e){if(1&t&&(n.Xb(0,"mat-option",34),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function ar(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0\xa0\xa0 Please Select City "),n.Wb())}function or(t,e){1&t&&(n.Xb(0,"mat-error",33),n.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!(5-10 digits) "),n.Wb())}function ir(t,e){1&t&&(n.Xb(0,"h5",35),n.Tc(1," \xa0\xa0\xa0Please enter valid Zip Code!"),n.Wb())}function nr(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",8),n.Rc(2,zn,2,0,"h2",9),n.Rc(3,qn,2,0,"h2",10),n.Xb(4,"div",11),n.Xb(5,"div",12),n.Xb(6,"mat-hint",13),n.Tc(7,"Address Line 1 *"),n.Wb(),n.Xb(8,"mat-card",14),n.Sb(9,"textarea",15),n.Wb(),n.Rc(10,Jn,2,0,"mat-error",16),n.Wb(),n.Xb(11,"div",12),n.Xb(12,"mat-hint",13),n.Tc(13,"Address Line 2 *"),n.Wb(),n.Xb(14,"mat-card",14),n.Sb(15,"textarea",17),n.Wb(),n.Rc(16,Kn,2,0,"mat-error",16),n.Wb(),n.Xb(17,"div",12),n.Xb(18,"mat-hint",13),n.Tc(19,"Residence Type *"),n.Wb(),n.Xb(20,"mat-card",14),n.Xb(21,"mat-select",18),n.Xb(22,"mat-option",19),n.Tc(23," Select"),n.Wb(),n.Rc(24,$n,2,2,"mat-option",20),n.Wb(),n.Wb(),n.Rc(25,Hn,2,0,"mat-error",21),n.Wb(),n.Xb(26,"div",12),n.Xb(27,"mat-hint",13),n.Tc(28,"Country *"),n.Wb(),n.Xb(29,"mat-card",14),n.Xb(30,"mat-select",22,23),n.fc("selectionChange",function(e){return n.Hc(t),n.jc().getStateName(e.value,"Communication")})("selectionChange",function(e){return n.Hc(t),n.jc().getCityName(e.value)}),n.Xb(32,"mat-option",19),n.Tc(33," Select"),n.Wb(),n.Rc(34,Yn,2,2,"mat-option",20),n.Wb(),n.Wb(),n.Rc(35,Zn,2,0,"mat-error",24),n.Wb(),n.Xb(36,"div",12),n.Xb(37,"mat-hint",13),n.Tc(38,"State*"),n.Wb(),n.Xb(39,"mat-card",14),n.Xb(40,"mat-select",25,26),n.fc("selectionChange",function(e){return n.Hc(t),n.jc().getCityName(e.value,"Communication")}),n.Xb(42,"mat-option",19),n.Tc(43,"Select "),n.Wb(),n.Rc(44,Qn,2,2,"mat-option",20),n.Wb(),n.Wb(),n.Rc(45,tr,2,0,"mat-error",16),n.Wb(),n.Xb(46,"div",12),n.Xb(47,"mat-hint",13),n.Tc(48,"City*"),n.Wb(),n.Xb(49,"mat-card",14),n.Xb(50,"mat-select",27,28),n.Xb(52,"mat-option",19),n.Tc(53,"Select "),n.Wb(),n.Rc(54,er,2,2,"mat-option",20),n.Wb(),n.Wb(),n.Rc(55,ar,2,0,"mat-error",16),n.Wb(),n.Xb(56,"div",12),n.Xb(57,"mat-hint",13),n.Tc(58,"Zip Code*"),n.Wb(),n.Xb(59,"mat-card",14),n.Xb(60,"input",29,30),n.fc("keyup",function(a){n.Hc(t);const o=e.index;return n.jc().isAllSameDigit(a,o)}),n.Wb(),n.Wb(),n.Rc(62,or,2,0,"mat-error",24),n.Rc(63,ir,2,0,"h5",31),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.jc();n.Eb(1),n.rc("formGroupName",a),n.Eb(1),n.rc("ngIf",0==a),n.Eb(1),n.rc("ngIf",a>0),n.Eb(7),n.rc("ngIf",t.controls.address1&&t.controls.address1.touched&&!t.controls.address1.valid||t.controls.address1.touched&&t.controls.address1.hasError("pattern")),n.Eb(6),n.rc("ngIf",t.controls.address2&&t.controls.address2.touched&&!t.controls.address2.valid||t.controls.address2.touched&&t.controls.address2.hasError("pattern")),n.Eb(8),n.rc("ngForOf",o.arrayResidence),n.Eb(1),n.rc("ngIf",t.controls.residenceType&&t.controls.residenceType.touched&&!t.controls.residenceType.valid),n.Eb(9),n.rc("ngForOf",o.arrayCountry),n.Eb(1),n.rc("ngIf",t.controls.country&&t.controls.country.touched&&!t.controls.country.valid),n.Eb(9),n.rc("ngForOf",o.arrayState),n.Eb(1),n.rc("ngIf",t.controls.state&&t.controls.state.touched&&!t.controls.state.valid),n.Eb(9),n.rc("ngForOf",o.arrayCity),n.Eb(1),n.rc("ngIf",t.controls.city&&t.controls.city.touched&&!t.controls.city.valid),n.Eb(7),n.rc("ngIf",t.controls.zipCode&&t.controls.zipCode.touched&&!t.controls.zipCode.valid),n.Eb(1),n.rc("ngIf",o.isAllSameDigitVal&&a==o.zipCodeIndex)}}let rr=(()=>{class t{constructor(t,e,a,o,i,n,r){this.dialogRef=t,this.contactInfo=e,this.formBuilder=a,this.ls=o,this.apiService=i,this.snack=n,this.cdr=r,this.userAddress_array=new p.d([]),this.arrayCity=[],this.arrayState=[],this.arrayCityPerm=[],this.arrayStatePerm=[],this.arrayCountryPerm=[],this.arrayCountry=[]}ngOnInit(){if(console.log(this.contactInfo),this.customerId=this.ls.getItem("customerId"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.contactInfo){this.buildContactInfoForm(),this.userAddress_array=this.contactInfoUpdateForm.get("userAddress_array");for(let t=0;t<this.contactInfo.length;t++)this.getStateName(this.contactInfo[t].country,this.contactInfo[t].addressType),this.getCityName(),this.userAddress_array.push(this.createUserAddress(this.contactInfo[t]))}else this.buildContactInfoForm(),this.userAddress_array.push(this.createUserAddress())}buildContactInfoForm(){this.contactInfoUpdateForm=this.formBuilder.group({userAddress_array:this.formBuilder.array([])})}createUserAddress(t){return this.formBuilder.group({addressType:["Communication",[p.z.required]],address1:[t?t.address1:[""],[p.z.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[p.z.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&(this.arrayCountry.push(t[e].countryName),this.arrayCountryPerm.push(t[e].countryName))})}getStateName(t,e){this.apiService.getAllCountries().subscribe(a=>{for(let o=0;o<a.length;o++)if(a[o].countryName==t){this.apiService.getStateByCountryId(a[o].id).subscribe(t=>{"Communication"===e?this.arrayState=t:"Permanent"===e&&(this.arrayStatePerm=t)});break}})}getCityName(){this.apiService.getAuthorizedCityInfo().subscribe(t=>t.map(t=>{this.arrayCity.push(t.cityName)}))}onSubmit(){var t={};t.customerId=this.customerId,t.userAddress=this.userAddress_array.value,t.userAddress&&2==t.userAddress.length&&(t.userAddress[1].addressType="Permanent"),this.apiService.insertNewUserOnboarding(t).subscribe(e=>{this.dialogRef.close({status:"INITIATED",resp:t.userAddress})},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}isAllSameDigit(t,e){console.log("zipIndex :: ",e),this.zipCodeIndex=e,this.cdr.detectChanges();let a=0,o=t.target.value;if(""!=o){for(var i=0;i<o.length;i++)0==o[i]&&a++;console.log("number :: ",o),console.log("isAllSameDigitVal :: ",a,o.length),a==o.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.g),n.Rb(b.a),n.Rb(p.f),n.Rb(l.a),n.Rb(r.b),n.Rb(f.a),n.Rb(n.h))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-contact-info"]],decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["formArrayName","userAddress_array","fxLayout","row wrap",1,"full-width"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row wrap",1,"full-width",3,"formGroupName"],["style","font-size: 18px;",4,"ngIf"],[4,"ngIf"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","address1","formControlName","address1","maxlength","255","required",""],["style","color: errorColor;",4,"ngIf"],["matInput","","name","address2","formControlName","address2","maxlength","255","required",""],["name","residenceType","formControlName","residenceType","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["style","color: errorColor",4,"ngIf"],["name","country","formControlName","country","required","",3,"selectionChange"],["country",""],["style","color: errorColor; ",4,"ngIf"],["name","state","required","","formControlName","state",1,"full-width","default-background",3,"selectionChange"],["state",""],["name","city","required","","formControlName","city",1,"full-width","default-background"],["city",""],["type","text","matInput","","name","zipCode","onlyNumber","","required","","minlength","5","maxlength","10","formControlName","zipCode",1,"full-width","default-background",3,"keyup"],["zipCode",""],["style","color: #E74C3C;",4,"ngIf"],[2,"font-size","18px"],[2,"color","errorColor"],[3,"value"],[2,"color","#E74C3C"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1"),n.Tc(4,"Contact Information"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"form",2),n.Xb(7,"div",3),n.Rc(8,nr,64,15,"div",4),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"div",5),n.Xb(10,"button",6),n.fc("click",function(){return e.onSubmit()}),n.Tc(11,"Save"),n.Wb(),n.Tc(12," \xa0\xa0\xa0 "),n.Xb(13,"button",7),n.fc("click",function(){return e.close()}),n.Tc(14," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("formGroup",e.contactInfoUpdateForm),n.Eb(2),n.rc("ngForOf",e.contactInfoUpdateForm.get("userAddress_array").controls),n.Eb(2),n.rc("disabled",e.contactInfoUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.e,p.A,p.s,p.j,p.e,o.m,g.f,C.b,p.k,o.n,g.b,W.f,X.a,y.b,p.c,p.r,p.i,p.m,p.y,T.a,D.n,q.a,p.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();var cr=a("KYk2"),sr=a("uKq3");let lr=(()=>{class t{constructor(t,e,a,o,i){this.ls=t,this.data=e,this.formBuilder=a,this.dialogRef=o,this.doOcrService=i,this.screenInfo={screenName:"onboarding",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}ngOnInit(){this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"onboarding",data:this.data,customerId:this.customerId,isEdit:!0},this.doOcrService.getenableNext().subscribe(t=>{console.log("data disableNextAtIndex1 :: ",t),this.disableNextAtIndex1=t})}createDocItemOthers(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}onSubmit(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(l.a),n.Rb(b.a),n.Rb(p.f),n.Rb(b.g),n.Rb(cr.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-proof-of-identity"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h3",2),n.Tc(4,"Proof Of Identity"),n.Wb(),n.Xb(5,"mat-card"),n.Sb(6,"app-genric-document-upload",3),n.Wb(),n.Xb(7,"div",4),n.Xb(8,"button",5),n.fc("click",function(){return e.onSubmit()}),n.Tc(9,"Save"),n.Wb(),n.Tc(10," \xa0\xa0\xa0 "),n.Xb(11,"button",6),n.fc("click",function(){return e.close()}),n.Tc(12," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("screenInfo",e.screenInfo),n.Eb(2),n.rc("disabled",e.disableNextAtIndex1))},directives:[g.e,g.d,v.a,X.a,sr.a,g.f,C.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function br(t,e){if(1&t&&(n.Xb(0,"mat-option",19),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function dr(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," \xa0 \xa0 Select Employment Type "),n.Wb())}function ur(t,e){if(1&t&&(n.Xb(0,"mat-option",19),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function mr(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," \xa0 \xa0 Select Employment Name "),n.Wb())}function pr(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," \xa0 \xa0 Enter the Employer Name "),n.Wb())}function hr(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",4),n.Xb(1,"mat-hint",5),n.Tc(2," Other Employer Name*"),n.Wb(),n.Xb(3,"mat-card",6),n.Xb(4,"input",20),n.fc("keypress",function(e){return n.Hc(t),n.jc().letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(5,pr,2,0,"mat-error",10),n.Wb()}if(2&t){const t=n.jc();n.Eb(5),n.rc("ngIf",t.additionalInfoUpdateForm.controls.otherEmployerName&&t.additionalInfoUpdateForm.controls.otherEmployerName.touched&&!t.additionalInfoUpdateForm.controls.otherEmployerName.valid)}}function fr(t,e){if(1&t&&(n.Xb(0,"mat-option",19),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}let gr=(()=>{class t{constructor(t,e,a,o,i){this.additionalInfo=t,this.dialogRef=e,this.formBuilder=a,this.apiService=o,this.ls=i,this.kycList=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED","VERIFIED"]}ngOnInit(){console.log(this.additionalInfo),this.customerId=this.ls.getItem("customerId"),this.getEmploymentType("employment_type"),this.getEmployerName("employer_name"),this.additionalInfo?(this.buildAdditionalInfoForm(this.additionalInfo),this.OnInput(this.additionalInfoUpdateForm.get("salary").value)):this.buildAdditionalInfoForm()}buildAdditionalInfoForm(t){this.additionalInfoUpdateForm=this.formBuilder.group({employmentType:[t?t.employmentType:"",[p.z.required]],employerName:[t?t.employerName:"",[p.z.required]],otherEmployerName:[t?t.otherEmployerName:""],salary:[t?t.salary:"",[p.z.required]],kycReference:[t?t.kycReference:"",[p.z.required]],kycStatus:[t?t.kycStatus:"",[p.z.required]]})}getEmploymentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentType=t,console.log(this.arrayEmploymentType)})}getEmployerName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmployerName=t})}OnInput(t){let e=t.toString().replace(/,/g,"").split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let a=e.join(".");console.log("final",a),this.additionalInfoUpdateForm.controls.salary.setValue(a)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}onSubmit(){let t={};t.customerId=this.customerId,t.customerAdditionalInfo=this.additionalInfoUpdateForm.value,t.customerAdditionalInfo.salary=t.customerAdditionalInfo.salary.replaceAll(",",""),this.apiService.insertNewUserOnboarding(t).subscribe(t=>{console.log(t),this.dialogRef.close({status:"INITIATED",resp:this.additionalInfoUpdateForm.value})})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(p.f),n.Rb(r.b),n.Rb(l.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-additional-info"]],decls:57,vars:8,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],[2,"font-size","18px"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["name","employmentType","required","","formControlName","employmentType"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employerName","formControlName","employerName","required",""],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["type","text","formControlName","salary","maxLength","14","required","","matInput","","name","salary",3,"keypress","keyup"],["readonly","true","type","text","formControlName","kycReference","matInput","","name","kycReference","maxLength","4"],["formControlName","kycStatus","read",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","25px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],["required","","type","text","matInput","","formControlName","otherEmployerName",3,"keypress"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1"),n.Tc(4,"Additional Information"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"form",2),n.Xb(7,"div"),n.Xb(8,"h3",3),n.Tc(9,"Employment Information"),n.Wb(),n.Xb(10,"div"),n.Xb(11,"div",4),n.Xb(12,"mat-hint",5),n.Tc(13,"Employment Type*"),n.Wb(),n.Xb(14,"mat-card",6),n.Xb(15,"mat-select",7),n.Xb(16,"mat-option",8),n.Tc(17,"Select"),n.Wb(),n.Rc(18,br,2,2,"mat-option",9),n.Wb(),n.Wb(),n.Rc(19,dr,2,0,"mat-error",10),n.Wb(),n.Xb(20,"div",4),n.Xb(21,"mat-hint",5),n.Tc(22,"Employer Name*"),n.Wb(),n.Xb(23,"mat-card",6),n.Xb(24,"mat-select",11),n.Xb(25,"mat-option",8),n.Tc(26,"Select"),n.Wb(),n.Rc(27,ur,2,2,"mat-option",9),n.Wb(),n.Wb(),n.Rc(28,mr,2,0,"mat-error",10),n.Wb(),n.Rc(29,hr,6,1,"div",12),n.Xb(30,"div",4),n.Xb(31,"mat-hint",5),n.Tc(32,"Salary*"),n.Wb(),n.Xb(33,"mat-card",6),n.Xb(34,"input",13),n.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.OnInput(t.target.value)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"h3",3),n.Tc(36,"KYC Information"),n.Wb(),n.Xb(37,"div"),n.Xb(38,"div",4),n.Xb(39,"mat-hint",5),n.Tc(40,"KYC Reference"),n.Wb(),n.Xb(41,"mat-card",6),n.Sb(42,"input",14),n.Wb(),n.Wb(),n.Xb(43,"div",4),n.Xb(44,"mat-hint",5),n.Tc(45,"KYC Status"),n.Wb(),n.Xb(46,"mat-card",6),n.Xb(47,"mat-select",15),n.Xb(48,"mat-option",8),n.Tc(49,"Select "),n.Wb(),n.Rc(50,fr,2,2,"mat-option",9),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(51,"div",16),n.Xb(52,"button",17),n.fc("click",function(){return e.onSubmit()}),n.Tc(53,"Save"),n.Wb(),n.Tc(54,"\n\xa0\xa0\xa0\n"),n.Xb(55,"button",18),n.fc("click",function(){return e.close()}),n.Tc(56,"\nCancel\n"),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("formGroup",e.additionalInfoUpdateForm),n.Eb(12),n.rc("ngForOf",e.arrayEmploymentType),n.Eb(1),n.rc("ngIf",e.additionalInfoUpdateForm.controls.employmentType&&e.additionalInfoUpdateForm.controls.employmentType.touched&&!e.additionalInfoUpdateForm.controls.employmentType.valid),n.Eb(8),n.rc("ngForOf",e.arrayEmployerName),n.Eb(1),n.rc("ngIf",e.additionalInfoUpdateForm.controls.employerName&&e.additionalInfoUpdateForm.controls.employerName.touched&&!e.additionalInfoUpdateForm.controls.employerName.valid),n.Eb(1),n.rc("ngIf","Others"==(null==e.additionalInfoUpdateForm.controls.employerName?null:e.additionalInfoUpdateForm.controls.employerName.value)),n.Eb(21),n.rc("ngForOf",e.kycList),n.Eb(2),n.rc("disabled",e.additionalInfoUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.e,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.y,p.r,p.i,D.n,o.m,o.n,p.c,y.b,g.f,C.b,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();var vr=a("IheW"),Wr=a("zdtB"),Xr=a("JVXa");function yr(t,e){if(1&t&&(n.Xb(0,"mat-option",18),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Tr(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," \xa0 \xa0 Enter No of Signatures "),n.Wb())}function Ir(t,e){1&t&&(n.Xb(0,"div"),n.Sb(1,"img",31),n.Wb()),2&t&&(n.Eb(1),n.rc("src","assets/images/no-image.jpg",n.Jc))}function Er(t,e){if(1&t&&n.Sb(0,"img",32),2&t){const t=n.jc().$implicit;n.rc("src",t.value.imageURL1,n.Jc)}}function Cr(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",19),n.Xb(2,"div",20),n.Xb(3,"div",6),n.Xb(4,"div",21),n.Xb(5,"div"),n.Xb(6,"div",22),n.Xb(7,"div"),n.Xb(8,"button",23),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index;return n.jc().openPopUp(a.value,o)}),n.Tc(9,"Digital Sign"),n.Wb(),n.Xb(10,"button",24),n.Tc(11," Upload "),n.Xb(12,"input",25),n.fc("change",function(a){n.Hc(t);const o=e.$implicit,i=e.index;return n.jc().onFileSelect(o.value,a,i)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(13,"div",26),n.Rc(14,Ir,2,1,"div",27),n.Rc(15,Er,1,1,"ng-template",null,28,n.Sc),n.Wb(),n.Xb(17,"button",29),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index;return n.jc().deleteSignature(a.value,o,"delete")}),n.Xb(18,"mat-icon",30),n.Tc(19," delete "),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.index,a=n.Dc(16),o=n.jc();n.Eb(1),n.rc("formGroupName",t),n.Eb(13),n.rc("ngIf","not_available"==o.imageURL1)("ngIfElse",a)}}let xr=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l){this.dialogRef=t,this.formBuilder=e,this.signatures=a,this.apiService=o,this.corporateService=i,this.ls=n,this.dialog=r,this.dialogService=c,this.snack=s,this.cdr=l,this.values=[1,2,3,4,5],this.listOfSignatures=[],this.progressValOthers=0,this.deleteRecord=[]}ngOnInit(){if(this.ls.getItem("corporateId"),this.signatures){this.buildSignatureForm(),this.noOfSignSelect=this.signatures.length,this.signatureUpdateForm.get("noOfSignatures").setValue(this.signatures.length);for(let t=0;t<this.signatures.length;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(this.signatures[t]))}}buildSignatureForm(t){this.signatureUpdateForm=this.formBuilder.group({noOfSignatures:[t?t.noOfSignatures:"",[p.z.required]],sign_array:this.formBuilder.array([])})}createSignatureBoxes(t){return this.formBuilder.group({accountSignatureId:t?t.accountSignatureId:0,imageURL1:[t?t.fileUrl:"assets/images/no-image.jpg",p.z.required],documentName:t?t.documentName:"Signature",documentType:t?t.documentType:"",fileType:t.fileType,fileName:t.fileName,verificationType:t?t.verificationType:"New Customer Signature"})}get getSignArray(){return this.signatureUpdateForm.get("sign_array")}changeValue(t){let e;if(this.noOfSignSelect=t.value,this.enableButton=!1,null==this.signatureUpdateForm.get("sign_array")||null==this.getSignArray)if(0!=this.signatureUpdateForm.get("sign_array").length){if(this.noOfSignSelect>this.signatureUpdateForm.get("sign_array").length){var a=this.noOfSignSelect-this.signatureUpdateForm.get("sign_array").length;for(let t=0;t<a;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""))}else if(this.noOfSignSelect<this.signatureUpdateForm.get("sign_array").length){a=this.signatureUpdateForm.get("sign_array").length-this.noOfSignSelect;for(let t=0;t<a;t++)this.signatureUpdateForm.get("sign_array").controls.pop()}}else for(let o=0;o<t.value;o++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(0==this.getSignArray.length)for(let o=0;o<t.value;o++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""));else if(t.value<this.getSignArray.length)this.dialogService.doConfirmDialog("Are you sure, value is less than no. of signs?").subscribe(a=>{if("Yes"===a){e=this.getSignArray.length;for(let a=e;a>=t.value;a--)this.removeSign(a),a>t.value&&this.deleteSignature(this.signatureUpdateForm.get("sign_array").at(a-1).value,a,"noOfSignChange",t.value)}});else if(t.value>this.getSignArray.length){console.log("2nd if",t.value),this.difference=t.value-this.getSignArray.length;for(let t=0;t<this.difference;t++)this.signatureUpdateForm.get("sign_array").push(this.createSignatureBoxes(""))}}removeSign(t){this.signatureUpdateForm.get("sign_array").removeAt(t)}deleteSignature(t,e,a,o){"delete"===a?this.dialogService.doConfirmDialog("").subscribe(o=>{"Yes"===o?(console.log("yes => ",o),this.confirmDelete(t,e,a,this.signatureUpdateForm.controls.noOfSignatures.value-1)):console.log("no => ",o)}):this.confirmDelete(t,e,a,this.signatureUpdateForm.controls.noOfSignatures.value-1)}confirmDelete(t,e,a,o){this.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(a=>{if(console.log(a),this.listOfSignatures=a||[],this.deleteRecord=a,this.apiService.getSignData().subscribe(t=>{this.signatureUpdateForm.get("sign_array").controls[e].accountSignatureId=t.uploadModel.accountSignatureId}),t.imageURL1.toString().includes("no-image.jpg"))return this.signatureUpdateForm.get("sign_array").controls.splice(e,1),this.signatureUpdateForm.controls.noOfSignatures.setValue(this.signatureUpdateForm.controls.noOfSignatures.value-1),this.noOfSignSelect=this.signatureUpdateForm.controls.noOfSignatures.value,void(this.enableButton=this.sign_array.length==this.signatureUpdateForm.controls.noOfSignatures.value);0!=this.deleteRecord[e].accountSignatureId&&null!=this.deleteRecord[e].accountSignatureId&&null!=this.deleteRecord[e].accountSignatureId&&""!=this.deleteRecord[e].accountSignatureId&&(this.apiService.deleteCustomerSign(this.deleteRecord[e].accountSignatureId).subscribe(t=>{},t=>{this.apiService.fetchSignatureInfo(localStorage.getItem("customerId")).subscribe(t=>{this.listOfSignatures=t||[],this.sign_array=t,this.enableButton=this.sign_array.length==this.signatureUpdateForm.controls.noOfSignatures.value&&(0!==this.listOfSignatures.length||0!==this.signatureUpdateForm.controls.noOfSignatures.value)})}),this.signatureUpdateForm.get("sign_array").controls.splice(e,1),this.signatureUpdateForm.controls.noOfSignatures.setValue(this.signatureUpdateForm.controls.noOfSignatures.value-1),this.noOfSignSelect=this.signatureUpdateForm.controls.noOfSignatures.value)})}openPopUp(t,e,a){var o;this.signIndex=e,this.customerId=localStorage.getItem("customerId"),this.signCount=localStorage.getItem("noOfSign"),this.accountSignatureId=t.accountSignatureId?t.accountSignatureId:null,this.enableButton=!1,1==this.listOfSignatures.length&&0==e?this.accountSignatureId=this.listOfSignatures[e].accountSignatureId:e>=0&&this.listOfSignatures.length>1?this.accountSignatureId=(null===(o=this.listOfSignatures[e])||void 0===o?void 0:o.accountSignatureId)?this.listOfSignatures[e].accountSignatureId:0:(console.log("else"),this.accountSignatureId=0),this.show||this.dialog.open(Wr.a,{width:"720px",disableClose:!0,data:{screen:"NewCustomerOnboarding",customerId:this.customerId,signCount:this.signatureUpdateForm.get("noOfSignatures").value,accountSignatureId:this.accountSignatureId,signatureType:"DigitalSign"}}).afterClosed().subscribe(t=>{null!=t.image?(this.enableButton=!0,this.signatureUpdateForm.get("sign_array").at(e).get("imageURL1").patchValue(t.image),this.show=!t.enable,this.getListOfSignatures(this.customerId,"Yes")):this.enableButton=!1})}getListOfSignatures(t,e){this.apiService.fetchSignatureInfo(t).subscribe(t=>{"Yes"===e&&(this.signatureUpdateForm.get("sign_array").controls[this.signIndex].accountSignatureId=t[t.length-1].accountSignatureId),this.listOfSignatures=t||[],this.cdr.detectChanges(),this.signatureUpdateForm.get("noOfSignatures").setValue(this.noOfSignSelect),this.enableButton=this.listOfSignatures.length==this.noOfSignSelect})}onFileSelect(t,e,a){if(this.apiService.fetchSignatureInfo(this.customerId).subscribe(t=>{}),this.selectedFiles=e.target.files[0],e.target.files){var o=new FileReader;o.readAsDataURL(e.target.files[0]),o.onload=t=>{this.signatureimg=t.target.result,console.log(this.signatureimg,"Upload image")},console.log(this.signatureimg),this.uploadDoc(t,e.target.files[0],this.selectedFiles,a,e),console.log("sign array -- ",this.signatureUpdateForm.get("sign_array"))}}uploadDoc(t,e,a,o,i){if(i.target.files){var n=new FileReader;n.readAsDataURL(i.target.files[0]),n.onload=t=>{this.signatureimg=t.target.result,this.customerId=localStorage.getItem("customerId"),this.signCount=this.signatureUpdateForm.get("noOfSignatures").value;const i=new FormData,n=new FormData;1==this.listOfSignatures.length&&0==o?(console.log("if"),this.accountSignatureId=this.listOfSignatures[o].accountSignatureId):o>=0&&1!=this.listOfSignatures.length?(console.log(" else if"),this.accountSignatureId=this.listOfSignatures[o].accountSignatureId):(console.log("else"),this.accountSignatureId=0);const r={noOfSignatures:this.signCount,accountSignatureId:this.accountSignatureId,documentName:"Signature",customerId:this.customerId,documentType:"10",fileType:e.type,fileName:e.name,verificationType:"New Customer Signature",signatureType:"Uploaded Sign"};i.append("noOfSignatures",this.signCount),i.append("uploadModel",JSON.stringify(r)),i.append("file",a);const c='{"noOfSignatures":'+this.signCount+', "uploadModel":'+JSON.stringify(r)+" } ";n.append("data",c),n.append("file",a),this.signatureUpdateForm.get("sign_array").at(o).get("imageURL1").patchValue(this.signatureimg),this.uploadSub=this.apiService.uploadSignature(n).subscribe(t=>{null!==t&&(this.signatureUpdateForm.get("sign_array").at(o).get("accountSignatureId").patchValue(t.accountSignatureId),this.signatureUpdateForm.get("sign_array").at(o).get("documentName").patchValue(t.documentName),this.signatureUpdateForm.get("sign_array").at(o).get("documentType").patchValue(t.documentType),this.signatureUpdateForm.get("sign_array").at(o).get("fileType").patchValue(t.fileType),this.signatureUpdateForm.get("sign_array").at(o).get("fileName").patchValue(t.fileName),this.signatureUpdateForm.get("sign_array").at(o).get("verificationType").patchValue(t.verificationType),this.signatureUpdateForm.get("noOfSignatures").patchValue(t.noOfSignatures),console.log(this.signatureUpdateForm)),this.getListOfSignatures(this.customerId,"No"),t.type==vr.e.UploadProgress?this.progressValOthers=Math.round(t.loaded/t.total*100):t.type==vr.e.Response&&(this.progressValOthers=0)},t=>{201==t.status?this.shotToast("Document Uploaded!"):(this.signatureUpdateForm.get("sign_array").at(o).get("imageURL1").patchValue(""),this.shotToast(t.message))})}}}onSubmit(){this.snack.open("Signature Updated","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:this.signatureUpdateForm.get("sign_array").value,screen:"signatureUpload"})}shotToast(t){this.snack.open(""+t,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.g),n.Rb(p.f),n.Rb(b.a),n.Rb(r.b),n.Rb(Xr.a),n.Rb(l.a),n.Rb(b.b),n.Rb(rn.a),n.Rb(f.a),n.Rb(n.h))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-mandate-info"]],decls:26,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[2,"font-size","16px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","36%","fxFlex.xs","100%"],[2,"padding-left","0.8rem","font-size","10px"],[1,"inputCard"],["name","noOfSignatures","formControlName","noOfSignatures","placeholder","Choose No. of Signatures","required","",1,"full-width","default-background",2,"font-size","16px","border","transparent",3,"selectionChange"],["noOfSignatures",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formArrayName","sign_array"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],[1,"form"],[1,"flex-grow-2"],["appearence","outline",1,"scanButton",3,"click"],[1,"Upload","scanButton"],["type","file","accept","image/*","required","",1,"changeInput",3,"change"],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","",2,"margin-left","10px","margin-top","30px",3,"click"],[2,"color","red"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Mandate Information"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"h3",3),n.Tc(7," Signatures "),n.Wb(),n.Xb(8,"form",4),n.Xb(9,"div",5),n.Xb(10,"div",6),n.Xb(11,"mat-hint",7),n.Tc(12," No. of Signatures* "),n.Wb(),n.Xb(13,"mat-card",8),n.Xb(14,"mat-select",9,10),n.fc("selectionChange",function(t){return e.changeValue(t)}),n.Rc(16,yr,2,2,"mat-option",11),n.Wb(),n.Wb(),n.Rc(17,Tr,2,0,"mat-error",12),n.Wb(),n.Wb(),n.Xb(18,"div",13),n.Rc(19,Cr,20,3,"div",14),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",15),n.Xb(21,"button",16),n.fc("click",function(){return e.onSubmit()}),n.Tc(22,"Save"),n.Wb(),n.Tc(23," \xa0\xa0\xa0 "),n.Xb(24,"button",17),n.fc("click",function(){return e.close()}),n.Tc(25," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(8),n.rc("formGroup",e.signatureUpdateForm),n.Eb(8),n.rc("ngForOf",e.values),n.Eb(1),n.rc("ngIf",e.signatureUpdateForm.controls.noOfSignatures&&e.signatureUpdateForm.controls.noOfSignatures.touched&&!e.signatureUpdateForm.controls.noOfSignatures.valid),n.Eb(2),n.rc("ngForOf",e.signatureUpdateForm.get("sign_array").controls))},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.r,p.i,p.y,o.m,o.n,p.e,g.f,C.b,D.n,W.b,p.k],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}.padding[_ngcontent-%COMP%]{padding:10px}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.formImg[_ngcontent-%COMP%]{background-color:#f8f8f8}.closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();const Dr=["ncForm"];function Or(t,e){1&t&&n.Sb(0,"mat-spinner")}function Ar(t,e){if(1&t&&(n.Xb(0,"span",27),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.Eb(1),n.Uc(t)}}function Rr(t,e){if(1&t&&(n.Xb(0,"div",28),n.Xb(1,"h1",29),n.Tc(2),n.kc(3,"slice"),n.kc(4,"uppercase"),n.kc(5,"slice"),n.kc(6,"uppercase"),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Oc("background",t.customerColorCode),n.Eb(2),n.Wc("",n.nc(3,4,n.lc(4,8,t.dataResponse.dataResp.firstName),0,1),"",n.nc(5,10,n.lc(6,14,t.dataResponse.dataResp.lastName),0,1),"")}}function Sr(t,e){if(1&t&&n.Sb(0,"img",31),2&t){const t=n.jc(2);n.rc("src",t.imageUrl,n.Jc)}}function Nr(t,e){if(1&t&&(n.Xb(0,"div",28),n.Rc(1,Sr,1,1,"img",30),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.rc("ngIf",null!=t.image)}}function Pr(t,e){if(1&t&&(n.Xb(0,"div",50),n.Xb(1,"mat-hint",51),n.Tc(2," Middle Name "),n.Wb(),n.Xb(3,"mat-card",52),n.Xb(4,"div"),n.Tc(5),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Eb(5),n.Uc(t.dataResponse.dataResp.middleName)}}function kr(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",32),n.Xb(1,"div",33),n.Xb(2,"div",34),n.Tc(3,"1"),n.Wb(),n.Xb(4,"div",35),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"mat-card",36),n.Xb(7,"div",37),n.Xb(8,"div",38),n.Xb(9,"div",39),n.Xb(10,"h2",40),n.Tc(11,"Primary Information"),n.Wb(),n.Xb(12,"span"),n.Xb(13,"mat-icon",41),n.fc("click",function(){return n.Hc(t),n.jc().editPrimaryInfo()}),n.Tc(14,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(15,"mat-divider",42),n.Wb(),n.Xb(16,"div",43),n.Xb(17,"div",44),n.Xb(18,"div",45),n.Xb(19,"div",46),n.Xb(20,"div",47),n.Xb(21,"div",48),n.Xb(22,"div",49),n.Xb(23,"div",50),n.Xb(24,"mat-hint",51),n.Tc(25," Customer Id "),n.Wb(),n.Xb(26,"mat-card",52),n.Xb(27,"div"),n.Tc(28),n.Wb(),n.Wb(),n.Wb(),n.Xb(29,"div",50),n.Xb(30,"mat-hint",51),n.Tc(31," Customer Status "),n.Wb(),n.Xb(32,"mat-card",52),n.Xb(33,"div"),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div",49),n.Xb(36,"div",50),n.Xb(37,"mat-hint",51),n.Tc(38," Prefix* "),n.Wb(),n.Xb(39,"mat-card",52),n.Xb(40,"div"),n.Tc(41),n.Wb(),n.Wb(),n.Wb(),n.Xb(42,"div",50),n.Xb(43,"mat-hint",51),n.Tc(44," First Name* "),n.Wb(),n.Xb(45,"mat-card",52),n.Xb(46,"div"),n.Tc(47),n.Wb(),n.Wb(),n.Wb(),n.Rc(48,Pr,6,1,"div",53),n.Xb(49,"div",50),n.Xb(50,"mat-hint",51),n.Tc(51," Last Name* "),n.Wb(),n.Xb(52,"mat-card",52),n.Xb(53,"div"),n.Tc(54),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(55,"div",49),n.Xb(56,"div",50),n.Xb(57,"mat-hint",51),n.Tc(58," Gender* "),n.Wb(),n.Xb(59,"mat-card",52),n.Xb(60,"div"),n.Tc(61),n.Wb(),n.Wb(),n.Wb(),n.Xb(62,"div",50),n.Xb(63,"mat-hint",51),n.Tc(64," Date of Birth* "),n.Wb(),n.Xb(65,"mat-card",52),n.Xb(66,"div"),n.Tc(67),n.Wb(),n.Wb(),n.Wb(),n.Xb(68,"div",50),n.Xb(69,"mat-hint",51),n.Tc(70," Marital Status* "),n.Wb(),n.Xb(71,"mat-card",52),n.Xb(72,"div"),n.Tc(73),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(74,"div",43),n.Xb(75,"div",50),n.Xb(76,"mat-hint",51),n.Tc(77," Nationality*"),n.Wb(),n.Xb(78,"mat-card",52),n.Xb(79,"div"),n.Tc(80),n.Wb(),n.Wb(),n.Wb(),n.Xb(81,"div",50),n.Xb(82,"mat-hint",51),n.Tc(83," Mobile Number* "),n.Wb(),n.Xb(84,"mat-card",52),n.Xb(85,"div"),n.Tc(86),n.Wb(),n.Wb(),n.Wb(),n.Xb(87,"div",50),n.Xb(88,"mat-hint",51),n.Tc(89," Email* "),n.Wb(),n.Xb(90,"mat-card",52),n.Xb(91,"div"),n.Tc(92),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(93,"div",43),n.Xb(94,"div",50),n.Xb(95,"mat-hint",51),n.Tc(96," Modification No"),n.Wb(),n.Xb(97,"mat-card",52),n.Xb(98,"div"),n.Tc(99),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(13),n.rc("hidden",t.editScreen),n.Eb(15),n.Uc(t.dataResponse.dataResp.customerId),n.Eb(6),n.Uc(t.dataResponse.dataResp.custStatus),n.Eb(7),n.Uc(t.dataResponse.dataResp.prefix),n.Eb(6),n.Uc(t.dataResponse.dataResp.firstName),n.Eb(1),n.rc("ngIf",t.dataResponse.dataResp.middleName),n.Eb(6),n.Uc(t.dataResponse.dataResp.lastName),n.Eb(7),n.Uc(t.dataResponse.dataResp.gender),n.Eb(6),n.Uc(t.dataResponse.dataResp.dateOfBirth),n.Eb(6),n.Uc(t.dataResponse.dataResp.maritalStatus),n.Eb(7),n.Uc(t.dataResponse.dataResp.nationality),n.Eb(6),n.Uc(t.dataResponse.dataResp.phoneNumber),n.Eb(6),n.Uc(t.dataResponse.dataResp.primaryEmailAdress),n.Eb(7),n.Uc(t.dataResponse.dataResp.modificationNo)}}function Fr(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div",43),n.Xb(2,"div",44),n.Xb(3,"div",58),n.Xb(4,"div",43),n.Xb(5,"div",59),n.Xb(6,"h2",60),n.Tc(7),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"div",43),n.Xb(9,"div",61),n.Xb(10,"mat-hint",51),n.Tc(11," Address Line 1* "),n.Wb(),n.Xb(12,"mat-card",52),n.Xb(13,"div"),n.Tc(14),n.Wb(),n.Wb(),n.Wb(),n.Xb(15,"div",61),n.Xb(16,"mat-hint",51),n.Tc(17," Address Line 2* "),n.Wb(),n.Xb(18,"mat-card",52),n.Xb(19,"div"),n.Tc(20),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(21,"div",43),n.Xb(22,"div",62),n.Xb(23,"mat-hint",51),n.Tc(24," Country* "),n.Wb(),n.Xb(25,"mat-card",52),n.Xb(26,"div"),n.Tc(27),n.Wb(),n.Wb(),n.Wb(),n.Xb(28,"div",62),n.Xb(29,"mat-hint",51),n.Tc(30," State* "),n.Wb(),n.Xb(31,"mat-card",52),n.Xb(32,"div"),n.Tc(33),n.Wb(),n.Wb(),n.Wb(),n.Xb(34,"div",62),n.Xb(35,"mat-hint",51),n.Tc(36," City* "),n.Wb(),n.Xb(37,"mat-card",52),n.Xb(38,"div"),n.Tc(39),n.Wb(),n.Wb(),n.Wb(),n.Xb(40,"div",62),n.Xb(41,"mat-hint",51),n.Tc(42," Zipcode* "),n.Wb(),n.Xb(43,"mat-card",52),n.Xb(44,"div"),n.Tc(45),n.Wb(),n.Wb(),n.Wb(),n.Xb(46,"div",62),n.Xb(47,"mat-hint",51),n.Tc(48," Residence Type* "),n.Wb(),n.Xb(49,"mat-card",52),n.Xb(50,"div"),n.Tc(51),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(7),n.Uc(t.addressType),n.Eb(7),n.Uc(t.address1),n.Eb(6),n.Uc(t.address2),n.Eb(7),n.Uc(t.country),n.Eb(6),n.Uc(t.state),n.Eb(6),n.Uc(t.city),n.Eb(6),n.Uc(t.zipCode),n.Eb(6),n.Uc(t.residenceType)}}function Lr(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",32),n.Xb(1,"div",33),n.Xb(2,"div",34),n.Tc(3,"2"),n.Wb(),n.Xb(4,"div",35),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"mat-card",54),n.Xb(7,"div",37),n.Xb(8,"div",55),n.Xb(9,"div",56),n.Xb(10,"div",39),n.Xb(11,"h2",40),n.Tc(12,"Contact Information"),n.Wb(),n.Xb(13,"span"),n.Xb(14,"mat-icon",41),n.fc("click",function(){return n.Hc(t),n.jc().editContactInfo()}),n.Tc(15,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(16,"mat-divider",42),n.Wb(),n.Rc(17,Fr,52,8,"div",57),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(14),n.rc("hidden",t.editScreen),n.Eb(3),n.rc("ngForOf",t.userAddress_array)}}function _r(t,e){1&t&&(n.Xb(0,"small",66),n.Tc(1,"No Data Found"),n.Wb())}function wr(t,e){if(1&t&&(n.Xb(0,"div",46),n.Xb(1,"div",50),n.Xb(2,"mat-hint",51),n.Tc(3," Document type* "),n.Wb(),n.Xb(4,"mat-card",52),n.Xb(5,"div"),n.Tc(6),n.Wb(),n.Wb(),n.Wb(),n.Xb(7,"div",50),n.Xb(8,"div",68),n.Sb(9,"img",69),n.Xb(10,"div"),n.Tc(11),n.Wb(),n.Wb(),n.Wb(),n.Xb(12,"div",50),n.Xb(13,"div",70),n.Xb(14,"a",71),n.Tc(15,"Download "),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(6),n.Uc(t.documentName),n.Eb(3),n.rc("src",t.fileUrl,n.Jc),n.Eb(2),n.Uc(t.fileName),n.Eb(3),n.sc("href",t.fileUrl,n.Jc)}}function Ur(t,e){if(1&t&&(n.Xb(0,"div"),n.Rc(1,wr,16,4,"div",67),n.Wb()),2&t){const t=n.jc(2);n.Eb(1),n.rc("ngForOf",t.custOtherDoc_array)}}function Mr(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",32),n.Xb(1,"div",33),n.Xb(2,"div",34),n.Tc(3,"3"),n.Wb(),n.Xb(4,"div",35),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"mat-card",63),n.Xb(7,"div",55),n.Xb(8,"div",56),n.Xb(9,"div",39),n.Xb(10,"h2",40),n.Tc(11,"Proof Of Identity"),n.Wb(),n.Xb(12,"span"),n.Xb(13,"mat-icon",41),n.fc("click",function(){return n.Hc(t),n.jc().editProofOfIdentity()}),n.Tc(14,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(15,"mat-divider",42),n.Wb(),n.Xb(16,"div"),n.Xb(17,"div",64),n.Xb(18,"div",58),n.Rc(19,_r,2,0,"small",65),n.Rc(20,Ur,2,1,"div",1),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(13),n.rc("hidden",t.editScreen),n.Eb(6),n.rc("ngIf",null==t.custOtherDoc_array),n.Eb(1),n.rc("ngIf",null!=t.custOtherDoc_array&&(null==t.custOtherDoc_array?null:t.custOtherDoc_array.length)>0)}}function Gr(t,e){if(1&t&&(n.Xb(0,"div",78),n.Xb(1,"mat-hint",51),n.Tc(2," Other Employer name* "),n.Wb(),n.Xb(3,"mat-card",52),n.Tc(4),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Eb(4),n.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName," ")}}function Vr(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",32),n.Xb(1,"div",33),n.Xb(2,"div",34),n.Tc(3,"4"),n.Wb(),n.Xb(4,"div",35),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"mat-card",72),n.Xb(7,"div",55),n.Xb(8,"div",56),n.Xb(9,"div",39),n.Xb(10,"h2",40),n.Tc(11,"Additional Information"),n.Wb(),n.Xb(12,"span"),n.Xb(13,"mat-icon",41),n.fc("click",function(){return n.Hc(t),n.jc().editAdditionalInfo()}),n.Tc(14,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(15,"mat-divider",42),n.Wb(),n.Xb(16,"div"),n.Xb(17,"div",64),n.Xb(18,"div",47),n.Xb(19,"div",73),n.Xb(20,"div",43),n.Xb(21,"div",59),n.Xb(22,"h2",60),n.Tc(23,"Employment Information "),n.Wb(),n.Wb(),n.Wb(),n.Xb(24,"div",43),n.Xb(25,"div",50),n.Xb(26,"mat-hint",51),n.Tc(27," Employment Type* "),n.Wb(),n.Xb(28,"mat-card",52),n.Xb(29,"div"),n.Tc(30),n.Wb(),n.Wb(),n.Wb(),n.Xb(31,"div",50),n.Xb(32,"mat-hint",51),n.Tc(33," Employer Name* "),n.Wb(),n.Xb(34,"mat-card",52),n.Xb(35,"div"),n.Tc(36),n.Wb(),n.Wb(),n.Wb(),n.Rc(37,Gr,5,1,"div",74),n.Xb(38,"div",50),n.Xb(39,"mat-hint",51),n.Tc(40," Salary* "),n.Wb(),n.Xb(41,"mat-card",52),n.Xb(42,"div"),n.Tc(43),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Tc(44,"\xa0\xa0\xa0\xa0 "),n.Xb(45,"div",75),n.Xb(46,"div",43),n.Xb(47,"div",59),n.Xb(48,"h2",60),n.Tc(49,"KYC Information"),n.Wb(),n.Wb(),n.Wb(),n.Xb(50,"div",43),n.Xb(51,"div",61),n.Xb(52,"mat-hint",51),n.Tc(53," KYC Reference* "),n.Wb(),n.Xb(54,"mat-card",52),n.Xb(55,"div"),n.Tc(56),n.Wb(),n.Wb(),n.Wb(),n.Xb(57,"div",61),n.Xb(58,"mat-hint",51),n.Tc(59," KYC Status* "),n.Wb(),n.Xb(60,"mat-card",76),n.Xb(61,"div",77),n.Tc(62),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(13),n.rc("hidden",t.editScreen),n.Eb(17),n.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.employmentType," "),n.Eb(6),n.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.employerName," "),n.Eb(1),n.rc("ngIf",t.dataResponse.dataResp.customerAdditionalInfo.otherEmployerName),n.Eb(6),n.Vc("",t.dataResponse.dataResp.customerAdditionalInfo.salary," "),n.Eb(13),n.Vc(" ",t.dataResponse.dataResp.customerAdditionalInfo.kycReference," "),n.Eb(6),n.Vc(" ",t.kycStatus," ")}}function Br(t,e){1&t&&(n.Xb(0,"small",66),n.Tc(1,"No Signatures Available "),n.Wb())}function jr(t,e){1&t&&(n.Xb(0,"div"),n.Sb(1,"img",86),n.Wb()),2&t&&(n.Eb(1),n.rc("src","assets/images/no-image.jpg",n.Jc))}function zr(t,e){if(1&t&&n.Sb(0,"img",87),2&t){const t=n.jc().$implicit;n.rc("src",t.fileUrl,n.Jc)}}function qr(t,e){if(1&t&&(n.Xb(0,"div",43),n.Xb(1,"div"),n.Tc(2),n.Wb(),n.Xb(3,"div",83),n.Rc(4,jr,2,1,"div",84),n.Rc(5,zr,1,1,"ng-template",null,85,n.Sc),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=n.Dc(6);n.Eb(2),n.Vc(" ",t.signatureType," "),n.Eb(2),n.rc("ngIf",null==t.fileUrl)("ngIfElse",a)}}function Jr(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div"),n.Xb(2,"div"),n.Xb(3,"div"),n.Rc(4,qr,7,3,"div",82),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Eb(4),n.rc("ngForOf",t.signatureDetails_array)}}function Kr(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",32),n.Xb(1,"div",33),n.Xb(2,"div",34),n.Tc(3,"5"),n.Wb(),n.Xb(4,"div",35),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"mat-card",72),n.Xb(7,"div",55),n.Xb(8,"div",56),n.Xb(9,"div",39),n.Xb(10,"h2",40),n.Tc(11,"Mandate Information"),n.Wb(),n.Xb(12,"span"),n.Xb(13,"mat-icon",41),n.fc("click",function(){return n.Hc(t),n.jc().editMandateInfo()}),n.Tc(14,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(15,"mat-divider",42),n.Wb(),n.Xb(16,"div"),n.Xb(17,"div",64),n.Xb(18,"div",47),n.Xb(19,"div",73),n.Sb(20,"div",43),n.Xb(21,"div",43),n.Xb(22,"div",50),n.Xb(23,"mat-hint",51),n.Tc(24," No of Signatures* "),n.Wb(),n.Xb(25,"mat-card",52),n.Xb(26,"div"),n.Tc(27),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Tc(28,"\xa0\xa0\xa0\xa0 "),n.Wb(),n.Wb(),n.Wb(),n.Xb(29,"div",64),n.Xb(30,"div",79),n.Xb(31,"div",80),n.Xb(32,"div",81),n.Xb(33,"h2",60),n.Tc(34,"Signatures"),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div"),n.Rc(36,Br,2,0,"small",65),n.Rc(37,Jr,5,1,"div",1),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(13),n.rc("hidden",t.editScreen),n.Eb(14),n.Vc(" ",t.noOFSigns," "),n.Eb(9),n.rc("ngIf",null==t.signatureDetails_array),n.Eb(1),n.rc("ngIf",null!=t.signatureDetails_array&&(null==t.signatureDetails_array?null:t.signatureDetails_array.length)>0)}}const $r=function(t,e){return{disabledbtn:t,continueBtn:e}},Hr=function(t,e){return{disabledbtn:t,rejectButton:e}},Yr=function(t,e){return{disabledbtn:t,approveButton:e}};function Zr(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",88),n.Xb(1,"div",89),n.fc("click",function(){return n.Hc(t),n.jc().continue()}),n.Xb(2,"label",90),n.Tc(3,"Cotinue"),n.Wb(),n.Wb(),n.Xb(4,"div",91),n.fc("click",function(){n.Hc(t);const e=n.jc();return e.updateApplicationStatus(e.dataResponse,"REJECTED")}),n.Xb(5,"mat-icon",92),n.Tc(6," highlight_off "),n.Wb(),n.Tc(7,"\xa0\xa0\xa0 "),n.Xb(8,"label",93),n.Tc(9,"Reject"),n.Wb(),n.Wb(),n.Tc(10," \xa0\xa0 "),n.Xb(11,"div",94),n.fc("click",function(){n.Hc(t);const e=n.jc();return e.updateApplicationStatus(e.dataResponse,"APPROVED")}),n.Xb(12,"mat-icon",95),n.Tc(13,"check_circle"),n.Wb(),n.Tc(14,"\xa0\xa0\xa0 "),n.Xb(15,"label",96),n.Tc(16,"Approve"),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(1),n.rc("hidden",t.continueStatus)("ngClass",n.yc(7,$r,t.continueStatus,!t.continueStatus)),n.Eb(3),n.rc("hidden",t.rejectedStatus)("hidden",t.rejectedStatus)("ngClass",n.yc(10,Hr,t.rejectedStatus,!t.rejectedStatus)),n.Eb(7),n.rc("hidden",t.approvedStatus)("ngClass",n.yc(13,Yr,t.approvedStatus,!t.approvedStatus))}}let Qr=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l,b){this.tasSumService=t,this.cdr=e,this.router=a,this.apiService=o,this.ls=i,this.dialogRef=n,this.dataResponse=r,this.sanitizer=c,this.snack=s,this.dialog=l,this.jwtService=b,this.selectedIndex=0,this.addNewProof=!1,this.arrayPrefix=[],this.arrayGender=[],this.arrayMaritalStatus=[],this.arrayCountry=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayEmploymentType=[],this.arrayEmployerName=[],this.otherDocumentArray=[],this.proofDocumentArray=[],this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}ngOnInit(){setTimeout(()=>{this.loading=!0,console.log("dataResponse.dataResp.customerId",this.dataResponse.dataResp.customerId),console.log("dataResponse.dataResp.accountId",this.dataResponse.dataResp.accountId),this.customerId=this.dataResponse.dataResp.customerId,this.ls.setItem("customerId",this.customerId),this.getCustomerDocumentsDetails(this.customerId),console.log(this.customerId),this.phoneNum=this.dataResponse.dataResp.phoneNumber,this.emailID=this.dataResponse.dataResp.primaryEmailAdress,console.log("Dataas",this.dataResponse,this.phoneNum,this.emailID),this.customerColorCode=localStorage.getItem("CustomerColorCode"),this.imageUrl=this.dataResponse.dataResp.profileImage,this.status=this.dataResponse.dataResp.custStatus,this.errorStatus=this.dataResponse.dataResp.custStatus,this.userAddress_array=this.dataResponse.dataResp.userAddress,this.custIdProofs_array=this.dataResponse.dataResp.custIdProofs,console.log("result::",this.custIdProofs_array),"REJECTED"===this.status?(this.rejectedStatus=!0,this.approvedStatus=!0,this.editScreen=!1,this.continueStatus=!0):"INITIATED"===this.status?(this.rejectedStatus=!1,this.approvedStatus=!1,this.editScreen=!1,this.continueStatus=!0):"APPROVED"===this.status?(this.rejectedStatus=!0,this.approvedStatus=!0,this.editScreen=!0,this.continueStatus=!0):"UNDER_PROCESS"===this.status&&(this.rejectedStatus=!1,this.approvedStatus=!0,this.editScreen=!1,this.continueStatus=!1),this.getProfileImage(this.dataResponse.dataResp.customerId),this.fetchSignatureDetails(this.dataResponse.dataResp.customerId)},5e3),"NULL"!==this.dataResponse.dataResp.customerAdditionalInfo.kycStatus&&(this.kycStatus=this.dataResponse.dataResp.customerAdditionalInfo.kycStatus)}goToCustOnboarding(){console.log("Navigating to edit screen"),this.apiService.updateKycStatusByCustId(this.dataResponse.dataResp.customerId,"","UNDER_PROCESS").subscribe(t=>{}),this.router.navigateByUrl("/others/newCustomerOnboarding"),console.log(this.dataResponse);var t=this.dataResponse.dataResp.kycReference.split("KYC_");console.log(t[1]),this.ls.setItem("EDIT-KYCDETAILS",t[1]),console.log(this.ls.getItem("EDIT-KYCDETAILS")),this.dialogRef.close({message:"Confirm"})}getCustomerDocumentsDetails(t){this.apiService.getCustomerAllDocuments(t,[6,7,8]).subscribe(t=>{this.loading=!1,this.custOtherDoc_array=t,null!=t&&(this.documentName=this.custOtherDoc_array[0].fileName,console.log("custOtherDoc_array::",this.custOtherDoc_array))})}updateApplicationStatus(t,e,a){t.dataResp.customerAdditionalInfo.kycStatus=e,this.statusUpdate=e,this.apiService.updateKycStatusByCustId(t.dataResp.customerId,"",e).subscribe(t=>{null!=t&&(this.cdr.markForCheck(),this.cdr.detectChanges(),1!=a&&this.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),this.snack.open(""+e,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},t=>{console.log("error resp :: ",t),this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(t){t.recordStatus=this.statusUpdate,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}getProfileImage(t){this.apiService.getProfileDetails(t).subscribe(t=>{null!=t.profileImage&&(this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},t=>{})}fetchSignatureDetails(t){console.log("inside fetchSignatureDetails method"),this.apiService.getSignatureDocuments(t).subscribe(t=>{console.log(t),console.log(t.length),this.noOFSigns=t.length,this.signatureDetails_array=t},t=>{console.log(t)})}openEditScreen(t,e){this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{console.log(t),this.status=t.status,"INITIATED"==t.status&&(this.updateApplicationStatus(this.dataResponse,"INITIATED",!0),t.screen||Object.assign(e,t.resp),"documentUpload"==t.screen&&this.getCustomerDocumentsDetails(this.customerId),"signatureUpload"==t.screen&&this.fetchSignatureDetails(this.customerId)),this.cdr.markForCheck(),this.cdr.detectChanges()})}editPrimaryInfo(){this.openEditScreen(jn,this.dataResponse.dataResp)}editContactInfo(){this.openEditScreen(rr,this.userAddress_array)}editProofOfIdentity(){this.openEditScreen(lr,this.proofDoc_array)}editAdditionalInfo(){this.openEditScreen(gr,this.dataResponse.dataResp.customerAdditionalInfo)}editMandateInfo(){this.openEditScreen(xr,this.signatureDetails_array)}continue(){this.ls.setItem("customerId",this.dataResponse.dataResp.customerId),this.ls.setItem("currentKycTabIndex",0),window.open(`${jo.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=INDIVIDUALONBOARDING&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(m.a),n.Rb(n.h),n.Rb(je.h),n.Rb(r.b),n.Rb(l.a),n.Rb(b.g),n.Rb(b.a),n.Rb(qo.b),n.Rb(f.a),n.Rb(b.b),n.Rb(zo.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-cust-on-boarding-approver"]],viewQuery:function(t,e){if(1&t&&n.ad(Dr,!0),2&t){let t;n.Cc(t=n.gc())&&(e.ncForm=t.first)}},inputs:{initiatedArr:"initiatedArr"},decls:55,vars:18,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Primary Information",2,"border-radius","0px","width","800px"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width",2,"padding","1rem 1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[2,"font-size","18px"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px","width","750px"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"padding-bottom","1rem"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["fxFlex","33%","fxFlex.xs","100%",4,"ngIf"],["label","Contact Information",2,"border-radius","0px","width","800px"],[1,"full-width",2,"padding","1rem"],[2,"padding-bottom","1rem"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxFlex","40%","fxFlex.xs","50%",2,"padding","0.5rem 0.5rem"],[2,"font-size","16px"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["label","Proof Of Identity",2,"border-radius","0px","width","800px"],[2,"padding","1rem 0"],["style","color: grey;",4,"ngIf"],[2,"color","grey"],["class","full-width",4,"ngFor","ngForOf"],[2,"text-align","center"],["required","","alt","",1,"formImg2",3,"src"],[2,"margin-top","35px"],["download","",2,"color","#4A56E2","text-decoration","underline",3,"href"],["label","Other Information",2,"border-radius","0px","width","800px"],["fxFlex","59%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","39%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],[1,"mat1",2,"width","98%"],[1,"mat11"],["fxFlex","40%","fxFlex.xs","100%"],["fxFlex","100%","fxFlex.xs","100%",1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["fxLayout","row","fxLayoutAlign","space-between center",2,"padding","1rem 0"],["fxFlex","15%","fxFlex.xs","50%"],["fxLayout","row wrap","style","padding: 0.5rem 0;","class","full-width",4,"ngFor","ngForOf"],[1,"imgCard"],[4,"ngIf","ngIfElse"],["showAvatar",""],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(n.Xb(0,"form"),n.Xb(1,"div",0),n.Rc(2,Or,1,0,"mat-spinner",1),n.Wb(),n.Xb(3,"div",2),n.Xb(4,"div",3),n.Xb(5,"div",4),n.Xb(6,"div"),n.Xb(7,"mat-icon",5),n.fc("click",function(){return e.close(e.dataResponse)}),n.Tc(8," close"),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"div",6),n.Xb(10,"div",7),n.Xb(11,"div",8),n.Xb(12,"div",9),n.Rc(13,Ar,2,1,"span",10),n.Wb(),n.Xb(14,"div",11),n.Xb(15,"div",12),n.Sb(16,"img",13),n.Tc(17,"\xa0 "),n.Xb(18,"div"),n.Xb(19,"span",14),n.Tc(20),n.Wb(),n.Sb(21,"br"),n.Xb(22,"span",15),n.Tc(23),n.Wb(),n.Wb(),n.Wb(),n.Xb(24,"div",16),n.Xb(25,"mat-icon",17),n.Tc(26,"phone "),n.Wb(),n.Tc(27,"\xa0\xa0\xa0 "),n.Xb(28,"span",18),n.Tc(29),n.Wb(),n.Wb(),n.Xb(30,"div",16),n.Xb(31,"mat-icon",17),n.Tc(32," mail_outline"),n.Wb(),n.Tc(33,"\xa0\xa0 \xa0 "),n.Xb(34,"span",19),n.Tc(35),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"div",20),n.Xb(37,"div",21),n.Rc(38,Rr,7,16,"div",22),n.Rc(39,Nr,2,1,"div",23),n.Wb(),n.Wb(),n.Sb(40,"br"),n.Sb(41,"br"),n.Sb(42,"br"),n.Sb(43,"br"),n.Xb(44,"div",24),n.Xb(45,"h2"),n.Tc(46),n.Wb(),n.Wb(),n.Rc(47,kr,100,14,"div",25),n.Rc(48,Lr,18,2,"div",25),n.Sb(49,"br"),n.Rc(50,Mr,21,3,"div",25),n.Rc(51,Vr,63,7,"div",25),n.Rc(52,Kr,38,4,"div",25),n.Rc(53,Zr,17,16,"div",26),n.Sb(54,"br"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(2),n.rc("ngIf",e.loading),n.Eb(11),n.rc("ngForOf",e.nameCreater),n.Eb(7),n.Vc("",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.createdBy," "),n.Eb(3),n.Vc("EID #",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.creatorId,""),n.Eb(6),n.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.mobile," "),n.Eb(6),n.Vc(" ",null==e.dataResponse.dataResp.createdByInfo?null:e.dataResponse.dataResp.createdByInfo.email," "),n.Eb(3),n.rc("ngIf","not_available"==e.imageUrl),n.Eb(1),n.rc("ngIf","not_available"!=e.imageUrl),n.Eb(7),n.Yc("",e.dataResponse.dataResp.prefix,"\xa0",e.dataResponse.dataResp.firstName,"\xa0",e.dataResponse.dataResp.middleName,"\xa0",e.dataResponse.dataResp.lastName," "),n.Eb(1),n.rc("ngIf",!e.loading),n.Eb(1),n.rc("ngIf",!e.loading),n.Eb(2),n.rc("ngIf",!e.loading),n.Eb(1),n.rc("ngIf",!e.loading),n.Eb(1),n.rc("ngIf",!e.loading),n.Eb(1),n.rc("ngIf",!e.loading))},directives:[p.A,p.s,p.t,g.d,o.n,g.e,v.a,o.m,X.c,x.b,g.b,X.a,ka.a,W.f,g.f,o.l,Jo.a],pipes:[o.v,o.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.editbtn{color:#0e7cc5;cursor:pointer}.num{background-color:#fff;border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;margin-top:15px}.cancelIcon{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton{top:6705px;left:969px;width:183px;height:41px;margin-right:15%;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon{top:6716px;left:1009px;width:24px;height:24px}.approveIcon,.approvelabel{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.hint1{padding:13px}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:2%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:1px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 2.7rem;color:#fff}.mat1{height:3.3rem}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.continueBtn{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"],encapsulation:2}),t})();var tc=function(t,e,a,o){return new(a||(a=Promise))(function(i,n){function r(t){try{s(o.next(t))}catch(e){n(e)}}function c(t){try{s(o.throw(t))}catch(e){n(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})};function ec(t,e){1&t&&n.Sb(0,"mat-spinner",20),2&t&&n.rc("diameter",15)}function ac(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",21),n.fc("click",function(){return n.Hc(t),n.jc().clear()}),n.Xb(1,"mat-icon"),n.Tc(2,"close"),n.Wb(),n.Wb()}}function oc(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",38),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function ic(t,e){if(1&t&&n.Sb(0,"img",39),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function nc(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",22),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToCustOnBoardingSummary(a,"INITATED",i.getRandomColor(o+3))}),n.Xb(1,"div",23),n.Xb(2,"mat-icon",24),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",25),n.Xb(9,"div",26),n.Rc(10,oc,2,1,"div",27),n.Rc(11,ic,1,1,"ng-template",null,28,n.Sc),n.Wb(),n.Xb(13,"mat-card-title",29),n.Tc(14),n.Wb(),n.Xb(15,"mat-card-subtitle"),n.Tc(16),n.Wb(),n.Wb(),n.Xb(17,"form",30),n.Xb(18,"div",31),n.Xb(19,"div",32),n.Xb(20,"span"),n.Tc(21,"Kyc Reference "),n.Wb(),n.Xb(22,"span",33),n.Tc(23),n.Wb(),n.Wb(),n.Xb(24,"div",32),n.Xb(25,"span"),n.Tc(26,"Customer Status"),n.Wb(),n.Xb(27,"span",33),n.Tc(28),n.Wb(),n.Wb(),n.Wb(),n.Sb(29,"br"),n.Xb(30,"div",34),n.Xb(31,"div",32),n.Xb(32,"span",35),n.Tc(33,"Mobile Number"),n.Wb(),n.Xb(34,"span",36),n.Tc(35),n.Wb(),n.Wb(),n.Xb(36,"div",32),n.Xb(37,"span",35),n.Tc(38,"Email"),n.Wb(),n.Xb(39,"span",37),n.Tc(40),n.Wb(),n.Wb(),n.Wb(),n.Sb(41,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(12);n.Eb(6),n.Uc(n.lc(7,12,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(2),n.Vc("#",t.customerId,""),n.Eb(7),n.Uc(t.kycReference),n.Eb(5),n.Uc(t.custStatus),n.Eb(7),n.Uc(t.phoneNumber),n.Eb(5),n.Uc(t.primaryEmailAdress)}}function rc(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",38),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function cc(t,e){if(1&t&&n.Sb(0,"img",39),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function sc(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",22),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToCustOnBoardingSummary(a,"UNDER_PROCESS",i.getRandomColor(o+6))}),n.Xb(1,"div",23),n.Xb(2,"mat-icon",40),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",25),n.Xb(9,"div",26),n.Rc(10,rc,2,1,"div",27),n.Rc(11,cc,1,1,"ng-template",null,28,n.Sc),n.Wb(),n.Xb(13,"mat-card-title",29),n.Tc(14),n.Wb(),n.Xb(15,"mat-card-subtitle"),n.Tc(16),n.Wb(),n.Wb(),n.Xb(17,"form",30),n.Xb(18,"div",31),n.Xb(19,"div",32),n.Xb(20,"span"),n.Tc(21,"Kyc Reference "),n.Wb(),n.Xb(22,"span",33),n.Tc(23),n.Wb(),n.Wb(),n.Xb(24,"div",32),n.Xb(25,"span"),n.Tc(26,"Customer Status"),n.Wb(),n.Xb(27,"span",33),n.Tc(28),n.Wb(),n.Wb(),n.Wb(),n.Sb(29,"br"),n.Xb(30,"div",34),n.Xb(31,"div",32),n.Xb(32,"span",35),n.Tc(33,"Mobile Number"),n.Wb(),n.Xb(34,"span",36),n.Tc(35),n.Wb(),n.Wb(),n.Xb(36,"div",32),n.Xb(37,"span",35),n.Tc(38,"Email"),n.Wb(),n.Xb(39,"span",37),n.Tc(40),n.Wb(),n.Wb(),n.Wb(),n.Sb(41,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(12);n.Eb(6),n.Uc(n.lc(7,12,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(2),n.Vc("#",t.customerId,""),n.Eb(7),n.Uc(t.kycReference),n.Eb(5),n.Uc(t.custStatus),n.Eb(7),n.Uc(t.phoneNumber),n.Eb(5),n.Uc(t.primaryEmailAdress)}}function lc(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",38),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function bc(t,e){if(1&t&&n.Sb(0,"img",39),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function dc(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",22),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToCustOnBoardingSummary(a,"APPROVED",i.getRandomColor(o+12))}),n.Xb(1,"div",23),n.Xb(2,"mat-icon",41),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",25),n.Xb(9,"div",26),n.Rc(10,lc,2,1,"div",27),n.Rc(11,bc,1,1,"ng-template",null,28,n.Sc),n.Wb(),n.Xb(13,"mat-card-title",29),n.Tc(14),n.Wb(),n.Xb(15,"mat-card-subtitle"),n.Tc(16),n.Wb(),n.Wb(),n.Xb(17,"form",30),n.Xb(18,"div",31),n.Xb(19,"div",32),n.Xb(20,"span"),n.Tc(21,"Kyc Reference "),n.Wb(),n.Xb(22,"span",33),n.Tc(23),n.Wb(),n.Wb(),n.Xb(24,"div",32),n.Xb(25,"span"),n.Tc(26,"Customer Status"),n.Wb(),n.Xb(27,"span",33),n.Tc(28),n.Wb(),n.Wb(),n.Wb(),n.Sb(29,"br"),n.Xb(30,"div",34),n.Xb(31,"div",32),n.Xb(32,"span",35),n.Tc(33,"Mobile Number"),n.Wb(),n.Xb(34,"span",36),n.Tc(35),n.Wb(),n.Wb(),n.Xb(36,"div",32),n.Xb(37,"span",35),n.Tc(38,"Email"),n.Wb(),n.Xb(39,"span",37),n.Tc(40),n.Wb(),n.Wb(),n.Wb(),n.Sb(41,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(12);n.Eb(6),n.Uc(n.lc(7,12,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(2),n.Vc("#",t.customerId,""),n.Eb(7),n.Uc(t.kycReference),n.Eb(5),n.Uc(t.custStatus),n.Eb(7),n.Uc(t.phoneNumber),n.Eb(5),n.Uc(t.primaryEmailAdress)}}function uc(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",38),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function mc(t,e){if(1&t&&n.Sb(0,"img",39),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function pc(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",22),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToCustOnBoardingSummary(a,"REJECTED",i.getRandomColor(o+15))}),n.Xb(1,"div",23),n.Xb(2,"mat-icon",42),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",25),n.Xb(9,"div",26),n.Rc(10,uc,2,1,"div",27),n.Rc(11,mc,1,1,"ng-template",null,28,n.Sc),n.Wb(),n.Xb(13,"mat-card-title",29),n.Tc(14),n.Wb(),n.Xb(15,"mat-card-subtitle"),n.Tc(16),n.Wb(),n.Wb(),n.Xb(17,"form",30),n.Xb(18,"div",31),n.Xb(19,"div",32),n.Xb(20,"span"),n.Tc(21,"Kyc Reference "),n.Wb(),n.Xb(22,"span",33),n.Tc(23),n.Wb(),n.Wb(),n.Xb(24,"div",32),n.Xb(25,"span"),n.Tc(26,"Customer Status"),n.Wb(),n.Xb(27,"span",33),n.Tc(28),n.Wb(),n.Wb(),n.Wb(),n.Sb(29,"br"),n.Xb(30,"div",34),n.Xb(31,"div",32),n.Xb(32,"span",35),n.Tc(33,"Mobile Number"),n.Wb(),n.Xb(34,"span",36),n.Tc(35),n.Wb(),n.Wb(),n.Xb(36,"div",32),n.Xb(37,"span",35),n.Tc(38,"Email"),n.Wb(),n.Xb(39,"span",37),n.Tc(40),n.Wb(),n.Wb(),n.Wb(),n.Sb(41,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(12);n.Eb(6),n.Uc(n.lc(7,12,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(2),n.Vc("#",t.customerId,""),n.Eb(7),n.Uc(t.kycReference),n.Eb(5),n.Uc(t.custStatus),n.Eb(7),n.Uc(t.phoneNumber),n.Eb(5),n.Uc(t.primaryEmailAdress)}}let hc=(()=>{class t{constructor(t,e,a,o,i,r,s,l,b){this.dialog=t,this.ls=e,this.tasSumService=a,this.cdr=o,this.apiService=i,this.snack=r,this.sanitizer=s,this.router=l,this.route=b,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.arr=["INITIATEDArr","UNDER_PROCESSArr","APPROVEDArr","REJECTEDArr"],this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDCount=0,this.UNDER_PROCESSCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.INITIATEDImage=[],this.UNDER_PROCESSImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new n.o,this._searchSubject=new c.a,this.listOfOptions=[{label:"Customer ID ",value:"customerId",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}onScroll(t){this.isScroll&&(this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}ngOnInit(){this.apiService.setTask(!0),this.getDataOnLoad(),this.listOfOptions.filter(t=>{t.checked&&(this.radioButtonSelected=t.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}radioChange(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}updateSearch(t){this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{if(this.setValue.emit(t),console.log("search value :: ",t),console.log("search text :: ",this.searchText),null==t||""==t||""==t)return this.noDataFound=!1,this.searchable=!1,void this.getDataOnLoad();this.searchCustomerId(t)})}clear(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}getDataOnLoad(){return tc(this,void 0,void 0,function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerByStatus(this.statusArr[t],0,0)})}fetchCustomerByStatus(t,e,a){this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}GoToCorporate(){setTimeout(()=>{this.router.navigateByUrl("tasks/corporate-task-summary")},300)}updateStatusResponse(t,e){"INITIATED"==t?(this.INITIATEDArr=e.customerInfoList,this.INITIATEDTotalPages=e.totalPages,this.INITIATEDTotalRecords=e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=e.customerInfoList,this.UNDER_PROCESSTotalPages=e.totalPages,this.UNDER_PROCESSTotalRecords=e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=e.customerInfoList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=e.customerInfoList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){console.log("---------scrolled----------"),e!==a?this.tasSumService.getAllCustOnBoardingData(t,e).subscribe(e=>{console.log("count data :: ",e),this.cdr.markForCheck(),this.updateDataOnScroll(t,e.customerInfoList)}):console.log("No scroll requied")}goToCustOnBoardingSummary(t,e,a){localStorage.setItem("CustomerColorCode",a),this.dialog.open(Qr,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(t=>{console.log("dialog closed:: ",t),"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"INITIATED"!==t.recordStatus&&"UNDER_PROCESS"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus||(1==this.redirectedFromTellerSearch?this.updateSearch(this.searchText):this.getDataOnLoad())})}searchCustomerId(t){let e,a;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("cifId"),e=this.searchText.trim(),this.apiService.getKycDetails1(e).subscribe(t=>{console.log(t),null!=t?(a="cifNumber="+e,console.log("cif",a)):(console.log("not a cif"),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(()=>{this.getCustomerData(a)},1e3),this.isScroll=!1}getCustomerData(t){this.loading=!0,console.log("params::",t),this.apiService.getCustomerOnBoardingSummary(t).subscribe(t=>{this.INITIATEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,this.resetSearchData(),console.log("resp data :: ",t),this.INITIATEDArr=[];for(let e=0;e<(null==t?void 0:t.customerInfoList.length);e++){const a=null==t?void 0:t.customerInfoList[e];this.searchResponseUpdate(null==a?void 0:a.custStatus,t.customerInfoList[e])}})}resetSearchData(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}searchResponseUpdate(t,e){"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}getProfileImage(t){this.apiService.getProfileDetails(t).subscribe(t=>{if(console.log(t),console.log(t.profileImage),this.searchable=!1,null!=t.profileImage){let e="data:image/jpeg;base64,"+t.profileImage.fileData;this.searchable=!0,this.image=this.sanitizer.bypassSecurityTrustUrl(e),console.log(this.searchable,"Searchable")}},t=>{console.log(t)})}getCustomerIdData(t){console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(t=>{if(this.cdr.markForCheck(),this.cdr.detectChanges(),null!=t){var e=t[0].customerAdditionalInfo.kycStatus+"Arr";this[e].splice(0,0,t[0]),this[e]=this[e].slice(),console.log("resp value :: ",this[e])}else this.noDataFound=!0})}ngOnDestroy(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}updateDataOnScroll(t,e){return tc(this,void 0,void 0,function*(){if("INITIATED"==t){const t=Jt.unionBy(this.INITIATEDArr,e,"customerId");this.INITIATEDArr=t}else if("UNDER_PROCESS"==t){const t=Jt.unionBy(this.UNDER_PROCESSArr,e,"customerId");this.UNDER_PROCESSArr=t}else if("APPROVED"==t){const t=Jt.unionBy(this.APPROVEDArr,e,"customerId");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Jt.unionBy(this.REJECTEDArr,e,"customerId");this.REJECTEDArr=t}this.cdr.markForCheck()})}isNum(t){return!isNaN(t)}isString(t){return t}openSearchedApprover(){let t=[this.REJECTEDArr,this.APPROVEDArr,this.UNDER_PROCESSArr,this.INITIATEDArr].filter(t=>1==t.length);console.log(t),1==t.length&&this.goToCustOnBoardingSummary(t[0][0],t[0][0].custStatus)}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.b),n.Rb(l.a),n.Rb(m.a),n.Rb(n.h),n.Rb(r.b),n.Rb(f.a),n.Rb(qo.b),n.Rb(je.h),n.Rb(je.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-cust-on-boarding-task-summary"]],hostBindings:function(t,e){1&t&&n.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:54,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],[1,"slideTogglepadding",3,"change"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryName"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchbox"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search Customer_id or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"cardBox",3,"click"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"naming"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxLayout","column","fxFlex","45"],[1,"fieldName"],["fxLayout","row","fxLayoutGap","10"],[1,"col3"],[1,"col4"],[1,"breakWord","col4"],[3,"name"],["alt","",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMark1"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-red","bookMark","bookMark3"]],template:function(t,e){1&t&&(n.Sb(0,"br"),n.Xb(1,"div",0),n.fc("scrolled",function(t){return e.onScroll(t)}),n.Sb(2,"br"),n.Xb(3,"div",1),n.Xb(4,"mat-slide-toggle",2),n.fc("change",function(){return e.GoToCorporate()}),n.Tc(5,"Switch to Corporate Onboarding"),n.Wb(),n.Xb(6,"div",3),n.Xb(7,"div",4),n.Xb(8,"span",5),n.Tc(9," Individual Customer Onboarding Task Summary "),n.Wb(),n.Wb(),n.Xb(10,"div",6),n.Xb(11,"mat-form-field",7),n.Xb(12,"mat-label"),n.Tc(13,"Search"),n.Wb(),n.Xb(14,"div",8),n.Xb(15,"input",9),n.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),n.Wb(),n.Rc(16,ec,1,1,"mat-spinner",10),n.Wb(),n.Xb(17,"mat-icon",11),n.Tc(18,"search"),n.Wb(),n.Rc(19,ac,3,0,"button",12),n.Xb(20,"mat-hint"),n.Tc(21,"Search ID or Name"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(22,"div",13),n.Xb(23,"div",14),n.Xb(24,"mat-card",15),n.Xb(25,"div",16),n.Xb(26,"span",17),n.Xb(27,"h2",18),n.Tc(28),n.Wb(),n.Wb(),n.Wb(),n.Xb(29,"div"),n.Rc(30,nc,42,14,"div",19),n.Wb(),n.Sb(31,"br"),n.Wb(),n.Xb(32,"mat-card",15),n.Xb(33,"div",16),n.Xb(34,"span",17),n.Xb(35,"h2",18),n.Tc(36),n.Wb(),n.Wb(),n.Wb(),n.Xb(37,"div"),n.Rc(38,sc,42,14,"div",19),n.Wb(),n.Wb(),n.Xb(39,"mat-card",15),n.Xb(40,"div",16),n.Xb(41,"span",17),n.Xb(42,"h2",18),n.Tc(43),n.Wb(),n.Wb(),n.Wb(),n.Xb(44,"div"),n.Rc(45,dc,42,14,"div",19),n.Wb(),n.Sb(46,"br"),n.Wb(),n.Xb(47,"mat-card",15),n.Xb(48,"div",16),n.Xb(49,"span",17),n.Xb(50,"h2",18),n.Tc(51),n.Wb(),n.Wb(),n.Wb(),n.Xb(52,"div"),n.Rc(53,pc,42,14,"div",19),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(1),n.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),n.Eb(14),n.rc("ngModel",e.searchText),n.Eb(1),n.rc("ngIf",e.loading),n.Eb(3),n.rc("ngIf",e.searchText),n.Eb(9),n.Wc("Pending for approval (",e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.INITIATEDArr),n.Eb(6),n.Wc("Ongoing (",e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.UNDER_PROCESSArr),n.Eb(5),n.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.APPROVEDArr),n.Eb(6),n.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.REJECTEDArr))},directives:[Ui.a,E.a,g.e,g.d,g.f,g.b,W.c,W.g,y.b,p.c,p.r,p.u,o.n,v.a,W.i,W.f,X.a,o.m,x.b,C.b,W.j,X.e,X.c,X.h,X.g,p.A,p.s,p.t,Bi],pipes:[sn.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.searchbox[_ngcontent-%COMP%]{padding-right:5%}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;text-align:left;font:normal normal medium 9px/11px Montserrat;letter-spacing:0;color:#0f0f0f;opacity:1}.cardBox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:40vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}.naming[_ngcontent-%COMP%]{font-size:12px}.breakWord[_ngcontent-%COMP%], .naming[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]}),t})();function fc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Company Name is Required! "),n.Wb())}function gc(t,e){if(1&t&&(n.Xb(0,"mat-option",19),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function vc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please select Category! "),n.Wb())}function Wc(t,e){if(1&t&&(n.Xb(0,"mat-option",19),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Xc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please select Country! "),n.Wb())}let yc=(()=>{class t{constructor(t,e,a,o,i,n,r){this.basicInfo=t,this.dialogRef=e,this.apiService=a,this.ls=o,this.formBuilder=i,this.snack=n,this.corporateService=r,this.countryArr=[],this.categoryArr=["Privileged","Un Privileged"]}ngOnInit(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.basicInfo),this.getCountryName("country"),this.basicInfo&&this.buildBasicForm(this.basicInfo)}buildBasicForm(t){this.corporateInfoUpdateForm=this.formBuilder.group({corporateId:[t.corporateId],companyName:[t?t.companyName:"",[p.z.required]],category:[t?t.category:"",[p.z.required]],country:[t?t.country:"",[p.z.required]]})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.countryArr.push(t[e].countryName)})}onSubmit(){this.corporateService.saveOrUpdateCorporateAccountInfo(this.corporateInfoUpdateForm.value).subscribe(t=>{null!=t?(this.snack.open("Basic Information Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:t})):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(r.b),n.Rb(l.a),n.Rb(p.f),n.Rb(f.a),n.Rb(Xr.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-corporate-basic-info"]],decls:42,vars:7,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","20%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","name","corporateId","formControlName","corporateId","placeholder","Corporate Id","readonly","true"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["matInput","","name","companyName","formControlName","companyName","placeholder","Company Name"],[4,"ngIf"],["formControlName","category","id","forCategory","required",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","country","id","forCountry","required",""],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Sb(3,"h1",2),n.Xb(4,"mat-dialog-content"),n.Xb(5,"form",3),n.Xb(6,"div",4),n.Xb(7,"div",5),n.Xb(8,"mat-hint",6),n.Tc(9,"CoporateId"),n.Wb(),n.Xb(10,"mat-card",7),n.Sb(11,"input",8),n.Wb(),n.Wb(),n.Xb(12,"div",9),n.Xb(13,"mat-hint",6),n.Tc(14,"Company Name* "),n.Wb(),n.Xb(15,"mat-card",7),n.Sb(16,"input",10),n.Wb(),n.Rc(17,fc,2,0,"mat-error",11),n.Wb(),n.Xb(18,"div",9),n.Xb(19,"mat-hint",6),n.Tc(20,"Category*"),n.Wb(),n.Xb(21,"mat-card",7),n.Xb(22,"mat-select",12),n.Xb(23,"mat-option",13),n.Tc(24,"Select Category"),n.Wb(),n.Rc(25,gc,2,2,"mat-option",14),n.Wb(),n.Wb(),n.Rc(26,vc,2,0,"mat-error",11),n.Wb(),n.Xb(27,"div",9),n.Xb(28,"mat-hint",6),n.Tc(29,"Country*"),n.Wb(),n.Xb(30,"mat-card",7),n.Xb(31,"mat-select",15),n.Xb(32,"mat-option",13),n.Tc(33,"Select Country"),n.Wb(),n.Rc(34,Wc,2,2,"mat-option",14),n.Wb(),n.Wb(),n.Rc(35,Xc,2,0,"mat-error",11),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"div",16),n.Xb(37,"button",17),n.fc("click",function(){return e.onSubmit()}),n.Tc(38,"Save"),n.Wb(),n.Tc(39," \xa0\xa0\xa0 "),n.Xb(40,"button",18),n.fc("click",function(){return e.close()}),n.Tc(41," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(5),n.rc("formGroup",e.corporateInfoUpdateForm),n.Eb(12),n.rc("ngIf",e.corporateInfoUpdateForm.get("companyName").touched&&!e.corporateInfoUpdateForm.get("companyName").valid),n.Eb(8),n.rc("ngForOf",e.categoryArr),n.Eb(1),n.rc("ngIf",e.corporateInfoUpdateForm.get("category").touched&&!e.corporateInfoUpdateForm.get("category").valid),n.Eb(8),n.rc("ngForOf",e.countryArr),n.Eb(1),n.rc("ngIf",e.corporateInfoUpdateForm.get("country").touched&&!e.corporateInfoUpdateForm.get("country").valid),n.Eb(2),n.rc("disabled",e.corporateInfoUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,y.b,p.c,p.r,p.i,o.n,T.a,p.y,D.n,o.m,g.f,C.b,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();var Tc=a("vrAh"),Ic=a("SqCe");function Ec(t,e){if(1&t&&(n.Xb(0,"mat-panel-title"),n.Tc(1),n.Wb()),2&t){const t=n.jc(2);n.Eb(1),n.Vc(" Create Director ",t.item," ")}}function Cc(t,e){if(1&t&&(n.Xb(0,"mat-panel-title"),n.Xb(1,"mat-icon",58),n.Tc(2,"check_circle"),n.Wb(),n.Tc(3),n.Wb()),2&t){const t=n.jc(2);n.Eb(3),n.Vc(" \xa0 Director \xa0 ",t.item,". ")}}function xc(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-card",29),n.Xb(1,"input",59),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb()}}function Dc(t,e){if(1&t&&(n.Xb(0,"div",72),n.Xb(1,"h3",73),n.Tc(2),n.kc(3,"uppercase"),n.kc(4,"slice"),n.Wb(),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(2),n.Vc(" ",n.lc(3,1,n.nc(4,3,null==t?null:t.firstName,0,1))," ")}}function Oc(t,e){if(1&t&&(n.Xb(0,"div",74),n.Sb(1,"img",75),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("src",null==t?null:t.profileImage,n.Jc)}}function Ac(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-option",65),n.fc("click",function(){n.Hc(t);const a=e.$implicit;return n.jc(3).selectCif(a)}),n.Xb(1,"div",66),n.Xb(2,"div",67),n.Rc(3,Dc,5,7,"div",68),n.Rc(4,Oc,2,1,"div",69),n.Xb(5,"div",22),n.Xb(6,"h5",70),n.Tc(7),n.kc(8,"uppercase"),n.kc(9,"uppercase"),n.kc(10,"uppercase"),n.Wb(),n.Xb(11,"h6",71),n.Tc(12),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit;n.rc("value",null==t?null:t.cifNumber),n.Eb(3),n.rc("ngIf","not_available"==(null==t?null:t.profileImage)),n.Eb(1),n.rc("ngIf","not_available"!=(null==t?null:t.profileImage)),n.Eb(3),n.Xc(" ",n.lc(8,7,null==t?null:t.firstName)," ",n.lc(9,9,null==t?null:t.middleName)," ",n.lc(10,11,null==t?null:t.lastName),""),n.Eb(5),n.Vc("#",null==t?null:t.cifNumber,"")}}function Rc(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-card",29),n.Xb(1,"input",60,61),n.fc("keyup",function(e){return n.Hc(t),n.jc(2).ngAfterViewInit(e.target.value)})("ngModelChange",function(e){return n.Hc(t),n.jc(2).updatedVal(e)}),n.Wb(),n.Xb(3,"mat-autocomplete",62,63),n.Rc(5,Ac,13,13,"mat-option",64),n.Wb(),n.Wb()}if(2&t){const t=n.Dc(4),e=n.jc(2);n.Eb(1),n.rc("matAutocomplete",t),n.Eb(4),n.rc("ngForOf",e.customerInfoList)}}function Sc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"CIF Number is Required!"),n.Wb(),n.Wb())}function Nc(t,e){if(1&t&&(n.Xb(0,"mat-option",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Pc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select Prefix!"),n.Wb(),n.Wb())}function kc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"First Name is Required!"),n.Wb(),n.Wb())}function Fc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Last Name is Required!"),n.Wb(),n.Wb())}function Lc(t,e){if(1&t&&(n.Xb(0,"mat-option",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function _c(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select Gender!"),n.Wb(),n.Wb())}function wc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," \xa0 Prefix and Gender does not match! "),n.Wb())}function Uc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Date Of Birth is Required!"),n.Wb(),n.Wb())}function Mc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Place Of Birth is Required!!"),n.Wb(),n.Wb())}function Gc(t,e){if(1&t&&(n.Xb(0,"mat-option",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Vc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select Residence Type!"),n.Wb(),n.Wb())}function Bc(t,e){if(1&t&&(n.Xb(0,"mat-option",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function jc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select Citizenship By!"),n.Wb(),n.Wb())}function zc(t,e){if(1&t&&(n.Xb(0,"mat-option",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function qc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select Country Of Residence"),n.Wb(),n.Wb())}function Jc(t,e){if(1&t&&(n.Xb(0,"mat-option",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Kc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select ID Type!"),n.Wb(),n.Wb())}function $c(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Unique Id Number is Required"),n.Wb(),n.Wb())}function Hc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select Valid Till!"),n.Wb(),n.Wb())}function Yc(t,e){if(1&t&&(n.Xb(0,"div",27),n.Sb(1,"mat-hint",6),n.Xb(2,"mat-card",29),n.Sb(3,"input",81),n.Sb(4,"mat-datepicker-toggle",38),n.Sb(5,"mat-datepicker",null,82),n.Wb(),n.Rc(7,Hc,3,0,"mat-error",18),n.Wb()),2&t){const t=n.Dc(6),e=n.jc().$implicit,a=n.jc(2);n.Eb(3),n.rc("min",a.minDate)("matDatepicker",t),n.Eb(1),n.rc("for",t),n.Eb(3),n.rc("ngIf",e.get("expiryDate").touched&&!e.get("expiryDate").valid)}}function Zc(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",77),n.Xb(1,"div",26),n.Xb(2,"div",27),n.Xb(3,"mat-hint",6),n.Tc(4,"Id Type"),n.Wb(),n.Xb(5,"mat-card",29),n.Xb(6,"mat-select",78),n.Xb(7,"mat-option",31),n.Tc(8,"select---"),n.Wb(),n.Rc(9,Jc,2,2,"mat-option",32),n.Wb(),n.Wb(),n.Rc(10,Kc,3,0,"mat-error",18),n.Wb(),n.Xb(11,"div",27),n.Xb(12,"mat-hint",6),n.Tc(13,"ID Number"),n.Wb(),n.Xb(14,"mat-card",29),n.Xb(15,"input",79),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(16,$c,3,0,"mat-error",18),n.Wb(),n.Rc(17,Yc,8,4,"div",80),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.jc(2);n.rc("formGroupName",a),n.Eb(9),n.rc("ngForOf",o.idTypeList),n.Eb(1),n.rc("ngIf",t.get("idType").touched&&!t.get("idType").valid),n.Eb(6),n.rc("ngIf",t.get("idNumber").touched&&!t.get("idNumber").valid),n.Eb(1),n.rc("ngIf","Passport"==t.get("idType").value||"DL"==t.get("idType").value)}}function Qc(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Enter Valid Address Line 1"),n.Wb(),n.Wb())}function ts(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Enter Valid Address Line 2"),n.Wb(),n.Wb())}function es(t,e){if(1&t&&(n.Xb(0,"mat-option",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function as(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please select country"),n.Wb(),n.Wb())}function os(t,e){if(1&t&&(n.Xb(0,"mat-option",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.stateName),n.Eb(1),n.Vc(" ",t.stateName," ")}}function is(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please select state"),n.Wb(),n.Wb())}function ns(t,e){if(1&t&&(n.Xb(0,"mat-option",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.value1),n.Eb(1),n.Vc(" ",t.value1," ")}}function rs(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please select city"),n.Wb(),n.Wb())}function cs(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please enter Zip Code!(5-10 digits)"),n.Wb(),n.Wb())}function ss(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please enter valid Zip Code!(5-10 digits)"),n.Wb(),n.Wb())}function ls(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",83),n.Xb(1,"legend",48),n.Tc(2,"Communication Address"),n.Wb(),n.Sb(3,"hr"),n.Xb(4,"div",26),n.Xb(5,"div",27),n.Xb(6,"mat-hint",6),n.Tc(7,"Address Line 1*"),n.Wb(),n.Xb(8,"mat-card",29),n.Sb(9,"input",84),n.Wb(),n.Rc(10,Qc,3,0,"mat-error",18),n.Wb(),n.Xb(11,"div",27),n.Xb(12,"mat-hint",6),n.Tc(13,"Address Line 2*"),n.Wb(),n.Xb(14,"mat-card",29),n.Sb(15,"input",85),n.Wb(),n.Rc(16,ts,3,0,"mat-error",18),n.Wb(),n.Xb(17,"div",27),n.Xb(18,"mat-hint",6),n.Tc(19,"Country*"),n.Wb(),n.Xb(20,"mat-card",29),n.Xb(21,"mat-select",86),n.fc("selectionChange",function(e){return n.Hc(t),n.jc(2).getStateName(e.value)}),n.Xb(22,"mat-option",31),n.Tc(23,"select---"),n.Wb(),n.Rc(24,es,2,2,"mat-option",32),n.Wb(),n.Wb(),n.Rc(25,as,3,0,"mat-error",18),n.Wb(),n.Xb(26,"div",27),n.Xb(27,"mat-hint",6),n.Tc(28,"State*"),n.Wb(),n.Xb(29,"mat-card",29),n.Xb(30,"mat-select",87),n.fc("selectionChange",function(e){return n.Hc(t),n.jc(2).getCityName(e.value)}),n.Xb(31,"mat-option",31),n.Tc(32,"select---"),n.Wb(),n.Rc(33,os,2,2,"mat-option",32),n.Wb(),n.Wb(),n.Rc(34,is,3,0,"mat-error",18),n.Wb(),n.Xb(35,"div",27),n.Xb(36,"mat-hint",6),n.Tc(37,"City*"),n.Wb(),n.Xb(38,"mat-card",29),n.Xb(39,"mat-select",88),n.Xb(40,"mat-option",31),n.Tc(41,"select---"),n.Wb(),n.Rc(42,ns,2,2,"mat-option",32),n.Wb(),n.Wb(),n.Rc(43,rs,3,0,"mat-error",18),n.Wb(),n.Xb(44,"div",27),n.Xb(45,"mat-hint",6),n.Tc(46,"Zip Code*"),n.Wb(),n.Xb(47,"mat-card",29),n.Xb(48,"input",89),n.fc("keypress",function(e){return n.Hc(t),n.jc(2)._keyPress(e)})("keyup",function(e){return n.Hc(t),n.jc(2).isAllSameDigit(e)}),n.Wb(),n.Wb(),n.Rc(49,cs,3,0,"mat-error",18),n.Rc(50,ss,3,0,"mat-error",18),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.jc(2);n.rc("formGroupName",a),n.Eb(10),n.rc("ngIf",t.get("address1").touched&&!t.get("address1").valid||t.get("address1").touched&&t.get("address1").hasError("pattern")),n.Eb(6),n.rc("ngIf",t.get("address2").touched&&!t.get("address2").valid||t.get("address2").touched&&t.get("address2").hasError("pattern")),n.Eb(8),n.rc("ngForOf",o.arrayCountry),n.Eb(1),n.rc("ngIf",t.get("country").touched&&!t.get("country").valid),n.Eb(8),n.rc("ngForOf",o.arrayState),n.Eb(1),n.rc("ngIf",t.get("state").touched&&!t.get("state").valid),n.Eb(8),n.rc("ngForOf",o.arrayCity),n.Eb(1),n.rc("ngIf",t.get("city").touched&&!t.get("city").valid),n.Eb(6),n.rc("ngIf",t.get("zipCode").touched&&t.get("zipCode").hasError("required")),n.Eb(1),n.rc("ngIf",o.isAllSameDigitVal||t.get("zipCode").hasError("pattern"))}}function bs(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Enter Mobile Number(Maximum 10 digits)!"),n.Wb(),n.Wb())}function ds(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2," \xa0 \xa0 Please Enter Correct Mobile Number "),n.Wb(),n.Wb())}function us(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2," \xa0 \xa0 Please Enter Correct Landline Number"),n.Wb(),n.Wb())}function ms(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Tax Id is Required with only numbers!"),n.Wb(),n.Wb())}function ps(t,e){if(1&t&&(n.Xb(0,"mat-option",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function hs(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select Country Of Issue!"),n.Wb(),n.Wb())}function fs(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",90),n.Xb(1,"legend",48),n.Tc(2,"Additional Tax ID Details"),n.Wb(),n.Sb(3,"hr"),n.Xb(4,"div",91),n.Xb(5,"div",27),n.Xb(6,"mat-hint",6),n.Tc(7,"Tax ID*"),n.Wb(),n.Xb(8,"mat-card",29),n.Xb(9,"input",92),n.fc("keypress",function(e){return n.Hc(t),n.jc(2).omit_special_char(e)}),n.Wb(),n.Wb(),n.Rc(10,ms,3,0,"mat-error",18),n.Wb(),n.Xb(11,"div",27),n.Xb(12,"mat-hint",6),n.Tc(13,"Country Of Issue*"),n.Wb(),n.Xb(14,"mat-card",29),n.Xb(15,"mat-select",93),n.Xb(16,"mat-option",31),n.Tc(17,"select---"),n.Wb(),n.Rc(18,ps,2,2,"mat-option",32),n.Wb(),n.Wb(),n.Rc(19,hs,3,0,"mat-error",18),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.jc(2);n.rc("formGroupName",a),n.Eb(10),n.rc("ngIf",t.get("taxId").touched&&!t.get("taxId").valid),n.Eb(8),n.rc("ngForOf",o.arrayCountry),n.Eb(1),n.rc("ngIf",t.get("countryOfIssue").touched&&!t.get("countryOfIssue").valid)}}function gs(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-card",16),n.Xb(1,"mat-expansion-panel",17),n.fc("opened",function(){return n.Hc(t),n.jc().openClose("OPEN")})("closed",function(){return n.Hc(t),n.jc().openClose("CLOSE")}),n.Xb(2,"mat-expansion-panel-header"),n.Rc(3,Ec,2,1,"mat-panel-title",18),n.Rc(4,Cc,4,1,"mat-panel-title",18),n.Wb(),n.Xb(5,"div",4),n.Xb(6,"div",19),n.Xb(7,"div",20),n.Xb(8,"div",21),n.Xb(9,"div",22),n.Xb(10,"span"),n.Xb(11,"b"),n.Tc(12,"Is the applicant an existing customer?"),n.Wb(),n.Wb(),n.Wb(),n.Xb(13,"div",23),n.Xb(14,"mat-slide-toggle",24),n.fc("change",function(e){n.Hc(t);const a=n.jc();return a.toggleChanges(e.checked,a.formDirective)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(15,"div",21),n.Xb(16,"div",22),n.Xb(17,"span"),n.Xb(18,"b"),n.Tc(19,"Is the applicant an primary customer?"),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",23),n.Sb(21,"mat-slide-toggle",25),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(22,"br"),n.Xb(23,"div",26),n.Xb(24,"div",27),n.Xb(25,"mat-hint",6),n.Tc(26,"CIF Number"),n.Wb(),n.Rc(27,xc,2,0,"mat-card",28),n.Rc(28,Rc,6,2,"mat-card",28),n.Rc(29,Sc,3,0,"mat-error",18),n.Wb(),n.Xb(30,"div",27),n.Xb(31,"mat-hint",6),n.Tc(32,"Prefix*"),n.Wb(),n.Xb(33,"mat-card",29),n.Xb(34,"mat-select",30),n.Xb(35,"mat-option",31),n.Tc(36,"select---"),n.Wb(),n.Rc(37,Nc,2,2,"mat-option",32),n.Wb(),n.Wb(),n.Rc(38,Pc,3,0,"mat-error",18),n.Wb(),n.Xb(39,"div",27),n.Xb(40,"mat-hint",6),n.Tc(41,"First Name*"),n.Wb(),n.Xb(42,"mat-card",29),n.Xb(43,"input",33),n.fc("keypress",function(e){return n.Hc(t),n.jc().letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(44,kc,3,0,"mat-error",18),n.Wb(),n.Xb(45,"div",27),n.Xb(46,"mat-hint",6),n.Tc(47,"Middle Name"),n.Wb(),n.Xb(48,"mat-card",29),n.Xb(49,"input",34),n.fc("keypress",function(e){return n.Hc(t),n.jc().letterOnly(e)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(50,"div",27),n.Xb(51,"mat-hint",6),n.Tc(52,"Last Name*"),n.Wb(),n.Xb(53,"mat-card",29),n.Xb(54,"input",35),n.fc("keypress",function(e){return n.Hc(t),n.jc().letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(55,Fc,3,0,"mat-error",18),n.Wb(),n.Xb(56,"div",27),n.Xb(57,"mat-hint",6),n.Tc(58,"Gender*"),n.Wb(),n.Xb(59,"mat-card",29),n.Xb(60,"mat-select",36),n.fc("selectionChange",function(e){return n.Hc(t),n.jc().onChangeGender(e)}),n.Xb(61,"mat-option",31),n.Tc(62,"select---"),n.Wb(),n.Rc(63,Lc,2,2,"mat-option",32),n.Wb(),n.Wb(),n.Rc(64,_c,3,0,"mat-error",18),n.Rc(65,wc,2,0,"mat-error",18),n.Wb(),n.Xb(66,"div",27),n.Xb(67,"mat-hint",6),n.Tc(68,"Date Of Birth*"),n.Wb(),n.Xb(69,"mat-card",29),n.Sb(70,"input",37),n.Xb(71,"div",23),n.Sb(72,"mat-datepicker-toggle",38),n.Wb(),n.Sb(73,"mat-datepicker",null,39),n.Wb(),n.Rc(75,Uc,3,0,"mat-error",18),n.Wb(),n.Xb(76,"div",27),n.Xb(77,"mat-hint",6),n.Tc(78,"Place Of Birth "),n.Wb(),n.Xb(79,"mat-card",29),n.Xb(80,"input",40),n.fc("keypress.space",function(e){return n.Hc(t),n.jc().letterOnly(e)}),n.Wb(),n.Wb(),n.Rc(81,Mc,3,0,"mat-error",18),n.Wb(),n.Xb(82,"div",27),n.Xb(83,"mat-hint",6),n.Tc(84,"Residence Type*"),n.Wb(),n.Xb(85,"mat-card",29),n.Xb(86,"mat-select",41),n.Xb(87,"mat-option",31),n.Tc(88,"select---"),n.Wb(),n.Rc(89,Gc,2,2,"mat-option",32),n.Wb(),n.Wb(),n.Rc(90,Vc,3,0,"mat-error",18),n.Wb(),n.Xb(91,"div",27),n.Xb(92,"mat-hint",6),n.Tc(93,"Citizenship By*"),n.Wb(),n.Xb(94,"mat-card",29),n.Xb(95,"mat-select",42),n.fc("selectionChange",function(e){return n.Hc(t),n.jc().onSelectionCitizionship(e.value)}),n.Xb(96,"mat-option",31),n.Tc(97,"--Select--"),n.Wb(),n.Rc(98,Bc,2,2,"mat-option",32),n.Wb(),n.Wb(),n.Rc(99,jc,3,0,"mat-error",18),n.Wb(),n.Xb(100,"div",27),n.Xb(101,"mat-hint",6),n.Tc(102,"Country Of Residence*"),n.Wb(),n.Xb(103,"mat-card",29),n.Xb(104,"mat-select",43),n.fc("selectionChange",function(e){return n.Hc(t),n.jc().onSelectionResidance(e.value)}),n.Xb(105,"mat-option",31),n.Tc(106,"--Select--"),n.Wb(),n.Rc(107,zc,2,2,"mat-option",32),n.Wb(),n.Wb(),n.Rc(108,qc,3,0,"mat-error",18),n.Wb(),n.Wb(),n.Xb(109,"div",44),n.Rc(110,Zc,18,5,"div",45),n.Wb(),n.Sb(111,"br"),n.Xb(112,"div",46),n.Rc(113,ls,51,11,"div",47),n.Wb(),n.Sb(114,"br"),n.Xb(115,"div"),n.Xb(116,"legend",48),n.Tc(117,"Contact Information"),n.Wb(),n.Sb(118,"hr"),n.Xb(119,"div",49),n.Xb(120,"div",27),n.Xb(121,"mat-hint",6),n.Tc(122,"Mobile Number*"),n.Wb(),n.Xb(123,"mat-card",29),n.Xb(124,"input",50),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(125,bs,3,0,"mat-error",18),n.Rc(126,ds,3,0,"mat-error",18),n.Wb(),n.Xb(127,"div",27),n.Xb(128,"mat-hint",6),n.Tc(129,"Landline Number*"),n.Wb(),n.Xb(130,"mat-card",29),n.Xb(131,"input",51),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Rc(132,us,3,0,"mat-error",18),n.Wb(),n.Xb(133,"div",27),n.Xb(134,"mat-hint",6),n.Tc(135,"Email*"),n.Wb(),n.Xb(136,"mat-card",29),n.Sb(137,"input",52),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(138,"br"),n.Xb(139,"div",53),n.Rc(140,fs,20,4,"div",54),n.Wb(),n.Xb(141,"div",26),n.Xb(142,"div",55),n.Xb(143,"div",56),n.Xb(144,"button",57),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=n.jc();return o.saveDirector(a.value,o.item),o.openClose("CLOSE")}),n.Xb(145,"mat-icon"),n.Tc(146,"add"),n.Wb(),n.Tc(147," ADD DIRECTOR "),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.Dc(74),i=n.jc();n.rc("item",t)("formGroupName",a),n.Eb(1),n.rc("expanded",i.panelOpenState),n.Eb(2),n.rc("ngIf",1==i.panelOpenState),n.Eb(1),n.rc("ngIf",0==i.panelOpenState),n.Eb(17),n.rc("disabled",i.disabledToggle),n.Eb(6),n.rc("ngIf",1!=t.get("existingCustomer").value),n.Eb(1),n.rc("ngIf",1==t.get("existingCustomer").value),n.Eb(1),n.rc("ngIf",t.get("cifNumber").touched&&!t.get("cifNumber").valid&&1==t.get("existingCustomer").value),n.Eb(8),n.rc("ngForOf",i.prefixList),n.Eb(1),n.rc("ngIf",t.get("prefix").touched&&!t.get("prefix").valid),n.Eb(6),n.rc("ngIf",t.get("firstName").touched&&!t.get("firstName").valid),n.Eb(11),n.rc("ngIf",t.get("lastName").touched&&!t.get("lastName").valid),n.Eb(8),n.rc("ngForOf",i.genderList),n.Eb(1),n.rc("ngIf",t.get("gender").touched&&!t.get("gender").valid),n.Eb(1),n.rc("ngIf",i.prefixFlag),n.Eb(5),n.rc("matDatepicker",o)("max",i.maxDate),n.Eb(2),n.rc("for",o),n.Eb(3),n.rc("ngIf",t.get("dateOfBirth").touched&&!t.get("dateOfBirth").valid),n.Eb(6),n.rc("ngIf",t.get("placeOfBirth").touched&&!t.get("placeOfBirth").valid),n.Eb(8),n.rc("ngForOf",i.arrayResidence),n.Eb(1),n.rc("ngIf",t.get("residenceStatus").touched&&!t.get("residenceStatus").valid),n.Eb(8),n.rc("ngForOf",i.arrayCountry),n.Eb(1),n.rc("ngIf",t.get("citizenship").touched&&!t.get("citizenship").valid),n.Eb(8),n.rc("ngForOf",i.arrayCountry),n.Eb(1),n.rc("ngIf",t.get("countryOfResidence").touched&&!t.get("countryOfResidence").valid),n.Eb(2),n.rc("ngForOf",t.get("custIdProofs").controls),n.Eb(3),n.rc("ngForOf",t.get("userAddress").controls),n.Eb(12),n.rc("ngIf",t.get("phoneNumber").touched&&!t.get("phoneNumber").valid&&!t.controls.phoneNumber.hasError("minLength")),n.Eb(1),n.rc("ngIf","0000000000"==t.controls.phoneNumber.value),n.Eb(6),n.rc("ngIf","0000000000"==t.controls.landlineNumber.value),n.Eb(8),n.rc("ngForOf",t.get("custTaxInfo").controls),n.Eb(4),n.rc("disabled",t.invalid||!i.prefixFlag)}}let vs=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.data=t,this.dialogRef=e,this.formBuilder=a,this.ls=o,this.apiService=i,this.corporateService=n,this.snack=r,this.cdr=c,this.appApiService=s,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.isDirectorSaved=!1,this.directors=new p.d([])}ngOnInit(){if(this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.getDoc(),this.getCountryName("country"),null!=this.data){this.buildDirectorForm(this.data),this.directors=this.directorUpdateForm.get("directors");for(let t=0;t<this.data.length;t++){this.directors.push(this.addDirectors(this.data[t]));for(let e=0;e<this.data[t].userAddress.length;e++)this.getStateName(this.data[t].userAddress[e].country),this.getCityName(this.data[t].userAddress[e].state),this.addAddress(t,this.data[t].userAddress[e]);this.addIdProof(t,this.data[t].custIdProofs[0]),this.addCustTaxInfo(t,this.data[t].custTaxInfo[0])}}else this.buildDirectorForm(),this.directors=this.directorUpdateForm.get("directors"),this.directors.push(this.addDirectors()),this.addAddress(0),this.addIdProof(0),this.addCustTaxInfo(0)}buildDirectorForm(t){this.directorUpdateForm=this.formBuilder.group({noOfDirector:[t?this.data.length:"1"],directors:this.formBuilder.array([])})}addDirectors(t){return this.formBuilder.group({customerId:this.customerId,citizenship:[t?t.citizenship:""],cifNumber:[t?t.cifNumber:""],corporateId:[t?t.corporateId:""],countryOfResidence:[t?t.countryOfResidence:""],dateOfBirth:[t?t.dateOfBirth:""],existingCustomer:[t?t.existingCustomer:""],firstName:[t?t.firstName:""],gender:[t?t.gender:""],landlineNumber:[t?t.landlineNumber:"",[p.z.minLength(10),p.z.maxLength(10)]],lastName:[t?t.lastName:""],middleName:[t?t.middleName:""],phoneNumber:[t?t.phoneNumber:"",[p.z.minLength(10),p.z.maxLength(10)]],placeOfBirth:[t?t.placeOfBirth:""],prefix:[t?t.prefix:""],primaryCustomer:[!1],primaryEmailAdress:[t?t.primaryEmailAdress:""],residenceStatus:[t?t.residenceStatus:""],verificationType:"onboarding",userAddress:this.formBuilder.array([]),custIdProofs:this.formBuilder.array([]),custTaxInfo:this.formBuilder.array([])})}addAddress(t,e){this.directors.controls[t].get("userAddress").push(this.formBuilder.group({addressType:[e?e.addressType:""],address1:[[e?e.address1:""],[p.z.pattern(".*[a-zA-Z].*")]],address2:[[e?e.address2:""],[p.z.pattern(".*[a-zA-Z].*")]],city:[e?e.city:""],state:[e?e.state:""],country:[e?e.country:""],zipCode:[e?e.zipCode:"",[p.z.required,p.z.pattern("^((\\+91-?)|0)?[0-9]{5,10}$")]]}))}addIdProof(t,e){this.directors.controls[t].get("custIdProofs").push(this.formBuilder.group({idNumber:[e?e.idNumber:""],idType:[e?e.idType:""],expiryDate:[e?e.expiryDate:""]}))}addCustTaxInfo(t,e){this.directors.controls[t].get("custTaxInfo").push(this.formBuilder.group({taxId:[e?e.taxId:"",[p.z.required,p.z.pattern("^[0-9]*$")]],countryOfIssue:[e?e.countryOfIssue:""]}))}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.arrayState=[],this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName==t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{for(let e=0;e<t.length;e++)"A"==t[a].authStatus&&this.arrayState.push(t[a].stateName)});break}})}getCityName(t){this.apiService.getDropDownValues1("city",t).subscribe(t=>{this.arrayCity=t})}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}getDoc(){this.apiService.getDropDownValues("gender").subscribe(t=>{this.genderList=t}),this.apiService.getDropDownValues("prefix").subscribe(t=>{this.prefixList=t}),this.apiService.getDropDownValues("document_name").subscribe(t=>{this.idTypeList=t}),this.apiService.getDropDownValues("address_type").subscribe(t=>{this.addressTypeList=t})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}editDirector(t){this.panelOpenState=!this.panelOpenState}updatedVal(t){this.showAutocomplete=!!(t&&t.length>=3)}selectCif(t){this.getStateName(t.userAddress[0].country),this.getCityName(t.userAddress[0].state),null!=t.citizenship&&this.onSelectionCitizionship(t.citizenship),null!=t.countryOfResidence&&this.onSelectionResidance(t.countryOfResidence),this.customerInfoList=t.customerInfoList,this.cifNumberForPayload=t.cifNumber,this.customerIdForPayload=t.customerId,delete t.cifNumber,this.autocomplete.closePanel(),this.directorUpdateForm.patchValue(t),this.directorUpdateForm.get("existingCustomer").setValue(!0)}fetchByCif(t){console.log(null==t?void 0:t.length),0==(null==t?void 0:t.length)&&this.autocomplete.closePanel(),this.directorUpdateForm.reset({cifNumber:this.directorUpdateForm.get("cifNumber").value,existingCustomer:this.directorUpdateForm.get("existingCustomer").value}),this.showAutocomplete=!1,t&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.appApiService.fetchByCif(t).subscribe(t=>{console.log("settimeout"),console.log("res::",t),t&&(this.showAutocomplete=!0,this.customerInfoList=t.customerInfoList),null!=this.customerInfoList[0].citizenship&&this.onSelectionCitizionship(this.customerInfoList[0].citizenship),null!=this.customerInfoList[0].countryOfResidence?this.onSelectionResidance(this.customerInfoList[0].countryOfResidence):(null==t?void 0:t.customerInfoList.length)>1?this.customerInfoList=t.customerInfoList:0!=(null==t?void 0:t.customerInfoList.length)&&t||this.snack.open("Kindly Enter Valid CifNumber to proceed","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.error(t)})},1e3))}toggleChanges(t,e){console.log(t),!0===t?this.directorUpdateForm.get("cifNumber").enable():!1===t&&(this.directorUpdateForm.get("cifNumber").disable(),this.customerId=null)}onSelectionResidance(t){console.log(t),this.apiService.countryFlaglists(t).subscribe(t=>{console.log(t.currencyCode),this.Currency=t.currencyCode.toLowerCase(),console.log(this.Currency)})}onSelectionCitizionship(t){console.log(t),this.apiService.countryFlaglists(t).subscribe(t=>{console.log(t.currencyCode),this.currencyCode=t.currencyCode.toLowerCase(),console.log(this.currencyCode)})}onChangeGender(t){let e=this.directorUpdateForm.value.prefix;"Mr"==e&&"Male"==t.value||("Ms"==e||"Mrs"==e)&&"Female"==t.value?this.prefixFlag=!0:(this.prefixFlag=!1,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}noOfDirector(){let t=Number(this.directorUpdateForm.get("noOfDirector").value);if(this.directors.length<t)for(let e=this.directors.length;e<t;e++)this.directors.push(this.addDirectors()),this.addAddress(e),this.addIdProof(e),this.addCustTaxInfo(e);else if(t<this.directors.length)for(let e=this.directors.length-1;e>=t;e--)this.directors.removeAt(e)}omit_special_char(t){var e;return(e=t.charCode)>64&&e<91||e>96&&e<123||8==e||32==e||e>=48&&e<=57}isAllSameDigit(t){let e=0,a=t.target.value;if(""!=a){for(var o=0;o<a.length;o++)0==a[o]&&e++;this.isAllSameDigitVal=e==a.length}else this.isAllSameDigitVal=!1}saveDirector(t,e){t.cifNumber=this.cifNumberForPayload,t.customerId=this.customerIdForPayload,t.corporateId=this.corporateId;let a={corporateId:this.corporateId,customerInfo:[t]};if(this.noOfDir>0){this.saveStatus=[];for(let t=0;t<this.noOfDir;t++)this.saveStatus.push(!0);this.corporateService.setfinishSave(this.saveStatus)}this.corporateService.saveOrUpdateCorporateAccountInfo(a).subscribe(t=>{null!=t?(null!=t.customerInfo&&null!=t.customerInfo[0].cifNumber&&(this.cifNumber=t.customerInfo[0].cifNumber),this.snack.open(`Director ${this.item} profile created !`,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck(),this.noOfDir<=1&&this.dialogRef.close({status:"INITIATED",resp:this.data})):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log("error resp :: ",t),this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.isDirectorSaved=!0}onSubmit(){this.dialogRef.close({status:"INITIATED"})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(p.f),n.Rb(l.a),n.Rb(r.b),n.Rb(Xr.a),n.Rb(f.a),n.Rb(n.h),n.Rb(d.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-director-details"]],decls:25,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100",1,"full-width"],[1,"hintClass"],["fxFlex","33.33%","fxFlex.xs","100%",1,"inputCard"],["formControlName","noOfDirector","matInput","","id","forNoOfDirectors","placeholder","Enter no of directors",3,"keypress","keyup"],["visible","true",2,"font-weight","600"],[1,"custom-accordion"],["formArrayName","directors"],[3,"item","formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"item","formGroupName"],[1,"mat-elevation-z0",3,"expanded","opened","closed"],[4,"ngIf"],["fxLayout","row wrap",2,"margin-top","20px","margin-left","20px"],["fxFlex","100"],["fxFlex","50"],["fxFlex","80"],["fxFlex","20"],["formControlName","existingCustomer",3,"change"],["formControlName","primaryCustomer",3,"disabled"],["fxLayout","row wrap"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],["class","inputCard",4,"ngIf"],[1,"inputCard"],["formControlName","prefix","required",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","firstName","id","forFirstName","required","","placeholder","First Name",3,"keypress"],["matInput","","formControlName","middleName","id","forMiddleName","placeholder","Middle Name",3,"keypress"],["matInput","","formControlName","lastName","id","forLastName","required","","placeholder","Last Name",3,"keypress"],["formControlName","gender","id","forGender","required","",3,"selectionChange"],["fxFlex","80","matInput","","formControlName","dateOfBirth","required","","readonly","",3,"matDatepicker","max"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","placeOfBirth","id","forplaceOfBirth","required","",3,"keypress.space"],["formControlName","residenceStatus","id","forResidenceStatus","required",""],["formControlName","citizenship","id","forcitizenship","required","",3,"selectionChange"],["formControlName","countryOfResidence","id","forcountryOfResidence","required","",3,"selectionChange"],["formArrayName","custIdProofs"],["fxFlex","100%",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","userAddress"],[3,"formGroupName",4,"ngFor","ngForOf"],["visible","true"],["fxFlex","row wrap","fxFlex","100"],["matInput","","formControlName","phoneNumber","id","forPhoneNumber","maxLength","10","minLength","10","onlyNumber","","required","",3,"keypress"],["matInput","","formControlName","landlineNumber","maxLength","10","minLength","10","onlyNumber","","id","forlandlineNumber","required","",3,"keypress"],["matInput","","formControlName","primaryEmailAdress","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$","id","forprimaryEmailAdress","required",""],["formArrayName","custTaxInfo"],["fxFlex","row wrap","class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin-left","13px"],["fxFlex","20",1,"form-group"],["mat-raised-button","","color","primary",2,"background-color","rgb(77, 114, 248)",3,"disabled","click"],[2,"color","#24CCA7"],["matInput","","formControlName","cifNumber","id","forCifNumber",3,"keypress"],["matInput","","formControlName","cifNumber","id","forCifNumber",3,"matAutocomplete","keyup","ngModelChange"],["input",""],[2,"background-color","black"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","90%","margin-bottom","50px",3,"src"],[3,"value"],["fxFlex","100%",3,"formGroupName"],["formControlName","idType","id","forIdType","required",""],["matInput","","formControlName","idNumber","id","foridNumber","maxlength","15","minLength","11","required","",3,"keypress"],["fxFlex","33.33%","fxFlex.xs","100%","class","full-width",4,"ngIf"],["matInput","","formControlName","expiryDate","id","forIdexpiryDate","readonly","","required","",3,"min","matDatepicker"],["expiryDate",""],[3,"formGroupName"],["matInput","","id","foraddress1","formControlName","address1","required",""],["matInput","","id","foraddress2","formControlName","address2","required",""],["id","forcountry","formControlName","country","required","",3,"selectionChange"],["id","forstate","formControlName","state","required","",3,"selectionChange"],["id","forCity","formControlName","city","required",""],["matInput","","formControlName","zipCode","id","forZipCode","onlyNumber","","maxlength","10","minLength","5","required","",3,"keypress","keyup"],["fxFlex","row wrap",1,"full-width",3,"formGroupName"],["fxFlex","row wrap"],["matInput","","onlyNumber","","formControlName","taxId","id","forTaxId","maxlength","10","required","",3,"keypress"],["formControlName","countryOfIssue","id","forCountryOfIssue","required",""]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Director Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"form",3),n.Xb(7,"div",4),n.Xb(8,"div",5),n.Xb(9,"mat-hint",6),n.Tc(10,"Number of Directors"),n.Wb(),n.Xb(11,"mat-card",7),n.Xb(12,"input",8),n.fc("keypress",function(t){return e._keyPress(t)})("keyup",function(){return e.noOfDirector()}),n.Wb(),n.Wb(),n.Wb(),n.Xb(13,"h3",9),n.Tc(14,"Details Of the Director"),n.Wb(),n.Xb(15,"div",4),n.Xb(16,"mat-accordion",10),n.Xb(17,"div",11),n.Rc(18,gs,148,34,"mat-card",12),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"div",13),n.Xb(20,"button",14),n.fc("click",function(){return e.onSubmit()}),n.Tc(21,"Save"),n.Wb(),n.Tc(22," \xa0\xa0\xa0 "),n.Xb(23,"button",15),n.fc("click",function(){return e.close()}),n.Tc(24," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("formGroup",e.directorUpdateForm),n.Eb(12),n.rc("ngForOf",e.directorUpdateForm.get("directors").controls),n.Eb(2),n.rc("disabled",e.directorUpdateForm.invalid||!e.isDirectorSaved))},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,p.c,y.b,p.r,p.i,j.a,p.e,o.m,g.f,C.b,p.k,j.c,j.e,o.n,E.a,T.a,p.y,D.n,I.e,I.g,W.j,I.d,q.a,p.w,j.f,Tc.c,Tc.a,X.c,Ic.b,W.b,p.m],pipes:[o.w,o.v],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();function Ws(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Incorporation Number is Required! "),n.Wb())}function Xs(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please Enter Valid Incorporation Number! "),n.Wb())}function ys(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select Date of Issue"),n.Wb(),n.Wb())}function Ts(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select Date of Expiry"),n.Wb(),n.Wb())}function Is(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-radio-group",25),n.Xb(1,"mat-radio-button",26),n.fc("change",function(e){return n.Hc(t),n.jc().radioSelection(e.value)}),n.Tc(2),n.Wb(),n.Tc(3,"\xa0 "),n.Wb()}if(2&t){const t=e.$implicit,a=n.jc();n.Eb(1),n.rc("value",t)("checked",t==a.identityUpdateForm.value.isAnotherIdProofRequired),n.Eb(1),n.Vc("",t," ")}}function Es(t,e){if(1&t&&(n.Xb(0,"mat-option",45),n.Tc(1),n.Wb()),2&t){const t=e.$implicit,a=n.jc(3);n.rc("disabled",a.isDocumentOptionDisabled(t))("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Cs(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Select Id Type"),n.Wb(),n.Wb())}function xs(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please Enter Id Number"),n.Wb(),n.Wb())}function Ds(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",30),n.Xb(1,"fieldset",31),n.Xb(2,"div",32),n.Xb(3,"div",33),n.Xb(4,"div",34),n.Xb(5,"label",35),n.Tc(6,"Id Type "),n.Wb(),n.Xb(7,"mat-form-field",36),n.Xb(8,"mat-select",37),n.fc("valueChange",function(a){n.Hc(t);const o=e.index;return n.jc(2).changeValue2(a,o)}),n.Xb(9,"mat-option",38),n.Tc(10,"select---"),n.Wb(),n.Rc(11,Es,2,3,"mat-option",39),n.Wb(),n.Xb(12,"mat-placeholder",40),n.Tc(13,"Select Id Type* "),n.Wb(),n.Wb(),n.Rc(14,Cs,3,0,"mat-error",9),n.Wb(),n.Xb(15,"div",34),n.Xb(16,"label",41),n.Tc(17,"Id Number "),n.Wb(),n.Xb(18,"mat-form-field",36),n.Sb(19,"input",42),n.Xb(20,"mat-placeholder",40),n.Tc(21,"Enter Id Number* "),n.Wb(),n.Wb(),n.Rc(22,xs,3,0,"mat-error",9),n.Wb(),n.Xb(23,"button",43),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index;return n.jc(2).deleteDocument(a,o)}),n.Xb(24,"mat-icon",44),n.Tc(25,"delete_outline"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.jc(2);n.rc("formGroupName",a),n.Eb(11),n.rc("ngForOf",o.idTypeList),n.Eb(3),n.rc("ngIf",t.get("idType").touched&&!t.get("idType").valid),n.Eb(8),n.rc("ngIf",t.get("idNumber").touched&&!t.get("idNumber").valid)}}function Os(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",27),n.Rc(1,Ds,26,4,"div",28),n.Xb(2,"button",29),n.fc("click",function(e){return n.Hc(t),n.jc().addDocument(e)}),n.Xb(3,"mat-icon"),n.Tc(4,"add"),n.Wb(),n.Tc(5," ADD "),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(1),n.rc("ngForOf",t.identityUpdateForm.get("idProofList").controls),n.Eb(1),n.rc("disabled",3==t.selectedOptions.length)}}const As=function(){return["YES","NO"]};let Rs=(()=>{class t{constructor(t,e,a,o,i,n,r){this.dialogRef=t,this.data=e,this.formBuilder=a,this.ls=o,this.apiService=i,this.corporateService=n,this.snack=r,this.minDate=new Date,this.validDate=new Date,this.maxDate=new Date}ngOnInit(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.data?(this.buildIdentityForm(),this.identityUpdateForm.patchValue(this.data)):this.buildIdentityForm()}buildIdentityForm(){this.identityUpdateForm=this.formBuilder.group({corporateId:[this.corporateId],incorporationNumber:["",[p.z.required,p.z.pattern("^[a-zA-Z0-9]{0,35}$")]],dateOfIssue:["",[p.z.required]],dateOfExpiry:["",[p.z.required]],isAnotherIdProofRequired:["NO"],idProofList:this.formBuilder.array([])})}get getDocumentList(){return this.identityUpdateForm.get("idProofList")}addDocument(){this.getDocumentList.push(this.formBuilder.group({idType:["",[p.z.required]],idNumber:["",[p.z.required]]}))}deleteDocument(t,e){console.log("delete record :: ",t," index :: ",e),this.getDocumentList.removeAt(e)}onSubmit(t){let e={};Object.keys(t).map(function(a,o){"dateOfIssue"===a||"dateOfExpiry"===a?(t[a]=h(t[a]).format("YYYY-MM-DD"),e[a]=t[a]):"isAnotherIdProofRequired"!=a&&"idProofList"!=a&&(e[a]=t[a])}),this.corporateService.saveOrUpdateCorporateAccountInfo(e).subscribe(t=>{console.log("data :: ",t),null!=t?(this.snack.open("Proof of identity Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:e})):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log("error resp :: ",t),this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.g),n.Rb(b.a),n.Rb(p.f),n.Rb(l.a),n.Rb(r.b),n.Rb(Xr.a),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-corporate-identity"]],decls:50,vars:15,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["visible","true"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","formControlName","incorporationNumber","placeholder","Incorporation Number","maxLength","35","minLength","0","onlyNumber",""],[4,"ngIf"],["matInput","","id","forIddateOfIssue","readonly","","formControlName","dateOfIssue",3,"matDatepicker","max"],["matSuffix","",3,"for"],["dateOfIssue",""],["matInput","","id","forIddateOfExpiry","readonly","","formControlName","dateOfExpiry",3,"matDatepicker","min"],["dateOfExpiry",""],["fxLayout","row wrap"],["fxFlex","100","fxLayoutGap","20px"],["fxFlex","28"],[2,"padding-left","10px"],["fxFlex","50"],["formControlName","isAnotherIdProofRequired",4,"ngFor","ngForOf"],["formArrayName","idProofList",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["formControlName","isAnotherIdProofRequired"],[3,"value","checked","change"],["formArrayName","idProofList"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],[3,"formGroupName"],[2,"border-top","1px solid lightgray","margin-left","20px","margin-right","20px"],["fxLayout","row wrap",1,"top"],["fxFlex","100","fxLayoutGap","30px"],["fxFlex","30",1,"form-group"],["for","forIdType",1,"hint"],["floatLabel","never"],["formControlName","idType","id","forIdType",3,"valueChange"],["disabled",""],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"placeholder"],["for","forIdNumber",1,"hint"],["matInput","","formControlName","idNumber","id","forIdNumber","maxLength","12","minLength","6"],["mat-button","",3,"click"],[2,"color","tomato"],[3,"disabled","value"]],template:function(t,e){if(1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Proof Of Identity"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"form",3),n.Xb(7,"div"),n.Xb(8,"legend",4),n.Tc(9,"Certificate of Incorporation Details"),n.Wb(),n.Xb(10,"div"),n.Xb(11,"div",5),n.Xb(12,"mat-hint",6),n.Tc(13,"Incorporation Number*"),n.Wb(),n.Xb(14,"mat-card",7),n.Sb(15,"input",8),n.Wb(),n.Rc(16,Ws,2,0,"mat-error",9),n.Rc(17,Xs,2,0,"mat-error",9),n.Wb(),n.Xb(18,"div",5),n.Xb(19,"mat-hint",6),n.Tc(20,"Date of Issue*"),n.Wb(),n.Xb(21,"mat-card",7),n.Sb(22,"input",10),n.Sb(23,"mat-datepicker-toggle",11),n.Sb(24,"mat-datepicker",null,12),n.Wb(),n.Rc(26,ys,3,0,"mat-error",9),n.Wb(),n.Xb(27,"div",5),n.Xb(28,"mat-hint",6),n.Tc(29,"Date of Expiry*"),n.Wb(),n.Xb(30,"mat-card",7),n.Sb(31,"input",13),n.Sb(32,"mat-datepicker-toggle",11),n.Sb(33,"mat-datepicker",null,14),n.Wb(),n.Rc(35,Ts,3,0,"mat-error",9),n.Wb(),n.Wb(),n.Xb(36,"div",15),n.Xb(37,"div",16),n.Xb(38,"div",17),n.Xb(39,"mat-label",18),n.Tc(40," Do you want add another proof of ID? "),n.Wb(),n.Wb(),n.Xb(41,"div",19),n.Rc(42,Is,4,3,"mat-radio-group",20),n.Wb(),n.Wb(),n.Wb(),n.Rc(43,Os,6,2,"div",21),n.Wb(),n.Wb(),n.Wb(),n.Xb(44,"div",22),n.Xb(45,"button",23),n.fc("click",function(){return e.onSubmit(e.identityUpdateForm.value)}),n.Tc(46,"Save"),n.Wb(),n.Tc(47," \xa0\xa0\xa0 "),n.Xb(48,"button",24),n.fc("click",function(){return e.close()}),n.Tc(49," Cancel "),n.Wb(),n.Wb()),2&t){const t=n.Dc(25),a=n.Dc(34);n.Eb(6),n.rc("formGroup",e.identityUpdateForm),n.Eb(10),n.rc("ngIf",e.identityUpdateForm.get("incorporationNumber").touched&&e.identityUpdateForm.get("incorporationNumber").hasError("required")),n.Eb(1),n.rc("ngIf",e.identityUpdateForm.get("incorporationNumber").hasError("pattern")),n.Eb(5),n.rc("matDatepicker",t)("max",e.maxDate),n.Eb(1),n.rc("for",t),n.Eb(3),n.rc("ngIf",e.identityUpdateForm.get("dateOfIssue").touched&&!e.identityUpdateForm.get("dateOfIssue").valid),n.Eb(5),n.rc("matDatepicker",a)("min",e.validDate),n.Eb(1),n.rc("for",a),n.Eb(3),n.rc("ngIf",e.identityUpdateForm.get("dateOfExpiry").touched&&!e.identityUpdateForm.get("dateOfExpiry").valid),n.Eb(7),n.rc("ngForOf",n.wc(14,As)),n.Eb(1),n.rc("ngIf","YES"==e.identityUpdateForm.get("isAnotherIdProofRequired").value),n.Eb(2),n.rc("disabled",e.identityUpdateForm.invalid)}},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,g.b,W.f,X.a,y.b,p.c,p.r,p.i,q.a,o.n,I.e,I.g,W.j,I.d,g.f,W.g,o.m,C.b,W.b,Kt.b,Kt.a,p.e,p.k,W.c,T.a,D.n,W.h],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();function Ss(t,e){if(1&t&&(n.Xb(0,"mat-option",23),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Ns(t,e){if(1&t&&(n.Xb(0,"mat-option",23),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Ps(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Type Of Ownership is Required! "),n.Wb())}function ks(t,e){1&t&&(n.Xb(0,"legend",38),n.Tc(1,"Document Upload"),n.Wb())}function Fs(t,e){if(1&t&&(n.Xb(0,"mat-option",39),n.Tc(1),n.Wb()),2&t){const t=e.$implicit,a=n.jc(2);n.rc("disabled",a.isDocumentOptionDisabled(t))("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Ls(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Document Type is Required!"),n.Wb(),n.Wb())}function _s(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",24),n.Rc(1,ks,2,0,"legend",25),n.Xb(2,"div",3),n.Xb(3,"div",26),n.Xb(4,"div",27),n.Xb(5,"mat-hint",5),n.Tc(6,"Document Type*"),n.Wb(),n.Xb(7,"mat-card",6),n.Xb(8,"mat-select",28),n.fc("valueChange",function(a){n.Hc(t);const o=e.index;return n.jc().changeValue(a,o)}),n.Xb(9,"mat-option",8),n.Tc(10,"select"),n.Wb(),n.Rc(11,Fs,2,3,"mat-option",29),n.Wb(),n.Wb(),n.Rc(12,Ls,3,0,"mat-error",12),n.Wb(),n.Xb(13,"div",30),n.Sb(14,"img",31),n.Wb(),n.Xb(15,"div",32),n.Xb(16,"input",33,34),n.fc("change",function(a){n.Hc(t);const o=e.index,i=n.Dc(17);return n.jc().onOtherDocSelect(a.target.files,o,i.files[0].name)}),n.Wb(),n.Xb(18,"button",35),n.fc("click",function(){return n.Hc(t),n.Dc(17).click()}),n.Tc(19,"Browse"),n.Wb(),n.Xb(20,"button",36),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index;return n.jc().deleteDocument(a,o)}),n.Xb(21,"mat-icon",37),n.Tc(22,"delete_outline"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.jc();n.rc("formGroupName",a),n.Eb(1),n.rc("ngIf",0==a),n.Eb(10),n.rc("ngForOf",o.documentTypeList),n.Eb(1),n.rc("ngIf",t.get("documentType").touched&&!t.get("documentType").valid),n.Eb(2),n.rc("src",t.controls.fileData.value,n.Jc)}}let ws=(()=>{class t{constructor(t,e,a,o,i,n,r){this.dialogRef=t,this.formBuilder=e,this.data=a,this.ls=o,this.apiService=i,this.corporateService=n,this.snack=r,this.organizationTypeList=["Public","Private"],this.typeOfOwnershipList=["Independent","Dependent"],this.kycStatusList=["APPROVED","BACKLOG","INITIATED","REJECTED"],this.otherDocumentArray=[],this.selectedOptions=[],this.selectedDocumentTypes=[],this.corporateDocs=[],this.isDocumentOptionDisabled=t=>this.selectedOptions.includes(t)}ngOnInit(){if(console.log(this.data),this.corporateId=this.ls.getItem("corporateId"),this.apiService.getDropDownValues("document_type").subscribe(t=>{this.documentTypeList=t}),this.data){this.data.corporateDocs=this.data.corporateDocs.filter(t=>"Profile"!=t.documentName),this.buildOtherFormGroup(this.data);for(let t=0;t<this.data.corporateDocs.length;t++)this.addDocument(),this.otherInfoUpdateForm.controls.corporateDocs.controls[t].controls.documentType.setValue(this.data.corporateDocs[t].documentName),this.otherInfoUpdateForm.controls.corporateDocs.controls[t].controls.fileData.setValue(this.data.corporateDocs[t].fileUrl),this.otherInfoUpdateForm.controls.corporateDocs.controls[t].controls.documentName.setValue(this.data.corporateDocs[t].fileName)}}buildOtherFormGroup(t){this.otherInfoUpdateForm=this.formBuilder.group({corporateId:[this.corporateId],organizationType:[t?t.organizationType:"",p.z.required],typeOfOwnership:[t?t.typeOfOwnership:"",p.z.required],kycReference:[t?t.kycReference:""],KycStatus:[t?t.kycStatus:""],corporateDocs:this.formBuilder.array([])})}get getDocumentList(){return this.otherInfoUpdateForm.get("corporateDocs")}addDocument(){this.getDocumentList.push(this.formBuilder.group({documentType:["",[p.z.required]],documentName:["",[p.z.required]],fileData:[""]}))}deleteDocument(t,e){this.getDocumentList.removeAt(e)}changeValue(t,e){console.log(e),this.selectedDocumentTypes[e]&&(this.selectedOptions=this.selectedOptions.filter(t=>t!==this.selectedDocumentTypes[e])),this.selectedDocumentTypes[e]=t,console.log(t),this.selectedOptions.push(t)}onOtherDocSelect(t,e,a){this.otherDocumentArray.push(t.item(0)),this.otherInfoUpdateForm.get("corporateDocs").controls[e].controls.documentName.setValue(a);let o=new FileReader;o.readAsDataURL(t.item(0)),o.onload=t=>{this.otherInfoUpdateForm.get("corporateDocs").controls[e].controls.fileData.setValue(o.result)}}onSubmit(t){let e={};Object.keys(t).map(function(a,o){"corporateDocs"!=a&&(e[a]=t[a])}),this.corporateService.saveOrUpdateCorporateAccountInfo(e).subscribe(t=>{if(null!=t){for(let e=0;e<this.otherInfoUpdateForm.get("corporateDocs").value.length;e++)if(this.otherDocumentArray.length>0){let a={};a.documentName=this.otherInfoUpdateForm.get("corporateDocs").value[e].documentType,a.documentType=2,a.fileType=this.otherDocumentArray[e].type,a.fileName=this.otherDocumentArray[e].name,a.corporateId=t.corporateId,a.id=this.otherDocumentArray[e].id;const o=new FormData;o.append("data",JSON.stringify(a)),o.append("file",this.otherDocumentArray[e]),this.apiService.uploadCorporateDocument(o).subscribe(t=>{console.log(t),this.corporateDocs.push(t)})}}else this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});this.dialogRef.close({status:"INITIATED",resp:{typeOfOwnership:t.typeOfOwnership,organizationType:t.organizationType,corporateDocs:this.corporateDocs}})},t=>{console.log("error resp :: ",t),this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.g),n.Rb(p.f),n.Rb(b.a),n.Rb(l.a),n.Rb(r.b),n.Rb(Xr.a),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-corporate-addititonal-info"]],decls:45,vars:6,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["fxFlex","33%","fxFl50ex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["id","forOrganizationType","formControlName","organizationType","required",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","33%","fxFlex.xs","100%",1,"full-width"],["id","forTypeOfOwnership","formControlName","typeOfOwnership","required",""],[4,"ngIf"],["formArrayName","corporateDocs"],[3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row wrap"],["fxFlex","100","fxLayoutGap","1px"],["fxFlex","1"],["fxFlex","20"],["mat-button","","color","primary",3,"click"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"],[3,"formGroupName"],["visible","true",4,"ngIf"],["fxFlex","100","fxLayoutGap","20px",1,"padding"],["fxFlex","50","fxFlex.xs","100%",1,"full-width"],["id","forDocumentType","formControlName","documentType","required","",3,"valueChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.xs","100%",1,"pt20"],["height","80px","width","85px",3,"src"],["fxFlex","30","fxLayoutGap","5px",2,"display","flex","margin-top","20px","align-content","center","margin-left","30px"],["type","file","name","fileData","formControlName","fileData",1,"default-background",2,"display","none","margin-top","20px",3,"change"],["fileData",""],["mat-button","",2,"text-decoration","underline","color","#456EFE",3,"routerLink","click"],["mat-button","",3,"click"],[2,"color","tomato"],["visible","true"],[3,"disabled","value"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1"),n.Tc(4,"Other Information"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"form",2),n.Xb(7,"div"),n.Xb(8,"h3"),n.Tc(9,"Organization Information"),n.Wb(),n.Sb(10,"hr"),n.Xb(11,"div",3),n.Xb(12,"div",4),n.Xb(13,"mat-hint",5),n.Tc(14,"Organization Type"),n.Wb(),n.Xb(15,"mat-card",6),n.Xb(16,"mat-select",7),n.Xb(17,"mat-option",8),n.Tc(18,"select"),n.Wb(),n.Rc(19,Ss,2,2,"mat-option",9),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",10),n.Xb(21,"mat-hint",5),n.Tc(22,"Type of Ownership"),n.Wb(),n.Xb(23,"mat-card",6),n.Xb(24,"mat-select",11),n.Xb(25,"mat-option",8),n.Tc(26,"select"),n.Wb(),n.Rc(27,Ns,2,2,"mat-option",9),n.Wb(),n.Wb(),n.Rc(28,Ps,2,0,"mat-error",12),n.Wb(),n.Xb(29,"div",13),n.Rc(30,_s,23,5,"div",14),n.Xb(31,"div",15),n.Xb(32,"div",16),n.Sb(33,"div",17),n.Xb(34,"div",18),n.Xb(35,"button",19),n.fc("click",function(){return e.addDocument()}),n.Xb(36,"mat-icon"),n.Tc(37,"add"),n.Wb(),n.Tc(38," ADD DOCUMENT "),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(39,"div",20),n.Xb(40,"button",21),n.fc("click",function(){return e.onSubmit(e.otherInfoUpdateForm.value)}),n.Tc(41,"Save"),n.Wb(),n.Tc(42," \xa0\xa0\xa0 "),n.Xb(43,"button",22),n.fc("click",function(){return e.close()}),n.Tc(44," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("formGroup",e.otherInfoUpdateForm),n.Eb(13),n.rc("ngForOf",e.organizationTypeList),n.Eb(8),n.rc("ngForOf",e.typeOfOwnershipList),n.Eb(1),n.rc("ngIf",e.otherInfoUpdateForm.get("typeOfOwnership").touched&&!e.otherInfoUpdateForm.get("typeOfOwnership").valid),n.Eb(2),n.rc("ngForOf",e.otherInfoUpdateForm.get("corporateDocs").controls),n.Eb(10),n.rc("disabled",e.otherInfoUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.e,p.A,p.s,p.j,g.b,W.f,X.a,T.a,p.r,p.i,p.y,D.n,o.m,o.n,p.e,g.f,C.b,W.b,p.k,p.c,je.i],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}legend[_ngcontent-%COMP%]{width:auto;color:grey;font-size:20px;padding-right:20px;font-family:Montserrat,Courier,monospace}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();function Us(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Enter Valid Address "),n.Wb())}function Ms(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Enter Valid Address "),n.Wb())}function Gs(t,e){if(1&t&&(n.Xb(0,"mat-option",30),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Vs(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Country is Required! "),n.Wb())}function Bs(t,e){if(1&t&&(n.Xb(0,"mat-option",30),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.stateName),n.Eb(1),n.Vc(" ",t.stateName," ")}}function js(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," State is Required! "),n.Wb())}function zs(t,e){if(1&t&&(n.Xb(0,"mat-option",30),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.value1),n.Eb(1),n.Vc(" ",t.value1," ")}}function qs(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," City is Required! "),n.Wb())}function Js(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please enter valid Zip code"),n.Wb(),n.Wb())}function Ks(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Please enter valid ZipCode!"),n.Wb(),n.Wb())}function $s(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",20),n.Xb(1,"h3",7),n.Tc(2,"Company Address"),n.Wb(),n.Sb(3,"hr"),n.Xb(4,"div",21),n.Xb(5,"div",8),n.Xb(6,"mat-hint",9),n.Tc(7,"Address Line 1*"),n.Wb(),n.Xb(8,"mat-card",10),n.Sb(9,"input",22),n.Wb(),n.Rc(10,Us,2,0,"mat-error",12),n.Wb(),n.Xb(11,"div",8),n.Xb(12,"mat-hint",9),n.Tc(13,"Address Line 2*"),n.Wb(),n.Xb(14,"mat-card",10),n.Sb(15,"input",23),n.Wb(),n.Rc(16,Ms,2,0,"mat-error",12),n.Wb(),n.Xb(17,"div",8),n.Xb(18,"mat-hint",9),n.Tc(19,"Country*"),n.Wb(),n.Xb(20,"mat-card",10),n.Xb(21,"mat-select",24),n.fc("selectionChange",function(a){n.Hc(t);const o=e.index;return n.jc().getStateName(a.value,o)}),n.Xb(22,"mat-option",25),n.Tc(23,"select"),n.Wb(),n.Rc(24,Gs,2,2,"mat-option",26),n.Wb(),n.Wb(),n.Rc(25,Vs,2,0,"mat-error",12),n.Wb(),n.Xb(26,"div",8),n.Xb(27,"mat-hint",9),n.Tc(28,"State*"),n.Wb(),n.Xb(29,"mat-card",10),n.Xb(30,"mat-select",27),n.fc("selectionChange",function(a){n.Hc(t);const o=e.index;return n.jc().getCityName(a.value,o)}),n.Xb(31,"mat-option",25),n.Tc(32,"select---"),n.Wb(),n.Rc(33,Bs,2,2,"mat-option",26),n.Wb(),n.Wb(),n.Rc(34,js,2,0,"mat-error",12),n.Wb(),n.Xb(35,"div",8),n.Xb(36,"mat-hint",9),n.Tc(37,"City*"),n.Wb(),n.Xb(38,"mat-card",10),n.Xb(39,"mat-select",28),n.Xb(40,"mat-option",25),n.Tc(41,"select---"),n.Wb(),n.Rc(42,zs,2,2,"mat-option",26),n.Wb(),n.Wb(),n.Rc(43,qs,2,0,"mat-error",12),n.Wb(),n.Xb(44,"div",8),n.Xb(45,"mat-hint",9),n.Tc(46,"Zip code*"),n.Wb(),n.Xb(47,"mat-card",10),n.Xb(48,"input",29),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)})("keyup",function(a){n.Hc(t);const o=e.index;return n.jc().isAllSameDigit(a,o)}),n.Wb(),n.Wb(),n.Rc(49,Js,3,0,"mat-error",12),n.Rc(50,Ks,3,0,"mat-error",12),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index,o=n.jc();n.rc("formGroupName",a),n.Eb(10),n.rc("ngIf",t.get("address1").touched&&!t.get("address1").valid||t.get("address1").touched&&t.get("address1").hasError("pattern")),n.Eb(6),n.rc("ngIf",t.get("address2").touched&&!t.get("address2").valid||t.get("address2").touched&&t.get("address2").hasError("pattern")),n.Eb(8),n.rc("ngForOf",o.arrayCountry),n.Eb(1),n.rc("ngIf",t.get("country").touched&&!t.get("country").valid),n.Eb(8),n.rc("ngForOf",o.arrayState),n.Eb(1),n.rc("ngIf",t.get("state").touched&&!t.get("state").valid),n.Eb(8),n.rc("ngForOf",o.arrayCity),n.Eb(1),n.rc("ngIf",t.get("city").touched&&!t.get("city").valid),n.Eb(6),n.rc("ngIf",t.get("zipCode").touched&&!t.get("zipCode").valid&&!t.controls.zipCode.hasError("minLength")),n.Eb(1),n.rc("ngIf",o.isAllSameDigitVal&&a==o.zipIndex)}}function Hs(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Primary Email is Required! "),n.Wb())}let Ys=(()=>{class t{constructor(t,e,a,o,i,n,r){this.data=t,this.dialogRef=e,this.formBuilder=a,this.corporateService=o,this.ls=i,this.snack=n,this.apiService=r,this.arrayState=[],this.arrayCountry=[],this.arrayCity=[],this.isAllSameDigitVal=!1,this.corporateAddress=new p.d([])}ngOnInit(){this.corporateId=this.ls.getItem("corporateId"),console.log(this.data),this.getCountryName("country"),this.data?(this.buildContactForm(this.data[0]),this.corporateAddress=this.updateContactInfoForm.get("corporateAddress"),this.corporateAddress.push(this.createUserAddress(this.data[0])),this.getStateName(this.corporateAddress.get("country").value),this.getStateName(this.corporateAddress.get("state").value)):(this.buildContactForm(),this.corporateAddress=this.updateContactInfoForm.get("corporateAddress"),this.corporateAddress.push(this.createUserAddress()))}buildContactForm(t){this.updateContactInfoForm=this.formBuilder.group({corporateId:[this.corporateId],primaryEmail:[t?t.primaryEmail:"",[p.z.required]],secondaryEmail:[t?t.secondaryEmail:""],mobileNumber:[t?t.mobileNumber:"",[p.z.minLength(10),p.z.maxLength(10)]],landLine:[t?t.landlineNumber:"",[p.z.maxLength,p.z.minLength]],isMailingAddressSame:["YES"],corporateAddress:this.formBuilder.array([])})}createUserAddress(t){return this.formBuilder.group({addressType:["Communication",[p.z.required]],address1:[t?t.address1:[""],[p.z.pattern(".*[a-zA-Z].*")]],address2:[t?t.address2:[""],[p.z.pattern(".*[a-zA-Z].*")]],city:t?t.city:[""],state:t?t.state:[""],zipCode:t?t.zipCode:[""],country:t?t.country:[""],residenceType:t?t.residenceType:[""]})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}isAllSameDigit(t,e){this.zipIndex=e;let a=0,o=t.target.value;if(""!=o){for(var i=0;i<o.length;i++)0==o[i]&&a++;this.isAllSameDigitVal=a==o.length}else this.isAllSameDigitVal=!1}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&this.arrayCountry.push(t[e].countryName)})}getStateName(t){this.arrayState=[],this.arrayCity=[],this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName==t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{this.arrayState=t});break}})}getCityName(t){this.apiService.getDropDownValues1("city",t).subscribe(t=>{this.arrayCity=t})}onSubmit(t){"NO"==t.isMailingAddressSame&&(t.corporateAddress[0].addressType="Company",t.corporateAddress[1].addressType="Mailing"),"YES"==t.isMailingAddressSame&&(t.corporateAddress[0].addressType="Company"),this.corporateService.saveOrUpdateCorporateAccountInfo(t).subscribe(t=>{null!=t&&(this.corporateService.sendCorporateAccountId(t.corporateId),this.snack.open("Contact Information Updated !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close({status:"INITIATED",resp:this.updateContactInfoForm.value}))})}close(){this.dialogRef.close({status:"UNDER_PROCESS"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(p.f),n.Rb(Xr.a),n.Rb(l.a),n.Rb(f.a),n.Rb(r.b))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-corporate-contact-info"]],decls:45,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["mat-dialog-title","",2,"font-size","18px"],[3,"formGroup"],["fxLayout","row wrap",1,"full-width"],["formArrayName","corporateAddress"],["fxFlex","row wrap","class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],[1,"heading",2,"font-weight","600"],["fxFlex","33.33%","fxFlex.xs","100%",1,"full-width"],[1,"hintClass"],[1,"inputCard"],["matInput","","id","forPrimaryEmail","formControlName","primaryEmail","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"],[4,"ngIf"],["matInput","","id","forSecondaryEmail","formControlName","secondaryEmail","type","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$"],["FxLayout","row wrap",1,"full-width"],["matInput","","placeholder","Mobile Number","formControlName","mobileNumber","maxLength","10","minlength","10","onlyNumber","","required","",3,"keypress"],["matInput","","placeholder","Landline Number","formControlName","landLine","maxLength","10","minLength","10","onlyNumber","",3,"keypress"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxFlex","row wrap",1,"full-width",3,"formGroupName"],["fxLayout","row wrap"],["matInput","","placeholder","Address Line 1","formControlName","address1","id","forAddress1"],["matInput","","placeholder","Address Line 2","formControlName","address2","id","forAddress2"],["id","forcountry","formControlName","country",3,"selectionChange"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["id","forstate","formControlName","state",3,"selectionChange"],["id","forCity","formControlName","city"],["minlength","6","placeholder","Zip Code","maxlength","10","matInput","","id","forZipCode","onlyNumber","","formControlName","zipCode",3,"keypress","keyup"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h2",2),n.Tc(4,"Contact Information"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"form",3),n.Xb(7,"div",4),n.Xb(8,"div",5),n.Rc(9,$s,51,11,"div",6),n.Wb(),n.Xb(10,"h3",7),n.Tc(11,"Email"),n.Wb(),n.Sb(12,"hr"),n.Xb(13,"div",4),n.Xb(14,"div",8),n.Xb(15,"mat-hint",9),n.Tc(16,"Primary Email*"),n.Wb(),n.Xb(17,"mat-card",10),n.Sb(18,"input",11),n.Wb(),n.Rc(19,Hs,2,0,"mat-error",12),n.Wb(),n.Xb(20,"div",8),n.Xb(21,"mat-hint",9),n.Tc(22,"Secondary Email"),n.Wb(),n.Xb(23,"mat-card",10),n.Sb(24,"input",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"h3",7),n.Tc(26,"Contact Number"),n.Wb(),n.Sb(27,"hr"),n.Xb(28,"div",14),n.Xb(29,"div",8),n.Xb(30,"mat-hint",9),n.Tc(31,"Mobile Number*"),n.Wb(),n.Xb(32,"mat-card",10),n.Xb(33,"input",15),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(34,"div",8),n.Xb(35,"mat-hint",9),n.Tc(36,"Landline Number"),n.Wb(),n.Xb(37,"mat-card",10),n.Xb(38,"input",16),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(39,"div",17),n.Xb(40,"button",18),n.fc("click",function(){return e.onSubmit(e.updateContactInfoForm.value)}),n.Tc(41,"Save"),n.Wb(),n.Tc(42," \xa0\xa0\xa0 "),n.Xb(43,"button",19),n.fc("click",function(){return e.close()}),n.Tc(44," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("formGroup",e.updateContactInfoForm),n.Eb(3),n.rc("ngForOf",e.updateContactInfoForm.get("corporateAddress").controls),n.Eb(10),n.rc("ngIf",e.updateContactInfoForm.get("primaryEmail").touched&&!e.updateContactInfoForm.get("primaryEmail").valid),n.Eb(21),n.rc("disabled",e.updateContactInfoForm.invalid))},directives:[g.e,g.d,v.a,b.h,b.e,p.A,p.s,p.j,p.e,o.m,g.b,W.f,X.a,y.b,p.c,p.r,p.i,p.w,o.n,p.n,q.a,p.y,g.f,C.b,p.k,T.a,D.n,p.m,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box}.hintClass[_ngcontent-%COMP%]{padding-left:10px;color:#304156}.errorClass[_ngcontent-%COMP%]{padding-left:10px;font-size:smaller;font-weight:600}input[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1000px #f9fafb!important;width:100%!important}"]}),t})();const Zs=["ncForm"];function Qs(t,e){1&t&&n.Sb(0,"mat-spinner")}function tl(t,e){if(1&t&&(n.Xb(0,"div",15),n.Xb(1,"h1",16),n.Tc(2),n.kc(3,"slice"),n.kc(4,"uppercase"),n.Wb(),n.Wb()),2&t){const t=n.jc(2);n.Oc("background",t.customerColorCode),n.Eb(2),n.Vc("",n.nc(3,3,n.lc(4,7,null==t.dataResponse||null==t.dataResponse.dataResp?null:t.dataResponse.dataResp.companyName),0,1)," ")}}function el(t,e){if(1&t&&n.Sb(0,"img",18),2&t){const t=n.jc(3);n.rc("src",t.imageUrl,n.Jc)}}function al(t,e){if(1&t&&(n.Xb(0,"div",15),n.Rc(1,el,1,1,"img",17),n.Wb()),2&t){const t=n.jc(2);n.Eb(1),n.rc("ngIf",null!=t.image)}}function ol(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",19),n.Xb(1,"div",20),n.Xb(2,"div",21),n.Tc(3,"1"),n.Wb(),n.Xb(4,"div",22),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"mat-card",23),n.Xb(7,"div",24),n.Xb(8,"div",25),n.Xb(9,"div",26),n.Xb(10,"h2",27),n.Tc(11,"Basic Information"),n.Wb(),n.Xb(12,"span"),n.Xb(13,"mat-icon",28),n.fc("click",function(){return n.Hc(t),n.jc(2).editBasicInfo()}),n.Tc(14,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(15,"mat-divider",29),n.Wb(),n.Xb(16,"div",30),n.Xb(17,"div",31),n.Xb(18,"div",32),n.Xb(19,"div",33),n.Xb(20,"div",34),n.Xb(21,"div",35),n.Xb(22,"div",36),n.Xb(23,"div",37),n.Xb(24,"mat-hint",38),n.Tc(25," Corporate ID "),n.Wb(),n.Xb(26,"mat-card",39),n.Xb(27,"div"),n.Tc(28),n.Wb(),n.Wb(),n.Wb(),n.Xb(29,"div",37),n.Xb(30,"mat-hint",38),n.Tc(31," Company Name "),n.Wb(),n.Xb(32,"mat-card",39),n.Xb(33,"div"),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div",37),n.Xb(36,"mat-hint",38),n.Tc(37," Category "),n.Wb(),n.Xb(38,"mat-card",39),n.Xb(39,"div"),n.Tc(40),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(41,"div",36),n.Xb(42,"div",37),n.Xb(43,"mat-hint",38),n.Tc(44," Country "),n.Wb(),n.Xb(45,"mat-card",39),n.Xb(46,"div"),n.Tc(47),n.Wb(),n.Wb(),n.Wb(),n.Xb(48,"div",37),n.Xb(49,"mat-hint",38),n.Tc(50," Corporate Status "),n.Wb(),n.Xb(51,"mat-card",39),n.Xb(52,"div"),n.Tc(53),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(13),n.rc("hidden",t.editScreen),n.Eb(15),n.Uc(t.dataResponse.dataResp.corporateId),n.Eb(6),n.Uc(t.dataResponse.dataResp.companyName),n.Eb(6),n.Uc(t.dataResponse.dataResp.category),n.Eb(7),n.Uc(t.dataResponse.dataResp.country),n.Eb(6),n.Uc(t.dataResponse.dataResp.corporateStatus)}}function il(t,e){if(1&t&&(n.Xb(0,"div",51),n.Xb(1,"mat-hint",38),n.Tc(2," No Of Directors "),n.Wb(),n.Xb(3,"mat-card",39),n.Xb(4,"div"),n.Tc(5),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc(4);n.Eb(5),n.Uc(t.dataResponse.dataResp.noOfDirectors)}}function nl(t,e){if(1&t&&(n.Xb(0,"div",51),n.Xb(1,"mat-hint",38),n.Tc(2," Middle Name "),n.Wb(),n.Xb(3,"mat-card",39),n.Xb(4,"div"),n.Tc(5),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(5),n.Uc(t.middleName)}}function rl(t,e){if(1&t&&(n.Xb(0,"div",30),n.Xb(1,"div",31),n.Xb(2,"div",32),n.Xb(3,"div",33),n.Xb(4,"div",34),n.Xb(5,"div",35),n.Xb(6,"div",36),n.Rc(7,il,6,1,"div",44),n.Xb(8,"div",37),n.Xb(9,"mat-hint",38),n.Tc(10," CIF Number "),n.Wb(),n.Xb(11,"mat-card",39),n.Xb(12,"div"),n.Tc(13),n.Wb(),n.Wb(),n.Wb(),n.Xb(14,"div",37),n.Xb(15,"mat-hint",38),n.Tc(16," Customer ID "),n.Wb(),n.Xb(17,"mat-card",39),n.Xb(18,"div"),n.Tc(19),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",36),n.Xb(21,"div",37),n.Xb(22,"mat-hint",38),n.Tc(23," Prefix* "),n.Wb(),n.Xb(24,"mat-card",39),n.Xb(25,"div"),n.Tc(26),n.Wb(),n.Wb(),n.Wb(),n.Xb(27,"div",37),n.Xb(28,"mat-hint",38),n.Tc(29," First Name* "),n.Wb(),n.Xb(30,"mat-card",39),n.Xb(31,"div"),n.Tc(32),n.Wb(),n.Wb(),n.Wb(),n.Rc(33,nl,6,1,"div",44),n.Xb(34,"div",37),n.Xb(35,"mat-hint",38),n.Tc(36," Last Name* "),n.Wb(),n.Xb(37,"mat-card",39),n.Xb(38,"div"),n.Tc(39),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(40,"div",36),n.Xb(41,"div",37),n.Xb(42,"mat-hint",38),n.Tc(43," Gender* "),n.Wb(),n.Xb(44,"mat-card",39),n.Xb(45,"div"),n.Tc(46),n.Wb(),n.Wb(),n.Wb(),n.Xb(47,"div",37),n.Xb(48,"mat-hint",38),n.Tc(49," Date of Birth* "),n.Wb(),n.Xb(50,"mat-card",39),n.Xb(51,"div"),n.Tc(52),n.Wb(),n.Wb(),n.Wb(),n.Xb(53,"div",37),n.Xb(54,"mat-hint",38),n.Tc(55," Place of Birth* "),n.Wb(),n.Xb(56,"mat-card",39),n.Xb(57,"div"),n.Tc(58),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(59,"div",30),n.Xb(60,"div",37),n.Xb(61,"mat-hint",38),n.Tc(62," Residence type*"),n.Wb(),n.Xb(63,"mat-card",39),n.Xb(64,"div"),n.Tc(65),n.Wb(),n.Wb(),n.Wb(),n.Xb(66,"div",37),n.Xb(67,"mat-hint",38),n.Tc(68," Citizenship*"),n.Wb(),n.Xb(69,"mat-card",39),n.Xb(70,"div"),n.Tc(71),n.Wb(),n.Wb(),n.Wb(),n.Xb(72,"div",37),n.Xb(73,"mat-hint",38),n.Tc(74," Country of Residence*"),n.Wb(),n.Xb(75,"mat-card",39),n.Xb(76,"div"),n.Tc(77),n.Wb(),n.Wb(),n.Wb(),n.Xb(78,"div",37),n.Xb(79,"mat-hint",38),n.Tc(80," ID Type*"),n.Wb(),n.Xb(81,"mat-card",39),n.Xb(82,"div"),n.Tc(83),n.Wb(),n.Wb(),n.Wb(),n.Xb(84,"div",37),n.Xb(85,"mat-hint",38),n.Tc(86," ID Number*"),n.Wb(),n.Xb(87,"mat-card",39),n.Xb(88,"div"),n.Tc(89),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(90,"div",34),n.Xb(91,"div",45),n.Xb(92,"h1",46),n.Tc(93,"Communication Address"),n.Wb(),n.Wb(),n.Wb(),n.Sb(94,"hr",47),n.Xb(95,"div",30),n.Xb(96,"div",48),n.Xb(97,"mat-hint",38),n.Tc(98," Address Line 1* "),n.Wb(),n.Xb(99,"mat-card",39),n.Xb(100,"div"),n.Tc(101),n.Wb(),n.Wb(),n.Wb(),n.Xb(102,"div",48),n.Xb(103,"mat-hint",38),n.Tc(104," Address Line 2* "),n.Wb(),n.Xb(105,"mat-card",39),n.Xb(106,"div"),n.Tc(107),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(108,"div",30),n.Xb(109,"div",49),n.Xb(110,"mat-hint",38),n.Tc(111," Country* "),n.Wb(),n.Xb(112,"mat-card",39),n.Xb(113,"div"),n.Tc(114),n.Wb(),n.Wb(),n.Wb(),n.Xb(115,"div",49),n.Xb(116,"mat-hint",38),n.Tc(117," State* "),n.Wb(),n.Xb(118,"mat-card",39),n.Xb(119,"div"),n.Tc(120),n.Wb(),n.Wb(),n.Wb(),n.Xb(121,"div",49),n.Xb(122,"mat-hint",38),n.Tc(123," City* "),n.Wb(),n.Xb(124,"mat-card",39),n.Xb(125,"div"),n.Tc(126),n.Wb(),n.Wb(),n.Wb(),n.Xb(127,"div",49),n.Xb(128,"mat-hint",38),n.Tc(129," Zipcode* "),n.Wb(),n.Xb(130,"mat-card",39),n.Xb(131,"div"),n.Tc(132),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(133,"div",34),n.Xb(134,"div",45),n.Xb(135,"h1",46),n.Tc(136,"Contact Information"),n.Wb(),n.Wb(),n.Wb(),n.Sb(137,"hr",47),n.Xb(138,"div",30),n.Xb(139,"div",37),n.Xb(140,"mat-hint",38),n.Tc(141," Mobile Number* "),n.Wb(),n.Xb(142,"mat-card",39),n.Xb(143,"div"),n.Tc(144),n.Wb(),n.Wb(),n.Wb(),n.Xb(145,"div",37),n.Xb(146,"mat-hint",38),n.Tc(147," Landline Number* "),n.Wb(),n.Xb(148,"mat-card",39),n.Xb(149,"div"),n.Tc(150),n.Wb(),n.Wb(),n.Wb(),n.Xb(151,"div",37),n.Xb(152,"mat-hint",38),n.Tc(153," Email* "),n.Wb(),n.Xb(154,"mat-card",39),n.Xb(155,"div"),n.Tc(156),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(157,"div",30),n.Xb(158,"div",50),n.Xb(159,"h1",46),n.Tc(160,"Additional Tax ID Details"),n.Wb(),n.Wb(),n.Wb(),n.Sb(161,"hr",47),n.Xb(162,"div",30),n.Xb(163,"div",48),n.Xb(164,"mat-hint",38),n.Tc(165," Tax ID* "),n.Wb(),n.Xb(166,"mat-card",39),n.Xb(167,"div"),n.Tc(168),n.Wb(),n.Wb(),n.Wb(),n.Xb(169,"div",48),n.Xb(170,"mat-hint",38),n.Tc(171," Country of Issue* "),n.Wb(),n.Xb(172,"mat-card",39),n.Xb(173,"div"),n.Tc(174),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=n.jc(3);n.Eb(7),n.rc("ngIf",a.dataResponse.dataResp.middleName),n.Eb(6),n.Uc(t.cifNumber),n.Eb(6),n.Uc(t.custStatus),n.Eb(7),n.Uc(t.prefix),n.Eb(6),n.Uc(t.firstName),n.Eb(1),n.rc("ngIf",a.dataResponse.dataResp.middleName),n.Eb(6),n.Uc(t.lastName),n.Eb(7),n.Uc(t.gender),n.Eb(6),n.Uc(t.dateOfBirth),n.Eb(6),n.Uc(t.placeOfBirth),n.Eb(7),n.Uc(t.residenceStatus),n.Eb(6),n.Uc(a.dataResponse.dataResp.customerInfo[0].citizenship),n.Eb(6),n.Uc(a.dataResponse.dataResp.customerInfo[0].countryOfResidence),n.Eb(6),n.Uc(null==a.dataResponse.dataResp.customerInfo[0].custIdProofs[0]?null:a.dataResponse.dataResp.customerInfo[0].custIdProofs[0].idType),n.Eb(6),n.Uc(null==a.dataResponse.dataResp.customerInfo[0].custIdProofs[0]?null:a.dataResponse.dataResp.customerInfo[0].custIdProofs[0].idNumber),n.Eb(12),n.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].address1),n.Eb(6),n.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].address2),n.Eb(7),n.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].country),n.Eb(6),n.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].state),n.Eb(6),n.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].city),n.Eb(6),n.Uc(a.dataResponse.dataResp.customerInfo[0].userAddress[0].zipCode),n.Eb(12),n.Uc(a.dataResponse.dataResp.customerInfo[0].phoneNumber),n.Eb(6),n.Uc(a.dataResponse.dataResp.customerInfo[0].landlineNumber),n.Eb(6),n.Uc(a.dataResponse.dataResp.customerInfo[0].primaryEmailAdress),n.Eb(12),n.Uc(a.dataResponse.dataResp.customerInfo[0].custTaxInfo[0].taxId),n.Eb(6),n.Uc(a.dataResponse.dataResp.customerInfo[0].custTaxInfo[0].countryOfIssue)}}function cl(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",19),n.Xb(1,"div",20),n.Xb(2,"div",21),n.Tc(3,"2"),n.Wb(),n.Xb(4,"div",22),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"mat-card",40),n.Xb(7,"div",41),n.Xb(8,"div",42),n.Xb(9,"div",26),n.Xb(10,"h2",27),n.Tc(11,"Director Details"),n.Wb(),n.Xb(12,"span"),n.Xb(13,"mat-icon",28),n.fc("click",function(){return n.Hc(t),n.jc(2).editDirectorDetails()}),n.Tc(14,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(15,"mat-divider",29),n.Wb(),n.Rc(16,rl,175,26,"div",43),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(13),n.rc("hidden",t.editScreen),n.Eb(3),n.rc("ngForOf",t.directorsInfo_array)}}function sl(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div",30),n.Xb(2,"div",31),n.Xb(3,"div",54),n.Xb(4,"div",34),n.Xb(5,"div",45),n.Xb(6,"h1",46),n.Tc(7,"Company Address"),n.Wb(),n.Wb(),n.Wb(),n.Sb(8,"hr",47),n.Xb(9,"div",30),n.Xb(10,"div",48),n.Xb(11,"mat-hint",38),n.Tc(12," Address Line 1* "),n.Wb(),n.Xb(13,"mat-card",39),n.Xb(14,"div"),n.Tc(15),n.Wb(),n.Wb(),n.Wb(),n.Xb(16,"div",48),n.Xb(17,"mat-hint",38),n.Tc(18," Address Line 2* "),n.Wb(),n.Xb(19,"mat-card",39),n.Xb(20,"div"),n.Tc(21),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(22,"div",30),n.Xb(23,"div",49),n.Xb(24,"mat-hint",38),n.Tc(25," Country* "),n.Wb(),n.Xb(26,"mat-card",39),n.Xb(27,"div"),n.Tc(28),n.Wb(),n.Wb(),n.Wb(),n.Xb(29,"div",49),n.Xb(30,"mat-hint",38),n.Tc(31," State* "),n.Wb(),n.Xb(32,"mat-card",39),n.Xb(33,"div"),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div",49),n.Xb(36,"mat-hint",38),n.Tc(37," City* "),n.Wb(),n.Xb(38,"mat-card",39),n.Xb(39,"div"),n.Tc(40),n.Wb(),n.Wb(),n.Wb(),n.Xb(41,"div",49),n.Xb(42,"mat-hint",38),n.Tc(43," Zipcode* "),n.Wb(),n.Xb(44,"mat-card",39),n.Xb(45,"div"),n.Tc(46),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(47,"div",34),n.Xb(48,"div",45),n.Xb(49,"h1",46),n.Tc(50,"Email"),n.Wb(),n.Wb(),n.Wb(),n.Sb(51,"hr",47),n.Xb(52,"div",30),n.Xb(53,"div",49),n.Xb(54,"mat-hint",38),n.Tc(55," Primary Email* "),n.Wb(),n.Xb(56,"mat-card",39),n.Xb(57,"div"),n.Tc(58),n.Wb(),n.Wb(),n.Wb(),n.Xb(59,"div",49),n.Xb(60,"mat-hint",38),n.Tc(61," Secondary Email "),n.Wb(),n.Xb(62,"mat-card",39),n.Xb(63,"div"),n.Tc(64),n.Wb(),n.Wb(),n.Wb(),n.Xb(65,"div",34),n.Xb(66,"div",45),n.Xb(67,"h1",46),n.Tc(68,"Contact Number"),n.Wb(),n.Wb(),n.Wb(),n.Sb(69,"hr",47),n.Xb(70,"div",49),n.Xb(71,"mat-hint",38),n.Tc(72," Mobile Number* "),n.Wb(),n.Xb(73,"mat-card",39),n.Xb(74,"div"),n.Tc(75),n.Wb(),n.Wb(),n.Wb(),n.Xb(76,"div",49),n.Xb(77,"mat-hint",38),n.Tc(78," Landline Number* "),n.Wb(),n.Xb(79,"mat-card",39),n.Xb(80,"div"),n.Tc(81),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc(3);n.Eb(15),n.Uc(t.dataResponse.dataResp.corporateAddress[0].address1),n.Eb(6),n.Uc(t.dataResponse.dataResp.corporateAddress[0].address2),n.Eb(7),n.Uc(t.dataResponse.dataResp.corporateAddress[0].country),n.Eb(6),n.Uc(t.dataResponse.dataResp.corporateAddress[0].state),n.Eb(6),n.Uc(t.dataResponse.dataResp.corporateAddress[0].city),n.Eb(6),n.Uc(t.dataResponse.dataResp.corporateAddress[0].zipCode),n.Eb(12),n.Uc(t.dataResponse.dataResp.primaryEmail),n.Eb(6),n.Uc(t.dataResponse.dataResp.secondaryEmail),n.Eb(11),n.Uc(t.dataResponse.dataResp.mobileNumber),n.Eb(6),n.Uc(t.dataResponse.dataResp.customerInfo[0].landlineNumber)}}function ll(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",19),n.Xb(1,"div",20),n.Xb(2,"div",21),n.Tc(3,"3"),n.Wb(),n.Xb(4,"div",22),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"mat-card",52),n.Xb(7,"div",24),n.Xb(8,"div",41),n.Xb(9,"div",42),n.Xb(10,"div",26),n.Xb(11,"h2",27),n.Tc(12,"Contact Information"),n.Wb(),n.Xb(13,"span"),n.Xb(14,"mat-icon",28),n.fc("click",function(){return n.Hc(t),n.jc(2).editContactInfo()}),n.Tc(15,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(16,"mat-divider",29),n.Wb(),n.Rc(17,sl,82,10,"div",53),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(14),n.rc("hidden",t.editScreen),n.Eb(3),n.rc("ngForOf",t.userAddress_array)}}function bl(t,e){1&t&&(n.Xb(0,"small",58),n.Tc(1,"No Data Found"),n.Wb())}function dl(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div",36),n.Xb(2,"div",37),n.Xb(3,"mat-hint",38),n.Tc(4," Incorporation Number "),n.Wb(),n.Xb(5,"mat-card",39),n.Xb(6,"div"),n.Tc(7),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"div",37),n.Xb(9,"mat-hint",38),n.Tc(10," Date Of Issue "),n.Wb(),n.Xb(11,"mat-card",39),n.Xb(12,"div"),n.Tc(13),n.Wb(),n.Wb(),n.Wb(),n.Xb(14,"div",37),n.Xb(15,"mat-hint",38),n.Tc(16," Date Of Expiry "),n.Wb(),n.Xb(17,"mat-card",39),n.Xb(18,"div"),n.Tc(19),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc(3);n.Eb(7),n.Uc(t.dataResponse.dataResp.incorporationNumber),n.Eb(6),n.Uc(t.dataResponse.dataResp.dateOfIssue),n.Eb(6),n.Uc(t.dataResponse.dataResp.dateOfExpiry)}}function ul(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",19),n.Xb(1,"div",20),n.Xb(2,"div",21),n.Tc(3,"4"),n.Wb(),n.Xb(4,"div",22),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"mat-card",55),n.Xb(7,"div",41),n.Xb(8,"div",42),n.Xb(9,"div",26),n.Xb(10,"h2",27),n.Tc(11,"Proof Of Identity"),n.Wb(),n.Xb(12,"span"),n.Xb(13,"mat-icon",28),n.fc("click",function(){return n.Hc(t),n.jc(2).editProofOfIdentity()}),n.Tc(14,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(15,"mat-divider",29),n.Wb(),n.Xb(16,"div"),n.Xb(17,"div",56),n.Xb(18,"div",54),n.Rc(19,bl,2,0,"small",57),n.Rc(20,dl,20,3,"div",1),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(13),n.rc("hidden",t.editScreen),n.Eb(6),n.rc("ngIf",null==t.custDoc_array),n.Eb(1),n.rc("ngIf",null!=t.custDoc_array&&(null==t.custDoc_array?null:t.custDoc_array.length)>0)}}function ml(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div",37),n.Xb(2,"mat-hint",38),n.Tc(3," Document Type* "),n.Wb(),n.Xb(4,"mat-card",39),n.Xb(5,"div"),n.Tc(6),n.Wb(),n.Wb(),n.Wb(),n.Xb(7,"div",37),n.Xb(8,"mat-hint",61),n.Tc(9," \xa0\xa0 Document Name* "),n.Wb(),n.Xb(10,"div",62),n.Sb(11,"img",63),n.Xb(12,"div"),n.Tc(13),n.Wb(),n.Wb(),n.Wb(),n.Xb(14,"div",37),n.Xb(15,"div",64),n.Xb(16,"a",65),n.Tc(17,"Download "),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(6),n.Uc(t.documentName),n.Eb(5),n.rc("src",t.fileUrl,n.Jc),n.Eb(2),n.Uc(t.fileName),n.Eb(3),n.sc("href",t.fileUrl,n.Jc)}}function pl(t,e){if(1&t&&(n.Xb(0,"div",33),n.Rc(1,ml,18,4,"div",1),n.Wb()),2&t){const t=e.$implicit;n.Eb(1),n.rc("ngIf","Profile"!=t.documentName)}}function hl(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",19),n.Xb(1,"div",20),n.Xb(2,"div",21),n.Tc(3,"5"),n.Wb(),n.Xb(4,"div",22),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"mat-card",59),n.Xb(7,"div",41),n.Xb(8,"div",42),n.Xb(9,"div",26),n.Xb(10,"h2",27),n.Tc(11,"Other Information"),n.Wb(),n.Xb(12,"span"),n.Xb(13,"mat-icon",28),n.fc("click",function(){return n.Hc(t),n.jc(2).editOtherInfo()}),n.Tc(14,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(15,"mat-divider",29),n.Wb(),n.Xb(16,"div",30),n.Xb(17,"div",31),n.Xb(18,"div",32),n.Xb(19,"div",33),n.Xb(20,"div",34),n.Xb(21,"div",45),n.Xb(22,"h1",46),n.Tc(23,"Organization Information"),n.Wb(),n.Wb(),n.Sb(24,"hr",47),n.Xb(25,"div",35),n.Xb(26,"div",36),n.Xb(27,"div",37),n.Xb(28,"mat-hint",38),n.Tc(29," Organization Type "),n.Wb(),n.Xb(30,"mat-card",39),n.Xb(31,"div"),n.Tc(32),n.Wb(),n.Wb(),n.Wb(),n.Xb(33,"div",37),n.Xb(34,"mat-hint",38),n.Tc(35," Type of Ownership "),n.Wb(),n.Xb(36,"mat-card",39),n.Xb(37,"div"),n.Tc(38),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(39,"div",34),n.Rc(40,pl,2,1,"div",60),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(13),n.rc("hidden",t.editScreen),n.Eb(19),n.Uc(t.dataResponse.dataResp.organizationType),n.Eb(6),n.Uc(t.dataResponse.dataResp.typeOfOwnership),n.Eb(2),n.rc("ngForOf",t.custDoc_array)}}const fl=function(t,e){return{disabledbtn:t,continueBtn:e}},gl=function(t,e){return{disabledbtn:t,rejectButton:e}},vl=function(t,e){return{disabledbtn:t,approveButton:e}};function Wl(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",66),n.Xb(1,"div",67),n.fc("click",function(){return n.Hc(t),n.jc(2).continue()}),n.Xb(2,"label",68),n.Tc(3,"Cotinue"),n.Wb(),n.Wb(),n.Tc(4," \xa0\xa0 "),n.Xb(5,"div",69),n.fc("click",function(){n.Hc(t);const e=n.jc(2);return e.updateApplicationStatus(e.dataResponse,"REJECTED")}),n.Xb(6,"mat-icon",70),n.Tc(7," highlight_off "),n.Wb(),n.Tc(8,"\xa0\xa0\xa0 "),n.Xb(9,"label",71),n.Tc(10,"Reject"),n.Wb(),n.Wb(),n.Tc(11," \xa0\xa0 "),n.Xb(12,"div",72),n.fc("click",function(){n.Hc(t);const e=n.jc(2);return e.updateApplicationStatus(e.dataResponse,"APPROVED")}),n.Xb(13,"mat-icon",73),n.Tc(14,"check_circle"),n.Wb(),n.Tc(15,"\xa0\xa0\xa0 "),n.Xb(16,"label",74),n.Tc(17,"Approve"),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(1),n.rc("hidden",t.continueStatus)("ngClass",n.yc(6,fl,t.continueStatus,!t.continueStatus)),n.Eb(4),n.rc("hidden",t.rejectedStatus)("ngClass",n.yc(9,gl,t.rejectedStatus,!t.rejectedStatus)),n.Eb(7),n.rc("hidden",t.approvedStatus)("ngClass",n.yc(12,vl,t.approvedStatus,!t.approvedStatus))}}function Xl(t,e){if(1&t&&(n.Xb(0,"div",7),n.Xb(1,"div",8),n.Xb(2,"div",9),n.Rc(3,tl,5,9,"div",10),n.Rc(4,al,2,1,"div",11),n.Wb(),n.Wb(),n.Sb(5,"br"),n.Sb(6,"br"),n.Sb(7,"br"),n.Sb(8,"br"),n.Xb(9,"div",12),n.Xb(10,"h2"),n.Tc(11),n.Wb(),n.Wb(),n.Rc(12,ol,54,6,"div",13),n.Rc(13,cl,17,2,"div",13),n.Rc(14,ll,18,2,"div",13),n.Sb(15,"br"),n.Rc(16,ul,21,3,"div",13),n.Rc(17,hl,41,4,"div",13),n.Rc(18,Wl,18,15,"div",14),n.Sb(19,"br"),n.Wb()),2&t){const t=n.jc();n.Eb(3),n.rc("ngIf","not_available"==t.imageUrl),n.Eb(1),n.rc("ngIf","not_available"!=t.imageUrl),n.Eb(7),n.Vc("",null==t.dataResponse||null==t.dataResponse.dataResp?null:t.dataResponse.dataResp.companyName,"\xa0 "),n.Eb(1),n.rc("ngIf",!t.loading),n.Eb(1),n.rc("ngIf",!t.loading),n.Eb(1),n.rc("ngIf",!t.loading),n.Eb(2),n.rc("ngIf",!t.loading),n.Eb(1),n.rc("ngIf",!t.loading),n.Eb(1),n.rc("ngIf",!t.loading)}}let yl=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l,b){this.tasSumService=t,this.cdr=e,this.router=a,this.ls=o,this.apiService=i,this.dialogRef=n,this.dataResponse=r,this.sanitizer=c,this.snack=s,this.dialog=l,this.jwtService=b,this.selectedIndex=0,this.addNewProof=!1,this.arrayPrefix=[],this.arrayGender=[],this.arrayMaritalStatus=[],this.arrayCountry=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayEmploymentType=[],this.arrayEmployerName=[],this.otherDocumentArray=[],this.proofDocumentArray=[],this.loading=!0,this.isOnGoing=""}ngOnInit(){setTimeout(()=>{var t,e,a;this.loading=!0,this.corporateId=this.dataResponse.dataResp.corporateId,this.ls.setItem("corporateId",this.corporateId),this.custDoc_array=this.dataResponse.dataResp.corporateDocs,this.getCustomerDocumentsDetails1(this.corporateId),this.phoneNum=this.dataResponse.dataResp.category,this.emailID=this.dataResponse.dataResp.companyName,this.customerColorCode=localStorage.getItem("CustomerColorCode"),this.apiService.getCoropratedetails(this.corporateId).subscribe(t=>{this.imageUrl=t.profileImage}),this.status=this.dataResponse.dataResp.corporateStatus,this.errorStatus=this.dataResponse.dataResp.custStatus,this.userAddress_array=null===(a=null===(e=null===(t=this.dataResponse)||void 0===t?void 0:t.dataResp)||void 0===e?void 0:e.customerInfo[0])||void 0===a?void 0:a.userAddress,this.custIdProofs_array=this.dataResponse.dataResp.custIdProofs,this.directorsInfo_array=this.dataResponse.dataResp.customerInfo,console.log("status::",this.status),"REJECTED"===this.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1):"APPROVED"===this.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0):"UNDER_PROCESS"===this.status?(this.approvedStatus=!0,this.rejectedStatus=!1,this.isOnGoing=this.status,this.editScreen=!1):"INITIATED"===this.status&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1),this.getProfileImage(this.dataResponse.dataResp.corporateId)},5e3)}goToCorporate(){console.log("Navigating to edit screen"),this.router.navigateByUrl("/onboardingCorporate/corporate"),console.log(this.dataResponse),this.ls.setItem("EDIT-CORPORATEID",this.dataResponse.dataResp.corporateId),this.dialogRef.close({message:"Confirm"})}getCustomerDocumentsDetails(t){this.document_type="3",this.apiService.getCustomerDocuments(t,this.document_type).subscribe(t=>{this.loading=!1,this.custOtherDoc_array=t,null!=t&&(this.documentName=this.custOtherDoc_array[0].fileName)})}getCustomerDocumentsDetails1(t){this.document_type="2",this.apiService.getCustomerDocuments(t,this.document_type).subscribe(t=>{this.loading=!1,this.custOtherDoc_array=t,null!=t&&(this.documentName=this.custOtherDoc_array[0].fileName)})}updateApplicationStatus(t,e,a){t.dataResp.corporateStatus=e,this.statusUpdate=e,this.apiService.updateCorporateSatatus(t.dataResp.corporateId,e).subscribe(t=>{null!=t&&(this.cdr.markForCheck(),this.cdr.detectChanges(),1!=a&&this.dialogRef.close({message:"Confirm",recordStatus:e,data:t}),this.snack.open(e+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))},t=>{console.log("error resp :: ",t),this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(t){t.recordStatus=this.statusUpdate,this.dialogRef.close({message:"Confirm",data:t,recordStatus:this.status})}getProfileImage(t){this.apiService.getCoropratedetails(t).subscribe(t=>{console.log(t),null!=t.profileImage&&(this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},t=>{})}openEditScreen(t,e){this.status="UNDER_PROCESS",this.updateApplicationStatus(this.dataResponse,"UNDER_PROCESS",!0),this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{console.log(t),this.status=t.status,"INITIATED"==t.status&&(this.status="INITIATED",this.updateApplicationStatus(this.dataResponse,"INITIATED",!0),Object.assign(e,t.resp))})}editBasicInfo(){this.openEditScreen(yc,this.dataResponse.dataResp)}editDirectorDetails(){this.openEditScreen(vs,this.directorsInfo_array)}editContactInfo(){this.openEditScreen(Ys,this.userAddress_array)}editProofOfIdentity(){this.openEditScreen(Rs,this.dataResponse.dataResp)}editOtherInfo(){this.openEditScreen(ws,this.dataResponse.dataResp)}continue(){this.ls.setItem("corporateId",this.dataResponse.dataResp.corporateId),window.open(`${jo.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=CORPORATE&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(m.a),n.Rb(n.h),n.Rb(je.h),n.Rb(l.a),n.Rb(r.b),n.Rb(b.g),n.Rb(b.a),n.Rb(qo.b),n.Rb(f.a),n.Rb(b.b),n.Rb(zo.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-corporate-approver"]],viewQuery:function(t,e){if(1&t&&n.ad(Zs,!0),2&t){let t;n.Cc(t=n.gc())&&(e.ncForm=t.first)}},inputs:{initiatedArr:"initiatedArr"},decls:10,vars:2,consts:[["fxLayoutAlign","center"],[4,"ngIf"],["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],["class","main",4,"ngIf"],[1,"main"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row","class","flex-container",4,"ngIf"],["class","btngrp","fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",4,"ngIf"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["label","Basic Information",2,"border-radius","0px","width","800px"],["fxLayout","column","fxLayoutAlign","space-around start",1,"full-width"],[1,"full-width",2,"padding","1rem 1rem"],["fxLayout","row","fxLayoutAlign","space-between end"],[2,"font-size","18px"],[1,"editbtn",3,"hidden","click"],[1,"divider1"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem 0"],["fxFlex","100%","fxFlex.xs","100%"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px","width","750px"],[1,"full-width"],["fxLayout","row wrap",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"padding-bottom","1rem"],["fxLayout","row wrap",1,"full-width",2,"padding","0.5rem"],["fxFlex","33%","fxFlex.xs","100%"],[1,"hint1"],[1,"mat1"],["label","Director Details",2,"border-radius","0px","width","800px"],[1,"full-width",2,"padding","1rem"],[2,"padding-bottom","1rem"],["fxLayout","row wrap","style","padding: 0.5rem 0;","class","full-width",4,"ngFor","ngForOf"],["fxFlex","40%","fxFlex.xs","100%",4,"ngIf"],["fxFlex","40%","fxFlex.xs","50%",2,"padding","0.5rem 0.5rem"],[2,"font-size","16px"],[1,"margintop"],["fxFlex","50%","fxFlex.xs","100%"],["fxFlex","25%","fxFlex.xs","100%"],["fxFlex","40%","fxFlex.xs","50%"],["fxFlex","40%","fxFlex.xs","100%"],["label","Contact Information",2,"border-radius","0px","width","800px"],[4,"ngFor","ngForOf"],[1,"mat-elevation-z0",2,"border","1px solid #f5f5f5","padding","16px"],["label","Proof Of Identity",2,"border-radius","0px","width","800px"],[2,"padding","1rem 0"],["style","color: grey;",4,"ngIf"],[2,"color","grey"],["label","Other Information",2,"border-radius","0px","width","800px"],["class","full-width",4,"ngFor","ngForOf"],[1,"hint1",2,"text-align","center"],[2,"text-align","center"],["required","","alt","",1,"formImg2",3,"src"],[2,"margin-top","35px"],["download","",2,"color","#4A56E2","text-decoration","underline",3,"href"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px",1,"btngrp"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"]],template:function(t,e){1&t&&(n.Xb(0,"form"),n.Xb(1,"div",0),n.Rc(2,Qs,1,0,"mat-spinner",1),n.Wb(),n.Xb(3,"div",2),n.Xb(4,"div",3),n.Xb(5,"div",4),n.Xb(6,"div"),n.Xb(7,"mat-icon",5),n.fc("click",function(){return e.close(e.dataResponse)}),n.Tc(8," close"),n.Wb(),n.Wb(),n.Wb(),n.Rc(9,Xl,20,9,"div",6),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(2),n.rc("ngIf",e.loading),n.Eb(7),n.rc("ngIf",!e.loading))},directives:[p.A,p.s,p.t,g.d,o.n,g.e,v.a,x.b,X.c,g.b,X.a,ka.a,W.f,o.m,g.f,o.l,Jo.a],pipes:[o.v,o.w],styles:[".appimg{width:100px;height:100px}.imgdiv{text-align:center}.cancelIcon{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton{top:6705px;left:969px;width:183px;height:41px;margin-right:18%;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon{top:6716px;left:1009px;width:24px;height:24px}.approveIcon,.approvelabel{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.editbtn{color:#0e7cc5;cursor:pointer}.num{border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;background-color:#fff}.imgdiv div{margin:auto}.apprdiv{text-align:center}.apprdiv h2{width:100%;margin-left:8%}.label{color:#9aa1b0;font-size:.7rem}.labelval{color:#2f2f2f}.rowbord{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd{padding:0}.nobord{border:none!important}.main{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard{background-color:#e5e5e5}.clr{color:#b2b2b2}.bordnum{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn{background-color:#4a56e2;width:300px}.btn,.RNbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px}.btn{background-color:#0ec588;width:150px}.cancelbtn{color:#2980b9;border-color:#2980b9}.cancelbtn,.disabledbtn{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn{color:grey;border-color:grey}.rejectbtn{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn,.sqftbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn,.sqftbtn{background-color:grey;height:20px;width:100px}.acbtn{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.closeIcon{color:#a9a9a9;cursor:pointer;margin-right:30px}.content2{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);color:#fff;font-size:20px}.content2,.label{text-align:center}.label{color:#000}.defaultImage{width:120px;height:120px;border-radius:50%;margin-left:-10px}.imageText{text-align:center;padding:3rem 3.4rem;color:#fff}.mat1{height:3.3rem}.mat11{font-size:90%;padding-top:3px}.imgCard{margin-left:70px;margin-top:40px;width:30%;height:120px}.formImg2{height:65px!important;width:65px!important;background-color:#f5f5f5}.margintop{margin-top:0;width:732px}.btngrp{float:right}.continueBtn{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"],encapsulation:2}),t})();var Tl=function(t,e,a,o){return new(a||(a=Promise))(function(i,n){function r(t){try{s(o.next(t))}catch(e){n(e)}}function c(t){try{s(o.throw(t))}catch(e){n(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})};function Il(t,e){1&t&&n.Sb(0,"mat-spinner")}function El(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",18),n.fc("click",function(){return n.Hc(t),n.jc().clear()}),n.Xb(1,"div",19),n.Rc(2,Il,1,0,"mat-spinner",20),n.Wb(),n.Xb(3,"mat-icon"),n.Tc(4,"close"),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(2),n.rc("ngIf",t.loading)}}function Cl(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",32),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",t.companyName)}}function xl(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"img",33),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("src",null==t.corporateDocs[0]?null:t.corporateDocs[0].fileUrl,n.Jc)}}function Dl(t,e){if(1&t&&n.Sb(0,"img",33),2&t){const t=n.jc(2).$implicit;n.rc("src",null==t.corporateDocs[0]?null:t.corporateDocs[0].fileUrl,n.Jc)}}function Ol(t,e){1&t&&n.Rc(0,Dl,1,1,"ng-template",null,34,n.Sc)}function Al(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToCorporateOnBoardingSummary(a,"INITATED",i.getRandomColor(o+3))}),n.Xb(1,"div",22),n.Xb(2,"mat-icon",23),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",24),n.Xb(9,"div",25),n.Rc(10,Cl,2,1,"div",20),n.Rc(11,xl,2,1,"div",20),n.Rc(12,Ol,2,0,void 0,20),n.Wb(),n.Xb(13,"mat-card-title",26),n.Tc(14),n.Wb(),n.Xb(15,"mat-card-subtitle"),n.Tc(16),n.Wb(),n.Wb(),n.Xb(17,"form",27),n.Xb(18,"div",28),n.Xb(19,"span"),n.Tc(20,"Category "),n.Wb(),n.Xb(21,"span"),n.Tc(22,"Organization Type"),n.Wb(),n.Wb(),n.Xb(23,"div",29),n.Xb(24,"span"),n.Tc(25),n.Wb(),n.Xb(26,"span"),n.Tc(27),n.Wb(),n.Wb(),n.Sb(28,"br"),n.Xb(29,"div",30),n.Xb(30,"span"),n.Tc(31,"Date Of Issue"),n.Wb(),n.Xb(32,"span"),n.Tc(33,"Type Of Ownership"),n.Wb(),n.Wb(),n.Xb(34,"div",31),n.Xb(35,"span"),n.Tc(36),n.kc(37,"date"),n.Wb(),n.Xb(38,"span"),n.Tc(39),n.Wb(),n.Wb(),n.Sb(40,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit;n.Eb(6),n.Uc(n.lc(7,10,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf",null==t.corporateDocs),n.Eb(1),n.rc("ngIf",1==(null==t.corporateDocs[0]?null:t.corporateDocs[0].documentType)),n.Eb(1),n.rc("ngIf",1==(null==t.corporateDocs[0]?null:t.corporateDocs[0].documentType)),n.Eb(2),n.Vc(" ",t.companyName,"\xa0 "),n.Eb(2),n.Vc("#",t.corporateId,""),n.Eb(9),n.Uc(t.category),n.Eb(2),n.Uc(t.organizationType),n.Eb(9),n.Uc(n.lc(37,12,t.dateOfIssue)),n.Eb(3),n.Uc(t.typeOfOwnership)}}function Rl(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",32),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",t.companyName)}}function Sl(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"img",33),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("src",t.profileImage,n.Jc)}}function Nl(t,e){if(1&t&&n.Sb(0,"img",36),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function Pl(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToCorporateOnBoardingSummary(a,"UNDER_PROCESS",i.getRandomColor(o+6))}),n.Xb(1,"div",22),n.Xb(2,"mat-icon",35),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",24),n.Xb(9,"div",25),n.Rc(10,Rl,2,1,"div",20),n.Rc(11,Sl,2,1,"div",20),n.Rc(12,Nl,1,1,"ng-template",null,34,n.Sc),n.Wb(),n.Xb(14,"mat-card-title",26),n.Tc(15),n.Wb(),n.Xb(16,"mat-card-subtitle"),n.Tc(17),n.Wb(),n.Wb(),n.Xb(18,"form",27),n.Xb(19,"div",28),n.Xb(20,"span"),n.Tc(21,"Category "),n.Wb(),n.Xb(22,"span"),n.Tc(23,"Organization Type"),n.Wb(),n.Wb(),n.Xb(24,"div",29),n.Xb(25,"span"),n.Tc(26),n.Wb(),n.Xb(27,"span"),n.Tc(28),n.Wb(),n.Wb(),n.Sb(29,"br"),n.Xb(30,"div",30),n.Xb(31,"span"),n.Tc(32,"Date Of Issue"),n.Wb(),n.Xb(33,"span"),n.Tc(34,"Type Of Ownership"),n.Wb(),n.Wb(),n.Xb(35,"div",31),n.Xb(36,"span"),n.Tc(37),n.kc(38,"date"),n.Wb(),n.Xb(39,"span"),n.Tc(40),n.Wb(),n.Wb(),n.Sb(41,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit;n.Eb(6),n.Uc(n.lc(7,9,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf",null==t.profileImage),n.Eb(1),n.rc("ngIf",null!=t.profileImage),n.Eb(4),n.Vc(" ",t.companyName," "),n.Eb(2),n.Vc("#",t.corporateId,""),n.Eb(9),n.Uc(t.category),n.Eb(2),n.Uc(t.organizationType),n.Eb(9),n.Uc(n.lc(38,11,t.dateOfIssue)),n.Eb(3),n.Uc(t.typeOfOwnership)}}function kl(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",32),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",t.companyName)}}function Fl(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"img",33),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("src",t.profileImage,n.Jc)}}function Ll(t,e){if(1&t&&n.Sb(0,"img",36),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function _l(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToCorporateOnBoardingSummary(a,"APPROVED",i.getRandomColor(o+12))}),n.Xb(1,"div",22),n.Xb(2,"mat-icon",37),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",24),n.Xb(9,"div",25),n.Rc(10,kl,2,1,"div",20),n.Rc(11,Fl,2,1,"div",20),n.Rc(12,Ll,1,1,"ng-template",null,34,n.Sc),n.Wb(),n.Xb(14,"mat-card-title",26),n.Tc(15),n.Wb(),n.Xb(16,"mat-card-subtitle"),n.Tc(17),n.Wb(),n.Wb(),n.Xb(18,"form",27),n.Xb(19,"div",28),n.Xb(20,"span"),n.Tc(21,"Category "),n.Wb(),n.Xb(22,"span"),n.Tc(23,"Organization Type"),n.Wb(),n.Wb(),n.Xb(24,"div",29),n.Xb(25,"span"),n.Tc(26),n.Wb(),n.Xb(27,"span"),n.Tc(28),n.Wb(),n.Wb(),n.Sb(29,"br"),n.Xb(30,"div",30),n.Xb(31,"span"),n.Tc(32,"Date Of Issue"),n.Wb(),n.Xb(33,"span"),n.Tc(34,"Type Of Ownership"),n.Wb(),n.Wb(),n.Xb(35,"div",31),n.Xb(36,"span"),n.Tc(37),n.kc(38,"date"),n.Wb(),n.Xb(39,"span"),n.Tc(40),n.Wb(),n.Wb(),n.Sb(41,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit;n.Eb(6),n.Uc(n.lc(7,9,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf",null==t.profileImage),n.Eb(1),n.rc("ngIf",null!=t.profileImage),n.Eb(4),n.Vc(" ",t.companyName," "),n.Eb(2),n.Vc("#",t.corporateId,""),n.Eb(9),n.Uc(t.category),n.Eb(2),n.Uc(t.organizationType),n.Eb(9),n.Uc(n.lc(38,11,t.dateOfIssue)),n.Eb(3),n.Uc(t.typeOfOwnership)}}function wl(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",32),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",t.companyName)}}function Ul(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"img",33),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("src",t.profileImage,n.Jc)}}function Ml(t,e){if(1&t&&n.Sb(0,"img",36),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function Gl(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToCorporateOnBoardingSummary(a,"REJECTED",i.getRandomColor(o+15))}),n.Xb(1,"div",22),n.Xb(2,"mat-icon",38),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",24),n.Xb(9,"div",25),n.Rc(10,wl,2,1,"div",20),n.Rc(11,Ul,2,1,"div",20),n.Rc(12,Ml,1,1,"ng-template",null,34,n.Sc),n.Wb(),n.Xb(14,"mat-card-title",26),n.Tc(15),n.Wb(),n.Xb(16,"mat-card-subtitle"),n.Tc(17),n.Wb(),n.Wb(),n.Xb(18,"form",27),n.Xb(19,"div",28),n.Xb(20,"span"),n.Tc(21,"Category "),n.Wb(),n.Xb(22,"span"),n.Tc(23,"Organization Type"),n.Wb(),n.Wb(),n.Xb(24,"div",29),n.Xb(25,"span"),n.Tc(26),n.Wb(),n.Xb(27,"span"),n.Tc(28),n.Wb(),n.Wb(),n.Sb(29,"br"),n.Xb(30,"div",30),n.Xb(31,"span"),n.Tc(32,"Date Of Issue"),n.Wb(),n.Xb(33,"span"),n.Tc(34,"Type Of Ownership"),n.Wb(),n.Wb(),n.Xb(35,"div",31),n.Xb(36,"span"),n.Tc(37),n.kc(38,"date"),n.Wb(),n.Xb(39,"span"),n.Tc(40),n.Wb(),n.Wb(),n.Sb(41,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit;n.Eb(6),n.Uc(n.lc(7,9,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf",null==t.profileImage),n.Eb(1),n.rc("ngIf",null!=t.profileImage),n.Eb(4),n.Vc(" ",t.companyName," "),n.Eb(2),n.Vc("#",t.corporateId,""),n.Eb(9),n.Uc(t.category),n.Eb(2),n.Uc(t.organizationType),n.Eb(9),n.Uc(n.lc(38,11,t.dateOfIssue)),n.Eb(3),n.Uc(t.typeOfOwnership)}}let Vl=(()=>{class t{constructor(t,e,a,o,i,r,s,l){this.dialog=t,this.ls=e,this.tasSumService=a,this.cdr=o,this.apiService=i,this.router=r,this.snack=s,this.sanitizer=l,this.statusArr=["INITIATED","UNDER_PROCESS","APPROVED","REJECTED"],this.arr=["INITIATEDArr","UNDER_PROCESSArr","APPROVEDArr","REJECTEDArr"],this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.INITIATEDTotalPages=0,this.UNDER_PROCESSTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.INITIATEDCount=0,this.UNDER_PROCESSCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.INITIATEDImage=[],this.UNDER_PROCESSImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.INITIATEDTotalRecords=0,this.UNDER_PROCESSTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.INITIATEDPage=0,this.UNDER_PROCESSPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.screenType="corporate",this.setValue=new n.o,this._searchSubject=new c.a,this.listOfOptions=[{label:"Corporate ID",value:"corporateID",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this.isScroll=!0,this._setSearchSubscription()}onScroll(t){this.INITIATEDPage++,this.getDataOnScroll("INITIATED",this.INITIATEDPage,this.INITIATEDTotalPages),this.UNDER_PROCESSPage++,this.getDataOnScroll("UNDER_PROCESS",this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages)}ngOnInit(){this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.getDataOnLoad(),this.listOfOptions.filter(t=>{t.checked&&(this.radioButtonSelected=t.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}radioChange(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}updateSearch(t){this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{if(this.setValue.emit(t),console.log("search value :: ",t),console.log("search text :: ",this.searchText),null==t||""==t||""==t)return this.noDataFound=!1,this.searchable=!1,void this.getDataOnLoad();this.searchcorporateID(t)})}clear(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}getDataOnLoad(){return Tl(this,void 0,void 0,function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t],0,0)})}fetchCustomerInfo(t,e,a){this.tasSumService.getallCorporateData(this.screenType,t,e).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){"INITIATED"==t?(this.INITIATEDArr=null==e?void 0:e.corporateList,this.INITIATEDTotalPages=null==e?void 0:e.totalPages,this.INITIATEDTotalRecords=null==e?void 0:e.totalRecords):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr=null==e?void 0:e.corporateList,this.UNDER_PROCESSTotalPages=null==e?void 0:e.totalPages,this.UNDER_PROCESSTotalRecords=null==e?void 0:e.totalRecords):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.corporateList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalRecords):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.corporateList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalRecords,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"INITIATED"==e?(this.INITIATEDPage++,this.getDataOnScroll(e,this.INITIATEDPage,this.INITIATEDTotalPages)):"UNDER_PROCESS"==e?(this.UNDER_PROCESSPage++,this.getDataOnScroll(e,this.UNDER_PROCESSPage,this.UNDER_PROCESSTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){0!=this.isScroll&&(console.log("---------scrolled----------"),e!==a?this.tasSumService.getallCorporateData(this.screenType,t,e).subscribe(e=>{console.log("count data :: ",e),this.cdr.markForCheck(),this.updateDataOnScroll(t,e.corporateList)}):console.log("No scroll requied"))}GoToCustomerOnboarding(){setTimeout(()=>{this.router.navigateByUrl("/tasks/cust-on-boarding-task-summary")},300)}goToCorporateOnBoardingSummary(t,e,a){localStorage.setItem("CustomerColorCode",a),this.dialog.open(yl,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(t=>{console.log("dialog closed:: ",t),"REJECTED"!==t.recordStatus&&"APPROVED"!==t.recordStatus&&"REJECTED"!==t.data.kycStatus&&"APPROVED"!==t.data.kycStatus&&"INITIATED"!==t.recordStatus&&"UNDER_PROCESS"!==t.recordStatus||this.getDataOnLoad()})}searchcorporateID(t){let e,a;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="mobileNumber="+e):(console.log("kycId"),e=this.searchText.trim(),a="corporateId="+e):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmail="+e):t==t.toUpperCase()?(console.log("name"),e=this.searchText.trim(),a="corporateStatus="+e):(console.log("name"),e=this.searchText.trim(),a="companyName="+e)),this.getCustomerData(a),this.isScroll=!1}getCustomerData(t){this.loading=!0,console.log("params::",t),this.apiService.getcorporateSearchDetails(t).subscribe(t=>{this.loading=!1,console.log("resp data :: ",t),this.resetSearchData();for(let e=0;e<t.corporateList.length;e++){const a=t.corporateList[e];for(let o=0;o<t.corporateList[e].corporateDocs.length;o++)a.profileImage="Profile"==t.corporateList[e].corporateDocs[o].documentName?t.corporateList[e].corporateDocs[o].fileUrl:null;this.searchResponseUpdate(t.corporateList[e].corporateStatus,a)}})}resetSearchData(){this.INITIATEDArr=[],this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}searchResponseUpdate(t,e){console.log("called ?",t,e),"INITIATED"==t?(this.INITIATEDArr.push(e),console.log("this.INITIATEDArr :: ",this.INITIATEDArr)):"UNDER_PROCESS"==t?(this.UNDER_PROCESSArr.push(e),console.log("this.UNDER_PROCESSArr :: ",this.UNDER_PROCESSArr)):"APPROVED"==t?(this.APPROVEDArr.push(e),console.log("this.APPROVEDArr :: ",this.APPROVEDArr)):"REJECTED"==t&&(this.REJECTEDArr.push(e),console.log("this.REJECTEDArr :: ",this.REJECTEDArr)),this.cdr.markForCheck()}getProfileImage(t){this.apiService.getProfileDetails(t).subscribe(t=>{if(console.log(t),console.log(t.profileImage),this.searchable=!1,null!=t.profileImage){let e="data:image/jpeg;base64,"+t.profileImage.fileData;this.searchable=!0,this.image=this.sanitizer.bypassSecurityTrustUrl(e),console.log(this.searchable,"Searchable")}},t=>{console.log(t)})}getcorporateIDData(t){console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(t=>{if(console.log("resp data :: ",t),this.cdr.markForCheck(),this.cdr.detectChanges(),null!=t){var e=t[0].customerAdditionalInfo.kycStatus+"Arr";this[e].splice(0,0,t[0]),this[e]=this[e].slice(),console.log("resp value :: ",this[e])}else this.noDataFound=!0})}ngOnDestroy(){this._searchSubject.unsubscribe(),this.UNDER_PROCESSArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.INITIATEDArr=[],this.INITIATEDPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.UNDER_PROCESSPage=0,this.INITIATEDTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.UNDER_PROCESSTotalPages=0}updateDataOnScroll(t,e){return Tl(this,void 0,void 0,function*(){if("INITIATED"==t){const t=Jt.unionBy(this.INITIATEDArr,e,"corporateID");this.INITIATEDArr=t}else if("UNDER_PROCESS"==t){const t=Jt.unionBy(this.UNDER_PROCESSArr,e,"corporateID");this.UNDER_PROCESSArr=t}else if("APPROVED"==t){const t=Jt.unionBy(this.APPROVEDArr,e,"corporateID");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Jt.unionBy(this.REJECTEDArr,e,"corporateID");this.REJECTEDArr=t}this.cdr.markForCheck()})}isNum(t){return!isNaN(t)}isString(t){return t}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.b),n.Rb(l.a),n.Rb(m.a),n.Rb(n.h),n.Rb(r.b),n.Rb(je.h),n.Rb(f.a),n.Rb(qo.b))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-corporate-task-summary"]],hostBindings:function(t,e){1&t&&n.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:53,vars:17,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],[1,"slideTogglepadding",3,"change"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryName"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchbox"],["appearance","outline",1,"full-width"],["matInput","","name","search","autocomplete","off","placeholder","Search Corporate_id or Company Name",3,"ngModel","ngModelChange","keyup"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","cardBox",3,"click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayoutAlign","center"],[4,"ngIf"],[1,"cardBox",3,"click"],[1,"m-333"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar",""],[2,"font-size","16px"],[1,"head1"],["fxLayout","row","fxLayoutGap","40px",1,"col1"],["fxLayout","row","fxLayoutGap","58px",1,"col2"],["fxLayout","row","fxLayoutGap","40px",1,"col3"],["fxLayout","row","fxLayoutGap","44px",1,"col4"],[3,"name"],["alt","",2,"width","150px","height","50px","border-radius","60%",3,"src"],["showAvatar",""],[1,"fill-color-blue","bookMark","bookMark1"],["alt","",2,"width","150px","height","50px","border-radius","50%",3,"src"],[1,"fill-color-blue","bookMark","bookMark2"],[1,"fill-color-blue","bookMark","bookMark3"]],template:function(t,e){1&t&&(n.Sb(0,"br"),n.Xb(1,"div",0),n.fc("scrolled",function(t){return e.onScroll(t)}),n.Sb(2,"br"),n.Xb(3,"div",1),n.Xb(4,"mat-slide-toggle",2),n.fc("change",function(){return e.GoToCustomerOnboarding()}),n.Tc(5,"Switch to Customer Onboarding "),n.Wb(),n.Xb(6,"div",3),n.Xb(7,"div",4),n.Xb(8,"span",5),n.Tc(9," Corporate Customer Onboarding Task Summary "),n.Wb(),n.Wb(),n.Xb(10,"div",6),n.Xb(11,"mat-form-field",7),n.Xb(12,"mat-label"),n.Tc(13,"Search"),n.Wb(),n.Xb(14,"input",8),n.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),n.Wb(),n.Xb(15,"mat-icon",9),n.Tc(16,"search"),n.Wb(),n.Rc(17,El,5,1,"button",10),n.Xb(18,"mat-hint"),n.Tc(19,"Search Corporate_id or Company Name"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",11),n.Xb(21,"div",12),n.Xb(22,"mat-card",13),n.Xb(23,"div",14),n.Xb(24,"span",15),n.Xb(25,"h2",16),n.Tc(26),n.Wb(),n.Wb(),n.Wb(),n.Xb(27,"div"),n.Rc(28,Al,41,14,"div",17),n.Wb(),n.Sb(29,"br"),n.Wb(),n.Xb(30,"mat-card",13),n.Xb(31,"div",14),n.Xb(32,"span",15),n.Xb(33,"h2",16),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div"),n.Rc(36,Pl,42,13,"div",17),n.Wb(),n.Wb(),n.Xb(37,"mat-card",13),n.Xb(38,"div",14),n.Xb(39,"span",15),n.Xb(40,"h2",16),n.Tc(41),n.Wb(),n.Wb(),n.Wb(),n.Xb(42,"div"),n.Rc(43,_l,42,13,"div",17),n.Wb(),n.Sb(44,"br"),n.Wb(),n.Xb(45,"mat-card",13),n.Xb(46,"div",14),n.Xb(47,"span",15),n.Xb(48,"h2",16),n.Tc(49),n.Wb(),n.Wb(),n.Wb(),n.Xb(50,"div"),n.Rc(51,Gl,42,13,"div",17),n.Wb(),n.Wb(),n.Wb(),n.Sb(52,"br"),n.Wb(),n.Wb()),2&t&&(n.Eb(1),n.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),n.Eb(13),n.rc("ngModel",e.searchText),n.Eb(3),n.rc("ngIf",e.searchText),n.Eb(9),n.Wc("Pending for approval (",null==e.INITIATEDArr?null:e.INITIATEDArr.length,"/",e.INITIATEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.INITIATEDArr),n.Eb(6),n.Wc("Ongoing (",null==e.UNDER_PROCESSArr?null:e.UNDER_PROCESSArr.length,"/",e.UNDER_PROCESSTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.UNDER_PROCESSArr),n.Eb(5),n.Wc("Approved (",null==e.APPROVEDArr?null:e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.APPROVEDArr),n.Eb(6),n.Wc("Rejected (",null==e.REJECTEDArr?null:e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.REJECTEDArr))},directives:[Ui.a,E.a,g.e,g.d,g.f,g.b,W.c,W.g,y.b,p.c,p.r,p.u,v.a,W.i,o.n,W.f,X.a,o.m,C.b,W.j,x.b,X.e,X.c,X.h,X.g,p.A,p.s,p.t,Bi],pipes:[sn.a,o.f],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.searchbox[_ngcontent-%COMP%]{padding-right:5%}.fieldName[_ngcontent-%COMP%]{top:536px;left:152px;width:48px;height:11px;font:var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-medium) 9px/11px Montserrat;text-align:left;font:normal normal medium 9px/11px Montserrat;letter-spacing:0;color:#0f0f0f;opacity:1}.cardBox[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:40vh}.bookMark1[_ngcontent-%COMP%]{color:orange}.bookMark2[_ngcontent-%COMP%]{color:#1fbfa9}.bookMark3[_ngcontent-%COMP%]{color:red}"]}),t})();function Bl(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," \xa0\xa0\xa0 Card Type Is Required "),n.Wb())}function jl(t,e){if(1&t&&(n.Xb(0,"mat-option",24),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function zl(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," \xa0\xa0\xa0Currency is Required! "),n.Wb())}function ql(t,e){if(1&t&&(n.Xb(0,"mat-option",24),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc("",t," ")}}function Jl(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," \xa0\xa0\xa0Employment Type is Required! "),n.Wb())}function Kl(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," \xa0\xa0\xa0Affinity Program is Required! "),n.Wb())}let $l=(()=>{class t{constructor(t,e,a,o,i,n){this.data=t,this.dialogRef=e,this.apiService=a,this.formBuilder=o,this.router=i,this.snack=n,this.localCurrencyArr=["CNY","GBP","INR","USD","ZAR","GBP"]}ngOnInit(){this.getEmploymentType("employment_type"),console.log(this.data),this.data?this.buildInitiationUpdateForm(this.data):this.buildInitiationUpdateForm()}getEmploymentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.employmentTypeArray=t})}buildInitiationUpdateForm(t){this.cardInitiationUpdateForm=this.formBuilder.group({existingCustomer:[t&&t.existingCustomer?t.existingCustomer:""],cardType:[t&&t.cardType?t.cardType:"",[p.z.required]],customerAccount:[t&&t.customerAccount?t.customerAccount:""],applicantName:[t&&t.applicantName?t.applicantName:""],currency:[t&&t.currency?t.currency:"",[p.z.required]],employmentType:[t&&t.employmentType?t.employmentType:"",[p.z.required]],affinityProgram:[t&&t.affinityProgram?t.affinityProgram:"",[p.z.required]]})}close(){this.dialogRef.close({status:"ONGOING"})}onSubmit(){this.apiService.uploadCardInitiation({existingCustomer:this.cardInitiationUpdateForm.value.existingCustomer,cardType:this.cardInitiationUpdateForm.value.cardType,customerAccount:this.cardInitiationUpdateForm.value.customerAccount,applicantName:this.cardInitiationUpdateForm.value.applicantName,currency:this.cardInitiationUpdateForm.value.currency,employmentType:this.cardInitiationUpdateForm.value.employmentType,affinityProgram:this.cardInitiationUpdateForm.value.affinityProgram,nameOnCard:this.data.nameOnCard,status:this.data.status,kycStatus:this.data.kycStatus,kycReference:this.data.kycRefrence,customerId:this.data.customerId,cardId:this.data.cardId}).subscribe(t=>{this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.apiService.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})})},t=>{this.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(r.b),n.Rb(p.f),n.Rb(je.h),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-card-initiation-details-update"]],decls:61,vars:7,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline"],["readonly","true","matInput","","name","existingCustomer","formControlName","existingCustomer"],["formControlName","cardType"],["value","Debit"],["value","Credit"],["value","Forex"],[4,"ngIf"],["matInput","","formControlName","customerAccount"],["matInput","","formControlName","applicantName"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],["formControlName","employmentType","placeholder","Select Employment Type *"],["fxLayout","row"],["formControlName","affinityProgram","placeholder","Select Affinity Program *"],["value","Affinity Program1"],["value","Affinity Program2"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Card Initiation Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"mat-card"),n.Xb(7,"form",3),n.Xb(8,"div",4),n.Xb(9,"mat-form-field",5),n.Xb(10,"mat-label"),n.Tc(11,"Existing Customer"),n.Wb(),n.Sb(12,"input",6),n.Wb(),n.Xb(13,"mat-form-field",5),n.Xb(14,"mat-label"),n.Tc(15,"Card Type"),n.Wb(),n.Xb(16,"mat-select",7),n.Xb(17,"mat-option",8),n.Tc(18,"Debit"),n.Wb(),n.Xb(19,"mat-option",9),n.Tc(20,"Credit"),n.Wb(),n.Xb(21,"mat-option",10),n.Tc(22,"Forex"),n.Wb(),n.Wb(),n.Rc(23,Bl,2,0,"mat-error",11),n.Wb(),n.Xb(24,"mat-form-field",5),n.Xb(25,"mat-label"),n.Tc(26,"Customer Account"),n.Wb(),n.Sb(27,"input",12),n.Wb(),n.Wb(),n.Xb(28,"div",4),n.Xb(29,"mat-form-field",5),n.Xb(30,"mat-label"),n.Tc(31,"Applicant Name"),n.Wb(),n.Sb(32,"input",13),n.Wb(),n.Xb(33,"mat-form-field",5),n.Xb(34,"mat-label"),n.Tc(35,"Currency"),n.Wb(),n.Xb(36,"mat-select",14),n.Rc(37,jl,2,2,"mat-option",15),n.Wb(),n.Rc(38,zl,2,0,"mat-error",11),n.Wb(),n.Xb(39,"mat-form-field",5),n.Xb(40,"mat-label"),n.Tc(41,"Employment Type"),n.Wb(),n.Xb(42,"mat-select",16),n.Rc(43,ql,2,2,"mat-option",15),n.Wb(),n.Rc(44,Jl,2,0,"mat-error",11),n.Wb(),n.Wb(),n.Xb(45,"div",17),n.Xb(46,"mat-form-field",5),n.Xb(47,"mat-label"),n.Tc(48,"Affinity Program *"),n.Wb(),n.Xb(49,"mat-select",18),n.Xb(50,"mat-option",19),n.Tc(51,"Affinity Program1"),n.Wb(),n.Xb(52,"mat-option",20),n.Tc(53,"Affinity Program2"),n.Wb(),n.Wb(),n.Rc(54,Kl,2,0,"mat-error",11),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(55,"div",21),n.Xb(56,"button",22),n.fc("click",function(){return e.onSubmit()}),n.Tc(57,"Save"),n.Wb(),n.Tc(58," \xa0\xa0\xa0 "),n.Xb(59,"button",23),n.fc("click",function(){return e.close()}),n.Tc(60," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.cardInitiationUpdateForm),n.Eb(16),n.rc("ngIf",!e.cardInitiationUpdateForm.get("cardType").valid&&e.cardInitiationUpdateForm.get("cardType").touched),n.Eb(14),n.rc("ngForOf",e.localCurrencyArr),n.Eb(1),n.rc("ngIf",!e.cardInitiationUpdateForm.get("currency").valid&&e.cardInitiationUpdateForm.get("currency").touched),n.Eb(5),n.rc("ngForOf",e.employmentTypeArray),n.Eb(1),n.rc("ngIf",!e.cardInitiationUpdateForm.get("employmentType").valid&&e.cardInitiationUpdateForm.get("employmentType").touched),n.Eb(10),n.rc("ngIf",!e.cardInitiationUpdateForm.get("affinityProgram").valid&&e.cardInitiationUpdateForm.get("affinityProgram").touched))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,g.f,W.c,g.b,W.g,y.b,p.c,p.r,p.i,T.a,D.n,o.n,o.m,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function Hl(t,e){if(1&t&&(n.Xb(0,"mat-option",19),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Yl(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please Select Account Type "),n.Wb())}function Zl(t,e){if(1&t&&(n.Xb(0,"mat-option",19),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.branchName),n.Eb(1),n.Vc(" ",t.branchName," ")}}function Ql(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please Select Account Branch "),n.Wb())}function tb(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please Enter valid Product ID "),n.Wb())}function eb(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please Enter Product Name "),n.Wb())}function ab(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please Enter Existing Value "),n.Wb())}function ob(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please Enter Account Currency "),n.Wb())}function ib(t,e){if(1&t&&(n.Xb(0,"mat-option",19),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function nb(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please Select user Recommendation "),n.Wb())}function rb(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please Enter Remarks "),n.Wb())}let cb=(()=>{class t{constructor(t,e,a,o,i){this.data=t,this.fb=e,this.apiService=a,this.dialogRef=o,this.snack=i}ngOnInit(){this.getUserRecomendation("user_recomendation"),this.getAccountType("account_type"),this.getAccountBranchDetails(),null!=this.data.approvalInfo?this.buildformGroup(this.data.approvalInfo):this.buildformGroup()}buildformGroup(t){this.cardApprovalUpdateForm=this.fb.group({accountType:[t?t.accountType:"",p.z.required],productCode:[t?t.productCode:"",p.z.required],userRecommendation:[t?t.userRecommendation:"",p.z.required],accountBranch:[t?t.accountBranch:"",p.z.required],accountCurrency:[t?t.accountCurrency:"",p.z.required],productName:[t?t.productName:"",p.z.required],existingValues:[t?t.existingValues:"",p.z.required],remarks:[t?t.remarks:""]})}onSubmit(){console.log("data",this.cardApprovalUpdateForm.value),this.apiService.upsertApprovalDetails({cardId:this.data.cardId,accountBranch:this.cardApprovalUpdateForm.value.accountBranch,accountCurrency:this.cardApprovalUpdateForm.value.accountCurrency,accountType:this.cardApprovalUpdateForm.value.accountType,existingValues:this.cardApprovalUpdateForm.value.existingValues,productCode:this.cardApprovalUpdateForm.value.productCode,productName:this.cardApprovalUpdateForm.value.productName,remarks:this.cardApprovalUpdateForm.value.remarks,userRecommendation:this.cardApprovalUpdateForm.value.userRecommendation}).subscribe(t=>{this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.apiService.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})})},t=>{this.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}onKeyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}getAccountCurrency(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayAccountCurrency=t})}getAccountType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayAccountType=t})}getUserRecomendation(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayUserRecomendation=t})}getAccountBranchDetails(){this.apiService.getAccountBranch().subscribe(t=>{console.log("data:: AccountBranch ",t),this.arrayAccountBranch=t})}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(p.f),n.Rb(r.b),n.Rb(b.g),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-card-approval-details-update"]],decls:60,vars:13,consts:[["fxLayout","row","fxLayoutGap","25px","fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline"],["placeholder","Account Type","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Account Branch","formControlName","accountBranch"],["matInput","","placeholder","Product Image","formControlName","productCode"],["matInput","","placeholder","Product Name","formControlName","productName",3,"keypress"],["matInput","","placeholder","Existing Value","formControlName","existingValues",3,"keypress"],["matInput","","placeholder","Account Currency","formControlName","accountCurrency","readonly","",3,"keypress"],["placeholder","Recommended for Approval","formControlName","userRecommendation"],["matInput","","placeholder","Remarks","formControlName","remarks"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Approval Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"mat-card"),n.Xb(7,"form",3),n.Xb(8,"div",4),n.Xb(9,"mat-form-field",5),n.Xb(10,"mat-label"),n.Tc(11,"Account Type*"),n.Wb(),n.Xb(12,"mat-select",6),n.Rc(13,Hl,2,2,"mat-option",7),n.Wb(),n.Rc(14,Yl,2,0,"mat-error",8),n.Wb(),n.Xb(15,"mat-form-field",5),n.Xb(16,"mat-label"),n.Tc(17,"Account Branch*"),n.Wb(),n.Xb(18,"mat-select",9),n.Rc(19,Zl,2,2,"mat-option",7),n.Wb(),n.Rc(20,Ql,2,0,"mat-error",8),n.Wb(),n.Xb(21,"mat-form-field",5),n.Xb(22,"mat-label"),n.Tc(23,"Product Code*"),n.Wb(),n.Sb(24,"input",10),n.Wb(),n.Rc(25,tb,2,0,"mat-error",8),n.Wb(),n.Xb(26,"div",4),n.Xb(27,"mat-form-field",5),n.Xb(28,"mat-label"),n.Tc(29,"Product Name*"),n.Wb(),n.Xb(30,"input",11),n.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),n.Wb(),n.Rc(31,eb,2,0,"mat-error",8),n.Wb(),n.Xb(32,"mat-form-field",5),n.Xb(33,"mat-label"),n.Tc(34,"Existing Value*"),n.Wb(),n.Xb(35,"input",12),n.fc("keypress",function(t){return e.onKeyPress(t)}),n.Wb(),n.Rc(36,ab,2,0,"mat-error",8),n.Wb(),n.Xb(37,"mat-form-field",5),n.Xb(38,"mat-label"),n.Tc(39,"Account Currency*"),n.Wb(),n.Xb(40,"input",13),n.fc("keypress",function(t){return e.keyPressAlphanumeric(t)}),n.Wb(),n.Rc(41,ob,2,0,"mat-error",8),n.Wb(),n.Wb(),n.Xb(42,"div",4),n.Xb(43,"mat-form-field",5),n.Xb(44,"mat-label"),n.Tc(45,"User Recomendation*"),n.Wb(),n.Xb(46,"mat-select",14),n.Rc(47,ib,2,2,"mat-option",7),n.Wb(),n.Rc(48,nb,2,0,"mat-error",8),n.Wb(),n.Xb(49,"mat-form-field",5),n.Xb(50,"mat-label"),n.Tc(51,"Remarks"),n.Wb(),n.Sb(52,"input",15),n.Rc(53,rb,2,0,"mat-error",8),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(54,"div",16),n.Xb(55,"button",17),n.fc("click",function(){return e.onSubmit()}),n.Tc(56,"Save"),n.Wb(),n.Tc(57," \xa0\xa0\xa0 "),n.Xb(58,"button",18),n.fc("click",function(){return e.close()}),n.Tc(59," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.cardApprovalUpdateForm),n.Eb(6),n.rc("ngForOf",e.arrayAccountType),n.Eb(1),n.rc("ngIf",e.cardApprovalUpdateForm.get("accountType").hasError("required")),n.Eb(5),n.rc("ngForOf",e.arrayAccountBranch),n.Eb(1),n.rc("ngIf",e.cardApprovalUpdateForm.get("accountBranch").hasError("required")),n.Eb(5),n.rc("ngIf",e.cardApprovalUpdateForm.get("productCode").touched&&0==e.cardApprovalUpdateForm.get("productCode").value),n.Eb(6),n.rc("ngIf",e.cardApprovalUpdateForm.get("productName").hasError("required")),n.Eb(5),n.rc("ngIf",e.cardApprovalUpdateForm.get("existingValues").hasError("required")),n.Eb(5),n.rc("ngIf",e.cardApprovalUpdateForm.get("accountCurrency").hasError("required")),n.Eb(6),n.rc("ngForOf",e.arrayUserRecomendation),n.Eb(1),n.rc("ngIf",e.cardApprovalUpdateForm.get("userRecommendation").hasError("required")),n.Eb(5),n.rc("ngIf",e.cardApprovalUpdateForm.get("remarks").hasError("required")),n.Eb(2),n.rc("disabled",e.cardApprovalUpdateForm.invalid))},directives:[g.e,g.f,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,W.c,g.b,W.g,T.a,p.r,p.i,o.m,o.n,y.b,p.c,D.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function sb(t,e){if(1&t&&(n.Xb(0,"mat-option",16),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function lb(t,e){if(1&t&&(n.Xb(0,"mat-option",16),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}let bb=(()=>{class t{constructor(t,e,a,o,i,n){this.data=t,this.fb=e,this.dialogRef=a,this.apiService=o,this.snack=i,this.cdr=n,this.arraySystemRecommendation=["Recomended For Approval","Recommended For Reject"]}ngOnInit(){this.data.assessmentInfo?this.buildAssessmentForm(this.data.assessmentInfo):this.buildAssessmentForm()}buildAssessmentForm(t){this.cardAssessmentUpdateForm=this.fb.group({cardId:[this.data.cardId],assessmentId:[t.assessmentId="1"],requestedCardLimit:[t?t.requestedCardLimit:""],systemRecommendation:[t?t.systemRecommendation:"",p.z.required],approvedCardLimit:[t?t.approvedCardLimit:""],userRecommendation:[t?t.userRecommendation:"",[p.z.required]],recommendedCardLimit:[t?t.recommendedCardLimit:"",[p.z.required]],remark:[t?t.remark:""]})}close(){this.dialogRef.close({status:"ONGOING"})}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}onSubmit(){console.log(this.cardAssessmentUpdateForm),this.apiService.cardAssessmentDetails(this.cardAssessmentUpdateForm.value).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Assessment details Updated successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.apiService.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})}))})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(p.f),n.Rb(b.g),n.Rb(r.b),n.Rb(f.a),n.Rb(n.h))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-card-assessment-report-update"]],decls:42,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","33.33%","appearance","outline"],["matInput","","formControlName","requestedCardLimit","placeholder","Requested Card Limit","readonly","",3,"keypress"],["formControlName","systemRecommendation","placeholder","Recommended for Approval"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userRecommendation","placeholder","Recommended for Approval"],["matInput","","formControlName","recommendedCardLimit","required","",3,"keypress"],["matInput","","formControlName","approvedCardLimit","placeholder","Approved Card Limit","required","",3,"keypress"],["matInput","","formControlName","remark","type","text"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Assessment Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"mat-card"),n.Xb(7,"form",3),n.Xb(8,"div",4),n.Xb(9,"mat-form-field",5),n.Xb(10,"mat-label"),n.Tc(11,"Requested Card Limit"),n.Wb(),n.Xb(12,"input",6),n.fc("keypress",function(t){return e._keyPress1(t)}),n.Wb(),n.Wb(),n.Xb(13,"mat-form-field",5),n.Xb(14,"mat-label"),n.Tc(15,"System Recommendation"),n.Wb(),n.Xb(16,"mat-select",7),n.Rc(17,sb,2,2,"mat-option",8),n.Wb(),n.Wb(),n.Xb(18,"mat-form-field",5),n.Xb(19,"mat-label"),n.Tc(20,"User Recommendation"),n.Wb(),n.Xb(21,"mat-select",9),n.Rc(22,lb,2,2,"mat-option",8),n.Wb(),n.Wb(),n.Wb(),n.Xb(23,"div",4),n.Xb(24,"mat-form-field",5),n.Xb(25,"mat-label"),n.Tc(26,"Recommended Card Limit"),n.Wb(),n.Xb(27,"input",10),n.fc("keypress",function(t){return e._keyPress1(t)}),n.Wb(),n.Wb(),n.Xb(28,"mat-form-field",5),n.Xb(29,"mat-label"),n.Tc(30,"Approved Card Limit"),n.Wb(),n.Xb(31,"input",11),n.fc("keypress",function(t){return e._keyPress1(t)}),n.Wb(),n.Wb(),n.Xb(32,"mat-form-field",5),n.Xb(33,"mat-label"),n.Tc(34,"Remarks"),n.Wb(),n.Sb(35,"input",12),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"div",13),n.Xb(37,"button",14),n.fc("click",function(){return e.onSubmit()}),n.Tc(38,"Save"),n.Wb(),n.Tc(39," \xa0\xa0\xa0 "),n.Xb(40,"button",15),n.fc("click",function(){return e.close()}),n.Tc(41," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.cardAssessmentUpdateForm),n.Eb(10),n.rc("ngForOf",e.arraySystemRecommendation),n.Eb(5),n.rc("ngForOf",e.arraySystemRecommendation),n.Eb(15),n.rc("disabled",e.cardAssessmentUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,g.f,W.c,g.b,W.g,y.b,p.c,p.r,p.i,T.a,o.m,p.y,D.n],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function db(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Customer Name is Required! "),n.Wb())}function ub(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Agency is Required! "),n.Wb())}function mb(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Ratings is Required! "),n.Wb())}function pb(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-card"),n.Xb(1,"mat-accordion",3),n.Xb(2,"h5"),n.Tc(3,"Score "),n.Wb(),n.Sb(4,"br"),n.Xb(5,"div",11),n.Xb(6,"mat-form-field",4),n.Xb(7,"mat-label"),n.Tc(8,"Select Agency*"),n.Wb(),n.Xb(9,"mat-select",12),n.Xb(10,"mat-option",13),n.Tc(11,"Select"),n.Wb(),n.Xb(12,"mat-option",14),n.fc("click",function(){return n.Hc(t),n.jc().onClick()}),n.Tc(13,"Test Agency"),n.Wb(),n.Xb(14,"mat-option",15),n.fc("click",function(){return n.Hc(t),n.jc().onClick()}),n.Tc(15,"Ujjivan Agency"),n.Wb(),n.Xb(16,"mat-option",16),n.fc("click",function(){return n.Hc(t),n.jc().onClick()}),n.Tc(17,"Fast Track Agency"),n.Wb(),n.Wb(),n.Rc(18,ub,2,0,"mat-error",6),n.Wb(),n.Xb(19,"mat-form-field",4),n.Xb(20,"mat-label"),n.Tc(21,"Ratings"),n.Wb(),n.Xb(22,"input",17),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Rc(23,mb,2,0,"mat-error",6),n.Wb(),n.Xb(24,"mat-form-field",4),n.Xb(25,"mat-label"),n.Tc(26,"Remarks"),n.Wb(),n.Sb(27,"input",18),n.Wb(),n.Wb(),n.Wb(),n.Xb(28,"button",19),n.fc("click",function(){return n.Hc(t),n.jc().addFormGroup()}),n.Xb(29,"mat-icon"),n.Tc(30,"add"),n.Wb(),n.Tc(31," ADD AGENCY "),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.jc();n.Eb(1),n.rc("formGroup",t),n.Eb(11),n.rc("disabled",a.disableTest),n.Eb(2),n.rc("disabled",a.disableUjjivan),n.Eb(2),n.rc("disabled",a.disableFastTrack),n.Eb(2),n.rc("ngIf",!t.controls.agencyName.valid&&t.controls.agencyName.touched),n.Eb(5),n.rc("ngIf",!t.controls.ratings.valid&&t.controls.ratings.touched),n.Eb(5),n.rc("disabled",a.disableAddAgency)}}let hb=(()=>{class t{constructor(t,e,a,o,i,n){this.data=t,this.dialogRef=e,this.formBuilder=a,this.appApiService=o,this.api=i,this.snack=n}ngOnInit(){this.getCustomerInformationDetails(),this.data.creditScore.cardId?this.buildCreditForm(this.data.creditScore):this.buildCreditForm()}getCustomerInformationDetails(){this.customerNames=[],this.appApiService.fetchCustomersByCardAccId(this.data.cardId,"cardOrigin").subscribe(t=>{console.log("resp for customer information names ",t.data);for(let e=0;e<t.data.length;e++)this.customerNames.push(null==t.data[e].middleName?t.data[e].firstName+" "+t.data[e].lastName:t.data[e].firstName+" "+t.data[e].middleName+" "+t.data[e].lastName);console.log("customer name ",this.customerNames),this.customerNames&&(console.log("If condtion"),this.cardCreditScoreUpdateForm.get("customerName").setValue(this.customerNames[0]))},t=>{})}get f(){return this.cardCreditScoreUpdateForm.controls}get c(){return this.f.agencyRating}buildCreditForm(t,e){console.log(t),this.cardCreditScoreUpdateForm=this.formBuilder.group({cardId:this.data.cardId,customerName:t.customerName?t.customerName:this.customerNames[0],agencyRating:this.formBuilder.array([this.addModFormGroup(t)])}),console.log(this.cardCreditScoreUpdateForm)}addModFormGroup(t){return console.log(t,"inside addModeFormGrp"),this.formBuilder.group({cardId:[this.data.cardId],agencyId:[t?t.agencyId:0],agencyName:[t?t.agencyRating[0].agencyName:"",p.z.required],ratings:[t?t.agencyRating[0].ratings:"",p.z.required],remarks:[t?t.agencyRating[0].remarks:""]})}addFormGroup(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",p.z.required],ratings:["",p.z.required]}))}submit(t){console.log("val",t),t.accountType="cardOrigin",this.api.saveCreditDetails(t).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open(" Credit Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.api.updateCardStatus({cardId:t.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})})):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)})}onClick(){for(let t=0;t<3;t++)"Test Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableTest=!0),"Ujjivan Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableUjjivan=!0),"Fast Track Agency"==this.cardCreditScoreUpdateForm.value.agencyRating[t].agencyName&&(this.disableFastTrack=!0);3==this.cardCreditScoreUpdateForm.value.agencyRating.length&&(this.disableAddAgency=!0)}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}onSubmit(){}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(p.f),n.Rb(d.a),n.Rb(r.b),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-card-credit-score-update"]],decls:21,vars:4,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["appearance","outline","fxFlex","30%"],["matInput","","formControlName","customerName","name","customerName",1,"alignment"],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],["fxLayout","row","fxLayoutGap","5%"],["name","agencyName","formControlName","agencyName"],["value",""],["value","Test Agency",3,"disabled","click"],["value","Ujjivan Agency",3,"disabled","click"],["value","Fast Track Agency",3,"disabled","click"],["matInput","","formControlName","ratings","type","text","name","ratings",1,"alignment",3,"keypress"],["matInput","","formControlName","remarks","type","text","name","remarks",1,"alignment"],["mat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Credit Score Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"mat-card"),n.Xb(7,"form",3),n.Xb(8,"mat-card"),n.Xb(9,"mat-form-field",4),n.Xb(10,"mat-label"),n.Tc(11,"Customer Name*"),n.Wb(),n.Sb(12,"input",5),n.Rc(13,db,2,0,"mat-error",6),n.Wb(),n.Wb(),n.Rc(14,pb,32,7,"mat-card",7),n.Wb(),n.Wb(),n.Wb(),n.Xb(15,"div",8),n.Xb(16,"button",9),n.fc("click",function(){return e.submit(e.cardCreditScoreUpdateForm.value)}),n.Tc(17,"Save"),n.Wb(),n.Tc(18," \xa0\xa0\xa0 "),n.Xb(19,"button",10),n.fc("click",function(){return e.close()}),n.Tc(20," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.cardCreditScoreUpdateForm),n.Eb(6),n.rc("ngIf",!e.cardCreditScoreUpdateForm.get("customerName").valid&&e.cardCreditScoreUpdateForm.get("customerName").touched),n.Eb(1),n.rc("ngForOf",e.c.controls),n.Eb(2),n.rc("disabled",!e.cardCreditScoreUpdateForm.valid))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,W.c,g.b,W.g,y.b,p.c,p.r,p.i,o.n,o.m,g.f,W.b,j.a,T.a,D.n,C.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function fb(t,e){if(1&t){const t=n.Yb();n.Xb(0,"tr",11),n.Vb(1,3),n.Xb(2,"td"),n.Xb(3,"mat-form-field"),n.Sb(4,"input",12),n.Wb(),n.Wb(),n.Xb(5,"td"),n.Xb(6,"mat-form-field"),n.Xb(7,"input",13),n.fc("keypress",function(e){return n.Hc(t),n.jc().onKeyPress(e)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"td"),n.Xb(9,"div",14),n.Xb(10,"mat-checkbox",15),n.fc("change",function(e){return n.Hc(t),n.jc().checkbox(e)}),n.Wb(),n.Wb(),n.Wb(),n.Ub(),n.Wb()}if(2&t){const t=e.$implicit;n.Eb(1),n.rc("formGroup",t)}}let gb=(()=>{class t{constructor(t,e,a,o,i,n){this.data=t,this.formBuilder=e,this.apiService=a,this.dialogRef=o,this.snack=i,this.api=n,this.accountType="Card Origin"}ngOnInit(){this.data.currencytype=localStorage.getItem("Currency Type"),"INR"===this.data.currencytype?this.currencySymbol="\u20b9":"USD"===this.data.currencytype?this.currencySymbol="$":"CNY"===this.data.currencytype?this.currencySymbol="\xa5":"GBP"===this.data.currencytype?this.currencySymbol="\xa3":"ZAR"===this.data.currencytype&&(this.currencySymbol="R"),this.cardChargeUpdateForm=this.formBuilder.group({chargeInfo:new p.d([])}),this.data.chargeInfo?(this.onChangeInterest(this.data.chargeInfo.length),this.in.patchValue([...this.data.chargeInfo])):this.apiService.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue([Object.assign(Object.assign({},t[0]),{amount:history.state.amount?history.state.amount:""})])})}onChangeInterest(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],amount:["",p.z.required],waiver:[!1],cardId:[this.data.cardId],chargeDetailsId:[""]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}get f(){return this.cardChargeUpdateForm.controls}get in(){return this.f.chargeInfo}onKeyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||(t.preventDefault(),console.log("event:",t))}checkbox(t){console.log(t.checked)}onSubmit(t){console.log("form",t),this.api.cardChargeDetailsSave(t).subscribe(t=>{this.snack.open("Charge Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("backend response from intrest saving",t),this.apiService.updateCardStatus({cardId:this.data.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})})},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(p.f),n.Rb(r.b),n.Rb(b.g),n.Rb(f.a),n.Rb(r.b))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-card-charge-details-update"]],decls:25,vars:3,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[1,"tableRow"],["matInput","","formControlName","intrestType","name","account_branch","readonly","",1,"input"],["maxlength","10","formControlName","amount","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","matInput","","formControlName","amount","name","account_branch",1,"input",3,"keypress"],[1,"waiver-pos"],["formControlName","waiver","color","primary",3,"change"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Charge Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"mat-card"),n.Xb(7,"form",3),n.Xb(8,"table",4),n.Xb(9,"thead",5),n.Xb(10,"tr",6),n.Xb(11,"th"),n.Tc(12,"Interest Type"),n.Wb(),n.Xb(13,"th"),n.Tc(14,"Amount"),n.Wb(),n.Xb(15,"th"),n.Tc(16,"waiever"),n.Wb(),n.Wb(),n.Wb(),n.Xb(17,"tbody"),n.Rc(18,fb,11,1,"tr",7),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"div",8),n.Xb(20,"button",9),n.fc("click",function(){return e.onSubmit(e.cardChargeUpdateForm.value)}),n.Tc(21,"Save"),n.Wb(),n.Tc(22," \xa0\xa0\xa0 "),n.Xb(23,"button",10),n.fc("click",function(){return e.close()}),n.Tc(24," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.cardChargeUpdateForm),n.Eb(11),n.rc("ngForOf",e.in.controls),n.Eb(2),n.rc("disabled",e.cardChargeUpdateForm.invalid))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,o.m,g.f,W.c,y.b,p.c,p.r,p.i,p.m,$t.a],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function vb(t,e){if(1&t&&(n.Xb(0,"tr",11),n.Vb(1,3),n.Xb(2,"td"),n.Xb(3,"mat-card",12),n.Sb(4,"input",13),n.Wb(),n.Wb(),n.Xb(5,"td"),n.Xb(6,"mat-card",12),n.Sb(7,"input",14),n.Wb(),n.Wb(),n.Xb(8,"td"),n.Xb(9,"mat-card",12),n.Sb(10,"input",15),n.Wb(),n.Wb(),n.Xb(11,"td"),n.Xb(12,"mat-card",12),n.Sb(13,"input",16),n.Wb(),n.Wb(),n.Ub(),n.Wb()),2&t){const t=e.$implicit;n.Eb(1),n.rc("formGroup",t)}}let Wb=(()=>{class t{constructor(t,e,a,o,i){this.data=t,this.formBuilder=e,this.api=a,this.snack=o,this.dialogRef=i,this.accountType="Card Origin"}ngOnInit(){this.cardInterestUpdateForm=this.formBuilder.group({interestInfo:new p.d([])}),console.log(this.data),this.data.interestInfo?(this.onChangeInterest(this.data.interestInfo.length),this.in.patchValue(this.data.interestInfo)):this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue(t)}),console.log(this.cardInterestUpdateForm)}onChangeInterest(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:["Fixed Rate",p.z.required],intrestRateApplicable:[5,p.z.required],marginIn:[null,[p.z.required,p.z.max(100),p.z.min(0)]],effectiveRate:[10,[p.z.required,p.z.max(100),p.z.min(0)]],cardInterestId:[""],cardId:[this.data.cardId]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}onSubmit(){console.log(this.cardInterestUpdateForm.value),this.api.cardintrestDetailsSave(this.cardInterestUpdateForm.value).subscribe(t=>{this.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("backend response from intrest saving",t)},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}get f(){return this.cardInterestUpdateForm.controls}get in(){return this.f.interestInfo}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(p.f),n.Rb(r.b),n.Rb(f.a),n.Rb(b.g))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-card-interest-details-update"]],decls:27,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn"],["type","button",1,"cancelbtn",3,"click"],[1,"tableRow"],[1,"matCardBox-form"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"inputPercent"],["matInput","","formControlName","marginIn","name","margin","type","number","placeholder","Margin","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"inputPercent"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Interest Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"mat-card"),n.Xb(7,"form",3),n.Xb(8,"table",4),n.Xb(9,"thead",5),n.Xb(10,"tr",6),n.Xb(11,"th"),n.Tc(12,"Interest Type"),n.Wb(),n.Xb(13,"th"),n.Tc(14,"Interest Rate Applicable in %"),n.Wb(),n.Xb(15,"th"),n.Tc(16,"Margin in %"),n.Wb(),n.Xb(17,"th"),n.Tc(18,"Effective Rate %"),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"tbody"),n.Rc(20,vb,14,1,"tr",7),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(21,"div",8),n.Xb(22,"button",9),n.Tc(23,"Save"),n.Wb(),n.Tc(24," \xa0\xa0\xa0 "),n.Xb(25,"button",10),n.fc("click",function(){return e.close()}),n.Tc(26," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.cardInterestUpdateForm),n.Eb(13),n.rc("ngForOf",e.in.controls))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,o.m,g.f,y.b,p.c,p.r,p.i,p.v],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();function Xb(t,e){if(1&t&&(n.Xb(0,"mat-option",66),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function yb(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please select the Employment Type "),n.Wb())}function Tb(t,e){if(1&t&&(n.Xb(0,"mat-option",66),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Ib(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please select the Employment Category "),n.Wb())}function Eb(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please enter the Employee Number "),n.Wb())}function Cb(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please enter the Office Name "),n.Wb())}function xb(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Please enter the Designation "),n.Wb())}function Db(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Employment Start Date is Required! "),n.Wb())}function Ob(t,e){1&t&&(n.Xb(0,"mat-error"),n.Tc(1," Employment End Date is Required! "),n.Wb())}let Ab=(()=>{class t{constructor(t,e,a,o,i,n){this.data=t,this.dialogRef=e,this.formBuilder=a,this.apiService=o,this.cdr=i,this.snack=n,this.maxDate=new Date}ngOnInit(){console.log(this.data),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),this.data&&this.data.financialInfo?this.buildFinacialFormGroup(this.data.financialInfo[0]):this.buildFinacialFormGroup()}buildFinacialFormGroup(t){console.log(t),this.cardFinancialDetailsUpdateForm=this.formBuilder.group({id:[t?t.id:""],applicantName:[this.data.initiationInfo.applicantName,p.z.required],currentlyWorking:[t?t.currentlyWorking:""],applicantTotalIncome:[t?t.applicantTotalIncome:0,p.z.required],applicantTotalExpense:[t?t.applicantTotalExpense:0,p.z.required],lastUpdatedon:[t?new Date(t.lastUpdatedon):""],employmentType:[t?t.employmentType:"",p.z.required],employmentCategory:[t?t.employmentCategory:"",p.z.required],employeeNumber:[t?t.employeeNumber:"",p.z.required],officeName:[t?t.officeName:"",p.z.required],designation:[t?t.designation:"",p.z.required],employmentStartDate:[t?new Date(t.employmentStartDate):"",p.z.required],employmentEndDate:[t?new Date(t.employmentEndDate):""],salary:[t?t.salary:""],interestIncome:[t?t.interestIncome:""],bonus:[t?t.bonus:""],cashGifts:[t?t.cashGifts:""],business:[t?t.business:""],pension:[t?t.pension:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:0],household:[t?t.household:""],education:[t?t.education:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],medical:[t?t.medical:""],travel:[t?t.travel:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:0],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],overdraft:[t?t.overdraft:""],cardOutstandings:[t?t.cardOutstandings:""],liabilityOthers:[t?t.liabilityOthers:""],liabilityTotal:[t?t.liabilityTotal:0],savingDeposits:[t?t.savingDeposits:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""],assetOthers:[t?t.assetOthers:""],stocks:[t?t.stocks:""],assetTotal:[t?t.assetTotal:0]},{validator:t=>this.validateInputGroups(t)})}validateInputGroups(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}converDate(t){let e=h(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}onSubmit(){let t=this.converDate(this.cardFinancialDetailsUpdateForm.controls.employmentStartDate.value);t&&"Invalid date"!=t?(console.log("startDate",t),this.cardFinancialDetailsUpdateForm.value.employmentStartDate=t):this.cardFinancialDetailsUpdateForm.value.employmentStartDate=null;let e=this.converDate(this.cardFinancialDetailsUpdateForm.controls.employmentEndDate.value);e&&"Invalid date"!=e?(console.log("startDate",e),this.cardFinancialDetailsUpdateForm.value.employmentEndDate=e):this.cardFinancialDetailsUpdateForm.value.employmentEndDate=null;let a=h(this.cardFinancialDetailsUpdateForm.controls.lastUpdatedon.value).format("YYYY-MM-DD HH:MM:SS");console.log("lastUpdatedon",a),a&&"Invalid date"!=a?(console.log("startDate",a),this.cardFinancialDetailsUpdateForm.value.lastUpdatedon=a):this.cardFinancialDetailsUpdateForm.value.lastUpdatedon=null,this.cardFinancialDetailsUpdateForm.value.accountType="cardOrigin",this.cardFinancialDetailsUpdateForm.value.cardId=this.data.initiationInfo.cardId,console.log("submit",this.cardFinancialDetailsUpdateForm.value),console.log(this.cardFinancialDetailsUpdateForm.value);var o=[];o.push(this.cardFinancialDetailsUpdateForm.value),console.log(o),this.apiService.upsertCardFinancialDetails(o).subscribe(t=>{console.log(t),this.snack.open("Financial Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.apiService.updateCardStatus({cardId:this.data.initiationInfo.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})})},t=>{this.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}calculateTotalMonthlyIncome(t){let e=Number(t.salary)+Number(t.business)+Number(t.interestIncome)+Number(t.pension)+Number(t.bonus)+Number(t.monthlyIncomeOthers)+Number(t.monthlyIncomeRentals)+Number(t.cashGifts);this.cardFinancialDetailsUpdateForm.controls.monthlyIncomeTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}calculateTotalMonthlyExpenses(t){let e=Number(t.household)+Number(t.education)+Number(t.vehicleMaintenance)+Number(t.monthlyExpenseOthers)+Number(t.medical)+Number(t.travel)+Number(t.monthlyExpenseRentals);this.cardFinancialDetailsUpdateForm.controls.monthlyExpenseTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}calculateTotalLiabilities(t){let e=Number(t.propertyLoan)+Number(t.personalLoans)+Number(t.overdraft)+Number(t.vehicleLoan)+Number(t.cardOutstandings)+Number(t.liabilityOthers);this.cardFinancialDetailsUpdateForm.controls.liabilityTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}calculateTotalAssets(t){let e=Number(t.savingDeposits)+Number(t.properties)+Number(t.fixedDeposits)+Number(t.stocks)+Number(t.automobiles)+Number(t.lands)+Number(t.assetOthers);this.cardFinancialDetailsUpdateForm.controls.assetTotal.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsUpdateForm.value)}calculateTotalIncomeAndExpense(t){let e=12*t.monthlyExpenseTotal+t.liabilityTotal;this.cardFinancialDetailsUpdateForm.controls.applicantTotalIncome.setValue(12*t.monthlyIncomeTotal+t.assetTotal),this.cardFinancialDetailsUpdateForm.controls.applicantTotalExpense.setValue(e),this.cdr.markForCheck(),this.cdr.detectChanges()}close(){this.dialogRef.close({status:"ONGOING"})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}getEmploymentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentType=t})}getEmploymentCategory(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentCategory=t})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(p.f),n.Rb(r.b),n.Rb(n.h),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-card-financial-details-update"]],decls:264,vars:23,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","30%","appearance","outline",1,"full-width"],["matInput","","formControlName","applicantName","placeholder","Applicant Name"],["matInput","","type","text","formControlName","currentlyWorking","placeholder","Currently Working"],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Income"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total  Expenses"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","lastUpdatedon",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"keypress"],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name",3,"keypress"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation",3,"keypress"],["fxFlex","31.32%","appearance","outline",1,"full-width"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentStartDate",1,"alignment",3,"max","matDatepicker"],["start",""],["fxLayout","row"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentEndDate",1,"alignment",3,"matDatepicker","min"],["end",""],[1,""],[1,"card-title-text"],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","placeholder","Business",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","education","name","mod","placeholder","Education",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","Rentals",3,"input","keypress"],["fxLayout","row","fxLayoutGap","5%",1,"pb-1"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","Overdrafts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","Vehicle Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","Cards Outstanding's",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","Others",3,"keypress","input"],[1,"pb-1"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","Saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","Fixed Deposits",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","Stocks/Funds","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","Automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","Lands","formControlName","lands",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","Others","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","Total","readonly",""],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["mat-raised-button","","type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Financial Details"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"mat-card"),n.Xb(7,"form",3),n.Xb(8,"mat-card"),n.Xb(9,"div",4),n.Xb(10,"mat-form-field",5),n.Xb(11,"mat-label"),n.Tc(12,"Applicant Name"),n.Wb(),n.Sb(13,"input",6),n.Wb(),n.Xb(14,"mat-form-field",5),n.Xb(15,"mat-label"),n.Tc(16,"Currently Working"),n.Wb(),n.Sb(17,"input",7),n.Wb(),n.Xb(18,"mat-form-field",5),n.Xb(19,"mat-label"),n.Tc(20,"Total Income*"),n.Wb(),n.Sb(21,"input",8),n.Wb(),n.Wb(),n.Xb(22,"div",4),n.Xb(23,"mat-form-field",5),n.Xb(24,"mat-label"),n.Tc(25,"Total Expenses*"),n.Wb(),n.Sb(26,"input",9),n.Wb(),n.Xb(27,"mat-form-field",5),n.Xb(28,"mat-label"),n.Tc(29,"Last Update On"),n.Wb(),n.Sb(30,"input",10),n.Sb(31,"mat-datepicker-toggle",11),n.Sb(32,"mat-datepicker",null,12),n.Wb(),n.Wb(),n.Wb(),n.Xb(34,"mat-card"),n.Xb(35,"mat-card-title"),n.Xb(36,"div"),n.Tc(37,"Employment Details"),n.Wb(),n.Sb(38,"mat-divider"),n.Wb(),n.Xb(39,"mat-card-content"),n.Xb(40,"div",4),n.Xb(41,"mat-form-field",5),n.Xb(42,"mat-label"),n.Tc(43,"Employment Type*"),n.Wb(),n.Xb(44,"mat-select",13),n.Rc(45,Xb,2,2,"mat-option",14),n.Wb(),n.Rc(46,yb,2,0,"mat-error",15),n.Wb(),n.Xb(47,"mat-form-field",5),n.Xb(48,"mat-label"),n.Tc(49,"Employment Category*"),n.Wb(),n.Xb(50,"mat-select",16),n.Rc(51,Tb,2,2,"mat-option",14),n.Wb(),n.Rc(52,Ib,2,0,"mat-error",15),n.Wb(),n.Xb(53,"mat-form-field",5),n.Xb(54,"mat-label"),n.Tc(55,"Employee number*"),n.Wb(),n.Xb(56,"input",17),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Rc(57,Eb,2,0,"mat-error",15),n.Wb(),n.Wb(),n.Xb(58,"div",4),n.Xb(59,"mat-form-field",5),n.Xb(60,"mat-label"),n.Tc(61,"Office Name*"),n.Wb(),n.Xb(62,"input",18),n.fc("keypress",function(t){return e.letterOnly(t)}),n.Wb(),n.Rc(63,Cb,2,0,"mat-error",15),n.Wb(),n.Xb(64,"mat-form-field",5),n.Xb(65,"mat-label"),n.Tc(66,"Designation*"),n.Wb(),n.Xb(67,"input",19),n.fc("keypress",function(t){return e.letterOnly(t)}),n.Wb(),n.Rc(68,xb,2,0,"mat-error",15),n.Wb(),n.Xb(69,"mat-form-field",20),n.Xb(70,"mat-label"),n.Tc(71,"Employment Start Date*"),n.Wb(),n.Sb(72,"input",21),n.Sb(73,"mat-datepicker-toggle",11),n.Sb(74,"mat-datepicker",null,22),n.Rc(76,Db,2,0,"mat-error",15),n.Wb(),n.Wb(),n.Xb(77,"div",23),n.Xb(78,"mat-form-field",5),n.Xb(79,"mat-label"),n.Tc(80,"Employment End Date"),n.Wb(),n.Sb(81,"input",24),n.Sb(82,"mat-datepicker-toggle",11),n.Sb(83,"mat-datepicker",null,25),n.Rc(85,Ob,2,0,"mat-error",15),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(86,"mat-card"),n.Xb(87,"mat-card-title",26),n.Xb(88,"div",27),n.Tc(89," Monthly Income "),n.Xb(90,"div",28),n.Tc(91),n.Wb(),n.Wb(),n.Sb(92,"mat-divider"),n.Wb(),n.Xb(93,"mat-card-content"),n.Xb(94,"div",4),n.Xb(95,"mat-form-field",5),n.Xb(96,"mat-label"),n.Tc(97,"Bonus"),n.Wb(),n.Xb(98,"input",29),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(99,"mat-form-field",5),n.Xb(100,"mat-label"),n.Tc(101,"Interest Income"),n.Wb(),n.Xb(102,"input",30),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(103,"mat-form-field",5),n.Xb(104,"mat-label"),n.Tc(105,"Salary"),n.Wb(),n.Xb(106,"input",31),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(107,"div",4),n.Xb(108,"mat-form-field",5),n.Xb(109,"mat-label"),n.Tc(110,"Business"),n.Wb(),n.Xb(111,"input",32),n.fc("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Xb(112,"mat-form-field",5),n.Xb(113,"mat-label"),n.Tc(114,"Pension"),n.Wb(),n.Xb(115,"input",33),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(116,"mat-form-field",5),n.Xb(117,"mat-label"),n.Tc(118,"Rentals"),n.Wb(),n.Xb(119,"input",34),n.fc("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(120,"div",4),n.Xb(121,"mat-form-field",5),n.Xb(122,"mat-label"),n.Tc(123,"Cash Gifts"),n.Wb(),n.Xb(124,"input",35),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(125,"mat-form-field",5),n.Xb(126,"mat-label"),n.Tc(127,"Others"),n.Wb(),n.Xb(128,"input",36),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(129,"mat-form-field",5),n.Xb(130,"mat-label"),n.Tc(131,"Total"),n.Wb(),n.Sb(132,"input",37),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(133,"mat-card"),n.Xb(134,"mat-card-title",26),n.Xb(135,"div",27),n.Tc(136," Monthly Expenses "),n.Xb(137,"div",28),n.Tc(138),n.Wb(),n.Wb(),n.Sb(139,"mat-divider"),n.Wb(),n.Xb(140,"mat-card-content"),n.Xb(141,"div",4),n.Xb(142,"mat-form-field",5),n.Xb(143,"mat-label"),n.Tc(144,"Household"),n.Wb(),n.Xb(145,"input",38),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(146,"mat-form-field",5),n.Xb(147,"mat-label"),n.Tc(148,"Education"),n.Wb(),n.Xb(149,"input",39),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(150,"mat-form-field",5),n.Xb(151,"mat-label"),n.Tc(152,"Vehicle Maintenance"),n.Wb(),n.Xb(153,"input",40),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(154,"div",4),n.Xb(155,"mat-form-field",5),n.Xb(156,"mat-label"),n.Tc(157,"Medical"),n.Wb(),n.Xb(158,"input",41),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(159,"mat-form-field",5),n.Xb(160,"mat-label"),n.Tc(161,"Travel"),n.Wb(),n.Xb(162,"input",42),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(163,"mat-form-field",5),n.Xb(164,"mat-label"),n.Tc(165,"Rentals"),n.Wb(),n.Xb(166,"input",43),n.fc("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(167,"div",44),n.Xb(168,"mat-form-field",5),n.Xb(169,"mat-label"),n.Tc(170,"Others"),n.Wb(),n.Xb(171,"input",45),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(172,"mat-form-field",5),n.Xb(173,"mat-label"),n.Tc(174,"Total"),n.Wb(),n.Sb(175,"input",46),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(176,"mat-card"),n.Xb(177,"mat-card-title",26),n.Xb(178,"div",27),n.Tc(179," Annual Liabilities "),n.Xb(180,"div",28),n.Tc(181),n.Wb(),n.Wb(),n.Sb(182,"mat-divider"),n.Wb(),n.Xb(183,"mat-card-content"),n.Xb(184,"div",4),n.Xb(185,"mat-form-field",5),n.Xb(186,"mat-label"),n.Tc(187,"Property Loans"),n.Wb(),n.Xb(188,"input",47),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(189,"mat-form-field",5),n.Xb(190,"mat-label"),n.Tc(191,"Personal Loans"),n.Wb(),n.Xb(192,"input",48),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(193,"mat-form-field",5),n.Xb(194,"mat-label"),n.Tc(195,"Overdrafts"),n.Wb(),n.Xb(196,"input",49),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(197,"div",4),n.Xb(198,"mat-form-field",5),n.Xb(199,"mat-label"),n.Tc(200,"Vehicle Loans"),n.Wb(),n.Xb(201,"input",50),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(202,"mat-form-field",5),n.Xb(203,"mat-label"),n.Tc(204,"Cards Outstanding's"),n.Wb(),n.Xb(205,"input",51),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(206,"mat-form-field",5),n.Xb(207,"mat-label"),n.Tc(208,"Others"),n.Wb(),n.Xb(209,"input",52),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalLiabilities(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(210,"div",53),n.Xb(211,"mat-form-field",5),n.Xb(212,"mat-label"),n.Tc(213,"Total"),n.Wb(),n.Sb(214,"input",54),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(215,"mat-card"),n.Xb(216,"mat-card-title",26),n.Xb(217,"div",27),n.Tc(218," Asset "),n.Xb(219,"div",28),n.Tc(220),n.Wb(),n.Wb(),n.Sb(221,"mat-divider"),n.Wb(),n.Xb(222,"mat-card-content"),n.Xb(223,"div",4),n.Xb(224,"mat-form-field",5),n.Xb(225,"mat-label"),n.Tc(226,"Savings Deposits"),n.Wb(),n.Xb(227,"input",55),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(228,"mat-form-field",5),n.Xb(229,"mat-label"),n.Tc(230,"Properties"),n.Wb(),n.Xb(231,"input",56),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(232,"mat-form-field",5),n.Xb(233,"mat-label"),n.Tc(234,"Fixed Deposits"),n.Wb(),n.Xb(235,"input",57),n.fc("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)})("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(236,"div",4),n.Xb(237,"mat-form-field",5),n.Xb(238,"mat-label"),n.Tc(239,"Stocks/Funds"),n.Wb(),n.Xb(240,"input",58),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(241,"mat-form-field",5),n.Xb(242,"mat-label"),n.Tc(243,"Automobiles"),n.Wb(),n.Xb(244,"input",59),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(245,"mat-form-field",5),n.Xb(246,"mat-label"),n.Tc(247,"Lands"),n.Wb(),n.Xb(248,"input",60),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(249,"div",4),n.Xb(250,"mat-form-field",5),n.Xb(251,"mat-label"),n.Tc(252,"Others"),n.Wb(),n.Xb(253,"input",61),n.fc("keypress",function(t){return e._keyPress(t)})("input",function(){return e.calculateTotalAssets(e.cardFinancialDetailsUpdateForm.value)}),n.Wb(),n.Wb(),n.Xb(254,"mat-form-field",5),n.Xb(255,"mat-label"),n.Tc(256,"Total"),n.Wb(),n.Sb(257,"input",62),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(258,"div",63),n.Xb(259,"button",64),n.fc("click",function(){return e.onSubmit()}),n.Tc(260,"Save"),n.Wb(),n.Tc(261," \xa0\xa0\xa0 "),n.Xb(262,"button",65),n.fc("click",function(){return e.close()}),n.Tc(263," Cancel "),n.Wb(),n.Wb()),2&t){const t=n.Dc(33),a=n.Dc(75),o=n.Dc(84);n.Eb(7),n.rc("formGroup",e.cardFinancialDetailsUpdateForm),n.Eb(23),n.rc("matDatepicker",t),n.Eb(1),n.rc("for",t),n.Eb(14),n.rc("ngForOf",e.arrayEmploymentType),n.Eb(1),n.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentType").hasError("required")),n.Eb(5),n.rc("ngForOf",e.arrayEmploymentCategory),n.Eb(1),n.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentCategory").hasError("required")&&e.cardFinancialDetailsUpdateForm.get("employmentCategory").touched),n.Eb(5),n.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employeeNumber").hasError("required")),n.Eb(6),n.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("officeName").hasError("required")),n.Eb(5),n.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("designation").hasError("required")),n.Eb(4),n.rc("max",e.maxDate)("matDatepicker",a),n.Eb(1),n.rc("for",a),n.Eb(3),n.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentStartDate").hasError("required")),n.Eb(5),n.rc("matDatepicker",o)("min",e.cardFinancialDetailsUpdateForm.get("employmentStartDate").value),n.Eb(1),n.rc("for",o),n.Eb(3),n.rc("ngIf",e.cardFinancialDetailsUpdateForm.get("employmentEndDate").hasError("required")),n.Eb(6),n.Uc(e.incomeErrMsg),n.Eb(47),n.Uc(e.ExpensesErrMsg),n.Eb(43),n.Uc(e.LiabilitiesErrMsg),n.Eb(39),n.Uc(e.assetErrMsg),n.Eb(39),n.rc("disabled",e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg)}},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,g.f,W.c,g.b,W.g,y.b,p.c,p.r,p.i,p.v,I.e,I.g,W.j,I.d,X.h,ka.a,X.d,T.a,o.m,o.n,p.m,q.a,C.b,D.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}.ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}"]}),t})();function Rb(t,e){if(1&t&&(n.Xb(0,"mat-option",20),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Sb(t,e){if(1&t){const t=n.Yb();n.Xb(0,"tr",3),n.Xb(1,"td",13),n.Xb(2,"mat-select",14),n.fc("valueChange",function(a){n.Hc(t);const o=e.index;return n.jc().changeValue2(a,o)}),n.Rc(3,Rb,2,2,"mat-option",15),n.Wb(),n.Wb(),n.Xb(4,"td"),n.Xb(5,"div"),n.Xb(6,"input",16),n.fc("keyup",function(a){n.Hc(t);const o=e.index;return n.jc().OnInput1(a,!0,o)})("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(7,"td"),n.Xb(8,"div"),n.Xb(9,"input",17),n.fc("keyup",function(a){n.Hc(t);const o=e.index;return n.jc().OnInput(a,!0,o)})("keypress",function(e){return n.Hc(t),n.jc().keyPress(e)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(10,"td",18),n.Xb(11,"div"),n.Xb(12,"button",19),n.fc("click",function(){n.Hc(t);const a=e.index;return n.jc().onclick1(a)}),n.Xb(13,"mat-icon"),n.Tc(14,"delete"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.jc();n.rc("formGroup",t),n.Eb(3),n.rc("ngForOf",a.arraylimitType),n.Eb(3),n.rc("readonly",a.isDLReadOnly),n.Eb(3),n.rc("readonly",a.isLPTReadOnly)}}function Nb(t,e){1&t&&(n.Xb(0,"mat-error"),n.Xb(1,"small"),n.Tc(2,"Limit per transaction should be less "),n.Wb(),n.Sb(3,"br"),n.Xb(4,"small"),n.Tc(5,"than daily limit"),n.Wb(),n.Wb())}let Pb=(()=>{class t{constructor(t,e,a,o,i){this.data=t,this.dialogRef=e,this.fb=a,this.apiService=o,this.snack=i,this.arraylimitType=["Domestic Limit","International Limit","Daily Limit","ATM limit","POS Limit","Internet Limit"]}ngOnInit(){if(console.log(this.data),this.buildcardPrefrenceUpdateForm(),this.data.preferanceInfo){this.cardPrefrenceOnLoad=this.data.preferanceInfo,this.isdailylimit=!0,this.isLimitTransaction=!0,this.buildcardPrefrenceUpdateForm(this.data.preferanceInfo,!0);for(let t=0;t<=this.cardPrefrenceOnLoad.length-1;t++)this.selectedOptions2.push(this.cardPrefrenceOnLoad[t].limitType);this.isRowEnds=!0,console.log("All Transaction Details",this.data)}else this.buildcardPrefrenceUpdateForm()}buildcardPrefrenceUpdateForm(t,e){if(this.cardPrefrenceUpdateForm=this.fb.group({cardPrefrences:this.fb.array([this.addMFormGroup()])}),e){this.addMandateToFormGroup(t),console.log(t);for(let e=0;e<=t.length-1;e++)t[e].dailyLimit=this.addComa(t[e].dailyLimit),t[e].limitPerTransaction=this.addComa(t[e].limitPerTransaction);this.m.patchValue(t)}}addMFormGroup(){return this.fb.group({preferenceId:[""],limitType:[""],dailyLimit:["",[p.z.maxLength(18),p.z.pattern("^[0-9]{10,12}$")]],limitPerTransaction:["",[p.z.maxLength(18),p.z.pattern("^[0-9]{10,12}$")]]})}addMandateToFormGroup(t){const e=t.length;for(let a=1;a<e;a++)this.m.push(this.fb.group({preferenceId:[""],limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}));this.isdailylimit=!0}addComa(t){let e=t.toString().replace(/,/g,"").split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}addMandate(){this.isdailylimit=!1,this.islimitType=!1,this.isLimitTransaction=!1,this.isLPTReadOnly=!0,this.isLPTReadOnly=!0,console.log("this.selectedOptions2",this.selectedOptions2),this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}))}onSubmit(){var t=[];this.cardPrefrenceUpdateForm.value.cardPrefrences.cardId=this.data.cardId;for(let e=0;e<this.cardPrefrenceUpdateForm.value.cardPrefrences.length;e++){let a=Object.assign({},this.cardPrefrenceUpdateForm.value.cardPrefrences[e],{cardId:this.data.cardId});a.dailyLimit=parseInt(this.removeComma(a.dailyLimit)),a.limitPerTransaction=parseInt(this.removeComma(a.limitPerTransaction)),t.push(a)}this.apiService.uploadCardPrefrence(t).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Card Preferences Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.apiService.updateCardStatus({cardId:this.data.cardId,status:"BACKLOG"}).subscribe(t=>{this.dialogRef.close({status:t.status})}))},t=>{this.snack.open("Error Unable to Update Data!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}onclick1(t){this.islimitType=!0,this.isLimitTransaction=!0,this.isdailylimit=!0,this.isRowEnds=!1,this.isLPTReadOnly=!1,this.isLPTReadOnly=!1,this.cardPrefrenceUpdateForm.controls.cardPrefrences.removeAt(t),null==this.cardPrefrenceOnLoad?console.log("deleted"):null!=this.cardPrefrenceOnLoad[t]&&this.apiService.deleteCardPrefrence(this.cardPrefrenceOnLoad[t].preferenceId).subscribe(t=>{},t=>{200==t.status&&this.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.selectedOptions2.splice(t,1),console.log("console.log(this.selectedOptions2);",this.selectedOptions2),this.isdailylimit=!0}get f(){return this.cardPrefrenceUpdateForm.controls}get m(){return this.f.cardPrefrences}close(){this.dialogRef.close({status:"ONGOING"})}changeValue2(t,e){this.islimitType=!0,this.selectedDocumentTypes2[e]&&(this.selectedOptions2=this.selectedOptions2.filter(t=>t!==this.selectedDocumentTypes2[e])),this.selectedDocumentTypes2[e]=t,this.selectedOptions2.push(t),this.selectedDocumentTypes2.length==this.arraylimitType.length?(this.isRowEnds=!0,console.log("isRowends",this.isRowEnds)):(this.isRowEnds=!1,console.log("isRowends",this.isRowEnds)),this.isDLReadOnly=!1}_keyPress(t){console.log(this.cardPrefrenceUpdateForm);let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isdailylimit=!0,this.isLPTReadOnly=!1}keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),this.isLimitTransaction=!0}OnInput(t,e,a){this.limiPrTrn=t.target.value;var o=this.removeComma(this.cardPrefrenceUpdateForm.value.cardPrefrences[a].dailyLimit),i=this.removeComma(this.limiPrTrn);this.isLimitTransaction=!!this.limiPrTrn,this.isGreaterValue=Number(i)>Number(o)||(Number(i),Number(o),!1);let n={limitPerTransaction:this.addComa(this.limiPrTrn)};this.m.controls[a].patchValue(n)}OnInput1(t,e,a){this.limitDaily=t.target.value,this.isdailylimit=!!this.limitDaily;let o={dailyLimit:this.addComa(this.limitDaily)};this.m.controls[a].patchValue(o)}removeComma(t){var e=t.replace(/,/g,"");return console.log("numb",e),e}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.g),n.Rb(p.f),n.Rb(r.b),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-card-preference-details-update"]],decls:31,vars:5,consts:[["fxLayout","row","fxLayoutAlign","end",1,"contain"],[1,"closeIcon",3,"click"],["mat-dialog-title",""],[3,"formGroup"],[1,"table-container"],[1,"table"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","335px"],["mat-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"],[2,"width","5cm"],["formControlName","limitType","placeholder","Select Type","name","limitType",1,"inputMatcard1",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","maxlength","18","formControlName","dailyLimit",1,"alignment",3,"readonly","keyup","keypress"],["type","text","maxlength","18","formControlName","limitPerTransaction",1,"alignment",3,"readonly","keyup","keypress"],[1,"deletebutton"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h1",2),n.Tc(4,"Card Preferences"),n.Wb(),n.Xb(5,"mat-dialog-content"),n.Xb(6,"mat-card"),n.Xb(7,"form",3),n.Xb(8,"div",4),n.Xb(9,"table",5),n.Xb(10,"thead"),n.Xb(11,"tr"),n.Xb(12,"th"),n.Tc(13,"Limit Type"),n.Wb(),n.Xb(14,"th"),n.Tc(15,"Daily Limit"),n.Wb(),n.Xb(16,"th"),n.Tc(17,"Limit per transaction"),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"tbody"),n.Rc(19,Sb,15,4,"tr",6),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",7),n.Xb(21,"button",8),n.fc("click",function(){return e.addMandate()}),n.Xb(22,"mat-icon"),n.Tc(23,"add"),n.Wb(),n.Wb(),n.Rc(24,Nb,6,0,"mat-error",9),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",10),n.Xb(26,"button",11),n.fc("click",function(){return e.onSubmit()}),n.Tc(27,"Save"),n.Wb(),n.Tc(28," \xa0\xa0\xa0 "),n.Xb(29,"button",12),n.fc("click",function(){return e.close()}),n.Tc(30," Cancel "),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.cardPrefrenceUpdateForm),n.Eb(12),n.rc("ngForOf",e.m.controls),n.Eb(2),n.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction&&e.islimitType&&!e.isRowEnds)||e.isGreaterValue),n.Eb(3),n.rc("ngIf",e.isGreaterValue),n.Eb(2),n.rc("disabled",!(e.isdailylimit&&e.isLimitTransaction||e.islimitType)||e.isGreaterValue||0==e.m.controls.length))},directives:[g.e,g.d,v.a,b.h,b.e,X.a,p.A,p.s,p.j,o.m,g.f,C.b,o.n,T.a,p.r,p.i,p.c,p.m,D.n,W.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.table-container[_ngcontent-%COMP%]{padding:0 10%;margin:20px auto 0}.table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:.2cm;background-color:#007bff}.alignment[_ngcontent-%COMP%]{border-style:none;outline:none;box-shadow:0 0 0;padding-top:11px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:medium;color:#fff;opacity:1;padding:12px;vertical-align:top}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;border:1px solid rgba(2,2,3,.48627450980392156)}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;color:#f1f1f1;padding:8px;text-align:center}.deletebutton[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-option-text[_ngcontent-%COMP%]{display:inline-block;flex-grow:1;margin-left:10px!important;overflow:hidden;text-overflow:ellipsis}.mat-select-panel[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%], .mat-select-panel[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{font-size:inherit;line-height:3em;margin-left:10px;height:3em}.egret-blue[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);margin-left:10px}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 10px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 0 0 rgba(0,0,0,.1607843137254902);box-sizing:border-box;padding:10px;width:100%}"]}),t})();var kb=a("I5/J");let Fb=(()=>{class t{constructor(t,e,a,o,i){this.ls=t,this.data=e,this.formBuilder=a,this.dialogRef=o,this.doOcrService=i,this.screenInfo={screenName:"Cad Document Upload",data:"",customerId:"",isEdit:!0},this.disableNextAtIndex1=!1}ngOnInit(){this.customerId=this.ls.getItem("customerId"),this.ls.setItem("customer_id",this.customerId),this.screenInfo={screenName:"Cad Document Upload",data:"",customerId:"",isEdit:!0},this.doOcrService.getenableNext().subscribe(t=>{console.log("data disableNextAtIndex1 :: ",t),this.disableNextAtIndex1=t})}createDocItemOthers(t){return this.formBuilder.group({id:t?t.id:[""],documentType:t?t.documentName:[""],documentName:t?t.fileName:[""],fileData:t?t.fileData:[""],fileUrl:t?t.fileUrl:[""],fileUrl2:t?t.fileUrl2:[""],documentSide:t?t.documentSide:[""]})}onSubmit(){this.dialogRef.close({status:"INITIATED",screen:"documentUpload"})}close(){this.dialogRef.close({status:"ONGOING"})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(l.a),n.Rb(b.a),n.Rb(p.f),n.Rb(b.g),n.Rb(cr.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-update-doc-upload"]],decls:13,vars:2,consts:[["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon",3,"click"],[2,"font-size","18px"],[3,"screenInfo"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button","mat-raised-button","",1,"editbtn",3,"disabled","click"],["type","button",1,"cancelbtn",3,"click"]],template:function(t,e){1&t&&(n.Xb(0,"div",0),n.Xb(1,"mat-icon",1),n.fc("click",function(){return e.close()}),n.Tc(2,"close"),n.Wb(),n.Wb(),n.Xb(3,"h3",2),n.Tc(4,"Proof Of Identity"),n.Wb(),n.Xb(5,"mat-card"),n.Sb(6,"app-genric-document-upload",3),n.Wb(),n.Xb(7,"div",4),n.Xb(8,"button",5),n.fc("click",function(){return e.onSubmit()}),n.Tc(9,"Save"),n.Wb(),n.Tc(10," \xa0\xa0\xa0 "),n.Xb(11,"button",6),n.fc("click",function(){return e.close()}),n.Tc(12," Cancel "),n.Wb(),n.Wb()),2&t&&(n.Eb(6),n.rc("screenInfo",e.screenInfo),n.Eb(2),n.rc("disabled",e.disableNextAtIndex1))},directives:[g.e,g.d,v.a,X.a,sr.a,g.f,C.b],styles:[".closeIcon[_ngcontent-%COMP%]{cursor:pointer}.editbtn[_ngcontent-%COMP%]{background-color:#0ec588;border-color:#127f38}.cancelbtn[_ngcontent-%COMP%], .editbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:30px;width:150px}.cancelbtn[_ngcontent-%COMP%]{background-color:red;border-color:red}"]}),t})();const Lb=["chart"];function _b(t,e){if(1&t&&(n.Xb(0,"span",66),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.Eb(1),n.Uc(t)}}function wb(t,e){if(1&t&&(n.Xb(0,"div",67),n.Xb(1,"h1",68),n.Tc(2),n.kc(3,"slice"),n.kc(4,"uppercase"),n.kc(5,"slice"),n.kc(6,"uppercase"),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Oc("background",t.customerColorCode),n.Eb(2),n.Wc("",n.nc(3,4,n.lc(4,8,t.cardInfo.firstName),0,1),"",n.nc(5,10,n.lc(6,14,t.cardInfo.lastName),0,1),"")}}function Ub(t,e){if(1&t&&n.Sb(0,"img",70),2&t){const t=n.jc(2);n.rc("src",t.imageUrl,n.Jc)}}function Mb(t,e){if(1&t&&(n.Xb(0,"div",67),n.Rc(1,Ub,1,1,"img",69),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.rc("ngIf","not_available"!=t.imageUrl)}}function Gb(t,e){if(1&t&&(n.Xb(0,"div",83),n.Xb(1,"small",84),n.Tc(2),n.Wb(),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(2),n.Vc("CIF #",null==t?null:t.cifNumber,"")}}function Vb(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",85),n.fc("click",function(){return n.Hc(t),n.jc(2).goTo360Dashboard()}),n.Xb(1,"small",84),n.Tc(2),n.Wb(),n.Wb()}if(2&t){const t=n.jc().$implicit;n.Eb(2),n.Vc("CIF #",null==t?null:t.cifNumber,"")}}function Bb(t,e){if(1&t&&(n.Xb(0,"div",71),n.Xb(1,"div",38),n.Xb(2,"mat-card"),n.Xb(3,"div",71),n.Xb(4,"div",72),n.Sb(5,"img",73),n.Wb(),n.Xb(6,"div",74),n.Xb(7,"div",75),n.Xb(8,"div"),n.Xb(9,"div",71),n.Xb(10,"div",76),n.Xb(11,"h2",77),n.Xb(12,"span"),n.Tc(13),n.Wb(),n.Tc(14,"\xa0 "),n.Xb(15,"span"),n.Tc(16),n.Wb(),n.Tc(17,"\xa0 "),n.Xb(18,"span"),n.Tc(19),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",78),n.Tc(21,"|"),n.Wb(),n.Xb(22,"div",76),n.Xb(23,"small",49),n.Tc(24),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",71),n.Rc(26,Gb,3,1,"div",79),n.Rc(27,Vb,3,1,"div",80),n.Wb(),n.Sb(28,"br"),n.Xb(29,"div",81),n.Xb(30,"div",82),n.Xb(31,"small",48),n.Tc(32,"Date of Birth"),n.Wb(),n.Sb(33,"br"),n.Xb(34,"p",49),n.Tc(35),n.Wb(),n.Wb(),n.Xb(36,"div",82),n.Xb(37,"small",48),n.Tc(38,"Email ID"),n.Wb(),n.Sb(39,"br"),n.Xb(40,"p",49),n.Tc(41),n.Wb(),n.Wb(),n.Xb(42,"div",82),n.Xb(43,"small",48),n.Tc(44,"Mobile Number"),n.Wb(),n.Sb(45,"br"),n.Xb(46,"p",49),n.Tc(47),n.Wb(),n.Wb(),n.Xb(48,"div",82),n.Xb(49,"small",48),n.Tc(50,"Phone Number"),n.Wb(),n.Sb(51,"br"),n.Xb(52,"p",49),n.Tc(53),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=n.jc();n.Eb(13),n.Uc(null==t?null:t.firstName),n.Eb(3),n.Uc(null==t?null:t.middleName),n.Eb(3),n.Uc(null==t?null:t.lastName),n.Eb(5),n.Vc("Last Updated On ",null!=t&&t.modifiedTime?t.modifiedTime:t.createdTime,""),n.Eb(2),n.rc("ngIf",!a.isApprovedSreen),n.Eb(1),n.rc("ngIf",a.isApprovedSreen),n.Eb(8),n.Uc(null==t?null:t.dateOfBirth),n.Eb(6),n.Uc(null==t?null:t.primaryEmailAdress),n.Eb(6),n.Uc(t.phoneNumber),n.Eb(6),n.Uc(null==t?null:t.landlineNumber)}}function jb(t,e){if(1&t&&n.Sb(0,"apx-chart",95),2&t){const t=n.jc(2);n.rc("series",t.chartOptions.series)("chart",t.chartOptions.chart)("plotOptions",t.chartOptions.plotOptions)("labels",t.chartOptions.labels)}}function zb(t,e){if(1&t&&n.Sb(0,"apx-chart",96),2&t){const t=n.jc(2);n.rc("series",t.chartOptions1.series1)("chart",t.chartOptions1.chart1)("yaxis",t.chartOptions1.yaxis1)("xaxis",t.chartOptions1.xaxis1)("labels",t.chartOptions1.labels1)("stroke",t.chartOptions1.stroke1)("markers",t.chartOptions1.markers1)("fill",t.chartOptions1.fill1)("tooltip",t.chartOptions1.tooltip1)}}function qb(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",30),n.Xb(2,"h3"),n.Tc(3,"Financial Details"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"mat-icon",31),n.fc("click",function(){return n.Hc(t),n.jc().editFinancialDetails()}),n.Tc(6,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(7,"hr"),n.Xb(8,"mat-card"),n.Xb(9,"div",75),n.Xb(10,"mat-card"),n.Xb(11,"h4"),n.Tc(12,"Assets and Liabilities"),n.Wb(),n.Rc(13,jb,1,4,"apx-chart",86),n.Wb(),n.Xb(14,"mat-card"),n.Xb(15,"h4"),n.Tc(16,"Income and Expenses"),n.Wb(),n.Rc(17,zb,1,9,"apx-chart",87),n.Wb(),n.Wb(),n.Xb(18,"mat-card"),n.Xb(19,"mat-card-header",88),n.Xb(20,"div",89),n.Xb(21,"div",90),n.Xb(22,"div",91),n.Xb(23,"mat-icon"),n.Tc(24,"perm_identity"),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div"),n.Xb(26,"mat-card-title",92),n.Tc(27),n.Wb(),n.Xb(28,"mat-card-subtitle",93),n.Tc(29),n.Wb(),n.Wb(),n.Wb(),n.Xb(30,"div",94),n.Xb(31,"div"),n.Xb(32,"div",36),n.Tc(33,"Employment Type"),n.Wb(),n.Xb(34,"div",37),n.Tc(35),n.Wb(),n.Wb(),n.Xb(36,"div"),n.Xb(37,"div",36),n.Tc(38,"Employment Category"),n.Wb(),n.Xb(39,"div",37),n.Tc(40),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(41,"br"),n.Wb()}if(2&t){const t=n.jc();n.Eb(5),n.rc("hidden",t.editScreen),n.Eb(8),n.rc("ngIf",t.chartOptions),n.Eb(4),n.rc("ngIf",t.chartOptions1),n.Eb(10),n.Uc(t.designation),n.Eb(2),n.Wc("",t.employeeNumber,",",t.officeName," "),n.Eb(6),n.Uc(t.employmentType),n.Eb(5),n.Uc(t.employmentCategory)}}function Jb(t,e){if(1&t&&(n.Xb(0,"div",33),n.Sb(1,"div",34),n.Xb(2,"div",35),n.Xb(3,"div",36),n.Tc(4,"Limit Type"),n.Wb(),n.Xb(5,"div",37),n.Tc(6),n.Wb(),n.Wb(),n.Xb(7,"div",35),n.Xb(8,"div",36),n.Tc(9,"Daily Limit"),n.Wb(),n.Xb(10,"div",37),n.Tc(11),n.Wb(),n.Wb(),n.Xb(12,"div",35),n.Xb(13,"div",36),n.Tc(14,"Limit Per Transaction"),n.Wb(),n.Xb(15,"div",37),n.Tc(16),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(6),n.Uc(t.limitType),n.Eb(5),n.Uc(t.dailyLimit),n.Eb(5),n.Uc(t.limitPerTransaction)}}function Kb(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div"),n.Xb(1,"div",30),n.Xb(2,"h3"),n.Tc(3,"Card Preferences Details"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"mat-icon",31),n.fc("click",function(){return n.Hc(t),n.jc().editCardPreferenceDetails()}),n.Tc(6,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Sb(7,"hr"),n.Xb(8,"mat-card"),n.Xb(9,"mat-card-content"),n.Rc(10,Jb,17,3,"div",97),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(5),n.rc("hidden",t.editScreen),n.Eb(5),n.rc("ngForOf",t.preferenceDetails)}}function $b(t,e){if(1&t&&(n.Xb(0,"div",37),n.Xb(1,"a",98),n.Tc(2,"link"),n.Wb(),n.Sb(3,"link"),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.sc("href",t.documentUrl,n.Jc)}}function Hb(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"div"),n.Xb(2,"h4"),n.Tc(3,"Fixed Interest"),n.Wb(),n.Wb(),n.Xb(4,"div",100),n.Xb(5,"div"),n.Xb(6,"mat-card",101),n.Xb(7,"div"),n.Xb(8,"div",36),n.Tc(9,"Interest Type"),n.Wb(),n.Xb(10,"div",37),n.Tc(11),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(12,"div"),n.Xb(13,"mat-card",101),n.Xb(14,"div"),n.Xb(15,"div",36),n.Tc(16,"Applicable Int Rate %"),n.Wb(),n.Xb(17,"div",37),n.Tc(18),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"div"),n.Xb(20,"mat-card",101),n.Xb(21,"div"),n.Xb(22,"div",36),n.Tc(23,"Effective Rate %"),n.Wb(),n.Xb(24,"div",37),n.Tc(25),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(26,"div"),n.Xb(27,"mat-card",101),n.Xb(28,"div"),n.Xb(29,"div",36),n.Tc(30,"Int Margin In %"),n.Wb(),n.Xb(31,"div",37),n.Tc(32),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(11),n.Uc(t.intrestType),n.Eb(7),n.Uc(t.intrestRateApplicable),n.Eb(7),n.Uc(t.effectiveRate),n.Eb(7),n.Uc(t.marginIn)}}function Yb(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-card"),n.Xb(1,"div",30),n.Xb(2,"h3"),n.Tc(3,"Interest Details"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"mat-icon",31),n.fc("click",function(){return n.Hc(t),n.jc(2).editInterestDetails()}),n.Tc(6,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Rc(7,Hb,33,4,"mat-card",99),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(5),n.rc("hidden",t.editScreen),n.Eb(2),n.rc("ngForOf",t.intrestDetails)}}function Zb(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"div"),n.Xb(2,"h4"),n.Tc(3,"Handling Charge"),n.Wb(),n.Wb(),n.Xb(4,"div"),n.Xb(5,"div"),n.Xb(6,"mat-card",102),n.Xb(7,"div"),n.Xb(8,"div",36),n.Tc(9,"Amount"),n.Wb(),n.Xb(10,"div",37),n.Tc(11),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(11),n.Uc(t.amount)}}function Qb(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-card"),n.Xb(1,"div",30),n.Xb(2,"h3"),n.Tc(3,"Charge Details"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"mat-icon",31),n.fc("click",function(){return n.Hc(t),n.jc(2).editChargeDetails()}),n.Tc(6,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Rc(7,Zb,12,1,"mat-card",99),n.Wb()}if(2&t){const t=n.jc(2);n.Eb(5),n.rc("hidden",t.editScreen),n.Eb(2),n.rc("ngForOf",t.chargeDetails)}}function td(t,e){if(1&t&&(n.Xb(0,"div",25),n.Xb(1,"div",26),n.Xb(2,"div",27),n.Tc(3,"3"),n.Wb(),n.Xb(4,"div",28),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Xb(6,"div",29),n.Xb(7,"h2"),n.Tc(8,"Application Enrichment"),n.Wb(),n.Sb(9,"hr"),n.Rc(10,Yb,8,2,"mat-card",51),n.Sb(11,"br"),n.Sb(12,"hr"),n.Rc(13,Qb,8,2,"mat-card",51),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Eb(10),n.rc("ngIf",(null==t.intrestDetails?null:t.intrestDetails.length)>0),n.Eb(3),n.rc("ngIf",(null==t.chargeDetails?null:t.chargeDetails.length)>0)}}function ed(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",25),n.Xb(1,"div",26),n.Xb(2,"div",27),n.Tc(3,"4"),n.Wb(),n.Xb(4,"div",28),n.Tc(5,"\xa0"),n.Wb(),n.Wb(),n.Sb(6,"br"),n.Xb(7,"div",29),n.Xb(8,"h2"),n.Tc(9,"Underwriting Stage"),n.Wb(),n.Sb(10,"hr"),n.Xb(11,"div"),n.Xb(12,"div",30),n.Xb(13,"h3"),n.Tc(14,"Credit Score Details"),n.Wb(),n.Xb(15,"span"),n.Xb(16,"mat-icon",31),n.fc("click",function(){return n.Hc(t),n.jc().editCreditScoreDetails()}),n.Tc(17,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"div",39),n.Xb(19,"div",42),n.Xb(20,"div",43),n.Xb(21,"mat-card",103),n.Xb(22,"mat-card-content"),n.Xb(23,"div",38),n.Xb(24,"div",104),n.Xb(25,"div",105),n.Vb(26),n.Xb(27,"div",106),n.Xb(28,"mat-hint",36),n.Tc(29,"Customer Name"),n.Wb(),n.Sb(30,"br"),n.Xb(31,"mat-hint",37),n.Tc(32),n.Wb(),n.Wb(),n.Ub(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(33,"div",39),n.Xb(34,"div",42),n.Xb(35,"div",43),n.Xb(36,"mat-card",103),n.Xb(37,"mat-card-content"),n.Xb(38,"div",38),n.Xb(39,"div",104),n.Xb(40,"div",105),n.Vb(41),n.Sb(42,"div",107),n.Xb(43,"div",108),n.Xb(44,"mat-card",109),n.Xb(45,"h3"),n.Tc(46,"Score"),n.Wb(),n.Sb(47,"br"),n.Xb(48,"div",110),n.Xb(49,"div",105),n.Vb(50),n.Xb(51,"div",111),n.Xb(52,"mat-hint",36),n.Tc(53,"Agency"),n.Wb(),n.Sb(54,"br"),n.Xb(55,"mat-hint",37),n.Tc(56),n.Wb(),n.Wb(),n.Xb(57,"div",111),n.Xb(58,"mat-hint",36),n.Tc(59,"Score"),n.Wb(),n.Sb(60,"br"),n.Xb(61,"mat-hint",37),n.Tc(62),n.Wb(),n.Wb(),n.Ub(),n.Wb(),n.Wb(),n.Sb(63,"br"),n.Xb(64,"div",104),n.Xb(65,"div",105),n.Vb(66),n.Xb(67,"div",111),n.Xb(68,"mat-hint",36),n.Tc(69,"Remarks"),n.Wb(),n.Sb(70,"br"),n.Xb(71,"mat-hint",37),n.Tc(72),n.Wb(),n.Wb(),n.Ub(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Ub(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(73,"hr"),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(16),n.rc("hidden",t.editScreen),n.Eb(16),n.Uc(t.customerName),n.Eb(24),n.Uc(t.agencyName),n.Eb(6),n.Uc(t.ratings),n.Eb(10),n.Vc("",t.remarks," ")}}function ad(t,e){if(1&t&&(n.Xb(0,"div",37),n.Xb(1,"a",98),n.Tc(2,"link"),n.Wb(),n.Sb(3,"link"),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.sc("href",t.signatureDataForCard.fileUrl,n.Jc)}}const od=function(t,e){return{disabledbtn:t,continueBtn:e}},id=function(t,e){return{disabledbtn:t,rejectbtn:e}},nd=function(t,e){return{disabledbtn:t,approvebtn:e}};let rd=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l,b,d){this.router=t,this.tasksummaryService=e,this.ls=a,this.dialogRef=o,this.appApiService=i,this.api=n,this.sanitizer=r,this.data=c,this.cdr=s,this.snack=l,this.dialog=b,this.jwtService=d,this.chart=new u.a,this.isOnGoing="",this.loading=!0,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0,this.document_type=["6","7","8"],this.cardDocumentArray=[]}ngOnInit(){this.cardInfo=this.data,console.log(this.cardInfo),localStorage.setItem("cardId",this.cardInfo.cardId),this.cardId=this.ls.getItem(""),this.ls.setItem("CIF_NUM_PRIMARY",this.cardInfo.customerId),this.ls.setItem("NAME",this.cardInfo.firstName+" "+this.cardInfo.lastName),this.getProfileImage(this.cardInfo.customerId),this.getSign(this.cardInfo.cardId),"REJECTED"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1,this.continueStatus=!0):"APPROVED"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0,this.continueStatus=!1):"ONGOING"==this.cardInfo.status?(this.approvedStatus=!0,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!1):"BACKLOG"==this.cardInfo.status&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!0),this.getAccountInfoByAccountId(this.cardInfo.cardId),this.getCustomerInfoDetails(this.cardInfo.cardId),this.getCustomerDocumentsDetails(this.cardInfo.customerId),this.getCardAccountServiceDetails(this.cardInfo.cardId),this.getQalitativeDetails(this.cardInfo.cardId)}getQalitativeDetails(t){this.api.getCardQualitativeScorecardDetails(t).subscribe(t=>{this.cardQualitativeDetails=t})}getCardDocument(t){for(const e in this.document_type)this.api.getCustomerDocuments(t,this.document_type[e]).subscribe(t=>{this.cardDocumentArray.push(t),console.log(this.cardDocumentArray)})}getCardAccountServiceDetails(t){this.api.gettingCardAccountServiceDetails(t).subscribe(t=>{this.cardAccountService=t})}close(t){this.dialogRef.close({message:"Confirm",data:this.cardInfo.status})}getProfileImage(t){this.image=null,null!=this.cardInfo.customerId&&this.api.getProfileDetails(t).subscribe(t=>{null!=t.profileImage&&(this.imageUrl=t.profileImage,this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl))},t=>{console.log(t)})}getSign(t){this.api.getDigitalsignByCardId(t).subscribe(t=>{console.log(t),null!=t&&(console.log(t[t.length-1]),this.signatureDataForCard=t[t.length-1])},t=>{})}goToCardAccount(){console.log("Navigating to edit screen"),this.ls.setItem("EDIT-CARDINFO",this.cardAccountInfo),this.api.updateCardStatus({cardId:this.cardInfo.cardId,status:"ONGOING"}).subscribe(t=>{}),console.log("acc data :: ",this.cardInfo),setTimeout(()=>{this.router.navigateByUrl("/cardaccount/applicationEntryStage/list")},1e3),this.dialogRef.close({message:"Confirm"})}getAccountInfoByAccountId(t){this.tasksummaryService.getCardAccountInfoById(t).subscribe(t=>{if(t){this.cardAccountInfo=t,this.getCardDocument(this.cardAccountInfo.initiationInfo.customerId),console.log("backend data",this.cardAccountInfo),this.initiationDetails=this.cardAccountInfo.initiationInfo,console.log(this.initiationDetails),this.cardAccountInfo.financialInfo&&(this.financialDetails=this.cardAccountInfo.financialInfo[0],this.income=this.cardAccountInfo.financialInfo[0].applicantTotalIncome,this.expense=this.cardAccountInfo.financialInfo[0].applicantTotalExpense,this.designation=this.cardAccountInfo.financialInfo[0].designation,this.office=this.cardAccountInfo.financialInfo[0].office,this.employeeNumber=this.cardAccountInfo.financialInfo[0].employeeNumber,this.employmentType=this.cardAccountInfo.financialInfo[0].employmentType,this.employmentCategory=this.cardAccountInfo.financialInfo[0].employmentCategory),this.cardAccountInfo.creditRatingInfo&&(this.creditRatingDetails=this.cardAccountInfo.creditRatingInfo,this.customerName=this.cardAccountInfo.creditRatingInfo.customerName,this.cardAccountInfo.creditRatingInfo.agencyRating&&(this.cardAccountInfo.creditRatingInfo.agencyRating[0].agencyName&&(this.agencyName=this.cardAccountInfo.creditRatingInfo.agencyRating[0].agencyName),this.cardAccountInfo.creditRatingInfo.agencyRating[0].ratings&&(this.ratings=this.cardAccountInfo.creditRatingInfo.agencyRating[0].ratings),this.cardAccountInfo.creditRatingInfo.agencyRating[0].remarks&&(this.remarks=this.cardAccountInfo.creditRatingInfo.agencyRating[0].remarks))),this.intrestDetails=this.cardAccountInfo.interestInfo,this.chargeDetails=this.cardAccountInfo.chargeInfo,this.signatureData=this.cardAccountInfo.documentInfo,this.assessmentDetails=this.cardAccountInfo.assessmentInfo,this.approvalDetails=this.cardAccountInfo.approvalInfo,this.preferenceDetails=this.cardAccountInfo.preferenceInfo,this.assignValues(this.cardAccountInfo.initiationInfo,this.cardAccountInfo.financialInfo[0],this.cardAccountInfo.creditRatingInfo,this.cardAccountInfo.interestInfo,this.cardAccountInfo.chargeInfo,this.cardAccountInfo.documentInfo,this.cardAccountInfo.assessmentInfo,this.cardAccountInfo.approvalInfo,this.cardAccountInfo.preferenceInfo);for(const t in this.cardAccountInfo)Object.prototype.hasOwnProperty.call(this.cardAccountInfo,t)}})}assignValues(t,e,a,o,i,n,r,c,s){this.approvalDetails=c,this.assessmentDetails=r,this.initiationDetails=t,this.creditRatingDetails=a,this.financialDetails=e,this.interestDetails=o,this.chargeDetails=i,this.signatureData=n,this.preferenceDetails=s,this.chartOptions={series:[48],chart:{height:200,type:"radialBar"},plotOptions:{radialBar:{hollow:{size:"70%"}}},labels:["saved"]},this.chartOptions1={series1:[{name:"Income :"+this.income,type:"line",data:[40,55,50,70,65,68,50,45,35,30,38,40]},{name:"Expenses :"+this.expense,type:"line",data:[55,30,25,45,46,47,48,52,44,35,30]}],chart1:{height:220,type:"line"},stroke1:{curve:"smooth"},fill1:{type:"solid",opacity:[.35,1]},labels1:["JAN","","FEB","","MAR","","APR","","MAY ","","JUN"],yaxis1:[{title:{text:""}}],xaxis1:{labels:{trim:!1}}}}getCustomerDocumentsDetails(t){this.api.getCustomerAllDocuments(t,[6,7,8]).subscribe(t=>{this.loading=!1,this.custOtherDoc_array=t,null!=t&&(this.documentName=this.custOtherDoc_array[0].fileName,this.documentUrl=this.custOtherDoc_array[0].fileUrl)})}updateApplicationStatus(t,e){console.log("formData::",t);let a=e;this.accStatus=e,console.log(this.accStatus),this.tasksummaryService.updateCardAccountStatus({status:this.accStatus,cardId:t.cardId}).subscribe(t=>{null!=t.cardId||""!=t.cardId||""!=t.cardId?(this.close(a),this.cdr.markForCheck(),this.cdr.detectChanges(),this.dialogRef.close({message:"Confirm",data:a}),this.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck()):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log("error resp :: ",t),this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}openEditScreen(t,e){this.dialog.open(t,{panelClass:"full-width-dialog",data:e,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{this.cardInfo.status=t.status,"BACKLOG"==this.cardInfo.status&&(this.approvedStatus=!1,this.rejectedStatus=!1),this.getAccountInfoByAccountId(this.cardInfo.cardId),this.getSign(this.cardInfo.cardId),this.cdr.markForCheck()})}editProofOfIdentity(){this.openEditScreen(Fb,this.custOtherDoc_array)}editInitiationDetails(){this.openEditScreen($l,this.initiationDetails)}editFinancialDetails(){this.openEditScreen(Ab,this.cardAccountInfo)}editCardPreferenceDetails(){this.openEditScreen(Pb,{preferanceInfo:this.preferenceDetails,cardId:this.cardInfo.cardId})}editInterestDetails(){this.openEditScreen(Wb,{interestInfo:this.interestDetails,cardId:this.cardInfo.cardId})}editChargeDetails(){this.openEditScreen(gb,{chargeInfo:this.chargeDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}editCreditScoreDetails(){this.openEditScreen(hb,{creditScore:this.creditRatingDetails,cardId:this.cardInfo.cardId})}editAssessmentReport(){this.openEditScreen(bb,{assessmentInfo:this.assessmentDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}editApprovalDetails(){this.openEditScreen(cb,{approvalInfo:this.approvalDetails,cardId:this.cardInfo.cardId,currency:this.initiationDetails.currency})}editDigitalSign(){this.ls.setItem("cardSignedImage",null!=this.signatureDataForCard?this.signatureDataForCard.fileUrl:"not_available"),this.ls.setItem("cId",this.cardInfo.customerId),this.openEditScreen(kb.a,this.cardInfo)}getCustomerInfoDetails(t){this.appApiService.fetchCardCustomersByCardId(t,"cardOrigin").subscribe(t=>{t.data&&(this.customerInfoDetails=t.data,this.ownership=this.customerInfoDetails[0].ownership,this.noOfApplicants=this.customerInfoDetails[0].numOfApplicants,this.ownership=this.ls.getItem("cardownership_value"),this.noOfApplicants=this.ls.getItem("CardNoOfApplicants"))},t=>{})}continue(){var t,e,a,o,i,n,r,c,s,l,b,d,u,m,p,h,f,g,v;this.ls.setItem("cardId",null===(t=this.initiationDetails)||void 0===t?void 0:t.cardId),this.ls.setItem("CARD_INITIATION_DONE",!!this.initiationDetails),this.ls.setItem("Card_Customer_Done",0!=(null===(a=null===(e=this.customerInfoDetails)||void 0===e?void 0:e.data)||void 0===a?void 0:a.length)),this.ls.setItem("CARD_FINANCIAL_DONE",0!=(null===(o=this.cardAccountInfo.financialInfo)||void 0===o?void 0:o.lenght)),this.ls.setItem("card_prefrence_done",0!=(null===(i=this.cardAccountInfo.preferenceInfo)||void 0===i?void 0:i.length)),this.ls.setItem("CARD_ACC_SERVICE_DONE",!!this.cardAccountService),this.ls.setItem("CARD_APPLICATION_ENTRY_DONE",0!=(this.initiationDetails&&0!=(null===(r=null===(n=this.customerInfoDetails)||void 0===n?void 0:n.data)||void 0===r?void 0:r.length)&&0!=(null===(c=this.cardAccountInfo.financialInfo)||void 0===c?void 0:c.lenght)&&(null===(s=this.cardAccountInfo.preferenceInfo)||void 0===s?void 0:s.length)&&this.cardAccountService)),this.ls.setItem("CARD_DOCUMENT_STAGE_DONE",!(!this.initiationDetails||0==(null===(b=null===(l=this.customerInfoDetails)||void 0===l?void 0:l.data)||void 0===b?void 0:b.length)||0==(null===(d=this.cardAccountInfo.financialInfo)||void 0===d?void 0:d.lenght)||0==(null===(u=this.cardAccountInfo.preferenceInfo)||void 0===u?void 0:u.length)||!this.cardAccountService)),this.ls.setItem("CARD_DOCUMENT_DONE",!!(this.cardDocumentArray[0]||this.cardDocumentArray[1]||this.cardDocumentArray[2])),this.ls.setItem("CARD_ENRICHMENT_DONE",!!(this.cardDocumentArray[0]||this.cardDocumentArray[1]||this.cardDocumentArray[2])),this.ls.setItem("CARD_INTEREST_DETAILS_DONE",!(0==(null===(m=this.cardAccountInfo.interestInfo)||void 0===m?void 0:m.length)||!this.cardAccountInfo.interestInfo)),this.ls.setItem("CARD_CHARGE_DETAILS_DONE",!(0==(null===(p=this.cardAccountInfo.chargeInfo)||void 0===p?void 0:p.length)||!this.cardAccountInfo.chargeInfo)),this.ls.setItem("CARD_UNDERWRITING_DONE",!(0==(null===(h=this.cardAccountInfo.interestInfo)||void 0===h?void 0:h.length)||!this.cardAccountInfo.interestInfo||0==(null===(f=this.cardAccountInfo.chargeInfo)||void 0===f?void 0:f.length)||!this.cardAccountInfo.chargeInfo)),this.ls.setItem("CARD_ASSESSMENT_STAGE_DONE",!(0==(null===(g=this.cardAccountInfo.creditRatingInfo.agencyRating)||void 0===g?void 0:g.length)||!this.cardAccountInfo.creditRatingInfo.agencyRating||!this.cardQualitativeDetails)),this.ls.setItem("CARD_CREDIT_RATING_DONE",!(0==(null===(v=this.cardAccountInfo.creditRatingInfo.agencyRating)||void 0===v?void 0:v.length)||!this.cardAccountInfo.creditRatingInfo.agencyRating)),this.ls.setItem("CARD_QUALITATIVE_SCOREBOARD_DONE",!!this.cardQualitativeDetails),this.ls.setItem("CARD_ASSESSMENT_DONE",!!this.cardAccountInfo.assessmentInfo),this.ls.setItem("CARD_SUPERVISOR_DONE",!!this.cardAccountInfo.assessmentInfo),this.ls.setItem("CARD_APPROVAL_DONE",!!this.cardAccountInfo.approvalInfo),this.ls.setItem("CARD_DIGITAL_STAGE_DONE",!!this.cardAccountInfo.approvalInfo),window.open(`${jo.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=CARDACC&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(je.h),n.Rb(m.a),n.Rb(l.a),n.Rb(b.g),n.Rb(d.a),n.Rb(r.b),n.Rb(qo.b),n.Rb(b.a),n.Rb(n.h),n.Rb(f.a),n.Rb(b.b),n.Rb(zo.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-card-account-approver"]],viewQuery:function(t,e){if(1&t&&n.ad(Lb,!0),2&t){let t;n.Cc(t=n.gc())&&(e.chart=t.first)}},decls:350,vars:65,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[1,"closeIcon"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],["fxLayoutAlign","center"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","15"],[1,"num"],[1,"bordnum"],["fxFlex","85"],["fxLayout","row","fxLayoutAlign","space-between end"],[1,"editbtn",3,"hidden","click"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[1,"pt-16"],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],[4,"ngIf"],["class","labelval",4,"ngIf"],["fxLayout","row","class","flex-container",4,"ngIf"],[1,"appersoninfocard",2,"width","250px"],["fxLayout","row",1,"rowbord","nobord"],["fxLayout","row","fxLayoutAlign"," start"],[1,"circle1"],[1,"content2"],[2,"padding-bottom","20px"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","15",2,"flex","1 1 100%","box-sizing","border-box","max-width","15%"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["type","button",1,"continueBtn",3,"hidden","ngClass","click"],["type","button",1,"rejectbtn",3,"hidden","ngClass","click"],["type","button",1,"approvebtn",3,"hidden","ngClass","click"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],["fxLayout","row wrap",1,"full-width"],["fxFlex","7%","fxFlex.xs","50%","fxFlex.md","10%","fxFlex.sm","15%",1,"pb-16"],["height","50px","width","50px","src","assets/images/backgrounds/defaultProfileBackground.png",1,"rounded-circle"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-16"],[1,"valueTextName"],[1,"pl-16","text-secondary"],["class","pl-16 pr-16",4,"ngIf"],["class","pl-16 pr-16",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[1,"pl-16","pr-16"],[1,"headingText1"],[1,"pl-16","pr-16",3,"click"],[3,"series","chart","plotOptions","labels",4,"ngIf"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip",4,"ngIf"],["fxLayout","row","fxLayoutGap","70px"],["fxLayout","row","FxLayoutAlign","start"],[1,"circle"],[1,"content1"],[1,"matCardTitle"],[2,"color","grey","font-size","10px"],["fxLayout","row","fxLayoutGap","80px",1,"matCardTitle","col"],[3,"series","chart","plotOptions","labels"],[3,"series","chart","yaxis","xaxis","labels","stroke","markers","fill","tooltip"],["fxLayout","row","class","rowbord",4,"ngFor","ngForOf"],["download","",1,"linkColor",3,"href"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"appersoninfocard",2,"width","100px"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],["fxFlex","5%","fxFlex.xs","100%","fxLayoutAlign","end start",1,"inputCardclass"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","column","fxLayoutGap","10%","fxLayoutAlign","space-between none"],["fxFlex","20%","fxFlex.xs","50%"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"div",0),n.Xb(2,"div",1),n.Xb(3,"div",2),n.Xb(4,"div",3),n.Xb(5,"mat-icon",4),n.fc("click",function(){return e.close(e.data)}),n.Tc(6," close "),n.Wb(),n.Wb(),n.Wb(),n.Sb(7,"div",5),n.Xb(8,"div",6),n.Xb(9,"div",7),n.Xb(10,"div",8),n.Xb(11,"div",9),n.Rc(12,_b,2,1,"span",10),n.Wb(),n.Xb(13,"div",11),n.Xb(14,"div",12),n.Sb(15,"img",13),n.Tc(16,"\xa0 "),n.Xb(17,"div"),n.Xb(18,"span",14),n.Tc(19),n.Wb(),n.Sb(20,"br"),n.Xb(21,"span",15),n.Tc(22),n.Wb(),n.Wb(),n.Wb(),n.Xb(23,"div",16),n.Xb(24,"mat-icon",17),n.Tc(25,"phone "),n.Wb(),n.Tc(26,"\xa0\xa0\xa0 "),n.Xb(27,"span",18),n.Tc(28),n.Wb(),n.Wb(),n.Xb(29,"div",16),n.Xb(30,"mat-icon",17),n.Tc(31," mail_outline"),n.Wb(),n.Tc(32,"\xa0\xa0 \xa0 "),n.Xb(33,"span",19),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div",20),n.Xb(36,"div",21),n.Rc(37,wb,7,16,"div",22),n.Rc(38,Mb,2,1,"div",23),n.Wb(),n.Wb(),n.Sb(39,"br"),n.Sb(40,"br"),n.Sb(41,"br"),n.Sb(42,"br"),n.Xb(43,"div",24),n.Xb(44,"h2"),n.Tc(45),n.Wb(),n.Wb(),n.Xb(46,"div",25),n.Xb(47,"div",26),n.Xb(48,"div",27),n.Tc(49,"1"),n.Wb(),n.Xb(50,"div",28),n.Tc(51,"\xa0"),n.Wb(),n.Wb(),n.Xb(52,"div",29),n.Xb(53,"h2"),n.Tc(54,"Application Entry Stage"),n.Wb(),n.Sb(55,"hr"),n.Xb(56,"div",30),n.Xb(57,"h3"),n.Tc(58,"Card Initiation Details"),n.Wb(),n.Xb(59,"span"),n.Xb(60,"mat-icon",31),n.fc("click",function(){return e.editInitiationDetails()}),n.Tc(61,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(62,"mat-card",32),n.Xb(63,"mat-card-content"),n.Xb(64,"div",33),n.Sb(65,"div",34),n.Xb(66,"div",35),n.Xb(67,"div",36),n.Tc(68,"Existing Customer"),n.Wb(),n.Xb(69,"div",37),n.Tc(70),n.Wb(),n.Wb(),n.Xb(71,"div",35),n.Xb(72,"div",36),n.Tc(73,"Card Type"),n.Wb(),n.Xb(74,"div",37),n.Tc(75),n.Wb(),n.Wb(),n.Xb(76,"div",35),n.Xb(77,"div",36),n.Tc(78,"Customer Account"),n.Wb(),n.Xb(79,"div",37),n.Tc(80),n.Wb(),n.Wb(),n.Wb(),n.Xb(81,"div",33),n.Sb(82,"div",34),n.Xb(83,"div",35),n.Xb(84,"div",36),n.Tc(85,"Applicant Name"),n.Wb(),n.Xb(86,"div",37),n.Tc(87),n.Wb(),n.Wb(),n.Xb(88,"div",35),n.Xb(89,"div",36),n.Tc(90,"Currency"),n.Wb(),n.Xb(91,"div",37),n.Tc(92),n.Wb(),n.Wb(),n.Xb(93,"div",35),n.Xb(94,"div",36),n.Tc(95,"Employment Type"),n.Wb(),n.Xb(96,"div",37),n.Tc(97),n.Wb(),n.Wb(),n.Wb(),n.Xb(98,"div",33),n.Sb(99,"div",34),n.Xb(100,"div",35),n.Xb(101,"div",36),n.Tc(102,"Affinity Program"),n.Wb(),n.Xb(103,"div",37),n.Tc(104),n.Wb(),n.Wb(),n.Xb(105,"div",35),n.Xb(106,"div",36),n.Tc(107,"Status"),n.Wb(),n.Xb(108,"div",37),n.Tc(109),n.Wb(),n.Wb(),n.Xb(110,"div",35),n.Xb(111,"div",36),n.Tc(112,"Modification No"),n.Wb(),n.Xb(113,"div",37),n.Tc(114),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(115,"mat-card",32),n.Xb(116,"div",38),n.Xb(117,"div",39),n.Xb(118,"div",40),n.Xb(119,"h4",41),n.Tc(120,"Customer Information"),n.Wb(),n.Wb(),n.Xb(121,"div",42),n.Xb(122,"div",43),n.Xb(123,"div",38),n.Xb(124,"div",44),n.Xb(125,"div",45),n.Xb(126,"div"),n.Xb(127,"mat-card"),n.Xb(128,"div",46),n.Xb(129,"div",47),n.Xb(130,"small",48),n.Tc(131,"Holding Pattern"),n.Wb(),n.Xb(132,"h3",49),n.Tc(133),n.Wb(),n.Wb(),n.Xb(134,"div",47),n.Xb(135,"small",48),n.Tc(136,"Ownership"),n.Wb(),n.Xb(137,"h3",49),n.Tc(138),n.Wb(),n.Wb(),n.Xb(139,"div",47),n.Xb(140,"small",48),n.Tc(141,"Number of Applicant"),n.Wb(),n.Xb(142,"h3",49),n.Tc(143),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Rc(144,Bb,54,10,"div",50),n.Wb(),n.Wb(),n.Sb(145,"br"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Rc(146,qb,42,8,"div",51),n.Rc(147,Kb,11,2,"div",51),n.Wb(),n.Wb(),n.Xb(148,"div",25),n.Xb(149,"div",26),n.Xb(150,"div",27),n.Tc(151,"2"),n.Wb(),n.Xb(152,"div",28),n.Tc(153,"\xa0"),n.Wb(),n.Wb(),n.Xb(154,"div",29),n.Xb(155,"h2"),n.Tc(156,"Document Type"),n.Wb(),n.Sb(157,"hr"),n.Xb(158,"div",30),n.Xb(159,"h3"),n.Tc(160,"Document Type"),n.Wb(),n.Xb(161,"span"),n.Xb(162,"mat-icon",31),n.fc("click",function(){return e.editProofOfIdentity()}),n.Tc(163,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(164,"mat-card",32),n.Xb(165,"mat-card-content"),n.Xb(166,"div",33),n.Sb(167,"div",34),n.Xb(168,"div",35),n.Xb(169,"div",36),n.Tc(170,"Document Name"),n.Wb(),n.Xb(171,"div",37),n.Tc(172),n.Wb(),n.Wb(),n.Xb(173,"div",35),n.Xb(174,"div",36),n.Tc(175,"Download"),n.Wb(),n.Rc(176,$b,4,1,"div",52),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(177,"hr"),n.Wb(),n.Wb(),n.Rc(178,td,14,2,"div",53),n.Rc(179,ed,74,5,"div",53),n.Xb(180,"div",25),n.Xb(181,"div",26),n.Xb(182,"div",27),n.Tc(183,"5"),n.Wb(),n.Xb(184,"div",28),n.Tc(185,"\xa0"),n.Wb(),n.Wb(),n.Xb(186,"div",29),n.Xb(187,"h2"),n.Tc(188,"Assessment Stage"),n.Wb(),n.Sb(189,"hr"),n.Xb(190,"div",30),n.Xb(191,"h3"),n.Tc(192,"Assessment Report"),n.Wb(),n.Xb(193,"span"),n.Xb(194,"mat-icon",31),n.fc("click",function(){return e.editAssessmentReport()}),n.Tc(195,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(196,"mat-card",32),n.Xb(197,"mat-card-content"),n.Xb(198,"div",33),n.Sb(199,"div",34),n.Xb(200,"div",35),n.Xb(201,"div",36),n.Tc(202,"Requested Card Limit"),n.Wb(),n.Xb(203,"div",37),n.Tc(204),n.Wb(),n.Wb(),n.Xb(205,"div",35),n.Xb(206,"div",36),n.Tc(207,"System Recommendation"),n.Wb(),n.Xb(208,"div",37),n.Tc(209),n.Wb(),n.Wb(),n.Xb(210,"div",35),n.Xb(211,"div",36),n.Tc(212,"User Recommendation"),n.Wb(),n.Xb(213,"div",37),n.Tc(214),n.Wb(),n.Wb(),n.Wb(),n.Xb(215,"div",33),n.Sb(216,"div",34),n.Xb(217,"div",35),n.Xb(218,"div",36),n.Tc(219,"Recommended Card Limit"),n.Wb(),n.Xb(220,"div",37),n.Tc(221),n.Wb(),n.Wb(),n.Xb(222,"div",35),n.Xb(223,"div",36),n.Tc(224,"Approved Card Limit"),n.Wb(),n.Xb(225,"div",37),n.Tc(226),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(227,"div",25),n.Xb(228,"div",26),n.Xb(229,"div",27),n.Tc(230,"6"),n.Wb(),n.Xb(231,"div",28),n.Tc(232,"\xa0"),n.Wb(),n.Wb(),n.Xb(233,"div",29),n.Xb(234,"h2"),n.Tc(235,"Approval Stage"),n.Wb(),n.Sb(236,"hr"),n.Xb(237,"div",30),n.Xb(238,"h3"),n.Tc(239,"Approval Details"),n.Wb(),n.Xb(240,"span"),n.Xb(241,"mat-icon",31),n.fc("click",function(){return e.editApprovalDetails()}),n.Tc(242,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(243,"mat-card",32),n.Xb(244,"mat-card-content"),n.Xb(245,"div",33),n.Sb(246,"div",34),n.Xb(247,"div",35),n.Xb(248,"div",36),n.Tc(249,"Account Type"),n.Wb(),n.Xb(250,"div",37),n.Tc(251),n.Wb(),n.Wb(),n.Xb(252,"div",35),n.Xb(253,"div",36),n.Tc(254,"Account Branch"),n.Wb(),n.Xb(255,"div",37),n.Tc(256),n.Wb(),n.Wb(),n.Xb(257,"div",35),n.Xb(258,"div",36),n.Tc(259,"Product Code"),n.Wb(),n.Xb(260,"div",37),n.Tc(261),n.Wb(),n.Wb(),n.Wb(),n.Xb(262,"div",33),n.Sb(263,"div",34),n.Xb(264,"div",35),n.Xb(265,"div",36),n.Tc(266,"Product Name"),n.Wb(),n.Xb(267,"div",37),n.Tc(268),n.Wb(),n.Wb(),n.Xb(269,"div",35),n.Xb(270,"div",36),n.Tc(271,"Account Currency"),n.Wb(),n.Xb(272,"div",37),n.Tc(273),n.Wb(),n.Wb(),n.Xb(274,"div",35),n.Xb(275,"div",36),n.Tc(276,"Existing Value"),n.Wb(),n.Xb(277,"div",37),n.Tc(278),n.Wb(),n.Wb(),n.Wb(),n.Xb(279,"div",33),n.Xb(280,"div",35),n.Xb(281,"mat-card",54),n.Xb(282,"div",55),n.Xb(283,"div",56),n.Xb(284,"div",57),n.Xb(285,"div",58),n.Xb(286,"mat-icon"),n.Tc(287,"done"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(288,"div",59),n.Xb(289,"div",36),n.Tc(290,"User Recommendation"),n.Wb(),n.Xb(291,"div",37),n.Tc(292),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(293,"div",34),n.Xb(294,"div",35),n.Xb(295,"div",36),n.Tc(296,"Remarks"),n.Wb(),n.Xb(297,"div",37),n.Tc(298),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(299,"div",60),n.Xb(300,"div",61),n.Xb(301,"div",27),n.Tc(302,"7"),n.Wb(),n.Xb(303,"div",28),n.Tc(304,"\xa0"),n.Wb(),n.Wb(),n.Xb(305,"div",29),n.Xb(306,"h2"),n.Tc(307,"Digital Sign"),n.Wb(),n.Sb(308,"hr"),n.Xb(309,"div",30),n.Xb(310,"h3"),n.Tc(311,"Digital Sign"),n.Wb(),n.Xb(312,"span"),n.Xb(313,"mat-icon",31),n.fc("click",function(){return e.editDigitalSign()}),n.Tc(314,"edit"),n.Wb(),n.Wb(),n.Wb(),n.Xb(315,"mat-card",32),n.Xb(316,"mat-card-content"),n.Xb(317,"div",33),n.Sb(318,"div",34),n.Xb(319,"div",35),n.Xb(320,"div",36),n.Tc(321,"Document Name"),n.Wb(),n.Xb(322,"div",37),n.Tc(323),n.Wb(),n.Wb(),n.Xb(324,"div",35),n.Xb(325,"div",36),n.Tc(326,"File Type"),n.Wb(),n.Xb(327,"div",37),n.Tc(328),n.Wb(),n.Wb(),n.Xb(329,"div",35),n.Xb(330,"div",36),n.Tc(331,"File Name"),n.Wb(),n.Xb(332,"div",37),n.Tc(333,"Signature"),n.Wb(),n.Wb(),n.Xb(334,"div",35),n.Xb(335,"div",36),n.Tc(336,"Download"),n.Wb(),n.Rc(337,ad,4,1,"div",52),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(338,"hr"),n.Wb(),n.Wb(),n.Xb(339,"div",62),n.Xb(340,"div"),n.Xb(341,"button",63),n.fc("click",function(){return e.continue()}),n.Tc(342," Cotinue "),n.Wb(),n.Tc(343,"\xa0\xa0 "),n.Xb(344,"button",64),n.fc("click",function(){return e.updateApplicationStatus(e.initiationDetails,"REJECTED")}),n.Tc(345," Reject "),n.Wb(),n.Tc(346," \xa0\xa0 "),n.Xb(347,"button",65),n.fc("click",function(){return e.updateApplicationStatus(e.initiationDetails,"APPROVED")}),n.Tc(348,"Approve"),n.Wb(),n.Tc(349," \xa0\xa0 "),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(12),n.rc("ngForOf",e.nameCreater),n.Eb(7),n.Vc("",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.createdBy," "),n.Eb(3),n.Vc("EID #",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.creatorId,""),n.Eb(6),n.Vc(" ",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.mobile," "),n.Eb(6),n.Vc(" ",null==e.cardAccountInfo||null==e.cardAccountInfo.createdByInfo?null:e.cardAccountInfo.createdByInfo.email," "),n.Eb(3),n.rc("ngIf","not_available"==e.imageUrl),n.Eb(1),n.rc("ngIf","not_available"!=e.imageUrl),n.Eb(7),n.Xc("",e.cardInfo.prefix,"\xa0",e.cardInfo.firstName,"\xa0",e.cardInfo.lastName,""),n.Eb(15),n.rc("hidden",e.editScreen),n.Eb(10),n.Uc(null==e.initiationDetails?null:e.initiationDetails.existingCustomer),n.Eb(5),n.Uc(null==e.initiationDetails?null:e.initiationDetails.cardType),n.Eb(5),n.Uc(null==e.initiationDetails?null:e.initiationDetails.customerAccount),n.Eb(7),n.Uc(null==e.initiationDetails?null:e.initiationDetails.applicantName),n.Eb(5),n.Uc(null==e.initiationDetails?null:e.initiationDetails.currency),n.Eb(5),n.Uc(null==e.initiationDetails?null:e.initiationDetails.employmentType),n.Eb(7),n.Uc(null==e.initiationDetails?null:e.initiationDetails.affinityProgram),n.Eb(5),n.Uc(null==e.initiationDetails?null:e.initiationDetails.status),n.Eb(5),n.Uc(null==e.initiationDetails?null:e.initiationDetails.modificationNo),n.Eb(19),n.Uc(e.ownership),n.Eb(5),n.Uc(e.ownership),n.Eb(5),n.Uc(e.noOfApplicants),n.Eb(1),n.rc("ngForOf",e.customerInfoDetails),n.Eb(2),n.rc("ngIf",null!=e.financialDetails),n.Eb(1),n.rc("ngIf",null!=e.preferenceDetails),n.Eb(15),n.rc("hidden",e.editScreen),n.Eb(10),n.Uc(e.documentName),n.Eb(4),n.rc("ngIf",e.documentUrl),n.Eb(2),n.rc("ngIf",(null==e.intrestDetails?null:e.intrestDetails.length)>0||(null==e.chargeDetails?null:e.chargeDetails.length)>0),n.Eb(1),n.rc("ngIf",(null==e.creditRatingDetails||null==e.creditRatingDetails.agencyRating?null:e.creditRatingDetails.agencyRating.length)>0),n.Eb(15),n.rc("hidden",e.editScreen),n.Eb(10),n.Uc(null==e.assessmentDetails?null:e.assessmentDetails.requestedCardLimit),n.Eb(5),n.Uc(null==e.assessmentDetails?null:e.assessmentDetails.systemRecommendation),n.Eb(5),n.Uc(null==e.assessmentDetails?null:e.assessmentDetails.userRecommendation),n.Eb(7),n.Uc(null==e.assessmentDetails?null:e.assessmentDetails.recommendedCardLimit),n.Eb(5),n.Uc(null==e.assessmentDetails?null:e.assessmentDetails.approvedCardLimit),n.Eb(15),n.rc("hidden",e.editScreen),n.Eb(10),n.Uc(null==e.approvalDetails?null:e.approvalDetails.accountType),n.Eb(5),n.Uc(null==e.approvalDetails?null:e.approvalDetails.accountBranch),n.Eb(5),n.Uc(null==e.approvalDetails?null:e.approvalDetails.productCode),n.Eb(7),n.Uc(null==e.approvalDetails?null:e.approvalDetails.productName),n.Eb(5),n.Uc(null==e.approvalDetails?null:e.approvalDetails.accountCurrency),n.Eb(5),n.Uc(null==e.approvalDetails?null:e.approvalDetails.existingValues),n.Eb(14),n.Uc(null==e.approvalDetails?null:e.approvalDetails.userRecommendation),n.Eb(6),n.Uc(null==e.approvalDetails?null:e.approvalDetails.remarks),n.Eb(15),n.rc("hidden",e.editScreen),n.Eb(10),n.Uc(null==e.signatureDataForCard?null:e.signatureDataForCard.documentName),n.Eb(5),n.Uc(null==e.signatureDataForCard?null:e.signatureDataForCard.fileType),n.Eb(9),n.rc("ngIf",null==e.signatureDataForCard?null:e.signatureDataForCard.fileUrl),n.Eb(4),n.rc("hidden",e.continueStatus)("ngClass",n.yc(56,od,e.continueStatus,!e.continueStatus)),n.Eb(3),n.rc("hidden",e.rejectedStatus)("ngClass",n.yc(59,id,e.rejectedStatus,!e.rejectedStatus)),n.Eb(3),n.rc("hidden",e.approvedStatus)("ngClass",n.yc(62,nd,e.approvedStatus,!e.approvedStatus)))},directives:[g.e,g.d,v.a,o.m,X.c,o.n,g.b,X.a,X.d,g.f,o.l,Jo.a,X.e,X.h,X.g,u.a,W.f],pipes:[o.v,o.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%;margin-left:22%}.closeIcon[_ngcontent-%COMP%]{color:#a9a9a9;cursor:pointer;margin-right:30px}.editbtn[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-right:20px}.num[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center;width:50%;height:70px;padding-top:25px;background-color:#fff}.qtncrd[_ngcontent-%COMP%]{margin-right:2%;margin-bottom:40px;padding:10px}.qtnval[_ngcontent-%COMP%]{padding-top:8px}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:7%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%}.appersoninfocard1[_ngcontent-%COMP%]{width:90%}.interstcard[_ngcontent-%COMP%]{width:100px;height:80px;border:1px solid}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:10px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;padding:3rem 2.6rem;color:#fff}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.matCardTitle[_ngcontent-%COMP%]{font-size:16px;padding-top:1%}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:150px;height:30px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),t})();function cd(t,e){1&t&&n.Sb(0,"mat-spinner",19),2&t&&n.rc("diameter",15)}function sd(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",20),n.fc("click",function(){return n.Hc(t),n.jc().clear()}),n.Xb(1,"mat-icon"),n.Tc(2,"close"),n.Wb(),n.Wb()}}function ld(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",33),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function bd(t,e){if(1&t&&n.Sb(0,"img",34),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function dd(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.gotoapproverpage(a,"BACKLOG",i.getRandomColor(o+3))}),n.Xb(1,"mat-icon",22),n.Tc(2,"bookmark"),n.Wb(),n.Xb(3,"mat-card-header",23),n.Xb(4,"div",24),n.Rc(5,ld,2,1,"div",25),n.Rc(6,bd,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(8,"mat-card-title",27),n.Tc(9),n.Wb(),n.Xb(10,"mat-card-subtitle",28),n.Tc(11),n.Wb(),n.Wb(),n.Xb(12,"form",29),n.Xb(13,"table"),n.Xb(14,"thead",30),n.Xb(15,"th",31),n.Tc(16,"Card Type"),n.Wb(),n.Xb(17,"th",31),n.Tc(18,"Applicant name"),n.Wb(),n.Wb(),n.Xb(19,"tbody",32),n.Xb(20,"tr"),n.Xb(21,"td",31),n.Tc(22),n.Wb(),n.Xb(23,"td",31),n.Tc(24),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(7);n.Eb(5),n.rc("ngIf",null==t.profileImage)("ngIfElse",a),n.Eb(4),n.Xc("",null==t?null:t.firstName," ",null==t?null:t.middleName," ",null==t?null:t.lastName,""),n.Eb(2),n.Uc(null==t?null:t.cardId),n.Eb(11),n.Uc(null==t?null:t.cardType),n.Eb(2),n.Uc(null==t?null:t.applicantName)}}function ud(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",33),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function md(t,e){if(1&t&&n.Sb(0,"img",34),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function pd(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.gotoapproverpage(a,"ONGOING",i.getRandomColor(o+6))}),n.Xb(1,"mat-icon",35),n.Tc(2,"bookmark"),n.Wb(),n.Xb(3,"mat-card-header",23),n.Xb(4,"div",24),n.Rc(5,ud,2,1,"div",25),n.Rc(6,md,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(8,"mat-card-title",27),n.Tc(9),n.Wb(),n.Xb(10,"mat-card-subtitle",28),n.Tc(11),n.Wb(),n.Wb(),n.Xb(12,"form",29),n.Xb(13,"table"),n.Xb(14,"thead",30),n.Xb(15,"th",36),n.Tc(16,"Card Type"),n.Wb(),n.Xb(17,"th",36),n.Tc(18,"Applicant name"),n.Wb(),n.Wb(),n.Xb(19,"tbody",32),n.Xb(20,"tr"),n.Xb(21,"td",31),n.Tc(22),n.Wb(),n.Xb(23,"td",31),n.Tc(24),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(7);n.Eb(5),n.rc("ngIf",null==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc("",null==t?null:t.prefix," ",t.firstName," ",t.middleName," ",t.lastName,""),n.Eb(2),n.Uc(null==t?null:t.cardId),n.Eb(11),n.Uc(null==t?null:t.cardType),n.Eb(2),n.Uc(null==t?null:t.applicantName)}}function hd(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",33),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function fd(t,e){if(1&t&&n.Sb(0,"img",34),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function gd(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.gotoapproverpage(a,"APPROVED",i.getRandomColor(o+9))}),n.Xb(1,"mat-icon",37),n.Tc(2,"bookmark"),n.Wb(),n.Xb(3,"mat-card-header",23),n.Xb(4,"div",24),n.Rc(5,hd,2,1,"div",25),n.Rc(6,fd,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(8,"mat-card-title",27),n.Tc(9),n.Wb(),n.Xb(10,"mat-card-subtitle",28),n.Tc(11),n.Wb(),n.Wb(),n.Xb(12,"form",29),n.Xb(13,"table"),n.Xb(14,"thead",30),n.Xb(15,"th",36),n.Tc(16,"Card Type"),n.Wb(),n.Xb(17,"th",36),n.Tc(18,"Applicant name"),n.Wb(),n.Wb(),n.Xb(19,"tbody",32),n.Xb(20,"tr"),n.Xb(21,"td",31),n.Tc(22),n.Wb(),n.Xb(23,"td",31),n.Tc(24),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(7);n.Eb(5),n.rc("ngIf",null==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc("",null==t?null:t.prefix," ",t.firstName," ",t.middleName," ",t.lastName,""),n.Eb(2),n.Vc(" ",null==t?null:t.cardId,""),n.Eb(11),n.Uc(null==t?null:t.cardType),n.Eb(2),n.Uc(null==t?null:t.applicantName)}}function vd(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",33),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function Wd(t,e){if(1&t&&n.Sb(0,"img",34),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function Xd(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.gotoapproverpage(a,"REJECTED",i.getRandomColor(o+12))}),n.Xb(1,"mat-icon",38),n.Tc(2,"bookmark"),n.Wb(),n.Xb(3,"mat-card-header",23),n.Xb(4,"div",24),n.Rc(5,vd,2,1,"div",25),n.Rc(6,Wd,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(8,"mat-card-title",39),n.Tc(9),n.Wb(),n.Xb(10,"mat-card-subtitle",28),n.Tc(11),n.Wb(),n.Wb(),n.Xb(12,"form",29),n.Xb(13,"table"),n.Xb(14,"thead",30),n.Xb(15,"th",36),n.Tc(16,"Card Type"),n.Wb(),n.Xb(17,"th",36),n.Tc(18,"Applicant name"),n.Wb(),n.Wb(),n.Xb(19,"tbody",32),n.Xb(20,"tr"),n.Xb(21,"td",31),n.Tc(22),n.Wb(),n.Xb(23,"td",31),n.Tc(24),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(7);n.Eb(5),n.rc("ngIf",null==t.profileImage)("ngIfElse",a),n.Eb(4),n.Xc("",null==t?null:t.firstName," ",t.middleName," ",t.lastName," "),n.Eb(2),n.Uc(null==t?null:t.cardId),n.Eb(11),n.Uc(null==t?null:t.cardType),n.Eb(2),n.Uc(null==t?null:t.applicantName)}}let yd=(()=>{class t{constructor(t,e,a,o,i,r){this.dialog=t,this.sanitizer=e,this.tasksummaryService=a,this.apiService=o,this.cdr=i,this.route=r,this.statusArr=["ONGOING","BACKLOG","APPROVED","REJECTED"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.isScroll=!0,this.setValue=new n.o,this._searchSubject=new c.a,this.noDataFound=!1,this.redirectedFromTellerSearch=!1,this._setSearchSubscription()}onScroll(t){this.isScroll&&(this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}ngOnInit(){this.apiService.setTask(!0),this.route.queryParamMap.subscribe(t=>{t.get("searchTerm")?(this.redirectedFromTellerSearch=!0,this.searchText=t.get("searchTerm"),this.updateSearch(this.searchText),setTimeout(()=>{this.openSearchedApprover()},3e3)):this.getDataOnLoad()})}updateSearch(t){this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{this.searchKycid(t)})}getDataOnLoad(){for(let t=0;t<this.statusArr.length;t++)this.getAllAccDetails(this.statusArr[t],0,0)}getAllAccDetails(t,e,a){this.tasksummaryService.getCardAccDetails(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){"ONGOING"==t?(this.ONGOINGArr=e.cardList,this.ONGOINGTotalPages=e.totalPages,this.ONGOINGTotalRecords=e.totalNoOfElements):"BACKLOG"==t?(this.BACKLOGArr=e.cardList,this.BACKLOGTotalPages=e.totalPages,this.BACKLOGTotalRecords=e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=e.cardList,this.APPROVEDTotalPages=e.totalPages,this.APPROVEDTotalRecords=e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=e.cardList,this.REJECTEDTotalPages=e.totalPages,this.REJECTEDTotalRecords=e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){console.log("---------scrolled----------"),e!==a?this.tasksummaryService.getAllCardAccDetailOnScroll(t,e).subscribe(e=>{this.updateDataOnScroll(t,e.cardList),this.cdr.markForCheck()}):console.log("No scroll requied")}gotoapproverpage(t,e,a){this.tasksummaryService.cardStatusData(e),localStorage.setItem("CustomerColorCode",a),this.dialog.open(rd,{panelClass:"full-width-dialog",data:t,width:"80%",disableClose:!0}).afterClosed().subscribe(t=>{"REJECTED"!==t.data&&"APPROVED"!==t.data&&"BACKLOG"!==t.data&&"ONGOING"!==t.data||(1==this.redirectedFromTellerSearch?this.updateSearch(this.searchText):this.getDataOnLoad())})}searchKycid(t){let e,a;if(""===t)return console.log("empty"),this.getDataOnLoad(),void(this.isScroll=!0);this.isNum(t)?10==t.length?(console.log("contact"),e=this.searchText.trim(),a="phoneNumber="+e):(console.log("cardId"),e=this.searchText.trim(),this.tasksummaryService.getCardAccSearchData1(e).subscribe(t=>{console.log(t),null!=t?(a="cardId="+e,console.log("loan",a)):(console.log("not a loan"),a="customerId="+e,console.log("customer",a))})):this.isString(t)&&(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?(console.log("email"),e=this.searchText.trim(),a="primaryEmailAdress="+e):(console.log("name"),e=this.searchText.trim(),a="customerName="+e)),setTimeout(()=>{this.getAccountData(a)},100),this.isScroll=!1}getAccountData(t){this.loading=!0;for(let e=0;e<this.statusArr.length;e++){const a=this.statusArr[e];"BACKLOG"==a?this.tasksummaryService.getCardSeracData(t,a).subscribe(t=>{this.BACKLOGTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.BACKLOGArr=[];for(let e=0;e<(null==t?void 0:t.cardList.length);e++)this.BACKLOGArr.push(null==t?void 0:t.cardList[e])}):"ONGOING"==a?this.tasksummaryService.getCardSeracData(t,a).subscribe(t=>{this.ONGOINGTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.ONGOINGArr=[];for(let e=0;e<(null==t?void 0:t.cardList.length);e++)this.ONGOINGArr.push(t.cardList[e])}):"APPROVED"==a?this.tasksummaryService.getCardSeracData(t,a).subscribe(t=>{this.APPROVEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.APPROVEDArr=[];for(let e=0;e<(null==t?void 0:t.cardList.length);e++)this.APPROVEDArr.push(t.cardList[e])}):"REJECTED"==a&&this.tasksummaryService.getCardSeracData(t,a).subscribe(t=>{this.REJECTEDTotalPages=null==t?void 0:t.totalPages,this.loading=!1,console.log("resp data :: ",t),this.REJECTEDArr=[];for(let e=0;e<(null==t?void 0:t.cardList.length);e++)this.REJECTEDArr.push(t.cardList[e])})}}resetSearchData(){this.ONGOINGArr=[],this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}clear(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}isNum(t){return!isNaN(t)}isString(t){return t}searchResponseUpdate(t,e){console.log("status::",t),"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}updateDataOnScroll(t,e){if("ONGOING"==t){const t=Jt.unionBy(this.ONGOINGArr,e,"cardId");this.ONGOINGArr=t}else if("BACKLOG"==t){const t=Jt.unionBy(this.BACKLOGArr,e,"cardId");this.BACKLOGArr=t}else if("APPROVED"==t){const t=Jt.unionBy(this.APPROVEDArr,e,"cardId");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Jt.unionBy(this.REJECTEDArr,e,"cardId");this.REJECTEDArr=t}this.cdr.markForCheck()}openSearchedApprover(){let t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(t=>1==t.length);console.log(t),1==t.length&&this.gotoapproverpage(t[0][0],t[0][0].custStatus)}ngOnDestroy(){this._searchSubject.unsubscribe(),this.BACKLOGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.ONGOINGArr=[],this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.BACKLOGPage=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGTotalPages=0}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.b),n.Rb(qo.b),n.Rb(m.a),n.Rb(r.b),n.Rb(n.h),n.Rb(je.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-card-origination-task-summary"]],hostBindings:function(t,e){1&t&&n.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:54,vars:18,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-45"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"summaryDetails"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"searchTopDetails"],["appearance","outline",1,"full-width"],["fxLayoutAlign","center"],["matInput","","name","search","autocomplete","off","placeholder","Search Card ID or Name",3,"ngModel","ngModelChange","keyup"],[3,"diameter",4,"ngIf"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","detailedView",3,"click",4,"ngFor","ngForOf"],[3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"detailedView",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[2,"font-size","14px"],[2,"color","green"],[1,"head1"],[1,"col1"],[1,"fs-11"],[1,"col2"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","bookMarkOngoing"],[1,"fs-10"],[1,"fill-color-blue","bookMark","bookMarkApproved"],[1,"fill-color-blue","bookMark","bookMarkRejected"],[2,"font-size","16px"]],template:function(t,e){1&t&&(n.Sb(0,"br"),n.Xb(1,"div",0),n.fc("scrolled",function(t){return e.onScroll(t)}),n.Sb(2,"br"),n.Xb(3,"div",1),n.Xb(4,"div",2),n.Xb(5,"div",3),n.Xb(6,"h2",4),n.Tc(7," Card Origination Task Summary "),n.Wb(),n.Wb(),n.Xb(8,"div",5),n.Xb(9,"mat-form-field",6),n.Xb(10,"mat-label"),n.Tc(11,"Search"),n.Wb(),n.Xb(12,"div",7),n.Xb(13,"input",8),n.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),n.Wb(),n.Rc(14,cd,1,1,"mat-spinner",9),n.Wb(),n.Xb(15,"mat-icon",10),n.Tc(16,"search"),n.Wb(),n.Rc(17,sd,3,0,"button",11),n.Xb(18,"mat-hint"),n.Tc(19,"Search Card ID or Name"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",12),n.Xb(21,"div",13),n.Xb(22,"mat-card",14),n.Xb(23,"div",15),n.Xb(24,"span",16),n.Xb(25,"h2",17),n.Tc(26),n.Wb(),n.Wb(),n.Wb(),n.Xb(27,"div"),n.Rc(28,dd,25,8,"div",18),n.Wb(),n.Sb(29,"br"),n.Wb(),n.Xb(30,"mat-card",14),n.Xb(31,"div",15),n.Xb(32,"span",16),n.Xb(33,"h2",17),n.Tc(34),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div"),n.Rc(36,pd,25,9,"div",18),n.Wb(),n.Sb(37,"br"),n.Wb(),n.Xb(38,"mat-card",14),n.Xb(39,"div",15),n.Xb(40,"span",16),n.Xb(41,"h2",17),n.Tc(42),n.Wb(),n.Wb(),n.Wb(),n.Xb(43,"div"),n.Rc(44,gd,25,9,"div",18),n.Wb(),n.Sb(45,"br"),n.Wb(),n.Xb(46,"mat-card",14),n.Xb(47,"div",15),n.Xb(48,"span",16),n.Xb(49,"h2",17),n.Tc(50),n.Wb(),n.Wb(),n.Wb(),n.Xb(51,"div"),n.Rc(52,Xd,25,8,"div",18),n.Wb(),n.Sb(53,"br"),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(1),n.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),n.Eb(12),n.rc("ngModel",e.searchText),n.Eb(1),n.rc("ngIf",e.loading),n.Eb(3),n.rc("ngIf",e.searchText),n.Eb(9),n.Wc("Pending for approval (",e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.BACKLOGArr),n.Eb(6),n.Wc("Ongoing (",e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.ONGOINGArr),n.Eb(6),n.Wc("Approved (",e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.APPROVEDArr),n.Eb(6),n.Wc("Rejected (",e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.REJECTEDArr))},directives:[Ui.a,g.e,g.d,g.f,g.b,W.c,W.g,y.b,p.c,p.r,p.u,o.n,v.a,W.i,W.f,X.a,o.m,x.b,C.b,W.j,X.e,X.c,X.h,X.g,p.A,p.s,p.t,Bi],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px}table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding-right:30px;margin-right:30px}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px 60px 10px 45px}.colheader[_ngcontent-%COMP%]{font-size:9px;color:grey}.coldata[_ngcontent-%COMP%]{font-size:9px;color:#000}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:180px;box-sizing:border-box;margin:0 0 10px;padding:0}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.bookMarkOngoing[_ngcontent-%COMP%]{color:orange}.bookMarkApproved[_ngcontent-%COMP%]{color:#1fbfa9}.bookMarkRejected[_ngcontent-%COMP%]{color:red}.mt-45[_ngcontent-%COMP%]{margin-top:45px!important}.summaryDetails[_ngcontent-%COMP%]{padding-left:29px}.searchTopDetails[_ngcontent-%COMP%]{padding-right:5%}.detailedView[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:5px 12px 12px 5px;min-height:30vh}.fs-10[_ngcontent-%COMP%]{font-size:10px;color:grey}.fs-11[_ngcontent-%COMP%]{font-size:11px}"]}),t})();function Td(t,e){if(1&t&&(n.Xb(0,"mat-option",26),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Id(t,e){if(1&t&&(n.Xb(0,"mat-option",26),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.branchName),n.Eb(1),n.Uc(t.branchName)}}function Ed(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",22),n.Xb(1,"div",5),n.Xb(2,"mat-label"),n.Tc(3,"loan Amount "),n.Wb(),n.Xb(4,"mat-form-field",6),n.Xb(5,"input",23),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(6,"div",5),n.Xb(7,"mat-label"),n.Tc(8,"Business Product Name "),n.Wb(),n.Xb(9,"mat-form-field",6),n.Xb(10,"mat-select",24),n.fc("selectionChange",function(e){return n.Hc(t),n.jc().getAccountType(e.value)}),n.Rc(11,Td,2,2,"mat-option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(12,"div",5),n.Xb(13,"mat-label"),n.Tc(14,"Account Branch"),n.Wb(),n.Xb(15,"mat-form-field",6),n.Xb(16,"mat-select",25),n.fc("selectionChange",function(e){return n.Hc(t),n.jc().onChangeBranch(e)}),n.Rc(17,Id,2,2,"mat-option",13),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(11),n.rc("ngForOf",t.arrayAccountBranch),n.Eb(6),n.rc("ngForOf",t.screenArray)}}function Cd(t,e){if(1&t&&(n.Xb(0,"mat-option",26),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function xd(t,e){if(1&t&&(n.Xb(0,"mat-option",26),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function Dd(t,e){if(1&t&&(n.Xb(0,"mat-option",26),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}let Od=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l,b){this.data=t,this.dialogue=e,this.taskSumService=a,this.dialogRef=o,this.fb=i,this.cdr=n,this.apiService=r,this.ls=c,this.snack=s,this.router=l,this.loader=b,this.updateLoanDetails=!1,this.updateAsset=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.minDate=new Date,this.maxDate=new Date,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.ifEdit=!1,this.showEditOption=!1,this.flag=!1,this.flag1=!1,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){console.log("mat dialog data -- ",this.data),this.selectedYear=(new Date).getFullYear();for(let t=0;t<=50;t++)this.years.push(t+" year");for(let t=0;t<=11;t++)this.months.push(t+" month");for(let t=0;t<=30;t++)this.days.push(t+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),console.log("component call check"),this.getLoanDetails(),this.buildMenuForm(this.data),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.getCountryName("country"),this.getStateName("state")}getAssetDetails(){this.loader.open(),this.apiService.getAssetails(this.loanaccountID).subscribe(t=>{this.loader.close(),this.assetDetails=t,this.getStateName(this.assetDetails.country),this.getCityName(this.assetDetails.state),console.log(this.assetDetails),this.buildAssetForm(this.assetDetails)},t=>{this.loader.close()})}buildMenuForm(t){var e,a,o,i,n,r,c,s,l,b,d,u,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanUpdateForm=this.fb.group({loanAccountId:[this.loanaccountID],businessProductName:[t?null===(e=null==t?void 0:t.info)||void 0===e?void 0:e.businessProductName:""],accountBranch:[t?null===(a=null==t?void 0:t.info)||void 0===a?void 0:a.accountBranch:""],applicationDate:[t?null===(o=null==t?void 0:t.info)||void 0===o?void 0:o.applicationDate:""],accountType:[t?null===(i=null==t?void 0:t.info)||void 0===i?void 0:i.accountType:""],estimatedCost:[t?null===(n=null==t?void 0:t.info)||void 0===n?void 0:n.estimatedCost:""],customerContribution:[t?null===(r=null==t?void 0:t.info)||void 0===r?void 0:r.customerContribution:""],loanAmount:[t?null===(c=null==t?void 0:t.info)||void 0===c?void 0:c.loanAmount:""],purposeOfLoan:[t?null===(s=null==t?void 0:t.info)||void 0===s?void 0:s.purposeOfLoan:""],accountCurrency:[t?null===(l=null==t?void 0:t.info)||void 0===l?void 0:l.accountCurrency:""],loanTenure:[t?null===(b=null==t?void 0:t.info)||void 0===b?void 0:b.loanTenure:""],day:[t?Number(null===(d=null==t?void 0:t.info)||void 0===d?void 0:d.loanTenure.split("-")[2]):""],month:[t?null===(u=null==t?void 0:t.info)||void 0===u?void 0:u.loanTenure.split("-")[1]:""],year:[t?Number(null===(m=null==t?void 0:t.info)||void 0===m?void 0:m.loanTenure.split("-")[0]):""]}),console.log("form before",this.loanUpdateForm),console.log("form aftr",this.loanUpdateForm.value)}save(){console.log("save check");let t={};t=this.loanUpdateForm.value,this.apiService.saveLoanDetails(this.loanUpdateForm.value).subscribe(t=>{this.snack.open("Data Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close(!0)},t=>{this.snack.open("Unable to Save!","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.dialogRef.close(!1)})}close(){this.dialogRef.close(!1)}getAccountType(t){console.log("State -- ",t),this.apiService.getAccount(t).subscribe(t=>{console.log("data.accountType",t),this.accountType=t.accountTypeName,console.log("this.accountType",this.accountType),this.loanUpdateForm.get("accountType").setValue(t.accountTypeName)})}getBusinessProductDetails(t){this.apiService.getBusinessProductName(t).subscribe(t=>{console.log("data:: AccountBranch ",t),this.arrayAccountBranch=t})}getAccountBranchDetails(){this.apiService.getAccountBranch().subscribe(t=>{console.log("data:: AccountBranch ",t),this.screenArray=t,this.screenArrayData=t,0==this.screenArray.length&&this.screenArray.push(this.branchName),console.log("this.branchName::",this.branchName,this.screenArray),this.currencyData=this.screenArray.find(t=>t.branchName==this.branchName),console.log("Currency",this.currencyData)})}onChangeBranch(t){this.currencyData=this.screenArray.find(e=>e.branchName==t.value),null==this.currencyData&&null==this.currencyData||this.itemForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}getLoanDetails(){console.log("get loan details"),this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.loanAccountDetails=t,console.log("this.accountDetails",this.loanAccountDetails),console.log("form",this.loanUpdateForm.value),this.loanUpdateForm.controls.businessProductName.setValue(this.loanAccountDetails.businessProductName),this.loanUpdateForm.value.accountType=this.loanAccountDetails.accountType,console.log("accountType",this.ls.setItem("accountType",this.loanUpdateForm.value.accountType)),this.ls.setItem("accountType",this.loanUpdateForm.value.accountType),this.loanUpdateForm.value.accountBranch=this.loanAccountDetails.accountBranch,this.loanUpdateForm.value.loanAmount=this.loanAccountDetails.loanAmount})}buildAssetForm(t){var e,a,o,i,n,r,c,s,l,b,d,u;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanAssetForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.assetInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.assetInfo)||void 0===a?void 0:a.state:""],city:[t?null===(o=null==t?void 0:t.assetInfo)||void 0===o?void 0:o.city:""],assetStatus:[t?null===(i=null==t?void 0:t.assetInfo)||void 0===i?void 0:i.assetStatus:""],estimatedCost:[t?null===(n=null==t?void 0:t.assetInfo)||void 0===n?void 0:n.estimatedCost:""],dimensions:[t?null===(r=null==t?void 0:t.assetInfo)||void 0===r?void 0:r.dimensions:""],locality:[t?null===(c=null==t?void 0:t.assetInfo)||void 0===c?void 0:c.locality:""],marketValue:[t?null===(s=null==t?void 0:t.assetInfo)||void 0===s?void 0:s.marketValue:""],building:[t?null===(l=null==t?void 0:t.assetInfo)||void 0===l?void 0:l.building:""],zipCode:[t?null===(b=null==t?void 0:t.assetInfo)||void 0===b?void 0:b.zipCode:""],homeType:[t?null===(d=null==t?void 0:t.assetInfo)||void 0===d?void 0:d.homeType:""],mortgagedBranch:[t?null===(u=null==t?void 0:t.assetInfo)||void 0===u?void 0:u.mortgagedBranch:""]}),console.log("form before",this.loanUpdateForm),console.log("form aftr",this.loanUpdateForm.value)}getCountryName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCountry=t,console.log("--\x3e",this.arrayCountry)})}getStateName(t){this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayState=t,console.log("--\x3e",this.arrayState)})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t,console.log("--\x3e",this.arrayCity)})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}next(){console.log("this.accountType",this.accountType),this.router.navigate(["/tasks/loan-account-task-summary"]),console.log("this.ls.accounttype",this.ls.getItem("accountType")),this.taskSumService.getLoanAccountDetails(this.loanaccountID).subscribe(t=>{console.log("data",t)})}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}submitForm1(){let t=new Date;t=this.loanUpdateForm.value.applicationDate,console.log("applicationDate",this.loanUpdateForm.value.applicationDate);var e=h(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);var a=new Date(e);console.log("ck",a);var o=this.loanUpdateForm.value.loanAmount;o=parseInt(o);var i=this.loanUpdateForm.value.estimatedCost;i=parseInt(i);const n=this.loanUpdateForm.value.year+"-"+this.loanUpdateForm.value.month+"-"+this.loanUpdateForm.value.day;this.loanUpdateForm.get("loanTenure").setValue(n),delete this.loanUpdateForm.value.year,delete this.loanUpdateForm.value.month,delete this.loanUpdateForm.value.day;let r={loanAccountId:this.data.loanAccountId,businessProductName:this.loanUpdateForm.value.businessProductName,accountBranch:this.loanUpdateForm.value.accountBranch,applicationDate:e,accountType:this.loanUpdateForm.value.accountType,estimatedCost:i,customerContribution:this.loanUpdateForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanUpdateForm.value.purposeOfLoan,loanTenure:this.loanUpdateForm.value.loanTenure,accountCurrency:this.loanUpdateForm.value.accountCurrency};console.log("payload",r),this.apiService.saveLoanDetails(r).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}goToClose(){this.dialogRef.close(),this.loader.open(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.loanAccountDetails=t,console.log("this.accountDetails",this.loanAccountDetails),console.log("form",this.loanUpdateForm.value),this.loanUpdateForm.controls.businessProductName.setValue(this.loanAccountDetails.businessProductName),this.loanUpdateForm.value.accountType=this.loanAccountDetails.accountType,console.log("accountType",this.ls.setItem("accountType",this.loanUpdateForm.value.accountType)),this.ls.setItem("accountType",this.loanUpdateForm.value.accountType),this.loanUpdateForm.value.accountBranch=this.loanAccountDetails.accountBranch,this.loanUpdateForm.value.loanAmount=this.loanAccountDetails.loanAmount,this.loader.close()})}submitForm(){let t=new Date;t=this.loanForm.value.applicationDate,console.log("applicationDate",this.loanForm.value.applicationDate);var e=h(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);var a=new Date(e);console.log("ck",a);var o=this.loanForm.value.loanAmount;o=parseInt(o);var i=this.loanForm.value.estimatedCost;i=parseInt(i);const n=this.loanForm.value.year+"-"+this.loanForm.value.month+"-"+this.loanForm.value.day;this.loanForm.get("loanTenure").setValue(n),delete this.loanForm.value.year,delete this.loanForm.value.month,delete this.loanForm.value.day;let r={loanAccountId:this.showEditOption?this.loanaccountID:null,businessProductName:this.loanForm.value.businessProductName,accountBranch:this.loanForm.value.accountBranch,applicationDate:e,accountType:this.loanForm.value.accountType,estimatedCost:i,customerContribution:this.loanForm.value.customerContribution,loanAmount:o,purposeOfLoan:this.loanForm.value.purposeOfLoan,loanTenure:this.loanForm.value.loanTenure,accountCurrency:this.loanForm.value.accountCurrency};console.log("payload",r),this.apiService.saveLoanDetails(r).subscribe(t=>{console.log("data",t.loanAccountId),this.loanAccountId=t.loanAccountId,console.log("loanAccountid",this.loanAccountId),this.assign(t.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:t.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),sessionStorage.setItem("loanAccountId",t.loanAccountid),this.ls.setItem("fundByStatus",{loanAccountid:t.loanAccountid}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("loanAccountId",t.loanAccountId),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.ls.getItem("loanAccountid"),console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.next()})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.a),n.Rb(b.b),n.Rb(m.a),n.Rb(b.g),n.Rb(p.f),n.Rb(n.h),n.Rb(r.b),n.Rb(l.a),n.Rb(f.a),n.Rb(je.h),n.Rb(B.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-account-details-update"]],decls:63,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","estimatedCost","formControlName","estimatedCost",3,"keypress"],["matInput","","name","customerContribution","formControlName","customerContribution",3,"keypress"],["matInput","","name","accountType","formControlName","accountType",1,"alignment",3,"readonly"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["matInput","","name","date","formControlName","applicationDate","placeholder","DD/MM/YYYY",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","name","purposeOfLoan","formControlName","purposeOfLoan",1,"alignment"],["align","end"],["mat-button","",3,"click"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["matInput","","name","loanAmount","formControlName","loanAmount",3,"keypress"],["name","account_branch","formControlName","businessProductName",3,"selectionChange"],["name","mod","formControlName","accountBranch",3,"selectionChange"],[3,"value"]],template:function(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Account Details"),n.Wb(),n.Xb(7,"form",2),n.Rc(8,Ed,18,2,"div",3),n.Xb(9,"div",4),n.Xb(10,"div",5),n.Xb(11,"mat-label"),n.Tc(12,"Estimated Cost"),n.Wb(),n.Xb(13,"mat-form-field",6),n.Xb(14,"input",7),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(15,"div",5),n.Xb(16,"mat-label"),n.Tc(17,"Customer Contribution"),n.Wb(),n.Xb(18,"mat-form-field",6),n.Xb(19,"input",8),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",5),n.Xb(21,"mat-label"),n.Tc(22,"Account Type"),n.Wb(),n.Xb(23,"mat-form-field",6),n.Sb(24,"input",9),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",4),n.Xb(26,"div",5),n.Xb(27,"mat-label"),n.Tc(28,"Loan Tenure"),n.Wb(),n.Xb(29,"div",10),n.Xb(30,"div",11),n.Xb(31,"div"),n.Xb(32,"mat-form-field",6),n.Xb(33,"mat-select",12),n.Rc(34,Cd,2,2,"mat-option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div"),n.Xb(36,"mat-form-field",6),n.Xb(37,"mat-select",14),n.Rc(38,xd,2,2,"mat-option",13),n.Wb(),n.Wb(),n.Wb(),n.Xb(39,"div"),n.Xb(40,"mat-form-field",6),n.Xb(41,"mat-select",15),n.Rc(42,Dd,2,2,"mat-option",13),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(43,"div",5),n.Xb(44,"div",5),n.Xb(45,"mat-label"),n.Tc(46,"Application Date"),n.Wb(),n.Xb(47,"mat-form-field",6),n.Sb(48,"input",16),n.Sb(49,"mat-datepicker-toggle",17),n.Sb(50,"mat-datepicker",null,18),n.Wb(),n.Wb(),n.Wb(),n.Xb(52,"div",4),n.Xb(53,"div",5),n.Xb(54,"mat-label"),n.Tc(55,"Purpose of Loan"),n.Wb(),n.Xb(56,"mat-form-field",6),n.Sb(57,"input",19),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(58,"mat-dialog-actions",20),n.Xb(59,"button",21),n.fc("click",function(){return e.submitForm1()}),n.Tc(60," Update "),n.Wb(),n.Xb(61,"button",21),n.fc("click",function(){return e.close()}),n.Tc(62,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.Dc(51);n.Eb(7),n.rc("formGroup",e.loanUpdateForm),n.Eb(1),n.rc("ngIf","loanAccount_array"===e.data.editType),n.Eb(16),n.rc("readonly",!0),n.Eb(10),n.rc("ngForOf",e.years),n.Eb(4),n.rc("ngForOf",e.months),n.Eb(4),n.rc("ngForOf",e.days),n.Eb(6),n.rc("matDatepicker",t),n.Eb(1),n.rc("for",t)}},directives:[b.e,g.e,v.a,p.A,p.s,p.j,o.n,g.b,W.g,W.c,y.b,p.c,p.r,p.i,g.f,g.d,T.a,o.m,I.e,I.g,W.j,I.d,b.c,C.b,D.n],styles:[".selectOption[_ngcontent-%COMP%]{background-color:#fdfdff;border:transparent}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}"]}),t})();var Ad=a("iiaH");function Rd(t,e){if(1&t&&(n.Xb(0,"mat-option",30),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Sd(t,e){if(1&t&&(n.Xb(0,"mat-option",30),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.value1),n.Eb(1),n.Vc(" ",t.value1,"")}}function Nd(t,e){if(1&t&&(n.Xb(0,"mat-option",30),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.value1),n.Eb(1),n.Uc(t.value1)}}let Pd=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l){this.router=t,this.data=e,this.snack=a,this.dataService=o,this.ls=i,this.fb=n,this.taskSumService=r,this.apiService=c,this.dialogRef=s,this.cdr=l,this.isEdit=!1,this.minDate=new Date,this.maxDate=new Date,this.showEditOption=!1,this.appEntrySummaryView=!1,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log(this.loanaccountID),console.log("this.loanaccountID",this.loanaccountID),this.buildAssetForm(this.data),this.getCountryName("country"),this.getStateName("state"),this.getCityName("city")}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}getAssetDetails(){this.apiService.getAssetails(this.loanaccountID).subscribe(t=>{this.assetDetails=t,this.buildAssetForm(this.assetDetails),this.getStateName(this.assetDetails.country),this.getCityName(this.assetDetails.state),console.log(this.assetDetails)},t=>{})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,country:this.loanAssetForm.value.country,state:this.loanAssetForm.value.state,city:this.loanAssetForm.value.city,assetStatus:this.loanAssetForm.value.assetStatus,estimatedCost:this.loanAssetForm.value.estimatedCost,dimensions:this.loanAssetForm.value.dimensions,street:this.loanAssetForm.value.street,locality:this.loanAssetForm.value.locality,marketValue:this.loanAssetForm.value.marketValue,mortgagedBranch:this.loanAssetForm.value.marketValue,building:this.loanAssetForm.value.building,homeType:this.loanAssetForm.value.homeType,zipCode:this.loanAssetForm.value.zipCode};console.log("payload",t),this.apiService.upsertAssetDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.cdr.markForCheck(),this.cdr.detectChanges(),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}goBack(){this.dialogRef.close()}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}getBusinessProductDetails(t){this.apiService.getBusinessProductName(t).subscribe(t=>{console.log("data:: AccountBranch ",t),this.arrayAccountBranch=t})}getAccountBranchDetails(){this.apiService.getAccountBranch().subscribe(t=>{console.log("data:: AccountBranch ",t),this.screenArray=t,this.screenArrayData=t,0==this.screenArray.length&&this.screenArray.push(this.branchName),console.log("this.branchName::",this.branchName,this.screenArray),this.currencyData=this.screenArray.find(t=>t.branchName==this.branchName),console.log("Currency",this.currencyData)})}buildAssetForm(t){var e,a,o,i,n,r,c,s,l,b,d,u,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.getCountryName("country"),this.getStateName("state"),this.getCityName("city"),this.loanAssetForm=this.fb.group({loanAccountId:[this.loanaccountID],street:[t?null===(e=null==t?void 0:t.assetInfo)||void 0===e?void 0:e.street:""],country:[t?null===(a=null==t?void 0:t.assetInfo)||void 0===a?void 0:a.country:""],state:[t?null===(o=null==t?void 0:t.assetInfo)||void 0===o?void 0:o.state:""],city:[t?null===(i=null==t?void 0:t.assetInfo)||void 0===i?void 0:i.city:""],assetStatus:[t?null===(n=null==t?void 0:t.assetInfo)||void 0===n?void 0:n.assetStatus:""],estimatedCost:[t?null===(r=null==t?void 0:t.assetInfo)||void 0===r?void 0:r.estimatedCost:""],dimensions:[t?null===(c=null==t?void 0:t.assetInfo)||void 0===c?void 0:c.dimensions:""],locality:[t?null===(s=null==t?void 0:t.assetInfo)||void 0===s?void 0:s.locality:""],marketValue:[t?null===(l=null==t?void 0:t.assetInfo)||void 0===l?void 0:l.marketValue:""],building:[t?null===(b=null==t?void 0:t.assetInfo)||void 0===b?void 0:b.building:""],zipCode:[t?null===(d=null==t?void 0:t.assetInfo)||void 0===d?void 0:d.zipCode:""],homeType:[t?null===(u=null==t?void 0:t.assetInfo)||void 0===u?void 0:u.homeType:""],mortgagedBranch:[t?null===(m=null==t?void 0:t.assetInfo)||void 0===m?void 0:m.mortgagedBranch:""]}),console.log("form before",this.loanAssetForm),console.log("form aftr",this.loanAssetForm.value)}getCountryName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCountry=t,console.log("--\x3e",this.arrayCountry)})}getStateName(t){this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayState=t,console.log("--\x3e",this.arrayState)})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t,console.log("--\x3e",this.arrayCity)})}goToEdit(){this.dialogRef.close(),this.dataService.sendNavParam(this.accountDetails),this.router.navigate(["loan/account/loan-details"])}goToClose(){this.dialogRef.close(),this.getDataOnLoad()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(je.h),n.Rb(b.a),n.Rb(f.a),n.Rb(Ad.a),n.Rb(l.a),n.Rb(p.f),n.Rb(m.a),n.Rb(r.b),n.Rb(b.g),n.Rb(n.h))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-account-details-edit"]],inputs:{loanDetailsInfo:"loanDetailsInfo"},decls:108,vars:4,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","mod","formControlName","assetStatus"],["value",""],["value","Under Construction"],["value","Completed Construction"],["matInput","","name","building","formControlName","building"],["name","mortgagedBranch","formControlName","mortgagedBranch"],["value","test"],["fxLayout","row wrap"],["name","country","formControlName","country",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","mod","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["name","dimensions","formControlName","dimensions"],["value","Sq.Ft"],["name","mod","formControlName","homeType"],["value","Villa"],["value","Flat"],["value","Apartment"],["matInput","","name","locality","formControlName","locality"],["matInput","","name","street","formControlName","street"],["matInput","","name","marketValue","formControlName","marketValue",3,"keypress"],["matInput","","name","amt","formControlName","zipCode",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Asset Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Asset Status "),n.Wb(),n.Xb(12,"mat-form-field",5),n.Xb(13,"mat-select",6),n.Xb(14,"mat-option",7),n.Tc(15,"Select"),n.Wb(),n.Xb(16,"mat-option",8),n.Tc(17,"Under Construction"),n.Wb(),n.Xb(18,"mat-option",9),n.Tc(19,"Completed Construction"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",4),n.Xb(21,"mat-label"),n.Tc(22,"Building "),n.Wb(),n.Xb(23,"mat-form-field",5),n.Sb(24,"input",10),n.Wb(),n.Wb(),n.Xb(25,"div",4),n.Xb(26,"mat-label"),n.Tc(27,"Mortgaged Branch"),n.Wb(),n.Xb(28,"mat-form-field",5),n.Xb(29,"mat-select",11),n.Xb(30,"mat-option",7),n.Tc(31,"Select"),n.Wb(),n.Xb(32,"mat-option",12),n.Tc(33,"test"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(34,"div",13),n.Xb(35,"div",4),n.Xb(36,"mat-label"),n.Tc(37,"Country"),n.Wb(),n.Xb(38,"mat-form-field",5),n.Xb(39,"mat-select",14),n.fc("selectionChange",function(t){return e.getStateName(t.value)}),n.Xb(40,"mat-option",7),n.Tc(41,"Select"),n.Wb(),n.Rc(42,Rd,2,2,"mat-option",15),n.Wb(),n.Wb(),n.Wb(),n.Xb(43,"div",4),n.Xb(44,"mat-label"),n.Tc(45,"State"),n.Wb(),n.Xb(46,"mat-form-field",5),n.Xb(47,"mat-select",16),n.fc("selectionChange",function(t){return e.getCityName(t.value)}),n.Xb(48,"mat-option",7),n.Tc(49,"Select"),n.Wb(),n.Rc(50,Sd,2,2,"mat-option",15),n.Wb(),n.Wb(),n.Wb(),n.Xb(51,"div",4),n.Xb(52,"mat-label"),n.Tc(53,"City"),n.Wb(),n.Xb(54,"mat-form-field",5),n.Xb(55,"mat-select",17),n.Xb(56,"mat-option",7),n.Tc(57,"Select"),n.Wb(),n.Rc(58,Nd,2,2,"mat-option",15),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(59,"div",13),n.Xb(60,"div",4),n.Xb(61,"mat-label"),n.Tc(62,"Dimensions"),n.Wb(),n.Xb(63,"mat-form-field",5),n.Xb(64,"mat-select",18),n.Xb(65,"mat-option",7),n.Tc(66,"Select"),n.Wb(),n.Xb(67,"mat-option",19),n.Tc(68,"Sq.Ft"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(69,"div",4),n.Xb(70,"mat-label"),n.Tc(71,"Home Type"),n.Wb(),n.Xb(72,"mat-form-field",5),n.Xb(73,"mat-select",20),n.Xb(74,"mat-option",7),n.Tc(75,"Select"),n.Wb(),n.Xb(76,"mat-option",21),n.Tc(77,"Villa"),n.Wb(),n.Xb(78,"mat-option",22),n.Tc(79,"Flat"),n.Wb(),n.Xb(80,"mat-option",23),n.Tc(81,"Apartment"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(82,"div",4),n.Xb(83,"mat-label"),n.Tc(84,"Locality"),n.Wb(),n.Xb(85,"mat-form-field",5),n.Sb(86,"input",24),n.Wb(),n.Wb(),n.Wb(),n.Xb(87,"div",13),n.Xb(88,"div",4),n.Xb(89,"mat-label"),n.Tc(90,"Street"),n.Wb(),n.Xb(91,"mat-form-field",5),n.Sb(92,"input",25),n.Wb(),n.Wb(),n.Xb(93,"div",4),n.Xb(94,"mat-label"),n.Tc(95,"Market Value"),n.Wb(),n.Xb(96,"mat-form-field",5),n.Xb(97,"input",26),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(98,"div",4),n.Xb(99,"mat-label"),n.Tc(100,"Zip Code"),n.Wb(),n.Xb(101,"mat-form-field",5),n.Xb(102,"input",27),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(103,"mat-dialog-actions",28),n.Xb(104,"button",29),n.fc("click",function(){return e.submitForm1()}),n.Tc(105," Update "),n.Wb(),n.Xb(106,"button",29),n.fc("click",function(){return e.goToClose()}),n.Tc(107,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.loanAssetForm),n.Eb(35),n.rc("ngForOf",e.arrayCountry),n.Eb(8),n.rc("ngForOf",e.arrayState),n.Eb(8),n.rc("ngForOf",e.arrayCity))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,T.a,p.r,p.i,D.n,y.b,p.c,o.m,b.c,C.b],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),t})();function kd(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",12),n.Xb(1,"div",5),n.Xb(2,"mat-label"),n.Tc(3,"Number of Applicants "),n.Wb(),n.Xb(4,"mat-form-field",6),n.Xb(5,"input",13),n.fc("keypress",function(e){return n.Hc(t),n.jc()._keyPress(e)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(6,"div",5),n.Xb(7,"mat-label"),n.Tc(8,"Registered "),n.Wb(),n.Sb(9,"mat-form-field",6),n.Wb(),n.Wb()}}let Fd=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l){this.fb=t,this.router=e,this.data=a,this.snack=o,this.dataService=i,this.ls=n,this.taskSumService=r,this.apiService=c,this.dialogRef=s,this.cdr=l,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log(this.loanaccountID),console.log("this.loanaccountID",this.loanaccountID),this.getMandateDetails(),this.buildMandateForm()}buildMandateForm(t){this.loanMandateUpdate=this.fb.group({applicantName:[t?null==t?void 0:t.applicantName:""],registered:[t?null==t?void 0:t.registered:""],numberOfApplicant:[t?null==t?void 0:t.numberOfApplicant:""],collateralPercentage:[t?null==t?void 0:t.collateralPercentage:""],repaymentSharePercentage:[t?null==t?void 0:t.repaymentSharePercentage:""]})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,applicantName:this.loanMandateUpdate.value.applicantName,collateralShare:this.loanMandateUpdate.value.collateralShare,repaymentShare:this.loanMandateUpdate.value.repaymentShare};console.log("payload",t),this.apiService.upsertMandateDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}getMandateDetails(){this.apiService.getMandateDetailsByLoanAccId(this.loanaccountID).subscribe(t=>{this.mandateDetails=t,console.log(this.mandateDetails),this.buildMandateForm(this.mandateDetails)},t=>{})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}next(){this.router.navigate(["/tasks/loan-account-task-summary"]),console.log("this.ls.accounttype",this.ls.getItem("accountType")),this.taskSumService.getLoanAccountDetails(this.loanaccountID).subscribe(t=>{console.log("data",t)})}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}goToClose(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(p.f),n.Rb(je.h),n.Rb(b.a),n.Rb(f.a),n.Rb(Ad.a),n.Rb(l.a),n.Rb(m.a),n.Rb(r.b),n.Rb(b.g),n.Rb(n.h))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-mandate-details-update"]],decls:30,vars:2,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column",4,"ngIf"],["fxLayout","row wrap"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],["matInput","","name","collateralPercentage","formControlName","collateralPercentage",3,"keypress"],["matInput","","name","repaymentSharePercentage","formControlName","repaymentSharePercentage",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["matInput","","name","amt","formControlName","numberOfApplicant",3,"keypress"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Mandate Details"),n.Wb(),n.Xb(7,"form",2),n.Rc(8,kd,10,0,"div",3),n.Xb(9,"div",4),n.Xb(10,"div",5),n.Xb(11,"mat-label"),n.Tc(12,"Applicant Name"),n.Wb(),n.Xb(13,"mat-form-field",6),n.Sb(14,"input",7),n.Wb(),n.Wb(),n.Xb(15,"div",5),n.Xb(16,"mat-label"),n.Tc(17,"Collateral Percentage"),n.Wb(),n.Xb(18,"mat-form-field",6),n.Xb(19,"input",8),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",5),n.Xb(21,"mat-label"),n.Tc(22,"Repayment Share Percentage"),n.Wb(),n.Xb(23,"mat-form-field",6),n.Xb(24,"input",9),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"mat-dialog-actions",10),n.Xb(26,"button",11),n.fc("click",function(){return e.submitForm1()}),n.Tc(27," Update "),n.Wb(),n.Xb(28,"button",11),n.fc("click",function(){return e.goToClose()}),n.Tc(29,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.loanMandateUpdate),n.Eb(1),n.rc("ngIf","loanAccount_array"===e.data.editType))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,o.n,g.b,W.g,W.c,y.b,p.c,p.r,p.i,b.c,C.b],styles:[""]}),t})();function Ld(t,e){if(1&t&&(n.Xb(0,"mat-option",25),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function _d(t,e){if(1&t&&(n.Xb(0,"mat-option",25),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function wd(t,e){if(1&t&&(n.Xb(0,"mat-option",25),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Ud(t,e){if(1&t&&(n.Xb(0,"mat-option",25),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.value1),n.Eb(1),n.Vc(" ",t.value1," ")}}function Md(t,e){if(1&t&&(n.Xb(0,"mat-option",25),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.value1),n.Eb(1),n.Vc("",t.value1," ")}}let Gd=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l,b){this.fb=t,this.data=e,this.dialogue=a,this.taskSumService=o,this.cdr=i,this.dialogRef=n,this.apiService=r,this.ls=c,this.snack=s,this.router=l,this.loader=b,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,this.buildCollateralForm(),this.getCountryName("country"),this.getCollateralType("collateral_type"),this.getCollateralDetails(),this.getRateValue("currency")}buildCollateralForm(t){var e,a,o,i,n,r,c,s,l,b,d,u,m;console.log("item",t),t&&(this.getStateName(t.country),this.getCityName(t.state)),this.loanCollateralForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.collateralInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.collateralInfo)||void 0===a?void 0:a.state:""],city:[t?null===(o=null==t?void 0:t.collateralInfo)||void 0===o?void 0:o.city:""],collateralType:[t?null===(i=null==t?void 0:t.collateralInfo)||void 0===i?void 0:i.collateralType:""],collateralCurrency:[t?null===(n=null==t?void 0:t.collateralInfo)||void 0===n?void 0:n.collateralCurrency:""],collateralValue:[t?null===(r=null==t?void 0:t.collateralInfo)||void 0===r?void 0:r.collateralValue:""],locality:[t?null===(c=null==t?void 0:t.collateralInfo)||void 0===c?void 0:c.locality:""],street:[t?null===(s=null==t?void 0:t.collateralInfo)||void 0===s?void 0:s.street:""],building:[t?null===(l=null==t?void 0:t.collateralInfo)||void 0===l?void 0:l.building:""],zipCode:[t?null===(b=null==t?void 0:t.collateralInfo)||void 0===b?void 0:b.zipCode:""],homeType:[t?null===(d=null==t?void 0:t.collateralInfo)||void 0===d?void 0:d.homeType:""],attributes:[t?null===(u=null==t?void 0:t.collateralInfo)||void 0===u?void 0:u.attributes:""],thirdPartyCollateral:[t?null===(m=null==t?void 0:t.collateralInfo)||void 0===m?void 0:m.thirdPartyCollateral:""]}),console.log("form before",this.loanCollateralForm),console.log("form aftr",this.loanCollateralForm.value)}getRateValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayRateValue=t})}getCollateralDetails(){this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(t=>{this.collateralDetails=t,console.log(this.collateralDetails.collateralDetails.length),console.log(this.collateralDetails),this.buildCollateralForm(this.collateralDetails)},t=>{})}getCollateralType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCollateralType=t})}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}submitForm1(){let t={loanAccountId:this.data.loanAccountId,attributes:this.loanCollateralForm.value.attributes,building:this.loanCollateralForm.value.building,city:this.loanCollateralForm.value.city,zipCode:this.loanCollateralForm.value.zipCode,country:this.loanCollateralForm.value.country,state:this.loanCollateralForm.value.state,dimensions:this.loanCollateralForm.value.dimensions,locality:this.loanCollateralForm.value.locality,thirdpartyCollateral:this.loanCollateralForm.value.thirdPartyCollateral,collateralValue:this.loanCollateralForm.value.collateralValue,collateralType:this.loanCollateralForm.value.collateralType,collateralCurrency:this.loanCollateralForm.value.collateralCurrency};console.log("payload",t),this.apiService.upsertCollateralDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}getCountryName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCountry=t,console.log("--\x3e",this.arrayCountry)})}getStateName(t){this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayState=t,console.log("--\x3e",this.arrayState)})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t,console.log("--\x3e",this.arrayCity)})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}goToClose(){this.dialogRef.close(),this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.loanCollateralDetails=t,console.log("this.loanCollateralDetails",this.loanCollateralDetails),console.log("form",this.loanCollateralForm.value),this.loanCollateralForm.value.building=this.loanCollateralDetails.building,this.loanCollateralForm.value.dimensions=this.loanCollateralDetails.dimensions,this.loanCollateralForm.value.attributes=this.loanCollateralDetails.attributes,this.loanCollateralForm.value.collateralCurrency=this.loanCollateralDetails.collateralCurrency,this.loader.close()})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(p.f),n.Rb(b.a),n.Rb(b.b),n.Rb(m.a),n.Rb(n.h),n.Rb(b.g),n.Rb(r.b),n.Rb(l.a),n.Rb(f.a),n.Rb(je.h),n.Rb(B.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-collateral-details-update"]],decls:94,vars:6,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","collateralType","formControlName","collateralType"],[3,"value",4,"ngFor","ngForOf"],["name","collateralCurrency","formControlName","collateralCurrency"],["matInput","","name","collateralValue","formControlName","collateralValue",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","thirdPartyCollateral","formControlName","thirdPartyCollateral"],["name","attributes","formControlName","attributes","required",""],["value","1"],["value","2"],["matInput","","name","dimensions","formControlName","dimensions",1,"alignment",3,"keypress"],["matInput","","name","building","formControlName","building"],["matInput","","name","street","formControlName","street"],["matInput","","name","locality","formControlName","locality",1,"alignment"],["name","country","formControlName","country","required","",3,"selectionChange"],["name","state","formControlName","state","required","",3,"selectionChange"],["name","city","formControlName","city","required",""],["matInput","","name","zipCode","formControlName","zipCode","minlength","6","maxlength","10",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Collateral Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Collateral Type "),n.Wb(),n.Xb(12,"mat-form-field",5),n.Xb(13,"mat-select",6),n.Rc(14,Ld,2,2,"mat-option",7),n.Wb(),n.Wb(),n.Wb(),n.Xb(15,"div",4),n.Xb(16,"mat-label"),n.Tc(17,"Collateral Currency "),n.Wb(),n.Xb(18,"mat-form-field",5),n.Xb(19,"mat-select",8),n.Rc(20,_d,2,2,"mat-option",7),n.Wb(),n.Wb(),n.Wb(),n.Xb(21,"div",4),n.Xb(22,"mat-label"),n.Tc(23,"Collateral Value"),n.Wb(),n.Xb(24,"mat-form-field",5),n.Xb(25,"input",9),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(26,"div",10),n.Xb(27,"div",4),n.Xb(28,"mat-label"),n.Tc(29,"Third Party Collateral"),n.Wb(),n.Xb(30,"mat-form-field",5),n.Sb(31,"input",11),n.Wb(),n.Wb(),n.Xb(32,"div",4),n.Xb(33,"mat-label"),n.Tc(34,"Attributes"),n.Wb(),n.Xb(35,"mat-form-field",5),n.Xb(36,"mat-select",12),n.Xb(37,"mat-option",13),n.Tc(38,"Attributes 1"),n.Wb(),n.Xb(39,"mat-option",14),n.Tc(40,"Attributes 2"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(41,"div",4),n.Xb(42,"mat-label"),n.Tc(43,"Dimensions"),n.Wb(),n.Xb(44,"mat-form-field",5),n.Xb(45,"input",15),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(46,"div",10),n.Xb(47,"div",4),n.Xb(48,"mat-label"),n.Tc(49,"Building"),n.Wb(),n.Xb(50,"mat-form-field",5),n.Sb(51,"input",16),n.Wb(),n.Wb(),n.Xb(52,"div",4),n.Xb(53,"mat-label"),n.Tc(54,"Street"),n.Wb(),n.Xb(55,"mat-form-field",5),n.Sb(56,"input",17),n.Wb(),n.Wb(),n.Xb(57,"div",4),n.Xb(58,"mat-label"),n.Tc(59,"Locality"),n.Wb(),n.Xb(60,"mat-form-field",5),n.Sb(61,"input",18),n.Wb(),n.Wb(),n.Wb(),n.Xb(62,"div",10),n.Xb(63,"div",4),n.Xb(64,"mat-label"),n.Tc(65,"Country"),n.Wb(),n.Xb(66,"mat-form-field",5),n.Xb(67,"mat-select",19),n.fc("selectionChange",function(t){return e.getStateName(t.value)})("selectionChange",function(t){return e.getCityName(t.value)}),n.Rc(68,wd,2,2,"mat-option",7),n.Wb(),n.Wb(),n.Wb(),n.Xb(69,"div",4),n.Xb(70,"mat-label"),n.Tc(71,"State"),n.Wb(),n.Xb(72,"mat-form-field",5),n.Xb(73,"mat-select",20),n.fc("selectionChange",function(t){return e.getCityName(t.value)}),n.Rc(74,Ud,2,2,"mat-option",7),n.Wb(),n.Wb(),n.Wb(),n.Xb(75,"div",4),n.Xb(76,"mat-label"),n.Tc(77,"City"),n.Wb(),n.Xb(78,"mat-form-field",5),n.Xb(79,"mat-select",21),n.Rc(80,Md,2,2,"mat-option",7),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(81,"div",10),n.Xb(82,"div",4),n.Xb(83,"mat-label"),n.Tc(84,"Zip Code"),n.Wb(),n.Xb(85,"mat-form-field",5),n.Xb(86,"input",22),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Sb(87,"div",4),n.Sb(88,"div",4),n.Wb(),n.Wb(),n.Wb(),n.Xb(89,"mat-dialog-actions",23),n.Xb(90,"button",24),n.fc("click",function(){return e.submitForm1()}),n.Tc(91," Update "),n.Wb(),n.Xb(92,"button",24),n.fc("click",function(){return e.goToClose()}),n.Tc(93,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.loanCollateralForm),n.Eb(7),n.rc("ngForOf",e.arrayCollateralType),n.Eb(6),n.rc("ngForOf",e.arrayRateValue),n.Eb(48),n.rc("ngForOf",e.arrayCountry),n.Eb(6),n.rc("ngForOf",e.arrayState),n.Eb(6),n.rc("ngForOf",e.arrayCity))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,T.a,p.r,p.i,o.m,y.b,p.c,p.y,D.n,p.n,p.m,b.c,C.b],styles:[""]}),t})();function Vd(t,e){if(1&t&&(n.Xb(0,"mat-option",25),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function Bd(t,e){if(1&t&&(n.Xb(0,"mat-option",25),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function jd(t,e){if(1&t&&(n.Xb(0,"mat-option",25),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.value1),n.Eb(1),n.Vc(" ",t.value1,"")}}function zd(t,e){if(1&t&&(n.Xb(0,"mat-option",25),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.value1),n.Eb(1),n.Uc(t.value1)}}let qd=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.fb=t,this.loader=e,this.ls=a,this.snack=o,this.taskSumService=i,this.cdr=n,this.data=r,this.apiService=c,this.dialogRef=s,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.tomorrow=new Date,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.tomorrow.setDate(this.tomorrow.getDate())}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),console.log("component call check"),this.buildGuarantorForm(this.data),this.getCountryName("country"),this.getStateName("state"),this.getPrefixValue("prefix")}buildGuarantorForm(t){var e,a,o,i,n,r,c,s,l,b,d,u;console.log("item",t),t&&t.country&&(this.getStateName(t.country),this.getCityName(t.state)),this.loanGuarantorForm=this.fb.group({loanAccountId:[this.loanaccountID],country:[t?null===(e=null==t?void 0:t.gurantorInfo)||void 0===e?void 0:e.country:""],state:[t?null===(a=null==t?void 0:t.gurantorInfo)||void 0===a?void 0:a.state:""],city:[t?null===(o=null==t?void 0:t.gurantorInfo)||void 0===o?void 0:o.city:""],prefix:[t?null===(i=null==t?void 0:t.gurantorInfo)||void 0===i?void 0:i.prefix:""],firstName:[t?null===(n=null==t?void 0:t.gurantorInfo)||void 0===n?void 0:n.firstName:""],lastName:[t?null===(r=null==t?void 0:t.gurantorInfo)||void 0===r?void 0:r.lastName:""],mobileNumber:[t?null===(c=null==t?void 0:t.gurantorInfo)||void 0===c?void 0:c.mobileNumber:""],building:[t?null===(s=null==t?void 0:t.gurantorInfo)||void 0===s?void 0:s.building:t.gurantorInfo.address1],street:[t?null===(l=null==t?void 0:t.gurantorInfo)||void 0===l?void 0:l.street:t.gurantorInfo.address2],zipCode:[t?null===(b=null==t?void 0:t.gurantorInfo)||void 0===b?void 0:b.zipCode:""],emailAddress:[t?null===(d=null==t?void 0:t.gurantorInfo)||void 0===d?void 0:d.emailAddress:""],dateOfBirth:[t?null===(u=null==t?void 0:t.gurantorInfo)||void 0===u?void 0:u.dateOfBirth:""]})}getGuarantorDetails(){this.loader.open(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(t=>{this.loader.close(),this.guarantorDetails=t,console.log("this.guarantorDetails::",this.guarantorDetails),this.getStateName(this.guarantorDetails.country),this.getCityName(this.guarantorDetails.state),this.buildGuarantorForm(this.guarantorDetails),this.guarantorDetails.address1=this.loanGuarantorForm.value.building,this.guarantorDetails.address2=this.loanGuarantorForm.value.street},t=>{this.loader.close()})}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t,console.log("data",this.arrayPrefix)})}getCountryName(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCountry=t,console.log("--\x3e",this.arrayCountry)})}getStateName(t){this.entityName="state",console.log("State -- ",t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayState=t,console.log("--\x3e",this.arrayState)})}getCityName(t){this.entityName="city",console.log(t),this.apiService.getDropDownValues1(this.entityName,t).subscribe(t=>{this.arrayCity=t,console.log("--\x3e",this.arrayCity)})}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}goToClose(){this.dialogRef.close(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.guarantorDetails=t,console.log("this.accountDetails",this.guarantorDetails),console.log("form",this.loanGuarantorForm.value)})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,country:this.loanGuarantorForm.value.country,state:this.loanGuarantorForm.value.state,city:this.loanGuarantorForm.value.city,address1:this.loanGuarantorForm.value.building,address2:this.loanGuarantorForm.value.street,zipCode:this.loanGuarantorForm.value.zipCode,mobileNumber:this.loanGuarantorForm.value.mobileNumber};console.log("payload",t),this.apiService.upsertGuarantorDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(p.f),n.Rb(B.a),n.Rb(l.a),n.Rb(f.a),n.Rb(m.a),n.Rb(n.h),n.Rb(b.a),n.Rb(r.b),n.Rb(b.g))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-guarantor-details-update"]],decls:90,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","prefix","formControlName","prefix","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","firstName","formControlName","firstName"],["matInput","","name","lastName","formControlName","lastName"],["fxLayout","row wrap"],["name","country","formControlName","country",3,"selectionChange"],["value",""],["name","state","formControlName","state",3,"selectionChange"],["name","city","formControlName","city"],["matInput","","name","building","formControlName","building"],["matInput","","name","street","formControlName","street"],["matInput","","name","zipCode","formControlName","zipCode","maxlength","6",3,"keypress"],["matInput","","name","dateOfBirth","formControlName","dateOfBirth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerDOB",""],["matInput","","name","emailAddress","formControlName","emailAddress"],["matInput","","name","mobileNumber","formControlName","mobileNumber","maxlength","10",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Guarantor Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Prefix "),n.Wb(),n.Xb(12,"mat-form-field",5),n.Xb(13,"mat-select",6),n.Rc(14,Vd,2,2,"mat-option",7),n.Wb(),n.Wb(),n.Wb(),n.Xb(15,"div",4),n.Xb(16,"mat-label"),n.Tc(17,"First Name "),n.Wb(),n.Xb(18,"mat-form-field",5),n.Sb(19,"input",8),n.Wb(),n.Wb(),n.Xb(20,"div",4),n.Xb(21,"mat-label"),n.Tc(22,"Last Name"),n.Wb(),n.Xb(23,"mat-form-field",5),n.Sb(24,"input",9),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",10),n.Xb(26,"div",4),n.Xb(27,"mat-label"),n.Tc(28,"Country"),n.Wb(),n.Xb(29,"mat-form-field",5),n.Xb(30,"mat-select",11),n.fc("selectionChange",function(t){return e.getStateName(t.value)})("selectionChange",function(t){return e.getCityName(t.value)}),n.Xb(31,"mat-option",12),n.Tc(32,"Select"),n.Wb(),n.Rc(33,Bd,2,2,"mat-option",7),n.Wb(),n.Wb(),n.Wb(),n.Xb(34,"div",4),n.Xb(35,"mat-label"),n.Tc(36,"State"),n.Wb(),n.Xb(37,"mat-form-field",5),n.Xb(38,"mat-select",13),n.fc("selectionChange",function(t){return e.getCityName(t.value)}),n.Xb(39,"mat-option",12),n.Tc(40,"Select"),n.Wb(),n.Rc(41,jd,2,2,"mat-option",7),n.Wb(),n.Wb(),n.Wb(),n.Xb(42,"div",4),n.Xb(43,"mat-label"),n.Tc(44,"City"),n.Wb(),n.Xb(45,"mat-form-field",5),n.Xb(46,"mat-select",14),n.Xb(47,"mat-option",12),n.Tc(48,"Select"),n.Wb(),n.Rc(49,zd,2,2,"mat-option",7),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(50,"div",10),n.Xb(51,"div",4),n.Xb(52,"mat-label"),n.Tc(53,"Building"),n.Wb(),n.Xb(54,"mat-form-field",5),n.Sb(55,"input",15),n.Wb(),n.Wb(),n.Xb(56,"div",4),n.Xb(57,"mat-label"),n.Tc(58,"Street"),n.Wb(),n.Xb(59,"mat-form-field",5),n.Sb(60,"input",16),n.Wb(),n.Wb(),n.Xb(61,"div",4),n.Xb(62,"mat-label"),n.Tc(63,"Zip Code"),n.Wb(),n.Xb(64,"mat-form-field",5),n.Xb(65,"input",17),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(66,"div",10),n.Xb(67,"div",4),n.Xb(68,"mat-label"),n.Tc(69,"Date Of Birth"),n.Wb(),n.Xb(70,"mat-form-field",5),n.Sb(71,"input",18),n.Sb(72,"mat-datepicker-toggle",19),n.Sb(73,"mat-datepicker",null,20),n.Wb(),n.Wb(),n.Xb(75,"div",4),n.Xb(76,"mat-label"),n.Tc(77,"Email Address"),n.Wb(),n.Xb(78,"mat-form-field",5),n.Sb(79,"input",21),n.Wb(),n.Wb(),n.Xb(80,"div",4),n.Xb(81,"mat-label"),n.Tc(82,"Phone Number"),n.Wb(),n.Xb(83,"mat-form-field",5),n.Xb(84,"input",22),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(85,"mat-dialog-actions",23),n.Xb(86,"button",24),n.fc("click",function(){return e.submitForm1()}),n.Tc(87," Update "),n.Wb(),n.Xb(88,"button",24),n.fc("click",function(){return e.goToClose()}),n.Tc(89,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.Dc(74);n.Eb(7),n.rc("formGroup",e.loanGuarantorForm),n.Eb(7),n.rc("ngForOf",e.arrayPrefix),n.Eb(19),n.rc("ngForOf",e.arrayCountry),n.Eb(8),n.rc("ngForOf",e.arrayState),n.Eb(8),n.rc("ngForOf",e.arrayCity),n.Eb(22),n.rc("matDatepicker",t)("max",e.tomorrow),n.Eb(1),n.rc("for",t)}},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,T.a,p.r,p.i,p.y,o.m,y.b,p.c,D.n,p.m,I.e,I.g,W.j,I.d,b.c,C.b],styles:[""]}),t})(),Jd=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=i,this.cdr=n,this.ls=r,this.dialogRef=c,this.snack=s,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildDisbursementForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildDisbursementForm(t){var e,a,o,i,n,r,c,s;console.log("item",t),this.loanDisbursementForm=this.fb.group({loanAccountId:[this.loanaccountID],disbursementMode:[t?null===(e=null==t?void 0:t.disbursementInfo)||void 0===e?void 0:e.disbursementMode:""],totalDisbursement:[t?null===(a=null==t?void 0:t.disbursementInfo)||void 0===a?void 0:a.totalDisbursement:""],numberOfDisbursement:[t?null===(o=null==t?void 0:t.disbursementInfo)||void 0===o?void 0:o.numberOfDisbursement:""],multipleDisbursementRequired:[!t||(null===(i=null==t?void 0:t.disbursementInfo)||void 0===i?void 0:i.multipleDisbursementRequired)],branchCode:[t?null===(n=null==t?void 0:t.disbursementInfo)||void 0===n?void 0:n.branchCode:""],customerAccount:[t?null===(r=null==t?void 0:t.disbursementInfo)||void 0===r?void 0:r.customerAccount:""],loanAmount:[t?null===(c=null==t?void 0:t.disbursementInfo)||void 0===c?void 0:c.loanAmount:""],marginIn:[t?null===(s=null==t?void 0:t.disbursementInfo)||void 0===s?void 0:s.marginIn:""]})}getDisbursementDetails(){this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(t=>{this.disbursementDetails=t,console.log("this.disbursementDetails::",this.disbursementDetails),this.buildDisbursementForm(this.disbursementDetails),this.loanDisbursementForm.value.numberOfDisbursement=this.disbursementDetails.numberOfDisbursement,this.loanDisbursementForm.value.totalDisbursement=this.disbursementDetails.totalDisbursement,this.loanDisbursementForm.value.loanAmount=this.disbursementDetails.loanAmount,this.loanDisbursementForm.value.branchCode=this.disbursementDetails.branchCode,this.loanDisbursementForm.value.customerAccount=this.disbursementDetails.customerAccount,this.loanDisbursementForm.value.marginIn=this.disbursementDetails.marginIn,this.loanDisbursementForm.value.multipleDisbursementRequired=this.disbursementDetails.multipleDisbursementRequired},t=>{this.loader.close()})}goToClose(){this.dialogRef.close(),this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.disbursementDetails=t,console.log("this.accountDetails",this.disbursementDetails),console.log("form",this.loanDisbursementForm.value)})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,disbursementMode:this.loanDisbursementForm.value.disbursementMode,totalDisbursement:this.loanDisbursementForm.value.totalDisbursement,numberOfDisbursement:this.loanDisbursementForm.value.numberOfDisbursement,multipleDisbursementRequired:this.loanDisbursementForm.value.multipleDisbursementRequired,branchCode:this.loanDisbursementForm.value.branchCode,customerAccount:this.loanDisbursementForm.value.customerAccount,loanAmount:this.loanDisbursementForm.value.loanAmount,marginIn:this.loanDisbursementForm.value.marginIn};console.log("payload",t),this.apiService.loanDisbursementSave(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.b),n.Rb(b.a),n.Rb(p.f),n.Rb(B.a),n.Rb(m.a),n.Rb(n.h),n.Rb(l.a),n.Rb(b.g),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-disbursement-details-update"]],decls:63,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["placeholder","Disbursement Mode","formControlName","disbursementMode"],["value",""],["value","mode1"],["value","mode12"],["matInput","","name","numberOfDisbursement","formControlName","numberOfDisbursement","maxlength","6",3,"keypress"],["matInput","","name","totalDisbursement","formControlName","totalDisbursement","maxlength","6",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","loanAmount","formControlName","loanAmount",3,"keypress"],["matInput","","name","branchCode","formControlName","branchCode",3,"keypress"],["matInput","","name","customerAccount","formControlName","customerAccount"],["matInput","","name","multipleDisbursementRequired","formControlName","multipleDisbursementRequired"],["matInput","","name","marginIn","formControlName","marginIn",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Disbursement Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Disbursement Mode "),n.Wb(),n.Xb(12,"mat-form-field",5),n.Xb(13,"mat-select",6),n.Xb(14,"mat-option",7),n.Tc(15,"Select"),n.Wb(),n.Xb(16,"mat-option",8),n.Tc(17,"Auto Disbursement"),n.Wb(),n.Xb(18,"mat-option",9),n.Tc(19,"Manual Disbursement "),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",4),n.Xb(21,"mat-label"),n.Tc(22,"Number of Disbursement"),n.Wb(),n.Xb(23,"mat-form-field",5),n.Xb(24,"input",10),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",4),n.Xb(26,"mat-label"),n.Tc(27,"Total Disbursement"),n.Wb(),n.Xb(28,"mat-form-field",5),n.Xb(29,"input",11),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(30,"div",12),n.Xb(31,"div",4),n.Xb(32,"mat-label"),n.Tc(33,"Loan Amount"),n.Wb(),n.Xb(34,"mat-form-field",5),n.Xb(35,"input",13),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"div",4),n.Xb(37,"mat-label"),n.Tc(38,"Branch Code "),n.Wb(),n.Xb(39,"mat-form-field",5),n.Xb(40,"input",14),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(41,"div",4),n.Xb(42,"mat-label"),n.Tc(43,"Customer Account"),n.Wb(),n.Xb(44,"mat-form-field",5),n.Sb(45,"input",15),n.Wb(),n.Wb(),n.Wb(),n.Xb(46,"div",12),n.Xb(47,"div",4),n.Xb(48,"mat-label"),n.Tc(49,"Multiple Disbursement Required?"),n.Wb(),n.Xb(50,"mat-form-field",5),n.Sb(51,"input",16),n.Wb(),n.Wb(),n.Xb(52,"div",4),n.Xb(53,"mat-label"),n.Tc(54,"Margin In"),n.Wb(),n.Xb(55,"mat-form-field",5),n.Xb(56,"input",17),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Sb(57,"div",4),n.Wb(),n.Wb(),n.Wb(),n.Xb(58,"mat-dialog-actions",18),n.Xb(59,"button",19),n.fc("click",function(){return e.submitForm1()}),n.Tc(60," Update "),n.Wb(),n.Xb(61,"button",19),n.fc("click",function(){return e.goToClose()}),n.Tc(62,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.loanDisbursementForm))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,T.a,p.r,p.i,D.n,y.b,p.c,p.m,b.c,C.b],styles:[""]}),t})();function Kd(t,e){if(1&t&&(n.Xb(0,"mat-option",26),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function $d(t,e){if(1&t&&(n.Xb(0,"mat-option",26),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function Hd(t,e){if(1&t&&(n.Xb(0,"mat-option",26),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}let Yd=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=i,this.cdr=n,this.ls=r,this.dialogRef=c,this.snack=s,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.tomorrow=new Date,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.tomorrow.setDate(this.tomorrow.getDate())}ngOnInit(){this.selectedYear=(new Date).getFullYear();for(let t=0;t<=50;t++)this.years.push(t+" year");for(let t=0;t<=11;t++)this.months.push(t+" month");for(let t=0;t<=30;t++)this.days.push(t+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildRepaymentForm(this.data)}getRepaymenttDetails(){this.loader.open(),this.apiService.loanRepaymentFetchById(this.loanaccountID).subscribe(t=>{this.loader.close(),this.repaymentDetails=t,this.buildRepaymentForm(this.repaymentDetails),this.loanRepaymentForm.value.loanTenure=this.repaymentDetails.loanTenure,this.loanRepaymentForm.value.maturityeDate=this.repaymentDetails.maturityeDate,this.loanRepaymentForm.value.firstRepaymentDate=this.repaymentDetails.firstRepaymentDate,this.loanRepaymentForm.value.moratariumPeriod=this.repaymentDetails.moratariumPeriod,this.loanRepaymentForm.value.branchCode=this.repaymentDetails.branchCode,this.loanRepaymentForm.value.customerAccount=this.repaymentDetails.customerAccount,this.loanRepaymentForm.value.bankName=this.repaymentDetails.bankName,this.loanRepaymentForm.value.typeOfRepayment=this.repaymentDetails.typeOfRepayment,this.loanRepaymentForm.value.repaymentMode=this.repaymentDetails.repaymentMode,this.loanRepaymentForm.value.repaymentFrequency=this.repaymentDetails.repaymentFrequency},t=>{this.loader.close()})}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildRepaymentForm(t){var e,a,o,i,n,r,c,s,l,b,d,u,m;console.log("item",t),this.loanRepaymentForm=this.fb.group({loanAccountId:[this.loanaccountID],disbursementMode:[t?null===(e=null==t?void 0:t.loanRepaymentInfo)||void 0===e?void 0:e.disbursementMode:""],firstRepaymentDate:[t?null===(a=null==t?void 0:t.loanRepaymentInfo)||void 0===a?void 0:a.firstRepaymentDate:""],moraturioumPeriod:[t?null===(o=null==t?void 0:t.loanRepaymentInfo)||void 0===o?void 0:o.moraturioumPeriod:""],typeOfRepayment:[t?null===(i=null==t?void 0:t.loanRepaymentInfo)||void 0===i?void 0:i.typeOfRepayment:""],branchCode:[t?null===(n=null==t?void 0:t.loanRepaymentInfo)||void 0===n?void 0:n.branchCode:""],customerAccount:[t?null===(r=null==t?void 0:t.loanRepaymentInfo)||void 0===r?void 0:r.customerAccount:""],bankName:[t?null===(c=null==t?void 0:t.loanRepaymentInfo)||void 0===c?void 0:c.bankName:""],repaymentMode:[t?null===(s=null==t?void 0:t.loanRepaymentInfo)||void 0===s?void 0:s.repaymentMode:""],repaymentFrequency:[t?null===(l=null==t?void 0:t.loanRepaymentInfo)||void 0===l?void 0:l.repaymentFrequency:""],loanTenure:[t?null===(b=null==t?void 0:t.loanRepaymentInfo)||void 0===b?void 0:b.loanTenure:""],day:[t?Number(null===(d=null==t?void 0:t.loanRepaymentInfo)||void 0===d?void 0:d.loanTenure.split("-")[2]):""],month:[t?null===(u=null==t?void 0:t.info)||void 0===u?void 0:u.loanRepaymentInfo.split("-")[1]:""],year:[t?Number(null===(m=null==t?void 0:t.loanRepaymentInfo)||void 0===m?void 0:m.loanTenure.split("-")[0]):""]})}goToClose(){this.dialogRef.close(),this.apiService.loanRepaymentFetchById(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.repaymentDetails=t,console.log("this.accountDetails",this.repaymentDetails),console.log("form",this.loanRepaymentForm.value)})}submitForm1(){let t=new Date;t=this.loanRepaymentForm.value.firstDisbursementDate,console.log("firstDisbursementDate",this.loanRepaymentForm.value.firstDisbursementDate);var e=h(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);const a=this.loanRepaymentForm.value.year+"-"+this.loanRepaymentForm.value.month+"-"+this.loanRepaymentForm.value.day;this.loanRepaymentForm.get("loanTenure").setValue(a),delete this.loanRepaymentForm.value.year,delete this.loanRepaymentForm.value.month,delete this.loanRepaymentForm.value.day;let o={loanAccountId:this.data.loanAccountId,typeOfRepayment:this.loanRepaymentForm.value.typeOfRepayment,loanTenure:this.loanRepaymentForm.value.loanTenure,maturityeDate:this.loanRepaymentForm.value.maturityeDate,firstRepaymentDate:this.loanRepaymentForm.value.firstRepaymentDate,moratariumPeriod:this.loanRepaymentForm.value.moratariumPeriod,branchCode:this.loanRepaymentForm.value.branchCode,customerAccount:this.loanRepaymentForm.value.customerAccount,bankName:this.loanRepaymentForm.value.bankName,repaymentMode:this.loanRepaymentForm.value.repaymentMode,repaymentFrequency:this.loanRepaymentForm.value.repaymentFrequency};console.log("payload",o),this.apiService.loanRepaymentSave(o).subscribe(t=>{this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.b),n.Rb(b.a),n.Rb(p.f),n.Rb(B.a),n.Rb(m.a),n.Rb(n.h),n.Rb(l.a),n.Rb(b.g),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-repayment-details-update"]],decls:80,vars:7,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","bankName","formControlName","bankName"],["matInput","","name","branchCode","formControlName","branchCode"],["matInput","","name","customerAccount","formControlName","customerAccount"],["fxLayout","row wrap"],["matInput","","name","firstRepaymentDate","formControlName","firstRepaymentDate",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerDOB1",""],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["matInput","","name","moraturioumPeriod","formControlName","moraturioumPeriod","maxlength","6",3,"keypress"],["name","typeOfRepayment","formControlName","typeOfRepayment"],["value","EMI"],["matInput","","name","repaymentMode","formControlName","repaymentMode"],["matInput","","name","repaymentFrequency","formControlName","repaymentFrequency"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Repayment Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Bank Name"),n.Wb(),n.Xb(12,"mat-form-field",5),n.Sb(13,"input",6),n.Wb(),n.Wb(),n.Xb(14,"div",4),n.Xb(15,"mat-label"),n.Tc(16,"Branch Code "),n.Wb(),n.Xb(17,"mat-form-field",5),n.Sb(18,"input",7),n.Wb(),n.Wb(),n.Xb(19,"div",4),n.Xb(20,"mat-label"),n.Tc(21,"Customer Account"),n.Wb(),n.Xb(22,"mat-form-field",5),n.Sb(23,"input",8),n.Wb(),n.Wb(),n.Wb(),n.Xb(24,"div",9),n.Xb(25,"div",4),n.Xb(26,"mat-label"),n.Tc(27,"First Repayment Date"),n.Wb(),n.Xb(28,"mat-form-field",5),n.Sb(29,"input",10),n.Sb(30,"mat-datepicker-toggle",11),n.Sb(31,"mat-datepicker",null,12),n.Wb(),n.Wb(),n.Xb(33,"div",4),n.Xb(34,"mat-label"),n.Tc(35,"Loan Tenure"),n.Wb(),n.Xb(36,"div",13),n.Xb(37,"div",14),n.Xb(38,"div"),n.Xb(39,"mat-form-field",5),n.Xb(40,"mat-select",15),n.Rc(41,Kd,2,2,"mat-option",16),n.Wb(),n.Wb(),n.Wb(),n.Xb(42,"div"),n.Xb(43,"mat-form-field",5),n.Xb(44,"mat-select",17),n.Rc(45,$d,2,2,"mat-option",16),n.Wb(),n.Wb(),n.Wb(),n.Xb(46,"div"),n.Xb(47,"mat-form-field",5),n.Xb(48,"mat-select",18),n.Rc(49,Hd,2,2,"mat-option",16),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(50,"div",4),n.Wb(),n.Xb(51,"div",9),n.Xb(52,"div",4),n.Xb(53,"mat-label"),n.Tc(54,"Moratorium Period"),n.Wb(),n.Xb(55,"mat-form-field",5),n.Xb(56,"input",19),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(57,"div",4),n.Xb(58,"mat-label"),n.Tc(59,"Type Of Repayment "),n.Wb(),n.Xb(60,"mat-form-field",5),n.Xb(61,"mat-select",20),n.Xb(62,"mat-option",21),n.Tc(63,"EMI"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(64,"div",4),n.Xb(65,"mat-label"),n.Tc(66,"Repayment Mode"),n.Wb(),n.Xb(67,"mat-form-field",5),n.Sb(68,"input",22),n.Wb(),n.Wb(),n.Wb(),n.Xb(69,"div",9),n.Xb(70,"div",4),n.Xb(71,"mat-label"),n.Tc(72,"Repayment Frequency"),n.Wb(),n.Xb(73,"mat-form-field",5),n.Sb(74,"input",23),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(75,"mat-dialog-actions",24),n.Xb(76,"button",25),n.fc("click",function(){return e.submitForm1()}),n.Tc(77," Update "),n.Wb(),n.Xb(78,"button",25),n.fc("click",function(){return e.goToClose()}),n.Tc(79,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.Dc(32);n.Eb(7),n.rc("formGroup",e.loanRepaymentForm),n.Eb(22),n.rc("matDatepicker",t)("max",e.tomorrow),n.Eb(1),n.rc("for",t),n.Eb(11),n.rc("ngForOf",e.years),n.Eb(4),n.rc("ngForOf",e.months),n.Eb(4),n.rc("ngForOf",e.days)}},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,I.e,I.g,W.j,I.d,g.f,g.d,T.a,o.m,p.m,D.n,b.c,C.b],styles:[""]}),t})(),Zd=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=i,this.cdr=n,this.ls=r,this.dialogRef=c,this.snack=s,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanCreditForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildLoanCreditForm(t){var e,a,o,i,n,r,c;console.log("item",t),this.loanCreditForm=this.fb.group({loanAccountId:[this.loanaccountID],customerName:[t?null===(e=null==t?void 0:t.loanCreditInfo)||void 0===e?void 0:e.customerName:""],agencyName:[t?null===(o=null===(a=null==t?void 0:t.loanCreditInfo)||void 0===a?void 0:a.agencyRating[0])||void 0===o?void 0:o.agencyName:""],remarks:[t?null===(n=null===(i=null==t?void 0:t.loanCreditInfo)||void 0===i?void 0:i.agencyRating[0])||void 0===n?void 0:n.remarks:""],ratings:[t?null===(c=null===(r=null==t?void 0:t.loanCreditInfo)||void 0===r?void 0:r.agencyRating[0])||void 0===c?void 0:c.ratings:""]})}getLoanCreditDetails(){this.apiService.gettingCreditRatingDetails(this.loanaccountID).subscribe(t=>{this.creditDetails=t,console.log("this.creditDetails::",this.creditDetails),this.buildLoanCreditForm(this.creditDetails),this.loanCreditForm.value.customerName=this.creditDetails.customerName,this.loanCreditForm.value.agencyName=this.creditDetails.agencyRating.agencyName,this.loanCreditForm.value.ratings=this.creditDetails.agencyRating.ratings,this.loanCreditForm.value.remarks=this.creditDetails.agencyRating.remarks},t=>{this.loader.close()})}goToClose(){this.dialogRef.close(),this.apiService.gettingCreditRatingDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.creditDetails=t,console.log("this.accountDetails",this.creditDetails),console.log("form",this.loanCreditForm.value)})}submitForm1(){let t={accountType:"loan",loanAccountId:this.data.loanAccountId,customerName:this.loanCreditForm.value.customerName,agencyName:this.loanCreditForm.value.agencyName,ratings:this.loanCreditForm.value.ratings,remarks:this.loanCreditForm.value.remarks};console.log("payload",t),this.apiService.saveCreditDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.b),n.Rb(b.a),n.Rb(p.f),n.Rb(B.a),n.Rb(m.a),n.Rb(n.h),n.Rb(l.a),n.Rb(b.g),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-credit-details-update"]],decls:37,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","customerName","formControlName","customerName"],["matInput","","name","agencyName","formControlName","agencyName"],["matInput","","name","remarks","formControlName","remarks"],["fxLayout","row wrap"],["matInput","","name","ratings","formControlName","ratings"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Credit Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Customer Name "),n.Wb(),n.Xb(12,"mat-form-field",5),n.Sb(13,"input",6),n.Wb(),n.Wb(),n.Xb(14,"div",4),n.Xb(15,"mat-label"),n.Tc(16,"Agency Name"),n.Wb(),n.Xb(17,"mat-form-field",5),n.Sb(18,"input",7),n.Wb(),n.Wb(),n.Xb(19,"div",4),n.Xb(20,"mat-label"),n.Tc(21,"Remarks"),n.Wb(),n.Xb(22,"mat-form-field",5),n.Sb(23,"input",8),n.Wb(),n.Wb(),n.Wb(),n.Xb(24,"div",9),n.Xb(25,"div",4),n.Xb(26,"mat-label"),n.Tc(27,"Ratings"),n.Wb(),n.Xb(28,"mat-form-field",5),n.Sb(29,"input",10),n.Wb(),n.Wb(),n.Sb(30,"div",4),n.Sb(31,"div",4),n.Wb(),n.Wb(),n.Wb(),n.Xb(32,"mat-dialog-actions",11),n.Xb(33,"button",12),n.fc("click",function(){return e.submitForm1()}),n.Tc(34," Update "),n.Wb(),n.Xb(35,"button",12),n.fc("click",function(){return e.goToClose()}),n.Tc(36,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.loanCreditForm))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,b.c,C.b],styles:[""]}),t})(),Qd=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=i,this.cdr=n,this.ls=r,this.dialogRef=c,this.snack=s,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanValuationForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildLoanValuationForm(t){var e,a,o,i,n,r,c,s,l,b;console.log("item",t),this.loanValuationForm=this.fb.group({loanAccountId:[this.loanaccountID],valuationDate:[t?null===(e=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===e?void 0:e.valuationDate:""],forcedSaleValue:[t?null===(a=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===a?void 0:a.forcedSaleValue:""],propertyAreaSize:[t?null===(o=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===o?void 0:o.propertyAreaSize:""],bankValuation:[t?null===(i=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===i?void 0:i.bankValuation:""],assetType:[t?null===(n=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===n?void 0:n.assetType:""],actualPropertyAreaSize:[t?null===(r=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===r?void 0:r.actualPropertyAreaSize:""],borrowersMktValOfAsset:[t?null===(c=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===c?void 0:c.borrowersMktValOfAsset:""],faceValOfAsset:[t?null===(s=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===s?void 0:s.faceValOfAsset:""],mktValOfAsset:[t?null===(l=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===l?void 0:l.mktValOfAsset:""],propertyAreaInUnits:[t?null===(b=null==t?void 0:t.loanValuationOfAssetInfo)||void 0===b?void 0:b.propertyAreaInUnits:""]})}getLoanCreditDetails(){this.apiService.gettingValuationDetails(this.loanaccountID).subscribe(t=>{this.valuationOfAssetDetails=t,console.log("this.creditDetails::",this.valuationOfAssetDetails),this.buildLoanValuationForm(this.valuationOfAssetDetails),this.loanValuationForm.value.faceValOfAsset=this.valuationOfAssetDetails.faceValOfAsset,this.loanValuationForm.value.forcedSaleValue=this.valuationOfAssetDetails.forcedSaleValue,this.loanValuationForm.value.bankValuation=this.valuationOfAssetDetails.bankValuation,this.loanValuationForm.value.mktValOfAsset=this.valuationOfAssetDetails.mktValOfAsset,this.loanValuationForm.value.borrowersMktValOfAsset=this.valuationOfAssetDetails.borrowersMktValOfAsset,this.loanValuationForm.value.propertyAreaSize=this.valuationOfAssetDetails.propertyAreaSize,this.loanValuationForm.value.propertyAreaInUnits=this.valuationOfAssetDetails.propertyAreaInUnits,this.loanValuationForm.value.assetType=this.valuationOfAssetDetails.assetType,this.loanValuationForm.value.actualPropertyAreaSize=this.valuationOfAssetDetails.actualPropertyAreaSize},t=>{this.loader.close()})}goToClose(){this.dialogRef.close(),this.apiService.gettingValuationDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.valuationOfAssetDetails=t,console.log("this.accountDetails",this.valuationOfAssetDetails),console.log("form",this.loanValuationForm.value)})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,bankValuation:this.loanValuationForm.value.bankValuation,assetType:this.loanValuationForm.value.assetType,propertyAreaSize:this.loanValuationForm.value.propertyAreaSize,actualPropertySizeArea:this.loanValuationForm.value.actualPropertySizeArea,borrowersMktValOfAsset:this.loanValuationForm.value.borrowersMktValOfAsset,faceValOfAsset:this.loanValuationForm.value.faceValOfAsset,mktValOfAsset:this.loanValuationForm.value.mktValOfAsset,propertyAreaInSize:this.loanValuationForm.value.propertyAreaInSize,propertyAreaInUnits:this.loanValuationForm.value.propertyAreaInUnits,valuationDate:this.loanValuationForm.value.valuationDate,forcedSaleValue:this.loanValuationForm.value.forcedSaleValue,actualPropertyAreaSize:this.loanValuationForm.value.actualPropertyAreaSize};console.log("payload",t),this.apiService.saveValuationDetails(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.b),n.Rb(b.a),n.Rb(p.f),n.Rb(B.a),n.Rb(m.a),n.Rb(n.h),n.Rb(l.a),n.Rb(b.g),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-valuation-of-asset-update"]],decls:69,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","bankValuation","formControlName","bankValuation"],["matInput","","name","assetType","formControlName","assetType"],["matInput","","name","propertyAreaSize","formControlName","propertyAreaSize",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","actualPropertyAreaSize","formControlName","actualPropertyAreaSize",3,"keypress"],["matInput","","name","borrowersMktValOfAsset","formControlName","borrowersMktValOfAsset",3,"keypress"],["matInput","","name","faceValOfAsset","formControlName","faceValOfAsset",3,"keypress"],["matInput","","name","mktValOfAsset","formControlName","mktValOfAsset",3,"keypress"],["matInput","","name","propertyAreaInUnits","formControlName","propertyAreaInUnits",3,"keypress"],["matInput","","name","valuationDate","formControlName","valuationDate"],["matInput","","name","forcedSaleValue","formControlName","forcedSaleValue",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Credit Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Bank Valuation "),n.Wb(),n.Xb(12,"mat-form-field",5),n.Sb(13,"input",6),n.Wb(),n.Wb(),n.Xb(14,"div",4),n.Xb(15,"mat-label"),n.Tc(16,"Asset Type"),n.Wb(),n.Xb(17,"mat-form-field",5),n.Sb(18,"input",7),n.Wb(),n.Wb(),n.Xb(19,"div",4),n.Xb(20,"mat-label"),n.Tc(21,"Property Size Area"),n.Wb(),n.Xb(22,"mat-form-field",5),n.Xb(23,"input",8),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(24,"div",9),n.Xb(25,"div",4),n.Xb(26,"mat-label"),n.Tc(27,"Actual Property Size Area"),n.Wb(),n.Xb(28,"mat-form-field",5),n.Xb(29,"input",10),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(30,"div",4),n.Xb(31,"mat-label"),n.Tc(32,"Borrower's Market Value "),n.Wb(),n.Xb(33,"mat-form-field",5),n.Xb(34,"input",11),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(35,"div",4),n.Xb(36,"mat-label"),n.Tc(37,"Face Value Of Asset"),n.Wb(),n.Xb(38,"mat-form-field",5),n.Xb(39,"input",12),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(40,"div",9),n.Xb(41,"div",4),n.Xb(42,"mat-label"),n.Tc(43,"Market Value of Asset"),n.Wb(),n.Xb(44,"mat-form-field",5),n.Xb(45,"input",13),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(46,"div",4),n.Xb(47,"mat-label"),n.Tc(48,"Property Area In Units "),n.Wb(),n.Xb(49,"mat-form-field",5),n.Xb(50,"input",14),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(51,"div",4),n.Xb(52,"mat-label"),n.Tc(53,"Valuation Date"),n.Wb(),n.Xb(54,"mat-form-field",5),n.Sb(55,"input",15),n.Wb(),n.Wb(),n.Wb(),n.Xb(56,"div",9),n.Xb(57,"div",4),n.Xb(58,"mat-label"),n.Tc(59,"Forced Sale Value"),n.Wb(),n.Xb(60,"mat-form-field",5),n.Xb(61,"input",16),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Sb(62,"div",4),n.Sb(63,"div",4),n.Wb(),n.Wb(),n.Wb(),n.Xb(64,"mat-dialog-actions",17),n.Xb(65,"button",18),n.fc("click",function(){return e.submitForm1()}),n.Tc(66," Update "),n.Wb(),n.Xb(67,"button",18),n.fc("click",function(){return e.goToClose()}),n.Tc(68,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.loanValuationForm))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,b.c,C.b],styles:[""]}),t})(),tu=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=i,this.cdr=n,this.ls=r,this.dialogRef=c,this.snack=s,this.showEditOption=!1,this.isChecked=!0,this.disabled=!0,this.disabledToggle=!0,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLegalOpinionForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildLegalOpinionForm(t){var e,a,o,i,n,r,c,s;console.log("item",t),this.loanLegalForm=this.fb.group({loanAccountId:[this.loanaccountID],opinion:[t?null===(e=null==t?void 0:t.loanLegalInfo)||void 0===e?void 0:e.opinion:""],lawyerName:[t?null===(a=null==t?void 0:t.loanLegalInfo)||void 0===a?void 0:a.lawyerName:""],isDecisionFavorable:[t?null===(o=null==t?void 0:t.loanLegalInfo)||void 0===o?void 0:o.isDecisionFavorable:""],mktValOfAsset:[t?null===(i=null==t?void 0:t.loanLegalInfo)||void 0===i?void 0:i.mktValOfAsset:""],opinionDate:[t?null===(n=null==t?void 0:t.loanLegalInfo)||void 0===n?void 0:n.opinionDate:""],validationDate:[t?null===(r=null==t?void 0:t.loanLegalInfo)||void 0===r?void 0:r.validationDate:""],description:[t?null===(c=null==t?void 0:t.loanLegalInfo)||void 0===c?void 0:c.description:""],assetAreaSize:[t?null===(s=null==t?void 0:t.loanLegalInfo)||void 0===s?void 0:s.assetAreaSize:""]})}gettingLegalOpinionDetail(){this.loader.open(),this.apiService.gettingLegalOpinionDetails(this.loanaccountID).subscribe(t=>{this.loader.close(),console.log(t),this.buildLegalOpinionForm(t)},t=>{this.loader.close()})}toggle(t){console.log("value",t),"Not Favourable"==t?(this.disabled=!1,this.isChecked=!1,this.disabledToggle=!1):"Favourable"==t?(this.disabled=!0,this.isChecked=!0,this.disabledToggle=!0):this.isChecked=!1}getDisbursementDetails(){this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(t=>{this.legalDetails=t,console.log("this.legalDetails::",this.legalDetails),this.buildLegalOpinionForm(this.legalDetails),this.loanLegalForm.value.opinion=this.legalDetails.opinion,this.loanLegalForm.value.opinionDate=this.legalDetails.opinionDate,this.loanLegalForm.value.validationDate=this.legalDetails.validationDate,this.loanLegalForm.value.mktValOfAsset=this.legalDetails.mktValOfAsset,this.loanLegalForm.value.lawyerName=this.legalDetails.lawyerName,this.loanLegalForm.value.description=this.legalDetails.description,this.loanLegalForm.value.isDecisionFavorable=this.legalDetails.isDecisionFavorable,this.loanLegalForm.value.assetAreaSize=this.legalDetails.assetAreaSize},t=>{this.loader.close()})}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}goToClose(){this.dialogRef.close(),this.apiService.gettingLegalOpinionDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.legalDetails=t,console.log("this.accountDetails",this.legalDetails),console.log("form",this.loanLegalForm.value)})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,description:this.loanLegalForm.value.description,mktValOfAsset:this.loanLegalForm.value.mktValOfAsset,opinion:this.loanLegalForm.value.opinion,opinionDate:this.loanLegalForm.value.opinionDate,valuationDate:this.loanLegalForm.value.valuationDate,lawyerName:this.loanLegalForm.value.lawyerName,isDecisionFavorable:this.loanLegalForm.value.isDecisionFavorable,assetAreaSize:this.loanLegalForm.value.assetAreaSize};console.log("payload",t),this.apiService.saveLegalOpinion(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.b),n.Rb(b.a),n.Rb(p.f),n.Rb(B.a),n.Rb(m.a),n.Rb(n.h),n.Rb(l.a),n.Rb(b.g),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-legal-opinion-updates"]],decls:61,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["name","opinion","formControlName","opinion"],["value","Favorable"],["value","Non Favorable"],["matInput","","name","description","formControlName","description"],["matInput","","name","assetAreaSize","formControlName","assetAreaSize",3,"keypress"],["fxLayout","row wrap"],["matInput","","name","lawyerName","formControlName","lawyerName"],["matInput","","name","mktValOfAsset","formControlName","mktValOfAsset",3,"keypress"],["matInput","","name","opinionDate","formControlName","opinionDate"],["matInput","","name","valuationDate","formControlName","isDecisionFavorable"],["matInput","","name","valuationDate","formControlName","valuationDate",3,"keypress"],["align","end"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Legal Opinion Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Opinion "),n.Wb(),n.Xb(12,"mat-form-field",5),n.Xb(13,"mat-select",6),n.Xb(14,"mat-option",7),n.Tc(15,"Favorable"),n.Wb(),n.Xb(16,"mat-option",8),n.Tc(17,"Non Favorable "),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"div",4),n.Xb(19,"mat-label"),n.Tc(20,"Description"),n.Wb(),n.Xb(21,"mat-form-field",5),n.Sb(22,"input",9),n.Wb(),n.Wb(),n.Xb(23,"div",4),n.Xb(24,"mat-label"),n.Tc(25,"Asset Area Size"),n.Wb(),n.Xb(26,"mat-form-field",5),n.Xb(27,"input",10),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(28,"div",11),n.Xb(29,"div",4),n.Xb(30,"mat-label"),n.Tc(31,"Lawyer Name"),n.Wb(),n.Xb(32,"mat-form-field",5),n.Sb(33,"input",12),n.Wb(),n.Wb(),n.Xb(34,"div",4),n.Xb(35,"mat-label"),n.Tc(36,"Market Value of Asset "),n.Wb(),n.Xb(37,"mat-form-field",5),n.Xb(38,"input",13),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(39,"div",4),n.Xb(40,"mat-label"),n.Tc(41,"Opinion Date"),n.Wb(),n.Xb(42,"mat-form-field",5),n.Sb(43,"input",14),n.Wb(),n.Wb(),n.Wb(),n.Xb(44,"div",11),n.Xb(45,"div",4),n.Xb(46,"mat-label"),n.Tc(47,"is Decision Favorable?"),n.Wb(),n.Xb(48,"mat-form-field",5),n.Sb(49,"input",15),n.Wb(),n.Wb(),n.Xb(50,"div",4),n.Xb(51,"mat-label"),n.Tc(52,"Valuation Date"),n.Wb(),n.Xb(53,"mat-form-field",5),n.Xb(54,"input",16),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Sb(55,"div",4),n.Wb(),n.Wb(),n.Wb(),n.Xb(56,"mat-dialog-actions",17),n.Xb(57,"button",18),n.fc("click",function(){return e.submitForm1()}),n.Tc(58," Update "),n.Wb(),n.Xb(59,"button",18),n.fc("click",function(){return e.goToClose()}),n.Tc(60,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.loanLegalForm))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,T.a,p.r,p.i,D.n,y.b,p.c,b.c,C.b],styles:[""]}),t})();function eu(t,e){if(1&t&&(n.Xb(0,"mat-option",21),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function au(t,e){if(1&t&&(n.Xb(0,"mat-option",21),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function ou(t,e){if(1&t&&(n.Xb(0,"mat-option",21),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function iu(t,e){if(1&t&&(n.Xb(0,"mat-option",21),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function nu(t,e){if(1&t&&(n.Xb(0,"mat-option",21),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}let ru=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.loader=t,this.apiService=e,this.data=a,this.fb=o,this.ls=i,this.dialogRef=n,this.snack=r,this.taskSumService=c,this.cdr=s,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.selectedYear=(new Date).getFullYear();for(let t=0;t<=50;t++)this.years.push(t+" year");for(let t=0;t<=11;t++)this.months.push(t+" month");for(let t=0;t<=30;t++)this.days.push(t+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildDisbursementForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildDisbursementForm(t){var e,a,o,i,n,r,c,s,l,b;console.log("item",t),this.loanAssessmentUpdate=this.fb.group({loanAccountId:[this.loanaccountID],loanAmountRecommendation:[t?null===(e=null==t?void 0:t.loanAssessmentInfo)||void 0===e?void 0:e.loanAmountRecommendation:""],approvedLoanAmount:[t?null===(a=null==t?void 0:t.loanAssessmentInfo)||void 0===a?void 0:a.approvedLoanAmount:""],systemRecommendation:[t?null===(o=null==t?void 0:t.loanAssessmentInfo)||void 0===o?void 0:o.systemRecommendation:""],userRecommendation:[t?null===(i=null==t?void 0:t.loanAssessmentInfo)||void 0===i?void 0:i.userRecommendation:""],rateOfInterest:[t?null===(n=null==t?void 0:t.loanAssessmentInfo)||void 0===n?void 0:n.rateOfInterest:""],requestedLoanAmount:[t?null===(r=null==t?void 0:t.loanAssessmentInfo)||void 0===r?void 0:r.requestedLoanAmount:""],loanTenure:[t?null===(c=null==t?void 0:t.loanAssessmentInfo)||void 0===c?void 0:c.loanTenure:""],day:[t?null===(s=null==t?void 0:t.loanAssessmentInfo)||void 0===s?void 0:s.loanTenure.split("-")[2]:""],month:[t?null===(l=null==t?void 0:t.loanAssessmentInfo)||void 0===l?void 0:l.loanTenure.split("-")[1]:""],year:[t?null===(b=null==t?void 0:t.loanAssessmentInfo)||void 0===b?void 0:b.loanTenure.split("-")[0]:""]})}getDisbursementDetails(){this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(t=>{this.assessmentDetails=t,console.log("this.assessmentDetails::",this.assessmentDetails),this.buildDisbursementForm(this.disbursementDetails),this.loanAssessmentUpdate.value.requestedLoanAmount=this.assessmentDetails.requestedLoanAmount,this.loanAssessmentUpdate.value.rateOfInterest=this.assessmentDetails.rateOfInterest,this.loanAssessmentUpdate.value.userRecommendation=this.assessmentDetails.userRecommendation,this.loanAssessmentUpdate.value.systemRecommendation=this.assessmentDetails.systemRecommendation,this.loanAssessmentUpdate.value.loanTenure=this.assessmentDetails.loanTenure,this.loanAssessmentUpdate.value.approvedLoanAmount=this.assessmentDetails.approvedLoanAmount,this.loanAssessmentUpdate.value.loanAmountRecommendation=this.assessmentDetails.loanAmountRecommendation},t=>{this.loader.close()})}goToClose(){this.dialogRef.close(),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.assessmentDetails=t,console.log("this.assessmentDetails",this.assessmentDetails),console.log("form",this.loanAssessmentUpdate.value)})}submitForm1(){const t=this.loanAssessmentUpdate.value.year+"-"+this.loanAssessmentUpdate.value.month+"-"+this.loanAssessmentUpdate.value.day;this.loanAssessmentUpdate.get("loanTenure").setValue(t),delete this.loanAssessmentUpdate.value.year,delete this.loanAssessmentUpdate.value.month,delete this.loanAssessmentUpdate.value.day;let e={loanAccountId:this.data.loanAccountId,rateOfInterest:this.loanAssessmentUpdate.value.rateOfInterest,requestedLoanAmount:this.loanAssessmentUpdate.value.requestedLoanAmount,loanTenure:this.loanAssessmentUpdate.value.loanTenure,userRecommendation:this.loanAssessmentUpdate.value.userRecommendation,systemRecommendation:this.loanAssessmentUpdate.value.systemRecommendation,approvedLoanAmount:this.loanAssessmentUpdate.value.approvedLoanAmount,loanAmountRecommendation:this.loanAssessmentUpdate.value.loanAmountRecommendation};console.log("payload",e),this.apiService.updateAssessmentDetails(e).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(B.a),n.Rb(r.b),n.Rb(b.a),n.Rb(p.f),n.Rb(l.a),n.Rb(b.g),n.Rb(f.a),n.Rb(m.a),n.Rb(n.h))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-assessment-details-update"]],decls:67,vars:6,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","approvedLoanAmount","formControlName","approvedLoanAmount",3,"keypress"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["fxLayout","row wrap"],["formControlName","systemRecommendation","placeholder","Recommended for Approval"],["formControlName","userRecommendation","placeholder","User Recommendation"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",3,"keypress"],["matInput","","name","requestedLoanAmount","formControlName","requestedLoanAmount",1,"alignment",3,"keypress"],["matInput","","name","loanAmountRecommendation","formControlName","loanAmountRecommendation",1,"alignment",3,"keypress"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Assessment Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Approved Loan Amount "),n.Wb(),n.Xb(12,"mat-form-field",5),n.Xb(13,"input",6),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(14,"div",4),n.Xb(15,"mat-label"),n.Tc(16,"Loan Tenure"),n.Wb(),n.Xb(17,"div",7),n.Xb(18,"div",8),n.Xb(19,"div"),n.Xb(20,"mat-form-field",5),n.Xb(21,"mat-select",9),n.Rc(22,eu,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Xb(23,"div"),n.Xb(24,"mat-form-field",5),n.Xb(25,"mat-select",11),n.Rc(26,au,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Xb(27,"div"),n.Xb(28,"mat-form-field",5),n.Xb(29,"mat-select",12),n.Rc(30,ou,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(31,"div",4),n.Wb(),n.Xb(32,"div",13),n.Xb(33,"div",4),n.Xb(34,"mat-label"),n.Tc(35,"System Recommendation "),n.Wb(),n.Xb(36,"mat-form-field",5),n.Xb(37,"mat-select",14),n.Rc(38,iu,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Xb(39,"div",4),n.Xb(40,"mat-label"),n.Tc(41,"User Recommendation"),n.Wb(),n.Xb(42,"mat-form-field",5),n.Xb(43,"mat-select",15),n.Rc(44,nu,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Xb(45,"div",4),n.Xb(46,"mat-label"),n.Tc(47,"Rate Of Interest"),n.Wb(),n.Xb(48,"mat-form-field",5),n.Xb(49,"input",16),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(50,"div",13),n.Xb(51,"div",4),n.Xb(52,"mat-label"),n.Tc(53,"Requested Loan Amount"),n.Wb(),n.Xb(54,"mat-form-field",5),n.Xb(55,"input",17),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(56,"div",4),n.Xb(57,"mat-label"),n.Tc(58,"Loan Amount Recommended"),n.Wb(),n.Xb(59,"mat-form-field",5),n.Xb(60,"input",18),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Sb(61,"div",4),n.Wb(),n.Wb(),n.Wb(),n.Xb(62,"mat-dialog-actions",19),n.Xb(63,"button",20),n.fc("click",function(){return e.submitForm1()}),n.Tc(64," Update "),n.Wb(),n.Xb(65,"button",20),n.fc("click",function(){return e.goToClose()}),n.Tc(66,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.loanAssessmentUpdate),n.Eb(15),n.rc("ngForOf",e.years),n.Eb(4),n.rc("ngForOf",e.months),n.Eb(4),n.rc("ngForOf",e.days),n.Eb(8),n.rc("ngForOf",e.arraySystemRecommendation),n.Eb(6),n.rc("ngForOf",e.arrayUserRecommendation))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,g.f,g.d,T.a,o.m,b.c,C.b,D.n],styles:[""]}),t})(),cu=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.apiService=t,this.data=e,this.fb=a,this.loader=o,this.taskSumService=i,this.cdr=n,this.ls=r,this.dialogRef=c,this.snack=s,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.buildLoanOfferIssueForm(this.data)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}buildLoanOfferIssueForm(t){var e,a,o,i,n,r,c,s,l,b;console.log("item",t),this.loanOfferIssueForm=this.fb.group({loanAccountId:[this.loanaccountID],applicantName:[t?null===(e=null==t?void 0:t.loanOfferIssueInfo)||void 0===e?void 0:e.applicantName:""],interest:[t?null===(a=null==t?void 0:t.loanOfferIssueInfo)||void 0===a?void 0:a.interest:""],rateOfInterest:[t?null===(o=null==t?void 0:t.loanOfferIssueInfo)||void 0===o?void 0:o.rateOfInterest:""],principal:[t?null===(i=null==t?void 0:t.loanOfferIssueInfo)||void 0===i?void 0:i.principal:""],installmentType:[t?null===(n=null==t?void 0:t.loanOfferIssueInfo)||void 0===n?void 0:n.installmentType:""],installmentFrequency:[t?null===(r=null==t?void 0:t.loanOfferIssueInfo)||void 0===r?void 0:r.installmentFrequency:""],approvedLoanAmount:[t?null===(c=null==t?void 0:t.loanOfferIssueInfo)||void 0===c?void 0:c.approvedLoanAmount:""],generateOffer:[t?null===(s=null==t?void 0:t.loanOfferIssueInfo)||void 0===s?void 0:s.generateOffer:""],charges:[t?null===(l=null==t?void 0:t.loanOfferIssueInfo)||void 0===l?void 0:l.charges:""],loanTenure:[t?null===(b=null==t?void 0:t.loanOfferIssueInfo)||void 0===b?void 0:b.loanTenure:""]})}getLoanOfferIssue(){this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(t=>{this.offerIssueDetails=t,console.log("this.offerIssueDetails::",this.offerIssueDetails),this.buildLoanOfferIssueForm(this.offerIssueDetails),this.loanOfferIssueForm.value.applicantName=this.offerIssueDetails.applicantName,this.loanOfferIssueForm.value.rateOfInterest=this.offerIssueDetails.rateOfInterest,this.loanOfferIssueForm.value.installmentType=this.offerIssueDetails.installmentType,this.loanOfferIssueForm.value.installmentFrequency=this.offerIssueDetails.installmentFrequency,this.loanOfferIssueForm.value.generateOffer=this.offerIssueDetails.generateOffer,this.loanOfferIssueForm.value.charges=this.offerIssueDetails.charges,this.loanOfferIssueForm.value.loanTenure=this.offerIssueDetails.loanTenure,this.loanOfferIssueForm.value.principal=this.offerIssueDetails.principal,this.loanOfferIssueForm.value.interest=this.offerIssueDetails.interest,this.loanOfferIssueForm.value.offerIssueDate=this.offerIssueDetails.offerIssueDate,this.loanOfferIssueForm.value.approvedLoanAmount=this.offerIssueDetails.approvedLoanAmount},t=>{this.loader.close()})}goToClose(){this.dialogRef.close(),this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.offerIssueDetails=t,console.log("this.accountDetails",this.offerIssueDetails),console.log("form",this.loanOfferIssueForm.value)})}submitForm1(){let t={loanAccountId:this.data.loanAccountId,applicantName:this.loanOfferIssueForm.value.applicantName,charges:this.loanOfferIssueForm.value.charges,rateOfInterest:this.loanOfferIssueForm.value.rateOfInterest,installmentType:this.loanOfferIssueForm.value.installmentType,installmentFrequency:this.loanOfferIssueForm.value.installmentFrequency,generateOffer:this.loanOfferIssueForm.value.generateOffer,loanTenure:this.loanOfferIssueForm.value.loanTenure,approvedLoanAmount:this.loanOfferIssueForm.value.approvedLoanAmount,principal:this.loanOfferIssueForm.value.principal,interest:this.loanOfferIssueForm.value.interest,offerIssueDate:this.loanOfferIssueForm.value.offerIssueDate};console.log("payload",t),this.apiService.upsertOfferIssue(t).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(r.b),n.Rb(b.a),n.Rb(p.f),n.Rb(B.a),n.Rb(m.a),n.Rb(n.h),n.Rb(l.a),n.Rb(b.g),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-offer-issue-details-update"]],decls:81,vars:3,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],["matInput","","name","approvedLoanAmount","formControlName","approvedLoanAmount","maxlength","6",3,"keypress"],["matInput","","name","charges","formControlName","charges","maxlength","6",3,"keypress"],["fxLayout","row wrap"],["placeholder","Generate Offer","formControlName","generateOffer"],["value",""],["value","With Schedule"],["value","Without Schedule"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",3,"keypress"],["matInput","","name","installmentFrequency","formControlName","installmentFrequency",3,"keypress"],["matInput","","name","installmentType","formControlName","installmentType",3,"keypress"],["matInput","","name","interest","formControlName","interest",3,"keypress"],["matInput","","name","loanTenure","formControlName","loanTenure","maxlength","10",3,"keypress"],["matInput","","name","principal","formControlName","principal","maxlength","10",3,"keypress"],["matInput","","name","offerIssueDate","formControlName","offerIssueDate",3,"matDatepicker"],["matSuffix","",3,"for"],["pickerDOB",""],["align","end"],["mat-button","",3,"click"]],template:function(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Offer Issue Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Applicant Name "),n.Wb(),n.Xb(12,"mat-form-field",5),n.Sb(13,"input",6),n.Wb(),n.Wb(),n.Xb(14,"div",4),n.Xb(15,"mat-label"),n.Tc(16,"Approved Loan Amount"),n.Wb(),n.Xb(17,"mat-form-field",5),n.Xb(18,"input",7),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"div",4),n.Xb(20,"mat-label"),n.Tc(21,"Charges"),n.Wb(),n.Xb(22,"mat-form-field",5),n.Xb(23,"input",8),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(24,"div",9),n.Xb(25,"div",4),n.Xb(26,"mat-label"),n.Tc(27,"Generate Offer"),n.Wb(),n.Xb(28,"mat-form-field",5),n.Xb(29,"mat-select",10),n.Xb(30,"mat-option",11),n.Tc(31,"Select"),n.Wb(),n.Xb(32,"mat-option",12),n.Tc(33,"With Schedule"),n.Wb(),n.Xb(34,"mat-option",13),n.Tc(35,"Without Schedule "),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"div",4),n.Xb(37,"mat-label"),n.Tc(38,"Rate Of Interest "),n.Wb(),n.Xb(39,"mat-form-field",5),n.Xb(40,"input",14),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(41,"div",4),n.Xb(42,"mat-label"),n.Tc(43,"Installment frequency"),n.Wb(),n.Xb(44,"mat-form-field",5),n.Xb(45,"input",15),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(46,"div",9),n.Xb(47,"div",4),n.Xb(48,"mat-label"),n.Tc(49,"Installment Type"),n.Wb(),n.Xb(50,"mat-form-field",5),n.Xb(51,"input",16),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(52,"div",4),n.Xb(53,"mat-label"),n.Tc(54,"Interest"),n.Wb(),n.Xb(55,"mat-form-field",5),n.Xb(56,"input",17),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(57,"div",4),n.Xb(58,"mat-label"),n.Tc(59,"Loan Tenure"),n.Wb(),n.Xb(60,"mat-form-field",5),n.Xb(61,"input",18),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(62,"div",9),n.Xb(63,"div",4),n.Xb(64,"mat-label"),n.Tc(65,"Principal"),n.Wb(),n.Xb(66,"mat-form-field",5),n.Xb(67,"input",19),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(68,"div",4),n.Xb(69,"mat-label"),n.Tc(70,"Offer Issue Date"),n.Wb(),n.Xb(71,"mat-form-field",5),n.Sb(72,"input",20),n.Sb(73,"mat-datepicker-toggle",21),n.Sb(74,"mat-datepicker",null,22),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(76,"mat-dialog-actions",23),n.Xb(77,"button",24),n.fc("click",function(){return e.submitForm1()}),n.Tc(78," Update "),n.Wb(),n.Xb(79,"button",24),n.fc("click",function(){return e.goToClose()}),n.Tc(80,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.Dc(75);n.Eb(7),n.rc("formGroup",e.loanOfferIssueForm),n.Eb(65),n.rc("matDatepicker",t),n.Eb(1),n.rc("for",t)}},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,p.m,T.a,D.n,I.e,I.g,W.j,I.d,b.c,C.b],styles:[""]}),t})();function su(t,e){if(1&t&&(n.Xb(0,"mat-option",24),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function lu(t,e){if(1&t&&(n.Xb(0,"mat-option",24),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function bu(t,e){if(1&t&&(n.Xb(0,"mat-option",24),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Uc(t)}}function du(t,e){if(1&t&&(n.Xb(0,"mat-option",24),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t.branchName),n.Eb(1),n.Uc(t.branchName)}}function uu(t,e){if(1&t&&(n.Xb(0,"mat-option",24),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}function mu(t,e){if(1&t&&(n.Xb(0,"mat-option",24),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.rc("value",t),n.Eb(1),n.Vc(" ",t," ")}}let pu=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s){this.loader=t,this.apiService=e,this.data=a,this.fb=o,this.ls=i,this.dialogRef=n,this.cdr=r,this.taskSumService=c,this.snack=s,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0}ngOnInit(){this.loanaccountID=this.data.loanAccountId,this.buildLoanApprovalForm(this.data),this.getLoanDetails(),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.selectedYear=(new Date).getFullYear();for(let t=0;t<=50;t++)this.years.push(t+" year");for(let t=0;t<=11;t++)this.months.push(t+" month");for(let t=0;t<=30;t++)this.days.push(t+" day");this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID)}assign(t){this.apiService.setAccountId({loanAccountId:t}),console.log("loan",this.loanAccountId)}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}getDataOnLoad(){return t=this,void 0,a=function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])},new((e=void 0)||(e=Promise))(function(o,i){function n(t){try{c(a.next(t))}catch(e){i(e)}}function r(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,r)}c((a=a.apply(t,[])).next())});var t,e,a}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"ONGOING"==t&&(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements),this.cdr.markForCheck()}buildLoanApprovalForm(t){var e,a,o,i,n,r,c,s,l,b,d,u,m;console.log("item",t),this.getBusinessProductDetails("business_product_name"),this.getAccountBranchDetails(),this.loanApprovalForm=this.fb.group({loanAccountId:[this.loanaccountID],productName:[t?null===(e=null==t?void 0:t.loanApprovalInfo)||void 0===e?void 0:e.productName:""],accountBranch:[t?null===(a=null==t?void 0:t.loanApprovalInfo)||void 0===a?void 0:a.accountBranch:""],accountType:[t?null===(o=null==t?void 0:t.loanApprovalInfo)||void 0===o?void 0:o.accountType:""],applicantName:[t?null===(i=null==t?void 0:t.loanApprovalInfo)||void 0===i?void 0:i.applicantName:""],approvedLoanAccount:[t?null===(n=null==t?void 0:t.loanApprovalInfo)||void 0===n?void 0:n.approvedLoanAccount:""],userRecommendation:[t?null===(r=null==t?void 0:t.loanApprovalInfo)||void 0===r?void 0:r.userRecommendation:""],rateOfInterest:[t?null===(c=null==t?void 0:t.loanApprovalInfo)||void 0===c?void 0:c.rateOfInterest:""],margin:[t?null===(s=null==t?void 0:t.loanApprovalInfo)||void 0===s?void 0:s.margin:""],loanTenure:[t?null===(l=null==t?void 0:t.loanApprovalInfo)||void 0===l?void 0:l.loanTenure:""],effectiveRate:[t?null===(b=null==t?void 0:t.loanApprovalInfo)||void 0===b?void 0:b.effectiveRate:""],day:[t?null===(d=null==t?void 0:t.loanApprovalInfo)||void 0===d?void 0:d.loanTenure.split("-")[2]:""],month:[t?null===(u=null==t?void 0:t.loanApprovalInfo)||void 0===u?void 0:u.loanTenure.split("-")[1]:""],year:[t?null===(m=null==t?void 0:t.loanApprovalInfo)||void 0===m?void 0:m.loanTenure.split("-")[0]:""]})}getAccountType(t){console.log("State -- ",t),this.apiService.getAccount(t).subscribe(t=>{console.log("data.accountType",t),this.accountType=t.accountTypeName,console.log("this.accountType",this.accountType),this.loanApprovalForm.get("accountType").setValue(t.accountTypeName)})}getBusinessProductDetails(t){this.apiService.getBusinessProductName(t).subscribe(t=>{console.log("data:: AccountBranch ",t),this.arrayAccountBranch=t})}getAccountBranchDetails(){this.apiService.getAccountBranch().subscribe(t=>{console.log("data:: AccountBranch ",t),this.screenArray=t,this.screenArrayData=t,0==this.screenArray.length&&this.screenArray.push(this.branchName),console.log("this.branchName::",this.branchName,this.screenArray),this.currencyData=this.screenArray.find(t=>t.branchName==this.branchName),console.log("Currency",this.currencyData)})}onChangeBranch(t){this.currencyData=this.screenArray.find(e=>e.branchName==t.value),null==this.currencyData&&null==this.currencyData||this.loanApprovalForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}submitForm1(){const t=this.loanApprovalForm.value.year+"-"+this.loanApprovalForm.value.month+"-"+this.loanApprovalForm.value.day;this.loanApprovalForm.get("loanTenure").setValue(t),delete this.loanApprovalForm.value.year,delete this.loanApprovalForm.value.month,delete this.loanApprovalForm.value.day;let e={loanAccountId:this.data.loanAccountId,productName:this.loanApprovalForm.value.productName,accountBranch:this.loanApprovalForm.value.accountBranch,accountType:this.loanApprovalForm.value.accountType,applicantName:this.loanApprovalForm.value.applicantName,margin:this.loanApprovalForm.value.margin,rateOfInterest:this.loanApprovalForm.value.rateOfInterest,userRecommendation:this.loanApprovalForm.value.userRecommendation,effectiveRate:this.loanApprovalForm.value.effectiveRate,loanTenure:this.loanApprovalForm.value.loanTenure,accountCurrency:this.loanApprovalForm.value.accountCurrency,approvedLoanAccount:this.loanApprovalForm.value.approvedLoanAccount};console.log("payload",e),this.apiService.saveLoanDetails(e).subscribe(t=>{console.log("data",t.loanAccountId),this.loanaccountID=this.data.loanAccountId,console.log("loanaccountID",this.loanaccountID),this.assign(this.data.loanAccountId),(200===t||null!==t)&&(this.apiService.updateLoanDetailsStatus({loanAccountId:this.data.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.ls.setItem("fundByStatus",{loanAccountid:this.data.loanAccountId}),this.ls.setItem("accountType",t.accountType),this.ls.setItem("productName",t.productName),this.loanaccountID=this.data.loanAccountId,console.log("this.productaccountID",this.loanaccountID),this.snack.open("Data Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getDataOnLoad()),500===t&&(this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log("500 error")),this.goToClose()})}getLoanDetails(){console.log("get loan details"),this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.buildLoanApprovalForm(this.loanAccountDetails),this.loanAccountDetails=t,console.log("this.accountDetails",this.loanAccountDetails),console.log("form",this.loanApprovalForm.value),this.loanApprovalForm.controls.productName.setValue(this.loanAccountDetails.productName),this.loanApprovalForm.value.accountType=this.loanAccountDetails.accountType,console.log("accountType",this.ls.setItem("accountType",this.loanApprovalForm.value.accountType)),this.ls.setItem("accountType",this.loanApprovalForm.value.accountType),this.loanApprovalForm.value.accountBranch=this.loanAccountDetails.accountBranch,this.loanApprovalForm.value.userRecommendation=this.loanAccountDetails.userRecommendation,this.loanApprovalForm.value.loanTenure=this.loanAccountDetails.loanTenure,this.loanApprovalForm.value.applicantName=this.loanAccountDetails.applicantName,this.loanApprovalForm.value.margin=this.loanAccountDetails.margin,this.loanApprovalForm.value.approvedLoanAccount=this.loanAccountDetails.approvedLoanAccount,this.loanApprovalForm.value.effectiveRate=this.loanAccountDetails.effectiveRate,this.loanApprovalForm.value.accountType=this.loanAccountDetails.accountType,this.loanApprovalForm.value.productName=this.loanAccountDetails.productName,this.loanApprovalForm.value.rateOfInterest=this.loanAccountDetails.rateOfInterest})}goToClose(){this.dialogRef.close(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{console.log("All Account Service",t),this.buildLoanApprovalForm(this.loanAccountDetails),this.loanAccountDetails=t,console.log("this.accountDetails",this.loanAccountDetails),console.log("form",this.loanApprovalForm.value),this.loanApprovalForm.controls.productName.setValue(this.loanAccountDetails.productName),this.loanApprovalForm.value.accountType=this.loanAccountDetails.accountType,console.log("accountType",this.ls.setItem("accountType",this.loanApprovalForm.value.accountType)),this.ls.setItem("accountType",this.loanApprovalForm.value.accountType),this.loanApprovalForm.value.accountBranch=this.loanAccountDetails.accountBranch,this.loanApprovalForm.value.userRecommendation=this.loanAccountDetails.userRecommendation,this.loanApprovalForm.value.loanTenure=this.loanAccountDetails.loanTenure,this.loanApprovalForm.value.applicantName=this.loanAccountDetails.applicantName,this.loanApprovalForm.value.margin=this.loanAccountDetails.margin,this.loanApprovalForm.value.approvedLoanAccount=this.loanAccountDetails.approvedLoanAccount,this.loanApprovalForm.value.effectiveRate=this.loanAccountDetails.effectiveRate,this.loanApprovalForm.value.accountType=this.loanAccountDetails.accountType,this.loanApprovalForm.value.productName=this.loanAccountDetails.productName,this.loanApprovalForm.value.rateOfInterest=this.loanAccountDetails.rateOfInterest})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(B.a),n.Rb(r.b),n.Rb(b.a),n.Rb(p.f),n.Rb(l.a),n.Rb(b.g),n.Rb(n.h),n.Rb(m.a),n.Rb(f.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-approval-details-update"]],decls:84,vars:8,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",2,"padding-left","100%",3,"click"],[1,"mt-32",3,"formGroup"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","33.33",1,"pr-16"],["appearance","fill",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName"],[1,"pb-1"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between center"],["name","year","placeholder","Year","formControlName","year"],[3,"value",4,"ngFor","ngForOf"],["name","month","placeholder","Month","formControlName","month"],["name","day","placeholder","Day","formControlName","day"],["fxLayout","row wrap"],["name","mod","formControlName","accountBranch",3,"selectionChange"],["matInput","","name","accountType","formControlName","accountType",1,"alignment",3,"readonly"],["name","account_branch","formControlName","productName",3,"selectionChange"],["matInput","","name","approvedLoanAccount","formControlName","approvedLoanAccount",1,"alignment",3,"keypress"],["matInput","","name","effectiveRate","formControlName","effectiveRate",1,"alignment",3,"keypress"],["matInput","","name","rateOfInterest","formControlName","rateOfInterest",1,"alignment",3,"keypress"],["matInput","","name","margin","formControlName","margin",1,"alignment",3,"keypress"],["formControlName","userRecommendation","placeholder","User Recommendation"],["align","end"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(n.Xb(0,"div"),n.Xb(1,"mat-dialog-content"),n.Xb(2,"div",0),n.Xb(3,"mat-icon",1),n.fc("click",function(){return e.goToClose()}),n.Tc(4,"close"),n.Wb(),n.Wb(),n.Xb(5,"h1"),n.Tc(6,"Loan Approval Details"),n.Wb(),n.Xb(7,"form",2),n.Xb(8,"div",3),n.Xb(9,"div",4),n.Xb(10,"mat-label"),n.Tc(11,"Applicant Name "),n.Wb(),n.Xb(12,"mat-form-field",5),n.Sb(13,"input",6),n.Wb(),n.Wb(),n.Xb(14,"div",4),n.Xb(15,"mat-label"),n.Tc(16,"Loan Tenure"),n.Wb(),n.Xb(17,"div",7),n.Xb(18,"div",8),n.Xb(19,"div"),n.Xb(20,"mat-form-field",5),n.Xb(21,"mat-select",9),n.Rc(22,su,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Xb(23,"div"),n.Xb(24,"mat-form-field",5),n.Xb(25,"mat-select",11),n.Rc(26,lu,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Xb(27,"div"),n.Xb(28,"mat-form-field",5),n.Xb(29,"mat-select",12),n.Rc(30,bu,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(31,"div",4),n.Wb(),n.Xb(32,"div",13),n.Xb(33,"div",4),n.Xb(34,"mat-label"),n.Tc(35,"Account Branch "),n.Wb(),n.Xb(36,"mat-form-field",5),n.Xb(37,"mat-select",14),n.fc("selectionChange",function(t){return e.onChangeBranch(t)}),n.Rc(38,du,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Xb(39,"div",4),n.Xb(40,"mat-label"),n.Tc(41,"Account Type"),n.Wb(),n.Xb(42,"mat-form-field",5),n.Sb(43,"input",15),n.Wb(),n.Wb(),n.Xb(44,"div",4),n.Xb(45,"mat-label"),n.Tc(46,"Product Name"),n.Wb(),n.Xb(47,"mat-form-field",5),n.Xb(48,"mat-select",16),n.fc("selectionChange",function(t){return e.getAccountType(t.value)}),n.Rc(49,uu,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(50,"div",13),n.Xb(51,"div",4),n.Xb(52,"mat-label"),n.Tc(53,"Approved Loan Amount"),n.Wb(),n.Xb(54,"mat-form-field",5),n.Xb(55,"input",17),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(56,"div",4),n.Xb(57,"mat-label"),n.Tc(58,"Effective Rate"),n.Wb(),n.Xb(59,"mat-form-field",5),n.Xb(60,"input",18),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(61,"div",4),n.Xb(62,"mat-label"),n.Tc(63,"Rate Of Interest"),n.Wb(),n.Xb(64,"mat-form-field",5),n.Xb(65,"input",19),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(66,"div",13),n.Xb(67,"div",4),n.Xb(68,"mat-label"),n.Tc(69,"Margin"),n.Wb(),n.Xb(70,"mat-form-field",5),n.Xb(71,"input",20),n.fc("keypress",function(t){return e._keyPress(t)}),n.Wb(),n.Wb(),n.Wb(),n.Xb(72,"div",4),n.Xb(73,"mat-label"),n.Tc(74,"User Recommendation"),n.Wb(),n.Xb(75,"mat-form-field",5),n.Xb(76,"mat-select",21),n.Rc(77,mu,2,2,"mat-option",10),n.Wb(),n.Wb(),n.Wb(),n.Sb(78,"div",4),n.Wb(),n.Wb(),n.Wb(),n.Xb(79,"mat-dialog-actions",22),n.Xb(80,"button",23),n.fc("click",function(){return e.submitForm1()}),n.Tc(81," Update "),n.Wb(),n.Xb(82,"button",23),n.fc("click",function(){return e.goToClose()}),n.Tc(83,"Close"),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(7),n.rc("formGroup",e.loanApprovalForm),n.Eb(15),n.rc("ngForOf",e.years),n.Eb(4),n.rc("ngForOf",e.months),n.Eb(4),n.rc("ngForOf",e.days),n.Eb(8),n.rc("ngForOf",e.screenArray),n.Eb(5),n.rc("readonly",!0),n.Eb(6),n.rc("ngForOf",e.arrayAccountBranch),n.Eb(28),n.rc("ngForOf",e.arrayUserRecommendation))},directives:[b.e,g.e,v.a,p.A,p.s,p.j,g.b,W.g,W.c,y.b,p.c,p.r,p.i,g.f,g.d,T.a,o.m,b.c,C.b,D.n],styles:[""]}),t})();function hu(t,e){if(1&t&&(n.Xb(0,"span",76),n.Tc(1),n.Wb()),2&t){const t=e.$implicit;n.Eb(1),n.Uc(t)}}function fu(t,e){if(1&t&&(n.Xb(0,"div",77),n.Xb(1,"h1",78),n.Tc(2),n.kc(3,"slice"),n.kc(4,"uppercase"),n.kc(5,"slice"),n.kc(6,"uppercase"),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Oc("background",t.customerColorCode),n.Eb(2),n.Wc("",n.nc(3,4,n.lc(4,8,t.loanInfo.firstName),0,1),"",n.nc(5,10,n.lc(6,14,t.loanInfo.lastName),0,1),"")}}function gu(t,e){if(1&t&&n.Sb(0,"img",80),2&t){const t=n.jc(2);n.rc("src",t.imageUrl,n.Jc)}}function vu(t,e){if(1&t&&(n.Xb(0,"div",77),n.Rc(1,gu,1,1,"img",79),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.rc("ngIf","not_available"!=t.imageUrl)}}function Wu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().onEdit("loanAccount_array")}),n.Tc(1,"edit"),n.Wb()}}function Xu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().onEdit("loanAccount_array")}),n.Tc(1,"edit"),n.Wb()}}function yu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().onEdit("loanAccount_array")}),n.Tc(1,"edit"),n.Wb()}}function Tu(t,e){if(1&t&&(n.Xb(0,"div",93),n.Xb(1,"small",94),n.Tc(2),n.Wb(),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(2),n.Vc("CIF #",null==t?null:t.cifNumber,"")}}function Iu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",95),n.fc("click",function(){return n.Hc(t),n.jc(2).goTo360Dashboard()}),n.Xb(1,"small",94),n.Tc(2),n.Wb(),n.Wb()}if(2&t){const t=n.jc().$implicit;n.Eb(2),n.Vc("CIF #",null==t?null:t.cifNumber,"")}}function Eu(t,e){if(1&t&&(n.Xb(0,"div",62),n.Xb(1,"div",38),n.Xb(2,"mat-card"),n.Xb(3,"div",62),n.Xb(4,"div",82),n.Sb(5,"img",83),n.Wb(),n.Xb(6,"div",84),n.Xb(7,"div",85),n.Xb(8,"div"),n.Xb(9,"div",62),n.Xb(10,"div",86),n.Xb(11,"h2",87),n.Xb(12,"span"),n.Tc(13),n.Wb(),n.Tc(14,"\xa0 "),n.Xb(15,"span"),n.Tc(16),n.Wb(),n.Tc(17,"\xa0 "),n.Xb(18,"span"),n.Tc(19),n.Wb(),n.Wb(),n.Wb(),n.Xb(20,"div",88),n.Tc(21,"|"),n.Wb(),n.Xb(22,"div",86),n.Xb(23,"small",48),n.Tc(24),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div",62),n.Rc(26,Tu,3,1,"div",89),n.Rc(27,Iu,3,1,"div",90),n.Wb(),n.Sb(28,"br"),n.Xb(29,"div",91),n.Xb(30,"div",92),n.Xb(31,"small",47),n.Tc(32,"Date of Birth"),n.Wb(),n.Sb(33,"br"),n.Xb(34,"p",48),n.Tc(35),n.Wb(),n.Wb(),n.Xb(36,"div",92),n.Xb(37,"small",47),n.Tc(38,"Email ID"),n.Wb(),n.Sb(39,"br"),n.Xb(40,"p",48),n.Tc(41),n.Wb(),n.Wb(),n.Xb(42,"div",92),n.Xb(43,"small",47),n.Tc(44,"Mobile Number"),n.Wb(),n.Sb(45,"br"),n.Xb(46,"p",48),n.Tc(47),n.Wb(),n.Wb(),n.Xb(48,"div",92),n.Xb(49,"small",47),n.Tc(50,"Landline Number"),n.Wb(),n.Sb(51,"br"),n.Xb(52,"p",48),n.Tc(53),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=n.jc();n.Eb(13),n.Uc(null==t?null:t.firstName),n.Eb(3),n.Uc(null==t?null:t.middleName),n.Eb(3),n.Uc(null==t?null:t.lastName),n.Eb(5),n.Vc("Last Updated On ",null!=t&&t.modifiedTime?t.modifiedTime:t.createdTime,""),n.Eb(2),n.rc("ngIf",!a.isApprovedSreen),n.Eb(1),n.rc("ngIf",a.isApprovedSreen),n.Eb(8),n.Uc(null==t?null:t.dateOfBirth),n.Eb(6),n.Uc(null==t?null:t.primaryEmailAdress),n.Eb(6),n.Uc(null==t?null:t.phoneNumber),n.Eb(6),n.Uc(null==t?null:t.landlineNumber)}}function Cu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editMandate()}),n.Tc(1,"edit"),n.Wb()}}function xu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",96),n.Xb(1,"mat-accordion",97),n.Xb(2,"mat-expansion-panel",98),n.fc("opened",function(){return n.Hc(t),n.jc().panelOpenState=!0})("closed",function(){return n.Hc(t),n.jc().panelOpenState=!1}),n.Xb(3,"mat-expansion-panel-header"),n.Xb(4,"mat-panel-title"),n.Tc(5),n.Wb(),n.Wb(),n.Xb(6,"div"),n.Xb(7,"div",52),n.Vb(8),n.Xb(9,"div",53),n.Xb(10,"mat-hint",35),n.Tc(11,"Applicant Name"),n.Wb(),n.Sb(12,"br"),n.Xb(13,"mat-hint",36),n.Tc(14),n.Wb(),n.Wb(),n.Xb(15,"div",53),n.Xb(16,"mat-hint",35),n.Tc(17,"Collateral Share Percentage"),n.Wb(),n.Sb(18,"br"),n.Xb(19,"mat-hint",36),n.Tc(20),n.Wb(),n.Wb(),n.Xb(21,"div",53),n.Xb(22,"mat-hint",35),n.Tc(23,"Repayment Share Percentage"),n.Wb(),n.Sb(24,"br"),n.Xb(25,"mat-hint",36),n.Tc(26),n.Wb(),n.Wb(),n.Ub(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index;n.Eb(5),n.Vc(" Mandate ",a+1," "),n.Eb(9),n.Uc(t.applicantName),n.Eb(6),n.Uc(t.collateralShare),n.Eb(6),n.Uc(t.repaymentShare)}}function Du(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editCollateral()}),n.Tc(1,"edit"),n.Wb()}}function Ou(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",53),n.Xb(1,"mat-hint",47),n.Tc(2,"Secondary Charge Allowed ?"),n.Wb(),n.Sb(3,"br"),n.Xb(4,"div",100),n.Xb(5,"mat-slide-toggle",101),n.fc("change",function(){return n.Hc(t),n.jc(3).stayTrue1()}),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=n.jc().$implicit;n.Eb(5),n.rc("checked",t.secondaryChargeAllowed)}}function Au(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",96),n.Xb(1,"mat-accordion",97),n.Xb(2,"mat-expansion-panel",98),n.fc("opened",function(){return n.Hc(t),n.jc(2).panelOpenState=!0})("closed",function(){return n.Hc(t),n.jc(2).panelOpenState=!1}),n.Xb(3,"mat-expansion-panel-header"),n.Xb(4,"mat-panel-title"),n.Tc(5),n.Wb(),n.Wb(),n.Xb(6,"div"),n.Xb(7,"div",52),n.Vb(8),n.Xb(9,"div",53),n.Xb(10,"div",35),n.Tc(11,"Number Of Collateral"),n.Wb(),n.Sb(12,"br"),n.Xb(13,"div",36),n.Tc(14),n.Wb(),n.Wb(),n.Xb(15,"div",53),n.Xb(16,"div",35),n.Tc(17,"Total Collateral Value"),n.Wb(),n.Sb(18,"br"),n.Xb(19,"div",36),n.Tc(20),n.Wb(),n.Wb(),n.Xb(21,"div",53),n.Xb(22,"div",35),n.Tc(23,"Utilized Previously"),n.Wb(),n.Sb(24,"br"),n.Xb(25,"div",36),n.Tc(26),n.Wb(),n.Wb(),n.Xb(27,"div",53),n.Xb(28,"div",35),n.Tc(29,"Cover Available"),n.Wb(),n.Sb(30,"br"),n.Xb(31,"div",36),n.Tc(32),n.Wb(),n.Wb(),n.Rc(33,Ou,6,1,"div",99),n.Ub(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=e.index;n.Eb(5),n.Vc(" Collateral ",a+1," "),n.Eb(9),n.Uc(t.noOfCollateral),n.Eb(6),n.Uc(t.totalCollateralValue),n.Eb(6),n.Uc(t.utilizedPreviously),n.Eb(6),n.Uc(t.coverAvailable),n.Eb(1),n.rc("ngIf",null!=t)}}function Ru(t,e){if(1&t&&(n.Xb(0,"div",54),n.Rc(1,Au,34,6,"div",55),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.rc("ngForOf",t.colateral_array.collateralDetails)}}function Su(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editGuarantor()}),n.Tc(1,"edit"),n.Wb()}}function Nu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().onEdit()}),n.Tc(1,"edit"),n.Wb()}}function Pu(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"div",102),n.Xb(2,"div"),n.Xb(3,"mat-card",103),n.Xb(4,"div"),n.Xb(5,"div",35),n.Tc(6,"Interest Type"),n.Wb(),n.Xb(7,"div",36),n.Tc(8),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"div"),n.Xb(10,"mat-card",103),n.Xb(11,"div"),n.Xb(12,"div",35),n.Tc(13,"Effective Rate"),n.Wb(),n.Xb(14,"div",36),n.Tc(15),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(16,"div"),n.Xb(17,"mat-card",103),n.Xb(18,"div"),n.Xb(19,"div",35),n.Tc(20,"Applicable Interest Rate"),n.Wb(),n.Xb(21,"div",36),n.Tc(22),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(23,"div"),n.Xb(24,"mat-card",103),n.Xb(25,"div"),n.Xb(26,"div",35),n.Tc(27,"Margin In %"),n.Wb(),n.Xb(28,"div",36),n.Tc(29),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(8),n.Uc(null==t?null:t.intrestType),n.Eb(7),n.Uc(null==t?null:t.effectiveRate),n.Eb(7),n.Uc(null==t?null:t.intrestRateApplicable),n.Eb(7),n.Uc(null==t?null:t.marginIn)}}function ku(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editDisbursement("loanDisbusment_array")}),n.Tc(1,"edit"),n.Wb()}}function Fu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editRepaymentInfo("loanRepayment_array")}),n.Tc(1,"edit"),n.Wb()}}function Lu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().onEdit()}),n.Tc(1,"edit"),n.Wb()}}function _u(t,e){if(1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"div",102),n.Xb(2,"div"),n.Xb(3,"mat-card",103),n.Xb(4,"div"),n.Xb(5,"div",35),n.Tc(6,"Amount"),n.Wb(),n.Xb(7,"div",36),n.Tc(8),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(9,"div"),n.Xb(10,"mat-card",103),n.Xb(11,"div"),n.Xb(12,"div",35),n.Tc(13,"Charge Details ID"),n.Wb(),n.Xb(14,"div",36),n.Tc(15),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(16,"div"),n.Xb(17,"mat-card",103),n.Xb(18,"div"),n.Xb(19,"div",35),n.Tc(20,"Interest Type"),n.Wb(),n.Xb(21,"div",36),n.Tc(22),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(23,"div"),n.Xb(24,"mat-card",103),n.Xb(25,"div"),n.Xb(26,"div",35),n.Tc(27,"Waiver"),n.Wb(),n.Xb(28,"div",36),n.Tc(29),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit;n.Eb(8),n.Uc(null==t?null:t.amout),n.Eb(7),n.Uc(null==t?null:t.chargeDetailsId),n.Eb(7),n.Uc(null==t?null:t.intrestType),n.Eb(7),n.Uc(null==t?null:t.waiver)}}function wu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editCreditInfo("loanCreditScore_array")}),n.Tc(1,"edit"),n.Wb()}}function Uu(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div",32),n.Sb(2,"div",33),n.Xb(3,"div",34),n.Xb(4,"div",35),n.Tc(5,"Customer Name"),n.Wb(),n.Xb(6,"div",36),n.Tc(7),n.Wb(),n.Wb(),n.Xb(8,"div",34),n.Xb(9,"div",35),n.Tc(10,"Agency Name"),n.Wb(),n.Xb(11,"div",36),n.Tc(12),n.Wb(),n.Wb(),n.Xb(13,"div",34),n.Xb(14,"div",35),n.Tc(15,"Remarks"),n.Wb(),n.Xb(16,"div",36),n.Tc(17),n.Wb(),n.Wb(),n.Xb(18,"div",34),n.Xb(19,"div",35),n.Tc(20,"Ratings"),n.Wb(),n.Xb(21,"div",36),n.Tc(22),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=n.jc(2);n.Eb(7),n.Uc(null==a.loanCreditScore_array?null:a.loanCreditScore_array.customerName),n.Eb(5),n.Uc(t.agencyName),n.Eb(5),n.Uc(t.remarks),n.Eb(5),n.Uc(t.ratings)}}function Mu(t,e){if(1&t&&(n.Xb(0,"mat-card",31),n.Xb(1,"mat-card-content"),n.Rc(2,Uu,23,4,"div",58),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Eb(2),n.rc("ngForOf",t.loanCreditScore_array.agencyRating)}}function Gu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editValuationOfAsset("valueofassest_array")}),n.Tc(1,"edit"),n.Wb()}}function Vu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editLegalOpinion("legaopninio_array")}),n.Tc(1,"edit"),n.Wb()}}function Bu(t,e){if(1&t&&(n.Xb(0,"div",107),n.Xb(1,"mat-card",108),n.Xb(2,"div"),n.Tc(3),n.Wb(),n.Xb(4,"div",109),n.Tc(5),n.Wb(),n.Wb(),n.Xb(6,"mat-card",108),n.Xb(7,"div"),n.Tc(8,"Score"),n.Wb(),n.Xb(9,"div",109),n.Tc(10),n.Wb(),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=e.index;n.Eb(3),n.Wc("",a+1,".",t.scorecardQuestion,""),n.Eb(2),n.Uc(t.scorecardAnswer),n.Eb(5),n.Uc(t.scoreData)}}function ju(t,e){if(1&t&&(n.Xb(0,"div"),n.Xb(1,"div",104),n.Tc(2),n.Wb(),n.Xb(3,"div",105),n.Rc(4,Bu,11,4,"div",106),n.Wb(),n.Wb()),2&t){const t=e.$implicit,a=e.index,o=n.jc();n.Eb(2),n.Vc("Applicant ",t.applicantId,""),n.Eb(2),n.rc("ngForOf",null==o.qualitativeScoreboardSummary?null:o.qualitativeScoreboardSummary.scoreCardMapping[a].scoreCardDetails)}}function zu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editAssessmentInfo("loanassement_array")}),n.Tc(1,"edit"),n.Wb()}}function qu(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editOfferIssueInfo("offerissue_array")}),n.Tc(1,"edit"),n.Wb()}}function Ju(t,e){if(1&t){const t=n.Yb();n.Xb(0,"mat-icon",81),n.fc("click",function(){return n.Hc(t),n.jc().editOfferIssueInfo("offerissue_array")}),n.Tc(1,"edit"),n.Wb()}}function Ku(t,e){if(1&t&&(n.Xb(0,"mat-card",31),n.Xb(1,"mat-card-content"),n.Xb(2,"div",32),n.Sb(3,"div",33),n.Xb(4,"div",34),n.Xb(5,"div",35),n.Tc(6,"Applicant Name"),n.Wb(),n.Xb(7,"div",36),n.Tc(8),n.Wb(),n.Wb(),n.Xb(9,"div",34),n.Xb(10,"div",35),n.Tc(11,"Approved Loan Amount"),n.Wb(),n.Xb(12,"div",36),n.Tc(13),n.Wb(),n.Wb(),n.Xb(14,"div",34),n.Xb(15,"div",35),n.Tc(16,"Loan Tenure"),n.Wb(),n.Xb(17,"div",36),n.Tc(18),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"div",32),n.Sb(20,"div",33),n.Xb(21,"div",34),n.Xb(22,"div",35),n.Tc(23,"Installment Type"),n.Wb(),n.Xb(24,"div",36),n.Tc(25),n.Wb(),n.Wb(),n.Xb(26,"div",34),n.Xb(27,"div",35),n.Tc(28,"Installment Frequency"),n.Wb(),n.Xb(29,"div",36),n.Tc(30),n.Wb(),n.Wb(),n.Xb(31,"div",34),n.Xb(32,"div",35),n.Tc(33,"Rate Of Interest(in %)"),n.Wb(),n.Xb(34,"div",36),n.Tc(35),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"div",32),n.Sb(37,"div",33),n.Xb(38,"div",34),n.Xb(39,"div",35),n.Tc(40,"Offer Issue Date"),n.Wb(),n.Xb(41,"div",36),n.Tc(42),n.Wb(),n.Wb(),n.Xb(43,"div",34),n.Xb(44,"div",35),n.Tc(45,"Generate Offer"),n.Wb(),n.Xb(46,"div",36),n.Tc(47),n.Wb(),n.Wb(),n.Xb(48,"div",34),n.Xb(49,"div",35),n.Tc(50,"Offer Expiry Date"),n.Wb(),n.Xb(51,"div",36),n.Tc(52),n.Wb(),n.Wb(),n.Wb(),n.Xb(53,"div",32),n.Sb(54,"div",33),n.Xb(55,"div",34),n.Xb(56,"div",35),n.Tc(57,"Date Of Offer Accept/Reject"),n.Wb(),n.Xb(58,"div",36),n.Tc(59),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Eb(8),n.Uc(t.offerDetails.applicantName),n.Eb(5),n.Uc(null==t.offerDetails?null:t.offerDetails.approvedLoanAmount),n.Eb(5),n.Uc(null==t.offerDetails?null:t.offerDetails.loanTenure),n.Eb(7),n.Uc(t.offerDetails.installmentType),n.Eb(5),n.Uc(t.offerDetails.installmentFrequency),n.Eb(5),n.Uc(t.offerDetails.rateOfInterest),n.Eb(7),n.Uc(t.offerDetails.offerIssueDate),n.Eb(5),n.Uc(t.offerDetails.generateOffer),n.Eb(5),n.Uc(t.offerDetails.offerExpiryDate),n.Eb(7),n.Uc(t.offerDetails.dateOfOfferAcceptOrReject)}}function $u(t,e){if(1&t&&(n.Xb(0,"mat-card",31),n.Xb(1,"mat-card-content"),n.Xb(2,"div",32),n.Sb(3,"div",33),n.Xb(4,"div",34),n.Xb(5,"div",35),n.Tc(6,"Applicant Name"),n.Wb(),n.Xb(7,"div",36),n.Tc(8),n.Wb(),n.Wb(),n.Xb(9,"div",34),n.Xb(10,"div",35),n.Tc(11,"Offer Issue Date"),n.Wb(),n.Xb(12,"div",36),n.Tc(13),n.Wb(),n.Wb(),n.Xb(14,"div",34),n.Xb(15,"div",35),n.Tc(16,"Offer Exipiry Date"),n.Wb(),n.Xb(17,"div",36),n.Tc(18),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"div",32),n.Sb(20,"div",33),n.Xb(21,"div",34),n.Xb(22,"div",35),n.Tc(23,"Offer Amend Date"),n.Wb(),n.Xb(24,"div",36),n.Tc(25),n.Wb(),n.Wb(),n.Xb(26,"div",34),n.Xb(27,"div",35),n.Tc(28,"Approved Loan Amount"),n.Wb(),n.Xb(29,"div",36),n.Tc(30),n.Wb(),n.Wb(),n.Xb(31,"div",34),n.Xb(32,"div",35),n.Tc(33,"Loan Amount Recommended"),n.Wb(),n.Xb(34,"div",36),n.Tc(35),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"div",32),n.Sb(37,"div",33),n.Xb(38,"div",34),n.Xb(39,"div",35),n.Tc(40,"Loan Tenure"),n.Wb(),n.Xb(41,"div",36),n.Tc(42),n.Wb(),n.Wb(),n.Xb(43,"div",34),n.Xb(44,"div",35),n.Tc(45,"Installment Type"),n.Wb(),n.Xb(46,"div",36),n.Tc(47),n.Wb(),n.Wb(),n.Xb(48,"div",34),n.Xb(49,"div",35),n.Tc(50,"Rate Of Interest(%)"),n.Wb(),n.Xb(51,"div",36),n.Tc(52),n.Wb(),n.Wb(),n.Wb(),n.Xb(53,"div",32),n.Sb(54,"div",33),n.Xb(55,"div",34),n.Xb(56,"div",35),n.Tc(57,"Margin(%))"),n.Wb(),n.Xb(58,"div",36),n.Tc(59),n.Wb(),n.Wb(),n.Xb(60,"div",34),n.Xb(61,"div",35),n.Tc(62,"Effective Rate(%)"),n.Wb(),n.Xb(63,"div",36),n.Tc(64),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Eb(8),n.Uc(t.postOfferDetails.applicantName),n.Eb(5),n.Uc(t.postOfferDetails.offerIssueDate),n.Eb(5),n.Uc(t.postOfferDetails.offerExpiryDate),n.Eb(7),n.Uc(t.postOfferDetails.offerAmendDate),n.Eb(5),n.Uc(t.postOfferDetails.approvedLoanAmount),n.Eb(5),n.Uc(t.postOfferDetails.loanAmmountRecommended),n.Eb(7),n.Uc(t.postOfferDetails.loanTenure),n.Eb(5),n.Uc(t.postOfferDetails.installmentType),n.Eb(5),n.Uc(t.postOfferDetails.rateOfInterest),n.Eb(7),n.Uc(t.postOfferDetails.margin),n.Eb(5),n.Uc(t.postOfferDetails.effectiveRate)}}function Hu(t,e){if(1&t&&(n.Xb(0,"mat-card",31),n.Xb(1,"mat-card-content"),n.Xb(2,"div",32),n.Sb(3,"div",33),n.Xb(4,"div",34),n.Xb(5,"div",35),n.Tc(6,"Applicant Name"),n.Wb(),n.Xb(7,"div",36),n.Tc(8),n.Wb(),n.Wb(),n.Xb(9,"div",34),n.Xb(10,"div",35),n.Tc(11,"Approved Loan Amount"),n.Wb(),n.Xb(12,"div",36),n.Tc(13),n.Wb(),n.Wb(),n.Xb(14,"div",34),n.Xb(15,"div",35),n.Tc(16,"Offer Issue Date"),n.Wb(),n.Xb(17,"div",36),n.Tc(18),n.Wb(),n.Wb(),n.Wb(),n.Xb(19,"div",32),n.Sb(20,"div",33),n.Xb(21,"div",34),n.Xb(22,"div",35),n.Tc(23,"Offer Accepted Date"),n.Wb(),n.Xb(24,"div",36),n.Tc(25),n.Wb(),n.Wb(),n.Xb(26,"div",34),n.Xb(27,"div",35),n.Tc(28,"Loan Tenure"),n.Wb(),n.Xb(29,"div",36),n.Tc(30),n.Wb(),n.Wb(),n.Xb(31,"div",34),n.Xb(32,"div",35),n.Tc(33,"Installment Type"),n.Wb(),n.Xb(34,"div",36),n.Tc(35),n.Wb(),n.Wb(),n.Wb(),n.Xb(36,"div",32),n.Sb(37,"div",33),n.Xb(38,"div",34),n.Xb(39,"div",35),n.Tc(40,"Installment Frequency"),n.Wb(),n.Xb(41,"div",36),n.Tc(42),n.Wb(),n.Wb(),n.Xb(43,"div",34),n.Xb(44,"div",35),n.Tc(45,"Rate of Interest"),n.Wb(),n.Xb(46,"div",36),n.Tc(47),n.Wb(),n.Wb(),n.Xb(48,"div",34),n.Xb(49,"div",35),n.Tc(50,"Principal"),n.Wb(),n.Xb(51,"div",36),n.Tc(52),n.Wb(),n.Wb(),n.Wb(),n.Xb(53,"div",32),n.Sb(54,"div",33),n.Xb(55,"div",34),n.Xb(56,"div",35),n.Tc(57,"Interest"),n.Wb(),n.Xb(58,"div",36),n.Tc(59),n.Wb(),n.Wb(),n.Xb(60,"div",34),n.Xb(61,"div",35),n.Tc(62,"Installment Amount"),n.Wb(),n.Xb(63,"div",36),n.Tc(64),n.Wb(),n.Wb(),n.Xb(65,"div",34),n.Xb(66,"div",35),n.Tc(67,"Charges"),n.Wb(),n.Xb(68,"div",36),n.Tc(69),n.Wb(),n.Wb(),n.Wb(),n.Xb(70,"div",32),n.Sb(71,"div",33),n.Xb(72,"div",34),n.Xb(73,"div",35),n.Tc(74,"Disbursement Amount"),n.Wb(),n.Xb(75,"div",36),n.Tc(76),n.Wb(),n.Wb(),n.Xb(77,"div",34),n.Xb(78,"div",35),n.Tc(79,"Repayment Amount"),n.Wb(),n.Xb(80,"div",36),n.Tc(81),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t){const t=n.jc();n.Eb(8),n.Uc(t.accountCreateValue.applicantName),n.Eb(5),n.Uc(t.accountCreateValue.approvedLoanAmount),n.Eb(5),n.Uc(t.accountCreateValue.offerIssueDate.slice(0,12)),n.Eb(7),n.Uc(t.accountCreateValue.offerAcceptedDate.slice(0,12)),n.Eb(5),n.Uc(t.accountCreateValue.loanTenure),n.Eb(5),n.Uc(t.accountCreateValue.installmentType),n.Eb(7),n.Uc(t.accountCreateValue.installmentFrequency),n.Eb(5),n.Uc(t.accountCreateValue.rateOfInterest),n.Eb(5),n.Uc(t.accountCreateValue.principal),n.Eb(7),n.Uc(t.accountCreateValue.interest),n.Eb(5),n.Uc(t.accountCreateValue.installmentAmount),n.Eb(5),n.Uc(t.accountCreateValue.charges),n.Eb(7),n.Uc(t.accountCreateValue.disbursementAmount),n.Eb(5),n.Uc(t.accountCreateValue.repaymentAmount)}}function Yu(t,e){if(1&t&&(n.Xb(0,"div",36),n.Xb(1,"a",110),n.Tc(2,"link"),n.Wb(),n.Sb(3,"link"),n.Wb()),2&t){const t=n.jc();n.Eb(1),n.sc("href",t.signatureData.fileUrl,n.Jc)}}const Zu=function(t,e){return{disabledbtn:t,continueBtn:e}},Qu=function(t,e){return{disabledbtn:t,rejectButton:e}},tm=function(t,e){return{disabledbtn:t,approveButton:e}};let em=(()=>{class t{constructor(t,e,a,o,i,n,r,c,s,l,b,d,u,m,p,h){this.taskSumService=t,this.ls=e,this.api=a,this.dialogService=o,this.router=i,this.cdr=n,this.dialog=r,this.snack=c,this.tasksummaryService=s,this.appApiService=l,this.loader=b,this.apiService=d,this.sanitizer=u,this.dataResponse=m,this.dialogRef=p,this.jwtService=h,this.updateLoanDetails=!1,this.nameCreater=["Y","B","","D","E","T","A","E","R","C"],this.continueStatus=!0}ngOnInit(){console.log("dataResponse.dataResp.loanAccountId",this.dataResponse.dataResp.loanAccountId),this.loanAccountId=this.dataResponse.dataResp.loanAccountId,this.status=this.dataResponse.dataResp.status,this.loanInfo=this.dataResponse.dataResp,this.ls.setItem("CIF_NUM_PRIMARY",this.loanInfo.customerId),this.ls.setItem("NAME",this.loanInfo.firstName+" "+this.loanInfo.lastName),this.getCustomerInfoDetails(),this.getMandateDetails(),this.fetchOfferAcceptRejectDetails(this.loanAccountId),this.fetchPostOfferAmendmentDetails(),this.getAccountCreateDetails(),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId),this.getProfileImage(this.loanInfo.customerId)}getAllData(t){this.api.getLoanQualitativeScorecardDetails(this.loanAccountId).subscribe(t=>{this.qualitativeScoreboardSummary=t})}getLoanAccountInfo(t){this.taskSumService.getLoanAccountDetails(t).subscribe(t=>{console.log("data",t),this.loanTaskDetails=t,this.loanAccount_array=t,this.createDataInfo=Object.values(t)[20],console.log(Object.values(t)),console.log(Object.values(t)[0]),this.loanAccount_array=Object.values(t)[0],this.assest_array=Object.values(t)[1],this.mandate_array=Object.values(t)[4],console.log("mandate_array",this.mandate_array.mandateId),this.colateral_array=Object.values(t)[6],console.log("collateral",this.colateral_array),console.log("collateral obj",Object.values(t)[6]),console.log(Object.values(t)),this.guranator_array=Object.values(t)[7],this.loanInterest_array=Object.values(t)[8],this.loanDisbusment_array=Object.values(t)[9],this.loanRepayment_array=Object.values(t)[10],this.loanCharge_array=Object.values(t)[11],this.accountService_array=Object.values(t)[12],this.loanCreditScore_array=Object.values(t)[13],this.valueofassest_array=Object.values(t)[14],this.legaopninio_array=Object.values(t)[15],this.loanassement_array=Object.values(t)[16],this.loanapproval_array=Object.values(t)[17],this.offerissue_array=Object.values(t)[18],"REJECTED"===Object.values(t)[0].status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!1,this.continueStatus=!0):"APPROVED"===Object.values(t)[0].status?(this.approvedStatus=!0,this.rejectedStatus=!0,this.editScreen=!0,this.continueStatus=!0):"ONGOING"===Object.values(t)[0].status?(this.approvedStatus=!0,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!1):"BACKLOG"===Object.values(t)[0].status&&(this.approvedStatus=!1,this.rejectedStatus=!1,this.editScreen=!1,this.continueStatus=!0)})}goToLoanAccount(){console.log("Navigating to edit screen"),this.ls.setItem("LOAN_ACC_ARRAY",this.loanAccount_array),console.log(this.loanAccount_array),this.api.updateLoanDetailsStatus({loanAccountId:this.loanAccount_array.loanAccountId,status:"ONGOING"}).subscribe(t=>{}),this.router.navigateByUrl("/loan/account/list"),this.dialogRef.close({message:"Confirm"})}editAsset(t=""){this.openPopUp1(t)}editGuarantor(t=""){this.openGuarantor(t)}openGuarantor(t){this.dialog.open(qd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,gurantorInfo:this.guranator_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editDisbursement(t=""){this.openDisbursement(t)}openDisbursement(t){this.dialog.open(Jd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,disbursementInfo:this.loanDisbusment_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editRepaymentInfo(t=""){this.openRepaymentInfo(t)}openRepaymentInfo(t){this.dialog.open(Yd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanRepaymentInfo:this.loanRepayment_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editValuationOfAsset(t=""){this.openValuationOfAssetInfo(t)}openValuationOfAssetInfo(t){this.dialog.open(Qd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanValuationOfAssetInfo:this.valueofassest_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editLegalOpinion(t=""){this.openLegalOpnionInfo(t)}openLegalOpnionInfo(t){this.dialog.open(tu,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanLegalInfo:this.legaopninio_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editAssessmentInfo(t=""){this.openAssessmentInfo(t)}openAssessmentInfo(t){this.dialog.open(ru,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanAssessmentInfo:this.loanassement_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editOfferIssueInfo(t=""){this.openOfferIssueInfo(t)}openOfferIssueInfo(t){this.dialog.open(cu,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanOfferIssueInfo:this.offerissue_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editApprovalInfo(t=""){this.openApprovalInfo(t)}openApprovalInfo(t){this.dialog.open(pu,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanApprovalInfo:this.loanapproval_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editCreditInfo(t=""){this.openCreditInfo(t)}openCreditInfo(t){this.dialog.open(Zd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,loanCreditInfo:this.loanCreditScore_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}onEdit(t=""){console.log("edit"),this.loanAccount_array&&this.openPopUp(t)}openPopUp(t){this.dialog.open(Od,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,info:this.loanAccount_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}openPopUp1(t){this.dialog.open(Pd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,assetInfo:this.assest_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}openCollateralPopup(t){this.dialog.open(Gd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,collateralInfo:this.colateral_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}editCollateral(t=""){console.log("edit"),this.openCollateralPopup(t)}editMandate(t=""){console.log("edit"),this.openMandate(t)}openMandate(t){this.dialog.open(Fd,{width:"1000px",disableClose:!0,data:{loanAccountId:this.dataResponse.dataResp.loanAccountId,mandateInfo:this.mandate_array,editType:t}}).afterClosed().subscribe(t=>{console.log("dialog closed-- ",t),this.getLoanAccountInfo(this.loanAccountId),this.getAllData(this.loanAccountId)})}close(t){this.dialogRef.close({message:"Confirm",data:t})}getCustomerInfoDetails(){this.appApiService.fetchCustomersByLoanAccId(this.loanAccountId,"loan").subscribe(t=>{t.data&&(this.customerInfoDetails=t.data,this.ownership=this.customerInfoDetails[0].ownership,this.noOfApplicants=this.customerInfoDetails[0].numOfApplicants)},t=>{this.loader.close()})}getProfileImage(t){this.image=null,null!=this.loanInfo.customerId&&this.api.getProfileDetails(t).subscribe(t=>{null!=t.profileImage&&(this.imageUrl=t.profileImage,this.image=this.sanitizer.bypassSecurityTrustUrl(t.profileImage.fileUrl)),t.signatures&&(this.signatureData=t.signatures[0],this.ls.setItem("signedImage",this.signatureData.fileUrl))},t=>{console.log(t)})}getMandateDetails(){this.apiService.getMandateDetailsByLoanAccId(this.loanAccountId).subscribe(t=>{this.mandateDetails=t,this.mandateDetailsArray=t.mandateDetails},t=>{})}stayTrue1(){this.colateral_array.collateralDetails.secondaryChargeAllowed=!0}fetchOfferAcceptRejectDetails(t){this.apiService.getofferDetails(t).subscribe(t=>{this.offerDetails=t})}fetchPostOfferAmendmentDetails(){this.apiService.getOfferAmendmentDetails(this.loanAccountId).subscribe(t=>{this.postOfferDetails=t,console.log("details",this.postOfferDetails)})}getAccountCreateDetails(){this.api.getAccountCreateDetails(this.loanAccountId).subscribe(t=>{this.accountCreateValue=t})}updateApplicationStatus(t,e){console.log("data : ",t),t.status=e;let a=e;this.accStatus=e,this.tasksummaryService.updateLoanAccStatus({status:e,loanAccountId:t.loanAccountId}).subscribe(t=>{null!=t.loanAccountId||""!=t.loanAccountId||""!=t.loanAccountId?(this.close(a),this.cdr.markForCheck(),this.cdr.detectChanges(),this.dialogRef.close({message:"Confirm",data:a}),this.snack.open(e+" !","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck()):this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log("error resp :: ",t),this.errorStatus=e,this.snack.open(t.error.message+" ","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}continue(){var t,e,a,o,i,n,r;this.ls.setItem("loanAccountId",null===(t=this.loanAccount_array)||void 0===t?void 0:t.loanAccountId),this.ls.setItem("LOAN_DETAIL_DONE",!!this.loanAccount_array),this.ls.setItem("CUSTOMERINFO_DETAIL_DONE",!!this.customerInfoDetails),this.ls.setItem("COLLATERAL_DETAIL_DONE",!!this.loanTaskDetails.collateralInfo.collateralId),this.ls.setItem("MANDATE_DETAIL_DONE",0!=(null===(e=this.mandateDetailsArray)||void 0===e?void 0:e.length)),this.ls.setItem("GUARANTOR_DETAIL_DONE",!!this.loanTaskDetails.guarantorInfo.guarantorId),this.ls.setItem("FINANCIAL_DETAIL_DONE",!!this.loanTaskDetails.financialInfo),this.ls.setItem("ADMISSION_DETAIL_DONE",!!this.loanTaskDetails.admissionInfo.admissionId),this.ls.setItem("ASSET_DETAIL_DONE",!!this.loanTaskDetails.assessInfo.assetId),this.ls.setItem("VEHICLE_DETAIL_DONE",!!this.loanTaskDetails.vehicleInfo.vehicleId),this.ls.setItem("LoanEntryStage",!!(this.loanAccount_array&&this.customerInfoDetails&&this.loanTaskDetails.collateralInfo.collateralId&&0!=(null===(a=this.mandateDetailsArray)||void 0===a?void 0:a.length)&&this.loanTaskDetails.guarantorInfo.guarantorId&&this.loanTaskDetails.financialInfo&&(this.loanTaskDetails.admissionInfo.admissionId||this.loanTaskDetails.assessInfo.assetId||this.loanTaskDetails.vehicleInfo.vehicleId))),this.ls.setItem("LOAN_INTERST_DETAIL_DONE",!!this.loanTaskDetails.interestInfo),this.ls.setItem("LOAN_CHARGE_DETAILS",!!this.loanTaskDetails.chargeInfo),this.ls.setItem("LOAN_REPAYMENT_DETAIL_DONE",!!this.loanTaskDetails.repaymentInfo.loanRepaymentId),this.ls.setItem("LOAN_DISBURSEMENT_DETAIL_DONE",!!(null===(o=this.loanTaskDetails.disbursementInfo)||void 0===o?void 0:o.loanDisbursementId)),this.ls.setItem("LOAN_ACCOUNT_SERVICES_DONE",!!this.loanTaskDetails.accountServiceInfo.accServiceId),this.ls.setItem("LOAN_ENRICHMENT_DONE",!!(this.loanTaskDetails.interestInfo&&this.loanTaskDetails.chargeInfo&&this.loanTaskDetails.repaymentInfo.loanRepaymentId&&(null===(i=this.loanTaskDetails.disbursementInfo)||void 0===i?void 0:i.loanDisbursementId)&&this.loanTaskDetails.accountServiceInfo.accServiceId)),this.ls.setItem("CREDIT_RATING_DONE",!!this.loanTaskDetails.creditRatingInfo.agencyRating),this.ls.setItem("LEGAL_OPINION_DONE",!!this.loanTaskDetails.legalOpionInfo),this.ls.setItem("VALUATION_OF_ASSET_DONE",!!this.loanTaskDetails.valAssetInfo),this.ls.setItem("underWritingStage",!!(this.loanTaskDetails.creditRatingInfo.agencyRating&&this.loanTaskDetails.legalOpionInfo&&this.loanTaskDetails.valAssetInfo)),this.ls.setItem("isLoanQualitativeScoreboard",!!this.qualitativeScoreboardSummary),this.ls.setItem("LOAN_ASSESSMENT_DETAILS_DONE",!!(null===(n=this.loanTaskDetails.assessInfo)||void 0===n?void 0:n.assetId)),this.ls.setItem("LOAN_ASSESSMENT_STAGE_DONE",!(!this.qualitativeScoreboardSummary||!(null===(r=this.loanTaskDetails.assessInfo)||void 0===r?void 0:r.assetId))),this.ls.setItem("APPROVED_DETAILS",!!this.loanTaskDetails.approvalInfo),this.ls.setItem("SUPERVISOR_APPROVAL_STAGE",!!this.loanTaskDetails.approvalInfo),this.ls.setItem("OfferIssue",!!this.loanTaskDetails.offerIssueInfo),this.ls.setItem("OfferIssueStageDone",!!this.loanTaskDetails.offerIssueInfo),this.ls.setItem("OfferIssueRejectScreen",!!this.offerDetails),this.ls.setItem("OfferIssueRejectStageScreen",!!this.offerDetails),this.ls.setItem("PostOfferAmmendementScreen",!!this.postOfferDetails),this.ls.setItem("PostOfferAmmendementStageScreen",!!this.postOfferDetails),this.ls.setItem("ACCOUNT_CREATE_DETAILS_DONE",!!this.accountCreateValue),this.ls.setItem("ACCOUNT_CREATTION_STAGE_DONE",!!this.accountCreateValue),window.open(`${jo.a.redirectUrl}?code=${this.jwtService.getEncryptedToken()}&appType=LOANACC&theme=null`,"_blank"),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(m.a),n.Rb(l.a),n.Rb(r.b),n.Rb(rn.a),n.Rb(je.h),n.Rb(n.h),n.Rb(b.b),n.Rb(f.a),n.Rb(m.a),n.Rb(d.a),n.Rb(B.a),n.Rb(r.b),n.Rb(qo.b),n.Rb(b.a),n.Rb(b.g),n.Rb(zo.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-account-approver"]],decls:1062,vars:170,consts:[["fxLayout","column wrap"],[1,"content"],["fxLayout","row","fxLayoutAlign","end"],[2,"color","darkgray","cursor","pointer","margin-right","5px",3,"click"],[1,"boxing"],[1,"main"],["fxLayout","row end",1,"createdBy"],["fxLayout","column",1,"creater"],["class","word1",4,"ngFor","ngForOf"],["fxLayout","column",1,"totalMarin"],["fxLayout","row",1,"parentCreater"],["src","assets/images/face-7.jpg","alt","",1,"img1"],[1,"headName"],[1,"idSize"],["fxLayout","row",1,"setSize"],[1,"iconColor"],[1,"mobileNo"],[1,"email"],["fxLayout","row",1,"imgdiv"],["mat-card-avatar",""],["fxLayout","row","class","defaultImage",3,"background",4,"ngIf"],["fxLayout","row","class","defaultImage",4,"ngIf"],["fxLayout","row",1,"apprdiv"],["fxLayout","row",1,"flex-container"],["fxFlex","10"],[1,"num"],[1,"bordnum"],["fxFlex","85"],["fxLayout","row","fxLayoutAlign","space-between end"],["visible","true"],["class","edit_icon",3,"click",4,"ngIf"],[1,"mtcd"],["fxLayout","row",1,"rowbord"],["fxFlex","4"],["fxFlex","32"],[1,"label"],[1,"labelval"],["fxLayout","row",1,"rowbord","nobord"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[1,"pt-16"],["fxLayout","row wrap","fxLayoutAlign","space-around center"],["fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],[1,"paraFont"],[1,"chequecard"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","50%"],["fxLayout","row wrap"],["class","full-width pt-16",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],["label","Application Enrichment Stage",2,"border-radius","0px","width","900px"],[4,"ngFor","ngForOf"],[2,"width","800px"],["class","mtcd",4,"ngIf"],[1,"full-width",2,"padding","0rem 2rem"],["fxLayout","row wrap",1,"full-width"],["fxLayout","row",1,"flex-container",2,"flex-direction","row","box-sizing","border-box","display","flex"],["fxFlex","85",1,"margin1",2,"flex","1 1 100%","box-sizing","border-box","max-width","85%"],["fxLayout","row","fxLayoutAlign","space between center"],["class","labelval",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","20px"],["fxLayout","row",1,"continueBtn",3,"hidden","ngClass","click"],[1,"continuelabel"],["fxLayout","row",1,"rejectButton",3,"hidden","ngClass","click"],[1,"cancelIcon"],[1,"rejectlabel"],["fxLayout","row",1,"approveButton",3,"hidden","ngClass","click"],[1,"approveIcon"],[1,"approvelabel"],[1,"word1"],["fxLayout","row",1,"defaultImage"],[1,"imageText"],["style","width: 120px; height: 120px; border-radius: 50%;","alt","",3,"src",4,"ngIf"],["alt","",2,"width","120px","height","120px","border-radius","50%",3,"src"],[1,"edit_icon",3,"click"],["fxFlex","7%","fxFlex.xs","50%","fxFlex.md","10%","fxFlex.sm","15%",1,"pb-16"],["height","50px","width","50px","src","assets/images/backgrounds/defaultProfileBackground.png",1,"rounded-circle"],["fxFlex","93%","fxFlex.xs","100%","fxFlex.md","90%","fxFlex.sm","85%",1,"bg-light","p-8"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-16"],[1,"valueTextName"],[1,"pl-16","text-secondary"],["class","pl-16 pr-16",4,"ngIf"],["class","pl-16 pr-16",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.xs","100%",1,"pl-16","pr-16"],[1,"pl-16","pr-16"],[1,"headingText1"],[1,"pl-16","pr-16",3,"click"],[1,"full-width","pt-16"],[1,"full-width","mat-elevation-z0"],[1,"mat-elevation-z0","border","border-primary",3,"opened","closed"],["fxFlex","33%","fxFlex.xs","50%",4,"ngIf"],[1,"toggle"],[3,"checked","change"],["fxLayout","row","fxLayouutAlign","space-between center"],[1,"interstcard"],[1,"applicanthd",2,"font-weight","bold","font-family","sans-serif"],[1,"row","wrap"],["fxLayout","row wrap","class","qtncard row","style","max-width:100%","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","100","fxFlex.sm","50","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","100","fxFlex.sm","50",1,"full-width",2,"max-width","100%"],[1,"qtncard","row",2,"justify-content","space-evenly"],[1,"qtnval",2,"opacity","80%"],["download","",1,"linkColor",3,"href"]],template:function(t,e){if(1&t){n.Xb(0,"div"),n.Xb(1,"div",0),n.Xb(2,"div",1),n.Xb(3,"div",2),n.Xb(4,"div"),n.Xb(5,"mat-icon",3),n.fc("click",function(){return e.close(e.dataResponse)}),n.Tc(6," close"),n.Wb(),n.Wb(),n.Wb(),n.Xb(7,"div",4),n.Xb(8,"div",5),n.Xb(9,"div",6),n.Xb(10,"div",7),n.Rc(11,hu,2,1,"span",8),n.Wb(),n.Xb(12,"div",9),n.Xb(13,"div",10),n.Sb(14,"img",11),n.Tc(15,"\xa0 "),n.Xb(16,"div"),n.Xb(17,"span",12),n.Tc(18),n.Wb(),n.Sb(19,"br"),n.Xb(20,"span",13),n.Tc(21),n.Wb(),n.Wb(),n.Wb(),n.Xb(22,"div",14),n.Xb(23,"mat-icon",15),n.Tc(24,"phone "),n.Wb(),n.Tc(25,"\xa0\xa0\xa0 "),n.Xb(26,"span",16),n.Tc(27),n.Wb(),n.Wb(),n.Xb(28,"div",14),n.Xb(29,"mat-icon",15),n.Tc(30," mail_outline"),n.Wb(),n.Tc(31,"\xa0\xa0 \xa0 "),n.Xb(32,"span",17),n.Tc(33),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(34,"div",18),n.Xb(35,"div",19),n.Rc(36,fu,7,16,"div",20),n.Rc(37,vu,2,1,"div",21),n.Wb(),n.Wb(),n.Sb(38,"br"),n.Sb(39,"br"),n.Sb(40,"br"),n.Sb(41,"br"),n.Xb(42,"div",22),n.Xb(43,"h2"),n.Tc(44),n.Wb(),n.Wb(),n.Xb(45,"div",23),n.Xb(46,"div",24),n.Xb(47,"div",25),n.Tc(48,"1"),n.Wb(),n.Xb(49,"div",26),n.Tc(50,"\xa0"),n.Wb(),n.Wb(),n.Xb(51,"div",27),n.Xb(52,"h2"),n.Tc(53,"Application Entry Stage"),n.Wb(),n.Sb(54,"mat-divider"),n.Xb(55,"div",28),n.Xb(56,"fieldset"),n.Xb(57,"legend",29),n.Tc(58,"Loan Account Details"),n.Wb(),n.Wb(),n.Xb(59,"span"),n.Rc(60,Wu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(61,"mat-card",31),n.Xb(62,"mat-card-content"),n.Xb(63,"div",32),n.Sb(64,"div",33),n.Xb(65,"div",34),n.Xb(66,"div",35),n.Tc(67,"Account Currency"),n.Wb(),n.Xb(68,"div",36),n.Tc(69),n.Wb(),n.Wb(),n.Xb(70,"div",34),n.Xb(71,"div",35),n.Tc(72,"Account Branch"),n.Wb(),n.Xb(73,"div",36),n.Tc(74),n.Wb(),n.Wb(),n.Xb(75,"div",34),n.Xb(76,"div",35),n.Tc(77,"Loan Account ID"),n.Wb(),n.Xb(78,"div",36),n.Tc(79),n.Wb(),n.Wb(),n.Wb(),n.Xb(80,"div",32),n.Sb(81,"div",33),n.Xb(82,"div",34),n.Xb(83,"div",35),n.Tc(84,"Application Date"),n.Wb(),n.Xb(85,"div",36),n.Tc(86),n.Wb(),n.Wb(),n.Xb(87,"div",34),n.Xb(88,"div",35),n.Tc(89,"Customer Contribution"),n.Wb(),n.Xb(90,"div",36),n.Tc(91),n.Wb(),n.Wb(),n.Xb(92,"div",34),n.Xb(93,"div",35),n.Tc(94,"Estimated Cost"),n.Wb(),n.Xb(95,"div",36),n.Tc(96),n.Wb(),n.Wb(),n.Wb(),n.Xb(97,"div",32),n.Sb(98,"div",33),n.Xb(99,"div",34),n.Xb(100,"div",35),n.Tc(101,"Loan Amount"),n.Wb(),n.Xb(102,"div",36),n.Tc(103),n.Wb(),n.Wb(),n.Xb(104,"div",34),n.Xb(105,"div",35),n.Tc(106,"Loan Tenure"),n.Wb(),n.Xb(107,"div",36),n.Tc(108),n.Wb(),n.Wb(),n.Xb(109,"div",34),n.Xb(110,"div",35),n.Tc(111,"Purpose of Loan"),n.Wb(),n.Xb(112,"div",36),n.Tc(113),n.Wb(),n.Wb(),n.Wb(),n.Xb(114,"div",32),n.Sb(115,"div",33),n.Xb(116,"div",34),n.Xb(117,"div",35),n.Tc(118,"Status"),n.Wb(),n.Xb(119,"div",36),n.Tc(120),n.Wb(),n.Wb(),n.Xb(121,"div",34),n.Xb(122,"div",35),n.Tc(123,"Business Product Name"),n.Wb(),n.Xb(124,"div",36),n.Tc(125),n.Wb(),n.Wb(),n.Xb(126,"div",34),n.Xb(127,"div",35),n.Tc(128,"Modification Number"),n.Wb(),n.Xb(129,"div",36),n.Tc(130),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(131,"div",28),n.Xb(132,"fieldset"),n.Xb(133,"legend",29),n.Tc(134,"Asset Information"),n.Wb(),n.Wb(),n.Xb(135,"span"),n.Rc(136,Xu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(137,"mat-card",31),n.Xb(138,"mat-card-content"),n.Xb(139,"div",32),n.Sb(140,"div",33),n.Xb(141,"div",34),n.Xb(142,"div",35),n.Tc(143,"Asset Status"),n.Wb(),n.Xb(144,"div",36),n.Tc(145),n.Wb(),n.Wb(),n.Xb(146,"div",34),n.Xb(147,"div",35),n.Tc(148,"Building"),n.Wb(),n.Xb(149,"div",36),n.Tc(150),n.Wb(),n.Wb(),n.Xb(151,"div",34),n.Xb(152,"div",35),n.Tc(153,"Mortgaged Branch"),n.Wb(),n.Xb(154,"div",36),n.Tc(155),n.Wb(),n.Wb(),n.Wb(),n.Xb(156,"div",32),n.Sb(157,"div",33),n.Xb(158,"div",34),n.Xb(159,"div",35),n.Tc(160,"City"),n.Wb(),n.Xb(161,"div",36),n.Tc(162),n.Wb(),n.Wb(),n.Xb(163,"div",34),n.Xb(164,"div",35),n.Tc(165,"Country"),n.Wb(),n.Xb(166,"div",36),n.Tc(167),n.Wb(),n.Wb(),n.Xb(168,"div",34),n.Xb(169,"div",35),n.Tc(170,"Dimensions"),n.Wb(),n.Xb(171,"div",36),n.Tc(172),n.Wb(),n.Wb(),n.Wb(),n.Xb(173,"div",32),n.Sb(174,"div",33),n.Xb(175,"div",34),n.Xb(176,"div",35),n.Tc(177,"Home Type"),n.Wb(),n.Xb(178,"div",36),n.Tc(179),n.Wb(),n.Wb(),n.Xb(180,"div",34),n.Xb(181,"div",35),n.Tc(182,"Locality"),n.Wb(),n.Xb(183,"div",36),n.Tc(184),n.Wb(),n.Wb(),n.Xb(185,"div",34),n.Xb(186,"div",35),n.Tc(187,"Market Value"),n.Wb(),n.Xb(188,"div",36),n.Tc(189),n.Wb(),n.Wb(),n.Wb(),n.Xb(190,"div",32),n.Sb(191,"div",33),n.Xb(192,"div",34),n.Xb(193,"div",35),n.Tc(194,"State"),n.Wb(),n.Xb(195,"div",36),n.Tc(196),n.Wb(),n.Wb(),n.Xb(197,"div",34),n.Xb(198,"div",35),n.Tc(199,"City"),n.Wb(),n.Xb(200,"div",36),n.Tc(201),n.Wb(),n.Wb(),n.Xb(202,"div",34),n.Xb(203,"div",35),n.Tc(204,"Zip code"),n.Wb(),n.Xb(205,"div",36),n.Tc(206),n.Wb(),n.Wb(),n.Wb(),n.Xb(207,"div",37),n.Sb(208,"div",33),n.Wb(),n.Wb(),n.Wb(),n.Xb(209,"div"),n.Xb(210,"div",28),n.Xb(211,"fieldset"),n.Xb(212,"legend",29),n.Tc(213,"Customer Information Details"),n.Wb(),n.Wb(),n.Xb(214,"span"),n.Rc(215,yu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(216,"mat-card",31),n.Xb(217,"div",38),n.Xb(218,"div",39),n.Sb(219,"div",40),n.Xb(220,"div",41),n.Xb(221,"div",42),n.Xb(222,"div",38),n.Xb(223,"div",43),n.Xb(224,"div",44),n.Xb(225,"div"),n.Xb(226,"mat-card"),n.Xb(227,"div",45),n.Xb(228,"div",46),n.Xb(229,"small",47),n.Tc(230,"Holding Pattern"),n.Wb(),n.Xb(231,"h3",48),n.Tc(232),n.Wb(),n.Wb(),n.Xb(233,"div",46),n.Xb(234,"small",47),n.Tc(235,"Ownership"),n.Wb(),n.Xb(236,"h3",48),n.Tc(237),n.Wb(),n.Wb(),n.Xb(238,"div",46),n.Xb(239,"small",47),n.Tc(240,"Number of Applicant"),n.Wb(),n.Xb(241,"h3",48),n.Tc(242),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Rc(243,Eu,54,10,"div",49),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(244,"div"),n.Xb(245,"div",28),n.Xb(246,"fieldset"),n.Xb(247,"legend",29),n.Tc(248,"Mandate Details"),n.Wb(),n.Wb(),n.Xb(249,"span"),n.Rc(250,Cu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(251,"mat-card"),n.Xb(252,"div",38),n.Xb(253,"div",39),n.Xb(254,"div",40),n.Xb(255,"h4",50),n.Tc(256,"Mandate Details"),n.Wb(),n.Wb(),n.Xb(257,"div",41),n.Xb(258,"div",42),n.Xb(259,"mat-card",51),n.Xb(260,"mat-card-content"),n.Xb(261,"div",38),n.Xb(262,"div",43),n.Xb(263,"div",52),n.Vb(264),n.Xb(265,"div",53),n.Xb(266,"mat-hint",35),n.Tc(267,"Number of Applicants"),n.Wb(),n.Sb(268,"br"),n.Xb(269,"mat-hint",36),n.Tc(270),n.Wb(),n.Wb(),n.Ub(),n.Wb(),n.Xb(271,"div",54),n.Rc(272,xu,27,4,"div",55),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(273,"div"),n.Xb(274,"div",28),n.Xb(275,"fieldset"),n.Xb(276,"legend",29),n.Tc(277,"Collateral Details"),n.Wb(),n.Wb(),n.Xb(278,"span"),n.Rc(279,Du,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(280,"mat-card",31),n.Xb(281,"mat-card-content"),n.Xb(282,"div",32),n.Sb(283,"div",33),n.Xb(284,"div",34),n.Xb(285,"div",35),n.Tc(286,"Attributes"),n.Wb(),n.Xb(287,"div",36),n.Tc(288),n.Wb(),n.Wb(),n.Xb(289,"div",34),n.Xb(290,"div",35),n.Tc(291,"Building"),n.Wb(),n.Xb(292,"div",36),n.Tc(293),n.Wb(),n.Wb(),n.Xb(294,"div",34),n.Xb(295,"div",35),n.Tc(296,"City"),n.Wb(),n.Xb(297,"div",36),n.Tc(298),n.Wb(),n.Wb(),n.Wb(),n.Xb(299,"div",32),n.Sb(300,"div",33),n.Xb(301,"div",34),n.Xb(302,"div",35),n.Tc(303,"Collateral Currency"),n.Wb(),n.Xb(304,"div",36),n.Tc(305),n.Wb(),n.Wb(),n.Xb(306,"div",34),n.Xb(307,"div",35),n.Tc(308,"Collateral Type"),n.Wb(),n.Xb(309,"div",36),n.Tc(310),n.Wb(),n.Wb(),n.Xb(311,"div",34),n.Xb(312,"div",35),n.Tc(313,"Collateral Value"),n.Wb(),n.Xb(314,"div",36),n.Tc(315),n.Wb(),n.Wb(),n.Wb(),n.Xb(316,"div",32),n.Sb(317,"div",33),n.Xb(318,"div",34),n.Xb(319,"div",35),n.Tc(320,"Country"),n.Wb(),n.Xb(321,"div",36),n.Tc(322),n.Wb(),n.Wb(),n.Xb(323,"div",34),n.Xb(324,"div",35),n.Tc(325,"Dimensions"),n.Wb(),n.Xb(326,"div",36),n.Tc(327),n.Wb(),n.Wb(),n.Xb(328,"div",34),n.Xb(329,"div",35),n.Tc(330,"Locality"),n.Wb(),n.Xb(331,"div",36),n.Tc(332),n.Wb(),n.Wb(),n.Wb(),n.Xb(333,"div",32),n.Sb(334,"div",33),n.Xb(335,"div",34),n.Xb(336,"div",35),n.Tc(337,"State"),n.Wb(),n.Xb(338,"div",36),n.Tc(339),n.Wb(),n.Wb(),n.Xb(340,"div",34),n.Xb(341,"div",35),n.Tc(342,"Third Party Collateral"),n.Wb(),n.Xb(343,"div",36),n.Tc(344),n.Wb(),n.Wb(),n.Xb(345,"div",34),n.Xb(346,"div",35),n.Tc(347,"Street"),n.Wb(),n.Xb(348,"div",36),n.Tc(349),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(350,"mat-card",31),n.Rc(351,Ru,2,1,"div",56),n.Wb(),n.Wb(),n.Xb(352,"div"),n.Xb(353,"div",28),n.Xb(354,"fieldset"),n.Xb(355,"legend",29),n.Tc(356,"Guarantor Details"),n.Wb(),n.Wb(),n.Xb(357,"span"),n.Rc(358,Su,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(359,"mat-card",31),n.Xb(360,"mat-card-content"),n.Xb(361,"div",32),n.Sb(362,"div",33),n.Xb(363,"div",34),n.Xb(364,"div",35),n.Tc(365,"Prefix"),n.Wb(),n.Xb(366,"div",36),n.Tc(367),n.Wb(),n.Wb(),n.Xb(368,"div",34),n.Xb(369,"div",35),n.Tc(370,"First Name"),n.Wb(),n.Xb(371,"div",36),n.Tc(372),n.Wb(),n.Wb(),n.Xb(373,"div",34),n.Xb(374,"div",35),n.Tc(375,"Last Name"),n.Wb(),n.Xb(376,"div",36),n.Tc(377),n.Wb(),n.Wb(),n.Wb(),n.Xb(378,"div",32),n.Sb(379,"div",33),n.Xb(380,"div",34),n.Xb(381,"div",35),n.Tc(382,"CIF Number"),n.Wb(),n.Xb(383,"div",36),n.Tc(384),n.Wb(),n.Wb(),n.Xb(385,"div",34),n.Xb(386,"div",35),n.Tc(387,"Relationship with Customer"),n.Wb(),n.Xb(388,"div",36),n.Tc(389),n.Wb(),n.Wb(),n.Xb(390,"div",34),n.Xb(391,"div",35),n.Tc(392,"Country"),n.Wb(),n.Xb(393,"div",36),n.Tc(394),n.Wb(),n.Wb(),n.Wb(),n.Xb(395,"div",32),n.Sb(396,"div",33),n.Xb(397,"div",34),n.Xb(398,"div",35),n.Tc(399,"Date Of Birth"),n.Wb(),n.Xb(400,"div",36),n.Tc(401),n.Wb(),n.Wb(),n.Xb(402,"div",34),n.Xb(403,"div",35),n.Tc(404,"Email address"),n.Wb(),n.Xb(405,"div",36),n.Tc(406),n.Wb(),n.Wb(),n.Xb(407,"div",34),n.Xb(408,"div",35),n.Tc(409,"Mobile Number"),n.Wb(),n.Xb(410,"div",36),n.Tc(411),n.Wb(),n.Wb(),n.Wb(),n.Xb(412,"div",32),n.Sb(413,"div",33),n.Xb(414,"div",34),n.Xb(415,"div",35),n.Tc(416,"Address 1"),n.Wb(),n.Xb(417,"div",36),n.Tc(418),n.Wb(),n.Wb(),n.Xb(419,"div",34),n.Xb(420,"div",35),n.Tc(421,"Address 2"),n.Wb(),n.Xb(422,"div",36),n.Tc(423),n.Wb(),n.Wb(),n.Xb(424,"div",34),n.Xb(425,"div",35),n.Tc(426,"City"),n.Wb(),n.Xb(427,"div",36),n.Tc(428),n.Wb(),n.Wb(),n.Wb(),n.Xb(429,"div",32),n.Sb(430,"div",33),n.Xb(431,"div",34),n.Xb(432,"div",35),n.Tc(433,"State"),n.Wb(),n.Xb(434,"div",36),n.Tc(435),n.Wb(),n.Wb(),n.Xb(436,"div",34),n.Xb(437,"div",35),n.Tc(438,"Phone Number"),n.Wb(),n.Xb(439,"div",36),n.Tc(440),n.Wb(),n.Wb(),n.Xb(441,"div",34),n.Xb(442,"div",35),n.Tc(443,"Zip Code"),n.Wb(),n.Xb(444,"div",36),n.Tc(445),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(446,"div",23),n.Xb(447,"div",24),n.Xb(448,"div",25),n.Tc(449,"2"),n.Wb(),n.Xb(450,"div",26),n.Tc(451,"\xa0"),n.Wb(),n.Wb(),n.Xb(452,"div",27),n.Xb(453,"h2"),n.Tc(454,"Loan Application Enrichment"),n.Wb(),n.Sb(455,"hr"),n.Xb(456,"mat-card",57),n.Xb(457,"div",27),n.Sb(458,"hr"),n.Xb(459,"mat-card"),n.Xb(460,"div",28),n.Xb(461,"fieldset"),n.Xb(462,"legend",29),n.Tc(463,"Interest Details"),n.Wb(),n.Wb(),n.Xb(464,"span"),n.Rc(465,Nu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Rc(466,Pu,30,4,"mat-card",58),n.Wb(),n.Sb(467,"br"),n.Sb(468,"hr"),n.Wb(),n.Wb(),n.Sb(469,"br"),n.Xb(470,"mat-card",59),n.Xb(471,"div",28),n.Xb(472,"fieldset"),n.Xb(473,"legend",29),n.Tc(474,"Loan Disbursement Details"),n.Wb(),n.Wb(),n.Xb(475,"span"),n.Rc(476,ku,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(477,"mat-card",31),n.Xb(478,"mat-card-content"),n.Xb(479,"div",32),n.Sb(480,"div",33),n.Xb(481,"div",34),n.Xb(482,"div",35),n.Tc(483,"Branch Code"),n.Wb(),n.Xb(484,"div",36),n.Tc(485),n.Wb(),n.Wb(),n.Xb(486,"div",34),n.Xb(487,"div",35),n.Tc(488,"Customer Account"),n.Wb(),n.Xb(489,"div",36),n.Tc(490),n.Wb(),n.Wb(),n.Xb(491,"div",34),n.Xb(492,"div",35),n.Tc(493,"Disbursement Mode"),n.Wb(),n.Xb(494,"div",36),n.Tc(495),n.Wb(),n.Wb(),n.Wb(),n.Xb(496,"div",32),n.Sb(497,"div",33),n.Xb(498,"div",34),n.Xb(499,"div",35),n.Tc(500,"First Disbursement Date"),n.Wb(),n.Xb(501,"div",36);n.Tc(502),n.Wb(),n.Wb(),n.Xb(503,"div",34),n.Xb(504,"div",35),n.Tc(505,"Loan Amount"),n.Wb(),n.Xb(506,"div",36),n.Tc(507),n.Wb(),n.Wb(),n.Xb(508,"div",34),n.Xb(509,"div",35),n.Tc(510,"Multiple Disbursement Required"),n.Wb(),n.Xb(511,"div",36),n.Tc(512),n.Wb(),n.Wb(),n.Wb(),n.Xb(513,"div",32),n.Sb(514,"div",33),n.Xb(515,"div",34),n.Xb(516,"div",35),n.Tc(517,"Number Of Disbursement"),n.Wb(),n.Xb(518,"div",36),n.Tc(519),n.Wb(),n.Wb(),n.Xb(520,"div",34),n.Xb(521,"div",35),n.Tc(522,"Total Disbursement"),n.Wb(),n.Xb(523,"div",36),n.Tc(524),n.Wb(),n.Wb(),n.Sb(525,"div",34),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(526,"br"),n.Xb(527,"mat-card",59),n.Xb(528,"div",28),n.Xb(529,"fieldset"),n.Xb(530,"legend",29),n.Tc(531,"Loan Repayment Details"),n.Wb(),n.Wb(),n.Xb(532,"span"),n.Rc(533,Fu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(534,"mat-card",31),n.Xb(535,"mat-card-content"),n.Xb(536,"div",32),n.Sb(537,"div",33),n.Xb(538,"div",34),n.Xb(539,"div",35),n.Tc(540,"Bank Name"),n.Wb(),n.Xb(541,"div",36),n.Tc(542),n.Wb(),n.Wb(),n.Xb(543,"div",34),n.Xb(544,"div",35),n.Tc(545,"Branch Code"),n.Wb(),n.Xb(546,"div",36),n.Tc(547),n.Wb(),n.Wb(),n.Xb(548,"div",34),n.Xb(549,"div",35),n.Tc(550,"Customer Account"),n.Wb(),n.Xb(551,"div",36),n.Tc(552),n.Wb(),n.Wb(),n.Wb(),n.Xb(553,"div",32),n.Sb(554,"div",33),n.Xb(555,"div",34),n.Xb(556,"div",35),n.Tc(557,"First Repayment Date"),n.Wb(),n.Xb(558,"div",36),n.Tc(559),n.Wb(),n.Wb(),n.Xb(560,"div",34),n.Xb(561,"div",35),n.Tc(562,"Loan Tenure"),n.Wb(),n.Xb(563,"div",36),n.Tc(564),n.Wb(),n.Wb(),n.Xb(565,"div",34),n.Xb(566,"div",35),n.Tc(567,"Maturity Date"),n.Wb(),n.Xb(568,"div",36),n.Tc(569),n.Wb(),n.Wb(),n.Wb(),n.Xb(570,"div",32),n.Sb(571,"div",33),n.Xb(572,"div",34),n.Xb(573,"div",35),n.Tc(574,"Moraturioum Period"),n.Wb(),n.Xb(575,"div",36),n.Tc(576),n.Wb(),n.Wb(),n.Xb(577,"div",34),n.Xb(578,"div",35),n.Tc(579,"Type Of Repayment"),n.Wb(),n.Xb(580,"div",36),n.Tc(581),n.Wb(),n.Wb(),n.Xb(582,"div",34),n.Xb(583,"div",35),n.Tc(584,"Repayment Frequency"),n.Wb(),n.Xb(585,"div",36),n.Tc(586),n.Wb(),n.Wb(),n.Wb(),n.Xb(587,"div",32),n.Sb(588,"div",33),n.Xb(589,"div",34),n.Xb(590,"div",35),n.Tc(591,"Repayment Mode"),n.Wb(),n.Xb(592,"div",36),n.Tc(593),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(594,"br"),n.Xb(595,"mat-card"),n.Xb(596,"div",28),n.Xb(597,"fieldset"),n.Xb(598,"legend",29),n.Tc(599,"Loan Charge Details"),n.Wb(),n.Wb(),n.Xb(600,"span"),n.Rc(601,Lu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Rc(602,_u,30,4,"mat-card",58),n.Wb(),n.Xb(603,"mat-card"),n.Xb(604,"div",28),n.Xb(605,"fieldset"),n.Xb(606,"legend",29),n.Tc(607,"Account Service Details"),n.Wb(),n.Wb(),n.Sb(608,"span"),n.Wb(),n.Xb(609,"mat-card",31),n.Xb(610,"mat-card-content"),n.Xb(611,"div",32),n.Sb(612,"div",33),n.Xb(613,"div",34),n.Xb(614,"div",35),n.Tc(615,"Statement Cycle"),n.Wb(),n.Xb(616,"div",36),n.Tc(617),n.Wb(),n.Wb(),n.Xb(618,"div",34),n.Xb(619,"div",35),n.Tc(620,"Statement Type"),n.Wb(),n.Xb(621,"div",36),n.Tc(622),n.Wb(),n.Wb(),n.Xb(623,"div",34),n.Xb(624,"div",35),n.Tc(625,"start Date"),n.Wb(),n.Xb(626,"div",36),n.Tc(627),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(628,"br"),n.Xb(629,"div",23),n.Xb(630,"div",24),n.Xb(631,"div",25),n.Tc(632,"3"),n.Wb(),n.Xb(633,"div",26),n.Tc(634,"\xa0"),n.Wb(),n.Wb(),n.Xb(635,"div",27),n.Xb(636,"h2"),n.Tc(637,"Loan Underwriting Stage"),n.Wb(),n.Sb(638,"hr"),n.Xb(639,"mat-card",59),n.Xb(640,"div",28),n.Xb(641,"fieldset"),n.Xb(642,"legend",29),n.Tc(643,"Loan Credit Score Details"),n.Wb(),n.Wb(),n.Xb(644,"span"),n.Rc(645,wu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Rc(646,Mu,3,1,"mat-card",60),n.Wb(),n.Sb(647,"br"),n.Xb(648,"mat-card",59),n.Xb(649,"div",28),n.Xb(650,"fieldset"),n.Xb(651,"legend",29),n.Tc(652,"Valuation of Asset Details"),n.Wb(),n.Wb(),n.Xb(653,"span"),n.Rc(654,Gu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(655,"mat-card",31),n.Xb(656,"mat-card-content"),n.Xb(657,"div",32),n.Sb(658,"div",33),n.Xb(659,"div",34),n.Xb(660,"div",35),n.Tc(661,"Bank Valuation"),n.Wb(),n.Xb(662,"div",36),n.Tc(663),n.Wb(),n.Wb(),n.Xb(664,"div",34),n.Xb(665,"div",35),n.Tc(666,"Asset Type"),n.Wb(),n.Xb(667,"div",36),n.Tc(668),n.Wb(),n.Wb(),n.Xb(669,"div",34),n.Xb(670,"div",35),n.Tc(671,"Property Area Size"),n.Wb(),n.Xb(672,"div",36),n.Tc(673),n.Wb(),n.Wb(),n.Wb(),n.Xb(674,"div",32),n.Sb(675,"div",33),n.Xb(676,"div",34),n.Xb(677,"div",35),n.Tc(678,"Actual Property Area Size"),n.Wb(),n.Xb(679,"div",36),n.Tc(680),n.Wb(),n.Wb(),n.Xb(681,"div",34),n.Xb(682,"div",35),n.Tc(683,"Borrower's Market Value"),n.Wb(),n.Xb(684,"div",36),n.Tc(685),n.Wb(),n.Wb(),n.Xb(686,"div",34),n.Xb(687,"div",35),n.Tc(688,"Face Value Of Asset"),n.Wb(),n.Xb(689,"div",36),n.Tc(690),n.Wb(),n.Wb(),n.Wb(),n.Xb(691,"div",32),n.Sb(692,"div",33),n.Xb(693,"div",34),n.Xb(694,"div",35),n.Tc(695,"Market Value Of Asset"),n.Wb(),n.Xb(696,"div",36),n.Tc(697),n.Wb(),n.Wb(),n.Xb(698,"div",34),n.Xb(699,"div",35),n.Tc(700,"Asset Valuer"),n.Wb(),n.Xb(701,"div",36),n.Tc(702),n.Wb(),n.Wb(),n.Xb(703,"div",34),n.Xb(704,"div",35),n.Tc(705,"Forced Sale Value"),n.Wb(),n.Xb(706,"div",36),n.Tc(707),n.Wb(),n.Wb(),n.Wb(),n.Xb(708,"div",32),n.Sb(709,"div",33),n.Xb(710,"div",34),n.Xb(711,"div",35),n.Tc(712,"Valuation Date"),n.Wb(),n.Xb(713,"div",36),n.Tc(714),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(715,"br"),n.Xb(716,"mat-card",59),n.Xb(717,"div",28),n.Xb(718,"fieldset"),n.Xb(719,"legend",29),n.Tc(720,"Legal Opinion Details"),n.Wb(),n.Wb(),n.Xb(721,"span"),n.Rc(722,Vu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(723,"mat-card",31),n.Xb(724,"mat-card-content"),n.Xb(725,"div",32),n.Sb(726,"div",33),n.Xb(727,"div",34),n.Xb(728,"div",35),n.Tc(729,"Opinion"),n.Wb(),n.Xb(730,"div",36),n.Tc(731),n.Wb(),n.Wb(),n.Xb(732,"div",34),n.Xb(733,"div",35),n.Tc(734,"Asset Area Size"),n.Wb(),n.Xb(735,"div",36),n.Tc(736),n.Wb(),n.Wb(),n.Xb(737,"div",34),n.Xb(738,"div",35),n.Tc(739,"Description"),n.Wb(),n.Xb(740,"div",36),n.Tc(741),n.Wb(),n.Wb(),n.Wb(),n.Xb(742,"div",32),n.Sb(743,"div",33),n.Xb(744,"div",34),n.Xb(745,"div",35),n.Tc(746,"Lawyer Name"),n.Wb(),n.Xb(747,"div",36),n.Tc(748),n.Wb(),n.Wb(),n.Xb(749,"div",34),n.Xb(750,"div",35),n.Tc(751,"Market Value Of Asset"),n.Wb(),n.Xb(752,"div",36),n.Tc(753),n.Wb(),n.Wb(),n.Xb(754,"div",34),n.Xb(755,"div",35),n.Tc(756,"Opinion Date"),n.Wb(),n.Xb(757,"div",36),n.Tc(758),n.Wb(),n.Wb(),n.Wb(),n.Xb(759,"div",32),n.Sb(760,"div",33),n.Xb(761,"div",34),n.Xb(762,"div",35),n.Tc(763,"Is Decision Favorable?"),n.Wb(),n.Xb(764,"div",36),n.Tc(765),n.Wb(),n.Wb(),n.Xb(766,"div",34),n.Xb(767,"div",35),n.Tc(768,"Valuation Date"),n.Wb(),n.Xb(769,"div",36),n.Tc(770),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(771,"br"),n.Xb(772,"div",23),n.Xb(773,"div",24),n.Xb(774,"div",25),n.Tc(775,"4"),n.Wb(),n.Xb(776,"div",26),n.Tc(777,"\xa0"),n.Wb(),n.Wb(),n.Xb(778,"div",27),n.Xb(779,"h2"),n.Tc(780,"Loan Assessment Details"),n.Wb(),n.Sb(781,"hr"),n.Xb(782,"mat-card",59),n.Xb(783,"div",28),n.Xb(784,"fieldset"),n.Xb(785,"legend",29),n.Tc(786,"Qualitative Scoreboard"),n.Wb(),n.Wb(),n.Sb(787,"span"),n.Wb(),n.Xb(788,"mat-card",31),n.Xb(789,"mat-card-content"),n.Xb(790,"div",32),n.Sb(791,"div",33),n.Xb(792,"div",34),n.Xb(793,"div",35),n.Tc(794,"ScoreCard Id"),n.Wb(),n.Xb(795,"div",36),n.Tc(796),n.Wb(),n.Wb(),n.Xb(797,"div",34),n.Xb(798,"div",35),n.Tc(799,"Number Of Applicants"),n.Wb(),n.Xb(800,"div",36),n.Tc(801),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(802,"mat-card",31),n.Xb(803,"mat-card-content"),n.Xb(804,"div",61),n.Xb(805,"div",62),n.Rc(806,ju,5,2,"div",58),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(807,"mat-card",59),n.Xb(808,"div",28),n.Xb(809,"fieldset"),n.Xb(810,"legend",29),n.Tc(811,"Assessment Details"),n.Wb(),n.Wb(),n.Xb(812,"span"),n.Rc(813,zu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(814,"mat-card",31),n.Xb(815,"mat-card-content"),n.Xb(816,"div",32),n.Sb(817,"div",33),n.Xb(818,"div",34),n.Xb(819,"div",35),n.Tc(820,"Approved Loan Amount"),n.Wb(),n.Xb(821,"div",36),n.Tc(822),n.Wb(),n.Wb(),n.Xb(823,"div",34),n.Xb(824,"div",35),n.Tc(825,"Loan Tenure"),n.Wb(),n.Xb(826,"div",36),n.Tc(827),n.Wb(),n.Wb(),n.Xb(828,"div",34),n.Xb(829,"div",35),n.Tc(830,"Rate Of Interest"),n.Wb(),n.Xb(831,"div",36),n.Tc(832),n.Wb(),n.Wb(),n.Wb(),n.Xb(833,"div",32),n.Sb(834,"div",33),n.Xb(835,"div",34),n.Xb(836,"div",35),n.Tc(837,"Loan Amount Recommended"),n.Wb(),n.Xb(838,"div",36),n.Tc(839),n.Wb(),n.Wb(),n.Xb(840,"div",34),n.Xb(841,"div",35),n.Tc(842,"System Recommendation"),n.Wb(),n.Xb(843,"div",36),n.Tc(844),n.Wb(),n.Wb(),n.Xb(845,"div",34),n.Xb(846,"div",35),n.Tc(847,"User Recommendation"),n.Wb(),n.Xb(848,"div",36),n.Tc(849),n.Wb(),n.Wb(),n.Wb(),n.Xb(850,"div",32),n.Sb(851,"div",33),n.Xb(852,"div",34),n.Xb(853,"div",35),n.Tc(854,"Requested Loan Amount"),n.Wb(),n.Xb(855,"div",36),n.Tc(856),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(857,"br"),n.Wb(),n.Wb(),n.Sb(858,"br"),n.Xb(859,"div",23),n.Xb(860,"div",24),n.Xb(861,"div",25),n.Tc(862,"5"),n.Wb(),n.Xb(863,"div",26),n.Tc(864,"\xa0"),n.Wb(),n.Wb(),n.Xb(865,"div",27),n.Xb(866,"h2"),n.Tc(867,"Loan Offer Issue"),n.Wb(),n.Sb(868,"hr"),n.Sb(869,"br"),n.Xb(870,"mat-card",59),n.Xb(871,"div",28),n.Xb(872,"fieldset"),n.Xb(873,"legend",29),n.Tc(874,"Offer Issue Details"),n.Wb(),n.Wb(),n.Xb(875,"span"),n.Rc(876,qu,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Xb(877,"mat-card",31),n.Xb(878,"mat-card-content"),n.Xb(879,"div",32),n.Sb(880,"div",33),n.Xb(881,"div",34),n.Xb(882,"div",35),n.Tc(883,"Applicant Name"),n.Wb(),n.Xb(884,"div",36),n.Tc(885),n.Wb(),n.Wb(),n.Xb(886,"div",34),n.Xb(887,"div",35),n.Tc(888,"Approved Loan Amount"),n.Wb(),n.Xb(889,"div",36),n.Tc(890),n.Wb(),n.Wb(),n.Xb(891,"div",34),n.Xb(892,"div",35),n.Tc(893,"Charges"),n.Wb(),n.Xb(894,"div",36),n.Tc(895),n.Wb(),n.Wb(),n.Wb(),n.Xb(896,"div",32),n.Sb(897,"div",33),n.Xb(898,"div",34),n.Xb(899,"div",35),n.Tc(900,"Generate Offer"),n.Wb(),n.Xb(901,"div",36),n.Tc(902),n.Wb(),n.Wb(),n.Xb(903,"div",34),n.Xb(904,"div",35),n.Tc(905,"Installment Amount"),n.Wb(),n.Xb(906,"div",36),n.Tc(907),n.Wb(),n.Wb(),n.Xb(908,"div",34),n.Xb(909,"div",35),n.Tc(910,"Installment Type"),n.Wb(),n.Xb(911,"div",36),n.Tc(912),n.Wb(),n.Wb(),n.Wb(),n.Xb(913,"div",32),n.Sb(914,"div",33),n.Xb(915,"div",34),n.Xb(916,"div",35),n.Tc(917,"Interest"),n.Wb(),n.Xb(918,"div",36),n.Tc(919),n.Wb(),n.Wb(),n.Xb(920,"div",34),n.Xb(921,"div",35),n.Tc(922,"Loan Tenure"),n.Wb(),n.Xb(923,"div",36),n.Tc(924),n.Wb(),n.Wb(),n.Xb(925,"div",34),n.Xb(926,"div",35),n.Tc(927,"Offer Issue Date"),n.Wb(),n.Xb(928,"div",36),n.Tc(929),n.Wb(),n.Wb(),n.Wb(),n.Xb(930,"div",32),n.Sb(931,"div",33),n.Xb(932,"div",34),n.Xb(933,"div",35),n.Tc(934,"Principal"),n.Wb(),n.Xb(935,"div",36),n.Tc(936),n.Wb(),n.Wb(),n.Xb(937,"div",34),n.Xb(938,"div",35),n.Tc(939,"Rate Of Interest"),n.Wb(),n.Xb(940,"div",36),n.Tc(941),n.Wb(),n.Wb(),n.Sb(942,"div",34),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(943,"br"),n.Wb(),n.Wb(),n.Sb(944,"br"),n.Xb(945,"div",23),n.Xb(946,"div",24),n.Xb(947,"div",25),n.Tc(948,"6"),n.Wb(),n.Xb(949,"div",26),n.Tc(950,"\xa0"),n.Wb(),n.Wb(),n.Xb(951,"div",27),n.Xb(952,"h2"),n.Tc(953,"Offer Accept/Reject Stage"),n.Wb(),n.Sb(954,"hr"),n.Sb(955,"br"),n.Xb(956,"mat-card",59),n.Xb(957,"div",28),n.Xb(958,"fieldset"),n.Xb(959,"legend",29),n.Tc(960,"Offer Accept Details"),n.Wb(),n.Wb(),n.Xb(961,"span"),n.Rc(962,Ju,2,0,"mat-icon",30),n.Wb(),n.Wb(),n.Rc(963,Ku,60,10,"mat-card",60),n.Wb(),n.Sb(964,"br"),n.Wb(),n.Wb(),n.Sb(965,"br"),n.Xb(966,"div",23),n.Xb(967,"div",24),n.Xb(968,"div",25),n.Tc(969,"7"),n.Wb(),n.Xb(970,"div",26),n.Tc(971,"\xa0"),n.Wb(),n.Wb(),n.Xb(972,"div",27),n.Xb(973,"h2"),n.Tc(974,"Post Offer Amend Stage"),n.Wb(),n.Sb(975,"hr"),n.Sb(976,"br"),n.Xb(977,"mat-card",59),n.Xb(978,"div",28),n.Xb(979,"fieldset"),n.Xb(980,"legend",29),n.Tc(981,"Post Offer Amend Stage"),n.Wb(),n.Wb(),n.Sb(982,"span"),n.Wb(),n.Rc(983,$u,65,11,"mat-card",60),n.Wb(),n.Sb(984,"br"),n.Wb(),n.Wb(),n.Sb(985,"br"),n.Xb(986,"div",23),n.Xb(987,"div",24),n.Xb(988,"div",25),n.Tc(989,"8"),n.Wb(),n.Xb(990,"div",26),n.Tc(991,"\xa0"),n.Wb(),n.Wb(),n.Xb(992,"div",27),n.Xb(993,"h2"),n.Tc(994,"Account Credit Details Stage"),n.Wb(),n.Sb(995,"hr"),n.Sb(996,"br"),n.Xb(997,"mat-card",59),n.Xb(998,"div",28),n.Xb(999,"fieldset"),n.Xb(1e3,"legend",29),n.Tc(1001,"Account Create Details Stage"),n.Wb(),n.Wb();n.Sb(1002,"span"),n.Wb(),n.Rc(1003,Hu,82,14,"mat-card",60),n.Wb(),n.Sb(1004,"br"),n.Wb(),n.Wb(),n.Sb(1005,"br"),n.Sb(1006,"br"),n.Xb(1007,"div",63),n.Xb(1008,"div",24),n.Xb(1009,"div",25),n.Tc(1010,"9"),n.Wb(),n.Xb(1011,"div",26),n.Tc(1012,"\xa0"),n.Wb(),n.Wb(),n.Xb(1013,"div",64),n.Xb(1014,"h2"),n.Tc(1015,"Digital Sign"),n.Wb(),n.Xb(1016,"div",65),n.Xb(1017,"fieldset"),n.Xb(1018,"legend",29),n.Tc(1019,"Digital Sign"),n.Wb(),n.Wb(),n.Wb(),n.Xb(1020,"mat-card",31),n.Xb(1021,"mat-card-content"),n.Xb(1022,"div",32),n.Sb(1023,"div",33),n.Xb(1024,"div",34),n.Xb(1025,"div",35),n.Tc(1026,"Document Name"),n.Wb(),n.Xb(1027,"div",36),n.Tc(1028),n.Wb(),n.Wb(),n.Xb(1029,"div",34),n.Xb(1030,"div",35),n.Tc(1031,"File Type"),n.Wb(),n.Xb(1032,"div",36),n.Tc(1033),n.Wb(),n.Wb(),n.Xb(1034,"div",34),n.Xb(1035,"div",35),n.Tc(1036,"File Name"),n.Wb(),n.Xb(1037,"div",36),n.Tc(1038),n.Wb(),n.Wb(),n.Xb(1039,"div",34),n.Xb(1040,"div",35),n.Tc(1041,"Download"),n.Wb(),n.Rc(1042,Yu,4,1,"div",66),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(1043,"div"),n.Xb(1044,"div",67),n.Xb(1045,"div",68),n.fc("click",function(){return e.continue()}),n.Xb(1046,"label",69),n.Tc(1047,"Cotinue"),n.Wb(),n.Wb(),n.Xb(1048,"div",70),n.fc("click",function(){return e.updateApplicationStatus(e.loanAccount_array,"REJECTED")}),n.Xb(1049,"mat-icon",71),n.Tc(1050," highlight_off "),n.Wb(),n.Tc(1051,"\xa0\xa0\xa0 "),n.Xb(1052,"label",72),n.Tc(1053,"Reject"),n.Wb(),n.Wb(),n.Tc(1054," \xa0\xa0 "),n.Xb(1055,"div",73),n.fc("click",function(){return e.updateApplicationStatus(e.loanAccount_array,"APPROVED")}),n.Xb(1056,"mat-icon",74),n.Tc(1057,"check_circle"),n.Wb(),n.Tc(1058,"\xa0\xa0\xa0 "),n.Xb(1059,"label",75),n.Tc(1060,"Approve"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Sb(1061,"br"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb()}2&t&&(n.Eb(11),n.rc("ngForOf",e.nameCreater),n.Eb(7),n.Vc("",null==e.createDataInfo?null:e.createDataInfo.createdBy," "),n.Eb(3),n.Vc("EID #",null==e.createDataInfo?null:e.createDataInfo.creatorId,""),n.Eb(6),n.Vc(" ",null==e.createDataInfo?null:e.createDataInfo.mobile," "),n.Eb(6),n.Vc(" ",null==e.createDataInfo?null:e.createDataInfo.email," "),n.Eb(3),n.rc("ngIf","not_available"==e.imageUrl),n.Eb(1),n.rc("ngIf","not_available"!==e.imageUrl),n.Eb(7),n.Xc("",e.loanInfo.prefix,"\xa0",e.loanInfo.firstName,"\xa0",e.loanInfo.lastName,""),n.Eb(16),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(9),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.accountCurrency),n.Eb(5),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.accountBranch),n.Eb(5),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanAccountId),n.Eb(7),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.applicationDate.slice(0,12)),n.Eb(5),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.customerContribution),n.Eb(5),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.estimatedCost),n.Eb(7),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanAmount),n.Eb(5),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.loanTenure),n.Eb(5),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.purposeOfLoan),n.Eb(7),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.status),n.Eb(5),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.businessProductName),n.Eb(5),n.Uc(null==e.loanAccount_array?null:e.loanAccount_array.modificationNo),n.Eb(6),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(9),n.Uc(null==e.assest_array?null:e.assest_array.assetStatus),n.Eb(5),n.Uc(null==e.assest_array?null:e.assest_array.building),n.Eb(5),n.Uc(null==e.assest_array?null:e.assest_array.mortgagedBranch),n.Eb(7),n.Uc(null==e.assest_array?null:e.assest_array.city),n.Eb(5),n.Uc(null==e.assest_array?null:e.assest_array.country),n.Eb(5),n.Uc(null==e.assest_array?null:e.assest_array.dimensions),n.Eb(7),n.Uc(null==e.assest_array?null:e.assest_array.homeType),n.Eb(5),n.Uc(null==e.assest_array?null:e.assest_array.locality),n.Eb(5),n.Uc(null==e.assest_array?null:e.assest_array.marketValue),n.Eb(7),n.Uc(null==e.assest_array?null:e.assest_array.state),n.Eb(5),n.Uc(null==e.assest_array?null:e.assest_array.city),n.Eb(5),n.Uc(null==e.assest_array?null:e.assest_array.zipCode),n.Eb(9),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(17),n.Uc(e.ownership),n.Eb(5),n.Uc(e.ownership),n.Eb(5),n.Uc(e.noOfApplicants),n.Eb(1),n.rc("ngForOf",e.customerInfoDetails),n.Eb(7),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(20),n.Uc(null==e.mandateDetails?null:e.mandateDetails.noOfApplicants),n.Eb(2),n.rc("ngForOf",e.mandateDetailsArray),n.Eb(7),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(9),n.Uc(null==e.colateral_array?null:e.colateral_array.attributes),n.Eb(5),n.Uc(null==e.colateral_array?null:e.colateral_array.building),n.Eb(5),n.Uc(null==e.colateral_array?null:e.colateral_array.city),n.Eb(7),n.Uc(null==e.colateral_array?null:e.colateral_array.collateralCurrency),n.Eb(5),n.Uc(null==e.colateral_array?null:e.colateral_array.collateralType),n.Eb(5),n.Uc(null==e.colateral_array?null:e.colateral_array.collateralValue),n.Eb(7),n.Uc(null==e.colateral_array?null:e.colateral_array.country),n.Eb(5),n.Uc(null==e.colateral_array?null:e.colateral_array.dimensions),n.Eb(5),n.Uc(null==e.colateral_array?null:e.colateral_array.locality),n.Eb(7),n.Uc(null==e.colateral_array?null:e.colateral_array.state),n.Eb(5),n.Uc(null==e.colateral_array?null:e.colateral_array.thirdPartyCollateral),n.Eb(5),n.Uc(null==e.colateral_array?null:e.colateral_array.street),n.Eb(2),n.rc("ngIf",e.colateral_array),n.Eb(7),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(9),n.Uc(null==e.guranator_array?null:e.guranator_array.prefix),n.Eb(5),n.Uc(null==e.guranator_array?null:e.guranator_array.firstName),n.Eb(5),n.Uc(null==e.guranator_array?null:e.guranator_array.lastName),n.Eb(7),n.Uc(null==e.guranator_array?null:e.guranator_array.cifNumber),n.Eb(5),n.Uc(null==e.guranator_array?null:e.guranator_array.relationWithCustomer),n.Eb(5),n.Uc(null==e.guranator_array?null:e.guranator_array.country),n.Eb(7),n.Uc(null==e.guranator_array?null:e.guranator_array.dateOfBirth),n.Eb(5),n.Uc(null==e.guranator_array?null:e.guranator_array.emailAddress),n.Eb(5),n.Uc(null==e.guranator_array?null:e.guranator_array.mobileNumber),n.Eb(7),n.Uc(null==e.guranator_array?null:e.guranator_array.address1),n.Eb(5),n.Uc(null==e.guranator_array?null:e.guranator_array.address2),n.Eb(5),n.Uc(null==e.guranator_array?null:e.guranator_array.city),n.Eb(7),n.Uc(null==e.guranator_array?null:e.guranator_array.state),n.Eb(5),n.Uc(null==e.guranator_array?null:e.guranator_array.phoneNumber),n.Eb(5),n.Uc(null==e.guranator_array?null:e.guranator_array.zipCode),n.Eb(20),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(1),n.rc("ngForOf",e.loanInterest_array),n.Eb(10),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(9),n.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.branchCode),n.Eb(5),n.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.customerAccount),n.Eb(5),n.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.disbursementMode),n.Eb(7),n.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.firstDisbursementDate),n.Eb(5),n.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.loanAmount),n.Eb(5),n.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.mutipleDisbursementRequired),n.Eb(7),n.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.numberOfDisbursement),n.Eb(5),n.Uc(null==e.loanDisbusment_array?null:e.loanDisbusment_array.totalDisbursement),n.Eb(9),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(9),n.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.bankName),n.Eb(5),n.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.branchCode),n.Eb(5),n.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.customerAccount),n.Eb(7),n.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.firstRepaymentDate),n.Eb(5),n.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.loanTenure),n.Eb(5),n.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.maturityDate),n.Eb(7),n.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.moraturioumPeriod),n.Eb(5),n.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.typeOfRepayment),n.Eb(5),n.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.repaymentFrequency),n.Eb(7),n.Uc(null==e.loanRepayment_array?null:e.loanRepayment_array.repaymentMode),n.Eb(8),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(1),n.rc("ngForOf",e.loanCharge_array),n.Eb(15),n.Uc(null==e.accountService_array?null:e.accountService_array.statementCycle),n.Eb(5),n.Uc(null==e.accountService_array?null:e.accountService_array.statementType),n.Eb(5),n.Uc(null==e.accountService_array?null:e.accountService_array.startDate),n.Eb(18),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(1),n.rc("ngIf",e.loanCreditScore_array),n.Eb(8),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(9),n.Uc(null==e.valueofassest_array?null:e.valueofassest_array.bankValuation),n.Eb(5),n.Uc(null==e.valueofassest_array?null:e.valueofassest_array.assetType),n.Eb(5),n.Uc(null==e.valueofassest_array?null:e.valueofassest_array.propertyAreaSize),n.Eb(7),n.Uc(null==e.valueofassest_array?null:e.valueofassest_array.actualPropertyAreaSize),n.Eb(5),n.Uc(null==e.valueofassest_array?null:e.valueofassest_array.borrowersMktValOfAsset),n.Eb(5),n.Uc(null==e.valueofassest_array?null:e.valueofassest_array.faceValOfAsset),n.Eb(7),n.Uc(null==e.valueofassest_array?null:e.valueofassest_array.mktValOfAsset),n.Eb(5),n.Uc(null==e.valueofassest_array?null:e.valueofassest_array.assetValue),n.Eb(5),n.Uc(null==e.valueofassest_array?null:e.valueofassest_array.forcedSaleValue),n.Eb(7),n.Uc(null==e.valueofassest_array?null:e.valueofassest_array.valuationDate.slice(0,12)),n.Eb(8),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(9),n.Uc(null==e.legaopninio_array?null:e.legaopninio_array.opinion),n.Eb(5),n.Uc(null==e.legaopninio_array?null:e.legaopninio_array.assetAreaSize),n.Eb(5),n.Uc(null==e.legaopninio_array?null:e.legaopninio_array.description),n.Eb(7),n.Uc(null==e.legaopninio_array?null:e.legaopninio_array.lawyerName),n.Eb(5),n.Uc(null==e.legaopninio_array?null:e.legaopninio_array.mktValOfAsset),n.Eb(5),n.Uc(null==e.legaopninio_array?null:e.legaopninio_array.opinionDate),n.Eb(7),n.Uc(null==e.legaopninio_array?null:e.legaopninio_array.isDecisionFavorable),n.Eb(5),n.Uc(null==e.legaopninio_array?null:e.legaopninio_array.valuationDate),n.Eb(26),n.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardId),n.Eb(5),n.Uc(null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.numberOfApplicant),n.Eb(5),n.rc("ngForOf",null==e.qualitativeScoreboardSummary?null:e.qualitativeScoreboardSummary.scoreCardMapping),n.Eb(7),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(9),n.Uc(null==e.loanassement_array?null:e.loanassement_array.approvedLoanAmount),n.Eb(5),n.Uc(null==e.loanassement_array?null:e.loanassement_array.loanTenure),n.Eb(5),n.Uc(null==e.loanassement_array?null:e.loanassement_array.rateOfInterest),n.Eb(7),n.Uc(null==e.loanassement_array?null:e.loanassement_array.loanAmountRecommendation),n.Eb(5),n.Uc(null==e.loanassement_array?null:e.loanassement_array.systemRecommendation),n.Eb(5),n.Uc(null==e.loanassement_array?null:e.loanassement_array.userRecommendation),n.Eb(7),n.Uc(null==e.loanassement_array?null:e.loanassement_array.requestedLoanAmount),n.Eb(20),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(9),n.Uc(null==e.offerissue_array?null:e.offerissue_array.applicantName),n.Eb(5),n.Uc(null==e.offerissue_array?null:e.offerissue_array.approvedLoanAmount),n.Eb(5),n.Uc(null==e.offerissue_array?null:e.offerissue_array.charges),n.Eb(7),n.Uc(null==e.offerissue_array?null:e.offerissue_array.generateOffer),n.Eb(5),n.Uc(null==e.offerissue_array?null:e.offerissue_array.installmentAmount),n.Eb(5),n.Uc(null==e.offerissue_array?null:e.offerissue_array.installmentType),n.Eb(7),n.Uc(null==e.offerissue_array?null:e.offerissue_array.interest),n.Eb(5),n.Uc(null==e.offerissue_array?null:e.offerissue_array.loanTenure),n.Eb(5),n.Uc(null==e.offerissue_array?null:e.offerissue_array.offerIssueDate),n.Eb(7),n.Uc(null==e.offerissue_array?null:e.offerissue_array.principal),n.Eb(5),n.Uc(null==e.offerissue_array?null:e.offerissue_array.rateOfInterest),n.Eb(21),n.rc("ngIf","APPROVED"!=e.dataResponse.dataResp.status),n.Eb(1),n.rc("ngIf",e.offerDetails),n.Eb(20),n.rc("ngIf",e.postOfferDetails),n.Eb(20),n.rc("ngIf",e.accountCreateValue),n.Eb(25),n.Uc(null==e.signatureData?null:e.signatureData.documentName),n.Eb(5),n.Uc(null==e.signatureData?null:e.signatureData.fileType),n.Eb(5),n.Uc(null==e.signatureData?null:e.signatureData.fileName),n.Eb(4),n.rc("ngIf",null==e.signatureData?null:e.signatureData.fileUrl),n.Eb(3),n.rc("hidden",e.continueStatus)("ngClass",n.yc(161,Zu,e.continueStatus,!e.continueStatus)),n.Eb(3),n.rc("hidden",e.rejectedStatus)("hidden",e.rejectedStatus)("ngClass",n.yc(164,Qu,e.rejectedStatus,!e.rejectedStatus)),n.Eb(7),n.rc("hidden",e.approvedStatus)("ngClass",n.yc(167,tm,e.approvedStatus,!e.approvedStatus)))},directives:[g.e,g.d,v.a,o.m,X.c,o.n,g.b,ka.a,X.a,X.d,g.f,W.f,o.l,Jo.a,j.a,j.c,j.e,j.f,E.a],pipes:[o.v,o.w],styles:[".appimg[_ngcontent-%COMP%]{width:100px;height:100px}.rejectbtn[_ngcontent-%COMP%]{text-align:center;border-style:1px solid transparent;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.cancelIcon[_ngcontent-%COMP%]{top:6720px;left:812px;width:20px;height:20px;color:red;opacity:1;padding-top:7px;cursor:pointer}.rejectButton[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid red;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.rejectlabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:red;opacity:1;padding-top:7px;cursor:pointer}.approveButton[_ngcontent-%COMP%]{top:6705px;left:969px;width:183px;height:41px;margin-right:78px;background:#24cca7 0 0 no-repeat padding-box;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.approveIcon[_ngcontent-%COMP%]{top:6716px;left:1009px;width:24px;height:24px}.approveIcon[_ngcontent-%COMP%], .approvelabel[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-top:7px;cursor:pointer}.approvelabel[_ngcontent-%COMP%]{top:6717px;left:1049px;width:62px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0}.approvebtn[_ngcontent-%COMP%]{border-style:1px solid transparent;margin:10px}.imgdiv[_ngcontent-%COMP%]{text-align:center;margin-top:5%;-webkit-margin-start:18%;margin-inline-start:18%}.num[_ngcontent-%COMP%]{width:50%;height:53px;padding-top:15px;background-color:#fff}.num[_ngcontent-%COMP%], .num1[_ngcontent-%COMP%]{border:1px solid #4a56e2;border-radius:50%;text-align:center}.num1[_ngcontent-%COMP%]{width:15%;height:70px;padding-top:25px}.qtncrd[_ngcontent-%COMP%]{border:.5px groove;margin-right:2%}.imgdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.apprdiv[_ngcontent-%COMP%]{text-align:center}.apprdiv[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;margin-left:1%}.label[_ngcontent-%COMP%]{color:#9aa1b0;font-size:.7rem}.rowbord[_ngcontent-%COMP%]{border-bottom:2px solid #f5f5f5;padding:10px 0 10px 10px}.mtcd[_ngcontent-%COMP%]{padding:0}.nobord[_ngcontent-%COMP%]{border:none!important}.main[_ngcontent-%COMP%]{height:85vh;overflow:auto;overflow-x:hidden}.appersoninfocard[_ngcontent-%COMP%]{width:40%;border:1px solid}.appersoninfocard1[_ngcontent-%COMP%]{width:90%;border:1px solid}.interstcard[_ngcontent-%COMP%]{background-color:#e5e5e5;width:100px;height:80px}.clr[_ngcontent-%COMP%]{color:#b2b2b2}.bordnum[_ngcontent-%COMP%]{height:100%;border-left:1px solid #4a56e2;margin-left:24%}.RNbtn[_ngcontent-%COMP%]{background-color:#4a56e2}.btn[_ngcontent-%COMP%], .RNbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;height:50px;width:200px}.btn[_ngcontent-%COMP%]{background-color:#0ec588}.cancelbtn[_ngcontent-%COMP%]{color:#2980b9;border-color:#2980b9}.cancelbtn[_ngcontent-%COMP%], .disabledbtn[_ngcontent-%COMP%]{background-color:#f3ecec;cursor:pointer;border-style:1px solid;border-radius:20px;size:20px;height:30px;width:150px}.disabledbtn[_ngcontent-%COMP%]{color:grey;border-color:grey}.rejectbtn[_ngcontent-%COMP%]{color:red;background-color:#fff;cursor:pointer;outline:none;outline-style:none;border-style:1px solid;border-radius:20px;border-color:red;size:20px;height:30px;width:150px;position:relative;padding-right:12px}.approvebtn[_ngcontent-%COMP%]{background-color:#0ec588;outline:none;outline-style:none;border-color:#0ec588;height:30px;width:150px}.approvebtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.acbtn[_ngcontent-%COMP%], .sqftbtn[_ngcontent-%COMP%]{background-color:grey;height:20px;width:100px}.acbtn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px}.circle[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content1[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.circle1[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;background-color:#0ec588;margin:auto;position:relative}.content2[_ngcontent-%COMP%]{position:absolute;width:inherit;height:auto;top:50%;transform:translateY(-50%);text-align:center;color:#fff;font-size:20px}.defaultImage[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;text-align:center}.imageText[_ngcontent-%COMP%]{text-align:center;padding:3rem 2.7rem;color:#fff}.right-text[_ngcontent-%COMP%]{text-align:center;margin-left:150px}.linkColor[_ngcontent-%COMP%]{color:#4a56e2;text-decoration:underline}.editbtn[_ngcontent-%COMP%]{width:150px}.editbtn[_ngcontent-%COMP%], .editScreen[_ngcontent-%COMP%]{color:#fff;background-color:#0e7cc5;cursor:pointer;outline:none;outline-style:none;text-align:center;border-radius:20px;border-style:1px solid;-webkit-text-size-adjust:20px;-moz-text-size-adjust:20px;text-size-adjust:20px;border-color:#0e57c5;height:30px}.editScreen[_ngcontent-%COMP%]{width:100px}.qtncrd[_ngcontent-%COMP%]{background-color:#f7f7f7;margin-left:12%;margin-bottom:40px;padding:10px;width:100%;box-shadow:#f7f7f7;block-size:70px;height:80px}.qtnval[_ngcontent-%COMP%]{padding-top:8px;width:100%;color:#696969}.qtncard1[_ngcontent-%COMP%]{height:80px;block-size:80px;background-color:#f7f7f7;margin-left:12%}.qtncard[_ngcontent-%COMP%], .qtncard1[_ngcontent-%COMP%]{width:100%}.qtnhd[_ngcontent-%COMP%]{margin:20px}.applicanthd[_ngcontent-%COMP%]{text-align:left;padding:42px;font-size:medium;font-family:sans-serif;color:rgba(0,0,0,.7411764705882353)}.edit_icon[_ngcontent-%COMP%]{color:#0e7cc5;cursor:pointer;margin-right:20px;float:right}.continueBtn[_ngcontent-%COMP%]{top:6705px;left:762px;width:183px;height:41px;border:2px solid #00f;opacity:1;border-radius:24px;justify-content:center;cursor:pointer}.continuelabel[_ngcontent-%COMP%]{top:6718px;left:842px;width:45px;height:22px;text-align:left;font:normal normal normal 18px/22px Calibri;letter-spacing:0;color:#00f;opacity:1;padding-top:7px;cursor:pointer}"]}),t})();var am=function(t,e,a,o){return new(a||(a=Promise))(function(i,n){function r(t){try{s(o.next(t))}catch(e){n(e)}}function c(t){try{s(o.throw(t))}catch(e){n(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,c)}s((o=o.apply(t,e||[])).next())})};function om(t,e){1&t&&n.Sb(0,"mat-spinner",20),2&t&&n.rc("diameter",15)}function im(t,e){if(1&t){const t=n.Yb();n.Xb(0,"button",17),n.fc("click",function(){return n.Hc(t),n.jc().clear()}),n.Xb(1,"div",18),n.Rc(2,om,1,1,"mat-spinner",19),n.Wb(),n.Xb(3,"mat-icon"),n.Tc(4,"close"),n.Wb(),n.Wb()}if(2&t){const t=n.jc();n.Eb(2),n.rc("ngIf",t.loading)}}function nm(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",34),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function rm(t,e){if(1&t&&n.Sb(0,"img",35),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function cm(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToLoanAccountSummary(a,"ONGOING",i.getRandomColor(o+3))}),n.Xb(1,"div"),n.Xb(2,"mat-icon",22),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",23),n.Xb(9,"div",24),n.Rc(10,nm,2,1,"div",25),n.Rc(11,rm,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(13,"mat-card-title",27),n.Tc(14),n.Wb(),n.Xb(15,"mat-card-subtitle"),n.Xb(16,"span",28),n.Tc(17),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"form",29),n.Xb(19,"div",30),n.Xb(20,"div",31),n.Xb(21,"span",32),n.Tc(22,"Account Branch "),n.Wb(),n.Xb(23,"span",33),n.Tc(24),n.Wb(),n.Wb(),n.Xb(25,"div",31),n.Xb(26,"span",32),n.Tc(27,"Account Type "),n.Wb(),n.Xb(28,"span",33),n.Tc(29),n.Wb(),n.Wb(),n.Wb(),n.Sb(30,"br"),n.Xb(31,"div",30),n.Xb(32,"div",31),n.Xb(33,"span",32),n.Tc(34,"Business Product Name"),n.Wb(),n.Xb(35,"span",33),n.Tc(36),n.Wb(),n.Wb(),n.Xb(37,"div",31),n.Xb(38,"span",32),n.Tc(39,"Status"),n.Wb(),n.Xb(40,"span",33),n.Tc(41),n.Wb(),n.Wb(),n.Wb(),n.Sb(42,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(12);n.Eb(6),n.Uc(n.lc(7,12,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(3),n.Vc("#",t.loanAccountId,""),n.Eb(7),n.Uc(t.accountBranch),n.Eb(5),n.Uc(t.accountType),n.Eb(7),n.Uc(t.businessProductName),n.Eb(5),n.Uc(t.status)}}function sm(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",34),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function lm(t,e){if(1&t&&n.Sb(0,"img",35),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function bm(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToLoanAccountSummary(a,"ONGOING",i.getRandomColor(o+3))}),n.Xb(1,"div"),n.Xb(2,"mat-icon",36),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",23),n.Xb(9,"div",24),n.Rc(10,sm,2,1,"div",25),n.Rc(11,lm,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(13,"mat-card-title",27),n.Tc(14),n.Wb(),n.Xb(15,"mat-card-subtitle"),n.Xb(16,"span",28),n.Tc(17),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"form",29),n.Xb(19,"div",30),n.Xb(20,"div",31),n.Xb(21,"span",32),n.Tc(22,"Account Branch "),n.Wb(),n.Xb(23,"span",33),n.Tc(24),n.Wb(),n.Wb(),n.Xb(25,"div",31),n.Xb(26,"span",32),n.Tc(27,"Account Type "),n.Wb(),n.Xb(28,"span",33),n.Tc(29),n.Wb(),n.Wb(),n.Wb(),n.Sb(30,"br"),n.Xb(31,"div",30),n.Xb(32,"div",31),n.Xb(33,"span",32),n.Tc(34,"Business Product Name"),n.Wb(),n.Xb(35,"span",33),n.Tc(36),n.Wb(),n.Wb(),n.Xb(37,"div",31),n.Xb(38,"span",32),n.Tc(39,"Status"),n.Wb(),n.Xb(40,"span",33),n.Tc(41),n.Wb(),n.Wb(),n.Wb(),n.Sb(42,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(12);n.Eb(6),n.Uc(n.lc(7,12,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(3),n.Vc("#",t.loanAccountId,""),n.Eb(7),n.Uc(t.accountBranch),n.Eb(5),n.Uc(t.accountType),n.Eb(7),n.Uc(t.businessProductName),n.Eb(5),n.Uc(t.status)}}function dm(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",34),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function um(t,e){if(1&t&&n.Sb(0,"img",35),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function mm(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToLoanAccountSummary(a,"ONGOING",i.getRandomColor(o+3))}),n.Xb(1,"div"),n.Xb(2,"mat-icon",37),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",23),n.Xb(9,"div",24),n.Rc(10,dm,2,1,"div",25),n.Rc(11,um,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(13,"mat-card-title",27),n.Tc(14),n.Wb(),n.Xb(15,"mat-card-subtitle"),n.Xb(16,"span",28),n.Tc(17),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"form",29),n.Xb(19,"div",30),n.Xb(20,"div",31),n.Xb(21,"span",32),n.Tc(22,"Account Branch "),n.Wb(),n.Xb(23,"span",33),n.Tc(24),n.Wb(),n.Wb(),n.Xb(25,"div",31),n.Xb(26,"span",32),n.Tc(27,"Account Type "),n.Wb(),n.Xb(28,"span",33),n.Tc(29),n.Wb(),n.Wb(),n.Wb(),n.Sb(30,"br"),n.Xb(31,"div",30),n.Xb(32,"div",31),n.Xb(33,"span",32),n.Tc(34,"Business Product Name"),n.Wb(),n.Xb(35,"span",33),n.Tc(36),n.Wb(),n.Wb(),n.Xb(37,"div",31),n.Xb(38,"span",32),n.Tc(39,"Status"),n.Wb(),n.Xb(40,"span",33),n.Tc(41),n.Wb(),n.Wb(),n.Wb(),n.Sb(42,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(12);n.Eb(6),n.Uc(n.lc(7,12,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(3),n.Vc("#",t.loanAccountId,""),n.Eb(7),n.Uc(t.accountBranch),n.Eb(5),n.Uc(t.accountType),n.Eb(7),n.Uc(t.businessProductName),n.Eb(5),n.Uc(t.status)}}function pm(t,e){if(1&t&&(n.Xb(0,"div"),n.Sb(1,"app-photo",34),n.Wb()),2&t){const t=n.jc().$implicit;n.Eb(1),n.rc("name",(null==t?null:t.firstName)+" "+t.lastName)}}function hm(t,e){if(1&t&&n.Sb(0,"img",35),2&t){const t=n.jc().$implicit;n.rc("src",t.profileImage,n.Jc)}}function fm(t,e){if(1&t){const t=n.Yb();n.Xb(0,"div",21),n.fc("click",function(){n.Hc(t);const a=e.$implicit,o=e.index,i=n.jc();return i.goToLoanAccountSummary(a,"ONGOING",i.getRandomColor(o+3))}),n.Xb(1,"div"),n.Xb(2,"mat-icon",38),n.Tc(3,"bookmark"),n.Wb(),n.Xb(4,"span"),n.Xb(5,"small"),n.Tc(6),n.kc(7,"dateAgo"),n.Wb(),n.Wb(),n.Wb(),n.Xb(8,"mat-card-header",23),n.Xb(9,"div",24),n.Rc(10,pm,2,1,"div",25),n.Rc(11,hm,1,1,"ng-template",null,26,n.Sc),n.Wb(),n.Xb(13,"mat-card-title",27),n.Tc(14),n.Wb(),n.Xb(15,"mat-card-subtitle"),n.Xb(16,"span",28),n.Tc(17),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"form",29),n.Xb(19,"div",30),n.Xb(20,"div",31),n.Xb(21,"span",32),n.Tc(22,"Account Branch "),n.Wb(),n.Xb(23,"span",33),n.Tc(24),n.Wb(),n.Wb(),n.Xb(25,"div",31),n.Xb(26,"span",32),n.Tc(27,"Account Type "),n.Wb(),n.Xb(28,"span",33),n.Tc(29),n.Wb(),n.Wb(),n.Wb(),n.Sb(30,"br"),n.Xb(31,"div",30),n.Xb(32,"div",31),n.Xb(33,"span",32),n.Tc(34,"Business Product Name"),n.Wb(),n.Xb(35,"span",33),n.Tc(36),n.Wb(),n.Wb(),n.Xb(37,"div",31),n.Xb(38,"span",32),n.Tc(39,"Status"),n.Wb(),n.Xb(40,"span",33),n.Tc(41),n.Wb(),n.Wb(),n.Wb(),n.Sb(42,"br"),n.Wb(),n.Wb()}if(2&t){const t=e.$implicit,a=n.Dc(12);n.Eb(6),n.Uc(n.lc(7,12,null==t?null:t.createdTime)),n.Eb(4),n.rc("ngIf","not_available"==t.profileImage)("ngIfElse",a),n.Eb(4),n.Yc(" ",t.prefix,"\xa0",t.firstName,"\xa0",t.middleName,"\xa0",t.lastName," "),n.Eb(3),n.Vc("#",t.loanAccountId,""),n.Eb(7),n.Uc(t.accountBranch),n.Eb(5),n.Uc(t.accountType),n.Eb(7),n.Uc(t.businessProductName),n.Eb(5),n.Uc(t.status)}}const gm=[{path:""},{path:"task-summary",component:nn},{path:"cust-on-boarding-task-summary",component:hc},{path:"kyc-task-summary",component:In},{path:"cust-on-boarding-approver",component:Qr},{path:"corporate-task-summary",component:Vl},{path:"loan-account-task-summary",component:(()=>{class t{constructor(t,e,a,o,i,r,s,l){this.dialog=t,this.ls=e,this.taskSumService=a,this.cdr=o,this.apiService=i,this.snack=r,this.sanitizer=s,this.route=l,this.statusArr=["BACKLOG","ONGOING","APPROVED","REJECTED"],this.arr=["BACKLOG","ONGOINGArr","APPROVEDArr","REJECTEDArr"],this.BACKLOGArr=[],this.ONGOINGArr=[],this.REJECTEDArr=[],this.APPROVEDArr=[],this.BACKLOGTotalPages=0,this.ONGOINGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.BACKLOGCount=0,this.ONGOINGCount=0,this.REJECTEDCount=0,this.APPROVEDCount=0,this.BACKLOGImage=[],this.ONGOINGImage=[],this.REJECTEDImage=[],this.APPROVEDImage=[],this.BACKLOGTotalRecords=0,this.ONGOINGTotalRecords=0,this.REJECTEDTotalRecords=0,this.APPROVEDTotalRecords=0,this.BACKLOGPage=0,this.ONGOINGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.searchable=!1,this.screenType="loan",this.isScroll=!0,this.setValue=new n.o,this._searchSubject=new c.a,this.listOfOptions=[{label:"Corporate ID",value:"corporateID",checked:!0},{label:"Name ",value:"firstName",checked:!1}],this.noDataFound=!1,this._setSearchSubscription()}onScroll(t){this.isScroll&&(this.BACKLOGPage++,this.getDataOnScroll("BACKLOG",this.BACKLOGPage,this.BACKLOGTotalPages),this.ONGOINGPage++,this.getDataOnScroll("ONGOING",this.ONGOINGPage,this.ONGOINGTotalPages),this.APPROVEDPage++,this.getDataOnScroll("APPROVED",this.APPROVEDPage,this.APPROVEDTotalPages),this.REJECTEDPage++,this.getDataOnScroll("REJECTED",this.REJECTEDPage,this.REJECTEDTotalPages))}ngOnInit(){this.apiService.setTask(!0),this.accountId=this.ls.getItem("accountId"),this.route.queryParamMap.subscribe(t=>{t.get("searchTerm")?(this.redirectedFromTellerSearch=!0,this.searchText=t.get("searchTerm"),console.log(this.searchText),setTimeout(()=>{this.openSearchedApprover()},3e3)):this.getDataOnLoad()}),this.listOfOptions.filter(t=>{t.checked&&(this.radioButtonSelected=t.value)}),this.criteria={property:this.radioButtonSelected,descending:!0}}radioChange(t,e){this.radioButtonSelected=e.value,this.criteria.property=this.radioButtonSelected}updateSearch(t){console.log("searchTextValue::",t),this._searchSubject.next(t)}_setSearchSubscription(){this._searchSubject.pipe(Object(s.a)(1e3)).subscribe(t=>{if(this.setValue.emit(t),console.log("search value :: ",t),console.log("search text :: ",this.searchText),null==t||""==t||""==t)return this.noDataFound=!1,this.searchable=!1,void this.getDataOnLoad();this.searchcorporateID(t)})}clear(){this.searchText="",this.isScroll=!0,this.getDataOnLoad()}getDataOnLoad(){return am(this,void 0,void 0,function*(){for(let t=0;t<this.statusArr.length;t++)this.fetchCustomerInfo(this.statusArr[t])})}fetchCustomerInfo(t){this.taskSumService.getallLoanAccountData(t).subscribe(e=>{console.log("Response",e),this.updateStatusResponse(t,e)})}updateStatusResponse(t,e){console.log("data",e),console.log("status",t),"BACKLOG"==t?(this.BACKLOGArr=null==e?void 0:e.loanList,this.BACKLOGTotalPages=null==e?void 0:e.totalPages,this.BACKLOGTotalRecords=null==e?void 0:e.totalNoOfElements):"ONGOING"==t?(this.ONGOINGArr=null==e?void 0:e.loanList,this.ONGOINGTotalPages=null==e?void 0:e.totalPages,this.ONGOINGTotalRecords=null==e?void 0:e.totalNoOfElements):"APPROVED"==t?(this.APPROVEDArr=null==e?void 0:e.loanList,this.APPROVEDTotalPages=null==e?void 0:e.totalPages,this.APPROVEDTotalRecords=null==e?void 0:e.totalNoOfElements):"REJECTED"==t&&(this.REJECTEDArr=null==e?void 0:e.loanList,this.REJECTEDTotalPages=null==e?void 0:e.totalPages,this.REJECTEDTotalRecords=null==e?void 0:e.totalNoOfElements,console.log("this.REJECTEDArr",this.REJECTEDArr)),this.cdr.markForCheck()}onScrollingFinished(t,e){"BACKLOG"==e?(this.BACKLOGPage++,this.getDataOnScroll(e,this.BACKLOGPage,this.BACKLOGTotalPages)):"ONGOING"==e?(this.ONGOINGPage++,this.getDataOnScroll(e,this.ONGOINGPage,this.ONGOINGTotalPages)):"APPROVED"==e?(this.APPROVEDPage++,this.getDataOnScroll(e,this.APPROVEDPage,this.APPROVEDTotalPages)):"REJECTED"==e&&(this.REJECTEDPage++,this.getDataOnScroll(e,this.REJECTEDPage,this.REJECTEDTotalPages))}getDataOnScroll(t,e,a){console.log("---------scrolled----------"),e!==a?this.taskSumService.getAllLoanDetailOnScroll(t,e).subscribe(e=>{console.log("count data :: ",e),this.cdr.markForCheck(),this.updateDataOnScroll(t,e.loanList)}):console.log("No scroll requied")}goToLoanAccountSummary(t,e,a){localStorage.setItem("CustomerColorCode",a),this.dialog.open(em,{panelClass:"full-width-dialog",data:{dataResp:t,recordStatus:e},width:"80%",disableClose:!1}).afterClosed().subscribe(t=>{console.log("dialog closed:: ",t),1==this.redirectedFromTellerSearch?this.updateSearch(this.searchText):this.getDataOnLoad()})}searchcorporateID(t){let e,a;this.isNum(t)?(e=this.searchText.trim(),a="loanAccountId="+e):(e=this.searchText.trim(),a="customerName="+e),this.isScroll=!1,this.getCustomerData(a)}getCustomerData(t){this.loading=!0,console.log("params :: ",t),this.taskSumService.getLoanAccountSearchSummary(t).subscribe(t=>{this.loading=!1,console.log("resp data :: ",t),this.resetSearchData();for(let e=0;e<t.loanList.length;e++){const a=t.loanList[e];console.log("element ::",a),this.searchResponseUpdate(a.status,t.loanList[e])}})}resetSearchData(){this.BACKLOGArr=[],this.ONGOINGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.cdr.markForCheck()}searchResponseUpdate(t,e){"ONGOING"==t?this.ONGOINGArr.push(e):"BACKLOG"==t?this.BACKLOGArr.push(e):"APPROVED"==t?this.APPROVEDArr.push(e):"REJECTED"==t&&this.REJECTEDArr.push(e),this.cdr.markForCheck()}getProfileImage(t){this.apiService.getProfileDetails(t).subscribe(t=>{if(console.log(t),console.log(t.profileImage),this.searchable=!1,null!=t.profileImage){let e="data:image/jpeg;base64,"+t.profileImage.fileData;this.searchable=!0,this.image=this.sanitizer.bypassSecurityTrustUrl(e),console.log(this.searchable,"Searchable")}},t=>{console.log(t)})}getcorporateIDData(t){console.log("get kyc"),""!=t&&null!=t&&null!=t&&this.apiService.getKycTaskSummaryAll(t,this.searchText).subscribe(t=>{if(console.log("resp data :: ",t),this.cdr.markForCheck(),this.cdr.detectChanges(),null!=t){var e=t[0].customerAdditionalInfo.kycStatus+"Arr";this[e].splice(0,0,t[0]),this[e]=this[e].slice(),console.log("resp value :: ",this[e])}else this.noDataFound=!0})}ngOnDestroy(){this._searchSubject.unsubscribe(),this.ONGOINGArr=[],this.APPROVEDArr=[],this.REJECTEDArr=[],this.BACKLOGArr=[],this.BACKLOGPage=0,this.REJECTEDPage=0,this.APPROVEDPage=0,this.ONGOINGPage=0,this.BACKLOGTotalPages=0,this.REJECTEDTotalPages=0,this.APPROVEDTotalPages=0,this.ONGOINGTotalPages=0}updateDataOnScroll(t,e){return am(this,void 0,void 0,function*(){if("BACKLOG"==t){const t=Jt.unionBy(this.BACKLOGArr,e,"loanAccountId");this.BACKLOGArr=t}else if("ONGOING"==t){const t=Jt.unionBy(this.ONGOINGArr,e,"loanAccountId");this.ONGOINGArr=t}else if("APPROVED"==t){const t=Jt.unionBy(this.APPROVEDArr,e,"loanAccountId");this.APPROVEDArr=t}else if("REJECTED"==t){const t=Jt.unionBy(this.REJECTEDArr,e,"loanAccountId");this.REJECTEDArr=t}this.cdr.markForCheck()})}isNum(t){return!isNaN(t)}isString(t){return t}openSearchedApprover(){let t=[this.REJECTEDArr,this.APPROVEDArr,this.ONGOINGArr,this.BACKLOGArr].filter(t=>1==t.length);console.log(t),1==t.length&&this.goToLoanAccountSummary(t[0][0],t[0][0].custStatus)}getRandomColor(t){return t%10==0?"#0d856b":t%10==1?"#d66f1b":t%10==2?"#9f52e7":t%10==3?"#e9318d":t%10==4?"#1175a3":t%10==5?"#e93131":t%10==6?"#2316d3":t%10==7?"#f557f5":t%10==8?"#d6c31b":t%10==9?"#40d61b":"#d86315"}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(b.b),n.Rb(l.a),n.Rb(m.a),n.Rb(n.h),n.Rb(r.b),n.Rb(f.a),n.Rb(qo.b),n.Rb(je.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-loan-account-task-summary"]],hostBindings:function(t,e){1&t&&n.fc("scroll",function(t){return e.onScroll(t)})},outputs:{setValue:"setValue"},decls:51,vars:17,consts:[["infiniteScroll","",1,"search-results1",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"m-333","mt-32"],["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxFlex","60",1,"heading"],[1,"task","ml-24"],["fxFlex","30","fxLayoutAlign","end center",1,"topSection"],["appearance","outline",1,"full-width"],["matInput","","name","search","autocomplete","off","placeholder","Search Loan Account Id",3,"ngModel","ngModelChange","keyup"],["matPrefix","",1,"my-icon"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["fxLayout","20%",1,"screen"],[1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"pl-6"],[1,"statusFont"],["class","colorChange",3,"click",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayoutAlign","center"],[3,"diameter",4,"ngIf"],[3,"diameter"],[1,"colorChange",3,"click"],[1,"fill-color-blue","bookMark"],[1,"head"],["mat-card-avatar","",1,"circle"],[4,"ngIf","ngIfElse"],["showAvatar",""],[1,"naming"],[1,"loanIdText"],[1,"head1"],["fxLayout","row","fxLayoutGap","10",1,"col1"],["fxLayout","column","fxFlex","45",1,"pr2"],[1,"col3"],[1,"labelValue","col4"],[3,"name"],["alt","profile","onerror","this.onerror=null;this.src='assets/images/profile-Picture.png';",1,"profilepic",3,"src"],[1,"fill-color-blue","bookMark","book2"],[1,"fill-color-blue","bookMark","book3"],[1,"fill-color-blue","bookMark","book4"]],template:function(t,e){1&t&&(n.Sb(0,"br"),n.Xb(1,"div",0),n.fc("scrolled",function(t){return e.onScroll(t)}),n.Sb(2,"br"),n.Xb(3,"div",1),n.Xb(4,"div",2),n.Xb(5,"div",3),n.Xb(6,"span",4),n.Tc(7," Loan Account Task Summary "),n.Wb(),n.Wb(),n.Xb(8,"div",5),n.Xb(9,"mat-form-field",6),n.Xb(10,"mat-label"),n.Tc(11,"Search"),n.Wb(),n.Xb(12,"input",7),n.fc("ngModelChange",function(t){return e.searchText=t})("keyup",function(t){return e.updateSearch(t.target.value)}),n.Wb(),n.Xb(13,"mat-icon",8),n.Tc(14,"search"),n.Wb(),n.Rc(15,im,5,1,"button",9),n.Xb(16,"mat-hint"),n.Tc(17,"Search Loan Account ID"),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Wb(),n.Xb(18,"div",10),n.Xb(19,"div",11),n.Xb(20,"mat-card",12),n.Xb(21,"div",13),n.Xb(22,"span",14),n.Xb(23,"h2",15),n.Tc(24),n.Wb(),n.Wb(),n.Wb(),n.Xb(25,"div"),n.Rc(26,cm,43,14,"div",16),n.Wb(),n.Sb(27,"br"),n.Wb(),n.Xb(28,"mat-card",12),n.Xb(29,"div",13),n.Xb(30,"span",14),n.Xb(31,"h2",15),n.Tc(32),n.Wb(),n.Wb(),n.Wb(),n.Xb(33,"div"),n.Rc(34,bm,43,14,"div",16),n.Wb(),n.Wb(),n.Xb(35,"mat-card",12),n.Xb(36,"div",13),n.Xb(37,"span",14),n.Xb(38,"h2",15),n.Tc(39),n.Wb(),n.Wb(),n.Wb(),n.Xb(40,"div"),n.Rc(41,mm,43,14,"div",16),n.Wb(),n.Sb(42,"br"),n.Wb(),n.Xb(43,"mat-card",12),n.Xb(44,"div",13),n.Xb(45,"span",14),n.Xb(46,"h2",15),n.Tc(47),n.Wb(),n.Wb(),n.Wb(),n.Xb(48,"div"),n.Rc(49,fm,43,14,"div",16),n.Wb(),n.Wb(),n.Wb(),n.Sb(50,"br"),n.Wb(),n.Wb()),2&t&&(n.Eb(1),n.rc("infiniteScrollDistance",2)("infiniteScrollThrottle",500)("scrollWindow",!1),n.Eb(11),n.rc("ngModel",e.searchText),n.Eb(3),n.rc("ngIf",e.searchText),n.Eb(9),n.Wc("Pending for approval (",null==e.BACKLOGArr?null:e.BACKLOGArr.length,"/",e.BACKLOGTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.BACKLOGArr),n.Eb(6),n.Wc("Ongoing (",null==e.ONGOINGArr?null:e.ONGOINGArr.length,"/",e.ONGOINGTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.ONGOINGArr),n.Eb(5),n.Wc("Approved (",null==e.APPROVEDArr?null:e.APPROVEDArr.length,"/",e.APPROVEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.APPROVEDArr),n.Eb(6),n.Wc("Rejected (",null==e.REJECTEDArr?null:e.REJECTEDArr.length,"/",e.REJECTEDTotalRecords,")"),n.Eb(2),n.rc("ngForOf",e.REJECTEDArr))},directives:[Ui.a,g.e,g.d,g.f,g.b,W.c,W.g,y.b,p.c,p.r,p.u,v.a,W.i,o.n,W.f,X.a,o.m,C.b,W.j,x.b,X.e,X.c,X.h,X.g,p.A,p.s,p.t,Bi],pipes:[sn.a],styles:[".icon[_ngcontent-%COMP%]{padding:25px;min-width:40px;cursor:pointer}.col1[_ngcontent-%COMP%]{font-size:10px;color:grey}.col2[_ngcontent-%COMP%]{font-size:11px}.col3[_ngcontent-%COMP%]{font-size:10px;color:grey}.col4[_ngcontent-%COMP%]{font-size:11px;color:#0f0f0f}.container[_ngcontent-%COMP%]{float:right}.topnav[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;border:none;margin-top:8px;margin-right:16px;font-size:17px}.content[_ngcontent-%COMP%]{padding:10px}.colheader[_ngcontent-%COMP%]{color:grey}.coldata[_ngcontent-%COMP%], .colheader[_ngcontent-%COMP%]{font-size:9px}.cardDetails[_ngcontent-%COMP%]{background-color:#f1efef;min-width:250px;max-width:310px;word-break:break-all}.innerMatCard[_ngcontent-%COMP%]{width:100%;height:220px;box-sizing:border-box;margin:0 0 10px;padding:0;border-radius:6px;border:1px solid #fff}.search-results[_ngcontent-%COMP%]{height:35rem;overflow:scroll}.screen[_ngcontent-%COMP%]{width:100%;padding-left:55px;padding-right:55px}.head[_ngcontent-%COMP%]{padding-top:20px}.head[_ngcontent-%COMP%], .head1[_ngcontent-%COMP%]{padding-left:20px}.defaultImage[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.imageText[_ngcontent-%COMP%]{text-align:center;padding:.7rem 0;color:#fff}.bookMark[_ngcontent-%COMP%]{float:right}.topSection[_ngcontent-%COMP%]{padding-right:5.35%;margin-top:2%}.heading[_ngcontent-%COMP%]{padding-left:3.7%;margin-top:3%}.headingss[_ngcontent-%COMP%]{font-size:17px}.colorChange[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:1% 2% 4% 1%;min-height:38vh}.book2[_ngcontent-%COMP%]{color:#ff8c00}.book3[_ngcontent-%COMP%]{color:#1fbfa9}.book4[_ngcontent-%COMP%]{color:red}.naming[_ngcontent-%COMP%]{font-size:12px;overflow-wrap:anywhere}.loanIdText[_ngcontent-%COMP%]{text-transform:uppercase;color:#1fbfa9;font-size:12px}.imgData[_ngcontent-%COMP%]{width:150px;height:50px;border-radius:50%}.labelValue[_ngcontent-%COMP%]{overflow-wrap:anywhere}.pr2[_ngcontent-%COMP%]{padding-right:2%}"]}),t})()},{path:"corporate-approver",component:yl},{path:"card-account-task-summary",component:yd},{path:"card-account-approver",component:rd},{path:"loan-account-task-summary/loan-account-approver",component:Od}];var vm=a("rJgo"),Wm=a("hzfI"),Xm=a("5QHs"),ym=a("KeVr"),Tm=a("zMWy"),Im=a("mnDI"),Em=a("WRcG"),Cm=a("KVVp"),xm=a("Svv8");let Dm=(()=>{class t{}return t.\u0275mod=n.Pb({type:t}),t.\u0275inj=n.Ob({factory:function(e){return new(e||t)},providers:[{provide:b.g,useValue:{}},{provide:b.a,useValue:[]}],imports:[[o.c,p.l,p.x,vm.c,y.c,i.a,v.b,X.f,ym.a,Wm.c,ka.b,W.e,Im.a,I.f,Kt.c,x.a,Ui.b,Xm.a,E.b,u.b,Tm.a,je.l.forChild(gm),Em.OnboardingCorporateModule,Cm.OthersModule]]}),t})();n.Kc(xm.a,[g.e,g.d,v.a,X.a,sr.a,g.f,C.b],[])}}]);