!function(){"use strict";function e(e,i){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e))||i&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw c}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkmedian=self.webpackChunkmedian||[]).push([[528],{17988:function(e,t,i){i.d(t,{G:function(){return o},T:function(){return c}});var n=i(37716),o=function(){function e(e,t,i){this.el=e,this.vcr=t,this.renderer=i,this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=this;this.dtTrigger?this.dtTrigger.subscribe(function(t){e.displayTable(t)}):this.displayTable(null)},e.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},e.prototype.displayTable=function(e){var t=this;e&&(this.dtOptions=e),this.dtInstance=new Promise(function(e,i){Promise.resolve(t.dtOptions).then(function(n){0===Object.keys(n).length&&0===$("tbody tr",t.el.nativeElement).length?i("Both the table and dtOptions cannot be empty"):setTimeout(function(){var i={rowCallback:function(e,i,o){if(n.columns){var r=n.columns;t.applyNgPipeTransform(e,r),t.applyNgRefTemplate(e,r,i)}n.rowCallback&&n.rowCallback(e,i,o)}};i=Object.assign({},n,i),t.dt=$(t.el.nativeElement).DataTable(i),e(t.dt)})})})},e.prototype.applyNgPipeTransform=function(e,t){t.filter(function(e){return e.ngPipeInstance&&!e.ngTemplateRef}).forEach(function(i){var n=i.ngPipeInstance,o=t.findIndex(function(e){return e.data===i.data}),r=e.childNodes.item(o),c=$(r).text(),a=n.transform(c);$(r).text(a)})},e.prototype.applyNgRefTemplate=function(e,t,i){var n=this;t.filter(function(e){return e.ngTemplateRef&&!e.ngPipeInstance}).forEach(function(o){var r=o.ngTemplateRef,c=r.ref,a=r.context,s=t.findIndex(function(e){return e.data===o.data}),u=e.childNodes.item(s);$(u).html("");var l=Object.assign({},a,null==a?void 0:a.userData,{adtData:i}),d=n.vcr.createEmbeddedView(c,l);n.renderer.appendChild(u,d.rootNodes[0])})},e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.s_b),n.Y36(n.Qsj))},e.\u0275dir=n.lG2({type:e,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),e}(),r=i(38583),c=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[r.ez]]}),e}()},31443:function(e,t,n){n.d(t,{k:function(){return s}});var r,c=n(37716),a=n(80463),s=((r=function(){function e(t){i(this,e),this.iziToast=t}return o(e,[{key:"successMessage",value:function(e,t){this.iziToast.success({title:e,message:t,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}},{key:"errorMessage",value:function(e,t){this.iziToast.error({title:e,message:t,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}},{key:"infoMessage",value:function(e,t){this.iziToast.info({title:e,message:t,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}}]),e}()).\u0275fac=function(e){return new(e||r)(c.LFG(a.I))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},44528:function(t,n,r){r.r(n),r.d(n,{AccountClosureMaintenanceModule:function(){return se}});var c,a=r(38583),s=r(39895),u=r(50215),l=r(79765),d=r(35383),g=r(88259),f=r.n(g),p=r(37716),h=r(77382),A=r(3118),Z=r(26215),m=r(91841),v=A.$.acctCloserUrl,T=((c=function(){function e(t){i(this,e),this.http=t,this.Index=new Z.X({index:""})}return o(e,[{key:"setIndex",value:function(e){this.Index.next(e)}},{key:"getIndex",value:function(){return this.Index.asObservable()}},{key:"onfinalSubmit",value:function(e,t,i){return this.http.post("".concat(v,"/accClosureMaint/save/").concat(e,"/").concat(t),i)}},{key:"gettingAccountClosureMaintenance",value:function(){return this.http.get("".concat(v,"/accClosureMaint/getSummary"))}},{key:"gettingcompleteData",value:function(e){return this.http.get("".concat(v,"/accClosureMaint/getAccountTypeRecords/").concat(e))}},{key:"submittingTheEditedRecord",value:function(e,t,i){return console.log("in sevice",e),this.http.put("".concat(v,"/accClosureMaint/modify/").concat(t,"/").concat(i),e)}},{key:"onAuthofAccMaint",value:function(e,t){return this.http.get("".concat(v,"/accClosureMaint/verify/").concat(e,"/").concat(t))}},{key:"deletingParticularRecord",value:function(e,t,i,n){return this.http.delete("".concat(v,"/accClosureMaint/delete/").concat(e,"/").concat(t,"/").concat(i,"/").concat(n))}},{key:"onClosingTheRecord",value:function(e,t){return this.http.get("".concat(v,"/accClosureMaint/close/").concat(e,"/").concat(t))}},{key:"onReopningTheRecord",value:function(e,t){return this.http.get("".concat(v,"/accClosureMaint/reopen/").concat(e,"/").concat(t))}},{key:"onDelete",value:function(e,t,i){return this.http.post("".concat(v,"/accClosureMaint/delete/").concat(e,"/").concat(t),i)}}]),e}()).\u0275fac=function(e){return new(e||c)(p.LFG(m.eN))},c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c),y=r(17988);function b(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",6),p.TgZ(1,"a",11),p.NdJ("click",function(){return p.CHM(i),p.oxw().new()}),p._uU(2),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.roleCodes.new.labelDescription)}}function x(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"button",18),p.NdJ("click",function(){p.CHM(i);var e=p.oxw().$implicit;return p.oxw().close(e)}),p._UZ(1,"img",19),p.qZA()}}function C(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"button",20),p.NdJ("click",function(){p.CHM(i);var e=p.oxw().$implicit;return p.oxw().open(e)}),p._UZ(1,"img",21),p.qZA()}}function q(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"button",22),p.NdJ("click",function(){p.CHM(i);var e=p.oxw().$implicit;return p.oxw().delete(e)}),p._UZ(1,"img",23),p.qZA()}}function D(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td"),p.TgZ(2,"a",12),p.NdJ("click",function(){var e=p.CHM(i).$implicit;return p.oxw().edit(e)}),p._uU(3),p.qZA(),p.qZA(),p.TgZ(4,"td"),p._uU(5),p.qZA(),p.TgZ(6,"td"),p._uU(7),p.qZA(),p.TgZ(8,"td"),p._uU(9),p.qZA(),p.TgZ(10,"td"),p._uU(11),p.ALo(12,"date"),p.qZA(),p.TgZ(13,"td"),p.TgZ(14,"button",13),p.NdJ("click",function(){var e=p.CHM(i).$implicit;return p.oxw().auth(e)}),p._UZ(15,"img",14),p.qZA(),p.YNc(16,x,2,0,"button",15),p.YNc(17,C,2,0,"button",16),p.YNc(18,q,2,0,"button",17),p.qZA(),p.qZA()}if(2&e){var n=t.$implicit;p.xp6(3),p.Oqu(n.accountType),p.xp6(2),p.Oqu(n.verifiedStatus),p.xp6(2),p.Oqu(n.recordStatus),p.xp6(2),p.Oqu(n.inputBy),p.xp6(2),p.Oqu(p.xi3(12,9,n.inputTime,"medium")),p.xp6(3),p.Q6J("disabled",!("U"==n.verifiedStatus||"UNAUTHORIZED"==n.verifiedStatus||"Unauthorized"==n.verifiedStatus)),p.xp6(2),p.Q6J("ngIf",!("O"!=n.recordStatus&&"Open"!=n.recordStatus&&"OPEN"!=n.recordStatus||"Y"!=n.verifiedOnce&&"YES"!=n.verifiedOnce)),p.xp6(1),p.Q6J("ngIf",!("CLOSED"!=n.recordStatus&&"Close"!=n.recordStatus&&"c"!=n.recordStatus&&"C"!=n.recordStatus||"YES"!=n.verifiedOnce&&"Y"!=n.verifiedOnce)),p.xp6(1),p.Q6J("ngIf","N"==n.verifiedOnce||"NO"==n.verifiedOnce)}}var U=function(){return["/dashboard"]},S=function(){var t=function(){function t(e,n,o){i(this,t),this.roleService=e,this.accClosureService=n,this.router=o,this.dtOptions={},this.dtTrigger=new l.xQ,this.roleCodes=new d.yv,this.statusArr=["Authorized","Unauthorized","Open","Close"]}return o(t,[{key:"ngOnInit",value:function(){var e=this;this.currentUser=localStorage.getItem("userFromLogin"),setTimeout(function(){e.newRolePermissions()},2e3),this.roleService.screenLabelList.subscribe(function(t){return e.roleCodes=t}),setTimeout(function(){console.log(e.roleCodes)},3e3),this.dtOptions={pagingType:"full_numbers",pageLength:5,processing:!0,columnDefs:[{type:"date",targets:[4]}],order:[[4,"desc"]],lengthMenu:[[5,10,20,30,-1],[5,10,20,30,"ALL"]]},this.getAccountClosureMaintenancesummary()}},{key:"newRolePermissions",value:function(){this.roleService.fetchScreenPermissions("Charge Maintenance")}},{key:"getAccountClosureMaintenancesummary",value:function(){var t=this;this.accClosureService.gettingAccountClosureMaintenance().subscribe(function(i){t.respArray=i;var n,o=e(i);try{var r=function(){var e=n.value;e.verifiedStatus=t.statusArr.find(function(t){return t.startsWith(e.verifiedStatus)}),e.recordStatus=t.statusArr.find(function(t){return t.startsWith(e.recordStatus)})};for(o.s();!(n=o.n()).done;)r()}catch(c){o.e(c)}finally{o.f()}t.dtTrigger.next()})}},{key:"ngOnDestroy",value:function(){this.dtTrigger.unsubscribe()}},{key:"new",value:function(){localStorage.removeItem("idValue"),this.accClosureService.setIndex({index:""}),this.router.navigateByUrl("/account-closure-maintenance")}},{key:"auditLog",value:function(){"O"==this.accAuditDetails.recordStatus&&(this.accAuditDetails.recordStatus="OPEN"),"C"==this.accAuditDetails.recordStatus&&(this.accAuditDetails.recordStatus="CLOSE"),"U"==this.accAuditDetails.verifiedStatus&&(this.accAuditDetails.verifiedStatus="UNAUTHORIZED"),"A"==this.accAuditDetails.verifiedStatus&&(this.accAuditDetails.verifiedStatus="AUTHORIZED"),"Y"==this.accAuditDetails.verifiedOnce&&(this.accAuditDetails.verifiedOnce="YES"),"N"==this.accAuditDetails.verifiedOnce&&(this.accAuditDetails.verifiedOnce="NO")}},{key:"close",value:function(e){var t=this;this.index=e.accountType,f().fire({text:"You are trying to Close record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(e){console.log("this is reopen ",e),!0===e.isConfirmed&&t.accClosureService.onClosingTheRecord(t.index,t.currentUser).subscribe(function(e){t.accAuditDetails=e,t.accAuditDetails&&(t.auditLog(),f().fire({text:"Record is Closed",icon:"success"}))})})}},{key:"open",value:function(e){var t=this;console.log(e),this.index=e.accountType,f().fire({text:"You are trying to Reopen record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(e){console.log("this is reopen ",e),!0===e.isConfirmed&&t.accClosureService.onReopningTheRecord(t.index,t.currentUser).subscribe(function(e){console.log(e),t.accAuditDetails=e,"O"===t.accAuditDetails.recordStatus?(t.auditLog(),f().fire({text:"Record is Reopened",icon:"success"})):(t.auditLog(),f().fire({text:"Record cannot be opened ",icon:"error"}))})})}},{key:"delete",value:function(e){var t=this;this.index=e,f().fire({text:"You are trying to Delete record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(i){!0===i.isConfirmed&&(console.log(t.index,t.currentUser,e),t.accClosureService.onDelete(t.index,t.currentUser,e).subscribe(function(e){console.log({reopnResp:e}),"Record Deleted Successfully"===e?(f().fire({text:"Record is Deleted",icon:"success"}),t.router.navigateByUrl("/account-closure-maintenance/account-closure-summary")):(t.auditLog(),f().fire({text:"Record cannot be Deleted ",icon:"error"}))},function(e){console.log(e.error.text),"Record Deleted Successfully"===e.error.text?(f().fire({text:"Record is Deleted",icon:"success"}),t.router.navigateByUrl("/account-closure-maintenance/account-closure-summary")):f().fire({text:"Record cannot be Deleted ",icon:"error"})}))})}},{key:"auth",value:function(e){var t=this;this.index=e.accountType,this.accAuditDetails=e,console.log(this.currentUser),console.log(this.accAuditDetails),f().fire({text:"You are trying to Authorize record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(e){if(console.log("this is reopen ",e),!0===e.isConfirmed){if(t.currentUser===t.accAuditDetails.inputBy)return void f().fire({text:"Maker Cannot Authorize Record!",icon:"error"});t.accClosureService.onAuthofAccMaint(t.index,t.currentUser).subscribe(function(e){t.accAuditDetails=e,t.auditLog(),""===t.accAuditDetails.accountType||null==t.accAuditDetails.accountType?f().fire({text:"Maker cannot authorize the record",icon:"error"}):f().fire({text:"Record is Authorized"})})}})}},{key:"edit",value:function(e){this.accClosureService.setIndex({index:e.accountType}),localStorage.setItem("idValue",e.accountType),this.router.navigateByUrl("/account-closure-maintenance")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Y36(h.N),p.Y36(T),p.Y36(s.F0))},t.\u0275cmp=p.Xpm({type:t,selectors:[["npr-account-closure-maintenance-summary"]],decls:28,vars:6,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],[1,"dbCardStyle"],[1,"row","g-3","pb-3","justify-content-end"],["class","col-auto",4,"ngIf"],[1,"col-auto"],["href","javascript:void(0)",1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[1,"table-responsive"],["datatable","",1,"dataTable","table","tableStyle","nowrap","vAlignMdl",2,"width","100%",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],["href","javascript:void(0)",1,"primaryColor",3,"click"],["title","Authorize",1,"btn",2,"color","red",3,"disabled","click"],["src","assets/images/authorize.svg","alt","Authorize"],["class","btn","style","color: red","title","Close",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Reopen",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Delete",3,"click",4,"ngIf"],["title","Close",1,"btn",2,"color","red",3,"click"],["src","assets/images/CROSS1.svg","alt","..."],["title","Reopen",1,"btn",2,"color","red",3,"click"],["src","assets/images/open.svg","alt","..."],["title","Delete",1,"btn",2,"color","red",3,"click"],["src","assets/images/delete.svg","alt","..."]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h2",2),p._uU(3,"Account Closure Maintenance Summary"),p.qZA(),p.qZA(),p.TgZ(4,"div",3),p.TgZ(5,"div",4),p.YNc(6,b,3,1,"div",5),p.TgZ(7,"div",6),p.TgZ(8,"a",7),p._uU(9,"Exit"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(10,"div",8),p.TgZ(11,"table",9),p.TgZ(12,"thead"),p.TgZ(13,"tr"),p.TgZ(14,"th"),p._uU(15,"Account Type"),p.qZA(),p.TgZ(16,"th"),p._uU(17,"Auth Status"),p.qZA(),p.TgZ(18,"th"),p._uU(19,"Record Status"),p.qZA(),p.TgZ(20,"th"),p._uU(21,"Maker Id"),p.qZA(),p.TgZ(22,"th"),p._uU(23,"Date"),p.qZA(),p.TgZ(24,"th"),p._uU(25,"Action"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(26,"tbody"),p.YNc(27,D,19,12,"tr",10),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(6),p.Q6J("ngIf",t.roleCodes.new),p.xp6(2),p.Q6J("routerLink",p.DdM(5,U)),p.xp6(3),p.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),p.xp6(16),p.Q6J("ngForOf",t.respArray))},directives:[a.O5,s.yS,y.G,a.sg],pipes:[a.uU],styles:[""]}),t}(),F=r(3679),k=r(31443);function E(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"Field No"),p.qZA())}function O(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"Field Name"),p.qZA())}function N(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"Field Value"),p.qZA())}function w(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"a",45),p.NdJ("click",function(){p.CHM(i);var e=p.oxw().index;return p.oxw().delete(e,"userDefiendDTO")}),p._UZ(1,"img",46),p.qZA()}}var I=function(e){return{"margin-top":e}};function _(e,t){if(1&e&&(p.TgZ(0,"div",35),p.TgZ(1,"div",36),p.TgZ(2,"div",37),p.TgZ(3,"div",38),p.YNc(4,E,2,0,"label",39),p._UZ(5,"input",40),p.qZA(),p.TgZ(6,"div",38),p.YNc(7,O,2,0,"label",39),p._UZ(8,"input",41),p.qZA(),p.TgZ(9,"div",38),p.YNc(10,N,2,0,"label",39),p._UZ(11,"input",42),p.qZA(),p.TgZ(12,"div",38),p.TgZ(13,"div",43),p.YNc(14,w,2,0,"a",44),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var i=t.index,n=p.oxw();p.xp6(2),p.Q6J("formGroupName",i),p.xp6(2),p.Q6J("ngIf",0===i),p.xp6(1),p.Q6J("readonly",!n.editFlag),p.xp6(2),p.Q6J("ngIf",0===i),p.xp6(1),p.Q6J("readonly",!n.editFlag),p.xp6(2),p.Q6J("ngIf",0===i),p.xp6(1),p.Q6J("readonly",!n.editFlag),p.xp6(2),p.Q6J("ngStyle",p.VKq(9,I,0===i?"30px":"8px")),p.xp6(1),p.Q6J("ngIf",n.editFlag)}}function B(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"button",47),p.NdJ("click",function(){return p.CHM(i),p.oxw().addUdf()}),p.TgZ(1,"span"),p._UZ(2,"img",48),p.qZA(),p.qZA()}}function J(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"Charges"),p.qZA())}function R(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"ChargeType"),p.qZA())}function Y(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"Debit Credit"),p.qZA())}function M(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"Account"),p.qZA())}function Q(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"Branch Code"),p.qZA())}function P(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"Amount Tag"),p.qZA())}function L(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"Trans Code"),p.qZA())}function z(e,t){1&e&&(p.TgZ(0,"label",5),p._uU(1,"Narration"),p.qZA())}function H(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"a",45),p.NdJ("click",function(){p.CHM(i);var e=p.oxw().index;return p.oxw().delete1(e,"accountingEntryDTO")}),p._UZ(1,"img",46),p.qZA()}}function V(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"td"),p.TgZ(1,"button",70),p.NdJ("click",function(){p.CHM(i);var e=p.oxw().index;return p.oxw().addDebitCreditPair(e)}),p._uU(2," Add Pair "),p.qZA(),p.qZA()}if(2&e){var n=p.oxw().index,o=p.oxw();p.xp6(1),p.Q6J("disabled",!o.isAddPairVisible[n]||!o.AccountEntryForm.valid)}}var G=function(e){return{display:e}};function j(e,t){if(1&e&&(p.ynx(0,49),p.TgZ(1,"fieldset",50),p.TgZ(2,"tr",51),p.TgZ(3,"td"),p.YNc(4,J,2,0,"label",39),p.TgZ(5,"select",52),p.TgZ(6,"option",10),p._uU(7,"--Please select--"),p.qZA(),p.TgZ(8,"option",53),p._uU(9,"Balance < Charge"),p.qZA(),p.TgZ(10,"option",54),p._uU(11,"Balance >= Charge"),p.qZA(),p.TgZ(12,"option",55),p._uU(13,"None"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(14,"td"),p.YNc(15,R,2,0,"label",39),p.TgZ(16,"select",56),p.TgZ(17,"option",10),p._uU(18,"--Please select--"),p.qZA(),p.TgZ(19,"option",57),p._uU(20,"Excise Duty"),p.qZA(),p.TgZ(21,"option",55),p._uU(22,"None"),p.qZA(),p.TgZ(23,"option",58),p._uU(24,"RTGS"),p.qZA(),p.TgZ(25,"option",59),p._uU(26,"TT"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(27,"td"),p.YNc(28,Y,2,0,"label",39),p.TgZ(29,"select",60),p.TgZ(30,"option",10),p._uU(31,"--Please select--"),p.qZA(),p.TgZ(32,"option",61),p._uU(33,"Credit"),p.qZA(),p.TgZ(34,"option",62),p._uU(35,"Debit"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(36,"td"),p.YNc(37,M,2,0,"label",39),p._UZ(38,"input",63),p.qZA(),p.TgZ(39,"td"),p.YNc(40,Q,2,0,"label",39),p._UZ(41,"input",64),p.qZA(),p.TgZ(42,"td"),p.YNc(43,P,2,0,"label",39),p._UZ(44,"input",65),p.qZA(),p.TgZ(45,"td"),p.YNc(46,L,2,0,"label",39),p._UZ(47,"input",66),p.qZA(),p.TgZ(48,"td"),p.YNc(49,z,2,0,"label",39),p._UZ(50,"input",67),p.qZA(),p.TgZ(51,"td"),p.TgZ(52,"div",43),p.YNc(53,H,2,0,"a",44),p.qZA(),p.qZA(),p.qZA(),p.TgZ(54,"tr",68),p.YNc(55,V,3,1,"td",69),p.qZA(),p.qZA(),p.BQk()),2&e){var i=t.index,n=t.last,o=p.oxw();p.xp6(1),p.Q6J("disabled",!o.editFlag),p.xp6(1),p.Q6J("formGroupName",i),p.xp6(2),p.Q6J("ngIf",0===i),p.xp6(4),p.Q6J("disabled",!o.editFlag),p.xp6(2),p.Q6J("disabled",!o.editFlag),p.xp6(2),p.Q6J("disabled",!o.editFlag),p.xp6(3),p.Q6J("ngIf",0===i),p.xp6(4),p.Q6J("disabled",!o.editFlag),p.xp6(2),p.Q6J("disabled",!o.editFlag),p.xp6(2),p.Q6J("disabled",!o.editFlag),p.xp6(2),p.Q6J("disabled",!o.editFlag),p.xp6(3),p.Q6J("ngIf",0===i),p.xp6(4),p.Q6J("disabled",!o.editFlag),p.xp6(2),p.Q6J("disabled",!o.editFlag),p.xp6(3),p.Q6J("ngIf",0===i),p.xp6(1),p.Q6J("readonly",!o.editFlag),p.xp6(2),p.Q6J("ngIf",0===i),p.xp6(1),p.Q6J("readonly",!o.editFlag),p.xp6(2),p.Q6J("ngIf",0===i),p.xp6(1),p.Q6J("readonly",!o.editFlag),p.xp6(2),p.Q6J("ngIf",0===i),p.xp6(1),p.Q6J("readonly",!o.editFlag),p.xp6(2),p.Q6J("ngIf",0===i),p.xp6(1),p.Q6J("readonly",!o.editFlag),p.xp6(2),p.Q6J("ngStyle",p.VKq(28,I,0===i?"3rem":"2rem")),p.xp6(1),p.Q6J("ngIf",o.editFlag),p.xp6(1),p.Q6J("ngStyle",p.VKq(30,G,i%2==0&&!1===n?"none":"block")),p.xp6(1),p.Q6J("ngIf",!o.arrayAccountEntry&&o.isAddPairVisible[i])}}function W(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"button",71),p.NdJ("click",function(){return p.CHM(i),p.oxw().addAccountEntries()}),p.TgZ(1,"span"),p._UZ(2,"img",48),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.Q6J("disabled",n.isAddDisabled)}}function $(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"button",72),p.NdJ("click",function(){return p.CHM(i),p.oxw().submit()}),p._uU(1,"Save"),p.qZA()}if(2&e){var n=p.oxw();p.Q6J("disabled",!(n.accountTypeForm.valid&&n.UdfForm.valid&&n.AccountEntryForm.valid&&n.submitFlag))}}function K(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",26),p.TgZ(1,"button",73),p.NdJ("click",function(){return p.CHM(i),p.oxw().edit()}),p._uU(2),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.roleCodes.edit.labelDescription)}}function X(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",26),p.TgZ(1,"button",74),p.NdJ("click",function(){return p.CHM(i),p.oxw().onAuthorizingTheRecord()}),p._uU(2),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.roleCodes.auth.labelDescription)}}function ee(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",26),p.TgZ(1,"button",75),p.NdJ("click",function(){return p.CHM(i),p.oxw().ondelete()}),p._uU(2),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.roleCodes.delete.labelDescription)}}function te(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",26),p.TgZ(1,"button",75),p.NdJ("click",function(){return p.CHM(i),p.oxw().onClosingTheRecord()}),p._uU(2),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.roleCodes.close.labelDescription)}}function ie(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"div",26),p.TgZ(1,"button",76),p.NdJ("click",function(){return p.CHM(i),p.oxw().onReopningTheRecord()}),p._uU(2),p.qZA(),p.qZA()}if(2&e){var n=p.oxw();p.xp6(2),p.Oqu(n.roleCodes.reopen.labelDescription)}}function ne(e,t){if(1&e){var i=p.EpF();p.TgZ(0,"button",77),p.NdJ("click",function(){return p.CHM(i),p.oxw().onSubmittingTheAccMaintenanceClosureData()}),p._uU(1,"Save"),p.qZA()}if(2&e){var n=p.oxw();p.Q6J("disabled",!n.accountTypeForm.dirty&&!n.UdfForm.dirty&&!n.AccountEntryForm.dirty)}}function oe(e,t){if(1&e&&(p.TgZ(0,"div",4),p.TgZ(1,"div",78),p.TgZ(2,"div",79),p.TgZ(3,"div",80),p.TgZ(4,"div",81),p.TgZ(5,"div",26),p.TgZ(6,"div",82),p._UZ(7,"i",83),p.qZA(),p.qZA(),p.TgZ(8,"div",84),p.TgZ(9,"div",85),p.TgZ(10,"h2"),p._uU(11,"Maker"),p.qZA(),p.TgZ(12,"p"),p._uU(13),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(14,"div",79),p.TgZ(15,"div",80),p.TgZ(16,"div",81),p.TgZ(17,"div",26),p.TgZ(18,"div",86),p._UZ(19,"img",87),p.qZA(),p.qZA(),p.TgZ(20,"div",84),p.TgZ(21,"div",85),p.TgZ(22,"h2"),p._uU(23,"Maker Time Stamp"),p.qZA(),p.TgZ(24,"p"),p._uU(25),p.ALo(26,"date"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(27,"div",79),p.TgZ(28,"div",80),p.TgZ(29,"div",81),p.TgZ(30,"div",26),p.TgZ(31,"div",88),p._UZ(32,"i",89),p.qZA(),p.qZA(),p.TgZ(33,"div",84),p.TgZ(34,"div",85),p.TgZ(35,"h2"),p._uU(36,"Record Status"),p.qZA(),p.TgZ(37,"p"),p._uU(38),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(39,"div",79),p.TgZ(40,"div",80),p.TgZ(41,"div",81),p.TgZ(42,"div",26),p.TgZ(43,"div",90),p._UZ(44,"i",91),p.qZA(),p.qZA(),p.TgZ(45,"div",84),p.TgZ(46,"div",85),p.TgZ(47,"h2"),p._uU(48,"Checker"),p.qZA(),p.TgZ(49,"p"),p._uU(50),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(51,"div",79),p.TgZ(52,"div",80),p.TgZ(53,"div",81),p.TgZ(54,"div",26),p.TgZ(55,"div",92),p._UZ(56,"img",93),p.qZA(),p.qZA(),p.TgZ(57,"div",84),p.TgZ(58,"div",85),p.TgZ(59,"h2"),p._uU(60,"Checker Time Stamp"),p.qZA(),p.TgZ(61,"p"),p._uU(62),p.ALo(63,"date"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(64,"div",79),p.TgZ(65,"div",80),p.TgZ(66,"div",81),p.TgZ(67,"div",26),p.TgZ(68,"div",94),p._UZ(69,"i",95),p.qZA(),p.qZA(),p.TgZ(70,"div",84),p.TgZ(71,"div",85),p.TgZ(72,"h2"),p._uU(73,"First Time Auth"),p.qZA(),p.TgZ(74,"p"),p._uU(75),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(76,"div",79),p.TgZ(77,"div",80),p.TgZ(78,"div",81),p.TgZ(79,"div",26),p.TgZ(80,"div",96),p._UZ(81,"img",97),p.qZA(),p.qZA(),p.TgZ(82,"div",84),p.TgZ(83,"div",85),p.TgZ(84,"h2"),p._uU(85,"Auth Status"),p.qZA(),p.TgZ(86,"p"),p._uU(87),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(88,"div",79),p.TgZ(89,"div",80),p.TgZ(90,"div",81),p.TgZ(91,"div",26),p.TgZ(92,"div",88),p._UZ(93,"img",98),p.qZA(),p.qZA(),p.TgZ(94,"div",84),p.TgZ(95,"div",85),p.TgZ(96,"h2"),p._uU(97,"Modification Number"),p.qZA(),p.TgZ(98,"p"),p._uU(99),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var i=p.oxw();p.xp6(13),p.Oqu(i.accAuditDetails.inputBy),p.xp6(12),p.Oqu(p.xi3(26,8,i.accAuditDetails.inputTime,"MM/dd/yyyy, h:mm a")),p.xp6(13),p.Oqu(i.accAuditDetails.recordStatus),p.xp6(12),p.Oqu(i.accAuditDetails.verifiedBy),p.xp6(12),p.Oqu(p.xi3(63,11,i.accAuditDetails.verifiedTime,"MM/dd/yyyy, h:mm a")),p.xp6(13),p.Oqu(i.accAuditDetails.verifiedOnce),p.xp6(12),p.Oqu(i.accAuditDetails.verifiedStatus),p.xp6(12),p.Oqu(i.accAuditDetails.modNo)}}var re=function(){return["/account-closure-maintenance/account-closure-summary"]},ce=[{path:"",component:function(){var e=function(){function e(t,n,o,r,c,a,s){i(this,e),this.fb=t,this.roleService=n,this.toastService=o,this.accClosureService=r,this.router=c,this._location=a,this.cdr=s,this.payload={},this.array=[],this.accAuditDetails={},this.editFlag=!0,this.submitFlag=!1,this.roleCodes=new d.yv,this.formTouched1=!0,this.formTouched2=!0,this.isAddPairVisible=[],this.isAddDisabled=!0}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.idValue=localStorage.getItem("idValue"),setTimeout(function(){e.newRolePermissions()},2e3),this.roleService.screenLabelList.subscribe(function(t){return e.roleCodes=t}),setTimeout(function(){console.log(e.roleCodes)},3e3),this.currentUser=localStorage.getItem("userFromLogin"),this.AccountEntryForm=this.fb.group({accountingEntries:this.fb.array([this.createAccountingEntries({})])}),this.isAddPairVisible.splice(0,0,!0),this.UdfForm=this.fb.group({userDefinedFields:this.fb.array([this.createUserDefinedFields()])}),this.buildForm(""),null!=this.idValue&&this.accClosureService.setIndex({index:this.idValue}),this.accClosureService.getIndex().subscribe(function(t){t.index&&(e.index=t.index,e.getRespBasedOnAccountType(t.index))}),this.auditLog()}},{key:"newRolePermissions",value:function(){this.roleService.fetchScreenPermissions("Account Closure Maintenance")}},{key:"buildForm",value:function(e){this.accountTypeForm=this.fb.group({amountAccountType:[e||""]})}},{key:"createUserDefinedFields",value:function(){return this.fb.group({fieldName:["",[F.kI.required]],fieldNo:["",[F.kI.required]],fieldValue:["",[F.kI.required]]})}},{key:"createAccountingEntries",value:function(e){return this.fb.group({account:[e?e.account:"",[F.kI.required]],amountTag:[e?e.amountTag:"",[F.kI.required]],branchCode:[e?e.branchCode:"",[F.kI.required]],chargeType:[e?e.chargeType:"",[F.kI.required]],charges:[e?e.charges:"",[F.kI.required]],transactionCode:[e?e.transactionCode:"",[F.kI.required]],debitOrCredit:[e?e.debitOrCredit:"",[F.kI.required]],narration:[e?e.narration:"",[F.kI.required]]})}},{key:"addDebitCreditPair",value:function(e){this.accountingEntries=this.AccountEntryForm.get("accountingEntries");var t=this.AccountEntryForm.value.accountingEntries[this.AccountEntryForm.value.accountingEntries.length-1];t.debitOrCredit="C"===t.debitOrCredit?"D":"C",this.accountingEntries.push(this.createAccountingEntries(t)),this.isAddPairVisible.splice(e,1,!1),this.isAddPairVisible.splice(e+1,0,!1),this.isAddDisabled=!1,this.accountingEntries.disable(),this.AccountEntryForm.enable(),this.submitFlag=!0}},{key:"submit",value:function(){var e=this;this.submitFlag=!1,this.payload.accountingEntries=this.AccountEntryForm.value.accountingEntries,this.payload.userDefinedFields=this.UdfForm.value.userDefinedFields,console.log("payload ",this.payload),this.accClosureService.onfinalSubmit(this.accountTypeForm.value.amountAccountType,this.currentUser,this.payload).subscribe(function(t){console.log("resp from backend ",t),e.accAuditDetails.recordStatus="OPEN",e.accAuditDetails.verifiedStatus="UNAUTHORIZED",e.accAuditDetails.verifiedOnce="NO",e.accAuditDetails.inputBy=e.currentUser,e.accAuditDetails.inputTime=new Date,e.accAuditDetails.modNo=1,console.log(e.accAuditDetails),f().fire({text:"Record is Created",icon:"success"}),e.formTouched1=!e.UdfForm.touched,e.formTouched2=!e.AccountEntryForm.touched,e.editFlag=!1,e.index=e.accountTypeForm.value.amountAccountType,e.auditLog()})}},{key:"addUdf",value:function(){this.userDefinedFields=this.UdfForm.get("userDefinedFields"),this.userDefinedFields.push(this.createUserDefinedFields())}},{key:"delete",value:function(e,t){0===e?this.UdfForm.reset():(console.log(this.UdfForm.value.userDefinedFields[e].id),this.onDeleteParticularRecord(this.UdfForm.value.userDefinedFields[e].id,t),this.UdfForm.get("userDefinedFields").removeAt(e))}},{key:"canExit",value:function(){var e=this,t=!1;return!this.accountTypeForm.touched||1!=this.formTouched1&&1!=this.formTouched2?(t=!0,new Promise(function(i,n){!0===t&&(t=!0,e.cdr.markForCheck(),i(!0))})):f().fire({text:"There are unsaved changes in the screen. Would you like to navigate to other screen?",showCancelButton:!0,confirmButtonColor:"#E6224A",cancelButtonColor:"#011945",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(function(i){return!0===i.isConfirmed?(t=!0,e.cdr.markForCheck(),t):(t=!1,e.cdr.markForCheck(),t)})}},{key:"onDeleteParticularRecord",value:function(e,t){var i=this;console.log(e,t),this.accClosureService.deletingParticularRecord(e,t,this.accountTypeForm.value.amountAccountType,this.currentUser).subscribe(function(e){console.log(e),i.accAuditDetails=e,"A"==i.accAuditDetails.verifiedStatus?(i.auditLog(),f().fire({text:"Authorize Record Cannot be Deleted",icon:"error"})):(f().fire({text:"Record is Deleted",icon:"success"}),i.router.navigate(["/account-closure-maintenance/account-closure-summary"]))})}},{key:"ondelete",value:function(){var e=this;f().fire({text:"You are trying to Delete record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){!0===t.isConfirmed&&(e.payload.accountingEntries=e.AccountEntryForm.value.accountingEntries,e.payload.userDefinedFields=e.UdfForm.value.userDefinedFields,console.log("payload ",e.payload),e.accClosureService.onDelete(e.index,e.currentUser,e.payload).subscribe(function(t){"Record Deleted Successfully"===t?(f().fire({text:"Record is Deleted",icon:"success"}),e.router.navigateByUrl("/account-closure-maintenance/account-closure-summary")):(e.auditLog(),f().fire({text:"Record cannot be Deleted ",icon:"error"}))},function(t){console.log(t.error.text),"Record Deleted Successfully"===t.error.text?(f().fire({text:"Record is Deleted",icon:"success"}),e.router.navigateByUrl("/account-closure-maintenance/account-closure-summary")):f().fire({text:"Record cannot be Deleted ",icon:"error"})}))})}},{key:"addAccountEntries",value:function(){this.accountingEntries=this.AccountEntryForm.get("accountingEntries"),this.accountingEntries.push(this.createAccountingEntries({})),this.isAddPairVisible.push(!0),this.isAddDisabled=!0,this.submitFlag=!1}},{key:"delete1",value:function(e,t){var i=this;0===e?(this.AccountEntryForm.reset(),this.AccountEntryForm.get("accountingEntries").removeAt(1),this.isAddDisabled=!0,this.isAddPairVisible=[],this.isAddPairVisible.splice(0,0,!0),this.accountingEntries.enable()):(console.log(this.AccountEntryForm.value.accountingEntries[e].id),null==this.AccountEntryForm.value.accountingEntries[e].id?([e+1,e].forEach(function(e){i.AccountEntryForm.get("accountingEntries").removeAt(e)}),this.isAddPairVisible.splice(e,2),this.isAddPairVisible.splice(0,0,!0),this.isAddDisabled=!1):([e+1,e].forEach(function(e){i.onDeleteParticularRecord(i.AccountEntryForm.value.accountingEntries[e].id,t),i.AccountEntryForm.get("accountingEntries").removeAt(e)}),this.isAddPairVisible.splice(e,2),this.isAddDisabled=!1,e>=1&&(this.submitFlag=!0)))}},{key:"getRespBasedOnAccountType",value:function(e){var t=this;this.isAddPairVisible=[],this.editFlag=!1,this.buildForm(e),this.accClosureService.gettingcompleteData(e).subscribe(function(e){for(t.array=e.userDefinedFields;t.formArrUDF.length>0;)t.formArrUDF.removeAt(t.formArrUDF.length-1);for(t.array.forEach(function(e){t.formArrUDF.push(t.fb.group(e))}),t.arrayAccountEntry=e.accountingEntries;t.formArrAccountEntry.length>0;)t.formArrAccountEntry.removeAt(t.formArrAccountEntry.length-1);t.arrayAccountEntry.forEach(function(e){t.formArrAccountEntry.push(t.fb.group(e)),t.isAddPairVisible.push(!1),t.isAddDisabled=!1})}),this.getAuditLog(e)}},{key:"getAuditLog",value:function(e){var t=this;this.accClosureService.gettingAccountClosureMaintenance().subscribe(function(i){t.filterAuditLog(i,e),t.auditLog()})}},{key:"filterAuditLog",value:function(e,t){this.accAuditDetails=e.find(function(e){return e.accountType==t}),console.log("audit log details ",this.accAuditDetails)}},{key:"formArrUDF",get:function(){return this.UdfForm.get("userDefinedFields")}},{key:"formArrAccountEntry",get:function(){return this.AccountEntryForm.get("accountingEntries")}},{key:"edit",value:function(){this.editFlag=!0}},{key:"onClosingTheRecord",value:function(){var e=this;f().fire({text:"You are trying to Close record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){console.log("this is reopen ",t),!0===t.isConfirmed&&e.accClosureService.onClosingTheRecord(e.index,e.currentUser).subscribe(function(t){e.accAuditDetails=t,e.accAuditDetails&&(e.auditLog(),f().fire({text:"Record is Closed",icon:"success"}))})})}},{key:"onReopningTheRecord",value:function(){var e=this;f().fire({text:"You are trying to Reopen record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){console.log("this is reopen ",t),!0===t.isConfirmed&&e.accClosureService.onReopningTheRecord(e.index,e.currentUser).subscribe(function(t){console.log(t),console.log(e.currentUser),e.accAuditDetails=t,"O"===e.accAuditDetails.recordStatus?(e.auditLog(),f().fire({text:"Record is Reopened",icon:"success"})):(e.auditLog(),f().fire({text:"Record cannot be opened ",icon:"error"}))})})}},{key:"auditLog",value:function(){"O"==this.accAuditDetails.recordStatus&&(this.accAuditDetails.recordStatus="OPEN"),"C"==this.accAuditDetails.recordStatus&&(this.accAuditDetails.recordStatus="CLOSE"),"U"==this.accAuditDetails.verifiedStatus&&(this.accAuditDetails.verifiedStatus="UNAUTHORIZED"),"A"==this.accAuditDetails.verifiedStatus&&(this.accAuditDetails.verifiedStatus="AUTHORIZED"),"Y"==this.accAuditDetails.verifiedOnce&&(this.accAuditDetails.verifiedOnce="YES"),"N"==this.accAuditDetails.verifiedOnce&&(this.accAuditDetails.verifiedOnce="NO")}},{key:"onAuthorizingTheRecord",value:function(){var e=this;f().fire({text:"You are trying to Authorize record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){if(console.log("this is reopen ",t),!0===t.isConfirmed){if(e.currentUser===e.accAuditDetails.inputBy)return void f().fire({text:"Maker Cannot Authorize Record!",icon:"error"});e.accClosureService.onAuthofAccMaint(e.index,e.currentUser).subscribe(function(t){e.accAuditDetails=t,e.auditLog(),""===e.accAuditDetails.accountType||null==e.accAuditDetails.accountType?f().fire({text:"Maker cannot authorize the record",icon:"error"}):f().fire({text:"Record is Authorized"})})}})}},{key:"onSubmittingTheAccMaintenanceClosureData",value:function(){var e=this;this.payload.accountingEntries=this.AccountEntryForm.value.accountingEntries,this.payload.userDefinedFields=this.UdfForm.value.userDefinedFields,console.log("payload ",this.payload),console.log("this is submit of edit screen",this.payload),this.accClosureService.submittingTheEditedRecord(this.payload,this.index,this.currentUser).subscribe(function(t){console.log(t),e.accAuditDetails=t,e.accAuditDetails?(e.index=e.accAuditDetails.accountType,e.formTouched1=!e.UdfForm.touched,e.formTouched2=!e.AccountEntryForm.touched,f().fire({text:"Record is Updated ",icon:"success"})):(e.auditLog(),f().fire({text:"cannot save the record",icon:"error"})),e.getAuditLog(e.index)},function(e){console.log(e)}),this.editFlag=!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(F.qu),p.Y36(h.N),p.Y36(k.k),p.Y36(T),p.Y36(s.F0),p.Y36(a.Ye),p.Y36(p.sBO))},e.\u0275cmp=p.Xpm({type:e,selectors:[["npr-account-closure-maintenance"]],decls:59,vars:20,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],[3,"formGroup"],[1,"dbCardStyle"],["for","name",1,"formLbl"],[1,"colorRed"],[1,"row","gy-4"],[1,"col-lg-4"],["formControlName","amountAccountType","aria-label","Default select example",1,"form-select"],["hidden","","value","","disabled","","selected",""],["value","Dormant",3,"disabled"],["value","OverDrawn",3,"disabled"],["value","Unclaimed",3,"disabled"],[1,"accountClosureCard",3,"formGroup"],[1,"dbCardStyle","p-0"],[1,"titleCol"],["formArrayName","userDefinedFields",4,"ngFor","ngForOf"],[1,"row","g-3","pt-4"],[1,"col-auto",2,"margin-left","20px"],["class","addIcon primarybg",3,"click",4,"ngIf"],[1,"formStyle",3,"formGroup"],[1,"table-responsive"],["id","dbTable1",1,"table","tableStyle","tableStyleSelect","responsive","nowrap","vAlignMdl"],["formArrayName","accountingEntries",4,"ngFor","ngForOf"],[1,"accountClosureCard2"],[1,"col-auto"],["class","addIcon primarybg",3,"disabled","click",4,"ngIf"],[1,""],[1,"row","g-3","pb-3","justify-content-end","pt-3"],["class","btn smBtn minWdSmBtn btnPrimary",3,"disabled","click",4,"ngIf"],["class","col-auto",4,"ngIf"],["class","btn smBtn minWdSmBtn btnPrimary","color","primary",3,"disabled","click",4,"ngIf"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],["class","dbCardStyle",4,"ngIf"],["formArrayName","userDefinedFields"],[1,"cardCol"],[1,"row","g-4","align-items-center",2,"margin-top","5px",3,"formGroupName"],[1,"col-lg-3"],["for","name","class","formLbl",4,"ngIf"],["id","defaultValue","type","text","formControlName","fieldNo","placeholder","Field number","value","",1,"form-control",3,"readonly"],["id","encryption","type","text","formControlName","fieldName","placeholder","Field name","value","",1,"form-control",3,"readonly"],["id","encryption","type","text","formControlName","fieldValue","placeholder","Field value","value","",1,"form-control",3,"readonly"],[3,"ngStyle"],["class","deleteIcon2",3,"click",4,"ngIf"],[1,"deleteIcon2",3,"click"],["src","assets/images/delete-icon.svg","alt","..."],[1,"addIcon","primarybg",3,"click"],["src","assets/images/plus-icon.svg","alt","..."],["formArrayName","accountingEntries"],[3,"disabled"],[1,"borderStyle",3,"formGroupName"],["formControlName","charges","aria-label","Default select example",1,"form-select"],["value","L",3,"disabled"],["value","G",3,"disabled"],["value","N",3,"disabled"],["formControlName","chargeType","aria-label","Default select example",1,"form-select"],["value","ED",3,"disabled"],["value","RTGS",3,"disabled"],["value","TT",3,"disabled"],["formControlName","debitOrCredit","aria-label","Default select example",1,"form-select"],["value","C",3,"disabled"],["value","D",3,"disabled"],["id","fieldNo","formControlName","account","type","text","placeholder","Account","value","",1,"form-control",3,"readonly"],["id","branchCode","formControlName","branchCode","type","text","placeholder","Branch Code","value","",1,"form-control",3,"readonly"],["id","amountTag","formControlName","amountTag","type","text","placeholder","Amount Tag","value","",1,"form-control",3,"readonly"],["id","encryption","formControlName","transactionCode","type","text","placeholder","Transaction Code","value","",1,"form-control",3,"readonly"],["id","encryption","formControlName","narration","type","text","placeholder","Narration","value","",1,"form-control",3,"readonly"],[1,"borderStyle",3,"ngStyle"],[4,"ngIf"],[1,"btnPrimary",2,"margin-right","8px",3,"disabled","click"],[1,"addIcon","primarybg",3,"disabled","click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],["color","primary",1,"btn","smBtn","minWdSmBtn","btnUpdate",3,"click"],["color","primary",1,"btn","smBtn","minWdSmBtn","btnAuth",3,"click"],["color","primary",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],["color","warn",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],["color","primary",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],[1,"row"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"csCardStyle"],[1,"row","g-2","align-items-center"],[1,"csCardStyleIcon","csCardStyleIconBg1"],[1,"fa","fa-edit","faClass"],[1,"col"],[1,"csCardStyleText"],[1,"csCardStyleIcon","csCardStyleIconBg2"],["src","assets/images/time-stamp-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg3"],["aria-hidden","true",1,"fa","fa-files-o","faRecordStatus"],[1,"csCardStyleIcon","csCardStyleIconBg4"],[1,"fa","fa-check-square-o","faClassChecker"],[1,"csCardStyleIcon","csCardStyleIconBg5"],["src","assets/images/checker-time-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg6"],[1,"fa","fa-shield","faClassFirstTimeAuth"],[1,"csCardStyleIcon","csCardStyleIconBg7"],["src","assets/images/authorize.svg","alt","...",1,"modImage"],["src","assets/images/modification.svg","alt","...",1,"modImage"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h2",2),p._uU(3,"Account Closure Maintenance"),p.qZA(),p.qZA(),p.TgZ(4,"form",3),p.TgZ(5,"div",4),p.TgZ(6,"label",5),p._uU(7,"Account Type"),p.TgZ(8,"span",6),p._uU(9,"*"),p.qZA(),p.qZA(),p.TgZ(10,"div",7),p.TgZ(11,"div",8),p.TgZ(12,"select",9),p.TgZ(13,"option",10),p._uU(14,"--Please select--"),p.qZA(),p.TgZ(15,"option",11),p._uU(16,"Dormant "),p.qZA(),p.TgZ(17,"option",12),p._uU(18," OverDrawn Accounts"),p.qZA(),p.TgZ(19,"option",13),p._uU(20,"Unclaimed "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p._UZ(21,"br"),p.TgZ(22,"form",14),p.TgZ(23,"div",15),p.TgZ(24,"div",16),p.TgZ(25,"h4"),p._uU(26,"User Defiend Field (UDF)"),p.qZA(),p.qZA(),p.YNc(27,_,15,11,"div",17),p.TgZ(28,"div",18),p.TgZ(29,"div",19),p.YNc(30,B,3,0,"button",20),p.qZA(),p.qZA(),p._UZ(31,"br"),p.qZA(),p.qZA(),p.TgZ(32,"form",21),p.TgZ(33,"div",15),p.TgZ(34,"div",16),p.TgZ(35,"h4"),p._uU(36,"Accounting Entries"),p.qZA(),p.qZA(),p.TgZ(37,"div",22),p.TgZ(38,"table",23),p.TgZ(39,"tbody"),p.YNc(40,j,56,32,"ng-container",24),p.qZA(),p.qZA(),p.qZA(),p.TgZ(41,"div",25),p.TgZ(42,"div",26),p.YNc(43,W,3,1,"button",27),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(44,"div",28),p.TgZ(45,"div",29),p.TgZ(46,"div",26),p.YNc(47,$,2,1,"button",30),p.qZA(),p.YNc(48,K,3,1,"div",31),p.YNc(49,X,3,1,"div",31),p.YNc(50,ee,3,1,"div",31),p.YNc(51,te,3,1,"div",31),p.YNc(52,ie,3,1,"div",31),p.TgZ(53,"div",26),p.YNc(54,ne,2,1,"button",32),p.qZA(),p.TgZ(55,"div",26),p.TgZ(56,"a",33),p._uU(57,"Exit"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.YNc(58,oe,100,14,"div",34)),2&e&&(p.xp6(4),p.Q6J("formGroup",t.accountTypeForm),p.xp6(11),p.Q6J("disabled",!t.editFlag),p.xp6(2),p.Q6J("disabled",!t.editFlag),p.xp6(2),p.Q6J("disabled",!t.editFlag),p.xp6(3),p.Q6J("formGroup",t.UdfForm),p.xp6(5),p.Q6J("ngForOf",t.UdfForm.get("userDefinedFields").controls),p.xp6(3),p.Q6J("ngIf",t.editFlag),p.xp6(2),p.Q6J("formGroup",t.AccountEntryForm),p.xp6(8),p.Q6J("ngForOf",t.AccountEntryForm.get("accountingEntries").controls),p.xp6(3),p.Q6J("ngIf",t.editFlag),p.xp6(4),p.Q6J("ngIf",!t.index),p.xp6(1),p.Q6J("ngIf",t.index&&!t.editFlag&&t.roleCodes.edit&&"OPEN"==t.accAuditDetails.recordStatus),p.xp6(1),p.Q6J("ngIf",t.index&&!t.editFlag&&"UNAUTHORIZED"===t.accAuditDetails.verifiedStatus&&t.roleCodes.auth),p.xp6(1),p.Q6J("ngIf",t.index&&!t.editFlag&&"NO"==t.accAuditDetails.verifiedOnce&&t.roleCodes.delete),p.xp6(1),p.Q6J("ngIf",t.index&&!t.editFlag&&"OPEN"==t.accAuditDetails.recordStatus&&"YES"==t.accAuditDetails.verifiedOnce&&t.roleCodes.close),p.xp6(1),p.Q6J("ngIf",t.index&&!t.editFlag&&"CLOSE"==t.accAuditDetails.recordStatus&&"YES"==t.accAuditDetails.verifiedOnce&&t.roleCodes.reopen),p.xp6(2),p.Q6J("ngIf",t.index&&t.editFlag),p.xp6(2),p.Q6J("routerLink",p.DdM(19,re)),p.xp6(2),p.Q6J("ngIf",t.accAuditDetails))},directives:[F._Y,F.JL,F.sg,F.EJ,F.JJ,F.u,F.YN,F.Kr,a.sg,a.O5,s.yS,F.CE,F.x0,F.Fj,a.PC],pipes:[a.uU],styles:[".isDisabled[_ngcontent-%COMP%]{color:currentColor;cursor:not-allowed;pointer-events:none;opacity:.4;text-decoration:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:12px;background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000}#dbTable1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top;min-width:120px;width:50px;border-spacing:1.5}"]}),e}(),canDeactivate:[u.I]},{path:"account-closure-summary",component:S}],ae=function(){var e=o(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[s.Bz.forChild(ce)],s.Bz]}),e}(),se=function(){var e=o(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[a.ez,ae,y.T,F.UX]]}),e}()}}])}();