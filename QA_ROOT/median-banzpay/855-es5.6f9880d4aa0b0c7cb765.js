!function(){"use strict";function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkmedian=self.webpackChunkmedian||[]).push([[855],{17988:function(e,t,n){n.d(t,{G:function(){return i},T:function(){return a}});var r=n(37716),i=function(){function e(e,t,n){this.el=e,this.vcr=t,this.renderer=n,this.dtOptions={}}return e.prototype.ngOnInit=function(){var e=this;this.dtTrigger?this.dtTrigger.subscribe(function(t){e.displayTable(t)}):this.displayTable(null)},e.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},e.prototype.displayTable=function(e){var t=this;e&&(this.dtOptions=e),this.dtInstance=new Promise(function(e,n){Promise.resolve(t.dtOptions).then(function(r){0===Object.keys(r).length&&0===$("tbody tr",t.el.nativeElement).length?n("Both the table and dtOptions cannot be empty"):setTimeout(function(){var n={rowCallback:function(e,n,i){if(r.columns){var o=r.columns;t.applyNgPipeTransform(e,o),t.applyNgRefTemplate(e,o,n)}r.rowCallback&&r.rowCallback(e,n,i)}};n=Object.assign({},r,n),t.dt=$(t.el.nativeElement).DataTable(n),e(t.dt)})})})},e.prototype.applyNgPipeTransform=function(e,t){t.filter(function(e){return e.ngPipeInstance&&!e.ngTemplateRef}).forEach(function(n){var r=n.ngPipeInstance,i=t.findIndex(function(e){return e.data===n.data}),o=e.childNodes.item(i),a=$(o).text(),c=r.transform(a);$(o).text(c)})},e.prototype.applyNgRefTemplate=function(e,t,n){var r=this;t.filter(function(e){return e.ngTemplateRef&&!e.ngPipeInstance}).forEach(function(i){var o=i.ngTemplateRef,a=o.ref,c=o.context,s=t.findIndex(function(e){return e.data===i.data}),u=e.childNodes.item(s);$(u).html("");var d=Object.assign({},c,null==c?void 0:c.userData,{adtData:n}),l=r.vcr.createEmbeddedView(a,d);r.renderer.appendChild(u,l.rootNodes[0])})},e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),e}(),o=n(38583),a=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[o.ez]]}),e}()},33855:function(t,r,o){o.r(r),o.d(r,{ChargeMaintaineneceModule:function(){return H}});var a,c=o(38583),s=o(39895),u=o(50215),d=o(79765),l=o(35383),g=o(88259),f=o.n(g),h=o(37716),p=o(77382),v=o(3118),Z=o(26215),m=o(91841),T=v.$.acctCloserUrl,A=((a=function(){function e(t){n(this,e),this.http=t,this.Index=new Z.X({index:""})}return i(e,[{key:"setIndex",value:function(e){this.Index.next(e)}},{key:"getIndex",value:function(){return this.Index.asObservable()}},{key:"onchargeMaintenanceSubmit",value:function(e,t){return this.http.post("".concat(T,"/charges/save/").concat(e),t)}},{key:"onAuthofChargeMaintenance",value:function(e,t){return this.http.get("".concat(T,"/charges/verify/").concat(e,"/").concat(t))}},{key:"gettingChargeMaintenance",value:function(){return this.http.get("".concat(T,"/charges/getSummary"))}},{key:"submittingTheEditedRecord",value:function(e,t){return console.log("in sevice",e),this.http.put("".concat(T,"/charges/modify/").concat(t),e)}},{key:"sendingIdforchargeMaintenanceEdit",value:function(e){return this.http.get("".concat(T,"/charges/getById/").concat(e))}},{key:"onClosingTheRecord",value:function(e,t){return this.http.get("".concat(T,"/charges/close/").concat(e,"/").concat(t))}},{key:"onReopningTheRecord",value:function(e,t){return this.http.get("".concat(T,"/charges/reopen/").concat(e,"/").concat(t))}},{key:"onDeletTheRecord",value:function(e,t){return this.http.delete("".concat(T,"/charges/delete/").concat(e,"/").concat(t))}}]),e}()).\u0275fac=function(e){return new(e||a)(h.LFG(m.eN))},a.\u0275prov=h.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a),y=o(17988);function b(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"a",12),h.NdJ("click",function(){return h.CHM(n),h.oxw().new()}),h._uU(1),h.qZA()}if(2&e){var r=h.oxw();h.xp6(1),h.Oqu(r.roleCodes.new.labelDescription)}}function x(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"button",19),h.NdJ("click",function(){h.CHM(n);var e=h.oxw().$implicit;return h.oxw().close(e)}),h._UZ(1,"img",20),h.qZA()}}function q(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"button",21),h.NdJ("click",function(){h.CHM(n);var e=h.oxw().$implicit;return h.oxw().open(e)}),h._UZ(1,"img",22),h.qZA()}}function C(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"button",23),h.NdJ("click",function(){h.CHM(n);var e=h.oxw().$implicit;return h.oxw().delete(e)}),h._UZ(1,"img",24),h.qZA()}}function S(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"tr"),h.TgZ(1,"td"),h.TgZ(2,"a",13),h.NdJ("click",function(){var e=h.CHM(n).$implicit;return h.oxw().edit(e)}),h._uU(3),h.qZA(),h.qZA(),h.TgZ(4,"td"),h._uU(5),h.qZA(),h.TgZ(6,"td"),h._uU(7),h.qZA(),h.TgZ(8,"td"),h._uU(9),h.qZA(),h.TgZ(10,"td"),h._uU(11),h.qZA(),h.TgZ(12,"td"),h._uU(13),h.ALo(14,"date"),h.qZA(),h.TgZ(15,"td"),h.TgZ(16,"button",14),h.NdJ("click",function(){var e=h.CHM(n).$implicit;return h.oxw().auth(e)}),h._UZ(17,"img",15),h.qZA(),h.YNc(18,x,2,0,"button",16),h.YNc(19,q,2,0,"button",17),h.YNc(20,C,2,0,"button",18),h.qZA(),h.qZA()}if(2&e){var r=t.$implicit,i=h.oxw();h.xp6(3),h.Oqu(r.currency),h.xp6(2),h.Oqu(r.chargeAmount),h.xp6(2),h.Oqu(r.taxAmount),h.xp6(2),h.Oqu(r.verifiedStatus),h.xp6(2),h.Oqu(r.recordStatus),h.xp6(2),h.Oqu(h.xi3(14,10,r.inputTime,"medium")),h.xp6(3),h.Q6J("disabled",!("U"==r.verifiedStatus||"UNAUTHORIZED"==r.verifiedStatus||"Unauthorized"==r.verifiedStatus)),h.xp6(2),h.Q6J("ngIf",!("O"!=r.recordStatus&&"Open"!=r.recordStatus||"Y"!=r.verifiedOnce&&"YES"!=r.verifiedOnce)),h.xp6(1),h.Q6J("ngIf",!("C"!=r.recordStatus&&"CLOSED"!=r.recordStatus&&"Close"!=r.recordStatus||"Y"!=r.verifiedOnce&&"YES"!=r.verifiedOnce)),h.xp6(1),h.Q6J("ngIf","NO"==r.verifiedOnce||"N"==r.verifiedOnce&&i.roleCodes.delete)}}function k(e,t){1&e&&(h.ynx(0),h.TgZ(1,"div",25),h.TgZ(2,"span",26),h._uU(3,"Please wait... "),h._UZ(4,"span",27),h.qZA(),h.qZA(),h.BQk())}var U=function(){return["/dashboard"]},O=function(){var t=function(){function t(e,r,i,o,a){n(this,t),this.roleService=e,this.apiService=r,this.router=i,this.cdr=o,this.chargeMaintenanceService=a,this.isLoading=!1,this.respArray=[],this.roleCodes=new l.yv,this.dtOptions={},this.dtTrigger=new d.xQ,this.statusArr=["Authorized","Unauthorized","Open","Close"]}return i(t,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.newRolePermissions()},2e3),this.roleService.screenLabelList.subscribe(function(t){return e.roleCodes=t}),setTimeout(function(){console.log(e.roleCodes)},3e3),this.currentUser=localStorage.getItem("userFromLogin"),this.dtOptions={pagingType:"full_numbers",pageLength:5,columnDefs:[{type:"date",targets:[5]}],order:[[5,"desc"]],processing:!0,lengthMenu:[[5,10,20,30,-1],[5,10,20,30,"ALL"]],retrieve:!0},this.getChargeMaintainenceSummary()}},{key:"newRolePermissions",value:function(){this.roleService.fetchScreenPermissions("Charge Maintenance")}},{key:"getChargeMaintainenceSummary",value:function(){var t=this;this.isLoading=!0,this.apiService.gettingChargeMaintenance().subscribe(function(n){var r,i=e(n);try{var o=function(){var e=r.value;e.verifiedStatus=t.statusArr.find(function(t){return t.startsWith(e.verifiedStatus)}),e.recordStatus=t.statusArr.find(function(t){return t.startsWith(e.recordStatus)})};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}console.log(n),t.respArray=n,t.isLoading=!1,t.dtTrigger.next()})}},{key:"new",value:function(){localStorage.removeItem("idValue"),this.apiService.setIndex({index:""}),this.router.navigateByUrl("/charge-maintainence/create")}},{key:"edit",value:function(e){this.apiService.setIndex({index:e.id}),localStorage.setItem("idValue",e.id),this.router.navigateByUrl("/charge-maintainence/create")}},{key:"ngOnDestroy",value:function(){this.dtTrigger.unsubscribe()}},{key:"close",value:function(e){var t=this;console.log(e),f().fire({text:"You are trying to Close record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(n){console.log("this is reopen ",n),!0===n.isConfirmed&&(console.log("this is close"),t.chargeMaintenanceService.onClosingTheRecord(t.currentUser,e.id).subscribe(function(e){console.log(e),e&&(f().fire({text:"Record is Closed"}),t.refreshPage(),t.ngOnInit())}))})}},{key:"open",value:function(e){var t=this;f().fire({text:"You are trying to Reopen record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(n){console.log("this is reopen ",n),!0===n.isConfirmed&&t.chargeMaintenanceService.onReopningTheRecord(t.currentUser,e.id).subscribe(function(e){console.log(e),"O"==e.recordStatus?(f().fire({text:"Record is Reopened"}),t.refreshPage(),t.ngOnInit()):f().fire({text:"Record cannot be opened "})})})}},{key:"delete",value:function(e){var t=this;f().fire({text:"You are trying to Delete record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES.",icon:"info",iconColor:"#d33"}).then(function(n){console.log("this is reopen ",n),!0===n.isConfirmed&&t.chargeMaintenanceService.onDeletTheRecord(t.currentUser,e.id).subscribe(function(e){console.log(e),null==e.chargeAmount?(f().fire({text:"Record is Deleted"}),t.refreshPage(),t.ngOnInit(),t.router.navigate(["/charge-maintainence"])):f().fire({text:"Record cannot be delete "})})}),console.log("this is delete")}},{key:"auth",value:function(e){var t=this;f().fire({text:"You are trying to Authorize record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(n){if(console.log("this is reopen ",n),!0===n.isConfirmed){if(t.currentUser===e.inputBy)return void f().fire({text:"Maker Cannot Authorize Record!",icon:"error"});console.log("this is authorzation"),t.chargeMaintenanceService.onAuthofChargeMaintenance(t.currentUser,e.id).subscribe(function(e){console.log(e),null!=e.verifiedBy?(f().fire({text:"Record is Authorized"}),t.refreshPage(),t.ngOnInit()):f().fire({text:"Maker cannot authorize the record"})})}})}},{key:"check",value:function(e){console.log(e)}},{key:"refreshPage",value:function(){window.location.reload()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.N),h.Y36(A),h.Y36(s.F0),h.Y36(h.sBO),h.Y36(A))},t.\u0275cmp=h.Xpm({type:t,selectors:[["npr-charge-maintainence-summary"]],decls:32,vars:7,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],[1,"dbCardStyle"],[1,"row","g-3","pb-3","justify-content-end"],[1,"col-auto"],["class","btn smBtn minWdSmBtn btnPrimary",3,"click",4,"ngIf"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],[1,"table-responsive"],["datatable","",1,"dataTable","table","tableStyle","nowrap","vAlignMdl",2,"width","100%",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],[1,"primaryColor",2,"cursor","pointer",3,"click"],["title","Authorize",1,"btn",2,"color","red",3,"disabled","click"],["src","assets/images/authorize.svg","alt","Authorize"],["class","btn","style","color: red","title","Close",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Reopen",3,"click",4,"ngIf"],["class","btn","style","color: red","title","Delete.",3,"click",4,"ngIf"],["title","Close",1,"btn",2,"color","red",3,"click"],["src","assets/images/CROSS1.svg","alt","..."],["title","Reopen",1,"btn",2,"color","red",3,"click"],["src","assets/images/open.svg","alt","..."],["title","Delete.",1,"btn",2,"color","red",3,"click"],["src","assets/images/delete.svg","alt","..."],[1,"loading-page-center"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"h2",2),h._uU(3,"Charge Maintenance Summary"),h.qZA(),h.qZA(),h.TgZ(4,"div",3),h.TgZ(5,"div",4),h.TgZ(6,"div",5),h.YNc(7,b,2,1,"a",6),h.qZA(),h.TgZ(8,"div",5),h.TgZ(9,"a",7),h._uU(10,"Exit"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(11,"div",8),h.TgZ(12,"table",9),h.TgZ(13,"thead"),h.TgZ(14,"tr"),h.TgZ(15,"th"),h._uU(16,"Currency"),h.qZA(),h.TgZ(17,"th"),h._uU(18,"Charge Amount"),h.qZA(),h.TgZ(19,"th"),h._uU(20,"Tax Amount"),h.qZA(),h.TgZ(21,"th"),h._uU(22,"Auth Status"),h.qZA(),h.TgZ(23,"th"),h._uU(24,"Record Status"),h.qZA(),h.TgZ(25,"th"),h._uU(26,"Date"),h.qZA(),h.TgZ(27,"th"),h._uU(28,"Actions"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(29,"tbody"),h.YNc(30,S,21,13,"tr",10),h.qZA(),h.qZA(),h.qZA(),h.YNc(31,k,5,0,"ng-container",11),h.qZA(),h.qZA()),2&e&&(h.xp6(7),h.Q6J("ngIf",t.roleCodes.new),h.xp6(2),h.Q6J("routerLink",h.DdM(6,U)),h.xp6(3),h.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),h.xp6(18),h.Q6J("ngForOf",t.respArray),h.xp6(1),h.Q6J("ngIf",t.isLoading))},directives:[c.O5,s.yS,y.G,c.sg],pipes:[c.uU],styles:[".iconBtn[_ngcontent-%COMP%]{background:none;border:none;outline:none;position:relative}.btnTooltip[_ngcontent-%COMP%]{position:absolute;background-color:#fff;display:none;top:24px;left:12px;border:1px solid black;padding:4px}.iconBtn[_ngcontent-%COMP%]:hover   .btnTooltip[_ngcontent-%COMP%]{display:block}"]}),t}(),B=o(3679),w=o(58117),D=o(31443);function I(e,t){1&e&&(h.TgZ(0,"div",21),h._uU(1," Max value allowed is 100 "),h.qZA())}function _(e,t){if(1&e&&(h.TgZ(0,"div",21),h._uU(1),h.qZA()),2&e){var n=h.oxw();h.xp6(1),h.hij(" ",n.chargeForm.controls.taxAmount.errors.lessThan.message," ")}}function M(e,t){1&e&&(h.TgZ(0,"div",21),h._uU(1," Max value allowed is 100 "),h.qZA())}function N(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",18),h.TgZ(1,"button",22),h.NdJ("click",function(){return h.CHM(n),h.oxw().onSubmittingofChargeMaintenance("edit")}),h._uU(2,"Save"),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(1),h.Q6J("disabled",!r.chargeForm.dirty)}}function F(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",18),h.TgZ(1,"button",23),h.NdJ("click",function(){return h.CHM(n),h.oxw().onSubmitEditChargeMaintenance()}),h._uU(2),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(2),h.Oqu(r.roleCodes.edit.labelDescription)}}function R(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",18),h.TgZ(1,"button",24),h.NdJ("click",function(){return h.CHM(n),h.oxw().onAuthorizingTheRecord()}),h._uU(2),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(2),h.Oqu(r.roleCodes.auth.labelDescription)}}function Y(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",18),h.TgZ(1,"button",25),h.NdJ("click",function(){return h.CHM(n),h.oxw().onClosingTheRecord()}),h._uU(2),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(2),h.Oqu(r.roleCodes.close.labelDescription)}}function E(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",18),h.TgZ(1,"button",26),h.NdJ("click",function(){return h.CHM(n),h.oxw().onReopningTheRecord()}),h._uU(2),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(2),h.Oqu(r.roleCodes.reopen.labelDescription)}}function J(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",18),h.TgZ(1,"button",26),h.NdJ("click",function(){return h.CHM(n),h.oxw().onDeletingTheRecord()}),h._uU(2),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(2),h.Oqu(r.roleCodes.delete.labelDescription)}}function P(e,t){if(1&e){var n=h.EpF();h.TgZ(0,"div",18),h.TgZ(1,"button",27),h.NdJ("click",function(){return h.CHM(n),h.oxw().onSubmittingofChargeMaintenance("submit")}),h._uU(2,"Save"),h.qZA(),h.qZA()}if(2&e){var r=h.oxw();h.xp6(1),h.Q6J("disabled",!r.chargeForm.valid||r.submitDisab)}}function L(e,t){if(1&e&&(h.TgZ(0,"div",4),h.TgZ(1,"div",28),h.TgZ(2,"div",29),h.TgZ(3,"div",30),h.TgZ(4,"div",31),h.TgZ(5,"div",18),h.TgZ(6,"div",32),h._UZ(7,"i",33),h.qZA(),h.qZA(),h.TgZ(8,"div",34),h.TgZ(9,"div",35),h.TgZ(10,"h2"),h._uU(11,"Maker"),h.qZA(),h.TgZ(12,"p"),h._uU(13),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(14,"div",29),h.TgZ(15,"div",30),h.TgZ(16,"div",31),h.TgZ(17,"div",18),h.TgZ(18,"div",36),h._UZ(19,"img",37),h.qZA(),h.qZA(),h.TgZ(20,"div",34),h.TgZ(21,"div",35),h.TgZ(22,"h2"),h._uU(23,"Maker Time Stamp"),h.qZA(),h.TgZ(24,"p"),h._uU(25),h.ALo(26,"date"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(27,"div",29),h.TgZ(28,"div",30),h.TgZ(29,"div",31),h.TgZ(30,"div",18),h.TgZ(31,"div",38),h._UZ(32,"i",39),h.qZA(),h.qZA(),h.TgZ(33,"div",34),h.TgZ(34,"div",35),h.TgZ(35,"h2"),h._uU(36,"Record Status"),h.qZA(),h.TgZ(37,"p"),h._uU(38),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(39,"div",29),h.TgZ(40,"div",30),h.TgZ(41,"div",31),h.TgZ(42,"div",18),h.TgZ(43,"div",40),h._UZ(44,"i",41),h.qZA(),h.qZA(),h.TgZ(45,"div",34),h.TgZ(46,"div",35),h.TgZ(47,"h2"),h._uU(48,"Checker"),h.qZA(),h.TgZ(49,"p"),h._uU(50),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(51,"div",29),h.TgZ(52,"div",30),h.TgZ(53,"div",31),h.TgZ(54,"div",18),h.TgZ(55,"div",38),h._UZ(56,"img",42),h.qZA(),h.qZA(),h.TgZ(57,"div",34),h.TgZ(58,"div",35),h.TgZ(59,"h2"),h._uU(60,"Modification No"),h.qZA(),h.TgZ(61,"p"),h._uU(62),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(63,"div",29),h.TgZ(64,"div",30),h.TgZ(65,"div",31),h.TgZ(66,"div",18),h.TgZ(67,"div",43),h._UZ(68,"img",44),h.qZA(),h.qZA(),h.TgZ(69,"div",34),h.TgZ(70,"div",35),h.TgZ(71,"h2"),h._uU(72,"Checker Time Stamp"),h.qZA(),h.TgZ(73,"p"),h._uU(74),h.ALo(75,"date"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(76,"div",29),h.TgZ(77,"div",30),h.TgZ(78,"div",31),h.TgZ(79,"div",18),h.TgZ(80,"div",45),h._UZ(81,"i",46),h.qZA(),h.qZA(),h.TgZ(82,"div",34),h.TgZ(83,"div",35),h.TgZ(84,"h2"),h._uU(85,"First Time Auth"),h.qZA(),h.TgZ(86,"p"),h._uU(87),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(88,"div",29),h.TgZ(89,"div",30),h.TgZ(90,"div",31),h.TgZ(91,"div",18),h.TgZ(92,"div",47),h._UZ(93,"img",48),h.qZA(),h.qZA(),h.TgZ(94,"div",34),h.TgZ(95,"div",35),h.TgZ(96,"h2"),h._uU(97,"Auth Status"),h.qZA(),h.TgZ(98,"p"),h._uU(99),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e){var n=h.oxw();h.xp6(13),h.Oqu(n.respData.inputBy),h.xp6(12),h.Oqu(h.xi3(26,8,n.respData.inputTime,"MM/dd/yyyy, h:mm a")),h.xp6(13),h.Oqu(n.respData.recordStatus),h.xp6(12),h.Oqu(n.respData.verifiedBy),h.xp6(12),h.Oqu(n.respData.modNo),h.xp6(12),h.Oqu(h.xi3(75,11,n.respData.verifiedTime,"MM/dd/yyyy, h:mm a")),h.xp6(13),h.Oqu(n.respData.verifiedOnce),h.xp6(12),h.Oqu(n.respData.verifiedStatus)}}var Q=function(){return["/charge-maintainence"]},z=[{path:"",component:O},{path:"create",component:function(){var e=function(){function e(t,r,i,o,a,c){n(this,e),this.toastService=t,this.formBuilder=r,this.chargeMaintenanceService=i,this.roleService=o,this.router=a,this.cdr=c,this.editFlag=!0,this.roleCodes=new l.yv,this.formTouched=!0,this.showDialog=!1,this.subject=new d.xQ}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.idValue=localStorage.getItem("idValue"),setTimeout(function(){e.newRolePermissions()},2e3),this.roleService.screenLabelList.subscribe(function(t){return e.roleCodes=t}),setTimeout(function(){console.log(e.roleCodes)},3e3),console.log("role codes",this.roleCodes),this.currentUser=localStorage.getItem("userFromLogin"),this.buildForm(""),null!=this.idValue&&this.chargeMaintenanceService.setIndex({index:this.idValue}),this.chargeMaintenanceService.getIndex().subscribe(function(t){t.index&&(e.index=t.index,e.onEditCharge(t.index))}),w.jc.set({validationMessage:{lessThan:"Tax Amount should be less than Charge amount."}})}},{key:"buildForm",value:function(e){this.chargeForm=this.formBuilder.group({currency:[e?e.currency:"",B.kI.required],chargeAmount:[e?e.chargeAmount:"",B.kI.required],chargePercentage:[e?e.chargePercentage:"",[B.kI.required,B.kI.max(100),B.kI.min(0)]],taxAmount:[e?e.taxAmount:"",[B.kI.required,w.CM.lessThan({fieldName:"chargeAmount"})]],taxPercentage:[e?e.taxPercentage:"",[B.kI.required,B.kI.max(100),B.kI.min(0)]],inputBy:[e?e.inputBy:""],inputTime:[e?e.inputTime:""],recordStatus:[e?e.recordStatus:""],verifiedOnce:[e?e.verifiedOnce:""],verifiedBy:[e?e.verifiedBy:""],verifiedTime:[e?e.verifiedTime:""],verifiedStatus:[e?e.verifiedStatus:""],modNo:[e?e.modNo:""],id:[e?e.id:""]})}},{key:"canExit",value:function(){var e=this,t=!1;return this.chargeForm.touched&&1==this.formTouched?f().fire({text:"There are unsaved changes in the screen. Would you like to navigate to other screen?",showCancelButton:!0,confirmButtonColor:"#E6224A",cancelButtonColor:"#011945",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(function(n){return!0===n.isConfirmed?(t=!0,e.cdr.markForCheck(),t):(t=!1,e.cdr.markForCheck(),t)}):(t=!0,new Promise(function(n,r){!0===t&&(t=!0,e.cdr.markForCheck(),n(!0))}))}},{key:"onSubmittingofChargeMaintenance",value:function(e){var t=this;this.chargeForm.value.chargeAmount<this.chargeForm.value.taxAmount?f().fire({text:"Tax Amount should not be greater than Charge Amount!",icon:"warning"}):("submit"===e&&this.chargeMaintenanceService.onchargeMaintenanceSubmit(this.currentUser,this.chargeForm.value).subscribe(function(e){console.log(e),null==e.currency?(f().fire({text:"Record Already Exist",icon:"warning"}),t.submitDisab=!0):(t.respData=e,t.auditLog(),t.editFlag=!1,t.index=t.respData.id,t.formTouched=!t.chargeForm.touched,f().fire({text:"Record is Created ",icon:"success"}))}),"edit"===e&&this.chargeMaintenanceService.submittingTheEditedRecord(this.chargeForm.value,this.currentUser).subscribe(function(e){console.log(e),e?(t.respData=e,t.editFlag=!1,t.index=t.respData.id,t.auditLog(),t.formTouched=!t.chargeForm.touched,f().fire({text:"Record is Updated "})):f().fire({text:"Cannot update the record"})}))}},{key:"onEditCharge",value:function(e){var t=this;this.editFlag=!1,this.chargeMaintenanceService.sendingIdforchargeMaintenanceEdit(e).subscribe(function(e){console.log(e),t.respData=e,t.buildForm(e),t.auditLog()})}},{key:"auditLog",value:function(){"O"==this.respData.recordStatus&&(this.respData.recordStatus="OPEN"),"C"==this.respData.recordStatus&&(this.respData.recordStatus="CLOSE"),"U"==this.respData.verifiedStatus&&(this.respData.verifiedStatus="UNAUTHORIZED"),"A"==this.respData.verifiedStatus&&(this.respData.verifiedStatus="AUTHORIZED"),"Y"==this.respData.verifiedOnce&&(this.respData.verifiedOnce="YES"),"N"==this.respData.verifiedOnce&&(this.respData.verifiedOnce="NO")}},{key:"newRolePermissions",value:function(){this.roleService.fetchScreenPermissions("Charge Maintenance")}},{key:"onAuthorizingTheRecord",value:function(){var e=this;f().fire({text:"You are trying to Authorize record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){if(console.log("this is reopen ",t),!0===t.isConfirmed){if(e.currentUser===e.respData.inputBy)return void f().fire({text:"Maker Cannot Authorize Record!",icon:"error"});console.log("this is authorzation"),e.chargeMaintenanceService.onAuthofChargeMaintenance(e.currentUser,e.chargeForm.value.id).subscribe(function(t){console.log(t),e.respData=t,e.auditLog(),null!=e.respData.verifiedBy?f().fire({text:"Record is Authorized"}):f().fire({text:"Maker cannot authorize the record"})})}})}},{key:"chargeAmountchecking",value:function(e){console.log("event",e.target.value),this.chargeAmount=e.target.value}},{key:"taxAmountchecking",value:function(e){if(console.log("event",e.target.value),e.target.value>this.chargeAmount)return console.log("validation true"),{error:"Tax amount should be less than Charge Amount!"}}},{key:"onSubmitEditChargeMaintenance",value:function(){console.log("This is Edit Charge Maintenance"),this.editFlag=!0,console.log(this.editFlag)}},{key:"onClosingTheRecord",value:function(){var e=this;f().fire({text:"You are trying to Close record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){console.log("this is reopen ",t),!0===t.isConfirmed&&(console.log("this is close"),e.chargeMaintenanceService.onClosingTheRecord(e.currentUser,e.chargeForm.value.id).subscribe(function(t){console.log(t),e.respData=t,e.auditLog(),e.respData&&f().fire({text:"Record is Closed"})}))})}},{key:"onReopningTheRecord",value:function(){var e=this;f().fire({text:"You are trying to Reopen record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info",iconColor:"#d33"}).then(function(t){console.log("this is reopen ",t),!0===t.isConfirmed&&e.chargeMaintenanceService.onReopningTheRecord(e.currentUser,e.chargeForm.value.id).subscribe(function(t){console.log(t),e.respData=t,e.respData=t,"O"==e.respData.recordStatus?(e.auditLog(),f().fire({text:"Record is Reopened"})):f().fire({text:"Record cannot be opened "})})})}},{key:"onDeletingTheRecord",value:function(){var e=this;f().fire({text:"You are trying to Delete record.  Do you want to proceed?",showCancelButton:!0,confirmButtonColor:"#3e54b8",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"YES.",icon:"info",iconColor:"#d33"}).then(function(t){console.log("this is reopen ",t),!0===t.isConfirmed&&e.chargeMaintenanceService.onDeletTheRecord(e.currentUser,e.chargeForm.value.id).subscribe(function(t){console.log(t),e.respData=t,e.respData=t,null==e.respData.chargeAmount?(e.auditLog(),f().fire({text:"Record is Deleted"}),e.router.navigate(["/charge-maintainence"])):f().fire({text:"Record cannot be delete "})})}),console.log("this is delete")}},{key:"charOnly",value:function(e){return isNaN(Number(e.key))&&" "!==e.key}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Y36(D.k),h.Y36(B.qu),h.Y36(A),h.Y36(p.N),h.Y36(s.F0),h.Y36(h.sBO))},e.\u0275cmp=h.Xpm({type:e,selectors:[["npr-charge-maintainenece"]],decls:58,vars:19,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],["action","",1,"formStyle",3,"formGroup"],[1,"dbCardStyle"],[1,"row","gy-4"],[1,"col-lg-4"],["for","",1,"formLbl"],[1,"colorRed"],["id","fname","oninput","this.value = this.value.toUpperCase()","formControlName","currency","maxlength","3","type","text","placeholder","Currency","value","",1,"form-control",3,"readonly","keypress"],["id","lname","type","number","formControlName","chargeAmount","placeholder","Charge Amount","value","",1,"form-control",3,"readonly","keyup"],["id","accNumber","type","number","formControlName","chargePercentage","placeholder","Charge Percentage","value","",1,"form-control",3,"readonly"],["class","invalid-feedback",4,"ngIf"],["id","cName","type","number","formControlName","taxAmount","placeholder","Tax Amount","value","",1,"form-control",3,"readonly","keyup"],["id","nationalID","formControlName","taxPercentage","type","number","placeholder","Tax Percentage","value","",1,"form-control",3,"readonly"],[1,"col-lg-12"],[1,"row","g-3","pb-3","justify-content-end","pt-3"],["class","col-auto",4,"ngIf"],[1,"col-auto"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],["class","dbCardStyle",4,"ngIf"],[1,"invalid-feedback"],["color","primary",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],["color","primary",1,"btn","smBtn","minWdSmBtn","btnUpdate",3,"click"],["color","primary",1,"btn","smBtn","minWdSmBtn","btnAuth",3,"click"],["color","primary",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],["color","warn",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],[1,"row"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"csCardStyle"],[1,"row","g-2","align-items-center"],[1,"csCardStyleIcon","csCardStyleIconBg1"],[1,"fa","fa-edit","faClass"],[1,"col"],[1,"csCardStyleText"],[1,"csCardStyleIcon","csCardStyleIconBg2"],["src","assets/images/time-stamp-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg3"],["aria-hidden","true",1,"fa","fa-files-o","faRecordStatus"],[1,"csCardStyleIcon","csCardStyleIconBg4"],[1,"fa","fa-check-square-o","faClassChecker"],["src","assets/images/modification.svg","alt","...",1,"modImage"],[1,"csCardStyleIcon","csCardStyleIconBg5"],["src","assets/images/checker-time-icon.svg","alt","..."],[1,"csCardStyleIcon","csCardStyleIconBg6"],[1,"fa","fa-shield","faClassFirstTimeAuth"],[1,"csCardStyleIcon","csCardStyleIconBg7"],["src","assets/images/authorize.svg","alt","...",1,"modImage"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"h2",2),h._uU(3,"Charge Maintenance"),h.qZA(),h.qZA(),h.TgZ(4,"form",3),h.TgZ(5,"div",4),h.TgZ(6,"div",5),h.TgZ(7,"div",6),h.TgZ(8,"label",7),h._uU(9,"Currency"),h.TgZ(10,"span",8),h._uU(11,"*"),h.qZA(),h.qZA(),h.TgZ(12,"input",9),h.NdJ("keypress",function(e){return t.charOnly(e)}),h.qZA(),h.qZA(),h.qZA(),h._UZ(13,"br"),h.TgZ(14,"div",5),h.TgZ(15,"div",6),h.TgZ(16,"label",7),h._uU(17,"Charge Amount"),h.TgZ(18,"span",8),h._uU(19,"*"),h.qZA(),h.qZA(),h.TgZ(20,"input",10),h.NdJ("keyup",function(e){return t.chargeAmountchecking(e)}),h.qZA(),h.qZA(),h.TgZ(21,"div",6),h.TgZ(22,"label",7),h._uU(23,"Charge Percentage"),h.TgZ(24,"span",8),h._uU(25,"*"),h.qZA(),h.qZA(),h._UZ(26,"input",11),h.YNc(27,I,2,0,"div",12),h.qZA(),h.qZA(),h._UZ(28,"br"),h.TgZ(29,"div",5),h.TgZ(30,"div",6),h.TgZ(31,"label",7),h._uU(32,"Tax Amount"),h.TgZ(33,"span",8),h._uU(34,"*"),h.qZA(),h.qZA(),h.TgZ(35,"input",13),h.NdJ("keyup",function(e){return t.taxAmountchecking(e)}),h.qZA(),h.YNc(36,_,2,1,"div",12),h.qZA(),h.TgZ(37,"div",6),h.TgZ(38,"label",7),h._uU(39,"Tax Percentage"),h.TgZ(40,"span",8),h._uU(41,"*"),h.qZA(),h.qZA(),h._UZ(42,"input",14),h.YNc(43,M,2,0,"div",12),h.qZA(),h.qZA(),h._UZ(44,"br"),h.TgZ(45,"div",15),h.TgZ(46,"div",16),h.YNc(47,N,3,1,"div",17),h.YNc(48,F,3,1,"div",17),h.YNc(49,R,3,1,"div",17),h.YNc(50,Y,3,1,"div",17),h.YNc(51,E,3,1,"div",17),h.YNc(52,J,3,1,"div",17),h.YNc(53,P,3,1,"div",17),h.TgZ(54,"div",18),h.TgZ(55,"a",19),h._uU(56,"Exit"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.YNc(57,L,100,14,"div",20),h.qZA(),h.qZA()),2&e&&(h.xp6(4),h.Q6J("formGroup",t.chargeForm),h.xp6(8),h.Q6J("readonly",!t.editFlag),h.xp6(8),h.Q6J("readonly",!t.editFlag),h.xp6(6),h.Q6J("readonly",!t.editFlag),h.xp6(1),h.Q6J("ngIf",null==t.chargeForm.controls.chargePercentage.errors?null:t.chargeForm.controls.chargePercentage.errors.max),h.xp6(8),h.Q6J("readonly",!t.editFlag),h.xp6(1),h.Q6J("ngIf",t.chargeForm.controls.taxAmount.errors),h.xp6(6),h.Q6J("readonly",!t.editFlag),h.xp6(1),h.Q6J("ngIf",null==t.chargeForm.controls.taxPercentage.errors?null:t.chargeForm.controls.taxPercentage.errors.max),h.xp6(4),h.Q6J("ngIf",t.respData&&t.editFlag&&t.index),h.xp6(1),h.Q6J("ngIf",t.respData&&!t.editFlag&&"OPEN"==t.respData.recordStatus&&t.roleCodes.edit),h.xp6(1),h.Q6J("ngIf",t.respData&&!t.editFlag&&"UNAUTHORIZED"==t.respData.verifiedStatus&&t.roleCodes.auth),h.xp6(1),h.Q6J("ngIf",t.respData&&"OPEN"==t.respData.recordStatus&&!t.editFlag&&"YES"==t.respData.verifiedOnce&&t.roleCodes.close),h.xp6(1),h.Q6J("ngIf",t.respData&&"CLOSE"==t.respData.recordStatus&&!t.editFlag&&"YES"==t.respData.verifiedOnce&&t.roleCodes.reopen),h.xp6(1),h.Q6J("ngIf",t.respData&&!t.editFlag&&"NO"==t.respData.verifiedOnce&&t.roleCodes.delete),h.xp6(1),h.Q6J("ngIf",t.editFlag&&!t.index),h.xp6(2),h.Q6J("routerLink",h.DdM(18,Q)),h.xp6(2),h.Q6J("ngIf",t.respData))},directives:[B._Y,B.JL,B.sg,B.Fj,B.JJ,B.u,B.nD,B.wV,c.O5,s.yS],pipes:[c.uU],styles:[""]}),e}(),canDeactivate:[u.I]}],j=function(){var e=i(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[s.Bz.forChild(z)],s.Bz]}),e}(),H=function(){var e=i(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[c.ez,j,y.T,B.UX]]}),e}()}}])}();