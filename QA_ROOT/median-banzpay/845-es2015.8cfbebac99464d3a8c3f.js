"use strict";(self.webpackChunkmedian=self.webpackChunkmedian||[]).push([[845],{17988:function(t,e,o){o.d(e,{G:function(){return n},T:function(){return i}});var r=o(37716),n=function(){function t(t,e,o){this.el=t,this.vcr=e,this.renderer=o,this.dtOptions={}}return t.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe(function(e){t.displayTable(e)}):this.displayTable(null)},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(t){var e=this;t&&(this.dtOptions=t),this.dtInstance=new Promise(function(t,o){Promise.resolve(e.dtOptions).then(function(r){0===Object.keys(r).length&&0===$("tbody tr",e.el.nativeElement).length?o("Both the table and dtOptions cannot be empty"):setTimeout(function(){var o={rowCallback:function(t,o,n){if(r.columns){var a=r.columns;e.applyNgPipeTransform(t,a),e.applyNgRefTemplate(t,a,o)}r.rowCallback&&r.rowCallback(t,o,n)}};o=Object.assign({},r,o),e.dt=$(e.el.nativeElement).DataTable(o),t(e.dt)})})})},t.prototype.applyNgPipeTransform=function(t,e){e.filter(function(t){return t.ngPipeInstance&&!t.ngTemplateRef}).forEach(function(o){var r=o.ngPipeInstance,n=e.findIndex(function(t){return t.data===o.data}),a=t.childNodes.item(n),i=$(a).text(),c=r.transform(i);$(a).text(c)})},t.prototype.applyNgRefTemplate=function(t,e,o){var r=this;e.filter(function(t){return t.ngTemplateRef&&!t.ngPipeInstance}).forEach(function(n){var a=n.ngTemplateRef,i=a.ref,c=a.context,u=e.findIndex(function(t){return t.data===n.data}),s=t.childNodes.item(u);$(s).html("");var l=Object.assign({},c,null==c?void 0:c.userData,{adtData:o}),m=r.vcr.createEmbeddedView(i,l);r.renderer.appendChild(s,m.rootNodes[0])})},t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),a=o(38583),i=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[a.ez]]}),t}()},31443:function(t,e,o){o.d(e,{k:function(){return a}});var r=o(37716),n=o(80463);let a=(()=>{class t{constructor(t){this.iziToast=t}successMessage(t,e){this.iziToast.success({title:t,message:e,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}errorMessage(t,e){this.iziToast.error({title:t,message:e,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}infoMessage(t,e){this.iziToast.info({title:t,message:e,layout:2,balloon:!1,position:"topRight",progressBarColor:"red",pauseOnHover:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(n.I))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},53845:function(t,e,o){o.r(e),o.d(e,{CustomerSearchModule:function(){return Y}});var r=o(38583),n=o(39895),a=o(50215),i=o(3679),c=o(88259),u=o.n(c),s=o(37716),l=o(31443),m=o(94761);function d(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Please enter valid Phone Number! "),s.qZA())}function h(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Please enter valid email address! "),s.qZA())}function g(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Please enter valid Phone Number! "),s.qZA())}const Z=function(){return["/customer-search"]};let p=(()=>{class t{constructor(t,e,o){this.toastService=t,this.formBuilder=e,this.apiService=o,this.sendMailtoOpt=new b,this.checkValue=!0,this.accountBlock=new f}ngOnInit(){this.apiService.getCustomerSearch().subscribe(t=>{this.buildForm(t)})}buildForm(t){console.log(t),this.accountBlockForm=this.formBuilder.group({customerName:[t?t.customerName:"",i.kI.required],customerNumber:[t?t.customerNumber:"",i.kI.required],customerAccountNumber:[t?t.accountNumber:"",i.kI.required],branchCode:[t?t.branchCode:"",i.kI.required],nameOfOperator:["",i.kI.required],nameOfCustomer:["",i.kI.required],customerMobileNumber:[t?t.mobileNo:"",[i.kI.required,i.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],mobileNumber:["",[i.kI.required,i.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],dueDeligenceInfo:["",i.kI.required],reasonForBlocking:["",i.kI.required],commentsByOperator:["",i.kI.required],emailid:[t?t.email:"",[i.kI.required,i.kI.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],sendmail:[""]})}onClickOfSubmit(){u().fire({title:"Account frozen successfully",icon:"success"}),this.submitdisable=!0,this.accountBlock.customerName=this.accountBlockForm.get("customerName").value,this.accountBlock.customerNumber=this.accountBlockForm.get("customerNumber").value,this.sendMailtoOpt.emailid=this.accountBlockForm.get("emailid").value,this.sendMailtoOpt.nameOfCustomer=this.accountBlockForm.get("nameOfCustomer").value,this.sendMailtoOpt.mobileNumber=this.accountBlockForm.get("mobileNumber").value,this.sendMailtoOpt.dueDeligenceInfo=this.accountBlockForm.get("dueDeligenceInfo").value,this.sendMailtoOpt.commentsByOperator=this.accountBlockForm.get("commentsByOperator").value,this.sendMailtoOpt.reasonForBlocking=this.accountBlockForm.get("reasonForBlocking").value,this.sendMailtoOpt.nameOfOperator=this.accountBlockForm.get("nameOfOperator").value,this.accountBlock.branchCode=this.accountBlockForm.get("branchCode").value,this.accountBlock.accountNumber=this.accountBlockForm.get("customerAccountNumber").value,this.accountBlock.mobileNo=this.accountBlockForm.get("customerMobileNumber").value,this.sendMailtoOpt.sendMailtoCustomer=this.accountBlockForm.get("sendmail").value,this.sendMailtoOpt.customerName=this.accountBlock.customerName,this.sendMailtoOpt.customerMobileNumber=this.accountBlock.mobileNo,this.sendMailtoOpt.branchCode=this.accountBlock.branchCode,this.sendMailtoOpt.customerNumber=this.accountBlock.customerNumber,this.sendMailtoOpt.customerAccountNumber=this.accountBlock.accountNumber,this.sendMailtoOpt.statusChangeDate=this.data,this.currentUser=localStorage.getItem("currentUser"),this.sendMailtoOpt.status=this.customerdatafromcomponent.accstatus,this.sendMailtoOpt.sendMailtoCustomer||(this.sendMailtoOpt.sendMailtoCustomer=!1),this.sendMailtoOpt.mobileNumber&&this.sendMailtoOpt.nameOfCustomer&&this.sendMailtoOpt.dueDeligenceInfo&&this.sendMailtoOpt.reasonForBlocking&&this.sendMailtoOpt.commentsByOperator?this.submitdisable=!0:this.toastService.errorMessage("All fields are mandatory","Ensure all fields are captured correctly.")}exit(){this.apiService.setAccountBlocking({exit:"clickedOnExitFromAccountBlocking"})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.k),s.Y36(i.qu),s.Y36(m.sM))},t.\u0275cmp=s.Xpm({type:t,selectors:[["npr-account-blocking"]],decls:67,vars:7,consts:[["action","",1,"formStyle",3,"formGroup"],[1,"pageContentMain"],[1,"dbCardStyle"],[1,"row","gy-4"],[1,"col-lg-4"],["for","",1,"formLbl"],["id","fname","type","text","formControlName","customerName","placeholder","Customer Name","value","",1,"form-control"],["id","cNumber","formControlName","customerNumber","type","number","placeholder","Customer Number","value","",1,"form-control"],["id","accNumber","formControlName","customerAccountNumber","type","number","placeholder","Account Number","value","",1,"form-control"],["id","cName","formControlName","branchCode","type","text","placeholder","Branch Code","value","",1,"form-control"],["id","nationalID","maxlength","10","formControlName","customerMobileNumber","type","number","placeholder","Mobile Number","value","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["id","accNumber","formControlName","emailid","type","text","placeholder","Email Id","value","",1,"form-control"],[1,"pageContentMain","mt-4","mb-4"],["action","",1,"formStyle"],["id","fname","formControlName","nameOfCustomer","type","text","placeholder","Customer Name","value","",1,"form-control"],["id","cNumber","formControlName","mobileNumber","maxlength","10","type","number","placeholder","Mobile Number","value","",1,"form-control"],["id","MobNumber","formControlName","nameOfOperator","type","text","placeholder","Name of the Operator","value","",1,"form-control"],["rows","8","id","cName","formControlName","dueDeligenceInfo","type","text","placeholder","Due Diligence","value","",1,"form-control","rounded-0"],["rows","8","id","nationalID","formControlName","reasonForBlocking","type","text","placeholder","Reason","value","",1,"form-control","rounded-0"],["rows","8","formControlName","commentsByOperator","id","MobNumber","type","text","placeholder","Comments","value","",1,"form-control","rounded-0"],[1,"col-lg-12"],[1,"row","g-3","pb-3","justify-content-end","pt-3"],[1,"col-auto"],["type","button",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],[1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink","click"],[1,"invalid-feedback"]],template:function(t,e){1&t&&(s.TgZ(0,"form",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"label",5),s._uU(6,"Customer Name"),s.qZA(),s._UZ(7,"input",6),s.qZA(),s.TgZ(8,"div",4),s.TgZ(9,"label",5),s._uU(10,"Customer Number"),s.qZA(),s._UZ(11,"input",7),s.qZA(),s.TgZ(12,"div",4),s.TgZ(13,"label",5),s._uU(14,"Account Number"),s.qZA(),s._UZ(15,"input",8),s.qZA(),s.TgZ(16,"div",4),s.TgZ(17,"label",5),s._uU(18,"Branch Code"),s.qZA(),s._UZ(19,"input",9),s.qZA(),s.TgZ(20,"div",4),s.TgZ(21,"label",5),s._uU(22,"Mobile Number"),s.qZA(),s._UZ(23,"input",10),s.YNc(24,d,2,0,"div",11),s.qZA(),s.TgZ(25,"div",4),s.TgZ(26,"label",5),s._uU(27,"Email Id"),s.qZA(),s._UZ(28,"input",12),s.YNc(29,h,2,0,"div",11),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(30,"div",13),s.TgZ(31,"form",14),s.TgZ(32,"div",2),s.TgZ(33,"div",3),s.TgZ(34,"div",4),s.TgZ(35,"label",5),s._uU(36,"Customer Name"),s.qZA(),s._UZ(37,"input",15),s.qZA(),s.TgZ(38,"div",4),s.TgZ(39,"label",5),s._uU(40,"Mobile Number"),s.qZA(),s._UZ(41,"input",16),s.YNc(42,g,2,0,"div",11),s.qZA(),s.TgZ(43,"div",4),s.TgZ(44,"label",5),s._uU(45,"Name of the Operator"),s.qZA(),s._UZ(46,"input",17),s.qZA(),s.TgZ(47,"div",4),s.TgZ(48,"label",5),s._uU(49,"Due Diligence"),s.qZA(),s._UZ(50,"textarea",18),s.qZA(),s.TgZ(51,"div",4),s.TgZ(52,"label",5),s._uU(53,"Reason"),s.qZA(),s._UZ(54,"textarea",19),s.qZA(),s.TgZ(55,"div",4),s.TgZ(56,"label",5),s._uU(57,"Comments"),s.qZA(),s._UZ(58,"textarea",20),s.qZA(),s.TgZ(59,"div",21),s.TgZ(60,"div",22),s.TgZ(61,"div",23),s.TgZ(62,"button",24),s.NdJ("click",function(){return e.onClickOfSubmit()}),s._uU(63,"Submit"),s.qZA(),s.qZA(),s.TgZ(64,"div",23),s.TgZ(65,"a",25),s.NdJ("click",function(){return e.exit()}),s._uU(66,"Exit"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.Q6J("formGroup",e.accountBlockForm),s.xp6(24),s.Q6J("ngIf",e.accountBlockForm.get("customerMobileNumber").hasError("pattern")&&e.accountBlockForm.get("mobileNumber").touched),s.xp6(5),s.Q6J("ngIf",e.accountBlockForm.get("emailid").hasError("pattern")&&e.accountBlockForm.get("emailid").touched),s.xp6(13),s.Q6J("ngIf",e.accountBlockForm.get("mobileNumber").hasError("pattern")&&e.accountBlockForm.get("mobileNumber").touched),s.xp6(20),s.Q6J("disabled",!e.accountBlockForm.valid||e.submitdisable),s.xp6(3),s.Q6J("routerLink",s.DdM(6,Z)))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.wV,i.nD,r.O5,n.yS],styles:[""]}),t})();class b{}class f{}var A=o(79765),N=o(81770),T=o(17988);function v(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Minimum Length is 10 "),s.qZA())}function q(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Only Numbers "),s.qZA())}function k(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Enter Valid Account Number "),s.qZA())}function C(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Minimum Length is 3 "),s.qZA())}function y(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Maximum Length is 6 "),s.qZA())}function _(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Minimum Length is 3 "),s.qZA())}function U(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Maximum Length is 3 "),s.qZA())}function B(t,e){1&t&&(s.TgZ(0,"div",26),s._uU(1," Only Numbers "),s.qZA())}function x(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s.TgZ(4,"button",30),s.NdJ("click",function(){return s.CHM(t),s.oxw(2).custMoreDetails()}),s._uU(5,"Customer Details"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.Oqu(t.accountNumber)}}function O(t,e){if(1&t&&(s.TgZ(0,"div",27),s.TgZ(1,"div",4),s.TgZ(2,"table",28),s.TgZ(3,"thead"),s.TgZ(4,"tr"),s.TgZ(5,"th"),s._uU(6,"Account Number"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"tbody"),s.YNc(8,x,6,1,"tr",29),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(2),s.Q6J("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),s.xp6(6),s.Q6J("ngForOf",t.result)}}const I=function(){return["/customer-search/accountBlocking"]};function M(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.TgZ(15,"td"),s._uU(16),s.qZA(),s.TgZ(17,"td"),s._uU(18),s.qZA(),s.TgZ(19,"td"),s._uU(20),s.qZA(),s.TgZ(21,"td"),s._uU(22),s.qZA(),s.TgZ(23,"td"),s._uU(24),s.qZA(),s.TgZ(25,"td"),s._uU(26),s.qZA(),s.TgZ(27,"td"),s._uU(28),s.qZA(),s.TgZ(29,"td"),s.TgZ(30,"button",33),s.NdJ("click",function(){const e=s.CHM(t).$implicit,o=s.oxw(2),r=s.MAs(65);return o.openDialog(r,e)}),s._uU(31,"Transactions"),s.qZA(),s.qZA(),s.TgZ(32,"td"),s.TgZ(33,"button",34),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).accountBlock(e)}),s._uU(34,"Freeze"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.hij(" ",t.pnationalid," "),s.xp6(2),s.hij(" ",t.barnchcode," "),s.xp6(2),s.hij(" ",t.custacno," "),s.xp6(2),s.hij(" ",t.ccy," "),s.xp6(2),s.hij(" ",t.custno," "),s.xp6(2),s.hij(" ",t.firstname," "),s.xp6(2),s.hij(" ",t.lastname," "),s.xp6(2),s.Oqu(t.mobileNo),s.xp6(2),s.hij(" ",t.email," "),s.xp6(2),s.hij(" ",t.addr1," "),s.xp6(2),s.hij(" ",t.frozen," "),s.xp6(2),s.hij(" ",t.noCredit," "),s.xp6(2),s.hij(" ",t.noDebit," "),s.xp6(2),s.hij(" ",t.dormant," "),s.xp6(5),s.Q6J("routerLink",s.DdM(15,I))}}function F(t,e){if(1&t&&(s.TgZ(0,"div",31),s.TgZ(1,"div"),s.TgZ(2,"table",32),s.TgZ(3,"thead"),s.TgZ(4,"tr"),s.TgZ(5,"th"),s._uU(6,"National Id"),s.qZA(),s.TgZ(7,"th"),s._uU(8,"Branch Code"),s.qZA(),s.TgZ(9,"th"),s._uU(10,"Cust Ac No "),s.qZA(),s.TgZ(11,"th"),s._uU(12,"Currency"),s.qZA(),s.TgZ(13,"th"),s._uU(14,"Cust Number "),s.qZA(),s.TgZ(15,"th"),s._uU(16,"First Name "),s.qZA(),s.TgZ(17,"th"),s._uU(18,"Last Name "),s.qZA(),s.TgZ(19,"th"),s._uU(20,"mobileNo"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"Email "),s.qZA(),s.TgZ(23,"th"),s._uU(24,"Address1 "),s.qZA(),s.TgZ(25,"th"),s._uU(26,"Frozen Status "),s.qZA(),s.TgZ(27,"th"),s._uU(28,"No Credit"),s.qZA(),s.TgZ(29,"th"),s._uU(30,"No Debit "),s.qZA(),s.TgZ(31,"th"),s._uU(32,"Dormant "),s.qZA(),s.TgZ(33,"th"),s._uU(34,"Transaction Details"),s.qZA(),s.TgZ(35,"th"),s._uU(36,"Action"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(37,"tbody"),s.YNc(38,M,35,16,"tr",29),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(38),s.Q6J("ngForOf",t.custMoreDetailsdata)}}function w(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.hij(" ",t.refNo," "),s.xp6(2),s.hij(" ",t.accBranch," "),s.xp6(2),s.hij(" ",t.accNo," "),s.xp6(2),s.hij(" ",t.drBrIndicator," "),s.xp6(2),s.hij(" ",t.fCurrAmt," "),s.xp6(2),s.hij(" ",t.ICurrAmt," "),s.xp6(2),s.hij(" ",t.transDate," ")}}function S(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",35),s.NdJ("click",function(){return s.CHM(t).$implicit.dismiss("Cross click")}),s.TgZ(1,"span",36),s._uU(2,"\xd7"),s.qZA(),s.qZA(),s.TgZ(3,"h2",37),s._uU(4,"Transaction Details"),s.qZA(),s.TgZ(5,"div",38),s.TgZ(6,"div",4),s.TgZ(7,"table",39),s.TgZ(8,"thead"),s.TgZ(9,"tr"),s.TgZ(10,"th"),s._uU(11,"Reference Number"),s.qZA(),s.TgZ(12,"th"),s._uU(13,"Account Branch"),s.qZA(),s.TgZ(14,"th"),s._uU(15,"Account number"),s.qZA(),s.TgZ(16,"th"),s._uU(17,"DR/CR Indicator"),s.qZA(),s.TgZ(18,"th"),s._uU(19," FCY Amount"),s.qZA(),s.TgZ(20,"th"),s._uU(21,"LCY Amount"),s.qZA(),s.TgZ(22,"th"),s._uU(23,"Trn Date"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"tbody"),s.YNc(25,w,15,7,"tr",29),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(7),s.Q6J("dtOptions",t.dtOptions),s.xp6(18),s.Q6J("ngForOf",t.trndata)}}const D=function(){return["/dashboard"]},J=[{path:"",component:(()=>{class t{constructor(t,e,o,r,n){this.api=t,this.formBuilder=e,this.modalService=o,this.canDeactivateGuard=r,this.cdr=n,this.result=[],this.trndata=[],this.custMoreDetailsdata=[],this.dtOptions={},this.dtOptions1={},this.dtTrigger=new A.xQ,this.dtTrigger1=new A.xQ,this.formTouched=!0,this.showDialog=!1,this.subject=new A.xQ}ngOnInit(){this.accountForm=this.formBuilder.group({firstName:[""],customerNumber:[""],accountNumber:["",[i.kI.minLength(3),i.kI.maxLength(6),i.kI.pattern("((?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$|[0-9]*)")]],mobileNo:["",[i.kI.min(1e9),i.kI.max(9999999999)]],lastName:[""],customerName:[""],branchCode:[""],nationalId:[""]}),this.dtOptions={pagingType:"full_numbers",pageLength:5,processing:!0,lengthMenu:[[5,10,20,30,-1],[5,10,20,30,"ALL"]],retrieve:!0},this.dtOptions1={pagingType:"full_numbers",pageLength:5,processing:!0,lengthMenu:[[5,10,20,30,-1],[5,10,20,30,"ALL"]],retrieve:!0},this.api.getAccountBlocking().subscribe(t=>{"clickedOnExitFromAccountBlocking"===t.exit&&(this.api.getCustomerSearchValues().subscribe(t=>{console.log(t),this.buildForm(t)}),this.result=[{accountNumber:"5678910",id:"4556675",branchCode:"360000",dateOfBirth:"123456789",mobileNumber:"9656849771",emailAddress:"preethi2220@gmail.com",customerAddress:"kerala wayanad",accountCurrency:"AES",blockStatus:"blocked"},{accountNumber:"5689104",id:"9956675",branchCode:"3876860000",dateOfBirth:"123456789",mobileNumber:"9656849771",emailAddress:"p2220@gmail.com",customerAddress:"banglore Karnataka",accountCurrency:"AES",blockStatus:"blocked"}],this.custMoreDetailsdata=[{pnationalid:"5678910",barnchcode:"4556675",custacno:"360000",ccy:"dollar",custno:"9656849",firstname:"preethi",lastname:"PM",dateofbirth:"25-04-1995",email:"preethi2220@gmail.com",mobileNo:"9656849771",addr1:"kerala wayanad",frozen:"Yes",noCredit:"220",noDebit:"110",dormant:"201"},{pnationalid:"0098910",barnchcode:"6666675",custacno:"36650890",ccy:"rupees",custno:"5684954",firstname:"venki",lastname:"PM",dateofbirth:"22-07-1995",email:"abc2220@gmail.com",mobileNo:"9606849771",addr1:"kranataka wayanad",frozen:"No",noCredit:"1220",noDebit:"4110",dormant:"620"}],this.trndata=[{refNo:"5678910",accBranch:"Edavannapara",accNo:"360000",drBrIndicator:"y",fCurrAmt:"9656849",ICurrAmt:"8999",transDate:"7437777"},{refNo:"998910",accBranch:"Vazhakkad",accNo:"3656470",drBrIndicator:"n",fCurrAmt:"67567",ICurrAmt:"899966",transDate:"544546"}],this.showtable=!0,this.showtable1=!0,this.showtable2=!0),setTimeout(()=>{window.scrollTo(0,document.body.scrollHeight)})})}onFetch(){this.api.setCustomerSearchValues({firstName:this.accountForm.value.firstName,customerNumber:this.accountForm.value.customerNumber,accountNumber:this.accountForm.value.accountNumber,mobileNo:this.accountForm.value.mobileNo,lastName:this.accountForm.value.lastName,customerName:this.accountForm.value.customerName,branchCode:this.accountForm.value.branchCode,nationalId:this.accountForm.value.nationalId,email:this.accountForm.value.email}),this.dataSource=null,this.dataSource1=null,this.dataSource2=null,this.showtable1=!1,this.showtable2=!1,this.showSpinn=!0,this.result=[{accountNumber:"5678910",id:"4556675",branchCode:"360000",dateOfBirth:"123456789",mobileNumber:"9656849771",emailAddress:"preethi2220@gmail.com",customerAddress:"kerala wayanad",accountCurrency:"AES",blockStatus:"blocked"},{accountNumber:"5689104",id:"9956675",branchCode:"3876860000",dateOfBirth:"123456789",mobileNumber:"9656849771",emailAddress:"p2220@gmail.com",customerAddress:"banglore Karnataka",accountCurrency:"AES",blockStatus:"blocked"}],this.showSpinn=!1,this.showtable=!0,this.fetch=!0,setTimeout(()=>{window.scrollTo(0,document.body.scrollHeight)})}custMoreDetails(){this.custMoreDetailsdata=[{pnationalid:"5678910",barnchcode:"4556675",custacno:"360000",ccy:"dollar",custno:"9656849",firstname:"preethi",lastname:"PM",dateofbirth:"25-04-1995",email:"preethi2220@gmail.com",mobileNo:"9656849771",addr1:"kerala wayanad",frozen:"Yes",noCredit:"220",noDebit:"110",dormant:"201"},{pnationalid:"0098910",barnchcode:"6666675",custacno:"36650890",ccy:"rupees",custno:"5684954",firstname:"venki",lastname:"PM",dateofbirth:"22-07-1995",email:"abc2220@gmail.com",mobileNo:"9606849771",addr1:"kranataka wayanad",frozen:"No",noCredit:"1220",noDebit:"4110",dormant:"620"}],this.dtTrigger.next(),this.showSpinn=!0,this.showSpinn=!1,this.showtable1=!0,setTimeout(()=>{window.scrollTo(0,document.body.scrollHeight)})}transactiondetails(t){this.showSpinn=!0,this.trndata=[{refNo:"5678910",accBranch:"Edavannapara",accNo:"360000",drBrIndicator:"y",fCurrAmt:"9656849",ICurrAmt:"8999",transDate:"7437777"},{refNo:"998910",accBranch:"Vazhakkad",accNo:"3656470",drBrIndicator:"n",fCurrAmt:"67567",ICurrAmt:"899966",transDate:"544546"}],this.showSpinn=!1,this.showtable2=!0,setTimeout(()=>{window.scrollTo(0,document.body.scrollHeight)})}openDialog(t,e){this.trndata=[{refNo:"578910",accBranch:"Edavannapara",accNo:"360000",drBrIndicator:"y",fCurrAmt:"9656849",ICurrAmt:"8999",transDate:"7437777"},{refNo:"568891",accBranch:"Vazhakkad",accNo:"360007",drBrIndicator:"y",fCurrAmt:"9659899",ICurrAmt:"822",transDate:"746777"}],this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"xl"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{})}numericOnly(t){return!isNaN(Number(t.key))&&" "!==t.key}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode),o=t.which?t.which:t.keyCode;return!!(/[a-zA-Z0-9]/.test(e)||o<48||o>57)||(t.preventDefault(),!1)}accountBlock(t){console.log(t),this.api.setCustomerSearch({firstName:t.firstname,customerNumber:t.custno,accountNumber:t.custacno,mobileNo:t.mobileNo,lastName:t.lastname,customerName:t.firstname+" "+t.lastname,branchCode:t.barnchcode,nationalId:t.pnationalid,email:t.email})}buildForm(t){this.accountForm=this.formBuilder.group({firstName:[t?t.firstName:""],customerNumber:[t?t.customerNumber:""],accountNumber:[t?t.accountNumber:"",[i.kI.minLength(3),i.kI.maxLength(6),i.kI.pattern("((?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$|[0-9]*)")]],mobileNo:[t?t.mobileNo:"",[i.kI.min(1e9),i.kI.max(9999999999)]],lastName:[t?t.lastName:""],customerName:[t?t.customerName:""],branchCode:[t?t.branchCode:""],nationalId:[t?t.nationalId:""]})}canExit(){let t=!1;return this.accountForm.touched&&1==this.formTouched?u().fire({text:"There are unsaved changes in the screen. Would you like to navigate to other screen?",showCancelButton:!0,confirmButtonColor:"#E6224A",cancelButtonColor:"#011945",cancelButtonText:"NO",confirmButtonText:"YES",icon:"info"}).then(e=>!0===e.isConfirmed?(t=!0,this.cdr.markForCheck(),t):(t=!1,this.cdr.markForCheck(),t)):(t=!0,new Promise((e,o)=>{!0===t&&(t=!0,this.cdr.markForCheck(),e(!0))}))}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(m.sM),s.Y36(i.qu),s.Y36(N.FF),s.Y36(a.I),s.Y36(s.sBO))},t.\u0275cmp=s.Xpm({type:t,selectors:[["npr-customer-search"]],decls:66,vars:14,consts:[[1,"pageContentMain"],[1,"pageTitleCol"],[1,"pageTitle"],["action","",1,"formStyle",3,"formGroup"],[1,"dbCardStyle"],[1,"row","gy-4"],[2,"display","flex","gap","20px"],["id","width",1,"col-lg-4"],["for","",1,"formLbl"],[1,"colorRed"],["id","fname","formControlName","customerName","type","text","placeholder","First Name","value","",1,"form-control"],["id","lname","type","text","formControlName","lastName","placeholder","Last Name","value","",1,"form-control"],["id","cNumber","type","text","formControlName","customerNumber","placeholder","Customer Number","value","",1,"form-control"],["id","MobNumber","maxLength","10","formControlName","mobileNo","placeholder","Mobile Number",1,"form-control",3,"keypress"],["class","invalid-feedback",4,"ngIf"],["id","nationalID","formControlName","nationalId","type","text","placeholder","National ID","value","",1,"form-control"],["id","accNumber","formControlName","accountNumber","name","accountNumber","placeholder","Account Number","maxlength","6",1,"form-control",3,"keypress"],["id","branchCode","formControlName","branchCode","type","text","placeholder","Branch Code","value","",1,"form-control"],[1,"col-lg-12"],[1,"row","g-3","pb-3","justify-content-end","pt-3"],[1,"col-auto"],["href","javascript:void(0)",1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"disabled","click"],["href","javascript:void(0)","routerLinkActive","router-link-active",1,"btn","smBtn","minWdSmBtn","btnSecondary",3,"routerLink"],["class","pageContentMain mt-4 mb-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],["content",""],[1,"invalid-feedback"],[1,"pageContentMain","mt-4","mb-4"],["datatable","",1,"dataTable","table","tableStyle","responsive","nowrap",2,"width","100%",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"click"],[1,"table-responsive"],["id","dbTable1",1,"table","tableStyle","tableStyleSelect","nowrap","vAlignMdl"],[1,"btn","smBtn","minWdSmBtn","btnInfo",3,"click"],[1,"btn","smBtn","minWdSmBtn","btnPrimary",3,"routerLink","click"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true",1,"close"],["id","marginTitle",1,"pageTitle"],[1,"pageContentMain","mb-4"],["datatable","",1,"dataTable","table","tableStyle","responsive","nowrap",2,"width","100%",3,"dtOptions"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h2",2),s._uU(3,"Search the Customer"),s.qZA(),s.qZA(),s.TgZ(4,"form",3),s.TgZ(5,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"div",6),s.TgZ(8,"div",7),s.TgZ(9,"label",8),s._uU(10,"First Name"),s._UZ(11,"span",9),s.qZA(),s._UZ(12,"input",10),s.qZA(),s.TgZ(13,"div",7),s.TgZ(14,"label",8),s._uU(15,"Last Name"),s._UZ(16,"span",9),s.qZA(),s._UZ(17,"input",11),s.qZA(),s.TgZ(18,"div",7),s.TgZ(19,"label",8),s._uU(20,"Customer Number"),s._UZ(21,"span",9),s.qZA(),s._UZ(22,"input",12),s.qZA(),s.qZA(),s.TgZ(23,"div",6),s.TgZ(24,"div",7),s.TgZ(25,"label",8),s._uU(26,"Mobile Number"),s._UZ(27,"span",9),s.qZA(),s.TgZ(28,"input",13),s.NdJ("keypress",function(t){return e.numericOnly(t)}),s.qZA(),s.YNc(29,v,2,0,"div",14),s.YNc(30,q,2,0,"div",14),s.qZA(),s.TgZ(31,"div",7),s.TgZ(32,"label",8),s._uU(33,"National ID"),s._UZ(34,"span",9),s.qZA(),s._UZ(35,"input",15),s.qZA(),s.qZA(),s.TgZ(36,"div",6),s.TgZ(37,"div",7),s.TgZ(38,"label",8),s._uU(39,"Account Number"),s._UZ(40,"span",9),s.qZA(),s.TgZ(41,"input",16),s.NdJ("keypress",function(t){return e.keyPressAlphanumeric(t)}),s.qZA(),s.YNc(42,k,2,0,"div",14),s.YNc(43,C,2,0,"div",14),s.YNc(44,y,2,0,"div",14),s.qZA(),s.TgZ(45,"div",7),s.TgZ(46,"label",8),s._uU(47,"Branch Code"),s._UZ(48,"span",9),s.qZA(),s._UZ(49,"input",17),s.YNc(50,_,2,0,"div",14),s.YNc(51,U,2,0,"div",14),s.YNc(52,B,2,0,"div",14),s.qZA(),s.qZA(),s.TgZ(53,"div",18),s.TgZ(54,"div",19),s.TgZ(55,"div",20),s.TgZ(56,"button",21),s.NdJ("click",function(){return e.onFetch()}),s._uU(57,"Get Customer"),s.qZA(),s.qZA(),s.TgZ(58,"div",20),s.TgZ(59,"a",22),s._uU(60,"Exit"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(61,O,9,3,"div",23),s.TgZ(62,"div",4),s.YNc(63,F,39,1,"div",24),s.qZA(),s.YNc(64,S,26,2,"ng-template",null,25,s.W1O)),2&t&&(s.xp6(4),s.Q6J("formGroup",e.accountForm),s.xp6(25),s.Q6J("ngIf",e.accountForm.controls.mobileNo.hasError("min")&&e.accountForm.controls.mobileNo.touched),s.xp6(1),s.Q6J("ngIf",e.accountForm.controls.mobileNo.hasError("pattern")),s.xp6(12),s.Q6J("ngIf",e.accountForm.get("accountNumber").hasError("pattern")),s.xp6(1),s.Q6J("ngIf",e.accountForm.get("accountNumber").hasError("minlength")),s.xp6(1),s.Q6J("ngIf",e.accountForm.get("accountNumber").hasError("maxlength")),s.xp6(6),s.Q6J("ngIf",e.accountForm.controls.branchCode.hasError("minlength")),s.xp6(1),s.Q6J("ngIf",e.accountForm.controls.branchCode.hasError("maxlength")),s.xp6(1),s.Q6J("ngIf",e.accountForm.controls.branchCode.hasError("pattern")),s.xp6(4),s.Q6J("disabled",!e.accountForm.dirty),s.xp6(3),s.Q6J("routerLink",s.DdM(13,D)),s.xp6(2),s.Q6J("ngIf",e.showtable),s.xp6(2),s.Q6J("ngIf",e.showtable1))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,r.O5,i.nD,n.yS,n.Od,T.G,r.sg,n.rH],styles:["#width[_ngcontent-%COMP%]{width:30%}"]}),t})(),canDeactivate:[a.I]},{path:"accountBlocking",component:p}];let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.Bz.forChild(J)],n.Bz]}),t})(),Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.ez,E,T.T,i.UX]]}),t})()}}]);