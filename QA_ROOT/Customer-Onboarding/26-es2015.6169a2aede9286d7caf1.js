(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{obtS:function(t,e,a){"use strict";a.r(e),a.d(e,"LoanAccountModule",function(){return Nu});var n=a("SVse"),i=a("8Y7J"),o=a("iInd"),r=a("VDRc"),c=a("PDjf"),s=a("Q2Ze"),l=a("Dxy4");let b=(()=>{class t{constructor(t){this.router=t,this.previousUrl="",this.userRecommendation={userRecommendation:"Recomended For Approval"},this.details={requestedLoanAmount:"$200,000",loanTenure:"5 years",rateOfIntrested:"5%",loanAmountRecomended:"$500,000",approvedLoanAmount:"$200,000",findLoanTenure:"5 years",finalRate:"5%",applicantName:"ABC",applicantType:"Home Loan",accountBranch:"000",productCode:"HMN 03",productName:"New Home Loan",rateOfIntrest:"5.9",loanAmount:"$500,000",installmentType:"EMI",stage:"HML/Stage1",installmentAmount:"$100,000",installmentFreq:"Monthly",assessmentApprovedMethod:"Internal Score Card",userAction:"Action",date:"12/2/2021",charge:"$200,000",principle:"$100,000",intrest:"$100,000"}}ngOnInit(){}goBack(){this.router.navigate([""+this.previousUrl])}accountApprovalStageSummary(){this.router.navigate(["/loan/account-approval/list"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-account-approval-details-summary"]],decls:330,vars:45,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_secure_files_re_6vdh.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"full-width"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row wrap"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[1,"chequecard"],["fxFlex","30%","fxFlex.xs","100%"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16x",1,"mt-32"],["mat-button","","rounded","","color","grey",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"div",0),i.Xb(2,"div",1),i.Xb(3,"div",2),i.Sb(4,"img",3),i.Wb(),i.Xb(5,"div",4),i.Xb(6,"div",5),i.Xb(7,"b"),i.Tc(8,"Account Approval Summary Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div",6),i.Xb(10,"div",0),i.Xb(11,"h4",7),i.Tc(12,"Assessment Details"),i.Wb(),i.Wb(),i.Xb(13,"div",8),i.Xb(14,"div",9),i.Xb(15,"div",10),i.Xb(16,"div",6),i.Xb(17,"div",11),i.Xb(18,"div",12),i.Vb(19),i.Xb(20,"div",13),i.Xb(21,"mat-card",14),i.Xb(22,"div",15),i.Xb(23,"div",12),i.Vb(24),i.Xb(25,"div",16),i.Xb(26,"mat-hint",17),i.Tc(27,"Requested Loan Amount "),i.Wb(),i.Sb(28,"br"),i.Xb(29,"mat-hint",18),i.Tc(30),i.Wb(),i.Wb(),i.Xb(31,"div",16),i.Xb(32,"mat-hint",17),i.Tc(33,"Loan Tenure"),i.Wb(),i.Sb(34,"br"),i.Xb(35,"mat-hint",18),i.Tc(36),i.Wb(),i.Wb(),i.Xb(37,"div",16),i.Xb(38,"mat-hint",17),i.Tc(39,"Rate Of Interest "),i.Wb(),i.Sb(40,"br"),i.Xb(41,"mat-hint",18),i.Tc(42),i.Wb(),i.Wb(),i.Xb(43,"div",16),i.Xb(44,"mat-hint",17),i.Tc(45,"System Recommendation "),i.Wb(),i.Sb(46,"br"),i.Xb(47,"mat-hint",18),i.Tc(48),i.Wb(),i.Wb(),i.Xb(49,"div",16),i.Xb(50,"mat-hint",17),i.Tc(51,"User Recommendation "),i.Wb(),i.Sb(52,"br"),i.Xb(53,"mat-hint",18),i.Tc(54),i.Wb(),i.Wb(),i.Xb(55,"div",16),i.Xb(56,"mat-hint",17),i.Tc(57,"Loan Amount Recommended "),i.Wb(),i.Sb(58,"br"),i.Xb(59,"mat-hint",18),i.Tc(60),i.Wb(),i.Wb(),i.Xb(61,"div",16),i.Xb(62,"mat-hint",17),i.Tc(63,"Approved Loan Amount "),i.Wb(),i.Sb(64,"br"),i.Xb(65,"mat-hint",18),i.Tc(66),i.Wb(),i.Wb(),i.Xb(67,"div",16),i.Xb(68,"mat-hint",17),i.Tc(69,"Final Loan tenure "),i.Wb(),i.Sb(70,"br"),i.Xb(71,"mat-hint",18),i.Tc(72),i.Wb(),i.Wb(),i.Xb(73,"div",16),i.Xb(74,"mat-hint",17),i.Tc(75,"Final Rate"),i.Wb(),i.Sb(76,"br"),i.Xb(77,"mat-hint",18),i.Tc(78),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(79,"br"),i.Xb(80,"div",8),i.Xb(81,"div",0),i.Xb(82,"h4",7),i.Tc(83,"Offer Accept / Reject Details"),i.Wb(),i.Wb(),i.Xb(84,"div",9),i.Xb(85,"div",10),i.Xb(86,"mat-card",19),i.Xb(87,"mat-card-content"),i.Xb(88,"div",6),i.Xb(89,"div",11),i.Xb(90,"div",12),i.Vb(91),i.Xb(92,"div",20),i.Xb(93,"mat-hint",17),i.Tc(94,"Applicant Name"),i.Wb(),i.Sb(95,"br"),i.Xb(96,"mat-hint",18),i.Tc(97),i.Wb(),i.Wb(),i.Xb(98,"div",20),i.Xb(99,"mat-hint",17),i.Tc(100,"Approved Loan Amount"),i.Wb(),i.Sb(101,"br"),i.Xb(102,"mat-hint",18),i.Tc(103),i.Wb(),i.Wb(),i.Xb(104,"div",20),i.Xb(105,"mat-hint",17),i.Tc(106,"Loan Tenure"),i.Wb(),i.Sb(107,"br"),i.Xb(108,"mat-hint",18),i.Tc(109),i.Wb(),i.Wb(),i.Xb(110,"div",20),i.Xb(111,"mat-hint",17),i.Tc(112,"Installment Type"),i.Wb(),i.Sb(113,"br"),i.Xb(114,"mat-hint",18),i.Tc(115),i.Wb(),i.Wb(),i.Xb(116,"div",20),i.Xb(117,"mat-hint",17),i.Tc(118,"Installment Frequency"),i.Wb(),i.Sb(119,"br"),i.Xb(120,"mat-hint",18),i.Tc(121),i.Wb(),i.Wb(),i.Xb(122,"div",20),i.Xb(123,"mat-hint",17),i.Tc(124,"Rate Of Interest(in %)"),i.Wb(),i.Sb(125,"br"),i.Xb(126,"mat-hint",18),i.Tc(127),i.Wb(),i.Wb(),i.Xb(128,"div",20),i.Xb(129,"mat-hint",17),i.Tc(130,"Principal"),i.Wb(),i.Sb(131,"br"),i.Xb(132,"mat-hint",18),i.Tc(133),i.Wb(),i.Wb(),i.Xb(134,"div",20),i.Xb(135,"mat-hint",17),i.Tc(136,"Interest"),i.Wb(),i.Sb(137,"br"),i.Xb(138,"mat-hint",18),i.Tc(139),i.Wb(),i.Wb(),i.Xb(140,"div",20),i.Xb(141,"mat-hint",17),i.Tc(142,"Installment Amount"),i.Wb(),i.Sb(143,"br"),i.Xb(144,"mat-hint",18),i.Tc(145),i.Wb(),i.Wb(),i.Xb(146,"div",20),i.Xb(147,"mat-hint",17),i.Tc(148,"Charges"),i.Wb(),i.Sb(149,"br"),i.Xb(150,"mat-hint",18),i.Tc(151),i.Wb(),i.Wb(),i.Xb(152,"div",20),i.Xb(153,"mat-hint",17),i.Tc(154,"Offer Issue Date"),i.Wb(),i.Sb(155,"br"),i.Xb(156,"mat-hint",18),i.Tc(157),i.Wb(),i.Wb(),i.Xb(158,"div",20),i.Xb(159,"mat-hint",17),i.Tc(160,"Generate Date"),i.Wb(),i.Sb(161,"br"),i.Xb(162,"mat-hint",18),i.Tc(163),i.Wb(),i.Wb(),i.Xb(164,"div",20),i.Xb(165,"mat-hint",17),i.Tc(166,"Customer Response"),i.Wb(),i.Sb(167,"br"),i.Xb(168,"mat-hint",18),i.Tc(169),i.Wb(),i.Wb(),i.Xb(170,"div",20),i.Xb(171,"mat-hint",17),i.Tc(172,"Date Of Offer Accept/Reject"),i.Wb(),i.Sb(173,"br"),i.Xb(174,"mat-hint",18),i.Tc(175),i.Wb(),i.Wb(),i.Xb(176,"div",20),i.Xb(177,"mat-hint",17),i.Tc(178,"Offer Expiry Date"),i.Wb(),i.Sb(179,"br"),i.Xb(180,"mat-hint",18),i.Tc(181),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(182,"br"),i.Xb(183,"div",8),i.Xb(184,"div",8),i.Xb(185,"div",0),i.Xb(186,"h4",7),i.Tc(187,"Loan Summary Details "),i.Wb(),i.Wb(),i.Wb(),i.Xb(188,"div",9),i.Xb(189,"div",10),i.Xb(190,"mat-card",19),i.Xb(191,"mat-card-content"),i.Xb(192,"div",6),i.Xb(193,"div",11),i.Xb(194,"div",12),i.Vb(195),i.Xb(196,"div",20),i.Xb(197,"mat-hint",17),i.Tc(198,"Applicant Name"),i.Wb(),i.Sb(199,"br"),i.Xb(200,"mat-hint",18),i.Tc(201),i.Wb(),i.Wb(),i.Xb(202,"div",20),i.Xb(203,"mat-hint",17),i.Tc(204,"Account Type"),i.Wb(),i.Sb(205,"br"),i.Xb(206,"mat-hint",18),i.Tc(207),i.Wb(),i.Wb(),i.Xb(208,"div",20),i.Xb(209,"mat-hint",17),i.Tc(210,"Account Branch"),i.Wb(),i.Sb(211,"br"),i.Xb(212,"mat-hint",18),i.Tc(213),i.Wb(),i.Wb(),i.Xb(214,"div",20),i.Xb(215,"mat-hint",17),i.Tc(216,"Product Code"),i.Wb(),i.Sb(217,"br"),i.Xb(218,"mat-hint",18),i.Tc(219),i.Wb(),i.Wb(),i.Xb(220,"div",20),i.Xb(221,"mat-hint",17),i.Tc(222,"Product Name"),i.Wb(),i.Sb(223,"br"),i.Xb(224,"mat-hint",18),i.Tc(225),i.Wb(),i.Wb(),i.Xb(226,"div",20),i.Xb(227,"mat-hint",17),i.Tc(228,"Host Product Code"),i.Wb(),i.Sb(229,"br"),i.Xb(230,"mat-hint",18),i.Tc(231),i.Wb(),i.Wb(),i.Xb(232,"div",20),i.Xb(233,"mat-hint",17),i.Tc(234,"Host Product Description"),i.Wb(),i.Sb(235,"br"),i.Xb(236,"mat-hint",18),i.Tc(237),i.Wb(),i.Wb(),i.Xb(238,"div",20),i.Xb(239,"mat-hint",17),i.Tc(240,"Loan Amount"),i.Wb(),i.Sb(241,"br"),i.Xb(242,"mat-hint",18),i.Tc(243),i.Wb(),i.Wb(),i.Xb(244,"div",20),i.Xb(245,"mat-hint",17),i.Tc(246,"Loan Tenure"),i.Wb(),i.Sb(247,"br"),i.Xb(248,"mat-hint",18),i.Tc(249),i.Wb(),i.Wb(),i.Xb(250,"div",20),i.Xb(251,"mat-hint",17),i.Tc(252,"Interest Rate(in %)"),i.Wb(),i.Sb(253,"br"),i.Xb(254,"mat-hint",18),i.Tc(255),i.Wb(),i.Wb(),i.Xb(256,"div",20),i.Xb(257,"mat-hint",17),i.Tc(258,"Repayment Method"),i.Wb(),i.Sb(259,"br"),i.Xb(260,"mat-hint",18),i.Tc(261),i.Wb(),i.Wb(),i.Xb(262,"div",20),i.Xb(263,"mat-hint",17),i.Tc(264,"Repayment Frequency"),i.Wb(),i.Sb(265,"br"),i.Xb(266,"mat-hint",18),i.Tc(267),i.Wb(),i.Wb(),i.Xb(268,"div",20),i.Xb(269,"mat-hint",17),i.Tc(270,"Application Date"),i.Wb(),i.Sb(271,"br"),i.Xb(272,"mat-hint",18),i.Tc(273),i.Wb(),i.Wb(),i.Xb(274,"div",20),i.Xb(275,"mat-hint",17),i.Tc(276,"Assessment Approval Method"),i.Wb(),i.Sb(277,"br"),i.Xb(278,"mat-hint",18),i.Tc(279),i.Wb(),i.Wb(),i.Xb(280,"div",20),i.Xb(281,"mat-hint",17),i.Tc(282,"Offer Approved Date"),i.Wb(),i.Sb(283,"br"),i.Xb(284,"mat-hint",18),i.Tc(285),i.Wb(),i.Wb(),i.Xb(286,"div",20),i.Xb(287,"mat-hint",17),i.Tc(288,"Approver ID"),i.Wb(),i.Sb(289,"br"),i.Xb(290,"mat-hint",18),i.Tc(291),i.Wb(),i.Wb(),i.Xb(292,"div",20),i.Xb(293,"mat-hint",17),i.Tc(294,"Stage"),i.Wb(),i.Sb(295,"br"),i.Xb(296,"mat-hint",18),i.Tc(297),i.Wb(),i.Wb(),i.Xb(298,"div",20),i.Xb(299,"mat-hint",17),i.Tc(300,"Date"),i.Wb(),i.Sb(301,"br"),i.Xb(302,"mat-hint",18),i.Tc(303),i.Wb(),i.Wb(),i.Xb(304,"div",20),i.Xb(305,"mat-hint",17),i.Tc(306,"Offer Issue Date"),i.Wb(),i.Sb(307,"br"),i.Xb(308,"mat-hint",18),i.Tc(309),i.Wb(),i.Wb(),i.Xb(310,"div",20),i.Xb(311,"mat-hint",17),i.Tc(312,"User Recommendation"),i.Wb(),i.Sb(313,"br"),i.Xb(314,"mat-hint",18),i.Tc(315),i.Wb(),i.Wb(),i.Xb(316,"div",20),i.Xb(317,"mat-hint",17),i.Tc(318,"User Action"),i.Wb(),i.Sb(319,"br"),i.Xb(320,"mat-hint",18),i.Tc(321),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(322,"br"),i.Xb(323,"div",0),i.Xb(324,"div",1),i.Xb(325,"div",21),i.Xb(326,"button",22),i.fc("click",function(){return e.goBack()}),i.Tc(327," Back "),i.Wb(),i.Xb(328,"button",23),i.fc("click",function(){return e.accountApprovalStageSummary()}),i.Tc(329," Done "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(30),i.Uc(e.details.requestedLoanAmount),i.Eb(6),i.Vc("",e.details.loanTenure," "),i.Eb(6),i.Vc("",e.details.rateOfIntrested," "),i.Eb(6),i.Vc("",e.userRecommendation.userRecommendation," "),i.Eb(6),i.Vc("",e.userRecommendation.userRecommendation," "),i.Eb(6),i.Vc("",e.details.loanAmountRecomended," "),i.Eb(6),i.Vc("",e.details.approvedLoanAmount," "),i.Eb(6),i.Vc("",e.details.findLoanTenure," "),i.Eb(6),i.Vc("",e.details.finalRate," "),i.Eb(19),i.Uc(e.details.applicantName),i.Eb(6),i.Uc(e.details.approvedLoanAmount),i.Eb(6),i.Uc(e.details.loanTenure),i.Eb(6),i.Uc(e.details.installmentType),i.Eb(6),i.Uc(e.details.installmentFreq),i.Eb(6),i.Uc(e.details.rateOfIntrested),i.Eb(6),i.Uc(e.details.principle),i.Eb(6),i.Uc(e.details.intrest),i.Eb(6),i.Uc(e.details.installmentAmount),i.Eb(6),i.Uc(e.details.charge),i.Eb(6),i.Uc(e.details.date),i.Eb(6),i.Uc(e.details.date),i.Eb(6),i.Uc(e.userRecommendation.userRecommendation),i.Eb(6),i.Uc(e.details.date),i.Eb(6),i.Uc(e.details.date),i.Eb(20),i.Uc(e.details.applicantName),i.Eb(6),i.Uc(e.details.applicantType),i.Eb(6),i.Uc(e.details.accountBranch),i.Eb(6),i.Uc(e.details.productCode),i.Eb(6),i.Uc(e.details.productName),i.Eb(6),i.Uc(e.details.productCode),i.Eb(6),i.Uc(e.details.productName),i.Eb(6),i.Uc(e.details.loanAmount),i.Eb(6),i.Uc(e.details.loanTenure),i.Eb(6),i.Uc(e.details.rateOfIntrested),i.Eb(6),i.Uc(e.details.assessmentApprovedMethod),i.Eb(6),i.Uc(e.details.installmentFreq),i.Eb(6),i.Uc(e.details.date),i.Eb(6),i.Uc(e.details.assessmentApprovedMethod),i.Eb(6),i.Uc(e.details.date),i.Eb(6),i.Uc(e.details.productCode),i.Eb(6),i.Uc(e.details.stage),i.Eb(6),i.Uc(e.details.date),i.Eb(6),i.Uc(e.details.date),i.Eb(6),i.Uc(e.userRecommendation.userRecommendation),i.Eb(6),i.Uc(e.details.userAction))},directives:[r.e,r.b,r.d,r.f,c.a,s.f,c.d,l.b],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.homeicon[_ngcontent-%COMP%]{padding-left:2px;color:#00f;font-size:20px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat;font-size:16px}.paraFont[_ngcontent-%COMP%]{padding-left:2%}.accountIcon[_ngcontent-%COMP%]{font-size:45px;color:#24cca7}.incomeCard[_ngcontent-%COMP%]{width:650px}.expenseCard[_ngcontent-%COMP%], .incomeCard[_ngcontent-%COMP%]{height:300px;border-radius:5px}.expenseCard[_ngcontent-%COMP%]{padding-left:20px;width:450px}.valueTexting[_ngcontent-%COMP%]{color:#0f0f0f;font-family:Montserrat;padding-left:30px}.headingTexting[_ngcontent-%COMP%]{padding-left:30px}.headingText[_ngcontent-%COMP%], .headingTexting[_ngcontent-%COMP%]{color:#aaa;font-family:Manrope;font-size:11px}.headingText[_ngcontent-%COMP%]{padding-left:10px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),t})();var m=a("89pA"),u=a("tZUg"),d=a("kA6c"),p=a("nm5K"),f=a("iiaH"),g=a("iELJ"),h=a("zHaW"),v=a("Tj54");let W=(()=>{class t{constructor(t,e,a,n,i){this.router=t,this.apiService=e,this.dialogRef=a,this.snack=n,this.dataService=i,this.userRecommendation={userRecommendation:"Recomended For Approval"}}ngOnInit(){this.fetchAssessmentDetails()}fetchAssessmentDetails(){this.apiService.getAssessmentDetails(1234).subscribe(t=>{this.items=t,console.log(this.items)})}edit(){this.dataService.sendNavParam(this.items),this.dialogRef.close(),this.router.navigate(["loan/account-approval/assessment-details"])}close(){this.dialogRef.close(),this.router.navigate(["/loan/account-approval/list"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(p.b),i.Rb(g.g),i.Rb(h.a),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-assessment-summary"]],decls:75,vars:9,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row wrap"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[1,"editButton",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"mat-icon",2),i.fc("click",function(){return e.close()}),i.Tc(3,"close"),i.Wb(),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"h4",4),i.Tc(6,"Assessment Summary"),i.Wb(),i.Wb(),i.Xb(7,"div",5),i.Xb(8,"div",6),i.Xb(9,"div",7),i.Xb(10,"div",0),i.Xb(11,"div",8),i.Xb(12,"div",9),i.Vb(13),i.Xb(14,"div",10),i.Xb(15,"mat-card",11),i.Xb(16,"div",12),i.Xb(17,"div",9),i.Vb(18),i.Xb(19,"div",13),i.Xb(20,"mat-hint",14),i.Tc(21,"Requested Loan Amount "),i.Wb(),i.Sb(22,"br"),i.Xb(23,"mat-hint",15),i.Tc(24),i.Wb(),i.Wb(),i.Xb(25,"div",13),i.Xb(26,"mat-hint",14),i.Tc(27,"Loan Tenure "),i.Wb(),i.Sb(28,"br"),i.Xb(29,"mat-hint",15),i.Tc(30),i.Wb(),i.Wb(),i.Xb(31,"div",13),i.Xb(32,"mat-hint",14),i.Tc(33,"Rate Of Interest "),i.Wb(),i.Sb(34,"br"),i.Xb(35,"mat-hint",15),i.Tc(36),i.Wb(),i.Wb(),i.Xb(37,"div",13),i.Xb(38,"mat-hint",14),i.Tc(39,"System Recommendation "),i.Wb(),i.Sb(40,"br"),i.Xb(41,"mat-hint",15),i.Tc(42),i.Wb(),i.Wb(),i.Xb(43,"div",13),i.Xb(44,"mat-hint",14),i.Tc(45,"User Recommendation "),i.Wb(),i.Sb(46,"br"),i.Xb(47,"mat-hint",15),i.Tc(48),i.Wb(),i.Wb(),i.Xb(49,"div",13),i.Xb(50,"mat-hint",14),i.Tc(51,"Loan Amount Recommended "),i.Wb(),i.Sb(52,"br"),i.Xb(53,"mat-hint",15),i.Tc(54),i.Wb(),i.Wb(),i.Xb(55,"div",13),i.Xb(56,"mat-hint",14),i.Tc(57,"Approved Loan Amount "),i.Wb(),i.Sb(58,"br"),i.Xb(59,"mat-hint",15),i.Tc(60),i.Wb(),i.Wb(),i.Xb(61,"div",13),i.Xb(62,"mat-hint",14),i.Tc(63,"Final Loan tenure "),i.Wb(),i.Sb(64,"br"),i.Xb(65,"mat-hint",15),i.Tc(66),i.Wb(),i.Wb(),i.Xb(67,"div",13),i.Xb(68,"mat-hint",14),i.Tc(69,"Final Rate "),i.Wb(),i.Sb(70,"br"),i.Xb(71,"mat-hint",15),i.Tc(72),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Xb(73,"p",16),i.fc("click",function(){return e.edit()}),i.Tc(74,"Edit"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(24),i.Vc(" ",e.items.requestedLoanAmount," "),i.Eb(6),i.Vc(" ",e.items.loanTenure," "),i.Eb(6),i.Vc(" ",e.items.rateOfInterest," "),i.Eb(6),i.Vc(" ",e.items.systemRecommendation," "),i.Eb(6),i.Vc(" ",e.items.userRecommendation," "),i.Eb(6),i.Vc(" ",e.items.loanAmountRecommendation," "),i.Eb(6),i.Vc(" ",e.items.approvedLoanAmount," "),i.Eb(6),i.Vc(" ",e.items.finalLoanTenure," "),i.Eb(6),i.Vc(" ",e.items.finalRate," "))},directives:[r.e,v.a,r.d,r.b,r.f,c.a,s.f],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.homeicon[_ngcontent-%COMP%]{padding-left:2px;color:#00f;font-size:20px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px;font-size:16px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat}.paraFont[_ngcontent-%COMP%]{font-size:20px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),t})(),X=(()=>{class t{constructor(t,e){this.router=t,this.dialogRef=e,this.userRecommendation={userRecommendation:"Recomended For Approval"},this.loanDetails={applicantName:"ABC",applicantType:"Home Loan",accountBranch:"000",productCode:"HMN 03",productName:"New Home Loan",approvedLoanAmount:"$200,000",loanTenure:"5 years",rateOfIntrest:"5.9",loanAmount:"$500,000",installmentType:"EMI",stage:"HML/Stage1",installmentAmount:"$100,000",installmentFreq:"Monthly",assessmentApprovedMethod:"Internal Score Card",userAction:"Action",date:"12/2/2021"}}ngOnInit(){}edit(){this.dialogRef.close(),this.router.navigate(["loan/account-approval/loan-summary-details"])}close(){this.dialogRef.close(),this.router.navigate(["/loan/account-approval/list"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(g.g))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-view-summary"]],decls:147,vars:21,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row wrap"],["fxFlex","30%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[1,"editButton",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"mat-icon",2),i.fc("click",function(){return e.close()}),i.Tc(3,"close"),i.Wb(),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"h4",4),i.Tc(6,"Loan Summary"),i.Wb(),i.Wb(),i.Xb(7,"div",5),i.Xb(8,"div",6),i.Xb(9,"div",7),i.Xb(10,"div",0),i.Xb(11,"div",8),i.Xb(12,"div",9),i.Vb(13),i.Xb(14,"div",10),i.Xb(15,"mat-card",11),i.Xb(16,"div",12),i.Xb(17,"div",9),i.Vb(18),i.Xb(19,"div",13),i.Xb(20,"mat-hint",14),i.Tc(21,"Applicant Name"),i.Wb(),i.Sb(22,"br"),i.Xb(23,"mat-hint",15),i.Tc(24),i.Wb(),i.Wb(),i.Xb(25,"div",13),i.Xb(26,"mat-hint",14),i.Tc(27,"Account Type"),i.Wb(),i.Sb(28,"br"),i.Xb(29,"mat-hint",15),i.Tc(30),i.Wb(),i.Wb(),i.Xb(31,"div",13),i.Xb(32,"mat-hint",14),i.Tc(33,"Account Branch"),i.Wb(),i.Sb(34,"br"),i.Xb(35,"mat-hint",15),i.Tc(36),i.Wb(),i.Wb(),i.Xb(37,"div",13),i.Xb(38,"mat-hint",14),i.Tc(39,"Product Code"),i.Wb(),i.Sb(40,"br"),i.Xb(41,"mat-hint",15),i.Tc(42),i.Wb(),i.Wb(),i.Xb(43,"div",13),i.Xb(44,"mat-hint",14),i.Tc(45,"Product Name"),i.Wb(),i.Sb(46,"br"),i.Xb(47,"mat-hint",15),i.Tc(48),i.Wb(),i.Wb(),i.Xb(49,"div",13),i.Xb(50,"mat-hint",14),i.Tc(51,"Host Product Code"),i.Wb(),i.Sb(52,"br"),i.Xb(53,"mat-hint",15),i.Tc(54),i.Wb(),i.Wb(),i.Xb(55,"div",13),i.Xb(56,"mat-hint",14),i.Tc(57,"Host Product Description"),i.Wb(),i.Sb(58,"br"),i.Xb(59,"mat-hint",15),i.Tc(60),i.Wb(),i.Wb(),i.Xb(61,"div",13),i.Xb(62,"mat-hint",14),i.Tc(63,"Loan Amount"),i.Wb(),i.Sb(64,"br"),i.Xb(65,"mat-hint",15),i.Tc(66),i.Wb(),i.Wb(),i.Xb(67,"div",13),i.Xb(68,"mat-hint",14),i.Tc(69,"Loan Tenure"),i.Wb(),i.Sb(70,"br"),i.Xb(71,"mat-hint",15),i.Tc(72),i.Wb(),i.Wb(),i.Xb(73,"div",13),i.Xb(74,"mat-hint",14),i.Tc(75,"Interest Rate(in %)"),i.Wb(),i.Sb(76,"br"),i.Xb(77,"mat-hint",15),i.Tc(78),i.Wb(),i.Wb(),i.Xb(79,"div",13),i.Xb(80,"mat-hint",14),i.Tc(81,"Repayment Method"),i.Wb(),i.Sb(82,"br"),i.Xb(83,"mat-hint",15),i.Tc(84),i.Wb(),i.Wb(),i.Xb(85,"div",13),i.Xb(86,"mat-hint",14),i.Tc(87,"Repayment Frequency"),i.Wb(),i.Sb(88,"br"),i.Xb(89,"mat-hint",15),i.Tc(90),i.Wb(),i.Wb(),i.Xb(91,"div",13),i.Xb(92,"mat-hint",14),i.Tc(93,"Application Date"),i.Wb(),i.Sb(94,"br"),i.Xb(95,"mat-hint",15),i.Tc(96),i.Wb(),i.Wb(),i.Xb(97,"div",13),i.Xb(98,"mat-hint",14),i.Tc(99,"Assessment Approval Method"),i.Wb(),i.Sb(100,"br"),i.Xb(101,"mat-hint",15),i.Tc(102),i.Wb(),i.Wb(),i.Xb(103,"div",13),i.Xb(104,"mat-hint",14),i.Tc(105,"Offer Approved Date"),i.Wb(),i.Sb(106,"br"),i.Xb(107,"mat-hint",15),i.Tc(108),i.Wb(),i.Wb(),i.Xb(109,"div",13),i.Xb(110,"mat-hint",14),i.Tc(111,"Approver ID"),i.Wb(),i.Sb(112,"br"),i.Xb(113,"mat-hint",15),i.Tc(114),i.Wb(),i.Wb(),i.Xb(115,"div",13),i.Xb(116,"mat-hint",14),i.Tc(117,"Stage"),i.Wb(),i.Sb(118,"br"),i.Xb(119,"mat-hint",15),i.Tc(120),i.Wb(),i.Wb(),i.Xb(121,"div",13),i.Xb(122,"mat-hint",14),i.Tc(123,"Date"),i.Wb(),i.Sb(124,"br"),i.Xb(125,"mat-hint",15),i.Tc(126),i.Wb(),i.Wb(),i.Xb(127,"div",13),i.Xb(128,"mat-hint",14),i.Tc(129,"Offer Issue Date"),i.Wb(),i.Sb(130,"br"),i.Xb(131,"mat-hint",15),i.Tc(132),i.Wb(),i.Wb(),i.Xb(133,"div",13),i.Xb(134,"mat-hint",14),i.Tc(135,"User Recommendation"),i.Wb(),i.Sb(136,"br"),i.Xb(137,"mat-hint",15),i.Tc(138),i.Wb(),i.Wb(),i.Xb(139,"div",13),i.Xb(140,"mat-hint",14),i.Tc(141,"User Action"),i.Wb(),i.Sb(142,"br"),i.Xb(143,"mat-hint",15),i.Tc(144),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Xb(145,"p",16),i.fc("click",function(){return e.edit()}),i.Tc(146,"Edit"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(24),i.Uc(e.loanDetails.applicantName),i.Eb(6),i.Uc(e.loanDetails.applicantType),i.Eb(6),i.Uc(e.loanDetails.accountBranch),i.Eb(6),i.Uc(e.loanDetails.productCode),i.Eb(6),i.Uc(e.loanDetails.productName),i.Eb(6),i.Uc(e.loanDetails.productCode),i.Eb(6),i.Uc(e.loanDetails.productName),i.Eb(6),i.Uc(e.loanDetails.loanAmount),i.Eb(6),i.Uc(e.loanDetails.loanTenure),i.Eb(6),i.Uc(e.loanDetails.rateOfIntrest),i.Eb(6),i.Uc(e.loanDetails.installmentType),i.Eb(6),i.Uc(e.loanDetails.installmentFreq),i.Eb(6),i.Uc(e.loanDetails.date),i.Eb(6),i.Uc(e.loanDetails.assessmentApprovedMethod),i.Eb(6),i.Uc(e.loanDetails.date),i.Eb(6),i.Uc(e.loanDetails.productCode),i.Eb(6),i.Uc(e.loanDetails.stage),i.Eb(6),i.Uc(e.loanDetails.date),i.Eb(6),i.Uc(e.loanDetails.date),i.Eb(6),i.Uc(e.userRecommendation.userRecommendation),i.Eb(6),i.Uc(e.loanDetails.userAction))},directives:[r.e,v.a,r.d,r.b,r.f,c.a,s.f],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.homeicon[_ngcontent-%COMP%]{padding-left:2px;color:#00f;font-size:20px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px;font-size:16px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat}.paraFont[_ngcontent-%COMP%]{font-size:20px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),t})(),y=(()=>{class t{constructor(t,e,a,n){this.router=t,this.dialogRef=e,this.apiService=a,this.dataService=n,this.userRecommendation={userRecommendation:"Accept"}}ngOnInit(){this.fetchOfferAcceptRejectDetails()}fetchOfferAcceptRejectDetails(){this.apiService.getofferDetails(7654).subscribe(t=>{this.offerDetails=t,console.log(this.offerDetails)})}edit(){this.dataService.sendNavParam(this.offerDetails),this.dialogRef.close(),this.router.navigate(["loan/account-approval/offer-acceptReject-details"])}close(){this.dialogRef.close(),this.router.navigate(["/loan/account-approval/list"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(g.g),i.Rb(p.b),i.Rb(f.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offer-accept-reject-summary"]],decls:111,vars:15,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row wrap"],["fxFlex","30%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[1,"editButton",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"mat-icon",2),i.fc("click",function(){return e.close()}),i.Tc(3,"close"),i.Wb(),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"h4",4),i.Tc(6,"Offer Accept / Reject Summary"),i.Wb(),i.Wb(),i.Xb(7,"div",5),i.Xb(8,"div",6),i.Xb(9,"div",7),i.Xb(10,"div",0),i.Xb(11,"div",8),i.Xb(12,"div",9),i.Vb(13),i.Xb(14,"div",10),i.Xb(15,"mat-card",11),i.Xb(16,"div",12),i.Xb(17,"div",9),i.Vb(18),i.Xb(19,"div",13),i.Xb(20,"mat-hint",14),i.Tc(21,"Applicant Name"),i.Wb(),i.Sb(22,"br"),i.Xb(23,"mat-hint",15),i.Tc(24),i.Wb(),i.Wb(),i.Xb(25,"div",13),i.Xb(26,"mat-hint",14),i.Tc(27,"Approved Loan Amount"),i.Wb(),i.Sb(28,"br"),i.Xb(29,"mat-hint",15),i.Tc(30),i.Wb(),i.Wb(),i.Xb(31,"div",13),i.Xb(32,"mat-hint",14),i.Tc(33,"Loan Tenure"),i.Wb(),i.Sb(34,"br"),i.Xb(35,"mat-hint",15),i.Tc(36),i.Wb(),i.Wb(),i.Xb(37,"div",13),i.Xb(38,"mat-hint",14),i.Tc(39,"Installment Type"),i.Wb(),i.Sb(40,"br"),i.Xb(41,"mat-hint",15),i.Tc(42),i.Wb(),i.Wb(),i.Xb(43,"div",13),i.Xb(44,"mat-hint",14),i.Tc(45,"Installment Frequency"),i.Wb(),i.Sb(46,"br"),i.Xb(47,"mat-hint",15),i.Tc(48),i.Wb(),i.Wb(),i.Xb(49,"div",13),i.Xb(50,"mat-hint",14),i.Tc(51,"Rate Of Interest(in %)"),i.Wb(),i.Sb(52,"br"),i.Xb(53,"mat-hint",15),i.Tc(54),i.Wb(),i.Wb(),i.Xb(55,"div",13),i.Xb(56,"mat-hint",14),i.Tc(57,"Principal"),i.Wb(),i.Sb(58,"br"),i.Xb(59,"mat-hint",15),i.Tc(60),i.Wb(),i.Wb(),i.Xb(61,"div",13),i.Xb(62,"mat-hint",14),i.Tc(63,"Interest"),i.Wb(),i.Sb(64,"br"),i.Xb(65,"mat-hint",15),i.Tc(66),i.Wb(),i.Wb(),i.Xb(67,"div",13),i.Xb(68,"mat-hint",14),i.Tc(69,"Installment Amount"),i.Wb(),i.Sb(70,"br"),i.Xb(71,"mat-hint",15),i.Tc(72),i.Wb(),i.Wb(),i.Xb(73,"div",13),i.Xb(74,"mat-hint",14),i.Tc(75,"Charges"),i.Wb(),i.Sb(76,"br"),i.Xb(77,"mat-hint",15),i.Tc(78),i.Wb(),i.Wb(),i.Xb(79,"div",13),i.Xb(80,"mat-hint",14),i.Tc(81,"Offer Issue Date"),i.Wb(),i.Sb(82,"br"),i.Xb(83,"mat-hint",15),i.Tc(84),i.Wb(),i.Wb(),i.Xb(85,"div",13),i.Xb(86,"mat-hint",14),i.Tc(87,"Generate Offer"),i.Wb(),i.Sb(88,"br"),i.Xb(89,"mat-hint",15),i.Tc(90),i.Wb(),i.Wb(),i.Xb(91,"div",13),i.Xb(92,"mat-hint",14),i.Tc(93,"Customer Response"),i.Wb(),i.Sb(94,"br"),i.Xb(95,"mat-hint",15),i.Tc(96),i.Wb(),i.Wb(),i.Xb(97,"div",13),i.Xb(98,"mat-hint",14),i.Tc(99,"Date Of Offer Accept/Reject"),i.Wb(),i.Sb(100,"br"),i.Xb(101,"mat-hint",15),i.Tc(102),i.Wb(),i.Wb(),i.Xb(103,"div",13),i.Xb(104,"mat-hint",14),i.Tc(105,"Offer Expiry Date"),i.Wb(),i.Sb(106,"br"),i.Xb(107,"mat-hint",15),i.Tc(108),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Xb(109,"p",16),i.fc("click",function(){return e.edit()}),i.Tc(110,"Edit"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(24),i.Uc(e.offerDetails.applicantName),i.Eb(6),i.Uc(e.offerDetails.approvedLoanAmount),i.Eb(6),i.Uc(e.offerDetails.loanTenure),i.Eb(6),i.Uc(e.offerDetails.installmentType),i.Eb(6),i.Uc(e.offerDetails.installmentFrequency),i.Eb(6),i.Uc(e.offerDetails.rateOfInterest),i.Eb(6),i.Uc(e.offerDetails.principle),i.Eb(6),i.Uc(e.offerDetails.interest),i.Eb(6),i.Uc(e.offerDetails.installmentAmount),i.Eb(6),i.Uc(e.offerDetails.charges),i.Eb(6),i.Uc(e.offerDetails.offerIssueDate),i.Eb(6),i.Uc(e.offerDetails.generateOffer),i.Eb(6),i.Uc(e.userRecommendation.userRecommendation),i.Eb(6),i.Uc(e.offerDetails.dateOfOfferAcceptOrReject),i.Eb(6),i.Uc(e.offerDetails.offerExpiryDate))},directives:[r.e,v.a,r.d,r.b,r.f,c.a,s.f],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.homeicon[_ngcontent-%COMP%]{padding-left:2px;color:#00f;font-size:20px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px;font-size:16px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat}.paraFont[_ngcontent-%COMP%]{font-size:20px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),t})();var x=a("BSbQ"),C=a("BTe0");const I=function(){return{y:"50px",delay:"300ms"}},O=function(t){return{value:"*",params:t}};function A(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",19),i.Xb(1,"mat-card"),i.Xb(2,"div",20),i.Xb(3,"div",21),i.Xb(4,"mat-icon",22),i.Tc(5,"check_circle"),i.Wb(),i.Wb(),i.Xb(6,"div",23),i.Xb(7,"h3"),i.Tc(8,"Account Approval Stage Completed"),i.Wb(),i.Wb(),i.Sb(9,"span",24),i.Xb(10,"button",25),i.fc("click",function(){return i.Hc(t),i.jc().gotoAccountApprovalSummary()}),i.Tc(11," View Summary "),i.Xb(12,"mat-icon"),i.Tc(13,"chevron_right"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}2&t&&(i.Eb(1),i.rc("@animate",i.xc(2,O,i.wc(1,I))))}function D(t,e){1&t&&(i.Xb(0,"div",26),i.Sb(1,"mat-progress-bar",27),i.Xb(2,"p",28),i.Tc(3,"Completed"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("color","primary")("value",100))}function T(t,e){if(1&t){const t=i.Yb();i.Xb(0,"a",29),i.fc("click",function(){return i.Hc(t),i.jc().goToAssessmentSummary()}),i.Tc(1," View Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()}}function S(t,e){1&t&&(i.Xb(0,"div",26),i.Sb(1,"mat-progress-bar",27),i.Xb(2,"p",28),i.Tc(3,"Completed"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("color","primary")("value",100))}function k(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"a",29),i.fc("click",function(){return i.Hc(t),i.jc().openDialog1()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const _=function(){return["/loan/account-approval/offer-acceptReject-details/"]};function R(t,e){1&t&&(i.Xb(0,"button",15),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t&&i.rc("routerLink",i.wc(1,_))}function M(t,e){1&t&&(i.Xb(0,"div",26),i.Sb(1,"mat-progress-bar",27),i.Xb(2,"p",28),i.Tc(3,"Completed"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("color","primary")("value",100))}function E(t,e){if(1&t){const t=i.Yb();i.Xb(0,"a",29),i.fc("click",function(){return i.Hc(t),i.jc(2).openDialog2()}),i.Tc(1," View Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()}}function P(t,e){if(1&t&&(i.Vb(0),i.Rc(1,E,4,0,"a",16),i.Ub()),2&t){const t=i.jc();i.Eb(1),i.rc("ngIf",t.isLoanSummaryStageDone)}}const N=function(){return["/loan/account-approval/loan-summary-details/"]};function w(t,e){1&t&&(i.Xb(0,"button",15),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t&&i.rc("routerLink",i.wc(1,N))}const F=function(){return["/loan/account-approval/assessment-details/"]};let L=(()=>{class t{constructor(t,e,a,n,i){this.router=t,this.dialog=e,this.ls=a,this.cdr=n,this.accountService=i,this.isAccountApproveStageDone=!1,this.isAssessmentStageDone=!1,this.isOfferAcceptRejectStageDone=!1,this.isLoanSummaryStageDone=!1}ngOnInit(){this.isAccountApproveStageDone=this.ls.getItem("account-approval"),this.isAssessmentStageDone=this.ls.getItem("assessment-details"),this.isOfferAcceptRejectStageDone=this.ls.getItem("offer-acceptReject-details"),this.isLoanSummaryStageDone=this.ls.getItem("loan-summary-details"),this.accountService.refresh.subscribe(t=>{this.isAccountApproveStageDone=this.ls.getItem("account-approval"),this.isAssessmentStageDone=this.ls.getItem("assessment-details"),this.isOfferAcceptRejectStageDone=this.ls.getItem("offer-acceptReject-details"),this.isLoanSummaryStageDone=this.ls.getItem("loan-summary-details"),this.cdr.markForCheck()})}goToAssessmentSummary(){this.dialog.open(W,{width:"75%",backdropClass:"dialog-bg-trans",height:"50%",disableClose:!0}).afterClosed().subscribe(t=>{console.log("The dialog was closed")})}openDialog1(){this.dialog.open(y,{width:"75%",backdropClass:"dialog-bg-trans",height:"60%",disableClose:!0}).afterClosed().subscribe(t=>{console.log("The dialog was closed")})}openDialog2(){this.dialog.open(X,{width:"75%",backdropClass:"dialog-bg-trans",height:"70%",disableClose:!0}).afterClosed().subscribe(t=>{console.log("The dialog was closed")})}gotoAccountApprovalSummary(){this.router.navigate(["/loan/account-approval/account-approval-summary-details/"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(g.b),i.Rb(u.a),i.Rb(i.h),i.Rb(d.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-account-approval-stage"]],decls:69,vars:14,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["showCustomer",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",1,"btn-color",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create Retail Loan Account"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,A,14,4,"div",8),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Xb(14,"mat-card"),i.Xb(15,"mat-card-header"),i.Xb(16,"mat-card-title"),i.Tc(17,"1. Assessment Details"),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"div",11),i.Xb(20,"div",12),i.Xb(21,"p"),i.Tc(22," Basic Details for Loan Account is captured. "),i.Wb(),i.Wb(),i.Xb(23,"div",12),i.Sb(24,"img",13),i.Wb(),i.Wb(),i.Rc(25,D,4,2,"div",14),i.Wb(),i.Sb(26,"mat-divider"),i.Xb(27,"mat-card-actions"),i.Xb(28,"a",15),i.Tc(29," Add Details "),i.Xb(30,"mat-icon"),i.Tc(31,"chevron_right"),i.Wb(),i.Wb(),i.Rc(32,T,4,0,"a",16),i.Wb(),i.Wb(),i.Wb(),i.Xb(33,"div",10),i.Xb(34,"mat-card"),i.Xb(35,"mat-card-header"),i.Xb(36,"mat-card-title"),i.Tc(37,"2. Offer Accept / Reject Details"),i.Wb(),i.Wb(),i.Xb(38,"mat-card-content"),i.Xb(39,"div",11),i.Xb(40,"div",12),i.Xb(41,"p"),i.Tc(42," Details about asset or vehicle or admission is added. "),i.Wb(),i.Wb(),i.Xb(43,"div",12),i.Sb(44,"img",13),i.Wb(),i.Wb(),i.Rc(45,S,4,2,"div",14),i.Wb(),i.Sb(46,"mat-divider"),i.Xb(47,"mat-card-actions"),i.Rc(48,k,5,0,"ng-container",17),i.Rc(49,R,4,2,"ng-template",null,18,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Xb(51,"div",10),i.Xb(52,"mat-card"),i.Xb(53,"mat-card-header"),i.Xb(54,"mat-card-title"),i.Tc(55,"3. Loan Summary Details"),i.Wb(),i.Wb(),i.Xb(56,"mat-card-content"),i.Xb(57,"div",11),i.Xb(58,"div",12),i.Xb(59,"p"),i.Tc(60,"All the primary information about the customer is captured."),i.Wb(),i.Wb(),i.Xb(61,"div",12),i.Sb(62,"img",13),i.Wb(),i.Wb(),i.Rc(63,M,4,2,"div",14),i.Wb(),i.Sb(64,"mat-divider"),i.Xb(65,"mat-card-actions"),i.Rc(66,P,2,1,"ng-container",17),i.Rc(67,w,4,2,"ng-template",null,18,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(50);i.Eb(11),i.rc("ngIf",!e.isAccountApproveStageDone),i.Eb(13),i.rc("src","assets/images/svg/Group 673.svg",i.Jc),i.Eb(1),i.rc("ngIf",e.isAssessmentStageDone),i.Eb(3),i.rc("routerLink",i.wc(13,F)),i.Eb(4),i.rc("ngIf",e.isAssessmentStageDone),i.Eb(12),i.rc("src","assets/images/svg/undraw_personal_information_re_vw8a.svg",i.Jc),i.Eb(1),i.rc("ngIf",e.isOfferAcceptRejectStageDone),i.Eb(3),i.rc("ngIf",e.isAssessmentStageDone&&e.isOfferAcceptRejectStageDone)("ngIfElse",t),i.Eb(14),i.rc("src","assets/images/svg/undraw_Terms_re_6ak4.svg",i.Jc),i.Eb(1),i.rc("ngIf",e.isLoanSummaryStageDone),i.Eb(3),i.rc("ngIf",e.isOfferAcceptRejectStageDone&&e.isLoanSummaryStageDone)("ngIfElse",t)}},directives:[r.e,r.b,n.n,c.a,c.e,c.h,c.d,r.f,r.d,x.a,c.b,l.a,o.k,v.a,l.b,C.a,o.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}"],data:{animation:m.a}}),t})();var V=a("s7LF"),z=a("e6WT"),q=a("ZTz/"),B=a("UhP/");function j(t,e){if(1&t&&(i.Xb(0,"mat-option",29),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function U(t,e){if(1&t&&(i.Xb(0,"mat-option",29),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}let H=(()=>{class t{constructor(t,e,a,n,i,o){this.router=t,this.snack=e,this.cdr=a,this.apiService=n,this._location=i,this.fb=o,this.userRecommendation=["Recomended For Approval","Recommended For Reject"],this.systemRecommendation=["Recomended For Approval","Recommended For Reject"]}ngOnInit(){this.buildAssessmentForm({})}buildAssessmentForm(t){this.assessmentForm=this.fb.group({loanAccountId:[t.loanAccountId="1234567"],requestedLoanAmount:[t.requestedLoanAmount],loanTenure:[t.loanTenure],rateOfInterest:[t.rateOfInterest],systemRecommendation:[t.systemRecommendation],userRecommendation:[t.userRecommendation||""],loanAmountRecommendation:[t.loanAmountRecommendation||""],approvedLoanAmount:[t.approvedLoanAmount],finalLoanTenure:[t.finalLoanTenure],finalRate:[t.finalRate]})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}next(){this.apiService.assessmentDetails(this.assessmentForm.value).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck())}),this.router.navigate(["/loan/account-approval/offer-acceptReject-details"])}goBack(){this.router.navigate(["/loan/account-approval/list"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(h.a),i.Rb(i.h),i.Rb(p.b),i.Rb(n.j),i.Rb(V.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-assessment-details"]],decls:91,vars:3,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","row wrap"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","maxlength","10","formControlName","requestedLoanAmount","placeholder","Requested Loan Amount",3,"keypress"],["matInput","","maxlength","8","formControlName","loanTenure","placeholder","Loan Tenure"],["matInput","","maxlength","10","formControlName","rateOfInterest","placeholder","Rate Of Interest",3,"keypress"],["disableOptionCentering","","name","prefix","formControlName","systemRecommendation"],["value",""],[3,"value",4,"ngFor","ngForOf"],["disableOptionCentering","","name","prefix","formControlName","userRecommendation"],["matInput","","maxlength","10","formControlName","loanAmountRecommendation","placeholder","Loan Amount Recommended",3,"keypress"],["matInput","","maxlength","10","formControlName","approvedLoanAmount","placeholder","Approved Loan Amount",3,"keypress"],["matInput","","maxlength","8","formControlName","finalLoanTenure","placeholder","Final Loan Tenure"],["matInput","","maxlength","10","formControlName","finalRate","placeholder","Final Rate",3,"keypress"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Assessment Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"div",1),i.Xb(10,"mat-card",7),i.Xb(11,"mat-card-title",8),i.Xb(12,"div",9),i.Tc(13,"Assessment Details"),i.Wb(),i.Sb(14,"mat-divider"),i.Wb(),i.Xb(15,"mat-card-content"),i.Xb(16,"form",10),i.Xb(17,"div",11),i.Xb(18,"div",12),i.Xb(19,"div",13),i.Xb(20,"mat-label"),i.Tc(21,"Requested Loan Amount"),i.Wb(),i.Xb(22,"mat-form-field",14),i.Xb(23,"input",15),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div",12),i.Xb(25,"div",13),i.Xb(26,"mat-label"),i.Tc(27,"Loan Tenure"),i.Wb(),i.Xb(28,"mat-form-field",14),i.Sb(29,"input",16),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",11),i.Xb(31,"div",12),i.Xb(32,"div",13),i.Xb(33,"mat-label"),i.Tc(34,"Rate Of Interest"),i.Wb(),i.Xb(35,"mat-form-field",14),i.Xb(36,"input",17),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(37,"div",12),i.Xb(38,"div",13),i.Xb(39,"mat-label"),i.Tc(40,"System Recommendation"),i.Wb(),i.Xb(41,"mat-form-field",14),i.Xb(42,"mat-label"),i.Tc(43,"System Recommendation"),i.Wb(),i.Xb(44,"mat-select",18),i.Xb(45,"mat-option",19),i.Tc(46,"Select"),i.Wb(),i.Rc(47,j,2,2,"mat-option",20),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(48,"div",11),i.Xb(49,"div",12),i.Xb(50,"div",13),i.Xb(51,"mat-label"),i.Tc(52,"User Recommendation"),i.Wb(),i.Xb(53,"mat-form-field",14),i.Xb(54,"mat-label"),i.Tc(55,"User Recommendation"),i.Wb(),i.Xb(56,"mat-select",21),i.Xb(57,"mat-option",19),i.Tc(58,"Select"),i.Wb(),i.Rc(59,U,2,2,"mat-option",20),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(60,"div",12),i.Xb(61,"div",13),i.Xb(62,"mat-label"),i.Tc(63,"Loan Amount Recommended"),i.Wb(),i.Xb(64,"mat-form-field",14),i.Xb(65,"input",22),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(66,"div",11),i.Xb(67,"div",12),i.Xb(68,"div",13),i.Xb(69,"mat-label"),i.Tc(70,"Approved Loan Amount"),i.Wb(),i.Xb(71,"mat-form-field",14),i.Xb(72,"input",23),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(73,"div",12),i.Xb(74,"div",13),i.Xb(75,"mat-label"),i.Tc(76,"Final Loan tenure"),i.Wb(),i.Xb(77,"mat-form-field",14),i.Sb(78,"input",24),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(79,"div",11),i.Xb(80,"div",12),i.Xb(81,"div",13),i.Xb(82,"mat-label"),i.Tc(83,"Final Rate"),i.Wb(),i.Xb(84,"mat-form-field",14),i.Xb(85,"input",25),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(86,"div",26),i.Xb(87,"button",27),i.fc("click",function(){return e.goBack()}),i.Tc(88,"Back"),i.Wb(),i.Xb(89,"button",28),i.fc("click",function(){return e.next()}),i.Tc(90,"Next"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(16),i.rc("formGroup",e.assessmentForm),i.Eb(31),i.rc("ngForOf",e.systemRecommendation),i.Eb(12),i.rc("ngForOf",e.userRecommendation))},directives:[r.e,r.b,c.a,c.h,x.a,c.d,V.A,V.s,V.j,r.f,s.g,s.c,z.b,V.c,V.m,V.r,V.i,q.a,B.n,n.m,l.b],styles:[".button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -7%!important;background-color:#a0a0a0!important;border-radius:45px!important}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px!important;color:#fff!important}.Next[_ngcontent-%COMP%]{margin:12px -11% 12px 0!important;background-color:#426af5!important;border-radius:55px!important}"]}),t})();function G(t,e){if(1&t&&(i.Xb(0,"mat-option",41),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}let Y=(()=>{class t{constructor(t,e,a){this.router=t,this._location=e,this.fb=a,this.userRecommendation=["Recomended For Approval","Recommended For Reject"]}ngOnInit(){this.buildAssessmentForm()}buildAssessmentForm(){this.loanSummaryForm=this.fb.group({applicantName:[""],accountType:[""],accountBranch:[""],productCode:[""],productName:[""],hostProductCode:[""],hostProductDescription:[""],loanAmount:[""],loanTenure:[""],interestRate:[""],repaymentMethod:[""],repaymentFrequency:[""],applicationDate:[""],assessmentApprovalMethod:[""],offerApprovedDate:[""],offerAcceptedDate:[""],approverID:[""],stage:[""],date:[""],offerIssueDate:[""],userRecommendation:[""],userAction:[""]})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}next(){this.router.navigate(["/loan/account-approval/offer-acceptReject-details"])}goBack(){this.router.navigate(["/loan/account-approval/list"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(n.j),i.Rb(V.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-summary-details"]],decls:188,vars:2,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","row wrap"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","maxlength","10","formControlName","applicantName","placeholder","Applicant Name"],["matInput","","maxlength","10","formControlName","accountType","placeholder","Account type",3,"keypress"],["matInput","","maxlength","10","formControlName","accountBranch","placeholder","Account Branch",3,"keypress"],["matInput","","maxlength","10","formControlName","productCode","placeholder","Product Code",3,"keypress"],["matInput","","maxlength","10","formControlName","productName","placeholder","Product Name",3,"keypress"],["matInput","","maxlength","10","formControlName","hostProductCode","placeholder","Host Product Code",3,"keypress"],["matInput","","maxlength","10","formControlName","hostProductDescription","placeholder","Host Product Description",3,"keypress"],["matInput","","maxlength","10","formControlName","loanAmount","placeholder","Loan Amount",3,"keypress"],["matInput","","maxlength","10","formControlName","loanTenure","placeholder","Loan Tenure",3,"keypress"],["matInput","","maxlength","10","formControlName","interestRate","placeholder","Interest Rate",3,"keypress"],["matInput","","maxlength","10","formControlName","repaymentMethod","placeholder","Repayment Method",3,"keypress"],["matInput","","maxlength","10","formControlName","repaymentFrequency","placeholder","Repayment Frequency",3,"keypress"],["matInput","","maxlength","10","formControlName","applicationDate","placeholder","Application Date",3,"keypress"],["matInput","","maxlength","10","formControlName","assessmentApprovalMethod","placeholder","Assessment Approval Method",3,"keypress"],["matInput","","maxlength","10","formControlName","offerApprovedDate","placeholder","Offer Approved Date",3,"keypress"],["matInput","","maxlength","10","formControlName","offerAcceptedDate","placeholder","Offer Accepted Date",3,"keypress"],["matInput","","maxlength","10","formControlName","approverID","placeholder","Approver ID",3,"keypress"],["matInput","","maxlength","10","formControlName","stage","placeholder","Stage",3,"keypress"],["matInput","","maxlength","10","formControlName","date","placeholder","Date",3,"keypress"],["matInput","","maxlength","10","formControlName","offerIssueDate","placeholder","Offer Issue Date",3,"keypress"],["name","prefix","formControlName","userRecommendation"],[3,"value",4,"ngFor","ngForOf"],["matInput","","maxlength","10","formControlName","userAction","placeholder","User Action",3,"keypress"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Loan Summary Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"div",1),i.Xb(10,"mat-card",7),i.Xb(11,"mat-card-title",8),i.Xb(12,"div",9),i.Tc(13,"Loan Summary Details"),i.Wb(),i.Sb(14,"mat-divider"),i.Wb(),i.Xb(15,"mat-card-content"),i.Xb(16,"form",10),i.Xb(17,"div",11),i.Xb(18,"div",12),i.Xb(19,"div",13),i.Xb(20,"mat-label"),i.Tc(21,"Applicant Name"),i.Wb(),i.Xb(22,"mat-form-field",14),i.Sb(23,"input",15),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div",12),i.Xb(25,"div",13),i.Xb(26,"mat-label"),i.Tc(27,"Account Type"),i.Wb(),i.Xb(28,"mat-form-field",14),i.Xb(29,"input",16),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",11),i.Xb(31,"div",12),i.Xb(32,"div",13),i.Xb(33,"mat-label"),i.Tc(34,"Account Branch"),i.Wb(),i.Xb(35,"mat-form-field",14),i.Xb(36,"input",17),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(37,"div",12),i.Xb(38,"div",13),i.Xb(39,"mat-label"),i.Tc(40,"Product Code"),i.Wb(),i.Xb(41,"mat-form-field",14),i.Xb(42,"input",18),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(43,"div",11),i.Xb(44,"div",12),i.Xb(45,"div",13),i.Xb(46,"mat-label"),i.Tc(47,"Product Name"),i.Wb(),i.Xb(48,"mat-form-field",14),i.Xb(49,"input",19),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(50,"div",12),i.Xb(51,"div",13),i.Xb(52,"mat-label"),i.Tc(53,"Host Product Code"),i.Wb(),i.Xb(54,"mat-form-field",14),i.Xb(55,"input",20),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(56,"div",11),i.Xb(57,"div",12),i.Xb(58,"div",13),i.Xb(59,"mat-label"),i.Tc(60,"Host Product Description"),i.Wb(),i.Xb(61,"mat-form-field",14),i.Xb(62,"input",21),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(63,"mat-card-title",8),i.Xb(64,"div",9),i.Tc(65,"Application Details"),i.Wb(),i.Sb(66,"mat-divider"),i.Xb(67,"mat-card"),i.Xb(68,"div",11),i.Xb(69,"div",12),i.Xb(70,"div",13),i.Xb(71,"mat-label"),i.Tc(72,"Loan Amount"),i.Wb(),i.Xb(73,"mat-form-field",14),i.Xb(74,"input",22),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(75,"div",12),i.Xb(76,"div",13),i.Xb(77,"mat-label"),i.Tc(78,"Loan Tenure"),i.Wb(),i.Xb(79,"mat-form-field",14),i.Xb(80,"input",23),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(81,"div",11),i.Xb(82,"div",12),i.Xb(83,"div",13),i.Xb(84,"mat-label"),i.Tc(85,"Interest Rate(in %)"),i.Wb(),i.Xb(86,"mat-form-field",14),i.Xb(87,"input",24),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(88,"div",12),i.Xb(89,"div",13),i.Xb(90,"mat-label"),i.Tc(91,"Repayment Method"),i.Wb(),i.Xb(92,"mat-form-field",14),i.Xb(93,"input",25),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(94,"div",11),i.Xb(95,"div",12),i.Xb(96,"div",13),i.Xb(97,"mat-label"),i.Tc(98,"Repayment Frequency"),i.Wb(),i.Xb(99,"mat-form-field",14),i.Xb(100,"input",26),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(101,"div",12),i.Xb(102,"div",13),i.Xb(103,"a"),i.Tc(104," Repayment Schedule View"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(105,"mat-card-title",8),i.Xb(106,"div",9),i.Tc(107,"Application Life Cycle Details"),i.Wb(),i.Sb(108,"mat-divider"),i.Xb(109,"mat-card"),i.Xb(110,"div",11),i.Xb(111,"div",12),i.Xb(112,"div",13),i.Xb(113,"mat-label"),i.Tc(114,"Application Date"),i.Wb(),i.Xb(115,"mat-form-field",14),i.Xb(116,"input",27),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(117,"div",12),i.Xb(118,"div",13),i.Xb(119,"mat-label"),i.Tc(120,"Assessment Approval Method"),i.Wb(),i.Xb(121,"mat-form-field",14),i.Xb(122,"input",28),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(123,"div",11),i.Xb(124,"div",12),i.Xb(125,"div",13),i.Xb(126,"mat-label"),i.Tc(127,"Offer Approved Date"),i.Wb(),i.Xb(128,"mat-form-field",14),i.Xb(129,"input",29),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(130,"div",12),i.Xb(131,"div",13),i.Xb(132,"mat-label"),i.Tc(133,"Offer Accepted Date"),i.Wb(),i.Xb(134,"mat-form-field",14),i.Xb(135,"input",30),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(136,"mat-card-title",8),i.Xb(137,"div",9),i.Tc(138,"Approval Details"),i.Wb(),i.Sb(139,"mat-divider"),i.Xb(140,"mat-card"),i.Xb(141,"div",11),i.Xb(142,"div",12),i.Xb(143,"div",13),i.Xb(144,"mat-label"),i.Tc(145,"Approver ID"),i.Wb(),i.Xb(146,"mat-form-field",14),i.Xb(147,"input",31),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(148,"div",12),i.Xb(149,"div",13),i.Xb(150,"mat-label"),i.Tc(151,"Stage"),i.Wb(),i.Xb(152,"mat-form-field",14),i.Xb(153,"input",32),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(154,"div",11),i.Xb(155,"div",12),i.Xb(156,"div",13),i.Xb(157,"mat-label"),i.Tc(158,"Date"),i.Wb(),i.Xb(159,"mat-form-field",14),i.Xb(160,"input",33),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(161,"div",12),i.Xb(162,"div",13),i.Xb(163,"mat-label"),i.Tc(164,"Offer Issue Date"),i.Wb(),i.Xb(165,"mat-form-field",14),i.Xb(166,"input",34),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(167,"div",11),i.Xb(168,"div",12),i.Xb(169,"div",13),i.Xb(170,"mat-label"),i.Tc(171,"User Recommendation"),i.Wb(),i.Xb(172,"mat-form-field",14),i.Xb(173,"mat-label"),i.Tc(174,"User Recommendation"),i.Wb(),i.Xb(175,"mat-select",35),i.Rc(176,G,2,2,"mat-option",36),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(177,"div",12),i.Xb(178,"div",13),i.Xb(179,"mat-label"),i.Tc(180,"User Action"),i.Wb(),i.Xb(181,"mat-form-field",14),i.Xb(182,"input",37),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(183,"div",38),i.Xb(184,"button",39),i.fc("click",function(){return e.goBack()}),i.Tc(185,"Back"),i.Wb(),i.Xb(186,"button",40),i.fc("click",function(){return e.next()}),i.Tc(187,"Next"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(16),i.rc("formGroup",e.loanSummaryForm),i.Eb(160),i.rc("ngForOf",e.userRecommendation))},directives:[r.e,r.b,c.a,c.h,x.a,c.d,V.A,V.s,V.j,r.f,s.g,s.c,z.b,V.c,V.m,V.r,V.i,q.a,n.m,l.b,B.n],styles:[".button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -7%!important;background-color:#a0a0a0!important;border-radius:45px!important}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px!important;color:#fff!important}.Next[_ngcontent-%COMP%]{margin:12px -11% 12px 0!important;background-color:#426af5!important;border-radius:55px!important}"]}),t})();var $=a("wd/R"),Q=a("TN/R");function Z(t,e){if(1&t&&(i.Xb(0,"mat-option",39),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}let J=(()=>{class t{constructor(t,e,a,n,i,o){this.router=t,this.snack=e,this.cdr=a,this.apiService=n,this._location=i,this.fb=o,this.maxDate=new Date,this.minDate=new Date,this.customerResponse=["Accept","Reject"]}ngOnInit(){this.buildOfferAcceptRejectForm({})}buildOfferAcceptRejectForm(t){this.offerAcceptRejectForm=this.fb.group({offerAcceptOrRejectId:[t.offerAcceptOrRejectId="12345"],loanAccountId:"7654",applicantName:[t.applicantName],approvedLoanAmount:[t.approvedLoanAmount],loanTenure:[t.loanTenure],installmentType:[t.installmentType],installmentFrequency:[t.installmentFrequency],rateOfInterest:[t.rateOfInterest],principal:[t.principal],interest:[t.interest],installmentAmount:[t.installmentAmount],charges:[t.charges],dateOfOfferAcceptOrReject:[new Date(t.dateOfOfferAcceptOrReject)],generateOffer:[new Date(t.generateOffer)],offerIssueDate:[new Date(t.offerIssueDate)],offerExpiryDate:[new Date(t.offerExpiryDate)]})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}convertDate(t){let e=$(t).format("YYYY-MMM-DD HH:mm:ss");if(console.log("date",e),e)return e}next(){let t=this.convertDate(this.offerAcceptRejectForm.controls.generateOffer.value);this.offerAcceptRejectForm.value.generateOffer=t;let e=this.convertDate(this.offerAcceptRejectForm.controls.dateOfOfferAcceptOrReject.value);this.offerAcceptRejectForm.value.dateOfOfferAcceptOrReject=e;let a=this.convertDate(this.offerAcceptRejectForm.controls.offerIssueDate.value);this.offerAcceptRejectForm.value.offerIssueDate=a;let n=this.convertDate(this.offerAcceptRejectForm.controls.offerExpiryDate.value);this.offerAcceptRejectForm.value.offerExpiryDate=n,this.apiService.offerDetails(this.offerAcceptRejectForm.value).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.cdr.markForCheck())}),this.router.navigate(["/loan/account-approval/loan-summary-details"])}goBack(){this.router.navigate(["/loan/account-approval/assessment-details"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(h.a),i.Rb(i.h),i.Rb(p.b),i.Rb(n.j),i.Rb(V.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offer-accept-reject-details"]],decls:139,vars:14,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","row wrap"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","maxlength","10","formControlName","applicantName","placeholder","Applicant Name"],["matInput","","maxlength","10","formControlName","approvedLoanAmount","placeholder","Approved Loan Amount",3,"keypress"],["matInput","","type","text","maxlength","10","formControlName","loanTenure","placeholder","Loan Tenure"],["matInput","","type","text","maxlength","10","formControlName","installmentType","placeholder","Installment Type"],["matInput","","type","text","maxlength","10","formControlName","installmentFrequency","placeholder","Installment Frequency"],["matInput","","maxlength","10","formControlName","rateOfInterest","placeholder","Rate Of Interest",3,"keypress"],["matInput","","maxlength","10","formControlName","principal","placeholder","Principal",3,"keypress"],["matInput","","maxlength","8","formControlName","interest","placeholder","Interest"],["matInput","","maxlength","10","formControlName","installmentAmount","placeholder","Installment Amount",3,"keypress"],["matInput","","maxlength","8","formControlName","charges","placeholder","Charges"],["matInput","","formControlName","offerIssueDate","placeholder","Offer Issue Date","readonly","",3,"min","matDatepicker","keypress"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","formControlName","generateOffer","placeholder","Generate Offer","readonly","",3,"min","matDatepicker","keypress"],["appDatepicker2",""],["name","prefix","formControlName","Customer Response","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["readonly","","matInput","","name","dob","formControlName","dateOfOfferAcceptOrReject","placeholder","Date Of Offer Accept/Reject",3,"matDatepicker","min"],["appDatepicker",""],["matInput","","name","dob","formControlName","offerExpiryDate","placeholder","Offer Expiry Date","readonly","",3,"min","matDatepicker"],["appDatepicker3",""],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Offer Accept / Reject Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"div",1),i.Xb(10,"mat-card",7),i.Xb(11,"mat-card-title",8),i.Xb(12,"div",9),i.Tc(13,"Offer Accept / Reject Details"),i.Wb(),i.Sb(14,"mat-divider"),i.Wb(),i.Xb(15,"mat-card-content"),i.Xb(16,"form",10),i.Xb(17,"div",11),i.Xb(18,"div",12),i.Xb(19,"div",13),i.Xb(20,"mat-label"),i.Tc(21,"Applicant Name"),i.Wb(),i.Xb(22,"mat-form-field",14),i.Sb(23,"input",15),i.Wb(),i.Wb(),i.Wb(),i.Xb(24,"div",12),i.Xb(25,"div",13),i.Xb(26,"mat-label"),i.Tc(27,"Approved Loan Amount"),i.Wb(),i.Xb(28,"mat-form-field",14),i.Xb(29,"input",16),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",11),i.Xb(31,"div",12),i.Xb(32,"div",13),i.Xb(33,"mat-label"),i.Tc(34,"Loan Tenure"),i.Wb(),i.Xb(35,"mat-form-field",14),i.Sb(36,"input",17),i.Wb(),i.Wb(),i.Wb(),i.Xb(37,"div",12),i.Xb(38,"div",13),i.Xb(39,"mat-label"),i.Tc(40,"Installment Type"),i.Wb(),i.Xb(41,"mat-form-field",14),i.Sb(42,"input",18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(43,"div",11),i.Xb(44,"div",12),i.Xb(45,"div",13),i.Xb(46,"mat-label"),i.Tc(47,"Installment Frequency"),i.Wb(),i.Xb(48,"mat-form-field",14),i.Sb(49,"input",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(50,"div",12),i.Xb(51,"div",13),i.Xb(52,"mat-label"),i.Tc(53,"Rate Of Interest(in %)"),i.Wb(),i.Xb(54,"mat-form-field",14),i.Xb(55,"input",20),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(56,"div",11),i.Xb(57,"div",12),i.Xb(58,"div",13),i.Xb(59,"mat-label"),i.Tc(60,"Principal"),i.Wb(),i.Xb(61,"mat-form-field",14),i.Xb(62,"input",21),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(63,"div",12),i.Xb(64,"div",13),i.Xb(65,"mat-label"),i.Tc(66,"Interest "),i.Wb(),i.Xb(67,"mat-form-field",14),i.Sb(68,"input",22),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(69,"div",11),i.Xb(70,"div",12),i.Xb(71,"div",13),i.Xb(72,"mat-label"),i.Tc(73,"Installment Amount"),i.Wb(),i.Xb(74,"mat-form-field",14),i.Xb(75,"input",23),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(76,"div",12),i.Xb(77,"div",13),i.Xb(78,"mat-label"),i.Tc(79,"Charges"),i.Wb(),i.Xb(80,"mat-form-field",14),i.Sb(81,"input",24),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(82,"div",11),i.Xb(83,"div",12),i.Xb(84,"div",13),i.Xb(85,"mat-label"),i.Tc(86,"Offer Issue Date"),i.Wb(),i.Xb(87,"mat-form-field",14),i.Xb(88,"input",25),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Sb(89,"mat-datepicker-toggle",26),i.Wb(),i.Sb(90,"mat-datepicker",null,27),i.Wb(),i.Wb(),i.Xb(92,"div",12),i.Xb(93,"div",13),i.Xb(94,"mat-label"),i.Tc(95,"Generate Offer"),i.Wb(),i.Xb(96,"mat-form-field",14),i.Xb(97,"input",28),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Sb(98,"mat-datepicker-toggle",26),i.Wb(),i.Sb(99,"mat-datepicker",null,29),i.Wb(),i.Wb(),i.Wb(),i.Xb(101,"div",11),i.Xb(102,"div",12),i.Xb(103,"div",13),i.Xb(104,"mat-label"),i.Tc(105,"Customer Response"),i.Wb(),i.Xb(106,"mat-form-field",14),i.Xb(107,"mat-label"),i.Tc(108,"Customer Response"),i.Wb(),i.Xb(109,"mat-select",30),i.Rc(110,Z,2,2,"mat-option",31),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(111,"div",12),i.Xb(112,"div",13),i.Xb(113,"mat-label"),i.Tc(114,"Date Of Offer Accept/Reject"),i.Wb(),i.Xb(115,"mat-form-field",14),i.Xb(116,"mat-label"),i.Tc(117,"Date Of Offer Accept/Reject"),i.Wb(),i.Sb(118,"input",32),i.Sb(119,"mat-datepicker-toggle",26),i.Wb(),i.Sb(120,"mat-datepicker",null,33),i.Wb(),i.Wb(),i.Wb(),i.Xb(122,"div",11),i.Xb(123,"div",12),i.Xb(124,"div",13),i.Xb(125,"mat-label"),i.Tc(126,"Offer Expiry Date"),i.Wb(),i.Xb(127,"mat-form-field",14),i.Xb(128,"mat-label"),i.Tc(129,"Offer Expiry Date"),i.Wb(),i.Sb(130,"input",34),i.Sb(131,"mat-datepicker-toggle",26),i.Wb(),i.Sb(132,"mat-datepicker",null,35),i.Wb(),i.Wb(),i.Wb(),i.Xb(134,"div",36),i.Xb(135,"button",37),i.fc("click",function(){return e.goBack()}),i.Tc(136,"Back"),i.Wb(),i.Xb(137,"button",38),i.fc("click",function(){return e.next()}),i.Tc(138,"Next"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(91),a=i.Dc(100),n=i.Dc(121),o=i.Dc(133);i.Eb(16),i.rc("formGroup",e.offerAcceptRejectForm),i.Eb(72),i.rc("min",e.offerAcceptRejectForm.get("offerIssueDate").value)("matDatepicker",t),i.Eb(1),i.rc("for",t),i.Eb(8),i.rc("min",e.offerAcceptRejectForm.get("generateOffer").value)("matDatepicker",a),i.Eb(1),i.rc("for",a),i.Eb(12),i.rc("ngForOf",e.customerResponse),i.Eb(8),i.rc("matDatepicker",n)("min",e.offerAcceptRejectForm.get("dateOfOfferAcceptOrReject").value),i.Eb(1),i.rc("for",n),i.Eb(11),i.rc("min",e.offerAcceptRejectForm.get("offerExpiryDate").value)("matDatepicker",o),i.Eb(1),i.rc("for",o)}},directives:[r.e,r.b,c.a,c.h,x.a,c.d,V.A,V.s,V.j,r.f,s.g,s.c,z.b,V.c,V.m,V.r,V.i,Q.e,Q.g,s.j,Q.d,q.a,n.m,l.b,B.n],styles:[".button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -7%!important;background-color:#a0a0a0!important;border-radius:45px!important}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px!important;color:#fff!important}.Next[_ngcontent-%COMP%]{margin:12px -11% 12px 0!important;background-color:#426af5!important;border-radius:55px!important}"]}),t})();var K=a("+6Ey"),tt=a("pMoy"),et=a("jMqV");function at(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Statement Cycle is Required!"),i.Wb())}function nt(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Statement Type is Required!"),i.Wb())}function it(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Start Date is Required!"),i.Wb())}function ot(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Move Across Month is Required!"),i.Wb())}function rt(t,e){if(1&t&&(i.Xb(0,"div",14),i.Xb(1,"mat-hint"),i.Tc(2,"Move Across Month*"),i.Wb(),i.Xb(3,"mat-card",45),i.Xb(4,"mat-select",46),i.Xb(5,"mat-option",47),i.Tc(6,"Yes"),i.Wb(),i.Xb(7,"mat-option",48),i.Tc(8,"No"),i.Wb(),i.Wb(),i.Wb(),i.Rc(9,ot,2,0,"mat-error",22),i.Wb()),2&t){const t=i.jc();i.Eb(9),i.rc("ngIf",!t.holidayPreferenceForm.get("moveAcrossMonth").valid&&t.holidayPreferenceForm.get("moveAcrossMonth").touched)}}function ct(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Holiday Check is Required!"),i.Wb())}function st(t,e){if(1&t&&(i.Xb(0,"div",14),i.Xb(1,"mat-hint"),i.Tc(2,"Holiday Check*"),i.Wb(),i.Xb(3,"mat-card",45),i.Xb(4,"mat-select",49),i.Xb(5,"mat-option",50),i.Tc(6,"Currency"),i.Wb(),i.Xb(7,"mat-option",51),i.Tc(8,"Local"),i.Wb(),i.Xb(9,"mat-option",52),i.Tc(10,"Clearing"),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,ct,2,0,"mat-error",22),i.Wb()),2&t){const t=i.jc();i.Eb(11),i.rc("ngIf",!t.holidayPreferenceForm.get("holidayCheck").valid&&t.holidayPreferenceForm.get("holidayCheck").touched)}}function lt(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Move Across Month is Required!"),i.Wb())}function bt(t,e){if(1&t&&(i.Xb(0,"div",14),i.Xb(1,"mat-hint"),i.Tc(2,"Move Across Month*"),i.Wb(),i.Xb(3,"mat-card",45),i.Xb(4,"mat-select",53),i.Xb(5,"mat-option",47),i.Tc(6,"Yes"),i.Wb(),i.Xb(7,"mat-option",48),i.Tc(8,"No"),i.Wb(),i.Wb(),i.Wb(),i.Rc(9,lt,2,0,"mat-error",22),i.Wb()),2&t){const t=i.jc();i.Eb(9),i.rc("ngIf",!t.maturityForm.get("moveAcrossMonth").valid&&t.maturityForm.get("moveAcrossMonth").touched)}}function mt(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Holiday Check is Required!"),i.Wb())}function ut(t,e){if(1&t&&(i.Xb(0,"div",14),i.Xb(1,"mat-hint"),i.Tc(2,"Holiday Check*"),i.Wb(),i.Xb(3,"mat-card",45),i.Xb(4,"mat-select",54),i.Xb(5,"mat-option",50),i.Tc(6,"Currency"),i.Wb(),i.Xb(7,"mat-option",51),i.Tc(8,"Local"),i.Wb(),i.Xb(9,"mat-option",52),i.Tc(10,"Clearing"),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,mt,2,0,"mat-error",22),i.Wb()),2&t){const t=i.jc();i.Eb(11),i.rc("ngIf",!t.maturityForm.get("holidayCheck").valid&&t.maturityForm.get("holidayCheck").touched)}}function dt(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Move Across Month is Required!"),i.Wb())}function pt(t,e){if(1&t&&(i.Xb(0,"div",14),i.Xb(1,"mat-hint"),i.Tc(2,"Move Across Month*"),i.Wb(),i.Xb(3,"mat-card",45),i.Xb(4,"mat-select",53),i.Xb(5,"mat-option",47),i.Tc(6,"Yes"),i.Wb(),i.Xb(7,"mat-option",48),i.Tc(8,"No"),i.Wb(),i.Wb(),i.Wb(),i.Rc(9,dt,2,0,"mat-error",22),i.Wb()),2&t){const t=i.jc();i.Eb(9),i.rc("ngIf",!t.revisionForm.get("moveAcrossMonth").valid&&t.revisionForm.get("moveAcrossMonth").touched)}}function ft(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Holiday Check is Required!"),i.Wb())}function gt(t,e){if(1&t&&(i.Xb(0,"div",14),i.Xb(1,"mat-hint"),i.Tc(2,"Holiday Check*"),i.Wb(),i.Xb(3,"mat-card",45),i.Xb(4,"mat-select",54),i.Xb(5,"mat-option",50),i.Tc(6,"Currency"),i.Wb(),i.Xb(7,"mat-option",51),i.Tc(8,"Local"),i.Wb(),i.Xb(9,"mat-option",52),i.Tc(10,"Clearing"),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,ft,2,0,"mat-error",22),i.Wb()),2&t){const t=i.jc();i.Eb(11),i.rc("ngIf",!t.revisionForm.get("holidayCheck").valid&&t.revisionForm.get("holidayCheck").touched)}}let ht=(()=>{class t{constructor(t,e,a,n,i,o,r,c){this.formBuilder=t,this.datepipe=e,this.api=a,this.apiService=n,this.snack=i,this.router=o,this.ls=r,this.accountService=c,this.maxDate=new Date,this.minDate=new Date,this.flag1=!1,this.flag2=!1,this.flag3=!1,this.flag4=!1,this.flag5=!1,this.flag6=!1}ngOnInit(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.buildAccountForm(),this.lastUpdateByCif(),setTimeout(()=>{this.api.AccountServicesFetchById(this.loanaccountID).subscribe(t=>{console.log("resp from backend ",t),this.buildStatmentPreferenceForm(t),t.serviceDetails.find(t=>"Maturity"===t.serviceName),this.buildMaturityForm(t.serviceDetails.find(t=>"Maturity"===t.serviceName)),this.buildRevisionForm(t.serviceDetails.find(t=>"Revision"===t.serviceName)),this.buildHolidayForm(t.serviceDetails.find(t=>"Holiday Preference"===t.serviceName))})},10)}buildAccountForm(){this.statementPreferencesForm=this.formBuilder.group({statementCycle:["",V.z.required],statementType:["",V.z.required],statementGeneration:["",V.z.required],startDate:["",V.z.compose([V.z.required,V.z.min(this.lastData)])],accServiceId:[],loanAccountId:[this.loanaccountID]}),this.holidayPreferenceForm=this.formBuilder.group({ignoreHolidays:[!0],holidayCheck:["",V.z.required],moveAcrossMonth:["",V.z.required],cascadeSchedules:["",V.z.required],accServiceDetailsId:[""],accountServiceId:[""],serviceName:["Holiday Preference"]}),this.maturityForm=this.formBuilder.group({ignoreHolidays:[!0],holidayCheck:["",V.z.required],moveAcrossMonth:["",V.z.required],cascadeSchedules:["",V.z.required],accServiceDetailsId:[""],accountServiceId:[""],serviceName:["Maturity"]}),this.revisionForm=this.formBuilder.group({ignoreHolidays:[!0],holidayCheck:["",V.z.required],moveAcrossMonth:["",V.z.required],cascadeSchedules:["",V.z.required],accServiceDetailsId:[""],accountServiceId:[""],serviceName:["Revision"]})}goBack(){this.router.navigate(["/loan/account/application-enrichment"])}clickToggle1(){this.flag1=!this.flag1}clickToggle2(){this.flag2=!this.flag2}clickToggle3(){this.flag3=!this.flag3}clickToggle4(){this.flag4=!this.flag4}clickToggle5(){this.flag5=!this.flag5}clickToggle6(){this.flag6=!this.flag6}buildMaturityForm(t){this.maturityForm=this.formBuilder.group({ignoreHolidays:[!t||t.ignoreHolidays],holidayCheck:[t?t.holidayCheck:"",V.z.required],moveAcrossMonth:[t?t.moveAcrossMonth:"",V.z.required],cascadeSchedules:[!t||t.cascadeSchedules,V.z.required],accServiceDetailsId:[t?t.accServiceDetailsId:""],accountServiceId:[t?t.accountServiceId:""],serviceName:["Maturity"]})}buildRevisionForm(t){this.revisionForm=this.formBuilder.group({ignoreHolidays:[!t||t.ignoreHolidays],holidayCheck:[t?t.holidayCheck:"",V.z.required],moveAcrossMonth:[t?t.moveAcrossMonth:"",V.z.required],cascadeSchedules:[!t||t.cascadeSchedules,V.z.required],accServiceDetailsId:[t?t.accServiceDetailsId:""],accountServiceId:[t?t.accountServiceId:""],serviceName:["Revision"]})}buildHolidayForm(t){this.holidayPreferenceForm=this.formBuilder.group({ignoreHolidays:[!t||t.ignoreHolidays],holidayCheck:[t?t.holidayCheck:"",V.z.required],moveAcrossMonth:[t?t.moveAcrossMonth:"",V.z.required],cascadeSchedules:[!t||t.cascadeSchedules,V.z.required],accServiceDetailsId:[t?t.accServiceDetailsId:""],accountServiceId:[t?t.accountServiceId:""],serviceName:["Holiday Preference"]})}buildStatmentPreferenceForm(t){let e=new Date(t.startDate).toISOString().substring(0,10);this.statementPreferencesForm=this.formBuilder.group({statementCycle:[t?t.statementCycle:"",V.z.required],statementType:[t?t.statementType:"",V.z.required],statementGeneration:[t?t.statementGeneration:"",V.z.required],startDate:[t?e:"",V.z.required],accServiceId:[t?t.accServiceId:""],loanAccountId:[this.loanaccountID]})}submit(){let t={serviceDetails:[]},e=this.datepipe.transform(this.statementPreferencesForm.value.startDate,"yyyy-MMM-dd");t.statementCycle=this.statementPreferencesForm.value.statementCycle,t.statementType=this.statementPreferencesForm.value.statementType,t.statementGeneration=this.statementPreferencesForm.value.statementGeneration,t.startDate=e,t.accServiceId=this.statementPreferencesForm.value.accServiceId,t.loanAccountId=this.statementPreferencesForm.value.loanAccountId,t.serviceDetails[0]=this.maturityForm.value,t.serviceDetails[1]=this.revisionForm.value,t.serviceDetails[2]=this.holidayPreferenceForm.value,console.log("obj_test ",t),this.api.saveAccountService(t).subscribe(t=>{console.log("resp ",t),this.snack.open("Account Services Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next()},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}lastUpdateByCif(){this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{this.lastData=this.datepipe.transform(t.applicationDate,"yyyy-MM-dd")},t=>{console.error(t)})}next(){this.ls.setItem("LOAN_ACCOUNT_SERVICES_DONE",!0),this.ls.setItem("LOAN_ENRICHMENT_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/list/underwritingStage"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(n.f),i.Rb(p.b),i.Rb(p.b),i.Rb(h.a),i.Rb(o.h),i.Rb(u.a),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-account-services"]],decls:160,vars:18,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["alt","",1,"w-90",3,"src"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,"alignChange"],["visible","true"],[1,"marginTop"],["visible","true",1,"headingName"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"flex-grow-2"],["appearance","outline",1,"full-width"],["placeholder","Statement Cycle","name","statementCycle","disableOptionCentering","","formControlName","statementCycle"],["value",""],["value","Monthly"],["value","Quaterly"],["value","Half-yearly"],["value","Yearly"],[4,"ngIf"],["placeholder","Statement Type","name","opinion","formControlName","statementType","disableOptionCentering",""],["value","Detailed"],["value","Summary"],["placeholder","DD/MM/YYYY","matInput","","name","valuationDate","formControlName","startDate",1,"alignment",3,"min","matDatepicker"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"sqInput1"],["formControlName","statementGeneration","color","primary"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["fxLayout","row","fxLayoutGap","25px",1,"toggle"],["fxFlex","100",1,"pr-1"],[1,"pb-1"],["formControlName","ignoreHolidays","name","ignoreHolidays",1,"charge",3,"change"],["class","flex-grow-2",4,"ngIf"],["formControlName","cascadeSchedules",1,"charge",3,"change"],["formControlName","isSameAsHolidayDate","name","isSameAsHolidayDate","color","primary"],["formControlName","ignoreHolidays",1,"charge",3,"change"],["formControlName","isSameAsRevisionSchedules","color","primary"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[1,"widthCard","inputMatName"],["placeholder","Move Across Month","name","moveAcrossMonth","formControlName","moveAcrossMonth","disableOptionCentering",""],["value","Yes"],["value","No"],["placeholder","Holiday Check","name","holidayCheck","formControlName","holidayCheck","disableOptionCentering",""],["value","Currency"],["value","Local"],["value","Clearing"],["placeholder","Move Across Month","name","opinion","formControlName","moveAcrossMonth","disableOptionCentering",""],["placeholder","Holiday Check","name","opinion","formControlName","holidayCheck","disableOptionCentering",""]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Account Services"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title",7),i.Xb(11,"fieldset"),i.Xb(12,"legend",8),i.Tc(13,"Account Services"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-title",7),i.Xb(15,"fieldset",9),i.Xb(16,"legend",10),i.Tc(17,"Statement Preferences"),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"form",11),i.Xb(20,"div",12),i.Xb(21,"div",13),i.Xb(22,"div",14),i.Xb(23,"mat-form-field",15),i.Xb(24,"mat-label"),i.Tc(25,"Statement Cycle*"),i.Wb(),i.Xb(26,"mat-select",16),i.Xb(27,"mat-option",17),i.Tc(28,"Select"),i.Wb(),i.Xb(29,"mat-option",18),i.Tc(30,"Monthly"),i.Wb(),i.Xb(31,"mat-option",19),i.Tc(32,"Quaterly"),i.Wb(),i.Xb(33,"mat-option",20),i.Tc(34,"Half-yearly"),i.Wb(),i.Xb(35,"mat-option",21),i.Tc(36,"Yearly"),i.Wb(),i.Wb(),i.Rc(37,at,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Xb(38,"div",14),i.Xb(39,"mat-form-field",15),i.Xb(40,"mat-label"),i.Tc(41,"Statement Type*"),i.Wb(),i.Xb(42,"mat-select",23),i.Xb(43,"mat-option",24),i.Tc(44,"Detailed"),i.Wb(),i.Xb(45,"mat-option",25),i.Tc(46,"Summary"),i.Wb(),i.Wb(),i.Rc(47,nt,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Wb(),i.Xb(48,"div",13),i.Xb(49,"div",14),i.Xb(50,"mat-form-field",15),i.Xb(51,"mat-label"),i.Tc(52,"Start Date*"),i.Wb(),i.Sb(53,"input",26),i.Xb(54,"div",27),i.Sb(55,"mat-datepicker-toggle",28),i.Sb(56,"mat-datepicker",null,29),i.Wb(),i.Rc(58,it,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(59,"mat-card-title"),i.Xb(60,"fieldset",7),i.Xb(61,"legend",10),i.Tc(62,"Statement Generation*"),i.Wb(),i.Wb(),i.Wb(),i.Xb(63,"div",12),i.Xb(64,"div",13),i.Xb(65,"div",14),i.Xb(66,"div",0),i.Xb(67,"div",30),i.Xb(68,"mat-checkbox",31),i.Tc(69,"\xa0Email "),i.Wb(),i.Tc(70,"\xa0 "),i.Wb(),i.Xb(71,"div",30),i.Xb(72,"mat-checkbox",31),i.Tc(73,"\xa0Mobile "),i.Wb(),i.Tc(74,"\xa0 "),i.Wb(),i.Xb(75,"div",30),i.Xb(76,"mat-checkbox",31),i.Tc(77,"\xa0Hard Copy "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(78,"mat-card-title",7),i.Xb(79,"fieldset",9),i.Xb(80,"legend",10),i.Tc(81,"Holiday Preferences"),i.Wb(),i.Wb(),i.Wb(),i.Xb(82,"mat-card-content"),i.Xb(83,"form",11),i.Xb(84,"div",12),i.Xb(85,"div",32),i.Xb(86,"div",33),i.Xb(87,"div",34),i.Xb(88,"div",35),i.Tc(89," Ignore Holidays ?? "),i.Xb(90,"mat-slide-toggle",36),i.fc("change",function(){return e.clickToggle1()}),i.Wb(),i.Wb(),i.Sb(91,"br"),i.Wb(),i.Wb(),i.Rc(92,rt,10,1,"div",37),i.Wb(),i.Xb(93,"div",13),i.Rc(94,st,12,1,"div",37),i.Xb(95,"div",33),i.Xb(96,"div",34),i.Xb(97,"div",35),i.Tc(98," Cascade Schedules ? "),i.Xb(99,"mat-slide-toggle",38),i.fc("change",function(){return e.clickToggle4()}),i.Wb(),i.Wb(),i.Sb(100,"br"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(101,"div",35),i.Xb(102,"mat-checkbox",39),i.Tc(103,"\xa0Same as Holiday Date? "),i.Wb(),i.Tc(104,"\xa0 "),i.Wb(),i.Wb(),i.Xb(105,"mat-card-title",7),i.Xb(106,"fieldset",9),i.Xb(107,"legend",10),i.Tc(108,"Maturity Date"),i.Wb(),i.Wb(),i.Wb(),i.Xb(109,"mat-card-content"),i.Xb(110,"form",11),i.Xb(111,"div",12),i.Xb(112,"div",32),i.Xb(113,"div",33),i.Xb(114,"div",34),i.Xb(115,"div",35),i.Tc(116," Ignore Holidays ?? "),i.Xb(117,"mat-slide-toggle",40),i.fc("change",function(){return e.clickToggle2()}),i.Wb(),i.Wb(),i.Sb(118,"br"),i.Wb(),i.Wb(),i.Rc(119,bt,10,1,"div",37),i.Wb(),i.Xb(120,"div",13),i.Rc(121,ut,12,1,"div",37),i.Xb(122,"div",33),i.Xb(123,"div",34),i.Xb(124,"div",35),i.Tc(125," Cascade Schedules ? "),i.Xb(126,"mat-slide-toggle",38),i.fc("change",function(){return e.clickToggle5()}),i.Wb(),i.Wb(),i.Sb(127,"br"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(128,"div",35),i.Xb(129,"mat-checkbox",41),i.Tc(130,"\xa0Same as Revision Schedules? "),i.Wb(),i.Tc(131,"\xa0 "),i.Wb(),i.Wb(),i.Xb(132,"mat-card-title",7),i.Xb(133,"fieldset",9),i.Xb(134,"legend",10),i.Tc(135,"Revision Schedules"),i.Wb(),i.Wb(),i.Wb(),i.Xb(136,"mat-card-content"),i.Xb(137,"form",11),i.Xb(138,"div",12),i.Xb(139,"div",32),i.Xb(140,"div",33),i.Xb(141,"div",34),i.Xb(142,"div",35),i.Tc(143," Ignore Holidays ?? "),i.Xb(144,"mat-slide-toggle",40),i.fc("change",function(){return e.clickToggle3()}),i.Wb(),i.Wb(),i.Sb(145,"br"),i.Wb(),i.Wb(),i.Rc(146,pt,10,1,"div",37),i.Wb(),i.Xb(147,"div",13),i.Rc(148,gt,12,1,"div",37),i.Xb(149,"div",33),i.Xb(150,"div",34),i.Xb(151,"div",35),i.Tc(152," Cascade Schedules ? "),i.Xb(153,"mat-slide-toggle",38),i.fc("change",function(){return e.clickToggle6()}),i.Wb(),i.Wb(),i.Sb(154,"br"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(155,"div",42),i.Xb(156,"button",43),i.fc("click",function(){return e.goBack()}),i.Tc(157,"Back"),i.Wb(),i.Xb(158,"button",44),i.fc("click",function(){return e.submit()}),i.Tc(159," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(57);i.Eb(3),i.rc("src","assets/images/svg/accountService.svg",i.Jc),i.Eb(16),i.rc("formGroup",e.statementPreferencesForm),i.Eb(18),i.rc("ngIf",!e.statementPreferencesForm.get("statementCycle").valid&&e.statementPreferencesForm.get("statementCycle").touched),i.Eb(10),i.rc("ngIf",!e.statementPreferencesForm.get("statementType").valid&&e.statementPreferencesForm.get("statementType").touched),i.Eb(6),i.rc("min",e.lastData)("matDatepicker",t),i.Eb(2),i.rc("for",t),i.Eb(3),i.rc("ngIf",!e.statementPreferencesForm.get("startDate").valid&&e.statementPreferencesForm.get("startDate").touched),i.Eb(25),i.rc("formGroup",e.holidayPreferenceForm),i.Eb(9),i.rc("ngIf",e.flag1),i.Eb(2),i.rc("ngIf",e.flag1),i.Eb(16),i.rc("formGroup",e.maturityForm),i.Eb(9),i.rc("ngIf",e.flag2),i.Eb(2),i.rc("ngIf",e.flag2),i.Eb(16),i.rc("formGroup",e.revisionForm),i.Eb(9),i.rc("ngIf",e.flag3),i.Eb(2),i.rc("ngIf",e.flag3),i.Eb(10),i.rc("disabled",!e.statementPreferencesForm.valid)}},directives:[r.e,r.b,c.a,c.h,c.d,V.A,V.s,V.j,r.f,s.c,s.g,q.a,V.r,V.i,B.n,n.n,z.b,V.c,Q.e,Q.g,s.j,Q.d,tt.a,et.a,r.d,l.b,s.b,s.f],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{width:100px}.full-width2[_ngcontent-%COMP%]{width:335px}.inputCard[_ngcontent-%COMP%]{width:100%;height:25px}.inputMatcard[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px;width:300px}.inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;margin-top:10px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:20%;margin-left:-1%}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-hint[_ngcontent-%COMP%]{font-family:Manrope}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}mat-slide-toggle[_ngcontent-%COMP%]{margin-top:5%}.spanDiv1[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1%;margin-top:2%}.span[_ngcontent-%COMP%]{font-weight:600;width:30%!important;margin-bottom:18px;margin-left:23px}.span.marginL-0[_ngcontent-%COMP%]{margin-left:0}.divider[_ngcontent-%COMP%]{position:relative!important;width:100%!important;margin-top:10px;opacity:.35}.divider.marginL-0[_ngcontent-%COMP%]{margin-left:0!important}#select[_ngcontent-%COMP%]{height:48px}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.datechange[_ngcontent-%COMP%]{height:10px;margin-right:10px}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:5%}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}.headingName[_ngcontent-%COMP%]{font-size:14px}.marginTop[_ngcontent-%COMP%]{margin-top:2%}.dataChange[_ngcontent-%COMP%]{height:48px;margin-left:0!important}.alignChange[_ngcontent-%COMP%]{margin-left:0!important;margin-top:2%}.sqInput1[_ngcontent-%COMP%]{width:32%;margin-left:.5%;height:47px}"]}),t})();function vt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"tr",18),i.Vb(1,19),i.Xb(2,"td"),i.Xb(3,"mat-card",20),i.Sb(4,"input",21),i.Wb(),i.Wb(),i.Xb(5,"td"),i.Xb(6,"mat-card",20),i.Xb(7,"span"),i.Tc(8,"\u20b9"),i.Wb(),i.Sb(9,"input",22),i.Wb(),i.Wb(),i.Xb(10,"td"),i.Xb(11,"div",23),i.Xb(12,"mat-checkbox",24),i.fc("change",function(e){return i.Hc(t),i.jc(2).checkbox(e)}),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(1),i.rc("formGroup",t)}}function Wt(t,e){if(1&t&&(i.Xb(0,"form",12),i.Xb(1,"mat-card-title"),i.Xb(2,"fieldset"),i.Xb(3,"legend",13),i.Tc(4,"Charge Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(5,"table",14),i.Xb(6,"thead",15),i.Xb(7,"tr",16),i.Xb(8,"th"),i.Tc(9,"Interest Type"),i.Wb(),i.Xb(10,"th"),i.Tc(11,"Amount"),i.Wb(),i.Xb(12,"th"),i.Tc(13,"waiver"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"tbody"),i.Rc(15,vt,13,1,"tr",17),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.interestForm),i.Eb(15),i.rc("ngForOf",t.in.controls)}}let Xt=(()=>{class t{constructor(t,e,a,n,i,o){this.accountService=t,this.snack=e,this.ls=a,this.api=n,this.router=i,this.formBuilder=o,this.accountType="Home Loan"}ngOnInit(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.accountId=this.ls.getItem("accountId"),this.interestForm=this.formBuilder.group({chargeInfo:new V.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue(t)}),setTimeout(()=>{this.api.loanCahrgeFetchById(this.loanaccountID).subscribe(t=>{console.log("resp from backend ",this.resp),this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp)})},10)}assign(t){}onChangeInterest(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],amout:["",V.z.required],waiver:[!0],loanAccountId:[this.loanaccountID],chargeDetailsId:[""]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}get f(){return this.interestForm.controls}get in(){return this.f.chargeInfo}goBack(){console.log(this.accountId),this.router.navigate(["loan/account/application-enrichment/loan-repayment"])}appendPercentage(t){console.log(t.target.value),t.target.value.length&&(1===t.target.value.length&&(t.target.value=t.target.value+"%"),t.target.value.length>1&&(t.target.value=t.target.value.slice(0,-1)+"%"))}onSubmit(t){console.log("form",t.chargeInfo),t.chargeInfo=t.chargeInfo.map(t=>Object.assign(Object.assign({},t),{loanAccountId:this.loanaccountID})),this.api.loanchargeSave(t).subscribe(t=>{this.snack.open("Charge Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next(),console.log("backend response from intrest saving",t)},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}check(t){t&&(console.log(this.snack.open),this.snack.open("chargeInfo detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}checkbox(t){console.log(t.checked)}next(){this.ls.setItem("LOAN_CHARGE_DETAILS",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/application-enrichment/account-services"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(K.a),i.Rb(h.a),i.Rb(u.a),i.Rb(p.b),i.Rb(o.h),i.Rb(V.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-charge-details"]],decls:16,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/charge_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],["visible","true"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],[1,"matCardBox"],["matInput","","formControlName","intrestType","name","account_branch","placeholder","Interest Type","readonly","",1,"input"],["type","number","matInput","","formControlName","amout","name","account_branch","placeholder","Amount",1,"input"],[1,"waiver-pos"],["formControlName","waiver","color","primary",3,"change"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Charge Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Sb(9,"div",7),i.Rc(10,Wt,16,2,"form",8),i.Xb(11,"div",9),i.Xb(12,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(13," Back "),i.Wb(),i.Xb(14,"button",11),i.fc("click",function(){return e.onSubmit(e.interestForm.value)}),i.Tc(15,"Next"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(10),i.rc("ngIf",e.interestForm),i.Eb(4),i.rc("disabled",e.interestForm.invalid))},directives:[r.e,r.b,n.n,r.d,r.f,l.b,V.A,V.s,V.j,c.h,n.m,c.a,z.b,V.c,V.r,V.i,V.v,tt.a],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px;opacity:1}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.matCardBox[_ngcontent-%COMP%]{width:130px;height:50px;margin-top:20px;display:flex}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.backButton[_ngcontent-%COMP%]{color:#5d5d5d;border-style:none}.backButton[_ngcontent-%COMP%], .spanDivider[_ngcontent-%COMP%]{letter-spacing:0;opacity:1}.spanDivider[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;color:#456efe}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDivider1[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1%;margin-top:2%}.tableRow[_ngcontent-%COMP%]{width:724px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.waiver-pos[_ngcontent-%COMP%]{text-align:center}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:5%}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;margin-top:1%;width:120%}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:5%}"]}),t})();var yt=a("3sEA");function xt(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Disbursement Mode is Required! "),i.Wb())}function Ct(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Number of Disbursement is Required!"),i.Wb())}function It(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Total Disbursement is Required!"),i.Wb())}function Ot(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Loan Amount is Required!"),i.Wb())}function At(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," First Disbursement Date is Required!"),i.Wb())}function Dt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",14),i.Xb(3,"div",13),i.Xb(4,"div",15),i.Xb(5,"div",16),i.Tc(6," Required Multiple Disbursement ?\xa0\xa0\xa0 "),i.Sb(7,"mat-slide-toggle",17),i.Wb(),i.Sb(8,"br"),i.Wb(),i.Wb(),i.Xb(9,"div",18),i.Xb(10,"mat-form-field",19),i.Xb(11,"mat-label"),i.Tc(12,"Disbursement Mode*"),i.Wb(),i.Xb(13,"mat-select",20),i.Xb(14,"mat-option",21),i.Tc(15,"Auto Disbursement"),i.Wb(),i.Xb(16,"mat-option",22),i.Tc(17,"Manual Disbursement "),i.Wb(),i.Wb(),i.Rc(18,xt,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(19,"div",18),i.Xb(20,"mat-form-field",19),i.Xb(21,"mat-label"),i.Tc(22,"Number of Disbursement*"),i.Wb(),i.Xb(23,"input",24),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(24,Ct,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(25,"div",18),i.Xb(26,"mat-form-field",19),i.Xb(27,"mat-label"),i.Tc(28,"Total Disbursement*"),i.Wb(),i.Xb(29,"input",25),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(30,It,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(31,"div",26),i.Xb(32,"div",18),i.Xb(33,"mat-form-field",19),i.Xb(34,"mat-label"),i.Tc(35,"Loan Amount*"),i.Wb(),i.Sb(36,"input",27),i.Rc(37,Ot,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(38,"div",18),i.Xb(39,"mat-form-field",19),i.Xb(40,"mat-label"),i.Tc(41,"First Disbursement Date*"),i.Wb(),i.Sb(42,"input",28),i.Xb(43,"div",29),i.Sb(44,"mat-datepicker-toggle",30),i.Sb(45,"mat-datepicker",null,31),i.Wb(),i.Rc(47,At,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(46),e=i.jc();i.rc("formGroup",e.loanDisbursementForm),i.Eb(18),i.rc("ngIf",!e.loanDisbursementForm.get("disbursementMode").valid&&e.loanDisbursementForm.get("disbursementMode").touched),i.Eb(6),i.rc("ngIf",!e.loanDisbursementForm.get("numberOfDisbursement").valid&&e.loanDisbursementForm.get("numberOfDisbursement").touched),i.Eb(6),i.rc("ngIf",!e.loanDisbursementForm.get("totalDisbursement").valid&&e.loanDisbursementForm.get("totalDisbursement").touched),i.Eb(7),i.rc("ngIf",!e.loanDisbursementForm.get("loanAmount").valid&&e.loanDisbursementForm.get("loanAmount").touched),i.Eb(5),i.rc("min",e.minDate)("matDatepicker",t),i.Eb(2),i.rc("for",t),i.Eb(3),i.rc("ngIf",!e.loanDisbursementForm.get("firstDisbursementDate").valid&&e.loanDisbursementForm.get("firstDisbursementDate").touched)}}function Tt(t,e){if(1&t&&(i.Xb(0,"mat-option",38),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function St(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Customer Account is Required! "),i.Wb())}function kt(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Branch Code is Required! "),i.Wb())}function _t(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",32),i.Xb(3,"div",33),i.Xb(4,"mat-form-field",19),i.Xb(5,"mat-label"),i.Tc(6," Customer Account*"),i.Wb(),i.Xb(7,"mat-select",34),i.Rc(8,Tt,2,2,"mat-option",35),i.Wb(),i.Rc(9,St,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(10,"div",36),i.Xb(11,"div",33),i.Xb(12,"mat-form-field",19),i.Xb(13,"mat-label"),i.Tc(14,"Branch Code*"),i.Wb(),i.Xb(15,"input",37),i.fc("keypress",function(e){return i.Hc(t),i.jc().keyPressAlphanumeric(e)}),i.Wb(),i.Rc(16,kt,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.rc("formGroup",t.internalAccount),i.Eb(8),i.rc("ngForOf",t.accountNoArr),i.Eb(1),i.rc("ngIf",!t.internalAccount.get("customerAccount").valid&&t.internalAccount.get("customerAccount").touched),i.Eb(7),i.rc("ngIf",!t.internalAccount.get("branchCode").valid&&t.internalAccount.get("branchCode").touched)}}let Rt=(()=>{class t{constructor(t,e,a,n,i,o,r,c){this.loader=t,this.ls=e,this.datepipe=a,this.router=n,this.formBuilder=i,this.api=o,this.snack=r,this.accountService=c,this.maxDate=new Date,this.minDate=new Date,this.accountNoArr=[],this.showEditOption=!1}ngOnInit(){this.loanaccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountId=this.loanInfo.loanAccountId);let t=this.ls.getItem("LOAN_DISBURSEMENT_DETAIL_DONE");null!=this.loanaccountId&&t?(this.showEditOption=!0,this.getDisbursementDetails()):(this.showEditOption=!1,this.buildformGroup()),this.fetchByCif()}getDisbursementDetails(){this.loader.open(),this.api.loanDisbursementFetchById(this.loanaccountId).subscribe(t=>{this.loader.close(),this.disbursementDetails=t,this.buildformGroup(this.disbursementDetails)},t=>{this.loader.close()})}buildformGroup(t){const e=this.ls.getItem("loanAmount")||"";this.loanDisbursementForm=this.formBuilder.group({mutipleDisbursementRequired:[!t||t.mutipleDisbursementRequired],loanAccountId:this.loanaccountId,loanDisbursementId:[t?t.loanDisbursementId:""],numberOfDisbursement:[t?t.numberOfDisbursement:"",V.z.required],totalDisbursement:[t?t.totalDisbursement:"",V.z.required],loanAmount:[t?t.loanAmount:e,V.z.required],firstDisbursementDate:[t?this.datepipe.transform(t.firstDisbursementDate,"yyyy-MM-dd"):"",V.z.required],disbursementMode:[t?t.disbursementMode:"",V.z.required]}),this.internalAccount=this.formBuilder.group({customerAccount:[t?t.customerAccount:"",V.z.required],branchCode:[t?t.branchCode:"",V.z.required]})}submit(){let t=this.datepipe.transform(this.loanDisbursementForm.value.firstDisbursementDate,"yyyy-MMM-dd");this.loanDisbursementForm.value.branchCode=this.internalAccount.value.branchCode,this.loanDisbursementForm.value.customerAccount=this.internalAccount.value.customerAccount,this.loanDisbursementForm.value.firstDisbursementDate=t,this.api.loanDisbursementSave(this.loanDisbursementForm.value).subscribe(t=>{this.snack.open("Loan Disbursement Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next()},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}next(){this.ls.setItem("LOAN_DISBURSEMENT_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/application-enrichment/loan-repayment"])}goBack(){this.router.navigate(["/loan/account/application-enrichment/intrest-details"])}fetchByCif(){this.cifNumber=this.ls.getItem("cId"),this.api.fetchAccountIdByCustId(this.cifNumber).subscribe(t=>{var e;this.accountNoArr=t,this.internalAccount.get("customerAccount").setValue(null===(e=this.accountNoArr)||void 0===e?void 0:e[0]),console.log(this.internalAccount.get("customerAccount").value),this.fetchByValue()})}fetchByValue(){console.log(this.internalAccount.get("customerAccount").value),this.api.fetchByBranchCode(this.internalAccount.get("customerAccount").value).subscribe(t=>{console.log(t),this.internalAccount.get("branchCode").setValue(t.branchCode)})}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/^[a-zA-Z0-9_ ]*$/.test(e)||(t.preventDefault(),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(yt.a),i.Rb(u.a),i.Rb(n.f),i.Rb(o.h),i.Rb(V.f),i.Rb(p.b),i.Rb(h.a),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-disbursement-details"]],decls:27,vars:3,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/loanDisbursement.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["fxFlex","100",1,"pr-1"],[1,"pb-1"],["formControlName","mutipleDisbursementRequired",1,"charge"],[1,"flex-grow-2"],["appearance","outline",1,"full-width"],["placeholder","Disbursement Mode","formControlName","disbursementMode","disableOptionCentering",""],["value","Auto Disbursement"],["value","Manual Disbursement"],[4,"ngIf"],["matInput","","placeholder","Number of Disbursement","formControlName","numberOfDisbursement","name","MarketValueofAsset","autocomplete","off",1,"alignment",3,"keypress"],["matInput","","placeholder","Total Disbursement","formControlName","totalDisbursement","name","MarketValueofAsset","autocomplete","off",1,"alignment",3,"keypress"],["fxFlex","100","fxFlex.gt-xs","50",1,"padding"],["placeholder","Loan Amount","matInput","","formControlName","loanAmount","readonly","","name","MarketValueofAsset",1,"alignment"],["placeholder","DD/MM/YYYY","matInput","","name","valuationDate","formControlName","firstDisbursementDate","readonly","",1,"alignment",3,"min","matDatepicker"],["fxFlex","8%","id","toggle"],["matSuffix","",1,"date_picker",3,"for"],["appDatepicker",""],["fxFlex","100","fxFlex.gt-xs","50",2,"padding-right","5px"],[1,"flex-grow-1"],["formControlName","customerAccount","disableOptionCentering","","placeholder","Customer Account"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.gt-xs","50"],["matInput","","placeholder","Branch Code","formControlName","branchCode","name","MarketValueofAsset",1,"alignment",3,"keypress"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h2"),i.Tc(7,"Loan Disbursement Details "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title"),i.Xb(11,"fieldset"),i.Xb(12,"legend",7),i.Tc(13,"Loan Disbursement Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,Dt,48,9,"form",8),i.Wb(),i.Xb(16,"mat-card-title"),i.Xb(17,"fieldset"),i.Xb(18,"legend",7),i.Tc(19,"Internal Account"),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"mat-card-content"),i.Rc(21,_t,17,4,"form",8),i.Wb(),i.Wb(),i.Xb(22,"div",9),i.Xb(23,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(24," Back "),i.Wb(),i.Xb(25,"button",11),i.fc("click",function(){return e.submit()}),i.Tc(26," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.loanDisbursementForm),i.Eb(6),i.rc("ngIf",e.internalAccount),i.Eb(4),i.rc("disabled",!e.loanDisbursementForm.valid||!e.internalAccount.valid))},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,et.a,V.r,V.i,s.c,s.g,q.a,B.n,z.b,V.c,Q.e,Q.g,s.j,Q.d,s.b,n.m],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.padding[_ngcontent-%COMP%]{padding-top:8%}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{width:100px}.full-width2[_ngcontent-%COMP%]{width:335px}.inputCard[_ngcontent-%COMP%]{width:100%;height:25px}.inputMatcard[_ngcontent-%COMP%]{margin-top:5px;width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName[_ngcontent-%COMP%]{margin-top:15px}.inputMatName1[_ngcontent-%COMP%]{flex-grow:1;margin-top:10px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:20%;margin-left:-1%}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-hint[_ngcontent-%COMP%]{font-family:Manrope}mat-slide-toggle[_ngcontent-%COMP%]{margin-top:5%}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}#heightDate[_ngcontent-%COMP%]{height:48px!important}.select[_ngcontent-%COMP%]{height:48px}.marginTop[_ngcontent-%COMP%]{margin-top:20px}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:0}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}mat-divider.divider.mat-divider-horizontal[_ngcontent-%COMP%]{margin-top:-2%}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}.dataChange[_ngcontent-%COMP%]{height:55px!important}  .date_picker button{height:25px}"]}),t})();function Mt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",8),i.Xb(1,"h7",9),i.Tc(2,"Statement Preferences"),i.Wb(),i.Xb(3,"mat-card",10),i.Xb(4,"mat-card-content"),i.Xb(5,"div",11),i.Xb(6,"div",12),i.Xb(7,"div",13),i.Vb(8),i.Xb(9,"div",14),i.Xb(10,"mat-hint",15),i.Tc(11,"Statement Cycle"),i.Wb(),i.Sb(12,"br"),i.Xb(13,"mat-hint",16),i.Tc(14),i.Wb(),i.Wb(),i.Xb(15,"div",14),i.Xb(16,"mat-hint",15),i.Tc(17,"Statement Type"),i.Wb(),i.Sb(18,"br"),i.Xb(19,"mat-hint",16),i.Tc(20),i.Wb(),i.Wb(),i.Xb(21,"div",14),i.Xb(22,"mat-hint",15),i.Tc(23,"Start Date"),i.Wb(),i.Sb(24,"br"),i.Xb(25,"mat-hint",16),i.Tc(26),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(27,"div"),i.Xb(28,"span",17),i.Sb(29,"hr",18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"h7",9),i.Tc(31,"Holiday Preferences"),i.Wb(),i.Xb(32,"mat-card",10),i.Xb(33,"mat-card-content"),i.Xb(34,"div",11),i.Xb(35,"div",12),i.Xb(36,"div",13),i.Vb(37),i.Xb(38,"div",14),i.Xb(39,"mat-hint",15),i.Tc(40,"Ignore Holidays ?"),i.Wb(),i.Sb(41,"br"),i.Xb(42,"div",19),i.Sb(43,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Xb(44,"div",14),i.Xb(45,"mat-hint",15),i.Tc(46,"Holiday Check"),i.Wb(),i.Sb(47,"br"),i.Xb(48,"mat-hint",16),i.Tc(49),i.Wb(),i.Wb(),i.Xb(50,"div",14),i.Xb(51,"mat-hint",15),i.Tc(52,"Move Across Month"),i.Wb(),i.Sb(53,"br"),i.Xb(54,"mat-hint",16),i.Tc(55),i.Wb(),i.Wb(),i.Xb(56,"div",14),i.Xb(57,"mat-hint",15),i.Tc(58,"Cascade Schedules ?"),i.Wb(),i.Sb(59,"br"),i.Xb(60,"div",19),i.Sb(61,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"h7",9),i.Tc(63,"Maturity Date"),i.Wb(),i.Xb(64,"mat-card",10),i.Xb(65,"mat-card-content"),i.Xb(66,"div",11),i.Xb(67,"div",12),i.Xb(68,"div",13),i.Vb(69),i.Xb(70,"div",14),i.Xb(71,"mat-hint",15),i.Tc(72,"Ignore Holidays ?"),i.Wb(),i.Sb(73,"br"),i.Xb(74,"div",19),i.Sb(75,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Xb(76,"div",14),i.Xb(77,"mat-hint",15),i.Tc(78,"Holiday Check"),i.Wb(),i.Sb(79,"br"),i.Xb(80,"mat-hint",16),i.Tc(81),i.Wb(),i.Wb(),i.Xb(82,"div",14),i.Xb(83,"mat-hint",15),i.Tc(84,"Move Across Month"),i.Wb(),i.Sb(85,"br"),i.Xb(86,"mat-hint",16),i.Tc(87),i.Wb(),i.Wb(),i.Xb(88,"div",14),i.Xb(89,"mat-hint",15),i.Tc(90,"Cascade Schedules ?"),i.Wb(),i.Sb(91,"br"),i.Xb(92,"div",19),i.Sb(93,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(94,"h7",9),i.Tc(95,"Revision Schedules"),i.Wb(),i.Xb(96,"mat-card",10),i.Xb(97,"mat-card-content"),i.Xb(98,"div",11),i.Xb(99,"div",12),i.Xb(100,"div",13),i.Vb(101),i.Xb(102,"div",14),i.Xb(103,"mat-hint",15),i.Tc(104,"Ignore Holidays ?"),i.Wb(),i.Sb(105,"br"),i.Xb(106,"div",19),i.Sb(107,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Xb(108,"div",14),i.Xb(109,"mat-hint",15),i.Tc(110,"Holiday Check"),i.Wb(),i.Sb(111,"br"),i.Xb(112,"mat-hint",16),i.Tc(113),i.Wb(),i.Wb(),i.Xb(114,"div",14),i.Xb(115,"mat-hint",15),i.Tc(116,"Move Across Month"),i.Wb(),i.Sb(117,"br"),i.Xb(118,"mat-hint",16),i.Tc(119),i.Wb(),i.Wb(),i.Xb(120,"div",14),i.Xb(121,"mat-hint",15),i.Tc(122,"Cascade Schedules ?"),i.Wb(),i.Sb(123,"br"),i.Xb(124,"div",19),i.Sb(125,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(126,"p",21),i.fc("click",function(){return i.Hc(t),i.jc().goToEdit()}),i.Tc(127,"Edit"),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(14),i.Uc(t.resp.statementCycle),i.Eb(6),i.Vc("",t.resp.statementType," "),i.Eb(6),i.Vc("",t.resp.startDate," "),i.Eb(17),i.rc("checked",t.ignoreHolidayVarHoliday),i.Eb(6),i.Uc(t.holiday.holidayCheck),i.Eb(6),i.Uc(t.holiday.moveAcrossMonth),i.Eb(6),i.rc("checked",t.cascadeVarHoliday),i.Eb(14),i.rc("checked",t.ignoreHolidayVarMaturity),i.Eb(6),i.Uc(t.maturity.holidayCheck),i.Eb(6),i.Uc(t.maturity.moveAcrossMonth),i.Eb(6),i.rc("checked",t.cascadeVarMaturity),i.Eb(14),i.rc("checked",t.ignoreHolidayVarRevison),i.Eb(6),i.Uc(t.revision.holidayCheck),i.Eb(6),i.Uc(t.revision.moveAcrossMonth),i.Eb(6),i.rc("checked",t.cascadeVarRevison)}}let Et=(()=>{class t{constructor(t,e,a,n){this.dialogRef=t,this.router=e,this.api=a,this.ls=n}ngOnInit(){this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(()=>{this.api.AccountServicesFetchById(this.loanAccountId).subscribe(t=>{console.log("resp from backend ",t),t&&(this.resp=t,this.maturity=t.serviceDetails.find(t=>"Maturity"===t.serviceName),this.revision=t.serviceDetails.find(t=>"Revision"===t.serviceName),this.holiday=t.serviceDetails.find(t=>"Holiday Preference"===t.serviceName),this.cascadeVarMaturity=this.maturity.cascadeSchedules,this.cascadeVarRevison=this.revision.cascadeSchedules,this.cascadeVarHoliday=this.holiday.cascadeSchedules,this.ignoreHolidayVarMaturity=this.maturity.cascadeSchedules,this.ignoreHolidayVarRevison=this.revision.cascadeSchedules,this.ignoreHolidayVarHoliday=this.holiday.cascadeSchedules)})},10)}goToClose(){this.dialogRef.close()}goToEdit(){this.dialogRef.close(),this.router.navigate(["/loan/account/application-enrichment/account-services"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(g.g),i.Rb(o.h),i.Rb(p.b),i.Rb(u.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-account-service-summary"]],decls:10,vars:1,consts:[[1,"full-width",2,"height","auto"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],[1,"spanDiv1"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%",4,"ngIf"],["fxFlex","100%"],["fxLayout","row"],[1,"chequecard"],[1,"full-width"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","25%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["layout","row"],["flex","",1,"line"],[1,"toggle"],[3,"checked"],[1,"editButton",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"mat-icon",2),i.fc("click",function(){return e.goToClose()}),i.Tc(3,"close"),i.Wb(),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"span",4),i.Tc(6,"Account Services Summary "),i.Wb(),i.Wb(),i.Xb(7,"div",5),i.Xb(8,"div",6),i.Rc(9,Mt,128,15,"div",7),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(9),i.rc("ngIf",e.resp))},directives:[r.e,v.a,r.d,n.n,r.b,c.a,c.d,r.f,s.f,et.a],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:2%;margin-top:.3%;margin-left:15px}h7[_ngcontent-%COMP%]{margin-left:20px}.para[_ngcontent-%COMP%], h7[_ngcontent-%COMP%]{font-family:Montserrat}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:1000px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:auto;margin:auto}.chequecard[_ngcontent-%COMP%]{width:700px;height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),t})();function Pt(t,e){if(1&t&&(i.Xb(0,"tr",14),i.Xb(1,"div",15),i.Vb(2,11),i.Xb(3,"div",16),i.Sb(4,"input",17),i.Wb(),i.Xb(5,"td"),i.Xb(6,"mat-card",18),i.Xb(7,"mat-label",19),i.Tc(8,"Amount"),i.Wb(),i.Sb(9,"input",20),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(2),i.rc("formGroup",t)}}function Nt(t,e){if(1&t&&(i.Xb(0,"form",11),i.Xb(1,"table",12),i.Xb(2,"tbody"),i.Rc(3,Pt,10,1,"tr",13),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.chargeFormIT),i.Eb(3),i.rc("ngForOf",t.in.controls)}}let wt=(()=>{class t{constructor(t,e,a,n,i,o){this.snack=t,this.dialogRef=e,this.ls=a,this.api=n,this.router=i,this.formBuilder=o,this.accountType="Home Loan"}ngOnInit(){this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),this.chargeFormIT=this.formBuilder.group({chargeIT:new V.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue(t)}),setTimeout(()=>{this.api.loanCahrgeFetchById(this.loanAccountId).subscribe(t=>{console.log("resp from backend ",this.resp),this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp)})},10)}onChangeInterest(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],amout:[""],waiver:[!1],accountId:[""],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}get f(){return this.chargeFormIT.controls}get in(){return this.f.chargeIT}goBack(){this.router.navigate(["/home/application/enrichment/list"])}onSubmit(t){}edit(){this.dialogRef.close(),this.router.navigate(["/loan/account/application-enrichment/charge-details"])}check(t){t&&(console.log(this.snack.open),this.snack.open("charge detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}_keyPress(t){let e=String.fromCharCode(t.charCode);/[a-zA-Z]/.test(e)||t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(h.a),i.Rb(g.g),i.Rb(u.a),i.Rb(p.b),i.Rb(o.h),i.Rb(V.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-charge-details-summary"]],decls:14,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","chargeTable",4,"ngFor","ngForOf"],[1,"chargeTable"],[1,"chargeLeft"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","amout","name","account_branch","readonly","",1,"input"]],template:function(t,e){1&t&&(i.Xb(0,"mat-card",0),i.Xb(1,"button",1),i.Xb(2,"mat-icon",2),i.Tc(3,"close"),i.Wb(),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"span",4),i.Tc(6,"Charge Details Summary "),i.Wb(),i.Wb(),i.Xb(7,"div",5),i.Sb(8,"div",6),i.Xb(9,"div",7),i.Sb(10,"div",8),i.Rc(11,Nt,4,2,"form",9),i.Wb(),i.Wb(),i.Xb(12,"span",10),i.fc("click",function(){return e.edit()}),i.Tc(13,"Edit"),i.Wb(),i.Wb()),2&t&&(i.Eb(11),i.rc("ngIf",e.chargeFormIT))},directives:[c.a,l.b,g.d,v.a,r.e,r.b,n.n,V.A,V.s,V.j,n.m,z.b,V.c,V.r,V.i,s.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px;width:400px}.mainDiv[_ngcontent-%COMP%]{padding:5px}.paraFont[_ngcontent-%COMP%]{font-family:Montserrat;font-size:20px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1;width:400px}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:15px;font-weight:600;width:70%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}"]}),t})(),Ft=(()=>{class t{constructor(t,e,a,n){this.ls=t,this.api=e,this.dialogRef=a,this.router=n}ngOnInit(){this.loanaccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountId=this.loanInfo.loanAccountId),setTimeout(()=>{this.api.loanDisbursementFetchById(this.loanaccountId).subscribe(t=>{this.resp=t,this.CheckboxVar=t.mutipleDisbursementRequired})},10)}goToClose(){this.dialogRef.close()}goToEdit(){this.dialogRef.close(),this.router.navigate(["/loan/account/application-enrichment/loan-disbursement"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(u.a),i.Rb(p.b),i.Rb(g.g),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-disbursement-summary"]],decls:87,vars:8,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"toggle"],[3,"checked"],[1,"valueText"],["layout","row"],["flex","",1,"line"],[1,"editButton",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"mat-icon",2),i.fc("click",function(){return e.goToClose()}),i.Tc(3,"close"),i.Wb(),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"div",4),i.Xb(6,"h4",5),i.Tc(7,"Loan Disbursement Details Summary "),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"div",7),i.Xb(10,"h7",4),i.Tc(11,"Loan Disbursement Details"),i.Wb(),i.Xb(12,"mat-card",8),i.Xb(13,"mat-card-content"),i.Xb(14,"div",0),i.Xb(15,"div",9),i.Xb(16,"div",10),i.Vb(17),i.Xb(18,"div",11),i.Xb(19,"mat-hint",12),i.Tc(20,"Required Multiple Disbursement ?"),i.Wb(),i.Sb(21,"br"),i.Xb(22,"div",13),i.Sb(23,"mat-slide-toggle",14),i.Wb(),i.Wb(),i.Xb(24,"div",11),i.Xb(25,"mat-hint",12),i.Tc(26,"Loan Amount"),i.Wb(),i.Sb(27,"br"),i.Xb(28,"mat-hint",15),i.Tc(29),i.Wb(),i.Wb(),i.Xb(30,"div",11),i.Xb(31,"mat-hint",12),i.Tc(32,"Number of Disbursement "),i.Wb(),i.Sb(33,"br"),i.Xb(34,"mat-hint",15),i.Tc(35),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(36,"div"),i.Xb(37,"span",16),i.Sb(38,"hr",17),i.Wb(),i.Wb(),i.Xb(39,"div",10),i.Vb(40),i.Xb(41,"div",11),i.Xb(42,"mat-hint",12),i.Tc(43,"First Disbursement Date"),i.Wb(),i.Sb(44,"br"),i.Xb(45,"mat-hint",15),i.Tc(46),i.Wb(),i.Wb(),i.Xb(47,"div",11),i.Xb(48,"mat-hint",12),i.Tc(49,"Total Disbursement"),i.Wb(),i.Sb(50,"br"),i.Xb(51,"mat-hint",15),i.Tc(52),i.Wb(),i.Wb(),i.Xb(53,"div",11),i.Xb(54,"mat-hint",12),i.Tc(55,"Disbursement Mode"),i.Wb(),i.Sb(56,"br"),i.Xb(57,"mat-hint",15),i.Tc(58),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(59,"div"),i.Xb(60,"span",16),i.Sb(61,"hr",17),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"h7",4),i.Tc(63,"Internal Account"),i.Wb(),i.Xb(64,"mat-card",8),i.Xb(65,"mat-card-content"),i.Xb(66,"div",0),i.Xb(67,"div",9),i.Xb(68,"div",10),i.Vb(69),i.Xb(70,"div",11),i.Xb(71,"mat-hint",12),i.Tc(72,"Customer Account"),i.Wb(),i.Sb(73,"br"),i.Xb(74,"mat-hint",15),i.Tc(75),i.Wb(),i.Wb(),i.Xb(76,"div",11),i.Xb(77,"mat-hint",12),i.Tc(78,"Branch Code"),i.Wb(),i.Sb(79,"br"),i.Xb(80,"mat-hint",15),i.Tc(81),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(82,"div"),i.Xb(83,"span",16),i.Sb(84,"hr",17),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(85,"p",18),i.fc("click",function(){return e.goToEdit()}),i.Tc(86,"Edit"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(23),i.rc("checked",e.CheckboxVar),i.Eb(6),i.Uc(e.resp.loanAmount),i.Eb(6),i.Vc("",e.resp.numberOfDisbursement," "),i.Eb(11),i.Vc("",e.resp.firstDisbursementDate," "),i.Eb(6),i.Uc(e.resp.totalDisbursement),i.Eb(6),i.Vc("",e.resp.disbursementMode," "),i.Eb(17),i.Uc(e.resp.customerAccount),i.Eb(6),i.Uc(e.resp.branchCode))},directives:[r.e,v.a,r.d,r.b,c.a,c.d,r.f,s.f,et.a],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:1000px;height:250px;border:1px solid #e4e4e4;padding:10px}h7[_ngcontent-%COMP%]{margin-left:20px}.paraFont[_ngcontent-%COMP%], h7[_ngcontent-%COMP%]{font-family:Montserrat}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-size:16px;margin-bottom:2%}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{width:700px;height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),t})();function Lt(t,e){1&t&&(i.Xb(0,"tr",15),i.Xb(1,"div",16),i.Vb(2),i.Xb(3,"div",17),i.Sb(4,"input",18),i.Wb(),i.Xb(5,"td"),i.Xb(6,"mat-card",19),i.Xb(7,"mat-label",20),i.Tc(8,"Interest Rate Applicable"),i.Wb(),i.Sb(9,"input",21),i.Wb(),i.Wb(),i.Xb(10,"td"),i.Xb(11,"mat-card",19),i.Xb(12,"mat-label",20),i.Tc(13,"Margin in %"),i.Wb(),i.Sb(14,"input",22),i.Wb(),i.Wb(),i.Xb(15,"td"),i.Xb(16,"mat-card",19),i.Xb(17,"mat-label",20),i.Tc(18,"Effective Rate %"),i.Wb(),i.Sb(19,"input",23),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb()),2&t&&i.rc("formGroup",e.$implicit)}function Vt(t,e){if(1&t&&(i.Xb(0,"form",12),i.Xb(1,"table",13),i.Xb(2,"tbody"),i.Rc(3,Lt,20,1,"tr",14),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.interestForm),i.Eb(3),i.rc("ngForOf",t.in.controls)}}let zt=(()=>{class t{constructor(t,e,a,n,i,o){this.ls=t,this.snack=e,this.dialogRef=a,this.api=n,this.router=i,this.formBuilder=o}ngOnInit(){this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),this.interestForm=this.formBuilder.group({interest:new V.d([])}),this.savingForm=this.formBuilder.group({saving:new V.d([])}),this.loanForm=this.formBuilder.group({loan:new V.d([])}),setTimeout(()=>{this.api.loanInterestFetchById(this.loanAccountId).subscribe(t=>{console.log("resp from backend ",this.resp),this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp)})},10)}assignAccountType(t){this.accountType=t}onChangeInterest(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],accountId:[this.accountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}onChangeSaving(t){const e=t||0;if(this.is.length<e)for(let a=this.is.length;a<e;a++)this.is.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],accountId:[this.accountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let a=this.is.length;a>=e;a--)this.is.removeAt(a)}onChangeLoan(t){const e=t||0;if(this.iloan.length<e)for(let a=this.iloan.length;a<e;a++)this.iloan.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],accountId:[this.accountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let a=this.iloan.length;a>=e;a--)this.iloan.removeAt(a)}get f(){return this.interestForm.controls}get in(){return this.f.interest}get fs(){return this.savingForm.controls}get is(){return this.fs.saving}get floan(){return this.loanForm.controls}get iloan(){return this.floan.loan}goBack(){this.router.navigate(["/loan/account/application-enrichment"])}onSubmit(t){}edit(){this.dialogRef.close(),this.api.setFlag({flag:!0}),this.router.navigate(["/loan/account/application-enrichment/intrest-details"])}check(t){t&&(console.log(this.snack.open),this.snack.open("Intrest detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(u.a),i.Rb(h.a),i.Rb(g.g),i.Rb(p.b),i.Rb(o.h),i.Rb(V.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-interest-summary"]],decls:15,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"span"],[1,"divider"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","form",3,"formGroup",4,"ngFor","ngForOf"],[1,"form",3,"formGroup"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","marginIn","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"]],template:function(t,e){1&t&&(i.Xb(0,"mat-card",0),i.Xb(1,"button",1),i.Xb(2,"mat-icon",2),i.Tc(3,"close"),i.Wb(),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"span",4),i.Tc(6,"Interest Details "),i.Wb(),i.Sb(7,"mat-divider",5),i.Wb(),i.Xb(8,"div",6),i.Sb(9,"div",7),i.Xb(10,"div",8),i.Sb(11,"div",9),i.Rc(12,Vt,4,2,"form",10),i.Wb(),i.Wb(),i.Xb(13,"span",11),i.fc("click",function(){return e.edit()}),i.Tc(14,"Edit"),i.Wb(),i.Wb()),2&t&&(i.Eb(12),i.rc("ngIf",e.interestForm))},directives:[c.a,l.b,g.d,v.a,x.a,r.e,r.b,n.n,V.A,V.s,V.j,n.m,z.b,V.c,V.r,V.i,s.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.tableRow[_ngcontent-%COMP%]{width:724px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.mainDiv[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:25%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}"]}),t})();function qt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",8),i.Xb(1,"h7",4),i.Tc(2,"Loan Repayment Details"),i.Wb(),i.Xb(3,"mat-card",9),i.Xb(4,"mat-card-content"),i.Xb(5,"div",0),i.Xb(6,"div",10),i.Xb(7,"div",11),i.Vb(8),i.Xb(9,"div",12),i.Xb(10,"mat-hint",13),i.Tc(11,"Type of Repayment"),i.Wb(),i.Sb(12,"br"),i.Xb(13,"mat-hint",14),i.Tc(14),i.Wb(),i.Wb(),i.Xb(15,"div",12),i.Xb(16,"mat-hint",13),i.Tc(17,"Repayment Frequency"),i.Wb(),i.Sb(18,"br"),i.Xb(19,"mat-hint",14),i.Tc(20),i.Wb(),i.Wb(),i.Xb(21,"div",12),i.Xb(22,"mat-hint",13),i.Tc(23,"First Repayment Date"),i.Wb(),i.Sb(24,"br"),i.Xb(25,"mat-hint",14),i.Tc(26),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(27,"div"),i.Xb(28,"span",15),i.Sb(29,"hr",16),i.Wb(),i.Wb(),i.Xb(30,"div",11),i.Vb(31),i.Xb(32,"div",12),i.Xb(33,"mat-hint",13),i.Tc(34,"Loan Tenure"),i.Wb(),i.Sb(35,"br"),i.Xb(36,"mat-hint",14),i.Tc(37),i.Wb(),i.Wb(),i.Xb(38,"div",12),i.Xb(39,"mat-hint",13),i.Tc(40,"Maturity Date"),i.Wb(),i.Sb(41,"br"),i.Xb(42,"mat-hint",14),i.Tc(43),i.Wb(),i.Wb(),i.Xb(44,"div",12),i.Xb(45,"mat-hint",13),i.Tc(46,"Repayment Mode"),i.Wb(),i.Sb(47,"br"),i.Xb(48,"mat-hint",14),i.Tc(49),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(50,"div"),i.Xb(51,"span",15),i.Sb(52,"hr",16),i.Wb(),i.Wb(),i.Xb(53,"div",11),i.Vb(54),i.Xb(55,"div",12),i.Xb(56,"mat-hint",13),i.Tc(57,"Moratorium Period ( in months)"),i.Wb(),i.Sb(58,"br"),i.Xb(59,"mat-hint",14),i.Tc(60),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(61,"h7",4),i.Tc(62,"Internal Account"),i.Wb(),i.Xb(63,"mat-card",9),i.Xb(64,"mat-card-content"),i.Xb(65,"div",0),i.Xb(66,"div",10),i.Xb(67,"div",11),i.Vb(68),i.Xb(69,"div",12),i.Xb(70,"mat-hint",13),i.Tc(71,"Customer Account"),i.Wb(),i.Sb(72,"br"),i.Xb(73,"mat-hint",14),i.Tc(74),i.Wb(),i.Wb(),i.Xb(75,"div",12),i.Xb(76,"mat-hint",13),i.Tc(77,"Branch Code"),i.Wb(),i.Sb(78,"br"),i.Xb(79,"mat-hint",14),i.Tc(80),i.Wb(),i.Wb(),i.Xb(81,"div",12),i.Xb(82,"mat-hint",13),i.Tc(83,"Bank Name"),i.Wb(),i.Sb(84,"br"),i.Xb(85,"mat-hint",14),i.Tc(86),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(87,"div"),i.Xb(88,"span",15),i.Sb(89,"hr",16),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(90,"p",17),i.fc("click",function(){return i.Hc(t),i.jc().goToEdit()}),i.Tc(91,"Edit"),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(14),i.Uc(t.resp.typeOfRepayment),i.Eb(6),i.Vc("",t.resp.repaymentFrequency," "),i.Eb(6),i.Vc("",t.resp.firstRepaymentDate," "),i.Eb(11),i.Vc("",t.resp.loanTenure," "),i.Eb(6),i.Uc(t.resp.maturityDate),i.Eb(6),i.Vc("",t.resp.repaymentMode," "),i.Eb(11),i.Vc("",t.resp.moraturioumPeriod," "),i.Eb(14),i.Uc(t.resp.customerAccount),i.Eb(6),i.Uc(t.resp.branchCode),i.Eb(6),i.Uc(t.resp.bankName)}}let Bt=(()=>{class t{constructor(t,e,a,n){this.ls=t,this.dialogRef=e,this.api=a,this.router=n}ngOnInit(){this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(()=>{this.api.loanRepaymentFetchById(this.loanAccountId).subscribe(t=>{this.resp=t,console.log(this.resp)})},10)}goToClose(){this.dialogRef.close()}goToEdit(){this.dialogRef.close(),this.router.navigate(["/loan/account/application-enrichment/loan-repayment/"+this.loanAccountId])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(u.a),i.Rb(g.g),i.Rb(p.b),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-repayment-summary"]],decls:10,vars:1,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%",4,"ngIf"],["fxFlex","100%"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["layout","row"],["flex","",1,"line"],[1,"editButton",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"mat-icon",2),i.fc("click",function(){return e.goToClose()}),i.Tc(3,"close"),i.Wb(),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"div",4),i.Xb(6,"h4",5),i.Tc(7,"Loan Repayment Details Summary"),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Rc(9,qt,92,10,"div",7),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(9),i.rc("ngIf",e.resp))},directives:[r.e,v.a,r.d,n.n,r.b,c.a,c.d,r.f,s.f],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:1000px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px;margin-bottom:2%}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{width:700px;height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}h7[_ngcontent-%COMP%]{margin-left:20px;font-family:Montserrat}"]}),t})();var jt=a("ura0");const Ut=function(){return{y:"50px",delay:"300ms"}},Ht=function(t){return{value:"*",params:t}};function Gt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",23),i.Xb(1,"mat-card"),i.Xb(2,"div",24),i.Xb(3,"div",25),i.Xb(4,"mat-icon",26),i.Tc(5,"check_circle"),i.Wb(),i.Wb(),i.Xb(6,"div",27),i.Xb(7,"h6"),i.Tc(8,"Application Enrichment Completed"),i.Wb(),i.Wb(),i.Sb(9,"span",28),i.Xb(10,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().navigate()}),i.Tc(11,"View Summary"),i.Wb(),i.Wb(),i.Wb(),i.Wb()}2&t&&(i.Eb(1),i.rc("@animate",i.xc(2,Ht,i.wc(1,Ut))))}function Yt(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().goToLoanInterest()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const $t=function(){return["/loan/account/application-enrichment/intrest-details"]};function Qt(t,e){1&t&&(i.Vb(0),i.Xb(1,"button",30),i.Tc(2," Add Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()),2&t&&(i.Eb(1),i.rc("routerLink",i.wc(1,$t)))}function Zt(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().goToLoanDisbursement()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const Jt=function(){return["/loan/account/application-enrichment/loan-disbursement"]};function Kt(t,e){if(1&t&&(i.Xb(0,"button",31),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,Jt))("disabled",!t.loanInterestDetailsScreen)}}function te(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().goToLoanRepayment()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const ee=function(){return["/loan/account/application-enrichment/loan-repayment"]};function ae(t,e){if(1&t&&(i.Xb(0,"button",31),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,ee))("disabled",!t.loanDisbursementDetailsScreen)}}function ne(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().goChargeSummary()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const ie=function(){return["/loan/account/application-enrichment/charge-details"]};function oe(t,e){if(1&t&&(i.Xb(0,"button",31),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,ie))("disabled",!t.loanRepaymentDetailsScreen)}}function re(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().goToAccountSummary()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const ce=function(){return["/loan/account/application-enrichment/account-services"]};function se(t,e){if(1&t&&(i.Xb(0,"button",31),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,ce))("disabled",!t.loanChargeDetailsScreen)}}const le=function(t){return{"border-size":t}};let be=(()=>{class t{constructor(t,e,a){this.router=t,this.dialog=e,this.ls=a,this.loanInterestDetailsScreen=!1,this.loanDisbursementDetailsScreen=!1,this.loanRepaymentDetailsScreen=!1,this.loanChargeDetailsScreen=!1,this.loanAccountServicesScreen=!1,this.isLoanApplicationEnrichementDone=!1}ngOnInit(){this.loanInterestDetailsScreen=this.ls.getItem("LOAN_INTERST_DETAIL_DONE"),this.loanDisbursementDetailsScreen=this.ls.getItem("LOAN_DISBURSEMENT_DETAIL_DONE"),this.loanRepaymentDetailsScreen=this.ls.getItem("LOAN_REPAYMENT_DETAIL_DONE"),this.loanChargeDetailsScreen=this.ls.getItem("LOAN_CHARGE_DETAILS"),this.loanAccountServicesScreen=this.ls.getItem("LOAN_ACCOUNT_SERVICES_DONE"),this.loanInterestDetailsScreen&&this.loanDisbursementDetailsScreen&&this.loanRepaymentDetailsScreen&&this.loanChargeDetailsScreen&&this.loanAccountServicesScreen&&(this.isLoanApplicationEnrichementDone=!0)}goToLoanInterest(){this.dialog.open(zt,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}goToLoanDisbursement(){this.dialog.open(Ft,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}goToLoanRepayment(){this.dialog.open(Bt,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}goChargeSummary(){this.dialog.open(wt,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}goToAccountSummary(){this.dialog.open(Et,{height:"auto",data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(t=>{})}navigate(){this.router.navigate(["/loan/account/application-enrichment/Summary"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(g.b),i.Rb(u.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-enrichment"]],decls:97,vars:31,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",1,"fontStyle"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img1",3,"src"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["showLoanDetail",""],["showLoanRepayment",""],["showLoanCharge",""],["showLoanAccountService",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create Retail Loan Account"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,Gt,12,4,"div",8),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Xb(14,"mat-card",11),i.Xb(15,"mat-card-header"),i.Xb(16,"mat-card-title"),i.Tc(17,"1.Loan Interest Details"),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"div",12),i.Xb(20,"div",13),i.Xb(21,"p",14),i.Tc(22," Interest Type and Effective Interest Rate is captured. "),i.Wb(),i.Wb(),i.Xb(23,"div",15),i.Sb(24,"img",16),i.Wb(),i.Wb(),i.Wb(),i.Sb(25,"mat-divider"),i.Xb(26,"mat-card-actions"),i.Rc(27,Yt,5,0,"ng-container",17),i.Rc(28,Qt,5,2,"ng-container",17),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div",10),i.Xb(30,"mat-card",11),i.Xb(31,"mat-card-header"),i.Xb(32,"mat-card-title"),i.Tc(33,"2. Loan Disbursement Details "),i.Wb(),i.Wb(),i.Xb(34,"mat-card-content"),i.Xb(35,"div",12),i.Xb(36,"div",13),i.Xb(37,"p",14),i.Tc(38," Loan disbursement mode and corresponding details are captured. "),i.Wb(),i.Wb(),i.Xb(39,"div",15),i.Sb(40,"img",16),i.Wb(),i.Wb(),i.Wb(),i.Sb(41,"mat-divider"),i.Xb(42,"mat-card-actions"),i.Rc(43,Zt,5,0,"ng-container",18),i.Rc(44,Kt,4,3,"ng-template",null,19,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",10),i.Xb(47,"mat-card",11),i.Xb(48,"mat-card-header"),i.Xb(49,"mat-card-title"),i.Tc(50,"3. Loan Repayment Details"),i.Wb(),i.Wb(),i.Xb(51,"mat-card-content"),i.Xb(52,"div",12),i.Xb(53,"div",13),i.Xb(54,"p",14),i.Tc(55," All the primary information about the customer is captured. "),i.Wb(),i.Wb(),i.Xb(56,"div",15),i.Sb(57,"img",16),i.Wb(),i.Wb(),i.Wb(),i.Sb(58,"mat-divider"),i.Xb(59,"mat-card-actions"),i.Rc(60,te,5,0,"ng-container",18),i.Rc(61,ae,4,3,"ng-template",null,20,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Xb(63,"div",10),i.Xb(64,"mat-card",11),i.Xb(65,"mat-card-header"),i.Xb(66,"mat-card-title"),i.Tc(67,"4. Charge Details"),i.Wb(),i.Wb(),i.Xb(68,"mat-card-content"),i.Xb(69,"div",12),i.Xb(70,"div",13),i.Xb(71,"p",14),i.Tc(72," Charge Details are dispalyed. "),i.Wb(),i.Wb(),i.Xb(73,"div",15),i.Sb(74,"img",16),i.Wb(),i.Wb(),i.Wb(),i.Sb(75,"mat-divider"),i.Xb(76,"mat-card-actions"),i.Rc(77,ne,5,0,"ng-container",18),i.Rc(78,oe,4,3,"ng-template",null,21,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Xb(80,"div",10),i.Xb(81,"mat-card",11),i.Xb(82,"mat-card-header"),i.Xb(83,"mat-card-title"),i.Tc(84,"5.Account Services"),i.Wb(),i.Wb(),i.Xb(85,"mat-card-content"),i.Xb(86,"div",12),i.Xb(87,"div",13),i.Xb(88,"p",14),i.Tc(89,"Statement preference and the holiday preferences are captured."),i.Wb(),i.Wb(),i.Xb(90,"div",15),i.Sb(91,"img",16),i.Wb(),i.Wb(),i.Wb(),i.Sb(92,"mat-divider"),i.Xb(93,"mat-card-actions"),i.Rc(94,re,5,0,"ng-container",18),i.Rc(95,se,4,3,"ng-template",null,22,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(45),a=i.Dc(62),n=i.Dc(79),o=i.Dc(96);i.Eb(11),i.rc("ngIf",e.isLoanApplicationEnrichementDone),i.Eb(3),i.rc("ngClass",i.xc(21,le,e.loanInterestDetailsScreen||!e.loanInterestDetailsScreen)),i.Eb(10),i.rc("src","assets/images/svg/loanInterest.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.loanInterestDetailsScreen),i.Eb(1),i.rc("ngIf",!e.loanInterestDetailsScreen),i.Eb(2),i.rc("ngClass",i.xc(23,le,e.loanDisbursementDetailsScreen||!e.loanDisbursementDetailsScreen&&e.loanInterestDetailsScreen)),i.Eb(10),i.rc("src","assets/images/svg/loanDisbursement.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.loanDisbursementDetailsScreen&&e.loanInterestDetailsScreen)("ngIfElse",t),i.Eb(4),i.rc("ngClass",i.xc(25,le,e.loanRepaymentDetailsScreen||!e.loanRepaymentDetailsScreen&&e.loanDisbursementDetailsScreen)),i.Eb(10),i.rc("src","assets/images/svg/undraw_Payments_re_77x0.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.loanRepaymentDetailsScreen&&e.loanDisbursementDetailsScreen)("ngIfElse",a),i.Eb(4),i.rc("ngClass",i.xc(27,le,e.loanChargeDetailsScreen||!e.loanChargeDetailsScreen&&e.loanRepaymentDetailsScreen)),i.Eb(10),i.rc("src","assets/images/svg/charge_screen.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.loanChargeDetailsScreen&&e.loanRepaymentDetailsScreen)("ngIfElse",n),i.Eb(4),i.rc("ngClass",i.xc(29,le,e.loanAccountServicesScreen||!e.loanAccountServicesScreen&&e.loanChargeDetailsScreen)),i.Eb(10),i.rc("src","assets/images/svg/accountService.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.loanChargeDetailsScreen&&e.loanAccountServicesScreen)("ngIfElse",o)}},directives:[r.e,r.b,n.n,c.a,n.l,jt.a,c.e,c.h,c.d,r.f,r.d,x.a,c.b,v.a,l.b,o.i],styles:[".card-img1[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.text-align[_ngcontent-%COMP%]{padding-left:18px}.fontStyle[_ngcontent-%COMP%]{font-size:11px}"]}),t})();function me(t,e){if(1&t&&(i.Xb(0,"tr",19),i.Vb(1,20),i.Xb(2,"td"),i.Xb(3,"mat-card",21),i.Sb(4,"input",22),i.Wb(),i.Wb(),i.Xb(5,"td"),i.Xb(6,"mat-card",21),i.Xb(7,"div",23),i.Sb(8,"input",24),i.Wb(),i.Xb(9,"span"),i.Tc(10,"%"),i.Wb(),i.Wb(),i.Wb(),i.Xb(11,"td"),i.Xb(12,"mat-card",21),i.Xb(13,"div",23),i.Sb(14,"input",25),i.Wb(),i.Xb(15,"span"),i.Tc(16,"%"),i.Wb(),i.Wb(),i.Wb(),i.Xb(17,"td"),i.Xb(18,"mat-card",21),i.Xb(19,"div",23),i.Sb(20,"input",26),i.Wb(),i.Xb(21,"span"),i.Tc(22,"%"),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.rc("formGroup",t)}}function ue(t,e){if(1&t&&(i.Xb(0,"form",13),i.Xb(1,"mat-card-title"),i.Xb(2,"fieldset"),i.Xb(3,"legend",14),i.Tc(4,"Interest Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(5,"table",15),i.Xb(6,"thead",16),i.Xb(7,"tr",17),i.Xb(8,"th"),i.Tc(9,"Interest Type"),i.Wb(),i.Xb(10,"th"),i.Tc(11,"Interest Rate Applicable"),i.Wb(),i.Xb(12,"th"),i.Tc(13,"Margin in %"),i.Wb(),i.Xb(14,"th"),i.Tc(15,"Effective Rate %"),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"tbody"),i.Rc(17,me,23,1,"tr",18),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.interestForm),i.Eb(17),i.rc("ngForOf",t.in.controls)}}let de=(()=>{class t{constructor(t,e,a,n,i,o,r){this.accountService=t,this.snack=e,this.ls=a,this.api=n,this.router=i,this.formBuilder=o,this.loader=r,this.showEditOption=!1,this.accountType="Home Loan"}ngOnInit(){this.accountId=this.ls.getItem("accountId"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);let t=this.ls.getItem("LOAN_INTERST_DETAIL_DONE");setTimeout(()=>{null!=this.loanaccountID&&t?(this.showEditOption=!0,this.getInterestDetails()):(this.showEditOption=!1,this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(t=>{this.onChangeInterest(t.length),this.in.patchValue(t)}))},10),this.interestForm=this.formBuilder.group({interestInfo:new V.d([])})}assign(t){}getInterestDetails(){this.loader.open(),this.api.loanInterestFetchById(this.loanaccountID).subscribe(t=>{this.loader.close(),this.resp=t,this.onChangeInterest(this.resp.length),this.in.patchValue(this.resp)},t=>{this.loader.close()})}onChangeInterest(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({rateCode:["",V.z.required],intrestType:["",V.z.required],intrestRateApplicable:["",V.z.required],marginIn:["",[V.z.required,V.z.max(100),V.z.min(0)]],effectiveRate:["",[V.z.required,V.z.max(100),V.z.min(0)]],loanAccountId:[this.loanaccountID],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""],loanInterestId:[""],id:[""]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}get f(){return this.interestForm.controls}get in(){return this.f.interestInfo}goBack(){this.router.navigate(["/loan/account/application-enrichment"])}onSubmit(){this.api.loanintrestDetailsSave({interestInfo:this.interestForm.value}).subscribe(t=>{this.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next(),console.log("backend response from intrest saving",t)},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}next(){this.ls.setItem("LOAN_INTERST_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/application-enrichment/loan-disbursement"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(K.a),i.Rb(h.a),i.Rb(u.a),i.Rb(p.b),i.Rb(o.h),i.Rb(V.f),i.Rb(yt.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-intrest-details"]],decls:17,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/loanInterest.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],["visible","true"],[1,"cart-table"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],[1,"matCardBox"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],[1,"field"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","marginIn","type","number","placeholder","Margin","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"input"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Interest Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Sb(9,"div",7),i.Rc(10,ue,18,2,"form",8),i.Wb(),i.Xb(11,"div",9),i.Xb(12,"a",10),i.fc("click",function(){return e.goBack()}),i.Tc(13,"Back"),i.Wb(),i.Sb(14,"span",11),i.Xb(15,"button",12),i.fc("click",function(){return e.onSubmit()}),i.Tc(16,"Next"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(10),i.rc("ngIf",e.interestForm),i.Eb(5),i.rc("disabled",!e.interestForm))},directives:[r.e,r.b,n.n,l.a,l.b,V.A,V.s,V.j,c.h,n.m,c.a,z.b,V.c,V.r,V.i,V.v],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px;opacity:1}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.matCardBox[_ngcontent-%COMP%]{display:flex;width:110px;height:50px;margin-top:20px}.matCardBox1[_ngcontent-%COMP%]{width:110px;padding-bottom:10px;margin-top:22px;padding-top:0;height:50px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.backButton[_ngcontent-%COMP%]{letter-spacing:0;color:#5d5d5d;opacity:1;border-style:none}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDivider1[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1%;margin-top:2%}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.bgColor[_ngcontent-%COMP%]{background-color:#c3c3c3}.theadClass[_ngcontent-%COMP%]{width:136px}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.cart-table[_ngcontent-%COMP%]{width:80%}.field[_ngcontent-%COMP%]{display:flex;margin-left:50%}.mat-title[_ngcontent-%COMP%]{color:#000;font-size:150%;font-weight:600;width:50%!important;margin-left:5%;margin-bottom:2%}.divider-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:0;margin-top:5%}.mat-line-position[_ngcontent-%COMP%]{margin-top:1%;position:unset!important;width:120%;opacity:.35}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:5%}"]}),t})();function pe(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td",5),i.Tc(2),i.Wb(),i.Xb(3,"td",6),i.Tc(4),i.Wb(),i.Xb(5,"td",7),i.Tc(6),i.kc(7,"currency"),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(2),i.Uc(t.paymentNumber),i.Eb(2),i.Uc(t.paymentDate),i.Eb(2),i.Uc(i.mc(7,3,t.principalPaid," "))}}let fe=(()=>{class t{constructor(t,e,a,n,i,o){this.fb=t,this.ls=e,this.router=a,this.formBuilder=n,this.dialogRef=i,this.apiService=o}ngOnInit(){this.loanaccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountId=this.loanInfo.loanAccountId),this.scheduleStatus=JSON.parse(localStorage.getItem("fetchRescheduleData")),console.log(this.scheduleStatus),console.log(this.scheduleStatus[0].paymentDate)}close(){this.dialogRef.close(),this.router.navigateByUrl("/loan/account/application-enrichment/loan-repayment")}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(o.h),i.Rb(V.f),i.Rb(g.g),i.Rb(p.b))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-repayment-schedule"]],decls:15,vars:1,consts:[["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],[1,"table","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[1,"headingText1"],[1,"headingText2"],[1,"headingText3"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-icon",1),i.fc("click",function(){return e.close()}),i.Tc(2,"close"),i.Wb(),i.Wb(),i.Xb(3,"form"),i.Xb(4,"table",2),i.Xb(5,"thead"),i.Xb(6,"tr"),i.Xb(7,"th",3),i.Tc(8,"Payment Number"),i.Wb(),i.Xb(9,"th",3),i.Tc(10,"Payment Date"),i.Wb(),i.Xb(11,"th",3),i.Tc(12,"EMI To Be Paid"),i.Wb(),i.Wb(),i.Wb(),i.Xb(13,"tbody"),i.Rc(14,pe,8,6,"tr",4),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(14),i.rc("ngForOf",e.scheduleStatus))},directives:[r.e,v.a,V.A,V.s,V.t,n.m],pipes:[n.d],styles:[".contain[_ngcontent-%COMP%]{justify-content:flex-end}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.headingText1[_ngcontent-%COMP%]{padding-left:10%}.headingText2[_ngcontent-%COMP%], .headingText3[_ngcontent-%COMP%]{padding-right:0}"]}),t})();function ge(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Type of Repayment is Required!"),i.Wb())}function he(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," First Repayment Date is Required!"),i.Wb())}function ve(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Maturity Date is Required!"),i.Wb())}function We(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Moratorium Period is Required!"),i.Wb())}function Xe(t,e){if(1&t&&(i.Xb(0,"mat-option",41),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function ye(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Repayment Frequency is Required!"),i.Wb())}function xe(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Loan Tenure is Required!"),i.Wb())}function Ce(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",42),i.Xb(1,"div",43),i.Xb(2,"a",44),i.fc("click",function(){return i.Hc(t),i.jc(2).openPopup()}),i.Tc(3,"Show Repayment Schedule"),i.Wb(),i.Sb(4,"br"),i.Wb(),i.Wb()}if(2&t){const t=i.jc(2);i.rc("formGroup",t.loanRepaymentForm)}}function Ie(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",14),i.Xb(3,"div",15),i.Xb(4,"mat-form-field",16),i.Xb(5,"mat-label"),i.Tc(6,"Repayment Mode*"),i.Wb(),i.Xb(7,"mat-select",17),i.Xb(8,"mat-option",18),i.Tc(9,"Internal"),i.Wb(),i.Xb(10,"mat-option",19),i.Tc(11,"External"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"div",15),i.Xb(13,"mat-form-field",16),i.Xb(14,"mat-label"),i.Tc(15,"Type of Repayment*"),i.Wb(),i.Xb(16,"mat-select",20),i.Xb(17,"mat-option",21),i.Tc(18,"EMI"),i.Wb(),i.Wb(),i.Rc(19,ge,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Xb(20,"div",15),i.Xb(21,"mat-form-field",16),i.Xb(22,"mat-label"),i.Tc(23,"First Repayment Date*"),i.Wb(),i.Sb(24,"input",23),i.Xb(25,"div",24),i.Sb(26,"mat-datepicker-toggle",25),i.Sb(27,"mat-datepicker",null,26),i.Wb(),i.Rc(29,he,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Xb(30,"div",15),i.Xb(31,"mat-form-field",16),i.Xb(32,"mat-label"),i.Tc(33,"Maturity Date*"),i.Wb(),i.Sb(34,"input",27),i.Xb(35,"div",24),i.Sb(36,"mat-datepicker-toggle",25),i.Sb(37,"mat-datepicker",null,28),i.Wb(),i.Rc(39,ve,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Xb(40,"div",29),i.Xb(41,"mat-form-field",16),i.Xb(42,"mat-label"),i.Tc(43,"Moratorium Period ( in months) *"),i.Wb(),i.Sb(44,"input",30),i.Rc(45,We,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",31),i.Xb(47,"div",15),i.Xb(48,"mat-form-field",16),i.Xb(49,"mat-label"),i.Tc(50,"Repayment Frequency*"),i.Wb(),i.Xb(51,"mat-select",32),i.Rc(52,Xe,2,2,"mat-option",33),i.Wb(),i.Rc(53,ye,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Xb(54,"div",29),i.Xb(55,"div"),i.Xb(56,"div",0),i.Xb(57,"mat-hint",34),i.Xb(58,"b"),i.Tc(59,"Loan Tenure *"),i.Wb(),i.Wb(),i.Xb(60,"mat-form-field",35),i.Xb(61,"mat-label"),i.Tc(62,"Year*"),i.Wb(),i.Xb(63,"input",36),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Xb(64,"mat-form-field",37),i.Xb(65,"mat-label"),i.Tc(66,"Month*"),i.Wb(),i.Xb(67,"input",38),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress1(e)})("input",function(e){return i.Hc(t),i.jc().limitMonth(e)}),i.Wb(),i.Wb(),i.Xb(68,"mat-form-field",37),i.Xb(69,"mat-label"),i.Tc(70,"Day*"),i.Wb(),i.Xb(71,"input",39),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress1(e)})("input",function(e){return i.Hc(t),i.jc().limitDays(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(72,xe,2,0,"mat-error",22),i.Wb(),i.Rc(73,Ce,5,1,"div",40),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(28),e=i.Dc(38),a=i.jc();i.rc("formGroup",a.loanRepaymentForm),i.Eb(19),i.rc("ngIf",!a.loanRepaymentForm.get("typeOfRepayment").valid&&a.loanRepaymentForm.get("typeOfRepayment").touched),i.Eb(5),i.rc("min",a.fRepayment)("matDatepicker",t),i.Eb(2),i.rc("for",t),i.Eb(3),i.rc("ngIf",!a.loanRepaymentForm.get("firstRepaymentDate").valid&&a.loanRepaymentForm.get("firstRepaymentDate").touched),i.Eb(5),i.rc("matDatepicker",e)("max",a.getDays(a.loanRepaymentForm.get("month").value,a.loanRepaymentForm.get("year").value,a.loanRepaymentForm.get("day").value)),i.Eb(2),i.rc("for",e),i.Eb(3),i.rc("ngIf",!a.loanRepaymentForm.get("maturityDate").valid&&a.loanRepaymentForm.get("maturityDate").touched),i.Eb(6),i.rc("ngIf",!a.loanRepaymentForm.get("moraturioumPeriod").valid&&a.loanRepaymentForm.get("moraturioumPeriod").touched),i.Eb(7),i.rc("ngForOf",a.repaymentFreq),i.Eb(1),i.rc("ngIf",!a.loanRepaymentForm.get("repaymentFrequency").valid&&a.loanRepaymentForm.get("repaymentFrequency").touched),i.Eb(19),i.rc("ngIf",!a.loanRepaymentForm.get("loanTenure").valid&&a.loanRepaymentForm.get("loanTenure").touched),i.Eb(1),i.rc("ngIf",a.scheduleLink)}}function Oe(t,e){if(1&t&&(i.Xb(0,"mat-option",41),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Ae(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Customer Account Number is Required! "),i.Wb())}function De(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Please Enter Valid Customer Account number "),i.Wb())}function Te(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0 Bank Name is Required! "),i.Wb())}function Se(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0 Please Enter Valid Bank Name "),i.Wb())}function ke(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Branch Code is Required! "),i.Wb())}function _e(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Please Enter Valid Branch Code "),i.Wb())}function Re(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," IFSC Code is Required! "),i.Wb())}function Me(t,e){if(1&t&&(i.Xb(0,"div",29),i.Xb(1,"mat-hint"),i.Tc(2,"IFSC Code*"),i.Wb(),i.Xb(3,"mat-card",49),i.Sb(4,"input",50),i.Wb(),i.Rc(5,Re,2,0,"mat-error",22),i.Wb()),2&t){const t=i.jc(2);i.Eb(5),i.rc("ngIf",!t.internalAccount.get("ifscCode").valid&&t.internalAccount.get("ifscCode").touched)}}function Ee(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",14),i.Xb(3,"div",29),i.Xb(4,"mat-form-field",16),i.Xb(5,"mat-label"),i.Tc(6,"Customer Account Number*"),i.Wb(),i.Xb(7,"mat-select",45),i.Rc(8,Oe,2,2,"mat-option",33),i.Wb(),i.Rc(9,Ae,2,0,"mat-error",22),i.Rc(10,De,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Xb(11,"div",29),i.Xb(12,"mat-form-field",16),i.Xb(13,"mat-label"),i.Tc(14,"Bank Name*"),i.Wb(),i.Xb(15,"input",46),i.fc("keypress",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Rc(16,Te,2,0,"mat-error",22),i.Rc(17,Se,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"div",31),i.Xb(19,"div",29),i.Xb(20,"mat-form-field",16),i.Xb(21,"mat-label"),i.Tc(22,"Branch Code*"),i.Wb(),i.Xb(23,"input",47),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(24,ke,2,0,"mat-error",22),i.Rc(25,_e,2,0,"mat-error",22),i.Wb(),i.Wb(),i.Rc(26,Me,6,1,"div",48),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.rc("formGroup",t.internalAccount),i.Eb(8),i.rc("ngForOf",t.accountNoArr),i.Eb(1),i.rc("ngIf",t.internalAccount.get("customerAccount").hasError("required")&&t.internalAccount.get("customerAccount").touched),i.Eb(1),i.rc("ngIf",t.internalAccount.get("customerAccount").hasError("pattern")&&t.internalAccount.get("customerAccount").touched),i.Eb(6),i.rc("ngIf",t.internalAccount.get("bankName").hasError("required")&&t.internalAccount.get("bankName").touched),i.Eb(1),i.rc("ngIf",t.internalAccount.get("bankName").hasError("pattern")&&t.internalAccount.get("bankName").touched),i.Eb(7),i.rc("ngIf",t.internalAccount.get("branchCode").hasError("required")&&t.internalAccount.get("branchCode").touched),i.Eb(1),i.rc("ngIf",t.internalAccount.get("branchCode").hasError("pattern")&&t.internalAccount.get("branchCode").touched),i.Eb(1),i.rc("ngIf","external"==t.repaymentMode)}}let Pe=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s,l){this.formBuilder=t,this.datepipe=e,this.snack=a,this.api=n,this.apiService=i,this.router=o,this.ls=r,this.dialog=c,this.loader=s,this.accountService=l,this.maxDate=new Date,this.minDate=new Date,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.accountNoArr=[]}ngOnInit(){this.loanaccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountId=this.loanInfo.loanAccountId),this.selectedYear=(new Date).getFullYear();for(let e=0;e<=50;e++)this.years.push(e);for(let e=0;e<=11;e++)this.months.push(e);for(let e=0;e<=30;e++)this.days.push(e);this.getRepaymentFreqDetails("loan_repayment_frequency");let t=this.ls.getItem("LOAN_REPAYMENT_DETAIL_DONE");null!=this.loanaccountId&&t?(this.showEditOption=!0,this.getRepaymenttDetails()):(this.showEditOption=!1,this.buildAccountForm()),this.fetchByCif(),this.loanData(),this.lastUpdateByCif()}getRepaymentFreqDetails(t){this.api.getRepaymentFreq(t).subscribe(t=>{this.repaymentFreq=t,console.log(this.repaymentFreq)})}getRepaymenttDetails(){this.api.loanRepaymentFetchById(this.loanaccountId).subscribe(t=>{this.repaymentDetails=t,this.buildAccountForm(this.repaymentDetails)},t=>{this.loader.close()})}buildAccountForm(t){this.loanRepaymentForm=this.formBuilder.group({branchCode:["",V.z.required],customerAccount:["",V.z.required],bankName:["",V.z.required],firstRepaymentDate:[t?this.datepipe.transform(t.firstRepaymentDate,"yyyy-MM-dd"):"",V.z.compose([V.z.required,V.z.min(this.fRepayment)])],loanAccountId:this.loanaccountId,loanRepaymentId:[t?t.loanRepaymentId:""],loanTenure:[t?t.loanTenure:""],maturityDate:[t?new Date(t.maturityDate).toISOString().substring(0,10):"",V.z.required],moraturioumPeriod:[t?t.moraturioumPeriod:"",V.z.required],repaymentFrequency:[t?t.repaymentFrequency:"",V.z.required],repaymentMode:[t?t.repaymentMode:"",V.z.required],typeOfRepayment:[t?t.typeOfRepayment:"",V.z.required],day:[t?Number(t.loanTenure.split("-")[2].match(/\d+/)[0]):"",[V.z.required]],month:[t?Number(t.loanTenure.split("-")[1].match(/\d+/)[0]):"",[V.z.required]],year:[t?Number(t.loanTenure.split("-")[0].match(/\d+/)[0]):"",[V.z.required]]}),console.log(this.loanRepaymentForm.value),this.scheduleLink=this.formBuilder.group({firstRepaymentDate:this.loanRepaymentForm.get("firstRepaymentDate"),loanAccountId:this.loanaccountId,repaymentFrequency:this.loanRepaymentForm.get("repaymentFrequency"),loanTenure:this.loanRepaymentForm.get("loanTenure")}),this.internalAccount=this.formBuilder.group({branchCode:[t?t.branchCode:"",[V.z.required,V.z.pattern(".*[a-zA-Z0-9].*")]],customerAccount:[t?t.customerAccount:"",[V.z.required,V.z.pattern(".*[0-9].*")]],bankName:[t?t.bankName:"",[V.z.required,V.z.pattern(".*[a-zA-Z].*")]]})}getDays(t,e,a){var n=$(new Date).add(parseInt(t),"months").format("LLL"),i=$(n).add(parseInt(e),"year").format("LLL"),o=$(i).add(parseInt(a),"days").format("LLL");console.log("finalDate---\x3e",o),this.loanRepaymentForm.get("maturityDate").setValue(new Date(o))}openPopup(){console.log(this.loanRepaymentForm.value),console.log(this.internalAccount.value),console.log("payload",this.scheduleLink.value);let t=$(this.scheduleLink.value).format("YYYY-MMM-DD");console.log(t);let e={firstRepaymentDate:t,loanAccountId:this.loanaccountId,loanTenure:this.loanRepaymentForm.value.year+"month-"+this.loanRepaymentForm.value.month+"year-"+this.loanRepaymentForm.value.day+"day",repaymentFrequency:this.loanRepaymentForm.value.repaymentFrequency};console.log("payload",e),this.api.scheduleLink(e).subscribe(t=>{this.fetchRescheduleData=t,console.log(this.fetchRescheduleData),this.loanaccountId=this.ls.getItem("loanAccountId"),localStorage.setItem("fetchRescheduleData",JSON.stringify(this.fetchRescheduleData)),console.log(this.fetchRescheduleData),this.dialog.open(fe,{width:"55%",backdropClass:"dialog-bg-trans",height:"55%",disableClose:!0}).afterClosed().subscribe(t=>{console.log("The dialog was closed",t)})}),null!=t&&(t=$(this.scheduleLink.value).format("YYYY-MMM-DD"))}submit(){let t=this.datepipe.transform(this.loanRepaymentForm.value.firstRepaymentDate,"yyyy-MMM-dd"),e=this.datepipe.transform(this.loanRepaymentForm.value.maturityDate,"yyyy-MMM-dd");this.loanRepaymentForm.value.loanTenure=this.loanRepaymentForm.value.year+"month-"+this.loanRepaymentForm.value.month+"year-"+this.loanRepaymentForm.value.day+"day",this.loanRepaymentForm.value.firstRepaymentDate=t,this.loanRepaymentForm.value.maturityDate=e,this.loanRepaymentForm.value.branchCode=this.internalAccount.value.branchCode,this.loanRepaymentForm.value.customerAccount=this.internalAccount.value.customerAccount,this.loanRepaymentForm.value.bankName=this.internalAccount.value.bankName,console.log(this.loanRepaymentForm.value),this.api.loanRepaymentSave(this.loanRepaymentForm.value).subscribe(t=>{this.snack.open("Loan Repayment Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next()},t=>{this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}goBack(){this.router.navigate(["/loan/account/application-enrichment/loan-disbursement"])}convertDate(t){let e=$(t).format("YYYY-MMM-DD");if(console.log("date",e),e)return e}next(){this.ls.setItem("LOAN_REPAYMENT_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/application-enrichment/charge-details"])}_keyPress(t){32!==t.which||t.target.value.length||t.preventDefault()}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault()}limitMonth(t){Number(t.target.value)>12&&(t.target.value=t.target.value.slice(0,1))}limitDays(t){Number(t.target.value)>31&&(t.target.value=t.target.value.slice(0,1))}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}fetchByCif(){this.cifNumber=this.ls.getItem("cId"),this.api.fetchAccountIdByCustId(this.cifNumber).subscribe(t=>{var e;this.accountNoArr=t,console.log(this.accountNoArr),this.internalAccount.get("customerAccount").setValue(null===(e=this.accountNoArr)||void 0===e?void 0:e[0]),this.fetchByValue()})}fetchByValue(){console.log(this.internalAccount.get("customerAccount").value),this.api.fetchByBranchCode(this.internalAccount.get("customerAccount").value).subscribe(t=>{console.log(t),this.internalAccount.get("branchCode").setValue(t.branchCode),this.internalAccount.get("bankName").setValue(t.bankName)})}loanData(){this.apiService.fetchByLoanAccountId(this.loanaccountId).subscribe(t=>{let e=Number(t.loanTenure.split("-")[0].match(/\d+/)[0]),a=Number(t.loanTenure.split("-")[1].match(/\d+/)[0]),n=Number(t.loanTenure.split("-")[2].match(/\d+/)[0]);console.log(e),this.loanRepaymentForm.get("year").setValue(e),this.loanRepaymentForm.get("month").setValue(a),this.loanRepaymentForm.get("day").setValue(n)},t=>{console.error(t)})}lastUpdateByCif(){this.apiService.getLoanDetails(this.loanaccountId).subscribe(t=>{this.fRepayment=this.datepipe.transform(t.applicationDate,"yyyy-MM-dd")},t=>{console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(n.f),i.Rb(h.a),i.Rb(p.b),i.Rb(p.b),i.Rb(o.h),i.Rb(u.a),i.Rb(g.b),i.Rb(yt.a),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-repayment-component"]],decls:25,vars:3,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_Payments_re_77x0.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-2"],["appearance","outline",1,"full-width"],["disableOptionCentering","","placeholder","Repayment Mode","name","repaymentMode","formControlName","repaymentMode"],["value","Internal"],["value","External"],["disableOptionCentering","","placeholder","Type of Repayment","name","opinion","formControlName","typeOfRepayment"],["value","EMI"],[4,"ngIf"],["matInput","","placeholder","DD/MM/YYYY","name","firstRepaymentDate","formControlName","firstRepaymentDate","readonly","",1,"alignment",3,"min","matDatepicker"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker1",""],["placeholder","DD/MM/YYYY","matInput","","name","valuationDate","formControlName","maturityDate","readonly","",1,"alignment",3,"matDatepicker","max"],["appDatepicker",""],[1,"flex-grow-1"],["matInput","","placeholder","Moratorium Period","formControlName","moraturioumPeriod","type","number","name","MarketValueofAsset","min","0",1,"alignment"],["fxFlex","100","fxFlex.gt-xs","50"],["disableOptionCentering","","placeholder","Repayment Frequency","name","opinion","formControlName","repaymentFrequency"],[3,"value",4,"ngFor","ngForOf"],[1,"tenre"],["appearance","outline","fxFlex","22.5",1,"full-width","tenure1"],["matInput","","formControlName","year","name","year","placeholder","Year","autocomplete","off","maxlength","2",1,"alignment",3,"keypress"],["appearance","outline","fxFlex","21.5",1,"full-width","tenure1"],["matInput","","formControlName","month","name","month","placeholder","Month","autocomplete","off",1,"alignment",3,"keypress","input"],["matInput","","formControlName","day","name","day","placeholder","Day","autocomplete","off",1,"alignment",3,"keypress","input"],["fxLayout","row","fxLayoutGap","25px","class","showShedule",3,"formGroup",4,"ngIf"],[3,"value"],["fxLayout","row","fxLayoutGap","25px",1,"showShedule",3,"formGroup"],["fxFlex","100",1,"pr-1"],[1,"link",3,"routerLink","click"],["formControlName","customerAccount","disableOptionCentering","","placeholder","Customer Account"],["matInput","","placeholder","Bank Name","formControlName","bankName","type","text","name","MarketValueofAsset",1,"alignment",3,"keypress"],["matInput","","placeholder","Branch Code","formControlName","branchCode","type","text","name","MarketValueofAsset",1,"alignment",3,"keypress"],["class","flex-grow-1",4,"ngIf"],[1,"inputMatName"],["matInput","","placeholder","IFSC Code","formControlName","ifscCode","type","text","name","MarketValueofAsset",1,"alignment"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Loan Repayment Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"fieldset"),i.Xb(11,"legend",7),i.Tc(12,"Loan Repayment Details"),i.Wb(),i.Wb(),i.Xb(13,"mat-card-content"),i.Rc(14,Ie,74,15,"form",8),i.Wb(),i.Xb(15,"fieldset"),i.Xb(16,"legend",7),i.Tc(17,"Internal Account"),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Rc(19,Ee,27,9,"form",8),i.Wb(),i.Wb(),i.Xb(20,"div",9),i.Xb(21,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(22," Back "),i.Wb(),i.Xb(23,"button",11),i.fc("click",function(){return e.submit()}),i.Tc(24," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(14),i.rc("ngIf",e.loanRepaymentForm),i.Eb(5),i.rc("ngIf",e.internalAccount),i.Eb(4),i.rc("disabled",!e.loanRepaymentForm.valid&&!e.internalAccount.valid))},directives:[r.e,r.b,c.a,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,s.c,s.g,q.a,V.r,V.i,B.n,z.b,V.c,Q.e,Q.g,s.j,Q.d,V.v,n.m,s.f,V.m,s.b,o.k],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}#heightRepay[_ngcontent-%COMP%]{height:44px}.showShedule[_ngcontent-%COMP%]{margin-top:4%}.link[_ngcontent-%COMP%]{text-decoration:underline;color:#456efe;font-size:small;align-self:center}#heightDate[_ngcontent-%COMP%]{height:48px!important}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{width:100px}.full-width2[_ngcontent-%COMP%]{width:335px}.inputCard[_ngcontent-%COMP%]{width:100%;height:25px}.inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName[_ngcontent-%COMP%]{margin-top:15px}.inputMatName1[_ngcontent-%COMP%]{flex-grow:1;margin-top:10px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:30%;margin-left:-1%;height:47px}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-hint[_ngcontent-%COMP%]{font-family:Manrope}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}mat-slide-toggle[_ngcontent-%COMP%]{margin-top:5%}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:0}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%;margin-bottom:5%}#mat-line2[_ngcontent-%COMP%]{margin-top:4%;margin-left:5%;margin-bottom:3%}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:20px;margin-right:20px;margin-top:20px!important;margin-bottom:20px!important}.datechange[_ngcontent-%COMP%]{height:10px;padding:0;margin-right:10px}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.tenre[_ngcontent-%COMP%]{margin-top:19px}"]}),t})();var Ne=a("qMRc");function we(t,e){1&t&&i.Sb(0,"input",76)}function Fe(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter the Applicant Name "),i.Wb())}function Le(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Please enter the Last Update On "),i.Wb())}function Ve(t,e){if(1&t&&(i.Xb(0,"mat-option",77),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ze(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Please select the Employment Type "),i.Wb())}function qe(t,e){if(1&t&&(i.Xb(0,"mat-option",77),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Be(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Please enter the Office Name "),i.Wb())}function je(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",15),i.Xb(1,"div",16),i.Xb(2,"div"),i.Xb(3,"div",17),i.Xb(4,"div",18),i.Xb(5,"div",19),i.Xb(6,"mat-form-field",20),i.Xb(7,"mat-label"),i.Tc(8,"Applicant Name"),i.Wb(),i.Xb(9,"input",21),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Rc(10,we,1,0,"input",22),i.Rc(11,Fe,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"div",24),i.Xb(13,"div",19),i.Xb(14,"mat-form-field",20),i.Xb(15,"mat-label"),i.Tc(16,"Last Update On"),i.Wb(),i.Sb(17,"input",25),i.Sb(18,"mat-datepicker-toggle",26),i.Sb(19,"mat-datepicker",null,27),i.Wb(),i.Rc(21,Le,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"div",28),i.Xb(23,"div",18),i.Xb(24,"div",19),i.Xb(25,"mat-form-field",20),i.Xb(26,"mat-label"),i.Tc(27,"Total Income"),i.Wb(),i.Xb(28,"input",29),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div",24),i.Xb(30,"div",19),i.Xb(31,"mat-form-field",20),i.Xb(32,"mat-label"),i.Tc(33,"Total Expenses"),i.Wb(),i.Xb(34,"input",30),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div"),i.Xb(36,"mat-card-title"),i.Xb(37,"fieldset",31),i.Xb(38,"legend",7),i.Tc(39,"Basic Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(40,"div",28),i.Xb(41,"div",18),i.Xb(42,"div",19),i.Xb(43,"mat-form-field",20),i.Xb(44,"mat-label"),i.Tc(45,"Employment Type"),i.Wb(),i.Xb(46,"mat-select",32),i.Rc(47,Ve,2,2,"mat-option",33),i.Wb(),i.Rc(48,ze,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(49,"div",24),i.Xb(50,"div",19),i.Xb(51,"mat-form-field",20),i.Xb(52,"mat-label"),i.Tc(53,"Employment Category "),i.Wb(),i.Xb(54,"mat-select",34),i.Rc(55,qe,2,2,"mat-option",33),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(56,"div",18),i.Xb(57,"div",19),i.Xb(58,"mat-form-field",20),i.Xb(59,"mat-label"),i.Tc(60,"Employee Number"),i.Wb(),i.Xb(61,"input",35),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"div",24),i.Xb(63,"div",19),i.Xb(64,"mat-form-field",20),i.Xb(65,"mat-label"),i.Tc(66,"Designation "),i.Wb(),i.Xb(67,"input",36),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(68,"div",18),i.Xb(69,"div",19),i.Xb(70,"mat-form-field",20),i.Xb(71,"mat-label"),i.Tc(72,"Employment Start Date *"),i.Wb(),i.Sb(73,"input",37),i.Sb(74,"mat-datepicker-toggle",26),i.Sb(75,"mat-datepicker",null,38),i.Wb(),i.Wb(),i.Wb(),i.Xb(77,"div",24),i.Xb(78,"div",19),i.Xb(79,"mat-form-field",20),i.Xb(80,"mat-label"),i.Tc(81,"Employment End Date"),i.Wb(),i.Sb(82,"input",39),i.Sb(83,"mat-datepicker-toggle",26),i.Sb(84,"mat-datepicker",null,40),i.Wb(),i.Wb(),i.Wb(),i.Xb(86,"div",18),i.Xb(87,"div",19),i.Xb(88,"mat-form-field",20),i.Xb(89,"mat-label"),i.Tc(90,"Office Name"),i.Wb(),i.Xb(91,"input",41),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Rc(92,Be,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(93,"div"),i.Xb(94,"div"),i.Xb(95,"mat-card-title"),i.Xb(96,"fieldset",31),i.Xb(97,"legend",7),i.Tc(98,"Monthly Income"),i.Wb(),i.Wb(),i.Wb(),i.Xb(99,"div",42),i.Tc(100),i.Wb(),i.Wb(),i.Xb(101,"div",28),i.Xb(102,"div",18),i.Xb(103,"div",19),i.Xb(104,"mat-form-field",20),i.Xb(105,"mat-label"),i.Tc(106,"Bonus"),i.Wb(),i.Xb(107,"input",43),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(108,"div",24),i.Xb(109,"div",19),i.Xb(110,"mat-form-field",20),i.Xb(111,"mat-label"),i.Tc(112,"Business"),i.Wb(),i.Xb(113,"input",44),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(114,"div",18),i.Xb(115,"div",19),i.Xb(116,"mat-form-field",20),i.Xb(117,"mat-label"),i.Tc(118,"Interest Income"),i.Wb(),i.Xb(119,"input",45),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(120,"div",24),i.Xb(121,"div",19),i.Xb(122,"mat-form-field",20),i.Xb(123,"mat-label"),i.Tc(124,"Pension"),i.Wb(),i.Xb(125,"input",46),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(126,"div",18),i.Xb(127,"div",19),i.Xb(128,"mat-form-field",20),i.Xb(129,"mat-label"),i.Tc(130,"Salary"),i.Wb(),i.Xb(131,"input",47),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(132,"div",24),i.Xb(133,"div",19),i.Xb(134,"mat-form-field",20),i.Xb(135,"mat-label"),i.Tc(136,"Rentals"),i.Wb(),i.Xb(137,"input",48),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(138,"div",18),i.Xb(139,"div",19),i.Xb(140,"mat-form-field",20),i.Xb(141,"mat-label"),i.Tc(142,"Cash Gifts"),i.Wb(),i.Xb(143,"input",49),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(144,"div",24),i.Xb(145,"div",19),i.Xb(146,"mat-form-field",20),i.Xb(147,"mat-label"),i.Tc(148,"Others"),i.Wb(),i.Xb(149,"input",50),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateTotalMonthlyIncome(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(150,"div",18),i.Xb(151,"div",19),i.Xb(152,"mat-form-field",20),i.Xb(153,"mat-label"),i.Tc(154,"Total"),i.Wb(),i.Sb(155,"input",51),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(156,"div"),i.Xb(157,"mat-card-title"),i.Xb(158,"fieldset",31),i.Xb(159,"legend",7),i.Tc(160,"Monthly Expenses"),i.Wb(),i.Wb(),i.Wb(),i.Sb(161,"div",52),i.Xb(162,"div"),i.Xb(163,"div",42),i.Tc(164),i.Wb(),i.Wb(),i.Xb(165,"div",28),i.Xb(166,"div",18),i.Xb(167,"div",19),i.Xb(168,"mat-form-field",20),i.Xb(169,"mat-label"),i.Tc(170,"Household"),i.Wb(),i.Xb(171,"input",53),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(172,"div",24),i.Xb(173,"div",19),i.Xb(174,"mat-form-field",20),i.Xb(175,"mat-label"),i.Tc(176,"Medical"),i.Wb(),i.Xb(177,"input",54),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(178,"div",18),i.Xb(179,"div",19),i.Xb(180,"mat-form-field",20),i.Xb(181,"mat-label"),i.Tc(182,"Education"),i.Wb(),i.Xb(183,"input",55),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(184,"div",24),i.Xb(185,"div",19),i.Xb(186,"mat-form-field",20),i.Xb(187,"mat-label"),i.Tc(188,"Travel"),i.Wb(),i.Xb(189,"input",56),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(190,"div",18),i.Xb(191,"div",19),i.Xb(192,"mat-form-field",20),i.Xb(193,"mat-label"),i.Tc(194,"Vehicle Maintenance"),i.Wb(),i.Xb(195,"input",57),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(196,"div",24),i.Xb(197,"div",19),i.Xb(198,"mat-form-field",20),i.Xb(199,"mat-label"),i.Tc(200,"Rentals"),i.Wb(),i.Xb(201,"input",58),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(202,"div",18),i.Xb(203,"div",19),i.Xb(204,"mat-form-field",20),i.Xb(205,"mat-label"),i.Tc(206,"Others"),i.Wb(),i.Xb(207,"input",59),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateMonthlyExpenseTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(208,"div",28),i.Xb(209,"div",18),i.Xb(210,"div",19),i.Xb(211,"mat-form-field",20),i.Xb(212,"mat-label"),i.Tc(213,"Total"),i.Wb(),i.Sb(214,"input",60),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(215,"div"),i.Xb(216,"mat-card-title"),i.Xb(217,"fieldset",31),i.Xb(218,"legend",7),i.Tc(219,"Liabilitiess"),i.Wb(),i.Wb(),i.Wb(),i.Xb(220,"div"),i.Xb(221,"div",42),i.Tc(222),i.Wb(),i.Wb(),i.Xb(223,"div",28),i.Xb(224,"div",18),i.Xb(225,"div",19),i.Xb(226,"mat-form-field",20),i.Xb(227,"mat-label"),i.Tc(228,"Property Loans"),i.Wb(),i.Xb(229,"input",61),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(230,"div",24),i.Xb(231,"div",19),i.Xb(232,"mat-form-field",20),i.Xb(233,"mat-label"),i.Tc(234,"Vehicle Loans"),i.Wb(),i.Xb(235,"input",62),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(236,"div",18),i.Xb(237,"div",19),i.Xb(238,"mat-form-field",20),i.Xb(239,"mat-label"),i.Tc(240,"Personal Loans"),i.Wb(),i.Xb(241,"input",63),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(242,"div",24),i.Xb(243,"div",19),i.Xb(244,"mat-form-field",20),i.Xb(245,"mat-label"),i.Tc(246,"Cards outstandings"),i.Wb(),i.Xb(247,"input",64),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(248,"div",18),i.Xb(249,"div",19),i.Xb(250,"mat-form-field",20),i.Xb(251,"mat-label"),i.Tc(252,"Overdrafts"),i.Wb(),i.Xb(253,"input",65),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(254,"div",24),i.Xb(255,"div",19),i.Xb(256,"mat-form-field",20),i.Xb(257,"mat-label"),i.Tc(258,"Others"),i.Wb(),i.Xb(259,"input",66),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateLiabilityTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(260,"div",28),i.Xb(261,"div",18),i.Xb(262,"div",19),i.Xb(263,"mat-form-field",20),i.Xb(264,"mat-label"),i.Tc(265,"Total"),i.Wb(),i.Sb(266,"input",67),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(267,"div"),i.Xb(268,"mat-card-title"),i.Xb(269,"fieldset",31),i.Xb(270,"legend",7),i.Tc(271,"Asset"),i.Wb(),i.Wb(),i.Wb(),i.Xb(272,"div"),i.Xb(273,"div",42),i.Tc(274),i.Wb(),i.Wb(),i.Xb(275,"div",28),i.Xb(276,"div",18),i.Xb(277,"div",19),i.Xb(278,"mat-form-field",20),i.Xb(279,"mat-label"),i.Tc(280,"Savings Deposits"),i.Wb(),i.Xb(281,"input",68),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(282,"div",24),i.Xb(283,"div",19),i.Xb(284,"mat-form-field",20),i.Xb(285,"mat-label"),i.Tc(286,"Stocks/Funds"),i.Wb(),i.Xb(287,"input",69),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(288,"div",18),i.Xb(289,"div",19),i.Xb(290,"mat-form-field",20),i.Xb(291,"mat-label"),i.Tc(292,"Properties"),i.Wb(),i.Xb(293,"input",70),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(294,"div",24),i.Xb(295,"div",19),i.Xb(296,"mat-form-field",20),i.Xb(297,"mat-label"),i.Tc(298,"Automobiles"),i.Wb(),i.Xb(299,"input",71),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(300,"div",18),i.Xb(301,"div",19),i.Xb(302,"mat-form-field",20),i.Xb(303,"mat-label"),i.Tc(304,"Fixed Deposits"),i.Wb(),i.Xb(305,"input",72),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(306,"div",24),i.Xb(307,"div",19),i.Xb(308,"mat-form-field",20),i.Xb(309,"mat-label"),i.Tc(310,"Lands"),i.Wb(),i.Xb(311,"input",73),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(312,"div",18),i.Xb(313,"div",19),i.Xb(314,"mat-form-field",20),i.Xb(315,"mat-label"),i.Tc(316,"Others"),i.Wb(),i.Xb(317,"input",74),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateAssetTotal(e.financialDetailsForm.value)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(318,"div",28),i.Xb(319,"div",18),i.Xb(320,"div",19),i.Xb(321,"mat-form-field",20),i.Xb(322,"mat-label"),i.Tc(323,"Total"),i.Wb(),i.Sb(324,"input",75),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,n=i.Dc(20),o=i.Dc(76),r=i.Dc(85),c=i.jc(2);i.Eb(1),i.rc("formGroupName",a),i.Eb(9),i.rc("ngIf",c.isExistingCustomer),i.Eb(1),i.rc("ngIf",!t.controls.applicantName.valid&&t.controls.applicantName.touched),i.Eb(6),i.rc("matDatepicker",n)("max",c.lastData),i.Eb(1),i.rc("for",n),i.Eb(3),i.rc("ngIf",!t.controls.lastUpdatedon.valid&&t.controls.lastUpdatedon.touched),i.Eb(26),i.rc("ngForOf",c.arrayEmploymentType),i.Eb(1),i.rc("ngIf",!t.controls.employmentType.valid&&t.controls.employmentType.touched),i.Eb(6),i.rc("required","Salaried"==t.controls.employmentType.value),i.Eb(1),i.rc("ngForOf",c.arrayEmploymentCategory),i.Eb(6),i.rc("required","Salaried"==t.controls.employmentType.value),i.Eb(6),i.rc("required","Salaried"==t.controls.employmentType.value),i.Eb(6),i.rc("matDatepicker",o)("max",c.maxDate),i.Eb(1),i.rc("for",o),i.Eb(8),i.rc("matDatepicker",r)("min",t.get("employmentStartDate").value)("max",c.maxDate)("required","Salaried"==t.controls.employmentType.value),i.Eb(1),i.rc("for",r),i.Eb(8),i.rc("required","Salaried"==t.controls.employmentType.value),i.Eb(1),i.rc("ngIf",!t.controls.officeName.valid&&t.controls.officeName.touched),i.Eb(8),i.Vc("\xa0\xa0",c.incomeErrMsg,""),i.Eb(64),i.Vc("\xa0\xa0",c.ExpensesErrMsg,""),i.Eb(58),i.Vc("\xa0\xa0",c.LiabilitiesErrMsg,""),i.Eb(52),i.Vc("\xa0\xa0",c.assetErrMsg,"")}}function Ue(t,e){if(1&t&&(i.Xb(0,"form",12),i.Xb(1,"div",13),i.Rc(2,je,325,27,"div",14),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.financialDetailsForm),i.Eb(2),i.rc("ngForOf",t.financialDetailsForm.get("financialDetails_array").controls)}}let He=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s,l){this.fb=t,this.ls=e,this.loader=a,this.apiService=n,this.router=i,this.snack=o,this.datepipe=r,this.accountService=c,this.appApiService=s,this.cdr=l,this.showEditOption=!1,this.financialDetails=[],this.isMonthlyIncome=!0,this.disableNext=!1}ngOnInit(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.applicantName=this.ls.getItem("primaryCustomerName"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.loggedInUser=String(this.ls.getItem("userName")),this.noOfApplicants=this.ls.getItem("LoanNoOfApplicants"),this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category");let t=JSON.parse(this.ls.getItem("FINANCIAL_DETAIL_DONE"));this.financialDetailsForm=this.fb.group({financialDetails_array:this.fb.array([])}),1!=this.noOfApplicants&&2!=this.noOfApplicants||this.addApplicant(),setTimeout(()=>{this.loanaccountID&&t?(this.showEditOption=!0,this.getFinancialDetails()):this.showEditOption=!1},10),this.fetchByCif(),this.lastUpdateByCif()}createFinancialDetail(t){return this.fb.group({applicantName:[t?t.applicantName:this.ls.getItem("primaryCustomerName"),V.z.required],applicantTotalIncome:[t?t.applicantTotalIncome:""],applicantTotalExpense:[t?t.applicantTotalExpense:""],lastUpdatedon:[t?t.lastUpdatedon:"",V.z.compose([V.z.required,V.z.min(this.lastData)])],employmentStartDate:[t?new Date(t.employmentStartDate).toISOString().substring(0,10):""],employmentEndDate:[t?t.employmentEndDate:""],assetTotal:[t?t.assetTotal:""],liabilityTotal:[t?t.liabilityTotal:""],employmentType:[t?t.employmentType:"",V.z.required],employmentCategory:[t?t.employmentCategory:""],employeeNumber:[t?t.employeeNumber:""],officeName:[t?t.officeName:""],designation:[t?t.designation:""],bonus:[t?t.bonus:""],business:[t?t.business:""],interestIncome:[t?t.interestIncome:""],pension:[t?t.pension:""],salary:[t?t.salary:""],monthlyExpenseRentals:[t?t.monthlyExpenseRentals:""],monthlyExpenseTotal:[t?t.monthlyExpenseTotal:""],cashGifts:[t?t.cashGifts:""],assetOthers:[t?t.assetOthers:""],liabilityOthers:[t?t.liabilityOthers:""],monthlyExpenseOthers:[t?t.monthlyExpenseOthers:""],monthlyIncomeOthers:[t?t.monthlyIncomeOthers:""],monthlyIncomeRentals:[t?t.monthlyIncomeRentals:""],monthlyIncomeTotal:[t?t.monthlyIncomeTotal:""],household:[t?t.household:""],medical:[t?t.medical:""],education:[t?t.education:""],travel:[t?t.travel:""],vehicleMaintenance:[t?t.vehicleMaintenance:""],propertyLoan:[t?t.propertyLoan:""],vehicleLoan:[t?t.vehicleLoan:""],personalLoans:[t?t.personalLoans:""],cardOutstandings:[t?t.cardOutstandings:""],overdraft:[t?t.overdraft:""],savingDeposits:[t?t.savingDeposits:""],stocks:[t?t.stocks:""],properties:[t?t.properties:""],automobiles:[t?t.automobiles:""],fixedDeposits:[t?t.fixedDeposits:""],lands:[t?t.lands:""]},{validator:t=>this.validateInputGroups(t)})}validateInputGroups(t){t.controls.salary.value||t.controls.interestIncome.value||t.controls.bonus.value||t.controls.cashGifts.value||t.controls.business.value||t.controls.pension.value||t.controls.monthlyIncomeRentals.value||t.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),t.controls.household.value||t.controls.education.value||t.controls.vehicleMaintenance.value||t.controls.monthlyExpenseRentals.value||t.controls.monthlyExpenseOthers.value||t.controls.medical.value||t.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),t.controls.propertyLoan.value||t.controls.vehicleLoan.value||t.controls.personalLoans.value||t.controls.overdraft.value||t.controls.cardOutstandings.value||t.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),t.controls.savingDeposits.value||t.controls.properties.value||t.controls.automobiles.value||t.controls.fixedDeposits.value||t.controls.lands.value||t.controls.assetOthers.value||t.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}addApplicant(){this.financialDetails_array=this.financialDetailsForm.get("financialDetails_array"),this.financialDetails_array.push(this.createFinancialDetail())}getFinancialDetails(){this.loader.open(),this.apiService.getFinancialDetailsByLoanAccId(this.loanaccountID).subscribe(t=>{this.loader.close(),this.createFinancialDetail(t[t.length-1])})}goBack(){this.router.navigate(["/loan/account/mandate-details"])}submitForm(){let t=[];this.financialDetails_array=this.financialDetailsForm.get("financialDetails_array"),t=this.financialDetails_array.value;for(let e=0;e<this.financialDetails_array.length;e++)t[e].lastUpdatedon=this.datepipe.transform(t[e].lastUpdatedon,"yyyy-MM-dd"),t[e].employmentStartDate=this.datepipe.transform(t[e].employmentStartDate,"yyyy-MMM-dd"),t[e].employmentEndDate=this.datepipe.transform(t[e].employmentEndDate,"yyyy-MMM-dd"),t[e].loanAccountId=this.loanaccountID,t[e].loggedInUser=this.loggedInUser,t[e].accountType="loan";this.apiService.upsertfinancialDetailsLoan(t).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Financial Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next())})}next(){this.ls.setItem("FINANCIAL_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/collateral_details"])}getEmploymentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{console.log(t),this.arrayEmploymentType=t})}getEmploymentCategory(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayEmploymentCategory=t})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}calculateTotalMonthlyIncome(t){let e=Number(t.financialDetails_array[0].salary)+Number(t.financialDetails_array[0].business)+Number(t.financialDetails_array[0].interestIncome)+Number(t.financialDetails_array[0].pension)+Number(t.financialDetails_array[0].bonus)+Number(t.financialDetails_array[0].monthlyIncomeOthers)+Number(t.financialDetails_array[0].monthlyIncomeRentals)+Number(t.financialDetails_array[0].cashGifts);const a=this.financialDetailsForm.get("financialDetails_array");a.controls[0].get("monthlyIncomeTotal").setValue(e),this.totalMonthlyIncome=e,this.totalIncome=12*e+this.totalAsset,a.controls[0].get("applicantTotalIncome").setValue(this.totalIncome)}calculateMonthlyExpenseTotal(t){let e=Number(t.financialDetails_array[0].household)+Number(t.financialDetails_array[0].medical)+Number(t.financialDetails_array[0].education)+Number(t.financialDetails_array[0].travel)+Number(t.financialDetails_array[0].vehicleMaintenance)+Number(t.financialDetails_array[0].monthlyExpenseRentals)+Number(t.financialDetails_array[0].monthlyExpenseOthers);const a=this.financialDetailsForm.get("financialDetails_array");a.controls[0].get("monthlyExpenseTotal").setValue(e),this.totalMonthlyExpense=e,this.totalExpenses=12*e+this.totalLiability,a.controls[0].get("applicantTotalExpense").setValue(this.totalExpenses)}calculateLiabilityTotal(t){let e=Number(t.financialDetails_array[0].propertyLoan)+Number(t.financialDetails_array[0].vehicleLoan)+Number(t.financialDetails_array[0].personalLoans)+Number(t.financialDetails_array[0].overdraft)+Number(t.financialDetails_array[0].cardOutstandings)+Number(t.financialDetails_array[0].liabilityOthers);const a=this.financialDetailsForm.get("financialDetails_array");a.controls[0].get("liabilityTotal").setValue(e),this.totalMonthlyLiability=e,this.totalExpenses=e+12*this.totalMonthlyExpense,a.controls[0].get("applicantTotalExpense").setValue(this.totalExpenses)}calculateAssetTotal(t){let e=Number(t.financialDetails_array[0].savingDeposits)+Number(t.financialDetails_array[0].stocks)+Number(t.financialDetails_array[0].properties)+Number(t.financialDetails_array[0].automobiles)+Number(t.financialDetails_array[0].fixedDeposits)+Number(t.financialDetails_array[0].lands)+Number(t.financialDetails_array[0].assetOthers);const a=this.financialDetailsForm.get("financialDetails_array");a.controls[0].get("assetTotal").setValue(e),this.totalMonthlyAsset=e,this.totalIncome=e+12*this.totalMonthlyIncome,a.controls[0].get("applicantTotalIncome").setValue(this.totalIncome)}fetchByCif(){this.cifNumber=this.ls.getItem("cId"),this.appApiService.fetchByCif(this.cifNumber).subscribe(t=>{this.financialDetailsForm.get("financialDetails_array").controls[0].get("applicantName").setValue(t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName)},t=>{console.error(t)})}lastUpdateByCif(){this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{this.lastData=this.datepipe.transform(t.applicationDate,"yyyy-MM-dd")},t=>{console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(yt.a),i.Rb(p.b),i.Rb(o.h),i.Rb(h.a),i.Rb(n.f),i.Rb(K.a),i.Rb(Ne.a),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-financial-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_2.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["type","button","mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],[1,"full-width"],["class","full-width","formArrayName","financialDetails_array",4,"ngFor","ngForOf"],["formArrayName","financialDetails_array",1,"full-width"],[1,"full-width","pt-16",3,"formGroupName"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"pt-16"],["fxFlex","50%","fxFlex.xs","100%"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["matInput","","name","applicantName","formControlName","applicantName","required","",3,"keypress"],["matInput","","class","alignment","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",4,"ngIf"],[4,"ngIf"],["fxFlex","50%","fxFlex.xs","100%",1,"p-2"],["matInput","","name","lastUpdatedon","formControlName","lastUpdatedon","placeholder","DD/MM/YYYY","readonly","","required","",1,"alignment",3,"matDatepicker","max"],["matSuffix","",3,"for"],["pickerUpdatedDate",""],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"full-width"],["matInput","","name","applicantTotalIncome","formControlName","applicantTotalIncome","readonly","",3,"keypress"],["matInput","","name","applicantTotalExpense","formControlName","applicantTotalExpense","readonly","",3,"keypress"],[1,"alignChange"],["name","employmentType","formControlName","employmentType","required","","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["name","employmentCategory","formControlName","employmentCategory","disableOptionCentering","",3,"required"],["matInput","","name","employeeNumber","formControlName","employeeNumber","maxlength","5",3,"required","keypress"],["matInput","","name","designation","formControlName","designation",3,"required","keypress"],["matInput","","name","employmentStartDate","formControlName","employmentStartDate","placeholder","DD/MM/YYYY","readonly","",1,"alignment",3,"matDatepicker","max"],["pickerStartDate",""],["matInput","","name","employmentEndDate","formControlName","employmentEndDate","placeholder","DD/MM/YYYY","readonly","",1,"alignment",3,"matDatepicker","min","max","required"],["pickerEndDate",""],["matInput","","name","officeName","formControlName","officeName",3,"required","keypress"],[1,"ErrMsg"],["matInput","","name","bonus","formControlName","bonus",3,"keypress","input"],["matInput","","name","business","formControlName","business",3,"keypress","input"],["matInput","","name","interestIncome","formControlName","interestIncome",3,"keypress","input"],["matInput","","name","pension","formControlName","pension",3,"keypress","input"],["matInput","","name","salary","formControlName","salary",3,"keypress","input"],["matInput","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals",3,"keypress","input"],["matInput","","name","cashGifts","formControlName","cashGifts",3,"keypress","input"],["matInput","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers",3,"keypress","input"],["matInput","","type","number","name","monthlyIncomeTotal","formControlName","monthlyIncomeTotal","readonly",""],["fxLayout","row wrap",1,"full-width"],["matInput","","name","household","formControlName","household",3,"keypress","input"],["matInput","","name","medical","formControlName","medical",3,"keypress","input"],["matInput","","name","education","formControlName","education",3,"keypress","input"],["matInput","","name","travel","formControlName","travel",3,"keypress","input"],["matInput","","name","vehicleMaintenance","formControlName","vehicleMaintenance",3,"keypress","input"],["matInput","","name","monthlyExpenseRentals","formControlName","monthlyExpenseRentals",3,"keypress","input"],["matInput","","name","monthlyExpenseOthers","formControlName","monthlyExpenseOthers",3,"keypress","input"],["matInput","","type","number","name","monthlyExpenseTotal","formControlName","monthlyExpenseTotal","readonly",""],["matInput","","name","propertyLoan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","name","vehicleLoan","formControlName","vehicleLoan",3,"keypress","input"],["matInput","","name","personalLoans","formControlName","personalLoans",3,"keypress","input"],["matInput","","name","cardOutstandings","formControlName","cardOutstandings",3,"keypress","input"],["matInput","","name","overdraft","formControlName","overdraft",3,"keypress","input"],["matInput","","name","liabilityOthers","formControlName","liabilityOthers",3,"keypress","input"],["matInput","","type","number","name","liabilityTotal","formControlName","liabilityTotal","readonly",""],["matInput","","name","savingDeposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","name","stocks","formControlName","stocks",3,"keypress","input"],["matInput","","name","properties","formControlName","properties",3,"keypress","input"],["matInput","","name","automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","name","fixedDeposits","formControlName","fixedDeposits",3,"keypress","input"],["matInput","","name","lands","formControlName","lands",3,"keypress","input"],["matInput","","name","assetOthers","formControlName","assetOthers",3,"keypress","input"],["matInput","","type","number","name","assetTotal","formControlName","assetTotal","readonly",""],["matInput","","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",1,"alignment"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h1"),i.Tc(7,"Financial Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title"),i.Xb(11,"fieldset"),i.Xb(12,"legend",7),i.Tc(13,"Financial Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,Ue,3,2,"form",8),i.Wb(),i.Wb(),i.Xb(16,"div",9),i.Xb(17,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(18," Back "),i.Wb(),i.Xb(19,"button",11),i.fc("click",function(){return e.submitForm()}),i.Tc(20," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.financialDetailsForm),i.Eb(4),i.rc("disabled",e.incomeErrMsg||e.ExpensesErrMsg||e.LiabilitiesErrMsg||e.assetErrMsg||!e.financialDetailsForm.valid))},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,n.m,V.e,V.k,s.c,s.g,z.b,V.c,V.r,V.i,V.y,Q.e,Q.g,s.j,Q.d,q.a,V.m,V.v,s.b,B.n],styles:[".ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}.width[_ngcontent-%COMP%]{width:98%}.dataChange[_ngcontent-%COMP%]{height:53px;margin-left:0!important}input[_ngcontent-%COMP%]{border:none;outline:none}.datechange[_ngcontent-%COMP%]{height:10px}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}"]}),t})();var Ge=a("q7Ft"),Ye=a("/1WF"),$e=a("Bp9c"),Qe=a("UGQK"),Ze=a("r/oB");function Je(t,e){if(1&t&&(i.Xb(0,"a",25),i.Xb(1,"span",16),i.Tc(2,"Asset Details / Vehicle Details / Admission Details"),i.Wb(),i.Sb(3,"span",11),i.Wb()),2&t){const t=i.jc();i.rc("ngClass",t.isAssetsDetailScreen?"enable":"disable")}}const Ke=function(){return["/loan/account/asset-details"]};function ta(t,e){if(1&t&&(i.Xb(0,"a",17),i.Xb(1,"span",16),i.Tc(2,"Asset Details / Vehicle Details / Admission Details"),i.Wb(),i.Sb(3,"span",11),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,Ke))("ngClass",t.isAssetsDetailScreen?"enable":"disable")}}const ea=function(){return["/loan/account/vehicle-details"]};function aa(t,e){if(1&t&&(i.Xb(0,"a",17),i.Xb(1,"span",16),i.Tc(2,"Asset Details / Vehicle Details / Admission Details"),i.Wb(),i.Sb(3,"span",11),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,ea))("ngClass",t.isVehicleDetailScreen?"enable":"disable")}}const na=function(){return["/loan/account/admission-details"]};function ia(t,e){if(1&t&&(i.Xb(0,"a",17),i.Xb(1,"span",16),i.Tc(2,"Asset Details / Vehicle Details / Admission Details"),i.Wb(),i.Sb(3,"span",11),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,na))("ngClass",t.isAdmissionDetails?"enable":"disable")}}function oa(t,e){}const ra=function(){return["/loan/account/list"]},ca=function(){return["/loan/account/loan-details"]},sa=function(){return["/loan/account/customer-information"]},la=function(){return["/loan/account/mandate-details"]},ba=function(){return["/loan/account/financial-details"]},ma=function(){return["/loan/account/collateral_details"]},ua=function(){return["/loan/account/guarantor_details"]},da=function(){return["/loan/account/application-enrichment"]},pa=function(){return["/loan/account/application-enrichment/intrest-details"]},fa=function(){return["/loan/account/application-enrichment/loan-disbursement"]},ga=function(){return["/loan/account/application-enrichment/loan-repayment"]},ha=function(){return["/loan/account/application-enrichment/charge-details"]},va=function(){return["/loan/account/application-enrichment/account-services"]},Wa=function(){return["/loan/account/list/underwritingStage"]},Xa=function(){return["/loan/account/list/underwritingStage/creditrating"]},ya=function(){return["/loan/account/list/underwritingStage/valuationofassets"]},xa=function(){return["/loan/account/list/underwritingStage/legalopinion"]},Ca=function(){return["/loan/account/assessment/list"]},Ia=function(){return["/loan/account/assessment/qualitative/"]},Oa=function(){return["/loan/account/assessment/assessment-details/"]},Aa=function(){return["/loan/account/supervisor-summary/"]},Da=function(){return["/loan/account/offer-issue/list"]},Ta=function(){return["/loan/account/list/offer-issue/offerissue"]},Sa=function(){return["/loan/account/offerstage/list"]},ka=function(){return["/loan/account/offerstage/offer-accept-reject"]},_a=function(){return["/loan/account/post-offer-amend-stage/list"]},Ra=function(){return["/loan/account/post-offer-amendment"]},Ma=function(){return["/loan/account/account-creation-stage"]},Ea=function(){return["/loan/account/account-creation-stage/account-create-details"]},Pa=function(){return["/loan/account/digitalsigning/list"]},Na=function(t){return["/loan/account/digitalsigning/list/options",t]},wa=function(){return["/loan/account/digitalsigning/options"]};let Fa=(()=>{class t{constructor(t,e,a,n,i){this.ls=t,this.api=e,this.router=a,this.cdr=n,this.accountService=i,this.isAssessmentStageDone=!1,this.isChargesScreen=!1,this.isLoanQualitativeScoreboard=!1,this.isLoanAssessmentDetails=!1,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreenDone=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1,this.isAccountApproveStageDone=!1,this.isOfferAcceptRejectStageDone=!1,this.isOfferAcceptReject=!1,this.isLoanSummaryStageDone=!1,this.isSupervisorApprovalDone=!1,this.isApprovedDetails=!1,this.isCreditRatingScreen=!1,this.isValuationAssetScreen=!1,this.islegalOpinionScreen=!1,this.isLoanEnrichmentDone=!1,this.isLoanInterestDetails=!1,this.isLoanDisbursementDetails=!1,this.isLoanRepaymentDetails=!1,this.isChargeDetails=!1,this.isAccountServices=!1,this.isLoanApplicationEntryDone=!1,this.isLoanDetailScreen=!1,this.isAssetsDetailScreen=!1,this.isVehicleDetailScreen=!1,this.isAdmissionDetails=!1,this.isCustomerInformation=!1,this.isMandateDetails=!1,this.isFinancialDetails=!1,this.isCollateralDetails=!1,this.isGuarantorDetails=!1,this.isUnderWritingStageDone=!1,this.isCreditRatingDetails=!1,this.isValuationofAsset=!1,this.isLegalOpinion=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.isEducationLoan=!1,this.isPostOfferAmendStageDone=!1,this.isPostOfferAmendment=!1,this.isAccountCreationStageDone=!1,this.isAccountCreditStage=!1,this.isDigitalSigningDone=!1,this.isDigitalSigning=!1,this.isLoanEnrichment=!1,this.isLoanAssessmentStageScreen=!1,this.isApprovalScreen=!1,this.isSupervisorapprovalScreen=!1,this.isOfferIssueStageScreen=!1,this.isOfferIssueRejectStageScreen=!1,this.isPostAmmendementStageScreen=!1,this.isPostAmmendementScreen=!1,this.isAccountCreateDetailsScreen=!1,this.isAccountCreationStageScreenDone=!1}ngOnInit(){this.accountItemsSub=this.accountService.accountItems$.subscribe(t=>{this.accountItems=t}),console.log("reset"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.ls.setItem("LOAN_DETAIL_DONE",!0),this.ls.setItem("VEHICLE_DETAIL_DONE",!0),this.ls.setItem("ADMISSION_DETAIL_DONE",!0),this.ls.setItem("CUSTOMERINFO_DETAIL_DONE",!0),this.ls.setItem("ASSET_DETAIL_DONE",!0),this.ls.setItem("MANDATE_DETAIL_DONE",!0),this.ls.setItem("FINANCIAL_DETAIL_DONE",!0),this.ls.setItem("COLLATERAL_DETAIL_DONE",!0),this.ls.setItem("GUARANTOR_DETAIL_DONE",!0),this.ls.setItem("LOAN_ENRICHMENT_DONE",!0),this.ls.setItem("LOAN_INTERST_DETAIL_DONE",!0),this.ls.setItem("LOAN_DISBURSEMENT_DETAIL_DONE",!0),this.ls.setItem("LOAN_REPAYMENT_DETAIL_DONE",!0),this.ls.setItem("LOAN_CHARGE_DETAILS",!0),this.ls.setItem("LOAN_ACCOUNT_SERVICES_DONE",!0),this.ls.setItem("CREDIT_RATING_DONE",!0),this.ls.setItem("VALUATION_OF_ASSET_DONE",!0),this.ls.setItem("LEGAL_OPINION_DONE",!0),this.ls.setItem("underWritingStage",!0),this.ls.setItem("LOAN_QUALITATIVE_SCOREBOARD_DONE",!0),this.ls.setItem("LOAN_ASSESSMENT_DETAILS_DONE",!0),this.ls.setItem("LOAN_ASSESSMENT_STAGE_DONE",!0),this.ls.setItem("APPROVED_DETAILS",!0),this.ls.setItem("SUPERVISOR_APPROVAL_STAGE",!0),this.ls.setItem("assessmentScreen",!0),this.ls.setItem("OfferIssue",!0),this.ls.setItem("legalScreen",!0),this.ls.setItem("valuationAsset",!0),this.ls.setItem("CreditRatingDetails",!0),this.ls.setItem("OfferIssueStageDone",!0),this.ls.setItem("assessmentStage",!0),this.ls.setItem("ASSESSMENT_QA_DONE",!0),this.ls.setItem("assessmentScreen",!0),this.ls.setItem("OfferIssue",!0),this.ls.setItem("OfferIssueRejectScreen",!0),this.ls.setItem("OfferIssueRejectStageScreen",!0),this.ls.setItem("PostOfferAmmendementScreen",!0),this.ls.setItem("PostOfferAmmendementStageScreen",!0),this.ls.setItem("post-offer-amend-stage",!0),this.ls.setItem("ACCOUNT_CREATTION_STAGE_DONE",!0),this.ls.setItem("ACCOUNT_CREATE_DETAILS_DONE",!0),this.ls.setItem("eSignStage",!0));let t=this.ls.getItem("isHomeLoan")||null;console.log("fetch",t),this.overDraftByStatus1=null!=t&&t.isActive,console.log(this.overDraftByStatus1);let e=this.ls.getItem("accountType")||null;console.log("fundStatus::",e),null==t?(this.isVehicleLoan=!1,this.isHomeLoan=!1,this.isEducationLoan=!1):"Home Loan"==e?(this.isVehicleLoan=!1,this.isHomeLoan=!0,this.isEducationLoan=!1):"Vehicle Loan"==e?(this.isHomeLoan=!1,this.isVehicleLoan=!0,this.isEducationLoan=!1):(this.isHomeLoan=!1,this.isVehicleLoan=!1,this.isEducationLoan=!0),this.isAccountApproveStageDone=this.ls.getItem("LOAN_ENRICHMENT_DONE"),this.isAssessmentStageDone=this.ls.getItem("assessment-details"),this.isOfferAcceptRejectStageDone=this.ls.getItem("offer-acceptReject-details"),this.isLoanSummaryStageDone=this.ls.getItem("loan-summary-details"),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isOfferIssueStageScreen=this.ls.getItem("OfferIssueStageDone"),this.isOfferIssueScreen=this.ls.getItem("OfferIssue"),this.isOfferIssueRejectStageScreen=this.ls.getItem("OfferIssueRejectStageScreen"),this.isOfferIssueRejectScreen=this.ls.getItem("OfferIssueRejectScreen"),this.isUnderWritingStageDone=this.ls.getItem("underWritingStage"),this.isCreditRatingDetails=this.ls.getItem("CREDIT_RATING_DONE"),this.isValuationofAsset=this.ls.getItem("VALUATION_OF_ASSET_DONE"),this.isLegalOpinion=this.ls.getItem("LEGAL_OPINION_DONE"),this.isLoanApplicationEntryDone=this.ls.getItem("LoanEntryStage"),this.isLoanDetailScreen=this.ls.getItem("LOAN_DETAIL_DONE"),this.isAssetsDetailScreen=this.ls.getItem("ASSET_DETAIL_DONE"),this.isVehicleDetailScreen=this.ls.getItem("VEHICLE_DETAIL_DONE"),this.isAdmissionDetails=this.ls.getItem("ADMISSION_DETAIL_DONE"),this.isCustomerInformation=this.ls.getItem("CUSTOMERINFO_DETAIL_DONE"),this.isMandateDetails=this.ls.getItem("MANDATE_DETAIL_DONE"),this.isFinancialDetails=this.ls.getItem("FINANCIAL_DETAIL_DONE"),this.isCollateralDetails=this.ls.getItem("COLLATERAL_DETAIL_DONE"),this.isGuarantorDetails=this.ls.getItem("GUARANTOR_DETAIL_DONE"),this.isLoanInterestDetails=this.ls.getItem("LOAN_INTERST_DETAIL_DONE"),this.isLoanDisbursementDetails=this.ls.getItem("LOAN_DISBURSEMENT_DETAIL_DONE"),this.isLoanRepaymentDetails=this.ls.getItem("LOAN_REPAYMENT_DETAIL_DONE"),this.isChargeDetails=this.ls.getItem("LOAN_CHARGE_DETAILS"),this.isAccountServices=this.ls.getItem("LOAN_ACCOUNT_SERVICES_DONE"),this.isLoanEnrichment=this.ls.getItem("LOAN_ENRICHMENT_DONE"),this.islegalOpinionScreen=this.ls.getItem("legalScreen"),this.isValuationAssetScreen=this.ls.getItem("valuationAsset"),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isCreditRatingScreen=this.ls.getItem("CreditRatingDetails"),this.isLoanQualitativeScoreboard=this.ls.getItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),this.isLoanAssessmentDetails=this.ls.getItem("LOAN_ASSESSMENT_DETAILS_DONE"),this.isLoanAssessmentStageScreen=this.ls.getItem("LOAN_ASSESSMENT_STAGE_DONE"),this.isSupervisorapprovalScreen=this.ls.getItem("SUPERVISOR_APPROVAL_STAGE"),this.isApprovalScreen=this.ls.getItem("APPROVED_DETAILS"),this.isPostAmmendementStageScreen=this.ls.getItem("PostOfferAmmendementStageScreen"),this.isPostAmmendementScreen=this.ls.getItem("PostOfferAmmendementScreen"),this.isAccountCreationStageScreenDone=this.ls.getItem("ACCOUNT_CREATTION_STAGE_DONE"),this.isAccountCreateDetailsScreen=this.ls.getItem("ACCOUNT_CREATE_DETAILS_DONE"),this.accountService.refresh.subscribe(t=>{this.loanaccountID=this.ls.getItem("loanAccountId"),this.isAccountApproveStageDone=this.ls.getItem("LOAN_ENRICHMENT_DONE");let e=this.ls.getItem("accountType")||null;console.log("fundStatus::",e),"Home Loan"==e?(this.isVehicleLoan=!1,this.isHomeLoan=!0,this.isEducationLoan=!1):"Vehicle Loan"==e?(this.isHomeLoan=!1,this.isVehicleLoan=!0,this.isEducationLoan=!1):(this.isHomeLoan=!1,this.isVehicleLoan=!1,this.isEducationLoan=!0),this.isAssessmentStageDone=this.ls.getItem("assessment-details"),this.isOfferAcceptRejectStageDone=this.ls.getItem("offer-acceptReject-details"),this.isLoanSummaryStageDone=this.ls.getItem("loan-summary-details"),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isOfferIssueStageScreen=this.ls.getItem("OfferIssueStageDone"),this.isOfferIssueScreen=this.ls.getItem("OfferIssue"),this.isOfferIssueRejectStageScreen=this.ls.getItem("OfferIssueRejectStageScreen"),this.isOfferIssueRejectScreen=this.ls.getItem("OfferIssueRejectScreen"),this.isLoanEnrichment=this.ls.getItem("LOAN_ENRICHMENT_DONE"),this.isUnderWritingStageDone=this.ls.getItem("underWritingStage"),this.isCreditRatingDetails=this.ls.getItem("CREDIT_RATING_DONE"),this.isValuationofAsset=this.ls.getItem("VALUATION_OF_ASSET_DONE"),this.isLegalOpinion=this.ls.getItem("LEGAL_OPINION_DONE"),this.isLoanApplicationEntryDone=this.ls.getItem("LoanEntryStage"),this.isLoanDetailScreen=this.ls.getItem("LOAN_DETAIL_DONE"),this.isAssetsDetailScreen=this.ls.getItem("ASSET_DETAIL_DONE"),this.isVehicleDetailScreen=this.ls.getItem("VEHICLE_DETAIL_DONE"),this.isAdmissionDetails=this.ls.getItem("ADMISSION_DETAIL_DONE"),this.isCustomerInformation=this.ls.getItem("CUSTOMERINFO_DETAIL_DONE"),this.isMandateDetails=this.ls.getItem("MANDATE_DETAIL_DONE"),this.isFinancialDetails=this.ls.getItem("FINANCIAL_DETAIL_DONE"),this.isCollateralDetails=this.ls.getItem("COLLATERAL_DETAIL_DONE"),this.isGuarantorDetails=this.ls.getItem("GUARANTOR_DETAIL_DONE"),this.isLoanInterestDetails=this.ls.getItem("LOAN_INTERST_DETAIL_DONE"),this.isLoanDisbursementDetails=this.ls.getItem("LOAN_DISBURSEMENT_DETAIL_DONE"),this.isLoanRepaymentDetails=this.ls.getItem("LOAN_REPAYMENT_DETAIL_DONE"),this.isChargeDetails=this.ls.getItem("LOAN_CHARGE_DETAILS"),this.isAccountServices=this.ls.getItem("LOAN_ACCOUNT_SERVICES_DONE"),this.islegalOpinionScreen=this.ls.getItem("legalScreen"),this.isValuationAssetScreen=this.ls.getItem("valuationAsset"),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isCreditRatingScreen=this.ls.getItem("CreditRatingDetails"),this.isLoanQualitativeScoreboard=this.ls.getItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),this.isLoanAssessmentDetails=this.ls.getItem("LOAN_ASSESSMENT_DETAILS_DONE"),this.isLoanAssessmentStageScreen=this.ls.getItem("LOAN_ASSESSMENT_STAGE_DONE"),this.isSupervisorapprovalScreen=this.ls.getItem("SUPERVISOR_APPROVAL_STAGE"),this.isApprovalScreen=this.ls.getItem("APPROVED_DETAILS"),this.isPostAmmendementStageScreen=this.ls.getItem("PostOfferAmmendementStageScreen"),this.isPostAmmendementScreen=this.ls.getItem("PostOfferAmmendementScreen"),this.isAccountCreationStageScreenDone=this.ls.getItem("ACCOUNT_CREATTION_STAGE_DONE"),this.isAccountCreateDetailsScreen=this.ls.getItem("ACCOUNT_CREATE_DETAILS_DONE")})}goApproved(){this.api.sendApprovedStatus(!0),this.router.navigate(["/loan/account/supervisor-approveddetails"])}ngOnDestroy(){this.accountItemsSub&&this.accountItemsSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(u.a),i.Rb(p.b),i.Rb(o.h),i.Rb(i.h),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-account"]],decls:292,vars:111,consts:[[1,"m-333"],[1,"topSection"],["EgretSideNavToggle","",1,"app-sidebar",2,"width","300px"],[1,"sidenav-header"],[1,"sidenav-hold"],["appDropdown","",1,"sidenav","mt-32"],["appDropdownLink","","routerLinkActive","open"],[1,"lvl1"],["appDropdownToggle","",3,"ngClass"],[1,"sidenav-mat-icon",3,"ngClass"],[1,"item-name","lvl1"],["fxFlex",""],[1,"menu-caret"],["appDropdown","",1,"lvl2",2,"margin-right","8px"],["routerLinkActive","open"],[1,"side-menu",2,"margin-left","9px","margin-top","5px","height","30px","margin-bottom","15px",3,"routerLink"],[1,"item-name","lvl2",2,"margin-left","10px"],[1,"side-menu",2,"margin-left","9px","margin-top","5px","height","30px","margin-bottom","15px",3,"routerLink","ngClass"],["class","side-menu","style","margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;",3,"ngClass",4,"ngIf"],["class","side-menu","style","margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;",3,"routerLink","ngClass",4,"ngIf"],["hideNav",""],[1,"side-menu",2,"margin-left","9px","margin-top","5px","height","30px","margin-bottom","15px",3,"ngClass","routerLink"],[1,"side-menu",2,"margin-left","9px","margin-top","5px","height","30px","margin-bottom","15px",3,"ngClass","click"],["fxLayout","row","fxLayoutWrap","wrap",1,"app-wrap"],[1,"full-width","mt-32"],[1,"side-menu",2,"margin-left","9px","margin-top","5px","height","30px","margin-bottom","15px",3,"ngClass"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"mat-sidenav-container",1),i.Xb(2,"mat-sidenav",2),i.Xb(3,"span",3),i.Tc(4,"Home > Create Loan Account"),i.Wb(),i.Xb(5,"div",4),i.Xb(6,"ul",5),i.Xb(7,"li",6),i.Xb(8,"div",7),i.Xb(9,"a",8),i.Xb(10,"mat-icon",9),i.Tc(11,"account_balance_wallet"),i.Wb(),i.Xb(12,"span",10),i.Tc(13,"Application Entry Stage"),i.Wb(),i.Sb(14,"span",11),i.Xb(15,"mat-icon",12),i.Tc(16,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Xb(17,"ul",13),i.Xb(18,"li",14),i.Xb(19,"a",15),i.Xb(20,"span",16),i.Tc(21,"Summary"),i.Wb(),i.Sb(22,"span",11),i.Wb(),i.Wb(),i.Xb(23,"li",14),i.Xb(24,"a",17),i.Xb(25,"span",16),i.Tc(26,"Loan Details"),i.Wb(),i.Sb(27,"span",11),i.Wb(),i.Wb(),i.Xb(28,"li",14),i.Rc(29,Je,4,1,"a",18),i.Rc(30,ta,4,3,"a",19),i.Rc(31,aa,4,3,"a",19),i.Rc(32,ia,4,3,"a",19),i.Wb(),i.Xb(33,"li",14),i.Xb(34,"a",17),i.Xb(35,"span",16),i.Tc(36,"Customer Information"),i.Wb(),i.Sb(37,"span",11),i.Wb(),i.Wb(),i.Xb(38,"li",14),i.Xb(39,"a",17),i.Xb(40,"span",16),i.Tc(41,"Mandate Details"),i.Wb(),i.Sb(42,"span",11),i.Wb(),i.Wb(),i.Xb(43,"li",14),i.Xb(44,"a",17),i.Xb(45,"span",16),i.Tc(46,"Financial Details"),i.Wb(),i.Sb(47,"span",11),i.Wb(),i.Wb(),i.Xb(48,"li",14),i.Xb(49,"a",17),i.Xb(50,"span",16),i.Tc(51,"Collateral Details"),i.Wb(),i.Sb(52,"span",11),i.Wb(),i.Wb(),i.Xb(53,"li",14),i.Xb(54,"a",17),i.Xb(55,"span",16),i.Tc(56,"Guarantor Details"),i.Wb(),i.Sb(57,"span",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(58,oa,0,0,"ng-template",null,20,i.Sc),i.Xb(60,"li",6),i.Xb(61,"div",7),i.Xb(62,"a",8),i.Xb(63,"mat-icon",9),i.Tc(64,"style"),i.Wb(),i.Xb(65,"span",10),i.Tc(66,"Application Enrichment"),i.Wb(),i.Sb(67,"span",11),i.Xb(68,"mat-icon",12),i.Tc(69,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Xb(70,"ul",13),i.Xb(71,"li",14),i.Xb(72,"a",15),i.Xb(73,"span",16),i.Tc(74,"Summary"),i.Wb(),i.Sb(75,"span",11),i.Wb(),i.Wb(),i.Xb(76,"li",14),i.Xb(77,"a",21),i.Xb(78,"span",16),i.Tc(79,"Loan Interest Details"),i.Wb(),i.Sb(80,"span",11),i.Wb(),i.Wb(),i.Xb(81,"li",14),i.Xb(82,"a",21),i.Xb(83,"span",16),i.Tc(84,"Loan Disbursement Details"),i.Wb(),i.Sb(85,"span",11),i.Wb(),i.Wb(),i.Xb(86,"li",14),i.Xb(87,"a",21),i.Xb(88,"span",16),i.Tc(89,"Loan Repayment Details"),i.Wb(),i.Sb(90,"span",11),i.Wb(),i.Wb(),i.Xb(91,"li",14),i.Xb(92,"a",21),i.Xb(93,"span",16),i.Tc(94,"Charge Details"),i.Wb(),i.Sb(95,"span",11),i.Wb(),i.Wb(),i.Xb(96,"li",14),i.Xb(97,"a",21),i.Xb(98,"span",16),i.Tc(99,"Account Services"),i.Wb(),i.Sb(100,"span",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(101,"li",6),i.Xb(102,"div",7),i.Xb(103,"a",8),i.Xb(104,"mat-icon",9),i.Tc(105,"create"),i.Wb(),i.Xb(106,"span",10),i.Tc(107,"Underwriting Stage"),i.Wb(),i.Sb(108,"span",11),i.Xb(109,"mat-icon",12),i.Tc(110,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Xb(111,"ul",13),i.Xb(112,"li",14),i.Xb(113,"a",15),i.Xb(114,"span",16),i.Tc(115,"Summary"),i.Wb(),i.Sb(116,"span",11),i.Wb(),i.Wb(),i.Xb(117,"li",14),i.Xb(118,"a",21),i.Xb(119,"span",16),i.Tc(120,"Credit Score Details"),i.Wb(),i.Sb(121,"span",11),i.Wb(),i.Wb(),i.Xb(122,"li",14),i.Xb(123,"a",21),i.Xb(124,"span",16),i.Tc(125,"Valuation of Asset"),i.Wb(),i.Sb(126,"span",11),i.Wb(),i.Wb(),i.Xb(127,"li",14),i.Xb(128,"a",21),i.Xb(129,"span",16),i.Tc(130,"Legal Opinion"),i.Wb(),i.Sb(131,"span",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(132,"li",6),i.Xb(133,"div",7),i.Xb(134,"a",8),i.Xb(135,"mat-icon",9),i.Tc(136,"assessment"),i.Wb(),i.Xb(137,"span",10),i.Tc(138,"Assessment Stage"),i.Wb(),i.Sb(139,"span",11),i.Xb(140,"mat-icon",12),i.Tc(141,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Xb(142,"ul",13),i.Xb(143,"li",14),i.Xb(144,"a",15),i.Xb(145,"span",16),i.Tc(146,"Summary"),i.Wb(),i.Sb(147,"span",11),i.Wb(),i.Wb(),i.Xb(148,"li",14),i.Xb(149,"a",21),i.Xb(150,"span",16),i.Tc(151,"Qualitative Scoreboard"),i.Wb(),i.Sb(152,"span",11),i.Wb(),i.Wb(),i.Xb(153,"li",14),i.Xb(154,"a",21),i.Xb(155,"span",16),i.Tc(156,"Assessment Details"),i.Wb(),i.Sb(157,"span",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(158,"li",6),i.Xb(159,"div",7),i.Xb(160,"a",8),i.Xb(161,"mat-icon",9),i.Tc(162,"supervisor_account"),i.Wb(),i.Xb(163,"span",10),i.Tc(164,"Supervisor Approval Stage"),i.Wb(),i.Sb(165,"span",11),i.Xb(166,"mat-icon",12),i.Tc(167,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Xb(168,"ul",13),i.Xb(169,"li",14),i.Xb(170,"a",15),i.Xb(171,"span",16),i.Tc(172,"Summary"),i.Wb(),i.Sb(173,"span",11),i.Wb(),i.Wb(),i.Xb(174,"li",14),i.Xb(175,"a",22),i.fc("click",function(){return e.goApproved()}),i.Xb(176,"span",16),i.Tc(177,"Approved Details"),i.Wb(),i.Sb(178,"span",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(179,"li",6),i.Xb(180,"div",7),i.Xb(181,"a",8),i.Xb(182,"mat-icon",9),i.Tc(183,"credit_card"),i.Wb(),i.Xb(184,"span",10),i.Tc(185,"Offer Issue Stage"),i.Wb(),i.Sb(186,"span",11),i.Xb(187,"mat-icon",12),i.Tc(188,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Xb(189,"ul",13),i.Xb(190,"li",14),i.Xb(191,"a",15),i.Xb(192,"span",16),i.Tc(193,"Summary"),i.Wb(),i.Sb(194,"span",11),i.Wb(),i.Wb(),i.Xb(195,"li",14),i.Xb(196,"a",21),i.Xb(197,"span",16),i.Tc(198,"Offer Issue"),i.Wb(),i.Sb(199,"span",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(200,"li",6),i.Xb(201,"div",7),i.Xb(202,"a",8),i.Xb(203,"mat-icon",9),i.Tc(204,"border_color"),i.Wb(),i.Xb(205,"span",10),i.Tc(206,"Offer Accept / Reject Stage"),i.Wb(),i.Sb(207,"span",11),i.Xb(208,"mat-icon",12),i.Tc(209,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Xb(210,"ul",13),i.Xb(211,"li",14),i.Xb(212,"a",15),i.Xb(213,"span",16),i.Tc(214,"Summary"),i.Wb(),i.Sb(215,"span",11),i.Wb(),i.Wb(),i.Xb(216,"li",14),i.Xb(217,"a",17),i.Xb(218,"span",16),i.Tc(219,"Offer Accept / Reject"),i.Wb(),i.Sb(220,"span",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(221,"li",6),i.Xb(222,"div",7),i.Xb(223,"a",8),i.Xb(224,"mat-icon",9),i.Tc(225,"file_copy"),i.Wb(),i.Xb(226,"span",10),i.Tc(227,"Post Offer Amend Stage"),i.Wb(),i.Sb(228,"span",11),i.Xb(229,"mat-icon",12),i.Tc(230,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Xb(231,"ul",13),i.Xb(232,"li",14),i.Xb(233,"a",15),i.Xb(234,"span",16),i.Tc(235,"Summary"),i.Wb(),i.Sb(236,"span",11),i.Wb(),i.Wb(),i.Xb(237,"li",14),i.Xb(238,"a",21),i.Xb(239,"span",16),i.Tc(240,"Post Offer Amendment"),i.Wb(),i.Sb(241,"span",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(242,"li",6),i.Xb(243,"div",7),i.Xb(244,"a",8),i.Xb(245,"mat-icon",9),i.Tc(246,"person_add"),i.Wb(),i.Xb(247,"span",10),i.Tc(248,"Account Creation Stage"),i.Wb(),i.Sb(249,"span",11),i.Xb(250,"mat-icon",12),i.Tc(251,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Xb(252,"ul",13),i.Xb(253,"li",14),i.Xb(254,"a",15),i.Xb(255,"span",16),i.Tc(256,"Summary"),i.Wb(),i.Sb(257,"span",11),i.Wb(),i.Wb(),i.Xb(258,"li",14),i.Xb(259,"a",21),i.Xb(260,"span",16),i.Tc(261,"Account Credit Details"),i.Wb(),i.Sb(262,"span",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(263,"li",6),i.Xb(264,"div",7),i.Xb(265,"a",8),i.Xb(266,"mat-icon",9),i.Tc(267,"view_comfy"),i.Wb(),i.Xb(268,"span",10),i.Tc(269,"Digital Signing"),i.Wb(),i.Sb(270,"span",11),i.Xb(271,"mat-icon",12),i.Tc(272,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Xb(273,"ul",13),i.Xb(274,"li",14),i.Xb(275,"a",15),i.Xb(276,"span",16),i.Tc(277,"Summary"),i.Wb(),i.Sb(278,"span",11),i.Wb(),i.Wb(),i.Xb(279,"li",14),i.Xb(280,"a",21),i.Xb(281,"span",16),i.Tc(282,"Digital Signing"),i.Wb(),i.Sb(283,"span",11),i.Wb(),i.Wb(),i.Xb(284,"li",14),i.Xb(285,"a",15),i.Xb(286,"span",16),i.Tc(287,"Signing"),i.Wb(),i.Sb(288,"span",11),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(289,"div",23),i.Xb(290,"div",24),i.Sb(291,"router-outlet"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(9),i.rc("ngClass",e.isLoanApplicationEntryDone?"active":"notActive"),i.Eb(1),i.rc("ngClass",e.isLoanApplicationEntryDone?"active":"notActive"),i.Eb(9),i.rc("routerLink",i.wc(78,ra)),i.Eb(5),i.rc("routerLink",i.wc(79,ca))("ngClass",e.isLoanDetailScreen?"enable":"disable"),i.Eb(5),i.rc("ngIf",!e.isHomeLoan&&!e.isVehicleLoan&&!e.isEducationLoan),i.Eb(1),i.rc("ngIf",e.isHomeLoan),i.Eb(1),i.rc("ngIf",e.isVehicleLoan),i.Eb(1),i.rc("ngIf",e.isEducationLoan),i.Eb(2),i.rc("routerLink",i.wc(80,sa))("ngClass",e.isCustomerInformation?"enable":"disable"),i.Eb(5),i.rc("routerLink",i.wc(81,la))("ngClass",e.isMandateDetails?"enable":"disable"),i.Eb(5),i.rc("routerLink",i.wc(82,ba))("ngClass",e.isFinancialDetails?"enable":"disable"),i.Eb(5),i.rc("routerLink",i.wc(83,ma))("ngClass",e.isCollateralDetails?"enable":"disable"),i.Eb(5),i.rc("routerLink",i.wc(84,ua))("ngClass",e.isGuarantorDetails?"enable":"disable"),i.Eb(8),i.rc("ngClass",e.isLoanApplicationEntryDone?"active":"notActive"),i.Eb(1),i.rc("ngClass",e.isLoanApplicationEntryDone?"active":"notActive"),i.Eb(9),i.rc("routerLink",i.wc(85,da)),i.Eb(5),i.rc("ngClass",e.isLoanInterestDetails?"enable":"disable")("routerLink",i.wc(86,pa)),i.Eb(5),i.rc("ngClass",e.isLoanDisbursementDetails?"enable":"disable")("routerLink",i.wc(87,fa)),i.Eb(5),i.rc("ngClass",e.isLoanRepaymentDetails?"enable":"disable")("routerLink",i.wc(88,ga)),i.Eb(5),i.rc("ngClass",e.isChargeDetails?"enable":"disable")("routerLink",i.wc(89,ha)),i.Eb(5),i.rc("ngClass",e.isAccountServices?"enable":"disable")("routerLink",i.wc(90,va)),i.Eb(6),i.rc("ngClass",e.isLoanEnrichment?"active":"notActive"),i.Eb(1),i.rc("ngClass",e.isLoanEnrichment?"active":"notActive"),i.Eb(9),i.rc("routerLink",i.wc(91,Wa)),i.Eb(5),i.rc("ngClass",e.isCreditRatingDetails?"enable":"disable")("routerLink",i.wc(92,Xa)),i.Eb(5),i.rc("ngClass",e.isValuationofAsset?"enable":"disable")("routerLink",i.wc(93,ya)),i.Eb(5),i.rc("ngClass",e.isLegalOpinion?"enable":"disable")("routerLink",i.wc(94,xa)),i.Eb(6),i.rc("ngClass",e.isUnderWritingStageDone?"active":"notActive"),i.Eb(1),i.rc("ngClass",e.isUnderWritingStageDone?"active":"notActive"),i.Eb(9),i.rc("routerLink",i.wc(95,Ca)),i.Eb(5),i.rc("ngClass",e.isLoanQualitativeScoreboard?"enable":"disable")("routerLink",i.wc(96,Ia)),i.Eb(5),i.rc("ngClass",e.isLoanAssessmentDetails?"enable":"disable")("routerLink",i.wc(97,Oa)),i.Eb(6),i.rc("ngClass",e.isLoanAssessmentStageScreen?"active":"notActive"),i.Eb(1),i.rc("ngClass",e.isLoanAssessmentStageScreen?"active":"notActive"),i.Eb(9),i.rc("routerLink",i.wc(98,Aa)),i.Eb(5),i.rc("ngClass",e.isApprovalScreen?"enable":"disable"),i.Eb(6),i.rc("ngClass",e.isSupervisorapprovalScreen?"active":"notActive"),i.Eb(1),i.rc("ngClass",e.isSupervisorapprovalScreen?"active":"notActive"),i.Eb(9),i.rc("routerLink",i.wc(99,Da)),i.Eb(5),i.rc("ngClass",e.isOfferIssueScreen?"enable":"disable")("routerLink",i.wc(100,Ta)),i.Eb(6),i.rc("ngClass",e.isOfferIssueStageScreen?"active":"notActive"),i.Eb(1),i.rc("ngClass",e.isOfferIssueStageScreen?"active":"notActive"),i.Eb(9),i.rc("routerLink",i.wc(101,Sa)),i.Eb(5),i.rc("routerLink",i.wc(102,ka))("ngClass",e.isOfferIssueRejectScreen?"enable":"disable"),i.Eb(6),i.rc("ngClass",e.isOfferIssueRejectStageScreen?"active":"notActive"),i.Eb(1),i.rc("ngClass",e.isOfferIssueRejectStageScreen?"active":"notActive"),i.Eb(9),i.rc("routerLink",i.wc(103,_a)),i.Eb(5),i.rc("ngClass",e.isPostAmmendementScreen?"enable":"disable")("routerLink",i.wc(104,Ra)),i.Eb(6),i.rc("ngClass",e.isPostAmmendementStageScreen?"active":"notActive"),i.Eb(1),i.rc("ngClass",e.isPostAmmendementStageScreen?"active":"notActive"),i.Eb(9),i.rc("routerLink",i.wc(105,Ma)),i.Eb(5),i.rc("ngClass",e.isAccountCreateDetailsScreen?"enable":"disable")("routerLink",i.wc(106,Ea)),i.Eb(6),i.rc("ngClass",e.isAccountCreationStageScreenDone?"active":"notActive"),i.Eb(1),i.rc("ngClass",e.isAccountCreationStageScreenDone?"active":"notActive"),i.Eb(9),i.rc("routerLink",i.wc(107,Pa)),i.Eb(5),i.rc("ngClass",e.isDigitalSigning?"enable":"disable")("routerLink",i.xc(108,Na,e.accountId)),i.Eb(5),i.rc("routerLink",i.wc(110,wa)))},directives:[Ge.e,Ge.d,Ye.a,$e.a,Qe.a,o.j,Ze.a,n.l,jt.a,v.a,r.b,o.k,n.n,r.e,o.m],styles:["li[_ngcontent-%COMP%]{list-style-type:none!important}a[_ngcontent-%COMP%]   .mat-icon.sidenav-mat-icon[_ngcontent-%COMP%]{border-left:none!important;border-color:transparent}.sidenav-hold[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:before{background:none!important;top:0}li.open[_ngcontent-%COMP%]{background:none!important}.active[_ngcontent-%COMP%], .enable[_ngcontent-%COMP%]{color:#03a9f4!important}.disable[_ngcontent-%COMP%], .notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.topSection[_ngcontent-%COMP%]{margin-top:35px!important}"]}),t})();var La=a("laYw");const Va=function(){return{y:"50px",delay:"300ms"}},za=function(t){return{value:"*",params:t}};function qa(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",23),i.Xb(1,"mat-card"),i.Xb(2,"div",24),i.Xb(3,"div",25),i.Xb(4,"mat-icon",26),i.Tc(5,"check_circle"),i.Wb(),i.Wb(),i.Xb(6,"div",27),i.Xb(7,"h6"),i.Tc(8,"Application Assesment Completed"),i.Wb(),i.Wb(),i.Sb(9,"span",28),i.Xb(10,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().viewSummary()}),i.Tc(11," View Summary "),i.Wb(),i.Wb(),i.Wb(),i.Wb()}2&t&&(i.Eb(1),i.rc("@animate",i.xc(2,za,i.wc(1,Va))))}function Ba(t,e){1&t&&(i.Xb(0,"div",30),i.Sb(1,"mat-progress-bar",31),i.Xb(2,"p",32),i.Tc(3,"Completed"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("color","primary")("value",100))}const ja=function(){return["/loan/account/assessment/qualitative"]};function Ua(t,e){1&t&&(i.Xb(0,"button",33),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t&&i.rc("routerLink",i.wc(1,ja))}function Ha(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().openLoanQualitativeDialog()}),i.Tc(1," View Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()}}function Ga(t,e){}function Ya(t,e){1&t&&(i.Xb(0,"div",30),i.Sb(1,"mat-progress-bar",31),i.Xb(2,"p",32),i.Tc(3,"Completed"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("color","primary")("value",100))}function $a(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().openLoanAssessmentDialog()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const Qa=function(){return["/loan/account/assessment/assessment-details"]};function Za(t,e){1&t&&(i.Xb(0,"button",33),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t&&i.rc("routerLink",i.wc(1,Qa))}function Ja(t,e){if(1&t&&i.Rc(0,Za,4,2,"button",18),2&t){const t=i.jc();i.rc("ngIf",!t.isLoanAssessmentDetails)}}const Ka=function(t){return{"border-size":t}};let tn=(()=>{class t{constructor(t,e,a,n,i,o){this.router=t,this.dialogService=e,this.ls=a,this.cdr=n,this.accountService=i,this.apiService=o,this.isLoanQualitativeScoreboard=!1,this.isLoanAssessmentDetails=!1,this.isAssessmentStageDone=!1}ngOnInit(){this.loanAccountId=this.ls.getItem("loanAccountId"),this.isAssessmentStageDone=this.ls.getItem("assessmentStage"),this.isLoanQualitativeScoreboard=this.ls.getItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),this.isLoanAssessmentDetails=this.ls.getItem("LOAN_ASSESSMENT_DETAILS_DONE"),this.accountService.refresh.subscribe(t=>{this.loanAccountId=this.ls.getItem("loanAccountId"),this.isLoanQualitativeScoreboard=this.ls.getItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),this.isLoanAssessmentDetails=this.ls.getItem("LOAN_ASSESSMENT_DETAILS_DONE"),this.cdr.markForCheck()})}qualitativeScoreboard(){this.router.navigate(["loan/account/assessment/qualitative"])}getData(t){this.apiService.getApplnAssessmentDetails(t).subscribe(t=>{this.assessmentReportSummary=t,console.log(this.assessmentReportSummary)})}viewSummary(){this.router.navigate(["loan/account/assessment/summary"])}openLoanQualitativeDialog(){this.dialogService.loanQualitativeSummaryDialog()}openLoanAssessmentDialog(){this.dialogService.loanAssessmentSummaryDialog()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(La.a),i.Rb(u.a),i.Rb(i.h),i.Rb(d.a),i.Rb(p.b))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-assesment-stage"]],decls:50,vars:15,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],["mat-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["showQualitative",""],[4,"ngIf","ngIfElse"],["showReport",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create Retain Loan Account"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Open a Retain Loan Account with bank XYZ bank in a better way. "),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,qa,12,4,"div",8),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Xb(14,"mat-card",11),i.Xb(15,"mat-card-header"),i.Xb(16,"mat-card-title"),i.Tc(17,"1. Qualitative Scorecard Details"),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"div",12),i.Xb(20,"div",13),i.Xb(21,"p",14),i.Tc(22,"Relevant evaluation details of the Applicant is captured and the scores are automatically displayed."),i.Wb(),i.Wb(),i.Xb(23,"div",15),i.Sb(24,"img",16),i.Wb(),i.Wb(),i.Rc(25,Ba,4,2,"div",17),i.Wb(),i.Sb(26,"mat-divider"),i.Xb(27,"mat-card-actions"),i.Rc(28,Ua,4,2,"button",18),i.Rc(29,Ha,4,0,"button",19),i.Rc(30,Ga,0,0,"ng-template",null,20,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Xb(32,"div",10),i.Xb(33,"mat-card",11),i.Xb(34,"mat-card-header"),i.Xb(35,"mat-card-title"),i.Tc(36,"2. Assessment Details"),i.Wb(),i.Wb(),i.Xb(37,"mat-card-content"),i.Xb(38,"div",12),i.Xb(39,"div",13),i.Xb(40,"p",14),i.Tc(41,"The evaluation in terms of the qualitative and quantitative scores are recorded."),i.Wb(),i.Wb(),i.Xb(42,"div",13),i.Sb(43,"img",16),i.Wb(),i.Wb(),i.Rc(44,Ya,4,2,"div",17),i.Wb(),i.Sb(45,"mat-divider"),i.Xb(46,"mat-card-actions"),i.Rc(47,$a,5,0,"ng-container",21),i.Rc(48,Ja,1,1,"ng-template",null,22,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(49);i.Eb(11),i.rc("ngIf",e.isLoanQualitativeScoreboard&&e.isLoanAssessmentDetails),i.Eb(3),i.rc("ngClass",i.xc(11,Ka,e.isLoanQualitativeScoreboard||!e.isLoanQualitativeScoreboard)),i.Eb(10),i.rc("src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg",i.Jc),i.Eb(1),i.rc("ngIf",e.isLoanQualitativeScoreboard),i.Eb(3),i.rc("ngIf",!e.isLoanQualitativeScoreboard),i.Eb(1),i.rc("ngIf",e.isLoanQualitativeScoreboard),i.Eb(4),i.rc("ngClass",i.xc(13,Ka,e.isLoanAssessmentDetails||!e.isLoanAssessmentDetails&&e.isLoanQualitativeScoreboard)),i.Eb(10),i.rc("src","assets/images/svg/MaskGroup_13.svg",i.Jc),i.Eb(1),i.rc("ngIf",e.isLoanAssessmentDetails),i.Eb(3),i.rc("ngIf",e.isLoanQualitativeScoreboard&&e.isLoanAssessmentDetails)("ngIfElse",t)}},directives:[r.e,r.b,n.n,c.a,n.l,jt.a,c.e,c.h,c.d,r.f,r.d,x.a,c.b,v.a,l.b,C.a,o.i],styles:[".not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.viewsum[_ngcontent-%COMP%]{float:right;color:#24cca7}.classCompleted1[_ngcontent-%COMP%]     .mat-progress-bar-fill:after{background-color:#24cca7}.classNotCompleted[_ngcontent-%COMP%]{color:#456efe}.classCompleted[_ngcontent-%COMP%]{color:#24cca7}.borderForCardCompeted[_ngcontent-%COMP%]{border:1px dashed #24cca7}.borderForCardNotCompeted[_ngcontent-%COMP%]{border:1px dashed #2196f3}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}"]}),t})();var en=a("3kSh"),an=a("NN4w");function nn(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",12),i.Xb(2,"mat-card",44),i.Xb(3,"div"),i.Xb(4,"div"),i.Xb(5,"div",12),i.Xb(6,"div"),i.Xb(7,"small",45),i.Xb(8,"span"),i.Tc(9),i.Wb(),i.Tc(10,"\xa0 "),i.Xb(11,"span"),i.Tc(12),i.Wb(),i.Tc(13,"\xa0 "),i.Xb(14,"span"),i.Tc(15),i.Wb(),i.Tc(16,"\xa0 "),i.Xb(17,"span"),i.Tc(18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",12),i.Xb(20,"div",46),i.Xb(21,"small",47),i.Tc(22),i.Wb(),i.Wb(),i.Wb(),i.Xb(23,"div"),i.Xb(24,"div",48),i.Xb(25,"small",47),i.Tc(26,"Address: "),i.Xb(27,"span"),i.Tc(28),i.Wb(),i.Tc(29,"\xa0 "),i.Xb(30,"span"),i.Tc(31),i.Wb(),i.Tc(32,"\xa0 "),i.Xb(33,"span"),i.Tc(34),i.Wb(),i.Tc(35,"\xa0 "),i.Xb(36,"span"),i.Tc(37),i.Wb(),i.Tc(38,"\xa0 "),i.Xb(39,"span"),i.Tc(40),i.Wb(),i.Tc(41,"\xa0 "),i.Xb(42,"span"),i.Tc(43),i.Wb(),i.Tc(44,"\xa0"),i.Wb(),i.Wb(),i.Xb(45,"div",48),i.Xb(46,"small",47),i.Tc(47,"Email ID: "),i.Xb(48,"span"),i.Tc(49),i.Wb(),i.Wb(),i.Wb(),i.Xb(50,"div",48),i.Xb(51,"small",47),i.Tc(52,"Phone Number: "),i.Xb(53,"span"),i.Tc(54),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(9),i.Vc("Customer Name: ",null==t?null:t.prefix,""),i.Eb(3),i.Uc(null==t?null:t.firstName),i.Eb(3),i.Uc(null==t?null:t.middleName),i.Eb(3),i.Uc(null==t?null:t.lastName),i.Eb(4),i.Vc("CIF Number: #",null==t?null:t.cifNumber,""),i.Eb(6),i.Uc(null==t?null:t.userAddress[0].address1),i.Eb(3),i.Uc(null==t?null:t.userAddress[0].address2),i.Eb(3),i.Uc(null==t?null:t.userAddress[0].city),i.Eb(3),i.Uc(null==t?null:t.userAddress[0].state),i.Eb(3),i.Uc(null==t?null:t.userAddress[0].country),i.Eb(3),i.Uc(null==t?null:t.userAddress[0].zipCode),i.Eb(6),i.Uc(null==t?null:t.primaryEmailAdress),i.Eb(5),i.Uc(null==t?null:t.phoneNumber)}}function on(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter the Request Loan Amount "),i.Wb())}function rn(t,e){1&t&&(i.Xb(0,"mat-error",49),i.Tc(1," Please enter the Loan Amount System Recommendation "),i.Wb())}function cn(t,e){1&t&&(i.Xb(0,"mat-error",49),i.Tc(1," The Loan System recommendation amount should not be greater than request loan amount "),i.Wb())}function sn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter the Rate Of Interest "),i.Wb())}function ln(t,e){if(1&t&&(i.Xb(0,"mat-option",50),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function bn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter the Approver Recommendation "),i.Wb())}function mn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Loan Tenure is Required!"),i.Wb())}function un(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Loan Tenure is Required!"),i.Wb())}function dn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Loan Tenure is Required!"),i.Wb())}function pn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Input Valid Loan Tenure!"),i.Wb())}function fn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter the Approved Loan Amount "),i.Wb())}function gn(t,e){1&t&&(i.Xb(0,"small",51),i.Tc(1," Approved Loan Amount should not be greater than the Loan Amount Requested. "),i.Wb())}function hn(t,e){if(1&t&&(i.Xb(0,"mat-option",50),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function vn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter the System Recommendation "),i.Wb())}let Wn=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s,l,b,m,u,d,p,f){this.formBuilder=t,this.route=e,this.router=a,this.ls=n,this.dataService=i,this.loader=o,this.accountService=r,this.confirmService=c,this.apiService=s,this.snack=l,this.cdr=b,this.appApiService=m,this.dialog=u,this.elRef=d,this.renderer=p,this.urlService=f,this.submitted=!1,this.arraySystemRecommendation=["Approved","Rejected"],this.arrayUserRecommendation=["Approved","Rejected"],this.showEditOption=!1,this.arrrayResidence=[],this.arrayCountry=[],this.arrayDocumentType=[],this.arrayPrefix=[],this.arrayGender=[],this.arrayResidence=[],this.arrayCity=[],this.arrayAddressType=[],this.arrayState=[],this.applicantDetails=[],this.isCifValid=!1,this.selectedApplicant=null,this.listOfAccounts=[],this.isAccountOpenScreen=!1,this.formData={},this.console=console,this.applicantDetailsArray=[],this.toggle=!1,this.customerDetails={},this.tomorrow=new Date,this.maxDate=new Date,this.minDate=new Date,this.validDate=new Date,this.showNewForm=!0,this.toggleClick=!1,this.previousUrl="",this.addFunc=!0,this.removedButton=!1,this.isAllSameDigitVal=!1,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.isInvalid=!1,this.loanAssessmentForm=this.formBuilder.group({rateOfInterest:[""],requestedLoanAmount:[""],loanTenure:[""],approvedLoanAmount:["",[V.z.required]],loanAmountRecommendation:["",[V.z.required]],userRecommendation:[""],systemRecommendation:[""],day:["",[V.z.required]],month:["",[V.z.required]],year:["",[V.z.required]]})}ngOnInit(){this.selectedYear=(new Date).getFullYear();for(let e=0;e<=50;e++)this.years.push(e);for(let e=0;e<=11;e++)this.months.push(e);for(let e=0;e<=30;e++)this.days.push(e);this.accountId=this.ls.getItem("accountId"),console.log("applicantId",this.route.snapshot.params.id),this.isAccountOpenScreen=JSON.parse(this.ls.getItem("ACC_OPEN_DONE")),this.cifNumberPrimary=this.ls.getItem("CIF_NUM_PRIMARY"),console.log("check if",this.accountId,this.isAccountOpenScreen),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),console.log("LOAN ACCOUNT ID:: ",this.loanaccountID);let t=JSON.parse(this.ls.getItem("LOAN_DETAIL_DONE"));setTimeout(()=>{this.getListOfAccounts(),this.buildCustomerForm(),this.getAccountDetails()},10),null!=this.accountId&&this.isAssessmentStageDone?(this.showEditOption=!0,this.approvedLoanAmount=this.accountDetails.approvedLoanAmount):(this.showEditOption=!1,this.subscription=this.apiService.getaccParam.subscribe(t=>{console.log("data::",t),sessionStorage.setItem("customerName",t.firstName+" "+t.lastName),this.displayResponse=t,this.isObjectEmpty(this.displayResponse)})),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t}),this.accountService.refresh.subscribe(t=>{this.isAccountOpenScreen=JSON.parse(this.ls.getItem("ACC_OPEN_DONE")),this.cdr.markForCheck()}),this.cifNumber=this.ls.getItem("CIF_NUM_PRIMARY"),this.console.log("cifNumber=",this.cifNumber),setTimeout(()=>{null!=this.loanaccountID&&t?this.showEditOption=!0:(console.log("else"),this.showEditOption=!1,this.buildformGroup()),this.getAccountDetails()},10)}createCustomerInfoDetail(t){return this.formBuilder.group({cifNumber:t?t.cifNumber:[""],prefix:t?t.prefix:[""],firstName:t?t.firstName:[""],middleName:t?t.middleName:[""],lastName:t?t.lastName:[""],gender:t?t.gender:[""],addressType:t?t.addressType:[""],building:t?t.building:[""],street:t?t.street:[""],locality:t?t.locality:[""],city:t?t.city:[""],state:t?t.state:[""],country:t?t.country:[""],pinCode:t?t.pinCode:[""],phoneNumber:t?t.phoneNumber:[""],mobileNumber:t?t.mobileNumber:[""],email:t?t.email:[""]})}getCustomerInformationDetails(){this.apiService.getCustomerInformationDetailsById(this.accountId).subscribe(t=>{console.log("All Customer Details",t),this.buildCustomerForm(t)},t=>{})}buildCustomerForm(t){this.applicantForms=this.formBuilder.group({productAccountId:t?t.productAccountId:this.accountId,ownership:t?t.ownership:"Self",numOfApplicants:t?t.numOfApplicants:1,applicantDetails:this.addCustFormGroup()})}isObjectEmpty(t){return"[object Object]"===Object.prototype.toString.call(t)&&"{}"===JSON.stringify(t)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}populatePrimaryApplicant(t){let e={cifNumber:this.cifNumberPrimary,prefix:t.prefix,existingCustomer:!0,primaryCustomer:!0,customerId:t.customerId,firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,gender:t.gender,dateOfBirth:this.convertDate(t.dateOfBirth),addressType:t.addressType,address1:t.address1,address2:t.address2,city:t.city,country:t.country,state:t.state,zipCode:t.zipCode,phoneNumber:t.phoneNumber,landlineNumber:t.landlineNumber,primaryEmailAdress:t.primaryEmailAdress};this.applicant.patchValue(e)}convertDate(t){let e=$(t).format("YYYY-MM-DD");if(console.log("date",e),e)return e}getAccountDetails(){console.log("LoanAccountId:",this.loanaccountID),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(t=>{this.rateOfInterest=t.rateOfInterest,this.loanTenure=t.loanTenure;var e=Number(this.loanTenure.split("-")[2].match(/\d+/)[0]);console.log(e);var a=Number(this.loanTenure.split("-")[1].match(/\d+/)[0]);console.log(a);var n=Number(this.loanTenure.split("-")[0].match(/\d+/)[0]);console.log(n),console.log("LoanAccountId:",t.loanAccountId),console.log("rateofinterest:",t.loanAmount),console.log("loan tenure:",t.loanTenure),console.log(t),this.buildformGroup(t),null!=this.approvedLoanAmount&&this.updateLoanAssessmentDetails()},t=>{})}addCustomerFormGroup(){return this.formBuilder.group({cifNumber:[""],customerId:[""],prefix:[""],firstName:[""],middleName:[""],lastName:[""],gender:[""],dateOfBirth:[""],addressType:[""],address1:[""],address2:[""],city:[""],state:[""],country:[""],zipCode:[""],phoneNumber:[""],landlineNumber:[""],primaryEmailAdress:[""]})}buildformGroup(t){console.log(t),this.loanAssessmentForm=this.formBuilder.group({rateOfInterest:[t?t.rateOfInterest:"",[V.z.required]],loanTenure:[t?t.loanTenure:""],approvedLoanAmount:[t?t.approvedLoanAmount:"",[V.z.required]],loanAmountRecommendation:[t?t.loanAmountRecommendation:"",V.z.compose([V.z.required,V.z.max(this.loanAssessmentForm.get("requestedLoanAmount").value)])],userRecommendation:[t?t.userRecommendation:"",[V.z.required]],systemRecommendation:[t?t.systemRecommendation:"",[V.z.required]],requestedLoanAmount:[t?t.requestedLoanAmount:"",[V.z.required]],day:[t?Number(t.loanTenure.split("-")[2].match(/\d+/)[0]):"",[V.z.required]],month:[t?Number(t.loanTenure.split("-")[1].match(/\d+/)[0]):"",[V.z.required]],year:[t?Number(t.loanTenure.split("-")[0].match(/\d+/)[0]):"",[V.z.required]]})}onReset(){this.submitted=!1,this.applicantForms.reset({})}onClear(){this.submitted=!1}resetAndClose(){this.closeDetails()}closeDetails(){this.selectedApplicant=null,this.applicant.reset(),this.applicantForms.get("numOfApplicants").enable({onlySelf:!0})}onChange(t){this.reData=this.loanAssessmentForm.get("requestedLoanAmount").value,console.log(this.reData),this.loanData=this.loanAssessmentForm.get("loanAmountRecommendation").value,console.log(this.loanData),t==this.reData&&(this.isInvalid=!0)}toggleDetails(t){let e;console.log("customerId incomming",t),this.applicantForms.get("numOfApplicants").disable({onlySelf:!0,emitEvent:!1}),console.log(t.userAddress.length),e=t.userAddress.length>1?t.userAddress.find(t=>"Permanent"==t.addressType):t.userAddress[0];let a={existingCustomer:t.existingCustomer,dependentId:t.dependentId,primaryCustomer:t.primaryCustomer,cifNumber:t.cifNumber,prefix:t.prefix,firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,gender:t.gender,dateOfBirth:t.dateOfBirth,addressType:e.addressType,address1:e.address1,address2:e.address2,city:e.city,state:e.state,country:e.country,zipCode:e.zipCode,phoneNumber:t.phoneNumber,landlineNumber:t.landlineNumber,primaryEmailAdress:t.primaryEmailAdress};console.log("account.firstName=",t.firstName),this.selectedApplicant=t,this.applicant.patchValue(a,{onlySelf:!1,emitEvent:!1}),this.cdr.markForCheck()}getListOfAccounts(){this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(t=>{if(this.console.log("resp:",t),this.console.log("address1:",t.data[0].userAddress[0].address1),this.address1=t.data[0].userAddress[0].address1,this.address2=t.data[0].userAddress[0].address2,this.city=t.data[0].userAddress[0].city,this.state=t.data[0].userAddress[0].state,this.country=t.data[0].userAddress[0].country,this.zipCode=t.data[0].userAddress[0].zipCode,this.listOfAccounts=200==t.status?t.data.map(t=>Object.assign(Object.assign({},t),{_id:Math.round(1e10*Math.random())})):[],this.loader.close(),console.log("All Customer Details",this.listOfAccounts.length),200==t.status&&this.ls.setItem("cId",t.data[0].customerId),console.log("Length check??",this.listOfAccounts.length),0==this.listOfAccounts.length)this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0);else if(1==this.listOfAccounts.length)this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!1);else if(this.listOfAccounts.length>=2){this.applicantForms.get("ownership").patchValue("Join");for(let e=0;e<t.data.length;e++)this.applicantForms.get("numOfApplicants").patchValue(t.data[e].numOfApplicants)}this.cdr.markForCheck(),this.toggleChanges()},t=>{this.loader.close()})}toggleChanges(){1==this.applicant.get("existingCustomer").value?(this.applicant.get("cifNumber").enable(),this.applicant.get("cifNumber").setValidators([V.z.required]),this.applicant.get("cifNumber").updateValueAndValidity()):(this.applicant.get("cifNumber").disable(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity())}toggleAddForm(){this.showNewForm=!this.showNewForm}addCustFormGroup(){return this.formBuilder.group({existingCustomer:[null,[]],primaryCustomer:[null,[]],cifNumber:[""],customerId:[""],dependentId:[null],prefix:[""],firstName:[""],middleName:[""],lastName:[""],gender:[""],dateOfBirth:[""],addressType:[""],address1:[""],address2:[""],city:[""],state:[""],country:[""],zipCode:[""],phoneNumber:["",[V.z.required,V.z.minLength(3),V.z.maxLength(10),V.z.pattern("^[0-9]{10,12}$")]],landlineNumber:["",[V.z.required,V.z.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:["",[V.z.required,V.z.email]]})}get f(){return this.applicantForms.controls}get applicantCount(){return this.f.numOfApplicants}get applicant(){return this.f.applicantDetails}onSubmit(){if(this.submitted=!0,console.log("saveapplicant"),this.isCifValid=!1,this.applicantForms.invalid)return void console.log("test");this.loader.open();let t={};const e=this.applicantForms.controls.applicantDetails.value;let a={},n=[];t.customerId=this.ls.getItem("cId"),t.cifNumber=e.cifNumber,t.dependentId=e.dependentId,t.existingCustomer=e.existingCustomer,t.primaryCustomer=e.primaryCustomer,t.phoneNumber=e.phoneNumber,t.primaryEmailAdress=e.primaryEmailAdress,t.prefix=e.prefix,t.firstName=e.firstName,t.middleName=e.middleName,t.lastName=e.lastName,t.cifNumber=e.cifNumber,t.gender=e.gender,t.dateOfBirth=this.convertDate(e.dateOfBirth),t.accountId=this.accountId,t.landlineNumber=e.landlineNumber,t.ownership=this.applicantForms.get("ownership").value,t.numOfApplicants=this.applicantForms.get("numOfApplicants").value,a.address1=e.address1,a.address2=e.address2,a.country=e.country,a.state=e.state,a.city=e.city,a.zipCode=e.zipCode,a.addressType=e.addressType,n.push(a),t.userAddress=n,console.log("payloadObj",t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.dataService.sendNavParam({})}isAllSameDigit(t){let e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;console.log("number :: ",a),console.log("isAllSameDigitVal :: ",e,a.length),e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}goBack(){this.router.navigate(["/loan/account/assessment/qualitative"])}goToNext(){this.ls.setItem("ACC_OPEN_DONE",!0),this.accountService.refresh.next(),this.ls.setItem("NO_OF_APPLICANTS",this.applicantForms.get("numOfApplicants").value),this.router.navigate(["/loan/account/list"])}goNext(){var t=this.loanAssessmentForm.value.approvedLoanAmount;t=parseInt(t);var e=this.loanAssessmentForm.value.rateOfInterest;e=parseInt(e);var a=this.loanAssessmentForm.value.loanTenure,n=this.loanAssessmentForm.value.requestedLoanAmount;n=parseInt(n),console.log("payload",{loanAccountId:this.loanaccountID,approvedLoanAmount:t,requestedLoanAmount:n,rateOfInterest:e,loanTenure:a,loanAmountRecommendation:this.loanAssessmentForm.value.loanAmountRecommendation,userRecommendation:this.loanAssessmentForm.value.userRecommendation,systemRecommendation:this.loanAssessmentForm.value.systemRecommendation}),this.updateLoanAssessmentDetails()}updateLoanAssessmentDetails(){var t=this.loanAssessmentForm.value.approvedLoanAmount;t=parseInt(t);var e=this.loanAssessmentForm.value.loanAmountRecommendation;e=parseInt(e);let a={loanAccountId:this.loanaccountID,approvedLoanAmount:t,requestedLoanAmount:this.loanAssessmentForm.value.requestedLoanAmount,rateOfInterest:this.loanAssessmentForm.value.rateOfInterest,loanTenure:this.loanAssessmentForm.value.loanTenure,loanAmountRecommendation:this.loanAssessmentForm.value.loanAmountRecommendation,userRecommendation:this.loanAssessmentForm.value.userRecommendation,systemRecommendation:this.loanAssessmentForm.value.systemRecommendation};console.log("payload",a),this.apiService.updateAssessmentDetails(a).subscribe(t=>{console.log("approvedLoanAmount:",t.approvedLoanAmount),this.snack.open("Loan Assessment Details Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),console.log(t),this.ls.setItem("LOAN_ASSESSMENT_DETAILS_DONE",!0),this.ls.setItem("LOAN_ASSESSMENT_STAGE_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/supervisor-summary/"])},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}onInput(t,e){this.approvedLoanAmount=e?t.target.value:t,console.log("this.salary)::",this.approvedLoanAmount);let a=this.approvedLoanAmount.toString().replace(/,/g,"").split(".");a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let n=a.join(".");console.log("final",n),this.loanAssessmentForm.controls.approvedLoanAmount.setValue(n)}keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}limitMonth(t){Number(t.target.value)>12&&(t.target.value=t.target.value.slice(0,1))}limitDays(t){Number(t.target.value)>31&&(t.target.value=t.target.value.slice(0,1))}OnInput(t,e,a){this.approvedLoanAmount=t.target.value,console.log(Number(this.approvedLoanAmount),Number(e),Number(a)),this.flag=Number(this.approvedLoanAmount)>Number(e)||Number(this.approvedLoanAmount)>Number(a);let n=String.fromCharCode(t.charCode);/[0-9]/.test(n)||t.preventDefault()}removeComma(t){var e=t.replace(/,/g,"");return console.log("numb",e),e}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(o.a),i.Rb(o.h),i.Rb(u.a),i.Rb(f.a),i.Rb(yt.a),i.Rb(K.a),i.Rb(en.a),i.Rb(p.b),i.Rb(h.a),i.Rb(i.h),i.Rb(Ne.a),i.Rb(g.b),i.Rb(i.l),i.Rb(i.I),i.Rb(an.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-assessment-details"]],viewQuery:function(t,e){if(1&t&&i.ad(C.a,!0),2&t){let t;i.Cc(t=i.gc())&&(e.progressBar=t.first)}},decls:102,vars:19,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_13.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","row wrap",1,"full-width"],[1,"p-0"],[1,"alignChange"],["visible","true"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"full-width"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],[4,"ngFor","ngForOf"],[3,"formGroup"],["fxLayout","column","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["fxFlex","49%",1,"flex-grow-1","marginnpadding"],["appearance","outline",1,"full-width"],["matInput","","formControlName","requestedLoanAmount","type","text","readonly","",1,"alignment",3,"keypress"],[4,"ngIf"],["fxFlex","50%",1,"flex-grow-1","loanCard","marginnpadding"],[1,"flex-grow-1","marginpadding"],["type","text","matInput","","name","loanAmountRecommendation","autocomplete","off","formControlName","loanAmountRecommendation","placeholder","Loan amount Recommendation",1,"alignment",3,"keypress"],["class","colorRed",4,"ngIf"],["fxFlex","70%","fxLayoutGap","10px"],["matInput","","formControlName","rateOfInterest","type","text","placeholder","Rate Of Interest","readonly","",1,"alignment",3,"keypress"],["fxFlex","49%",1,"flex-grow-1","loanCard","marginpadding"],["formControlName","userRecommendation","placeholder","Select","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],[1,"size"],["appearance","outline","fxFlex","22.5",1,"full-width","tenure1"],["matInput","","formControlName","year","name","year","placeholder","Year","autocomplete","off","maxlength","2",1,"alignment"],["matInput","","formControlName","month","name","month","placeholder","Month","autocomplete","off",1,"alignment",3,"keypress","input"],["appearance","outline","fxFlex","22",1,"full-width","tenure1"],["matInput","","formControlName","day","name","day","placeholder","Day","autocomplete","off",1,"alignment",3,"keypress","input"],["fxFlex","49%",1,"flex-grow-1","marginpadding"],["matInput","","formControlName","approvedLoanAmount","pattern","^[1-9][0-9]*$","autocomplete","off","type","text","placeholder","Approved Loan Amount",1,"alignment",3,"input"],["style","color:red;",4,"ngIf"],["formControlName","systemRecommendation","placeholder","Select","disableOptionCentering",""],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[1,"bg-light"],[1,"valueText"],[1,"pr-16"],[1,"valueTextName"],["fxFlex.xs","100%",1,"pr-16"],[1,"colorRed"],[3,"value"],[2,"color","red"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Assessment Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"div",1),i.Xb(10,"mat-card",7),i.Xb(11,"mat-card-title",8),i.Xb(12,"fieldset"),i.Xb(13,"legend",9),i.Tc(14,"Customer Information"),i.Wb(),i.Wb(),i.Wb(),i.Xb(15,"div",10),i.Xb(16,"div",11),i.Xb(17,"div",12),i.Xb(18,"div",13),i.Rc(19,nn,55,13,"div",14),i.Wb(),i.Wb(),i.Sb(20,"br"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(21,"div",1),i.Xb(22,"mat-card",7),i.Xb(23,"mat-card-title",8),i.Xb(24,"fieldset"),i.Xb(25,"legend",9),i.Tc(26,"Assessment Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div"),i.Xb(28,"form",15),i.Xb(29,"div",16),i.Xb(30,"div",17),i.Xb(31,"div",18),i.Xb(32,"mat-form-field",19),i.Xb(33,"mat-label"),i.Tc(34,"Request Loan Amount*"),i.Wb(),i.Xb(35,"input",20),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Tc(36),i.Rc(37,on,2,0,"mat-error",21),i.Wb(),i.Wb(),i.Xb(38,"div",22),i.Xb(39,"div",23),i.Xb(40,"mat-form-field",19),i.Xb(41,"mat-label"),i.Tc(42,"Loan Amount System Recommendation*"),i.Wb(),i.Xb(43,"input",24),i.fc("keypress",function(t){return e.onChange(t)}),i.Wb(),i.Rc(44,rn,2,0,"mat-error",25),i.Rc(45,cn,2,0,"mat-error",25),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",26),i.Xb(47,"div",18),i.Xb(48,"mat-form-field",19),i.Xb(49,"mat-label"),i.Tc(50,"Rate Of Interest*"),i.Wb(),i.Xb(51,"input",27),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Tc(52),i.Rc(53,sn,2,0,"mat-error",21),i.Wb(),i.Wb(),i.Xb(54,"div",28),i.Xb(55,"mat-form-field",19),i.Xb(56,"mat-label"),i.Tc(57,"Approver Recommendation*"),i.Wb(),i.Xb(58,"mat-select",29),i.Rc(59,ln,2,2,"mat-option",30),i.Wb(),i.Rc(60,bn,2,0,"mat-error",21),i.Wb(),i.Wb(),i.Wb(),i.Xb(61,"div",26),i.Xb(62,"div",18),i.Xb(63,"label",31),i.Tc(64,"Loan Tenure*"),i.Wb(),i.Xb(65,"mat-form-field",32),i.Xb(66,"mat-label"),i.Tc(67,"Year*"),i.Wb(),i.Sb(68,"input",33),i.Wb(),i.Xb(69,"mat-form-field",32),i.Xb(70,"mat-label"),i.Tc(71,"Month*"),i.Wb(),i.Xb(72,"input",34),i.fc("keypress",function(t){return e._keyPress1(t)})("input",function(t){return e.limitMonth(t)}),i.Wb(),i.Wb(),i.Xb(73,"mat-form-field",35),i.Xb(74,"mat-label"),i.Tc(75,"Day*"),i.Wb(),i.Xb(76,"input",36),i.fc("keypress",function(t){return e._keyPress1(t)})("input",function(t){return e.limitDays(t)}),i.Wb(),i.Wb(),i.Rc(77,mn,2,0,"mat-error",21),i.Rc(78,un,2,0,"mat-error",21),i.Rc(79,dn,2,0,"mat-error",21),i.Rc(80,pn,2,0,"mat-error",21),i.Wb(),i.Xb(81,"div",37),i.Xb(82,"mat-form-field",19),i.Xb(83,"mat-label"),i.Tc(84,"Approved Loan Amount*"),i.Wb(),i.Xb(85,"input",38),i.fc("input",function(t){return e.OnInput(t,e.loanAmountRecommendation,e.loanAssessmentForm.get("requestedLoanAmount").value)}),i.Wb(),i.Rc(86,fn,2,0,"mat-error",21),i.Wb(),i.Xb(87,"div"),i.Rc(88,gn,2,0,"small",39),i.Wb(),i.Wb(),i.Wb(),i.Xb(89,"div",26),i.Xb(90,"div",18),i.Xb(91,"mat-form-field",19),i.Xb(92,"mat-label"),i.Tc(93,"System Recommendation*"),i.Wb(),i.Xb(94,"mat-select",40),i.Rc(95,hn,2,2,"mat-option",30),i.Wb(),i.Rc(96,vn,2,0,"mat-error",21),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(97,"div",41),i.Xb(98,"button",42),i.fc("click",function(){return e.goBack()}),i.Tc(99," Back "),i.Wb(),i.Xb(100,"button",43),i.fc("click",function(){return e.goNext()}),i.Tc(101," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(19),i.rc("ngForOf",e.listOfAccounts),i.Eb(9),i.rc("formGroup",e.loanAssessmentForm),i.Eb(8),i.Vc("",null==e.accountDetails?null:e.accountDetails.loanAmount," "),i.Eb(1),i.rc("ngIf",!e.loanAssessmentForm.get("requestedLoanAmount").valid&&e.loanAssessmentForm.get("requestedLoanAmount").touched),i.Eb(7),i.rc("ngIf",(null==e.loanAssessmentForm.controls.loanAmountRecommendation.errors?null:e.loanAssessmentForm.controls.loanAmountRecommendation.errors.required)&&e.loanAssessmentForm.controls.loanAmountRecommendation.touched),i.Eb(1),i.rc("ngIf",e.loanAssessmentForm.get("loanAmountRecommendation").value>e.loanAssessmentForm.get("requestedLoanAmount").value),i.Eb(7),i.Vc("",null==e.accountDetails?null:e.accountDetails.rateOfInterest," "),i.Eb(1),i.rc("ngIf",!e.loanAssessmentForm.get("rateOfInterest").valid&&e.loanAssessmentForm.get("rateOfInterest").touched),i.Eb(6),i.rc("ngForOf",e.arrayUserRecommendation),i.Eb(1),i.rc("ngIf",!e.loanAssessmentForm.get("userRecommendation").valid&&e.loanAssessmentForm.get("userRecommendation").touched),i.Eb(17),i.rc("ngIf",!e.loanAssessmentForm.get("year").valid&&e.loanAssessmentForm.get("year").touched),i.Eb(1),i.rc("ngIf",!e.loanAssessmentForm.get("month").valid&&e.loanAssessmentForm.get("month").touched),i.Eb(1),i.rc("ngIf",!e.loanAssessmentForm.get("day").valid&&e.loanAssessmentForm.get("day").touched),i.Eb(1),i.rc("ngIf","0 year"==e.loanAssessmentForm.get("year").value&&"0 month"==e.loanAssessmentForm.get("month").value&&"0 day"==e.loanAssessmentForm.get("day").value),i.Eb(6),i.rc("ngIf",!e.loanAssessmentForm.get("approvedLoanAmount").valid&&e.loanAssessmentForm.get("approvedLoanAmount").touched),i.Eb(2),i.rc("ngIf",e.flag),i.Eb(7),i.rc("ngForOf",e.arraySystemRecommendation),i.Eb(1),i.rc("ngIf",!e.loanAssessmentForm.get("systemRecommendation").valid&&e.loanAssessmentForm.get("systemRecommendation").touched),i.Eb(4),i.rc("disabled",!e.loanAssessmentForm.valid||e.flag))},directives:[r.e,r.b,c.a,c.h,r.d,r.f,n.m,V.A,V.s,V.j,s.c,s.g,z.b,V.c,V.r,V.i,n.n,q.a,V.m,V.w,l.b,s.b,B.n],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.valueText[_ngcontent-%COMP%]{color:#0f0f0f}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{font-size:14px}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.type[_ngcontent-%COMP%]{text-transform:capitalize}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px}.sqInput1[_ngcontent-%COMP%]{width:28%;margin-left:2.9%;height:55px}.loanCard[_ngcontent-%COMP%]{margin-top:2px}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.size[_ngcontent-%COMP%]{margin-top:15px}.marginnpadding[_ngcontent-%COMP%]{padding-left:2%}.marginpadding[_ngcontent-%COMP%]{padding-left:1%;padding-right:1.2%}fieldset[_ngcontent-%COMP%]{margin-left:27px!important}"]}),t})();var Xn=a("2Goh"),yn=a("o4Yh");function xn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter valid Scorecard ID "),i.Wb())}function Cn(t,e){if(1&t&&(i.Xb(0,"div",19),i.Xb(1,"div",20),i.Tc(2,"Number of Applicant "),i.Xb(3,"div"),i.Tc(4),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(4),i.Uc(t.applicantId)}}function In(t,e){1&t&&(i.Xb(0,"span",30),i.Tc(1," *"),i.Wb())}function On(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",37),i.Xb(1,"mat-form-field",38),i.Xb(2,"input",39),i.fc("keyup",function(e){i.Hc(t);const a=i.jc(),n=a.index,o=a.$implicit,r=i.jc().$implicit,c=i.jc();return c.validateInputValue(e.target.value,n,o.validationName),c.insertData(o.scoreCardQuestionId,e.target.value,o.attributeType,o.scoreCardMappingId,n,r.applicantId)})("click",function(e){i.Hc(t);const a=i.jc(),n=a.index,o=a.$implicit;return i.jc(2).validateInputValue(e.target.value,n,o.validationName)}),i.Wb(),i.Wb(),i.Xb(3,"mat-error",40),i.Tc(4),i.Wb(),i.Wb()}if(2&t){const t=i.jc(),e=t.index,a=t.$implicit,n=i.jc().index,o=i.jc();i.Eb(2),i.sc("name","input"+e),i.sc("id","input"+e),i.rc("required",a.isRequired)("autocomplete",o.off)("maxlength","Name"==a.validationName?25:50)("value",null==o.scoreCardMappingArray[n].scoreCardDetails[e].scorecardAnswer?"":o.scoreCardMappingArray[n].scoreCardDetails[e].scorecardAnswer),i.Eb(1),i.Oc("visibility","hidden"),i.sc("id","inputError"+e),i.Eb(1),i.Vc("Enter ",a.validationName,"")}}function An(t,e){if(1&t&&(i.Xb(0,"mat-option",43),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Dn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",24),i.Xb(1,"mat-form-field",31),i.Xb(2,"mat-select",41),i.fc("valueChange",function(e){i.Hc(t);const a=i.jc(),n=a.$implicit,o=a.index,r=i.jc().index,c=i.jc();return"checkbox"==n.attributeType?c.sbMultiSelectAnswer:c.scoreCardMappingArray[r].scoreCardDetails[o].scorecardAnswer=e})("click",function(e){i.Hc(t);const a=i.jc().index;return i.jc(2).validateSelectValue(e.target.value,a)})("selectionChange",function(e){i.Hc(t);const a=i.jc(),n=a.index,o=a.$implicit,r=i.jc().$implicit,c=i.jc();return c.validateSelectValue(e.value,n),c.insertData(o.scoreCardQuestionId,e.value,o.attributeType,o.scoreCardMappingId,n,r.applicantId)}),i.Xb(3,"mat-option"),i.Tc(4,"Select"),i.Wb(),i.Rc(5,An,2,2,"mat-option",42),i.Wb(),i.Wb(),i.Xb(6,"mat-error",40),i.Tc(7),i.Wb(),i.Wb()}if(2&t){const t=i.jc(),e=t.$implicit,a=t.index,n=i.jc().index,o=i.jc();i.Eb(2),i.rc("required",e.isRequired)("name","checkbox"==e.attributeType?"multiSelect"+a:"select"+a)("id","checkbox"==e.attributeType?"multiSelect"+a:"select"+a)("value","checkbox"==e.attributeType?o.sbMultiSelectAnswer:o.scoreCardMappingArray[n].scoreCardDetails[a].scorecardAnswer)("multiple","checkbox"==e.attributeType),i.Eb(3),i.rc("ngForOf",e.scorecardAnswers),i.Eb(1),i.Oc("visibility","hidden"),i.sc("id","selectError"+a),i.Eb(1),i.Vc("Please select ",e.validationName,"")}}function Tn(t,e){if(1&t&&(i.Xb(0,"div",33),i.Xb(1,"div",24),i.Xb(2,"div",29),i.Xb(3,"mat-hint"),i.Tc(4),i.Rc(5,In,2,0,"span",34),i.Wb(),i.Wb(),i.Rc(6,On,5,10,"div",35),i.Rc(7,Dn,8,10,"div",36),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=e.index;i.Eb(4),i.Wc("",a+1,".",t.scorecardQuestion,""),i.Eb(1),i.rc("ngIf",t.isRequired),i.Eb(1),i.rc("ngIf","textbox"==t.attributeType),i.Eb(1),i.rc("ngIf","drop-down"==t.attributeType||"checkbox"==t.attributeType)}}function Sn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"mat-expansion-panel",21),i.Xb(1,"mat-expansion-panel-header"),i.Xb(2,"mat-panel-title"),i.Xb(3,"mat-icon",22),i.Tc(4,"check_circle"),i.Wb(),i.Xb(5,"span",20),i.Tc(6),i.Wb(),i.Wb(),i.Wb(),i.Xb(7,"mat-card",23),i.Xb(8,"mat-card-content",24),i.Xb(9,"div"),i.Xb(10,"h3"),i.Tc(11,"Questions"),i.Wb(),i.Wb(),i.Xb(12,"div",25),i.Xb(13,"div",26),i.Rc(14,Tn,8,5,"div",27),i.Xb(15,"div",28),i.Xb(16,"div",29),i.Xb(17,"mat-hint"),i.Tc(18,"Score"),i.Sb(19,"span",30),i.Wb(),i.Wb(),i.Xb(20,"div",24),i.Xb(21,"mat-form-field",31),i.Xb(22,"input",32),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(e){return i.Hc(t),i.jc().scoreCardValue(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=i.jc();i.Eb(6),i.Vc("Applicant ",t.applicantId,""),i.Eb(8),i.rc("ngForOf",t.scoreCardDetails),i.Eb(8),i.rc("formControl",a.ScoreId)}}let kn=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s){this.router=t,this.api=e,this.snack=a,this.fb=n,this.ls=i,this.elRef=o,this.renderer=r,this.cdr=c,this.accountService=s,this.sbMultiSelectAnswer=[],this.scoreboardQuestionsArray=[],this.scoreCardMappingArray=[],this.numberOfApplicant=new V.g(""),this.scoreCardId=new V.g(""),this.isDataSaved=!1,this.disableDoneBtn=!0,this.anyErrorExist=!1,this.isQualitativeScreen=!1,this.previousUrl="",this.showEditOption=!1,this.isLoanQualitativeScoreboard=!1,this.sbSelectAnswer=""}ngOnInit(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),console.log("LOAN ACCOUNT ID:: ",this.loanaccountID),this.accountType=this.ls.getItem("accountType"),this.loggedInUser=this.ls.getItem("ICUST_USER"),this.isQualitative=localStorage.getItem("Status"),this.no_of_applicants=this.ls.getItem("NO_OF_APPLICANTS"),console.log(this.no_of_applicants),console.log(this.loggedInUser),JSON.parse(this.ls.getItem("ASSESSMENT_QA_DONE")),this.isLoanQualitativeScoreboard=this.ls.getItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),null!=this.loanaccountID&&this.isLoanQualitativeScoreboard?(this.showEditOption=!0,this.isQualitativeScreen=!0,this.getAllQualitative()):(console.log("else"),this.showEditOption=!1,this.loadData())}counter(t){return new Array(t)}loadData(){this.api.getScorecardQuestions(this.accountType).subscribe(t=>{console.log(t),console.log(this.no_of_applicants),!this.no_of_applicants&&t&&(this.no_of_applicants=t.length);for(let e=0;e<this.no_of_applicants;e++){this.scoreboardQuestionsArray.push({scorecardQuestion:t,applicantId:e+1,scoreCardDetails:t});let a=[];console.log("data",this.scoreCardDetails);for(let e=0;e<t.length;e++)a.push({scoreCardQuestionId:t[e].scoreCardQuestionId,scorecardAnswer:null,scoreCardMappingId:null});this.scoreCardMappingArray.push({applicantId:e+1,scoreCardDetails:a})}console.log("data",this.scoreCardDetails),console.log("ques:",this.scoreboardQuestionsArray),this.cdr.markForCheck()})}getAllQualitative(){console.log(this.isQualitativeScreen),this.api.getLoanQualitativeScorecardDetails(this.loanaccountID).subscribe(t=>{this.qualitativeScoreboardSummary=t,console.log(this.qualitativeScoreboardSummary.scoreCardId+" : "+this.qualitativeScoreboardSummary.numberOfApplicant),this.scoreCardId.setValue(this.qualitativeScoreboardSummary.scoreCardId),this.numberOfApplicant.setValue(this.qualitativeScoreboardSummary.numberOfApplicant),console.log("scorecard id: ",this.scoreCardId),console.log("numberOfApplicant : ",this.numberOfApplicant),console.log(this.qualitativeScoreboardSummary),this.scoreboardQuestionsArray=[];for(let e=0;e<this.qualitativeScoreboardSummary.scoreCardMapping.length;e++)console.log("inside for",this.qualitativeScoreboardSummary.scoreCardMapping),this.api.getScorecardQuestions(this.accountType).subscribe(t=>{console.log(t),console.log(this.no_of_applicants),!this.no_of_applicants&&t&&(this.no_of_applicants=t.length);for(let n=0;n<this.no_of_applicants;n++){this.scoreboardQuestionsArray.push({scorecardQuestion:t,applicantId:n+1,scoreCardDetails:t}),console.log(this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails.length);for(let t=0;t<this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails.length;t++){console.log(this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails);var a=this.qualitativeScoreboardSummary.scoreCardMapping[e].scoreCardDetails;console.log(a),this.sbMultiSelectAnswer.push(a[t].scorecardAnswer),console.log(this.sbMultiSelectAnswer)}}console.log("data",this.scoreCardDetails),console.log("ques:",this.scoreboardQuestionsArray),this.cdr.markForCheck()}),this.scoreCardMappingArray=this.scoreboardQuestionsArray;console.log(this.scoreboardQuestionsArray,"scoreBoardQuestionArray"),this.disableDoneBtn=!1,this.cdr.markForCheck()})}insertData(t,e,a,n,i,o){console.log("Answer: ",e,i,o),console.log("score vaue",this.scorevalue),"checkbox"==a&&(e=e.toString());let r=!1,c=!1;for(let s=0;s<this.scoreCardMappingArray.length;s++)if(this.scoreCardMappingArray[s].applicantId==o){for(let a=0;a<this.scoreCardMappingArray[s].scoreCardDetails.length;a++)console.log(a,this.scoreCardMappingArray[s].scoreCardDetails[a]),this.scoreCardMappingArray[s].scoreCardDetails[a].scoreCardQuestionId==t&&(this.scoreCardMappingArray[s].scoreCardDetails[a].scorecardAnswer=e,r=!0);c=!0}if(!r){let a={};if(a.scoreCardQuestionId=t,a.scorecardAnswer=e,null!=n&&(a.scoreCardMappingId=n),c)for(let t=0;t<this.scoreCardMappingArray.length;t++)this.scoreCardMappingArray[t].applicantId==o&&(this.scoreCardMappingArray[t].scoreCardDetails.push(a),console.log(this.scoreCardMappingArray[t].scoreCardDetails));else this.scoreCardMappingArray.push({applicantId:o,scoreCardDetails:a})}if(this.scoreCardMappingArray.length==this.scoreboardQuestionsArray.length){let t=0;for(let e=0;e<this.scoreCardMappingArray.length;e++)for(let a=0;a<this.scoreCardMappingArray[e].scoreCardDetails.length;a++){let n=this.scoreCardMappingArray[e].scoreCardDetails[a].scorecardAnswer;""!=n&&null!=n&&null!=n||t++}t>0?this.disableDoneBtn=!0:0==this.anyErrorExist&&0==t&&(this.disableDoneBtn=!1)}console.log("Map Array: ",this.scoreCardMappingArray)}validateInputValue(t,e,a){let n="#inputError"+e;""==t||null==t||null==t?this.renderer.setStyle(this.elRef.nativeElement.querySelector(n),"visibility","visible"):isNaN(t)||"Name"!=a?(this.renderer.setStyle(this.elRef.nativeElement.querySelector(n),"visibility","hidden"),this.anyErrorExist=!1):(this.renderer.setStyle(this.elRef.nativeElement.querySelector(n),"visibility","visible"),this.anyErrorExist=!0)}validateSelectValue(t,e){this.renderer.setStyle(this.elRef.nativeElement.querySelector("#selectError"+e),"visibility",""==t||null==t||null==t?"visible":"hidden")}goBack(){this.router.navigate(["/loan/account/assessment/list"])}_keyPress(t){let e=String.fromCharCode(t.charCode);console.log("inputChar",e),e=e.toString(),console.log("inputChar1",e),e=e,/[0-9]/.test(e)||t.preventDefault()}scoreCardValue(t){console.log(t.target.value),this.scorevalue=t.target.value,this.applicantId=this.scoreboardQuestionsArray[0].applicantId,this.saveData()}saveData(){console.log("scoreValue",this.scorevalue);for(let t=0;t<this.scoreCardMappingArray.length;t++)if(this.scoreCardMappingArray[t].applicantId==this.applicantId)for(let e=0;e<this.scoreCardMappingArray[t].scoreCardDetails.length;e++)console.log(e,this.scoreCardMappingArray[t].scoreCardDetails[e]),this.scoreCardMappingArray[t].scoreCardDetails[e].scoreData=this.scorevalue,console.log(this.scoreCardMappingArray[t].scoreCardDetails[e].scoreData)}getAllData(t){this.api.getAssessmentReportDetails(t).subscribe(t=>{this.assessmentReportSummary=t,console.log(this.assessmentReportSummary)})}saveQualitativeScore(){let t={};console.log(this.no_of_applicants);let e=this.no_of_applicants;t.loanAccountId=this.loanaccountID,t.numberOfApplicant=e,t.scoreCardId=this.scoreCardId.value,t.loggedInUser=123,t.accountType="loan",t.scoreCardMapping=this.scoreCardMappingArray,console.log(t),this.api.saveQualitativeScorecard(t).subscribe(e=>{console.log("data",t.loanaccountID),this.snack.open("Loan Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.isDataSaved=!0},t=>{this.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.ls.setItem("LOAN_QUALITATIVE_SCOREBOARD_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/assessment/assessment-details"])}noOfApplicant(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(p.b),i.Rb(h.a),i.Rb(V.f),i.Rb(u.a),i.Rb(i.l),i.Rb(i.I),i.Rb(i.h),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-qualitative-scoreboard"]],decls:37,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxFlex","100",1,"mt-24"],[1,"mt-24"],[1,"card-title-text"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId",3,"formControl"],[4,"ngIf"],[1,"mt-32"],["class","mb-8",4,"ngFor","ngForOf"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"mb-8"],[1,"ml-8"],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"full-width","qdivcard"],[1,"full-width"],["fxLayout","column"],["fxLayout","row","fxFlex","70%","fxLayoutGap","35px"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],["fxFlex","50%",1,"flex-grow-1"],[1,"qDiv"],[1,"redC"],["appearance","outline",1,"full-width"],["matInput","","name","ScoreId","placeholder","Enter the Score",3,"formControl","keypress","input"],["fxLayout","row wrap",1,"full-width"],["class","redC",4,"ngIf"],["class","questions-tab",4,"ngIf"],["class","full-width",4,"ngIf"],[1,"questions-tab"],["appearance","outline",1,"questions-tab"],["matInput","",3,"required","autocomplete","maxlength","name","id","value","keyup","click"],[3,"id"],["disableOptionCentering","","placeholder","Select",3,"required","name","id","value","multiple","valueChange","click","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Qualitative Scoreboard"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"form"),i.Xb(9,"div",6),i.Sb(10,"div",7),i.Xb(11,"mat-card"),i.Xb(12,"mat-card-title"),i.Xb(13,"div",8),i.Tc(14,"Qualitative Scoreboard"),i.Wb(),i.Sb(15,"mat-divider"),i.Wb(),i.Xb(16,"mat-card-content"),i.Xb(17,"h4"),i.Xb(18,"b"),i.Tc(19,"Scorecard ID"),i.Wb(),i.Wb(),i.Xb(20,"h4"),i.Sb(21,"input",9),i.Rc(22,xn,2,0,"mat-error",10),i.Wb(),i.Xb(23,"h3",11),i.Tc(24,"Description"),i.Wb(),i.Xb(25,"p"),i.Tc(26," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. "),i.Wb(),i.Rc(27,Cn,5,1,"div",12),i.Wb(),i.Wb(),i.Sb(28,"div",11),i.Xb(29,"mat-accordion",13),i.Rc(30,Sn,23,3,"mat-expansion-panel",14),i.Wb(),i.Wb(),i.Wb(),i.Xb(31,"div",15),i.Xb(32,"button",16),i.fc("click",function(){return e.goBack()}),i.Tc(33,"Back"),i.Wb(),i.Sb(34,"span",17),i.Xb(35,"button",18),i.fc("click",function(){return e.saveQualitativeScore()}),i.Tc(36,"Next"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(21),i.rc("formControl",e.scoreCardId),i.Eb(1),i.rc("ngIf",e.scoreCardId.touched&&0==e.scoreCardId.value),i.Eb(5),i.rc("ngForOf",e.scoreboardQuestionsArray),i.Eb(3),i.rc("ngForOf",e.scoreboardQuestionsArray),i.Eb(5),i.rc("disabled",e.disableDoneBtn||!e.numberOfApplicant.valid))},directives:[r.e,r.b,V.A,V.s,V.t,c.a,c.h,x.a,c.d,z.b,V.c,Xn.a,V.r,V.h,n.n,n.m,yn.a,l.b,s.b,yn.c,yn.e,yn.f,v.a,r.f,s.f,s.c,q.a,B.n],styles:[".qaDiv[_ngcontent-%COMP%]{padding:1.5rem 1rem}.qDiv[_ngcontent-%COMP%]{padding:.5em 0}.redC[_ngcontent-%COMP%]{color:red}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.qdivcard[_ngcontent-%COMP%]{margin-left:3px}.Back[_ngcontent-%COMP%]{background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;color:#fff}.Next[_ngcontent-%COMP%]{background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}input[_ngcontent-%COMP%]{outline:none;border:none}.div1[_ngcontent-%COMP%]{padding-left:12px}.questions-tab[_ngcontent-%COMP%]{width:60%}.mat-card-content[_ngcontent-%COMP%]{padding-top:5px}legend[_ngcontent-%COMP%]{margin-left:-10px}.mb-8[_ngcontent-%COMP%]{box-shadow:none!important}"]}),t})();var _n=a("xNiI");function Rn(t,e){if(1&t&&(i.Xb(0,"mat-option",40),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.branchName),i.Eb(1),i.Vc(" ",t.branchName," ")}}function Mn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Mortgaged Branch is Required! "),i.Wb())}function En(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Market Value is Required! "),i.Wb())}function Pn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Building is Required! "),i.Wb())}function Nn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Locality is Required! "),i.Wb())}function wn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Valid Zip Code is Required!(5-10 digits) "),i.Wb())}function Fn(t,e){if(1&t&&(i.Xb(0,"mat-option",40),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Ln(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," City is Required! "),i.Wb())}function Vn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Street is Required! "),i.Wb())}function zn(t,e){if(1&t&&(i.Xb(0,"mat-option",40),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function qn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Country is Required! "),i.Wb())}function Bn(t,e){if(1&t&&(i.Xb(0,"mat-option",40),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.stateName),i.Eb(1),i.Vc(" ",t.stateName,"")}}function jn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," State is Required! "),i.Wb())}function Un(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",14),i.Xb(3,"div",15),i.Xb(4,"mat-form-field",16),i.Xb(5,"mat-label"),i.Tc(6,"Mortgaged Branch*"),i.Wb(),i.Xb(7,"mat-select",17),i.Rc(8,Rn,2,2,"mat-option",18),i.Wb(),i.Rc(9,Mn,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Xb(10,"div",15),i.Xb(11,"mat-form-field",16),i.Xb(12,"mat-label"),i.Tc(13,"Dimensions"),i.Wb(),i.Xb(14,"mat-select",20),i.Xb(15,"mat-option",21),i.Tc(16,"Sq.Ft"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(17,"div",15),i.Xb(18,"mat-form-field",16),i.Xb(19,"mat-label"),i.Tc(20,"Asset Status"),i.Wb(),i.Xb(21,"mat-select",22),i.Xb(22,"mat-option",23),i.Tc(23,"Under Construction"),i.Wb(),i.Xb(24,"mat-option",24),i.Tc(25,"Completed Construction"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"div",25),i.Xb(27,"div",15),i.Xb(28,"mat-form-field",16),i.Xb(29,"mat-label"),i.Tc(30,"Home Type"),i.Wb(),i.Xb(31,"mat-select",26),i.Xb(32,"mat-option",27),i.Tc(33,"Villa"),i.Wb(),i.Xb(34,"mat-option",28),i.Tc(35,"Flat"),i.Wb(),i.Xb(36,"mat-option",29),i.Tc(37,"Apartment"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(38,"div",15),i.Xb(39,"mat-form-field",16),i.Xb(40,"mat-label"),i.Tc(41,"Market Value*"),i.Wb(),i.Xb(42,"input",30),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(43,En,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(44,"mat-card-title"),i.Xb(45,"fieldset",31),i.Xb(46,"legend",7),i.Tc(47,"Address"),i.Wb(),i.Wb(),i.Wb(),i.Xb(48,"div",32),i.Xb(49,"div",25),i.Xb(50,"div",15),i.Xb(51,"mat-form-field",16),i.Xb(52,"mat-label"),i.Tc(53,"Building*"),i.Wb(),i.Sb(54,"input",33),i.Rc(55,Pn,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Xb(56,"div",15),i.Xb(57,"mat-form-field",16),i.Xb(58,"mat-label"),i.Tc(59,"Locality*"),i.Wb(),i.Sb(60,"input",34),i.Rc(61,Nn,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Xb(62,"div",15),i.Xb(63,"mat-form-field",16),i.Xb(64,"mat-label"),i.Tc(65,"Zip Code*"),i.Wb(),i.Xb(66,"input",35),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("change",function(e){i.Hc(t);const a=i.jc();return a.getCityandStateByZipcode(a.assetForm.get("country").value,e.target.value)}),i.Wb(),i.Wb(),i.Rc(67,wn,2,0,"mat-error",19),i.Wb(),i.Xb(68,"div",15),i.Xb(69,"mat-form-field",16),i.Xb(70,"mat-label"),i.Tc(71,"City*"),i.Wb(),i.Xb(72,"mat-select",36),i.fc("selectionChange",function(){return i.Hc(t),i.jc().onCityChange()}),i.Rc(73,Fn,2,2,"mat-option",18),i.Wb(),i.Rc(74,Ln,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(75,"div",14),i.Xb(76,"div",15),i.Xb(77,"mat-form-field",16),i.Xb(78,"mat-label"),i.Tc(79,"Street*"),i.Wb(),i.Sb(80,"input",37),i.Rc(81,Vn,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Xb(82,"div",15),i.Xb(83,"mat-form-field",16),i.Xb(84,"mat-label"),i.Tc(85,"Country*"),i.Wb(),i.Xb(86,"mat-select",38),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().getStateName(e.value,!0)}),i.Rc(87,zn,2,2,"mat-option",18),i.Wb(),i.Rc(88,qn,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Xb(89,"div",15),i.Xb(90,"mat-form-field",16),i.Xb(91,"mat-label"),i.Tc(92,"State*"),i.Wb(),i.Xb(93,"mat-select",39),i.fc("selectionChange",function(){return i.Hc(t),i.jc().onStateChange()}),i.Rc(94,Bn,2,2,"mat-option",18),i.Wb(),i.Rc(95,jn,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.rc("formGroup",t.assetForm),i.Eb(8),i.rc("ngForOf",t.arrayAccountBranch),i.Eb(1),i.rc("ngIf",!t.assetForm.get("mortgagedBranch").valid&&t.assetForm.get("mortgagedBranch").touched),i.Eb(34),i.rc("ngIf",!t.assetForm.get("marketValue").valid&&t.assetForm.get("marketValue").touched),i.Eb(12),i.rc("ngIf",!t.assetForm.get("building").valid&&t.assetForm.get("building").touched),i.Eb(6),i.rc("ngIf",!t.assetForm.get("locality").valid&&t.assetForm.get("locality").touched),i.Eb(6),i.rc("ngIf",!t.assetForm.get("zipCode").valid&&t.assetForm.get("zipCode").touched),i.Eb(6),i.rc("ngForOf",t.arrayCity),i.Eb(1),i.rc("ngIf",!t.assetForm.get("city").valid&&t.assetForm.get("city").touched),i.Eb(7),i.rc("ngIf",!t.assetForm.get("street").valid&&t.assetForm.get("street").touched),i.Eb(6),i.rc("ngForOf",t.arrayCountry),i.Eb(1),i.rc("ngIf",!t.assetForm.get("country").valid&&t.assetForm.get("country").touched),i.Eb(6),i.rc("ngForOf",t.arrayState),i.Eb(1),i.rc("ngIf",!t.assetForm.get("state").valid&&t.assetForm.get("state").touched)}}let Hn=(()=>{class t{constructor(t,e,a,n,i,o,r){this.fb=t,this.loader=e,this.apiService=a,this.snack=n,this.ls=i,this.router=o,this.accountService=r,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.showEditOption=!1}ngOnInit(){this.loanaccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.getAccountBranchDetails(),this.loanInfo&&(this.loanaccountId=this.loanInfo.loanAccountId),this.buildformGroup(),this.getCountryName("country"),this.getAllAuthCities(),this.getStateName("state");let t=JSON.parse(this.ls.getItem("ASSET_DETAIL_DONE"));null!=this.loanaccountId&&t?(this.showEditOption=!0,this.getAssetDetails()):(this.showEditOption=!1,this.buildformGroup())}getAssetDetails(){this.loader.open(),this.apiService.getAssetails(this.loanaccountId).subscribe(t=>{this.loader.close(),this.assetDetails=t,this.getStateName(this.assetDetails.country),this.buildformGroup(this.assetDetails)},t=>{this.loader.close()})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&(this.arrayCountry.push(t[e].countryName),this.arrayCountry.sort())})}getStateName(t,e){e&&(this.assetForm.get("zipCode").setValue(""),this.assetForm.get("state").setValue(""),this.assetForm.get("city").setValue("")),this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName==t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{this.arrayState=t});break}})}getAllAuthCities(){this.apiService.getAuthorizedCityInfo().subscribe(t=>t.map(t=>this.arrayCity.push(t.cityName)))}onStateChange(){this.assetForm.get("zipCode").setValue(""),this.assetForm.get("city").setValue("")}onCityChange(){this.assetForm.get("zipCode").setValue("")}getAccountBranchDetails(){this.apiService.getAccountBranch().subscribe(t=>{this.arrayAccountBranch=t})}buildformGroup(t){this.assetForm=this.fb.group({assetId:[t?t.assetId:0],loanaccountId:this.loanaccountId,mortgagedBranch:[t?t.mortgagedBranch:"",V.z.required],dimensions:[t?t.dimensions:""],assetStatus:[t?t.assetStatus:""],homeType:[t?t.homeType:""],marketValue:[t?t.marketValue:"",V.z.required],building:[t?t.building:"",V.z.required],street:[t?t.street:"",V.z.required],locality:[t?t.locality:"",V.z.required],city:[t?t.city:"",V.z.required],state:[t?t.state:"",V.z.required],country:[t?t.country:"",V.z.required],zipCode:[t?t.zipCode:"",[V.z.required,V.z.pattern("^((\\+91-?)|0)?[0-9]{5,10}$")]]})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}goBack(){this.router.navigate(["/loan/account/loan-details"])}next(){this.ls.setItem("ASSET_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/customer-information"])}submitForm(){let t={loanAccountId:this.loanaccountId,mortgagedBranch:this.assetForm.value.mortgagedBranch,street:this.assetForm.value.street,locality:this.assetForm.value.locality,building:this.assetForm.value.building,marketValue:this.assetForm.value.marketValue,homeType:this.assetForm.value.homeType,dimensions:this.assetForm.value.dimensions,city:this.assetForm.value.city,assetStatus:this.assetForm.value.assetStatus,state:this.assetForm.value.state,country:this.assetForm.value.country,zipCode:this.assetForm.value.zipCode,assetId:this.assetForm.value.assetId};console.log("payload",t),this.apiService.upsertAssetDetails(t).subscribe(t=>{console.log("data",t),null!=t&&this.snack.open("Asset Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.next()}getCityandStateByZipcode(t,e){t&&e.length>=6&&this.apiService.fetchStateCityByZipcode(t,e).subscribe(t=>{t?(this.assetForm.get("state").setValue(t.stateName),this.assetForm.get("city").setValue(t.cityName)):this.snack.open("Entered Zipcode is not exists","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(yt.a),i.Rb(p.b),i.Rb(h.a),i.Rb(u.a),i.Rb(o.h),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-asset-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/asset_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["name","mod","formControlName","mortgagedBranch","placeholder","Select","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["name","dimensions","formControlName","dimensions","disableOptionCentering",""],["value","Sq.Ft"],["name","mod","formControlName","assetStatus","disableOptionCentering",""],["value","Under Construction"],["value","Completed Construction"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["name","homeType","formControlName","homeType","disableOptionCentering",""],["value","Villa"],["value","Flat"],["value","Apartment"],["formControlName","marketValue","matInput","","name","marketValue","placeholder","Market Value",1,"alignment",3,"keypress"],[1,"alignChange"],["fxLayout","row","fxLayoutGap","25px",1,"mt-16"],["matInput","","formControlName","building","name","building","placeholder","Building","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["matInput","","formControlName","locality","name","locality","placeholder","Locality","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')",1,"alignment"],["matInput","","formControlName","zipCode","minlength","5","maxlength","10","name","zipCode","placeholder","Zip Code","autocomplete","off",1,"alignment",3,"keypress","change"],["name","city","formControlName","city","placeholder","Select","disableOptionCentering","",3,"selectionChange"],["matInput","","formControlName","street","name","street","placeholder","Street","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')",1,"alignment"],["name","country","formControlName","country","disableOptionCentering","","placeholder","Select",3,"selectionChange"],["name","state","formControlName","state","placeholder","Select","disableOptionCentering","",3,"selectionChange"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h1"),i.Tc(7,"Asset Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title"),i.Xb(11,"fieldset"),i.Xb(12,"legend",7),i.Tc(13,"Asset Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,Un,96,14,"form",8),i.Wb(),i.Wb(),i.Xb(16,"div",9),i.Xb(17,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(18," Back "),i.Wb(),i.Xb(19,"button",11),i.fc("click",function(){return e.submitForm()}),i.Tc(20," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.assetForm),i.Eb(4),i.rc("disabled",!e.assetForm.valid))},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,s.c,s.g,q.a,V.r,V.i,n.m,B.n,V.c,z.b,V.n,V.m,s.b],styles:[".inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{margin-top:5px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName1[_ngcontent-%COMP%]{margin-top:10px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:20%;margin-left:-1%}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}"]}),t})();var Gn=a("h9BM");function Yn(t,e){if(1&t&&(i.Xb(0,"mat-option",40),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function $n(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Business Product Name is Required!"),i.Wb())}function Qn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Application Date is Required!"),i.Wb())}function Zn(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Estimated Cost is Required!"),i.Wb())}function Jn(t,e){1&t&&(i.Xb(0,"small",41),i.Tc(1," Loan Amount should not be greater than Estimated Cost! "),i.Wb())}function Kn(t,e){if(1&t&&(i.Xb(0,"mat-option",40),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.branchName),i.Eb(1),i.Uc(t.branchName)}}function ti(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Account Currency is Required! "),i.Wb())}function ei(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Account Type is Required!"),i.Wb())}function ai(t,e){1&t&&(i.Xb(0,"small",41),i.Tc(1," Customer Contribution should not be greater than Estimated Cost! "),i.Wb())}function ni(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Loan Tenure is Required!"),i.Wb())}function ii(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Loan Tenure is Required!"),i.Wb())}function oi(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Loan Tenure is Required!"),i.Wb())}function ri(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Input Valid Loan Tenure!"),i.Wb())}function ci(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",13),i.Xb(1,"div",14),i.Xb(2,"div",15),i.Xb(3,"div",16),i.Xb(4,"mat-form-field",17),i.Xb(5,"mat-label"),i.Tc(6,"Business Product Name*"),i.Wb(),i.Xb(7,"mat-select",18),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().getAccountType(e.value)}),i.Xb(8,"mat-option"),i.Tc(9,"Select"),i.Wb(),i.Rc(10,Yn,2,2,"mat-option",19),i.Wb(),i.Rc(11,$n,2,0,"mat-error",20),i.Wb(),i.Wb(),i.Xb(12,"div",16),i.Xb(13,"mat-form-field",17),i.Xb(14,"mat-label"),i.Tc(15,"Application Date*"),i.Wb(),i.Sb(16,"input",21),i.Xb(17,"div",22),i.Sb(18,"mat-datepicker-toggle",23),i.Sb(19,"mat-datepicker",null,24),i.Wb(),i.Wb(),i.Rc(21,Qn,2,0,"mat-error",20),i.Wb(),i.Xb(22,"div",16),i.Xb(23,"mat-form-field",17),i.Xb(24,"mat-label"),i.Tc(25,"Estimated Cost*"),i.Wb(),i.Xb(26,"input",25),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateLoanAmmount(e.loanForm.value)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateestimatedCost(e.loanForm.value)}),i.Wb(),i.Rc(27,Zn,2,0,"mat-error",20),i.Wb(),i.Wb(),i.Xb(28,"div",16),i.Xb(29,"mat-form-field",17),i.Xb(30,"mat-label"),i.Tc(31,"Loan Amount *"),i.Wb(),i.Xb(32,"input",26),i.fc("input",function(){i.Hc(t);const e=i.jc();return e.calculatCustomerContri(e.loanForm.value)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateestimatedCost(e.loanForm.value)}),i.Wb(),i.Wb(),i.Rc(33,Jn,2,0,"small",27),i.Wb(),i.Xb(34,"div",16),i.Xb(35,"mat-form-field",17),i.Xb(36,"mat-label"),i.Tc(37,"Purpose of Loan"),i.Wb(),i.Sb(38,"textarea",28),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",15),i.Xb(40,"div",16),i.Xb(41,"mat-form-field",17),i.Xb(42,"mat-label"),i.Tc(43,"Account Branch"),i.Wb(),i.Xb(44,"mat-select",29),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().onChangeBranch(e)}),i.Xb(45,"mat-option"),i.Tc(46,"Select"),i.Wb(),i.Rc(47,Kn,2,2,"mat-option",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(48,"div",16),i.Xb(49,"mat-form-field",17),i.Xb(50,"mat-label"),i.Tc(51,"Account Currency*"),i.Wb(),i.Sb(52,"input",30),i.Rc(53,ti,2,0,"mat-error",20),i.Wb(),i.Wb(),i.Xb(54,"div",16),i.Xb(55,"mat-form-field",17),i.Xb(56,"mat-label"),i.Tc(57,"Account Type*"),i.Wb(),i.Sb(58,"input",31),i.Rc(59,ei,2,0,"mat-error",20),i.Wb(),i.Wb(),i.Xb(60,"div",16),i.Xb(61,"mat-form-field",17),i.Xb(62,"mat-label"),i.Tc(63,"Customer Contribution"),i.Wb(),i.Xb(64,"input",32),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc();return e.calculatCustomerContri(e.loanForm.value)})("input",function(){i.Hc(t);const e=i.jc();return e.calculateLoanAmmount(e.loanForm.value)}),i.Wb(),i.Sb(65,"div"),i.Wb(),i.Rc(66,ai,2,0,"small",27),i.Wb(),i.Xb(67,"div",16),i.Xb(68,"div",0),i.Xb(69,"mat-hint",33),i.Tc(70,"Loan Tenure *"),i.Wb(),i.Xb(71,"mat-form-field",34),i.Xb(72,"mat-label"),i.Tc(73,"Year*"),i.Wb(),i.Xb(74,"input",35),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Xb(75,"mat-form-field",36),i.Xb(76,"mat-label"),i.Tc(77,"Month*"),i.Wb(),i.Xb(78,"input",37),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(e){return i.Hc(t),i.jc().limitMonth(e)}),i.Wb(),i.Wb(),i.Xb(79,"mat-form-field",38),i.Xb(80,"mat-label"),i.Tc(81,"Day*"),i.Wb(),i.Xb(82,"input",39),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(e){return i.Hc(t),i.jc().limitDays(e)}),i.Wb(),i.Wb(),i.Rc(83,ni,2,0,"mat-error",20),i.Rc(84,ii,2,0,"mat-error",20),i.Rc(85,oi,2,0,"mat-error",20),i.Rc(86,ri,2,0,"mat-error",20),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(20),e=i.jc();i.rc("formGroup",e.loanForm),i.Eb(10),i.rc("ngForOf",e.arrayAccountBranch),i.Eb(1),i.rc("ngIf",e.loanForm.get("businessProductName").touched&&!e.loanForm.get("businessProductName").valid),i.Eb(5),i.rc("matDatepicker",t)("min",e.minDate)("max",e.maxDate),i.Eb(2),i.rc("for",t),i.Eb(3),i.rc("ngIf",!e.loanForm.get("applicationDate").valid&&e.loanForm.get("applicationDate").touched),i.Eb(6),i.rc("ngIf",!e.loanForm.get("estimatedCost").valid&&e.loanForm.get("estimatedCost").touched),i.Eb(6),i.rc("ngIf",e.flag1),i.Eb(14),i.rc("ngForOf",e.screenArray),i.Eb(5),i.rc("readonly",!0),i.Eb(1),i.rc("ngIf",e.loanForm.get("accountCurrency").hasError("required")),i.Eb(5),i.rc("readonly",!0),i.Eb(1),i.rc("ngIf",!e.loanForm.get("accountType").valid&&e.loanForm.get("accountType").touched),i.Eb(7),i.rc("ngIf",e.flag),i.Eb(17),i.rc("ngIf",!e.loanForm.get("year").valid&&e.loanForm.get("year").touched),i.Eb(1),i.rc("ngIf",!e.loanForm.get("month").valid&&e.loanForm.get("month").touched),i.Eb(1),i.rc("ngIf",!e.loanForm.get("day").valid&&e.loanForm.get("day").touched),i.Eb(1),i.rc("ngIf","0 year"==e.loanForm.get("year").value&&"0 month"==e.loanForm.get("month").value&&"0 day"==e.loanForm.get("day").value)}}let si=(()=>{class t extends class{constructor(){}_keyPress(t){let e=String.fromCharCode(t.charCode);e=e.toString(),e=e,/[0-9]/.test(e)||t.preventDefault()}}{constructor(t,e,a,n,i,o,r,c){super(),this.fb=t,this.api=e,this.ls=a,this.loader=n,this.apiService=i,this.snack=o,this.accountService=r,this.router=c,this.flag=!1,this.flag1=!1,this.showEditOption=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.minDate=new Date,this.maxDate=new Date,this.maxDate.setDate(this.maxDate.getDate()+13),this.loanForm=this.fb.group({loanAccountId:[""],businessProductName:["",[V.z.required]],accountBranch:[""],applicationDate:["",[V.z.required]],accountType:[""],estimatedCost:[""],customerContribution:[""],loanAmount:[""],loanTenure:[""],year:[""],month:[""],day:[""],purposeOfLoan:[""],accountCurrency:[""]})}ngOnInit(){this.getAccountBranchDetails(),this.loanaccountID=this.ls.getItem("loanAccountId"),this.createdById=localStorage.getItem("userName"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("LOAN_DETAIL_DONE"));setTimeout(()=>{null!=this.loanaccountID&&t?(this.showEditOption=!0,this.getAccountDetails()):(this.showEditOption=!1,this.buildformGroup())},1),this.getBusinessProductDetails("business_product_name")}getAccountDetails(){this.loader.open(),this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{this.loader.close(),this.loanDetails=t,this.buildformGroup(this.loanDetails)},t=>{this.loader.close()})}getBusinessProductDetails(t){this.apiService.getBusinessProductName(t).subscribe(t=>{this.arrayAccountBranch=t})}getAccountType(t){this.apiService.getAccount(t).subscribe(t=>{this.accountType=t.accountTypeName,this.loanForm.get("accountType").setValue(t.accountTypeName)})}getAccountBranchDetails(){this.api.getAccountBranch().subscribe(t=>{this.screenArray=t,0==this.screenArray.length&&this.screenArray.push(this.branchName),this.currencyData=this.screenArray.find(t=>t.branchName==this.branchName),null==this.currencyData&&null==this.currencyData||this.loanForm.get("accountCurrency").setValue(this.currencyData.branchCcy)})}onChangeBranch(t){this.currencyData=this.screenArray.find(e=>e.branchName==t.value),null==this.currencyData&&null==this.currencyData||this.loanForm.get("accountCurrency").setValue(this.currencyData.branchCcy)}buildformGroup(t){let e=t?$(t.applicationDate).format():"";this.loanForm=this.fb.group({loanAccountId:[this.loanaccountID],businessProductName:[t?t.businessProductName:"",[V.z.required]],accountBranch:[t?t.accountBranch:""],applicationDate:[t?e:"",[V.z.required]],accountType:[t?t.accountType:"",[V.z.required]],estimatedCost:[t?t.estimatedCost:"",[V.z.required]],customerContribution:[t?t.customerContribution:""],loanAmount:[t?t.loanAmount:"",[V.z.required]],purposeOfLoan:[t?t.purposeOfLoan:""],accountCurrency:[t?t.accountCurrency:"",V.z.required],loanTenure:[t?t.loanTenure:""],day:[t?Number(t.loanTenure.split("-")[2].match(/\d+/)[0]):"",[V.z.required]],month:[t?Number(t.loanTenure.split("-")[1].match(/\d+/)[0]):"",[V.z.required]],year:[t?Number(t.loanTenure.split("-")[0].match(/\d+/)[0]):"",[V.z.required]]})}goBack(){this.router.navigate(["/loan/account/list"])}next(){this.ls.setItem("LOAN_DETAIL_DONE",!0),"Home Loan"==(this.accountType||this.ls.getItem("accountType"))?(this.ls.setItem("isHomeLoan",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/asset-details"])):"Vehicle Loan"==(this.accountType||this.ls.getItem("accountType"))?(this.ls.setItem("isVehicleLoan",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/vehicle-details"])):(this.ls.setItem("isEducationLoan",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/admission-details"]))}assign(t){this.api.setAccountId({loanAccountId:t})}submitForm(){let t=new Date;t=this.loanForm.value.applicationDate;var e=$(t).format("YYYY-MMM-DD HH:MM:SS"),a=(new Date(e),this.loanForm.value.loanAmount);a=parseInt(a);var n=this.loanForm.value.estimatedCost;n=parseInt(n);const i=this.loanForm.value.year+"year-"+this.loanForm.value.month+"month-"+this.loanForm.value.day+"day";this.loanForm.get("loanTenure").setValue(i),this.apiService.saveLoanDetails({loanAccountId:this.showEditOption?this.loanaccountID:null,businessProductName:this.loanForm.value.businessProductName,accountBranch:this.loanForm.value.accountBranch,applicationDate:e,accountType:this.loanForm.value.accountType,estimatedCost:n,customerContribution:this.loanForm.value.customerContribution,loanAmount:a,purposeOfLoan:this.loanForm.value.purposeOfLoan,loanTenure:this.loanForm.value.loanTenure,accountCurrency:this.loanForm.value.accountCurrency,createdBy:this.createdById,createdTime:void 0,modificationNo:0,modifiedBy:"",modifiedTime:void 0,status:"ONGOING"}).subscribe(t=>{if(this.loanAccountId=t.loanAccountId,this.assign(t.loanAccountId),null!=t){this.apiService.updateLoanDetailsStatus({loanAccountId:t.loanAccountId,status:"ONGOING"}).subscribe(t=>{});let e={loanAccountid:this.loanAccountId};this.ls.setItem("loanAmount",t.loanAmount),this.ls.setItem("fundByStatus",e),this.ls.setItem("accountType",t.accountType),this.ls.setItem("loanAccountId",t.loanAccountId),this.ls.setItem("productName",t.businessProductName),this.loanaccountID=this.ls.getItem("loanAccountId"),this.snack.open("Loan Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}t||this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next()})}limitMonth(t){Number(t.target.value)>12&&(t.target.value=t.target.value.slice(0,1))}limitDays(t){Number(t.target.value)>31&&(t.target.value=t.target.value.slice(0,1))}calculateLoanAmmount(t){if(""===t.customerContribution)return Number(t.estimatedCost);if(""==t.customerContribution||0==t.customerContribution){let e=Number(t.estimatedCost)-Number(t.loanAmount);this.loanForm.controls.customerContribution.setValue(e)}else{Number(t.estimatedCost)<Number(t.customerContribution)?t.estimatedCost&&(this.flag=!0):this.flag=!1,Number(t.estimatedCost)<Number(t)?console.log("this.flag",this.flag1):this.flag1=!1;let e=Number(t.estimatedCost)-Number(t.customerContribution);this.loanForm.controls.loanAmount.setValue(e<0?0:e)}}calculateestimatedCost(t){if(""!==t.loanAmount)if(""==t.loanAmount||0==t.loanAmount){let e=Number(t.estimatedCost)-Number(t.customerContribution);this.loanForm.controls.loanAmount.setValue(e)}else{Number(t.estimatedCost)<Number(t.loanAmount)?""!==t.estimatedCost&&(this.flag1=!0):this.flag1=!1,Number(t.estimatedCost)<Number(t)||(this.flag=!1);let e=Number(t.estimatedCost)-Number(t.loanAmount);this.loanForm.controls.customerContribution.setValue(e<0?0:e)}}calculatCustomerContri(t){if(""!=t.customerContribution&&""!=t.loanAmount&&""==t.estimatedCost){let e=Number(t.customerContribution)+Number(t.loanAmount);this.loanForm.controls.estimatedCost.setValue(e)}}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(p.b),i.Rb(u.a),i.Rb(yt.a),i.Rb(p.b),i.Rb(h.a),i.Rb(K.a),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-details"]],features:[i.Bb],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,"alignChange"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["name","account_branch","placeholder","Select ","formControlName","businessProductName","disableOptionCentering","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","name","date","formControlName","applicationDate","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker","min","max"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","formControlName","estimatedCost","name","a_sig","autocomplete","off","placeholder","Estimated Cost",1,"alignment",3,"keypress","input"],["matInput","","formControlName","loanAmount","autocomplete","off","name","a_sig","placeholder","Loan Amount",1,"alignment",3,"input"],["style","color:red;",4,"ngIf"],["matInput","","formControlName","purposeOfLoan","name","remark","placeholder","Purpose of Loan",1,"alignment"],["name","mod","placeholder","Select","formControlName","accountBranch","disableOptionCentering","",3,"selectionChange"],["matInput","","name","currency","placeholder","Account Currency","formControlName","accountCurrency",1,"alignment",3,"readonly"],["matInput","","name","accountType","placeholder","Account Type","formControlName","accountType",1,"alignment",3,"readonly"],["matInput","","formControlName","customerContribution","name","a_sig","placeholder","Customer Contribution","autocomplete","off",1,"alignment",3,"keypress","input"],[1,"tenre"],["appearance","outline","fxFlex","24.4%",1,"full-width","tenure1"],["matInput","","formControlName","year","name","year","placeholder","Year","autocomplete","off","maxlength","2",1,"alignment",3,"keypress"],["appearance","outline","fxFlex","23.4%",1,"full-width","tenure1"],["matInput","","formControlName","month","name","month","placeholder","Month","autocomplete","off",1,"alignment",3,"keypress","input"],["appearance","outline","fxFlex","23.4",1,"full-width","tenure2"],["matInput","","formControlName","day","name","day","placeholder","Day","autocomplete","off",1,"alignment",3,"keypress","input"],[3,"value"],[2,"color","red"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Loan Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title",7),i.Xb(11,"fieldset"),i.Xb(12,"legend",8),i.Tc(13,"Loan Information"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,ci,87,20,"form",9),i.Wb(),i.Wb(),i.Xb(16,"div",10),i.Xb(17,"button",11),i.fc("click",function(){return e.goBack()}),i.Tc(18," Back "),i.Wb(),i.Xb(19,"button",12),i.fc("click",function(){return e.submitForm()}),i.Tc(20," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.loanForm),i.Eb(4),i.rc("disabled",!e.loanForm.valid||e.flag||e.flag1||"0 year"==e.loanForm.get("year").value&&"0 month"==e.loanForm.get("month").value&&"0 day"==e.loanForm.get("day").value))},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,s.c,s.g,q.a,V.r,V.i,B.n,n.m,z.b,V.c,Q.e,Q.g,s.j,Q.d,s.f,V.m,s.b],styles:[".inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{margin-top:5px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName1[_ngcontent-%COMP%]{height:48px;flex-direction:row;display:flex;margin-top:10px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.tenre[_ngcontent-%COMP%]{margin-top:17px!important}.tenure0[_ngcontent-%COMP%], .tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:3%!important}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}.datechange[_ngcontent-%COMP%]{height:10px;margin-right:10px}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.inputMatName[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.sqInput1[_ngcontent-%COMP%]{width:30%;margin-left:.5%;height:48px;margin-top:5px}#myDIV[_ngcontent-%COMP%]{height:40px;margin-top:20px;font-size:17px;background-color:#fff;font-family:Verdana;margin-left:27px}.alignChange[_ngcontent-%COMP%]{margin-right:4px}.dataChange[_ngcontent-%COMP%]{height:48px}"]}),t})();var li=a("iC2e"),bi=a("eQBv"),mi=a("abKK"),ui=a("2Fcj"),di=a("52qL"),pi=a("DdyD");const fi=function(){return{y:"50px",delay:"300ms"}},gi=function(t){return{value:"*",params:t}};function hi(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",26),i.Xb(1,"mat-card",27),i.Xb(2,"div",28),i.Xb(3,"div",29),i.Xb(4,"mat-icon",30),i.Tc(5,"check_circle"),i.Wb(),i.Wb(),i.Xb(6,"div",31),i.Xb(7,"h6"),i.Tc(8,"Application Entry Stage Completed"),i.Wb(),i.Wb(),i.Sb(9,"span",32),i.Xb(10,"button",33),i.fc("click",function(){return i.Hc(t),i.jc().openLoanEntryStageViewSummary()}),i.Tc(11," View Summary "),i.Wb(),i.Wb(),i.Wb(),i.Wb()}2&t&&(i.Eb(1),i.rc("@animate",i.xc(2,gi,i.wc(1,fi))))}function vi(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",33),i.fc("click",function(){return i.Hc(t),i.jc().goToLoanSummary()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}function Wi(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",33),i.fc("click",function(){return i.Hc(t),i.jc().goToLoan()}),i.Tc(2," Add Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}function Xi(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"button",34),i.Tc(2," Add Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()),2&t){const t=i.jc();i.Eb(1),i.rc("disabled",!t.isLoanDetailScreen)}}function yi(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",33),i.fc("click",function(){return i.Hc(t),i.jc(2).goToLoanEntry()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const xi=function(){return["/loan/account/asset-details"]};function Ci(t,e){if(1&t&&(i.Xb(0,"button",36),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc(2);i.rc("routerLink",i.wc(2,xi))("disabled",!t.isLoanDetailScreen)}}function Ii(t,e){if(1&t&&(i.Xb(0,"div"),i.Rc(1,yi,5,0,"ng-container",19),i.Rc(2,Ci,4,3,"ng-template",null,35,i.Sc),i.Wb()),2&t){const t=i.Dc(3),e=i.jc();i.Eb(1),i.rc("ngIf",e.isAssetsDetailScreen&&e.isLoanDetailScreen)("ngIfElse",t)}}function Oi(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",33),i.fc("click",function(){return i.Hc(t),i.jc(2).goToVehicleDetails()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const Ai=function(){return["/loan/account/vehicle-details"]};function Di(t,e){1&t&&(i.Xb(0,"button",38),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t&&i.rc("routerLink",i.wc(1,Ai))}function Ti(t,e){if(1&t&&(i.Xb(0,"div"),i.Rc(1,Oi,5,0,"ng-container",19),i.Rc(2,Di,4,2,"ng-template",null,37,i.Sc),i.Wb()),2&t){const t=i.Dc(3),e=i.jc();i.Eb(1),i.rc("ngIf",e.isVehicleDetailScreen&&e.isLoanDetailScreen)("ngIfElse",t)}}function Si(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",33),i.fc("click",function(){return i.Hc(t),i.jc(2).goToAdmissionDetails()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const ki=function(){return["/loan/account/admission-details"]};function _i(t,e){1&t&&(i.Xb(0,"button",38),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t&&i.rc("routerLink",i.wc(1,ki))}function Ri(t,e){if(1&t&&(i.Xb(0,"div"),i.Rc(1,Si,5,0,"ng-container",19),i.Rc(2,_i,4,2,"ng-template",null,39,i.Sc),i.Wb()),2&t){const t=i.Dc(3),e=i.jc();i.Eb(1),i.rc("ngIf",e.isAdmissionDetailScreen&&e.isLoanDetailScreen)("ngIfElse",t)}}function Mi(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",33),i.fc("click",function(){return i.Hc(t),i.jc().goToCustomerInfoDetails()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const Ei=function(){return["/loan/account/customer-information"]};function Pi(t,e){if(1&t&&(i.Xb(0,"button",36),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,Ei))("disabled",!t.isAnyScreen)}}function Ni(t,e){}function wi(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",33),i.fc("click",function(){return i.Hc(t),i.jc().goToMandateDetails()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const Fi=function(){return["/loan/account/mandate-details"]};function Li(t,e){if(1&t&&(i.Xb(0,"button",36),i.Tc(1," Add Details"),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,Fi))("disabled",!t.isCustomerInformationScreen)}}function Vi(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",33),i.fc("click",function(){return i.Hc(t),i.jc().goToFinancialDetails()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const zi=function(){return["/loan/account/financial-details"]};function qi(t,e){if(1&t&&(i.Xb(0,"button",36),i.Tc(1," Add Details"),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,zi))("disabled",!t.isMandateDetailScreen)}}function Bi(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",33),i.fc("click",function(){return i.Hc(t),i.jc().goToCollateralDetails()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const ji=function(){return["/loan/account/collateral_details"]};function Ui(t,e){if(1&t&&(i.Xb(0,"button",36),i.Tc(1," Add Details"),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,ji))("disabled",!t.isFinancialDetailScreen)}}function Hi(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",33),i.fc("click",function(){return i.Hc(t),i.jc().goToGuarantorDetails()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const Gi=function(){return["/loan/account/guarantor_details"]};function Yi(t,e){if(1&t&&(i.Xb(0,"button",36),i.Tc(1," Add Details"),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,Gi))("disabled",!t.isCollateralDetailsScreen)}}const $i=function(t){return{"border-size":t}};let Qi=(()=>{class t{constructor(t,e,a,n){this.router=t,this.dialogService=e,this.ls=a,this.dialog=n,this.isLoanApplicationEntryDone=!1,this.isLoanDetailScreen=!1,this.isAssetsDetailScreen=!1,this.isVehicleDetailScreen=!1,this.isAdmissionDetailScreen=!1,this.isFinancialDetailScreen=!1,this.isMandateDetailScreen=!1,this.isGuarantorDetailScreen=!1,this.isCustomerInformationScreen=!1,this.isCollateralDetailsScreen=!1,this.isAnyScreen=!1,this.isCustomerDetailScreen=!1,this.isHomeLoan=!1,this.isVehicleLoan=!1,this.isEducationLoan=!1}ngOnInit(){this.isLoanApplicationEntryDone=this.ls.getItem("LoanEntryStage"),this.isLoanDetailScreen=this.ls.getItem("LOAN_DETAIL_DONE"),this.isAssetsDetailScreen=this.ls.getItem("ASSET_DETAIL_DONE"),this.isVehicleDetailScreen=this.ls.getItem("VEHICLE_DETAIL_DONE"),this.isAdmissionDetailScreen=this.ls.getItem("ADMISSION_DETAIL_DONE"),this.isCustomerInformationScreen=this.ls.getItem("CUSTOMERINFO_DETAIL_DONE"),this.isFinancialDetailScreen=this.ls.getItem("FINANCIAL_DETAIL_DONE"),this.isMandateDetailScreen=this.ls.getItem("MANDATE_DETAIL_DONE"),this.isGuarantorDetailScreen=this.ls.getItem("GUARANTOR_DETAIL_DONE"),this.isCollateralDetailsScreen=this.ls.getItem("COLLATERAL_DETAIL_DONE"),this.isCustomerDetailScreen=this.ls.getItem("CUSTOMERINFO_DETAIL_DONE"),1!=this.isAssetsDetailScreen&&1!=this.isVehicleDetailScreen&&1!=this.isAdmissionDetailScreen||(this.isAnyScreen=!0),"Home Loan"==this.ls.getItem("accountType")?(this.isHomeLoan=!0,this.isVehicleLoan=!1,this.isEducationLoan=!1):"Vehicle Loan"==this.ls.getItem("accountType")?(this.isHomeLoan=!1,this.isVehicleLoan=!0,this.isEducationLoan=!1):"Education Loan"==this.ls.getItem("accountType")&&(this.isHomeLoan=!1,this.isVehicleLoan=!1,this.isEducationLoan=!0)}goToAdmissionDetails(){this.isAdmissionDetailScreen?this.dialog.open(li.a,{disableClose:!0}).afterClosed().subscribe(t=>{}):this.router.navigate(["/loan/account/admission-details"])}goToFinancialDetails(){this.isFinancialDetailScreen?this.dialog.open(ui.a,{disableClose:!0}).afterClosed().subscribe(t=>{}):this.router.navigate(["/loan/account/financial-details"])}goToMandateDetails(){this.isMandateDetailScreen?this.dialog.open(pi.a,{disableClose:!0}).afterClosed().subscribe(t=>{}):this.router.navigate(["/loan/account/mandate-details"])}goToGuarantorDetails(){this.isMandateDetailScreen?this.dialog.open(di.a,{disableClose:!0}).afterClosed().subscribe(t=>{}):this.router.navigate(["/loan/account/guarantor_details"])}goToCollateralDetails(){this.isCollateralDetailsScreen&&this.isFinancialDetailScreen?this.dialog.open(bi.a,{disableClose:!0}).afterClosed().subscribe(t=>{}):this.router.navigate(["/loan/account/collateral_details"])}goToCustomerInfoDetails(){this.isCustomerDetailScreen?this.dialog.open(mi.a,{disableClose:!0,maxHeight:"90%",width:"70%"}).afterClosed().subscribe(t=>{}):this.router.navigate(["/loan/account/customer-information"])}goToLoan(){this.router.navigate(["/loan/account/loan-details"])}goToLoanSummary(){this.dialogService.loanDetailsSummaryDialog()}goToLoanEntry(){this.dialogService.assetDetailsSummaryDialog()}goToVehicleDetails(){this.dialogService.vehicleDetailsSummaryDialog()}openLoanEntryStageViewSummary(){this.dialogService.loanAppEntryStageViewSummary()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(La.a),i.Rb(u.a),i.Rb(g.b))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-entry-stage"]],decls:134,vars:49,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],[1,"titleName"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",1,"fontStyle"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["showCustomerInfo",""],["hideNav",""],["showMandte",""],["showFinance",""],["showCollateral",""],["showGuarantor",""],["fxFlex","100",1,"mt-8"],[1,"border-size"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","",3,"disabled"],["showAsset",""],["mat-button","","color","primary",3,"routerLink","disabled"],["showVehicle",""],["mat-button","","color","primary",3,"routerLink"],["showAdmission",""]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create Retail Loan Account"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,hi,12,4,"div",8),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Xb(14,"mat-card",11),i.Xb(15,"mat-card-header"),i.Xb(16,"mat-card-title",12),i.Tc(17,"1. Loan Details"),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"div",13),i.Xb(20,"div",14),i.Xb(21,"p",15),i.Tc(22," Basic Details for Loan Account is captured. "),i.Wb(),i.Wb(),i.Xb(23,"div",16),i.Sb(24,"img",17),i.Wb(),i.Wb(),i.Wb(),i.Sb(25,"mat-divider"),i.Xb(26,"mat-card-actions"),i.Rc(27,vi,5,0,"ng-container",18),i.Rc(28,Wi,5,0,"ng-container",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div",10),i.Xb(30,"mat-card",11),i.Xb(31,"mat-card-header"),i.Xb(32,"mat-card-title",12),i.Tc(33,"2. Asset Details / Vehicle Details / Admission Details"),i.Wb(),i.Wb(),i.Xb(34,"mat-card-content"),i.Xb(35,"div",13),i.Xb(36,"div",14),i.Xb(37,"p",15),i.Tc(38," Details about asset or vehicle or admission is added. "),i.Wb(),i.Wb(),i.Xb(39,"div",16),i.Sb(40,"img",17),i.Wb(),i.Wb(),i.Wb(),i.Sb(41,"mat-divider"),i.Xb(42,"mat-card-actions"),i.Rc(43,Xi,5,1,"ng-container",19),i.Rc(44,Ii,4,2,"div",19),i.Rc(45,Ti,4,2,"div",19),i.Rc(46,Ri,4,2,"div",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(47,"div",10),i.Xb(48,"mat-card",11),i.Xb(49,"mat-card-header"),i.Xb(50,"mat-card-title",12),i.Tc(51,"3. Customer Information"),i.Wb(),i.Wb(),i.Xb(52,"mat-card-content"),i.Xb(53,"div",13),i.Xb(54,"div",14),i.Xb(55,"p",15),i.Tc(56,"All the primary information about the customer is captured."),i.Wb(),i.Wb(),i.Xb(57,"div",16),i.Sb(58,"img",17),i.Wb(),i.Wb(),i.Wb(),i.Sb(59,"mat-divider"),i.Xb(60,"mat-card-actions"),i.Rc(61,Mi,5,0,"ng-container",19),i.Rc(62,Pi,4,3,"ng-template",null,20,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Rc(64,Ni,0,0,"ng-template",null,21,i.Sc),i.Xb(66,"div",10),i.Xb(67,"mat-card",11),i.Xb(68,"mat-card-header"),i.Xb(69,"mat-card-title",12),i.Tc(70,"4. Mandate Details"),i.Wb(),i.Wb(),i.Xb(71,"mat-card-content"),i.Xb(72,"div",13),i.Xb(73,"div",14),i.Xb(74,"p",15),i.Tc(75," Mode of operation, Signatory details of the customer is added. "),i.Wb(),i.Wb(),i.Xb(76,"div",16),i.Sb(77,"img",17),i.Wb(),i.Wb(),i.Wb(),i.Sb(78,"mat-divider"),i.Xb(79,"mat-card-actions"),i.Rc(80,wi,5,0,"ng-container",19),i.Rc(81,Li,4,3,"ng-template",null,22,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Xb(83,"div",10),i.Xb(84,"mat-card",11),i.Xb(85,"mat-card-header"),i.Xb(86,"mat-card-title",12),i.Tc(87,"5. Financial Details"),i.Wb(),i.Wb(),i.Xb(88,"mat-card-content"),i.Xb(89,"div",13),i.Xb(90,"div",14),i.Xb(91,"p",15),i.Tc(92," The basic details and the income and expense details are captured. "),i.Wb(),i.Wb(),i.Xb(93,"div",16),i.Sb(94,"img",17),i.Wb(),i.Wb(),i.Wb(),i.Sb(95,"mat-divider"),i.Xb(96,"mat-card-actions"),i.Rc(97,Vi,5,0,"ng-container",19),i.Rc(98,qi,4,3,"ng-template",null,23,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Xb(100,"div",10),i.Xb(101,"mat-card",11),i.Xb(102,"mat-card-header"),i.Xb(103,"mat-card-title",12),i.Tc(104,"6. Collateral Details"),i.Wb(),i.Wb(),i.Xb(105,"mat-card-content"),i.Xb(106,"div",13),i.Xb(107,"div",14),i.Xb(108,"p",15),i.Tc(109," The additional collateral which is offered by the customer as security for the loan is added. "),i.Wb(),i.Wb(),i.Xb(110,"div",16),i.Sb(111,"img",17),i.Wb(),i.Wb(),i.Wb(),i.Sb(112,"mat-divider"),i.Xb(113,"mat-card-actions"),i.Rc(114,Bi,5,0,"ng-container",19),i.Rc(115,Ui,4,3,"ng-template",null,24,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Xb(117,"div",10),i.Xb(118,"mat-card",11),i.Xb(119,"mat-card-header"),i.Xb(120,"mat-card-title",12),i.Tc(121,"7. Guarantor Details"),i.Wb(),i.Wb(),i.Xb(122,"mat-card-content"),i.Xb(123,"div",13),i.Xb(124,"div",14),i.Xb(125,"p",15),i.Tc(126," Any number of guarantor details can be added. "),i.Wb(),i.Wb(),i.Xb(127,"div",16),i.Sb(128,"img",17),i.Wb(),i.Wb(),i.Wb(),i.Sb(129,"mat-divider"),i.Xb(130,"mat-card-actions"),i.Rc(131,Hi,5,0,"ng-container",19),i.Rc(132,Yi,4,3,"ng-template",null,25,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(63),a=i.Dc(65),n=i.Dc(82),o=i.Dc(99),r=i.Dc(116),c=i.Dc(133);i.Eb(11),i.rc("ngIf",e.isLoanApplicationEntryDone),i.Eb(3),i.rc("ngClass",i.xc(35,$i,e.isLoanDetailScreen||!e.isLoanDetailScreen)),i.Eb(10),i.rc("src","assets/images/svg/Group 673.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.isLoanDetailScreen),i.Eb(1),i.rc("ngIf",!e.isLoanDetailScreen),i.Eb(2),i.rc("ngClass",i.xc(37,$i,e.isAssetsDetailScreen||!e.isAssetsDetailScreen&&e.isLoanDetailScreen)),i.Eb(10),i.rc("src","assets/images/svg/MaskGroup1_1.svg",i.Jc),i.Eb(3),i.rc("ngIf",!e.isLoanDetailScreen)("ngIfElse",a),i.Eb(1),i.rc("ngIf",e.isHomeLoan)("ngIfElse",a),i.Eb(1),i.rc("ngIf",e.isVehicleLoan)("ngIfElse",a),i.Eb(1),i.rc("ngIf",e.isEducationLoan)("ngIfElse",a),i.Eb(2),i.rc("ngClass",i.xc(39,$i,e.isCustomerInformationScreen||!e.isCustomerInformationScreen&&(e.isAssetsDetailScreen||e.isAdmissionDetailScreen||e.isVehicleDetailScreen))),i.Eb(10),i.rc("src","assets/images/svg/undraw_personal_information_re_vw8a.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.isCustomerInformationScreen&&(e.isAssetsDetailScreen||e.isAdmissionDetailScreen||e.isVehicleDetailScreen))("ngIfElse",t),i.Eb(6),i.rc("ngClass",i.xc(41,$i,e.isMandateDetailScreen||!e.isMandateDetailScreen&&e.isCustomerInformationScreen)),i.Eb(10),i.rc("src","assets/images/svg/undraw_Terms_re_6ak_4.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.isMandateDetailScreen&&e.isCustomerInformationScreen)("ngIfElse",n),i.Eb(4),i.rc("ngClass",i.xc(43,$i,e.isFinancialDetailScreen||!e.isFinancialDetailScreen&&e.isMandateDetailScreen)),i.Eb(10),i.rc("src","assets/images/svg/MaskGroup_2.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.isFinancialDetailScreen&&e.isMandateDetailScreen)("ngIfElse",o),i.Eb(4),i.rc("ngClass",i.xc(45,$i,e.isCollateralDetailsScreen||!e.isCollateralDetailsScreen&&e.isFinancialDetailScreen)),i.Eb(10),i.rc("src","assets/images/svg/MaskGroup_3.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.isCollateralDetailsScreen&&e.isFinancialDetailScreen)("ngIfElse",r),i.Eb(4),i.rc("ngClass",i.xc(47,$i,e.isGuarantorDetailScreen||!e.isGuarantorDetailScreen&&e.isCollateralDetailsScreen)),i.Eb(10),i.rc("src","assets/images/svg/MaskGroup_4.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.isGuarantorDetailScreen&&e.isCollateralDetailsScreen)("ngIfElse",c)}},directives:[r.e,r.b,n.n,c.a,n.l,jt.a,c.e,c.h,c.d,r.f,r.d,x.a,c.b,v.a,l.b,o.i],styles:[".not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.titleName[_ngcontent-%COMP%]{font-size:16px}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.text-align[_ngcontent-%COMP%]{padding-left:18px}.fontStyle[_ngcontent-%COMP%]{font-size:11px}"],data:{animation:m.a}}),t})(),Zi=(()=>{class t{constructor(t,e,a,n,i){this.dialogRef=t,this.apiService=e,this.dataService=a,this.ls=n,this.router=i}ngOnInit(){this.loanAccountId=this.ls.getItem("loanAccountId"),console.log(this.loanAccountId),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(()=>{this.fetchPostOfferAmendmentDetails()},10)}fetchPostOfferAmendmentDetails(){this.apiService.getOfferAmendmentDetails(this.loanAccountId).subscribe(t=>{console.log(t),this.offerDetails=t,console.log("details",this.offerDetails)})}edit(){this.dataService.sendNavParam(this.offerDetails),this.dialogRef.close(),this.router.navigate(["loan/account/post-offer-amendment"])}close(){this.dialogRef.close(),this.router.navigate(["/loan/account/post-offer-amend-stage/list"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(g.g),i.Rb(p.b),i.Rb(f.a),i.Rb(u.a),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-post-offer-amendment-summary"]],decls:87,vars:11,consts:[[1,"full-width"],["fxLayout","row",1,"contain"],[1,"backIcon",3,"click"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row wrap"],["fxFlex","30%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[1,"editButton",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"mat-icon",2),i.fc("click",function(){return e.close()}),i.Tc(3,"close"),i.Wb(),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"h4",4),i.Tc(6,"Post Offer Amendment Summary"),i.Wb(),i.Wb(),i.Xb(7,"div",5),i.Xb(8,"div",6),i.Xb(9,"div",7),i.Xb(10,"div",0),i.Xb(11,"div",8),i.Xb(12,"div",9),i.Vb(13),i.Xb(14,"div",10),i.Xb(15,"mat-card",11),i.Xb(16,"div",12),i.Xb(17,"div",9),i.Vb(18),i.Xb(19,"div",13),i.Xb(20,"mat-hint",14),i.Tc(21,"Applicant Name"),i.Wb(),i.Sb(22,"br"),i.Xb(23,"mat-hint",15),i.Tc(24),i.Wb(),i.Wb(),i.Xb(25,"div",13),i.Xb(26,"mat-hint",14),i.Tc(27,"Offer Issue Date"),i.Wb(),i.Sb(28,"br"),i.Xb(29,"mat-hint",15),i.Tc(30),i.Wb(),i.Wb(),i.Xb(31,"div",13),i.Xb(32,"mat-hint",14),i.Tc(33,"Offer Exipiry Date"),i.Wb(),i.Sb(34,"br"),i.Xb(35,"mat-hint",15),i.Tc(36),i.Wb(),i.Wb(),i.Xb(37,"div",13),i.Xb(38,"mat-hint",14),i.Tc(39,"Offer Amend Date"),i.Wb(),i.Sb(40,"br"),i.Xb(41,"mat-hint",15),i.Tc(42),i.Wb(),i.Wb(),i.Xb(43,"div",13),i.Xb(44,"mat-hint",14),i.Tc(45,"Approved Loan Amount"),i.Wb(),i.Sb(46,"br"),i.Xb(47,"mat-hint",15),i.Tc(48),i.Wb(),i.Wb(),i.Xb(49,"div",13),i.Xb(50,"mat-hint",14),i.Tc(51,"Loan Amount Recommended"),i.Wb(),i.Sb(52,"br"),i.Xb(53,"mat-hint",15),i.Tc(54),i.Wb(),i.Wb(),i.Xb(55,"div",13),i.Xb(56,"mat-hint",14),i.Tc(57,"Loan Tenure"),i.Wb(),i.Sb(58,"br"),i.Xb(59,"mat-hint",15),i.Tc(60),i.Wb(),i.Wb(),i.Xb(61,"div",13),i.Xb(62,"mat-hint",14),i.Tc(63,"Installment Type"),i.Wb(),i.Sb(64,"br"),i.Xb(65,"mat-hint",15),i.Tc(66),i.Wb(),i.Wb(),i.Xb(67,"div",13),i.Xb(68,"mat-hint",14),i.Tc(69,"Rate Of Interest(%)"),i.Wb(),i.Sb(70,"br"),i.Xb(71,"mat-hint",15),i.Tc(72),i.Wb(),i.Wb(),i.Xb(73,"div",13),i.Xb(74,"mat-hint",14),i.Tc(75,"Margin(%))"),i.Wb(),i.Sb(76,"br"),i.Xb(77,"mat-hint",15),i.Tc(78),i.Wb(),i.Wb(),i.Xb(79,"div",13),i.Xb(80,"mat-hint",14),i.Tc(81,"Effective Rate(%)"),i.Wb(),i.Sb(82,"br"),i.Xb(83,"mat-hint",15),i.Tc(84),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Xb(85,"p",16),i.fc("click",function(){return e.edit()}),i.Tc(86,"Edit"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(24),i.Uc(null==e.offerDetails?null:e.offerDetails.applicantName),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.offerIssueDate),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.offerExpiryDate),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.offerAmendDate),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.approvedLoanAmount),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.loanAmmountRecommended),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.loanTenure),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.installmentType),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.rateOfInterest),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.margin),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.effectiveRate))},directives:[r.e,v.a,r.d,r.b,r.f,c.a,s.f],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.homeicon[_ngcontent-%COMP%]{padding-left:2px;color:#00f;font-size:20px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px;font-size:16px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat}.paraFont[_ngcontent-%COMP%]{font-size:20px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),t})();const Ji=function(){return{y:"50px",delay:"300ms"}},Ki=function(t){return{value:"*",params:t}};function to(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",17),i.Xb(1,"mat-card"),i.Xb(2,"div",18),i.Xb(3,"div",19),i.Xb(4,"mat-icon",20),i.Tc(5,"check_circle"),i.Wb(),i.Wb(),i.Xb(6,"div",21),i.Xb(7,"h6"),i.Tc(8,"Post Offer Amendment Stage Completed"),i.Wb(),i.Wb(),i.Sb(9,"span",22),i.Xb(10,"button",23),i.fc("click",function(){return i.Hc(t),i.jc().gotopostOfferAmendStageSummary()}),i.Tc(11," View Summary "),i.Wb(),i.Wb(),i.Wb(),i.Wb()}2&t&&(i.Eb(1),i.rc("@animate",i.xc(2,Ki,i.wc(1,Ji))))}const eo=function(){return["/loan/account/post-offer-amendment"]};function ao(t,e){1&t&&(i.Vb(0),i.Xb(1,"button",24),i.Tc(2," Add Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()),2&t&&(i.Eb(1),i.rc("routerLink",i.wc(1,eo)))}function no(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",23),i.fc("click",function(){return i.Hc(t),i.jc().goTopostOfferAmendmentSummary()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}let io=(()=>{class t{constructor(t,e,a){this.router=t,this.dialog=e,this.ls=a}ngOnInit(){this.ispostOfferAmendStageDone=this.ls.getItem("post-offer-amend-stage"),this.isOfferIssueRejectScreen=this.ls.getItem("OfferIssueRejectScreen")}goTopostOfferAmendmentSummary(){this.dialog.open(Zi,{width:"75%",backdropClass:"dialog-bg-trans",height:"60%",disableClose:!0}).afterClosed().subscribe(t=>{console.log("The dialog was closed")})}gotopostOfferAmendStageSummary(){this.router.navigate(["/loan/account/post-offer-amend-stage-summary/"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(g.b),i.Rb(u.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-post-offer-amend-stage"]],decls:29,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create Retail Loan Account"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,to,12,4,"div",8),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Xb(14,"mat-card"),i.Xb(15,"mat-card-header"),i.Xb(16,"mat-card-title"),i.Tc(17,"1. Post Offer Amendment "),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"div",11),i.Xb(20,"div",12),i.Xb(21,"p",13),i.Tc(22," Post Offer Amendment details are displayed. "),i.Wb(),i.Wb(),i.Xb(23,"div",14),i.Sb(24,"img",15),i.Wb(),i.Wb(),i.Wb(),i.Sb(25,"mat-divider"),i.Xb(26,"mat-card-actions"),i.Rc(27,ao,5,2,"ng-container",16),i.Rc(28,no,5,0,"ng-container",16),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(11),i.rc("ngIf",e.ispostOfferAmendStageDone),i.Eb(13),i.rc("src","assets/images/svg/undraw_Post_re_mtr_4.svg",i.Jc),i.Eb(3),i.rc("ngIf",!e.ispostOfferAmendStageDone),i.Eb(1),i.rc("ngIf",e.ispostOfferAmendStageDone))},directives:[r.e,r.b,n.n,c.a,c.e,c.h,c.d,r.f,r.d,x.a,c.b,v.a,l.b,o.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}"],data:{animation:m.a}}),t})();function oo(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",10),i.Xb(1,"div",11),i.Xb(2,"div",12),i.Xb(3,"div",13),i.Xb(4,"mat-form-field",14),i.Xb(5,"mat-label"),i.Tc(6,"Applicant Name*"),i.Wb(),i.Xb(7,"input",15),i.fc("keypress",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",13),i.Xb(9,"mat-form-field",14),i.Xb(10,"mat-label"),i.Tc(11,"Loan Tenure*"),i.Wb(),i.Xb(12,"input",16),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(13,"div",13),i.Xb(14,"mat-form-field",14),i.Xb(15,"mat-label"),i.Tc(16,"Installment Frequency"),i.Wb(),i.Sb(17,"input",17),i.Wb(),i.Wb(),i.Xb(18,"div",13),i.Xb(19,"mat-form-field",14),i.Xb(20,"mat-label"),i.Tc(21,"Approved Loan Amount"),i.Wb(),i.Xb(22,"input",18),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(23,"div",13),i.Xb(24,"mat-form-field",14),i.Xb(25,"mat-label"),i.Tc(26,"Installment Type"),i.Wb(),i.Sb(27,"input",19),i.Wb(),i.Wb(),i.Xb(28,"div",13),i.Xb(29,"mat-form-field",14),i.Xb(30,"mat-label"),i.Tc(31,"Principal"),i.Wb(),i.Xb(32,"input",20),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(33,"div",13),i.Xb(34,"mat-form-field",14),i.Xb(35,"mat-label"),i.Tc(36,"Installment Amount"),i.Wb(),i.Xb(37,"input",21),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(38,"div",13),i.Xb(39,"mat-form-field",14),i.Xb(40,"mat-label"),i.Tc(41,"Offer Issue Date*"),i.Wb(),i.Sb(42,"input",22),i.Sb(43,"mat-datepicker-toggle",23),i.Wb(),i.Sb(44,"mat-datepicker",null,24),i.Wb(),i.Wb(),i.Xb(46,"div",12),i.Xb(47,"div",13),i.Xb(48,"mat-form-field",14),i.Xb(49,"mat-label"),i.Tc(50,"Approved Loan Amount*"),i.Wb(),i.Xb(51,"input",25),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(52,"div",13),i.Xb(53,"mat-form-field",14),i.Xb(54,"mat-label"),i.Tc(55,"Installment Type"),i.Wb(),i.Sb(56,"input",19),i.Wb(),i.Wb(),i.Xb(57,"div",13),i.Xb(58,"mat-form-field",14),i.Xb(59,"mat-label"),i.Tc(60,"Rate Of Interest(%)*"),i.Wb(),i.Xb(61,"input",26),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"div",13),i.Xb(63,"mat-form-field",14),i.Xb(64,"mat-label"),i.Tc(65,"Loan Tenure*"),i.Wb(),i.Xb(66,"input",16),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(67,"div",13),i.Xb(68,"mat-form-field",14),i.Xb(69,"mat-label"),i.Tc(70,"Rate Of Interest(%)*"),i.Wb(),i.Xb(71,"input",26),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(72,"div",13),i.Xb(73,"mat-form-field",14),i.Xb(74,"mat-label"),i.Tc(75,"Interest*"),i.Wb(),i.Xb(76,"input",27),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(77,"div",13),i.Xb(78,"mat-form-field",14),i.Xb(79,"mat-label"),i.Tc(80,"Charges*"),i.Wb(),i.Xb(81,"input",28),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(82,"div",13),i.Xb(83,"mat-form-field",14),i.Xb(84,"mat-label"),i.Tc(85,"Generate Offer*"),i.Wb(),i.Sb(86,"input",29),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(87,"div",30),i.Xb(88,"button",31),i.Tc(89," Back "),i.Wb(),i.Xb(90,"button",32),i.fc("click",function(){return i.Hc(t),i.jc().Done()}),i.Tc(91," Done "),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(45),e=i.jc();i.rc("formGroup",e.OfferIssueForm),i.Eb(42),i.rc("matDatepicker",t),i.Eb(1),i.rc("for",t)}}let ro=(()=>{class t{constructor(t,e){this.fb=t,this.router=e}ngOnInit(){this.buildformGroup()}buildformGroup(){this.OfferIssueForm=this.fb.group({id:[""],applicant_name:[""],instalment_frequency:[""],offer_issue_date:[""],account_type:[""],principal:[""],loan_amount:[""],loan_tenure:[""]})}Done(){this.router.navigate(["/loan/account/offerstage/list"])}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offer-issue"]],decls:16,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","name","a_sig","placeholder","Applicant Name",3,"keypress"],["matInput","","name","a_sig","placeholder","5 Years","maxlength","2",3,"keypress"],["matInput","","name","a_sig","placeholder","Monthly","maxlength","8"],["matInput","","name","a_sig","placeholder","$200,000","maxlength","12",3,"keypress"],["matInput","","name","a_sig","placeholder","EMI"],["matInput","","name","a_sig","placeholder","$500,000","maxlength","8",3,"keypress"],["matInput","","name","a_sig","placeholder","$120,000","maxlength","8",3,"keypress"],["matInput","","name","date","readonly","","placeholder","12/12/2020",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","name","a_sig","placeholder","$500,000","maxlength","12",3,"keypress"],["matInput","","name","a_sig","placeholder","9.4","maxlength","2",3,"keypress"],["matInput","","name","a_sig","placeholder","$147,677","maxlength","8",3,"keypress"],["matInput","","name","a_sig","placeholder","$100","maxlength","5",3,"keypress"],["matInput","","name","a_sig","placeholder","With Schedule"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Offer Issue Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title",7),i.Xb(11,"div",8),i.Tc(12,"Offer Issue Information"),i.Wb(),i.Sb(13,"mat-divider"),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,oo,92,3,"form",9),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.OfferIssueForm))},directives:[r.e,r.b,c.a,c.h,x.a,c.d,n.n,V.A,V.s,V.j,r.f,r.d,s.c,s.g,z.b,Q.e,Q.g,s.j,Q.d,l.b],styles:[""]}),t})();function co(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Applicant Name "),i.Wb())}function so(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please select Offer Expiry Date "),i.Wb())}function lo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Approved Loan Amount "),i.Wb())}function bo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Instalment Type "),i.Wb())}function mo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Margin "),i.Wb())}function uo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please select Offer Issue Date "),i.Wb())}function po(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please select Offer Amend Date "),i.Wb())}function fo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Loan Amount Recommended "),i.Wb())}function go(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Please Enter Rate Of Interest "),i.Wb())}function ho(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0Please Enter Effective Rate "),i.Wb())}function vo(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",14),i.Xb(3,"div",15),i.Xb(4,"mat-form-field",16),i.Xb(5,"mat-label"),i.Tc(6,"Applicant Name"),i.Wb(),i.Xb(7,"input",17),i.fc("keypress",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Rc(8,co,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div",19),i.Xb(10,"div",15),i.Xb(11,"mat-form-field",16),i.Xb(12,"mat-label"),i.Tc(13," Offer Expiry Date"),i.Wb(),i.Xb(14,"input",20),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Sb(15,"mat-datepicker-toggle",21),i.Sb(16,"mat-datepicker",null,22),i.Rc(18,so,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",14),i.Xb(20,"div",15),i.Xb(21,"mat-form-field",16),i.Xb(22,"mat-label"),i.Tc(23,"Approved Loan Amount"),i.Wb(),i.Xb(24,"input",23),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(25,lo,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"div",19),i.Xb(27,"div",15),i.Xb(28,"mat-form-field",16),i.Xb(29,"mat-label"),i.Tc(30," Installment Type"),i.Wb(),i.Xb(31,"mat-select",24),i.Xb(32,"mat-option",25),i.Tc(33,"EMI"),i.Wb(),i.Wb(),i.Rc(34,bo,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div",14),i.Xb(36,"div",15),i.Xb(37,"mat-form-field",16),i.Xb(38,"mat-label"),i.Tc(39,"Margin"),i.Wb(),i.Xb(40,"input",26),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress1(e)}),i.Wb(),i.Rc(41,mo,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(42,"div",19),i.Xb(43,"div",15),i.Xb(44,"mat-form-field",16),i.Xb(45,"mat-label"),i.Tc(46,"Offer Issue Date*"),i.Wb(),i.Xb(47,"input",27),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Sb(48,"mat-datepicker-toggle",21),i.Sb(49,"mat-datepicker",null,28),i.Rc(51,uo,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(52,"div",14),i.Xb(53,"div",15),i.Xb(54,"mat-form-field",16),i.Xb(55,"mat-label"),i.Tc(56,"Offer Amend Date*"),i.Wb(),i.Xb(57,"input",29),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Sb(58,"mat-datepicker-toggle",21),i.Sb(59,"mat-datepicker",null,30),i.Rc(61,po,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"div",19),i.Xb(63,"div",15),i.Xb(64,"mat-form-field",16),i.Xb(65,"mat-label"),i.Tc(66,"Loan Amount Recommended"),i.Wb(),i.Xb(67,"input",31),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(68,fo,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(69,"div",14),i.Xb(70,"div",0),i.Xb(71,"label",32),i.Tc(72,"Loan Tenure *"),i.Wb(),i.Xb(73,"mat-form-field",33),i.Xb(74,"mat-label"),i.Tc(75,"Year"),i.Wb(),i.Sb(76,"input",34),i.Wb(),i.Xb(77,"mat-form-field",35),i.Xb(78,"mat-label"),i.Tc(79,"Month"),i.Wb(),i.Xb(80,"input",36),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("input",function(e){return i.Hc(t),i.jc().limitMonth(e)}),i.Wb(),i.Wb(),i.Xb(81,"mat-form-field",35),i.Xb(82,"mat-label"),i.Tc(83,"Day"),i.Wb(),i.Xb(84,"input",37),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress1(e)})("input",function(e){return i.Hc(t),i.jc().limitDays(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(85,"div",19),i.Xb(86,"div",15),i.Xb(87,"mat-form-field",16),i.Xb(88,"mat-label"),i.Tc(89,"Rate Of Interest(%)"),i.Wb(),i.Xb(90,"input",38),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress1(e)}),i.Wb(),i.Rc(91,go,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(92,"div",14),i.Xb(93,"div",15),i.Xb(94,"mat-form-field",16),i.Xb(95,"mat-label"),i.Tc(96,"Effective Rate(%)"),i.Wb(),i.Xb(97,"input",39),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress1(e)}),i.Wb(),i.Rc(98,ho,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(17),e=i.Dc(50),a=i.Dc(60),n=i.jc();i.rc("formGroup",n.PostOfferAmendmentForm),i.Eb(8),i.rc("ngIf",!n.PostOfferAmendmentForm.get("applicantName").valid&&n.PostOfferAmendmentForm.get("applicantName").touched),i.Eb(6),i.rc("min",n.PostOfferAmendmentForm.get("offerIssueDate").value)("matDatepicker",t),i.Eb(1),i.rc("for",t),i.Eb(3),i.rc("ngIf",!n.PostOfferAmendmentForm.get("offerExpiryDate").valid&&n.PostOfferAmendmentForm.get("offerExpiryDate").touched),i.Eb(7),i.rc("ngIf",!n.PostOfferAmendmentForm.get("approvedLoanAmount").valid&&n.PostOfferAmendmentForm.get("approvedLoanAmount").touched),i.Eb(9),i.rc("ngIf",!n.PostOfferAmendmentForm.get("installmentType").valid&&n.PostOfferAmendmentForm.get("installmentType").touched),i.Eb(7),i.rc("ngIf",!n.PostOfferAmendmentForm.get("margin").valid&&n.PostOfferAmendmentForm.get("margin").touched),i.Eb(6),i.rc("min",n.PostOfferAmendmentForm.get("offerIssueDate").value)("matDatepicker",e),i.Eb(1),i.rc("for",e),i.Eb(3),i.rc("ngIf",!n.PostOfferAmendmentForm.get("offerIssueDate").valid&&n.PostOfferAmendmentForm.get("offerIssueDate").touched),i.Eb(6),i.rc("matDatepicker",a),i.Eb(1),i.rc("for",a),i.Eb(3),i.rc("ngIf",!n.PostOfferAmendmentForm.get("offerAmendDate").valid&&n.PostOfferAmendmentForm.get("offerAmendDate").touched),i.Eb(7),i.rc("ngIf",!n.PostOfferAmendmentForm.get("loanAmmountRecommended").valid&&n.PostOfferAmendmentForm.get("loanAmmountRecommended").touched),i.Eb(23),i.rc("ngIf",!n.PostOfferAmendmentForm.get("rateOfInterest").valid&&n.PostOfferAmendmentForm.get("rateOfInterest").touched),i.Eb(7),i.rc("ngIf",!n.PostOfferAmendmentForm.get("effectiveRate").valid&&n.PostOfferAmendmentForm.get("effectiveRate").touched)}}let Wo=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s){this.fb=t,this.api=e,this.ls=a,this.loader=n,this.appApiService=i,this.apiService=o,this.snack=r,this.accountService=c,this.router=s,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.maxDate=new Date,this.minDate=new Date,this.maxDate.setDate(this.maxDate.getDate()+13)}ngOnInit(){this.selectedYear=(new Date).getFullYear();for(let e=0;e<=50;e++)this.years.push(e);for(let e=0;e<=11;e++)this.months.push(e);for(let e=0;e<=30;e++)this.days.push(e);this.loanAccountId=this.ls.getItem("loanAccountId"),console.log(this.loanAccountId),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("post-offer-amend-stage"));console.log(t),setTimeout(()=>{null!=this.loanAccountId&&t?(this.showEditOption=!0,this.getAmendDetails()):(this.showEditOption=!1,this.buildformGroup({}))},10),this.fetchByCif(),this.loanData(),this.intrestData(),this.installmentTypeData()}getAmendDetails(){this.api.getOfferAmendmentDetails(this.loanAccountId).subscribe(t=>{console.log(t),this.buildformGroup(t)})}buildformGroup(t){t.offerIssueDate=t?$(t.offerIssueDate).format():"",t.offerExpiryDate=t?$(t.offerExpiryDate).format():"",t.offerAmendDate=t?$(t.offerAmendDate).format():"",this.PostOfferAmendmentForm=this.fb.group({loanAccountId:this.loanAccountId,applicantName:[t?t.applicantName:""],offerIssueDate:[t?t.offerIssueDate:""],offerExpiryDate:[t?t.offerExpiryDate:""],offerAmendDate:[t?t.offerAmendDate:""],installmentType:[t?t.installmentType:""],margin:[t?t.margin:""],approvedLoanAmount:[t?t.approvedLoanAmount:""],loanAmmountRecommended:[t?t.loanAmmountRecommended:""],loanTenure:[t?t.loanTenure:""],rateOfInterest:[t?t.rateOfInterest:""],effectiveRate:[t?t.effectiveRate:""],year:[t?t.year:""],month:[t?t.month:""],day:[t?t.day:""]})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}limitMonth(t){Number(t.target.value)>12&&(t.target.value=t.target.value.slice(0,1))}limitDays(t){Number(t.target.value)>31&&(t.target.value=t.target.value.slice(0,1))}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}submit(){this.ls.setItem("post-offer-amend-stage",!0),this.loanAccountId=this.ls.getItem("loanAccountId"),console.log("loanAccountId",this.loanAccountId),this.PostOfferAmendmentForm.get("loanAccountId").setValue(this.ls.getItem("loanAccountId"));var t=this.PostOfferAmendmentForm.value.rateOfInterest;t=parseInt(t),this.PostOfferAmendmentForm.get("rateOfInterest").setValue(t);var e=this.PostOfferAmendmentForm.value.loanAmmountRecommended;e=parseInt(e),this.PostOfferAmendmentForm.get("loanAmmountRecommended").setValue(e),this.PostOfferAmendmentForm.value.rateOfInterest=t;var a=this.PostOfferAmendmentForm.value.margin;a=parseInt(a),this.PostOfferAmendmentForm.get("margin").setValue(a);var n=this.PostOfferAmendmentForm.value.effectiveRate;n=parseInt(n),this.PostOfferAmendmentForm.get("effectiveRate").setValue(n);let i=new Date;i=this.PostOfferAmendmentForm.value.offerIssueDate;var o=$(i).format("YYYY-MMM-DD");let r=new Date;r=this.PostOfferAmendmentForm.value.offerExpiryDate;var c=$(r).format("YYYY-MMM-DD");let s=new Date;s=this.PostOfferAmendmentForm.value.offerAmendDate;var l=$(s).format("YYYY-MMM-DD");const b=this.PostOfferAmendmentForm.value.year+"year-"+this.PostOfferAmendmentForm.value.month+"month-"+this.PostOfferAmendmentForm.value.day+"day";this.PostOfferAmendmentForm.get("loanTenure").setValue(b),this.PostOfferAmendmentForm.value.loanTenure=b;var m=this.PostOfferAmendmentForm.value.approvedLoanAmount;m=parseInt(m);let u={loanAccountId:this.loanAccountId,approvedLoanAmount:m,applicantName:this.PostOfferAmendmentForm.value.applicantName,loanTenure:b,installmentType:this.PostOfferAmendmentForm.value.installmentType,effectiveRate:n,margin:a,rateOfInterest:t,offerIssueDate:o,offerAmendDate:l,offerExpiryDate:c,loanAmmountRecommended:e};console.log("payload",u),this.api.uploadPostOfferAmendmentDetails(u).subscribe(t=>{console.log(t),null!==t&&this.snack.open(" Post Offer Amendment Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next()},t=>{console.log(t)})}next(){this.ls.setItem("PostOfferAmmendementScreen",!0),this.ls.setItem("PostOfferAmmendementStageScreen",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/account-creation-stage"])}goBack(){this.router.navigate(["/loan/account/post-offer-amend-stage/list"])}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}fetchByCif(){this.cifNumber=this.ls.getItem("cId"),console.log(this.cifNumber),this.appApiService.fetchByCif(this.cifNumber).subscribe(t=>{console.log(t),console.log(t.customerInfoList[0].firstName),this.PostOfferAmendmentForm.get("applicantName").setValue(t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName)},t=>{console.error(t)})}loanData(){console.log(this.loanAccountId),this.apiService.fetchByLoanAccountId(this.loanAccountId).subscribe(t=>{console.log(t),console.log(t.approvedLoanAmount),this.PostOfferAmendmentForm.get("approvedLoanAmount").setValue(t.approvedLoanAmount),console.log(t.loanTenure),this.year=Number(t.loanTenure.split("-")[0].match(/\d+/)[0]),console.log(this.year),this.month=Number(t.loanTenure.split("-")[1].match(/\d+/)[0]),console.log(this.month),this.day=Number(t.loanTenure.split("-")[2].match(/\d+/)[0]),console.log(this.day),this.PostOfferAmendmentForm.get("year").setValue(this.year),this.PostOfferAmendmentForm.get("month").setValue(this.month),this.PostOfferAmendmentForm.get("day").setValue(this.day)},t=>{console.error(t)})}intrestData(){console.log(this.loanAccountId),this.apiService.fetchLoanAssessment(this.loanAccountId).subscribe(t=>{console.log(t),this.PostOfferAmendmentForm.get("rateOfInterest").setValue(t.rateOfInterest),this.PostOfferAmendmentForm.get("loanAmmountRecommended").setValue(t.loanAmountRecommendation)})}installmentTypeData(){console.log(this.loanAccountId),this.apiService.getOfferAcceptReject(this.loanAccountId).subscribe(t=>{console.log(t),this.PostOfferAmendmentForm.get("installmentType").setValue(t.installmentType);let e=$(t.offerIssueDate).format();this.PostOfferAmendmentForm.get("offerIssueDate").setValue(e),console.log(e)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(p.b),i.Rb(u.a),i.Rb(yt.a),i.Rb(Ne.a),i.Rb(p.b),i.Rb(h.a),i.Rb(K.a),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-post-offer-amendment"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/post_amend_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"full-width"],["fxFlex","50%","fxFlex.xs","100%",1,"pr-2"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["matInput","","type","text","maxlength","15","name","a_sig","placeholder","Applicant Name","formControlName","applicantName","required","",3,"keypress"],[4,"ngIf"],["fxFlex","50%","fxFlex.xs","100%",1,"p-2"],["matInput","","readonly","","name","offerExpiryDate","formControlName","offerExpiryDate","required","",3,"min","matDatepicker","keypress"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","placeholder","Approved Loan Account","maxlength","10","name","approvedLoanAmount","formControlName","approvedLoanAmount","readonly","","required","",3,"keypress"],["name","installmentType","placeholder","Select","disableOptionCentering","","formControlName","installmentType","required",""],["value","EMI"],["matInput","","maxlength","3","name","margin","placeholder","Margin","formControlName","margin","required","",3,"keypress"],["matInput","","readonly","","name","issuedate","formControlName","offerIssueDate",3,"min","matDatepicker","keypress"],["appDatepicker1",""],["matInput","","readonly","","name","amenddate","formControlName","offerAmendDate",3,"matDatepicker","keypress"],["appDatepicker2",""],["matInput","","placeholder"," Loan Account Recommended","maxlength","10","name","a_sig","formControlName","loanAmmountRecommended","required","",3,"keypress"],[1,"size"],["appearance","outline","fxFlex","23",1,"full-width","tenure1"],["matInput","","formControlName","year","name","year","placeholder","Year","autocomplete","off","maxlength","2",1,"alignment"],["appearance","outline","fxFlex","21.5",1,"full-width","tenure1"],["matInput","","formControlName","month","name","month","placeholder","Month","autocomplete","off",1,"alignment",3,"keypress","input"],["matInput","","formControlName","day","name","day","placeholder","Day","autocomplete","off",1,"alignment",3,"keypress","input"],["matInput","","maxlength","3","name","rateOfInterest","placeholder","Rate Of Interest","formControlName","rateOfInterest","required","",3,"keypress"],["matInput","","maxlength","3","name","effectiveRate","placeholder","Effective Rate(%)","formControlName","effectiveRate","required","",3,"keypress"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Post Offer Amendment"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title"),i.Xb(11,"fieldset"),i.Xb(12,"legend",7),i.Tc(13,"Post Offer Amendment Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,vo,99,19,"form",8),i.Wb(),i.Wb(),i.Xb(16,"div",9),i.Xb(17,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(18," Back "),i.Wb(),i.Xb(19,"button",11),i.fc("click",function(){return e.submit()}),i.Tc(20," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.PostOfferAmendmentForm),i.Eb(4),i.rc("disabled",e.PostOfferAmendmentForm.invalid))},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,s.c,s.g,z.b,V.c,V.m,V.r,V.i,V.y,Q.e,Q.g,s.j,Q.d,q.a,B.n,s.b],styles:[".card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.postData[_ngcontent-%COMP%], .sqInput1[_ngcontent-%COMP%]{height:56px}.sqInput1[_ngcontent-%COMP%]{width:29.5%;margin-left:2.5%}.Back[_ngcontent-%COMP%]{background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;color:#fff}.Next[_ngcontent-%COMP%]{background-color:#426af5;border-radius:55px}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}input[_ngcontent-%COMP%]{border:none;outline:none}.alignCChange[_ngcontent-%COMP%]{margin-right:0!important}.alignCChange[_ngcontent-%COMP%], .tenureChange[_ngcontent-%COMP%]{margin-left:0!important}.tenureMarginChange[_ngcontent-%COMP%]{margin-right:0!important}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.size[_ngcontent-%COMP%]{margin-top:15px}"]}),t})();function Xo(t,e){if(1&t&&(i.Xb(0,"form",10),i.Xb(1,"div",11),i.Xb(2,"div",12),i.Xb(3,"div",13),i.Xb(4,"mat-form-field",14),i.Xb(5,"mat-label"),i.Tc(6,"Loan Amount*"),i.Wb(),i.Sb(7,"input",15),i.Wb(),i.Wb(),i.Xb(8,"div",13),i.Xb(9,"mat-form-field",14),i.Xb(10,"mat-label"),i.Tc(11,"First Disbursement Date*"),i.Wb(),i.Sb(12,"input",16),i.Sb(13,"mat-datepicker-toggle",17),i.Wb(),i.Sb(14,"mat-datepicker",null,18),i.Wb(),i.Xb(16,"div",13),i.Xb(17,"mat-form-field",14),i.Xb(18,"mat-label"),i.Tc(19,"Disbursement Mode"),i.Wb(),i.Sb(20,"input",19),i.Wb(),i.Wb(),i.Xb(21,"div",13),i.Xb(22,"mat-form-field",14),i.Xb(23,"mat-label"),i.Tc(24,"Branch Code"),i.Wb(),i.Sb(25,"input",20),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"div",12),i.Xb(27,"div",13),i.Xb(28,"mat-form-field",14),i.Xb(29,"mat-label"),i.Tc(30,"Disbursement Frequency*"),i.Wb(),i.Sb(31,"input",21),i.Wb(),i.Wb(),i.Xb(32,"a",22),i.Xb(33,"u"),i.Tc(34," Disbursement Schedule"),i.Wb(),i.Wb(),i.Xb(35,"div",13),i.Xb(36,"mat-form-field",14),i.Xb(37,"mat-label"),i.Tc(38,"Customer Account"),i.Wb(),i.Sb(39,"input",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(40,"div",24),i.Xb(41,"button",25),i.Tc(42," Back "),i.Wb(),i.Xb(43,"button",26),i.Tc(44," Next "),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(15),e=i.jc();i.rc("formGroup",e.loanDisbursementForm),i.Eb(12),i.rc("matDatepicker",t),i.Eb(1),i.rc("for",t)}}let yo=(()=>{class t{constructor(t){this.fb=t}ngOnInit(){this.buildformGroup()}buildformGroup(){this.loanDisbursementForm=this.fb.group({id:[""],loan_amount:[""],first_disbursement_date:[""],disbursement_mode:[""],branch_code:[""],disbursement_frequency:[""],customer_account:[""]})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-disbursement"]],decls:16,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","name","a_sig","placeholder","$2,000,000"],["matInput","","name","date","placeholder","12/03/2020",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","name","a_sig","placeholder","Internal Account"],["matInput","","name","a_sig","placeholder","009"],["matInput","","name","a_sig","placeholder","Monthly"],[2,"color","rgb(0, 153, 255)"],["matInput","","name","a_sig","placeholder","1940048000"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary"],["mat-raised-button","","color","primary"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Loan Disbursement Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title",7),i.Xb(11,"div",8),i.Tc(12,"Loan Disbursement Details"),i.Wb(),i.Sb(13,"mat-divider"),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,Xo,45,3,"form",9),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.loanDisbursementForm))},directives:[r.e,r.b,c.a,c.h,x.a,c.d,n.n,V.A,V.s,V.j,r.f,r.d,s.c,s.g,z.b,Q.e,Q.g,s.j,Q.d,l.b],styles:[""]}),t})();function xo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Product Name is Required! "),i.Wb())}function Co(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Vehicle Class is Required! "),i.Wb())}function Io(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Maker is Required! "),i.Wb())}function Oo(t,e){if(1&t&&(i.Xb(0,"mat-option",62),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Ao(t,e){if(1&t&&(i.Xb(0,"mat-option",62),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Do(t,e){if(1&t&&(i.Xb(0,"mat-option",62),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function To(t,e){if(1&t&&(i.Xb(0,"mat-option",62),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.value1),i.Eb(1),i.Uc(t.value1)}}function So(t,e){if(1&t&&(i.Xb(0,"mat-error"),i.Tc(1),i.Wb()),2&t){const t=i.jc(2);i.Eb(1),i.Vc(" Enter the valid policy number ",t.minlength," . ")}}function ko(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",14),i.Xb(3,"div",15),i.Xb(4,"mat-form-field",16),i.Xb(5,"mat-label"),i.Tc(6,"Product Name*"),i.Wb(),i.Sb(7,"input",17),i.Rc(8,xo,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Xb(9,"div",15),i.Xb(10,"mat-form-field",16),i.Xb(11,"mat-label"),i.Tc(12,"Hypothecated Branch"),i.Wb(),i.Xb(13,"mat-select",19),i.Xb(14,"mat-option",20),i.Tc(15,"test"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"div",14),i.Xb(17,"div",15),i.Xb(18,"mat-form-field",16),i.Xb(19,"mat-label"),i.Tc(20,"Vehicle Class*"),i.Wb(),i.Xb(21,"mat-select",21),i.Xb(22,"mat-option"),i.Tc(23,"Select"),i.Wb(),i.Xb(24,"mat-option",22),i.Tc(25,"New"),i.Wb(),i.Rc(26,Co,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div",15),i.Xb(28,"mat-form-field",16),i.Xb(29,"mat-label"),i.Tc(30,"Maker*"),i.Wb(),i.Sb(31,"input",23),i.Rc(32,Io,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Xb(33,"div",14),i.Xb(34,"div",15),i.Xb(35,"mat-form-field",16),i.Xb(36,"mat-label"),i.Tc(37,"Model"),i.Wb(),i.Sb(38,"input",24),i.Wb(),i.Wb(),i.Xb(39,"div",15),i.Xb(40,"div",25),i.Xb(41,"mat-hint",26),i.Xb(42,"b"),i.Tc(43,"Maker MM/YYYY *"),i.Wb(),i.Wb(),i.Wb(),i.Xb(44,"div",27),i.Xb(45,"mat-form-field",16),i.Xb(46,"mat-label"),i.Tc(47,"Year* "),i.Wb(),i.Xb(48,"mat-select",28),i.Xb(49,"mat-option"),i.Tc(50,"Select"),i.Wb(),i.Rc(51,Oo,2,2,"mat-option",29),i.Wb(),i.Wb(),i.Wb(),i.Xb(52,"div",30),i.Xb(53,"mat-form-field",16),i.Xb(54,"mat-label"),i.Tc(55,"Month* "),i.Wb(),i.Xb(56,"mat-select",31),i.Xb(57,"mat-option"),i.Tc(58,"Select"),i.Wb(),i.Rc(59,Ao,2,2,"mat-option",29),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(60,"div",14),i.Xb(61,"div",15),i.Xb(62,"mat-form-field",16),i.Xb(63,"mat-label"),i.Tc(64,"Chassis Number"),i.Wb(),i.Sb(65,"input",32),i.Wb(),i.Wb(),i.Xb(66,"div",15),i.Xb(67,"mat-form-field",16),i.Xb(68,"mat-label"),i.Tc(69,"Engine Number"),i.Wb(),i.Sb(70,"input",33),i.Wb(),i.Wb(),i.Wb(),i.Xb(71,"div",14),i.Xb(72,"div",15),i.Xb(73,"mat-form-field",16),i.Xb(74,"mat-label"),i.Tc(75,"Registration Number"),i.Wb(),i.Sb(76,"input",34),i.Wb(),i.Wb(),i.Xb(77,"div",15),i.Xb(78,"mat-form-field",16),i.Xb(79,"mat-label"),i.Tc(80,"Registration State"),i.Wb(),i.Xb(81,"mat-select",35),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().getCityName(e.value)}),i.Rc(82,Do,2,2,"mat-option",29),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(83,"div",14),i.Xb(84,"div",15),i.Xb(85,"mat-form-field",16),i.Xb(86,"mat-label"),i.Tc(87,"Registration City"),i.Wb(),i.Xb(88,"mat-select",36),i.Rc(89,To,2,2,"mat-option",29),i.Wb(),i.Wb(),i.Wb(),i.Xb(90,"div",15),i.Xb(91,"mat-form-field",16),i.Xb(92,"mat-label"),i.Tc(93,"Expected Selling Price"),i.Wb(),i.Xb(94,"input",37),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(95,"div",14),i.Xb(96,"div",38),i.Xb(97,"mat-form-field",16),i.Xb(98,"mat-label"),i.Tc(99,"Distance Run"),i.Wb(),i.Sb(100,"input",39),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(101,"mat-card-title"),i.Xb(102,"fieldset",40),i.Xb(103,"legend",7),i.Tc(104,"Insurance Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(105,"div",41),i.Xb(106,"div",42),i.Xb(107,"div",43),i.Xb(108,"mat-form-field",16),i.Xb(109,"mat-label"),i.Tc(110,"Insurance Details"),i.Wb(),i.Sb(111,"input",44),i.Wb(),i.Wb(),i.Xb(112,"div",43),i.Xb(113,"mat-form-field",16),i.Xb(114,"mat-label"),i.Tc(115,"Policy Number"),i.Wb(),i.Xb(116,"input",45),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("ngModelChange",function(e){return i.Hc(t),i.jc().changeInput(e)}),i.Wb(),i.Wb(),i.Rc(117,So,2,1,"mat-error",18),i.Wb(),i.Xb(118,"div",43),i.Xb(119,"mat-form-field",16),i.Xb(120,"mat-label"),i.Tc(121,"Premium Amount"),i.Wb(),i.Xb(122,"input",46),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(123,"div",42),i.Xb(124,"div",43),i.Xb(125,"mat-form-field",16),i.Xb(126,"mat-label"),i.Tc(127,"Insurance Company"),i.Wb(),i.Sb(128,"input",47),i.Wb(),i.Wb(),i.Xb(129,"div",43),i.Xb(130,"mat-form-field",16),i.Xb(131,"mat-label"),i.Tc(132,"Policy Commencement Date *"),i.Wb(),i.Sb(133,"input",48),i.Xb(134,"div",49),i.Sb(135,"mat-datepicker-toggle",50),i.Sb(136,"mat-datepicker",null,51),i.Wb(),i.Wb(),i.Wb(),i.Xb(138,"div",43),i.Xb(139,"mat-form-field",16),i.Xb(140,"mat-label"),i.Tc(141,"Premium Frequency"),i.Wb(),i.Xb(142,"mat-select",52),i.Xb(143,"mat-option",53),i.Tc(144,"Select"),i.Wb(),i.Xb(145,"mat-option",54),i.Tc(146,"Monthly"),i.Wb(),i.Xb(147,"mat-option",55),i.Tc(148,"Quaterly"),i.Wb(),i.Xb(149,"mat-option",56),i.Tc(150,"Half-yearly"),i.Wb(),i.Xb(151,"mat-option",57),i.Tc(152,"Yearly"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(153,"div",58),i.Xb(154,"div",59),i.Xb(155,"div",43),i.Xb(156,"mat-form-field",16),i.Xb(157,"mat-label"),i.Tc(158,"Policy Renewal Date *"),i.Wb(),i.Sb(159,"input",60),i.Xb(160,"div",49),i.Sb(161,"mat-datepicker-toggle",50),i.Sb(162,"mat-datepicker",null,61),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(137),e=i.Dc(163),a=i.jc();i.rc("formGroup",a.vehicleForm),i.Eb(8),i.rc("ngIf",!a.vehicleForm.get("productName").valid&&a.vehicleForm.get("productName").touched),i.Eb(18),i.rc("ngIf",!a.vehicleForm.get("vehicleClass").valid&&a.vehicleForm.get("vehicleClass").touched),i.Eb(6),i.rc("ngIf",!a.vehicleForm.get("maker").valid&&a.vehicleForm.get("maker").touched),i.Eb(19),i.rc("ngForOf",a.years),i.Eb(8),i.rc("ngForOf",a.months),i.Eb(23),i.rc("ngForOf",a.arrayState),i.Eb(7),i.rc("ngForOf",a.arrayCity),i.Eb(28),i.rc("ngIf",!a.vehicleForm.get("policyNumber").valid&&a.vehicleForm.get("policyNumber").errors.minlength),i.Eb(16),i.rc("matDatepicker",t),i.Eb(2),i.rc("for",t),i.Eb(24),i.rc("min",a.vehicleForm.get("policyCommencementDate").value)("matDatepicker",e),i.Eb(2),i.rc("for",e)}}let _o=(()=>{class t{constructor(t,e,a,n,i,o,r,c){this.fb=t,this.ls=e,this.loader=a,this.apiService=n,this.snack=i,this.accountService=o,this.router=r,this.datepipe=c,this.showEditOption=!1,this.months=[],this.years=[],this.policyNumber=!0}ngOnInit(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.productName=this.ls.getItem("productName"),this.selectedYear=(new Date).getFullYear();for(let e=this.selectedYear;e>=1990;e--)this.years.push(e);this.months=["01","02","03","04","05","06","07","08","09","10","11","12"];let t=JSON.parse(this.ls.getItem("VEHICLE_DETAIL_DONE"));setTimeout(()=>{null!=this.loanaccountID&&t?(this.showEditOption=!0,this.getVehicleDetails()):(console.log("else"),this.showEditOption=!1,this.buildformGroup())},10),this.getStateName()}changeInput(t){this.policyNumber=!t.length}getVehicleDetails(){this.loader.open(),this.apiService.getVehicleDetails(this.loanaccountID).subscribe(t=>{this.loader.close(),this.vehicleDetails=t,this.buildformGroup(this.vehicleDetails)},t=>{this.loader.close()})}buildformGroup(t){this.getStateName(),this.vehicleForm=this.fb.group({id:[""],insuranceDetails:[t?t.insuranceDetails:""],distanceRun:[t?t.distanceRun:""],engineNumber:[t?t.engineNumber:""],expectedSellingPrice:[t?t.expectedSellingPrice:""],insuranceCompany:[t?t.insuranceCompany:""],model:[t?t.model:""],policyCommencementDate:[t?this.datepipe.transform(t.policyCommencementDate,"yyyy-MM-dd"):"",[V.z.required]],policyNumber:[t?t.policyNumber:""],policyRenewalDate:[t?this.datepipe.transform(t.policyRenewalDate,"yyyy-MM-dd"):"",[V.z.required]],premiunAmount:[t?t.premiunAmount:""],premiunFrequency:[t?t.premiunFrequency:""],productName:[t?t.productName:this.productName,[V.z.required]],maker:[t?t.maker:"",[V.z.required]],hypothecatedBranch:[t?t.hypothecatedBranch:""],registrationCity:[t?t.registrationCity:""],registrationNumber:[t?t.registrationNumber:""],registrationState:[t?t.registrationState:""],vehicleClass:[t?t.vehicleClass:"",[V.z.required]],chassisNumber:[t?t.chassisNumber:""],make:[t?t.make:""],month:[t?t.make.split("-")[1]:"",[V.z.required]],year:[t?t.make.split("-")[0]:"",[V.z.required]]})}goBack(){this.router.navigate(["/loan/account/loan-details"])}getStateName(){this.apiService.getDropDownValues("state").subscribe(t=>{this.arrayState=t.sort()})}getCityName(t){console.log("inside getCityName::",t),this.apiService.getDropDownValues1("city",t).subscribe(t=>{this.arrayCity=t})}next(){this.ls.setItem("VEHICLE_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/customer-information"])}_keyPress(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}convertDate(t){let e=$(t).format("YYYY-MM-DD");if(e)return e}submitForm(){var t=this.vehicleForm.value.expectedSellingPrice;t=parseInt(t);var e=this.vehicleForm.value.premiunAmount;e=parseInt(e);const a=this.vehicleForm.value.year+"-"+this.vehicleForm.value.month;this.vehicleForm.get("make").setValue(a);let n={loanAccountId:this.loanaccountID,insuranceDetails:this.vehicleForm.value.insuranceDetails,distanceRun:this.vehicleForm.value.distanceRun,engineNumber:this.vehicleForm.value.engineNumber,expectedSellingPrice:t,insuranceCompany:this.vehicleForm.value.insuranceCompany,purposeOfLoan:this.vehicleForm.value.purposeOfLoan,model:this.vehicleForm.value.model,policyNumber:this.vehicleForm.value.policyNumber,policyRenewalDate:this.datepipe.transform(this.vehicleForm.value.policyRenewalDate,"yyyy-MMM-dd"),policyCommencementDate:this.datepipe.transform(this.vehicleForm.value.policyCommencementDate,"yyyy-MMM-dd"),premiunAmount:e,premiunFrequency:this.vehicleForm.value.premiunFrequency,productName:this.vehicleForm.value.productName,registrationCity:this.vehicleForm.value.registrationCity,registrationNumber:this.vehicleForm.value.registrationNumber,registrationState:this.vehicleForm.value.registrationState,vehicleClass:this.vehicleForm.value.vehicleClass,chassisNumber:this.vehicleForm.value.chassisNumber,maker:this.vehicleForm.value.maker,hypothecatedBranch:this.vehicleForm.value.hypothecatedBranch,make:a};console.log("payload",n),this.apiService.saveVehicleDetails(n).subscribe(t=>{null!=t&&this.snack.open("Vehicle Details saved Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.next()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(yt.a),i.Rb(p.b),i.Rb(h.a),i.Rb(K.a),i.Rb(o.h),i.Rb(n.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-vehicle-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/asset_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","column"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],["formControlName","productName","autocomplete","off","matInput","","name","productName","placeholder","Product Name","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')",1,"alignment"],[4,"ngIf"],["name","hypothecatedBranch","disableOptionCentering","","formControlName","hypothecatedBranch"],["value","test"],["name","vehicleClass","placeholder","Select","formControlName","vehicleClass","disableOptionCentering",""],["value","New"],["formControlName","maker","autocomplete","off","matInput","","name","maker","placeholder","Maker","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["formControlName","model","autocomplete","off","matInput","","name","model","placeholder","Model","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["fxFlex","25%",1,"flex-grow-1"],[1,"size"],["fxflex","20%",1,"flex-grow-1","gap"],["name","year","placeholder","YYYY","formControlName","year","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["fxflex","25%",1,"flex-grow-1","gap"],["name","month","placeholder","MM","formControlName","month","disableOptionCentering",""],["formControlName","chassisNumber","autocomplete","off","maxlength","17","matInput","","name","chassisNumber","placeholder","Chassis Number","oninput","this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')","image.png","",1,"alignment"],["matInput","","formControlName","engineNumber","autocomplete","off","maxlength","12","name","engineNumber","placeholder","Engine Number","oninput","this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["formControlName","registrationNumber","autocomplete","off","matInput","","name","registrationNumber","placeholder","Registration Number","oninput","this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["disableOptionCentering","","name","registrationState","formControlName","registrationState",3,"selectionChange"],["disableOptionCentering","","name","registrationCity","formControlName","registrationCity"],["matInput","","formControlName","expectedSellingPrice","autocomplete","off","name","expectedSellingPrice","placeholder","Expected Selling Price","oninput","this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')",1,"alignment",3,"keypress"],["fxFlex","49.5%",1,"flex-grow-1"],["matInput","","formControlName","distanceRun","autocomplete","off","name","distanceRun","placeholder","Distance Run","oninput","this.value = this.value.replace(/[^0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],[1,"alignChange"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"mt-16"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-1"],["formControlName","insuranceDetails","autocomplete","off","matInput","","name","insuranceDetails","placeholder","Insurance Details","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')",1,"alignment"],["formControlName","policyNumber","autocomplete","off","minlength","6","maxlength","9","matInput","","name","policyNumber","placeholder","Policy Number",1,"alignment",3,"keypress","ngModelChange"],["formControlName","premiunAmount","autocomplete","off","matInput","","name","premiunAmount","placeholder","Premium Amount",1,"alignment",3,"keypress"],["formControlName","insuranceCompany","autocomplete","off","matInput","","name","insuranceCompany","placeholder","Insurance Company","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')",1,"alignment"],["matInput","","name","policyCommencementDate","autocomplete","off","formControlName","policyCommencementDate","readonly","","placeholder","DD/MM/YYYY","disableOptionCentering","",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker1",""],["placeholder","Premium Frequency","name","premiunFrequency","disableOptionCentering","","formControlName","premiunFrequency"],["value",""],["value","Monthly"],["value","Quaterly"],["value","Half-yearly"],["value","Yearly"],["fxLayout","row"],["fxFlex","100","fxFlex.gt-xs","49.5%"],["matInput","","name","policyRenewalDate","autocomplete","off","formControlName","policyRenewalDate","readonly","","placeholder","DD/MM/YYYY","disableOptionCentering","",1,"alignment",3,"min","matDatepicker"],["appDatepicker2",""],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Vehicle Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title"),i.Xb(11,"fieldset"),i.Xb(12,"legend",7),i.Tc(13,"Vehicle Information"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,ko,164,14,"form",8),i.Wb(),i.Wb(),i.Xb(16,"div",9),i.Xb(17,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(18," Back "),i.Wb(),i.Xb(19,"button",11),i.fc("click",function(){return e.submitForm()}),i.Tc(20," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.vehicleForm),i.Eb(4),i.rc("disabled",!e.vehicleForm.valid))},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,s.c,s.g,V.c,z.b,V.r,V.i,q.a,B.n,s.f,n.m,V.m,V.n,Q.e,Q.g,s.j,Q.d,s.b],styles:[".line[_ngcontent-%COMP%]{left:617px;width:571px;height:2px;border:1px solid #707070;opacity:.23}.inputMatcard[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px;width:300px}.inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;margin-top:12px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName1[_ngcontent-%COMP%]{height:48px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:30%;margin-left:0!important}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.alignChange[_ngcontent-%COMP%]{margin-left:0!important;margin-top:20px}.size[_ngcontent-%COMP%]{font-size:small}.gap[_ngcontent-%COMP%]{margin-left:10px!important}.datechange[_ngcontent-%COMP%]{height:10px;margin-right:10px}"]}),t})();function Ro(t,e){if(1&t&&(i.Xb(0,"form",10),i.Xb(1,"div",11),i.Xb(2,"div",12),i.Xb(3,"div",13),i.Xb(4,"mat-form-field",14),i.Xb(5,"mat-label"),i.Tc(6,"Type of Repayment*"),i.Wb(),i.Sb(7,"input",15),i.Wb(),i.Wb(),i.Xb(8,"div",13),i.Xb(9,"mat-form-field",14),i.Xb(10,"mat-label"),i.Tc(11,"First Repayment Date*"),i.Wb(),i.Sb(12,"input",16),i.Sb(13,"mat-datepicker-toggle",17),i.Wb(),i.Sb(14,"mat-datepicker",null,18),i.Wb(),i.Xb(16,"div",13),i.Xb(17,"mat-form-field",14),i.Xb(18,"mat-label"),i.Tc(19,"Maturity Date*"),i.Wb(),i.Sb(20,"input",19),i.Sb(21,"mat-datepicker-toggle",17),i.Wb(),i.Sb(22,"mat-datepicker",null,18),i.Wb(),i.Xb(24,"div",13),i.Xb(25,"mat-form-field",14),i.Xb(26,"mat-label"),i.Tc(27,"Customer Account"),i.Wb(),i.Sb(28,"input",20),i.Wb(),i.Wb(),i.Xb(29,"div",13),i.Xb(30,"mat-form-field",14),i.Xb(31,"mat-label"),i.Tc(32,"Moratorium Period"),i.Wb(),i.Sb(33,"input",21),i.Wb(),i.Wb(),i.Wb(),i.Xb(34,"div",12),i.Xb(35,"div",13),i.Xb(36,"mat-form-field",14),i.Xb(37,"mat-label"),i.Tc(38,"Repayment Frequency*"),i.Wb(),i.Sb(39,"input",22),i.Wb(),i.Wb(),i.Xb(40,"div",13),i.Xb(41,"mat-form-field",14),i.Xb(42,"mat-label"),i.Tc(43,"Loan Tenure"),i.Wb(),i.Sb(44,"input",23),i.Wb(),i.Wb(),i.Xb(45,"div",13),i.Xb(46,"mat-form-field",14),i.Xb(47,"mat-label"),i.Tc(48,"Repayment Mode"),i.Wb(),i.Sb(49,"input",24),i.Wb(),i.Wb(),i.Xb(50,"div",13),i.Xb(51,"mat-form-field",14),i.Xb(52,"mat-label"),i.Tc(53,"Branch code"),i.Wb(),i.Sb(54,"input",25),i.Wb(),i.Wb(),i.Xb(55,"a",26),i.Xb(56,"u"),i.Tc(57," Show Payment Schedule"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(58,"div",27),i.Xb(59,"button",28),i.Tc(60," Back "),i.Wb(),i.Xb(61,"button",29),i.Tc(62," Done "),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(15),e=i.jc();i.rc("formGroup",e.loanRepaymentForm),i.Eb(12),i.rc("matDatepicker",t),i.Eb(1),i.rc("for",t),i.Eb(7),i.rc("matDatepicker",t),i.Eb(1),i.rc("for",t)}}let Mo=(()=>{class t{constructor(t){this.fb=t}ngOnInit(){this.buildformGroup()}buildformGroup(){this.loanRepaymentForm=this.fb.group({id:[""],type_of_repayment:[""],first_repayment_date:[""],maturity_date:[""],loan_tenure:[""],repayment_mode:[""],repayment_frequency:[""],customer_account:[""],moratorium_period:[""],branch_code:[""]})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-repayment"]],decls:16,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","name","a_sig","placeholder","EMI"],["matInput","","name","date","readonly","","placeholder","12/02/2020",3,"matDatepicker"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","name","date","placeholder","12/02/2025",3,"matDatepicker"],["matInput","","name","a_sig","placeholder","Customer Account"],["matInput","","name","a_sig","placeholder","2"],["matInput","","name","a_sig","placeholder","Monthly"],["matInput","","name","a_sig","placeholder","10 years"],["matInput","","name","a_sig","placeholder","Internal Account"],["matInput","","name","a_sig","placeholder","Branch code"],[2,"color","rgb(0, 153, 255)"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary"],["mat-raised-button","","color","primary"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Loan Repayment Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title",7),i.Xb(11,"div",8),i.Tc(12,"Loan Repayment Details"),i.Wb(),i.Sb(13,"mat-divider"),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,Ro,63,5,"form",9),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.loanRepaymentForm))},directives:[r.e,r.b,c.a,c.h,x.a,c.d,n.n,V.A,V.s,V.j,r.f,r.d,s.c,s.g,z.b,Q.e,Q.g,s.j,Q.d,l.b],styles:[""]}),t})();const Eo=function(){return{y:"50px",delay:"300ms"}},Po=function(t){return{value:"*",params:t}};function No(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",19),i.Xb(1,"mat-card"),i.Xb(2,"div",20),i.Xb(3,"div",21),i.Xb(4,"mat-icon",22),i.Tc(5,"check_circle"),i.Wb(),i.Wb(),i.Xb(6,"div",23),i.Xb(7,"h6"),i.Tc(8,"Offer Accept/Reject Stage Completed"),i.Wb(),i.Wb(),i.Sb(9,"span",24),i.Xb(10,"button",25),i.fc("click",function(){return i.Hc(t),i.jc().popupOfferIssue()}),i.Tc(11," View Summary "),i.Wb(),i.Wb(),i.Wb(),i.Wb()}2&t&&(i.Eb(1),i.rc("@animate",i.xc(2,Po,i.wc(1,Eo))))}function wo(t,e){1&t&&(i.Xb(0,"div",26),i.Sb(1,"mat-progress-bar",27),i.Xb(2,"p",28),i.Tc(3,"Completed"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("color","primary")("value",100))}function Fo(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",25),i.fc("click",function(){return i.Hc(t),i.jc().popupOfferIssue()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const Lo=function(){return["/loan/account/offerstage/offer-accept-reject"]};function Vo(t,e){1&t&&(i.Xb(0,"button",29),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t&&i.rc("routerLink",i.wc(1,Lo))}let zo=(()=>{class t{constructor(t,e,a,n,i,o){this.router=t,this.dialogService=e,this.ls=a,this.cdr=n,this.accountService=i,this.apiService=o,this.isQualitativeScreen=!1,this.isReportScreen=!1,this.isAssessmentStageDone=!1,this.isChargesScreen=!1,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1}ngOnInit(){this.accountId=this.ls.getItem("accountId");let t=this.ls.getItem("overDraftByStatus")||null;console.log("fetch",t),this.overDraftByStatus=null!=t&&t.isActive,console.log(this.overDraftByStatus),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isOfferIssueScreen=this.ls.getItem("OfferIssue"),this.isOfferIssueRejectScreen=this.ls.getItem("OfferIssueRejectScreen"),this.accountService.refresh.subscribe(t=>{this.accountId=this.ls.getItem("accountId");let e=this.ls.getItem("overDraftByStatus")||null;this.overDraftByStatus=null!=e&&e.isActive,this.isAssessmentStageDone=this.ls.getItem("assessmentStage"),this.isQualitativeScreen=this.ls.getItem("ASSESSMENT_QA_DONE"),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isOfferIssueScreen=this.ls.getItem("OfferIssue"),this.isOfferIssueRejectScreen=this.ls.getItem("OfferIssueRejectScreen"),this.cdr.markForCheck()}),this.getData(this.accountId)}getData(t){this.apiService.getApplnAssessmentDetails(t).subscribe(t=>{this.assessmentReportSummary=t,console.log(this.assessmentReportSummary)})}popupAssessment(){this.dialogService.offerAssessmentSummaryDialog()}popup(){this.dialogService.offerIssueSummaryDialog()}popupOfferIssue(){this.dialogService.offerAcceptRejectSummaryDialog()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(La.a),i.Rb(u.a),i.Rb(i.h),i.Rb(d.a),i.Rb(p.b))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offer-accept-reject-stage"]],decls:31,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showReport",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create Retail Loan Account"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,No,12,4,"div",8),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Xb(14,"mat-card"),i.Xb(15,"mat-card-header"),i.Xb(16,"mat-card-title"),i.Tc(17,"1. Offer Accept / Reject Details"),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"div",11),i.Xb(20,"div",12),i.Xb(21,"p",13),i.Tc(22,"Offer Accept or Reject Details are provided."),i.Wb(),i.Wb(),i.Xb(23,"div",14),i.Sb(24,"img",15),i.Wb(),i.Wb(),i.Rc(25,wo,4,2,"div",16),i.Wb(),i.Sb(26,"mat-divider"),i.Xb(27,"mat-card-actions"),i.Rc(28,Fo,5,0,"ng-container",17),i.Rc(29,Vo,4,2,"ng-template",null,18,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(30);i.Eb(11),i.rc("ngIf",e.isOfferIssueRejectScreen),i.Eb(13),i.rc("src","assets/images/svg/undraw_approve_qwp7.svg",i.Jc),i.Eb(1),i.rc("ngIf",e.isOfferIssueRejectScreen),i.Eb(3),i.rc("ngIf",e.isOfferIssueRejectScreen)("ngIfElse",t)}},directives:[r.e,r.b,n.n,c.a,c.e,c.h,c.d,r.f,r.d,x.a,c.b,v.a,l.b,C.a,o.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}"]}),t})();function qo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0 Applicant Name is Required! "),i.Wb())}function Bo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0 Approved Loan Amount is Required! "),i.Wb())}function jo(t,e){if(1&t&&(i.Xb(0,"mat-option",42),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Uo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0 Offer Issue Date is Required! "),i.Wb())}function Ho(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0 Generate Offer Date is Required! "),i.Wb())}function Go(t,e){if(1&t&&(i.Xb(0,"mat-option",42),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Yo(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0 Date Of Offer Accept/Reject is Required! "),i.Wb())}function $o(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0 Offer Expiry Date is Required! "),i.Wb())}let Qo=(()=>{class t{constructor(t,e,a,n,i,o,r,c){this.router=t,this.ls=e,this.apiService=a,this.snack=n,this.loader=i,this.formBuilder=o,this.appApiService=r,this.accountService=c,this.generateArr=["With Schedule","without Schedule"],this.disableDone=!0,this.showEditOption=!1,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1,this.arraySystemRecommendation=["Approved","Rejected"],this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.installmentTypes=["EMI"],this.offeracceptForm=this.formBuilder.group({approvedLoanAmount:["",[V.z.required]],applicantName:["",[V.z.required]],loanTenure:[""],installmentType:["",[V.z.required]],installmentFrequency:[""],rateOfInterest:[],customerResponse:[""],offerIssueDate:["",[V.z.required]],generateOffer:["",[V.z.required]],offerExpiryDate:["",[V.z.required]],dateOfOfferAcceptOrReject:["",[V.z.required]],year:["",[V.z.required]],month:["",[V.z.required]],day:["",[V.z.required]]})}ngOnInit(){this.selectedYear=(new Date).getFullYear();for(let e=0;e<=50;e++)this.years.push(e);for(let e=0;e<=11;e++)this.months.push(e);for(let e=0;e<=30;e++)this.days.push(e);this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("OfferIssueRejectScreen"));setTimeout(()=>{null!=this.loanaccountID&&t?(this.showEditOption=!0,this.getAccountDetails()):(console.log("else"),this.showEditOption=!1,this.buildOfferAcceptForm())},10),this.fetchByCif(),this.loanData(),this.intrestData(),this.installmentTypeData()}getAccountDetails(){this.apiService.getOfferAcceptReject(this.loanaccountID).subscribe(t=>{this.accountDetails=t,console.log(this.accountDetails),this.buildOfferAcceptForm(this.accountDetails)},t=>{this.loader.close()})}buildOfferAcceptForm(t){t.offerIssueDate=t?$(t.offerIssueDate).format():"",t.generateOffer=t?$(t.generateOffer).format():"",t.offerExpiryDate=t?$(t.offerExpiryDate).format():"",t.dateOfOfferAcceptOrReject=t?$(t.offerAcceptOrRejectDate).format():"",this.offeracceptForm=this.formBuilder.group({approvedLoanAmount:[t?t.approvedLoanAmount:""],loanTenure:[t?t.loanTenure:""],applicantName:[t?t.applicantName:""],installmentFrequency:[t?t.installmentFrequency:""],rateOfInterest:[t?t.rateOfInterest:""],offerIssueDate:[t?t.offerIssueDate:""],generateOffer:[t?t.generateOffer:""],offerExpiryDate:[t?t.offerExpiryDate:""],day:[t?Number(t.loanTenure.split("-")[2].match(/\d+/)[0]):"",[V.z.required]],month:[t?Number(t.loanTenure.split("-")[1].match(/\d+/)[0]):"",[V.z.required]],year:[t?Number(t.loanTenure.split("-")[0].match(/\d+/)[0]):"",[V.z.required]],installmentType:[t?t.installmentType:""],dateOfOfferAcceptOrReject:[t?t.dateOfOfferAcceptOrReject:""],customerResponse:[t?t.customerResponse:""]})}goBack(){this.router.navigate(["/loan/account/offerstage/list"])}Submit(){let t=new Date;t=this.offeracceptForm.value.offerIssueDate;var e=$(t).format("YYYY-MMM-DD HH:MM:SS");let a=new Date;a=this.offeracceptForm.value.offerAcceptOrRejectDate;var n=$(a).format("YYYY-MMM-DD HH:MM:SS");console.log("OAR",n);let i=new Date;i=this.offeracceptForm.value.offerExpiryDate;var o=$(i).format("YYYY-MMM-DD HH:MM:SS");console.log("OE",o);let r=new Date;r=this.offeracceptForm.value.generateOffer;var c=$(r).format("YYYY-MMM-DD HH:MM:SS");console.log("GO",c);var s=this.offeracceptForm.value.approvedLoanAmount;s=parseInt(s);var l=this.offeracceptForm.value.rateOfInterest;l=parseInt(l);const b=this.offeracceptForm.value.year+"year-"+this.offeracceptForm.value.month+"month-"+this.offeracceptForm.value.day+"day";this.offeracceptForm.get("loanTenure").setValue(b),delete this.offeracceptForm.value.year,delete this.offeracceptForm.value.month,delete this.offeracceptForm.value.day,this.offeracceptForm.value.interest=parseInt(this.offeracceptForm.value.interest),this.offeracceptForm.value.installmentAmount=parseInt(this.offeracceptForm.value.installmentAmount);let m={loanAccountId:this.loanaccountID,approvedLoanAmount:s,applicantName:this.offeracceptForm.value.applicantName,loanTenure:b,installmentType:this.offeracceptForm.value.installmentType,installmentFrequency:this.offeracceptForm.value.installmentFrequency,rateOfInterest:l,offerIssueDate:e,interest:this.offeracceptForm.value.interest,installmentAmount:this.offeracceptForm.value.installmentAmount,dateOfOfferAcceptOrReject:n,offerExpiryDate:o,generateOffer:c,customerResponse:this.offeracceptForm.value.customerResponse};console.log("payload",m),this.apiService.offerDetails(m).subscribe(t=>{console.log("data",t),null!=t&&this.snack.open("Offer Issue Accept/Reject Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.Next()})}Next(){this.ls.setItem("OfferIssueRejectScreen",!0),this.ls.setItem("OfferIssueRejectStageScreen",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/post-offer-amend-stage/list"])}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}limitMonth(t){Number(t.target.value)>12&&(t.target.value=t.target.value.slice(0,1))}limitDays(t){Number(t.target.value)>31&&(t.target.value=t.target.value.slice(0,1))}onInput(t,e){this.approvedLoan=e?t.target.value:t,console.log("this.salary)::",this.approvedLoan);let a=this.approvedLoan.toString().replace(/,/g,"").split(".");a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let n=a.join(".");console.log("final",n),this.offeracceptForm.controls.approvedLoan.setValue(n)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}fetchByCif(){this.cifNumber=this.ls.getItem("cId"),this.appApiService.fetchByCif(this.cifNumber).subscribe(t=>{this.offeracceptForm.get("applicantName").setValue(t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName)},t=>{console.error(t)})}loanData(){console.log(this.loanaccountID),this.apiService.fetchByLoanAccountId(this.loanaccountID).subscribe(t=>{console.log(t),this.offeracceptForm.get("approvedLoanAmount").setValue(t.approvedLoanAmount),console.log(t.loanTenure);let e=Number(t.loanTenure.split("-")[0].match(/\d+/)[0]),a=Number(t.loanTenure.split("-")[1].match(/\d+/)[0]),n=Number(t.loanTenure.split("-")[2].match(/\d+/)[0]);this.offeracceptForm.get("year").setValue(e),this.offeracceptForm.get("month").setValue(a),this.offeracceptForm.get("day").setValue(n)},t=>{console.error(t)})}intrestData(){console.log(this.loanaccountID),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(t=>{this.offeracceptForm.get("rateOfInterest").setValue(t.rateOfInterest)})}installmentTypeData(){console.log(this.loanaccountID),this.apiService.getingOfferIssueDetails(this.loanaccountID).subscribe(t=>{console.log(t),this.offeracceptForm.get("installmentType").setValue(t.installmentType),this.offeracceptForm.get("installmentFrequency").setValue(t.installmentFrequency);let e=$(t.offerIssueDate).format();this.offeracceptForm.get("offerIssueDate").setValue(e),console.log(e)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(u.a),i.Rb(p.b),i.Rb(h.a),i.Rb(yt.a),i.Rb(V.f),i.Rb(Ne.a),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offer-accept-reject"]],decls:115,vars:21,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_approve_qwp7.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","column",3,"formGroup"],[1,"alignChange"],["visible","true"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],[1,"hint"],["matInput","","type","text","name","applicantName","formControlName","applicantName","placeholder","Applicant Name","readonly","",1,"alignment"],[4,"ngIf"],["matInput","","type","text","name","approvedLoanAmount","placeholder","Approved Loan Account","formControlName","approvedLoanAmount","maxlength","16","maxlength","16","readonly","",1,"alignment",3,"keypress","keyup"],["fxLayout","row wrap"],[1,"size"],["appearance","outline","fxFlex","23",1,"full-width","tenure1"],["matInput","","formControlName","year","name","year","placeholder","Year","autocomplete","off","maxlength","2",1,"alignment",3,"keypress"],["appearance","outline","fxFlex","22.5",1,"full-width","tenure1"],["matInput","","formControlName","month","name","month","placeholder","Month","autocomplete","off",1,"alignment",3,"keypress","input"],["appearance","outline","fxFlex","22",1,"full-width","tenure1"],["matInput","","formControlName","day","name","day","placeholder","Day","autocomplete","off",1,"alignment",3,"keypress","input"],["formControlName","installmentType","placeholder","Select","disableOptionCentering","","required","",1,"alignment"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","name","installmentFrequency","formControlName","installmentFrequency","placeholder","Installment Frequency",1,"alignment"],["matInput","","type","text","name","loanAmmount","maxlength","2","formControlName","rateOfInterest","placeholder","Rate Of Interest",1,"alignment",3,"keypress"],["matInput","","id","dob","name","offerIssueDate","readonly","","formControlName","offerIssueDate","value","offerIssueDate","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","id","generateOffer","name","generateOffer","readonly","","formControlName","generateOffer","value","generateOffer","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker","max"],["picker3",""],["name","customerResponse","formControlName","customerResponse","disableOptionCenteringplaceholder","Select"],["value"," "],["matInput","","id","dob","name","dateOfOfferAcceptOrReject","readonly","","formControlName","dateOfOfferAcceptOrReject","value","dateOfOfferAcceptOrReject","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker","min"],["picker1",""],["matInput","","id","dobss","name","offerExpiryDate","readonly","","formControlName","offerExpiryDate","value","Date","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker","min"],["picker2",""],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Offer Accept / Reject"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",0),i.Xb(9,"form",6),i.Xb(10,"div",1),i.Xb(11,"mat-card",0),i.Xb(12,"mat-card-title"),i.Xb(13,"fieldset",7),i.Xb(14,"legend",8),i.Tc(15,"Offer Accept / Reject"),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"div",9),i.Xb(17,"div",10),i.Xb(18,"mat-form-field",11),i.Xb(19,"mat-label",12),i.Tc(20,"Applicant Name*"),i.Wb(),i.Sb(21,"input",13),i.Rc(22,qo,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Xb(23,"div",10),i.Xb(24,"mat-form-field",11),i.Xb(25,"mat-label",12),i.Tc(26,"Approved Loan Amount*"),i.Wb(),i.Xb(27,"input",15),i.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.onInput(t,!0)}),i.Wb(),i.Rc(28,Bo,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div",9),i.Xb(30,"div",10),i.Xb(31,"div",16),i.Xb(32,"label",17),i.Tc(33,"Loan Tenure*"),i.Wb(),i.Xb(34,"mat-form-field",18),i.Xb(35,"mat-label"),i.Tc(36,"Year*"),i.Wb(),i.Xb(37,"input",19),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Xb(38,"mat-form-field",20),i.Xb(39,"mat-label"),i.Tc(40,"Month*"),i.Wb(),i.Xb(41,"input",21),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(t){return e.limitMonth(t)}),i.Wb(),i.Wb(),i.Xb(42,"mat-form-field",22),i.Xb(43,"mat-label"),i.Tc(44,"Day*"),i.Wb(),i.Xb(45,"input",23),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(t){return e.limitDays(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",10),i.Xb(47,"mat-form-field",11),i.Xb(48,"mat-label",12),i.Tc(49,"Installment Type*"),i.Wb(),i.Xb(50,"mat-select",24),i.Rc(51,jo,2,2,"mat-option",25),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(52,"div",9),i.Xb(53,"div",10),i.Xb(54,"mat-form-field",11),i.Xb(55,"mat-label",12),i.Tc(56,"Installment Frequency"),i.Wb(),i.Sb(57,"input",26),i.Wb(),i.Wb(),i.Xb(58,"div",10),i.Xb(59,"mat-form-field",11),i.Xb(60,"mat-label",12),i.Tc(61,"Rate of Interest in(%)"),i.Wb(),i.Xb(62,"input",27),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(63,"div",9),i.Xb(64,"div",10),i.Xb(65,"mat-form-field",11),i.Xb(66,"mat-label",12),i.Tc(67,"Offer Issue Date*"),i.Wb(),i.Sb(68,"input",28),i.Sb(69,"mat-datepicker-toggle",29),i.Sb(70,"mat-datepicker",null,30),i.Rc(72,Uo,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Xb(73,"div",10),i.Xb(74,"mat-form-field",11),i.Xb(75,"mat-label",12),i.Tc(76,"Generate Offer*"),i.Wb(),i.Sb(77,"input",31),i.Sb(78,"mat-datepicker-toggle",29),i.Sb(79,"mat-datepicker",null,32),i.Rc(81,Ho,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Wb(),i.Xb(82,"div",9),i.Xb(83,"div",10),i.Xb(84,"mat-form-field",11),i.Xb(85,"mat-label",12),i.Tc(86,"Customer Response"),i.Wb(),i.Xb(87,"mat-select",33),i.Xb(88,"mat-option",34),i.Tc(89,"Select"),i.Wb(),i.Rc(90,Go,2,2,"mat-option",25),i.Wb(),i.Wb(),i.Wb(),i.Xb(91,"div",10),i.Xb(92,"mat-form-field",11),i.Xb(93,"mat-label",12),i.Tc(94,"Date Of Offer Accept/Reject *"),i.Wb(),i.Sb(95,"input",35),i.Sb(96,"mat-datepicker-toggle",29),i.Sb(97,"mat-datepicker",null,36),i.Rc(99,Yo,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Wb(),i.Xb(100,"div",9),i.Xb(101,"div",10),i.Xb(102,"mat-form-field",11),i.Xb(103,"mat-label",12),i.Tc(104,"Offer Expiry Date *"),i.Wb(),i.Sb(105,"input",37),i.Sb(106,"mat-datepicker-toggle",29),i.Sb(107,"mat-datepicker",null,38),i.Rc(109,$o,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(110,"div",39),i.Xb(111,"button",40),i.fc("click",function(){return e.goBack()}),i.Tc(112," Back "),i.Wb(),i.Xb(113,"button",41),i.fc("click",function(){return e.Submit()}),i.Tc(114," Next "),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(71),a=i.Dc(80),n=i.Dc(98),o=i.Dc(108);i.Eb(9),i.rc("formGroup",e.offeracceptForm),i.Eb(13),i.rc("ngIf",!e.offeracceptForm.get("applicantName").valid&&e.offeracceptForm.get("applicantName").touched),i.Eb(6),i.rc("ngIf",!e.offeracceptForm.get("approvedLoanAmount").valid&&e.offeracceptForm.get("approvedLoanAmount").touched),i.Eb(23),i.rc("ngForOf",e.installmentTypes),i.Eb(17),i.rc("matDatepicker",t),i.Eb(1),i.rc("for",t),i.Eb(3),i.rc("ngIf",!e.offeracceptForm.get("offerIssueDate").valid&&e.offeracceptForm.get("offerIssueDate").touched),i.Eb(5),i.rc("matDatepicker",a)("max",e.offeracceptForm.get("offerIssueDate").value),i.Eb(1),i.rc("for",a),i.Eb(3),i.rc("ngIf",!e.offeracceptForm.get("generateOffer").valid&&e.offeracceptForm.get("generateOffer").touched),i.Eb(9),i.rc("ngForOf",e.arraySystemRecommendation),i.Eb(5),i.rc("matDatepicker",n)("min",e.offeracceptForm.get("offerIssueDate").value),i.Eb(1),i.rc("for",n),i.Eb(3),i.rc("ngIf",e.offeracceptForm.get("dateOfOfferAcceptOrReject").invalid&&e.offeracceptForm.get("dateOfOfferAcceptOrReject").touched),i.Eb(6),i.rc("matDatepicker",o)("min",e.offeracceptForm.get("offerIssueDate").value),i.Eb(1),i.rc("for",o),i.Eb(3),i.rc("ngIf",e.offeracceptForm.get("offerExpiryDate").invalid&&e.offeracceptForm.get("offerExpiryDate").touched),i.Eb(4),i.rc("disabled",!e.offeracceptForm.valid)}},directives:[r.e,r.b,V.A,V.s,V.j,c.a,c.h,r.f,s.c,s.g,z.b,V.c,V.r,V.i,n.n,V.m,q.a,V.y,n.m,Q.e,Q.g,s.j,Q.d,B.n,r.d,l.b,s.b],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.3rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:5.5cm}.sqInput1[_ngcontent-%COMP%]{width:30%;margin-left:.5%;height:47px}.inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.issuecard[_ngcontent-%COMP%]{height:48px}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.size[_ngcontent-%COMP%]{margin-top:15px}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}.Backbtn[_ngcontent-%COMP%]{left:0!important}"]}),t})();function Zo(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Jo(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}let Ko=(()=>{class t{constructor(t,e,a,n,i){this.formBuilder=t,this.ls=e,this.apiService=a,this.snack=n,this.router=i,this.disableDone=!0,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1,this.arraySystemRecommendation=["Approved","Rejected"],this.offerAssessmentFormGroup=this.formBuilder.group({loanAccountId:["566",[V.z.required]],rateOfInterest:["",[V.z.required]],requestedLoanAmount:["",[V.z.required]],loanTenure:["",[V.z.required]],approvedLoanAmount:["",[V.z.required]],userRecommendation:["",[V.z.required]],systemRecommendation:["",[V.z.required]],loanAmountRecommendation:["",[V.z.required]]})}ngOnInit(){}goBack(){this.router.navigate(["/loan/account/offerstage/list"])}goNext(){this.apiService.updateAssessment(this.offerAssessmentFormGroup.value).subscribe(t=>{console.log("data",t),null!=t&&this.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.ls.setItem("assessmentScreen",!0),this.router.navigate(["/loan/account/offerstage/offer-issue"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(p.b),i.Rb(h.a),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offer-assessment-details"]],decls:62,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_report_mx0a.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","column"],["fxLayout","column",3,"formGroup"],["fxLayout","column",2,"border-radius","30px","margin-right","1.5cm"],[1,""],[1,"card-title-text"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["matInput","","formControlName","requestedLoanAmount","type","text","placeholder","Request Loan Amount",1,"alignment"],["matInput","","formControlName","loanTenure","type","text","placeholder","Loan Tenure",1,"alignment"],["matInput","","formControlName","rateOfInterest","type","text","placeholder","Rate Of Interest",1,"alignment"],["placeholder","Recommended for Approval","formControlName","systemRecommendation","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","User Recommendation","formControlName","userRecommendation","disableOptionCentering",""],["matInput","","formControlName","loanAmountRecommendation","type","text","placeholder","loanAmountRecommendation",1,"alignment"],["matInput","","formControlName","approvedLoanAmount","type","text","placeholder","Approved Loan Amount",1,"alignment"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Assessment Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"form",7),i.Xb(10,"div",1),i.Xb(11,"mat-card",8),i.Xb(12,"mat-card-title",9),i.Xb(13,"div",10),i.Tc(14,"Assessment Details"),i.Sb(15,"mat-divider"),i.Wb(),i.Wb(),i.Xb(16,"div",11),i.Xb(17,"div",12),i.Xb(18,"label",13),i.Tc(19,"Request Loan Amount"),i.Wb(),i.Xb(20,"mat-card",14),i.Sb(21,"input",15),i.Wb(),i.Wb(),i.Xb(22,"div",12),i.Xb(23,"label",13),i.Tc(24,"Loan Tenure"),i.Wb(),i.Xb(25,"mat-card",14),i.Sb(26,"input",16),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div",11),i.Xb(28,"div",12),i.Xb(29,"label",13),i.Tc(30,"Rate Of Interest"),i.Wb(),i.Xb(31,"mat-card",14),i.Sb(32,"input",17),i.Wb(),i.Wb(),i.Xb(33,"div",12),i.Xb(34,"label",13),i.Tc(35,"System Recommendation"),i.Wb(),i.Xb(36,"mat-card",14),i.Xb(37,"mat-select",18),i.Rc(38,Zo,2,2,"mat-option",19),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",11),i.Xb(40,"div",12),i.Xb(41,"label",13),i.Tc(42,"User Recommendation"),i.Wb(),i.Xb(43,"mat-card",14),i.Xb(44,"mat-select",20),i.Rc(45,Jo,2,2,"mat-option",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",12),i.Xb(47,"label",13),i.Tc(48,"Loan Amount Recommended"),i.Wb(),i.Xb(49,"mat-card",14),i.Sb(50,"input",21),i.Wb(),i.Wb(),i.Wb(),i.Xb(51,"div",11),i.Xb(52,"div",12),i.Xb(53,"label",13),i.Tc(54,"Approved Loan Amount"),i.Wb(),i.Xb(55,"mat-card",14),i.Sb(56,"input",22),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(57,"div",23),i.Xb(58,"button",24),i.fc("click",function(){return e.goBack()}),i.Tc(59,"Back"),i.Wb(),i.Xb(60,"button",25),i.fc("click",function(){return e.goNext()}),i.Tc(61,"Next"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(9),i.rc("formGroup",e.offerAssessmentFormGroup),i.Eb(29),i.rc("ngForOf",e.arraySystemRecommendation),i.Eb(7),i.rc("ngForOf",e.arraySystemRecommendation),i.Eb(15),i.rc("disabled",!e.offerAssessmentFormGroup.valid))},directives:[r.e,r.b,V.A,V.s,V.j,c.a,c.h,x.a,r.f,z.b,V.c,V.r,V.i,q.a,n.m,l.b,B.n],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}"]}),t})();function tr(t,e){if(1&t&&(i.Xb(0,"mat-option",32),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.Vc(" ",t," ")}}function er(t,e){if(1&t&&(i.Xb(0,"mat-option",33),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.Vc(" ",t," ")}}function ar(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please select Agency!"),i.Wb(),i.Wb())}function nr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter Ratings!"),i.Wb(),i.Wb())}let ir=(()=>{class t{constructor(t,e,a,n,i,o){this.formBuilder=t,this.loader=e,this.apiService=a,this.snack=n,this.ls=i,this.router=o,this.agencyRating=[],this.agencyArr=["riyan","john daey","joo"],this.customerArr=["Jo Smith","David","Chris"],this.showEditOption=!1,this.creditDetails=this.formBuilder.group({agencyName:["",[V.z.required]],ratings:["",[V.z.required]],remarks:["",[V.z.required]]})}ngOnInit(){this.loanAccountId=this.ls.getItem("loanAccountId"),console.log("this.accountId ",this.accountId),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("CreditRatingDetails"));setTimeout(()=>{null!=this.loanAccountId&&t?(this.showEditOption=!0,this.getAccountDetails()):(console.log("else"),this.showEditOption=!1,this.buildAccountForm())},10)}getAccountDetails(){this.loader.open(),this.apiService.getCreditRating(this.loanAccountId).subscribe(t=>{this.loader.close(),this.accountDetails=t,console.log(this.accountDetails),this.buildAccountForm(this.accountDetails)},t=>{this.loader.close()})}buildAccountForm(t){this.creditDetails=this.formBuilder.group({customerName:[t?this.ls.getItem("NAME"):""],agencyName:[t?t.agencyName:"",V.z.required],ratings:[t?t.ratings:"",V.z.required],remarks:[t?t.remarks:"",V.z.required]})}submit(){this.next()}next(){this.agencyRating.push(this.creditDetails.value),console.log("addbranch::",this.agencyRating);let t={agencyRating:this.agencyRating,loanAccountId:this.loanAccountId};this.apiService.UpdateCreditRating(t).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open("  Credit Rating  Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.ls.setItem("CreditRatingDetails",!0),this.router.navigate(["/loan/account/list/offer-issue/valuation-asset"])):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)}),console.log("payload",t)}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(yt.a),i.Rb(p.b),i.Rb(h.a),i.Rb(u.a),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-credit-rating-details"]],decls:62,vars:6,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","column"],["fxLayout","column",3,"formGroup"],[1,"p-0",2,"border-radius","30px","margin-right","1.5cm"],[1,"card-title-text"],["fxFlex","40%",1,"form-group"],[1,"hint"],[1,"inputMatName"],["disableOptionCentering","",1,"alignment"],["disabled",""],["value","customerName",4,"ngFor","ngForOf"],[1,"form-group"],["expanded","true",1,"mb-8",2,"border","1px solid #456EFE"],[2,"border","1px solid #456EFE"],["fxFlex","100","fxLayoutGap","10px"],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],["formControlName","agencyName","disableOptionCentering","",1,"alignment"],["value","agencyName",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","maxlength","3","type","text","name","ratings","formControlName","ratings",1,"alignment",3,"keypress"],["fxLayoutGap","10px"],[1,"full-width"],["matInput","","formControlName","remarks"],[1,"button"],["mat-button","",1,"Back"],["mat-stroked-button","",1,"Next",3,"disabled","click"],["value","customerName"],["value","agencyName"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Credit Rating Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"form",7),i.Xb(10,"div",1),i.Xb(11,"mat-card",8),i.Xb(12,"mat-card-title"),i.Xb(13,"div",9),i.Tc(14,"Credit Rating Details"),i.Sb(15,"mat-divider"),i.Wb(),i.Wb(),i.Xb(16,"mat-card-content"),i.Xb(17,"div"),i.Xb(18,"div",10),i.Xb(19,"label",11),i.Tc(20,"Customer Name* "),i.Wb(),i.Xb(21,"mat-card",12),i.Xb(22,"mat-select",13),i.Xb(23,"mat-option",14),i.Tc(24,"select---"),i.Wb(),i.Rc(25,tr,2,1,"mat-option",15),i.Wb(),i.Wb(),i.Wb(),i.Sb(26,"br"),i.Sb(27,"br"),i.Wb(),i.Xb(28,"div",16),i.Xb(29,"mat-expansion-panel",17),i.Xb(30,"mat-expansion-panel-header",18),i.Xb(31,"mat-panel-title"),i.Tc(32,"Ratings "),i.Wb(),i.Wb(),i.Xb(33,"div"),i.Xb(34,"div",19),i.Xb(35,"div",20),i.Xb(36,"div",21),i.Xb(37,"label",11),i.Tc(38,"Select Agency* "),i.Wb(),i.Xb(39,"mat-card",12),i.Xb(40,"mat-select",22),i.Xb(41,"mat-option",14),i.Tc(42,"select---"),i.Wb(),i.Rc(43,er,2,1,"mat-option",23),i.Wb(),i.Wb(),i.Rc(44,ar,3,0,"mat-error",24),i.Wb(),i.Xb(45,"div",21),i.Xb(46,"label",11),i.Tc(47,"Ratings* "),i.Wb(),i.Xb(48,"mat-card",12),i.Xb(49,"input",25),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Rc(50,nr,3,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(51,"div",26),i.Xb(52,"div",10),i.Xb(53,"mat-label",11),i.Tc(54,"Remarks"),i.Wb(),i.Xb(55,"mat-form-field",27),i.Sb(56,"textarea",28),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(57,"div",29),i.Xb(58,"button",30),i.Tc(59,"Back"),i.Wb(),i.Xb(60,"button",31),i.fc("click",function(){return e.submit()}),i.Tc(61,"Next"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(9),i.rc("formGroup",e.creditDetails),i.Eb(16),i.rc("ngForOf",e.customerArr),i.Eb(18),i.rc("ngForOf",e.agencyArr),i.Eb(1),i.rc("ngIf",e.creditDetails.get("agencyName").touched&&!e.creditDetails.get("agencyName").valid),i.Eb(6),i.rc("ngIf",e.creditDetails.get("ratings").touched&&!e.creditDetails.get("ratings").valid),i.Eb(10),i.rc("disabled",!e.creditDetails.valid))},directives:[r.e,r.b,V.A,V.s,V.j,c.a,c.h,x.a,c.d,q.a,B.n,n.m,yn.c,yn.e,yn.f,r.f,V.r,V.i,n.n,z.b,V.c,V.m,s.g,s.c,l.b,s.b],styles:[".head[_ngcontent-%COMP%]{background-color:#fff}.basic-container[_ngcontent-%COMP%]{padding:5px}.main-head[_ngcontent-%COMP%]{padding-left:6%;padding-top:16px;padding-bottom:0}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;margin-top:20px;font-size:15px;text-decoration:underline;color:#2680eb}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.line[_ngcontent-%COMP%]{width:70px;border-bottom:5px solid #456efe;left:30px}h2[_ngcontent-%COMP%]{font-size:18px}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:10px}.selectandCard[_ngcontent-%COMP%]{background-color:#fdfdff}input[_ngcontent-%COMP%]{border:0;outline:0;font-weight:700}input[_ngcontent-%COMP%]:focus{outline:none!important}.gap[_ngcontent-%COMP%]{padding:.5rem}.bg[_ngcontent-%COMP%]{background-color:#f1f1f4}.gapbw[_ngcontent-%COMP%]{padding:1rem 0}.spacearround[_ngcontent-%COMP%]{padding:0 4.3rem}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%;text-align:center}.formImg[_ngcontent-%COMP%]{height:200px!important;width:200px!important;background-color:#f5f5f5;border-radius:10%}.changeDiv[_ngcontent-%COMP%]{position:relative;height:30px;line-height:30px}.mat-form-field[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 4px 4px #dcdcdc!important;padding-left:10px}  .mat-form-field-underline{display:none}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-focused[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:transparent}"]}),t})();function or(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Opinion!"),i.Wb(),i.Wb())}function rr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter Asset Area !"),i.Wb(),i.Wb())}function cr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter Market Value of Asset !"),i.Wb(),i.Wb())}function sr(t,e){if(1&t&&(i.Xb(0,"mat-option",37),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function lr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Lawyer Name!"),i.Wb(),i.Wb())}function br(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Opinion Date!"),i.Wb(),i.Wb())}function mr(t,e){if(1&t&&(i.Xb(0,"mat-option",37),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ur(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Description!"),i.Wb(),i.Wb())}let dr=(()=>{class t{constructor(t,e,a,n,i,o){this.formBuilder=t,this.apiService=e,this.snack=a,this.ls=n,this.loader=i,this.router=o,this.showEditOption=!1,this.lawyerArr=["John Asset","Peter","Henery Nicholus","Mountbaton"],this.descriptionArr=["Title Deeds clear","sanction","Asset-backed securitisations"],this.legalOpinion=this.formBuilder.group({assetAreaSize:["",[V.z.required]],description:[""],lawyerName:[""],mktValOfAsset:["",[V.z.required]],opinion:[""],opinionDate:[""],valuationDate:[""]})}ngOnInit(){JSON.parse(this.ls.getItem("legalScreen"))?(this.showEditOption=!0,this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(()=>{this.getLegalOpinionDetails()},10)):(console.log("else"),this.showEditOption=!1,this.buildOfferIssueForm())}getLegalOpinionDetails(){this.loader.open(),this.apiService.getLegalOpinion(112).subscribe(t=>{this.loader.close(),this.accountDetails=t,console.log(this.accountDetails),this.buildOfferIssueForm(this.accountDetails)},t=>{this.loader.close()})}buildOfferIssueForm(t){this.legalOpinion=this.formBuilder.group({assetAreaSize:[t?t.assetAreaSize:""],description:[t?t.description:""],lawyerName:[t?t.lawyerName:""],mktValOfAsset:[t?t.mktValOfAsset:""],opinion:[t?t.opinion:""],opinionDate:[t?t.opinionDate:""],valuationDate:[t?t.valuationDate:""]})}onclick(){let t=new Date;t=this.legalOpinion.value.opinionDate;var e=$(t).format("YYYY-MM-DD HH:MM:SS");console.log("dateStringWithTime",e)}Submit(){let t=new Date;t=this.legalOpinion.value.opinionDate;var e=$(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);var a=this.legalOpinion.value.assetAreaSize;a=parseInt(a),console.log("pk",a),this.apiService.UpdateLegalOpinion({assetAreaInUnits:this.legalOpinion.value.assetAreaInUnits,assetAreaSize:a,description:this.legalOpinion.value.description,isDecisionFavorable:"yes",lawyerName:this.legalOpinion.value.lawyerName,loanAccountId:112,mktValOfAsset:this.legalOpinion.value.mktValOfAsset,opinion:this.legalOpinion.value.opinion,opinionDate:e,valuationDate:e}).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open("  Legal Opinion  Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.Next()):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)})}Next(){this.ls.setItem("legalScreen",!0),this.router.navigate(["/loan/account/list/offer-issue/offer-assessment"])}goBack(){this.router.navigate(["/loan/account/list/offer-issue/valuation-asset"])}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}onInput(t,e){this.assetArea=e?t.target.value:t,console.log("this.salary)::",this.assetArea);let a=this.assetArea.toString().replace(/,/g,"").split(".");a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let n=a.join(".");console.log("final",n),this.legalOpinion.controls.mktValOfAsset.setValue(n)}onInput1(t,e){this.assetArea=e?t.target.value:t,console.log("this.salary)::",this.assetArea);let a=this.assetArea.toString().replace(/,/g,"").split(".");a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let n=a.join(".");console.log("final",n),this.legalOpinion.controls.assetAreaSize.setValue(n)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(p.b),i.Rb(h.a),i.Rb(u.a),i.Rb(yt.a),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-legal-opinion"]],decls:93,vars:12,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","column"],["fxLayout","column",3,"formGroup"],["fxLayout","column",2,"border-radius","30px","margin-right","1.5cm"],[1,"card-title-text"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["disableOptionCentering","","formControlName","opinion",1,"alignment"],["value","Bank Panel"],["value","Bank Manager"],["value","Bank Accountant"],[4,"ngIf"],["fxLayout","column","fxFlex","100"],["fxFlex","15%",1,"flex-grow-1"],["fxFlex","85%",1,"flex-grow-1"],["matInput","","formControlName","assetAreaSize","name","assetAreaSize","maxlength","16","type","text",1,"alignment",3,"keypress","keyup"],["matInput","","type","text","name","mktValOfAsset","formControlName","mktValOfAsset","maxlength","16",1,"alignment",3,"keypress","keyup"],["disableOptionCentering","","formControlName","lawyerName",1,"alignment"],[3,"value",4,"ngFor","ngForOf"],[1,"inputMatLastName",2,"height","48px"],["matInput","","id","dob","name","opinionDate","readonly","","formControlName","opinionDate","value","opinionDate","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","text","name","valuationDate","placeholder","DD/MM/YYYY","formControlName","valuationDate",1,"alignment"],["disableOptionCentering","","formControlName","description",1,"alignment"],[1,"pb-1",2,"padding-top","1.5cm"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Legal Opinion"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"form",7),i.Xb(10,"div",1),i.Xb(11,"mat-card",8),i.Xb(12,"mat-card-title"),i.Xb(13,"div",9),i.Tc(14,"Legal Opinion"),i.Sb(15,"mat-divider"),i.Wb(),i.Wb(),i.Xb(16,"div",10),i.Xb(17,"div",11),i.Xb(18,"label",12),i.Tc(19,"Opinion "),i.Wb(),i.Xb(20,"mat-card",13),i.Xb(21,"mat-select",14),i.Xb(22,"mat-option"),i.Tc(23,"select"),i.Wb(),i.Xb(24,"mat-option",15),i.Tc(25,"Bank Panel"),i.Wb(),i.Xb(26,"mat-option",16),i.Tc(27,"Bank Manager"),i.Wb(),i.Xb(28,"mat-option",17),i.Tc(29,"Bank Accountant"),i.Wb(),i.Wb(),i.Wb(),i.Rc(30,or,3,0,"mat-error",18),i.Wb(),i.Xb(31,"div",19),i.Xb(32,"label",12),i.Tc(33,"Asset Area *"),i.Wb(),i.Xb(34,"div",0),i.Xb(35,"div",20),i.Xb(36,"mat-card",13),i.Xb(37,"mat-placeholder"),i.Tc(38,"Sq"),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",21),i.Xb(40,"mat-card",13),i.Xb(41,"input",22),i.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.onInput1(t,!0)}),i.Wb(),i.Wb(),i.Rc(42,rr,3,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(43,"div",10),i.Xb(44,"div",11),i.Xb(45,"label",12),i.Tc(46,"Market Value of Asset *"),i.Wb(),i.Xb(47,"mat-card",13),i.Xb(48,"input",23),i.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.onInput(t,!0)}),i.Wb(),i.Wb(),i.Rc(49,cr,3,0,"mat-error",18),i.Wb(),i.Xb(50,"div",11),i.Xb(51,"label",12),i.Tc(52,"Lawyer Name"),i.Wb(),i.Xb(53,"mat-card",13),i.Xb(54,"mat-select",24),i.Xb(55,"mat-option"),i.Tc(56,"select"),i.Wb(),i.Rc(57,sr,2,2,"mat-option",25),i.Wb(),i.Wb(),i.Rc(58,lr,3,0,"mat-error",18),i.Wb(),i.Wb(),i.Xb(59,"div",10),i.Xb(60,"div",11),i.Xb(61,"label",12),i.Tc(62,"Opinion Date"),i.Wb(),i.Xb(63,"mat-card",26),i.Sb(64,"input",27),i.Xb(65,"div",28),i.Sb(66,"mat-datepicker-toggle",29),i.Sb(67,"mat-datepicker",null,30),i.Wb(),i.Wb(),i.Rc(69,br,3,0,"mat-error",18),i.Wb(),i.Xb(70,"div",11),i.Xb(71,"label",12),i.Tc(72,"Valuation Date"),i.Wb(),i.Xb(73,"mat-card",13),i.Sb(74,"input",31),i.Wb(),i.Wb(),i.Wb(),i.Xb(75,"div",10),i.Xb(76,"div",11),i.Xb(77,"label",12),i.Tc(78,"Description"),i.Wb(),i.Xb(79,"mat-card",13),i.Xb(80,"mat-select",32),i.Xb(81,"mat-option"),i.Tc(82,"select"),i.Wb(),i.Rc(83,mr,2,2,"mat-option",25),i.Wb(),i.Wb(),i.Rc(84,ur,3,0,"mat-error",18),i.Wb(),i.Xb(85,"div",33),i.Tc(86," Descision Favourable ? "),i.Sb(87,"mat-slide-toggle"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(88,"div",34),i.Xb(89,"button",35),i.fc("click",function(){return e.goBack()}),i.Tc(90,"Back"),i.Wb(),i.Xb(91,"button",36),i.fc("click",function(){return e.Submit()}),i.Tc(92,"Next"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(68);i.Eb(9),i.rc("formGroup",e.legalOpinion),i.Eb(21),i.rc("ngIf",e.legalOpinion.get("opinion").touched&&!e.legalOpinion.get("opinion").valid),i.Eb(12),i.rc("ngIf",e.legalOpinion.get("assetAreaSize").touched&&!e.legalOpinion.get("assetAreaSize").valid),i.Eb(7),i.rc("ngIf",e.legalOpinion.get("mktValOfAsset").touched&&!e.legalOpinion.get("mktValOfAsset").valid),i.Eb(8),i.rc("ngForOf",e.lawyerArr),i.Eb(1),i.rc("ngIf",e.legalOpinion.get("lawyerName").touched&&!e.legalOpinion.get("lawyerName").valid),i.Eb(6),i.rc("matDatepicker",t),i.Eb(2),i.rc("for",t),i.Eb(3),i.rc("ngIf",e.legalOpinion.get("opinionDate").touched&&!e.legalOpinion.get("opinionDate").valid),i.Eb(14),i.rc("ngForOf",e.descriptionArr),i.Eb(1),i.rc("ngIf",e.legalOpinion.get("description").touched&&!e.legalOpinion.get("description").valid),i.Eb(7),i.rc("disabled",!e.legalOpinion.valid)}},directives:[r.e,r.b,V.A,V.s,V.j,c.a,c.h,x.a,r.f,q.a,V.r,V.i,B.n,n.n,s.h,z.b,V.c,V.m,n.m,Q.e,Q.g,s.j,Q.d,et.a,l.b,s.b],styles:[".inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:10px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;padding-left:20px}.line[_ngcontent-%COMP%]{flex:1;margin-left:90px}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.inputMatLastName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}"]}),t})();function pr(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function fr(t,e){if(1&t&&(i.Xb(0,"mat-option",26),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}let gr=(()=>{class t{constructor(t,e,a,n,i){this.formBuilder=t,this.ls=e,this.apiService=a,this.snack=n,this.router=i,this.disableDone=!0,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1,this.arraySystemRecommendation=["Approved","Rejected"],this.offerAssessmentFormGroup=this.formBuilder.group({loanAccountId:["520",[V.z.required]],rateOfInterest:["",[V.z.required]],requestedLoanAmount:["",[V.z.required]],loanTenure:["",[V.z.required]],approvedLoanAmount:["",[V.z.required]],userRecommendation:["",[V.z.required]],systemRecommendation:["",[V.z.required]],loanAmountRecommendation:["",[V.z.required]]})}ngOnInit(){}goBack(){this.router.navigate(["/loan/account/offerstage/list"])}goNext(){this.apiService.updateAssessment(this.offerAssessmentFormGroup.value).subscribe(t=>{console.log("data",t),null!=t&&this.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.ls.setItem("assessmentScreen",!0),this.router.navigate(["/loan/account/list/offer-issue/offerissue"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(p.b),i.Rb(h.a),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offer-assessment"]],decls:62,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_report_mx0a.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],["fxLayout","column"],["fxLayout","column",3,"formGroup"],["fxLayout","column",2,"border-radius","30px","margin-right","1.5cm"],[1,""],[1,"card-title-text"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["matInput","","formControlName","requestedLoanAmount","type","text","placeholder","Request Loan Amount",1,"alignment"],["matInput","","formControlName","loanTenure","type","text","placeholder","Loan Tenure",1,"alignment"],["matInput","","formControlName","rateOfInterest","type","text","placeholder","Rate Of Interest",1,"alignment"],["placeholder","Recommended for Approval","formControlName","systemRecommendation","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","User Recommendation","formControlName","userRecommendation","disableOptionCentering",""],["matInput","","formControlName","loanAmountRecommendation","type","text","placeholder","loanAmountRecommendation",1,"alignment"],["matInput","","formControlName","approvedLoanAmount","type","text","placeholder","Approved Loan Amount",1,"alignment"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Assessment Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"form",7),i.Xb(10,"div",1),i.Xb(11,"mat-card",8),i.Xb(12,"mat-card-title",9),i.Xb(13,"div",10),i.Tc(14,"Assessment Details"),i.Sb(15,"mat-divider"),i.Wb(),i.Wb(),i.Xb(16,"div",11),i.Xb(17,"div",12),i.Xb(18,"label",13),i.Tc(19,"Request Loan Amount"),i.Wb(),i.Xb(20,"mat-card",14),i.Sb(21,"input",15),i.Wb(),i.Wb(),i.Xb(22,"div",12),i.Xb(23,"label",13),i.Tc(24,"Loan Tenure"),i.Wb(),i.Xb(25,"mat-card",14),i.Sb(26,"input",16),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div",11),i.Xb(28,"div",12),i.Xb(29,"label",13),i.Tc(30,"Rate Of Interest"),i.Wb(),i.Xb(31,"mat-card",14),i.Sb(32,"input",17),i.Wb(),i.Wb(),i.Xb(33,"div",12),i.Xb(34,"label",13),i.Tc(35,"System Recommendation"),i.Wb(),i.Xb(36,"mat-card",14),i.Xb(37,"mat-select",18),i.Rc(38,pr,2,2,"mat-option",19),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",11),i.Xb(40,"div",12),i.Xb(41,"label",13),i.Tc(42,"User Recommendation"),i.Wb(),i.Xb(43,"mat-card",14),i.Xb(44,"mat-select",20),i.Rc(45,fr,2,2,"mat-option",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",12),i.Xb(47,"label",13),i.Tc(48,"Loan Amount Recommended"),i.Wb(),i.Xb(49,"mat-card",14),i.Sb(50,"input",21),i.Wb(),i.Wb(),i.Wb(),i.Xb(51,"div",11),i.Xb(52,"div",12),i.Xb(53,"label",13),i.Tc(54,"Approved Loan Amount"),i.Wb(),i.Xb(55,"mat-card",14),i.Sb(56,"input",22),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(57,"div",23),i.Xb(58,"button",24),i.fc("click",function(){return e.goBack()}),i.Tc(59,"Back"),i.Wb(),i.Xb(60,"button",25),i.fc("click",function(){return e.goNext()}),i.Tc(61,"Next"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(9),i.rc("formGroup",e.offerAssessmentFormGroup),i.Eb(29),i.rc("ngForOf",e.arraySystemRecommendation),i.Eb(7),i.rc("ngForOf",e.arraySystemRecommendation),i.Eb(15),i.rc("disabled",!e.offerAssessmentFormGroup.valid))},directives:[r.e,r.b,V.A,V.s,V.j,c.a,c.h,x.a,r.f,z.b,V.c,V.r,V.i,q.a,n.m,l.b,B.n],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}"]}),t})();var hr=a("pu8Q");const vr=["report"];function Wr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0 Applicant Name is Required! "),i.Wb())}function Xr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0 Approved Loan Amount is Required! "),i.Wb())}function yr(t,e){if(1&t&&(i.Xb(0,"mat-option",56),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function xr(t,e){if(1&t&&(i.Xb(0,"a",57),i.Xb(1,"span",58),i.Tc(2,"file_download"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.sc("href",t.docUrl,i.Jc)}}function Cr(t,e){1&t&&(i.Xb(0,"a",59),i.Xb(1,"span",58),i.Tc(2,"file_download"),i.Wb(),i.Wb())}function Ir(t,e){1&t&&i.Sb(0,"mat-spinner",60),2&t&&i.rc("diameter",30)}let Or=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s){this.router=t,this.ls=e,this.apiService=a,this.snack=n,this.loader=i,this._document=o,this.appApiService=r,this.formBuilder=c,this.accountService=s,this.generateArr=["With Schedule","without Schedule"],this.showEditOption=!1,this.otherDocumentArray=[],this.files=[],this.fileName=[],this.showDelete=!0,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.documentUploaded=!1,this.OfferIssueForm=this.formBuilder.group({approvedLoanAmount:["",[V.z.required]],applicantName:["",[V.z.required]],installmentFrequency:["",[V.z.required]],rateOfInterest:["",[V.z.required]],offerIssueDate:["",[V.z.required]],year:["",[V.z.required]],month:["",[V.z.required]],day:["",[V.z.required]],installmentType:["",[V.z.required]],generateOffer:["",[V.z.required]],interest:["",[V.z.required]],principal:["",[V.z.required]],installmentAmount:["",[V.z.required]],charges:["",[V.z.required]],loanTenure:[""]})}ngOnInit(){this.selectedYear=(new Date).getFullYear();for(let e=0;e<=50;e++)this.years.push(e);for(let e=0;e<=11;e++)this.months.push(e);for(let e=0;e<=30;e++)this.days.push(e);this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("OfferIssue"));setTimeout(()=>{null!=this.loanaccountID&&t?(this.showEditOption=!0,this.getAccountDetails()):(console.log("else"),this.showEditOption=!1,this.buildOfferIssueForm())},10),this.fetchByCif(),this.loanData(),this.intrestData()}onFileSelected(t){console.log("event -- ",t.target.files);for(let e of t.target.files)this.files.push({name:e.name,type:e.type}),this.snack.open("File Uploded","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});this.selectedFiles=t.target.files[0],console.log("selectedFiles: any",this.selectedFiles),t.target.files&&this.uploadDoc(t.target.files[0],this.selectedFiles,t)}uploadDoc(t,e,a){console.log("event---\x3e> ",e);const n=new FormData;n.append("file",e),console.log(n)}getAccountDetails(){this.loader.open(),this.apiService.getOfferIssueDetails(this.loanaccountID).subscribe(t=>{this.loader.close(),this.accountDetails=t,console.log(this.accountDetails),this.buildOfferIssueForm(this.accountDetails)},t=>{this.loader.close()})}get f(){return this.OfferIssueForm.controls}get c(){return this.f.collaterals}deleteDoc(){this.documentUploaded=!1,this.docUrl=" ",this.fileName=" ",this.showDelete=!1}uploadCollateralType(t){console.log("event",t),this.showSpinn=!0;const e=t.target.files[0];this.fileName=e.name,console.log("File name=",this.fileName);const a={loanAccountId:this.loanaccountID,screenType:"offerIssue"},n=new FormData;n.append("data",JSON.stringify(a)),n.append("file",e),console.log("file",e),console.log("data",a),this.apiService.uploadOfferDocument(n).subscribe(t=>{console.log("Document Resp",t,t.fileUrl),this.docUrl=t.fileUrl,t&&t.fileUrl&&(this.showSpinn=!1,this.snack.open("Document Saved Successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.documentUploaded=!0)})}buildOfferIssueForm(t){t.offerIssueDate=t?$(t.offerIssueDate).format():"",this.OfferIssueForm=this.formBuilder.group({approvedLoanAmount:[t?t.approvedLoanAmount:""],loanTenure:[t?t.loanTenure:""],applicantName:[t?t.applicantName:""],installmentFrequency:[t?t.installmentFrequency:""],rateOfInterest:[t?t.rateOfInterest:""],offerIssueDate:[t?t.offerIssueDate:""],generateOffer:[t?t.generateOffer:""],installmentAmount:[t?t.installmentAmount:""],principal:[t?t.principal:""],interest:[t?t.interest:""],charges:[t?t.charges:""],day:[t?Number(t.loanTenure.split("-")[2].match(/\d+/)[0]):"",[V.z.required]],month:[t?Number(t.loanTenure.split("-")[1].match(/\d+/)[0]):"",[V.z.required]],year:[t?Number(t.loanTenure.split("-")[0].match(/\d+/)[0]):"",[V.z.required]],installmentType:[t?t.installmentType:""]})}goBack(){this.router.navigate(["loan/account/offer-issue/list"])}Submit(){let t=new Date;t=this.OfferIssueForm.value.opinionDate;var e=$(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);var a=this.OfferIssueForm.value.approvedLoanAmount;a=parseInt(a);var n=this.OfferIssueForm.value.rateOfInterest;n=parseInt(n);const i=this.OfferIssueForm.value.year+"year-"+this.OfferIssueForm.value.month+"month-"+this.OfferIssueForm.value.day+"day";this.OfferIssueForm.get("loanTenure").setValue(i),delete this.OfferIssueForm.value.year,delete this.OfferIssueForm.value.month,delete this.OfferIssueForm.value.day,this.OfferIssueForm.value.principal=parseInt(this.OfferIssueForm.value.principal),this.OfferIssueForm.value.interest=parseInt(this.OfferIssueForm.value.interest),this.OfferIssueForm.value.installmentAmount=parseInt(this.OfferIssueForm.value.installmentAmount),this.OfferIssueForm.value.charges=parseInt(this.OfferIssueForm.value.charges);let o={loanAccountId:this.loanaccountID,approvedLoanAmount:a,loanTenure:i,applicantName:this.OfferIssueForm.value.applicantName,installmentFrequency:this.OfferIssueForm.value.installmentFrequency,rateOfInterest:n,offerIssueDate:e,generateOffer:this.OfferIssueForm.value.generateOffer,principal:this.OfferIssueForm.value.principal,interest:this.OfferIssueForm.value.interest,installmentAmount:this.OfferIssueForm.value.installmentAmount,charges:this.OfferIssueForm.value.charges,installmentType:this.OfferIssueForm.value.installmentType};console.log("payload",o),this.apiService.upsertOfferIssue(o).subscribe(t=>{console.log("data",t),null!=t&&this.snack.open("Offer Issue Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.Next()}Next(){this.ls.setItem("OfferIssue",!0),this.ls.setItem("OfferIssueStageDone",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/offerstage/list"])}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}limitMonth(t){Number(t.target.value)>12&&(t.target.value=t.target.value.slice(0,1))}limitDays(t){Number(t.target.value)>31&&(t.target.value=t.target.value.slice(0,1))}onInput(t,e){this.approvedLoan=e?t.target.value:t,console.log("this.salary)::",this.approvedLoan);let a=this.approvedLoan.toString().replace(/,/g,"").split(".");a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let n=a.join(".");console.log("final",n),this.OfferIssueForm.controls.approvedLoanAmount.setValue(n)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}fetchByCif(){this.cifNumber=this.ls.getItem("cId"),this.appApiService.fetchByCif(this.cifNumber).subscribe(t=>{this.OfferIssueForm.get("applicantName").setValue(t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName)},t=>{console.error(t)})}loanData(){console.log(this.loanaccountID),this.apiService.fetchByLoanAccountId(this.loanaccountID).subscribe(t=>{this.OfferIssueForm.get("approvedLoanAmount").setValue(t.approvedLoanAmount);let e=Number(t.loanTenure.split("-")[0].match(/\d+/)[0]),a=Number(t.loanTenure.split("-")[1].match(/\d+/)[0]),n=Number(t.loanTenure.split("-")[2].match(/\d+/)[0]);this.OfferIssueForm.get("year").setValue(e),this.OfferIssueForm.get("month").setValue(a),this.OfferIssueForm.get("day").setValue(n)},t=>{console.error(t)})}intrestData(){console.log(this.loanaccountID),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(t=>{this.OfferIssueForm.get("rateOfInterest").setValue(t.rateOfInterest)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(u.a),i.Rb(p.b),i.Rb(h.a),i.Rb(yt.a),i.Rb(n.e),i.Rb(Ne.a),i.Rb(V.f),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offerissue"]],viewQuery:function(t,e){if(1&t&&i.ad(vr,!0),2&t){let t;i.Cc(t=i.gc())&&(e.report=t.first)}},decls:134,vars:11,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_17.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","column",3,"formGroup"],[1,"alignChange"],["visible","true"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],[1,"hint"],["matInput","","type","text","name","applicantName","placeholder","Applicant Name","formControlName","applicantName","readonly","",1,"alignment"],[4,"ngIf"],["matInput","","type","text","name","approvedLoanAmount","placeholder","Approved Loan Account","maxlength","16","formControlName","approvedLoanAmount","readonly","",1,"alignment",3,"keypress","keyup"],["fxLayout","row wrap",1,"hight"],[1,"size1"],["appearance","outline","fxFlex","23",1,"full-width","tenure1"],["matInput","","formControlName","year","name","year","placeholder","Year","autocomplete","off","maxlength","2",1,"alignment",3,"keypress"],["appearance","outline","fxFlex","22.5",1,"full-width","tenure1"],["matInput","","formControlName","month","name","month","placeholder","Month","autocomplete","off",1,"alignment",3,"keypress","input"],["appearance","outline","fxFlex","22",1,"full-width","tenure1"],["matInput","","formControlName","day","name","day","placeholder","Day","autocomplete","off",1,"alignment",3,"keypress","input"],["name","installmentType","placeholder","Select","formControlName","installmentType","disableOptionCentering","",1,"alignment"],["value","EMI"],["placeholder","Installment Frequency","name","installmentFrequency","disableOptionCentering","","formControlName","installmentFrequency"],["value",""],["value","Monthly"],["value","Quaterly"],["value","Half-yearly"],["value","Yearly"],["matInput","","autocomplete","off","type","text","placeholder","Rate Of Interest","name","rateOfInterest","formControlName","rateOfInterest","minlength","1","maxlength","2",1,"alignment",3,"keypress"],["matInput","","autocomplete","off","type","text","name","principal","placeholder","Principal","maxlength","12","formControlName","principal",1,"alignment",3,"keypress"],["matInput","","type","text","autocomplete","off","placeholder","Interest","name","interest","maxlength","2","formControlName","interest",1,"alignment",3,"keypress"],["matInput","","type","text","autocomplete","off","placeholder","Installment Amount","name","installmentAmount","maxlength","12","formControlName","installmentAmount",1,"alignment",3,"keypress"],["matInput","","type","text","autocomplete","off","placeholder","Charges","name","charges","maxlength","8","formControlName","charges",1,"alignment",3,"keypress"],["matInput","","id","dob","name","offerIssueDate","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","offerIssueDate",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["disableOptionCentering","","formControlName","generateOffer","placeholder","Generate Offer",1,"alignment"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","30%",1,"flex-grow-1","documentCard"],["type","file","name","documentUrl","accept","application/png, application/gif, application/jpeg",2,"display","none",3,"change"],["documentUrl",""],["fxLayout","row wrap",1,"flex-grow-1"],[1,"docData",3,"routerLink","click"],[1,"documentHint"],["fxFlex","40%",1,"flex-grow-1"],["class","documentlink","download","",3,"href",4,"ngIf"],["class","documentlink","download","",4,"ngIf"],["color","warn",1,"docIcon",3,"click"],["class","spinner",3,"diameter",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"value"],["download","",1,"documentlink",3,"href"],[1,"material-icons"],["download","",1,"documentlink"],[1,"spinner",3,"diameter"]],template:function(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Offer Issue Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",0),i.Xb(9,"form",6),i.Xb(10,"div",1),i.Xb(11,"mat-card",0),i.Xb(12,"mat-card-title"),i.Xb(13,"fieldset",7),i.Xb(14,"legend",8),i.Tc(15,"Offer Issue Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"div",9),i.Xb(17,"div",10),i.Xb(18,"mat-form-field",11),i.Xb(19,"mat-label",12),i.Tc(20,"Applicant Name*"),i.Wb(),i.Sb(21,"input",13),i.Rc(22,Wr,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Xb(23,"div",10),i.Xb(24,"mat-form-field",11),i.Xb(25,"mat-label",12),i.Tc(26,"Approved Loan Amount*"),i.Wb(),i.Xb(27,"input",15),i.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.onInput(t,!0)}),i.Wb(),i.Rc(28,Xr,2,0,"mat-error",14),i.Wb(),i.Wb(),i.Wb(),i.Xb(29,"div",9),i.Xb(30,"div",10),i.Xb(31,"div",16),i.Xb(32,"label",17),i.Tc(33,"Loan Tenure*"),i.Wb(),i.Xb(34,"mat-form-field",18),i.Xb(35,"mat-label"),i.Tc(36,"Year*"),i.Wb(),i.Xb(37,"input",19),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Xb(38,"mat-form-field",20),i.Xb(39,"mat-label"),i.Tc(40,"Month*"),i.Wb(),i.Xb(41,"input",21),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(t){return e.limitMonth(t)}),i.Wb(),i.Wb(),i.Xb(42,"mat-form-field",22),i.Xb(43,"mat-label"),i.Tc(44,"Day*"),i.Wb(),i.Xb(45,"input",23),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(t){return e.limitDays(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",10),i.Xb(47,"mat-form-field",11),i.Xb(48,"mat-label",12),i.Tc(49,"Installment Type*"),i.Wb(),i.Xb(50,"mat-select",24),i.Xb(51,"mat-option",25),i.Tc(52,"EMI"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(53,"div",9),i.Xb(54,"div",10),i.Xb(55,"mat-form-field",11),i.Xb(56,"mat-label",12),i.Tc(57,"Installment Frequency*"),i.Wb(),i.Xb(58,"mat-select",26),i.Xb(59,"mat-option",27),i.Tc(60,"Select"),i.Wb(),i.Xb(61,"mat-option",28),i.Tc(62,"Monthly"),i.Wb(),i.Xb(63,"mat-option",29),i.Tc(64,"Quaterly"),i.Wb(),i.Xb(65,"mat-option",30),i.Tc(66,"Half-yearly"),i.Wb(),i.Xb(67,"mat-option",31),i.Tc(68,"Yearly"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(69,"div",10),i.Xb(70,"mat-form-field",11),i.Xb(71,"mat-label",12),i.Tc(72,"Rate of Interest in(%)*"),i.Wb(),i.Xb(73,"input",32),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(74,"div",9),i.Xb(75,"div",10),i.Xb(76,"mat-form-field",11),i.Xb(77,"mat-label",12),i.Tc(78,"Principal*"),i.Wb(),i.Xb(79,"input",33),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(80,"div",10),i.Xb(81,"mat-form-field",11),i.Xb(82,"mat-label",12),i.Tc(83,"Interest*"),i.Wb(),i.Xb(84,"input",34),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(85,"div",9),i.Xb(86,"div",10),i.Xb(87,"mat-form-field",11),i.Xb(88,"mat-label",12),i.Tc(89,"Installment Amount*"),i.Wb(),i.Xb(90,"input",35),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(91,"div",10),i.Xb(92,"mat-form-field",11),i.Xb(93,"mat-label",12),i.Tc(94,"Charges*"),i.Wb(),i.Xb(95,"input",36),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(96,"div",9),i.Xb(97,"div",10),i.Xb(98,"mat-form-field",11),i.Xb(99,"mat-label",12),i.Tc(100,"Offer Issue Date*"),i.Wb(),i.Sb(101,"input",37),i.Sb(102,"mat-datepicker-toggle",38),i.Sb(103,"mat-datepicker",null,39),i.Wb(),i.Wb(),i.Xb(105,"div",10),i.Xb(106,"mat-form-field",11),i.Xb(107,"mat-label",12),i.Tc(108,"Generate Offer*"),i.Wb(),i.Xb(109,"mat-select",40),i.Rc(110,yr,2,2,"mat-option",41),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(111,"div",9),i.Xb(112,"div",42),i.Xb(113,"input",43,44),i.fc("change",function(t){return e.uploadCollateralType(t)}),i.Wb(),i.Xb(115,"div",45),i.Xb(116,"a",46),i.fc("click",function(){return i.Hc(t),i.Dc(114).click()}),i.Tc(117,"Add Document"),i.Wb(),i.Tc(118," \xa0 "),i.Xb(119,"mat-hint",47),i.Tc(120),i.Wb(),i.Wb(),i.Wb(),i.Xb(121,"div",48),i.Rc(122,xr,3,1,"a",49),i.Tc(123," \xa0 "),i.Rc(124,Cr,3,0,"a",50),i.Tc(125," \xa0 "),i.Xb(126,"mat-icon",51),i.fc("click",function(){return e.deleteDoc()}),i.Tc(127,"delete"),i.Wb(),i.Rc(128,Ir,1,1,"mat-spinner",52),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(129,"div",53),i.Xb(130,"button",54),i.fc("click",function(){return e.goBack()}),i.Tc(131," Back "),i.Wb(),i.Xb(132,"button",55),i.fc("click",function(){return e.Submit()}),i.Tc(133," Next "),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(104);i.Eb(9),i.rc("formGroup",e.OfferIssueForm),i.Eb(13),i.rc("ngIf",!e.OfferIssueForm.get("applicantName").valid&&e.OfferIssueForm.get("applicantName").touched),i.Eb(6),i.rc("ngIf",!e.OfferIssueForm.get("approvedLoanAmount").valid&&e.OfferIssueForm.get("approvedLoanAmount").touched),i.Eb(73),i.rc("matDatepicker",t),i.Eb(1),i.rc("for",t),i.Eb(8),i.rc("ngForOf",e.generateArr),i.Eb(10),i.Uc(e.fileName),i.Eb(2),i.rc("ngIf",e.documentUploaded),i.Eb(2),i.rc("ngIf",!e.documentUploaded),i.Eb(4),i.rc("ngIf",e.showSpinn),i.Eb(4),i.rc("disabled",!e.OfferIssueForm.valid)}},directives:[r.e,r.b,V.A,V.s,V.j,c.a,c.h,r.f,s.c,s.g,z.b,V.c,V.r,V.i,n.n,V.m,q.a,B.n,V.n,Q.e,Q.g,s.j,Q.d,n.m,o.k,s.f,v.a,r.d,l.b,s.b,hr.b],styles:[".inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{color:grey;margin-left:.1rem;font-size:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;padding-left:20px}.line[_ngcontent-%COMP%]{flex:1;margin-left:90px}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.inputMatLastName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.sqInput1[_ngcontent-%COMP%]{width:30%;margin-left:.5%;height:47px}.issueCard[_ngcontent-%COMP%]{border-radius:30px;margin-right:1.5cm}.docData[_ngcontent-%COMP%]{text-decoration:underline;color:#456efe;margin-left:.3rem}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.size1[_ngcontent-%COMP%]{margin-top:15px}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:20px;margin-right:20px;margin-top:20px!important}.hight[_ngcontent-%COMP%]{height:10px}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}"]}),t})();var Ar=a("Nk78");function Dr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Loan Requested for is Required! "),i.Wb())}function Tr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Mode of Study is Required! "),i.Wb())}function Sr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Institution is Required! "),i.Wb())}function kr(t,e){if(1&t&&(i.Xb(0,"mat-option",53),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function _r(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Country is Required! "),i.Wb())}function Rr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Specialization is Required! "),i.Wb())}function Mr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Employment Potential is Required! "),i.Wb())}function Er(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Cost Of Course is Required! "),i.Wb())}function Pr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Admission Status is Required! "),i.Wb())}function Nr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Proposed Course of Study is Required! "),i.Wb())}function wr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," University / School is Required! "),i.Wb())}function Fr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Institution Ranking is Required! "),i.Wb())}function Lr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Course Commencement Date is Required! "),i.Wb())}function Vr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Project Earning is Required! "),i.Wb())}function zr(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," School (In GBP) is Required! "),i.Wb())}function qr(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",13),i.Xb(1,"div",14),i.Xb(2,"div",15),i.Xb(3,"div",16),i.Xb(4,"mat-form-field",17),i.Xb(5,"mat-label"),i.Tc(6,"Loan Requested for"),i.Wb(),i.Xb(7,"mat-select",18),i.Xb(8,"mat-option",19),i.Tc(9," Select "),i.Wb(),i.Xb(10,"mat-option",20),i.Tc(11,"Overseas"),i.Wb(),i.Xb(12,"mat-option",21),i.Tc(13,"Home"),i.Wb(),i.Xb(14,"mat-option",22),i.Tc(15,"Education"),i.Wb(),i.Xb(16,"mat-option",23),i.Tc(17,"Business"),i.Wb(),i.Wb(),i.Rc(18,Dr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(19,"div",16),i.Xb(20,"mat-form-field",17),i.Xb(21,"mat-label"),i.Tc(22,"Mode of Study"),i.Wb(),i.Xb(23,"mat-select",25),i.Xb(24,"mat-option",19),i.Tc(25," Select "),i.Wb(),i.Xb(26,"mat-option",20),i.Tc(27,"Full Time"),i.Wb(),i.Xb(28,"mat-option",20),i.Tc(29,"Part Time"),i.Wb(),i.Wb(),i.Rc(30,Tr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(31,"div",16),i.Xb(32,"mat-form-field",17),i.Xb(33,"mat-label"),i.Tc(34,"Institution"),i.Wb(),i.Sb(35,"input",26),i.Rc(36,Sr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(37,"div",16),i.Xb(38,"mat-form-field",17),i.Xb(39,"mat-label"),i.Tc(40,"Country"),i.Wb(),i.Xb(41,"mat-select",27),i.Xb(42,"mat-option",19),i.Tc(43,"Select"),i.Wb(),i.Rc(44,kr,2,2,"mat-option",28),i.Wb(),i.Rc(45,_r,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(46,"div",16),i.Xb(47,"mat-form-field",17),i.Xb(48,"mat-label"),i.Tc(49,"Course Duration"),i.Wb(),i.Xb(50,"mat-date-range-input",29),i.Sb(51,"input",30,31),i.Xb(53,"input",32,33),i.fc("dateChange",function(){i.Hc(t);const e=i.Dc(52),a=i.Dc(54);return i.jc().dateRangeChange(e,a)}),i.Wb(),i.Wb(),i.Sb(55,"mat-datepicker-toggle",34),i.Xb(56,"mat-date-range-picker",null,35),i.Xb(58,"mat-date-range-picker-actions"),i.Xb(59,"button",36),i.Tc(60,"Cancel"),i.Wb(),i.Xb(61,"button",37),i.Tc(62,"Apply"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(63,"div",16),i.Xb(64,"mat-form-field",17),i.Xb(65,"mat-label"),i.Tc(66,"Specialization"),i.Wb(),i.Sb(67,"input",38),i.Rc(68,Rr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(69,"div",16),i.Xb(70,"mat-form-field",17),i.Xb(71,"mat-label"),i.Tc(72,"Employment Potential"),i.Wb(),i.Xb(73,"input",39),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(74,Mr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(75,"div",16),i.Xb(76,"mat-form-field",17),i.Xb(77,"mat-label"),i.Tc(78,"Cost of Course (In GBP)s"),i.Wb(),i.Xb(79,"input",40),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(80,Er,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Wb(),i.Xb(81,"div",15),i.Xb(82,"div",16),i.Xb(83,"mat-form-field",17),i.Xb(84,"mat-label"),i.Tc(85,"Admission Status"),i.Wb(),i.Xb(86,"mat-select",41),i.Xb(87,"mat-option",19),i.Tc(88," Select "),i.Wb(),i.Xb(89,"mat-option",20),i.Tc(90,"Under Process"),i.Wb(),i.Xb(91,"mat-option",20),i.Tc(92,"Confirmed"),i.Wb(),i.Wb(),i.Rc(93,Pr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(94,"div",16),i.Xb(95,"mat-form-field",17),i.Xb(96,"mat-label"),i.Tc(97,"Proposed Course of Study"),i.Wb(),i.Sb(98,"input",42),i.Rc(99,Nr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(100,"div",16),i.Xb(101,"mat-form-field",17),i.Xb(102,"mat-label"),i.Tc(103,"University / School"),i.Wb(),i.Sb(104,"input",43),i.Rc(105,wr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(106,"div",16),i.Xb(107,"mat-form-field",17),i.Xb(108,"mat-label"),i.Tc(109,"Institution Ranking"),i.Wb(),i.Xb(110,"input",44),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(111,Fr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(112,"div",16),i.Xb(113,"mat-form-field",17),i.Xb(114,"mat-label"),i.Tc(115,"Course Commencement Date"),i.Wb(),i.Sb(116,"input",45),i.Sb(117,"mat-datepicker-toggle",34),i.Sb(118,"mat-datepicker",null,46),i.Rc(120,Lr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(121,"div",16),i.Xb(122,"mat-form-field",17),i.Xb(123,"mat-label"),i.Tc(124,"Projected Earning"),i.Wb(),i.Xb(125,"input",47),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(126,Vr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(127,"div",48),i.Xb(128,"div",49),i.Xb(129,"div",50),i.Xb(130,"div",16),i.Tc(131," Scholarship/ Business Eligible \xa0\xa0\xa0 "),i.Sb(132,"mat-slide-toggle",51),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(133,"div",16),i.Xb(134,"mat-form-field",17),i.Xb(135,"mat-label"),i.Tc(136,"Source (In GBP)"),i.Wb(),i.Xb(137,"input",52),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(138,zr,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(57),e=i.Dc(119),a=i.jc();i.rc("formGroup",a.admissionDetailsForm),i.Eb(18),i.rc("ngIf",!a.admissionDetailsForm.get("loanRequestedFor").valid&&a.admissionDetailsForm.get("loanRequestedFor").touched),i.Eb(12),i.rc("ngIf",!a.admissionDetailsForm.get("modeOfStudy").valid&&a.admissionDetailsForm.get("modeOfStudy").touched),i.Eb(6),i.rc("ngIf",!a.admissionDetailsForm.get("institution").valid&&a.admissionDetailsForm.get("institution").touched),i.Eb(8),i.rc("ngForOf",a.arrayCountry),i.Eb(1),i.rc("ngIf",!a.admissionDetailsForm.get("country").valid&&a.admissionDetailsForm.get("country").touched),i.Eb(5),i.rc("rangePicker",t),i.Eb(5),i.rc("for",t),i.Eb(13),i.rc("ngIf",!a.admissionDetailsForm.get("specialization").valid&&a.admissionDetailsForm.get("specialization").touched),i.Eb(6),i.rc("ngIf",!a.admissionDetailsForm.get("employmentPotential").valid&&a.admissionDetailsForm.get("employmentPotential").touched),i.Eb(6),i.rc("ngIf",!a.admissionDetailsForm.get("costOfCourse").valid&&a.admissionDetailsForm.get("costOfCourse").touched),i.Eb(13),i.rc("ngIf",!a.admissionDetailsForm.get("admissionStatus").valid&&a.admissionDetailsForm.get("admissionStatus").touched),i.Eb(6),i.rc("ngIf",!a.admissionDetailsForm.get("proposedCourseOfStudy").valid&&a.admissionDetailsForm.get("proposedCourseOfStudy").touched),i.Eb(6),i.rc("ngIf",!a.admissionDetailsForm.get("university").valid&&a.admissionDetailsForm.get("university").touched),i.Eb(6),i.rc("ngIf",!a.admissionDetailsForm.get("institutionRanking").valid&&a.admissionDetailsForm.get("institutionRanking").touched),i.Eb(5),i.rc("matDatepicker",e)("min",a.dateValue),i.Eb(1),i.rc("for",e),i.Eb(3),i.rc("ngIf",!a.admissionDetailsForm.get("courseCommencementDate").valid&&a.admissionDetailsForm.get("courseCommencementDate").touched),i.Eb(6),i.rc("ngIf",!a.admissionDetailsForm.get("projectedEarning").valid&&a.admissionDetailsForm.get("projectedEarning").touched),i.Eb(6),i.rc("checked",a.scholarshipOrBusinessEligible),i.Eb(6),i.rc("ngIf",!a.admissionDetailsForm.get("source").valid&&a.admissionDetailsForm.get("source").touched)}}let Br=(()=>{class t{constructor(t,e,a,n,i,o,r,c){this.fb=t,this.ls=e,this.loader=a,this.apiService=n,this.router=i,this.snack=o,this.datepipe=r,this.accountService=c,this.showEditOption=!1,this.arrayCountry=[],this.minDate=new Date}ngOnInit(){this.buildformGroup(),this.getCountryName("country"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("ADMISSION_DETAIL_DONE"));setTimeout(()=>{null!=this.loanaccountID&&t?(this.showEditOption=!0,this.getAdmissionDetails()):(this.showEditOption=!1,this.buildformGroup())},10)}buildformGroup(t){this.admissionDetailsForm=this.fb.group({loanRequestedFor:[t?t.loanRequestedFor:"",V.z.required],modeOfStudy:[t?t.modeOfStudy:"",V.z.required],institution:[t?t.institution:"",V.z.required],country:[t?t.country:"",V.z.required],specialization:[t?t.specialization:"",V.z.required],employmentPotential:[t?t.employmentPotential:"",V.z.required],costOfCourse:[t?t.costOfCourse:"",V.z.required],scholarshipOrBusinessEligible:[!!t&&t.scholarshipOrBusinessEligible,V.z.required],admissionStatus:[t?t.admissionStatus:"",V.z.required],institutionRanking:[t?t.institutionRanking:"",V.z.required],courseCommencementDate:[t?this.convertDate(t.courseCommencementDate):"",V.z.compose([V.z.required,V.z.min(this.dateValue)])],courseDuration:[t?t.courseDuration:"",V.z.required],proposedCourseOfStudy:[t?t.proposedCourseOfStudy:"",V.z.required],university:[t?t.university:"",V.z.required],projectedEarning:[t?t.projectedEarning:"",V.z.required],source:[t?t.source:"",V.z.required]})}getAdmissionDetails(){this.loader.open(),this.apiService.getAdmissionDetailsByLoanAccId(this.loanaccountID).subscribe(t=>{this.loader.close(),this.addmissionDetails=t,this.buildformGroup(this.addmissionDetails)},t=>{this.loader.close()})}goBack(){this.router.navigate(["/loan/account/loan-details"])}submitForm(){let t={admissionId:0,admissionStatus:this.admissionDetailsForm.value.admissionStatus,costOfCourse:this.admissionDetailsForm.value.costOfCourse,country:this.admissionDetailsForm.value.country,courseCommencementDate:this.admissionDetailsForm.value.courseCommencementDate,courseDuration:this.admissionDetailsForm.value.courseDuration,employmentPotential:this.admissionDetailsForm.value.employmentPotential,institution:this.admissionDetailsForm.value.institution,institutionRanking:this.admissionDetailsForm.value.institutionRanking,loanAccountId:this.loanaccountID,loanRequestedFor:this.admissionDetailsForm.value.loanRequestedFor,modeOfStudy:this.admissionDetailsForm.value.modeOfStudy,projectedEarning:this.admissionDetailsForm.value.projectedEarning,proposedCourseOfStudy:this.admissionDetailsForm.value.proposedCourseOfStudy,scholarshipOrBusinessEligible:this.admissionDetailsForm.value.scholarshipOrBusinessEligible,source:this.admissionDetailsForm.value.source,specialization:this.admissionDetailsForm.value.specialization,university:this.admissionDetailsForm.value.university};t=this.admissionDetailsForm.value,t.loanAccountId=this.loanaccountID,this.apiService.upsertAdmissionDetails(t).subscribe(t=>{null!=t&&(this.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next())})}next(){this.ls.setItem("ADMISSION_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/customer-information"])}monthDiff(t,e){var a;return a=12*(e.getFullYear()-t.getFullYear()),a-=t.getMonth(),(a+=e.getMonth())<=0?0:a}dateRangeChange(t,e){const a=t.value.split("/"),n=new Date(a[1]+"/"+a[0]+"/"+a[2]),i=e.value.split("/"),o=new Date(i[1]+"/"+i[0]+"/"+i[2]);this.dateValue=o,t.value&&e.value&&this.admissionDetailsForm.controls.courseDuration.setValue(this.monthDiff(n,o))}convertDate(t){let e=$(t).format("YYYY-MM-DD");if(e)return e}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&(this.arrayCountry.push(t[e].countryName),this.arrayCountry.sort())})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(yt.a),i.Rb(p.b),i.Rb(o.h),i.Rb(h.a),i.Rb(n.f),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-admission-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["type","button","mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center",1,"pt-16"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["name","loanRequestedFor","formControlName","loanRequestedFor","disableOptionCentering","","required",""],["value",""],["value","test"],["value","Home"],["value","Education"],["value","Business"],[4,"ngIf"],["name","modeOfStudy","formControlName","modeOfStudy","required","","disableOptionCentering",""],["matInput","","name","institution","formControlName","institution","required","","placeholder","Institution","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["name","country","formControlName","country","required","","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["required","",3,"rangePicker"],["matStartDate","","placeholder","DD/MM/YYYY","readonly",""],["dateRangeStart",""],["matEndDate","","placeholder","DD/MM/YYYY","readonly","",3,"dateChange"],["dateRangeEnd",""],["matSuffix","",3,"for"],["rangePicker",""],["mat-button","","matDateRangePickerCancel",""],["mat-raised-button","","color","primary","matDateRangePickerApply",""],["matInput","","name","specialization","formControlName","specialization","placeholder","Specialization","required","","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["matInput","","name","employmentPotential","formControlName","employmentPotential","placeholder","Employment Potential Value","required","",3,"keypress"],["matInput","","name","costOfCourse","formControlName","costOfCourse","placeholder","Cost of Course","required","",3,"keypress"],["name","admissionStatus","formControlName","admissionStatus","required","","disableOptionCentering",""],["matInput","","name","proposedCourseOfStudy","formControlName","proposedCourseOfStudy","placeholder","Study Purpose","required","","oninput","this.value = this.value.replace(/[^A-Za-z&/.() ]|^ /g,'')"],["matInput","","name","university","formControlName","university","placeholder","university/School","required","","oninput","this.value = this.value.replace(/[^A-Za-z0-9-,.;'&/.() ]|^ /g,'')"],["matInput","","name","institutionRanking","formControlName","institutionRanking","placeholder","Ranking","required","",3,"keypress"],["matInput","","name","courseCommencementDate","formControlName","courseCommencementDate","placeholder","DD/MM/YYYY","required","",1,"alignment",3,"matDatepicker","min"],["picker",""],["matInput","","name","projectedEarning","formControlName","projectedEarning","placeholder","Projected Earning","required","",3,"keypress"],[1,"p-16"],[1,"pb-16"],[1,"pb-4"],["name","scholarshipOrBusinessEligible","formControlName","scholarshipOrBusinessEligible",1,"charge",3,"checked"],["matInput","","name","source","formControlName","source","placeholder","Source","required","",3,"keypress"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Admission Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title",7),i.Xb(11,"div",8),i.Tc(12,"Admission Details"),i.Wb(),i.Sb(13,"mat-divider"),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,qr,139,22,"form",9),i.Wb(),i.Wb(),i.Xb(16,"div",10),i.Xb(17,"button",11),i.fc("click",function(){return e.goBack()}),i.Tc(18," Back "),i.Wb(),i.Xb(19,"button",12),i.fc("click",function(){return e.submitForm()}),i.Tc(20," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.admissionDetailsForm),i.Eb(4),i.rc("disabled",!e.admissionDetailsForm.valid))},directives:[r.e,r.b,c.a,c.h,x.a,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,s.c,s.g,q.a,V.r,V.i,V.y,B.n,z.b,V.c,n.m,Q.b,Q.j,Q.i,Q.g,s.j,Q.c,Q.e,Q.d,et.a,s.b],styles:[".card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}"]}),t})();var jr=a("Zy1z"),Ur=a("f44v"),Hr=a("vrAh"),Gr=a("SqCe");function Yr(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function $r(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Ownership is Required! "),i.Wb())}function Qr(t,e){1&t&&(i.Vb(0),i.Xb(1,"div",18),i.Xb(2,"mat-form-field",19),i.Xb(3,"mat-label"),i.Tc(4,"Number of Applicants*"),i.Wb(),i.Xb(5,"mat-select",35),i.Xb(6,"mat-option"),i.Tc(7,"Select"),i.Wb(),i.Xb(8,"mat-option",34),i.Tc(9,"1"),i.Wb(),i.Xb(10,"mat-option",34),i.Tc(11,"2"),i.Wb(),i.Xb(12,"mat-option",34),i.Tc(13,"3"),i.Wb(),i.Xb(14,"mat-option",34),i.Tc(15,"4"),i.Wb(),i.Xb(16,"mat-option",34),i.Tc(17,"5"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub()),2&t&&(i.Eb(8),i.rc("value",1),i.Eb(2),i.rc("value",2),i.Eb(2),i.rc("value",3),i.Eb(2),i.rc("value",4),i.Eb(2),i.rc("value",5))}function Zr(t,e){if(1&t&&(i.Xb(0,"mat-chip",51),i.Tc(1),i.Wb()),2&t){const t=i.jc().$implicit;i.rc("color","warn")("selected",t.primaryCustomer),i.Eb(1),i.Uc(t.primaryCustomer?"primary":"")}}function Jr(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"a",52),i.fc("click",function(){return i.Hc(t),i.jc(3).resetAndClose()}),i.Xb(2,"mat-icon"),i.Tc(3,"close"),i.Wb(),i.Wb(),i.Ub()}}function Kr(t,e){if(1&t){const t=i.Yb();i.Xb(0,"a",53),i.fc("click",function(){i.Hc(t);const e=i.jc().$implicit;return i.jc(2).toggleDetails(e)}),i.Xb(1,"mat-icon"),i.Tc(2,"edit"),i.Wb(),i.Wb()}}function tc(t,e){if(1&t){const t=i.Yb();i.Xb(0,"a",54),i.fc("click",function(){i.Hc(t);const e=i.jc().$implicit;return i.jc(2).removeApplicant(e)}),i.Xb(1,"mat-icon"),i.Tc(2,"delete"),i.Wb(),i.Wb()}}function ec(t,e){1&t&&i.Tb(0)}const ac=function(t){return{$implicit:t}};function nc(t,e){if(1&t&&(i.Vb(0),i.Rc(1,ec,1,0,"ng-container",55),i.Ub()),2&t){const t=i.jc().$implicit,e=i.Dc(29);i.Eb(1),i.rc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.xc(2,ac,t))}}function ic(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function oc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Prefix is Required! "),i.Wb())}function rc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Date of Birth is Required! "),i.Wb())}function cc(t,e){if(1&t&&i.Sb(0,"div",98),2&t){const t=i.jc(4);i.Hb("currency-flag currency-flag-",t.birthCountryImage,"")}}function sc(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function lc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Country of Residence is Required! "),i.Wb())}function bc(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function mc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Resident Status is Required! "),i.Wb())}function uc(t,e){if(1&t&&i.Sb(0,"div"),2&t){const t=i.jc(4);i.Hb("currency-flag currency-flag-",t.countryResidenceImage,"")}}function dc(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function pc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Country of Residence is Required! "),i.Wb())}function fc(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function gc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," ID Type is Required! "),i.Wb())}function hc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," ID Type Valid Till is Required! "),i.Wb())}function vc(t,e){if(1&t&&(i.Xb(0,"div",17),i.Xb(1,"mat-form-field",19),i.Xb(2,"mat-label"),i.Tc(3,"ID Type Valid Till"),i.Wb(),i.Sb(4,"input",99),i.Sb(5,"mat-datepicker-toggle",63),i.Rc(6,hc,2,0,"mat-error",23),i.Wb(),i.Sb(7,"mat-datepicker",null,100),i.Wb()),2&t){const t=i.Dc(8),e=i.jc(4);i.Eb(4),i.rc("required","Passport"==e.applicant.get("idType").value)("matDatepicker",t)("min",e.minDate),i.Eb(1),i.rc("for",t),i.Eb(1),i.rc("ngIf",e.applicant.get("expiryDate").hasError("required"))}}function Wc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," First Name is Required! "),i.Wb())}function Xc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Last Name is Required! "),i.Wb())}function yc(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function xc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Gender is Required! "),i.Wb())}function Cc(t,e){1&t&&(i.Xb(0,"mat-hint",101),i.Tc(1," \xa0 Prefix and Gender does not match! "),i.Wb())}function Ic(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Birth Place is Required! "),i.Wb())}function Oc(t,e){if(1&t&&i.Sb(0,"div"),2&t){const t=i.jc(4);i.Hb("currency-flag currency-flag-",t.citizenshipImage,"")}}function Ac(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Dc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Citizenship is Required! "),i.Wb())}function Tc(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc("",t," ")}}function Sc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Marital Status is Required! "),i.Wb())}function kc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Occupation Type is Required! "),i.Wb())}function _c(t,e){1&t&&(i.Xb(0,"div"),i.Tc(1,"Unique ID Number is Required!"),i.Wb())}function Rc(t,e){1&t&&(i.Xb(0,"div"),i.Tc(1,"This is a numeric field "),i.Wb())}function Mc(t,e){if(1&t&&(i.Xb(0,"mat-error"),i.Rc(1,_c,2,0,"div",23),i.Rc(2,Rc,2,0,"div",23),i.Wb()),2&t){const t=i.jc(4);i.Eb(1),i.rc("ngIf",t.applicant.get("idNumber").hasError("required")),i.Eb(1),i.rc("ngIf",t.applicant.get("idNumber").hasError("pattern"))}}function Ec(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Address Line 1 is Required! "),i.Wb())}function Pc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Valid Address "),i.Wb())}function Nc(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function wc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Residence Type is Required! "),i.Wb())}function Fc(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.stateName),i.Eb(1),i.Vc(" ",t.stateName,"")}}function Lc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," State is Required! "),i.Wb())}function Vc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter valid Zip Code!(5-10 digits) "),i.Wb())}function zc(t,e){1&t&&(i.Xb(0,"h5",102),i.Tc(1,"Please enter valid Zip Code!(5-10 digits) "),i.Wb())}function qc(t,e){1&t&&(i.Xb(0,"mat-hint",101),i.Tc(1," Entered Zipcode is not exists "),i.Wb())}function Bc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Address Line 2 is Required! "),i.Wb())}function jc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Valid Address "),i.Wb())}function Uc(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Hc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Country is Required! "),i.Wb())}function Gc(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc("",t," ")}}function Yc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," City is Required! "),i.Wb())}function $c(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Mobile Number is Required! "),i.Wb())}function Qc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please, Enter 10 digit Mobile Number! "),i.Wb())}function Zc(t,e){1&t&&(i.Xb(0,"mat-error",103),i.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),i.Wb())}function Jc(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," E-mail is Required! "),i.Wb())}function Kc(t,e){1&t&&(i.Xb(0,"mat-error",103),i.Tc(1," \xa0 \xa0 Please Enter Correct Landline Number "),i.Wb())}function ts(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",56),i.Xb(1,"div",57),i.Xb(2,"div",15),i.Xb(3,"div",16),i.Xb(4,"div",17),i.Xb(5,"label"),i.Tc(6,"Is the applicant an existing customer?"),i.Wb(),i.Tc(7," \xa0\xa0\xa0\xa0 "),i.Xb(8,"mat-slide-toggle",58),i.fc("change",function(e){return i.Hc(t),i.jc(3).toggleChanges(e)}),i.Wb(),i.Sb(9,"div",59),i.Wb(),i.Xb(10,"div",17),i.Xb(11,"mat-form-field",19),i.Xb(12,"mat-label"),i.Tc(13,"Prefix*"),i.Wb(),i.Xb(14,"mat-select",60),i.fc("selectionChange",function(){i.Hc(t);const e=i.jc(3);return e.onChangeData(e.applicant.get("gender").value)}),i.Rc(15,ic,2,2,"mat-option",22),i.Wb(),i.Rc(16,oc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(17,"div",17),i.Xb(18,"mat-form-field",19),i.Xb(19,"mat-label"),i.Tc(20,"Middle Name"),i.Wb(),i.Xb(21,"input",61),i.fc("keypress",function(e){return i.Hc(t),i.jc(3).letterOnly(e)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"div",17),i.Xb(23,"mat-form-field",19),i.Xb(24,"mat-label"),i.Tc(25,"Date of Birth*"),i.Wb(),i.Sb(26,"input",62),i.Sb(27,"mat-datepicker-toggle",63),i.Rc(28,rc,2,0,"mat-error",23),i.Wb(),i.Sb(29,"mat-datepicker",null,64),i.Wb(),i.Xb(31,"div",17),i.Xb(32,"mat-form-field",19),i.Xb(33,"mat-label"),i.Tc(34,"Birth Country"),i.Wb(),i.Xb(35,"div",65),i.Xb(36,"div",66),i.Rc(37,cc,1,3,"div",67),i.Wb(),i.Wb(),i.Xb(38,"mat-select",68),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(3).onSelectionBirthCountry(e.value)}),i.Rc(39,sc,2,2,"mat-option",22),i.Wb(),i.Wb(),i.Rc(40,lc,2,0,"mat-error",23),i.Wb(),i.Xb(41,"div",17),i.Xb(42,"mat-form-field",19),i.Xb(43,"mat-label"),i.Tc(44,"Resident Status*"),i.Wb(),i.Xb(45,"mat-select",69),i.Rc(46,bc,2,2,"mat-option",22),i.Wb(),i.Rc(47,mc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(48,"div",17),i.Xb(49,"mat-form-field",19),i.Xb(50,"mat-label"),i.Tc(51,"Country of Residence"),i.Wb(),i.Xb(52,"div",65),i.Xb(53,"div",66),i.Rc(54,uc,1,3,"div",70),i.Wb(),i.Wb(),i.Xb(55,"mat-select",71),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(3).onSelectionCountryOfresidence(e.value)}),i.Rc(56,dc,2,2,"mat-option",22),i.Wb(),i.Wb(),i.Rc(57,pc,2,0,"mat-error",23),i.Wb(),i.Xb(58,"div",17),i.Xb(59,"mat-form-field",19),i.Xb(60,"mat-label"),i.Tc(61,"ID Type*"),i.Wb(),i.Xb(62,"mat-select",72),i.fc("selectionChange",function(){i.Hc(t);const e=i.jc(3);return e.changeIdType(e.applicant.get("idType").value)}),i.Rc(63,fc,2,2,"mat-option",22),i.Wb(),i.Rc(64,gc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Rc(65,vc,9,5,"div",73),i.Wb(),i.Xb(66,"div",24),i.Xb(67,"div",17),i.Xb(68,"label"),i.Tc(69,"Is the applicant a primary customer?"),i.Wb(),i.Tc(70," \xa0\xa0\xa0\xa0 "),i.Sb(71,"mat-slide-toggle",74),i.Sb(72,"div",59),i.Wb(),i.Xb(73,"div",17),i.Xb(74,"mat-form-field",19),i.Xb(75,"mat-label"),i.Tc(76,"First Name*"),i.Wb(),i.Xb(77,"input",75),i.fc("keypress",function(e){return i.Hc(t),i.jc(3).letterOnly(e)}),i.Wb(),i.Rc(78,Wc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(79,"div",17),i.Xb(80,"mat-form-field",19),i.Xb(81,"mat-label"),i.Tc(82,"Last Name*"),i.Wb(),i.Xb(83,"input",76),i.fc("keypress",function(e){return i.Hc(t),i.jc(3).letterOnly(e)}),i.Wb(),i.Rc(84,Xc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(85,"div",17),i.Xb(86,"mat-form-field",19),i.Xb(87,"mat-label"),i.Tc(88,"Gender*"),i.Wb(),i.Xb(89,"mat-select",77),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(3).onChangeData(e.value)}),i.Rc(90,yc,2,2,"mat-option",22),i.Wb(),i.Rc(91,xc,2,0,"mat-error",23),i.Rc(92,Cc,2,0,"mat-hint",78),i.Wb(),i.Wb(),i.Xb(93,"div",17),i.Xb(94,"mat-form-field",19),i.Xb(95,"mat-label"),i.Tc(96,"Birth Place*"),i.Wb(),i.Sb(97,"input",79),i.Rc(98,Ic,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(99,"div",17),i.Xb(100,"mat-form-field",19),i.Xb(101,"mat-label"),i.Tc(102,"Citizenship By"),i.Wb(),i.Xb(103,"div",65),i.Xb(104,"div",66),i.Rc(105,Oc,1,3,"div",70),i.Wb(),i.Wb(),i.Xb(106,"mat-select",80),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(3).onSelectionCitizenship(e.value)}),i.Rc(107,Ac,2,2,"mat-option",22),i.Wb(),i.Wb(),i.Rc(108,Dc,2,0,"mat-error",23),i.Wb(),i.Xb(109,"div",81),i.Xb(110,"mat-form-field",19),i.Xb(111,"mat-label"),i.Tc(112,"Marital Status*"),i.Wb(),i.Xb(113,"mat-select",82),i.Rc(114,Tc,2,2,"mat-option",22),i.Wb(),i.Rc(115,Sc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(116,"div",17),i.Xb(117,"mat-form-field",19),i.Xb(118,"mat-label"),i.Tc(119,"Occupation Type*"),i.Wb(),i.Sb(120,"input",83),i.Rc(121,kc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(122,"div",17),i.Xb(123,"mat-form-field",19),i.Xb(124,"mat-label"),i.Tc(125,"Unique ID Number *"),i.Wb(),i.Sb(126,"input",84),i.Rc(127,Mc,3,2,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(128,"mat-accordion"),i.Xb(129,"mat-expansion-panel",36),i.Xb(130,"mat-expansion-panel-header"),i.Xb(131,"mat-panel-title"),i.Tc(132,"Communication Address "),i.Wb(),i.Wb(),i.Xb(133,"div",15),i.Xb(134,"div",16),i.Xb(135,"div",17),i.Xb(136,"mat-form-field",19),i.Xb(137,"mat-label"),i.Tc(138,"Address Line 1*"),i.Wb(),i.Sb(139,"textarea",85),i.Rc(140,Ec,2,0,"mat-error",23),i.Rc(141,Pc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(142,"div",17),i.Xb(143,"mat-form-field",19),i.Xb(144,"mat-label"),i.Tc(145,"Residence Type*"),i.Wb(),i.Xb(146,"mat-select",86),i.Rc(147,Nc,2,2,"mat-option",22),i.Wb(),i.Rc(148,wc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(149,"div",17),i.Xb(150,"mat-form-field",19),i.Xb(151,"mat-label"),i.Tc(152,"State*"),i.Wb(),i.Xb(153,"mat-select",87),i.fc("selectionChange",function(){return i.Hc(t),i.jc(3).onStateChange()}),i.Rc(154,Fc,2,2,"mat-option",22),i.Wb(),i.Rc(155,Lc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(156,"div",17),i.Xb(157,"mat-form-field",19),i.Xb(158,"mat-label"),i.Tc(159,"Zip Code*"),i.Wb(),i.Xb(160,"input",88),i.fc("keypress",function(e){return i.Hc(t),i.jc(3).onKeyPress1(e)})("keyup",function(e){return i.Hc(t),i.jc(3).isAllSameDigit(e)})("change",function(e){i.Hc(t);const a=i.jc(3);return a.getCityandStateByZipcode(a.applicant.get("country").value,e.target.value)}),i.Wb(),i.Rc(161,Vc,2,0,"mat-error",23),i.Wb(),i.Rc(162,zc,2,0,"h5",89),i.Rc(163,qc,2,0,"mat-hint",78),i.Wb(),i.Wb(),i.Xb(164,"div",24),i.Xb(165,"div",17),i.Xb(166,"mat-form-field",19),i.Xb(167,"mat-label"),i.Tc(168,"Address Line 2*"),i.Wb(),i.Sb(169,"textarea",90),i.Rc(170,Bc,2,0,"mat-error",23),i.Rc(171,jc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(172,"div",17),i.Xb(173,"mat-form-field",19),i.Xb(174,"mat-label"),i.Tc(175,"Country*"),i.Wb(),i.Xb(176,"mat-select",91),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(3).getStateName(e.value,!0)}),i.Rc(177,Uc,2,2,"mat-option",22),i.Wb(),i.Rc(178,Hc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Xb(179,"div",17),i.Xb(180,"mat-form-field",19),i.Xb(181,"mat-label"),i.Tc(182,"City*"),i.Wb(),i.Xb(183,"mat-select",92),i.fc("selectionChange",function(){return i.Hc(t),i.jc(3).onCityChange()}),i.Rc(184,Gc,2,2,"mat-option",22),i.Wb(),i.Rc(185,Yc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(186,"mat-accordion"),i.Xb(187,"mat-expansion-panel",36),i.Xb(188,"mat-expansion-panel-header"),i.Xb(189,"mat-panel-title"),i.Tc(190,"Contact Information "),i.Wb(),i.Wb(),i.Xb(191,"div",15),i.Xb(192,"div",16),i.Xb(193,"div",17),i.Xb(194,"mat-form-field",19),i.Xb(195,"mat-label"),i.Tc(196,"Mobile Number*"),i.Wb(),i.Xb(197,"input",93),i.fc("keypress",function(e){return i.Hc(t),i.jc(3).onKeyPress1(e)}),i.Wb(),i.Rc(198,$c,2,0,"mat-error",23),i.Rc(199,Qc,2,0,"mat-error",23),i.Wb(),i.Rc(200,Zc,2,0,"mat-error",94),i.Wb(),i.Xb(201,"div",17),i.Xb(202,"mat-form-field",19),i.Xb(203,"mat-label"),i.Tc(204,"E-mail*"),i.Wb(),i.Sb(205,"input",95),i.Rc(206,Jc,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(207,"div",24),i.Xb(208,"div",17),i.Xb(209,"mat-form-field",19),i.Xb(210,"mat-label"),i.Tc(211,"Landline Number"),i.Wb(),i.Xb(212,"input",96),i.fc("keypress",function(e){return i.Hc(t),i.jc(3).onKeyPress1(e)}),i.Wb(),i.Wb(),i.Rc(213,Kc,2,0,"mat-error",94),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(214,"div",17),i.Xb(215,"button",97),i.fc("click",function(){return i.Hc(t),i.jc(3).onSubmit()}),i.Tc(216," UPDATE APPLICANT "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(30),e=i.jc(3);i.rc("formGroup",e.customerInfoForm),i.Eb(15),i.rc("ngForOf",e.arrayPrefix),i.Eb(1),i.rc("ngIf",e.applicant.get("prefix").hasError("required")),i.Eb(10),i.rc("matDatepicker",t)("max",e.tomorrow)("max",e.maxDate),i.Eb(1),i.rc("for",t),i.Eb(1),i.rc("ngIf",e.applicant.get("dateOfBirth").hasError("required")),i.Eb(9),i.rc("ngIf",e.birthCountryImage),i.Eb(2),i.rc("ngForOf",e.arrayCountry),i.Eb(1),i.rc("ngIf",e.applicant.get("birthCountry").hasError("required")),i.Eb(6),i.rc("ngForOf",e.arrayResidence),i.Eb(1),i.rc("ngIf",e.applicant.get("residenceStatus").hasError("required")),i.Eb(7),i.rc("ngIf",e.countryResidenceImage),i.Eb(2),i.rc("ngForOf",e.arrayCountry),i.Eb(1),i.rc("ngIf",!e.applicant.get("countryOfResidence").valid&&e.applicant.get("countryOfResidence").touched),i.Eb(6),i.rc("ngForOf",e.arrayDocumentType),i.Eb(1),i.rc("ngIf",e.applicant.get("idType").hasError("required")),i.Eb(1),i.rc("ngIf","Passport"==e.applicant.get("idType").value),i.Eb(13),i.rc("ngIf",e.applicant.get("firstName").hasError("required")),i.Eb(6),i.rc("ngIf",e.applicant.get("lastName").hasError("required")),i.Eb(6),i.rc("ngForOf",e.arrayGender),i.Eb(1),i.rc("ngIf",e.applicant.get("gender").hasError("required")),i.Eb(1),i.rc("ngIf",!e.prefixFlag),i.Eb(6),i.rc("ngIf",e.applicant.get("placeOfBirth").hasError("required")),i.Eb(7),i.rc("ngIf",e.citizenshipImage),i.Eb(2),i.rc("ngForOf",e.arrayCountry),i.Eb(1),i.rc("ngIf",e.applicant.get("nationality").hasError("required")),i.Eb(6),i.rc("ngForOf",e.maritalStatusList),i.Eb(1),i.rc("ngIf",e.applicant.get("maritalStatus").hasError("required")),i.Eb(6),i.rc("ngIf",e.applicant.get("occupationType").hasError("required")),i.Eb(6),i.rc("ngIf",e.applicant.get("idNumber").touched&&!e.applicant.get("idNumber").valid),i.Eb(13),i.rc("ngIf",e.applicant.get("address1").hasError("required")),i.Eb(1),i.rc("ngIf",e.applicant.get("address1").touched&&e.applicant.get("address1").hasError("pattern")),i.Eb(6),i.rc("ngForOf",e.arrayAddressType),i.Eb(1),i.rc("ngIf",e.applicant.get("addressType").hasError("required")),i.Eb(6),i.rc("ngForOf",e.arrayState),i.Eb(1),i.rc("ngIf",e.applicant.get("state").hasError("required")),i.Eb(6),i.rc("ngIf",e.applicant.get("zipCode").hasError("required")&&!e.applicant.controls.zipCode.valid&&(null==e.applicant.controls.zipCode?null:e.applicant.controls.zipCode.touched)),i.Eb(1),i.rc("ngIf",e.isAllSameDigitVal),i.Eb(1),i.rc("ngIf",!e.isZipValid),i.Eb(7),i.rc("ngIf",e.applicant.get("address2").hasError("required")),i.Eb(1),i.rc("ngIf",e.applicant.get("address2").touched&&e.applicant.get("address2").hasError("pattern")),i.Eb(6),i.rc("ngForOf",e.arrayCountry),i.Eb(1),i.rc("ngIf",e.applicant.get("country").hasError("required")),i.Eb(6),i.rc("ngForOf",e.arrayCity),i.Eb(1),i.rc("ngIf",e.applicant.get("city").hasError("required")),i.Eb(13),i.rc("ngIf",e.applicant.get("phoneNumber").hasError("required")),i.Eb(1),i.rc("ngIf",e.applicant.get("phoneNumber").hasError("pattern")),i.Eb(1),i.rc("ngIf","0000000000"==e.applicant.get("phoneNumber").value),i.Eb(6),i.rc("ngIf",e.applicant.get("primaryEmailAdress").hasError("required")),i.Eb(7),i.rc("ngIf","0000000000"==e.applicant.get("landlineNumber").value),i.Eb(2),i.rc("disabled",e.applicant.invalid)}}function es(t,e){if(1&t&&(i.Xb(0,"mat-expansion-panel",36),i.Xb(1,"mat-expansion-panel-header"),i.Xb(2,"mat-panel-title"),i.Xb(3,"mat-icon",37),i.Tc(4,"check_circle"),i.Wb(),i.Xb(5,"span",38),i.Tc(6),i.Wb(),i.Wb(),i.Wb(),i.Xb(7,"mat-card"),i.Xb(8,"mat-card-header",39),i.Xb(9,"div",40),i.Sb(10,"app-avatar-photo",41),i.Wb(),i.Xb(11,"mat-card-title"),i.Xb(12,"div",0),i.Xb(13,"h6",42),i.Tc(14),i.Wb(),i.Sb(15,"span",43),i.Rc(16,Zr,2,3,"mat-chip",44),i.Wb(),i.Wb(),i.Xb(17,"mat-card-subtitle"),i.Xb(18,"span",45),i.Tc(19),i.Wb(),i.Wb(),i.Xb(20,"div",46),i.Xb(21,"span",47),i.Rc(22,Jr,4,0,"ng-container",12),i.Rc(23,Kr,3,0,"ng-template",null,48,i.Sc),i.Rc(25,tc,3,0,"a",49),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"mat-card-container"),i.Rc(27,nc,2,4,"ng-container",23),i.Rc(28,ts,217,53,"ng-template",null,50,i.Sc),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit,a=e.index,n=i.Dc(24),o=i.jc(2);i.Eb(6),i.Vc("Applicant ",a+1,""),i.Eb(4),i.rc("name",t.firstName+" "+t.lastName),i.Eb(4),i.Uc(t.firstName+" "+t.lastName),i.Eb(2),i.rc("ngIf",t.primaryCustomer),i.Eb(3),i.Vc("CIF ",null!=t.cifNumber?"#"+t.cifNumber:"- n/a",""),i.Eb(3),i.rc("ngIf",(null==o.selectedApplicant?null:o.selectedApplicant._id)===t._id)("ngIfElse",n),i.Eb(3),i.rc("ngIf",t.dependentId),i.Eb(2),i.rc("ngIf",(null==o.selectedApplicant?null:o.selectedApplicant._id)===t._id)}}function as(t,e){1&t&&(i.Xb(0,"mat-icon",131),i.Tc(1,"check_circle"),i.Wb())}function ns(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," CIF Number is Required! "),i.Wb())}function is(t,e){1&t&&(i.Xb(0,"mat-hint",132),i.Tc(1,"Duplicate CIF Number"),i.Wb())}function os(t,e){1&t&&(i.Xb(0,"mat-hint",133),i.Tc(1," Enter valid CIF Number!"),i.Wb())}function rs(t,e){if(1&t&&(i.Xb(0,"div",142),i.Xb(1,"h3",143),i.Tc(2),i.kc(3,"uppercase"),i.kc(4,"slice"),i.Wb(),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(2),i.Vc(" ",i.lc(3,1,i.nc(4,3,null==t?null:t.firstName,0,1))," ")}}function cs(t,e){if(1&t&&(i.Xb(0,"div",144),i.Sb(1,"img",145),i.Wb()),2&t){const t=i.jc().$implicit;i.Eb(1),i.rc("src",null==t?null:t.profileImage,i.Jc)}}function ss(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Xb(1,"div",134),i.Xb(2,"div",135),i.Rc(3,rs,5,7,"div",136),i.Rc(4,cs,2,1,"div",137),i.Xb(5,"div",138),i.Xb(6,"h5",139),i.Tc(7),i.kc(8,"uppercase"),i.kc(9,"uppercase"),i.kc(10,"uppercase"),i.Wb(),i.Xb(11,"h6",140),i.Tc(12),i.Wb(),i.Wb(),i.Xb(13,"mat-icon",141),i.Tc(14,"keyboard_arrow_right"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.customerId),i.Eb(3),i.rc("ngIf","not_available"==(null==t?null:t.profileImage)),i.Eb(1),i.rc("ngIf","not_available"!=(null==t?null:t.profileImage)),i.Eb(3),i.Xc(" ",i.lc(8,7,null==t?null:t.firstName)," ",i.lc(9,9,null==t?null:t.middleName)," ",i.lc(10,11,null==t?null:t.lastName)," "),i.Eb(5),i.Vc("#",null==t?null:t.cifNumber,"")}}function ls(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," First Name is Required! "),i.Wb())}function bs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Last Name is Required! "),i.Wb())}function ms(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Date of Birth is Required! "),i.Wb())}function us(t,e){if(1&t&&i.Sb(0,"div"),2&t){const t=i.jc(3);i.Hb("currency-flag currency-flag-",t.birthCountryImage,"")}}function ds(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ps(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Country of Residence is Required! "),i.Wb())}function fs(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function gs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Resident Status is Required! "),i.Wb())}function hs(t,e){if(1&t&&i.Sb(0,"div"),2&t){const t=i.jc(3);i.Hb("currency-flag currency-flag-",t.countryResidenceImage,"")}}function vs(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ws(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Country of Residence is Required! "),i.Wb())}function Xs(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function ys(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 ID Type is Required! "),i.Wb())}function xs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Id Valid Till date is Required! "),i.Wb())}function Cs(t,e){if(1&t&&(i.Xb(0,"div",17),i.Xb(1,"div",18),i.Xb(2,"mat-form-field",19),i.Xb(3,"mat-label"),i.Tc(4,"ID Type Valid Till"),i.Wb(),i.Sb(5,"input",146),i.Xb(6,"div",147),i.Sb(7,"mat-datepicker-toggle",63),i.Sb(8,"mat-datepicker",null,100),i.Wb(),i.Rc(10,xs,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(9),e=i.jc(3);i.Eb(5),i.rc("matDatepicker",t)("min",e.minDate),i.Eb(2),i.rc("for",t),i.Eb(3),i.rc("ngIf",!e.applicant.get("expiryDate").valid&&e.applicant.get("expiryDate").touched)}}function Is(t,e){if(1&t&&(i.Xb(0,"div",109),i.Xb(1,"label"),i.Tc(2,"Is the applicant a primary customer?"),i.Wb(),i.Tc(3," \xa0\xa0\xa0\xa0 "),i.Sb(4,"mat-slide-toggle",148),i.Sb(5,"div",59),i.Wb()),2&t){const t=i.jc(3);i.Eb(4),i.rc("disabled",0==t.listOfAccounts.length)}}function Os(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function As(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Prefix is Required! "),i.Wb())}function Ds(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ts(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Gender is Required! "),i.Wb())}function Ss(t,e){1&t&&(i.Xb(0,"mat-hint",101),i.Tc(1," \xa0 Prefix and Gender does not match! "),i.Wb())}function ks(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Last Name is Required! "),i.Wb())}function _s(t,e){if(1&t&&i.Sb(0,"div"),2&t){const t=i.jc(3);i.Hb("currency-flag currency-flag-",t.citizenshipImage,"")}}function Rs(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Ms(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Citizenship is Required! "),i.Wb())}function Es(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc("",t," ")}}function Ps(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Marital Status is Required! "),i.Wb())}function Ns(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Occupation Type is Required! "),i.Wb())}function ws(t,e){1&t&&(i.Xb(0,"div"),i.Tc(1,"Unique ID is Required!"),i.Wb())}function Fs(t,e){1&t&&(i.Xb(0,"div"),i.Tc(1,"This is a alphanumeric field "),i.Wb())}function Ls(t,e){if(1&t&&(i.Xb(0,"mat-error"),i.Rc(1,ws,2,0,"div",23),i.Rc(2,Fs,2,0,"div",23),i.Wb()),2&t){const t=i.jc(3);i.Eb(1),i.rc("ngIf",t.applicant.get("idNumber").hasError("required")),i.Eb(1),i.rc("ngIf",t.applicant.get("idNumber").hasError("pattern"))}}function Vs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Address Line 1 is Required!"),i.Wb())}function zs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Valid Address "),i.Wb())}function qs(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Bs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Residence Type is Required! "),i.Wb())}function js(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Valid Zip Code is Required!(5-10 digits) "),i.Wb())}function Us(t,e){1&t&&(i.Xb(0,"mat-hint",101),i.Tc(1," Entered Zipcode is not exists "),i.Wb())}function Hs(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Uc(t)}}function Gs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 City is Required! "),i.Wb())}function Ys(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Address Line 2 is Required!"),i.Wb())}function $s(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Valid Address "),i.Wb())}function Qs(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Zs(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 City is Required! "),i.Wb())}function Js(t,e){if(1&t&&(i.Xb(0,"mat-option",34),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.stateName),i.Eb(1),i.Vc("",t.stateName," ")}}function Ks(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 State is Required! "),i.Wb())}function tl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please, Enter 10 digit Mobile Number! "),i.Wb())}function el(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),i.Wb())}function al(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," E-mail is Required! "),i.Wb())}function nl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0 \xa0 Please Enter Correct Landline Number "),i.Wb())}function il(t,e){if(1&t){const t=i.Yb();i.Xb(0,"a",97),i.fc("click",function(){return i.Hc(t),i.jc(3).onSubmit()}),i.Tc(1," ADD APPLICANT "),i.Wb()}if(2&t){const t=i.jc(3);i.rc("disabled",t.applicant.invalid||t.isDuplicateCIF||!t.isZipValid||!t.prefixFlag)}}function ol(t,e){if(1&t){const t=i.Yb();i.Xb(0,"a",149),i.fc("click",function(){return i.Hc(t),i.jc(3).onSubmit()}),i.Tc(1," ADD APPLICANT "),i.Wb()}}function rl(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",104),i.Xb(1,"mat-accordion"),i.Xb(2,"mat-expansion-panel",105),i.Xb(3,"mat-expansion-panel-header",106),i.Xb(4,"mat-panel-title",107),i.Tc(5,"Create New Applicant "),i.Wb(),i.Wb(),i.Sb(6,"mat-divider",108),i.Xb(7,"div",57),i.Xb(8,"div",15),i.Xb(9,"div",16),i.Xb(10,"div",109),i.Xb(11,"label"),i.Tc(12,"Is the applicant an existing customer? "),i.Wb(),i.Tc(13," \xa0\xa0\xa0\xa0 "),i.Xb(14,"mat-slide-toggle",110),i.fc("change",function(e){return i.Hc(t),i.jc(2).toggleChanges(e)})("ngModelChange",function(e){return i.Hc(t),i.jc(2).isChecked=e}),i.Wb(),i.Sb(15,"div",59),i.Wb(),i.Xb(16,"div",17),i.Xb(17,"div",111),i.Xb(18,"div",112),i.Xb(19,"div",18),i.Xb(20,"mat-form-field",19),i.Xb(21,"mat-label"),i.Tc(22,"CIF Number"),i.Wb(),i.Xb(23,"input",113),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("change",function(){i.Hc(t);const e=i.jc(2);return e.fetchByCif(e.applicant.get("cifNumber").value,e.applicant.get("existingCustomer").value)})("keyup",function(e){return i.Hc(t),i.jc(2).onKeyPress(e)}),i.Wb(),i.Rc(24,as,2,0,"mat-icon",114),i.Rc(25,ns,2,0,"mat-error",23),i.Rc(26,is,2,0,"mat-hint",115),i.Rc(27,os,2,0,"mat-hint",116),i.Wb(),i.Wb(),i.Xb(28,"div"),i.Xb(29,"mat-autocomplete",null,117),i.Rc(31,ss,15,13,"mat-option",22),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(32,"div",17),i.Xb(33,"div",18),i.Xb(34,"mat-form-field",19),i.Xb(35,"mat-label"),i.Tc(36,"First Name"),i.Wb(),i.Xb(37,"input",75),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Rc(38,ls,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(39,"div",17),i.Xb(40,"div",18),i.Xb(41,"mat-form-field",19),i.Xb(42,"mat-label"),i.Tc(43,"Last Name*"),i.Wb(),i.Xb(44,"input",76),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Rc(45,bs,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",17),i.Xb(47,"div",18),i.Xb(48,"mat-form-field",19),i.Xb(49,"mat-label"),i.Tc(50,"Date of Birth*"),i.Wb(),i.Sb(51,"input",62),i.Sb(52,"mat-datepicker-toggle",63),i.Sb(53,"mat-datepicker",null,64),i.Rc(55,ms,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(56,"div",17),i.Xb(57,"div",18),i.Xb(58,"mat-form-field",19),i.Xb(59,"mat-label"),i.Tc(60,"Birth Country"),i.Wb(),i.Xb(61,"div",65),i.Xb(62,"div",66),i.Rc(63,us,1,3,"div",70),i.Wb(),i.Wb(),i.Xb(64,"mat-select",118),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).onSelectionBirthCountry(e.value)}),i.Rc(65,ds,2,2,"mat-option",22),i.Wb(),i.Rc(66,ps,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(67,"div",17),i.Xb(68,"div",18),i.Xb(69,"mat-form-field",19),i.Xb(70,"mat-label"),i.Tc(71,"Resident Status*"),i.Wb(),i.Xb(72,"mat-select",69),i.Xb(73,"mat-option",21),i.Tc(74,"Select"),i.Wb(),i.Rc(75,fs,2,2,"mat-option",22),i.Wb(),i.Rc(76,gs,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(77,"div",17),i.Xb(78,"div",18),i.Xb(79,"mat-form-field",19),i.Xb(80,"mat-label"),i.Tc(81,"Country of Residence"),i.Wb(),i.Xb(82,"div",65),i.Xb(83,"div",66),i.Rc(84,hs,1,3,"div",70),i.Wb(),i.Wb(),i.Xb(85,"mat-select",119),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).onSelectionCountryOfresidence(e.value)}),i.Rc(86,vs,2,2,"mat-option",22),i.Wb(),i.Rc(87,Ws,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(88,"div",17),i.Xb(89,"div",18),i.Xb(90,"mat-form-field",19),i.Xb(91,"mat-label"),i.Tc(92,"ID Type*"),i.Wb(),i.Xb(93,"mat-select",72),i.fc("selectionChange",function(){i.Hc(t);const e=i.jc(2);return e.changeIdType(e.applicant.get("idType").value)}),i.Xb(94,"mat-option",21),i.Tc(95,"Select"),i.Wb(),i.Rc(96,Xs,2,2,"mat-option",22),i.Wb(),i.Rc(97,ys,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Rc(98,Cs,11,4,"div",73),i.Wb(),i.Xb(99,"div",24),i.Rc(100,Is,6,1,"div",120),i.Xb(101,"div",121),i.Xb(102,"div",18),i.Xb(103,"mat-form-field",19),i.Xb(104,"mat-label"),i.Tc(105,"Customer Prefix*"),i.Wb(),i.Xb(106,"mat-select",60),i.fc("selectionChange",function(){i.Hc(t);const e=i.jc(2);return e.onChangeData(e.applicant.get("gender").value)}),i.Xb(107,"mat-option",21),i.Tc(108,"Select"),i.Wb(),i.Rc(109,Os,2,2,"mat-option",22),i.Wb(),i.Rc(110,As,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(111,"div",17),i.Xb(112,"div",18),i.Xb(113,"mat-form-field",19),i.Xb(114,"mat-label"),i.Tc(115,"Middle Name"),i.Wb(),i.Xb(116,"input",61),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).letterOnly(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(117,"div",17),i.Xb(118,"div",18),i.Xb(119,"mat-form-field",19),i.Xb(120,"mat-label"),i.Tc(121,"Gender*"),i.Wb(),i.Xb(122,"mat-select",77),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).onChangeData(e.value)}),i.Xb(123,"mat-option",21),i.Tc(124,"Select"),i.Wb(),i.Rc(125,Ds,2,2,"mat-option",22),i.Wb(),i.Rc(126,Ts,2,0,"mat-error",23),i.Rc(127,Ss,2,0,"mat-hint",78),i.Wb(),i.Wb(),i.Wb(),i.Xb(128,"div",17),i.Xb(129,"div",18),i.Xb(130,"mat-form-field",19),i.Xb(131,"mat-label"),i.Tc(132,"Birth Place*"),i.Wb(),i.Sb(133,"input",122),i.Rc(134,ks,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(135,"div",17),i.Xb(136,"div",18),i.Xb(137,"mat-form-field",19),i.Xb(138,"mat-label"),i.Tc(139,"Citizenship By"),i.Wb(),i.Xb(140,"div",65),i.Xb(141,"div",66),i.Rc(142,_s,1,3,"div",70),i.Wb(),i.Wb(),i.Xb(143,"mat-select",123),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).onSelectionCitizenship(e.value)}),i.Rc(144,Rs,2,2,"mat-option",22),i.Wb(),i.Rc(145,Ms,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(146,"div",17),i.Xb(147,"div",18),i.Xb(148,"mat-form-field",19),i.Xb(149,"mat-label"),i.Tc(150,"Marital Status"),i.Wb(),i.Xb(151,"mat-select",124),i.Xb(152,"mat-option",21),i.Tc(153,"Select"),i.Wb(),i.Rc(154,Es,2,2,"mat-option",22),i.Wb(),i.Rc(155,Ps,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(156,"div",17),i.Xb(157,"div",18),i.Xb(158,"mat-form-field",19),i.Xb(159,"mat-label"),i.Tc(160,"Occupation Type*"),i.Wb(),i.Sb(161,"input",125),i.Rc(162,Ns,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(163,"div",17),i.Xb(164,"div",18),i.Xb(165,"mat-form-field",19),i.Xb(166,"mat-label"),i.Tc(167,"Unique ID *"),i.Wb(),i.Xb(168,"input",126),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).keyPressAlphanumeric(e)}),i.Wb(),i.Rc(169,Ls,3,2,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(170,"mat-accordion"),i.Xb(171,"mat-expansion-panel",36),i.Xb(172,"mat-card-title"),i.Xb(173,"fieldset",25),i.Xb(174,"legend",8),i.Tc(175,"Communication Address"),i.Wb(),i.Wb(),i.Wb(),i.Xb(176,"div",15),i.Xb(177,"div",24),i.Xb(178,"div",17),i.Xb(179,"div",18),i.Xb(180,"mat-form-field",19),i.Xb(181,"mat-label"),i.Tc(182,"Address Line 1*"),i.Wb(),i.Sb(183,"textarea",85),i.Rc(184,Vs,2,0,"mat-error",23),i.Rc(185,zs,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(186,"div",17),i.Xb(187,"div",18),i.Xb(188,"mat-form-field",19),i.Xb(189,"mat-label"),i.Tc(190,"Residence Type*"),i.Wb(),i.Xb(191,"mat-select",86),i.Xb(192,"mat-option",21),i.Tc(193,"Select"),i.Wb(),i.Rc(194,qs,2,2,"mat-option",22),i.Wb(),i.Rc(195,Bs,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(196,"div",17),i.Xb(197,"div",18),i.Xb(198,"mat-form-field",19),i.Xb(199,"mat-label"),i.Tc(200,"Zip Code*"),i.Wb(),i.Xb(201,"input",127),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).onKeyPress1(e)})("change",function(e){i.Hc(t);const a=i.jc(2);return a.getCityandStateByZipcode(a.applicant.get("country").value,e.target.value)})("keyup",function(e){return i.Hc(t),i.jc(2).isAllSameDigit(e)}),i.Wb(),i.Rc(202,js,2,0,"mat-error",23),i.Wb(),i.Rc(203,Us,2,0,"mat-hint",78),i.Wb(),i.Wb(),i.Xb(204,"div",17),i.Xb(205,"div",18),i.Xb(206,"mat-form-field",19),i.Xb(207,"mat-label"),i.Tc(208,"City*"),i.Wb(),i.Xb(209,"mat-select",92),i.fc("selectionChange",function(){return i.Hc(t),i.jc(2).onCityChange()}),i.Xb(210,"mat-option",21),i.Tc(211,"Select"),i.Wb(),i.Rc(212,Hs,2,2,"mat-option",22),i.Wb(),i.Rc(213,Gs,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(214,"div",24),i.Xb(215,"div",17),i.Xb(216,"div",18),i.Xb(217,"mat-form-field",19),i.Xb(218,"mat-label"),i.Tc(219,"Address Line 2*"),i.Wb(),i.Sb(220,"textarea",90),i.Rc(221,Ys,2,0,"mat-error",23),i.Rc(222,$s,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(223,"div",17),i.Xb(224,"div",18),i.Xb(225,"mat-form-field",19),i.Xb(226,"mat-label"),i.Tc(227,"Country*"),i.Wb(),i.Xb(228,"mat-select",128),i.fc("selectionChange",function(e){return i.Hc(t),i.jc(2).getStateName(e.value,!0)}),i.Xb(229,"mat-option",21),i.Tc(230,"Select"),i.Wb(),i.Rc(231,Qs,2,2,"mat-option",22),i.Wb(),i.Rc(232,Zs,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(233,"div",17),i.Xb(234,"div",18),i.Xb(235,"mat-form-field",19),i.Xb(236,"mat-label"),i.Tc(237,"State*"),i.Wb(),i.Xb(238,"mat-select",87),i.fc("selectionChange",function(){return i.Hc(t),i.jc(2).onStateChange()}),i.Xb(239,"mat-option",21),i.Tc(240,"Select"),i.Wb(),i.Rc(241,Js,2,2,"mat-option",22),i.Wb(),i.Rc(242,Ks,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(243,"mat-accordion"),i.Xb(244,"mat-expansion-panel",36),i.Xb(245,"mat-card-title"),i.Xb(246,"fieldset",25),i.Xb(247,"legend",8),i.Tc(248,"Contact Information"),i.Wb(),i.Wb(),i.Wb(),i.Xb(249,"div",15),i.Xb(250,"div",16),i.Xb(251,"div",17),i.Xb(252,"div",18),i.Xb(253,"mat-form-field",19),i.Xb(254,"mat-label"),i.Tc(255,"Mobile Number*"),i.Wb(),i.Xb(256,"input",93),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).onKeyPress1(e)}),i.Wb(),i.Rc(257,tl,2,0,"mat-error",23),i.Rc(258,el,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(259,"div",17),i.Xb(260,"div",18),i.Xb(261,"mat-form-field",19),i.Xb(262,"mat-label"),i.Tc(263,"E-mail*"),i.Wb(),i.Sb(264,"input",95),i.Rc(265,al,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(266,"div",24),i.Xb(267,"div",17),i.Xb(268,"div",18),i.Xb(269,"mat-form-field",19),i.Xb(270,"mat-label"),i.Tc(271,"Landline Number"),i.Wb(),i.Xb(272,"input",96),i.fc("keypress",function(e){return i.Hc(t),i.jc(2).onKeyPress1(e)}),i.Wb(),i.Rc(273,nl,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(274,"div",17),i.Xb(275,"div",17),i.Rc(276,il,2,1,"a",129),i.Rc(277,ol,2,0,"ng-template",null,130,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(30),e=i.Dc(54),a=i.Dc(278),n=i.jc(2);i.Eb(2),i.rc("expanded",n.customerInfoForm.get("numOfApplicants").value!==n.listOfAccounts.length),i.Eb(12),i.rc("ngModel",n.isChecked)("disabled",n.disabled),i.Eb(9),i.rc("readonly",1!=n.applicant.get("existingCustomer").value)("formControl",n.cifNumberForm)("matAutocomplete",t),i.Eb(1),i.rc("ngIf",n.isCifValid),i.Eb(1),i.rc("ngIf",n.applicant.get("cifNumber").hasError("required")&&!n.applicant.get("cifNumber").valid&&n.applicant.get("cifNumber").touched&&!n.isCifValid),i.Eb(1),i.rc("ngIf",n.isDuplicateCIF),i.Eb(1),i.rc("ngIf",!n.isCifValid&&n.onbackSpace),i.Eb(4),i.rc("ngForOf",n.listOfCustByCif),i.Eb(7),i.rc("ngIf",!n.applicant.get("firstName").valid&&n.applicant.get("firstName").touched),i.Eb(7),i.rc("ngIf",!n.applicant.get("lastName").valid&&n.applicant.get("lastName").touched),i.Eb(6),i.rc("matDatepicker",e)("max",n.tomorrow)("max",n.maxDate),i.Eb(1),i.rc("for",e),i.Eb(3),i.rc("ngIf",!n.applicant.get("dateOfBirth").valid&&n.applicant.get("dateOfBirth").touched),i.Eb(8),i.rc("ngIf",n.birthCountryImage),i.Eb(2),i.rc("ngForOf",n.arrayCountry),i.Eb(1),i.rc("ngIf",!n.applicant.get("countryOfResidence").valid&&n.applicant.get("countryOfResidence").touched),i.Eb(9),i.rc("ngForOf",n.arrayResidence),i.Eb(1),i.rc("ngIf",!n.applicant.get("residenceStatus").valid&&n.applicant.get("residenceStatus").touched),i.Eb(8),i.rc("ngIf",n.countryResidenceImage),i.Eb(2),i.rc("ngForOf",n.arrayCountry),i.Eb(1),i.rc("ngIf",!n.applicant.get("countryOfResidence").valid&&n.applicant.get("countryOfResidence").touched),i.Eb(9),i.rc("ngForOf",n.arrayDocumentType),i.Eb(1),i.rc("ngIf",!n.applicant.get("idType").valid&&n.applicant.get("idType").touched),i.Eb(1),i.rc("ngIf","Passport"==n.applicant.get("idType").value),i.Eb(2),i.rc("ngIf",0==n.listOfAccounts.length),i.Eb(9),i.rc("ngForOf",n.arrayPrefix),i.Eb(1),i.rc("ngIf",!n.applicant.get("prefix").valid&&n.applicant.get("prefix").touched),i.Eb(15),i.rc("ngForOf",n.arrayGender),i.Eb(1),i.rc("ngIf",!n.applicant.get("gender").valid&&n.applicant.get("gender").touched),i.Eb(1),i.rc("ngIf",!n.prefixFlag),i.Eb(7),i.rc("ngIf",!n.applicant.get("placeOfBirth").valid&&n.applicant.get("placeOfBirth").touched),i.Eb(8),i.rc("ngIf",n.citizenshipImage),i.Eb(2),i.rc("ngForOf",n.arrayCountry),i.Eb(1),i.rc("ngIf",!n.applicant.get("nationality").valid&&n.applicant.get("nationality").touched),i.Eb(9),i.rc("ngForOf",n.maritalStatusList),i.Eb(1),i.rc("ngIf",!n.applicant.get("maritalStatus").valid&&n.applicant.get("maritalStatus").touched),i.Eb(7),i.rc("ngIf",!n.applicant.get("occupationType").valid&&n.applicant.get("occupationType").touched),i.Eb(7),i.rc("ngIf",n.applicant.get("idNumber").touched&&!n.applicant.get("idNumber").valid),i.Eb(15),i.rc("ngIf",!n.applicant.get("address1").valid&&n.applicant.get("address1").touched&&n.applicant.get("address1").hasError("required")),i.Eb(1),i.rc("ngIf",n.applicant.get("address1").touched&&n.applicant.get("address1").hasError("pattern")),i.Eb(9),i.rc("ngForOf",n.arrayAddressType),i.Eb(1),i.rc("ngIf",!n.applicant.get("addressType").valid&&n.applicant.get("addressType").touched),i.Eb(7),i.rc("ngIf",!n.applicant.controls.zipCode.valid&&(null==n.applicant.controls.zipCode?null:n.applicant.controls.zipCode.touched)),i.Eb(1),i.rc("ngIf",!n.isZipValid),i.Eb(9),i.rc("ngForOf",n.arrayCity),i.Eb(1),i.rc("ngIf",!n.applicant.get("city").valid&&n.applicant.get("city").touched),i.Eb(8),i.rc("ngIf",!n.applicant.get("address2").valid&&n.applicant.get("address2").touched&&n.applicant.get("address2").hasError("required")),i.Eb(1),i.rc("ngIf",n.applicant.get("address2").touched&&n.applicant.get("address2").hasError("pattern")),i.Eb(9),i.rc("ngForOf",n.arrayCountry),i.Eb(1),i.rc("ngIf",!n.applicant.get("country").valid&&n.applicant.get("country").touched),i.Eb(9),i.rc("ngForOf",n.arrayState),i.Eb(1),i.rc("ngIf",!n.applicant.get("state").valid&&n.applicant.get("state").touched),i.Eb(15),i.rc("ngIf",!n.applicant.get("phoneNumber").valid&&n.applicant.get("phoneNumber").touched),i.Eb(1),i.rc("ngIf","0000000000"==n.applicant.get("phoneNumber").value),i.Eb(7),i.rc("ngIf",!n.applicant.get("primaryEmailAdress").valid&&n.applicant.get("primaryEmailAdress").touched),i.Eb(8),i.rc("ngIf","0000000000"==n.applicant.get("landlineNumber").value),i.Eb(3),i.rc("ngIf",n.applicant.invalid||n.isDuplicateCIF||n.disableSaveBtn||!n.isZipValid||!n.prefixFlag)("ngIfElse",a)}}function cl(t,e){if(1&t&&(i.Xb(0,"form",14),i.Xb(1,"div",15),i.Xb(2,"div",16),i.Xb(3,"div",17),i.Xb(4,"div",18),i.Xb(5,"mat-form-field",19),i.Xb(6,"mat-label"),i.Tc(7,"Ownership*"),i.Wb(),i.Xb(8,"mat-select",20),i.Xb(9,"mat-option",21),i.Tc(10,"Select"),i.Wb(),i.Rc(11,Yr,2,2,"mat-option",22),i.Wb(),i.Rc(12,$r,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(13,"div",24),i.Xb(14,"div",17),i.Rc(15,Qr,18,5,"ng-container",12),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"mat-card-title"),i.Xb(17,"fieldset",25),i.Xb(18,"legend",8),i.Tc(19,"Details Of The Applicant"),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",26),i.Xb(21,"div",27),i.Xb(22,"p",28),i.Tc(23),i.Wb(),i.Sb(24,"mat-progress-bar",29),i.Xb(25,"mat-hint"),i.Xb(26,"small"),i.Tc(27," completed / total applicants "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(28,"div",30),i.Xb(29,"mat-accordion",31),i.Rc(30,es,30,9,"mat-expansion-panel",32),i.Wb(),i.Wb(),i.Rc(31,rl,279,63,"div",33),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.customerInfoForm),i.Eb(11),i.rc("ngForOf",t.arrayOwnership),i.Eb(1),i.rc("ngIf",t.customerInfoForm.get("ownership").hasError("required")),i.Eb(3),i.rc("ngIf","Joint"==t.customerInfoForm.get("ownership").value)("ngIfElse",t.showAdd),i.Eb(8),i.Wc("Completed ",t.listOfAccounts.length," / ",t.customerInfoForm.get("numOfApplicants").value,""),i.Eb(1),i.rc("color",t.customerInfoForm.get("numOfApplicants").value===t.listOfAccounts.length?"primary":"accent")("value",t.customerInfoForm.get("numOfApplicants").value===t.listOfAccounts.length?100:50),i.Eb(6),i.rc("ngForOf",t.listOfAccounts),i.Eb(1),i.rc("ngIf",t.customerInfoForm.get("numOfApplicants").value!==t.listOfAccounts.length)}}function sl(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",150),i.fc("click",function(){return i.Hc(t),i.jc().goToNext()}),i.Tc(2," Next "),i.Wb(),i.Ub()}if(2&t){const t=i.jc();i.Eb(1),i.rc("disabled",t.customerInfoForm.get("numOfApplicants").value===t.listOfAccounts.length?"false":"true")}}function ll(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",150),i.fc("click",function(){return i.Hc(t),i.jc().goToNext()}),i.Tc(1," Next "),i.Wb()}if(2&t){const t=i.jc();i.rc("disabled",t.customerInfoForm.get("numOfApplicants").value===t.listOfAccounts.length?"false":"true")}}let bl=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s,l,b,m,u,d,p,f,g,h){this.router=t,this.dialog=e,this.route=a,this.accountService=n,this.elRef=i,this.api=o,this.renderer=r,this.ls=c,this.apiService=s,this.formBuilder=l,this.confirmService=b,this.cdr=m,this.appApiService=u,this.snack=d,this.dialogService=p,this.dataService=f,this.urlService=g,this.loader=h,this.cifNumberForm=new V.g,this.listOfCustByCif=[],this.submitted=!1,this.formData={},this.console=console,this.customerIdProofs=[],this.arrayPrefix=[],this.arrayGender=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayAddressType=[],this.applicantDetailsArray=[],this.toggle=!1,this.customerDetails={},this.applicantDetails=[],this.showEditOption=!1,this.tomorrow=new Date,this.maxDate=new Date,this.minDate=new Date,this.validDate=new Date,this.showNewForm=!0,this.isCifValid=!1,this.toggleClick=!1,this.isAccountOpenScreen=!1,this.previousUrl="",this.addFunc=!0,this.removedButton=!1,this.selectedApplicant=null,this.listOfAccounts=[],this.isAllSameDigitVal=!1,this.isBirthCountry=!1,this.prefixFlag=!1,this.isZipValid=!1,this.tomorrow.setDate(this.tomorrow.getDate()),this.validDate.setDate(this.validDate.getDate())}ngOnInit(){this.console.log(this.i),this.loanaccountID=this.ls.getItem("loanAccountId"),this.accountId=this.ls.getItem("accountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.productName=this.ls.getItem("productName"),this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.prefixFlag=!0,this.isZipValid=!0,console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),console.log("applicantId",this.route.snapshot.params.id),this.isAccountOpenScreen=JSON.parse(this.ls.getItem("CUSTOMERINFO_DETAIL_DONE")),this.cifNumberPrimary=this.ls.getItem("CIF_NUM_PRIMARY"),console.log("check if",this.loanaccountID,this.isAccountOpenScreen),this.buildCustomerForm(),this.getListOfAccounts(),this.getOwnershipValue("ownership"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getAllAuthCities(),this.getAdressType("address_type"),this.getDocumentType("document_type"),this.getMaritalStatus("maritial_Status"),this.isChecked=!0,this.disabled=!0,this.disabledToggle=!0,setTimeout(()=>{null!=this.loanaccountID&&this.isAccountOpenScreen&&(this.showEditOption=!0,this.getCustomerInformationDetails(),this.getListOfAccounts(),this.dataExtracted())},10),this.customerInfoForm.get("ownership").valueChanges.subscribe(t=>{console.log("ownership ?",t),"Joint"==t?this.customerInfoForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}):this.customerInfoForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1})})}dataExtracted(){this.ownershipStatus=this.ls.getItem("ownership_value"),console.log("ownership ?",this.ownershipStatus),"Joint"==this.ownershipStatus?(console.log("calling"),this.customerInfoForm.get("numOfApplicants").setValue(2)):this.customerInfoForm.get("numOfApplicants").setValue(1),this.noOfapplicants=this.ls.getItem("LoanNoOfApplicants"),this.console.log(this.noOfapplicants),1==this.noOfapplicants?this.customerInfoForm.get("ownership").setValue("Self"):this.customerInfoForm.get("ownership").setValue("Joint"),this.applicant.get("idType").valueChanges.pipe(Object(jr.a)()).subscribe(([t,e])=>{this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue("")}),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t}),this.accountService.refresh.subscribe(t=>{this.isAccountOpenScreen=JSON.parse(this.ls.getItem("CUSTOMERINFO_DETAIL_DONE")),this.cdr.markForCheck()}),this.cifNumber=this.ls.getItem("CIF_NUM_PRIMARY"),this.console.log("cifNumber=",this.cifNumber)}onKeyPress1(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),console.log(t.target.value),clearTimeout(this.timer),t.target.value||(this.listOfCustByCif=[])}onKeyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault(),console.log(t.target.value),clearTimeout(this.timer),t.target.value?this.timer=setTimeout(()=>{this.appApiService.fetchByCif(t.target.value).subscribe(t=>{console.log(t.cifNumber),t&&(this.listOfCustByCif=t.customerInfoList)})},1e3):(this.isCifValid=!1,this.applicant.reset(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity(),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0),this.listOfCustByCif=[])}onChangeData(t){let e=this.applicant.value.prefix;e&&this.applicant.value.gender&&("Mr"==e&&"Male"==t||("Ms"==e||"Mrs"==e)&&"Female"==t?this.prefixFlag=!0:(this.prefixFlag=!1,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})))}changeIdType(t){console.log("doc::",t),console.log("this.customerIdProofs::",this.customerIdProofs);let e=this.customerIdProofs.filter(e=>e.idType==t);console.log("idProofs::",e),e.length>0?(this.applicant.get("idNumber").patchValue(e[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(e[0].expiryDate))):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}isObjectEmpty(t){return"[object Object]"===Object.prototype.toString.call(t)&&"{}"===JSON.stringify(t)}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}toggleDetails(t){let e;console.log("customerId incomming",t),this.customerInfoForm.get("numOfApplicants").disable({onlySelf:!0,emitEvent:!1}),this.console.log(t.userAddress.length),e=t.userAddress.length>1?t.userAddress.find(t=>"Permanent"==t.addressType):t.userAddress[0],this.getStateName(e.country);let a={existingCustomer:t.existingCustomer,dependentId:t.dependentId,primaryCustomer:t.primaryCustomer,cifNumber:t.cifNumber,prefix:t.prefix,firstName:t.firstName,middleName:t.middleName,lastName:t.lastName,gender:t.gender,dateOfBirth:t.dateOfBirth,placeOfBirth:t.placeOfBirth,birthCountry:t.birthCountry,maritalStatus:t.maritalStatus,residenceStatus:t.residenceStatus,nationality:t.nationality,countryOfResidence:t.countryOfResidence,occupationType:t.occupationType,idType:t.custIdProofs[0].idType,idNumber:t.custIdProofs[0].idNumber,expiryDate:t.custIdProofs[0].expiryDate,addressType:e.addressType,address1:e.address1,address2:e.address2,city:e.city,state:e.state,country:e.country,zipCode:e.zipCode,phoneNumber:t.phoneNumber,landlineNumber:t.landlineNumber,primaryEmailAdress:t.primaryEmailAdress};this.onSelectionCountryOfresidence(a.countryOfResidence),this.onSelectionBirthCountry(a.birthCountry),this.onSelectionCitizenship(a.nationality),console.log("account.firstName=",t.firstName),this.selectedApplicant=t,console.log("payLoadModel",a),this.applicant.patchValue(a,{onlySelf:!1,emitEvent:!1}),this.cdr.markForCheck()}resetAndClose(){this.closeDetails()}closeDetails(){this.selectedApplicant=null,this.applicant.reset(),this.customerInfoForm.get("numOfApplicants").enable({onlySelf:!0})}getListOfAccounts(){this.isBirthCountry=!1,this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(t=>{if(this.listOfAccounts=200==t.status?t.data.map(t=>Object.assign(Object.assign({},t),{_id:Math.round(1e10*Math.random())})):[],this.console.log(" this.listOfAccounts",this.listOfAccounts),console.log("All Customer Details",this.listOfAccounts.length),200==t.status&&this.ls.setItem("cId",t.data[0].customerId),console.log("Length check??",this.listOfAccounts.length),0==this.listOfAccounts.length)this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0);else if(1==this.listOfAccounts.length)this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!1);else if(this.listOfAccounts.length>=2){this.customerInfoForm.get("ownership").patchValue("Joint"),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!1);for(let e=0;e<t.data.length;e++)this.customerInfoForm.get("numOfApplicants").patchValue(t.data[e].numOfApplicants)}this.cdr.markForCheck(),this.toggleChanges()},t=>{})}removeApplicant(t){this.confirmService.confirm({title:"Confirm",message:"Are you sure want to delete?",ok:"Yes",cancel:"No"}).subscribe(e=>{console.log("res:: removed ",e),e&&this.appApiService.deleteApplicant(t.customerId,t.dependentId).subscribe(t=>{},e=>{console.log(e),200==e.status&&(this.snack.open(`Dependent ${t.firstName} ${e.error.text}!`,"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.getListOfAccounts())})})}fetchByCif(t,e){this.listOfAccounts.some(e=>e.cifNumber==t)?(this.isDuplicateCIF=!0,this.disableSaveBtn=!0,this.snack.open("Duplicate CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})):(this.isDuplicateCIF=!1,this.disableSaveBtn=!1,t&&this.appApiService.fetchByCif(t).subscribe(a=>{if(console.log(a),!a)return this.isCifValid=!1,this.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void this.applicant.get("cifNumber").patchValue("");a&&(this.isCifValid=!0,this.api.fetchAccountIdByCustId(t).subscribe(t=>{if(console.log(t),t){let t;this.ls.setItem("cId",a.customerInfoList[0].customerId),this.console.log(a.customerInfoList[0].userAddress.length),a.customerInfoList[0].userAddress.length>1?(t=a.customerInfoList[0].userAddress.find(t=>"Permanent"==t.addressType),console.log(t)):(t=a.customerInfoList[0].userAddress[0],console.log(t)),this.getStateName(t.country);let n={prefix:a.customerInfoList[0].prefix,cifNumber:a.customerInfoList[0].cifNumber,existingCustomer:e,customerId:a.customerInfoList[0].customerId,firstName:a.customerInfoList[0].firstName,middleName:a.customerInfoList[0].middleName,lastName:a.customerInfoList[0].lastName,gender:a.customerInfoList[0].gender,dateOfBirth:this.convertDate(a.customerInfoList[0].dateOfBirth),maritalStatus:a.customerInfoList[0].maritalStatus,placeOfBirth:a.customerInfoList[0].placeOfBirth,birthCountry:a.customerInfoList[0].birthCountry,residenceStatus:a.customerInfoList[0].residenceStatus,nationality:a.customerInfoList[0].citizenship,countryOfResidence:a.customerInfoList[0].countryOfResidence,occupationType:a.customerInfoList[0].occupationType,idType:a.customerInfoList[0].custIdProofs.length>0?a.customerInfoList[0].custIdProofs[0].idType:"",idNumber:a.customerInfoList[0].custIdProofs.length>0?a.customerInfoList[0].custIdProofs[0].idNumber:"",expiryDate:a.customerInfoList[0].custIdProofs.length>0?a.customerInfoList[0].custIdProofs[0].expiryDate:"",addressType:t.addressType,address1:t.address1,address2:t.address2,city:t.city,country:t.country,state:t.state,zipCode:t.zipCode,phoneNumber:a.customerInfoList[0].phoneNumber,landlineNumber:a.customerInfoList[0].landlineNumber,primaryEmailAdress:a.customerInfoList[0].primaryEmailAdress};this.onSelectionCountryOfresidence(n.countryOfResidence),this.onSelectionBirthCountry(n.birthCountry),this.onSelectionCitizenship(n.nationality),this.console.log("res.customerInfoList[0].firstName=",a.customerInfoList[0].firstName),this.customerName=a.customerInfoList[0].firstName+" "+a.customerInfoList[0].lastName,this.applicant.patchValue(n),console.log(this.applicant)}else this.isCifValid=!1,this.dialogService.alertForCustomerDialog().subscribe(t=>{console.log("response ::",t)}),this.applicant.get("cifNumber").patchValue("")})),this.cdr.markForCheck()},t=>{console.error(t)}))}getCustomerInformationDetails(){this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(t=>{this.buildCustomerForm(t)},t=>{})}convertDate(t){let e=$(t).format("YYYY-MM-DD");if(console.log("date",e),e)return e}buildCustomerForm(t){this.console.log(t),this.customerInfoForm=this.formBuilder.group({productAccountId:t?t.productAccountId:this.accountId,ownership:t?t[0].ownership:"Self",numOfApplicants:t?t[0].numOfApplicants:1,applicantDetails:this.addCustFormGroup()})}toggleChanges(){1==this.applicant.get("existingCustomer").value?(this.applicant.get("cifNumber").enable(),this.applicant.get("cifNumber").setValidators([V.z.required]),this.applicant.get("cifNumber").updateValueAndValidity()):(this.applicant.get("cifNumber").disable(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity())}toggleAddForm(){this.showNewForm=!this.showNewForm}addCustFormGroup(){return this.formBuilder.group({existingCustomer:[null,[]],primaryCustomer:[null,[]],cifNumber:[""],customerId:[""],dependentId:[null],prefix:["",V.z.required],firstName:["",V.z.required],middleName:[""],maritalStatus:[""],birthCountry:[""],lastName:["",V.z.required],gender:["",V.z.required],dateOfBirth:["",V.z.required],placeOfBirth:["",V.z.required],residenceStatus:["",V.z.required],nationality:["",V.z.required],countryOfResidence:["",V.z.required],occupationType:["",V.z.required],idType:["",V.z.required],idNumber:["",V.z.required],expiryDate:[""],addressType:["",V.z.required],address1:["",[V.z.required,V.z.pattern(".*[a-zA-Z].*")]],address2:["",[V.z.required,V.z.pattern(".*[a-zA-Z].*")]],city:["",V.z.required],state:["",V.z.required],country:["",V.z.required],zipCode:["",[V.z.required,V.z.minLength(5),V.z.maxLength(10)]],phoneNumber:["",[V.z.required,V.z.minLength(3),V.z.maxLength(10),V.z.pattern("^[0-9]{10,12}$")]],landlineNumber:["",[V.z.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:["",[V.z.required,V.z.email]]})}_keyPress(t){console.log(t.target.value);let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9]/.test(e)||(t.preventDefault(),!1)}validateNumber(t){const e=t.keyCode;e>=48&&e<=57||e>=96&&e<=105||[8,37,39,46].includes(e)||t.preventDefault()}get f(){return this.customerInfoForm.controls}get applicantCount(){return this.f.numOfApplicants}get applicant(){return this.f.applicantDetails}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getMaritalStatus(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.maritalStatusList=t})}getOwnershipValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayOwnership=t})}getGenderValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayGender=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&(this.arrayCountry.push(t[e].countryName),this.arrayCountry.sort())})}getAdressType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayAddressType=t})}getStateName(t,e){e&&(this.applicant.get("zipCode").setValue(""),this.applicant.get("state").setValue(""),this.applicant.get("city").setValue("")),this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName==t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{this.arrayState=t});break}})}getAllAuthCities(){this.apiService.getAuthorizedCityInfo().subscribe(t=>t.map(t=>this.arrayCity.push(t.cityName)))}onStateChange(){this.applicant.get("zipCode").setValue(""),this.applicant.get("city").setValue("")}onCityChange(){this.applicant.get("zipCode").setValue("")}getResidenceDetails(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayResidence=t})}getDocumentType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.console.log(t),this.arrayDocumentType=t})}onSubmit(){this.submitted=!0,console.log("saveapplicant"),this.isCifValid=!1;let t={};const e=this.customerInfoForm.controls.applicantDetails.value;console.log(e);let a={},n={},i=[],o=[];t.customerId=this.ls.getItem("cId"),t.cifNumber=e.cifNumber,t.dependentId=e.dependentId,t.existingCustomer=e.existingCustomer,t.primaryCustomer=e.primaryCustomer,t.residenceStatus=e.residenceStatus,t.placeOfBirth=e.placeOfBirth,t.countryOfResidence=e.countryOfResidence,t.occupationType=e.occupationType,t.phoneNumber=e.phoneNumber,t.primaryEmailAdress=e.primaryEmailAdress,t.prefix=e.prefix,t.firstName=e.firstName,t.middleName=e.middleName,t.lastName=e.lastName,t.cifNumber=e.cifNumber,t.gender=e.gender,t.dateOfBirth=e.dateOfBirth,t.birthCountry=e.birthCountry,t.maritalStatus=e.maritalStatus,t.nationality=e.nationality,t.loanAccountId=this.loanaccountID,t.accountType="loan",t.landlineNumber=e.landlineNumber,t.ownership=this.customerInfoForm.get("ownership").value,t.numOfApplicants=this.customerInfoForm.get("numOfApplicants").value,a.address1=e.address1,a.address2=e.address2,a.country=e.country,a.state=e.state,a.city=e.city,a.zipCode=e.zipCode,a.addressType=e.addressType,o.push(a),n.expiryDate=e.expiryDate,n.idType=e.idType,n.idNumber=e.idNumber,i.push(n),t.userAddress=o,t.custIdProofs=i,console.log("payloadObj",t),this.isChecked=!1,this.disabled=!1,this.appApiService.createAndUpdateAccountants(t).subscribe(t=>{console.log("data::",t),this.closeDetails(),this.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(this.getListOfAccounts(),this.snack.open(" Applicant is creating successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),1==t.custDependentModel.primaryCustomer&&this.ls.setItem("primaryCustomerName",t.custDependentModel.firstName+" "+t.custDependentModel.lastName),this.customerInfoForm.get("ownership").patchValue(t.custDependentModel.ownership),this.customerInfoForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants),"Self"==this.customerInfoForm.get("ownership").value&&this.goToNext())},t=>{console.log(t),this.loader.close(),this.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}uploadImage(){console.log("Upload Image")}onReset(){this.submitted=!1,this.customerInfoForm.reset({})}onClear(){this.submitted=!1}goBack(){this.router.navigate("Classic Home Loan"==this.productName?["/loan/account/asset-details"]:"Vehicle Loan"==this.productName?["/loan/account/vehicle-details"]:["/loan/account/admission-details"])}goToNext(){this.ls.setItem("CUSTOMERINFO_DETAIL_DONE",!0),this.accountService.refresh.next(),this.ls.setItem("LoanNoOfApplicants",this.customerInfoForm.get("numOfApplicants").value),this.ls.setItem("ownership_value",this.customerInfoForm.get("ownership").value),this.router.navigate(["/loan/account/mandate-details"])}isAllSameDigit(t){let e=0,a=t.target.value;if(""!=a){for(var n=0;n<a.length;n++)0==a[n]&&e++;console.log("number :: ",a),console.log("isAllSameDigitVal :: ",e,a.length),e==a.length?(console.log("if loop"),this.isAllSameDigitVal=!0):this.isAllSameDigitVal=!1}else this.isAllSameDigitVal=!1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.dataService.sendNavParam({})}onSelectionBirthCountry(t){this.isBirthCountry=!0,this.birthCountryImage="",this.apiService.countryCurrencyFlaglists(t).subscribe(t=>{console.log(t),this.birthCountryImage=t.currencyId.currencyCode.toLowerCase()})}onSelectionCitizenship(t){this.citizenshipImage="",null!=t&&this.apiService.countryCurrencyFlaglists(t).subscribe(t=>{this.citizenshipImage=t.currencyCode.toLowerCase()})}onSelectionCountryOfresidence(t){this.countryResidenceImage="",null!=t&&this.apiService.countryCurrencyFlaglists(t).subscribe(t=>{this.countryResidenceImage=t.currencyCode.toLowerCase()})}getCityandStateByZipcode(t,e){t&&e.length>=6&&this.apiService.fetchStateCityByZipcode(t,e).subscribe(t=>{t?(this.isZipValid=!0,this.applicant.get("state").setValue(t.stateName),this.applicant.get("city").setValue(t.cityName)):(this.isZipValid=!1,this.snack.open("Entered Zipcode is not exists","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(g.b),i.Rb(o.a),i.Rb(K.a),i.Rb(i.l),i.Rb(p.b),i.Rb(i.I),i.Rb(u.a),i.Rb(p.b),i.Rb(V.f),i.Rb(en.a),i.Rb(i.h),i.Rb(Ne.a),i.Rb(h.a),i.Rb(La.a),i.Rb(f.a),i.Rb(an.a),i.Rb(yt.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-customer-information"]],viewQuery:function(t,e){if(1&t&&i.ad(C.a,!0),2&t){let t;i.Cc(t=i.gc())&&(e.progressBar=t.first)}},inputs:{i:"i"},decls:23,vars:3,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","row wrap"],[1,"p-0"],["visible","true"],["novalidate","",3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],[4,"ngIf","ngIfElse"],["hideBtn",""],["novalidate","",3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["name","ownership","formControlName","ownership","placeholder","Select","disableOptionCentering",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","50"],[1,"marginChange"],["fxLayout","row","fxLayoutGap","16px","fxLayoutAlign","end end"],[1,"mb-1"],[1,"m-0","text-right"],["mode","determinate",1,"rounded",2,"height","5px",3,"color","value"],[1,"mt-12"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["class","mt-16",4,"ngIf"],[3,"value"],["formControlName","numOfApplicants","name","numOfApplicants","disableOptionCentering",""],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"ml-8"],[2,"margin-bottom","-16px !important"],["mat-card-avatar",""],[3,"name"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],["fxLayout","row","fxFlex","1 1 0%","fxLayoutAlign","end end"],[1,"group-btn-bg"],["showEdit",""],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["detailApplicant",""],["mat-sm-chip","",3,"color","selected"],["type","reset","mat-icon-button","","color","primary",3,"click"],["type","submit","mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mt-32",3,"formGroup"],["formGroupName","applicantDetails"],["formControlName","existingCustomer",1,"charge",3,"change"],[1,"mb-16"],["name","prefix","formControlName","prefix","disableOptionCentering","",3,"selectionChange"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","DD/MM/YYYY",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],["fxFlex","10"],["matPrefix",""],["id","flag",3,"class",4,"ngIf"],["name","birthCountry","formControlName","birthCountry","required","","disableOptionCentering","",3,"selectionChange"],["name","residenceType","formControlName","residenceStatus","disableOptionCentering",""],[3,"class",4,"ngIf"],["name","resident","formControlName","countryOfResidence","required","","disableOptionCentering","",3,"selectionChange"],["name","idtype","formControlName","idType","disableOptionCentering","",3,"selectionChange"],["class","pb-1",4,"ngIf"],["formControlName","primaryCustomer",1,"charge"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","gender","formControlName","gender","disableOptionCentering","",3,"selectionChange"],["class","ErrMsg",4,"ngIf"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],["name","citizen","formControlName","nationality","required","","disableOptionCentering","",3,"selectionChange"],[1,"p-1"],["name","maritalStatus","formControlName","maritalStatus","disableOptionCentering",""],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["matInput","","formControlName","address1","placeholder","Address 1"],["name","addressType","formControlName","addressType","disableOptionCentering",""],["name","state","formControlName","state","disableOptionCentering","",3,"selectionChange"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup","change"],["style","color: #E74C3C;",4,"ngIf"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country","disableOptionCentering","",3,"selectionChange"],["name","city","formControlName","city","disableOptionCentering","",3,"selectionChange"],["maxlength","10","matInput","","formControlName","phoneNumber","name","phoneNumber","placeholder","Mobile Number",3,"keypress"],["style","margin-top:-20px",4,"ngIf"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["mat-button","","color","primary",1,"paddingChange",3,"disabled","click"],["id","flag"],["matInput","","name","date","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"required","matDatepicker","min"],["appDatepicker1",""],[1,"ErrMsg"],[2,"color","#E74C3C"],[2,"margin-top","-20px"],[1,"mt-16"],[1,"mb-8","borderStyle",3,"expanded"],[1,"marginData"],[1,"textDesign"],[1,"design"],[1,"pb-1","pt-3"],["formControlName","existingCustomer",1,"charge",3,"ngModel","disabled","change","ngModelChange"],["fxLayout","row","fxLayoutGap","2px","fxLayoutAlign","space-between"],["fxFlex","100","fxFlexAlign","center"],["matInput","","required","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"readonly","formControl","matAutocomplete","keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","err-msg",4,"ngIf"],["class","hintColor",4,"ngIf"],["auto","matAutocomplete"],["name","birthCountry","formControlName","birthCountry","placeholder","Select","required","","disableOptionCentering","",3,"selectionChange"],["name","resident","formControlName","countryOfResidence","required","","placeholder","Select","disableOptionCentering","",3,"selectionChange"],["class","pb-1 pt-3",4,"ngIf"],[1,"pb-1","topChange"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')"],["name","citizen","formControlName","nationality","placeholder","Select","required","","disableOptionCentering","",3,"selectionChange"],["name","maritalStatus","formControlName","maritalStatus","required","","disableOptionCentering",""],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type","oninput","this.value = this.value.replace(/[^A-Za-z,.;'&/.() ]|^ /g,'')"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID","maxlength","12",3,"keypress"],["minlength","5","maxlength","10","matInput","","name","zipCode","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","change","keyup"],["name","","formControlName","country","disableOptionCentering","",3,"selectionChange"],["mat-button","","color","primary","class","paddingChange",3,"disabled","click",4,"ngIf","ngIfElse"],["openSave",""],["matSuffix","","color","primary"],[1,"err-msg"],[1,"hintColor"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],["fxFlex","80"],[2,"margin-bottom","0px"],[1,"cif-0",2,"margin-top","0px"],[1,"right-arrow1"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large","color","white"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","90%","margin-bottom","50px",3,"src"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"matDatepicker","min"],["fxFlex","8%","id","toggle"],["formControlName","primaryCustomer",1,"charge",3,"disabled"],["mat-button","","color","primary",1,"paddingChange",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h1"),i.Tc(7,"Customer Information"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"div",1),i.Xb(10,"mat-card",7),i.Xb(11,"mat-card-title"),i.Xb(12,"fieldset"),i.Xb(13,"legend",8),i.Tc(14,"Customer Information Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(15,"mat-card-content"),i.Rc(16,cl,32,11,"form",9),i.Wb(),i.Wb(),i.Xb(17,"div",10),i.Xb(18,"button",11),i.fc("click",function(){return e.goBack()}),i.Tc(19," Back "),i.Wb(),i.Rc(20,sl,3,1,"ng-container",12),i.Rc(21,ll,2,1,"ng-template",null,13,i.Sc),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(22);i.Eb(16),i.rc("ngIf",e.customerInfoForm),i.Eb(4),i.rc("ngIf","Joint"==e.customerInfoForm.get("ownership").value)("ngIfElse",t)}},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,s.c,s.g,q.a,V.r,V.i,B.n,n.m,C.a,s.f,yn.a,s.b,yn.c,yn.e,yn.f,v.a,c.e,c.c,c.g,Ur.a,l.a,n.s,V.k,et.a,z.b,V.c,Q.e,Q.g,s.j,Q.d,s.i,V.y,V.m,V.w,V.n,Xn.a,x.a,r.a,Hr.c,V.h,Hr.a,Gr.b],pipes:[n.w,n.v],styles:[".currency-flag[_ngcontent-%COMP%]{display:inline-block;width:24px!important;height:16px!important;background-size:cover;background-image:url(https://wise.com/public-resources/assets/flags/rectangle_fallback.png)}.ErrMsg[_ngcontent-%COMP%]{color:red;font-size:9px}.currency-flag-sm[_ngcontent-%COMP%]{width:16px;height:10px}.currency-flag-lg[_ngcontent-%COMP%]{width:36px;height:24px}.currency-flag-xl[_ngcontent-%COMP%]{width:48px;height:32px}.example-header-image-dropdown[_ngcontent-%COMP%]{background-color:#aed6f1;max-width:15%!important;height:35px}  .cdk-overlay-pane{min-width:270px!important;padding:7px 0}  .mat-card-avatar{max-width:15%!important}.err-msg[_ngcontent-%COMP%]{color:var(--danger)}.example-header-image-dropdown[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;background-size:cover;background-color:#4a56e2;max-width:9%!important;width:25px;height:30px;border-radius:50%}.currency-flag.currency-flag-aed[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aed.png)}.currency-flag.currency-flag-afn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/afn.png)}.currency-flag.currency-flag-all[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/all.png)}.currency-flag.currency-flag-amd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/amd.png)}.currency-flag.currency-flag-ang[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ang.png)}.currency-flag.currency-flag-aoa[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aoa.png)}.currency-flag.currency-flag-ars[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ars.png)}.currency-flag.currency-flag-aud[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aud.png)}.currency-flag.currency-flag-awg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/awg.png)}.currency-flag.currency-flag-azn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/azn.png)}.currency-flag.currency-flag-bam[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bam.png)}.currency-flag.currency-flag-bbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bbd.png)}.currency-flag.currency-flag-bdt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bdt.png)}.currency-flag.currency-flag-bgn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bgn.png)}.currency-flag.currency-flag-bhd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bhd.png)}.currency-flag.currency-flag-bif[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bif.png)}.currency-flag.currency-flag-bmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bmd.png)}.currency-flag.currency-flag-bnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bnd.png)}.currency-flag.currency-flag-bob[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bob.png)}.currency-flag.currency-flag-brl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/brl.png)}.currency-flag.currency-flag-bsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bsd.png)}.currency-flag.currency-flag-btn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/btn.png)}.currency-flag.currency-flag-bwp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bwp.png)}.currency-flag.currency-flag-byn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/byn.png)}.currency-flag.currency-flag-bzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bzd.png)}.currency-flag.currency-flag-cad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cad.png)}.currency-flag.currency-flag-cdf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cdf.png)}.currency-flag.currency-flag-chf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/chf.png)}.currency-flag.currency-flag-clp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/clp.png)}.currency-flag.currency-flag-cny[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cny.png)}.currency-flag.currency-flag-cop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cop.png)}.currency-flag.currency-flag-crc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/crc.png)}.currency-flag.currency-flag-cup[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cup.png)}.currency-flag.currency-flag-cve[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cve.png)}.currency-flag.currency-flag-czk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/czk.png)}.currency-flag.currency-flag-djf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/djf.png)}.currency-flag.currency-flag-dkk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dkk.png)}.currency-flag.currency-flag-dop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dop.png)}.currency-flag.currency-flag-dzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dzd.png)}.currency-flag.currency-flag-egp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/egp.png)}.currency-flag.currency-flag-ern[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ern.png)}.currency-flag.currency-flag-etb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/etb.png)}.currency-flag.currency-flag-eur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/eur.png)}.currency-flag.currency-flag-fjd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fjd.png)}.currency-flag.currency-flag-fkp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fkp.png)}.currency-flag.currency-flag-gbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gbp.png)}.currency-flag.currency-flag-gel[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gel.png)}.currency-flag.currency-flag-ghs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ghs.png)}.currency-flag.currency-flag-gip[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gip.png)}.currency-flag.currency-flag-gmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gmd.png)}.currency-flag.currency-flag-gnf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gnf.png)}.currency-flag.currency-flag-gtq[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gtq.png)}.currency-flag.currency-flag-gyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gyd.png)}.currency-flag.currency-flag-hkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hkd.png)}.currency-flag.currency-flag-hnl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hnl.png)}.currency-flag.currency-flag-hrk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hrk.png)}.currency-flag.currency-flag-htg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/htg.png)}.currency-flag.currency-flag-huf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/huf.png)}.currency-flag.currency-flag-idr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/idr.png)}.currency-flag.currency-flag-ils[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ils.png)}.currency-flag.currency-flag-inr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/inr.png)}.currency-flag.currency-flag-iqd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/iqd.png)}.currency-flag.currency-flag-irr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/irr.png)}.currency-flag.currency-flag-isk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/isk.png)}.currency-flag.currency-flag-jmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jmd.png)}.currency-flag.currency-flag-jod[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jod.png)}.currency-flag.currency-flag-jpy[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jpy.png)}.currency-flag.currency-flag-kes[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kes.png)}.currency-flag.currency-flag-kgs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kgs.png)}.currency-flag.currency-flag-khr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/khr.png)}.currency-flag.currency-flag-kmf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kmf.png)}.currency-flag.currency-flag-kpw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kpw.png)}.currency-flag.currency-flag-krw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/krw.png)}.currency-flag.currency-flag-kwd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kwd.png)}.currency-flag.currency-flag-kyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kyd.png)}.currency-flag.currency-flag-kzt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kzt.png)}.currency-flag.currency-flag-lak[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lak.png)}.currency-flag.currency-flag-lbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lbp.png)}.currency-flag.currency-flag-lkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lkr.png)}.currency-flag.currency-flag-lrd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lrd.png)}.currency-flag.currency-flag-ltl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ltl.png)}.currency-flag.currency-flag-lyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lyd.png)}.currency-flag.currency-flag-mad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mad.png)}.currency-flag.currency-flag-mdl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mdl.png)}.currency-flag.currency-flag-mga[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mga.png)}.currency-flag.currency-flag-mkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mkd.png)}.currency-flag.currency-flag-mmk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mmk.png)}.currency-flag.currency-flag-mnt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mnt.png)}.currency-flag.currency-flag-mop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mop.png)}.currency-flag.currency-flag-mro[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mro.png)}.currency-flag.currency-flag-mur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mur.png)}.currency-flag.currency-flag-mvr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mvr.png)}.currency-flag.currency-flag-mwk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mwk.png)}.currency-flag.currency-flag-mxn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mxn.png)}.currency-flag.currency-flag-myr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/myr.png)}.currency-flag.currency-flag-mzn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mzn.png)}.currency-flag.currency-flag-nad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nad.png)}.currency-flag.currency-flag-ngn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ngn.png)}.currency-flag.currency-flag-nio[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nio.png)}.currency-flag.currency-flag-nok[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nok.png)}.currency-flag.currency-flag-npr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/npr.png)}.currency-flag.currency-flag-nzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nzd.png)}.currency-flag.currency-flag-omr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/omr.png)}.currency-flag.currency-flag-pen[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pen.png)}.currency-flag.currency-flag-pgk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pgk.png)}.currency-flag.currency-flag-php[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/php.png)}.currency-flag.currency-flag-pkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pkr.png)}.currency-flag.currency-flag-pln[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pln.png)}.currency-flag.currency-flag-pyg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pyg.png)}.currency-flag.currency-flag-qar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/qar.png)}.currency-flag.currency-flag-ron[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ron.png)}.currency-flag.currency-flag-rsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rsd.png)}.currency-flag.currency-flag-rub[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rub.png)}.currency-flag.currency-flag-rwf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rwf.png)}.currency-flag.currency-flag-sar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sar.png)}.currency-flag.currency-flag-sbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sbd.png)}.currency-flag.currency-flag-scr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/scr.png)}.currency-flag.currency-flag-sek[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sek.png)}.currency-flag.currency-flag-sgd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sgd.png)}.currency-flag.currency-flag-shp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/shp.png)}.currency-flag.currency-flag-sll[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sll.png)}.currency-flag.currency-flag-sos[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sos.png)}.currency-flag.currency-flag-srd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/srd.png)}.currency-flag.currency-flag-std[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/std.png)}.currency-flag.currency-flag-svc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/svc.png)}.currency-flag.currency-flag-syp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/syp.png)}.currency-flag.currency-flag-szl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/szl.png)}.currency-flag.currency-flag-thb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/thb.png)}.currency-flag.currency-flag-tjs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tjs.png)}.currency-flag.currency-flag-tnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tnd.png)}.currency-flag.currency-flag-top[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/top.png)}.currency-flag.currency-flag-try[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/try.png)}.currency-flag.currency-flag-ttd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ttd.png)}.currency-flag.currency-flag-twd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/twd.png)}.currency-flag.currency-flag-tzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tzs.png)}.currency-flag.currency-flag-uah[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uah.png)}.currency-flag.currency-flag-ugx[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ugx.png)}.currency-flag.currency-flag-usd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/usd.png)}.currency-flag.currency-flag-uyu[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uyu.png)}.currency-flag.currency-flag-uzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uzs.png)}.currency-flag.currency-flag-vef[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vef.png)}.currency-flag.currency-flag-vnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vnd.png)}.currency-flag.currency-flag-vuv[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vuv.png)}.currency-flag.currency-flag-wst[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/wst.png)}.currency-flag.currency-flag-xaf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xaf.png)}.currency-flag.currency-flag-xcd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xcd.png)}.currency-flag.currency-flag-xof[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xof.png)}.currency-flag.currency-flag-xpf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xpf.png)}.currency-flag.currency-flag-yer[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/yer.png)}.currency-flag.currency-flag-zar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zar.png)}.currency-flag.currency-flag-zmw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zmw.png)}#flag[_ngcontent-%COMP%]{width:48px;height:30px}mat-card.mat-focus-indicator.widthCard.inputMatName[_ngcontent-%COMP%]{height:53px}.marginAlign[_ngcontent-%COMP%], .marginChange[_ngcontent-%COMP%]{margin-left:0!important}.marginAlign[_ngcontent-%COMP%]{height:53px}.paddingChange[_ngcontent-%COMP%]{padding-left:0!important}input[_ngcontent-%COMP%]{border:none;outline:none}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px;opacity:1}textarea[_ngcontent-%COMP%]{border:none;outline:none}"]}),t})();function ml(t,e){if(1&t&&(i.Xb(0,"mat-option",40),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.Vc(" ",t," ")}}function ul(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter Asset Type!"),i.Wb(),i.Wb())}function dl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter Asset Type!"),i.Wb(),i.Wb())}function pl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter Property Area!"),i.Wb(),i.Wb())}function fl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please enter Borrowers Market Value of Asset!"),i.Wb(),i.Wb())}function gl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please select Asset Valuer"),i.Wb(),i.Wb())}function hl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Valuation Date!"),i.Wb(),i.Wb())}function vl(t,e){if(1&t&&(i.Xb(0,"mat-option",41),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.Eb(1),i.Vc(" ",t," ")}}function Wl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Xb(1,"small"),i.Tc(2,"Please Select Actual Area of the Property!"),i.Wb(),i.Wb())}let Xl=(()=>{class t{constructor(t,e,a,n,i,o){this.formBuilder=t,this.ls=e,this.loader=a,this.apiService=n,this.snack=i,this.router=o,this.bankValuationArr=["internal","external"],this.areaArr=["sq","hectare"],this.showEditOption=!1,this.assetValuation=this.formBuilder.group({bankValuation:["",[V.z.required]],assetType:["",[V.z.required]],propertyAreaSize:["",[V.z.required]],mktValOfAsset:["",[V.z.required]],assetValue:["",[V.z.required]],valuationDate:["",[V.z.required]],actualPropertyAreaSize:["",[V.z.required]],actualPropertyAreaInUnits:["",[V.z.required]]})}ngOnInit(){JSON.parse(this.ls.getItem("valuationAsset"))?(this.showEditOption=!0,this.getAccountDetails()):(console.log("else"),this.showEditOption=!1,this.buildOfferIssueForm())}getAccountDetails(){this.loader.open(),this.apiService.getAssetValuation(112).subscribe(t=>{this.loader.close(),this.accountDetails=t,console.log(this.accountDetails),this.buildOfferIssueForm(this.accountDetails)},t=>{this.loader.close()})}buildOfferIssueForm(t){this.assetValuation=this.formBuilder.group({bankValuation:[t?t.bankValuation:""],assetType:[t?t.assetType:""],propertyAreaSize:[t?t.propertyAreaSize:""],mktValOfAsset:[t?t.mktValOfAsset:""],assetValue:[t?t.assetValue:""],valuationDate:[t?t.valuationDate:""],actualPropertyAreaSize:[t?t.actualPropertyAreaSize:""],actualPropertyAreaInUnits:[t?t.actualPropertyAreaInUnits:""]})}goBack(){this.router.navigate(["/loan/offer-issue/credit-rating"])}submit(){let t=new Date;t=this.assetValuation.value.valuationDate;var e=$(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);var a=this.assetValuation.value.actualPropertyAreaSize;a=parseInt(a);var n=this.assetValuation.value.propertyAreaSize;n=parseInt(n);let i={loanAccountId:parseInt("112"),bankValuation:this.assetValuation.value.bankValuation,assetType:this.assetValuation.value.assetType,propertyAreaSize:n,mktValOfAsset:this.assetValuation.value.mktValOfAsset,assetValue:this.assetValuation.value.assetValue,actualPropertyAreaInUnits:this.assetValuation.value.actualPropertyAreaInUnits,valuationDate:e,actualPropertyAreaSize:a};console.log("payload",i),this.apiService.saveOrValuationOfAsset(i).subscribe(t=>{console.log("data",t),null!=t&&this.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.next()}next(){this.ls.setItem("valuationAsset",!0),this.router.navigate(["/loan/account/list/offer-issue/legal-opinion"])}keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}onInput(t,e){this.marketValue=e?t.target.value:t,console.log("this.salary)::",this.marketValue);let a=this.marketValue.toString().replace(/,/g,"").split(".");a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let n=a.join(".");console.log("final",n),this.assetValuation.controls.mktValOfAsset.setValue(n)}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(yt.a),i.Rb(p.b),i.Rb(h.a),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-asset-valuation"]],decls:123,vars:15,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"card-title-text"],[3,"formGroup"],["fxLayout","column",2,"border-radius","30px"],[1,"container"],[1,"text","mat-typography"],[1,"line"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["disableOptionCentering","",1,"alignment",3,"formControl"],["value","bankValuation",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","assetType","type","text","name","assetType","required","",1,"alignment"],["fxLayout","column","fxFlex","100"],["fxLayout","row"],["fxFlex","15%",1,"flex-grow-1"],["fxFlex","85%",1,"flex-grow-1"],["matInput","","formControlName","propertyAreaSize","type","text",1,"alignment",3,"keypress"],["matInput","","formControlName","mktValOfAsset","type","text",1,"alignment",3,"keypress","keyup"],["formControlName","assetValue","disableOptionCentering",""],["value",""],["value","Bank Manager"],["value","Bank Clerk"],["value","Bank Accountant"],["matInput","","readonly","","formControlName","valuationDate",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle"],["matSuffix","",3,"for"],["appDatepicker",""],["value","actualPropertyAreaInUnits",4,"ngFor","ngForOf"],["matInput","","formControlName","actualPropertyAreaSize","type","text",1,"alignment",3,"keypress"],["disableOptionCentering",""],["fxLayout","row",1,"button"],["mat-button","","rounded","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"disabled","click"],["value","bankValuation"],["value","actualPropertyAreaInUnits"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h1"),i.Tc(7,"Valuation of Asset"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",0),i.Xb(9,"form",6),i.Xb(10,"mat-card",7),i.Xb(11,"div",8),i.Xb(12,"div",9),i.Tc(13,"Valuation Details"),i.Wb(),i.Xb(14,"div",10),i.Sb(15,"mat-divider"),i.Wb(),i.Wb(),i.Xb(16,"div",11),i.Xb(17,"div",12),i.Xb(18,"label",13),i.Tc(19,"Bank Valuation* "),i.Wb(),i.Xb(20,"mat-card",14),i.Xb(21,"mat-select",15),i.Xb(22,"mat-option"),i.Tc(23,"select"),i.Wb(),i.Rc(24,ml,2,1,"mat-option",16),i.Wb(),i.Wb(),i.Rc(25,ul,3,0,"mat-error",17),i.Wb(),i.Xb(26,"div",12),i.Xb(27,"label",13),i.Tc(28,"Asset Type*"),i.Wb(),i.Xb(29,"mat-card",14),i.Sb(30,"input",18),i.Wb(),i.Rc(31,dl,3,0,"mat-error",17),i.Wb(),i.Wb(),i.Xb(32,"div",11),i.Xb(33,"div",19),i.Xb(34,"label",13),i.Tc(35,"Property Area*"),i.Wb(),i.Xb(36,"div",20),i.Xb(37,"div",21),i.Xb(38,"mat-card",14),i.Tc(39," Sq "),i.Wb(),i.Wb(),i.Xb(40,"div",22),i.Xb(41,"mat-card",14),i.Xb(42,"input",23),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Rc(43,pl,3,0,"mat-error",17),i.Wb(),i.Wb(),i.Wb(),i.Xb(44,"div",12),i.Xb(45,"label",13),i.Tc(46,"Borrowers MArket Value of Asset*"),i.Wb(),i.Xb(47,"mat-card",14),i.Xb(48,"input",24),i.fc("keypress",function(t){return e.keyPress1(t)})("keyup",function(t){return e.onInput(t,!0)}),i.Wb(),i.Wb(),i.Rc(49,fl,3,0,"mat-error",17),i.Wb(),i.Wb(),i.Xb(50,"div",11),i.Xb(51,"div",12),i.Xb(52,"label",13),i.Tc(53,"Asset Valuer*"),i.Wb(),i.Xb(54,"mat-card",14),i.Xb(55,"mat-select",25),i.Xb(56,"mat-option",26),i.Tc(57,"Select"),i.Wb(),i.Xb(58,"mat-option",27),i.Tc(59,"Bank Manager"),i.Wb(),i.Xb(60,"mat-option",28),i.Tc(61,"Bank Clerk"),i.Wb(),i.Xb(62,"mat-option",29),i.Tc(63,"Bank Accountant"),i.Wb(),i.Wb(),i.Wb(),i.Rc(64,gl,3,0,"mat-error",17),i.Wb(),i.Xb(65,"div",12),i.Xb(66,"label",13),i.Tc(67,"Valuation Date*"),i.Wb(),i.Xb(68,"mat-card",14),i.Sb(69,"input",30),i.Xb(70,"div",31),i.Sb(71,"mat-datepicker-toggle",32),i.Sb(72,"mat-datepicker",null,33),i.Wb(),i.Wb(),i.Rc(74,hl,3,0,"mat-error",17),i.Wb(),i.Wb(),i.Xb(75,"div",11),i.Xb(76,"div",19),i.Xb(77,"label",13),i.Tc(78,"Actual Area of the Property*"),i.Wb(),i.Xb(79,"div",20),i.Xb(80,"div",21),i.Xb(81,"mat-card",14),i.Xb(82,"mat-select",15),i.Xb(83,"mat-option"),i.Tc(84,"select"),i.Wb(),i.Rc(85,vl,2,1,"mat-option",34),i.Wb(),i.Wb(),i.Wb(),i.Xb(86,"div",22),i.Xb(87,"mat-card",14),i.Xb(88,"input",35),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Rc(89,Wl,3,0,"mat-error",17),i.Wb(),i.Wb(),i.Wb(),i.Xb(90,"div",12),i.Xb(91,"label",13),i.Tc(92,"Face Value of Asset"),i.Wb(),i.Xb(93,"mat-card",14),i.Xb(94,"mat-select",36),i.Xb(95,"mat-option",26),i.Tc(96,"Currency"),i.Wb(),i.Xb(97,"mat-option",26),i.Tc(98,"INR"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(99,"div",11),i.Xb(100,"div",12),i.Xb(101,"label",13),i.Tc(102,"Market Value of Asset"),i.Wb(),i.Xb(103,"mat-card",14),i.Xb(104,"mat-select",36),i.Xb(105,"mat-option",26),i.Tc(106,"Currency"),i.Wb(),i.Xb(107,"mat-option",26),i.Tc(108,"INR"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(109,"div",12),i.Xb(110,"label",13),i.Tc(111,"Forced Sale VAlue"),i.Wb(),i.Xb(112,"mat-card",14),i.Xb(113,"mat-select",36),i.Xb(114,"mat-option",26),i.Tc(115,"Currency"),i.Wb(),i.Xb(116,"mat-option",26),i.Tc(117,"INR"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(118,"div",37),i.Xb(119,"button",38),i.fc("click",function(){return e.goBack()}),i.Tc(120," Back "),i.Wb(),i.Xb(121,"button",39),i.fc("click",function(){return e.submit()}),i.Tc(122," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(73);i.Eb(9),i.rc("formGroup",e.assetValuation),i.Eb(12),i.rc("formControl",e.assetValuation.controls.bankValuation),i.Eb(3),i.rc("ngForOf",e.bankValuationArr),i.Eb(1),i.rc("ngIf",e.assetValuation.get("bankValuation").touched&&!e.assetValuation.get("bankValuation").valid),i.Eb(6),i.rc("ngIf",e.assetValuation.get("assetType").touched&&!e.assetValuation.get("assetType").valid),i.Eb(12),i.rc("ngIf",e.assetValuation.get("propertyAreaSize").touched&&!e.assetValuation.get("propertyAreaSize").valid),i.Eb(6),i.rc("ngIf",e.assetValuation.get("mktValOfAsset").touched&&!e.assetValuation.get("mktValOfAsset").valid),i.Eb(15),i.rc("ngIf",e.assetValuation.get("assetValue").touched&&!e.assetValuation.get("assetValue").valid),i.Eb(5),i.rc("matDatepicker",t),i.Eb(2),i.rc("for",t),i.Eb(3),i.rc("ngIf",e.assetValuation.get("valuationDate").touched&&!e.assetValuation.get("valuationDate").valid),i.Eb(8),i.rc("formControl",e.assetValuation.controls.actualPropertyAreaInUnits),i.Eb(3),i.rc("ngForOf",e.areaArr),i.Eb(4),i.rc("ngIf",e.assetValuation.get("actualPropertyAreaSize").touched&&!e.assetValuation.get("actualPropertyAreaSize").valid),i.Eb(32),i.rc("disabled",!e.assetValuation.get("bankValuation").valid)}},directives:[r.e,r.b,V.A,V.s,V.j,c.a,x.a,r.f,q.a,V.r,V.h,B.n,n.m,n.n,z.b,V.c,V.i,V.y,Q.e,Q.g,s.j,Q.d,l.b,s.b],styles:[".inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:10px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;padding-left:20px}.line[_ngcontent-%COMP%]{flex:1;margin-left:90px}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}"]}),t})();const yl=function(){return{y:"50px",delay:"300ms"}},xl=function(t){return{value:"*",params:t}};function Cl(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",18),i.Xb(1,"mat-card"),i.Xb(2,"div",19),i.Xb(3,"div",20),i.Xb(4,"mat-icon",21),i.Tc(5,"check_circle"),i.Wb(),i.Wb(),i.Xb(6,"div",22),i.Xb(7,"h6"),i.Tc(8,"Offer Issue Stage Completed"),i.Wb(),i.Wb(),i.Sb(9,"span",23),i.Xb(10,"button",24),i.fc("click",function(){return i.Hc(t),i.jc().goToOfferIssue()}),i.Tc(11," View Summary "),i.Wb(),i.Wb(),i.Wb(),i.Wb()}2&t&&(i.Eb(1),i.rc("@animate",i.xc(2,xl,i.wc(1,yl))))}function Il(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",24),i.fc("click",function(){return i.Hc(t),i.jc().goToOfferIssue()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const Ol=function(){return["/loan/account/list/offer-issue/offerissue"]};function Al(t,e){1&t&&(i.Xb(0,"button",25),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t&&i.rc("routerLink",i.wc(1,Ol))}let Dl=(()=>{class t{constructor(t,e,a,n,i,o){this.router=t,this.dialogService=e,this.route=a,this.ls=n,this.cdr=i,this.accountService=o,this.isCreditRatingScreen=!1,this.isValuationAssetScreen=!1,this.islegalOpinionScreen=!1,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1}ngOnInit(){let t=this.ls.getItem("overDraftByStatus")||null;console.log("fetch",t),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isOfferIssueScreen=this.ls.getItem("OfferIssue"),this.islegalOpinionScreen=this.ls.getItem("legalScreen"),this.isValuationAssetScreen=this.ls.getItem("valuationAsset"),this.isCreditRatingScreen=this.ls.getItem("CreditRatingDetails"),this.accountService.refresh.subscribe(t=>{this.islegalOpinionScreen=this.ls.getItem("legalScreen"),this.isValuationAssetScreen=this.ls.getItem("valuationAsset"),this.isAssesmentDetailsScreen=this.ls.getItem("assessmentScreen"),this.isOfferIssueScreen=this.ls.getItem("OfferIssue"),this.isCreditRatingScreen=this.ls.getItem("CreditRatingDetails"),this.cdr.markForCheck()})}goToAccountDetails(){this.dialogService.assetValutionSummaryDialog()}goToLegalOpinion(){this.dialogService.legalopinionSummaryDialog()}goToAssesmentDetails(){this.dialogService.offeredAssessmentSummaryDialog()}goToOfferIssue(){this.dialogService.offerIssue1SummaryDialog()}goCreditDetails(){this.dialogService.CreditRatingDetailsDialog()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(La.a),i.Rb(o.a),i.Rb(u.a),i.Rb(i.h),i.Rb(d.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offer-issue-stage"]],decls:30,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf","ngIfElse"],["showOffer",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create Retail Loan Account"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,Cl,12,4,"div",8),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Xb(14,"mat-card"),i.Xb(15,"mat-card-header"),i.Xb(16,"mat-card-title"),i.Tc(17,"1. Offer Issue"),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"div",11),i.Xb(20,"div",12),i.Xb(21,"p",13),i.Tc(22," Enables the Approver to capture the OfferIssue date. "),i.Wb(),i.Wb(),i.Xb(23,"div",14),i.Sb(24,"img",15),i.Wb(),i.Wb(),i.Wb(),i.Sb(25,"mat-divider"),i.Xb(26,"mat-card-actions"),i.Rc(27,Il,5,0,"ng-container",16),i.Rc(28,Al,4,2,"ng-template",null,17,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(29);i.Eb(11),i.rc("ngIf",e.isOfferIssueScreen),i.Eb(13),i.rc("src","assets/images/svg/MaskGroup_17.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.isOfferIssueScreen)("ngIfElse",t)}},directives:[r.e,r.b,n.n,c.a,c.e,c.h,c.d,r.f,r.d,x.a,c.b,v.a,l.b,o.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}"]}),t})();function Tl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Number of Applicants is Required! "),i.Wb())}function Sl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Applicant Name is Required! "),i.Wb())}function kl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Collateral Share Percentage is Required! "),i.Wb())}function _l(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",22),i.Xb(1,"div",23),i.Xb(2,"mat-accordion",24),i.Xb(3,"mat-expansion-panel",25),i.fc("opened",function(){return i.Hc(t),i.jc(2).panelOpenState=!0})("closed",function(){return i.Hc(t),i.jc(2).panelOpenState=!1}),i.Xb(4,"mat-expansion-panel-header",26),i.Xb(5,"mat-panel-title",27),i.Tc(6),i.Wb(),i.Wb(),i.Sb(7,"mat-divider",28),i.Xb(8,"div"),i.Xb(9,"div",29),i.Xb(10,"div",30),i.Xb(11,"mat-form-field",16),i.Xb(12,"mat-label"),i.Tc(13,"Applicant Name"),i.Wb(),i.Sb(14,"input",31),i.Rc(15,Sl,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Xb(16,"div",32),i.Xb(17,"mat-form-field",16),i.Xb(18,"mat-label"),i.Tc(19,"Collateral Share Percentage"),i.Wb(),i.Xb(20,"input",33),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Rc(21,kl,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Xb(22,"div",30),i.Xb(23,"mat-form-field",16),i.Xb(24,"mat-label"),i.Tc(25,"Repayment Share Percentage"),i.Wb(),i.Sb(26,"input",34),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div",35),i.Xb(28,"div"),i.Xb(29,"button",36),i.fc("click",function(){return i.Hc(t),i.jc(2).addMandate("")}),i.Tc(30," ADD MANDATE"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,n=i.jc(2);i.Eb(1),i.rc("formGroupName",a),i.Eb(5),i.Vc(" Mandate ",a+1," "),i.Eb(9),i.rc("ngIf",!t.controls.applicantName.valid&&t.controls.applicantName.touched),i.Eb(6),i.rc("ngIf",!t.controls.collateralShare.valid&&t.controls.collateralShare.touched),i.Eb(8),i.rc("disabled",(null==n.mandateInfo?null:n.mandateInfo.invalid)||n.noOfApplicants==n.count)}}function Rl(t,e){if(1&t&&(i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",14),i.Xb(3,"div",15),i.Xb(4,"mat-form-field",16),i.Xb(5,"mat-label"),i.Tc(6,"Number of Applicants"),i.Wb(),i.Sb(7,"input",17),i.Rc(8,Tl,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div",19),i.Xb(10,"form",20),i.Rc(11,_l,31,5,"div",21),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.mandateDetailsForm),i.Eb(8),i.rc("ngIf",!t.mandateDetailsForm.get("noOfApplicants").valid&&t.mandateDetailsForm.get("noOfApplicants").touched),i.Eb(2),i.rc("formGroup",t.mandateInfo),i.Eb(1),i.rc("ngForOf",t.mandateInfo.get("mandateInfo_array").controls)}}let Ml=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s,l){this.fb=t,this.ls=e,this.loader=a,this.apiService=n,this.router=i,this.snack=o,this.accountService=r,this.confirmService=c,this.cdr=s,this.appApiService=l,this.panelOpenState=!1,this.showEditOption=!1,this.count=0}ngOnInit(){this.buildformGroup(),this.noOfApplicants=this.ls.getItem("LoanNoOfApplicants"),this.mandateInfo=this.fb.group({mandateInfo_array:this.fb.array([])}),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("MANDATE_DETAIL_DONE"));setTimeout(()=>{this.loanaccountID&&t?(this.showEditOption=!0,this.getMandateDetails()):(this.addMandate(""),this.showEditOption=!1,this.buildformGroup())},10)}getMandateDetails(){this.loader.open(),this.apiService.getMandateDetailsByLoanAccId(this.loanaccountID).subscribe(t=>{if(this.loader.close(),this.mandateDetails=t,console.log(this.mandateDetails),this.buildformGroup(this.mandateDetails),t)for(let e=0;e<t.mandateDetails.length;e++)this.addMandate(t.mandateDetails[e])},t=>{this.loader.close()})}buildformGroup(t){this.mandateDetailsForm=this.fb.group({mandateId:[t?t.mandateId:0],noOfApplicants:[t?t.noOfApplicants:"",V.z.required],registered:[!!t&&t.registered,V.z.required]}),this.mandateDetailsForm.get("noOfApplicants").setValue(this.noOfApplicants)}createMandateDetail(t){return this.fb.group({applicantName:t?t.applicantName:["",V.z.required],collateralShare:t?t.collateralShare:["",[V.z.required,V.z.minLength(1),V.z.maxLength(2)]],repaymentShare:t?t.repaymentShare:[""],mandateId:t?t.mandateId:"",mandateDetailsId:t?t.mandateDetailsId:""})}addMandate(t){this.mandateInfo_array=this.mandateInfo.get("mandateInfo_array"),this.mandateInfo_array.push(this.createMandateDetail(t)),this.count++,this.applicantNameFetch()}applicantNameFetch(){this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(t=>{const e=this.mandateInfo.get("mandateInfo_array");switch(this.count){case 1:e.controls[0].get("applicantName").setValue(t.data[0].firstName+" "+t.data[0].lastName);break;case 2:this.mandateInfo_array.controls[1].get("applicantName").setValue(t.data[1].firstName+" "+t.data[1].lastName);break;case 3:this.mandateInfo_array.controls[2].get("applicantName").setValue(t.data[2].firstName+" "+t.data[2].lastName);break;case 4:this.mandateInfo_array.controls[3].get("applicantName").setValue(t.data[3].firstName+" "+t.data[3].lastName);break;default:this.mandateInfo_array.controls[4].get("applicantName").setValue(t.data[4].firstName+" "+t.data[4].lastName)}})}removeMandate(t){this.confirmService.confirm({title:"Confirm",message:"Are you sure want to remove?",ok:"Yes",cancel:"No"}).subscribe(e=>{e&&(this.mandateInfo.controls.mandateInfo_array.removeAt(t),this.count--,this.cdr.markForCheck())})}goBack(){this.router.navigate(["/loan/account/customer-information"])}submitForm(){let t={loanAccountId:this.loanaccountID,mandateDetails:this.mandateInfo_array.value,mandateId:this.mandateDetailsForm.value.mandateId,noOfApplicants:this.noOfApplicants,registered:!1};this.mandateDetailsForm.get("noOfApplicants").setValue(this.noOfApplicants),this.ls.getItem("MANDATE_DETAIL_DONE")&&(t.mandateId=this.mandateId),this.apiService.upsertMandateDetails(t).subscribe(t=>{null!=t&&(this.snack.open("Mandate Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next())})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}next(){this.ls.setItem("MANDATE_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/financial-details"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(yt.a),i.Rb(p.b),i.Rb(o.h),i.Rb(h.a),i.Rb(K.a),i.Rb(en.a),i.Rb(i.h),i.Rb(Ne.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-mandate-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/mandate_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["type","button","mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center",1,"pt-16"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","name","noOfApplicants","readonly","","placeholder","Number Of Applicants","formControlName","noOfApplicants","required",""],[4,"ngIf"],["fxLayout","row",1,"full-width"],[1,"full-width",3,"formGroup"],["fxLayout","row","class","full-width pt-16","formArrayName","mandateInfo_array",4,"ngFor","ngForOf"],["fxLayout","row","formArrayName","mandateInfo_array",1,"full-width","pt-16"],[1,"full-width",3,"formGroupName"],[1,"full-width","mat-elevation-z0"],[1,"mat-elevation-z0","borderStyle",3,"opened","closed"],[1,"marginData"],[1,"textDesign"],[1,"design"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"pt-16","full-width"],["fxFlex","50%","fxFlex.xs","100%"],["matInput","","name","applicantName","placeholder","Applicant Name","formControlName","applicantName","required",""],["fxFlex","50%","fxFlex.xs","100%",1,"p-1"],["matInput","","name","collateralShare","placeholder","Collateral Share Percentage","minlength","1","maxlength","2","formControlName","collateralShare","required","",3,"keypress"],["matInput","","minlength","1","maxlength","2","name","repaymentShare","placeholder","Repayment Share Percentage","formControlName","repaymentShare"],["fxLayout","row","fxLayoutGap","16px",1,"mt-32"],["mat-button","","color","primary",1,"paddingChange",3,"disabled","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h1"),i.Tc(7,"Mandate Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title"),i.Xb(11,"fieldset"),i.Xb(12,"legend",7),i.Tc(13,"Mandate Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,Rl,12,4,"form",8),i.Wb(),i.Wb(),i.Xb(16,"div",9),i.Xb(17,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(18," Back "),i.Wb(),i.Xb(19,"button",11),i.fc("click",function(){return e.submitForm()}),i.Tc(20," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.mandateDetailsForm),i.Eb(4),i.rc("disabled",!e.mandateDetailsForm.valid||!e.mandateInfo.valid))},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,s.c,s.g,z.b,V.c,V.r,V.i,V.y,n.m,s.b,V.e,V.k,yn.a,yn.c,yn.e,yn.f,x.a,V.n,V.m],styles:[".paddingChange[_ngcontent-%COMP%]{padding-left:0}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px;opacity:1}.marginData[_ngcontent-%COMP%]{margin-bottom:0!important}.textDesign[_ngcontent-%COMP%]{font:normal normal medium 18px/22px Montserrat;letter-spacing:0;color:#00000f;opacity:1}"]}),t})();function El(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Customer Name is Required!"),i.Wb())}function Pl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Agency is Required!"),i.Wb())}function Nl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Ratings is Required!"),i.Wb())}function wl(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",20),i.Xb(1,"mat-accordion",21),i.Xb(2,"mat-expansion-panel",22),i.Xb(3,"mat-expansion-panel-header",23),i.Xb(4,"mat-panel-title",24),i.Tc(5,"Score "),i.Wb(),i.Wb(),i.Sb(6,"mat-divider",25),i.Xb(7,"div",12),i.Xb(8,"div",13),i.Xb(9,"div",26),i.Xb(10,"div",15),i.Xb(11,"mat-form-field",16),i.Xb(12,"mat-label"),i.Tc(13,"Select Agency*"),i.Wb(),i.Xb(14,"mat-select",27),i.Xb(15,"mat-option",28),i.Tc(16,"Test Agency"),i.Wb(),i.Xb(17,"mat-option",29),i.Tc(18,"Ujjivan Agency"),i.Wb(),i.Xb(19,"mat-option",30),i.Tc(20,"Fast Track Agency"),i.Wb(),i.Wb(),i.Rc(21,Pl,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Xb(22,"div",15),i.Xb(23,"mat-form-field",16),i.Xb(24,"mat-label"),i.Tc(25,"Remarks"),i.Wb(),i.Sb(26,"input",31),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div",32),i.Xb(28,"div",15),i.Xb(29,"mat-form-field",16),i.Xb(30,"mat-label"),i.Tc(31,"Ratings*"),i.Wb(),i.Xb(32,"input",33),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Rc(33,Nl,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(34,"button",34),i.fc("click",function(){return i.Hc(t),i.jc(2).addFormGroup()}),i.Xb(35,"mat-icon"),i.Tc(36,"add"),i.Wb(),i.Tc(37," ADD AGENCY "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit;i.Eb(1),i.rc("formGroup",t),i.Eb(6),i.rc("formGroup",t),i.Eb(14),i.rc("ngIf",!t.controls.agencyName.valid&&t.controls.agencyName.touched),i.Eb(12),i.rc("ngIf",!t.controls.ratings.valid&&t.controls.ratings.touched)}}function Fl(t,e){if(1&t&&(i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",14),i.Xb(3,"div",15),i.Xb(4,"mat-form-field",16),i.Xb(5,"mat-label"),i.Tc(6,"Customer Name*"),i.Wb(),i.Sb(7,"input",17),i.Rc(8,El,2,0,"mat-error",18),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(9,wl,38,4,"div",19),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.creditForms),i.Eb(7),i.rc("readonly",!0),i.Eb(1),i.rc("ngIf",!t.creditForms.get("customerName").valid&&t.creditForms.get("customerName").touched),i.Eb(1),i.rc("ngForOf",t.c.controls)}}let Ll=(()=>{class t{constructor(t,e,a,n,i,o,r){this.formBuilder=t,this.ls=e,this.appApiService=a,this.snack=n,this.api=i,this.router=o,this.accountService=r,this.customerNames=[]}ngOnInit(){this.customerName=this.ls.getItem("primaryCustomerName"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),setTimeout(()=>{this.getCustomerInformationDetails()},10),this.isCreditRatingDetails=this.ls.getItem("CREDIT_RATING_DONE"),0==this.isCreditRatingDetails?this.buildCollateralForm():this.gettingCreditRatingDetail(),console.log(this.isCreditRatingDetails)}gettingCreditRatingDetail(){this.api.gettingCreditRatingDetails(this.loanaccountID).subscribe(t=>{console.log(t),this.buildCollateralForm(t,!0)})}buildCollateralForm(t,e){console.log(t),this.creditForms=this.formBuilder.group({customerName:[this.customerName,V.z.required],loanAccountId:this.loanaccountID,agencyRating:this.formBuilder.array([this.addModFormGroup(t)])}),console.log(this.creditForms)}getCustomerInformationDetails(){this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(t=>{console.log("resp for customer information names ",t.data);for(let e=0;e<t.data.length;e++)this.customerNames[e]=null!=t.data[e].middleName?t.data[e].firstName+" "+t.data[e].middleName+" "+t.data[e].lastName:t.data[e].firstName+" "+t.data[e].lastName;console.log("customer name ",this.customerNames),1===this.customerNames.length&&this.creditForms.get("customerName").setValue(this.customerNames[0])},t=>{})}get f(){return this.creditForms.controls}get c(){return this.f.agencyRating}addFormGroup(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",V.z.required],ratings:["",V.z.required],remarks:[""]}))}addModFormGroup(t){return console.log(t,"inside addModeFormGrp"),this.formBuilder.group({agencyId:[t?t.agencyId:0],agencyName:[t?t.agencyRating[0].agencyName:"",V.z.required],ratings:[t?t.agencyRating[0].ratings:"",V.z.required],remarks:[t?t.agencyRating[0].remarks:""]})}OnSubmit(t){console.log("val",t),t.accountType="loan",this.api.saveCreditDetails(t).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open(" Credit Score Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.ls.setItem("CREDIT_RATING_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/list/underwritingStage/valuationofassets"])):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}goBack(){this.router.navigate(["/loan/account/list/underwritingStage"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(Ne.a),i.Rb(h.a),i.Rb(p.b),i.Rb(o.h),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-credit-rating-details"]],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask_Group_9.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-2"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["matInput","","type","text","name","customerName","formControlName","customerName",1,"alignment",3,"readonly"],[4,"ngIf"],["class","mt-16",4,"ngFor","ngForOf"],[1,"mt-16"],[1,"full-width","mat-elevation-z0",3,"formGroup"],[1,"borderStyle"],[1,"marginData"],[1,"textDesign"],[1,"design"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1","pt-2"],["name","agencyName","disableOptionCentering","","formControlName","agencyName"],["value","Test Agency"],["value","Ujjivan Agency"],["value","Fast Track Agency"],["matInput","","formControlName","remarks","placeholder","remarks","type","text","name","remarks",1,"alignment"],["fxFlex","100","fxFlex.gt-xs","50",1,"pt-2"],["matInput","","formControlName","ratings","placeholder","ratings","type","text","name","ratings",1,"alignment",3,"keypress"],["mat-button","","color","primary",1,"PaddingChange",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h2"),i.Tc(7,"Credit Score Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title"),i.Xb(11,"fieldset"),i.Xb(12,"legend",7),i.Tc(13,"Credit Score Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,Fl,10,4,"form",8),i.Wb(),i.Wb(),i.Xb(16,"div",9),i.Xb(17,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(18," Back "),i.Wb(),i.Xb(19,"button",11),i.fc("click",function(){return e.OnSubmit(e.creditForms.value)}),i.Tc(20," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.creditForms),i.Eb(4),i.rc("disabled",!e.creditForms.valid))},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,s.c,s.g,z.b,V.c,V.r,V.i,n.m,s.b,yn.a,yn.c,yn.e,yn.f,x.a,q.a,B.n,v.a],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{max-width:200px}.inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:5%}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px;opacity:1}.marginData[_ngcontent-%COMP%]{margin-bottom:0!important}.textDesign[_ngcontent-%COMP%]{font:normal normal medium 18px/22px Montserrat;letter-spacing:0;color:#00000f;opacity:1}.PaddingChange[_ngcontent-%COMP%]{padding-left:0!important}  .mat-drawer-inner-container{overflow:hidden}"]}),t})();var Vl=a("U75Y"),zl=a("VWQp");function ql(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Select Opinion By "),i.Wb())}function Bl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Market Value of Asset is Required!"),i.Wb())}function jl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Opinion Date is Required! "),i.Wb())}function Ul(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Asset Area is Required! "),i.Wb())}function Hl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Lawyer Name is Required!"),i.Wb())}function Gl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Valid Lawyer Name"),i.Wb())}function Yl(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Valuation Date is Required! "),i.Wb())}let $l=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s){this.formBuilder=t,this.apiService=e,this.datepipe=a,this.loader=n,this.snack=i,this.api=o,this.ls=r,this.router=c,this.accountService=s,this.maxDate=new Date,this.minDate=new Date,this.showEditOption=!1,this.isChecked=!0,this.disabled=!0,this.disabledToggle=!0,this.accountForm=this.formBuilder.group({assetAreaSize:["",[V.z.required]],description:["",[V.z.pattern(".*[a-zA-Z].*")]],lawyerName:["",[V.z.required,V.z.pattern(".*[a-zA-Z].*")]],mktValOfAsset:["",[V.z.required]],opinion:["",[V.z.required]],isDecisionFavorable:[""],opinionDate:["",V.z.compose([V.z.required,V.z.min(this.opinionData)])],valuationDate:["",V.z.compose([V.z.required,V.z.min(this.opinionData)])],assetAreaInUnits:["",[V.z.required]]})}ngOnInit(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),console.log("this.productaccountID1",this.loanaccountID);let t=JSON.parse(this.ls.getItem("LEGAL_OPINION_DONE"));setTimeout(()=>{null!=this.loanaccountID&&t?(this.showEditOption=!0,this.gettingLegalOpinionDetail()):(console.log("else"),this.showEditOption=!1,this.buildAccountForm())},10),this.valueData(),this.lastUpdateByCif()}gettingLegalOpinionDetail(){this.loader.open(),this.api.gettingLegalOpinionDetails(this.loanaccountID).subscribe(t=>{this.isChecked="Favourable"==t.opinion,this.loader.close(),console.log(t),this.buildAccountForm(t,!0)},t=>{this.loader.close()})}toggle(t){console.log("value",t),"Not Favourable"==t?(this.disabled=!1,this.isChecked=!1,this.disabledToggle=!1):"Favourable"==t?(this.disabled=!0,this.isChecked=!0,this.disabledToggle=!0):this.isChecked=!1}buildAccountForm(t,e){t.opinionDate=t?$(t.opinionDate).format():"",t.valuationDate=t?$(t.valuationDate).format():"",console.log(t),this.accountForm=this.formBuilder.group({assetAreaInUnits:[t?t.assetAreaInUnits:""],assetAreaSize:[t?t.assetAreaSize:0],description:[t?t.description:""],isDecisionFavorable:[this.isChecked],lawyerName:[t?t.lawyerName:""],loanAccountId:[this.loanaccountID],mktValOfAsset:[t?t.mktValOfAsset:""],opinion:[t?t.opinion:""],opinionDate:[t?t.opinionDate:""],valuationDate:[t?t.valuationDate:""]}),console.log("this.accountForm",this.accountForm)}OnSubmit(){let t=new Date;t=this.accountForm.value.opinionDate;var e=$(t).format("YYYY-MMM-DD HH:MM:SS");let a=new Date;a=this.accountForm.value.valuationDate;var n=$(a).format("YYYY-MMM-DD HH:MM:SS"),i=this.accountForm.value.assetAreaSize;i=parseInt(i),console.log("pk",i),this.api.saveLegalOpinion({assetAreaInUnits:this.accountForm.value.assetAreaInUnits,assetAreaSize:i,description:this.accountForm.value.description,isDecisionFavorable:this.accountForm.value.isDecisionFavorable,lawyerName:this.accountForm.value.lawyerName,loanAccountId:this.loanaccountID,mktValOfAsset:this.accountForm.value.mktValOfAsset,opinion:this.accountForm.value.opinion,opinionDate:e,valuationDate:n}).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open(" Legal Opinion Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.ls.setItem("LEGAL_OPINION_DONE",!0),this.isCreditRatingDetails=this.ls.getItem("CREDIT_RATING_DONE"),this.isValuationofAsset=this.ls.getItem("VALUATION_OF_ASSET_DONE"),this.isLegalOpinion=this.ls.getItem("LEGAL_OPINION_DONE"),1==this.isCreditRatingDetails&&1==this.isValuationofAsset&&1==this.isLegalOpinion&&(this.ls.setItem("underWritingStage",!0),this.next())):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)}),this.router.navigate(["/loan/account/assessment/list"])}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}_keyPress1(t){(32===t.which&&!t.target.value.length||t.keyCode>=48&&t.keyCode<=57)&&t.preventDefault()}next(){this.accountService.refresh.next(),this.router.navigate(["/loan/account/assessment/list"])}goBack(){this.router.navigate(["/loan/account/list/underwritingStage/valuationofassets"])}valueData(){this.api.gettingValuationDetails(this.loanaccountID).subscribe(t=>{console.log(t),this.accountForm.get("mktValOfAsset").setValue(t.mktValOfAsset)})}lastUpdateByCif(){this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{this.opinionData=this.datepipe.transform(t.applicationDate,"yyyy-MM-dd"),console.log(this.opinionData)},t=>{console.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(p.b),i.Rb(n.f),i.Rb(yt.a),i.Rb(h.a),i.Rb(p.b),i.Rb(u.a),i.Rb(o.h),i.Rb(d.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-legal-opinion"]],decls:99,vars:16,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/legal_opinion_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,"alignChange"],["visible","true"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-2"],["appearance","outline",1,"full-width"],["name","opinion","formControlName","opinion","disableOptionCentering","","placeholder","Opinion By",3,"selectionChange"],["value","Favourable"],["value","Not Favourable"],[4,"ngIf"],[1,"flex-grow-1"],["matInput","","formControlName","mktValOfAsset","placeholder","Market Value","type","text","name","mktValOfAsset",1,"alignment",3,"keypress"],["matInput","","name","opinionDate","formControlName","opinionDate","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker","min"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker1",""],["matInput","","name","description","formControlName","description","placeholder","Description",1,"alignment",3,"keypress"],["fxFlex","100","fxFlex.gt-xs","50"],["fxLayout","row","fxLayoutGap","5%"],["fxFlex","20%",1,"flex-grow-1"],["formControlName","assetAreaInUnits","disableOptionCentering","","placeholder","Select"],["value","Sq"],["value","Acr"],["value","Cent"],["fxFlex","75%",1,"flex-grow-1"],["matInput","","formControlName","assetAreaSize","name","assetAreaSize","placeholder","Asset Area","name","remarks",1,"alignment",3,"keypress"],["matInput","","name","lawyerName","formControlName","lawyerName","placeholder","Lawyer Name",1,"alignment",3,"keypress"],["matInput","","name","valuationDate","formControlName","valuationDate","placeholder","DD/MM/YYYY",1,"alignment",3,"matDatepicker","min"],["appDatepicker",""],[1,"pb-1"],["formControlName","isDecisionFavorable",1,"charge",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h2"),i.Tc(7,"Legal Opinion"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title",7),i.Xb(11,"fieldset"),i.Xb(12,"legend",8),i.Tc(13,"Legal Opinion"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Xb(15,"form",9),i.Xb(16,"div",10),i.Xb(17,"div",11),i.Xb(18,"div",12),i.Xb(19,"mat-form-field",13),i.Xb(20,"mat-label"),i.Tc(21,"Opinion By*"),i.Wb(),i.Xb(22,"mat-select",14),i.fc("selectionChange",function(t){return e.toggle(t.value)}),i.Xb(23,"mat-option",15),i.Tc(24,"Favourable"),i.Wb(),i.Xb(25,"mat-option",16),i.Tc(26,"Not Favourable"),i.Wb(),i.Wb(),i.Rc(27,ql,2,0,"mat-error",17),i.Wb(),i.Wb(),i.Xb(28,"div",18),i.Xb(29,"mat-form-field",13),i.Xb(30,"mat-label"),i.Tc(31,"Market Value of Asset*"),i.Wb(),i.Xb(32,"input",19),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Rc(33,Bl,2,0,"mat-error",17),i.Wb(),i.Wb(),i.Xb(34,"div",18),i.Xb(35,"mat-form-field",13),i.Xb(36,"mat-label"),i.Tc(37,"Opinion Date*"),i.Wb(),i.Sb(38,"input",20),i.Xb(39,"div",21),i.Sb(40,"mat-datepicker-toggle",22),i.Sb(41,"mat-datepicker",null,23),i.Wb(),i.Rc(43,jl,2,0,"mat-error",17),i.Wb(),i.Wb(),i.Xb(44,"div",12),i.Xb(45,"mat-form-field",13),i.Xb(46,"mat-label"),i.Tc(47,"Description"),i.Wb(),i.Xb(48,"input",24),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(49,"div",25),i.Xb(50,"div"),i.Xb(51,"div",26),i.Xb(52,"div",27),i.Xb(53,"mat-form-field",13),i.Xb(54,"mat-label"),i.Tc(55,"Asset Area*"),i.Wb(),i.Xb(56,"mat-select",28),i.Xb(57,"mat-option"),i.Tc(58,"Select"),i.Wb(),i.Xb(59,"mat-option",29),i.Tc(60,"Sq"),i.Wb(),i.Xb(61,"mat-option",30),i.Tc(62,"Acr"),i.Wb(),i.Xb(63,"mat-option",31),i.Tc(64,"Cent"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(65,"div",32),i.Xb(66,"mat-form-field",13),i.Xb(67,"mat-label"),i.Tc(68,"Asset Area"),i.Wb(),i.Xb(69,"input",33),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Rc(70,Ul,2,0,"mat-error",17),i.Wb(),i.Wb(),i.Xb(71,"div",12),i.Xb(72,"mat-form-field",13),i.Xb(73,"mat-label"),i.Tc(74,"Lawyer Name*"),i.Wb(),i.Xb(75,"input",34),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Rc(76,Hl,2,0,"mat-error",17),i.Rc(77,Gl,2,0,"mat-error",17),i.Wb(),i.Wb(),i.Xb(78,"div",18),i.Xb(79,"mat-form-field",13),i.Xb(80,"mat-label"),i.Tc(81,"Valuation Date*"),i.Wb(),i.Sb(82,"input",35),i.Xb(83,"div",21),i.Sb(84,"mat-datepicker-toggle",22),i.Sb(85,"mat-datepicker",null,36),i.Wb(),i.Rc(87,Yl,2,0,"mat-error",17),i.Wb(),i.Wb(),i.Xb(88,"div",10),i.Xb(89,"div",11),i.Xb(90,"div",37),i.Tc(91," Decision Favorable ?\xa0\xa0\xa0 "),i.Xb(92,"mat-slide-toggle",38),i.fc("ngModelChange",function(t){return e.disabled=t}),i.Wb(),i.Wb(),i.Sb(93,"br"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(94,"div",39),i.Xb(95,"button",40),i.fc("click",function(){return e.goBack()}),i.Tc(96," Back "),i.Wb(),i.Xb(97,"button",41),i.fc("click",function(){return e.OnSubmit()}),i.Tc(98," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(42),a=i.Dc(86);i.Eb(15),i.rc("formGroup",e.accountForm),i.Eb(12),i.rc("ngIf",!e.accountForm.get("opinion").valid&&e.accountForm.get("opinion").touched),i.Eb(6),i.rc("ngIf",!e.accountForm.get("mktValOfAsset").valid&&e.accountForm.get("mktValOfAsset").touched),i.Eb(5),i.rc("matDatepicker",t)("min",e.opinionData),i.Eb(2),i.rc("for",t),i.Eb(3),i.rc("ngIf",!e.accountForm.get("opinionDate").valid&&e.accountForm.get("opinionDate").touched),i.Eb(27),i.rc("ngIf",!e.accountForm.get("assetAreaInUnits").valid&&e.accountForm.get("assetAreaInUnits").touched||!e.accountForm.get("assetAreaSize").valid&&e.accountForm.get("assetAreaSize").touched),i.Eb(6),i.rc("ngIf",e.accountForm.get("lawyerName").hasError("required")&&e.accountForm.get("lawyerName").touched),i.Eb(1),i.rc("ngIf",e.accountForm.get("lawyerName").hasError("pattern")&&e.accountForm.get("lawyerName").touched),i.Eb(5),i.rc("matDatepicker",a)("min",e.opinionData),i.Eb(2),i.rc("for",a),i.Eb(3),i.rc("ngIf",!e.accountForm.get("valuationDate").valid&&e.accountForm.get("valuationDate").touched),i.Eb(5),i.rc("ngModel",e.disabled),i.Eb(5),i.rc("disabled",!e.accountForm.valid)}},directives:[r.e,r.b,c.a,c.h,c.d,V.A,V.s,V.j,r.f,s.c,s.g,q.a,V.r,V.i,B.n,n.n,z.b,V.c,Q.e,Q.g,s.j,Q.d,et.a,r.d,l.b,s.b],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{width:100px}.full-width2[_ngcontent-%COMP%]{width:335px}.inputCard[_ngcontent-%COMP%]{width:100%;height:25px}.inputMatcard[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px;width:300px}.inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;margin-top:12px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:20%;margin-left:0!important;height:48px}.sqInput2[_ngcontent-%COMP%]{width:73%;height:48px}mat-hint[_ngcontent-%COMP%]{font-family:Manrope}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.datechange[_ngcontent-%COMP%]{height:10px;margin-right:10px}mat-slide-toggle[_ngcontent-%COMP%]{margin-top:5%}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:5%}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%}"]}),t})();function Ql(t,e){1&t&&i.Sb(0,"img",21)}function Zl(t,e){if(1&t&&(i.Xb(0,"h4",22),i.Tc(1),i.Wb()),2&t){const t=i.jc();i.Eb(1),i.Uc(t.titleName)}}function Jl(t,e){if(1&t&&(i.Xb(0,"mat-card",8),i.Xb(1,"mat-card-content"),i.Xb(2,"div",2),i.Xb(3,"div",9),i.Xb(4,"div",10),i.Vb(5),i.Xb(6,"div",23),i.Xb(7,"mat-card",24),i.Xb(8,"mat-hint",13),i.Tc(9,"Ratings"),i.Wb(),i.Sb(10,"br"),i.Xb(11,"div",9),i.Xb(12,"div",10),i.Vb(13),i.Xb(14,"div",11),i.Xb(15,"mat-hint",12),i.Tc(16,"Agency"),i.Wb(),i.Sb(17,"br"),i.Xb(18,"mat-hint",13),i.Tc(19),i.Wb(),i.Wb(),i.Xb(20,"div",11),i.Xb(21,"mat-hint",12),i.Tc(22,"Ratings"),i.Wb(),i.Sb(23,"br"),i.Xb(24,"mat-hint",13),i.Tc(25),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(26,"div",10),i.Vb(27),i.Xb(28,"div",11),i.Xb(29,"mat-hint",12),i.Tc(30,"Remarks"),i.Wb(),i.Sb(31,"br"),i.Xb(32,"mat-hint",13),i.Tc(33),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(19),i.Uc(null==t?null:t.agencyName),i.Eb(6),i.Vc("",null==t?null:t.ratings," "),i.Eb(8),i.Uc(null==t?null:t.remarks)}}function Kl(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",25),i.Xb(1,"button",26),i.fc("click",function(){return i.Hc(t),i.jc().goBack()}),i.Tc(2," Back "),i.Wb(),i.Xb(3,"button",27),i.fc("click",function(){return i.Hc(t),i.jc().done()}),i.Tc(4," Done "),i.Wb(),i.Wb()}}let tb=(()=>{class t{constructor(t,e,a){this.router=t,this.api=e,this.ls=a,this.titleName="UnderWriting Stage"}ngOnInit(){this.loanAccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountID=this.loanInfo.loanAccountId),this.api.getApprovedStatus().subscribe(t=>{console.log("message",t),this.isApprovedSreen=t}),this.loanAccountId=this.ls.getItem("loanAccountId"),setTimeout(()=>{this.getunderwritingStageSummaryDetails(this.loanAccountId),this.gettingCreditRatingDetail()},10)}getunderwritingStageSummaryDetails(t){this.api.gettingUnderWritingSummary(this.loanAccountId).subscribe(t=>{console.log(t),this.ValuationDetailsValues=t.valuationOfAssetInfo,console.log(this.ValuationDetailsValues),this.opinionDetailsValue=t.legalOpinionInfo,console.log(this.opinionDetailsValue)})}gettingCreditRatingDetail(){this.api.gettingCreditRatingDetails(this.loanAccountID).subscribe(t=>{console.log(t),this.creditRatingValues=t})}goBack(){this.router.navigate(["/loan/account/list"])}done(){this.router.navigate(["/loan/account/list"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(p.b),i.Rb(u.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-underwriting-stage-summary"]],decls:192,vars:31,consts:[["class","entryImg","src","assets/images/entry.png","alt","",4,"ngIf"],["class","para",4,"ngIf"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["class","chequecard",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutGap","4%","fxLayoutAlign","space-between none",1,"colAlign"],["layout","row"],["flex","",1,"line"],[1,"toggle"],["disabled","","checked","opinionDetailsValue.isDecisionFavorable"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px","class","mt-32",4,"ngIf"],["src","assets/images/entry.png","alt","",1,"entryImg"],[1,"para"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Rc(1,Ql,1,0,"img",0),i.Rc(2,Zl,2,1,"h4",1),i.Xb(3,"div",2),i.Xb(4,"div",3),i.Xb(5,"div",4),i.Xb(6,"h4",5),i.Tc(7,"Credit Rating Details"),i.Wb(),i.Wb(),i.Xb(8,"div",6),i.Xb(9,"div",7),i.Xb(10,"mat-card",8),i.Xb(11,"mat-card-content"),i.Xb(12,"div",2),i.Xb(13,"div",9),i.Xb(14,"div",10),i.Vb(15),i.Xb(16,"div",11),i.Xb(17,"mat-hint",12),i.Tc(18,"CustomerName"),i.Wb(),i.Sb(19,"br"),i.Xb(20,"mat-hint",13),i.Tc(21),i.Wb(),i.Wb(),i.Sb(22,"div",11),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(23,"div",3),i.Xb(24,"div",6),i.Xb(25,"div",7),i.Rc(26,Jl,34,3,"mat-card",14),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(27,"br"),i.Xb(28,"div",2),i.Xb(29,"div",3),i.Xb(30,"div",4),i.Xb(31,"h4",5),i.Tc(32,"Valuation Details"),i.Wb(),i.Wb(),i.Xb(33,"div",6),i.Xb(34,"div",7),i.Xb(35,"mat-card",8),i.Xb(36,"mat-card-content"),i.Xb(37,"div",2),i.Xb(38,"div",15),i.Xb(39,"div",10),i.Vb(40),i.Xb(41,"div",11),i.Xb(42,"mat-hint",12),i.Tc(43,"Bank Valuation"),i.Wb(),i.Sb(44,"br"),i.Xb(45,"mat-hint",13),i.Tc(46),i.Wb(),i.Wb(),i.Xb(47,"div",11),i.Xb(48,"mat-hint",12),i.Tc(49,"Asset Type "),i.Wb(),i.Sb(50,"br"),i.Xb(51,"mat-hint",13),i.Tc(52),i.Wb(),i.Wb(),i.Xb(53,"div",11),i.Xb(54,"mat-hint",12),i.Tc(55,"Property Area "),i.Wb(),i.Sb(56,"br"),i.Xb(57,"mat-hint",13),i.Tc(58),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(59,"div"),i.Xb(60,"span",16),i.Sb(61,"hr",17),i.Wb(),i.Wb(),i.Xb(62,"div",10),i.Vb(63),i.Xb(64,"div",11),i.Xb(65,"mat-hint",12),i.Tc(66,"Borrowers Market Value of Asset"),i.Wb(),i.Sb(67,"br"),i.Xb(68,"mat-hint",13),i.Tc(69),i.Wb(),i.Wb(),i.Xb(70,"div",11),i.Xb(71,"mat-hint",12),i.Tc(72,"Asset Valuer "),i.Wb(),i.Sb(73,"br"),i.Xb(74,"mat-hint",13),i.Tc(75),i.Wb(),i.Wb(),i.Xb(76,"div",11),i.Xb(77,"mat-hint",12),i.Tc(78,"Valuation Date "),i.Wb(),i.Sb(79,"br"),i.Xb(80,"mat-hint",13),i.Tc(81),i.kc(82,"date"),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(83,"div"),i.Xb(84,"span",16),i.Sb(85,"hr",17),i.Wb(),i.Wb(),i.Xb(86,"div",10),i.Vb(87),i.Xb(88,"div",11),i.Xb(89,"mat-hint",12),i.Tc(90,"Actual Area of the Property"),i.Wb(),i.Sb(91,"br"),i.Xb(92,"mat-hint",13),i.Tc(93),i.Wb(),i.Wb(),i.Xb(94,"div",11),i.Xb(95,"mat-hint",12),i.Tc(96,"Face Value Of Asset"),i.Wb(),i.Sb(97,"br"),i.Xb(98,"mat-hint",13),i.Tc(99),i.Wb(),i.Wb(),i.Xb(100,"div",11),i.Xb(101,"mat-hint",12),i.Tc(102,"Market Value Of Asset "),i.Wb(),i.Sb(103,"br"),i.Xb(104,"mat-hint",13),i.Tc(105),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(106,"div"),i.Xb(107,"span",16),i.Sb(108,"hr",17),i.Wb(),i.Wb(),i.Xb(109,"div",10),i.Vb(110),i.Xb(111,"div",11),i.Xb(112,"mat-hint",12),i.Tc(113,"Forced Sale Value"),i.Wb(),i.Sb(114,"br"),i.Xb(115,"mat-hint",13),i.Tc(116),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(117,"br"),i.Xb(118,"div",2),i.Xb(119,"div",3),i.Xb(120,"div",4),i.Xb(121,"h4",5),i.Tc(122,"Legal Opinion"),i.Wb(),i.Wb(),i.Xb(123,"div",6),i.Xb(124,"div",7),i.Xb(125,"mat-card",8),i.Xb(126,"mat-card-content"),i.Xb(127,"div",2),i.Xb(128,"div",15),i.Xb(129,"div",10),i.Vb(130),i.Xb(131,"div",11),i.Xb(132,"mat-hint",12),i.Tc(133,"Opinion"),i.Wb(),i.Sb(134,"br"),i.Xb(135,"mat-hint",13),i.Tc(136),i.Wb(),i.Wb(),i.Xb(137,"div",11),i.Xb(138,"mat-hint",12),i.Tc(139,"Asset Area"),i.Wb(),i.Sb(140,"br"),i.Xb(141,"mat-hint",13),i.Tc(142),i.Wb(),i.Wb(),i.Xb(143,"div",11),i.Xb(144,"mat-hint",12),i.Tc(145,"Market Value of Asset"),i.Wb(),i.Sb(146,"br"),i.Xb(147,"mat-hint",13),i.Tc(148),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(149,"div"),i.Xb(150,"span",16),i.Sb(151,"hr",17),i.Wb(),i.Wb(),i.Xb(152,"div",10),i.Vb(153),i.Xb(154,"div",11),i.Xb(155,"mat-hint",12),i.Tc(156,"Lawyer Name "),i.Wb(),i.Sb(157,"br"),i.Xb(158,"mat-hint",13),i.Tc(159),i.Wb(),i.Wb(),i.Xb(160,"div",11),i.Xb(161,"mat-hint",12),i.Tc(162,"Opinion Date"),i.Wb(),i.Sb(163,"br"),i.Xb(164,"mat-hint",13),i.Tc(165),i.kc(166,"date"),i.Wb(),i.Wb(),i.Xb(167,"div",11),i.Xb(168,"mat-hint",12),i.Tc(169,"Valuation Date"),i.Wb(),i.Sb(170,"br"),i.Xb(171,"mat-hint",13),i.Tc(172),i.kc(173,"date"),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(174,"div"),i.Xb(175,"span",16),i.Sb(176,"hr",17),i.Wb(),i.Wb(),i.Xb(177,"div",10),i.Vb(178),i.Xb(179,"div",11),i.Xb(180,"mat-hint",12),i.Tc(181,"Description"),i.Wb(),i.Sb(182,"br"),i.Xb(183,"mat-hint",13),i.Tc(184),i.Wb(),i.Wb(),i.Xb(185,"div",11),i.Xb(186,"mat-hint",12),i.Tc(187,"Decision Favorable ?"),i.Wb(),i.Sb(188,"br"),i.Xb(189,"div",18),i.Sb(190,"mat-slide-toggle",19),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(191,Kl,5,0,"div",20),i.Wb()),2&t&&(i.Eb(1),i.rc("ngIf",!e.isApprovedSreen),i.Eb(1),i.rc("ngIf",!e.isApprovedSreen),i.Eb(19),i.Uc(e.creditRatingValues.customerName),i.Eb(5),i.rc("ngForOf",e.creditRatingValues.agencyRating),i.Eb(20),i.Uc(e.ValuationDetailsValues.bankValuation),i.Eb(6),i.Vc(" ",e.ValuationDetailsValues.assetType," "),i.Eb(6),i.Wc(" ",e.ValuationDetailsValues.propertyAreaInUnits," ",e.ValuationDetailsValues.propertyAreaSize," "),i.Eb(11),i.Vc(" ",e.ValuationDetailsValues.borrowersMktValOfAsset," "),i.Eb(6),i.Uc(e.ValuationDetailsValues.assetValue),i.Eb(6),i.Uc(i.lc(82,25,e.ValuationDetailsValues.valuationDate)),i.Eb(12),i.Wc(" ",e.ValuationDetailsValues.actualPropertyAreaInUnits," ",e.ValuationDetailsValues.actualPropertyAreaSize," "),i.Eb(6),i.Uc(e.ValuationDetailsValues.faceValOfAsset),i.Eb(6),i.Uc(e.ValuationDetailsValues.mktValOfAsset),i.Eb(11),i.Vc(" ",e.ValuationDetailsValues.forcedSaleValue," "),i.Eb(20),i.Uc(e.opinionDetailsValue.opinion),i.Eb(6),i.Wc(" ",e.opinionDetailsValue.assetAreaInUnits," ",e.opinionDetailsValue.assetAreaSize," "),i.Eb(6),i.Vc(" ",e.opinionDetailsValue.mktValOfAsset," "),i.Eb(11),i.Vc(" ",e.opinionDetailsValue.lawyerName," "),i.Eb(6),i.Vc("",i.lc(166,27,e.opinionDetailsValue.opinionDate)," "),i.Eb(7),i.Vc("",i.lc(173,29,e.opinionDetailsValue.valuationDate)," "),i.Eb(12),i.Vc(" ",e.opinionDetailsValue.description," "),i.Eb(7),i.rc("ngIf",!e.isApprovedSreen))},directives:[n.n,r.e,r.d,r.b,c.a,c.d,r.f,s.f,n.m,et.a,l.b],pipes:[n.f],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#2b2b2b;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{background-color:#f9fafb;box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{width:32px!important;height:14px!important;background-color:#49c5b6} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f9fafa;width:17px!important;height:17px!important}"]}),t})();const eb=function(){return{y:"50px",delay:"300ms"}},ab=function(t){return{value:"*",params:t}};function nb(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",21),i.Xb(1,"mat-card"),i.Xb(2,"div",22),i.Xb(3,"div",23),i.Xb(4,"mat-icon",24),i.Tc(5,"check_circle"),i.Wb(),i.Wb(),i.Xb(6,"div",25),i.Xb(7,"h6"),i.Tc(8,"Underwriting Stage"),i.Wb(),i.Wb(),i.Sb(9,"span",26),i.Xb(10,"button",27),i.fc("click",function(){return i.Hc(t),i.jc().viewSummary()}),i.Tc(11," View Summary "),i.Wb(),i.Wb(),i.Wb(),i.Wb()}2&t&&(i.Eb(1),i.rc("@animate",i.xc(2,ab,i.wc(1,eb))))}function ib(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",27),i.fc("click",function(){return i.Hc(t),i.jc().goToCreditRatingSummary()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const ob=function(){return["/loan/account/list/underwritingStage/creditrating"]};function rb(t,e){1&t&&(i.Xb(0,"button",28),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t&&i.rc("routerLink",i.wc(1,ob))}function cb(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",27),i.fc("click",function(){return i.Hc(t),i.jc().goToValuationAssetsSummary()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const sb=function(){return["/loan/account/list/underwritingStage/valuationofassets"]};function lb(t,e){if(1&t&&(i.Xb(0,"button",29),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,sb))("disabled",!t.isCreditRatingDetails)}}function bb(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",27),i.fc("click",function(){return i.Hc(t),i.jc().goToLegalOpinionSummary()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}const mb=function(){return["/loan/account/list/underwritingStage/legalopinion"]};function ub(t,e){if(1&t&&(i.Xb(0,"button",29),i.Tc(1," Add Details "),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("routerLink",i.wc(2,mb))("disabled",!t.isValuationofAsset)}}const db=function(t){return{"border-size":t}};let pb=(()=>{class t{constructor(t,e,a){this.ls=t,this.dialogService=e,this.router=a,this.isUnderWritingStageDone=!1,this.isCreditRatingDetails=!1,this.isValuationofAsset=!1,this.isLegalOpinion=!1,this.loanAccId="200"}ngOnInit(){this.isUnderWritingStageDone=this.ls.getItem("underWritingStage"),this.isCreditRatingDetails=this.ls.getItem("CREDIT_RATING_DONE"),this.isValuationofAsset=this.ls.getItem("VALUATION_OF_ASSET_DONE"),this.isLegalOpinion=this.ls.getItem("LEGAL_OPINION_DONE")}goToCreditRatingSummary(){this.dialogService.creditRatingSummaryDialog()}goToValuationAssetsSummary(){this.dialogService.valuationAssetsSummaryDialog()}goToLegalOpinionSummary(){this.dialogService.legalOpinionSummaryDialog()}viewSummary(){this.router.navigate(["loan/account/list/underwritingStage/summary"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(u.a),i.Rb(La.a),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-underwriting-stage"]],decls:64,vars:19,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",1,"fontStyle"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],[4,"ngIf","ngIfElse"],["showCredit",""],["showValuation",""],["showOpinion",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create Retail Loan Account"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,nb,12,4,"div",8),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Xb(14,"mat-card",11),i.Xb(15,"mat-card-header"),i.Xb(16,"mat-card-title"),i.Tc(17,"1. Credit Rating Details"),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"div",12),i.Xb(20,"div",13),i.Xb(21,"p",14),i.Tc(22," The information on the External Rating Agencies Rating / Scores for the Loan Applicant is collected. "),i.Wb(),i.Wb(),i.Xb(23,"div",15),i.Sb(24,"img",16),i.Wb(),i.Wb(),i.Wb(),i.Sb(25,"mat-divider"),i.Xb(26,"mat-card-actions"),i.Rc(27,ib,5,0,"ng-container",17),i.Rc(28,rb,4,2,"ng-template",null,18,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",10),i.Xb(31,"mat-card",11),i.Xb(32,"mat-card-header"),i.Xb(33,"mat-card-title"),i.Tc(34,"2. Valuation of Asset"),i.Wb(),i.Wb(),i.Xb(35,"mat-card-content"),i.Xb(36,"div",12),i.Xb(37,"div",13),i.Xb(38,"p",14),i.Tc(39," The information on the asset valuation done by the bank approved valuator is captured. "),i.Wb(),i.Wb(),i.Xb(40,"div",15),i.Sb(41,"img",16),i.Wb(),i.Wb(),i.Wb(),i.Sb(42,"mat-divider"),i.Xb(43,"mat-card-actions"),i.Rc(44,cb,5,0,"ng-container",17),i.Rc(45,lb,4,3,"ng-template",null,19,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Xb(47,"div",10),i.Xb(48,"mat-card",11),i.Xb(49,"mat-card-header"),i.Xb(50,"mat-card-title"),i.Tc(51,"3. Legal Opinion"),i.Wb(),i.Wb(),i.Xb(52,"mat-card-content"),i.Xb(53,"div",12),i.Xb(54,"div",13),i.Xb(55,"p",14),i.Tc(56,"The legal opinion provided by the bank approved lawyer and decision provided thereon is captured."),i.Wb(),i.Wb(),i.Xb(57,"div",15),i.Sb(58,"img",16),i.Wb(),i.Wb(),i.Wb(),i.Sb(59,"mat-divider"),i.Xb(60,"mat-card-actions"),i.Rc(61,bb,5,0,"ng-container",17),i.Rc(62,ub,4,3,"ng-template",null,20,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(29),a=i.Dc(46),n=i.Dc(63);i.Eb(11),i.rc("ngIf",e.isUnderWritingStageDone),i.Eb(3),i.rc("ngClass",i.xc(13,db,e.isCreditRatingDetails||!e.isCreditRatingDetails)),i.Eb(10),i.rc("src","assets/images/svg/Mask_Group_9.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.isCreditRatingDetails)("ngIfElse",t),i.Eb(4),i.rc("ngClass",i.xc(15,db,e.isValuationofAsset||!e.isValuationofAsset&&e.isCreditRatingDetails)),i.Eb(10),i.rc("src","assets/images/svg/Mask Group 11.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.isValuationofAsset)("ngIfElse",a),i.Eb(4),i.rc("ngClass",i.xc(17,db,e.isLegalOpinion||!e.isLegalOpinion&&e.isValuationofAsset)),i.Eb(10),i.rc("src","assets/images/svg/Mask Group 10.svg",i.Jc),i.Eb(3),i.rc("ngIf",e.isLegalOpinion)("ngIfElse",n)}},directives:[r.e,r.b,n.n,c.a,n.l,jt.a,c.e,c.h,c.d,r.f,r.d,x.a,c.b,v.a,l.b,o.i],styles:[".not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.fontStyle[_ngcontent-%COMP%]{font-size:11px}.text-align[_ngcontent-%COMP%]{padding-left:18px}"]}),t})();var fb=a("9P+6");function gb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Bank Valuation is Required!"),i.Wb())}function hb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Asset Valuer is Required!"),i.Wb())}function vb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Actual Area of the Property is Required! "),i.Wb())}function Wb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Actual Area of the Property is Required! "),i.Wb())}function Xb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Market Value Of Asset is Required!"),i.Wb())}function yb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Asset Type is Required!"),i.Wb())}function xb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Borrowers Market Value of Asset is Required!"),i.Wb())}function Cb(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Valuation Date is Required!"),i.Wb())}function Ib(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Face Value Of Asset is Required!"),i.Wb())}function Ob(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Forced Sale Value is Required"),i.Wb())}let Ab=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s){this.formBuilder=t,this.ls=e,this.snack=a,this.loader=n,this.api=i,this.apiService=o,this.datepipe=r,this.router=c,this.accountService=s,this.maxDate=new Date,this.minDate=new Date,this.showEditOption=!1,this.accountForm=this.formBuilder.group({bankValuation:[""],assetType:[""],propertyAreaSize:[""],mktValOfAsset:[""],assetValue:[""],valuationDate:[""],actualPropertyAreaSize:[""],actualPropertyAreaInUnits:[""],borrowersMktValOfAsset:[""],forcedSaleValue:[""],faceValOfAsset:[""]})}ngOnInit(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("VALUATION_OF_ASSET_DONE"));null!=this.loanaccountID&&t?(this.showEditOption=!0,setTimeout(()=>{this.gettingValuationDetail()},10)):(console.log("else"),this.showEditOption=!1,this.buildAccountForm()),this.lastUpdateByCif()}gettingValuationDetail(){this.loader.open(),this.api.gettingValuationDetails(this.loanaccountID).subscribe(t=>{this.loader.close(),console.log(t),this.buildAccountForm(t,!0)},t=>{this.loader.close()})}buildAccountForm(t,e){console.log(t);let a=t?$(t.valuationDate).format():"";this.accountForm=this.formBuilder.group({actualPropertyAreaInUnits:[t?t.actualPropertyAreaInUnits:"",V.z.required],actualPropertyAreaSize:[t?t.actualPropertyAreaSize:"",V.z.required],assetType:[t?t.assetType:"",V.z.required],assetValue:[t?t.assetValue:"",V.z.required],bankValuation:[t?t.bankValuation:"",V.z.required],borrowersMktValOfAsset:[t?t.borrowersMktValOfAsset:"",V.z.required],forcedSaleValue:[t?t.forcedSaleValue:"",V.z.required],faceValOfAsset:[t?t.faceValOfAsset:"",V.z.required],loanAccountId:[this.loanaccountID],mktValOfAsset:[t?t.mktValOfAsset:"",V.z.required],propertyAreaSize:[t?t.propertyAreaSize:"",V.z.required],valuationDate:[t?a:"",V.z.compose([V.z.required,V.z.min(this.lastData)])],valuationId:[t?t.valuationId:""]}),console.log("this.form",this.accountForm)}OnSubmit(t){console.log(t,"Values"),t.valuationDate=$(t.valuationDate).format("YYYY-MMM-DD HH:mm:ss"),this.api.saveValuationDetails(t).subscribe(t=>{console.log(t),200===t||null!==t?(this.snack.open(" Valuation Assets Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next()):500===t&&this.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},t=>{console.log(t)})}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}next(){this.ls.setItem("VALUATION_OF_ASSET_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/list/underwritingStage/legalopinion"])}lastUpdateByCif(){this.apiService.getLoanDetails(this.loanaccountID).subscribe(t=>{this.lastData=this.datepipe.transform(t.applicationDate,"yyyy-MM-dd")},t=>{console.error(t)})}goBack(){this.router.navigate(["/loan/account/list/underwritingStage/creditrating"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(h.a),i.Rb(yt.a),i.Rb(p.b),i.Rb(p.b),i.Rb(n.f),i.Rb(o.h),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-valuation-of-assets"]],decls:126,vars:15,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask Group 11.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-2"],["appearance","outline",1,"full-width"],["name","bankValuation","formControlName","bankValuation","disableOptionCentering","","placeholder","Enter Bank Valuation"],["value","INTERNAL"],["value","EXTERNAL"],[4,"ngIf"],["fxLayout","row"],["fxFlex","15%",1,"flex-grow-1"],["readonly","","matInput","","formControlName","sq","placeholder","sq"],["fxFlex","83.3%",1,"flex-grow-1","gap"],["matInput","","formControlName","propertyAreaSize","name","remarks",1,"alignment",3,"keypress"],[1,"flex-grow-1"],["name","assetValue","formControlName","assetValue","disableOptionCentering",""],["value","Bank Manager"],["value","Bank Clerk"],["value","Bank Accountant"],["fxLayout","row "],["fxFlex","20%",1,"flex-grow-1"],[1,"size"],["fxflex","20%",1,"flex-grow-1","gap"],["name","actualPropertyAreaInUnits","disableOptionCentering","","formControlName","actualPropertyAreaInUnits"],["value","Sq"],["value","Acr"],["value","Cent"],["fxflex","25%",1,"flex-grow-1","gap"],["matInput","","formControlName","actualPropertyAreaSize","name","actualPropertyAreaSize","name","remarks",1,"alignment",3,"keypress"],["matInput","","formControlName","mktValOfAsset","name","mktValOfAsset","placeholder","Enter Market Value","name","remarks",1,"alignment",3,"keypress"],["name","assetType","formControlName","assetType","disableOptionCentering",""],["value","Personal"],["value","Vehicle"],["value","Home"],["matInput","","formControlName","borrowersMktValOfAsset","placeholder","Borrowers Market Value ","name","borrowersMktValOfAsset",1,"alignment",3,"keypress"],["matInput","","name","valuationDate","formControlName","valuationDate","placeholder","DD/MM/YYYY","disableOptionCentering","",1,"alignment",3,"matDatepicker","min"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["appDatepicker",""],["matInput","","formControlName","faceValOfAsset","placeholder","Enter Face Value","name","faceValOfAsset",1,"alignment",3,"keypress"],["matInput","","formControlName","forcedSaleValue","placeholder","Enter Forced Sale Value","name","forcedSaleValue",1,"alignment",3,"keypress"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Valuation of Asset"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"fieldset"),i.Xb(11,"legend",7),i.Tc(12,"Valuation Details"),i.Wb(),i.Wb(),i.Xb(13,"mat-card-content"),i.Xb(14,"form",8),i.Xb(15,"div",9),i.Xb(16,"div",10),i.Xb(17,"div",11),i.Xb(18,"mat-form-field",12),i.Xb(19,"mat-label"),i.Tc(20,"Bank Valuation*"),i.Wb(),i.Xb(21,"mat-select",13),i.Xb(22,"mat-option",14),i.Tc(23,"Internal"),i.Wb(),i.Xb(24,"mat-option",15),i.Tc(25,"External"),i.Wb(),i.Wb(),i.Rc(26,gb,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Xb(27,"div"),i.Xb(28,"div",17),i.Xb(29,"div",18),i.Xb(30,"mat-form-field",12),i.Xb(31,"mat-label"),i.Tc(32,"sq"),i.Wb(),i.Xb(33,"b"),i.Sb(34,"input",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div",20),i.Xb(36,"mat-form-field",12),i.Xb(37,"mat-label"),i.Tc(38,"Property Area*"),i.Wb(),i.Xb(39,"input",21),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(40,"div",22),i.Xb(41,"mat-form-field",12),i.Xb(42,"mat-label"),i.Tc(43,"Asset Valuer*"),i.Wb(),i.Xb(44,"mat-select",23),i.Xb(45,"mat-option",24),i.Tc(46,"Bank Manager"),i.Wb(),i.Xb(47,"mat-option",25),i.Tc(48,"Bank Clerk"),i.Wb(),i.Xb(49,"mat-option",26),i.Tc(50,"Bank Accountant"),i.Wb(),i.Wb(),i.Rc(51,hb,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Xb(52,"div"),i.Xb(53,"div",27),i.Xb(54,"div",28),i.Xb(55,"mat-hint",29),i.Xb(56,"b"),i.Tc(57,"Actual Property Area *"),i.Wb(),i.Wb(),i.Wb(),i.Xb(58,"div",30),i.Xb(59,"mat-form-field",12),i.Xb(60,"mat-label"),i.Tc(61,"Asset Valuer*"),i.Wb(),i.Xb(62,"mat-select",31),i.Xb(63,"mat-option",32),i.Tc(64,"Sq"),i.Wb(),i.Xb(65,"mat-option",33),i.Tc(66,"Acr"),i.Wb(),i.Xb(67,"mat-option",34),i.Tc(68,"Cent"),i.Wb(),i.Wb(),i.Rc(69,vb,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Xb(70,"div",35),i.Xb(71,"mat-form-field",12),i.Xb(72,"input",36),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Rc(73,Wb,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(74,"div",11),i.Xb(75,"mat-form-field",12),i.Xb(76,"mat-label"),i.Tc(77,"Market Value Of Asset*"),i.Wb(),i.Xb(78,"input",37),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Rc(79,Xb,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Wb(),i.Xb(80,"div",10),i.Xb(81,"div",22),i.Xb(82,"mat-form-field",12),i.Xb(83,"mat-label"),i.Tc(84,"Asset Type*"),i.Wb(),i.Xb(85,"mat-select",38),i.Xb(86,"mat-option",39),i.Tc(87,"Personal"),i.Wb(),i.Xb(88,"mat-option",40),i.Tc(89,"Vehicle"),i.Wb(),i.Xb(90,"mat-option",41),i.Tc(91,"Home"),i.Wb(),i.Wb(),i.Rc(92,yb,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Xb(93,"div",22),i.Xb(94,"mat-form-field",12),i.Xb(95,"mat-label"),i.Tc(96,"Borrowers Market Value of Asset*"),i.Wb(),i.Xb(97,"input",42),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Rc(98,xb,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Xb(99,"div",22),i.Xb(100,"mat-form-field",12),i.Xb(101,"mat-label"),i.Tc(102,"Valuation Date*"),i.Wb(),i.Sb(103,"input",43),i.Xb(104,"div",44),i.Sb(105,"mat-datepicker-toggle",45),i.Sb(106,"mat-datepicker",null,46),i.Wb(),i.Rc(108,Cb,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Xb(109,"div",11),i.Xb(110,"mat-form-field",12),i.Xb(111,"mat-label"),i.Tc(112,"Face Value Of Asset*"),i.Wb(),i.Xb(113,"input",47),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Rc(114,Ib,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Xb(115,"div",22),i.Xb(116,"mat-form-field",12),i.Xb(117,"mat-label"),i.Tc(118,"Forced Sale Value*"),i.Wb(),i.Xb(119,"input",48),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Rc(120,Ob,2,0,"mat-error",16),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(121,"div",49),i.Xb(122,"button",50),i.fc("click",function(){return e.goBack()}),i.Tc(123," Back "),i.Wb(),i.Xb(124,"button",51),i.fc("click",function(){return e.OnSubmit(e.accountForm.value)}),i.Tc(125," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(107);i.Eb(14),i.rc("formGroup",e.accountForm),i.Eb(12),i.rc("ngIf",!e.accountForm.get("bankValuation").valid&&e.accountForm.get("bankValuation").touched),i.Eb(25),i.rc("ngIf",!e.accountForm.get("assetValue").valid&&e.accountForm.get("assetValue").touched),i.Eb(18),i.rc("ngIf",!e.accountForm.get("actualPropertyAreaInUnits").valid&&e.accountForm.get("actualPropertyAreaInUnits").touched),i.Eb(4),i.rc("ngIf",!e.accountForm.get("actualPropertyAreaSize").valid&&e.accountForm.get("actualPropertyAreaSize").touched),i.Eb(6),i.rc("ngIf",!e.accountForm.get("mktValOfAsset").valid&&e.accountForm.get("mktValOfAsset").touched),i.Eb(13),i.rc("ngIf",!e.accountForm.get("assetType").valid&&e.accountForm.get("assetType").touched),i.Eb(6),i.rc("ngIf",!e.accountForm.get("borrowersMktValOfAsset").valid&&e.accountForm.get("borrowersMktValOfAsset").touched),i.Eb(5),i.rc("matDatepicker",t)("min",e.lastData),i.Eb(2),i.rc("for",t),i.Eb(3),i.rc("ngIf",!e.accountForm.get("valuationDate").valid&&e.accountForm.get("valuationDate").touched),i.Eb(6),i.rc("ngIf",!e.accountForm.get("faceValOfAsset").valid&&e.accountForm.get("faceValOfAsset").touched),i.Eb(6),i.rc("ngIf",!e.accountForm.get("forcedSaleValue").valid&&e.accountForm.get("forcedSaleValue").touched),i.Eb(4),i.rc("disabled",!(e.accountForm.controls.bankValuation.valid&&e.accountForm.controls.assetValue.valid&&e.accountForm.controls.actualPropertyAreaInUnits.valid&&e.accountForm.controls.actualPropertyAreaSize.valid&&e.accountForm.controls.mktValOfAsset.valid&&e.accountForm.controls.assetType.valid&&e.accountForm.controls.borrowersMktValOfAsset.valid&&e.accountForm.controls.valuationDate.valid&&e.accountForm.controls.faceValOfAsset.valid&&e.accountForm.controls.forcedSaleValue.valid))}},directives:[r.e,r.b,c.a,c.d,V.A,V.s,V.j,r.f,s.c,s.g,q.a,V.r,V.i,B.n,n.n,z.b,V.c,s.f,Q.e,Q.g,s.j,Q.d,r.d,l.b,s.b],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{width:100px}.full-width2[_ngcontent-%COMP%]{width:335px}.inputMatcard[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px;width:300px}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm}.datechange[_ngcontent-%COMP%]{height:10px;margin-right:10px}.inputMatName[_ngcontent-%COMP%]{margin-top:5px}.inputMatName[_ngcontent-%COMP%], .inputMatName1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.inputMatName1[_ngcontent-%COMP%]{margin-top:10px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.sqInput1[_ngcontent-%COMP%]{width:20%;margin-left:-1%}.sqInput2[_ngcontent-%COMP%]{width:72%}mat-hint[_ngcontent-%COMP%]{font-family:Manrope}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}.mat-title[_ngcontent-%COMP%]{font-size:150%;font-weight:600;width:50%!important}.divider-line[_ngcontent-%COMP%]{display:flex;margin-bottom:5%}.mat-line-position[_ngcontent-%COMP%]{position:unset!important;left:100%!important;align-self:center!important}#mat-line[_ngcontent-%COMP%]{margin-top:5%;margin-left:2%}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-left:24px!important;margin-right:20px;margin-top:20px!important}.size[_ngcontent-%COMP%]{font-size:small}.gap[_ngcontent-%COMP%]{margin-left:10px!important}"]}),t})();function Db(t,e){1&t&&(i.Xb(0,"div",17),i.Sb(1,"mat-progress-bar",18),i.Xb(2,"p",19),i.Tc(3,"Completed"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("color","primary")("value",100))}const Tb=function(){return["/loan/account/digitalsigning/list/options"]};let Sb=(()=>{class t{constructor(t,e,a){this.router=t,this.ls=e,this.cdr=a,this.informations=[{id:1,title:"1. Digital Signing",content:"Customer can either sign now or sign later",percentage:70,status:"Pending",state:"application/digital-sign/options",avatar:"assets/images/esign.jpg"}],this.isEsignScreen=!1}ngOnInit(){this.accountId=this.ls.getItem("accountId"),this.isEsignScreen=this.ls.getItem("eSignStage"),this.accountService.refresh.subscribe(t=>{this.accountId=this.ls.getItem("accountId"),this.isEsignScreen=this.ls.getItem("eSignStage"),this.cdr.markForCheck()})}goToDetail(t){console.log(t),this.router.navigate(["/home/"+t.state])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(u.a),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-digital-signing"]],decls:31,vars:5,consts:[["fxLayout","row"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],["mat-button","","color","primary",3,"routerLink"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create New Customer"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Create New Customer Account with bank XYZ bank in a better way. "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(11,"div",8),i.Xb(12,"div",9),i.Xb(13,"mat-card"),i.Xb(14,"mat-card-header"),i.Xb(15,"mat-card-title"),i.Tc(16,"1. Digital Signing"),i.Wb(),i.Wb(),i.Xb(17,"mat-card-content"),i.Xb(18,"div",10),i.Xb(19,"div",11),i.Xb(20,"p",12),i.Tc(21,"Customer can either sign now or sign later"),i.Wb(),i.Wb(),i.Xb(22,"div",13),i.Sb(23,"img",14),i.Wb(),i.Wb(),i.Rc(24,Db,4,2,"div",15),i.Wb(),i.Sb(25,"mat-divider"),i.Xb(26,"mat-card-actions"),i.Xb(27,"a",16),i.Tc(28),i.Xb(29,"mat-icon"),i.Tc(30,"chevron_right"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(23),i.rc("src","assets/images/svg/MaskGroup5_1.svg",i.Jc),i.Eb(1),i.rc("ngIf",e.isEsignScreen),i.Eb(3),i.rc("routerLink",i.wc(4,Tb)),i.Eb(1),i.Vc(" ",e.isEsignScreen?"Show Details":"Add Details"," "))},directives:[r.e,r.b,c.a,c.e,c.h,c.d,r.f,r.d,n.n,x.a,c.b,l.a,o.k,v.a,C.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}"]}),t})();const kb=function(){return{y:"50px",delay:"300ms"}},_b=function(t){return{value:"*",params:t}};function Rb(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",17),i.Xb(1,"mat-card"),i.Xb(2,"div",18),i.Xb(3,"div",19),i.Xb(4,"mat-icon",20),i.Tc(5,"check_circle"),i.Wb(),i.Wb(),i.Xb(6,"div",21),i.Xb(7,"h6"),i.Tc(8,"Supervisor Approval Stage"),i.Wb(),i.Wb(),i.Sb(9,"span",22),i.Xb(10,"button",16),i.fc("click",function(){return i.Hc(t),i.jc().addDetails()}),i.Tc(11," View Details "),i.Wb(),i.Wb(),i.Wb(),i.Wb()}2&t&&(i.Eb(1),i.rc("@animate",i.xc(2,_b,i.wc(1,kb))))}let Mb=(()=>{class t{constructor(t,e,a){this.ls=t,this.router=e,this.apiService=a,this.loanApprovedDetailsScreen=!1}ngOnInit(){this.loanApprovedDetailsScreen=this.ls.getItem("APPROVED_DETAILS")}addDetails(){console.log("calling"),this.apiService.sendApprovedStatus(!0),this.router.navigate(["/loan/account/supervisor-approveddetails"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(u.a),i.Rb(o.h),i.Rb(p.b))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-supervisor-approval-stage"]],decls:32,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],["mat-button","","color","primary",3,"click"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create Retail Loan Account"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. \xad\xad\xad\xad "),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,Rb,12,4,"div",8),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Xb(14,"mat-card"),i.Xb(15,"mat-card-header"),i.Xb(16,"mat-card-title"),i.Tc(17,"1. Approval Details "),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"div",11),i.Xb(20,"div",12),i.Xb(21,"p",13),i.Tc(22," Approval details are captured. "),i.Wb(),i.Wb(),i.Xb(23,"div",14),i.Sb(24,"img",15),i.Wb(),i.Wb(),i.Wb(),i.Sb(25,"mat-divider"),i.Xb(26,"mat-card-actions"),i.Vb(27),i.Xb(28,"button",16),i.fc("click",function(){return e.addDetails()}),i.Tc(29," View Details "),i.Xb(30,"mat-icon"),i.Tc(31,"chevron_right"),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(11),i.rc("ngIf",e.loanApprovedDetailsScreen),i.Eb(13),i.rc("src","assets/images/svg/MaskGroup_16.svg",i.Jc))},directives:[r.e,r.b,n.n,c.a,c.e,c.h,c.d,r.f,r.d,x.a,c.b,l.b,v.a],styles:[".notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}.mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}"]}),t})();var Eb=a("q59W"),Pb=a("hzfI"),Nb=a("hHub");function wb(t,e){1&t&&(i.Xb(0,"div",30),i.Sb(1,"img",31),i.Wb())}function Fb(t,e){1&t&&(i.Xb(0,"div",32),i.Xb(1,"div",33),i.Xb(2,"b"),i.Tc(3,"Loan Application Enrichment"),i.Wb(),i.Wb(),i.Wb())}function Lb(t,e){if(1&t&&(i.Xb(0,"tr",36),i.Xb(1,"div",37),i.Vb(2,34),i.Xb(3,"div",38),i.Sb(4,"input",39),i.Wb(),i.Xb(5,"td"),i.Xb(6,"mat-card",40),i.Xb(7,"mat-label",41),i.Tc(8,"Interest Rate Applicable"),i.Wb(),i.Sb(9,"input",42),i.Wb(),i.Wb(),i.Xb(10,"td"),i.Xb(11,"mat-card",40),i.Xb(12,"mat-label",41),i.Tc(13,"Margin in %"),i.Wb(),i.Sb(14,"input",43),i.Wb(),i.Wb(),i.Xb(15,"td"),i.Xb(16,"mat-card",40),i.Xb(17,"mat-label",41),i.Tc(18,"Effective Rate %"),i.Wb(),i.Sb(19,"input",44),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(2),i.rc("formGroup",t)}}function Vb(t,e){if(1&t&&(i.Xb(0,"form",34),i.Xb(1,"table"),i.Xb(2,"tbody"),i.Rc(3,Lb,20,1,"tr",35),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.interestForm),i.Eb(3),i.rc("ngForOf",t.in.controls)}}function zb(t,e){if(1&t&&(i.Xb(0,"div",12),i.Xb(1,"mat-card",13),i.Xb(2,"mat-card-content"),i.Xb(3,"div",14),i.Xb(4,"div",15),i.Xb(5,"div",16),i.Vb(6),i.Xb(7,"div",17),i.Xb(8,"mat-hint",18),i.Tc(9,"Type of Repayment"),i.Wb(),i.Sb(10,"br"),i.Xb(11,"mat-hint",21),i.Tc(12),i.Wb(),i.Wb(),i.Xb(13,"div",17),i.Xb(14,"mat-hint",18),i.Tc(15,"Repayment Frequency"),i.Wb(),i.Sb(16,"br"),i.Xb(17,"mat-hint",21),i.Tc(18),i.Wb(),i.Wb(),i.Xb(19,"div",17),i.Xb(20,"mat-hint",18),i.Tc(21,"First Repayment Date"),i.Wb(),i.Sb(22,"br"),i.Xb(23,"mat-hint",21),i.Tc(24),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(25,"div"),i.Xb(26,"span",22),i.Sb(27,"hr",23),i.Wb(),i.Wb(),i.Xb(28,"div",16),i.Vb(29),i.Xb(30,"div",17),i.Xb(31,"mat-hint",18),i.Tc(32,"Loan Tenure"),i.Wb(),i.Sb(33,"br"),i.Xb(34,"mat-hint",21),i.Tc(35),i.Wb(),i.Wb(),i.Xb(36,"div",17),i.Xb(37,"mat-hint",18),i.Tc(38,"Maturity Date"),i.Wb(),i.Sb(39,"br"),i.Xb(40,"mat-hint",21),i.Tc(41),i.Wb(),i.Wb(),i.Xb(42,"div",17),i.Xb(43,"mat-hint",18),i.Tc(44,"Repayment Mode"),i.Wb(),i.Sb(45,"br"),i.Xb(46,"mat-hint",21),i.Tc(47),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(48,"div"),i.Xb(49,"span",22),i.Sb(50,"hr",23),i.Wb(),i.Wb(),i.Xb(51,"div",16),i.Vb(52),i.Xb(53,"div",17),i.Xb(54,"mat-hint",18),i.Tc(55,"Moratorium Period ( in months)"),i.Wb(),i.Sb(56,"br"),i.Xb(57,"mat-hint",21),i.Tc(58),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(59,"h3",24),i.Tc(60,"Internal Account"),i.Wb(),i.Xb(61,"mat-card",13),i.Xb(62,"mat-card-content"),i.Xb(63,"div",14),i.Xb(64,"div",15),i.Xb(65,"div",16),i.Vb(66),i.Xb(67,"div",17),i.Xb(68,"mat-hint",18),i.Tc(69,"Customer Account"),i.Wb(),i.Sb(70,"br"),i.Xb(71,"mat-hint",21),i.Tc(72),i.Wb(),i.Wb(),i.Xb(73,"div",17),i.Xb(74,"mat-hint",18),i.Tc(75,"Branch Code"),i.Wb(),i.Sb(76,"br"),i.Xb(77,"mat-hint",21),i.Tc(78),i.Wb(),i.Wb(),i.Xb(79,"div",17),i.Xb(80,"mat-hint",18),i.Tc(81,"Bank Name"),i.Wb(),i.Sb(82,"br"),i.Xb(83,"mat-hint",21),i.Tc(84),i.Wb(),i.Wb(),i.Xb(85,"div",17),i.Xb(86,"mat-hint",18),i.Tc(87,"IFSC Code"),i.Wb(),i.Sb(88,"br"),i.Xb(89,"mat-hint",21),i.Tc(90),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(91,"div"),i.Xb(92,"span",22),i.Sb(93,"hr",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Eb(12),i.Uc(t.repaymentInfo.typeOfRepayment),i.Eb(6),i.Vc("",t.repaymentInfo.repaymentFrequency," "),i.Eb(6),i.Vc("",t.repaymentInfo.firstRepaymentDate," "),i.Eb(11),i.Vc("",t.repaymentInfo.loanTenure," "),i.Eb(6),i.Uc(t.repaymentInfo.maturityDate),i.Eb(6),i.Vc("",t.repaymentInfo.repaymentMode," "),i.Eb(11),i.Vc("",t.repaymentInfo.moraturioumPeriod," "),i.Eb(14),i.Uc(t.repaymentInfo.customerAccount),i.Eb(6),i.Uc(t.repaymentInfo.branchCode),i.Eb(6),i.Uc(t.repaymentInfo.bankName),i.Eb(6),i.Uc(t.repaymentInfo.ifscCode)}}function qb(t,e){if(1&t&&(i.Xb(0,"tr",47),i.Xb(1,"div",48),i.Vb(2,34),i.Xb(3,"div",38),i.Sb(4,"input",39),i.Wb(),i.Xb(5,"td"),i.Xb(6,"mat-card",40),i.Xb(7,"mat-label",41),i.Tc(8,"Amount"),i.Wb(),i.Sb(9,"input",49),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Eb(2),i.rc("formGroup",t)}}function Bb(t,e){if(1&t&&(i.Xb(0,"form",34),i.Xb(1,"table",45),i.Xb(2,"tbody"),i.Rc(3,qb,10,1,"tr",46),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.chargeFormIT),i.Eb(3),i.rc("ngForOf",t.in2.controls)}}function jb(t,e){if(1&t&&(i.Xb(0,"div",12),i.Xb(1,"h3",24),i.Tc(2,"Statement Preferences"),i.Wb(),i.Xb(3,"mat-card",13),i.Xb(4,"mat-card-content"),i.Xb(5,"div",14),i.Xb(6,"div",15),i.Xb(7,"div",16),i.Vb(8),i.Xb(9,"div",50),i.Xb(10,"mat-hint",18),i.Tc(11,"Statement Cycle"),i.Wb(),i.Sb(12,"br"),i.Xb(13,"mat-hint",21),i.Tc(14),i.Wb(),i.Wb(),i.Xb(15,"div",50),i.Xb(16,"mat-hint",18),i.Tc(17,"Statement Type"),i.Wb(),i.Sb(18,"br"),i.Xb(19,"mat-hint",21),i.Tc(20),i.Wb(),i.Wb(),i.Xb(21,"div",50),i.Xb(22,"mat-hint",18),i.Tc(23,"Start Date"),i.Wb(),i.Sb(24,"br"),i.Xb(25,"mat-hint",21),i.Tc(26),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(27,"div"),i.Xb(28,"span",22),i.Sb(29,"hr",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"h3",24),i.Tc(31,"Holiday Preferences"),i.Wb(),i.Xb(32,"mat-card",13),i.Xb(33,"mat-card-content"),i.Xb(34,"div",14),i.Xb(35,"div",15),i.Xb(36,"div",16),i.Vb(37),i.Xb(38,"div",50),i.Xb(39,"mat-hint",18),i.Tc(40,"Ignore Holidays ?"),i.Wb(),i.Sb(41,"br"),i.Xb(42,"div",19),i.Sb(43,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Xb(44,"div",50),i.Xb(45,"mat-hint",18),i.Tc(46,"Holiday Check"),i.Wb(),i.Sb(47,"br"),i.Xb(48,"mat-hint",21),i.Tc(49),i.Wb(),i.Wb(),i.Xb(50,"div",50),i.Xb(51,"mat-hint",18),i.Tc(52,"Move Across Month"),i.Wb(),i.Sb(53,"br"),i.Xb(54,"mat-hint",21),i.Tc(55),i.Wb(),i.Wb(),i.Xb(56,"div",50),i.Xb(57,"mat-hint",18),i.Tc(58,"Cascade Schedules ?"),i.Wb(),i.Sb(59,"br"),i.Xb(60,"div",19),i.Sb(61,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(62,"h7",24),i.Tc(63,"Maturity Date"),i.Wb(),i.Xb(64,"mat-card",13),i.Xb(65,"mat-card-content"),i.Xb(66,"div",14),i.Xb(67,"div",15),i.Xb(68,"div",16),i.Vb(69),i.Xb(70,"div",50),i.Xb(71,"mat-hint",18),i.Tc(72,"Ignore Holidays ?"),i.Wb(),i.Sb(73,"br"),i.Xb(74,"div",19),i.Sb(75,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Xb(76,"div",50),i.Xb(77,"mat-hint",18),i.Tc(78,"Holiday Check"),i.Wb(),i.Sb(79,"br"),i.Xb(80,"mat-hint",21),i.Tc(81),i.Wb(),i.Wb(),i.Xb(82,"div",50),i.Xb(83,"mat-hint",18),i.Tc(84,"Move Across Month"),i.Wb(),i.Sb(85,"br"),i.Xb(86,"mat-hint",21),i.Tc(87),i.Wb(),i.Wb(),i.Xb(88,"div",50),i.Xb(89,"mat-hint",18),i.Tc(90,"Cascade Schedules ?"),i.Wb(),i.Sb(91,"br"),i.Xb(92,"div",19),i.Sb(93,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(94,"h7",24),i.Tc(95,"Revision Schedules"),i.Wb(),i.Xb(96,"mat-card",13),i.Xb(97,"mat-card-content"),i.Xb(98,"div",14),i.Xb(99,"div",15),i.Xb(100,"div",16),i.Vb(101),i.Xb(102,"div",50),i.Xb(103,"mat-hint",18),i.Tc(104,"Ignore Holidays ?"),i.Wb(),i.Sb(105,"br"),i.Xb(106,"div",19),i.Sb(107,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Xb(108,"div",50),i.Xb(109,"mat-hint",18),i.Tc(110,"Holiday Check"),i.Wb(),i.Sb(111,"br"),i.Xb(112,"mat-hint",21),i.Tc(113),i.Wb(),i.Wb(),i.Xb(114,"div",50),i.Xb(115,"mat-hint",18),i.Tc(116,"Move Across Month"),i.Wb(),i.Sb(117,"br"),i.Xb(118,"mat-hint",21),i.Tc(119),i.Wb(),i.Wb(),i.Xb(120,"div",50),i.Xb(121,"mat-hint",18),i.Tc(122,"Cascade Schedules ?"),i.Wb(),i.Sb(123,"br"),i.Xb(124,"div",19),i.Sb(125,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.Eb(14),i.Uc(t.accServiceInfo.statementCycle),i.Eb(6),i.Vc("",t.accServiceInfo.statementType," "),i.Eb(6),i.Vc("",t.accServiceInfo.startDate," "),i.Eb(17),i.rc("checked",t.ignoreHolidayVarHoliday),i.Eb(6),i.Uc(t.holiday.holidayCheck),i.Eb(6),i.Uc(t.holiday.moveAcrossMonth),i.Eb(6),i.rc("checked",t.cascadeVarHoliday),i.Eb(14),i.rc("checked",t.ignoreHolidayVarMaturity),i.Eb(6),i.Uc(t.maturity.holidayCheck),i.Eb(6),i.Uc(t.maturity.moveAcrossMonth),i.Eb(6),i.rc("checked",t.cascadeVarMaturity),i.Eb(14),i.rc("checked",t.ignoreHolidayVarRevison),i.Eb(6),i.Uc(t.revision.holidayCheck),i.Eb(6),i.Uc(t.revision.moveAcrossMonth),i.Eb(6),i.rc("checked",t.cascadeVarRevison)}}function Ub(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",51),i.Xb(1,"button",52),i.fc("click",function(){return i.Hc(t),i.jc().Back()}),i.Tc(2," Back "),i.Wb(),i.Xb(3,"button",53),i.fc("click",function(){return i.Hc(t),i.jc().Done()}),i.Tc(4," Done "),i.Wb(),i.Wb()}}let Hb=(()=>{class t{constructor(t,e,a,n,i){this.formBuilder=t,this.ls=e,this.snack=a,this.api=n,this.router=i,this.appEntrySummaryView=!1,this.accountType="Home Loan"}ngOnInit(){this.api.getApprovedStatus().subscribe(t=>{console.log("message",t),this.isApprovedSreen=t}),this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(()=>{this.getLoanEnrichmentDetails(this.loanAccountId)},10),this.interestForm=this.formBuilder.group({interest:new V.d([])}),this.savingForm=this.formBuilder.group({saving:new V.d([])}),this.chargeFormIT=this.formBuilder.group({chargeIT:new V.d([])}),this.loanForm=this.formBuilder.group({loan:new V.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(t=>{this.onloanCharge(t.length),this.in2.patchValue(t)})}getLoanEnrichmentDetails(t){this.api.getLoanEnrichmentSummmary(this.loanAccountId).subscribe(t=>{console.log(t),this.intererstInfo=t.intererstInfo,console.log(this.intererstInfo),this.onChangeInterest(this.intererstInfo.length),this.in.patchValue(this.intererstInfo),this.disbursementInfo=t.disbursementInfo,this.CheckboxVar=this.disbursementInfo.mutipleDisbursementRequired,console.log(this.disbursementInfo),this.repaymentInfo=t.repaymentInfo,console.log(this.repaymentInfo),this.chargeInfo=t.chargeInfo,this.onloanCharge(this.chargeInfo.length),this.in2.patchValue(this.chargeInfo),this.accServiceInfo=t.accServiceInfo,this.maturity=this.accServiceInfo.serviceDetails.find(t=>"Maturity"===t.serviceName),this.revision=this.accServiceInfo.serviceDetails.find(t=>"Revision"===t.serviceName),this.holiday=this.accServiceInfo.serviceDetails.find(t=>"Holiday Preference"===t.serviceName),this.cascadeVarMaturity=this.maturity.cascadeSchedules,this.cascadeVarRevison=this.revision.cascadeSchedules,this.cascadeVarHoliday=this.holiday.cascadeSchedules,this.ignoreHolidayVarMaturity=this.maturity.ignoreHolidays,this.ignoreHolidayVarRevison=this.revision.ignoreHolidays,this.ignoreHolidayVarHoliday=this.holiday.ignoreHolidays})}onChangeInterest(t){const e=t||0;if(this.in.length<e)for(let a=this.in.length;a<e;a++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],loanAccountId:[this.loanAccountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let a=this.in.length;a>=e;a--)this.in.removeAt(a)}onChangeSaving(t){const e=t||0;if(this.is.length<e)for(let a=this.is.length;a<e;a++)this.is.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],loanAccountId:[this.loanAccountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let a=this.is.length;a>=e;a--)this.is.removeAt(a)}onChangeLoan(t){const e=t||0;if(this.iloan.length<e)for(let a=this.iloan.length;a<e;a++)this.iloan.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],loanAccountId:[this.loanAccountId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(let a=this.iloan.length;a>=e;a--)this.iloan.removeAt(a)}onloanCharge(t){const e=t||0;if(this.in2.length<e)for(let a=this.in2.length;a<e;a++)this.in2.push(this.formBuilder.group({intrestType:[""],amout:[""],waiver:[!0],loanAccountId:[this.loanAccountId],chargeDetailsId:[""]}));else for(let a=this.in2.length;a>=e;a--)this.in2.removeAt(a)}get f2(){return this.chargeFormIT.controls}get in2(){return this.f2.chargeIT}get f(){return this.interestForm.controls}get in(){return this.f.interest}get fs(){return this.savingForm.controls}get is(){return this.fs.saving}get floan(){return this.loanForm.controls}get iloan(){return this.floan.loan}get fCharge(){return this.chargeFormIT.controls}check(t){t&&(console.log(this.snack.open),this.snack.open("chargeInfo detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}checkbox(t){console.log(t.checked)}assignAccountType(t){this.accountType=t}Done(){this.router.navigate(["/loan/account/list/underwritingStage"])}Back(){this.router.navigate(["/loan/account/application-enrichment"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(h.a),i.Rb(p.b),i.Rb(o.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-loan-enrichment-view-summary"]],decls:117,vars:15,consts:[["class","propic text-center",4,"ngIf"],["class","profile-title text-center mt-8",4,"ngIf"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"fullcard"],["fxLayout","row"],[1,"divider"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],[1,"full-width"],["fxLayout","column","fxLayoutGap","2%","fxLayoutAlign","space-between none",1,"colAlign"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"toggle"],[3,"checked"],[1,"valueText"],["layout","row"],["flex","",1,"line"],["fxLayout","row",1,"paraFont"],["fxFlex","100%",4,"ngIf"],[1,"matCard"],["fxFlex","100"],[1,"full-width",2,"height","auto"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px","class","mt-32",4,"ngIf"],[1,"propic","text-center"],["src","assets/images/svg/undraw_statistic_chart_38b6.svg","alt","",1,"entryImg"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[3,"formGroup"],["class","mt-4","style","display: flex;flex-wrap: wrap;",4,"ngFor","ngForOf"],[1,"mt-4",2,"display","flex","flex-wrap","wrap"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","chargeTable",4,"ngFor","ngForOf"],[1,"chargeTable"],[1,"chargeLeft"],["matInput","","formControlName","amout","name","account_branch","readonly","",1,"input"],["fxFlex","25%","fxFlex.xs","100%"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Rc(0,wb,2,0,"div",0),i.Rc(1,Fb,4,0,"div",1),i.Xb(2,"div",2),i.Xb(3,"h4",3),i.Tc(4,"Loan Interest Details"),i.Wb(),i.Wb(),i.Xb(5,"div",4),i.Xb(6,"div",5),i.Sb(7,"div",6),i.Rc(8,Vb,4,2,"form",7),i.Sb(9,"br"),i.Xb(10,"div",8),i.Xb(11,"div",9),i.Xb(12,"h4",3),i.Tc(13,"Loan Disbursement Details"),i.Wb(),i.Wb(),i.Xb(14,"div",2),i.Sb(15,"mat-divider",10),i.Wb(),i.Xb(16,"div",11),i.Xb(17,"div",12),i.Xb(18,"mat-card",13),i.Xb(19,"mat-card-content"),i.Xb(20,"div",14),i.Xb(21,"div",15),i.Xb(22,"div",16),i.Vb(23),i.Xb(24,"div",17),i.Xb(25,"mat-hint",18),i.Tc(26,"Required Multiple Disbursement ?"),i.Wb(),i.Sb(27,"br"),i.Xb(28,"div",19),i.Sb(29,"mat-slide-toggle",20),i.Wb(),i.Wb(),i.Xb(30,"div",17),i.Xb(31,"mat-hint",18),i.Tc(32,"Loan Amount"),i.Wb(),i.Sb(33,"br"),i.Xb(34,"mat-hint",21),i.Tc(35),i.Wb(),i.Wb(),i.Xb(36,"div",17),i.Xb(37,"mat-hint",18),i.Tc(38,"Number of Disbursement "),i.Wb(),i.Sb(39,"br"),i.Xb(40,"mat-hint",21),i.Tc(41),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(42,"div"),i.Xb(43,"span",22),i.Sb(44,"hr",23),i.Wb(),i.Wb(),i.Xb(45,"div",16),i.Vb(46),i.Xb(47,"div",17),i.Xb(48,"mat-hint",18),i.Tc(49,"First Disbursement Date"),i.Wb(),i.Sb(50,"br"),i.Xb(51,"mat-hint",21),i.Tc(52),i.Wb(),i.Wb(),i.Xb(53,"div",17),i.Xb(54,"mat-hint",18),i.Tc(55,"Total Disbursement"),i.Wb(),i.Sb(56,"br"),i.Xb(57,"mat-hint",21),i.Tc(58),i.Wb(),i.Wb(),i.Xb(59,"div",17),i.Xb(60,"mat-hint",18),i.Tc(61,"Disbursement Mode"),i.Wb(),i.Sb(62,"br"),i.Xb(63,"mat-hint",21),i.Tc(64),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(65,"div"),i.Xb(66,"span",22),i.Sb(67,"hr",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(68,"h7",24),i.Tc(69,"Internal Account"),i.Wb(),i.Xb(70,"mat-card",13),i.Xb(71,"mat-card-content"),i.Xb(72,"div",14),i.Xb(73,"div",15),i.Xb(74,"div",16),i.Vb(75),i.Xb(76,"div",17),i.Xb(77,"mat-hint",18),i.Tc(78,"Customer Account"),i.Wb(),i.Sb(79,"br"),i.Xb(80,"mat-hint",21),i.Tc(81),i.Wb(),i.Wb(),i.Xb(82,"div",17),i.Xb(83,"mat-hint",18),i.Tc(84,"Branch Code"),i.Wb(),i.Sb(85,"br"),i.Xb(86,"mat-hint",21),i.Tc(87),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(88,"div"),i.Xb(89,"span",22),i.Sb(90,"hr",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Sb(91,"br"),i.Xb(92,"div",8),i.Xb(93,"div",9),i.Xb(94,"h4",3),i.Tc(95,"Loan Repayment Details"),i.Wb(),i.Wb(),i.Xb(96,"div",11),i.Rc(97,zb,94,11,"div",25),i.Wb(),i.Wb(),i.Sb(98,"br"),i.Xb(99,"div"),i.Xb(100,"h4",3),i.Tc(101,"Loan Charge Details"),i.Wb(),i.Wb(),i.Xb(102,"mat-card",26),i.Xb(103,"div",4),i.Sb(104,"div",27),i.Xb(105,"div",5),i.Sb(106,"div",6),i.Rc(107,Bb,4,2,"form",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(108,"div",2),i.Xb(109,"h4",3),i.Tc(110,"Loan Account Services"),i.Wb(),i.Wb(),i.Xb(111,"mat-card",26),i.Xb(112,"div",28),i.Xb(113,"div",8),i.Xb(114,"div",11),i.Rc(115,jb,126,15,"div",25),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Rc(116,Ub,5,0,"div",29)),2&t&&(i.rc("ngIf",!e.isApprovedSreen),i.Eb(1),i.rc("ngIf",!e.isApprovedSreen),i.Eb(7),i.rc("ngIf",e.interestForm),i.Eb(21),i.rc("checked",e.CheckboxVar),i.Eb(6),i.Uc(e.disbursementInfo.loanAmount),i.Eb(6),i.Uc(e.disbursementInfo.numberOfDisbursement),i.Eb(11),i.Vc("",e.disbursementInfo.firstDisbursementDate," "),i.Eb(6),i.Uc(e.disbursementInfo.totalDisbursement),i.Eb(6),i.Vc("",e.disbursementInfo.disbursementMode," "),i.Eb(17),i.Uc(e.disbursementInfo.customerAccount),i.Eb(6),i.Uc(e.disbursementInfo.branchCode),i.Eb(10),i.rc("ngIf",e.disbursementInfo),i.Eb(10),i.rc("ngIf",e.chargeFormIT),i.Eb(8),i.rc("ngIf",e.accServiceInfo),i.Eb(1),i.rc("ngIf",!e.isApprovedSreen))},directives:[n.n,r.e,r.b,x.a,r.d,c.a,c.d,r.f,s.f,et.a,V.A,V.s,V.j,n.m,z.b,V.c,V.r,V.i,s.g,l.b],styles:[".spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px;background-color:#f7f7f7}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;background-color:#f7f7f7!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.toggle[_ngcontent-%COMP%]{padding-left:16px}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:22%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}"]}),t})();var Gb=a("9IFT");function Yb(t,e){1&t&&i.Tc(0,"Loan Entry Stage Details")}function $b(t,e){1&t&&i.Tc(0,"Loan Application Enrichment")}function Qb(t,e){1&t&&i.Tc(0,"Underwriting Stage")}function Zb(t,e){1&t&&i.Tc(0,"Assessment Stage")}let Jb=(()=>{class t{constructor(t,e,a,n,i,o){this.appEntryService=t,this.ls=e,this.apiService=a,this.router=n,this.accountService=i,this.dialogService=o,this.isLinear=!1}ngAfterViewInit(){console.log("in afterview init"),this.stepper._getIndicatorType=()=>Eb.i.NUMBER}ngOnInit(){this.ls.setItem("isapprovedSupervisor",!0),this.apiService.sendApprovedStatus(!0),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),console.log("this.loanaccountID",this.loanaccountID),setTimeout(()=>{this.getLoanEntryStageInfo(this.loanaccountID)},10)}getLoanEntryStageInfo(t){this.appEntryService.getLoanEntryStageInfo(t).subscribe(e=>{this.data=e,null!=this.data&&(console.log("data :: ",this.data),this.fetchCustomersByLoanAccIdForViewSummary(t))})}fetchCustomersByLoanAccIdForViewSummary(t){this.appEntryService.fetchCustomersByLoanAccIdForViewSummary(t).subscribe(t=>{console.log("custResp :: ",t),this.customerInfoResp=t,null!=this.customerInfoResp&&(this.customerInfo={isAppEntryView:!0,data:this.customerInfoResp.data})})}Done(){this.ls.setItem("APPROVED_DETAILS",!0),this.ls.setItem("SUPERVISOR_APPROVAL_STAGE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/offer-issue/list"])}Back(){this.router.navigate(["/loan/account/supervisor-summary"])}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(Ne.a),i.Rb(u.a),i.Rb(p.b),i.Rb(o.h),i.Rb(K.a),i.Rb(La.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-supervisor-approved-details"]],viewQuery:function(t,e){if(1&t&&i.ad(Pb.d,!0),2&t){let t;i.Cc(t=i.gc())&&(e.stepper=t.first)}},decls:27,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_16.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[3,"linear"],["stepper",""],["matStepLabel",""],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Back",3,"click"],["mat-raised-button","",1,"Next",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Approval Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-vertical-stepper",6,7),i.Xb(10,"mat-step"),i.Rc(11,Yb,1,0,"ng-template",8),i.Sb(12,"app-loan-app-entry-stage-view-summary"),i.Wb(),i.Xb(13,"mat-step"),i.Rc(14,$b,1,0,"ng-template",8),i.Sb(15,"app-loan-enrichment-view-summary"),i.Wb(),i.Xb(16,"mat-step"),i.Rc(17,Qb,1,0,"ng-template",8),i.Sb(18,"app-underwriting-stage-summary"),i.Wb(),i.Xb(19,"mat-step"),i.Rc(20,Zb,1,0,"ng-template",8),i.Sb(21,"app-loan-assessment-view-summary"),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"div",9),i.Xb(23,"button",10),i.fc("click",function(){return e.Back()}),i.Tc(24," Back "),i.Wb(),i.Xb(25,"button",11),i.fc("click",function(){return e.Done()}),i.Tc(26," Next "),i.Wb(),i.Wb()),2&t&&(i.Eb(8),i.rc("linear",e.isLinear))},directives:[r.e,r.b,Pb.d,Pb.a,Pb.b,Nb.a,Hb,tb,Gb.a,r.d,r.f,l.b],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.Back[_ngcontent-%COMP%]{background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;color:#fff}.Next[_ngcontent-%COMP%]{background-color:#426af5;border-radius:55px}"]}),t})();function Kb(t,e){if(1&t&&(i.Xb(0,"form",10),i.Xb(1,"div",11),i.Xb(2,"div",12),i.Xb(3,"div",13),i.Xb(4,"mat-hint",14),i.Tc(5,"Requested Loan Amount"),i.Wb(),i.Xb(6,"mat-card",15),i.Sb(7,"input",16),i.Wb(),i.Wb(),i.Xb(8,"div",13),i.Xb(9,"mat-hint",14),i.Tc(10," Rate of Interest"),i.Wb(),i.Xb(11,"mat-card",15),i.Sb(12,"input",17),i.Wb(),i.Wb(),i.Xb(13,"div",13),i.Xb(14,"mat-hint",14),i.Tc(15,"User Recommendation"),i.Wb(),i.Xb(16,"mat-card",15),i.Sb(17,"input",18),i.Wb(),i.Wb(),i.Xb(18,"div",13),i.Xb(19,"mat-hint",14),i.Tc(20,"Approved Loan Amount"),i.Wb(),i.Xb(21,"mat-card",15),i.Sb(22,"input",19),i.Wb(),i.Wb(),i.Xb(23,"div",13),i.Xb(24,"mat-hint",14),i.Tc(25,"Final Rate"),i.Wb(),i.Xb(26,"mat-card",15),i.Sb(27,"input",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(28,"div",12),i.Xb(29,"div",13),i.Xb(30,"mat-hint",14),i.Tc(31,"Loan Tenure"),i.Wb(),i.Xb(32,"mat-card",15),i.Sb(33,"input",20),i.Wb(),i.Wb(),i.Xb(34,"div",13),i.Xb(35,"mat-hint",14),i.Tc(36,"System Recommendation"),i.Wb(),i.Xb(37,"mat-card",15),i.Sb(38,"input",21),i.Wb(),i.Wb(),i.Xb(39,"div",13),i.Xb(40,"mat-hint",14),i.Tc(41,"Loan Amount Recommended"),i.Wb(),i.Xb(42,"mat-card",15),i.Sb(43,"input",22),i.Wb(),i.Wb(),i.Xb(44,"div",13),i.Xb(45,"mat-hint"),i.Tc(46,"Final Loan Tenure"),i.Wb(),i.Xb(47,"mat-card",15),i.Sb(48,"input",23),i.Wb(),i.Wb(),i.Xb(49,"div",13),i.Xb(50,"mat-form-field",24),i.Sb(51,"input",25),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(52,"div",26),i.Xb(53,"button",27),i.Tc(54," Back "),i.Wb(),i.Xb(55,"button",28),i.Tc(56," Next "),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.jc();i.rc("formGroup",t.assessmentForm)}}let tm=(()=>{class t{constructor(t){this.fb=t}ngOnInit(){this.buildformGroup()}buildformGroup(){this.assessmentForm=this.fb.group({requestedLoanAmount:[""],rateofInterest:[""],userRecommendation:[""],approvedLoanAmount:[""],loanTenure:[""],systemRecommendation:[""],loanAmountRecommended:[""],finalLoanTenure:[""]})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-supervisor-assessment-details"]],decls:16,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","30px","fxLayoutAlign","start center",1,"pt-16"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],[1,"pl-3"],["type","input"],["matInput","","name","requestedLoanAmount","placeholder","Requested Loan Amount",1,"alignment"],["matInput","","name","rateofInterest","placeholder","Rate of Interest",1,"alignment"],["matInput","","name","userRecommendation","placeholder","User Recommendation",1,"alignment"],["matInput","","name","approvedLoanAmount","placeholder","Approved Loan Amount",1,"alignment"],["matInput","","name","loanTenure","placeholder","Loan Tenure",1,"alignment"],["matInput","","name","systemRecommendation","placeholder","System Recommendation",1,"alignment"],["matInput","","name","loanAmountRecommended","placeholder","Loan Amount Recommended",1,"alignment"],["matInput","","name","finalLoanTenure","placeholder","Final Loan Tenure",1,"alignment"],["appearance","outline",1,"full-width",2,"visibility","hidden"],["matInput","",1,"alignment"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary"],["mat-raised-button","","color","primary"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Assesment Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title",7),i.Xb(11,"div",8),i.Tc(12,"Assesment Details"),i.Wb(),i.Sb(13,"mat-divider"),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,Kb,57,1,"form",9),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.assessmentForm))},directives:[r.e,r.b,c.a,c.h,x.a,c.d,n.n,V.A,V.s,V.j,r.f,r.d,s.f,z.b,s.c,l.b],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}"]}),t})();const em=function(){return{y:"50px",delay:"300ms"}},am=function(t){return{value:"*",params:t}},nm=function(){return["/loan/account/account-creation-stage/account-creation-summary"]};function im(t,e){1&t&&(i.Xb(0,"div",19),i.Xb(1,"mat-card"),i.Xb(2,"div",20),i.Xb(3,"div",21),i.Xb(4,"mat-icon",22),i.Tc(5,"check_circle"),i.Wb(),i.Wb(),i.Xb(6,"div",23),i.Xb(7,"h6"),i.Tc(8,"Account Creation Stage Completed"),i.Wb(),i.Wb(),i.Sb(9,"span",24),i.Xb(10,"button",25),i.Tc(11," View Summary "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("@animate",i.xc(3,am,i.wc(2,em))),i.Eb(9),i.rc("routerLink",i.wc(5,nm)))}function om(t,e){1&t&&(i.Xb(0,"div",26),i.Sb(1,"mat-progress-bar",27),i.Xb(2,"p",28),i.Tc(3,"Completed"),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.rc("color","primary")("value",100))}function rm(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().goToAccountCreateSummary()}),i.Tc(2," View Details "),i.Xb(3,"mat-icon"),i.Tc(4,"chevron_right"),i.Wb(),i.Wb(),i.Ub()}}function cm(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",29),i.fc("click",function(){return i.Hc(t),i.jc().addDetails1()}),i.Tc(1," Add Details"),i.Xb(2,"mat-icon"),i.Tc(3,"chevron_right"),i.Wb(),i.Wb()}}let sm=(()=>{class t{constructor(t,e,a,n){this.router=t,this.ls=e,this.dialogService=a,this.dialog=n,this.isAccountCreationStageDone=!1,this.isAccountCreateDetails=!1,this.isOfferAcceptReject=!1}ngOnInit(){this.isAccountCreationStageDone=this.ls.getItem("accountCreationStage"),this.isOfferAcceptReject=this.ls.getItem("OFFER_ACCEPT_REJECT_DONE"),this.isAccountCreateDetails=this.ls.getItem("ACCOUNT_CREATE_DETAILS_DONE")}addDetails(){this.router.navigate(["/loan/account/account-creation-stage/offer-accept-reject"])}addDetails1(){this.router.navigate(["/loan/account/account-creation-stage/account-create-details"])}goToOfferAcceptRejectSummary(){this.dialogService.OfferAcceptRejectSummaryDialog()}goToAccountCreateSummary(){this.dialogService.AccountCreateSummaryDialog()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(u.a),i.Rb(La.a),i.Rb(g.b))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-account-creation-stage"]],decls:31,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/face-7.png",1,"main-profile-img"],[1,"fa","fa-edit","upload-icon"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"text-muted"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showAccount",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"routerLink"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Sb(4,"i",4),i.Wb(),i.Xb(5,"div",5),i.Xb(6,"div",6),i.Xb(7,"b"),i.Tc(8,"Create Retail Loan Account"),i.Wb(),i.Wb(),i.Xb(9,"div",7),i.Tc(10," Open a Retail Loan Account with XYZ Bank in a better way. "),i.Wb(),i.Wb(),i.Wb(),i.Rc(11,im,12,6,"div",8),i.Wb(),i.Xb(12,"div",9),i.Xb(13,"div",10),i.Xb(14,"mat-card"),i.Xb(15,"mat-card-header"),i.Xb(16,"mat-card-title"),i.Tc(17,"1. Account Create Details"),i.Wb(),i.Wb(),i.Xb(18,"mat-card-content"),i.Xb(19,"div",11),i.Xb(20,"div",12),i.Xb(21,"p",13),i.Tc(22," Account Create Details are displayed . "),i.Wb(),i.Wb(),i.Xb(23,"div",14),i.Sb(24,"img",15),i.Wb(),i.Wb(),i.Rc(25,om,4,2,"div",16),i.Wb(),i.Sb(26,"mat-divider"),i.Xb(27,"mat-card-actions"),i.Rc(28,rm,5,0,"ng-container",17),i.Rc(29,cm,4,0,"ng-template",null,18,i.Sc),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(30);i.Eb(11),i.rc("ngIf",e.isAccountCreateDetails),i.Eb(13),i.rc("src","assets/images/account details.png",i.Jc),i.Eb(1),i.rc("ngIf",e.isAccountCreateDetails),i.Eb(3),i.rc("ngIf",e.isAccountCreateDetails)("ngIfElse",t)}},directives:[r.e,r.b,n.n,c.a,c.e,c.h,c.d,r.f,r.d,x.a,c.b,v.a,l.b,o.i,C.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}"]}),t})(),lm=(()=>{class t{constructor(t,e,a,n,i,o){this.api=t,this.formBuilder=e,this.router=a,this.ls=n,this.dialogService=i,this.snack=o,this.maxDate=new Date,this.minDate=new Date}ngOnInit(){this.isOfferAcceptReject=this.ls.getItem("OFFER_ACCEPT_REJECT_DONE"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),setTimeout(()=>{0==this.isOfferAcceptReject?this.buildofferForm():this.getOfferAcceptReject()},10)}getOfferAcceptReject(){this.api.getOfferAcceptReject("200").subscribe(t=>{console.log(t),this.buildofferForm(t,!0)})}buildofferForm(t,e){console.log(t),this.offerForm=this.formBuilder.group({accept:[""],applicantName:[""],loanTenure:[0],installmentFrequency:[""],installmentType:[""],principal:[0],installmentAmount:[0],offerIssueDate:[""],approvedLoanAmount:[0],rateOfInterest:[0],interest:[0],charges:[0],generateOffer:[""],offerExpiryDate:[""],dateOfOfferAcceptOrReject:[""],loanAccountId:[10],offerAcceptOrRejectId:[""]})}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}goBack(){this.router.navigate(["loan/account/account-creation-stage"])}onSubmit(){this.offerForm.value.offerIssueDate=$(this.offerForm.value.offerIssueDate).format("YYYY-MMM-DD HH:mm:ss"),this.offerForm.value.generateOffer=$(this.offerForm.value.generateOffer).format('YYYY-MMM-DD HH:mm:ss"'),this.offerForm.value.offerExpiryDate=$(this.offerForm.value.offerExpiryDate).format("YYYY-MMM-DD HH:mm:ss"),this.offerForm.value.dateOfOfferAcceptOrReject=$(this.offerForm.value.dateOfOfferAcceptOrReject).format("YYYY-MMM-DD HH:mm:ss"),this.api.saveOfferAcceptReject(this.offerForm.value).subscribe(t=>{console.log(t),200!==t&&null===t||(this.snack.open(" Credit Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.ls.setItem("OFFER_ACCEPT_REJECT_DONE",!0),this.router.navigate(["loan/account/account-creation-stage/account-create-details"]))},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(p.b),i.Rb(V.f),i.Rb(o.h),i.Rb(u.a),i.Rb(La.a),i.Rb(h.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offer-accept-reject"]],decls:146,vars:10,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/offer.png","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"card-title-text"],["fxLayout","column",3,"formGroup"],["fxLayout","column",2,"border-radius","30px","margin-right","1.5cm"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["matInput","","name","applicantName","type","text","formControlName","applicantName","placeholder","Applicant Name",1,"alignment"],["matInput","","type","text","name","loanAmmount","maxlength","16","formControlName","approvedLoanAmount",1,"alignment",3,"keypress"],["matInput","","type","text","name","loanTenure","formControlName","loanTenure","placeholder","in years",1,"alignment"],["matInput","","type","text","name","installmentType","formControlName","installmentType",1,"alignment"],["matInput","","type","text","name","installmentFrequency","formControlName","installmentFrequency",1,"alignment"],["matInput","","type","text","name","loanAmmount","formControlName","rateOfInterest",1,"alignment"],["matInput","","type","text","name","approvedloanAmmount","formControlName","approvedLoanAmount",1,"alignment"],["matInput","","type","text","name","loanAmmount","formControlName","loanTenure",1,"alignment"],["matInput","","type","text","name","principal","formControlName","principal",1,"alignment"],["matInput","","type","text","name","interest","formControlName","interest",1,"alignment"],["matInput","","type","text","name","installmentAmount","formControlName","installmentAmount",1,"alignment"],["matInput","","type","text","name","charges","formControlName","charges",1,"alignment"],[1,"inputMatLastName",2,"height","54px"],["matInput","","id","dob","name","OpinionDate","readonly","","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","offerIssueDate",1,"alignment",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"inputMatName",2,"height","54px"],["matInput","","id","dob","name","OpinionDate","readonly","","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","generateOffer",1,"alignment",3,"matDatepicker"],["datapicker",""],[2,"border-top","1px solid lightgray","margin-left","20px","margin-right","20px"],["visible","true"],["fxLayout","row wrap"],["fxFlex","100%","fxLayoutGap","10px"],[1,"inputMatLastName"],["matInput","","disableOptionCentering","","name","customerResponse","placeholder","","formControlName","accept",1,"alignment"],["value",""],["value","accept"],["matInput","","id","dob","name","OpinionDate","readonly","","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","dateOfOfferAcceptOrReject",1,"alignment",3,"matDatepicker"],["appDatapicker",""],["matInput","","id","dob","name","offerExpiryDate","readonly","","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","offerExpiryDate",1,"alignment",3,"matDatepicker"],["expiryDate",""],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h1"),i.Tc(7,"Offer Accept/Reject"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",0),i.Xb(9,"form",6),i.Xb(10,"div",1),i.Xb(11,"mat-card",7),i.Xb(12,"mat-card-title"),i.Xb(13,"div",5),i.Tc(14,"Offer Accept/Reject"),i.Sb(15,"mat-divider"),i.Wb(),i.Wb(),i.Xb(16,"div",8),i.Xb(17,"div",9),i.Xb(18,"label",10),i.Tc(19,"Applicant Name*"),i.Wb(),i.Xb(20,"mat-card",11),i.Sb(21,"input",12),i.Wb(),i.Wb(),i.Xb(22,"div",9),i.Xb(23,"label",10),i.Tc(24,"Approved Loan Amount*"),i.Wb(),i.Xb(25,"mat-card",11),i.Xb(26,"input",13),i.fc("keypress",function(t){return e._keyPress1(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div",8),i.Xb(28,"div",9),i.Xb(29,"label",10),i.Tc(30,"Loan Tenure"),i.Wb(),i.Xb(31,"mat-card",11),i.Sb(32,"input",14),i.Wb(),i.Wb(),i.Xb(33,"div",9),i.Xb(34,"label",10),i.Tc(35,"Installment Type"),i.Wb(),i.Xb(36,"mat-card",11),i.Sb(37,"input",15),i.Wb(),i.Wb(),i.Wb(),i.Xb(38,"div",8),i.Xb(39,"div",9),i.Xb(40,"label",10),i.Tc(41,"Installment Frequency"),i.Wb(),i.Xb(42,"mat-card",11),i.Sb(43,"input",16),i.Wb(),i.Wb(),i.Xb(44,"div",9),i.Xb(45,"label",10),i.Tc(46,"Rate of Interest (in%)"),i.Wb(),i.Xb(47,"mat-card",11),i.Sb(48,"input",17),i.Wb(),i.Wb(),i.Wb(),i.Xb(49,"div",8),i.Xb(50,"div",9),i.Xb(51,"label",10),i.Tc(52,"Approved Loan Amount"),i.Wb(),i.Xb(53,"mat-card",11),i.Sb(54,"input",18),i.Wb(),i.Wb(),i.Xb(55,"div",9),i.Xb(56,"label",10),i.Tc(57,"Loan Tenure"),i.Wb(),i.Xb(58,"mat-card",11),i.Sb(59,"input",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(60,"div",8),i.Xb(61,"div",9),i.Xb(62,"label",10),i.Tc(63,"Installment Type"),i.Wb(),i.Xb(64,"mat-card",11),i.Sb(65,"input",15),i.Wb(),i.Wb(),i.Xb(66,"div",9),i.Xb(67,"label",10),i.Tc(68,"Rate of Interest"),i.Wb(),i.Xb(69,"mat-card",11),i.Sb(70,"input",17),i.Wb(),i.Wb(),i.Wb(),i.Xb(71,"div",8),i.Xb(72,"div",9),i.Xb(73,"label",10),i.Tc(74,"Principal"),i.Wb(),i.Xb(75,"mat-card",11),i.Sb(76,"input",20),i.Wb(),i.Wb(),i.Xb(77,"div",9),i.Xb(78,"label",10),i.Tc(79,"Interest"),i.Wb(),i.Xb(80,"mat-card",11),i.Sb(81,"input",21),i.Wb(),i.Wb(),i.Wb(),i.Xb(82,"div",8),i.Xb(83,"div",9),i.Xb(84,"label",10),i.Tc(85,"Installment Amount"),i.Wb(),i.Xb(86,"mat-card",11),i.Sb(87,"input",22),i.Wb(),i.Wb(),i.Xb(88,"div",9),i.Xb(89,"label",10),i.Tc(90,"Charges"),i.Wb(),i.Xb(91,"mat-card",11),i.Sb(92,"input",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(93,"div",8),i.Xb(94,"div",9),i.Xb(95,"label",10),i.Tc(96,"Offer Issue Date"),i.Wb(),i.Xb(97,"mat-card",24),i.Sb(98,"input",25),i.Sb(99,"mat-datepicker-toggle",26),i.Sb(100,"mat-datepicker",null,27),i.Wb(),i.Wb(),i.Xb(102,"div",9),i.Xb(103,"label",10),i.Tc(104,"Generate Offer"),i.Wb(),i.Xb(105,"mat-card",28),i.Sb(106,"input",29),i.Sb(107,"mat-datepicker-toggle",26),i.Sb(108,"mat-datepicker",null,30),i.Wb(),i.Wb(),i.Wb(),i.Xb(110,"fieldset",31),i.Xb(111,"legend",32),i.Tc(112,"Offer Accept/Reject"),i.Wb(),i.Xb(113,"div",33),i.Xb(114,"div",34),i.Xb(115,"div",9),i.Xb(116,"label",10),i.Tc(117,"Customer Response"),i.Wb(),i.Xb(118,"mat-card",35),i.Xb(119,"mat-select",36),i.Xb(120,"mat-option",37),i.Tc(121,"Select"),i.Wb(),i.Xb(122,"mat-option",38),i.Tc(123,"Accept"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(124,"div",9),i.Xb(125,"label",10),i.Tc(126,"Date Of Offer Accept/Reject"),i.Wb(),i.Xb(127,"mat-card",28),i.Sb(128,"input",39),i.Sb(129,"mat-datepicker-toggle",26),i.Sb(130,"mat-datepicker",null,40),i.Wb(),i.Wb(),i.Wb(),i.Xb(132,"div",34),i.Xb(133,"div",9),i.Xb(134,"label",10),i.Tc(135,"Offer Expiry Date"),i.Wb(),i.Xb(136,"mat-card",28),i.Sb(137,"input",41),i.Sb(138,"mat-datepicker-toggle",26),i.Sb(139,"mat-datepicker",null,42),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(141,"div",43),i.Xb(142,"button",44),i.fc("click",function(){return e.goBack()}),i.Tc(143," Back "),i.Wb(),i.Xb(144,"button",45),i.fc("click",function(){return e.onSubmit()}),i.Tc(145," Done "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(101),a=i.Dc(109),n=i.Dc(131),o=i.Dc(140);i.Eb(9),i.rc("formGroup",e.offerForm),i.Eb(89),i.rc("matDatepicker",t),i.Eb(1),i.rc("for",t),i.Eb(7),i.rc("matDatepicker",a),i.Eb(1),i.rc("for",a),i.Eb(21),i.rc("matDatepicker",n),i.Eb(1),i.rc("for",n),i.Eb(8),i.rc("matDatepicker",o),i.Eb(1),i.rc("for",o),i.Eb(6),i.rc("disabled",e.offerForm.invalid)}},directives:[r.e,r.b,V.A,V.s,V.j,c.a,c.h,x.a,r.f,z.b,V.c,V.r,V.i,V.m,Q.e,Q.g,s.j,Q.d,q.a,B.n,r.d,l.b],styles:[".hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}legend[_ngcontent-%COMP%]{width:auto;color:#000;font-size:20px;padding-left:20px;padding-right:20px;font-family:Courier New,Courier,monospace}fieldset[_ngcontent-%COMP%], legend[_ngcontent-%COMP%]{margin-left:20px}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-right:20px;margin-top:20px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Done[_ngcontent-%COMP%]{width:150px;color:#fff}.Done[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.placeholder[_ngcontent-%COMP%]{border:none}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:40%}.disableDone[_ngcontent-%COMP%]{color:#3d18e4!important}.enableDone[_ngcontent-%COMP%]{color:#fff!important}"]}),t})();function bm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0Applicant Name is Required! "),i.Wb())}function mm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0Approved Loan Amount is Required! "),i.Wb())}function um(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0\xa0Offer Issue Date is Required! "),i.Wb())}let dm=(()=>{class t{constructor(t,e,a,n,i,o,r,c,s){this.formBuilder=t,this.router=e,this.ls=a,this.appApiService=n,this.dialogService=i,this.api=o,this.apiService=r,this.snack=c,this.accountService=s,this.maxDate=new Date,this.minDate=new Date,this.selectedDay=1,this.days=[],this.months=[],this.years=[],this.accountForm=this.formBuilder.group({applicantName:["",[V.z.required]],approvedLoanAmount:["",[V.z.required]],loanTenure:[""],installmentFrequency:[""],installmentType:[""],principal:[""],installmentAmount:[""],offerIssueDate:["",[V.z.required]],offerAcceptedDate:[""],accountCreateId:[""],rateOfInterest:[""],interest:[""],charges:[""],disbursementAmount:[""],repaymentAmount:[""],loanAccountId:[""],year:[""],month:[""],day:[""]})}ngOnInit(){this.selectedYear=(new Date).getFullYear();for(let t=0;t<=50;t++)this.years.push(t);for(let t=0;t<=11;t++)this.months.push(t);for(let t=0;t<=30;t++)this.days.push(t);this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.isAccountCreateDetails=this.ls.getItem("ACCOUNT_CREATE_DETAILS_DONE"),setTimeout(()=>{0==this.isAccountCreateDetails?this.buildaccountForm():this.getAccountCreateDetails()},10),this.fetchByCif(),this.loanData(),this.intrestData(),this.installmentTypeData(),this.interestLoadData(),this.dataLoad()}getAccountCreateDetails(){this.api.getAccountCreateDetails(this.loanaccountID).subscribe(t=>{console.log(t),this.buildaccountForm(t,!0)})}buildaccountForm(t,e){t.offerIssueDate=t?$(t.offerIssueDate).format():"",t.offerAcceptedDate=t?$(t.offerAcceptedDate).format():"",console.log(t),this.accountForm=this.formBuilder.group({accountCreateId:[""],loanAccountId:[t?t.loanAccountId:""],applicantName:[t?t.applicantName:""],approvedLoanAmount:[t?t.approvedLoanAmount:""],loanTenure:[t?t.loanTenure:""],installmentFrequency:[t?t.installmentFrequency:""],principal:[t?t.principal:""],installmentAmount:[t?t.installmentAmount:""],disbursementAmount:[t?t.disbursementAmount:""],offerAcceptedDate:[t?t.offerAcceptedDate:""],offerIssueDate:[t?t.offerIssueDate:"",[V.z.required]],installmentType:[t?t.installmentType:""],rateOfInterest:[t?t.rateOfInterest:""],interest:[t?t.interest:""],charges:[t?t.charges:""],repaymentAmount:[t?t.repaymentAmount:""],day:[t?Number(t.loanTenure.split("-")[2].match(/\d+/)[0]):"",[V.z.required]],month:[t?Number(t.loanTenure.split("-")[1].match(/\d+/)[0]):"",[V.z.required]],year:[t?Number(t.loanTenure.split("-")[0].match(/\d+/)[0]):"",[V.z.required]]}),console.log("this.accountForm",this.accountForm)}goBack(){this.router.navigate(["loan/account/account-creation-stage"])}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}limitMonth(t){Number(t.target.value)>12&&(t.target.value=t.target.value.slice(0,1))}limitDays(t){Number(t.target.value)>31&&(t.target.value=t.target.value.slice(0,1))}onSubmit(){let t=new Date;t=this.accountForm.value.offerIssueDate;var e=$(t).format("YYYY-MMM-DD HH:MM:SS");let a=new Date;a=this.accountForm.value.offerAcceptedDate;var n=$(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);var i=this.accountForm.value.approvedLoanAmount;i=parseInt(i);var o=this.accountForm.value.rateOfInterest;o=parseInt(o);const r=this.accountForm.value.year+"year-"+this.accountForm.value.month+"month-"+this.accountForm.value.day+"day";this.accountForm.get("loanTenure").setValue(r),this.accountForm.value.loanTenure=r;let c={loanAccountId:this.loanaccountID,approvedLoanAmount:i,applicantName:this.accountForm.value.applicantName,loanTenure:r,installmentType:this.accountForm.value.installmentType,installmentFrequency:this.accountForm.value.installmentFrequency,rateOfInterest:o,principal:this.accountForm.value.principal,installmentAmount:this.accountForm.value.installmentAmount,interest:this.accountForm.value.interest,charges:this.accountForm.value.charges,disbursementAmount:this.accountForm.value.disbursementAmount,repaymentAmount:this.accountForm.value.repaymentAmount,offerIssueDate:e,offerAcceptedDate:n};console.log("payload",c),this.api.saveAccountCreateDetails(c).subscribe(t=>{console.log(t),200!==t&&null===t||(this.snack.open(" Account Create Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.ls.setItem("ACCOUNT_CREATE_DETAILS_DONE",!0),this.ls.setItem("ACCOUNT_CREATTION_STAGE_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["loan/account/digitalsigning/list"]))},t=>{console.log(t)})}fetchByCif(){this.cifNumber=this.ls.getItem("cId"),this.appApiService.fetchByCif(this.cifNumber).subscribe(t=>{this.accountForm.get("applicantName").setValue(t.customerInfoList[0].firstName+" "+t.customerInfoList[0].lastName)},t=>{console.error(t)})}loanData(){console.log(this.loanaccountID),this.apiService.fetchByLoanAccountId(this.loanaccountID).subscribe(t=>{console.log(t),this.accountForm.get("approvedLoanAmount").setValue(t.approvedLoanAmount),console.log(t.loanTenure);let e=Number(t.loanTenure.split("-")[0].match(/\d+/)[0]),a=Number(t.loanTenure.split("-")[1].match(/\d+/)[0]),n=Number(t.loanTenure.split("-")[2].match(/\d+/)[0]);this.accountForm.get("year").setValue(e),this.accountForm.get("month").setValue(a),this.accountForm.get("day").setValue(n)},t=>{console.error(t)})}intrestData(){console.log(this.loanaccountID),this.apiService.fetchLoanAssessment(this.loanaccountID).subscribe(t=>{this.accountForm.get("rateOfInterest").setValue(t.rateOfInterest)})}installmentTypeData(){console.log(this.loanaccountID),this.apiService.getOfferAcceptReject(this.loanaccountID).subscribe(t=>{console.log(t),this.accountForm.get("installmentType").setValue(t.installmentType),this.accountForm.get("installmentFrequency").setValue(t.installmentFrequency);let e=$(t.offerIssueDate).format();this.accountForm.get("offerIssueDate").setValue(e);let a=$(t.offerAcceptOrRejectDate).format();this.accountForm.get("offerAcceptedDate").setValue(a),console.log(e)})}interestLoadData(){console.log(this.loanaccountID),this.apiService.getingOfferIssueDetails(this.loanaccountID).subscribe(t=>{console.log(t),this.accountForm.get("interest").setValue(t.interest),this.accountForm.get("charges").setValue(t.charges),this.accountForm.get("principal").setValue(t.principal),this.accountForm.get("installmentAmount").setValue(t.installmentAmount)})}dataLoad(){console.log(this.loanaccountID),this.apiService.loanDisbursementFetchById(this.loanaccountID).subscribe(t=>{console.log(t),this.accountForm.get("disbursementAmount").setValue(t.totalDisbursement)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(o.h),i.Rb(u.a),i.Rb(Ne.a),i.Rb(La.a),i.Rb(p.b),i.Rb(p.b),i.Rb(h.a),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-account-create-details"]],decls:124,vars:10,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/account details.png","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"card-title-text"],["fxLayout","column",3,"formGroup"],[1,"alignChange"],["visible","true"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],["matInput","","name","applicantName","placeholder","Applicant Name","formControlName","applicantName",1,"alignment",3,"keypress"],[4,"ngIf"],["matInput","","name","loanAmmount","maxlength","16","formControlName","approvedLoanAmount","placeholder","Approved Loan Amount","readonly","",1,"alignment",3,"keypress"],["matInput","","id","dob","name","OpinionDate","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","offerIssueDate",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle",1,"datechange"],["matSuffix","",3,"for"],["picker",""],["matInput","","id","dob","name","OpinionDate","value","OpinionDate","placeholder","DD/MM/YYYY","formControlName","offerAcceptedDate",1,"alignment",3,"matDatepicker","min"],["appDatepicker",""],[1,"flex-grow-1"],["fxLayout","row wrap"],[1,"tenre"],["appearance","outline","fxFlex","23",1,"full-width","tenure1"],["matInput","","formControlName","year","name","year","placeholder","Year","autocomplete","off","maxlength","2",1,"alignment",3,"keypress"],["appearance","outline","fxFlex","21.5",1,"full-width","tenure1"],["matInput","","formControlName","month","name","month","placeholder","Month","autocomplete","off",1,"alignment",3,"keypress","input"],["matInput","","formControlName","day","name","day","placeholder","Day","autocomplete","off",1,"alignment",3,"keypress","input"],["fxFlex","49.5",1,"flex-grow-1"],["disableOptionCentering","","name","installmentType","placeholder","Select","formControlName","installmentType",1,"alignment"],["value","EMI"],["matInput","","name","installmentFrequency","placeholder","Installment Frequency","formControlName","installmentFrequency",1,"alignment",3,"keypress"],["matInput","","name","rateofInterest","placeholder","Percentage","formControlName","rateOfInterest","maxlength","2",1,"alignment",3,"keypress"],["matInput","","name","principal","placeholder","Amount","formControlName","principal","maxlength","8",1,"alignment",3,"keypress"],["matInput","","name","interest","placeholder","Amount","formControlName","interest","maxlength","2",1,"alignment",3,"keypress"],["matInput","","name","installmentAmount","maxlength","8","placeholder","Installment Amount","formControlName","installmentAmount",1,"alignment",3,"keypress"],["matInput","","name","Amount","placeholder","Amount","formControlName","charges","maxlength","5",1,"alignment",3,"keypress"],["matInput","","name","disbursementAmount","placeholder","Disbursement Amount","formControlName","disbursementAmount","maxlength","8",1,"alignment",3,"keypress"],["matInput","","name","repaymentAmount","placeholder","Repayment Amount","formControlName","repaymentAmount","maxlength","8",1,"alignment",3,"keypress"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Back",3,"click"],["mat-raised-button","",1,"Next",3,"disabled","click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h1"),i.Xb(7,"b"),i.Tc(8,"Account Create Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div",0),i.Xb(10,"form",6),i.Xb(11,"div",1),i.Xb(12,"mat-card",0),i.Xb(13,"mat-card-title"),i.Xb(14,"fieldset",7),i.Xb(15,"legend",8),i.Tc(16,"Account Create Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(17,"div",9),i.Xb(18,"div",10),i.Xb(19,"mat-form-field",11),i.Xb(20,"mat-label"),i.Tc(21,"Applicant Name*"),i.Wb(),i.Xb(22,"input",12),i.fc("keypress",function(t){return e.letterOnly(t)}),i.Wb(),i.Rc(23,bm,2,0,"mat-error",13),i.Wb(),i.Wb(),i.Xb(24,"div",10),i.Xb(25,"mat-form-field",11),i.Xb(26,"mat-label"),i.Tc(27,"Approved Loan Amount*"),i.Wb(),i.Xb(28,"input",14),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Rc(29,mm,2,0,"mat-error",13),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",9),i.Xb(31,"div",10),i.Xb(32,"mat-form-field",11),i.Xb(33,"mat-label"),i.Tc(34,"Offer Issue Date*"),i.Wb(),i.Sb(35,"input",15),i.Xb(36,"div",16),i.Sb(37,"mat-datepicker-toggle",17),i.Sb(38,"mat-datepicker",null,18),i.Wb(),i.Rc(40,um,2,0,"mat-error",13),i.Wb(),i.Wb(),i.Xb(41,"div",10),i.Xb(42,"mat-form-field",11),i.Xb(43,"mat-label"),i.Tc(44,"Offer Accepted Date"),i.Wb(),i.Sb(45,"input",19),i.Xb(46,"div",16),i.Sb(47,"mat-datepicker-toggle",17),i.Sb(48,"mat-datepicker",null,20),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(50,"div",21),i.Xb(51,"div"),i.Xb(52,"div",22),i.Xb(53,"mat-hint",23),i.Xb(54,"b"),i.Tc(55,"Loan Tenure *"),i.Wb(),i.Wb(),i.Xb(56,"mat-form-field",24),i.Xb(57,"mat-label"),i.Tc(58,"Year*"),i.Wb(),i.Xb(59,"input",25),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Xb(60,"mat-form-field",26),i.Xb(61,"mat-label"),i.Tc(62,"Month*"),i.Wb(),i.Xb(63,"input",27),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(t){return e.limitMonth(t)}),i.Wb(),i.Wb(),i.Xb(64,"mat-form-field",26),i.Xb(65,"mat-label"),i.Tc(66,"Day*"),i.Wb(),i.Xb(67,"input",28),i.fc("keypress",function(t){return e._keyPress(t)})("input",function(t){return e.limitDays(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(68,"div",29),i.Xb(69,"mat-form-field",11),i.Xb(70,"mat-label"),i.Tc(71,"Installment Type"),i.Wb(),i.Xb(72,"mat-select",30),i.Xb(73,"mat-option",31),i.Tc(74,"EMI"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(75,"div",9),i.Xb(76,"div",10),i.Xb(77,"mat-form-field",11),i.Xb(78,"mat-label"),i.Tc(79,"Installment Frequency"),i.Wb(),i.Xb(80,"input",32),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(81,"div",10),i.Xb(82,"mat-form-field",11),i.Xb(83,"mat-label"),i.Tc(84,"Rate of Interest"),i.Wb(),i.Xb(85,"input",33),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(86,"div",9),i.Xb(87,"div",10),i.Xb(88,"mat-form-field",11),i.Xb(89,"mat-label"),i.Tc(90,"Principal"),i.Wb(),i.Xb(91,"input",34),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(92,"div",10),i.Xb(93,"mat-form-field",11),i.Xb(94,"mat-label"),i.Tc(95,"Interest"),i.Wb(),i.Xb(96,"input",35),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(97,"div",9),i.Xb(98,"div",10),i.Xb(99,"mat-form-field",11),i.Xb(100,"mat-label"),i.Tc(101,"Installment Amount"),i.Wb(),i.Xb(102,"input",36),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(103,"div",10),i.Xb(104,"mat-form-field",11),i.Xb(105,"mat-label"),i.Tc(106,"Charges"),i.Wb(),i.Xb(107,"input",37),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(108,"div",9),i.Xb(109,"div",10),i.Xb(110,"mat-form-field",11),i.Xb(111,"mat-label"),i.Tc(112,"Disbursement Account"),i.Wb(),i.Xb(113,"input",38),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Xb(114,"div",10),i.Xb(115,"mat-form-field",11),i.Xb(116,"mat-label"),i.Tc(117,"Repayment Account"),i.Wb(),i.Xb(118,"input",39),i.fc("keypress",function(t){return e._keyPress(t)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(119,"div",40),i.Xb(120,"button",41),i.fc("click",function(){return e.goBack()}),i.Tc(121," Back "),i.Wb(),i.Xb(122,"button",42),i.fc("click",function(){return e.onSubmit()}),i.Tc(123," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(39),a=i.Dc(49);i.Eb(10),i.rc("formGroup",e.accountForm),i.Eb(13),i.rc("ngIf",!e.accountForm.get("applicantName").valid&&e.accountForm.get("applicantName").touched),i.Eb(6),i.rc("ngIf",!e.accountForm.get("approvedLoanAmount").valid&&e.accountForm.get("approvedLoanAmount").touched),i.Eb(6),i.rc("matDatepicker",t),i.Eb(2),i.rc("for",t),i.Eb(3),i.rc("ngIf",!e.accountForm.get("offerIssueDate").valid&&e.accountForm.get("offerIssueDate").touched),i.Eb(5),i.rc("matDatepicker",a)("min",e.accountForm.get("offerIssueDate").value),i.Eb(2),i.rc("for",a),i.Eb(75),i.rc("disabled",!e.accountForm.valid)}},directives:[r.e,r.b,V.A,V.s,V.j,c.a,c.h,r.f,s.c,s.g,z.b,V.c,V.r,V.i,n.n,V.m,Q.e,Q.g,s.j,Q.d,s.f,q.a,B.n,r.d,l.b,s.b],styles:[".hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}fieldset[_ngcontent-%COMP%]{border:solid #d3d3d3;border-width:1px 0 0;margin-right:20px;margin-top:20px!important;margin-bottom:20px!important}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -15%}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}mat-datepicker-toggle[_ngcontent-%COMP%]{margin-left:48%}#toggle[_ngcontent-%COMP%]{margin-top:-3%;margin-left:6.3cm;margin-right:10px}.mat-form-field-type-mat-select[_ngcontent-%COMP%]:not(.mat-form-field-disabled)   .mat-form-field-flex[_ngcontent-%COMP%]{width:50%!important;margin-left:50px}  .loan-installment-row .mat-form-field-wrapper{padding-bottom:5px}.card-title-text[_ngcontent-%COMP%]{font-size:17px!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.sqInput1[_ngcontent-%COMP%]{width:28%;margin-left:2.5%;height:53px}.Back[_ngcontent-%COMP%]{background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;color:#fff}.Next[_ngcontent-%COMP%]{background-color:#426af5;border-radius:55px}.tenure1[_ngcontent-%COMP%], .tenure2[_ngcontent-%COMP%]{margin-left:4.9%!important}.tenre[_ngcontent-%COMP%]{margin-top:17px}.datechange[_ngcontent-%COMP%]{height:10px}.alignChange[_ngcontent-%COMP%]{margin-left:0!important}"]}),t})();var pm=a("uf+g"),fm=a("ZfxJ");let gm=(()=>{class t{constructor(t,e,a){this.router=t,this.api=e,this.ls=a,this.titleName="Account Creation Stage"}ngOnInit(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.getOfferAcceptReject(),this.getAccountCreateDetails()}goBack(){this.router.navigate(["/loan/account/list"])}done(){this.router.navigate(["/loan/account/list"])}getOfferAcceptReject(){this.api.getOfferAcceptReject("200").subscribe(t=>{console.log(t),this.offerAcceptRejectvalue=t})}getAccountCreateDetails(){this.api.getAccountCreateDetails(this.loanaccountID).subscribe(t=>{console.log(t),this.accountCreateValue=t})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(p.b),i.Rb(u.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-account-creation-summary"]],decls:127,vars:15,consts:[["src","assets/images/entry.png","alt","",1,"entryImg"],[1,"para"],[1,"full-width"],[1,"fullcard"],["fxLayout","row"],[1,"paraFont"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],["fxLayout","column","fxLayoutGap","4%","fxLayoutAlign","space-between none",1,"colAlign"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["layout","row"],["flex","",1,"line"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Sb(1,"img",0),i.Xb(2,"h4",1),i.Tc(3),i.Wb(),i.Sb(4,"br"),i.Xb(5,"div",2),i.Xb(6,"div",3),i.Xb(7,"div",4),i.Xb(8,"h4",5),i.Tc(9,"Account Create Details"),i.Wb(),i.Wb(),i.Xb(10,"div",6),i.Xb(11,"div",7),i.Xb(12,"mat-card",8),i.Xb(13,"mat-card-content"),i.Xb(14,"div",2),i.Xb(15,"div",9),i.Xb(16,"div",10),i.Vb(17),i.Xb(18,"div",11),i.Xb(19,"mat-hint",12),i.Tc(20,"Applicant Name"),i.Wb(),i.Sb(21,"br"),i.Xb(22,"mat-hint",13),i.Tc(23),i.Wb(),i.Wb(),i.Xb(24,"div",11),i.Xb(25,"mat-hint",12),i.Tc(26,"Approved Loan Amount "),i.Wb(),i.Sb(27,"br"),i.Xb(28,"mat-hint",13),i.Tc(29),i.Wb(),i.Wb(),i.Xb(30,"div",11),i.Xb(31,"mat-hint",12),i.Tc(32,"Offer Issue Date"),i.Wb(),i.Sb(33,"br"),i.Xb(34,"mat-hint",13),i.Tc(35),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(36,"div"),i.Xb(37,"span",14),i.Sb(38,"hr",15),i.Wb(),i.Wb(),i.Xb(39,"div",10),i.Vb(40),i.Xb(41,"div",11),i.Xb(42,"mat-hint",12),i.Tc(43,"Offer Accepted Date"),i.Wb(),i.Sb(44,"br"),i.Xb(45,"mat-hint",13),i.Tc(46),i.Wb(),i.Wb(),i.Xb(47,"div",11),i.Xb(48,"mat-hint",12),i.Tc(49,"Loan Tenure"),i.Wb(),i.Sb(50,"br"),i.Xb(51,"mat-hint",13),i.Tc(52),i.Wb(),i.Wb(),i.Xb(53,"div",11),i.Xb(54,"mat-hint",12),i.Tc(55,"Installment Type"),i.Wb(),i.Sb(56,"br"),i.Xb(57,"mat-hint",13),i.Tc(58),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(59,"div"),i.Xb(60,"span",14),i.Sb(61,"hr",15),i.Wb(),i.Wb(),i.Xb(62,"div",10),i.Vb(63),i.Xb(64,"div",11),i.Xb(65,"mat-hint",12),i.Tc(66,"Installment Frequency"),i.Wb(),i.Sb(67,"br"),i.Xb(68,"mat-hint",13),i.Tc(69),i.Wb(),i.Wb(),i.Xb(70,"div",11),i.Xb(71,"mat-hint",12),i.Tc(72,"Rate of Interest"),i.Wb(),i.Sb(73,"br"),i.Xb(74,"mat-hint",13),i.Tc(75),i.Wb(),i.Wb(),i.Xb(76,"div",11),i.Xb(77,"mat-hint",12),i.Tc(78,"Principal"),i.Wb(),i.Sb(79,"br"),i.Xb(80,"mat-hint",13),i.Tc(81),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(82,"div"),i.Xb(83,"span",14),i.Sb(84,"hr",15),i.Wb(),i.Wb(),i.Xb(85,"div",10),i.Vb(86),i.Xb(87,"div",11),i.Xb(88,"mat-hint",12),i.Tc(89,"Interest"),i.Wb(),i.Sb(90,"br"),i.Xb(91,"mat-hint",13),i.Tc(92),i.Wb(),i.Wb(),i.Xb(93,"div",11),i.Xb(94,"mat-hint",12),i.Tc(95,"Installment Amount"),i.Wb(),i.Sb(96,"br"),i.Xb(97,"mat-hint",13),i.Tc(98),i.Wb(),i.Wb(),i.Xb(99,"div",11),i.Xb(100,"mat-hint",12),i.Tc(101,"Charges"),i.Wb(),i.Sb(102,"br"),i.Xb(103,"mat-hint",13),i.Tc(104),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Xb(105,"div"),i.Xb(106,"span",14),i.Sb(107,"hr",15),i.Wb(),i.Wb(),i.Xb(108,"div",10),i.Vb(109),i.Xb(110,"div",11),i.Xb(111,"mat-hint",12),i.Tc(112,"Disbursement Amount"),i.Wb(),i.Sb(113,"br"),i.Xb(114,"mat-hint",13),i.Tc(115),i.Wb(),i.Wb(),i.Xb(116,"div",11),i.Xb(117,"mat-hint",12),i.Tc(118,"Repayment Amount"),i.Wb(),i.Sb(119,"br"),i.Xb(120,"mat-hint",13),i.Tc(121),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(122,"div",16),i.Xb(123,"button",17),i.fc("click",function(){return e.goBack()}),i.Tc(124," Back\n"),i.Wb(),i.Xb(125,"button",18),i.fc("click",function(){return e.done()}),i.Tc(126," Done\n"),i.Wb(),i.Wb()),2&t&&(i.Eb(3),i.Uc(e.titleName),i.Eb(20),i.Uc(e.accountCreateValue.applicantName),i.Eb(6),i.Vc("",e.accountCreateValue.approvedLoanAmount," "),i.Eb(6),i.Vc("",e.accountCreateValue.offerIssueDate," "),i.Eb(11),i.Uc(e.accountCreateValue.offerAcceptedDate),i.Eb(6),i.Vc("",e.accountCreateValue.loanTenure," "),i.Eb(6),i.Uc(e.accountCreateValue.installmentType),i.Eb(11),i.Uc(e.accountCreateValue.installmentFrequency),i.Eb(6),i.Uc(e.accountCreateValue.rateOfInterest),i.Eb(6),i.Vc("",e.accountCreateValue.principal," "),i.Eb(11),i.Uc(e.accountCreateValue.interest),i.Eb(6),i.Uc(e.accountCreateValue.installmentAmount),i.Eb(6),i.Uc(e.accountCreateValue.charges),i.Eb(11),i.Uc(e.accountCreateValue.disbursementAmount),i.Eb(6),i.Uc(e.accountCreateValue.repaymentAmount))},directives:[r.e,r.d,r.b,c.a,c.d,r.f,s.f,l.b],styles:[".entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.para[_ngcontent-%COMP%]{color:#0f0f0f;text-align:center;font-family:Montserrat;font-size:20px;padding-top:12px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#aaa;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.line[_ngcontent-%COMP%]{width:100%;align-self:center;border-top:1px solid #f5f5f5}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-family:Montserrat;font-size:16px}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.fullcard[_ngcontent-%COMP%]{width:95%;height:50%;margin:auto}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.toggle[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;opacity:.4!important}.textIconCust[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpanCust[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.textIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.textSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.nomineeIcon[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:20px!important;color:#24cca7}.nomineeSpan[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#464545;font-family:Montserrat;font-size:13px}.textIconnom[_ngcontent-%COMP%]{height:16px!important;width:16px!important;font-size:16px!important;color:#b2b2b2}.textSpannom[_ngcontent-%COMP%]{position:absolute;padding-top:1px;color:#949494;font-family:Manrope;font-size:11px}.inputCard[_ngcontent-%COMP%]{box-sizing:border-box;height:200px}.inputCard[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #f8f8f8,0 1px 0 #f8f8f8,0 5px 8px 0 #e9e9e9}.textSpanCIF[_ngcontent-%COMP%]{color:#949494;font-family:Manrope;font-size:11px;padding-left:10px}"]}),t})();function hm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 CIF Number is Required! "),i.Wb())}function vm(t,e){1&t&&(i.Xb(0,"mat-error",53),i.Tc(1,"Duplicate CIF Number"),i.Wb())}function Wm(t,e){if(1&t&&(i.Xb(0,"mat-option",54),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Xm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Relationship with Customer is Required! "),i.Wb())}function ym(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0 Prefix and Relationship with Customer does not match! "),i.Wb())}function xm(t,e){if(1&t&&(i.Xb(0,"mat-option",54),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Cm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Prefix is Required! "),i.Wb())}function Im(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 First Name is Required! "),i.Wb())}function Om(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Last Name is Required! "),i.Wb())}function Am(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Date of Birth is Required! "),i.Wb())}function Dm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Address 1 is Required! "),i.Wb())}function Tm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0Address 2 is Required! "),i.Wb())}function Sm(t,e){if(1&t&&(i.Xb(0,"mat-option",54),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function km(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Country is Required! "),i.Wb())}function _m(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0Valid Zip Code is Required!(5-10 digits) "),i.Wb())}function Rm(t,e){if(1&t&&(i.Xb(0,"mat-option",54),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.stateName),i.Eb(1),i.Vc(" ",t.stateName,"")}}function Mm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 State is Required! "),i.Wb())}function Em(t,e){if(1&t&&(i.Xb(0,"mat-option",54),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc("",t," ")}}function Pm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 City is Required! "),i.Wb())}function Nm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Phone Number is Required! "),i.Wb())}function wm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Please Enter Valid Phone Number "),i.Wb())}function Fm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Mobile Number is Required! "),i.Wb())}function Lm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Please Enter Valid Mobile Number "),i.Wb())}function Vm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 E-mail is Required! "),i.Wb())}function zm(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",14),i.Xb(3,"div",15),i.Xb(4,"div",16),i.Xb(5,"div",17),i.Xb(6,"div",18),i.Tc(7," Is the guarantor an existing customer ? \xa0\xa0\xa0\xa0"),i.Xb(8,"mat-slide-toggle",19),i.fc("change",function(){return i.Hc(t),i.jc().stayTrue()}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div",20),i.Xb(10,"mat-form-field",21),i.Xb(11,"mat-label"),i.Tc(12,"CIF Number"),i.Wb(),i.Xb(13,"input",22),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("keyup",function(e){return i.Hc(t),i.jc().keyUpevent(e)}),i.Wb(),i.Rc(14,hm,2,0,"mat-error",23),i.Rc(15,vm,2,0,"mat-error",24),i.Wb(),i.Wb(),i.Xb(16,"div",25),i.Xb(17,"p",26),i.fc("click",function(){i.Hc(t);const e=i.jc();return e.fetchByCif(e.guarantorDetailsForm.get("cifNumber").value)}),i.Tc(18," Fetch"),i.Wb(),i.Wb(),i.Xb(19,"div",27),i.Xb(20,"div",28),i.Xb(21,"mat-form-field",29),i.Xb(22,"mat-label"),i.Tc(23,"Relationship with Customer"),i.Wb(),i.Xb(24,"mat-select",30),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().onChangeData(e.value)}),i.Rc(25,Wm,2,2,"mat-option",31),i.Wb(),i.Rc(26,Xm,2,0,"mat-error",23),i.Rc(27,ym,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(28,"div",27),i.Xb(29,"div",28),i.Xb(30,"mat-form-field",29),i.Xb(31,"mat-label"),i.Tc(32,"Prefix"),i.Wb(),i.Xb(33,"mat-select",32),i.fc("selectionChange",function(){i.Hc(t);const e=i.jc();return e.onChangeData(e.guarantorDetailsForm.get("relationWithCustomer").value)}),i.Rc(34,xm,2,2,"mat-option",31),i.Wb(),i.Rc(35,Cm,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(36,"div",27),i.Xb(37,"div",28),i.Xb(38,"mat-form-field",29),i.Xb(39,"mat-label"),i.Tc(40,"First Name"),i.Wb(),i.Xb(41,"input",33),i.fc("keypress",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Rc(42,Im,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(43,"div",27),i.Xb(44,"div",28),i.Xb(45,"mat-form-field",29),i.Xb(46,"mat-label"),i.Tc(47,"Middle Name"),i.Wb(),i.Xb(48,"input",34),i.fc("keypress",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(49,"div",27),i.Xb(50,"div",28),i.Xb(51,"mat-form-field",29),i.Xb(52,"mat-label"),i.Tc(53,"Last Name"),i.Wb(),i.Xb(54,"input",35),i.fc("keypress",function(e){return i.Hc(t),i.jc().letterOnly(e)}),i.Wb(),i.Rc(55,Om,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(56,"div",27),i.Xb(57,"div",28),i.Xb(58,"mat-form-field",29),i.Xb(59,"mat-label"),i.Tc(60,"Date of Birth"),i.Wb(),i.Sb(61,"input",36),i.Sb(62,"mat-datepicker-toggle",37),i.Sb(63,"mat-datepicker",null,38),i.Rc(65,Am,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(66,"div"),i.Xb(67,"div",39),i.Xb(68,"div",40),i.Tc(69,"\xa0\xa0 Address "),i.Wb(),i.Wb(),i.Xb(70,"div"),i.Xb(71,"span",41),i.Sb(72,"hr",42),i.Wb(),i.Wb(),i.Xb(73,"div",13),i.Xb(74,"div",27),i.Xb(75,"div",28),i.Xb(76,"mat-form-field",29),i.Xb(77,"mat-label"),i.Tc(78,"Building"),i.Wb(),i.Sb(79,"input",43),i.Rc(80,Dm,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(81,"div",27),i.Xb(82,"div",28),i.Xb(83,"mat-form-field",29),i.Xb(84,"mat-label"),i.Tc(85,"Street"),i.Wb(),i.Sb(86,"input",44),i.Rc(87,Tm,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(88,"div",27),i.Xb(89,"div",28),i.Xb(90,"mat-form-field",29),i.Xb(91,"mat-label"),i.Tc(92,"Country *"),i.Wb(),i.Xb(93,"mat-select",45),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().getStateName(e.value,!0)}),i.Xb(94,"mat-option",46),i.Tc(95,"Select"),i.Wb(),i.Rc(96,Sm,2,2,"mat-option",31),i.Wb(),i.Rc(97,km,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(98,"div",27),i.Xb(99,"div",28),i.Xb(100,"mat-form-field",29),i.Xb(101,"mat-label"),i.Tc(102,"Zip Code"),i.Wb(),i.Xb(103,"input",47),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("change",function(e){i.Hc(t);const a=i.jc();return a.getCityandStateByZipcode(a.guarantorDetailsForm.get("country").value,e.target.value)}),i.Wb(),i.Rc(104,_m,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(105,"div",27),i.Xb(106,"div",28),i.Xb(107,"mat-form-field",29),i.Xb(108,"mat-label"),i.Tc(109,"State *"),i.Wb(),i.Xb(110,"mat-select",48),i.fc("selectionChange",function(){return i.Hc(t),i.jc().onStateChange()}),i.Rc(111,Rm,2,2,"mat-option",31),i.Wb(),i.Rc(112,Mm,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(113,"div",27),i.Xb(114,"div",28),i.Xb(115,"mat-form-field",29),i.Xb(116,"mat-label"),i.Tc(117,"City"),i.Wb(),i.Xb(118,"mat-select",49),i.fc("selectionChange",function(){return i.Hc(t),i.jc().onCityChange()}),i.Rc(119,Em,2,2,"mat-option",31),i.Wb(),i.Rc(120,Pm,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(121,"div"),i.Xb(122,"div",39),i.Xb(123,"div",40),i.Tc(124,"\xa0\xa0 Contact Information"),i.Wb(),i.Wb(),i.Xb(125,"div"),i.Xb(126,"span",41),i.Sb(127,"hr",42),i.Wb(),i.Wb(),i.Xb(128,"div",13),i.Xb(129,"div",27),i.Xb(130,"div",28),i.Xb(131,"mat-form-field",29),i.Xb(132,"mat-label"),i.Tc(133,"Phone Number"),i.Wb(),i.Xb(134,"input",50),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(135,Nm,2,0,"mat-error",23),i.Rc(136,wm,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(137,"div",27),i.Xb(138,"div",28),i.Xb(139,"mat-form-field",29),i.Xb(140,"mat-label"),i.Tc(141,"Mobile Number"),i.Wb(),i.Xb(142,"input",51),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(143,Fm,2,0,"mat-error",23),i.Rc(144,Lm,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Xb(145,"div",27),i.Xb(146,"div",28),i.Xb(147,"mat-form-field",29),i.Xb(148,"mat-label"),i.Tc(149,"E-mail"),i.Wb(),i.Sb(150,"input",52),i.Rc(151,Vm,2,0,"mat-error",23),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(64),e=i.jc();i.rc("formGroup",e.guarantorDetailsForm),i.Eb(14),i.rc("ngIf",!e.guarantorDetailsForm.get("cifNumber").valid&&e.guarantorDetailsForm.get("cifNumber").touched),i.Eb(1),i.rc("ngIf",e.isDuplicateCIF),i.Eb(9),i.rc("value",e.relationshipType),i.Eb(1),i.rc("ngForOf",e.arrayRelationshipType),i.Eb(1),i.rc("ngIf",!e.guarantorDetailsForm.get("relationWithCustomer").valid&&e.guarantorDetailsForm.get("relationWithCustomer").touched),i.Eb(1),i.rc("ngIf",!e.prefixFlag),i.Eb(7),i.rc("ngForOf",e.arrayPrefix),i.Eb(1),i.rc("ngIf",!e.guarantorDetailsForm.get("prefix").valid&&e.guarantorDetailsForm.get("prefix").touched),i.Eb(7),i.rc("ngIf",!e.guarantorDetailsForm.get("firstName").valid&&e.guarantorDetailsForm.get("firstName").touched),i.Eb(13),i.rc("ngIf",!e.guarantorDetailsForm.get("lastName").valid&&e.guarantorDetailsForm.get("lastName").touched),i.Eb(6),i.rc("matDatepicker",t)("min",e.minDate)("max",e.maxDate),i.Eb(1),i.rc("for",t),i.Eb(3),i.rc("ngIf",!e.guarantorDetailsForm.get("dateOfBirth").valid&&e.guarantorDetailsForm.get("dateOfBirth").touched),i.Eb(15),i.rc("ngIf",e.guarantorDetailsForm.get("address1").valid&&e.guarantorDetailsForm.get("address1").touched&&!e.guarantorDetailsForm.get("address1").valid||e.guarantorDetailsForm.get("address1").touched&&e.guarantorDetailsForm.get("address1").hasError("pattern")),i.Eb(7),i.rc("ngIf",e.guarantorDetailsForm.get("address2").valid&&e.guarantorDetailsForm.get("address2").touched&&!e.guarantorDetailsForm.get("address2").valid||e.guarantorDetailsForm.get("address2").touched&&e.guarantorDetailsForm.get("address2").hasError("pattern")),i.Eb(9),i.rc("ngForOf",e.arrayCountry),i.Eb(1),i.rc("ngIf",!e.guarantorDetailsForm.get("country").valid&&e.guarantorDetailsForm.get("country").touched),i.Eb(7),i.rc("ngIf",!e.guarantorDetailsForm.get("zipCode").valid&&e.guarantorDetailsForm.get("zipCode").touched),i.Eb(7),i.rc("ngForOf",e.arrayState),i.Eb(1),i.rc("ngIf",!e.guarantorDetailsForm.get("state").valid&&e.guarantorDetailsForm.get("state").touched),i.Eb(7),i.rc("ngForOf",e.arrayCity),i.Eb(1),i.rc("ngIf",!e.guarantorDetailsForm.get("city").valid&&e.guarantorDetailsForm.get("city").touched),i.Eb(15),i.rc("ngIf",e.guarantorDetailsForm.get("phoneNumber").hasError("required")&&e.guarantorDetailsForm.get("phoneNumber").touched),i.Eb(1),i.rc("ngIf",e.guarantorDetailsForm.get("phoneNumber").hasError("pattern")&&e.guarantorDetailsForm.get("phoneNumber").touched),i.Eb(7),i.rc("ngIf",e.guarantorDetailsForm.get("mobileNumber").hasError("required")&&e.guarantorDetailsForm.get("mobileNumber").touched),i.Eb(1),i.rc("ngIf",e.guarantorDetailsForm.get("mobileNumber").hasError("pattern")&&e.guarantorDetailsForm.get("mobileNumber").touched),i.Eb(7),i.rc("ngIf",!e.guarantorDetailsForm.get("emailAddress").valid&&e.guarantorDetailsForm.get("emailAddress").touched)}}let qm=(()=>{class t extends class{constructor(){}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/^[a-zA-Z0-9_ ]*$/.test(e)||(t.preventDefault(),!1)}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}keyUpevent(t){console.log("event",t)}}{constructor(t,e,a,n,i,o,r,c){super(),this.fb=t,this.ls=e,this.loader=a,this.apiService=n,this.router=i,this.snack=o,this.accountService=r,this.appApiService=c,this.showEditOption=!1,this.active=!1,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.arrayRelationshipType=[],this.tomorrow=new Date,this.cifNumber=[],this.prefixFlag=!1,this.tomorrow.setDate(this.tomorrow.getDate())}ngOnInit(){this.buildformGroup(),this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.prefixFlag=!0,this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("GUARANTOR_DETAIL_DONE"));this.getCountryName("country"),this.getAllAuthCities(),this.getRelationShipType("relationship_type"),this.getPrefixValue("prefix"),this.numOfApplicants=this.ls.getItem("LoanNoOfApplicants"),setTimeout(()=>{this.loanaccountID&&t?(this.showEditOption=!0,this.getGuarantorDetails()):(this.showEditOption=!1,this.buildformGroup())},10),this.cifByData()}buildformGroup(t){t&&t.country&&this.getStateName(t.country),this.guarantorDetailsForm=this.fb.group({cifNumber:[t?t.cifNumber:"",V.z.required],relationWithCustomer:[t?t.relationWithCustomer:"",V.z.required],prefix:[t?t.prefix:"",V.z.required],firstName:[t?t.firstName:"",V.z.required],existingCustomer:[!0,V.z.required],middleName:[t?t.middleName:""],lastName:[t?t.lastName:"",V.z.required],dateOfBirth:[t?t.dateOfBirth:"",V.z.required],address1:[t?t.address1:"",[V.z.pattern(".*[a-zA-Z].*"),V.z.required]],address2:[t?t.address2:"",[V.z.pattern(".*[a-zA-Z].*"),V.z.required]],city:[t?t.city:"",V.z.required],state:[t?t.state:"",V.z.required],country:[t?t.country:"",V.z.required],zipCode:[t?t.zipCode:"",[V.z.required,V.z.pattern("^[0-9]{5,10}$")]],phoneNumber:[t?t.phoneNumber:"",[V.z.pattern("^[0-9]{10,12}$")]],mobileNumber:[t?t.mobileNumber:"",[V.z.required,V.z.pattern("^[0-9]{10,12}$")]],emailAddress:[t?t.emailAddress:"",[V.z.required,V.z.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]]})}onChangeData(t){let e=this.guarantorDetailsForm.value.prefix;e&&this.guarantorDetailsForm.value.relationWithCustomer&&(("Mr"!=e||"Father"!=t&&"Brother"!=t&&"Spouse"!=t)&&("Ms"!=e&&"Mrs"!=e||"Mother"!=t&&"Sister"!=t)?(this.prefixFlag=!1,this.snack.open("Prefix and Relationship with Customer does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})):this.prefixFlag=!0)}getGuarantorDetails(){this.loader.open(),this.apiService.getGuarantorByLoanAccId(this.loanaccountID).subscribe(t=>{this.loader.close(),this.guarantorDetails=t,this.getStateName(this.guarantorDetails.country),this.buildformGroup(this.guarantorDetails)},t=>{this.loader.close()})}getRelationShipType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayRelationshipType=t,console.log("--\x3e",this.arrayCountry)})}getPrefixValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayPrefix=t})}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&(this.arrayCountry.push(t[e].countryName),this.arrayCountry.sort())})}getStateName(t,e){e&&(this.guarantorDetailsForm.get("zipCode").setValue(""),this.guarantorDetailsForm.get("state").setValue(""),this.guarantorDetailsForm.get("city").setValue("")),this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName==t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{this.arrayState=t});break}})}getAllAuthCities(){this.apiService.getAuthorizedCityInfo().subscribe(t=>t.map(t=>this.arrayCity.push(t.cityName)))}onStateChange(){this.guarantorDetailsForm.get("zipCode").setValue(""),this.guarantorDetailsForm.get("city").setValue("")}onCityChange(){this.guarantorDetailsForm.get("zipCode").setValue("")}goBack(){this.router.navigate(["/loan/account/collateral_details"])}stayTrue(){this.guarantorDetailsForm.get("existingCustomer").setValue(!0)}submitForm(){let t={};t=this.guarantorDetailsForm.value,t.loanAccountId=this.loanaccountID,t.active=this.active,t.customerId=this.customerId,t.customerTypeId=this.customerTypeId,t.userAddress=this.userAddress,t.cifNumber=this.guarantorDetailsForm.value.cifNumber,this.apiService.upsertGuarantorDetails(t).subscribe(t=>{null!=t&&(this.snack.open("Guarantor Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next())})}cifByData(){this.appApiService.fetchCustomersByLoanAccId(this.loanaccountID,"loan").subscribe(t=>{if(t.data)for(var e=0;e<=this.numOfApplicants;e++)this.cifNumber.push({cifValue:t.data[e].customerId})})}fetchByCif(t){this.cifNumber.some(e=>e.cifValue==t)?(this.isDuplicateCIF=!0,this.disableSaveBtn=!0,this.snack.open("Duplicate CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})):(this.isDuplicateCIF=!0,this.disableSaveBtn=!1,t&&this.appApiService.fetchByCif(t).subscribe(t=>{this.buildformGroup({cifNumber:t.customerInfoList[0].cifNumber,relationWithCustomer:t.customerInfoList[0].relationWithCustomer,prefix:t.customerInfoList[0].prefix,firstName:t.customerInfoList[0].firstName,middleName:t.customerInfoList[0].middleName,lastName:t.customerInfoList[0].lastName,dateOfBirth:t.customerInfoList[0].dateOfBirth,address1:t.customerInfoList[0].userAddress[0].address1,address2:t.customerInfoList[0].userAddress[0].address2,city:t.customerInfoList[0].userAddress[0].city,state:t.customerInfoList[0].userAddress[0].state,country:t.customerInfoList[0].userAddress[0].country,zipCode:t.customerInfoList[0].userAddress[0].zipCode,phoneNumber:t.customerInfoList[0].phoneNumber,mobileNumber:t.customerInfoList[0].landlineNumber,emailAddress:t.customerInfoList[0].primaryEmailAdress})}))}next(){this.ls.setItem("GUARANTOR_DETAIL_DONE",!0),this.ls.setItem("LoanEntryStage",!0),console.log("loan entry stage done:",this.ls.setItem("LoanEntryStage",!0)),this.accountService.refresh.next(),this.router.navigate(["/loan/account/application-enrichment"])}getCityandStateByZipcode(t,e){t&&e.length>=6&&this.apiService.fetchStateCityByZipcode(t,e).subscribe(t=>{t?(this.guarantorDetailsForm.get("state").setValue(t.stateName),this.guarantorDetailsForm.get("city").setValue(t.cityName)):this.snack.open("Entered Zipcode is not exists","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(yt.a),i.Rb(p.b),i.Rb(o.h),i.Rb(h.a),i.Rb(K.a),i.Rb(Ne.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-guarantor-details"]],features:[i.Bb],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_4.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"guarantorHeader"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["type","button","mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"full-width"],["fxFlex","50%","fxFlex.xs","100%"],[1,"p-16",2,"padding-left","8px !important"],[1,"pb-16"],[1,"pb-4"],[1,"pb-1"],["name","existingCustomer","formControlName","existingCustomer","required","",1,"charge",3,"change"],["fxFlex","40%","fxFlex.xs","100%"],["appearance","outline",1,"full-width",2,"padding-left","15px"],["matInput","","name","cifNumber","formControlName","cifNumber","required","",3,"keypress","keyup"],[4,"ngIf"],["class","err-msg",4,"ngIf"],["fxFlex","10%","fxFlex.xs","100%",1,"fechButtonDiv","float-end",2,"padding-left","13px"],[1,"fetchButton",2,"padding-left","13px",3,"click"],["fxFlex","50%","fxFlex.xs","100%",1,"p-2"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["name","rtype","formControlName","relationWithCustomer","placeholder","Select","disableOptionCentering","","required","",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","prefix","formControlName","prefix","required","","disableOptionCentering","","placeholder","Select",3,"selectionChange"],["matInput","","name","firstName","formControlName","firstName","required","",3,"keypress"],["matInput","","name","middleName","formControlName","middleName",3,"keypress"],["matInput","","name","lastName","formControlName","lastName","required","",3,"keypress"],["matInput","","name","dateOfBirth","formControlName","dateOfBirth","placeholder","DD/MM/YYYY","readonly","","required","",1,"alignment",3,"matDatepicker","min","max"],["matSuffix","",3,"for"],["pickerDOB",""],["fxLayout","row wrap",1,"full-width"],[1,"card-title-text","p-2"],["layout","row"],["flex","",1,"line"],["matInput","","name","building","formControlName","address1","required",""],["matInput","","name","street","formControlName","address2","required",""],["name","country","formControlName","country","disableOptionCentering","","placeholder","Select",3,"selectionChange"],["value",""],["matInput","","name","zipCode","formControlName","zipCode","minlength","5","maxlength","6","onlyNumber","","type","text","required","",3,"keypress","change"],["name","state","formControlName","state","disableOptionCentering","","placeholder","Select",3,"selectionChange"],["name","city","formControlName","city","required","","placeholder","Select","disableOptionCentering","",3,"selectionChange"],["matInput","","name","phoneNumber","formControlName","phoneNumber","minlength","10","maxlength","10","required","",3,"keypress"],["matInput","","name","mobileNumber","formControlName","mobileNumber","minlength","10","maxlength","10","required","",3,"keypress"],["matInput","","name","emailAddress","formControlName","emailAddress","required",""],[1,"err-msg"],[3,"value"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h1"),i.Tc(7,"Guarantor Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title"),i.Xb(11,"fieldset"),i.Xb(12,"legend",7),i.Tc(13,"Guarantor Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,zm,152,30,"form",8),i.Wb(),i.Wb(),i.Xb(16,"div",9),i.Xb(17,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(18," Back "),i.Wb(),i.Xb(19,"button",11),i.fc("click",function(){return e.submitForm()}),i.Tc(20," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.guarantorDetailsForm),i.Eb(4),i.rc("disabled",!(e.guarantorDetailsForm.get("cifNumber").valid&&e.guarantorDetailsForm.get("relationWithCustomer").valid&&e.guarantorDetailsForm.get("prefix").valid&&e.guarantorDetailsForm.get("firstName").valid&&e.guarantorDetailsForm.get("lastName").valid&&e.guarantorDetailsForm.get("dateOfBirth").valid&&e.guarantorDetailsForm.get("address1").valid&&e.guarantorDetailsForm.get("address2").valid&&e.guarantorDetailsForm.get("mobileNumber").valid&&e.guarantorDetailsForm.get("emailAddress").valid&&e.prefixFlag)))},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,et.a,et.c,V.r,V.i,V.y,s.c,s.g,z.b,V.c,q.a,n.m,Q.e,Q.g,s.j,Q.d,B.n,V.n,V.m,Xn.a,s.b],styles:[".fetchButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:10px;padding-top:15px;cursor:pointer;margin-right:40px}.guarantorHeader[_ngcontent-%COMP%]{font-size:25px!important;font-family:Montserrat,Medium!important;height:55px!important}"]}),t})();function Bm(t,e){if(1&t&&(i.Xb(0,"mat-option",46),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function jm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Collateral Type is Required! "),i.Wb())}function Um(t,e){if(1&t&&(i.Xb(0,"mat-option",46),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function Hm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Currency is Required! "),i.Wb())}function Gm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Collateral Value is Required! "),i.Wb())}function Ym(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Attributes is Required! "),i.Wb())}function $m(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Dimensions is Required! "),i.Wb())}function Qm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please enter correct Building name "),i.Wb())}function Zm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Please Enter Correct Street Name "),i.Wb())}function Jm(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0Please Enter Correct Locality "),i.Wb())}function Km(t,e){if(1&t&&(i.Xb(0,"mat-option",46),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}function tu(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 Country is Required! "),i.Wb())}function eu(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0Valid Zip Code is Required!(5-10 digits) "),i.Wb())}function au(t,e){if(1&t&&(i.Xb(0,"mat-option",46),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t.stateName),i.Eb(1),i.Vc(" ",t.stateName,"")}}function nu(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 State is Required! "),i.Wb())}function iu(t,e){if(1&t&&(i.Xb(0,"mat-option",46),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc("",t," ")}}function ou(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," \xa0\xa0 City is Required! "),i.Wb())}function ru(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Number of Collateral is Required! "),i.Wb())}function cu(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Total Collateral Value is Required! "),i.Wb())}function su(t,e){1&t&&(i.Xb(0,"small",63),i.Tc(1," Cover Available or Utilized Previously can't be greater than Total Collateral Value "),i.Wb())}function lu(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Utilized Previously is Required! "),i.Wb())}function bu(t,e){1&t&&(i.Xb(0,"mat-error"),i.Tc(1," Cover Available is Required! "),i.Wb())}function mu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",47),i.Xb(1,"div",48),i.Xb(2,"mat-accordion",49),i.Xb(3,"mat-expansion-panel",50),i.fc("opened",function(){return i.Hc(t),i.jc(2).panelOpenState=!0})("closed",function(){return i.Hc(t),i.jc(2).panelOpenState=!1}),i.Xb(4,"mat-expansion-panel-header",51),i.Xb(5,"mat-panel-title",52),i.Tc(6," Add Collateral "),i.Wb(),i.Wb(),i.Sb(7,"mat-divider",53),i.Xb(8,"div"),i.Xb(9,"div",54),i.Xb(10,"div",14),i.Xb(11,"div",15),i.Xb(12,"mat-form-field",16),i.Xb(13,"mat-label"),i.Tc(14,"Number of Collateral*"),i.Wb(),i.Xb(15,"input",55),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)}),i.Wb(),i.Wb(),i.Rc(16,ru,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Xb(17,"div",56),i.Xb(18,"div",15),i.Xb(19,"mat-form-field",16),i.Xb(20,"mat-label"),i.Tc(21,"Total Collateral Value*"),i.Wb(),i.Xb(22,"input",57),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateCoverAvail(e.collateralInfo_array.value[0])})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateUtilizedPrev(e.collateralInfo_array.value[0])}),i.Wb(),i.Wb(),i.Rc(23,cu,2,0,"mat-error",19),i.Wb(),i.Xb(24,"div"),i.Rc(25,su,2,0,"small",58),i.Wb(),i.Wb(),i.Xb(26,"div",56),i.Xb(27,"div",15),i.Xb(28,"mat-form-field",16),i.Xb(29,"mat-label"),i.Tc(30,"Utilized Previously *"),i.Wb(),i.Xb(31,"input",59),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateCoverAvail(e.collateralInfo_array.value[0])})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateTotalColVal(e.collateralInfo_array.value[0])}),i.Wb(),i.Wb(),i.Rc(32,lu,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Xb(33,"div",56),i.Xb(34,"div",15),i.Xb(35,"mat-form-field",16),i.Xb(36,"mat-label"),i.Tc(37,"Cover Available*"),i.Wb(),i.Xb(38,"input",60),i.fc("keypress",function(e){return i.Hc(t),i.jc(2)._keyPress(e)})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateTotalColVal(e.collateralInfo_array.value[0])})("input",function(){i.Hc(t);const e=i.jc(2);return e.calculateUtilizedPrev(e.collateralInfo_array.value[0])}),i.Wb(),i.Wb(),i.Rc(39,bu,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Xb(40,"div",20),i.Xb(41,"div"),i.Xb(42,"div",27),i.Xb(43,"div",28),i.Xb(44,"div",61),i.Tc(45," Secondary Charge Allowed ?\xa0\xa0\xa0\xa0 "),i.Sb(46,"mat-slide-toggle",62),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,a=e.index,n=i.jc(2);i.Eb(1),i.rc("formGroupName",a),i.Eb(15),i.rc("ngIf",t.get("noOfCollateral").hasError("required")&&t.get("noOfCollateral").hasError("touched")),i.Eb(7),i.rc("ngIf",t.get("totalCollateralValue").hasError("required")&&t.get("totalCollateralValue").hasError("touched")),i.Eb(2),i.rc("ngIf",n.flag),i.Eb(7),i.rc("ngIf",t.get("utilizedPreviously").hasError("required")&&t.get("utilizedPreviously").hasError("touched")),i.Eb(7),i.rc("ngIf",t.get("coverAvailable").hasError("required")&&t.get("coverAvailable").hasError("touched"))}}function uu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",12),i.Xb(1,"div",13),i.Xb(2,"div",14),i.Xb(3,"div",15),i.Xb(4,"mat-form-field",16),i.Xb(5,"mat-label"),i.Tc(6,"Collateral Type"),i.Wb(),i.Xb(7,"mat-select",17),i.Rc(8,Bm,2,2,"mat-option",18),i.Wb(),i.Rc(9,jm,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Sb(10,"div",20),i.Xb(11,"div",14),i.Xb(12,"div",15),i.Xb(13,"mat-form-field",16),i.Xb(14,"mat-label"),i.Tc(15,"Currency "),i.Wb(),i.Xb(16,"mat-select",21),i.Rc(17,Um,2,2,"mat-option",18),i.Wb(),i.Rc(18,Hm,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",20),i.Xb(20,"div",15),i.Xb(21,"mat-form-field",16),i.Xb(22,"mat-label"),i.Tc(23,"Collateral Value"),i.Wb(),i.Xb(24,"input",22),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(25,Gm,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"div",14),i.Xb(27,"div",15),i.Xb(28,"mat-form-field",16),i.Xb(29,"mat-label"),i.Tc(30,"Attributes"),i.Wb(),i.Xb(31,"mat-select",23),i.Xb(32,"mat-option",24),i.Tc(33,"Attributes 1"),i.Wb(),i.Xb(34,"mat-option",25),i.Tc(35,"Attributes 2"),i.Wb(),i.Wb(),i.Rc(36,Ym,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(37,"div",20),i.Xb(38,"div",26),i.Xb(39,"div",27),i.Xb(40,"div",28),i.Xb(41,"div",29),i.Tc(42," Third Party Collateral \xa0\xa0 \xa0\xa0"),i.Sb(43,"mat-slide-toggle",30),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(44,"div",14),i.Xb(45,"div",31),i.Xb(46,"div",15),i.Xb(47,"mat-form-field",16),i.Xb(48,"mat-label"),i.Tc(49,"Dimensions"),i.Wb(),i.Xb(50,"input",32),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)}),i.Wb(),i.Rc(51,$m,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(52,"div"),i.Xb(53,"mat-card-title"),i.Xb(54,"fieldset",33),i.Xb(55,"legend",7),i.Tc(56,"Address"),i.Wb(),i.Wb(),i.Wb(),i.Xb(57,"div",13),i.Xb(58,"div",14),i.Xb(59,"div",15),i.Xb(60,"mat-form-field",16),i.Xb(61,"mat-label"),i.Tc(62,"Building"),i.Wb(),i.Xb(63,"input",34),i.fc("keypress",function(e){return i.Hc(t),i.jc().keyPressAlphanumeric(e)}),i.Wb(),i.Rc(64,Qm,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(65,"div",20),i.Xb(66,"div",15),i.Xb(67,"mat-form-field",16),i.Xb(68,"mat-label"),i.Tc(69,"Street"),i.Wb(),i.Xb(70,"input",35),i.fc("keypress",function(e){return i.Hc(t),i.jc().keyPressAlphanumeric(e)}),i.Wb(),i.Rc(71,Zm,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(72,"div",14),i.Xb(73,"div",15),i.Xb(74,"mat-form-field",16),i.Xb(75,"mat-label"),i.Tc(76,"Locality"),i.Wb(),i.Xb(77,"input",36),i.fc("keypress",function(e){return i.Hc(t),i.jc().keyPressAlphanumeric(e)}),i.Wb(),i.Rc(78,Jm,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(79,"div",20),i.Xb(80,"div",15),i.Xb(81,"mat-form-field",16),i.Xb(82,"mat-label"),i.Tc(83,"Country"),i.Wb(),i.Xb(84,"mat-select",37),i.fc("selectionChange",function(e){return i.Hc(t),i.jc().getStateName(e.value,!0)}),i.Rc(85,Km,2,2,"mat-option",18),i.Wb(),i.Rc(86,tu,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(87,"div",14),i.Xb(88,"div",15),i.Xb(89,"mat-form-field",16),i.Xb(90,"mat-label"),i.Tc(91,"Zip Code"),i.Wb(),i.Xb(92,"input",38),i.fc("keypress",function(e){return i.Hc(t),i.jc()._keyPress(e)})("change",function(e){i.Hc(t);const a=i.jc();return a.getCityandStateByZipcode(a.collateralDetailsForm.get("country").value,e.target.value)}),i.Wb(),i.Rc(93,eu,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(94,"div",20),i.Xb(95,"div",15),i.Xb(96,"mat-form-field",16),i.Xb(97,"mat-label"),i.Tc(98,"State"),i.Wb(),i.Xb(99,"mat-select",39),i.fc("selectionChange",function(){return i.Hc(t),i.jc().onStateChange()}),i.Rc(100,au,2,2,"mat-option",18),i.Wb(),i.Rc(101,nu,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(102,"div",14),i.Xb(103,"div",15),i.Xb(104,"mat-form-field",16),i.Xb(105,"mat-label"),i.Tc(106,"City"),i.Wb(),i.Xb(107,"mat-select",40),i.fc("selectionChange",function(){return i.Hc(t),i.jc().onCityChange()}),i.Rc(108,iu,2,2,"mat-option",18),i.Wb(),i.Rc(109,ou,2,0,"mat-error",19),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(110,"div"),i.Xb(111,"div",41),i.Xb(112,"div"),i.Xb(113,"button",42),i.fc("click",function(){return i.Hc(t),i.jc().addCollatorial("")}),i.Tc(114,"+ ADD COLLATERAL"),i.Wb(),i.Wb(),i.Wb(),i.Xb(115,"div",43),i.Xb(116,"form",44),i.Rc(117,mu,47,6,"div",45),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.rc("formGroup",t.collateralDetailsForm),i.Eb(8),i.rc("ngForOf",t.arrayCollateralType),i.Eb(1),i.rc("ngIf",!t.collateralDetailsForm.get("collateralType").valid&&t.collateralDetailsForm.get("collateralType").touched),i.Eb(8),i.rc("ngForOf",t.arrayRateValue),i.Eb(1),i.rc("ngIf",!t.collateralDetailsForm.get("collateralCurrency").valid&&t.collateralDetailsForm.get("collateralCurrency").touched),i.Eb(7),i.rc("ngIf",!t.collateralDetailsForm.get("collateralValue").valid&&t.collateralDetailsForm.get("collateralValue").touched),i.Eb(11),i.rc("ngIf",!t.collateralDetailsForm.get("attributes").valid&&t.collateralDetailsForm.get("attributes").touched),i.Eb(15),i.rc("ngIf",!t.collateralDetailsForm.get("dimensions").valid&&t.collateralDetailsForm.get("dimensions").touched),i.Eb(13),i.rc("ngIf",t.collateralDetailsForm.get("building")&&!t.collateralDetailsForm.get("building").valid||t.collateralDetailsForm.get("building").hasError("pattern")),i.Eb(7),i.rc("ngIf",t.collateralDetailsForm.get("street")&&t.collateralDetailsForm.get("street").touched&&!t.collateralDetailsForm.get("street").valid||t.collateralDetailsForm.get("street").touched&&t.collateralDetailsForm.get("street").hasError("pattern")),i.Eb(7),i.rc("ngIf",t.collateralDetailsForm.get("locality")&&t.collateralDetailsForm.get("locality").touched&&!t.collateralDetailsForm.get("locality").valid||t.collateralDetailsForm.get("locality").touched&&t.collateralDetailsForm.get("locality").hasError("pattern")),i.Eb(7),i.rc("ngForOf",t.arrayCountry),i.Eb(1),i.rc("ngIf",!t.collateralDetailsForm.get("country").valid&&t.collateralDetailsForm.get("country").touched),i.Eb(7),i.rc("ngIf",!t.collateralDetailsForm.get("zipCode").valid&&t.collateralDetailsForm.get("zipCode").touched),i.Eb(7),i.rc("ngForOf",t.arrayState),i.Eb(1),i.rc("ngIf",!t.collateralDetailsForm.get("state").valid&&t.collateralDetailsForm.get("state").touched),i.Eb(7),i.rc("ngForOf",t.arrayCity),i.Eb(1),i.rc("ngIf",!t.collateralDetailsForm.get("city").valid&&t.collateralDetailsForm.get("city").touched),i.Eb(4),i.rc("disabled",null==t.collateralInfo?null:t.collateralInfo.invalid),i.Eb(3),i.rc("formGroup",t.collateralInfo),i.Eb(1),i.rc("ngForOf",t.collateralInfo.get("collateralInfo_array").controls)}}let du=(()=>{class t extends class{constructor(){}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}letterOnly(t){var e=t.keyCode;return e>64&&e<91||e>96&&e<123||8==e}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/^[a-zA-Z0-9_ ]*$/.test(e)||(t.preventDefault(),!1)}}{constructor(t,e,a,n,i,o,r){super(),this.fb=t,this.ls=e,this.loader=a,this.apiService=n,this.router=i,this.snack=o,this.accountService=r,this.panelOpenState=!1,this.showEditOption=!1,this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.flag=!1,this.flag1=!1}ngOnInit(){this.buildformGroup(),this.collateralInfo=this.fb.group({collateralInfo_array:this.fb.array([])}),this.collateralId=0,this.getCountryName("country"),this.getAllAuthCities(),this.getCollateralType("collateral_type"),this.getRateValue("currency"),this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("COLLATERAL_DETAIL_DONE"));setTimeout(()=>{this.loanaccountID&&t?(this.showEditOption=!0,this.getCollateralDetails()):(this.showEditOption=!1,this.buildformGroup(),this.addCollatorial(""))},10)}buildformGroup(t){console.log("data",t),t&&this.getStateName(t.country),this.collateralDetailsForm=this.fb.group({collateralId:[t?t.collateralId:0,V.z.required],collateralType:[t?t.collateralType:"",V.z.required],collateralCurrency:[t?t.collateralCurrency:"",V.z.required],collateralValue:[t?t.collateralValue:"",V.z.required],attributes:[t?t.attributes:"",V.z.required],dimensions:[t?t.dimensions:"",V.z.required],thirdPartyCollateral:[!!t&&t.thirdPartyCollateral,V.z.required],building:[t?t.building:"",[V.z.required,V.z.pattern(".*[a-zA-Z].*")]],street:[t?t.street:"",[V.z.required,V.z.pattern(".*[a-zA-Z].*")]],locality:[t?t.locality:"",[V.z.required,V.z.pattern(".*[a-zA-Z].*")]],city:[t?t.city:"",V.z.required],state:[t?t.state:"",V.z.required],country:[t?t.country:"",V.z.required],zipCode:[t?t.zipCode:"",[V.z.required,V.z.pattern("^((\\+91-?)|0)?[0-9]{5,10}$")]]})}createCollateralDetail(t){return this.fb.group({noOfCollateral:t?t.noOfCollateral:["",V.z.required],totalCollateralValue:t?t.totalCollateralValue:["",V.z.required],utilizedPreviously:t?t.utilizedPreviously:["",V.z.required],secondaryChargeAllowed:[!!t&&t.secondaryChargeAllowed],coverAvailable:t?t.coverAvailable:["",V.z.required],collateralDetailsId:t?t.collateralDetailsId:"",collateralId:t?t.collateralId:""})}addCollatorial(t){this.collateralInfo_array=this.collateralInfo.get("collateralInfo_array"),this.collateralInfo_array.push(this.createCollateralDetail(t))}getCollateralDetails(){this.loader.open(),this.apiService.getCollateralByLoanAccId(this.loanaccountID).subscribe(t=>{var e;this.loader.close(),this.collateralDetails=t,this.buildformGroup(this.collateralDetails),this.populateCollateral(null===(e=this.collateralDetails)||void 0===e?void 0:e.collateralDetails)},t=>{this.loader.close()})}populateCollateral(t){for(let e=0;e<=t.length;e++)this.addCollatorial({noOfCollateral:t[e].noOfCollateral,totalCollateralValue:t[e].totalCollateralValue,utilizedPreviously:t[e].utilizedPreviously,secondaryChargeAllowed:t[e].secondaryChargeAllowed,coverAvailable:t[e].coverAvailable,collateralDetailsId:t[e].collateralDetailsId,collateralId:t[e].collateralId})}getCollateralType(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayCollateralType=t})}getRateValue(t){this.apiService.getDropDownValues(t).subscribe(t=>{this.arrayRateValue=t})}goBack(){this.router.navigate(["/loan/account/financial-details"])}submitForm(){this.apiService.upsertCollateralDetails({attributes:this.collateralDetailsForm.value.attributes,building:this.collateralDetailsForm.value.building,city:this.collateralDetailsForm.value.city,collateralCurrency:this.collateralDetailsForm.value.collateralCurrency,collateralDetails:this.collateralInfo_array.value,collateralId:this.collateralDetailsForm.value.collateralId,collateralType:this.collateralDetailsForm.value.collateralType,collateralValue:this.collateralDetailsForm.value.collateralValue,country:this.collateralDetailsForm.value.country,dimensions:this.collateralDetailsForm.value.dimensions,loanAccountId:this.loanaccountID,locality:this.collateralDetailsForm.value.locality,state:this.collateralDetailsForm.value.state,street:this.collateralDetailsForm.value.street,thirdPartyCollateral:this.collateralDetailsForm.value.thirdPartyCollateral,zipCode:this.collateralDetailsForm.value.zipCode}).subscribe(t=>{console.log("data",t),null!=t&&(this.snack.open("Collateral Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),this.next())})}next(){this.ls.setItem("COLLATERAL_DETAIL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/loan/account/guarantor_details"])}getCountryName(t){this.apiService.getAllCountries().subscribe(t=>{for(let e=0;e<t.length;e++)"A"===t[e].authStatus&&(this.arrayCountry.push(t[e].countryName),this.arrayCountry.sort())})}getStateName(t,e){e&&(this.collateralDetailsForm.get("zipCode").setValue(""),this.collateralDetailsForm.get("state").setValue(""),this.collateralDetailsForm.get("city").setValue("")),this.apiService.getAllCountries().subscribe(e=>{for(let a=0;a<e.length;a++)if(e[a].countryName==t){this.apiService.getStateByCountryId(e[a].id).subscribe(t=>{this.arrayState=t});break}})}getAllAuthCities(){this.apiService.getAuthorizedCityInfo().subscribe(t=>t.map(t=>this.arrayCity.push(t.cityName)))}onStateChange(){this.collateralDetailsForm.get("zipCode").setValue(""),this.collateralDetailsForm.get("city").setValue("")}onCityChange(){this.collateralDetailsForm.get("zipCode").setValue("")}calculateUtilizedPrev(t){if(""!==t.totalCollateralValue&&!(Number(t.totalCollateralValue)<Number(t.coverAvailable))){let e=Number(t.totalCollateralValue)-Number(t.coverAvailable);this.collateralInfo.get("collateralInfo_array").controls[0].get("utilizedPreviously").setValue(e)}}calculateCoverAvail(t){if(""!==t.totalCollateralValue)if(Number(t.totalCollateralValue)<Number(t.utilizedPreviously)&&Number(t.totalCollateralValue)<Number(t.coverAvailable))this.flag=!0;else if(!(Number(t.totalCollateralValue)<Number(t.utilizedPreviously))){this.flag=!1;let e=Number(t.totalCollateralValue)-Number(t.utilizedPreviously);this.collateralInfo.get("collateralInfo_array").controls[0].get("coverAvailable").setValue(e)}}calculateTotalColVal(t){if(""!==t.utilizedPreviously&&""!==t.coverAvailable){let e=Number(t.utilizedPreviously)+Number(t.coverAvailable);this.collateralInfo.get("collateralInfo_array").controls[0].get("totalCollateralValue").setValue(e)}}getCityandStateByZipcode(t,e){t&&e.length>=6&&this.apiService.fetchStateCityByZipcode(t,e).subscribe(t=>{t?(this.collateralDetailsForm.get("state").setValue(t.stateName),this.collateralDetailsForm.get("city").setValue(t.cityName)):this.snack.open("Entered Zipcode does not exists","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(V.f),i.Rb(u.a),i.Rb(yt.a),i.Rb(p.b),i.Rb(o.h),i.Rb(h.a),i.Rb(K.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-collateral-details"]],features:[i.Bb],decls:21,vars:2,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/collatorial_screen.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["type","button","mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"full-width"],["fxFlex","50%","fxFlex.xs","100%"],[1,"flex-grow-1"],["appearance","outline",1,"full-width"],["name","collateralType","formControlName","collateralType","required","","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","50%","fxFlex.xs","100%",1,"p-2"],["name","collateralCurrency","formControlName","collateralCurrency","required","","disableOptionCentering",""],["matInput","","name","collateralValue","formControlName","collateralValue","maxlength","12","required","",3,"keypress"],["name","attributes","formControlName","attributes","required","","disableOptionCentering",""],["value","1"],["value","2"],[1,"p-16"],[1,"pb-16"],[1,"pb-4"],[1,"pb-1",2,"margin-top","5%"],["name","thirdPartyCollateral","formControlName","thirdPartyCollateral",1,"charge"],["fxLayout","row wrap",1,"full-width"],["matInput","","name","dimensions","formControlName","dimensions","required","",3,"keypress"],[1,"alignChange"],["matInput","","name","building","formControlName","building","required","",3,"keypress"],["matInput","","name","street","formControlName","street","required","",3,"keypress"],["matInput","","name","locality","formControlName","locality","required","",3,"keypress"],["name","country","formControlName","country","required","","disableOptionCentering","",3,"selectionChange"],["matInput","","name","zipCode","formControlName","zipCode","minlength","5","maxlength","10","required","",3,"keypress","change"],["name","state","formControlName","state","required","","disableOptionCentering","",3,"selectionChange"],["name","city","formControlName","city","required","","disableOptionCentering","",3,"selectionChange"],["fxLayout","row","fxLayoutGap","16px",1,"mt-32"],["mat-button","","color","primary",1,"paddingChange",3,"disabled","click"],["fxLayout","row",1,"full-width"],[1,"full-width",3,"formGroup"],["fxLayout","row","class","full-width pt-16","formArrayName","collateralInfo_array",4,"ngFor","ngForOf"],[3,"value"],["fxLayout","row","formArrayName","collateralInfo_array",1,"full-width","pt-16"],[1,"full-width",3,"formGroupName"],[1,"full-width","mat-elevation-z0"],[1,"mat-elevation-z0","borderStyle",3,"opened","closed"],[1,"marginData"],[1,"textDesign"],[1,"design"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"pt-16","full-width"],["matInput","","name","noOfCollateral","formControlName","noOfCollateral",3,"keypress"],["fxFlex","50%","fxFlex.xs","100%",1,"p-1"],["matInput","","name","totalCollateralValue","formControlName","totalCollateralValue",3,"keypress","input"],["style","color:red;",4,"ngIf"],["matInput","","name","utilizedPreviously","formControlName","utilizedPreviously",3,"keypress","input"],["matInput","","name","coverAvailable","formControlName","coverAvailable",3,"keypress","input"],[1,"pb-1"],["name","secondaryChargeAllowed","formControlName","secondaryChargeAllowed",1,"charge"],[2,"color","red"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h1"),i.Tc(7,"Collateral Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",1),i.Xb(9,"mat-card",6),i.Xb(10,"mat-card-title"),i.Xb(11,"fieldset"),i.Xb(12,"legend",7),i.Tc(13,"Collateral Details"),i.Wb(),i.Wb(),i.Wb(),i.Xb(14,"mat-card-content"),i.Rc(15,uu,118,21,"form",8),i.Wb(),i.Wb(),i.Xb(16,"div",9),i.Xb(17,"button",10),i.fc("click",function(){return e.goBack()}),i.Tc(18," Back "),i.Wb(),i.Xb(19,"button",11),i.fc("click",function(){return e.submitForm()}),i.Tc(20," Next "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(15),i.rc("ngIf",e.collateralDetailsForm),i.Eb(4),i.rc("disabled",!(e.collateralDetailsForm.valid&&e.collateralInfo.valid)))},directives:[r.e,r.b,c.a,c.h,c.d,n.n,r.d,r.f,l.b,V.A,V.s,V.j,s.c,s.g,q.a,V.r,V.i,V.y,n.m,z.b,V.c,V.m,B.n,et.a,V.n,s.b,V.e,V.k,yn.a,yn.c,yn.e,yn.f,x.a],styles:[".alignChange[_ngcontent-%COMP%], .dataChange[_ngcontent-%COMP%]{margin-left:0!important}.dataChange[_ngcontent-%COMP%]{margin-right:0!important}.paddingChange[_ngcontent-%COMP%]{padding-left:0!important}input[_ngcontent-%COMP%]{outline:none!important;border:none!important}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px;opacity:1}.marginData[_ngcontent-%COMP%]{margin-bottom:0!important}.toggledata[_ngcontent-%COMP%]{margin-top:1%}"]}),t})();function pu(t,e){if(1&t&&(i.Xb(0,"mat-option",30),i.Tc(1),i.Wb()),2&t){const t=e.$implicit;i.rc("value",t),i.Eb(1),i.Vc(" ",t," ")}}let fu=(()=>{class t{constructor(t,e,a,n,i,o){this.router=t,this.ls=e,this.apiService=a,this.snack=n,this.loader=i,this.formBuilder=o,this.generateArr=["With Schedule","without Schedule"],this.showEditOption=!1,this.disableDone=!0,this.isAssesmentDetailsScreen=!1,this.isOfferIssueScreen=!1,this.isOfferIssueRejectScreen=!1,this.OfferIssueForm=this.formBuilder.group({approvedLoanAmount:[],applicantName:[""],loanTenure:[],installmentType:[""],installmentFrequency:[""],rateOfInterest:[],offerIssueDate:[""],generateOffer:[""]})}ngOnInit(){this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId);let t=JSON.parse(this.ls.getItem("OfferIssue"));setTimeout(()=>{t?(this.showEditOption=!0,this.getAccountDetails()):(console.log("else"),this.showEditOption=!1,this.buildOfferIssueForm())},10)}getAccountDetails(){this.loader.open(),this.apiService.getOfferIssueDetails(this.loanaccountID?this.loanaccountID:44444).subscribe(t=>{this.loader.close(),this.accountDetails=t,console.log(this.accountDetails),this.buildOfferIssueForm(this.accountDetails)},t=>{this.loader.close()})}buildOfferIssueForm(t){this.OfferIssueForm=this.formBuilder.group({approvedLoanAmount:[t?t.approvedLoanAmount:""],applicantName:[t?t.applicantName:""],loanTenure:[t?t.loanTenure:""],installmentType:[t?t.installmentType:""],installmentFrequency:[t?t.installmentFrequency:""],rateOfInterest:[t?t.rateOfInterest:""],offerIssueDate:[t?t.offerIssueDate:""],generateOffer:[t?t.generateOffer:""]})}goBack(){this.router.navigate(["/loan/account/offerstage/offer-assessment"])}Submit(){let t=new Date;t=this.OfferIssueForm.value.opinionDate;var e=$(t).format("YYYY-MMM-DD HH:MM:SS");console.log("dateStringWithTime",e);var a=this.OfferIssueForm.value.approvedLoanAmount;a=parseInt(a);var n=this.OfferIssueForm.value.rateOfInterest;n=parseInt(n);let i={loanAccountId:parseInt("44444"),approvedLoanAmount:a,applicantName:this.OfferIssueForm.value.applicantName,loanTenure:this.OfferIssueForm.value.loanTenure,installmentType:this.OfferIssueForm.value.installmentType,installmentFrequency:this.OfferIssueForm.value.installmentFrequency,rateOfInterest:n,offerIssueDate:e,generateOffer:this.OfferIssueForm.value.generateOffer};console.log("payload",i),this.apiService.upsertOfferIssue(i).subscribe(t=>{console.log("data",t),null!=t&&this.snack.open("Data Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.Next()}Next(){this.ls.setItem("OfferIssue",!0),this.router.navigate(["/loan/account/offerstage/offer-accept-reject"])}_keyPress1(t){let e=String.fromCharCode(t.charCode);/^[0-9]*\.?[0-9]*$/.test(e)||t.preventDefault(),0===t.target.value.length&&48===t.which&&t.preventDefault()}_keyPress(t){let e=String.fromCharCode(t.charCode);/[0-9]/.test(e)||t.preventDefault()}onInput(t,e){this.approvedLoan=e?t.target.value:t,console.log("this.salary)::",this.approvedLoan);let a=this.approvedLoan.toString().replace(/,/g,"").split(".");a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");let n=a.join(".");console.log("final",n),this.OfferIssueForm.controls.approvedLoanAmount.setValue(n)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(u.a),i.Rb(p.b),i.Rb(h.a),i.Rb(yt.a),i.Rb(V.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-offer-issue"]],decls:83,vars:5,consts:[["fxLayout","column"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Group 673.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"card-title-text"],["fxLayout","column",3,"formGroup"],["fxLayout","column",2,"border-radius","30px","margin-right","1.5cm"],["fxFlex","70%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],[1,"inputMatName"],["matInput","","type","text","name","applicantName","placeholder","Applicant Name","formControlName","applicantName",1,"alignment"],["matInput","","type","text","name","approvedLoanAmount","placeholder","Approved Loan Amount","maxlength","16","formControlName","approvedLoanAmount",1,"alignment",3,"keypress","keyup"],["matInput","","type","text","name","loanTenure","formControlName","loanTenure","placeholder","in years",1,"alignment"],["matInput","","type","text","name","installmentType","placeholder","Installment Type","formControlName","installmentType",1,"alignment"],["matInput","","type","text","name","installmentFrequency","formControlName","installmentFrequency",1,"alignment"],["matInput","","type","text","name","rateOfInterest","formControlName","rateOfInterest","min","0","max","100",1,"alignment"],["matInput","","type","text","name","approvedLoanAmount","formControlName","approvedLoanAmount",1,"alignment"],["matInput","","type","text","name","loanTenure","formControlName","loanTenure",1,"alignment"],[1,"inputMatLastName",2,"height","48px"],["matInput","","id","dob","name","offerIssueDate","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","offerIssueDate",1,"alignment",3,"matDatepicker"],["fxFlex","8%","id","toggle"],["matSuffix","",3,"for"],["picker",""],["formControlName","generateOffer","disableOptionCentering","",1,"alignment"],[3,"value",4,"ngFor","ngForOf"],[1,"button"],["mat-button","",1,"Back",3,"click"],["mat-stroked-button","",1,"Next",3,"disabled","click"],[3,"value"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"h1"),i.Tc(7,"Offer Issue Details"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",0),i.Xb(9,"form",6),i.Xb(10,"div",1),i.Xb(11,"mat-card",7),i.Xb(12,"mat-card-title"),i.Xb(13,"div",5),i.Tc(14,"Offer Issue Details"),i.Sb(15,"mat-divider"),i.Wb(),i.Wb(),i.Xb(16,"div",8),i.Xb(17,"div",9),i.Xb(18,"label",10),i.Tc(19,"Applicant Name*"),i.Wb(),i.Xb(20,"mat-card",11),i.Sb(21,"input",12),i.Wb(),i.Wb(),i.Xb(22,"div",9),i.Xb(23,"label",10),i.Tc(24,"Approved Loan Amount*"),i.Wb(),i.Xb(25,"mat-card",11),i.Xb(26,"input",13),i.fc("keypress",function(t){return e._keyPress1(t)})("keyup",function(t){return e.onInput(t,!0)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(27,"div",8),i.Xb(28,"div",9),i.Xb(29,"label",10),i.Tc(30,"Loan Tenure"),i.Wb(),i.Xb(31,"mat-card",11),i.Sb(32,"input",14),i.Wb(),i.Wb(),i.Xb(33,"div",9),i.Xb(34,"label",10),i.Tc(35,"Installment Type"),i.Wb(),i.Xb(36,"mat-card",11),i.Sb(37,"input",15),i.Wb(),i.Wb(),i.Wb(),i.Xb(38,"div",8),i.Xb(39,"div",9),i.Xb(40,"label",10),i.Tc(41,"Installment Frequency"),i.Wb(),i.Xb(42,"mat-card",11),i.Sb(43,"input",16),i.Wb(),i.Wb(),i.Xb(44,"div",9),i.Xb(45,"label",10),i.Tc(46,"Rate of Interest in(%)"),i.Wb(),i.Xb(47,"mat-card",11),i.Sb(48,"input",17),i.Wb(),i.Wb(),i.Wb(),i.Xb(49,"div",8),i.Xb(50,"div",9),i.Xb(51,"label",10),i.Tc(52,"Approved Loan Account"),i.Wb(),i.Xb(53,"mat-card",11),i.Sb(54,"input",18),i.Wb(),i.Wb(),i.Xb(55,"div",9),i.Xb(56,"label",10),i.Tc(57,"Loan Tenure"),i.Wb(),i.Xb(58,"mat-card",11),i.Sb(59,"input",19),i.Wb(),i.Wb(),i.Wb(),i.Xb(60,"div",8),i.Xb(61,"div",9),i.Xb(62,"label",10),i.Tc(63,"Offer Issue Date"),i.Wb(),i.Xb(64,"mat-card",20),i.Sb(65,"input",21),i.Xb(66,"div",22),i.Sb(67,"mat-datepicker-toggle",23),i.Sb(68,"mat-datepicker",null,24),i.Wb(),i.Wb(),i.Wb(),i.Xb(70,"div",9),i.Xb(71,"label",10),i.Tc(72,"Generate Offer"),i.Wb(),i.Xb(73,"mat-card",11),i.Xb(74,"mat-select",25),i.Xb(75,"mat-option"),i.Tc(76,"select"),i.Wb(),i.Rc(77,pu,2,2,"mat-option",26),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(78,"div",27),i.Xb(79,"button",28),i.fc("click",function(){return e.goBack()}),i.Tc(80,"Back"),i.Wb(),i.Xb(81,"button",29),i.fc("click",function(){return e.Submit()}),i.Tc(82,"Done"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Dc(69);i.Eb(9),i.rc("formGroup",e.OfferIssueForm),i.Eb(56),i.rc("matDatepicker",t),i.Eb(2),i.rc("for",t),i.Eb(10),i.rc("ngForOf",e.generateArr),i.Eb(4),i.rc("disabled",!e.OfferIssueForm.valid)}},directives:[r.e,r.b,V.A,V.s,V.j,c.a,c.h,x.a,r.f,z.b,V.c,V.r,V.i,V.m,Q.e,Q.g,s.j,Q.d,q.a,B.n,n.m,l.b],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%;background-color:#fff}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:5.5cm}"]}),t})(),gu=(()=>{class t{constructor(t,e,a,n){this.router=t,this.apiService=e,this.ls=a,this.cdr=n}ngOnInit(){this.cdr.markForCheck(),this.loanAccountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.loanAccountId=this.loanInfo.loanAccountId),setTimeout(()=>{this.getViewSummary()},10)}goBack(){this.router.navigate(["loan/account/post-offer-amend-stage/list"])}done(){this.router.navigate(["/loan/account/account-creation-stage/"])}getViewSummary(){this.apiService.getOfferAmendDetails(this.loanAccountId).subscribe(t=>{console.log("result",t),this.offerDetails=t[3],console.log("result",t),console.log("offerDetails::",this.offerDetails)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.h),i.Rb(p.b),i.Rb(u.a),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-post-offer-amendment-stage-summary"]],decls:98,vars:11,consts:[["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_secure_files_re_6vdh.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"full-width"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxFlex","30%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16x",1,"mt-32"],["mat-button","","rounded","","color","grey",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"div",0),i.Xb(2,"div",1),i.Xb(3,"div",2),i.Sb(4,"img",3),i.Wb(),i.Xb(5,"div",4),i.Xb(6,"div",5),i.Xb(7,"b"),i.Tc(8,"Post Offer Amendment Stage"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"div",6),i.Xb(10,"div",0),i.Xb(11,"h4",7),i.Tc(12,"Post Offer Amendment Stage Summary"),i.Wb(),i.Wb(),i.Xb(13,"div",8),i.Xb(14,"div",9),i.Xb(15,"div",10),i.Xb(16,"div",6),i.Xb(17,"div",11),i.Xb(18,"div",12),i.Vb(19),i.Xb(20,"div",13),i.Xb(21,"mat-card",14),i.Xb(22,"div",11),i.Xb(23,"div",12),i.Vb(24),i.Xb(25,"div",15),i.Xb(26,"mat-hint",16),i.Tc(27,"Applicant Name"),i.Wb(),i.Sb(28,"br"),i.Xb(29,"mat-hint",17),i.Tc(30),i.Wb(),i.Wb(),i.Xb(31,"div",15),i.Xb(32,"mat-hint",16),i.Tc(33,"Offer Issue Date"),i.Wb(),i.Sb(34,"br"),i.Xb(35,"mat-hint",17),i.Tc(36),i.Wb(),i.Wb(),i.Xb(37,"div",15),i.Xb(38,"mat-hint",16),i.Tc(39,"Offer Exipiry Date"),i.Wb(),i.Sb(40,"br"),i.Xb(41,"mat-hint",17),i.Tc(42),i.Wb(),i.Wb(),i.Xb(43,"div",15),i.Xb(44,"mat-hint",16),i.Tc(45,"Offer Amend Date"),i.Wb(),i.Sb(46,"br"),i.Xb(47,"mat-hint",17),i.Tc(48),i.Wb(),i.Wb(),i.Xb(49,"div",15),i.Xb(50,"mat-hint",16),i.Tc(51,"Approved Loan Amount"),i.Wb(),i.Sb(52,"br"),i.Xb(53,"mat-hint",17),i.Tc(54),i.Wb(),i.Wb(),i.Xb(55,"div",15),i.Xb(56,"mat-hint",16),i.Tc(57,"Loan Amount Recommended"),i.Wb(),i.Sb(58,"br"),i.Xb(59,"mat-hint",17),i.Tc(60),i.Wb(),i.Wb(),i.Xb(61,"div",15),i.Xb(62,"mat-hint",16),i.Tc(63,"Loan Tenure"),i.Wb(),i.Sb(64,"br"),i.Xb(65,"mat-hint",17),i.Tc(66),i.Wb(),i.Wb(),i.Xb(67,"div",15),i.Xb(68,"mat-hint",16),i.Tc(69,"Installment Type"),i.Wb(),i.Sb(70,"br"),i.Xb(71,"mat-hint",17),i.Tc(72),i.Wb(),i.Wb(),i.Xb(73,"div",15),i.Xb(74,"mat-hint",16),i.Tc(75,"Rate Of Interest(%)"),i.Wb(),i.Sb(76,"br"),i.Xb(77,"mat-hint",17),i.Tc(78),i.Wb(),i.Wb(),i.Xb(79,"div",15),i.Xb(80,"mat-hint",16),i.Tc(81,"Margin(%))"),i.Wb(),i.Sb(82,"br"),i.Xb(83,"mat-hint",17),i.Tc(84),i.Wb(),i.Wb(),i.Xb(85,"div",15),i.Xb(86,"mat-hint",16),i.Tc(87,"Effective Rate(%)"),i.Wb(),i.Sb(88,"br"),i.Xb(89,"mat-hint",17),i.Tc(90),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(91,"div",0),i.Xb(92,"div",1),i.Xb(93,"div",18),i.Xb(94,"button",19),i.fc("click",function(){return e.goBack()}),i.Tc(95," Back "),i.Wb(),i.Xb(96,"button",20),i.fc("click",function(){return e.done()}),i.Tc(97," Done "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(30),i.Uc(null==e.offerDetails?null:e.offerDetails.applicantName),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.offerIssueDate),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.offerExpiryDate),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.offerAmendDate),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.approvedLoanAmount),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.loanAmmountRecommended),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.loanTenure),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.installmentType),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.rateOfInterest),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.margin),i.Eb(6),i.Uc(null==e.offerDetails?null:e.offerDetails.effectiveRate))},directives:[r.e,r.b,r.d,r.f,c.a,s.f,l.b],styles:[".editalgn[_ngcontent-%COMP%]{color:#00f;padding-left:1%}.textcolor[_ngcontent-%COMP%]{color:#6e8192}.algn[_ngcontent-%COMP%]{padding-left:11px;padding-top:5px;padding-bottom:10px}.matcard-algn[_ngcontent-%COMP%]{padding-top:29px;padding-bottom:29px}.button-algn[_ngcontent-%COMP%]{border-radius:51px;width:5pc;background-color:#a9a9a9;color:#fff}.closeicon[_ngcontent-%COMP%]{color:#a9a9a9;padding-left:46pc}.halgn[_ngcontent-%COMP%]{font-family:auto;color:#a9a9a9}.backIcon[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-size:20px;color:#6e6e6e}.editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px}.fullcard[_ngcontent-%COMP%]{width:100%;height:90%}.chequecard[_ngcontent-%COMP%]{height:auto;border-radius:5px}.contain[_ngcontent-%COMP%]{justify-content:flex-end}.boxCard[_ngcontent-%COMP%]{margin:auto;width:700px;height:250px;border:1px solid #e4e4e4;padding:10px}.para[_ngcontent-%COMP%]{color:#2b2b2b;padding-left:10px}.para[_ngcontent-%COMP%], .paraFont[_ngcontent-%COMP%]{font-family:Montserrat;font-size:16px}.paraFont[_ngcontent-%COMP%]{padding-left:2%}.accountIcon[_ngcontent-%COMP%]{font-size:45px;color:#24cca7}.incomeCard[_ngcontent-%COMP%]{width:650px}.expenseCard[_ngcontent-%COMP%], .incomeCard[_ngcontent-%COMP%]{height:300px;border-radius:5px}.expenseCard[_ngcontent-%COMP%]{padding-left:20px;width:450px}.valueTexting[_ngcontent-%COMP%]{color:#0f0f0f;font-family:Montserrat;padding-left:30px}.headingTexting[_ngcontent-%COMP%]{padding-left:30px}.headingText[_ngcontent-%COMP%], .headingTexting[_ngcontent-%COMP%]{color:#aaa;font-family:Manrope;font-size:11px}.headingText[_ngcontent-%COMP%]{padding-left:10px}.valueText[_ngcontent-%COMP%]{font-size:12px}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat}.valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;font-size:16px}"]}),t})();var hu=a("r1zJ");function vu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",7),i.fc("click",function(){return i.Hc(t),i.jc().close1()}),i.Xb(1,"mat-icon"),i.Tc(2,"close"),i.Wb(),i.Wb()}}function Wu(t,e){1&t&&(i.Xb(0,"div",4),i.Xb(1,"div",8),i.Sb(2,"img",9),i.Wb(),i.Wb())}function Xu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",10),i.Xb(1,"h5",11),i.Tc(2,"Please e-sign the application!"),i.Wb(),i.Xb(3,"mat-card",12),i.Xb(4,"mat-card-content"),i.Xb(5,"signature-pad",13),i.fc("onBeginEvent",function(){return i.Hc(t),i.jc().drawStart()})("onEndEvent",function(){return i.Hc(t),i.jc().drawComplete()}),i.Wb(),i.Wb(),i.Wb(),i.Xb(6,"div",14),i.Xb(7,"button",15),i.fc("click",function(){return i.Hc(t),i.jc().onSubmit()}),i.Tc(8," SUBMIT "),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.jc();i.Eb(5),i.rc("options",t.signaturePadOptions),i.Eb(2),i.rc("disabled",t.disableDone)}}let yu=(()=>{class t{constructor(t,e,a,n,i,o,r,c){this.data=t,this.dialogRef=e,this.ls=a,this.accountService=n,this.apiService=i,this.router=o,this.appEntryService=r,this.cdr=c,this.isDone=!1,this.signaturePadOptions={minWidth:2,canvasWidth:250,canvasHeight:150},this.count=0,this.res={enable:!1,image:null},this.disableDone=!0,this.signupload=!0}ngOnInit(){this.accountId=this.ls.getItem("loanAccountId"),this.accountId=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),console.log(this.loanInfo),this.loanInfo&&(this.accountId=this.loanInfo.loanAccountId),console.log("popup response data:",this.data),this.isDone=this.data.isSignLater,this.cdr.markForCheck()}ngAfterViewInit(){this.signaturePad.set("minWidth",2),this.signaturePad.clear()}drawComplete(){console.log(this.signaturePad.toDataURL());const t=this.signaturePad.toDataURL();this.imageurl=t,console.log("this.imageurl",this.imageurl),this.disableDone=!t.toString().includes("data:image/png;base64")}drawStart(){console.log("begin drawing")}clearSignature(){this.signaturePad.clear()}savePad(){const t=this.signaturePad.toDataURL();this.signatureImg=t}close1(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(this.dialogRef.close({image:this.ls.getItem("signedImage")?this.ls.getItem("signedImage"):""}),this.ls.setItem("enable",!1))}close(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(console.log("else ::"),this.dialogRef.close({image:this.imageurl}))}onFileChanged(t){this.selectedFile=t.target.files[0],console.log(this.selectedFile),this.disableDone=!1}onSubmit(){console.log(this.signaturePad.toDataURL());let t={};console.log("this.data::",this.data),"NewCustomerOnboarding"!==this.data.screen?(t.accountId=this.accountId,setTimeout(()=>{this.getByAccountId(t.accountId)},10)):(this.apiService.getAccountIdByCusId(this.data.customerId).subscribe(e=>{console.log("Account Id response -- ",e),t.accountId=e}),this.res={enable:!0,image:this.signaturePad.toDataURL()}),t.customerId=this.data.customerId,t.documentName=this.data.customerId+"Signature",t.documentType="10",t.fileType="image/jpeg",t.fileName="signature";const e=this.signaturePad.toDataURL("image/png");this.ls.setItem("signedImage",e);const a=atob(e.substring("data:image/png;base64,".length)),n=new Uint8Array(a.length);for(var i=0,o=a.length;i<o;++i)n[i]=a.charCodeAt(i);const r=new Blob([n],{type:"image/png"}),c=new FormData;c.append("data",JSON.stringify(t)),c.append("file",r),c.append("accType","savings"),this.apiService.uploadDocument(c).subscribe(t=>{console.log(t),t&&(this.ls.setItem("signedImage",this.imageurl),console.log(this.imageurl),console.log(this.ls.getItem("signedImage")),this.close(),this.show=!0,this.res=t)},t=>{this.close(),this.res=!1}),"NewCustomerOnboarding"!==this.data.screen?this.isDone=!1:this.close(),console.log(this.isDone),this.ls.setItem("eSignStage",!0)}getByAccountId(t){this.apiService.fetchByLoanAccountId(t).subscribe(t=>{console.log("updateStatus :: ",t),this.accountdetailsForStatusUpdate=t,this.updateAccountStatus({loanAccountId:null==t?void 0:t.loanAccountId,status:"BACKLOG"})})}updateAccountStatus(t){this.apiService.updateLoanDetailsStatus(t).subscribe(t=>{console.log("updateResp:: ",t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(g.a),i.Rb(g.g),i.Rb(u.a),i.Rb(d.a),i.Rb(p.b),i.Rb(o.h),i.Rb(Ne.a),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-esign-pop"]],viewQuery:function(t,e){if(1&t&&i.ad(hu.a,!0),2&t){let t;i.Cc(t=i.gc())&&(e.signaturePad=t.first)}},decls:7,vars:3,consts:[["fxLayout","row wrap"],["fxFlex","100","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","100",4,"ngIf"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","50","fxFlexOffset","20px",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"propic","text-center"],["src","assets/images/esign.png","alt",""],["fxFlex","50","fxFlexOffset","20px"],[1,"text-center","mt-16","esignFont"],[1,"mt-16"],[3,"options","onBeginEvent","onEndEvent"],[1,"text-center"],["mat-raised-button","",1,"Next",3,"disabled","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Rc(2,vu,3,0,"button",2),i.Wb(),i.Rc(3,Wu,3,0,"div",3),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Rc(6,Xu,9,2,"div",6),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(2),i.rc("ngIf",!e.isDone),i.Eb(1),i.rc("ngIf",!e.isDone),i.Eb(3),i.rc("ngIf",!e.isDone))},directives:[r.e,r.b,r.d,n.n,l.b,v.a,r.c,c.a,c.d,hu.a],styles:[".Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}.esignFont[_ngcontent-%COMP%]{font-size:large;font-weight:300}"]}),t})();const xu=["profileFile"];function Cu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",7),i.fc("click",function(){return i.Hc(t),i.jc().close1()}),i.Xb(1,"mat-icon"),i.Tc(2,"close"),i.Wb(),i.Wb()}}function Iu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",7),i.fc("click",function(){return i.Hc(t),i.jc().close()}),i.Xb(1,"mat-icon"),i.Tc(2,"close"),i.Wb(),i.Wb()}}function Ou(t,e){1&t&&(i.Xb(0,"div",4),i.Xb(1,"div",8),i.Sb(2,"img",9),i.Wb(),i.Wb())}function Au(t,e){1&t&&(i.Xb(0,"div"),i.Sb(1,"img",24),i.Wb()),2&t&&(i.Eb(1),i.rc("src","assets/images/no-image.jpg",i.Jc))}function Du(t,e){if(1&t&&i.Sb(0,"img",25),2&t){const t=i.jc(2);i.rc("src",t.imageURL1,i.Jc)}}function Tu(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",10),i.Xb(1,"h5",11),i.Tc(2,"Signature!"),i.Wb(),i.Xb(3,"div",12),i.Xb(4,"div",13),i.Xb(5,"button",14),i.fc("click",function(){return i.Hc(t),i.jc().openPopUp()}),i.Tc(6,"Digital Sign"),i.Wb(),i.Wb(),i.Xb(7,"div",15),i.Xb(8,"button",16),i.fc("click",function(){return i.Hc(t),i.Dc(11).click()}),i.Tc(9," Upload "),i.Xb(10,"input",17,18),i.fc("change",function(e){return i.Hc(t),i.jc().onFileSelect(e)}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(12,"div",5),i.Xb(13,"div",13),i.Xb(14,"div",19),i.Rc(15,Au,2,1,"div",20),i.Rc(16,Du,1,1,"ng-template",null,21,i.Sc),i.Wb(),i.Xb(18,"div",12),i.Xb(19,"button",22),i.fc("click",function(){return i.Hc(t),i.jc().deleteImg()}),i.Tc(20," DELETE "),i.Wb(),i.Xb(21,"button",23),i.fc("click",function(){return i.Hc(t),i.jc().onSubmit()}),i.Tc(22," SUBMIT "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(17),e=i.jc();i.Eb(15),i.rc("ngIf","not_available"==e.imageURL1)("ngIfElse",t),i.Eb(6),i.rc("disabled",e.disableDone)}}let Su=(()=>{class t{constructor(t,e,a,n,i,o,r){this.data=t,this.router=e,this.apiService=a,this.dialogService=n,this.dialog=i,this.dialogRef=o,this.ls=r,this.isDone=!1,this.previousUrl="",this.disableDone=!1,this.res={enable:!1,image:null}}ngOnInit(){this.image=this.ls.getItem("signedImage"),this.imageURL1=this.image?this.image:"not_available",this.accountId=this.ls.getItem("loanAccountId")}close1(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(this.dialogRef.close(!0),"not_available"!==this.imageURL1&&this.ls.getItem("eSignStage")&&this.ls.setItem("enable",!0)),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["loan/account/digitalsigning/list/options"])})}close2(){"NewCustomerOnboarding"===this.data.screen?this.dialogRef.close(this.res):(this.dialogRef.close(!0),this.ls.setItem("enable",!0))}openPopUp(t){let e;null==t&&(e={isSignLater:!1,screen:"Create Account"}),this.show||this.dialog.open(yu,{width:"720px",disableClose:!0,data:null==t?e:t}).afterClosed().subscribe(t=>{console.log("dismiss res",t),t&&(this.ls.setItem("enable",!0),this.imageURL1=(null==t?void 0:t.image)?null==t?void 0:t.image:"not_available",this.disableDone=!(null==t?void 0:t.image),console.log(this.show))})}onFileSelect(t){console.log("event -- ",t.target.files),this.selectedFile=t.target.files[0],console.log(this.selectedFile);let e=new FileReader;e.readAsDataURL(t.target.files[0]),e.onload=t=>{this.imageURL1=e.result};const a=this.selectedFile,n=new FormData;n.append("data",JSON.stringify({customerId:this.customerId,documentName:this.customerId+"Signature",documentType:"10",fileType:t.type,fileName:t.name,verificationType:"Digital Signing"})),n.append("file",a),this.apiService.upload(n).subscribe(t=>{})}onSubmit(){this.isDone=!0,this.dialogRef.close(!0)}deleteImg(){this.dialogService.doConfirmDialog("").subscribe(t=>{"Yes"==t&&(this.ls.setItem("enable",!1),this.ls.removeItem("signedImage"),this.imageURL1="not_available",this.profileFile.nativeElement.value="",this.apiService.deleteCustomerDoc(this.customerId,this.profileId).subscribe(t=>{}),this.disableDone=!0,this.ls.setItem("enable",!1))})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(g.a),i.Rb(o.h),i.Rb(p.b),i.Rb(La.a),i.Rb(g.b),i.Rb(g.g),i.Rb(u.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-upload-sign-or-esign"]],viewQuery:function(t,e){if(1&t&&i.ad(xu,!0),2&t){let t;i.Cc(t=i.gc())&&(e.profileFile=t.first)}},decls:8,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","100","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","100",4,"ngIf"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","50","fxFlexOffset","20px",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"propic","text-center"],["src","assets/images/esign.png","alt",""],["fxFlex","50","fxFlexOffset","20px"],[1,"text-center","mt-16","esignFont"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","20px"],[1,"sub-section-1"],["appearence","outline",1,"scanButton",3,"click"],[1,"sub-section-2"],[1,"Upload","scanButton",3,"click"],["type","file","accept","image/*","required","",1,"changeInput",2,"display","none",3,"change"],["fileInput",""],[1,"insertDriveImg"],[4,"ngIf","ngIfElse"],["showAvatar",""],["mat-raised-button","","color","red",1,"dltbtn",3,"click"],["mat-raised-button","","color","primary",1,"dbtn",3,"disabled","click"],["alt","No Image",1,"formImg",3,"src"],["required","","alt","",1,"formImg",3,"src"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Rc(2,Cu,3,0,"button",2),i.Rc(3,Iu,3,0,"button",2),i.Wb(),i.Rc(4,Ou,3,0,"div",3),i.Xb(5,"div",4),i.Xb(6,"div",5),i.Rc(7,Tu,23,3,"div",6),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(2),i.rc("ngIf",!e.isDone),i.Eb(1),i.rc("ngIf",e.isDone),i.Eb(1),i.rc("ngIf",!e.isDone),i.Eb(3),i.rc("ngIf",!e.isDone))},directives:[r.e,r.b,r.d,n.n,l.b,v.a,r.c,r.f],styles:[".scanButton[_ngcontent-%COMP%]{display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:0;border-radius:5px}.formImg[_ngcontent-%COMP%]{height:200px!important;width:400px!important;background-color:#f5f5f5;border-radius:10%}.esignFont[_ngcontent-%COMP%]{font-size:large;font-weight:300}.Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}.dltbtn[_ngcontent-%COMP%]{background-color:red}.dbtn[_ngcontent-%COMP%], .dltbtn[_ngcontent-%COMP%]{margin:12px 0;width:35%;color:#fff;border-radius:55px}.dbtn[_ngcontent-%COMP%]{background-color:#426af5}"]}),t})();const ku=[{path:"",component:Fa,children:[{path:"",redirectTo:"account/list",pathMatch:"full"},{path:"account/list",component:Qi,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/offerstage/list",component:zo,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/offerstage/offer-assessment",component:Ko,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/offerstage/offer-issue",component:fu,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/offerstage/offer-accept-reject",component:Qo,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/list",component:L,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/assessment-details",component:H,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/offer-acceptReject-details",component:J,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/offer-acceptReject-summary-details",component:y,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/loan-summary-details",component:Y,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account-approval/account-approval-summary-details",component:b,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage",component:pb,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/creditrating",component:Ll,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/creditrating/edit",component:Vl.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/legalopinion",component:$l,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/legalopinion/edit",component:zl.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/valuationofassets",component:Ab,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/valuationofassets/edit",component:fb.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/underwritingStage/summary",component:tb,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/assessment/list",component:tn,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/assessment/summary",component:Gb.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/loan-details",component:si,data:{title:"Home",breadcrumb:"Loan Details"}},{path:"account/application-enrichment",component:be,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/Summary",component:Hb,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/intrest-details",component:de,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/loan-disbursement",component:Rt,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/loan-repayment",component:Pe,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/loan-repayment/:id",component:Pe,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/account-services",component:ht,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/application-enrichment/charge-details",component:Xt,data:{title:"Home",breadcrumb:"Application Enrichment"}},{path:"account/loan-details/summary",component:Gn.a,data:{title:"Home",breadcrumb:"Loan Details"}},{path:"account/asset-details",component:Hn,data:{title:"Home",breadcrumb:"Asset Details"}},{path:"account/asset-details/summary",component:_n.a,data:{title:"Home",breadcrumb:"Asset Details"}},{path:"account/vehicle-details",component:_o,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/digitalsigning/list",component:Sb,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/digitalsigning/list/options",component:(()=>{class t{constructor(t,e,a,n,i,o,r,c){this.dialog=t,this.router=e,this.ls=a,this.accountService=n,this.apiService=i,this.dialogService=o,this.urlService=r,this.api=c,this.previousUrl="",this.show=!1,this.show1=!1,this.isDone=!1}ngOnInit(){this.loanaccountID=this.ls.getItem("loanAccountId"),this.loanInfo=this.ls.getItem("LOAN_ACC_ARRAY"),this.show1=this.ls.getItem("eSignStage")&&null!==this.ls.getItem("signedImage"),this.loanInfo&&(this.loanaccountID=this.loanInfo.loanAccountId),this.accountId=this.ls.getItem("accountId"),this.urlService.previousUrl$.subscribe(t=>{this.previousUrl=t})}openPopUp(t){let e;null==t&&(e={isSignLater:!1,screen:"Create Account"}),this.show||this.dialog.open(Su,{width:"720px",disableClose:!0,data:null==t?e:t}).afterClosed().subscribe(t=>{this.loanAccountId=this.loanaccountID,console.log("dismiss res",t),t&&(this.show=this.ls.getItem("enable"),this.show1=this.ls.getItem("enable"),console.log(this.show),this.getByAccountId(this.loanAccountId))})}getByAccountId(t){this.api.fetchByLoanAccountId(t).subscribe(t=>{this.accountdetailsForStatusUpdate=t,this.updateAccountStatus({loanAccountId:null==t?void 0:t.loanAccountId,status:"BACKLOG"})})}updateAccountStatus(t){this.api.updateLoanDetailsStatus(t).subscribe(t=>{console.log("updateResp:: ",t)})}onDone(){this.isDone=!0,this.dialogService.alertForLoanFinishButton().subscribe(t=>{console.log("response ::",t)})}goBack(){this.router.navigate([this.previousUrl])}resetState(){this.ls.removeItem("LoanEntryStage"),this.ls.removeItem("LOAN_DETAIL_DONE"),this.ls.removeItem("ASSET_DETAIL_DONE"),this.ls.removeItem("VEHICLE_DETAIL_DONE"),this.ls.removeItem("ADMISSION_DETAIL_DONE"),this.ls.removeItem("CUSTOMERINFO_DETAIL_DONE"),this.ls.removeItem("MANDATE_DETAIL_DONE"),this.ls.removeItem("FINANCIAL_DETAIL_DONE"),this.ls.removeItem("COLLATERAL_DETAIL_DONE"),this.ls.removeItem("GUARANTOR_DETAIL_DONE"),this.ls.removeItem("LOAN_ENRICHMENT_DONE"),this.ls.removeItem("LOAN_INTERST_DETAIL_DONE"),this.ls.removeItem("LOAN_DISBURSEMENT_DETAIL_DONE"),this.ls.removeItem("LOAN_REPAYMENT_DETAIL_DONE"),this.ls.removeItem("LOAN_CHARGE_DETAILS"),this.ls.removeItem("LOAN_ACCOUNT_SERVICES_DONE"),this.ls.removeItem("LOAN_ENRICHMENT_DONE"),this.ls.removeItem("assessment-details"),this.ls.removeItem("offer-acceptReject-details"),this.ls.removeItem("loan-summary-details"),this.ls.removeItem("assessmentScreen"),this.ls.removeItem("OfferIssueStageDone"),this.ls.removeItem("OfferIssue"),this.ls.removeItem("OfferIssueRejectStageScreen"),this.ls.removeItem("OfferIssueRejectScreen"),this.ls.removeItem("underWritingStage"),this.ls.removeItem("CREDIT_RATING_DONE"),this.ls.removeItem("VALUATION_OF_ASSET_DONE"),this.ls.removeItem("LEGAL_OPINION_DONE"),this.ls.removeItem("legalScreen"),this.ls.removeItem("valuationAsset"),this.ls.removeItem("CreditRatingDetails"),this.ls.removeItem("LOAN_QUALITATIVE_SCOREBOARD_DONE"),this.ls.removeItem("LOAN_ASSESSMENT_DETAILS_DONE"),this.ls.removeItem("LOAN_ASSESSMENT_STAGE_DONE"),this.ls.removeItem("SUPERVISOR_APPROVAL_STAGE"),this.ls.removeItem("isapprovedSupervisor"),this.ls.removeItem("APPROVED_DETAILS"),this.ls.removeItem("PostOfferAmmendementStageScreen"),this.ls.removeItem("PostOfferAmmendementScreen"),this.ls.removeItem("post-offer-amend-stage"),this.ls.removeItem("ACCOUNT_CREATTION_STAGE_DONE"),this.ls.removeItem("ACCOUNT_CREATE_DETAILS_DONE"),this.ls.removeItem("eSignStage"),this.ls.removeItem("loanAccountId"),this.ls.removeItem("enable"),this.ls.removeItem("primaryCustomerName"),this.ls.removeItem("cardownership_value"),this.ls.removeItem("cId"),this.ls.removeItem("signedImage"),this.ls.removeItem("LoanNoOfApplicants"),this.ls.removeItem("isHomeLoan"),this.ls.removeItem("productName"),this.ls.removeItem("signedImage"),sessionStorage.clear(),this.accountService.refresh.next(),this.router.navigate(["/loan"])}onSubmit(){console.log(this.loanaccountID),this.api.signInLater({loanAccountId:this.loanaccountID,subject:"Link to sign later",esignLink:p.d}).subscribe(t=>{console.log("data::",t),this.getByAccountId(this.loanaccountID),this.ls.setItem("eSignStage",!0),this.ls.setItem("enable",!0),this.accountService.refresh.next(),this.isDone=!0,this.dialogService.alertForLoanSignLater().subscribe(t=>{console.log("response ::",t)}),this.show=this.ls.setItem("enable",!0)},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(g.b),i.Rb(o.h),i.Rb(u.a),i.Rb(K.a),i.Rb(Ne.a),i.Rb(La.a),i.Rb(an.a),i.Rb(p.b))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-digital-sign-in-now-or-later"]],decls:43,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/digi.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"mat-card-img"],["fxFlex","100",1,"mt-32"],[1,"rounded-circle",3,"click"],[1,"p-0"],[1,"compact-list","mb-16"],[1,""],["mat-list-avatar","","src","assets/images/signnow.png","alt","",1,"mr-16"],["fxLayout","column","fxFlex","100"],[1,"m-0","mr-16"],["fxFlex",""],["fxFlex","40",1,"mt-4","notActive"],[1,"text-center"],["mat-button","",1,"full-width","notActive"],["mat-list-avatar","","src","assets/images/signlater.png","alt","",1,"mr-16"],["fxFlex","100",1,"mt-16"],["mat-button","",1,"Back",3,"click"],["mat-raised-button","","type","button",1,"Next",3,"disabled","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"img",3),i.Wb(),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"b"),i.Tc(7,"Digital Signing"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"mat-card",6),i.Xb(9,"div",7),i.Xb(10,"mat-card",8),i.fc("click",function(){return e.openPopUp()}),i.Xb(11,"mat-card-content",9),i.Xb(12,"mat-list",10),i.Xb(13,"mat-list-item",11),i.Sb(14,"img",12),i.Xb(15,"div",13),i.Xb(16,"h3",14),i.Tc(17,"Sign Now"),i.Wb(),i.Sb(18,"span",15),i.Xb(19,"div",16),i.Tc(20," Enables you to digitally sign the document. To e sign the document, click on it, create your eSignature or Upload your signature, click on Done and it will add to your "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(21,"div",1),i.Xb(22,"div",17),i.Xb(23,"button",18),i.Tc(24,"OR"),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"div",1),i.Xb(26,"mat-card",8),i.fc("click",function(){return e.onSubmit()}),i.Xb(27,"mat-card-content",9),i.Xb(28,"mat-list",10),i.Xb(29,"mat-list-item",11),i.Sb(30,"img",19),i.Xb(31,"div",13),i.Xb(32,"h3",14),i.Tc(33,"Sign Later"),i.Wb(),i.Sb(34,"span",15),i.Xb(35,"div",16),i.Tc(36," Enables you to sign the document later. To sign later, click here, an email will be sent to the respective email id provided with a sign link. You can verify and sign later. "),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(37,"div",20),i.Xb(38,"button",21),i.fc("click",function(){return e.goBack()}),i.Tc(39,"BACK"),i.Wb(),i.Sb(40,"span",15),i.Xb(41,"button",22),i.fc("click",function(){return e.onDone()}),i.Tc(42,"FINISH"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(41),i.rc("disabled",!e.show1))},directives:[r.e,r.b,c.a,c.d,Gr.a,Gr.d,Gr.b,l.b],styles:[".primary[_ngcontent-%COMP%]{cursor:not-allowed}.secondary[_ngcontent-%COMP%]{cursor:pointer}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.Back[_ngcontent-%COMP%]{border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{margin:12px 0;width:150px}.Next[_ngcontent-%COMP%]{background-color:#426af5;color:#fff;border-radius:55px}.mat-card-img[_ngcontent-%COMP%]{height:100%;width:100%;flex-direction:column!important;box-sizing:border-box!important;display:flex!important;border-radius:40px!important}"]}),t})(),data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/digitalsigning/options",component:Su,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/vehicle-details/summary",component:Ar.a,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/offer-issue/list",component:Dl,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/offer-issue/credit-rating",component:ir,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/offer-issue/valuation-asset",component:Xl,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/offer-issue/legal-opinion",component:dr,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/offer-issue/offer-assessment",component:gr,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/list/offer-issue/offerissue",component:Or,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/admission-details",component:Br,data:{title:"Loan",breadcrumb:"Admission Details"}},{path:"account/customer-information",component:bl,data:{title:"Loan",breadcrumb:"Customer Information"}},{path:"account/mandate-details",component:Ml,data:{title:"Loan",breadcrumb:"Mandate Details"}},{path:"account/financial-details",component:He,data:{title:"Loan",breadcrumb:"Financial Details"}},{path:"account/collateral_details",component:du,data:{title:"Loan",breadcrumb:"Collateral Details"}},{path:"account/account-creation-stage",component:sm,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/account-creation-stage/account-create-details",component:dm,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/account-creation-stage/account-create-summary",component:fm.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/account-creation-stage/offer-accept-reject",component:lm,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/account-creation-stage/offer-accept-reject-summary",component:pm.a,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/account-creation-stage/account-creation-summary",component:gm,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/guarantor_details",component:qm,data:{title:"Loan",breadcrumb:"Guarantor Details"}},{path:"account/supervisor-summary",component:Mb,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/supervisor/list",component:Mb,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/supervisor-assessmentdetails",component:tm,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/supervisor-approveddetails",component:Jb,data:{title:"Home",breadcrumb:"Vehicle Details"}},{path:"account/assessment-summary",component:tn,data:{title:"Home",breadcrumb:"Create Retain Loan Account"}},{path:"account/post-offer-amend-stage/list",component:io,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/post-offer-amend-stage-summary",component:gu,data:{title:"Loan",breadcrumb:"Create Loan Account"}},{path:"account/offer-issue",component:ro,data:{title:"Home",breadcrumb:"Offer Issue"}},{path:"account/post-offer-amendment",component:Wo,data:{title:"Home",breadcrumb:"Offer Issue"}},{path:"account/loan-disbursement",component:yo,data:{title:"Home",breadcrumb:"Offer Issue"}},{path:"account/loan-repayment",component:Mo,data:{title:"Home",breadcrumb:"Offer Issue"}},{path:"account/assessment/summary",component:tn,data:{title:"Home",breadcrumb:"Assessment Details"}},{path:"account/assessment/qualitative",component:kn,data:{title:"Home",breadcrumb:"Qualitative Scoreboard Details"}},{path:"account/assessment/assessment-details",component:Wn,data:{title:"Home",breadcrumb:"Assessment Details"}}]}];var _u=a("u9T3"),Ru=a("mnDI"),Mu=a("aYsj"),Eu=a("zMWy"),Pu=a("aLe/");let Nu=(()=>{class t{}return t.\u0275mod=i.Pb({type:t}),t.\u0275inj=i.Ob({factory:function(e){return new(e||t)},providers:[n.f,{provide:B.f,useValue:"en-GB"},{provide:g.g,useValue:{}},{provide:g.a,useValue:[]}],imports:[[n.c,Eu.a,_u.a,V.l,V.x,Pu.c,Mu.a,Ru.a,Eu.a,hu.b,Hr.b,o.l.forChild(ku)]]}),t})()}}]);