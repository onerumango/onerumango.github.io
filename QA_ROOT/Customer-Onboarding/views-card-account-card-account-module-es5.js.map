{"version":3,"sources":["webpack:///src/app/shared/models/cardPrefrences.ts","webpack:///src/app/views/card-account/application-entry-stage/card-customer-information/card-customer-information.component.ts","webpack:///src/app/views/card-account/application-entry-stage/card-customer-information/card-customer-information.component.html","webpack:///src/app/views/card-account/underwriting-stage/underwriting-stage.component.ts","webpack:///src/app/views/card-account/underwriting-stage/underwriting-stage.component.html","webpack:///src/app/views/card-account/application-entry-stage/application-entry-stage.component.ts","webpack:///src/app/views/card-account/application-entry-stage/application-entry-stage.component.html","webpack:///src/app/views/card-account/underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component.ts","webpack:///src/app/views/card-account/underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component.html","webpack:///src/app/views/card-account/supervisor-approval-stage/supervisor-approval-stage.component.ts","webpack:///src/app/views/card-account/supervisor-approval-stage/supervisor-approval-stage.component.html","webpack:///src/app/views/card-account/application-entry-stage/card-prefrences/card-prefrences.component.ts","webpack:///src/app/views/card-account/application-entry-stage/card-prefrences/card-prefrences.component.html","webpack:///src/app/views/card-account/underwriting-stage/underwriting-credit-rating/underwriting-credit-rating.component.ts","webpack:///src/app/views/card-account/underwriting-stage/underwriting-credit-rating/underwriting-credit-rating.component.html","webpack:///src/app/views/card-account/application-enrichment/enrichment-summary/enrichment-summary.component.ts","webpack:///src/app/views/card-account/application-enrichment/enrichment-summary/enrichment-summary.component.html","webpack:///src/app/views/card-account/card-account.component.ts","webpack:///src/app/views/card-account/card-account.component.html","webpack:///src/app/views/card-account/digital-signing/upload-signature-or-esign/upload-signature-or-esign.component.ts","webpack:///src/app/views/card-account/digital-signing/upload-signature-or-esign/upload-signature-or-esign.component.html","webpack:///src/app/views/card-account/application-enrichment/charge-details/charge-details.component.ts","webpack:///src/app/views/card-account/application-enrichment/charge-details/charge-details.component.html","webpack:///src/app/views/card-account/assessment-stage/assessment-stage.component.ts","webpack:///src/app/views/card-account/assessment-stage/assessment-stage.component.html","webpack:///src/app/views/card-account/card-account.routing.ts","webpack:///src/app/views/card-account/application-enrichment/charge-details/card-acc-charge-det-sum/card-acc-charge-det-sum.component.ts","webpack:///src/app/views/card-account/application-enrichment/charge-details/card-acc-charge-det-sum/card-acc-charge-det-sum.component.html","webpack:///src/app/views/card-account/digital-signing/digitalsign-summary/digitalsign-summary.component.ts","webpack:///src/app/views/card-account/digital-signing/digitalsign-summary/digitalsign-summary.component.html","webpack:///src/app/views/card-account/cardaccount-application-assessment/cardaccount-application-assessment.component.ts","webpack:///src/app/views/card-account/cardaccount-application-assessment/cardaccount-application-assessment.component.html","webpack:///src/app/views/card-account/application-enrichment/intrest-details/intrest-details.component.ts","webpack:///src/app/views/card-account/application-enrichment/intrest-details/intrest-details.component.html","webpack:///src/app/views/card-account/digital-signing/digital-signing.component.ts","webpack:///src/app/views/card-account/digital-signing/digital-signing.component.html","webpack:///src/app/views/card-account/document-upload/document-details/document-details.component.html","webpack:///src/app/views/card-account/document-upload/document-details/document-details.component.ts","webpack:///src/app/views/card-account/application-entry-stage/financial-details/financial-details.component.ts","webpack:///src/app/views/card-account/application-entry-stage/financial-details/financial-details.component.html","webpack:///src/app/views/card-account/application-entry-stage/card-account-services/card-account-services.component.ts","webpack:///src/app/views/card-account/application-entry-stage/card-account-services/card-account-services.component.html","webpack:///src/app/views/card-account/digital-signing/esignature-pop/esignature-pop.component.ts","webpack:///src/app/views/card-account/digital-signing/esignature-pop/esignature-pop.component.html","webpack:///src/app/views/card-account/digital-signing/digital-sign-now-or-later/digital-sign-now-or-later.component.ts","webpack:///src/app/views/card-account/digital-signing/digital-sign-now-or-later/digital-sign-now-or-later.component.html","webpack:///src/app/views/card-account/application-entry-stage/card-initiation/card-initiation.component.ts","webpack:///src/app/views/card-account/application-entry-stage/card-initiation/card-initiation.component.html","webpack:///src/app/views/card-account/supervisor-approval-stage/approval-details/approval-details.component.ts","webpack:///src/app/views/card-account/supervisor-approval-stage/approval-details/approval-details.component.html","webpack:///src/app/views/card-account/application-enrichment/intrest-details/intrest-details-summary/intrest-details-summary.component.ts","webpack:///src/app/views/card-account/application-enrichment/intrest-details/intrest-details-summary/intrest-details-summary.component.html","webpack:///src/app/views/card-account/application-enrichment/application-enrichment.component.ts","webpack:///src/app/views/card-account/application-enrichment/application-enrichment.component.html","webpack:///src/app/views/card-account/document-upload/document-upload.component.ts","webpack:///src/app/views/card-account/document-upload/document-upload.component.html","webpack:///src/app/views/card-account/card-account.module.ts","webpack:///src/app/views/card-account/underwriting-stage/cardaccount-qualitative-scoreboard/cardaccount-qualitative-scoreboard.component.ts","webpack:///src/app/views/card-account/underwriting-stage/cardaccount-qualitative-scoreboard/cardaccount-qualitative-scoreboard.component.html"],"names":["home","applicant","value","CardCustomerInformationComponent","router","dialog","route","accountService","elRef","renderer","ls","apiService","formBuilder","confirmService","cdr","appApiService","snack","dataService","urlService","loader","cifNumberForm","listOfCustByCif","submitted","formData","console","customerIdProofs","selfNextBtnDisabled","arrayPrefix","arrayGender","arrayCountry","arrayState","arrayCity","arrayResidence","arrayDocumentType","arrayAddressType","applicantDetailsArray","toggle","customerDetails","applicantDetails","showEditOption","tomorrow","Date","maxDate","minDate","validDate","showNewForm","isCifValid","toggleClick","isCustomerDone","previousUrl","addOnCard","addFunc","removedButton","selectedApplicant","listOfAccounts","isAllSameDigitVal","isResidency","isCurrency","addonCardValue","isBirthCountry","isCountry","showExpiryDate","pinCodeErr","setDate","getDate","log","i","isDuplicateCIF","disableSaveBtn","cardId","getItem","applicantId","snapshot","params","JSON","parse","cifNumberPrimary","buildCustomerForm","getListOfAccounts","getOwnershipValue","getPrefixValue","getGenderValue","getResidenceDetails","getCountryName","getAdressType","getAllAuthCities","getDocumentType","getMaritalStatus","isChecked","disabled","disabledToggle","goToggle","fetchCardCustomersByCardId","subscribe","resp","err","dataExtracted","subscription","getaccParam","data","dispResponse","custIdProofs","cardCustomerForm","get","valueChanges","val","patchValue","setItem","onlySelf","emitEvent","reset","ownershipStatus","setValue","noOfapplicants","pipe","prev","next","previousUrl$","refresh","res","markForCheck","cifNumber","getStateName","country","applicantData","prefix","existingCustomer","primaryCustomer","customerId","firstName","middleName","lastName","gender","dateOfBirth","convertDate","placeOfBirth","residenceStatus","nationality","countryOfResidence","occupationType","idType","idNumber","expiryDate","addressType","address1","address2","city","state","zipCode","phoneNumber","landlineNumber","primaryEmailAdress","maritalStatus","birthCountry","doc","clearValidators","idProofs","filter","item","length","Object","prototype","toString","call","stringify","event","charCode","keyCode","account","disable","address","userAddress","find","payLoadModel","dependentId","onSelectionBirthCountry","onSelectionResidance","onSelectionCitizionship","getCountrySelection1","onBirthCountry","closeDetails","enable","status","map","_id","Math","round","random","requiredFields","acc","field","id","index","element","numOfApplicants","toggleChanges","confirm","title","message","ok","cancel","deleteApplicant","open","error","text","duration","verticalPosition","horizontalPosition","isExistingCustomer","some","currency","birthCountryFlag","fetchByCif","customerInfoList","policyRenewalDate","format","onSelectionCitizionship1","onOtherSelectionResidance","getCountrySelection","customerName","date","group","productAccountId","accountId","ownership","addCustFormGroup","setValidators","required","updateValueAndValidity","pattern","minLength","maxLength","email","inputChar","String","fromCharCode","test","preventDefault","inp","excludedKeys","includes","controls","f","key","getDropDownValues","maritalStatusList","arrayOwnership","getAllCountries","authStatus","push","countryName","isAdd","getStateByCountryId","getAuthorizedCityInfo","r","cityName","countryFlaglists","currencyCode","toLowerCase","countryCode","editCountryCode","Currency1","Currency","ResideceCurrency","payloadObj","control","addressObj","custIdProofsArray","addressObjArray","accountType","createAndUpdateCardAccountants","close","custDependentModel","goToNext","navigate","target","clearTimeout","timer","setTimeout","count","number","unsubscribe","sendNavParam","checked","zipcode","fetchStateCityByZipcode","stateName","selector","templateUrl","styleUrls","progressBar","UnderwritingStageComponent","dialogService","isCardCreditRatingDetails","isCardQualitativeScoreboard","cardAccountcreditRatingSummaryDialog","CardQualitativeSummaryDialog","ApplicationEntryStageComponent","isCardPrefrenceDone","CardInitiationScreenDone","isCardInitiationDone","isCardCustomerInformationScreen","isCardFinancialDetailsScreen","isCardAccountService","isCardApplicationStageDone","CardInitiationSummary","CardFinancialDetailsSummary","CardCustomerInfoSummary","cardAccountServiceViewSummary","cardPrefrenceSummary","cardAppEntryStageViewSummary","UnderwritingStageSummaryComponent","imagePath","getAllData","getCardQualitativeScorecardDetails","response","qualitativeScoreboardSummary","scoreCardMapping","getCardCreditRatingDetails","creditDetails","creditRatingValues","goBack","done","SupervisorApprovalStageComponent","isApprovalDetails","isCardSupervisorApprovalDone","CardApprovalSummary","CardPrefrencesComponent","fb","arraylimitType","selectedOptions2","cardDetails","isdailylimit","isLimitTransaction","isGreaterValue","selectedDocumentTypes2","cardPrefrenceOnLoad","isRowEnds","islimitType","isDLReadOnly","isLPTReadOnly","isDocumentOptionDisabled2","buildCardPrefrenceForm","cardPrefrenceScreen","gettingCardPrefrenceDetail","getCardPrefrence","limitType","isResponse","cardPrefrenceForm","cardPrefrences","array","addMFormGroup","addMandateToFormGroup","dailyLimit","addComa","limitPerTransaction","m","numberOfItems","num1","finalNum","replace","split","final","join","flag","k","limiPrTrn","dailyNum","removeComma","LimitTxn","Number","payload","limitDaily","removeAt","undefined","preferenceId","deleteCardPrefrence","splice","newTransaction","assign","parseInt","uploadCardPrefrence","num","numb","addMandate","onSubmit","UnderwritingCreditRatingComponent","api","customerNames","getCustomerInformationDetails","buildCreditForm","gettingCreditRatingDetail","creditDetailsForm","agencyRating","addModFormGroup","c","agencyId","agencyName","ratings","remarks","fetchCustomersByCardAccId","saveCreditDetails","disableTest","disableUjjivan","disableFastTrack","disableAddAgency","EnrichmentSummaryComponent","appEntrySummaryView","getCardEnrichmentDetails","interestForm","interest","savingForm","saving","chargeFormIT","chargeIT","loanForm","loan","getFlexcubeDetails","onCardCharge","in2","getCardEnrichmentSummmary","summaryInfo","intererstInfo","onCardintrest","chargeInfo","e","intrestType","intrestRateApplicable","marginIn","effectiveRate","createdDate","createdBy","lastModifiedDate","lastModifiedBy","amount","waiver","chargeDetailsId","f2","floan","Back","Done","CardAccountComponent","isAddOnCardHolderDetails","isDocumentUploadDone","isDocumentUpload","isCardApplicationEnrichmentDone","isCardInterestDetails","isCardChargeDetails","isApplicationUnderWritingStageDone","isQualitativeScoreboard","isCardAssessmentStageDone","isAssessmentReport","isApprovedDetails","isCardDigitalSigningDone","isCardDigitalSigning","accountItemsSub","accountItems$","menuItem","accountItems","UploadSignatureOrEsignComponent","dialogRef","location","isDone","disableDone","image","imageURL1","screen","isSignLater","show","width","disableClose","afterClosed","files","selectedFile","reader","FileReader","readAsDataURL","onload","event2","result","cId","url","uploadData","FormData","documentName","documentType","fileType","type","fileName","name","verificationType","append","uploadDocument","doConfirmDialog","removeItem","profileFile","nativeElement","deleteCustomerDoc","profileId","ChargeDetailsComponent","history","currencytype","localStorage","currencySymbol","onChangeInterest","slice","form","cardChargeDetailsSave","inputCharacter","AssessmentStageComponent","cardAccountAssessmentSummaryDialog","loanQualitativeSummaryDialog","CardAccountRoutes","path","component","children","redirectTo","pathMatch","CardAccChargeDetSumComponent","cardChargeFetchById","craetedBy","at","edit","DigitalsignSummaryComponent","getDigitalsignByCardId","fileUrl","imageUrl","CardaccountApplicationAssessmentComponent","_location","currencyPipe","arrayUserRecommendation","arraySystemRecommendation","curr","currencySymbols","symbol","buildAssessmentForm","getCardAssessmentDetails","assessmentForm","assessmentId","requestedCardLimit","systemRecommendation","approvedCardLimit","userRecommendation","recommendedCardLimit","remark","currencyArr","fltered","currencySymboll","reccommendedCardLimit","transform","input","which","fetchcardAssessmentDetailsById","cardAssessmentDetails","_keyPress1","transformAmount","goNext","IntrestDetailsComponent","getInterestDetails","interestInfo","cardInterestFetchById","max","min","cardInterestId","cardintrestDetailsSave","DigitalSigningComponent","informations","isEsignScreen","height","submit","DocumentDetailsComponent","http","tokenService","shareDataService","doOcrService","webcamImage","webcamImage1","scan1Array","scan2Array","scan3Array","frontImageArray","backImageArray","otherImageArray","otherDocumentArray","boxArray","document_type","custDocExist","documentSide","frontImage","backImage","otherImage","secondBoxArray","thirdBoxArray","ocrResult","nameOnCard","dobArray","idNumberArray","docarr","addressArray","dataFetched","boxArray2","boxArray3","doc_name","docholder","docuNameArray","arrayOfImageArrays0","arrayOfImageArrays1","arrayOfImageArrays2","docValArray","docarray1","newOtherPage","disableNextAtIndex1","otherDocPages","otherDocumentArray2","screenInfo","ff","bf","docName","progressValFrontArray","progressValBackArray","progressValOthersArray","progressValOtherDocumentArray","customerDocs","trigger","aadharParser","str","adharNumber","dob","nameLineIndex","asciiStr","trim","lines","startIndex","j","substr","docString","dobIndex","indexOf","pop","names","x","fullName","panCardParser","nameIndex","panNumber","match","fatherNameIndex","nameString","displayName","dobString","passportParser","dateOfIssue","dateOfExpiry","doIssueIndex","findIndex","line","dates","nationalityIndex","issueNoString","issueNoStringArray","screenName","sessionStorage","customer_Id","addCustomer","documentForm","frontSide","backSide","others","items","inititemrows","document_name","documentTypeArr","getName","assignName","getOCR","getCustomerId","assignOCRValues","getenableNext","doc_list","forEach","getKycDataFetchedInfo","documentsList","createItem","createDocItem","upload","dataFetchedValue","disableNext","namePancard","imageOCR","imageOCRBack","addressDisplay","hasNonEmptyFields","values","Boolean","pancard","report","docum_name","backSelected","document_side","deleteCustDoc","othersSelected","getCustomerDocuments","addDocumentlist","newDocumentSide","a","otherArray","fileData","img","docVal","docSideEnum","worker","logger","load","loadLanguage","initialize","recognize","uploadDoc","panCardDetails","nameDoc","passbookDetails","shotToast","aadharDetails","ocrFlag","confirmationDialog","changeValue2_Ocr","terminate","fun","fun1","frontSelected","arg0","Error","webcamImage2","function2","uploadData2","refreshCustomerId","_mimeType","imageAsDataUrl","displayVal2","file","dataURLtoFile","body","assignIdValues","asObservable","tab","textLabel","navigateByUrl","setIndex","setFinishFlag","finishFlag","updateKycStatus","hasOwnProperty","fetchChildIndex","page_id","element2","document","getElementById","click","element3","custId","docImage","objectURL","source","sanitizer","bypassSecurityTrustUrl","updateKycStatusByCustId","displayVal","uploadData1","displayVal1","dataurl","filename","arr","mime","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","childindex","selectedFiles","size","formatBytes","doOCR","otherDocumentSelected","bytes","decimals","dm","sizes","floor","parseFloat","pow","toFixed","documnetSideValue","docType","uploadSub","UploadProgress","loaded","total","backSideId","otherSideId","otherDocumentSideId","shareCustomerId","sideType","msg","deleteRecord","delCustDoc","uploadDocLink","backdropClass","FinancialDetailsComponent","lastData","toISOString","applicantName","isFinancialScreen","getEmploymentType","getEmploymentCategory","getCardFinancialDetailsSummary","buildFinacialFormGroup","getCardFinancialDetails","arrayEmploymentType","arrayEmploymentCategory","cardFinancialDetailsForm","currentlyWorking","applicantTotalIncome","applicantTotalExpense","lastUpdatedon","employmentType","employmentCategory","employeeNumber","officeName","designation","employmentStartDate","employmentEndDate","salary","interestIncome","bonus","cashGifts","business","pension","monthlyIncomeRentals","monthlyIncomeOthers","monthlyIncomeTotal","household","education","vehicleMaintenance","monthlyExpenseRentals","monthlyExpenseOthers","medical","travel","monthlyExpenseTotal","propertyLoan","vehicleLoan","personalLoans","overdraft","cardOutstandings","liabilityOthers","liabilityTotal","savingDeposits","properties","automobiles","fixedDeposits","lands","assetOthers","stocks","assetTotal","validator","formGroup","validateInputGroups","formgroup","incomeErrMsg","ExpensesErrMsg","LiabilitiesErrMsg","assetErrMsg","startDate","converDate","endDate","upsertCardFinancialDetails","fincialResp","income","detectChanges","calculateTotalIncomeAndExpense","expense","liability","asset","totalIncome","totalExpense","CardAccountServicesComponent","selectedRow","statementList","communicationList","commChannelPreferencesArray","AccStatementPreferenceArray","enableFinish","isAccountServiceDone","gettingAccountService","buildServiceForm","accountServiceForm","gettingCardAccountServiceDetails","statementPref","commChannelPref","statementFrequency","statementFrncy","accServiceId","flattenValues","checkbox","checklist","checkboxes","flattenedValues","accountPayload","invalid","updateAccountService","createAccountService","EsignaturePopComponent","appEntryService","signaturePadOptions","minWidth","canvasWidth","canvasHeight","signupload","signaturePad","set","clear","toDataURL","esignUrl","base64Data","signatureImg","uploadModel","getByAccountId","getAccountIdByCusId","dataURL","datam","substring","asArray","len","blob","Blob","noOfSignatures","uploadSignature","op","getCardInitiationDetails","accountdetailsForStatusUpdate","updateCardAccountStatus","statusModel","updateCardStatus","updateResp","DigitalSignNowOrLaterComponent","alertForCardFinishButton","esignLink","subject","signInLater","openPopUp","onDone","cardInitiationForm","CardInitiationComponent","arrayofEmployment","onbackSpace","localCurrencyArr","selectedCurrency","iskycStatus","isGoForKyc","isKycForCardDone","accountNoArr","buildInitiationForm","isCardDetails","getCardInitiation","kycRefrence","kycNum","getPrimaryInfo","kycStatus","customerAdditionalInfo","getProfileDetails","signatures","accountID","accountCurrency","cardType","customerAccount","affinityProgram","kycReference","uploadCardInitiation","fetchAccountIdByCustId","accountNo","formControlValueChanged","cifNumberControl","nullValidator","valid","showSpinn","custStatus","queryParams","swiftCode","swiftCodeEnable","sendCIF","getAccountData","changeEvent","ApprovalDetailsComponent","getUserRecomendation","getAccountType","getAccountBranchDetails","buildformGroup","approvalForm","getApprovalDetails","productCode","accountBranch","productName","existingValues","upsertApprovalDetails","arrayAccountCurrency","arrayAccountType","arrayUserRecomendation","getAccountBranch","arrayAccountBranch","keyPressAlphanumeric","onKeyPress","IntrestDetailsSummaryComponent","is","interestRateApplicable","iloan","fs","setFlag","ApplicationEnrichmentComponent","DocumentUploadComponent","isLoanApplicationEntryDone","isLoanDetailScreen","documentdetails","CardAccountModule","forChild","declarations","imports","providers","schemas","CardaccountQualitativeScoreboardComponent","sbMultiSelectAnswer","scoreboardQuestionsArray","scoreCardMappingArray","numberOfApplicant","scoreCardId","isDataSaved","disableDoneBtn","anyErrorExist","isQualitativeScreen","sbSelectAnswer","loggedInUser","isScoreCardScreen","getAllQualitative","loadData","Array","getScorecardQuestions","attributeType","scorecardQuestion","scoreCardDetails","mapDataAns","p","scoreCardQuestionId","scorecardAnswer","scoreCardMappingId","scAns","sbSwlwctAnswer","sbSelectAnswer1","answer","qtype","mapId","applcantId","dataUpdated","aplcntExists","dataOject","idx","answerIs","inputValue","validationName","eleid","setStyle","querySelector","isNaN","selectValue","getAssessmentReportDetails","submitData","saveQualitativeScorecard","saveQualitativeScore"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAAaA,I;;;;;;;;;;;;;;;;;;;ACAb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAYA;;;;;ACiBsB;;AACE;;AACF;;;;;;AAFqD;;AACnD;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AAMF;;AACE;;AACE;;AAAW;;AAAsB;;AACjC;;AACE;;AAAwB;;AAAC;;AACzB;;AAAwB;;AAAC;;AACzB;;AAAwB;;AAAC;;AACzB;;AAAwB;;AAAC;;AACzB;;AAAwB;;AAAC;;AAC3B;;AACF;;AACF;;;;AAPkB;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAmER;;AACuC;;AAA4C;;;;;;AAD7D,oFAAgB,UAAhB,EAAgB,2BAAhB;;AACiB;;AAAA;;;;;;;;AAQvC;;AACE;;AAAgD;AAAA;;AAAA;;AAAA;AAAA;;AAC9C;;AAAU;;AAAK;;AACjB;;AACF;;;;;;;;AAEE;;AAAiD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC/C;;AAAU;;AAAI;;AAChB;;;;;;;;AAGF;;AAA4D;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAC1D;;AAAU;;AAAM;;AAClB;;;;;;AAMF;;;;;;;;;;;;AADF;;AACE;;AACF;;;;;;;;AADiB;;AAAA,6FAAmC,yBAAnC,EAAmC,kFAAnC;;;;;;AAqBH;;AACE;;AACF;;;;;;AAF+C;;AAC7C;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AAoBA;;AACE;;AACF;;;;;;AASQ;;;;;;AAAuB;;;;;;AAKtB;;AACG;;AACF;;;;;;AAFgD;;AAC9C;;AAAA;;;;;;AAUV;;AACE;;AACF;;;;;;AAFqD;;AACnD;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AAUI;;;;;;AAAsB;;;;;;AAM1B;;AAEE;;AACF;;;;;;AAFE;;AACA;;AAAA;;;;;;AAGF;;AACE;;AACF;;;;;;AASE;;AACE;;AACF;;;;;;AAFkD;;AAChD;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AAWA;;AACE;;AACF;;;;;;AAmBA;;AACE;;AACF;;;;;;AASA;;AACE;;AACF;;;;;;AAQE;;AACE;;AACF;;;;;;AAF+C;;AAC7C;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AASA;;AACE;;AACF;;;;;;AASM;;;;;;AACE;;;;;;AAOF;;AAEE;;AACF;;;;;;AAFE;;AACA;;AAAA;;;;;;AAIR;;AACA;;AACF;;;;;;AAQU;;AAAsE;;AACtE;;;;;;AADqD;;AAAiB;;AAAA;;;;;;AAW9E;;AACE;;AACF;;;;;;AAYE;;AAA4D;;AACjD;;;;;;AACX;;AAA2D;;AAC3D;;;;;;AALF;;AAEE;;AAEA;;AAEF;;;;;;AAJQ;;AAAA;;AAEA;;AAAA;;;;;;AAqBJ;;AACE;;AACF;;;;;;AACA;;AACE;;AACD;;;;;;AAQC;;AACE;;AACF;;;;;;AAFyD;;AACvD;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AAWA;;AAEE;;AACF;;;;;;AAEF;;AAAsD;;AACtD;;;;;;AAQI;;AAA0D;;AAC1D;;;;;;AAD2C;;AAAe;;AAAA;;;;;;AAG5D;;AACE;;AACF;;;;;;AAYA;;AACE;;AACF;;;;;;AACA;;AACE;;AACD;;;;;;AAUG;;;;;;AACE;;;;;;AAMJ;;AACE;;AACF;;;;;;AAFiD;;AAC/C;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AASE;;AACE;;AAAmB;;;;;;AADwB;;AAC3C;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AA0BA;;AACE;;AACF;;;;;;AACA;;AACE;;AACF;;;;;;AAGF;;AACE;;AACH;;;;;;AAOG;;AACE;;AACF;;;;;;AAaA;;AACE;;AACF;;;;;;AAEF;;AACE;;AACH;;;;;;;;AAhbb;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAO;;AAAsC;;AAC7C;;AACA;;AAAkB;AAAA;;AAAA;;AAAA;AAAA;;AAClB;;AACA;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAQ;;AACnB;;AACE;;AAGF;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAW;;AACtB;;AACE;AAAA;;AAAA;;AAAA;AAAA;;AADF;;AAEF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAIA;;AACA;;AAGF;;AACA;;AACF;;AACA;;AACI;;AACI;;AAAW;;AAAa;;AACxB;;AACE;;AACE;;AACF;;AACF;;AACA;;AACA;AAAA;;AAAA;;AAAA;AAAA;;AACK;;AAGL;;AACJ;;AACJ;;AAEA;;AACE;;AACE;;AAAW;;AAAiB;;AAC5B;;AACE;;AAGF;;AACA;;AAGF;;AAEF;;AAEA;;AACE;;AACE;;AAAW;;AAAoB;;AAC/B;;AACE;;AACE;;AACF;;AACF;;AACA;;AACA;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AAAqB;;AAAU;;AAC/B;;AAIF;;AACE;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAS;;AACpB;;AACE;AAAA;;AAAA;;AAAA,wCAAgC,QAAAC,SAAA,KAAc,QAAd,EAAwBC,KAAxD;AAAuD,WAAvD;;AACA;;AAGF;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAkB;;AAC7B;;AAGA;;AACA;;AAGF;;AACA;;AACF;;AACF;;AACA;;AACE;;AACE;;AAAO;;AAAoC;;AAC3C;;AACA;;AAGA;;AACF;;AACA;;AACE;;AACE;;AAAW;;AAAY;;AACvB;;AACE;AAAA;;AAAA;;AAAA;AAAA;;AADF;;AAEA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAW;;AACtB;;AACE;AAAA;;AAAA;;AAAA;AAAA;;AADF;;AAEA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAQ;;AACnB;;AACE;;AAGF;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAa;;AACxB;;AAEA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAc;;AACxB;;AACG;;AACE;;AAEF;;AACF;;AACA;;AACE;;AACE;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AAAqB;;AAAU;;AAC/B;;AAIF;;AACF;;AACF;;AAGF;;AACF;;AAEA;;AACI;;AACI;;AAAW;;AAAc;;AACzB;;AACI;;AAEJ;;AACJ;;AACJ;;AAEA;;AACE;;AACE;;AAAW;;AAAiB;;AAC5B;;AAAkC;AAAA;;AAAA;;AAAA;AAAA;;AAAlC;;AAEA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAkB;;AAC7B;;AAGA;;AAOF;;AACF;;AAEF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AAAiB;;AAAsB;;AACzC;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAgB;;AAC3B;;AACA;;AAGA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAgB;;AAC3B;;AACE;;AAGF;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAU;;AACrB;;AAAoC;AAAA;;AAAA;;AAAA;AAAA,aAAgC,OAAhC,EAAgC;AAAA;;AAAA;;AAAA;AAAA,WAAhC,EAAgC,QAAhC,EAAgC;AAAA;;AAAA;;AAAA,qDAG/B,SAAAD,SAAA,KAAc,SAAd,EAAyBC,KAHM,EAGP,mBAHO;AAGP,WAHzB;;AAApC;;AAIA;;AAIF;;AACA;;AAGF;;AAEA;;AACE;;AACE;;AAAW;;AAAM;;AACjB;;AAA+C;AAAA;;AAAA;;AAAA;AAAA;;AAC7C;;AAEF;;AACA;;AAGF;;AACF;;AAIF;;AACA;;AACE;;AACE;;AACE;;AAAW;;AAAgB;;AAC3B;;AACA;;AAGA;;AAGF;;AACF;;AAGA;;AACE;;AACE;;AAAW;;AAAS;;AACpB;;AACE;;AACE;;AAEF;;AACF;;AACA;;AACE;AAAA;;AAAA;;AAAA,uDAA6C,IAA7C;AAAiD,WAAjD,EAAmD,iBAAnD,EAAmD;AAAA;;AAAA;;AAAA;AAAA,WAAnD;;AAEA;;AAGF;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAO;;AAClB;;AAAgD;AAAA;;AAAA;;AAAA;AAAA;;AAE9C;;AAGF;;AACA;;AAGF;;AACF;;AAKF;;AACF;;AACF;;AACF;;AAGA;;AACE;;AACE;;AACE;;AAAiB;;AAAoB;;AACvC;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAAtB;;AAEA;;AAGA;;AAIF;;AACA;;AAGF;;AACA;;AACE;;AACE;;AAAW;;AAAQ;;AACnB;;AAEA;;AAGF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAW;;AAAgB;;AAC3B;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAAtB;;AAKA;;AAGF;;AACA;;AAGF;;AACF;;AACF;;AAEF;;AACA;;AACE;;AAAkE;AAAA;;AAAA;;AAAA;AAAA;;AAChE;;AAAsB;;AACxB;;AAEF;;AACF;;AAEF;;AACF;;;;;;;;;;AA/bM;;AAgBuC;;AAAA;;AAIrB;;AAAA;;AAkBkB;;AAAA,0FAA+B,KAA/B,EAA+B,gBAA/B,EAA+B,KAA/B,EAA+B,eAA/B;;AAGG;;AAAA;;AACrB;;AAAA;;AAWE;;AAAA;;AAK2B;;AAAA;;AAWL;;AAAA;;AAIxB;;AAAA;;AAYF;;AAAA;;AAMsB;;AAAA;;AAKpB;;AAAA;;AAWkB;;AAAA;;AAIlB;;AAAA;;AASsD;;AAAA,uIAA2D,eAA3D,EAA2D,IAA3D,EAA2D,KAA3D,EAA2D,iBAA3D;;AAGjC;;AAAA;;AACrB;;AAAA;;AAqBA;;AAAA;;AAWA;;AAAA;;AAUqB;;AAAA;;AAIrB;;AAAA;;AAWA;;AAAA;;AAWA;;AAAA;;AAQ8B;;AAAA;;AAM9B;;AAAA;;AAU2B;;AAAA;;AAW3B;;AAAA;;AAaT;;AAAA;;AAwBa;;AAAA;;AAGA;;AAAA;;AAU0B;;AAAA;;AAI1B;;AAAA;;AAaA;;AAAA;;AAKT;;AAAA;;AAS4B;;AAAA;;AAGnB;;AAAA;;AAcA;;AAAA;;AAGA;;AAAA;;AAYF;;AAAA;;AAOwB;;AAAA;;AAItB;;AAAA;;AAWoB;;AAAA;;AAIpB;;AAAA;;AA4BA;;AAAA;;AAGA;;AAAA;;AAKuB;;AAAA;;AASvB;;AAAA;;AAeA;;AAAA;;AAIuB;;AAAA;;AASR;;AAAA;;;;;;AAvenD;;AACE;;AACE;;AACE;;AAA+B;;AAAY;;AAAY;;AAAmB;;AAAmB;;AAC/F;;AACF;;AACA;;AACE;;AACI;;AACE;;AACF;;AACA;;AACE;;AACE;;AAAsB;;AAAgD;;AACtE;;AACA;;AAEF;;AAEF;;AACA;;AAAmB;;AAA0B;;AAC0B;;AAAO;;AAC9E;;AACE;;AACE;;AAKA;;AAMA;;AAGF;;AACF;;AACF;;AACA;;AACE;;AAKF;;AAkcF;;AACF;;AACF;;;;;;;;;;;AAhfgF;;AAAA;;AAMpD;;AAAA;;AAIM;;AAAA;;AAEkB;;AAAA;;AAKC;;AAAA;;AAI1B;;AAAA,yKAA8C,UAA9C,EAA8C,IAA9C;;AAWX;;AAAA;;AAOO;;AAAA;;;;;;AA+eP;;AAAuD;;AAAY;;;;;;AAEnE;;AACE;;AACF;;;;;;AACA;;AAAiD;;AAAoB;;;;;;AACrE;;AACE;;AAAuB;;;;;;AAQnB;;AACE;;AACE;;;;;;AACF;;AACF;;;;;;AAFI;;AAAA;;;;;;AAGJ;;AACE;;AAGF;;;;;;AADI;;AAAA;;;;;;AAXV;;AACE;;AACE;;AACE;;AAKA;;AAKA;;AACE;;AACE;;;;;;;;AAGF;;AACA;;AAA2C;;AAAsB;;AACnE;;AACA;;AAA+B;;AAAoB;;AACrD;;AACF;;AACF;;;;;;AAxBmD;;AAGvB;;AAAA;;AAKhB;;AAAA;;AAOF;;AAAA;;AAIyC;;AAAA;;;;;;AAoBvD;;AACE;;AACF;;;;;;AASA;;AACE;;AACF;;;;;;AAWA;;AACE;;AACF;;;;;;AASQ;;;;;;AAA4B;;;;;;AAI3B;;AACG;;AACF;;;;;;AAFgD;;AAC9C;;AAAA;;;;;;AASV;;AACE;;AACF;;;;;;AAFqD;;AACnD;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AAUI;;;;;;AAAyB;;;;;;AAO3B;;AAEA;;AACA;;;;;;AAFA;;AACA;;AAAA;;;;;;AAGF;;AACE;;AACF;;;;;;AASE;;AACE;;AACF;;;;;;AAFkD;;AAChD;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AAWA;;AACE;;AACF;;;;;;AATJ;;AACE;;AACE;;AAAW;;AAAmB;;AAC9B;;AAGA;;AACA;;AAGF;;AACA;;AACF;;;;;;;;AATqE;;AAAA,yIAA4D,eAA5D,EAA4D,KAA5D,EAA4D,KAA5D,EAA4D,kBAA5D;;AAGhC;;AAAA;;AACrB;;AAAA;;;;;;;;AAQhB;;AACE;;AAAO;;AAAoC;;AAC3C;;AACA;;AAAoD;AAAA;;AAAA;;AAAA;AAAA;;AAEpD;;AAEA;;AACF;;;;;;AALsD;;AAAA,kGAAuB,UAAvB,EAAuB,kDAAvB;;;;;;AAahD;;AACE;;AACF;;;;;;AAF+C;;AAC7C;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AAgBE;;AACE;;AACF;;;;;;AAF+C;;AAC7C;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AAQA;;AACE;;AACF;;;;;;AAkBM;;AAEE;;AACF;;;;;;AAFE;;AACA;;AAAA;;;;;;AAIR;;AACA;;AACF;;;;;;AASU;;AAAsE;;AACtE;;;;;;AADqD;;AAAiB;;AAAA;;;;;;AAW9E;;AACE;;AACF;;;;;;AAUE;;AAA4D;;AAAsB;;;;;;AAClF;;AAA2D;;AAC3D;;;;;;AAHF;;AACE;;AACA;;AAEF;;;;;;AAHQ;;AAAA;;AACA;;AAAA;;;;;;AAuBJ;;AACE;;AACF;;;;;;AACA;;AACE;;AACD;;;;;;AAQC;;AACE;;AACF;;;;;;AAFyD;;AACvD;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AAcF;;AAGE;;AACF;;;;;;AACA;;AAA4D;;AAAyC;;;;;;AAOjG;;AAA0D;;AAC1D;;;;;;AAD2C;;AAAe;;AAAA;;;;;;AAG5D;;AACE;;AACF;;;;;;AAWA;;AACE;;AACF;;;;;;AACA;;AACE;;AACD;;;;;;AASG;;;;;;AACE;;;;;;AAMJ;;AACE;;AACF;;;;;;AAFiD;;AAC/C;;AAAA;;;;;;AAGJ;;AACE;;AACF;;;;;;AASE;;AAAuE;;AACvE;;;;;;AAD6C;;AAA0B;;AAAA;;;;;;AAIzE;;AACE;;AACF;;;;;;AA0BA;;AACE;;AACF;;;;;;AACA;;AACE;;AACF;;;;;;AAGF;;AACE;;AACH;;;;;;AAMG;;AACE;;AACF;;;;;;AACA;;AACE;;AACF;;;;;;AAgBA;;AACE;;AACF;;;;;;AAEF;;AACE;;AACH;;;;;;AAiBL;;AACE;;AAAsB;;AACxB;;;;;;AAF0G;;;;;;;;AAI1G;;AAA8B;AAAA;;AAAA;;AAAA;AAAA;;AAC5B;;AAAsB;;AACxB;;;;;;;;AA/gBZ;;AAEE;;AACE;;AAEE;;AACE;;AAAoC;;AAAkB;;AACxD;;AACA;;AACA;;AACE;;AACE;;AAAO;;AAAuC;;AAC9C;;AAEA;;AAAkB;AAAA;;AAAA;;AAAA;AAAA;;AACyC;;AAC3D;;AACF;;AACA;;AACE;;AAEE;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAU;;AACrB;;AAAgB;AAAA;;AAAA;;AAAA;AAAA,aAA8B,QAA9B,EAA8B;AAAA;;AAAA;;AAAA,uCACvB,SAAAD,SAAA,KAAc,WAAd,EAA2BC,KADJ,EACU,SAAAD,SAAA,KAAc,kBAAd,EAAkCC,KAD5C;AAC2C,WADzE,EAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AAAhB;;AAMA;;AAEA;;AAGA;;AACA;;AAEF;;AACF;;AACA;;AACE;;AACE;;AAyBF;;AACF;;AAIF;;AACF;;AAGA;;AACE;;AACE;;AAAW;;AAAY;;AACvB;;AACE;AAAA;;AAAA;;AAAA;AAAA;;AADF;;AAEA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAW;;AACtB;;AACE;AAAA;;AAAA;;AAAA;AAAA;;AADF;;AAEA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAGA;;AACA;;AAGF;;AACA;;AACF;;AACA;;AACI;;AACI;;AAAW;;AAAa;;AACxB;;AACE;;AACE;;AACF;;AACF;;AACA;;AAAiC;AAAA;;AAAA;;AAAA;AAAA;;AAC5B;;AAGL;;AACJ;;AACJ;;AACA;;AACE;;AACE;;AAAW;;AAAiB;;AAC5B;;AACE;;AAGF;;AACA;;AAGF;;AAEF;;AAEA;;AACE;;AACE;;AAAW;;AAAoB;;AAC/B;;AACE;;AACE;;AACF;;AACF;;AAEA;;AACI;AAAA;;AAAA;;AAAA;AAAA;;AACD;;AAAqB;;AAAU;;AAChC;;AAIH;;AACC;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAS;;AACpB;;AACE;AAAA;;AAAA;;AAAA,yCAAgC,SAAAD,SAAA,KAAc,QAAd,EAAwBC,KAAxD;AAAuD,WAAvD;;AACA;;AAGF;;AACA;;AAGF;;AACF;;AAEA;;AAaF;;AACA;;AACE;;AASA;;AACE;;AAAO;;AAAM;;AACf;;AACA;;AACE;;AACE;;AAAW;;AAAiB;;AAC5B;;AACE;;AAGF;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAW;;AACtB;;AACE;AAAA;;AAAA;;AAAA;AAAA;;AADF;;AAEF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAQ;;AACnB;;AACE;;AAGF;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAa;;AACxB;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAc;;AACxB;;AACG;;AACE;;AAEF;;AACF;;AACA;;AACE;;AACA;AAAA;;AAAA;;AAAA;AAAA;;AAEE;;AAAqB;;AAAU;;AAC/B;;AAIF;;AACF;;AACF;;AAGF;;AACF;;AAGA;;AACI;;AACI;;AAAW;;AAAc;;AACzB;;AACI;;AAEJ;;AACJ;;AACJ;;AAEA;;AACE;;AACE;;AAAW;;AAAiB;;AAC5B;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAAnC;;AAEA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAW;;AACtB;;AACiB;AAAA;;AAAA;;AAAA;AAAA;;AADjB;;AAEA;;AAKF;;AACF;;AAIF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AAAiB;;AAAsB;;AACzC;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAgB;;AAC3B;;AACA;;AAGA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAgB;;AAC3B;;AACE;;AAGF;;AACA;;AAGF;;AACF;;AAIA;;AACE;;AACE;;AAAW;;AAAU;;AACrB;;AAAoC;AAAA;;AAAA;;AAAA;AAAA,aAAgC,OAAhC,EAAgC;AAAA;;AAAA;;AAAA;AAAA,WAAhC,EAAgC,QAAhC,EAAgC;AAAA;;AAAA;;AAAA,qDAG9B,SAAAD,SAAA,KAAc,SAAd,EAAyBC,KAHK,EAGN,YAHM;AAGN,WAH1B;;AAApC;;AAIF;;AACA;;AAKA;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAO;;AAClB;;AAA+C;AAAA;;AAAA;;AAAA;AAAA;;AAC7C;;AAEF;;AACA;;AAGF;;AACF;;AAGF;;AACA;;AACE;;AACE;;AACE;;AAAW;;AAAgB;;AAC3B;;AACA;;AAGA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAS;;AACpB;;AACE;;AACE;;AAEF;;AACF;;AACA;;AACE;AAAA;;AAAA;;AAAA,uDAA6C,IAA7C;AAAiD,WAAjD,EAAmD,iBAAnD,EAAmD;AAAA;;AAAA;;AAAA;AAAA,WAAnD;;AAEA;;AAGF;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAO;;AAClB;;AAAiD;AAAA;;AAAA;;AAAA;AAAA;;AAE/C;;AAGF;;AACA;;AAGF;;AACF;;AAKF;;AACF;;AACF;;AACF;;AAGA;;AACE;;AACE;;AACE;;AAAiB;;AAAoB;;AACvC;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAAtB;;AAEA;;AAGA;;AAIF;;AACA;;AAGF;;AACA;;AACE;;AACE;;AAAW;;AAAQ;;AACnB;;AACA;;AAGA;;AAMF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAW;;AAAgB;;AAC3B;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;AAAtB;;AAKA;;AAGF;;AACA;;AAGF;;AACF;;AACF;;AAEF;;AACA;;AAUA;;AACE;;AAGA;;AAaF;;AAEF;;AAEF;;AACF;;AACF;;AAEF;;;;;;;;;;;;;;AA7hBM;;AAAA;;AAWQ;;AAAA;;AAeqC;;AAAA,wGAA6B,iBAA7B,EAA6B,KAA7B,EAA6B,UAA7B,EAA6B,qEAA7B;;AAEpB;;AAAA;;AAEC;;AAAA;;AAGe;;AAAA;;AACE;;AAAA;;AAME;;AAAA;;AAuCvB;;AAAA;;AAWA;;AAAA;;AAUV;;AAAA,2FAA+B,KAA/B,EAA+B,eAA/B,EAA+B,KAA/B,EAA+B,cAA/B;;AAE+B;;AAAA;;AACrB;;AAAA;;AASS;;AAAA;;AAEP;;AAAA;;AAI2B;;AAAA;;AAUL;;AAAA;;AAIxB;;AAAA;;AAYF;;AAAA;;AAOwB;;AAAA;;AAKtB;;AAAA;;AAWkB;;AAAA;;AAIlB;;AAAA;;AAMG;;AAAA;;AAeA;;AAAA,8GAAkC,UAAlC,EAAkC,KAAlC;;AAgBkB;;AAAA;;AAIrB;;AAAA;;AAkBqB;;AAAA;;AAIrB;;AAAA;;AAUA;;AAAA;;AAUO;;AAAA;;AAEX;;AAAA;;AAQkC;;AAAA;;AAM9B;;AAAA;;AAW2B;;AAAA;;AAW3B;;AAAA;;AAWA;;AAAA;;AAyBI;;AAAA;;AAGA;;AAAA;;AAU0B;;AAAA;;AAI1B;;AAAA;;AAgBF;;AAAA;;AAKA;;AAAA;;AAOqB;;AAAA;;AAGnB;;AAAA;;AAaA;;AAAA;;AAGA;;AAAA;;AAWF;;AAAA;;AAOwB;;AAAA;;AAItB;;AAAA;;AAWoB;;AAAA;;AAIpB;;AAAA;;AA4BA;;AAAA;;AAGA;;AAAA;;AAKuB;;AAAA;;AAQvB;;AAAA;;AAGA;;AAAA;;AAkBA;;AAAA;;AAIuB;;AAAA;;AAmBZ;;AAAA,uJAA4D,UAA5D,EAA4D,KAA5D;;;;;;;;AA+BzC;;AACE;;AAA0D;AAAA;;AAAA;;AAAA;AAAA;;AAExD;;AACF;;AACF;;;;;;AAHE;;AAAA;;;;;;;;AAKA;;AAA0D;AAAA;;AAAA;;AAAA;AAAA;;AAExD;;AACF;;;;;;AAFA;;;;;;;;AAznCN;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAS;;AACpB;;AACE;;AAAqB;;AAAM;;AAC3B;;AAGF;;AACA;;AAGF;;AACF;;AACF;;AACA;;AACE;;AACE;;AAYF;;AACF;;AACF;;AAEA;;AACE;;AACM;;AAEI;;AAAI;;AAAwB;;AAEhC;;AACN;;AAEA;;AACA;;AACE;;AAA0B;;AAC2B;;AACrD;;AAMA;;AAAU;;AAAQ;;AAA6B;;AAAQ;;AACzD;;AACA;;AACF;;AAEA;;AACE;;AACE;;AACI;;AACI;;AAAqB;;AAAiB;;AAEtC;;AACA;AAAA;;AAAA;;AAAA;AAAA;;AAEA;;AACJ;;AACJ;;AACH;;AACD;;AAKA;;AACE;;AACE;;AAofF;;AAEF;;AAGA;;AAoiBA;;AACE;;AAA4B;AAAA;;AAAA;;AAAA;AAAA;;AAC1B;;AACF;;AACA;;AAMA;;AAMF;;AACF;;;;;;;;AA9nC+B;;AAQe;;AAAA;;AAIxB;;AAAA;;AAQC;;AAAA,sIAA0D,UAA1D,EAA0D,cAA1D;;AA2BS;;AAAA;;AAGxB;;AAAA,0LAAwG,OAAxG,EAAwG,gGAAxG;;AA8BoD;;AAAA;;AA0fvD;;AAAA;;AAuiBc;;AAAA,sIAA0D,UAA1D,EAA0D,GAA1D;;;;UD9mChBC,gC;AAsFX,kDAAoBC,MAApB,EAA4CC,MAA5C,EAAuEC,KAAvE,EAAsGC,cAAtG,EAA8IC,KAA9I,EACUC,QADV,EACuCC,EADvC,EACsEC,UADtE,EACsGC,WADtG,EACwIC,cADxI,EACmLC,GADnL,EACmNC,aADnN,EAEUC,KAFV,EAEsCC,WAFtC,EAEwEC,UAFxE,EAEwGC,MAFxG,EAEkI;AAAA;;AAF9G,eAAAf,MAAA,GAAAA,MAAA;AAAwB,eAAAC,MAAA,GAAAA,MAAA;AAA2B,eAAAC,KAAA,GAAAA,KAAA;AAA+B,eAAAC,cAAA,GAAAA,cAAA;AAAwC,eAAAC,KAAA,GAAAA,KAAA;AACpI,eAAAC,QAAA,GAAAA,QAAA;AAA6B,eAAAC,EAAA,GAAAA,EAAA;AAA+B,eAAAC,UAAA,GAAAA,UAAA;AAAgC,eAAAC,WAAA,GAAAA,WAAA;AAAkC,eAAAC,cAAA,GAAAA,cAAA;AAA2C,eAAAC,GAAA,GAAAA,GAAA;AAAgC,eAAAC,aAAA,GAAAA,aAAA;AACzM,eAAAC,KAAA,GAAAA,KAAA;AAA4B,eAAAC,WAAA,GAAAA,WAAA;AAAkC,eAAAC,UAAA,GAAAA,UAAA;AAAgC,eAAAC,MAAA,GAAAA,MAAA;AAvFxG,eAAAC,aAAA,GAAgB,IAAI,0DAAJ,EAAhB;AAEA,eAAAC,eAAA,GAAuB,EAAvB;AAGA,eAAAC,SAAA,GAAY,KAAZ;AACA,eAAAC,QAAA,GAAW,EAAX;AACA,eAAAC,OAAA,GAAUA,OAAV;AAIA,eAAAC,gBAAA,GAAwB,EAAxB;AACA,eAAAC,mBAAA,GAA+B,IAA/B;AACA,eAAAC,WAAA,GAAqB,EAArB;AACA,eAAAC,WAAA,GAAqB,EAArB;AACA,eAAAC,YAAA,GAAsB,EAAtB;AACA,eAAAC,UAAA,GAAoB,EAApB;AACA,eAAAC,SAAA,GAAmB,EAAnB;AACA,eAAAC,cAAA,GAAwB,EAAxB;AACA,eAAAC,iBAAA,GAA2B,EAA3B;AACA,eAAAC,gBAAA,GAA0B,EAA1B;AACA,eAAAC,qBAAA,GAA+B,EAA/B;AACA,eAAAC,MAAA,GAAkB,KAAlB,CAiEkI,CA/DlI;;AACA,eAAAC,eAAA,GAAuB,EAAvB;AACA,eAAAC,gBAAA,GAAmB,EAAnB;AAGA,eAAAC,cAAA,GAA0B,KAA1B;AAEA,eAAAC,QAAA,GAAW,IAAIC,IAAJ,EAAX;AACA,eAAAC,OAAA,GAAU,IAAID,IAAJ,EAAV;AACA,eAAAE,OAAA,GAAU,IAAIF,IAAJ,EAAV;AACA,eAAAG,SAAA,GAAY,IAAIH,IAAJ,EAAZ;AACA,eAAAI,WAAA,GAAuB,IAAvB;AACA,eAAAC,UAAA,GAAsB,KAAtB;AACA,eAAAC,WAAA,GAAuB,KAAvB;AAGA,eAAAC,cAAA,GAA0B,KAA1B;AACA,eAAAC,WAAA,GAAsB,EAAtB;AACA,eAAAC,SAAA,GAAqB,KAArB;AACA,eAAAC,OAAA,GAAmB,IAAnB;AAGA,eAAAC,aAAA,GAAyB,KAAzB;AACA,eAAAC,iBAAA,GAAyB,IAAzB;AAEA,eAAAC,cAAA,GAAsB,EAAtB;AAKA,eAAAC,iBAAA,GAA6B,KAA7B;AAgBA,eAAAC,WAAA,GAAuB,KAAvB;AACA,eAAAC,UAAA,GAAsB,KAAtB;AACA,eAAAC,cAAA,GAA0B,KAA1B;AAIA,eAAAC,cAAA,GAA0B,KAA1B;AACA,eAAAC,SAAA,GAAqB,KAArB;AAIA,eAAAC,cAAA,GAA0B,IAA1B;AACA,eAAAC,UAAA,GAAsB,KAAtB;AAME,eAAKtB,QAAL,CAAcuB,OAAd,CAAsB,KAAKvB,QAAL,CAAcwB,OAAd,EAAtB,GACE,KAAKpB,SAAL,CAAemB,OAAf,CAAuB,KAAKnB,SAAL,CAAeoB,OAAf,EAAvB,CADF;AAED;;;;iBAED,oBAAW;AAAA;;AACT,iBAAKxC,OAAL,CAAayC,GAAb,CAAiB,KAAKC,CAAtB;AACA,iBAAKC,cAAL,GAAsB,KAAtB;AACA,iBAAKC,cAAL,GAAsB,KAAtB,CAHS,CAIT;;AACA,iBAAKC,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AACA9C,mBAAO,CAACyC,GAAR,CAAY,KAAKI,MAAjB;AACA,gBAAIE,WAAW,GAAG,KAAKjE,KAAL,CAAWkE,QAAX,CAAoBC,MAApB,CAA2B,IAA3B,CAAlB,CAPS,CAQT;;AACA,iBAAKzB,cAAL,GAAsB0B,IAAI,CAACC,KAAL,CAAW,KAAKjE,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAX,CAAtB;AACA,iBAAKpB,SAAL,GAAiB,KAAKxC,EAAL,CAAQ4D,OAAR,CAAgB,aAAhB,KAAkC,KAAnD;AACA9C,mBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2B,KAAKf,SAAhC;AAEA,iBAAK0B,gBAAL,GAAwB,KAAKlE,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAAxB,CAbS,CAcT;;AACA,iBAAKO,iBAAL;AACA,iBAAKC,iBAAL;AACA,iBAAKC,iBAAL,CAAuB,WAAvB;AACA,iBAAKC,cAAL,CAAoB,QAApB;AACA,iBAAKC,cAAL,CAAoB,QAApB;AACA,iBAAKC,mBAAL,CAAyB,WAAzB;AACA,iBAAKC,cAAL,CAAoB,SAApB;AACA,iBAAKC,aAAL,CAAmB,cAAnB;AACA,iBAAKC,gBAAL,GAvBS,CAwBT;AACA;;AAEA,iBAAKC,eAAL,CAAqB,eAArB;AACA,iBAAKC,gBAAL,CAAsB,iBAAtB,EA5BS,CA6BT;;AACA,iBAAKC,SAAL,GAAiB,IAAjB;AACA,iBAAKC,QAAL,GAAgB,KAAhB;AACA,iBAAKC,cAAL,GAAsB,IAAtB;;AAEA,gBAAI,KAAKxC,SAAL,IAAkB,IAAtB,EAA4B;AAC1B,mBAAKyC,QAAL,CAAc,OAAd;AACD;;AACD,gBAAI,KAAKtB,MAAL,IAAe,IAAf,IAAuB,KAAKrB,cAAhC,EAAgD;AAC9C,mBAAKT,cAAL,GAAsB,IAAtB;AACA,mBAAKxB,aAAL,CAAmB6E,0BAAnB,CAA8C,KAAKvB,MAAnD,EAA2D,YAA3D,EACGwB,SADH,CACa,UAACC,IAAD,EAAe;AACxB,qBAAI,CAACjB,iBAAL,CAAuBiB,IAAvB;AACD,eAHH,EAGK,UAACC,GAAD,EAAc,CAChB,CAJH;AAKA,mBAAKjB,iBAAL;AACA,mBAAKkB,aAAL;AACD,aATD,MASO;AACL,mBAAKzD,cAAL,GAAsB,KAAtB;AACA,mBAAK0D,YAAL,GAAoB,KAAKtF,UAAL,CAAgBuF,WAAhB,CAA4BL,SAA5B,CAAsC,UAACM,IAAD,EAAe;AACvE3E,uBAAO,CAACyC,GAAR,CAAY,QAAZ,EAAsBkC,IAAtB;AACA,qBAAI,CAACC,YAAL,GAAoBD,IAApB;AACA,qBAAI,CAAC1E,gBAAL,GAAwB0E,IAAI,CAACE,YAA7B,CAHuE,CAIvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,eAZmB,CAApB;AAaD;;AACD,iBAAKC,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCC,YAAvC,CAAoDX,SAApD,CAA8D,UAAAY,GAAG,EAAI;AACnEjF,qBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2BwC,GAA3B;;AAEA,kBAAIA,GAAG,IAAI,OAAX,EAAoB;AAClB,qBAAI,CAACH,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCG,UAAvC,CAAkD,IAAlD;;AACA,qBAAI,CAAChG,EAAL,CAAQiG,OAAR,CAAgB,aAAhB,EAA+B,IAA/B;;AACA,qBAAI,CAACL,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CG,UAA7C,CAAwD,CAAxD,EAA2D;AAAEE,0BAAQ,EAAE,IAAZ;AAAkBC,2BAAS,EAAE;AAA7B,iBAA3D;;AACA,qBAAI,CAACP,gBAAL,CAAsBC,GAAtB,CAA0B,kBAA1B,EAA8CO,KAA9C,GAJkB,CAKlB;;;AACA,qBAAI,CAACrB,QAAL,GAAgB,KAAhB;AACAjE,uBAAO,CAACyC,GAAR,CAAY,8CAAZ,EAA4D,KAAI,CAACqC,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,CAA5D;AACD,eARD,MAQO;AACL,qBAAI,CAACD,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCG,UAAvC,CAAkD,KAAlD;;AACA,qBAAI,CAAChG,EAAL,CAAQiG,OAAR,CAAgB,aAAhB,EAA+B,KAA/B;;AACA,qBAAI,CAACL,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CG,UAA7C,CAAwD,CAAxD,EAA2D;AAAEE,0BAAQ,EAAE,IAAZ;AAAkBC,2BAAS,EAAE;AAA7B,iBAA3D;AACD;AACF,aAhBD;AAiBA,iBAAKP,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CC,YAA7C,CAA0DX,SAA1D,CAAoE,UAAAY,GAAG,EAAI;AACzEjF,qBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2BwC,GAA3B;;AACA,kBAAIA,GAAG,IAAI,CAAX,EAAc;AACZ,qBAAI,CAACH,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCG,UAAvC,CAAkD,MAAlD,EAA0D;AAAEE,0BAAQ,EAAE,IAAZ;AAAkBC,2BAAS,EAAE;AAA7B,iBAA1D;;AACA,qBAAI,CAAC5G,SAAL,CAAesG,GAAf,CAAmB,kBAAnB,EAAuCG,UAAvC,CAAkD,IAAlD;;AACA,qBAAI,CAACzG,SAAL,CAAesG,GAAf,CAAmB,iBAAnB,EAAsCG,UAAtC,CAAiD,IAAjD;AACD,eAJD,MAIO;AACL,qBAAI,CAACJ,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCG,UAAvC,CAAkD,OAAlD,EAA2D;AAAEE,0BAAQ,EAAE,IAAZ;AAAkBC,2BAAS,EAAE;AAA7B,iBAA3D;;AACA,qBAAI,CAAC5G,SAAL,CAAesG,GAAf,CAAmB,kBAAnB,EAAuCG,UAAvC,CAAkD,IAAlD;;AACA,qBAAI,CAACzG,SAAL,CAAesG,GAAf,CAAmB,iBAAnB,EAAsCG,UAAtC,CAAiD,KAAjD;;AACA,qBAAI,CAACjB,QAAL,GAAgB,KAAhB;AACD;AACF,aAZD;AAaAjE,mBAAO,CAACyC,GAAR,CAAY,KAAKqC,gBAAjB;AAED;;;iBAED,yBAAgB;AAAA;;AACd,iBAAKS,eAAL,GAAuB,KAAKrG,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAAvB;AACA9C,mBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2B,KAAK8C,eAAhC;;AACA,gBAAI,KAAKA,eAAL,IAAwB,OAA5B,EAAqC;AACnCvF,qBAAO,CAACyC,GAAR,CAAY,SAAZ;AACA,mBAAKqC,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CS,QAA7C,CAAsD,CAAtD;AACD,aAHD,MAGO;AACL,mBAAKV,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CS,QAA7C,CAAsD,CAAtD;AACD;;AAED,iBAAKC,cAAL,GAAsB,KAAKvG,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAtB;AACA,iBAAK9C,OAAL,CAAayC,GAAb,CAAiB,KAAKgD,cAAtB;;AACA,gBAAI,KAAKA,cAAL,IAAuB,CAA3B,EAA8B;AAC5B,mBAAKX,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCS,QAAvC,CAAgD,MAAhD;AACD,aAFD,MAEO;AACL,mBAAKV,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCS,QAAvC,CAAgD,OAAhD;AACD;;AAGD,iBAAK/G,SAAL,CAAesG,GAAf,CAAmB,QAAnB,EACGC,YADH,CAEGU,IAFH,CAEQ,kEAFR,EAGGrB,SAHH,CAGa,gBAA8B;AAAA;AAAA,kBAA5BsB,IAA4B;AAAA,kBAAtBC,IAAsB;;AACvC,oBAAI,CAACnH,SAAL,CAAesG,GAAf,CAAmB,UAAnB,EAA+BG,UAA/B,CAA0C,EAA1C;;AACA,oBAAI,CAACzG,SAAL,CAAesG,GAAf,CAAmB,YAAnB,EAAiCG,UAAjC,CAA4C,EAA5C;AACD,aANH;AAQA,iBAAKxF,UAAL,CAAgBmG,YAAhB,CACGxB,SADH,CACa,UAAC5C,WAAD,EAAyB;AAClC,oBAAI,CAACA,WAAL,GAAmBA,WAAnB;AACD,aAHH;AAKA,iBAAK1C,cAAL,CAAoB+G,OAApB,CAA4BzB,SAA5B,CAAsC,UAAC0B,GAAD,EAAc;AAClD,oBAAI,CAACvE,cAAL,GAAsB0B,IAAI,CAACC,KAAL,CAAW,MAAI,CAACjE,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAX,CAAtB;;AACA,oBAAI,CAACxD,GAAL,CAAS0G,YAAT;AACD,aAHD;AAIA,iBAAKC,SAAL,GAAiB,KAAK/G,EAAL,CAAQ4D,OAAR,CAAgB,iBAAhB,CAAjB;AACA,iBAAK9C,OAAL,CAAayC,GAAb,CAAiB,YAAjB,EAA+B,KAAKwD,SAApC;AAED;;;iBACD,kCAAyBtB,IAAzB,EAAoC;AAClC,iBAAKuB,YAAL,CAAkBvB,IAAI,CAACwB,OAAvB,EADkC,CAElC;;AACA,gBAAIC,aAAa,GAAG;AAClBH,uBAAS,EAAE,KAAK7C,gBADE;AAElBiD,oBAAM,EAAE1B,IAAI,CAAC0B,MAFK;AAGlBC,8BAAgB,EAAE,IAHA;AAIlBC,6BAAe,EAAE,IAJC;AAKlBC,wBAAU,EAAE7B,IAAI,CAAC6B,UALC;AAMlBC,uBAAS,EAAE9B,IAAI,CAAC8B,SANE;AAOlBC,wBAAU,EAAE/B,IAAI,CAAC+B,UAPC;AAQlBC,sBAAQ,EAAEhC,IAAI,CAACgC,QARG;AASlBC,oBAAM,EAAEjC,IAAI,CAACiC,MATK;AAUlBC,yBAAW,EAAE,KAAKC,WAAL,CAAiBnC,IAAI,CAACkC,WAAtB,CAVK;AAWlBE,0BAAY,EAAEpC,IAAI,CAACoC,YAXD;AAYlBC,6BAAe,EAAErC,IAAI,CAACqC,eAZJ;AAalBC,yBAAW,EAAEtC,IAAI,CAACsC,WAbA;AAclBC,gCAAkB,EAAEvC,IAAI,CAACuC,kBAdP;AAelBC,4BAAc,EAAExC,IAAI,CAACwC,cAfH;AAgBlBC,oBAAM,EAAEzC,IAAI,CAACyC,MAhBK;AAiBlBC,sBAAQ,EAAE1C,IAAI,CAAC0C,QAjBG;AAkBlBC,wBAAU,EAAE,KAAKR,WAAL,CAAiBnC,IAAI,SAAJ,IAAAA,IAAI,WAAJ,GAAI,MAAJ,GAAAA,IAAI,CAAE2C,UAAvB,KAAsC,EAlBhC;AAmBlBC,yBAAW,EAAE5C,IAAI,CAAC4C,WAnBA;AAoBlBC,sBAAQ,EAAE7C,IAAI,CAAC6C,QApBG;AAqBlBC,sBAAQ,EAAE9C,IAAI,CAAC8C,QArBG;AAsBlBC,kBAAI,EAAE/C,IAAI,CAAC+C,IAtBO;AAuBlBvB,qBAAO,EAAExB,IAAI,CAACwB,OAvBI;AAwBlBwB,mBAAK,EAAEhD,IAAI,CAACgD,KAxBM;AAyBlBC,qBAAO,EAAEjD,IAAI,CAACiD,OAzBI;AA0BlBC,yBAAW,EAAElD,IAAI,CAACkD,WA1BA;AA2BlBC,4BAAc,EAAEnD,IAAI,CAACmD,cA3BH;AA4BlBC,gCAAkB,EAAEpD,IAAI,CAACoD,kBA5BP;AA6BlBC,2BAAa,EAAErD,IAAI,CAACqD,aA7BF;AA8BlBC,0BAAY,EAAEtD,IAAI,CAACsD;AA9BD,aAApB;AAkCA,iBAAKxJ,SAAL,CAAeyG,UAAf,CAA0BkB,aAA1B;AACD;;;iBAGD,sBAAa8B,GAAb,EAAkB;;;AAChBlI,mBAAO,CAACyC,GAAR,CAAY,OAAZ,EAAqByF,GAArB;AACAlI,mBAAO,CAACyC,GAAR,CAAY,yBAAZ,EAAuC,KAAKxC,gBAA5C;AACA,iBAAKoC,cAAL,GAAsB,IAAtB;;AACA,gBAAI6F,GAAG,KAAK,aAAZ,EAA2B;AACzB;AACA,mBAAKzJ,SAAL,CAAesG,GAAf,CAAmB,YAAnB,EAAiCoD,eAAjC;AACA,mBAAK9F,cAAL,GAAsB,KAAtB;AACD;;AACD,gBAAI+F,QAAQ,GAAQ,KAAKnI,gBAAL,CAAsBoI,MAAtB,CAA6B,UAAAC,IAAI,EAAI;AACvD,qBAAOA,IAAI,CAAClB,MAAL,IAAec,GAAtB;AACD,aAFmB,CAApB;AAGAlI,mBAAO,CAACyC,GAAR,CAAY,YAAZ,EAA0B2F,QAA1B;;AACA,gBAAIA,QAAQ,CAACG,MAAT,GAAkB,CAAtB,EAAyB;AACvB,mBAAK9J,SAAL,CAAesG,GAAf,CAAmB,UAAnB,EAA+BG,UAA/B,CAA0CkD,QAAQ,CAAC,CAAD,CAAR,CAAYf,QAAtD;AACA,mBAAK5I,SAAL,CAAesG,GAAf,CAAmB,YAAnB,EAAiCG,UAAjC,CAA4C,KAAK4B,WAAL,CAAiB,CAAD,KAACsB,QAAQ,CAAC,CAAD,CAAR,MAAW,IAAX,IAAW,aAAX,GAAW,MAAX,GAAW,GAAEd,UAA9B,KAA6C,EAAzF;AACD,aAHD,MAGO;AACL,mBAAK7I,SAAL,CAAesG,GAAf,CAAmB,UAAnB,EAA+BG,UAA/B,CAA0C,EAA1C;AACA,mBAAKzG,SAAL,CAAesG,GAAf,CAAmB,YAAnB,EAAiCG,UAAjC,CAA4C,EAA5C;AACD;AACF;;;iBAED,uBAAcxG,KAAd,EAAqB;AACnB,mBACE8J,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BjK,KAA/B,MAA0C,iBAA1C,IACAwE,IAAI,CAAC0F,SAAL,CAAelK,KAAf,MAA0B,IAF5B;AAID;;;iBAED,oBAAWmK,KAAX,EAAkB;AAChB,gBAAIC,QAAQ,GAAGD,KAAK,CAACE,OAArB;AACA,gBAAKD,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,GAAG,EAA7B,IAAqCA,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,GAAG,GAAjE,IAAyEA,QAAQ,IAAI,CAAzF,EACE,OAAO,IAAP,CADF,KAGE,OAAO,KAAP;AACH;;;iBAED,uBAAcE,OAAd,EAAuB;;;AACrBhJ,mBAAO,CAACyC,GAAR,CAAY,KAAKqC,gBAAjB;AAEA9E,mBAAO,CAACyC,GAAR,CAAY,sBAAZ,EAAoCuG,OAApC;AACA,iBAAKlE,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CkE,OAA7C,CAAqD;AAAE7D,sBAAQ,EAAE,IAAZ;AAAkBC,uBAAS,EAAE;AAA7B,aAArD,EAJqB,CAKrB;AACA;AACA;AACA;AACA;;AACA,gBAAI6D,OAAJ;AACA,iBAAKlJ,OAAL,CAAayC,GAAb,CAAiBuG,OAAO,CAACG,WAAR,CAAoBZ,MAArC;;AACA,gBAAIS,OAAO,CAACG,WAAR,CAAoBZ,MAApB,GAA6B,CAAjC,EAAoC;AAClCW,qBAAO,GAAGF,OAAO,CAACG,WAAR,CAAoBC,IAApB,CAAyB,UAACd,IAAD;AAAA,uBAAeA,IAAI,CAACf,WAAL,IAAoB,WAAnC;AAAA,eAAzB,CAAV;AACD,aAFD,MAEO;AACL2B,qBAAO,GAAGF,OAAO,CAACG,WAAR,CAAoB,CAApB,CAAV;AACD;;AACD,iBAAKjD,YAAL,CAAkBgD,OAAO,CAAC/C,OAA1B,EAjBqB,CAkBrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAIkD,YAAY,GAAG;AACjB/C,8BAAgB,EAAE0C,OAAO,CAAC1C,gBADT;AAEjBgD,yBAAW,EAAEN,OAAO,CAACM,WAFJ;AAGjB/C,6BAAe,EAAEyC,OAAO,CAACzC,eAHR;AAIjBN,uBAAS,EAAE+C,OAAO,CAAC/C,SAJF;AAKjBI,oBAAM,EAAE2C,OAAO,CAAC3C,MALC;AAMjBI,uBAAS,EAAEuC,OAAO,CAACvC,SANF;AAQjBC,wBAAU,EAAEsC,OAAO,CAACtC,UARH;AASjBC,sBAAQ,EAAEqC,OAAO,CAACrC,QATD;AAUjBC,oBAAM,EAAEoC,OAAO,CAACpC,MAVC;AAWjBC,yBAAW,EAAEmC,OAAO,CAACnC,WAXJ;AAYjBE,0BAAY,EAAEiC,OAAO,CAACjC,YAZL;AAajBC,6BAAe,EAAEgC,OAAO,CAAChC,eAbR;AAcjBC,yBAAW,EAAE+B,OAAO,CAAC/B,WAdJ;AAejBC,gCAAkB,EAAE8B,OAAO,CAAC9B,kBAfX;AAgBjBC,4BAAc,EAAE6B,OAAO,CAAC7B,cAhBP;AAiBjBC,oBAAM,EAAE4B,OAAO,CAACnE,YAAR,CAAqB,CAArB,EAAwBuC,MAjBf;AAkBjBC,sBAAQ,EAAE2B,OAAO,CAACnE,YAAR,CAAqB,CAArB,EAAwBwC,QAlBjB;AAmBjBC,wBAAU,EAAE,OAAA0B,OAAO,CAACnE,YAAR,CAAqB,CAArB,OAAuB,IAAvB,IAAuB,aAAvB,GAAuB,MAAvB,GAAuB,GAAEyC,UAAzB,KAAuC,EAnBlC;AAoBjBC,yBAAW,EAAE2B,OAAO,CAAC3B,WApBJ;AAqBjBC,sBAAQ,EAAE0B,OAAO,CAAC1B,QArBD;AAsBjBC,sBAAQ,EAAEyB,OAAO,CAACzB,QAtBD;AAuBjBC,kBAAI,EAAEwB,OAAO,CAACxB,IAvBG;AAwBjBC,mBAAK,EAAEuB,OAAO,CAACvB,KAxBE;AAyBjBxB,qBAAO,EAAE+C,OAAO,CAAC/C,OAzBA;AA0BjByB,qBAAO,EAAEsB,OAAO,CAACtB,OA1BA;AA2BjBC,yBAAW,EAAEmB,OAAO,CAACnB,WA3BJ;AA4BjBC,4BAAc,EAAEkB,OAAO,CAAClB,cA5BP;AA6BjBC,gCAAkB,EAAEiB,OAAO,CAACjB,kBA7BX;AA8BjBC,2BAAa,EAAEgB,OAAO,CAAChB,aA9BN;AA+BjBC,0BAAY,EAAEe,OAAO,CAACf;AA/BL,aAAnB;AAiCAjI,mBAAO,CAACyC,GAAR,CAAY,oBAAZ,EAAkCuG,OAAO,CAACvC,SAA1C,EA3DqB,CA4DrB;;AACA,iBAAK5E,iBAAL,GAAyBmH,OAAzB;AACAhJ,mBAAO,CAACyC,GAAR,CAAY,cAAZ,EAA4B4G,YAA5B;AACA,iBAAK5K,SAAL,CAAeyG,UAAf,CAA0BmE,YAA1B,EAAwC;AAAEjE,sBAAQ,EAAE,KAAZ;AAAmBC,uBAAS,EAAE;AAA9B,aAAxC;AACA,iBAAKkE,uBAAL,CAA6BF,YAAY,CAACpB,YAA1C;AACA,iBAAKuB,oBAAL,CAA0BH,YAAY,CAACnC,kBAAvC;AACA,iBAAKuC,uBAAL,CAA6BJ,YAAY,CAACpC,WAA1C;AACA,iBAAKyC,oBAAL,CAA0BL,YAAY,CAAClD,OAAvC;AACA,iBAAKwD,cAAL,CAAoBN,YAAY,CAACpB,YAAjC,EApEqB,CAqErB;;AACA,iBAAK3I,GAAL,CAAS0G,YAAT;AACAhG,mBAAO,CAACyC,GAAR,CAAY,KAAKZ,iBAAjB;AAED;;;iBAED,yBAAgB;AACd,iBAAK+H,YAAL;AACD;AAED;;;;;;iBAGA,wBAAY;AACV,iBAAK/H,iBAAL,GAAyB,IAAzB;AACA,iBAAKpD,SAAL,CAAe6G,KAAf;AACA,iBAAKR,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6C8E,MAA7C,CAAoD;AAAEzE,sBAAQ,EAAE;AAAZ,aAApD;AAED;;;iBAED,6BAAoB;AAAA;;AAClB,iBAAKpD,WAAL,GAAmB,KAAnB;AACA,iBAAKC,UAAL,GAAkB,KAAlB;AACA,iBAAKE,cAAL,GAAsB,KAAtB;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAK7C,aAAL,CAAmB6E,0BAAnB,CAA8C,KAAKvB,MAAnD,EAA2D,YAA3D,EACGwB,SADH,CACa,UAACC,IAAD,EAAe;AACxB,oBAAI,CAACxC,cAAL,GAAsBwC,IAAI,CAACwF,MAAL,IAAe,GAAf,GAAqBxF,IAAI,CAACK,IAAL,CAAUoF,GAAV,CAAc,UAAArL,KAAK;AAAA,uBAAK,MAAD,OAAC,CAAD,kBAAMA,KAAN,CAAC,EAAU;AAAEsL,qBAAG,EAAEC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,WAA3B;AAAP,iBAAV,CAAL;AAAA,eAAnB,CAArB,GAA4G,EAAlI;;AACA,oBAAI,CAACnK,OAAL,CAAayC,GAAb,CAAiB,sBAAjB,EAAyC,MAAI,CAACX,cAA9C;;AACA9B,qBAAO,CAACyC,GAAR,CAAY,sBAAZ,EAAoC,MAAI,CAACX,cAAL,CAAoByG,MAAxD;AACAjE,kBAAI,CAACwF,MAAL,IAAe,GAAf,GAAqB,MAAI,CAAC5K,EAAL,CAAQiG,OAAR,CAAgB,KAAhB,EAAuBb,IAAI,CAACK,IAAL,CAAU,CAAV,EAAa6B,UAApC,CAArB,GAAuE,IAAvE;AACAxG,qBAAO,CAACyC,GAAR,CAAY,gBAAZ,EAA8B,MAAI,CAACX,cAAL,CAAoByG,MAAlD;AACA,kBAAM6B,cAAc,GAAG,CAAC,QAAD,EAAW,WAAX,EAAwB,UAAxB,EAAoC,aAApC,EAAmD,QAAnD,EAA6D,cAA7D,EAA6E,cAA7E,EAA6F,iBAA7F,EAAgH,oBAAhH,EAAsI,aAAtI,EAAqJ,eAArJ,EAAsK,gBAAtK,EAAwL,aAAxL,EAAuM,oBAAvM,CAAvB;AACA,kBAAMvF,YAAY,GAAG,CAAC,QAAD,EAAW,YAAX,EAAyB,UAAzB,CAArB;AACA,kBAAMsE,WAAW,GAAG,CAAC,UAAD,EAAa,UAAb,EAAyB,aAAzB,EAAwC,SAAxC,EAAmD,OAAnD,EAA4D,MAA5D,EAAoE,SAApE,CAApB;;AACA,oBAAI,CAACrH,cAAL,CAAoBiI,GAApB,CAAwB,UAACM,GAAD,EAAyG;AAC/HD,8BAAc,CAACL,GAAf,CAAmB,UAAAO,KAAK,EAAI;AAC1B,sBAAID,GAAG,CAACC,KAAD,CAAH,IAAc,IAAlB,EAAwB;AACtBzF,gCAAY,CAACkF,GAAb,CAAiB,UAAAQ,EAAE,EAAI;AACrB,0BAAIF,GAAG,CAACxF,YAAJ,CAAiB0F,EAAjB,KAAwB,IAA5B,EAAkC;AAChCpB,mCAAW,CAACY,GAAZ,CAAgB,UAAAb,OAAO,EAAI;AACzB,8BAAImB,GAAG,CAAClB,WAAJ,CAAgBD,OAAhB,KAA4B,IAAhC,EAAsC;AACpC,mCAAO,MAAI,CAAChJ,mBAAL,GAA2B,KAAlC;AACD,2BAFD,MAEO;AACL,mCAAO,MAAI,CAACA,mBAAL,GAA2B,IAAlC;AACD;AACF,yBAND;AAOD,uBARD,MAQO;AACL,+BAAO,MAAI,CAACA,mBAAL,GAA2B,IAAlC;AACD;AACF,qBAZD;AAaD,mBAdD,MAcO;AACL,2BAAO,MAAI,CAACA,mBAAL,GAA2B,IAAlC;AACD;AACF,iBAlBD;AAmBAF,uBAAO,CAACyC,GAAR,CAAY,sBAAZ,EAAoC,MAAI,CAACvC,mBAAzC;AAED,eAtBD;;AAwBA,kBAAI,MAAI,CAAC4B,cAAL,CAAoByG,MAApB,IAA8B,CAAlC,EAAqC;AACnC,sBAAI,CAAC9J,SAAL,CAAesG,GAAf,CAAmB,kBAAnB,EAAuCG,UAAvC,CAAkD,IAAlD;;AACA,sBAAI,CAACzG,SAAL,CAAesG,GAAf,CAAmB,iBAAnB,EAAsCG,UAAtC,CAAiD,IAAjD;AACD,eAHD,MAGO,IAAI,MAAI,CAACpD,cAAL,CAAoByG,MAApB,IAA8B,CAAlC,EAAqC;AAC1C,sBAAI,CAAC9J,SAAL,CAAesG,GAAf,CAAmB,kBAAnB,EAAuCG,UAAvC,CAAkD,IAAlD;;AACA,sBAAI,CAACzG,SAAL,CAAesG,GAAf,CAAmB,iBAAnB,EAAsCG,UAAtC,CAAiD,KAAjD;AACD,eAHM,MAGA,IAAI,MAAI,CAACpD,cAAL,CAAoByG,MAApB,IAA8B,CAAlC,EAAqC;AAC1C,sBAAI,CAACzD,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCG,UAAvC,CAAkD,OAAlD;;AACA,sBAAI,CAACzG,SAAL,CAAesG,GAAf,CAAmB,kBAAnB,EAAuCG,UAAvC,CAAkD,IAAlD;;AACA,sBAAI,CAACzG,SAAL,CAAesG,GAAf,CAAmB,iBAAnB,EAAsCG,UAAtC,CAAiD,KAAjD;;AACA,qBAAK,IAAIsF,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGlG,IAAI,CAACK,IAAL,CAAU4D,MAAtC,EAA8CiC,KAAK,EAAnD,EAAuD;AACrD,sBAAMC,OAAO,GAAGnG,IAAI,CAACK,IAAL,CAAU6F,KAAV,CAAhB;AACAxK,yBAAO,CAACyC,GAAR,CAAY,gBAAZ,EAA8BgI,OAA9B;;AACA,wBAAI,CAAC3F,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CG,UAA7C,CAAwDZ,IAAI,CAACK,IAAL,CAAU6F,KAAV,EAAiBE,eAAzE;AACD;AACF;;AAED,oBAAI,CAACpL,GAAL,CAAS0G,YAAT;;AAEA,oBAAI,CAAC2E,aAAL;AACD,aAtDH,EAsDK,UAACpG,GAAD,EAAc,CAEhB,CAxDH;AAyDD;;;iBAED,yBAAgByE,OAAhB,EAAyB;AAAA;;AACvB,iBAAK3J,cAAL,CACGuL,OADH,CACW;AAAEC,mBAAK,EAAE,SAAT;AAAoBC,qBAAO,EAAE,8BAA7B;AAA6DC,gBAAE,EAAE,KAAjE;AAAwEC,oBAAM,EAAE;AAAhF,aADX,EAEG3G,SAFH,CAEa,UAAA0B,GAAG,EAAI;AAChB/F,qBAAO,CAACyC,GAAR,CAAY,gBAAZ,EAA8BsD,GAA9B;;AACA,kBAAIA,GAAJ,EAAS;AACP,sBAAI,CAACxG,aAAL,CAAmB0L,eAAnB,CAAmCjC,OAAO,CAACxC,UAA3C,EAAuDwC,OAAO,CAACM,WAA/D,EACGjF,SADH,CACa,UAAC0B,GAAD,EAAc,CACxB,CAFH,EAEK,UAACxB,GAAD,EAAc;AACfvE,yBAAO,CAACyC,GAAR,CAAY8B,GAAZ;;AACA,sBAAIA,GAAG,CAACuF,MAAJ,IAAc,GAAlB,EAAuB;AACrB,0BAAI,CAACtK,KAAL,CAAW0L,IAAX,qBAA6BlC,OAAO,CAACvC,SAArC,cAAkDlC,GAAG,CAAC4G,KAAJ,CAAUC,IAA5D,QAAqE,IAArE,EAA2E;AACzEC,8BAAQ,EAAE,IAD+D;AAEzEC,sCAAgB,EAAE,KAFuD;AAGzEC,wCAAkB,EAAE;AAHqD,qBAA3E;;AAKA,0BAAI,CAACjI,iBAAL;AACD;AACF,iBAZH;AAaD,eAdD,MAcO;AACR,aAnBH;AAoBD;;;iBAED,oBAAW2C,SAAX,EAAsBuF,kBAAtB,EAA0C;AAAA;;AACxC,gBAAI,KAAK1J,cAAL,CAAoB2J,IAApB,CAAyB,UAAApB,GAAG;AAAA,qBAAIA,GAAG,CAACpE,SAAJ,IAAiBA,SAArB;AAAA,aAA5B,CAAJ,EAAiE;AAC/D,mBAAKtD,cAAL,GAAsB,IAAtB;AACA,mBAAKC,cAAL,GAAsB,IAAtB;AACA,mBAAKpD,KAAL,CAAW0L,IAAX,CAAgB,sBAAhB,EAAwC,IAAxC,EAA8C;AAC5CG,wBAAQ,EAAE,IADkC;AAE5CC,gCAAgB,EAAE,KAF0B;AAG5CC,kCAAkB,EAAE;AAHwB,eAA9C;AAKD,aARD,MAQO;AACL,mBAAK5I,cAAL,GAAsB,KAAtB;AACA,mBAAKC,cAAL,GAAsB,KAAtB;AACA,mBAAK8I,QAAL,GAAgB,IAAhB;AACA,mBAAKC,gBAAL,GAAwB,IAAxB;AACA1F,uBAAS,IAAI,KAAK1G,aAAL,CAAmBqM,UAAnB,CAA8B3F,SAA9B,EAAyC5B,SAAzC,CAAmD,UAAC0B,GAAD,EAAc;;;AAC5E/F,uBAAO,CAACyC,GAAR,CAAYsD,GAAZ,EAD4E,CAE5E;;AACA,oBAAI,CAACA,GAAL,EAAU;AACR,wBAAI,CAACzE,UAAL,GAAkB,KAAlB;;AACA,wBAAI,CAAC9B,KAAL,CAAW0L,IAAX,CAAgB,oBAAhB,EAAsC,IAAtC,EAA4C;AAC1CG,4BAAQ,EAAE,IADgC;AAE1CC,oCAAgB,EAAE,KAFwB;AAG1CC,sCAAkB,EAAE;AAHsB,mBAA5C;;AAKA,wBAAI,CAAC9M,SAAL,CAAesG,GAAf,CAAmB,WAAnB,EAAgCG,UAAhC,CAA2C,EAA3C;;AACA;AACD,iBATD,MASO;AACL,wBAAI,CAACzG,SAAL,CAAesG,GAAf,CAAmB,YAAnB,EAAiCoD,eAAjC;;AACA,wBAAI,CAAC7G,UAAL,GAAkB,IAAlB;;AACA,wBAAI,CAACpC,EAAL,CAAQiG,OAAR,CAAgB,KAAhB,EAAuBY,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBrF,UAA/C;;AACA,sBAAI0C,OAAJ;;AACA,wBAAI,CAAClJ,OAAL,CAAayC,GAAb,CAAiBsD,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB1C,WAAxB,CAAoCZ,MAArD;;AACA,sBAAIxC,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB1C,WAAxB,CAAoCZ,MAApC,GAA6C,CAAjD,EAAoD;AAClDW,2BAAO,GAAGnD,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB1C,WAAxB,CAAoCC,IAApC,CAAyC,UAACd,IAAD;AAAA,6BAAeA,IAAI,CAACf,WAAL,IAAoB,WAAnC;AAAA,qBAAzC,CAAV;AACAvH,2BAAO,CAACyC,GAAR,CAAYyG,OAAZ;AACD,mBAHD,MAGO;AACLA,2BAAO,GAAGnD,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB1C,WAAxB,CAAoC,CAApC,CAAV;AACAnJ,2BAAO,CAACyC,GAAR,CAAYyG,OAAZ;AACD;;AACD,sBAAI4C,iBAAiB,GAAG,oCAAM,CAAC,CAAD,KAAC/F,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC,CAArC,OAAuC,IAAvC,IAAuC,aAAvC,GAAuC,MAAvC,GAAuC,GAAEyC,UAA1C,CAAN,CAA4DyE,MAA5D,EAAxB;;AACA,wBAAI,CAAC/L,OAAL,CAAayC,GAAb,CAAiBqJ,iBAAjB;;AACA,wBAAI,CAAC5F,YAAL,CAAkBgD,OAAO,CAAC/C,OAA1B,EAfK,CAgBL;AACA;;;AACA,wBAAI,CAAC6F,wBAAL,CAA8BjG,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB5E,WAAtD;;AAEA,wBAAI,CAACgF,yBAAL,CAA+BlG,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB3E,kBAAvD;;AACAlH,yBAAO,CAACyC,GAAR,CAAYsD,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB5D,YAApC;;AAEA,wBAAI,CAAC0B,cAAL,CAAoB5D,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB5D,YAA5C;;AACA,wBAAI,CAACiE,mBAAL,CAAyBhD,OAAO,CAAC/C,OAAjC;;AAIA,sBAAIC,aAAa,GAAG;AAClBC,0BAAM,EAAEN,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBxF,MADd;AAElBJ,6BAAS,EAAEF,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB5F,SAFjB;AAGlBK,oCAAgB,EAAEkF,kBAHA;AAIlBhF,8BAAU,EAAET,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBrF,UAJlB;AAKlBC,6BAAS,EAAEV,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBpF,SALjB;AAMlBC,8BAAU,EAAEX,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBnF,UANlB;AAOlBC,4BAAQ,EAAEZ,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBlF,QAPhB;AAQlBC,0BAAM,EAAEb,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBjF,MARd;AASlBC,+BAAW,EAAE,MAAI,CAACC,WAAL,CAAiBf,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhF,WAAzC,CATK;AAUlBE,gCAAY,EAAEhB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB9E,YAVpB;AAWlBC,mCAAe,EAAEjB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB7E,eAXvB;AAYlBC,+BAAW,EAAElB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB5E,WAZnB;AAalBC,sCAAkB,EAAEnB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB3E,kBAb1B;AAclBC,kCAAc,EAAEpB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB1E,cAdtB;AAelBC,0BAAM,EAAErB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC0D,MAArC,GAA8C,CAA9C,GAAkDxC,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC,CAArC,EAAwCuC,MAA1F,GAAmG,EAfzF;AAgBlBC,4BAAQ,EAAEtB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC0D,MAArC,GAA8C,CAA9C,GAAkDxC,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC,CAArC,EAAwCwC,QAA1F,GAAqG,EAhB7F;AAiBlBC,8BAAU,EAAEwE,iBAjBM;AAkBlBvE,+BAAW,EAAE2B,OAAO,CAAC3B,WAlBH;AAmBlBC,4BAAQ,EAAE0B,OAAO,CAAC1B,QAnBA;AAoBlBC,4BAAQ,EAAEyB,OAAO,CAACzB,QApBA;AAqBlBC,wBAAI,EAAEwB,OAAO,CAACxB,IArBI;AAsBlBvB,2BAAO,EAAE+C,OAAO,CAAC/C,OAtBC;AAuBlBwB,yBAAK,EAAEuB,OAAO,CAACvB,KAvBG;AAwBlBC,2BAAO,EAAEsB,OAAO,CAACtB,OAxBC;AAyBlBC,+BAAW,EAAE9B,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhE,WAzBnB;AA0BlBC,kCAAc,EAAE/B,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB/D,cA1BtB;AA2BlBC,sCAAkB,EAAEhC,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB9D,kBA3B1B;AA4BlBC,iCAAa,EAAEjC,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB7D,aA5BrB;AA6BlBC,gCAAY,EAAElC,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB5D;AA7BpB,mBAApB;;AA+BA,wBAAI,CAACjI,OAAL,CAAayC,GAAb,CAAiB,oCAAjB,EAAuDsD,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBpF,SAA/E;;AACA,wBAAI,CAAC0F,YAAL,GAAoBpG,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBpF,SAAxB,GAAoC,GAApC,GAA0CV,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBlF,QAAtF,CA5DK,CA6DL;AACA;;AACA,wBAAI,CAAClI,SAAL,CAAeyG,UAAf,CAA0BkB,aAA1B;;AACApG,yBAAO,CAACyC,GAAR,CAAY,MAAI,CAAChE,SAAjB;AACD;;AACD,sBAAI,CAACa,GAAL,CAAS0G,YAAT;AACD,eA/EY,EA+EV,UAACzB,GAAD,EAAc;AACfvE,uBAAO,CAACmL,KAAR,CAAc5G,GAAd;AACD,eAjFY,CAAb;AAkFD;AACF;;;iBAED,yCAAgC;AAAA;;AAC9B,iBAAKhF,aAAL,CAAmB6E,0BAAnB,CAA8C,KAAKvB,MAAnD,EAA2D,YAA3D,EACGwB,SADH,CACa,UAACC,IAAD,EAAe;AACxB,oBAAI,CAACjB,iBAAL,CAAuBiB,IAAvB;AACD,aAHH,EAGK,UAACC,GAAD,EAAc,CAChB,CAJH;AAKD;;;iBAGD,qBAAY7F,KAAZ,EAAmB;AACjB,gBAAI0N,IAAI,GAAG,oCAAM,CAAC1N,KAAD,CAAN,CAAcqN,MAAd,CAAqB,YAArB,KAAsC,IAAjD,CADiB,CACsC;AACvD;;AACA/L,mBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoB2J,IAApB;AACA,gBAAIA,IAAJ,EACE,OAAOA,IAAP;AACH;;;iBAGD,2BAAkBzH,IAAlB,EAAyB;AACvB,iBAAK3E,OAAL,CAAayC,GAAb,CAAiBkC,IAAjB;AAEA,iBAAKG,gBAAL,GAAwB,KAAK1F,WAAL,CAAiBiN,KAAjB,CAAuB;AAC7CC,8BAAgB,EAAE3H,IAAI,GAAGA,IAAI,CAAC2H,gBAAR,GAA2B,KAAKC,SADT;AAE7CC,uBAAS,EAAE7H,IAAI,GAAGA,IAAI,CAACA,IAAL,CAAU,CAAV,EAAa6H,SAAhB,GAA4B,MAFE;AAG7C9B,6BAAe,EAAE/F,IAAI,GAAGA,IAAI,CAACA,IAAL,CAAU,CAAV,EAAa+F,eAAhB,GAAkC,CAHV;AAI7ChJ,uBAAS,EAAEiD,IAAI,GAAGA,IAAI,CAACA,IAAL,CAAU,CAAV,EAAajD,SAAhB,GAA4B,KAAKA,SAJH;AAK7CZ,8BAAgB,EAAE,KAAK2L,gBAAL;AAL2B,aAAvB,CAAxB;AAOD;;;iBAED,yBAAgB;AACd,gBAAI,KAAKhO,SAAL,CAAesG,GAAf,CAAmB,kBAAnB,EAAuCrG,KAAvC,IAAgD,IAApD,EAA0D;AACxD,mBAAKD,SAAL,CAAesG,GAAf,CAAmB,WAAnB,EAAgC8E,MAAhC;AACA,mBAAKpL,SAAL,CAAesG,GAAf,CAAmB,WAAnB,EAAgC2H,aAAhC,CAA8C,CAAC,0DAAWC,QAAZ,CAA9C;AACA,mBAAKlO,SAAL,CAAesG,GAAf,CAAmB,WAAnB,EAAgC6H,sBAAhC;AACD,aAJD,MAKK;AACH,mBAAKnO,SAAL,CAAeyG,UAAf,CAA0B;AAAEe,yBAAS,EAAE;AAAb,eAA1B;AACA,mBAAKtD,cAAL,GAAsB,KAAtB;AACA,mBAAKlE,SAAL,CAAesG,GAAf,CAAmB,WAAnB,EAAgCkE,OAAhC;AACA,mBAAKxK,SAAL,CAAesG,GAAf,CAAmB,WAAnB,EAAgCoD,eAAhC;AACA,mBAAK1J,SAAL,CAAesG,GAAf,CAAmB,WAAnB,EAAgC6H,sBAAhC;AACD;AACF;;;iBAED,yBAAgB;AACd,iBAAKvL,WAAL,GAAmB,CAAC,KAAKA,WAAzB;AACD;;;iBAED,4BAAgB;AACd,mBAAO,KAAKjC,WAAL,CAAiBiN,KAAjB,CAAuB;AAC5B/F,8BAAgB,EAAE,CAAC,IAAD,EAAO,EAAP,CADU;AAE5BC,6BAAe,EAAE,CAAC,IAAD,EAAO,EAAP,CAFW;AAG5BN,uBAAS,EAAE,CAAC,EAAD,CAHiB;AAI5BO,wBAAU,EAAE,CAAC,EAAD,CAJgB;AAK5B8C,yBAAW,EAAE,CAAC,IAAD,CALe;AAM5BjD,oBAAM,EAAE,CAAC,EAAD,EAAK,0DAAWsG,QAAhB,CANoB;AAO5BlG,uBAAS,EAAE,CAAC,EAAD,EAAK,0DAAWkG,QAAhB,CAPiB;AAQ5BjG,wBAAU,EAAE,CAAC,EAAD,CARgB;AAS5BsB,2BAAa,EAAE,CAAC,EAAD,EAAK,0DAAW2E,QAAhB,CATa;AAU5B1E,0BAAY,EAAE,CAAC,EAAD,EAAK,0DAAW0E,QAAhB,CAVc;AAW5BhG,sBAAQ,EAAE,CAAC,EAAD,EAAK,0DAAWgG,QAAhB,CAXkB;AAY5B/F,oBAAM,EAAE,CAAC,EAAD,EAAK,0DAAW+F,QAAhB,CAZoB;AAa5B9F,yBAAW,EAAE,CAAC,EAAD,EAAK,0DAAW8F,QAAhB,CAbe;AAc5B5F,0BAAY,EAAE,CAAC,EAAD,EAAK,0DAAW4F,QAAhB,CAdc;AAe5B3F,6BAAe,EAAE,CAAC,EAAD,EAAK,0DAAW2F,QAAhB,CAfW;AAgB5B1F,yBAAW,EAAE,CAAC,EAAD,EAAK,0DAAW0F,QAAhB,CAhBe;AAiB5BzF,gCAAkB,EAAE,CAAC,EAAD,EAAK,0DAAWyF,QAAhB,CAjBQ;AAkB5BxF,4BAAc,EAAE,CAAC,EAAD,EAAK,0DAAWwF,QAAhB,CAlBY;AAmB5BvF,oBAAM,EAAE,CAAC,EAAD,EAAK,0DAAWuF,QAAhB,CAnBoB;AAoB5BtF,sBAAQ,EAAE,CAAC,EAAD,EAAK,0DAAWsF,QAAhB,CApBkB;AAqB5BrF,wBAAU,EAAE,CAAC,EAAD,CArBgB;AAsB5BC,yBAAW,EAAE,CAAC,EAAD,EAAK,0DAAWoF,QAAhB,CAtBe;AAuB5BnF,sBAAQ,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWmF,QAAZ,EAAsB,0DAAWE,OAAX,CAAmB,cAAnB,CAAtB,CAAL,CAvBkB;AAwB5BpF,sBAAQ,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWkF,QAAZ,EAAsB,0DAAWE,OAAX,CAAmB,cAAnB,CAAtB,CAAL,CAxBkB;AAyB5BnF,kBAAI,EAAE,CAAC,EAAD,EAAK,0DAAWiF,QAAhB,CAzBsB;AA0B5BhF,mBAAK,EAAE,CAAC,EAAD,EAAK,0DAAWgF,QAAhB,CA1BqB;AA2B5BxG,qBAAO,EAAE,CAAC,EAAD,EAAK,0DAAWwG,QAAhB,CA3BmB;AA4B5B/E,qBAAO,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAW+E,QAAZ,EAAsB,0DAAWG,SAAX,CAAqB,CAArB,CAAtB,EAA+C,0DAAWC,SAAX,CAAqB,EAArB,CAA/C,EAAyE,0DAAWF,OAAX,CAAmB,eAAnB,CAAzE,CAAL,CA5BmB;AA6B5BhF,yBAAW,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAW8E,QAAZ,EAAsB,0DAAWG,SAAX,CAAqB,CAArB,CAAtB,EAA+C,0DAAWC,SAAX,CAAqB,EAArB,CAA/C,EAAyE,0DAAWF,OAAX,CAAmB,gBAAnB,CAAzE,CAAL,CA7Be;AA8B5B/E,4BAAc,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAW+E,OAAX,CAAmB,gBAAnB,CAAD,CAAL,CA9BY;AA+B5B9E,gCAAkB,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAW4E,QAAZ,EAAsB,0DAAWK,KAAjC,EAAwC,0DAAWH,OAAX,CAAmB,2CAAnB,CAAxC,CAAL;AA/BQ,aAAvB,CAAP;AAiCD;;;iBAGD,mBAAUhE,KAAV,EAAsB;AACpB,gBAAMgE,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC5BpE,mBAAK,CAACwE,cAAN;AAED;AACF;;;iBAED,8BAAqBxE,KAArB,EAA4B;AAC1B,gBAAIyE,GAAG,GAAGJ,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACE,OAA1B,CAAV;;AACA,gBAAI,cAAcqE,IAAd,CAAmBE,GAAnB,CAAJ,EAA6B;AAC3B,qBAAO,IAAP;AACD,aAFD,MAEO;AACLzE,mBAAK,CAACwE,cAAN;AACA,qBAAO,KAAP;AACD;AACF;;;iBAGD,wBAAexE,KAAf,EAAsB;AACpB,gBAAME,OAAO,GAAGF,KAAK,CAACE,OAAtB;AAEA,gBAAMwE,YAAY,GAAG,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,CAArB;;AAEA,gBAAI,EAAGxE,OAAO,IAAI,EAAX,IAAiBA,OAAO,IAAI,EAA7B,IACHA,OAAO,IAAI,EAAX,IAAiBA,OAAO,IAAI,GADzB,IAEHwE,YAAY,CAACC,QAAb,CAAsBzE,OAAtB,CAFC,CAAJ,EAEqC;AACnCF,mBAAK,CAACwE,cAAN;AACD;AACF,W,CAED;;;;eACA,eAAQ;AAAE,mBAAO,KAAKvI,gBAAL,CAAsB2I,QAA7B;AAAwC;;;eAClD,eAAqB;AAAE,mBAAO,KAAKC,CAAL,CAAOhD,eAAd;AAAgC;;;eACvD,eAAgB;AAAE,mBAAO,KAAKgD,CAAL,CAAO5M,gBAAd;AAAiC;;;iBAInD,wBAAe6M,GAAf,EAA4B;AAAA;;AAC1B,iBAAKxO,UAAL,CAAgByO,iBAAhB,CAAkCD,GAAlC,EAAuCtJ,SAAvC,CAAiD,UAACM,IAAD,EAAU;AACzD,oBAAI,CAACxE,WAAL,GAAmBwE,IAAnB;AACD,aAFD;AAGD;;;iBACD,0BAAiBgJ,GAAjB,EAA8B;AAAA;;AAC5B,iBAAKxO,UAAL,CAAgByO,iBAAhB,CAAkCD,GAAlC,EAAuCtJ,SAAvC,CAAiD,UAACM,IAAD,EAAU;AACzD,oBAAI,CAACkJ,iBAAL,GAAyBlJ,IAAzB;AACD,aAFD;AAGD;;;iBAED,2BAAkBgJ,GAAlB,EAA+B;AAAA;;AAC7B,iBAAKxO,UAAL,CAAgByO,iBAAhB,CAAkCD,GAAlC,EAAuCtJ,SAAvC,CAAiD,UAACM,IAAD,EAAU;AACzD,oBAAI,CAACmJ,cAAL,GAAsBnJ,IAAtB;AACD,aAFD;AAGD;;;iBAED,wBAAegJ,GAAf,EAA4B;AAAA;;AAC1B,iBAAKxO,UAAL,CAAgByO,iBAAhB,CAAkCD,GAAlC,EAAuCtJ,SAAvC,CAAiD,UAACM,IAAD,EAAU;AACzD,qBAAI,CAACvE,WAAL,GAAmBuE,IAAnB;AACD,aAFD;AAGD;;;iBAED,wBAAegJ,GAAf,EAA4B;AAAA;;AAC1B,iBAAKxO,UAAL,CAAgB4O,eAAhB,GAAkC1J,SAAlC,CAA4C,UAACM,IAAD,EAAe;AACzD,mBAAK,IAAIjC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiC,IAAI,CAAC4D,MAAzB,EAAiC7F,CAAC,EAAlC,EAAsC;AACpC,oBAAIiC,IAAI,CAACjC,CAAD,CAAJ,CAAQsL,UAAR,KAAuB,GAA3B,EAAgC;AAC9B,yBAAI,CAAC3N,YAAL,CAAkB4N,IAAlB,CAAuBtJ,IAAI,CAACjC,CAAD,CAAJ,CAAQwL,WAA/B;AACD;AACF;AACF,aAND;AAOD;;;iBACD,uBAAcP,GAAd,EAA2B;AAAA;;AACzB,iBAAKxO,UAAL,CAAgByO,iBAAhB,CAAkCD,GAAlC,EAAuCtJ,SAAvC,CAAiD,UAACM,IAAD,EAAU;AACzD,qBAAI,CAACjE,gBAAL,GAAwBiE,IAAxB;AACD,aAFD;AAGD;;;iBAGD,sBAAawB,OAAb,EAAqBgI,KAArB,EAA6B;AAAA;;AAE3B,gBAAGA,KAAH,EAAS;AACP,mBAAK1P,SAAL,CAAesG,GAAf,CAAmB,SAAnB,EAA8BS,QAA9B,CAAuC,EAAvC;AACA,mBAAK/G,SAAL,CAAesG,GAAf,CAAmB,OAAnB,EAA4BS,QAA5B,CAAqC,EAArC;AACA,mBAAK/G,SAAL,CAAesG,GAAf,CAAmB,MAAnB,EAA2BS,QAA3B,CAAoC,EAApC;AACD;;AACD,iBAAK/G,SAAL,CAAesG,GAAf,CAAmB,MAAnB,EAA2BS,QAA3B,CAAoC,EAApC;AACA,iBAAKrG,UAAL,CAAgB4O,eAAhB,GAAkC1J,SAAlC,CAA4C,UAACM,IAAD,EAAe;AACzD,mBAAK,IAAIjC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiC,IAAI,CAAC4D,MAAzB,EAAiC7F,CAAC,EAAlC,EAAsC;AACpC,oBAAIiC,IAAI,CAACjC,CAAD,CAAJ,CAAQwL,WAAR,IAAuB/H,OAA3B,EAAoC;AAClC,yBAAI,CAAChH,UAAL,CAAgBiP,mBAAhB,CAAoCzJ,IAAI,CAACjC,CAAD,CAAJ,CAAQ6H,EAA5C,EAAgDlG,SAAhD,CAA0D,UAACC,IAAD,EAAe;AACvE,2BAAI,CAAChE,UAAL,GAAkBgE,IAAlB;AACD,mBAFD;;AAGA;AACD;AACF;AACF,aATD;AAUD,W,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;iBACA,4BAAgB;AAAA;;AACd,iBAAKnF,UAAL,CAAgBkP,qBAAhB,GAAwChK,SAAxC,CAAkD,UAAA0B,GAAG;AAAA,qBAAIA,GAAG,CAACgE,GAAJ,CAAQ,UAAAuE,CAAC;AAAA,uBAAI,OAAI,CAAC/N,SAAL,CAAe0N,IAAf,CAAoBK,CAAC,CAACC,QAAtB,CAAJ;AAAA,eAAT,CAAJ;AAAA,aAArD;AACAvO,mBAAO,CAACyC,GAAR,CAAY,KAAKlC,SAAjB;AAED;;;iBACD,yBAAa;AACX,iBAAK9B,SAAL,CAAesG,GAAf,CAAmB,SAAnB,EAA8BS,QAA9B,CAAuC,EAAvC;AACA,iBAAK/G,SAAL,CAAesG,GAAf,CAAmB,MAAnB,EAA2BS,QAA3B,CAAoC,EAApC;AACD;;;iBACD,wBAAY;AACV,iBAAK/G,SAAL,CAAesG,GAAf,CAAmB,SAAnB,EAA8BS,QAA9B,CAAuC,EAAvC;AACD;;;iBACD,wBAAeb,IAAf,EAA0B;AAAA;;AACxB,iBAAK3E,OAAL,CAAayC,GAAb,CAAiB,SAAjB,EAA4BkC,IAA5B;AACA,iBAAKxC,cAAL,GAAsB,IAAtB;;AACA,gBAAIwC,IAAI,IAAI,IAAZ,EAAkB;AAChB,mBAAKxF,UAAL,CAAgBqP,gBAAhB,CAAiC7J,IAAjC,EAAuCN,SAAvC,CAAiD,UAAC3F,KAAD,EAAW;AAC1D,uBAAI,CAACiN,gBAAL,GAAwBjN,KAAK,CAAC+P,YAAN,CAAmBC,WAAnB,EAAxB;AACD,eAFD;AAGD;AACF;;;iBACD,6BAAoB/J,IAApB,EAA+B;AAAA;;AAC7B,iBAAK3E,OAAL,CAAayC,GAAb,CAAiB,SAAjB,EAA4BkC,IAA5B;AACA,iBAAKvC,SAAL,GAAiB,IAAjB;;AACA,gBAAIuC,IAAI,IAAI,IAAZ,EAAkB;AAChB,mBAAKxF,UAAL,CAAgBqP,gBAAhB,CAAiC7J,IAAjC,EAAuCN,SAAvC,CAAiD,UAAC3F,KAAD,EAAW;AAC1D,uBAAI,CAACiQ,WAAL,GAAmBjQ,KAAK,CAAC+P,YAAN,CAAmBC,WAAnB,EAAnB;AACD,eAFD;AAGD;AACF;;;iBACD,8BAAqB/J,IAArB,EAAgC;AAAA;;AAC9B,iBAAK3E,OAAL,CAAayC,GAAb,CAAiB,SAAjB,EAA4BkC,IAA5B;;AACA,gBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,mBAAKxF,UAAL,CAAgBqP,gBAAhB,CAAiC7J,IAAjC,EAAuCN,SAAvC,CAAiD,UAAC3F,KAAD,EAAW;AAC1D,uBAAI,CAACkQ,eAAL,GAAuBlQ,KAAK,CAAC+P,YAAN,CAAmBC,WAAnB,EAAvB;AACD,eAFD;AAGD;AACF;;;iBAGD,6BAAoBf,GAApB,EAAiC;AAAA;;AAC/B,iBAAKxO,UAAL,CAAgByO,iBAAhB,CAAkCD,GAAlC,EAAuCtJ,SAAvC,CAAiD,UAACM,IAAD,EAAU;AACzD,qBAAI,CAACnE,cAAL,GAAsBmE,IAAtB;AACD,aAFD;AAGD;;;iBAED,yBAAgBgJ,GAAhB,EAA6B;AAAA;;AAC3B,iBAAKxO,UAAL,CAAgByO,iBAAhB,CAAkCD,GAAlC,EAAuCtJ,SAAvC,CAAiD,UAACM,IAAD,EAAU;AACzD,qBAAI,CAAClE,iBAAL,GAAyBkE,IAAzB;AACD,aAFD;AAGD;;;iBACD,iCAAwBA,IAAxB,EAAmC;AAAA;;AACjC,gBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,mBAAKxF,UAAL,CAAgBqP,gBAAhB,CAAiC7J,IAAjC,EAAuCN,SAAvC,CAAiD,UAAC3F,KAAD,EAAW;AAC1D,uBAAI,CAAC+P,YAAL,GAAoB/P,KAAK,CAAC+P,YAAN,CAAmBC,WAAnB,EAApB;AACA1O,uBAAO,CAACyC,GAAR,CAAY,OAAI,CAACgM,YAAjB;AACD,eAHD;AAID;AACF;;;iBACD,kCAAyB9J,IAAzB,EAAoC;AAAA;;AAClC3E,mBAAO,CAACyC,GAAR,CAAY,SAAZ,EAAuBkC,IAAvB;AACA3E,mBAAO,CAACyC,GAAR,CAAYkC,IAAZ;AACA,iBAAK1C,UAAL,GAAkB,IAAlB;;AACA,gBAAI0C,IAAI,IAAI,IAAZ,EAAkB;AAChB,mBAAKxF,UAAL,CAAgBqP,gBAAhB,CAAiC7J,IAAjC,EAAuCN,SAAvC,CAAiD,UAAC3F,KAAD,EAAW;AAC1DsB,uBAAO,CAACyC,GAAR,CAAY/D,KAAZ;AAEA,uBAAI,CAACgN,QAAL,GAAgBhN,KAAK,CAAC+P,YAAN,CAAmBC,WAAnB,EAAhB;AACA1O,uBAAO,CAACyC,GAAR,CAAY,OAAI,CAACiJ,QAAjB;AAEA1L,uBAAO,CAACyC,GAAR,CAAY,OAAI,CAACgM,YAAjB;AACD,eAPD;AAQD;AACF;;;iBACD,iCAAwB9J,IAAxB,EAAmC;AAAA;;AACjC3E,mBAAO,CAACyC,GAAR,CAAY,kBAAZ,EAAgCkC,IAAhC;;AACA,gBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,mBAAKxF,UAAL,CAAgBqP,gBAAhB,CAAiC7J,IAAjC,EAAuCN,SAAvC,CAAiD,UAAA3F,KAAK,EAAI;AACxDsB,uBAAO,CAACyC,GAAR,CAAY/D,KAAK,CAAC+P,YAAlB;AACA,uBAAI,CAACI,SAAL,GAAiBnQ,KAAK,CAAC+P,YAAN,CAAmBC,WAAnB,EAAjB;AACD,eAHD;AAID;AAEF;;;iBACD,8BAAqB/J,IAArB,EAAgC;AAAA;;AAC9B,iBAAK3E,OAAL,CAAayC,GAAb,CAAiB,SAAjB,EAA4BkC,IAA5B;AACA3E,mBAAO,CAACyC,GAAR,CAAYkC,IAAZ;;AACA,gBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,mBAAKxF,UAAL,CAAgBqP,gBAAhB,CAAiC7J,IAAjC,EAAuCN,SAAvC,CAAiD,UAAC3F,KAAD,EAAW;AAC1D,uBAAI,CAACoQ,QAAL,GAAgBpQ,KAAK,CAAC+P,YAAN,CAAmBC,WAAnB,EAAhB;AACA1O,uBAAO,CAACyC,GAAR,CAAY,OAAI,CAACqM,QAAjB;AAED,eAJD;AAKD;AACF;;;iBACD,mCAA0BnK,IAA1B,EAAqC;AAAA;;AACnC,iBAAK3E,OAAL,CAAayC,GAAb,CAAiB,SAAjB,EAA4BkC,IAA5B;AACA3E,mBAAO,CAACyC,GAAR,CAAYkC,IAAZ;AACA,iBAAK3C,WAAL,GAAmB,IAAnB;;AACA,gBAAI2C,IAAI,IAAI,IAAZ,EAAkB;AAChB,mBAAKxF,UAAL,CAAgBqP,gBAAhB,CAAiC7J,IAAjC,EAAuCN,SAAvC,CAAiD,UAAC3F,KAAD,EAAW;AAC1D,uBAAI,CAACqQ,gBAAL,GAAwBrQ,KAAK,CAAC+P,YAAN,CAAmBC,WAAnB,EAAxB;AAEA1O,uBAAO,CAACyC,GAAR,CAAY,OAAI,CAACsM,gBAAjB;AACD,eAJD;AAKD;AACF;;;iBAGD,oBAAW;AAAA;;AACT,iBAAKjP,SAAL,GAAiB,IAAjB;AACAE,mBAAO,CAACyC,GAAR,CAAY,eAAZ;AACA,iBAAKnB,UAAL,GAAkB,KAAlB,CAHS,CAIT;AACA;AAEA;AACA;AACA;;AAEA,gBAAI0N,UAAU,GAAQ,EAAtB;AACA,gBAAMC,OAAO,GAAG,KAAKnK,gBAAL,CAAsB2I,QAAtB,CAA+B,kBAA/B,EAAmD/O,KAAnE;AACAsB,mBAAO,CAACyC,GAAR,CAAYwM,OAAZ;AACA,gBAAIC,UAAU,GAAQ,EAAtB;AACA,gBAAIrK,YAAY,GAAQ,EAAxB;AACA,gBAAIsK,iBAAiB,GAAU,EAA/B;AACA,gBAAIC,eAAe,GAAU,EAA7B;AAEAJ,sBAAU,CAACxI,UAAX,GAAwB,KAAKtH,EAAL,CAAQ4D,OAAR,CAAgB,KAAhB,CAAxB;AACAkM,sBAAU,CAAC/I,SAAX,GAAuBgJ,OAAO,CAAChJ,SAA/B;AACA+I,sBAAU,CAAC1F,WAAX,GAAyB2F,OAAO,CAAC3F,WAAjC;AACA0F,sBAAU,CAAC1I,gBAAX,GAA8B2I,OAAO,CAAC3I,gBAAtC;AACA0I,sBAAU,CAACzI,eAAX,GAA6B0I,OAAO,CAAC1I,eAArC;AACAyI,sBAAU,CAAChI,eAAX,GAA6BiI,OAAO,CAACjI,eAArC;AACAgI,sBAAU,CAACjI,YAAX,GAA0BkI,OAAO,CAAClI,YAAlC;AACAiI,sBAAU,CAAC9H,kBAAX,GAAgC+H,OAAO,CAAC/H,kBAAxC;AACA8H,sBAAU,CAAC7H,cAAX,GAA4B8H,OAAO,CAAC9H,cAApC;AACA6H,sBAAU,CAACnH,WAAX,GAAyBoH,OAAO,CAACpH,WAAjC;AACAmH,sBAAU,CAAChH,aAAX,GAA2BiH,OAAO,CAACjH,aAAnC;AACAgH,sBAAU,CAAC/G,YAAX,GAA0BgH,OAAO,CAAChH,YAAlC;AACA+G,sBAAU,CAACjH,kBAAX,GAAgCkH,OAAO,CAAClH,kBAAxC;AACAiH,sBAAU,CAAC3I,MAAX,GAAoB4I,OAAO,CAAC5I,MAA5B;AACA2I,sBAAU,CAACvI,SAAX,GAAuBwI,OAAO,CAACxI,SAA/B;AACAuI,sBAAU,CAACtI,UAAX,GAAwBuI,OAAO,CAACvI,UAAhC;AACAsI,sBAAU,CAACrI,QAAX,GAAsBsI,OAAO,CAACtI,QAA9B;AACAqI,sBAAU,CAAC/I,SAAX,GAAuBgJ,OAAO,CAAChJ,SAA/B;AACA+I,sBAAU,CAACpI,MAAX,GAAoBqI,OAAO,CAACrI,MAA5B;AACAoI,sBAAU,CAACnI,WAAX,GAAyB,KAAKC,WAAL,CAAiBmI,OAAO,CAACpI,WAAzB,CAAzB;AACAmI,sBAAU,CAAC/H,WAAX,GAAyBgI,OAAO,CAAChI,WAAjC,CAvCS,CAwCT;;AACA+H,sBAAU,CAACnM,MAAX,GAAoB,KAAKA,MAAzB;AACAmM,sBAAU,CAACK,WAAX,GAAyB,YAAzB;AACAL,sBAAU,CAAClH,cAAX,GAA4BmH,OAAO,CAACnH,cAApC;AACAkH,sBAAU,CAACxC,SAAX,GAAuB,KAAK1H,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCrG,KAA9D;AACAsQ,sBAAU,CAACtE,eAAX,GAA6B,KAAK5F,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CrG,KAA1E;AACAsQ,sBAAU,CAACtN,SAAX,GAAuB,KAAKQ,cAA5B;AACAgN,sBAAU,CAAC1H,QAAX,GAAsByH,OAAO,CAACzH,QAA9B;AACA0H,sBAAU,CAACzH,QAAX,GAAsBwH,OAAO,CAACxH,QAA9B;AACAyH,sBAAU,CAAC/I,OAAX,GAAqB8I,OAAO,CAAC9I,OAA7B;AACA+I,sBAAU,CAACvH,KAAX,GAAmBsH,OAAO,CAACtH,KAA3B;AACAuH,sBAAU,CAACxH,IAAX,GAAkBuH,OAAO,CAACvH,IAA1B;AACAwH,sBAAU,CAACtH,OAAX,GAAqBqH,OAAO,CAACrH,OAA7B;AACAsH,sBAAU,CAAC3H,WAAX,GAAyB0H,OAAO,CAAC1H,WAAjC;AACA6H,2BAAe,CAACnB,IAAhB,CAAqBiB,UAArB;;AAEA,gBAAG,CAAAD,OAAO,SAAP,IAAAA,OAAO,WAAP,GAAO,MAAP,GAAAA,OAAO,CAAE3H,UAAT,KAAqB,cAAxB,EAAuC;AACrCzC,0BAAY,CAACyC,UAAb,GAAwB,IAAxB;AACD,aAFD,MAEK;AACHzC,0BAAY,CAACyC,UAAb,GAA0B,CAAA2H,OAAO,SAAP,IAAAA,OAAO,WAAP,GAAO,MAAP,GAAAA,OAAO,CAAE3H,UAAT,KAAuB,EAAvB,GAA4B,KAAKR,WAAL,CAAiBmI,OAAO,SAAP,IAAAA,OAAO,WAAP,GAAO,MAAP,GAAAA,OAAO,CAAE3H,UAA1B,CAA5B,GAAoE,SAAM,EAApG;AACD;;AAEDzC,wBAAY,CAACuC,MAAb,GAAsB6H,OAAO,CAAC7H,MAA9B;AACAvC,wBAAY,CAACwC,QAAb,GAAwB4H,OAAO,CAAC5H,QAAhC;AACA8H,6BAAiB,CAAClB,IAAlB,CAAuBpJ,YAAvB;AAEAmK,sBAAU,CAAC7F,WAAX,GAAyBiG,eAAzB;AACAJ,sBAAU,CAACnK,YAAX,GAA0BsK,iBAA1B;AAEAnP,mBAAO,CAACyC,GAAR,CAAY,YAAZ,EAA0BuM,UAA1B;AACA,iBAAKhL,SAAL,GAAiB,KAAjB;AACA,iBAAKC,QAAL,GAAgB,KAAhB;AACA,iBAAK1E,aAAL,CAAmB+P,8BAAnB,CAAkDN,UAAlD,EACG3K,SADH,CACa,UAACM,IAAD,EAAe;AACxB3E,qBAAO,CAACyC,GAAR,CAAY,QAAZ,EAAsBkC,IAAtB;;AACA,qBAAI,CAACiF,YAAL;;AACA,qBAAI,CAACjK,MAAL,CAAY4P,KAAZ;;AACAvP,qBAAO,CAACyC,GAAR,CAAY,6BAAZ,EAA2CkC,IAA3C;;AACA,kBAAIA,IAAI,CAACmF,MAAL,KAAgB,GAApB,EAAyB;AAEvB,uBAAI,CAACxG,iBAAL;;AACA,uBAAI,CAAC9D,KAAL,CAAW0L,IAAX,CAAgB,qCAAhB,EAAuD,IAAvD,EAA6D;AAC3DG,0BAAQ,EAAE,IADiD;AAE3DC,kCAAgB,EAAE,KAFyC;AAG3DC,oCAAkB,EAAE;AAHuC,iBAA7D;;AAKA,oBAAI5G,IAAI,CAAC6K,kBAAL,CAAwBjJ,eAAxB,IAA2C,IAA/C,EAAqD;AACnD,sBAAI5B,IAAI,CAAC6K,kBAAL,CAAwB9I,UAAxB,IAAsC,IAA1C,EAAgD;AAC9C,2BAAI,CAACxH,EAAL,CAAQiG,OAAR,CAAgB,qBAAhB,EAAuCR,IAAI,CAAC6K,kBAAL,CAAwB/I,SAAxB,GAAoC,GAApC,GAA0C9B,IAAI,CAAC6K,kBAAL,CAAwB7I,QAAzG;AACD,mBAFD,MAGK;AACH,2BAAI,CAACzH,EAAL,CAAQiG,OAAR,CAAgB,qBAAhB,EAAuCR,IAAI,CAAC6K,kBAAL,CAAwB/I,SAAxB,GAAoC,GAApC,GAA0C9B,IAAI,CAAC6K,kBAAL,CAAwB9I,UAAlE,GAA+E,GAA/E,GAAqF/B,IAAI,CAAC6K,kBAAL,CAAwB7I,QAApJ;AACD;AAEF;;AACD,uBAAI,CAAC7B,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCG,UAAvC,CAAkDP,IAAI,CAAC6K,kBAAL,CAAwBhD,SAA1E;;AACA,uBAAI,CAAC1H,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CG,UAA7C,CAAwDP,IAAI,CAAC6K,kBAAL,CAAwB9E,eAAhF;;AAEA,oBAAI,OAAI,CAAC5F,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCrG,KAAvC,IAAgD,MAApD,EAA4D;AAC1D,yBAAI,CAAC+Q,QAAL;AACD;AACF;AACF,aA9BH,EA8BK,UAAClL,GAAD,EAAc;AACfvE,qBAAO,CAACyC,GAAR,CAAY8B,GAAZ;;AACA,qBAAI,CAAC5E,MAAL,CAAY4P,KAAZ;;AACA,qBAAI,CAAC/P,KAAL,CAAW0L,IAAX,CAAgB,OAAhB,EAAyB,uBAAzB,EAAkD;AAChDG,wBAAQ,EAAE,IADsC;AAEhDC,gCAAgB,EAAE,KAF8B;AAGhDC,kCAAkB,EAAE;AAH4B,eAAlD;AAKD,aAtCH;AAuCD;;;iBAID,uBAAc;AACZvL,mBAAO,CAACyC,GAAR,CAAY,cAAZ;AACD;;;iBAED,mBAAU;AACR;AACA,iBAAK3C,SAAL,GAAiB,KAAjB;AACA,iBAAKgF,gBAAL,CAAsBQ,KAAtB,CAA4B,EAA5B;AACD;;;iBAED,mBAAU;AACR;AACA,iBAAKxF,SAAL,GAAiB,KAAjB;AACD;;;iBAED,kBAAS;AACP,iBAAKlB,MAAL,CAAY8Q,QAAZ,CAAqB,0DAArB;AACD;;;iBAGD,oBAAW;AACT,iBAAKxQ,EAAL,CAAQiG,OAAR,CAAgB,oBAAhB,EAAsC,IAAtC,EADS,CAGT;;AACA,iBAAKpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACA,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,4DAArB;AACA,iBAAKxQ,EAAL,CAAQiG,OAAR,CAAgB,oBAAhB,EAAsC,KAAKL,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CrG,KAAnF;AACA,iBAAKQ,EAAL,CAAQiG,OAAR,CAAgB,qBAAhB,EAAuC,KAAKL,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCrG,KAA9E;AAEA,iBAAKE,MAAL,CAAY8Q,QAAZ,CAAqB,4DAArB;AACD;;;iBAED,qBAAY7G,KAAZ,EAAwB;AACtB,gBAAMgE,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC5BpE,mBAAK,CAACwE,cAAN;AACD;;AAACrN,mBAAO,CAACyC,GAAR,CAAYoG,KAAK,CAAC8G,MAAN,CAAajR,KAAzB;AACFkR,wBAAY,CAAC,KAAKC,KAAN,CAAZ;;AACA,gBAAI,CAAChH,KAAK,CAAC8G,MAAN,CAAajR,KAAlB,EAAyB;AACvB,mBAAKmB,eAAL,GAAuB,EAAvB;AACD;AACF;;;iBAED,oBAAWgJ,KAAX,EAAuB;AAAA;;AACrB,gBAAMgE,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC5BpE,mBAAK,CAACwE,cAAN;AACD;;AACDrN,mBAAO,CAACyC,GAAR,CAAYoG,KAAK,CAAC8G,MAAN,CAAajR,KAAzB;AACAkR,wBAAY,CAAC,KAAKC,KAAN,CAAZ;;AACA,gBAAI,CAAChH,KAAK,CAAC8G,MAAN,CAAajR,KAAlB,EAAyB;AACvB,mBAAK4C,UAAL,GAAkB,KAAlB;AACA,mBAAK7C,SAAL,CAAe6G,KAAf;AACA,mBAAK7G,SAAL,CAAesG,GAAf,CAAmB,WAAnB,EAAgCoD,eAAhC;AACA,mBAAK1J,SAAL,CAAesG,GAAf,CAAmB,WAAnB,EAAgC6H,sBAAhC;AACA,mBAAKnO,SAAL,CAAesG,GAAf,CAAmB,kBAAnB,EAAuCG,UAAvC,CAAkD,IAAlD;AACA,mBAAKzG,SAAL,CAAesG,GAAf,CAAmB,iBAAnB,EAAsCG,UAAtC,CAAiD,IAAjD;AACA,mBAAKrF,eAAL,GAAuB,EAAvB;AACD,aARD,MAQO;AACL,mBAAKgQ,KAAL,GAAaC,UAAU,CAAC,YAAM;AAC5B,uBAAI,CAACvQ,aAAL,CAAmBqM,UAAnB,CAA8B/C,KAAK,CAAC8G,MAAN,CAAajR,KAA3C,EAAkD2F,SAAlD,CAA4D,UAAC0B,GAAD,EAAc;AACxE/F,yBAAO,CAACyC,GAAR,CAAYsD,GAAZ;;AACA,sBAAIA,GAAJ,EAAS;AACP,2BAAI,CAAClG,eAAL,GAAuBkG,GAAG,CAAC8F,gBAA3B;AACD;AACF,iBALD;AAMD,eAPsB,EAOpB,IAPoB,CAAvB;AAQD;AACF;;;iBAED,wBAAehD,KAAf,EAAsB;AACpB,gBAAIkH,KAAK,GAAG,CAAZ;AAAA,gBAAeC,MAAM,GAAGnH,KAAK,CAAC8G,MAAN,CAAajR,KAArC;;AACA,gBAAIsR,MAAM,IAAI,EAAd,EAAkB;AAChB,mBAAK,IAAItN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsN,MAAM,CAACzH,MAA3B,EAAmC7F,CAAC,EAApC,EAAwC;AACtC,oBAAI,KAAKsN,MAAM,CAACtN,CAAD,CAAf,EAAoB;AAClBqN,uBAAK;AACN;AACF;;AACD/P,qBAAO,CAACyC,GAAR,CAAY,YAAZ,EAA0BuN,MAA1B;AACAhQ,qBAAO,CAACyC,GAAR,CAAY,uBAAZ,EAAqCsN,KAArC,EAA4CC,MAAM,CAACzH,MAAnD;;AACA,kBAAIwH,KAAK,IAAIC,MAAM,CAACzH,MAApB,EAA4B;AAC1BvI,uBAAO,CAACyC,GAAR,CAAY,SAAZ;AACA,qBAAKV,iBAAL,GAAyB,IAAzB;AACD,eAHD,MAIK;AACH,qBAAKA,iBAAL,GAAyB,KAAzB;AACD;AACF,aAfD,MAeO;AACL,mBAAKA,iBAAL,GAAyB,KAAzB;AACD;AACF;;;iBAED,uBAAW;AACT,gBAAI,KAAK0C,YAAT,EAAuB;AACrB,mBAAKA,YAAL,CAAkBwL,WAAlB;AACD;;AACD,iBAAKxQ,WAAL,CAAiByQ,YAAjB,CAA8B,EAA9B;AACD;;;iBACD,kBAASrH,KAAT,EAAqB;AACnB7I,mBAAO,CAACyC,GAAR,CAAY,OAAZ,EAAqBoG,KAAK,CAACsH,OAA3B;AACA,iBAAKjO,cAAL,GAAsB2G,KAAK,CAACsH,OAA5B,CAFmB,CAGnB;AACA;AACA;;AACA,gBAAItH,KAAK,CAACsH,OAAN,IAAiB,IAAjB,IAAyB,KAAKzO,SAAlC,EAA6C;AAC3C,mBAAKoD,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCS,QAAvC,CAAgD,OAAhD;AACA,mBAAKV,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CG,UAA7C,CAAwD,CAAxD;AACA,mBAAKjB,QAAL,GAAgB,KAAhB;AACD,aAJD,MAKK,IAAI4E,KAAK,CAACsH,OAAN,IAAiB,KAArB,EAA4B;AAC/B,mBAAKrL,gBAAL,CAAsBC,GAAtB,CAA0B,WAA1B,EAAuCG,UAAvC,CAAkD,MAAlD,EAA0D;AAAEE,wBAAQ,EAAE,IAAZ;AAAkBC,yBAAS,EAAE;AAA7B,eAA1D;AACA,mBAAKP,gBAAL,CAAsBC,GAAtB,CAA0B,iBAA1B,EAA6CG,UAA7C,CAAwD,CAAxD,EAA2D;AAAEE,wBAAQ,EAAE,IAAZ;AAAkBC,yBAAS,EAAE;AAA7B,eAA3D;AACD;AAEF;;;iBAED,kCAAyB6I,WAAzB,EAAsCkC,OAAtC,EAA+C;AAAA;;AAC7C,gBAAIlC,WAAW,IAAIkC,OAAO,CAAC7H,MAAR,IAAkB,CAArC,EAAwC;AACtC,mBAAKpJ,UAAL,CAAgBkR,uBAAhB,CAAwCnC,WAAxC,EAAqDkC,OAArD,EAA8D/L,SAA9D,CAAwE,UAAC0B,GAAD,EAAc;AACpF,oBAAGA,GAAH,EAAO;AACL,yBAAI,CAACtH,SAAL,CAAesG,GAAf,CAAmB,OAAnB,EAA4BS,QAA5B,CAAqCO,GAAG,CAACuK,SAAzC;;AACA,yBAAI,CAAC7R,SAAL,CAAesG,GAAf,CAAmB,MAAnB,EAA2BS,QAA3B,CAAoCO,GAAG,CAACwI,QAAxC;AACD,iBAHD,MAII;AACF,yBAAI,CAAC/O,KAAL,CAAW0L,IAAX,CAAgB,iCAAhB,EAAmD,IAAnD,EAAyD;AACvDG,4BAAQ,EAAE,IAD6C;AAEvDC,oCAAgB,EAAE,KAFqC;AAGvDC,sCAAkB,EAAE;AAHmC,mBAAzD;AAKD;AACF,eAZD;AAaD;AACF;;;;;;;yBAxnCU5M,gC,EAAgC,uH,EAAA,mI,EAAA,+H,EAAA,uJ,EAAA,yH,EAAA,wH,EAAA,2J,EAAA,2I,EAAA,2H,EAAA,sK,EAAA,gI,EAAA,iL,EAAA,wI,EAAA,8I,EAAA,uI,EAAA,mK;AAAA,O;;;cAAhCA,gC;AAAgC,sD;AAAA;AAAA;sEAKhC,6E,EAAc,I;;;;;;;;;;;;;;;;;AC7B3B;;AACA;;AACI;;AACE;;AACE;;AACF;;AACA;;AACE;;AAAyB;;AAAG;;AAA4B;;AAAI;;AAC9D;;AACF;;AACF;;AACA;;AACE;;AAEE;;AACE;;AACE;;AACA;;AAAuB;;AAAoB;;AAC3C;;AACF;;AACA;;AACE;;AA+nCF;;AACF;;AACF;;AACF;;AACF;;;;AAnoCiB;;AAAA;;;;;;;;;;wEDGJA,gC,EAAgC;gBAL5C,uDAK4C;iBALlC;AACT4R,oBAAQ,EAAE,+BADD;AAETC,uBAAW,EAAE,4CAFJ;AAGTC,qBAAS,EAAE,CAAC,4CAAD;AAHF,W;AAKkC,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKhBC,qBAAW,EAAE,CAAF;kBAArC,uDAAqC;mBAA3B,6E;AAA2B,WAAE,C;AAyD/BhO,WAAC,EAAE,CAAF;kBAAT;AAAS,WAAE;;;;;;;;;;;;;;;;;;;AEtFd;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;ACcI;;AACI;;AACI;;AACI;;AACI;;AAA6B;;AAAY;;AAC7C;;AACA;;AACI;;AAAI;;AAAwC;;AAChD;;AACA;;AACA;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAC/B;;AACJ;;AACJ;;AACJ;;AACJ;;;;AAdc;;AAAA;;;;;;AAuCR;;AACE;;AAOA;;AAA0B;;AAAS;;AAErC;;;;AARI;;AAAA,uFAAmB,OAAnB,EAAmB,GAAnB;;;;;;;;AAcF;;AACI;;AAAmB;AAAA;;AAAA;;AAAA;AAAA;;AACjB;;AAAa;;AAAU;;AAAa;;AACtC;;AACJ;;;;;;;;;;AAGI;;AACG;;AAAY;;AAAU;;AAAa;;AACtC;;;;AAFmB;;;;;;AA2BzB;;AACE;;AAMA;;AAA0B;;AAAS;;AAErC;;;;AAPG;;AAAA,uFAAmB,OAAnB,EAAmB,GAAnB;;;;;;;;AAaH;;AACI;;AAAmB;AAAA;;AAAA;;AAAA;AAAA;;AAChB;;AAAa;;AAAU;;AAAa;;AACvC;;AACJ;;;;;;;;;;AAKI;;AAEE;;AAAY;;AAAU;;AAAa;;AACrC;;;;;;AAHmB,wJAA6D,UAA7D,EAA6D,iCAA7D;;;;;;;;;;UDpHpBiO,0B;AAIX,4CAAoB/R,MAApB,EAA2CM,EAA3C,EAAyE0R,aAAzE,EACQ7R,cADR,EAC+CO,GAD/C,EACuE;AAAA;;AADnD,eAAAV,MAAA,GAAAA,MAAA;AAAuB,eAAAM,EAAA,GAAAA,EAAA;AAA8B,eAAA0R,aAAA,GAAAA,aAAA;AACjE,eAAA7R,cAAA,GAAAA,cAAA;AAAuC,eAAAO,GAAA,GAAAA,GAAA;AAJ/C,eAAAuR,yBAAA,GAAqC,KAArC;AACA,eAAAC,2BAAA,GAAoC,KAApC;AAG0E;;;;iBAE1E,oBAAQ;AAAA;;AACN,iBAAKA,2BAAL,GAAiC,KAAK5R,EAAL,CAAQ4D,OAAR,CAAgB,kCAAhB,CAAjC;AACA,iBAAK+N,yBAAL,GAAiC,KAAK3R,EAAL,CAAQ4D,OAAR,CAAgB,yBAAhB,CAAjC;AACA,iBAAK/D,cAAL,CAAoB+G,OAApB,CAA4BzB,SAA5B,CAAsC,UAAC0B,GAAD,EAAc;AAChD,qBAAI,CAAClD,MAAL,GAAc,OAAI,CAAC3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd,CADgD,CAElD;;AACE,qBAAI,CAACgO,2BAAL,GAAiC,OAAI,CAAC5R,EAAL,CAAQ4D,OAAR,CAAgB,kCAAhB,CAAjC;AACA,qBAAI,CAAC+N,yBAAL,GAAiC,OAAI,CAAC3R,EAAL,CAAQ4D,OAAR,CAAgB,yBAAhB,CAAjC;;AACA,qBAAI,CAACxD,GAAL,CAAS0G,YAAT;AACD,aANH;AAOD;;;iBAED,uBAAW;AACT,iBAAKpH,MAAL,CAAY8Q,QAAZ,CAAqB,yCAArB;AACD;;;iBAED,mCAAuB;AACrB,iBAAKkB,aAAL,CAAmBG,oCAAnB;AACD;;;iBACD,qCAAyB;AACvB,iBAAKH,aAAL,CAAmBI,4BAAnB;AACD;;;;;;;yBA5BUL,0B,EAA0B,uH,EAAA,0J,EAAA,yJ,EAAA,sJ,EAAA,gI;AAAA,O;;;cAA1BA,0B;AAA0B,+C;AAAA,iB;AAAA,gB;AAAA,qqC;AAAA;AAAA;ACZvC;;AACA;;AACI;;AACI;;AACI;;AAEJ;;AACA;;AACI;;AAAyB;;AAAG;;AAAuB;;AAAI;;AACvD;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AAgBJ;;AAGA;;AACI;;AACE;;AACE;;AACE;;AAAgB;;AAAwB;;AAC1C;;AACA;;AACE;;AAIE;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACF;;AACF;;AAEA;;AAYF;;AAEA;;AACA;;AACI;;AAMA;;AAKF;;AACJ;;AAEF;;AACA;;AAEE;;AACE;;AACE;;AAAgB;;AAAwB;;AAE1C;;AACA;;AACE;;AACE;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACF;;AACF;;AAEA;;AAWF;;AAEA;;AACA;;AACE;;AAMA;;AAQF;;AACF;;AAEF;;AACF;;AAEF;;;;;;;;AA7HoC;;AAAA;;AAqBpB;;AAAA;;AAeG;;AAAA;;AAIU;;AAAA;;AAgBF;;AAAA,4GAAiC,UAAjC,EAAiC,GAAjC;;AAiBX;;AAAA;;AAaG;;AAAA;;AAIW;;AAAA;;AAeL;;AAAA,8GAAmC,UAAnC,EAAmC,GAAnC;;;;;;;;;wED3GZA,0B,EAA0B;gBAPtC,uDAOsC;iBAP5B;AAGTJ,oBAAQ,EAAE,wBAHD;AAITC,uBAAW,EAAE,qCAJJ;AAKTC,qBAAS,EAAE,CAAC,qCAAD;AALF,W;AAO4B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZvC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;ACaI;;AACI;;AACI;;AACI;;AACI;;AAA6B;;AAAY;;AAC7C;;AACA;;AACI;;AAAI;;AAAiC;;AACzC;;AACA;;AACA;;AACC;AAAA;;AAAA;;AAAA;AAAA;;AACG;;AACA;;AAAU;;AAAa;;AAC3B;;AACJ;;AACJ;;AACJ;;;;AAhBc;;AAAA;;;;;;;;AAwDF;;AACI;;AAEF;AAAA;;AAAA;;AAAA;AAAA;;AAIA;;AAAa;;AAAU;;AAAa;;AAClC;;AACJ;;;;;;;;;;;;AAEA;;AACI;;AAMF;;AAAY;;AAAU;;AAAa;;AACjC;;AACJ;;;;AANE;;AAAA;;;;;;;;AAoDF;;AACI;;AAEH;AAAA;;AAAA;;AAAA;AAAA;;AAIC;;AAAa;;AAAU;;AAAa;;AAClC;;AACJ;;;;;;;;;;;;AAGI;;AAOF;;AAAY;;AAAU;;AAAa;;AACjC;;;;;;AANF,wJAA8E,UAA9E,EAA8E,4BAA9E;;;;;;;;AAqDF;;AACI;;AAEF;AAAA;;AAAA;;AAAA;AAAA;;AAIA;;AAAa;;AAAU;;AAAa;;AAClC;;AACJ;;;;;;;;;;;;AAGI;;AAOF;;AAAY;;AAAU;;AAAa;;AACjC;;;;;;AANF,wJAA2E,UAA3E,EAA2E,uCAA3E;;;;;;;;AAqDF;;AACI;;AAEF;AAAA;;AAAA;;AAAA;AAAA;;AAKA;;AAAa;;AAAU;;AAAa;;AAClC;;AACJ;;;;;;;;;;;;AAGI;;AAOF;;AAAY;;AAAU;;AAAa;;AACjC;;;;;;AANF,wJAA0E,UAA1E,EAA0E,qCAA1E;;;;;;;;AAwDF;;AACI;;AAEF;AAAA;;AAAA;;AAAA;AAAA;;AAIA;;AAAa;;AAAU;;AAAa;;AAClC;;AACJ;;;;;;;;;;;;AAGI;;AAOF;;AAAY;;AAAU;;AAAa;;AACjC;;;;;;AANF,yJAA0E,UAA1E,EAA0E,4BAA1E;;;;;;;;;;UDvVLQ,8B;AAUX,gDAAoBrS,MAApB,EAA0CgS,aAA1C,EAAgF1R,EAAhF,EAA8GL,MAA9G,EAAiI;AAAA;;AAA7G,eAAAD,MAAA,GAAAA,MAAA;AAAsB,eAAAgS,aAAA,GAAAA,aAAA;AAAsC,eAAA1R,EAAA,GAAAA,EAAA;AAA8B,eAAAL,MAAA,GAAAA,MAAA;AAT9G,eAAAqS,mBAAA,GAA4B,KAA5B;AACA,eAAAC,wBAAA,GAAiC,KAAjC;AACA,eAAAC,oBAAA,GAA6B,KAA7B;AACA,eAAAC,+BAAA,GAAwC,KAAxC;AACA,eAAAC,4BAAA,GAAqC,KAArC;AACA,eAAAC,oBAAA,GAA6B,KAA7B;AACA,eAAAC,0BAAA,GAAmC,KAAnC;AAGoI;;;;iBAEpI,oBAAQ;AACN,iBAAKA,0BAAL,GAAgC,KAAKtS,EAAL,CAAQ4D,OAAR,CAAgB,6BAAhB,CAAhC;AACA,iBAAKoO,mBAAL,GAAyB,KAAKhS,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAAzB;AACA,iBAAKsO,oBAAL,GAA0B,KAAKlS,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAA1B;AACA,iBAAKuO,+BAAL,GAAqC,KAAKnS,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAArC;AACA,iBAAKwO,4BAAL,GAAkC,KAAKpS,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAAlC;AACA,iBAAKyO,oBAAL,GAA0B,KAAKrS,EAAL,CAAQ4D,OAAR,CAAgB,uBAAhB,CAA1B;AACD;;;iBACD,qCAAyB;AACvB,iBAAK8N,aAAL,CAAmBa,qBAAnB;AACD;;;iBACD,iCAAqB;AACnB,iBAAKb,aAAL,CAAmBc,2BAAnB;AACD;;;iBACD,4BAAgB;AACd,iBAAKd,aAAL,CAAmBe,uBAAnB;AACD;;;iBAED,kCAAsB;AACpB,iBAAKf,aAAL,CAAmBgB,6BAAnB;AACD;;;iBACD,gCAAoB;AAClB,iBAAKhB,aAAL,CAAmBiB,oBAAnB;AACD;;;iBAED,yCAA6B;AAC3B,iBAAKjB,aAAL,CAAmBkB,4BAAnB;AACD;;;;;;;yBAvCUb,8B,EAA8B,uH,EAAA,yJ,EAAA,0J,EAAA,mI;AAAA,O;;;cAA9BA,8B;AAA8B,oD;AAAA,iB;AAAA,gB;AAAA,wtC;AAAA;AAAA;ACZ3C;;AACI;;AACI;;AACI;;AAEJ;;AACA;;AACI;;AAAyB;;AAAG;;AAAuB;;AAAI;;AACvD;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AAkBJ;;AACA;;AACI;;AAGI;;AACI;;AACI;;AAAwC;;AAAkB;;AAE9D;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AAcJ;;AAEA;;AAEA;;AACI;;AAWA;;AAYF;;AAEN;;AAEJ;;AAEA;;AAGI;;AACI;;AACI;;AAAwC;;AAA+B;;AAE3E;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AAcJ;;AAEA;;AAEA;;AACI;;AAWA;;AAaF;;AAEN;;AAEJ;;AACA;;AAEI;;AACI;;AACI;;AAAwC;;AAAoB;;AAEhE;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAGJ;;AACJ;;AAeJ;;AAEA;;AACA;;AACI;;AAWA;;AAaF;;AAEN;;AAEJ;;AACA;;AAEI;;AACI;;AACI;;AAAwC;;AAAmB;;AAE/D;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAGJ;;AACJ;;AAeJ;;AAEA;;AACA;;AACI;;AAYA;;AAaF;;AAEN;;AAEJ;;AACA;;AAEI;;AACI;;AACI;;AAAwC;;AAAmB;;AAE/D;;AACA;;AACI;;AAEI;;AAEI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAGJ;;AACJ;;AAeJ;;AAEA;;AACA;;AAEI;;AAWA;;AAaF;;AAEN;;AAEJ;;AA0CJ;;;;;;;;;;;;AA9YuB;;AAAA;;AAuBL;;AAAA;;AAaW;;AAAA;;AAqBE;;AAAA;;AAWA;;AAAA;;AAqBb;;AAAA;;AAaW;;AAAA;;AAqBE;;AAAA,kHAAuC,UAAvC,EAAuC,GAAvC;;AA+Bb;;AAAA;;AAaW;;AAAA;;AAuBE;;AAAA,+GAAoC,UAApC,EAAoC,GAApC;;AA+Bb;;AAAA;;AAaW;;AAAA;;AAuBE;;AAAA,sGAA2B,UAA3B,EAA2B,IAA3B;;AAgCb;;AAAA;;AAeW;;AAAA;;AAwBE;;AAAA,uGAA4B,UAA5B,EAA4B,IAA5B;;;;;;;;;wEDzUlBA,8B,EAA8B;gBAL1C,uDAK0C;iBALhC;AACTV,oBAAQ,EAAE,6BADD;AAETC,uBAAW,EAAE,0CAFJ;AAGTC,qBAAS,EAAE,CAAC,0CAAD;AAHF,W;AAKgC,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZ3C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACsCY;;AACI;;AACI;;AACI;;AACI;;AACI;;AACK;;AACO;;AAKA;;AACI;;AACI;;AAAI;;AAAK;;AAAK;;AACV;;AACA;;AACI;;AACI;;AACI;;AAA8B;;AAAM;;AAAW;;AAC/C;;AAA4B;;AAAqB;;AACrD;;AACA;;AACI;;AAA8B;;AAAK;;AAAW;;AAC9C;;AAA4B;;AAAkB;;AAClD;;AACJ;;AACJ;;AACA;;AAAM;;AACN;;AACI;;AACI;;AACI;;AACI;;AAA8B;;AAAO;;AAAW;;AAChD;;AAA4B;;AAAmB;;AACnD;;AACJ;;AACJ;;AACJ;;AACR;;AACJ;;AACR;;AACJ;;AACJ;;AACJ;;AACH;;AACL;;AACJ;;;;;;AA3BoF;;AAAA;;AAIA;;AAAA;;AAUI;;AAAA;;;;;;AA2D9E;;AAGC;;AACA;;AAAK;;AAAkC;;AACvC;;AAAyC;;AAAwB;;AACjE;;AACD;;;;;;;AAHM;;AAAA;;AACoC;;AAAA;;;;;;AAThD;;AACE;;AACqD;;AAA8B;;AACjF;;AACE;;AAQF;;AACJ;;;;;;;;;AAXuD;;AAAA;;AAI/B;;AAAA;;;;UDvH3BsB,iC;AAUX,mDACUnT,MADV,EAEUM,EAFV,EAGUC,UAHV,EAIUO,UAJV,EAIgC;AAAA;;AAHtB,eAAAd,MAAA,GAAAA,MAAA;AACA,eAAAM,EAAA,GAAAA,EAAA;AACA,eAAAC,UAAA,GAAAA,UAAA;AACA,eAAAO,UAAA,GAAAA,UAAA;AAZV,eAAA+B,WAAA,GAAsB,EAAtB;AAIA,eAAAuQ,SAAA,GAAY,6BAAZ;AASK;;;;iBAEL,oBAAQ;AAAA;;AACN,iBAAKnP,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AAEA,iBAAKmP,UAAL,CAAgB,KAAKpP,MAArB;AAEA,iBAAKnD,UAAL,CAAgBmG,YAAhB,CACGxB,SADH,CACa,UAAC5C,WAAD,EAAyB;AAClC,qBAAI,CAACA,WAAL,GAAmBA,WAAnB;AACD,aAHH;AAMD;;;iBAED,oBAAW8I,EAAX,EAAe;AAAA;;AACb,iBAAKpL,UAAL,CAAgB+S,kCAAhB,CAAmD,KAAKrP,MAAxD,EAAgEwB,SAAhE,CAA0E,UAAC8N,QAAD,EAAc;AACtF,qBAAI,CAACC,4BAAL,GAAoCD,QAApC;AACAnS,qBAAO,CAACyC,GAAR,CAAY,OAAI,CAAC2P,4BAAjB;AACCpS,qBAAO,CAACyC,GAAR,CAAY,OAAI,CAAC2P,4BAAL,CAAkCC,gBAA9C;AACF,aAJD;AAMA,iBAAKlT,UAAL,CAAgBmT,0BAAhB,CAA2C/H,EAA3C,EAA+ClG,SAA/C,CAAyD,UAACkO,aAAD,EAAwB;AAC/EvS,qBAAO,CAACyC,GAAR,CAAY8P,aAAa,CAACpG,YAA1B;AACA,qBAAI,CAACA,YAAL,GAAkBoG,aAAa,CAACpG,YAAhC;AACA,qBAAI,CAACqG,kBAAL,GAAwBD,aAAxB;AACC,aAJH;AAKC;;;iBAED,kBAAS;AACP,iBAAK3T,MAAL,CAAY8Q,QAAZ,CAAqB,sCAArB;AACD;;;iBAED,gBAAO;AACL;AACA,iBAAK9Q,MAAL,CAAY8Q,QAAZ,CAAqB,CAAC,mCAAD,CAArB;AACD;;;;;;;yBAnDQqC,iC,EAAiC,uH,EAAA,0J,EAAA,2I,EAAA,sI;AAAA,O;;;cAAjCA,iC;AAAiC,uD;AAAA,iB;AAAA,e;AAAA,qkF;AAAA;AAAA;ACd9C;;AAEI;;AACI;;AACJ;;AACA;;AACI;;AAA6B;;AAAsC;;AACvE;;AACJ;;AACA;;AACI;;AAAqB;;AAAoB;;AAC7C;;AACA;;AACI;;AACI;;AACI;;AACI;;AACI;;AACK;;AACG;;AACI;;AACI;;AACI;;AAA8B;;AAAY;;AAClC;;AACP;;AAA4B;;AAAgB;;AACjD;;AACH;;AACL;;AACH;;AACL;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAgDJ;;AACJ;;AACJ;;AACA;;AAEA;;AAEI;;AAEI;;AACI;;AACI;;AACI;;AACI;;AACI;;AAAqF;;AAAY;;AAAO;;AACxG;;AACI;;AAAiC;;AAAiD;;AACtF;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AAAsF;;AAAoB;;AAAO;;AACjH;;AACI;;AAAiC;;AAAmD;;AACxF;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACJ;;AAGA;;AACc;;AAAS;;AAEvB;;AACE;;AACE;;AAcF;;AACF;;AAEJ;;AACJ;;AAEJ;;AAEA;;AACI;;AAEQ;AAAA,qBAAS,IAAAU,MAAA,EAAT;AAAiB,aAAjB;;AAEJ;;AACJ;;AACA;;AACA;;AAEoC;AAAA,qBAAS,IAAAC,IAAA,EAAT;AAAe,aAAf;;AAEhC;;AACJ;;AACJ;;;;AAhKa;;AAAA;;AAqBwD;;AAAA;;AAcjC;;AAAA;;AAgE6B;;AAAA;;AAQA;;AAAA;;AAiB3B;;AAAA;;;;;;;;;wEDjHzBX,iC,EAAiC;gBAL7C,uDAK6C;iBALnC;AACTxB,oBAAQ,EAAE,gCADD;AAETC,uBAAW,EAAE,6CAFJ;AAGTC,qBAAS,EAAE,CAAC,6CAAD;AAHF,W;AAKmC,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEd9C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACmEoB;;AAA+D;AAAA;;AAAA;;AAAA;AAAA;;AAC3D;;AAAY;;AAAU;;AAAa;;AACvC;;;;;;;;AAGA;;AAA6D;AAAA;;AAAA;;AAAA;AAAA;;AACzD;;AAAa;;AAAU;;AAAa;;AACxC;;;;UDhEPkC,gC;AAIX,kDAAoB/T,MAApB,EAA2CgS,aAA3C,EAAiF1R,EAAjF,EAAsG;AAAA;;AAAlF,eAAAN,MAAA,GAAAA,MAAA;AAAuB,eAAAgS,aAAA,GAAAA,aAAA;AAAsC,eAAA1R,EAAA,GAAAA,EAAA;AAHjF,eAAA0T,iBAAA,GAA4B,KAA5B;AACA,eAAAC,4BAAA,GAAqC,KAArC;AAGM;;;;iBAEN,oBAAQ;AACN,iBAAKD,iBAAL,GAAyB,KAAK1T,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAzB;AACA,iBAAK+P,4BAAL,GAAkC,KAAK3T,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAAlC;AACA9C,mBAAO,CAACyC,GAAR,CAAY,EAAZ,EAAgB,KAAKmQ,iBAArB;AACD;;;iBAED,sBAAU;AACR5S,mBAAO,CAACyC,GAAR,CAAY,SAAZ;AACA,iBAAK7D,MAAL,CAAY8Q,QAAZ,CAAqB,CAAC,2DAAD,CAArB;AACD;;;iBACD,+BAAmB;AACjB,iBAAKkB,aAAL,CAAmBkC,mBAAnB;AACD;;;;;;;yBAnBUH,gC,EAAgC,uH,EAAA,yJ,EAAA,0J;AAAA,O;;;cAAhCA,gC;AAAgC,sD;AAAA,iB;AAAA,e;AAAA,4oB;AAAA;AAAA;ACV7C;;AACI;;AACI;;AACI;;AAEJ;;AACA;;AACI;;AAAyB;;AAAG;;AAAuB;;AAAI;;AACvD;;AACI;;AACJ;;AACJ;;AACJ;;AAiBJ;;AACA;;AACI;;AAGI;;AACI;;AACI;;AAAgB;;AAAkB;;AAEtC;;AACA;;AACI;;AACI;;AACI;;AACI;;AAA8B;;AACtC;;AACA;;AACI;;AACJ;;AACJ;;AAcJ;;AAEA;;AACA;;AACI;;AACI;;AAGJ;;AACA;;AACI;;AAGJ;;AASJ;;AAEJ;;AAEJ;;AAIJ;;;;AA9C6B;;AAAA;;AAqB2B;;AAAA;;AAKA;;AAAA;;;;;;;;;wED9D3CA,gC,EAAgC;gBAL5C,uDAK4C;iBALlC;AACTpC,oBAAQ,EAAE,+BADD;AAETC,uBAAW,EAAE,4CAFJ;AAGTC,qBAAS,EAAE,CAAC,4CAAD;AAHF,W;AAKkC,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEV7C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AC8Ca;;AACC;;AACD;;;;;;;;AAFqD,0FAAmB,QAAnB,EAAmB,8CAAnB;;AACpD;;AAAA;;;;;;;;AAXN;;AAGI;;AAID;;AACgD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAE9C;;AAGD;;AAGA;;AACA;;AACI;;AACI;;AAAmF;AAAA;;AAAA;;AAAA;;AAAA,2CAAyB,IAAzB,EAA6B,IAA7B;AAA6B,WAA7B,EAAiC,UAAjC,EAAiC;AAAA;;AAAA;;AAAA;AAAA,WAAjC;;AAAnF;;AAGJ;;AACJ;;AACA;;AACI;;AAEI;;AAA4F;AAAA;;AAAA;;AAAA;;AAAA,2CAAwB,IAAxB,EAA4B,IAA5B;AAA4B,WAA5B,EAAgC,UAAhC,EAAgC;AAAA;;AAAA;;AAAA;AAAA,WAAhC;;AAA5F;;AAGJ;;AACJ;;AACA;;AACI;;AAEM;;AAAmD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACjD;;AAAU;;AAAM;;AAClB;;AACN;;AACJ;;AAIJ;;;;;;;;AA3CI;;AAUmC;;AAAA;;AAS2F;;AAAA;;AAQO;;AAAA;;;;;;AA8B/I;;AACE;;AAAQ;;AAAqC;;AAAQ;;AACrD;;AAAO;;AAAgB;;AACzB;;;;UDjFWsC,uB;AAsBX,yCAAsBC,EAAtB,EAA+CpU,MAA/C,EAAuEO,UAAvE,EAAsGK,KAAtG,EAAkIN,EAAlI,EACUH,cADV,EAC2C;AAAA;;AAAA;;AADrB,eAAAiU,EAAA,GAAAA,EAAA;AAAyB,eAAApU,MAAA,GAAAA,MAAA;AAAwB,eAAAO,UAAA,GAAAA,UAAA;AAA+B,eAAAK,KAAA,GAAAA,KAAA;AAA4B,eAAAN,EAAA,GAAAA,EAAA;AACxH,eAAAH,cAAA,GAAAA,cAAA,CAAiC,CAtB3C;;AAEA,eAAAP,IAAA,GAAK,IAAI,qEAAJ,EAAL;AAEA,eAAAyU,cAAA,GAA2B,EAA3B;AACA,eAAAC,gBAAA,GAA6B,EAA7B;AAEA,eAAAC,WAAA,GAAsB,EAAtB;AACA,eAAAC,YAAA,GAAqB,KAArB;AACA,eAAAC,kBAAA,GAA2B,KAA3B;AAGA,eAAAC,cAAA,GAAuB,KAAvB;AACA,eAAAC,sBAAA,GAAmC,EAAnC;AACA,eAAAC,mBAAA,GAA0B,EAA1B;AACA,eAAAC,SAAA,GAAkB,KAAlB;AACA,eAAAC,WAAA,GAAoB,KAApB;AACA,eAAAC,YAAA,GAAwB,IAAxB;AACA,eAAAC,aAAA,GAAsB,IAAtB;;AAkQA,eAAAC,yBAAA,GAA4B,UAACnV,KAAD,EAAW;AACrC,mBAAO,OAAI,CAACwU,gBAAL,CAAsB1F,QAAtB,CAA+B9O,KAA/B,CAAP;AACD,WAFD;AA9P8C;;;;iBAE9C,oBAAQ;AACN,iBAAKmE,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,iBAAKmQ,cAAL,GAAoB,CAAC,gBAAD,EAAkB,qBAAlB,EAAwC,aAAxC,EAAsD,WAAtD,EAAkE,WAAlE,EAA8E,gBAA9E,CAApB,CAFM,CAGN;;AACA,iBAAKa,sBAAL;AACA,gBAAIC,mBAAmB,GAAY7Q,IAAI,CAACC,KAAL,CAAW,KAAKjE,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAAX,CAAnC;;AACA,gBAAI,KAAKD,MAAL,IAAa,IAAb,IAAqBkR,mBAAzB,EAA8C;AAC5C,mBAAKC,0BAAL;AACD,aAFD,MAGI;AACFhU,qBAAO,CAACyC,GAAR,CAAY,EAAZ,EADE,CAEF;AACD;AAGF;;;iBACD,sCAA6B;AAAA;;AAC3B,iBAAKtD,UAAL,CAAgB8U,gBAAhB,CAAiC,KAAKpR,MAAtC,EAA8CwB,SAA9C,CAAwD,UAAC8O,WAAD,EAAiB;AACvEnT,qBAAO,CAACyC,GAAR,CAAY0Q,WAAZ;AAEE,qBAAI,CAACK,mBAAL,GAA2BL,WAA3B;;AACA,kBAAGA,WAAH,EAAe;AACb,uBAAI,CAACC,YAAL,GAAkB,IAAlB;AACA,uBAAI,CAACC,kBAAL,GAAwB,IAAxB;AACA,uBAAI,CAACK,WAAL,GAAiB,IAAjB;AACD,eAJD,MAKI;AACF,uBAAI,CAACN,YAAL,GAAkB,KAAlB;AACA,uBAAI,CAACC,kBAAL,GAAwB,KAAxB;AACD;;AACD,mBAAI,IAAI3Q,CAAC,GAAC,CAAV,EAAaA,CAAC,IAAE,OAAI,CAAC8Q,mBAAL,CAAyBjL,MAAzB,GAAgC,CAAhD,EAAkD7F,CAAC,EAAnD,EAAsD;AACpD,uBAAI,CAACwQ,gBAAL,CAAsBjF,IAAtB,CAA2B,OAAI,CAACuF,mBAAL,CAAyB9Q,CAAzB,EAA4BwR,SAAvD;AACD;;AACDlU,qBAAO,CAACyC,GAAR,CAAY,yBAAZ,EAAuC0Q,WAAvC;;AACA,qBAAI,CAACW,sBAAL,CAA4BX,WAA5B,EAAyC,IAAzC;AACD,aAlBH;AAmBD;;;iBACD,gCAAuBxO,IAAvB,EAA8BwP,UAA9B,EAAmD;AACjD,iBAAKC,iBAAL,GAAyB,KAAKpB,EAAL,CAAQ3G,KAAR,CAAc;AACrCgI,4BAAc,EAAE,KAAKrB,EAAL,CAAQsB,KAAR,CAAc,CAAC,KAAKC,aAAL,EAAD,CAAd;AADqB,aAAd,CAAzB;;AAGA,gBAAGJ,UAAH,EAAc;AACZ,mBAAKK,qBAAL,CAA2B7P,IAA3B;AACA3E,qBAAO,CAACyC,GAAR,CAAYkC,IAAZ;;AACA,mBAAI,IAAIjC,CAAC,GAAC,CAAV,EAAYA,CAAC,IAAEiC,IAAI,CAAC4D,MAAL,GAAY,CAA3B,EAA6B7F,CAAC,EAA9B,EAAiC;AAC/BiC,oBAAI,CAACjC,CAAD,CAAJ,CAAQ+R,UAAR,GAAmB,KAAKC,OAAL,CAAa/P,IAAI,CAACjC,CAAD,CAAJ,CAAQ+R,UAArB,CAAnB;AACA9P,oBAAI,CAACjC,CAAD,CAAJ,CAAQiS,mBAAR,GAA4B,KAAKD,OAAL,CAAa/P,IAAI,CAACjC,CAAD,CAAJ,CAAQiS,mBAArB,CAA5B;AACD;;AACD,mBAAKC,CAAL,CAAO1P,UAAP,CAAkBP,IAAlB;AACD;AACF;;;iBACD,+BAAsBA,IAAtB,EAA6B;AAC3B,gBAAMkQ,aAAa,GAAGlQ,IAAI,CAAC4D,MAA3B;;AACA,iBAAK,IAAIiC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGqK,aAA5B,EAA2CrK,KAAK,EAAhD,EAAoD;AAClD,mBAAKoK,CAAL,CAAO3G,IAAP,CAAY,KAAK+E,EAAL,CAAQ3G,KAAR,CAAc;AACxB6H,yBAAS,EAAE,CAAC,EAAD,CADa;AAE1BO,0BAAU,EAAE,CAAC,EAAD,CAFc;AAG1BE,mCAAmB,EAAE,CAAC,EAAD;AAHK,eAAd,CAAZ;AAKD;;AACD,iBAAKvB,YAAL,GAAkB,IAAlB;AACD;;;eACD,eAAQ;AAAE,mBAAO,KAAKgB,iBAAL,CAAuB3G,QAA9B;AAAyC;;;eACnD,eAAQ;AAAE,mBAAO,KAAKC,CAAL,CAAO2G,cAAd;AAA4C;;;iBACtD,mBAAO,CAEN;;;iBACD,yBAAa;AAEX,mBAAO,KAAKrB,EAAL,CAAQ3G,KAAR,CAAc;AACnB6H,uBAAS,EAAE,CAAC,EAAD,CADQ;AAEnBO,wBAAU,EAAE,CAAC,EAAD,EAAI,CAAE,0DAAW1H,SAAX,CAAqB,EAArB,CAAF,EAA2B,0DAAWF,OAAX,CAAmB,gBAAnB,CAA3B,CAAJ,CAFO;AAGnB8H,iCAAmB,EAAE,CAAC,EAAD,EAAK,CAAE,0DAAW5H,SAAX,CAAqB,EAArB,CAAF,EAA2B,0DAAWF,OAAX,CAAmB,gBAAnB,CAA3B,CAAL;AAHF,aAAd,CAAP;AAMD;;;iBAED,sBAAU;AACR,iBAAKuG,YAAL,GAAkB,KAAlB;AACA,iBAAKM,WAAL,GAAiB,KAAjB;AACA,iBAAKL,kBAAL,GAAwB,KAAxB;AACA,iBAAKO,aAAL,GAAmB,IAAnB;AACA,iBAAKD,YAAL,GAAkB,IAAlB;AACH3T,mBAAO,CAACyC,GAAR,CAAY,uBAAZ,EAAoC,KAAKyQ,gBAAzC;AACD,iBAAK0B,CAAL,CAAO3G,IAAP,CAAY,KAAK+E,EAAL,CAAQ3G,KAAR,CAAc;AACzB6H,uBAAS,EAAE,CAAC,EAAD,CADc;AAEzBO,wBAAU,EAAE,CAAC,EAAD,CAFa;AAGzBE,iCAAmB,EAAE,CAAC,EAAD;AAHI,aAAd,CAAZ;AAKG;;;iBAED,iBAAQG,IAAR,EAAY;AACV9U,mBAAO,CAACyC,GAAR,CAAYqS,IAAZ;AAEA,gBAAIC,QAAQ,GAAGD,IAAI,CAACpM,QAAL,GAAgBsM,OAAhB,CAAwB,IAAxB,EAA8B,EAA9B,EAAkCC,KAAlC,CAAwC,GAAxC,CAAf;AACAF,oBAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC,CAAD,CAAR,CAAYC,OAAZ,CAAoB,uBAApB,EAA6C,GAA7C,CAAd;;AACA,gBAAIE,MAAK,GAAGH,QAAQ,CAACI,IAAT,CAAc,GAAd,CAAZ;;AACA,mBAAOD,MAAP;AAED;;;iBACD,mBAAUrM,KAAV,EAAsB;AACpB,gBAAMgE,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC1BpE,mBAAK,CAACwE,cAAN;AACH;;AACD,iBAAK+F,YAAL,GAAkB,IAAlB;AACA,iBAAKQ,aAAL,GAAmB,KAAnB;AACA;;;iBACD,kBAAS/K,KAAT,EAAqB;AACpB,gBAAMgE,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC1BpE,mBAAK,CAACwE,cAAN;AACH;;AACD,iBAAKgG,kBAAL,GAAwB,IAAxB;AACA;;;iBACD,iBAAQxK,KAAR,EAAoBuM,IAApB,EAAyBC,CAAzB,EAA4B;AACzB,iBAAKC,SAAL,GAAiBzM,KAAK,CAAC8G,MAAN,CAAajR,KAA9B;AACA,gBAAI6W,QAAQ,GAAC,KAAKC,WAAL,CAAiB,KAAKpB,iBAAL,CAAuB1V,KAAvB,CAA6B2V,cAA7B,CAA4CgB,CAA5C,EAA+CZ,UAAhE,CAAb;AACA,gBAAIgB,QAAQ,GAAC,KAAKD,WAAL,CAAiB,KAAKF,SAAtB,CAAb;;AACA,gBAAG,CAAC,KAAKA,SAAT,EAAmB;AACjB,mBAAKjC,kBAAL,GAAwB,KAAxB;AACD,aAFD,MAEK;AACH,mBAAKA,kBAAL,GAAwB,IAAxB;AACD;;AAEH,gBAAIqC,MAAM,CAACD,QAAD,CAAN,GAAmBC,MAAM,CAACH,QAAD,CAA7B,EAAwC;AACtC,mBAAKjC,cAAL,GAAoB,IAApB;AACD,aAFD,MAGK,IAAIoC,MAAM,CAACD,QAAD,CAAN,GAAmBC,MAAM,CAACH,QAAD,CAA7B,EAAwC;AAC3C,mBAAKjC,cAAL,GAAoB,KAApB;AACD,aAFI,MAGD;AACF,mBAAKA,cAAL,GAAoB,KAApB;AACD;;AACD,gBAAIqC,OAAO,GAAC;AACVhB,iCAAmB,EAAC,KAAKD,OAAL,CAAa,KAAKY,SAAlB;AADV,aAAZ;AAGA,iBAAKV,CAAL,CAAOnH,QAAP,CAAgB4H,CAAhB,EAAmBnQ,UAAnB,CAA8ByQ,OAA9B,EAtB2B,CAyB7B;AACA;AACA;AAEC;;;iBAED,kBAAS9M,KAAT,EAAqBuM,IAArB,EAA0BC,CAA1B,EAA6B;AACzB,iBAAKO,UAAL,GAAkB/M,KAAK,CAAC8G,MAAN,CAAajR,KAA/B;;AACA,gBAAG,CAAC,KAAKkX,UAAT,EAAoB;AAClB,mBAAKxC,YAAL,GAAkB,KAAlB;AACD,aAFD,MAEK;AACH,mBAAKA,YAAL,GAAkB,IAAlB;AACD;;AACD,gBAAIuC,OAAO,GACX;AACElB,wBAAU,EAAC,KAAKC,OAAL,CAAa,KAAKkB,UAAlB;AADb,aADA;AAIA,iBAAKhB,CAAL,CAAOnH,QAAP,CAAgB4H,CAAhB,EAAmBnQ,UAAnB,CAA8ByQ,OAA9B;AACH;;;iBACD,kBAASN,CAAT,EAAU;AAAA;;AACR,iBAAK3B,WAAL,GAAiB,IAAjB;AACA,iBAAKL,kBAAL,GAAwB,IAAxB;AACA,iBAAKD,YAAL,GAAkB,IAAlB;AACA,iBAAKK,SAAL,GAAe,KAAf;AACA,iBAAKG,aAAL,GAAmB,KAAnB;AACA,iBAAKD,YAAL,GAAkB,KAAlB;AACA,gBAAM1E,OAAO,GAAc,KAAKmF,iBAAL,CAAuB3G,QAAvB,CAAgC,gBAAhC,CAA3B;AACAwB,mBAAO,CAAC4G,QAAR,CAAiBR,CAAjB;;AACA,gBAAG,KAAK7B,mBAAL,IAA0BsC,SAA7B,EAAuC;AACrC9V,qBAAO,CAACyC,GAAR,CAAY,SAAZ;AACD,aAFD,MAGK,IAAG,KAAK+Q,mBAAL,CAAyB6B,CAAzB,KAA6BS,SAAhC,EAA0C;AAC/C,kBAAIvL,EAAE,GAAG,KAAKiJ,mBAAL,CAAyB6B,CAAzB,EAA4BU,YAArC;AACA,mBAAK5W,UAAL,CAAgB6W,mBAAhB,CAAoCzL,EAApC,EACClG,SADD,CACW,UAAAM,IAAI,EAAI,CAElB,CAHD,EAKE,UAAAJ,GAAG,EAAE;AACH,oBAAIA,GAAG,CAACuF,MAAJ,IAAc,GAAlB,EAAuB;AACrB,yBAAI,CAACtK,KAAL,CAAW0L,IAAX,CAAgB,6BAAhB,EAA+C,IAA/C,EAAqD;AACnDG,4BAAQ,EAAE,IADyC;AAEnDC,oCAAgB,EAAE,KAFiC;AAGnDC,sCAAkB,EAAE;AAH+B,mBAArD;AAKD;AAGJ,eAfD;AAgBE;;AAEA,iBAAK2H,gBAAL,CAAsB+C,MAAtB,CAA6BZ,CAA7B,EAA+B,CAA/B;AACArV,mBAAO,CAACyC,GAAR,CAAY,qCAAZ,EAAkD,KAAKyQ,gBAAvD;AACA,iBAAKE,YAAL,GAAkB,IAAlB;AAEH;;;iBAED,oBAAQ;AAAA;;AACN,gBAAIzO,IAAJ;AACD,gBAAIgR,OAAO,GAAO,EAAlB;AACA,iBAAKvB,iBAAL,CAAuB1V,KAAvB,CAA6B2V,cAA7B,CAA4CxR,MAA5C,GAAmD,KAAKA,MAAxD;;AACA,gBAAG,KAAK2Q,mBAAR,EAA4B;AAC3B,mBAAI,IAAI9Q,CAAC,GAAE,KAAK8Q,mBAAL,CAAyBjL,MAApC,EAA2C7F,CAAC,IAAE,KAAK0R,iBAAL,CAAuB1V,KAAvB,CAA6B2V,cAA7B,CAA4C9L,MAA5C,GAAmD,CAAjG,EAAmG7F,CAAC,EAApG,EAAuG;AACrGiC,oBAAI,GAAC,KAAKyP,iBAAL,CAAuB1V,KAAvB,CAA6B2V,cAA7B,CAA4C3R,CAA5C,CAAL;AACA,oBAAIwT,cAAc,GAAC1N,MAAM,CAAC2N,MAAP,CAAc,EAAd,EAAiBxR,IAAjB,EAAsB;AAAC9B,wBAAM,EAAE,KAAKA;AAAd,iBAAtB,CAAnB;AACAqT,8BAAc,CAACzB,UAAf,GAA0B2B,QAAQ,CAAC,KAAKZ,WAAL,CAAiBU,cAAc,CAACzB,UAAhC,CAAD,CAAlC;AACAyB,8BAAc,CAACvB,mBAAf,GAAmCyB,QAAQ,CAAC,KAAKZ,WAAL,CAAiBU,cAAc,CAACvB,mBAAhC,CAAD,CAA3C;AACAgB,uBAAO,CAAC1H,IAAR,CAAaiI,cAAb;AAED;AACD,aATD,MASK;AACJ,mBAAI,IAAIxT,GAAC,GAAE,CAAX,EAAaA,GAAC,GAAC,KAAK0R,iBAAL,CAAuB1V,KAAvB,CAA6B2V,cAA7B,CAA4C9L,MAA3D,EAAkE7F,GAAC,EAAnE,EAAsE;AACpEiC,oBAAI,GAAC,KAAKyP,iBAAL,CAAuB1V,KAAvB,CAA6B2V,cAA7B,CAA4C3R,GAA5C,CAAL;;AACA,oBAAIwT,eAAc,GAAC1N,MAAM,CAAC2N,MAAP,CAAc,EAAd,EAAiBxR,IAAjB,EAAsB;AAAC9B,wBAAM,EAAE,KAAKA;AAAd,iBAAtB,CAAnB;;AACAqT,+BAAc,CAACzB,UAAf,GAA0B2B,QAAQ,CAAC,KAAKZ,WAAL,CAAiBU,eAAc,CAACzB,UAAhC,CAAD,CAAlC;AACAyB,+BAAc,CAACvB,mBAAf,GAAmCyB,QAAQ,CAAC,KAAKZ,WAAL,CAAiBU,eAAc,CAACvB,mBAAhC,CAAD,CAA3C;AACAgB,uBAAO,CAAC1H,IAAR,CAAaiI,eAAb;AAED;AACD;;AAEA,iBAAK/W,UAAL,CAAgBkX,mBAAhB,CAAoCV,OAApC,EAA6CtR,SAA7C,CAAuD,UAAAM,IAAI,EAAI;AAC7D3E,qBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoBkC,IAApB;;AACA,kBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,uBAAI,CAACnF,KAAL,CAAW0L,IAAX,CAAgB,iCAAhB,EAAmD,IAAnD,EAAyD;AACvDG,0BAAQ,EAAE,IAD6C;AAEvDC,kCAAgB,EAAE,KAFqC;AAGvDC,oCAAkB,EAAE;AAHmC,iBAAzD,EADgB,CAMhB;AACA;;;AACA,uBAAI,CAAC3F,IAAL;AACD;AACF,aAZD;AAcD;;;iBACD,qBAAY0Q,GAAZ,EAAmB;AACjB,gBAAIC,IAAI,GAAED,GAAG,CAACtB,OAAJ,CAAY,IAAZ,EAAkB,EAAlB,CAAV;AACAhV,mBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAmB8T,IAAnB;AACA,mBAAOA,IAAP;AAED;;;iBACD,kBAAM;AACJ,iBAAK3X,MAAL,CAAY8Q,QAAZ,CAAqB,4DAArB;AACD;;;iBACD,gBAAI;AACD,iBAAKxQ,EAAL,CAAQiG,OAAR,CAAgB,qBAAhB,EAAuC,IAAvC;AACC,iBAAKpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACF,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,2DAArB;AACD;;;iBAKD,sBAAa7G,KAAb,EAAwBnG,CAAxB,EAA2B;AAAA;;AACzB,iBAAKgR,WAAL,GAAiB,IAAjB;;AACA,gBAAI,KAAKH,sBAAL,CAA4B7Q,CAA5B,CAAJ,EAAoC;AAClC,mBAAKwQ,gBAAL,GAAwB,KAAKA,gBAAL,CAAsB7K,MAAtB,CACtB,UAACpD,GAAD;AAAA,uBAASA,GAAG,KAAK,OAAI,CAACsO,sBAAL,CAA4B7Q,CAA5B,CAAjB;AAAA,eADsB,CAAxB;AAGD;;AAED,iBAAK6Q,sBAAL,CAA4B7Q,CAA5B,IAAiCmG,KAAjC;AACA,iBAAKqK,gBAAL,CAAsBjF,IAAtB,CAA2BpF,KAA3B;;AACA,gBAAG,KAAK0K,sBAAL,CAA4BhL,MAA5B,IAAoC,KAAK0K,cAAL,CAAoB1K,MAA3D,EAAkE;AAChE,mBAAKkL,SAAL,GAAe,IAAf;AAEAzT,qBAAO,CAACyC,GAAR,CAAY,WAAZ,EAAwB,KAAKgR,SAA7B;AACD,aAJD,MAKI;AACF,mBAAKA,SAAL,GAAe,KAAf;AACAzT,qBAAO,CAACyC,GAAR,CAAY,WAAZ,EAAwB,KAAKgR,SAA7B;AACD;;AACD,iBAAKE,YAAL,GAAkB,KAAlB;AACD;;;;;;;yBA7SUZ,uB,EAAuB,2H,EAAA,uH,EAAA,2I,EAAA,wI,EAAA,0J,EAAA,sJ;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA,iB;AAAA,e;AAAA,wyC;AAAA;AAAA;ACfpC;;AACA;;AACI;;AACE;;AACE;;AAKF;;AACA;;AACE;;AAAyB;;AAAG;;AAAgB;;AAAI;;AAClD;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACA;;AAAuB;;AAAgB;;AACvC;;AACF;;AACR;;AACG;;AACA;;AACC;;AACI;;AACI;;AAAI;;AACD;;AACH;;AAAI;;AAAW;;AACf;;AAAI;;AAAqB;;AAC7B;;AACJ;;AAEA;;AACI;;AA6CJ;;AAKJ;;AACA;;AAKE;;AAA0I;AAAA,qBAAS,IAAAyD,UAAA,EAAT;AAAqB,aAArB;;AAAwB;;AAAU;;AAAG;;AAAY;;AAC3L;;AAIF;;AAWA;;AAMA;;AAA4B;AAAA,qBAAS,IAAA/D,MAAA,EAAT;AAAiB,aAAjB;;AAC1B;;AACF;;AACA;;AACiH;AAAA,qBAAS,IAAAgE,QAAA,EAAT;AAAmB,aAAnB;;AAAsB;;AAAK;;AAE5I;;AAEA;;AACA;;AAGM;;AACF;;AACF;;AACF;;;;AA1GM;;AAAA;;AAa4D;;AAAA;;AAwD5B;;AAAA;;AACxB;;AAAA;;AAyBV;;AAAA;;;;;;;;;wEDvGS1D,uB,EAAuB;gBALnC,uDAKmC;iBALzB;AACTxC,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKyB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEfpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACiCoB;;AAIE;;AACF;;;;;;AAHE;;AAEA;;AAAA;;;;;;AATN;;AACE;;AAIE;;AAQF;;AACF;;;;;;AAR+B;;AAAA;;;;;;AAU/B;;AACE;;AAOF;;;;;;AAEF;;AAME;;AACF;;;;;;AA8BU;;AAME;;AACF;;;;;;AA0CA;;AAME;;AACF;;;;;;;;AAjFd;;AACE;;AACE;;AACE;;AAAI;;AAAM;;AACV;;AAA0C;;AAC1C;;AACE;;AACE;;AACE;;AACE;;AAEA;;AAAW;;AAAc;;AAEvB;;AAIE;;AAAY;AAAA;;AAAA;;AAAA;AAAA;;AACY;;AAAW;;AACnC;;AAAY;AAAA;;AAAA;;AAAA;AAAA;;AACe;;AAAc;;AACzC;;AAAY;AAAA;;AAAA;;AAAA;AAAA;;AACkB;;AAAiB;;AACjD;;AAEF;;AAQA;;AACF;;AACA;;AACE;;AACA;;AAAY;;AAAO;;AAEjB;;AAiBF;;AACF;;AACF;;AACA;;AACE;;AACE;;AAEA;;AAAW;;AAAQ;;AAEjB;;AAIE;AAAA;;AAAA;;AAAA;AAAA;;AAJF;;AASF;;AAQA;;AACF;;AACF;;AACF;;AAEF;;AACF;;AACF;;AACF;;;;;;;;AAzFiB;;AAAA;;AAIN;;AAAA;;AAYuC;;AAAA;;AAEA;;AAAA;;AAEA;;AAAA;;AAKjC;;AAAA;;AAiDA;;AAAA;;;;;;;;AAxHnB;;AACE;;AACE;;AACE;;AAEA;;AAAW;;AAAc;;AAEvB;;AAgBA;;AAUF;;AAQA;;AACF;;AACF;;AAEA;;AA2FA;;AAA+D;AAAA;;AAAA;;AAAA;AAAA;;AAC7D;;AAAU;;AAAG;;AAAY;;AAC3B;;AACA;;AAME;;AAA4B;AAAA;;AAAA;;AAAA;AAAA;;AAC1B;;AACF;;AACA;;AAAgG;AAAA;;AAAA;;AAAA;AAAA;;AAC9F;;AACF;;AACF;;AACF;;;;;;AAxJgC;;AAOlB;;AAAA;;AAgBA;;AAAA;;AAWL;;AAAA;;AAWgC;;AAAA;;AA2FJ;;AAAA;;AAYyB;;AAAA;;;;UD3JzDiG,iC;AAUX,mDACUtX,WADV,EAEUR,MAFV,EAGUM,EAHV,EAIUK,aAJV,EAKUC,KALV,EAMUmX,GANV,EAOU5X,cAPV,EAOwC;AAAA;;AAN9B,eAAAK,WAAA,GAAAA,WAAA;AACA,eAAAR,MAAA,GAAAA,MAAA;AACA,eAAAM,EAAA,GAAAA,EAAA;AACA,eAAAK,aAAA,GAAAA,aAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACA,eAAAmX,GAAA,GAAAA,GAAA;AACA,eAAA5X,cAAA,GAAAA,cAAA;AAfV,eAAA6X,aAAA,GAAuB,EAAvB;AAgBI;;;;iBAEJ,oBAAQ;AACN,iBAAK/T,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AAEA,iBAAKqJ,YAAL,GAAoB,KAAKjN,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAApB;AACA,iBAAK+N,yBAAL,GAAiC,KAAK3R,EAAL,CAAQ4D,OAAR,CAAgB,yBAAhB,CAAjC;AACA,iBAAK+T,6BAAL;AACA,iBAAKC,eAAL;;AAEA,gBAAI,KAAKjG,yBAAL,IAAkC,KAAtC,EAA6C;AAC3C,mBAAKiG,eAAL;AACD,aAFD,MAEO;AACL,mBAAKC,yBAAL;AACD;AACF;;;eAED,eAAQ;AACN,mBAAO,KAAKC,iBAAL,CAAuBvJ,QAA9B;AACD;;;eACD,eAAQ;AACN,mBAAO,KAAKC,CAAL,CAAOuJ,YAAd;AACD;;;iBAED,yBAAgBtS,IAAhB,EAAuBwP,UAAvB,EAA6C;AAC3CnU,mBAAO,CAACyC,GAAR,CAAYkC,IAAZ;AAEA,iBAAKqS,iBAAL,GAAyB,KAAK5X,WAAL,CAAiBiN,KAAjB,CAAuB;AAC9C;AACA;AACAxJ,oBAAM,EAAE,KAAKA,MAHiC;AAI9C;AACA;AACAsJ,0BAAY,EAAExH,IAAI,GAAGA,IAAI,CAACwH,YAAR,GAAuB,KAAKyK,aAAL,CAAmB,CAAnB,CANK;AAO9C;AACAK,0BAAY,EAAE,KAAK7X,WAAL,CAAiBkV,KAAjB,CAAuB,CAAC,KAAK4C,eAAL,CAAqBvS,IAArB,CAAD,CAAvB;AARgC,aAAvB,CAAzB;AAWA3E,mBAAO,CAACyC,GAAR,CAAY,KAAKuU,iBAAjB;AACD;;;iBACD,wBAAe;AACb,iBAAKG,CAAL,CAAOlJ,IAAP,CACE,KAAK7O,WAAL,CAAiBiN,KAAjB,CAAuB;AACrB+K,sBAAQ,EAAE,CAAC,CAAD,CADW;AAErBC,wBAAU,EAAE,CAAC,EAAD,EAAK,0DAAW1K,QAAhB,CAFS;AAGrB2K,qBAAO,EAAE,CAAC,EAAD,EAAK,0DAAW3K,QAAhB;AAHY,aAAvB,CADF;AAWD;;;iBAED,kBAAS;AACP,iBAAK/N,MAAL,CAAY8Q,QAAZ,CAAqB,CAAC,yCAAD,CAArB;AACD;;;iBAED,yBAAgB/K,IAAhB,EAAoB;AAClB3E,mBAAO,CAACyC,GAAR,CAAYkC,IAAZ,EAAkB,uBAAlB;AACA,mBAAO,KAAKvF,WAAL,CAAiBiN,KAAjB,CAAuB;AAC5B;AACAxJ,oBAAM,EAAE,CAAC,KAAKA,MAAN,CAFoB;AAG5BuU,sBAAQ,EAAE,CAACzS,IAAI,GAAGA,IAAI,CAACyS,QAAR,GAAmB,CAAxB,CAHkB;AAI5BC,wBAAU,EAAE,CACV1S,IAAI,GAAGA,IAAI,CAACsS,YAAL,CAAkB,CAAlB,EAAqBI,UAAxB,GAAqC,EAD/B,EAEV,0DAAW1K,QAFD,CAJgB;AAQ5B2K,qBAAO,EAAE,CAAC3S,IAAI,GAAGA,IAAI,CAACsS,YAAL,CAAkB,CAAlB,EAAqBK,OAAxB,GAAkC,EAAvC,EAA2C,0DAAW3K,QAAtD,CARmB;AAS5B4K,qBAAO,EAAE,CAAC5S,IAAI,GAAGA,IAAI,CAACsS,YAAL,CAAkB,CAAlB,EAAqBM,OAAxB,GAAkC,EAAvC;AATmB,aAAvB,CAAP;AAcD;;;iBAED,yCAAgC;AAAA;;AAC9B,iBAAKhY,aAAL,CACGiY,yBADH,CAC6B,KAAK3U,MADlC,EAC0C,YAD1C,EAEGwB,SAFH,CAGI,UAACC,IAAD,EAAe;AACbtE,qBAAO,CAACyC,GAAR,CAAY,sCAAZ,EAAoD6B,IAAI,CAACK,IAAzD;;AACA,mBAAK,IAAI6F,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGlG,IAAI,CAACK,IAAL,CAAU4D,MAAtC,EAA8CiC,KAAK,EAAnD,EAAuD;AACrD,oBAAIlG,IAAI,CAACK,IAAL,CAAU6F,KAAV,EAAiB9D,UAAjB,IAA+B,IAAnC,EAAyC;AACvC,yBAAI,CAACkQ,aAAL,CAAmBpM,KAAnB,IACElG,IAAI,CAACK,IAAL,CAAU6F,KAAV,EAAiB/D,SAAjB,GAA6B,GAA7B,GAAmCnC,IAAI,CAACK,IAAL,CAAU6F,KAAV,EAAiB7D,QADtD;AAED,iBAHD,MAGO;AACL,yBAAI,CAACiQ,aAAL,CAAmBpM,KAAnB,IACElG,IAAI,CAACK,IAAL,CAAU6F,KAAV,EAAiB/D,SAAjB,GACA,GADA,GAEAnC,IAAI,CAACK,IAAL,CAAU6F,KAAV,EAAiB9D,UAFjB,GAGA,GAHA,GAIApC,IAAI,CAACK,IAAL,CAAU6F,KAAV,EAAiB7D,QALnB;AAMD;AACF;;AACD3G,qBAAO,CAACyC,GAAR,CAAY,gBAAZ,EAA8B,OAAI,CAACmU,aAAnC;;AACA,kBAAI,OAAI,CAACA,aAAT,EAAwB;AACtB5W,uBAAO,CAACyC,GAAR,CAAY,aAAZ;;AACA,uBAAI,CAACuU,iBAAL,CACGjS,GADH,CACO,cADP,EAEGS,QAFH,CAEY,OAAI,CAACoR,aAAL,CAAmB,CAAnB,CAFZ;AAGD;AACF,aAzBL,EA0BI,UAACrS,GAAD,EAAc,CAAE,CA1BpB;AA4BD;;;iBACD,qCAA4B;AAAA;;AAC1B,iBAAKoS,GAAL,CAASrE,0BAAT,CAAoC,KAAKzP,MAAzC,EAAiDwB,SAAjD,CAA2D,UAACC,IAAD,EAAe;AACxEtE,qBAAO,CAACyC,GAAR,CAAY6B,IAAZ;;AACA,qBAAI,CAACwS,eAAL,CAAqBxS,IAArB,EAA2B,IAA3B;AACD,aAHD;AAID;;;iBAED,kBAASW,GAAT,EAAc;AAAA;;AACZjF,mBAAO,CAACyC,GAAR,CAAY,KAAZ,EAAmBwC,GAAnB;AACAA,eAAG,CAACoK,WAAJ,GAAkB,YAAlB;AACA,iBAAKsH,GAAL,CAASc,iBAAT,CAA2BxS,GAA3B,EAAgCZ,SAAhC,CACE,UAACM,IAAD,EAAe;AACb3E,qBAAO,CAACyC,GAAR,CAAYkC,IAAZ;;AACA,kBAAIA,IAAI,KAAK,GAAT,IAAgBA,IAAI,KAAK,IAA7B,EAAmC;AACjC,uBAAI,CAACnF,KAAL,CAAW0L,IAAX,CAAgB,wBAAhB,EAA0C,IAA1C,EAAgD;AAC9CG,0BAAQ,EAAE,IADoC;AAE9CC,kCAAgB,EAAE,KAF4B;AAG9CC,oCAAkB,EAAE;AAH0B,iBAAhD;;AAKA,uBAAI,CAACrM,EAAL,CAAQiG,OAAR,CAAgB,yBAAhB,EAA2C,IAA3C;;AACA,uBAAI,CAACpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;;AACA,uBAAI,CAAChH,MAAL,CAAY8Q,QAAZ,CAAqB,8CAArB;AACD,eATD,MASO,IAAI/K,IAAI,KAAK,GAAb,EAAkB;AACvB,uBAAI,CAACnF,KAAL,CAAW0L,IAAX,CACE,gCADF,EAEE,uBAFF,EAGE;AACEG,0BAAQ,EAAE,IADZ;AAEEC,kCAAgB,EAAE,KAFpB;AAGEC,oCAAkB,EAAE;AAHtB,iBAHF;AASD;AACF,aAvBH,EAwBE,UAAChH,GAAD,EAAS;AACPvE,qBAAO,CAACyC,GAAR,CAAY8B,GAAZ;AACD,aA1BH;AA4BA,iBAAK3F,MAAL,CAAY8Q,QAAZ,CAAqB,+CAArB;AACD;;;iBACD,mBAAU7G,KAAV,EAAsB;AACpB,gBAAMgE,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC5BpE,mBAAK,CAACwE,cAAN;AACD;AACF;;;iBAED,mBAAU;AACT,iBAAI,IAAI3K,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,CAAf,EAAkBA,CAAC,EAAnB,EAAuB;AACrB,kBAAG,KAAKsU,iBAAL,CAAuBtY,KAAvB,CAA6BuY,YAA7B,CAA0CvU,CAA1C,EAA6C2U,UAA7C,IAAyD,aAA5D,EAA2E;AACzE,qBAAKK,WAAL,GAAiB,IAAjB;AACA,qBAAKC,cAAL,GAAoB,KAApB;AACA,qBAAKC,gBAAL,GAAsB,KAAtB;AACA;;AACF,kBAAG,KAAKZ,iBAAL,CAAuBtY,KAAvB,CAA6BuY,YAA7B,CAA0CvU,CAA1C,EAA6C2U,UAA7C,IAAyD,gBAA5D,EAA8E;AAC5E,qBAAKM,cAAL,GAAoB,IAApB;AACA,qBAAKC,gBAAL,GAAsB,KAAtB;AACA,qBAAKF,WAAL,GAAiB,KAAjB;AACA;;AACF,kBAAG,KAAKV,iBAAL,CAAuBtY,KAAvB,CAA6BuY,YAA7B,CAA0CvU,CAA1C,EAA6C2U,UAA7C,IAAyD,mBAA5D,EAAiF;AAC/E,qBAAKO,gBAAL,GAAsB,IAAtB;AACA,qBAAKD,cAAL,GAAoB,KAApB;AACA,qBAAKD,WAAL,GAAiB,KAAjB;AAGA;AACF;;AACD,gBAAG,KAAKV,iBAAL,CAAuBtY,KAAvB,CAA6BuY,YAA7B,CAA0C1O,MAA1C,IAAkD,CAArD,EAAwD;AACtD,mBAAKsP,gBAAL,GAAsB,IAAtB;AACD;AACF;;;;;;;yBAnMUnB,iC,EAAiC,2H,EAAA,uH,EAAA,0J,EAAA,iL,EAAA,wI,EAAA,2I,EAAA,sJ;AAAA,O;;;cAAjCA,iC;AAAiC,uD;AAAA,iB;AAAA,e;AAAA,ynD;AAAA;AAAA;ACd9C;;AACA;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AAAyB;;AAAG;;AAAoB;;AAAI;;AACtD;;AACF;;AACF;;AACA;;AACE;;AAEE;;AACE;;AACE;;AACA;;AAAuB;;AAAoB;;AAC3C;;AACF;;AACA;;AACE;;AAyJF;;AACF;;AACF;;AACF;;AACA;;;;AA7Je;;AAAA;;;;;;;;;wEDPFA,iC,EAAiC;gBAL7C,uDAK6C;iBALnC;AACTnG,oBAAQ,EAAE,gCADD;AAETC,uBAAW,EAAE,6CAFJ;AAGTC,qBAAS,EAAE,CAAC,6CAAD;AAHF,W;AAKmC,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEd9C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACqBoB;;AAEI;;AACI;;AACI;;AACI;;AAEJ;;AACA;;AACI;;AACI;;AAAyB;;AAAwB;;AACjD;;AAEJ;;AACJ;;AACA;;AACI;;AACI;;AAAyB;;AAAW;;AACpC;;AAGJ;;AACJ;;AACA;;AACI;;AACI;;AAAyB;;AAAgB;;AACzC;;AAEJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;AA7BsB;;AAAA;;;;;;AARlC;;AAEI;;AAEI;;AACI;;AAiCJ;;AACJ;;AACJ;;;;;;AAxC2B;;AAKuB;;AAAA;;;;;;AAsD1B;;AAEI;;AACI;;AACI;;AACI;;AAEJ;;AACA;;AACI;;AACI;;AAAyB;;AAAM;;AAC/B;;AAEJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;;;AAdsB;;AAAA;;;;;;AANlC;;AACI;;AACI;;AACI;;AAkBJ;;AACJ;;AACJ;;;;;;AAvB2B;;AAGuB;;AAAA;;;;UD/DzDqH,0B;AAyBX,4CACU1Y,WADV,EAEUF,EAFV,EAGUM,KAHV,EAIUmX,GAJV,EAKU/X,MALV,EAKwB;AAAA;;AAJd,eAAAQ,WAAA,GAAAA,WAAA;AACA,eAAAF,EAAA,GAAAA,EAAA;AACA,eAAAM,KAAA,GAAAA,KAAA;AACA,eAAAmX,GAAA,GAAAA,GAAA;AACA,eAAA/X,MAAA,GAAAA,MAAA;AA7BV,eAAAmZ,mBAAA,GAA+B,KAA/B;AAqBA,eAAA1I,WAAA,GAAsB,WAAtB;AASI;;;;iBAEJ,oBAAQ;AAAA;;AACN,iBAAKxM,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ,CADM,CAEN;AACA;AACA;AAEA;AACA;;AACA,iBAAKkV,wBAAL,CAA8B,KAAKnV,MAAnC;AACA,iBAAKoV,YAAL,GAAoB,KAAK7Y,WAAL,CAAiBiN,KAAjB,CAAuB;AACzC6L,sBAAQ,EAAE,IAAI,wDAAJ,CAAc,EAAd;AAD+B,aAAvB,CAApB;AAGA,iBAAKC,UAAL,GAAkB,KAAK/Y,WAAL,CAAiBiN,KAAjB,CAAuB;AACvC+L,oBAAM,EAAE,IAAI,wDAAJ,CAAc,EAAd;AAD+B,aAAvB,CAAlB;AAGA,iBAAKC,YAAL,GAAoB,KAAKjZ,WAAL,CAAiBiN,KAAjB,CAAuB;AACzCiM,sBAAQ,EAAE,IAAI,wDAAJ,CAAc,EAAd;AAD+B,aAAvB,CAApB;AAGA,iBAAKC,QAAL,GAAgB,KAAKnZ,WAAL,CAAiBiN,KAAjB,CAAuB;AACrCmM,kBAAI,EAAE,IAAI,wDAAJ,CAAc,EAAd;AAD+B,aAAvB,CAAhB,CAlBM,CAwBN;;AACA,iBAAK7B,GAAL,CACG8B,kBADH,CACsB,eADtB,EACuC,KAAKpJ,WAD5C,EAEGhL,SAFH,CAEa,UAAC8N,QAAD,EAAc;AACvB,qBAAI,CAACuG,YAAL,CAAkBvG,QAAQ,CAAC5J,MAA3B;;AACA,qBAAI,CAACoQ,GAAL,CAASzT,UAAT,CAAoBiN,QAApB;AACD,aALH;AAMD;;;iBAED,kCAAyBtP,MAAzB,EAAmC;AAAA;;AACjC,iBAAK8T,GAAL,CAASiC,yBAAT,CAAmC/V,MAAnC,EACGwB,SADH,CACa,UAACwU,WAAD,EAAsB;AAChC7Y,qBAAO,CAACyC,GAAR,CAAYoW,WAAZ;AACA,qBAAI,CAACC,aAAL,GAAmBD,WAAW,CAACC,aAA/B;AACA9Y,qBAAO,CAACyC,GAAR,CAAY,OAAI,CAACqW,aAAjB;;AACA,qBAAI,CAACC,aAAL,CAAmB,OAAI,CAACD,aAAL,CAAmBvQ,MAAtC;;AACA,qBAAI,MAAJ,CAAQrD,UAAR,CAAmB,OAAI,CAAC4T,aAAxB;;AAEA,qBAAI,CAACE,UAAL,GAAkBH,WAAW,CAACG,UAA9B;;AACA,qBAAI,CAACN,YAAL,CAAkB,OAAI,CAACM,UAAL,CAAgBzQ,MAAlC;;AACA,qBAAI,CAACoQ,GAAL,CAASzT,UAAT,CAAoB,OAAI,CAAC8T,UAAzB;AACA,aAXH;AAYD;;;iBAED,uBAAcC,CAAd,EAAiB;AACf;AACA,gBAAMpE,aAAa,GAAGoE,CAAC,IAAI,CAA3B;;AACA,gBAAI,WAAQ1Q,MAAR,GAAiBsM,aAArB,EAAoC;AAClC,mBAAK,IAAInS,CAAC,GAAG,WAAQ6F,MAArB,EAA6B7F,CAAC,GAAGmS,aAAjC,EAAgDnS,CAAC,EAAjD,EAAqD;AACnD,2BAAQuL,IAAR,CACE,KAAK7O,WAAL,CAAiBiN,KAAjB,CAAuB;AACrB6M,6BAAW,EAAE,CAAC,EAAD,CADQ;AAErBC,uCAAqB,EAAE,CAAC,EAAD,CAFF;AAGrBC,0BAAQ,EAAE,CAAC,EAAD,CAHW;AAIrBC,+BAAa,EAAE,CAAC,EAAD,CAJM;AAKrB;AACAxW,wBAAM,EAAE,CAAC,KAAKA,MAAN,CANa;AAOrByW,6BAAW,EAAE,CAAC,EAAD,CAPQ;AAQrBC,2BAAS,EAAE,CAAC,EAAD,CARU;AASrBC,kCAAgB,EAAE,CAAC,EAAD,CATG;AAUrBC,gCAAc,EAAE,CAAC,EAAD;AAVK,iBAAvB,CADF;AAcD;AACF,aAjBD,MAiBO;AACL,mBAAK,IAAI/W,GAAC,GAAG,WAAQ6F,MAArB,EAA6B7F,GAAC,IAAImS,aAAlC,EAAiDnS,GAAC,EAAlD,EAAsD;AACpD,2BAAQmT,QAAR,CAAiBnT,GAAjB;AACD;AACF;AACF;;;iBAED,sBAAauW,CAAb,EAAgB;AACd,iBAAKpW,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,gBAAM+R,aAAa,GAAGoE,CAAC,IAAI,CAA3B;;AACA,gBAAI,KAAKN,GAAL,CAASpQ,MAAT,GAAkBsM,aAAtB,EAAqC;AACnC,mBAAK,IAAInS,CAAC,GAAG,KAAKiW,GAAL,CAASpQ,MAAtB,EAA8B7F,CAAC,GAAGmS,aAAlC,EAAiDnS,CAAC,EAAlD,EAAsD;AACpD,qBAAKiW,GAAL,CAAS1K,IAAT,CACE,KAAK7O,WAAL,CAAiBiN,KAAjB,CAAuB;AACrB6M,6BAAW,EAAE,CAAC,EAAD,CADQ;AAErBQ,wBAAM,EAAE,CAAC,EAAD,CAFa;AAGrBC,wBAAM,EAAE,CAAC,IAAD,CAHa;AAIrB9W,wBAAM,EAAE,CAAC,KAAKA,MAAN,CAJa;AAKrB+W,iCAAe,EAAE,CAAC,EAAD;AALI,iBAAvB,CADF;AASD;AACF,aAZD,MAYO;AACL,mBAAK,IAAIlX,GAAC,GAAG,KAAKiW,GAAL,CAASpQ,MAAtB,EAA8B7F,GAAC,IAAImS,aAAnC,EAAkDnS,GAAC,EAAnD,EAAuD;AACrD,qBAAKiW,GAAL,CAAS9C,QAAT,CAAkBnT,GAAlB;AACD;AACF;AACF,W,CAED;;;;eACA,eAAS;AACP,mBAAO,KAAK2V,YAAL,CAAkB5K,QAAzB;AACD;;;eACD,eAAU;AACR,mBAAO,KAAKoM,EAAL,CAAQvB,QAAf;AACD,W,CAED;;;;eACA,eAAQ;AACN,mBAAO,KAAKL,YAAL,CAAkBxK,QAAzB;AACD;;;eACD,eAAS;AACP,mBAAO,KAAKC,CAAL,CAAOwK,QAAd;AACD;;;eAED,eAAY;AACV,mBAAO,KAAK4B,KAAL,CAAWtB,IAAlB;AACD;;;eAED,eAAY;AACV,mBAAO,KAAKD,QAAL,CAAc9K,QAArB;AACD;;;iBAED,eAAM4B,WAAN,EAAmB;AACjB,gBAAIA,WAAJ,EAAiB;AACfrP,qBAAO,CAACyC,GAAR,CAAY,KAAKjD,KAAL,CAAW0L,IAAvB;AACA,mBAAK1L,KAAL,CAAW0L,IAAX,CAAgB,4BAAhB,EAA8C,OAA9C,EAAuD;AACrDG,wBAAQ,EAAE,IAD2C;AAErDC,gCAAgB,EAAE,KAFmC;AAGrDC,kCAAkB,EAAE;AAHiC,eAAvD;AAKD;AACF;;;iBAED,kBAAS1C,KAAT,EAAgB;AACd7I,mBAAO,CAACyC,GAAR,CAAYoG,KAAK,CAACsH,OAAlB;AACD;;;iBAED,2BAAkBd,WAAlB,EAA+B;AAC7B,iBAAKA,WAAL,GAAmBA,WAAnB;AACD;;;iBAED,gBAAO;AACL,iBAAKzQ,MAAL,CAAY8Q,QAAZ,CAAqB,uCAArB;AACD;;;iBACD,gBAAO;AACL,iBAAK9Q,MAAL,CAAY8Q,QAAZ,CAAqB,2CAArB;AACD;;;;;;;yBAlLUoI,0B,EAA0B,2H,EAAA,0J,EAAA,wI,EAAA,2I,EAAA,uH;AAAA,O;;;cAA1BA,0B;AAA0B,+C;AAAA,iB;AAAA,e;AAAA,kgD;AAAA;AAAA;ACZvC;;AACI;;AACJ;;AACA;;AACI;;AAAwB;;AAAG;;AAAsB;;AAAI;;AACzD;;AAGA;;AAEI;;AAAqB;;AAAgB;;AACzC;;AACA;;AAEI;;AACI;;AACA;;AA2CA;;AAGA;;AACI;;AAAqB;;AAA2B;;AACpD;;AACA;;AAEI;;AACI;;AAEA;;AACI;;AACA;;AAwBJ;;AACJ;;AACJ;;AAEJ;;AACJ;;AAGA;;AACI;;AAA2C;AAAA,qBAAS,IAAAiC,IAAA,EAAT;AAAe,aAAf;;AACvC;;AACJ;;AACA;;AAA0C;AAAA,qBAAS,IAAAC,IAAA,EAAT;AAAe,aAAf;;AACtC;;AACJ;;AACJ;;;;AA/Fe;;AAAA;;AAwDY;;AAAA;;;;;;;;;wED5DdlC,0B,EAA0B;gBALtC,uDAKsC;iBAL5B;AACTvH,oBAAQ,EAAE,wBADD;AAETC,uBAAW,EAAE,qCAFJ;AAGTC,qBAAS,EAAE,CAAC,qCAAD;AAHF,W;AAK4B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZvC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAQawJ,oB;AA6CX,sCACU/a,EADV,EACwCyX,GADxC,EACiE/X,MADjE,EACwFU,GADxF,EACuHP,cADvH,EACoJ;AAAA;;AAA1I,eAAAG,EAAA,GAAAA,EAAA;AAA8B,eAAAyX,GAAA,GAAAA,GAAA;AAAyB,eAAA/X,MAAA,GAAAA,MAAA;AAAuB,eAAAU,GAAA,GAAAA,GAAA;AAA+B,eAAAP,cAAA,GAAAA,cAAA;AA3CvH,eAAAyS,0BAAA,GAAuC,KAAvC;AACA,eAAAJ,oBAAA,GAAiC,KAAjC;AACA,eAAAC,+BAAA,GAA2C,KAA3C;AACA,eAAAC,4BAAA,GAAyC,KAAzC,CAwCoJ,CAvCpJ;;AACA,eAAAJ,mBAAA,GAA8B,KAA9B,CAsCoJ,CArCpJ;;AACA,eAAAK,oBAAA,GAA6B,KAA7B;AACA,eAAA2I,wBAAA,GAAqC,IAArC;AAEA,eAAAC,oBAAA,GAAiC,KAAjC;AACA,eAAAC,gBAAA,GAA6B,KAA7B;AAEA,eAAAC,+BAAA,GAAwC,KAAxC,CA8BoJ,CA7BrJ;;AACA,eAAAC,qBAAA,GAAkC,KAAlC;AACA,eAAAC,mBAAA,GAAgC,KAAhC;AAEC,eAAAC,kCAAA,GAA+C,IAA/C,CAyBoJ,CAxBrJ;;AACC,eAAAC,uBAAA,GAAoC,IAApC;AACA,eAAA5J,yBAAA,GAAqC,KAArC;AACA,eAAAC,2BAAA,GAAqC,KAArC;AAEA,eAAA4J,yBAAA,GAAsC,KAAtC;AACA,eAAAC,kBAAA,GAA+B,KAA/B;AAGA,eAAA9H,4BAAA,GAAyC,IAAzC;AACA,eAAA+H,iBAAA,GAA8B,IAA9B;AAEA,eAAAC,wBAAA,GAAqC,IAArC;AACA,eAAAC,oBAAA,GAAiC,IAAjC;AAYK;;;;iBAEL,oBAAQ;AAAA;;AACN,iBAAKC,eAAL,GAAuB,KAAKhc,cAAL,CAAoBic,aAApB,CAAkC3W,SAAlC,CAA4C,UAAA4W,QAAQ,EAAI;AAC7E,qBAAI,CAACC,YAAL,GAAoBD,QAApB;AACD,aAFsB,CAAvB;AAGAjb,mBAAO,CAACyC,GAAR,CAAY,OAAZ;AACA,iBAAKI,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AACA,iBAAK0O,0BAAL,GAAgC,KAAKtS,EAAL,CAAQ4D,OAAR,CAAgB,6BAAhB,CAAhC;AACA,iBAAKsO,oBAAL,GAA0B,KAAKlS,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAA1B;AACA,iBAAKuO,+BAAL,GAAqC,KAAKnS,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAArC;AACA,iBAAKwO,4BAAL,GAAoC,KAAKpS,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAApC,CATM,CAUN;;AACA,iBAAKoO,mBAAL,GAAyB,KAAKhS,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAAzB,CAXM,CAYN;;AACA,iBAAKyO,oBAAL,GAA0B,KAAKrS,EAAL,CAAQ4D,OAAR,CAAgB,uBAAhB,CAA1B;AAEA,iBAAKqX,oBAAL,GAA4B,KAAKjb,EAAL,CAAQ4D,OAAR,CAAgB,0BAAhB,CAA5B;AACA,iBAAKsX,gBAAL,GAAsB,KAAKlb,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAtB;AAGA,iBAAKuX,+BAAL,GAAqC,KAAKnb,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAArC,CAnBM,CAoBP;;AACC,iBAAKwX,qBAAL,GAA2B,KAAKpb,EAAL,CAAQ4D,OAAR,CAAgB,4BAAhB,CAA3B;AACA,iBAAKyX,mBAAL,GAAyB,KAAKrb,EAAL,CAAQ4D,OAAR,CAAgB,0BAAhB,CAAzB;AAEA,iBAAK0X,kCAAL,GAAyC,KAAKtb,EAAL,CAAQ4D,OAAR,CAAgB,wBAAhB,CAAzC;AACA,iBAAK+N,yBAAL,GAAiC,KAAK3R,EAAL,CAAQ4D,OAAR,CAAgB,yBAAhB,CAAjC;AACA,iBAAKgO,2BAAL,GAAiC,KAAK5R,EAAL,CAAQ4D,OAAR,CAAgB,kCAAhB,CAAjC;AAEA,iBAAK4X,yBAAL,GAA+B,KAAKxb,EAAL,CAAQ4D,OAAR,CAAgB,4BAAhB,CAA/B;AACA,iBAAK6X,kBAAL,GAAwB,KAAKzb,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAAxB;AAEA,iBAAK+P,4BAAL,GAAkC,KAAK3T,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAAlC;AACA,iBAAK8X,iBAAL,GAAuB,KAAK1b,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAvB;AAEA,iBAAK+X,wBAAL,GAA8B,KAAK3b,EAAL,CAAQ4D,OAAR,CAAgB,yBAAhB,CAA9B;AACA,iBAAKgY,oBAAL,GAA0B,KAAK5b,EAAL,CAAQ4D,OAAR,CAAgB,wBAAhB,CAA1B;AAEA,iBAAK/D,cAAL,CAAoB+G,OAApB,CAA4BzB,SAA5B,CAAsC,UAAC0B,GAAD,EAAc;AAEpD,qBAAI,CAAClD,MAAL,GAAc,OAAI,CAAC3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AAEA,qBAAI,CAAC0O,0BAAL,GAAgC,OAAI,CAACtS,EAAL,CAAQ4D,OAAR,CAAgB,6BAAhB,CAAhC;AACA,qBAAI,CAACsO,oBAAL,GAA0B,OAAI,CAAClS,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAA1B;AACA,qBAAI,CAACuO,+BAAL,GAAqC,OAAI,CAACnS,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAArC;AACA,qBAAI,CAACwO,4BAAL,GAAoC,OAAI,CAACpS,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAApC,CAPoD,CAQpD;;AACA,qBAAI,CAACoO,mBAAL,GAAyB,OAAI,CAAChS,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAAzB;AACA,qBAAI,CAACyO,oBAAL,GAA0B,OAAI,CAACrS,EAAL,CAAQ4D,OAAR,CAAgB,uBAAhB,CAA1B,CAVoD,CAWpD;;AAGA,qBAAI,CAACqX,oBAAL,GAA4B,OAAI,CAACjb,EAAL,CAAQ4D,OAAR,CAAgB,0BAAhB,CAA5B;AACA,qBAAI,CAACsX,gBAAL,GAAsB,OAAI,CAAClb,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAtB;AAEA,qBAAI,CAACuX,+BAAL,GAAqC,OAAI,CAACnb,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAArC,CAjBoD,CAkBrD;;AACC,qBAAI,CAACwX,qBAAL,GAA2B,OAAI,CAACpb,EAAL,CAAQ4D,OAAR,CAAgB,4BAAhB,CAA3B;AACA,qBAAI,CAACyX,mBAAL,GAAyB,OAAI,CAACrb,EAAL,CAAQ4D,OAAR,CAAgB,0BAAhB,CAAzB;AAEA,qBAAI,CAAC0X,kCAAL,GAAyC,OAAI,CAACtb,EAAL,CAAQ4D,OAAR,CAAgB,wBAAhB,CAAzC;AACA,qBAAI,CAAC+N,yBAAL,GAAiC,OAAI,CAAC3R,EAAL,CAAQ4D,OAAR,CAAgB,yBAAhB,CAAjC;AACA,qBAAI,CAACgO,2BAAL,GAAiC,OAAI,CAAC5R,EAAL,CAAQ4D,OAAR,CAAgB,kCAAhB,CAAjC;AAEA,qBAAI,CAAC4X,yBAAL,GAA+B,OAAI,CAACxb,EAAL,CAAQ4D,OAAR,CAAgB,4BAAhB,CAA/B;AACA,qBAAI,CAAC6X,kBAAL,GAAwB,OAAI,CAACzb,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAAxB;AAEA,qBAAI,CAAC+P,4BAAL,GAAkC,OAAI,CAAC3T,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAAlC;AACA,qBAAI,CAAC8X,iBAAL,GAAuB,OAAI,CAAC1b,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAvB;AAEA,qBAAI,CAAC+X,wBAAL,GAA8B,OAAI,CAAC3b,EAAL,CAAQ4D,OAAR,CAAgB,yBAAhB,CAA9B;AACA,qBAAI,CAACgY,oBAAL,GAA0B,OAAI,CAAC5b,EAAL,CAAQ4D,OAAR,CAAgB,wBAAhB,CAA1B;AAEE,aAnCF;AAoCD;;;iBACD,uBAAc;AACZ,gBAAI,KAAKiY,eAAT,EAA0B;AACxB,mBAAKA,eAAL,CAAqB9K,WAArB;AACD;AACF;;;;;;;yBA/HUgK,oB,EAAoB,0J,EAAA,2I,EAAA,uH,EAAA,gI,EAAA,sJ;AAAA,O;;;cAApBA,oB;AAAoB,yC;AAAA,kB;AAAA,gB;AAAA,s5B;AAAA;AAAA;ACdjC;;AACA;;AACI;;AACI;;AACF;;AAA6B;;AAA0B;;AAEjD;;AACI;;AAGI;;AACI;;AAEI;;AACI;;AACI;;AACJ;;AACA;;AAA6B;;AAAuB;;AACpD;;AACA;;AAA6B;;AAAoB;;AACrD;;AAEA;;AACI;;AACI;;AAII;;AAAuD;;AAAO;;AAC9D;;AACJ;;AACJ;;AACA;;AACI;;AAKI;;AAAuD;;AAAe;;AACtE;;AACJ;;AACJ;;AACA;;AACI;;AAKI;;AAAuD;;AAC5C;;AACX;;AACJ;;AACJ;;AAGA;;AACI;;AAKI;;AAAuD;;AAAiB;;AACxE;;AACJ;;AACJ;;AACA;;AACI;;AAKI;;AAAuD;;AAAgB;;AACvE;;AACJ;;AACJ;;AAEA;;AACI;;AAII;;AAAuD;;AAAgB;;AACvE;;AACJ;;AACJ;;AAaJ;;AACJ;;AACJ;;AAIA;;AACI;;AAEI;;AAEI;;AAC8D;;AAAW;;AACzE;;AAA6B;;AAAe;;AAC5C;;AACA;;AAA6B;;AAAoB;;AACrD;;AAEA;;AACI;;AACI;;AAII;;AAAuD;;AAAO;;AAC9D;;AACJ;;AACJ;;AACA;;AACI;;AAGI;;AAAuD;;AAAe;;AACtE;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAIA;;AACI;;AAEI;;AAEI;;AACyE;;AAAK;;AAC9E;;AAA6B;;AAAsB;;AACnD;;AACA;;AAA6B;;AAAoB;;AACrD;;AAEA;;AACI;;AACI;;AAGI;;AAAuD;;AAAO;;AAC9D;;AACJ;;AACJ;;AAEA;;AACI;;AAEI;;AAAuD;;AAC5C;;AACX;;AACJ;;AACJ;;AACA;;AACI;;AAEI;;AAAuD;;AAAc;;AACrE;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAIA;;AACI;;AAEI;;AAGI;;AAC4E;;AAC5E;;AACA;;AAA6B;;AAAwB;;AACrD;;AACA;;AAA6B;;AAAoB;;AACrD;;AAEA;;AACI;;AACI;;AAII;;AAAuD;;AAAO;;AAC9D;;AACJ;;AACJ;;AACA;;AACI;;AAGI;;AAAuD;;AAC5C;;AACX;;AACJ;;AACJ;;AACA;;AACI;;AAGI;;AAAuD;;AACzC;;AACd;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAIA;;AACI;;AAEI;;AAGI;;AACmE;;AAAU;;AAC7E;;AAA6B;;AAAsB;;AACnD;;AACA;;AAA6B;;AAAoB;;AACrD;;AAEA;;AACI;;AACI;;AAII;;AAAuD;;AAAO;;AAC9D;;AACJ;;AACJ;;AACA;;AACI;;AAGI;;AAAuD;;AAAiB;;AACxE;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAIA;;AACI;;AAEI;;AAEI;;AACsE;;AAAQ;;AAC9E;;AAA6B;;AAAyB;;AACtD;;AACA;;AAA6B;;AAAoB;;AACrD;;AAEA;;AACI;;AACI;;AAII;;AAAuD;;AAAO;;AAC9D;;AACJ;;AACJ;;AACA;;AACI;;AAGI;;AAAuD;;AAAgB;;AACvE;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AAIA;;AACI;;AAEI;;AAEI;;AACkE;;AAAS;;AAC3E;;AAA6B;;AAAe;;AAC5C;;AACA;;AAA6B;;AAAoB;;AACrD;;AAEA;;AACI;;AACI;;AAEI;;AAAuD;;AAAO;;AAC9D;;AACJ;;AACJ;;AACA;;AACI;;AAId;;AAAuD;;AAAe;;AACtE;;AACA;;AACU;;AAEJ;;AACJ;;AACJ;;AAEJ;;AACJ;;AAEJ;;AACA;;AAEI;;AACI;;AACJ;;AAEJ;;AACJ;;AACJ;;AACA;;;;AAjViD;;AAAA;;AACkB;;AAAA;;AAY/B;;AAAA,2JAA0D,SAA1D,EAA0D,qDAA1D;;AASA;;AAAA,2JAAyE,SAAzE,EAAyE,+CAAzE;;AAUA;;AAAA,2JAA8E,SAA9E,EAA8E,0DAA9E;;AAaA;;AAAA,yIAA+D,YAA/D,EAA+D,sEAA/D;;AAUA;;AAAA,gIAAsD,YAAtD,EAAsD,sEAAtD;;AAWA;;AAAA,4JAA0E,SAA1E,EAA0E,+CAA1E;;AA2Ba;;AAAA,mIAAyD,YAAzD,EAAyD,uEAAzD;;AAGb;;AAAA;;AAUA;;AAAA,4JAAmD,SAAnD,EAAmD,qDAAnD;;AAOI;;AAAA,6HAAkD,YAAlD,EAAkD,uEAAlD;;AAgBS;;AAAA,8IAAoE,YAApE,EAAoE,uEAApE;;AAGb;;AAAA;;AAQI;;AAAA,4IAAkE,YAAlE,EAAkE,uEAAlE;;AAUA;;AAAA;;AAQA;;AAAA;;AAeR;;AAAA,iJAAuE,YAAvE,EAAuE,uEAAvE;;AAGI;;AAAA;;AAWA;;AAAA,4JAAsD,SAAtD,EAAsD,qDAAtD;;AAQI;;AAAA,sIAA4D,YAA5D,EAA4D,uEAA5D;;AASA;;AAAA,wIAA8D,YAA9D,EAA8D,uEAA9D;;AAgBS;;AAAA,wIAA8D,YAA9D,EAA8D,uEAA9D;;AAIb;;AAAA;;AAUA;;AAAA,4JAAoD,SAApD,EAAoD,qDAApD;;AAQK;;AAAA,4JAA2E,SAA3E,EAA2E,6CAA3E;;AAeQ;;AAAA,2IAAiE,YAAjE,EAAiE,uEAAjE;;AAGb;;AAAA;;AAUA;;AAAA,4JAA4D,SAA5D,EAA4D,qDAA5D;;AAQA;;AAAA,4JAA4E,SAA5E,EAA4E,4CAA5E;;AAea;;AAAA;;AAGb;;AAAA;;AASA;;AAAA;;AAQC;;AAAA,iIAAuD,YAAvD,EAAuD,uEAAvD;;;;;;;;;wEDxTxBA,oB,EAAoB;gBALhC,uDAKgC;iBALtB;AACT1J,oBAAQ,EAAE,kBADD;AAETC,uBAAW,EAAE,+BAFJ;AAGTC,qBAAS,EAAE,CAAC,+BAAD;AAHF,W;AAKsB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEdjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACEI;;AAAwB;AAAA;;AAAA;;AAAA;AAAA;;AACtB;;AAAU;;AAAK;;AACjB;;;;;;;;AACA;;AAAwB;AAAA;;AAAA;;AAAA;AAAA;;AACtB;;AAAU;;AAAK;;AACjB;;;;;;AAEF;;AACE;;AACE;;AACF;;AACF;;;;;;AAmCY;;AACE;;AAKF;;;;AAHI;;AAAA;;;;;;AAKF;;;;;;AAA8B;;;;;;;;AAvCxC;;AACE;;AAAmC;;AAAU;;AAG7C;;AACE;;AACE;;AAGE;AAAA;;AAAA;;AAAA;AAAA;;AAEA;;AACF;;AACF;;AACA;;AACE;;AAAkC;AAAA;;AAAA;;AAAA,mBAAS,WAAT;AAA0B,WAA1B;;AAChC;;AACA;;AAKE;AAAA;;AAAA;;AAAA;AAAA;;AALF;;AAQF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAOA;;AAGF;;AASA;;AACE;;AAAqD;AAAA;;AAAA;;AAAA;AAAA;;AACjD;;AACJ;;AACA;;AAAuD;AAAA;;AAAA;;AAAA;AAAA;;AACnD;;AACJ;;AACD;;AACH;;AACF;;AAaF;;;;;;;;AAzCc;;AAAA,gHAAoC,UAApC,EAAoC,IAApC;;AAuBsE;;AAAA;;;;UD9C7E0K,+B;AAsBX,iDACkCxW,IADlC,EAEU/F,MAFV,EAGUO,UAHV,EAIUyR,aAJV,EAKU/R,MALV,EAMSuc,SANT,EAOUlc,EAPV,EAQUmc,QARV,EASU7b,KATV,EAS4B;AAAA;;AARM,eAAAmF,IAAA,GAAAA,IAAA;AACxB,eAAA/F,MAAA,GAAAA,MAAA;AACA,eAAAO,UAAA,GAAAA,UAAA;AACA,eAAAyR,aAAA,GAAAA,aAAA;AACA,eAAA/R,MAAA,GAAAA,MAAA;AACD,eAAAuc,SAAA,GAAAA,SAAA;AACC,eAAAlc,EAAA,GAAAA,EAAA;AACA,eAAAmc,QAAA,GAAAA,QAAA;AACA,eAAA7b,KAAA,GAAAA,KAAA;AA9BV,eAAA8b,MAAA,GAAkB,KAAlB;AAMA,eAAA7Z,WAAA,GAAsB,EAAtB;AAGA,eAAA8Z,WAAA,GAAuB,IAAvB;AAKA,eAAAxV,GAAA,GAAc;AAAE8D,kBAAM,EAAE,KAAV;AAAiB2R,iBAAK,EAAE;AAAxB,WAAd;AAiBI;;;;iBAEJ,oBAAQ;AACN,iBAAKX,wBAAL,GAAgC,KAAK3b,EAAL,CAAQ4D,OAAR,CAAgB,yBAAhB,CAAhC;AACA,iBAAKgY,oBAAL,GAA4B,KAAK5b,EAAL,CAAQ4D,OAAR,CAAgB,wBAAhB,CAA5B;AACA,iBAAK0Y,KAAL,GAAa,KAAKtc,EAAL,CAAQ4D,OAAR,CAAgB,aAAhB,CAAb;;AACA,gBAAI,KAAK0Y,KAAT,EAAgB;AACd,mBAAKC,SAAL,GAAiB,KAAKD,KAAtB,CADc,CAEd;AACD,aAHD,MAGO;AACL,mBAAKC,SAAL,GAAiB,eAAjB,CADK,CAEL;AACD;;AACD,iBAAKlP,SAAL,GAAiB,KAAKrN,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAjB,CAXM,CAYN;AACA;AACA;AACD;;;iBAED,kBAAS;AACP,gBAAI,KAAK6B,IAAL,CAAU+W,MAAV,KAAqB,uBAAzB,EAAkD;AAChD,mBAAKN,SAAL,CAAe7L,KAAf,CAAqB,KAAKxJ,GAA1B;AACD,aAFD,MAEO;AACL,mBAAKqV,SAAL,CAAe7L,KAAf,CAAqB,IAArB;AACA,mBAAKrQ,EAAL,CAAQiG,OAAR,CAAgB,QAAhB,EAA0B,KAAKjG,EAAL,CAAQ4D,OAAR,CAAgB,aAAhB,IAA+B,IAA/B,GAAoC,KAA9D;AACD;AACF;;;iBAED,mBAAU6B,IAAV,EAAsB;AAAA;;AACpB,gBAAIwN,QAAJ;;AACA,gBAAIxN,IAAI,KAAKmR,SAAT,IAAsBnR,IAAI,KAAK,IAAnC,EAAyC;AACvCwN,sBAAQ,GAAG;AACTwJ,2BAAW,EAAE,KADJ;AAETD,sBAAM,EAAE,gBAFC;AAGTnP,yBAAS,EAAE,KAAKA,SAHP;AAIT/F,0BAAU,EAAE,KAAKtH,EAAL,CAAQ4D,OAAR,CAAgB,KAAhB;AAJH,eAAX;AAMD;;AACD,gBAAI,CAAC,KAAK8Y,IAAV,EAAgB;AACd,kBAAIR,SAAS,GAAsB,KAAKvc,MAAL,CAAYqM,IAAZ,CACjC,+FADiC,EAEjC;AACE2Q,qBAAK,EAAE,OADT;AAEEC,4BAAY,EAAE,IAFhB;AAGEnX,oBAAI,EAAEA,IAAI,KAAKmR,SAAT,IAAsBnR,IAAI,KAAK,IAA/B,GAAsCwN,QAAtC,GAAiDxN;AAHzD,eAFiC,CAAnC;AAQAyW,uBAAS,CAACW,WAAV,GAAwB1X,SAAxB,CAAkC,UAAC0B,GAAD,EAAS;AACzC/F,uBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2BsD,GAA3B;;AACA,oBAAIA,GAAJ,EAAS;AACP,yBAAI,CAAC7G,EAAL,CAAQiG,OAAR,CAAgB,QAAhB,EAA0B,IAA1B;;AACA,yBAAI,CAACsW,SAAL,GAAiB1V,GAAG,SAAH,IAAAA,GAAG,WAAH,GAAG,MAAH,GAAAA,GAAG,CAAEyV,KAAtB;AACA,yBAAI,CAACD,WAAL,GAAmB,CAAAxV,GAAG,SAAH,IAAAA,GAAG,WAAH,GAAG,MAAH,GAAAA,GAAG,CAAEyV,KAAL,IAAa,KAAb,GAAqB,IAAxC,CAHO,CAIP;AACA;AACA;AACD;AACF,eAVD;AAWD;AACF,W,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;iBAEA,sBAAa3S,KAAb,EAAoB;AAAA;;AAClB7I,mBAAO,CAACyC,GAAR,CAAY,WAAZ,EAAyBoG,KAAK,CAAC8G,MAAN,CAAaqM,KAAtC;AACA,iBAAKC,YAAL,GAAoBpT,KAAK,CAAC8G,MAAN,CAAaqM,KAAb,CAAmB,CAAnB,CAApB;AACAhc,mBAAO,CAACyC,GAAR,CAAY,KAAKwZ,YAAjB;AAEA,gBAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACAD,kBAAM,CAACE,aAAP,CAAqBvT,KAAK,CAAC8G,MAAN,CAAaqM,KAAb,CAAmB,CAAnB,CAArB,EANkB,CAOlB;AACA;AACA;;AACAE,kBAAM,CAACG,MAAP,GAAgB,UAACC,MAAD,EAAY;AAC1B,qBAAI,CAACb,SAAL,GAAiBS,MAAM,CAACK,MAAxB;AACD,aAFD;;AAIA,gBAAMC,GAAG,GAAW,KAAKhW,UAAzB;AACA,gBAAMiW,GAAG,GAAW,KAAKR,YAAzB;AACA,gBAAMS,UAAU,GAAG,IAAIC,QAAJ,EAAnB;AACA,gBAAMhY,IAAI,GAAG;AACX6B,wBAAU,EAAE,KAAKA,UADN;AAEXoW,0BAAY,EAAE,WAFH;AAGXC,0BAAY,EAAE,IAHH;AAIXC,sBAAQ,EAAEjU,KAAK,CAACkU,IAJL;AAKXC,sBAAQ,EAAEnU,KAAK,CAACoU,IALL;AAMXC,8BAAgB,EAAE;AANP,aAAb;AAQAR,sBAAU,CAACS,MAAX,CAAkB,MAAlB,EAA0Bja,IAAI,CAAC0F,SAAL,CAAejE,IAAf,CAA1B;AACA+X,sBAAU,CAACS,MAAX,CAAkB,MAAlB,EAA0BV,GAA1B;AACA,iBAAKtd,UAAL,CAAgBie,cAAhB,CAA+BV,UAA/B,EAA2CrY,SAA3C,CAAqD,UAAC0B,GAAD,EAAS;AAC5D;AACA;AACA,kBAAIA,GAAJ,EAAS,CACP;AACA;AACA;AACD;AACF,aARD,EA3BkB,CAoClB;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;;iBACD,qBAAY;AAAA;;AACV,iBAAK6K,aAAL,CAAmByM,eAAnB,CAAmC,EAAnC,EAAuChZ,SAAvC,CAAiD,UAAC8N,QAAD,EAAc;AAC7D,kBAAIA,QAAQ,IAAI,KAAhB,EAAuB;AACrB,uBAAI,CAACjT,EAAL,CAAQoe,UAAR,CAAmB,aAAnB;;AACA,uBAAI,CAAC/B,WAAL,GAAmB,IAAnB;AACA,uBAAI,CAACE,SAAL,GAAiB,eAAjB;AACA,uBAAI,CAAC8B,WAAL,CAAiBC,aAAjB,CAA+B9e,KAA/B,GAAuC,EAAvC;;AACA,uBAAI,CAACS,UAAL,CACGse,iBADH,CACqB,OAAI,CAACjX,UAD1B,EACsC,OAAI,CAACkX,SAD3C,EAEGrZ,SAFH,CAEa,UAACM,IAAD,EAAU,CAAE,CAFzB;;AAGA,uBAAI,CAAC4W,WAAL,GAAmB,IAAnB;;AACA,uBAAI,CAACrc,EAAL,CAAQiG,OAAR,CAAgB,QAAhB,EAAyB,KAAzB;AACD;AACF,aAZD;AAaD,W,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;iBACA,oBAAW;AACT,iBAAKmW,MAAL,GAAc,IAAd;AACA,iBAAKF,SAAL,CAAe7L,KAAf,CAAqB,IAArB;AACD;;;;;;;yBAjOU4L,+B,EAA+B,gEAuBhC,wEAvBgC,C,EAuBjB,uH,EAAA,2I,EAAA,yJ,EAAA,mI,EAAA,sI,EAAA,0J,EAAA,yH,EAAA,wI;AAAA,O;;;cAvBdA,+B;AAA+B,sD;AAAA;AAAA;;;;;;;;;;;;;;;ACzB5C;;AACE;;AACE;;AAGA;;AAGF;;AACA;;AAMA;;AACE;;AACE;;AAyFF;;AACF;;AACF;;;;AA1GgD;;AAAA;;AAGD;;AAAA;;AAI1B;;AAAA;;AAQuB;;AAAA;;;;;;;;;wEDQ/BA,+B,EAA+B;gBAL3C,uDAK2C;iBALjC;AACT5K,oBAAQ,EAAE,+BADD;AAETC,uBAAW,EAAE,4CAFJ;AAGTC,qBAAS,EAAE,CAAC,4CAAD;AAHF,W;AAKiC,U;;;;oBAuBvC,oD;qBAAO,wE;;;;;;;;;;;;;;;;;;;;AAHgB8M,qBAAW,EAAE,CAAF;kBAApC,uDAAoC;mBAA1B,a;AAA0B,WAAE;;;;;;;;;;;;;;;;;;;AE7CzC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAMA;;;;;;;ACsBU;;AACE;;AACE;;AACE;;AACE;;AAEF;;AACF;;AACA;;AACE;;AACE;;AAAuC;;AAAwB;;AAC/D;;AAIE;AAAA;;AAAA;;AAAA;AAAA;;AAJF;;AAOF;;AACF;;AACA;;AACE;;AACE;;AAAuC;AAAA;;AAAA;;AAAA;AAAA;;AAA4C;;AACrF;;AACF;;AACF;;AACF;;;;;;;;AAzBgB;;AAAA;;AAS+B;;AAAA;;;;;;AA1BrD;;AACE;;AACE;;AAAmB;;AACnB;;AACA;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAI;;AAAa;;AACjB;;AAAI;;AAAM;;AACV;;AAAI;;AAAO;;AAEb;;AACF;;AACA;;AACE;;AA2BF;;AACF;;AACF;;;;;;AA7C2B;;AAgBM;;AAAA;;;;UDbxBI,sB;AAWX,wCACU5e,cADV,EAEUS,KAFV,EAGUN,EAHV,EAIUyX,GAJV,EAKU/X,MALV,EAMUQ,WANV,EAMkC;AAAA;;AALxB,eAAAL,cAAA,GAAAA,cAAA;AACA,eAAAS,KAAA,GAAAA,KAAA;AACA,eAAAN,EAAA,GAAAA,EAAA;AACA,eAAAyX,GAAA,GAAAA,GAAA;AACA,eAAA/X,MAAA,GAAAA,MAAA;AACA,eAAAQ,WAAA,GAAAA,WAAA;AAZV,eAAAiQ,WAAA,GAAsB,aAAtB;AAaI;;;;iBAEJ,oBAAQ;AAAA;;AACNrP,mBAAO,CAACyC,GAAR,CAAYmb,OAAO,CAACjW,KAAR,CAAc+R,MAA1B;AAEA,iBAAK7W,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AACA,iBAAK+a,YAAL,GAAkBC,YAAY,CAAChb,OAAb,CAAqB,eAArB,CAAlB;;AACA,gBAAG,KAAK+a,YAAL,KAAoB,KAAvB,EAA6B;AAC3B,mBAAKE,cAAL,GAAoB,GAApB;AACD,aAFD,MAEM,IAAG,KAAKF,YAAL,KAAoB,KAAvB,EAA6B;AACjC,mBAAKE,cAAL,GAAoB,GAApB;AACD,aAFK,MAEA,IAAG,KAAKF,YAAL,KAAoB,KAAvB,EAA6B;AACjC,mBAAKE,cAAL,GAAoB,GAApB;AACD,aAFK,MAEA,IAAG,KAAKF,YAAL,KAAoB,KAAvB,EAA6B;AACjC,mBAAKE,cAAL,GAAoB,GAApB;AACD,aAFK,MAEA,IAAG,KAAKF,YAAL,KAAoB,KAAvB,EAA6B;AACjC,mBAAKE,cAAL,GAAoB,GAApB;AACD;;AAED,iBAAK9F,YAAL,GAAoB,KAAK7Y,WAAL,CAAiBiN,KAAjB,CAAuB;AACzC2M,wBAAU,EAAE,IAAI,wDAAJ,CAAc,EAAd;AAD6B,aAAvB,CAApB;AAGA,iBAAKrC,GAAL,CACG8B,kBADH,CACsB,eADtB,EACuC,KAAKpJ,WAD5C,EAEGhL,SAFH,CAEa,UAAC8N,QAAD,EAAc;AACvB,qBAAI,CAAC6L,gBAAL,CAAsB7L,QAAQ,CAAC5J,MAA/B;;AACA,qBAAI,MAAJ,CAAQrD,UAAR,CAAmB,CAAC,MAAD,OAAC,CAAD,kBAAKiN,QAAQ,CAAC,CAAD,CAAb,CAAC,EAAe;AAAEuH,sBAAM,EAAEkE,OAAO,CAACjW,KAAR,CAAc+R,MAAd,GAAuBkE,OAAO,CAACjW,KAAR,CAAc+R,MAArC,GAA8C;AAAxD,eAAf,CAAD,CAAnB;AACD,aALH,EApBM,CA2BN;AACA;AACA;AACA;AACA;AACA;AACD;;;iBAED,0BAAiBT,CAAjB,EAAoB;AAClB,iBAAKpW,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,gBAAM+R,aAAa,GAAGoE,CAAC,IAAI,CAA3B;;AACA,gBAAI,WAAQ1Q,MAAR,GAAiBsM,aAArB,EAAoC;AAClC,mBAAK,IAAInS,CAAC,GAAG,WAAQ6F,MAArB,EAA6B7F,CAAC,GAAGmS,aAAjC,EAAgDnS,CAAC,EAAjD,EAAqD;AACnD,2BAAQuL,IAAR,CACE,KAAK7O,WAAL,CAAiBiN,KAAjB,CAAuB;AACrB6M,6BAAW,EAAE,CAAC,EAAD,CADQ;AAErBQ,wBAAM,EAAE,CAAC,EAAD,EAAI,0DAAW/M,QAAf,CAFa;AAGrBgN,wBAAM,EAAE,CAAC,KAAD,CAHa;AAIrB9W,wBAAM,EAAE,CAAC,KAAKA,MAAN,CAJa;AAKrB+W,iCAAe,EAAE,CAAC,EAAD;AALI,iBAAvB,CADF;AASD;AACF,aAZD,MAYO;AACL,mBAAK,IAAIlX,GAAC,GAAG,WAAQ6F,MAArB,EAA6B7F,GAAC,IAAImS,aAAlC,EAAiDnS,GAAC,EAAlD,EAAsD;AACpD,2BAAQmT,QAAR,CAAiBnT,GAAjB;AACD;AACF;AACF;;;eAED,eAAQ;AACN,mBAAO,KAAKuV,YAAL,CAAkBxK,QAAzB;AACD;;;eACD,eAAS;AACP,mBAAO,KAAKC,CAAL,CAAOsL,UAAd;AACD;;;iBAED,kBAAS;AACP,iBAAKpa,MAAL,CAAY8Q,QAAZ,CAAqB,sDAArB;AAGD;;;iBACD,0BAAiB7G,KAAjB,EAAwB;AACtB;AACA7I,mBAAO,CAACyC,GAAR,CAAYoG,KAAK,CAAC8G,MAAN,CAAajR,KAAzB;AAEA,gBAAI,CAACmK,KAAK,CAAC8G,MAAN,CAAajR,KAAb,CAAmB6J,MAAxB,EAAgC;;AAEhC,gBAAIM,KAAK,CAAC8G,MAAN,CAAajR,KAAb,CAAmB6J,MAAnB,KAA8B,CAAlC,EAAqC;AACnCM,mBAAK,CAAC8G,MAAN,CAAajR,KAAb,aAAwBmK,KAAK,CAAC8G,MAAN,CAAajR,KAArC;AACD;;AACD,gBAAImK,KAAK,CAAC8G,MAAN,CAAajR,KAAb,CAAmB6J,MAAnB,GAA4B,CAAhC,EAAmC;AACjCM,mBAAK,CAAC8G,MAAN,CAAajR,KAAb,aAAwBmK,KAAK,CAAC8G,MAAN,CAAajR,KAAb,CAAmBuf,KAAnB,CAAyB,CAAzB,EAA4B,CAAC,CAA7B,CAAxB;AACD;AACF;;;iBAED,kBAASC,IAAT,EAAe;AAAA;;AACble,mBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoByb,IAApB,EADa,CAEb;AACA;AACA;AACA;;AAEA,iBAAKvH,GAAL,CAASwH,qBAAT,CAA+BD,IAA/B,EAAqC7Z,SAArC,CACE,UAACC,IAAD,EAAU;AACR,qBAAI,CAAC9E,KAAL,CAAW0L,IAAX,CAAgB,uBAAhB,EAAyC,IAAzC,EAA+C;AAC7CG,wBAAQ,EAAE,IADmC;AAE7CC,gCAAgB,EAAE,KAF2B;AAG7CC,kCAAkB,EAAE;AAHyB,eAA/C;;AAKA,qBAAI,CAAC3F,IAAL;;AACA5F,qBAAO,CAACyC,GAAR,CAAY,sCAAZ,EAAoD6B,IAApD;AACD,aATH,EAUE,UAACC,GAAD,EAAS;AACP,qBAAI,CAAC/E,KAAL,CAAW0L,IAAX,CACE,gCADF,EAEE,uBAFF,EAGE;AACEG,wBAAQ,EAAE,IADZ;AAEEC,gCAAgB,EAAE,KAFpB;AAGEC,kCAAkB,EAAE;AAHtB,eAHF;AASD,aApBH;AAsBD;;;iBACD,eAAM8D,WAAN,EAAmB;AACjB,gBAAIA,WAAJ,EAAiB;AACfrP,qBAAO,CAACyC,GAAR,CAAY,KAAKjD,KAAL,CAAW0L,IAAvB;AACA,mBAAK1L,KAAL,CAAW0L,IAAX,CAAgB,4BAAhB,EAA8C,OAA9C,EAAuD;AACrDG,wBAAQ,EAAE,IAD2C;AAErDC,gCAAgB,EAAE,KAFmC;AAGrDC,kCAAkB,EAAE;AAHiC,eAAvD;AAKD;AACF;;;iBACD,kBAAS1C,KAAT,EAAgB;AACd7I,mBAAO,CAACyC,GAAR,CAAYoG,KAAK,CAACsH,OAAlB;AACD;;;iBACD,gBAAO;AACL,iBAAKjR,EAAL,CAAQiG,OAAR,CAAgB,0BAAhB,EAA4C,IAA5C;AACA,iBAAKjG,EAAL,CAAQiG,OAAR,CAAgB,sBAAhB,EAAuC,IAAvC;AACA,iBAAKpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACA,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,uCAArB;AACD;;;iBAED,oBAAW7G,KAAX,EAAuB;AACrB,gBAAMmH,MAAM,GAAG,aAAf;AACA,gBAAIoO,cAAc,GAAGlR,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAArB;;AACA,gBAAID,KAAK,CAACE,OAAN,IAAiB,CAAjB,IAAsB,CAACiH,MAAM,CAAC5C,IAAP,CAAYgR,cAAZ,CAA3B,EAAwD;AACtDvV,mBAAK,CAACwE,cAAN;AACArN,qBAAO,CAACyC,GAAR,CAAY,QAAZ,EAAsBoG,KAAtB;AACD;AACF;;;;;;;yBAhKU8U,sB,EAAsB,sJ,EAAA,wI,EAAA,0J,EAAA,2I,EAAA,uH,EAAA,2H;AAAA,O;;;cAAtBA,sB;AAAsB,2C;AAAA,iB;AAAA,e;AAAA,+uC;AAAA;AAAA;ACfnC;;AACA;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AAAyB;;AAAG;;AAAc;;AAAI;;AAChD;;AACF;;AACA;;AACE;;AACA;;AA8CF;;AAEA;;AACE;;AAAuB;AAAA,qBAAS,IAAAlL,MAAA,EAAT;AAAiB,aAAjB;;AAAmB;;AAAI;;AAC9C;;AACA;;AACE;AAAA,qBAAS,IAAAgE,QAAA,wBAAT;AAAqC,aAArC;;AAAuC;;AAAI;;AAC/C;;AAEF;;AACA;;;;AAxDW;;AAAA;;AAmDiE;;AAAA;;;;;;;;;wEDhD/DkH,sB,EAAsB;gBALlC,uDAKkC;iBALxB;AACTpN,oBAAQ,EAAE,oBADD;AAETC,uBAAW,EAAE,iCAFJ;AAGTC,qBAAS,EAAE,CAAC,iCAAD;AAHF,W;AAKwB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEfnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACsDY;;AACE;;AAOA;;AAA0B;;AAAS;;AAErC;;;;AARI;;AAAA,uFAAmB,OAAnB,EAAmB,GAAnB;;;;;;;;AAcF;;AACI;;AAAmB;AAAA;;AAAA;;AAAA;AAAA;;AACjB;;AAAa;;AAAU;;AAAa;;AACtC;;AACJ;;;;;;;;;;;;AAGI;;AACG;;AAAY;;AAAU;;AAAa;;AACtC;;;;AAFmB;;;;UDjExB4N,wB;AAKX,0CACUnf,EADV,EACwCN,MADxC,EACgEgS,aADhE,EAEUtR,GAFV,EAGWP,cAHX,EAGmDI,UAHnD,EAGyE;AAAA;;AAF/D,eAAAD,EAAA,GAAAA,EAAA;AAA8B,eAAAN,MAAA,GAAAA,MAAA;AAAwB,eAAAgS,aAAA,GAAAA,aAAA;AACtD,eAAAtR,GAAA,GAAAA,GAAA;AACC,eAAAP,cAAA,GAAAA,cAAA;AAAwC,eAAAI,UAAA,GAAAA,UAAA;AAPnD,eAAAub,yBAAA,GAAkC,KAAlC;AACA,eAAAC,kBAAA,GAA2B,KAA3B;AAOK;;;;iBAGL,oBAAQ;AACN,iBAAK9X,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,iBAAK6X,kBAAL,GAAwB,KAAKzb,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAAxB;AACA,iBAAK4X,yBAAL,GAA+B,KAAKxb,EAAL,CAAQ4D,OAAR,CAAgB,4BAAhB,CAA/B;AACD;;;iBAED,qCAAyB;AACvB,iBAAK8N,aAAL,CAAmB0N,kCAAnB;AACD;;;iBAED,qCAAyB;AACvB,iBAAK1N,aAAL,CAAmB2N,4BAAnB;AACD;;;;;;;yBAxBUF,wB,EAAwB,0J,EAAA,uH,EAAA,yJ,EAAA,gI,EAAA,sJ,EAAA,2I;AAAA,O;;;cAAxBA,wB;AAAwB,6C;AAAA,iB;AAAA,e;AAAA,60B;AAAA;AAAA;ACZrC;;AACA;;AACI;;AACI;;AACI;;AAEJ;;AACA;;AACI;;AAAyB;;AAAG;;AAAuB;;AAAI;;AACvD;;AACI;;AACJ;;AACJ;;AACJ;;AAiBJ;;AACA;;AAGI;;AACI;;AACE;;AACE;;AAAgB;;AAAoB;;AACtC;;AACA;;AACE;;AAIE;;AACE;;AACC;;AACD;;AACF;;AACA;;AACE;;AACF;;AACF;;AAEA;;AAYF;;AAEA;;AACA;;AACI;;AAMA;;AAKF;;AACJ;;AAEJ;;AAMJ;;AACA;;;;;;AAzCqB;;AAAA;;AAIU;;AAAA;;AAgBF;;AAAA,qGAA0B,UAA1B,EAA0B,GAA1B;;;;;;;;;wED1DhBA,wB,EAAwB;gBALpC,uDAKoC;iBAL1B;AACT9N,oBAAQ,EAAE,sBADD;AAETC,uBAAW,EAAE,mCAFJ;AAGTC,qBAAS,EAAE,CAAC,mCAAD;AAHF,W;AAK0B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AETrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAuBA;;;AAIO,UAAM+N,iBAAiB,GAAW,CACvC;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE,6EAFb;AAGEC,gBAAQ,EAAE,CACR;AACEF,cAAI,EAAE,EADR;AAEEG,oBAAU,EAAE,4BAFd;AAGEC,mBAAS,EAAE;AAHb,SADQ,EAMR;AACEJ,cAAI,EAAE,4BADR;AAEEC,mBAAS,EAAE;AAFb,SANQ,EAUR;AACED,cAAI,EAAE,sCADR;AAEEC,mBAAS,EAAE;AAFb,SAVQ,EAcR;AACED,cAAI,EAAE,6CADR;AAEEC,mBAAS,EAAE;AAFb,SAdQ,EAkBR;AACED,cAAI,EAAE,gDADR;AAEEC,mBAAS,EAAE;AAFb,SAlBQ,EAsBR;AACED,cAAI,EAAE,4CADR;AAEEC,mBAAS,EAAE;AAFb,SAtBQ,EA0BR;AACED,cAAI,EAAE,0CADR;AAEEC,mBAAS,EAAE;AAFb,SA1BQ,EA8BR;AACED,cAAI,EAAE,2CADR;AAEEC,mBAAS,EAAE;AAFb,SA9BQ,EAkCR;AACED,cAAI,EAAE,qBADR;AAEEC,mBAAS,EAAE;AAFb,SAlCQ,EAsCR;AACA;AACA;AACA;AACA;AACED,cAAI,EAAE,4BADR;AAEEC,mBAAS,EAAE;AAFb,SA1CQ,EA8CR;AACED,cAAI,EAAE,uCADR;AAEEC,mBAAS,EAAE;AAFb,SA9CQ,EAkDR;AACED,cAAI,EAAE,sCADR;AAEEC,mBAAS,EAAE;AAFb,SAlDQ,EAsDR;AACED,cAAI,EAAE,+BADR;AAEEC,mBAAS,EAAE;AAFb,SAtDQ,EA0DR;AACED,cAAI,EAAE,wBADR;AAEEC,mBAAS,EAAE;AAFb,SA1DQ,EA8DR;AACED,cAAI,EAAE,2BADR;AAEEC,mBAAS,EAAE;AAFb,SA9DQ,EAkER;AACED,cAAI,EAAE,iCADR;AAEEC,mBAAS,EAAC;AAFZ,SAlEQ,EAsER;AACED,cAAI,EAAC,+BADP;AAEEC,mBAAS,EAAC;AAFZ,SAtEQ,EA0ER;AACED,cAAI,EAAE,sBADR;AAEEC,mBAAS,EAAE;AAFb,SA1EQ,EA8ER;AACED,cAAI,EAAC,6CADP;AAEEC,mBAAS,EAAC;AAFZ,SA9EQ,EAkFR;AACED,cAAI,EAAE,8BADR;AAEEC,mBAAS,EAAE;AAFb,SAlFQ,EAsFR;AACED,cAAI,EAAE,8CADR;AAEEC,mBAAS,EAAE;AAFb,SAtFQ,EA0FR;AACED,cAAI,EAAE,qBADR;AAEEC,mBAAS,EAAE;AAFb,SA1FQ,EA8FR;AACED,cAAI,EAAE,wBADR;AAEEC,mBAAS,EAAE;AAFb,SA9FQ,EAkGR;AACED,cAAI,EAAE,uBADR;AAEEC,mBAAS,EAAE;AAFb,SAlGQ;AAHZ,OADuC,CAAlC;;;;;;;;;;;;;;;;AC9BP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACoCY;;AACE;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACE;;AAAyB;;AAAM;;AAC/B;;AACF;;AACF;;AACF;;AACF;;AACF;;;;;;AAZkB;;AAAA;;;;;;;;;;AALxB;;AACE;;AACE;;AACE;;AAeF;;AACF;;AACF;;;;;;AApB2B;;AAGiB;;AAAA;;;;UDtBrCI,4B;AAcX,8CACUtf,KADV,EAEU4b,SAFV,EAGUlc,EAHV,EAIUyX,GAJV,EAKU/X,MALV,EAMUQ,WANV,EAMkC;AAAA;;AALxB,eAAAI,KAAA,GAAAA,KAAA;AACA,eAAA4b,SAAA,GAAAA,SAAA;AACA,eAAAlc,EAAA,GAAAA,EAAA;AACA,eAAAyX,GAAA,GAAAA,GAAA;AACA,eAAA/X,MAAA,GAAAA,MAAA;AACA,eAAAQ,WAAA,GAAAA,WAAA;AATV,eAAAiQ,WAAA,GAAsB,WAAtB;AAUI;;;;iBAEJ,oBAAQ;AAAA;;AACN,iBAAKxM,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,iBAAKuV,YAAL,GAAoB,KAAKjZ,WAAL,CAAiBiN,KAAjB,CAAuB;AACzCiM,sBAAQ,EAAE,IAAI,wDAAJ,CAAc,EAAd;AAD+B,aAAvB,CAApB;AAIA,iBAAK3B,GAAL,CACG8B,kBADH,CACsB,eADtB,EACuC,KAAKpJ,WAD5C,EAEGhL,SAFH,CAEa,UAAC8N,QAAD,EAAc;AACvB,qBAAI,CAAC6L,gBAAL,CAAsB7L,QAAQ,CAAC5J,MAA/B;;AACA,qBAAI,MAAJ,CAAQrD,UAAR,CAAmBiN,QAAnB;AACD,aALH;AAOA,iBAAKwE,GAAL,CAASoI,mBAAT,CAA6B,KAAKlc,MAAlC,EAA0CwB,SAA1C,CAAoD,UAACC,IAAD,EAAU;AAC5DtE,qBAAO,CAACyC,GAAR,CAAY,oBAAZ,EAAkC,OAAI,CAAC6B,IAAvC;AACA,qBAAI,CAACA,IAAL,GAAYA,IAAZ;;AACA,qBAAI,CAAC0Z,gBAAL,CAAsB,OAAI,CAAC1Z,IAAL,CAAUiE,MAAhC;;AACA,qBAAI,MAAJ,CAAQrD,UAAR,CAAmB,OAAI,CAACZ,IAAxB;AACD,aALD;AAMD;;;iBAED,0BAAiB2U,CAAjB,EAAoB;AAClB,iBAAKpW,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,gBAAM+R,aAAa,GAAGoE,CAAC,IAAI,CAA3B;;AACA,gBAAI,WAAQ1Q,MAAR,GAAiBsM,aAArB,EAAoC;AAClC,mBAAK,IAAInS,CAAC,GAAG,WAAQ6F,MAArB,EAA6B7F,CAAC,GAAGmS,aAAjC,EAAgDnS,CAAC,EAAjD,EAAqD;AACnD,2BAAQuL,IAAR,CACE,KAAK7O,WAAL,CAAiBiN,KAAjB,CAAuB;AACrB6M,6BAAW,EAAE,CAAC,EAAD,CADQ;AAErBQ,wBAAM,EAAE,CAAC,EAAD,CAFa;AAGrBC,wBAAM,EAAE,CAAC,KAAD,CAHa;AAIrB9W,wBAAM,EAAE,CAAC,KAAKA,MAAN,CAJa;AAKrByW,6BAAW,EAAE,CAAC,EAAD,CALQ;AAMrB0F,2BAAS,EAAE,CAAC,EAAD,CANU;AAOrBxF,kCAAgB,EAAE,CAAC,EAAD,CAPG;AAQrBC,gCAAc,EAAE,CAAC,EAAD;AARK,iBAAvB,CADF;AAYD;AACF,aAfD,MAeO;AACL,mBAAK,IAAI/W,GAAC,GAAG,WAAQ6F,MAArB,EAA6B7F,GAAC,IAAImS,aAAlC,EAAiDnS,GAAC,EAAlD,EAAsD;AACpD,2BAAQmT,QAAR,CAAiBnT,GAAjB;AACD;AACF;AACF,W,CAED;;;;eACA,eAAQ;AACN,mBAAO,KAAK2V,YAAL,CAAkB5K,QAAzB;AACD;;;eACD,eAAS;AACP,mBAAO,KAAKC,CAAL,CAAO4K,QAAd;AACD;;;iBAED,kBAAS;AACP,iBAAK1Z,MAAL,CAAY8Q,QAAZ,CAAqB,CAAC,yCAAD,CAArB;AACD;;;iBAED,kBAASwO,IAAT,EAAe,CAAE;;;iBACjB,gBAAO;AACL,gBAAMxE,MAAM,GAAG,KAAKrB,YAAL,CAAkB5K,QAAlB,CAA2B,UAA3B,EAAuC/O,KAAvC,CAA6CugB,EAA7C,CAAgD,CAAC,CAAjD,EAAoD,QAApD,CAAf;AACAjf,mBAAO,CAACyC,GAAR,CAAY;AAACiX,oBAAM,EAANA;AAAD,aAAZ;AACA,iBAAK0B,SAAL,CAAe7L,KAAf;AACA,iBAAK3Q,MAAL,CAAY8Q,QAAZ,CAAqB,qDAArB,EAA2E;AAAC/H,mBAAK,EAAE;AAAC+R,sBAAM,EAANA;AAAD;AAAR,aAA3E;AACD;;;iBAED,eAAMrK,WAAN,EAAmB;AACjB,gBAAIA,WAAJ,EAAiB;AACfrP,qBAAO,CAACyC,GAAR,CAAY,KAAKjD,KAAL,CAAW0L,IAAvB;AACA,mBAAK1L,KAAL,CAAW0L,IAAX,CAAgB,wBAAhB,EAA0C,OAA1C,EAAmD;AACjDG,wBAAQ,EAAE,IADuC;AAEjDC,gCAAgB,EAAE,KAF+B;AAGjDC,kCAAkB,EAAE;AAH6B,eAAnD;AAKD;AACF;;;iBAED,iBAAK;AACH,iBAAK3M,MAAL,CAAY8Q,QAAZ,CAAqB,CAAC,yCAAD,CAArB;AACD;;;iBAED,mBAAU7G,KAAV,EAAsB;AACpB,gBAAMgE,OAAO,GAAG,UAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC5BpE,mBAAK,CAACwE,cAAN;AACD;AACF;;;;;;;yBA9GUyR,4B,EAA4B,wI,EAAA,sI,EAAA,0J,EAAA,2I,EAAA,uH,EAAA,2H;AAAA,O;;;cAA5BA,4B;AAA4B,oD;AAAA,iB;AAAA,e;AAAA,ouB;AAAA;AAAA;ACKzC;;AACE;;AACE;;AAA4B;;AAAK;;AACnC;;AACA;;AACE;;AAAuB;;AAEvB;;AACF;;AACA;;AACE;;AAEA;;AACE;;AACA;;AAqBF;;AACF;;AACA;;AAAsB;AAAA,qBAAS,IAAAI,IAAA,EAAT;AAAe,aAAf;;AAAiB;;AAAI;;AAC7C;;;;AAxBa;;AAAA;;;;;;;;;wEDnBAJ,4B,EAA4B;gBALxC,uDAKwC;iBAL9B;AACTvO,oBAAQ,EAAE,6BADD;AAETC,uBAAW,EAAE,0CAFJ;AAGTC,qBAAS,EAAE,CAAC,0CAAD;AAHF,W;AAK8B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEdzC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;UAWa0O,2B;AAIX,6CAAqBvgB,MAArB,EAA4CM,EAA5C,EAA2EyX,GAA3E,EAAoGhX,MAApG,EAA8H;AAAA;;AAAzG,eAAAf,MAAA,GAAAA,MAAA;AAAuB,eAAAM,EAAA,GAAAA,EAAA;AAA+B,eAAAyX,GAAA,GAAAA,GAAA;AAAyB,eAAAhX,MAAA,GAAAA,MAAA;AAA6B;;;;iBAEjI,oBAAQ;AAENK,mBAAO,CAACyC,GAAR,CAAY,KAAKI,MAAjB;AACC,iBAAKA,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AACA9C,mBAAO,CAACyC,GAAR,CAAY,KAAKI,MAAjB;AACA,iBAAKuc,sBAAL,CAA4B,KAAKvc,MAAjC,EALK,CAMN;AACA;AACA;AAED;;;iBACD,gCAAuBA,MAAvB,EAA+B;AAAA;;AAC7B,iBAAK8T,GAAL,CAASyI,sBAAT,CAAgCvc,MAAhC,EAAwCwB,SAAxC,CAAkD,UAACC,IAAD,EAAU;AAC1DtE,qBAAO,CAACyC,GAAR,CAAY6B,IAAZ;AACEtE,qBAAO,CAACyC,GAAR,CAAY6B,IAAI,CAAC,CAAD,CAAJ,CAAQ+a,OAApB;AACD,qBAAI,CAACC,QAAL,GAAgBhb,IAAI,CAAC,CAAD,CAAJ,CAAQ+a,OAAxB;;AACD,qBAAI,CAAC1f,MAAL,CAAY4P,KAAZ;AACD,aALD,EAKG,UAAChL,GAAD,EAAc,CACf;AACD,aAPD;AAQD;;;;;;;yBA1BU4a,2B,EAA2B,uH,EAAA,0J,EAAA,2I,EAAA,mK;AAAA,O;;;cAA3BA,2B;AAA2B,gD;AAAA,iB;AAAA,e;AAAA,gQ;AAAA;AAAA;ACXxC;;AAAgE;;AAAU;;AAAK;;AAAW;;AAC1F;;AACC;;AACC;;AAAuC;;AAAe;;AACvD;;AACA;;AACG;;AACI;;AACI;;AACJ;;AAEJ;;AACH;;AACD;;AAEC;;AAAI;;AACL;;;;AARiB;;AAAA;;AAMjB;;AAAA;;;;;;;;;wEDHaA,2B,EAA2B;gBALvC,uDAKuC;iBAL7B;AACT5O,oBAAQ,EAAE,yBADD;AAETC,uBAAW,EAAE,sCAFJ;AAGTC,qBAAS,EAAE,CAAC,sCAAD;AAHF,W;AAK6B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEXxC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACmDoB;;AAME;;AACF;;;;;;AAHE;;AAEA;;AAAA;;;;;;AAkBF;;AAIE;;AACF;;;;;;AAHE;;AAEA;;AAAA;;;;;;AAKN;;AAME;;AACF;;;;;;AAuBA;;AAGE;;AACF;;;;UDvGH8O,yC;AA2DX,2DACU3gB,MADV,EAEUY,KAFV,EAGUF,GAHV,EAIUH,UAJV,EAKUqgB,SALV,EAMUtgB,EANV,EAOU8T,EAPV,EAQUjU,cARV,EASU0gB,YATV,EASoC;AAAA;;AAR1B,eAAA7gB,MAAA,GAAAA,MAAA;AACA,eAAAY,KAAA,GAAAA,KAAA;AACA,eAAAF,GAAA,GAAAA,GAAA;AACA,eAAAH,UAAA,GAAAA,UAAA;AACA,eAAAqgB,SAAA,GAAAA,SAAA;AACA,eAAAtgB,EAAA,GAAAA,EAAA;AACA,eAAA8T,EAAA,GAAAA,EAAA;AACA,eAAAjU,cAAA,GAAAA,cAAA;AACA,eAAA0gB,YAAA,GAAAA,YAAA;AAjEV,eAAA9E,kBAAA,GAA8B,KAA9B;AACA,eAAA+E,uBAAA,GAA0B,CACxB,0BADwB,EAExB,uBAFwB,EAGxB,wBAHwB,CAA1B;AAKA,eAAAC,yBAAA,GAA4B,CAC1B,yBAD0B,EAE1B,wBAF0B,CAA5B;AAKA,eAAAC,IAAA,GAAe,EAAf;AACA,eAAAlF,yBAAA,GAAqC,KAArC;AAKA,eAAAqD,cAAA,GAA0B,IAA1B,CAgDoC,CA/CpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAA8B,eAAA,GAAgB,CACd;AAACnU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WADc,EACe;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WADf,EAEd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WAFc,EAGd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WAHc,EAId;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WAJc,EAKd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WALc,EAMd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WANc,EAOd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WAPc,EAQd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WARc,EASd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WATc,EAUd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WAVc,EAWd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WAXc,EAYd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WAZc,EAad;AAAEpU,oBAAQ,EAAE,KAAZ;AAAmBoU,kBAAM,EAAE;AAA3B,WAbc,EAcd;AAACpU,oBAAQ,EAAC,KAAV;AAAiBoU,kBAAM,EAAC;AAAxB,WAdc,CAAhB;AA6BI;;;;iBAEJ,oBAAQ;AACN,iBAAKF,IAAL,GAAY9B,YAAY,CAAChb,OAAb,CAAqB,eAArB,CAAZ;AACA,iBAAKD,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AACA,iBAAK6X,kBAAL,GAA0B,KAAKzb,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAA1B;AACA,iBAAK4X,yBAAL,GAAiC,KAAKxb,EAAL,CAAQ4D,OAAR,CAC/B,4BAD+B,CAAjC;AAGA,iBAAKid,mBAAL,CAAyB,EAAzB;;AACA,gBAAI,KAAKpF,kBAAL,IAA2B,KAA/B,EAAsC;AACpC,mBAAKoF,mBAAL;AACD,aAFD,MAEO;AACL,mBAAKC,wBAAL;AACD;AACF;;;iBAED,6BAAoB1X,IAApB,EAA2B6L,UAA3B,EAAiD;AAAA;;AAC/C,iBAAK8L,cAAL,GAAsB,KAAKjN,EAAL,CAAQ3G,KAAR,CAAc;AAClC;AACA;AACA;AACA;AAEAxJ,oBAAM,EAAE,CAAC,KAAKA,MAAN,CAN0B;AAOlCqd,0BAAY,EAAE,CAAE5X,IAAI,CAAC4X,YAAL,GAAoB,GAAtB,CAPoB;AAQlCC,gCAAkB,EAAE,CAAE7X,IAAI,CAAC6X,kBAAL,GAA0B,OAA5B,CARc;AASlCC,kCAAoB,EAAE,CACpB;AACA9X,kBAAI,GAAGA,IAAI,CAAC8X,oBAAR,GAA+B,EAFf,EAGpB,CAAC,0DAAWzT,QAAZ,CAHoB,CATY;AAclC0T,+BAAiB,EAAE,CAAE/X,IAAI,CAAC+X,iBAAL,GAAyB,OAA3B,CAde;AAelC;AACA;AACA;AACAC,gCAAkB,EAAE,CAClBhY,IAAI,GAAGA,IAAI,CAACgY,kBAAR,GAA6B,EADf,EAElB,CAAC,0DAAW3T,QAAZ,CAFkB,CAlBc;AAsBlC4T,kCAAoB,EAAE,CACpBjY,IAAI,GAAGA,IAAI,CAACiY,oBAAR,GAA+B,EADf,EAEpB,CAAC,0DAAW5T,QAAZ,CAFoB,CAtBY;AA0BlC6T,oBAAM,EAAE,CAAClY,IAAI,GAAGA,IAAI,CAACkY,MAAR,GAAiB,EAAtB;AA1B0B,aAAd,CAAtB;AA4BAxgB,mBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoB,KAAKmd,IAAzB;;AACA,gBAAItX,IAAJ,EAAU;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAI,IAAI5F,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKmd,eAAL,CAAqBtX,MAAnC,EAA0C7F,CAAC,EAA3C,EAA8C;AAC5C,qBAAK+d,WAAL,GAAkB,KAAKZ,eAAL,CAAqBxX,MAArB,CAA4B,UAACqY,OAAD,EAAW;AACxD,yBAAO,OAAI,CAACd,IAAL,KAAYc,OAAO,CAAChV,QAA3B;AACA,iBAFiB,CAAlB;AAGA1L,uBAAO,CAACyC,GAAR,CAAY,kBAAZ,EAA+B,KAAKge,WAApC;AACD;;AACD,mBAAKE,eAAL,GAAuB,KAAKF,WAAL,CAAiB,CAAjB,EAAoBX,MAA3C;AACA,mBAAKO,iBAAL,GAAyB,KAAKM,eAAL,GAAuB,GAAvB,GAA6B,KAAKV,cAAL,CAAoBvhB,KAApB,CAA0B2hB,iBAAhF;AACA,mBAAKF,kBAAL,GAA0B,KAAKQ,eAAL,GAAuB,GAAvB,GAA6B,KAAKV,cAAL,CAAoBvhB,KAApB,CAA0ByhB,kBAAjF;AACA,mBAAKI,oBAAL,GAA4B,KAAKI,eAAL,GAAuB,GAAvB,GAA4B,KAAKV,cAAL,CAAoBvhB,KAApB,CAA0BkiB,qBAAlF,CA1BQ,CA6BR;;AACA,mBAAKX,cAAL,CAAoBxS,QAApB,CAA6B4S,iBAA7B,CAA+C7a,QAA/C,CACE,KAAK6a,iBADP;AAGA,mBAAKJ,cAAL,CAAoBxS,QAApB,CAA6B0S,kBAA7B,CAAgD3a,QAAhD,CACE,KAAK2a,kBADP,EAjCQ,CAoCR;AACD;AACF;;;iBAED,yBAAgB1V,OAAhB,EAAyB;AACvB,gBAAI,KAAKmV,IAAL,KAAc,KAAlB,EAAyB;AACvB5f,qBAAO,CAACyC,GAAR,CAAY,KAAKsb,cAAjB;AACA,mBAAK4C,eAAL,GAAuB,KAAKlB,YAAL,CAAkBoB,SAAlB,CACrB,KAAKF,eADgB,EAErB,GAFqB,CAAvB;AAIA3gB,qBAAO,CAACyC,GAAR,CAAY,KAAKsb,cAAjB;AACAtT,qBAAO,CAACkF,MAAR,CAAejR,KAAf,GAAuB,KAAKiiB,eAA5B;AACD,aARD,MAQO;AACL,mBAAKA,eAAL,GAAuB,KAAKlB,YAAL,CAAkBoB,SAAlB,CACrB,KAAKF,eADgB,EAErB,GAFqB,CAAvB;AAIAlW,qBAAO,CAACkF,MAAR,CAAejR,KAAf,GAAuB,KAAKiiB,eAA5B;AACD;;AACD3gB,mBAAO,CAACyC,GAAR,CAAYgI,OAAO,CAACkF,MAAR,CAAejR,KAA3B;AACD;;;iBAED,oBAAWmK,KAAX,EAAqB;AACnB7I,mBAAO,CAACyC,GAAR,CAAY,OAAZ,EAAqBoG,KAAK,CAAC8G,MAAN,CAAajR,KAAlC,EADmB,CAEnB;;AACA,gBAAIqW,QAAQ,GAAGlM,KAAK,CAAC8G,MAAN,CAAajR,KAAb,CAAmBgK,QAAnB,GAA8BsM,OAA9B,CAAsC,IAAtC,EAA4C,EAA5C,EAAgDC,KAAhD,CAAsD,GAAtD,CAAf,CAHmB,CAInB;AACA;AACA;AACA;;AACA,gBAAIC,OAAK,GAAGH,QAAQ,CAACI,IAAT,CAAc,GAAd,CAAZ,CARmB,CASnB;;;AACAnV,mBAAO,CAACyC,GAAR,CAAY,OAAZ,EAAqByS,OAArB;AACAlV,mBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2ByS,OAAK,CAAC3M,MAAjC,EAXmB,CAYnB;;AACA,iBAAK0X,cAAL,CAAoBxS,QAApB,CAA6B8S,oBAA7B,CAAkD/a,QAAlD,CAA2D0P,OAA3D;AACD;;;iBAED,oBAAWrM,KAAX,EAAuB;AACrB,gBAAMgE,OAAO,GAAG,mBAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC5BpE,mBAAK,CAACwE,cAAN;AACD;;AACD,gBAAMyT,KAAK,GAAGjY,KAAK,CAAC8G,MAAN,CAAajR,KAA3B;;AACA,gBAAIoiB,KAAK,CAACvY,MAAN,KAAiB,CAAjB,IAAsBM,KAAK,CAACkY,KAAN,KAAgB,EAA1C,EAA8C;AAC5ClY,mBAAK,CAACwE,cAAN;AACD;AACF;;;iBAED,oCAA2B;AAAA;;AACzB,iBAAKlO,UAAL,CACG6hB,8BADH,CACkC,KAAKne,MADvC,EAEE;AAFF,aAGGwB,SAHH,CAGa,UAACC,IAAD,EAAe;AACxBtE,qBAAO,CAACyC,GAAR,CAAY6B,IAAZ;;AACA,qBAAI,CAACyb,mBAAL,CAAyBzb,IAAzB,EAA+B,IAA/B;AACD,aANH;AAOD;;;iBAED,mBAAUuE,KAAV,EAAsB;AACpB,gBAAMgE,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC5BpE,mBAAK,CAACwE,cAAN;AACD;AACF;;;iBAED,gBAAOpI,GAAP,EAAY;AAAA;;AACVjF,mBAAO,CAACyC,GAAR,CAAY,KAAZ,EAAmBwC,GAAG,CAACob,iBAAvB;AACArgB,mBAAO,CAACyC,GAAR,CAAY,uBAAZ,EAAqCwC,GAAG,CAACob,iBAAJ,CAAsB9X,MAA3D;AACAvI,mBAAO,CAACyC,GAAR,CAAY,KAAZ,EAAmBwC,GAAG,CAACsb,oBAAvB;AACAvgB,mBAAO,CAACyC,GAAR,CAAY,0BAAZ,EAAuCwC,GAAG,CAACsb,oBAAJ,CAAyBhY,MAAhE;AACAtD,eAAG,CAACob,iBAAJ,GAAwBpb,GAAG,CAACob,iBAAJ,CAAsBpC,KAAtB,CACtB,CADsB,EAEtBhZ,GAAG,CAACob,iBAAJ,CAAsB9X,MAAtB,GAA+B,CAFT,CAAxB;AAIAtD,eAAG,CAACkb,kBAAJ,GAAyBlb,GAAG,CAACkb,kBAAJ,CAAuBlC,KAAvB,CACvB,CADuB,EAEvBhZ,GAAG,CAACkb,kBAAJ,CAAuB5X,MAAvB,GAAgC,CAFT,CAAzB,CATU,CAaV;AACA;AACD;AACA;AACA;AACA;;AACC,iBAAKpJ,UAAL,CAAgB8hB,qBAAhB,CAAsChc,GAAtC,EAA2CZ,SAA3C,CAAqD,UAACM,IAAD,EAAU;AAC7D3E,qBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoBkC,IAApB;;AACA,kBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,uBAAI,CAACnF,KAAL,CAAW0L,IAAX,CAAgB,wCAAhB,EAA0D,IAA1D,EAAgE;AAC9DG,0BAAQ,EAAE,IADoD;AAE9DC,kCAAgB,EAAE,KAF4C;AAG9DC,oCAAkB,EAAE;AAH0C,iBAAhE;;AAKA,uBAAI,CAACjM,GAAL,CAAS0G,YAAT;AACD;AACF,aAVD;AAWA,iBAAKJ,IAAL;AACD;;;iBACD,qBAAY0Q,GAAZ,EAAsB;AACpB,gBAAIC,IAAI,GAAGD,GAAG,CAACtB,OAAJ,CAAY,IAAZ,EAAkB,EAAlB,CAAX;AACAhV,mBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoB8T,IAApB;AACA,mBAAOA,IAAP;AACD;;;iBAED,gBAAO;AACL,iBAAKrX,EAAL,CAAQiG,OAAR,CAAgB,sBAAhB,EAAwC,IAAxC;AACA,iBAAKjG,EAAL,CAAQiG,OAAR,CAAgB,4BAAhB,EAA8C,IAA9C;AACA,iBAAKpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACA,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,6CAArB;AACD;;;iBACD,kBAAS;AACP,iBAAK9Q,MAAL,CAAY8Q,QAAZ,CAAqB,qCAArB;AACD;;;;;;;yBA3QU6P,yC,EAAyC,uH,EAAA,wI,EAAA,gI,EAAA,2I,EAAA,yH,EAAA,0J,EAAA,2H,EAAA,sJ,EAAA,6H;AAAA,O;;;cAAzCA,yC;AAAyC,+D;AAAA,iB;AAAA,e;AAAA,uiD;AAAA;AAAA;ACftD;;AACA;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AAAyB;;AAAG;;AAAiB;;AAAI;;AACnD;;AACF;;AAGA;;AACE;;AACE;;AACE;;AACA;;AAAuB;;AAAkB;;AACzC;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACE;;AACE;;AACA;;AAAwB;;AAAsB;;AAE5C;;AAGE;AAAA,qBAAY,IAAA2B,UAAA,QAAZ;AAA8B,aAA9B;;AAHF;;AAYF;;AACF;;AACA;;AACE;;AACA;;AAAwB;;AAAqB;;AAE3C;;AAIC;;AAAqB;;AAAM;;AAC1B;;AAQF;;AAGF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACA;;AAAwB;;AAAqB;;AAE3C;;AAKE;;AAMF;;AAGF;;AAQA;;AACF;;AACA;;AACE;;AACA;;AAAwB;;AAAsB;;AAG5C;;AAAiB;;AAAmB;;AACpC;;AAGE;AAAA,qBAAY,IAAAA,UAAA,QAAZ;AAA8B,aAA9B,EAA+B,MAA/B,EAA+B;AAAA,qBACvB,IAAAC,eAAA,QADuB;AACA,aAD/B;;AAHF;;AAcF;;AAKA;;AACF;;AACF;;AACA;;AACE;;AACE;;AACA;;AAAwB;;AAAmB;;AAEzC;;AAGE;AAAA,qBAAY,IAAAD,UAAA,QAAZ;AAA8B,aAA9B;;AAHF;;AAWF;;AACF;;AACA;;AACE;;AACA;;AAAwB;;AAAO;;AAE7B;;AAQF;;AASF;;AACF;;AACF;;AAEF;;AACF;;AACF;;AACA;;AAIE;;AAA2C;AAAA,qBAAS,IAAAzO,MAAA,EAAT;AAAiB,aAAjB;;AACzC;;AACF;;AACA;;AAAsC;AAAA,qBAAS,IAAA2O,MAAA,0BAAT;AAAqC,aAArC;;AACpC;;AACJ;;AACA;;AACF;;AACF;;AACA;;;;AAhKc;;AAAA;;AAgC4D;;AAAA;;AAuBrB;;AAAA;;AASlC;;AAAA;;AAcgB;;AAAA;;AAgBhB;;AAAA;;AA4DgE;;AAAA;;;;;;;;;wEDhKtE7B,yC,EAAyC;gBALrD,uDAKqD;iBAL3C;AACThP,oBAAQ,EAAE,wCADD;AAETC,uBAAW,EAAE,qDAFJ;AAGTC,qBAAS,EAAE,CAAC,qDAAD;AAHF,W;AAK2C,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEftD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAOA;;;;;AC0BU;;AAEE;;AACE;;AACE;;AACE;;AAEF;;AACF;;AACA;;AACE;;AACE;;AAEE;;AAAgB;;AAAC;;AACrB;;AACF;;AACA;;AACE;;AACE;;AAEE;;AAAgB;;AAAC;;AACrB;;AACF;;AACA;;AACE;;AACE;;AAEE;;AAAgB;;AAAC;;AACrB;;AACF;;AACF;;AAEF;;;;;;AA9BgB;;AAAA;;;;;;AApBtB;;AACE;;AACE;;AACE;;AACF;;AACA;;AACF;;AACA;;AACE;;AACE;;AAEE;;AAAI;;AAAa;;AACjB;;AAAI;;AAAwB;;AAC5B;;AAAI;;AAAW;;AACf;;AAAI;;AAAgB;;AACtB;;AACF;;AACA;;AACE;;AAiCF;;AACF;;AACF;;;;;;AArD2B;;AAkBQ;;AAAA;;;;UDhB1B4Q,uB;AAgBX,yCACUtiB,cADV,EAEUS,KAFV,EAGUN,EAHV,EAIUyX,GAJV,EAKU/X,MALV,EAMUQ,WANV,EAOUO,MAPV,EAOkC;AAAA;;AANxB,eAAAZ,cAAA,GAAAA,cAAA;AACA,eAAAS,KAAA,GAAAA,KAAA;AACA,eAAAN,EAAA,GAAAA,EAAA;AACA,eAAAyX,GAAA,GAAAA,GAAA;AACA,eAAA/X,MAAA,GAAAA,MAAA;AACA,eAAAQ,WAAA,GAAAA,WAAA;AACA,eAAAO,MAAA,GAAAA,MAAA;AAjBV,eAAAoB,cAAA,GAA0B,KAA1B;AAOA,eAAAsO,WAAA,GAAsB,aAAtB;AAWK;;;;iBAEL,oBAAQ;AAAA;;AACN,iBAAKxM,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,gBAAIwX,qBAAqB,GAAG,KAAKpb,EAAL,CAAQ4D,OAAR,CAAgB,4BAAhB,CAA5B;AACA,iBAAKwe,kBAAL;;AACA,gBAAI,KAAKze,MAAL,IAAe,IAAf,IAAuByX,qBAA3B,EAAkD;AAChD,mBAAKvZ,cAAL,GAAsB,IAAtB;AAEA,mBAAKugB,kBAAL;AACD,aAJD,MAKK;AACHthB,qBAAO,CAACyC,GAAR,CAAY,MAAZ;AACA,mBAAK1B,cAAL,GAAsB,KAAtB;AACA,mBAAK4V,GAAL,CACC8B,kBADD,CACoB,gBADpB,EACsC,KAAKpJ,WAD3C,EAEChL,SAFD,CAEW,UAAC8N,QAAD,EAAc;AACvB,uBAAI,CAAC6L,gBAAL,CAAsB7L,QAAQ,CAAC5J,MAA/B;;AACA,uBAAI,MAAJ,CAAQrD,UAAR,CAAmBiN,QAAnB;AACD,eALD;AAMD;;AAED,iBAAK8F,YAAL,GAAoB,KAAK7Y,WAAL,CAAiBiN,KAAjB,CAAuB;AACzCkV,0BAAY,EAAE,IAAI,wDAAJ,CAAc,EAAd;AAD2B,aAAvB,CAApB;AAID;;;iBAED,8BAAkB;AAAA;;AAChB;AACA;AACA;AACA,iBAAK1e,MAAL,GAAc,KAAKA,MAAnB;AACA,iBAAK8T,GAAL,CAAS6K,qBAAT,CAA+B,KAAK3e,MAApC,EAA4CwB,SAA5C,CAAsD,UAACC,IAAD,EAAU;AAC9D,qBAAI,CAAC3E,MAAL,CAAY4P,KAAZ;;AACAvP,qBAAO,CAACyC,GAAR,CAAY,oBAAZ,EAAkC,OAAI,CAAC6B,IAAvC;AACA,qBAAI,CAACA,IAAL,GAAYA,IAAZ;;AACA,qBAAI,CAAC0Z,gBAAL,CAAsB,OAAI,CAAC1Z,IAAL,CAAUiE,MAAhC;;AACA,qBAAI,MAAJ,CAAQrD,UAAR,CAAmB,OAAI,CAACZ,IAAxB;AACD,aAND,EAMG,UAACC,GAAD,EAAc,CACf;AACD,aARD;AASD;;;iBAED,0BAAiB0U,CAAjB,EAAoB;AAClB,iBAAKpW,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,gBAAM+R,aAAa,GAAGoE,CAAC,IAAI,CAA3B;;AACA,gBAAI,WAAQ1Q,MAAR,GAAiBsM,aAArB,EAAoC;AAClC,mBAAK,IAAInS,CAAC,GAAG,WAAQ6F,MAArB,EAA6B7F,CAAC,GAAGmS,aAAjC,EAAgDnS,CAAC,EAAjD,EAAqD;AACnD,2BAAQuL,IAAR,CACE,KAAK7O,WAAL,CAAiBiN,KAAjB,CAAuB;AACrB6M,6BAAW,EAAE,CAAC,YAAD,EAAe,0DAAWvM,QAA1B,CADQ;AAErBwM,uCAAqB,EAAE,CAAC,GAAD,EAAM,0DAAWxM,QAAjB,CAFF;AAGrByM,0BAAQ,EAAE,CAAC,IAAD,EAAM,CAAC,0DAAWzM,QAAZ,EAAsB,0DAAW8U,GAAX,CAAe,GAAf,CAAtB,EAA2C,0DAAWC,GAAX,CAAe,CAAf,CAA3C,CAAN,CAHW;AAIrBrI,+BAAa,EAAE,CAAC,IAAD,EAAM,CAAC,0DAAW1M,QAAZ,EAAsB,0DAAW8U,GAAX,CAAe,GAAf,CAAtB,EAA2C,0DAAWC,GAAX,CAAe,CAAf,CAA3C,CAAN,CAJM;AAKrBC,gCAAc,EAAE,CAAC,EAAD,CALK;AAMrB9e,wBAAM,EAAE,CAAC,KAAKA,MAAN;AANa,iBAAvB,CADF;AAUD;AACF,aAbD,MAaO;AACL,mBAAK,IAAIH,GAAC,GAAG,WAAQ6F,MAArB,EAA6B7F,GAAC,IAAImS,aAAlC,EAAiDnS,GAAC,EAAlD,EAAsD;AACpD,2BAAQmT,QAAR,CAAiBnT,GAAjB;AACD;AACF;AACF;;;eAED,eAAQ;AACN,mBAAO,KAAKuV,YAAL,CAAkBxK,QAAzB;AACD;;;eACD,eAAS;AACP,mBAAO,KAAKC,CAAL,CAAO6T,YAAd;AACD;;;iBAED,0BAAiB1Y,KAAjB,EAAwB;AACtB;AACA7I,mBAAO,CAACyC,GAAR,CAAYoG,KAAK,CAAC8G,MAAN,CAAajR,KAAzB;AAEA,gBAAI,CAACmK,KAAK,CAAC8G,MAAN,CAAajR,KAAb,CAAmB6J,MAAxB,EAAgC;;AAEhC,gBAAIM,KAAK,CAAC8G,MAAN,CAAajR,KAAb,CAAmB6J,MAAnB,KAA8B,CAAlC,EAAqC;AACnCM,mBAAK,CAAC8G,MAAN,CAAajR,KAAb,aAAwBmK,KAAK,CAAC8G,MAAN,CAAajR,KAArC;AACD;;AACD,gBAAImK,KAAK,CAAC8G,MAAN,CAAajR,KAAb,CAAmB6J,MAAnB,GAA4B,CAAhC,EAAmC;AACjCM,mBAAK,CAAC8G,MAAN,CAAajR,KAAb,aAAwBmK,KAAK,CAAC8G,MAAN,CAAajR,KAAb,CAAmBuf,KAAnB,CAAyB,CAAzB,EAA4B,CAAC,CAA7B,CAAxB;AACD;AACF;;;iBAED,oBAAW;AAAA;;AACTje,mBAAO,CAACyC,GAAR,CAAY,KAAKwV,YAAL,CAAkBvZ,KAA9B;AACA,iBAAKiY,GAAL,CAASiL,sBAAT,CAAgC,KAAK3J,YAAL,CAAkBvZ,KAAlD,EAAyD2F,SAAzD,CACE,UAACC,IAAD,EAAU;AACR,qBAAI,CAAC9E,KAAL,CAAW0L,IAAX,CAAgB,yBAAhB,EAA2C,IAA3C,EAAiD;AAC/CG,wBAAQ,EAAE,IADqC;AAE/CC,gCAAgB,EAAE,KAF6B;AAG/CC,kCAAkB,EAAE;AAH2B,eAAjD;;AAKA,qBAAI,CAAC3F,IAAL;;AACA5F,qBAAO,CAACyC,GAAR,CAAY,sCAAZ,EAAoD6B,IAApD;AACD,aATH,EAUE,UAACC,GAAD,EAAS;AACP,qBAAI,CAAC/E,KAAL,CAAW0L,IAAX,CACE,gCADF,EAEE,uBAFF,EAGE;AACEG,wBAAQ,EAAE,IADZ;AAEEC,gCAAgB,EAAE,KAFpB;AAGEC,kCAAkB,EAAE;AAHtB,eAHF;AASD,aApBH;AAuBD;;;iBAED,gBAAO;AACL,iBAAKrM,EAAL,CAAQiG,OAAR,CAAgB,4BAAhB,EAA8C,IAA9C;AACA,iBAAKpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACA,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,qDAArB;AACD;;;iBAED,kBAAS;AACP,iBAAK9Q,MAAL,CAAY8Q,QAAZ,CAAqB,2CAArB;AAGD;;;iBAED,eAAML,WAAN,EAAmB;AACjB,gBAAIA,WAAJ,EAAiB;AACfrP,qBAAO,CAACyC,GAAR,CAAY,KAAKjD,KAAL,CAAW0L,IAAvB;AACA,mBAAK1L,KAAL,CAAW0L,IAAX,CAAgB,0BAAhB,EAA4C,OAA5C,EAAqD;AACnDG,wBAAQ,EAAE,IADyC;AAEnDC,gCAAgB,EAAE,KAFiC;AAGnDC,kCAAkB,EAAE;AAH+B,eAArD;AAKD;AACF;;;iBAED,mBAAU1C,KAAV,EAAsB;AACpB,gBAAMgE,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC5BpE,mBAAK,CAACwE,cAAN;AACD;AACF;;;;;;;yBAxKUgU,uB,EAAuB,sJ,EAAA,wI,EAAA,0J,EAAA,2I,EAAA,uH,EAAA,2H,EAAA,mK;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA,iB;AAAA,e;AAAA,g7C;AAAA;AAAA;ACjBpC;;AACA;;AACE;;AACE;;AACE;;AACF;;AAEA;;AACE;;AAAyB;;AAAG;;AAAgB;;AAAI;;AAClD;;AACF;;AAEA;;AAEE;;AACA;;AAsDF;;AAUA;;AACE;;AAAsB;AAAA,qBAAS,IAAA5O,MAAA,EAAT;AAAiB,aAAjB;;AAAmB;;AAAI;;AAC7C;;AACA;;AACE;AAAA,qBAAS,IAAAgE,QAAA,EAAT;AAAmB,aAAnB;;AAAqB;;AAAI;;AAC7B;;AACF;;AACA;;;;AAvEW;;AAAA;;AAmEiE;;AAAA;;;;;;;;;wEDjE/D4K,uB,EAAuB;gBALnC,uDAKmC;iBALzB;AACT9Q,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKyB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEjBpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACiDgB;;AACJ;;AAQA;;AAA0B;;AAAS;;AACrC;;;;AARI;;AAAA,uFAAmB,OAAnB,EAAmB,GAAnB;;;;;;;;AAcE;;AACI;;AAAmB;AAAA;;AAAA;;AAAA;AAAA;;AACjB;;AAAa;;AAAU;;AAAa;;AACtC;;AACF;;;;;;;;;;AAEA;;AAGE;;AAAY;;AAAU;;AAAa;;AACrC;;;;AAHA;;;;UD7DLoR,uB;AAkBX,yCAAoBjjB,MAApB,EAA0CM,EAA1C,EAAuEL,MAAvE,EAAiGS,GAAjG,EAAwH;AAAA;;AAApG,eAAAV,MAAA,GAAAA,MAAA;AAAsB,eAAAM,EAAA,GAAAA,EAAA;AAA6B,eAAAL,MAAA,GAAAA,MAAA;AAA0B,eAAAS,GAAA,GAAAA,GAAA;AAhBjG,eAAAwiB,YAAA,GAAe,CACb;AACE,kBAAK,CADP;AAEE,qBAAS,oBAFX;AAGE,uBAAU,4CAHZ;AAIE,0BAAa,EAJf;AAKE,sBAAS,SALX;AAME,qBAAS,kCANX;AAOE,sBAAS;AAPX,WADa,CAAf;AAcA,eAAAC,aAAA,GAAwB,KAAxB;AAE2H;;;;iBAE3H,oBAAQ;AAAA;;AACN,iBAAKxV,SAAL,GAAiB,KAAKrN,EAAL,CAAQ4D,OAAR,CAAgB,WAAhB,CAAjB;AACA,iBAAKif,aAAL,GAAqB,KAAK7iB,EAAL,CAAQ4D,OAAR,CAAgB,YAAhB,CAArB;AAEA,iBAAK/D,cAAL,CAAoB+G,OAApB,CAA4BzB,SAA5B,CAAsC,UAAC0B,GAAD,EAAc;AAClD,qBAAI,CAACwG,SAAL,GAAiB,OAAI,CAACrN,EAAL,CAAQ4D,OAAR,CAAgB,WAAhB,CAAjB;AACA,qBAAI,CAACif,aAAL,GAAqB,OAAI,CAAC7iB,EAAL,CAAQ4D,OAAR,CAAgB,YAAhB,CAArB;;AAEA,qBAAI,CAACxD,GAAL,CAAS0G,YAAT;AACD,aALD;AAMD;;;iBAED,oBAAWsC,IAAX,EAAe;AACbtI,mBAAO,CAACyC,GAAR,CAAY6F,IAAZ;AACA,iBAAK1J,MAAL,CAAY8Q,QAAZ,CAAqB,iBAAUpH,IAAI,CAACX,KAAf,EAArB;AACD;;;iBACD,2BAAkB;AAChB,gBAAMyT,SAAS,GAAG,KAAKvc,MAAL,CAAYqM,IAAZ,CAAiB,8GAAjB,EAA8C;AAC9D8W,oBAAM,EAAE,KADsD;AAE9DnG,mBAAK,EAAE,KAFuD;AAG9DC,0BAAY,EAAE;AAHgD,aAA9C,CAAlB;AAIAV,qBAAS,CAACW,WAAV,GAAwB1X,SAAxB,CAAkC,UAAC4d,MAAD,EAAY,CAC7C,CADD;AAGD;;;;;;;yBA5CUJ,uB,EAAuB,uH,EAAA,0J,EAAA,mI,EAAA,gI;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA,iB;AAAA,e;AAAA,k4B;AAAA;AAAA;ACXpC;;AACI;;AACI;;AACI;;AAEJ;;AACA;;AACI;;AAAyB;;AAAG;;AAAuB;;AAAI;;AACvD;;AACI;;AACJ;;AACJ;;AACJ;;AAiBJ;;AACA;;AACI;;AAGI;;AACI;;AACI;;AAAgB;;AAAiB;;AAErC;;AACA;;AACI;;AACO;;AACK;;AAAI;;AAA2C;;AACpD;;AACH;;AACI;;AACJ;;AACJ;;AAEA;;AAYJ;;AAEA;;AACA;;AACI;;AAME;;AA0BN;;AAEJ;;AAEJ;;AAIJ;;;;AA5D6B;;AAAA;;AAIM;;AAAA;;AAgBJ;;AAAA;;AAQP;;AAAA;;;;;;;;;wED9DXA,uB,EAAuB;gBALnC,uDAKmC;iBALzB;AACTtR,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKyB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEEhC;;AACI;;AAAO;;AAA+B;;AAA6C;;AAAO;;AAAgF;;AAC1K;;AACK;;AAGL;;AAEJ;;;;;;;;;AAP0C;;AAAA;;AAAoD;;AAAA;;AAEzD;;AAAA;;;;UCc5ByR,wB;AAgHX,0CACUC,IADV,EAEUC,YAFV,EAGSvjB,MAHT,EAIUD,MAJV,EAKUoU,EALV,EAMUxT,KANV,EAOUN,EAPV,EAQUmjB,gBARV,EASU/iB,GATV,EAUUqX,GAVV,EAWU/F,aAXV,EAYUjR,MAZV,EAaUZ,cAbV,EAcUQ,aAdV,EAeU+iB,YAfV,EAeyC;AAAA;;AAAA;;AAd/B,eAAAH,IAAA,GAAAA,IAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AACD,eAAAvjB,MAAA,GAAAA,MAAA;AACC,eAAAD,MAAA,GAAAA,MAAA;AACA,eAAAoU,EAAA,GAAAA,EAAA;AACA,eAAAxT,KAAA,GAAAA,KAAA;AACA,eAAAN,EAAA,GAAAA,EAAA;AACA,eAAAmjB,gBAAA,GAAAA,gBAAA;AACA,eAAA/iB,GAAA,GAAAA,GAAA;AACA,eAAAqX,GAAA,GAAAA,GAAA;AACA,eAAA/F,aAAA,GAAAA,aAAA;AACA,eAAAjR,MAAA,GAAAA,MAAA;AACA,eAAAZ,cAAA,GAAAA,cAAA;AACA,eAAAQ,aAAA,GAAAA,aAAA;AACA,eAAA+iB,YAAA,GAAAA,YAAA;AA7HH,eAAAC,WAAA,GAA2B,IAA3B;AACA,eAAAC,YAAA,GAA4B,IAA5B;AAIP,eAAAC,UAAA,GAAwB,EAAxB;AACA,eAAAC,UAAA,GAAwB,EAAxB;AACA,eAAAC,UAAA,GAAwB,EAAxB;AACO,eAAAnc,UAAA,GAAqB,IAArB;AAWP,eAAAoc,eAAA,GAAyB,EAAzB;AACA,eAAAC,cAAA,GAAwB,EAAxB;AACA,eAAAC,eAAA,GAAyB,EAAzB;AACA,eAAAC,kBAAA,GAA4B,EAA5B;AACA,eAAAC,QAAA,GAAkB,EAAlB,CAsGyC,CA/FzC;;AACA,eAAAC,aAAA,GAA0B,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAA1B;AACA,eAAAC,YAAA,GAAwB,KAAxB;AAIA,eAAAhQ,gBAAA,GAA0B,EAA1B;AACA,eAAAiQ,YAAA,GAAuB,IAAvB;AACA,eAAAC,UAAA,GAAkB,IAAlB;AACA,eAAAC,SAAA,GAAiB,IAAjB;AACA,eAAAC,UAAA,GAAkB,IAAlB;AAEA,eAAAC,cAAA,GAA4B,EAA5B;AAEA,eAAAC,aAAA,GAA2B,EAA3B;AAEA,eAAAC,SAAA,GAAY,gBAAZ;AAGA,eAAAlQ,sBAAA,GAAgC,EAAhC;AAEA,eAAAmQ,UAAA,GAAoB,EAApB;AAEA,eAAAC,QAAA,GAAkB,EAAlB;AAEA,eAAAC,aAAA,GAAuB,EAAvB;AACA,eAAAC,MAAA,GAAgB,EAAhB;AAUA,eAAAC,YAAA,GAAsB,EAAtB;AAGA,eAAAC,WAAA,GAAuB,KAAvB;AAEA,eAAAC,SAAA,GAAmB,EAAnB;AACA,eAAAC,SAAA,GAAmB,EAAnB;AAIA,eAAAC,QAAA,GAAkB,EAAlB;AACA,eAAAC,SAAA,GAAiB,EAAjB;AACA,eAAAC,aAAA,GAAuB,EAAvB;AAEA,eAAAC,mBAAA,GAA6B,EAA7B;AACA,eAAAC,mBAAA,GAA6B,EAA7B;AACA,eAAAC,mBAAA,GAA6B,EAA7B;AAGA,eAAAC,WAAA,GAAqB,EAArB;AACA,eAAAC,SAAA,GAAc,EAAd;AAGA,eAAAC,YAAA,GAAwB,KAAxB;AACA,eAAAC,mBAAA,GAA+B,IAA/B;AAQA,eAAAC,aAAA,GAAqB,EAArB;AACA,eAAAC,mBAAA,GAA2B,EAA3B;AAGA,eAAA1K,oBAAA,GAAgC,KAAhC;AACA,eAAAC,gBAAA,GAA4B,KAA5B;AAIA,eAAA0K,UAAA,GAAkB,EAAlB;AAsBA,eAAAC,EAAA,GAAc,KAAd;AACA,eAAAC,EAAA,GAAc,KAAd;AAIA,eAAAC,OAAA,GAAe,eAAf;AAEA,eAAAC,qBAAA,GAA+B,EAA/B;AACA,eAAAC,oBAAA,GAA8B,EAA9B;AACA,eAAAC,sBAAA,GAAgC,EAAhC;AACA,eAAAC,6BAAA,GAAoC,EAApC;AACA,eAAAC,YAAA,GAAoB,EAApB;AAgRQ,eAAAC,OAAA,GAAyB,IAAI,4CAAJ,EAAzB;;AAuLR,eAAAC,YAAA,GAAe,UAACC,GAAD,EAAS;AACtB,gBAAI;AAAA;AACF,oBAAIC,WAAJ;AAAA,oBACEC,GADF;AAAA,oBAEE1I,IAFF;AAAA,oBAGE2I,aAAa,GAAG,CAHlB;AAIA,oBAAMC,QAAQ,GAAGJ,GAAG,CAACzQ,OAAJ,CAAY,eAAZ,EAA6B,EAA7B,EAAiC8Q,IAAjC,EAAjB;AACA,oBAAMC,KAAK,GAAGF,QAAQ,CAAC5Q,KAAT,CAAe,IAAf,CAAd;;AAEA,qBAAK,IAAIvS,CAAC,GAAGqjB,KAAK,CAACxd,MAAN,GAAe,CAA5B,EAA+B7F,CAAC,IAAI,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;AAC1C,sBAAIqN,KAAK,GAAG,CAAZ;AAAA,sBACEiW,UAAU,GAAG,CAAC,CADhB;;AAEA,uBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACrjB,CAAD,CAAL,CAAS6F,MAA7B,EAAqC0d,CAAC,EAAtC,EAA0C;AACxC,wBAAIF,KAAK,CAACrjB,CAAD,CAAL,CAASujB,CAAT,KAAe,GAAf,IAAsBF,KAAK,CAACrjB,CAAD,CAAL,CAASujB,CAAT,KAAe,GAAzC,EAA8C;AAC5ClW,2BAAK;AACL,0BAAIiW,UAAU,KAAK,CAAC,CAApB,EAAuBA,UAAU,GAAGC,CAAb;AACxB;AACF;;AACD,sBAAIlW,KAAK,IAAI,EAAb,EAAiB;AACf2V,+BAAW,GAAGK,KAAK,CAACrjB,CAAD,CAAL,CAASwjB,MAAT,CAAgBF,UAAhB,EAA4BA,UAAU,GAAG,EAAzC,CAAd;AACD;AACF;;AApBC,2CAsBOtjB,GAtBP;AAuBA,mBAAC,KAAD,EAAQ,eAAR,EAAyB+I,IAAzB,CAA8B,UAAC0a,SAAD,EAAe;AAC3C,wBAAMC,QAAQ,GAAGL,KAAK,CAACrjB,GAAD,CAAL,CAAS2jB,OAAT,CAAiBF,SAAjB,CAAjB;;AACA,wBAAIC,QAAQ,KAAK,CAAC,CAAlB,EAAqB;AACnBT,yBAAG,GAAGI,KAAK,CAACrjB,GAAD,CAAL,CACHojB,IADG,GAEH7H,KAFG,CAEGmI,QAFH,EAEaL,KAAK,CAACrjB,GAAD,CAAL,CAAS6F,MAFtB,EAGH0M,KAHG,CAGG,GAHH,EAIHqR,GAJG,EAAN;AAKAV,mCAAa,GAAGljB,GAAC,GAAG,CAApB;AACA1C,6BAAO,CAACyC,GAAR,CAAYkjB,GAAZ;AACD;AACF,mBAXD;AAvBA;;AAsBF,qBAAK,IAAIjjB,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGqjB,KAAK,CAACxd,MAA1B,EAAkC7F,GAAC,EAAnC,EAAuC;AAAA,wBAA9BA,GAA8B;AAatC;;AAED,oBAAM6jB,KAAK,GAAGR,KAAK,CAACH,aAAD,CAAL,CACX3Q,KADW,CACL,GADK,EAEX5M,MAFW,CAEJ,UAACme,CAAD;AAAA,yBAAOA,CAAC,CAACje,MAAF,GAAW,CAAlB;AAAA,iBAFI,EAGX4M,IAHW,CAGN,GAHM,CAAd;AAIAnV,uBAAO,CAACyC,GAAR,CAAY8jB,KAAZ;AACA;AAAA,qBAAO;AACLZ,uBAAG,EAAHA,GADK;AAELD,+BAAW,EAAXA,WAFK;AAGLe,4BAAQ,EAAEF;AAHL;AAAP;AA1CE;;AAAA;AA+CH,aA/CD,CA+CE,OAAOpb,KAAP,EAAc;AACdnL,qBAAO,CAACyC,GAAR,CAAY0I,KAAZ;AACAnL,qBAAO,CAACmL,KAAR,CAAc,wBAAd;AACD;AACF,WApDD;;AA+DA,eAAA0I,yBAAA,GAA4B,UAACnV,KAAD,EAAW;AACrC,mBAAO,OAAI,CAACwU,gBAAL,CAAsB1F,QAAtB,CAA+B9O,KAA/B,CAAP;AACD,WAFD;;AAyBA,eAAAgoB,aAAA,GAAgB,UAACjB,GAAD,EAAS;AACvB,gBAAI;AACF,kBAAMI,QAAQ,GAAGJ,GAAG,CAACzQ,OAAJ,CAAY,eAAZ,EAA6B,EAA7B,CAAjB;AACA,kBAAMgR,UAAU,GAAGH,QAAQ,CAACQ,OAAT,CAAiB,WAAjB,CAAnB;AACA,kBAAMM,SAAS,GAAGd,QAAQ,CAACQ,OAAT,CAAiB,MAAjB,CAAlB;AAEA,kBAAMO,SAAS,GAAGf,QAAQ,CAAC5H,KAAT,CAAe+H,UAAf,EAA2BW,SAA3B,EAAsCE,KAAtC,CAA4C,0BAA5C,EAAwE,CAAxE,CAAlB,CALE,CAK4F;;AAE9F,kBAAMC,eAAe,GAAGjB,QAAQ,CAACQ,OAAT,CAAiB,iBAAjB,CAAxB,CAPE,CAQF;;AAEA,kBAAMU,UAAU,GAAGlB,QAAQ,CAAC5H,KAAT,CAAe0I,SAAf,EAA0BG,eAA1B,EAA2C7R,KAA3C,CAAiD,IAAjD,CAAnB,CAVE,CAUyE;;AAC3E,kBAAM+R,WAAW,GAAGD,UAAU,CAAC,CAAD,CAAV,CAAc9R,KAAd,CAAoB,GAApB,CAApB;AACA,kBAAMgS,SAAS,GAAGpB,QAAQ,CAAC5H,KAAT,CAAe4H,QAAQ,CAACQ,OAAT,CAAiB,eAAjB,CAAf,EAAkDR,QAAQ,CAACtd,MAA3D,CAAlB;AACA,kBAAMod,GAAG,GAAGsB,SAAS,CAAChS,KAAV,CAAgB,IAAhB,EAAsB,CAAtB,EAAyBA,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAZ;AACA,qBAAO;AACL2R,yBAAS,EAATA,SADK;AAEL3J,oBAAI,YAAK+J,WAAW,CAAC,CAAD,CAAhB,cAAuBA,WAAW,CAAC,CAAD,CAAlC,CAFC;AAGLngB,2BAAW,EAAE8e;AAHR,eAAP;AAMD,aApBD,CAoBE,OAAOxa,KAAP,EAAc;AACdnL,qBAAO,CAACyC,GAAR,CAAY0I,KAAZ;AACAnL,qBAAO,CAACmL,KAAR,CAAc,0BAAd;;AACA,qBAAI,CAAC3L,KAAL,CAAW0L,IAAX,CAAgB,8BAAhB,EAAgD,IAAhD,EAAsD;AACpDG,wBAAQ,EAAE,IAD0C;AAEpDC,gCAAgB,EAAE,KAFkC;AAGpDC,kCAAkB,EAAE;AAHgC,eAAtD;AAKD;AACF,WA9BD;;AAgCA,eAAA2b,cAAA,GAAiB,UAACzB,GAAD,EAAS;;;AACxB,gBAAI;AACF,kBAAI0B,WAAJ,EAAiBC,YAAjB;AACA,kBAAMvB,QAAQ,GAAGJ,GAAG,CAACzQ,OAAJ,CAAY,eAAZ,EAA6B,EAA7B,CAAjB;AACA,kBAAM2R,SAAS,GAAGd,QAAQ,CAACQ,OAAT,CAAiB,YAAjB,CAAlB;AACA,kBAAMN,KAAK,GAAGF,QAAQ,CAAC5H,KAAT,CAAe0I,SAAf,EAA0Bd,QAAQ,CAACtd,MAAnC,EAA2C0M,KAA3C,CAAiD,IAAjD,CAAd;AACA,kBAAMoS,YAAY,GAChBtB,KAAK,CAACuB,SAAN,CAAgB,UAACC,IAAD;AAAA,uBAAUA,IAAI,CAAClB,OAAL,CAAa,eAAb,IAAgC,CAAC,CAA3C;AAAA,eAAhB,IAAgE,CADlE;;AAEA,kBAAIgB,YAAY,GAAG,CAAnB,EAAsB;AACpB,oBAAMG,KAAK,GAAGzB,KAAK,CAACsB,YAAD,CAAL,CAAoBpS,KAApB,CAA0B,GAA1B,CAAd;AACAkS,2BAAW,GAAGK,KAAK,CAACA,KAAK,CAACjf,MAAN,GAAe,CAAhB,CAAnB;AACA6e,4BAAY,GAAGI,KAAK,CAACA,KAAK,CAACjf,MAAN,GAAe,CAAhB,CAApB;AACD;;AAED,kBAAMkf,gBAAgB,GAAG5B,QAAQ,CAACQ,OAAT,CAAiB,aAAjB,CAAzB;AACA,kBAAMV,GAAG,GAAG,CAAH,KAAGE,QAAQ,CACjB5H,KADS,CACHwJ,gBADG,EACe5B,QAAQ,CAACtd,MADxB,OAC+B,IAD/B,IAC+B,aAD/B,GAC+B,MAD/B,GAC+B,GACvC0M,KADuC,CACjC,IADiC,EAC3B,CAD2B,EAExCA,KAFwC,CAElC,GAFkC,EAGxCqR,GAHwC,EAD3C;AAMA,kBAAIoB,aAAJ;AACA,kBAAMC,kBAAkB,GAAG9B,QAAQ,CAACC,IAAT,GAAgB7Q,KAAhB,CAAsB,IAAtB,CAA3B;;AACA,mBAAK,IAAIvS,CAAC,GAAGilB,kBAAkB,CAACpf,MAAnB,GAA4B,CAAzC,EAA4C7F,CAAC,IAAI,CAAjD,EAAoDA,CAAC,EAArD,EAAyD;AACvD,oBAAIilB,kBAAkB,CAACjlB,CAAD,CAAlB,CAAsB8K,QAAtB,CAA+B,GAA/B,CAAJ,EAAyC;AACvCka,+BAAa,GAAGC,kBAAkB,CAACjlB,CAAD,CAAlB,CAAsBwjB,MAAtB,CACd,CADc,EAEdyB,kBAAkB,CAACjlB,CAAD,CAAlB,CAAsB2jB,OAAtB,CAA8B,GAA9B,CAFc,CAAhB;AAIA;AACD;AACF;;AAED,qBAAO;AACLV,mBAAG,EAAHA,GADK;AAEL1I,oBAAI,EAAE8I,KAAK,CAAC,CAAD,CAFN;AAGL2B,6BAAa,EAAbA,aAHK;AAILP,2BAAW,EAAXA,WAJK;AAKLC,4BAAY,EAAZA;AALK,eAAP;AAOD,aAvCD,CAuCE,OAAOjc,KAAP,EAAc;AACdnL,qBAAO,CAACmL,KAAR,CAAc,0BAAd;AACD;AACF,WA3CD;AA5kBC;;;;iBAmBD,oBAAQ;AAAA;;AACN,iBAAKtI,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AACA,iBAAKvD,aAAL,CAAmB6E,0BAAnB,CAA8C,KAAKvB,MAAnD,EAA2D,YAA3D,EACGwB,SADH,CACa,UAACC,IAAD,EAAe;AACxB,mBAAI,IAAI5B,CAAC,GAAC,CAAV,EAAYA,CAAC,IAAE4B,IAAI,CAACK,IAAL,CAAU4D,MAAzB,EAAiC7F,CAAC,EAAlC,EAAqC;AACrC,uBAAI,CAACgZ,MAAL,GAAa;AACXkM,4BAAU,EAAE,qBADD;AAEX3K,sBAAI,EAAC3Y,IAAI,CAACK,IAAL,CAAUjC,CAAV,EAAa+D,SAFP;AAGX9B,sBAAI,EAAE,EAHK;AAIX6B,4BAAU,EAAElC,IAAI,CAACK,IAAL,CAAUjC,CAAV,EAAa8D,UAJd;AAKXP,2BAAS,EAAC3B,IAAI,CAACK,IAAL,CAAUjC,CAAV,EAAauD;AALZ,iBAAb;;AAOA,uBAAI,CAAC6e,UAAL,CAAgB7W,IAAhB,CAAqB,OAAI,CAACyN,MAA1B;AAAmC;;AAAA;AAC1C,aAXG,EAFM,CAaR;;AACF1b,mBAAO,CAACyC,GAAR,CAAY,KAAKqiB,UAAjB,EAdU,CAeN;;AACA,iBAAKte,UAAL,GAAkBqhB,cAAc,CAAC/kB,OAAf,CAAuB,aAAvB,CAAlB;AACA,iBAAKglB,WAAL,GAAmBD,cAAc,CAAC/kB,OAAf,CAAuB,aAAvB,CAAnB,CAjBM,CAkBT;;AACG,iBAAKilB,WAAL;AACA,iBAAKlR,6BAAL;AAEA,iBAAKmR,YAAL,GAAoB,KAAKhV,EAAL,CAAQ3G,KAAR,CAAc;AAChCuQ,0BAAY,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWjQ,QAAZ,CAAL,CADkB;AAEhCsb,uBAAS,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWtb,QAAZ,CAAL,CAFqB;AAGhCub,sBAAQ,EAAE,CAAC,EAAD,CAHsB;AAIhCC,oBAAM,EAAE,CAAC,EAAD,CAJwB;AAKhCC,mBAAK,EAAC,KAAKpV,EAAL,CAAQsB,KAAR,CAAc,CAAC,KAAK+T,YAAL,CAAkB,EAAlB,CAAD,CAAd;AAL0B,aAAd,CAApB;AAOA,iBAAKnE,QAAL,GAAc,CAAC,aAAD,EAAe,UAAf,EAA0B,UAA1B,CAAd;AACA,iBAAKM,WAAL,GAAiB,CAAC,WAAD,EAAa,UAAb,EAAwB,QAAxB,CAAjB;AACA,iBAAKpC,YAAL,CAAkBxU,iBAAlB,CAAoC,KAAKqX,OAAzC,EAAkD5gB,SAAlD,CAA4D,UAACC,IAAD,EAAU;AACpE,qBAAI,CAACgkB,aAAL,GAAqBhkB,IAArB;AACD,aAFD;AAGA,iBAAK8d,YAAL,CAAkBxU,iBAAlB,CAAoC,eAApC,EAAqDvJ,SAArD,CAA+D,UAACC,IAAD,EAAU;AACvE,qBAAI,CAACikB,eAAL,GAAuBjkB,IAAvB;AACD,aAFD;AAGA,iBAAKqS,GAAL,CAAS6R,OAAT,GAAmBnkB,SAAnB,CAA6B,UAACC,IAAD,EAAU;AACrC,qBAAI,CAACmkB,UAAL,CAAgBnkB,IAAI,CAAC2Y,IAArB;AACD,aAFD;AAGA,iBAAKtG,GAAL,CAAS+R,MAAT,GAAkBrkB,SAAlB,CAA4B,UAAAC,IAAI,EAAI,CACnC,CADD;AAEA,iBAAK+d,gBAAL,CAAsBsG,aAAtB,CAAoCtkB,SAApC,CAA8C,UAAAmY,GAAG,EAAI;AACnD,qBAAI,CAAC7F,GAAL,CAAS+R,MAAT,GAAkBrkB,SAAlB,CAA4B,UAAAC,IAAI,EAAI;AAClCtE,uBAAO,CAACyC,GAAR,CAAY,wBAAZ,EAAsC6B,IAAtC;;AACA,uBAAI,CAACskB,eAAL,CAAqBtkB,IAArB;AACD,eAHD;;AAIAtE,qBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoB+Z,GAApB,EALmD,CAMnD;AACA;AACA;AACA;AACA;AAED,aAZD;AAaA,iBAAK8F,YAAL,CAAkBuG,aAAlB,GACCxkB,SADD,CACW,UAAAM,IAAI,EAAE;AACf3E,qBAAO,CAACyC,GAAR,CAAY,8BAAZ,EAA2CkC,IAA3C;AACA,qBAAI,CAACggB,mBAAL,GAAyBhgB,IAAzB;AACD,aAJD,EAvDM,CA6DN;;AACA,iBAAKqjB,YAAL,CAAkBhjB,YAAlB,CAA+BX,SAA/B,CAAyC,UAAAM,IAAI,EAAI;AAC/C,kBAAIA,IAAI,CAACmkB,QAAL,CAAcvgB,MAAd,GAAuB,CAA3B,EAA8B;AAC5BvI,uBAAO,CAACyC,GAAR,CAAY,sBAAZ,EAAoCkC,IAAI,CAACmkB,QAAL,CAAcvgB,MAAlD;AACA,uBAAI,CAAC2K,gBAAL,GAAwB,EAAxB;AACAvO,oBAAI,CAACmkB,QAAL,CAAcC,OAAd,CAAsB,UAACte,OAAD,EAAUD,KAAV,EAAoB;AACxC,yBAAI,CAAC0I,gBAAL,CAAsBjF,IAAtB,CAA2BxD,OAAO,CAACoS,YAAnC;AACD,iBAFD;AAGD;AAEF,aATD;AAUA,iBAAKlG,GAAL,CAASqS,qBAAT,GACG3kB,SADH,CACa,UAAAM,IAAI,EAAI;AACjB,qBAAI,CAACqjB,YAAL,GAAoB,OAAI,CAAChV,EAAL,CAAQ3G,KAAR,CAAc;AAChC4c,6BAAa,EAAE,OAAI,CAACjW,EAAL,CAAQsB,KAAR,CAAc,CAAC,OAAI,CAAC4U,UAAL,EAAD,CAAd,CADiB;AAEhCJ,wBAAQ,EAAGnkB,IAAI,KAAK,YAAV,GAA0B,OAAI,CAACqO,EAAL,CAAQsB,KAAR,CAAc,EAAd,CAA1B,GAA8C,OAAI,CAACtB,EAAL,CAAQsB,KAAR,CAAc,CAAC,OAAI,CAAC6U,aAAL,EAAD,CAAd,CAFxB;AAGhC5e,kBAAE,EAAE,CAAC,EAAD,CAH4B;AAIhC6e,sBAAM,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWzc,QAAZ,CAAL;AAJwB,eAAd,CAApB;;AAMA,kBAAIhI,IAAI,KAAK,YAAb,EAA2B;AACzB,uBAAI,CAACof,WAAL,GAAmB,IAAnB;AACA,uBAAI,CAACsF,gBAAL,GAAwB1kB,IAAxB;AACD,eAHD,MAIK;AACH,uBAAI,CAACof,WAAL,GAAmB,KAAnB;AACD;AACF,aAfH;AAgBE,iBAAKuF,WAAL,GAAiB,IAAjB,CAxFI,CAyFJ;AACH;;;iBACD,uBAAW;AACT,iBAAKzF,MAAL,CAAY5V,IAAZ,CAAiB,KAAKoa,YAAL,CAAkB,EAAlB,CAAjB;AACD;;;iBACD,mBAAO;AACL,iBAAKxE,MAAL,CAAY5V,IAAZ,CAAiB,KAAKoa,YAAL,CAAkB,EAAlB,CAAjB;AACD;;;iBACD,sBAAa/f,IAAb,EAAiB;AACf,mBAAO,KAAK0K,EAAL,CAAQ3G,KAAR,CAAc;AACnB9B,gBAAE,EAAEjC,IAAI,GAAGA,IAAI,CAACiC,EAAR,GAAa,CAAC,EAAD,CADF;AAGnB8U,qBAAO,EAAE/W,IAAI,GAAGA,IAAI,CAAC+W,OAAR,GAAkB,CAAC,EAAD;AAHZ,aAAd,CAAP;AAKD;;;iBACD,yBAAgB1a,IAAhB,EAA0B;AACxB,iBAAK+f,YAAL,GAAkB,KAAlB;AACA,iBAAK4E,WAAL,GAAiB,IAAjB;;AACA,iBAAI,IAAI5mB,CAAC,GAAC,CAAV,EAAYA,CAAC,IAAGiC,IAAI,CAACA,IAAL,CAAU4D,MAAV,GAAiB,CAAjC,EAAmC7F,CAAC,EAApC,EAAuC;AACvC;AACA,mBAAKumB,aAAL,GAAqB,KAAKjB,YAAL,CAAkBjjB,GAAlB,CAAsB,eAAtB,CAArB;AACA,mBAAKkkB,aAAL,CAAmBhb,IAAnB,CAAwB,KAAKib,UAAL,EAAxB;AACA,mBAAKJ,QAAL,CAAc7a,IAAd,CAAmB,KAAKkb,aAAL,EAAnB;AACC;AACF;;;iBAED,wBAAe;AACb,iBAAKzE,YAAL,GAAkB,KAAlB;AACA,iBAAK4E,WAAL,GAAiB,IAAjB,CAFa,CAGb;;AACA,iBAAKL,aAAL,GAAqB,KAAKjB,YAAL,CAAkBjjB,GAAlB,CAAsB,eAAtB,CAArB;AACA,iBAAKkkB,aAAL,CAAmBhb,IAAnB,CAAwB,KAAKib,UAAL,EAAxB;AACA,iBAAKJ,QAAL,CAAc7a,IAAd,CAAmB,KAAKkb,aAAL,EAAnB;AACD;;;iBAED,yBAAgB;AACd,mBAAO,KAAKnW,EAAL,CAAQ3G,KAAR,CAAc;AACnBuQ,0BAAY,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWjQ,QAAZ,CAAL,CADK;AAEnBsb,uBAAS,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWtb,QAAZ,CAAL,CAFQ;AAGnBub,sBAAQ,EAAE,CAAC,EAAD,CAHS;AAInBC,oBAAM,EAAE,CAAC,EAAD,CAJW;AAKnB9I,qBAAO,EAAE,CAAC,EAAD;AALU,aAAd,CAAP;AAOD;;;iBAED,sBAAa;AACX,mBAAO,KAAKrM,EAAL,CAAQ3G,KAAR,CAAc;AACnB9B,gBAAE,EAAE,CAAC,EAAD,CADe;AAEnBqS,0BAAY,EAAE,CAAC,EAAD,EAAK,0DAAWjQ,QAAhB,CAFK;AAGnBkQ,0BAAY,EAAE,CAAC,EAAD;AAHK,aAAd,CAAP;AAKD;;;iBAED,yBAAgBvY,IAAhB,EAAsB;AACpBtE,mBAAO,CAACyC,GAAR,CAAY6B,IAAZ;AACA,iBAAKqhB,GAAL,GAAWrhB,IAAI,CAACqhB,GAAhB;AACA,iBAAK4D,WAAL,GAAmBjlB,IAAI,CAACilB,WAAxB;AACA,iBAAK3C,SAAL,GAAiBtiB,IAAI,CAACsiB,SAAtB;AACA,iBAAKhE,eAAL,CAAqB,CAArB,IAA0Bte,IAAI,CAACklB,QAA/B,CALoB,CAMpB;;AACA,iBAAK3G,cAAL,CAAoB,CAApB,IAAyBve,IAAI,CAACmlB,YAA9B,CAPoB,CAQpB;;AACA,gBAAInlB,IAAI,CAACmlB,YAAT,EAAuB;AACrB,mBAAK5G,cAAL,CAAoB,CAApB,IAAyBve,IAAI,CAACmlB,YAA9B;AACA,mBAAKlG,cAAL,CAAoB,CAApB,IAAyB,IAAzB;AACA,mBAAKra,OAAL,GAAe5E,IAAI,CAAC4E,OAApB;AACA,mBAAKwgB,cAAL,GAAsB,IAAtB;AACA,mBAAKvE,oBAAL,CAA0B,CAA1B,IAA+B,GAA/B;AACD;;AACD,gBAAMwE,iBAAiB,GAAGnhB,MAAM,CAACohB,MAAP,CAActlB,IAAd,EAAoBmH,IAApB,CAAyB,UAAC/M,KAAD;AAAA,qBAAWmrB,OAAO,CAACnrB,KAAD,CAAlB;AAAA,aAAzB,CAA1B;AACEsB,mBAAO,CAACyC,GAAR,CAAY,mBAAZ,EAAiCknB,iBAAjC;;AACF,gBAAIA,iBAAJ,EAAuB;AACrB,mBAAK3B,YAAL,CAAkBjjB,GAAlB,CAAsB,cAAtB,EAAsCG,UAAtC,CAAiD,aAAjD;AACAlF,qBAAO,CAACyC,GAAR,CAAY,KAAKulB,YAAL,CAAkBjjB,GAAlB,CAAsB,cAAtB,CAAZ;AACA,mBAAKmgB,qBAAL,CAA2B,CAA3B,IAAgC,GAAhC,CAHqB,CAIrB;;AACA,mBAAKoE,WAAL,GAAiB,IAAjB;AACA,mBAAKQ,OAAL,GAAe,IAAf;AACD;AACF;;;iBAED,iBAAOC,MAAP,EAAerrB,KAAf,EAAsBgE,CAAtB,EAAyB;AACvB,iBAAKsnB,UAAL,GAAgBD,MAAM,CAACnN,YAAvB;AACA,iBAAKpW,UAAL,GAAkBqhB,cAAc,CAAC/kB,OAAf,CAAuB,aAAvB,CAAlB;;AACA,gBAAIpE,KAAK,IAAI,CAAb,EAAgB;AACd,mBAAK6kB,cAAL,CAAoB7gB,CAApB,IAAyB,KAAzB;AACA,mBAAKgnB,cAAL,GAAsB,KAAtB;AACA,mBAAKvE,oBAAL,CAA0BziB,CAA1B,IAA+B,CAA/B;AACA,mBAAKmgB,cAAL,CAAoBngB,CAApB,IAAyB,IAAzB;AACA,mBAAKunB,YAAL,GAAoB,IAApB;AACA,mBAAKC,aAAL,GAAmBxrB,KAAnB;AAEE,mBAAKiY,GAAL,CAASwT,aAAT,CAAuB,KAAK3jB,UAA5B,EAAwC,KAAKwjB,UAA7C,EAAyD,KAAKE,aAA9D,EAA6E7lB,SAA7E,CAAuF,UAACM,IAAD,EAAU,CAClG,CADC;AAEH;;AACD,gBAAIjG,KAAK,IAAI,CAAb,EAAgB;AACd,mBAAK8kB,aAAL,CAAmB9gB,CAAnB,IAAwB,KAAxB;AACA,mBAAK0iB,sBAAL,CAA4B1iB,CAA5B,IAAiC,CAAjC;AACA,mBAAKogB,eAAL,CAAqBpgB,CAArB,IAA0B,IAA1B;AACA,mBAAK0nB,cAAL,GAAsB,IAAtB;AACA,mBAAKF,aAAL,GAAmBxrB,KAAnB;AAEE,mBAAKiY,GAAL,CAASwT,aAAT,CAAuB,KAAK3jB,UAA5B,EAAwC,KAAKwjB,UAA7C,EAAyD,KAAKE,aAA9D,EAA6E7lB,SAA7E,CAAuF,UAACM,IAAD,EAAU,CAClG,CADC;AAEH;;AACD,iBAAK2kB,WAAL,GAAmB,KAAnB;AACD;;;iBACD,yCAAgC;AAAA;;AAC9B,iBAAK/pB,aAAL,CAAmB6E,0BAAnB,CAA8C,KAAKvB,MAAnD,EAA2D,YAA3D,EACGwB,SADH,CACa,UAACC,IAAD,EAAe;AACxBtE,qBAAO,CAACyC,GAAR,CAAY6B,IAAI,CAACK,IAAjB;AACA3E,qBAAO,CAACyC,GAAR,CAAY6B,IAAI,CAACK,IAAL,CAAU6B,UAAtB;AACA,qBAAI,CAAC2d,SAAL,GAAe7f,IAAI,CAACK,IAApB;;AAEA,mBAAI,IAAIjC,CAAC,GAAC,CAAV,EAAYA,CAAC,IAAG4B,IAAI,CAACK,IAAL,CAAU4D,MAAV,GAAiB,CAAjC,EAAmC7F,CAAC,EAApC,EAAuC;AACrC,uBAAI,CAAC2nB,oBAAL,CAA0B/lB,IAAI,CAACK,IAAL,CAAUjC,CAAV,EAAa8D,UAAvC;AACD;;AAEDxG,qBAAO,CAACyC,GAAR,CAAY,OAAI,CAAC0hB,SAAjB;;AACA,qBAAI,CAACmG,eAAL,CAAqBhmB,IAArB,EAVwB,CAWxB;;AACD,aAbH,EAaK,UAACC,GAAD,EAAc,CAChB,CAdH;AAeD;;;iBAED,6BAAoBwlB,MAApB,EAA4BrnB,CAA5B,EAA+B2S,CAA/B,EAAgC;AAC9B,iBAAK2U,UAAL,GAAgBD,MAAM,CAACnN,YAAvB;AACA,iBAAKpW,UAAL,GAAkBqhB,cAAc,CAAC/kB,OAAf,CAAuB,aAAvB,CAAlB;AACD,iBAAKynB,eAAL,GAAqBlV,CAAC,GAAC,CAAvB;;AACC,gBAAG,KAAKoP,SAAL,CAAe/hB,CAAf,EAAkB2S,CAAlB,CAAH,EAAwB;AAExB,mBAAKoP,SAAL,CAAe/hB,CAAf,EAAkB4jB,GAAlB;AACA,mBAAKvD,kBAAL,CAAwBrgB,CAAxB,EAA2B2S,CAA3B,IAA8B,IAA9B;AACA,aAJA,MAKE,CACF;;AACD,iBAAKsB,GAAL,CAASwT,aAAT,CAAuB,KAAK3jB,UAA5B,EAAwC,KAAKwjB,UAA7C,EAAyD,KAAKO,eAA9D,EAA+ElmB,SAA/E,CAAyF,UAACM,IAAD,EAAU,CAEnG,CAFA;AAKA;;;iBAED,oBAAWsY,IAAX,EAAsB;AACpB,iBAAKA,IAAL,GAAYA,IAAI,CAACvO,WAAL,EAAZ;AACD;;;iBACD,sBAAa8b,CAAb,EAAc;AACb,gBAAG,KAAK/F,SAAL,CAAe+F,CAAf,CAAH,EAAqB;AACpB,mBAAK/F,SAAL,CAAe+F,CAAf,EAAkBvc,IAAlB,CAAuB,KAAKoa,YAAL,CAAkB,EAAlB,CAAvB;AACD,aAFA,MAGG;AACF,kBAAIoC,UAAU,GAAC,CAAC,KAAKpC,YAAL,CAAkB,EAAlB,CAAD,CAAf;AACJ,mBAAK5D,SAAL,CAAe+F,CAAf,IAAoBC,UAApB;AACE,mBAAK1H,kBAAL,CAAwByH,CAAxB,IAA6B,EAA7B;AACA,mBAAKnF,6BAAL,CAAmCmF,CAAnC,IAAsC,EAAtC;AACC;AACA;;;iBACD,yBAAgBliB,IAAhB,EAAoB;AAClB,mBAAO,KAAK0K,EAAL,CAAQ3G,KAAR,CAAc;AACnB9B,gBAAE,EAAE,CAAC,EAAD,CADe;AAEpB;AACCmgB,sBAAQ,EAAEpiB,IAAI,GAAGA,IAAI,CAACoiB,QAAR,GAAmB,CAAC,EAAD,CAHd;AAInBrL,qBAAO,EAAE/W,IAAI,GAAGA,IAAI,CAAC+W,OAAR,GAAkB,CAAC,EAAD;AAJZ,aAAd,CAAP;AAMD;;;iBAED,kBAAM;AACJ,iBAAKngB,EAAL,CAAQiG,OAAR,CAAgB,0BAAhB,EAA2C,IAA3C;AACA,iBAAKjG,EAAL,CAAQiG,OAAR,CAAgB,oBAAhB,EAAqC,IAArC;AACA,iBAAKpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACA,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,2CAArB;AACD;;;iBACD,kBAAS;AACP,iBAAK9Q,MAAL,CAAY8Q,QAAZ,CAAqB,oCAArB;AAGD;;;iBAGD,yBAAgBhN,CAAhB,EAAiB;AACf,iBAAK6iB,OAAL,CAAa3f,IAAb;AACA,iBAAK6c,UAAL,CAAgB/f,CAAhB,IAAqB,KAArB;AACA,iBAAKggB,UAAL,CAAgBhgB,CAAhB,IAAqB,KAArB;AACA,iBAAKigB,UAAL,CAAgBjgB,CAAhB,IAAqB,KAArB;AACD;;;iBAED,qBAAYA,CAAZ,EAAe;AACb,iBAAK6gB,cAAL,CAAoB7gB,CAApB,IAAyB,IAAzB;AACA,iBAAK4mB,WAAL,GAAmB,IAAnB,CAFa,CAGb;;AACAtpB,mBAAO,CAACyC,GAAR,CAAY,KAAK8gB,cAAL,CAAoB7gB,CAApB,CAAZ;AACD;;;iBAED,qBAAYA,CAAZ,EAAe;AACb,iBAAK8gB,aAAL,CAAmB9gB,CAAnB,IAAwB,IAAxB;AACA,iBAAK4mB,WAAL,GAAmB,IAAnB;AACA,iBAAK5E,YAAL,GAAkB,IAAlB,CAHa,CAIb;AACD;;;iBAEA,eAAMiG,GAAN,EAAWC,MAAX,EAAmB3O,YAAnB,EAAiC4O,WAAjC,EAA8CnoB,CAA9C,EAAiD;AAAA;;AAChD,gBAAMooB,MAAM,GAAG,mEAAa;AAC1BC,oBAAM,EAAE,gBAAAnW,CAAC;AAAA,uBAAI5U,OAAO,CAACyC,GAAR,CAAYmS,CAAZ,CAAJ;AAAA;AADiB,aAAb,CAAf;;AAGA,aAAC;AAAA,qBAAY,SAAD;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AACV,6BAAKjV,MAAL,CAAYuL,IAAZ;AADU;AAEV,+BAAM4f,MAAM,CAACE,IAAP,EAAN;;AAFU;AAAA;AAGV,+BAAMF,MAAM,CAACG,YAAP,CAAoB,KAApB,CAAN;;AAHU;AAAA;AAIV,+BAAMH,MAAM,CAACI,UAAP,CAAkB,KAAlB,CAAN;;AAJU;AAAA;AAKiB,+BAAMJ,MAAM,CAACK,SAAP,CAAiBR,GAAjB,CAAN;;AALjB;AAAA;AAKMvf,4BALN,yBAKFzG,IALE,CAKMyG,IALN;AAMV,6BAAKzL,MAAL,CAAY4P,KAAZ;;AANU,8BAONsb,WAAW,KAAK,CAPV;AAAA;AAAA;AAAA;;AAQR,6BAAKO,SAAL,CAAeT,GAAf,EAAoB1O,YAApB,EAAkC2O,MAAlC,EAA0CC,WAA1C,EAAuDnoB,CAAvD;AARQ;;AAAA;AAAA,8BAULmoB,WAAW,GAAG,CAVT;AAAA;AAAA;AAAA;;AAWR,6BAAKO,SAAL,CAAeT,GAAf,EAAoB1O,YAApB,EAAkC2O,MAAlC,EAA0CC,WAA1C,EAAuDnoB,CAAvD;AAXQ;;AAAA;AAcV,4BAAI,KAAKslB,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,KAA0D,UAA9D,EAA0E;AAClEyO,wCADkE,GACjD,KAAK3E,aAAL,CAAmBtb,IAAnB,CADiD;AAExE,+BAAKkgB,OAAL,GAAeD,cAAc,CAACpO,IAAf,CAAoBvO,WAApB,EAAf;AACD;;AAjBS,8BAkBN,KAAKsZ,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,IAAyD,UAlBnD;AAAA;AAAA;AAAA;;AAmBF2O,uCAnBE,GAmBgB,KAAKrE,cAAL,CAAoB9b,IAApB,CAnBhB;AAoBR,6BAAKkgB,OAAL,GAAeC,eAAe,CAACtO,IAAhB,CAAqBvO,WAArB,EAAf;;AApBQ,4BAqBH,KAAK4c,OArBF;AAAA;AAAA;AAAA;;AAsBN,6BAAKE,SAAL,CAAe,sCAAf;AAtBM;;AAAA;AAAA,8BA0BN,KAAKxD,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,IAAyD,aAAzD,IAA0EiO,WAAW,IAAI,GA1BnF;AAAA;AAAA;AAAA;;AA6BFY,qCA7BE,GA6Bc,KAAKjG,YAAL,CAAkBpa,IAAlB,CA7Bd;AA8BR,6BAAKkgB,OAAL,GAAeG,aAAa,CAAChF,QAAd,CAAuB/X,WAAvB,EAAf;AACI6N,8BA/BI,GA+BK,kBAAkBnP,IAAlB,CAAuB,KAAKke,OAAL,CAAatW,OAAb,CAAqB,KAArB,EAA4B,EAA5B,CAAvB,CA/BL;;AAAA,8BAgCJuH,MAAM,KAAK,KAhCP;AAAA;AAAA;AAAA;;AAiCN;AACA,6BAAKiP,SAAL,CAAe,yCAAf;AAlCM;;AAAA;AAAA,8BAsCN,KAAKxD,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,IAAyD,aAAzD,IAA0EiO,WAAW,IAAI,GAtCnF;AAAA;AAAA;AAAA;;AAyCFY,sCAzCE,GAyCc,KAAKjG,YAAL,CAAkBpa,IAAlB,CAzCd;AA2CJlC,+BA3CI,GA2CMkC,IAAI,CAAC6J,KAAL,CAAW,GAAX,CA3CN;;AA4CR,6BAASzK,KAAT,GAAiB,CAAjB,EAAoBA,KAAK,GAAGtB,OAAO,CAACX,MAApC,EAA4CiC,KAAK,EAAjD,EAAqD;AACnDtB,iCAAO,CAACsB,KAAD,CAAP,GAAiBtB,OAAO,CAACsB,KAAD,CAAP,CAAewK,OAAf,CAAuB,aAAvB,EAAsC,EAAtC,CAAjB;AACAhV,iCAAO,CAACyC,GAAR,CAAY,0CAAZ,EAAwDyG,OAAO,CAACsB,KAAD,CAA/D;AACD,yBA/CO,CAgDR;;;AACA,4BAAItB,OAAO,CAAC,CAAD,CAAP,KAAe4M,SAAnB,EAA8B;AAC5B5M,iCAAO,CAAC,CAAD,CAAP,GAAa,EAAb;AACD;;AACD,4BAAIA,OAAO,CAAC,CAAD,CAAP,KAAe4M,SAAnB,EAA8B;AAC5B5M,iCAAO,CAAC,CAAD,CAAP,GAAa,EAAb;AACD;;AACD,4BAAIA,OAAO,CAAC,CAAD,CAAP,KAAe4M,SAAnB,EAA8B;AAC5B5M,iCAAO,CAAC,CAAD,CAAP,GAAa,EAAb;AACD;;AACD,4BAAIA,OAAO,CAAC,CAAD,CAAP,KAAe4M,SAAnB,EAA8B;AAC5B5M,iCAAO,CAAC,CAAD,CAAP,GAAa,EAAb;AACD;;AA5DO,8BA6DJA,OAAO,CAAC,CAAD,CAAP,KAAe4M,SAAf,IAA4B5M,OAAO,CAAC,CAAD,CAAP,KAAe4M,SAA3C,IAAwD5M,OAAO,CAAC,CAAD,CAAP,KAAe4M,SAAvE,IAAoF5M,OAAO,CAAC,CAAD,CAAP,KAAe4M,SA7D/F;AAAA;AAAA;AAAA;;AA8DN,6BAAK4T,cAAL,GAAsB,KAAtB;AA9DM;;AAAA;AAAA,8BAiEJxgB,OAAO,CAAC,CAAD,CAAP,KAAe,EAAf,IAAqBA,OAAO,CAAC,CAAD,CAAP,KAAe,EAApC,IAA0CA,OAAO,CAAC,CAAD,CAAP,KAAe,EAAzD,IAA+DA,OAAO,CAAC,CAAD,CAAP,KAAe,EAjE1E;AAAA;AAAA;AAAA;;AAkEN,6BAAKwgB,cAAL,GAAsB,KAAtB;AAlEM;;AAAA;AAqER;AACA,6BAAK5F,YAAL,CAAkBphB,CAAlB,IAAuBwG,OAAO,CAAC,CAAD,CAAP,GAAa,GAAb,GAAmBA,OAAO,CAAC,CAAD,CAA1B,GAAgC,GAAhC,GAAsCA,OAAO,CAAC,CAAD,CAApE;AACA,6BAAKwgB,cAAL,GAAsB,IAAtB;AACA,6BAAK0B,SAAL,CAAeT,GAAf,EAAoB1O,YAApB,EAAkC2O,MAAlC,EAA0CC,WAA1C,EAAuDnoB,CAAvD,EAxEQ,CAyER;;AAzEQ;AA4EV1C,+BAAO,CAACyC,GAAR,CAAY2I,IAAI,CAACoC,QAAL,CAAc,KAAKyP,IAAnB,CAAZ;AACA,6BAAKyO,OAAL,GAAetgB,IAAI,CAACoC,QAAL,CAAc,KAAKyP,IAAnB,CAAf;;AAEA,4BAAI4N,WAAW,IAAI,GAAf,IAAuB,KAAKS,OAAL,CAAatW,OAAb,CAAqB,KAArB,EAA4B,EAA5B,MAAoC,KAAKiI,IAAL,CAAUjI,OAAV,CAAkB,KAAlB,EAAyB,EAAzB,CAA/D,EAA8F;AAE5F,+BAAKpE,aAAL,CAAmB+a,kBAAnB,CAAsC,KAAKL,OAA3C,EAAoD,KAAKrO,IAAzD,EAA+D5Y,SAA/D,CAAyE,UAAC8N,QAAD,EAAc;AACrFnS,mCAAO,CAACyC,GAAR,CAAY0P,QAAZ;;AACA,gCAAIA,QAAQ,IAAI,IAAhB,EAAsB;AACpB,qCAAI,CAACyZ,gBAAL,CAAsBhB,MAAtB,EAA8BloB,CAA9B;AACD;;AACD,gCAAIyP,QAAQ,IAAI,KAAhB,EAAuB;AAErB,kCAAI,OAAI,CAAC6V,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,IAAyD,UAA7D,EAAyE;AACvE,oCAAMyO,eAAc,GAAG,OAAI,CAAC3E,aAAL,CAAmBtb,IAAnB,CAAvB;;AACA,uCAAI,CAACsY,UAAL,CAAgBhhB,CAAhB,IAAqB2oB,eAAc,CAACpO,IAAf,CAAoBvO,WAApB,EAArB;AACA,uCAAI,CAACiV,QAAL,CAAcjhB,CAAd,IAAmB2oB,eAAc,CAACxkB,WAAlC;AACA,uCAAI,CAAC+c,aAAL,CAAmBlhB,CAAnB,IAAwB2oB,eAAc,CAACzE,SAAvC;AACA,uCAAI,CAACkD,OAAL,GAAe,IAAf;;AACA,uCAAI,CAACsB,SAAL,CAAeT,GAAf,EAAoB1O,YAApB,EAAkC2O,MAAlC,EAA0CC,WAA1C,EAAuDnoB,CAAvD;AACD;;AACD,kCAAI,OAAI,CAACslB,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,IAAyD,UAA7D,EAAyE;AACvE,oCAAM2O,gBAAe,GAAG,OAAI,CAACrE,cAAL,CAAoB9b,IAApB,CAAxB;;AACA,uCAAI,CAACsY,UAAL,CAAgBhhB,CAAhB,IAAqB6oB,gBAAe,CAACtO,IAAhB,CAAqBvO,WAArB,EAArB;AACA,uCAAI,CAACiV,QAAL,CAAcjhB,CAAd,IAAmB6oB,gBAAe,CAAC5F,GAAnC;AACA,uCAAI,CAAC/B,aAAL,CAAmBlhB,CAAnB,IAAwB6oB,gBAAe,CAAC7D,aAAxC;AACA,uCAAI,CAACP,WAAL,GAAmBoE,gBAAe,CAACpE,WAAnC;AACA,uCAAI,CAACC,YAAL,GAAoBmE,gBAAe,CAACnE,YAApC;AACA,uCAAI,CAAC0C,OAAL,GAAe,IAAf;;AACA,uCAAI,CAACsB,SAAL,CAAeT,GAAf,EAAoB1O,YAApB,EAAkC2O,MAAlC,EAA0CC,WAA1C,EAAuDnoB,CAAvD;AACD;;AACD,kCAAI,OAAI,CAACslB,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,IAAyD,aAA7D,EAA4E;AAC1E,oCAAM6O,eAAa,GAAG,OAAI,CAACjG,YAAL,CAAkBpa,IAAlB,CAAtB;;AACA,uCAAI,CAACsY,UAAL,CAAgBhhB,CAAhB,IAAqB+oB,eAAa,CAAChF,QAAd,CAAuB/X,WAAvB,EAArB;AACA,uCAAI,CAACiV,QAAL,CAAcjhB,CAAd,IAAmB+oB,eAAa,CAAC9F,GAAjC;AACA,uCAAI,CAAC/B,aAAL,CAAmBlhB,CAAnB,IAAwB+oB,eAAa,CAAC/F,WAAtC;AACA,uCAAI,CAACoE,OAAL,GAAe,IAAf;;AACA,uCAAI,CAACsB,SAAL,CAAeT,GAAf,EAAoB1O,YAApB,EAAkC2O,MAAlC,EAA0CC,WAA1C,EAAuDnoB,CAAvD;AACD,+BAPD,MAQI;AACF,uCAAI,CAAC0oB,SAAL,CAAeT,GAAf,EAAoB1O,YAApB,EAAkC2O,MAAlC,EAA0CC,WAA1C,EAAuDnoB,CAAvD;AACD;AAEF;AACF,2BAtCD;AAwCD,yBA1CD,MA2CK,IAAImoB,WAAW,IAAI,GAAf,IAAuB,KAAKS,OAAL,CAAatW,OAAb,CAAqB,KAArB,EAA4B,EAA5B,KAAmC,KAAKiI,IAAL,CAAUjI,OAAV,CAAkB,KAAlB,EAAyB,EAAzB,CAA9D,EAA6F;AAChG,8BAAI,KAAKgT,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,IAAyD,UAA7D,EAAyE;AACjEyO,4CADiE,GAChD,KAAK3E,aAAL,CAAmBtb,IAAnB,CADgD;AAEvE,iCAAKsY,UAAL,CAAgBhhB,CAAhB,IAAqB2oB,gBAAc,CAACpO,IAAf,CAAoBvO,WAApB,EAArB;AACA,iCAAKiV,QAAL,CAAcjhB,CAAd,IAAmB2oB,gBAAc,CAACxkB,WAAlC;AACA,iCAAK+c,aAAL,CAAmBlhB,CAAnB,IAAwB2oB,gBAAc,CAACzE,SAAvC;AACA,iCAAKkD,OAAL,GAAe,IAAf;AACA,iCAAKsB,SAAL,CAAeT,GAAf,EAAmB1O,YAAnB,EAAiC2O,MAAjC,EAAyCC,WAAzC,EAAsDnoB,CAAtD;AACD;;AACD,8BAAI,KAAKslB,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,IAAyD,UAA7D,EAAyE;AACjE2O,6CADiE,GAC/C,KAAKrE,cAAL,CAAoB9b,IAApB,CAD+C;AAEvE,iCAAKsY,UAAL,CAAgBhhB,CAAhB,IAAqB6oB,iBAAe,CAACtO,IAAhB,CAAqBvO,WAArB,EAArB;AACA,iCAAKiV,QAAL,CAAcjhB,CAAd,IAAmB6oB,iBAAe,CAAC5F,GAAnC;AACA,iCAAK/B,aAAL,CAAmBlhB,CAAnB,IAAwB6oB,iBAAe,CAAC7D,aAAxC;AACA,iCAAKP,WAAL,GAAmBoE,iBAAe,CAACpE,WAAnC;AACA,iCAAKC,YAAL,GAAoBmE,iBAAe,CAACnE,YAApC;AACA,iCAAK0C,OAAL,GAAe,IAAf;AACA,iCAAKsB,SAAL,CAAeT,GAAf,EAAoB1O,YAApB,EAAkC2O,MAAlC,EAA0CC,WAA1C,EAAuDnoB,CAAvD;AACD;;AACD,8BAAI,KAAKslB,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,IAAyD,aAA7D,EAA4E;AACpE6O,2CADoE,GACpD,KAAKjG,YAAL,CAAkBpa,IAAlB,CADoD;AAE1E,iCAAKsY,UAAL,CAAgBhhB,CAAhB,IAAqB+oB,eAAa,CAAChF,QAAd,CAAuB/X,WAAvB,EAArB;AACA,iCAAKiV,QAAL,CAAcjhB,CAAd,IAAmB+oB,eAAa,CAAC9F,GAAjC;AACA,iCAAK/B,aAAL,CAAmBlhB,CAAnB,IAAwB+oB,eAAa,CAAC/F,WAAtC;AACA,iCAAKoE,OAAL,GAAe,IAAf;AACA,iCAAKsB,SAAL,CAAeT,GAAf,EAAoB1O,YAApB,EAAkC2O,MAAlC,EAA0CC,WAA1C,EAAuDnoB,CAAvD;AACD,2BAPD,MAQI;AACF,iCAAK0oB,SAAL,CAAeT,GAAf,EAAoB1O,YAApB,EAAkC2O,MAAlC,EAA0CC,WAA1C,EAAuDnoB,CAAvD;AACD;AACF;;AAxJS;AAyJV,+BAAMooB,MAAM,CAACe,SAAP,EAAN;;AAzJU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAX;AAAA,aAAD;AA2JD;;;iBAuDD,qBAAYtJ,WAAZ,EAAsC7f,CAAtC,EAAuC;AACrC,iBAAK6f,WAAL,GAAmBA,WAAnB;AACA,iBAAKuJ,GAAL,CAAS,KAAKvJ,WAAd,EAA2B7f,CAA3B;AACD;;;iBACD,sBAAa6f,WAAb,EAAuC7f,CAAvC,EAAwC;AACtC,iBAAK8f,YAAL,GAAoBD,WAApB;AACA,iBAAKwJ,IAAL,CAAU,KAAKvJ,YAAf,EAA6B9f,CAA7B;AACD;;;iBAMD,sBAAahE,KAAb,EAAwBgE,CAAxB,EAA2B;AAAA;;AACzB,iBAAK4mB,WAAL,GAAiB,IAAjB;;AACA,gBAAI,KAAK/V,sBAAL,CAA4B7Q,CAA5B,CAAJ,EAAoC;AAClC,mBAAKwQ,gBAAL,GAAwB,KAAKA,gBAAL,CAAsB7K,MAAtB,CAA6B,UAAApD,GAAG;AAAA,uBAAIA,GAAG,KAAK,OAAI,CAACsO,sBAAL,CAA4B7Q,CAA5B,CAAZ;AAAA,eAAhC,CAAxB;AACD;;AACD,iBAAK6Q,sBAAL,CAA4B7Q,CAA5B,IAAiChE,KAAjC;AACA,iBAAKwU,gBAAL,CAAsBjF,IAAtB,CAA2BvP,KAA3B;AAEA,iBAAK6kB,cAAL,CAAoB7gB,CAApB,IAAyB,KAAzB;AACA,iBAAK8gB,aAAL,CAAmB9gB,CAAnB,IAAwB,KAAxB;AACA,iBAAKkgB,eAAL,CAAqBlgB,CAArB,IAA0B,EAA1B;AACA,iBAAKmgB,cAAL,CAAoBngB,CAApB,IAAyB,EAAzB;AACA,iBAAKogB,eAAL,CAAqBpgB,CAArB,IAA0B,EAA1B;AACA,iBAAKunB,YAAL,GAAoB,EAApB;AACA,iBAAK+B,aAAL,GAAqB,EAArB;AACA,iBAAK5B,cAAL,GAAsB,EAAtB;AACA,iBAAKlF,qBAAL,CAA2BxiB,CAA3B,IAAgC,CAAhC;AACA,iBAAKyiB,oBAAL,CAA0BziB,CAA1B,IAA+B,CAA/B;AACA,iBAAKonB,OAAL,GAAe,KAAf;AACA9pB,mBAAO,CAACyC,GAAR,CAAY,IAAZ,EAAkBC,CAAlB;AACD;;;iBA+ED,0BAAiBkoB,MAAjB,EAAyBloB,CAAzB,EAA4B;AAC1B,gBAAIkoB,MAAM,KAAK,WAAf,EAA4B;AAC1B,mBAAKhI,eAAL,CAAqBlgB,CAArB,IAA0B,EAA1B;AACA,mBAAKspB,aAAL,GAAqB,EAArB;AACA,mBAAK9G,qBAAL,CAA2BxiB,CAA3B,IAAgC,CAAhC;AACD;;AACD,gBAAIkoB,MAAM,KAAK,UAAf,EAA2B;AACzB,mBAAKrH,cAAL,CAAoB7gB,CAApB,IAAyB,KAAzB;AACA,mBAAKmgB,cAAL,CAAoBngB,CAApB,IAAyB,EAAzB;AACA,mBAAKunB,YAAL,GAAoB,EAApB;AACA,mBAAK9E,oBAAL,CAA0BziB,CAA1B,IAA+B,CAA/B;AACD;;AACD,gBAAIkoB,MAAM,KAAK,QAAf,EAAyB;AACvB,mBAAKpH,aAAL,CAAmB9gB,CAAnB,IAAwB,KAAxB;AACA,mBAAKogB,eAAL,CAAqBpgB,CAArB,IAA0B,EAA1B;AACA,mBAAK0nB,cAAL,GAAsB,EAAtB;AACA,mBAAKhF,sBAAL,CAA4B1iB,CAA5B,IAAiC,CAAjC,CAJuB,CAKvB;;AACA,mBAAK4mB,WAAL,GAAiB,IAAjB;AACD;AACF;;;iBACD,WAAE2C,IAAF,EAAgBhG,EAAhB,EAAwB;AACtB,kBAAM,IAAIiG,KAAJ,CAAU,yBAAV,CAAN;AACD;;;iBAED,sBAAa3J,WAAb,EAAuC7f,CAAvC,EAAwC;AACtC1C,mBAAO,CAACyC,GAAR,CAAYC,CAAZ;AACA,iBAAKypB,YAAL,GAAoB5J,WAApB;AACA,iBAAK6J,SAAL,CAAe,KAAKD,YAApB,EAAkCzpB,CAAlC;AACD;;;iBACD,mBAAU6f,WAAV,EAAuB7f,CAAvB,EAA0B;AAAA;;AACxB1C,mBAAO,CAACyC,GAAR,CAAYC,CAAZ;AACA,gBAAM8Z,GAAG,GAAW,KAAKhW,UAAzB;AACA,gBAAM6lB,WAAW,GAAG,IAAI1P,QAAJ,EAApB;AACA,gBAAMhY,IAAI,GAAG;AACX6B,wBAAU,EAAE,KAAK8lB,iBADN;AAEX1P,0BAAY,EAAE,KAAKoL,YAAL,CAAkBtpB,KAAlB,CAAwBke,YAF3B;AAGXC,0BAAY,EAAE,GAHH;AAIXC,sBAAQ,EAAEyF,WAAW,CAACgK,SAJX;AAKXvP,sBAAQ,EAAE,KALC;AAMXE,8BAAgB,EAAE,kBANP;AAOXiG,0BAAY,EAAE,CAPH;AAQX9b,sBAAQ,EAAE,KAAKuf;AARJ,aAAb;AAUA5mB,mBAAO,CAACyC,GAAR,CAAY8f,WAAW,CAACiK,cAAxB;AACA,iBAAK1J,eAAL,CAAqBpgB,CAArB,IAA0B6f,WAAW,CAACiK,cAAtC,CAfwB,CAgBxB;;AACA,iBAAKC,WAAL,GAAmB,KAAnB;AACA,gBAAIC,IAAI,GAAG,KAAKC,aAAL,CAAmBpK,WAAW,CAACiK,cAA/B,EAA+C,QAA/C,CAAX;AAEAH,uBAAW,CAAClP,MAAZ,CAAmB,MAAnB,EAA2Bja,IAAI,CAAC0F,SAAL,CAAejE,IAAf,CAA3B;AAEA0nB,uBAAW,CAAClP,MAAZ,CAAmB,MAAnB,EAA2BuP,IAA3B;AACA,iBAAKtK,YAAL,CAAkBgH,MAAlB,CAAyBiD,WAAzB,EAAsChoB,SAAtC,CACE,UAAC0B,GAAD,EAAc;AACZ,qBAAI,CAACqf,sBAAL,CAA4B1iB,CAA5B,IAAiC,GAAjC;;AACA,kBAAIqD,GAAG,CAACgX,IAAJ,KAAa,CAAjB,EAAoB;AAClB,oBAAIhX,GAAG,CAAC6mB,IAAR,EAAc;AACZ5sB,yBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2BsD,GAAG,CAAC6mB,IAAJ,CAASriB,EAApC;;AACA,yBAAI,CAACsiB,cAAL,CAAoB,QAApB,EAA8B9mB,GAAG,CAAC6mB,IAAJ,CAASriB,EAAvC;AACD;AACF;;AACD,qBAAI,CAACyd,YAAL,CAAkBjjB,GAAlB,CAAsB,UAAtB,EAAkCG,UAAlC,CAA6C,IAA7C;AACD,aAVH,EAUK,UAACiG,KAAD,EAAW;AACZ,kBAAIA,KAAK,CAACrB,MAAN,IAAgB,GAApB,EAAyB;AACvB,uBAAI,CAACib,EAAL,GAAU,IAAV;;AACA,uBAAI,CAACiD,YAAL,CAAkBjjB,GAAlB,CAAsB,UAAtB,EAAkCG,UAAlC,CAA6C,IAA7C;;AACA,uBAAI,CAACsmB,SAAL,CAAe,oBAAf;AACD;AACF,aAhBH;AAkBD;;;eAGD,eAA4B;AAC1B,mBAAO,KAAKjG,OAAL,CAAauH,YAAb,EAAP;AACD;;;iBAED,kBAASjkB,KAAT,EAAmC;AACjC,gBAAMkkB,GAAG,GAAGlkB,KAAK,CAACkkB,GAAN,CAAUC,SAAtB;;AAEA,gBAAID,GAAG,KAAK,kBAAZ,EAAgC;AAC9B,mBAAKnuB,MAAL,CAAYquB,aAAZ,CAA0B,mBAA1B;AACD;;AACD,gBAAIF,GAAG,KAAK,cAAZ,EAA4B;AAC1B,mBAAKnuB,MAAL,CAAYquB,aAAZ,CAA0B,sBAA1B;AACD;;AACD,gBAAIF,GAAG,KAAK,mBAAZ,EAAiC;AAC/B,mBAAKnuB,MAAL,CAAYquB,aAAZ,CAA0B,aAA1B;AACD;AACF;;;iBACD,gBAAOjF,YAAP,EAAqB;AAEnB,iBAAKA,YAAL,CAAkB1iB,KAAlB;AACA,iBAAK8c,YAAL,CAAkB8K,QAAlB,CAA2B;AACzB1iB,mBAAK,EAAE;AADkB,aAA3B;AAIA,iBAAK4X,YAAL,CAAkB+K,aAAlB,CAAgC;AAChC;AACAC,wBAAU,EAAE;AAFoB,aAAhC,EAPmB,CAWnB;;AAEA,iBAAKC,eAAL;AACAvP,wBAAY,CAAC3Y,OAAb,CAAqB,SAArB,EAAgC,GAAhC;AACD;;;iBAED,8BAAqBqX,GAArB,EAA0B;AAAA;;AAAA,yCACb7O,GADa;AAEtB,kBAAInF,MAAM,CAACC,SAAP,CAAiB6kB,cAAjB,CAAgC3kB,IAAhC,CAAqC,OAAI,CAACsa,aAA1C,EAAyDtV,GAAzD,CAAJ,EAAmE;AACjE,oBAAMlD,OAAO,GAAG,OAAI,CAACwY,aAAL,CAAmBtV,GAAnB,CAAhB;AACA3N,uBAAO,CAACyC,GAAR,CAAYgI,OAAZ,EAAqBkD,GAArB,EAA0B6O,GAA1B;;AACF,uBAAI,CAAC4F,YAAL,CAAkBiI,oBAAlB,CAAuC7N,GAAvC,EAA4C/R,OAA5C,EACCpG,SADD,CACW,UAACM,IAAD,EAAU;AACnB3E,yBAAO,CAACyC,GAAR,CAAYkL,GAAZ,EAAiBhJ,IAAjB,EAAuB,OAAI,CAACqjB,YAA5B;AACA,yBAAI,CAAC1C,YAAL,GAAoB3gB,IAApB;AACA,yBAAI,CAACyf,aAAL,GAAmB,CAAC,aAAD,EAAe,UAAf,EAA0B,UAA1B,CAAnB;AACApkB,yBAAO,CAACyC,GAAR,CAAY,OAAI,CAACulB,YAAL,CAAkBva,QAAlB,CAA2Bwb,aAA3B,CAAyC,UAAzC,CAAZ;;AACA,yBAAI,CAACjB,YAAL,CAAkBva,QAAlB,CAA2Bwb,aAA3B,CAAyC,UAAzC,EAAqD,CAArD,EAAwDxb,QAAxD,CAAiEmP,YAAjE,CAA8EpX,QAA9E,CAAuF,OAAI,CAAC4e,aAAL,CAAmB,CAAnB,CAAvF,EALmB,CAMnB;;;AAEL,yBAAI,CAACF,QAAL,GAAc,CAAC,aAAD,EAAe,UAAf,EAA0B,UAA1B,CAAd;;AAEA,uBAAI,IAAI+B,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,OAAI,CAACX,YAAL,CAAkB/c,MAAjC,EAAyC0d,CAAC,EAA1C,EACE;AACG,wBAAG,OAAI,CAACX,YAAL,CAAkBW,CAAlB,CAAH,EACA;AACEjmB,6BAAO,CAACyC,GAAR,CAAY,OAAI,CAAC6iB,YAAL,CAAkBW,CAAlB,EAAqBrJ,YAAjC;;AACA,2BAAI,IAAIla,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,CAAf,EAAkBA,CAAC,EAAnB,EACA;AACE,4BAAG,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqBrJ,YAArB,IAAmC,OAAI,CAACsH,QAAL,CAAcxhB,CAAd,CAAnC,IAAuD,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqB9C,YAArB,IAAmC,CAA7F,EACG;AAAG,iCAAI,CAACP,eAAL,CAAqBlgB,CAArB,IAAwB,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqB5G,OAA7C;AACF,iCAAI,CAAC6F,qBAAL,CAA2BxiB,CAA3B,IAA8B,GAA9B;AACE1C,iCAAO,CAACyC,GAAR,CAAY,OAAZ,EAAoBC,CAApB;AACA;AACP;;AACF,2BAAI,IAAIA,GAAC,GAAC,CAAV,EAAaA,GAAC,GAAC,CAAf,EAAkBA,GAAC,EAAnB,EACC;AACC,4BAAG,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqBrJ,YAArB,IAAmC,OAAI,CAACsH,QAAL,CAAcxhB,GAAd,CAAnC,IAAuD,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqB9C,YAArB,IAAmC,CAA7F,EACE;AAAG,iCAAI,CAACN,cAAL,CAAoBngB,GAApB,IAAuB,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqB5G,OAA5C;AACF,iCAAI,CAAC8F,oBAAL,CAA0BziB,GAA1B,IAA+B,GAA/B;AACE,iCAAI,CAAC6gB,cAAL,CAAoB7gB,GAApB,IAAyB,IAAzB;AACA;AACL;;AACF,2BAAI,IAAIA,IAAC,GAAC,CAAV,EAAaA,IAAC,GAAC,CAAf,EAAkBA,IAAC,EAAnB,EACC;AACA,4BAAG,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqBrJ,YAArB,IAAmC,OAAI,CAACsH,QAAL,CAAcxhB,IAAd,CAAnC,IAAuD,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqB9C,YAArB,IAAmC,CAA7F,EACG;AAAG,iCAAI,CAACL,eAAL,CAAqBpgB,IAArB,IAAwB,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqB5G,OAA7C;AACF,iCAAI,CAAC+F,sBAAL,CAA4B1iB,IAA5B,IAAiC,GAAjC;AACE,iCAAI,CAAC8gB,aAAL,CAAmB9gB,IAAnB,IAAwB,IAAxB;AACA;AACL;;AACD,2BAAI,IAAIA,IAAC,GAAC,CAAV,EAAaA,IAAC,GAAC,CAAf,EAAkBA,IAAC,EAAnB,EACA;AACA,4BAAG,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqBrJ,YAArB,IAAmC,OAAI,CAACsH,QAAL,CAAcxhB,IAAd,CAAnC,IAAuD,OAAI,CAAC4iB,YAAL,CAAkBW,CAAlB,EAAqB9C,YAArB,GAAkC,CAA5F,EACG;AAEE,iCAAI,CAACoK,eAAL,GAAqB,OAAI,CAACjI,YAAL,CAAkBW,CAAlB,EAAqB9C,YAArB,GAAkC,CAAvD;AAEH,iCAAI,CAACuB,YAAL,GAAkB,IAAlB;;AACE,8BAAG,OAAI,CAACD,SAAL,CAAe/hB,IAAf,CAAH,EAAqB;AACpB,mCAAI,CAAC+hB,SAAL,CAAe/hB,IAAf,EAAkBuL,IAAlB,CAAuB,OAAI,CAACoa,YAAL,CAAkB,EAAlB,CAAvB;AAED,2BAHA,MAIG;AACF,gCAAIoC,UAAU,GAAC,CAAC,OAAI,CAACpC,YAAL,CAAkB,EAAlB,CAAD,CAAf;AACJ,mCAAI,CAAC5D,SAAL,CAAe/hB,IAAf,IAAoB+nB,UAApB;AACE,mCAAI,CAAC1H,kBAAL,CAAwBrgB,IAAxB,IAA6B,EAA7B;AACC;;AACF,iCAAI,CAACqgB,kBAAL,CAAwBrgB,IAAxB,EAA2B,OAAI,CAAC6qB,eAAhC,IAAiD,OAAI,CAACjI,YAAL,CAAkBW,CAAlB,EAAqB5G,OAAtE;AACArf,iCAAO,CAACyC,GAAR,CAAY,yBAAZ,EAAsC,OAAI,CAACsgB,kBAA3C;AAEI;AACL;AACF;;AACD,2BAAI,CAACuG,WAAL,GAAiB,KAAjB;AACD;;AAEF,sBAAI,OAAI,CAAChE,YAAL,CAAkB/c,MAAlB,GAA2B,CAA/B,EACA;AAGG,2BAAI,CAACilB,OAAL,GAAa,OAAI,CAACtuB,EAAL,CAAQ4D,OAAR,CAAgB,SAAhB,CAAb;AACA9C,2BAAO,CAACyC,GAAR,CAAY,OAAI,CAAC+qB,OAAjB;;AACA,wBAAG,OAAI,CAAClI,YAAL,CAAkB,CAAlB,EAAqB1I,YAArB,IAAmC,UAAnC,IAAiD,OAAI,CAAC4Q,OAAL,KAAiB,CAArE,EACA;AACE,0BAAIC,QAAQ,GAAeC,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAA3B;;AACA,0BAAGF,QAAH,EAAY;AACVztB,+BAAO,CAACyC,GAAR,CAAYgrB,QAAZ;AACAA,gCAAQ,CAACG,KAAT;AACC;;AACD,6BAAI,CAACtE,WAAL,GAAiB,KAAjB;AACH;;AACD,2BAAI,CAACtB,YAAL,CAAkBva,QAAlB,CAA2Bwb,aAA3B,CAAyC,UAAzC,EAAqD,CAArD,EAAwDxb,QAAxD,CAAiEmP,YAAjE,CAA8EpX,QAA9E,CAAuF,OAAI,CAAC4e,aAAL,CAAmB,CAAnB,CAAvF;;AAEA,wBAAG,OAAI,CAACkB,YAAL,CAAkB,CAAlB,EAAqB1I,YAArB,IAAmC,UAAnC,IAAiD,OAAI,CAAC4Q,OAAL,KAAiB,CAArE,EACA;AACE,0BAAIK,QAAQ,GAAeH,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAA3B;;AACA,0BAAGE,QAAH,EAAY;AACV7tB,+BAAO,CAACyC,GAAR,CAAYorB,QAAZ;AACAA,gCAAQ,CAACD,KAAT;AACC;;AACD,6BAAI,CAACtE,WAAL,GAAiB,KAAjB;AACH;;AACD,2BAAI,CAACtB,YAAL,CAAkBva,QAAlB,CAA2Bwb,aAA3B,CAAyC,UAAzC,EAAqD,CAArD,EAAwDxb,QAAxD,CAAiEmP,YAAjE,CAA8EpX,QAA9E,CAAuF,OAAI,CAAC4e,aAAL,CAAmB,CAAnB,CAAvF;;AAEE,wBAAI,OAAI,CAAChB,UAAL,CAAgBxG,YAAhB,IAAgC,UAApC,EAAgD;AAC9C,6BAAI,CAACgK,SAAL,GAAiB,OAAI,CAACtB,YAAL,CAAkBlc,IAAlB,CAAuB,UAAAd,IAAI;AAAA,+BAAIA,IAAI,CAAC6a,YAAL,IAAqB,CAAzB;AAAA,uBAA3B,EAAuD9b,QAAxE;AACD;;AAED,wBAAG,OAAI,CAAC+b,UAAL,CAAgBxG,YAAhB,IAAgC,aAAnC,EAAiD;AAC/C,6BAAI,CAACgK,SAAL,GAAgB,OAAI,CAACtB,YAAL,CAAkBlc,IAAlB,CAAuB,UAAAd,IAAI;AAAA,+BAAIA,IAAI,CAAC6a,YAAL,IAAqB,CAAzB;AAAA,uBAA3B,EAAuD9b,QAAvE;AACD;;AACD,wBAAG,OAAI,CAACuf,SAAR,EAAkB;AAChB,6BAAI,CAACkD,OAAL,GAAa,IAAb;AACD;;AAED,wBAAI,OAAI,CAAC1G,UAAL,IAAmB,IAAvB,EAA6B;AAC3B,6BAAI,CAAC8B,qBAAL,CAA2B,CAA3B,IAAgC,GAAhC;AACD;;AACD,wBAAI,OAAI,CAAC7B,SAAL,IAAkB,IAAtB,EAA4B;AAE1B,6BAAI,CAAC8B,oBAAL,CAA0B,CAA1B,IAA+B,GAA/B;AACD;;AACD,wBAAI,OAAI,CAAC7B,UAAL,IAAmB,IAAvB,EAA6B;AAE3B,6BAAI,CAAC8B,sBAAL,CAA4B,CAA5B,IAAiC,GAAjC;AACD;;AACD,wBAAIzP,OAAO,GAAG;AACZiH,kCAAY,EAAE,OAAI,CAAC0I,YAAL,CAAkB,CAAlB,EAAqB1I,YADvB;AAEZqL,+BAAS,EAAE,OAAI,CAAC3C,YAAL,CAAkB,CAAlB,EAAqB1I,YAFpB;AAGZsL,8BAAQ,EAAE,OAAI,CAAC5C,YAAL,CAAkB,CAAlB,EAAqB1I;AAHnB,qBAAd;;AAKA,2BAAI,CAACoL,YAAL,CAAkB9iB,UAAlB,CAA6ByQ,OAA7B;;AACA3V,2BAAO,CAACyC,GAAR,CAAY,OAAI,CAAC6iB,YAAL,CAAkB,CAAlB,EAAqB1I,YAAjC;AACH;;AACC,yBAAI,CAACtd,GAAL,CAAS0G,YAAT;;AACAhG,yBAAO,CAACyC,GAAR,CAAY,YAAZ;AACF,iBA9HA;AA+HF;AApIwB;;AACxB,iBAAK,IAAMkL,GAAX,IAAkB,KAAKsV,aAAvB,EAAsC;AAAA,qBAA3BtV,GAA2B;AAoIvC;;AACD,iBAAKmgB,MAAL,GAActR,GAAd;AACD;;;iBACC,qBAAYuR,QAAZ,EAAsB;AACpB,gBAAIC,SAAS,GAAG,4BAA4BD,QAA5C;AACA,gBAAIE,MAAM,GAAG,KAAKC,SAAL,CAAeC,sBAAf,CAAsCH,SAAtC,CAAb;AACA,mBAAOC,MAAP;AACD;;;iBAED,2BAAkB;AAChB,iBAAK7L,YAAL,CAAkBgM,uBAAlB,CAA0C,KAAKtG,WAA/C,EAA4D,eAA5D,EAA6E,EAA7E,EACGzjB,SADH,CACa,UAAAM,IAAI,EAAI;AACjB3E,qBAAO,CAACyC,GAAR,CAAY,qBAAZ,EAAmCkC,IAAnC;AACD,aAHH;AAID;;;iBACD,oBAAW;AACT;AACA,iBAAKyd,YAAL,CAAkB8K,QAAlB,CAA2B;AACzB1iB,mBAAK,EAAE;AADkB,aAA3B;AAGD;;;iBACD,sBAAa;AACX,gBAAM4Q,SAAS,GAAG,KAAKvc,MAAL,CAAYqM,IAAZ,CAAiB,iIAAjB,EAA8C;AAC9DvG,kBAAI,EAAE;AAAEqL,sBAAM,EAAE,YAAV;AAAwB+M,oBAAI,EAAE;AAA9B,eADwD;AAE9DjB,0BAAY,EAAE;AAFgD,aAA9C,CAAlB;AAIAV,qBAAS,CAACW,WAAV,GAAwB1X,SAAxB,CAAkC,UAAC4d,MAAD,EAAY,CAE7C,CAFD;AAGD;;;iBACD,cAAKvf,CAAL,EAAQ;AACN,iBAAK+f,UAAL,CAAgB/f,CAAhB,IAAqB,IAArB;AACA,iBAAKggB,UAAL,CAAgBhgB,CAAhB,IAAqB,KAArB;AACA,iBAAKigB,UAAL,CAAgBjgB,CAAhB,IAAqB,KAArB,CAHM,CAIN;;AACA,iBAAK4mB,WAAL,GAAiB,KAAjB;AACD;;;iBACD,gBAAO5mB,CAAP,EAAU;AACR,iBAAK+f,UAAL,CAAgB/f,CAAhB,IAAqB,KAArB;AACA,iBAAKggB,UAAL,CAAgBhgB,CAAhB,IAAqB,IAArB;AACA,iBAAKigB,UAAL,CAAgBjgB,CAAhB,IAAqB,KAArB,CAHQ,CAIR;;AACA,iBAAK4mB,WAAL,GAAiB,KAAjB;AACD;;;iBACD,gBAAO5mB,CAAP,EAAU;AACR,iBAAK+f,UAAL,CAAgB/f,CAAhB,IAAqB,KAArB;AACA,iBAAKggB,UAAL,CAAgBhgB,CAAhB,IAAqB,KAArB;AACA,iBAAKigB,UAAL,CAAgBjgB,CAAhB,IAAqB,IAArB,CAHQ,CAIR;;AACA,iBAAK4mB,WAAL,GAAiB,KAAjB;AACD,W,CAED;;;;iBACA,aAAI/G,WAAJ,EAAiB7f,CAAjB,EAAoB;AAAA;;AAClB,gBAAM8Z,GAAG,GAAW,KAAKhW,UAAzB;AACA,gBAAMkW,UAAU,GAAG,IAAIC,QAAJ,EAAnB;AACA,gBAAMhY,IAAI,GAAG;AACX6B,wBAAU,EAAE,KAAK8lB,iBADN;AAEX1P,0BAAY,EAAE,KAAKoL,YAAL,CAAkBtpB,KAAlB,CAAwBke,YAF3B;AAGXC,0BAAY,EAAE,GAHH;AAIXC,sBAAQ,EAAEyF,WAAW,CAACgK,SAJX;AAKXvP,sBAAQ,EAAE,KALC;AAMXE,8BAAgB,EAAE,kBANP;AAOXiG,0BAAY,EAAE,CAPH;AAQX9b,sBAAQ,EAAE,KAAKuf;AARJ,aAAb;AAWA,iBAAKhE,eAAL,CAAqBlgB,CAArB,IAA0B6f,WAAW,CAACiK,cAAtC,CAdkB,CAelB;;AACA,iBAAK6B,UAAL,GAAkB,KAAlB;AACA,gBAAI3B,IAAI,GAAG,KAAKC,aAAL,CAAmBpK,WAAW,CAACiK,cAA/B,EAA+C,QAA/C,CAAX;AAEA9P,sBAAU,CAACS,MAAX,CAAkB,MAAlB,EAA0Bja,IAAI,CAAC0F,SAAL,CAAejE,IAAf,CAA1B;AAEA+X,sBAAU,CAACS,MAAX,CAAkB,MAAlB,EAA0BuP,IAA1B;AAEA,iBAAKtK,YAAL,CAAkBgH,MAAlB,CAAyB1M,UAAzB,EAAqCrY,SAArC,CACE,UAAC0B,GAAD,EAAS;AACP,qBAAI,CAACmf,qBAAL,CAA2BxiB,CAA3B,IAAgC,GAAhC;;AACA,qBAAI,CAACslB,YAAL,CAAkBjjB,GAAlB,CAAsB,WAAtB,EAAmCG,UAAnC,CAA8C,IAA9C;AACD,aAJH,EAKE,UAACiG,KAAD,EAAW;AACT,kBAAIA,KAAK,CAACrB,MAAN,IAAgB,GAApB,EAAyB;AACvB,uBAAI,CAACkb,EAAL,GAAU,IAAV;;AACA,uBAAI,CAACgD,YAAL,CAAkBjjB,GAAlB,CAAsB,WAAtB,EAAmCG,UAAnC,CAA8C,IAA9C;;AACA,uBAAI,CAACsmB,SAAL,CAAe,oBAAf;AACD;AACF,aAXH;AAaD;;;iBAED,cAAKjJ,WAAL,EAAkB7f,CAAlB,EAAqB;AAAA;;AACnB1C,mBAAO,CAACyC,GAAR,CAAY,aAAZ;AACA,gBAAM+Z,GAAG,GAAW,KAAKhW,UAAzB;AAEA,gBAAM8nB,WAAW,GAAG,IAAI3R,QAAJ,EAApB;AACA,gBAAMhY,IAAI,GAAG;AACX6B,wBAAU,EAAE,KAAK8lB,iBADN;AAEX1P,0BAAY,EAAE,KAAKoL,YAAL,CAAkBtpB,KAAlB,CAAwBke,YAF3B;AAGXC,0BAAY,EAAE,GAHH;AAIXC,sBAAQ,EAAEyF,WAAW,CAACgK,SAJX;AAKXvP,sBAAQ,EAAE,KALC;AAMXE,8BAAgB,EAAE,kBANP;AAOXiG,0BAAY,EAAE,CAPH;AAQX9b,sBAAQ,EAAE,KAAKuf;AARJ,aAAb;AAUA,iBAAK/D,cAAL,CAAoBngB,CAApB,IAAyB6f,WAAW,CAACiK,cAArC,CAfmB,CAgBnB;;AACA,iBAAK+B,WAAL,GAAmB,KAAnB;AACA,gBAAI7B,IAAI,GAAG,KAAKC,aAAL,CAAmBpK,WAAW,CAACiK,cAA/B,EAA+C,QAA/C,CAAX;AAEA8B,uBAAW,CAACnR,MAAZ,CAAmB,MAAnB,EAA2Bja,IAAI,CAAC0F,SAAL,CAAejE,IAAf,CAA3B;AAEA2pB,uBAAW,CAACnR,MAAZ,CAAmB,MAAnB,EAA2BuP,IAA3B;AAEA,iBAAKtK,YAAL,CAAkBgH,MAAlB,CAAyBkF,WAAzB,EAAsCjqB,SAAtC,CACE,UAAC0B,GAAD,EAAc;AACZ,qBAAI,CAACof,oBAAL,CAA0BziB,CAA1B,IAA+B,GAA/B;;AACA,kBAAIqD,GAAG,CAACgX,IAAJ,KAAa,CAAjB,EAAoB;AAClB,oBAAIhX,GAAG,CAAC6mB,IAAR,EAAc;AACZ5sB,yBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2BsD,GAAG,CAAC6mB,IAAJ,CAASriB,EAApC;;AACA,yBAAI,CAACsiB,cAAL,CAAoB,UAApB,EAAgC9mB,GAAG,CAAC6mB,IAAJ,CAASriB,EAAzC;AACD;AACF;;AACD,qBAAI,CAACyd,YAAL,CAAkBjjB,GAAlB,CAAsB,UAAtB,EAAkCG,UAAlC,CAA6C,IAA7C;AACD,aAVH,EAUK,UAACiG,KAAD,EAAW;AACZ,kBAAIA,KAAK,CAACrB,MAAN,IAAgB,GAApB,EAAyB;AACvB,uBAAI,CAACib,EAAL,GAAU,IAAV;;AACA,uBAAI,CAACiD,YAAL,CAAkBjjB,GAAlB,CAAsB,UAAtB,EAAkCG,UAAlC,CAA6C,IAA7C;;AACA,uBAAI,CAACsmB,SAAL,CAAe,oBAAf;AACD;AACF,aAhBH;AAkBD;;;iBAED,uBAAcgD,OAAd,EAAuBC,QAAvB,EAAiC;AAC/B,gBAAIC,GAAG,GAAGF,OAAO,CAACvZ,KAAR,CAAc,GAAd,CAAV;AAAA,gBACE0Z,IAAI,GAAGD,GAAG,CAAC,CAAD,CAAH,CAAO7H,KAAP,CAAa,SAAb,EAAwB,CAAxB,CADT;AAAA,gBAEE+H,IAAI,GAAGC,IAAI,CAACH,GAAG,CAAC,CAAD,CAAJ,CAFb;AAAA,gBAGEI,CAAC,GAAGF,IAAI,CAACrmB,MAHX;AAAA,gBAIEwmB,KAAK,GAAG,IAAIC,UAAJ,CAAeF,CAAf,CAJV;;AAKA,mBAAOA,CAAC,EAAR,EAAY;AACVC,mBAAK,CAACD,CAAD,CAAL,GAAWF,IAAI,CAACK,UAAL,CAAgBH,CAAhB,CAAX;AACD;;AACD,mBAAO,IAAII,IAAJ,CAAS,CAACH,KAAD,CAAT,EAAkBN,QAAlB,EAA4B;AAAE1R,kBAAI,EAAE4R;AAAR,aAA5B,CAAP;AACD;;;iBACD,gBAAOpkB,EAAP,EAAW;AACT,iBAAK/D,UAAL,GAAkB+D,EAAlB;AACD;;;iBAED,kBAAS1B,KAAT,EAAgB+hB,MAAhB,EAAwBC,WAAxB,EAAqCnoB,CAArC,EAAuC8D,UAAvC,EAAmD;AAAA;;AACjDxG,mBAAO,CAACyC,GAAR,CAAY+D,UAAZ;AACA,iBAAK+jB,eAAL,GAAqBM,WAArB;AACA,iBAAKsE,UAAL,GAAgBtE,WAAW,GAAC,CAA5B;AACA7qB,mBAAO,CAACyC,GAAR,CAAYoG,KAAZ,EAAmB+hB,MAAnB,EAA2BC,WAA3B;;AACA,gBAAID,MAAM,KAAK,WAAf,EAA4B;AAC1B,mBAAK1F,qBAAL,CAA2BxiB,CAA3B,IAAgC,CAAhC;AACD;;AACD,gBAAIkoB,MAAM,KAAK,UAAf,EAA2B;AACzB,mBAAKzF,oBAAL,CAA0BziB,CAA1B,IAA+B,CAA/B;AACD;;AACD,gBAAIkoB,MAAM,KAAK,QAAf,EAAyB;AACvB,mBAAKxF,sBAAL,CAA4B1iB,CAA5B,IAAiC,CAAjC;AACD;;AACD,iBAAK0sB,aAAL,GAAqBvmB,KAAK,CAAC8G,MAAN,CAAaqM,KAAb,CAAmB,CAAnB,CAArB;AACA,gBAAIqT,IAAI,GAAGxmB,KAAK,CAAC8G,MAAN,CAAaqM,KAAb,CAAmB,CAAnB,EAAsBqT,IAAjC;AACA,iBAAK7D,SAAL,6BAAoC,KAAK8D,WAAL,CAAiBD,IAAjB,EAAuB,CAAvB,CAApC;;AACA,gBAAIxmB,KAAK,CAAC8G,MAAN,CAAaqM,KAAjB,EAAwB;AACtB,kBAAIE,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACAD,oBAAM,CAACE,aAAP,CAAqBvT,KAAK,CAAC8G,MAAN,CAAaqM,KAAb,CAAmB,CAAnB,CAArB;;AACAE,oBAAM,CAACG,MAAP,GAAgB,UAACxT,KAAD,EAAgB;AAC9B,uBAAI,CAAC2S,KAAL,GAAa3S,KAAK,CAAC8G,MAAN,CAAa4M,MAA1B;;AACA,oBAAIqO,MAAM,KAAK,UAAf,EAA2B;AACzB,yBAAI,CAACX,YAAL,GAAoB,OAAI,CAACmF,aAAL,CAAmBnS,IAAvC,CADyB,CAEzB;;AACA,yBAAI,CAACsS,KAAL,CAAW,OAAI,CAAC/T,KAAhB,EAAuBoP,MAAvB,EAA+B,OAAI,CAACwE,aAApC,EAAmDvE,WAAnD,EAAgEnoB,CAAhE;;AACA,yBAAI,CAAC6rB,WAAL,GAAmB,IAAnB;AACD;;AACD,oBAAI3D,MAAM,KAAK,WAAf,EAA4B;AAC1B,yBAAI,CAACoB,aAAL,GAAqB,OAAI,CAACoD,aAAL,CAAmBnS,IAAxC,CAD0B,CAE1B;AACA;;AACA,yBAAI,CAACsS,KAAL,CAAW,OAAI,CAAC/T,KAAhB,EAAuBoP,MAAvB,EAA+B,OAAI,CAACwE,aAApC,EAAmDvE,WAAnD,EAAgEnoB,CAAhE;;AACA,yBAAI,CAAC2rB,UAAL,GAAkB,IAAlB;AACD;;AACD,oBAAIzD,MAAM,KAAK,QAAf,EAAyB;AACvB,yBAAI,CAACR,cAAL,GAAsB,OAAI,CAACgF,aAAL,CAAmBnS,IAAzC;;AACA,yBAAI,CAACsS,KAAL,CAAW,OAAI,CAAC/T,KAAhB,EAAuBoP,MAAvB,EAA+B,OAAI,CAACwE,aAApC,EAAmDvE,WAAnD,EAAgEnoB,CAAhE;;AACA,yBAAI,CAAC+pB,WAAL,GAAmB,IAAnB,CAHuB,CAIvB;AACD;;AACD,oBAAG7B,MAAM,KAAK,eAAd,EAA8B;AAC5B,yBAAI,CAAC4E,qBAAL,GAA6B,OAAI,CAACJ,aAAL,CAAmBnS,IAAhD;;AACD,sBAAG,OAAI,CAAC8F,kBAAL,CAAwBrgB,CAAxB,EAA2B,OAAI,CAACysB,UAAhC,CAAH,EAA+C;AAEhD,2BAAI,CAACpM,kBAAL,CAAwBrgB,CAAxB,EAA2B,OAAI,CAACysB,UAAhC,IAA4C,OAAI,CAAC3T,KAAjD;AACA,mBAHC,MAIC;AAEF,wBAAIiP,UAAU,GAAC,CAAC,OAAI,CAACjP,KAAN,CAAf;AACC,2BAAI,CAACuH,kBAAL,CAAwBrgB,CAAxB,EAA2B,OAAI,CAACysB,UAAhC,IAA8C,OAAI,CAAC3T,KAAnD;AAED;;AACDxb,yBAAO,CAACyC,GAAR,CAAY,gBAAZ,EAA8B,OAAI,CAACgiB,SAAnC;;AAEG,yBAAI,CAAC8K,KAAL,CAAW,OAAI,CAACxM,kBAAL,CAAwBrgB,CAAxB,EAA2B,OAAI,CAACysB,UAAhC,CAAX,EAAwDvE,MAAxD,EAAgE,OAAI,CAACwE,aAArE,EAAoFvE,WAApF,EAAiGnoB,CAAjG,EAd4B,CAe5B;;AACD;AACF,eAtCD;AAuCD;;AAED,iBAAK4mB,WAAL,GAAmB,KAAnB;AACD;;;iBAGD,qBAAYmG,KAAZ,EAAmBC,QAAnB,EAA6B;AAC3B,gBAAID,KAAK,KAAK,CAAd,EAAiB,OAAO,SAAP;AACjB,gBAAMpa,CAAC,GAAG,IAAV;AACA,gBAAMsa,EAAE,GAAGD,QAAQ,GAAG,CAAX,GAAe,CAAf,GAAmBA,QAA9B;AACA,gBAAME,KAAK,GAAG,CAAC,OAAD,EAAU,IAAV,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwC,IAAxC,EAA8C,IAA9C,EAAoD,IAApD,CAAd;AACA,gBAAMltB,CAAC,GAAGuH,IAAI,CAAC4lB,KAAL,CAAW5lB,IAAI,CAACxH,GAAL,CAASgtB,KAAT,IAAkBxlB,IAAI,CAACxH,GAAL,CAAS4S,CAAT,CAA7B,CAAV;AACA,mBAAOya,UAAU,CAAC,CAACL,KAAK,GAAGxlB,IAAI,CAAC8lB,GAAL,CAAS1a,CAAT,EAAY3S,CAAZ,CAAT,EAAyBstB,OAAzB,CAAiCL,EAAjC,CAAD,CAAV,GAAmD,GAAnD,GAAyDC,KAAK,CAACltB,CAAD,CAArE;AACD;;;iBAGD,mBAAUioB,GAAV,EAAelO,GAAf,EAAoBmO,MAApB,EAA4BqF,iBAA5B,EAA+CvtB,CAA/C,EAAkD;AAAA;;AAChD,iBAAKysB,UAAL,GAAgBc,iBAAiB,GAAC,CAAlC;AACAjwB,mBAAO,CAACyC,GAAR,CAAY,WAAZ,EAAyBga,GAAzB;AACA,gBAAMD,GAAG,GAAW,KAAKhW,UAAzB;AACA,gBAAMkW,UAAU,GAAG,IAAIC,QAAJ,EAAnB;;AACA,gBAAG,KAAKqL,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,KAAwD,aAA3D,EACA;AACE,mBAAKsT,OAAL,GAAa,GAAb;AACD;;AACD,gBAAG,KAAKlI,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,KAAwD,UAA3D,EACA;AACE,mBAAKsT,OAAL,GAAa,GAAb;AACD;;AACD,gBAAG,KAAKlI,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAAzC,KAAwD,UAA3D,EACA;AACE,mBAAKsT,OAAL,GAAa,GAAb;AACD;;AAED,gBAAMvrB,IAAI,GAAG;AACX;AACA6B,wBAAU,EAAE,KAAK2d,SAAL,CAAezhB,CAAf,EAAkB8D,UAFnB;AAGX;AACAoW,0BAAY,EAAE,KAAKoL,YAAL,CAAkBtpB,KAAlB,CAAwBuqB,aAAxB,CAAsCvmB,CAAtC,EAAyCka,YAJ5C;AAKXC,0BAAY,EAAE,KAAKqT,OALR;AAMXpT,sBAAQ,EAAEL,GAAG,CAACM,IANH;AAOXC,sBAAQ,EAAEP,GAAG,CAACQ,IAPH;AAQXC,8BAAgB,EAAE,kBARP;AASXiG,0BAAY,EAAE8M,iBATH;AAUX5oB,sBAAQ,EAAE,KAAKuf,SAVJ;AAWX3J,kBAAI,EAAE,KAAKsM,WAXA;AAYX5D,iBAAG,EAAE,KAAKA;AAZC,aAAb;AAcAjJ,sBAAU,CAACS,MAAX,CAAkB,MAAlB,EAA0Bja,IAAI,CAAC0F,SAAL,CAAejE,IAAf,CAA1B;AACA+X,sBAAU,CAACS,MAAX,CAAkB,MAAlB,EAA0BV,GAA1B;AACAzc,mBAAO,CAACyC,GAAR,CAAY,SAAZ,EAAuBga,GAAG,CAACQ,IAA3B,EAAiCtY,IAAjC,EAAuC+X,UAAvC;AACA,iBAAKyT,SAAL,GAAiB,KAAK/N,YAAL,CAAkBgH,MAAlB,CAAyB1M,UAAzB,EACdrY,SADc,CACJ,UAAC0B,GAAD,EAAc;AACvB/F,qBAAO,CAACyC,GAAR,CAAY,cAAZ,EAA4BsD,GAA5B;;AACA,kBAAI6kB,MAAM,KAAK,UAAf,EAA2B;AACzB,oBAAI7kB,GAAG,CAACgX,IAAR,EAAc;AACZ,sBAAIhX,GAAG,CAACgX,IAAJ,IAAY,mEAAcqT,cAA9B,EAA8C;AAC5C,2BAAI,CAACjL,oBAAL,CAA0BziB,CAA1B,IAA+BuH,IAAI,CAACC,KAAL,CAAW,OAAOnE,GAAG,CAACsqB,MAAJ,GAAatqB,GAAG,CAACuqB,KAAxB,CAAX,CAA/B;AACA,2BAAI,CAACzN,cAAL,CAAoBngB,CAApB,IAAyBioB,GAAzB;AACD,mBAJW,CAKZ;AACA;AACA;;AACD;AACF,eAVD,MAUO,IAAKC,MAAM,KAAK,WAAhB,EAA8B;AACnC,oBAAI7kB,GAAG,CAACgX,IAAR,EAAc;AACZ,sBAAIhX,GAAG,CAACgX,IAAJ,IAAY,mEAAcqT,cAA9B,EAA8C;AAC5C,2BAAI,CAAClL,qBAAL,CAA2BxiB,CAA3B,IAAgCuH,IAAI,CAACC,KAAL,CAAW,OAAOnE,GAAG,CAACsqB,MAAJ,GAAatqB,GAAG,CAACuqB,KAAxB,CAAX,CAAhC;AACA,2BAAI,CAAC1N,eAAL,CAAqBlgB,CAArB,IAA0BioB,GAA1B;AACD,mBAJW,CAKZ;AACA;AACA;;AACD;AACF,eAVM,MAWF,IAAKC,MAAM,KAAK,QAAhB,EAA2B;AAC9B,oBAAI7kB,GAAG,CAACgX,IAAR,EAAc;AACZ,sBAAIhX,GAAG,CAACgX,IAAJ,IAAY,mEAAcqT,cAA9B,EAA8C;AAC5C,2BAAI,CAAChL,sBAAL,CAA4B1iB,CAA5B,IAAiCuH,IAAI,CAACC,KAAL,CAAW,OAAOnE,GAAG,CAACsqB,MAAJ,GAAatqB,GAAG,CAACuqB,KAAxB,CAAX,CAAjC;AACAtwB,2BAAO,CAACyC,GAAR,CAAY,uBAAZ,EAAqC,OAAI,CAAC2iB,sBAAL,CAA4B1iB,CAA5B,CAArC;AACA,2BAAI,CAACogB,eAAL,CAAqBpgB,CAArB,IAA0BioB,GAA1B;AACD;AACF;AAEF,eATI,MAUD,CAEH;;AACD,kBAAI5kB,GAAG,CAAC6mB,IAAR,EAAc;AAEZ5sB,uBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2BsD,GAAG,CAAC6mB,IAAJ,CAASriB,EAApC;;AACA,uBAAI,CAACsiB,cAAL,CAAoBjC,MAApB,EAA4B7kB,GAAG,CAAC6mB,IAAJ,CAASriB,EAArC;;AACA,uBAAI,CAACyd,YAAL,CAAkBjjB,GAAlB,CAAsB6lB,MAAtB,EAA8B1lB,UAA9B,CAAyC,IAAzC;;AACA,uBAAI,CAACsmB,SAAL,CAAe,oBAAf;AACD;AACF,aA5Cc,EA6Cb,UAACrgB,KAAD,EAAgB;AACd,kBAAIA,KAAK,CAACrB,MAAN,IAAgB,GAApB,EAAyB;AACvB,uBAAI,CAACke,YAAL,CAAkBjjB,GAAlB,CAAsB6lB,MAAtB,EAA8B1lB,UAA9B,CAAyC,IAAzC;;AACA,uBAAI,CAACsmB,SAAL,CAAe,oBAAf;AACD,eAHD,MAGO;AACL,oBAAIZ,MAAM,KAAK,UAAf,EAA2B;AACzB,yBAAI,CAACzF,oBAAL,CAA0BziB,CAA1B,IAA+B,CAA/B;AACA,yBAAI,CAACmgB,cAAL,CAAoBngB,CAApB,IAAyB,IAAzB;AACA,yBAAI,CAACunB,YAAL,GAAoB,IAApB;;AACA,yBAAI,CAACuB,SAAL,CAAergB,KAAK,CAACL,OAArB;AACD,iBALD,MAKO;AACL,yBAAI,CAACoa,qBAAL,CAA2BxiB,CAA3B,IAAgC,CAAhC;AACA,yBAAI,CAACkgB,eAAL,CAAqBlgB,CAArB,IAA0B,IAA1B;AACA,yBAAI,CAACspB,aAAL,GAAqB,IAArB;;AACA,yBAAI,CAACR,SAAL,CAAergB,KAAK,CAACL,OAArB;AACD;AACF;AACF,aA9DY,CAAjB;AAgED;;;iBAED,wBAAe8f,MAAf,EAA4BrgB,EAA5B,EAAqC;AACnCvK,mBAAO,CAACyC,GAAR,CAAYmoB,MAAZ;;AACA,gBAAIA,MAAM,KAAK,UAAf,EAA2B;AAEzB,mBAAK2F,UAAL,GAAkBhmB,EAAlB;AACD;;AACD,gBAAIqgB,MAAM,KAAK,QAAf,EAAyB;AACvB,mBAAK4F,WAAL,GAAmBjmB,EAAnB;AACD;;AACD,gBAAIqgB,MAAM,KAAK,eAAf,EAAgC;AAC9B,mBAAK6F,mBAAL,GAA2BlmB,EAA3B;AACD;AACF;;;iBAED,uBAAc;AACZ,iBAAK8X,gBAAL,CAAsBqO,eAAtB,CAAsC,IAAtC;AACD;;;iBAED,sBAAaC,QAAb,EAA+B;AAC7B,iBAAKR,SAAL,CAAelgB,WAAf;AACA,iBAAKub,SAAL,CAAe,8BAAf;;AACA,gBAAImF,QAAQ,IAAI,UAAhB,EAA4B;AAC1B,mBAAKxL,oBAAL,CAA0B,CAA1B,IAA+B,CAA/B;AACA,mBAAKtC,cAAL,CAAoB,CAApB,IAAyB,IAAzB;AACA,mBAAKoH,YAAL,GAAoB,IAApB;AACD,aAJD,MAIO;AACL,mBAAK/E,qBAAL,CAA2B,CAA3B,IAAgC,CAAhC;AACA,mBAAKtC,eAAL,CAAqB,CAArB,IAA0B,IAA1B;AACA,mBAAKoJ,aAAL,GAAqB,IAArB;AACD;AACF;;;iBAED,mBAAU4E,GAAV,EAAuB;AACrB,iBAAKpxB,KAAL,CAAW0L,IAAX,WAAmB0lB,GAAnB,GAA0B,IAA1B,EAAgC;AAC9BvlB,sBAAQ,EAAE,IADoB;AAE9BC,8BAAgB,EAAE,KAFY;AAG9BC,gCAAkB,EAAE;AAHU,aAAhC;AAKD;;;iBAED,wBAAewe,MAAf,EAAsBvf,KAAtB,EAA2B;AAEzBxK,mBAAO,CAACyC,GAAR,CAAY,KAAK+D,UAAjB,EAA6BujB,MAA7B,EAAqCvf,KAArC;AACA,iBAAKhE,UAAL,GAAgB,KAAKtH,EAAL,CAAQ4D,OAAR,CAAgB,YAAhB,CAAhB;AAEA,gBAAM+tB,YAAY,GAAG,KAAK7I,YAAL,CAAkBjjB,GAAlB,CAAsB,eAAtB,CAArB;AACA/E,mBAAO,CAACyC,GAAR,CAAYouB,YAAZ;AACAA,wBAAY,CAAChb,QAAb,CAAsBrL,KAAtB;AAEA,iBAAKmM,GAAL,CAASma,UAAT,CAAoB,KAAKtqB,UAAzB,EAAqCujB,MAAM,CAACnN,YAA5C,EAA0DvY,SAA1D,CAAoE,UAACM,IAAD,EAAU;AAC9E3E,qBAAO,CAACyC,GAAR,CAAY,mBAAZ,EAAgCkC,IAAhC;AACG,aAFH;AAGD;;;iBAEH,gBAAI;AACF,iBAAK/F,MAAL,CAAY8Q,QAAZ,CAAqB,2CAArB;AACD;;;iBAED,sBAAU;AAAA;;AAER,iBAAKiH,GAAL,CAASoa,aAAT,CAAuB,wEAAvB,EAAgC,KAAKjD,MAArC,EAA6CzpB,SAA7C,CACE,UAAC0B,GAAD,EAAc;AACZ/F,qBAAO,CAACyC,GAAR,CAAY,eAAZ,EAA4BsD,GAA5B;;AACA,kBAAGA,GAAG,IAAI,EAAP,IAAaA,GAAG,IAAI+P,SAApB,IAAiC/P,GAAG,IAAI,IAA3C,EAAgD;AAC9C/F,uBAAO,CAACyC,GAAR,CAAY,eAAZ,EAA4BsD,GAA5B;;AACA,oBAAMqV,SAAS,GAAG,OAAI,CAACvc,MAAL,CAAYqM,IAAZ,CAAiB,gGAAjB,EAAyC;AACzD2Q,uBAAK,EAAE,KADkD;AAEzDmV,+BAAa,EAAE,iBAF0C;AAGzDhP,wBAAM,EAAE,KAHiD;AAIzDlG,8BAAY,EAAE;AAJ2C,iBAAzC,CAAlB;;AAOAV,yBAAS,CAACW,WAAV,GAAwB1X,SAAxB,CAAkC,UAACkY,MAAD,EAAY;AAC5Cvc,yBAAO,CAACyC,GAAR,CAAY,uBAAZ,EAAqC8Z,MAArC;AACD,iBAFD;AAGD;AACJ,aAhBD;AAiBD;;;;;;;yBA/3CY2F,wB,EAAwB,gI,EAAA,2I,EAAA,mI,EAAA,uH,EAAA,2H,EAAA,wI,EAAA,0J,EAAA,8I,EAAA,gI,EAAA,2I,EAAA,0J,EAAA,oK,EAAA,uJ,EAAA,kL,EAAA,iL;AAAA,O;;;cAAxBA,wB;AAAwB,6C;AAAA;AAAA;sEA+BxB,6E,EAAc,I;;;;;;;;;;;;;;AD7D3B;;AACA;;AACI;;AACI;;AACI;;AACJ;;AACA;;AACI;;AAAyB;;AAAG;;AAAgB;;AAAI;;AACpD;;AACJ;;AACA;;AACI;;AAAkB;;AAAgB;;AAClC;;AACJ;;AASA;;AAeA;;AACI;;AAA4B;AAAA,qBAAS,IAAAzP,MAAA,EAAT;AAAiB,aAAjB;;AAAmB;;AAAI;;AACnD;;AACA;;AAAyG;AAAA,qBAAS,IAAA2O,MAAA,EAAT;AAAiB,aAAjB;;AAAmB;;AAAI;;AAEpI;;AACJ;;AACA;;;;AA/B+B;;AAAA;;AA2BmC;;AAAA;;;;;;;;;wECVrDc,wB,EAAwB;gBALpC,uDAKoC;iBAL1B;AACT3R,oBAAQ,EAAE,sBADD;AAETC,uBAAW,EAAE,mCAFJ;AAGTC,qBAAS,EAAE,CAAC,mCAAD;AAHF,W;AAK0B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BRC,qBAAW,EAAE,CAAF;kBAArC,uDAAqC;mBAA3B,6E;AAA2B,WAAE;;;;;;;;;;;;;;;;;;;AC7D1C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACqIsB;;AAIE;;AACF;;;;;;AAHE;;AAEA;;AAAA;;;;;;AAGJ;;AAOE;;AACF;;;;;;AAiBA;;AAOE;;AACF;;;;;;AAiBA;;AAOE;;AACF;;;;;;AAwBA;;AAOE;;AACF;;;;;;AAYE;;AAME;;AACF;;;;;;AAHE;;AAEA;;AAAA;;;;;;AAGJ;;AAOE;;AACF;;;;;;AAiBA;;AAOE;;AACF;;;;;;AA0BA;;AAOE;;AACF;;;;;;;;AA9SlB;;AACE;;AACE;;AACE;;AACE;;AACE;;AACA;;AAAuB;;AAAiB;;AACxC;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAc;;AACzB;;AAMF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAa;;AACxB;;AAAgB;;AAAwB;;AACxC;;AAOF;;AACF;;AACA;;AACE;;AACE;;AAAW;;AAAc;;AACzB;;AAYE;;AAGA;;AAEJ;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAW;;AAAiB;;AAC5B;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAAkC;;AAAwB;;AAC1D;;AAOF;;AACF;;AAIF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AAA6B;;AAAkB;;AAC/C;;AACF;;AACA;;AAGE;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAiB;;AAC5B;;AACE;;AAMF;;AACA;;AASF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAGE;AAAA;;AAAA;;AAAA;AAAA;;AAHF;;AAUA;;AASF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAW;;AACtB;;AAME;AAAA;;AAAA;;AAAA;AAAA;;AANF;;AAUA;;AASF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAuB;;AAClC;;AAYA;;AAGA;;AAEA;;AASF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAW;;AAAqB;;AAChC;;AAIE;;AAQF;;AACA;;AASF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAW;;AACtB;;AAME;AAAA;;AAAA;;AAAA;AAAA;;AANF;;AAUA;;AASF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAmB;;AAE9B;;AAaA;;AAGA;;AAEA;;AASF;;AACF;;AACF;;AACF;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACA;;AAAoB;;AAAkB;;AACxC;;AACA;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAK;;AAChB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAM;;AACjB;;AAOE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AAPF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAU;;AACrB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAK;;AAChB;;AASF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAW;;AAAQ;;AACnB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAIC,UAJD,EAIC;AAAA;;AAAA;;AAAA;AAAA,WAJD;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAO;;AAClB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAO;;AAClB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAIC,UAJD,EAIC;AAAA;;AAAA;;AAAA;AAAA,WAJD;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAM;;AACjB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AACF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACA;;AAAoB;;AAAoB;;AAC1C;;AACA;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAS;;AACpB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAS;;AACpB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAmB;;AAC9B;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAM;;AACjB;;AAME;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AANF;;AAcF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAK;;AAChB;;AASF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAW;;AAAO;;AAClB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAM;;AACjB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAO;;AAClB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAIC,UAJD,EAIC;AAAA;;AAAA;;AAAA;AAAA,WAJD;;AARF;;AAeF;;AACF;;AACF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACA;;AAAoB;;AAAuB;;AAC7C;;AACA;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAc;;AACzB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAc;;AACzB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAU;;AACrB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAK;;AAChB;;AASF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAW;;AAAa;;AACxB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAmB;;AAC9B;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAM;;AACjB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAeF;;AACF;;AACF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACA;;AAAoB;;AAAiB;;AACvC;;AACA;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAgB;;AAC3B;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAaF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAU;;AACrB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAaF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAc;;AACzB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAEC,UAFD,EAEC;AAAA;;AAAA;;AAAA;AAAA,WAFD;;AARF;;AAaF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAM;;AACjB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAaF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAK;;AAChB;;AASF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAW;;AAAY;;AACvB;;AAOE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AAPF;;AAYF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAW;;AACtB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAaF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAK;;AAChB;;AAQE;AAAA;;AAAA;;AAAA;AAAA,aAA8B,OAA9B,EAA8B;AAAA;;AAAA;;AAAA;AAAA,WAA9B;;AARF;;AAaF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AAME;;AAA4B;AAAA;;AAAA;;AAAA;AAAA;;AAC1B;;AACF;;AACA;;AAQE;AAAA;;AAAA;;AAAA;AAAA;;AAEA;;AACF;;AACF;;AACF;;AACF;;AACF;;;;;;;;;;;;AA3gCwC;;AA2BN;;AAAA;;AAkBd;;AAAA,yFAAwB,KAAxB,EAAwB,eAAxB;;AAOiC;;AAAA;;AAiCD;;AAAA;;AAiCH;;AAAA;;AAO5B;;AAAA;;AAoBD;;AAAA;;AAKC;;AAAA;;AAqBD;;AAAA;;AAIC;;AAAA;;AAmBD;;AAAA,0FAAe,eAAf,EAAe,GAAf;;AAO+B;;AAAA;;AAM9B;;AAAA;;AAqBqD;;AAAA;;AAQrD;;AAAA;;AAqBD;;AAAA;;AAIC;;AAAA;;AAoBD;;AAAA,0FAAqB,KAArB,EAAqB,gEAArB;;AAQ+B;;AAAA;;AAM9B;;AAAA;;AAqBW;;AAAA;;AAuMA;;AAAA;;AAiLA;;AAAA;;AA6JA;;AAAA;;AAgLtB;;AAAA;;;;UDlgCCugB,yB;AAuBX,2CAAuB7xB,WAAvB,EAAyDuX,GAAzD,EAAiFnX,KAAjF,EAA6GT,cAA7G,EACUH,MADV,EACiCM,EADjC,EACgEI,GADhE,EACqF;AAAA;;AAD9D,eAAAF,WAAA,GAAAA,WAAA;AAAkC,eAAAuX,GAAA,GAAAA,GAAA;AAAwB,eAAAnX,KAAA,GAAAA,KAAA;AAA4B,eAAAT,cAAA,GAAAA,cAAA;AACnG,eAAAH,MAAA,GAAAA,MAAA;AAAuB,eAAAM,EAAA,GAAAA,EAAA;AAA+B,eAAAI,GAAA,GAAAA,GAAA;AAlBhE,eAAAgqB,WAAA,GAAuB,KAAvB;AAOA,eAAAvoB,cAAA,GAAuB,KAAvB;AACA,eAAAI,OAAA,GAAU,IAAIF,IAAJ,EAAV;AACC,eAAAC,OAAA,GAAU,IAAID,IAAJ,EAAV;AAWC,eAAKiwB,QAAL,GAAgB,IAAIjwB,IAAJ,GAAWkwB,WAAX,GAAyBlT,KAAzB,CAA+B,CAA/B,EAAiC,EAAjC,CAAhB;AACA;;;;iBAEF,oBAAQ;AAAA;;AACNje,mBAAO,CAACyC,GAAR,CAAYmb,OAAO,CAACjW,KAAR,CAAc+R,MAA1B;AAEA,iBAAK7W,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AACA,iBAAK+a,YAAL,GAAkBC,YAAY,CAAChb,OAAb,CAAqB,eAArB,CAAlB;;AACA,gBAAG,KAAK+a,YAAL,KAAoB,KAAvB,EAA6B;AAC3B,mBAAKE,cAAL,GAAoB,GAApB;AACD,aAFD,MAEM,IAAG,KAAKF,YAAL,KAAoB,KAAvB,EAA6B;AACjC,mBAAKE,cAAL,GAAoB,GAApB;AACD,aAFK,MAEA,IAAG,KAAKF,YAAL,KAAoB,KAAvB,EAA6B;AACjC,mBAAKE,cAAL,GAAoB,GAApB;AACD,aAFK,MAEA,IAAG,KAAKF,YAAL,KAAoB,KAAvB,EAA6B;AACjC,mBAAKE,cAAL,GAAoB,GAApB;AACD,aAFK,MAEA,IAAG,KAAKF,YAAL,KAAoB,KAAvB,EAA6B;AACjC,mBAAKE,cAAL,GAAoB,GAApB;AACD,aAfK,CAgBN;AACD;;;AACC,iBAAKqT,aAAL,GAAmB,KAAKlyB,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAAnB;AACA,gBAAIuuB,iBAAiB,GAAYnuB,IAAI,CAACC,KAAL,CAAW,KAAKjE,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAAX,CAAjC;AACA,iBAAKwuB,iBAAL,CAAuB,qBAAvB;AACA,iBAAKC,qBAAL,CAA2B,qBAA3B,EArBM,CAsBN;AACA;AACA;;AAGA,gBAAI,KAAK1uB,MAAL,IAAe,IAAf,IAAuBwuB,iBAA3B,EAA8C;AAC5CrxB,qBAAO,CAACyC,GAAR,CAAY,MAAZ;AAEA,mBAAK1B,cAAL,GAAsB,IAAtB;AACA,mBAAKywB,8BAAL;AACD,aALD,MAKO;AACL,mBAAKzwB,cAAL,GAAsB,KAAtB;AACA+O,wBAAU,CAAC,YAAK;AACd,uBAAI,CAAC2hB,sBAAL;AACD,eAFS,EAER,GAFQ,CAAV;AAID,aAtCK,CAyCN;;AACD;;;iBACD,0CAA8B;AAAA;;AAE5B,iBAAK9a,GAAL,CAAS+a,uBAAT,CAAiC,KAAK7uB,MAAtC,EACCwB,SADD,CACW,UAACkY,MAAD,EAAiB;AAE1Bvc,qBAAO,CAACyC,GAAR,CAAY8Z,MAAZ;AACA,kBAAI/R,KAAK,GAAG+R,MAAM,CAAChU,MAAP,GAAc,CAA1B;;AACA,qBAAI,CAACkpB,sBAAL,CAA4BlV,MAAM,CAAC/R,KAAD,CAAlC;AACD,aAND;AAOD;;;iBACD,2BAAkBmD,GAAlB,EAA+B;AAAA;;AAC7B,iBAAKgJ,GAAL,CAAS/I,iBAAT,CAA2BD,GAA3B,EAAgCtJ,SAAhC,CAA0C,UAACM,IAAD,EAAU;AAClD,qBAAI,CAACgtB,mBAAL,GAA2BhtB,IAA3B;AACD,aAFD;AAGD;;;iBACD,+BAAsBgJ,GAAtB,EAAmC;AAAA;;AACjC,iBAAKgJ,GAAL,CAAS/I,iBAAT,CAA2BD,GAA3B,EAAgCtJ,SAAhC,CAA0C,UAACM,IAAD,EAAU;AAClD,qBAAI,CAACitB,uBAAL,GAA+BjtB,IAA/B;AACD,aAFD;AAGD;;;iBAED,mBAAUkE,KAAV,EAAsB;AACpB;AACA,gBAAMgE,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC1BpE,mBAAK,CAACwE,cAAN;AACH;AACD;;;iBACD,gCAAuB1I,IAAvB,EAA8B;AAAA;;AAC5B3E,mBAAO,CAACyC,GAAR,CAAYkC,IAAZ;AACD,iBAAKktB,wBAAL,GAAgC,KAAKzyB,WAAL,CAAiBiN,KAAjB,CAAuB;AACrD;AACD;AACC+kB,2BAAa,EAAE,CAACzsB,IAAI,GAAGA,IAAI,CAACysB,aAAR,GAAwB,KAAKlyB,EAAL,CAAQ4D,OAAR,CAAgB,qBAAhB,CAA7B,EAAqE,0DAAW6J,QAAhF,CAHsC;AAIrDmlB,8BAAgB,EAAE,CAACntB,IAAI,GAAGA,IAAI,CAACmtB,gBAAR,GAA2B,EAAhC,CAJmC;AAKrDC,kCAAoB,EAAE,CAACptB,IAAI,GAAGA,IAAI,CAACotB,oBAAR,GAA+B,CAApC,EAAuC,0DAAWplB,QAAlD,CAL+B;AAMrDqlB,mCAAqB,EAAE,CAACrtB,IAAI,GAAGA,IAAI,CAACqtB,qBAAR,GAAgC,CAArC,EAAwC,0DAAWrlB,QAAnD,CAN8B;AAOrDslB,2BAAa,EAAE,CAACttB,IAAI,KAAIA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,GAAI,MAAJ,GAAAA,IAAI,CAAEstB,aAAV,CAAJ,GAA8B,IAAIhxB,IAAJ,CAAS0D,IAAI,CAACstB,aAAd,CAA9B,GAA6D,EAA9D,CAPsC;AAQrD;AAEA;AACAC,4BAAc,EAAE,CAACvtB,IAAI,GAAGA,IAAI,CAACutB,cAAR,GAAyB,EAA9B,EAAkC,0DAAWvlB,QAA7C,CAXqC;AAYrDwlB,gCAAkB,EAAE,CAACxtB,IAAI,GAAGA,IAAI,CAACwtB,kBAAR,GAA6B,EAAlC,EAAsC,0DAAWxlB,QAAjD,CAZiC;AAarDylB,4BAAc,EAAE,CAACztB,IAAI,GAAGA,IAAI,CAACytB,cAAR,GAAyB,EAA9B,CAbqC;AAcrDC,wBAAU,EAAE,CAAC1tB,IAAI,GAAGA,IAAI,CAAC0tB,UAAR,GAAqB,EAA1B,CAdyC;AAerDC,yBAAW,EAAE,CAAC3tB,IAAI,GAAGA,IAAI,CAAC2tB,WAAR,GAAsB,EAA3B,CAfwC;AAgBrDC,iCAAmB,EAAE,CAAC5tB,IAAI,KAAIA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,GAAI,MAAJ,GAAAA,IAAI,CAAE4tB,mBAAV,CAAJ,GAAoC,IAAItxB,IAAJ,CAAS0D,IAAI,CAAC4tB,mBAAd,CAApC,GAAwE,EAAzE,EAA6E,0DAAW5lB,QAAxF,CAhBgC;AAiBrD6lB,+BAAiB,EAAE,CAAC7tB,IAAI,KAAIA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,GAAI,MAAJ,GAAAA,IAAI,CAAE6tB,iBAAV,CAAJ,GAAkC,IAAIvxB,IAAJ,CAAS0D,IAAI,CAAC6tB,iBAAd,CAAlC,GAAoE,EAArE,CAjBkC;AAmBrD;AACAC,oBAAM,EAAE,CAAC9tB,IAAI,GAAGA,IAAI,CAAC8tB,MAAR,GAAiB,EAAtB,CApB6C;AAqBrDC,4BAAc,EAAE,CAAC/tB,IAAI,GAAGA,IAAI,CAAC+tB,cAAR,GAAyB,EAA9B,CArBqC;AAsBrDC,mBAAK,EAAE,CAAChuB,IAAI,GAAGA,IAAI,CAACguB,KAAR,GAAgB,EAArB,CAtB8C;AAuBrDC,uBAAS,EAAE,CAACjuB,IAAI,GAAGA,IAAI,CAACiuB,SAAR,GAAoB,EAAzB,CAvB0C;AAwBrDC,sBAAQ,EAAE,CAACluB,IAAI,GAAGA,IAAI,CAACkuB,QAAR,GAAmB,EAAxB,CAxB2C;AAyBrDC,qBAAO,EAAE,CAACnuB,IAAI,GAAGA,IAAI,CAACmuB,OAAR,GAAkB,EAAvB,CAzB4C;AA0BrDC,kCAAoB,EAAE,CAACpuB,IAAI,GAAGA,IAAI,CAACouB,oBAAR,GAA+B,EAApC,CA1B+B;AA2BrDC,iCAAmB,EAAE,CAACruB,IAAI,GAAGA,IAAI,CAACquB,mBAAR,GAA8B,EAAnC,CA3BgC;AA4BrDC,gCAAkB,EAAE,CAACtuB,IAAI,GAAGA,IAAI,CAACsuB,kBAAR,GAA6B,CAAlC,CA5BiC;AA8BrD;AACAC,uBAAS,EAAE,CAACvuB,IAAI,GAAGA,IAAI,CAACuuB,SAAR,GAAoB,EAAzB,CA/B0C;AAgCrDC,uBAAS,EAAE,CAACxuB,IAAI,GAAGA,IAAI,CAACwuB,SAAR,GAAoB,EAAzB,CAhC0C;AAiCrDC,gCAAkB,EAAE,CAACzuB,IAAI,GAAGA,IAAI,CAACyuB,kBAAR,GAA6B,EAAlC,CAjCiC;AAkCrDC,mCAAqB,EAAE,CAAC1uB,IAAI,GAAGA,IAAI,CAAC0uB,qBAAR,GAAgC,EAArC,CAlC8B;AAmCrDC,kCAAoB,EAAE,CAAC3uB,IAAI,GAAGA,IAAI,CAAC2uB,oBAAR,GAA+B,EAApC,CAnC+B;AAoCrDC,qBAAO,EAAE,CAAC5uB,IAAI,GAAGA,IAAI,CAAC4uB,OAAR,GAAkB,EAAvB,CApC4C;AAqCrDC,oBAAM,EAAE,CAAC7uB,IAAI,GAAGA,IAAI,CAAC6uB,MAAR,GAAiB,EAAtB,CArC6C;AAsCrDC,iCAAmB,EAAE,CAAC9uB,IAAI,GAAGA,IAAI,CAAC8uB,mBAAR,GAA8B,CAAnC,CAtCgC;AAwCrD;AACAC,0BAAY,EAAE,CAAC/uB,IAAI,GAAGA,IAAI,CAAC+uB,YAAR,GAAuB,EAA5B,CAzCuC;AA0CrDC,yBAAW,EAAE,CAAChvB,IAAI,GAAGA,IAAI,CAACgvB,WAAR,GAAsB,EAA3B,CA1CwC;AA2CrDC,2BAAa,EAAE,CAACjvB,IAAI,GAAGA,IAAI,CAACivB,aAAR,GAAwB,EAA7B,CA3CsC;AA4CrDC,uBAAS,EAAE,CAAClvB,IAAI,GAAGA,IAAI,CAACkvB,SAAR,GAAoB,EAAzB,CA5C0C;AA6CrDC,8BAAgB,EAAE,CAACnvB,IAAI,GAAGA,IAAI,CAACmvB,gBAAR,GAA2B,EAAhC,CA7CmC;AA8CrDC,6BAAe,EAAE,CAACpvB,IAAI,GAAGA,IAAI,CAACovB,eAAR,GAA0B,EAA/B,CA9CoC;AA+CrDC,4BAAc,EAAE,CAACrvB,IAAI,GAAGA,IAAI,CAACqvB,cAAR,GAAyB,CAA9B,CA/CqC;AAiDrD;AACAC,4BAAc,EAAE,CAACtvB,IAAI,GAAGA,IAAI,CAACsvB,cAAR,GAAyB,EAA9B,CAlDqC;AAmDrDC,wBAAU,EAAE,CAACvvB,IAAI,GAAGA,IAAI,CAACuvB,UAAR,GAAqB,EAA1B,CAnDyC;AAoDrDC,yBAAW,EAAE,CAACxvB,IAAI,GAAGA,IAAI,CAACwvB,WAAR,GAAsB,EAA3B,CApDwC;AAqDrDC,2BAAa,EAAE,CAACzvB,IAAI,GAAGA,IAAI,CAACyvB,aAAR,GAAwB,EAA7B,CArDsC;AAsDrDC,mBAAK,EAAE,CAAC1vB,IAAI,GAAGA,IAAI,CAAC0vB,KAAR,GAAgB,EAArB,CAtD8C;AAuDrDC,yBAAW,EAAE,CAAC3vB,IAAI,GAAGA,IAAI,CAAC2vB,WAAR,GAAsB,EAA3B,CAvDwC;AAwDrDC,oBAAM,EAAE,CAAC5vB,IAAI,GAAGA,IAAI,CAAC4vB,MAAR,GAAiB,EAAtB,CAxD6C;AAyDrDC,wBAAU,EAAE,CAAC7vB,IAAI,GAAGA,IAAI,CAAC6vB,UAAR,GAAqB,CAA1B;AAzDyC,aAAvB,EA6D7B;AAACC,uBAAS,EAAC,mBAACC,SAAD,EAAuB;AACnC,uBAAO,OAAI,CAACC,mBAAL,CAAyBD,SAAzB,CAAP;AACD;AAFE,aA7D6B,CAAhC;AAkED;;;iBACD,6BAAoBE,SAApB,EAAyC;AACvC,gBAAGA,SAAS,CAACnnB,QAAV,CAAmB,QAAnB,EAA6B/O,KAA7B,IAAsCk2B,SAAS,CAACnnB,QAAV,CAAmB,gBAAnB,EAAqC/O,KAA3E,IACHk2B,SAAS,CAACnnB,QAAV,CAAmB,OAAnB,EAA4B/O,KADzB,IACkCk2B,SAAS,CAACnnB,QAAV,CAAmB,WAAnB,EAAgC/O,KADlE,IAEHk2B,SAAS,CAACnnB,QAAV,CAAmB,UAAnB,EAA+B/O,KAF5B,IAEqCk2B,SAAS,CAACnnB,QAAV,CAAmB,SAAnB,EAA8B/O,KAFnE,IAGHk2B,SAAS,CAACnnB,QAAV,CAAmB,sBAAnB,EAA2C/O,KAHxC,IAGiDk2B,SAAS,CAACnnB,QAAV,CAAmB,qBAAnB,EAA0C/O,KAH9F,EAGqG;AAEnG,mBAAKm2B,YAAL,GAAoB,IAApB;AACE,mBAAKvL,WAAL,GAAmB,IAAnB;AAEH,aARD,MASK;AACH,mBAAKuL,YAAL,GAAoB,gEAApB;AACA,mBAAKvL,WAAL,GAAmB,KAAnB;AACD;;AAED,gBAAGsL,SAAS,CAACnnB,QAAV,CAAmB,WAAnB,EAAgC/O,KAAhC,IAAyCk2B,SAAS,CAACnnB,QAAV,CAAmB,WAAnB,EAAgC/O,KAAzE,IACHk2B,SAAS,CAACnnB,QAAV,CAAmB,oBAAnB,EAAyC/O,KADtC,IAC+Ck2B,SAAS,CAACnnB,QAAV,CAAmB,uBAAnB,EAA4C/O,KAD3F,IAEHk2B,SAAS,CAACnnB,QAAV,CAAmB,sBAAnB,EAA2C/O,KAFxC,IAEiDk2B,SAAS,CAACnnB,QAAV,CAAmB,SAAnB,EAA8B/O,KAF/E,IAGHk2B,SAAS,CAACnnB,QAAV,CAAmB,QAAnB,EAA6B/O,KAH7B,EAGoC;AAElC,mBAAKo2B,cAAL,GAAsB,IAAtB;AACE,mBAAKxL,WAAL,GAAmB,IAAnB;AAEH,aARD,MASK;AACH,mBAAKwL,cAAL,GAAsB,kEAAtB;AACA,mBAAKxL,WAAL,GAAmB,KAAnB;AACD;;AAED,gBAAGsL,SAAS,CAACnnB,QAAV,CAAmB,cAAnB,EAAmC/O,KAAnC,IAA4Ck2B,SAAS,CAACnnB,QAAV,CAAmB,aAAnB,EAAkC/O,KAA9E,IACHk2B,SAAS,CAACnnB,QAAV,CAAmB,eAAnB,EAAoC/O,KADjC,IAC0Ck2B,SAAS,CAACnnB,QAAV,CAAmB,WAAnB,EAAgC/O,KAD1E,IAEHk2B,SAAS,CAACnnB,QAAV,CAAmB,kBAAnB,EAAuC/O,KAFpC,IAE6Ck2B,SAAS,CAACnnB,QAAV,CAAmB,iBAAnB,EAAsC/O,KAFtF,EAE6F;AAE3F,mBAAKq2B,iBAAL,GAAyB,IAAzB;AACE,mBAAKzL,WAAL,GAAmB,IAAnB;AAEH,aAPD,MAQK;AACH,mBAAKyL,iBAAL,GAAyB,oEAAzB;AACA,mBAAKzL,WAAL,GAAmB,KAAnB;AACD;;AAED,gBAAGsL,SAAS,CAACnnB,QAAV,CAAmB,gBAAnB,EAAqC/O,KAArC,IAA8Ck2B,SAAS,CAACnnB,QAAV,CAAmB,YAAnB,EAAiC/O,KAA/E,IACHk2B,SAAS,CAACnnB,QAAV,CAAmB,aAAnB,EAAkC/O,KAD/B,IACwCk2B,SAAS,CAACnnB,QAAV,CAAmB,eAAnB,EAAoC/O,KAD5E,IAEHk2B,SAAS,CAACnnB,QAAV,CAAmB,OAAnB,EAA4B/O,KAFzB,IAEkCk2B,SAAS,CAACnnB,QAAV,CAAmB,aAAnB,EAAkC/O,KAFpE,IAGHk2B,SAAS,CAACnnB,QAAV,CAAmB,QAAnB,EAA6B/O,KAH7B,EAGoC;AAElC,mBAAKs2B,WAAL,GAAmB,IAAnB;AACE,mBAAK1L,WAAL,GAAmB,IAAnB;AAEH,aARD,MASK;AACH,mBAAK0L,WAAL,GAAmB,uDAAnB;AACA,mBAAK1L,WAAL,GAAmB,KAAnB;AACD;AACF;;;iBAED,oBAAW;AAAA;;AACT,gBAAI2L,SAAS,GAAG,KAAKC,UAAL,CAAgB,KAAKrD,wBAAL,CAA8BpkB,QAA9B,CAAuC8kB,mBAAvC,CAA2D7zB,KAA3E,CAAhB;;AACA,gBAAGu2B,SAAS,IAAIA,SAAS,IAAG,cAA5B,EAA2C;AAC3Cj1B,qBAAO,CAACyC,GAAR,CAAY,WAAZ,EAAyBwyB,SAAzB;AACA,mBAAKpD,wBAAL,CAA8BnzB,KAA9B,CAAoC,qBAApC,IAA6Du2B,SAA7D;AACC,aAHD,MAGK;AACH,mBAAKpD,wBAAL,CAA8BnzB,KAA9B,CAAoC,qBAApC,IAA6D,IAA7D;AACD;;AACD,gBAAIy2B,OAAO,GAAG,KAAKD,UAAL,CAAgB,KAAKrD,wBAAL,CAA8BpkB,QAA9B,CAAuC+kB,iBAAvC,CAAyD9zB,KAAzE,CAAd;;AACA,gBAAGy2B,OAAO,IAAIA,OAAO,IAAG,cAAxB,EAAuC;AACrCn1B,qBAAO,CAACyC,GAAR,CAAY,WAAZ,EAAyB0yB,OAAzB;AACA,mBAAKtD,wBAAL,CAA8BnzB,KAA9B,CAAoC,mBAApC,IAA2Dy2B,OAA3D;AACD,aAHD,MAGK;AACH,mBAAKtD,wBAAL,CAA8BnzB,KAA9B,CAAoC,mBAApC,IAA2D,IAA3D;AACD,aAdQ,CAgBT;;;AACA,gBAAIuzB,aAAa,GAAE,mCAAM,CAAC,KAAKJ,wBAAL,CAA8BpkB,QAA9B,CAAuCwkB,aAAvC,CAAqDvzB,KAAtD,CAAN,CAAmEqN,MAAnE,CAA0E,qBAA1E,CAAnB;AACA/L,mBAAO,CAACyC,GAAR,CAAY,eAAZ,EAA4BwvB,aAA5B;;AACA,gBAAGA,aAAa,IAAIA,aAAa,IAAG,cAApC,EAAmD;AACjDjyB,qBAAO,CAACyC,GAAR,CAAY,WAAZ,EAAyBwvB,aAAzB;AACA,mBAAKJ,wBAAL,CAA8BnzB,KAA9B,CAAoC,eAApC,IAAuDuzB,aAAvD;AACD,aAHD,MAGK;AACH,mBAAKJ,wBAAL,CAA8BnzB,KAA9B,CAAoC,eAApC,IAAuD,IAAvD;AACD;;AAED,iBAAKmzB,wBAAL,CAA8BnzB,KAA9B,CAAoC2Q,WAApC,GAAgD,YAAhD;AACA,iBAAKwiB,wBAAL,CAA8BnzB,KAA9B,CAAoCmE,MAApC,GAA2C,KAAKA,MAAhD;AACA7C,mBAAO,CAACyC,GAAR,CAAY,QAAZ,EAAsB,KAAKovB,wBAAL,CAA8BnzB,KAApD;AACAsB,mBAAO,CAACyC,GAAR,CAAY,KAAKovB,wBAAL,CAA8BnzB,KAA1C;AACA,gBAAIiX,OAAO,GAAQ,EAAnB;AACAA,mBAAO,CAAC1H,IAAR,CAAa,KAAK4jB,wBAAL,CAA8BnzB,KAA3C;AACAsB,mBAAO,CAACyC,GAAR,CAAYkT,OAAZ,EAhCS,CAiCT;AACA;AACA;AACA;AACA;;AACA,iBAAKgB,GAAL,CAASye,0BAAT,CAAoCzf,OAApC,EAA6CtR,SAA7C,CAAuD,UAAAgxB,WAAW,EAAI;AAEpEr1B,qBAAO,CAACyC,GAAR,CAAY4yB,WAAZ;;AACA,qBAAI,CAAC71B,KAAL,CAAW0L,IAAX,CAAgB,0BAAhB,EAA4C,IAA5C,EAAkD;AAChDG,wBAAQ,EAAE,IADsC;AAEhDC,gCAAgB,EAAE,KAF8B;AAGhDC,kCAAkB,EAAE;AAH4B,eAAlD,EAHoE,CASpE;AACA;AACA;;;AACC,qBAAI,CAAC3F,IAAL,GAZmE,CAapE;AACA;;AAED,aAhBD,EAgBG,UAAArB,GAAG,EAAI;AACR,qBAAI,CAAC/E,KAAL,CAAW0L,IAAX,CAAgB,uBAAhB,EAAyC,IAAzC,EAA+C;AAC7CG,wBAAQ,EAAE,IADmC;AAE7CC,gCAAgB,EAAE,KAF2B;AAG7CC,kCAAkB,EAAE;AAHyB,eAA/C;AAKD,aAtBD;AAwBD;;;iBACD,kBAAM;AACJ,iBAAK3M,MAAL,CAAY8Q,QAAZ,CAAqB,+DAArB;AACD;;;iBACD,gBAAI;AACF,iBAAKxQ,EAAL,CAAQiG,OAAR,CAAgB,qBAAhB,EAAuC,IAAvC;AACA,iBAAKpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACA,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,yDAArB;AAED;;;iBACD,oBAAWhR,KAAX,EAAkB;AAChB;AACA,gBAAI0N,IAAI,GAAG,mCAAM,CAAC1N,KAAD,CAAN,CAAcqN,MAAd,CAAqB,aAArB,CAAX;AACA/L,mBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoB2J,IAApB;AACA,gBAAIA,IAAJ,EACE,OAAOA,IAAP;AACH;;;iBACD,oBAAWvD,KAAX,EAAkB;AAChB,gBAAIC,QAAQ,GAAGD,KAAK,CAACE,OAArB;AACQ,gBAAKD,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,GAAG,EAA7B,IAAqCA,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,GAAG,GAAjE,IAAyEA,QAAQ,IAAI,CAAzF,EACI,OAAO,IAAP,CADJ,KAGI,OAAO,KAAP;AACb,W,CACD;;;;iBACA,qCAA4BpK,KAA5B,EAAmC;AACjC,gBAAI42B,MAAM,GAAU5f,MAAM,CAAChX,KAAK,CAAC+zB,MAAP,CAAN,GAAuB/c,MAAM,CAAChX,KAAK,CAACm0B,QAAP,CAA7B,GACpBnd,MAAM,CAAChX,KAAK,CAACg0B,cAAP,CADc,GACWhd,MAAM,CAAChX,KAAK,CAACo0B,OAAP,CADjB,GAEpBpd,MAAM,CAAChX,KAAK,CAACi0B,KAAP,CAFc,GAEEjd,MAAM,CAAChX,KAAK,CAACs0B,mBAAP,CAFR,GAGpBtd,MAAM,CAAChX,KAAK,CAACq0B,oBAAP,CAHc,GAGiBrd,MAAM,CAAChX,KAAK,CAACk0B,SAAP,CAH3C,CADiC,CAMjC;;AACA,iBAAKf,wBAAL,CAA8BpkB,QAA9B,CAAuCwlB,kBAAvC,CAA0DztB,QAA1D,CAAmE8vB,MAAnE;AACA,iBAAKh2B,GAAL,CAAS0G,YAAT;AACA,iBAAK1G,GAAL,CAASi2B,aAAT;AAEA,iBAAKC,8BAAL,CAAoC,KAAK3D,wBAAL,CAA8BnzB,KAAlE;AACD,W,CAED;;;;iBACA,uCAA8BA,KAA9B,EAAqC;AACnC,gBAAI+2B,OAAO,GAAU/f,MAAM,CAAChX,KAAK,CAACw0B,SAAP,CAAN,GAA0Bxd,MAAM,CAAChX,KAAK,CAACy0B,SAAP,CAAhC,GACnBzd,MAAM,CAAChX,KAAK,CAAC00B,kBAAP,CADa,GACgB1d,MAAM,CAAChX,KAAK,CAAC40B,oBAAP,CADtB,GAEnB5d,MAAM,CAAChX,KAAK,CAAC60B,OAAP,CAFa,GAEK7d,MAAM,CAAChX,KAAK,CAAC80B,MAAP,CAFX,GAGnB9d,MAAM,CAAChX,KAAK,CAAC20B,qBAAP,CAHR,CADmC,CAMnC;;AACA,iBAAKxB,wBAAL,CAA8BpkB,QAA9B,CAAuCgmB,mBAAvC,CAA2DjuB,QAA3D,CAAoEiwB,OAApE;AACA,iBAAKn2B,GAAL,CAAS0G,YAAT;AACA,iBAAK1G,GAAL,CAASi2B,aAAT;AAEA,iBAAKC,8BAAL,CAAoC,KAAK3D,wBAAL,CAA8BnzB,KAAlE;AACD,W,CAED;;;;iBACA,mCAA0BA,KAA1B,EAAiC;AAC/B,gBAAIg3B,SAAS,GAAUhgB,MAAM,CAAChX,KAAK,CAACg1B,YAAP,CAAN,GAA6Bhe,MAAM,CAAChX,KAAK,CAACk1B,aAAP,CAAnC,GACvBle,MAAM,CAAChX,KAAK,CAACm1B,SAAP,CADiB,GACGne,MAAM,CAAChX,KAAK,CAACi1B,WAAP,CADT,GAEvBje,MAAM,CAAChX,KAAK,CAACo1B,gBAAP,CAFiB,GAEUpe,MAAM,CAAChX,KAAK,CAACq1B,eAAP,CAFvC,CAD+B,CAK/B;;AACA,iBAAKlC,wBAAL,CAA8BpkB,QAA9B,CAAuCumB,cAAvC,CAAsDxuB,QAAtD,CAA+DkwB,SAA/D;AACA,iBAAKp2B,GAAL,CAAS0G,YAAT;AACA,iBAAK1G,GAAL,CAASi2B,aAAT;AAEA,iBAAKC,8BAAL,CAAoC,KAAK3D,wBAAL,CAA8BnzB,KAAlE;AACD,W,CAED;;;;iBACA,8BAAqBA,KAArB,EAA4B;AAC1B,gBAAIi3B,KAAK,GAAUjgB,MAAM,CAAChX,KAAK,CAACu1B,cAAP,CAAN,GAA+Bve,MAAM,CAAChX,KAAK,CAACw1B,UAAP,CAArC,GACnBxe,MAAM,CAAChX,KAAK,CAAC01B,aAAP,CADa,GACW1e,MAAM,CAAChX,KAAK,CAAC61B,MAAP,CADjB,GAEnB7e,MAAM,CAAChX,KAAK,CAACy1B,WAAP,CAFa,GAESze,MAAM,CAAChX,KAAK,CAAC21B,KAAP,CAFf,GAE+B3e,MAAM,CAAChX,KAAK,CAAC41B,WAAP,CAFxD,CAD0B,CAK1B;;AACA,iBAAKzC,wBAAL,CAA8BpkB,QAA9B,CAAuC+mB,UAAvC,CAAkDhvB,QAAlD,CAA2DmwB,KAA3D;AACA,iBAAKr2B,GAAL,CAAS0G,YAAT;AACA,iBAAK1G,GAAL,CAASi2B,aAAT;AAEA,iBAAKC,8BAAL,CAAoC,KAAK3D,wBAAL,CAA8BnzB,KAAlE;AACD,W,CAED;;;;iBACA,wCAA+BA,KAA/B,EAAsC;AAEpC,gBAAIk3B,WAAW,GAAUl3B,KAAK,CAACu0B,kBAAN,GAA2Bv0B,KAAK,CAAC81B,UAA1D;AACA,gBAAIqB,YAAY,GAAUn3B,KAAK,CAAC+0B,mBAAN,GAA4B/0B,KAAK,CAACs1B,cAA5D;AAEA,iBAAKnC,wBAAL,CAA8BpkB,QAA9B,CAAuCskB,oBAAvC,CAA4DvsB,QAA5D,CAAqEowB,WAArE;AACA,iBAAK/D,wBAAL,CAA8BpkB,QAA9B,CAAuCukB,qBAAvC,CAA6DxsB,QAA7D,CAAsEqwB,YAAtE;AACA,iBAAKv2B,GAAL,CAAS0G,YAAT;AACA,iBAAK1G,GAAL,CAASi2B,aAAT;AACA;;;;;;;yBA7XStE,yB,EAAyB,2H,EAAA,2I,EAAA,wI,EAAA,sJ,EAAA,uH,EAAA,0J,EAAA,gI;AAAA,O;;;cAAzBA,yB;AAAyB,8C;AAAA,iB;AAAA,e;AAAA,q+P;AAAA;AAAA;ACftC;;AACA;;AACE;;AACE;;AACE;;AAKF;;AACA;;AACE;;AAAyB;;AAAiB;;AAC5C;;AACF;;AACF;;AACA;;AACE;;AA4gCF;;AACA;;;;AA7gCU;;AAAA;;;;;;;;;wEDDGA,yB,EAAyB;gBALrC,uDAKqC;iBAL3B;AACT1gB,oBAAQ,EAAE,uBADD;AAETC,uBAAW,EAAE,oCAFJ;AAGTC,qBAAS,EAAE,CAAC,oCAAD;AAHF,W;AAK2B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEftC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAOA;;;;;;;AC0DkB;;AAIE;;AAGE;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAGC;;AACH;;AACF;;;;;;AAJI;;AAAA,qFAAc,SAAd,EAAc,eAAd;;AAEC;;AAAA;;;;;;;;AAiCD;;AAME;;AAGE;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAGC;;AACH;;AACF;;;;;;AAJI;;AAAA,qFAAc,SAAd,EAAc,eAAd;;AAEC;;AAAA;;;;;;;;AA/FjB;;AACE;;AACE;;AACE;;AACE;;AAAO;;AAAQ;;AAA4B;;AAAS;;AACpD;;AACA;;AAGuC;AAAA;;AAAA;;AAAA;AAAA;;AAIrC;;AACG;;AAAO;;AAEV;;AAIG;;AAAS;;AAEZ;;AACA;;AAIG;;AAAQ;;AAEX;;AACG;;AAAM;;AAEX;;AACF;;AACF;;AAEA;;AACE;;AACE;;AAAO;;AAAQ;;AAA6B;;AAAS;;AACrD;;AACA;;AAaF;;AACF;;AACF;;AAYA;;AAEA;;AACE;;AAIE;;AACE;;AACE;;AACE;;AACG;;AAAQ;;AAAkC;;AAAS;;AAEtD;;AACF;;AACA;;AACE;;AAeF;;AACF;;AACF;;AACF;;AAGF;;AAMF;;;;;;AA9GiC;;AAyCN;;AAAA;;AA4CI;;AAAA;;;;UDzF5BqlB,4B;AAgDX,8CAAoBl3B,MAApB,EAA4Cc,UAA5C,EAA4ED,WAA5E,EAA8GX,KAA9G,EAA6IU,KAA7I,EAAyKN,EAAzK,EAAwMH,cAAxM,EAAgPK,WAAhP,EAAkRD,UAAlR,EAAkTG,GAAlT,EAAyU;AAAA;;AAArT,eAAAV,MAAA,GAAAA,MAAA;AAAwB,eAAAc,UAAA,GAAAA,UAAA;AAAgC,eAAAD,WAAA,GAAAA,WAAA;AAAkC,eAAAX,KAAA,GAAAA,KAAA;AAA+B,eAAAU,KAAA,GAAAA,KAAA;AAA4B,eAAAN,EAAA,GAAAA,EAAA;AAA+B,eAAAH,cAAA,GAAAA,cAAA;AAAwC,eAAAK,WAAA,GAAAA,WAAA;AAAkC,eAAAD,UAAA,GAAAA,UAAA;AAAgC,eAAAG,GAAA,GAAAA,GAAA;AA9ClT,eAAAsc,IAAA,GAAgB,KAAhB;AACA,eAAAma,WAAA,GAAa,KAAb;AAGA,eAAAC,aAAA,GAAgB,CACd;AACE,kBAAM,CADR;AAEE,oBAAQ,OAFV;AAGE,uBAAW;AAHb,WADc,EAMd;AACE,kBAAM,CADR;AAEE,oBAAQ,MAFV;AAGE,uBAAW;AAHb,WANc,CAAhB;AAYA,eAAAC,iBAAA,GAAoB,CAClB;AACE,kBAAM,CADR;AAEE,oBAAQ,OAFV;AAGE,uBAAW;AAHb,WADkB,EAMlB;AACE,kBAAM,CADR;AAEE,oBAAQ,MAFV;AAGE,uBAAW;AAHb,WANkB,EAWlB;AACE,kBAAM,CADR;AAEE,oBAAQ,KAFV;AAGE,uBAAW;AAHb,WAXkB,CAApB;AAkBA,eAAAC,2BAAA,GAAsC,EAAtC;AACA,eAAAC,2BAAA,GAAsC,EAAtC;AAKA,eAAAp1B,cAAA,GAA0B,KAA1B;AACA,eAAAU,WAAA,GAAsB,EAAtB;AACA,eAAA20B,YAAA,GAAsB,KAAtB;AAI4U;;;;iBAE5U,oBAAQ;AAAA;;AACN,iBAAKvzB,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AACA,gBAAIuzB,oBAAoB,GAAWnzB,IAAI,CAACC,KAAL,CAAW,KAAKjE,EAAL,CAAQ4D,OAAR,CAAgB,uBAAhB,CAAX,CAAnC;;AAEA,gBAAG,KAAKD,MAAL,IAAe,IAAf,IAAuBwzB,oBAA1B,EAA+C;AAC7Cr2B,qBAAO,CAACyC,GAAR,CAAY,kBAAZ;AACA,mBAAK1B,cAAL,GAAsB,IAAtB;AACA,mBAAKu1B,qBAAL,GAH6C,CAI7C;AACD,aALD,MAKK;AACH,mBAAKv1B,cAAL,GAAsB,KAAtB;AACA,mBAAKw1B,gBAAL;AACAv2B,qBAAO,CAACyC,GAAR,CAAY,mBAAZ;AACA,mBAAK+zB,kBAAL,CAAwB/oB,QAAxB,CAAiC,eAAjC,EAAkDvI,UAAlD,CAA6D,KAAK8wB,aAAlE;AACA,mBAAKQ,kBAAL,CAAwB/oB,QAAxB,CAAiC,iBAAjC,EAAoDvI,UAApD,CAA+D,KAAK+wB,iBAApE,EALG,CAMH;AACD;;AAEDj2B,mBAAO,CAACyC,GAAR,CAAY,gBAAZ,EAA8B,KAAK1B,cAAnC;AACA,iBAAKrB,UAAL,CAAgBmG,YAAhB,CACCxB,SADD,CACW,UAAC5C,WAAD,EAAyB;AAChC,qBAAI,CAACA,WAAL,GAAmBA,WAAnB;AACH,aAHD;AAKD;;;iBAED,iCAAwB;AAAA;;AACtB,iBAAKtC,UAAL,CAAgBs3B,gCAAhB,CAAiD,KAAK5zB,MAAtD,EACCwB,SADD,CACW,UAACC,IAAD,EAAe;AACxBtE,qBAAO,CAACyC,GAAR,CAAY,qBAAZ,EAAmC6B,IAAnC;;AACA,qBAAI,CAACiyB,gBAAL,CAAsBjyB,IAAtB;;AACA,qBAAI,CAAC0xB,aAAL,GAAqB1xB,IAAI,CAACoyB,aAA1B;AACA,qBAAI,CAACT,iBAAL,GAAyB3xB,IAAI,CAACqyB,eAA9B,CAJwB,CAMxB;;AACA,qBAAI,CAACr3B,GAAL,CAAS0G,YAAT;;AAEA,mBAAI,IAAItD,CAAC,GAAE,CAAX,EAAcA,CAAC,GAAE,OAAI,CAACuzB,iBAAL,CAAuB1tB,MAAxC,EAA+C7F,CAAC,EAAhD,EAAmD;AAEjD,oBAAG,OAAI,CAACuzB,iBAAL,CAAuBvzB,CAAvB,EAA0ByN,OAA7B,EAAqC;AACnC,yBAAI,CAAC+lB,2BAAL,CAAiCjoB,IAAjC,CAAsC,OAAI,CAACgoB,iBAAL,CAAuBvzB,CAAvB,EAA0Bua,IAAhE;AACD;AACF;;AACD,mBAAI,IAAIva,CAAC,GAAE,CAAX,EAAcA,CAAC,GAAE,OAAI,CAACszB,aAAL,CAAmBztB,MAApC,EAA2C7F,CAAC,EAA5C,EAA+C;AAC7C,oBAAG,OAAI,CAACszB,aAAL,CAAmBtzB,CAAnB,EAAsByN,OAAzB,EAAiC;AAC/B,yBAAI,CAACgmB,2BAAL,CAAiCloB,IAAjC,CAAsC,OAAI,CAAC+nB,aAAL,CAAmBtzB,CAAnB,EAAsBua,IAA5D;AACD;AACF;;AAEDa,0BAAY,CAAC3Y,OAAb,CAAqB,oBAArB,EAA2Cb,IAAI,CAACsyB,kBAAhD;AACA,qBAAI,CAACR,YAAL,GAAkB,IAAlB;AAED,aAzBD;AA0BD;;;iBACD,4BAAmBnd,CAAnB,EAAoB;AAClB,iBAAK4d,cAAL,GAAoB/Y,YAAY,CAAChb,OAAb,CAAqB,oBAArB,CAApB;;AACA,gBAAGmW,CAAC,IAAE,KAAK4d,cAAX,EAA0B;AACxB,mBAAKT,YAAL,GAAkB,IAAlB;AACD;AACF;;;iBAGD,0BAAiBzxB,IAAjB,EAAwB;AACtB,iBAAK6xB,kBAAL,GAA0B,KAAKp3B,WAAL,CAAiBiN,KAAjB,CAAuB;AAC/CyqB,0BAAY,EAAE,CAACnyB,IAAI,GAAGA,IAAI,CAACmyB,YAAR,GAAuB,IAA5B,CADiC;AAE/CxqB,8BAAgB,EAAE,CAAC,KAAKC,SAAL,IAAkB,IAAlB,GAAyB,KAAKA,SAA9B,GAA0C,IAA3C,CAF6B;AAG/CqqB,gCAAkB,EAAE,CAACjyB,IAAI,GAAGA,IAAI,CAACiyB,kBAAR,GAA6B,EAAlC,CAH2B;AAI/CF,2BAAa,EAAE,CAAC/xB,IAAI,GAAG,KAAKoyB,aAAL,CAAmBpyB,IAAI,CAAC+xB,aAAxB,CAAH,GAA4C,EAAjD,CAJgC;AAM/CC,6BAAe,EAAE,CAAChyB,IAAI,GAAG,KAAKoyB,aAAL,CAAmBpyB,IAAI,CAACgyB,eAAxB,CAAH,GAA8C,EAAnD;AAN8B,aAAvB,CAA1B;AASD;;;iBAED,2BAAkBxmB,OAAlB,EAA2B6mB,QAA3B,EAAqC;AAAA;;AACnCA,oBAAQ,CAAC7mB,OAAT,GAAmBA,OAAnB;AACA,iBAAKimB,YAAL,GAAkB,IAAlB;AACA,gBAAMa,SAAS,GAAG,KAAKT,kBAAL,CAAwBzxB,GAAxB,CAA4B,eAA5B,CAAlB;AACAkyB,qBAAS,CAACzxB,QAAV,CAAmB,KAAKuxB,aAAL,CAAmB,KAAKf,aAAxB,CAAnB;;AACA,gBAAG7lB,OAAH,EAAW;AACT,mBAAKgmB,2BAAL,CAAiCloB,IAAjC,CAAsC+oB,QAAQ,CAAC/Z,IAA/C;AACD,aAFD,MAGI;AACF,mBAAKkZ,2BAAL,CAAiCpN,OAAjC,CAA0C,UAACzgB,IAAD,EAAOkC,KAAP,EAAiB;AACzD,oBAAGlC,IAAI,KAAK0uB,QAAQ,CAAC/Z,IAArB,EAA0B;AACxB,yBAAI,CAACkZ,2BAAL,CAAiClgB,MAAjC,CAAwCzL,KAAxC,EAA8C,CAA9C;AACD;AACF,eAJD;AAKD;AACF;;;iBAED,0BAAiB2F,OAAjB,EAA0B6mB,QAA1B,EAAoC;AAAA;;AAClCh3B,mBAAO,CAACyC,GAAR,CAAY0N,OAAZ;AACAnQ,mBAAO,CAACyC,GAAR,CAAYu0B,QAAZ;AACAA,oBAAQ,CAAC7mB,OAAT,GAAmBA,OAAnB;AACA,gBAAM8mB,SAAS,GAAG,KAAKT,kBAAL,CAAwBzxB,GAAxB,CAA4B,iBAA5B,CAAlB;AACAkyB,qBAAS,CAACzxB,QAAV,CAAmB,KAAKuxB,aAAL,CAAmB,KAAKd,iBAAxB,CAAnB;;AACA,gBAAG9lB,OAAH,EAAW;AACT,mBAAK+lB,2BAAL,CAAiCjoB,IAAjC,CAAsC+oB,QAAQ,CAAC/Z,IAA/C;AACAjd,qBAAO,CAACyC,GAAR,CAAY,SAAZ,EAAsBu0B,QAAQ,CAAC/Z,IAA/B;AACA,mBAAKmZ,YAAL,GAAkB,IAAlB;AACD,aAJD,MAKI;AACF,mBAAKF,2BAAL,CAAiCnN,OAAjC,CAA0C,UAACzgB,IAAD,EAAOkC,KAAP,EAAiB;AACzD,oBAAGlC,IAAI,KAAK0uB,QAAQ,CAAC/Z,IAArB,EAA0B;AACxB,yBAAI,CAACiZ,2BAAL,CAAiCjgB,MAAjC,CAAwCzL,KAAxC,EAA8C,CAA9C;;AACAxK,yBAAO,CAACyC,GAAR,CAAY,SAAZ,EAAsBu0B,QAAQ,CAAC/Z,IAA/B;AACA,yBAAI,CAACmZ,YAAL,GAAkB,IAAlB;AACD;AACF,eAND;AAOD;AACF;;;iBAGD,uBAAcc,UAAd,EAA0B;AACxB,gBAAMC,eAAe,GAAG,oDAAK,CAC3B,0DAAO,UAAAH,QAAQ;AAAA,qBAAIA,QAAQ,CAAC7mB,OAAb;AAAA,aAAf,CAD2B,EAE3B,2DAAQ,UAAA6mB,QAAQ;AAAA,qBAAIA,QAAQ,CAAC/Z,IAAb;AAAA,aAAhB,CAF2B,CAAL,EAGrBia,UAHqB,CAAxB;AAIA,mBAAOC,eAAe,CAAChiB,IAAhB,CAAqB,GAArB,CAAP;AACD;;;iBAED,uBAAczW,KAAd,EAAqB;AACnB,mBACE8J,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BjK,KAA/B,MAA0C,iBAA1C,IACAwE,IAAI,CAAC0F,SAAL,CAAelK,KAAf,MAA0B,IAF5B;AAID;;;iBAED,4BAAmB;AACjB,iBAAKkd,IAAL,GAAY,CAAC,KAAKA,IAAlB;AACD;;;iBAED,kBAAS;AACP,iBAAKhd,MAAL,CAAY8Q,QAAZ,CAAqB,yDAArB;AACD;;;iBAED,oBAAW;AAAA;;AAET,gBAAI0nB,cAAc,GAAG;AACpB;AACC;AACA,wBAAS,KAAKv0B,MAHK;AAInB,oCAAsB,KAAK2zB,kBAAL,CAAwB93B,KAAxB,CAA8Bk4B,kBAJjC;AAKnB,+BAAiB,KAAKZ,aALH;AAOnB,iCAAmB,KAAKC,iBAPL;AASnB,6BAAe;AATI,aAArB;;AAYA,gBAAI,KAAKO,kBAAL,CAAwBa,OAA5B,EAAqC;AACnC;AACD;;AAED,gBAAI,KAAKt2B,cAAT,EAAyB;AACvB,mBAAK5B,UAAL,CAAgBm4B,oBAAhB,CAAqC,KAAKz0B,MAA1C,EAAkDu0B,cAAlD,EACG/yB,SADH,CACa,UAACM,IAAD,EAAe;AACxB3E,uBAAO,CAACyC,GAAR,CAAYkC,IAAZ,EADwB,CAExB;AACA;;AACA,uBAAI,CAACnF,KAAL,CAAW0L,IAAX,CAAgB,0BAAhB,EAA4C,IAA5C,EAAkD;AAAEG,0BAAQ,EAAE,IAAZ;AAAkBC,kCAAgB,EAAE,KAApC;AAA2CC,oCAAkB,EAAE;AAA/D,iBAAlD,EAJwB,CAKxB;;AACD,eAPH,EAOK,UAAAhH,GAAG,EAAI;AACRvE,uBAAO,CAACyC,GAAR,CAAY8B,GAAZ;AACD,eATH;AAUD,aAXD,MAWO;AACL,mBAAKpF,UAAL,CAAgBo4B,oBAAhB,CAAqC,KAAK10B,MAA1C,EAAkDu0B,cAAlD,EACG/yB,SADH,CACa,UAACM,IAAD,EAAe;AACxB3E,uBAAO,CAACyC,GAAR,CAAYkC,IAAZ,EADwB,CAEzB;AACD;AACC;;AACC,uBAAI,CAACnF,KAAL,CAAW0L,IAAX,CAAgB,wBAAhB,EAA0C,IAA1C,EAAgD;AAAEG,0BAAQ,EAAE,IAAZ;AAAkBC,kCAAgB,EAAE,KAApC;AAA2CC,oCAAkB,EAAE;AAA/D,iBAAhD;AACD,eAPH,EAOK,UAAAhH,GAAG,EAAI;AACRvE,uBAAO,CAACyC,GAAR,CAAY8B,GAAZ;AACD,eATH;AAUD;;AACD,iBAAKkL,QAAL;AACD;;;iBAED,uBAAW,CACV;;;iBACD,oBAAQ;AACN,iBAAKvQ,EAAL,CAAQiG,OAAR,CAAgB,uBAAhB,EAAyC,IAAzC;AACA,iBAAKjG,EAAL,CAAQiG,OAAR,CAAgB,6BAAhB,EAA8C,IAA9C;AACA,iBAAKpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACA,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,oCAArB;AACD;;;;;;;yBA9OUomB,4B,EAA4B,uH,EAAA,sI,EAAA,6I,EAAA,+H,EAAA,wI,EAAA,0J,EAAA,sJ,EAAA,2H,EAAA,2I,EAAA,gI;AAAA,O;;;cAA5BA,4B;AAA4B,kD;AAAA,iB;AAAA,e;AAAA,o5C;AAAA;AAAA;ACrBzC;;AACA;;AACI;;AACE;;AACE;;AAKF;;AACA;;AACE;;AAAyB;;AAAG;;AAAgB;;AAAI;;AAClD;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACE;;AACA;;AAAuB;;AAAiB;;AACxC;;AACF;;AACA;;AACE;;AA+GF;;AACF;;AACA;;AAMQ;;AAA4C;AAAA,qBAAS,IAAArjB,MAAA,EAAT;AAAiB,aAAjB;;AAC1C;;AACF;;AACA;;AAA0C;AAAA,qBAAS,IAAAgE,QAAA,EAAT;AAAmB,aAAnB;;AAGxC;;AACF;;AACF;;AACR;;AACF;;AACA;;;;AAlIe;;AAAA;;AA0H6D;;AAAA;;;;;;;;;wED9HjEqf,4B,EAA4B;gBALxC,uDAKwC;iBAL9B;AACTvlB,oBAAQ,EAAE,2BADD;AAETC,uBAAW,EAAE,wCAFJ;AAGTC,qBAAS,EAAE,CAAC,wCAAD;AAHF,W;AAK8B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AErBzC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACEI;;AAAwB;AAAA;;AAAA;;AAAA;AAAA;;AACtB;;AAAU;;AAAK;;AACjB;;;;;;;;AACA;;AAAwB;AAAA;;AAAA;;AAAA;AAAA;;AACtB;;AAAU;;AAAK;;AACjB;;;;;;AAEF;;AACE;;AACE;;AACF;;AACF;;;;;;;;AAII;;AAWE;;AAA8B;;AAA8B;;AAC5D;;AACE;;AACE;;AAEE;AAAA;;AAAA;;AAAA;AAAA,aAA4B,YAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,WAA5B;;AAED;;AACH;;AACF;;AACA;;AACE;;AAGE;AAAA;;AAAA;;AAAA;AAAA;;AAGA;;AACF;;AACF;;AACF;;;;;;AAhBQ;;AAAA;;AAWF;;AAAA;;;;UDnBC+mB,sB;AAmBX,wCACkC7yB,IADlC,EAESyW,SAFT,EAGUlc,EAHV,EAIUN,MAJV,EAKUG,cALV,EAMUI,UANV,EAOUs4B,eAPV,EAQUn4B,GARV,EAQgC;AAAA;;AAPE,eAAAqF,IAAA,GAAAA,IAAA;AACzB,eAAAyW,SAAA,GAAAA,SAAA;AACC,eAAAlc,EAAA,GAAAA,EAAA;AACA,eAAAN,MAAA,GAAAA,MAAA;AACA,eAAAG,cAAA,GAAAA,cAAA;AACA,eAAAI,UAAA,GAAAA,UAAA;AACA,eAAAs4B,eAAA,GAAAA,eAAA;AACA,eAAAn4B,GAAA,GAAAA,GAAA;AAxBV,eAAAgc,MAAA,GAAkB,KAAlB;AACA,eAAAoc,mBAAA,GAA8B;AAC5BC,oBAAQ,EAAE,CADkB;AAE5BC,uBAAW,EAAE,GAFe;AAG5BC,wBAAY,EAAE;AAHc,WAA9B;AAMA,eAAA9nB,KAAA,GAAa,CAAb;AAEA,eAAAhK,GAAA,GAAc;AAAE8D,kBAAM,EAAE,KAAV;AAAiB2R,iBAAK,EAAE;AAAxB,WAAd;AACA,eAAAD,WAAA,GAAuB,IAAvB;AACA,eAAAuc,UAAA,GAAsB,IAAtB;AAcI;;;;iBAEJ,oBAAQ;AACN,iBAAKj1B,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AACA9C,mBAAO,CAACyC,GAAR,CAAY,sBAAZ,EAAoC,KAAKkC,IAAzC;AACA,iBAAK2W,MAAL,GAAc,KAAK3W,IAAL,CAAUgX,WAAxB;AACA,iBAAKrc,GAAL,CAAS0G,YAAT;AACD;;;iBAED,2BAAkB;AAChB;AACA,iBAAK+xB,YAAL,CAAkBC,GAAlB,CAAsB,UAAtB,EAAkC,CAAlC;AACA,iBAAKD,YAAL,CAAkBE,KAAlB;AACD;;;iBAED,wBAAe;AACbj4B,mBAAO,CAACyC,GAAR,CAAY,KAAKs1B,YAAL,CAAkBG,SAAlB,EAAZ;AACA,iBAAKC,QAAL,GAAgB,KAAKJ,YAAL,CAAkBG,SAAlB,EAAhB;;AACA,gBAAI,KAAKC,QAAL,CAAczvB,QAAd,GAAyB8E,QAAzB,CAAkC,uBAAlC,CAAJ,EAAgE;AAC9D,mBAAK+N,WAAL,GAAmB,KAAnB;AACD,aAFD,MAEO;AACL,mBAAKA,WAAL,GAAmB,IAAnB;AACD;AACF;;;iBAED,qBAAY;AACVvb,mBAAO,CAACyC,GAAR,CAAY,eAAZ;AACD;;;iBAED,0BAAiB;AACf,iBAAKs1B,YAAL,CAAkBE,KAAlB;AACD;;;iBAED,mBAAU;AACR,gBAAMG,UAAU,GAAG,KAAKL,YAAL,CAAkBG,SAAlB,EAAnB;AACA,iBAAKG,YAAL,GAAoBD,UAApB;AACD;;;iBAED,kBAAS;AACP,gBAAI,KAAKzzB,IAAL,CAAU+W,MAAV,KAAqB,uBAAzB,EAAkD;AAChD,mBAAKN,SAAL,CAAe7L,KAAf,CAAqB,KAAKxJ,GAA1B;AACD,aAFD,MAEO;AACL,mBAAKqV,SAAL,CAAe7L,KAAf,CAAqB;AAAEiM,qBAAK,EAAE,KAAKtc,EAAL,CAAQ4D,OAAR,CAAgB,aAAhB,IAA+B,KAAK5D,EAAL,CAAQ4D,OAAR,CAAgB,aAAhB,CAA/B,GAA8D;AAAvE,eAArB;AACA,mBAAK5D,EAAL,CAAQiG,OAAR,CAAgB,QAAhB,EAA0B,KAA1B;AACD;AACF;;;iBAED,iBAAQ;AACN,gBAAI,KAAKR,IAAL,CAAU+W,MAAV,KAAqB,uBAAzB,EAAkD;AAChD,mBAAKN,SAAL,CAAe7L,KAAf,CAAqB,KAAKxJ,GAA1B;AACD,aAFD,MAEO;AACL,mBAAKqV,SAAL,CAAe7L,KAAf,CAAqB;AAAEiM,qBAAK,EAAE,KAAK2c;AAAd,eAArB,EADK,CAEL;AACD;AACF,W,CAED;AACA;AACA;AAEA;AACA;;;;iBAEA,oBAAW;AAAA;;AACTn4B,mBAAO,CAACyC,GAAR,CAAY,KAAKs1B,YAAL,CAAkBG,SAAlB,EAAZ;AACA,gBAAIvzB,IAAI,GAAQ,EAAhB;AACA,gBAAI2zB,WAAW,GAAQ,EAAvB;AACAt4B,mBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2B,KAAKkC,IAAhC;;AACA,gBAAI,KAAKA,IAAL,CAAU+W,MAAV,KAAqB,uBAAzB,EAAkD;AAChD4c,yBAAW,CAACz1B,MAAZ,GAAqB,KAAK8B,IAAL,CAAU4H,SAA/B;AACA,mBAAKgsB,cAAL,CAAoBD,WAAW,CAACz1B,MAAhC;AACD,aAHD,MAGO;AACL,kBAAI2D,UAAU,GAAG,KAAK7B,IAAL,CAAU6B,UAA3B;AACA,mBAAKrH,UAAL,CAAgBq5B,mBAAhB,CAAoChyB,UAApC,EAAgDnC,SAAhD,CAA0D,UAAC0B,GAAD,EAAS;AACjE/F,uBAAO,CAACyC,GAAR,CAAY,yBAAZ,EAAuCsD,GAAvC;AACApB,oBAAI,CAAC4H,SAAL,GAAiBxG,GAAjB;AACD,eAHD;AAIA,mBAAKA,GAAL,GAAW;AAAE8D,sBAAM,EAAE,IAAV;AAAgB2R,qBAAK,EAAE,KAAKuc,YAAL,CAAkBG,SAAlB;AAAvB,eAAX;AACD;;AAEDI,uBAAW,CAAC9xB,UAAZ,GAAyB,KAAK7B,IAAL,CAAU6B,UAAnC;AACA8xB,uBAAW,CAAC1b,YAAZ,GAA2B,KAAKjY,IAAL,CAAU6B,UAAV,GAAuB,WAAlD;AACA8xB,uBAAW,CAACzb,YAAZ,GAA2B,IAA3B;AACAyb,uBAAW,CAACxb,QAAZ,GAAuB,YAAvB;AACAwb,uBAAW,CAACtb,QAAZ,GAAuB,WAAvB;AAEA,gBAAMyb,OAAO,GAAG,KAAKV,YAAL,CAAkBG,SAAlB,CAA4B,WAA5B,CAAhB;AACA,iBAAKh5B,EAAL,CAAQiG,OAAR,CAAgB,aAAhB,EAA8BszB,OAA9B;AACA,gBAAMC,KAAK,GAAG7J,IAAI,CAAC4J,OAAO,CAACE,SAAR,CAAkB,yBAAyBpwB,MAA3C,CAAD,CAAlB;AAAA,gBACEqwB,OAAO,GAAG,IAAI5J,UAAJ,CAAe0J,KAAK,CAACnwB,MAArB,CADZ;;AAEA,iBAAK,IAAI7F,CAAC,GAAG,CAAR,EAAWm2B,GAAG,GAAGH,KAAK,CAACnwB,MAA5B,EAAoC7F,CAAC,GAAGm2B,GAAxC,EAA6C,EAAEn2B,CAA/C,EAAkD;AAChDk2B,qBAAO,CAACl2B,CAAD,CAAP,GAAag2B,KAAK,CAACzJ,UAAN,CAAiBvsB,CAAjB,CAAb;AACD;;AACD,gBAAMo2B,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACH,OAAD,CAAT,EAAoB;AAAE7b,kBAAI,EAAE;AAAR,aAApB,CAAb;AACApY,gBAAI,CAAC,aAAD,CAAJ,GAAsB2zB,WAAtB;AACA3zB,gBAAI,CAACq0B,cAAL,GAAsB,GAAtB;AAEA,gBAAMtc,UAAU,GAAG,IAAIC,QAAJ,EAAnB;AACAD,sBAAU,CAACS,MAAX,CAAkB,MAAlB,EAA0Bja,IAAI,CAAC0F,SAAL,CAAejE,IAAf,CAA1B;AACA3E,mBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoBkC,IAApB;AACA+X,sBAAU,CAACS,MAAX,CAAkB,MAAlB,EAA0B2b,IAA1B;AACApc,sBAAU,CAACS,MAAX,CAAkB,SAAlB,EAA6B,YAA7B;AAEA,iBAAKhe,UAAL,CAAgB85B,eAAhB,CAAgCvc,UAAhC,EAA4CrY,SAA5C,CACE,UAAC60B,EAAD,EAAQ;AACNl5B,qBAAO,CAACyC,GAAR,CAAYy2B,EAAZ;;AACA,kBAAIA,EAAJ,EAAQ;AACN,uBAAI,CAAC3pB,KAAL;;AACA,uBAAI,CAACqM,IAAL,GAAY,IAAZ;AACA,uBAAI,CAAC7V,GAAL,GAAWmzB,EAAX;AACD;AACF,aARH,EASE,UAAC30B,GAAD,EAAS;AACP,qBAAI,CAACgL,KAAL;;AACA,qBAAI,CAACxJ,GAAL,GAAW,KAAX;AACD,aAZH;;AAcA,gBAAI,KAAKpB,IAAL,CAAU+W,MAAV,KAAqB,uBAAzB,EAAkD;AAChD,mBAAKJ,MAAL,GAAc,KAAd;AACD,aAFD,MAEO;AACL,mBAAK/L,KAAL;AACD;;AACDvP,mBAAO,CAACyC,GAAR,CAAY,KAAK6Y,MAAjB;AACA,iBAAKpc,EAAL,CAAQiG,OAAR,CAAgB,YAAhB,EAA8B,IAA9B,EA5DS,CA6DX;AACA;AACA;AACC;;;iBAED,wBAAetC,MAAf,EAA4B;AAAA;;AAC1B,iBAAK1D,UAAL,CAAgBg6B,wBAAhB,CAAyCt2B,MAAzC,EAAiDwB,SAAjD,CAA2D,UAACC,IAAD,EAAU;AACnEtE,qBAAO,CAACyC,GAAR,CAAY,kBAAZ,EAAgC6B,IAAhC;AACA,qBAAI,CAAC80B,6BAAL,GAAqC90B,IAArC;;AACA,qBAAI,CAAC+0B,uBAAL;AACD,aAJD;AAKD;;;iBAED,mCAA0B;AACxB,gBAAIC,WAAW,GAAG;AAChBz2B,oBAAM,EAAE,KAAKA,MADG;AAEhBiH,oBAAM,EAAE;AAFQ,aAAlB;AAIA,iBAAK3K,UAAL,CAAgBo6B,gBAAhB,CAAiCD,WAAjC,EAA8Cj1B,SAA9C,CAAwD,UAACm1B,UAAD,EAAgB;AACtEx5B,qBAAO,CAACyC,GAAR,CAAY,eAAZ,EAA6B+2B,UAA7B;AACD,aAFD;AAGD;;;;;;;yBA7KUhC,sB,EAAsB,gEAoBvB,wEApBuB,C,EAoBR,sI,EAAA,0J,EAAA,uH,EAAA,8I,EAAA,2I,EAAA,iL,EAAA,gI;AAAA,O;;;cApBdA,sB;AAAsB,2C;AAAA;AAAA;sEAEtB,kE,EAAY,I;;;;;;;;;;;;;;AC1BzB;;AACE;;AACE;;AAGA;;AAGF;;AACA;;AAMA;;AACE;;AACE;;AAoDF;;AACF;;AACF;;;;AArEgD;;AAAA;;AAGD;;AAAA;;AAI1B;;AAAA;;AAQuB;;AAAA;;;;;;;;;wEDO/BA,sB,EAAsB;gBALlC,uDAKkC;iBALxB;AACTjnB,oBAAQ,EAAE,oBADD;AAETC,uBAAW,EAAE,iCAFJ;AAGTC,qBAAS,EAAE,CAAC,iCAAD;AAHF,W;AAKwB,U;;;;oBAoB9B,oD;qBAAO,wE;;;;;;;;;;;;;;;;;;AAlBesnB,sBAAY,EAAE,CAAF;kBAApC,uDAAoC;mBAA1B,kE;AAA0B,WAAE;;;;;;;;;;;;;;;;;;;AE1BzC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;UAgBa0B,8B;AAQX,gDACU56B,MADV,EAEUD,MAFV,EAGUM,EAHV,EAIUH,cAJV,EAKUI,UALV,EAMUO,UANV,EAOUiX,GAPV,EAQU/F,aARV,EAQsC;AAAA;;AAP5B,eAAA/R,MAAA,GAAAA,MAAA;AACA,eAAAD,MAAA,GAAAA,MAAA;AACA,eAAAM,EAAA,GAAAA,EAAA;AACA,eAAAH,cAAA,GAAAA,cAAA;AACA,eAAAI,UAAA,GAAAA,UAAA;AACA,eAAAO,UAAA,GAAAA,UAAA;AACA,eAAAiX,GAAA,GAAAA,GAAA;AACA,eAAA/F,aAAA,GAAAA,aAAA;AAdV,eAAAnP,WAAA,GAAsB,EAAtB;AACA,eAAAma,IAAA,GAAgB,KAAhB;AAGA,eAAAN,MAAA,GAAkB,KAAlB;AAWI;;;;iBAEJ,oBAAQ;AAAA;;AACN,iBAAKzY,MAAL,GAAc,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAd;AAEA,iBAAKpD,UAAL,CAAgBmG,YAAhB,CAA6BxB,SAA7B,CAAuC,UAAC5C,WAAD,EAAyB;AAC9D,qBAAI,CAACA,WAAL,GAAmBA,WAAnB;AACD,aAFD;AAGD;;;iBAED,mBAAUkD,IAAV,EAAsB;AAAA;;AACpB,gBAAIwN,QAAJ;;AACA,gBAAIxN,IAAI,KAAKmR,SAAT,IAAsBnR,IAAI,KAAK,IAAnC,EAAyC;AACvCwN,sBAAQ,GAAG;AACTwJ,2BAAW,EAAE,KADJ;AAETD,sBAAM,EAAE;AAFC,eAAX;AAID;;AACD,gBAAI,CAAC,KAAKE,IAAV,EAAgB;AACd,kBAAIR,SAAS,GAAsB,KAAKvc,MAAL,CAAYqM,IAAZ,CACjC,8HADiC,EAEjC;AACE2Q,qBAAK,EAAE,OADT;AAEEC,4BAAY,EAAE,IAFhB;AAGEnX,oBAAI,EAAEA,IAAI,KAAKmR,SAAT,IAAsBnR,IAAI,KAAK,IAA/B,GAAsCwN,QAAtC,GAAiDxN;AAHzD,eAFiC,CAAnC;AAQAyW,uBAAS,CAACW,WAAV,GAAwB1X,SAAxB,CAAkC,UAAC0B,GAAD,EAAS;AACzC,uBAAI,CAAC6V,IAAL,GAAY,OAAI,CAAC1c,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ,CADyC,CAEzC;AACE;AACF;AACD,eALD;AAMD;AACF;;;iBACD,wBAAeyJ,SAAf,EAA+B;AAAA;;AAC7B,iBAAKoK,GAAL,CAASwiB,wBAAT,CAAkC,KAAKt2B,MAAvC,EAA+CwB,SAA/C,CAAyD,UAACC,IAAD,EAAU;AACjE,qBAAI,CAAC80B,6BAAL,GAAqC90B,IAArC;;AACA,qBAAI,CAAC+0B,uBAAL;AACD,aAHD;AAID;;;iBACD,kBAAS;AACP,iBAAK/d,MAAL,GAAc,IAAd;AACA,iBAAK1K,aAAL,CAAmB8oB,wBAAnB,GAA8Cr1B,SAA9C,CAAwD,UAAC8N,QAAD,EAAc;AACpEnS,qBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2B0P,QAA3B;AACD,aAFD;AAGD;;;iBACD,mCAA0B;AACxB,gBAAImnB,WAAW,GAAG;AAChBz2B,oBAAM,EAAE,KAAKA,MADG;AAEhBiH,oBAAM,EAAE;AAFQ,aAAlB;AAIA,iBAAK6M,GAAL,CAAS4iB,gBAAT,CAA0BD,WAA1B,EAAuCj1B,SAAvC,CAAiD,UAACm1B,UAAD,EAAgB;AAC/Dx5B,qBAAO,CAACyC,GAAR,CAAY,eAAZ,EAA6B+2B,UAA7B;AACD,aAFD;AAGD;;;iBAED,kBAAS;AACP,iBAAK56B,MAAL,CAAY8Q,QAAZ,CAAqB,CAAC,KAAKjO,WAAN,CAArB;AACD;;;iBAED,sBAAa;AACX,iBAAKvC,EAAL,CAAQoe,UAAR,CAAmB,6BAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,sBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,oBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,qBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,qBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,uBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,sBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,qBAAnB;AAEA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,0BAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,oBAAnB;AAEA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,sBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,4BAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,0BAAnB;AAEA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,wBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,yBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,kCAAnB;AAEA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,4BAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,sBAAnB;AAEA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,sBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,oBAAnB;AAEA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,yBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,wBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,QAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,YAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,QAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,oBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,qBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,qBAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,KAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,aAAnB;AACA,iBAAKpe,EAAL,CAAQoe,UAAR,CAAmB,QAAnB;AAEAuK,0BAAc,CAACoQ,KAAf;AACA,iBAAKl5B,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACA,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,CAAC,yCAAD,CAArB;AACD;;;iBAED,oBAAW;AAAA;;AACT,gBAAIiG,OAAO,GAAG;AACZpJ,uBAAS,EAAE,KAAK1J,MADJ;AAEZ82B,uBAAS,EAAE,MAFC;AAGZC,qBAAO,EAAE;AAHG,aAAd;AAKA,iBAAKjjB,GAAL,CAASkjB,WAAT,CAAqBlkB,OAArB,EAA8BtR,SAA9B,CACE,UAACM,IAAD,EAAe;AACb3E,qBAAO,CAACyC,GAAR,CAAY,QAAZ,EAAsBkC,IAAtB;;AACA,qBAAI,CAAC4zB,cAAL,CAAoB,OAAI,CAAC11B,MAAzB;;AACA,qBAAI,CAAC3D,EAAL,CAAQiG,OAAR,CAAgB,YAAhB,EAA8B,IAA9B;;AACA,qBAAI,CAACpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;;AACA,kBAAIuM,QAAQ,GAAQ;AAClBnF,qBAAK,EAAErI,IAAI,CAACqI,KADM;AAElBxG,0BAAU,EAAE7B,IAAI,CAAC6B,UAFC;AAGlBozB,uBAAO,EAAEj1B,IAAI,CAACi1B,OAHI;AAIlBje,2BAAW,EAAE,IAJK;AAKlBD,sBAAM,EAAE;AALU,eAApB;;AAOA,qBAAI,CAACoe,SAAL,CAAe3nB,QAAf;AACD,aAdH,EAeE,UAAC5N,GAAD,EAAc,CAAE,CAflB;AAiBD;;;;;;;yBAjJUk1B,8B,EAA8B,mI,EAAA,uH,EAAA,0J,EAAA,sJ,EAAA,iL,EAAA,sI,EAAA,2I,EAAA,yJ;AAAA,O;;;cAA9BA,8B;AAA8B,sD;AAAA,iB;AAAA,e;AAAA,i7B;AAAA;AAAA;AChB3C;;AACE;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AAAyB;;AAAG;;AAAe;;AAAI;;AACjD;;AACF;;AACA;;AACE;;AACE;;AAEE;AAAA,qBAAS,IAAAK,SAAA,EAAT;AAAoB,aAApB;;AAIA;;AACE;;AACE;;AACE;;AAEA;;AACE;;AAAsB;;AAAQ;;AAC9B;;AACA;;AACA;;AACE;;AAGF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AAAgC;;AAAE;;AACpC;;AACF;;AAEA;;AACE;;AAKE;;AACE;;AACE;;AAAwB;AAAA,qBAAS,IAAArjB,QAAA,EAAT;AAAmB,aAAnB;;AACtB;;AAMA;;AACE;;AAAsB;;AAAU;;AAChC;;AACA;;AACA;;AACE;;AAGF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AAAmC;AAAA,qBAAS,IAAAhE,MAAA,EAAT;AAAiB,aAAjB;;AAAmB;;AAAI;;AAC1D;;AAEA;;AAME;AAAA,qBAAS,IAAAsnB,MAAA,EAAT;AAAiB,aAAjB;;AAEA;;AACF;;AACF;;AACF;;AACF;;;;AA7EU;;AAAA;;AAiCA;;AAAA;;AAqCF;;AAAA;;;;;;;;;wEDrEKN,8B,EAA8B;gBAL1C,uDAK0C;iBALhC;AACTlpB,oBAAQ,EAAE,+BADD;AAETC,uBAAW,EAAE,4CAFJ;AAGTC,qBAAS,EAAE,CAAC,4CAAD;AAHF,W;AAKgC,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEhB3C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;AC+Bc;;AACE;;AACE;;AAAoB;;AAAM;;AAAQ;;AAClC;;AAA+B;;AAAe;;AAC9C;;AAAoB;;AAAU;;AAAQ;;AACtC;;AAA+B;;AAAa;;AAC9C;;AACA;;AACE;;AAAkB;;AAAiE;AAAA;;AAAA;;AAAA;AAAA;;AAC7C;;AAAU;;AAClD;;AACF;;;;;;AARmC;;AAAA;;AAEA;;AAAA;;AAGM;;AAAA;;;;;;AAenC;;AAAqD;;AAAK;;;;;;AAE1D;;AAAqD;;AAAK;;;;;;AAI9D;;AAEE;;AACF;;;;;;AAeA;;AAEA;;AACA;;;;;;AASU;;AACE;;AACE;;;;;;;;;;AACF;;AACF;;;;;;AAFI;;AAAA;;;;;;AAGJ;;AACE;;AAGF;;;;;;AADI;;AAAA;;;;;;AAXV;;AACE;;AACE;;AACE;;AAKA;;AAKA;;AACE;;AACE;;;;;;;;AAGF;;AACA;;AAA6B;;AAAsB;;AACrD;;AACF;;AACF;;AACF;;;;;;AAvBmD;;AAGvB;;AAAA;;AAKhB;;AAAA;;AAOF;;AAAA;;AAI2B;;AAAA;;;;;;;;AAvC3C;;AACE;;AACE;;AACF;;AAAwB;;AAAW;;AAGjC;;AAA8C;AAAA;;AAAA;;AAAA;AAAA,aAA4B,QAA5B,EAA4B;AAAA;;AAAA;;AAAA,sCACnD,QAAAupB,kBAAA,KAAuB,WAAvB,EAAoCt7B,KADe;AAChB,WADZ,EAA4B,OAA5B,EAA4B;AAAA;;AAAA;;AAAA;AAAA,WAA5B;;AAA9C;;AAKF;;AAIE;;AACJ;;AAEE;;AACE;;AACE;;AAwBF;;AACF;;AACF;;;;;;;;AAtCmC;;AAAA,wGAA6B,iBAA7B,EAA6B,IAA7B;;AAIhC;;AAAA;;AAQkC;;AAAA;;;;;;AAmC/B;;AAAyE;;AAAY;;;;;;AAAzE;;AAA6D;;AAAA;;;;;;AAG7E;;AAEE;;AACF;;;;;;;;AAbF;;AACE;;AAEA;;AAAwB;;AAAU;;AAEhC;;AAAuC;AAAA;;AAAA;;AAAA;AAAA;;AACrC;;AAAqB;;AAAM;;AAC3B;;AACF;;AAEF;;AAIA;;AAEF;;;;;;AAX2C;;AAAA;;AAEe;;AAAA;;AAIrD;;AAAA;;;;;;AAcH;;AAEE;;AACF;;;;;;;;AAVF;;AACE;;AACA;;AAAwB;;AAAQ;;AAE9B;;AACyC;AAAA;;AAAA;;AAAA;AAAA;;AADzC;;AAGF;;AAIA;;AACF;;;;;;AAJK;;AAAA;;;;;;AAkBH;;AAEE;;AACF;;;;;;AAWA;;AAEE;;AACF;;;;;;;;AAXF;;AACE;;AACA;;AAAwB;;AAAc;;AAGpC;;AAA8C;AAAA;;AAAA;;AAAA;AAAA;;AAA9C;;AAGF;;AAIA;;AAEF;;;;;;AALK;;AAAA;;;;;;AAiBC;;AAA+D;;AAAS;;;;;;AAA5D;;AAAmD;;AAAA;;;;;;AAGnE;;AAEE;;AACF;;;;;;AAXF;;AACE;;AACA;;AAAwB;;AAAyB;;AAE/C;;AACE;;AACF;;AAEF;;AAIA;;AACF;;;;;;AARoD;;AAAA;;AAI/C;;AAAA;;;;;;AAYH;;AAEE;;AACF;;;;;;;;AAVF;;AACE;;AACA;;AAAwB;;AAAuB;;AAE7C;;AAC+D;AAAA;;AAAA;;AAAA;AAAA;;AAD/D;;AAGF;;AAIA;;AACF;;;;;;AAJK;;AAAA;;;;;;;;AAWD;;AAA0E;AAAA;;AAAA;;AAAA;AAAA;;AAA1E;;;;;;;;AAEA;;AAAyE;AAAA;;AAAA;;AAAA;AAAA;;AAAzE;;;;;;AAaE;;AAA8E;;AAC9E;;;;;;AADyD;;AAAqB;;AAAA;;;;;;AAIlF;;AAEE;;AACF;;;;;;;;AAIF;;AACE;;AACA;;AAAwB;;AAAY;;AAGlC;;AAA2E;AAAA;;AAAA;;AAAA;AAAA;;AAA3E;;AAGF;;AAEF;;;;UD/ODu7B,uB;AAiCX,yCAAoB/6B,EAApB,EAAmDN,MAAnD,EAA2EG,cAA3E,EACUK,WADV,EAC4CD,UAD5C,EAC4EI,aAD5E,EAEUC,KAFV,EAEsCF,GAFtC,EAE8D;AAAA;;AAF1C,eAAAJ,EAAA,GAAAA,EAAA;AAA+B,eAAAN,MAAA,GAAAA,MAAA;AAAwB,eAAAG,cAAA,GAAAA,cAAA;AACjE,eAAAK,WAAA,GAAAA,WAAA;AAAkC,eAAAD,UAAA,GAAAA,UAAA;AAAgC,eAAAI,aAAA,GAAAA,aAAA;AAClE,eAAAC,KAAA,GAAAA,KAAA;AAA4B,eAAAF,GAAA,GAAAA,GAAA;AAlCtC,eAAAM,aAAA,GAAgB,IAAI,0DAAJ,EAAhB;AAEA,eAAAC,eAAA,GAAuB,EAAvB;AAGA,eAAAkB,cAAA,GAA0B,KAA1B;AACA,eAAAqQ,oBAAA,GAA+B,KAA/B;AACA,eAAA8oB,iBAAA,GAA2B,EAA3B;AAIA,eAAA54B,UAAA,GAAsB,KAAtB;AACA,eAAA64B,WAAA,GAAuB,KAAvB;AAOA,eAAA3uB,kBAAA,GAA8B,IAA9B;AACA,eAAA4uB,gBAAA,GAAmB,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,CAAnB;AACA,eAAAC,gBAAA,GAAmB,KAAKD,gBAAL,CAAsB,CAAC,CAAvB,CAAnB;AAGA,eAAAE,WAAA,GAAuB,KAAvB;AACA,eAAAC,UAAA,GAAsB,KAAtB;AACA,eAAAC,gBAAA,GAA4B,KAA5B;AAIA,eAAAC,YAAA,GAAe,EAAf;AAKC;;;;iBAED,oBAAQ;AAAA;;AACP;AACAz6B,mBAAO,CAACyC,GAAR,CAAY,KAAKvD,EAAL,CAAQ4D,OAAR,CAAgB,cAAhB,CAAZ;AACC,iBAAKD,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,iBAAKrE,SAAL,GAAe,KAAKS,EAAL,CAAQ4D,OAAR,CAAgB,MAAhB,CAAf;AACA,iBAAKwuB,iBAAL,CAAuB,iBAAvB;AACAtxB,mBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA0B,KAAKI,MAA/B;AAEA,iBAAK63B,mBAAL,GARM,CASN;;AACA,gBAAIC,aAAa,GAAYz3B,IAAI,CAACC,KAAL,CAAW,KAAKjE,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAAX,CAA7B;AACA,iBAAKsO,oBAAL,GAA4B,KAAKlS,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAA5B;;AACA,gBAAI,KAAKD,MAAL,IAAe,IAAf,IAAuB,KAAKuO,oBAAhC,EAAsD;AACpD,mBAAKkpB,WAAL,GAAmB,IAAnB;AACA,mBAAKv5B,cAAL,GAAsB,IAAtB;AACA,mBAAKqC,gBAAL,GAAwB,KAAKlE,EAAL,CAAQ4D,OAAR,CAAgB,sBAAhB,CAAxB;AACA,mBAAK83B,iBAAL;AAED,aAlBK,CAqBN;;;AACA,iBAAKJ,gBAAL,GAAwB,KAAKt7B,EAAL,CAAQ4D,OAAR,CAAgB,YAAhB,CAAxB;;AACA,gBAAI,KAAK03B,gBAAL,IAAyB,IAA7B,EAAmC;AACjC;AACA,mBAAKR,kBAAL,CAAwBj1B,GAAxB,CAA4B,kBAA5B,EAAgDG,UAAhD,CAA2D,KAA3D;AACA,mBAAK21B,WAAL,GAAmB,KAAK37B,EAAL,CAAQ4D,OAAR,CAAgB,cAAhB,CAAnB;;AACA,kBAAG,KAAK+3B,WAAR,EAAoB;AAClB,oBAAIC,MAAM,GAAG,KAAKD,WAAL,CAAiB5c,KAAjB,CAAuB,CAAvB,CAAb;AACAje,uBAAO,CAACyC,GAAR,CAAYq4B,MAAZ;AACA,qBAAK37B,UAAL,CAAgB47B,cAAhB,CAA+BD,MAA/B,EAAuCz2B,SAAvC,CAAiD,UAACkY,MAAD,EAAiB;AAChE,yBAAI,CAACye,SAAL,GAAiBze,MAAM,CAAC1Q,gBAAP,CAAwB,CAAxB,EAA2BovB,sBAA3B,CAAkDD,SAAnE;;AACA,yBAAI,CAAC97B,EAAL,CAAQiG,OAAR,CAAgB,WAAhB,EAA4B,OAAI,CAAC61B,SAAjC;AACD,iBAHD;AAID;;AACD,mBAAKV,WAAL,GAAmB,IAAnB;AACA,mBAAKC,UAAL,GAAkB,IAAlB;AACA,mBAAKP,kBAAL,CAAwBj1B,GAAxB,CAA4B,UAA5B,EAAwCG,UAAxC,CAAmD,KAAKhG,EAAL,CAAQ4D,OAAR,CAAgB,UAAhB,CAAnD;AACA9C,qBAAO,CAACyC,GAAR,CAAY,KAAKvD,EAAL,CAAQ4D,OAAR,CAAgB,cAAhB,CAAZ;AACA,mBAAKk3B,kBAAL,CAAwBvsB,QAAxB,CAAiC2jB,aAAjC,CAA+C5rB,QAA/C,CAAwD,KAAKtG,EAAL,CAAQ4D,OAAR,CAAgB,cAAhB,CAAxD,EAhBiC,CAiBjC;AACD,aAlBD,MAmBK,CACH;AACD;AACF;;;iBAED,oBAAW+F,KAAX,EAAuB;AAAA;;AACrB,gBAAIA,KAAK,CAACE,OAAN,KAAkB,CAAtB,EAAyB;AACvB,mBAAKoxB,WAAL,GAAmB,IAAnB;AACA,mBAAK74B,UAAL,GAAkB,KAAlB;AACD,aAHD,MAIK;AACH,mBAAK64B,WAAL,GAAmB,KAAnB;AACD;;AACD,gBAAMttB,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC5BpE,mBAAK,CAACwE,cAAN;AACD;;AACDrN,mBAAO,CAACyC,GAAR,CAAYoG,KAAK,CAAC8G,MAAN,CAAajR,KAAzB,EAAgC,CAACmK,KAAK,CAAC8G,MAAN,CAAajR,KAA9C;AACAkR,wBAAY,CAAC,KAAKC,KAAN,CAAZ;;AAEA,gBAAI,CAAChH,KAAK,CAAC8G,MAAN,CAAajR,KAAlB,EAAyB;AACvB,mBAAK4C,UAAL,GAAkB,KAAlB;AACA,mBAAK04B,kBAAL,CAAwBj1B,GAAxB,CAA4B,WAA5B,EAAyCoD,eAAzC;AACA,mBAAK6xB,kBAAL,CAAwBj1B,GAAxB,CAA4B,WAA5B,EAAyC6H,sBAAzC;AACA,mBAAKotB,kBAAL,CAAwBj1B,GAAxB,CAA4B,kBAA5B,EAAgDG,UAAhD,CAA2D,IAA3D;AACA,mBAAK80B,kBAAL,CAAwB10B,KAAxB;AACA,mBAAKzF,eAAL,GAAuB,EAAvB;AACD,aAPD,MAOO;AACL,mBAAKgQ,KAAL,GAAaC,UAAU,CAAC,YAAM;AAC5B,uBAAI,CAACvQ,aAAL,CAAmBqM,UAAnB,CAA8B/C,KAAK,CAAC8G,MAAN,CAAajR,KAA3C,EAAkD2F,SAAlD,CAA4D,UAAC0B,GAAD,EAAc;AACxE/F,yBAAO,CAACyC,GAAR,CAAYsD,GAAZ;;AACA,sBAAIA,GAAJ,EAAS;AACP,2BAAI,CAAClG,eAAL,GAAuBkG,GAAG,CAAC8F,gBAA3B;AACD;AACF,iBALD;AAMD,eAPsB,EAOpB,IAPoB,CAAvB;AAQD;AACF;;;iBAED,kBAAShD,KAAT,EAAqB;AACnB7I,mBAAO,CAACyC,GAAR,CAAY,OAAZ,EAAqBoG,KAAK,CAACsH,OAA3B;;AACA,gBAAItH,KAAK,CAACsH,OAAN,IAAiB,IAArB,EAA2B;AACzB,mBAAK3E,kBAAL,GAA0B,IAA1B;AACD,aAFD,MAGK;AACH,mBAAKA,kBAAL,GAA0B,KAA1B;AACD;AAEF;;;iBACD,mBAAU3C,KAAV,EAAsB;AACpB7I,mBAAO,CAACyC,GAAR,CAAY,OAAZ,EAAqBoG,KAAK,CAACsH,OAA3B;;AACA,gBAAItH,KAAK,CAACsH,OAAN,IAAiB,IAArB,EAA2B;AACzB,mBAAKjR,EAAL,CAAQiG,OAAR,CAAgB,aAAhB,EAA+B,IAA/B;AACD,aAFD,MAGK;AACH,mBAAKjG,EAAL,CAAQiG,OAAR,CAAgB,aAAhB,EAA+B,KAA/B;AACD;AAEF;;;iBAED,2BAAkBwI,GAAlB,EAA+B;AAAA;;AAC7B,iBAAKxO,UAAL,CAAgByO,iBAAhB,CAAkCD,GAAlC,EAAuCtJ,SAAvC,CAAiD,UAACM,IAAD,EAAU;AACzD,qBAAI,CAACu1B,iBAAL,GAAyBv1B,IAAzB;AACA3E,qBAAO,CAACyC,GAAR,CAAY,OAAI,CAACy3B,iBAAjB;AAED,aAJD;AAKD;;;iBAED,wBAAej0B,SAAf,EAAwB;AAAA;;AACtB,iBAAK9G,UAAL,CAAgB+7B,iBAAhB,CAAkCj1B,SAAlC,EACG5B,SADH,CACa,UAACM,IAAD,EAAe;;;AACxB3E,qBAAO,CAACyC,GAAR,CAAYkC,IAAZ;AACA3E,qBAAO,CAACyC,GAAR,CAAY,CAAD,WAACkC,IAAI,SAAJ,IAAAA,IAAI,WAAJ,GAAI,MAAJ,GAAAA,IAAI,CAAEw2B,UAAP,MAAiB,IAAjB,IAAiB,aAAjB,GAAiB,MAAjB,GAAiB,GAAG,CAAH,CAAhB,MAAoB,IAApB,IAAoB,aAApB,GAAoB,MAApB,GAAoB,GAAG5uB,SAAnC;AACA,qBAAI,CAAC6uB,SAAL,GAAiB,CAAH,WAAGz2B,IAAI,SAAJ,IAAAA,IAAI,WAAJ,GAAI,MAAJ,GAAAA,IAAI,CAAEw2B,UAAT,MAAmB,IAAnB,IAAmB,aAAnB,GAAmB,MAAnB,GAAmB,GAAG,CAAH,CAAhB,MAAoB,IAApB,IAAoB,aAApB,GAAoB,MAApB,GAAoB,GAAG5uB,SAAxC;;AACA,qBAAI,CAACytB,kBAAL,CAAwBvsB,QAAxB,CAAiC/B,QAAjC,CAA0ClG,QAA1C,CAAmDb,IAAI,SAAJ,IAAAA,IAAI,WAAJ,GAAI,MAAJ,GAAAA,IAAI,CAAE02B,eAAzD;AACD,aANH,EAMK,UAAClwB,KAAD,EAAgB,CACjB;AACD,aARH;AASD;;;iBACD,oBAAW;AAAA;;AACTnL,mBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoB,KAAKu3B,kBAAL,CAAwBt7B,KAA5C;AACAof,wBAAY,CAAC3Y,OAAb,CAAqB,eAArB,EAAsC,KAAK60B,kBAAL,CAAwBt7B,KAAxB,CAA8BgN,QAApE;AACA,gBAAIiK,OAAO,GAAG;AACZrP,8BAAgB,EAAE,KAAK0zB,kBAAL,CAAwBt7B,KAAxB,CAA8B4H,gBADpC;AAEZg1B,sBAAQ,EAAE,KAAKtB,kBAAL,CAAwBt7B,KAAxB,CAA8B48B,QAF5B;AAGZC,6BAAe,EAAE,KAAKvB,kBAAL,CAAwBt7B,KAAxB,CAA8B68B,eAHnC;AAIZnK,2BAAa,EAAE,KAAK4I,kBAAL,CAAwBt7B,KAAxB,CAA8B0yB,aAJjC;AAKZ1lB,sBAAQ,EAAE,KAAKsuB,kBAAL,CAAwBt7B,KAAxB,CAA8BgN,QAL5B;AAMZwmB,4BAAc,EAAE,KAAK8H,kBAAL,CAAwBt7B,KAAxB,CAA8BwzB,cANlC;AAOZsJ,6BAAe,EAAE,KAAKxB,kBAAL,CAAwBt7B,KAAxB,CAA8B88B,eAPnC;AAQZ9X,wBAAU,EAAE,KAAKsW,kBAAL,CAAwBt7B,KAAxB,CAA8BglB,UAR9B;AASZ5Z,oBAAM,EAAE,IATI;AAUZkxB,uBAAS,EAAE,KAAKA,SAVJ;AAWZS,0BAAY,EAAE,KAAKZ,WAXP;AAYZr0B,wBAAU,EAAE,KAAKwzB,kBAAL,CAAwBt7B,KAAxB,CAA8BuH,SAZ9B;AAcZpD,oBAAM,EAAE,KAAK9B,cAAL,GAAsB,KAAK8B,MAA3B,GAAoC;AAdhC,aAAd;AAiBA,iBAAK1D,UAAL,CAAgBu8B,oBAAhB,CAAqC/lB,OAArC,EACGtR,SADH,CACa,UAACM,IAAD,EAAe;AACxB,qBAAI,CAACzF,EAAL,CAAQiG,OAAR,CAAgB,QAAhB,EAA0BR,IAAI,CAAC9B,MAA/B;;AACA,kBAAIy2B,WAAW,GAAG;AAChBz2B,sBAAM,EAAE8B,IAAI,CAAC9B,MADG;AAEhBiH,sBAAM,EAAE;AAFQ,eAAlB;;AAIA,qBAAI,CAAC3K,UAAL,CAAgBo6B,gBAAhB,CAAiCD,WAAjC,EAA8Cj1B,SAA9C,CAAwD,UAAAM,IAAI,EAAI,CAC/D,CADD;;AAGA3E,qBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoBkC,IAApB;;AAEA,qBAAI,CAACiB,IAAL;AACD,aAbH;AAeD;;;iBACD,gBAAO;AACL,iBAAK1G,EAAL,CAAQiG,OAAR,CAAgB,sBAAhB,EAAwC,IAAxC;AACA,iBAAKjG,EAAL,CAAQiG,OAAR,CAAgB,qBAAhB,EAAwC,KAAK60B,kBAAL,CAAwBt7B,KAAxB,CAA8B0yB,aAAtE;AACA,iBAAKryB,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACA,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,+DAArB;AACD;;;iBACD,6BAAoB;AAAA;;AAElB,iBAAKvQ,UAAL,CAAgBg6B,wBAAhB,CAAyC,KAAKt2B,MAA9C,EACCwB,SADD,CACW,UAACC,IAAD,EAAe;AACxB,qBAAI,CAAC02B,SAAL,GAAiB12B,IAAI,CAAC02B,SAAtB;AACA,qBAAI,CAACH,WAAL,GAAmBv2B,IAAI,CAACm3B,YAAxB;;AACA,qBAAI,CAACf,mBAAL,CAAyBp2B,IAAzB;;AACA,qBAAI,CAACnF,UAAL,CAAgBw8B,sBAAhB,CAAuC,OAAI,CAACv4B,gBAA5C,EAA8DiB,SAA9D,CAAwE,UAACu3B,SAAD,EAAsB;;;AAC5F,uBAAI,CAACnB,YAAL,GAAoBmB,SAApB;;AACA,uBAAI,CAAC5B,kBAAL,CAAwBvsB,QAAxB,CAAiC8tB,eAAjC,CAAiD/1B,QAAjD,CAA0D,CAAD,KAAC,OAAI,CAACi1B,YAAL,MAAiB,IAAjB,IAAiB,aAAjB,GAAiB,MAAjB,GAAiB,GAAG,CAAH,CAA3E;AACD,eAHD;;AAIAz6B,qBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoB6B,IAApB;;AACA,kBAAIA,IAAI,CAACgC,gBAAL,IAAyB,IAA7B,EAAmC;AACjC,uBAAI,CAACkF,kBAAL,GAA0B,IAA1B;AACD,eAFD,MAGK;AACH,uBAAI,CAACA,kBAAL,GAA0B,KAA1B;AACD;AAEF,aAjBD;AAkBD;;;iBACD,6BAAoB7G,IAApB,EAA2B;AACzB,gBAAMjD,SAAS,GAAGoc,YAAY,CAAChb,OAAb,CAAqB,aAArB,CAAlB;AAGA,iBAAKk3B,kBAAL,GAA0B,KAAK56B,WAAL,CAAiBiN,KAAjB,CAAuB;AAC/CpG,uBAAS,EAAE,CAACtB,IAAI,GAAG,KAAKvB,gBAAR,GAA2B,EAAhC,EAAmC,CAAC,0DAAWuJ,QAAZ,CAAnC,CADoC;AAE/CrG,8BAAgB,EAAE,CAAC3B,IAAI,GAAGA,IAAI,CAAC2B,gBAAR,GAA2B,IAAhC,CAF6B;AAG/Cg1B,sBAAQ,EAAE,CAAC32B,IAAI,GAAGA,IAAI,CAAC22B,QAAR,GAAmB,EAAxB,EAA4B,CAAC,0DAAW3uB,QAAZ,CAA5B,CAHqC;AAI/C4uB,6BAAe,EAAE,CAAC52B,IAAI,GAAGA,IAAI,CAAC42B,eAAR,GAA0B,EAA/B,EAAmC,CAAC,0DAAW5uB,QAAZ,CAAnC,CAJ8B;AAK/CykB,2BAAa,EAAE,CAACzsB,IAAI,GAAGA,IAAI,CAACysB,aAAR,GAAwB,EAA7B,CALgC;AAM/C1lB,sBAAQ,EAAE,CAAC/G,IAAI,GAAGA,IAAI,CAAC+G,QAAR,GAAmB,EAAxB,EAA4B,CAAC,0DAAWiB,QAAZ,CAA5B,CANqC;AAO/CulB,4BAAc,EAAE,CAACvtB,IAAI,GAAGA,IAAI,CAACutB,cAAR,GAAyB,EAA9B,EAAkC,CAAC,0DAAWvlB,QAAZ,CAAlC,CAP+B;AAQ/C6uB,6BAAe,EAAE,CAAC72B,IAAI,GAAGA,IAAI,CAAC62B,eAAR,GAA0B,EAA/B,EAAmC,CAAC,0DAAW7uB,QAAZ,CAAnC,CAR8B;AAS/C+W,wBAAU,EAAE,CAAC/e,IAAI,GAAGA,IAAI,CAAC+e,UAAR,GAAqB,EAA1B,EAA8B,CAAC,0DAAW/W,QAAZ,CAA9B,CATmC;AAU/CjL,uBAAS,EAAC,CAACA,SAAS,IAAI,MAAb,GAAsB,IAAtB,GAA6B,KAA9B;AAVqC,aAAvB,CAA1B;AAYA,iBAAKm6B,uBAAL;AACD;;;iBACD,mCAA0B;AAAA;;AAExB,gBAAIC,gBAAgB,GAAG,KAAK9B,kBAAL,CAAwBj1B,GAAxB,CAA4B,WAA5B,CAAvB;AACA,iBAAKi1B,kBAAL,CAAwBj1B,GAAxB,CAA4B,kBAA5B,EAAgDC,YAAhD,CAA6DX,SAA7D,CACI,UAACY,GAAD,EAAS;AACLjF,qBAAO,CAACyC,GAAR,CAAYwC,GAAZ;;AACA,kBAAIA,GAAG,IAAI,KAAX,EAAkB;AAChB,uBAAI,CAAC+0B,kBAAL,CAAwBj1B,GAAxB,CAA4B,iBAA5B,EAA+C2H,aAA/C,CAA6D,CAAC,0DAAWqvB,aAAZ,CAA7D;;AACED,gCAAgB,CAACpvB,aAAjB,CAA+B,CAAC,0DAAWqvB,aAAZ,CAA/B;AACH,eAHD,MAII;AACF,uBAAI,CAAC/B,kBAAL,CAAwBj1B,GAAxB,CAA4B,iBAA5B,EAA+C2H,aAA/C,CAA6D,CAAC,0DAAWC,QAAZ,CAA7D;;AACAmvB,gCAAgB,CAACpvB,aAAjB,CAA+B,CAAC,0DAAWC,QAAZ,CAA/B;AACH;;AACCmvB,8BAAgB,CAAClvB,sBAAjB;AACH,aAZL;AAaH;;;iBACC,kBAAS;AACP,iBAAKhO,MAAL,CAAY8Q,QAAZ,CAAqB,2CAArB;AACD;;;iBACD,oBAAW7G,KAAX,EAAkB;AAChB,gBAAIA,KAAK,CAACE,OAAN,KAAkB,CAAtB,EAAyB;AACvB,mBAAKoxB,WAAL,GAAmB,IAAnB;AACA,mBAAK74B,UAAL,GAAkB,KAAlB;AACD,aAHD,MAIK;AACH,mBAAK64B,WAAL,GAAmB,KAAnB;AACD;AACF;;;iBACD,mBAAUtxB,KAAV,EAAsB;AACpB,gBAAMgE,OAAO,GAAG,OAAhB;AACA,gBAAII,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAAhB;;AACA,gBAAI,CAAC+D,OAAO,CAACO,IAAR,CAAaH,SAAb,CAAL,EAA8B;AAC5BpE,mBAAK,CAACwE,cAAN;AACD;AACF;;;iBACD,oBAAWxE,KAAX,EAAkB;AAChB7I,mBAAO,CAACyC,GAAR,CAAY,CAAC,KAAK83B,UAAlB;AACAv6B,mBAAO,CAACyC,GAAR,CAAY,CAAC,KAAKu3B,kBAAL,CAAwBgC,KAArC;AACAh8B,mBAAO,CAACyC,GAAR,CAAY,CAAC,KAAKu3B,kBAAL,CAAwBgC,KAAzB,IAAkC,CAAC,KAAKzB,UAApD;AAEAv6B,mBAAO,CAACyC,GAAR,CAAY,KAAKu3B,kBAAjB;AACA,gBAAIlxB,QAAQ,GAAGD,KAAK,CAACE,OAArB;AACA,gBAAKD,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,GAAG,EAA7B,IAAqCA,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,GAAG,GAAjE,IAAyEA,QAAQ,IAAI,CAAzF,EACE,OAAO,IAAP,CADF,KAGE,OAAO,KAAP;AACH;;;iBAED,oBAAW7C,SAAX,EAAsB;AAAA;;AAEpB,gBAAI,CAAC,CAACA,SAAN,EAAiB;AACf,mBAAKg2B,SAAL,GAAiB,IAAjB;AACA,mBAAK18B,aAAL,CAAmBqM,UAAnB,CAA8B3F,SAA9B,EAAyC5B,SAAzC,CAAmD,UAAC0B,GAAD,EAAc;AAC/D,uBAAI,CAACi1B,SAAL,GAAiBj1B,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBovB,sBAAxB,CAA+CD,SAAhE;AACA,uBAAI,CAACH,WAAL,GAAmB90B,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBovB,sBAAxB,CAA+CQ,YAAlE;;AAEA,uBAAI,CAACzB,kBAAL,CAAwBvsB,QAAxB,CAAiCxH,SAAjC,CAA2CT,QAA3C,CAAoDS,SAApD;;AACA,uBAAI,CAAC+zB,kBAAL,CAAwBvsB,QAAxB,CAAiC2jB,aAAjC,CAA+C5rB,QAA/C,CAAwDO,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBpF,SAAxB,GAAoC,GAApC,GAA0CV,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBlF,QAA1H,EAL+D,CAMhE;;;AACC,uBAAI,CAACqzB,kBAAL,CAAwBvsB,QAAxB,CAAiC8tB,eAAjC,CAAiD/1B,QAAjD,CAA0D,OAAI,CAAC41B,SAA/D;;AAEA,uBAAI,CAACa,SAAL,GAAiB,KAAjB;;AAEA,oBAAI,CAACl2B,GAAL,EAAU;AACR,yBAAI,CAACzE,UAAL,GAAkB,KAAlB;;AAEA,yBAAI,CAAC9B,KAAL,CAAW0L,IAAX,CAAgB,oBAAhB,EAAsC,IAAtC,EAA4C;AAC1CG,4BAAQ,EAAE,IADgC;AAE1CC,oCAAgB,EAAE,KAFwB;AAG1CC,sCAAkB,EAAE;AAHsB,mBAA5C,EAHQ,CAQR;;;AACA;AACD,iBAVD,MAUO;AACL,sBAAIxF,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBqwB,UAAxB,IAAsC,UAA1C,EAAsD;AACpD,2BAAI,CAAC56B,UAAL,GAAkB,KAAlB;AACD;;AACD,sBAAIyE,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBqwB,UAAxB,IAAsC,UAA1C,EAAsD;AACpD,2BAAI,CAAC56B,UAAL,GAAkB,IAAlB;AACD,mBANI,CAOL;;;AAEA,sBAAI4H,OAAJ,CATK,CAUL;;AACA,sBAAInD,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB1C,WAAxB,CAAoCZ,MAApC,GAA6C,CAAjD,EAAoD;AAClDW,2BAAO,GAAGnD,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB1C,WAAxB,CAAoCC,IAApC,CAAyC,UAACd,IAAD;AAAA,6BAAeA,IAAI,CAACf,WAAL,IAAoB,WAApB,IAAmCe,IAAI,CAACf,WAAL,IAAoB,WAAtE;AAAA,qBAAzC,CAAV;AACD,mBAFD,MAEO;AACL2B,2BAAO,GAAGnD,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB1C,WAAxB,CAAoC,CAApC,CAAV;AACD;;AACD,sBAAIgzB,WAAW,GAAG;AAChB91B,0BAAM,EAAEN,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBxF,MADhB;AAEhBG,8BAAU,EAAET,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBrF,UAFpB;AAGhBC,6BAAS,EAAEV,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBpF,SAHnB;AAIhBC,8BAAU,EAAEX,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBnF,UAJpB;AAKhBC,4BAAQ,EAAEZ,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBlF,QALlB;AAMhBC,0BAAM,EAAEb,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBjF,MANhB;AAOhBC,+BAAW,EAAE,OAAI,CAACC,WAAL,CAAiBf,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhF,WAAzC,CAPG;AAQhBE,gCAAY,EAAEhB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB9E,YARtB;AAShBC,mCAAe,EAAEjB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB7E,eATzB;AAUhBC,+BAAW,EAAElB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB5E,WAVrB;AAWhBC,sCAAkB,EAAEnB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB3E,kBAX5B;AAYhBC,kCAAc,EAAEpB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB1E,cAZxB;AAahBtC,gCAAY,EAAEkB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAbtB;AAchBuC,0BAAM,EAAErB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC0D,MAArC,GAA8C,CAA9C,GAAkDxC,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC,CAArC,EAAwCuC,MAA1F,GAAmG,EAd3F;AAehBC,4BAAQ,EAAEtB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC0D,MAArC,GAA8C,CAA9C,GAAkDxC,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC,CAArC,EAAwCwC,QAA1F,GAAqG,EAf/F;AAgBhBC,8BAAU,EAAEvB,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC0D,MAArC,GAA8C,CAA9C,GAAkD,OAAI,CAACzB,WAAL,CAAiBf,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhH,YAAxB,CAAqC,CAArC,EAAwCyC,UAAzD,CAAlD,GAAyH,EAhBrH;AAiBhBC,+BAAW,EAAE2B,OAAO,CAAC3B,WAjBL;AAkBhBC,4BAAQ,EAAE0B,OAAO,CAAC1B,QAlBF;AAmBhBC,4BAAQ,EAAEyB,OAAO,CAACzB,QAnBF;AAoBhBC,wBAAI,EAAEwB,OAAO,CAACxB,IApBE;AAqBhBvB,2BAAO,EAAE+C,OAAO,CAAC/C,OArBD;AAsBhBwB,yBAAK,EAAEuB,OAAO,CAACvB,KAtBC;AAuBhBC,2BAAO,EAAEsB,OAAO,CAACtB,OAvBD;AAwBhBC,+BAAW,EAAE9B,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwBhE,WAxBrB;AAyBhBC,kCAAc,EAAE/B,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB/D,cAzBxB;AA0BhBC,sCAAkB,EAAEhC,GAAG,CAAC8F,gBAAJ,CAAqB,CAArB,EAAwB9D;AA1B5B,mBAAlB;;AA4BA,sBAAI,OAAI,CAACiyB,kBAAL,CAAwBt7B,KAAxB,CAA8B09B,SAA9B,IAA2C,IAA3C,IAAmD,OAAI,CAACpC,kBAAL,CAAwBt7B,KAAxB,CAA8B29B,eAA9B,IAAiD,IAAxG,EAA8G;AAC5Gr8B,2BAAO,CAACyC,GAAR,CAAY,OAAI,CAACu3B,kBAAL,CAAwBt7B,KAAxB,CAA8B09B,SAA1C;AACA,2BAAI,CAAChnB,IAAL,GAAY,KAAZ;AACD;;AACD,yBAAI,CAAChS,gBAAL,GAAwB6C,SAAxB;;AACA,yBAAI,CAAC/G,EAAL,CAAQiG,OAAR,CAAgB,sBAAhB,EAAwC,OAAI,CAAC/B,gBAA7C;;AACA,yBAAI,CAACjE,UAAL,CAAgBm9B,OAAhB,CAAwBH,WAAxB;;AACA,yBAAI,CAACh9B,UAAL,CAAgBw8B,sBAAhB,CAAuC11B,SAAvC,EAAkD5B,SAAlD,CAA4D,UAACu3B,SAAD,EAAmB;;;AAC7E,2BAAI,CAACnB,YAAL,GAAoBmB,SAApB;;AACA,2BAAI,CAAC5B,kBAAL,CAAwBvsB,QAAxB,CAAiC8tB,eAAjC,CAAiD/1B,QAAjD,CAA0D,CAAD,KAAC,OAAI,CAACi1B,YAAL,MAAiB,IAAjB,IAAiB,aAAjB,GAAiB,MAAjB,GAAiB,GAAG,CAAH,CAA3E;;AACAz6B,2BAAO,CAACyC,GAAR,CAAYm5B,SAAZ;AACD,mBAJD;AAKD;;AACD,uBAAI,CAACt8B,GAAL,CAAS0G,YAAT;AAED,eAhFD;AAiFA,mBAAKu2B,cAAL,CAAoBt2B,SAApB;AACD;AACF;;;iBACD,qBAAY4C,KAAZ,EAAwB;AACtB7I,mBAAO,CAACyC,GAAR,CAAYoG,KAAK,CAACnK,KAAlB;AACA,iBAAK48B,QAAL,GAAgBzyB,KAAK,CAACnK,KAAtB;;AACA,gBAAImK,KAAK,CAACnK,KAAN,IAAe,QAAnB,EAA6B;AAC3B,mBAAK47B,WAAL,GAAmB,IAAnB;;AACA,kBAAI,KAAKU,SAAL,IAAkB,UAAtB,EAAkC;AAChC,qBAAKT,UAAL,GAAkB,IAAlB;AACD,eAFD,MAGK;AACH,qBAAKA,UAAL,GAAkB,KAAlB;AACD;AAEF,aATD,MAUK;AACH,mBAAKA,UAAL,GAAkB,IAAlB;AACA,mBAAKD,WAAL,GAAmB,KAAnB;AACD;AACF;;;iBACD,qBAAY57B,KAAZ,EAAmB;AACjB,gBAAI0N,IAAI,GAAG,mCAAM,CAAC1N,KAAD,CAAN,CAAcqN,MAAd,CAAqB,aAArB,CAAX,CADiB,CAC+B;AAChD;;AACA,gBAAIK,IAAJ,EACE,OAAOA,IAAP;AACH;;;iBACD,mBAAU;AACR,iBAAKlN,EAAL,CAAQiG,OAAR,CAAgB,UAAhB,EAA4B,KAAKm2B,QAAjC;AACA,iBAAKp8B,EAAL,CAAQiG,OAAR,CAAgB,aAAhB,EAA+B,iBAA/B;AACA,iBAAKvG,MAAL,CAAY8Q,QAAZ,CAAqB,eAArB;AACD;;;;;;;yBAtZUuqB,uB,EAAuB,0J,EAAA,uH,EAAA,sJ,EAAA,2H,EAAA,2I,EAAA,iL,EAAA,wI,EAAA,gI;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA,iB;AAAA,gB;AAAA,i6H;AAAA;AAAA;AChBpC;;AACA;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AAAwB;;AAAG;;AAAe;;AAAI;;AAChD;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACA;;AAAuB;;AAAe;;AACtC;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAoB;;AAAmB;;AAEvC;;AACqC;AAAA,qBAAU,IAAA91B,QAAA,QAAV;AAA0B,aAA1B;;AACrC;;AACF;;AAEA;;AAYF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACA;;AAAwB;;AAAW;;AAEjC;;AACE;AAAA,qBAAmB,IAAAq4B,WAAA,QAAnB;AAAsC,aAAtC;;AAEA;;AACA;;AAA2B;;AAAM;;AACjC;;AAEF;;AAEF;;AAIA;;AAEF;;AACA;;AAgDA;;AAkBA;;AAcA;;AACE;;AACA;;AAAwB;;AAAkB;;AAGxC;;AAEE;;AAAsC;;AAAiB;;AACvD;;AAAsC;;AAAiB;;AAEzD;;AAEF;;AAIA;;AACF;;AACA;;AAkBF;;AAEA;;AACE;;AAcA;;AAcA;;AACE;;AACA;;AAAwB;;AAAgB;;AAGtC;;AAEA;;AAGF;;AAEF;;AAEA;;AACE;;AACA;;AAAwB;;AAAiB;;AAEvC;;AAEE;;AAEF;;AAEF;;AAIA;;AAEF;;AACA;;AAaF;;AACF;;AASA;;AAEE;;AACE;;AACE;;AAAoB;;AAAU;;AAE9B;;AAAuE;AAAA,qBAAU,IAAA96B,SAAA,QAAV;AAA2B,aAA3B;;AACvE;;AACF;;AACF;;AACF;;AACA;;AACE;;AAA2B;AAAA,qBAAS,IAAA+Q,MAAA,EAAT;AAAiB,aAAjB;;AACzB;;AACF;;AAEA;;AAA0C;AAAA,qBAAS,IAAAgE,QAAA,EAAT;AAAmB,aAAnB;;AAExC;;AACF;;AACF;;AAGF;;AACF;;AACF;;AACF;;AACF;;AACA;;;;AApRgC;;AAAA;;AAWsB;;AAAA;;AAuBrB;;AAAA;;AAEA;;AAAA;;AAKd;;AAAA;;AAMc;;AAAA;;AAgDA;;AAAA;;AAkBA;;AAAA;;AA2Bd;;AAAA;;AAKc;;AAAA;;AAqBA;;AAAA;;AAcA;;AAAA;;AAmBP;;AAAA;;AAEA;;AAAA;;AAa6B;;AAAA;;AAKpC;;AAAA;;AAMc;;AAAA;;AAuC0C;;AAAA;;;;;;;;;;wED5Q9DwjB,uB,EAAuB;gBALnC,uDAKmC;iBALzB;AACT1pB,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKyB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEhBpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AC2BoB;;AACE;;AACF;;;;;;AAF8D;;AAC5D;;AAAA;;;;;;AAGJ;;AACE;;AACD;;;;;;AAkBH;;AAGG;;AACL;;;;;;AAcI;;AACE;;AACD;;;;;;AASC;;AACE;;AACF;;;;;;AAFsE;;AACpE;;AAAA;;;;;;AAGJ;;AACC;;AACD;;;;;;AAYE;;AACE;;AACF;;;;;;AAFkE;;AAChE;;AAAA;;;;;;AAGJ;;AACE;;AACD;;;;;;AAiBH;;AAGG;;AACH;;;;;;AAiBA;;AAGG;;AACH;;;;;;AAYE;;AACE;;AACD;;;;UDpJNgsB,wB;AAUX,0CAAoB9lB,GAApB,EACUzX,EADV,EACwC8T,EADxC,EAEU7T,UAFV,EAEwCP,MAFxC,EAGUG,cAHV,EAG2C;AAAA;;AAHvB,eAAA4X,GAAA,GAAAA,GAAA;AACV,eAAAzX,EAAA,GAAAA,EAAA;AAA8B,eAAA8T,EAAA,GAAAA,EAAA;AAC9B,eAAA7T,UAAA,GAAAA,UAAA;AAA8B,eAAAP,MAAA,GAAAA,MAAA;AAC9B,eAAAG,cAAA,GAAAA,cAAA;AAPV,eAAAgC,cAAA,GAA0B,KAA1B;AAO8C;;;;iBAE9C,oBAAQ;AACN,iBAAK27B,oBAAL,CAA0B,oBAA1B;AACA,iBAAKC,cAAL,CAAoB,cAApB;AACA,iBAAKC,uBAAL;AAEA,iBAAKC,cAAL;AACA78B,mBAAO,CAACyC,GAAR,CAAY,KAAKq6B,YAAjB;AAEA,iBAAKj6B,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA9C,mBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA0B,KAAKI,MAA/B;AACA,iBAAKs2B,wBAAL;AACA,gBAAIvmB,iBAAiB,GAAY,KAAK1T,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAjC;AACA9C,mBAAO,CAACyC,GAAR,CAAY,OAAZ,EAAqBmQ,iBAArB;;AACA,gBAAG,KAAK/P,MAAL,IAAa,IAAb,IAAqB+P,iBAAxB,EAA2C;AACzC,mBAAK7R,cAAL,GAAsB,IAAtB;AACA,mBAAKg8B,kBAAL;AAED;AACF;;;iBAED,wBAAep4B,IAAf,EAAoB;AAClB,iBAAKm4B,YAAL,GAAoB,KAAK9pB,EAAL,CAAQ3G,KAAR,CAAc;AAChCgD,yBAAW,EAAC,CAAC1K,IAAI,GAAGA,IAAI,CAAC0K,WAAR,GAAsB,EAA3B,EAA8B,0DAAW1C,QAAzC,CADoB;AAEhCqwB,yBAAW,EAAC,CAACr4B,IAAI,GAAGA,IAAI,CAACq4B,WAAR,GAAqB,EAA1B,EAA6B,0DAAWrwB,QAAxC,CAFoB;AAGhC2T,gCAAkB,EAAC,CAAC3b,IAAI,GAAGA,IAAI,CAAC2b,kBAAR,GAA4B,EAAjC,EAAoC,0DAAW3T,QAA/C,CAHa;AAIhCswB,2BAAa,EAAC,CAACt4B,IAAI,GAAGA,IAAI,CAACs4B,aAAR,GAAuB,EAA5B,EAA+B,0DAAWtwB,QAA1C,CAJkB;AAKhC0uB,6BAAe,EAAC,CAAC12B,IAAI,GAAGA,IAAI,CAAC02B,eAAR,GAAyB,EAA9B,EAAiC,0DAAW1uB,QAA5C,CALgB;AAMhCuwB,yBAAW,EAAC,CAACv4B,IAAI,GAAGA,IAAI,CAACu4B,WAAR,GAAqB,EAA1B,EAA6B,0DAAWvwB,QAAxC,CANoB;AAOhCwwB,4BAAc,EAAC,CAACx4B,IAAI,GAAGA,IAAI,CAACw4B,cAAR,GAAwB,EAA7B,EAAgC,0DAAWxwB,QAA3C,CAPiB;AAQhC4K,qBAAO,EAAC,CAAC5S,IAAI,GAAGA,IAAI,CAAC4S,OAAR,GAAiB,EAAtB;AARwB,aAAd,CAApB;AAUD;;;iBACD,oBAAQ;AACNvX,mBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoB,KAAKq6B,YAAL,CAAkBp+B,KAAtC;AAEA,gBAAIiX,OAAO,GAAC;AACV9S,oBAAM,EAAE,KAAKA,MADH;AAEVo6B,2BAAa,EAAE,KAAKH,YAAL,CAAkBp+B,KAAlB,CAAwBu+B,aAF7B;AAGV5B,6BAAe,EAAE,KAAKyB,YAAL,CAAkBp+B,KAAlB,CAAwB28B,eAH/B;AAIVhsB,yBAAW,EAAE,KAAKytB,YAAL,CAAkBp+B,KAAlB,CAAwB2Q,WAJ3B;AAKV8tB,4BAAc,EAAE,KAAKL,YAAL,CAAkBp+B,KAAlB,CAAwBy+B,cAL9B;AAMVH,yBAAW,EAAE,KAAKF,YAAL,CAAkBp+B,KAAlB,CAAwBs+B,WAN3B;AAOVE,yBAAW,EAAE,KAAKJ,YAAL,CAAkBp+B,KAAlB,CAAwBw+B,WAP3B;AAQV3lB,qBAAO,EAAE,KAAKulB,YAAL,CAAkBp+B,KAAlB,CAAwB6Y,OARvB;AASV+I,gCAAkB,EAAE,KAAKwc,YAAL,CAAkBp+B,KAAlB,CAAwB4hB;AATlC,aAAZ;AAYA,iBAAKnhB,UAAL,CAAgBi+B,qBAAhB,CAAsCznB,OAAtC,EACCtR,SADD,CACW,UAACM,IAAD,EAAe;AAExB3E,qBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAmBkC,IAAnB;AAED,aALD;AAMA,iBAAKiB,IAAL;AACD;;;iBACH,gBAAI;AACF,iBAAK1G,EAAL,CAAQiG,OAAR,CAAgB,oBAAhB,EAAsC,IAAtC;AACA,iBAAKjG,EAAL,CAAQiG,OAAR,CAAgB,sBAAhB,EAAuC,IAAvC;AACA,iBAAKpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACA,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,oCAArB;AAED;;;iBACD,kBAAM;AACJ,iBAAK9Q,MAAL,CAAY8Q,QAAZ,CAAqB,6CAArB;AACD;;;iBACC,8BAAkB;AAAA;;AAEhB,iBAAKvQ,UAAL,CAAgB49B,kBAAhB,CAAmC,KAAKl6B,MAAxC,EACCwB,SADD,CACW,UAACC,IAAD,EAAe;AACxB,qBAAI,CAACu4B,cAAL,CAAoBv4B,IAApB;;AAEAtE,qBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAmB6B,IAAnB;AAED,aAND;AAOD;;;iBACD,oBAAWuE,KAAX,EAAuB;AACrB,gBAAMmH,MAAM,GAAG,aAAf;AACA,gBAAIoO,cAAc,GAAGlR,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACC,QAA1B,CAArB;;AACA,gBAAID,KAAK,CAACE,OAAN,IAAiB,CAAjB,IAAsB,CAACiH,MAAM,CAAC5C,IAAP,CAAYgR,cAAZ,CAA3B,EAAwD;AACtDvV,mBAAK,CAACwE,cAAN;AACArN,qBAAO,CAACyC,GAAR,CAAY,QAAZ,EAAsBoG,KAAtB;AACD;AACF;;;iBAED,4BAAmB8E,GAAnB,EAAgC;AAAA;;AAC9B,iBAAKgJ,GAAL,CAAS/I,iBAAT,CAA2BD,GAA3B,EAAgCtJ,SAAhC,CAA0C,UAACM,IAAD,EAAU;AAClD,qBAAI,CAAC04B,oBAAL,GAA4B14B,IAA5B;AACD,aAFD;AAGD;;;iBAED,wBAAegJ,GAAf,EAA4B;AAAA;;AAC1B,iBAAKgJ,GAAL,CAAS/I,iBAAT,CAA2BD,GAA3B,EAAgCtJ,SAAhC,CAA0C,UAACM,IAAD,EAAU;AAClD,qBAAI,CAAC24B,gBAAL,GAAwB34B,IAAxB;AACD,aAFD;AAGD;;;iBAED,8BAAqBgJ,GAArB,EAAkC;AAAA;;AAChC,iBAAKgJ,GAAL,CAAS/I,iBAAT,CAA2BD,GAA3B,EAAgCtJ,SAAhC,CAA0C,UAACM,IAAD,EAAU;AAClD,qBAAI,CAAC44B,sBAAL,GAA8B54B,IAA9B;AACD,aAFD;AAGD;;;iBAED,mCAA0B;AAAA;;AACxB;AACA,iBAAKgS,GAAL,CAAS6mB,gBAAT,GAA4Bn5B,SAA5B,CAAsC,UAACM,IAAD,EAAU;AAC9C3E,qBAAO,CAACyC,GAAR,CAAY,uBAAZ,EAAqCkC,IAArC;AACA,qBAAI,CAAC84B,kBAAL,GAA0B94B,IAA1B;AACD,aAHD;AAID;;;iBAED,oCAAwB;AAAA;;AACtB,iBAAKxF,UAAL,CAAgBg6B,wBAAhB,CAAyC,KAAKt2B,MAA9C,EACCwB,SADD,CACW,UAACC,IAAD,EAAe;AAC1BtE,qBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAmB6B,IAAnB;AACA,qBAAI,CAACoH,QAAL,GAAcpH,IAAI,CAACoH,QAAnB;;AACA,qBAAI,CAACoxB,YAAL,CAAkBrvB,QAAlB,CAA2B4tB,eAA3B,CAA2C71B,QAA3C,CAAoD,OAAI,CAACkG,QAAzD;AACC,aALD;AAMD;;;iBAGD,8BAAqB7C,KAArB,EAA4B;AAC1B,gBAAIyE,GAAG,GAAGJ,MAAM,CAACC,YAAP,CAAoBtE,KAAK,CAACE,OAA1B,CAAV;;AACA,gBAAI,cAAcqE,IAAd,CAAmBE,GAAnB,CAAJ,EAA6B;AAC3B,qBAAO,IAAP;AACD,aAFD,MAEO;AACLzE,mBAAK,CAACwE,cAAN;AACA,qBAAO,KAAP;AACD;AACF;;;;;;;yBA/IUovB,wB,EAAwB,2I,EAAA,0J,EAAA,2H,EAAA,2I,EAAA,uH,EAAA,sJ;AAAA,O;;;cAAxBA,wB;AAAwB,6C;AAAA,iB;AAAA,gB;AAAA,4oD;AAAA;AAAA;ACZrC;;AACI;;AACE;;AACE;;AAKF;;AACA;;AACE;;AAAyB;;AAAG;;AAAgB;;AAAI;;AAClD;;AACF;;AACA;;AACE;;AAAkB;;AAAgB;;AAClC;;AAEA;;AACE;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAW;;AAAa;;AACxB;;AAEE;;AAGF;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAa;;AACxB;;AAUF;;AACA;;AAKF;;AAEA;;AACE;;AACE;;AAAW;;AAAiB;;AAC1B;;AAKA;AAAA,qBAAY,IAAAiB,oBAAA,QAAZ;AAAwC,aAAxC;;AALA;;AAQF;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAW;;AAAmB;;AAC9B;;AAEE;;AAGF;;AACA;;AAGF;;AACF;;AAEF;;AAEA;;AACE;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAEE;;AAGF;;AACA;;AAGF;;AACF;;AACA;;AACE;;AACE;;AAAW;;AAAa;;AACxB;;AAKE;AAAA,qBAAY,IAAAA,oBAAA,QAAZ;AAAwC,aAAxC;;AALF;;AAUF;;AACA;;AAKF;;AAEA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAIE;AAAA,qBAAY,IAAAC,UAAA,QAAZ;AAA8B,aAA9B;;AAJF;;AAUF;;AACA;;AAKF;;AAEA;;AACE;;AACE;;AAAW;;AAAO;;AAClB;;AAMA;;AAGF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AAEF;;AAEA;;AACE;;AAA4B;AAAA,qBAAQ,IAAAlrB,MAAA,EAAR;AAAgB,aAAhB;;AAAkB;;AAAI;;AAClD;;AACA;;AACA;AAAA,qBAAS,IAAAgE,QAAA,EAAT;AAAmB,aAAnB;;AACoC;;AAAI;;AAC1C;;AACF;;;;AAhKY;;AAAA;;AAS+C;;AAAA;;AAI/B;;AAAA;;AAqBV;;AAAA;;AAiBU;;AAAA;;AAWiC;;AAAA;;AAIjC;;AAAA;;AAciC;;AAAA;;AAIjC;;AAAA;;AAoBV;;AAAA;;AAqBA;;AAAA;;AAeU;;AAAA;;AAkBvB;;AAAA;;;;;;;;;wEDpKMgmB,wB,EAAwB;gBALpC,uDAKoC;iBAL1B;AACTlsB,oBAAQ,EAAE,sBADD;AAETC,uBAAW,EAAE,mCAFJ;AAGTC,qBAAS,EAAE,CAAC,mCAAD;AAHF,W;AAK0B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACmBc;;AACE;;AACE;;AAEE;;AACE;;AACF;;AAEA;;AACE;;AACE;;AAAyB;;AAAwB;;AACjD;;AAEF;;AACF;;AACA;;AACE;;AACE;;AAAyB;;AAAW;;AACpC;;AACF;;AACF;;AACA;;AACE;;AACE;;AAAyB;;AAAgB;;AACzC;;AAGF;;AACF;;AACF;;AACF;;AACF;;;;;;AA/BI;;;;;;AAHV;;AACE;;AACE;;AACE;;AAgCF;;AACF;;AACF;;;;;;AArC2B;;AAGwC;;AAAA;;;;UDN9DmtB,8B;AAcX,gDACU1+B,EADV,EAEUM,KAFV,EAGU4b,SAHV,EAIUzE,GAJV,EAKU/X,MALV,EAMUQ,WANV,EAMkC;AAAA;;AALxB,eAAAF,EAAA,GAAAA,EAAA;AACA,eAAAM,KAAA,GAAAA,KAAA;AACA,eAAA4b,SAAA,GAAAA,SAAA;AACA,eAAAzE,GAAA,GAAAA,GAAA;AACA,eAAA/X,MAAA,GAAAA,MAAA;AACA,eAAAQ,WAAA,GAAAA,WAAA;AACL;;;;iBAEL,oBAAQ;AAAA;;AACN,iBAAKyD,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,iBAAKmV,YAAL,GAAoB,KAAK7Y,WAAL,CAAiBiN,KAAjB,CAAuB;AACzC6L,sBAAQ,EAAE,IAAI,wDAAJ,CAAc,EAAd;AAD+B,aAAvB,CAApB;AAGA,iBAAKC,UAAL,GAAkB,KAAK/Y,WAAL,CAAiBiN,KAAjB,CAAuB;AACvC+L,oBAAM,EAAE,IAAI,wDAAJ,CAAc,EAAd;AAD+B,aAAvB,CAAlB;AAIA,iBAAKG,QAAL,GAAgB,KAAKnZ,WAAL,CAAiBiN,KAAjB,CAAuB;AACrCmM,kBAAI,EAAE,IAAI,wDAAJ,CAAc,EAAd;AAD+B,aAAvB,CAAhB;AAIA,iBAAK7B,GAAL,CAAS6K,qBAAT,CAA+B,KAAK3e,MAApC,EAA4CwB,SAA5C,CAAsD,UAACC,IAAD,EAAU;AAC9DtE,qBAAO,CAACyC,GAAR,CAAY,oBAAZ,EAAkC,QAAI,CAAC6B,IAAvC;AACA,sBAAI,CAACA,IAAL,GAAYA,IAAZ;;AACA,sBAAI,CAAC0Z,gBAAL,CAAsB,QAAI,CAAC1Z,IAAL,CAAUiE,MAAhC;;AACA,sBAAI,MAAJ,CAAQrD,UAAR,CAAmB,QAAI,CAACZ,IAAxB;AACD,aALD;AAMD;;;iBAED,2BAAkB+K,WAAlB,EAA+B;AAC7B,iBAAKA,WAAL,GAAmBA,WAAnB;AACD;;;iBAED,0BAAiB4J,CAAjB,EAAoB;AAClB,iBAAKpW,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,gBAAM+R,aAAa,GAAGoE,CAAC,IAAI,CAA3B;;AACA,gBAAI,WAAQ1Q,MAAR,GAAiBsM,aAArB,EAAoC;AAClC,mBAAK,IAAInS,CAAC,GAAG,WAAQ6F,MAArB,EAA6B7F,CAAC,GAAGmS,aAAjC,EAAgDnS,CAAC,EAAjD,EAAqD;AACnD,2BAAQuL,IAAR,CACE,KAAK7O,WAAL,CAAiBiN,KAAjB,CAAuB;AACrB6M,6BAAW,EAAE,CAAC,EAAD,CADQ;AAErBC,uCAAqB,EAAE,CAAC,EAAD,CAFF;AAGrBC,0BAAQ,EAAE,CAAC,EAAD,CAHW;AAIrBC,+BAAa,EAAE,CAAC,EAAD,CAJM;AAKrBxW,wBAAM,EAAE,CAAC,KAAKA,MAAN,CALa;AAMrByW,6BAAW,EAAE,CAAC,EAAD,CANQ;AAOrBC,2BAAS,EAAE,CAAC,EAAD,CAPU;AAQrBC,kCAAgB,EAAE,CAAC,EAAD,CARG;AASrBC,gCAAc,EAAE,CAAC,EAAD;AATK,iBAAvB,CADF;AAaD;AACF,aAhBD,MAgBO;AACL,mBAAK,IAAI/W,IAAC,GAAG,WAAQ6F,MAArB,EAA6B7F,IAAC,IAAImS,aAAlC,EAAiDnS,IAAC,EAAlD,EAAsD;AACpD,2BAAQmT,QAAR,CAAiBnT,IAAjB;AACD;AACF;AACF;;;iBACD,wBAAeuW,CAAf,EAAkB;AAChB,iBAAKpW,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,gBAAM+R,aAAa,GAAGoE,CAAC,IAAI,CAA3B;;AACA,gBAAI,KAAK4kB,EAAL,CAAQt1B,MAAR,GAAiBsM,aAArB,EAAoC;AAClC,mBAAK,IAAInS,CAAC,GAAG,KAAKm7B,EAAL,CAAQt1B,MAArB,EAA6B7F,CAAC,GAAGmS,aAAjC,EAAgDnS,CAAC,EAAjD,EAAqD;AACnD,qBAAKm7B,EAAL,CAAQ5vB,IAAR,CACE,KAAK7O,WAAL,CAAiBiN,KAAjB,CAAuB;AACrB6M,6BAAW,EAAE,CAAC,EAAD,CADQ;AAErB4kB,wCAAsB,EAAE,CAAC,EAAD,CAFH;AAGrB1kB,0BAAQ,EAAE,CAAC,EAAD,CAHW;AAIrBC,+BAAa,EAAE,CAAC,EAAD,CAJM;AAKrBxW,wBAAM,EAAE,CAAC,KAAKA,MAAN,CALa;AAMrByW,6BAAW,EAAE,CAAC,EAAD,CANQ;AAOrBC,2BAAS,EAAE,CAAC,EAAD,CAPU;AAQrBC,kCAAgB,EAAE,CAAC,EAAD,CARG;AASrBC,gCAAc,EAAE,CAAC,EAAD;AATK,iBAAvB,CADF;AAaD;AACF,aAhBD,MAgBO;AACL,mBAAK,IAAI/W,IAAC,GAAG,KAAKm7B,EAAL,CAAQt1B,MAArB,EAA6B7F,IAAC,IAAImS,aAAlC,EAAiDnS,IAAC,EAAlD,EAAsD;AACpD,qBAAKm7B,EAAL,CAAQhoB,QAAR,CAAiBnT,IAAjB;AACD;AACF;AACF;;;iBACD,sBAAauW,CAAb,EAAgB;AACd,iBAAKpW,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,gBAAM+R,aAAa,GAAGoE,CAAC,IAAI,CAA3B;;AACA,gBAAI,KAAK8kB,KAAL,CAAWx1B,MAAX,GAAoBsM,aAAxB,EAAuC;AACrC,mBAAK,IAAInS,CAAC,GAAG,KAAKq7B,KAAL,CAAWx1B,MAAxB,EAAgC7F,CAAC,GAAGmS,aAApC,EAAmDnS,CAAC,EAApD,EAAwD;AACtD,qBAAKq7B,KAAL,CAAW9vB,IAAX,CACE,KAAK7O,WAAL,CAAiBiN,KAAjB,CAAuB;AACrB6M,6BAAW,EAAE,CAAC,EAAD,CADQ;AAErB4kB,wCAAsB,EAAE,CAAC,EAAD,CAFH;AAGrB1kB,0BAAQ,EAAE,CAAC,EAAD,CAHW;AAIrBC,+BAAa,EAAE,CAAC,EAAD,CAJM;AAKrBxW,wBAAM,EAAE,CAAC,KAAKA,MAAN,CALa;AAMrByW,6BAAW,EAAE,CAAC,EAAD,CANQ;AAOrBC,2BAAS,EAAE,CAAC,EAAD,CAPU;AAQrBC,kCAAgB,EAAE,CAAC,EAAD,CARG;AASrBC,gCAAc,EAAE,CAAC,EAAD;AATK,iBAAvB,CADF;AAaD;AACF,aAhBD,MAgBO;AACL,mBAAK,IAAI/W,IAAC,GAAG,KAAKq7B,KAAL,CAAWx1B,MAAxB,EAAgC7F,IAAC,IAAImS,aAArC,EAAoDnS,IAAC,EAArD,EAAyD;AACvD,qBAAKq7B,KAAL,CAAWloB,QAAX,CAAoBnT,IAApB;AACD;AACF;AACF,W,CACD;;;;eACA,eAAQ;AACN,mBAAO,KAAKuV,YAAL,CAAkBxK,QAAzB;AACD;;;eACD,eAAS;AACP,mBAAO,KAAKC,CAAL,CAAOwK,QAAd;AACD;;;eACD,eAAS;AACP,mBAAO,KAAKC,UAAL,CAAgB1K,QAAvB;AACD;;;eACD,eAAS;AACP,mBAAO,KAAKuwB,EAAL,CAAQ5lB,MAAf;AACD;;;eACD,eAAY;AACV,mBAAO,KAAKG,QAAL,CAAc9K,QAArB;AACD;;;eACD,eAAY;AACV,mBAAO,KAAKqM,KAAL,CAAWtB,IAAlB;AACD;;;iBAED,kBAAS;AACL,iBAAK5Z,MAAL,CAAY8Q,QAAZ,CAAqB,2CAArB;AAGH;;;iBAED,kBAASwO,IAAT,EAAe,CAAE;;;iBACjB,gBAAO;AACL,iBAAK9C,SAAL,CAAe7L,KAAf;AACA,iBAAKoH,GAAL,CAASsnB,OAAT,CAAiB;AACf7oB,kBAAI,EAAE;AADS,aAAjB;AAGA,iBAAKxW,MAAL,CAAY8Q,QAAZ,CAAqB,sDAArB;AAGD;;;iBACD,eAAML,WAAN,EAAmB;AACjB,gBAAIA,WAAJ,EAAiB;AACfrP,qBAAO,CAACyC,GAAR,CAAY,KAAKjD,KAAL,CAAW0L,IAAvB;AACA,mBAAK1L,KAAL,CAAW0L,IAAX,CAAgB,yBAAhB,EAA2C,OAA3C,EAAoD;AAClDG,wBAAQ,EAAE,IADwC;AAElDC,gCAAgB,EAAE,KAFgC;AAGlDC,kCAAkB,EAAE;AAH8B,eAApD;AAKD;AACF;;;;;;;yBAxKUqyB,8B,EAA8B,0J,EAAA,wI,EAAA,sI,EAAA,2I,EAAA,uH,EAAA,2H;AAAA,O;;;cAA9BA,8B;AAA8B,oD;AAAA,iB;AAAA,e;AAAA,++B;AAAA;AAAA;ACZ3C;;AACI;;AACE;;AAA4B;;AAAK;;AACnC;;AACA;;AACE;;AAAmB;;AAEnB;;AACA;;AACF;;AACA;;AACE;;AAEA;;AACE;;AACA;;AAsCF;;AAEF;;AAGA;;AAAsB;AAAA,qBAAS,IAAA1e,IAAA,EAAT;AAAe,aAAf;;AAAiB;;AAAI;;AAC7C;;;;AA5Ca;;AAAA;;;;;;;;;wEDHF0e,8B,EAA8B;gBAL1C,uDAK0C;iBALhC;AACTrtB,oBAAQ,EAAE,6BADD;AAETC,uBAAW,EAAE,0CAFJ;AAGTC,qBAAS,EAAE,CAAC,0CAAD;AAHF,W;AAKgC,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEb3C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;ACeI;;AAEI;;AACI;;AACI;;AACI;;AAA6B;;AAAY;;AAC7C;;AACA;;AACI;;AAAI;;AAAgC;;AACxC;;AACA;;AACA;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAAqB;;AAAY;;AACxE;;AACJ;;AACJ;;;;AAZc;;AAAA;;;;;;;;AAuCF;;AACI;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAC/B;;AAAa;;AAAU;;AAAa;;AACxC;;AACJ;;;;;;;;;;;;AACA;;AACI;;AAEI;;AAAY;;AAAU;;AAAa;;AACvC;;AACJ;;;;AAHQ;;AAAA;;;;;;;;AAmCR;;AACI;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAC/B;;AAAa;;AAAU;;AAAa;;AACxC;;AACJ;;;;;;;;;;AACA;;AACI;;AAGI;;AAAY;;AAAU;;AAAa;;AACvC;;AACJ;;;;;;AAJQ;;AAAA,wJAAoE,UAApE,EAAoE,6BAApE;;;;;;;;;;UD7FXytB,8B;AAMX,gDACUt/B,MADV,EAESC,MAFT,EAGUK,EAHV,EAIUH,cAJV,EAImDO,GAJnD,EAIyE;AAAA;;AAH/D,eAAAV,MAAA,GAAAA,MAAA;AACD,eAAAC,MAAA,GAAAA,MAAA;AACC,eAAAK,EAAA,GAAAA,EAAA;AACA,eAAAH,cAAA,GAAAA,cAAA;AAAyC,eAAAO,GAAA,GAAAA,GAAA;AATnD,eAAAgb,qBAAA,GAAiC,KAAjC;AACA,eAAAC,mBAAA,GAA+B,KAA/B;AACA,eAAAF,+BAAA,GAA2C,KAA3C;AAQI;;;;iBAEJ,oBAAQ;AACN,iBAAKxX,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,iBAAKwX,qBAAL,GAA6B,KAAKpb,EAAL,CAAQ4D,OAAR,CAAgB,4BAAhB,CAA7B;AACA,iBAAKyX,mBAAL,GAA2B,KAAKrb,EAAL,CAAQ4D,OAAR,CAAgB,0BAAhB,CAA3B;;AAEA,gBAAI,KAAKwX,qBAAL,IAA8B,KAAKC,mBAAvC,EAA4D;AAC1D,mBAAKF,+BAAL,GAAuC,IAAvC;AACD;AACF;;;iBAED,+BAAsB;AACpB,gBAAMe,SAAS,GAAG,KAAKvc,MAAL,CAAYqM,IAAZ,CAAiB,yIAAjB,EAAiD;AACjEvG,kBAAI,EAAE;AAAEqL,sBAAM,EAAE,YAAV;AAAwB+M,oBAAI,EAAE;AAA9B,eAD2D;AAEjEjB,0BAAY,EAAE;AAFmD,aAAjD,CAAlB;AAIAV,qBAAS,CAACW,WAAV,GAAwB1X,SAAxB,CAAkC,UAAC4d,MAAD,EAAY,CAAE,CAAhD;AACD;;;iBAED,6BAAoB;AAClB,gBAAM7G,SAAS,GAAG,KAAKvc,MAAL,CAAYqM,IAAZ,CAAiB,sIAAjB,EAA+C;AAC/DvG,kBAAI,EAAE;AAAEqL,sBAAM,EAAE,YAAV;AAAwB+M,oBAAI,EAAE;AAA9B,eADyD;AAE/DjB,0BAAY,EAAE;AAFiD,aAA/C,CAAlB;AAIAV,qBAAS,CAACW,WAAV,GAAwB1X,SAAxB,CAAkC,UAAC4d,MAAD,EAAY,CAAE,CAAhD;AACD;;;iBAED,oBAAW;AACT,iBAAKrjB,MAAL,CAAY8Q,QAAZ,CAAqB,8CAArB;AACD;;;;;;;yBAzCUwuB,8B,EAA8B,uH,EAAA,mI,EAAA,0J,EAAA,sJ,EAAA,gI;AAAA,O;;;cAA9BA,8B;AAA8B,mD;AAAA,iB;AAAA,gB;AAAA,07B;AAAA;AAAA;ACZ3C;;AACA;;AACI;;AACI;;AACI;;AAEJ;;AACA;;AACI;;AAAyB;;AAAG;;AAAuB;;AAAI;;AACvD;;AACI;;AACJ;;AACJ;;AACJ;;AAEA;;AAeJ;;AACA;;AACI;;AAGI;;AACI;;AACI;;AAAgB;;AAAkB;;AAEtC;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AAEJ;;AAEA;;AACA;;AACI;;AAKA;;AAOJ;;AAEJ;;AAEJ;;AAEA;;AAGI;;AACI;;AACI;;AAAgB;;AAAgB;;AAEpC;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AAEJ;;AAEA;;AACA;;AACI;;AAKA;;AAQJ;;AAEJ;;AAEJ;;AAEJ;;AACA;;;;AAvGuB;;AAAA;;AAoBL;;AAAA;;AAaW;;AAAA;;AAQE;;AAAA;;AAKA;;AAAA;;AAgBZ;;AAAA;;AAaU;;AAAA;;AAQE;;AAAA;;AAKA;;AAAA;;;;;;;;;wED3FlBA,8B,EAA8B;gBAL1C,uDAK0C;iBALhC;AACT3tB,oBAAQ,EAAE,4BADD;AAETC,uBAAW,EAAE,yCAFJ;AAGTC,qBAAS,EAAE,CAAC,yCAAD;AAHF,W;AAKgC,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZ3C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASa0tB,uB;AASX,yCACUv/B,MADV,EACwB;AAAA;;AAAd,eAAAA,MAAA,GAAAA,MAAA;AARV,eAAAw/B,0BAAA,GAAoC,KAApC;AACA,eAAAC,kBAAA,GAA4B,KAA5B;AAEA,eAAAlkB,oBAAA,GAAgC,KAAhC;AACA,eAAAC,gBAAA,GAA4B,KAA5B;AAKK;;;;iBAEL,oBAAQ,CACP;;;iBAGD,2BAAe;AACb,iBAAKxb,MAAL,CAAY8Q,QAAZ,CAAqB,qDAArB;AAID;;;;;;;yBAtBUyuB,uB,EAAuB,uH;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA,iB;AAAA,e;AAAA,slB;AAAA;AAAA;ACTpC;;AACI;;AACI;;AACI;;AAEJ;;AACA;;AACI;;AAAyB;;AAAG;;AAAuB;;AAAI;;AACvD;;AACI;;AACJ;;AACJ;;AACJ;;AAiBJ;;AACA;;AACI;;AAGI;;AACI;;AACI;;AAAgB;;AAAkB;;AAEtC;;AACA;;AACI;;AACI;;AACI;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AAcJ;;AAEA;;AACA;;AACI;;AACI;;AAAmC;AAAA,qBAAS,IAAAG,eAAA,EAAT;AAA0B,aAA1B;;AAC/B;;AAAY;;AAAU;;AAAa;;AACvC;;AACJ;;AASJ;;AAEJ;;AAEJ;;AAEJ;;;;AAvC6B;;AAAA;;;;;;;;;wEDtChBH,uB,EAAuB;gBALnC,uDAKmC;iBALzB;AACT5tB,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKyB,U;;;;;;;;;;;;;;;;;;;;;;AETpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAmDA;AAKA;;;UAgFa8tB,iB;;;;;cAAAA;;;;2BAAAA,iB;AAAiB,S;AAAA,mBALjB,CACT,4DADS,C;AAEV,kBAvBQ,CAEP,4DAFO,EAGP,qEAHO,EAIP,kEAJO,EAKP,sEALO,EAMP,2EANO,EAOP,0DAPO,EAQP,oEARO,EASP,qEATO,EAUP,kEAVO,EAWP,6EAXO,EAYP,uFAZO,EAaP,sGAbO,EAcP,uFAdO,EAeP,wEAfO,EAgBP,oFAhBO,EAiBP,6DAAaC,QAAb,CAAsB,uEAAtB,CAjBO,EAkBP,mEAlBO,CAuBR;;;;4HAGUD,iB,EAAiB;AAAA,yBAxE1B,4EAwE0B,EAvE1B,0HAuE0B,EAtE1B,mGAsE0B,EArE1B,wHAqE0B,EApE1B,4GAoE0B,EAnE1B,sGAmE0B,EAlE1B,gIAkE0B,EAjE1B,mGAiE0B,EAhE1B,sHAgE0B,EA/D1B,0HA+D0B,EA9D1B,uHA8D0B,EA7D1B,iKA6D0B,EA5D1B,mIA4D0B,EA3D1B;AACA,gKA0D0B,EAzD1B,8KAyD0B,EAxD1B,2JAwD0B,EAvD1B,oLAuD0B,EAtD1B,qNAsD0B,EArD1B,wMAqD0B,EApD1B,gIAoD0B,EAnD1B,iIAmD0B,EAlD1B,wJAkD0B,EAjD1B,4IAiD0B,EAhD1B,2HAgD0B,EA/C1B,+JA+C0B,EA9C1B,2HA8C0B,EA7C1B,kKA6C0B,EA5C1B,8IA4C0B,EA3C1B,+IA2C0B,EA1C1B,gHA0C0B,EAzC1B,wKAyC0B,EAxC1B,wLAwC0B,EAtC1B,oLAsC0B,EApC1B,8JAoC0B,EAlC1B,+JAkC0B,EAjC1B,kMAiC0B,EAhC1B,gHAgC0B,EA/B1B;AACA,gKA8B0B,EA7B1B,2HA6B0B,EA5B1B,+HA4B0B;AA5BC,oBAI3B,4DAJ2B,EAK3B,qEAL2B,EAM3B,kEAN2B,EAO3B,sEAP2B,EAQ3B,2EAR2B,EAS3B,0DAT2B,EAU3B,oEAV2B,EAW3B,qEAX2B,EAY3B,kEAZ2B,EAa3B,6EAb2B,EAc3B,uFAd2B,EAe3B,sGAf2B,EAgB3B,uFAhB2B,EAiB3B,wEAjB2B,EAkB3B,oFAlB2B,EAkBN,4DAlBM,EAoB3B,mEApB2B;AA4BD,S;AARd,O;;;;;wEAQHA,iB,EAAiB;gBA1E7B,sDA0E6B;iBA1EpB;AACRE,wBAAY,EAAE,CACZ,4EADY,EAEZ,0HAFY,EAGZ,mGAHY,EAIZ,wHAJY,EAKZ,4GALY,EAMZ,sGANY,EAOZ,gIAPY,EAQZ,mGARY,EASZ,sHATY,EAUZ,0HAVY,EAWZ,uHAXY,EAYZ,iKAZY,EAaZ,mIAbY,EAcZ;AACA,kKAfY,EAgBZ,8KAhBY,EAiBZ,2JAjBY,EAkBZ,oLAlBY,EAmBZ,qNAnBY,EAoBZ,wMApBY,EAqBZ,gIArBY,EAsBZ,iIAtBY,EAuBZ,wJAvBY,EAwBZ,4IAxBY,EAyBZ,2HAzBY,EA0BZ,+JA1BY,EA2BZ,2HA3BY,EA4BZ,kKA5BY,EA6BZ,8IA7BY,EA8BZ,+IA9BY,EA+BZ,gHA/BY,EAgCZ,wKAhCY,EAiCZ,wLAjCY,EAmCZ,oLAnCY,EAqCZ,8JArCY,EAuCZ,+JAvCY,EAwCZ,kMAxCY,EAyCZ,gHAzCY,EA0CZ;AACA,kKA3CY,EA4CZ,2HA5CY,EA6CZ,+HA7CY,CADN;AAgDRC,mBAAO,EAAE,CAEP,4DAFO,EAGP,qEAHO,EAIP,kEAJO,EAKP,sEALO,EAMP,2EANO,EAOP,0DAPO,EAQP,oEARO,EASP,qEATO,EAUP,kEAVO,EAWP,6EAXO,EAYP,uFAZO,EAaP,sGAbO,EAcP,uFAdO,EAeP,wEAfO,EAgBP,oFAhBO,EAiBP,6DAAaF,QAAb,CAAsB,uEAAtB,CAjBO,EAkBP,mEAlBO,CAhDD;AAqERG,qBAAS,EAAE,CACT,4DADS,CArEH;AAwERC,mBAAO,EAAE,CAAC,oEAAD;AAxED,W;AA0EoB,U;;;;;;;;;;;;;;;;;;ACxI9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAKA;AACA;;;;;ACca;;AAEE;;AACD;;;;;;AA8B2D;;AAA0C;;AAAC;;;;;;;;AAE1F;;AACE;;AACE;;AAQA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA,aAAoL,OAApL,EAAoL;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA,WAApL;;AARA;;AAWF;;AAEA;;AAAqE;;AAA2B;;AAClG;;;;;;;;;;;;;AAVI;;AAAA;;AACA;;AAJA,iGAA0B,cAA1B,EAA0B,UAA1B,EAA0B,WAA1B,EAA0B,wCAA1B,EAA0B,OAA1B,EAA0B,4LAA1B;;AAYS;;AAAA;;AAA8B;;AAA4B;;AAAA;;;;;;AAajE;;AACE;;AACF;;;;;;AAFmD;;AACjD;;AAAA;;;;;;;;AAZR;;AACE;;AACE;;AAKA;AAAA;;AAAA;;AAAA;;AAAA;AAAA,aAAoD,iBAApD,EAAoD;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA,WAApD;;AAIE;;AAGF;;AACF;;AACA;;AAAsE;;AAAmC;;AAC3G;;;;;;;;;;;AAdI;;AAAA,iGAA0B,MAA1B,EAA0B,0EAA1B,EAA0B,IAA1B,EAA0B,0EAA1B,EAA0B,OAA1B,EAA0B,iGAA1B,EAA0B,UAA1B,EAA0B,iCAA1B;;AAQ6B;;AAAA;;AAKpB;;AAAA;;AAA8B;;AAA6B;;AAAA;;;;;;AAtC5E;;AACE;;AACE;;AACE;;AAAU;;AAAmC;;AAAkD;;AACjG;;AACA;;AAiBA;;AAkBF;;AACF;;;;;;;AAtCgB;;AAAA;;AAAuD;;AAAA;;AAE1C;;AAAA;;AAiBA;;AAAA;;;;;;AAjC3C;;AACE;;AACA;;AAAiB;;AAA+B;;AAAY;;AAAY;;AAAmB;;AAA8B;;AAAO;;AAChI;;AACE;;AACE;;AACM;;AACE;;AAAI;;AAAS;;AACf;;AACA;;AACiC;;AAC/B;;AAwDF;;AACF;;AACJ;;AACF;;AACF;;;;;;AArE2F;;AAAA;;AASpB;;AAAA;;;;UDlCpEC,yC;AAoCX,2DACUjgC,MADV,EAEU+X,GAFV,EAGUnX,KAHV,EAIUwT,EAJV,EAKU9T,EALV,EAMUH,cANV,EAOUC,KAPV,EAQUC,QARV,EASE;AACQK,WAVV,EAU+B;AAAA;;AATrB,eAAAV,MAAA,GAAAA,MAAA;AACA,eAAA+X,GAAA,GAAAA,GAAA;AACA,eAAAnX,KAAA,GAAAA,KAAA;AACA,eAAAwT,EAAA,GAAAA,EAAA;AACA,eAAA9T,EAAA,GAAAA,EAAA;AACA,eAAAH,cAAA,GAAAA,cAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACA,eAAAC,QAAA,GAAAA,QAAA;AAEA,eAAAK,GAAA,GAAAA,GAAA,CAAqB,CAzC/B;;AACA,eAAA+P,WAAA,GAAY,YAAZ;AAEA,eAAAyvB,mBAAA,GAA6B,EAA7B;AACA,eAAAC,wBAAA,GAAkG,EAAlG;AACA,eAAAC,qBAAA,GAAiJ,EAAjJ;AACA,eAAAC,iBAAA,GAAoB,IAAI,0DAAJ,CAAgB,EAAhB,CAApB;AACA,eAAAC,WAAA,GAAc,IAAI,0DAAJ,CAAgB,EAAhB,CAAd;AAGA,eAAAC,WAAA,GAAuB,KAAvB;AACA,eAAAC,cAAA,GAA0B,IAA1B;AACA,eAAAC,aAAA,GAAyB,KAAzB;AACA,eAAAC,mBAAA,GAA+B,KAA/B;AAGA,eAAA79B,WAAA,GAAsB,EAAtB;AACA,eAAAV,cAAA,GAA0B,KAA1B;AAIA,eAAA+P,2BAAA,GAAoC,KAApC;AAOA,eAAAyuB,cAAA,GAAuB,EAAvB;AAcK;;;;iBAGL,oBAAQ;AACN;AACA;AACF;AACE,iBAAK18B,MAAL,GAAY,KAAK3D,EAAL,CAAQ4D,OAAR,CAAgB,QAAhB,CAAZ;AACA,iBAAK08B,YAAL,GAAoB,KAAKtgC,EAAL,CAAQ4D,OAAR,CAAgB,YAAhB,CAApB;AACA,iBAAKgO,2BAAL,GAAmC,KAAK5R,EAAL,CAAQ4D,OAAR,CAAgB,kCAAhB,CAAnC,CANM,CAON;;AAEA,iBAAK2C,cAAL,GAAsB,KAAKvG,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAtB,CATM,CAUN;;AACA9C,mBAAO,CAACyC,GAAR,CAAY,KAAKgD,cAAjB;AACAzF,mBAAO,CAACyC,GAAR,CAAY,KAAK+8B,YAAjB;AACA,gBAAIC,iBAAiB,GAAYv8B,IAAI,CAACC,KAAL,CAAW,KAAKjE,EAAL,CAAQ4D,OAAR,CAAgB,oBAAhB,CAAX,CAAjC,CAbM,CAeN;;AACE,gBAAK,KAAKD,MAAL,IAAe,IAAf,IAAuB,KAAKiO,2BAAjC,EAA8D;AAC9D,mBAAK/P,cAAL,GAAsB,IAAtB;AACA,mBAAKu+B,mBAAL,GAA2B,IAA3B;AACA,mBAAKI,iBAAL;AACD,aAJC,MAIK;AACL1/B,qBAAO,CAACyC,GAAR,CAAY,MAAZ;AACA,mBAAK1B,cAAL,GAAsB,KAAtB;AACA,mBAAK4+B,QAAL;AACD,aAxBK,CAyBR;AAEA;AACA;AACC;AAEC;AACA;AACA;AACA;;AAID;;;iBACD,iBAAQj9B,CAAR,EAAmB;AACjB,mBAAO,IAAIk9B,KAAJ,CAAUl9B,CAAV,CAAP;AACH;;;iBACC,oBAAQ;AAAA;;AACN,iBAAKiU,GAAL,CAASkpB,qBAAT,CAA+B,KAAKxwB,WAApC,EAAiDhL,SAAjD,CAA2D,UAAC8N,QAAD,EAAc;AACvEnS,qBAAO,CAACyC,GAAR,CAAY0P,QAAZ;AAEAnS,qBAAO,CAACyC,GAAR,CAAY,QAAI,CAACgD,cAAjB;;AACA,kBAAG,CAAC,QAAI,CAACA,cAAN,IAAwB0M,QAA3B,EAAoC;AAClC,wBAAI,CAAC1M,cAAL,GAAoB0M,QAAQ,CAAC5J,MAA7B;AACD;;AACD4J,sBAAQ,CAAC,CAAD,CAAR,CAAY2tB,aAAZ,GAA0B,WAA1B;;AAEA,mBAAK,IAAIhR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,QAAI,CAACrpB,cAAzB,EAAyCqpB,CAAC,EAA1C,EAA8C;AAC1C,wBAAI,CAACiQ,wBAAL,CAA8B9wB,IAA9B,CAAmC;AAAC8xB,mCAAiB,EAAE5tB,QAApB;AAA6BpP,6BAAW,EAAE+rB,CAAC,GAAG,CAA9C;AAAiDkR,kCAAgB,EAAE7tB;AAAnE,iBAAnC;;AACA,oBAAI8tB,UAAU,GAAU,EAAxB;AACAjgC,uBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAmB,QAAI,CAACu9B,gBAAxB;;AACA,qBAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/tB,QAAQ,CAAC5J,MAA7B,EAAqC23B,CAAC,EAAtC,EAAyC;AACvCD,4BAAU,CAAChyB,IAAX,CAAgB;AAACkyB,uCAAmB,EAAEhuB,QAAQ,CAAC+tB,CAAD,CAAR,CAAYC,mBAAlC;AAAuDC,mCAAe,EAAE,IAAxE;AAA8EC,sCAAkB,EAAE;AAAlG,mBAAhB;AACD;;AACD,wBAAI,CAACrB,qBAAL,CAA2B/wB,IAA3B,CAAgC;AAAClL,6BAAW,EAAE+rB,CAAC,GAAG,CAAlB;AAAqBkR,kCAAgB,EAAEC;AAAvC,iBAAhC;AACH;;AAEDjgC,qBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAmB,QAAI,CAACu9B,gBAAxB;AACAhgC,qBAAO,CAACyC,GAAR,CAAY,OAAZ,EAAoB,QAAI,CAACs8B,wBAAzB;;AACA,sBAAI,CAACz/B,GAAL,CAAS0G,YAAT;AACD,aAtBD;AAuBD;;;iBAED,6BAAoB;AAAA;;AAClBhG,mBAAO,CAACyC,GAAR,CAAY,KAAK68B,mBAAjB;AACA,iBAAK3oB,GAAL,CAASzE,kCAAT,CAA4C,KAAKrP,MAAjD,EAAyDwB,SAAzD,CAAmE,UAAC8N,QAAD,EAAc;AAC/EnS,qBAAO,CAACyC,GAAR,CAAY,QAAI,CAAC68B,mBAAjB;AACA,sBAAI,CAACltB,4BAAL,GAAoCD,QAApC;AACAnS,qBAAO,CAACyC,GAAR,CAAY,QAAI,CAAC2P,4BAAL,CAAkC8sB,WAAlC,GAAgD,KAAhD,GAAwD,QAAI,CAAC9sB,4BAAL,CAAkC6sB,iBAAtG;;AACA,sBAAI,CAACC,WAAL,CAAiB15B,QAAjB,CAA0B,QAAI,CAAC4M,4BAAL,CAAkC8sB,WAA5D;;AACA,sBAAI,CAACD,iBAAL,CAAuBz5B,QAAvB,CAAgC,QAAI,CAAC4M,4BAAL,CAAkC6sB,iBAAlE;;AACAj/B,qBAAO,CAACyC,GAAR,CAAY,gBAAZ,EAA8B,QAAI,CAACy8B,WAAnC;AACAl/B,qBAAO,CAACyC,GAAR,CAAY,sBAAZ,EAAoC,QAAI,CAACw8B,iBAAzC;AAEA,sBAAI,CAACF,wBAAL,GAAgC,EAAhC;;AAT+E,2CAUtEr8B,CAVsE;AAW7E1C,uBAAO,CAACyC,GAAR,CAAY,YAAZ,EAA0B,QAAI,CAAC2P,4BAAL,CAAkCC,gBAA5D;;AACA,wBAAI,CAACsE,GAAL,CAASkpB,qBAAT,CAA+B,QAAI,CAACxwB,WAApC,EAAiDhL,SAAjD,CAA2D,UAAC8N,QAAD,EAAc;AACvEnS,yBAAO,CAACyC,GAAR,CAAY0P,QAAZ;AAEAnS,yBAAO,CAACyC,GAAR,CAAY,QAAI,CAACgD,cAAjB;;AACA,sBAAI,CAAC,QAAI,CAACA,cAAN,IAAwB0M,QAA5B,EAAsC;AACpC,4BAAI,CAAC1M,cAAL,GAAsB0M,QAAQ,CAAC5J,MAA/B;AACD;;AAED,uBAAK,IAAIumB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,QAAI,CAACrpB,cAAzB,EAAyCqpB,CAAC,EAA1C,EAA8C;AAC5C,4BAAI,CAACiQ,wBAAL,CAA8B9wB,IAA9B,CAAmC;AAAE8xB,uCAAiB,EAAE5tB,QAArB;AAA+BpP,iCAAW,EAAE+rB,CAAC,GAAG,CAAhD;AAAmDkR,sCAAgB,EAAE7tB;AAArE,qBAAnC;;AACAnS,2BAAO,CAACyC,GAAR,CAAY,QAAI,CAAC2P,4BAAL,CAAkCC,gBAAlC,CAAmD3P,CAAnD,EAAsDs9B,gBAAtD,CAAuEz3B,MAAnF;;AACA,yBAAK,IAAI0d,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,QAAI,CAAC7T,4BAAL,CAAkCC,gBAAlC,CAAmD3P,CAAnD,EAAsDs9B,gBAAtD,CAAuEz3B,MAA3F,EAAmG0d,CAAC,EAApG,EAAwG;AACtGjmB,6BAAO,CAACyC,GAAR,CAAY,QAAI,CAAC2P,4BAAL,CAAkCC,gBAAlC,CAAmD3P,CAAnD,EAAsDs9B,gBAAlE;AACA,0BAAIM,KAAK,GAAG,QAAI,CAACluB,4BAAL,CAAkCC,gBAAlC,CAAmD3P,CAAnD,EAAsDs9B,gBAAlE;AACAhgC,6BAAO,CAACyC,GAAR,CAAY69B,KAAZ;;AAGA,8BAAI,CAACxB,mBAAL,CAAyB7wB,IAAzB,CAA8BqyB,KAAK,CAACra,CAAD,CAAL,CAASma,eAAvC;;AACA,2BAAI,IAAI/qB,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAG,QAAI,CAACypB,mBAAL,CAAyBv2B,MAA1C,EAAkD8M,CAAC,EAAnD,EAAsD;AACpD,4BAAG,QAAI,CAACypB,mBAAL,CAAyB,CAAzB,CAAH,EAA+B;AAC7B,kCAAI,CAACS,cAAL,GAAsB,QAAI,CAACT,mBAAL,CAAyB,CAAzB,CAAtB;AACA9+B,iCAAO,CAACyC,GAAR,CAAY,QAAI,CAAC89B,cAAjB;AACD,yBAHD,MAIK,IAAG,QAAI,CAACzB,mBAAL,CAAyB,CAAzB,CAAH,EAA+B;AAClC,kCAAI,CAAC0B,eAAL,GAAuB,QAAI,CAAC1B,mBAAL,CAAyB,CAAzB,CAAvB;AACA9+B,iCAAO,CAACyC,GAAR,CAAY,QAAI,CAAC+9B,eAAjB;AACD;AACF;;AACDxgC,6BAAO,CAACyC,GAAR,CAAY,QAAI,CAACq8B,mBAAjB;AACD;AACF;;AAED9+B,yBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAoB,QAAI,CAACu9B,gBAAzB;AACAhgC,yBAAO,CAACyC,GAAR,CAAY,OAAZ,EAAqB,QAAI,CAACs8B,wBAA1B;;AACA,0BAAI,CAACz/B,GAAL,CAAS0G,YAAT;AACD,iBAnCD;;AAqCA,wBAAI,CAACg5B,qBAAL,GAA6B,QAAI,CAACD,wBAAlC;AAjD6E;;AAU/E,mBAAK,IAAIr8B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,QAAI,CAAC0P,4BAAL,CAAkCC,gBAAlC,CAAmD9J,MAAvE,EAA+E7F,CAAC,EAAhF,EAAoF;AAAA,uBAA3EA,CAA2E;AAwCnF;;AAED1C,qBAAO,CAACyC,GAAR,CAAY,QAAI,CAACs8B,wBAAjB,EAA2C,yBAA3C;AACA,sBAAI,CAACK,cAAL,GAAsB,KAAtB;;AACA,sBAAI,CAAC9/B,GAAL,CAAS0G,YAAT;AACD,aAvDD;AAwDD;;;iBAGD,oBAAWuE,EAAX,EAAoBk2B,MAApB,EAAiCC,KAAjC,EAAgDC,KAAhD,EAA2Dn2B,KAA3D,EAAsEo2B,UAAtE,EAAuF;AACrF5gC,mBAAO,CAACyC,GAAR,CAAY,UAAZ,EAAwBg+B,MAAxB,EAA+Bj2B,KAA/B,EAAsCo2B,UAAtC;;AACA,gBAAIF,KAAK,IAAI,UAAb,EAAyB;AACvBD,oBAAM,GAAGA,MAAM,CAAC/3B,QAAP,EAAT;AACD;;AACD,gBAAIm4B,WAAW,GAAY,KAA3B;AACA,gBAAIC,YAAY,GAAY,KAA5B;;AACA,iBAAK,IAAIlsB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKoqB,qBAAL,CAA2Bz2B,MAA/C,EAAuDqM,CAAC,EAAxD,EAA4D;AAC1D,kBAAI,KAAKoqB,qBAAL,CAA2BpqB,CAA3B,EAA8B7R,WAA9B,IAA6C69B,UAAjD,EAA8D;AAC5D,qBAAK,IAAI9R,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKkQ,qBAAL,CAA2BpqB,CAA3B,EAA8BorB,gBAA9B,CAA+Cz3B,MAAnE,EAA2EumB,CAAC,EAA5E,EAAgF;AAC9E9uB,yBAAO,CAACyC,GAAR,CAAYqsB,CAAZ,EAAe,KAAKkQ,qBAAL,CAA2BpqB,CAA3B,EAA8BorB,gBAA9B,CAA+ClR,CAA/C,CAAf;;AACA,sBAAI,KAAKkQ,qBAAL,CAA2BpqB,CAA3B,EAA8BorB,gBAA9B,CAA+ClR,CAA/C,EAAkDqR,mBAAlD,IAAyE51B,EAA7E,EAAiF;AAC/E,yBAAKy0B,qBAAL,CAA2BpqB,CAA3B,EAA8BorB,gBAA9B,CAA+ClR,CAA/C,EAAkDsR,eAAlD,GAAoEK,MAApE;AACAI,+BAAW,GAAG,IAAd;AACD;AACF;;AACDC,4BAAY,GAAG,IAAf;AACD;AACF;;AACD,gBAAI,CAACD,WAAL,EAAkB;AAChB,kBAAIE,SAAS,GAAQ,EAArB;AACAA,uBAAS,CAACZ,mBAAV,GAAgC51B,EAAhC;AACAw2B,uBAAS,CAACX,eAAV,GAA4BK,MAA5B;;AACA,kBAAIE,KAAK,IAAI,IAAb,EAAmB;AACjBI,yBAAS,CAACV,kBAAV,GAA+BM,KAA/B;AAED;;AACD,kBAAI,CAACG,YAAL,EAAmB;AACjB,oBAAIE,GAAG,GAAG,KAAKhC,qBAAL,CAA2Bz2B,MAArC;AACA,qBAAKy2B,qBAAL,CAA2B/wB,IAA3B,CAAgC;AAAClL,6BAAW,EAAE69B,UAAd;AAA0BZ,kCAAgB,EAAEe;AAA5C,iBAAhC;AACD,eAHD,MAGO;AACL,qBAAK,IAAInsB,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,KAAKoqB,qBAAL,CAA2Bz2B,MAA/C,EAAuDqM,EAAC,EAAxD,EAA4D;AAC1D,sBAAI,KAAKoqB,qBAAL,CAA2BpqB,EAA3B,EAA8B7R,WAA9B,IAA6C69B,UAAjD,EAA8D;AAC1D,yBAAK5B,qBAAL,CAA2BpqB,EAA3B,EAA8BorB,gBAA9B,CAA+C/xB,IAA/C,CAAoD8yB,SAApD;;AACA/gC,2BAAO,CAACyC,GAAR,CAAY,KAAKu8B,qBAAL,CAA2BpqB,EAA3B,EAA8BorB,gBAA1C;AACH;AACF;AACF,eAlBe,CAmBhB;;AACD;;AAED,gBAAI,KAAKhB,qBAAL,CAA2Bz2B,MAA3B,IAAqC,KAAKw2B,wBAAL,CAA8Bx2B,MAAvE,EAA+E;AAC7E,kBAAI62B,cAAc,GAAW,CAA7B;;AACA,mBAAK,IAAIxqB,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,KAAKoqB,qBAAL,CAA2Bz2B,MAA/C,EAAuDqM,GAAC,EAAxD,EAA4D;AAC1D,qBAAK,IAAIlS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKs8B,qBAAL,CAA2BpqB,GAA3B,EAA8BorB,gBAA9B,CAA+Cz3B,MAAnE,EAA2E7F,CAAC,EAA5E,EAAgF;AAC9E,sBAAIu+B,QAAQ,GAAQ,KAAKjC,qBAAL,CAA2BpqB,GAA3B,EAA8BorB,gBAA9B,CAA+Ct9B,CAA/C,EAAkD09B,eAAtE;;AACA,sBAAIa,QAAQ,IAAI,EAAZ,IAAkBA,QAAQ,IAAI,IAA9B,IAAsCA,QAAQ,IAAInrB,SAAtD,EAAiE;AAC/DspB,kCAAc;AACf;AACF;AACF;;AACD,kBAAIA,cAAc,GAAG,CAArB,EAAwB;AACtB,qBAAKA,cAAL,GAAsB,IAAtB;AACD,eAFD,MAGK,IAAI,KAAKC,aAAL,IAAsB,KAAtB,IAA+BD,cAAc,IAAI,CAArD,EAAwD;AAC3D,qBAAKA,cAAL,GAAsB,KAAtB;AACD;AACF;;AACDp/B,mBAAO,CAACyC,GAAR,CAAY,aAAZ,EAA2B,KAAKu8B,qBAAhC;AAED;;;iBAED,4BAAmBkC,UAAnB,EAAoC12B,KAApC,EAAgD22B,cAAhD,EAAwE;AACtE;AACA,gBAAIC,KAAK,GAAQ,gBAAgB52B,KAAjC;;AACA,gBAAI02B,UAAU,IAAI,EAAd,IAAoBA,UAAU,IAAI,IAAlC,IAA0CA,UAAU,IAAIprB,SAA5D,EAAuE;AACrE,mBAAK7W,QAAL,CAAcoiC,QAAd,CAAuB,KAAKriC,KAAL,CAAWwe,aAAX,CAAyB8jB,aAAzB,CAAuCF,KAAvC,CAAvB,EAAsE,YAAtE,EAAoF,SAApF;AACD,aAFD,MAGK;AACH,kBAAI,CAACG,KAAK,CAACL,UAAD,CAAN,IAAsBC,cAAc,IAAI,MAA5C,EAAoD;AAClD,qBAAKliC,QAAL,CAAcoiC,QAAd,CAAuB,KAAKriC,KAAL,CAAWwe,aAAX,CAAyB8jB,aAAzB,CAAuCF,KAAvC,CAAvB,EAAsE,YAAtE,EAAoF,SAApF;AACA,qBAAK/B,aAAL,GAAqB,IAArB;AACD,eAHD,MAIK;AACH,qBAAKpgC,QAAL,CAAcoiC,QAAd,CAAuB,KAAKriC,KAAL,CAAWwe,aAAX,CAAyB8jB,aAAzB,CAAuCF,KAAvC,CAAvB,EAAsE,YAAtE,EAAoF,QAApF;AACA,qBAAK/B,aAAL,GAAqB,KAArB;AACD;AACF;AACF;;;iBAED,6BAAoBmC,WAApB,EAAsCh3B,KAAtC,EAAkD;AAChD;AACA,gBAAI42B,KAAK,GAAQ,iBAAiB52B,KAAlC;;AACA,gBAAIg3B,WAAW,IAAI,EAAf,IAAqBA,WAAW,IAAI,IAApC,IAA4CA,WAAW,IAAI1rB,SAA/D,EAA0E;AACxE,mBAAK7W,QAAL,CAAcoiC,QAAd,CAAuB,KAAKriC,KAAL,CAAWwe,aAAX,CAAyB8jB,aAAzB,CAAuCF,KAAvC,CAAvB,EAAsE,YAAtE,EAAoF,SAApF;AACD,aAFD,MAGK;AACH,mBAAKniC,QAAL,CAAcoiC,QAAd,CAAuB,KAAKriC,KAAL,CAAWwe,aAAX,CAAyB8jB,aAAzB,CAAuCF,KAAvC,CAAvB,EAAsE,YAAtE,EAAoF,QAApF;AACD;AACF;;;iBAED,kBAAS;AACP;AACA,iBAAKxiC,MAAL,CAAY8Q,QAAZ,CAAqB,CAAC,8CAAD,CAArB;AAED;;;iBAED,oBAAWnF,EAAX,EAAe;AACb,iBAAKoM,GAAL,CAAS8qB,0BAAT,CAAoCl3B,EAApC,EAAwClG,SAAxC,CAAkD,UAAC8N,QAAD,EAAc,CAC9D;AACA;AACD,aAHD;AAID;;;iBACD,gCAAoB;AAAA;;AAClB,gBAAIuvB,UAAU,GAAQ,EAAtB,CADkB,CAElB;AACA;;AACA1hC,mBAAO,CAACyC,GAAR,CAAY,KAAKgD,cAAjB;AACA,gBAAIw5B,iBAAiB,GAAG,KAAKx5B,cAA7B,CALkB,CAMlB;;AACAi8B,sBAAU,CAAC7+B,MAAX,GAAkB,KAAKA,MAAvB,CAPkB,CAQlB;;AACA6+B,sBAAU,CAACzC,iBAAX,GAA+BA,iBAA/B;AACAyC,sBAAU,CAACxC,WAAX,GAAyB,KAAKA,WAAL,CAAiBxgC,KAA1C;AACAgjC,sBAAU,CAAClC,YAAX,GAA0B,GAA1B;AACAkC,sBAAU,CAACryB,WAAX,GAAuB,YAAvB;AAEAqyB,sBAAU,CAACrvB,gBAAX,GAA8B,KAAK2sB,qBAAnC;AACAh/B,mBAAO,CAACyC,GAAR,CAAYi/B,UAAZ;AACA,iBAAK/qB,GAAL,CAASgrB,wBAAT,CAAkCD,UAAlC,EAA8Cr9B,SAA9C,CAAwD,UAACC,IAAD,EAAU;AAChEtE,qBAAO,CAACyC,GAAR,CAAY,MAAZ,EAAmBi/B,UAAU,CAAC7+B,MAA9B;;AACA,sBAAI,CAACrD,KAAL,CAAW0L,IAAX,CAAgB,gDAAhB,EAAkE,IAAlE,EAAwE;AACtEG,wBAAQ,EAAE,IAD4D;AAEtEC,gCAAgB,EAAE,KAFoD;AAGtEC,kCAAkB,EAAE;AAHkD,eAAxE,EAFgE,CAOhE;;;AACA,sBAAI,CAAC4zB,WAAL,GAAmB,IAAnB,CARgE,CAShE;AACA;AACA;;AACA,sBAAI,CAACpgC,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AAED,aAdD,EAcG,UAAArB,GAAG,EAAI;AACR,sBAAI,CAAC/E,KAAL,CAAW0L,IAAX,CAAgB,eAAhB,EAAiC,IAAjC,EAAuC;AACrCG,wBAAQ,EAAE,IAD2B;AAErCC,gCAAgB,EAAE,KAFmB;AAGrCC,kCAAkB,EAAE;AAHiB,eAAvC;AAKD,aApBD;AAqBA,iBAAK3F,IAAL;AACD;;;iBAED,gBAAI;AACF,iBAAK1G,EAAL,CAAQiG,OAAR,CAAgB,kCAAhB,EAAoD,IAApD;AACA,iBAAKjG,EAAL,CAAQiG,OAAR,CAAgB,wBAAhB,EAAyC,IAAzC;AACA,iBAAKpG,cAAL,CAAoB+G,OAApB,CAA4BF,IAA5B;AACC,iBAAKhH,MAAL,CAAY8Q,QAAZ,CAAqB,CAAC,mCAAD,CAArB;AACF,W,CAED;AACA;AACA;AACA;AACA;;;;iBACA,uBAAc7G,KAAd,EAAmB;AACjB7I,mBAAO,CAACyC,GAAR,CAAYoG,KAAZ;AAED;;;;;;;yBAjVUg2B,yC,EAAyC,uH,EAAA,2I,EAAA,wI,EAAA,2H,EAAA,0J,EAAA,sJ,EAAA,yH,EAAA,wH,EAAA,gI;AAAA,O;;;cAAzCA,yC;AAAyC,+D;AAAA,iB;AAAA,e;AAAA,w4C;AAAA;AAAA;AChBtD;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AAAyB;;AAAG;;AAAsB;;AAAI;;AACxD;;AACF;;AACA;;AACE;;AACE;;AAAkB;;AAAsB;;AACxC;;AACA;;AACE;;AACA;;AACE;;AAAI;;AAAG;;AAAY;;AAAI;;AACvB;;AACE;;AAEC;;AAIH;;AACA;;AAAkB;;AAAkC;;AACpD;;AACE;;AAIF;;AACA;;AAAkB;;AAAgB;;AAClC;;AAAG;;AAAkB;;AACvB;;AACF;;AAEA;;AACA;;AACE;;AAwEA;;AACJ;;AACF;;AAEA;;AACE;;AAA4B;AAAA,qBAAS,IAAApsB,MAAA,EAAT;AAAiB,aAAjB;;AAAmB;;AAAI;;AACnD;;AACA;;AAAkH;AAAA,qBAAS,IAAAmvB,oBAAA,EAAT;AAA+B,aAA/B;;AAA+C;;AAAI;;AACvK;;AACF;;;;AAtG0F;;AAAA;;AAG3E;;AAAA;;AAYF;;AAAA;;AAM6C;;AAAA;;AA+EI;;AAAA;;;;;;;;;wEDtGjD/C,yC,EAAyC;gBALrD,uDAKqD;iBAL3C;AACTtuB,oBAAQ,EAAE,wCADD;AAETC,uBAAW,EAAE,qDAFJ;AAGTC,qBAAS,EAAE,CAAC,qDAAD;AAHF,W;AAK2C,U","file":"views-card-account-card-account-module-es5.js","sourcesContent":["export class home\r\n{\r\n    limitType:any;\r\n    dailyLimit:number;\r\n    limitPerTransaction:number;\r\n   \r\n}","import { ChangeDetectorRef, Component, ElementRef, Input, OnInit, Renderer2, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatProgressBar } from '@angular/material/progress-bar';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppConfirmService } from 'app/shared/services/app-confirm/app-confirm.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { DataService } from 'app/shared/services/data.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n// import { AccountService } from 'app/views/home/account.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\nimport { UrlService } from 'app/views/home/url.service';\r\nimport * as moment from 'moment';\r\nimport { Subscription } from 'rxjs';\r\nimport { pairwise } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-card-customer-information',\r\n  templateUrl: './card-customer-information.component.html',\r\n  styleUrls: ['./card-customer-information.component.scss']\r\n})\r\nexport class CardCustomerInformationComponent implements OnInit {\r\n  cifNumberForm = new FormControl()\r\n  timer: any;\r\n  listOfCustByCif: any = [];\r\n\r\n  @ViewChild(MatProgressBar) progressBar: MatProgressBar;\r\n  submitted = false;\r\n  formData = {}\r\n  console = console;\r\n  cardCustomerForm: FormGroup;\r\n  accountId: string;\r\n  data: any;\r\n  customerIdProofs: any = [];\r\n  selfNextBtnDisabled: boolean = true;\r\n  arrayPrefix: any[] = [];\r\n  arrayGender: any[] = [];\r\n  arrayCountry: any[] = [];\r\n  arrayState: any[] = [];\r\n  arrayCity: any[] = [];\r\n  arrayResidence: any[] = [];\r\n  arrayDocumentType: any[] = [];\r\n  arrayAddressType: any[] = [];\r\n  applicantDetailsArray: any[] = [];\r\n  toggle: boolean = false;\r\n  maritalStatusList: string[];\r\n  // customerDetails: IcustProductCustomerInfo = new IcustProductCustomerInfo();\r\n  customerDetails: any = {};\r\n  applicantDetails = [];\r\n  navSubscription: any;\r\n  routeparams: any;\r\n  showEditOption: boolean = false;\r\n  custInfo: string[];\r\n  tomorrow = new Date();\r\n  maxDate = new Date();\r\n  minDate = new Date();\r\n  validDate = new Date();\r\n  showNewForm: boolean = true;\r\n  isCifValid: boolean = false;\r\n  toggleClick: boolean = false;\r\n  existingCustomer: boolean;\r\n  productCustomerId: any;\r\n  isCustomerDone: boolean = false;\r\n  previousUrl: string = '';\r\n  addOnCard: boolean = false;\r\n  addFunc: boolean = true;\r\n  index: any;\r\n  entityName: string;\r\n  removedButton: boolean = false;\r\n  selectedApplicant: any = null;\r\n  cifNumberPrimary: any;\r\n  listOfAccounts: any = [];\r\n  subscription: Subscription;\r\n  dispResponse: any;\r\n  arrayOwnership: string[];\r\n  cifNumber: any;\r\n  isAllSameDigitVal: boolean = false;\r\n  loanaccountID: any;\r\n  noOfapplicants: any;\r\n  ownershipStatus: any;\r\n  isChecked: boolean;\r\n  disabled: boolean;\r\n  disabledToggle: boolean;\r\n  @Input() i: any;\r\n  customerId: any;\r\n  currencyCode: any;\r\n  Currency: any;\r\n  Currency1: any;\r\n  cardId: any;\r\n  customerName: any;\r\n  currency: any;\r\n  ResideceCurrency: any;\r\n  isResidency: boolean = false;\r\n  isCurrency: boolean = false;\r\n  addonCardValue: boolean = false;\r\n  countryCode: any;\r\n  editCountryCode: any;\r\n  birthCountryFlag: any;\r\n  isBirthCountry: boolean = false;\r\n  isCountry: boolean = false;\r\n  form: FormGroup;\r\n  isDuplicateCIF: boolean;\r\n  disableSaveBtn: boolean;\r\n  showExpiryDate: boolean = true;\r\n  pinCodeErr: boolean = false;\r\n\r\n\r\n  constructor(private router: Router, private dialog: MatDialog, private route: ActivatedRoute, private accountService: AccountService, private elRef: ElementRef,\r\n    private renderer: Renderer2, private ls: LocalStoreService, private apiService: ApiService, private formBuilder: FormBuilder, private confirmService: AppConfirmService, private cdr: ChangeDetectorRef, private appApiService: ApplicationEntryStageService,\r\n    private snack: MatSnackBar, private dataService: DataService, private urlService: UrlService, private loader: AppLoaderService) {\r\n    this.tomorrow.setDate(this.tomorrow.getDate()),\r\n      this.validDate.setDate(this.validDate.getDate());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.console.log(this.i);\r\n    this.isDuplicateCIF = false;\r\n    this.disableSaveBtn = false;\r\n    // this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    this.cardId = this.ls.getItem('cardId');\r\n    console.log(this.cardId)\r\n    let applicantId = this.route.snapshot.params['id'];\r\n    //console.log(\"applicantId\", applicantId);\r\n    this.isCustomerDone = JSON.parse(this.ls.getItem('Card_Customer_Done'));\r\n    this.addOnCard = this.ls.getItem('ADD_ON_CARD') || false;\r\n    console.log('ADD_ON_CARD', this.addOnCard);\r\n\r\n    this.cifNumberPrimary = this.ls.getItem(\"Card_CIF_NUM_PRIMARY\");\r\n    //console.log(\"check if\", this.loanaccountID, this.isCustomerDone);\r\n    this.buildCustomerForm();\r\n    this.getListOfAccounts();\r\n    this.getOwnershipValue(\"ownership\");\r\n    this.getPrefixValue(\"prefix\");\r\n    this.getGenderValue(\"gender\");\r\n    this.getResidenceDetails(\"residence\");\r\n    this.getCountryName(\"country\");\r\n    this.getAdressType(\"address_type\");\r\n    this.getAllAuthCities();\r\n    // this.getStateName(\"state\");\r\n    // this.getCityName(\"city\");\r\n\r\n    this.getDocumentType(\"document_type\");\r\n    this.getMaritalStatus(\"maritial_Status\");\r\n    // this.onFocusOutEvent('783',0);\r\n    this.isChecked = true;\r\n    this.disabled = false;\r\n    this.disabledToggle = true;\r\n\r\n    if (this.addOnCard == true) {\r\n      this.goToggle(\"event\");\r\n    }\r\n    if (this.cardId != null && this.isCustomerDone) {\r\n      this.showEditOption = true;\r\n      this.appApiService.fetchCardCustomersByCardId(this.cardId, 'cardOrigin')\r\n        .subscribe((resp: any) => {\r\n          this.buildCustomerForm(resp);\r\n        }, (err: any) => {\r\n        });\r\n      this.getListOfAccounts();\r\n      this.dataExtracted();\r\n    } else {\r\n      this.showEditOption = false;\r\n      this.subscription = this.apiService.getaccParam.subscribe((data: any) => {\r\n        console.log(\"data::\", data);\r\n        this.dispResponse = data;\r\n        this.customerIdProofs = data.custIdProofs;\r\n        // Not Required THIS\r\n        // Comment Added By Sakthi\r\n        // If any issue reach me \r\n        // if (this.listOfAccounts.length == 0) {\r\n        //   this.populatePrimaryApplicant(data);\r\n        // } else {\r\n        //   this.fetchByCif(this.cifNumberPrimary, true);\r\n        // }\r\n      });\r\n    }\r\n    this.cardCustomerForm.get('ownership').valueChanges.subscribe(val => {\r\n      console.log(\"ownership ?\", val);\r\n      \r\n      if (val == 'Joint') {\r\n        this.cardCustomerForm.get('addOnCard').patchValue(true);\r\n        this.ls.setItem('ADD_ON_CARD', true);\r\n        this.cardCustomerForm.get('numOfApplicants').patchValue(2, { onlySelf: true, emitEvent: false });\r\n        this.cardCustomerForm.get('applicantDetails').reset();\r\n        // this.cardCustomerForm.controls['applicantDetails'].get('nationality').patchValue('')\r\n        this.disabled = false;\r\n        console.log(\"this.cardCustomerForm.get('numOfApplicants')\", this.cardCustomerForm.get('numOfApplicants'));\r\n      } else {\r\n        this.cardCustomerForm.get('addOnCard').patchValue(false);\r\n        this.ls.setItem('ADD_ON_CARD', false);\r\n        this.cardCustomerForm.get('numOfApplicants').patchValue(1, { onlySelf: true, emitEvent: false });\r\n      }\r\n    });\r\n    this.cardCustomerForm.get('numOfApplicants').valueChanges.subscribe(val => {\r\n      console.log(\"ownership ?\", val);\r\n      if (val == 1) {\r\n        this.cardCustomerForm.get('ownership').patchValue('Self', { onlySelf: true, emitEvent: false });\r\n        this.applicant.get('existingCustomer').patchValue(true);\r\n        this.applicant.get('primaryCustomer').patchValue(true);\r\n      } else {\r\n        this.cardCustomerForm.get('ownership').patchValue('Joint', { onlySelf: true, emitEvent: false });\r\n        this.applicant.get('existingCustomer').patchValue(true);\r\n        this.applicant.get('primaryCustomer').patchValue(false);\r\n        this.disabled = false;\r\n      }\r\n    });\r\n    console.log(this.cardCustomerForm);\r\n\r\n  }\r\n\r\n  dataExtracted() {\r\n    this.ownershipStatus = this.ls.getItem('cardownership_value');\r\n    console.log(\"ownership ?\", this.ownershipStatus);\r\n    if (this.ownershipStatus == \"Joint\") {\r\n      console.log(\"calling\")\r\n      this.cardCustomerForm.get('numOfApplicants').setValue(2);\r\n    } else {\r\n      this.cardCustomerForm.get('numOfApplicants').setValue(1);\r\n    }\r\n\r\n    this.noOfapplicants = this.ls.getItem('CardNoOfApplicants');\r\n    this.console.log(this.noOfapplicants)\r\n    if (this.noOfapplicants == 1) {\r\n      this.cardCustomerForm.get('ownership').setValue('Self');\r\n    } else {\r\n      this.cardCustomerForm.get('ownership').setValue('Joint');\r\n    }\r\n\r\n\r\n    this.applicant.get('idType')\r\n      .valueChanges\r\n      .pipe(pairwise())\r\n      .subscribe(([prev, next]: [any, any]) => {\r\n        this.applicant.get('idNumber').patchValue('');\r\n        this.applicant.get('expiryDate').patchValue('');\r\n      });\r\n\r\n    this.urlService.previousUrl$\r\n      .subscribe((previousUrl: string) => {\r\n        this.previousUrl = previousUrl\r\n      });\r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n      this.isCustomerDone = JSON.parse(this.ls.getItem('Card_Customer_Done'));\r\n      this.cdr.markForCheck();\r\n    });\r\n    this.cifNumber = this.ls.getItem('CIF_NUM_PRIMARY');\r\n    this.console.log(\"cifNumber=\", this.cifNumber);\r\n\r\n  }\r\n  populatePrimaryApplicant(data: any) {\r\n    this.getStateName(data.country);\r\n    // this.getCityName(data.state,true);\r\n    let applicantData = {\r\n      cifNumber: this.cifNumberPrimary,\r\n      prefix: data.prefix,\r\n      existingCustomer: true,\r\n      primaryCustomer: true,\r\n      customerId: data.customerId,\r\n      firstName: data.firstName,\r\n      middleName: data.middleName,\r\n      lastName: data.lastName,\r\n      gender: data.gender,\r\n      dateOfBirth: this.convertDate(data.dateOfBirth),\r\n      placeOfBirth: data.placeOfBirth,\r\n      residenceStatus: data.residenceStatus,\r\n      nationality: data.nationality,\r\n      countryOfResidence: data.countryOfResidence,\r\n      occupationType: data.occupationType,\r\n      idType: data.idType,\r\n      idNumber: data.idNumber,\r\n      expiryDate: this.convertDate(data?.expiryDate) || '',\r\n      addressType: data.addressType,\r\n      address1: data.address1,\r\n      address2: data.address2,\r\n      city: data.city,\r\n      country: data.country,\r\n      state: data.state,\r\n      zipCode: data.zipCode,\r\n      phoneNumber: data.phoneNumber,\r\n      landlineNumber: data.landlineNumber,\r\n      primaryEmailAdress: data.primaryEmailAdress,\r\n      maritalStatus: data.maritalStatus,\r\n      birthCountry: data.birthCountry\r\n\r\n    }\r\n\r\n    this.applicant.patchValue(applicantData);\r\n  }\r\n\r\n\r\n  changeIdType(doc) {\r\n    console.log(\"doc::\", doc)\r\n    console.log(\"this.customerIdProofs::\", this.customerIdProofs)\r\n    this.showExpiryDate = true;\r\n    if (doc === 'Aadhar card') {\r\n      // this.applicant.get('expiryDate').setValue('')\r\n      this.applicant.get('expiryDate').clearValidators()\r\n      this.showExpiryDate = false;\r\n    }\r\n    let idProofs: any = this.customerIdProofs.filter(item => {\r\n      return item.idType == doc;\r\n    })\r\n    console.log(\"idProofs::\", idProofs)\r\n    if (idProofs.length > 0) {\r\n      this.applicant.get('idNumber').patchValue(idProofs[0].idNumber);\r\n      this.applicant.get('expiryDate').patchValue(this.convertDate(idProofs[0]?.expiryDate) || '');\r\n    } else {\r\n      this.applicant.get('idNumber').patchValue('');\r\n      this.applicant.get('expiryDate').patchValue('');\r\n    }\r\n  }\r\n\r\n  isObjectEmpty(value) {\r\n    return (\r\n      Object.prototype.toString.call(value) === '[object Object]' &&\r\n      JSON.stringify(value) === '{}'\r\n    );\r\n  }\r\n\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n    if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  toggleDetails(account) {\r\n    console.log(this.cardCustomerForm);\r\n\r\n    console.log(\"customerId incomming\", account);\r\n    this.cardCustomerForm.get('numOfApplicants').disable({ onlySelf: true, emitEvent: false });\r\n    // if (this.selectedApplicant && this.selectedApplicant._id === account._id) {\r\n    //   // Close the details\r\n    //   this.closeDetails();\r\n    //   return;\r\n    // }\r\n    let address: any;\r\n    this.console.log(account.userAddress.length);\r\n    if (account.userAddress.length > 1) {\r\n      address = account.userAddress.find((item: any) => item.addressType == \"Permanent\");\r\n    } else {\r\n      address = account.userAddress[0];\r\n    }\r\n    this.getStateName(address.country);\r\n    // this.getCityName(address.state,true);\r\n    // if(account.countryOfResidence!=null){\r\n    //   this.onSelectionCitizionship( account.countryOfResidence);\r\n    // }\r\n    // if(account.nationality!=null){\r\n    //   this.onSelectionResidance(account.nationality);\r\n    // }\r\n\r\n    let payLoadModel = {\r\n      existingCustomer: account.existingCustomer,\r\n      dependentId: account.dependentId,\r\n      primaryCustomer: account.primaryCustomer,\r\n      cifNumber: account.cifNumber,\r\n      prefix: account.prefix,\r\n      firstName: account.firstName,\r\n\r\n      middleName: account.middleName,\r\n      lastName: account.lastName,\r\n      gender: account.gender,\r\n      dateOfBirth: account.dateOfBirth,\r\n      placeOfBirth: account.placeOfBirth,\r\n      residenceStatus: account.residenceStatus,\r\n      nationality: account.nationality,\r\n      countryOfResidence: account.countryOfResidence,\r\n      occupationType: account.occupationType,\r\n      idType: account.custIdProofs[0].idType,\r\n      idNumber: account.custIdProofs[0].idNumber,\r\n      expiryDate: account.custIdProofs[0]?.expiryDate || '',\r\n      addressType: address.addressType,\r\n      address1: address.address1,\r\n      address2: address.address2,\r\n      city: address.city,\r\n      state: address.state,\r\n      country: address.country,\r\n      zipCode: address.zipCode,\r\n      phoneNumber: account.phoneNumber,\r\n      landlineNumber: account.landlineNumber,\r\n      primaryEmailAdress: account.primaryEmailAdress,\r\n      maritalStatus: account.maritalStatus,\r\n      birthCountry: account.birthCountry\r\n    };\r\n    console.log(\"account.firstName=\", account.firstName);\r\n    //console.log(\"firstName=\",this.firstName);\r\n    this.selectedApplicant = account;\r\n    console.log(\"payLoadModel\", payLoadModel);\r\n    this.applicant.patchValue(payLoadModel, { onlySelf: false, emitEvent: false });\r\n    this.onSelectionBirthCountry(payLoadModel.birthCountry)\r\n    this.onSelectionResidance(payLoadModel.countryOfResidence);\r\n    this.onSelectionCitizionship(payLoadModel.nationality);\r\n    this.getCountrySelection1(payLoadModel.country);\r\n    this.onBirthCountry(payLoadModel.birthCountry);\r\n    //this.applicant.patchValue(payLoadModel);\r\n    this.cdr.markForCheck();\r\n    console.log(this.selectedApplicant);\r\n\r\n  }\r\n\r\n  resetAndClose() {\r\n    this.closeDetails();\r\n  }\r\n\r\n  /**\r\n   * Close the details\r\n   */\r\n  closeDetails(): void {\r\n    this.selectedApplicant = null;\r\n    this.applicant.reset();\r\n    this.cardCustomerForm.get('numOfApplicants').enable({ onlySelf: true });\r\n\r\n  }\r\n\r\n  getListOfAccounts() {\r\n    this.isResidency = false;\r\n    this.isCurrency = false;\r\n    this.isBirthCountry = false;\r\n    this.isCountry = false;\r\n    this.appApiService.fetchCardCustomersByCardId(this.cardId, 'cardOrigin')\r\n      .subscribe((resp: any) => {\r\n        this.listOfAccounts = resp.status == 200 ? resp.data.map(value => ({ ...value, _id: Math.round(Math.random() * 10000000000) })) : [];\r\n        this.console.log(\" this.listOfAccounts\", this.listOfAccounts)\r\n        console.log(\"All Customer Details\", this.listOfAccounts.length);\r\n        resp.status == 200 ? this.ls.setItem(\"cId\", resp.data[0].customerId) : null;\r\n        console.log(\"Length check??\", this.listOfAccounts.length);\r\n        const requiredFields = ['prefix', 'firstName', 'lastName', 'dateOfBirth', 'gender', 'birthCountry', 'placeOfBirth', 'residenceStatus', 'countryOfResidence', 'nationality', 'maritalStatus', 'occupationType', 'phoneNumber', 'primaryEmailAdress']\r\n        const custIdProofs = ['idType', 'expiryDate', 'idNumber']\r\n        const userAddress = ['address1', 'address2', 'addressType', 'country', 'state', 'city', 'zipCode']\r\n        this.listOfAccounts.map((acc: { [x: string]: any; custIdProofs: { [x: string]: any; }; userAddress: { [x: string]: any; }; }) => {\r\n          requiredFields.map(field => {\r\n            if (acc[field] != null) {\r\n              custIdProofs.map(id => {\r\n                if (acc.custIdProofs[id] != null) {\r\n                  userAddress.map(address => {\r\n                    if (acc.userAddress[address] != null) {\r\n                      return this.selfNextBtnDisabled = false;\r\n                    } else {\r\n                      return this.selfNextBtnDisabled = true;\r\n                    }\r\n                  })\r\n                } else {\r\n                  return this.selfNextBtnDisabled = true;\r\n                }\r\n              })\r\n            } else {\r\n              return this.selfNextBtnDisabled = true\r\n            }\r\n          })\r\n          console.log('selfNextBtnDisabled ', this.selfNextBtnDisabled);\r\n\r\n        })\r\n\r\n        if (this.listOfAccounts.length == 0) {\r\n          this.applicant.get('existingCustomer').patchValue(true);\r\n          this.applicant.get('primaryCustomer').patchValue(true);\r\n        } else if (this.listOfAccounts.length == 1) {\r\n          this.applicant.get('existingCustomer').patchValue(true);\r\n          this.applicant.get('primaryCustomer').patchValue(false);\r\n        } else if (this.listOfAccounts.length >= 2) {\r\n          this.cardCustomerForm.get('ownership').patchValue('Joint');\r\n          this.applicant.get('existingCustomer').patchValue(true);\r\n          this.applicant.get('primaryCustomer').patchValue(false);\r\n          for (let index = 0; index < resp.data.length; index++) {\r\n            const element = resp.data[index];\r\n            console.log(\"number calling\", element)\r\n            this.cardCustomerForm.get('numOfApplicants').patchValue(resp.data[index].numOfApplicants);\r\n          }\r\n        }\r\n\r\n        this.cdr.markForCheck();\r\n\r\n        this.toggleChanges();\r\n      }, (err: any) => {\r\n\r\n      });\r\n  }\r\n\r\n  removeApplicant(account) {\r\n    this.confirmService\r\n      .confirm({ title: \"Confirm\", message: \"Are you sure want to delete?\", ok: \"Yes\", cancel: \"No\" })\r\n      .subscribe(res => {\r\n        console.log(\"res:: removed \", res);\r\n        if (res) {\r\n          this.appApiService.deleteApplicant(account.customerId, account.dependentId)\r\n            .subscribe((res: any) => {\r\n            }, (err: any) => {\r\n              console.log(err);\r\n              if (err.status == 200) {\r\n                this.snack.open(`Dependent ${account.firstName} ${err.error.text}!`, 'OK', {\r\n                  duration: 4000,\r\n                  verticalPosition: 'top',\r\n                  horizontalPosition: 'right'\r\n                });\r\n                this.getListOfAccounts();\r\n              }\r\n            })\r\n        } else return;\r\n      });\r\n  }\r\n\r\n  fetchByCif(cifNumber, isExistingCustomer) {\r\n    if (this.listOfAccounts.some(acc => acc.cifNumber == cifNumber)) {\r\n      this.isDuplicateCIF = true;\r\n      this.disableSaveBtn = true;\r\n      this.snack.open('Duplicate CIF Number', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    } else {\r\n      this.isDuplicateCIF = false;\r\n      this.disableSaveBtn = false;\r\n      this.currency = null;\r\n      this.birthCountryFlag = null;\r\n      cifNumber && this.appApiService.fetchByCif(cifNumber).subscribe((res: any) => {\r\n        console.log(res)\r\n        // console.log(res.customerInfoList[0].custIdProofs[0]?.expiryDate);\r\n        if (!res) {\r\n          this.isCifValid = false;\r\n          this.snack.open('Invalid CIF Number', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n          this.applicant.get('cifNumber').patchValue('');\r\n          return;\r\n        } else {\r\n          this.applicant.get('expiryDate').clearValidators()\r\n          this.isCifValid = true;\r\n          this.ls.setItem(\"cId\", res.customerInfoList[0].customerId);\r\n          let address: any;\r\n          this.console.log(res.customerInfoList[0].userAddress.length);\r\n          if (res.customerInfoList[0].userAddress.length > 1) {\r\n            address = res.customerInfoList[0].userAddress.find((item: any) => item.addressType == \"Permanent\");\r\n            console.log(address)\r\n          } else {\r\n            address = res.customerInfoList[0].userAddress[0];\r\n            console.log(address)\r\n          }\r\n          let policyRenewalDate = moment(res.customerInfoList[0].custIdProofs[0]?.expiryDate).format();\r\n          this.console.log(policyRenewalDate)\r\n          this.getStateName(address.country);\r\n          // this.getCityName(address.state,true);\r\n          //display flag\r\n          this.onSelectionCitizionship1(res.customerInfoList[0].nationality);\r\n\r\n          this.onOtherSelectionResidance(res.customerInfoList[0].countryOfResidence);\r\n          console.log(res.customerInfoList[0].birthCountry);\r\n\r\n          this.onBirthCountry(res.customerInfoList[0].birthCountry);\r\n          this.getCountrySelection(address.country);\r\n\r\n\r\n\r\n          let applicantData = {\r\n            prefix: res.customerInfoList[0].prefix,\r\n            cifNumber: res.customerInfoList[0].cifNumber,\r\n            existingCustomer: isExistingCustomer,\r\n            customerId: res.customerInfoList[0].customerId,\r\n            firstName: res.customerInfoList[0].firstName,\r\n            middleName: res.customerInfoList[0].middleName,\r\n            lastName: res.customerInfoList[0].lastName,\r\n            gender: res.customerInfoList[0].gender,\r\n            dateOfBirth: this.convertDate(res.customerInfoList[0].dateOfBirth),\r\n            placeOfBirth: res.customerInfoList[0].placeOfBirth,\r\n            residenceStatus: res.customerInfoList[0].residenceStatus,\r\n            nationality: res.customerInfoList[0].nationality,\r\n            countryOfResidence: res.customerInfoList[0].countryOfResidence,\r\n            occupationType: res.customerInfoList[0].occupationType,\r\n            idType: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idType : '',\r\n            idNumber: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idNumber : '',\r\n            expiryDate: policyRenewalDate,\r\n            addressType: address.addressType,\r\n            address1: address.address1,\r\n            address2: address.address2,\r\n            city: address.city,\r\n            country: address.country,\r\n            state: address.state,\r\n            zipCode: address.zipCode,\r\n            phoneNumber: res.customerInfoList[0].phoneNumber,\r\n            landlineNumber: res.customerInfoList[0].landlineNumber,\r\n            primaryEmailAdress: res.customerInfoList[0].primaryEmailAdress,\r\n            maritalStatus: res.customerInfoList[0].maritalStatus,\r\n            birthCountry: res.customerInfoList[0].birthCountry\r\n          }\r\n          this.console.log(\"res.customerInfoList[0].firstName=\", res.customerInfoList[0].firstName);\r\n          this.customerName = res.customerInfoList[0].firstName + ' ' + res.customerInfoList[0].lastName;\r\n          // this.console.log(\"customerName:\",this.customerName);\r\n          // this.ls.setItem(\"customerName\", this.customerName);\r\n          this.applicant.patchValue(applicantData);\r\n          console.log(this.applicant);\r\n        }\r\n        this.cdr.markForCheck();\r\n      }, (err: any) => {\r\n        console.error(err);\r\n      })\r\n    }\r\n  }\r\n\r\n  getCustomerInformationDetails() {\r\n    this.appApiService.fetchCardCustomersByCardId(this.cardId, 'cardOrigin')\r\n      .subscribe((resp: any) => {\r\n        this.buildCustomerForm(resp);\r\n      }, (err: any) => {\r\n      });\r\n  }\r\n\r\n\r\n  convertDate(value) {\r\n    let date = moment(value).format('YYYY-MM-DD') || null; // ISO 8601 format\r\n    // let date = new Date(value).format('yyyy-MMM-dd');\r\n    console.log(\"date\", date);\r\n    if (date)\r\n      return date;\r\n  }\r\n\r\n\r\n  buildCustomerForm(data?) {\r\n    this.console.log(data)\r\n\r\n    this.cardCustomerForm = this.formBuilder.group({\r\n      productAccountId: data ? data.productAccountId : this.accountId,\r\n      ownership: data ? data.data[0].ownership : 'Self',\r\n      numOfApplicants: data ? data.data[0].numOfApplicants : 1,\r\n      addOnCard: data ? data.data[0].addOnCard : this.addOnCard,\r\n      applicantDetails: this.addCustFormGroup()\r\n    });\r\n  }\r\n\r\n  toggleChanges() {\r\n    if (this.applicant.get('existingCustomer').value == true) {\r\n      this.applicant.get('cifNumber').enable();\r\n      this.applicant.get('cifNumber').setValidators([Validators.required]);\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n    }\r\n    else {\r\n      this.applicant.patchValue({ cifNumber: '' })\r\n      this.isDuplicateCIF = false;\r\n      this.applicant.get('cifNumber').disable();\r\n      this.applicant.get('cifNumber').clearValidators();\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n  toggleAddForm() {\r\n    this.showNewForm = !this.showNewForm;\r\n  }\r\n\r\n  addCustFormGroup(): FormGroup {\r\n    return this.formBuilder.group({\r\n      existingCustomer: [null, []],\r\n      primaryCustomer: [null, []],\r\n      cifNumber: [''],\r\n      customerId: [''],\r\n      dependentId: [null],\r\n      prefix: ['', Validators.required],\r\n      firstName: ['', Validators.required],\r\n      middleName: [''],\r\n      maritalStatus: ['', Validators.required],\r\n      birthCountry: ['', Validators.required],\r\n      lastName: ['', Validators.required],\r\n      gender: ['', Validators.required],\r\n      dateOfBirth: ['', Validators.required],\r\n      placeOfBirth: ['', Validators.required],\r\n      residenceStatus: ['', Validators.required],\r\n      nationality: ['', Validators.required],\r\n      countryOfResidence: ['', Validators.required],\r\n      occupationType: ['', Validators.required],\r\n      idType: ['', Validators.required],\r\n      idNumber: ['', Validators.required],\r\n      expiryDate: [''],\r\n      addressType: ['', Validators.required],\r\n      address1: ['', [Validators.required, Validators.pattern('.*[a-zA-Z].*')]],\r\n      address2: ['', [Validators.required, Validators.pattern('.*[a-zA-Z].*')]],\r\n      city: ['', Validators.required],\r\n      state: ['', Validators.required],\r\n      country: ['', Validators.required],\r\n      zipCode: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(10), Validators.pattern('^[0-9]{5,10}$')]],\r\n      phoneNumber: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(10), Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      landlineNumber: ['', [Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      primaryEmailAdress: ['', [Validators.required, Validators.email, Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')]],\r\n    })\r\n  }\r\n\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n\r\n    }\r\n  }\r\n\r\n  keyPressAlphanumeric(event) {\r\n    var inp = String.fromCharCode(event.keyCode);\r\n    if (/[a-zA-Z0-9]/.test(inp)) {\r\n      return true;\r\n    } else {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  validateNumber(event) {\r\n    const keyCode = event.keyCode;\r\n\r\n    const excludedKeys = [8, 37, 39, 46];\r\n\r\n    if (!((keyCode >= 48 && keyCode <= 57) ||\r\n      (keyCode >= 96 && keyCode <= 105) ||\r\n      (excludedKeys.includes(keyCode)))) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() { return this.cardCustomerForm.controls; }\r\n  get applicantCount() { return this.f.numOfApplicants; }\r\n  get applicant() { return this.f.applicantDetails; }\r\n\r\n\r\n\r\n  getPrefixValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayPrefix = data;\r\n    });\r\n  }\r\n  getMaritalStatus(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.maritalStatusList = data;\r\n    });\r\n  }\r\n\r\n  getOwnershipValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayOwnership = data;\r\n    });\r\n  }\r\n\r\n  getGenderValue(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayGender = data;\r\n    });\r\n  }\r\n\r\n  getCountryName(key: string) {\r\n    this.apiService.getAllCountries().subscribe((data: any) => {\r\n      for (let i = 0; i < data.length; i++) {\r\n        if (data[i].authStatus === 'A') {\r\n          this.arrayCountry.push(data[i].countryName);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  getAdressType(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayAddressType = data;\r\n    });\r\n  }\r\n\r\n\r\n  getStateName(country,isAdd?) {\r\n\r\n    if(isAdd){\r\n      this.applicant.get('zipCode').setValue('');\r\n      this.applicant.get('state').setValue('');\r\n      this.applicant.get('city').setValue('');\r\n    }\r\n    this.applicant.get('city').setValue('');\r\n    this.apiService.getAllCountries().subscribe((data: any) => {\r\n      for (let i = 0; i < data.length; i++) {\r\n        if (data[i].countryName == country) {\r\n          this.apiService.getStateByCountryId(data[i].id).subscribe((resp: any) => {\r\n            this.arrayState = resp\r\n          })\r\n          break;\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  // getCityName(state: any,isEdit?) {\r\n  //   if(!isEdit){\r\n  //   this.applicant.get('city').setValue('');\r\n  //   this.applicant.get('zipCode').setValue('');\r\n  //   }\r\n  //   this.entityName = \"city\";\r\n  //   console.log(state)\r\n  //   this.apiService.getDropDownValues1(this.entityName, state).subscribe((data) => {\r\n  //     this.arrayCity = data;\r\n  //     console.log(\"-->\", this.arrayCity)\r\n  //     // this.applicant.valueChanges.subscribe(data=>{\r\n  //     //   console.log('data :: before ',data.city)\r\n  //     //   data.city='';\r\n  //     //   console.log('data :: after ',data.city)\r\n  //     // })\r\n  //     // this.applicant.value.city='';\r\n  //     // this.applicant.get('city').reset();\r\n  //     console.log('this.applicant', this.applicant)\r\n  //   });\r\n  // }\r\n  getAllAuthCities(){\r\n    this.apiService.getAuthorizedCityInfo().subscribe(res => res.map(r => this.arrayCity.push(r.cityName)))\r\n    console.log(this.arrayCity);\r\n    \r\n  }\r\n  onStateChange(){\r\n    this.applicant.get('zipCode').setValue('')\r\n    this.applicant.get('city').setValue('')\r\n  }\r\n  onCityChange(){\r\n    this.applicant.get('zipCode').setValue('')\r\n  }\r\n  onBirthCountry(data: any) {\r\n    this.console.log(\"data ::\", data)\r\n    this.isBirthCountry = true;\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.birthCountryFlag = value.currencyCode.toLowerCase();\r\n      })\r\n    }\r\n  }\r\n  getCountrySelection(data: any) {\r\n    this.console.log(\"data ::\", data)\r\n    this.isCountry = true;\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.countryCode = value.currencyCode.toLowerCase();\r\n      })\r\n    }\r\n  }\r\n  getCountrySelection1(data: any) {\r\n    this.console.log(\"data ::\", data)\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.editCountryCode = value.currencyCode.toLowerCase();\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  getResidenceDetails(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayResidence = data;\r\n    });\r\n  }\r\n\r\n  getDocumentType(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayDocumentType = data;\r\n    });\r\n  }\r\n  onSelectionCitizionship(data: any) {\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.currencyCode = value.currencyCode.toLowerCase();\r\n        console.log(this.currencyCode);\r\n      })\r\n    }\r\n  }\r\n  onSelectionCitizionship1(data: any) {\r\n    console.log(\"data ::\", data)\r\n    console.log(data);\r\n    this.isCurrency = true;\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        console.log(value);\r\n\r\n        this.currency = value.currencyCode.toLowerCase();\r\n        console.log(this.currency);\r\n\r\n        console.log(this.currencyCode);\r\n      })\r\n    }\r\n  }\r\n  onSelectionBirthCountry(data: any) {\r\n    console.log('Birth Country : ', data);\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe(value => {\r\n        console.log(value.currencyCode);\r\n        this.Currency1 = value.currencyCode.toLowerCase()\r\n      })\r\n    }\r\n\r\n  }\r\n  onSelectionResidance(data: any) {\r\n    this.console.log(\"data ::\", data)\r\n    console.log(data);\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.Currency = value.currencyCode.toLowerCase();\r\n        console.log(this.Currency);\r\n\r\n      })\r\n    }\r\n  }\r\n  onOtherSelectionResidance(data: any) {\r\n    this.console.log(\"data ::\", data)\r\n    console.log(data);\r\n    this.isResidency = true;\r\n    if (data != null) {\r\n      this.apiService.countryFlaglists(data).subscribe((value) => {\r\n        this.ResideceCurrency = value.currencyCode.toLowerCase();\r\n\r\n        console.log(this.ResideceCurrency);\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  onSubmit() {\r\n    this.submitted = true;\r\n    console.log('saveapplicant')\r\n    this.isCifValid = false;\r\n    // if (this.cardCustomerForm.invalid) {\r\n    //   console.log(\"test\");\r\n\r\n    //   return;\r\n    // }\r\n    // this.loader.open();\r\n\r\n    let payloadObj: any = {};\r\n    const control = this.cardCustomerForm.controls['applicantDetails'].value;\r\n    console.log(control);\r\n    let addressObj: any = {};\r\n    let custIdProofs: any = {};\r\n    let custIdProofsArray: any[] = [];\r\n    let addressObjArray: any[] = [];\r\n\r\n    payloadObj.customerId = this.ls.getItem(\"cId\");\r\n    payloadObj.cifNumber = control.cifNumber;\r\n    payloadObj.dependentId = control.dependentId;\r\n    payloadObj.existingCustomer = control.existingCustomer;\r\n    payloadObj.primaryCustomer = control.primaryCustomer;\r\n    payloadObj.residenceStatus = control.residenceStatus;\r\n    payloadObj.placeOfBirth = control.placeOfBirth;\r\n    payloadObj.countryOfResidence = control.countryOfResidence;\r\n    payloadObj.occupationType = control.occupationType;\r\n    payloadObj.phoneNumber = control.phoneNumber;\r\n    payloadObj.maritalStatus = control.maritalStatus;\r\n    payloadObj.birthCountry = control.birthCountry;\r\n    payloadObj.primaryEmailAdress = control.primaryEmailAdress;\r\n    payloadObj.prefix = control.prefix;\r\n    payloadObj.firstName = control.firstName;\r\n    payloadObj.middleName = control.middleName;\r\n    payloadObj.lastName = control.lastName;\r\n    payloadObj.cifNumber = control.cifNumber;\r\n    payloadObj.gender = control.gender;\r\n    payloadObj.dateOfBirth = this.convertDate(control.dateOfBirth);\r\n    payloadObj.nationality = control.nationality;\r\n    // payloadObj.customerId = 170053;\r\n    payloadObj.cardId = this.cardId;\r\n    payloadObj.accountType = \"cardOrigin\";\r\n    payloadObj.landlineNumber = control.landlineNumber;\r\n    payloadObj.ownership = this.cardCustomerForm.get('ownership').value;\r\n    payloadObj.numOfApplicants = this.cardCustomerForm.get('numOfApplicants').value;\r\n    payloadObj.addOnCard = this.addonCardValue\r\n    addressObj.address1 = control.address1;\r\n    addressObj.address2 = control.address2;\r\n    addressObj.country = control.country;\r\n    addressObj.state = control.state;\r\n    addressObj.city = control.city;\r\n    addressObj.zipCode = control.zipCode;\r\n    addressObj.addressType = control.addressType;\r\n    addressObjArray.push(addressObj);\r\n    \r\n    if(control?.expiryDate==\"Invalid date\"){\r\n      custIdProofs.expiryDate=null;\r\n    }else{\r\n      custIdProofs.expiryDate = control?.expiryDate != \"\" ? this.convertDate(control?.expiryDate) : \"\" || '';\r\n    }\r\n    \r\n    custIdProofs.idType = control.idType;\r\n    custIdProofs.idNumber = control.idNumber;\r\n    custIdProofsArray.push(custIdProofs);\r\n\r\n    payloadObj.userAddress = addressObjArray;\r\n    payloadObj.custIdProofs = custIdProofsArray;\r\n\r\n    console.log(\"payloadObj\", payloadObj);\r\n    this.isChecked = false;\r\n    this.disabled = false;\r\n    this.appApiService.createAndUpdateCardAccountants(payloadObj)\r\n      .subscribe((data: any) => {\r\n        console.log(\"data::\", data)\r\n        this.closeDetails();\r\n        this.loader.close();\r\n        console.log(\"Response of service 2 ---> \", data)\r\n        if (data.status === 200) {\r\n\r\n          this.getListOfAccounts();\r\n          this.snack.open('Customer Information Details Saved!', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n          if (data.custDependentModel.primaryCustomer == true) {\r\n            if (data.custDependentModel.middleName == null) {\r\n              this.ls.setItem('primaryCustomerName', data.custDependentModel.firstName + ' ' + data.custDependentModel.lastName);\r\n            }\r\n            else {\r\n              this.ls.setItem('primaryCustomerName', data.custDependentModel.firstName + ' ' + data.custDependentModel.middleName + ' ' + data.custDependentModel.lastName);\r\n            }\r\n\r\n          }\r\n          this.cardCustomerForm.get('ownership').patchValue(data.custDependentModel.ownership);\r\n          this.cardCustomerForm.get('numOfApplicants').patchValue(data.custDependentModel.numOfApplicants);\r\n\r\n          if (this.cardCustomerForm.get('ownership').value == 'Self') {\r\n            this.goToNext();\r\n          }\r\n        }\r\n      }, (err: any) => {\r\n        console.log(err);\r\n        this.loader.close();\r\n        this.snack.open('Error', 'INTERNAL SERVER ERROR', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n      })\r\n  }\r\n\r\n\r\n\r\n  uploadImage() {\r\n    console.log(\"Upload Image\");\r\n  }\r\n\r\n  onReset() {\r\n    // reset whole form back to initial state\r\n    this.submitted = false;\r\n    this.cardCustomerForm.reset({});\r\n  }\r\n\r\n  onClear() {\r\n    // clear errors and reset ticket fields\r\n    this.submitted = false;\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/cardInitiation`]);\r\n  }\r\n\r\n\r\n  goToNext() {\r\n    this.ls.setItem('Card_Customer_Done', true);\r\n\r\n    // //  if(this.ls.getItem.accountType!=)\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/financialDetails`]);\r\n    this.ls.setItem('CardNoOfApplicants', this.cardCustomerForm.get('numOfApplicants').value);\r\n    this.ls.setItem('cardownership_value', this.cardCustomerForm.get('ownership').value);\r\n\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/financialDetails`]);\r\n  }\r\n\r\n  onKeyPress1(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    } console.log(event.target.value);\r\n    clearTimeout(this.timer)\r\n    if (!event.target.value) {\r\n      this.listOfCustByCif = []\r\n    }\r\n  }\r\n\r\n  onKeyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    console.log(event.target.value);\r\n    clearTimeout(this.timer)\r\n    if (!event.target.value) {\r\n      this.isCifValid = false;\r\n      this.applicant.reset();\r\n      this.applicant.get('cifNumber').clearValidators();\r\n      this.applicant.get('cifNumber').updateValueAndValidity();\r\n      this.applicant.get('existingCustomer').patchValue(true);\r\n      this.applicant.get('primaryCustomer').patchValue(true);\r\n      this.listOfCustByCif = []\r\n    } else {\r\n      this.timer = setTimeout(() => {\r\n        this.appApiService.fetchByCif(event.target.value).subscribe((res: any) => {\r\n          console.log(res);\r\n          if (res) {\r\n            this.listOfCustByCif = res.customerInfoList\r\n          }\r\n        })\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  isAllSameDigit(event) {\r\n    let count = 0, number = event.target.value;\r\n    if (number != '') {\r\n      for (var i = 0; i < number.length; i++) {\r\n        if (0 == number[i]) {\r\n          count++;\r\n        }\r\n      }\r\n      console.log('number :: ', number);\r\n      console.log('isAllSameDigitVal :: ', count, number.length)\r\n      if (count == number.length) {\r\n        console.log('if loop')\r\n        this.isAllSameDigitVal = true;\r\n      }\r\n      else {\r\n        this.isAllSameDigitVal = false;\r\n      }\r\n    } else {\r\n      this.isAllSameDigitVal = false;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n    this.dataService.sendNavParam({});\r\n  }\r\n  goToggle(event: any) {\r\n    console.log(\"event\", event.checked);\r\n    this.addonCardValue = event.checked\r\n    // if(event.checked==true){\r\n    // this.ls.setItem('addonCardApplicant', 2);\r\n    // }\r\n    if (event.checked == true || this.addOnCard) {\r\n      this.cardCustomerForm.get('ownership').setValue('Joint');\r\n      this.cardCustomerForm.get('numOfApplicants').patchValue(2);\r\n      this.disabled = false;\r\n    }\r\n    else if (event.checked == false) {\r\n      this.cardCustomerForm.get('ownership').patchValue('Self', { onlySelf: true, emitEvent: false });\r\n      this.cardCustomerForm.get('numOfApplicants').patchValue(1, { onlySelf: true, emitEvent: false });\r\n    }\r\n\r\n  }\r\n\r\n  getCityandStateByZipcode(countryName, zipcode) {\r\n    if (countryName && zipcode.length >= 6) {\r\n      this.apiService.fetchStateCityByZipcode(countryName, zipcode).subscribe((res: any) => {\r\n        if(res){\r\n          this.applicant.get('state').setValue(res.stateName);\r\n          this.applicant.get('city').setValue(res.cityName)\r\n        }\r\n        else{\r\n          this.snack.open(\"Entered Zipcode does not exists\", \"OK\", {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/undraw_personal_information_re_vw8a.svg\" alt=\"\" class=\"w-90\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Customer Information Details</b></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <!-- <mat-progress-bar [mode]=\"determinate\" class=\"session-progress\"></mat-progress-bar> -->\r\n      <mat-card class=\"p-0\">\r\n        <mat-card-title>\r\n          <fieldset>\r\n          <legend visible=\"true\">Customer Information</legend>\r\n          </fieldset>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n          <form *ngIf=\"cardCustomerForm\" [formGroup]=\"cardCustomerForm\" novalidate>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Ownership</mat-label>\r\n                    <mat-select formControlName=\"ownership\"name=\"owner\"class=\"graycolor\" required>\r\n                      <mat-option value=\"\">Select</mat-option>\r\n                      <mat-option *ngFor=\"let ownership of arrayOwnership\" [value]=\"ownership\">\r\n                        {{ownership}}\r\n                      </mat-option>\r\n                    </mat-select>\r\n                    <mat-error *ngIf=\"cardCustomerForm.get('ownership').hasError('required')\">\r\n                      Ownership is Required!\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                <div class=\"pb-1\">\r\n                  <ng-container *ngIf=\"cardCustomerForm.get('ownership').value == 'Joint'; else showAdd\">\r\n                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                      <mat-label>Number of Applicants *</mat-label>\r\n                      <mat-select formControlName=\"numOfApplicants\" name=\"account\">\r\n                        <mat-option [value]=\"1\">1</mat-option>\r\n                        <mat-option [value]=\"2\">2</mat-option>\r\n                        <mat-option [value]=\"3\">3</mat-option>\r\n                        <mat-option [value]=\"4\">4</mat-option>\r\n                        <mat-option [value]=\"5\">5</mat-option>\r\n                      </mat-select>\r\n                    </mat-form-field>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div fxLayout=\"row\" >\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                    <div class=\"mb-1\">\r\n                      \r\n                        <h2>Details Of the Applicant</h2>\r\n                      \r\n                    </div>\r\n              </div>\r\n             \r\n              <div fxFlex=\"100\"  fxLayoutGap=\"16px\" fxLayoutAlign=\"end end\"style=\"padding-right:15px\">\r\n              <div class=\"mb-1\">\r\n                <p class=\"m-0 text-right\">Completed {{ listOfAccounts.length }} /\r\n                  {{ cardCustomerForm.get('numOfApplicants').value }}</p>\r\n                <mat-progress-bar\r\n                  [color]=\"cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? 'primary' : 'accent'\"\r\n                  mode=\"determinate\"\r\n                  [value]=\"cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? 100 : 50\"\r\n                  class=\"rounded\" style=\"height: 5px\">\r\n                </mat-progress-bar>\r\n                <mat-hint><small> completed / total applicants </small></mat-hint>\r\n              </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100%\" fxLayoutGap=\"10px\">\r\n                <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                    <div class=\"pb-1\">\r\n                        <label  class=\"hint\">Add on CardHolder</label>\r\n                        \r\n                        <mat-slide-toggle  style=\"margin-left: 1cm;\" formControlName=\"addOnCard\"\r\n                        (change)=\"goToggle($event)\"\r\n                            >\r\n                        </mat-slide-toggle>\r\n                    </div>\r\n                </div>\r\n             </div>\r\n            </div>\r\n\r\n            \r\n        \r\n            <!-- *ngIf=\"!showNewForm\" -->\r\n            <div class=\"mt-12\">\r\n              <mat-accordion multi=\"true\">\r\n                <mat-expansion-panel class=\"mb-8\" *ngFor=\"let account of listOfAccounts; let i=index\" expanded=\"true\">\r\n                  <mat-expansion-panel-header>\r\n                    <mat-panel-title>\r\n                      <mat-icon class=\"check-circle\">check_circle</mat-icon> <span class=\"ml-8\">Applicant {{ i+1 }}</span>\r\n                    </mat-panel-title>\r\n                  </mat-expansion-panel-header>\r\n                  <mat-card>\r\n                    <mat-card-header style=\"margin-bottom: -16px !important;\">\r\n                        <div mat-card-avatar>\r\n                          <app-avatar-photo [name]=\"account.firstName + ' ' + account.lastName\"></app-avatar-photo>\r\n                        </div>\r\n                        <mat-card-title>\r\n                          <div fxLayout=\"row\">\r\n                            <h6 class=\"m-0 mr-16\">{{ account.firstName + ' ' + account.lastName }}</h6>\r\n                            <span fxFlex></span>\r\n                            <mat-chip mat-sm-chip [color]=\"'warn'\" *ngIf=\"account.primaryCustomer\"\r\n                              [selected]=\"account.primaryCustomer\">{{account.primaryCustomer ? 'primary' : ''}}</mat-chip>\r\n                          </div>\r\n    \r\n                        </mat-card-title>\r\n                        <mat-card-subtitle><span class=\"mat-caption\">CIF\r\n                            {{ account.cifNumber != null ? '#' + account.cifNumber : '- n/a' }}</span></mat-card-subtitle>\r\n                        <div fxLayout=\"row\" fxFlex=\"1 1 0%\" fxLayoutAlign=\"end end\">\r\n                          <span class=\"group-btn-bg\">\r\n                            <ng-container *ngIf=\"selectedApplicant?._id === account._id; else showEdit\">\r\n                              <a type=\"reset\" mat-icon-button color=\"primary\" (click)=\"resetAndClose()\">\r\n                                <mat-icon>close</mat-icon>\r\n                              </a>\r\n                            </ng-container>\r\n                            <ng-template #showEdit>\r\n                              <a type=\"submit\" mat-icon-button color=\"primary\" (click)=\"toggleDetails(account)\">\r\n                                <mat-icon>edit</mat-icon>\r\n                              </a>\r\n                            </ng-template>\r\n    \r\n                            <a *ngIf=\"account.dependentId\" mat-icon-button color=\"warn\" (click)=\"removeApplicant(account)\">\r\n                              <mat-icon>delete</mat-icon>\r\n                            </a>\r\n                          </span>\r\n                        </div>\r\n                      </mat-card-header>\r\n                      <mat-card-container>\r\n                        <ng-container *ngIf=\"selectedApplicant?._id === account._id\">\r\n                          <ng-container *ngTemplateOutlet=\"detailApplicant; context: {$implicit: account}\"></ng-container>\r\n                        </ng-container>\r\n                     \r\n  \r\n                      <ng-template #detailApplicant let-account>\r\n                        <form [formGroup]=\"cardCustomerForm\" class=\"mt-32\">\r\n                          <div formGroupName=\"applicantDetails\">\r\n                            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                <div class=\"pb-1\">\r\n                                  <label>Is the applicant an existing customer?</label>\r\n                                  &nbsp;&nbsp;\r\n                                  <mat-slide-toggle (change)=\"toggleChanges($event)\" formControlName=\"existingCustomer\">\r\n                                  </mat-slide-toggle>\r\n                                  <div class=\"mb-16\"></div>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Prefix *</mat-label>\r\n                                    <mat-select name=\"prefix\" formControlName=\"prefix\">\r\n                                      <mat-option *ngFor=\"let prefix of arrayPrefix\" [value]=\"prefix\">\r\n                                        {{prefix}}\r\n                                      </mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"applicant.get('prefix').hasError('required')\">\r\n                                      Prefix is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Middle Name</mat-label>\r\n                                    <input matInput name=\"mname\" formControlName=\"middleName\" placeholder=\"Middle Name\"\r\n                                      (keypress)=\"letterOnly($event)\" />\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Date of Birth *</mat-label>\r\n                                    <input matInput name=\"date\" readonly formControlName=\"dateOfBirth\"\r\n                                      placeholder=\"Date of birth\" [matDatepicker]=\"appDatepicker\" [max]=\"tomorrow\"\r\n                                      [max]=\"maxDate\" />\r\n  \r\n                                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                                    <mat-error *ngIf=\"applicant.get('dateOfBirth').hasError('required')\">\r\n                                      Date of Birth is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                  <mat-datepicker #appDatepicker></mat-datepicker>\r\n                                </div>\r\n                                <div  class=\"p-1\" >\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Birth Country</mat-label>\r\n                                        <div fxFlex=\"20\">\r\n                                          <div matPrefix>\r\n                                            <div *ngIf=\"Currency1\" class=\"currency-flag currency-flag-{{Currency1}}\"></div>\r\n                                          </div>\r\n                                        </div>\r\n                                        <mat-select name=\"birthCountry\" formControlName=\"birthCountry\" required\r\n                                        (selectionChange)=\"onSelectionBirthCountry($event.value)\">\r\n                                             <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                                {{country}}\r\n                                              </mat-option>\r\n                                        </mat-select>\r\n                                    </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Resident Status *</mat-label>\r\n                                    <mat-select name=\"residenceType\" formControlName=\"residenceStatus\">\r\n                                      <mat-option *ngFor=\"let residence of arrayResidence\" [value]=\"residence\">\r\n                                        {{residence}}\r\n                                      </mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"applicant.get('residenceStatus').hasError('required')\">\r\n                                      Resident Status is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n  \r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Country of Residence</mat-label>\r\n                                    <div fxFlex=\"20\">\r\n                                      <div matPrefix>\r\n                                        <div *ngIf=\"Currency\" class=\"currency-flag currency-flag-{{Currency}}\"></div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <mat-select formControlName=\"countryOfResidence\" id=\"forcitizenship\"\r\n                                    (selectionChange)=\"onSelectionResidance($event.value)\" required>\r\n                                    <mat-option disabled>--Select--</mat-option>\r\n                                    <mat-option *ngFor=\"let country of arrayCountry\"\r\n                                      [value]=\"country\">\r\n                                      {{country}}\r\n                                    </mat-option>\r\n                                  </mat-select>\r\n                                    <mat-error *ngIf=\"applicant.get('countryOfResidence').hasError('required')\">\r\n                                      Country of Residence is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>ID Type *</mat-label>\r\n                                    <mat-select name=\"idtype\" formControlName=\"idType\"\r\n                                      (selectionChange)=\"changeIdType(applicant.get('idType').value)\">\r\n                                      <mat-option *ngFor=\"let doc of arrayDocumentType\" [value]=\"doc\">\r\n                                        {{doc}}\r\n                                      </mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"applicant.get('idType').hasError('required')\">\r\n                                      ID Type is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>ID Type Valid Till</mat-label>\r\n                                    <input matInput name=\"date\" readonly formControlName=\"expiryDate\" [required]=\"applicant.get('idType').value != 'Aadhar card'\"\r\n                                      placeholder=\"ID Type Valid Till\" [matDatepicker]=\"appDatepicker1\" [min]=\"validDate\"/>\r\n  \r\n                                    <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                                    <mat-error *ngIf=\"applicant.get('expiryDate').hasError('required')\">\r\n                                      ID Type Valid Till is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                  <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                                </div>\r\n                              </div>\r\n                              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                                <div class=\"pb-1\">\r\n                                  <label>Is the applicant a primary customer?</label>\r\n                                  &nbsp;&nbsp;\r\n                                  <mat-slide-toggle formControlName=\"primaryCustomer\">\r\n                                  </mat-slide-toggle>\r\n  \r\n                                  <div class=\"mb-16\"></div>\r\n                                </div>\r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>First Name *</mat-label>\r\n                                    <input matInput name=\"fname\" formControlName=\"firstName\" placeholder=\"First Name\"\r\n                                      (keypress)=\"letterOnly($event)\" />\r\n                                    <mat-error *ngIf=\"applicant.get('firstName').hasError('required')\">\r\n                                      First Name is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Last Name *</mat-label>\r\n                                    <input matInput name=\"lname\" formControlName=\"lastName\" placeholder=\"Last Name\"\r\n                                      (keypress)=\"letterOnly($event)\" />\r\n                                    <mat-error *ngIf=\"applicant.get('lastName').hasError('required')\">\r\n                                      Last Name is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Gender *</mat-label>\r\n                                    <mat-select name=\"gender\" formControlName=\"gender\">\r\n                                      <mat-option *ngFor=\"let gender of arrayGender\" [value]=\"gender\">\r\n                                        {{gender}}\r\n                                      </mat-option>\r\n                                    </mat-select>\r\n                                    <mat-error *ngIf=\"applicant.get('gender').hasError('required')\">\r\n                                      Gender is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Birth Place *</mat-label>\r\n                                    <input matInput name=\"bplace\" formControlName=\"placeOfBirth\"\r\n                                      placeholder=\"Birth Place\" />\r\n                                    <mat-error *ngIf=\"applicant.get('placeOfBirth').hasError('required')\">\r\n                                      Birth Place is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1 info\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Citizenship By</mat-label>\r\n                                     <div fxFlex=\"20\">\r\n                                        <div matPrefix>\r\n                                          <div *ngIf=\"currencyCode\"\r\n                                            class=\"currency-flag currency-flag-{{currencyCode}}\"></div>\r\n                                        </div>\r\n                                      </div>\r\n                                      <div fxFlex=\"100\">\r\n                                        <mat-select formControlName=\"nationality\" id=\"forcitizenship\"\r\n                                          (selectionChange)=\"onSelectionCitizionship($event.value)\" required>\r\n                                          <mat-option disabled>--Select--</mat-option>\r\n                                          <mat-option *ngFor=\"let citizenship of arrayCountry\"\r\n                                            [value]=\"citizenship\">\r\n                                            {{citizenship}}\r\n                                          </mat-option>\r\n                                        </mat-select>\r\n                                      </div>\r\n                                    <mat-error *ngIf=\"applicant.get('nationality').hasError('required')\">\r\n                                    Citizenship By is Required!\r\n                                  </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n\r\n                                <div  class=\"p-1\" >\r\n                                    <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Marital Status</mat-label>\r\n                                        <mat-select name=\"maritalStatus\" formControlName=\"maritalStatus\" required>\r\n                                            <mat-option *ngFor=\"let status of maritalStatusList\" [value]=\"status\">{{ status }}\r\n                                            </mat-option>\r\n                                        </mat-select>\r\n                                    </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Occupation Type *</mat-label>\r\n                                    <input matInput name=\"occupation\" (keypress)=\"letterOnly($event)\" formControlName=\"occupationType\"\r\n                                      placeholder=\"Occupation Type\" />\r\n                                    <mat-error *ngIf=\"applicant.get('occupationType').hasError('required')\">\r\n                                      Occupation Type is Required!\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                                <div class=\"pb-1 info3\">\r\n                                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                    <mat-label>Unique ID Number *</mat-label>\r\n                                    <input matInput name=\"uniqueidentity\" formControlName=\"idNumber\"\r\n                                      placeholder=\"Unique ID Number\" maxlength=\"12\"\r\n                                      pattern=\"^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$\" />\r\n                                    <mat-error\r\n                                      *ngIf=\"applicant.get('idNumber').touched && !applicant.get('idNumber').valid\">\r\n                                      <div *ngIf=\"applicant.get('idNumber').hasError('required')\">Unique ID Number is\r\n                                        Required!</div>\r\n                                      <div *ngIf=\"applicant.get('idNumber').hasError('pattern')\">This is a numeric field\r\n                                      </div>\r\n                                    </mat-error>\r\n                                  </mat-form-field>\r\n                                </div>\r\n  \r\n                              </div>\r\n                            </div>\r\n                            <!-- Address Section start-->\r\n                            <mat-accordion>\r\n                              <mat-expansion-panel class=\"mb-8\" expanded=\"true\">\r\n                                <mat-expansion-panel-header>\r\n                                  <mat-panel-title>Communication Address </mat-panel-title>\r\n                                </mat-expansion-panel-header>\r\n  \r\n                                <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Address Line 1 *</mat-label>\r\n                                        <textarea matInput formControlName=\"address1\" placeholder=\"Address 1\"></textarea>\r\n                                        <mat-error *ngIf=\"applicant.get('address1').hasError('required')\">\r\n                                          Address Line 1 is Required!\r\n                                        </mat-error>\r\n                                        <mat-error *ngIf=\" applicant.get('address1').touched && applicant.get('address1').hasError('pattern')\">\r\n                                          Please Enter Valid Address \r\n                                         </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Residence Type *</mat-label>\r\n                                        <mat-select name=\"addressType\" formControlName=\"addressType\">\r\n                                          <mat-option *ngFor=\"let addressType of arrayAddressType\" [value]=\"addressType\">\r\n                                            {{addressType}}\r\n                                          </mat-option>\r\n                                        </mat-select>\r\n                                        <mat-error *ngIf=\"applicant.get('addressType').hasError('required')\">\r\n                                          Residence Type is Required!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n                                    \r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Zip Code *</mat-label>\r\n                                        <input minlength=\"5\" maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"a_zip\"\r\n                                          formControlName=\"zipCode\" onlyNumber placeholder=\"Zip Code\"\r\n                                          (keyup)=\"isAllSameDigit($event)\"\r\n                                          (change)=\"getCityandStateByZipcode(applicant.get('country').value,$event.target.value)\" />\r\n                                        <mat-error *ngIf=\"applicant.get('zipCode').hasError('required') &&\r\n                                          !applicant.controls['zipCode'].valid && applicant.controls['zipCode']?.touched\">\r\n                                          Please enter valid Zip Code!(5-10 digits)\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                      <h5 *ngIf=\"isAllSameDigitVal\" style=\"color: #E74C3C;\">Please enter valid Zip Code!(5-10 digits)\r\n                                      </h5>\r\n  \r\n                                    </div>\r\n\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>City *</mat-label>\r\n                                        <mat-select name=\"city\" formControlName=\"city\" (selectionChange)=\"onCityChange()\">\r\n                                          <mat-option *ngFor=\"let city of arrayCity\" [value]=\"city\">{{city}}\r\n                                          </mat-option>\r\n                                        </mat-select>\r\n                                        <mat-error *ngIf=\"applicant.get('city').hasError('required')\">\r\n                                          City is Required!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n  \r\n                                   \r\n  \r\n                                  </div>\r\n                                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Address Line 2 *</mat-label>\r\n                                        <textarea matInput formControlName=\"address2\" placeholder=\"Address 2\"></textarea>\r\n                                        <mat-error *ngIf=\"applicant.get('address2').hasError('required')\">\r\n                                          Address Line 2 is Required!\r\n                                        </mat-error>\r\n                                        <mat-error *ngIf=\" applicant.get('address2').touched && applicant.get('address2').hasError('pattern')\">\r\n                                          Please Enter Valid Address \r\n                                         </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n  \r\n                                \r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Country *</mat-label>\r\n                                        <div fxFlex=\"20\">\r\n                                          <div matPrefix>\r\n                                            <div *ngIf=\"editCountryCode\"\r\n                                              class=\"currency-flag currency-flag-{{editCountryCode}}\"></div>\r\n                                          </div>\r\n                                        </div>\r\n                                        <mat-select name=\"country\" formControlName=\"country\"\r\n                                          (selectionChange)=\"getStateName($event.value,true)\"\r\n                                          (selectionChange)=\"getCountrySelection1($event.value)\">\r\n                                          <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                            {{country}}\r\n                                          </mat-option>\r\n                                        </mat-select>\r\n                                        <mat-error *ngIf=\"applicant.get('country').hasError('required')\">\r\n                                          Country is Required!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>State *</mat-label>\r\n                                        <mat-select name=\"state\" formControlName=\"state\"(selectionChange)=\"onStateChange()\"\r\n                                          >\r\n                                          <mat-option *ngFor=\"let state of arrayState\" [value]=\"state.stateName\">\r\n                                            {{state.stateName}}</mat-option>\r\n  \r\n                                        </mat-select>\r\n                                        <mat-error *ngIf=\"applicant.get('state').hasError('required')\">\r\n                                          State is Required!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n  \r\n                                  \r\n  \r\n  \r\n                                  </div>\r\n                                </div>\r\n                              </mat-expansion-panel>\r\n                            </mat-accordion>\r\n                            <!-- Address Section end -->\r\n                            <!-- Contact Information -->\r\n                            <mat-accordion>\r\n                              <mat-expansion-panel class=\"mb-8\" expanded=\"true\">\r\n                                <mat-expansion-panel-header>\r\n                                  <mat-panel-title>Contact Information </mat-panel-title>\r\n                                </mat-expansion-panel-header>\r\n  \r\n                                <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Mobile Number *</mat-label>\r\n                                        <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput\r\n                                          formControlName=\"phoneNumber\" name=\"phone\" placeholder=\"Mobile Number\" />\r\n                                        <mat-error *ngIf=\"applicant.get('phoneNumber').hasError('required')\">\r\n                                          Mobile Number is Required!\r\n                                        </mat-error>\r\n                                        <mat-error *ngIf=\"applicant.get('phoneNumber').hasError('pattern')\">\r\n                                          Please, Enter 10 digit Mobile Number!\r\n                                        </mat-error>\r\n  \r\n                                      </mat-form-field>\r\n                                      <mat-error style=\"margin-top:-20px\" *ngIf=\"applicant.get('phoneNumber').value == '0000000000'\">\r\n                                        &nbsp; &nbsp; Please Enter Correct Mobile Number\r\n                                     </mat-error>\r\n                                    </div>\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>E-mail *</mat-label>\r\n                                        <input matInput name=\"email\" formControlName=\"primaryEmailAdress\"\r\n                                          placeholder=\"e-mail\" />\r\n                                        <mat-error *ngIf=\"applicant.get('primaryEmailAdress').hasError('required')\">\r\n                                          E-mail is Required!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                                    <div class=\"pb-1\">\r\n                                      <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                        <mat-label>Landline Number </mat-label>\r\n                                        <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"mobile\"\r\n                                          formControlName=\"landlineNumber\" placeholder=\"Landline Number\" />\r\n                                        <!-- <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('required')\">\r\n                                          Landline Number is Required!\r\n                                        </mat-error> -->\r\n                                        <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('pattern')\">\r\n                                          Please, Enter 10 digit Landline Number!\r\n                                        </mat-error>\r\n                                      </mat-form-field>\r\n                                      <mat-error style=\"margin-top:-20px\" *ngIf=\"applicant.get('landlineNumber').value == '0000000000'\">\r\n                                        &nbsp; &nbsp; Please Enter Correct Landline Number\r\n                                     </mat-error>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n  \r\n                              </mat-expansion-panel>\r\n                              <div class=\"pb-1\">\r\n                                <button mat-button color=\"primary\" [disabled]=\"applicant.invalid\" (click)=\"onSubmit()\">\r\n                                  <mat-icon></mat-icon> UPDATE APPLICANT\r\n                                </button>\r\n  \r\n                              </div>\r\n                            </mat-accordion>\r\n                            <!-- Contact Information -->\r\n                          </div>\r\n                        </form>\r\n                      </ng-template>\r\n                    </mat-card-container>\r\n                  </mat-card>\r\n                </mat-expansion-panel>\r\n              </mat-accordion>\r\n  \r\n            </div>\r\n            <!-- <h1>591 -selapp {{selectedApplicant}} -get {{cardCustomerForm.get('numOfApplicants').value}} -listacc {{listOfAccounts.length}}</h1> -->\r\n            <!-- *ngIf=\"showNewForm\" -->\r\n            <div class=\"mt-16\"\r\n              *ngIf=\"selectedApplicant == null && cardCustomerForm.get('numOfApplicants').value !== listOfAccounts.length\">\r\n              <mat-accordion>\r\n                <mat-expansion-panel class=\"mb-8 borderStyle\"\r\n                  [expanded]=\"cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? false : true\">\r\n                  <mat-expansion-panel-header class=\"marginData\">\r\n                    <mat-panel-title class=\"textDesign\">Create Applicant 2</mat-panel-title>\r\n                  </mat-expansion-panel-header>\r\n                  <mat-divider class=\"design\"></mat-divider> \r\n                  <div formGroupName=\"applicantDetails\">\r\n                    <div class=\"pb-1\">\r\n                      <label>Is the applicant an existing customer? </label>\r\n                      &nbsp;&nbsp;\r\n                      <!-- {{ listOfAccounts.length }} -->\r\n                      <mat-slide-toggle (change)=\"toggleChanges($event)\" formControlName=\"existingCustomer\"\r\n                          [disabled]=\"listOfAccounts.length == 0 ? true : false\"></mat-slide-toggle>\r\n                      <div class=\"mb-16\"></div>\r\n                    </div>\r\n                    <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                      <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                       \r\n                        <div class=\"pb-1\" >\r\n                          <div fxLayout=\"row\" fxLayoutGap=\"2px\" fxLayoutAlign=\"space-between\">\r\n                            <div fxFlex=\"100\" fxFlexAlign=\"center\"class=\"boxsize\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>CIF Number</mat-label>\r\n                                <input matInput (keypress)=\"_keyPress($event)\"\r\n                                  (change)=\"fetchByCif(applicant.get('cifNumber').value,applicant.get('existingCustomer').value)\"\r\n                                  required formControlName=\"cifNumber\" name=\"cif\"\r\n                                  placeholder=\"CIF Number\"\r\n                                  (keyup)=\"onKeyPress($event)\" [formControl]=\"cifNumberForm\" [matAutocomplete]=\"auto\"\r\n                                  [readonly]=\"applicant.get('existingCustomer').value == true ? false : true\" />\r\n                                <mat-icon *ngIf=\"isCifValid\" matSuffix color=\"primary\">check_circle</mat-icon>\r\n                                <!-- <mat-icon *ngIf=\"applicant.get('existingCustomer').value && !isCifValid\" matSuffix color=\"warn\">report_problem</mat-icon> -->\r\n                                <mat-error *ngIf=\"applicant.get('cifNumber').hasError('required')  && !isCifValid\">\r\n                                  CIF Number is Required!\r\n                                </mat-error>\r\n                                <mat-hint class=\"err-msg\" *ngIf=\"isDuplicateCIF\">Duplicate CIF Number</mat-hint>\r\n                                <mat-hint class=\"hintColor\" *ngIf=\"!isCifValid && onbackSpace\">\r\n                                  Enter valid CIF Number!</mat-hint>\r\n                              </mat-form-field>\r\n                            </div>\r\n                            <div>\r\n                              <mat-autocomplete class=\"card-cust-auto-cif\" #auto=\"matAutocomplete\">\r\n                                <mat-option *ngFor=\"let option of listOfCustByCif\" [value]=\"option.customerId\">\r\n                                  <div fxLayout=\"row wrap\" style=\"margin-top: 20px;\">\r\n                                    <div fxFlex=\" 100\">\r\n                                      <div mat-card-avatar *ngIf=\"option?.profileImage =='not_available'\" class=\"example-header-image-dropdown\" fxFlex=\"10\">\r\n                                        <h3 align=\"center\" style=\"margin-top: 5px;font-size: large; color: white;\">\r\n                                          {{option?.firstName | slice:0:1 | uppercase}}\r\n                                        </h3>\r\n                                      </div>\r\n                                      <div *ngIf=\"option?.profileImage !='not_available'\" mat-card-avatar fxFlex=\"10\">\r\n                                        <img matListAvatar\r\n                                          style=\"border-radius: 50%;height: 85%;margin-right: 20px;width: 100%;margin-bottom: 50px;\" align=\"center\"\r\n                                          [src]=\"option?.profileImage\" alt=\"...\">\r\n                                      </div>\r\n                                      <div fxFlex=\"80\">\r\n                                        <h5 style=\"margin-bottom: 0px;\">\r\n                                          {{option?.firstName | uppercase}}\r\n                                          {{option?.middleName | uppercase}}\r\n                                          {{option?.lastName | uppercase}}\r\n                                        </h5>\r\n                                        <h6 style=\"margin-top: 0px;\" class=\"cif-0\">#{{option?.cifNumber}}</h6>\r\n                                      </div>\r\n                                      <mat-icon class=\"right-arrow1\">keyboard_arrow_right</mat-icon>\r\n                                    </div>\r\n                                  </div>\r\n                                </mat-option>\r\n                              </mat-autocomplete>\r\n                            </div>\r\n                            <!-- <div fxFlex=\"15\" fxFlexAlign=\"center\">\r\n                                <a class=\"mb-16\" mat-flat-button color=\"primary\" (click)=\"fetchByCif(applicant.get('cifNumber').value)\">fetch</a>\r\n                              </div> -->\r\n                          </div>\r\n                        </div>\r\n  \r\n     \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>First Name *</mat-label>\r\n                            <input matInput name=\"fname\" formControlName=\"firstName\" placeholder=\"First Name\"\r\n                              (keypress)=\"letterOnly($event)\" />\r\n                            <mat-error *ngIf=\"applicant.get('firstName').hasError('required')\">\r\n                              First Name is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n\r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Last Name *</mat-label>\r\n                            <input matInput name=\"lname\" formControlName=\"lastName\" placeholder=\"Last Name\"\r\n                              (keypress)=\"letterOnly($event)\" />\r\n                            <mat-error *ngIf=\"applicant.get('lastName').hasError('required')\">\r\n                              Last Name is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Date of Birth *</mat-label>\r\n                            <input matInput name=\"date\" readonly formControlName=\"dateOfBirth\" placeholder=\"Date of birth\"\r\n                              [matDatepicker]=\"appDatepicker\" [max]=\"tomorrow\" [max]=\"maxDate\" />\r\n  \r\n                            <mat-datepicker-toggle matSuffix [for]=\"appDatepicker\"></mat-datepicker-toggle>\r\n                            <mat-error *ngIf=\"applicant.get('dateOfBirth').hasError('required')\">\r\n                              Date of Birth is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                          <mat-datepicker #appDatepicker></mat-datepicker>\r\n                        </div>\r\n                        <div class=\"pb-1\" >\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Birth Country</mat-label>\r\n                                <div fxFlex=\"20\" [style.display]=\"birthCountryFlag == null ? 'none': ''\">\r\n                                  <div matPrefix>\r\n                                    <div *ngIf=\"isBirthCountry\" class=\"currency-flag currency-flag-{{birthCountryFlag}}\"></div>\r\n                                  </div>\r\n                                </div>\r\n                                <mat-select name=\"birthCountry\"  (selectionChange)=\"onBirthCountry($event.value)\" formControlName=\"birthCountry\" required>\r\n                                     <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                        {{country}}\r\n                                      </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Resident Status *</mat-label>\r\n                            <mat-select name=\"residenceType\" formControlName=\"residenceStatus\">\r\n                              <mat-option *ngFor=\"let residence of arrayResidence\" [value]=\"residence\">\r\n                                {{residence}}\r\n                              </mat-option>\r\n                            </mat-select>\r\n                            <mat-error *ngIf=\"applicant.get('residenceStatus').hasError('required')\">\r\n                              Resident Status is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n  \r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Country of Residence</mat-label>\r\n                            <div fxFlex=\"20\">\r\n                              <div matPrefix>\r\n                                <div *ngIf=\"isResidency\" class=\"currency-flag currency-flag-{{ResideceCurrency}}\"></div>\r\n                              </div>\r\n                            </div>\r\n                            \r\n                            <mat-select formControlName=\"countryOfResidence\" id=\"forcitizenship\"\r\n                                (selectionChange)=\"onOtherSelectionResidance($event.value)\" required>\r\n                               <mat-option disabled>--Select--</mat-option>\r\n                              <mat-option *ngFor=\"let country of arrayCountry\"\r\n                              [value]=\"country\">\r\n                              {{country}}\r\n                              </mat-option>\r\n                           </mat-select>\r\n                            <mat-error *ngIf=\"applicant.get('countryOfResidence').hasError('required')\">\r\n                              Country of Residence is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>ID Type *</mat-label>\r\n                            <mat-select name=\"idtype\" formControlName=\"idType\"\r\n                              (selectionChange)=\"changeIdType(applicant.get('idType').value)\">\r\n                              <mat-option *ngFor=\"let doc of arrayDocumentType\" [value]=\"doc\">\r\n                                {{doc}}\r\n                              </mat-option>\r\n                            </mat-select>\r\n                            <mat-error *ngIf=\"applicant.get('idType').hasError('required')\">\r\n                              ID Type is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                        \r\n                        <div class=\"pb-1\" *ngIf=\"showExpiryDate && applicant.get('idType').value !== 'Aadhar card'\" >\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>ID Type Valid Till </mat-label>\r\n                            <input matInput name=\"date\" readonly formControlName=\"expiryDate\"[required]=\"applicant.get('idType').value !== 'Aadhar card'\"\r\n                              placeholder=\"ID Type Valid Till\" [matDatepicker]=\"appDatepicker1\" [min]=\"validDate\"/>\r\n  \r\n                            <mat-datepicker-toggle matSuffix [for]=\"appDatepicker1\"></mat-datepicker-toggle>\r\n                            <mat-error *ngIf=\"applicant.get('expiryDate').hasError('required')\">\r\n                              ID Type Valid Till is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                          <mat-datepicker #appDatepicker1></mat-datepicker>\r\n                        </div>\r\n                      </div>\r\n                      <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                        <div class=\"pb-1\" *ngIf=\"listOfAccounts.length == 0; else show\">\r\n                          <label>Is the applicant a primary customer?</label>\r\n                          &nbsp;&nbsp;\r\n                          <mat-slide-toggle formControlName=\"primaryCustomer\" [(ngModel)]=\"isChecked\"\r\n                            [disabled]=\"listOfAccounts.length == 0 ? true : false\">\r\n                          </mat-slide-toggle>\r\n  \r\n                          <div class=\"mb-16\"></div>\r\n                        </div>\r\n                        <div  #show>\r\n                          <label>&nbsp;</label>\r\n                        </div>\r\n                        <div>\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Customer Prefix *</mat-label>\r\n                            <mat-select name=\"prefix\" formControlName=\"prefix\">\r\n                              <mat-option *ngFor=\"let prefix of arrayPrefix\" [value]=\"prefix\">\r\n                                {{prefix}}\r\n                              </mat-option>\r\n                            </mat-select>\r\n                            <mat-error *ngIf=\"applicant.get('prefix').hasError('required')\">\r\n                              Prefix is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n         \r\n                        <div class=\"pb-1 info1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Middle Name</mat-label>\r\n                            <input matInput name=\"mname\" formControlName=\"middleName\" placeholder=\"Middle Name\"\r\n                              (keypress)=\"letterOnly($event)\" />\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Gender *</mat-label>\r\n                            <mat-select name=\"gender\" formControlName=\"gender\">\r\n                              <mat-option *ngFor=\"let gender of arrayGender\" [value]=\"gender\">\r\n                                {{gender}}\r\n                              </mat-option>\r\n                            </mat-select>\r\n                            <mat-error *ngIf=\"applicant.get('gender').hasError('required')\">\r\n                              Gender is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Birth Place *</mat-label>\r\n                            <input matInput name=\"bplace\" formControlName=\"placeOfBirth\" placeholder=\"Birth Place\" />\r\n                            <mat-error *ngIf=\"applicant.get('placeOfBirth').hasError('required')\">\r\n                              Birth Place is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Citizenship By</mat-label>\r\n                             <div fxFlex=\"20\">\r\n                                <div matPrefix [style.display]=\"currency == null ? 'none' : ''\">\r\n                                  <div\r\n                                    class=\"currency-flag currency-flag-{{currency}}\"></div>\r\n                                </div>\r\n                              </div>\r\n                              <div fxFlex=\"100\">\r\n                                <mat-select formControlName=\"nationality\" id=\"forcitizenship\"\r\n                                (selectionChange)=\"onSelectionCitizionship1($event.value)\"\r\n                                  required>\r\n                                  <mat-option disabled>--Select--</mat-option>\r\n                                  <mat-option *ngFor=\"let citizenship of arrayCountry\"\r\n                                    [value]=\"citizenship\">\r\n                                    {{citizenship}}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                              </div>\r\n                            <mat-error *ngIf=\"applicant.get('nationality').hasError('required')\">\r\n                            Citizenship By is Required!\r\n                          </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n                        \r\n\r\n                        <div class=\"pb-1\" >\r\n                            <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Marital Status</mat-label>\r\n                                <mat-select name=\"maritalStatus\" formControlName=\"maritalStatus\" required>\r\n                                    <mat-option *ngFor=\"let status of maritalStatusList\" [value]=\"status\">{{ status }}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n\r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Occupation Type *</mat-label>\r\n                            <input matInput name=\"occupation\"  (keypress)=\"letterOnly($event)\" formControlName=\"occupationType\"\r\n                              placeholder=\"Occupation Type\" />\r\n                            <mat-error *ngIf=\"applicant.get('occupationType').hasError('required')\">\r\n                              Occupation Type is Required!\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n                        <div class=\"pb-1\">\r\n                          <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                            <mat-label>Unique ID *</mat-label>\r\n                            <input matInput name=\"uniqueidentity\" formControlName=\"idNumber\" placeholder=\"Unique ID\"\r\n                              maxlength=\"12\" (keypress)=\"keyPressAlphanumeric($event)\" />\r\n                            <mat-error *ngIf=\"applicant.get('idNumber').touched && !applicant.get('idNumber').valid\">\r\n                              <div *ngIf=\"applicant.get('idNumber').hasError('required')\">Unique ID is Required!</div>\r\n                              <div *ngIf=\"applicant.get('idNumber').hasError('pattern')\">This is a alphanumeric field\r\n                              </div>\r\n                            </mat-error>\r\n                          </mat-form-field>\r\n                        </div>\r\n  \r\n  \r\n  \r\n                      </div>\r\n                    </div>\r\n                    <!-- Address Section start-->\r\n                    <mat-accordion>\r\n                      <mat-expansion-panel class=\"mb-8\" expanded=\"true\">\r\n                        <mat-expansion-panel-header>\r\n                          <mat-panel-title>Communication Address </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n  \r\n                        <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                          <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Address Line 1 *</mat-label>\r\n                                <textarea matInput formControlName=\"address1\" placeholder=\"Address 1\"></textarea>\r\n                                <mat-error *ngIf=\"applicant.get('address1').hasError('required')\">\r\n                                  Address Line 1 is Required!\r\n                                </mat-error>\r\n                                <mat-error *ngIf=\" applicant.get('address1').touched && applicant.get('address1').hasError('pattern')\">\r\n                                  Please Enter Valid Address\r\n                                 </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n                           \r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Residence Type *</mat-label>\r\n                                <mat-select name=\"addressType\" formControlName=\"addressType\">\r\n                                  <mat-option *ngFor=\"let addressType of arrayAddressType\" [value]=\"addressType\">\r\n                                    {{addressType}}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                                <mat-error *ngIf=\"applicant.get('addressType').hasError('required')\">\r\n                                  Residence Type is Required!\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n                          \r\n                            \r\n                            \r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Zip Code *</mat-label>\r\n                                <input minlength=\"5\" maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"a_zip\"\r\n                                  formControlName=\"zipCode\" onlyNumber placeholder=\"Zip Code\"\r\n                                  (keyup)=\"isAllSameDigit($event)\"\r\n                                   (change)=\"getCityandStateByZipcode(applicant.get('country').value,$event.value)\"/>\r\n                              </mat-form-field>\r\n                              <mat-error *ngIf=\"applicant.get('zipCode').hasError('required') &&\r\n                                !applicant.controls['zipCode'].valid && \r\n                                applicant.controls['zipCode']?.touched\">\r\n                                Zip code is required!\r\n                              </mat-error>\r\n                              <mat-error *ngIf=\"applicant.get('zipCode').errors?.pattern\">Please enter valid Zip Code!(5-10 digits)</mat-error>\r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>City * </mat-label>\r\n                                <mat-select name=\"city\" formControlName=\"city\" (selectionChange)=\"onCityChange()\">\r\n                                  <mat-option *ngFor=\"let city of arrayCity\" [value]=\"city\">{{city}}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                                <mat-error *ngIf=\"applicant.get('city').hasError('required')\">\r\n                                  City is Required!\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n \r\n  \r\n                          </div>\r\n                          <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Address Line 2 *</mat-label>\r\n                                <textarea matInput formControlName=\"address2\" placeholder=\"Address 2\"></textarea>\r\n                                <mat-error *ngIf=\"applicant.get('address2').hasError('required')\">\r\n                                  Address Line 2 is Required!\r\n                                </mat-error>\r\n                                <mat-error *ngIf=\" applicant.get('address2').touched && applicant.get('address2').hasError('pattern')\">\r\n                                  Please Enter Valid Address \r\n                                 </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n                            \r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Country *</mat-label>\r\n                                <div fxFlex=\"20\">\r\n                                  <div matPrefix>\r\n                                    <div *ngIf=\"isCountry\"\r\n                                      class=\"currency-flag currency-flag-{{countryCode}}\"></div>\r\n                                  </div>\r\n                                </div>\r\n                                <mat-select name=\"country\" formControlName=\"country\"\r\n                                  (selectionChange)=\"getStateName($event.value,true)\"\r\n                                  (selectionChange)=\"getCountrySelection($event.value)\">\r\n                                  <mat-option *ngFor=\"let country of arrayCountry\" [value]=\"country\">\r\n                                    {{country}}\r\n                                  </mat-option>\r\n                                </mat-select>\r\n                                <mat-error *ngIf=\"applicant.get('country').hasError('required')\">\r\n                                  Country is Required!\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>State *</mat-label>\r\n                                <mat-select name=\"state\" formControlName=\"state\" (selectionChange)=\"onStateChange()\"\r\n                                  >\r\n                                  <mat-option *ngFor=\"let state of arrayState\" [value]=\"state.stateName\">{{state.stateName}}\r\n                                  </mat-option>\r\n  \r\n                                </mat-select>\r\n                                <mat-error *ngIf=\"applicant.get('state').hasError('required')\">\r\n                                  State is Required!\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                            </div>\r\n\r\n                            \r\n        \r\n  \r\n                          </div>\r\n                        </div>\r\n                      </mat-expansion-panel>\r\n                    </mat-accordion>\r\n                    <!-- Address Section end -->\r\n                    <!-- Contact Information -->\r\n                    <mat-accordion>\r\n                      <mat-expansion-panel class=\"mb-8\" expanded=\"true\">\r\n                        <mat-expansion-panel-header>\r\n                          <mat-panel-title>Contact Information </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n  \r\n                        <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                          <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Mobile Number *</mat-label>\r\n                                <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput\r\n                                  formControlName=\"phoneNumber\" name=\"phone\" placeholder=\"Mobile Number\" />\r\n                                <mat-error *ngIf=\"applicant.get('phoneNumber').hasError('required')\">\r\n                                  Mobile Number is Required!\r\n                                </mat-error>\r\n                                <mat-error *ngIf=\"applicant.get('phoneNumber').hasError('pattern')\">\r\n                                  Please, Enter 10 digit Mobile Number!\r\n                                </mat-error>\r\n  \r\n                              </mat-form-field>\r\n                              <mat-error style=\"margin-top:-20px\" *ngIf=\"applicant.get('phoneNumber').value == '0000000000'\">\r\n                                &nbsp; &nbsp; Please Enter Correct Mobile Number\r\n                             </mat-error>\r\n                            </div>\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>E-mail *</mat-label>\r\n                                <input matInput name=\"email\" formControlName=\"primaryEmailAdress\" placeholder=\"e-mail\" />\r\n                                <mat-error *ngIf=\"applicant.get('primaryEmailAdress').hasError('required')\">\r\n                                  E-mail is Required!\r\n                                </mat-error>\r\n                                <mat-error *ngIf=\"applicant.get('primaryEmailAdress').errors?.email || applicant.get('primaryEmailAdress').errors?.pattern\">\r\n                                  \"Please Enter Valid Email\"\r\n                                </mat-error>\r\n                                <!-- <mat-error *ngIf=\"form.controls['email'].touched && form.controls['email'].errors?.required || form.controls['email'].errors?.email\">\r\n                                  \"Please Enter Valid Email\"\r\n                                </mat-error> -->\r\n                              </mat-form-field>\r\n                            </div>\r\n                          </div>\r\n                          <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                            <div class=\"pb-1\">\r\n                              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                                <mat-label>Landline Number </mat-label>\r\n                                <input maxlength=\"10\" (keypress)=\"onKeyPress1($event)\" matInput name=\"mobile\"\r\n                                  formControlName=\"landlineNumber\" placeholder=\"Landline Number\" />\r\n                                <!-- <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('required')\">\r\n                                  Landline Number is Required!\r\n                                </mat-error> -->\r\n                                <mat-error *ngIf=\"applicant.get('landlineNumber').hasError('pattern')\">\r\n                                  Please, Enter 10 digit Landline Number!\r\n                                </mat-error>\r\n                              </mat-form-field>\r\n                              <mat-error style=\"margin-top:-20px\" *ngIf=\"applicant.get('landlineNumber').value == '0000000000'\">\r\n                                &nbsp; &nbsp; Please Enter Correct Landline Number\r\n                             </mat-error>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n  \r\n                      </mat-expansion-panel>\r\n                      <div class=\"pb-1\">\r\n  \r\n                        <!-- <button\r\n                        mat-button\r\n                        color=\"warn\"\r\n                        (click)=\"removeApplicant()\"\r\n                      >\r\n                        <mat-icon></mat-icon> RESET APPLICANT\r\n                      </button> -->\r\n                      </div>\r\n                      <div class=\"pb-1\">\r\n                        <a mat-button color=\"primary\" *ngIf=\"applicant.invalid ||isDuplicateCIF || disableSaveBtn; else openSave\" [disabled]=\"applicant.invalid||isDuplicateCIF\" >\r\n                          <mat-icon></mat-icon> SAVE APPLICANT\r\n                        </a>\r\n                        <ng-template #openSave>\r\n                        <a mat-button color=\"primary\" (click)=\"onSubmit()\">\r\n                          <mat-icon></mat-icon> SAVE APPLICANT\r\n                        </a>\r\n                        </ng-template>\r\n  \r\n                        <!-- <button\r\n                        mat-button\r\n                        color=\"warn\"\r\n                        (click)=\"removeApplicant()\"\r\n                      >\r\n                        <mat-icon></mat-icon> RESET APPLICANT\r\n                      </button> -->\r\n                      </div>\r\n  \r\n                    </mat-accordion>\r\n                    <!-- Contact Information -->\r\n                  </div>\r\n                </mat-expansion-panel>\r\n              </mat-accordion>\r\n  \r\n            </div>\r\n  \r\n            <!-- <pre><code>{{applicant.getRawValue() | json}}</code></pre> -->\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n              <button mat-button rounded  (click)=\"goBack()\">\r\n                Back\r\n              </button>\r\n              <ng-container *ngIf=\"cardCustomerForm.get('ownership').value == 'Joint'; else hideBtn\">\r\n                <button mat-raised-button color=\"primary\" class=\"Nextbtn\" (click)=\"goToNext()\"\r\n                [disabled]=\"cardCustomerForm.get('numOfApplicants').value === listOfAccounts.length ? 'false' : 'true'\">\r\n                  Next\r\n                </button>\r\n              </ng-container>\r\n              <ng-template #hideBtn>\r\n                <button class=\"Nextbtn\" mat-raised-button color=\"primary\" (click)=\"goToNext()\"\r\n                [disabled]=\"cardCustomerForm.get('numOfApplicants').value !== listOfAccounts.length || (cardCustomerForm.invalid && (selectedApplicant !== null)) \">\r\n                  Next\r\n                </button>\r\n              </ng-template>\r\n            </div>\r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n@Component({\r\n\r\n\r\n  selector: 'app-underwriting-stage',\r\n  templateUrl: './underwriting-stage.component.html',\r\n  styleUrls: ['./underwriting-stage.component.scss']\r\n})\r\nexport class UnderwritingStageComponent implements OnInit {\r\n  isCardCreditRatingDetails: boolean = false;\r\n  isCardQualitativeScoreboard:boolean=false;\r\n  cardId :any;\r\n  constructor(private router:Router, private ls: LocalStoreService,private dialogService : DialogService,\r\n  private accountService: AccountService,private cdr: ChangeDetectorRef) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isCardQualitativeScoreboard=this.ls.getItem('CARD_QUALITATIVE_SCOREBOARD_DONE');\r\n    this.isCardCreditRatingDetails = this.ls.getItem('CARD_CREDIT_RATING_DONE');\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n        this.cardId = this.ls.getItem('cardId');\r\n      //  this.loanAccountId = this.ls.getItem('loanAccountId');\r\n        this.isCardQualitativeScoreboard=this.ls.getItem('CARD_QUALITATIVE_SCOREBOARD_DONE');\r\n        this.isCardCreditRatingDetails = this.ls.getItem('CARD_CREDIT_RATING_DONE');\r\n        this.cdr.markForCheck();\r\n      });\r\n  }\r\n\r\n  viewSummary(){\r\n    this.router.navigate([`cardaccount/underwritingStage/summary`]);\r\n  }\r\n\r\n  goToCreditRatingSummary(){\r\n    this.dialogService.cardAccountcreditRatingSummaryDialog();\r\n  }\r\n  openCardQualitativeDialog(){\r\n    this.dialogService.CardQualitativeSummaryDialog();\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-8\" *ngIf=\"isCardCreditRatingDetails && isCardQualitativeScoreboard;\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Underwriting Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\" (click)=\"viewSummary()\">\r\n                    View Summary\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <mat-card [ngClass]=\"{'border-size': isCardCreditRatingDetails || !isCardCreditRatingDetails  }\">\r\n        <mat-card-header>\r\n          <mat-card-title>1. Credit Rating Details</mat-card-title>\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutGap=\"10px\"\r\n            fxLayoutAlign=\"space-between start\">\r\n            <div fxFlex=\"50%\"style=\"padding-left:17px\" class=\"txtclr\">\r\n              <p>\r\n                Credit rating details are captured here.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/Mask_Group_9.svg'\" class=\"card-img\" /> \r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <div class=\"mb-1\" *ngIf=\"isCardCreditRatingDetails\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\">\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n          </div>\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n            <ng-container *ngIf=\"isCardCreditRatingDetails; else showCredit\">\r\n                <button mat-button (click)=\"goToCreditRatingSummary()\" color=\"primary\">\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                </button>\r\n            </ng-container>\r\n            \r\n            <ng-template #showCredit>\r\n                <button mat-button [routerLink]=\"['/cardaccount/underwritingStage/credit-rating']\" color=\"primary\">\r\n                   Add Details <mat-icon>chevron_right</mat-icon>\r\n                </button>\r\n            </ng-template>\r\n          </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 1 end -->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n      <!-- card 2 start-->\r\n      <mat-card [ngClass]=\"{'border-size': isCardCreditRatingDetails || !isCardCreditRatingDetails && isCardQualitativeScoreboard  }\">\r\n        <mat-card-header>\r\n          <mat-card-title>2. Qualitative Scorecard</mat-card-title>\r\n          <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n            <div fxFlex=\"50%\" style=\"padding-left:17px\"class=\"txtclr\">\r\n              <p>\r\n                Charge Details are displayed.\r\n              </p>\r\n            </div>\r\n            <div fxFlex=\"50%\">\r\n              <img [src]=\"'assets/images/svg/undraw_Scrum_board_re_wk7v.svg'\" class=\"card-img\" />\r\n            </div>\r\n          </div>\r\n          <!--begin::Progress-->\r\n          <div class=\"mb-1\"  *ngIf=\"isCardQualitativeScoreboard\">\r\n            <mat-progress-bar\r\n             [color]=\"'primary'\" \r\n              mode=\"determinate\"\r\n             [value]=\"100\" class=\"rounded\" \r\n             style=\"height: 6px\">\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n          </div>\r\n          <!--end::Progress-->\r\n        </mat-card-content>\r\n        <!--begin:: Card body-->\r\n        <mat-divider></mat-divider>\r\n        <mat-card-actions>\r\n          <ng-container *ngIf=\"isCardQualitativeScoreboard; else showQualitative\">\r\n              <button mat-button (click)=\"openCardQualitativeDialog()\" color=\"primary\">\r\n                 View Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-container>\r\n\r\n          <ng-template #showQualitative>\r\n              <!-- <button mat-button [routerLink]=\"['/cardaccount/underwritingStage/qualitative']\" \r\n              color=\"primary\" [disabled]=\"!isCardQualitativeScoreboard\"> -->\r\n              <button mat-button [routerLink]=\"['/cardaccount/underwritingStage/qualitative']\" \r\n              color=\"primary\" [disabled]=\"!isCardCreditRatingDetails\" >\r\n                Add Details <mat-icon>chevron_right</mat-icon>\r\n              </button>\r\n          </ng-template>\r\n        </mat-card-actions>\r\n      </mat-card>\r\n      <!-- Card 2 end-->\r\n    </div>\r\n  </div>\r\n  \r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { CardInitiationSummaryComponent } from './card-initiation/card-initiation-summary/card-initiation-summary.component';\r\n\r\n@Component({\r\n  selector: 'app-application-entry-stage',\r\n  templateUrl: './application-entry-stage.component.html',\r\n  styleUrls: ['./application-entry-stage.component.scss']\r\n})\r\nexport class ApplicationEntryStageComponent implements OnInit {\r\n  isCardPrefrenceDone:boolean=false\r\n  CardInitiationScreenDone:boolean=false;\r\n  isCardInitiationDone:boolean=false;\r\n  isCardCustomerInformationScreen:boolean=false;\r\n  isCardFinancialDetailsScreen:boolean=false;\r\n  isCardAccountService:boolean=false;\r\n  isCardApplicationStageDone:boolean=false;\r\n\r\n\r\n  constructor(private router:Router,private dialogService : DialogService,private ls: LocalStoreService, public dialog: MatDialog) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isCardApplicationStageDone=this.ls.getItem('CARD_APPLICATION_ENTRY_DONE');\r\n    this.isCardPrefrenceDone=this.ls.getItem('card_prefrence_done');\r\n    this.isCardInitiationDone=this.ls.getItem('CARD_INITIATION_DONE');\r\n    this.isCardCustomerInformationScreen=this.ls.getItem('Card_Customer_Done');\r\n    this.isCardFinancialDetailsScreen=this.ls.getItem('CARD_FINANCIAL_DONE');\r\n    this.isCardAccountService=this.ls.getItem('CARD_ACC_SERVICE_DONE')\r\n  }\r\n  openCardInitiationSummary(){\r\n    this.dialogService.CardInitiationSummary();\r\n  }\r\n  goToFinancialSummarry(){\r\n    this.dialogService.CardFinancialDetailsSummary();\r\n  }\r\n  goToCustomerInfo(){\r\n    this.dialogService.CardCustomerInfoSummary();\r\n  }\r\n\r\n  goToCradAccountService(){\r\n    this.dialogService.cardAccountServiceViewSummary();\r\n  }\r\n  cardPrefrenceSummary(){\r\n    this.dialogService.cardPrefrenceSummary();\r\n  }\r\n\r\n  openCardEntryStageViewSummary(){\r\n    this.dialogService.cardAppEntryStageViewSummary();\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\" class=\"matcard-size1\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\" *ngIf=\"isCardApplicationStageDone\" class=\"mt-8\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Entry Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button class=\"btn-color\"\r\n                 (click)=\"openCardEntryStageViewSummary()\">\r\n                    View Summary\r\n                    <mat-icon>chevron_right</mat-icon>\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n        <!-- Card 1 start-->\r\n        <mat-card [ngClass]=\"{'border-size':isCardInitiationDone || !isCardInitiationDone }\">\r\n            <mat-card-header>\r\n                <mat-card-title style=\"font-size: 16px\">1. Card Initiation</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" style=\"font-size: 11px\">\r\n                    <div fxFlex=\"50%\" class=\"notActive\" >\r\n                        <p class=\"text-align\">\r\n                            All the primary information about the customer is captured.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/undraw_personal_information_re_vw8a.svg.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            \r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardInitiationDone\">\r\n                    <button\r\n                  mat-button\r\n                  (click)=\"openCardInitiationSummary()\"\r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n      \r\n                <ng-container *ngIf=\"!isCardInitiationDone\" >\r\n                    <button \r\n                  mat-button\r\n                  [routerLink]=\"['/cardaccount/applicationEntryStage/list/cardInitiation']\" \r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container >\r\n            \r\n                \r\n              </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n    \r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n        <!-- Card 1 start-->\r\n        <mat-card [ngClass]=\"{'border-size':isCardCustomerInformationScreen || !isCardCustomerInformationScreen && isCardInitiationDone }\">\r\n            <mat-card-header>\r\n                <mat-card-title style=\"font-size: 16px\">2. Customer Information Details</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" style=\"font-size: 11px\">\r\n                    <div fxFlex=\"50%\" class=\"notActive\" >\r\n                        <p class=\"text-align\">\r\n                            All the primary information about the customer is captured.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/undraw_personal_information_re_vw8a.svg.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n          \r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardCustomerInformationScreen; else showCustomer\">\r\n                    <button\r\n                  mat-button\r\n                 (click)=\"goToCustomerInfo()\"\r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n      \r\n                <ng-template #showCustomer>\r\n                    <button \r\n                  mat-button\r\n                  [routerLink]=\"['/cardaccount/applicationEntryStage/list/customerInformation']\"\r\n                  color=\"primary\"\r\n                  [disabled]=\"!isCardInitiationDone\"\r\n                  class=\"add-align\"\r\n                >\r\n                  Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template>\r\n            \r\n                \r\n              </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- card 2 start-->\r\n        <mat-card [ngClass]=\"{'border-size':isCardFinancialDetailsScreen || !isCardFinancialDetailsScreen && isCardCustomerInformationScreen }\">\r\n            <mat-card-header>\r\n                <mat-card-title style=\"font-size: 16px\">3. Financial Details</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" style=\"font-size: 11px\">\r\n                    <div fxFlex=\"50%\" class=\"notActive\" >\r\n                        <p class=\"text-align\">\r\n                            Financial Details such as Monthly Income, Monthly Expenses, Liabilities are captured.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"\r\n                  'assets/images/svg/undraw_Finance_re_gnv2.svg'\r\n                \" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardFinancialDetailsScreen; else showFinancial\">\r\n                    <button\r\n                  mat-button\r\n                  (click)=\"goToFinancialSummarry()\"\r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n      \r\n                <ng-template #showFinancial>\r\n                    <button \r\n                  mat-button\r\n                  [routerLink]=\"['/cardaccount/applicationEntryStage/list/financialDetails']\"\r\n                  color=\"primary\"\r\n                  [disabled]=\"!isCardCustomerInformationScreen\"\r\n                  class=\"add-align\"\r\n                >\r\n                  Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template>\r\n            \r\n                \r\n              </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 2 end-->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- card 2 start-->\r\n        <mat-card [ngClass]=\"{'border-size':isCardPrefrenceDone || !isCardPrefrenceDone && isCardFinancialDetailsScreen }\">\r\n            <mat-card-header>\r\n                <mat-card-title style=\"font-size: 16px\">4. Card Preferences</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" style=\"font-size: 11px\">\r\n                    <div fxFlex=\"50%\" class=\"notActive\" >\r\n                        <p class=\"text-align\">\r\n                            Card related information are added.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"\r\n                  'assets/images/svg/Mask_Group_1.svg'\r\n                \" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardPrefrenceDone; else showCardPrefrence\">\r\n                    <button\r\n                  mat-button\r\n                  (click)=\"cardPrefrenceSummary()\"\r\n              \r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n      \r\n                <ng-template #showCardPrefrence>\r\n                    <button \r\n                  mat-button\r\n                  [routerLink]=\"[ '/cardaccount/applicationEntryStage/list/cardPrefrence' ]\"\r\n                  color=\"primary\"\r\n                  [disabled]=\"!isCardFinancialDetailsScreen\"\r\n                  class=\"add-align\"\r\n                >\r\n                  Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template>\r\n            \r\n                \r\n              </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 2 end-->\r\n    </div>\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- card 2 start-->\r\n        <mat-card [ngClass]=\"{'border-size':isCardAccountService || !isCardAccountService && isCardPrefrenceDone }\">\r\n            <mat-card-header>\r\n                <mat-card-title style=\"font-size: 16px\">5. Account Services</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\" style=\"font-size: 11px\">\r\n\r\n                    <div fxFlex=\"50%\" class=\"notActive\" >\r\n\r\n                        <p class=\"text-align\">\r\n                            Account services preferences like account statement frequency and mode are captured.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"\r\n                  'assets/images/svg/undraw_opinion_dxp8.svg'\r\n                \" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n\r\n                <ng-container *ngIf=\"isCardAccountService; else showService\">\r\n                    <button\r\n                  mat-button\r\n                  (click)=\"goToCradAccountService()\"\r\n                  color=\"primary\"\r\n                  class=\"add-align\"\r\n                >\r\n                  View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n      \r\n                <ng-template #showService>\r\n                    <button \r\n                  mat-button\r\n                  [routerLink]=\"['/cardaccount/applicationEntryStage/list/accountServices']\"\r\n                  color=\"primary\"\r\n                  [disabled]=\"!isCardPrefrenceDone\"\r\n                  class=\"add-align\"\r\n                >\r\n                  Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template>\r\n            \r\n                \r\n              </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 2 end-->\r\n    </div>\r\n    <!-- <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <mat-card>\r\n            <mat-card-header>\r\n                <mat-card-title>5. Add on Card Holder Details</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> \r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                    <div fxFlex=\"50%\">\r\n                        <p>Details such as name, relation, address of the add on card holder is captured.</p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/Mask Group 5.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n            <span class=\"text-muted\">| {{ item.percentage }}%</span>\r\n          </div> -->\r\n                <!--end::Progress\r\n            </mat-card-content>\r\n            <!--begin:: Card body\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n\r\n                <button mat-button color=\"primary\" [routerLink]=\"[ '/loan/account/customer-information' ]\">\r\n                    View Details <mat-icon>chevron_right</mat-icon>\r\n                </button>\r\n\r\n            </mat-card-actions>\r\n        </mat-card>\r\n    </div> -->\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { QualitativeScoreboardSummary } from 'app/shared/models/qualitativeScoreboardSummary';\r\nimport { AssessmentReportSummary } from 'app/shared/models/AssessmentReportSummary';\r\nimport { UrlService } from 'app/views/home/url.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-underwriting-stage-summary',\r\n  templateUrl: './underwriting-stage-summary.component.html',\r\n  styleUrls: ['./underwriting-stage-summary.component.scss']\r\n})\r\nexport class UnderwritingStageSummaryComponent implements OnInit {\r\n\r\n  previousUrl: string = '';\r\n  accountId: any;\r\n  qualitativeScoreboardSummary: QualitativeScoreboardSummary;\r\n  assessmentReportSummary: AssessmentReportSummary;\r\n  imagePath = \"assets/images/assesment.png\";\r\n  cardId: any;\r\n  customerName: any;\r\n  creditRatingValues: any;\r\n  constructor(\r\n    private router: Router,\r\n    private ls: LocalStoreService,\r\n    private apiService: ApiService,\r\n    private urlService: UrlService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem('cardId');\r\n    \r\n    this.getAllData(this.cardId);\r\n\r\n    this.urlService.previousUrl$\r\n      .subscribe((previousUrl: string) => {\r\n        this.previousUrl = previousUrl\r\n      });\r\n\r\n\r\n  }\r\n\r\n  getAllData(id) {\r\n    this.apiService.getCardQualitativeScorecardDetails(this.cardId).subscribe((response) => {\r\n      this.qualitativeScoreboardSummary = response;\r\n      console.log(this.qualitativeScoreboardSummary);\r\n       console.log(this.qualitativeScoreboardSummary.scoreCardMapping);\r\n    });\r\n   \r\n    this.apiService.getCardCreditRatingDetails(id).subscribe((creditDetails: any) => {\r\n      console.log(creditDetails.customerName);\r\n      this.customerName=creditDetails.customerName;\r\n      this.creditRatingValues=creditDetails;\r\n      });\r\n    }\r\n  \r\n    goBack() {\r\n      this.router.navigate([`cardaccount/underwritingStage/list`]);\r\n    }\r\n  \r\n    done() {\r\n      // this.router.navigate([`/cardaccount/assessmentStage/list/${this.cardId}`]);\r\n      this.router.navigate([\"/cardaccount/assessmentStage/list\"]);\r\n    }\r\n  \r\n\r\n}\r\n","<div fxLayout=\"column\" style=\"padding: 3rem 0rem;\" fxLayoutAlign=\"space-around center\" fxLayoutGap=\"20px\"\r\n    class=\"full-width\">\r\n    <div>\r\n        <img [src]=\"imagePath\">\r\n    </div>\r\n    <div>\r\n        <h2 style=\"font-size: 24px;\">Application Underwriting stage Summary</h2>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row\">\r\n    <h4 class=\"paraFont\">Credit Score Details</h4>\r\n</div>\r\n<div class=\"fullcard\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n        <div fxFlex=\"100%\">\r\n            <mat-card class=\"chequecard\">\r\n                <mat-card-content>\r\n                    <div class=\"full-width\" >\r\n                         <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                <ng-container>\r\n                                    <div fxFlex=\"33%\" fxFlex.xs=\"100%\">\r\n                                        <mat-hint class=\"headingText\">CustomerName</mat-hint>\r\n                                                <br>\r\n                                         <mat-hint class=\"valueText\">{{customerName}}</mat-hint>\r\n                                    </div>\r\n                                 </ng-container>\r\n                            </div>\r\n                         </div>\r\n                    </div>\r\n                </mat-card-content>\r\n            </mat-card>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"fullcard\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n        <div fxFlex=\"100%\">\r\n            <div *ngFor=\"let credit of creditRatingValues.agencyRating\">\r\n                <mat-card class=\"chequecard\">\r\n                    <mat-card-content>\r\n                        <div class=\"full-width\" >\r\n                            <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                     <ng-container>\r\n                                            <div fxFlex=\"5%\" fxFlex.xs=\"100%\" class=\"inputCardclass\" fxLayoutAlign=\"end start\">\r\n                                                <!-- <div >\r\n                                                    <app-avatar-photo [name]=\"customer?.firstName + ' ' + customer?.lastName\"></app-avatar-photo> \r\n                                                </div> -->\r\n                                             </div>\r\n                                            <div fxFlex fxFlex.xs=\"100%\" class=\"inputCardclass\">\r\n                                                <mat-card class=\"inputCard\">\r\n                                                    <h3>Score</h3><br>\r\n                                                        <div fxLayout=\"column\" fxLayoutGap=\"10%\" fxLayoutAlign=\"space-between none\">\r\n                                                        <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                            <ng-container>\r\n                                                                <div fxFlex=\"20%\" fxFlex.xs=\"50%\">\r\n                                                                    <mat-hint class=\"headingText\">Agency</mat-hint><br>\r\n                                                                    <mat-hint class=\"valueText\">{{credit.agencyName}}</mat-hint>\r\n                                                                </div>\r\n                                                                <div fxFlex=\"20%\" fxFlex.xs=\"50%\">\r\n                                                                    <mat-hint class=\"headingText\">Score</mat-hint><br>\r\n                                                                    <mat-hint class=\"valueText\">{{credit.ratings}}</mat-hint>\r\n                                                                </div>   \r\n                                                            </ng-container>\r\n                                                        </div>\r\n                                                        </div><br>\r\n                                                        <div fxLayout=\"column\" fxLayoutGap=\"6%\" fxLayoutAlign=\"space-between none\">\r\n                                                            <div fxLayout=\"row wrap\" class=\"flex-container stretch\">\r\n                                                                <ng-container>\r\n                                                                    <div fxFlex=\"20%\" fxFlex.xs=\"50%\">\r\n                                                                        <mat-hint class=\"headingText\">Remarks</mat-hint><br>\r\n                                                                        <mat-hint class=\"valueText\">{{credit.remarks}} </mat-hint>\r\n                                                                    </div>\r\n                                                                </ng-container>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                </mat-card>\r\n                                            </div>\r\n                                    </ng-container>\r\n                                </div>    \r\n                            </div>\r\n                        </div>\r\n                     </mat-card-content>\r\n                </mat-card>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> \r\n<br>\r\n\r\n<div fxLayout=\"column\" fxLayoutAlign=\"space-between start\" fxLayoutGap=\"10px\" class=\"full-width\">\r\n   \r\n    <div fxFlex=\"100%\" fxFlex.xs=\"100%\" class=\"full-width\"\r\n        style=\"border:1px solid rgb(249 245 245);border-radius: 5px;\"><!--- *ngIf=\"qualitativeScoreboardSummary !=null\"-->\r\n        <div fxLayout=\"column\" fxLayoutAlign=\"space-evenly start\" class=\"full-width\">\r\n            <div class=\"full-width\">\r\n                <div fxLayout=\"row wrap\" class=\"full-width\" style=\"padding:2rem;\">\r\n                    <div fxFlex=\"100%\" fxFlex.xs=\"100%\">\r\n                        <div>\r\n                            <span style=\"color: #102245;opacity: 64%; font-size:medium;font-family: sans-serif;\">ScoreCard Id</span><br>\r\n                            <div style=\"padding-top: 5px;\">\r\n                                <span style=\"font-size: medium;\">ID #{{qualitativeScoreboardSummary?.scoreCardId}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div fxFlex=\"100%\" fxFlex.xs=\"100%\">\r\n                        <div class=\"mt-32\">\r\n                            <span style=\"color: #102245;opacity: 64%; font-size: medium;font-family: sans-serif;\">Number Of Applicants</span><br>\r\n                            <div style=\"padding-top: 5px;\">\r\n                                <span style=\"font-size: medium;\">{{qualitativeScoreboardSummary?.numberOfApplicant}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n         \r\n            <div class=\"full-width\">\r\n                <mat-divider style=\"background-color: white\"></mat-divider>\r\n            </div>\r\n          \r\n           \r\n            <div fxLayout=\"row wrap\" style=\"color: #102245;opacity: 64%; font-size: medium;font-family: sans-serif; padding: 0rem 1rem;\" \r\n            class='qtnhd'>Questions</div> \r\n          \r\n            <div class=\"full-width\" style=\"padding: 0rem 2rem;\">             \r\n              <div fxLayout=\"row wrap\" class=\"full-width\" >\r\n                <div *ngFor='let item of qualitativeScoreboardSummary?.scoreCardMapping;let k=index'>  \r\n                  <div class=\"applicanthd\" \r\n                    style=\"font-weight: bold;font-family: sans-serif;\">Applicant {{item.applicantId}}</div>\r\n                    <div class=\"row wrap\">\r\n                      <div fxLayout=\"row wrap\" class=\"qtncard row\"\r\n                       fxLayoutGap=\"30px\" fxFlex=\"50%\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\" class=\"full-width\"\r\n                       *ngFor='let item of qualitativeScoreboardSummary?.scoreCardMapping[k].scoreCardDetails;let i=index'>\r\n                       <mat-card class=\"qtncard1 row\" style=\" justify-content:space-evenly;\">\r\n                       <div>{{i+1}}.{{item.scorecardQuestion}}</div>\r\n                       <div class='qtnval' style=\"opacity: 80%\">{{item.scorecardAnswer}}</div>\r\n                       </mat-card>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          \r\n        </div>\r\n    </div>\r\n   \r\n</div>\r\n\r\n<div >\r\n    <button mat-stroked-button color=\"primary\"\r\n            style=\"border-radius: 20px;width: 10rem;height: 2.5rem;font-family: sans-serif;\"\r\n            (click)=\"goBack()\"\r\n    >\r\n        Back\r\n    </button>\r\n    <span fxFlex></span>\r\n    <button\r\n        style=\"border-radius: 20px;width: 10rem;height: 2.5rem;background-color: #456EFE; float: right; color: white; font-family: sans-serif;\"\r\n        mat-raised-button type=\"button\" (click)=\"done()\"\r\n    >\r\n        Done\r\n    </button>   \r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-supervisor-approval-stage',\r\n  templateUrl: './supervisor-approval-stage.component.html',\r\n  styleUrls: ['./supervisor-approval-stage.component.scss']\r\n})\r\nexport class SupervisorApprovalStageComponent implements OnInit {\r\n  isApprovalDetails: boolean= false;\r\n  isCardSupervisorApprovalDone:boolean=false;\r\n\r\n  constructor(private router: Router,private dialogService : DialogService,private ls: LocalStoreService,\r\n   ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isApprovalDetails = this.ls.getItem('CARD_APPROVAL_DONE');\r\n    this.isCardSupervisorApprovalDone=this.ls.getItem('CARD_SUPERVISOR_DONE');\r\n    console.log(\"\", this.isApprovalDetails)\r\n  }\r\n\r\n  addDetails(){\r\n    console.log(\"calling\")\r\n    this.router.navigate([\"/cardaccount/SupervisorApprovalStage/list/approvalDetails\"]);\r\n  }\r\n  openApprovalSummary(){\r\n    this.dialogService.CardApprovalSummary();\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\" class=\"matcard-size1\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <div fxFlex=\"100\" class=\"mt-8\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Entry Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\">\r\n                    View Summary\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div> -->\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n        <!-- Card 1 start-->\r\n        <mat-card>\r\n            <mat-card-header>\r\n                <mat-card-title>1.Approval Details</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                    <div fxFlex=\"50%\"class=\"txtclr\">\r\n                        <p>\r\n                            Approval Details are captured.</p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/MaskGroup_16.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container>\r\n                    <button mat-button color=\"primary\" *ngIf=\"!isApprovalDetails\"  (click)=\"addDetails()\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n                <ng-container>\r\n                    <button mat-button color=\"primary\" *ngIf=\"isApprovalDetails\" (click)=\"openApprovalSummary()\">\r\n                        View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n                <!-- <ng-template #showLoan>\r\n                    <button mat-button color=\"primary\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template> -->\r\n\r\n\r\n            </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n\r\n\r\n</div>\r\n\r\n","import { Component, ElementRef, OnInit, QueryList, ViewChildren } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { home } from 'app/shared/models/cardPrefrences';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-card-prefrences',\r\n  templateUrl: './card-prefrences.component.html',\r\n  styleUrls: ['./card-prefrences.component.scss']\r\n})\r\nexport class CardPrefrencesComponent implements OnInit {\r\n  //@ViewChildren(\"selectLang\") langSelects: QueryList<ElementRef<HTMLSelectElement>>;\r\n  \r\n  home=new home();\r\n  cardPrefrenceForm: FormGroup;\r\n  arraylimitType: string[] = [];\r\n  selectedOptions2: string[] = [];\r\n  cardId:number;\r\n  cardDetails: string[]=[];\r\n  isdailylimit:boolean=false;\r\n  isLimitTransaction:boolean=false;\r\n  limiPrTrn: Number;\r\n  limitDaily: number;\r\n  isGreaterValue:boolean=false;\r\n  selectedDocumentTypes2: string[] = [];\r\n  cardPrefrenceOnLoad:any = [];\r\n  isRowEnds:boolean=false;\r\n  islimitType:boolean=false;\r\n  isDLReadOnly: boolean = true;\r\n  isLPTReadOnly:boolean=true;\r\n\r\n  \r\n  constructor(  private fb: FormBuilder, private router: Router, private apiService:ApiService, private snack: MatSnackBar, private ls: LocalStoreService,\r\n    private accountService : AccountService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.arraylimitType=[\"Domestic Limit\",\"International Limit\",\"Daily Limit\",\"ATM limit\",\"POS Limit\",\"Internet Limit\"];\r\n    //this.newArray=this.arraylimitType\r\n    this.buildCardPrefrenceForm();\r\n    let cardPrefrenceScreen: boolean = JSON.parse(this.ls.getItem('card_prefrence_done'));\r\n    if (this.cardId!=null && cardPrefrenceScreen) {\r\n      this.gettingCardPrefrenceDetail();\r\n    }\r\n    else{\r\n      console.log(\"\");\r\n      //this.buildMandateForm();\r\n    }\r\n    \r\n   \r\n  }\r\n  gettingCardPrefrenceDetail() {\r\n    this.apiService.getCardPrefrence(this.cardId).subscribe((cardDetails) => {\r\n      console.log(cardDetails);\r\n      \r\n        this.cardPrefrenceOnLoad = cardDetails;\r\n        if(cardDetails){\r\n          this.isdailylimit=true;\r\n          this.isLimitTransaction=true;\r\n          this.islimitType=true;\r\n        }\r\n        else{\r\n          this.isdailylimit=false;\r\n          this.isLimitTransaction=false;\r\n        }\r\n        for(let i=0; i<=this.cardPrefrenceOnLoad.length-1;i++){\r\n          this.selectedOptions2.push(this.cardPrefrenceOnLoad[i].limitType);\r\n        }\r\n        console.log(\"All Transaction Details\", cardDetails);\r\n        this.buildCardPrefrenceForm(cardDetails, true);\r\n      });\r\n  }\r\n  buildCardPrefrenceForm(data?, isResponse?:boolean) {\r\n    this.cardPrefrenceForm = this.fb.group({\r\n      cardPrefrences: this.fb.array([this.addMFormGroup()])\r\n    });\r\n    if(isResponse){\r\n      this.addMandateToFormGroup(data);\r\n      console.log(data);\r\n      for(let i=0;i<=data.length-1;i++){\r\n        data[i].dailyLimit=this.addComa(data[i].dailyLimit);\r\n        data[i].limitPerTransaction=this.addComa(data[i].limitPerTransaction);\r\n      }\r\n      this.m.patchValue(data);\r\n    }\r\n  }\r\n  addMandateToFormGroup(data?) {\r\n    const numberOfItems = data.length;\r\n    for (let index = 1; index < numberOfItems; index++) {\r\n      this.m.push(this.fb.group({\r\n        limitType: [''],\r\n      dailyLimit: [''],\r\n      limitPerTransaction: [''],\r\n      }));\r\n    }\r\n    this.isdailylimit=true;\r\n  }\r\n  get f() { return this.cardPrefrenceForm.controls; }\r\n  get m() { return this.f.cardPrefrences as FormArray; }\r\n  newcard(){\r\n\r\n  }\r\n  addMFormGroup(): FormGroup {\r\n    \r\n    return this.fb.group({\r\n      limitType: [''],\r\n      dailyLimit: ['',[ Validators.maxLength(18),Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n      limitPerTransaction: ['', [ Validators.maxLength(18),Validators.pattern(\"^[0-9]{10,12}$\")]],\r\n    });\r\n    \r\n  }\r\n \r\n  addMandate(){\r\n    this.isdailylimit=false;\r\n    this.islimitType=false;\r\n    this.isLimitTransaction=false;\r\n    this.isLPTReadOnly=true;\r\n    this.isDLReadOnly=true;\r\n console.log(\"this.selectedOptions2\",this.selectedOptions2);\r\nthis.m.push(this.fb.group({\r\n limitType: [''],\r\n dailyLimit: [''],\r\n limitPerTransaction: [''],\r\n}));\r\n  }\r\n  \r\n  addComa(num1){\r\n    console.log(num1)\r\n  \r\n    let finalNum = num1.toString().replace(/,/g, '').split(\".\");\r\n    finalNum[0] = finalNum[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    let final = finalNum.join(\".\");\r\n    return final;\r\n\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n        event.preventDefault();\r\n    }\r\n    this.isdailylimit=true;\r\n    this.isLPTReadOnly=false\r\n   }\r\n   keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n        event.preventDefault();\r\n    }\r\n    this.isLimitTransaction=true;\r\n   }\r\n   OnInput(event: any, flag,k) {\r\n      this.limiPrTrn = event.target.value;\r\n      var dailyNum=this.removeComma(this.cardPrefrenceForm.value.cardPrefrences[k].dailyLimit);\r\n      var LimitTxn=this.removeComma(this.limiPrTrn);\r\n      if(!this.limiPrTrn){\r\n        this.isLimitTransaction=false;\r\n      }else{\r\n        this.isLimitTransaction=true;\r\n      }\r\n    \r\n    if( Number(LimitTxn) > Number(dailyNum)){\r\n      this.isGreaterValue=true;\r\n    }\r\n    else if( Number(LimitTxn) < Number(dailyNum)){\r\n      this.isGreaterValue=false;\r\n    }\r\n    else{\r\n      this.isGreaterValue=false;\r\n    }\r\n    let payload={\r\n      limitPerTransaction:this.addComa(this.limiPrTrn)\r\n    }\r\n    this.m.controls[k].patchValue(payload);\r\n\r\n\r\n  //  this.cardPrefrenceForm.get('limitPerTransaction').setValue(this.addComa( this.limiPrTrn ));\r\n  //console.log( this.addComa( this.limiPrTrn ));\r\n  //this.m.controls[k].value.limitPerTransaction.setValue( this.addComa( this.limiPrTrn ))\r\n\r\n  }\r\n  \r\n  OnInput1(event: any, flag,k) {\r\n      this.limitDaily = event.target.value;\r\n      if(!this.limitDaily){\r\n        this.isdailylimit=false;\r\n      }else{\r\n        this.isdailylimit=true;\r\n      }\r\n      let payload=\r\n      {\r\n        dailyLimit:this.addComa(this.limitDaily)\r\n      }\r\n      this.m.controls[k].patchValue(payload);\r\n  }\r\n  onclick1(k){\r\n    this.islimitType=true;\r\n    this.isLimitTransaction=true;\r\n    this.isdailylimit=true;\r\n    this.isRowEnds=false;\r\n    this.isLPTReadOnly=false;\r\n    this.isDLReadOnly=false;\r\n    const control = <FormArray>this.cardPrefrenceForm.controls['cardPrefrences'];\r\n    control.removeAt(k);\r\n    if(this.cardPrefrenceOnLoad==undefined){\r\n      console.log(\"deleted\")\r\n    }\r\n    else if(this.cardPrefrenceOnLoad[k]!=undefined){\r\n    let id = this.cardPrefrenceOnLoad[k].preferenceId;\r\n    this.apiService.deleteCardPrefrence(id)\r\n    .subscribe(data => { \r\n      \r\n    },\r\n    \r\n      err=>{\r\n        if (err.status == 200) {\r\n          this.snack.open('Record Deleted Successfully', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n        }\r\n\r\n\r\n    }\r\n    )}\r\n\r\n      this.selectedOptions2.splice(k,1);\r\n      console.log(\"console.log(this.selectedOptions2);\",this.selectedOptions2);\r\n      this.isdailylimit=true;\r\n   \r\n  }\r\n\r\n  onSubmit(){\r\n    var data :any;\r\n   var payload:any[]=[];\r\n   this.cardPrefrenceForm.value.cardPrefrences.cardId=this.cardId;\r\n   if(this.cardPrefrenceOnLoad){\r\n    for(let i =this.cardPrefrenceOnLoad.length;i<=this.cardPrefrenceForm.value.cardPrefrences.length-1;i++){\r\n      data=this.cardPrefrenceForm.value.cardPrefrences[i];\r\n      let newTransaction=Object.assign({},data,{cardId: this.cardId});\r\n      newTransaction.dailyLimit=parseInt(this.removeComma(newTransaction.dailyLimit));\r\n      newTransaction.limitPerTransaction=parseInt(this.removeComma(newTransaction.limitPerTransaction));\r\n      payload.push(newTransaction);\r\n      \r\n    }\r\n   }else{\r\n    for(let i =0;i<this.cardPrefrenceForm.value.cardPrefrences.length;i++){\r\n      data=this.cardPrefrenceForm.value.cardPrefrences[i];\r\n      let newTransaction=Object.assign({},data,{cardId: this.cardId});\r\n      newTransaction.dailyLimit=parseInt(this.removeComma(newTransaction.dailyLimit));\r\n      newTransaction.limitPerTransaction=parseInt(this.removeComma(newTransaction.limitPerTransaction));\r\n      payload.push(newTransaction);\r\n      \r\n    }\r\n   }\r\n    \r\n    this.apiService.uploadCardPrefrence(payload).subscribe(data => {\r\n      console.log(\"data\", data);\r\n      if (data != null) {\r\n        this.snack.open('Card Preferences Details Saved!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right'\r\n        });\r\n        // this.ls.setItem('card_prefrence_done', true);\r\n        // this.accountService.refresh.next();\r\n        this.next();\r\n      }\r\n    });\r\n    \r\n  }\r\n  removeComma(num:any){\r\n    var numb =num.replace(/,/g, \"\");\r\n    console.log(\"numb\",numb)\r\n    return numb;\r\n\r\n  }\r\n  goBack(){\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/financialDetails`]);\r\n  }\r\n  next(){\r\n     this.ls.setItem('card_prefrence_done', true);\r\n      this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/accountServices`]);\r\n  }\r\n  isDocumentOptionDisabled2 = (value) => {\r\n    return this.selectedOptions2.includes(value);\r\n  };\r\n\r\n  changeValue2(event:any, i) {\r\n    this.islimitType=true;\r\n    if (this.selectedDocumentTypes2[i]) {\r\n      this.selectedOptions2 = this.selectedOptions2.filter(\r\n        (val) => val !== this.selectedDocumentTypes2[i]\r\n      );\r\n    }\r\n    \r\n    this.selectedDocumentTypes2[i] = event;\r\n    this.selectedOptions2.push(event);\r\n    if(this.selectedDocumentTypes2.length==this.arraylimitType.length){\r\n      this.isRowEnds=true;\r\n     \r\n      console.log(\"isRowends\",this.isRowEnds);\r\n    }\r\n    else{\r\n      this.isRowEnds=false;\r\n      console.log(\"isRowends\",this.isRowEnds);\r\n    }\r\n    this.isDLReadOnly=false\r\n  }\r\n \r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img\r\n          src=\"assets/images/svg/Mask_Group_1.svg\"\r\n          alt=\"\"\r\n          class=\"w-90\"\r\n        />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Card Preferences</b></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0\">\r\n        <mat-card-title>\r\n          <fieldset class=\"height\">\r\n          <legend visible=\"true\">Card Preferences</legend>\r\n          </fieldset>\r\n        </mat-card-title>\r\n<form [formGroup]=\"cardPrefrenceForm\" >\r\n   <div class=\"table-container\">\r\n   <table class=\"table\">\r\n    <thead>\r\n        <tr>\r\n            <th>Limit Type\r\n               </th>\r\n            <th>Daily Limit</th>\r\n            <th>Limit per transaction</th>\r\n        </tr>\r\n    </thead>\r\n    \r\n    <tbody >\r\n        <tr [formGroup]=\"cardPrefrence\" *ngFor=\"let cardPrefrence of m.controls; let k = index;\">\r\n          <!-- [disabled]=isDocumentOptionDisabled2(limitType)  -->\r\n            \r\n            <td style=\"width: 5cm;\">\r\n              \r\n                \r\n               \r\n           <mat-select class=\"inputMatcard1\" formControlName=\"limitType\" \r\n              placeholder=\"Select Type\" name=\"limitType\"   (valueChange)=\"changeValue2($event, k)\">\r\n   \r\n             <mat-option *ngFor=\"let limitType of arraylimitType\" [value]=\"limitType\" [hidden]=isDocumentOptionDisabled2(limitType) >\r\n              {{limitType}}\r\n             </mat-option>\r\n            </mat-select>\r\n           \r\n                \r\n            </td>\r\n            <td>\r\n                <div>\r\n                    <input type=\"text\" class=\"alignment\" maxlength=\"18\"   formControlName=\"dailyLimit\" (keyup)=\"OnInput1($event,true,k)\"  [readonly]=\"isDLReadOnly\" \r\n                    (keypress)=_keyPress($event) >\r\n\r\n                </div>\r\n            </td>\r\n            <td>\r\n                <div>\r\n\r\n                    <input type=\"text\" class=\"alignment\" maxlength=\"18\"   formControlName=\"limitPerTransaction\" (keyup)=\"OnInput($event,true,k)\" [readonly]=\"isLPTReadOnly\" \r\n                    (keypress)=keyPress($event) >\r\n\r\n                </div>\r\n            </td>\r\n            <td class=\"deletebutton\">\r\n                <div >\r\n                    <!-- <button mat-icon-button mat-sm-button color=\"warn\" (click)=\"onclick(mandate,k)\"> -->\r\n                      <button mat-icon-button mat-sm-button color=\"warn\" (click)=\"onclick1(k)\">\r\n                        <mat-icon>delete</mat-icon>\r\n                      </button>\r\n                </div>\r\n            </td>\r\n           \r\n        \r\n\r\n        </tr>\r\n        \r\n    </tbody>\r\n\r\n\r\n\r\n\r\n</table>\r\n<div\r\nfxLayout=\"row\"\r\n\r\nfxLayoutGap=\"335px\"\r\n>\r\n  <button mat-button color=\"primary\"  [disabled]=\"!(isdailylimit && isLimitTransaction && islimitType && !isRowEnds) || isGreaterValue   \"  (click)=\"addMandate()\" ><mat-icon>add</mat-icon> </button>\r\n  <mat-error *ngIf=\"isGreaterValue\">\r\n    <small >Limit per transaction should be less </small><br>\r\n    <small>than daily limit</small>\r\n  </mat-error>\r\n</div>\r\n \r\n\r\n\r\n\r\n<!-- <div style=\"margin-left: 20cm;\">\r\n    \r\n    <button mat-raised-button type=\"button\" color=\"primary\"\r\n    [disabled]=\"!(isdailylimit && isLimitTransaction)\"  (click)=\"onSubmit()\" >Next </button>\r\n</div> -->\r\n\r\n<div\r\nfxLayout=\"row\"\r\nfxLayoutAlign=\"space-between center\"\r\nfxLayoutGap=\"16px\"\r\nclass=\"mt-32\"\r\n>\r\n<button mat-button rounded  (click)=\"goBack()\" >\r\n  Back\r\n</button>\r\n<button class=\"Nextbtn\" mat-raised-button type=\"button\" color=\"primary\"\r\n    [disabled]=\"!(isdailylimit && isLimitTransaction && islimitType) || isGreaterValue || m.controls.length==0\"  (click)=\"onSubmit()\" >Next </button>\r\n\r\n</div>  \r\n\r\n</div>\r\n</form>\r\n        \r\n        \r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormArray, FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n@Component({\r\n  selector: 'app-underwriting-credit-rating',\r\n  templateUrl: './underwriting-credit-rating.component.html',\r\n  styleUrls: ['./underwriting-credit-rating.component.scss'],\r\n})\r\nexport class UnderwritingCreditRatingComponent implements OnInit {\r\n  creditDetailsForm: FormGroup;\r\n  customerNames: any[] = [];\r\n  cardId: any;\r\n  isCardCreditRatingDetails: any;\r\n  customerName: any;\r\n  disableTest: boolean;\r\n  disableUjjivan: boolean;\r\n  disableFastTrack: boolean;\r\n  disableAddAgency: boolean;\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private ls: LocalStoreService,\r\n    private appApiService: ApplicationEntryStageService,\r\n    private snack: MatSnackBar,\r\n    private api: ApiService,\r\n    private accountService: AccountService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem('cardId');\r\n\r\n    this.customerName = this.ls.getItem('primaryCustomerName');\r\n    this.isCardCreditRatingDetails = this.ls.getItem('CARD_CREDIT_RATING_DONE');\r\n    this.getCustomerInformationDetails();\r\n    this.buildCreditForm();\r\n\r\n    if (this.isCardCreditRatingDetails == false) {\r\n      this.buildCreditForm();\r\n    } else {\r\n      this.gettingCreditRatingDetail();\r\n    }\r\n  }\r\n\r\n  get f() {\r\n    return this.creditDetailsForm.controls;\r\n  }\r\n  get c() {\r\n    return this.f.agencyRating as FormArray;\r\n  }\r\n\r\n  buildCreditForm(data?, isResponse?: boolean) {\r\n    console.log(data);\r\n\r\n    this.creditDetailsForm = this.formBuilder.group({\r\n      //   customerName:[data && data.customerName? data.customerName:'',Validators.required],\r\n      // loanAccountId:this.loanaccountID,\r\n      cardId: this.cardId,\r\n      //cardId:data?data.cardId:'952',\r\n      // customerName:data? data.customerName:'',\r\n      customerName: data ? data.customerName : this.customerNames[0],\r\n      // customerName:data?data.customerName:this.customerName,\r\n      agencyRating: this.formBuilder.array([this.addModFormGroup(data)]),\r\n    });\r\n\r\n    console.log(this.creditDetailsForm);\r\n  }\r\n  addFormGroup() {\r\n    this.c.push(\r\n      this.formBuilder.group({\r\n        agencyId: [0],\r\n        agencyName: ['', Validators.required],\r\n        ratings: ['', Validators.required],\r\n        // remarks: ['',Validators.required],\r\n        // agencyName: [''],\r\n        // ratings: [''],\r\n        // remarks: [''],\r\n      })\r\n    );\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cardaccount/applicationEnrichment/list']);\r\n  }\r\n\r\n  addModFormGroup(data): FormGroup {\r\n    console.log(data, 'inside addModeFormGrp');\r\n    return this.formBuilder.group({\r\n      // cardId:[data?data.cardId:'952'],\r\n      cardId: [this.cardId],\r\n      agencyId: [data ? data.agencyId : 0],\r\n      agencyName: [\r\n        data ? data.agencyRating[0].agencyName : '',\r\n        Validators.required,\r\n      ],\r\n      ratings: [data ? data.agencyRating[0].ratings : '', Validators.required],\r\n      remarks: [data ? data.agencyRating[0].remarks : ''],\r\n      // agencyName: [data?data.agencyRating[0].agencyName : ''],\r\n      // ratings: [data?data.agencyRating[0].ratings : ''],\r\n      // remarks: [data?data.agencyRating[0].remarks : ''],\r\n    });\r\n  }\r\n\r\n  getCustomerInformationDetails() {\r\n    this.appApiService\r\n      .fetchCustomersByCardAccId(this.cardId, 'cardOrigin')\r\n      .subscribe(\r\n        (resp: any) => {\r\n          console.log('resp for customer information names ', resp.data);\r\n          for (let index = 0; index < resp.data.length; index++) {\r\n            if (resp.data[index].middleName == null) {\r\n              this.customerNames[index] =\r\n                resp.data[index].firstName + ' ' + resp.data[index].lastName;\r\n            } else {\r\n              this.customerNames[index] =\r\n                resp.data[index].firstName +\r\n                ' ' +\r\n                resp.data[index].middleName +\r\n                ' ' +\r\n                resp.data[index].lastName;\r\n            }\r\n          }\r\n          console.log('customer name ', this.customerNames);\r\n          if (this.customerNames) {\r\n            console.log('If condtion');\r\n            this.creditDetailsForm\r\n              .get('customerName')\r\n              .setValue(this.customerNames[0]);\r\n          }\r\n        },\r\n        (err: any) => {}\r\n      );\r\n  }\r\n  gettingCreditRatingDetail() {\r\n    this.api.getCardCreditRatingDetails(this.cardId).subscribe((resp: any) => {\r\n      console.log(resp);\r\n      this.buildCreditForm(resp, true);\r\n    });\r\n  }\r\n\r\n  OnSubmit(val) {\r\n    console.log('val', val);\r\n    val.accountType = 'cardOrigin';\r\n    this.api.saveCreditDetails(val).subscribe(\r\n      (data: any) => {\r\n        console.log(data);\r\n        if (data === 200 || data !== null) {\r\n          this.snack.open(' Credit Details Saved!', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right',\r\n          });\r\n          this.ls.setItem('CARD_CREDIT_RATING_DONE', true);\r\n          this.accountService.refresh.next();\r\n          this.router.navigate([`/cardaccount/underwritingStage/qualitative`]);\r\n        } else if (data === 500) {\r\n          this.snack.open(\r\n            'Not able to connect to server!',\r\n            'INTERNAL SERVER ERROR',\r\n            {\r\n              duration: 4000,\r\n              verticalPosition: 'top',\r\n              horizontalPosition: 'right',\r\n            }\r\n          );\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    );\r\n    this.router.navigate([`/cardaccount/underwritingStage/qualitative/`]);\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  onClick() {\r\n   for(let i=0; i<3; i++) {     \r\n     if(this.creditDetailsForm.value.agencyRating[i].agencyName==\"Test Agency\") {\r\n       this.disableTest=true;\r\n       this.disableUjjivan=false;\r\n       this.disableFastTrack=false;\r\n      }    \r\n     if(this.creditDetailsForm.value.agencyRating[i].agencyName==\"Ujjivan Agency\") {\r\n       this.disableUjjivan=true;\r\n       this.disableFastTrack=false;\r\n       this.disableTest=false;\r\n      }    \r\n     if(this.creditDetailsForm.value.agencyRating[i].agencyName==\"Fast Track Agency\") {\r\n       this.disableFastTrack=true;\r\n       this.disableUjjivan=false;\r\n       this.disableTest=false;\r\n\r\n\r\n      }\r\n    }\r\n    if(this.creditDetailsForm.value.agencyRating.length==3) {\r\n      this.disableAddAgency=true;\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/Mask_Group_9.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8 \">\r\n      <div class=\"main-title1\"><b>Credit Score Details</b></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <!-- <mat-progress-bar [mode]=\"determinate\" class=\"session-progress\"></mat-progress-bar> -->\r\n    <mat-card class=\"p-0\">\r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Credit Score Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form *ngIf=\"creditDetailsForm\" [formGroup]=\"creditDetailsForm\">\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div class=\"flex-grow-2\" style=\"padding-left: 10px;\">\r\n              <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n              <!-- <mat-hint>Customer Name*</mat-hint> -->\r\n              <mat-label>Customer Name*</mat-label>\r\n              <!-- <mat-card class=\"widthCard inputMatcard\"> -->\r\n                <div *ngIf=\"customerNames.length > 1\">\r\n                  <mat-select\r\n                    name=\"customerName\"\r\n                    formControlName=\"customerName\"\r\n                  >\r\n                    <mat-option\r\n                      *ngFor=\"let customerName of customerNames\"\r\n                      [value]=\"customerName\"\r\n                    >\r\n                      {{ customerName }}\r\n                    </mat-option>\r\n                    <!-- <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option value=\"GayathriR\">GayathriR</mat-option>  -->\r\n                  </mat-select>\r\n                </div>\r\n\r\n                <div *ngIf=\"customerNames.length == 1\">\r\n                  <input\r\n                    matInput\r\n                    formControlName=\"customerName\"\r\n                    class=\"alignment\"\r\n                    type=\"text\"\r\n                    readonly\r\n                  />\r\n                </div>\r\n              <!-- </mat-card> -->\r\n              <mat-error\r\n                *ngIf=\"\r\n                  !creditDetailsForm.get('customerName').valid &&\r\n                  creditDetailsForm.get('customerName').touched\r\n                \"\r\n              >\r\n                Customer Name is Required!\r\n              </mat-error>\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mt-16\" *ngFor=\"let mandate of c.controls; let i = index\">\r\n            <mat-accordion [formGroup]=\"mandate\">\r\n              <mat-card class=\"border1\">\r\n                <h3>Score </h3>\r\n                <mat-divider class=\"design\"></mat-divider><br>\r\n                <div [formGroup]=\"mandate\">\r\n                  <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                    <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                      <div class=\"flex-grow-2\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <!-- <mat-hint>Select Agency*</mat-hint> -->\r\n                        <mat-label>Select Agency*</mat-label>\r\n                        <!-- <mat-card class=\"widthCard inputMatName\"> -->\r\n                          <mat-select\r\n                            name=\"agencyName\"\r\n                            formControlName=\"agencyName\">\r\n                            <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                            <mat-option (click)=\"onClick()\" [disabled]=disableTest \r\n                                value=\"Test Agency\">Test Agency</mat-option>\r\n                            <mat-option (click)=\"onClick()\" [disabled]=disableUjjivan \r\n                                value=\"Ujjivan Agency\">Ujjivan Agency</mat-option>\r\n                            <mat-option (click)=\"onClick()\" [disabled]=disableFastTrack \r\n                                value=\"Fast Track Agency\">Fast Track Agency</mat-option>\r\n                          </mat-select>\r\n                        <!-- </mat-card> -->\r\n                        <mat-error\r\n                          *ngIf=\"\r\n                            !mandate.controls['agencyName'].valid &&\r\n                            mandate.controls['agencyName'].touched\r\n                          \"\r\n                        >\r\n                          Agency is Required!\r\n                        </mat-error>\r\n                        </mat-form-field>\r\n                      </div>\r\n                      <div class=\"flex-grow-1\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <mat-label> Remarks</mat-label>\r\n                        <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <input\r\n                            matInput\r\n                            placeholder=\"Remarks\"\r\n                            formControlName=\"remarks\"\r\n                            class=\"alignment\"\r\n                            type=\"text\"\r\n                            name=\"remarks\"\r\n                          />\r\n                        <!-- </mat-card> -->\r\n                        <!-- <mat-error\r\n                          *ngIf=\"\r\n                            !mandate.controls['remarks'].valid &&\r\n                            mandate.controls['remarks'].touched\r\n                          \"\r\n                        >\r\n                          Remarks is Required!\r\n                        </mat-error> -->\r\n                        </mat-form-field>\r\n                      </div>\r\n                    </div>\r\n                    <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                      <div class=\"flex-grow-1\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                        <!-- <mat-hint>Ratings*</mat-hint> -->\r\n                        <mat-label>Ratings*</mat-label>\r\n                        <!-- <mat-card class=\"inputMatName\"> -->\r\n                          <input\r\n                            matInput\r\n                            formControlName=\"ratings\"\r\n                            class=\"alignment\"\r\n                            (keypress)=\"_keyPress($event)\"\r\n                            type=\"text\"\r\n                            name=\"ratings\"\r\n                          />\r\n                        <!-- </mat-card> -->\r\n                        <mat-error\r\n                          *ngIf=\"\r\n                            !mandate.controls['ratings'].valid &&\r\n                            mandate.controls['ratings'].touched\r\n                          \"\r\n                        >\r\n                          Ratings is Required!\r\n                        </mat-error>\r\n                        </mat-form-field>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                </div>\r\n              </mat-card>\r\n            </mat-accordion>\r\n          </div>\r\n          <button mat-button color=\"primary\" [disabled]=disableAddAgency (click)=\"addFormGroup()\">\r\n            <mat-icon>add</mat-icon> ADD AGENCY\r\n          </button>\r\n          <div\r\n            fxLayout=\"row\"\r\n            fxLayoutAlign=\"space-between center\"\r\n            fxLayoutGap=\"16px\"\r\n            class=\"mt-32\"\r\n          >\r\n            <button mat-button rounded  (click)=\"goBack()\">\r\n              Back\r\n            </button>\r\n            <button class=\"Nextbtn\" mat-raised-button color=\"primary\" [disabled]=\"!creditDetailsForm.valid\" (click)=\"OnSubmit(creditDetailsForm.value)\">\r\n              Next\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n</div>","import { Component, Input, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n\r\n@Component({\r\n  selector: \"app-enrichment-summary\",\r\n  templateUrl: \"./enrichment-summary.component.html\",\r\n  styleUrls: [\"./enrichment-summary.component.scss\"],\r\n})\r\nexport class EnrichmentSummaryComponent implements OnInit {\r\n  appEntrySummaryView: boolean = false;\r\n  accountDetails: any;\r\n  interestForm: FormGroup;\r\n  chargeFormIT: FormGroup;\r\n  savingForm: FormGroup;\r\n  loanForm: FormGroup;\r\n  interestForm1: FormGroup;\r\n  accountId: any;\r\n  //for loan interest details\r\n  loanInterestResp: {\r\n    intrestType: string;\r\n    interestRateApplicable: string;\r\n    marginIn: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  intererstInfo: {\r\n    intrestType: string;\r\n    interestRateApplicable: string;\r\n    margin: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  accountType: String = \"Home Loan\";\r\n  cardId:any;\r\n  chargeInfo: any;\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private ls: LocalStoreService,\r\n    private snack: MatSnackBar,\r\n    private api: ApiService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    // this.api.getApprovedStatus().subscribe((resp)=>{\r\n    //   console.log(\"message\",resp);\r\n    //   this.isApprovedSreen=resp;\r\n\r\n    // })\r\n    // this.loanAccountId = this.ls.getItem('loanAccountId');\r\n    this.getCardEnrichmentDetails(this.cardId);\r\n    this.interestForm = this.formBuilder.group({\r\n      interest: new FormArray([]),\r\n    });\r\n    this.savingForm = this.formBuilder.group({\r\n      saving: new FormArray([]),\r\n    });\r\n    this.chargeFormIT = this.formBuilder.group({\r\n      chargeIT: new FormArray([]),\r\n    });\r\n    this.loanForm = this.formBuilder.group({\r\n      loan: new FormArray([]),\r\n    });\r\n    \r\n   \r\n\r\n    //for Charge Details\r\n    this.api\r\n      .getFlexcubeDetails(\"chargeDetails\", this.accountType)\r\n      .subscribe((response) => {\r\n        this.onCardCharge(response.length);\r\n        this.in2.patchValue(response);\r\n      });\r\n  }\r\n\r\n  getCardEnrichmentDetails(cardId:any){\r\n    this.api.getCardEnrichmentSummmary(cardId)\r\n      .subscribe((summaryInfo: any) => {\r\n       console.log(summaryInfo);\r\n       this.intererstInfo=summaryInfo.intererstInfo;\r\n       console.log(this.intererstInfo);\r\n       this.onCardintrest(this.intererstInfo.length);\r\n       this.in.patchValue(this.intererstInfo);\r\n       \r\n       this.chargeInfo = summaryInfo.chargeInfo;\r\n       this.onCardCharge(this.chargeInfo.length);\r\n       this.in2.patchValue(this.chargeInfo);\r\n      });\r\n  }\r\n\r\n  onCardintrest(e) {\r\n    // this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            intrestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            //accountId: [this.accountId],\r\n            cardId: [this.cardId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  onCardCharge(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in2.length < numberOfItems) {\r\n      for (let i = this.in2.length; i < numberOfItems; i++) {\r\n        this.in2.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            amount: [\"\"],\r\n            waiver: [true],\r\n            cardId: [this.cardId],\r\n            chargeDetailsId: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in2.length; i >= numberOfItems; i--) {\r\n        this.in2.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f2() {\r\n    return this.chargeFormIT.controls;\r\n  }\r\n  get in2() {\r\n    return this.f2.chargeIT as FormArray;\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.interest as FormArray;\r\n  }\r\n\r\n  get iloan() {\r\n    return this.floan.loan as FormArray;\r\n  }\r\n\r\n  get floan() {\r\n    return this.loanForm.controls;\r\n  }\r\n\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"chargeInfo detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n\r\n  checkbox(event) {\r\n    console.log(event.checked);\r\n  }\r\n\r\n  assignAccountType(accountType) {\r\n    this.accountType = accountType;\r\n  }\r\n\r\n  Done() {\r\n    this.router.navigate([`/cardaccount/underwritingStage/list`]);\r\n  }\r\n  Back() {\r\n    this.router.navigate([`/cardaccount/applicationEnrichment/list`]);\r\n  }\r\n}\r\n","<div class=\"propic text-center\">\r\n    <img class=\"entryImg\" src=\"assets/images/svg/undraw_statistic_chart_38b6.svg\" alt=\"\" />\r\n</div>\r\n<div class=\"profile-title text-center mt-8\">\r\n    <div class=\"main-title\"><b>Application Enrichment</b></div>\r\n</div>\r\n\r\n<!--Interest Details Summary-->\r\n<div class=\"spanDiv1\">\r\n    \r\n    <h4 class=\"paraFont\">Interest Details</h4>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"main\">\r\n\r\n    <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n        <div class=\"mt-24\"></div>\r\n        <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\">\r\n           \r\n            <table>\r\n\r\n                <tbody>\r\n                    <tr class=\"mt-4\" *ngFor=\"let interest of in.controls; let i = index\"\r\n                        style=\"display: flex;flex-wrap: wrap;\">\r\n                        <div class=\"row\">\r\n                            <ng-container [formGroup]=\"interest\">\r\n                                <div class=\"heading\">\r\n                                    <input matInput formControlName=\"intrestType\" name=\"account_branch\"\r\n                                        id=\"headingInput\" readonly />\r\n                                </div>\r\n                                <td>\r\n                                    <mat-card class=\"matCardBox\">\r\n                                        <mat-label class=\"label\">Interest Rate Applicable</mat-label>\r\n                                        <input matInput formControlName=\"intrestRateApplicable\" name=\"account_branch\"\r\n                                            class=\"input\" readonly />\r\n                                    </mat-card>\r\n                                </td>\r\n                                <td>\r\n                                    <mat-card class=\"matCardBox\">\r\n                                        <mat-label class=\"label\">Margin in %</mat-label>\r\n                                        <input matInput formControlName=\"marginIn\" name=\"account_branch\" class=\"input\"\r\n                                            readonly />\r\n\r\n                                    </mat-card>\r\n                                </td>\r\n                                <td>\r\n                                    <mat-card class=\"matCardBox\">\r\n                                        <mat-label class=\"label\">Effective Rate %</mat-label>\r\n                                        <input matInput formControlName=\"effectiveRate\" name=\"account_branch\" value=\"\"\r\n                                            class=\"input\" readonly />\r\n                                    </mat-card>\r\n                                </td>\r\n                            </ng-container>\r\n                        </div>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n\r\n\r\n        <br>\r\n\r\n        <!--Charge Details Summary-->\r\n        <div>\r\n            <h4 class=\"paraFont\">Card Account Charge Details</h4>\r\n        </div>\r\n        <mat-card class=\"matCard\">\r\n\r\n            <div fxLayout=\"row wrap\" class=\"main\">\r\n                <div fxFlex=\"100\">\r\n                </div>\r\n                <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n                    <div class=\"mt-24\"></div>\r\n                    <form *ngIf=\"chargeFormIT\" [formGroup]=\"chargeFormIT\">\r\n                        <table class=\"cart-table default-bg mat-elevation-z0\">\r\n                            <tbody>\r\n                                <tr class=\"mt-4\" *ngFor=\"let chargeIT of in2.controls; let i = index\"\r\n                                    class=\"chargeTable\">\r\n                                    <div class=\"row\" class=\"chargeLeft\">\r\n                                        <ng-container [formGroup]=\"chargeIT\">\r\n                                            <div class=\"heading\">\r\n                                                <input matInput formControlName=\"intrestType\" name=\"account_branch\"\r\n                                                    id=\"headingInput\" readonly />\r\n                                            </div>\r\n                                            <td>\r\n                                                <mat-card class=\"matCardBox\">\r\n                                                    <mat-label class=\"label\">Amount</mat-label>\r\n                                                    <input matInput formControlName=\"amount\" name=\"account_branch\"\r\n                                                        class=\"input\" readonly />\r\n                                                </mat-card>\r\n                                            </td>\r\n                                        </ng-container>\r\n                                    </div>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </mat-card>\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n<div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n    <button mat-button rounded color=\"primary\" (click)=\"Back()\">\r\n        Back\r\n    </button>\r\n    <button mat-raised-button color=\"primary\" (click)=\"Done()\">\r\n        Done\r\n    </button>\r\n</div>","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { Observable, of, Subscription } from 'rxjs';\r\n// import { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n@Component({\r\n  selector: 'app-card-account',\r\n  templateUrl: './card-account.component.html',\r\n  styleUrls: ['./card-account.component.scss']\r\n})\r\nexport class CardAccountComponent implements OnInit {\r\n  public accountItems: any[];\r\n  private accountItemsSub: Subscription;\r\n  isCardApplicationStageDone : boolean = false;\r\n  isCardInitiationDone : boolean = false;\r\n  isCardCustomerInformationScreen: boolean = false;\r\n  isCardFinancialDetailsScreen : boolean = false;\r\n  //isCardPreferencesScreen : boolean = true;\r\n  isCardPrefrenceDone:boolean = false;\r\n  // isAccountServices : boolean = true;\r\n  isCardAccountService:boolean=false;\r\n  isAddOnCardHolderDetails : boolean = true;\r\n\r\n  isDocumentUploadDone : boolean = false;\r\n  isDocumentUpload : boolean = false;\r\n\r\n  isCardApplicationEnrichmentDone:boolean=false\r\n // isEnrichmentDone : boolean = true;\r\n isCardInterestDetails : boolean = false;\r\n isCardChargeDetails : boolean = false;\r\n\r\n  isApplicationUnderWritingStageDone : boolean = true;\r\n // isCardCreditRatingDetails : boolean = true;\r\n  isQualitativeScoreboard : boolean = true;\r\n  isCardCreditRatingDetails: boolean = false;\r\n  isCardQualitativeScoreboard: boolean=false;\r\n\r\n  isCardAssessmentStageDone : boolean = false;\r\n  isAssessmentReport : boolean = false;\r\n\r\n\r\n  isCardSupervisorApprovalDone : boolean = true;\r\n  isApprovedDetails : boolean = true;\r\n\r\n  isCardDigitalSigningDone : boolean = true;\r\n  isCardDigitalSigning : boolean = true;\r\n  cardId: any;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  constructor(\r\n    private ls: LocalStoreService,private api: ApiService, private router: Router,private cdr:ChangeDetectorRef ,private accountService:AccountService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.accountItemsSub = this.accountService.accountItems$.subscribe(menuItem => {\r\n      this.accountItems = menuItem;\r\n    });\r\n    console.log(\"reset\")\r\n    this.cardId = this.ls.getItem('cardId');\r\n    this.isCardApplicationStageDone=this.ls.getItem('CARD_APPLICATION_ENTRY_DONE');\r\n    this.isCardInitiationDone=this.ls.getItem('CARD_INITIATION_DONE');\r\n    this.isCardCustomerInformationScreen=this.ls.getItem('Card_Customer_Done');\r\n    this.isCardFinancialDetailsScreen = this.ls.getItem('CARD_FINANCIAL_DONE');\r\n    // this.isCardPreferencesScreen = this.ls.getItem('CARD_PREFERENCE_DONE');\r\n    this.isCardPrefrenceDone=this.ls.getItem('card_prefrence_done');\r\n    // this.isAccountServices = this.ls.getItem('CARD_ACCOUNT_SERVICES_DONE');\r\n    this.isCardAccountService=this.ls.getItem('CARD_ACC_SERVICE_DONE');\r\n\r\n    this.isDocumentUploadDone = this.ls.getItem('CARD_DOCUMENT_STAGE_DONE');\r\n    this.isDocumentUpload=this.ls.getItem('CARD_DOCUMENT_DONE');\r\n\r\n\r\n    this.isCardApplicationEnrichmentDone=this.ls.getItem('CARD_ENRICHMENT_DONE');\r\n   // this.isEnrichmentDone= this.ls.getItem('LOAN_ENRICHMENT_DONE');\r\n    this.isCardInterestDetails=this.ls.getItem('CARD_INTEREST_DETAILS_DONE');\r\n    this.isCardChargeDetails=this.ls.getItem('CARD_CHARGE_DETAILS_DONE');\r\n    \r\n    this.isApplicationUnderWritingStageDone= this.ls.getItem('CARD_UNDERWRITING_DONE');\r\n    this.isCardCreditRatingDetails = this.ls.getItem('CARD_CREDIT_RATING_DONE');\r\n    this.isCardQualitativeScoreboard=this.ls.getItem('CARD_QUALITATIVE_SCOREBOARD_DONE');\r\n\r\n    this.isCardAssessmentStageDone=this.ls.getItem('CARD_ASSESSMENT_STAGE_DONE');\r\n    this.isAssessmentReport=this.ls.getItem('CARD_ASSESSMENT_DONE');\r\n\r\n    this.isCardSupervisorApprovalDone=this.ls.getItem('CARD_SUPERVISOR_DONE');\r\n    this.isApprovedDetails=this.ls.getItem('CARD_APPROVAL_DONE');\r\n\r\n    this.isCardDigitalSigningDone=this.ls.getItem('CARD_DIGITAL_STAGE_DONE');\r\n    this.isCardDigitalSigning=this.ls.getItem('CARD_DIGITAL_SIGN_DONE');\r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n     \r\n    this.cardId = this.ls.getItem('cardId');\r\n\r\n    this.isCardApplicationStageDone=this.ls.getItem('CARD_APPLICATION_ENTRY_DONE');\r\n    this.isCardInitiationDone=this.ls.getItem('CARD_INITIATION_DONE');\r\n    this.isCardCustomerInformationScreen=this.ls.getItem('Card_Customer_Done');\r\n    this.isCardFinancialDetailsScreen = this.ls.getItem('CARD_FINANCIAL_DONE');\r\n    // this.isCardPreferencesScreen = this.ls.getItem('CARD_PREFERENCE_DONE');\r\n    this.isCardPrefrenceDone=this.ls.getItem('card_prefrence_done');\r\n    this.isCardAccountService=this.ls.getItem('CARD_ACC_SERVICE_DONE')\r\n    // this.isAccountServices = this.ls.getItem('CARD_ACCOUNT_SERVICES_DONE');\r\n\r\n    \r\n    this.isDocumentUploadDone = this.ls.getItem('CARD_DOCUMENT_STAGE_DONE');\r\n    this.isDocumentUpload=this.ls.getItem('CARD_DOCUMENT_DONE');\r\n    \r\n    this.isCardApplicationEnrichmentDone=this.ls.getItem('CARD_ENRICHMENT_DONE');\r\n   // this.isEnrichmentDone= this.ls.getItem('LOAN_ENRICHMENT_DONE');\r\n    this.isCardInterestDetails=this.ls.getItem('CARD_INTEREST_DETAILS_DONE');\r\n    this.isCardChargeDetails=this.ls.getItem('CARD_CHARGE_DETAILS_DONE');\r\n    \r\n    this.isApplicationUnderWritingStageDone= this.ls.getItem('CARD_UNDERWRITING_DONE');\r\n    this.isCardCreditRatingDetails = this.ls.getItem('CARD_CREDIT_RATING_DONE');\r\n    this.isCardQualitativeScoreboard=this.ls.getItem('CARD_QUALITATIVE_SCOREBOARD_DONE');\r\n\r\n    this.isCardAssessmentStageDone=this.ls.getItem('CARD_ASSESSMENT_STAGE_DONE');\r\n    this.isAssessmentReport=this.ls.getItem('CARD_ASSESSMENT_DONE');\r\n\r\n    this.isCardSupervisorApprovalDone=this.ls.getItem('CARD_SUPERVISOR_DONE');\r\n    this.isApprovedDetails=this.ls.getItem('CARD_APPROVAL_DONE');\r\n\r\n    this.isCardDigitalSigningDone=this.ls.getItem('CARD_DIGITAL_STAGE_DONE');\r\n    this.isCardDigitalSigning=this.ls.getItem('CARD_DIGITAL_SIGN_DONE');\r\n \r\n     })\r\n  }\r\n  ngOnDestroy() {\r\n    if (this.accountItemsSub) {\r\n      this.accountItemsSub.unsubscribe();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div class=\"m-333\">\r\n    <mat-sidenav-container class=\"topSection\" style=\"background-color: white !important;\">\r\n        <mat-sidenav EgretSideNavToggle class=\"app-sidebar\" style=\"width: 300px;\">\r\n      <span class=\"sidenav-header\">Home > Create Card Account</span>\r\n            <!-- <div class=\"app-filters-wrap\"> -->\r\n            <div class=\"sidenav-hold\">\r\n                <ul appDropdown class=\"sidenav mt-32\">\r\n\r\n                    <!-- Application satge start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isCardApplicationStageDone ? 'active' : 'notActive'\">\r\n                                <mat-icon class=\"sidenav-mat-icon\" [ngClass]=\"isCardApplicationStageDone ? 'active' : 'notActive'\">\r\n                                    account_balance_wallet\r\n                                </mat-icon>\r\n                                <span class=\"item-name lvl1\">Application Entry Stage</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list']\"\r\n                                    [ngClass]=\"isCardApplicationStageDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list/cardInitiation']\"\r\n                                    [ngClass]=\"isCardInitiationDone ? 'enable' : 'disable'\">\r\n\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Card Initiation</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  \r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list/customerInformation']\"\r\n                                    [ngClass]=\"isCardCustomerInformationScreen ? 'enable' : 'disable'\">\r\n\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Customer Information\r\n                                            Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n             \r\n                                <!--*ngIf=\"isHomeLoan; else hideNav\"-->\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a \r\n                                    class=\"side-menu\"\r\n                                    [ngClass]=\"isCardFinancialDetailsScreen ? 'enable' : 'disable'\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list/financialDetails']\"\r\n                                    >\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Financial Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  \r\n                                    class=\"side-menu\"\r\n                                    [ngClass]=\"isCardPrefrenceDone ? 'enable' : 'disable'\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list/cardPrefrence']\"\r\n                                    >\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Card Preferences</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  \r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/applicationEntryStage/list/accountServices']\"\r\n                                    [ngClass]=\"isCardAccountService ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Account Services</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <!-- <li routerLinkActive=\"open\">\r\n                                    <a \r\n                                        style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                                        [ngClass]=\"isAddOnCardHolderDetails ? 'enable' : 'disable'\">\r\n                                         <a \r\n                                        style=\"margin-left: 9px; margin-top: 5px; height: 30px;margin-bottom: 15px;\"\r\n                                       > -->\r\n                                      <!--  <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Add on Card Holder\r\n                                            Details</span>\r\n                                        <span fxFlex></span> -->\r\n                                 <!--   </a> \r\n                                </li> -->\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Application satge end -->\r\n\r\n                    <!-- Document Upload start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isDocumentUploadDone ? 'active' : 'notActive'\"\r\n                            [routerLink]=\"['/cardaccount/documentupload/list']\">\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isDocumentUploadDone ? 'active' : 'notActive'\">file_upload</mat-icon>\r\n                                <span class=\"item-name lvl1\">Document Upload</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/documentupload/list']\"\r\n                                    [ngClass]=\"isCardApplicationStageDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  [ngClass]=\"isDocumentUpload? 'enable' : 'disable'\"\r\n                                    [routerLink]=\"['/cardaccount/documentupload/list/document-details']\"\r\n                                    class=\"side-menu\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Document Upload</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Document Upload end -->\r\n\r\n                    <!-- Enrichment satge start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isCardApplicationEnrichmentDone ? 'active' : 'notActive'\"\r\n                            [routerLink]=\"['/cardaccount/applicationEnrichment/list']\">\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isCardApplicationEnrichmentDone ? 'active' : 'notActive'\">style</mat-icon>\r\n                                <span class=\"item-name lvl1\">Application Enrichment</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  [ngClass]=\"isCardApplicationEnrichmentDone ? 'enable' : 'disable'\"\r\n                                        [routerLink]=\"['/cardaccount/applicationEnrichment/list']\"\r\n                                        class=\"side-menu\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                \r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                        [ngClass]=\"isCardInterestDetails ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Interest\r\n                                            Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                        [ngClass]=\"isCardChargeDetails ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Charge Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Enrichment satge end -->\r\n\r\n                    <!-- Underwriting start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle\r\n                                [ngClass]=\"isApplicationUnderWritingStageDone ? 'active' : 'notActive'\"\r\n                                [routerLink]=\"['/cardaccount/underwritingStage/list']\">\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isApplicationUnderWritingStageDone ? 'active' : 'notActive'\">border_color\r\n                                </mat-icon>\r\n                                <span class=\"item-name lvl1\">Application Underwriting</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/underwritingStage/list']\"\r\n                                    [ngClass]=\"isCardApplicationStageDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                        [ngClass]=\"isCardCreditRatingDetails ? 'enable' : 'disable'\"\r\n                                        [routerLink]=\"['/cardaccount/underwritingStage/credit-rating']\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Credit Score\r\n                                            Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                        [ngClass]=\"isCardQualitativeScoreboard ? 'enable' : 'disable'\"\r\n                                        [routerLink]=\"['/cardaccount/underwritingStage/qualitative']\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Qualitative\r\n                                            Scoreboard</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Underwriting end -->\r\n\r\n                    <!-- assesment start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isCardAssessmentStageDone ? 'active' : 'notActive'\"\r\n                                [routerLink]=\"['/cardaccount/assessmentStage/list']\"\r\n                               >\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isCardAssessmentStageDone ? 'active' : 'notActive'\">assessment</mat-icon>\r\n                                <span class=\"item-name lvl1\">Application Assessment</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/assessmentStage/list']\"\r\n                                    [ngClass]=\"isCardApplicationStageDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                         [routerLink]=\"['/cardaccount/assessmentStage/application-assessment/list']\"\r\n                                         [ngClass]=\"isAssessmentReport ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Assessment Report</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- assesment end -->\r\n\r\n                    <!-- Supervisor Approval start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isCardSupervisorApprovalDone ? 'active' : 'notActive'\"\r\n                            [routerLink]=\"['/cardaccount/SupervisorApprovalStage/list']\">\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isCardSupervisorApprovalDone ? 'active' : 'notActive'\">done_all</mat-icon>\r\n                                <span class=\"item-name lvl1\">Supervisor Approval Stage</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                    class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/SupervisorApprovalStage/list']\"\r\n                                    [ngClass]=\"isCardApplicationStageDone ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/SupervisorApprovalStage/list/approvalDetails']\"\r\n                                        [ngClass]=\"isApprovedDetails ? 'enable' : 'disable'\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Approved Details</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Supervisor Approval end -->\r\n\r\n                    <!-- Digital Signing start -->\r\n                    <li appDropdownLink routerLinkActive=\"open\">\r\n                        <div class=\"lvl1\">\r\n                            <!-- [ngClass]=\"item.isActive ? 'active' : 'notActive'\" -->\r\n                            <a appDropdownToggle [ngClass]=\"isCardDigitalSigningDone ? 'active' : 'notActive'\">\r\n                                <!--<mat-icon class=\"sidenav-mat-icon\">style</mat-icon>-->\r\n                                <mat-icon class=\"sidenav-mat-icon\"\r\n                                    [ngClass]=\"isCardDigitalSigningDone ? 'active' : 'notActive'\">web_asset</mat-icon>\r\n                                <span class=\"item-name lvl1\">Digital Signing</span>\r\n                                <span fxFlex></span>\r\n                                <mat-icon class=\"menu-caret\">keyboard_arrow_right</mat-icon>\r\n                            </a>\r\n                            <!-- LEVEL 2 -->\r\n                            <ul class=\"lvl2\" appDropdown style=\"margin-right: 8px;\">\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a  class=\"side-menu\"\r\n                                    [routerLink]=\"['/cardaccount/DigitalSigning/list']\">\r\n                                        <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Summary</span>\r\n                                        <span fxFlex></span>\r\n                                    </a>\r\n                                </li>\r\n                                <li routerLinkActive=\"open\">\r\n                                    <a\r\n                                     class=\"side-menu\"\r\n                                     [ngClass]=\"isCardDigitalSigning ? 'enable' : 'disable'\"\r\n                                     [routerLink]=\"['/cardaccount/DigitalSigning/options']\">\r\n                      <span class=\"item-name lvl2\" style=\"margin-left: 10px\">Digital Signing</span>\r\n                      <span fxFlex></span>\r\n                      </a>\r\n                                </li>\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <!-- Digital Signing end -->\r\n                </ul>\r\n            </div>\r\n\r\n        </mat-sidenav>\r\n        <div class=\"app-wrap\" fxLayout=\"row\" fxLayoutWrap=\"wrap\">\r\n            <!-- Right side -->\r\n            <div class=\"full-width mt-32\">\r\n                <router-outlet></router-outlet>\r\n            </div>\r\n\r\n        </div>\r\n    </mat-sidenav-container>\r\n</div>\r\n</div>\r\n","import { Location } from \"@angular/common\";\r\nimport {\r\n  Component,\r\n  ElementRef,\r\n  Inject,\r\n  OnInit,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport {\r\n  MatDialog,\r\n  MatDialogRef,\r\n  MAT_DIALOG_DATA,\r\n} from \"@angular/material/dialog\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { DialogService } from \"app/shared/services/dialogs/dialog.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { EsignaturePopComponent } from \"../esignature-pop/esignature-pop.component\";\r\n\r\n@Component({\r\n  selector: \"app-upload-signature-or-esign\",\r\n  templateUrl: \"./upload-signature-or-esign.component.html\",\r\n  styleUrls: [\"./upload-signature-or-esign.component.scss\"],\r\n})\r\nexport class UploadSignatureOrEsignComponent implements OnInit {\r\n  isDone: boolean = false;\r\n  show: any;\r\n  // dialog: any;\r\n  accountId: any;\r\n  // apiService: any;\r\n  accountdetailsForStatusUpdate: any;\r\n  previousUrl: string = \"\";\r\n  // accountService: any;\r\n  customerId: any;\r\n  disableDone: boolean = true;\r\n  image: any;\r\n  imageURL1: any;\r\n  urlService: any;\r\n  selectedFile: any;\r\n  res: Object = { enable: false, image: null };\r\n  profileId: any;\r\n  isCardDigitalSigningDone: boolean;\r\n  isCardDigitalSigning: boolean;\r\n  esignUrl: any;\r\n  @ViewChild(\"profileFile\") profileFile: ElementRef;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    private router: Router,\r\n    private apiService: ApiService,\r\n    private dialogService: DialogService,\r\n    private dialog: MatDialog,\r\n    public dialogRef: MatDialogRef<UploadSignatureOrEsignComponent>,\r\n    private ls: LocalStoreService,\r\n    private location: Location,\r\n    private snack: MatSnackBar\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.isCardDigitalSigningDone = this.ls.getItem(\"CARD_DIGITAL_STAGE_DONE\");\r\n    this.isCardDigitalSigning = this.ls.getItem(\"CARD_DIGITAL_SIGN_DONE\");\r\n    this.image = this.ls.getItem(\"signedImage\");\r\n    if (this.image) {\r\n      this.imageURL1 = this.image;\r\n      // this.disableDone = false;\r\n    } else {\r\n      this.imageURL1 = \"not_available\";\r\n      //this.disableDone = true;\r\n    }\r\n    this.accountId = this.ls.getItem(\"cardId\");\r\n    // this.urlService.previousUrl$.subscribe((previousUrl: string) => {\r\n    //   this.previousUrl = previousUrl;\r\n    // });\r\n  }\r\n\r\n  close1() {\r\n    if (this.data.screen === \"NewCustomerOnboarding\") {\r\n      this.dialogRef.close(this.res);\r\n    } else {\r\n      this.dialogRef.close(true);\r\n      this.ls.setItem(\"enable\", this.ls.getItem('signedImage')?true:false);\r\n    }\r\n  }\r\n\r\n  openPopUp(data?: any) {\r\n    let response: any;\r\n    if (data === undefined || data === null) {\r\n      response = {\r\n        isSignLater: false,\r\n        screen: \"Create Account\",\r\n        accountId: this.accountId,\r\n        customerId: this.ls.getItem(\"cId\"),\r\n      };\r\n    }\r\n    if (!this.show) {\r\n      let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n        EsignaturePopComponent,\r\n        {\r\n          width: \"720px\",\r\n          disableClose: true,\r\n          data: data === undefined || data === null ? response : data,\r\n        }\r\n      );\r\n      dialogRef.afterClosed().subscribe((res) => {\r\n        console.log(\"dismiss res\", res);\r\n        if (res) {\r\n          this.ls.setItem(\"enable\", true);\r\n          this.imageURL1 = res?.image;\r\n          this.disableDone = res?.image ? false : true;\r\n          //this.res = true;\r\n          //this.isDone = true;\r\n          // this.getByAccountId(this.accountId);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  // getByAccountId(accountId: any) {\r\n  //   this.apiService.getByAccountId(accountId)\r\n  // .subscribe(resp => {\r\n  //   this.accountdetailsForStatusUpdate = resp;\r\n  //       this.updateAccountStatus(resp);\r\n  // });\r\n  // }\r\n\r\n  // updateAccountStatus(accData) {\r\n  //   accData.status = 'BACKLOG';\r\n  //   this.apiService.updateAccountStatusService(accData)\r\n  //   .subscribe(updateResp => {\r\n  //     console.log(\"updateResp:: \", updateResp);\r\n  //   });\r\n  // }\r\n\r\n  // goBack() {\r\n  //   this.ls.setItem('CARD_DIGITAL_STAGE_DONE', true);\r\n  //   this.ls.setItem('CARD_DIGITAL_SIGN_DONE', true);\r\n  //   this.ls.setItem('eSignStage', true);\r\n  //   this.location.back();\r\n  // }\r\n\r\n  onFileSelect(event) {\r\n    console.log(\"event -- \", event.target.files);\r\n    this.selectedFile = event.target.files[0];\r\n    console.log(this.selectedFile);\r\n\r\n    let reader = new FileReader();\r\n    reader.readAsDataURL(event.target.files[0]);\r\n    //   let extName=this.selectedFile.name;\r\n    //   const restArr=extName.split(\".\");\r\n    //  if(restArr[restArr.length-1]!=='xlsx'){\r\n    reader.onload = (event2) => {\r\n      this.imageURL1 = reader.result;\r\n    };\r\n\r\n    const cId: string = this.customerId;\r\n    const url: string = this.selectedFile;\r\n    const uploadData = new FormData();\r\n    const data = {\r\n      customerId: this.customerId,\r\n      documentName: \"Signature\",\r\n      documentType: \"10\",\r\n      fileType: event.type,\r\n      fileName: event.name,\r\n      verificationType: \"Digital Signing\",\r\n    };\r\n    uploadData.append(\"data\", JSON.stringify(data));\r\n    uploadData.append(\"file\", url);\r\n    this.apiService.uploadDocument(uploadData).subscribe((res) => {\r\n      // console.log(res);\r\n      // this.disableDone = false;\r\n      if (res) {\r\n        // this.res = res;\r\n        // this.ls.setItem('signedImage', res.fileUrl);\r\n        // this.ls.setItem('enable', true);\r\n      }\r\n    });\r\n    // }else{\r\n    //   this.snack.open(\"Excel files cannot be uploaded!\", \"OK\", {\r\n    //     duration: 3000,\r\n    //     verticalPosition: \"top\",\r\n    //     horizontalPosition: \"right\",\r\n    //   });\r\n    // }\r\n  }\r\n  deleteImg() {\r\n    this.dialogService.doConfirmDialog(\"\").subscribe((response) => {\r\n      if (response == \"Yes\") {\r\n        this.ls.removeItem(\"signedImage\");\r\n        this.disableDone = true;\r\n        this.imageURL1 = \"not_available\";\r\n        this.profileFile.nativeElement.value = \"\";\r\n        this.apiService\r\n          .deleteCustomerDoc(this.customerId, this.profileId)\r\n          .subscribe((data) => {});\r\n        this.disableDone = true;\r\n        this.ls.setItem(\"enable\",false);\r\n      }\r\n    });\r\n  }\r\n\r\n  // resetState() {\r\n  //   this.ls.removeItem('appEntryStage');\r\n  //   this.ls.removeItem('ACC_DONE');\r\n  //   this.ls.removeItem('ACC_OPEN_DONE');\r\n  //   this.ls.removeItem('ACC_SERVICE_DONE');\r\n  //   this.ls.removeItem('ACC_MANDATE_DONE');\r\n  //   this.ls.removeItem('ACC_NOMINEE_DONE');\r\n\r\n  //   this.ls.removeItem('limitEntryStage');\r\n  //   this.ls.removeItem('LIMIT_SECURED_DONE');\r\n  //   this.ls.removeItem('LIMIT_UNSECURED_DONE');\r\n  //   this.ls.removeItem('LIMIT_FIN_DONE');\r\n\r\n  //   // Parent 3\r\n  //   this.ls.removeItem('enrichmentStage');\r\n  //   // Subnave of parent 3\r\n  //   this.ls.removeItem('ENRICHMENT_CHARGES_DONE');\r\n  //   this.ls.removeItem('ENRICHMENT_INTEREST_DONE');\r\n\r\n  //   // PArent 4\r\n  //   this.ls.removeItem('assessmentStage');\r\n  //   // Subnave of parent 4\r\n  //   this.ls.removeItem('ASSESSMENT_QA_DONE');\r\n  //   this.ls.removeItem('ASSESSMENT_REPORT_DONE');\r\n  //   // PArent 5\r\n  //   this.ls.removeItem('fundingStage');\r\n  //   // Subnave of parent 5\r\n  //   this.ls.removeItem('FUNDING_INI_DONE');\r\n\r\n  //   // Parent 6\r\n  //   this.ls.removeItem('approvalStage');\r\n  //   // Parent 6 childs nav\r\n  //   this.ls.removeItem('APPROVAL_DETAILS_DONE');\r\n  //   this.ls.removeItem('accountId');\r\n  //   this.ls.removeItem('eSignStage');\r\n  //   this.ls.removeItem('PRODUCT_CUSTOMER_ID');\r\n  //   this.ls.removeItem('accountType');\r\n  //   this.ls.removeItem('intrestFlag');\r\n  //   this.ls.removeItem('Status');\r\n  //   this.ls.removeItem(\"CIF_NUM_PRIMARY\");\r\n  //   this.ls.removeItem(\"cId\");\r\n  //   this.ls.removeItem(\"fundByStatus\");\r\n  //   this.ls.removeItem(\"overDraftByStatus\");\r\n  //   sessionStorage.clear();\r\n  //   this.accountService.refresh.next();\r\n  //   this.router.navigate(['/loan-account']);\r\n  // }\r\n  onSubmit() {\r\n    this.isDone = true;\r\n    this.dialogRef.close(true);\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\" fxLayoutAlign=\"end center\">\r\n    <button mat-icon-button (click)=\"close1()\" *ngIf=\"!isDone\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n    <button mat-icon-button (click)=\"close()\" *ngIf=\"isDone\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div fxFlex=\"100\" *ngIf=\"!isDone\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/esign.png\" alt=\"\" />\r\n    </div>\r\n  </div>\r\n\r\n  <div fxFlex=\"100\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n      <div fxFlex=\"50\" fxFlexOffset=\"20px\" *ngIf=\"!isDone\">\r\n        <h5 class=\"text-center mt-16 size\">Signature!</h5>\r\n        <!-- <mat-card class=\"mat-elevation-z0\">\r\n            <mat-card-content> -->\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\" fxLayoutGap=\"20px\">\r\n          <div class=\"sub-section-1\">\r\n            <button\r\n              class=\"scanButton\"\r\n              appearence=\"outline\"\r\n              (click)=\"openPopUp()\"\r\n            >\r\n              Digital Sign\r\n            </button>\r\n          </div>\r\n          <div class=\"sub-section-2\">\r\n            <button class=\"Upload scanButton\" (click)=\"fileInput.click()\">\r\n              Upload\r\n              <input\r\n                style=\"display: none\"\r\n                type=\"file\"\r\n                class=\"changeInput\"\r\n                required\r\n                (change)=\"onFileSelect($event)\"\r\n                #fileInput\r\n              />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n          <div class=\"sub-section-1\">\r\n            <div class=\"insertDriveImg\">\r\n              <div *ngIf=\"imageURL1 == 'not_available'; else showAvatar\">\r\n                <img\r\n                  class=\"formImg\"\r\n                  [src]=\"'assets/images/no-image.jpg'\"\r\n                  alt=\"No Image\"\r\n                />\r\n              </div>\r\n              <ng-template #showAvatar>\r\n                <img class=\"formImg\" required [src]=\"imageURL1\" alt=\"\" />\r\n              </ng-template>\r\n            </div>\r\n            <!-- <button\r\n              mat-raised-button\r\n              style=\"margin-left: 300px\"\r\n              (click)=\"deleteImg()\"\r\n              [disabled]=\"imageURL1 === 'not_available' ? true : false\"\r\n            >\r\n              <mat-icon style=\"color: red\">delete</mat-icon>\r\n            </button> -->\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"center center\" fxLayoutGap=\"20px\">\r\n              <button mat-raised-button color=\"red\" class=\"dltbtn\" (click)=\"deleteImg()\" >\r\n                  DELETE\r\n              </button>\r\n              <button mat-raised-button color=\"primary\" class=\"dbtn\" (click)=\"onSubmit()\" [disabled]=\"disableDone\">\r\n                  SUBMIT\r\n              </button>  \r\n             </div>   \r\n          </div>\r\n        </div>\r\n        <!-- </mat-card-content>\r\n        </mat-card> -->\r\n        <!-- <div class=\"text-center\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"Next\"\r\n            (click)=\"onSubmit()\"\r\n            [disabled]=\"disableDone\"\r\n          >\r\n            SUBMIT\r\n          </button>\r\n        </div> -->\r\n      </div>\r\n      <!-- <div fxFlex=\"50\" fxFlexOffset=\"20px\" *ngIf=\"isDone\" class=\"text-center\">\r\n        <div class=\"propic text-center\">\r\n          <img src=\"assets/images/esignlater.png\" alt=\"\" />\r\n        </div>\r\n        <br />\r\n        \r\n        <p *ngIf=\"accountId != null\">\r\n          Keep Card Number for your future Reference: <b>{{ accountId }}</b>\r\n        </p>\r\n        \r\n        <div class=\"text-center\">\r\n          <button mat-raised-button class=\"Next\" (click)=\"close1()\">\r\n            DONE\r\n          </button>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n// import { AccountService } from \"app/views/loan-account/account.service\";\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n\r\n@Component({\r\n  selector: \"app-charge-details\",\r\n  templateUrl: \"./charge-details.component.html\",\r\n  styleUrls: [\"./charge-details.component.scss\"],\r\n})\r\nexport class ChargeDetailsComponent implements OnInit {\r\n  interestForm: FormGroup;\r\n  accountId: any;\r\n  intrestFlag: Boolean;\r\n  interestResp: any;\r\n  accountType: String = \"Card Origin\";\r\n  resp: { intrestType: string; amount: string; waiver: string }[];\r\n  loanaccountID: any;\r\n  cardId: number;\r\n  currencytype:any;\r\n  currencySymbol: string;\r\n  constructor(\r\n    private accountService: AccountService,\r\n    private snack: MatSnackBar,\r\n    private ls: LocalStoreService,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    console.log(history.state.amount);\r\n    \r\n    this.cardId = this.ls.getItem('cardId');\r\n    this.currencytype=localStorage.getItem('Currency Type');\r\n    if(this.currencytype===\"INR\"){\r\n      this.currencySymbol=\"\"\r\n    }else if(this.currencytype===\"USD\"){\r\n      this.currencySymbol=\"$\"\r\n    }else if(this.currencytype===\"CNY\"){\r\n      this.currencySymbol=\"\"\r\n    }else if(this.currencytype===\"GBP\"){\r\n      this.currencySymbol=\"\"\r\n    }else if(this.currencytype===\"ZAR\"){\r\n      this.currencySymbol=\"R\"\r\n    }\r\n\r\n    this.interestForm = this.formBuilder.group({\r\n      chargeInfo: new FormArray([]),\r\n    });\r\n    this.api\r\n      .getFlexcubeDetails(\"chargeDetails\", this.accountType)\r\n      .subscribe((response) => {\r\n        this.onChangeInterest(response.length);\r\n        this.in.patchValue([{...response[0], amount: history.state.amount ? history.state.amount : ''}]);\r\n      });    \r\n\r\n    // this.api.cardChargeFetchById(this.cardId).subscribe((resp) => {\r\n    //   console.log(\"resp from backend \", this.resp);\r\n    //   this.resp = resp;\r\n    //   this.onChangeInterest(this.resp.length);\r\n    //   this.in.patchValue(this.resp);\r\n    // });\r\n  }\r\n\r\n  onChangeInterest(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            amount: [\"\",Validators.required],\r\n            waiver: [false],\r\n            cardId: [this.cardId],\r\n            chargeDetailsId: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.chargeInfo as FormArray;\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([\r\n      `/cardaccount/applicationEnrichment/intrest-details`,\r\n    ]);\r\n  }\r\n  appendPercentage(event) {\r\n    // console.log(event.key)\r\n    console.log(event.target.value);\r\n\r\n    if (!event.target.value.length) return;\r\n\r\n    if (event.target.value.length === 1) {\r\n      event.target.value = `${event.target.value}%`;\r\n    }\r\n    if (event.target.value.length > 1) {\r\n      event.target.value = `${event.target.value.slice(0, -1)}%`;\r\n    }\r\n  }\r\n\r\n  onSubmit(form) {\r\n    console.log(\"form\", form);\r\n    // form.chargeInfo = form.chargeInfo.map((chargeInfo) => ({\r\n    //   ...chargeInfo,\r\n    //   // loanAccountId: this.loanaccountID,\r\n    // }));\r\n\r\n    this.api.cardChargeDetailsSave(form).subscribe(\r\n      (resp) => {\r\n        this.snack.open(\"Charge Details Saved!\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n        this.next();\r\n        console.log(\"backend response from intrest saving\", resp);\r\n      },\r\n      (err) => {\r\n        this.snack.open(\r\n          \"Not able to connect to server!\",\r\n          \"INTERNAL SERVER ERROR\",\r\n          {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"chargeInfo detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n  checkbox(event) {\r\n    console.log(event.checked);\r\n  }\r\n  next() {\r\n    this.ls.setItem(\"CARD_CHARGE_DETAILS_DONE\", true);\r\n    this.ls.setItem('CARD_ENRICHMENT_DONE',true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/underwritingStage/list`]);\r\n  }\r\n\r\n  onKeyPress(event: any) {\r\n    const number = /[0-9\\+\\-\\ ]/;\r\n    let inputCharacter = String.fromCharCode(event.charCode);\r\n    if (event.keyCode != 8 && !number.test(inputCharacter)) {\r\n      event.preventDefault();\r\n      console.log(\"event:\", event)\r\n    }\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/chargeDetails.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Charge Details</b></div>\r\n    </div>\r\n  </div>\r\n  <div fxFlex=\"100\" class=\"m-333\">\r\n    <div class=\"mt-24\"></div>\r\n    <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\" class=\"chargeForm\">\r\n      <div class=\"spanDiv1\">\r\n        <span class=\"span\">Charge Details\r\n        </span>\r\n        <mat-divider class=\"divider\"></mat-divider>\r\n      </div>\r\n      <table class=\"cart-table default-bg mat-elevation-z0\">\r\n        <thead class=\"tr\">\r\n          <tr class=\"theadClass\">\r\n            <th>Interest Type</th>\r\n            <th>Amount</th>\r\n            <th>waiever</th>\r\n\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let chargeInfo of in.controls; let i = index\" class=\"tableRow\">\r\n            <ng-container [formGroup]=\"chargeInfo\">\r\n              <td>\r\n                <mat-form-field >\r\n                  <input class=\"input\" matInput formControlName=\"intrestType\" name=\"account_branch\"\r\n                     readonly />\r\n                </mat-form-field>\r\n              </td>\r\n              <td>\r\n                <mat-form-field >\r\n                  <span class=\"currencySymbol\" matPrefix>{{currencySymbol}}&nbsp;</span>\r\n                  <input \r\n                    class=\"input\" \r\n                    maxlength=\"10\"\r\n                    formControlName=\"amount\" \r\n                    (keypress)=\"onKeyPress($event)\" \r\n                    oninput=\"this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null\" matInput formControlName=\"amount\" name=\"account_branch\" \r\n                  />\r\n                </mat-form-field>\r\n              </td>\r\n              <td>\r\n                <div class=\"waiver-pos\">\r\n                  <mat-checkbox formControlName=\"waiver\" (change)='checkbox($event)' color=\"primary\"></mat-checkbox>\r\n                </div>\r\n              </td>\r\n            </ng-container>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n  </div>\r\n\r\n  <div fxFlex=\"100\" class=\"mt-16\">\r\n    <a mat-button rounded  (click)=\"goBack()\">Back</a>\r\n    <span fxFlex></span>\r\n    <button class=\"Nextbtn\" mat-raised-button color=\"primary\" type=\"button\" [disabled]=\"interestForm.invalid\"\r\n      (click)=\"onSubmit(interestForm.value)\">Next</button>\r\n  </div>\r\n\r\n</div>\r\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { Router } from '@angular/router';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n@Component({\r\n  selector: 'app-assessment-stage',\r\n  templateUrl: './assessment-stage.component.html',\r\n  styleUrls: ['./assessment-stage.component.scss']\r\n})\r\nexport class AssessmentStageComponent implements OnInit {\r\n  isCardAssessmentStageDone:boolean=false;\r\n  isAssessmentReport:boolean=false;\r\n  cardId:any;\r\n\r\n  constructor(\r\n    private ls: LocalStoreService,private router: Router, private dialogService: DialogService, \r\n    private cdr: ChangeDetectorRef,\r\n     private accountService: AccountService, private apiService: ApiService\r\n  ) { }\r\n  \r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.isAssessmentReport=this.ls.getItem('CARD_ASSESSMENT_DONE');\r\n    this.isCardAssessmentStageDone=this.ls.getItem('CARD_ASSESSMENT_STAGE_DONE');\r\n  }\r\n\r\n  goToCardAssessmentSummary(){\r\n    this.dialogService.cardAccountAssessmentSummaryDialog();\r\n  }\r\n\r\n  openLoanQualitativeDialog(){\r\n    this.dialogService.loanQualitativeSummaryDialog();\r\n  }\r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <div fxFlex=\"100\" class=\"mt-8\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Entry Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\">\r\n                    View Summary\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div> -->\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n  \r\n\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <mat-card>\r\n          <mat-card-header>\r\n            <mat-card-title>1. Assessment Report</mat-card-title>\r\n          </mat-card-header>\r\n          <mat-card-content>\r\n            <div\r\n              fxLayout=\"row\"\r\n              fxLayoutGap=\"10px\"\r\n              fxLayoutAlign=\"space-between start\">\r\n              <div fxFlex=\"50%\"class=font1>\r\n                <p>\r\n                 The recommendation will be displayed with Approval or Rejection recommendation.\r\n                </p>\r\n              </div>\r\n              <div fxFlex=\"50%\">\r\n                <img [src]=\"'assets/images/svg/MaskGroup_13.svg'\" class=\"card-img\" />\r\n              </div>\r\n            </div>\r\n        \r\n            <div class=\"mb-1\" *ngIf=\"isAssessmentReport\">\r\n              <mat-progress-bar\r\n                [color]=\"'primary'\"\r\n                mode=\"determinate\"\r\n                [value]=\"100\"\r\n                class=\"rounded\"\r\n                style=\"height: 6px\">\r\n              </mat-progress-bar>\r\n              <p class=\"m-0 text-right\">Completed</p>\r\n              <!-- <span class=\"text-muted\">| {{ item.percentage }}%</span> -->\r\n            </div>\r\n       \r\n          </mat-card-content>\r\n    \r\n          <mat-divider></mat-divider>\r\n          <mat-card-actions>\r\n              <ng-container *ngIf=\"isAssessmentReport; else showAssessment\">\r\n                  <button mat-button (click)=\"goToCardAssessmentSummary()\" color=\"primary\">\r\n                    View Details <mat-icon>chevron_right</mat-icon>\r\n                  </button>\r\n              </ng-container>\r\n              \r\n              <ng-template #showAssessment>\r\n                  <button mat-button [routerLink]=\"['/cardaccount/assessmentStage/application-assessment/list']\" color=\"primary\">\r\n                     Add Details <mat-icon>chevron_right</mat-icon>\r\n                  </button>\r\n              </ng-template>\r\n            </mat-card-actions>\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n    \r\n\r\n\r\n\r\n</div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ApplicationEnrichmentComponent } from './application-enrichment/application-enrichment.component';\r\nimport { ChargeDetailsComponent } from './application-enrichment/charge-details/charge-details.component';\r\nimport { EnrichmentSummaryComponent } from './application-enrichment/enrichment-summary/enrichment-summary.component';\r\nimport { IntrestDetailsComponent } from './application-enrichment/intrest-details/intrest-details.component';\r\nimport { ApplicationEntryStageComponent } from './application-entry-stage/application-entry-stage.component';\r\nimport { CardAccountServicesComponent } from './application-entry-stage/card-account-services/card-account-services.component';\r\nimport { CardCustomerInformationComponent } from './application-entry-stage/card-customer-information/card-customer-information.component';\r\nimport { CardPrefrencesComponent } from './application-entry-stage/card-prefrences/card-prefrences.component';\r\nimport { CardInitiationComponent } from './application-entry-stage/card-initiation/card-initiation.component';\r\nimport { FinancialDetailsComponent } from './application-entry-stage/financial-details/financial-details.component';\r\nimport { AssessmentStageComponent } from './assessment-stage/assessment-stage.component';\r\nimport { CardAccountComponent } from './card-account.component';\r\nimport { DigitalSignNowOrLaterComponent } from './digital-signing/digital-sign-now-or-later/digital-sign-now-or-later.component';\r\nimport { DigitalSigningComponent } from './digital-signing/digital-signing.component';\r\nimport { UploadSignatureOrEsignComponent } from './digital-signing/upload-signature-or-esign/upload-signature-or-esign.component';\r\nimport { CardaccountApplicationAssessmentComponent } from './cardaccount-application-assessment/cardaccount-application-assessment.component';\r\nimport { DocumentDetailsComponent } from './document-upload/document-details/document-details.component';\r\nimport { DocumentUploadComponent } from './document-upload/document-upload.component';\r\nimport { ApprovalDetailsComponent } from './supervisor-approval-stage/approval-details/approval-details.component';\r\nimport { SupervisorApprovalStageComponent } from './supervisor-approval-stage/supervisor-approval-stage.component';\r\nimport { CardaccountQualitativeScoreboardComponent } from './underwriting-stage/cardaccount-qualitative-scoreboard/cardaccount-qualitative-scoreboard.component';\r\nimport { UnderwritingCreditRatingComponent } from './underwriting-stage/underwriting-credit-rating/underwriting-credit-rating.component';\r\nimport { UnderwritingStageComponent } from './underwriting-stage/underwriting-stage.component';\r\n// import { UploadLinkToEmailComponent } from './document-upload/upload-link-to-email/upload-link-to-email.component';\r\nimport { UnderwritingStageSummaryComponent } from './underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component';\r\n\r\n\r\nexport const CardAccountRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CardAccountComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        redirectTo: 'applicationEntryStage/list',\r\n        pathMatch: 'full'\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list',\r\n        component: ApplicationEntryStageComponent,\r\n      },\r\n      {\r\n        path: 'documentupload/list/document-details',\r\n        component: DocumentDetailsComponent,\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list/financialDetails',\r\n        component: FinancialDetailsComponent,\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list/customerInformation',\r\n        component: CardCustomerInformationComponent,\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list/accountServices',\r\n        component: CardAccountServicesComponent,\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list/cardPrefrence',\r\n        component: CardPrefrencesComponent,\r\n      },\r\n      {\r\n        path: 'applicationEntryStage/list/cardInitiation',\r\n        component: CardInitiationComponent,\r\n      },\r\n      {\r\n        path: 'documentupload/list',\r\n        component: DocumentUploadComponent,\r\n      },\r\n      // {\r\n      //   path: 'documentupload/link',\r\n      //   component: UploadLinkToEmailComponent,\r\n      // },\r\n      {\r\n        path: 'applicationEnrichment/list',\r\n        component: ApplicationEnrichmentComponent,\r\n      },\r\n      {\r\n        path: 'applicationEnrichment/intrest-details',\r\n        component: IntrestDetailsComponent,\r\n      },\r\n      {\r\n        path: 'applicationEnrichment/charge-details',\r\n        component: ChargeDetailsComponent,\r\n      },\r\n      {\r\n        path: 'applicationEnrichment/Summary',\r\n        component: EnrichmentSummaryComponent,\r\n      },\r\n      {\r\n        path: 'underwritingStage/list',\r\n        component: UnderwritingStageComponent,\r\n      },\r\n      {\r\n        path: 'underwritingStage/summary',\r\n        component: UnderwritingStageSummaryComponent,\r\n      },\r\n      {\r\n        path: 'underwritingStage/credit-rating',\r\n        component:UnderwritingCreditRatingComponent,\r\n      },\r\n      {\r\n        path:'underwritingStage/qualitative',\r\n        component:CardaccountQualitativeScoreboardComponent,\r\n      },\r\n      {\r\n        path: 'assessmentStage/list',\r\n        component: AssessmentStageComponent,\r\n      },\r\n      {\r\n        path:'assessmentStage/application-assessment/list',\r\n        component:CardaccountApplicationAssessmentComponent,\r\n      },\r\n      {\r\n        path: 'SupervisorApprovalStage/list',\r\n        component: SupervisorApprovalStageComponent,\r\n      },\r\n      {\r\n        path: 'SupervisorApprovalStage/list/approvalDetails',\r\n        component: ApprovalDetailsComponent,\r\n      },\r\n      {\r\n        path: 'DigitalSigning/list',\r\n        component: DigitalSigningComponent,\r\n      },\r\n      {\r\n        path: 'digitalsigning/options',\r\n        component: DigitalSignNowOrLaterComponent,\r\n      },\r\n      {\r\n        path: 'digitalsigning/upload',\r\n        component: UploadSignatureOrEsignComponent,\r\n      }\r\n  \r\n  \r\n    ]\r\n  }\r\n];","import { CUSTOM_ELEMENTS_SCHEMA, Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { MatDialogRef } from \"@angular/material/dialog\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-card-acc-charge-det-sum',\r\n  templateUrl: './card-acc-charge-det-sum.component.html',\r\n  styleUrls: ['./card-acc-charge-det-sum.component.scss']\r\n})\r\nexport class CardAccChargeDetSumComponent implements OnInit {\r\n\r\n  form1: Boolean;\r\n  form2: Boolean;\r\n\r\n  chargeFormIT: FormGroup;\r\n  savingForm: FormGroup;\r\n  accountId: any;\r\n  // accountType: any;\r\n  resp: { intrestType: string; amount: string; waiver: string }[];\r\n  loanAccountId: any;\r\n  accountType: String = \"Home Loan\";\r\n  cardId: number;\r\n\r\n  constructor(\r\n    private snack: MatSnackBar,\r\n    private dialogRef: MatDialogRef<CardAccChargeDetSumComponent>,\r\n    private ls: LocalStoreService,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.chargeFormIT = this.formBuilder.group({\r\n      chargeIT: new FormArray([]),\r\n    });\r\n\r\n    this.api\r\n      .getFlexcubeDetails(\"chargeDetails\", this.accountType)\r\n      .subscribe((response) => {\r\n        this.onChangeInterest(response.length);\r\n        this.in.patchValue(response);\r\n      });\r\n\r\n    this.api.cardChargeFetchById(this.cardId).subscribe((resp) => {\r\n      console.log(\"resp from backend \", this.resp);\r\n      this.resp = resp;\r\n      this.onChangeInterest(this.resp.length);\r\n      this.in.patchValue(this.resp);\r\n    });\r\n  }\r\n\r\n  onChangeInterest(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            amount: [\"\"],\r\n            waiver: [false],\r\n            cardId: [this.cardId],\r\n            createdDate: [\"\"],\r\n            craetedBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.chargeFormIT.controls;\r\n  }\r\n  get in() {\r\n    return this.f.chargeIT as FormArray;\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([\"/cardaccount/applicationEnrichment/list\"]);\r\n  }\r\n\r\n  onSubmit(form) {}\r\n  edit() {\r\n    const amount = this.chargeFormIT.controls['chargeIT'].value.at(-1)['amount']\r\n    console.log({amount});\r\n    this.dialogRef.close();\r\n    this.router.navigate([`/cardaccount/applicationEnrichment/charge-details`],{state: {amount}});\r\n  }\r\n\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"charge detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n\r\n  close(){\r\n    this.router.navigate([\"/cardaccount/applicationEnrichment/list\"]);\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[a-zA-Z]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n}\r\n","<!-- <p>card-acc-charge-det-sum works!</p>\r\n<mat-card>\r\n\t<mat-card-header>\r\n\t\t<mat-card-title>Title</mat-card-title>\r\n\t\t<mat-card-subtitle>Subtitle</mat-card-subtitle>\r\n\t</mat-card-header>\r\n\t<img matCardImage src=\"Card wide image source\">\r\n\t<mat-card-content>\r\n\t\tText content\r\n\t</mat-card-content>\r\n\t<mat-card-actions align=\"start\">\r\n\t\t<button mat-button (click)=\"onAction1\">Action1</button>\r\n\t\t\r\n\t</mat-card-actions>\r\n\t<mat-card-footer>\r\n\t\tFooter\r\n\t</mat-card-footer>\r\n</mat-card> -->\r\n\r\n<mat-card class=\"matCard\">\r\n  <button mat-button id=\"close\" mat-dialog-close>\r\n    <mat-icon class=\"closeicon\">close</mat-icon>\r\n  </button>\r\n  <div class=\"spanDiv1\">\r\n    <span class=\"paraFont\">Charge Details Summary\r\n\r\n    </span>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" class=\"main\">\r\n    <div fxFlex=\"100\">\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n      <div class=\"mt-24\"></div>\r\n      <form *ngIf=\"chargeFormIT\" [formGroup]=\"chargeFormIT\">\r\n        <table class=\"cart-table default-bg mat-elevation-z0\">\r\n          <tbody>\r\n            <tr class=\"mt-4\" *ngFor=\"let chargeIT of [in.controls[in.controls.length - 1]]; let i = index\" class=\"form\">\r\n              <div class=\"row\" >\r\n                <ng-container [formGroup]=\"chargeIT\">\r\n                  <div class=\"heading\">\r\n                    <input matInput formControlName=\"intrestType\" name=\"account_branch\" id=\"headingInput\" readonly />\r\n                  </div>\r\n                  <td>\r\n                    <mat-card class=\"matCardBox\">\r\n                      <mat-label class=\"label\">Amount</mat-label>\r\n                      <input matInput formControlName=\"amount\" #amount name=\"account_branch\" class=\"input\" readonly />\r\n                    </mat-card>\r\n                  </td>\r\n                </ng-container>\r\n              </div>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <span class=\"spanDiv\" (click)=\"edit()\">Edit</span>\r\n</mat-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { AppLoaderService } from 'app/shared/services/app-loader/app-loader.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n\r\n@Component({\r\n  selector: 'app-digitalsign-summary',\r\n  templateUrl: './digitalsign-summary.component.html',\r\n  styleUrls: ['./digitalsign-summary.component.scss']\r\n})\r\nexport class DigitalsignSummaryComponent implements OnInit {\r\n  cardId:any;\r\n  accountInfo: any;\r\n  imageUrl: any;\r\n  constructor( private router: Router,private ls: LocalStoreService, private api: ApiService, private loader: AppLoaderService) { }\r\n\r\n  ngOnInit(): void {\r\n    \r\n    console.log(this.cardId)\r\n     this.cardId = this.ls.getItem('cardId');\r\n     console.log(this.cardId)\r\n     this.getDigitalsignByCardId(this.cardId);\r\n    //  if(this.accountInfo){\r\n    //   this.accountId=this.accountInfo.businessProductAccount.accountId\r\n    //   }\r\n    \r\n  }\r\n  getDigitalsignByCardId(cardId) {\r\n    this.api.getDigitalsignByCardId(cardId).subscribe((resp) => {\r\n      console.log(resp)\r\n        console.log(resp[0].fileUrl);\r\n       this.imageUrl = resp[0].fileUrl\r\n      this.loader.close();\r\n    }, (err: any) => {\r\n      // this.loader.close();\r\n    }); \r\n  }\r\n\r\n  \r\n\r\n}\r\n","<div fxLayoutAlign=\"end stretch\" mat-dialog-close class=\"close\"><mat-icon>close</mat-icon></div>\r\n<div class=\"approval-details\">\r\n <fieldset>\r\n  <legend visible=\"true\" clas=\"paraFont\">Digital Signing</legend>\r\n </fieldset>\r\n <mat-card class=\"card\">\r\n    <div>\r\n        <div>\r\n            <img [src]=\" this.imageUrl\" alt=\"No Image\">\r\n        </div>\r\n       \r\n    </div>\r\n </mat-card>\r\n<p class=\"editButton\" mat-dialog-close \r\n[routerLink]=\"['/cardaccount/digitalsigning/options']\"\r\n>Edit</p>\r\n</div>","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { CurrencyPipe, Location } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\nimport { Console } from 'console';\r\n\r\n@Component({\r\n  selector: 'app-cardaccount-application-assessment',\r\n  templateUrl: './cardaccount-application-assessment.component.html',\r\n  styleUrls: ['./cardaccount-application-assessment.component.scss'],\r\n})\r\nexport class CardaccountApplicationAssessmentComponent implements OnInit {\r\n  currency: string;\r\n  public assessmentForm: FormGroup;\r\n  isAssessmentReport: boolean = false;\r\n  arrayUserRecommendation = [\r\n    'Recommended For Approval',\r\n    'Pending For Documents',\r\n    'Recommended for Review',\r\n  ];\r\n  arraySystemRecommendation = [\r\n    'Recomended For Approval',\r\n    'Recommended For Reject',\r\n  ];\r\n  cardId: any;\r\n  curr: string = '';\r\n  isCardAssessmentStageDone: boolean = false;\r\n  requestedCardLimit: any;\r\n  recommendedCardLimit: any;\r\n  approvedCardLimit: string;\r\n  currencySymboll: string;\r\n  currencySymbol: boolean = true;\r\n  //    currency_symbols = {\r\n  //     'USD': '$', // US Dollar\r\n  //     'EUR': '', // Euro\r\n  //     'GBP': '', // British Pound Sterling\r\n  //     'ILS': '', // Israeli New Sheqel\r\n  //     'INR': '', // Indian Rupee\r\n  //     'JPY': '', // Japanese Yen\r\n  //     'KRW': '', // South Korean Won\r\n  //     'NGN': '', // Nigerian Naira\r\n  //     'PHP': '', // Philippine Peso\r\n  //     'PLN': 'z', // Polish Zloty\r\n  //     'PYG': '', // Paraguayan Guarani\r\n  //     'THB': '', // Thai Baht\r\n  //     'UAH': '', // Ukrainian Hryvnia\r\n  //     'VND': '', // Vietnamese Dong\r\n  //     'CNY': '', // Chinese Yuan Currency\r\n  //     'ZAR': 'R', // South Africa Rand\r\n  // };\r\n  //localCurrencyArr=['CNY','GBP','INR','USD','ZAR','GBP'];\r\n  currencySymbols=[\r\n    {currency:'USD', symbol:'$'},{currency:'EUR', symbol:''},\r\n    {currency:'JPY', symbol:''},\r\n    {currency:'GBP', symbol:''},\r\n    {currency:'ILS', symbol:''},\r\n    {currency:'KRW', symbol:''},\r\n    {currency:'NGN', symbol:''},\r\n    {currency:'PHP', symbol:''},\r\n    {currency:'PLN', symbol:'z'},\r\n    {currency:'THB', symbol:''},\r\n    {currency:'UAH', symbol:''},\r\n    {currency:'VND', symbol:''},\r\n    {currency:'CNY', symbol:''},\r\n    { currency: 'ZAR', symbol: 'R'},\r\n    {currency:'INR', symbol:''},\r\n  ]\r\n  currencyArr: { currency: string; symbol: string; }[];\r\n  currencytype: string;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private snack: MatSnackBar,\r\n    private cdr: ChangeDetectorRef,\r\n    private apiService: ApiService,\r\n    private _location: Location,\r\n    private ls: LocalStoreService,\r\n    private fb: FormBuilder,\r\n    private accountService: AccountService,\r\n    private currencyPipe: CurrencyPipe\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.curr = localStorage.getItem('Currency Type');\r\n    this.cardId = this.ls.getItem('cardId');\r\n    this.isAssessmentReport = this.ls.getItem('CARD_ASSESSMENT_DONE');\r\n    this.isCardAssessmentStageDone = this.ls.getItem(\r\n      'CARD_ASSESSMENT_STAGE_DONE'\r\n    );\r\n    this.buildAssessmentForm({});\r\n    if (this.isAssessmentReport == false) {\r\n      this.buildAssessmentForm();\r\n    } else {\r\n      this.getCardAssessmentDetails();\r\n    }\r\n  }\r\n\r\n  buildAssessmentForm(item?, isResponse?: boolean) {\r\n    this.assessmentForm = this.fb.group({\r\n      // cardId:[data?data.cardId:'952'],\r\n      // agencyId:[data?data.agencyId : 0],\r\n      // cardId:[item?item.cardId:'1'],\r\n      // assessmentId:[item?item.assessmentId:'1'],\r\n\r\n      cardId: [this.cardId],\r\n      assessmentId: [(item.assessmentId = '1')],\r\n      requestedCardLimit: [(item.requestedCardLimit = '15000')],\r\n      systemRecommendation: [\r\n        // (item.systemRecommendation = 'Recommended for Approval'),[Validators.required]\r\n        item ? item.systemRecommendation : '',\r\n        [Validators.required],\r\n      ],\r\n      approvedCardLimit: [(item.approvedCardLimit = '10000')],\r\n      // requestedCardLimit: [item ? item.requestedCardLimit: '  15000'],\r\n      // systemRecommendation:[item ? item.systemRecommendation:'Recommended for Approval'],\r\n      // approvedCardLimit:[item ? item.approvedCardLimit: '10000'],\r\n      userRecommendation: [\r\n        item ? item.userRecommendation : '',\r\n        [Validators.required],\r\n      ],\r\n      recommendedCardLimit: [\r\n        item ? item.recommendedCardLimit : '',\r\n        [Validators.required],\r\n      ],\r\n      remark: [item ? item.remark : ''],\r\n    });\r\n    console.log('curr', this.curr);\r\n    if (item) {\r\n      // if (this.curr === 'INR') {\r\n      //   //this.recommendedCardLimit = \"\" + ' ' + this.assessmentForm.value.recommendedCardLimit;\r\n      //   this.approvedCardLimit =\r\n      //     '' + ' ' + this.assessmentForm.value.approvedCardLimit;\r\n      //   this.requestedCardLimit =\r\n      //     '' + ' ' + this.assessmentForm.value.requestedCardLimit;\r\n      //   this.currencySymboll = '' + ' ';\r\n      //   console.log('reccommendedCardLimit:', this.recommendedCardLimit);\r\n      // } else {\r\n      //   // this.recommendedCardLimit = \"$\" + ' ' + this.assessmentForm.value.recommendedCardLimit;\r\n      //   this.approvedCardLimit =\r\n      //     '$' + ' ' + this.assessmentForm.value.approvedCardLimit;\r\n      //   this.requestedCardLimit =\r\n      //     '$' + ' ' + this.assessmentForm.value.requestedCardLimit;\r\n      //   this.currencySymboll = '$' + ' ';\r\n      // }\r\n      for(let i=0;i<this.currencySymbols.length;i++){\r\n        this.currencyArr= this.currencySymbols.filter((fltered)=>{\r\n         return this.curr===fltered.currency;\r\n        })\r\n        console.log(\"this.currencyArr\",this.currencyArr);\r\n      }\r\n      this.currencySymboll = this.currencyArr[0].symbol;  \r\n      this.approvedCardLimit = this.currencySymboll + ' ' + this.assessmentForm.value.approvedCardLimit;\r\n      this.requestedCardLimit = this.currencySymboll + ' ' + this.assessmentForm.value.requestedCardLimit;\r\n      this.recommendedCardLimit = this.currencySymboll + ' '+ this.assessmentForm.value.reccommendedCardLimit;\r\n\r\n\r\n      //  this.assessmentForm.controls.recommendedCardLimit.setValue(this.curr);\r\n      this.assessmentForm.controls.approvedCardLimit.setValue(\r\n        this.approvedCardLimit\r\n      );\r\n      this.assessmentForm.controls.requestedCardLimit.setValue(\r\n        this.requestedCardLimit\r\n      );\r\n      // this.assessmentForm.controls.recommendedCardLimit.setValue(this.recommendedCardLimit);//editable field\r\n    }\r\n  }\r\n\r\n  transformAmount(element) {\r\n    if (this.curr === 'INR') {\r\n      console.log(this.currencySymbol);\r\n      this.currencySymboll = this.currencyPipe.transform(\r\n        this.currencySymboll,\r\n        ''\r\n      );\r\n      console.log(this.currencySymbol);\r\n      element.target.value = this.currencySymboll;\r\n    } else {\r\n      this.currencySymboll = this.currencyPipe.transform(\r\n        this.currencySymboll,\r\n        '$'\r\n      );\r\n      element.target.value = this.currencySymboll;\r\n    }\r\n    console.log(element.target.value);\r\n  }\r\n\r\n  keyUpEvent(event: any){\r\n    console.log('event', event.target.value);\r\n    // var final=event.target.value+ this.currencySymboll;\r\n    let finalNum = event.target.value.toString().replace(/,/g, '').split('.');\r\n    // finalNum[0] = finalNum[0].replace(\r\n    //   /\\B(?=(\\d{1})+(?!\\d))/g,\r\n    //   this.currencySymboll\r\n    // );\r\n    let final = finalNum.join('.');\r\n    // let final = finalNum.slice(0, 5);\r\n    console.log('final', final);\r\n    console.log('finalLength', final.length);\r\n    //this.assessmentForm.controls.recommendedCardLimit.setValue(this.currencySymboll);\r\n    this.assessmentForm.controls.recommendedCardLimit.setValue(final);\r\n  }\r\n\r\n  _keyPress1(event: any) {\r\n    const pattern = /^[0-9]*\\.?[0-9]*$/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    const input = event.target.value;\r\n    if (input.length === 0 && event.which === 48) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  getCardAssessmentDetails() {\r\n    this.apiService\r\n      .fetchcardAssessmentDetailsById(this.cardId)\r\n      //this.apiService.fetchcardAssessmentDetails()\r\n      .subscribe((resp: any) => {\r\n        console.log(resp);\r\n        this.buildAssessmentForm(resp, true);\r\n      });\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  goNext(val) {\r\n    console.log('val', val.approvedCardLimit);\r\n    console.log('val.approvedCardLimit', val.approvedCardLimit.length);\r\n    console.log('val', val.recommendedCardLimit);\r\n    console.log('val.recommendedCardLimit',val.recommendedCardLimit.length);\r\n    val.approvedCardLimit = val.approvedCardLimit.slice(\r\n      2,\r\n      val.approvedCardLimit.length - 1\r\n    );\r\n    val.requestedCardLimit = val.requestedCardLimit.slice(\r\n      2,\r\n      val.requestedCardLimit.length - 1\r\n    );\r\n    //let num = val.recommendedCardLimit.length;\r\n    //var final = val.recommendedCardLimit.slice(1, num - 1);\r\n   // console.log('final', final);\r\n   // final = this.removeComma(final);\r\n   // console.log('final', final);\r\n   // val.recommendedCardLimit = final;\r\n    this.apiService.cardAssessmentDetails(val).subscribe((data) => {\r\n      console.log('data', data);\r\n      if (data != null) {\r\n        this.snack.open('Assessment details saved successfully!', 'OK', {\r\n          duration: 4000,\r\n          verticalPosition: 'top',\r\n          horizontalPosition: 'right',\r\n        });\r\n        this.cdr.markForCheck();\r\n      }\r\n    });\r\n    this.next();\r\n  }\r\n  removeComma(num: any) {\r\n    var numb = num.replace(/,/g, '');\r\n    console.log('numb', numb);\r\n    return numb;\r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem('CARD_ASSESSMENT_DONE', true);\r\n    this.ls.setItem('CARD_ASSESSMENT_STAGE_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/SupervisorApprovalStage/list`]);\r\n  }\r\n  goBack() {\r\n    this.router.navigate([`/cardaccount/assessmentStage/list`]);\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/MaskGroup_13.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Assessment Report</b></div>\r\n    </div>\r\n  </div>\r\n\r\n  <!--Assessment Details starts here-->\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">\r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Assessment Details</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n\r\n      <div>\r\n        <form [formGroup]=\"assessmentForm\">\r\n          <div fxLayout=\"column\">\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\"class=\"field\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Requested Card Limit *</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <input\r\n                    matInput\r\n                    formControlName=\"requestedCardLimit\"\r\n                    (keypress)=\"_keyPress1($event)\"\r\n                    class=\"alignment\"\r\n                    type=\"text\"\r\n                    placeholder=\"Requested Card Limit\"\r\n                    readonly\r\n                  />\r\n                  <!-- {{curr }} {{requestedCardLimit }} -->\r\n                  <!--  {{curr }} {{requestedCardLimit | number: '1.' }} -->\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"48%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">System Recommendation</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <mat-select\r\n                    formControlName=\"systemRecommendation\"\r\n                    placeholder=\"Select\"\r\n                  >\r\n                   <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option\r\n                      *ngFor=\"\r\n                        let systemRecommendation of arraySystemRecommendation\r\n                      \"\r\n                      [value]=\"systemRecommendation\"\r\n                    >\r\n                      {{ systemRecommendation }}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                  <!-- <input matInput formControlName=\"loanTenure\" class=\"alignment\" type=\"text\" readonly/>{{accountDetails?.loanTenure}} -->\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n              </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\"class=\"field\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">User Recommendation *</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <mat-select\r\n                    formControlName=\"userRecommendation\"\r\n                    placeholder=\"Select\"\r\n                  >\r\n                   <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option\r\n                      *ngFor=\"let userRecommendation of arrayUserRecommendation\"\r\n                      [value]=\"userRecommendation\"\r\n                    >\r\n                      {{ userRecommendation }}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n\r\n                <mat-error\r\n                  *ngIf=\"\r\n                    !assessmentForm.get('userRecommendation').valid &&\r\n                    assessmentForm.get('userRecommendation').touched\r\n                  \"\r\n                >\r\n                  &nbsp;&nbsp; Please select the User Recommendation\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"48%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Recommended Card Limit</mat-label>\r\n                \r\n                <!-- <mat-card fxLayout=\"row wrap\"> -->\r\n                  <span fxFlex=\"4\">{{currencySymboll}}</span>\r\n                  <input fxFlex=\"96\"\r\n                    matInput\r\n                    formControlName=\"recommendedCardLimit\"\r\n                    (keypress)=\"_keyPress1($event)\"\r\n                    (blur)=\"transformAmount($event)\"                  \r\n                    \r\n                    type=\"text\"\r\n                    required\r\n                  />\r\n                  <!-- < [ngClass]=\"{'currencySymbol' : true}\"\r\n                input type=\"text\" (blur)=\"transformAmount($event)\" [(ngModel)]=\"formattedAmount\"  /> \r\n                (blur)=\"transformAmount($event)\"  (keyup)=\"keyUpEvent($event,true)\" -->\r\n                  <!-- {{curr }} {{recommendedCardLimit | number: '1.' }} -->\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"assessmentForm.get('recommendedCardLimit').touched &&\r\n                  assessmentForm.get('recommendedCardLimit').value == 0\">\r\n                  &nbsp;&nbsp; Please enter valid Recommended Card Limit\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n            </div>\r\n            <div fxFlex=\"70%\" fxLayoutGap=\"10px\"class=\"field\">\r\n              <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Approved Card Limit</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <input\r\n                    matInput\r\n                    formControlName=\"approvedCardLimit\"\r\n                    (keypress)=\"_keyPress1($event)\"\r\n                    class=\"alignment\"\r\n                    type=\"text\"\r\n                    placeholder=\"Approved Card Limit\"\r\n                    readonly\r\n                    required\r\n                  />\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"flex-grow-1\" fxFlex=\"48%\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Remarks</mat-label>\r\n                <!-- <mat-card class=\"inputMatName\"> -->\r\n                  <input\r\n                    matInput\r\n                    placeholder=\"Remarks\"\r\n                    formControlName=\"remark\"\r\n                    class=\"alignment\"\r\n                    type=\"text\"\r\n                  />\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n                <!-- <mat-error\r\n                  *ngIf=\"\r\n                    !assessmentForm.get('remark').valid &&\r\n                    assessmentForm.get('remark').touched\r\n                  \"\r\n                >\r\n                  &nbsp;&nbsp; Please enter the remarks\r\n                </mat-error> -->\r\n              </div>\r\n            </div>\r\n          </div>\r\n         \r\n        </form>\r\n      </div>\r\n    </mat-card>\r\n    <div fxLayout=\"row\"\r\n    fxLayoutAlign=\"space-between center\"\r\n    fxLayoutGap=\"16px\"\r\n    class=\"mt-32\">\r\n      <button mat-button rounded class=\"Backbtn\" (click)=\"goBack()\">\r\n        Back\r\n      </button>     \r\n      <button type=\"button\" class=\"Nextbtn\" (click)=\"goNext(assessmentForm.value)\" [disabled]=\"!assessmentForm.valid\" mat-raised-button color=\"primary\">\r\n        Next\r\n    </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { AppLoaderService } from \"app/shared/services/app-loader/app-loader.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n// import { AccountService } from 'app/views/loan-account/account.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-intrest-details',\r\n  templateUrl: './intrest-details.component.html',\r\n  styleUrls: ['./intrest-details.component.scss']\r\n})\r\nexport class IntrestDetailsComponent implements OnInit {\r\n\r\n  interestForm: FormGroup;\r\n  accountId: any;\r\n  intrestFlag: Boolean;\r\n  interestResp: any;\r\n  showEditOption: boolean = false;\r\n  resp: {\r\n    intrestType: string;\r\n    intrestRateApplicable: string;\r\n    marginIn: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  accountType: String = \"Card Origin\";\r\n  cardId: number;\r\n  \r\n  constructor(\r\n    private accountService: AccountService,\r\n    private snack: MatSnackBar,\r\n    private ls: LocalStoreService,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private loader: AppLoaderService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    let isCardInterestDetails = this.ls.getItem('CARD_INTEREST_DETAILS_DONE');\r\n    this.getInterestDetails();\r\n    if (this.cardId != null && isCardInterestDetails) {\r\n      this.showEditOption = true;\r\n      \r\n      this.getInterestDetails();\r\n    } \r\n    else {\r\n      console.log(\"else\");\r\n      this.showEditOption = false;\r\n      this.api\r\n      .getFlexcubeDetails(\"intrestDetails\", this.accountType)\r\n      .subscribe((response) => {\r\n        this.onChangeInterest(response.length);\r\n        this.in.patchValue(response);\r\n      });\r\n    }\r\n\r\n    this.interestForm = this.formBuilder.group({\r\n      interestInfo: new FormArray([]),\r\n    });\r\n  \r\n  }\r\n\r\n  getInterestDetails(){\r\n    // this.loader.open();\r\n    // this.cardId=this.ls.getItem('cardId');\r\n    // console.log(this.cardId)\r\n    this.cardId = this.cardId;\r\n    this.api.cardInterestFetchById(this.cardId).subscribe((resp) => {\r\n      this.loader.close();\r\n      console.log(\"resp from backend \", this.resp);\r\n      this.resp = resp;\r\n      this.onChangeInterest(this.resp.length);\r\n      this.in.patchValue(this.resp);\r\n    }, (err: any) => {\r\n      // this.loader.close();\r\n    }); \r\n  }\r\n\r\n  onChangeInterest(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"Fixed Rate\", Validators.required],\r\n            intrestRateApplicable: [5.0, Validators.required],\r\n            marginIn :[null,[Validators.required, Validators.max(100), Validators.min(0)],],\r\n            effectiveRate: [10.0,[Validators.required, Validators.max(100), Validators.min(0)],],\r\n            cardInterestId: [\"\"],\r\n            cardId: [this.cardId],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.interestInfo as FormArray;\r\n  }\r\n\r\n  appendPercentage(event) {\r\n    // console.log(event.key)\r\n    console.log(event.target.value);\r\n\r\n    if (!event.target.value.length) return;\r\n\r\n    if (event.target.value.length === 1) {\r\n      event.target.value = `${event.target.value}%`;\r\n    }\r\n    if (event.target.value.length > 1) {\r\n      event.target.value = `${event.target.value.slice(0, -1)}%`;\r\n    }\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log(this.interestForm.value)\r\n    this.api.cardintrestDetailsSave(this.interestForm.value).subscribe(\r\n      (resp) => {\r\n        this.snack.open(\"Interest Details Saved!\", \"OK\", {\r\n          duration: 4000,\r\n          verticalPosition: \"top\",\r\n          horizontalPosition: \"right\",\r\n        });\r\n        this.next();\r\n        console.log(\"backend response from intrest saving\", resp);\r\n      },\r\n      (err) => {\r\n        this.snack.open(\r\n          \"Not able to connect to server!\",\r\n          \"INTERNAL SERVER ERROR\",\r\n          {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"right\",\r\n          }\r\n        );\r\n      }\r\n    );\r\n    \r\n  }\r\n\r\n  next() {\r\n    this.ls.setItem('CARD_INTEREST_DETAILS_DONE', true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/applicationEnrichment/charge-details`]);\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([\r\n      `/cardaccount/applicationEnrichment/list`,\r\n    ]);\r\n  }\r\n\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"Interest detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/loanInterest.svg\" alt=\"\" class=\"w-80\" />\r\n    </div>\r\n\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Interest Details</b></div>\r\n    </div>\r\n  </div>\r\n\r\n  <div fxFlex=\"100\" class=\"m-333\">\r\n\r\n    <div class=\"mt-24\"></div>\r\n    <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\" class=\"chargeForm\">\r\n      <div class=\"spanDiv1\">\r\n        <span class=\"span\">\r\n          Interest Details\r\n        </span>\r\n        <mat-divider class=\"divider\"></mat-divider>\r\n      </div>\r\n      <table class=\"cart-table default-bg mat-elevation-z0\">\r\n        <thead class=\"tr\">\r\n          <tr class=\"theadClass\">\r\n            <!-- <th>Rate Code</th> -->\r\n            <th>Interest Type</th>\r\n            <th>Interest Rate Applicable</th>\r\n            <th>Margin in %</th>\r\n            <th>Effective Rate %</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let interestInfo of in.controls; let i = index\" class=\"tableRow\">\r\n\r\n            <ng-container [formGroup]=\"interestInfo\">\r\n              <td>\r\n                <mat-card class=\"matCardBox-form\">\r\n                  <input class=\"input\" matInput formControlName=\"intrestType\" name=\"intrestType\"\r\n                    placeholder=\"Interest Type\" readonly />\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <mat-card class=\"matCardBox-form box1\">\r\n                  <input class=\"inputPercent\" matInput formControlName=\"intrestRateApplicable\" name=\"intrestRateApplicable\"\r\n                    placeholder=\"Interest Rate Applicable\"readonly />\r\n                    <span matSuffix>%</span>\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <mat-card class=\"matCardBox-form box1\">\r\n                  <input class=\"inputPercent\" matInput formControlName=\"marginIn\" name=\"margin\" \r\n                    placeholder=\"Margin\" readonly />\r\n                    <span matSuffix>%</span>\r\n                </mat-card>\r\n              </td>\r\n              <td>\r\n                <mat-card class=\"matCardBox-form box1\">\r\n                  <input class=\"inputPercent\" matInput formControlName=\"effectiveRate\" name=\"effectiveRate\"\r\n                    placeholder=\"Effective Rate\" value=\"\" readonly />\r\n                    <span matSuffix>%</span>\r\n                </mat-card>\r\n              </td>\r\n            </ng-container>\r\n\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </form>\r\n  </div>\r\n\r\n  <!-- <div fxFlex=\"100\" class=\"mt-16\">\r\n    <a mat-button rounded color=\"primary\" (click)=\"goBack()\">Back</a>\r\n    <span fxFlex></span>\r\n    <button mat-raised-button color=\"primary\" type=\"button\"\r\n      (click)=\"onSubmit()\">Next</button>\r\n  </div> -->\r\n\r\n  \r\n  <div fxFlex=\"100\" class=\"mt-16\">\r\n    <a mat-button rounded (click)=\"goBack()\">Back</a>\r\n    <span fxFlex></span>\r\n    <button class=\"Nextbtn\" mat-raised-button color=\"primary\" type=\"button\" [disabled]=\"interestForm.invalid\"\r\n      (click)=\"onSubmit()\">Next</button>\r\n  </div>\r\n</div>\r\n</div>\r\n\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { DigitalsignSummaryComponent } from './digitalsign-summary/digitalsign-summary.component';\r\n\r\n@Component({\r\n  selector: 'app-digital-signing',\r\n  templateUrl: './digital-signing.component.html',\r\n  styleUrls: ['./digital-signing.component.scss']\r\n})\r\nexport class DigitalSigningComponent implements OnInit {\r\n\r\n  informations = [\r\n    {\r\n      'id':1,\r\n      'title': '1. Digital Signing',\r\n      'content':\"Customer can either sign now or sign later\",\r\n      'percentage':70,\r\n      'status':'Pending',\r\n      'state': 'application/digital-sign/options',\r\n      'avatar':\"assets/images/esign.jpg\"\r\n\r\n    }\r\n  ];\r\n\r\n  accountId:any;\r\n  isEsignScreen:boolean = false;\r\n  accountService: any;\r\n  constructor(private router:Router,private ls: LocalStoreService,public dialog: MatDialog,private cdr:ChangeDetectorRef) { }\r\n\r\n  ngOnInit(){\r\n    this.accountId = this.ls.getItem('accountId');\r\n    this.isEsignScreen = this.ls.getItem('eSignStage');\r\n\r\n    this.accountService.refresh.subscribe((res: any) => {\r\n      this.accountId = this.ls.getItem('accountId');\r\n      this.isEsignScreen = this.ls.getItem('eSignStage');\r\n    \r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  goToDetail(item){\r\n    console.log(item);\r\n    this.router.navigate([`/home/${item.state}`]);\r\n  }\r\n  goToDigitalSign() {\r\n    const dialogRef = this.dialog.open(DigitalsignSummaryComponent, { \r\n      height: '55%',\r\n      width: '40%',\r\n      disableClose: true });\r\n    dialogRef.afterClosed().subscribe((submit) => {\r\n    })\r\n\r\n  }\r\n\r\n}","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <div fxFlex=\"100\" class=\"mt-8\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Entry Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\">\r\n                    View Summary\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div> -->\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n        <!-- Card 1 start-->\r\n        <mat-card>\r\n            <mat-card-header>\r\n                <mat-card-title>1.Digital Signing</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                       <div fxFlex=\"50%\" class=\"txtclr\">\r\n                            <p> Customer can either sign now or sign later.</p>\r\n                       </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/Mask Group 55.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <div class=\"mb-1\" *ngIf=\"isEsignScreen\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div>\r\n                <!--end::Progress-->\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isEsignScreen\">\r\n                    <button mat-button (click)=\"goToDigitalSign()\" color=\"primary\" class=\"pl-27\">\r\n                      View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                  </ng-container>\r\n          \r\n                  <a mat-button \r\n                  [routerLink]=\"['/cardaccount/digitalsigning/options']\"\r\n                       *ngIf=\"!isEsignScreen\" color=\"primary\" class=\"pl-27\">\r\n                    Add Details <mat-icon>chevron_right</mat-icon>\r\n                  </a>\r\n                <!-- <ng-container> -->\r\n                    <!-- <a\r\n                      mat-button\r\n                      [routerLink]=\"['/cardaccount/digitalsigning/options']\"\r\n                      color=\"primary\"\r\n                    >\r\n                    {{ isEsignScreen ? \"Show Details\" : \"Add Details\" }}\r\n                    <mat-icon>chevron_right</mat-icon>\r\n                    </a> -->\r\n                    <!-- <button mat-button color=\"primary\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button> -->\r\n                <!-- </ng-container> -->\r\n\r\n                <!-- <ng-template #showLoan>\r\n                    <button mat-button color=\"primary\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template> -->\r\n\r\n\r\n            </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n\r\n\r\n</div>","<div class=\"matcard-size\">\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"propic text-center\">\r\n            <img src=\"assets/images/svg/Mask Group 6.svg\" alt=\"\" class=\"w-90\" />\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Document Details</b></div>\r\n        </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-24\">\r\n        <h2 class=\"ml-16\">Document Details</h2>\r\n        <div class=\"mt-24\"></div>\r\n    <mat-card *ngFor=\"let item of docholder; let m=index;\">\r\n        <label><span style=\"font-size: 20px;\">Customer Name({{m+1}}/{{docholder.length}}) :</span>&nbsp;&nbsp; {{item.firstName}}&nbsp;{{item?.middleName}}&nbsp;{{item.lastName}}</label>\r\n        <div>\r\n             <app-genric-document-upload [screenInfo]=\"screenInfo[m]\"></app-genric-document-upload>\r\n            \r\n       \r\n        </div>\r\n  \r\n    </mat-card>\r\n    </div>\r\n    <!-- <div>\r\n        <table>\r\n            <tr>\r\n                <td>\r\n\r\n                    <button  mat-raised-button type=\"button\"\r\n                        id=\"auto_trigger\">\r\n                        <mat-icon color=\"primary\">add</mat-icon>DOCUMENT\r\n                    </button>\r\n\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div> -->\r\n    <div fxFlex=\"100\" class=\"mt-16\">\r\n        <button mat-stroked-button  (click)=\"goBack()\">BACK</button>\r\n        <span fxFlex></span>\r\n        <button class=\"Nextbtn\" mat-raised-button color=\"primary\" [disabled]=\"disableNextAtIndex1\" type=\"button\" (click)=\"goNext()\">Next</button>\r\n    \r\n    </div>\r\n</div>\r\n</div>","import { ChangeDetectorRef, Component, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { MatTabChangeEvent } from \"@angular/material/tabs\";\r\nimport { Router } from \"@angular/router\";\r\n\r\nimport { WebcamImage } from \"ngx-webcam\";\r\nimport { Subject, Observable, Subscription } from \"rxjs\";\r\nimport Swal from 'sweetalert2'\r\nimport { HttpClient, HttpEventType } from \"@angular/common/http\";\r\nimport { ApiService, LINK_URL } from \"app/shared/services/api.service\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { MatProgressBar } from \"@angular/material/progress-bar\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { DataService } from \"app/shared/services/data.service\";\r\nimport { createWorker } from 'tesseract.js';\r\nimport { Worker } from 'tesseract.js';\r\nimport { DialogService } from 'app/shared/services/dialogs/dialog.service';\r\nimport { AppLoaderService } from \"app/shared/services/app-loader/app-loader.service\";\r\nimport { CutomerFingerPrintComponent } from 'app/views/others/cutomer-finger-print/cutomer-finger-print.component';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { SucessMessageComponent } from '../sucess-message/sucess-message.component';\r\nimport { DocumentOcrService } from 'app/views/others/genric-document-upload/document-ocr.service';\r\n@Component({\r\n  selector: 'app-document-details',\r\n  templateUrl: './document-details.component.html',\r\n  styleUrls: ['./document-details.component.scss']\r\n})\r\nexport class DocumentDetailsComponent implements OnInit {\r\n  documentForm: FormGroup;\r\n  public webcamImage: WebcamImage = null;\r\n  public webcamImage1: WebcamImage = null;\r\n  scan1: boolean;\r\n  scan2: boolean;\r\n  scan3: boolean;\r\n  scan1Array: boolean[] = [];\r\n  scan2Array: boolean[] = [];\r\n  scan3Array: boolean[] = [];\r\n  public customerId: string = null;\r\n  selectedFiles: any;\r\n  fileUrl: string | ArrayBuffer;\r\n  backSelected: any;\r\n  frontSelected: any;\r\n  othersSelected: any;\r\n  image: any;\r\n  imageURL: any;\r\n  imageURL1: any;\r\n  imageURL2: any;\r\n  displayVal: boolean;\r\n  frontImageArray: any[] = [];\r\n  backImageArray: any[] = [];\r\n  otherImageArray: any[] = [];\r\n  otherDocumentArray: any[] = [];\r\n  boxArray: any[] = [];\r\n  documents_Type: string[];\r\n  documentsList: any;\r\n  displayVal1: boolean;\r\n  displayVal2: boolean;\r\n  customer_Id: string;\r\n  @ViewChild(MatProgressBar) progressBar: MatProgressBar;\r\n  //document_type: string;\r\n  document_type: string[] = [\"6\", \"7\", \"8\"];\r\n  custDocExist: boolean = false;\r\n  sanitizer: any;\r\n  doc: any;\r\n  doc_list: any;\r\n  selectedOptions2: any[] = [];\r\n  documentSide: number = null;\r\n  frontImage: any = null;\r\n  backImage: any = null;\r\n  otherImage: any = null;\r\n  uploadSub: Subscription;\r\n  secondBoxArray: boolean[] = [];\r\n  disableNext: boolean;\r\n  thirdBoxArray: boolean[] = [];\r\n  webcamImage2: WebcamImage;\r\n  ocrResult = 'Recognizing...';\r\n  name: any;\r\n  ocrFlag: boolean;\r\n  selectedDocumentTypes2: any[] = [];\r\n  namePancard: string;\r\n  nameOnCard: any[] = [];\r\n  dob: any;\r\n  dobArray: any[] = [];\r\n  panNumber: any;\r\n  idNumberArray: any[] = [];\r\n  docarr: any[] = [];\r\n  pancard: boolean;\r\n  dateOfIssue: any;\r\n  dateOfExpiry: any;\r\n  backSideId: any;\r\n  frontSideId: any;\r\n  otherSideId: any;\r\n  enableAadharReadOnly: boolean;\r\n  nameDoc: string;\r\n  address: string;\r\n  addressArray: any[] = [];\r\n  undefinedCheck: boolean;\r\n  addressDisplay: boolean;\r\n  dataFetched: boolean = false;\r\n  dataFetchedValue: string;\r\n  boxArray2: any[] = [];\r\n  boxArray3: any[] = [];\r\n  x: any;\r\n  temp: any;\r\n  temp2: any;\r\n  doc_name: any[] = [];\r\n  docholder:any[]= [];\r\n  docuNameArray: any[] = [];\r\n  docuName: any;\r\n  arrayOfImageArrays0: any[] = [];\r\n  arrayOfImageArrays1: any[] = [];\r\n  arrayOfImageArrays2: any[] = [];\r\n  secondKey: any;\r\n  page_id: any;\r\n  docValArray: any[] = [];\r\n  docarray1:any=[];\r\n  docum_name: any;\r\n  document_side: any;\r\n  newOtherPage: boolean = false;\r\n  disableNextAtIndex1: boolean = true;\r\n  \r\n  OtherpageGroup: FormGroup;\r\n  otherpagerray: FormArray;\r\n  deleterecord:any;\r\n  otherDocumentSelected: any;\r\n  otherDocumentSideId: any;\r\n  childindex: any;\r\n  otherDocPages: any[]=[];\r\n  otherDocumentArray2: any[]=[];\r\n  newDocumentSide: any;\r\n  fetchChildIndex: number;\r\n  isDocumentUploadDone: boolean = false;\r\n  isDocumentUpload: boolean = false;\r\n  cardId: any;\r\n  link: Promise<boolean>;\r\n  custId: any;\r\n  screenInfo: any = [];\r\n  screen: any;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private tokenService: ApiService,\r\n    public dialog: MatDialog,\r\n    private router: Router,\r\n    private fb: FormBuilder,\r\n    private snack: MatSnackBar,\r\n    private ls: LocalStoreService,\r\n    private shareDataService: DataService,\r\n    private cdr: ChangeDetectorRef,\r\n    private api: ApiService,\r\n    private dialogService: DialogService,\r\n    private loader: AppLoaderService,\r\n    private accountService:AccountService,\r\n    private appApiService: ApplicationEntryStageService,\r\n    private doOcrService:DocumentOcrService,\r\n  ) {\r\n  }\r\n  loading: boolean;\r\n  ff: boolean = false;\r\n  bf: boolean = false;\r\n  index: string[];\r\n  document_name: string[];\r\n  documentTypeArr: string[];\r\n  docName: any = \"document_name\";\r\n  backSideValue: any;\r\n  progressValFrontArray:number[]=[];\r\n  progressValBackArray:number[]=[];\r\n  progressValOthersArray:number[]=[];\r\n  progressValOtherDocumentArray:any[]=[];\r\n  customerDocs: any = [];\r\n  // Refresh customer id issue\r\n  refreshCustomerId: any;\r\n  docType:any;\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem('cardId');\r\n    this.appApiService.fetchCardCustomersByCardId(this.cardId ,'cardOrigin')\r\n      .subscribe((resp: any) => {\r\n        for(let i=0;i<=resp.data.length; i++){\r\n        this.screen= {\r\n          screenName: \"Cad Document Upload\",\r\n          name:resp.data[i].firstName,\r\n          data: \"\",\r\n          customerId: resp.data[i].customerId,\r\n          cifNumber:resp.data[i].cifNumber\r\n        }\r\n        this.screenInfo.push(this.screen);};\r\n})// )\r\nconsole.log(this.screenInfo);\r\n    //this.addotherpage(0,1);\r\n    this.customerId = sessionStorage.getItem(\"customer_id\");\r\n    this.customer_Id = sessionStorage.getItem('customer_id');\r\n //   this.cardId = this.ls.getItem('cardId');\r\n    this.addCustomer();\r\n    this.getCustomerInformationDetails();\r\n    \r\n    this.documentForm = this.fb.group({\r\n      documentName: [\"\", [Validators.required]],\r\n      frontSide: [\"\", [Validators.required]],\r\n      backSide: [\"\"],\r\n      others: [\"\"],\r\n      items:this.fb.array([this.inititemrows('')])\r\n    });\r\n    this.doc_name=[\"Aadhar card\",\"Pan card\",\"Passport\"];\r\n    this.docValArray=['frontSide','backSide','others'];\r\n    this.tokenService.getDropDownValues(this.docName).subscribe((resp) => {\r\n      this.document_name = resp;\r\n    });\r\n    this.tokenService.getDropDownValues('document_type').subscribe((resp) => {\r\n      this.documentTypeArr = resp;\r\n    });\r\n    this.api.getName().subscribe((resp) => {\r\n      this.assignName(resp.name);\r\n    })\r\n    this.api.getOCR().subscribe(resp => {\r\n    })\r\n    this.shareDataService.getCustomerId.subscribe(cId => {\r\n      this.api.getOCR().subscribe(resp => {\r\n        console.log(\"ocr resp from backend \", resp);\r\n        this.assignOCRValues(resp);\r\n      })\r\n      console.log(\"cId=\", cId);\r\n      // if (47953 !== null) {\r\n      //   this.refreshCustomerId = cId;\r\n      //   this.getCustomerDocuments(cId);\r\n      //   console.log(\"cId=\", cId);\r\n      // }\r\n     \r\n    })\r\n    this.doOcrService.getenableNext()\r\n    .subscribe(data=>{\r\n      console.log(\"data disableNextAtIndex1 :: \",data);\r\n      this.disableNextAtIndex1=data;\r\n    });\r\n\r\n    //this.customerId = this.ls.getItem('customer_id');\r\n    this.documentForm.valueChanges.subscribe(data => {\r\n      if (data.doc_list.length > 0) {\r\n        console.log(\"data.doc_list.length\", data.doc_list.length);\r\n        this.selectedOptions2 = [];\r\n        data.doc_list.forEach((element, index) => {\r\n          this.selectedOptions2.push(element.documentType);\r\n        });\r\n      }\r\n\r\n    })\r\n    this.api.getKycDataFetchedInfo()\r\n      .subscribe(data => {\r\n        this.documentForm = this.fb.group({\r\n          documentsList: this.fb.array([this.createItem()]),\r\n          doc_list: (data === 'DATA FETCH') ? this.fb.array([]) : this.fb.array([this.createDocItem()]),\r\n          id: [\"\"],\r\n          upload: [\"\", [Validators.required]],\r\n        });\r\n        if (data === 'DATA FETCH') {\r\n          this.dataFetched = true;\r\n          this.dataFetchedValue = data;\r\n        }\r\n        else {\r\n          this.dataFetched = false;\r\n        }\r\n      })\r\n      this.disableNext=true;\r\n      //console.log(item.value);\r\n  }\r\n  addCustomer(){\r\n    this.docarr.push(this.inititemrows(''));\r\n  }\r\n  addCust(){\r\n    this.docarr.push(this.inititemrows(''));\r\n  }\r\n  inititemrows(item){\r\n    return this.fb.group({\r\n      id: item ? item.id : [''],\r\n     \r\n      fileUrl: item ? item.fileUrl : [''],\r\n    })\r\n  }\r\n  addDocumentlist(data:any) {\r\n    this.newOtherPage=false;\r\n    this.disableNext=true;\r\n    for(let i=0;i<= data.data.length-1;i++){\r\n    //this.doc_list = this.documentForm.get('doc_list') as FormArray;\r\n    this.documentsList = this.documentForm.get('documentsList') as FormArray;\r\n    this.documentsList.push(this.createItem());\r\n    this.doc_list.push(this.createDocItem());\r\n    }\r\n  }\r\n\r\n  addDocuments() {\r\n    this.newOtherPage=false;\r\n    this.disableNext=true;\r\n    //this.doc_list = this.documentForm.get('doc_list') as FormArray;\r\n    this.documentsList = this.documentForm.get('documentsList') as FormArray;\r\n    this.documentsList.push(this.createItem());\r\n    this.doc_list.push(this.createDocItem());\r\n  }\r\n  \r\n  createDocItem() {\r\n    return this.fb.group({\r\n      documentName: [\"\", [Validators.required]],\r\n      frontSide: [\"\", [Validators.required]],\r\n      backSide: [\"\"],\r\n      others: [\"\"],\r\n      fileUrl: [\"\"]\r\n    });\r\n  }\r\n\r\n  createItem() {\r\n    return this.fb.group({\r\n      id: [\"\"],\r\n      documentName: [\"\", Validators.required],\r\n      documentType: [\"\"],\r\n    });\r\n  }\r\n\r\n  assignOCRValues(resp) {\r\n    console.log(resp);\r\n    this.dob = resp.dob;\r\n    this.namePancard = resp.namePancard;\r\n    this.panNumber = resp.panNumber;\r\n    this.frontImageArray[0] = resp.imageOCR;\r\n    //added code\r\n    this.backImageArray[0] = resp.imageOCRBack;\r\n    //added code\r\n    if (resp.imageOCRBack) {\r\n      this.backImageArray[0] = resp.imageOCRBack;\r\n      this.secondBoxArray[0] = true;\r\n      this.address = resp.address;\r\n      this.addressDisplay = true;\r\n      this.progressValBackArray[0] = 100;\r\n    }\r\n    const hasNonEmptyFields = Object.values(resp).some((value) => Boolean(value))\r\n      console.log(\"hasNonEmptyFields\", hasNonEmptyFields)\r\n    if (hasNonEmptyFields) {\r\n      this.documentForm.get('documentName').patchValue('Aadhar card');\r\n      console.log(this.documentForm.get('documentName'));\r\n      this.progressValFrontArray[0] = 100;\r\n      //this.enableAadharReadOnly = true;\r\n      this.disableNext=true;\r\n      this.pancard = true;\r\n    }\r\n  }\r\n\r\n  delete(report, value, i) {\r\n    this.docum_name=report.documentName;\r\n    this.customerId = sessionStorage.getItem(\"customer_id\");\r\n    if (value == 2) {\r\n      this.secondBoxArray[i] = false;\r\n      this.addressDisplay = false;\r\n      this.progressValBackArray[i] = 0;\r\n      this.backImageArray[i] = null;\r\n      this.backSelected = null;\r\n      this.document_side=value;\r\n  \r\n        this.api.deleteCustDoc(this.customerId, this.docum_name, this.document_side).subscribe((data) => {\r\n      });\r\n    }\r\n    if (value == 3) {\r\n      this.thirdBoxArray[i] = false;\r\n      this.progressValOthersArray[i] = 0;\r\n      this.otherImageArray[i] = null;\r\n      this.othersSelected = null;\r\n      this.document_side=value;\r\n    \r\n        this.api.deleteCustDoc(this.customerId, this.docum_name, this.document_side).subscribe((data) => {\r\n      });\r\n    }\r\n    this.disableNext = false;\r\n  }\r\n  getCustomerInformationDetails() {\r\n    this.appApiService.fetchCardCustomersByCardId(this.cardId ,'cardOrigin')\r\n      .subscribe((resp: any) => {\r\n        console.log(resp.data);\r\n        console.log(resp.data.customerId);\r\n        this.docholder=resp.data;\r\n        \r\n        for(let i=0;i<= resp.data.length-1;i++){\r\n          this.getCustomerDocuments(resp.data[i].customerId); \r\n        }\r\n       \r\n        console.log(this.docholder);\r\n        this.addDocumentlist(resp);\r\n        //this.buildCustomerForm(resp);\r\n      }, (err: any) => {\r\n      });\r\n  }\r\n\r\n  deleteOtherDocument(report, i, k){\r\n    this.docum_name=report.documentName;\r\n    this.customerId = sessionStorage.getItem(\"customer_id\");\r\n   this.newDocumentSide=k+4;\r\n    if(this.docarray1[i][k]){\r\n      \r\n    this.docarray1[i].pop();\r\n    this.otherDocumentArray[i][k]=null;\r\n   }\r\n  else{\r\n   }\r\n   this.api.deleteCustDoc(this.customerId, this.docum_name, this.newDocumentSide).subscribe((data) => {\r\n    \r\n  });\r\n\r\n    \r\n  }\r\n\r\n  assignName(name: any) {\r\n    this.name = name.toLowerCase();\r\n  }\r\n  addotherpage(a){\r\n   if(this.docarray1[a]){\r\n    this.docarray1[a].push(this.inititemrows(''));\r\n  }\r\n  else{\r\n    var otherArray=[this.inititemrows('')];\r\nthis.docarray1[a] = otherArray;\r\n  this.otherDocumentArray[a] = [];\r\n  this.progressValOtherDocumentArray[a]=[];\r\n  }\r\n  }\r\n  createOtherForm(item): FormGroup{\r\n    return this.fb.group({\r\n      id: [\"\"],\r\n     // documentType: [\"\", Validators.required],\r\n      fileData: item ? item.fileData : [''],\r\n      fileUrl: item ? item.fileUrl : [''],\r\n    })\r\n  }\r\n\r\n  goNext(){\r\n    this.ls.setItem('CARD_DOCUMENT_STAGE_DONE',true);\r\n    this.ls.setItem('CARD_DOCUMENT_DONE',true);\r\n    this.accountService.refresh.next(); \r\n    this.router.navigate([`/cardaccount/applicationEnrichment/list`]);\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\r\n      `/cardaccount/documentupload/list`,\r\n    ]);\r\n  }\r\n  private trigger: Subject<void> = new Subject<void>();\r\n\r\n  triggerSnapshot(i): void {\r\n    this.trigger.next();\r\n    this.scan1Array[i] = false;\r\n    this.scan2Array[i] = false;\r\n    this.scan3Array[i] = false;\r\n  }\r\n\r\n  callingBox2(i) {\r\n    this.secondBoxArray[i] = true;\r\n    this.disableNext = true;\r\n    //this.enableAadharReadOnly = false;\r\n    console.log(this.secondBoxArray[i]);\r\n  }\r\n\r\n  callingBox3(i) {\r\n    this.thirdBoxArray[i] = true;\r\n    this.disableNext = true;\r\n    this.newOtherPage=true;\r\n    //this.enableAadharReadOnly = false;\r\n  }\r\n\r\n   doOCR(img, docVal, selectedFile, docSideEnum, i) {\r\n    const worker = createWorker({\r\n      logger: m => console.log(m)\r\n    });\r\n    (async () => {\r\n      this.loader.open();\r\n      await worker.load();\r\n      await worker.loadLanguage('eng');\r\n      await worker.initialize('eng');\r\n      const { data: { text } } = await worker.recognize(img);\r\n      this.loader.close();\r\n      if (docSideEnum === 3) {\r\n        this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        return;\r\n      }if (docSideEnum > 3) {\r\n        this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        return;\r\n      }\r\n      if (this.documentForm.value.documentsList[i].documentName === 'Pan card') {\r\n        const panCardDetails = this.panCardParser(text);\r\n        this.nameDoc = panCardDetails.name.toLowerCase();\r\n      }\r\n      if (this.documentForm.value.documentsList[i].documentName == 'Passport') {\r\n        const passbookDetails = this.passportParser(text);\r\n        this.nameDoc = passbookDetails.name.toLowerCase();\r\n        if (!this.nameDoc) {\r\n          this.shotToast(\"The document is not a valid Passport\");\r\n          return;\r\n        }\r\n      }\r\n      if (this.documentForm.value.documentsList[i].documentName == 'Aadhar card' && docSideEnum == '1')\r\n      //if(docSideEnum == '1')\r\n      {\r\n        const aadharDetails = this.aadharParser(text);\r\n        this.nameDoc = aadharDetails.fullName.toLowerCase();\r\n        let result = /^([a-z]){2,30}$/.test(this.nameDoc.replace(/\\s/g, \"\"));\r\n        if (result === false) {\r\n          // this.shotToast(\"Name in the document: \" + aadharDetails.fullName + \" is invalid\");\r\n          this.shotToast(\"The document is not a valid Aadhar card\");\r\n          return;\r\n        }\r\n      }\r\n      if (this.documentForm.value.documentsList[i].documentName == 'Aadhar card' && docSideEnum == '2')\r\n      //if(docSideEnum == '2')\r\n      {\r\n        const aadharDetails = this.aadharParser(text);\r\n        \r\n        let address = text.split(\",\");\r\n        for (let index = 0; index < address.length; index++) {\r\n          address[index] = address[index].replace(/[^a-zA-Z ]/g, \"\");\r\n          console.log(\"array after removing special characters \", address[index])\r\n        }\r\n        // console.log(\"array after removing special characters \",address)\r\n        if (address[2] === undefined) {\r\n          address[2] = '';\r\n        }\r\n        if (address[5] === undefined) {\r\n          address[5] = '';\r\n        }\r\n        if (address[6] === undefined) {\r\n          address[6] = '';\r\n        }\r\n        if (address[7] === undefined) {\r\n          address[7] = '';\r\n        }\r\n        if (address[2] === undefined && address[5] === undefined && address[6] === undefined && address[7] === undefined) {\r\n          this.addressDisplay = false;\r\n          return;\r\n        }\r\n        if (address[2] === '' && address[5] === '' && address[6] === '' && address[7] === '') {\r\n          this.addressDisplay = false;\r\n          return;\r\n        }\r\n        // this.addressArray[i] = address[2] + \",\" + address[5] + \",\" + address[6] + \",\" + address[7];\r\n        this.addressArray[i] = address[3] + \",\" + address[5] + \",\" + address[7] ;\r\n        this.addressDisplay = true;\r\n        this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        // this.backImageArray[i] = img;\r\n      }\r\n    \r\n      console.log(text.includes(this.name));\r\n      this.ocrFlag = text.includes(this.name);\r\n\r\n      if (docSideEnum == '1' && (this.nameDoc.replace(/\\s/g, \"\") !== this.name.replace(/\\s/g, \"\"))) {\r\n       \r\n        this.dialogService.confirmationDialog(this.nameDoc, this.name).subscribe((response) => {\r\n          console.log(response)\r\n          if (response == \"No\") {\r\n            this.changeValue2_Ocr(docVal, i);\r\n          }\r\n          if (response == \"Yes\") {\r\n\r\n            if (this.documentForm.value.documentsList[i].documentName == 'Pan card') {\r\n              const panCardDetails = this.panCardParser(text);\r\n              this.nameOnCard[i] = panCardDetails.name.toLowerCase();\r\n              this.dobArray[i] = panCardDetails.dateOfBirth;\r\n              this.idNumberArray[i] = panCardDetails.panNumber;\r\n              this.pancard = true;\r\n              this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n            }\r\n            if (this.documentForm.value.documentsList[i].documentName == 'Passport') {\r\n              const passbookDetails = this.passportParser(text);\r\n              this.nameOnCard[i] = passbookDetails.name.toLowerCase();\r\n              this.dobArray[i] = passbookDetails.dob;\r\n              this.idNumberArray[i] = passbookDetails.issueNoString;\r\n              this.dateOfIssue = passbookDetails.dateOfIssue;\r\n              this.dateOfExpiry = passbookDetails.dateOfExpiry;\r\n              this.pancard = true;\r\n              this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n            }\r\n            if (this.documentForm.value.documentsList[i].documentName == 'Aadhar card') {\r\n              const aadharDetails = this.aadharParser(text);\r\n              this.nameOnCard[i] = aadharDetails.fullName.toLowerCase();\r\n              this.dobArray[i] = aadharDetails.dob;\r\n              this.idNumberArray[i] = aadharDetails.adharNumber;\r\n              this.pancard = true;\r\n              this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n            }\r\n            else{\r\n              this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n            }\r\n\r\n          }\r\n        });\r\n\r\n      }\r\n      else if (docSideEnum == '1' && (this.nameDoc.replace(/\\s/g, \"\") == this.name.replace(/\\s/g, \"\"))) {\r\n        if (this.documentForm.value.documentsList[i].documentName == 'Pan card') {\r\n          const panCardDetails = this.panCardParser(text);\r\n          this.nameOnCard[i] = panCardDetails.name.toLowerCase();\r\n          this.dobArray[i] = panCardDetails.dateOfBirth;\r\n          this.idNumberArray[i] = panCardDetails.panNumber;\r\n          this.pancard = true;\r\n          this.uploadDoc(img,selectedFile, docVal, docSideEnum, i);\r\n        }\r\n        if (this.documentForm.value.documentsList[i].documentName == 'Passport') {\r\n          const passbookDetails = this.passportParser(text);\r\n          this.nameOnCard[i] = passbookDetails.name.toLowerCase();\r\n          this.dobArray[i] = passbookDetails.dob;\r\n          this.idNumberArray[i] = passbookDetails.issueNoString;\r\n          this.dateOfIssue = passbookDetails.dateOfIssue;\r\n          this.dateOfExpiry = passbookDetails.dateOfExpiry;\r\n          this.pancard = true;\r\n          this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        }\r\n        if (this.documentForm.value.documentsList[i].documentName == 'Aadhar card') {\r\n          const aadharDetails = this.aadharParser(text);\r\n          this.nameOnCard[i] = aadharDetails.fullName.toLowerCase();\r\n          this.dobArray[i] = aadharDetails.dob;\r\n          this.idNumberArray[i] = aadharDetails.adharNumber;\r\n          this.pancard = true;\r\n          this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        }\r\n        else{\r\n          this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n        }\r\n      }\r\n      await worker.terminate();\r\n    })();\r\n  }\r\n  aadharParser = (str) => {\r\n    try {\r\n      let adharNumber,\r\n        dob,\r\n        name,\r\n        nameLineIndex = 2;\r\n      const asciiStr = str.replace(/[^\\x00-\\x7F]/g, \"\").trim();\r\n      const lines = asciiStr.split(\"\\n\");\r\n\r\n      for (let i = lines.length - 1; i >= 0; i--) {\r\n        let count = 0,\r\n          startIndex = -1;\r\n        for (let j = 0; j < lines[i].length; j++) {\r\n          if (lines[i][j] >= \"0\" && lines[i][j] <= \"9\") {\r\n            count++;\r\n            if (startIndex === -1) startIndex = j;\r\n          }\r\n        }\r\n        if (count >= 12) {\r\n          adharNumber = lines[i].substr(startIndex, startIndex + 14);\r\n        }\r\n      }\r\n\r\n      for (let i = 0; i < lines.length; i++) {\r\n        [\"DOB\", \"Year of Birth\"].some((docString) => {\r\n          const dobIndex = lines[i].indexOf(docString);\r\n          if (dobIndex !== -1) {\r\n            dob = lines[i]\r\n              .trim()\r\n              .slice(dobIndex, lines[i].length)\r\n              .split(\" \")\r\n              .pop();\r\n            nameLineIndex = i - 1;\r\n            console.log(dob);\r\n          }\r\n        });\r\n      }\r\n\r\n      const names = lines[nameLineIndex]\r\n        .split(\" \")\r\n        .filter((x) => x.length > 1)\r\n        .join(\" \");\r\n      console.log(names);\r\n      return {\r\n        dob,\r\n        adharNumber,\r\n        fullName: names,\r\n      };\r\n    } catch (error) {\r\n      console.log(error);\r\n      console.error(\"Unable to parse aadhar\");\r\n    }\r\n  };\r\n\r\n  handleImage(webcamImage: WebcamImage, i): void {\r\n    this.webcamImage = webcamImage;\r\n    this.fun(this.webcamImage, i);\r\n  }\r\n  handleImage1(webcamImage: WebcamImage, i): void {\r\n    this.webcamImage1 = webcamImage;\r\n    this.fun1(this.webcamImage1, i);\r\n  }\r\n\r\n  isDocumentOptionDisabled2 = (value) => {\r\n    return this.selectedOptions2.includes(value);\r\n  }\r\n\r\n  changeValue2(value:any, i) {\r\n    this.disableNext=true;\r\n    if (this.selectedDocumentTypes2[i]) {\r\n      this.selectedOptions2 = this.selectedOptions2.filter(val => val !== this.selectedDocumentTypes2[i])\r\n    }\r\n    this.selectedDocumentTypes2[i] = value;\r\n    this.selectedOptions2.push(value);\r\n\r\n    this.secondBoxArray[i] = false;\r\n    this.thirdBoxArray[i] = false;\r\n    this.frontImageArray[i] = '';\r\n    this.backImageArray[i] = '';\r\n    this.otherImageArray[i] = '';\r\n    this.backSelected = '';\r\n    this.frontSelected = '';\r\n    this.othersSelected = '';\r\n    this.progressValFrontArray[i] = 0;\r\n    this.progressValBackArray[i] = 0;\r\n    this.pancard = false;\r\n    console.log(\"i=\", i);\r\n  }\r\n  panCardParser = (str) => {\r\n    try {\r\n      const asciiStr = str.replace(/[^\\x00-\\x7F]/g, \"\");\r\n      const startIndex = asciiStr.indexOf(\"Permanent\");\r\n      const nameIndex = asciiStr.indexOf(\"Name\");\r\n\r\n      const panNumber = asciiStr.slice(startIndex, nameIndex).match(\"[A-Z]{5}[0-9]{4}[A-Z]{1}\")[0]; // Returns ain,ain,ain\r\n\r\n      const fatherNameIndex = asciiStr.indexOf(\"Father's Name :\");\r\n      //const slicedStr = asciiStr.slice(fatherNameIndex, str.length).split('\\n');\r\n\r\n      const nameString = asciiStr.slice(nameIndex, fatherNameIndex).split(\"\\n\"); // .find(str => str.length > 3);\r\n      const displayName = nameString[1].split(\" \");\r\n      const dobString = asciiStr.slice(asciiStr.indexOf(\"Date of Birth\"), asciiStr.length);\r\n      const dob = dobString.split(\"\\n\")[1].split(\" \")[0];\r\n      return {\r\n        panNumber,\r\n        name: `${displayName[0]} ${displayName[1]}`,\r\n        dateOfBirth: dob\r\n\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      console.error(\"Unable to parse pan card\");\r\n      this.snack.open('Please Upload Valid Document', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    }\r\n  };\r\n\r\n  passportParser = (str) => {\r\n    try {\r\n      let dateOfIssue, dateOfExpiry;\r\n      const asciiStr = str.replace(/[^\\x00-\\x7F]/g, \"\");\r\n      const nameIndex = asciiStr.indexOf(\"Given Name\");\r\n      const lines = asciiStr.slice(nameIndex, asciiStr.length).split(\"\\n\");\r\n      const doIssueIndex =\r\n        lines.findIndex((line) => line.indexOf(\"Date of Issue\") > -1) + 1;\r\n      if (doIssueIndex > 0) {\r\n        const dates = lines[doIssueIndex].split(\" \");\r\n        dateOfIssue = dates[dates.length - 2];\r\n        dateOfExpiry = dates[dates.length - 2];\r\n      }\r\n\r\n      const nationalityIndex = asciiStr.indexOf(\"Nationality\");\r\n      const dob = asciiStr\r\n        .slice(nationalityIndex, asciiStr.length)\r\n        ?.split(\"\\n\")[1]\r\n        .split(\" \")\r\n        .pop();\r\n\r\n      let issueNoString;\r\n      const issueNoStringArray = asciiStr.trim().split(\"\\n\");\r\n      for (let i = issueNoStringArray.length - 1; i >= 0; i--) {\r\n        if (issueNoStringArray[i].includes(\"<\")) {\r\n          issueNoString = issueNoStringArray[i].substr(\r\n            0,\r\n            issueNoStringArray[i].indexOf(\"<\")\r\n          );\r\n          break;\r\n        }\r\n      }\r\n\r\n      return {\r\n        dob,\r\n        name: lines[1],\r\n        issueNoString,\r\n        dateOfIssue,\r\n        dateOfExpiry,\r\n      };\r\n    } catch (error) {\r\n      console.error(\"Unable to parse passport\");\r\n    }\r\n  };\r\n\r\n\r\n  changeValue2_Ocr(docVal, i) {\r\n    if (docVal === 'frontSide') {\r\n      this.frontImageArray[i] = '';\r\n      this.frontSelected = '';\r\n      this.progressValFrontArray[i] = 0;\r\n    }\r\n    if (docVal === 'backSide') {\r\n      this.secondBoxArray[i] = false;\r\n      this.backImageArray[i] = '';\r\n      this.backSelected = '';\r\n      this.progressValBackArray[i] = 0;\r\n    }\r\n    if (docVal === 'others') {\r\n      this.thirdBoxArray[i] = false;\r\n      this.otherImageArray[i] = '';\r\n      this.othersSelected = '';\r\n      this.progressValOthersArray[i] = 0;\r\n      //this.enableAadharReadOnly = true;\r\n      this.disableNext=true;\r\n    }\r\n  }\r\n  j(arg0: string, j: any) {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n\r\n  handleImage2(webcamImage: WebcamImage, i): void {\r\n    console.log(i);\r\n    this.webcamImage2 = webcamImage;\r\n    this.function2(this.webcamImage2, i);\r\n  }\r\n  function2(webcamImage, i) {\r\n    console.log(i);\r\n    const cId: string = this.customerId;\r\n    const uploadData2 = new FormData();\r\n    const data = {\r\n      customerId: this.refreshCustomerId,\r\n      documentName: this.documentForm.value.documentName,\r\n      documentType: \"3\",\r\n      fileType: webcamImage._mimeType,\r\n      fileName: \"doc\",\r\n      verificationType: \"KYC verification\",\r\n      documentSide: 3,\r\n      idNumber: this.panNumber\r\n    };\r\n    console.log(webcamImage.imageAsDataUrl);\r\n    this.otherImageArray[i] = webcamImage.imageAsDataUrl;\r\n    // this.doOCR(this.imageURL2);\r\n    this.displayVal2 = false;\r\n    let file = this.dataURLtoFile(webcamImage.imageAsDataUrl, \"Aadhar\");\r\n\r\n    uploadData2.append(\"data\", JSON.stringify(data));\r\n\r\n    uploadData2.append(\"file\", file);\r\n    this.tokenService.upload(uploadData2).subscribe(\r\n      (res: any) => {\r\n        this.progressValOthersArray[i] = 100;\r\n        if (res.type === 4) {\r\n          if (res.body) {\r\n            console.log(\"res.body.id\", res.body.id);\r\n            this.assignIdValues(\"others\", res.body.id);\r\n          }\r\n        }\r\n        this.documentForm.get(\"backSide\").patchValue(true);\r\n      }, (error) => {\r\n        if (error.status == 201) {\r\n          this.ff = true;\r\n          this.documentForm.get(\"backSide\").patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  public get triggerObservable(): Observable<void> {\r\n    return this.trigger.asObservable();\r\n  }\r\n\r\n  tabClick(event: MatTabChangeEvent) {\r\n    const tab = event.tab.textLabel;\r\n\r\n    if (tab === \"Documents Upload\") {\r\n      this.router.navigateByUrl(\"/others/documents\");\r\n    }\r\n    if (tab === \"verification\") {\r\n      this.router.navigateByUrl(\"/others/verification\");\r\n    }\r\n    if (tab === \"Basic Information\") {\r\n      this.router.navigateByUrl(\"/others/kyc\");\r\n    }\r\n  }\r\n  onNext(documentForm) {\r\n   \r\n    this.documentForm.reset();\r\n    this.tokenService.setIndex({\r\n      index: 2,\r\n      // index: 0,\r\n    });\r\n    this.tokenService.setFinishFlag({\r\n    //finishFlag: false,\r\n    finishFlag: true,\r\n    });\r\n    //this.documentForm.reset();\r\n\r\n    this.updateKycStatus();\r\n    localStorage.setItem('page_id', '2');\r\n  }\r\n\r\n  getCustomerDocuments(cId) {\r\n    for (const key in this.document_type) {\r\n      if (Object.prototype.hasOwnProperty.call(this.document_type, key)) {\r\n        const element = this.document_type[key];\r\n        console.log(element, key, cId);\r\n      this.tokenService.getCustomerDocuments(cId, element)\r\n      .subscribe((data) => {\r\n        console.log(key, data, this.documentForm);\r\n        this.customerDocs = data;\r\n        this.docuNameArray=[\"Aadhar card\",\"Pan card\",\"Passport\"];\r\n        console.log(this.documentForm.controls.documentsList['controls']);\r\n        this.documentForm.controls.documentsList['controls'][0].controls.documentName.setValue(this.docuNameArray[0]); \r\n        //this.documentForm.get('documentName').patchValue(this.frontImage.documentName);\r\n\r\n   this.doc_name=[\"Aadhar card\",\"Pan card\",\"Passport\"];\r\n\r\n   for(let j=0; j<this.customerDocs.length; j++)  \r\n     {\r\n        if(this.customerDocs[j])\r\n        {\r\n          console.log(this.customerDocs[j].documentName);\r\n          for(let i=0; i<3; i++)\r\n          { \r\n            if(this.customerDocs[j].documentName==this.doc_name[i] && this.customerDocs[j].documentSide==1)\r\n               {  this.frontImageArray[i]=this.customerDocs[j].fileUrl;\r\n                this.progressValFrontArray[i]=100;\r\n                  console.log(\"index\",i)\r\n                 }  \r\n          }\r\n         for(let i=0; i<3; i++)\r\n          { \r\n           if(this.customerDocs[j].documentName==this.doc_name[i] && this.customerDocs[j].documentSide==2)\r\n             {  this.backImageArray[i]=this.customerDocs[j].fileUrl;\r\n              this.progressValBackArray[i] = 100;\r\n                this.secondBoxArray[i] = true; \r\n               }  \r\n          }\r\n         for(let i=0; i<3; i++)\r\n          {        \r\n          if(this.customerDocs[j].documentName==this.doc_name[i] && this.customerDocs[j].documentSide==3)\r\n             {  this.otherImageArray[i]=this.customerDocs[j].fileUrl;\r\n              this.progressValOthersArray[i] = 100;\r\n                this.thirdBoxArray[i] = true;\r\n               }  \r\n          }\r\n          for(let i=0; i<3; i++)\r\n          {        \r\n          if(this.customerDocs[j].documentName==this.doc_name[i] && this.customerDocs[j].documentSide>3)\r\n             { \r\n               \r\n               this.fetchChildIndex=this.customerDocs[j].documentSide-4;\r\n\r\n            this.newOtherPage=true;\r\n              if(this.docarray1[i]){\r\n               this.docarray1[i].push(this.inititemrows(''));\r\n               \r\n             }\r\n             else{\r\n               var otherArray=[this.inititemrows('')];\r\n           this.docarray1[i] = otherArray;\r\n             this.otherDocumentArray[i] = [];\r\n             }\r\n            this.otherDocumentArray[i][this.fetchChildIndex]=this.customerDocs[j].fileUrl;\r\n            console.log(\"this.otherDocumentArray\",this.otherDocumentArray);\r\n\r\n               }  \r\n          }\r\n        }\r\n        this.disableNext=false;\r\n      }\r\n\r\n     if (this.customerDocs.length > 0) \r\n     {\r\n     \r\n       \r\n        this.page_id=this.ls.getItem('page_id');\r\n        console.log(this.page_id);\r\n        if(this.customerDocs[0].documentName==\"Pan card\" && this.page_id !== 2)\r\n        {\r\n          let element2:HTMLElement = document.getElementById('auto_trigger') as HTMLElement;  \r\n          if(element2){\r\n            console.log(element2);\r\n            element2.click();\r\n            }\r\n            this.disableNext=false;\r\n        } \r\n        this.documentForm.controls.documentsList['controls'][1].controls.documentName.setValue(this.docuNameArray[1]);\r\n\r\n        if(this.customerDocs[0].documentName==\"Passport\" && this.page_id !== 2)\r\n        {\r\n          let element3:HTMLElement = document.getElementById('auto_trigger') as HTMLElement;  \r\n          if(element3){\r\n            console.log(element3);\r\n            element3.click();\r\n            } \r\n            this.disableNext=false;\r\n        }\r\n        this.documentForm.controls.documentsList['controls'][2].controls.documentName.setValue(this.docuNameArray[2]); \r\n\r\n          if (this.frontImage.documentName == 'Pan card') {\r\n            this.panNumber = this.customerDocs.find(item => item.documentSide == 2).idNumber\r\n          }\r\n\r\n          if(this.frontImage.documentName == 'Aadhar card'){\r\n            this.panNumber= this.customerDocs.find(item => item.documentSide == 1).idNumber\r\n          }\r\n          if(this.panNumber){\r\n            this.pancard=true;\r\n          }\r\n\r\n          if (this.frontImage != null) {\r\n            this.progressValFrontArray[0] = 100;\r\n          }\r\n          if (this.backImage != null) {\r\n\r\n            this.progressValBackArray[0] = 100;\r\n          }\r\n          if (this.otherImage != null) {\r\n\r\n            this.progressValOthersArray[0] = 100;\r\n          }\r\n          let payload = {\r\n            documentName: this.customerDocs[0].documentName,\r\n            frontSide: this.customerDocs[0].documentName,\r\n            backSide: this.customerDocs[0].documentName,\r\n          }\r\n          this.documentForm.patchValue(payload);\r\n          console.log(this.customerDocs[0].documentName);\r\n      }\r\n        this.cdr.markForCheck();\r\n        console.log(\"end of api\");\r\n     });\r\n   }\r\n  }\r\n  this.custId = cId\r\n}\r\n  convertBlob(docImage) {\r\n    let objectURL = 'data:image/jpeg;base64,' + docImage;\r\n    let source = this.sanitizer.bypassSecurityTrustUrl(objectURL);\r\n    return source;\r\n  }\r\n\r\n  updateKycStatus() {\r\n    this.tokenService.updateKycStatusByCustId(this.customer_Id, 'UNDER_PROCESS', \"\")\r\n      .subscribe(data => {\r\n        console.log('update response :: ', data)\r\n      })\r\n  }\r\n  previous() {\r\n    // this.documentForm.reset();\r\n    this.tokenService.setIndex({\r\n      index: 0,\r\n    });\r\n  }\r\n  openDialog() {\r\n    const dialogRef = this.dialog.open(CutomerFingerPrintComponent, {\r\n      data: { number: \"9656849771\", type: \"Mobile Number\" },\r\n      disableClose: true,\r\n    });\r\n    dialogRef.afterClosed().subscribe((submit) => {\r\n      \r\n    });\r\n  }\r\n  scan(i) {\r\n    this.scan1Array[i] = true;\r\n    this.scan2Array[i] = false;\r\n    this.scan3Array[i] = false;\r\n    //this.enableAadharReadOnly = true;\r\n    this.disableNext=false;\r\n  }\r\n  scan12(i) {\r\n    this.scan1Array[i] = false;\r\n    this.scan2Array[i] = true;\r\n    this.scan3Array[i] = false\r\n    //this.enableAadharReadOnly = true;\r\n    this.disableNext=false;\r\n  }\r\n  scan13(i) {\r\n    this.scan1Array[i] = false;\r\n    this.scan2Array[i] = false;\r\n    this.scan3Array[i] = true;\r\n    //this.enableAadharReadOnly = true;\r\n    this.disableNext=false;\r\n  }\r\n\r\n  // webcam snapshot trigger\r\n  fun(webcamImage, i) {\r\n    const cId: string = this.customerId;\r\n    const uploadData = new FormData();\r\n    const data = {\r\n      customerId: this.refreshCustomerId,\r\n      documentName: this.documentForm.value.documentName,\r\n      documentType: \"3\",\r\n      fileType: webcamImage._mimeType,\r\n      fileName: \"doc\",\r\n      verificationType: \"KYC verification\",\r\n      documentSide: 1,\r\n      idNumber: this.panNumber\r\n\r\n    };\r\n    this.frontImageArray[i] = webcamImage.imageAsDataUrl;\r\n    // this.doOCR(this.imageURL)\r\n    this.displayVal = false;\r\n    let file = this.dataURLtoFile(webcamImage.imageAsDataUrl, \"Aadhar\");\r\n\r\n    uploadData.append(\"data\", JSON.stringify(data));\r\n\r\n    uploadData.append(\"file\", file);\r\n\r\n    this.tokenService.upload(uploadData).subscribe(\r\n      (res) => {\r\n        this.progressValFrontArray[i] = 100;\r\n        this.documentForm.get(\"frontSide\").patchValue(true);\r\n      },\r\n      (error) => {\r\n        if (error.status == 201) {\r\n          this.bf = true;\r\n          this.documentForm.get(\"frontSide\").patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  fun1(webcamImage, i) {\r\n    console.log(\"inside fun1\")\r\n    const cId: string = this.customerId;\r\n\r\n    const uploadData1 = new FormData();\r\n    const data = {\r\n      customerId: this.refreshCustomerId,\r\n      documentName: this.documentForm.value.documentName,\r\n      documentType: \"3\",\r\n      fileType: webcamImage._mimeType,\r\n      fileName: \"doc\",\r\n      verificationType: \"KYC verification\",\r\n      documentSide: 2,\r\n      idNumber: this.panNumber\r\n    };\r\n    this.backImageArray[i] = webcamImage.imageAsDataUrl;\r\n    // this.doOCR(this.imageURL1);\r\n    this.displayVal1 = false;\r\n    let file = this.dataURLtoFile(webcamImage.imageAsDataUrl, \"Aadhar\");\r\n\r\n    uploadData1.append(\"data\", JSON.stringify(data));\r\n\r\n    uploadData1.append(\"file\", file);\r\n\r\n    this.tokenService.upload(uploadData1).subscribe(\r\n      (res: any) => {\r\n        this.progressValBackArray[i] = 100;\r\n        if (res.type === 4) {\r\n          if (res.body) {\r\n            console.log(\"res.body.id\", res.body.id);\r\n            this.assignIdValues(\"backSide\", res.body.id);\r\n          }\r\n        }\r\n        this.documentForm.get(\"backSide\").patchValue(true);\r\n      }, (error) => {\r\n        if (error.status == 201) {\r\n          this.ff = true;\r\n          this.documentForm.get(\"backSide\").patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  dataURLtoFile(dataurl, filename) {\r\n    var arr = dataurl.split(\",\"),\r\n      mime = arr[0].match(/:(.*?);/)[1],\r\n      bstr = atob(arr[1]),\r\n      n = bstr.length,\r\n      u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, { type: mime });\r\n  }\r\n  assign(id) {\r\n    this.customerId = id;\r\n  }\r\n\r\n  onUpload(event, docVal, docSideEnum, i,customerId) {\r\n    console.log(customerId);\r\n    this.newDocumentSide=docSideEnum;\r\n    this.childindex=docSideEnum-4;\r\n    console.log(event, docVal, docSideEnum);\r\n    if (docVal === 'frontSide') {\r\n      this.progressValFrontArray[i] = 0;\r\n    }\r\n    if (docVal === 'backSide') {\r\n      this.progressValBackArray[i] = 0;\r\n    }\r\n    if (docVal === 'others') {\r\n      this.progressValOthersArray[i] = 0;\r\n    }\r\n    this.selectedFiles = event.target.files[0];\r\n    let size = event.target.files[0].size;\r\n    this.shotToast(`Your file size is ${this.formatBytes(size, 2)}`);\r\n    if (event.target.files) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      reader.onload = (event: any) => {\r\n        this.image = event.target.result;\r\n        if (docVal === 'backSide') {\r\n          this.backSelected = this.selectedFiles.name;\r\n          //this.backImageArray[i] = this.image;\r\n          this.doOCR(this.image, docVal, this.selectedFiles, docSideEnum, i);\r\n          this.displayVal1 = true;\r\n        }\r\n        if (docVal === 'frontSide') {\r\n          this.frontSelected = this.selectedFiles.name;\r\n          //this.frontImageArray[i] = this.image;\r\n          // this.doOCR(this.frontImageArray[i], docVal, this.selectedFiles, docSideEnum, i);\r\n          this.doOCR(this.image, docVal, this.selectedFiles, docSideEnum, i);\r\n          this.displayVal = true;\r\n        }\r\n        if (docVal === 'others') {\r\n          this.othersSelected = this.selectedFiles.name;\r\n          this.doOCR(this.image, docVal, this.selectedFiles, docSideEnum, i);\r\n          this.displayVal2 = true;\r\n          // this.documentSide = 1;\r\n        }\r\n        if(docVal === 'otherDocument'){\r\n          this.otherDocumentSelected = this.selectedFiles.name;\r\n         if(this.otherDocumentArray[i][this.childindex]){\r\n          \r\n        this.otherDocumentArray[i][this.childindex]=this.image;\r\n       }\r\n      else{\r\n      \r\n        var otherArray=[this.image];\r\n         this.otherDocumentArray[i][this.childindex] = this.image;\r\n        \r\n       }\r\n       console.log(\"final document\", this.docarray1)\r\n         \r\n          this.doOCR(this.otherDocumentArray[i][this.childindex], docVal, this.selectedFiles, docSideEnum, i);\r\n          //this.displayVal2 = true;\r\n        }\r\n      }\r\n    }\r\n    \r\n    this.disableNext = false;\r\n  }\r\n\r\n\r\n  formatBytes(bytes, decimals) {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n  }\r\n\r\n\r\n  uploadDoc(img, url, docVal, documnetSideValue, i) {\r\n    this.childindex=documnetSideValue-4;\r\n    console.log(\"URL ---- \", url);\r\n    const cId: string = this.customerId;\r\n    const uploadData = new FormData();\r\n    if(this.documentForm.value.documentsList[i].documentName==='Aadhar card')\r\n    { \r\n      this.docType='6';\r\n    }\r\n    if(this.documentForm.value.documentsList[i].documentName==='Pan card')\r\n    { \r\n      this.docType='7';\r\n    }\r\n    if(this.documentForm.value.documentsList[i].documentName==='Passport')\r\n    {\r\n      this.docType='8';\r\n    }\r\n\r\n    const data = {\r\n      // customerId: this.refreshCustomerId,\r\n      customerId: this.docholder[i].customerId,\r\n      //documentName: this.documentForm.value.documentName,\r\n      documentName: this.documentForm.value.documentsList[i].documentName,\r\n      documentType: this.docType,\r\n      fileType: url.type,\r\n      fileName: url.name,\r\n      verificationType: \"KYC verification\",\r\n      documentSide: documnetSideValue,\r\n      idNumber: this.panNumber,\r\n      name: this.namePancard,\r\n      dob: this.dob\r\n    };\r\n    uploadData.append(\"data\", JSON.stringify(data));\r\n    uploadData.append(\"file\", url);\r\n    console.log(\"URL -- \", url.name, data, uploadData);\r\n    this.uploadSub = this.tokenService.upload(uploadData)\r\n      .subscribe((res: any) => {\r\n        console.log(\"Response -- \", res);\r\n        if (docVal === 'backSide') {\r\n          if (res.type) {\r\n            if (res.type == HttpEventType.UploadProgress) {\r\n              this.progressValBackArray[i] = Math.round(100 * (res.loaded / res.total));\r\n              this.backImageArray[i] = img;\r\n            }\r\n            // else if (res.type == HttpEventType.Response) {\r\n            //   this.progressValBack = 0;\r\n            // }\r\n          }\r\n        } else if ((docVal === 'frontSide')) {\r\n          if (res.type) {\r\n            if (res.type == HttpEventType.UploadProgress) {\r\n              this.progressValFrontArray[i] = Math.round(100 * (res.loaded / res.total));\r\n              this.frontImageArray[i] = img;\r\n            }\r\n            // else if (res.type == HttpEventType.Response) {\r\n            //   this.progressValFront = 0;\r\n            // }\r\n          }\r\n        }\r\n        else if ((docVal === 'others')) {\r\n          if (res.type) {\r\n            if (res.type == HttpEventType.UploadProgress) {\r\n              this.progressValOthersArray[i] = Math.round(100 * (res.loaded / res.total));\r\n              console.log(\"uploadProgress others\", this.progressValOthersArray[i]);\r\n              this.otherImageArray[i] = img;\r\n            }\r\n          }\r\n         \r\n        }\r\n        else{\r\n\r\n        }\r\n        if (res.body) {\r\n\r\n          console.log(\"res.body.id\", res.body.id);\r\n          this.assignIdValues(docVal, res.body.id);\r\n          this.documentForm.get(docVal).patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      },\r\n        (error: any) => {\r\n          if (error.status == 201) {\r\n            this.documentForm.get(docVal).patchValue(true);\r\n            this.shotToast(\"Document Uploaded!\");\r\n          } else {\r\n            if (docVal === 'backSide') {\r\n              this.progressValBackArray[i] = 0;\r\n              this.backImageArray[i] = null;\r\n              this.backSelected = null;\r\n              this.shotToast(error.message);\r\n            } else {\r\n              this.progressValFrontArray[i] = 0;\r\n              this.frontImageArray[i] = null;\r\n              this.frontSelected = null;\r\n              this.shotToast(error.message);\r\n            }\r\n          }\r\n        }\r\n    );\r\n  }\r\n\r\n  assignIdValues(docVal: any, id: any) {\r\n    console.log(docVal);\r\n    if (docVal === 'backSide') {\r\n\r\n      this.backSideId = id;\r\n    }\r\n    if (docVal === 'others') {\r\n      this.otherSideId = id;\r\n    }\r\n    if (docVal === 'otherDocument') {\r\n      this.otherDocumentSideId = id;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.shareDataService.shareCustomerId(null);\r\n  }\r\n\r\n  cancelUpload(sideType: string) {\r\n    this.uploadSub.unsubscribe();\r\n    this.shotToast(\"Document Uploaded Cancelled!\");\r\n    if (sideType == 'backSide') {\r\n      this.progressValBackArray[0] = 0;\r\n      this.backImageArray[0] = null;\r\n      this.backSelected = null;\r\n    } else {\r\n      this.progressValFrontArray[0] = 0;\r\n      this.frontImageArray[0] = null;\r\n      this.frontSelected = null;\r\n    }\r\n  }\r\n  \r\n  shotToast(msg: string) {\r\n    this.snack.open(`${msg}`, \"OK\", {\r\n      duration: 6000,\r\n      verticalPosition: \"top\",\r\n      horizontalPosition: \"right\",\r\n    });\r\n  }\r\n\r\n  deleteDocument(report,index)\r\n  {\r\n    console.log(this.customerId, report, index);\r\n    this.customerId=this.ls.getItem('customerId');\r\n\r\n    const deleteRecord = this.documentForm.get('documentsList') as FormArray;\r\n    console.log(deleteRecord);\r\n    deleteRecord.removeAt(index);\r\n\r\n    this.api.delCustDoc(this.customerId, report.documentName).subscribe((data) => {\r\n    console.log(\"data after delete\",data);\r\n      });\r\n  }\r\n\r\nnext(){\r\n  this.router.navigate([`/cardaccount/applicationEnrichment/list`]);\r\n}\r\n\r\nuploadLink(){\r\n  \r\n  this.api.uploadDocLink(LINK_URL,this.custId).subscribe(\r\n    (res: any) => {\r\n      console.log(\"uploadDocLink\",res)\r\n      if(res != \"\" || res == undefined || res != null){\r\n        console.log(\"uploadDocLink\",res)\r\n        const dialogRef = this.dialog.open(SucessMessageComponent, {\r\n          width: \"35%\",\r\n          backdropClass: \"dialog-bg-trans\",\r\n          height: \"50%\",\r\n          disableClose: true,\r\n        });\r\n  \r\n        dialogRef.afterClosed().subscribe((result) => {\r\n          console.log(\"The dialog was closed\", result);\r\n        });\r\n      }\r\n  })\r\n}\r\n}\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\nimport Swal from 'sweetalert2';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n@Component({\r\n  selector: 'app-financial-details',\r\n  templateUrl: './financial-details.component.html',\r\n  styleUrls: ['./financial-details.component.scss']\r\n})\r\nexport class FinancialDetailsComponent implements OnInit {\r\n  cardFinancialDetailsForm:FormGroup;\r\n  arrayEmploymentType: string[];\r\n  arrayEmploymentCategory: string[];\r\n  //formBuilder: any;\r\n  incomeErrMsg: string;\r\n  disableNext: boolean = false;\r\n  ExpensesErrMsg: any;\r\n  LiabilitiesErrMsg: any;\r\n  assetErrMsg: string;\r\n  liabilitiesErrMsg: string;\r\n  expensesErrMsg: string;\r\n  cardId: any;\r\n  showEditOption:boolean=false;\r\n  minDate = new Date();\r\n   maxDate = new Date();\r\n  applicant: any;\r\n  applicantName: any;\r\n  lastData:any;\r\n  currencySymbol: string;\r\n  currencytype: string;\r\n\r\n\r\n  constructor(   private formBuilder: FormBuilder, private api: ApiService,private snack: MatSnackBar, private accountService: AccountService,\r\n    private router: Router,private ls: LocalStoreService, private cdr:ChangeDetectorRef,\r\n   ) { \r\n    this.lastData = new Date().toISOString().slice(0,10);\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    console.log(history.state.amount);\r\n    \r\n    this.cardId = this.ls.getItem('cardId');\r\n    this.currencytype=localStorage.getItem('Currency Type');\r\n    if(this.currencytype===\"INR\"){\r\n      this.currencySymbol=\"\"\r\n    }else if(this.currencytype===\"USD\"){\r\n      this.currencySymbol=\"$\"\r\n    }else if(this.currencytype===\"CNY\"){\r\n      this.currencySymbol=\"\"\r\n    }else if(this.currencytype===\"GBP\"){\r\n      this.currencySymbol=\"\"\r\n    }else if(this.currencytype===\"ZAR\"){\r\n      this.currencySymbol=\"R\"\r\n    }\r\n    // this.cardId=this.ls.getItem(\"cardId\");\r\n   // this.applicant=this.ls.getItem('Card_Applicant_name');\r\n    this.applicantName=this.ls.getItem('primaryCustomerName');\r\n    let isFinancialScreen: boolean = JSON.parse(this.ls.getItem('CARD_FINANCIAL_DONE'));\r\n    this.getEmploymentType(\"fin_employment_type\");\r\n    this.getEmploymentCategory(\"employment_category\");\r\n    // setTimeout(() => {\r\n    //   this.buildFinacialFormGroup();\r\n    // },200);\r\n      \r\n  \r\n    if (this.cardId != null && isFinancialScreen) {\r\n      console.log(\"fggd\");\r\n      \r\n      this.showEditOption = true;\r\n      this.getCardFinancialDetailsSummary();\r\n    } else {\r\n      this.showEditOption = false;\r\n      setTimeout(() =>{\r\n        this.buildFinacialFormGroup();\r\n      },200)\r\n      \r\n    }\r\n\r\n\r\n    // this.createFinancialDetail();\r\n  }\r\n  getCardFinancialDetailsSummary(){\r\n    \r\n    this.api.getCardFinancialDetails(this.cardId)\r\n    .subscribe((result: any) => {\r\n\r\n      console.log(result);\r\n      let index = result.length-1;\r\n      this.buildFinacialFormGroup(result[index]);\r\n    })\r\n  }\r\n  getEmploymentType(key: string) {\r\n    this.api.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayEmploymentType = data;\r\n    });\r\n  }\r\n  getEmploymentCategory(key: string) {\r\n    this.api.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayEmploymentCategory = data;\r\n    });\r\n  }\r\n\r\n  _keyPress(event: any) {\r\n    // console.log(\"key\",event);\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n        event.preventDefault();\r\n    }\r\n   }\r\n   buildFinacialFormGroup(data?) {\r\n     console.log(data);\r\n    this.cardFinancialDetailsForm = this.formBuilder.group({\r\n      // Financial Details\r\n     // applicantName: [this.applicantName, Validators.required],\r\n      applicantName: [data ? data.applicantName : this.ls.getItem('Card_Applicant_name'), Validators.required],\r\n      currentlyWorking: [data ? data.currentlyWorking : ''],\r\n      applicantTotalIncome: [data ? data.applicantTotalIncome : 0, Validators.required],\r\n      applicantTotalExpense: [data ? data.applicantTotalExpense : 0, Validators.required],\r\n      lastUpdatedon: [data && data?.lastUpdatedon ? new Date(data.lastUpdatedon) : ''],\r\n      //limit_end_date: [data ? new Date(data.limit_end_date) : ''],\r\n      \r\n      // Employement Details\r\n      employmentType: [data ? data.employmentType : '', Validators.required],\r\n      employmentCategory: [data ? data.employmentCategory : '', Validators.required],\r\n      employeeNumber: [data ? data.employeeNumber : ''],\r\n      officeName: [data ? data.officeName : ''],\r\n      designation: [data ? data.designation : ''],\r\n      employmentStartDate: [data && data?.employmentStartDate ? new Date(data.employmentStartDate): '', Validators.required],\r\n      employmentEndDate: [data && data?.employmentEndDate ? new Date(data.employmentEndDate): '',],\r\n      \r\n      // Monthly Income\r\n      salary: [data ? data.salary : ''],\r\n      interestIncome: [data ? data.interestIncome : ''],\r\n      bonus: [data ? data.bonus : ''],\r\n      cashGifts: [data ? data.cashGifts : ''],\r\n      business: [data ? data.business : ''],\r\n      pension: [data ? data.pension : ''],\r\n      monthlyIncomeRentals: [data ? data.monthlyIncomeRentals : ''],\r\n      monthlyIncomeOthers: [data ? data.monthlyIncomeOthers : ''],\r\n      monthlyIncomeTotal: [data ? data.monthlyIncomeTotal : 0],\r\n            \r\n      // Monthly Expense\r\n      household: [data ? data.household : ''],\r\n      education: [data ? data.education : ''],\r\n      vehicleMaintenance: [data ? data.vehicleMaintenance : ''],\r\n      monthlyExpenseRentals: [data ? data.monthlyExpenseRentals : ''],\r\n      monthlyExpenseOthers: [data ? data.monthlyExpenseOthers : ''],\r\n      medical: [data ? data.medical : ''],\r\n      travel: [data ? data.travel : ''],\r\n      monthlyExpenseTotal: [data ? data.monthlyExpenseTotal : 0],\r\n      \r\n      // Annual Liability\r\n      propertyLoan: [data ? data.propertyLoan : ''],\r\n      vehicleLoan: [data ? data.vehicleLoan : ''],\r\n      personalLoans: [data ? data.personalLoans : ''],\r\n      overdraft: [data ? data.overdraft : ''],\r\n      cardOutstandings: [data ? data.cardOutstandings : ''],\r\n      liabilityOthers: [data ? data.liabilityOthers : ''],\r\n      liabilityTotal: [data ? data.liabilityTotal : 0],\r\n      \r\n      // Assets\r\n      savingDeposits: [data ? data.savingDeposits : ''],\r\n      properties: [data ? data.properties : ''],\r\n      automobiles: [data ? data.automobiles : ''],\r\n      fixedDeposits: [data ? data.fixedDeposits : ''],\r\n      lands: [data ? data.lands : ''],\r\n      assetOthers: [data ? data.assetOthers : ''],\r\n      stocks: [data ? data.stocks : ''],\r\n      assetTotal: [data ? data.assetTotal : 0],\r\n      \r\n      // accountId; -->need to get from other screens\r\n     // accountId: this.accountId != null ? this.accountId : '',\r\n    }, {validator:(formGroup:FormGroup)=>{\r\n      return this.validateInputGroups(formGroup)\r\n    }\r\n  });\r\n\r\n  }  \r\n  validateInputGroups(formgroup:FormGroup) {\r\n    if(formgroup.controls[\"salary\"].value || formgroup.controls[\"interestIncome\"].value || \r\n    formgroup.controls[\"bonus\"].value || formgroup.controls[\"cashGifts\"].value || \r\n    formgroup.controls[\"business\"].value || formgroup.controls[\"pension\"].value || \r\n    formgroup.controls[\"monthlyIncomeRentals\"].value || formgroup.controls[\"monthlyIncomeOthers\"].value) {\r\n     \r\n      this.incomeErrMsg = null\r\n        this.disableNext = true;\r\n      \r\n    }\r\n    else {\r\n      this.incomeErrMsg = \"Entering any one field is mandatory for Monthly Income Section\";\r\n      this.disableNext = false;\r\n    }\r\n    \r\n    if(formgroup.controls[\"household\"].value || formgroup.controls[\"education\"].value ||\r\n    formgroup.controls[\"vehicleMaintenance\"].value || formgroup.controls[\"monthlyExpenseRentals\"].value ||\r\n    formgroup.controls[\"monthlyExpenseOthers\"].value || formgroup.controls[\"medical\"].value || \r\n    formgroup.controls[\"travel\"].value) {\r\n\r\n      this.ExpensesErrMsg = null;\r\n        this.disableNext = true;\r\n      \r\n    }\r\n    else {\r\n      this.ExpensesErrMsg = \"Entering any one field is mandatory for Monthly Expenses Section\";\r\n      this.disableNext = false;\r\n    }\r\n    \r\n    if(formgroup.controls[\"propertyLoan\"].value || formgroup.controls[\"vehicleLoan\"].value ||\r\n    formgroup.controls[\"personalLoans\"].value || formgroup.controls[\"overdraft\"].value ||\r\n    formgroup.controls[\"cardOutstandings\"].value || formgroup.controls[\"liabilityOthers\"].value) {\r\n      \r\n      this.LiabilitiesErrMsg = null;\r\n        this.disableNext = true;\r\n      \r\n    }\r\n    else {\r\n      this.LiabilitiesErrMsg = \"Entering any one field is mandatory for Annual Liabilities Section\";\r\n      this.disableNext = false;\r\n    }\r\n    \r\n    if(formgroup.controls[\"savingDeposits\"].value || formgroup.controls[\"properties\"].value ||\r\n    formgroup.controls[\"automobiles\"].value || formgroup.controls[\"fixedDeposits\"].value ||\r\n    formgroup.controls[\"lands\"].value || formgroup.controls[\"assetOthers\"].value || \r\n    formgroup.controls[\"stocks\"].value) {\r\n\r\n      this.assetErrMsg = null;\r\n        this.disableNext = true;\r\n      \r\n    }\r\n    else {\r\n      this.assetErrMsg = \"Entering any one field is mandatory for Asset Section\";\r\n      this.disableNext = false;\r\n    }\r\n  }\r\n  \r\n  onSubmit() {\r\n    let startDate = this.converDate(this.cardFinancialDetailsForm.controls.employmentStartDate.value);\r\n    if(startDate && startDate!= \"Invalid date\"){\r\n    console.log(\"startDate\", startDate);\r\n    this.cardFinancialDetailsForm.value['employmentStartDate'] = startDate;\r\n    }else{\r\n      this.cardFinancialDetailsForm.value['employmentStartDate'] = null;\r\n    }\r\n    let endDate = this.converDate(this.cardFinancialDetailsForm.controls.employmentEndDate.value);\r\n    if(endDate && endDate!= \"Invalid date\"){\r\n      console.log(\"startDate\", endDate);\r\n      this.cardFinancialDetailsForm.value['employmentEndDate'] = endDate;\r\n    }else{\r\n      this.cardFinancialDetailsForm.value['employmentEndDate'] = null;\r\n    }\r\n    \r\n    //let lastUpdatedon = this.converDate(this.cardFinancialDetailsForm.controls.lastUpdatedon.value);\r\n    let lastUpdatedon =moment(this.cardFinancialDetailsForm.controls.lastUpdatedon.value).format('YYYY-MM-DD HH:MM:SS');\r\n    console.log(\"lastUpdatedon\",lastUpdatedon)\r\n    if(lastUpdatedon && lastUpdatedon!= \"Invalid date\"){\r\n      console.log(\"startDate\", lastUpdatedon);\r\n      this.cardFinancialDetailsForm.value['lastUpdatedon'] = lastUpdatedon;\r\n    }else{\r\n      this.cardFinancialDetailsForm.value['lastUpdatedon'] = null;\r\n    }\r\n\r\n    this.cardFinancialDetailsForm.value.accountType=\"cardOrigin\";\r\n    this.cardFinancialDetailsForm.value.cardId=this.cardId; \r\n    console.log(\"submit\", this.cardFinancialDetailsForm.value);\r\n    console.log(this.cardFinancialDetailsForm.value)\r\n    var payload: any[]=[];\r\n    payload.push(this.cardFinancialDetailsForm.value)\r\n    console.log(payload);\r\n    // if (!this.cardFinancialDetailsForm.value.applicantName || !this.cardFinancialDetailsForm.value.employmentType || !this.cardFinancialDetailsForm.value.employmentCategory) {\r\n    //   console.log(\"if--->\")\r\n    //   Swal.fire('Please Enter The Mandatory Fields !');\r\n    //   return false;\r\n    // }\r\n    this.api.upsertCardFinancialDetails(payload).subscribe(fincialResp => {\r\n\r\n      console.log(fincialResp);\r\n      this.snack.open('Financial Details Saved!', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n\r\n      // this.ls.setItem('limitEntryStage', 'true');\r\n      // this.ls.setItem('LIMIT_FIN_DONE', true);\r\n      //  this.accountService.refresh.next();\r\n       this.next();\r\n      // limit-entry-stage/view-summary\r\n      //this.router.navigate([`/home/application/enrichment/list`, this.accountId]);\r\n\r\n    }, err => {\r\n      this.snack.open('Error Unable to Save!', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    })\r\n\r\n  }\r\n  goBack(){\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/customerInformation`]);\r\n  }\r\n  next(){\r\n    this.ls.setItem('CARD_FINANCIAL_DONE', true)\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/cardPrefrence`]);\r\n   \r\n  }\r\n  converDate(value) {\r\n    // let date = moment(value).format('YYYY-MM-DDThh:mm:ss');\r\n    let date = moment(value).format('YYYY-MMM-DD');\r\n    console.log(\"date\", date);\r\n    if (date)\r\n      return date;\r\n  }\r\n  letterOnly(event) {\r\n    var charCode = event.keyCode;\r\n            if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n                return true;\r\n            else\r\n                return false;\r\n  }\r\n  // Total Monthly Income\r\n  calculateTotalMonthlyIncome(value) {\r\n    let income:number = Number(value.salary) + Number(value.business) + \r\n    Number(value.interestIncome) + Number(value.pension) + \r\n    Number(value.bonus) + Number(value.monthlyIncomeOthers) + \r\n    Number(value.monthlyIncomeRentals) + Number(value.cashGifts);\r\n    \r\n    // this.cardFinancialDetailsForm.controls.monthlyIncome.get('monthlyIncomeTotal').setValue(income);\r\n    this.cardFinancialDetailsForm.controls.monthlyIncomeTotal.setValue(income);\r\n    this.cdr.markForCheck();\r\n    this.cdr.detectChanges();\r\n\r\n    this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value);\r\n  }\r\n\r\n  // Total Monthly Expense\r\n  calculateTotalMonthlyExpenses(value) {\r\n    let expense:number = Number(value.household) + Number(value.education) + \r\n      Number(value.vehicleMaintenance) + Number(value.monthlyExpenseOthers) + \r\n      Number(value.medical) + Number(value.travel) + \r\n      Number(value.monthlyExpenseRentals);\r\n\r\n    // this.cardFinancialDetailsForm.controls.monthlyExpense.get('monthlyExpenseTotal').setValue(expense);\r\n    this.cardFinancialDetailsForm.controls.monthlyExpenseTotal.setValue(expense);\r\n    this.cdr.markForCheck();\r\n    this.cdr.detectChanges();\r\n\r\n    this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value);\r\n  }\r\n\r\n  // Total Liabilities\r\n  calculateTotalLiabilities(value) {\r\n    let liability:number = Number(value.propertyLoan) + Number(value.personalLoans) + \r\n    Number(value.overdraft) + Number(value.vehicleLoan) + \r\n    Number(value.cardOutstandings) + Number(value.liabilityOthers);\r\n\r\n    // this.cardFinancialDetailsForm.controls.annualLiability.get('liabilityTotal').setValue(liability);\r\n    this.cardFinancialDetailsForm.controls.liabilityTotal.setValue(liability);\r\n    this.cdr.markForCheck();\r\n    this.cdr.detectChanges();\r\n    \r\n    this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value);\r\n  }\r\n\r\n  // Total Assets\r\n  calculateTotalAssets(value) {\r\n    let asset:number = Number(value.savingDeposits) + Number(value.properties) + \r\n    Number(value.fixedDeposits) + Number(value.stocks) + \r\n    Number(value.automobiles) + Number(value.lands) + Number(value.assetOthers);\r\n\r\n    // this.cardFinancialDetailsForm.controls.assets.get('assetTotal').setValue(asset);\r\n    this.cardFinancialDetailsForm.controls.assetTotal.setValue(asset);\r\n    this.cdr.markForCheck();\r\n    this.cdr.detectChanges();\r\n    \r\n    this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value);\r\n  }\r\n\r\n  // Total Income, Expense and Final Total\r\n  calculateTotalIncomeAndExpense(value) {\r\n\r\n    let totalIncome:number = value.monthlyIncomeTotal + value.assetTotal;\r\n    let totalExpense:number = value.monthlyExpenseTotal + value.liabilityTotal;\r\n\r\n    this.cardFinancialDetailsForm.controls.applicantTotalIncome.setValue(totalIncome);\r\n    this.cardFinancialDetailsForm.controls.applicantTotalExpense.setValue(totalExpense);\r\n    this.cdr.markForCheck();\r\n    this.cdr.detectChanges();\r\n   }\r\n\r\n}\r\n","<div class=\"matcard-size\">\r\n<div fxLayout=\"row\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img\r\n        src=\"assets/images/svg/MaskGroup_2.svg\"\r\n        alt=\"\"\r\n        class=\"w-90\"\r\n      />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\">Financial Details</div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div>\r\n  <form  *ngIf=\"cardFinancialDetailsForm\" [formGroup]=\"cardFinancialDetailsForm\">\r\n    <div fxLayout=\"row\">\r\n      <div fxFlex=\"100\">\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title>\r\n            <fieldset>\r\n            <legend visible=\"true\">Financial Details</legend>\r\n            </fieldset>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Applicant Name</mat-label>\r\n                    <input\r\n                      matInput\r\n                      formControlName=\"applicantName\"\r\n                      \r\n                      placeholder=\"Applicant Name\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total Income*</mat-label>\r\n                    <span matPrefix>{{currencySymbol}}&nbsp;</span>\r\n                    <input\r\n                      matInput\r\n                      type=\"number\"\r\n                      \r\n                      formControlName=\"applicantTotalIncome\"\r\n                      placeholder=\"Total Income\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Last Update On</mat-label>\r\n                    <input\r\n                      matInput\r\n                      id=\"dob\"\r\n                      class=\"alignment\"\r\n                      readonly\r\n                      [matDatepicker]=\"picker\"\r\n                      [max]=\"lastData\"\r\n                      value=\"offerIssueDate\"\r\n                      placeholder=\"DD/MM/YYYY\"\r\n                      formControlName=\"lastUpdatedon\"\r\n                    />\r\n                   \r\n                      <mat-datepicker-toggle matSuffix [for]=\"picker\">\r\n                      </mat-datepicker-toggle>\r\n\r\n                      <mat-datepicker #picker> </mat-datepicker>\r\n                   \r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Currently Working</mat-label>\r\n                    <input\r\n                      matInput\r\n                      type=\"text\"\r\n                      formControlName=\"currentlyWorking\"\r\n                      placeholder=\"Currently Working\"\r\n                    />\r\n                    <!-- <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('currentlyWorking')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please enter Currently Working\r\n                    </mat-error> -->\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total Expenses*</mat-label>\r\n                    <span class=\"curr_icon\" matPrefix>{{currencySymbol}}&nbsp;</span>\r\n                    <input\r\n                      matInput\r\n                      type=\"number\"\r\n                     \r\n                      formControlName=\"applicantTotalExpense\"\r\n                      placeholder=\"Total  Expenses\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n                <!-- <div class=\"pb-1\">\r\n                  <button mat-button color=\"primary\">Edit</button>\r\n                </div> -->\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title class=\"\">\r\n            <div class=\"card-title-text\">Employment Details</div>\r\n            <mat-divider></mat-divider>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <!-- <form  [formGroup]=\"cardFinancialDetailsForm\"> -->\r\n\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Employment Type *</mat-label>\r\n                    <mat-select formControlName=\"employmentType\">\r\n                      <mat-option\r\n                        *ngFor=\"let employmentType of arrayEmploymentType\"\r\n                        [value]=\"employmentType\"\r\n                      >\r\n                        {{ employmentType }}\r\n                      </mat-option>\r\n                    </mat-select>\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('employmentType')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please select the Employment Type\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Employee number</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxLength=\"5\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      formControlName=\"employeeNumber\"\r\n                      placeholder=\"Employee Number\"\r\n                      [required]=\"cardFinancialDetailsForm\r\n                          .get('employmentType').value == 'Salaried'\"\r\n                      \r\n                    />\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('employeeNumber')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please enter the Employee Number\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Designation</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"20\"\r\n                      name=\"Designation\"\r\n                      formControlName=\"designation\"\r\n                      placeholder=\"Designation\"\r\n                      (keypress)=\"letterOnly($event)\"\r\n                      [required]=\"cardFinancialDetailsForm\r\n                          .get('employmentType').value == 'Salaried'\"\r\n                    />\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('designation')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please enter the Designation\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Employment Start Date *</mat-label>\r\n                    <input\r\n                      matInput\r\n                      id=\"dob\"\r\n                      class=\"alignment\"\r\n                      readonly\r\n                      [max]=\"maxDate\"\r\n                      [matDatepicker]=\"start\"\r\n                      value=\"offerIssueDate\"\r\n                      placeholder=\"DD/MM/YYYY\"\r\n                      formControlName=\"employmentStartDate\"\r\n                    />\r\n\r\n                    <mat-datepicker-toggle matSuffix [for]=\"start\">\r\n                    </mat-datepicker-toggle>\r\n\r\n                    <mat-datepicker #start> </mat-datepicker>\r\n\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('employmentStartDate')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Employment Start Date is Required!\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Employment Category *</mat-label>\r\n                    <mat-select\r\n                      name=\"employmentCategory\"\r\n                      formControlName=\"employmentCategory\"\r\n                    >\r\n                      <mat-option\r\n                        *ngFor=\"\r\n                          let employmentCategory of arrayEmploymentCategory\r\n                        \"\r\n                        [value]=\"employmentCategory\"\r\n                      >\r\n                        {{ employmentCategory }}\r\n                      </mat-option>\r\n                    </mat-select>\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('employmentCategory')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please select the Employment Category\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Office Name</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"20\"\r\n                      name=\"Office Name\"\r\n                      formControlName=\"officeName\"\r\n                      placeholder=\"Office Name\"\r\n                      (keypress)=\"letterOnly($event)\"\r\n                      [required]=\"cardFinancialDetailsForm\r\n                          .get('employmentType').value == 'Salaried'\"\r\n                    />\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('officeName')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Please enter the Office Name\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Employment End Date</mat-label>\r\n\r\n                    <input\r\n                      matInput\r\n                      id=\"dob\"\r\n                      class=\"alignment\"\r\n                      readonly\r\n                      [matDatepicker]=\"end\"\r\n                      [min]=\"cardFinancialDetailsForm\r\n                      .get('employmentStartDate').value\"\r\n                      value=\"offerIssueDate\"\r\n                      placeholder=\"DD/MM/YYYY\"\r\n                      formControlName=\"employmentEndDate\"\r\n                    />\r\n\r\n                    <mat-datepicker-toggle matSuffix [for]=\"end\">\r\n                    </mat-datepicker-toggle>\r\n\r\n                    <mat-datepicker #end> </mat-datepicker>\r\n\r\n                    <mat-error\r\n                      *ngIf=\"\r\n                        cardFinancialDetailsForm\r\n                          .get('employmentEndDate')\r\n                          .hasError('required')\r\n                      \"\r\n                    >\r\n                      Employment End Date is Required!\r\n                    </mat-error>\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- </form> -->\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title class=\"\">\r\n            <div class=\"card-title-text\">\r\n              Monthly Income\r\n              <div class=\"ErrMsg\">{{ incomeErrMsg }}</div>\r\n            </div>\r\n            <mat-divider></mat-divider>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Bonus</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"bonus\"\r\n                      name=\"bonus\"\r\n                      placeholder=\"Bonus\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Interest Income</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"interestIncome\"\r\n                      name=\"interestIncome\"\r\n                      placeholder=\"Interest Income\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Salary</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"salary\"\r\n                      name=\"salary\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      placeholder=\"Salary\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Cash Gifts</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"cashGifts\"\r\n                      name=\"cashGifts\"\r\n                      placeholder=\"Cash Gifts\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"monthlyIncomeTotal\"\r\n                      placeholder=\"Total\"\r\n                      readonly\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Business</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"business\"\r\n                      formControlName=\"business\"\r\n                      placeholder=\"Business\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Pension</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"pension\"\r\n                      formControlName=\"pension\"\r\n                      placeholder=\"Pension\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Rentals</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"monthlyIncomeRentals\"\r\n                      formControlName=\"monthlyIncomeRentals\"\r\n                      placeholder=\"Rentals\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Others</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"monthlyIncomeOthers\"\r\n                      formControlName=\"monthlyIncomeOthers\"\r\n                      placeholder=\"Others\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyIncome(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title class=\"\">\r\n            <div class=\"card-title-text\">\r\n              Monthly Expenses\r\n              <div class=\"ErrMsg\">{{ ExpensesErrMsg }}</div>\r\n            </div>\r\n            <mat-divider></mat-divider>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Household</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"household\"\r\n                      name=\"household\"\r\n                      placeholder=\"Household\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Education</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"education\"\r\n                      name=\"mod\"\r\n                      placeholder=\"Education\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Vehicle Maintenance</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"vehicleMaintenance\"\r\n                      name=\"mod\"\r\n                      placeholder=\"Vehicle Maintenance\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Others</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"monthlyExpenseOthers\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                      placeholder=\"Others\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"monthlyExpenseTotal\"\r\n                      name=\"monthlyExpenseTotal\"\r\n                      placeholder=\"Total\" readonly\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Medical</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"medical\"\r\n                      formControlName=\"medical\"\r\n                      placeholder=\"Medical\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Travel</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"a_sig\"\r\n                      formControlName=\"travel\"\r\n                      placeholder=\"Travel\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Rentals</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"a_sig\"\r\n                      formControlName=\"monthlyExpenseRentals\"\r\n                      placeholder=\"Rentals\"\r\n                      (input)=\"\r\n                        calculateTotalMonthlyExpenses(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title class=\"\">\r\n            <div class=\"card-title-text\">\r\n              Annual Liabilities\r\n              <div class=\"ErrMsg\">{{ LiabilitiesErrMsg }}</div>\r\n            </div>\r\n            <mat-divider></mat-divider>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Property Loans</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"propertyLoan\"\r\n                      placeholder=\"Property Loan\"\r\n                      formControlName=\"propertyLoan\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Personal Loans</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"personalLoans\"\r\n                      formControlName=\"personalLoans\"\r\n                      placeholder=\"Personal Loans\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Overdrafts</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      name=\"overdraft\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"overdraft\"\r\n                      placeholder=\"Overdrafts\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"liabilityTotal\"\r\n                      placeholder=\"Total\"\r\n                      formControlName=\"liabilityTotal\" readonly\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Vehicle Loans</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      formControlName=\"vehicleLoan\"\r\n                      name=\"vehicleLoan\"\r\n                      placeholder=\"Vehicle Loans\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Cards Outstanding's</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"cardOutstandings\"\r\n                      formControlName=\"cardOutstandings\"\r\n                      placeholder=\"Cards Outstanding's\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Others</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"liabilityOthers\"\r\n                      formControlName=\"liabilityOthers\"\r\n                      placeholder=\"Others\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalLiabilities(\r\n                          cardFinancialDetailsForm.value\r\n                        )\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n        <mat-card class=\"p-0\">\r\n          <mat-card-title class=\"\">\r\n            <div class=\"card-title-text\">\r\n              Asset\r\n              <div class=\"ErrMsg\">{{ assetErrMsg }}</div>\r\n            </div>\r\n            <mat-divider></mat-divider>\r\n          </mat-card-title>\r\n          <mat-card-content>\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Savings Deposits</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"savingDeposits\"\r\n                      placeholder=\"Saving Deposits\"\r\n                      formControlName=\"savingDeposits\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Properties</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"properties\"\r\n                      formControlName=\"properties\"\r\n                      placeholder=\"Properties\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Fixed Deposits</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"fixedDeposits\"\r\n                      formControlName=\"fixedDeposits\"\r\n                      placeholder=\"Fixed Deposits\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Others</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"assetOthers\"\r\n                      placeholder=\"Others\"\r\n                      formControlName=\"assetOthers\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Total</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"assetTotal\"\r\n                      formControlName=\"assetTotal\"\r\n                      placeholder=\"Total\" readonly\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Stocks/Funds</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      placeholder=\"Stocks/Funds\"\r\n                      formControlName=\"stocks\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Automobiles</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"automobiles\"\r\n                      placeholder=\"Automobiles\"\r\n                      formControlName=\"automobiles\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"pb-1\">\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                    <mat-label>Lands</mat-label>\r\n                    <input\r\n                      matInput\r\n                      maxlength=\"10\"\r\n                      type=\"text\"\r\n                      onlyNumber\r\n                      name=\"lands\"\r\n                      placeholder=\"Lands\"\r\n                      formControlName=\"lands\"\r\n                      (keypress)=\"_keyPress($event)\"\r\n                      (input)=\"\r\n                        calculateTotalAssets(cardFinancialDetailsForm.value)\r\n                      \"\r\n                    />\r\n                  </mat-form-field>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n    <div fxLayout=\"row\">\r\n      <div fxFlex=\"100\">\r\n        <div\r\n          fxLayout=\"row\"\r\n          fxLayoutAlign=\"space-between center\"\r\n          fxLayoutGap=\"16px\"\r\n          class=\"mt-32\"\r\n        >\r\n          <button mat-button rounded  (click)=\"goBack()\">\r\n            Back\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"Nextbtn\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            [disabled]=\"\r\n              incomeErrMsg || ExpensesErrMsg || LiabilitiesErrMsg || assetErrMsg || !cardFinancialDetailsForm.valid\r\n            \"\r\n            (click)=\"onSubmit()\"\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, FormArray, FormBuilder } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { DataService } from 'app/shared/services/data.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\n// import { AccountService } from 'app/views/home/account.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\nimport { UrlService } from 'app/views/home/url.service';\r\n\r\nimport { flow } from 'lodash';\r\nimport { flatMap, filter } from 'lodash/fp';\r\n\r\n\r\n@Component({\r\n  selector: 'app-card-account-services',\r\n  templateUrl: './card-account-services.component.html',\r\n  styleUrls: ['./card-account-services.component.scss']\r\n})\r\nexport class CardAccountServicesComponent implements OnInit {\r\n\r\n  show: boolean = false;\r\n  selectedRow= false;\r\n  // selection = new SelectionModel<PeriodicElement>(true, []);\r\n  accountServiceForm: FormGroup;\r\n  statementList = [\r\n    {\r\n      \"id\": 1,\r\n      \"name\": \"EMAIL\",\r\n      \"checked\": false\r\n    },\r\n    {\r\n      \"id\": 2,\r\n      \"name\": \"POST\",\r\n      \"checked\": false\r\n    }\r\n  ];\r\n  communicationList = [\r\n    {\r\n      \"id\": 1,\r\n      \"name\": \"EMAIL\",\r\n      \"checked\": false\r\n    },\r\n    {\r\n      \"id\": 2,\r\n      \"name\": \"POST\",\r\n      \"checked\": false\r\n    },\r\n    {\r\n      \"id\": 3,\r\n      \"name\": \"SMS\",\r\n      \"checked\": false\r\n    }\r\n  ];\r\n\r\n  commChannelPreferencesArray : any[] = [];\r\n  AccStatementPreferenceArray : any[] = [];\r\n  accountId: any;\r\n  isNew: boolean;\r\n  navSubscription: any;\r\n  routeparams: any;\r\n  showEditOption: boolean = false;\r\n  previousUrl: string = '';\r\n  enableFinish: boolean=false;\r\n  statementFrncy: string;\r\n  bankChanlPref: string;\r\n  cardId:any;\r\n  constructor(private router: Router, private urlService: UrlService, private dataService: DataService, private route: ActivatedRoute, private snack: MatSnackBar, private ls: LocalStoreService, private accountService: AccountService, private formBuilder: FormBuilder, private apiService: ApiService, private cdr:ChangeDetectorRef) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem('cardId');\r\n    let isAccountServiceDone:boolean = JSON.parse(this.ls.getItem('CARD_ACC_SERVICE_DONE'));\r\n\r\n    if(this.cardId != null && isAccountServiceDone){\r\n      console.log(\"editform is true\");\r\n      this.showEditOption = true;\r\n      this.gettingAccountService();\r\n      // call api service and build data with response\r\n    }else{\r\n      this.showEditOption = false;\r\n      this.buildServiceForm();\r\n      console.log(\"editform is false\");\r\n      this.accountServiceForm.controls['statementPref'].patchValue(this.statementList);\r\n      this.accountServiceForm.controls['commChannelPref'].patchValue(this.communicationList);\r\n      // build form without data for capturing\r\n    }\r\n  \r\n    console.log(\"showEditOption\", this.showEditOption);\r\n    this.urlService.previousUrl$\r\n    .subscribe((previousUrl: string) => {\r\n        this.previousUrl = previousUrl\r\n    });\r\n\r\n  }\r\n\r\n  gettingAccountService() {\r\n    this.apiService.gettingCardAccountServiceDetails(this.cardId)\r\n    .subscribe((resp: any) => {\r\n      console.log(\"All Account Service\", resp);\r\n      this.buildServiceForm(resp);\r\n      this.statementList = resp.statementPref;\r\n      this.communicationList = resp.commChannelPref;\r\n     \r\n      // console.log(\"showEditOption\", this.showEditOption);\r\n      this.cdr.markForCheck();\r\n\r\n      for(var i =0 ;i< this.communicationList.length;i++){\r\n      \r\n        if(this.communicationList[i].checked){\r\n          this.commChannelPreferencesArray.push(this.communicationList[i].name);\r\n        }\r\n      }\r\n      for(var i =0 ;i< this.statementList.length;i++){\r\n        if(this.statementList[i].checked){\r\n          this.AccStatementPreferenceArray.push(this.statementList[i].name);\r\n        }\r\n      }\r\n      \r\n      localStorage.setItem('statementFrequency', resp.statementFrequency);\r\n      this.enableFinish=true;\r\n     \r\n    });\r\n  }\r\n  statementFrequency(e){\r\n    this.statementFrncy=localStorage.getItem('statementFrequency');\r\n    if(e!=this.statementFrncy){\r\n      this.enableFinish=true;\r\n    }\r\n  }\r\n  \r\n\r\n  buildServiceForm(data?) {\r\n    this.accountServiceForm = this.formBuilder.group({\r\n      accServiceId: [data ? data.accServiceId : null],\r\n      productAccountId: [this.accountId != null ? this.accountId : null],\r\n      statementFrequency: [data ? data.statementFrequency : ''],\r\n      statementPref: [data ? this.flattenValues(data.statementPref) : ''],\r\n    \r\n      commChannelPref: [data ? this.flattenValues(data.commChannelPref) : ''],\r\n     \r\n    });\r\n  }\r\n\r\n  onChecklistChange(checked, checkbox) {\r\n    checkbox.checked = checked;\r\n    this.enableFinish=true;\r\n    const checklist = this.accountServiceForm.get('statementPref');\r\n    checklist.setValue(this.flattenValues(this.statementList));\r\n    if(checked){\r\n      this.AccStatementPreferenceArray.push(checkbox.name);\r\n    }\r\n    else{\r\n      this.AccStatementPreferenceArray.forEach( (item, index) => {\r\n        if(item === checkbox.name){\r\n          this.AccStatementPreferenceArray.splice(index,1);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onCheckComChange(checked, checkbox) {\r\n    console.log(checked);\r\n    console.log(checkbox);\r\n    checkbox.checked = checked;\r\n    const checklist = this.accountServiceForm.get('commChannelPref');\r\n    checklist.setValue(this.flattenValues(this.communicationList));\r\n    if(checked){\r\n      this.commChannelPreferencesArray.push(checkbox.name);\r\n      console.log(\"checked\",checkbox.name);\r\n      this.enableFinish=true;\r\n    }\r\n    else{\r\n      this.commChannelPreferencesArray.forEach( (item, index) => {\r\n        if(item === checkbox.name){\r\n          this.commChannelPreferencesArray.splice(index,1);\r\n          console.log(\"checked\",checkbox.name);\r\n          this.enableFinish=true;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  flattenValues(checkboxes) {\r\n    const flattenedValues = flow([\r\n      filter(checkbox => checkbox.checked),\r\n      flatMap(checkbox => checkbox.name)\r\n    ])(checkboxes);\r\n    return flattenedValues.join(',');\r\n  }\r\n\r\n  isObjectEmpty(value) {\r\n    return (\r\n      Object.prototype.toString.call(value) === '[object Object]' &&\r\n      JSON.stringify(value) === '{}'\r\n    );\r\n  }\r\n\r\n  togglePreference() {\r\n    this.show = !this.show;\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/cardPrefrence`]);\r\n  }\r\n\r\n  onSubmit() {\r\n  \r\n    let accountPayload = {\r\n     // \"productAccountId\": this.accountId,\r\n      // \"cardId\":this.accountServiceForm.value.accServiceId,\r\n      \"cardId\":this.cardId,\r\n      \"statementFrequency\": this.accountServiceForm.value.statementFrequency,\r\n      \"statementPref\": this.statementList,\r\n     \r\n      \"commChannelPref\": this.communicationList,\r\n     \r\n      \"accountType\": \"cardOrigin\"\r\n    };\r\n\r\n    if (this.accountServiceForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    if (this.showEditOption) {\r\n      this.apiService.updateAccountService(this.cardId, accountPayload)\r\n        .subscribe((data: any) => {\r\n          console.log(data);\r\n          //this.accountService.refresh.next();\r\n          //this.router.navigate([`/home/application/nominee/add/${this.accountId}`]);\r\n          this.snack.open('Account Service Updated!', 'OK', { duration: 4000, verticalPosition: 'top', horizontalPosition: 'right' });\r\n          //this.router.navigate([`/cardaccount/documentupload/list`]);\r\n        }, err => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      this.apiService.createAccountService(this.cardId, accountPayload)\r\n        .subscribe((data: any) => {\r\n          console.log(data);\r\n         // this.ls.setItem('CARD_ACC_SERVICE_DONE', true);\r\n        //  this.accountService.refresh.next();\r\n         // this.router.navigate([`/home/application/nominee/add/${this.accountId}`]);\r\n          this.snack.open('Account Service Saved!', 'OK', { duration: 4000, verticalPosition: 'top', horizontalPosition: 'right' });\r\n        }, err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n    this.goToNext()\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n  goToNext(){  \r\n    this.ls.setItem('CARD_ACC_SERVICE_DONE', true);\r\n    this.ls.setItem('CARD_APPLICATION_ENTRY_DONE',true);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/documentupload/list`]);\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img\r\n          src=\"assets/images/svg/undraw_opinion_dxp8.svg\"\r\n          alt=\"\"\r\n          class=\"w-90\"\r\n        />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Account Services</b></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- <div class=\"card-title-text\">Account Services</div> -->\r\n  <div fxLayout=\"row\">\r\n    <div fxFlex=\"100\">\r\n      <mat-card class=\"p-0 bordercard\" >\r\n        <mat-card-title>\r\n          <fieldset>\r\n          <legend visible=\"true\">Account Statement</legend>\r\n          </fieldset>\r\n        </mat-card-title>\r\n        <mat-card-content>\r\n          <form *ngIf=\"accountServiceForm\" [formGroup]=\"accountServiceForm\">\r\n            <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n                <div class=\"pb-1\">\r\n                  <label><strong>Account Statement Frequency*</strong></label>\r\n                  <div class=\"m-16\"></div>\r\n                  <mat-radio-group\r\n                    class=\"mt-12\"\r\n                    name=\"statementFreq\"\r\n                    formControlName=\"statementFrequency\" (change)=\"statementFrequency($event.value)\"\r\n                    \r\n                    required  \r\n                  >\r\n                    <mat-radio-button value=\"MONTHLY\" class=\"ml-8\" color=\"primary\"\r\n                      >Monthly</mat-radio-button\r\n                    >\r\n                    <mat-radio-button\r\n                      value=\"BIANNUAL\"\r\n                      class=\"ml-16\"\r\n                      color=\"primary\"\r\n                      >Bi-Annual</mat-radio-button\r\n                    >\r\n                    <div class=\"m-16\"></div>\r\n                    <mat-radio-button\r\n                      value=\"QUATERLY\"\r\n                      class=\"ml-8\"\r\n                      color=\"primary\"\r\n                      >Quaterly</mat-radio-button\r\n                    >\r\n                    <mat-radio-button value=\"ANNUAL\" class=\"ml-16\" color=\"primary\"\r\n                      >Annual</mat-radio-button\r\n                    >\r\n                  </mat-radio-group>\r\n                </div>\r\n              </div>\r\n  \r\n              <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                <div class=\"pb-1\">\r\n                  <label><strong>Account Statement Preference*</strong></label>\r\n                  <div class=\"m-16\"></div>\r\n                  <p\r\n                    *ngFor=\"let item of statementList\"\r\n                    formArrayName=\"statementPref\"\r\n                  >\r\n                    <mat-checkbox\r\n                      class=\"checkbox-margin\"\r\n                      color=\"primary\"\r\n                      (change)=\"onChecklistChange($event.checked, item)\"\r\n                      [value]=\"item\"\r\n                      [checked]=\"item.checked\"\r\n                      >{{ item.name }}\r\n                    </mat-checkbox>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!--<div fxLayout=\"row\" fxLayoutAlign=\"start center\" class=\"mt-32\">\r\n              <button\r\n                mat-button\r\n                rounded\r\n                color=\"primary\"\r\n               \r\n              >\r\n               ADD PREFERENCE  <!--<mat-icon>keyboard_arrow_down</mat-icon>  -->\r\n               <!--removed event from button  (click)=\"togglePreference()\"\r\n              </button>\r\n            </div>-->\r\n            <div class=\"m-32\"></div>\r\n            <!--removing if condition for ng-container *ngIf=\"show\"-->\r\n            <ng-container >\r\n              <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n                \r\n                \r\n  \r\n                <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n                  <div fxLayout=\"row wrap\">\r\n                    <div fxFlex=\"100\">\r\n                      <label\r\n                        ><strong>Communication Channel Preferences*</strong></label\r\n                      >\r\n                      <div class=\"m-12\"></div>\r\n                    </div>\r\n                    <div fxFlex=\"100\">\r\n                      <div\r\n                        fxFlex=\"25\"\r\n                        *ngFor=\"let item of communicationList\"\r\n                        formArrayName=\"commChannelPref\"\r\n                       \r\n                      >\r\n                        <mat-checkbox\r\n                        color=\"primary\"\r\n                          class=\"checkbox-margin\"\r\n                          (change)=\"onCheckComChange($event.checked, item)\"\r\n                          [value]=\"item\"\r\n                          [checked]=\"item.checked\"\r\n                          >{{ item.name }}\r\n                        </mat-checkbox>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n  \r\n              \r\n            </ng-container>\r\n  \r\n            \r\n            <!-- [disabled]=\" !enableFinish || !accountServiceForm.valid ||\r\n               commChannelPreferencesArray.length == 0 || AccStatementPreferenceArray.length == 0\" -->\r\n               <!-- [disabled]=\"!accountServiceForm.valid\" -->\r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n      <div\r\n              fxLayout=\"row\"\r\n              fxLayoutAlign=\"space-between center\"\r\n              fxLayoutGap=\"16px\"\r\n              class=\"mt-32\"\r\n            >\r\n              <button mat-button rounded class=\"Backbtn\"  (click)=\"goBack()\" >\r\n                Back\r\n              </button>\r\n              <button class=\"Nextbtn\" mat-raised-button (click)=\"onSubmit()\"  [disabled]=\"  !accountServiceForm.valid ||\r\n              commChannelPreferencesArray.length == 0 || AccStatementPreferenceArray.length == 0\" \r\n               color=\"primary\" >\r\n                Next\r\n              </button>\r\n            </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Inject,\r\n  OnInit,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport {\r\n  MatDialog,\r\n  MatDialogRef,\r\n  MAT_DIALOG_DATA,\r\n} from \"@angular/material/dialog\";\r\nimport { Router } from \"@angular/router\";\r\nimport { SignaturePad } from \"angular2-signaturepad\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { ApplicationEntryStageService } from \"app/shared/services/application-entry-stage.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { AccountService } from \"app/views/home/account.service\";\r\n\r\n@Component({\r\n  selector: \"app-esignature-pop\",\r\n  templateUrl: \"./esignature-pop.component.html\",\r\n  styleUrls: [\"./esignature-pop.component.scss\"],\r\n})\r\nexport class EsignaturePopComponent implements OnInit {\r\n  signatureImg: string;\r\n  @ViewChild(SignaturePad) signaturePad: SignaturePad;\r\n  isDone: boolean = false;\r\n  signaturePadOptions: Object = {\r\n    minWidth: 2,\r\n    canvasWidth: 700,\r\n    canvasHeight: 300,\r\n  };\r\n  accountdetailsForStatusUpdate: Object;\r\n  count: any = 0;\r\n  show: boolean;\r\n  res: Object = { enable: false, image: null };\r\n  disableDone: boolean = true;\r\n  signupload: boolean = true;\r\n  selectedFile: any;\r\n  imageurl: any;\r\n  cardId: any;\r\n  esignUrl: string;\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public dialogRef: MatDialogRef<EsignaturePopComponent>,\r\n    private ls: LocalStoreService,\r\n    private router: Router,\r\n    private accountService: AccountService,\r\n    private apiService: ApiService,\r\n    private appEntryService: ApplicationEntryStageService,\r\n    private cdr: ChangeDetectorRef\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem(\"cardId\");\r\n    console.log(\"popup response data:\", this.data);\r\n    this.isDone = this.data.isSignLater;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // this.signaturePad is now available\r\n    this.signaturePad.set(\"minWidth\", 2);\r\n    this.signaturePad.clear();\r\n  }\r\n\r\n  drawComplete() {\r\n    console.log(this.signaturePad.toDataURL());\r\n    this.esignUrl = this.signaturePad.toDataURL();\r\n    if (this.esignUrl.toString().includes(\"data:image/png;base64\")) {\r\n      this.disableDone = false;\r\n    } else {\r\n      this.disableDone = true;\r\n    }\r\n  }\r\n\r\n  drawStart() {\r\n    console.log(\"begin drawing\");\r\n  }\r\n\r\n  clearSignature() {\r\n    this.signaturePad.clear();\r\n  }\r\n\r\n  savePad() {\r\n    const base64Data = this.signaturePad.toDataURL();\r\n    this.signatureImg = base64Data;\r\n  }\r\n\r\n  close1() {\r\n    if (this.data.screen === \"NewCustomerOnboarding\") {\r\n      this.dialogRef.close(this.res);\r\n    } else {\r\n      this.dialogRef.close({ image: this.ls.getItem('signedImage')?this.ls.getItem('signedImage'):'' });\r\n      this.ls.setItem(\"enable\", false);\r\n    }\r\n  }\r\n\r\n  close() {\r\n    if (this.data.screen === \"NewCustomerOnboarding\") {\r\n      this.dialogRef.close(this.res);\r\n    } else {\r\n      this.dialogRef.close({ image: this.esignUrl });\r\n      // this.ls.setItem('enable', true);\r\n    }\r\n  }\r\n\r\n  // onFileChanged(event) {\r\n  //   this.selectedFile = event.target.files[0];\r\n  //   console.log(this.selectedFile);\r\n\r\n  //   this.disableDone = false;\r\n  // }\r\n\r\n  onSubmit() {\r\n    console.log(this.signaturePad.toDataURL());\r\n    let data: any = {};\r\n    let uploadModel: any = {};\r\n    console.log(\"this.data::\", this.data);\r\n    if (this.data.screen !== \"NewCustomerOnboarding\") {\r\n      uploadModel.cardId = this.data.accountId;\r\n      this.getByAccountId(uploadModel.cardId);\r\n    } else {\r\n      let customerId = this.data.customerId;\r\n      this.apiService.getAccountIdByCusId(customerId).subscribe((res) => {\r\n        console.log(\"Account Id response -- \", res);\r\n        data.accountId = res;\r\n      });\r\n      this.res = { enable: true, image: this.signaturePad.toDataURL() };\r\n    }\r\n\r\n    uploadModel.customerId = this.data.customerId;\r\n    uploadModel.documentName = this.data.customerId + \"Signature\";\r\n    uploadModel.documentType = \"10\";\r\n    uploadModel.fileType = \"image/jpeg\";\r\n    uploadModel.fileName = \"signature\";\r\n\r\n    const dataURL = this.signaturePad.toDataURL(\"image/png\");\r\n    this.ls.setItem('signedImage',dataURL);\r\n    const datam = atob(dataURL.substring(\"data:image/png;base64,\".length)),\r\n      asArray = new Uint8Array(datam.length);\r\n    for (var i = 0, len = datam.length; i < len; ++i) {\r\n      asArray[i] = datam.charCodeAt(i);\r\n    }\r\n    const blob = new Blob([asArray], { type: \"image/png\" });\r\n    data[\"uploadModel\"] = uploadModel;\r\n    data.noOfSignatures = \"1\";\r\n\r\n    const uploadData = new FormData();\r\n    uploadData.append(\"data\", JSON.stringify(data));\r\n    console.log(\"data\", data);\r\n    uploadData.append(\"file\", blob);\r\n    uploadData.append(\"accType\", \"cardOrigin\");\r\n\r\n    this.apiService.uploadSignature(uploadData).subscribe(\r\n      (op) => {\r\n        console.log(op);\r\n        if (op) {\r\n          this.close();\r\n          this.show = true;\r\n          this.res = op;\r\n        }\r\n      },\r\n      (err) => {\r\n        this.close();\r\n        this.res = false;\r\n      }\r\n    );\r\n    if (this.data.screen !== \"NewCustomerOnboarding\") {\r\n      this.isDone = false;\r\n    } else {\r\n      this.close();\r\n    }\r\n    console.log(this.isDone);\r\n    this.ls.setItem(\"eSignStage\", true);\r\n  //   this.router.navigateByUrl('/', {skipLocationChange: true}).then(() => {\r\n  //     this.router.navigate([\"cardaccount/digitalsigning/options\"]);\r\n  // });\r\n  }\r\n\r\n  getByAccountId(cardId: any) {\r\n    this.apiService.getCardInitiationDetails(cardId).subscribe((resp) => {\r\n      console.log(\"updateStatus :: \", resp);\r\n      this.accountdetailsForStatusUpdate = resp;\r\n      this.updateCardAccountStatus();\r\n    });\r\n  }\r\n\r\n  updateCardAccountStatus() {\r\n    let statusModel = {\r\n      cardId: this.cardId,\r\n      status: \"BACKLOG\",\r\n    };\r\n    this.apiService.updateCardStatus(statusModel).subscribe((updateResp) => {\r\n      console.log(\"updateResp:: \", updateResp);\r\n    });\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex=\"100\" fxLayoutAlign=\"end center\">\r\n    <button mat-icon-button (click)=\"close1()\" *ngIf=\"!isDone\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n    <button mat-icon-button (click)=\"close()\" *ngIf=\"isDone\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div fxFlex=\"100\" *ngIf=\"!isDone\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/esign.png\" alt=\"\" />\r\n    </div>\r\n  </div>\r\n\r\n  <div fxFlex=\"100\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n      <div fxFlex=\"50\" fxFlexOffset=\"20px\" *ngIf=\"!isDone\">\r\n        <!-- <div class=\"text-center\">\r\n            <button mat-raised-button color=\"primary\" (click)=\"fileInput.click()\">Upload\r\n              <input style=\"display: none\" type=\"file\" (change)=\"onFileChanged($event)\" #fileInput>\r\n            </button>\r\n          </div>\r\n\r\n            <div class=\"text-center\">\r\n              <button mat-button class=\"full-width\">OR</button>\r\n            </div> -->\r\n\r\n        <h5 class=\"text-center mt-16\">Please e-sign the application!</h5>\r\n        <mat-card  class=\"mt-16 signbox\">\r\n          <mat-card-content>\r\n            <signature-pad\r\n              [options]=\"signaturePadOptions\"\r\n              (onBeginEvent)=\"drawStart()\"\r\n              (onEndEvent)=\"drawComplete()\"\r\n            ></signature-pad>\r\n          </mat-card-content>\r\n        </mat-card>\r\n        <div class=\"text-center\">\r\n          <button\r\n            mat-raised-button\r\n           class=\"Next\"\r\n            (click)=\"onSubmit()\"\r\n            [disabled]=\"disableDone\"\r\n          >\r\n            SUBMIT\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <!-- <div fxFlex=\"50\" fxFlexOffset=\"20px\" *ngIf=\"isDone\" class=\"text-center\">\r\n        <div class=\"propic text-center\">\r\n          <img src=\"assets/images/esignlater.png\" alt=\"\" />\r\n        </div>\r\n        <br />\r\n        \r\n        <p *ngIf=\"accountId != null\">\r\n          Keep Card Number for your future Reference: <b>{{ accountId }}</b>\r\n        </p>\r\n        \r\n        <div class=\"text-center\">\r\n\r\n          <button mat-raised-button class=\"Next\" (click)=\"close()\">\r\n\r\n          \r\n\r\n            SUBMIT\r\n          </button>\r\n        </div> \r\n      </div>-->\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { MatDialog, MatDialogRef } from \"@angular/material/dialog\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { ApplicationEntryStageService } from \"app/shared/services/application-entry-stage.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { AccountService } from \"app/views/card-account/account.service\";\r\nimport { UrlService } from \"app/views/home/url.service\";\r\nimport { EsignaturePopComponent } from \"../esignature-pop/esignature-pop.component\";\r\nimport { UploadSignatureOrEsignComponent } from \"../upload-signature-or-esign/upload-signature-or-esign.component\";\r\nimport { DialogService } from \"app/shared/services/dialogs/dialog.service\";\r\n@Component({\r\n  selector: \"app-digital-sign-now-or-later\",\r\n  templateUrl: \"./digital-sign-now-or-later.component.html\",\r\n  styleUrls: [\"./digital-sign-now-or-later.component.scss\"],\r\n})\r\nexport class DigitalSignNowOrLaterComponent implements OnInit {\r\n  accountdetailsForStatusUpdate: Object;\r\n  previousUrl: string = \"\";\r\n  show: boolean = false;\r\n  show1: any;\r\n  cardId: any;\r\n  isDone: boolean = false;\r\n\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private router: Router,\r\n    private ls: LocalStoreService,\r\n    private accountService: AccountService,\r\n    private apiService: ApplicationEntryStageService,\r\n    private urlService: UrlService,\r\n    private api: ApiService,\r\n    private dialogService: DialogService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId = this.ls.getItem(\"cardId\");\r\n\r\n    this.urlService.previousUrl$.subscribe((previousUrl: string) => {\r\n      this.previousUrl = previousUrl;\r\n    });\r\n  }\r\n\r\n  openPopUp(data?: any) {\r\n    let response: any;\r\n    if (data === undefined || data === null) {\r\n      response = {\r\n        isSignLater: false,\r\n        screen: \"Create Account\",\r\n      };\r\n    }\r\n    if (!this.show) {\r\n      let dialogRef: MatDialogRef<any> = this.dialog.open(\r\n        UploadSignatureOrEsignComponent,\r\n        {\r\n          width: \"720px\",\r\n          disableClose: true,\r\n          data: data === undefined || data === null ? response : data,\r\n        }\r\n      );\r\n      dialogRef.afterClosed().subscribe((res) => {\r\n        this.show = this.ls.getItem(\"enable\");\r\n        // if (res) {\r\n          // this.getByAccountId(this.accountId);\r\n        // }\r\n      });\r\n    }\r\n  }\r\n  getByAccountId(accountId: any) {\r\n    this.api.getCardInitiationDetails(this.cardId).subscribe((resp) => {\r\n      this.accountdetailsForStatusUpdate = resp;\r\n      this.updateCardAccountStatus();\r\n    });\r\n  }\r\n  onDone() {\r\n    this.isDone = true;\r\n    this.dialogService.alertForCardFinishButton().subscribe((response) => {\r\n      console.log(\"response ::\", response);\r\n    });\r\n  }\r\n  updateCardAccountStatus() {\r\n    let statusModel = {\r\n      cardId: this.cardId,\r\n      status: \"BACKLOG\",\r\n    };\r\n    this.api.updateCardStatus(statusModel).subscribe((updateResp) => {\r\n      console.log(\"updateResp:: \", updateResp);\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([this.previousUrl]);\r\n  }\r\n\r\n  resetState() {\r\n    this.ls.removeItem(\"CARD_APPLICATION_ENTRY_DONE\");\r\n    this.ls.removeItem(\"CARD_INITIATION_DONE\");\r\n    this.ls.removeItem(\"Card_Customer_Done\");\r\n    this.ls.removeItem(\"CARD_FINANCIAL_DONE\");\r\n    this.ls.removeItem(\"card_prefrence_done\");\r\n    this.ls.removeItem(\"CARD_ACC_SERVICE_DONE\");\r\n    this.ls.removeItem(\"Card_CIF_NUM_PRIMARY\");\r\n    this.ls.removeItem(\"Card_Applicant_name\");\r\n\r\n    this.ls.removeItem(\"CARD_DOCUMENT_STAGE_DONE\");\r\n    this.ls.removeItem(\"CARD_DOCUMENT_DONE\");\r\n\r\n    this.ls.removeItem(\"CARD_ENRICHMENT_DONE\");\r\n    this.ls.removeItem(\"CARD_INTEREST_DETAILS_DONE\");\r\n    this.ls.removeItem(\"CARD_CHARGE_DETAILS_DONE\");\r\n\r\n    this.ls.removeItem(\"CARD_UNDERWRITING_DONE\");\r\n    this.ls.removeItem(\"CARD_CREDIT_RATING_DONE\");\r\n    this.ls.removeItem(\"CARD_QUALITATIVE_SCOREBOARD_DONE\");\r\n\r\n    this.ls.removeItem(\"CARD_ASSESSMENT_STAGE_DONE\");\r\n    this.ls.removeItem(\"CARD_ASSESSMENT_DONE\");\r\n\r\n    this.ls.removeItem(\"CARD_SUPERVISOR_DONE\");\r\n    this.ls.removeItem(\"CARD_APPROVAL_DONE\");\r\n\r\n    this.ls.removeItem(\"CARD_DIGITAL_STAGE_DONE\");\r\n    this.ls.removeItem(\"CARD_DIGITAL_SIGN_DONE\");\r\n    this.ls.removeItem(\"enable\");\r\n    this.ls.removeItem(\"eSignStage\");\r\n    this.ls.removeItem(\"cardId\");\r\n    this.ls.removeItem(\"CardNoOfApplicants\");\r\n    this.ls.removeItem(\"primaryCustomerName\");\r\n    this.ls.removeItem(\"cardownership_value\");\r\n    this.ls.removeItem(\"cId\");\r\n    this.ls.removeItem(\"signedImage\");\r\n    this.ls.removeItem(\"enable\")\r\n\r\n    sessionStorage.clear();\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([\"/cardaccount/applicationEntryStage/list\"]);\r\n  }\r\n\r\n  onSubmit() {\r\n    let payload = {\r\n      accountId: this.cardId,\r\n      esignLink: \"gcom\",\r\n      subject: \"testing\",\r\n    };\r\n    this.api.signInLater(payload).subscribe(\r\n      (data: any) => {\r\n        console.log(\"data::\", data);\r\n        this.getByAccountId(this.cardId);\r\n        this.ls.setItem(\"eSignStage\", true);\r\n        this.accountService.refresh.next();\r\n        let response: any = {\r\n          email: data.email,\r\n          customerId: data.customerId,\r\n          subject: data.subject,\r\n          isSignLater: true,\r\n          screen: \"Create Account\",\r\n        };\r\n        this.openPopUp(response);\r\n      },\r\n      (err: any) => {}\r\n    );\r\n  }\r\n}\r\n","<div class=\"matcard-size\">\r\n  <div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img src=\"assets/images/svg/Mask Group 55.svg\" alt=\"\" class=\"w-90\" />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Digital Signing</b></div>\r\n      </div>\r\n    </div>\r\n    <mat-card class=\"mat-card-img\">\r\n      <div fxFlex=\"100\" class=\"mt-32\">\r\n        <mat-card\r\n          class=\"sign-box hoverAdd\"\r\n          (click)=\"openPopUp()\"\r\n          [@animate]=\"{ value: '*', params: { delay: '300ms', y: '50px' } }\"\r\n          matRipple\r\n        >\r\n          <mat-card-content class=\"p-0\">\r\n            <mat-list class=\"compact-list mb-16\">\r\n              <mat-list-item class=\"\">\r\n                <img class=\"mr-16\" src=\"assets/images/svg/signnow.png\" alt=\"\" />\r\n                <!-- [ngClass]=\" show ? 'primary' : 'secondary'\" -->\r\n                <div fxLayout=\"column\" fxFlex=\"100\">\r\n                  <h3 class=\"m-0 mr-16\">Sign Now</h3>\r\n                  <span fxFlex></span>\r\n                  <br />\r\n                  <div fxFlex=\"40\" class=\"text\">\r\n                    Enables you to digitally sign the document. To e sign the\r\n                    document, click on it, create your eSignature, click on Done\r\n                    and it will add to your document.\r\n                  </div>\r\n                </div>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n\r\n      <div fxFlex=\"100\">\r\n        <div class=\"text-center\">\r\n          <button mat-button class=\"text\">OR</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div fxFlex=\"100\">\r\n        <mat-card\r\n          class=\"sign-box hoverAdd\"\r\n          [@animate]=\"{ value: '*', params: { delay: '300ms', y: '50px' } }\"\r\n          matRipple\r\n        >\r\n          <mat-card-content class=\"p-0\">\r\n            <mat-list class=\"compact-list mb-16\">\r\n              <mat-list-item class=\"\" (click)=\"onSubmit()\">\r\n                <img\r\n                  class=\"mr-16\"\r\n                  src=\"assets/images/svg/signlater.png\"\r\n                  alt=\"\"\r\n                />\r\n                <!-- [ngClass]=\" show ? 'primary' : 'primary'\" -->\r\n                <div fxLayout=\"column\" fxFlex=\"100\">\r\n                  <h3 class=\"m-0 mr-16\">Sign Later</h3>\r\n                  <span fxFlex></span>\r\n                  <br />\r\n                  <div fxFlex=\"40\" class=\"text\">\r\n                    Enables you to sign the document later. To sign later, click\r\n                    here, an email will be sent to the respective email id\r\n                    provided with a sign link. You can verify and sign later.\r\n                  </div>\r\n                </div>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n    </mat-card>\r\n    <div fxFlex=\"100\" class=\"mt-16\">\r\n      <button mat-button class=\"Backbtn\" (click)=\"goBack()\">BACK</button>\r\n      <span fxFlex></span>\r\n\r\n      <button\r\n        class=\"Nextbtn\"\r\n        mat-raised-button\r\n        color=\"primary\"\r\n        type=\"button\"\r\n        [disabled]=\"!show\"\r\n        (click)=\"onDone()\"\r\n      >\r\n        FINISH\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { ApplicationEntryStageService } from 'app/shared/services/application-entry-stage.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport * as moment from 'moment';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-card-initiation',\r\n  templateUrl: './card-initiation.component.html',\r\n  styleUrls: ['./card-initiation.component.scss']\r\n})\r\nexport class CardInitiationComponent implements OnInit {\r\n  cifNumberForm = new FormControl();\r\n  timer: any;\r\n  listOfCustByCif: any = [];\r\n\r\n  cardInitiationForm: FormGroup;\r\n  showEditOption: boolean = false;\r\n  isCardInitiationDone:boolean = false;\r\n  arrayofEmployment: any[] = [];\r\n  cardId: any;\r\n  applicant: any;\r\n  console: any;\r\n  isCifValid: boolean = false;\r\n  onbackSpace: boolean = false;\r\n  showSpinn: boolean;\r\n  cifNumberPrimary: any;\r\n  flag: boolean;\r\n  currencyData: any;\r\n  arrayAccountBranch: any;\r\n  branchName: any;\r\n  isExistingCustomer: boolean = true;\r\n  localCurrencyArr = ['CNY', 'GBP', 'INR', 'USD', 'ZAR', 'GBP'];\r\n  selectedCurrency = this.localCurrencyArr[-1];\r\n  kycStatus: any;\r\n  status: any;\r\n  iskycStatus: boolean = false;\r\n  isGoForKyc: boolean = false;\r\n  isKycForCardDone: boolean = false;\r\n  cardType: any;\r\n  kycRefrence: string;\r\n  accountID: any;\r\n  accountNoArr = [];\r\n  cifNumber: any;\r\n  constructor(private ls: LocalStoreService, private router: Router, private accountService: AccountService,\r\n    private formBuilder: FormBuilder, private apiService: ApiService, private appApiService: ApplicationEntryStageService,\r\n    private snack: MatSnackBar, private cdr: ChangeDetectorRef) {\r\n  }\r\n\r\n  ngOnInit(): void { \r\n   // this.ls.getItem(\"kycnumber\");\r\n   console.log(this.ls.getItem(\"cardCustomer\"));\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.applicant=this.ls.getItem('NAME');\r\n    this.getEmploymentType(\"employment_type\");\r\n    console.log(\"this.cardId\",this.cardId);\r\n\r\n    this.buildInitiationForm();\r\n    // this.cardInitiationForm.get('applicantName').setValue(this.applicant);\r\n    let isCardDetails: boolean = JSON.parse(this.ls.getItem('CARD_INITIATION_DONE'));\r\n    this.isCardInitiationDone = this.ls.getItem('CARD_INITIATION_DONE');\r\n    if (this.cardId != null && this.isCardInitiationDone) {\r\n      this.iskycStatus = true;\r\n      this.showEditOption = true;\r\n      this.cifNumberPrimary = this.ls.getItem(\"Card_CIF_NUM_PRIMARY\");\r\n      this.getCardInitiation();\r\n\r\n    }\r\n\r\n\r\n    //console.log(\"this.kycStatus\",this.kycStatus);\r\n    this.isKycForCardDone = this.ls.getItem(\"kycForCard\");\r\n    if (this.isKycForCardDone == true) {\r\n      // this.kycStatus = this.ls.getItem(\"KycStatus\");\r\n      this.cardInitiationForm.get('existingCustomer').patchValue(false);\r\n      this.kycRefrence = this.ls.getItem(\"kycReference\");\r\n      if(this.kycRefrence){\r\n        let kycNum = this.kycRefrence.slice(4);\r\n        console.log(kycNum);        \r\n        this.apiService.getPrimaryInfo(kycNum).subscribe((result: any) => {\r\n          this.kycStatus = result.customerInfoList[0].customerAdditionalInfo.kycStatus\r\n          this.ls.setItem('KycStatus',this.kycStatus)\r\n        })\r\n      }\r\n      this.iskycStatus = true;\r\n      this.isGoForKyc = true;\r\n      this.cardInitiationForm.get('cardType').patchValue(this.ls.getItem(\"cardType\"));\r\n      console.log(this.ls.getItem(\"cardCustomer\"));\r\n      this.cardInitiationForm.controls.applicantName.setValue(this.ls.getItem(\"cardCustomer\"));\r\n      //this.ls.getItem(\"cardType\");\r\n    }\r\n    else {\r\n      //   this.iskycStatus=false;\r\n    }\r\n  }\r\n\r\n  onKeyPress(event: any) {\r\n    if (event.keyCode === 8) {\r\n      this.onbackSpace = true;\r\n      this.isCifValid = false;\r\n    }\r\n    else {\r\n      this.onbackSpace = false;\r\n    }\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n    console.log(event.target.value, !event.target.value);\r\n    clearTimeout(this.timer)\r\n    \r\n    if (!event.target.value) {\r\n      this.isCifValid = false;\r\n      this.cardInitiationForm.get('cifNumber').clearValidators();\r\n      this.cardInitiationForm.get('cifNumber').updateValueAndValidity();\r\n      this.cardInitiationForm.get('existingCustomer').patchValue(true);\r\n      this.cardInitiationForm.reset();\r\n      this.listOfCustByCif = []\r\n    } else {\r\n      this.timer = setTimeout(() => {\r\n        this.appApiService.fetchByCif(event.target.value).subscribe((res: any) => { \r\n          console.log(res);\r\n          if (res) {\r\n            this.listOfCustByCif = res.customerInfoList\r\n          }\r\n        })\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  goToggle(event: any) {\r\n    console.log(\"event\", event.checked);\r\n    if (event.checked == true) {\r\n      this.isExistingCustomer = true;\r\n    }\r\n    else {\r\n      this.isExistingCustomer = false;\r\n    }\r\n\r\n  }\r\n  addOnCard(event: any) {\r\n    console.log(\"event\", event.checked);\r\n    if (event.checked == true) {\r\n      this.ls.setItem('ADD_ON_CARD', true);\r\n    }\r\n    else {\r\n      this.ls.setItem('ADD_ON_CARD', false);\r\n    }\r\n\r\n  }\r\n  \r\n  getEmploymentType(key: string) {\r\n    this.apiService.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayofEmployment = data;\r\n      console.log(this.arrayofEmployment);\r\n\r\n    });\r\n  }\r\n\r\n  getAccountData(cifNumber){\r\n    this.apiService.getProfileDetails(cifNumber)\r\n      .subscribe((data: any) => {\r\n        console.log(data);\r\n        console.log(data?.signatures?.[0]?.accountId)\r\n        this.accountID = data?.signatures?.[0]?.accountId;\r\n        this.cardInitiationForm.controls.currency.setValue(data?.accountCurrency);\r\n      }, (error: any) => {\r\n        // console.log(error);\r\n      });\r\n  }\r\n  onSubmit() {\r\n    console.log(\"data\", this.cardInitiationForm.value)\r\n    localStorage.setItem('Currency Type', this.cardInitiationForm.value.currency);\r\n    let payload = {\r\n      existingCustomer: this.cardInitiationForm.value.existingCustomer,\r\n      cardType: this.cardInitiationForm.value.cardType,\r\n      customerAccount: this.cardInitiationForm.value.customerAccount,\r\n      applicantName: this.cardInitiationForm.value.applicantName,\r\n      currency: this.cardInitiationForm.value.currency,\r\n      employmentType: this.cardInitiationForm.value.employmentType,\r\n      affinityProgram: this.cardInitiationForm.value.affinityProgram,\r\n      nameOnCard: this.cardInitiationForm.value.nameOnCard,\r\n      status: null,\r\n      kycStatus: this.kycStatus,\r\n      kycReference: this.kycRefrence,\r\n      customerId: this.cardInitiationForm.value.cifNumber,\r\n\r\n      cardId: this.showEditOption ? this.cardId : null,\r\n    }\r\n\r\n    this.apiService.uploadCardInitiation(payload)\r\n      .subscribe((data: any) => {\r\n        this.ls.setItem('cardId', data.cardId);\r\n        let statusModel = {\r\n          cardId: data.cardId,\r\n          status: \"ONGOING\"\r\n        };\r\n        this.apiService.updateCardStatus(statusModel).subscribe(data => {\r\n        });\r\n\r\n        console.log(\"data\", data);\r\n        \r\n        this.next();\r\n      });\r\n\r\n  }\r\n  next() {\r\n    this.ls.setItem('CARD_INITIATION_DONE', true);\r\n    this.ls.setItem('Card_Applicant_name',  this.cardInitiationForm.value.applicantName);\r\n    this.accountService.refresh.next();\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list/customerInformation`]);\r\n  }\r\n  getCardInitiation() {\r\n\r\n    this.apiService.getCardInitiationDetails(this.cardId)\r\n    .subscribe((resp: any) => {\r\n      this.kycStatus = resp.kycStatus;\r\n      this.kycRefrence = resp.kycReference;\r\n      this.buildInitiationForm(resp);\r\n      this.apiService.fetchAccountIdByCustId(this.cifNumberPrimary).subscribe((accountNo: any[]) => {\r\n        this.accountNoArr = accountNo;\r\n        this.cardInitiationForm.controls.customerAccount.setValue(this.accountNoArr?.[0])\r\n      });\r\n      console.log(\"data\", resp);\r\n      if (resp.existingCustomer == true) {\r\n        this.isExistingCustomer = true;\r\n      }\r\n      else {\r\n        this.isExistingCustomer = false;\r\n      }\r\n\r\n    });\r\n  }\r\n  buildInitiationForm(data?) {\r\n    const addOnCard = localStorage.getItem(\"ADD_ON_CARD\"); \r\n        \r\n    \r\n    this.cardInitiationForm = this.formBuilder.group({\r\n      cifNumber: [data ? this.cifNumberPrimary : '',[Validators.required]],\r\n      existingCustomer: [data ? data.existingCustomer : true,],\r\n      cardType: [data ? data.cardType : '', [Validators.required]],\r\n      customerAccount: [data ? data.customerAccount : '', [Validators.required]],\r\n      applicantName: [data ? data.applicantName : ''],\r\n      currency: [data ? data.currency : '', [Validators.required]],\r\n      employmentType: [data ? data.employmentType : '', [Validators.required]],\r\n      affinityProgram: [data ? data.affinityProgram : '', [Validators.required]],\r\n      nameOnCard: [data ? data.nameOnCard : '', [Validators.required]],\r\n      addOnCard:[addOnCard == 'true' ? true : false],\r\n    });\r\n    this.formControlValueChanged();\r\n  }\r\n  formControlValueChanged() {\r\n    \r\n    let cifNumberControl = this.cardInitiationForm.get('cifNumber');\r\n    this.cardInitiationForm.get('existingCustomer').valueChanges.subscribe(\r\n        (val) => {\r\n            console.log(val);\r\n            if (val == false) {\r\n              this.cardInitiationForm.get('customerAccount').setValidators([Validators.nullValidator]);\r\n                cifNumberControl.setValidators([Validators.nullValidator]);\r\n            }   \r\n            else{\r\n              this.cardInitiationForm.get('customerAccount').setValidators([Validators.required]);\r\n              cifNumberControl.setValidators([Validators.required]);\r\n          }            \r\n            cifNumberControl.updateValueAndValidity();\r\n        });\r\n}\r\n  goBack() {\r\n    this.router.navigate([`/cardaccount/applicationEntryStage/list`]);\r\n  }\r\n  keyUpevent(event) {\r\n    if (event.keyCode === 8) {\r\n      this.onbackSpace = true;\r\n      this.isCifValid = false;\r\n    }\r\n    else {\r\n      this.onbackSpace = false;\r\n    }\r\n  }\r\n  _keyPress(event: any) {\r\n    const pattern = /[0-9]/;\r\n    let inputChar = String.fromCharCode(event.charCode);\r\n    if (!pattern.test(inputChar)) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n  letterOnly(event) {\r\n    console.log(!this.isGoForKyc);\r\n    console.log(!this.cardInitiationForm.valid);\r\n    console.log(!this.cardInitiationForm.valid || !this.isGoForKyc);\r\n    \r\n    console.log(this.cardInitiationForm);\r\n    var charCode = event.keyCode;\r\n    if ((charCode > 64 && charCode < 91) || (charCode > 96 && charCode < 123) || charCode == 8)\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  fetchByCif(cifNumber) {\r\n\r\n    if (!!cifNumber) {\r\n      this.showSpinn = true;\r\n      this.appApiService.fetchByCif(cifNumber).subscribe((res: any) => {\r\n        this.kycStatus = res.customerInfoList[0].customerAdditionalInfo.kycStatus\r\n        this.kycRefrence = res.customerInfoList[0].customerAdditionalInfo.kycReference\r\n     \r\n        this.cardInitiationForm.controls.cifNumber.setValue(cifNumber);\r\n        this.cardInitiationForm.controls.applicantName.setValue(res.customerInfoList[0].firstName + \" \" + res.customerInfoList[0].lastName);\r\n       // this.ls.setItem('Card_Applicant_name', res.customerInfoList[0].firstName + \" \" + res.customerInfoList[0].lastName);\r\n        this.cardInitiationForm.controls.customerAccount.setValue(this.accountID)\r\n\r\n        this.showSpinn = false;\r\n\r\n        if (!res) {\r\n          this.isCifValid = false;\r\n\r\n          this.snack.open('Invalid CIF Number', 'OK', {\r\n            duration: 4000,\r\n            verticalPosition: 'top',\r\n            horizontalPosition: 'right'\r\n          });\r\n          // this.cardInitiationForm.get('cifNumber').patchValue(\"\");\r\n          return;\r\n        } else {\r\n          if (res.customerInfoList[0].custStatus != \"APPROVED\") {\r\n            this.isCifValid = false;\r\n          }\r\n          if (res.customerInfoList[0].custStatus == \"APPROVED\") {\r\n            this.isCifValid = true;\r\n          }\r\n          //console.log(this.isCifValid,\"else2 condition\");\r\n\r\n          let address: any;\r\n          // this.console.log(res.customerInfoList[0].userAddress.length);\r\n          if (res.customerInfoList[0].userAddress.length > 1) {\r\n            address = res.customerInfoList[0].userAddress.find((item: any) => item.addressType == \"Permanent\" || item.addressType == \"permanent\");\r\n          } else {\r\n            address = res.customerInfoList[0].userAddress[0];\r\n          }\r\n          let queryParams = {\r\n            prefix: res.customerInfoList[0].prefix,\r\n            customerId: res.customerInfoList[0].customerId,\r\n            firstName: res.customerInfoList[0].firstName,\r\n            middleName: res.customerInfoList[0].middleName,\r\n            lastName: res.customerInfoList[0].lastName,\r\n            gender: res.customerInfoList[0].gender,\r\n            dateOfBirth: this.convertDate(res.customerInfoList[0].dateOfBirth),\r\n            placeOfBirth: res.customerInfoList[0].placeOfBirth,\r\n            residenceStatus: res.customerInfoList[0].residenceStatus,\r\n            nationality: res.customerInfoList[0].nationality,\r\n            countryOfResidence: res.customerInfoList[0].countryOfResidence,\r\n            occupationType: res.customerInfoList[0].occupationType,\r\n            custIdProofs: res.customerInfoList[0].custIdProofs,\r\n            idType: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idType : '',\r\n            idNumber: res.customerInfoList[0].custIdProofs.length > 0 ? res.customerInfoList[0].custIdProofs[0].idNumber : '',\r\n            expiryDate: res.customerInfoList[0].custIdProofs.length > 0 ? this.convertDate(res.customerInfoList[0].custIdProofs[0].expiryDate) : '',\r\n            addressType: address.addressType,\r\n            address1: address.address1,\r\n            address2: address.address2,\r\n            city: address.city,\r\n            country: address.country,\r\n            state: address.state,\r\n            zipCode: address.zipCode,\r\n            phoneNumber: res.customerInfoList[0].phoneNumber,\r\n            landlineNumber: res.customerInfoList[0].landlineNumber,\r\n            primaryEmailAdress: res.customerInfoList[0].primaryEmailAdress\r\n          };\r\n          if (this.cardInitiationForm.value.swiftCode == null || this.cardInitiationForm.value.swiftCodeEnable == null) {\r\n            console.log(this.cardInitiationForm.value.swiftCode);\r\n            this.flag = false;\r\n          }\r\n          this.cifNumberPrimary = cifNumber;\r\n          this.ls.setItem(\"Card_CIF_NUM_PRIMARY\", this.cifNumberPrimary);\r\n          this.apiService.sendCIF(queryParams);\r\n          this.apiService.fetchAccountIdByCustId(cifNumber).subscribe((accountNo: []) => {\r\n            this.accountNoArr = accountNo;\r\n            this.cardInitiationForm.controls.customerAccount.setValue(this.accountNoArr?.[0])\r\n            console.log(accountNo);\r\n          });\r\n        }\r\n        this.cdr.markForCheck();\r\n\r\n      });\r\n      this.getAccountData(cifNumber);\r\n    }\r\n  }\r\n  changeEvent(event: any) {\r\n    console.log(event.value);\r\n    this.cardType = event.value\r\n    if (event.value == \"Credit\") {\r\n      this.iskycStatus = true;\r\n      if (this.kycStatus == \"APPROVED\") {\r\n        this.isGoForKyc = true;\r\n      }\r\n      else {\r\n        this.isGoForKyc = false;\r\n      }\r\n\r\n    }\r\n    else {\r\n      this.isGoForKyc = true;\r\n      this.iskycStatus = false;\r\n    }\r\n  }\r\n  convertDate(value) {\r\n    let date = moment(value).format('YYYY-MMM-DD'); // ISO 8601 format\r\n    // let date = new Date(value).format('yyyy-MMM-dd');\r\n    if (date)\r\n      return date;\r\n  }\r\n  goToKyc() {\r\n    this.ls.setItem('cardType', this.cardType);\r\n    this.ls.setItem(\"accountType\", 'cardOrigination')\r\n    this.router.navigate([`/others/kyc`]);\r\n  }\r\n\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/undraw_opinion_dxp8.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title\"><b>Card Initiation</b></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div fxLayout=\"row\">\r\n  <div fxFlex=\"100\">\r\n    <mat-card class=\"p-0\">\r\n      <mat-card-title>\r\n        <fieldset>\r\n        <legend visible=\"true\">Card Initiation</legend>\r\n        </fieldset>\r\n      </mat-card-title>\r\n      <mat-card-content>\r\n        <form fxLayout=\"column\" [formGroup]=\"cardInitiationForm\">\r\n          <div fxFlex=\"100%\" fxLayoutGap=\"10px\">\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n              <div class=\"pb-1\">\r\n                <label class=\"hint\">Existing Customer *</label>\r\n\r\n                <mat-slide-toggle style=\"margin-left: 1cm;\" name=\"scholarshipOrBusinessEligible\"\r\n                  formControlName=\"existingCustomer\" (change)=\"goToggle($event)\">\r\n                </mat-slide-toggle>\r\n              </div>\r\n\r\n              <div class=\"flex-grow-1\" fxFlex=\"100%\" *ngIf=\"iskycStatus\" fxLayout=\"column\">\r\n                <div fxFlex=\"100%\">\r\n                  <label class=\"hint\">KYC ID</label>&nbsp;\r\n                  <label style=\"color: #03a9f4;\">{{kycRefrence}}</label>\r\n                  <label class=\"hint\">KYC Status</label>&nbsp;\r\n                  <label style=\"color: #03a9f4;\">{{kycStatus}}</label>\r\n                </div>\r\n                <div>\r\n                  &nbsp;&nbsp;&nbsp;<button mat-button [disabled]=\"isGoForKyc || isExistingCustomer\" (click)=\"goToKyc()\"\r\n                    style=\"text-decoration: underline;\">Go For KYC</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"pb-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Card Type *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <mat-select formControlName=\"cardType\" placeholder=\"Select\"\r\n                    (selectionChange)=\"changeEvent($event)\">\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option *ngIf=\"isExistingCustomer\" value=\"Debit\">Debit</mat-option>\r\n                    <mat-option value=\"Credit\">Credit</mat-option>\r\n                    <mat-option *ngIf=\"isExistingCustomer\" value=\"Forex\">Forex</mat-option>\r\n\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('cardType').valid  && cardInitiationForm.get('cardType').touched \">\r\n                  &nbsp;&nbsp;&nbsp;Card Type is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n\r\n              </div>\r\n              <div class=\"pb-1\" *ngIf=\"isExistingCustomer\">\r\n                <div>\r\n                  <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">CIF Number*</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <input matInput class=\"alignment\" type=\"text\" (keypress)=_keyPress($event)\r\n                    (change)=\"fetchByCif(cardInitiationForm.get('cifNumber').value)\"\r\n                    (keyup)=\"onKeyPress($event)\" [formControl]=\"cifNumberForm\" [matAutocomplete]=\"auto\"\r\n                    formControlName=\"cifNumber\" placeholder=\"CIF Number\" />\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                *ngIf=\"!cardInitiationForm.get('cifNumber').valid  && cardInitiationForm.get('cifNumber').touched\">\r\n                &nbsp;&nbsp;&nbsp; CIF Number Is Required\r\n                </mat-error>\r\n                  </mat-form-field>\r\n              </div>\r\n\r\n                <div>\r\n                  <mat-autocomplete #auto=\"matAutocomplete\">\r\n                    <mat-option *ngFor=\"let option of listOfCustByCif\" [value]=\"option.customerId\">\r\n                      <div fxLayout=\"row wrap\" style=\"margin-top: 20px;\">\r\n                        <div fxFlex=\" 100\">\r\n                          <div mat-card-avatar *ngIf=\"option?.profileImage =='not_available'\" class=\"example-header-image-dropdown\" fxFlex=\"10\">\r\n                            <h3 align=\"center\" style=\"margin-top: 5px;font-size: large;\">\r\n                              {{option?.firstName | slice:0:1 | uppercase}}{{option?.lastName | slice:0:1 | uppercase}}\r\n                            </h3>\r\n                          </div>\r\n                          <div *ngIf=\"option?.profileImage !='not_available'\" mat-card-avatar fxFlex=\"10\">\r\n                            <img matListAvatar\r\n                              style=\"border-radius: 50%;height: 85%;margin-right: 20px;width: 100%;margin-bottom: 50px;\" align=\"center\"\r\n                              [src]=\"option?.profileImage\" alt=\"...\">\r\n                          </div>\r\n                          <div fxFlex=\"80\">\r\n                            <h5 style=\"margin-bottom: 0px;\">\r\n                              {{option?.firstName | uppercase}}\r\n                              {{option?.middleName | uppercase}}\r\n                              {{option?.lastName | uppercase}}\r\n                            </h5>\r\n                            <h6 style=\"margin-top: 0px;\">#{{option?.cifNumber}}</h6>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </mat-option>\r\n                  </mat-autocomplete>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"pb-1\" *ngIf=\"!isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n\r\n                <mat-label class=\"hint\">Currency *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <mat-select formControlName=\"currency\" [(ngModel)]=\"selectedCurrency\"placeholder=\"Select\">\r\n                    <mat-option value=\"\">Select</mat-option>\r\n                    <mat-option [value]=\"currency\" *ngFor=\"let currency of localCurrencyArr\">{{currency}}</mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('currency').valid  && cardInitiationForm.get('currency').touched\">\r\n                  &nbsp;&nbsp;&nbsp;Currency is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n\r\n              </div>\r\n\r\n              <div class=\"pb-1\" *ngIf=\"isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Currency</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <input matInput class=\"alignment\" type=\"text\" autocomplete=\"off\" formControlName=\"currency\"\r\n                    placeholder=\"currency\" name=\"currency\" (keypress)=\"_keyPress($event)\" />\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('currency').valid  && cardInitiationForm.get('currency').touched\">\r\n                  &nbsp;&nbsp;&nbsp;currency is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n\r\n              <div class=\"pb-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Affinity Program *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <mat-select formControlName=\"affinityProgram\" placeholder=\"Select\">\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option value=\"Affinity Program1\">Affinity Program1</mat-option>\r\n                    <mat-option value=\"Affinity Program2\">Affinity Program2</mat-option>\r\n\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('affinityProgram').valid  && cardInitiationForm.get('affinityProgram').touched\">\r\n                  &nbsp;&nbsp;&nbsp;Affinity Program is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"pb-1\" *ngIf=\"!isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Name On Card *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <input matInput class=\"alignment\" type=\"text\" (keypress)=letterOnly($event) formControlName=\"nameOnCard\"\r\n                    placeholder=\"Name On Card\" name=\"nameOnCard\" required/>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('nameOnCard').valid  && cardInitiationForm.get('nameOnCard').touched\" >\r\n                  &nbsp;&nbsp;&nbsp;Name on Card is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n\r\n              </div>\r\n\r\n\r\n\r\n            </div>\r\n\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"pb-1\" *ngIf=\"isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Customer Account Number *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <mat-select formControlName=\"customerAccount\"  >\r\n                    <mat-option [value]=\"accNo\" *ngFor=\"let accNo of accountNoArr\">{{accNo}}</mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('customerAccount').valid  && cardInitiationForm.get('customerAccount').touched\">\r\n                  &nbsp;&nbsp;&nbsp;Customer Account is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"pb-1\" *ngIf=\"!isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Customer Account Number</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <input matInput class=\"alignment\" type=\"text\" autocomplete=\"off\" formControlName=\"customerAccount\"\r\n                    placeholder=\"Customer Account Number\" name=\"customerAccount\" (keypress)=\"_keyPress($event)\" />\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('customerAccount').valid  && cardInitiationForm.get('customerAccount').touched\">\r\n                  &nbsp;&nbsp;&nbsp;Customer Account is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n\r\n              <div class=\"pb-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Applicant Name *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <input *ngIf=\"!isExistingCustomer\" matInput class=\"alignment\" type=\"text\" (keypress)=letterOnly($event)\r\n                    formControlName=\"applicantName\" placeholder=\"Applicant Name\" />\r\n                  <input *ngIf=\"isExistingCustomer\" matInput class=\"alignment\" type=\"text\" (keypress)=letterOnly($event) readonly\r\n                    formControlName=\"applicantName\" placeholder=\"Applicant Name\" />\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n\r\n              </div>\r\n\r\n              <div class=\"pb-1\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Employment Type *</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n                  <mat-select formControlName=\"employmentType\" placeholder=\"Select\">\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option *ngFor=\"let employment of arrayofEmployment\" [value]=\"employment\">{{employment}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                <!-- </mat-card> -->\r\n                <mat-error\r\n                  *ngIf=\"!cardInitiationForm.get('employmentType').valid  && cardInitiationForm.get('employmentType').touched\">\r\n                  &nbsp;&nbsp;&nbsp;Employment Type is Required!\r\n                </mat-error>\r\n                </mat-form-field>\r\n\r\n              </div>\r\n              <div class=\"pb-1\" *ngIf=\"isExistingCustomer\">\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                <mat-label class=\"hint\">Name On Card</mat-label>\r\n                <!-- <mat-card appearance=\"outline\" class=\"full-width\"> -->\r\n\r\n                  <input matInput class=\"alignment\" type=\"text\" formControlName=\"nameOnCard\" (keypress)=\"letterOnly($event)\"\r\n                    placeholder=\"Name On Card\" />\r\n                <!-- </mat-card> -->\r\n                </mat-form-field>\r\n\r\n              </div>\r\n\r\n\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          <div fxFlex=\"100%\" fxLayoutGap=\"10px\">\r\n\r\n            <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n              <div class=\"pb-1\">\r\n                <label class=\"hint\">Addon Card</label>\r\n\r\n                <mat-slide-toggle style=\"margin-left: 1cm;\"formControlName=\"addOnCard\" (change)=\"addOnCard($event)\">\r\n                </mat-slide-toggle>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"mt-32\">\r\n            <button mat-button rounded (click)=\"goBack()\">\r\n              Back\r\n            </button>\r\n\r\n            <button class=\"Nextbtn\" mat-raised-button (click)=\"onSubmit()\" [disabled]=\"(isExistingCustomer || cardInitiationForm.value.cardType !== 'Credit' )?(!cardInitiationForm.valid):(!cardInitiationForm.valid || !isGoForKyc)\" color=\"primary\">\r\n\r\n              Next\r\n            </button>\r\n          </div>\r\n\r\n\r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n@Component({\r\n  selector: 'app-approval-details',\r\n  templateUrl: './approval-details.component.html',\r\n  styleUrls: ['./approval-details.component.scss']\r\n})\r\nexport class ApprovalDetailsComponent implements OnInit {\r\n  approvalForm: FormGroup;\r\n  arrayAccountType: string[];\r\n  arrayAccountCurrency: string[];\r\n  arrayUserRecomendation: string[];\r\n  cardId: any;\r\n  showEditOption: boolean = false;\r\n  arrayAccountBranch: any;\r\n  currency: any;\r\n\r\n  constructor(private api: ApiService,\r\n    private ls: LocalStoreService,private fb:FormBuilder,\r\n    private apiService:ApiService,private router: Router,\r\n    private accountService : AccountService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getUserRecomendation(\"user_recomendation\");\r\n    this.getAccountType(\"account_type\")\r\n    this.getAccountBranchDetails();\r\n    \r\n    this.buildformGroup();\r\n    console.log(this.approvalForm);\r\n\r\n    this.cardId=this.ls.getItem('cardId');\r\n    console.log(\"this.cardId\",this.cardId);\r\n    this.getCardInitiationDetails();\r\n    let isApprovalDetails: boolean = this.ls.getItem('CARD_APPROVAL_DONE');\r\n    console.log(\"checc\", isApprovalDetails)\r\n    if(this.cardId!=null && isApprovalDetails ){\r\n      this.showEditOption = true;\r\n      this.getApprovalDetails();\r\n\r\n    }\r\n  }\r\n\r\n  buildformGroup(data?){\r\n    this.approvalForm = this.fb.group({\r\n      accountType:[data ? data.accountType : '',Validators.required],\r\n      productCode:[data ? data.productCode :'',Validators.required],\r\n      userRecommendation:[data ? data.userRecommendation :'',Validators.required],\r\n      accountBranch:[data ? data.accountBranch :'',Validators.required],\r\n      accountCurrency:[data ? data.accountCurrency :'',Validators.required],\r\n      productName:[data ? data.productName :'',Validators.required],\r\n      existingValues:[data ? data.existingValues :'',Validators.required],\r\n      remarks:[data ? data.remarks :'']\r\n    })\r\n  }\r\n  onSubmit(){\r\n    console.log(\"data\", this.approvalForm.value);\r\n    \r\n    let payload={\r\n      cardId: this.cardId,\r\n      accountBranch: this.approvalForm.value.accountBranch,\r\n      accountCurrency: this.approvalForm.value.accountCurrency,\r\n      accountType: this.approvalForm.value.accountType,\r\n      existingValues: this.approvalForm.value.existingValues,\r\n      productCode: this.approvalForm.value.productCode,\r\n      productName: this.approvalForm.value.productName,\r\n      remarks: this.approvalForm.value.remarks,\r\n      userRecommendation: this.approvalForm.value.userRecommendation,\r\n\r\n    }\r\n    this.apiService.upsertApprovalDetails(payload)\r\n    .subscribe((data: any) => {\r\n\r\n      console.log(\"data\",data);\r\n      \r\n    });\r\n    this.next();\r\n  }\r\nnext(){\r\n  this.ls.setItem('CARD_APPROVAL_DONE', true);\r\n  this.ls.setItem('CARD_SUPERVISOR_DONE',true);\r\n  this.accountService.refresh.next();\r\n  this.router.navigate([`/cardaccount/DigitalSigning/list`]);\r\n\r\n}\r\ngoBack(){\r\n  this.router.navigate([`/cardaccount/SupervisorApprovalStage/list`]);\r\n}\r\n  getApprovalDetails(){\r\n\r\n    this.apiService.getApprovalDetails(this.cardId)\r\n    .subscribe((resp: any) => {\r\n      this.buildformGroup(resp);\r\n\r\n      console.log(\"data\",resp);\r\n     \r\n    });\r\n  }\r\n  onKeyPress(event: any) {\r\n    const number = /[0-9\\+\\-\\ ]/;\r\n    let inputCharacter = String.fromCharCode(event.charCode);\r\n    if (event.keyCode != 8 && !number.test(inputCharacter)) {\r\n      event.preventDefault();\r\n      console.log(\"event:\", event)\r\n    }\r\n  }\r\n\r\n  getAccountCurrency(key: string) {\r\n    this.api.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayAccountCurrency = data;\r\n    });\r\n  }\r\n\r\n  getAccountType(key: string) {\r\n    this.api.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayAccountType = data;\r\n    });\r\n  }\r\n  \r\n  getUserRecomendation(key: string) {\r\n    this.api.getDropDownValues(key).subscribe((data) => {\r\n      this.arrayUserRecomendation = data;\r\n    });\r\n  }\r\n\r\n  getAccountBranchDetails() {\r\n    //debugger\r\n    this.api.getAccountBranch().subscribe((data) => {\r\n      console.log(\"data:: AccountBranch \", data)\r\n      this.arrayAccountBranch = data;\r\n    });\r\n  }\r\n\r\n  getCardInitiationDetails(){\r\n    this.apiService.getCardInitiationDetails(this.cardId)\r\n    .subscribe((resp: any) => {\r\n    console.log(\"data\",resp);\r\n    this.currency=resp.currency;  \r\n    this.approvalForm.controls.accountCurrency.setValue(this.currency);\r\n    });\r\n  }\r\n\r\n\r\n  keyPressAlphanumeric(event) {\r\n    var inp = String.fromCharCode(event.keyCode);\r\n    if (/[a-zA-Z0-9]/.test(inp)) {\r\n      return true;\r\n    } else {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\" class=\"matcard-size1\">\r\n    <div fxFlex=\"100\">\r\n      <div class=\"propic text-center\">\r\n        <img\r\n          src=\"assets/images/svg/MaskGroup_16.svg\"\r\n          alt=\"\"\r\n          class=\"w-90\"\r\n        />\r\n      </div>\r\n      <div class=\"profile-title text-center mt-8\">\r\n        <div class=\"main-title1\"><b>Approval Details</b></div>\r\n      </div>\r\n    </div>\r\n    <div fxFlex=\"100\" class=\"mt-24\">\r\n      <h2 class=\"ml-16\">Approval Details</h2>\r\n      <div class=\"mt-24\"></div>\r\n  \r\n      <mat-card  >\r\n        <form [formGroup]=\"approvalForm\">\r\n        <mat-card-content>\r\n          <div fxLayout=\"row\" fxLayoutGap=\"25px\">\r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\" class=\"pr-1\">\r\n              <div class=\"pb-1\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\" >\r\n                  <mat-label>Account Type*</mat-label>\r\n                  <mat-select name=\"accountType\" placeholder=\"Account type\" formControlName=\"accountType\" >\r\n                     <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option *ngFor=\"let arrayAccountType of arrayAccountType\" [value]=\"arrayAccountType\" > \r\n                      {{arrayAccountType}} \r\n                    </mat-option> \r\n                  </mat-select>\r\n                  <mat-error *ngIf=\"approvalForm.get('accountType').hasError('required')\">\r\n                    Please Select Account Type\r\n                   </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n  \r\n              <div class=\"pb-1\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\" >\r\n                  <mat-label>Product Code*</mat-label>\r\n                  <input\r\n                    matInput\r\n                    name=\"productCode\"\r\n                    placeholder=\"Product Code\"\r\n                    formControlName=\"productCode\" \r\n                  />\r\n                  <!-- <mat-error *ngIf=\"approvalForm.get('productCode').hasError('required')\">\r\n                    Please Select Product Code\r\n                   </mat-error> -->\r\n                   <!-- <mat-icon matSuffix>account_balance</mat-icon> -->\r\n                </mat-form-field>\r\n                <mat-error\r\n                   *ngIf=\"approvalForm.get('productCode').touched &&\r\n                   approvalForm.get('productCode').value == 0\">\r\n                   Please Enter valid Product ID\r\n              </mat-error>\r\n              </div>\r\n  \r\n              <div class=\"pb-1\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\"  >\r\n                  <mat-label>Account Currency*</mat-label>\r\n                    <input\r\n                    matInput\r\n                    name=\"account_currency\"\r\n                    placeholder=\"Account Currency\"\r\n                    formControlName=\"accountCurrency\"\r\n                    (keypress)=\"keyPressAlphanumeric($event)\"\r\n                    readonly\r\n                  />\r\n                  <mat-error *ngIf=\"approvalForm.get('accountCurrency').hasError('required')\">\r\n                    Please Enter Account Currency\r\n                   </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n  \r\n              <div class=\"pb-1\" >\r\n                <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                  <mat-label>User Recomendation*</mat-label>\r\n                  <mat-select name=\"owner\" placeholder=\"Recommended for Approval\" formControlName=\"userRecommendation\" >\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option *ngFor=\"let userRecommendation of arrayUserRecomendation\" [value]=\"userRecommendation\" > \r\n                      {{userRecommendation}} \r\n                    </mat-option> \r\n                  </mat-select>\r\n                  <mat-error *ngIf=\"approvalForm.get('userRecommendation').hasError('required')\">\r\n                   Please Select user Recommendation\r\n                  </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              \r\n            </div>\r\n  \r\n            <div fxFlex=\"100\" fxFlex.gt-xs=\"50\">\r\n              <div class=\"pb-1\" >\r\n                <mat-form-field class=\"full-width\" appearance=\"outline\" >\r\n                  <mat-label>Account Branch*</mat-label>\r\n                  <mat-select name=\"accountBranch\" placeholder=\"Account Branch\" formControlName=\"accountBranch\" >\r\n                    <!-- <mat-option value=\"\">Select</mat-option> -->\r\n                    <mat-option *ngFor=\"let arrayAccountBranch of arrayAccountBranch\" [value]=\"arrayAccountBranch.branchName\" > \r\n                      {{arrayAccountBranch.branchName}} \r\n                    </mat-option> \r\n                  </mat-select>\r\n                  <mat-error *ngIf=\"approvalForm.get('accountBranch').hasError('required')\">\r\n                    Please Select Account Branch \r\n                   </mat-error>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"pb-1\" >\r\n                <mat-form-field class=\"full-width\" appearance=\"outline\" >\r\n                  <mat-label>Product Name*</mat-label>\r\n                  <input\r\n                    matInput\r\n                    name=\"productName\" \r\n                    placeholder=\"Product Name\" \r\n                    formControlName=\"productName\"\r\n                    (keypress)=\"keyPressAlphanumeric($event)\"\r\n                  />\r\n                  <!-- <mat-error *ngIf=\"approvalForm.get('productName').hasError('required')\">\r\n                   Please Enter Product Name\r\n                   </mat-error> -->\r\n                </mat-form-field>\r\n                <mat-error\r\n                   *ngIf=\"approvalForm.get('productName').touched &&\r\n                   approvalForm.get('productName').value == 0\">\r\n                   Please Enter valid Product Name\r\n                </mat-error>\r\n              </div>\r\n              \r\n              <div class=\"pb-1\" >\r\n                <mat-form-field class=\"full-width\" appearance=\"outline\" >\r\n                  <mat-label>Existing Value*</mat-label>\r\n                  <input\r\n                    matInput onlyNumber\r\n                    name=\"existingValues\" \r\n                    placeholder=\"Existing Value\"\r\n                    (keypress)=\"onKeyPress($event)\"\r\n                    formControlName=\"existingValues\"\r\n                  />\r\n                  <!-- <mat-error *ngIf=\"approvalForm.get('existingValues').hasError('required')\">\r\n                    Please Enter Existing Value\r\n                   </mat-error> -->\r\n                </mat-form-field>\r\n                <mat-error\r\n                   *ngIf=\"approvalForm.get('existingValues').touched &&\r\n                   approvalForm.get('existingValues').value == 0\">\r\n                   Please Enter valid Existing Value\r\n                </mat-error>\r\n              </div>\r\n\r\n              <div class=\"pb-1\" >\r\n                <mat-form-field class=\"full-width\" appearance=\"outline\" >\r\n                  <mat-label>Remarks</mat-label>\r\n                  <input\r\n                    matInput\r\n                    name=\"remarks\" \r\n                    placeholder=\"Remarks\" \r\n                    formControlName=\"remarks\"\r\n                  />\r\n                  <mat-error *ngIf=\"approvalForm.get('remarks').hasError('required')\">\r\n                    Please Enter Remarks\r\n                   </mat-error>\r\n                </mat-form-field>\r\n              </div> \r\n            </div>\r\n          </div>\r\n        </mat-card-content>\r\n      </form>\r\n      </mat-card>\r\n      \r\n    </div>\r\n  \r\n    <div fxFlex=\"100\" class=\"mt-16\">\r\n      <button mat-stroked-button  (click)=goBack() >BACK</button>\r\n      <span fxFlex></span>\r\n      <button class=\"Nextbtn\" mat-raised-button color=\"primary\" type=\"button\"\r\n      (click)=\"onSubmit()\"\r\n       [disabled]=\"approvalForm.invalid\" >Next</button>\r\n    </div>\r\n  </div>","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { MatDialogRef } from \"@angular/material/dialog\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\n\r\n@Component({\r\n  selector: 'app-intrest-details-summary',\r\n  templateUrl: './intrest-details-summary.component.html',\r\n  styleUrls: ['./intrest-details-summary.component.scss']\r\n})\r\nexport class IntrestDetailsSummaryComponent implements OnInit {\r\n  interestForm: FormGroup;\r\n  savingForm: FormGroup;\r\n  loanForm: FormGroup;\r\n  accountType: any;\r\n  accountId: any;\r\n  resp: {\r\n    intrestType: string;\r\n    interestRateApplicable: string;\r\n    marginIn: number;\r\n    effectiveRate: number;\r\n  }[];\r\n  // loanAccountId: any;\r\n  cardId: number;\r\n  constructor(\r\n    private ls: LocalStoreService,\r\n    private snack: MatSnackBar,\r\n    private dialogRef: MatDialogRef<IntrestDetailsSummaryComponent>,\r\n    private api: ApiService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.interestForm = this.formBuilder.group({\r\n      interest: new FormArray([]),\r\n    });\r\n    this.savingForm = this.formBuilder.group({\r\n      saving: new FormArray([]),\r\n    });\r\n\r\n    this.loanForm = this.formBuilder.group({\r\n      loan: new FormArray([]),\r\n    });\r\n\r\n    this.api.cardInterestFetchById(this.cardId).subscribe((resp) => {\r\n      console.log(\"resp from backend \", this.resp);\r\n      this.resp = resp;\r\n      this.onChangeInterest(this.resp.length);\r\n      this.in.patchValue(this.resp);\r\n    });\r\n  }\r\n\r\n  assignAccountType(accountType) {\r\n    this.accountType = accountType;\r\n  }\r\n\r\n  onChangeInterest(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.in.length < numberOfItems) {\r\n      for (let i = this.in.length; i < numberOfItems; i++) {\r\n        this.in.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            intrestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            cardId: [this.cardId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.in.length; i >= numberOfItems; i--) {\r\n        this.in.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  onChangeSaving(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.is.length < numberOfItems) {\r\n      for (let i = this.is.length; i < numberOfItems; i++) {\r\n        this.is.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            interestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            cardId: [this.cardId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.is.length; i >= numberOfItems; i--) {\r\n        this.is.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  onChangeLoan(e) {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    const numberOfItems = e || 0;\r\n    if (this.iloan.length < numberOfItems) {\r\n      for (let i = this.iloan.length; i < numberOfItems; i++) {\r\n        this.iloan.push(\r\n          this.formBuilder.group({\r\n            intrestType: [\"\"],\r\n            interestRateApplicable: [\"\"],\r\n            marginIn: [\"\"],\r\n            effectiveRate: [\"\"],\r\n            cardId: [this.cardId],\r\n            createdDate: [\"\"],\r\n            createdBy: [\"\"],\r\n            lastModifiedDate: [\"\"],\r\n            lastModifiedBy: [\"\"],\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      for (let i = this.iloan.length; i >= numberOfItems; i--) {\r\n        this.iloan.removeAt(i);\r\n      }\r\n    }\r\n  }\r\n  // convenience getters for easy access to form fields\r\n  get f() {\r\n    return this.interestForm.controls;\r\n  }\r\n  get in() {\r\n    return this.f.interest as FormArray;\r\n  }\r\n  get fs() {\r\n    return this.savingForm.controls;\r\n  }\r\n  get is() {\r\n    return this.fs.saving as FormArray;\r\n  }\r\n  get floan() {\r\n    return this.loanForm.controls;\r\n  }\r\n  get iloan() {\r\n    return this.floan.loan as FormArray;\r\n  }\r\n\r\n  goBack() {\r\n      this.router.navigate([\r\n        `/cardaccount/applicationEnrichment/list`,\r\n      ]); \r\n  }\r\n\r\n  onSubmit(form) {}\r\n  edit() {\r\n    this.dialogRef.close();\r\n    this.api.setFlag({\r\n      flag: true,\r\n    });\r\n    this.router.navigate([\r\n      `/cardaccount/applicationEnrichment/intrest-details`,\r\n    ]);\r\n  }\r\n  check(accountType) {\r\n    if (accountType) {\r\n      console.log(this.snack.open);\r\n      this.snack.open(\"Intrest detail is empty\", \"Error\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","\r\n<mat-card class=\"matCard\">\r\n    <button mat-button id=\"close\" mat-dialog-close>\r\n      <mat-icon class=\"closeicon\">close</mat-icon>\r\n    </button>\r\n    <div class=\"spanDiv1\">\r\n      <span class=\"span\">Interest Details Summary\r\n  \r\n      </span>\r\n      <mat-divider class=\"divider\"></mat-divider>\r\n    </div>\r\n    <div fxLayout=\"row wrap\" class=\"main\">\r\n      <div fxFlex=\"100\">\r\n      </div>\r\n      <div fxFlex=\"100\" class=\"m-333\" class=\"mainDiv\">\r\n        <div class=\"mt-24\"></div>\r\n        <form *ngIf=\"interestForm\" [formGroup]=\"interestForm\">\r\n          <table class=\"cart-table default-bg mat-elevation-z0\">\r\n            <tbody>\r\n              <tr [formGroup]=\"interest\" class=\"mt-4\" *ngFor=\"let interest of in.controls; let i = index\" class=\"form\">\r\n                <div class=\"row\">\r\n                  <ng-container>\r\n  \r\n                    <div class=\"heading\">\r\n                      <input matInput formControlName=\"intrestType\" name=\"account_branch\" id=\"headingInput\" readonly />\r\n                    </div>\r\n  \r\n                    <td>\r\n                      <mat-card class=\"matCardBox\">\r\n                        <mat-label class=\"label\">Interest Rate Applicable</mat-label>\r\n                        <input matInput formControlName=\"intrestRateApplicable\" name=\"account_branch\" class=\"input\"\r\n                          readonly />\r\n                      </mat-card>\r\n                    </td>\r\n                    <td>\r\n                      <mat-card class=\"matCardBox\">\r\n                        <mat-label class=\"label\">Margin in %</mat-label>\r\n                        <input matInput formControlName=\"marginIn\" name=\"account_branch\" class=\"input\" readonly />\r\n                      </mat-card>\r\n                    </td>\r\n                    <td>\r\n                      <mat-card class=\"matCardBox\">\r\n                        <mat-label class=\"label\">Effective Rate %</mat-label>\r\n                        <input matInput formControlName=\"effectiveRate\" name=\"account_branch\" value=\"\" class=\"input\"\r\n                          readonly />\r\n  \r\n                      </mat-card>\r\n                    </td>\r\n                  </ng-container>\r\n                </div>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </form>\r\n      </div>\r\n  \r\n    </div>\r\n  \r\n  \r\n    <span class=\"spanDiv\" (click)=\"edit()\">Edit</span>\r\n  </mat-card>","import { ChangeDetectorRef, Component, OnInit } from \"@angular/core\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { Router } from \"@angular/router\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { CardAccChargeDetSumComponent } from \"./charge-details/card-acc-charge-det-sum/card-acc-charge-det-sum.component\";\r\nimport { IntrestDetailsSummaryComponent } from \"./intrest-details/intrest-details-summary/intrest-details-summary.component\";\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n@Component({\r\n  selector: \"app-application-enrichment\",\r\n  templateUrl: \"./application-enrichment.component.html\",\r\n  styleUrls: [\"./application-enrichment.component.scss\"],\r\n})\r\nexport class ApplicationEnrichmentComponent implements OnInit {\r\n  isCardInterestDetails: boolean = false;\r\n  isCardChargeDetails: boolean = false;\r\n  isCardApplicationEnrichmentDone: boolean = false;\r\n  cardId: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public dialog: MatDialog,\r\n    private ls: LocalStoreService,\r\n    private accountService : AccountService, private cdr: ChangeDetectorRef\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.isCardInterestDetails = this.ls.getItem('CARD_INTEREST_DETAILS_DONE');\r\n    this.isCardChargeDetails = this.ls.getItem('CARD_CHARGE_DETAILS_DONE');\r\n\r\n    if (this.isCardInterestDetails && this.isCardChargeDetails) {\r\n      this.isCardApplicationEnrichmentDone = true;\r\n    }\r\n  }\r\n\r\n  goToInterestSummary() {\r\n    const dialogRef = this.dialog.open(IntrestDetailsSummaryComponent, {\r\n      data: { number: \"9656849771\", type: \"Mobile Number\" },\r\n      disableClose: true,\r\n    });\r\n    dialogRef.afterClosed().subscribe((submit) => {});\r\n  }\r\n\r\n  goToChargeSummary() {\r\n    const dialogRef = this.dialog.open(CardAccChargeDetSumComponent, {\r\n      data: { number: \"9656849771\", type: \"Mobile Number\" },\r\n      disableClose: true,\r\n    });\r\n    dialogRef.afterClosed().subscribe((submit) => {});\r\n  }\r\n\r\n  navigate() {\r\n    this.router.navigate([`/cardaccount/applicationEnrichment/Summary`]);\r\n  }\r\n}\r\n","<div class=\"matcard-size1\">\r\n<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. \r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div fxFlex=\"100\" *ngIf=\"isCardApplicationEnrichmentDone\" class=\"mt-8\"><!--isCardApplicationEnrichementDone-->\r\n\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Enrichment Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\" (click)=\"navigate()\">View Summary</button>\r\n            </div>\r\n        </mat-card>\r\n    </div>\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        \r\n        <!-- Card 1 start-->\r\n        <mat-card [ngClass]=\"{'border-size': isCardInterestDetails || !isCardInterestDetails  }\">\r\n            <mat-card-header>\r\n                <mat-card-title>1.Interest Details</mat-card-title>\r\n                \r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                    <div fxFlex=\"50%\"class=\"size\">\r\n                        <p>\r\n                            Interest Type and Effective Interest Rate is captured.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/Mask Ggroup 5.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n         \r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardInterestDetails\">\r\n                    <button mat-button color=\"primary\" (click)=\"goToInterestSummary()\">\r\n                        View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"!isCardInterestDetails\">\r\n                    <button mat-button color=\"primary\"\r\n                        [routerLink]=\"['/cardaccount/applicationEnrichment/intrest-details']\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n            </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        \r\n        <!-- Card 1 start-->\r\n        <mat-card  [ngClass]=\"{'border-size': isCardChargeDetails || !isCardChargeDetails && isCardInterestDetails  }\">\r\n            <mat-card-header>\r\n                <mat-card-title>2.Charge Details</mat-card-title>\r\n                \r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                    <div fxFlex=\"50%\"class=\"size\">\r\n                        <p>\r\n                            Charge Details are dispalyed.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/esign.png'\"class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n             \r\n            </mat-card-content>\r\n            \r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container *ngIf=\"isCardChargeDetails\">\r\n                    <button mat-button color=\"primary\" (click)=\"goToChargeSummary()\">\r\n                        View Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"!isCardChargeDetails\">\r\n                    <button mat-button color=\"primary\"\r\n                        [routerLink]=\"['/cardaccount/applicationEnrichment/charge-details']\"\r\n                        [disabled]=\"!isCardInterestDetails\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n            </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n</div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-document-upload',\r\n  templateUrl: './document-upload.component.html',\r\n  styleUrls: ['./document-upload.component.scss']\r\n})\r\nexport class DocumentUploadComponent implements OnInit {\r\n\r\n  isLoanApplicationEntryDone :boolean=false;\r\n  isLoanDetailScreen :boolean=false;\r\n \r\n  isDocumentUploadDone: boolean = false;\r\n  isDocumentUpload: boolean = false;\r\n\r\n\r\n  constructor(\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n  documentdetails(){\r\n    this.router.navigate([\r\n      `/cardaccount/documentupload/list/document-details`,\r\n    ]);\r\n\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n    <div fxFlex=\"100\">\r\n        <div class=\"profile-pic text-center\">\r\n            <img src=\"assets/images/svg/Group 605/Group 605.png\" class=\"main-profile-img\" />\r\n            <!-- <i class=\"fa fa-edit upload-icon\"></i> -->\r\n        </div>\r\n        <div class=\"profile-title text-center mt-8\">\r\n            <div class=\"main-title1\"><b>Create New Card Account</b></div>\r\n            <div class=\"text-muted1\">\r\n                Create a new card account with XYZ Bank in a better way. \r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <div fxFlex=\"100\" class=\"mt-8\">\r\n        <mat-card [@animate]=\"{ value: '*', params: { y: '50px', delay: '300ms' } }\">\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                <div fxFlex=\"10\">\r\n                    <mat-icon class=\"text-green\">check_circle</mat-icon>\r\n                </div>\r\n                <div fxFlex=\"30\">\r\n                    <h6>Application Entry Stage Completed</h6>\r\n                </div>\r\n                <span fxFlex></span>\r\n                <button mat-button color=\"primary\">\r\n                    View Summary\r\n                </button>\r\n            </div>\r\n        </mat-card>\r\n    </div> -->\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"mt-12\">\r\n    <div fxFlex=\"50\" fxFlex.gt-sm=\"50\" fxFlex.sm=\"50\">\r\n        <!-- [ngClass]=\"{'not-active':item.status == ''}\" -->\r\n        <!-- Card 1 start-->\r\n        <mat-card>\r\n            <mat-card-header>\r\n                <mat-card-title>1. Document Upload</mat-card-title>\r\n                <!-- <mat-card-subtitle> {{ item?.content }}</mat-card-subtitle> -->\r\n            </mat-card-header>\r\n            <mat-card-content>\r\n                <div fxLayout=\"row\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\r\n                    <div fxFlex=\"50%\" style=\"padding-left: 17px;\">\r\n                        <p class=\"colour\">\r\n                            All the necessary documents required for the application can be uploaded.\r\n                        </p>\r\n                    </div>\r\n                    <div fxFlex=\"50%\">\r\n                        <img [src]=\"'assets/images/svg/Mask Group 6.svg'\" class=\"card-img\" />\r\n                    </div>\r\n                </div>\r\n                <!--begin::Progress-->\r\n                <!-- <div class=\"mb-1\">\r\n            <mat-progress-bar\r\n              [color]=\"'primary'\"\r\n              mode=\"determinate\"\r\n              [value]=\"100\"\r\n              class=\"rounded\"\r\n              style=\"height: 6px\"\r\n            >\r\n            </mat-progress-bar>\r\n            <p class=\"m-0 text-right\">Completed</p>\r\n          </div> -->\r\n                <!--end::Progress-->\r\n            </mat-card-content>\r\n            <!--begin:: Card body-->\r\n            <mat-divider></mat-divider>\r\n            <mat-card-actions>\r\n                <ng-container>\r\n                    <button mat-button color=\"primary\" (click)=\"documentdetails()\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-container>\r\n\r\n                <!-- <ng-template #showLoan>\r\n                    <button mat-button color=\"primary\">\r\n                        Add Details <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                </ng-template> -->\r\n\r\n\r\n            </mat-card-actions>\r\n\r\n        </mat-card>\r\n        <!-- Card 1 end -->\r\n    </div>\r\n\r\n</div>\r\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { CommonModule, CurrencyPipe } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\n\r\nimport { SignaturePadModule } from 'angular2-signaturepad';\r\nimport { CardAccountRoutes } from './card-account.routing';\r\nimport { CardAccountComponent } from './card-account.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\nimport { SharedPipesModule } from 'app/shared/pipes/shared-pipes.module';\r\nimport { SharedDirectivesModule } from 'app/shared/directives/shared-directives.module';\r\nimport { SharedMaterialModule } from 'app/shared/shared-material.module';\r\nimport { ApplicationEntryStageComponent } from './application-entry-stage/application-entry-stage.component';\r\nimport { DocumentUploadComponent } from './document-upload/document-upload.component';\r\nimport { ApplicationEnrichmentComponent } from './application-enrichment/application-enrichment.component';\r\nimport { UnderwritingStageComponent } from './underwriting-stage/underwriting-stage.component';\r\nimport { AssessmentStageComponent } from './assessment-stage/assessment-stage.component';\r\nimport { SupervisorApprovalStageComponent } from './supervisor-approval-stage/supervisor-approval-stage.component';\r\nimport { DigitalSigningComponent } from './digital-signing/digital-signing.component';\r\nimport { DocumentDetailsComponent } from './document-upload/document-details/document-details.component';\r\nimport { IntrestDetailsComponent } from './application-enrichment/intrest-details/intrest-details.component';\r\nimport { ChargeDetailsComponent } from './application-enrichment/charge-details/charge-details.component';\r\nimport { IntrestDetailsSummaryComponent } from './application-enrichment/intrest-details/intrest-details-summary/intrest-details-summary.component';\r\nimport { EnrichmentSummaryComponent } from './application-enrichment/enrichment-summary/enrichment-summary.component';\r\nimport { MatCardModule } from '@angular/material/card';\r\n\r\nimport { UnderwritingCreditRatingComponent } from './underwriting-stage/underwriting-credit-rating/underwriting-credit-rating.component';\r\nimport { CardaccountQualitativeScoreboardComponent } from './underwriting-stage/cardaccount-qualitative-scoreboard/cardaccount-qualitative-scoreboard.component';\r\nimport { CardaccountApplicationAssessmentComponent } from './cardaccount-application-assessment/cardaccount-application-assessment.component';\r\nimport { UnderwritingCreditSummaryComponent } from './underwriting-stage/underwriting-credit-rating/underwriting-credit-summary/underwriting-credit-summary.component';\r\nimport { CardaccountApplicationAssessmentSummaryComponent } from './cardaccount-application-assessment/cardaccount-application-assessment-summary/cardaccount-application-assessment-summary.component';\r\nimport { CardaccountQualitativeSummaryComponent } from './underwriting-stage/cardaccount-qualitative-scoreboard/cardaccount-qualitative-summary/cardaccount-qualitative-summary.component';\r\nimport { ApprovalDetailsComponent } from './supervisor-approval-stage/approval-details/approval-details.component';\r\nimport { FinancialDetailsComponent } from './application-entry-stage/financial-details/financial-details.component';\r\nimport { CardCustomerInformationComponent } from './application-entry-stage/card-customer-information/card-customer-information.component';\r\nimport { CardAccountServicesComponent } from './application-entry-stage/card-account-services/card-account-services.component';\r\nimport { CardPrefrencesComponent } from './application-entry-stage/card-prefrences/card-prefrences.component';\r\nimport { CardAccountSummaryComponent } from './application-entry-stage/card-account-services/card-account-summary/card-account-summary.component';\r\nimport { CardInitiationComponent } from './application-entry-stage/card-initiation/card-initiation.component';\r\nimport { CardInitiationSummaryComponent } from './application-entry-stage/card-initiation/card-initiation-summary/card-initiation-summary.component';\r\nimport { DigitalSignNowOrLaterComponent } from './digital-signing/digital-sign-now-or-later/digital-sign-now-or-later.component';\r\nimport { UploadSignatureOrEsignComponent } from './digital-signing/upload-signature-or-esign/upload-signature-or-esign.component';\r\nimport { EsignaturePopComponent } from './digital-signing/esignature-pop/esignature-pop.component';\r\nimport { ApprovalDetailsSummaryComponent } from './supervisor-approval-stage/approval-details/approval-details-summary/approval-details-summary.component';\r\nimport { CardFinancialDetailsSummaryComponent } from './application-entry-stage/financial-details/card-financial-details-summary/card-financial-details-summary.component';\r\nimport { CardCustomerInfoSummaryComponent } from './application-entry-stage/card-customer-information/card-customer-info-summary/card-customer-info-summary.component';\r\n// import { ChargeDetailsSummaryComponent } from '../home/charge-details-summary/charge-details-summary.component';\r\nimport { CardAccChargeDetSumComponent } from './application-enrichment/charge-details/card-acc-charge-det-sum/card-acc-charge-det-sum.component';\r\nimport { CardPrefrenceSummaryComponent } from './application-entry-stage/card-prefrences/card-prefrence-summary/card-prefrence-summary.component';\r\nimport { CardaccountAppEntryStageViewSummaryComponent } from './application-entry-stage/cardaccount-app-entry-stage-view-summary/cardaccount-app-entry-stage-view-summary.component';\r\nimport { SucessMessageComponent } from './document-upload/sucess-message/sucess-message.component';\r\n// import { UploadLinkToEmailComponent } from './document-upload/upload-link-to-email/upload-link-to-email.component';\r\nimport { UnderwritingStageSummaryComponent } from './underwriting-stage/underwriting-stage-summary/underwriting-stage-summary.component';\r\n\r\nimport { OthersModule } from '../others/others.module';\r\nimport { SuccessAlertCardComponent } from './digital-signing/success-alert-card/success-alert-card.component';\r\nimport { DigitalsignSummaryComponent } from './digital-signing/digitalsign-summary/digitalsign-summary.component';\r\n@NgModule({\r\n  declarations: [\r\n    CardAccountComponent,\r\n    ApplicationEntryStageComponent,\r\n    DocumentUploadComponent,\r\n    ApplicationEnrichmentComponent,\r\n    UnderwritingStageComponent,\r\n    AssessmentStageComponent,\r\n    SupervisorApprovalStageComponent,\r\n    DigitalSigningComponent,\r\n    DocumentDetailsComponent,\r\n    IntrestDetailsComponent,\r\n    ChargeDetailsComponent,\r\n    IntrestDetailsSummaryComponent,\r\n    EnrichmentSummaryComponent,\r\n    // ChargeDetailsSummaryComponent,\r\n    UnderwritingCreditRatingComponent,\r\n    CardaccountQualitativeScoreboardComponent,\r\n    CardaccountApplicationAssessmentComponent,\r\n    UnderwritingCreditSummaryComponent,\r\n    CardaccountApplicationAssessmentSummaryComponent,\r\n    CardaccountQualitativeSummaryComponent,\r\n    ApprovalDetailsComponent,\r\n    FinancialDetailsComponent,\r\n    CardCustomerInformationComponent,\r\n    CardAccountServicesComponent,\r\n    CardPrefrencesComponent,\r\n    CardAccountSummaryComponent,\r\n    CardInitiationComponent,\r\n    CardInitiationSummaryComponent,\r\n    DigitalSignNowOrLaterComponent,\r\n    UploadSignatureOrEsignComponent,\r\n    EsignaturePopComponent,\r\n    ApprovalDetailsSummaryComponent,\r\n    CardFinancialDetailsSummaryComponent,\r\n\r\n    CardCustomerInfoSummaryComponent,\r\n\r\n    CardAccChargeDetSumComponent,\r\n\r\n    CardPrefrenceSummaryComponent,\r\n    CardaccountAppEntryStageViewSummaryComponent,\r\n    SucessMessageComponent,\r\n    // UploadLinkToEmailComponent\r\n    UnderwritingStageSummaryComponent,\r\n    SuccessAlertCardComponent,\r\n    DigitalsignSummaryComponent,\r\n  ],\r\n  imports: [\r\n    \r\n    CommonModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    FlexLayoutModule,\r\n    NgxDatatableModule,\r\n    FormsModule,\r\n    MatIconModule,\r\n    MatCardModule,\r\n    ReactiveFormsModule,\r\n    PerfectScrollbarModule,\r\n    SharedPipesModule,\r\n    SharedDirectivesModule,\r\n    SharedMaterialModule,\r\n    SignaturePadModule,\r\n    MatAutocompleteModule,\r\n    RouterModule.forChild(CardAccountRoutes),\r\n    OthersModule,\r\n   \r\n  ],\r\n  providers: [\r\n    CurrencyPipe\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n})\r\nexport class CardAccountModule {}\r\n","import { ChangeDetectorRef, Component, ElementRef, OnInit, Renderer2 } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { QualitativeScoreboardSummary } from 'app/shared/models/qualitativeScoreboardSummary';\r\n// import { AssessmentReportSummary } from 'app/shared/models/AssessmentReportSummary';\r\n// import { QualitativeScoreboardSummary } from 'app/shared/models/qualitativeScoreboardSummary';\r\nimport { ApiService } from 'app/shared/services/api.service';\r\nimport { LocalStoreService } from 'app/shared/services/local-store.service';\r\nimport { AccountService } from 'app/views/card-account/account.service';\r\n\r\n@Component({\r\n  selector: 'app-cardaccount-qualitative-scoreboard',\r\n  templateUrl: './cardaccount-qualitative-scoreboard.component.html',\r\n  styleUrls: ['./cardaccount-qualitative-scoreboard.component.scss']\r\n})\r\nexport class CardaccountQualitativeScoreboardComponent implements OnInit {\r\n\r\n  qsForm: FormGroup;\r\n  qsFormArray: FormArray;\r\n  accountId: any;\r\n  // accountType: any;\r\n  accountType=\"cardOrigin\";\r\n  loggedInUser: any;\r\n  sbMultiSelectAnswer: any[] = [];\r\n  scoreboardQuestionsArray: { applicantId: any, scoreCardDetails: any[],scorecardQuestion:any }[] = [];\r\n  scoreCardMappingArray: { applicantId: any, scoreCardDetails: { scoreCardQuestionId: any, scorecardAnswer: any, scoreCardMappingId: any }[] }[] = [];\r\n  numberOfApplicant = new FormControl('');\r\n  scoreCardId = new FormControl('');\r\n  // assessmentReportSummary: AssessmentReportSummary;\r\n  qualitativeScoreboardSummary: QualitativeScoreboardSummary;\r\n  isDataSaved: boolean = false;\r\n  disableDoneBtn: boolean = true;\r\n  anyErrorExist: boolean = false;\r\n  isQualitativeScreen: boolean = false;\r\n  isQualitative: any;\r\n  isQualitativeScoreboard:any;\r\n  previousUrl: string = '';\r\n  showEditOption: boolean = false;\r\n  overDraftByStatus:boolean;\r\n  no_of_applicants: any;\r\n  noOfapplicants:any;\r\n  isCardQualitativeScoreboard:boolean=false;\r\n  loanAccountId: any;\r\n  loanaccountID: any;\r\n  cardId:any;\r\n  sA: any;\r\n  scoreCardDetails:any;\r\n  sbSwlwctAnswer: any[];\r\n  sbSelectAnswer: string=\"\";\r\n  sbSelectAnswer1: any;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private api: ApiService,\r\n    private snack: MatSnackBar,\r\n    private fb: FormBuilder,\r\n    private ls: LocalStoreService,\r\n    private accountService: AccountService,\r\n    private elRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    //private urlService: UrlService,\r\n    private cdr:ChangeDetectorRef,\r\n  ) { }\r\n\r\n\r\n  ngOnInit(): void {\r\n    // this.loanaccountID = this.ls.getItem('loanAccountId');\r\n    // console.log(\"LOAN ACCOUNT ID:: \",this.loanaccountID);\r\n  //  this.accountType = this.ls.getItem('accountType');\r\n    this.cardId=this.ls.getItem('cardId');\r\n    this.loggedInUser = this.ls.getItem('ICUST_USER');\r\n    this.isCardQualitativeScoreboard = this.ls.getItem('CARD_QUALITATIVE_SCOREBOARD_DONE');\r\n    //this.no_of_applicants = this.ls.getItem('NO_OF_APPLICANTS');\r\n      \r\n    this.noOfapplicants = this.ls.getItem('CardNoOfApplicants');\r\n    // console.log(this.no_of_applicants);\r\n    console.log(this.noOfapplicants);\r\n    console.log(this.loggedInUser);\r\n    let isScoreCardScreen: boolean = JSON.parse(this.ls.getItem('ASSESSMENT_QA_DONE'));\r\n    \r\n    // if (this.loanaccountID != null && isScoreCardScreen) {\r\n      if ( this.cardId != null && this.isCardQualitativeScoreboard) {\r\n      this.showEditOption = true;\r\n      this.isQualitativeScreen = true;\r\n      this.getAllQualitative();\r\n    } else {\r\n      console.log(\"else\");\r\n      this.showEditOption = false;\r\n      this.loadData();\r\n    }\r\n  //  this.getAccountDetails();\r\n \r\n  //  this.accountType == \"current\" ? this.accountType = \"saving\" : this.accountType = \"saving\";//This line because we have backend data only for savings. This line is temporary.\r\n  // this.accountType == \"current\" ? this.accountType = \"loan\" : this.accountType = \"loan\";\r\n   /// this.accountType == \"current\" ? this.accountType = \"Home Loan\" : this.accountType = \"Home Loan\";\r\n   \r\n    // this.urlService.previousUrl$\r\n    //   .subscribe((previousUrl: string) => {\r\n    //     this.previousUrl = previousUrl\r\n    //   });\r\n\r\n   \r\n\r\n  }\r\n  counter(i: number) {\r\n    return new Array(i);\r\n}\r\n  loadData(){\r\n    this.api.getScorecardQuestions(this.accountType).subscribe((response) => {  \r\n      console.log(response);\r\n\r\n      console.log(this.noOfapplicants);\r\n      if(!this.noOfapplicants && response){\r\n        this.noOfapplicants=response.length;\r\n      }\r\n      response[1].attributeType=\"drop-down\"\r\n\r\n      for (let n = 0; n < this.noOfapplicants; n++) {\r\n          this.scoreboardQuestionsArray.push({scorecardQuestion: response,applicantId: n + 1, scoreCardDetails: response});\r\n          let mapDataAns: any[] = [];\r\n          console.log(\"data\",this.scoreCardDetails);\r\n          for (let p = 0; p < response.length; p++){\r\n            mapDataAns.push({scoreCardQuestionId: response[p].scoreCardQuestionId, scorecardAnswer: null, scoreCardMappingId: null}); \r\n          }\r\n          this.scoreCardMappingArray.push({applicantId: n + 1, scoreCardDetails: mapDataAns});\r\n      }\r\n\r\n      console.log(\"data\",this.scoreCardDetails);\r\n      console.log(\"ques:\",this.scoreboardQuestionsArray)\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  getAllQualitative() {\r\n    console.log(this.isQualitativeScreen);\r\n    this.api.getCardQualitativeScorecardDetails(this.cardId).subscribe((response) => {\r\n      console.log(this.isQualitativeScreen);\r\n      this.qualitativeScoreboardSummary = response;\r\n      console.log(this.qualitativeScoreboardSummary.scoreCardId + \" : \" + this.qualitativeScoreboardSummary.numberOfApplicant);\r\n      this.scoreCardId.setValue(this.qualitativeScoreboardSummary.scoreCardId);\r\n      this.numberOfApplicant.setValue(this.qualitativeScoreboardSummary.numberOfApplicant);\r\n      console.log(\"scorecard id: \", this.scoreCardId)\r\n      console.log(\"numberOfApplicant : \", this.numberOfApplicant)\r\n\r\n      this.scoreboardQuestionsArray = [];\r\n      for (let i = 0; i < this.qualitativeScoreboardSummary.scoreCardMapping.length; i++) {\r\n        console.log(\"inside for\", this.qualitativeScoreboardSummary.scoreCardMapping)\r\n        this.api.getScorecardQuestions(this.accountType).subscribe((response) => {\r\n          console.log(response);\r\n\r\n          console.log(this.noOfapplicants);\r\n          if (!this.noOfapplicants && response) {\r\n            this.noOfapplicants = response.length;\r\n          }\r\n\r\n          for (let n = 0; n < this.noOfapplicants; n++) {\r\n            this.scoreboardQuestionsArray.push({ scorecardQuestion: response, applicantId: n + 1, scoreCardDetails: response });\r\n            console.log(this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails.length)\r\n            for (let j = 0; j < this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails.length; j++) {\r\n              console.log(this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails)\r\n              var scAns = this.qualitativeScoreboardSummary.scoreCardMapping[i].scoreCardDetails;\r\n              console.log(scAns)\r\n             \r\n              \r\n              this.sbMultiSelectAnswer.push(scAns[j].scorecardAnswer);\r\n              for(let k=0; k < this.sbMultiSelectAnswer.length; k++){\r\n                if(this.sbMultiSelectAnswer[2]){\r\n                  this.sbSelectAnswer = this.sbMultiSelectAnswer[2];\r\n                  console.log(this.sbSwlwctAnswer);\r\n                }\r\n                else if(this.sbMultiSelectAnswer[0]){\r\n                  this.sbSelectAnswer1 = this.sbMultiSelectAnswer[0];\r\n                  console.log(this.sbSelectAnswer1);\r\n                }\r\n              }\r\n              console.log(this.sbMultiSelectAnswer);\r\n            }\r\n          }\r\n\r\n          console.log(\"data\", this.scoreCardDetails);\r\n          console.log(\"ques:\", this.scoreboardQuestionsArray)\r\n          this.cdr.markForCheck();\r\n        });\r\n\r\n        this.scoreCardMappingArray = this.scoreboardQuestionsArray;\r\n      }\r\n\r\n      console.log(this.scoreboardQuestionsArray, \"scoreBoardQuestionArray\");\r\n      this.disableDoneBtn = false;\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n\r\n  insertData(id: any, answer: any, qtype: string, mapId: any,index:any, applcantId: any) {\r\n    console.log(\"Answer: \", answer,index, applcantId);\r\n    if (qtype == 'checkbox') {\r\n      answer = answer.toString();\r\n    }\r\n    let dataUpdated: boolean = false ;\r\n    let aplcntExists: boolean = false ;\r\n    for (let m = 0; m < this.scoreCardMappingArray.length; m++) {\r\n      if (this.scoreCardMappingArray[m].applicantId == applcantId ) {\r\n        for (let n = 0; n < this.scoreCardMappingArray[m].scoreCardDetails.length; n++) {\r\n          console.log(n, this.scoreCardMappingArray[m].scoreCardDetails[n]);\r\n          if (this.scoreCardMappingArray[m].scoreCardDetails[n].scoreCardQuestionId == id) {\r\n            this.scoreCardMappingArray[m].scoreCardDetails[n].scorecardAnswer = answer;\r\n            dataUpdated = true;\r\n          }\r\n        }\r\n        aplcntExists = true ;\r\n      }\r\n    }\r\n    if (!dataUpdated) {\r\n      let dataOject: any = {};\r\n      dataOject.scoreCardQuestionId = id;\r\n      dataOject.scorecardAnswer = answer;\r\n      if (mapId != null) {\r\n        dataOject.scoreCardMappingId = mapId;\r\n\r\n      }\r\n      if (!aplcntExists) {\r\n        let idx = this.scoreCardMappingArray.length ;\r\n        this.scoreCardMappingArray.push({applicantId: applcantId, scoreCardDetails: dataOject});\r\n      } else {\r\n        for (let m = 0; m < this.scoreCardMappingArray.length; m++) {\r\n          if (this.scoreCardMappingArray[m].applicantId == applcantId ) {\r\n              this.scoreCardMappingArray[m].scoreCardDetails.push(dataOject);\r\n              console.log(this.scoreCardMappingArray[m].scoreCardDetails);\r\n          }\r\n        }\r\n      }\r\n      // console.log(dataOject,\"Dataobject\");\r\n    }\r\n\r\n    if (this.scoreCardMappingArray.length == this.scoreboardQuestionsArray.length) {\r\n      let disableDoneBtn: number = 0;\r\n      for (let m = 0; m < this.scoreCardMappingArray.length; m++) {\r\n        for (let i = 0; i < this.scoreCardMappingArray[m].scoreCardDetails.length; i++) {\r\n          let answerIs: any = this.scoreCardMappingArray[m].scoreCardDetails[i].scorecardAnswer;\r\n          if (answerIs == '' || answerIs == null || answerIs == undefined) {\r\n            disableDoneBtn++;\r\n          }\r\n        }\r\n      }\r\n      if (disableDoneBtn > 0) {\r\n        this.disableDoneBtn = true;\r\n      }\r\n      else if (this.anyErrorExist == false && disableDoneBtn == 0) {\r\n        this.disableDoneBtn = false;\r\n      }\r\n    }\r\n    console.log(\"Map Array: \", this.scoreCardMappingArray)\r\n    \r\n  }\r\n\r\n  validateInputValue(inputValue: any, index: any, validationName: string) {\r\n    // console.log(inputValue, index);\r\n    let eleid: any = '#inputError' + index;\r\n    if (inputValue == '' || inputValue == null || inputValue == undefined) {\r\n      this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'visible');\r\n    }\r\n    else {\r\n      if (!isNaN(inputValue) && validationName == \"Name\") {\r\n        this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'visible');\r\n        this.anyErrorExist = true;\r\n      }\r\n      else {\r\n        this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'hidden');\r\n        this.anyErrorExist = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  validateSelectValue(selectValue: any, index: any) {\r\n    // console.log(selectValue, index);\r\n    let eleid: any = '#selectError' + index;\r\n    if (selectValue == '' || selectValue == null || selectValue == undefined) {\r\n      this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'visible');\r\n    }\r\n    else {\r\n      this.renderer.setStyle(this.elRef.nativeElement.querySelector(eleid), 'visibility', 'hidden');\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    // this.router.navigate([`${this.previousUrl}`]);\r\n    this.router.navigate([\"/cardaccount/underwritingStage/credit-rating\"]);\r\n\r\n  }\r\n\r\n  getAllData(id) {\r\n    this.api.getAssessmentReportDetails(id).subscribe((response) => {\r\n      // this.assessmentReportSummary = response;\r\n      // console.log(this.assessmentReportSummary);\r\n    });\r\n  }\r\n  saveQualitativeScore(){\r\n    let submitData: any = {};\r\n    // console.log(this.no_of_applicants);\r\n    // let numberOfApplicant = this.no_of_applicants;\r\n    console.log(this.noOfapplicants);\r\n    let numberOfApplicant = this.noOfapplicants;\r\n    // submitData.loanAccountId=this.loanaccountID;  noOfapplicants\r\n    submitData.cardId=this.cardId;  \r\n    // submitData.loanAccountId = this.loanAccountId? this.loanAccountId : 999612;// loanAccountId: this.loanaccountID,\r\n    submitData.numberOfApplicant = numberOfApplicant;\r\n    submitData.scoreCardId = this.scoreCardId.value;\r\n    submitData.loggedInUser = 123;\r\n    submitData.accountType=\"cardOrigin\";\r\n    \r\n    submitData.scoreCardMapping = this.scoreCardMappingArray;\r\n    console.log(submitData);\r\n    this.api.saveQualitativeScorecard(submitData).subscribe((resp) => {\r\n      console.log(\"data\",submitData.cardId);\r\n      this.snack.open('Card Origination Qualitative Scoreboard Saved!', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n      // console.log(resp);\r\n      this.isDataSaved = true;\r\n      // this.ls.setItem('CARD_QUALITATIVE_SCOREBOARD_DONE', true);\r\n      // this.ls.setItem('CARD_UNDERWRITING_DONE',true);\r\n      // this.disableDoneBtn=false\r\n      this.accountService.refresh.next();\r\n    \r\n    }, err => {\r\n      this.snack.open('Server Error!', 'OK', {\r\n        duration: 4000,\r\n        verticalPosition: 'top',\r\n        horizontalPosition: 'right'\r\n      });\r\n    })\r\n    this.next();\r\n  }\r\n\r\n  next(){\r\n    this.ls.setItem('CARD_QUALITATIVE_SCOREBOARD_DONE', true);\r\n    this.ls.setItem('CARD_UNDERWRITING_DONE',true);\r\n    this.accountService.refresh.next();\r\n     this.router.navigate([\"/cardaccount/assessmentStage/list\"]);\r\n  }\r\n\r\n  // done() {\r\n  //   this.ls.setItem('ASSESSMENT_QA_DONE', true);\r\n  //  // this.accountService.refresh.next();\r\n  //   this.router.navigate([`/home/application/assessment/report/${this.accountId}`]);\r\n  // }\r\n  noOfApplicant(event){\r\n    console.log(event);\r\n\r\n  }\r\n\r\n}\r\n","<div fxLayout=\"row wrap\" class=\"matcard-size1\">\r\n  <div fxFlex=\"100\">\r\n    <div class=\"propic text-center\">\r\n      <img src=\"assets/images/svg/undraw_Scrum_board_re_wk7v.svg\" alt=\"\" class=\"w-90\" />\r\n    </div>\r\n    <div class=\"profile-title text-center mt-8\">\r\n      <div class=\"main-title1\"><b>Qualitative Scoreboard</b></div>\r\n    </div>\r\n  </div>\r\n  <form>\r\n    <div fxFlex=\"100\" class=\"mt-24\">\r\n      <h2 class=\"ml-16\">Qualitative Scoreboard</h2>\r\n      <div class=\"mt-24\"></div>\r\n      <mat-card>\r\n        <mat-card-title></mat-card-title>\r\n        <mat-card-content>\r\n          <h4><b>Scorecard ID</b></h4>\r\n          <h4>\r\n            <input matInput name=\"ScoreCardId\" onlyNumber placeholder=\"Enter ScoreCardId\" [formControl]=\"scoreCardId\"\r\n             />\r\n             <mat-error\r\n              *ngIf=\"scoreCardId.touched && scoreCardId.value == 0\">\r\n               Please Enter valid Scorecard ID\r\n              </mat-error>\r\n          </h4>\r\n          <h3 class=\"mt-32\">About the Qualitative Scorecard ID</h3>\r\n          <p class=\"disableText\">\r\n            Lorem Ipsum is simply dummy text of the printing and typesetting\r\n            industry. Lorem Ipsum has been the industry's standard dummy text ever\r\n            since the 1500s, when an unknown printer took a galley of type and\r\n            scrambled it to make a type specimen book.\r\n          </p>\r\n          <h3 class=\"mt-32\">No. of Applicant</h3>\r\n          <p>{{noOfapplicants}}</p>\r\n        </mat-card-content>\r\n      </mat-card>\r\n  \r\n      <div class=\"mt-32\"></div>\r\n      <mat-accordion multi=\"true\">\r\n        <mat-expansion-panel class=\"mb-8\"  *ngFor='let sA of scoreboardQuestionsArray ; let ix = index' expanded=\"true\">\r\n          <mat-expansion-panel-header>\r\n          <mat-panel-title><mat-icon class=\"check-circle\">check_circle</mat-icon> <span class=\"ml-8\">Applicant {{ sA.applicantId }}</span></mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n            <mat-card class=\"full-width\">\r\n              <mat-card-content class=\"full-width\">\r\n                    <div>\r\n                      <h3>Questions</h3>\r\n                    </div>\r\n                    <div fxLayout=\"column\">\r\n                    <!-- <div class=\"full-width\"> --><div fxLayout=\"row\" fxFlex=\"70%\" fxLayoutGap=\"35px\">\r\n                      <div fxLayout=\"row wrap\" class=\"full-width\" *ngFor=\"let sQ of sA.scoreCardDetails; let i=index;\">\r\n                        <div class=\"full-width\">\r\n                          <div class=\"qDiv\">\r\n                            <mat-hint>{{i + 1 }}.{{sQ.scorecardQuestion}}<span class=\"redC\" *ngIf=\"sQ.isRequired\"> *</span></mat-hint>\r\n                          </div>\r\n                          <div class=\"full-width\" *ngIf=\"sQ.attributeType == 'textbox'\">\r\n                            <mat-form-field class=\"full-width\" appearance=\"outline\">\r\n                              <input matInput\r\n                              [required]=\"sQ.isRequired\"\r\n                              [autocomplete]=\"off\"\r\n                              [maxlength]=\"sQ.validationName == 'Name'? 25 : 50\"\r\n                              name=\"{{ 'input' + i }}\"\r\n                              id=\"{{ 'input' + i }}\"\r\n                            \r\n                              [value]=\"scoreCardMappingArray[ix].scoreCardDetails[i].scorecardAnswer == undefined? sbSelectAnswer : scoreCardMappingArray[ix].scoreCardDetails[i].scorecardAnswer\"\r\n                              (keyup)=\"validateInputValue($event.target.value,i,sQ.validationName);insertData(sQ.scoreCardQuestionId,$event.target.value,sQ.attributeType,sQ.scoreCardMappingId,i,sA.applicantId)\"\r\n                              (click)=\"validateInputValue($event.target.value,i,sQ.validationName)\"\r\n                              >\r\n                            </mat-form-field>\r\n                            <!-- [value]=\"sQ.scorecardAnswer\" -->\r\n                            <mat-error [style.visibility]=\"'hidden'\" id=\"{{ 'inputError' + i }}\">Enter {{sQ.validationName}}</mat-error>\r\n                          </div>\r\n                          <div class=\"full-width\" *ngIf=\"sQ.attributeType == 'drop-down' || sQ.attributeType == 'checkbox'\">\r\n                            <mat-form-field class=\"full-width\" appearance=\"outline\">\r\n                              <mat-select\r\n                              [required]=\"sQ.isRequired\"\r\n                              [name]=\"sQ.attributeType == 'checkbox'?  'multiSelect' + i  :  'select' + i \"\r\n                              [id]=\"sQ.attributeType == 'checkbox'?  'multiSelect' + i  :  'select' + i \"\r\n                              [value]=\"sQ.attributeType == 'checkbox'? sbMultiSelectAnswer : sbMultiSelectAnswer[i]\"\r\n                              (click)=\"validateSelectValue($event.target.value,i)\"\r\n                              (selectionChange)=\"validateSelectValue($event.value,i);insertData(sQ.scoreCardQuestionId,$event.value,sQ.attributeType,sQ.scoreCardMappingId,i,sA.applicantId)\"  \r\n                              [multiple]=\"sQ.attributeType == 'checkbox'\"\r\n                              >\r\n                                <mat-option *ngFor=\"let sA of sQ.scorecardAnswers\" [value]=\"sA\">\r\n                                  {{sA}}\r\n                                </mat-option>\r\n                              </mat-select>\r\n                            </mat-form-field>\r\n                            <mat-error [style.visibility]=\"'hidden'\" id=\"{{ 'selectError' + i }}\">Please select {{sQ.validationName}}</mat-error>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                     \r\n                      <!-- <div class=\"flex-grow-1\" fxFlex=\"50%\">\r\n                        <div class=\"qDiv\">\r\n                        <mat-hint>Score<span class=\"redC\" ></span></mat-hint>\r\n                       </div>\r\n                        <div class=\"full-width\">\r\n                        <mat-form-field appearance=\"outline\" class=\"full-width\">\r\n                          <input matInput name=\"ScoreId\" placeholder=\"Enter the Score\"\r\n                          />\r\n                           <input matInput name=\"ScoreId\" onlyNumber placeholder=\"Enter the Score\" [formControl]=\"scoreId\"\r\n                          /> \r\n                          </mat-form-field>\r\n                        </div>\r\n                      </div> -->\r\n                    </div>\r\n                  </div>\r\n              </mat-card-content>\r\n            </mat-card>\r\n          </mat-expansion-panel>\r\n        </mat-accordion>\r\n    </div>\r\n  </form>\r\n\r\n  <div fxFlex=\"100\" class=\"mt-16\">\r\n    <button mat-stroked-button  (click)=\"goBack()\">BACK</button>\r\n    <span fxFlex></span>\r\n    <button class=\"Nextbtn\" mat-raised-button color=\"primary\" [disabled]=\"disableDoneBtn || !numberOfApplicant.valid\" (click)=\"saveQualitativeScore()\" type=\"button\">Next</button>\r\n  </div>\r\n</div>\r\n"]}