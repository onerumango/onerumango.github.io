!function(){function e(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return t};var t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(D){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),c=new S(n||[]);return a(o,"_invoke",{value:W(e,r,c)}),o}function b(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(D){return{type:"throw",arg:D}}}t.wrap=u;var d={};function m(){}function p(){}function g(){}var f={};l(f,o,function(){return this});var h=Object.getPrototypeOf,y=h&&h(h(O([])));y&&y!==r&&n.call(y,o)&&(f=y);var v=g.prototype=m.prototype=Object.create(f);function C(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){function r(a,i,o,c){var s=b(e[a],e,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,o,c)},function(e){r("throw",e,o,c)}):t.resolve(u).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,c)})}c(s.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t(function(t,a){r(e,n,t,a)})}return i=i?i.then(a,a):a()}})}function W(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return T()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var c=X(o,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=b(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function X(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,X(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=b(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=g,a(v,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:p,configurable:!0}),p.displayName=l(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},C(x.prototype),l(x.prototype,c,function(){return this}),t.AsyncIterator=x,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new x(u(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then(function(e){return e.done?e.value:o.next()})},C(v),l(v,s,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=i(e);if(t){var o=i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(u){l=!0,a=u}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,i=void 0,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"))?i:String(i)),n)}var a,i}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{tPCj:function(r,a,i){"use strict";i.r(a),i.d(a,"CardAccountModule",function(){return sc});var c=i("SVse"),l=i("Tj54"),b=i("vrAh"),d=i("r1zJ"),m=i("tZUg"),p=i("s7LF"),g=i("nm5K"),f=i("8Y7J"),h=i("zHaW"),y=i("iELJ"),v=i("iInd"),C=i("PDjf"),x=i("Dxy4"),W=i("VDRc"),X=i("e6WT"),I=i("Q2Ze");function k(e,t){if(1&e&&(f.Xb(0,"tr",14),f.Xb(1,"div",15),f.Vb(2,11),f.Xb(3,"div",16),f.Sb(4,"input",17),f.Wb(),f.Xb(5,"td"),f.Xb(6,"mat-card",18),f.Xb(7,"mat-label",19),f.Tc(8,"Amount"),f.Wb(),f.Sb(9,"input",20,21),f.Wb(),f.Wb(),f.Xb(11,"td"),f.Xb(12,"mat-card",18),f.Xb(13,"mat-label",19),f.Tc(14,"waiver"),f.Wb(),f.Sb(15,"input",22,23),f.Wb(),f.Wb(),f.Ub(),f.Wb(),f.Wb()),2&e){var r=t.$implicit;f.Eb(2),f.rc("formGroup",r)}}var S=function(e){return[e]};function O(e,t){if(1&e&&(f.Xb(0,"form",11),f.Xb(1,"table",12),f.Xb(2,"tbody"),f.Rc(3,k,17,1,"tr",13),f.Wb(),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("formGroup",r.chargeFormIT),f.Eb(3),f.rc("ngForOf",f.xc(2,S,r.in.controls[r.in.controls.length-1]))}}var T,D=((T=function(){function e(t,r,n,a,i,o){s(this,e),this.snack=t,this.dialogRef=r,this.ls=n,this.api=a,this.router=i,this.formBuilder=o,this.accountType="Home Loan"}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.cardInfo&&(this.loanAccountId=this.cardInfo.loanAccountId),this.chargeFormIT=this.formBuilder.group({chargeIT:new p.d([])}),this.api.cardChargeFetchById(this.cardId).subscribe(function(t){console.log("resp from backend ",t),e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp)})}},{key:"onChangeInterest",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.in.length<t)for(var r=this.in.length;r<t;r++)this.in.push(this.formBuilder.group({intrestType:[""],amount:[""],waiver:[!1],cardId:[this.cardId],createdDate:[""],craetedBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var n=this.in.length;n>=t;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.chargeFormIT.controls}},{key:"in",get:function(){return this.f.chargeIT}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"onSubmit",value:function(e){}},{key:"edit",value:function(){this.dialogRef.close(),this.router.navigate(["/cardaccount/applicationEnrichment/charge-details"])}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("charge detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"close",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[a-zA-Z]/.test(t)||e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||T)(f.Rb(h.a),f.Rb(y.g),f.Rb(m.a),f.Rb(g.b),f.Rb(v.h),f.Rb(p.f))},T.\u0275cmp=f.Lb({type:T,selectors:[["app-card-acc-charge-det-sum"]],decls:14,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","form",4,"ngFor","ngForOf"],[1,"form"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","amount","name","account_branch","readonly","",1,"input"],["amount",""],["matInput","","formControlName","waiver","name","account_branch","readonly","",1,"input"],["waiver",""]],template:function(e,t){1&e&&(f.Xb(0,"mat-card",0),f.Xb(1,"button",1),f.Xb(2,"mat-icon",2),f.Tc(3,"close"),f.Wb(),f.Wb(),f.Xb(4,"div",3),f.Xb(5,"span",4),f.Tc(6,"Charge Details Summary "),f.Wb(),f.Wb(),f.Xb(7,"div",5),f.Sb(8,"div",6),f.Xb(9,"div",7),f.Sb(10,"div",8),f.Rc(11,O,4,4,"form",9),f.Wb(),f.Wb(),f.Xb(12,"span",10),f.fc("click",function(){return t.edit()}),f.Tc(13,"Edit"),f.Wb(),f.Wb()),2&e&&(f.Eb(11),f.rc("ngIf",t.chargeFormIT))},directives:[C.a,x.b,y.d,l.a,W.e,W.b,c.n,p.A,p.s,p.j,c.m,X.b,p.c,p.r,p.i,I.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px;width:400px}.mainDiv[_ngcontent-%COMP%]{padding:5px}.paraFont[_ngcontent-%COMP%]{font-family:Montserrat;font-size:20px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1;width:400px}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:15px;font-weight:600;width:70%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}"]}),T),E=i("BSbQ");function A(e,t){1&e&&(f.Xb(0,"tr",15),f.Xb(1,"div",16),f.Vb(2),f.Xb(3,"div",17),f.Sb(4,"input",18),f.Wb(),f.Xb(5,"td"),f.Xb(6,"mat-card",19),f.Xb(7,"mat-label",20),f.Tc(8,"Interest Rate Applicable"),f.Wb(),f.Sb(9,"input",21),f.Wb(),f.Wb(),f.Xb(10,"td"),f.Xb(11,"mat-card",19),f.Xb(12,"mat-label",20),f.Tc(13,"Margin in %"),f.Wb(),f.Sb(14,"input",22),f.Wb(),f.Wb(),f.Xb(15,"td"),f.Xb(16,"mat-card",19),f.Xb(17,"mat-label",20),f.Tc(18,"Effective Rate %"),f.Wb(),f.Sb(19,"input",23),f.Wb(),f.Wb(),f.Ub(),f.Wb(),f.Wb()),2&e&&f.rc("formGroup",t.$implicit)}function w(e,t){if(1&e&&(f.Xb(0,"form",12),f.Xb(1,"table",13),f.Xb(2,"tbody"),f.Rc(3,A,20,1,"tr",14),f.Wb(),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("formGroup",r.interestForm),f.Eb(3),f.rc("ngForOf",r.in.controls)}}var _,P=((_=function(){function e(t,r,n,a,i,o){s(this,e),this.ls=t,this.snack=r,this.dialogRef=n,this.api=a,this.router=i,this.formBuilder=o}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.interestForm=this.formBuilder.group({interest:new p.d([])}),this.savingForm=this.formBuilder.group({saving:new p.d([])}),this.loanForm=this.formBuilder.group({loan:new p.d([])}),this.api.cardInterestFetchById(this.cardId).subscribe(function(t){console.log("resp from backend ",e.resp),e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp)})}},{key:"assignAccountType",value:function(e){this.accountType=e}},{key:"onChangeInterest",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.in.length<t)for(var r=this.in.length;r<t;r++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var n=this.in.length;n>=t;n--)this.in.removeAt(n)}},{key:"onChangeSaving",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.is.length<t)for(var r=this.is.length;r<t;r++)this.is.push(this.formBuilder.group({intrestType:[""],interestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var n=this.is.length;n>=t;n--)this.is.removeAt(n)}},{key:"onChangeLoan",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.iloan.length<t)for(var r=this.iloan.length;r<t;r++)this.iloan.push(this.formBuilder.group({intrestType:[""],interestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var n=this.iloan.length;n>=t;n--)this.iloan.removeAt(n)}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.interest}},{key:"fs",get:function(){return this.savingForm.controls}},{key:"is",get:function(){return this.fs.saving}},{key:"floan",get:function(){return this.loanForm.controls}},{key:"iloan",get:function(){return this.floan.loan}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"onSubmit",value:function(e){}},{key:"edit",value:function(){this.dialogRef.close(),this.api.setFlag({flag:!0}),this.router.navigate(["/cardaccount/applicationEnrichment/intrest-details"])}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("Intrest detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}}]),e}()).\u0275fac=function(e){return new(e||_)(f.Rb(m.a),f.Rb(h.a),f.Rb(y.g),f.Rb(g.b),f.Rb(v.h),f.Rb(p.f))},_.\u0275cmp=f.Lb({type:_,selectors:[["app-intrest-details-summary"]],decls:15,vars:1,consts:[[1,"matCard"],["mat-button","","id","close","mat-dialog-close",""],[1,"closeicon"],[1,"spanDiv1"],[1,"span"],[1,"divider"],["fxLayout","row wrap",1,"main"],["fxFlex","100"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"spanDiv",3,"click"],[3,"formGroup"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","form",3,"formGroup",4,"ngFor","ngForOf"],[1,"form",3,"formGroup"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"]],template:function(e,t){1&e&&(f.Xb(0,"mat-card",0),f.Xb(1,"button",1),f.Xb(2,"mat-icon",2),f.Tc(3,"close"),f.Wb(),f.Wb(),f.Xb(4,"div",3),f.Xb(5,"span",4),f.Tc(6,"Interest Details Summary "),f.Wb(),f.Sb(7,"mat-divider",5),f.Wb(),f.Xb(8,"div",6),f.Sb(9,"div",7),f.Xb(10,"div",8),f.Sb(11,"div",9),f.Rc(12,w,4,2,"form",10),f.Wb(),f.Wb(),f.Xb(13,"span",11),f.fc("click",function(){return t.edit()}),f.Tc(14,"Edit"),f.Wb(),f.Wb()),2&e&&(f.Eb(12),f.rc("ngIf",t.interestForm))},directives:[C.a,x.b,y.d,l.a,E.a,W.e,W.b,c.n,p.A,p.s,p.j,c.m,X.b,p.c,p.r,p.i,I.g],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.tableRow[_ngcontent-%COMP%]{width:724px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.mainDiv[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:.3%}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:25%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}#headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}"]}),_),N=i("6JYK"),R=i("ura0"),F=i("BTe0"),M=function(){return{y:"50px",delay:"300ms"}},L=function(e){return{value:"*",params:e}};function V(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",18),f.Xb(1,"mat-card"),f.Xb(2,"div",19),f.Xb(3,"div",20),f.Xb(4,"mat-icon",21),f.Tc(5,"check_circle"),f.Wb(),f.Wb(),f.Xb(6,"div",22),f.Xb(7,"h6"),f.Tc(8,"Application Enrichment Completed"),f.Wb(),f.Wb(),f.Sb(9,"span",23),f.Xb(10,"button",24),f.fc("click",function(){return f.Hc(r),f.jc().navigate()}),f.Tc(11,"View Summary"),f.Wb(),f.Wb(),f.Wb(),f.Wb()}2&e&&(f.Eb(1),f.rc("@animate",f.xc(2,L,f.wc(1,M))))}function j(e,t){1&e&&(f.Xb(0,"div",25),f.Sb(1,"mat-progress-bar",26),f.Xb(2,"p",27),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function B(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",24),f.fc("click",function(){return f.Hc(r),f.jc().goToInterestSummary()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var z=function(){return["/cardaccount/applicationEnrichment/intrest-details"]};function q(e,t){1&e&&(f.Vb(0),f.Xb(1,"button",28),f.Tc(2," Add Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()),2&e&&(f.Eb(1),f.rc("routerLink",f.wc(1,z)))}function U(e,t){1&e&&(f.Xb(0,"div",25),f.Sb(1,"mat-progress-bar",26),f.Xb(2,"p",27),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function G(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",24),f.fc("click",function(){return f.Hc(r),f.jc().goToChargeSummary()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var H=function(){return["/cardaccount/applicationEnrichment/charge-details"]};function Y(e,t){if(1&e&&(f.Vb(0),f.Xb(1,"button",29),f.Tc(2," Add Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()),2&e){var r=f.jc();f.Eb(1),f.rc("routerLink",f.wc(2,H))("disabled",!r.isCardInterestDetails)}}var $,Q=function(e){return{"border-size":e}},K=(($=function(){function e(t,r,n,a,i){s(this,e),this.router=t,this.dialog=r,this.ls=n,this.accountService=a,this.cdr=i,this.isCardInterestDetails=!1,this.isCardChargeDetails=!1,this.isCardApplicationEnrichmentDone=!1}return u(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.isCardInterestDetails=this.ls.getItem("CARD_INTEREST_DETAILS_DONE"),this.isCardChargeDetails=this.ls.getItem("CARD_CHARGE_DETAILS_DONE"),this.isCardInterestDetails&&this.isCardChargeDetails&&(this.isCardApplicationEnrichmentDone=!0)}},{key:"goToInterestSummary",value:function(){this.dialog.open(P,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"goToChargeSummary",value:function(){this.dialog.open(D,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"navigate",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/Summary"])}}]),e}()).\u0275fac=function(e){return new(e||$)(f.Rb(v.h),f.Rb(y.b),f.Rb(m.a),f.Rb(N.a),f.Rb(f.h))},$.\u0275cmp=f.Lb({type:$,selectors:[["app-application-enrichment"]],decls:47,vars:15,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"size"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Create New Card Account"),f.Wb(),f.Wb(),f.Xb(9,"div",7),f.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),f.Wb(),f.Wb(),f.Wb(),f.Rc(11,V,12,4,"div",8),f.Wb(),f.Xb(12,"div",9),f.Xb(13,"div",10),f.Xb(14,"mat-card",11),f.Xb(15,"mat-card-header"),f.Xb(16,"mat-card-title"),f.Tc(17,"1.Interest Details"),f.Wb(),f.Wb(),f.Xb(18,"mat-card-content"),f.Xb(19,"div",12),f.Xb(20,"div",13),f.Xb(21,"p"),f.Tc(22," Interest Type and Effective Interest Rate is captured. "),f.Wb(),f.Wb(),f.Xb(23,"div",14),f.Sb(24,"img",15),f.Wb(),f.Wb(),f.Rc(25,j,4,2,"div",16),f.Wb(),f.Sb(26,"mat-divider"),f.Xb(27,"mat-card-actions"),f.Rc(28,B,5,0,"ng-container",17),f.Rc(29,q,5,2,"ng-container",17),f.Wb(),f.Wb(),f.Wb(),f.Xb(30,"div",10),f.Xb(31,"mat-card",11),f.Xb(32,"mat-card-header"),f.Xb(33,"mat-card-title"),f.Tc(34,"2.Charge Details"),f.Wb(),f.Wb(),f.Xb(35,"mat-card-content"),f.Xb(36,"div",12),f.Xb(37,"div",13),f.Xb(38,"p"),f.Tc(39," Charge Details are dispalyed. "),f.Wb(),f.Wb(),f.Xb(40,"div",14),f.Sb(41,"img",15),f.Wb(),f.Wb(),f.Rc(42,U,4,2,"div",16),f.Wb(),f.Sb(43,"mat-divider"),f.Xb(44,"mat-card-actions"),f.Rc(45,G,5,0,"ng-container",17),f.Rc(46,Y,5,3,"ng-container",17),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(11),f.rc("ngIf",t.isCardApplicationEnrichmentDone),f.Eb(3),f.rc("ngClass",f.xc(11,Q,t.isCardInterestDetails||!t.isCardInterestDetails)),f.Eb(10),f.rc("src","assets/images/svg/Mask Ggroup 5.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isCardInterestDetails),f.Eb(3),f.rc("ngIf",t.isCardInterestDetails),f.Eb(1),f.rc("ngIf",!t.isCardInterestDetails),f.Eb(2),f.rc("ngClass",f.xc(13,Q,t.isCardChargeDetails||!t.isCardChargeDetails&&t.isCardInterestDetails)),f.Eb(10),f.rc("src","assets/images/esign.png",f.Jc),f.Eb(1),f.rc("ngIf",t.isCardChargeDetails),f.Eb(3),f.rc("ngIf",t.isCardChargeDetails),f.Eb(1),f.rc("ngIf",!t.isCardChargeDetails))},directives:[W.e,W.b,c.n,C.a,c.l,R.a,C.e,C.h,C.d,W.f,W.d,E.a,C.b,l.a,x.b,F.a,v.i],styles:[".border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.size[_ngcontent-%COMP%]{padding-left:18px!important;color:#d3d3d3}"]}),$),J=i("pMoy");function Z(e,t){if(1&e){var r=f.Yb();f.Xb(0,"tr",22),f.Vb(1,23),f.Xb(2,"td"),f.Xb(3,"mat-form-field"),f.Sb(4,"input",24),f.Wb(),f.Wb(),f.Xb(5,"td"),f.Xb(6,"mat-form-field"),f.Xb(7,"span",25),f.Tc(8),f.Wb(),f.Xb(9,"input",26),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).onKeyPress(e)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(10,"td"),f.Xb(11,"div",27),f.Sb(12,"mat-checkbox",28),f.Wb(),f.Wb(),f.Ub(),f.Wb()}if(2&e){var n=t.$implicit,a=f.jc(2);f.Eb(1),f.rc("formGroup",n),f.Eb(7),f.Vc("",a.currencySymbol,"\xa0")}}function ee(e,t){if(1&e&&(f.Xb(0,"form",14),f.Xb(1,"div",15),f.Xb(2,"span",16),f.Tc(3,"Charge Details "),f.Wb(),f.Sb(4,"mat-divider",17),f.Wb(),f.Xb(5,"table",18),f.Xb(6,"thead",19),f.Xb(7,"tr",20),f.Xb(8,"th"),f.Tc(9,"Interest Type"),f.Wb(),f.Xb(10,"th"),f.Tc(11,"Amount"),f.Wb(),f.Xb(12,"th"),f.Tc(13,"waiever"),f.Wb(),f.Wb(),f.Wb(),f.Xb(14,"tbody"),f.Rc(15,Z,13,2,"tr",21),f.Wb(),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("formGroup",r.interestForm),f.Eb(15),f.rc("ngForOf",r.in.controls)}}var te,re=((te=function(){function e(t,r,n,a,i,o){s(this,e),this.accountService=t,this.snack=r,this.ls=n,this.api=a,this.router=i,this.formBuilder=o,this.accountType="Card Origin"}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.currencytype=localStorage.getItem("Currency Type"),"INR"===this.currencytype?this.currencySymbol="\u20b9":"USD"===this.currencytype?this.currencySymbol="$":"CNY"===this.currencytype?this.currencySymbol="\xa5":"GBP"===this.currencytype?this.currencySymbol="\xa3":"ZAR"===this.currencytype&&(this.currencySymbol="R"),this.interestForm=this.formBuilder.group({chargeInfo:new p.d([])}),this.api.getFlexcubeDetails("chargeDetails",this.accountType).subscribe(function(t){e.onChangeInterest(t.length),e.in.patchValue([Object.assign(Object.assign({},t[0]),{amount:history.state.amount?history.state.amount:""})])}),setTimeout(function(){e.api.cardChargeFetchById(e.cardId).subscribe(function(t){e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp)})},10)}},{key:"onChangeInterest",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.in.length<t)for(var r=this.in.length;r<t;r++)this.in.push(this.formBuilder.group({intrestType:[""],amount:["",p.z.required],waiver:[!1],cardId:[this.cardId],chargeDetailsId:[""]}));else for(var n=this.in.length;n>=t;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.chargeInfo}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/intrest-details"])}},{key:"onSubmit",value:function(e){var t,r=this;e.chargeInfo=e.chargeInfo.map(function(e){return Object.assign({},e)}),t=e,this.api.cardChargeDetailsSave(t).subscribe(function(t){console.log(e),r.snack.open("Charge Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),r.next()},function(e){r.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"next",value:function(){this.ls.setItem("CARD_CHARGE_DETAILS_DONE",!0),this.ls.setItem("CARD_ENRICHMENT_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/underwritingStage/list"])}},{key:"onKeyPress",value:function(e){var t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||te)(f.Rb(N.a),f.Rb(h.a),f.Rb(m.a),f.Rb(g.b),f.Rb(v.h),f.Rb(p.f))},te.\u0275cmp=f.Lb({type:te,selectors:[["app-charge-details"]],decls:18,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/chargeDetails.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],[1,"spanDiv1"],[1,"span"],[1,"divider"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],["matInput","","formControlName","intrestType","name","account_branch","readonly","",1,"input"],["matPrefix","",1,"currencySymbol"],["maxlength","10","formControlName","amount","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","matInput","","formControlName","amount","name","account_branch",1,"input",3,"keypress"],[1,"waiver-pos"],["formControlName","waiver","color","primary"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Charge Details"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(9,"div",7),f.Sb(10,"div",8),f.Rc(11,ee,16,2,"form",9),f.Wb(),f.Xb(12,"div",10),f.Xb(13,"a",11),f.fc("click",function(){return t.goBack()}),f.Tc(14,"Back"),f.Wb(),f.Sb(15,"span",12),f.Xb(16,"button",13),f.fc("click",function(){return t.onSubmit(t.interestForm.value)}),f.Tc(17,"Next"),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(11),f.rc("ngIf",t.interestForm),f.Eb(5),f.rc("disabled",t.interestForm.invalid))},directives:[W.e,W.b,c.n,x.a,x.b,p.A,p.s,p.j,E.a,c.m,I.c,X.b,p.c,p.r,p.i,I.i,p.m,J.a],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mat-form-field[_ngcontent-%COMP%]{box-shadow:0 2px 2px #dcdcdc!important;padding-left:10px}  .mat-form-field-underline{display:none}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.span[_ngcontent-%COMP%]{font-weight:600;width:22%!important;margin-left:50px}.divider[_ngcontent-%COMP%]{position:unset!important;width:500px;align-self:center!important}.theadClass[_ngcontent-%COMP%]{background-color:#fff}.tableRow[_ngcontent-%COMP%]{width:500px;height:80px;background:#fff 0 0 no-repeat padding-box;box-shadow:0 1px 4px rgba(0,0,0,.1607843137254902);border-radius:5px;opacity:1}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.waiver-pos[_ngcontent-%COMP%]{text-align:center}.currencySymbol[_ngcontent-%COMP%]{font-size:11.5px}"]}),te);function ne(e,t){if(1&e&&(f.Xb(0,"tr",17),f.Xb(1,"div",18),f.Vb(2,15),f.Xb(3,"div",19),f.Sb(4,"input",20),f.Wb(),f.Xb(5,"td"),f.Xb(6,"mat-card",21),f.Xb(7,"mat-label",22),f.Tc(8,"Interest Rate Applicable"),f.Wb(),f.Sb(9,"input",23),f.Wb(),f.Wb(),f.Xb(10,"td"),f.Xb(11,"mat-card",21),f.Xb(12,"mat-label",22),f.Tc(13,"Margin in %"),f.Wb(),f.Sb(14,"input",24),f.Wb(),f.Wb(),f.Xb(15,"td"),f.Xb(16,"mat-card",21),f.Xb(17,"mat-label",22),f.Tc(18,"Effective Rate %"),f.Wb(),f.Sb(19,"input",25),f.Wb(),f.Wb(),f.Ub(),f.Wb(),f.Wb()),2&e){var r=t.$implicit;f.Eb(2),f.rc("formGroup",r)}}function ae(e,t){if(1&e&&(f.Xb(0,"form",15),f.Xb(1,"table"),f.Xb(2,"tbody"),f.Rc(3,ne,20,1,"tr",16),f.Wb(),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("formGroup",r.interestForm),f.Eb(3),f.rc("ngForOf",r.in.controls)}}function ie(e,t){if(1&e&&(f.Xb(0,"tr",28),f.Xb(1,"div",29),f.Vb(2,15),f.Xb(3,"div",19),f.Sb(4,"input",20),f.Wb(),f.Xb(5,"td"),f.Xb(6,"mat-card",21),f.Xb(7,"mat-label",22),f.Tc(8,"Amount"),f.Wb(),f.Sb(9,"input",30),f.Wb(),f.Wb(),f.Xb(10,"td"),f.Xb(11,"mat-card",21),f.Xb(12,"mat-label",22),f.Tc(13,"waiver"),f.Wb(),f.Sb(14,"input",31,32),f.Wb(),f.Wb(),f.Ub(),f.Wb(),f.Wb()),2&e){var r=t.$implicit,n=f.jc(2);f.Eb(2),f.rc("formGroup",r),f.Eb(7),f.rc("value",n.amount)}}function oe(e,t){if(1&e&&(f.Xb(0,"form",15),f.Xb(1,"table",26),f.Xb(2,"tbody"),f.Rc(3,ie,16,2,"tr",27),f.Wb(),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("formGroup",r.chargeFormIT),f.Eb(3),f.rc("ngForOf",r.in2.controls)}}var ce,se=((ce=function(){function e(t,r,n,a,i){s(this,e),this.formBuilder=t,this.ls=r,this.snack=n,this.api=a,this.router=i,this.appEntrySummaryView=!1,this.accountType="Home Loan"}return u(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.getCardEnrichmentDetails(this.cardId),this.interestForm=this.formBuilder.group({interest:new p.d([])}),this.savingForm=this.formBuilder.group({saving:new p.d([])}),this.chargeFormIT=this.formBuilder.group({chargeIT:new p.d([])}),this.loanForm=this.formBuilder.group({loan:new p.d([])})}},{key:"getCardEnrichmentDetails",value:function(e){var t=this;this.api.getCardEnrichmentSummmary(e).subscribe(function(e){console.log(e),t.intererstInfo=e.intererstInfo,console.log(t.intererstInfo),t.onCardintrest(t.intererstInfo.length),t.in.patchValue(t.intererstInfo),t.chargeInfo=e.chargeInfo,t.onCardCharge(t.chargeInfo.length),t.in2.patchValue(t.chargeInfo)})}},{key:"onCardintrest",value:function(e){var t=e||0;if(this.in.length<t)for(var r=this.in.length;r<t;r++)this.in.push(this.formBuilder.group({intrestType:[""],intrestRateApplicable:[""],marginIn:[""],effectiveRate:[""],cardId:[this.cardId],createdDate:[""],createdBy:[""],lastModifiedDate:[""],lastModifiedBy:[""]}));else for(var n=this.in.length;n>=t;n--)this.in.removeAt(n)}},{key:"onCardCharge",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.in2.length<t)for(var r=this.in2.length;r<t;r++)this.in2.push(this.formBuilder.group({intrestType:[""],amount:[""],waiver:[!0],cardId:[this.cardId],chargeDetailsId:[""]}));else for(var n=this.in2.length;n>=t;n--)this.in2.removeAt(n)}},{key:"f2",get:function(){return this.chargeFormIT.controls}},{key:"in2",get:function(){return this.f2.chargeIT}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.interest}},{key:"iloan",get:function(){return this.floan.loan}},{key:"floan",get:function(){return this.loanForm.controls}},{key:"check",value:function(e){e&&(console.log(this.snack.open),this.snack.open("chargeInfo detail is empty","Error",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}))}},{key:"checkbox",value:function(e){console.log(e.checked)}},{key:"assignAccountType",value:function(e){this.accountType=e}},{key:"Done",value:function(){this.router.navigate(["/cardaccount/underwritingStage/list"])}},{key:"Back",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}}]),e}()).\u0275fac=function(e){return new(e||ce)(f.Rb(p.f),f.Rb(m.a),f.Rb(h.a),f.Rb(g.b),f.Rb(v.h))},ce.\u0275cmp=f.Lb({type:ce,selectors:[["app-enrichment-summary"]],decls:28,vars:2,consts:[[1,"propic","text-center"],["src","assets/images/svg/undraw_statistic_chart_38b6.svg","alt","",1,"entryImg"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"spanDiv1"],[1,"paraFont"],["fxLayout","row wrap",1,"main"],["fxFlex","100",1,"mainDiv"],[1,"mt-24"],[3,"formGroup",4,"ngIf"],[1,"matCard"],["fxFlex","100"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","","color","primary",3,"click"],["mat-raised-button","","color","primary",1,"Next",3,"click"],[3,"formGroup"],["class","mt-4","style","display: flex;flex-wrap: wrap;",4,"ngFor","ngForOf"],[1,"mt-4",2,"display","flex","flex-wrap","wrap"],[1,"row"],[1,"heading"],["matInput","","formControlName","intrestType","name","account_branch","id","headingInput","readonly",""],[1,"matCardBox"],[1,"label"],["matInput","","formControlName","intrestRateApplicable","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","marginIn","name","account_branch","readonly","",1,"input"],["matInput","","formControlName","effectiveRate","name","account_branch","value","","readonly","",1,"input"],[1,"cart-table","default-bg","mat-elevation-z0"],["class","mt-4","class","chargeTable",4,"ngFor","ngForOf"],[1,"chargeTable"],[1,"chargeLeft"],["matInput","","formControlName","amount","name","amount","readonly","",1,"input",3,"value"],["matInput","","formControlName","waiver","name","account_branch","readonly","",1,"input"],["waiver",""]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Sb(1,"img",1),f.Wb(),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Xb(4,"b"),f.Tc(5,"Application Enrichment"),f.Wb(),f.Wb(),f.Wb(),f.Xb(6,"div",4),f.Xb(7,"h4",5),f.Tc(8,"Interest Details"),f.Wb(),f.Wb(),f.Xb(9,"div",6),f.Xb(10,"div",7),f.Sb(11,"div",8),f.Rc(12,ae,4,2,"form",9),f.Sb(13,"br"),f.Xb(14,"div"),f.Xb(15,"h4",5),f.Tc(16,"Card Account Charge Details"),f.Wb(),f.Wb(),f.Xb(17,"mat-card",10),f.Xb(18,"div",6),f.Sb(19,"div",11),f.Xb(20,"div",7),f.Sb(21,"div",8),f.Rc(22,oe,4,2,"form",9),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(23,"div",12),f.Xb(24,"button",13),f.fc("click",function(){return t.Back()}),f.Tc(25," Back "),f.Wb(),f.Xb(26,"button",14),f.fc("click",function(){return t.Done()}),f.Tc(27," Done "),f.Wb(),f.Wb()),2&e&&(f.Eb(12),f.rc("ngIf",t.interestForm),f.Eb(10),f.rc("ngIf",t.chargeFormIT))},directives:[W.e,W.b,c.n,C.a,W.d,W.f,x.b,p.A,p.s,p.j,c.m,X.b,p.c,p.r,p.i,I.g],styles:[".spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.entryImg[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:2%}.main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.mainDiv[_ngcontent-%COMP%]{padding:10px}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}.matCardBox[_ngcontent-%COMP%]{width:200px;height:70px}.label[_ngcontent-%COMP%]{font-size:10px}.input[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;font-weight:700}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}.paraFont[_ngcontent-%COMP%]{padding-left:20px;font-family:Montserrat;font-size:16px}.headingText[_ngcontent-%COMP%]{color:#213253;padding-left:10px;font-family:Manrope;font-size:11px}.valueText[_ngcontent-%COMP%]{padding-left:10px;font-family:Montserrat;font-size:12px}.toggle[_ngcontent-%COMP%]{padding-left:16px}.span[_ngcontent-%COMP%]{font-size:20px;font-weight:600;width:22%!important}.divider[_ngcontent-%COMP%]{position:unset!important;left:200px!important;align-self:center!important}.closeicon[_ngcontent-%COMP%]{line-height:0;width:18px;position:absolute;top:0;right:0}#close[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}.heading[_ngcontent-%COMP%]{width:100%;margin-left:18px}.headingInput[_ngcontent-%COMP%]{border:none;outline:none;font-size:10px}.mt-4[_ngcontent-%COMP%]{margin-left:2px}.chargeTable[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.chargeLeft[_ngcontent-%COMP%]{margin-left:5px}.Next[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}"]}),ce),le=i("3sEA");function ue(e,t){if(1&e&&(f.Xb(0,"tr",22),f.Vb(1,23),f.Xb(2,"td"),f.Xb(3,"mat-card",24),f.Sb(4,"input",25),f.Wb(),f.Wb(),f.Xb(5,"td"),f.Xb(6,"mat-card",26),f.Sb(7,"input",27),f.Xb(8,"span",28),f.Tc(9,"%"),f.Wb(),f.Wb(),f.Wb(),f.Xb(10,"td"),f.Xb(11,"mat-card",26),f.Sb(12,"input",29),f.Xb(13,"span",28),f.Tc(14,"%"),f.Wb(),f.Wb(),f.Wb(),f.Xb(15,"td"),f.Xb(16,"mat-card",26),f.Sb(17,"input",30),f.Xb(18,"span",28),f.Tc(19,"%"),f.Wb(),f.Wb(),f.Wb(),f.Ub(),f.Wb()),2&e){var r=t.$implicit;f.Eb(1),f.rc("formGroup",r)}}function be(e,t){if(1&e&&(f.Xb(0,"form",14),f.Xb(1,"div",15),f.Xb(2,"span",16),f.Tc(3," Interest Details "),f.Wb(),f.Sb(4,"mat-divider",17),f.Wb(),f.Xb(5,"table",18),f.Xb(6,"thead",19),f.Xb(7,"tr",20),f.Xb(8,"th"),f.Tc(9,"Interest Type"),f.Wb(),f.Xb(10,"th"),f.Tc(11,"Interest Rate Applicable"),f.Wb(),f.Xb(12,"th"),f.Tc(13,"Margin in %"),f.Wb(),f.Xb(14,"th"),f.Tc(15,"Effective Rate %"),f.Wb(),f.Wb(),f.Wb(),f.Xb(16,"tbody"),f.Rc(17,ue,20,1,"tr",21),f.Wb(),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("formGroup",r.interestForm),f.Eb(17),f.rc("ngForOf",r.in.controls)}}var de,me=((de=function(){function e(t,r,n,a,i,o,c){s(this,e),this.accountService=t,this.snack=r,this.ls=n,this.api=a,this.router=i,this.formBuilder=o,this.loader=c,this.showEditOption=!1,this.accountType="Card Origin"}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId");var t=this.ls.getItem("CARD_INTEREST_DETAILS_DONE");this.getInterestDetails(),null!=this.cardId&&t?(this.showEditOption=!0,this.getInterestDetails()):(this.showEditOption=!1,this.api.getFlexcubeDetails("intrestDetails",this.accountType).subscribe(function(t){t&&(e.onChangeInterest(t.length),e.in.patchValue(t))})),this.interestForm=this.formBuilder.group({interestInfo:new p.d([])})}},{key:"getInterestDetails",value:function(){var e=this;this.cardId=this.cardId,this.api.cardInterestFetchById(this.cardId).subscribe(function(t){e.loader.close(),t&&(e.resp=t,e.onChangeInterest(e.resp.length),e.in.patchValue(e.resp))},function(e){})}},{key:"onChangeInterest",value:function(e){this.cardId=this.ls.getItem("cardId");var t=e||0;if(this.in.length<t)for(var r=this.in.length;r<t;r++)this.in.push(this.formBuilder.group({intrestType:["Fixed Rate",p.z.required],intrestRateApplicable:[5,p.z.required],marginIn:[null,[p.z.required,p.z.max(100),p.z.min(0)]],effectiveRate:[10,[p.z.required,p.z.max(100),p.z.min(0)]],cardInterestId:[""],cardId:[this.cardId]}));else for(var n=this.in.length;n>=t;n--)this.in.removeAt(n)}},{key:"f",get:function(){return this.interestForm.controls}},{key:"in",get:function(){return this.f.interestInfo}},{key:"onSubmit",value:function(){var e=this,t=this.interestForm.value;t=this.interestForm.value,this.api.cardintrestDetailsSave(t).subscribe(function(t){e.snack.open("Interest Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next()},function(t){e.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"next",value:function(){this.ls.setItem("CARD_INTEREST_DETAILS_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEnrichment/charge-details"])}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}}]),e}()).\u0275fac=function(e){return new(e||de)(f.Rb(N.a),f.Rb(h.a),f.Rb(m.a),f.Rb(g.b),f.Rb(v.h),f.Rb(p.f),f.Rb(le.a))},de.\u0275cmp=f.Lb({type:de,selectors:[["app-intrest-details"]],decls:18,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/loanInterest.svg","alt","",1,"w-80"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"m-333"],[1,"mt-24"],["class","chargeForm",3,"formGroup",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[1,"chargeForm",3,"formGroup"],[1,"spanDiv1"],[1,"span"],[1,"divider"],[1,"cart-table","default-bg","mat-elevation-z0"],[1,"tr"],[1,"theadClass"],["class","tableRow",4,"ngFor","ngForOf"],[1,"tableRow"],[3,"formGroup"],[1,"matCardBox-form"],["matInput","","formControlName","intrestType","name","intrestType","placeholder","Interest Type","readonly","",1,"input"],[1,"matCardBox-form","box1"],["matInput","","formControlName","intrestRateApplicable","name","intrestRateApplicable","placeholder","Interest Rate Applicable","readonly","",1,"inputPercent"],["matSuffix",""],["matInput","","formControlName","marginIn","name","margin","placeholder","Margin","readonly","",1,"inputPercent"],["matInput","","formControlName","effectiveRate","name","effectiveRate","placeholder","Effective Rate","value","","readonly","",1,"inputPercent"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Interest Details"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(9,"div",7),f.Sb(10,"div",8),f.Rc(11,be,18,2,"form",9),f.Wb(),f.Xb(12,"div",10),f.Xb(13,"a",11),f.fc("click",function(){return t.goBack()}),f.Tc(14,"Back"),f.Wb(),f.Sb(15,"span",12),f.Xb(16,"button",13),f.fc("click",function(){return t.onSubmit()}),f.Tc(17,"Next"),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(11),f.rc("ngIf",t.interestForm),f.Eb(5),f.rc("disabled",t.interestForm.invalid))},directives:[W.e,W.b,c.n,x.a,x.b,p.A,p.s,p.j,E.a,c.m,C.a,X.b,p.c,p.r,p.i,I.j],styles:[".main[_ngcontent-%COMP%]{border:.5px solid #ebeaea;border-radius:10px;opacity:1;margin-bottom:20px}.tr[_ngcontent-%COMP%]{background-color:#fff}h5[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:-30px;font-size:12px}.matCard[_ngcontent-%COMP%]{box-shadow:0 1px 3px rgba(0,0,0,.1607843137254902);opacity:1}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 20px;width:680px;margin:auto}.matCardBox-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;align-items:center}.matCardBox-form[_ngcontent-%COMP%]   input.inputPercent[_ngcontent-%COMP%]{width:10px!important;min-width:10px!important}.box1[_ngcontent-%COMP%]{height:55px!important}.input[_ngcontent-%COMP%], .inputPercent[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.inputPercent[_ngcontent-%COMP%]{width:10%}.spanDiv[_ngcontent-%COMP%]{text-decoration:underline;font:normal normal medium 12px/15px Montserrat;letter-spacing:0;color:#456efe;opacity:1}th[_ngcontent-%COMP%]{text-align:left;font:normal normal medium 12px/17px Manrope;letter-spacing:-.24px;color:#102245;opacity:.7}.spanDiv1[_ngcontent-%COMP%]{display:flex;margin-bottom:1%;margin-top:2%}.span[_ngcontent-%COMP%]{font-weight:600;width:22%!important;margin-left:50px}.divider[_ngcontent-%COMP%]{position:unset!important;width:500px;align-self:center!important}.chargeForm[_ngcontent-%COMP%]{box-shadow:0 1px 1px rgba(0,0,0,.1568627450980392);border:1px solid #efefef;border-radius:40px}.bgColor[_ngcontent-%COMP%]{background-color:#c3c3c3}.theadClass[_ngcontent-%COMP%]{background-color:#fff}.row[_ngcontent-%COMP%]{border:.5px solid #ebeaea;padding-top:5px;margin-bottom:10px;border-radius:10px}"]}),de),pe=i("laYw"),ge=function(){return{y:"50px",delay:"300ms"}},fe=function(e){return{value:"*",params:e}};function he(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",25),f.Xb(1,"mat-card"),f.Xb(2,"div",26),f.Xb(3,"div",27),f.Xb(4,"mat-icon",28),f.Tc(5,"check_circle"),f.Wb(),f.Wb(),f.Xb(6,"div",29),f.Xb(7,"h6"),f.Tc(8,"Application Entry Stage Completed"),f.Wb(),f.Wb(),f.Sb(9,"span",30),f.Xb(10,"button",31),f.fc("click",function(){return f.Hc(r),f.jc().openCardEntryStageViewSummary()}),f.Tc(11," View Summary "),f.Xb(12,"mat-icon"),f.Tc(13,"chevron_right"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()}2&e&&(f.Eb(1),f.rc("@animate",f.xc(2,fe,f.wc(1,ge))))}function ye(e,t){1&e&&(f.Xb(0,"div",32),f.Sb(1,"mat-progress-bar",33),f.Xb(2,"p",34),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function ve(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",35),f.fc("click",function(){return f.Hc(r),f.jc().openCardInitiationSummary()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var Ce=function(){return["/cardaccount/applicationEntryStage/list/cardInitiation"]};function xe(e,t){1&e&&(f.Vb(0),f.Xb(1,"button",36),f.Tc(2," Add Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()),2&e&&(f.Eb(1),f.rc("routerLink",f.wc(1,Ce)))}function We(e,t){1&e&&(f.Xb(0,"div",32),f.Sb(1,"mat-progress-bar",33),f.Xb(2,"p",34),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function Xe(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",35),f.fc("click",function(){return f.Hc(r),f.jc().goToCustomerInfo()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var Ie=function(){return["/cardaccount/applicationEntryStage/list/customerInformation"]};function ke(e,t){if(1&e&&(f.Xb(0,"button",37),f.Tc(1," Add Details "),f.Xb(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("routerLink",f.wc(2,Ie))("disabled",!r.isCardInitiationDone)}}function Se(e,t){1&e&&(f.Xb(0,"div",32),f.Sb(1,"mat-progress-bar",33),f.Xb(2,"p",34),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function Oe(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",35),f.fc("click",function(){return f.Hc(r),f.jc().goToFinancialSummarry()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var Te=function(){return["/cardaccount/applicationEntryStage/list/financialDetails"]};function De(e,t){if(1&e&&(f.Xb(0,"button",37),f.Tc(1," Add Details "),f.Xb(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("routerLink",f.wc(2,Te))("disabled",!r.isCardCustomerInformationScreen)}}function Ee(e,t){1&e&&(f.Xb(0,"div",32),f.Sb(1,"mat-progress-bar",33),f.Xb(2,"p",34),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function Ae(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",35),f.fc("click",function(){return f.Hc(r),f.jc().cardPrefrenceSummary()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var we=function(){return["/cardaccount/applicationEntryStage/list/cardPrefrence"]};function _e(e,t){if(1&e&&(f.Xb(0,"button",37),f.Tc(1," Add Details "),f.Xb(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("routerLink",f.wc(2,we))("disabled",!r.isCardFinancialDetailsScreen)}}function Pe(e,t){1&e&&(f.Xb(0,"div",32),f.Sb(1,"mat-progress-bar",33),f.Xb(2,"p",34),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function Ne(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",35),f.fc("click",function(){return f.Hc(r),f.jc().goToCradAccountService()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var Re=function(){return["/cardaccount/applicationEntryStage/list/accountServices"]};function Fe(e,t){if(1&e&&(f.Xb(0,"button",37),f.Tc(1," Add Details "),f.Xb(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("routerLink",f.wc(2,Re))("disabled",!r.isCardPrefrenceDone)}}var Me,Le=function(e){return{"border-size":e}},Ve=((Me=function(){function e(t,r,n,a){s(this,e),this.router=t,this.dialogService=r,this.ls=n,this.dialog=a,this.isCardPrefrenceDone=!1,this.CardInitiationScreenDone=!1,this.isCardInitiationDone=!1,this.isCardCustomerInformationScreen=!1,this.isCardFinancialDetailsScreen=!1,this.isCardAccountService=!1,this.isCardApplicationStageDone=!1}return u(e,[{key:"ngOnInit",value:function(){this.isCardApplicationStageDone=this.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),this.isCardPrefrenceDone=this.ls.getItem("card_prefrence_done"),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),this.isCardCustomerInformationScreen=this.ls.getItem("Card_Customer_Done"),this.isCardFinancialDetailsScreen=this.ls.getItem("CARD_FINANCIAL_DONE"),this.isCardAccountService=this.ls.getItem("CARD_ACC_SERVICE_DONE")}},{key:"openCardInitiationSummary",value:function(){this.dialogService.CardInitiationSummary()}},{key:"goToFinancialSummarry",value:function(){this.dialogService.CardFinancialDetailsSummary()}},{key:"goToCustomerInfo",value:function(){this.dialogService.CardCustomerInfoSummary()}},{key:"goToCradAccountService",value:function(){this.dialogService.cardAccountServiceViewSummary()}},{key:"cardPrefrenceSummary",value:function(){this.dialogService.cardPrefrenceSummary()}},{key:"openCardEntryStageViewSummary",value:function(){this.dialogService.cardAppEntryStageViewSummary()}}]),e}()).\u0275fac=function(e){return new(e||Me)(f.Rb(v.h),f.Rb(pe.a),f.Rb(m.a),f.Rb(y.b))},Me.\u0275cmp=f.Lb({type:Me,selectors:[["app-application-entry-stage"]],decls:101,vars:35,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],[2,"font-size","16px"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",2,"font-size","11px"],["fxFlex","50%",1,"notActive"],[1,"text-align"],["fxFlex","50%"],["src","assets/images/cardInitiation.png",1,"card-img"],["class","mb-1",4,"ngIf"],[4,"ngIf"],[1,"card-img",3,"src"],[4,"ngIf","ngIfElse"],["showCustomer",""],["showFinancial",""],["showCardPrefrence",""],["showService",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","",1,"btn-color",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",1,"add-align",3,"click"],["mat-button","","color","primary",1,"add-align",3,"routerLink"],["mat-button","","color","primary",1,"add-align",3,"routerLink","disabled"]],template:function(e,t){if(1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Sb(3,"img",3),f.Wb(),f.Xb(4,"div",4),f.Xb(5,"div",5),f.Xb(6,"b"),f.Tc(7,"Create New Card Account"),f.Wb(),f.Wb(),f.Xb(8,"div",6),f.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),f.Wb(),f.Wb(),f.Wb(),f.Rc(10,he,14,4,"div",7),f.Wb(),f.Xb(11,"div",8),f.Xb(12,"div",9),f.Xb(13,"mat-card",10),f.Xb(14,"mat-card-header"),f.Xb(15,"mat-card-title",11),f.Tc(16,"1. Card Initiation"),f.Wb(),f.Wb(),f.Xb(17,"mat-card-content"),f.Xb(18,"div",12),f.Xb(19,"div",13),f.Xb(20,"p",14),f.Tc(21," All the primary information about the customer is captured. "),f.Wb(),f.Wb(),f.Xb(22,"div",15),f.Sb(23,"img",16),f.Wb(),f.Wb(),f.Rc(24,ye,4,2,"div",17),f.Wb(),f.Sb(25,"mat-divider"),f.Xb(26,"mat-card-actions"),f.Rc(27,ve,5,0,"ng-container",18),f.Rc(28,xe,5,2,"ng-container",18),f.Wb(),f.Wb(),f.Wb(),f.Xb(29,"div",9),f.Xb(30,"mat-card",10),f.Xb(31,"mat-card-header"),f.Xb(32,"mat-card-title",11),f.Tc(33,"2. Customer Information Details"),f.Wb(),f.Wb(),f.Xb(34,"mat-card-content"),f.Xb(35,"div",12),f.Xb(36,"div",13),f.Xb(37,"p",14),f.Tc(38," All the primary information about the customer is captured. "),f.Wb(),f.Wb(),f.Xb(39,"div",15),f.Sb(40,"img",19),f.Wb(),f.Wb(),f.Rc(41,We,4,2,"div",17),f.Wb(),f.Sb(42,"mat-divider"),f.Xb(43,"mat-card-actions"),f.Rc(44,Xe,5,0,"ng-container",20),f.Rc(45,ke,4,3,"ng-template",null,21,f.Sc),f.Wb(),f.Wb(),f.Wb(),f.Xb(47,"div",9),f.Xb(48,"mat-card",10),f.Xb(49,"mat-card-header"),f.Xb(50,"mat-card-title",11),f.Tc(51,"3. Financial Details"),f.Wb(),f.Wb(),f.Xb(52,"mat-card-content"),f.Xb(53,"div",12),f.Xb(54,"div",13),f.Xb(55,"p",14),f.Tc(56," Financial Details such as Monthly Income, Monthly Expenses, Liabilities are captured. "),f.Wb(),f.Wb(),f.Xb(57,"div",15),f.Sb(58,"img",19),f.Wb(),f.Wb(),f.Rc(59,Se,4,2,"div",17),f.Wb(),f.Sb(60,"mat-divider"),f.Xb(61,"mat-card-actions"),f.Rc(62,Oe,5,0,"ng-container",20),f.Rc(63,De,4,3,"ng-template",null,22,f.Sc),f.Wb(),f.Wb(),f.Wb(),f.Xb(65,"div",9),f.Xb(66,"mat-card",10),f.Xb(67,"mat-card-header"),f.Xb(68,"mat-card-title",11),f.Tc(69,"4. Card Preferences"),f.Wb(),f.Wb(),f.Xb(70,"mat-card-content"),f.Xb(71,"div",12),f.Xb(72,"div",13),f.Xb(73,"p",14),f.Tc(74," Card related information are added. "),f.Wb(),f.Wb(),f.Xb(75,"div",15),f.Sb(76,"img",19),f.Wb(),f.Wb(),f.Rc(77,Ee,4,2,"div",17),f.Wb(),f.Sb(78,"mat-divider"),f.Xb(79,"mat-card-actions"),f.Rc(80,Ae,5,0,"ng-container",20),f.Rc(81,_e,4,3,"ng-template",null,23,f.Sc),f.Wb(),f.Wb(),f.Wb(),f.Xb(83,"div",9),f.Xb(84,"mat-card",10),f.Xb(85,"mat-card-header"),f.Xb(86,"mat-card-title",11),f.Tc(87,"5. Account Services"),f.Wb(),f.Wb(),f.Xb(88,"mat-card-content"),f.Xb(89,"div",12),f.Xb(90,"div",13),f.Xb(91,"p",14),f.Tc(92," Account services preferences like account statement frequency and mode are captured. "),f.Wb(),f.Wb(),f.Xb(93,"div",15),f.Sb(94,"img",19),f.Wb(),f.Wb(),f.Rc(95,Pe,4,2,"div",17),f.Wb(),f.Sb(96,"mat-divider"),f.Xb(97,"mat-card-actions"),f.Rc(98,Ne,5,0,"ng-container",20),f.Rc(99,Fe,4,3,"ng-template",null,24,f.Sc),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e){var r=f.Dc(46),n=f.Dc(64),a=f.Dc(82),i=f.Dc(100);f.Eb(10),f.rc("ngIf",t.isCardApplicationStageDone),f.Eb(3),f.rc("ngClass",f.xc(25,Le,t.isCardInitiationDone||!t.isCardInitiationDone)),f.Eb(11),f.rc("ngIf",t.isCardInitiationDone),f.Eb(3),f.rc("ngIf",t.isCardInitiationDone),f.Eb(1),f.rc("ngIf",!t.isCardInitiationDone),f.Eb(2),f.rc("ngClass",f.xc(27,Le,t.isCardCustomerInformationScreen||!t.isCardCustomerInformationScreen&&t.isCardInitiationDone)),f.Eb(10),f.rc("src","assets/images/svg/undraw_personal_information_re_vw8a.svg.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isCardCustomerInformationScreen),f.Eb(3),f.rc("ngIf",t.isCardCustomerInformationScreen)("ngIfElse",r),f.Eb(4),f.rc("ngClass",f.xc(29,Le,t.isCardFinancialDetailsScreen||!t.isCardFinancialDetailsScreen&&t.isCardCustomerInformationScreen)),f.Eb(10),f.rc("src","assets/images/svg/undraw_Finance_re_gnv2.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isCardFinancialDetailsScreen),f.Eb(3),f.rc("ngIf",t.isCardFinancialDetailsScreen)("ngIfElse",n),f.Eb(4),f.rc("ngClass",f.xc(31,Le,t.isCardPrefrenceDone||!t.isCardPrefrenceDone&&t.isCardFinancialDetailsScreen)),f.Eb(10),f.rc("src","assets/images/svg/Mask_Group_1.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isCardPrefrenceDone),f.Eb(3),f.rc("ngIf",t.isCardPrefrenceDone)("ngIfElse",a),f.Eb(4),f.rc("ngClass",f.xc(33,Le,t.isCardAccountService||!t.isCardAccountService&&t.isCardPrefrenceDone)),f.Eb(10),f.rc("src","assets/images/svg/undraw_opinion_dxp8.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isCardAccountService),f.Eb(3),f.rc("ngIf",t.isCardAccountService)("ngIfElse",i)}},directives:[W.e,W.b,c.n,C.a,c.l,R.a,C.e,C.h,C.d,W.f,W.d,E.a,C.b,l.a,x.b,F.a,v.i],styles:[".not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.main-title1[_ngcontent-%COMP%]{font-size:28px}.text-muted1[_ngcontent-%COMP%]{font-size:20px;color:#cacaca!important}.text-align[_ngcontent-%COMP%]{padding-left:18px}.add-align[_ngcontent-%COMP%]{padding-left:27px}"]}),Me),je=i("iiaH"),Be=i("NN4w"),ze=i("LvDl"),qe=i("YS3K"),Ue=i("zQhy");function Ge(e,t){if(1&e){var r=f.Yb();f.Xb(0,"p",29),f.Xb(1,"mat-checkbox",30),f.fc("change",function(e){f.Hc(r);var n=t.$implicit;return f.jc(2).onChecklistChange(e.checked,n)}),f.Tc(2),f.Wb(),f.Wb()}if(2&e){var n=t.$implicit;f.Eb(1),f.rc("value",n)("checked",n.checked),f.Eb(1),f.Vc("",n.name," ")}}function He(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",31),f.Xb(1,"mat-checkbox",30),f.fc("change",function(e){f.Hc(r);var n=t.$implicit;return f.jc(2).onCheckComChange(e.checked,n)}),f.Tc(2),f.Wb(),f.Wb()}if(2&e){var n=t.$implicit;f.Eb(1),f.rc("value",n)("checked",n.checked),f.Eb(1),f.Vc("",n.name," ")}}function Ye(e,t){if(1&e){var r=f.Yb();f.Xb(0,"form",13),f.Xb(1,"div",14),f.Xb(2,"div",15),f.Xb(3,"div",16),f.Xb(4,"label"),f.Xb(5,"strong"),f.Tc(6,"Account Statement Frequency*"),f.Wb(),f.Wb(),f.Sb(7,"div",17),f.Xb(8,"mat-radio-group",18),f.fc("change",function(e){return f.Hc(r),f.jc().statementFrequency(e.value)}),f.Xb(9,"mat-radio-button",19),f.Tc(10,"Monthly"),f.Wb(),f.Xb(11,"mat-radio-button",20),f.Tc(12,"Bi-Annual"),f.Wb(),f.Sb(13,"div",17),f.Xb(14,"mat-radio-button",21),f.Tc(15,"Quaterly"),f.Wb(),f.Xb(16,"mat-radio-button",22),f.Tc(17,"Annual"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(18,"div",23),f.Xb(19,"div",16),f.Xb(20,"label"),f.Xb(21,"strong"),f.Tc(22,"Account Statement Preference*"),f.Wb(),f.Wb(),f.Sb(23,"div",17),f.Rc(24,Ge,3,3,"p",24),f.Wb(),f.Wb(),f.Wb(),f.Sb(25,"div",25),f.Vb(26),f.Xb(27,"div",14),f.Xb(28,"div",23),f.Xb(29,"div",26),f.Xb(30,"div",2),f.Xb(31,"label"),f.Xb(32,"strong"),f.Tc(33,"Communication Channel Preferences*"),f.Wb(),f.Wb(),f.Sb(34,"div",27),f.Wb(),f.Xb(35,"div",2),f.Rc(36,He,3,3,"div",28),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Ub(),f.Wb()}if(2&e){var n=f.jc();f.rc("formGroup",n.accountServiceForm),f.Eb(24),f.rc("ngForOf",n.statementList),f.Eb(12),f.rc("ngForOf",n.communicationList)}}var $e,Qe=(($e=function(){function e(t,r,n,a,i,o,c,l,u,b){s(this,e),this.router=t,this.urlService=r,this.dataService=n,this.route=a,this.snack=i,this.ls=o,this.accountService=c,this.formBuilder=l,this.apiService=u,this.cdr=b,this.show=!1,this.selectedRow=!1,this.statementList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1}],this.communicationList=[{id:1,name:"EMAIL",checked:!1},{id:2,name:"POST",checked:!1},{id:3,name:"SMS",checked:!1}],this.commChannelPreferencesArray=[],this.AccStatementPreferenceArray=[],this.showEditOption=!1,this.previousUrl="",this.enableFinish=!1}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId");var t=JSON.parse(this.ls.getItem("CARD_ACC_SERVICE_DONE"));null!=this.cardId&&t?(this.showEditOption=!0,this.gettingAccountService()):(this.showEditOption=!1,this.buildServiceForm(),this.accountServiceForm.controls.statementPref.patchValue(this.statementList),this.accountServiceForm.controls.commChannelPref.patchValue(this.communicationList)),this.urlService.previousUrl$.subscribe(function(t){e.previousUrl=t})}},{key:"gettingAccountService",value:function(){var e=this;this.apiService.gettingCardAccountServiceDetails(this.cardId).subscribe(function(t){e.buildServiceForm(t),e.statementList=t.statementPref,e.communicationList=t.commChannelPref,e.cdr.markForCheck();for(var r=0;r<e.communicationList.length;r++)e.communicationList[r].checked&&e.commChannelPreferencesArray.push(e.communicationList[r].name);for(r=0;r<e.statementList.length;r++)e.statementList[r].checked&&e.AccStatementPreferenceArray.push(e.statementList[r].name);localStorage.setItem("statementFrequency",t.statementFrequency),e.enableFinish=!0})}},{key:"statementFrequency",value:function(e){this.statementFrncy=localStorage.getItem("statementFrequency"),e!=this.statementFrncy&&(this.enableFinish=!0)}},{key:"buildServiceForm",value:function(e){this.accountServiceForm=this.formBuilder.group({accServiceId:[e?e.accServiceId:null],productAccountId:[null!=this.accountId?this.accountId:null],statementFrequency:[e?e.statementFrequency:""],statementPref:[e?this.flattenValues(e.statementPref):""],commChannelPref:[e?this.flattenValues(e.commChannelPref):""]})}},{key:"onChecklistChange",value:function(e,t){var r=this;t.checked=e,this.enableFinish=!0,this.accountServiceForm.get("statementPref").setValue(this.flattenValues(this.statementList)),e?this.AccStatementPreferenceArray.push(t.name):this.AccStatementPreferenceArray.forEach(function(e,n){e===t.name&&r.AccStatementPreferenceArray.splice(n,1)})}},{key:"onCheckComChange",value:function(e,t){var r=this;t.checked=e,this.accountServiceForm.get("commChannelPref").setValue(this.flattenValues(this.communicationList)),e?(this.commChannelPreferencesArray.push(t.name),this.enableFinish=!0):this.commChannelPreferencesArray.forEach(function(e,n){e===t.name&&(r.commChannelPreferencesArray.splice(n,1),r.enableFinish=!0)})}},{key:"flattenValues",value:function(e){return Object(ze.flow)([Object(qe.filter)(function(e){return e.checked}),Object(qe.flatMap)(function(e){return e.name})])(e).join(",")}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEntryStage/list/cardPrefrence"])}},{key:"onSubmit",value:function(){var e=this,t={cardId:this.cardId,statementFrequency:this.accountServiceForm.value.statementFrequency,statementPref:this.statementList,commChannelPref:this.communicationList,accountType:"cardOrigin",accServiceId:0,bankChannelPref:[],chequebookNeeded:!1,debitCardLimit:0,debitCardRequired:!1,debitCardType:"",passbookNeeded:!1,productAccountId:0};this.accountServiceForm.invalid||(this.showEditOption?this.apiService.updateAccountService(this.cardId,t).subscribe(function(t){e.snack.open("Account Service Updated!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){}):this.apiService.createAccountService(this.cardId,t).subscribe(function(t){e.snack.open("Account Service Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){}),this.goToNext())}},{key:"goToNext",value:function(){this.ls.setItem("CARD_ACC_SERVICE_DONE",!0),this.ls.setItem("CARD_APPLICATION_ENTRY_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/documentupload/list"])}}]),e}()).\u0275fac=function(e){return new(e||$e)(f.Rb(v.h),f.Rb(Be.a),f.Rb(je.a),f.Rb(v.a),f.Rb(h.a),f.Rb(m.a),f.Rb(N.a),f.Rb(p.f),f.Rb(g.b),f.Rb(f.h))},$e.\u0275cmp=f.Lb({type:$e,selectors:[["app-card-account-services"]],decls:23,vars:2,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_opinion_dxp8.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0","bordercard"],["visible","true"],[3,"formGroup",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],[1,"m-16"],["name","statementFreq","formControlName","statementFrequency","required","",1,"mt-12",3,"change"],["value","MONTHLY","color","primary",1,"ml-8"],["value","BIANNUAL","color","primary",1,"ml-16"],["value","QUATERLY","color","primary",1,"ml-8"],["value","ANNUAL","color","primary",1,"ml-16"],["fxFlex","100","fxFlex.gt-xs","50"],["formArrayName","statementPref",4,"ngFor","ngForOf"],[1,"m-32"],["fxLayout","row wrap"],[1,"m-12"],["fxFlex","25","formArrayName","commChannelPref",4,"ngFor","ngForOf"],["formArrayName","statementPref"],["color","primary",1,"checkbox-margin",3,"value","checked","change"],["fxFlex","25","formArrayName","commChannelPref"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Account Services"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(9,"div",1),f.Xb(10,"div",2),f.Xb(11,"mat-card",7),f.Xb(12,"mat-card-title"),f.Xb(13,"fieldset"),f.Xb(14,"legend",8),f.Tc(15,"Account Services"),f.Wb(),f.Wb(),f.Wb(),f.Xb(16,"mat-card-content"),f.Rc(17,Ye,37,3,"form",9),f.Wb(),f.Wb(),f.Xb(18,"div",10),f.Xb(19,"button",11),f.fc("click",function(){return t.goBack()}),f.Tc(20," Back "),f.Wb(),f.Xb(21,"button",12),f.fc("click",function(){return t.onSubmit()}),f.Tc(22," Next "),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(17),f.rc("ngIf",t.accountServiceForm),f.Eb(4),f.rc("disabled",!t.accountServiceForm.valid||0==t.commChannelPreferencesArray.length||0==t.AccStatementPreferenceArray.length))},directives:[W.e,W.b,C.a,C.h,C.d,c.n,W.d,W.f,x.b,p.A,p.s,p.j,Ue.b,p.r,p.i,p.y,Ue.a,c.m,p.e,J.a],styles:[".card-title-text[_ngcontent-%COMP%]{color:#000;padding-left:18px;font-size:30px;font-weight:700}.bordercard[_ngcontent-%COMP%]{border:1px solid #87ceeb}"]}),$e),Ke=i("3kSh"),Je=i("qMRc"),Ze=i("wd/R"),et=i("Zy1z"),tt=i("ZTz/"),rt=i("UhP/"),nt=i("jMqV"),at=i("o4Yh"),it=i("f44v"),ot=i("TN/R"),ct=i("2Goh"),st=i("SqCe");function lt(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function ut(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Ownership is Required! "),f.Wb())}function bt(e,t){if(1&e&&(f.Xb(0,"mat-chip",54),f.Tc(1),f.Wb()),2&e){var r=f.jc().$implicit;f.rc("color","warn")("selected",r.primaryCustomer),f.Eb(1),f.Uc(r.primaryCustomer?"primary":"")}}function dt(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"a",55),f.fc("click",function(){return f.Hc(r),f.jc(3).resetAndClose()}),f.Xb(2,"mat-icon"),f.Tc(3,"close"),f.Wb(),f.Wb(),f.Ub()}}function mt(e,t){if(1&e){var r=f.Yb();f.Xb(0,"a",56),f.fc("click",function(){f.Hc(r);var e=f.jc().$implicit;return f.jc(2).toggleDetails(e)}),f.Xb(1,"mat-icon"),f.Tc(2,"edit"),f.Wb(),f.Wb()}}function pt(e,t){if(1&e){var r=f.Yb();f.Xb(0,"a",57),f.fc("click",function(){f.Hc(r);var e=f.jc().$implicit;return f.jc(2).removeApplicant(e)}),f.Xb(1,"mat-icon"),f.Tc(2,"delete"),f.Wb(),f.Wb()}}function gt(e,t){1&e&&f.Tb(0)}var ft=function(e){return{$implicit:e}};function ht(e,t){if(1&e&&(f.Vb(0),f.Rc(1,gt,1,0,"ng-container",58),f.Ub()),2&e){var r=f.jc().$implicit,n=f.Dc(29);f.Eb(1),f.rc("ngTemplateOutlet",n)("ngTemplateOutletContext",f.xc(2,ft,r))}}function yt(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function vt(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Prefix is Required! "),f.Wb())}function Ct(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Date of Birth is Required! "),f.Wb())}function xt(e,t){if(1&e&&f.Sb(0,"div"),2&e){var r=f.jc(4);f.Hb("currency-flag currency-flag-",r.Currency1,"")}}function Wt(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Xt(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function It(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Resident Status is Required! "),f.Wb())}function kt(e,t){if(1&e&&f.Sb(0,"div"),2&e){var r=f.jc(4);f.Hb("currency-flag currency-flag-",r.Currency,"")}}function St(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Ot(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Country of Residence is Required! "),f.Wb())}function Tt(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Dt(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," ID Type is Required! "),f.Wb())}function Et(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," ID Type Valid Till is Required! "),f.Wb())}function At(e,t){if(1&e&&(f.Xb(0,"div",14),f.Xb(1,"mat-form-field",15),f.Xb(2,"mat-label"),f.Tc(3,"ID Type Valid Till"),f.Wb(),f.Sb(4,"input",103),f.Sb(5,"mat-datepicker-toggle",66),f.Rc(6,Et,2,0,"mat-error",19),f.Wb(),f.Sb(7,"mat-datepicker",null,104),f.Wb()),2&e){var r=f.Dc(8),n=f.jc(4);f.Eb(4),f.rc("required","Aadhar card"!=n.applicant.get("idType").value)("matDatepicker",r)("min",n.validDate),f.Eb(1),f.rc("for",r),f.Eb(1),f.rc("ngIf",n.applicant.get("expiryDate").hasError("required"))}}function wt(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," First Name is Required! "),f.Wb())}function _t(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Last Name is Required! "),f.Wb())}function Pt(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Nt(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Gender is Required! "),f.Wb())}function Rt(e,t){1&e&&(f.Xb(0,"mat-hint",105),f.Tc(1," \xa0 Prefix and Gender does not match! "),f.Wb())}function Ft(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Birth Place is Required! "),f.Wb())}function Mt(e,t){if(1&e&&f.Sb(0,"div"),2&e){var r=f.jc(4);f.Hb("currency-flag currency-flag-",r.currencyCode,"")}}function Lt(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Vt(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Citizenship By is Required! "),f.Wb())}function jt(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc("",r," ")}}function Bt(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Occupation Type is Required! "),f.Wb())}function zt(e,t){1&e&&(f.Xb(0,"div"),f.Tc(1,"Unique ID Number is Required!"),f.Wb())}function qt(e,t){1&e&&(f.Xb(0,"div"),f.Tc(1,"This is a numeric field "),f.Wb())}function Ut(e,t){if(1&e&&(f.Xb(0,"mat-error"),f.Rc(1,zt,2,0,"div",19),f.Rc(2,qt,2,0,"div",19),f.Wb()),2&e){var r=f.jc(4);f.Eb(1),f.rc("ngIf",r.applicant.get("idNumber").hasError("required")),f.Eb(1),f.rc("ngIf",r.applicant.get("idNumber").hasError("pattern"))}}function Gt(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Address Line 1 is Required! "),f.Wb())}function Ht(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Enter Valid Address "),f.Wb())}function Yt(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function $t(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Residence Type is Required! "),f.Wb())}function Qt(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please enter valid Zip Code!(5-10 digits) "),f.Wb())}function Kt(e,t){1&e&&(f.Xb(0,"h5",106),f.Tc(1,"Please enter valid Zip Code!(5-10 digits) "),f.Wb())}function Jt(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc("",r," ")}}function Zt(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," City is Required! "),f.Wb())}function er(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Address Line 2 is Required! "),f.Wb())}function tr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Enter Valid Address "),f.Wb())}function rr(e,t){if(1&e&&f.Sb(0,"div"),2&e){var r=f.jc(4);f.Hb("currency-flag currency-flag-",r.editCountryCode,"")}}function nr(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function ar(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Country is Required! "),f.Wb())}function ir(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r.stateName),f.Eb(1),f.Vc(" ",r.stateName,"")}}function or(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," State is Required! "),f.Wb())}function cr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Mobile Number is Required! "),f.Wb())}function sr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please, Enter 10 digit Mobile Number! "),f.Wb())}function lr(e,t){1&e&&(f.Xb(0,"mat-error",107),f.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),f.Wb())}function ur(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," E-mail is Required! "),f.Wb())}function br(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please, Enter 10 digit Landline Number! "),f.Wb())}function dr(e,t){1&e&&(f.Xb(0,"mat-error",107),f.Tc(1," \xa0 \xa0 Please Enter Correct Landline Number "),f.Wb())}function mr(e,t){if(1&e){var r=f.Yb();f.Xb(0,"form",59),f.Xb(1,"div",60),f.Xb(2,"div",12),f.Xb(3,"div",13),f.Xb(4,"div",14),f.Xb(5,"label"),f.Tc(6,"Is the applicant an existing customer?"),f.Wb(),f.Tc(7," \xa0\xa0 "),f.Xb(8,"mat-slide-toggle",61),f.fc("change",function(e){return f.Hc(r),f.jc(3).toggleChanges(e)}),f.Wb(),f.Sb(9,"div",62),f.Wb(),f.Xb(10,"div",14),f.Xb(11,"mat-form-field",15),f.Xb(12,"mat-label"),f.Tc(13,"Prefix *"),f.Wb(),f.Xb(14,"mat-select",63),f.fc("selectionChange",function(){f.Hc(r);var e=f.jc(3);return e.onChangeData(e.applicant.get("gender").value)}),f.Rc(15,yt,2,2,"mat-option",18),f.Wb(),f.Rc(16,vt,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(17,"div",14),f.Xb(18,"mat-form-field",15),f.Xb(19,"mat-label"),f.Tc(20,"Middle Name"),f.Wb(),f.Xb(21,"input",64),f.fc("keypress",function(e){return f.Hc(r),f.jc(3).letterOnly(e)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(22,"div",14),f.Xb(23,"mat-form-field",15),f.Xb(24,"mat-label"),f.Tc(25,"Date of Birth *"),f.Wb(),f.Sb(26,"input",65),f.Sb(27,"mat-datepicker-toggle",66),f.Rc(28,Ct,2,0,"mat-error",19),f.Wb(),f.Sb(29,"mat-datepicker",null,67),f.Wb(),f.Xb(31,"div",68),f.Xb(32,"mat-form-field",15),f.Xb(33,"mat-label"),f.Tc(34,"Birth Country"),f.Wb(),f.Xb(35,"div",69),f.Xb(36,"div",70),f.Rc(37,xt,1,3,"div",71),f.Wb(),f.Wb(),f.Xb(38,"mat-select",72),f.fc("selectionChange",function(e){return f.Hc(r),f.jc(3).onSelectionBirthCountry(e.value)}),f.Rc(39,Wt,2,2,"mat-option",18),f.Wb(),f.Wb(),f.Wb(),f.Xb(40,"div",14),f.Xb(41,"mat-form-field",15),f.Xb(42,"mat-label"),f.Tc(43,"Resident Status *"),f.Wb(),f.Xb(44,"mat-select",73),f.Rc(45,Xt,2,2,"mat-option",18),f.Wb(),f.Rc(46,It,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(47,"div",14),f.Xb(48,"mat-form-field",15),f.Xb(49,"mat-label"),f.Tc(50,"Country of Residence"),f.Wb(),f.Xb(51,"div",69),f.Xb(52,"div",70),f.Rc(53,kt,1,3,"div",71),f.Wb(),f.Wb(),f.Xb(54,"mat-select",74),f.fc("selectionChange",function(e){return f.Hc(r),f.jc(3).onSelectionResidance(e.value)}),f.Xb(55,"mat-option",75),f.Tc(56,"--Select--"),f.Wb(),f.Rc(57,St,2,2,"mat-option",18),f.Wb(),f.Rc(58,Ot,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(59,"div",14),f.Xb(60,"mat-form-field",15),f.Xb(61,"mat-label"),f.Tc(62,"ID Type *"),f.Wb(),f.Xb(63,"mat-select",76),f.fc("selectionChange",function(){f.Hc(r);var e=f.jc(3);return e.changeIdType(e.applicant.get("idType").value)}),f.Rc(64,Tt,2,2,"mat-option",18),f.Wb(),f.Rc(65,Dt,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Rc(66,At,9,5,"div",77),f.Wb(),f.Xb(67,"div",20),f.Xb(68,"div",14),f.Xb(69,"label"),f.Tc(70,"Is the applicant a primary customer?"),f.Wb(),f.Tc(71," \xa0\xa0 "),f.Sb(72,"mat-slide-toggle",78),f.Sb(73,"div",62),f.Wb(),f.Xb(74,"div",14),f.Xb(75,"mat-form-field",15),f.Xb(76,"mat-label"),f.Tc(77,"First Name *"),f.Wb(),f.Xb(78,"input",79),f.fc("keypress",function(e){return f.Hc(r),f.jc(3).letterOnly(e)}),f.Wb(),f.Rc(79,wt,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(80,"div",14),f.Xb(81,"mat-form-field",15),f.Xb(82,"mat-label"),f.Tc(83,"Last Name *"),f.Wb(),f.Xb(84,"input",80),f.fc("keypress",function(e){return f.Hc(r),f.jc(3).letterOnly(e)}),f.Wb(),f.Rc(85,_t,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(86,"div",14),f.Xb(87,"mat-form-field",15),f.Xb(88,"mat-label"),f.Tc(89,"Gender *"),f.Wb(),f.Xb(90,"mat-select",81),f.fc("selectionChange",function(e){return f.Hc(r),f.jc(3).onChangeData(e.value)}),f.Rc(91,Pt,2,2,"mat-option",18),f.Wb(),f.Rc(92,Nt,2,0,"mat-error",19),f.Rc(93,Rt,2,0,"mat-hint",82),f.Wb(),f.Wb(),f.Xb(94,"div",14),f.Xb(95,"mat-form-field",15),f.Xb(96,"mat-label"),f.Tc(97,"Birth Place *"),f.Wb(),f.Sb(98,"input",83),f.Rc(99,Ft,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(100,"div",84),f.Xb(101,"mat-form-field",15),f.Xb(102,"mat-label"),f.Tc(103,"Citizenship By"),f.Wb(),f.Xb(104,"div",69),f.Xb(105,"div",70),f.Rc(106,Mt,1,3,"div",71),f.Wb(),f.Wb(),f.Xb(107,"div",2),f.Xb(108,"mat-select",85),f.fc("selectionChange",function(e){return f.Hc(r),f.jc(3).onSelectionCitizionship(e.value)}),f.Xb(109,"mat-option",75),f.Tc(110,"--Select--"),f.Wb(),f.Rc(111,Lt,2,2,"mat-option",18),f.Wb(),f.Wb(),f.Rc(112,Vt,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(113,"div",68),f.Xb(114,"mat-form-field",15),f.Xb(115,"mat-label"),f.Tc(116,"Marital Status"),f.Wb(),f.Xb(117,"mat-select",86),f.Rc(118,jt,2,2,"mat-option",18),f.Wb(),f.Wb(),f.Wb(),f.Xb(119,"div",14),f.Xb(120,"mat-form-field",15),f.Xb(121,"mat-label"),f.Tc(122,"Occupation Type *"),f.Wb(),f.Xb(123,"input",87),f.fc("keypress",function(e){return f.Hc(r),f.jc(3).letterOnly(e)}),f.Wb(),f.Rc(124,Bt,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(125,"div",88),f.Xb(126,"mat-form-field",15),f.Xb(127,"mat-label"),f.Tc(128,"Unique ID Number *"),f.Wb(),f.Sb(129,"input",89),f.Rc(130,Ut,3,2,"mat-error",19),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(131,"mat-accordion"),f.Xb(132,"mat-expansion-panel",39),f.Xb(133,"mat-expansion-panel-header"),f.Xb(134,"mat-panel-title"),f.Tc(135,"Communication Address "),f.Wb(),f.Wb(),f.Xb(136,"div",12),f.Xb(137,"div",13),f.Xb(138,"div",14),f.Xb(139,"mat-form-field",15),f.Xb(140,"mat-label"),f.Tc(141,"Address Line 1 *"),f.Wb(),f.Sb(142,"textarea",90),f.Rc(143,Gt,2,0,"mat-error",19),f.Rc(144,Ht,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(145,"div",14),f.Xb(146,"mat-form-field",15),f.Xb(147,"mat-label"),f.Tc(148,"Residence Type *"),f.Wb(),f.Xb(149,"mat-select",91),f.Rc(150,Yt,2,2,"mat-option",18),f.Wb(),f.Rc(151,$t,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(152,"div",14),f.Xb(153,"mat-form-field",15),f.Xb(154,"mat-label"),f.Tc(155,"Zip Code *"),f.Wb(),f.Xb(156,"input",92),f.fc("keypress",function(e){return f.Hc(r),f.jc(3).onKeyPress1(e)})("keyup",function(e){return f.Hc(r),f.jc(3).isAllSameDigit(e)})("change",function(e){f.Hc(r);var t=f.jc(3);return t.getCityandStateByZipcode(t.applicant.get("country").value,e.target.value)}),f.Wb(),f.Rc(157,Qt,2,0,"mat-error",19),f.Wb(),f.Rc(158,Kt,2,0,"h5",93),f.Wb(),f.Xb(159,"div",14),f.Xb(160,"mat-form-field",15),f.Xb(161,"mat-label"),f.Tc(162,"City *"),f.Wb(),f.Xb(163,"mat-select",94),f.fc("selectionChange",function(){return f.Hc(r),f.jc(3).onCityChange()}),f.Rc(164,Jt,2,2,"mat-option",18),f.Wb(),f.Rc(165,Zt,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Wb(),f.Xb(166,"div",20),f.Xb(167,"div",14),f.Xb(168,"mat-form-field",15),f.Xb(169,"mat-label"),f.Tc(170,"Address Line 2 *"),f.Wb(),f.Sb(171,"textarea",95),f.Rc(172,er,2,0,"mat-error",19),f.Rc(173,tr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(174,"div",14),f.Xb(175,"mat-form-field",15),f.Xb(176,"mat-label"),f.Tc(177,"Country *"),f.Wb(),f.Xb(178,"div",69),f.Xb(179,"div",70),f.Rc(180,rr,1,3,"div",71),f.Wb(),f.Wb(),f.Xb(181,"mat-select",96),f.fc("selectionChange",function(e){return f.Hc(r),f.jc(3).getStateName(e.value,!0)})("selectionChange",function(e){return f.Hc(r),f.jc(3).getCountrySelection1(e.value)}),f.Rc(182,nr,2,2,"mat-option",18),f.Wb(),f.Rc(183,ar,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(184,"div",14),f.Xb(185,"mat-form-field",15),f.Xb(186,"mat-label"),f.Tc(187,"State *"),f.Wb(),f.Xb(188,"mat-select",97),f.fc("selectionChange",function(){return f.Hc(r),f.jc(3).onStateChange()}),f.Rc(189,ir,2,2,"mat-option",18),f.Wb(),f.Rc(190,or,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(191,"mat-accordion"),f.Xb(192,"mat-expansion-panel",39),f.Xb(193,"mat-expansion-panel-header"),f.Xb(194,"mat-panel-title"),f.Tc(195,"Contact Information "),f.Wb(),f.Wb(),f.Xb(196,"div",12),f.Xb(197,"div",13),f.Xb(198,"div",14),f.Xb(199,"mat-form-field",15),f.Xb(200,"mat-label"),f.Tc(201,"Mobile Number *"),f.Wb(),f.Xb(202,"input",98),f.fc("keypress",function(e){return f.Hc(r),f.jc(3).onKeyPress1(e)}),f.Wb(),f.Rc(203,cr,2,0,"mat-error",19),f.Rc(204,sr,2,0,"mat-error",19),f.Wb(),f.Rc(205,lr,2,0,"mat-error",99),f.Wb(),f.Xb(206,"div",14),f.Xb(207,"mat-form-field",15),f.Xb(208,"mat-label"),f.Tc(209,"E-mail *"),f.Wb(),f.Xb(210,"input",100),f.fc("keypress",function(){f.Hc(r);var e=f.jc(3);return e.Checkout(e.applicant)}),f.Wb(),f.Rc(211,ur,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Wb(),f.Xb(212,"div",20),f.Xb(213,"div",14),f.Xb(214,"mat-form-field",15),f.Xb(215,"mat-label"),f.Tc(216,"Landline Number "),f.Wb(),f.Xb(217,"input",101),f.fc("keypress",function(e){return f.Hc(r),f.jc(3).onKeyPress1(e)}),f.Wb(),f.Rc(218,br,2,0,"mat-error",19),f.Wb(),f.Rc(219,dr,2,0,"mat-error",99),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(220,"div",14),f.Xb(221,"button",102),f.fc("click",function(){return f.Hc(r),f.jc(3).onSubmit()}),f.Sb(222,"mat-icon"),f.Tc(223," UPDATE APPLICANT "),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=f.Dc(30),a=f.jc(3);f.rc("formGroup",a.cardCustomerForm),f.Eb(15),f.rc("ngForOf",a.arrayPrefix),f.Eb(1),f.rc("ngIf",a.applicant.get("prefix").hasError("required")),f.Eb(10),f.rc("matDatepicker",n)("max",a.tomorrow)("max",a.maxDate),f.Eb(1),f.rc("for",n),f.Eb(1),f.rc("ngIf",a.applicant.get("dateOfBirth").hasError("required")),f.Eb(9),f.rc("ngIf",a.Currency1),f.Eb(2),f.rc("ngForOf",a.arrayCountry),f.Eb(6),f.rc("ngForOf",a.arrayResidence),f.Eb(1),f.rc("ngIf",a.applicant.get("residenceStatus").hasError("required")),f.Eb(7),f.rc("ngIf",a.Currency),f.Eb(4),f.rc("ngForOf",a.arrayCountry),f.Eb(1),f.rc("ngIf",a.applicant.get("countryOfResidence").hasError("required")),f.Eb(6),f.rc("ngForOf",a.arrayDocumentType),f.Eb(1),f.rc("ngIf",a.applicant.get("idType").hasError("required")),f.Eb(1),f.rc("ngIf",a.showExpiryDate),f.Eb(13),f.rc("ngIf",a.applicant.get("firstName").hasError("required")),f.Eb(6),f.rc("ngIf",a.applicant.get("lastName").hasError("required")),f.Eb(6),f.rc("ngForOf",a.arrayGender),f.Eb(1),f.rc("ngIf",a.applicant.get("gender").hasError("required")),f.Eb(1),f.rc("ngIf",!a.prefixFlag),f.Eb(6),f.rc("ngIf",a.applicant.get("placeOfBirth").hasError("required")),f.Eb(7),f.rc("ngIf",a.currencyCode),f.Eb(5),f.rc("ngForOf",a.arrayCountry),f.Eb(1),f.rc("ngIf",a.applicant.get("nationality").hasError("required")),f.Eb(6),f.rc("ngForOf",a.maritalStatusList),f.Eb(6),f.rc("ngIf",a.applicant.get("occupationType").hasError("required")),f.Eb(6),f.rc("ngIf",a.applicant.get("idNumber").touched&&!a.applicant.get("idNumber").valid),f.Eb(13),f.rc("ngIf",a.applicant.get("address1").hasError("required")),f.Eb(1),f.rc("ngIf",a.applicant.get("address1").touched&&a.applicant.get("address1").hasError("pattern")),f.Eb(6),f.rc("ngForOf",a.arrayAddressType),f.Eb(1),f.rc("ngIf",a.applicant.get("addressType").hasError("required")),f.Eb(6),f.rc("ngIf",a.applicant.get("zipCode").hasError("required")&&!a.applicant.controls.zipCode.valid&&(null==a.applicant.controls.zipCode?null:a.applicant.controls.zipCode.touched)),f.Eb(1),f.rc("ngIf",a.isAllSameDigitVal),f.Eb(6),f.rc("ngForOf",a.arrayCity),f.Eb(1),f.rc("ngIf",a.applicant.get("city").hasError("required")),f.Eb(7),f.rc("ngIf",a.applicant.get("address2").hasError("required")),f.Eb(1),f.rc("ngIf",a.applicant.get("address2").touched&&a.applicant.get("address2").hasError("pattern")),f.Eb(7),f.rc("ngIf",a.editCountryCode),f.Eb(2),f.rc("ngForOf",a.arrayCountry),f.Eb(1),f.rc("ngIf",a.applicant.get("country").hasError("required")),f.Eb(6),f.rc("ngForOf",a.arrayState),f.Eb(1),f.rc("ngIf",a.applicant.get("state").hasError("required")),f.Eb(13),f.rc("ngIf",a.applicant.get("phoneNumber").hasError("required")),f.Eb(1),f.rc("ngIf",a.applicant.get("phoneNumber").hasError("pattern")),f.Eb(1),f.rc("ngIf","0000000000"==a.applicant.get("phoneNumber").value),f.Eb(6),f.rc("ngIf",a.applicant.get("primaryEmailAdress").hasError("required")),f.Eb(7),f.rc("ngIf",a.applicant.get("landlineNumber").hasError("pattern")),f.Eb(1),f.rc("ngIf","0000000000"==a.applicant.get("landlineNumber").value),f.Eb(2),f.rc("disabled",a.applicant.invalid)}}function pr(e,t){if(1&e&&(f.Xb(0,"mat-expansion-panel",39),f.Xb(1,"mat-expansion-panel-header"),f.Xb(2,"mat-panel-title"),f.Xb(3,"mat-icon",40),f.Tc(4,"check_circle"),f.Wb(),f.Xb(5,"span",41),f.Tc(6),f.Wb(),f.Wb(),f.Wb(),f.Xb(7,"mat-card"),f.Xb(8,"mat-card-header",42),f.Xb(9,"div",43),f.Sb(10,"app-avatar-photo",44),f.Wb(),f.Xb(11,"mat-card-title"),f.Xb(12,"div",1),f.Xb(13,"h6",45),f.Tc(14),f.Wb(),f.Sb(15,"span",46),f.Rc(16,bt,2,3,"mat-chip",47),f.Wb(),f.Wb(),f.Xb(17,"mat-card-subtitle"),f.Xb(18,"span",48),f.Tc(19),f.Wb(),f.Wb(),f.Xb(20,"div",49),f.Xb(21,"span",50),f.Rc(22,dt,4,0,"ng-container",37),f.Rc(23,mt,3,0,"ng-template",null,51,f.Sc),f.Rc(25,pt,3,0,"a",52),f.Wb(),f.Wb(),f.Wb(),f.Xb(26,"mat-card-container"),f.Rc(27,ht,2,4,"ng-container",19),f.Rc(28,mr,224,52,"ng-template",null,53,f.Sc),f.Wb(),f.Wb(),f.Wb()),2&e){var r=t.$implicit,n=t.index,a=f.Dc(24),i=f.jc(2);f.Eb(6),f.Vc("Applicant ",n+1,""),f.Eb(4),f.rc("name",r.firstName+" "+r.lastName),f.Eb(4),f.Uc(r.firstName+" "+r.lastName),f.Eb(2),f.rc("ngIf",r.primaryCustomer),f.Eb(3),f.Vc("CIF ",null!=r.cifNumber?"#"+r.cifNumber:"- n/a",""),f.Eb(3),f.rc("ngIf",(null==i.selectedApplicant?null:i.selectedApplicant._id)===r._id)("ngIfElse",a),f.Eb(3),f.rc("ngIf",r.dependentId),f.Eb(2),f.rc("ngIf",(null==i.selectedApplicant?null:i.selectedApplicant._id)===r._id)}}function gr(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",127),f.Xb(1,"label"),f.Tc(2,"Is the applicant a primary customer?"),f.Wb(),f.Tc(3," \xa0\xa0 "),f.Xb(4,"mat-slide-toggle",128),f.fc("ngModelChange",function(e){return f.Hc(r),f.jc(3).isChecked=e}),f.Wb(),f.Sb(5,"div",62),f.Wb()}if(2&e){var n=f.jc(3);f.Eb(4),f.rc("ngModel",n.isChecked)("disabled",0==n.listOfAccounts.length)}}function fr(e,t){1&e&&(f.Xb(0,"mat-icon",129),f.Tc(1,"check_circle"),f.Wb())}function hr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," CIF Number is Required! "),f.Wb())}function yr(e,t){1&e&&(f.Xb(0,"mat-hint",105),f.Tc(1,"Duplicate CIF Number"),f.Wb())}function vr(e,t){1&e&&(f.Xb(0,"mat-hint",130),f.Tc(1," Enter valid CIF Number!"),f.Wb())}function Cr(e,t){if(1&e&&(f.Xb(0,"div",139),f.Xb(1,"h3",140),f.Tc(2),f.kc(3,"uppercase"),f.kc(4,"slice"),f.Wb(),f.Wb()),2&e){var r=f.jc().$implicit;f.Eb(2),f.Vc(" ",f.lc(3,1,f.nc(4,3,null==r?null:r.firstName,0,1))," ")}}function xr(e,t){if(1&e&&(f.Xb(0,"div",141),f.Sb(1,"img",142),f.Wb()),2&e){var r=f.jc().$implicit;f.Eb(1),f.rc("src",null==r?null:r.profileImage,f.Jc)}}function Wr(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Xb(1,"div",131),f.Xb(2,"div",132),f.Rc(3,Cr,5,7,"div",133),f.Rc(4,xr,2,1,"div",134),f.Xb(5,"div",135),f.Xb(6,"h5",136),f.Tc(7),f.kc(8,"uppercase"),f.kc(9,"uppercase"),f.kc(10,"uppercase"),f.Wb(),f.Xb(11,"h6",137),f.Tc(12),f.Wb(),f.Wb(),f.Xb(13,"mat-icon",138),f.Tc(14,"keyboard_arrow_right"),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r.customerId),f.Eb(3),f.rc("ngIf","not_available"==(null==r?null:r.profileImage)),f.Eb(1),f.rc("ngIf","not_available"!=(null==r?null:r.profileImage)),f.Eb(3),f.Xc(" ",f.lc(8,7,null==r?null:r.firstName)," ",f.lc(9,9,null==r?null:r.middleName)," ",f.lc(10,11,null==r?null:r.lastName)," "),f.Eb(5),f.Vc("#",null==r?null:r.cifNumber,"")}}function Xr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," First Name is Required! "),f.Wb())}function Ir(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Last Name is Required! "),f.Wb())}function kr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Date of Birth is Required! "),f.Wb())}function Sr(e,t){if(1&e&&f.Sb(0,"div"),2&e){var r=f.jc(3);f.Hb("currency-flag currency-flag-",r.birthCountryFlag,"")}}function Or(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Tr(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Dr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Resident Status is Required! "),f.Wb())}function Er(e,t){if(1&e&&f.Sb(0,"div"),2&e){var r=f.jc(3);f.Hb("currency-flag currency-flag-",r.ResideceCurrency,"")}}function Ar(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function wr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Country of Residence is Required! "),f.Wb())}function _r(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Pr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," ID Type is Required! "),f.Wb())}function Nr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," ID Type Valid Till is Required! "),f.Wb())}function Rr(e,t){if(1&e&&(f.Xb(0,"div",14),f.Xb(1,"mat-form-field",15),f.Xb(2,"mat-label"),f.Tc(3,"ID Type Valid Till "),f.Wb(),f.Sb(4,"input",103),f.Sb(5,"mat-datepicker-toggle",66),f.Rc(6,Nr,2,0,"mat-error",19),f.Wb(),f.Sb(7,"mat-datepicker",null,104),f.Wb()),2&e){var r=f.Dc(8),n=f.jc(3);f.Eb(4),f.rc("required","Aadhar card"!==n.applicant.get("idType").value)("matDatepicker",r)("min",n.validDate),f.Eb(1),f.rc("for",r),f.Eb(1),f.rc("ngIf",n.applicant.get("expiryDate").hasError("required"))}}function Fr(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Mr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Prefix is Required! "),f.Wb())}function Lr(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Vr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Gender is Required! "),f.Wb())}function jr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Birth Place is Required! "),f.Wb())}function Br(e,t){if(1&e&&f.Sb(0,"div"),2&e){var r=f.jc(3);f.Hb("currency-flag currency-flag-",r.currency,"")}}function zr(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function qr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Citizenship By is Required! "),f.Wb())}function Ur(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc("",r," ")}}function Gr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Occupation Type is Required! "),f.Wb())}function Hr(e,t){1&e&&(f.Xb(0,"div"),f.Tc(1,"Unique ID is Required!"),f.Wb())}function Yr(e,t){1&e&&(f.Xb(0,"div"),f.Tc(1,"This is a alphanumeric field "),f.Wb())}function $r(e,t){if(1&e&&(f.Xb(0,"mat-error"),f.Rc(1,Hr,2,0,"div",19),f.Rc(2,Yr,2,0,"div",19),f.Wb()),2&e){var r=f.jc(3);f.Eb(1),f.rc("ngIf",r.applicant.get("idNumber").hasError("required")),f.Eb(1),f.rc("ngIf",r.applicant.get("idNumber").hasError("pattern"))}}function Qr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Address Line 1 is Required! "),f.Wb())}function Kr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Enter Valid Address "),f.Wb())}function Jr(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Zr(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Residence Type is Required! "),f.Wb())}function en(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Zip code is required! "),f.Wb())}function tn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1,"Please enter valid Zip Code!(5-10 digits)"),f.Wb())}function rn(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc("",r," ")}}function nn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," City is Required! "),f.Wb())}function an(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Address Line 2 is Required! "),f.Wb())}function on(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Enter Valid Address "),f.Wb())}function cn(e,t){if(1&e&&f.Sb(0,"div"),2&e){var r=f.jc(3);f.Hb("currency-flag currency-flag-",r.countryCode,"")}}function sn(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function ln(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Country is Required! "),f.Wb())}function un(e,t){if(1&e&&(f.Xb(0,"mat-option",22),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r.stateName),f.Eb(1),f.Vc("",r.stateName," ")}}function bn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," State is Required! "),f.Wb())}function dn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Mobile Number is Required! "),f.Wb())}function mn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please, Enter 10 digit Mobile Number! "),f.Wb())}function pn(e,t){1&e&&(f.Xb(0,"mat-error",107),f.Tc(1," \xa0 \xa0 Please Enter Correct Mobile Number "),f.Wb())}function gn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," E-mail is Required! "),f.Wb())}function fn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1,' "Please Enter Valid Email" '),f.Wb())}function hn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please, Enter 10 digit Landline Number! "),f.Wb())}function yn(e,t){1&e&&(f.Xb(0,"mat-error",107),f.Tc(1," Please Enter Correct Landline Number "),f.Wb())}function vn(e,t){if(1&e&&(f.Xb(0,"a",143),f.Sb(1,"mat-icon"),f.Tc(2," SAVE APPLICANT "),f.Wb()),2&e){var r=f.jc(3);f.rc("disabled",r.applicant.invalid||r.isDuplicateCIF)}}function Cn(e,t){if(1&e){var r=f.Yb();f.Xb(0,"a",144),f.fc("click",function(){return f.Hc(r),f.jc(3).onSubmit()}),f.Sb(1,"mat-icon"),f.Tc(2," SAVE APPLICANT "),f.Wb()}}function xn(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",108),f.Xb(1,"mat-accordion"),f.Xb(2,"mat-expansion-panel",109),f.Xb(3,"mat-expansion-panel-header",110),f.Xb(4,"mat-panel-title",111),f.Tc(5,"Create Applicant "),f.Wb(),f.Wb(),f.Sb(6,"mat-divider",112),f.Xb(7,"div",60),f.Xb(8,"div",113),f.Xb(9,"div",114),f.Xb(10,"label"),f.Tc(11,"Is the applicant an existing customer? "),f.Wb(),f.Tc(12," \xa0\xa0 "),f.Xb(13,"mat-slide-toggle",61),f.fc("change",function(e){return f.Hc(r),f.jc(2).toggleChanges(e)}),f.Wb(),f.Sb(14,"div",62),f.Wb(),f.Rc(15,gr,6,2,"div",115),f.Wb(),f.Xb(16,"div",12),f.Xb(17,"div",13),f.Xb(18,"div",14),f.Xb(19,"div",116),f.Xb(20,"div",117),f.Xb(21,"mat-form-field",15),f.Xb(22,"mat-label"),f.Tc(23,"CIF Number"),f.Wb(),f.Xb(24,"input",118),f.fc("keypress",function(e){return f.Hc(r),f.jc(2)._keyPress(e)})("change",function(){f.Hc(r);var e=f.jc(2);return e.fetchByCif(e.applicant.get("cifNumber").value,e.applicant.get("existingCustomer").value)})("keyup",function(e){return f.Hc(r),f.jc(2).onKeyPress(e)}),f.Wb(),f.Rc(25,fr,2,0,"mat-icon",119),f.Rc(26,hr,2,0,"mat-error",19),f.Rc(27,yr,2,0,"mat-hint",82),f.Rc(28,vr,2,0,"mat-hint",120),f.Wb(),f.Wb(),f.Xb(29,"div"),f.Xb(30,"mat-autocomplete",121,122),f.Rc(32,Wr,15,13,"mat-option",18),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(33,"div",14),f.Xb(34,"mat-form-field",15),f.Xb(35,"mat-label"),f.Tc(36,"First Name *"),f.Wb(),f.Xb(37,"input",79),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).letterOnly(e)}),f.Wb(),f.Rc(38,Xr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(39,"div",14),f.Xb(40,"mat-form-field",15),f.Xb(41,"mat-label"),f.Tc(42,"Last Name *"),f.Wb(),f.Xb(43,"input",80),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).letterOnly(e)}),f.Wb(),f.Rc(44,Ir,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(45,"div",14),f.Xb(46,"mat-form-field",15),f.Xb(47,"mat-label"),f.Tc(48,"Date of Birth *"),f.Wb(),f.Sb(49,"input",65),f.Sb(50,"mat-datepicker-toggle",66),f.Rc(51,kr,2,0,"mat-error",19),f.Wb(),f.Sb(52,"mat-datepicker",null,67),f.Wb(),f.Xb(54,"div",14),f.Xb(55,"mat-form-field",15),f.Xb(56,"mat-label"),f.Tc(57,"Birth Country"),f.Wb(),f.Xb(58,"div",69),f.Xb(59,"div",70),f.Rc(60,Sr,1,3,"div",71),f.Wb(),f.Wb(),f.Xb(61,"mat-select",72),f.fc("selectionChange",function(e){return f.Hc(r),f.jc(2).onBirthCountry(e.value)}),f.Rc(62,Or,2,2,"mat-option",18),f.Wb(),f.Wb(),f.Wb(),f.Xb(63,"div",14),f.Xb(64,"mat-form-field",15),f.Xb(65,"mat-label"),f.Tc(66,"Resident Status *"),f.Wb(),f.Xb(67,"mat-select",73),f.Rc(68,Tr,2,2,"mat-option",18),f.Wb(),f.Rc(69,Dr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(70,"div",14),f.Xb(71,"mat-form-field",15),f.Xb(72,"mat-label"),f.Tc(73,"Country of Residence"),f.Wb(),f.Xb(74,"div",69),f.Xb(75,"div",70),f.Rc(76,Er,1,3,"div",71),f.Wb(),f.Wb(),f.Xb(77,"mat-select",74),f.fc("selectionChange",function(e){return f.Hc(r),f.jc(2).onOtherSelectionResidance(e.value)}),f.Xb(78,"mat-option",75),f.Tc(79,"--Select--"),f.Wb(),f.Rc(80,Ar,2,2,"mat-option",18),f.Wb(),f.Rc(81,wr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(82,"div",14),f.Xb(83,"mat-form-field",15),f.Xb(84,"mat-label"),f.Tc(85,"ID Type *"),f.Wb(),f.Xb(86,"mat-select",76),f.fc("selectionChange",function(){f.Hc(r);var e=f.jc(2);return e.changeIdType(e.applicant.get("idType").value)}),f.Rc(87,_r,2,2,"mat-option",18),f.Wb(),f.Rc(88,Pr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Rc(89,Rr,9,5,"div",77),f.Wb(),f.Xb(90,"div",20),f.Xb(91,"div"),f.Xb(92,"mat-form-field",15),f.Xb(93,"mat-label"),f.Tc(94,"Customer Prefix *"),f.Wb(),f.Xb(95,"mat-select",63),f.fc("selectionChange",function(){f.Hc(r);var e=f.jc(2);return e.onChangeData(e.applicant.get("gender").value)}),f.Rc(96,Fr,2,2,"mat-option",18),f.Wb(),f.Rc(97,Mr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(98,"div",123),f.Xb(99,"mat-form-field",15),f.Xb(100,"mat-label"),f.Tc(101,"Middle Name"),f.Wb(),f.Xb(102,"input",64),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).letterOnly(e)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(103,"div",14),f.Xb(104,"mat-form-field",15),f.Xb(105,"mat-label"),f.Tc(106,"Gender *"),f.Wb(),f.Xb(107,"mat-select",81),f.fc("selectionChange",function(e){return f.Hc(r),f.jc(2).onChangeData(e.value)}),f.Rc(108,Lr,2,2,"mat-option",18),f.Wb(),f.Rc(109,Vr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(110,"div",14),f.Xb(111,"mat-form-field",15),f.Xb(112,"mat-label"),f.Tc(113,"Birth Place *"),f.Wb(),f.Sb(114,"input",83),f.Rc(115,jr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(116,"div",14),f.Xb(117,"mat-form-field",15),f.Xb(118,"mat-label"),f.Tc(119,"Citizenship By"),f.Wb(),f.Xb(120,"div",69),f.Xb(121,"div",70),f.Rc(122,Br,1,3,"div",71),f.Wb(),f.Wb(),f.Xb(123,"div",2),f.Xb(124,"mat-select",85),f.fc("selectionChange",function(e){return f.Hc(r),f.jc(2).onSelectionCitizionship1(e.value)}),f.Xb(125,"mat-option",75),f.Tc(126,"--Select--"),f.Wb(),f.Rc(127,zr,2,2,"mat-option",18),f.Wb(),f.Wb(),f.Rc(128,qr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(129,"div",14),f.Xb(130,"mat-form-field",15),f.Xb(131,"mat-label"),f.Tc(132,"Marital Status"),f.Wb(),f.Xb(133,"mat-select",86),f.Rc(134,Ur,2,2,"mat-option",18),f.Wb(),f.Wb(),f.Wb(),f.Xb(135,"div",14),f.Xb(136,"mat-form-field",15),f.Xb(137,"mat-label"),f.Tc(138,"Occupation Type *"),f.Wb(),f.Xb(139,"input",87),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).letterOnly(e)}),f.Wb(),f.Rc(140,Gr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(141,"div",14),f.Xb(142,"mat-form-field",15),f.Xb(143,"mat-label"),f.Tc(144,"Unique ID *"),f.Wb(),f.Xb(145,"input",124),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).keyPressAlphanumeric(e)}),f.Wb(),f.Rc(146,$r,3,2,"mat-error",19),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(147,"mat-accordion"),f.Xb(148,"mat-expansion-panel",39),f.Xb(149,"mat-expansion-panel-header"),f.Xb(150,"mat-panel-title"),f.Tc(151,"Communication Address "),f.Wb(),f.Wb(),f.Xb(152,"div",12),f.Xb(153,"div",13),f.Xb(154,"div",14),f.Xb(155,"mat-form-field",15),f.Xb(156,"mat-label"),f.Tc(157,"Address Line 1 *"),f.Wb(),f.Sb(158,"textarea",90),f.Rc(159,Qr,2,0,"mat-error",19),f.Rc(160,Kr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(161,"div",14),f.Xb(162,"mat-form-field",15),f.Xb(163,"mat-label"),f.Tc(164,"Residence Type *"),f.Wb(),f.Xb(165,"mat-select",91),f.Rc(166,Jr,2,2,"mat-option",18),f.Wb(),f.Rc(167,Zr,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(168,"div",14),f.Xb(169,"mat-form-field",15),f.Xb(170,"mat-label"),f.Tc(171,"Zip Code *"),f.Wb(),f.Xb(172,"input",92),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).onKeyPress1(e)})("keyup",function(e){return f.Hc(r),f.jc(2).isAllSameDigit(e)})("change",function(e){f.Hc(r);var t=f.jc(2);return t.getCityandStateByZipcode(t.applicant.get("country").value,e.target.value)}),f.Wb(),f.Wb(),f.Rc(173,en,2,0,"mat-error",19),f.Rc(174,tn,2,0,"mat-error",19),f.Wb(),f.Xb(175,"div",14),f.Xb(176,"mat-form-field",15),f.Xb(177,"mat-label"),f.Tc(178,"City * "),f.Wb(),f.Xb(179,"mat-select",94),f.fc("selectionChange",function(){return f.Hc(r),f.jc(2).onCityChange()}),f.Rc(180,rn,2,2,"mat-option",18),f.Wb(),f.Rc(181,nn,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Wb(),f.Xb(182,"div",20),f.Xb(183,"div",14),f.Xb(184,"mat-form-field",15),f.Xb(185,"mat-label"),f.Tc(186,"Address Line 2 *"),f.Wb(),f.Sb(187,"textarea",95),f.Rc(188,an,2,0,"mat-error",19),f.Rc(189,on,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(190,"div",14),f.Xb(191,"mat-form-field",15),f.Xb(192,"mat-label"),f.Tc(193,"Country *"),f.Wb(),f.Xb(194,"div",69),f.Xb(195,"div",70),f.Rc(196,cn,1,3,"div",71),f.Wb(),f.Wb(),f.Xb(197,"mat-select",96),f.fc("selectionChange",function(e){return f.Hc(r),f.jc(2).getStateName(e.value,!0)})("selectionChange",function(e){return f.Hc(r),f.jc(2).getCountrySelection(e.value)}),f.Rc(198,sn,2,2,"mat-option",18),f.Wb(),f.Rc(199,ln,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Xb(200,"div",14),f.Xb(201,"mat-form-field",15),f.Xb(202,"mat-label"),f.Tc(203,"State *"),f.Wb(),f.Xb(204,"mat-select",97),f.fc("selectionChange",function(){return f.Hc(r),f.jc(2).onStateChange()}),f.Rc(205,un,2,2,"mat-option",18),f.Wb(),f.Rc(206,bn,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(207,"mat-accordion"),f.Xb(208,"mat-expansion-panel",39),f.Xb(209,"mat-expansion-panel-header"),f.Xb(210,"mat-panel-title"),f.Tc(211,"Contact Information "),f.Wb(),f.Wb(),f.Xb(212,"div",12),f.Xb(213,"div",13),f.Xb(214,"div",14),f.Xb(215,"mat-form-field",15),f.Xb(216,"mat-label"),f.Tc(217,"Mobile Number *"),f.Wb(),f.Xb(218,"input",98),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).onKeyPress1(e)}),f.Wb(),f.Rc(219,dn,2,0,"mat-error",19),f.Rc(220,mn,2,0,"mat-error",19),f.Wb(),f.Rc(221,pn,2,0,"mat-error",99),f.Wb(),f.Xb(222,"div",14),f.Xb(223,"mat-form-field",15),f.Xb(224,"mat-label"),f.Tc(225,"E-mail *"),f.Wb(),f.Xb(226,"input",100),f.fc("keypress",function(){f.Hc(r);var e=f.jc(2);return e.Checkout(e.applicant)}),f.Wb(),f.Rc(227,gn,2,0,"mat-error",19),f.Rc(228,fn,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Wb(),f.Xb(229,"div",20),f.Xb(230,"div",14),f.Xb(231,"mat-form-field",15),f.Xb(232,"mat-label"),f.Tc(233,"Landline Number "),f.Wb(),f.Xb(234,"input",101),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).onKeyPress1(e)}),f.Wb(),f.Rc(235,hn,2,0,"mat-error",19),f.Wb(),f.Rc(236,yn,2,0,"mat-error",99),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Sb(237,"div",14),f.Xb(238,"div",14),f.Rc(239,vn,3,1,"a",125),f.Rc(240,Cn,3,0,"ng-template",null,126,f.Sc),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=f.Dc(31),a=f.Dc(53),i=f.Dc(241),o=f.jc(2);f.Eb(2),f.rc("expanded",o.cardCustomerForm.get("numOfApplicants").value!==o.listOfAccounts.length),f.Eb(13),f.rc("ngIf",0==o.listOfAccounts.length),f.Eb(9),f.rc("formControl",o.cifNumberForm)("matAutocomplete",n)("readonly",1!=o.applicant.get("existingCustomer").value),f.Eb(1),f.rc("ngIf",o.isCifValid),f.Eb(1),f.rc("ngIf",o.applicant.get("cifNumber").hasError("required")&&!o.isCifValid),f.Eb(1),f.rc("ngIf",o.isDuplicateCIF),f.Eb(1),f.rc("ngIf",!o.isCifValid&&o.onbackSpace),f.Eb(4),f.rc("ngForOf",o.listOfCustByCif),f.Eb(6),f.rc("ngIf",o.applicant.get("firstName").hasError("required")),f.Eb(6),f.rc("ngIf",o.applicant.get("lastName").hasError("required")),f.Eb(5),f.rc("matDatepicker",a)("max",o.tomorrow)("max",o.maxDate),f.Eb(1),f.rc("for",a),f.Eb(1),f.rc("ngIf",o.applicant.get("dateOfBirth").hasError("required")),f.Eb(7),f.Oc("display",null==o.birthCountryFlag?"none":""),f.Eb(2),f.rc("ngIf",o.isBirthCountry),f.Eb(2),f.rc("ngForOf",o.arrayCountry),f.Eb(6),f.rc("ngForOf",o.arrayResidence),f.Eb(1),f.rc("ngIf",o.applicant.get("residenceStatus").hasError("required")),f.Eb(7),f.rc("ngIf",o.isResidency),f.Eb(4),f.rc("ngForOf",o.arrayCountry),f.Eb(1),f.rc("ngIf",o.applicant.get("countryOfResidence").hasError("required")),f.Eb(6),f.rc("ngForOf",o.arrayDocumentType),f.Eb(1),f.rc("ngIf",o.applicant.get("idType").hasError("required")),f.Eb(1),f.rc("ngIf",o.showExpiryDate&&"Aadhar card"!==o.applicant.get("idType").value),f.Eb(7),f.rc("ngForOf",o.arrayPrefix),f.Eb(1),f.rc("ngIf",o.applicant.get("prefix").hasError("required")),f.Eb(11),f.rc("ngForOf",o.arrayGender),f.Eb(1),f.rc("ngIf",o.applicant.get("gender").hasError("required")),f.Eb(6),f.rc("ngIf",o.applicant.get("placeOfBirth").hasError("required")),f.Eb(5),f.Oc("display",null==o.currency?"none":""),f.Eb(2),f.rc("ngIf",o.citizenshipFflag),f.Eb(5),f.rc("ngForOf",o.arrayCountry),f.Eb(1),f.rc("ngIf",o.applicant.get("nationality").hasError("required")),f.Eb(6),f.rc("ngForOf",o.maritalStatusList),f.Eb(6),f.rc("ngIf",o.applicant.get("occupationType").hasError("required")),f.Eb(6),f.rc("ngIf",o.applicant.get("idNumber").touched&&!o.applicant.get("idNumber").valid),f.Eb(13),f.rc("ngIf",o.applicant.get("address1").hasError("required")),f.Eb(1),f.rc("ngIf",o.applicant.get("address1").touched&&o.applicant.get("address1").hasError("pattern")),f.Eb(6),f.rc("ngForOf",o.arrayAddressType),f.Eb(1),f.rc("ngIf",o.applicant.get("addressType").hasError("required")),f.Eb(6),f.rc("ngIf",o.applicant.get("zipCode").hasError("required")&&!o.applicant.controls.zipCode.valid&&(null==o.applicant.controls.zipCode?null:o.applicant.controls.zipCode.touched)),f.Eb(1),f.rc("ngIf",null==o.applicant.get("zipCode").errors?null:o.applicant.get("zipCode").errors.pattern),f.Eb(6),f.rc("ngForOf",o.arrayCity),f.Eb(1),f.rc("ngIf",o.applicant.get("city").hasError("required")),f.Eb(7),f.rc("ngIf",o.applicant.get("address2").hasError("required")),f.Eb(1),f.rc("ngIf",o.applicant.get("address2").touched&&o.applicant.get("address2").hasError("pattern")),f.Eb(7),f.rc("ngIf",o.isCountry),f.Eb(2),f.rc("ngForOf",o.arrayCountry),f.Eb(1),f.rc("ngIf",o.applicant.get("country").hasError("required")),f.Eb(6),f.rc("ngForOf",o.arrayState),f.Eb(1),f.rc("ngIf",o.applicant.get("state").hasError("required")),f.Eb(13),f.rc("ngIf",o.applicant.get("phoneNumber").hasError("required")),f.Eb(1),f.rc("ngIf",o.applicant.get("phoneNumber").hasError("pattern")),f.Eb(1),f.rc("ngIf","0000000000"==o.applicant.get("phoneNumber").value),f.Eb(6),f.rc("ngIf",o.applicant.get("primaryEmailAdress").hasError("required")),f.Eb(1),f.rc("ngIf",(null==o.applicant.get("primaryEmailAdress").errors?null:o.applicant.get("primaryEmailAdress").errors.email)||(null==o.applicant.get("primaryEmailAdress").errors?null:o.applicant.get("primaryEmailAdress").errors.pattern)),f.Eb(7),f.rc("ngIf",o.applicant.get("landlineNumber").hasError("pattern")),f.Eb(1),f.rc("ngIf","0000000000"==o.applicant.get("landlineNumber").value),f.Eb(3),f.rc("ngIf",o.applicant.invalid||o.isDuplicateCIF||o.disableSaveBtn)("ngIfElse",i)}}function Wn(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",145),f.fc("click",function(){return f.Hc(r),f.jc(2).goToNext()}),f.Tc(2," Next "),f.Wb(),f.Ub()}if(2&e){var n=f.jc(2);f.Eb(1),f.rc("disabled",n.cardCustomerForm.get("numOfApplicants").value===n.listOfAccounts.length?"false":"true")}}function Xn(e,t){if(1&e){var r=f.Yb();f.Xb(0,"button",145),f.fc("click",function(){return f.Hc(r),f.jc(2).goToNext()}),f.Tc(1," Next "),f.Wb()}if(2&e){var n=f.jc(2);f.rc("disabled",n.cardCustomerForm.get("numOfApplicants").value!==n.listOfAccounts.length||n.cardCustomerForm.invalid&&null!==n.selectedApplicant)}}function In(e,t){if(1&e){var r=f.Yb();f.Xb(0,"form",11),f.Xb(1,"div",12),f.Xb(2,"div",13),f.Xb(3,"div",14),f.Xb(4,"mat-form-field",15),f.Xb(5,"mat-label"),f.Tc(6,"Ownership"),f.Wb(),f.Xb(7,"mat-select",16),f.fc("valueChange",function(e){return f.Hc(r),f.jc().selectedOwnership=e})("selectionChange",function(e){return f.Hc(r),f.jc().selectOwnershipChange(e)}),f.Xb(8,"mat-option",17),f.Tc(9,"Select"),f.Wb(),f.Rc(10,lt,2,2,"mat-option",18),f.Wb(),f.Rc(11,ut,2,0,"mat-error",19),f.Wb(),f.Wb(),f.Wb(),f.Xb(12,"div",20),f.Xb(13,"div",14),f.Vb(14),f.Xb(15,"mat-form-field",15),f.Xb(16,"mat-label"),f.Tc(17,"Number of Applicants *"),f.Wb(),f.Xb(18,"mat-select",21),f.Xb(19,"mat-option",22),f.Tc(20,"1"),f.Wb(),f.Xb(21,"mat-option",22),f.Tc(22,"2"),f.Wb(),f.Xb(23,"mat-option",22),f.Tc(24,"3"),f.Wb(),f.Xb(25,"mat-option",22),f.Tc(26,"4"),f.Wb(),f.Xb(27,"mat-option",22),f.Tc(28,"5"),f.Wb(),f.Wb(),f.Wb(),f.Ub(),f.Wb(),f.Wb(),f.Wb(),f.Xb(29,"div",1),f.Xb(30,"div",20),f.Xb(31,"div",23),f.Xb(32,"h2"),f.Tc(33,"Details Of the Applicant"),f.Wb(),f.Wb(),f.Wb(),f.Xb(34,"div",24),f.Xb(35,"div",23),f.Xb(36,"p",25),f.Tc(37),f.Wb(),f.Sb(38,"mat-progress-bar",26),f.Xb(39,"mat-hint"),f.Xb(40,"small"),f.Tc(41," completed / total applicants "),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(42,"div",12),f.Xb(43,"div",27),f.Xb(44,"div",28),f.Xb(45,"div",14),f.Xb(46,"label",29),f.Tc(47,"Add on CardHolder"),f.Wb(),f.Xb(48,"mat-slide-toggle",30),f.fc("change",function(e){return f.Hc(r),f.jc().goToggle(e)}),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(49,"div",31),f.Xb(50,"mat-accordion",32),f.Rc(51,pr,30,9,"mat-expansion-panel",33),f.Wb(),f.Wb(),f.Rc(52,xn,242,66,"div",34),f.Xb(53,"div",35),f.Xb(54,"button",36),f.fc("click",function(){return f.Hc(r),f.jc().goBack()}),f.Tc(55," Back "),f.Wb(),f.Rc(56,Wn,3,1,"ng-container",37),f.Rc(57,Xn,2,1,"ng-template",null,38,f.Sc),f.Wb(),f.Wb()}if(2&e){var n=f.Dc(58),a=f.jc();f.rc("formGroup",a.cardCustomerForm),f.Eb(7),f.rc("value",a.selectedOwnership),f.Eb(3),f.rc("ngForOf",a.arrayOwnership),f.Eb(1),f.rc("ngIf",a.cardCustomerForm.get("ownership").hasError("required")),f.Eb(8),f.rc("value",1),f.Eb(2),f.rc("value",2),f.Eb(2),f.rc("value",3),f.Eb(2),f.rc("value",4),f.Eb(2),f.rc("value",5),f.Eb(10),f.Wc("Completed ",a.listOfAccounts.length," / ",a.cardCustomerForm.get("numOfApplicants").value,""),f.Eb(1),f.rc("color",a.cardCustomerForm.get("numOfApplicants").value===a.listOfAccounts.length?"primary":"accent")("value",a.cardCustomerForm.get("numOfApplicants").value===a.listOfAccounts.length?100:50),f.Eb(13),f.rc("ngForOf",a.listOfAccounts),f.Eb(1),f.rc("ngIf",null==a.selectedApplicant&&a.cardCustomerForm.get("numOfApplicants").value!==a.listOfAccounts.length),f.Eb(4),f.rc("ngIf","Joint"==a.cardCustomerForm.get("ownership").value)("ngIfElse",n)}}var kn,Sn=((kn=function(){function e(t,r,n,a,i,o,c,l,u,b,d,m,g,f,h,y){s(this,e),this.router=t,this.dialog=r,this.route=n,this.accountService=a,this.elRef=i,this.renderer=o,this.ls=c,this.apiService=l,this.formBuilder=u,this.confirmService=b,this.cdr=d,this.appApiService=m,this.snack=g,this.dataService=f,this.urlService=h,this.loader=y,this.cifNumberForm=new p.g,this.listOfCustByCif=[],this.submitted=!1,this.console=console,this.customerIdProofs=[],this.selfNextBtnDisabled=!0,this.arrayPrefix=[],this.arrayGender=[],this.arrayCountry=[],this.arrayState=[],this.arrayCity=[],this.arrayResidence=[],this.arrayDocumentType=[],this.arrayAddressType=[],this.toggle=!1,this.applicantDetails=[],this.showEditOption=!1,this.tomorrow=new Date,this.maxDate=new Date,this.minDate=new Date,this.validDate=new Date,this.showNewForm=!0,this.isCifValid=!1,this.isCustomerDone=!1,this.previousUrl="",this.addOnCard=!1,this.selectedApplicant=null,this.listOfAccounts=[],this.isAllSameDigitVal=!1,this.isResidency=!1,this.isCurrency=!1,this.addonCardValue=!1,this.isBirthCountry=!1,this.isCountry=!1,this.prefixFlag=!1,this.selectedOwnership="Self",this.citizenshipFflag=!1,this.tomorrow.setDate(this.tomorrow.getDate()),this.validDate.setDate(this.validDate.getDate())}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.console.log(this.i),this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.isCustomerDone=JSON.parse(this.ls.getItem("Card_Customer_Done")),this.addOnCard=this.ls.getItem("ADD_ON_CARD")||!1,console.log("ADD_ON_CARD",this.addOnCard),this.cifNumberPrimary=this.ls.getItem("Card_CIF_NUM_PRIMARY"),console.log(this.cifNumberPrimary),this.buildCustomerForm(),this.getListOfAccounts(),this.getOwnershipValue("ownership"),this.getPrefixValue("prefix"),this.getGenderValue("gender"),this.getResidenceDetails("residence"),this.getCountryName("country"),this.getAdressType("address_type"),this.getAllAuthCities(),this.prefixFlag=!0,this.getDocumentType("document_type"),this.getMaritalStatus("maritial_Status"),this.isChecked=!0,this.disabled=!1,this.disabledToggle=!0,1==this.addOnCard&&this.goToggle("event"),null!=this.cardId&&this.isCustomerDone?(this.showEditOption=!0,this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(function(t){e.buildCustomerForm(t)},function(e){}),this.getListOfAccounts(),this.dataExtracted()):(this.showEditOption=!1,this.subscription=this.apiService.getaccParam.subscribe(function(t){console.log("data::",t),e.dispResponse=t,e.customerIdProofs=t.custIdProofs})),this.cardCustomerForm.get("ownership").valueChanges.subscribe(function(t){console.log("ownership ?",t),"Joint"==t?(e.cardCustomerForm.get("addOnCard").patchValue(!0),e.ls.setItem("ADD_ON_CARD",!0),e.cardCustomerForm.get("numOfApplicants").patchValue(2,{onlySelf:!0,emitEvent:!1}),e.cardCustomerForm.get("applicantDetails").reset(),e.disabled=!1,console.log("this.cardCustomerForm.get('numOfApplicants')",e.cardCustomerForm.get("numOfApplicants"))):(e.cardCustomerForm.get("addOnCard").patchValue(!1),e.ls.setItem("ADD_ON_CARD",!1),e.cardCustomerForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1}))}),this.cardCustomerForm.get("numOfApplicants").valueChanges.subscribe(function(t){console.log("ownership ?",t),1==t?(e.console.log("if"),e.cardCustomerForm.get("ownership").patchValue("Self",{onlySelf:!0,emitEvent:!1}),e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!0)):(e.cardCustomerForm.get("ownership").patchValue("Joint",{onlySelf:!0,emitEvent:!1}),e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!1),e.disabled=!1)}),console.log(this.cardCustomerForm),console.log(this.listOfAccounts),console.log(this.selectedApplicant)}},{key:"dataExtracted",value:function(){var e=this;this.ownershipStatus=this.ls.getItem("cardownership_value"),console.log("ownership ?",this.ownershipStatus),"Self"==this.ownershipStatus?(console.log("calling"),this.cardCustomerForm.get("numOfApplicants").setValue(1)):this.cardCustomerForm.get("numOfApplicants").setValue(2),this.noOfapplicants=this.ls.getItem("CardNoOfApplicants"),this.console.log(this.noOfapplicants),1==this.noOfapplicants?this.cardCustomerForm.get("ownership").setValue("Self"):this.cardCustomerForm.get("ownership").setValue("Joint"),this.applicant.get("idType").valueChanges.pipe(Object(et.a)()).subscribe(function(t){var r=o(t,2);r[0],r[1],e.applicant.get("idNumber").patchValue(""),e.applicant.get("expiryDate").patchValue("")}),this.urlService.previousUrl$.subscribe(function(t){e.previousUrl=t}),this.accountService.refresh.subscribe(function(t){e.isCustomerDone=JSON.parse(e.ls.getItem("Card_Customer_Done")),e.cdr.markForCheck()}),this.cifNumber=this.ls.getItem("CIF_NUM_PRIMARY"),this.console.log("cifNumber=",this.cifNumber)}},{key:"populatePrimaryApplicant",value:function(e){this.getStateName(e.country);var t={cifNumber:this.cifNumberPrimary,prefix:e.prefix,existingCustomer:!0,primaryCustomer:!0,customerId:e.customerId,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,gender:e.gender,dateOfBirth:this.convertDate(e.dateOfBirth),placeOfBirth:e.placeOfBirth,residenceStatus:e.residenceStatus,nationality:e.nationality,countryOfResidence:e.countryOfResidence,occupationType:e.occupationType,idType:e.idType,idNumber:e.idNumber,expiryDate:this.convertDate(null==e?void 0:e.expiryDate)||"",addressType:e.addressType,address1:e.address1,address2:e.address2,city:e.city,country:e.country,state:e.state,zipCode:e.zipCode,phoneNumber:e.phoneNumber,landlineNumber:e.landlineNumber,primaryEmailAdress:e.primaryEmailAdress,maritalStatus:e.maritalStatus,birthCountry:e.birthCountry};this.applicant.patchValue(t)}},{key:"changeIdType",value:function(e){var t;console.log("doc::",e),console.log("this.customerIdProofs::",this.customerIdProofs),this.showExpiryDate=!0,"Aadhar card"===e&&(console.log("if"),console.log(this.applicant.get("expiryDate")),this.applicant.get("expiryDate").setValidators([p.z.nullValidator]),this.applicant.get("expiryDate").updateValueAndValidity(),console.log(this.applicant.get("expiryDate")),this.showExpiryDate=!1);var r=this.customerIdProofs.filter(function(t){return t.idType==e});console.log("idProofs::",r),r.length>0?(this.applicant.get("idNumber").patchValue(r[0].idNumber),this.applicant.get("expiryDate").patchValue(this.convertDate(null===(t=r[0])||void 0===t?void 0:t.expiryDate)||"")):(this.applicant.get("idNumber").patchValue(""),this.applicant.get("expiryDate").patchValue(""))}},{key:"isObjectEmpty",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&"{}"===JSON.stringify(e)}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"onChangeData",value:function(e){var t=this.applicant.value.prefix;t&&this.applicant.value.gender&&("Mr"==t&&"Male"==e||("Ms"==t||"Mrs"==t)&&"Female"==e?this.prefixFlag=!0:(this.prefixFlag=!1,this.snack.open("Prefix and Gender does not match!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})))}},{key:"toggleDetails",value:function(e){var t,r;console.log(this.cardCustomerForm),console.log("customerId incomming",e),this.cardCustomerForm.get("numOfApplicants").disable({onlySelf:!0,emitEvent:!1}),this.console.log(e.userAddress.length),r=e.userAddress.length>1?e.userAddress.find(function(e){return"Permanent"==e.addressType}):e.userAddress[0],this.getStateName(r.country),"Aadhar card"==this.cardCustomerForm.controls.applicantDetails.get("idType").value&&(this.cardCustomerForm.controls.applicantDetails.get("expiryDate").setValidators([p.z.nullValidator]),this.cardCustomerForm.controls.applicantDetails.updateValueAndValidity());var n={existingCustomer:e.existingCustomer,dependentId:e.dependentId,primaryCustomer:e.primaryCustomer,cifNumber:e.cifNumber,prefix:e.prefix,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,gender:e.gender,dateOfBirth:e.dateOfBirth,placeOfBirth:e.placeOfBirth,residenceStatus:e.residenceStatus,nationality:e.nationality,countryOfResidence:e.countryOfResidence,occupationType:e.occupationType,idType:e.custIdProofs[0].idType,idNumber:e.custIdProofs[0].idNumber,expiryDate:(null===(t=e.custIdProofs[0])||void 0===t?void 0:t.expiryDate)||"",addressType:r.addressType,address1:r.address1,address2:r.address2,city:r.city,state:r.state,country:r.country,zipCode:r.zipCode,phoneNumber:e.phoneNumber,landlineNumber:e.landlineNumber,primaryEmailAdress:e.primaryEmailAdress,maritalStatus:e.maritalStatus,birthCountry:e.birthCountry};console.log("account.firstName=",e.firstName),this.selectedApplicant=e,console.log("payLoadModel",n),this.applicant.patchValue(n,{onlySelf:!1,emitEvent:!1}),this.onSelectionBirthCountry(n.birthCountry),this.onSelectionResidance(n.countryOfResidence),this.onSelectionCitizionship(n.nationality),this.getCountrySelection1(n.country),this.onBirthCountry(n.birthCountry),this.cdr.markForCheck(),console.log(this.selectedApplicant),1==this.selectedApplicant.existingCustomer?(this.applicant.get("cifNumber").setValidators([p.z.required]),this.applicant.get("cifNumber").updateValueAndValidity()):(this.applicant.get("cifNumber").setValidators([p.z.nullValidator]),this.applicant.get("cifNumber").updateValueAndValidity())}},{key:"resetAndClose",value:function(){this.closeDetails()}},{key:"closeDetails",value:function(){this.selectedApplicant=null,this.applicant.reset(),this.cardCustomerForm.get("numOfApplicants").enable({onlySelf:!0})}},{key:"getListOfAccounts",value:function(){var e=this;this.isResidency=!1,this.isCurrency=!1,this.isBirthCountry=!1,this.citizenshipFflag=!1,this.isCountry=!1,this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(function(t){e.listOfAccounts=200==t.status?t.data.map(function(e){return Object.assign(Object.assign({},e),{_id:Math.round(1e10*Math.random())})}):[],e.console.log(" this.listOfAccounts",e.listOfAccounts),console.log("All Customer Details",e.listOfAccounts.length),200==t.status&&e.ls.setItem("cId",t.data[0].customerId),console.log("Length check??",e.listOfAccounts.length);var r=["prefix","firstName","lastName","dateOfBirth","gender","birthCountry","placeOfBirth","residenceStatus","countryOfResidence","nationality","maritalStatus","occupationType","phoneNumber","primaryEmailAdress"],n=["idType","expiryDate","idNumber"],a=["address1","address2","addressType","country","state","city","zipCode"];if(e.listOfAccounts.map(function(t){r.map(function(r){if(null==t[r])return e.selfNextBtnDisabled=!0;n.map(function(r){if(null==t.custIdProofs[r])return e.selfNextBtnDisabled=!0;a.map(function(r){return e.selfNextBtnDisabled=null==t.userAddress[r]})})}),console.log("selfNextBtnDisabled ",e.selfNextBtnDisabled)}),0==e.listOfAccounts.length)e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!0);else if(1==e.listOfAccounts.length)e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!1);else if(e.listOfAccounts.length>=2){e.cardCustomerForm.get("ownership").patchValue("Joint"),e.applicant.get("existingCustomer").patchValue(!0),e.applicant.get("primaryCustomer").patchValue(!1);for(var i=0;i<t.data.length;i++)console.log("number calling",t.data[i]),e.cardCustomerForm.get("numOfApplicants").patchValue(t.data[i].numOfApplicants)}e.cdr.markForCheck(),e.toggleChanges()},function(e){})}},{key:"removeApplicant",value:function(e){var t=this;this.confirmService.confirm({title:"Confirm",message:"Are you sure want to delete?",ok:"Yes",cancel:"No"}).subscribe(function(r){console.log("res:: removed ",r),r&&t.appApiService.deleteApplicant(e.customerId,e.dependentId).subscribe(function(e){},function(r){console.log(r),200==r.status&&(t.snack.open("Dependent ".concat(e.firstName," ").concat(r.error.text,"!"),"OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.getListOfAccounts())})})}},{key:"fetchByCif",value:function(e,t){var r=this;this.listOfAccounts.some(function(t){return t.cifNumber==e})?(this.isDuplicateCIF=!0,this.disableSaveBtn=!0,this.snack.open("Duplicate CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})):(this.isDuplicateCIF=!1,this.disableSaveBtn=!1,this.currency=null,this.birthCountryFlag=null,e&&this.appApiService.fetchByCif(e).subscribe(function(e){var n,a;if(console.log(e),!e)return r.isCifValid=!1,r.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),void r.applicant.get("cifNumber").patchValue("");r.applicant.get("expiryDate").clearValidators(),r.isCifValid=!0,r.ls.setItem("cId",e.customerInfoList[0].customerId),r.console.log(e.customerInfoList[0].userAddress.length),e.customerInfoList[0].userAddress.length>1?(a=e.customerInfoList[0].userAddress.find(function(e){return"Permanent"==e.addressType}),console.log(a)):(a=e.customerInfoList[0].userAddress[0],console.log(a));var i=Ze(null===(n=e.customerInfoList[0].custIdProofs[0])||void 0===n?void 0:n.expiryDate).format();r.console.log(i),r.getStateName(a.country),r.onSelectionCitizionship1(e.customerInfoList[0].nationality),r.onOtherSelectionResidance(e.customerInfoList[0].countryOfResidence),console.log(e.customerInfoList[0].birthCountry),r.onBirthCountry(e.customerInfoList[0].birthCountry),r.getCountrySelection(a.country);var o={prefix:e.customerInfoList[0].prefix,cifNumber:e.customerInfoList[0].cifNumber,existingCustomer:t,customerId:e.customerInfoList[0].customerId,firstName:e.customerInfoList[0].firstName,middleName:e.customerInfoList[0].middleName,lastName:e.customerInfoList[0].lastName,gender:e.customerInfoList[0].gender,dateOfBirth:r.convertDate(e.customerInfoList[0].dateOfBirth),placeOfBirth:e.customerInfoList[0].placeOfBirth,residenceStatus:e.customerInfoList[0].residenceStatus,nationality:e.customerInfoList[0].nationality,countryOfResidence:e.customerInfoList[0].countryOfResidence,occupationType:e.customerInfoList[0].occupationType,idType:e.customerInfoList[0].custIdProofs.length>0?e.customerInfoList[0].custIdProofs[0].idType:"",idNumber:e.customerInfoList[0].custIdProofs.length>0?e.customerInfoList[0].custIdProofs[0].idNumber:"",expiryDate:i,addressType:a.addressType,address1:a.address1,address2:a.address2,city:a.city,country:a.country,state:a.state,zipCode:a.zipCode,phoneNumber:e.customerInfoList[0].phoneNumber,landlineNumber:e.customerInfoList[0].landlineNumber,primaryEmailAdress:e.customerInfoList[0].primaryEmailAdress,maritalStatus:e.customerInfoList[0].maritalStatus,birthCountry:e.customerInfoList[0].birthCountry};r.console.log("res.customerInfoList[0].firstName=",e.customerInfoList[0].firstName),r.customerName=e.customerInfoList[0].firstName+" "+e.customerInfoList[0].lastName,r.applicant.patchValue(o),console.log(r.applicant),r.cdr.markForCheck()},function(e){console.error(e)}))}},{key:"convertDate",value:function(e){var t=Ze(e).format("YYYY-MM-DD")||null;if(t)return t}},{key:"buildCustomerForm",value:function(e){var t;this.cardCustomerForm=this.formBuilder.group({productAccountId:[e?e.productAccountId:this.accountId],ownership:[e&&(null===(t=e.data[0])||void 0===t?void 0:t.ownership)||"Self"],numOfApplicants:[e&&e.data[0].numOfApplicants||1],addOnCard:[e?e.data[0].addOnCard:this.addOnCard],applicantDetails:this.addCustFormGroup()})}},{key:"toggleChanges",value:function(){1==this.applicant.get("existingCustomer").value?(this.applicant.get("cifNumber").enable(),this.applicant.get("cifNumber").setValidators([p.z.required]),this.applicant.get("cifNumber").updateValueAndValidity()):(this.applicant.patchValue({cifNumber:""}),this.isDuplicateCIF=!1,this.applicant.get("cifNumber").disable(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity())}},{key:"addCustFormGroup",value:function(){return this.formBuilder.group({existingCustomer:[null,[]],primaryCustomer:[null,[]],cifNumber:[""],customerId:[""],dependentId:[null],prefix:["",p.z.required],firstName:["",p.z.required],middleName:[""],maritalStatus:["",p.z.required],birthCountry:["",p.z.required],lastName:["",p.z.required],gender:["",p.z.required],dateOfBirth:["",p.z.required],placeOfBirth:["",p.z.required],residenceStatus:["",p.z.required],nationality:["",p.z.required],countryOfResidence:["",p.z.required],occupationType:["",p.z.required],idType:["",p.z.required],idNumber:["",p.z.required],expiryDate:[""],addressType:["",p.z.required],address1:["",[p.z.required,p.z.pattern(".*[a-zA-Z].*")]],address2:["",[p.z.required,p.z.pattern(".*[a-zA-Z].*")]],city:["",p.z.required],state:["",p.z.required],country:["",p.z.required],zipCode:["",[p.z.required,p.z.minLength(5),p.z.maxLength(10),p.z.pattern("^[0-9]{5,10}$")]],phoneNumber:["",[p.z.required,p.z.minLength(3),p.z.maxLength(10),p.z.pattern("^[0-9]{10,12}$")]],landlineNumber:["",[p.z.pattern("^[0-9]{10,12}$")]],primaryEmailAdress:["",[p.z.required,p.z.email,p.z.pattern("^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[a-z]{2,4}$")]]})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"keyPressAlphanumeric",value:function(e){var t=String.fromCharCode(e.keyCode);return!!/[a-zA-Z0-9]/.test(t)||(e.preventDefault(),!1)}},{key:"validateNumber",value:function(e){var t=e.keyCode;t>=48&&t<=57||t>=96&&t<=105||[8,37,39,46].includes(t)||e.preventDefault()}},{key:"f",get:function(){return this.cardCustomerForm.controls}},{key:"applicantCount",get:function(){return this.f.numOfApplicants}},{key:"applicant",get:function(){return this.f.applicantDetails}},{key:"getPrefixValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayPrefix=e})}},{key:"getMaritalStatus",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.maritalStatusList=e})}},{key:"getOwnershipValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayOwnership=e})}},{key:"getGenderValue",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayGender=e})}},{key:"getCountryName",value:function(e){var t=this;this.apiService.getAllCountries().subscribe(function(e){for(var r=0;r<e.length;r++)"A"===e[r].authStatus&&t.arrayCountry.push(e[r].countryName)})}},{key:"getAdressType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayAddressType=e})}},{key:"getStateName",value:function(e,t){var r=this;t&&(this.applicant.get("zipCode").setValue(""),this.applicant.get("state").setValue(""),this.applicant.get("city").setValue("")),this.applicant.get("city").setValue(""),this.apiService.getAllCountries().subscribe(function(t){for(var n=0;n<t.length;n++)if(t[n].countryName==e){r.apiService.getStateByCountryId(t[n].id).subscribe(function(e){r.arrayState=e});break}})}},{key:"getAllAuthCities",value:function(){var e=this;this.apiService.getAuthorizedCityInfo().subscribe(function(t){return t.map(function(t){return e.arrayCity.push(t.cityName)})})}},{key:"onStateChange",value:function(){this.applicant.get("zipCode").setValue(""),this.applicant.get("city").setValue("")}},{key:"onCityChange",value:function(){this.applicant.get("zipCode").setValue("")}},{key:"onBirthCountry",value:function(e){var t=this;this.console.log("data ::",e),this.isBirthCountry=!0,null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.birthCountryFlag=e.currencyCode.toLowerCase()})}},{key:"getCountrySelection",value:function(e){var t=this;this.console.log("data ::",e),this.isCountry=!0,null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.countryCode=e.currencyCode.toLowerCase()})}},{key:"getCountrySelection1",value:function(e){var t=this;this.console.log("data ::",e),null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.editCountryCode=e.currencyCode.toLowerCase()})}},{key:"getResidenceDetails",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayResidence=e})}},{key:"getDocumentType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayDocumentType=e})}},{key:"onSelectionCitizionship",value:function(e){var t=this;null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.currencyCode=e.currencyCode.toLowerCase()})}},{key:"onSelectionCitizionship1",value:function(e){var t=this;this.citizenshipFflag=!0,this.isCurrency=!0,null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.currency=e.currencyCode.toLowerCase()})}},{key:"onSelectionBirthCountry",value:function(e){var t=this;console.log("Birth Country : ",e),null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){console.log(e.currencyCode),t.Currency1=e.currencyCode.toLowerCase()})}},{key:"onSelectionResidance",value:function(e){var t=this;this.console.log("data ::",e),console.log(e),null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.Currency=e.currencyCode.toLowerCase(),console.log(t.Currency)})}},{key:"onOtherSelectionResidance",value:function(e){var t=this;this.console.log("data ::",e),console.log(e),this.isResidency=!0,null!=e&&this.apiService.countryFlaglists(e).subscribe(function(e){t.ResideceCurrency=e.currencyCode.toLowerCase(),console.log(t.ResideceCurrency)})}},{key:"onSubmit",value:function(){var e=this;this.submitted=!0,this.isCifValid=!1;var t={},r=this.cardCustomerForm.controls.applicantDetails.value,n={},a={},i=[],o=[];t.customerId=this.ls.getItem("cId"),t.cifNumber=r.cifNumber,t.dependentId=r.dependentId,t.existingCustomer=r.existingCustomer,t.primaryCustomer=r.primaryCustomer,t.residenceStatus=r.residenceStatus,t.placeOfBirth=r.placeOfBirth,t.countryOfResidence=r.countryOfResidence,t.occupationType=r.occupationType,t.phoneNumber=r.phoneNumber,t.maritalStatus=r.maritalStatus,t.birthCountry=r.birthCountry,t.primaryEmailAdress=r.primaryEmailAdress,t.prefix=r.prefix,t.firstName=r.firstName,t.middleName=r.middleName,t.lastName=r.lastName,t.cifNumber=r.cifNumber,t.gender=r.gender,t.dateOfBirth=this.convertDate(r.dateOfBirth),t.nationality=r.nationality,t.cardId=this.cardId,t.accountType="cardOrigin",t.landlineNumber=r.landlineNumber,t.ownership=this.cardCustomerForm.get("ownership").value,t.numOfApplicants=this.cardCustomerForm.get("numOfApplicants").value,t.addOnCard=this.addonCardValue,n.address1=r.address1,n.address2=r.address2,n.country=r.country,n.state=r.state,n.city=r.city,n.zipCode=r.zipCode,n.addressType=r.addressType,o.push(n),a.expiryDate="Invalid date"==(null==r?void 0:r.expiryDate)?null:""!=(null==r?void 0:r.expiryDate)?this.convertDate(null==r?void 0:r.expiryDate):"",a.idType=r.idType,a.idNumber=r.idNumber,i.push(a),t.userAddress=o,t.custIdProofs=i,this.isChecked=!1,this.disabled=!1,this.appApiService.createAndUpdateCardAccountants(t).subscribe(function(t){console.log("data::",t),e.closeDetails(),e.loader.close(),console.log("Response of service 2 ---\x3e ",t),200===t.status&&(e.getListOfAccounts(),e.snack.open("Customer Information Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),1==t.custDependentModel.primaryCustomer&&e.ls.setItem("primaryCustomerName",null==t.custDependentModel.middleName?t.custDependentModel.firstName+" "+t.custDependentModel.lastName:t.custDependentModel.firstName+" "+t.custDependentModel.middleName+" "+t.custDependentModel.lastName),e.cardCustomerForm.get("ownership").patchValue(t.custDependentModel.ownership),e.cardCustomerForm.get("numOfApplicants").patchValue(t.custDependentModel.numOfApplicants))},function(t){console.log(t),e.loader.close(),e.snack.open("Error","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"selectOwnershipChange",value:function(e){console.log(e),this.selectedOwnership=e.value}},{key:"onReset",value:function(){this.submitted=!1,this.cardCustomerForm.reset({})}},{key:"onClear",value:function(){this.submitted=!1}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEntryStage/list/cardInitiation"])}},{key:"goToNext",value:function(){this.ls.setItem("Card_Customer_Done",!0),localStorage.setItem("CardNoOfApplicants",this.cardCustomerForm.get("numOfApplicants").value),this.ls.setItem("cardownership_value",this.cardCustomerForm.get("ownership").value),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/financialDetails"])}},{key:"onKeyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault(),clearTimeout(this.timer),e.target.value||(this.listOfCustByCif=[])}},{key:"onKeyPress",value:function(e){var t=this,r=String.fromCharCode(e.charCode);/[0-9]/.test(r)||e.preventDefault(),clearTimeout(this.timer),e.target.value?this.timer=setTimeout(function(){t.appApiService.fetchByCif(e.target.value).subscribe(function(e){e&&(t.listOfCustByCif=e.customerInfoList)})},1e3):(this.isCifValid=!1,this.applicant.reset(),this.applicant.get("cifNumber").clearValidators(),this.applicant.get("cifNumber").updateValueAndValidity(),this.applicant.get("existingCustomer").patchValue(!0),this.applicant.get("primaryCustomer").patchValue(!0),this.listOfCustByCif=[])}},{key:"isAllSameDigit",value:function(e){var t=0,r=e.target.value;if(""!=r){for(var n=0;n<r.length;n++)0==r[n]&&t++;this.isAllSameDigitVal=t==r.length}else this.isAllSameDigitVal=!1}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.dataService.sendNavParam({})}},{key:"goToggle",value:function(e){this.addonCardValue=e.checked,1==e.checked||this.addOnCard?(this.ls.setItem("ADD_ON_CARD",!0),this.cardCustomerForm.get("ownership").setValue("Joint"),this.cardCustomerForm.get("numOfApplicants").patchValue(2),this.disabled=!1):0==e.checked&&(this.ls.setItem("ADD_ON_CARD",!1),this.cardCustomerForm.get("ownership").patchValue("Self",{onlySelf:!0,emitEvent:!1}),this.cardCustomerForm.get("numOfApplicants").patchValue(1,{onlySelf:!0,emitEvent:!1}))}},{key:"getCityandStateByZipcode",value:function(e,t){var r=this;e&&t.length>=6&&this.apiService.fetchStateCityByZipcode(e,t).subscribe(function(e){e?(r.applicant.get("state").setValue(e.stateName),r.applicant.get("city").setValue(e.cityName)):r.snack.open("Entered Zipcode does not exists","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}}]),e}()).\u0275fac=function(e){return new(e||kn)(f.Rb(v.h),f.Rb(y.b),f.Rb(v.a),f.Rb(N.a),f.Rb(f.l),f.Rb(f.I),f.Rb(m.a),f.Rb(g.b),f.Rb(p.f),f.Rb(Ke.a),f.Rb(f.h),f.Rb(Je.a),f.Rb(h.a),f.Rb(je.a),f.Rb(Be.a),f.Rb(le.a))},kn.\u0275cmp=f.Lb({type:kn,selectors:[["app-card-customer-information"]],viewQuery:function(e,t){var r;1&e&&f.ad(F.a,!0),2&e&&f.Cc(r=f.gc())&&(t.progressBar=r.first)},inputs:{i:"i"},decls:18,vars:1,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_personal_information_re_vw8a.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxLayout","row wrap"],[1,"p-0"],["visible","true"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["formControlName","ownership","name","owner","required","",1,"graycolor",3,"value","valueChange","selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","50"],["formControlName","numOfApplicants","name","account"],[3,"value"],[1,"mb-1"],["fxFlex","100","fxLayoutGap","16px","fxLayoutAlign","end end",2,"padding-right","15px"],[1,"m-0","text-right"],["mode","determinate",1,"rounded",2,"height","5px",3,"color","value"],["fxFlex","100%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"hint"],["formControlName","addOnCard",2,"margin-left","1cm",3,"change"],[1,"mt-12"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["class","mt-16",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],[4,"ngIf","ngIfElse"],["hideBtn",""],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"ml-8"],[2,"margin-bottom","-16px !important"],["mat-card-avatar",""],[3,"name"],[1,"m-0","mr-16"],["fxFlex",""],["mat-sm-chip","",3,"color","selected",4,"ngIf"],[1,"mat-caption"],["fxLayout","row","fxFlex","1 1 0%","fxLayoutAlign","end end"],[1,"group-btn-bg"],["showEdit",""],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["detailApplicant",""],["mat-sm-chip","",3,"color","selected"],["type","reset","mat-icon-button","","color","primary",3,"click"],["type","submit","mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mt-32",3,"formGroup"],["formGroupName","applicantDetails"],["formControlName","existingCustomer",3,"change"],[1,"mb-16"],["name","prefix","formControlName","prefix",3,"selectionChange"],["matInput","","name","mname","formControlName","middleName","placeholder","Middle Name",3,"keypress"],["matInput","","name","date","readonly","","formControlName","dateOfBirth","placeholder","Date of birth",3,"matDatepicker","max"],["matSuffix","",3,"for"],["appDatepicker",""],[1,"p-1"],["fxFlex","20"],["matPrefix",""],[3,"class",4,"ngIf"],["name","birthCountry","formControlName","birthCountry","required","",3,"selectionChange"],["name","residenceType","formControlName","residenceStatus"],["formControlName","countryOfResidence","id","forcitizenship","required","",3,"selectionChange"],["disabled",""],["name","idtype","formControlName","idType",3,"selectionChange"],["class","pb-1",4,"ngIf"],["formControlName","primaryCustomer"],["matInput","","name","fname","formControlName","firstName","placeholder","First Name",3,"keypress"],["matInput","","name","lname","formControlName","lastName","placeholder","Last Name",3,"keypress"],["name","gender","formControlName","gender",3,"selectionChange"],["class","err-msg",4,"ngIf"],["matInput","","name","bplace","formControlName","placeOfBirth","placeholder","Birth Place"],[1,"pb-1","info"],["formControlName","nationality","id","forcitizenship","required","",3,"selectionChange"],["name","maritalStatus","formControlName","maritalStatus","required",""],["matInput","","name","occupation","formControlName","occupationType","placeholder","Occupation Type",3,"keypress"],[1,"pb-1","info3"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID Number","maxlength","12","pattern","^[+]?([0-9]+(?:[\\.][0-9]*)?|\\.[0-9]+)$"],["matInput","","formControlName","address1","placeholder","Address 1"],["name","addressType","formControlName","addressType"],["minlength","5","maxlength","10","matInput","","name","a_zip","formControlName","zipCode","onlyNumber","","placeholder","Zip Code",3,"keypress","keyup","change"],["style","color: #E74C3C;",4,"ngIf"],["name","city","formControlName","city",3,"selectionChange"],["matInput","","formControlName","address2","placeholder","Address 2"],["name","country","formControlName","country",3,"selectionChange"],["name","state","formControlName","state",3,"selectionChange"],["maxlength","10","matInput","","formControlName","phoneNumber","name","phone","placeholder","Mobile Number",3,"keypress"],["style","margin-top:-20px",4,"ngIf"],["matInput","","name","email","formControlName","primaryEmailAdress","placeholder","e-mail",3,"keypress"],["maxlength","10","matInput","","name","mobile","formControlName","landlineNumber","placeholder","Landline Number",3,"keypress"],["mat-button","","color","primary",3,"disabled","click"],["matInput","","name","date","readonly","","formControlName","expiryDate","placeholder","ID Type Valid Till",3,"required","matDatepicker","min"],["appDatepicker1",""],[1,"err-msg"],[2,"color","#E74C3C"],[2,"margin-top","-20px"],[1,"mt-16"],[1,"mb-8","borderStyle",3,"expanded"],[1,"marginData"],[1,"textDesign"],[1,"design"],[1,"toggle_row"],[1,"toggle_col","pb-1"],["class","toggle_col pb-1 pl-2",4,"ngIf"],["fxLayout","row","fxLayoutGap","2px","fxLayoutAlign","space-between"],["fxFlex","100","fxFlexAlign","center"],["matInput","","formControlName","cifNumber","name","cif","placeholder","CIF Number",3,"formControl","matAutocomplete","readonly","keypress","change","keyup"],["matSuffix","","color","primary",4,"ngIf"],["class","hintColor",4,"ngIf"],[1,"card-cust-auto-cif"],["auto","matAutocomplete"],[1,"pb-1","info1"],["matInput","","name","uniqueidentity","formControlName","idNumber","placeholder","Unique ID","maxlength","12",3,"keypress"],["mat-button","","color","primary",3,"disabled",4,"ngIf","ngIfElse"],["openSave",""],[1,"toggle_col","pb-1","pl-2"],["formControlName","primaryCustomer",3,"ngModel","disabled","ngModelChange"],["matSuffix","","color","primary"],[1,"hintColor"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],["fxFlex","80"],[2,"margin-bottom","0px"],[1,"cif-0",2,"margin-top","0px"],[1,"right-arrow1"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large","color","white"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","100%","margin-bottom","50px",3,"src"],["mat-button","","color","primary",3,"disabled"],["mat-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Customer Information Details"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(9,"div",7),f.Xb(10,"div",2),f.Xb(11,"mat-card",8),f.Xb(12,"mat-card-title"),f.Xb(13,"fieldset"),f.Xb(14,"legend",9),f.Tc(15,"Customer Information"),f.Wb(),f.Wb(),f.Wb(),f.Xb(16,"mat-card-content"),f.Rc(17,In,59,17,"form",10),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(17),f.rc("ngIf",t.cardCustomerForm))},directives:[W.e,W.b,C.a,C.h,C.d,c.n,p.A,p.s,p.j,W.f,I.c,I.g,tt.a,p.r,p.i,p.y,rt.n,c.m,W.d,F.a,I.f,nt.a,at.a,x.b,I.b,at.c,at.e,at.f,l.a,C.e,C.c,C.g,it.a,x.a,c.s,p.k,X.b,p.c,ot.e,ot.g,I.j,ot.d,I.i,p.m,p.w,p.n,ct.a,E.a,W.a,b.c,p.h,b.a,st.b],pipes:[c.w,c.v],styles:[".form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.currency-flag[_ngcontent-%COMP%]{display:inline-block;width:24px;height:16px;background-size:cover;background-image:url(https://wise.com/public-resources/assets/flags/rectangle_fallback.png)}.currency-flag-sm[_ngcontent-%COMP%]{width:16px;height:10px}.currency-flag-lg[_ngcontent-%COMP%]{width:36px;height:24px}.currency-flag-xl[_ngcontent-%COMP%]{width:48px;height:32px}  .card-cust-auto-cif.mat-autocomplete-panel{width:270px!important;padding:7px 0;border:1px solid #456efe!important;border-radius:5px!important;opacity:1!important}  .mat-card-avatar{max-width:15%!important}.example-header-image-dropdown[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;background-size:cover;background-color:#4a56e2;max-width:9%!important;width:25px;height:25px;border-radius:50%}.err-msg[_ngcontent-%COMP%]{color:var(--danger)!important}.currency-flag.currency-flag-aed[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aed.png)}.currency-flag.currency-flag-afn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/afn.png)}.currency-flag.currency-flag-all[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/all.png)}.currency-flag.currency-flag-amd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/amd.png)}.currency-flag.currency-flag-ang[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ang.png)}.currency-flag.currency-flag-aoa[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aoa.png)}.currency-flag.currency-flag-ars[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ars.png)}.currency-flag.currency-flag-aud[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aud.png)}.currency-flag.currency-flag-awg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/awg.png)}.currency-flag.currency-flag-azn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/azn.png)}.currency-flag.currency-flag-bam[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bam.png)}.currency-flag.currency-flag-bbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bbd.png)}.currency-flag.currency-flag-bdt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bdt.png)}.currency-flag.currency-flag-bgn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bgn.png)}.currency-flag.currency-flag-bhd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bhd.png)}.currency-flag.currency-flag-bif[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bif.png)}.currency-flag.currency-flag-bmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bmd.png)}.currency-flag.currency-flag-bnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bnd.png)}.currency-flag.currency-flag-bob[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bob.png)}.currency-flag.currency-flag-brl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/brl.png)}.currency-flag.currency-flag-bsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bsd.png)}.currency-flag.currency-flag-btn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/btn.png)}.currency-flag.currency-flag-bwp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bwp.png)}.currency-flag.currency-flag-byn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/byn.png)}.currency-flag.currency-flag-bzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bzd.png)}.currency-flag.currency-flag-cad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cad.png)}.currency-flag.currency-flag-cdf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cdf.png)}.currency-flag.currency-flag-chf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/chf.png)}.currency-flag.currency-flag-clp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/clp.png)}.currency-flag.currency-flag-cny[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cny.png)}.currency-flag.currency-flag-cop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cop.png)}.currency-flag.currency-flag-crc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/crc.png)}.currency-flag.currency-flag-cup[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cup.png)}.currency-flag.currency-flag-cve[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cve.png)}.currency-flag.currency-flag-czk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/czk.png)}.currency-flag.currency-flag-djf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/djf.png)}.currency-flag.currency-flag-dkk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dkk.png)}.currency-flag.currency-flag-dop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dop.png)}.currency-flag.currency-flag-dzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dzd.png)}.currency-flag.currency-flag-egp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/egp.png)}.currency-flag.currency-flag-ern[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ern.png)}.currency-flag.currency-flag-etb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/etb.png)}.currency-flag.currency-flag-eur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/eur.png)}.currency-flag.currency-flag-fjd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fjd.png)}.currency-flag.currency-flag-fkp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fkp.png)}.currency-flag.currency-flag-gbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gbp.png)}.currency-flag.currency-flag-gel[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gel.png)}.currency-flag.currency-flag-ghs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ghs.png)}.currency-flag.currency-flag-gip[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gip.png)}.currency-flag.currency-flag-gmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gmd.png)}.currency-flag.currency-flag-gnf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gnf.png)}.currency-flag.currency-flag-gtq[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gtq.png)}.currency-flag.currency-flag-gyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gyd.png)}.currency-flag.currency-flag-hkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hkd.png)}.currency-flag.currency-flag-hnl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hnl.png)}.currency-flag.currency-flag-hrk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hrk.png)}.currency-flag.currency-flag-htg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/htg.png)}.currency-flag.currency-flag-huf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/huf.png)}.currency-flag.currency-flag-idr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/idr.png)}.currency-flag.currency-flag-ils[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ils.png)}.currency-flag.currency-flag-inr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/inr.png)}.currency-flag.currency-flag-iqd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/iqd.png)}.currency-flag.currency-flag-irr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/irr.png)}.currency-flag.currency-flag-isk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/isk.png)}.currency-flag.currency-flag-jmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jmd.png)}.currency-flag.currency-flag-jod[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jod.png)}.currency-flag.currency-flag-jpy[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jpy.png)}.currency-flag.currency-flag-kes[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kes.png)}.currency-flag.currency-flag-kgs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kgs.png)}.currency-flag.currency-flag-khr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/khr.png)}.currency-flag.currency-flag-kmf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kmf.png)}.currency-flag.currency-flag-kpw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kpw.png)}.currency-flag.currency-flag-krw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/krw.png)}.currency-flag.currency-flag-kwd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kwd.png)}.currency-flag.currency-flag-kyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kyd.png)}.currency-flag.currency-flag-kzt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kzt.png)}.currency-flag.currency-flag-lak[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lak.png)}.currency-flag.currency-flag-lbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lbp.png)}.currency-flag.currency-flag-lkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lkr.png)}.currency-flag.currency-flag-lrd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lrd.png)}.currency-flag.currency-flag-ltl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ltl.png)}.currency-flag.currency-flag-lyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lyd.png)}.currency-flag.currency-flag-mad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mad.png)}.currency-flag.currency-flag-mdl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mdl.png)}.currency-flag.currency-flag-mga[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mga.png)}.currency-flag.currency-flag-mkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mkd.png)}.currency-flag.currency-flag-mmk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mmk.png)}.currency-flag.currency-flag-mnt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mnt.png)}.currency-flag.currency-flag-mop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mop.png)}.currency-flag.currency-flag-mro[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mro.png)}.currency-flag.currency-flag-mur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mur.png)}.currency-flag.currency-flag-mvr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mvr.png)}.currency-flag.currency-flag-mwk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mwk.png)}.currency-flag.currency-flag-mxn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mxn.png)}.currency-flag.currency-flag-myr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/myr.png)}.currency-flag.currency-flag-mzn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mzn.png)}.currency-flag.currency-flag-nad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nad.png)}.currency-flag.currency-flag-ngn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ngn.png)}.currency-flag.currency-flag-nio[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nio.png)}.currency-flag.currency-flag-nok[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nok.png)}.currency-flag.currency-flag-npr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/npr.png)}.currency-flag.currency-flag-nzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nzd.png)}.currency-flag.currency-flag-omr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/omr.png)}.currency-flag.currency-flag-pen[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pen.png)}.currency-flag.currency-flag-pgk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pgk.png)}.currency-flag.currency-flag-php[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/php.png)}.currency-flag.currency-flag-pkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pkr.png)}.currency-flag.currency-flag-pln[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pln.png)}.currency-flag.currency-flag-pyg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pyg.png)}.currency-flag.currency-flag-qar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/qar.png)}.currency-flag.currency-flag-ron[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ron.png)}.currency-flag.currency-flag-rsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rsd.png)}.currency-flag.currency-flag-rub[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rub.png)}.currency-flag.currency-flag-rwf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rwf.png)}.currency-flag.currency-flag-sar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sar.png)}.currency-flag.currency-flag-sbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sbd.png)}.currency-flag.currency-flag-scr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/scr.png)}.currency-flag.currency-flag-sek[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sek.png)}.currency-flag.currency-flag-sgd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sgd.png)}.currency-flag.currency-flag-shp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/shp.png)}.currency-flag.currency-flag-sll[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sll.png)}.currency-flag.currency-flag-sos[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sos.png)}.currency-flag.currency-flag-srd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/srd.png)}.currency-flag.currency-flag-std[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/std.png)}.currency-flag.currency-flag-svc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/svc.png)}.currency-flag.currency-flag-syp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/syp.png)}.currency-flag.currency-flag-szl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/szl.png)}.currency-flag.currency-flag-thb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/thb.png)}.currency-flag.currency-flag-tjs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tjs.png)}.currency-flag.currency-flag-tnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tnd.png)}.currency-flag.currency-flag-top[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/top.png)}.currency-flag.currency-flag-try[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/try.png)}.currency-flag.currency-flag-ttd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ttd.png)}.currency-flag.currency-flag-twd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/twd.png)}.currency-flag.currency-flag-tzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tzs.png)}.currency-flag.currency-flag-uah[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uah.png)}.currency-flag.currency-flag-ugx[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ugx.png)}.currency-flag.currency-flag-usd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/usd.png)}.currency-flag.currency-flag-uyu[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uyu.png)}.currency-flag.currency-flag-uzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uzs.png)}.currency-flag.currency-flag-vef[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vef.png)}.currency-flag.currency-flag-vnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vnd.png)}.currency-flag.currency-flag-vuv[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vuv.png)}.currency-flag.currency-flag-wst[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/wst.png)}.currency-flag.currency-flag-xaf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xaf.png)}.currency-flag.currency-flag-xcd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xcd.png)}.currency-flag.currency-flag-xof[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xof.png)}.currency-flag.currency-flag-xpf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xpf.png)}.currency-flag.currency-flag-yer[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/yer.png)}.currency-flag.currency-flag-zar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zar.png)}.currency-flag.currency-flag-zmw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zmw.png)}.graycolor[_ngcontent-%COMP%]{color:grey} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}.boxsize[_ngcontent-%COMP%]{margin-top:30px}.borderStyle[_ngcontent-%COMP%]{border:1px solid #456efe!important;border-radius:5px!important;opacity:1!important}.toggle_row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.toggle_row[_ngcontent-%COMP%]   .toggle_col[_ngcontent-%COMP%]{width:50%}"]}),kn);function On(e,t){if(1&e&&(f.Xb(0,"mat-option",27),f.Tc(1),f.Wb()),2&e){var r=t.$implicit,n=f.jc(2);f.rc("value",r)("hidden",n.isDocumentOptionDisabled2(r)),f.Eb(1),f.Vc(" ",r," ")}}function Tn(e,t){if(1&e){var r=f.Yb();f.Xb(0,"tr",10),f.Xb(1,"td",20),f.Xb(2,"mat-select",21),f.fc("valueChange",function(e){f.Hc(r);var n=t.index;return f.jc().changeValue2(e,n)}),f.Rc(3,On,2,3,"mat-option",22),f.Wb(),f.Wb(),f.Xb(4,"td"),f.Xb(5,"div"),f.Xb(6,"input",23),f.fc("keyup",function(e){f.Hc(r);var n=t.index;return f.jc().OnInput1(e,!0,n)})("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(7,"td"),f.Xb(8,"div"),f.Xb(9,"input",24),f.fc("keyup",function(e){f.Hc(r);var n=t.index;return f.jc().OnInput(e,!0,n)})("keypress",function(e){return f.Hc(r),f.jc().keyPress(e)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(10,"td",25),f.Xb(11,"div"),f.Xb(12,"button",26),f.fc("click",function(){f.Hc(r);var e=t.index;return f.jc().onclick1(e)}),f.Xb(13,"mat-icon"),f.Tc(14,"delete"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=t.$implicit,a=f.jc();f.rc("formGroup",n),f.Eb(3),f.rc("ngForOf",a.arraylimitType),f.Eb(3),f.rc("readonly",a.isDLReadOnly),f.Eb(3),f.rc("readonly",a.isLPTReadOnly)}}function Dn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Xb(1,"small"),f.Tc(2,"Limit per transaction should be less "),f.Wb(),f.Sb(3,"br"),f.Xb(4,"small"),f.Tc(5,"than daily limit"),f.Wb(),f.Wb())}var En,An=((En=function(){function e(t,r,n,a,i,o){var c=this;s(this,e),this.fb=t,this.router=r,this.apiService=n,this.snack=a,this.ls=i,this.accountService=o,this.arraylimitType=[],this.selectedOptions2=[],this.cardDetails=[],this.isdailylimit=!1,this.isLimitTransaction=!1,this.isGreaterValue=!1,this.selectedDocumentTypes2=[],this.cardPrefrenceOnLoad=[],this.isRowEnds=!1,this.islimitType=!1,this.isDLReadOnly=!1,this.isLPTReadOnly=!1,this.isDocumentOptionDisabled2=function(e){return c.selectedOptions2.includes(e)}}return u(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.arraylimitType=["Domestic Limit","International Limit","Daily Limit","ATM limit","POS Limit","Internet Limit"],this.buildCardPrefrenceForm();var e=JSON.parse(this.ls.getItem("card_prefrence_done"));null!=this.cardId&&e&&this.gettingCardPrefrenceDetail()}},{key:"gettingCardPrefrenceDetail",value:function(){var e=this;this.apiService.getCardPrefrence(this.cardId).subscribe(function(t){e.cardPrefrenceOnLoad=t,t?(e.isdailylimit=!0,e.isLimitTransaction=!0,e.islimitType=!0):(e.isdailylimit=!1,e.isLimitTransaction=!1);for(var r=0;r<=e.cardPrefrenceOnLoad.length-1;r++)e.selectedOptions2.push(e.cardPrefrenceOnLoad[r].limitType);e.buildCardPrefrenceForm(t,!0)})}},{key:"buildCardPrefrenceForm",value:function(e,t){if(this.cardPrefrenceForm=this.fb.group({cardPrefrences:this.fb.array([this.addMFormGroup()])}),t){this.addMandateToFormGroup(e);for(var r=0;r<=e.length-1;r++)e[r].dailyLimit=this.addComa(e[r].dailyLimit),e[r].limitPerTransaction=this.addComa(e[r].limitPerTransaction);this.m.patchValue(e),console.log(this.cardPrefrenceForm)}}},{key:"addMandateToFormGroup",value:function(e){for(var t=e.length,r=1;r<t;r++)this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}));this.isdailylimit=!0}},{key:"f",get:function(){return this.cardPrefrenceForm.controls}},{key:"m",get:function(){return this.f.cardPrefrences}},{key:"addMFormGroup",value:function(){return this.fb.group({limitType:[""],dailyLimit:["",[p.z.maxLength(18),p.z.pattern("^[0-9]{10,12}$")]],limitPerTransaction:["",[p.z.maxLength(18),p.z.pattern("^[0-9]{10,12}$")]]})}},{key:"addMandate",value:function(){this.isdailylimit=!1,this.islimitType=!1,this.isLimitTransaction=!1,this.isLPTReadOnly=!0,this.isDLReadOnly=!0,this.m.push(this.fb.group({limitType:[""],dailyLimit:[""],limitPerTransaction:[""]}))}},{key:"addComa",value:function(e){var t=e.toString().replace(/,/g,"").split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault(),this.isdailylimit=!0,this.isLPTReadOnly=!1}},{key:"keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault(),this.isLimitTransaction=!0}},{key:"OnInput",value:function(e,t,r){this.limiPrTrn=e.target.value;var n=this.removeComma(this.cardPrefrenceForm.value.cardPrefrences[r].dailyLimit),a=this.removeComma(this.limiPrTrn);this.isLimitTransaction=!!this.limiPrTrn,this.isGreaterValue=Number(a)>Number(n)||(Number(a),Number(n),!1);var i={limitPerTransaction:this.addComa(this.limiPrTrn)};this.m.controls[r].patchValue(i)}},{key:"OnInput1",value:function(e,t,r){console.log({k:r}),this.limitDaily=e.target.value,this.isdailylimit=!!this.limitDaily;var n={dailyLimit:this.addComa(this.limitDaily)};this.m.controls[r].patchValue(n)}},{key:"onclick1",value:function(e){var t=this;this.islimitType=!0,this.isLimitTransaction=!0,this.isdailylimit=!0,this.isRowEnds=!1,this.isLPTReadOnly=!1,this.isDLReadOnly=!1,this.cardPrefrenceForm.controls.cardPrefrences.removeAt(e),null==this.cardPrefrenceOnLoad||null!=this.cardPrefrenceOnLoad[e]&&this.apiService.deleteCardPrefrence(this.cardPrefrenceOnLoad[e].preferenceId).subscribe(function(e){},function(e){200==e.status&&t.snack.open("Record Deleted Successfully","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.selectedOptions2.splice(e,1),this.isdailylimit=!0}},{key:"onSubmit",value:function(){var e,t=this,r=[];if(this.cardPrefrenceForm.value.cardPrefrences.cardId=this.cardId,console.log(this.cardPrefrenceForm),this.cardPrefrenceOnLoad)for(var n=this.cardPrefrenceOnLoad.length;n<=this.cardPrefrenceForm.value.cardPrefrences.length-1;n++){e=this.cardPrefrenceForm.value.cardPrefrences[n];var a=Object.assign({},e,{cardId:this.cardId});a.dailyLimit=parseInt(this.removeComma(a.dailyLimit)),a.limitPerTransaction=parseInt(this.removeComma(a.limitPerTransaction)),r.push(a)}else for(var i=0;i<this.cardPrefrenceForm.value.cardPrefrences.length;i++){e=this.cardPrefrenceForm.value.cardPrefrences[i];var o=Object.assign({},e,{cardId:this.cardId});o.dailyLimit=parseInt(this.removeComma(o.dailyLimit)),o.limitPerTransaction=parseInt(this.removeComma(o.limitPerTransaction)),r.push(o)}this.apiService.uploadCardPrefrence(r).subscribe(function(e){null!=e&&(t.snack.open("Card Preferences Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.next())})}},{key:"removeComma",value:function(e){return e.replace(/,/g,"")}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEntryStage/list/financialDetails"])}},{key:"next",value:function(){this.ls.setItem("card_prefrence_done",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/accountServices"])}},{key:"changeValue2",value:function(e,t){var r=this;this.islimitType=!0,this.selectedDocumentTypes2[t]&&(this.selectedOptions2=this.selectedOptions2.filter(function(e){return e!==r.selectedDocumentTypes2[t]})),this.selectedDocumentTypes2[t]=e,this.selectedOptions2.push(e),this.isRowEnds=this.selectedDocumentTypes2.length==this.arraylimitType.length,this.isDLReadOnly=!1}}]),e}()).\u0275fac=function(e){return new(e||En)(f.Rb(p.f),f.Rb(v.h),f.Rb(g.b),f.Rb(h.a),f.Rb(m.a),f.Rb(N.a))},En.\u0275cmp=f.Lb({type:En,selectors:[["app-card-prefrences"]],decls:39,vars:5,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask_Group_1.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],[1,"height"],["visible","true"],[3,"formGroup"],[1,"table-container"],[1,"table"],[3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","335px"],["mat-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","type","button","color","primary",1,"Nextbtn",3,"disabled","click"],[2,"width","11.8rem"],["formControlName","limitType","placeholder","Select Type","name","limitType",1,"inputMatcard1",3,"valueChange"],[3,"value","hidden",4,"ngFor","ngForOf"],["type","text","max","18","formControlName","dailyLimit",1,"alignment",3,"readonly","keyup","keypress"],["type","text","maxlength","18","formControlName","limitPerTransaction",1,"alignment",3,"readonly","keyup","keypress"],[1,"deletebutton"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],[3,"value","hidden"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Card Preferences"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(9,"div",1),f.Xb(10,"div",2),f.Xb(11,"mat-card",7),f.Xb(12,"mat-card-title"),f.Xb(13,"fieldset",8),f.Xb(14,"legend",9),f.Tc(15,"Card Preferences"),f.Wb(),f.Wb(),f.Wb(),f.Xb(16,"form",10),f.Xb(17,"div",11),f.Xb(18,"table",12),f.Xb(19,"thead"),f.Xb(20,"tr"),f.Xb(21,"th"),f.Tc(22,"Limit Type"),f.Wb(),f.Xb(23,"th"),f.Tc(24,"Daily Limit"),f.Wb(),f.Xb(25,"th"),f.Tc(26,"Limit per transaction"),f.Wb(),f.Wb(),f.Wb(),f.Xb(27,"tbody"),f.Rc(28,Tn,15,4,"tr",13),f.Wb(),f.Wb(),f.Xb(29,"div",14),f.Xb(30,"button",15),f.fc("click",function(){return t.addMandate()}),f.Xb(31,"mat-icon"),f.Tc(32,"add"),f.Wb(),f.Wb(),f.Rc(33,Dn,6,0,"mat-error",16),f.Wb(),f.Xb(34,"div",17),f.Xb(35,"button",18),f.fc("click",function(){return t.goBack()}),f.Tc(36," Back "),f.Wb(),f.Xb(37,"button",19),f.fc("click",function(){return t.onSubmit()}),f.Tc(38," Next "),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(16),f.rc("formGroup",t.cardPrefrenceForm),f.Eb(12),f.rc("ngForOf",t.m.controls),f.Eb(2),f.rc("disabled",!(t.isdailylimit&&t.isLimitTransaction&&t.islimitType&&!t.isRowEnds)||t.isGreaterValue),f.Eb(3),f.rc("ngIf",t.isGreaterValue),f.Eb(4),f.rc("disabled",!(t.isdailylimit&&t.isLimitTransaction&&t.islimitType)||t.isGreaterValue||0==t.m.controls.length))},directives:[W.e,W.b,C.a,C.h,p.A,p.s,p.j,c.m,W.f,x.b,l.a,c.n,W.d,tt.a,p.r,p.i,p.c,p.m,rt.n,I.b],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.table-container[_ngcontent-%COMP%]{padding:0 10%;margin:20px auto 0}.table[_ngcontent-%COMP%]{width:80%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{height:.2cm;background-color:#007bff}.alignment[_ngcontent-%COMP%]{border-style:none;outline:none;box-shadow:0 0 0;padding-top:11px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:medium;color:#fff;opacity:1;padding:12px;vertical-align:top}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;border:1px solid rgba(2,2,3,.48627450980392156)}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;color:#f1f1f1;padding:8px;text-align:center}.deletebutton[_ngcontent-%COMP%]{border-style:none!important;outline:none}.mat-select-panel[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%], .mat-select-panel[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{font-size:inherit;line-height:3em;margin-left:10px;height:3em}.egret-blue[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);margin-left:10px}.mat-option[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 10px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 0 0 rgba(0,0,0,.1607843137254902);box-sizing:border-box;padding:10px;width:100%}.height[_ngcontent-%COMP%]{margin-top:4%}.Backbtn[_ngcontent-%COMP%]{float:left!important}"]}),En);function wn(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",34),f.Xb(1,"div",35),f.Xb(2,"label",13),f.Tc(3,"KYC ID"),f.Wb(),f.Tc(4,"\xa0 "),f.Xb(5,"label",36),f.Tc(6),f.Wb(),f.Xb(7,"label",13),f.Tc(8,"KYC Status"),f.Wb(),f.Tc(9,"\xa0 "),f.Xb(10,"label",36),f.Tc(11),f.Wb(),f.Wb(),f.Xb(12,"div"),f.Tc(13," \xa0\xa0\xa0"),f.Xb(14,"button",37),f.fc("click",function(){return f.Hc(r),f.jc().goToKyc()}),f.Tc(15,"Go For KYC"),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=f.jc();f.Eb(6),f.Uc(n.kycRefrence),f.Eb(5),f.Uc(n.kycStatus),f.Eb(3),f.rc("disabled",n.isGoForKyc||n.isExistingCustomer)}}function _n(e,t){1&e&&(f.Xb(0,"mat-option",38),f.Tc(1,"Debit"),f.Wb())}function Pn(e,t){1&e&&(f.Xb(0,"mat-option",39),f.Tc(1,"Forex"),f.Wb())}function Nn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Card Type is Required! "),f.Wb())}function Rn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," CIF Number Is Required "),f.Wb())}function Fn(e,t){if(1&e&&(f.Xb(0,"div",50),f.Xb(1,"h3",51),f.Tc(2),f.kc(3,"uppercase"),f.kc(4,"slice"),f.kc(5,"uppercase"),f.kc(6,"slice"),f.Wb(),f.Wb()),2&e){var r=f.jc().$implicit;f.Eb(2),f.Wc(" ",f.lc(3,2,f.nc(4,4,null==r?null:r.firstName,0,1)),"",f.lc(5,8,f.nc(6,10,null==r?null:r.lastName,0,1))," ")}}function Mn(e,t){if(1&e&&(f.Xb(0,"div",52),f.Sb(1,"img",53),f.Wb()),2&e){var r=f.jc().$implicit;f.Eb(1),f.rc("src",null==r?null:r.profileImage,f.Jc)}}function Ln(e,t){if(1&e&&(f.Xb(0,"mat-option",42),f.Xb(1,"div",43),f.Xb(2,"div",44),f.Rc(3,Fn,7,14,"div",45),f.Rc(4,Mn,2,1,"div",46),f.Xb(5,"div",47),f.Xb(6,"h5",48),f.Tc(7),f.kc(8,"uppercase"),f.kc(9,"uppercase"),f.kc(10,"uppercase"),f.Wb(),f.Xb(11,"h6",49),f.Tc(12),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r.customerId),f.Eb(3),f.rc("ngIf","not_available"==(null==r?null:r.profileImage)),f.Eb(1),f.rc("ngIf","not_available"!=(null==r?null:r.profileImage)),f.Eb(3),f.Xc(" ",f.lc(8,7,null==r?null:r.firstName)," ",f.lc(9,9,null==r?null:r.middleName)," ",f.lc(10,11,null==r?null:r.lastName)," "),f.Eb(5),f.Vc("#",null==r?null:r.cifNumber,"")}}function Vn(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",12),f.Xb(1,"div"),f.Xb(2,"mat-form-field",18),f.Xb(3,"mat-label",13),f.Tc(4,"CIF Number*"),f.Wb(),f.Xb(5,"input",40),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("change",function(){f.Hc(r);var e=f.jc();return e.fetchByCif(e.cardInitiationForm.get("cifNumber").value)})("keyup",function(e){return f.Hc(r),f.jc().onKeyPress(e)}),f.Wb(),f.Rc(6,Rn,2,0,"mat-error",23),f.Wb(),f.Wb(),f.Xb(7,"div"),f.Xb(8,"mat-autocomplete",null,41),f.Rc(10,Ln,13,13,"mat-option",29),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=f.Dc(9),a=f.jc();f.Eb(5),f.rc("formControl",a.cifNumberForm)("matAutocomplete",n),f.Eb(1),f.rc("ngIf",!a.cardInitiationForm.get("cifNumber").valid&&a.cardInitiationForm.get("cifNumber").touched),f.Eb(4),f.rc("ngForOf",a.listOfCustByCif)}}function jn(e,t){if(1&e&&(f.Xb(0,"mat-option",42),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Uc(r)}}function Bn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Currency is Required! "),f.Wb())}function zn(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",12),f.Xb(1,"mat-form-field",18),f.Xb(2,"mat-label",13),f.Tc(3,"Currency *"),f.Wb(),f.Xb(4,"mat-select",54),f.fc("ngModelChange",function(e){return f.Hc(r),f.jc().selectedCurrency=e}),f.Xb(5,"mat-option",55),f.Tc(6,"Select"),f.Wb(),f.Rc(7,jn,2,2,"mat-option",29),f.Wb(),f.Rc(8,Bn,2,0,"mat-error",23),f.Wb(),f.Wb()}if(2&e){var n=f.jc();f.Eb(4),f.rc("ngModel",n.selectedCurrency),f.Eb(3),f.rc("ngForOf",n.localCurrencyArr),f.Eb(1),f.rc("ngIf",!n.cardInitiationForm.get("currency").valid&&n.cardInitiationForm.get("currency").touched)}}function qn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," currency is Required! "),f.Wb())}function Un(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",12),f.Xb(1,"mat-form-field",18),f.Xb(2,"mat-label",13),f.Tc(3,"Currency"),f.Wb(),f.Xb(4,"input",56),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)}),f.Wb(),f.Rc(5,qn,2,0,"mat-error",23),f.Wb(),f.Wb()}if(2&e){var n=f.jc();f.Eb(5),f.rc("ngIf",!n.cardInitiationForm.get("currency").valid&&n.cardInitiationForm.get("currency").touched)}}function Gn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Affinity Program is Required! "),f.Wb())}function Hn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Name on Card is Required! "),f.Wb())}function Yn(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",12),f.Xb(1,"mat-form-field",18),f.Xb(2,"mat-label",13),f.Tc(3,"Name On Card *"),f.Wb(),f.Xb(4,"input",57),f.fc("keypress",function(e){return f.Hc(r),f.jc().letterOnly(e)}),f.Wb(),f.Rc(5,Hn,2,0,"mat-error",23),f.Wb(),f.Wb()}if(2&e){var n=f.jc();f.Eb(5),f.rc("ngIf",!n.cardInitiationForm.get("nameOnCard").valid&&n.cardInitiationForm.get("nameOnCard").touched)}}function $n(e,t){if(1&e&&(f.Xb(0,"mat-option",42),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Uc(r)}}function Qn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Customer Account is Required! "),f.Wb())}function Kn(e,t){if(1&e&&(f.Xb(0,"div",12),f.Xb(1,"mat-form-field",18),f.Xb(2,"mat-label",13),f.Tc(3,"Customer Account Number *"),f.Wb(),f.Xb(4,"mat-select",58),f.Rc(5,$n,2,2,"mat-option",29),f.Wb(),f.Rc(6,Qn,2,0,"mat-error",23),f.Wb(),f.Wb()),2&e){var r=f.jc();f.Eb(5),f.rc("ngForOf",r.accountNoArr),f.Eb(1),f.rc("ngIf",!r.cardInitiationForm.get("customerAccount").valid&&r.cardInitiationForm.get("customerAccount").touched)}}function Jn(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Customer Account is Required! "),f.Wb())}function Zn(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",12),f.Xb(1,"mat-form-field",18),f.Xb(2,"mat-label",13),f.Tc(3,"Customer Account Number "),f.Wb(),f.Xb(4,"input",59),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)}),f.Wb(),f.Rc(5,Jn,2,0,"mat-error",23),f.Wb(),f.Wb()}if(2&e){var n=f.jc();f.Eb(5),f.rc("ngIf",!n.cardInitiationForm.get("customerAccount").valid&&n.cardInitiationForm.get("customerAccount").touched)}}function ea(e,t){if(1&e){var r=f.Yb();f.Xb(0,"input",61),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).letterOnly(e)}),f.Wb()}}function ta(e,t){if(1&e&&(f.Xb(0,"div",12),f.Xb(1,"mat-form-field",18),f.Xb(2,"mat-label",13),f.Tc(3,"Applicant Name "),f.Wb(),f.Rc(4,ea,1,0,"input",60),f.Wb(),f.Wb()),2&e){var r=f.jc();f.Eb(4),f.rc("ngIf",r.isExistingCustomer)}}function ra(e,t){if(1&e){var r=f.Yb();f.Xb(0,"input",63),f.fc("keypress",function(e){return f.Hc(r),f.jc(2).letterOnly(e)}),f.Wb()}}function na(e,t){if(1&e&&(f.Xb(0,"div",12),f.Xb(1,"mat-form-field",18),f.Xb(2,"mat-label",13),f.Tc(3,"Applicant Name * "),f.Wb(),f.Rc(4,ra,1,0,"input",62),f.Wb(),f.Wb()),2&e){var r=f.jc();f.Eb(4),f.rc("ngIf",!r.isExistingCustomer)}}function aa(e,t){if(1&e&&(f.Xb(0,"mat-option",42),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc("",r," ")}}function ia(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Employment Type is Required! "),f.Wb())}function oa(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",12),f.Xb(1,"mat-form-field",18),f.Xb(2,"mat-label",13),f.Tc(3,"Name On Card *"),f.Wb(),f.Xb(4,"input",64),f.fc("keypress",function(e){return f.Hc(r),f.jc().letterOnly(e)}),f.Wb(),f.Wb(),f.Wb()}}var ca,sa=((ca=function(e){t(a,e);var r=n(a);function a(e,t,n,i,o,c,l,u){var b;return s(this,a),(b=r.call(this,c)).ls=e,b.router=t,b.accountService=n,b.formBuilder=i,b.apiService=o,b.appApiService=c,b.snack=l,b.cdr=u,b.cifNumberForm=new p.g,b.showEditOption=!1,b.isCardInitiationDone=!1,b.arrayofEmployment=[],b.isCifValid=!1,b.isExistingCustomer=!0,b.isAddOnCard=!1,b.localCurrencyArr=["CNY","GBP","INR","USD","ZAR","GBP"],b.selectedCurrency=b.localCurrencyArr[-1],b.iskycStatus=!1,b.isGoForKyc=!1,b.isKycForCardDone=!1,b.accountNoArr=[],b}return u(a,[{key:"ngOnInit",value:function(){var e=this;if(this.cardId=this.ls.getItem("cardId"),this.applicant=this.ls.getItem("NAME"),this.getEmploymentType("employment_type"),this.createdBy=this.ls.getItem("ICUST_USER"),this.buildInitiationForm(),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),null!=this.cardId&&this.isCardInitiationDone&&(this.iskycStatus=!0,this.showEditOption=!0,this.cifNumberPrimary=this.ls.getItem("Card_CIF_NUM_PRIMARY"),this.getCardInitiation()),this.isKycForCardDone=this.ls.getItem("kycForCard"),1==this.isKycForCardDone){if(this.cardInitiationForm.get("existingCustomer").patchValue(!1),this.kycRefrence=this.ls.getItem("kycReference"),this.kycRefrence){var t=this.kycRefrence.slice(4);this.apiService.getPrimaryInfo(t).subscribe(function(t){e.kycStatus=t.customerInfoList[0].customerAdditionalInfo.kycStatus,e.ls.setItem("KycStatus",e.kycStatus)})}this.iskycStatus=!0,this.isGoForKyc=!0,this.cardInitiationForm.get("cardType").patchValue(this.ls.getItem("cardType")),this.cardInitiationForm.controls.applicantName.setValue(this.ls.getItem("cardCustomer"))}}},{key:"goToggle",value:function(e){1==e.checked?(this.cardInitiationForm.get("existingCustomer").patchValue(!0),this.isExistingCustomer=!0):(this.cardInitiationForm.controls.currency.setValue(""),this.cardInitiationForm.get("employmentType").setValue(""),this.cardInitiationForm.get("applicantName").setValue(""),this.cardInitiationForm.get("customerAccount").setValue(""),this.cardInitiationForm.get("nameOnCard").setValue(""),this.cardInitiationForm.get("affinityProgram").setValue(""),this.cardInitiationForm.get("cifNumber").setValue(""),this.kycRefrence="",this.kycStatus="",this.iskycStatus=!1,this.cardInitiationForm.get("existingCustomer").patchValue(!1),this.isExistingCustomer=!1)}},{key:"addOnCard",value:function(e){1==e.checked?(this.isAddOnCard=!0,this.ls.setItem("ADD_ON_CARD",!0)):(this.isAddOnCard=!1,this.ls.setItem("ADD_ON_CARD",!1))}},{key:"getEmploymentType",value:function(e){var t=this;this.apiService.getDropDownValues(e).subscribe(function(e){t.arrayofEmployment=e})}},{key:"getAccountData",value:function(e){var t=this;this.apiService.getProfileDetails(e).subscribe(function(e){var r,n;t.accountID=null===(n=null===(r=null==e?void 0:e.signatures)||void 0===r?void 0:r[0])||void 0===n?void 0:n.accountId,t.cardInitiationForm.controls.currency.setValue(null==e?void 0:e.accountCurrency)},function(e){})}},{key:"onSubmit",value:function(){var e=this;localStorage.setItem("Currency Type",this.cardInitiationForm.value.currency),this.apiService.uploadCardInitiation({affinityProgram:this.cardInitiationForm.value.affinityProgram,applicantName:this.cardInitiationForm.value.applicantName,cardId:this.showEditOption?this.cardId:null,cardType:this.cardInitiationForm.value.cardType,createdBy:this.createdBy.userName,createdTime:void 0,currency:this.cardInitiationForm.value.currency,customerAccount:this.cardInitiationForm.value.customerAccount,customerId:this.cardInitiationForm.value.cifNumber,employmentType:this.cardInitiationForm.value.employmentType,existingCustomer:this.cardInitiationForm.value.existingCustomer,kycReference:this.kycRefrence,kycStatus:this.kycStatus,modificationNo:0,modifiedBy:"",modifiedTime:void 0,nameOnCard:this.cardInitiationForm.value.nameOnCard,status:"ONGOING"}).subscribe(function(t){e.ls.setItem("cardId",t.cardId),e.next()})}},{key:"next",value:function(){this.ls.setItem("CARD_INITIATION_DONE",!0),this.ls.setItem("Card_Applicant_name",this.cardInitiationForm.value.applicantName),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/customerInformation"])}},{key:"getCardInitiation",value:function(){var e=this;this.apiService.getCardInitiationDetails(this.cardId).subscribe(function(t){e.kycStatus=t.kycStatus,e.kycRefrence=t.kycReference,e.buildInitiationForm(t),e.apiService.fetchAccountIdByCustId(e.cifNumberPrimary).subscribe(function(t){var r;e.accountNoArr=t,e.cardInitiationForm.controls.customerAccount.setValue(null===(r=e.accountNoArr)||void 0===r?void 0:r[0])}),e.isExistingCustomer=1==t.existingCustomer})}},{key:"buildInitiationForm",value:function(e){var t=localStorage.getItem("ADD_ON_CARD");this.cardInitiationForm=this.formBuilder.group({cifNumber:[e?this.cifNumberPrimary:"",1==(null==e?void 0:e.existingCustomer)?[p.z.required]:[p.z.nullValidator]],existingCustomer:[!e||e.existingCustomer],cardType:[e?e.cardType:"",[p.z.required]],customerAccount:[e?e.customerAccount:"",1==(null==e?void 0:e.existingCustomer)?[p.z.required]:[p.z.nullValidator]],applicantName:[e?e.applicantName:""],currency:[e?e.currency:"",[p.z.required]],employmentType:[e?e.employmentType:"",[p.z.required]],affinityProgram:[e?e.affinityProgram:"",[p.z.required]],nameOnCard:[e?e.nameOnCard:"",[p.z.required]],addOnCard:["true"==t]}),this.selectedCurrency=null==e?void 0:e.currency,this.formControlValueChanged()}},{key:"formControlValueChanged",value:function(){var e=this,t=this.cardInitiationForm.get("cifNumber");this.cardInitiationForm.get("existingCustomer").valueChanges.subscribe(function(r){0==r?(e.cardInitiationForm.get("customerAccount").setValidators([p.z.nullValidator]),t.setValidators([p.z.nullValidator])):(e.cardInitiationForm.get("customerAccount").setValidators([p.z.required]),t.setValidators([p.z.required])),t.updateValueAndValidity()})}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEntryStage/list"])}},{key:"fetchByCif",value:function(e){var t=this;e&&(this.showSpinn=!0,this.appApiService.fetchByCif(e).subscribe(function(r){if(t.kycStatus=r.customerInfoList[0].customerAdditionalInfo.kycStatus,t.kycRefrence=r.customerInfoList[0].customerAdditionalInfo.kycReference,t.cardInitiationForm.controls.cifNumber.setValue(e),t.cardInitiationForm.controls.applicantName.setValue(r.customerInfoList[0].firstName+" "+r.customerInfoList[0].lastName),t.cardInitiationForm.controls.customerAccount.setValue(t.accountID),t.showSpinn=!1,!r)return t.isCifValid=!1,void t.snack.open("Invalid CIF Number","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"});var n;"APPROVED"!=r.customerInfoList[0].custStatus&&(t.isCifValid=!1),"APPROVED"==r.customerInfoList[0].custStatus&&(t.isCifValid=!0),n=r.customerInfoList[0].userAddress.length>1?r.customerInfoList[0].userAddress.find(function(e){return"Permanent"==e.addressType||"permanent"==e.addressType}):r.customerInfoList[0].userAddress[0];var a={prefix:r.customerInfoList[0].prefix,customerId:r.customerInfoList[0].customerId,firstName:r.customerInfoList[0].firstName,middleName:r.customerInfoList[0].middleName,lastName:r.customerInfoList[0].lastName,gender:r.customerInfoList[0].gender,dateOfBirth:t.convertDate(r.customerInfoList[0].dateOfBirth),placeOfBirth:r.customerInfoList[0].placeOfBirth,residenceStatus:r.customerInfoList[0].residenceStatus,nationality:r.customerInfoList[0].nationality,countryOfResidence:r.customerInfoList[0].countryOfResidence,occupationType:r.customerInfoList[0].occupationType,custIdProofs:r.customerInfoList[0].custIdProofs,idType:r.customerInfoList[0].custIdProofs.length>0?r.customerInfoList[0].custIdProofs[0].idType:"",idNumber:r.customerInfoList[0].custIdProofs.length>0?r.customerInfoList[0].custIdProofs[0].idNumber:"",expiryDate:r.customerInfoList[0].custIdProofs.length>0?t.convertDate(r.customerInfoList[0].custIdProofs[0].expiryDate):"",addressType:n.addressType,address1:n.address1,address2:n.address2,city:n.city,country:n.country,state:n.state,zipCode:n.zipCode,phoneNumber:r.customerInfoList[0].phoneNumber,landlineNumber:r.customerInfoList[0].landlineNumber,primaryEmailAdress:r.customerInfoList[0].primaryEmailAdress};null!=t.cardInitiationForm.value.swiftCode&&null!=t.cardInitiationForm.value.swiftCodeEnable||(t.flag=!1),t.cifNumberPrimary=e,t.ls.setItem("Card_CIF_NUM_PRIMARY",t.cifNumberPrimary),t.apiService.sendCIF(a),t.apiService.fetchAccountIdByCustId(e).subscribe(function(e){var r;t.accountNoArr=e,t.cardInitiationForm.controls.customerAccount.setValue(null===(r=t.accountNoArr)||void 0===r?void 0:r[0])}),t.cdr.markForCheck()}),this.getAccountData(e))}},{key:"changeEvent",value:function(e){this.cardType=e.value,this.iskycStatus=!0,this.isGoForKyc="APPROVED"==this.kycStatus}},{key:"goToKyc",value:function(){this.ls.setItem("cardType",this.cardType),this.ls.setItem("accountType","cardOrigination"),this.router.navigate(["/others/kyc"])}}]),a}(function(){function e(t){s(this,e),this.appApiService=t}return u(e,[{key:"onKeyPress",value:function(e){var t=this;8===e.keyCode?(this.onbackSpace=!0,this.isCifValid=!1):this.onbackSpace=!1;var r=String.fromCharCode(e.charCode);/[0-9]/.test(r)||e.preventDefault(),clearTimeout(this.timer),e.target.value?this.timer=setTimeout(function(){t.appApiService.fetchByCif(e.target.value).subscribe(function(e){console.log(e),e&&(t.listOfCustByCif=e.customerInfoList)})},1e3):(this.isCifValid=!1,this.cardInitiationForm.get("cifNumber").clearValidators(),this.cardInitiationForm.get("cifNumber").updateValueAndValidity(),this.cardInitiationForm.reset(),this.cardInitiationForm.get("existingCustomer").patchValue(!0),this.listOfCustByCif=[])}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"convertDate",value:function(e){var t=Ze(e).format("YYYY-MMM-DD");if(t)return t}}]),e}())).\u0275fac=function(e){return new(e||ca)(f.Rb(m.a),f.Rb(v.h),f.Rb(N.a),f.Rb(p.f),f.Rb(g.b),f.Rb(Je.a),f.Rb(h.a),f.Rb(f.h))},ca.\u0275cmp=f.Lb({type:ca,selectors:[["app-card-initiation"]],features:[f.Bb],decls:75,vars:18,consts:[[1,"matcard-size1"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_opinion_dxp8.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title"],[1,"p-0"],["visible","true"],["fxLayout","column",3,"formGroup"],["fxFlex","100%","fxLayoutGap","10px"],["fxFlex","50%",1,"flex-grow-1"],[1,"pb-1"],[1,"hint"],["name","scholarshipOrBusinessEligible","formControlName","existingCustomer",2,"margin-left","1cm",3,"change"],["class","flex-grow-1","fxFlex","100%","fxLayout","column",4,"ngIf"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],["appearance","outline",1,"full-width"],["formControlName","cardType","placeholder","Select",3,"selectionChange"],["value","Debit",4,"ngIf"],["value","Credit"],["value","Forex",4,"ngIf"],[4,"ngIf"],["class","pb-1",4,"ngIf"],["formControlName","affinityProgram","placeholder","Select"],["value","Affinity Program1"],["value","Affinity Program2"],["formControlName","employmentType","placeholder","Select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","addOnCard",2,"margin-left","1cm",3,"change"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],["fxFlex","100%","fxLayout","column",1,"flex-grow-1"],["fxFlex","100%"],[2,"color","#03a9f4"],["mat-button","",2,"text-decoration","underline",3,"disabled","click"],["value","Debit"],["value","Forex"],["matInput","","type","text","formControlName","cifNumber","placeholder","CIF Number",1,"alignment",3,"formControl","matAutocomplete","keypress","change","keyup"],["auto","matAutocomplete"],[3,"value"],["fxLayout","row wrap",2,"margin-top","20px"],["fxFlex"," 100"],["mat-card-avatar","","class","example-header-image-dropdown","fxFlex","10",4,"ngIf"],["mat-card-avatar","","fxFlex","10",4,"ngIf"],["fxFlex","80"],[2,"margin-bottom","0px"],[2,"margin-top","0px"],["mat-card-avatar","","fxFlex","10",1,"example-header-image-dropdown"],["align","center",2,"margin-top","5px","font-size","large"],["mat-card-avatar","","fxFlex","10"],["matListAvatar","","align","center","alt","...",2,"border-radius","50%","height","85%","margin-right","20px","width","100%","margin-bottom","50px",3,"src"],["formControlName","currency","placeholder","Select",3,"ngModel","ngModelChange"],["value",""],["matInput","","type","text","autocomplete","off","formControlName","currency","placeholder","currency","name","currency","readonly","",1,"alignment",3,"keypress"],["matInput","","type","text","formControlName","nameOnCard","placeholder","Name On Card","name","nameOnCard",1,"alignment",3,"keypress"],["formControlName","customerAccount"],["matInput","","type","text","autocomplete","off","formControlName","customerAccount","placeholder","Customer Account Number","name","customerAccount",1,"alignment",3,"keypress"],["matInput","","class","alignment","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",3,"keypress",4,"ngIf"],["matInput","","type","text","readonly","","formControlName","applicantName","placeholder","Applicant Name",1,"alignment",3,"keypress"],["matInput","","class","alignment","type","text","formControlName","applicantName","placeholder","Applicant Name",3,"keypress",4,"ngIf"],["matInput","","type","text","formControlName","applicantName","placeholder","Applicant Name",1,"alignment",3,"keypress"],["matInput","","type","text","formControlName","nameOnCard","placeholder","Name On Card",1,"alignment",3,"keypress"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Card Initiation"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(9,"div",1),f.Xb(10,"div",2),f.Xb(11,"mat-card",7),f.Xb(12,"mat-card-title"),f.Xb(13,"fieldset"),f.Xb(14,"legend",8),f.Tc(15,"Card Initiation"),f.Wb(),f.Wb(),f.Wb(),f.Xb(16,"mat-card-content"),f.Xb(17,"form",9),f.Xb(18,"div",10),f.Xb(19,"div",11),f.Xb(20,"div",12),f.Xb(21,"label",13),f.Tc(22,"Existing Customer *"),f.Wb(),f.Xb(23,"mat-slide-toggle",14),f.fc("change",function(e){return t.goToggle(e)}),f.Wb(),f.Wb(),f.Rc(24,wn,16,3,"div",15),f.Wb(),f.Wb(),f.Xb(25,"div",16),f.Xb(26,"div",17),f.Xb(27,"div",12),f.Xb(28,"mat-form-field",18),f.Xb(29,"mat-label",13),f.Tc(30,"Card Type *"),f.Wb(),f.Xb(31,"mat-select",19),f.fc("selectionChange",function(e){return t.changeEvent(e)}),f.Rc(32,_n,2,0,"mat-option",20),f.Xb(33,"mat-option",21),f.Tc(34,"Credit"),f.Wb(),f.Rc(35,Pn,2,0,"mat-option",22),f.Wb(),f.Rc(36,Nn,2,0,"mat-error",23),f.Wb(),f.Wb(),f.Rc(37,Vn,11,4,"div",24),f.Rc(38,zn,9,3,"div",24),f.Rc(39,Un,6,1,"div",24),f.Xb(40,"div",12),f.Xb(41,"mat-form-field",18),f.Xb(42,"mat-label",13),f.Tc(43,"Affinity Program *"),f.Wb(),f.Xb(44,"mat-select",25),f.Xb(45,"mat-option",26),f.Tc(46,"Affinity Program1"),f.Wb(),f.Xb(47,"mat-option",27),f.Tc(48,"Affinity Program2"),f.Wb(),f.Wb(),f.Rc(49,Gn,2,0,"mat-error",23),f.Wb(),f.Wb(),f.Rc(50,Yn,6,1,"div",24),f.Wb(),f.Xb(51,"div",17),f.Rc(52,Kn,7,2,"div",24),f.Rc(53,Zn,6,1,"div",24),f.Rc(54,ta,5,1,"div",24),f.Rc(55,na,5,1,"div",24),f.Xb(56,"div",12),f.Xb(57,"mat-form-field",18),f.Xb(58,"mat-label",13),f.Tc(59,"Employment Type *"),f.Wb(),f.Xb(60,"mat-select",28),f.Rc(61,aa,2,2,"mat-option",29),f.Wb(),f.Rc(62,ia,2,0,"mat-error",23),f.Wb(),f.Wb(),f.Rc(63,oa,5,0,"div",24),f.Wb(),f.Wb(),f.Xb(64,"div",10),f.Xb(65,"div",11),f.Xb(66,"div",12),f.Xb(67,"label",13),f.Tc(68,"Addon Card"),f.Wb(),f.Xb(69,"mat-slide-toggle",30),f.fc("change",function(e){return t.addOnCard(e)}),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(70,"div",31),f.Xb(71,"button",32),f.fc("click",function(){return t.goBack()}),f.Tc(72," Back "),f.Wb(),f.Xb(73,"button",33),f.fc("click",function(){return t.onSubmit()}),f.Tc(74," Next "),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(17),f.rc("formGroup",t.cardInitiationForm),f.Eb(7),f.rc("ngIf",t.iskycStatus),f.Eb(8),f.rc("ngIf",t.isExistingCustomer),f.Eb(3),f.rc("ngIf",t.isExistingCustomer),f.Eb(1),f.rc("ngIf",!t.cardInitiationForm.get("cardType").valid&&t.cardInitiationForm.get("cardType").touched),f.Eb(1),f.rc("ngIf",t.isExistingCustomer),f.Eb(1),f.rc("ngIf",!t.isExistingCustomer),f.Eb(1),f.rc("ngIf",t.isExistingCustomer),f.Eb(10),f.rc("ngIf",!t.cardInitiationForm.get("affinityProgram").valid&&t.cardInitiationForm.get("affinityProgram").touched),f.Eb(1),f.rc("ngIf",!t.isExistingCustomer),f.Eb(2),f.rc("ngIf",t.isExistingCustomer),f.Eb(1),f.rc("ngIf",!t.isExistingCustomer),f.Eb(1),f.rc("ngIf",t.isExistingCustomer),f.Eb(1),f.rc("ngIf",!t.isExistingCustomer),f.Eb(6),f.rc("ngForOf",t.arrayofEmployment),f.Eb(1),f.rc("ngIf",!t.cardInitiationForm.get("employmentType").valid&&t.cardInitiationForm.get("employmentType").touched),f.Eb(1),f.rc("ngIf",t.isExistingCustomer),f.Eb(10),f.rc("disabled",!t.isExistingCustomer||t.isExistingCustomer||"Credit"!==t.cardInitiationForm.get("cardType").value?!t.cardInitiationForm.valid:!t.cardInitiationForm.valid||!t.isGoForKyc))},directives:[W.e,W.b,C.a,C.h,C.d,p.A,p.s,p.j,W.f,nt.a,p.r,p.i,c.n,I.c,I.g,tt.a,rt.n,c.m,W.d,x.b,I.b,X.b,p.c,b.c,p.h,b.a,C.c,st.b],pipes:[c.w,c.v],styles:[".alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:13px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}#toggle[_ngcontent-%COMP%]{margin-top:-2%;margin-left:6.3cm}  .cdk-overlay-pane{margin-top:-10px!important;padding-left:15px!important}  .mat-card-avatar{max-width:15%!important}.example-header-image-dropdown[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;background-size:cover;background-color:#aed6f1;max-width:15%!important;width:25px;height:35px;border-radius:50%}.main-title[_ngcontent-%COMP%]{font-weight:600;font-size:20px} .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:#f5f5f5}  .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background-color:#24cca7}  .mat-autocomplete-panel{margin:10px!important;min-width:107%!important;left:-6%!important;background-color:red}"]}),ca);function la(e,t){if(1&e&&(f.Xb(0,"mat-option",73),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function ua(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please select the Employment Type "),f.Wb())}function ba(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please enter the Employee Number "),f.Wb())}function da(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please enter the Designation "),f.Wb())}function ma(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Employment Start Date is Required! "),f.Wb())}function pa(e,t){if(1&e&&(f.Xb(0,"mat-option",73),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function ga(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please select the Employment Category "),f.Wb())}function fa(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please enter the Office Name "),f.Wb())}function ha(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Employment End Date is Required! "),f.Wb())}function ya(e,t){if(1&e){var r=f.Yb();f.Xb(0,"form",8),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"mat-card",9),f.Xb(4,"mat-card-title"),f.Xb(5,"fieldset"),f.Xb(6,"legend",10),f.Tc(7,"Financial Details"),f.Wb(),f.Wb(),f.Wb(),f.Xb(8,"mat-card-content"),f.Xb(9,"div",11),f.Xb(10,"div",12),f.Xb(11,"div",13),f.Xb(12,"mat-form-field",14),f.Xb(13,"mat-label"),f.Tc(14,"Applicant Name"),f.Wb(),f.Sb(15,"input",15),f.Wb(),f.Wb(),f.Xb(16,"div",13),f.Xb(17,"mat-form-field",14),f.Xb(18,"mat-label"),f.Tc(19,"Total Income*"),f.Wb(),f.Xb(20,"span",16),f.Tc(21),f.Wb(),f.Sb(22,"input",17),f.Wb(),f.Wb(),f.Xb(23,"div",13),f.Xb(24,"mat-form-field",14),f.Xb(25,"mat-label"),f.Tc(26,"Last Update On"),f.Wb(),f.Sb(27,"input",18),f.Sb(28,"mat-datepicker-toggle",19),f.Sb(29,"mat-datepicker",null,20),f.Wb(),f.Wb(),f.Wb(),f.Xb(31,"div",12),f.Xb(32,"div",13),f.Xb(33,"mat-form-field",14),f.Xb(34,"mat-label"),f.Tc(35,"Currently Working"),f.Wb(),f.Sb(36,"input",21),f.Wb(),f.Wb(),f.Xb(37,"div",13),f.Xb(38,"mat-form-field",14),f.Xb(39,"mat-label"),f.Tc(40,"Total Expenses*"),f.Wb(),f.Xb(41,"span",22),f.Tc(42),f.Wb(),f.Sb(43,"input",23),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(44,"mat-card",9),f.Xb(45,"mat-card-title",24),f.Xb(46,"div",25),f.Tc(47,"Employment Details"),f.Wb(),f.Sb(48,"mat-divider"),f.Wb(),f.Xb(49,"mat-card-content"),f.Xb(50,"div",11),f.Xb(51,"div",12),f.Xb(52,"div",13),f.Xb(53,"mat-form-field",14),f.Xb(54,"mat-label"),f.Tc(55,"Employment Type *"),f.Wb(),f.Xb(56,"mat-select",26),f.Rc(57,la,2,2,"mat-option",27),f.Wb(),f.Rc(58,ua,2,0,"mat-error",28),f.Wb(),f.Wb(),f.Xb(59,"div",13),f.Xb(60,"mat-form-field",14),f.Xb(61,"mat-label"),f.Tc(62,"Employee number"),f.Wb(),f.Xb(63,"input",29),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)}),f.Wb(),f.Rc(64,ba,2,0,"mat-error",28),f.Wb(),f.Wb(),f.Xb(65,"div",13),f.Xb(66,"mat-form-field",14),f.Xb(67,"mat-label"),f.Tc(68,"Designation"),f.Wb(),f.Xb(69,"input",30),f.fc("keypress",function(e){return f.Hc(r),f.jc().letterOnly(e)}),f.Wb(),f.Rc(70,da,2,0,"mat-error",28),f.Wb(),f.Wb(),f.Xb(71,"div",13),f.Xb(72,"mat-form-field",14),f.Xb(73,"mat-label"),f.Tc(74,"Employment Start Date *"),f.Wb(),f.Sb(75,"input",31),f.Sb(76,"mat-datepicker-toggle",19),f.Sb(77,"mat-datepicker",null,32),f.Rc(79,ma,2,0,"mat-error",28),f.Wb(),f.Wb(),f.Wb(),f.Xb(80,"div",12),f.Xb(81,"div",13),f.Xb(82,"mat-form-field",14),f.Xb(83,"mat-label"),f.Tc(84,"Employment Category *"),f.Wb(),f.Xb(85,"mat-select",33),f.Rc(86,pa,2,2,"mat-option",27),f.Wb(),f.Rc(87,ga,2,0,"mat-error",28),f.Wb(),f.Wb(),f.Xb(88,"div",13),f.Xb(89,"mat-form-field",14),f.Xb(90,"mat-label"),f.Tc(91,"Office Name"),f.Wb(),f.Xb(92,"input",34),f.fc("keypress",function(e){return f.Hc(r),f.jc().letterOnly(e)}),f.Wb(),f.Rc(93,fa,2,0,"mat-error",28),f.Wb(),f.Wb(),f.Xb(94,"div",13),f.Xb(95,"mat-form-field",14),f.Xb(96,"mat-label"),f.Tc(97,"Employment End Date"),f.Wb(),f.Sb(98,"input",35),f.Sb(99,"mat-datepicker-toggle",19),f.Sb(100,"mat-datepicker",null,36),f.Rc(102,ha,2,0,"mat-error",28),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(103,"mat-card",9),f.Xb(104,"mat-card-title",24),f.Xb(105,"div",25),f.Tc(106," Monthly Income "),f.Xb(107,"div",37),f.Tc(108),f.Wb(),f.Wb(),f.Sb(109,"mat-divider"),f.Wb(),f.Xb(110,"mat-card-content"),f.Xb(111,"div",11),f.Xb(112,"div",12),f.Xb(113,"div",13),f.Xb(114,"mat-form-field",14),f.Xb(115,"mat-label"),f.Tc(116,"Bonus"),f.Wb(),f.Xb(117,"input",38),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(118,"div",13),f.Xb(119,"mat-form-field",14),f.Xb(120,"mat-label"),f.Tc(121,"Interest Income"),f.Wb(),f.Xb(122,"input",39),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(123,"div",13),f.Xb(124,"mat-form-field",14),f.Xb(125,"mat-label"),f.Tc(126,"Salary"),f.Wb(),f.Xb(127,"input",40),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(128,"div",13),f.Xb(129,"mat-form-field",14),f.Xb(130,"mat-label"),f.Tc(131,"Cash Gifts"),f.Wb(),f.Xb(132,"input",41),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(133,"div",13),f.Xb(134,"mat-form-field",14),f.Xb(135,"mat-label"),f.Tc(136,"Total"),f.Wb(),f.Sb(137,"input",42),f.Wb(),f.Wb(),f.Wb(),f.Xb(138,"div",12),f.Xb(139,"div",13),f.Xb(140,"mat-form-field",14),f.Xb(141,"mat-label"),f.Tc(142,"Business"),f.Wb(),f.Xb(143,"input",43),f.fc("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)})("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(144,"div",13),f.Xb(145,"mat-form-field",14),f.Xb(146,"mat-label"),f.Tc(147,"Pension"),f.Wb(),f.Xb(148,"input",44),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(149,"div",13),f.Xb(150,"mat-form-field",14),f.Xb(151,"mat-label"),f.Tc(152,"Rentals"),f.Wb(),f.Xb(153,"input",45),f.fc("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)})("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(154,"div",13),f.Xb(155,"mat-form-field",14),f.Xb(156,"mat-label"),f.Tc(157,"Others"),f.Wb(),f.Xb(158,"input",46),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyIncome(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(159,"mat-card",9),f.Xb(160,"mat-card-title",24),f.Xb(161,"div",25),f.Tc(162," Monthly Expenses "),f.Xb(163,"div",37),f.Tc(164),f.Wb(),f.Wb(),f.Sb(165,"mat-divider"),f.Wb(),f.Xb(166,"mat-card-content"),f.Xb(167,"div",11),f.Xb(168,"div",12),f.Xb(169,"div",13),f.Xb(170,"mat-form-field",14),f.Xb(171,"mat-label"),f.Tc(172,"Household"),f.Wb(),f.Xb(173,"input",47),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(174,"div",13),f.Xb(175,"mat-form-field",14),f.Xb(176,"mat-label"),f.Tc(177,"Education"),f.Wb(),f.Xb(178,"input",48),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(179,"div",13),f.Xb(180,"mat-form-field",14),f.Xb(181,"mat-label"),f.Tc(182,"Vehicle Maintenance"),f.Wb(),f.Xb(183,"input",49),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(184,"div",13),f.Xb(185,"mat-form-field",14),f.Xb(186,"mat-label"),f.Tc(187,"Others"),f.Wb(),f.Xb(188,"input",50),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(189,"div",13),f.Xb(190,"mat-form-field",14),f.Xb(191,"mat-label"),f.Tc(192,"Total"),f.Wb(),f.Sb(193,"input",51),f.Wb(),f.Wb(),f.Wb(),f.Xb(194,"div",12),f.Xb(195,"div",13),f.Xb(196,"mat-form-field",14),f.Xb(197,"mat-label"),f.Tc(198,"Medical"),f.Wb(),f.Xb(199,"input",52),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(200,"div",13),f.Xb(201,"mat-form-field",14),f.Xb(202,"mat-label"),f.Tc(203,"Travel"),f.Wb(),f.Xb(204,"input",53),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(205,"div",13),f.Xb(206,"mat-form-field",14),f.Xb(207,"mat-label"),f.Tc(208,"Rentals"),f.Wb(),f.Xb(209,"input",54),f.fc("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalMonthlyExpenses(e.cardFinancialDetailsForm.value)})("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)}),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(210,"mat-card",9),f.Xb(211,"mat-card-title",24),f.Xb(212,"div",25),f.Tc(213," Annual Liabilities "),f.Xb(214,"div",37),f.Tc(215),f.Wb(),f.Wb(),f.Sb(216,"mat-divider"),f.Wb(),f.Xb(217,"mat-card-content"),f.Xb(218,"div",11),f.Xb(219,"div",12),f.Xb(220,"div",13),f.Xb(221,"mat-form-field",14),f.Xb(222,"mat-label"),f.Tc(223,"Property Loans"),f.Wb(),f.Xb(224,"input",55),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(225,"div",13),f.Xb(226,"mat-form-field",14),f.Xb(227,"mat-label"),f.Tc(228,"Personal Loans"),f.Wb(),f.Xb(229,"input",56),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(230,"div",13),f.Xb(231,"mat-form-field",14),f.Xb(232,"mat-label"),f.Tc(233,"Overdrafts"),f.Wb(),f.Xb(234,"input",57),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(235,"div",13),f.Xb(236,"mat-form-field",14),f.Xb(237,"mat-label"),f.Tc(238,"Total"),f.Wb(),f.Sb(239,"input",58),f.Wb(),f.Wb(),f.Wb(),f.Xb(240,"div",12),f.Xb(241,"div",13),f.Xb(242,"mat-form-field",14),f.Xb(243,"mat-label"),f.Tc(244,"Vehicle Loans"),f.Wb(),f.Xb(245,"input",59),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(246,"div",13),f.Xb(247,"mat-form-field",14),f.Xb(248,"mat-label"),f.Tc(249,"Cards Outstanding's"),f.Wb(),f.Xb(250,"input",60),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(251,"div",13),f.Xb(252,"mat-form-field",14),f.Xb(253,"mat-label"),f.Tc(254,"Others"),f.Wb(),f.Xb(255,"input",61),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalLiabilities(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(256,"mat-card",9),f.Xb(257,"mat-card-title",24),f.Xb(258,"div",25),f.Tc(259," Asset "),f.Xb(260,"div",37),f.Tc(261),f.Wb(),f.Wb(),f.Sb(262,"mat-divider"),f.Wb(),f.Xb(263,"mat-card-content"),f.Xb(264,"div",11),f.Xb(265,"div",12),f.Xb(266,"div",13),f.Xb(267,"mat-form-field",14),f.Xb(268,"mat-label"),f.Tc(269,"Savings Deposits"),f.Wb(),f.Xb(270,"input",62),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(271,"div",13),f.Xb(272,"mat-form-field",14),f.Xb(273,"mat-label"),f.Tc(274,"Properties"),f.Wb(),f.Xb(275,"input",63),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(276,"div",13),f.Xb(277,"mat-form-field",14),f.Xb(278,"mat-label"),f.Tc(279,"Fixed Deposits"),f.Wb(),f.Xb(280,"input",64),f.fc("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)})("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(281,"div",13),f.Xb(282,"mat-form-field",14),f.Xb(283,"mat-label"),f.Tc(284,"Others"),f.Wb(),f.Xb(285,"input",65),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(286,"div",13),f.Xb(287,"mat-form-field",14),f.Xb(288,"mat-label"),f.Tc(289,"Total"),f.Wb(),f.Sb(290,"input",66),f.Wb(),f.Wb(),f.Wb(),f.Xb(291,"div",12),f.Xb(292,"div",13),f.Xb(293,"mat-form-field",14),f.Xb(294,"mat-label"),f.Tc(295,"Stocks/Funds"),f.Wb(),f.Xb(296,"input",67),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(297,"div",13),f.Xb(298,"mat-form-field",14),f.Xb(299,"mat-label"),f.Tc(300,"Automobiles"),f.Wb(),f.Xb(301,"input",68),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(302,"div",13),f.Xb(303,"mat-form-field",14),f.Xb(304,"mat-label"),f.Tc(305,"Lands"),f.Wb(),f.Xb(306,"input",69),f.fc("keypress",function(e){return f.Hc(r),f.jc()._keyPress(e)})("input",function(){f.Hc(r);var e=f.jc();return e.calculateTotalAssets(e.cardFinancialDetailsForm.value)}),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(307,"div",1),f.Xb(308,"div",2),f.Xb(309,"div",70),f.Xb(310,"button",71),f.fc("click",function(){return f.Hc(r),f.jc().goBack()}),f.Tc(311," Back "),f.Wb(),f.Xb(312,"button",72),f.fc("click",function(){return f.Hc(r),f.jc().onSubmit()}),f.Tc(313," Next "),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=f.Dc(30),a=f.Dc(78),i=f.Dc(101),o=f.jc();f.rc("formGroup",o.cardFinancialDetailsForm),f.Eb(21),f.Vc("",o.currencySymbol,"\xa0"),f.Eb(6),f.rc("matDatepicker",n)("max",o.lastData),f.Eb(1),f.rc("for",n),f.Eb(14),f.Vc("",o.currencySymbol,"\xa0"),f.Eb(15),f.rc("ngForOf",o.arrayEmploymentType),f.Eb(1),f.rc("ngIf",o.cardFinancialDetailsForm.get("employmentType").hasError("required")),f.Eb(5),f.rc("required","Salaried"==o.cardFinancialDetailsForm.get("employmentType").value),f.Eb(1),f.rc("ngIf",o.cardFinancialDetailsForm.get("employeeNumber").hasError("required")),f.Eb(5),f.rc("required","Salaried"==o.cardFinancialDetailsForm.get("employmentType").value),f.Eb(1),f.rc("ngIf",o.cardFinancialDetailsForm.get("designation").hasError("required")),f.Eb(5),f.rc("max",o.maxDate)("matDatepicker",a),f.Eb(1),f.rc("for",a),f.Eb(3),f.rc("ngIf",o.cardFinancialDetailsForm.get("employmentStartDate").hasError("required")),f.Eb(7),f.rc("ngForOf",o.arrayEmploymentCategory),f.Eb(1),f.rc("ngIf",o.cardFinancialDetailsForm.get("employmentCategory").hasError("required")),f.Eb(5),f.rc("required","Salaried"==o.cardFinancialDetailsForm.get("employmentType").value),f.Eb(1),f.rc("ngIf",o.cardFinancialDetailsForm.get("officeName").hasError("required")),f.Eb(5),f.rc("matDatepicker",i)("min",o.cardFinancialDetailsForm.get("employmentStartDate").value),f.Eb(1),f.rc("for",i),f.Eb(3),f.rc("ngIf",o.cardFinancialDetailsForm.get("employmentEndDate").hasError("required")),f.Eb(6),f.Uc(o.incomeErrMsg),f.Eb(56),f.Uc(o.ExpensesErrMsg),f.Eb(51),f.Uc(o.LiabilitiesErrMsg),f.Eb(46),f.Uc(o.assetErrMsg),f.Eb(51),f.rc("disabled",o.incomeErrMsg||o.ExpensesErrMsg||o.LiabilitiesErrMsg||o.assetErrMsg||!o.cardFinancialDetailsForm.valid)}}var va,Ca=((va=function(e){t(a,e);var r=n(a);function a(e,t,n,i,o,c,l){var u;return s(this,a),(u=r.call(this)).formBuilder=e,u.api=t,u.snack=n,u.accountService=i,u.router=o,u.ls=c,u.cdr=l,u.disableNext=!1,u.showEditOption=!1,u.minDate=new Date,u.maxDate=new Date,u.lastData=(new Date).toISOString().slice(0,10),u}return u(a,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.currencytype=localStorage.getItem("Currency Type"),"INR"===this.currencytype?this.currencySymbol="\u20b9":"USD"===this.currencytype?this.currencySymbol="$":"CNY"===this.currencytype?this.currencySymbol="\xa5":"GBP"===this.currencytype?this.currencySymbol="\xa3":"ZAR"===this.currencytype&&(this.currencySymbol="R"),this.applicantName=this.ls.getItem("primaryCustomerName");var t=JSON.parse(this.ls.getItem("CARD_FINANCIAL_DONE"));this.getEmploymentType("fin_employment_type"),this.getEmploymentCategory("employment_category"),null!=this.cardId&&t?(this.showEditOption=!0,this.getCardFinancialDetailsSummary()):(this.showEditOption=!1,setTimeout(function(){e.buildFinacialFormGroup()},200))}},{key:"getCardFinancialDetailsSummary",value:function(){var e=this;this.api.getCardFinancialDetails(this.cardId).subscribe(function(t){e.buildFinacialFormGroup(t[t.length-1])})}},{key:"getEmploymentType",value:function(e){var t=this;this.api.getDropDownValues(e).subscribe(function(e){t.arrayEmploymentType=e})}},{key:"getEmploymentCategory",value:function(e){var t=this;this.api.getDropDownValues(e).subscribe(function(e){t.arrayEmploymentCategory=e})}},{key:"buildFinacialFormGroup",value:function(e){var t=this;this.cardFinancialDetailsForm=this.formBuilder.group({applicantName:[e?e.applicantName:this.ls.getItem("Card_Applicant_name"),p.z.required],currentlyWorking:[e?e.currentlyWorking:""],applicantTotalIncome:[e?e.applicantTotalIncome:0,p.z.required],applicantTotalExpense:[e?e.applicantTotalExpense:0,p.z.required],lastUpdatedon:[e&&(null==e?void 0:e.lastUpdatedon)?new Date(e.lastUpdatedon):""],employmentType:[e?e.employmentType:"",p.z.required],employmentCategory:[e?e.employmentCategory:"",p.z.required],employeeNumber:[e?e.employeeNumber:""],officeName:[e?e.officeName:""],designation:[e?e.designation:""],employmentStartDate:[e&&(null==e?void 0:e.employmentStartDate)?new Date(e.employmentStartDate):"",p.z.required],employmentEndDate:[e&&(null==e?void 0:e.employmentEndDate)?new Date(e.employmentEndDate):""],salary:[e?e.salary:""],interestIncome:[e?e.interestIncome:""],bonus:[e?e.bonus:""],cashGifts:[e?e.cashGifts:""],business:[e?e.business:""],pension:[e?e.pension:""],monthlyIncomeRentals:[e?e.monthlyIncomeRentals:""],monthlyIncomeOthers:[e?e.monthlyIncomeOthers:""],monthlyIncomeTotal:[e?e.monthlyIncomeTotal:0],household:[e?e.household:""],education:[e?e.education:""],vehicleMaintenance:[e?e.vehicleMaintenance:""],monthlyExpenseRentals:[e?e.monthlyExpenseRentals:""],monthlyExpenseOthers:[e?e.monthlyExpenseOthers:""],medical:[e?e.medical:""],travel:[e?e.travel:""],monthlyExpenseTotal:[e?e.monthlyExpenseTotal:0],propertyLoan:[e?e.propertyLoan:""],vehicleLoan:[e?e.vehicleLoan:""],personalLoans:[e?e.personalLoans:""],overdraft:[e?e.overdraft:""],cardOutstandings:[e?e.cardOutstandings:""],liabilityOthers:[e?e.liabilityOthers:""],liabilityTotal:[e?e.liabilityTotal:0],savingDeposits:[e?e.savingDeposits:""],properties:[e?e.properties:""],automobiles:[e?e.automobiles:""],fixedDeposits:[e?e.fixedDeposits:""],lands:[e?e.lands:""],assetOthers:[e?e.assetOthers:""],stocks:[e?e.stocks:""],assetTotal:[e?e.assetTotal:0]},{validator:function(e){return t.validateInputGroups(e)}})}},{key:"validateInputGroups",value:function(e){e.controls.salary.value||e.controls.interestIncome.value||e.controls.bonus.value||e.controls.cashGifts.value||e.controls.business.value||e.controls.pension.value||e.controls.monthlyIncomeRentals.value||e.controls.monthlyIncomeOthers.value?(this.incomeErrMsg=null,this.disableNext=!0):(this.incomeErrMsg="Entering any one field is mandatory for Monthly Income Section",this.disableNext=!1),e.controls.household.value||e.controls.education.value||e.controls.vehicleMaintenance.value||e.controls.monthlyExpenseRentals.value||e.controls.monthlyExpenseOthers.value||e.controls.medical.value||e.controls.travel.value?(this.ExpensesErrMsg=null,this.disableNext=!0):(this.ExpensesErrMsg="Entering any one field is mandatory for Monthly Expenses Section",this.disableNext=!1),e.controls.propertyLoan.value||e.controls.vehicleLoan.value||e.controls.personalLoans.value||e.controls.overdraft.value||e.controls.cardOutstandings.value||e.controls.liabilityOthers.value?(this.LiabilitiesErrMsg=null,this.disableNext=!0):(this.LiabilitiesErrMsg="Entering any one field is mandatory for Annual Liabilities Section",this.disableNext=!1),e.controls.savingDeposits.value||e.controls.properties.value||e.controls.automobiles.value||e.controls.fixedDeposits.value||e.controls.lands.value||e.controls.assetOthers.value||e.controls.stocks.value?(this.assetErrMsg=null,this.disableNext=!0):(this.assetErrMsg="Entering any one field is mandatory for Asset Section",this.disableNext=!1)}},{key:"onSubmit",value:function(){var e=this,t=this.converDate(this.cardFinancialDetailsForm.controls.employmentStartDate.value);this.cardFinancialDetailsForm.value.employmentStartDate=t&&"Invalid date"!=t?t:null;var r=this.converDate(this.cardFinancialDetailsForm.controls.employmentEndDate.value);this.cardFinancialDetailsForm.value.employmentEndDate=r&&"Invalid date"!=r?r:null;var n=Ze(this.cardFinancialDetailsForm.controls.lastUpdatedon.value).format("YYYY-MM-DD HH:MM:SS");this.cardFinancialDetailsForm.value.lastUpdatedon=n&&"Invalid date"!=n?n:null,this.cardFinancialDetailsForm.value.accountType="cardOrigin",this.cardFinancialDetailsForm.value.cardId=this.cardId;var a=[];a.push(this.cardFinancialDetailsForm.value),this.api.upsertCardFinancialDetails(a).subscribe(function(t){e.snack.open("Financial Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.next()},function(t){e.snack.open("Error Unable to Save!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})})}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEntryStage/list/customerInformation"])}},{key:"next",value:function(){this.ls.setItem("CARD_FINANCIAL_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list/cardPrefrence"])}},{key:"calculateTotalMonthlyIncome",value:function(e){var t=Number(e.salary)+Number(e.business)+Number(e.interestIncome)+Number(e.pension)+Number(e.bonus)+Number(e.monthlyIncomeOthers)+Number(e.monthlyIncomeRentals)+Number(e.cashGifts);this.cardFinancialDetailsForm.controls.monthlyIncomeTotal.setValue(t),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}},{key:"calculateTotalMonthlyExpenses",value:function(e){var t=Number(e.household)+Number(e.education)+Number(e.vehicleMaintenance)+Number(e.monthlyExpenseOthers)+Number(e.medical)+Number(e.travel)+Number(e.monthlyExpenseRentals);this.cardFinancialDetailsForm.controls.monthlyExpenseTotal.setValue(t),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}},{key:"calculateTotalLiabilities",value:function(e){var t=Number(e.propertyLoan)+Number(e.personalLoans)+Number(e.overdraft)+Number(e.vehicleLoan)+Number(e.cardOutstandings)+Number(e.liabilityOthers);this.cardFinancialDetailsForm.controls.liabilityTotal.setValue(t),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}},{key:"calculateTotalAssets",value:function(e){var t=Number(e.savingDeposits)+Number(e.properties)+Number(e.fixedDeposits)+Number(e.stocks)+Number(e.automobiles)+Number(e.lands)+Number(e.assetOthers);this.cardFinancialDetailsForm.controls.assetTotal.setValue(t),this.cdr.markForCheck(),this.cdr.detectChanges(),this.calculateTotalIncomeAndExpense(this.cardFinancialDetailsForm.value)}},{key:"calculateTotalIncomeAndExpense",value:function(e){var t=12*e.monthlyExpenseTotal+e.liabilityTotal;this.cardFinancialDetailsForm.controls.applicantTotalIncome.setValue(12*e.monthlyIncomeTotal+e.assetTotal),this.cardFinancialDetailsForm.controls.applicantTotalExpense.setValue(t),this.cdr.markForCheck(),this.cdr.detectChanges()}}]),a}(function(){function e(){s(this,e)}return u(e,[{key:"converDate",value:function(e){var t=Ze(e).format("YYYY-MMM-DD");if(t)return t}},{key:"letterOnly",value:function(e){var t=e.keyCode;return t>64&&t<91||t>96&&t<123||8==t}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}}]),e}())).\u0275fac=function(e){return new(e||va)(f.Rb(p.f),f.Rb(g.b),f.Rb(h.a),f.Rb(N.a),f.Rb(v.h),f.Rb(m.a),f.Rb(f.h))},va.\u0275cmp=f.Lb({type:va,selectors:[["app-financial-details"]],features:[f.Bb],decls:10,vars:1,consts:[[1,"matcard-size"],["fxLayout","row"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_2.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"p-0"],["visible","true"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["matInput","","formControlName","applicantName","placeholder","Applicant Name"],["matPrefix",""],["matInput","","type","number","formControlName","applicantTotalIncome","placeholder","Total Income"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","lastUpdatedon",1,"alignment",3,"matDatepicker","max"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","text","formControlName","currentlyWorking","placeholder","Currently Working"],["matPrefix","",1,"curr_icon"],["matInput","","type","number","formControlName","applicantTotalExpense","placeholder","Total  Expenses"],[1,""],[1,"card-title-text"],["formControlName","employmentType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","maxLength","5","formControlName","employeeNumber","placeholder","Employee Number",3,"required","keypress"],["matInput","","maxlength","20","name","Designation","formControlName","designation","placeholder","Designation",3,"required","keypress"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentStartDate",1,"alignment",3,"max","matDatepicker"],["start",""],["name","employmentCategory","formControlName","employmentCategory"],["matInput","","maxlength","20","name","Office Name","formControlName","officeName","placeholder","Office Name",3,"required","keypress"],["matInput","","id","dob","readonly","","value","offerIssueDate","placeholder","DD/MM/YYYY","formControlName","employmentEndDate",1,"alignment",3,"matDatepicker","min"],["end",""],[1,"ErrMsg"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","bonus","name","bonus","placeholder","Bonus",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","interestIncome","name","interestIncome","placeholder","Interest Income",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","salary","name","salary","placeholder","Salary",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","cashGifts","name","cashGifts","placeholder","Cash Gifts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyIncomeTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","business","formControlName","business","placeholder","Business",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","pension","formControlName","pension","placeholder","Pension",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeRentals","formControlName","monthlyIncomeRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","monthlyIncomeOthers","formControlName","monthlyIncomeOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","household","name","household","placeholder","Household",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","education","name","mod","placeholder","Education",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleMaintenance","name","mod","placeholder","Vehicle Maintenance",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","monthlyExpenseTotal","name","monthlyExpenseTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","name","medical","formControlName","medical","placeholder","Medical",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","travel","placeholder","Travel",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","a_sig","formControlName","monthlyExpenseRentals","placeholder","Rentals",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","propertyLoan","placeholder","Property Loan","formControlName","propertyLoan",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","personalLoans","formControlName","personalLoans","placeholder","Personal Loans",3,"keypress","input"],["matInput","","maxlength","10","name","overdraft","type","text","onlyNumber","","formControlName","overdraft","placeholder","Overdrafts",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityTotal","placeholder","Total","formControlName","liabilityTotal","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","formControlName","vehicleLoan","name","vehicleLoan","placeholder","Vehicle Loans",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","cardOutstandings","formControlName","cardOutstandings","placeholder","Cards Outstanding's",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","liabilityOthers","formControlName","liabilityOthers","placeholder","Others",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","savingDeposits","placeholder","Saving Deposits","formControlName","savingDeposits",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","properties","formControlName","properties","placeholder","Properties",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","fixedDeposits","formControlName","fixedDeposits","placeholder","Fixed Deposits",3,"input","keypress"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetOthers","placeholder","Others","formControlName","assetOthers",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","assetTotal","formControlName","assetTotal","placeholder","Total","readonly",""],["matInput","","maxlength","10","type","text","onlyNumber","","placeholder","Stocks/Funds","formControlName","stocks",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","automobiles","placeholder","Automobiles","formControlName","automobiles",3,"keypress","input"],["matInput","","maxlength","10","type","text","onlyNumber","","name","lands","placeholder","Lands","formControlName","lands",3,"keypress","input"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Tc(7,"Financial Details"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(8,"div"),f.Rc(9,ya,314,29,"form",7),f.Wb(),f.Wb()),2&e&&(f.Eb(9),f.rc("ngIf",t.cardFinancialDetailsForm))},directives:[W.e,W.b,c.n,p.A,p.s,p.j,C.a,C.h,C.d,W.f,I.c,I.g,X.b,p.c,p.r,p.i,I.i,p.v,ot.e,ot.g,I.j,ot.d,E.a,tt.a,c.m,p.y,p.m,ct.a,W.d,x.b,rt.n,I.b],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.ErrMsg[_ngcontent-%COMP%]{color:red;font-size:11px;padding-top:10px}  .mat-form-field-prefix{top:0!important}.mt-32[_ngcontent-%COMP%]{margin-left:2%}"]}),va),xa=function(){return{y:"50px",delay:"300ms"}},Wa=function(e){return{value:"*",params:e}};function Xa(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",18),f.Xb(1,"mat-card"),f.Xb(2,"div",19),f.Xb(3,"div",20),f.Xb(4,"mat-icon",21),f.Tc(5,"check_circle"),f.Wb(),f.Wb(),f.Xb(6,"div",22),f.Xb(7,"h6"),f.Tc(8,"Application Entry Stage Completed"),f.Wb(),f.Wb(),f.Sb(9,"span",23),f.Xb(10,"button",24),f.fc("click",function(){return f.Hc(r),f.jc().goToCardAppAssessmentSummary()}),f.Tc(11," View Summary "),f.Wb(),f.Wb(),f.Wb(),f.Wb()}2&e&&(f.Eb(1),f.rc("@animate",f.xc(2,Wa,f.wc(1,xa))))}function Ia(e,t){1&e&&(f.Xb(0,"div",25),f.Sb(1,"mat-progress-bar",26),f.Xb(2,"p",27),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function ka(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",24),f.fc("click",function(){return f.Hc(r),f.jc().goToCardAssessmentSummary()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var Sa=function(){return["/cardaccount/assessmentStage/application-assessment/list"]};function Oa(e,t){1&e&&(f.Xb(0,"button",28),f.Tc(1," Add Details "),f.Xb(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Wb(),f.Wb()),2&e&&f.rc("routerLink",f.wc(1,Sa))}var Ta,Da,Ea,Aa,wa,_a=((Ta=function(){function e(t,r,n,a,i,o){s(this,e),this.ls=t,this.router=r,this.dialogService=n,this.cdr=a,this.accountService=i,this.apiService=o,this.isCardAssessmentStageDone=!1,this.isAssessmentReport=!1}return u(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE")}},{key:"goToCardAssessmentSummary",value:function(){this.dialogService.cardAccountAssessmentSummaryDialog()}},{key:"goToCardAppAssessmentSummary",value:function(){this.dialogService.cardAccAssessmentSummaryDialog()}},{key:"openLoanQualitativeDialog",value:function(){this.dialogService.loanQualitativeSummaryDialog()}}]),e}()).\u0275fac=function(e){return new(e||Ta)(f.Rb(m.a),f.Rb(v.h),f.Rb(pe.a),f.Rb(f.h),f.Rb(N.a),f.Rb(g.b))},Ta.\u0275cmp=f.Lb({type:Ta,selectors:[["app-assessment-stage"]],decls:31,vars:5,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"font1"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showAssessment",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"]],template:function(e,t){if(1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Create New Card Account"),f.Wb(),f.Wb(),f.Xb(9,"div",7),f.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),f.Wb(),f.Wb(),f.Wb(),f.Rc(11,Xa,12,4,"div",8),f.Wb(),f.Xb(12,"div",9),f.Xb(13,"div",10),f.Xb(14,"mat-card"),f.Xb(15,"mat-card-header"),f.Xb(16,"mat-card-title"),f.Tc(17,"1. Assessment Report"),f.Wb(),f.Wb(),f.Xb(18,"mat-card-content"),f.Xb(19,"div",11),f.Xb(20,"div",12),f.Xb(21,"p"),f.Tc(22," The recommendation will be displayed with Approval or Rejection recommendation. "),f.Wb(),f.Wb(),f.Xb(23,"div",13),f.Sb(24,"img",14),f.Wb(),f.Wb(),f.Rc(25,Ia,4,2,"div",15),f.Wb(),f.Sb(26,"mat-divider"),f.Xb(27,"mat-card-actions"),f.Rc(28,ka,5,0,"ng-container",16),f.Rc(29,Oa,4,2,"ng-template",null,17,f.Sc),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e){var r=f.Dc(30);f.Eb(11),f.rc("ngIf",t.isCardAssessmentStageDone),f.Eb(13),f.rc("src","assets/images/svg/MaskGroup_13.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isAssessmentReport),f.Eb(3),f.rc("ngIf",t.isAssessmentReport)("ngIfElse",r)}},directives:[W.e,W.b,c.n,C.a,C.e,C.h,C.d,W.f,W.d,E.a,C.b,l.a,x.b,F.a,v.i],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.font1[_ngcontent-%COMP%]{padding-left:17px;color:#cacaca}"]}),Ta),Pa=i("q7Ft"),Na=i("/1WF"),Ra=i("Bp9c"),Fa=i("UGQK"),Ma=i("r/oB"),La=function(){return["/cardaccount/applicationEntryStage/list"]},Va=function(){return["/cardaccount/applicationEntryStage/list/cardInitiation"]},ja=function(){return["/cardaccount/applicationEntryStage/list/customerInformation"]},Ba=function(){return["/cardaccount/applicationEntryStage/list/financialDetails"]},za=function(){return["/cardaccount/applicationEntryStage/list/cardPrefrence"]},qa=function(){return["/cardaccount/applicationEntryStage/list/accountServices"]},Ua=function(){return["/cardaccount/documentupload/list"]},Ga=function(){return["/cardaccount/documentupload/list/document-details"]},Ha=function(){return["/cardaccount/applicationEnrichment/list"]},Ya=function(){return["/cardaccount/applicationEnrichment/intrest-details"]},$a=function(){return["/cardaccount/applicationEnrichment/charge-details"]},Qa=function(){return["/cardaccount/underwritingStage/list"]},Ka=function(){return["/cardaccount/underwritingStage/credit-rating"]},Ja=function(){return["/cardaccount/underwritingStage/qualitative"]},Za=function(){return["/cardaccount/assessmentStage/list"]},ei=function(){return["/cardaccount/assessmentStage/application-assessment/list"]},ti=function(){return["/cardaccount/SupervisorApprovalStage/list"]},ri=function(){return["/cardaccount/SupervisorApprovalStage/list/approvalDetails"]},ni=function(){return["/cardaccount/DigitalSigning/list"]},ai=function(){return["/cardaccount/digitalsigning/options"]},ii=((Da=function(){function e(t,r,n,a,i){s(this,e),this.ls=t,this.api=r,this.router=n,this.cdr=a,this.accountService=i,this.isCardApplicationStageDone=!1,this.isCardInitiationDone=!1,this.isCardCustomerInformationScreen=!1,this.isCardFinancialDetailsScreen=!1,this.isCardPrefrenceDone=!1,this.isCardAccountService=!1,this.isAddOnCardHolderDetails=!0,this.isDocumentUploadDone=!1,this.isDocumentUpload=!1,this.isCardApplicationEnrichmentDone=!1,this.isCardInterestDetails=!1,this.isCardChargeDetails=!1,this.isApplicationUnderWritingStageDone=!0,this.isQualitativeScoreboard=!0,this.isCardCreditRatingDetails=!1,this.isCardQualitativeScoreboard=!1,this.isCardAssessmentStageDone=!1,this.isAssessmentReport=!1,this.isCardSupervisorApprovalDone=!0,this.isApprovedDetails=!0,this.isCardDigitalSigningDone=!0,this.isCardDigitalSigning=!0}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.accountItemsSub=this.accountService.accountItems$.subscribe(function(t){e.accountItems=t}),console.log("reset"),this.cardId=this.ls.getItem("cardId"),this.isCardApplicationStageDone=this.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),this.isCardInitiationDone=this.ls.getItem("CARD_INITIATION_DONE"),this.isCardCustomerInformationScreen=this.ls.getItem("Card_Customer_Done"),this.isCardFinancialDetailsScreen=this.ls.getItem("CARD_FINANCIAL_DONE"),this.isCardPrefrenceDone=this.ls.getItem("card_prefrence_done"),this.isCardAccountService=this.ls.getItem("CARD_ACC_SERVICE_DONE"),this.isDocumentUploadDone=this.ls.getItem("CARD_DOCUMENT_STAGE_DONE"),this.isDocumentUpload=this.ls.getItem("CARD_DOCUMENT_DONE"),this.isCardApplicationEnrichmentDone=this.ls.getItem("CARD_ENRICHMENT_DONE"),console.log("isCardApplicationEnrichmentDone",this.isCardApplicationEnrichmentDone),this.isCardInterestDetails=this.ls.getItem("CARD_INTEREST_DETAILS_DONE"),this.isCardChargeDetails=this.ls.getItem("CARD_CHARGE_DETAILS_DONE"),this.isApplicationUnderWritingStageDone=this.ls.getItem("CARD_UNDERWRITING_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardSupervisorApprovalDone=this.ls.getItem("CARD_SUPERVISOR_DONE"),this.isApprovedDetails=this.ls.getItem("CARD_APPROVAL_DONE"),this.isCardDigitalSigningDone=this.ls.getItem("CARD_DIGITAL_STAGE_DONE"),this.isCardDigitalSigning=this.ls.getItem("CARD_DIGITAL_SIGN_DONE"),this.accountService.refresh.subscribe(function(t){e.cardId=e.ls.getItem("cardId"),e.isCardApplicationStageDone=e.ls.getItem("CARD_APPLICATION_ENTRY_DONE"),e.isCardInitiationDone=e.ls.getItem("CARD_INITIATION_DONE"),e.isCardCustomerInformationScreen=e.ls.getItem("Card_Customer_Done"),e.isCardFinancialDetailsScreen=e.ls.getItem("CARD_FINANCIAL_DONE"),e.isCardPrefrenceDone=e.ls.getItem("card_prefrence_done"),e.isCardAccountService=e.ls.getItem("CARD_ACC_SERVICE_DONE"),e.isDocumentUploadDone=e.ls.getItem("CARD_DOCUMENT_STAGE_DONE"),e.isDocumentUpload=e.ls.getItem("CARD_DOCUMENT_DONE"),e.isCardApplicationEnrichmentDone=e.ls.getItem("CARD_ENRICHMENT_DONE"),e.isCardInterestDetails=e.ls.getItem("CARD_INTEREST_DETAILS_DONE"),e.isCardChargeDetails=e.ls.getItem("CARD_CHARGE_DETAILS_DONE"),e.isApplicationUnderWritingStageDone=e.ls.getItem("CARD_UNDERWRITING_DONE"),e.isCardCreditRatingDetails=e.ls.getItem("CARD_CREDIT_RATING_DONE"),e.isCardQualitativeScoreboard=e.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),e.isCardAssessmentStageDone=e.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),e.isAssessmentReport=e.ls.getItem("CARD_ASSESSMENT_DONE"),e.isCardSupervisorApprovalDone=e.ls.getItem("CARD_SUPERVISOR_DONE"),e.isApprovedDetails=e.ls.getItem("CARD_APPROVAL_DONE"),e.isCardDigitalSigningDone=e.ls.getItem("CARD_DIGITAL_STAGE_DONE"),e.isCardDigitalSigning=e.ls.getItem("CARD_DIGITAL_SIGN_DONE")})}},{key:"ngOnDestroy",value:function(){this.accountItemsSub&&this.accountItemsSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Da)(f.Rb(m.a),f.Rb(g.b),f.Rb(v.h),f.Rb(f.h),f.Rb(N.a))},Da.\u0275cmp=f.Lb({type:Da,selectors:[["app-card-account"]],decls:188,vars:86,consts:[[1,"matcard-size1"],[1,"m-333"],[1,"topSection",2,"background-color","white !important"],["EgretSideNavToggle","",1,"app-sidebar",2,"width","300px"],[1,"sidenav-header"],[1,"sidenav-hold"],["appDropdown","",1,"sidenav","mt-32"],["appDropdownLink","","routerLinkActive","open"],[1,"lvl1"],["appDropdownToggle","",3,"ngClass"],[1,"sidenav-mat-icon",3,"ngClass"],[1,"item-name","lvl1"],["fxFlex",""],[1,"menu-caret"],["appDropdown","",1,"lvl2",2,"margin-right","8px"],["routerLinkActive","open"],[1,"side-menu",3,"routerLink","ngClass"],[1,"item-name","lvl2",2,"margin-left","10px"],[1,"side-menu",3,"ngClass","routerLink"],["appDropdownToggle","",3,"ngClass","routerLink"],["fxLayout","row","fxLayoutWrap","wrap",1,"app-wrap"],[1,"full-width","mt-32"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"mat-sidenav-container",2),f.Xb(3,"mat-sidenav",3),f.Xb(4,"span",4),f.Tc(5,"Home > Create Card Account"),f.Wb(),f.Xb(6,"div",5),f.Xb(7,"ul",6),f.Xb(8,"li",7),f.Xb(9,"div",8),f.Xb(10,"a",9),f.Xb(11,"mat-icon",10),f.Tc(12," account_balance_wallet "),f.Wb(),f.Xb(13,"span",11),f.Tc(14,"Application Entry Stage"),f.Wb(),f.Sb(15,"span",12),f.Xb(16,"mat-icon",13),f.Tc(17,"keyboard_arrow_right"),f.Wb(),f.Wb(),f.Xb(18,"ul",14),f.Xb(19,"li",15),f.Xb(20,"a",16),f.Xb(21,"span",17),f.Tc(22,"Summary"),f.Wb(),f.Sb(23,"span",12),f.Wb(),f.Wb(),f.Xb(24,"li",15),f.Xb(25,"a",16),f.Xb(26,"span",17),f.Tc(27,"Card Initiation"),f.Wb(),f.Sb(28,"span",12),f.Wb(),f.Wb(),f.Xb(29,"li",15),f.Xb(30,"a",16),f.Xb(31,"span",17),f.Tc(32,"Customer Information Details"),f.Wb(),f.Sb(33,"span",12),f.Wb(),f.Wb(),f.Xb(34,"li",15),f.Xb(35,"a",18),f.Xb(36,"span",17),f.Tc(37,"Financial Details"),f.Wb(),f.Sb(38,"span",12),f.Wb(),f.Wb(),f.Xb(39,"li",15),f.Xb(40,"a",18),f.Xb(41,"span",17),f.Tc(42,"Card Preferences"),f.Wb(),f.Sb(43,"span",12),f.Wb(),f.Wb(),f.Xb(44,"li",15),f.Xb(45,"a",16),f.Xb(46,"span",17),f.Tc(47,"Account Services"),f.Wb(),f.Sb(48,"span",12),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(49,"li",7),f.Xb(50,"div",8),f.Xb(51,"a",19),f.Xb(52,"mat-icon",10),f.Tc(53,"file_upload"),f.Wb(),f.Xb(54,"span",11),f.Tc(55,"Document Upload"),f.Wb(),f.Sb(56,"span",12),f.Xb(57,"mat-icon",13),f.Tc(58,"keyboard_arrow_right"),f.Wb(),f.Wb(),f.Xb(59,"ul",14),f.Xb(60,"li",15),f.Xb(61,"a",16),f.Xb(62,"span",17),f.Tc(63,"Summary"),f.Wb(),f.Sb(64,"span",12),f.Wb(),f.Wb(),f.Xb(65,"li",15),f.Xb(66,"a",18),f.Xb(67,"span",17),f.Tc(68,"Document Upload"),f.Wb(),f.Sb(69,"span",12),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(70,"li",7),f.Xb(71,"div",8),f.Xb(72,"a",19),f.Xb(73,"mat-icon",10),f.Tc(74,"border_color"),f.Wb(),f.Xb(75,"span",11),f.Tc(76,"Application Enrichment"),f.Wb(),f.Sb(77,"span",12),f.Xb(78,"mat-icon",13),f.Tc(79,"keyboard_arrow_right"),f.Wb(),f.Wb(),f.Xb(80,"ul",14),f.Xb(81,"li",15),f.Xb(82,"a",16),f.Xb(83,"span",17),f.Tc(84,"Summary"),f.Wb(),f.Sb(85,"span",12),f.Wb(),f.Wb(),f.Xb(86,"li",15),f.Xb(87,"a",16),f.Xb(88,"span",17),f.Tc(89,"Interest Details"),f.Wb(),f.Sb(90,"span",12),f.Wb(),f.Wb(),f.Xb(91,"li",15),f.Xb(92,"a",16),f.Xb(93,"span",17),f.Tc(94,"Charge Details"),f.Wb(),f.Sb(95,"span",12),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(96,"li",7),f.Xb(97,"div",8),f.Xb(98,"a",19),f.Xb(99,"mat-icon",10),f.Tc(100,"border_color "),f.Wb(),f.Xb(101,"span",11),f.Tc(102,"Application Underwriting"),f.Wb(),f.Sb(103,"span",12),f.Xb(104,"mat-icon",13),f.Tc(105,"keyboard_arrow_right"),f.Wb(),f.Wb(),f.Xb(106,"ul",14),f.Xb(107,"li",15),f.Xb(108,"a",16),f.Xb(109,"span",17),f.Tc(110,"Summary"),f.Wb(),f.Sb(111,"span",12),f.Wb(),f.Wb(),f.Xb(112,"li",15),f.Xb(113,"a",18),f.Xb(114,"span",17),f.Tc(115,"Credit Score Details"),f.Wb(),f.Sb(116,"span",12),f.Wb(),f.Wb(),f.Xb(117,"li",15),f.Xb(118,"a",18),f.Xb(119,"span",17),f.Tc(120,"Qualitative Scoreboard"),f.Wb(),f.Sb(121,"span",12),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(122,"li",7),f.Xb(123,"div",8),f.Xb(124,"a",19),f.Xb(125,"mat-icon",10),f.Tc(126,"assessment"),f.Wb(),f.Xb(127,"span",11),f.Tc(128,"Application Assessment"),f.Wb(),f.Sb(129,"span",12),f.Xb(130,"mat-icon",13),f.Tc(131,"keyboard_arrow_right"),f.Wb(),f.Wb(),f.Xb(132,"ul",14),f.Xb(133,"li",15),f.Xb(134,"a",16),f.Xb(135,"span",17),f.Tc(136,"Summary"),f.Wb(),f.Sb(137,"span",12),f.Wb(),f.Wb(),f.Xb(138,"li",15),f.Xb(139,"a",16),f.Xb(140,"span",17),f.Tc(141,"Assessment Report"),f.Wb(),f.Sb(142,"span",12),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(143,"li",7),f.Xb(144,"div",8),f.Xb(145,"a",19),f.Xb(146,"mat-icon",10),f.Tc(147,"done_all"),f.Wb(),f.Xb(148,"span",11),f.Tc(149,"Supervisor Approval Stage"),f.Wb(),f.Sb(150,"span",12),f.Xb(151,"mat-icon",13),f.Tc(152,"keyboard_arrow_right"),f.Wb(),f.Wb(),f.Xb(153,"ul",14),f.Xb(154,"li",15),f.Xb(155,"a",16),f.Xb(156,"span",17),f.Tc(157,"Summary"),f.Wb(),f.Sb(158,"span",12),f.Wb(),f.Wb(),f.Xb(159,"li",15),f.Xb(160,"a",16),f.Xb(161,"span",17),f.Tc(162,"Approved Details"),f.Wb(),f.Sb(163,"span",12),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(164,"li",7),f.Xb(165,"div",8),f.Xb(166,"a",19),f.Xb(167,"mat-icon",10),f.Tc(168,"web_asset"),f.Wb(),f.Xb(169,"span",11),f.Tc(170,"Digital Signing"),f.Wb(),f.Sb(171,"span",12),f.Xb(172,"mat-icon",13),f.Tc(173,"keyboard_arrow_right"),f.Wb(),f.Wb(),f.Xb(174,"ul",14),f.Xb(175,"li",15),f.Xb(176,"a",16),f.Xb(177,"span",17),f.Tc(178,"Summary"),f.Wb(),f.Sb(179,"span",12),f.Wb(),f.Wb(),f.Xb(180,"li",15),f.Xb(181,"a",16),f.Xb(182,"span",17),f.Tc(183,"Digital Signing"),f.Wb(),f.Sb(184,"span",12),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(185,"div",20),f.Xb(186,"div",21),f.Sb(187,"router-outlet"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(10),f.rc("ngClass",t.isCardApplicationStageDone?"active":"notActive"),f.Eb(1),f.rc("ngClass",t.isCardApplicationStageDone?"active":"notActive"),f.Eb(9),f.rc("routerLink",f.wc(60,La))("ngClass",t.isCardApplicationStageDone?"enable":"disable"),f.Eb(5),f.rc("routerLink",f.wc(61,Va))("ngClass",t.isCardInitiationDone?"enable":"disable"),f.Eb(5),f.rc("routerLink",f.wc(62,ja))("ngClass",t.isCardCustomerInformationScreen?"enable":"disable"),f.Eb(5),f.rc("ngClass",t.isCardFinancialDetailsScreen?"enable":"disable")("routerLink",f.wc(63,Ba)),f.Eb(5),f.rc("ngClass",t.isCardPrefrenceDone?"enable":"disable")("routerLink",f.wc(64,za)),f.Eb(5),f.rc("routerLink",f.wc(65,qa))("ngClass",t.isCardAccountService?"enable":"disable"),f.Eb(6),f.rc("ngClass",t.isDocumentUploadDone?"active":"notActive")("routerLink",f.wc(66,Ua)),f.Eb(1),f.rc("ngClass",t.isDocumentUploadDone?"active":"notActive"),f.Eb(9),f.rc("routerLink",f.wc(67,Ua))("ngClass",t.isCardApplicationStageDone?"enable":"disable"),f.Eb(5),f.rc("ngClass",t.isDocumentUpload?"enable":"disable")("routerLink",f.wc(68,Ga)),f.Eb(6),f.rc("ngClass",t.isCardApplicationEnrichmentDone?"active":"notActive")("routerLink",f.wc(69,Ha)),f.Eb(1),f.rc("ngClass",t.isCardApplicationEnrichmentDone?"active":"notActive"),f.Eb(9),f.rc("routerLink",f.wc(70,Ha))("ngClass",t.isCardApplicationEnrichmentDone?"enable":"disable"),f.Eb(5),f.rc("routerLink",f.wc(71,Ya))("ngClass",t.isCardInterestDetails?"enable":"disable"),f.Eb(5),f.rc("routerLink",f.wc(72,$a))("ngClass",t.isCardChargeDetails?"enable":"disable"),f.Eb(6),f.rc("ngClass",t.isApplicationUnderWritingStageDone?"active":"notActive")("routerLink",f.wc(73,Qa)),f.Eb(1),f.rc("ngClass",t.isApplicationUnderWritingStageDone?"active":"notActive"),f.Eb(9),f.rc("routerLink",f.wc(74,Qa))("ngClass",t.isCardApplicationStageDone?"enable":"disable"),f.Eb(5),f.rc("ngClass",t.isCardCreditRatingDetails?"enable":"disable")("routerLink",f.wc(75,Ka)),f.Eb(5),f.rc("ngClass",t.isCardQualitativeScoreboard?"enable":"disable")("routerLink",f.wc(76,Ja)),f.Eb(6),f.rc("ngClass",t.isCardAssessmentStageDone?"active":"notActive")("routerLink",f.wc(77,Za)),f.Eb(1),f.rc("ngClass",t.isCardAssessmentStageDone?"active":"notActive"),f.Eb(9),f.rc("routerLink",f.wc(78,Za))("ngClass",t.isCardApplicationStageDone?"enable":"disable"),f.Eb(5),f.rc("routerLink",f.wc(79,ei))("ngClass",t.isAssessmentReport?"enable":"disable"),f.Eb(6),f.rc("ngClass",t.isCardSupervisorApprovalDone?"active":"notActive")("routerLink",f.wc(80,ti)),f.Eb(1),f.rc("ngClass",t.isCardSupervisorApprovalDone?"active":"notActive"),f.Eb(9),f.rc("routerLink",f.wc(81,ti))("ngClass",t.isCardApplicationStageDone?"enable":"disable"),f.Eb(5),f.rc("routerLink",f.wc(82,ri))("ngClass",t.isApprovedDetails?"enable":"disable"),f.Eb(6),f.rc("ngClass",t.isCardDigitalSigningDone?"active":"notActive")("routerLink",f.wc(83,ni)),f.Eb(1),f.rc("ngClass",t.isCardDigitalSigningDone?"active":"notActive"),f.Eb(9),f.rc("routerLink",f.wc(84,ni))("ngClass",t.isCardDigitalSigningDone?"enable":"disable"),f.Eb(5),f.rc("routerLink",f.wc(85,ai))("ngClass",t.isCardDigitalSigning?"enable":"disable"))},directives:[Pa.e,Pa.d,Na.a,Ra.a,Fa.a,v.j,Ma.a,c.l,R.a,l.a,W.b,v.k,W.e,v.m],styles:["li[_ngcontent-%COMP%]{list-style-type:none!important}a[_ngcontent-%COMP%]   .mat-icon.sidenav-mat-icon[_ngcontent-%COMP%]{border-left:none!important;border-color:transparent}.sidenav-hold[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:before{background:none!important;top:0}li.open[_ngcontent-%COMP%]{background:none!important}.active[_ngcontent-%COMP%], .enable[_ngcontent-%COMP%]{color:#03a9f4!important}.disable[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.topSection[_ngcontent-%COMP%]{margin-top:35px!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}"]}),Da),oi=i("I5/J"),ci=i("89pA"),si=function(){return{delay:"300ms",y:"50px"}},li=function(e){return{value:"*",params:e}},ui=((Aa=function(){function e(t,r,n,a,i,o,c,l){s(this,e),this.dialog=t,this.router=r,this.ls=n,this.accountService=a,this.apiService=i,this.urlService=o,this.api=c,this.dialogService=l,this.previousUrl="",this.show=!1,this.isDone=!1}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.show1=this.ls.getItem("eSignStage")&&null!==this.ls.getItem("signedImage"),this.urlService.previousUrl$.subscribe(function(t){e.previousUrl=t})}},{key:"openPopUp",value:function(e){var t,r=this;null==e&&(t={isSignLater:!1,screen:"Create Account"}),this.show||this.dialog.open(oi.a,{width:"720px",disableClose:!0,data:null==e?t:e}).afterClosed().subscribe(function(e){r.accountId=r.accountID,console.log(e),e&&(r.show=r.ls.getItem("enable"),r.show1=r.ls.getItem("enable"),console.log(r.show),r.getByAccountId(r.accountId))})}},{key:"getByAccountId",value:function(e){var t=this;this.api.getCardInitiationDetails(this.cardId).subscribe(function(e){t.accountdetailsForStatusUpdate=e,t.updateCardAccountStatus()})}},{key:"onDone",value:function(){this.isDone=!0,this.dialogService.alertForCardFinishButton().subscribe(function(e){console.log("response ::",e)})}},{key:"updateCardAccountStatus",value:function(){this.api.updateCardStatus({cardId:this.cardId,status:"BACKLOG"}).subscribe(function(e){console.log("updateResp:: ",e)})}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/DigitalSigning/list"])}},{key:"resetState",value:function(){this.ls.removeItem("CARD_APPLICATION_ENTRY_DONE"),this.ls.removeItem("CARD_INITIATION_DONE"),this.ls.removeItem("Card_Customer_Done"),this.ls.removeItem("CARD_FINANCIAL_DONE"),this.ls.removeItem("card_prefrence_done"),this.ls.removeItem("CARD_ACC_SERVICE_DONE"),this.ls.removeItem("Card_CIF_NUM_PRIMARY"),this.ls.removeItem("Card_Applicant_name"),this.ls.removeItem("CARD_DOCUMENT_STAGE_DONE"),this.ls.removeItem("CARD_DOCUMENT_DONE"),this.ls.removeItem("CARD_ENRICHMENT_DONE"),this.ls.removeItem("CARD_INTEREST_DETAILS_DONE"),this.ls.removeItem("CARD_CHARGE_DETAILS_DONE"),this.ls.removeItem("CARD_UNDERWRITING_DONE"),this.ls.removeItem("CARD_CREDIT_RATING_DONE"),this.ls.removeItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.ls.removeItem("CARD_ASSESSMENT_STAGE_DONE"),this.ls.removeItem("CARD_ASSESSMENT_DONE"),this.ls.removeItem("CARD_SUPERVISOR_DONE"),this.ls.removeItem("CARD_APPROVAL_DONE"),this.ls.removeItem("CARD_DIGITAL_STAGE_DONE"),this.ls.removeItem("CARD_DIGITAL_SIGN_DONE"),this.ls.removeItem("enable"),this.ls.removeItem("eSignStage"),this.ls.removeItem("cardId"),this.ls.removeItem("CardNoOfApplicants"),this.ls.removeItem("primaryCustomerName"),this.ls.removeItem("cardownership_value"),this.ls.removeItem("cId"),this.ls.removeItem("cardSignedImage"),this.ls.removeItem("enable"),sessionStorage.clear(),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEntryStage/list"])}},{key:"onSubmit",value:function(){var e=this;this.api.signInLater({cardId:this.cardId,esignLink:"",subject:"testing"}).subscribe(function(t){console.log("data::",t),e.getByAccountId(e.cardId),e.ls.setItem("eSignStage",!0),e.isDone=!0,e.dialogService.alertForcardSignLater().subscribe(function(e){console.log("response ::",e)}),e.show=e.ls.setItem("enable",!0)},function(e){})}}]),e}()).\u0275fac=function(e){return new(e||Aa)(f.Rb(y.b),f.Rb(v.h),f.Rb(m.a),f.Rb(N.a),f.Rb(Je.a),f.Rb(Be.a),f.Rb(g.b),f.Rb(pe.a))},Aa.\u0275cmp=f.Lb({type:Aa,selectors:[["app-digital-sign-now-or-later"]],decls:46,vars:5,consts:[[1,"matcard-size"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask Group 55.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"mat-card-img"],["fxFlex","100",1,"mt-32"],["matRipple","",1,"sign-box","hoverAdd",3,"click"],[1,"p-0"],[1,"compact-list","mb-16"],[1,""],["src","assets/images/svg/signnow.png","alt","",1,"mr-16"],["fxLayout","column","fxFlex","100"],[1,"m-0","mr-16"],["fxFlex",""],["fxFlex","40",1,"text"],[1,"text-center"],["mat-button","",1,"text"],["src","assets/images/svg/signlater.png","alt","",1,"mr-16"],["fxFlex","100",1,"mt-16"],["mat-button","",1,"Backbtn",2,"height","60%","margin-top","1%",3,"click"],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Digital Signing"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(9,"mat-card",7),f.Xb(10,"div",8),f.Xb(11,"mat-card",9),f.fc("click",function(){return t.openPopUp()}),f.Xb(12,"mat-card-content",10),f.Xb(13,"mat-list",11),f.Xb(14,"mat-list-item",12),f.Sb(15,"img",13),f.Xb(16,"div",14),f.Xb(17,"h3",15),f.Tc(18,"Sign Now"),f.Wb(),f.Sb(19,"span",16),f.Sb(20,"br"),f.Xb(21,"div",17),f.Tc(22," Enables you to digitally sign the document. To e sign the document, click on it, create your eSignature, click on Done and it will add to your document. "),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(23,"div",2),f.Xb(24,"div",18),f.Xb(25,"button",19),f.Tc(26,"OR"),f.Wb(),f.Wb(),f.Wb(),f.Xb(27,"div",2),f.Xb(28,"mat-card",9),f.fc("click",function(){return t.onSubmit()}),f.Xb(29,"mat-card-content",10),f.Xb(30,"mat-list",11),f.Xb(31,"mat-list-item",12),f.Sb(32,"img",20),f.Xb(33,"div",14),f.Xb(34,"h3",15),f.Tc(35,"Sign Later"),f.Wb(),f.Sb(36,"span",16),f.Sb(37,"br"),f.Xb(38,"div",17),f.Tc(39," Enables you to sign the document later. To sign later, click here, an email will be sent to the respective email id provided with a sign link. You can verify and sign later. "),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(40,"div",21),f.Xb(41,"button",22),f.fc("click",function(){return t.goBack()}),f.Tc(42,"BACK"),f.Wb(),f.Sb(43,"span",16),f.Xb(44,"button",23),f.fc("click",function(){return t.onDone()}),f.Tc(45," FINISH "),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(11),f.rc("@animate",f.xc(3,li,f.wc(2,si))),f.Eb(33),f.rc("disabled",!t.show))},directives:[W.e,W.b,C.a,rt.s,C.d,st.a,st.d,x.b],styles:[".text[_ngcontent-%COMP%]{font-size:13px;color:#cacaca}.mat-card-img[_ngcontent-%COMP%]{height:100%;width:100%;flex-direction:column!important;box-sizing:border-box!important;display:flex!important}.hoverAdd[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.08);cursor:pointer}.compact-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background:none}.Nextbtn[_ngcontent-%COMP%]{margin:12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}"],data:{animation:ci.a}}),Aa),bi=((Ea=function(){function e(t,r,n,a){s(this,e),this.router=t,this.ls=r,this.api=n,this.loader=a}return u(e,[{key:"ngOnInit",value:function(){console.log(this.cardId),this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.getDigitalsignByCardId(this.cardId)}},{key:"getDigitalsignByCardId",value:function(e){var t=this;this.api.getDigitalsignByCardId(e).subscribe(function(e){console.log(e),console.log(e[0].fileUrl),t.imageUrl=e[e.length-1].fileUrl,t.loader.close()},function(e){})}}]),e}()).\u0275fac=function(e){return new(e||Ea)(f.Rb(v.h),f.Rb(m.a),f.Rb(g.b),f.Rb(le.a))},Ea.\u0275cmp=f.Lb({type:Ea,selectors:[["app-digital-view-summary"]],decls:11,vars:1,consts:[["fxLayoutAlign","end stretch","mat-dialog-close","",1,"close"],[1,"approval-details"],["visible","true","clas","paraFont"],[1,"card"],["alt","No Image",3,"src"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"mat-icon"),f.Tc(2,"close"),f.Wb(),f.Wb(),f.Xb(3,"div",1),f.Xb(4,"fieldset"),f.Xb(5,"legend",2),f.Tc(6,"Digital Signing"),f.Wb(),f.Wb(),f.Xb(7,"mat-card",3),f.Xb(8,"div"),f.Xb(9,"div"),f.Sb(10,"img",4),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(10),f.rc("src",t.imageUrl,f.Jc))},directives:[W.d,y.d,l.a,C.a],styles:[".editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.card[_ngcontent-%COMP%]{width:50%}"]}),Ea),di=function(){return["/cardaccount/digitalsigning/options"]},mi=((wa=function(){function e(t,r,n,a){s(this,e),this.router=t,this.ls=r,this.api=n,this.loader=a}return u(e,[{key:"ngOnInit",value:function(){console.log(this.cardId),this.cardId=this.ls.getItem("cardId"),console.log(this.cardId),this.getDigitalsignByCardId(this.cardId)}},{key:"getDigitalsignByCardId",value:function(e){var t=this;this.api.getDigitalsignByCardId(e).subscribe(function(e){console.log(e),console.log(e[0].fileUrl),t.imageUrl=e[e.length-1].fileUrl,t.loader.close()},function(e){})}}]),e}()).\u0275fac=function(e){return new(e||wa)(f.Rb(v.h),f.Rb(m.a),f.Rb(g.b),f.Rb(le.a))},wa.\u0275cmp=f.Lb({type:wa,selectors:[["app-digitalsign-summary"]],decls:13,vars:3,consts:[["fxLayoutAlign","end stretch","mat-dialog-close","",1,"close"],[1,"approval-details"],["visible","true","clas","paraFont"],[1,"card"],["alt","No Image",3,"src"],["mat-dialog-close","",1,"editButton",3,"routerLink"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"mat-icon"),f.Tc(2,"close"),f.Wb(),f.Wb(),f.Xb(3,"div",1),f.Xb(4,"fieldset"),f.Xb(5,"legend",2),f.Tc(6,"Digital Signing"),f.Wb(),f.Wb(),f.Xb(7,"mat-card",3),f.Xb(8,"div"),f.Xb(9,"div"),f.Sb(10,"img",4),f.Wb(),f.Wb(),f.Wb(),f.Xb(11,"p",5),f.Tc(12,"Edit"),f.Wb(),f.Wb()),2&e&&(f.Eb(10),f.rc("src",t.imageUrl,f.Jc),f.Eb(1),f.rc("routerLink",f.wc(2,di)))},directives:[W.d,y.d,l.a,C.a,v.i],styles:[".editButton[_ngcontent-%COMP%]{color:#456efe;font-family:Montserrat;font-size:12px;text-decoration:underline;padding-left:18px;cursor:pointer}.card[_ngcontent-%COMP%]{width:50%}"]}),wa),pi=function(){return{y:"50px",delay:"300ms"}},gi=function(e){return{value:"*",params:e}};function fi(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",17),f.Xb(1,"mat-card"),f.Xb(2,"div",18),f.Xb(3,"div",19),f.Xb(4,"mat-icon",20),f.Tc(5,"check_circle"),f.Wb(),f.Wb(),f.Xb(6,"div",21),f.Xb(7,"h6"),f.Tc(8,"Application Entry Stage Completed"),f.Wb(),f.Wb(),f.Sb(9,"span",22),f.Xb(10,"button",23),f.fc("click",function(){return f.Hc(r),f.jc().goToDigitalSignViewSummary()}),f.Tc(11," View Summary "),f.Wb(),f.Wb(),f.Wb(),f.Wb()}2&e&&(f.Eb(1),f.rc("@animate",f.xc(2,gi,f.wc(1,pi))))}function hi(e,t){1&e&&(f.Xb(0,"div",24),f.Sb(1,"mat-progress-bar",25),f.Xb(2,"p",26),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function yi(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",27),f.fc("click",function(){return f.Hc(r),f.jc().goToDigitalSign()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}function vi(e,t){if(1&e){var r=f.Yb();f.Xb(0,"a",27),f.fc("click",function(){return f.Hc(r),f.jc().goToDigitalSigningOptions()}),f.Tc(1," Add Details "),f.Xb(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Wb(),f.Wb()}}var Ci,xi=((Ci=function(){function e(t,r,n,a,i){s(this,e),this.router=t,this.ls=r,this.dialog=n,this.cdr=a,this.accountService=i,this.informations=[{id:1,title:"1. Digital Signing",content:"Customer can either sign now or sign later",percentage:70,status:"Pending",state:"application/digital-sign/options",avatar:"assets/images/esign.jpg"}],this.isEsignScreen=!1}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.accountId=this.ls.getItem("accountId"),this.isEsignScreen=this.ls.getItem("eSignStage"),this.accountService.refresh.subscribe(function(t){e.accountId=e.ls.getItem("accountId"),e.isEsignScreen=e.ls.getItem("eSignStage"),e.cdr.markForCheck()})}},{key:"goToDetail",value:function(e){console.log(e),this.router.navigate(["/home/"+e.state])}},{key:"goToDigitalSign",value:function(){this.dialog.open(mi,{height:"55%",width:"40%",disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"goToDigitalSignViewSummary",value:function(){this.dialog.open(bi,{height:"55%",width:"40%",disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"goToDigitalSigningOptions",value:function(){this.ls.setItem("CARD_DIGITAL_STAGE_DONE",!0),this.accountService.refresh.next(),this.router.navigateByUrl("/cardaccount/digitalsigning/options")}}]),e}()).\u0275fac=function(e){return new(e||Ci)(f.Rb(v.h),f.Rb(m.a),f.Rb(y.b),f.Rb(f.h),f.Rb(N.a))},Ci.\u0275cmp=f.Lb({type:Ci,selectors:[["app-digital-signing"]],decls:29,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf"],["mat-button","","color","primary","class","pl-27",3,"click",4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",1,"pl-27",3,"click"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Sb(3,"img",3),f.Wb(),f.Xb(4,"div",4),f.Xb(5,"div",5),f.Xb(6,"b"),f.Tc(7,"Create New Card Account"),f.Wb(),f.Wb(),f.Xb(8,"div",6),f.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),f.Wb(),f.Wb(),f.Wb(),f.Rc(10,fi,12,4,"div",7),f.Wb(),f.Xb(11,"div",8),f.Xb(12,"div",9),f.Xb(13,"mat-card"),f.Xb(14,"mat-card-header"),f.Xb(15,"mat-card-title"),f.Tc(16,"1.Digital Signing"),f.Wb(),f.Wb(),f.Xb(17,"mat-card-content"),f.Xb(18,"div",10),f.Xb(19,"div",11),f.Xb(20,"p"),f.Tc(21," Customer can either sign now or sign later."),f.Wb(),f.Wb(),f.Xb(22,"div",12),f.Sb(23,"img",13),f.Wb(),f.Wb(),f.Rc(24,hi,4,2,"div",14),f.Wb(),f.Sb(25,"mat-divider"),f.Xb(26,"mat-card-actions"),f.Rc(27,yi,5,0,"ng-container",15),f.Rc(28,vi,4,0,"a",16),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(10),f.rc("ngIf",t.isEsignScreen),f.Eb(13),f.rc("src","assets/images/svg/Mask Group 55.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isEsignScreen),f.Eb(3),f.rc("ngIf",t.isEsignScreen),f.Eb(1),f.rc("ngIf",!t.isEsignScreen))},directives:[W.e,W.b,c.n,C.a,C.e,C.h,C.d,W.f,W.d,E.a,C.b,l.a,x.b,F.a,x.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca;padding-left:15px}"]}),Ci);function Wi(e,t){if(1&e&&(f.Xb(0,"mat-option",31),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Xi(e,t){if(1&e&&(f.Xb(0,"mat-option",31),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Ii(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," \xa0\xa0 Please select the User Recommendation "),f.Wb())}function ki(e,t){1&e&&(f.Xb(0,"mat-error",32),f.Tc(1," Please enter valid Recommended Card Limit "),f.Wb())}function Si(e,t){1&e&&(f.Xb(0,"mat-error",32),f.Tc(1," The recommendation card limit should not be greater than approved card limit "),f.Wb())}var Oi,Ti=((Oi=function(){function e(t,r,n,a,i,o,c,l,u){s(this,e),this.router=t,this.snack=r,this.cdr=n,this.apiService=a,this._location=i,this.ls=o,this.fb=c,this.accountService=l,this.currencyPipe=u,this.isAssessmentReport=!1,this.arrayUserRecommendation=["Recommended For Approval","Pending For Documents","Recommended for Review"],this.arraySystemRecommendation=["Recomended For Approval","Recommended For Reject"],this.curr="",this.isCardAssessmentStageDone=!1,this.currencySymbol=!0,this.currencySymbols=[{currency:"USD",symbol:"$"},{currency:"EUR",symbol:"\u20ac"},{currency:"JPY",symbol:"\xa5"},{currency:"GBP",symbol:"\xa3"},{currency:"ILS",symbol:"\u20aa"},{currency:"KRW",symbol:"\u20a9"},{currency:"NGN",symbol:"\u20a6"},{currency:"PHP",symbol:"\u20b1"},{currency:"PLN",symbol:"z\u0142"},{currency:"THB",symbol:"\u0e3f"},{currency:"UAH",symbol:"\u20b4"},{currency:"VND",symbol:"\u20ab"},{currency:"CNY",symbol:"\xa5"},{currency:"ZAR",symbol:"R"},{currency:"INR",symbol:"\u20b9"}]}return u(e,[{key:"ngOnInit",value:function(){this.curr=localStorage.getItem("Currency Type"),this.cardId=this.ls.getItem("cardId"),this.isAssessmentReport=this.ls.getItem("CARD_ASSESSMENT_DONE"),this.isCardAssessmentStageDone=this.ls.getItem("CARD_ASSESSMENT_STAGE_DONE"),this.buildAssessmentForm({}),0==this.isAssessmentReport?this.buildAssessmentForm():this.getCardAssessmentDetails()}},{key:"buildAssessmentForm",value:function(e,t){var r=this;if(this.assessmentForm=this.fb.group({cardId:[this.cardId],assessmentId:[e.assessmentId="1"],requestedCardLimit:[e.requestedCardLimit="15000"],systemRecommendation:[e?e.systemRecommendation:"",[p.z.required]],approvedCardLimit:[e.approvedCardLimit="10000"],userRecommendation:[e?e.userRecommendation:"",[p.z.required]],recommendedCardLimit:[e?e.recommendedCardLimit:"",p.z.compose([p.z.required,p.z.max(1e4)])],remark:[e?e.remark:""]}),console.log("curr",this.curr),e){for(var n=0;n<this.currencySymbols.length;n++)this.currencyArr=this.currencySymbols.filter(function(e){return r.curr===e.currency}),console.log("this.currencyArr",this.currencyArr);this.currencySymboll=this.currencyArr[0].symbol,this.approvedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.approvedCardLimit,this.requestedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.requestedCardLimit,this.recommendedCardLimit=this.currencySymboll+" "+this.assessmentForm.value.reccommendedCardLimit,this.assessmentForm.controls.approvedCardLimit.setValue(this.approvedCardLimit),this.assessmentForm.controls.requestedCardLimit.setValue(this.requestedCardLimit)}}},{key:"transformAmount",value:function(e){"INR"===this.curr?(console.log(this.currencySymbol),this.currencySymboll=this.currencyPipe.transform(this.currencySymboll,"\u20b9"),console.log(this.currencySymbol),e.target.value=this.currencySymboll):(this.currencySymboll=this.currencyPipe.transform(this.currencySymboll,"$"),e.target.value=this.currencySymboll),console.log(e.target.value)}},{key:"keyUpEvent",value:function(e){console.log("event",e.target.value);var t=e.target.value.toString().replace(/,/g,"").split(".").join(".");console.log("final",t),console.log("finalLength",t.length),this.assessmentForm.controls.recommendedCardLimit.setValue(t)}},{key:"_keyPress1",value:function(e){var t=String.fromCharCode(e.charCode);/^[0-9]*\.?[0-9]*$/.test(t)||e.preventDefault(),0===e.target.value.length&&48===e.which&&e.preventDefault()}},{key:"getCardAssessmentDetails",value:function(){var e=this;this.apiService.fetchcardAssessmentDetailsById(this.cardId).subscribe(function(t){console.log(t),e.buildAssessmentForm(t,!0)})}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"goNext",value:function(e){var t=this;console.log("val",e.approvedCardLimit),console.log("val.approvedCardLimit",e.approvedCardLimit.length),console.log("val",e.recommendedCardLimit),console.log("val.recommendedCardLimit",e.recommendedCardLimit.length),e.approvedCardLimit=e.approvedCardLimit.slice(2,e.approvedCardLimit.length-1),e.requestedCardLimit=e.requestedCardLimit.slice(2,e.requestedCardLimit.length-1),this.apiService.cardAssessmentDetails(e).subscribe(function(e){console.log("data",e),null!=e&&(t.snack.open("Assessment details saved successfully!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.cdr.markForCheck())}),this.next()}},{key:"removeComma",value:function(e){var t=e.replace(/,/g,"");return console.log("numb",t),t}},{key:"next",value:function(){this.ls.setItem("CARD_ASSESSMENT_DONE",!0),this.ls.setItem("CARD_ASSESSMENT_STAGE_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/SupervisorApprovalStage/list"])}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/assessmentStage/list"])}}]),e}()).\u0275fac=function(e){return new(e||Oi)(f.Rb(v.h),f.Rb(h.a),f.Rb(f.h),f.Rb(g.b),f.Rb(c.j),f.Rb(m.a),f.Rb(p.f),f.Rb(N.a),f.Rb(c.d))},Oi.\u0275cmp=f.Lb({type:Oi,selectors:[["app-cardaccount-application-assessment"]],decls:65,vars:8,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_13.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup"],["fxLayout","column"],["fxFlex","70%","fxLayoutGap","10px",1,"field"],["fxFlex","50%",1,"flex-grow-1"],["appearance","outline",1,"full-width",2,"margin-left","-5px"],[1,"hint"],["matInput","","formControlName","requestedCardLimit","type","text","placeholder","Requested Card Limit","readonly","",1,"alignment",3,"keypress"],["fxFlex","48%",1,"flex-grow-1"],["appearance","outline",1,"full-width"],["formControlName","systemRecommendation","placeholder","Select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","userRecommendation","placeholder","Select"],[4,"ngIf"],["fxFlex","4"],["fxFlex","96","matInput","","formControlName","recommendedCardLimit","type","text","required","",3,"keypress","blur"],["class","colorRed",4,"ngIf"],["matInput","","formControlName","approvedCardLimit","type","text","placeholder","Approved Card Limit","readonly","","required","",1,"alignment",3,"keypress"],["matInput","","placeholder","Remarks","formControlName","remark","type","text",1,"alignment"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["type","button","mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],[3,"value"],[1,"colorRed"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Assessment Report"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(9,"div",2),f.Xb(10,"mat-card",7),f.Xb(11,"mat-card-title"),f.Xb(12,"fieldset"),f.Xb(13,"legend",8),f.Tc(14,"Assessment Details"),f.Wb(),f.Wb(),f.Wb(),f.Xb(15,"div"),f.Xb(16,"form",9),f.Xb(17,"div",10),f.Xb(18,"div",11),f.Xb(19,"div",12),f.Xb(20,"mat-form-field",13),f.Xb(21,"mat-label",14),f.Tc(22,"Requested Card Limit *"),f.Wb(),f.Xb(23,"input",15),f.fc("keypress",function(e){return t._keyPress1(e)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(24,"div",16),f.Xb(25,"mat-form-field",17),f.Xb(26,"mat-label",14),f.Tc(27,"System Recommendation *"),f.Wb(),f.Xb(28,"mat-select",18),f.Xb(29,"mat-option",19),f.Tc(30,"Select"),f.Wb(),f.Rc(31,Wi,2,2,"mat-option",20),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(32,"div",11),f.Xb(33,"div",12),f.Xb(34,"mat-form-field",13),f.Xb(35,"mat-label",14),f.Tc(36,"User Recommendation *"),f.Wb(),f.Xb(37,"mat-select",21),f.Rc(38,Xi,2,2,"mat-option",20),f.Wb(),f.Rc(39,Ii,2,0,"mat-error",22),f.Wb(),f.Wb(),f.Xb(40,"div",16),f.Xb(41,"mat-form-field",17),f.Xb(42,"mat-label",14),f.Tc(43,"Recommended Card Limit"),f.Wb(),f.Xb(44,"span",23),f.Tc(45),f.Wb(),f.Xb(46,"input",24),f.fc("keypress",function(e){return t._keyPress1(e)})("blur",function(e){return t.transformAmount(e)}),f.Wb(),f.Rc(47,ki,2,0,"mat-error",25),f.Rc(48,Si,2,0,"mat-error",25),f.Wb(),f.Wb(),f.Wb(),f.Xb(49,"div",11),f.Xb(50,"div",12),f.Xb(51,"mat-form-field",13),f.Xb(52,"mat-label",14),f.Tc(53,"Approved Card Limit"),f.Wb(),f.Xb(54,"input",26),f.fc("keypress",function(e){return t._keyPress1(e)}),f.Wb(),f.Wb(),f.Wb(),f.Xb(55,"div",16),f.Xb(56,"mat-form-field",17),f.Xb(57,"mat-label",14),f.Tc(58,"Remarks"),f.Wb(),f.Sb(59,"input",27),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(60,"div",28),f.Xb(61,"button",29),f.fc("click",function(){return t.goBack()}),f.Tc(62," Back "),f.Wb(),f.Xb(63,"button",30),f.fc("click",function(){return t.goNext(t.assessmentForm.value)}),f.Tc(64," Next "),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(16),f.rc("formGroup",t.assessmentForm),f.Eb(15),f.rc("ngForOf",t.arraySystemRecommendation),f.Eb(7),f.rc("ngForOf",t.arrayUserRecommendation),f.Eb(1),f.rc("ngIf",!t.assessmentForm.get("userRecommendation").valid&&t.assessmentForm.get("userRecommendation").touched),f.Eb(6),f.Uc(t.currencySymboll),f.Eb(2),f.rc("ngIf",t.assessmentForm.get("recommendedCardLimit").touched&&0==t.assessmentForm.get("recommendedCardLimit").value),f.Eb(1),f.rc("ngIf",t.assessmentForm.get("recommendedCardLimit").value>1e4),f.Eb(15),f.rc("disabled",!t.assessmentForm.valid))},directives:[W.e,W.b,C.a,C.h,p.A,p.s,p.j,W.f,I.c,I.g,X.b,p.c,p.r,p.i,tt.a,rt.n,c.m,c.n,p.y,W.d,x.b,I.b],styles:[".Back[_ngcontent-%COMP%]{margin:12px 0 12px -7%!important;color:#fff!important;background-color:#a0a0a0!important;border-radius:45px!important}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px!important}.Next[_ngcontent-%COMP%]{margin:12px -11% 12px 0!important;border-radius:55px!important}.field[_ngcontent-%COMP%]{margin-left:15px}.alignment[_ngcontent-%COMP%]{font-size:12px;outline:none!important;border:none!important;text-align:start;font-weight:700}.hint[_ngcontent-%COMP%]{padding-left:.8rem;color:grey;font-size:12px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -14%;background-color:#a0a0a0;border-radius:45px}.Back[_ngcontent-%COMP%], .Next[_ngcontent-%COMP%]{width:150px;color:#fff}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;background-color:#426af5;border-radius:55px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.valueText[_ngcontent-%COMP%], .valueTextName[_ngcontent-%COMP%]{color:#0f0f0f;padding-left:10px;font-size:14px}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.type[_ngcontent-%COMP%]{text-transform:capitalize}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),Oi),Di=i("XNiG"),Ei=i("IheW"),Ai=i("yb/K"),wi=i("6slg"),_i=i("ZbbW"),Pi=i("uOmj"),Ni=i("35u7");function Ri(e,t){if(1&e&&(f.Xb(0,"mat-card"),f.Xb(1,"label"),f.Xb(2,"span",15),f.Tc(3),f.Wb(),f.Tc(4),f.Wb(),f.Xb(5,"div"),f.Sb(6,"app-genric-document-upload",16),f.Wb(),f.Wb()),2&e){var r=t.$implicit,n=t.index,a=f.jc();f.Eb(3),f.Wc("Customer Name(",n+1,"/",a.docholder.length,") :"),f.Eb(1),f.Xc("\xa0\xa0 ",r.firstName,"\xa0",null==r?null:r.middleName,"\xa0",r.lastName,""),f.Eb(2),f.rc("screenInfo",a.screenInfo[n])}}var Fi,Mi=((Fi=function(){function t(e,r,n,a,i,o,c,l,u,b,d,m,p,g,f){var h=this;s(this,t),this.http=e,this.tokenService=r,this.dialog=n,this.router=a,this.fb=i,this.snack=o,this.ls=c,this.shareDataService=l,this.cdr=u,this.api=b,this.dialogService=d,this.loader=m,this.accountService=p,this.appApiService=g,this.doOcrService=f,this.webcamImage=null,this.webcamImage1=null,this.scan1Array=[],this.scan2Array=[],this.scan3Array=[],this.customerId=null,this.frontImageArray=[],this.backImageArray=[],this.otherImageArray=[],this.otherDocumentArray=[],this.boxArray=[],this.document_type=["6","7","8"],this.custDocExist=!1,this.selectedOptions2=[],this.documentSide=null,this.frontImage=null,this.backImage=null,this.otherImage=null,this.secondBoxArray=[],this.thirdBoxArray=[],this.ocrResult="Recognizing...",this.selectedDocumentTypes2=[],this.nameOnCard=[],this.dobArray=[],this.idNumberArray=[],this.docarr=[],this.addressArray=[],this.dataFetched=!1,this.boxArray2=[],this.boxArray3=[],this.doc_name=[],this.docholder=[],this.docuNameArray=[],this.arrayOfImageArrays0=[],this.arrayOfImageArrays1=[],this.arrayOfImageArrays2=[],this.docValArray=[],this.docarray1=[],this.newOtherPage=!1,this.disableNextAtIndex1=!0,this.otherDocPages=[],this.otherDocumentArray2=[],this.isDocumentUploadDone=!1,this.isDocumentUpload=!1,this.screenInfo=[],this.ff=!1,this.bf=!1,this.docName="document_name",this.progressValFrontArray=[],this.progressValBackArray=[],this.progressValOthersArray=[],this.progressValOtherDocumentArray=[],this.customerDocs=[],this.trigger=new Di.a,this.aadharParser=function(e){try{for(var t,r,n=2,a=e.replace(/[^\x00-\x7F]/g,"").trim().split("\n"),i=a.length-1;i>=0;i--){for(var o=0,c=-1,s=0;s<a[i].length;s++)a[i][s]>="0"&&a[i][s]<="9"&&(o++,-1===c&&(c=s));o>=12&&(t=a[i].substr(c,c+14))}for(var l=function(e){["DOB","Year of Birth"].some(function(t){var i=a[e].indexOf(t);-1!==i&&(r=a[e].trim().slice(i,a[e].length).split(" ").pop(),n=e-1,console.log(r))})},u=0;u<a.length;u++)l(u);var b=a[n].split(" ").filter(function(e){return e.length>1}).join(" ");return console.log(b),{dob:r,adharNumber:t,fullName:b}}catch(d){console.log(d),console.error("Unable to parse aadhar")}},this.isDocumentOptionDisabled2=function(e){return h.selectedOptions2.includes(e)},this.panCardParser=function(e){try{var t=e.replace(/[^\x00-\x7F]/g,""),r=t.indexOf("Permanent"),n=t.indexOf("Name"),a=t.slice(r,n).match("[A-Z]{5}[0-9]{4}[A-Z]{1}")[0],i=t.indexOf("Father's Name :"),o=t.slice(n,i).split("\n")[1].split(" "),c=t.slice(t.indexOf("Date of Birth"),t.length).split("\n")[1].split(" ")[0];return{panNumber:a,name:"".concat(o[0]," ").concat(o[1]),dateOfBirth:c}}catch(s){console.log(s),console.error("Unable to parse pan card"),h.snack.open("Please Upload Valid Document","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}},this.passportParser=function(e){var t;try{var r,n,a=e.replace(/[^\x00-\x7F]/g,""),i=a.indexOf("Given Name"),o=a.slice(i,a.length).split("\n"),c=o.findIndex(function(e){return e.indexOf("Date of Issue")>-1})+1;if(c>0){var s=o[c].split(" ");r=s[s.length-2],n=s[s.length-2]}for(var l,u=a.indexOf("Nationality"),b=null===(t=a.slice(u,a.length))||void 0===t?void 0:t.split("\n")[1].split(" ").pop(),d=a.trim().split("\n"),m=d.length-1;m>=0;m--)if(d[m].includes("<")){l=d[m].substr(0,d[m].indexOf("<"));break}return{dob:b,name:o[1],issueNoString:l,dateOfIssue:r,dateOfExpiry:n}}catch(p){console.error("Unable to parse passport")}}}return u(t,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(function(t){for(var r=0;r<=t.data.length;r++)e.screen={screenName:"Cad Document Upload",name:t.data[r].firstName,data:"",customerId:t.data[r].customerId,cifNumber:t.data[r].cifNumber},e.screenInfo.push(e.screen)}),console.log(this.screenInfo),this.customerId=sessionStorage.getItem("customer_id"),this.customer_Id=sessionStorage.getItem("customer_id"),this.addCustomer(),this.getCustomerInformationDetails(),this.documentForm=this.fb.group({documentName:["",[p.z.required]],frontSide:["",[p.z.required]],backSide:[""],others:[""],items:this.fb.array([this.inititemrows("")])}),this.doc_name=["Aadhar card","Pan card","Passport"],this.docValArray=["frontSide","backSide","others"],this.tokenService.getDropDownValues(this.docName).subscribe(function(t){e.document_name=t}),this.tokenService.getDropDownValues("document_type").subscribe(function(t){e.documentTypeArr=t}),this.api.getName().subscribe(function(t){e.assignName(t.name)}),this.api.getOCR().subscribe(function(e){}),this.shareDataService.getCustomerId.subscribe(function(t){e.api.getOCR().subscribe(function(t){console.log("ocr resp from backend ",t),e.assignOCRValues(t)}),console.log("cId=",t)}),this.doOcrService.getenableNext().subscribe(function(t){console.log("data disableNextAtIndex1 :: ",t),e.disableNextAtIndex1=t}),this.documentForm.valueChanges.subscribe(function(t){t.doc_list.length>0&&(console.log("data.doc_list.length",t.doc_list.length),e.selectedOptions2=[],t.doc_list.forEach(function(t,r){e.selectedOptions2.push(t.documentType)}))}),this.api.getKycDataFetchedInfo().subscribe(function(t){e.documentForm=e.fb.group({documentsList:e.fb.array([e.createItem()]),doc_list:e.fb.array("DATA FETCH"===t?[]:[e.createDocItem()]),id:[""],upload:["",[p.z.required]]}),"DATA FETCH"===t?(e.dataFetched=!0,e.dataFetchedValue=t):e.dataFetched=!1}),this.disableNext=!0}},{key:"addCustomer",value:function(){this.docarr.push(this.inititemrows(""))}},{key:"addCust",value:function(){this.docarr.push(this.inititemrows(""))}},{key:"inititemrows",value:function(e){return this.fb.group({id:e?e.id:[""],fileUrl:e?e.fileUrl:[""]})}},{key:"addDocumentlist",value:function(e){this.newOtherPage=!1,this.disableNext=!0;for(var t=0;t<=e.data.length-1;t++)this.documentsList=this.documentForm.get("documentsList"),this.documentsList.push(this.createItem()),this.doc_list.push(this.createDocItem())}},{key:"addDocuments",value:function(){this.newOtherPage=!1,this.disableNext=!0,this.documentsList=this.documentForm.get("documentsList"),this.documentsList.push(this.createItem()),this.doc_list.push(this.createDocItem())}},{key:"createDocItem",value:function(){return this.fb.group({documentName:["",[p.z.required]],frontSide:["",[p.z.required]],backSide:[""],others:[""],fileUrl:[""]})}},{key:"createItem",value:function(){return this.fb.group({id:[""],documentName:["",p.z.required],documentType:[""]})}},{key:"assignOCRValues",value:function(e){console.log(e),this.dob=e.dob,this.namePancard=e.namePancard,this.panNumber=e.panNumber,this.frontImageArray[0]=e.imageOCR,this.backImageArray[0]=e.imageOCRBack,e.imageOCRBack&&(this.backImageArray[0]=e.imageOCRBack,this.secondBoxArray[0]=!0,this.address=e.address,this.addressDisplay=!0,this.progressValBackArray[0]=100);var t=Object.values(e).some(function(e){return Boolean(e)});console.log("hasNonEmptyFields",t),t&&(this.documentForm.get("documentName").patchValue("Aadhar card"),console.log(this.documentForm.get("documentName")),this.progressValFrontArray[0]=100,this.disableNext=!0,this.pancard=!0)}},{key:"delete",value:function(e,t,r){this.docum_name=e.documentName,this.customerId=sessionStorage.getItem("customer_id"),2==t&&(this.secondBoxArray[r]=!1,this.addressDisplay=!1,this.progressValBackArray[r]=0,this.backImageArray[r]=null,this.backSelected=null,this.document_side=t,this.api.deleteCustDoc(this.customerId,this.docum_name,this.document_side).subscribe(function(e){})),3==t&&(this.thirdBoxArray[r]=!1,this.progressValOthersArray[r]=0,this.otherImageArray[r]=null,this.othersSelected=null,this.document_side=t,this.api.deleteCustDoc(this.customerId,this.docum_name,this.document_side).subscribe(function(e){})),this.disableNext=!1}},{key:"getCustomerInformationDetails",value:function(){var e=this;this.appApiService.fetchCardCustomersByCardId(this.cardId,"cardOrigin").subscribe(function(t){console.log(t.data),console.log(t.data.customerId),e.docholder=t.data;for(var r=0;r<=t.data.length-1;r++)e.getCustomerDocuments(t.data[r].customerId);console.log(e.docholder),e.addDocumentlist(t)},function(e){})}},{key:"deleteOtherDocument",value:function(e,t,r){this.docum_name=e.documentName,this.customerId=sessionStorage.getItem("customer_id"),this.newDocumentSide=r+4,this.docarray1[t][r]&&(this.docarray1[t].pop(),this.otherDocumentArray[t][r]=null),this.api.deleteCustDoc(this.customerId,this.docum_name,this.newDocumentSide).subscribe(function(e){})}},{key:"assignName",value:function(e){this.name=e.toLowerCase()}},{key:"addotherpage",value:function(e){if(this.docarray1[e])this.docarray1[e].push(this.inititemrows(""));else{var t=[this.inititemrows("")];this.docarray1[e]=t,this.otherDocumentArray[e]=[],this.progressValOtherDocumentArray[e]=[]}}},{key:"createOtherForm",value:function(e){return this.fb.group({id:[""],fileData:e?e.fileData:[""],fileUrl:e?e.fileUrl:[""]})}},{key:"goNext",value:function(){this.ls.setItem("CARD_DOCUMENT_STAGE_DONE",!0),this.ls.setItem("CARD_DOCUMENT_DONE",!0),this.ls.setItem("CARD_ENRICHMENT_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/documentupload/list"])}},{key:"triggerSnapshot",value:function(e){this.trigger.next(),this.scan1Array[e]=!1,this.scan2Array[e]=!1,this.scan3Array[e]=!1}},{key:"callingBox2",value:function(e){this.secondBoxArray[e]=!0,this.disableNext=!0,console.log(this.secondBoxArray[e])}},{key:"callingBox3",value:function(e){this.thirdBoxArray[e]=!0,this.disableNext=!0,this.newOtherPage=!0}},{key:"doOCR",value:function(t,r,n,a,i){var o,c,s,l=this,u=Object(Ai.createWorker)({logger:function(e){return console.log(e)}});o=l,s=e().mark(function o(){var c,s,l,b,d,m,p,g,f,h,y=this;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loader.open(),e.next=3,u.load();case 3:return e.next=5,u.loadLanguage("eng");case 5:return e.next=7,u.initialize("eng");case 7:return e.next=9,u.recognize(t);case 9:if(c=e.sent,s=c.data.text,this.loader.close(),3===a){e.next=39;break}if(!(a>3)){e.next=16;break}this.uploadDoc(t,n,r,a,i),e.next=37;break;case 16:if("Pan card"===this.documentForm.value.documentsList[i].documentName&&(l=this.panCardParser(s),this.nameDoc=l.name.toLowerCase()),"Passport"!=this.documentForm.value.documentsList[i].documentName){e.next=21;break}if(b=this.passportParser(s),this.nameDoc=b.name.toLowerCase(),this.nameDoc){e.next=21;break}return e.abrupt("return",void this.shotToast("The document is not a valid Passport"));case 21:if("Aadhar card"!=this.documentForm.value.documentsList[i].documentName||"1"!=a){e.next=25;break}if(d=this.aadharParser(s),this.nameDoc=d.fullName.toLowerCase(),!1!==/^([a-z]){2,30}$/.test(this.nameDoc.replace(/\s/g,""))){e.next=25;break}return e.abrupt("return",void this.shotToast("The document is not a valid Aadhar card"));case 25:if("Aadhar card"!=this.documentForm.value.documentsList[i].documentName||"2"!=a){e.next=34;break}for(this.aadharParser(s),m=s.split(","),p=0;p<m.length;p++)m[p]=m[p].replace(/[^a-zA-Z ]/g,""),console.log("array after removing special characters ",m[p]);if(void 0===m[2]&&(m[2]=""),void 0===m[5]&&(m[5]=""),void 0===m[6]&&(m[6]=""),void 0===m[7]&&(m[7]=""),void 0!==m[2]||void 0!==m[5]||void 0!==m[6]||void 0!==m[7]){e.next=31;break}return e.abrupt("return",void(this.addressDisplay=!1));case 31:if(""!==m[2]||""!==m[5]||""!==m[6]||""!==m[7]){e.next=33;break}return e.abrupt("return",void(this.addressDisplay=!1));case 33:this.addressArray[i]=m[3]+","+m[5]+","+m[7],this.addressDisplay=!0,this.uploadDoc(t,n,r,a,i);case 34:return console.log(s.includes(this.name)),this.ocrFlag=s.includes(this.name),"1"==a&&this.nameDoc.replace(/\s/g,"")!==this.name.replace(/\s/g,"")?this.dialogService.confirmationDialog(this.nameDoc,this.name).subscribe(function(e){if(console.log(e),"No"==e&&y.changeValue2_Ocr(r,i),"Yes"==e){if("Pan card"==y.documentForm.value.documentsList[i].documentName){var o=y.panCardParser(s);y.nameOnCard[i]=o.name.toLowerCase(),y.dobArray[i]=o.dateOfBirth,y.idNumberArray[i]=o.panNumber,y.pancard=!0,y.uploadDoc(t,n,r,a,i)}if("Passport"==y.documentForm.value.documentsList[i].documentName){var c=y.passportParser(s);y.nameOnCard[i]=c.name.toLowerCase(),y.dobArray[i]=c.dob,y.idNumberArray[i]=c.issueNoString,y.dateOfIssue=c.dateOfIssue,y.dateOfExpiry=c.dateOfExpiry,y.pancard=!0,y.uploadDoc(t,n,r,a,i)}if("Aadhar card"==y.documentForm.value.documentsList[i].documentName){var l=y.aadharParser(s);y.nameOnCard[i]=l.fullName.toLowerCase(),y.dobArray[i]=l.dob,y.idNumberArray[i]=l.adharNumber,y.pancard=!0,y.uploadDoc(t,n,r,a,i)}else y.uploadDoc(t,n,r,a,i)}}):"1"==a&&this.nameDoc.replace(/\s/g,"")==this.name.replace(/\s/g,"")&&("Pan card"==this.documentForm.value.documentsList[i].documentName&&(g=this.panCardParser(s),this.nameOnCard[i]=g.name.toLowerCase(),this.dobArray[i]=g.dateOfBirth,this.idNumberArray[i]=g.panNumber,this.pancard=!0,this.uploadDoc(t,n,r,a,i)),"Passport"==this.documentForm.value.documentsList[i].documentName&&(f=this.passportParser(s),this.nameOnCard[i]=f.name.toLowerCase(),this.dobArray[i]=f.dob,this.idNumberArray[i]=f.issueNoString,this.dateOfIssue=f.dateOfIssue,this.dateOfExpiry=f.dateOfExpiry,this.pancard=!0,this.uploadDoc(t,n,r,a,i)),"Aadhar card"==this.documentForm.value.documentsList[i].documentName?(h=this.aadharParser(s),this.nameOnCard[i]=h.fullName.toLowerCase(),this.dobArray[i]=h.dob,this.idNumberArray[i]=h.adharNumber,this.pancard=!0,this.uploadDoc(t,n,r,a,i)):this.uploadDoc(t,n,r,a,i)),e.next=37,u.terminate();case 37:e.next=40;break;case 39:this.uploadDoc(t,n,r,a,i);case 40:case"end":return e.stop()}},o,this)}),new((c=void 0)||(c=Promise))(function(e,t){function r(e){try{a(s.next(e))}catch(r){t(r)}}function n(e){try{a(s.throw(e))}catch(r){t(r)}}function a(t){var a;t.done?e(t.value):(a=t.value,a instanceof c?a:new c(function(e){e(a)})).then(r,n)}a((s=s.apply(o,[])).next())})}},{key:"handleImage",value:function(e,t){this.webcamImage=e,this.fun(this.webcamImage,t)}},{key:"handleImage1",value:function(e,t){this.webcamImage1=e,this.fun1(this.webcamImage1,t)}},{key:"changeValue2",value:function(e,t){var r=this;this.disableNext=!0,this.selectedDocumentTypes2[t]&&(this.selectedOptions2=this.selectedOptions2.filter(function(e){return e!==r.selectedDocumentTypes2[t]})),this.selectedDocumentTypes2[t]=e,this.selectedOptions2.push(e),this.secondBoxArray[t]=!1,this.thirdBoxArray[t]=!1,this.frontImageArray[t]="",this.backImageArray[t]="",this.otherImageArray[t]="",this.backSelected="",this.frontSelected="",this.othersSelected="",this.progressValFrontArray[t]=0,this.progressValBackArray[t]=0,this.pancard=!1,console.log("i=",t)}},{key:"changeValue2_Ocr",value:function(e,t){"frontSide"===e&&(this.frontImageArray[t]="",this.frontSelected="",this.progressValFrontArray[t]=0),"backSide"===e&&(this.secondBoxArray[t]=!1,this.backImageArray[t]="",this.backSelected="",this.progressValBackArray[t]=0),"others"===e&&(this.thirdBoxArray[t]=!1,this.otherImageArray[t]="",this.othersSelected="",this.progressValOthersArray[t]=0,this.disableNext=!0)}},{key:"j",value:function(e,t){throw new Error("Method not implemented.")}},{key:"handleImage2",value:function(e,t){console.log(t),this.webcamImage2=e,this.function2(this.webcamImage2,t)}},{key:"function2",value:function(e,t){var r=this;console.log(t);var n=new FormData,a={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:e._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:3,idNumber:this.panNumber};console.log(e.imageAsDataUrl),this.otherImageArray[t]=e.imageAsDataUrl,this.displayVal2=!1;var i=this.dataURLtoFile(e.imageAsDataUrl,"Aadhar");n.append("data",JSON.stringify(a)),n.append("file",i),this.tokenService.upload(n).subscribe(function(e){r.progressValOthersArray[t]=100,4===e.type&&e.body&&(console.log("res.body.id",e.body.id),r.assignIdValues("others",e.body.id)),r.documentForm.get("backSide").patchValue(!0)},function(e){201==e.status&&(r.ff=!0,r.documentForm.get("backSide").patchValue(!0),r.shotToast("Document Uploaded!"))})}},{key:"triggerObservable",get:function(){return this.trigger.asObservable()}},{key:"tabClick",value:function(e){var t=e.tab.textLabel;"Documents Upload"===t&&this.router.navigateByUrl("/others/documents"),"verification"===t&&this.router.navigateByUrl("/others/verification"),"Basic Information"===t&&this.router.navigateByUrl("/others/kyc")}},{key:"onNext",value:function(e){this.documentForm.reset(),this.tokenService.setIndex({index:2}),this.tokenService.setFinishFlag({finishFlag:!0}),this.updateKycStatus(),localStorage.setItem("page_id","2")}},{key:"getCustomerDocuments",value:function(e){var t=this,r=function(r){if(Object.prototype.hasOwnProperty.call(t.document_type,r)){var n=t.document_type[r];console.log(n,r,e),t.tokenService.getCustomerDocuments(e,n).subscribe(function(e){var n;console.log(r,e,t.documentForm),t.customerDocs=e,t.docuNameArray=["Aadhar card","Pan card","Passport"],console.log(t.documentForm.controls.documentsList.controls),t.documentForm.controls.documentsList.controls[0].controls.documentName.setValue(t.docuNameArray[0]),t.doc_name=["Aadhar card","Pan card","Passport"];for(var a=0;a<(null===(n=t.customerDocs)||void 0===n?void 0:n.length);a++){if(t.customerDocs[a]){console.log(t.customerDocs[a].documentName);for(var i=0;i<3;i++)t.customerDocs[a].documentName==t.doc_name[i]&&1==t.customerDocs[a].documentSide&&(t.frontImageArray[i]=t.customerDocs[a].fileUrl,t.progressValFrontArray[i]=100,console.log("index",i));for(var o=0;o<3;o++)t.customerDocs[a].documentName==t.doc_name[o]&&2==t.customerDocs[a].documentSide&&(t.backImageArray[o]=t.customerDocs[a].fileUrl,t.progressValBackArray[o]=100,t.secondBoxArray[o]=!0);for(var c=0;c<3;c++)t.customerDocs[a].documentName==t.doc_name[c]&&3==t.customerDocs[a].documentSide&&(t.otherImageArray[c]=t.customerDocs[a].fileUrl,t.progressValOthersArray[c]=100,t.thirdBoxArray[c]=!0);for(var s=0;s<3;s++)if(t.customerDocs[a].documentName==t.doc_name[s]&&t.customerDocs[a].documentSide>3){if(t.fetchChildIndex=t.customerDocs[a].documentSide-4,t.newOtherPage=!0,t.docarray1[s])t.docarray1[s].push(t.inititemrows(""));else{var l=[t.inititemrows("")];t.docarray1[s]=l,t.otherDocumentArray[s]=[]}t.otherDocumentArray[s][t.fetchChildIndex]=t.customerDocs[a].fileUrl,console.log("this.otherDocumentArray",t.otherDocumentArray)}}t.disableNext=!1}if(t.customerDocs.length>0){if(t.page_id=t.ls.getItem("page_id"),console.log(t.page_id),"Pan card"==t.customerDocs[0].documentName&&2!==t.page_id){var u=document.getElementById("auto_trigger");u&&(console.log(u),u.click()),t.disableNext=!1}if(t.documentForm.controls.documentsList.controls[1].controls.documentName.setValue(t.docuNameArray[1]),"Passport"==t.customerDocs[0].documentName&&2!==t.page_id){var b=document.getElementById("auto_trigger");b&&(console.log(b),b.click()),t.disableNext=!1}t.documentForm.controls.documentsList.controls[2].controls.documentName.setValue(t.docuNameArray[2]),"Pan card"==t.frontImage.documentName&&(t.panNumber=t.customerDocs.find(function(e){return 2==e.documentSide}).idNumber),"Aadhar card"==t.frontImage.documentName&&(t.panNumber=t.customerDocs.find(function(e){return 1==e.documentSide}).idNumber),t.panNumber&&(t.pancard=!0),null!=t.frontImage&&(t.progressValFrontArray[0]=100),null!=t.backImage&&(t.progressValBackArray[0]=100),null!=t.otherImage&&(t.progressValOthersArray[0]=100),t.documentForm.patchValue({documentName:t.customerDocs[0].documentName,frontSide:t.customerDocs[0].documentName,backSide:t.customerDocs[0].documentName}),console.log(t.customerDocs[0].documentName)}t.cdr.markForCheck(),console.log("end of api")})}};for(var n in this.document_type)r(n);this.custId=e}},{key:"convertBlob",value:function(e){return this.sanitizer.bypassSecurityTrustUrl("data:image/jpeg;base64,"+e)}},{key:"updateKycStatus",value:function(){this.tokenService.updateKycStatusByCustId(this.customer_Id,"UNDER_PROCESS","").subscribe(function(e){console.log("update response :: ",e)})}},{key:"previous",value:function(){this.tokenService.setIndex({index:0})}},{key:"openDialog",value:function(){this.dialog.open(Pi.a,{data:{number:"9656849771",type:"Mobile Number"},disableClose:!0}).afterClosed().subscribe(function(e){})}},{key:"scan",value:function(e){this.scan1Array[e]=!0,this.scan2Array[e]=!1,this.scan3Array[e]=!1,this.disableNext=!1}},{key:"scan12",value:function(e){this.scan1Array[e]=!1,this.scan2Array[e]=!0,this.scan3Array[e]=!1,this.disableNext=!1}},{key:"scan13",value:function(e){this.scan1Array[e]=!1,this.scan2Array[e]=!1,this.scan3Array[e]=!0,this.disableNext=!1}},{key:"fun",value:function(e,t){var r=this,n=new FormData,a={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:e._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:1,idNumber:this.panNumber};this.frontImageArray[t]=e.imageAsDataUrl,this.displayVal=!1;var i=this.dataURLtoFile(e.imageAsDataUrl,"Aadhar");n.append("data",JSON.stringify(a)),n.append("file",i),this.tokenService.upload(n).subscribe(function(e){r.progressValFrontArray[t]=100,r.documentForm.get("frontSide").patchValue(!0)},function(e){201==e.status&&(r.bf=!0,r.documentForm.get("frontSide").patchValue(!0),r.shotToast("Document Uploaded!"))})}},{key:"fun1",value:function(e,t){var r=this;console.log("inside fun1");var n=new FormData,a={customerId:this.refreshCustomerId,documentName:this.documentForm.value.documentName,documentType:"3",fileType:e._mimeType,fileName:"doc",verificationType:"KYC verification",documentSide:2,idNumber:this.panNumber};this.backImageArray[t]=e.imageAsDataUrl,this.displayVal1=!1;var i=this.dataURLtoFile(e.imageAsDataUrl,"Aadhar");n.append("data",JSON.stringify(a)),n.append("file",i),this.tokenService.upload(n).subscribe(function(e){r.progressValBackArray[t]=100,4===e.type&&e.body&&(console.log("res.body.id",e.body.id),r.assignIdValues("backSide",e.body.id)),r.documentForm.get("backSide").patchValue(!0)},function(e){201==e.status&&(r.ff=!0,r.documentForm.get("backSide").patchValue(!0),r.shotToast("Document Uploaded!"))})}},{key:"dataURLtoFile",value:function(e,t){for(var r=e.split(","),n=r[0].match(/:(.*?);/)[1],a=atob(r[1]),i=a.length,o=new Uint8Array(i);i--;)o[i]=a.charCodeAt(i);return new File([o],t,{type:n})}},{key:"assign",value:function(e){this.customerId=e}},{key:"onUpload",value:function(e,t,r,n,a){var i=this;if(console.log(a),this.newDocumentSide=r,this.childindex=r-4,console.log(e,t,r),"frontSide"===t&&(this.progressValFrontArray[n]=0),"backSide"===t&&(this.progressValBackArray[n]=0),"others"===t&&(this.progressValOthersArray[n]=0),this.selectedFiles=e.target.files[0],this.shotToast("Your file size is "+this.formatBytes(e.target.files[0].size,2)),e.target.files){var o=new FileReader;o.readAsDataURL(e.target.files[0]),o.onload=function(e){i.image=e.target.result,"backSide"===t&&(i.backSelected=i.selectedFiles.name,i.doOCR(i.image,t,i.selectedFiles,r,n),i.displayVal1=!0),"frontSide"===t&&(i.frontSelected=i.selectedFiles.name,i.doOCR(i.image,t,i.selectedFiles,r,n),i.displayVal=!0),"others"===t&&(i.othersSelected=i.selectedFiles.name,i.doOCR(i.image,t,i.selectedFiles,r,n),i.displayVal2=!0),"otherDocument"===t&&(i.otherDocumentSelected=i.selectedFiles.name,i.otherDocumentArray[n][i.childindex]=i.image,console.log("final document",i.docarray1),i.doOCR(i.otherDocumentArray[n][i.childindex],t,i.selectedFiles,r,n))}}this.disableNext=!1}},{key:"formatBytes",value:function(e,t){if(0===e)return"0 Bytes";var r=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}},{key:"uploadDoc",value:function(e,t,r,n,a){var i=this;this.childindex=n-4,console.log("URL ---- ",t);var o=new FormData;"Aadhar card"===this.documentForm.value.documentsList[a].documentName&&(this.docType="6"),"Pan card"===this.documentForm.value.documentsList[a].documentName&&(this.docType="7"),"Passport"===this.documentForm.value.documentsList[a].documentName&&(this.docType="8");var c={customerId:this.docholder[a].customerId,documentName:this.documentForm.value.documentsList[a].documentName,documentType:this.docType,fileType:t.type,fileName:t.name,verificationType:"KYC verification",documentSide:n,idNumber:this.panNumber,name:this.namePancard,dob:this.dob};o.append("data",JSON.stringify(c)),o.append("file",t),console.log("URL -- ",t.name,c,o),this.uploadSub=this.tokenService.upload(o).subscribe(function(t){console.log("Response -- ",t),"backSide"===r?t.type&&t.type==Ei.e.UploadProgress&&(i.progressValBackArray[a]=Math.round(t.loaded/t.total*100),i.backImageArray[a]=e):"frontSide"===r?t.type&&t.type==Ei.e.UploadProgress&&(i.progressValFrontArray[a]=Math.round(t.loaded/t.total*100),i.frontImageArray[a]=e):"others"===r&&t.type&&t.type==Ei.e.UploadProgress&&(i.progressValOthersArray[a]=Math.round(t.loaded/t.total*100),console.log("uploadProgress others",i.progressValOthersArray[a]),i.otherImageArray[a]=e),t.body&&(console.log("res.body.id",t.body.id),i.assignIdValues(r,t.body.id),i.documentForm.get(r).patchValue(!0),i.shotToast("Document Uploaded!"))},function(e){201==e.status?(i.documentForm.get(r).patchValue(!0),i.shotToast("Document Uploaded!")):"backSide"===r?(i.progressValBackArray[a]=0,i.backImageArray[a]=null,i.backSelected=null,i.shotToast(e.message)):(i.progressValFrontArray[a]=0,i.frontImageArray[a]=null,i.frontSelected=null,i.shotToast(e.message))})}},{key:"assignIdValues",value:function(e,t){console.log(e),"backSide"===e&&(this.backSideId=t),"others"===e&&(this.otherSideId=t),"otherDocument"===e&&(this.otherDocumentSideId=t)}},{key:"ngOnDestroy",value:function(){this.shareDataService.shareCustomerId(null)}},{key:"cancelUpload",value:function(e){this.uploadSub.unsubscribe(),this.shotToast("Document Uploaded Cancelled!"),"backSide"==e?(this.progressValBackArray[0]=0,this.backImageArray[0]=null,this.backSelected=null):(this.progressValFrontArray[0]=0,this.frontImageArray[0]=null,this.frontSelected=null)}},{key:"shotToast",value:function(e){this.snack.open(""+e,"OK",{duration:6e3,verticalPosition:"top",horizontalPosition:"right"})}},{key:"deleteDocument",value:function(e,t){console.log(this.customerId,e,t),this.customerId=this.ls.getItem("customerId");var r=this.documentForm.get("documentsList");console.log(r),r.removeAt(t),this.api.delCustDoc(this.customerId,e.documentName).subscribe(function(e){console.log("data after delete",e)})}},{key:"next",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"uploadLink",value:function(){var e=this;this.api.uploadDocLink(g.c,this.custId).subscribe(function(t){console.log("uploadDocLink",t),(""!=t||null==t||null!=t)&&(console.log("uploadDocLink",t),e.dialog.open(wi.a,{width:"35%",backdropClass:"dialog-bg-trans",height:"50%",disableClose:!0}).afterClosed().subscribe(function(e){console.log("The dialog was closed",e)}))})}}]),t}()).\u0275fac=function(e){return new(e||Fi)(f.Rb(Ei.c),f.Rb(g.b),f.Rb(y.b),f.Rb(v.h),f.Rb(p.f),f.Rb(h.a),f.Rb(m.a),f.Rb(je.a),f.Rb(f.h),f.Rb(g.b),f.Rb(pe.a),f.Rb(le.a),f.Rb(N.a),f.Rb(Je.a),f.Rb(_i.a))},Fi.\u0275cmp=f.Lb({type:Fi,selectors:[["app-document-details"]],viewQuery:function(e,t){var r;1&e&&f.ad(F.a,!0),2&e&&f.Cc(r=f.gc())&&(t.progressBar=r.first)},decls:20,vars:2,consts:[[1,"matcard-size"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask Group 6.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"ml-16"],[1,"mt-24"],[4,"ngFor","ngForOf"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[2,"font-size","20px"],[3,"screenInfo"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Document Upload"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(9,"div",7),f.Xb(10,"h2",8),f.Tc(11,"Document Details"),f.Wb(),f.Sb(12,"div",9),f.Rc(13,Ri,7,6,"mat-card",10),f.Wb(),f.Xb(14,"div",11),f.Xb(15,"button",12),f.fc("click",function(){return t.goBack()}),f.Tc(16,"BACK"),f.Wb(),f.Sb(17,"span",13),f.Xb(18,"button",14),f.fc("click",function(){return t.goNext()}),f.Tc(19,"Next"),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(13),f.rc("ngForOf",t.docholder),f.Eb(5),f.rc("disabled",t.disableNextAtIndex1))},directives:[W.e,W.b,c.m,x.b,C.a,Ni.a],styles:[".breadcrumb[_ngcontent-%COMP%]{position:fixed;top:40px;width:100%;background-color:#fff}.link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;color:#456efe;font-size:small;align-self:center}.head[_ngcontent-%COMP%]{background-color:#fff}.snapShot[_ngcontent-%COMP%]{margin-top:2%}.panCradDiv[_ngcontent-%COMP%]{height:30%;right:0;width:200px}.backIcon[_ngcontent-%COMP%]{color:red;float:right}.app-container[_ngcontent-%COMP%]{height:100%;width:100%}.basic-container[_ngcontent-%COMP%]{padding:5px}.main-head[_ngcontent-%COMP%]{padding-left:5%;padding-top:16px;padding-bottom:0}mat-tab-group[_ngcontent-%COMP%]{padding-left:2%}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;height:60vh;border:1px solid #000;padding:10px 5px;box-sizing:border-box}.flex-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0 5px;box-sizing:border-box}.flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){margin-top:5px}.flex-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){flex:1}.formField1[_ngcontent-%COMP%]{flex-grow:1;width:50px}.formField[_ngcontent-%COMP%], .formField2[_ngcontent-%COMP%]{flex-grow:1;width:100%}#row[_ngcontent-%COMP%]{font-size:9px;color:#2680eb}mat-hint[_ngcontent-%COMP%]{font-size:10px;margin-bottom:-12px;display:block}.inputMatcard[_ngcontent-%COMP%]{max-width:500px;padding:10px}.inputMatcard[_ngcontent-%COMP%], .inputMatcard1[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;width:100%}.inputMatcard1[_ngcontent-%COMP%]{padding:18px}.inputMatcard2[_ngcontent-%COMP%]{flex-grow:1;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;width:20px}.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.inputClass[_ngcontent-%COMP%]{border-style:hidden;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);font-weight:bolder}[_nghost-%COMP%]     .mat-form-field-outline-end, [_nghost-%COMP%]     .mat-form-field-outline-gap, [_nghost-%COMP%]     div.mat-form-field-outline-start{border-color:0!important;border-width:0!important}.form[_ngcontent-%COMP%]{gap:20px;justify-content:space-between}.form[_ngcontent-%COMP%], .form1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.form1[_ngcontent-%COMP%]{gap:50px;height:400px}.button[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;gap:20px;flex-wrap:wrap;justify-content:space-between;padding-left:11%;padding-right:14%}.matCard[_ngcontent-%COMP%]{max-width:1200px;align-items:center;justify-content:center;margin:10px auto 3%}.mat-form-field-flex[_ngcontent-%COMP%]{box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902)}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}mat-label[_ngcontent-%COMP%]{font-weight:700;font-size:12px;letter-spacing:0}.matSelect[_ngcontent-%COMP%]{margin-left:20%;width:80px;font-weight:lighter;font-size:10px;letter-spacing:0;color:#000;background-color:#f4f8f7}.dived[_ngcontent-%COMP%], .matSelect[_ngcontent-%COMP%]{padding-top:10px}.scanButton[_ngcontent-%COMP%]{width:80px;display:inline-block;background-color:#fff;color:#00f;border-color:#d3d3d3;margin-left:5px;border-style:ridge;margin-top:50px;border-radius:5px}.matIcon[_ngcontent-%COMP%]{font-size:30px}.insertDriveImg[_ngcontent-%COMP%], .matIcon[_ngcontent-%COMP%]{color:#456efe;display:block;margin:auto}.insertDriveImg[_ngcontent-%COMP%]{padding-top:30px;width:120px;height:120px;text-align:center}.flex-grow-2[_ngcontent-%COMP%]{padding:40px 50px;border:2px dashed #d3d3d3;border-radius:10px}.flex-grow-2[_ngcontent-%COMP%], .flex-grow-Upload[_ngcontent-%COMP%]{margin-bottom:5%}.alignment[_ngcontent-%COMP%]{border-style:none!important}.line[_ngcontent-%COMP%]{border:thick;border-style:solid;border-block-width:unset;color:#00f;color:#6988f6;width:40px;border-radius:5px;margin:initial;margin-bottom:20px}.uploadField[_ngcontent-%COMP%]{font-size:large}input[_ngcontent-%COMP%]{width:80%;color:#374664;opacity:1%;font-weight:600}.mat-tab-group.mat-primary[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-group.mat-primary[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-tab-label[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus, .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]:not(.mat-tab-disabled):focus{background:red}.mat-tab-label-active[_ngcontent-%COMP%]{color:green}  .mat-tab-label-active{color:#6988f6!important}.verification[_ngcontent-%COMP%]{float:right;color:#2a59e7}  .mat-tab-group.mat-primary .mat-ink-bar{background-color:#6988f6!important;height:4px}mat-tab-label[_ngcontent-%COMP%]{font-size:8px}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center}.line[_ngcontent-%COMP%]{flex:1}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}figure[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border-radius:50px;font-size:25px;text-align:center;margin-right:10px;background:#fff;line-height:1.7em}figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;width:30px;height:auto}.close[_ngcontent-%COMP%]{border-style:none;background-color:#fff;position:relative;top:10px}.Back[_ngcontent-%COMP%]{margin:12px 0 12px -12%;width:150px;color:#a9a9a9;border-radius:45px}.Next[_ngcontent-%COMP%]{margin:12px -13% 12px 0;width:150px;background-color:#426af5;color:#fff;border-radius:55px}.insertDrive[_ngcontent-%COMP%]{color:#456efe;display:block;margin:auto;font-size:25px}.progressDiv[_ngcontent-%COMP%]{flex-grow:1;align-self:flex-end}.progress[_ngcontent-%COMP%]{text-align:end;font-size:7px}.formSectionContainer[_ngcontent-%COMP%]{gap:40px;display:grid;grid-template-columns:200px auto}@media (max-width:768px){.formSectionContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}}.formImg[_ngcontent-%COMP%]{background-color:green;max-height:100px}.dropDown[_ngcontent-%COMP%]{display:block}.mat-radio-button.mat-accent.mat-radio-checked[_ngcontent-%COMP%]   .mat-radio-outer-circle[_ngcontent-%COMP%]{border-color:#4286f4!important}.mat-radio-button.mat-accent[_ngcontent-%COMP%]   .mat-radio-inner-circle[_ngcontent-%COMP%]{color:#4286f4;background-color:#4286f4}  .egret-navy .mat-progress-bar-buffer{background-color:#add8e6!important}  .egret-navy .mat-progress-bar-fill:after{background-color:#00f!important}#sides[_ngcontent-%COMP%]{width:100px}#box[_ngcontent-%COMP%]{display:flex}.Back[_ngcontent-%COMP%]{background-color:grey;color:#fff}.changeInput[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;text-align:center}.Upload[_ngcontent-%COMP%]{vertical-align:c;align-self:center;position:relative}button[disabled][_ngcontent-%COMP%]{color:#666}.docimg[_ngcontent-%COMP%]{height:100px;width:100%;-o-object-fit:cover;object-fit:cover}.errbd[_ngcontent-%COMP%]{border:1px solid red}.sub_div[_ngcontent-%COMP%]{position:absolute;bottom:0}p[_ngcontent-%COMP%]{margin-left:300px}.button_2[_ngcontent-%COMP%]{margin-left:600px;bottom:100px}.button_2[_ngcontent-%COMP%], .button_3[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content}.button_3[_ngcontent-%COMP%]{bottom:50px}.Backbtn[_ngcontent-%COMP%]{border:none}"]}),Fi),Li=function(){return{y:"50px",delay:"300ms"}},Vi=function(e){return{value:"*",params:e}};function ji(e,t){1&e&&(f.Xb(0,"div",17),f.Xb(1,"mat-card"),f.Xb(2,"div",18),f.Xb(3,"div",19),f.Xb(4,"mat-icon",20),f.Tc(5,"check_circle"),f.Wb(),f.Wb(),f.Xb(6,"div",21),f.Xb(7,"h6"),f.Tc(8,"Application Entry Stage Completed"),f.Wb(),f.Wb(),f.Sb(9,"span",22),f.Xb(10,"button",23),f.Tc(11," View Summary "),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("@animate",f.xc(2,Vi,f.wc(1,Li))))}function Bi(e,t){1&e&&(f.Xb(0,"div",24),f.Sb(1,"mat-progress-bar",25),f.Xb(2,"p",26),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function zi(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",27),f.fc("click",function(){return f.Hc(r),f.jc().documentdetails()}),f.Tc(2," Add Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}function qi(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",27),f.fc("click",function(){return f.Hc(r),f.jc().documentdetails()}),f.Tc(2," view details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var Ui,Gi=((Ui=function(){function e(t,r){s(this,e),this.router=t,this.ls=r,this.isLoanApplicationEntryDone=!1,this.isLoanDetailScreen=!1,this.isDocumentUploadDone=!1,this.isDocumentUpload=!1}return u(e,[{key:"ngOnInit",value:function(){this.isDocumentUpload=this.ls.getItem("CARD_DOCUMENT_DONE"),this.isDocumentUpload&&(this.isDocumentUploadDone=!0)}},{key:"documentdetails",value:function(){this.router.navigate(["/cardaccount/documentupload/list/document-details"])}}]),e}()).\u0275fac=function(e){return new(e||Ui)(f.Rb(v.h),f.Rb(m.a))},Ui.\u0275cmp=f.Lb({type:Ui,selectors:[["app-document-upload"]],decls:29,vars:5,consts:[["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",2,"padding-left","17px"],[1,"colour"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Sb(3,"img",3),f.Wb(),f.Xb(4,"div",4),f.Xb(5,"div",5),f.Xb(6,"b"),f.Tc(7,"Create New Card Account"),f.Wb(),f.Wb(),f.Xb(8,"div",6),f.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),f.Wb(),f.Wb(),f.Wb(),f.Rc(10,ji,12,4,"div",7),f.Wb(),f.Xb(11,"div",8),f.Xb(12,"div",9),f.Xb(13,"mat-card"),f.Xb(14,"mat-card-header"),f.Xb(15,"mat-card-title"),f.Tc(16,"1. Document Upload"),f.Wb(),f.Wb(),f.Xb(17,"mat-card-content"),f.Xb(18,"div",10),f.Xb(19,"div",11),f.Xb(20,"p",12),f.Tc(21," All the necessary documents required for the application can be uploaded. "),f.Wb(),f.Wb(),f.Xb(22,"div",13),f.Sb(23,"img",14),f.Wb(),f.Wb(),f.Rc(24,Bi,4,2,"div",15),f.Wb(),f.Sb(25,"mat-divider"),f.Xb(26,"mat-card-actions"),f.Rc(27,zi,5,0,"ng-container",16),f.Rc(28,qi,5,0,"ng-container",16),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(10),f.rc("ngIf",t.isDocumentUploadDone),f.Eb(13),f.rc("src","assets/images/svg/Mask Group 6.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isDocumentUploadDone),f.Eb(3),f.rc("ngIf",!t.isDocumentUploadDone),f.Eb(1),f.rc("ngIf",t.isDocumentUploadDone))},directives:[W.e,W.b,c.n,C.a,C.e,C.h,C.d,W.f,W.d,E.a,C.b,l.a,x.b,F.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.colour[_ngcontent-%COMP%]{color:#cacaca}"]}),Ui);function Hi(e,t){if(1&e&&(f.Xb(0,"mat-option",29),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Yi(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Select Account Type "),f.Wb())}function $i(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Enter valid Product ID "),f.Wb())}function Qi(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Enter Account Currency "),f.Wb())}function Ki(e,t){if(1&e&&(f.Xb(0,"mat-option",29),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function Ji(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Select user Recommendation "),f.Wb())}function Zi(e,t){if(1&e&&(f.Xb(0,"mat-option",29),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r.branchName),f.Eb(1),f.Vc(" ",r.branchName," ")}}function eo(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Select Account Branch "),f.Wb())}function to(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Enter valid Product Name "),f.Wb())}function ro(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Enter valid Existing Value "),f.Wb())}function no(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Enter Remarks "),f.Wb())}var ao,io=((ao=function(){function e(t,r,n,a,i,o){s(this,e),this.api=t,this.ls=r,this.fb=n,this.apiService=a,this.router=i,this.accountService=o,this.showEditOption=!1}return u(e,[{key:"ngOnInit",value:function(){this.getUserRecomendation("user_recomendation"),this.getAccountType("account_type"),this.getAccountBranchDetails(),this.buildformGroup(),console.log(this.approvalForm),this.cardId=this.ls.getItem("cardId"),console.log("this.cardId",this.cardId),this.getCardInitiationDetails();var e=this.ls.getItem("CARD_APPROVAL_DONE");console.log("checc",e),null!=this.cardId&&e&&(this.showEditOption=!0,this.getApprovalDetails())}},{key:"buildformGroup",value:function(e){this.approvalForm=this.fb.group({accountType:[e?e.accountType:"",p.z.required],productCode:[e?e.productCode:"",p.z.required],userRecommendation:[e?e.userRecommendation:"",p.z.required],accountBranch:[e?e.accountBranch:"",p.z.required],accountCurrency:[e?e.accountCurrency:"",p.z.required],productName:[e?e.productName:"",p.z.required],existingValues:[e?e.existingValues:"",p.z.required],remarks:[e?e.remarks:""]})}},{key:"onSubmit",value:function(){console.log("data",this.approvalForm.value),this.apiService.upsertApprovalDetails({cardId:this.cardId,accountBranch:this.approvalForm.value.accountBranch,accountCurrency:this.approvalForm.value.accountCurrency,accountType:this.approvalForm.value.accountType,existingValues:this.approvalForm.value.existingValues,productCode:this.approvalForm.value.productCode,productName:this.approvalForm.value.productName,remarks:this.approvalForm.value.remarks,userRecommendation:this.approvalForm.value.userRecommendation}).subscribe(function(e){console.log("data",e)}),this.next()}},{key:"next",value:function(){this.ls.setItem("CARD_APPROVAL_DONE",!0),this.ls.setItem("CARD_SUPERVISOR_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/DigitalSigning/list"])}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/SupervisorApprovalStage/list"])}},{key:"getApprovalDetails",value:function(){var e=this;this.apiService.getApprovalDetails(this.cardId).subscribe(function(t){e.buildformGroup(t),console.log("data",t)})}},{key:"onKeyPress",value:function(e){var t=String.fromCharCode(e.charCode);8==e.keyCode||/[0-9\+\-\ ]/.test(t)||(e.preventDefault(),console.log("event:",e))}},{key:"getAccountCurrency",value:function(e){var t=this;this.api.getDropDownValues(e).subscribe(function(e){t.arrayAccountCurrency=e})}},{key:"getAccountType",value:function(e){var t=this;this.api.getDropDownValues(e).subscribe(function(e){t.arrayAccountType=e})}},{key:"getUserRecomendation",value:function(e){var t=this;this.api.getDropDownValues(e).subscribe(function(e){t.arrayUserRecomendation=e})}},{key:"getAccountBranchDetails",value:function(){var e=this;this.api.getAccountBranch().subscribe(function(t){console.log("data:: AccountBranch ",t),e.arrayAccountBranch=t})}},{key:"getCardInitiationDetails",value:function(){var e=this;this.apiService.getCardInitiationDetails(this.cardId).subscribe(function(t){console.log("data",t),e.currency=t.currency,e.approvalForm.controls.accountCurrency.setValue(e.currency)})}},{key:"keyPressAlphanumeric",value:function(e){var t=String.fromCharCode(e.keyCode);return!!/[a-zA-Z0-9]/.test(t)||(e.preventDefault(),!1)}}]),e}()).\u0275fac=function(e){return new(e||ao)(f.Rb(g.b),f.Rb(m.a),f.Rb(p.f),f.Rb(g.b),f.Rb(v.h),f.Rb(N.a))},ao.\u0275cmp=f.Lb({type:ao,selectors:[["app-approval-details"]],decls:76,vars:13,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/MaskGroup_16.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"p-0"],["visible","true"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"pb-1"],["appearance","outline",1,"full-width"],["name","accountType","placeholder","Account type","formControlName","accountType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","name","productCode","placeholder","Product Code","formControlName","productCode"],["matInput","","name","account_currency","placeholder","Account Currency","formControlName","accountCurrency","readonly","",3,"keypress"],["name","owner","placeholder","Recommended for Approval","formControlName","userRecommendation"],["fxFlex","100","fxFlex.gt-xs","50"],["name","accountBranch","placeholder","Account Branch","formControlName","accountBranch"],["matInput","","name","productName","placeholder","Product Name","formControlName","productName",3,"keypress"],["matInput","","onlyNumber","","name","existingValues","placeholder","Existing Value","formControlName","existingValues",3,"keypress"],["matInput","","name","remarks","placeholder","Remarks","formControlName","remarks"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Sb(3,"img",3),f.Wb(),f.Xb(4,"div",4),f.Xb(5,"div",5),f.Xb(6,"b"),f.Tc(7,"Approval Details"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(8,"div",6),f.Xb(9,"mat-card",7),f.Xb(10,"mat-card-title"),f.Xb(11,"fieldset"),f.Xb(12,"legend",8),f.Tc(13,"Approval Details"),f.Wb(),f.Wb(),f.Wb(),f.Xb(14,"form",9),f.Xb(15,"mat-card-content"),f.Xb(16,"div",10),f.Xb(17,"div",11),f.Xb(18,"div",12),f.Xb(19,"mat-form-field",13),f.Xb(20,"mat-label"),f.Tc(21,"Account Type*"),f.Wb(),f.Xb(22,"mat-select",14),f.Rc(23,Hi,2,2,"mat-option",15),f.Wb(),f.Rc(24,Yi,2,0,"mat-error",16),f.Wb(),f.Wb(),f.Xb(25,"div",12),f.Xb(26,"mat-form-field",13),f.Xb(27,"mat-label"),f.Tc(28,"Product Code*"),f.Wb(),f.Sb(29,"input",17),f.Wb(),f.Rc(30,$i,2,0,"mat-error",16),f.Wb(),f.Xb(31,"div",12),f.Xb(32,"mat-form-field",13),f.Xb(33,"mat-label"),f.Tc(34,"Account Currency*"),f.Wb(),f.Xb(35,"input",18),f.fc("keypress",function(e){return t.keyPressAlphanumeric(e)}),f.Wb(),f.Rc(36,Qi,2,0,"mat-error",16),f.Wb(),f.Wb(),f.Xb(37,"div",12),f.Xb(38,"mat-form-field",13),f.Xb(39,"mat-label"),f.Tc(40,"User Recomendation*"),f.Wb(),f.Xb(41,"mat-select",19),f.Rc(42,Ki,2,2,"mat-option",15),f.Wb(),f.Rc(43,Ji,2,0,"mat-error",16),f.Wb(),f.Wb(),f.Wb(),f.Xb(44,"div",20),f.Xb(45,"div",12),f.Xb(46,"mat-form-field",13),f.Xb(47,"mat-label"),f.Tc(48,"Account Branch*"),f.Wb(),f.Xb(49,"mat-select",21),f.Rc(50,Zi,2,2,"mat-option",15),f.Wb(),f.Rc(51,eo,2,0,"mat-error",16),f.Wb(),f.Wb(),f.Xb(52,"div",12),f.Xb(53,"mat-form-field",13),f.Xb(54,"mat-label"),f.Tc(55,"Product Name*"),f.Wb(),f.Xb(56,"input",22),f.fc("keypress",function(e){return t.keyPressAlphanumeric(e)}),f.Wb(),f.Wb(),f.Rc(57,to,2,0,"mat-error",16),f.Wb(),f.Xb(58,"div",12),f.Xb(59,"mat-form-field",13),f.Xb(60,"mat-label"),f.Tc(61,"Existing Value*"),f.Wb(),f.Xb(62,"input",23),f.fc("keypress",function(e){return t.onKeyPress(e)}),f.Wb(),f.Wb(),f.Rc(63,ro,2,0,"mat-error",16),f.Wb(),f.Xb(64,"div",12),f.Xb(65,"mat-form-field",13),f.Xb(66,"mat-label"),f.Tc(67,"Remarks"),f.Wb(),f.Sb(68,"input",24),f.Rc(69,no,2,0,"mat-error",16),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(70,"div",25),f.Xb(71,"button",26),f.fc("click",function(){return t.goBack()}),f.Tc(72,"BACK"),f.Wb(),f.Sb(73,"span",27),f.Xb(74,"button",28),f.fc("click",function(){return t.onSubmit()}),f.Tc(75,"Next"),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(14),f.rc("formGroup",t.approvalForm),f.Eb(9),f.rc("ngForOf",t.arrayAccountType),f.Eb(1),f.rc("ngIf",t.approvalForm.get("accountType").hasError("required")),f.Eb(6),f.rc("ngIf",t.approvalForm.get("productCode").touched&&0==t.approvalForm.get("productCode").value),f.Eb(6),f.rc("ngIf",t.approvalForm.get("accountCurrency").hasError("required")),f.Eb(6),f.rc("ngForOf",t.arrayUserRecomendation),f.Eb(1),f.rc("ngIf",t.approvalForm.get("userRecommendation").hasError("required")),f.Eb(7),f.rc("ngForOf",t.arrayAccountBranch),f.Eb(1),f.rc("ngIf",t.approvalForm.get("accountBranch").hasError("required")),f.Eb(6),f.rc("ngIf",t.approvalForm.get("productName").touched&&0==t.approvalForm.get("productName").value),f.Eb(6),f.rc("ngIf",t.approvalForm.get("existingValues").touched&&0==t.approvalForm.get("existingValues").value),f.Eb(6),f.rc("ngIf",t.approvalForm.get("remarks").hasError("required")),f.Eb(5),f.rc("disabled",t.approvalForm.invalid))},directives:[W.e,W.b,C.a,C.h,p.A,p.s,p.j,C.d,W.f,I.c,I.g,tt.a,p.r,p.i,c.m,c.n,X.b,p.c,ct.a,x.b,rt.n,I.b],styles:[".Backbtn[_ngcontent-%COMP%]{border:none!important}"]}),ao),oo=function(){return{y:"50px",delay:"300ms"}},co=function(e){return{value:"*",params:e}};function so(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",16),f.Xb(1,"mat-card"),f.Xb(2,"div",17),f.Xb(3,"div",18),f.Xb(4,"mat-icon",19),f.Tc(5,"check_circle"),f.Wb(),f.Wb(),f.Xb(6,"div",20),f.Xb(7,"h6"),f.Tc(8,"Application Entry Stage Completed"),f.Wb(),f.Wb(),f.Sb(9,"span",21),f.Xb(10,"button",22),f.fc("click",function(){return f.Hc(r),f.jc().openViewApprovalSummary()}),f.Tc(11," View Summary "),f.Wb(),f.Wb(),f.Wb(),f.Wb()}2&e&&(f.Eb(1),f.rc("@animate",f.xc(2,co,f.wc(1,oo))))}function lo(e,t){1&e&&(f.Xb(0,"div",23),f.Sb(1,"mat-progress-bar",24),f.Xb(2,"p",25),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function uo(e,t){if(1&e){var r=f.Yb();f.Xb(0,"button",22),f.fc("click",function(){return f.Hc(r),f.jc().addDetails()}),f.Tc(1," Add Details "),f.Xb(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Wb(),f.Wb()}}function bo(e,t){if(1&e){var r=f.Yb();f.Xb(0,"button",22),f.fc("click",function(){return f.Hc(r),f.jc().openApprovalSummary()}),f.Tc(1," View Details "),f.Xb(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Wb(),f.Wb()}}var mo,po=((mo=function(){function e(t,r,n){s(this,e),this.router=t,this.dialogService=r,this.ls=n,this.isApprovalDetails=!1,this.isCardSupervisorApprovalDone=!1}return u(e,[{key:"ngOnInit",value:function(){this.isApprovalDetails=this.ls.getItem("CARD_APPROVAL_DONE"),this.isCardSupervisorApprovalDone=this.ls.getItem("CARD_SUPERVISOR_DONE"),console.log("",this.isApprovalDetails)}},{key:"addDetails",value:function(){console.log("calling"),this.router.navigate(["/cardaccount/SupervisorApprovalStage/list/approvalDetails"])}},{key:"openApprovalSummary",value:function(){this.dialogService.CardApprovalSummary()}},{key:"openViewApprovalSummary",value:function(){this.dialogService.CardApprovalViewSummary()}}]),e}()).\u0275fac=function(e){return new(e||mo)(f.Rb(v.h),f.Rb(pe.a),f.Rb(m.a))},mo.\u0275cmp=f.Lb({type:mo,selectors:[["app-supervisor-approval-stage"]],decls:31,vars:5,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Sb(3,"img",3),f.Wb(),f.Xb(4,"div",4),f.Xb(5,"div",5),f.Xb(6,"b"),f.Tc(7,"Create New Card Account"),f.Wb(),f.Wb(),f.Xb(8,"div",6),f.Tc(9," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),f.Wb(),f.Wb(),f.Wb(),f.Rc(10,so,12,4,"div",7),f.Wb(),f.Xb(11,"div",8),f.Xb(12,"div",9),f.Xb(13,"mat-card"),f.Xb(14,"mat-card-header"),f.Xb(15,"mat-card-title"),f.Tc(16,"1.Approval Details"),f.Wb(),f.Wb(),f.Xb(17,"mat-card-content"),f.Xb(18,"div",10),f.Xb(19,"div",11),f.Xb(20,"p"),f.Tc(21," Approval Details are captured."),f.Wb(),f.Wb(),f.Xb(22,"div",12),f.Sb(23,"img",13),f.Wb(),f.Wb(),f.Rc(24,lo,4,2,"div",14),f.Wb(),f.Sb(25,"mat-divider"),f.Xb(26,"mat-card-actions"),f.Vb(27),f.Rc(28,uo,4,0,"button",15),f.Ub(),f.Vb(29),f.Rc(30,bo,4,0,"button",15),f.Ub(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(10),f.rc("ngIf",t.isCardSupervisorApprovalDone),f.Eb(13),f.rc("src","assets/images/svg/MaskGroup_16.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isApprovalDetails),f.Eb(4),f.rc("ngIf",!t.isApprovalDetails),f.Eb(2),f.rc("ngIf",t.isApprovalDetails))},directives:[W.e,W.b,c.n,C.a,C.e,C.h,C.d,W.f,W.d,E.a,C.b,l.a,x.b,F.a],styles:[".mat-card[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca;padding-left:17px}"]}),mo);function go(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Please Enter valid Scorecard ID "),f.Wb())}function fo(e,t){1&e&&(f.Xb(0,"span",30),f.Tc(1," *"),f.Wb())}function ho(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",22),f.Xb(1,"mat-form-field",31),f.Xb(2,"input",32),f.fc("keyup",function(e){f.Hc(r);var t=f.jc(),n=t.index,a=t.$implicit,i=f.jc().$implicit,o=f.jc();return o.validateInputValue(e.target.value,n,a.validationName),o.insertData(a.scoreCardQuestionId,e.target.value,a.attributeType,a.scoreCardMappingId,n,i.applicantId)})("click",function(e){f.Hc(r);var t=f.jc(),n=t.index,a=t.$implicit;return f.jc(2).validateInputValue(e.target.value,n,a.validationName)}),f.Wb(),f.Wb(),f.Xb(3,"mat-error",33),f.Tc(4),f.Wb(),f.Wb()}if(2&e){var n=f.jc(),a=n.index,i=n.$implicit,o=f.jc().index,c=f.jc();f.Eb(2),f.sc("name","input"+a),f.sc("id","input"+a),f.rc("required",i.isRequired)("autocomplete",c.off)("maxlength","Name"==i.validationName?25:50)("value",null==c.scoreCardMappingArray[o].scoreCardDetails[a].scorecardAnswer?c.sbSelectAnswer:c.scoreCardMappingArray[o].scoreCardDetails[a].scorecardAnswer),f.Eb(1),f.Oc("visibility","hidden"),f.sc("id","inputError"+a),f.Eb(1),f.Vc("Enter ",i.validationName,"")}}function yo(e,t){if(1&e&&(f.Xb(0,"mat-option",36),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function vo(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",22),f.Xb(1,"mat-form-field",31),f.Xb(2,"mat-select",34),f.fc("click",function(e){f.Hc(r);var t=f.jc().index;return f.jc(2).validateSelectValue(e.target.value,t)})("selectionChange",function(e){f.Hc(r);var t=f.jc(),n=t.index,a=t.$implicit,i=f.jc().$implicit,o=f.jc();return o.validateSelectValue(e.value,n),o.insertData(a.scoreCardQuestionId,e.value,a.attributeType,a.scoreCardMappingId,n,i.applicantId)}),f.Rc(3,yo,2,2,"mat-option",35),f.Wb(),f.Wb(),f.Xb(4,"mat-error",33),f.Tc(5),f.Wb(),f.Wb()}if(2&e){var n=f.jc(),a=n.$implicit,i=n.index,o=f.jc(2);f.Eb(2),f.rc("required",a.isRequired)("name","checkbox"==a.attributeType?"multiSelect"+i:"select"+i)("id","checkbox"==a.attributeType?"multiSelect"+i:"select"+i)("value","checkbox"==a.attributeType?o.sbMultiSelectAnswer:o.sbMultiSelectAnswer[i])("multiple","checkbox"==a.attributeType),f.Eb(1),f.rc("ngForOf",a.scorecardAnswers),f.Eb(1),f.Oc("visibility","hidden"),f.sc("id","selectError"+i),f.Eb(1),f.Vc("Please select ",a.validationName,"")}}function Co(e,t){if(1&e&&(f.Xb(0,"div",26),f.Xb(1,"div",22),f.Xb(2,"div",27),f.Xb(3,"mat-hint"),f.Tc(4),f.Rc(5,fo,2,0,"span",28),f.Wb(),f.Wb(),f.Rc(6,ho,5,10,"div",29),f.Rc(7,vo,6,10,"div",29),f.Wb(),f.Wb()),2&e){var r=t.$implicit,n=t.index;f.Eb(4),f.Wc("",n+1,".",r.scorecardQuestion,""),f.Eb(1),f.rc("ngIf",r.isRequired),f.Eb(1),f.rc("ngIf","textbox"==r.attributeType),f.Eb(1),f.rc("ngIf","drop-down"==r.attributeType||"checkbox"==r.attributeType)}}function xo(e,t){if(1&e&&(f.Xb(0,"mat-expansion-panel",19),f.Xb(1,"mat-expansion-panel-header"),f.Xb(2,"mat-panel-title"),f.Xb(3,"mat-icon",20),f.Tc(4,"check_circle"),f.Wb(),f.Xb(5,"span",21),f.Tc(6),f.Wb(),f.Wb(),f.Wb(),f.Xb(7,"mat-card",22),f.Xb(8,"mat-card-content",22),f.Xb(9,"div"),f.Xb(10,"h3"),f.Tc(11,"Questions"),f.Wb(),f.Wb(),f.Xb(12,"div",23),f.Xb(13,"div",24),f.Rc(14,Co,8,5,"div",25),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e){var r=t.$implicit;f.Eb(6),f.Vc("Applicant ",r.applicantId,""),f.Eb(8),f.rc("ngForOf",r.scoreCardDetails)}}var Wo,Xo=((Wo=function(){function e(t,r,n,a,i,o,c,l,u){s(this,e),this.router=t,this.api=r,this.snack=n,this.fb=a,this.ls=i,this.accountService=o,this.elRef=c,this.renderer=l,this.cdr=u,this.accountType="cardOrigin",this.sbMultiSelectAnswer=[],this.scoreboardQuestionsArray=[],this.scoreCardMappingArray=[],this.numberOfApplicant=new p.g(""),this.scoreCardId=new p.g(""),this.isDataSaved=!1,this.disableDoneBtn=!0,this.anyErrorExist=!1,this.isQualitativeScreen=!1,this.previousUrl="",this.showEditOption=!1,this.isCardQualitativeScoreboard=!1,this.sbSelectAnswer=""}return u(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.loggedInUser=this.ls.getItem("ICUST_USER"),this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),console.log(this.isCardQualitativeScoreboard),this.noOfapplicants=this.ls.getItem("CardNoOfApplicants"),console.log(this.noOfapplicants),console.log(this.loggedInUser),JSON.parse(this.ls.getItem("ASSESSMENT_QA_DONE")),null!=this.cardId&&this.isCardQualitativeScoreboard?(this.showEditOption=!0,this.isQualitativeScreen=!0,this.getAllQualitative()):(this.showEditOption=!1,this.loadData())}},{key:"counter",value:function(e){return new Array(e)}},{key:"loadData",value:function(){var e=this;this.api.getScorecardQuestions(this.accountType).subscribe(function(t){console.log(t),console.log(e.noOfapplicants),!e.noOfapplicants&&t&&(e.noOfapplicants=t.length),t[1].attributeType="drop-down";for(var r=0;r<e.noOfapplicants;r++){e.scoreboardQuestionsArray.push({scorecardQuestion:t,applicantId:r+1,scoreCardDetails:t});var n=[];console.log("data",e.scoreCardDetails);for(var a=0;a<t.length;a++)n.push({scoreCardQuestionId:t[a].scoreCardQuestionId,scorecardAnswer:null,scoreCardMappingId:null});e.scoreCardMappingArray.push({applicantId:r+1,scoreCardDetails:n})}console.log("data",e.scoreCardDetails),console.log("ques:",e.scoreboardQuestionsArray),e.cdr.markForCheck()})}},{key:"getAllQualitative",value:function(){var e=this;console.log(this.isQualitativeScreen),this.api.getCardQualitativeScorecardDetails(this.cardId).subscribe(function(t){console.log(t),console.log(e.isQualitativeScreen),e.qualitativeScoreboardSummary=t,console.log(e.qualitativeScoreboardSummary.scoreCardId+" : "+e.qualitativeScoreboardSummary.numberOfApplicant),e.scoreCardId.setValue(e.qualitativeScoreboardSummary.scoreCardId),e.numberOfApplicant.setValue(e.qualitativeScoreboardSummary.numberOfApplicant),console.log("scorecard id: ",e.scoreCardId),console.log("numberOfApplicant : ",e.numberOfApplicant),e.scoreboardQuestionsArray=[];for(var r=function(t){console.log("inside for",e.qualitativeScoreboardSummary.scoreCardMapping),e.api.getScorecardQuestions(e.accountType).subscribe(function(r){console.log(r),r[1].attributeType="drop-down",console.log(e.noOfapplicants),!e.noOfapplicants&&r&&(e.noOfapplicants=r.length);for(var n=0;n<e.noOfapplicants;n++){e.scoreboardQuestionsArray.push({scorecardQuestion:r,applicantId:n+1,scoreCardDetails:r}),console.log(e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails.length);for(var a=0;a<e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails.length;a++){console.log(e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails);var i=e.qualitativeScoreboardSummary.scoreCardMapping[t].scoreCardDetails;console.log(i),e.sbMultiSelectAnswer.push(i[a].scorecardAnswer);for(var o=0;o<e.sbMultiSelectAnswer.length;o++)e.sbMultiSelectAnswer[2]?(e.sbSelectAnswer=e.sbMultiSelectAnswer[2],console.log(e.sbSwlwctAnswer)):e.sbMultiSelectAnswer[0]&&(e.sbSelectAnswer1=e.sbMultiSelectAnswer[0],console.log(e.sbSelectAnswer1));console.log(e.sbMultiSelectAnswer)}}console.log("data",e.scoreCardDetails),console.log("ques:",e.scoreboardQuestionsArray),e.cdr.markForCheck()}),e.scoreCardMappingArray=e.scoreboardQuestionsArray},n=0;n<e.qualitativeScoreboardSummary.scoreCardMapping.length;n++)r(n);console.log(e.scoreboardQuestionsArray,"scoreBoardQuestionArray"),e.disableDoneBtn=!1,e.cdr.markForCheck()})}},{key:"insertData",value:function(e,t,r,n,a,i){console.log("Answer: ",t,a,i,e,r,n),"checkbox"==r&&(t=t.toString());var o=!1,c=!1;console.log(this.scoreCardMappingArray),console.log(this.numberOfApplicant),console.log(this.disableDoneBtn),console.log(this.sbMultiSelectAnswer);for(var s=0;s<this.scoreCardMappingArray.length;s++)if(this.scoreCardMappingArray[s].applicantId==i){for(var l=0;l<this.scoreCardMappingArray[s].scoreCardDetails.length;l++)this.isCardQualitativeScoreboard?(console.log("Edit Condition"),l==a?this.scoreCardMappingArray[s].scoreCardDetails[l].scoreCardQuestionId==e&&(this.scoreCardMappingArray[s].scoreCardDetails[l].scorecardAnswer=t,this.sbMultiSelectAnswer[l]=t,o=!0):this.scoreCardMappingArray[s].scoreCardDetails[l].scorecardAnswer=this.sbMultiSelectAnswer[l]):(console.log(l,this.scoreCardMappingArray[s].scoreCardDetails[l]),this.scoreCardMappingArray[s].scoreCardDetails[l].scoreCardQuestionId==e&&(this.scoreCardMappingArray[s].scoreCardDetails[l].scorecardAnswer=t,o=!0));c=!0}if(!o){var u={};if(u.scoreCardQuestionId=e,u.scorecardAnswer=t,null!=n&&(u.scoreCardMappingId=n),c)for(var b=0;b<this.scoreCardMappingArray.length;b++)this.scoreCardMappingArray[b].applicantId==i&&(this.scoreCardMappingArray[b].scoreCardDetails.push(u),console.log(this.scoreCardMappingArray[b].scoreCardDetails));else this.scoreCardMappingArray.push({applicantId:i,scoreCardDetails:u})}if(this.scoreCardMappingArray.length==this.scoreboardQuestionsArray.length){for(var d=0,m=0;m<this.scoreCardMappingArray.length;m++)for(var p=0;p<this.scoreCardMappingArray[m].scoreCardDetails.length;p++){console.log(this.scoreCardMappingArray[m].scoreCardDetails[p].scorecardAnswer);var g=this.scoreCardMappingArray[m].scoreCardDetails[p].scorecardAnswer;""!=g&&null!=g&&null!=g||d++}d>0?this.disableDoneBtn=!0:0==this.anyErrorExist&&0==d&&(this.disableDoneBtn=!1)}console.log("Map Array: ",this.scoreCardMappingArray),console.log(this.disableDoneBtn)}},{key:"validateInputValue",value:function(e,t,r){var n="#inputError"+t;""==e||null==e||null==e?this.renderer.setStyle(this.elRef.nativeElement.querySelector(n),"visibility","visible"):isNaN(e)||"Name"!=r?(this.renderer.setStyle(this.elRef.nativeElement.querySelector(n),"visibility","hidden"),this.anyErrorExist=!1):(this.renderer.setStyle(this.elRef.nativeElement.querySelector(n),"visibility","visible"),this.anyErrorExist=!0)}},{key:"validateSelectValue",value:function(e,t){var r="#selectError"+t;console.log(r),this.renderer.setStyle(this.elRef.nativeElement.querySelector(r),"visibility",""==e||null==e||null==e?"visible":"hidden")}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/underwritingStage/credit-rating"])}},{key:"getAllData",value:function(e){this.api.getAssessmentReportDetails(e).subscribe(function(e){})}},{key:"saveQualitativeScore",value:function(){var e=this,t={};console.log(this.noOfapplicants);var r=this.noOfapplicants;t.cardId=this.cardId,t.numberOfApplicant=r,t.scoreCardId=this.scoreCardId.value,t.loggedInUser=123,t.accountType="cardOrigin",t.scoreCardMapping=this.scoreCardMappingArray,console.log(t),this.api.saveQualitativeScorecard(t).subscribe(function(r){console.log("data",t.cardId),e.snack.open("Card Origination Qualitative Scoreboard Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),e.isDataSaved=!0,e.accountService.refresh.next()},function(t){e.snack.open("Server Error!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})}),this.next()}},{key:"next",value:function(){this.ls.setItem("CARD_QUALITATIVE_SCOREBOARD_DONE",!0),this.ls.setItem("CARD_UNDERWRITING_DONE",!0),this.accountService.refresh.next(),this.router.navigate(["/cardaccount/assessmentStage/list"])}},{key:"noOfApplicant",value:function(e){console.log(e)}}]),e}()).\u0275fac=function(e){return new(e||Wo)(f.Rb(v.h),f.Rb(g.b),f.Rb(h.a),f.Rb(p.f),f.Rb(m.a),f.Rb(N.a),f.Rb(f.l),f.Rb(f.I),f.Rb(f.h))},Wo.\u0275cmp=f.Lb({type:Wo,selectors:[["app-cardaccount-qualitative-scoreboard"]],decls:39,vars:5,consts:[["fxLayout","row wrap",1,"matcard-size1"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],["fxFlex","100",1,"mt-24"],[1,"ml-16"],[1,"mt-24"],["matInput","","name","ScoreCardId","onlyNumber","","placeholder","Enter ScoreCardId",3,"formControl"],[4,"ngIf"],[1,"mt-32"],[1,"disableText"],["multi","true"],["class","mb-8","expanded","true",4,"ngFor","ngForOf"],["fxFlex","100",1,"mt-16"],["mat-stroked-button","",1,"Backbtn",3,"click"],["fxFlex",""],["mat-raised-button","","color","primary","type","button",1,"Nextbtn",3,"disabled","click"],["expanded","true",1,"mb-8"],[1,"check-circle"],[1,"ml-8"],[1,"full-width"],["fxLayout","column"],["fxLayout","row","fxFlex","70%","fxLayoutGap","35px"],["fxLayout","row wrap","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap",1,"full-width"],[1,"qDiv"],["class","redC",4,"ngIf"],["class","full-width",4,"ngIf"],[1,"redC"],["appearance","outline",1,"full-width"],["matInput","",3,"required","autocomplete","maxlength","name","id","value","keyup","click"],[3,"id"],[3,"required","name","id","value","multiple","click","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Sb(3,"img",3),f.Wb(),f.Xb(4,"div",4),f.Xb(5,"div",5),f.Xb(6,"b"),f.Tc(7,"Qualitative Scoreboard"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(8,"form"),f.Xb(9,"div",6),f.Xb(10,"h2",7),f.Tc(11,"Qualitative Scoreboard"),f.Wb(),f.Sb(12,"div",8),f.Xb(13,"mat-card"),f.Sb(14,"mat-card-title"),f.Xb(15,"mat-card-content"),f.Xb(16,"h4"),f.Xb(17,"b"),f.Tc(18,"Scorecard ID"),f.Wb(),f.Wb(),f.Xb(19,"h4"),f.Sb(20,"input",9),f.Rc(21,go,2,0,"mat-error",10),f.Wb(),f.Xb(22,"h3",11),f.Tc(23,"About the Qualitative Scorecard ID"),f.Wb(),f.Xb(24,"p",12),f.Tc(25," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. "),f.Wb(),f.Xb(26,"h3",11),f.Tc(27,"No. of Applicant"),f.Wb(),f.Xb(28,"p"),f.Tc(29),f.Wb(),f.Wb(),f.Wb(),f.Sb(30,"div",11),f.Xb(31,"mat-accordion",13),f.Rc(32,xo,15,2,"mat-expansion-panel",14),f.Wb(),f.Wb(),f.Wb(),f.Xb(33,"div",15),f.Xb(34,"button",16),f.fc("click",function(){return t.goBack()}),f.Tc(35,"BACK"),f.Wb(),f.Sb(36,"span",17),f.Xb(37,"button",18),f.fc("click",function(){return t.saveQualitativeScore()}),f.Tc(38,"Next"),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(20),f.rc("formControl",t.scoreCardId),f.Eb(1),f.rc("ngIf",t.scoreCardId.touched&&0==t.scoreCardId.value),f.Eb(8),f.Uc(t.noOfapplicants),f.Eb(3),f.rc("ngForOf",t.scoreboardQuestionsArray),f.Eb(5),f.rc("disabled",t.disableDoneBtn||!t.numberOfApplicant.valid))},directives:[W.e,W.b,p.A,p.s,p.t,C.a,C.h,C.d,X.b,p.c,ct.a,p.r,p.h,c.n,at.a,c.m,x.b,I.b,at.c,at.e,at.f,l.a,W.f,I.f,I.c,tt.a,rt.n],styles:[".qaDiv[_ngcontent-%COMP%]{padding:1.5rem 1rem}.qDiv[_ngcontent-%COMP%]{padding:.5em 0}.redC[_ngcontent-%COMP%]{color:red}.disableText[_ngcontent-%COMP%]{color:#cacaca}.Backbtn[_ngcontent-%COMP%]{border:none}"]}),Wo);function Io(e,t){if(1&e&&(f.Xb(0,"mat-option",23),f.Tc(1),f.Wb()),2&e){var r=t.$implicit;f.rc("value",r),f.Eb(1),f.Vc(" ",r," ")}}function ko(e,t){if(1&e&&(f.Xb(0,"div"),f.Xb(1,"mat-select",21),f.Rc(2,Io,2,2,"mat-option",22),f.Wb(),f.Wb()),2&e){var r=f.jc(2);f.Eb(2),f.rc("ngForOf",r.customerNames)}}function So(e,t){1&e&&(f.Xb(0,"div"),f.Sb(1,"input",24),f.Wb())}function Oo(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Customer Name is Required! "),f.Wb())}function To(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Agency is Required! "),f.Wb())}function Do(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," Ratings is Required! "),f.Wb())}function Eo(e,t){1&e&&(f.Xb(0,"mat-error"),f.Tc(1," maximum rating is 5 "),f.Wb())}function Ao(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",25),f.Xb(1,"mat-accordion",10),f.Xb(2,"mat-card",26),f.Xb(3,"h3"),f.Tc(4,"Score "),f.Wb(),f.Sb(5,"mat-divider",27),f.Sb(6,"br"),f.Xb(7,"div",10),f.Xb(8,"div",11),f.Xb(9,"div",28),f.Xb(10,"div",29),f.Xb(11,"mat-form-field",13),f.Xb(12,"mat-label"),f.Tc(13,"Select Agency*"),f.Wb(),f.Xb(14,"mat-select",30),f.Xb(15,"mat-option",31),f.fc("click",function(){return f.Hc(r),f.jc(2).onClick()}),f.Tc(16,"Test Agency"),f.Wb(),f.Xb(17,"mat-option",32),f.fc("click",function(){return f.Hc(r),f.jc(2).onClick()}),f.Tc(18,"Ujjivan Agency"),f.Wb(),f.Xb(19,"mat-option",33),f.fc("click",function(){return f.Hc(r),f.jc(2).onClick()}),f.Tc(20,"Fast Track Agency"),f.Wb(),f.Wb(),f.Rc(21,To,2,0,"mat-error",14),f.Wb(),f.Wb(),f.Xb(22,"div",34),f.Xb(23,"mat-form-field",13),f.Xb(24,"mat-label"),f.Tc(25," Remarks"),f.Wb(),f.Sb(26,"input",35),f.Wb(),f.Wb(),f.Wb(),f.Xb(27,"div",36),f.Xb(28,"div",34),f.Xb(29,"mat-form-field",13),f.Xb(30,"mat-label"),f.Tc(31,"Ratings*"),f.Wb(),f.Xb(32,"input",37),f.fc("keypress",function(e){return f.Hc(r),f.jc(2)._keyPress(e)}),f.Wb(),f.Rc(33,Do,2,0,"mat-error",14),f.Rc(34,Eo,2,0,"mat-error",14),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=t.$implicit,a=f.jc(2);f.Eb(1),f.rc("formGroup",n),f.Eb(6),f.rc("formGroup",n),f.Eb(8),f.rc("disabled",a.disableTest),f.Eb(2),f.rc("disabled",a.disableUjjivan),f.Eb(2),f.rc("disabled",a.disableFastTrack),f.Eb(2),f.rc("ngIf",!n.controls.agencyName.valid&&n.controls.agencyName.touched),f.Eb(12),f.rc("ngIf",0==n.controls.ratings.value&&n.controls.ratings.touched),f.Eb(1),f.rc("ngIf",n.controls.ratings.value>5)}}function wo(e,t){if(1&e){var r=f.Yb();f.Xb(0,"form",10),f.Xb(1,"div",11),f.Xb(2,"div",12),f.Xb(3,"mat-form-field",13),f.Xb(4,"mat-label"),f.Tc(5,"Customer Name*"),f.Wb(),f.Rc(6,ko,3,1,"div",14),f.Rc(7,So,2,0,"div",14),f.Rc(8,Oo,2,0,"mat-error",14),f.Wb(),f.Wb(),f.Wb(),f.Rc(9,Ao,35,8,"div",15),f.Xb(10,"button",16),f.fc("click",function(){return f.Hc(r),f.jc().addFormGroup()}),f.Xb(11,"mat-icon"),f.Tc(12,"add"),f.Wb(),f.Tc(13," ADD AGENCY "),f.Wb(),f.Xb(14,"button",17),f.fc("click",function(){return f.Hc(r),f.jc().removeAgency()}),f.Tc(15," DELETE "),f.Wb(),f.Xb(16,"div",18),f.Xb(17,"a",19),f.fc("click",function(){return f.Hc(r),f.jc().goBack()}),f.Tc(18," Back "),f.Wb(),f.Xb(19,"button",20),f.fc("click",function(){f.Hc(r);var e=f.jc();return e.OnSubmit(e.creditDetailsForm.value)}),f.Tc(20," Next "),f.Wb(),f.Wb(),f.Wb()}if(2&e){var n=f.jc();f.rc("formGroup",n.creditDetailsForm),f.Eb(6),f.rc("ngIf",n.customerNames.length>1),f.Eb(1),f.rc("ngIf",1==n.customerNames.length),f.Eb(1),f.rc("ngIf",!n.creditDetailsForm.get("customerName").valid&&n.creditDetailsForm.get("customerName").touched),f.Eb(1),f.rc("ngForOf",n.c.controls),f.Eb(1),f.rc("disabled",n.disableAddAgency),f.Eb(9),f.rc("disabled",!n.creditDetailsForm.valid)}}var _o,Po=((_o=function(){function e(t,r,n,a,i,o,c){s(this,e),this.formBuilder=t,this.router=r,this.ls=n,this.appApiService=a,this.snack=i,this.api=o,this.accountService=c,this.customerNames=[]}return u(e,[{key:"ngOnInit",value:function(){this.cardId=this.ls.getItem("cardId"),this.customerName=this.ls.getItem("primaryCustomerName"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.getCustomerInformationDetails(),this.buildCreditForm(),0==this.isCardCreditRatingDetails?this.buildCreditForm():this.gettingCreditRatingDetail()}},{key:"f",get:function(){return this.creditDetailsForm.controls}},{key:"c",get:function(){return this.f.agencyRating}},{key:"buildCreditForm",value:function(e,t){console.log(e),this.creditDetailsForm=this.formBuilder.group({cardId:this.cardId,customerName:e?e.customerName:this.customerNames[0],agencyRating:this.formBuilder.array([this.addModFormGroup(e)])}),console.log(this.creditDetailsForm)}},{key:"addFormGroup",value:function(){this.c.push(this.formBuilder.group({agencyId:[0],agencyName:["",p.z.required],ratings:["",p.z.required]}));for(var e=0;e<this.c.length;e++)this.deletecount=e}},{key:"goBack",value:function(){this.router.navigate(["/cardaccount/applicationEnrichment/list"])}},{key:"addModFormGroup",value:function(e){return console.log(e,"inside addModeFormGrp"),this.formBuilder.group({cardId:[this.cardId],agencyId:[e?e.agencyId:0],agencyName:[e?e.agencyRating[0].agencyName:"",p.z.required],ratings:[e?e.agencyRating[0].ratings:"",p.z.compose([p.z.required,p.z.max(5)])],remarks:[e?e.agencyRating[0].remarks:""]})}},{key:"getCustomerInformationDetails",value:function(){var e=this;this.appApiService.fetchCustomersByCardAccId(this.cardId,"cardOrigin").subscribe(function(t){console.log("resp for customer information names ",t.data);for(var r=0;r<t.data.length;r++)e.customerNames[r]=null==t.data[r].middleName?t.data[r].firstName+" "+t.data[r].lastName:t.data[r].firstName+" "+t.data[r].middleName+" "+t.data[r].lastName;console.log("customer name ",e.customerNames),e.customerNames&&(console.log("If condtion"),e.creditDetailsForm.get("customerName").setValue(e.customerNames[0]))},function(e){})}},{key:"gettingCreditRatingDetail",value:function(){var e=this;this.api.getCardCreditRatingDetails(this.cardId).subscribe(function(t){console.log(t),e.buildCreditForm(t,!0)})}},{key:"removeAgency",value:function(e){this.c.removeAt(this.deletecount),this.deletecount=this.c.length-1}},{key:"OnSubmit",value:function(e){var t=this;console.log("val",e),e.accountType="cardOrigin",this.api.saveCreditDetails(e).subscribe(function(e){console.log(e),200===e||null!==e?(t.snack.open(" Credit Details Saved!","OK",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"}),t.ls.setItem("CARD_CREDIT_RATING_DONE",!0),t.accountService.refresh.next(),t.router.navigate(["/cardaccount/underwritingStage/qualitative"])):500===e&&t.snack.open("Not able to connect to server!","INTERNAL SERVER ERROR",{duration:4e3,verticalPosition:"top",horizontalPosition:"right"})},function(e){console.log(e)}),this.router.navigate(["/cardaccount/underwritingStage/qualitative/"])}},{key:"_keyPress",value:function(e){var t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}},{key:"onClick",value:function(){for(var e=0;e<3;e++)"Test Agency"==this.creditDetailsForm.value.agencyRating[e].agencyName&&(this.disableTest=!0,this.disableUjjivan=!1,this.disableFastTrack=!1),"Ujjivan Agency"==this.creditDetailsForm.value.agencyRating[e].agencyName&&(this.disableUjjivan=!0,this.disableFastTrack=!1,this.disableTest=!1),"Fast Track Agency"==this.creditDetailsForm.value.agencyRating[e].agencyName&&(this.disableFastTrack=!0,this.disableUjjivan=!1,this.disableTest=!1);3==this.creditDetailsForm.value.agencyRating.length&&(this.disableAddAgency=!0)}}]),e}()).\u0275fac=function(e){return new(e||_o)(f.Rb(p.f),f.Rb(v.h),f.Rb(m.a),f.Rb(Je.a),f.Rb(h.a),f.Rb(g.b),f.Rb(N.a))},_o.\u0275cmp=f.Lb({type:_o,selectors:[["app-underwriting-credit-rating"]],decls:18,vars:1,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"propic","text-center"],["src","assets/images/svg/Mask_Group_9.svg","alt","",1,"w-90"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"p-0"],["visible","true"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","25px"],[1,"flex-grow-2",2,"padding-left","10px"],["appearance","outline",1,"full-width"],[4,"ngIf"],["class","mt-16",4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"disabled","click"],["mat-button","",1,"dltbtn",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",1,"mt-32"],["mat-button","","rounded","",1,"Backbtn",3,"click"],["mat-raised-button","","color","primary",1,"Nextbtn",3,"disabled","click"],["name","customerName","formControlName","customerName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","customerName","type","text","readonly","",1,"alignment"],[1,"mt-16"],[1,"border1"],[1,"design"],["fxFlex","100","fxFlex.gt-xs","50",1,"pr-1"],[1,"flex-grow-2"],["name","agencyName","formControlName","agencyName"],["value","Test Agency",3,"disabled","click"],["value","Ujjivan Agency",3,"disabled","click"],["value","Fast Track Agency",3,"disabled","click"],[1,"flex-grow-1"],["matInput","","placeholder","Remarks","formControlName","remarks","type","text","name","remarks",1,"alignment"],["fxFlex","100","fxFlex.gt-xs","50"],["matInput","","formControlName","ratings","type","text","name","ratings",1,"alignment",3,"keypress"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Credit Score Details"),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(9,"div",1),f.Xb(10,"div",2),f.Xb(11,"mat-card",7),f.Xb(12,"mat-card-title"),f.Xb(13,"fieldset"),f.Xb(14,"legend",8),f.Tc(15,"Credit Score Details"),f.Wb(),f.Wb(),f.Wb(),f.Xb(16,"mat-card-content"),f.Rc(17,wo,21,7,"form",9),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e&&(f.Eb(17),f.rc("ngIf",t.creditDetailsForm))},directives:[W.e,W.b,C.a,C.h,C.d,c.n,p.A,p.s,p.j,W.f,I.c,I.g,c.m,x.b,l.a,W.d,x.a,tt.a,p.r,p.i,rt.n,X.b,p.c,I.b,at.a,E.a],styles:[".box-holder[_ngcontent-%COMP%]{width:auto;max-width:190px;background:#f4f8f7 0 0 no-repeat padding-box;box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border-radius:38px;opacity:1}.spinner[_ngcontent-%COMP%]{padding:20px}.hintColor[_ngcontent-%COMP%]{color:red}.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin-left:17px!important;margin-top:10px!important}.colorRed[_ngcontent-%COMP%]{color:red;font-size:small}.avatar-sm[_ngcontent-%COMP%]{width:32px}.avatar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:30px;vertical-align:bottom;white-space:nowrap;border-radius:1000px}.pull-up[_ngcontent-%COMP%]{transition:all .25s ease}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:-8px}.img[_ngcontent-%COMP%], .users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 2px 4px 0 #6b6f80}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;border:0;border-radius:1000px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img[_ngcontent-%COMP%]{vertical-align:middle;background:#24cca7 0 0 no-repeat padding-box;opacity:1;font-size:.9em;padding:2px;letter-spacing:-.36px;color:#fff;text-align:center;margin-left:-7px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1.8}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.users-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-bottom:6px;color:#6b6f80;background:hsla(0,0%,100%,.8)}.badge[_ngcontent-%COMP%]{color:#fff;font-weight:400}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#28afd0}.full-width1[_ngcontent-%COMP%]{max-width:200px}.inputMatcard[_ngcontent-%COMP%]{width:300px}.inputMatcard[_ngcontent-%COMP%], .inputMatName[_ngcontent-%COMP%]{flex-grow:1;margin-top:5px;box-shadow:0 3pt 6pt rgba(0,0,0,.1607843137254902);box-sizing:border-box;margin-left:0;padding:13px}.alignment[_ngcontent-%COMP%]{border-style:none!important;outline:none}.border1[_ngcontent-%COMP%]{border:1px solid #456efe}.dltbtn[_ngcontent-%COMP%]{float:right;color:red}"]}),_o),No=function(){return{y:"50px",delay:"300ms"}},Ro=function(e){return{value:"*",params:e}};function Fo(e,t){if(1&e){var r=f.Yb();f.Xb(0,"div",20),f.Xb(1,"mat-card"),f.Xb(2,"div",21),f.Xb(3,"div",22),f.Xb(4,"mat-icon",23),f.Tc(5,"check_circle"),f.Wb(),f.Wb(),f.Xb(6,"div",24),f.Xb(7,"h6"),f.Tc(8,"Application Underwriting Stage Completed"),f.Wb(),f.Wb(),f.Sb(9,"span",25),f.Xb(10,"button",26),f.fc("click",function(){return f.Hc(r),f.jc().viewSummary()}),f.Tc(11," View Summary "),f.Wb(),f.Wb(),f.Wb(),f.Wb()}2&e&&(f.Eb(1),f.rc("@animate",f.xc(2,Ro,f.wc(1,No))))}function Mo(e,t){1&e&&(f.Xb(0,"div",27),f.Sb(1,"mat-progress-bar",28),f.Xb(2,"p",29),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function Lo(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",26),f.fc("click",function(){return f.Hc(r),f.jc().goToCreditRatingSummary()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var Vo=function(){return["/cardaccount/underwritingStage/credit-rating"]};function jo(e,t){1&e&&(f.Xb(0,"button",30),f.Tc(1," Add Details "),f.Xb(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Wb(),f.Wb()),2&e&&f.rc("routerLink",f.wc(1,Vo))}function Bo(e,t){1&e&&(f.Xb(0,"div",27),f.Sb(1,"mat-progress-bar",28),f.Xb(2,"p",29),f.Tc(3,"Completed"),f.Wb(),f.Wb()),2&e&&(f.Eb(1),f.rc("color","primary")("value",100))}function zo(e,t){if(1&e){var r=f.Yb();f.Vb(0),f.Xb(1,"button",26),f.fc("click",function(){return f.Hc(r),f.jc().openCardQualitativeDialog()}),f.Tc(2," View Details "),f.Xb(3,"mat-icon"),f.Tc(4,"chevron_right"),f.Wb(),f.Wb(),f.Ub()}}var qo=function(){return["/cardaccount/underwritingStage/qualitative"]};function Uo(e,t){if(1&e&&(f.Xb(0,"button",31),f.Tc(1," Add Details "),f.Xb(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Wb(),f.Wb()),2&e){var r=f.jc();f.rc("routerLink",f.wc(2,qo))("disabled",!r.isCardCreditRatingDetails)}}var Go=function(e){return{"border-size":e}};function Ho(e,t){if(1&e&&(f.Xb(0,"div"),f.Xb(1,"mat-card",8),f.Xb(2,"mat-card-content"),f.Xb(3,"div",9),f.Xb(4,"div",10),f.Xb(5,"div",11),f.Vb(6),f.Sb(7,"div",32),f.Xb(8,"div",33),f.Xb(9,"mat-card",34),f.Xb(10,"h3"),f.Tc(11,"Score"),f.Wb(),f.Sb(12,"br"),f.Xb(13,"div",35),f.Xb(14,"div",11),f.Vb(15),f.Xb(16,"div",36),f.Xb(17,"mat-hint",13),f.Tc(18,"Agency"),f.Wb(),f.Sb(19,"br"),f.Xb(20,"mat-hint",14),f.Tc(21),f.Wb(),f.Wb(),f.Xb(22,"div",36),f.Xb(23,"mat-hint",13),f.Tc(24,"Score"),f.Wb(),f.Sb(25,"br"),f.Xb(26,"mat-hint",14),f.Tc(27),f.Wb(),f.Wb(),f.Ub(),f.Wb(),f.Wb(),f.Sb(28,"br"),f.Xb(29,"div",10),f.Xb(30,"div",11),f.Vb(31),f.Xb(32,"div",36),f.Xb(33,"mat-hint",13),f.Tc(34,"Remarks"),f.Wb(),f.Sb(35,"br"),f.Xb(36,"mat-hint",14),f.Tc(37),f.Wb(),f.Wb(),f.Ub(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Ub(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e){var r=t.$implicit;f.Eb(21),f.Uc(r.agencyName),f.Eb(6),f.Uc(r.ratings),f.Eb(10),f.Vc("",r.remarks," ")}}function Yo(e,t){if(1&e&&(f.Xb(0,"div",40),f.Xb(1,"mat-card",41),f.Xb(2,"div"),f.Tc(3),f.Wb(),f.Xb(4,"div",42),f.Tc(5),f.Wb(),f.Wb(),f.Wb()),2&e){var r=t.$implicit,n=t.index;f.Eb(3),f.Wc("",n+1,".",r.scorecardQuestion,""),f.Eb(2),f.Uc(r.scorecardAnswer)}}function $o(e,t){if(1&e&&(f.Xb(0,"div"),f.Xb(1,"div",37),f.Tc(2),f.Wb(),f.Xb(3,"div",38),f.Rc(4,Yo,6,3,"div",39),f.Wb(),f.Wb()),2&e){var r=t.$implicit,n=t.index,a=f.jc();f.Eb(2),f.Vc("Applicant ",r.applicantId,""),f.Eb(2),f.rc("ngForOf",null==a.qualitativeScoreboardSummary?null:a.qualitativeScoreboardSummary.scoreCardMapping[n].scoreCardDetails)}}var Qo,Ko,Jo,Zo=[{path:"",component:ii,children:[{path:"",redirectTo:"applicationEntryStage/list",pathMatch:"full"},{path:"applicationEntryStage/list",component:Ve},{path:"documentupload/list/document-details",component:Mi},{path:"applicationEntryStage/list/financialDetails",component:Ca},{path:"applicationEntryStage/list/customerInformation",component:Sn},{path:"applicationEntryStage/list/accountServices",component:Qe},{path:"applicationEntryStage/list/cardPrefrence",component:An},{path:"applicationEntryStage/list/cardInitiation",component:sa},{path:"documentupload/list",component:Gi},{path:"applicationEnrichment/list",component:K},{path:"applicationEnrichment/intrest-details",component:me},{path:"applicationEnrichment/charge-details",component:re},{path:"applicationEnrichment/Summary",component:se},{path:"underwritingStage/list",component:(Ko=function(){function e(t,r,n,a,i){s(this,e),this.router=t,this.ls=r,this.dialogService=n,this.accountService=a,this.cdr=i,this.isCardCreditRatingDetails=!1,this.isCardQualitativeScoreboard=!1}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.isCardQualitativeScoreboard=this.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),this.isCardCreditRatingDetails=this.ls.getItem("CARD_CREDIT_RATING_DONE"),this.accountService.refresh.subscribe(function(t){e.cardId=e.ls.getItem("cardId"),e.isCardQualitativeScoreboard=e.ls.getItem("CARD_QUALITATIVE_SCOREBOARD_DONE"),e.isCardCreditRatingDetails=e.ls.getItem("CARD_CREDIT_RATING_DONE"),e.cdr.markForCheck()})}},{key:"viewSummary",value:function(){this.router.navigate(["cardaccount/underwritingStage/summary"])}},{key:"goToCreditRatingSummary",value:function(){this.dialogService.cardAccountcreditRatingSummaryDialog()}},{key:"openCardQualitativeDialog",value:function(){this.dialogService.CardQualitativeSummaryDialog()}}]),e}(),Ko.\u0275fac=function(e){return new(e||Ko)(f.Rb(v.h),f.Rb(m.a),f.Rb(pe.a),f.Rb(N.a),f.Rb(f.h))},Ko.\u0275cmp=f.Lb({type:Ko,selectors:[["app-underwriting-stage"]],decls:49,vars:15,consts:[[1,"matcard-size1"],["fxLayout","row wrap"],["fxFlex","100"],[1,"profile-pic","text-center"],["src","assets/images/svg/Group 605/Group 605.png",1,"main-profile-img"],[1,"profile-title","text-center","mt-8"],[1,"main-title1"],[1,"text-muted1"],["fxFlex","100","class","mt-8",4,"ngIf"],["fxLayout","row wrap",1,"mt-12"],["fxFlex","50","fxFlex.gt-sm","50","fxFlex.sm","50"],[3,"ngClass"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start"],["fxFlex","50%",1,"txtclr",2,"padding-left","17px"],["fxFlex","50%"],[1,"card-img",3,"src"],["class","mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["showCredit",""],["showQualitative",""],["fxFlex","100",1,"mt-8"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","10"],[1,"text-green"],["fxFlex","30"],["fxFlex",""],["mat-button","","color","primary",3,"click"],[1,"mb-1"],["mode","determinate",1,"rounded",2,"height","6px",3,"color","value"],[1,"m-0","text-right"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",3,"routerLink","disabled"]],template:function(e,t){if(1&e&&(f.Xb(0,"div",0),f.Xb(1,"div",1),f.Xb(2,"div",2),f.Xb(3,"div",3),f.Sb(4,"img",4),f.Wb(),f.Xb(5,"div",5),f.Xb(6,"div",6),f.Xb(7,"b"),f.Tc(8,"Create New Card Account"),f.Wb(),f.Wb(),f.Xb(9,"div",7),f.Tc(10," Create a new card account with XYZ Bank in a better way. \xad\xad\xad\xad\xad\xad\xad\xad "),f.Wb(),f.Wb(),f.Wb(),f.Rc(11,Fo,12,4,"div",8),f.Wb(),f.Xb(12,"div",9),f.Xb(13,"div",10),f.Xb(14,"mat-card",11),f.Xb(15,"mat-card-header"),f.Xb(16,"mat-card-title"),f.Tc(17,"1. Credit Rating Details"),f.Wb(),f.Wb(),f.Xb(18,"mat-card-content"),f.Xb(19,"div",12),f.Xb(20,"div",13),f.Xb(21,"p"),f.Tc(22," Credit rating details are captured here. "),f.Wb(),f.Wb(),f.Xb(23,"div",14),f.Sb(24,"img",15),f.Wb(),f.Wb(),f.Rc(25,Mo,4,2,"div",16),f.Wb(),f.Sb(26,"mat-divider"),f.Xb(27,"mat-card-actions"),f.Rc(28,Lo,5,0,"ng-container",17),f.Rc(29,jo,4,2,"ng-template",null,18,f.Sc),f.Wb(),f.Wb(),f.Wb(),f.Xb(31,"div",10),f.Xb(32,"mat-card",11),f.Xb(33,"mat-card-header"),f.Xb(34,"mat-card-title"),f.Tc(35,"2. Qualitative Scorecard"),f.Wb(),f.Wb(),f.Xb(36,"mat-card-content"),f.Xb(37,"div",12),f.Xb(38,"div",13),f.Xb(39,"p"),f.Tc(40," Charge Details are displayed. "),f.Wb(),f.Wb(),f.Xb(41,"div",14),f.Sb(42,"img",15),f.Wb(),f.Wb(),f.Rc(43,Bo,4,2,"div",16),f.Wb(),f.Sb(44,"mat-divider"),f.Xb(45,"mat-card-actions"),f.Rc(46,zo,5,0,"ng-container",17),f.Rc(47,Uo,4,3,"ng-template",null,19,f.Sc),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&e){var r=f.Dc(30),n=f.Dc(48);f.Eb(11),f.rc("ngIf",t.isCardCreditRatingDetails&&t.isCardQualitativeScoreboard),f.Eb(3),f.rc("ngClass",f.xc(11,Go,t.isCardCreditRatingDetails||!t.isCardCreditRatingDetails)),f.Eb(10),f.rc("src","assets/images/svg/Mask_Group_9.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isCardCreditRatingDetails),f.Eb(3),f.rc("ngIf",t.isCardCreditRatingDetails)("ngIfElse",r),f.Eb(4),f.rc("ngClass",f.xc(13,Go,t.isCardCreditRatingDetails||!t.isCardCreditRatingDetails&&t.isCardQualitativeScoreboard)),f.Eb(10),f.rc("src","assets/images/svg/undraw_Scrum_board_re_wk7v.svg",f.Jc),f.Eb(1),f.rc("ngIf",t.isCardQualitativeScoreboard),f.Eb(3),f.rc("ngIf",t.isCardQualitativeScoreboard)("ngIfElse",n)}},directives:[W.e,W.b,c.n,C.a,c.l,R.a,C.e,C.h,C.d,W.f,W.d,E.a,C.b,l.a,x.b,F.a,v.i],styles:[".border-size[_ngcontent-%COMP%]{border:1px dashed #2196f3}.not-active[_ngcontent-%COMP%]{background:hsla(0,0%,62%,.0392156862745098)!important;box-shadow:none!important;border:1px dashed #ababab}.card-img[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:60px;margin-top:-6px}.profile-pic[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;border-style:solid;border-color:#fff;box-shadow:0 0 0 0 #b8b8b8;position:relative;margin:0 auto}.main-profile-img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.upload-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:-7px;border-radius:50%;height:30px;width:30px;display:flex!important;align-items:center;justify-content:center;background-color:#fff;color:#6495ed;box-shadow:0 0 8px 3px #b8b8b8}.active[_ngcontent-%COMP%]{color:#03a9f4!important}.notActive[_ngcontent-%COMP%]{pointer-events:none;cursor:default;color:#cacaca!important}.txtclr[_ngcontent-%COMP%]{color:#cacaca}"]}),Ko)},{path:"underwritingStage/summary",component:(Qo=function(){function e(t,r,n,a){s(this,e),this.router=t,this.ls=r,this.apiService=n,this.urlService=a,this.previousUrl="",this.imagePath="assets/images/assesment.png"}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.cardId=this.ls.getItem("cardId"),this.getAllData(this.cardId),this.urlService.previousUrl$.subscribe(function(t){e.previousUrl=t})}},{key:"getAllData",value:function(e){var t=this;this.apiService.getCardQualitativeScorecardDetails(this.cardId).subscribe(function(e){t.qualitativeScoreboardSummary=e,console.log(t.qualitativeScoreboardSummary),console.log(t.qualitativeScoreboardSummary.scoreCardMapping)}),this.apiService.getCardCreditRatingDetails(e).subscribe(function(e){console.log(e.customerName),t.customerName=e.customerName,t.creditRatingValues=e})}},{key:"goBack",value:function(){this.router.navigate(["cardaccount/underwritingStage/list"])}},{key:"done",value:function(){this.router.navigate(["/cardaccount/assessmentStage/list"])}}]),e}(),Qo.\u0275fac=function(e){return new(e||Qo)(f.Rb(v.h),f.Rb(m.a),f.Rb(g.b),f.Rb(Be.a))},Qo.\u0275cmp=f.Lb({type:Qo,selectors:[["app-underwriting-stage-summary"]],decls:63,vars:6,consts:[["fxLayout","column","fxLayoutAlign","space-around center","fxLayoutGap","20px",1,"full-width",2,"padding","3rem 0rem"],[3,"src"],[2,"font-size","24px"],["fxLayout","row"],[1,"paraFont"],[1,"fullcard"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","100%"],[1,"chequecard"],[1,"full-width"],["fxLayout","column","fxLayoutGap","6%","fxLayoutAlign","space-between none"],["fxLayout","row wrap",1,"flex-container","stretch"],["fxFlex","33%","fxFlex.xs","100%"],[1,"headingText"],[1,"valueText"],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayoutGap","10px",1,"full-width"],["fxFlex","100%","fxFlex.xs","100%",1,"full-width",2,"border","1px solid rgb(249 245 245)","border-radius","5px"],["fxLayout","column","fxLayoutAlign","space-evenly start",1,"full-width"],["fxLayout","row wrap",1,"full-width",2,"padding","2rem"],["fxFlex","100%","fxFlex.xs","100%"],[2,"color","#102245","opacity","64%","font-size","medium","font-family","sans-serif"],[2,"padding-top","5px"],[2,"font-size","medium"],[1,"mt-32"],[2,"background-color","white"],["fxLayout","row wrap",1,"qtnhd",2,"color","#102245","opacity","64%","font-size","medium","font-family","sans-serif","padding","0rem 1rem"],[1,"full-width",2,"padding","0rem 2rem"],["fxLayout","row wrap",1,"full-width"],["mat-stroked-button","","color","primary",2,"border-radius","20px","width","10rem","height","2.5rem","font-family","sans-serif",3,"click"],["fxFlex",""],["mat-raised-button","","type","button",2,"border-radius","20px","width","10rem","height","2.5rem","background-color","#456EFE","float","right","color","white","font-family","sans-serif",3,"click"],["fxFlex","5%","fxFlex.xs","100%","fxLayoutAlign","end start",1,"inputCardclass"],["fxFlex","","fxFlex.xs","100%",1,"inputCardclass"],[1,"inputCard"],["fxLayout","column","fxLayoutGap","10%","fxLayoutAlign","space-between none"],["fxFlex","20%","fxFlex.xs","50%"],[1,"applicanthd",2,"font-weight","bold","font-family","sans-serif"],[1,"row","wrap"],["fxLayout","row wrap","class","qtncard row","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","50","fxFlex.sm","50","class","full-width",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","30px","fxFlex","50%","fxFlex.gt-sm","50","fxFlex.sm","50",1,"full-width"],[1,"qtncard1","row",2,"justify-content","space-evenly"],[1,"qtnval",2,"opacity","80%"]],template:function(e,t){1&e&&(f.Xb(0,"div",0),f.Xb(1,"div"),f.Sb(2,"img",1),f.Wb(),f.Xb(3,"div"),f.Xb(4,"h2",2),f.Tc(5,"Application Underwriting stage Summary"),f.Wb(),f.Wb(),f.Wb(),f.Xb(6,"div",3),f.Xb(7,"h4",4),f.Tc(8,"Credit Score Details"),f.Wb(),f.Wb(),f.Xb(9,"div",5),f.Xb(10,"div",6),f.Xb(11,"div",7),f.Xb(12,"mat-card",8),f.Xb(13,"mat-card-content"),f.Xb(14,"div",9),f.Xb(15,"div",10),f.Xb(16,"div",11),f.Vb(17),f.Xb(18,"div",12),f.Xb(19,"mat-hint",13),f.Tc(20,"CustomerName"),f.Wb(),f.Sb(21,"br"),f.Xb(22,"mat-hint",14),f.Tc(23),f.Wb(),f.Wb(),f.Ub(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(24,"div",5),f.Xb(25,"div",6),f.Xb(26,"div",7),f.Rc(27,Ho,38,3,"div",15),f.Wb(),f.Wb(),f.Wb(),f.Sb(28,"br"),f.Xb(29,"div",16),f.Xb(30,"div",17),f.Xb(31,"div",18),f.Xb(32,"div",9),f.Xb(33,"div",19),f.Xb(34,"div",20),f.Xb(35,"div"),f.Xb(36,"span",21),f.Tc(37,"ScoreCard Id"),f.Wb(),f.Sb(38,"br"),f.Xb(39,"div",22),f.Xb(40,"span",23),f.Tc(41),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(42,"div",20),f.Xb(43,"div",24),f.Xb(44,"span",21),f.Tc(45,"Number Of Applicants"),f.Wb(),f.Sb(46,"br"),f.Xb(47,"div",22),f.Xb(48,"span",23),f.Tc(49),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(50,"div",9),f.Sb(51,"mat-divider",25),f.Wb(),f.Xb(52,"div",26),f.Tc(53,"Questions"),f.Wb(),f.Xb(54,"div",27),f.Xb(55,"div",28),f.Rc(56,$o,5,2,"div",15),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Xb(57,"div"),f.Xb(58,"button",29),f.fc("click",function(){return t.goBack()}),f.Tc(59," Back "),f.Wb(),f.Sb(60,"span",30),f.Xb(61,"button",31),f.fc("click",function(){return t.done()}),f.Tc(62," Done "),f.Wb(),f.Wb()),2&e&&(f.Eb(2),f.rc("src",t.imagePath,f.Jc),f.Eb(21),f.Uc(t.customerName),f.Eb(4),f.rc("ngForOf",t.creditRatingValues.agencyRating),f.Eb(14),f.Vc("ID #",null==t.qualitativeScoreboardSummary?null:t.qualitativeScoreboardSummary.scoreCardId,""),f.Eb(8),f.Uc(null==t.qualitativeScoreboardSummary?null:t.qualitativeScoreboardSummary.numberOfApplicant),f.Eb(7),f.rc("ngForOf",null==t.qualitativeScoreboardSummary?null:t.qualitativeScoreboardSummary.scoreCardMapping))},directives:[W.e,W.d,W.f,W.b,C.a,C.d,I.f,c.m,E.a,x.b],styles:[""]}),Qo)},{path:"underwritingStage/credit-rating",component:Po},{path:"underwritingStage/qualitative",component:Xo},{path:"assessmentStage/list",component:_a},{path:"assessmentStage/application-assessment/list",component:Ti},{path:"SupervisorApprovalStage/list",component:po},{path:"SupervisorApprovalStage/list/approvalDetails",component:io},{path:"DigitalSigning/list",component:xi},{path:"digitalsigning/options",component:ui},{path:"digitalsigning/upload",component:oi.a}]}],ec=i("u9T3"),tc=i("w9WL"),rc=i("aLe/"),nc=i("aYsj"),ac=i("mnDI"),ic=i("zMWy"),oc=i("KVVp"),cc=i("Gp04"),sc=((Jo=u(function e(){s(this,e)})).\u0275mod=f.Pb({type:Jo}),Jo.\u0275inj=f.Ob({factory:function(e){return new(e||Jo)},providers:[c.d],imports:[[c.c,Ei.d,p.x,ec.a,tc.a,p.l,l.b,C.f,p.x,rc.c,nc.a,ac.a,ic.a,d.b,b.b,v.l.forChild(Zo),oc.OthersModule,cc.a]]}),Jo)}}])}();