{"version":3,"sources":["webpack:///src/app/views/document-upload-from-email/sucess-popup/sucess-popup.component.ts","webpack:///src/app/views/document-upload-from-email/sucess-popup/sucess-popup.component.html","webpack:///src/app/views/document-upload-from-email/document-upload-from-email.module.ts","webpack:///src/app/views/document-upload-from-email/document-upload-from-email/document-upload-from-email.component.ts","webpack:///src/app/views/document-upload-from-email/document-upload-from-email/document-upload-from-email.component.html","webpack:///src/app/views/document-upload-from-email/document-upload-from-email.routing.ts"],"names":["SucessPopupComponent","dialogRef","data","Title","Message","close","done","selector","templateUrl","styleUrls","DocumentUploadFromEmailModule","forChild","declarations","imports","providers","schemas","DocumentUploadFromEmailComponent","http","tokenService","dialog","router","fb","snack","ls","shareDataService","cdr","api","dialogService","loader","fileService","webcamImage","webcamImage1","scan1Array","scan2Array","scan3Array","customerId","frontImageArray","backImageArray","otherImageArray","otherDocumentArray","boxArray","document_type","custDocExist","selectedOptions2","documentSide","frontImage","backImage","otherImage","secondBoxArray","thirdBoxArray","ocrResult","selectedDocumentTypes2","nameOnCard","dobArray","idNumberArray","pincode","gender","state","addressArray","dataFetched","boxArray2","boxArray3","doc_name","docuNameArray","arrayOfImageArrays0","arrayOfImageArrays1","arrayOfImageArrays2","docValArray","docarray1","newOtherPage","otherDocPages","otherDocumentArray2","ff","bf","docName","progressValFrontArray","progressValBackArray","progressValOthersArray","progressValOtherDocumentArray","customerDocs","trigger","aadharParser","str","adharNumber","dob","name","nameLineIndex","asciiStr","replace","trim","lines","split","i","length","count","startIndex","j","substr","some","docString","dobIndex","indexOf","slice","pop","console","log","names","filter","x","join","fullName","error","isDocumentOptionDisabled2","value","includes","panCardParser","nameIndex","panNumber","match","fatherNameIndex","nameString","displayName","dobString","dateOfBirth","open","duration","verticalPosition","horizontalPosition","passportParser","dateOfIssue","dateOfExpiry","doIssueIndex","findIndex","line","dates","nationalityIndex","issueNoString","issueNoStringArray","localStorage","getItem","getCustomerDocuments","documentForm","group","documentName","required","frontSide","backSide","others","items","array","inititemrows","getDropDownValues","subscribe","resp","document_name","getName","assignName","getOCR","getCustomerId","cId","assignOCRValues","refreshCustomerId","valueChanges","doc_list","forEach","element","index","push","documentType","getKycDataFetchedInfo","documentsList","createItem","createDocItem","id","upload","get","dataFetchedValue","disableNext","item","fileUrl","namePancard","imageOCR","imageOCRBack","address","addressDisplay","hasNonEmptyFields","Object","values","Boolean","patchValue","pancard","report","docum_name","sessionStorage","backSelected","document_side","deleteCustDoc","displayVal1","othersSelected","k","newDocumentSide","toLowerCase","a","boxes","otherArray","fileData","next","img","docVal","selectedFile","docSideEnum","uploadPan","res","nameDoc","confirmationDialog","response","changeValue2_Ocr","openDialogueBoxForOcrDetailsDisplay","uploadDoc","err","uploadPassport","uploadAadhaarFront","uploadAadhaarBack","openDialog1","fun","fun1","val","frontSelected","arg0","Error","webcamImage2","function2","uploadData2","FormData","fileType","_mimeType","fileName","verificationType","idNumber","imageAsDataUrl","displayVal2","file","dataURLtoFile","append","JSON","stringify","type","body","assignIdValues","status","shotToast","asObservable","navigate","queryParams","key","prototype","hasOwnProperty","call","controls","setValue","fetchChildIndex","page_id","element2","document","getElementById","click","element3","find","payload","markForCheck","docImage","objectURL","source","sanitizer","bypassSecurityTrustUrl","uploadData","displayVal","uploadData1","dataurl","filename","arr","mime","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","event","childindex","selectedFiles","target","files","size","formatBytes","reader","FileReader","readAsDataURL","onload","image","result","doOCR","otherDocumentSelected","valid","bytes","decimals","dm","sizes","Math","floor","parseFloat","pow","toFixed","url","documnetSideValue","docType","uploadSub","UploadProgress","round","loaded","total","message","backSideId","otherSideId","otherDocumentSideId","shareCustomerId","sideType","unsubscribe","msg","deleteRecord","removeAt","delCustDoc","reset","width","backdropClass","height","disableClose","afterClosed","addDocuments","back","progressBar","DocumentUploadFromEmailRoutes","path","component"],"mappings":"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","file":"views-document-upload-from-email-document-upload-from-email-module-es5.js","sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-sucess-popup',\r\n  templateUrl: './sucess-popup.component.html',\r\n  styleUrls: ['./sucess-popup.component.scss']\r\n})\r\nexport class SucessPopupComponent implements OnInit {\r\n\r\n\r\nTitle : string = \"Successfull Message!\";\r\nMessage : string = \"Uploaded successfully.\";\r\n\r\nconstructor(\r\n  public dialogRef: MatDialogRef<SucessPopupComponent>,\r\n  @Inject(MAT_DIALOG_DATA) private data: any\r\n) { }\r\n\r\nngOnInit(): void {\r\n  // if(this.data.message=='' || this.data.message ==null || this.data.message==undefined){\r\n  //   this.Message = \"Are you sure?\";\r\n  // }else{\r\n  //   this.Message = this.data.message;\r\n  // }\r\n}\r\n\r\ndone(): void {\r\n  this.dialogRef.close(\"done\");\r\n}\r\n\r\n}\r\n\r\n\r\n","<div class=\"parentDiv\">\r\n    <div fxLayout=\"column\" fxLayoutGap=\"10px\" class=\"full-width\">\r\n        <div class=\"tittle\">\r\n            <h1>{{Title}}</h1>\r\n        </div>\r\n        <div fxFlex=\"25\" fxLayoutAlign=\"center stretch\">\r\n            <img class=\"coImg\" src=\"assets/images/completed.PNG\">\r\n        </div>\r\n        <div>\r\n            <p class=\"messageClass\">{{Message}}</p>\r\n        </div>\r\n        <div>\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" style=\"padding-left: 35%;\" class=\"full-width\">\r\n                <div fxFlex=\"49%\" fxFlex.xs=\"100%\">\r\n                    <button tabindex=\"-1\" (click)=\"done()\" mat-raised-button class=\"full-width mat-elevation-z0 yesBtn\">Done</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> ","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { CommonModule, CurrencyPipe } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport { SignaturePadModule } from 'angular2-signaturepad';\r\nimport { RouterModule } from '@angular/router';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\nimport { SharedPipesModule } from 'app/shared/pipes/shared-pipes.module';\r\nimport { SharedDirectivesModule } from 'app/shared/directives/shared-directives.module';\r\nimport { SharedMaterialModule } from 'app/shared/shared-material.module';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { DocumentUploadFromEmailComponent } from './document-upload-from-email/document-upload-from-email.component';\r\nimport { DocumentUploadFromEmailRoutes } from './document-upload-from-email.routing';\r\nimport { SucessPopupComponent } from './sucess-popup/sucess-popup.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DocumentUploadFromEmailComponent,\r\n    SucessPopupComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    FlexLayoutModule,\r\n    NgxDatatableModule,\r\n    FormsModule,\r\n    MatIconModule,\r\n    MatCardModule,\r\n    ReactiveFormsModule,\r\n    PerfectScrollbarModule,\r\n    SharedPipesModule,\r\n    SharedDirectivesModule,\r\n    SharedMaterialModule,\r\n    SignaturePadModule,\r\n\r\n    RouterModule.forChild(DocumentUploadFromEmailRoutes),\r\n  ],\r\n  providers: [\r\n    CurrencyPipe\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n})\r\nexport class DocumentUploadFromEmailModule {}\r\n","import { ChangeDetectorRef, Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { MatTabChangeEvent } from \"@angular/material/tabs\";\r\nimport { Router } from \"@angular/router\";\r\n\r\nimport { WebcamImage } from \"ngx-webcam\";\r\nimport { Subject, Observable, Subscription } from \"rxjs\";\r\nimport Swal from \"sweetalert2\";\r\nimport { HttpClient, HttpEventType, HttpHeaders } from \"@angular/common/http\";\r\nimport { ApiService } from \"app/shared/services/api.service\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { MatProgressBar } from \"@angular/material/progress-bar\";\r\nimport { LocalStoreService } from \"app/shared/services/local-store.service\";\r\nimport { DataService } from \"app/shared/services/data.service\";\r\nimport { createWorker } from \"tesseract.js\";\r\nimport { Worker } from \"tesseract.js\";\r\nimport { DialogService } from \"app/shared/services/dialogs/dialog.service\";\r\nimport { AppLoaderService } from \"app/shared/services/app-loader/app-loader.service\";\r\n\r\nimport { FileUploadService } from \"app/shared/services/file-upload.service\";\r\nimport { SucessPopupComponent } from \"../sucess-popup/sucess-popup.component\";\r\n\r\n@Component({\r\n  selector: 'app-document-upload-from-email',\r\n  templateUrl: './document-upload-from-email.component.html',\r\n  styleUrls: ['./document-upload-from-email.component.scss']\r\n})\r\nexport class DocumentUploadFromEmailComponent implements OnInit {\r\n\r\n\r\n  documentForm: FormGroup;\r\n  public webcamImage: WebcamImage = null;\r\n  public webcamImage1: WebcamImage = null;\r\n  scan1: boolean;\r\n  scan2: boolean;\r\n  scan3: boolean;\r\n  cId: any;\r\n  scan1Array: boolean[] = [];\r\n  scan2Array: boolean[] = [];\r\n  scan3Array: boolean[] = [];\r\n  public customerId: string = null;\r\n  selectedFiles: any;\r\n  fileUrl: string | ArrayBuffer;\r\n  backSelected: any;\r\n  frontSelected: any;\r\n  othersSelected: any;\r\n  image: any;\r\n  imageURL: any;\r\n  imageURL1: any;\r\n  imageURL2: any;\r\n  displayVal: boolean;\r\n  frontImageArray: any[] = [];\r\n  backImageArray: any[] = [];\r\n  otherImageArray: any[] = [];\r\n  otherDocumentArray: any[] = [];\r\n  boxArray: any[] = [];\r\n  documents_Type: string[];\r\n  documentsList: any;\r\n  displayVal1: boolean;\r\n  displayVal2: boolean;\r\n  customer_Id: string;\r\n  @ViewChild(MatProgressBar) progressBar: MatProgressBar;\r\n  //document_type: string;\r\n  document_type: string[] = [\"6\", \"7\", \"8\"];\r\n  custDocExist: boolean = false;\r\n  sanitizer: any;\r\n  doc: any;\r\n  doc_list: any;\r\n  selectedOptions2: any[] = [];\r\n  documentSide: number = null;\r\n  frontImage: any = null;\r\n  backImage: any = null;\r\n  otherImage: any = null;\r\n  uploadSub: Subscription;\r\n  secondBoxArray: boolean[] = [];\r\n  disableNext: boolean;\r\n  thirdBoxArray: boolean[] = [];\r\n  webcamImage2: WebcamImage;\r\n  ocrResult = \"Recognizing...\";\r\n  name: any;\r\n  ocrFlag: boolean;\r\n  selectedDocumentTypes2: any[] = [];\r\n  namePancard: string;\r\n  nameOnCard: any[] = [];\r\n  dob: any;\r\n  dobArray: any[] = [];\r\n  panNumber: any;\r\n  idNumberArray: any[] = [];\r\n  pincode: any[] = [];\r\n  gender: any[] = [];\r\n  state: any[] = [];\r\n  pancard: boolean;\r\n  dateOfIssue: any;\r\n  dateOfExpiry: any;\r\n  backSideId: any;\r\n  frontSideId: any;\r\n  otherSideId: any;\r\n  enableAadharReadOnly: boolean;\r\n  nameDoc: string;\r\n  address: string;\r\n  addressArray: any[] = [];\r\n  undefinedCheck: boolean;\r\n  addressDisplay: boolean;\r\n  dataFetched: boolean = false;\r\n  dataFetchedValue: string;\r\n  boxArray2: any[] = [];\r\n  boxArray3: any[] = [];\r\n  x: any;\r\n  temp: any;\r\n  temp2: any;\r\n  doc_name: any[] = [];\r\n  docuNameArray: any[] = [];\r\n  docuName: any;\r\n  arrayOfImageArrays0: any[] = [];\r\n  arrayOfImageArrays1: any[] = [];\r\n  arrayOfImageArrays2: any[] = [];\r\n  secondKey: any;\r\n  page_id: any;\r\n  docValArray: any[] = [];\r\n  docarray1: any = [];\r\n  docum_name: any;\r\n  document_side: any;\r\n  newOtherPage: boolean = false;\r\n\r\n  OtherpageGroup: FormGroup;\r\n  otherpagerray: FormArray;\r\n  deleterecord: any;\r\n  otherDocumentSelected: any;\r\n  otherDocumentSideId: any;\r\n  childindex: any;\r\n  otherDocPages: any[] = [];\r\n  otherDocumentArray2: any[] = [];\r\n  newDocumentSide: any;\r\n  fetchChildIndex: number;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private tokenService: ApiService,\r\n    public dialog: MatDialog,\r\n    private router: Router,\r\n    private fb: FormBuilder,\r\n    private snack: MatSnackBar,\r\n    private ls: LocalStoreService,\r\n    private shareDataService: DataService,\r\n    private cdr: ChangeDetectorRef,\r\n    private api: ApiService,\r\n    private dialogService: DialogService,\r\n    private loader: AppLoaderService,\r\n    private fileService: FileUploadService\r\n  ) {}\r\n  loading: boolean;\r\n  ff: boolean = false;\r\n  bf: boolean = false;\r\n  index: string[];\r\n  document_name: string[];\r\n  docName: any = \"document_name\";\r\n  backSideValue: any;\r\n  progressValFrontArray: number[] = [];\r\n  progressValBackArray: number[] = [];\r\n  progressValOthersArray: number[] = [];\r\n  progressValOtherDocumentArray: any[] = [];\r\n  customerDocs: any = [];\r\n  refreshCustomerId: any;\r\n  docType: any;\r\n\r\n  ngOnInit(): void {\r\n    localStorage.getItem(\"customer_id\")? this.getCustomerDocuments(localStorage.getItem(\"customer_id\")): \"\";\r\n    \r\n    this.documentForm = this.fb.group({\r\n      documentName: [\"\", [Validators.required]],\r\n      frontSide: [\"\", [Validators.required]],\r\n      backSide: [\"\"],\r\n      others: [\"\"],\r\n      items: this.fb.array([this.inititemrows(\"\")]),\r\n    });\r\n    this.doc_name = [\"Aadhar card\", \"Pan card\", \"Passport\"];\r\n    this.docValArray = [\"frontSide\", \"backSide\", \"others\"];\r\n    console.log(this.documentForm);\r\n    console.log(this.docName);\r\n    this.tokenService.getDropDownValues(this.docName).subscribe((resp) => {\r\n      this.document_name = resp;\r\n      console.log(\"resp\", resp);\r\n      console.log(\"this.document_name :: \", this.document_name);\r\n    });\r\n    this.api.getName().subscribe((resp) => {\r\n      this.assignName(resp.name);\r\n      console.log(\"resp.name\", resp.name);\r\n    });\r\n    this.api.getOCR().subscribe((resp) => {\r\n      console.log(\"ocr resp from backend \", resp);\r\n    });\r\n    this.shareDataService.getCustomerId.subscribe((cId) => {\r\n      this.api.getOCR().subscribe((resp) => {\r\n        console.log(\"ocr resp from backend \", resp);\r\n        this.assignOCRValues(resp);\r\n      });\r\n      console.log(\"cId=\", cId);\r\n      if (cId !== null) {\r\n        this.refreshCustomerId = cId;\r\n        this.getCustomerDocuments(cId);\r\n        console.log(\"cId=\", cId);\r\n      }\r\n    });\r\n    this.documentForm.valueChanges.subscribe((data) => {\r\n      console.log(\"data:: \", data);\r\n      console.log(\"this.documentForm\", this.documentForm);\r\n      console.log(\"data.doc_list.length\", data.doc_list);\r\n      if (data.doc_list.length > 0) {\r\n        console.log(\"data.doc_list.length\", data.doc_list.length);\r\n        \r\n        this.selectedOptions2 = [];\r\n        data.doc_list.forEach((element, index) => {\r\n          console.log(\"index :: \", index);\r\n          this.selectedOptions2.push(element.documentType);\r\n        });\r\n      }\r\n    });\r\n    this.api.getKycDataFetchedInfo().subscribe((data) => {\r\n      console.log(data);\r\n      this.documentForm = this.fb.group({\r\n        documentsList: this.fb.array([this.createItem()]),\r\n        doc_list:\r\n          data === \"DATA FETCH\"\r\n            ? this.fb.array([])\r\n            : this.fb.array([this.createDocItem()]),\r\n        id: [\"\"],\r\n        upload: [\"\", [Validators.required]],\r\n      });\r\n      console.log(this.documentForm.get(\"documentName\"));\r\n      console.log(this.documentForm.value.documentsList[0].documentName);\r\n      console.log(\"this.documentForm\", this.documentForm);\r\n      console.log(\"documentsList\", this.documentsList);\r\n      console.log(\"doc_list\", this.doc_list);\r\n      if (data === \"DATA FETCH\") {\r\n        this.dataFetched = true;\r\n        this.dataFetchedValue = data;\r\n      } else {\r\n        this.dataFetched = false;\r\n      }\r\n    });\r\n    this.disableNext = true;\r\n    \r\n    \r\n  }\r\n  inititemrows(item) {\r\n    return this.fb.group({\r\n      id: item ? item.id : [\"\"],\r\n\r\n      fileUrl: item ? item.fileUrl : [\"\"],\r\n    });\r\n  }\r\n\r\n  addDocuments() {\r\n    this.newOtherPage = false;\r\n    console.log(this.documentForm);\r\n    console.log(this.documentForm.get(\"documentsList\"));\r\n    console.log(this.documentForm.get(\"documentsList\") as FormArray);\r\n    this.disableNext = true;\r\n    \r\n    this.documentsList = this.documentForm.get(\"documentsList\") as FormArray;\r\n\r\n    console.log(this.doc_list);\r\n\r\n    this.documentsList.push(this.createItem());\r\n    this.doc_list.push(this.createDocItem());\r\n\r\n  }\r\n\r\n  createDocItem() {\r\n    return this.fb.group({\r\n      documentName: [\"\", [Validators.required]],\r\n      frontSide: [\"\", [Validators.required]],\r\n      backSide: [\"\"],\r\n      others: [\"\"],\r\n      fileUrl: [\"\"],\r\n    });\r\n  }\r\n\r\n  createItem() {\r\n    return this.fb.group({\r\n      id: [\"\"],\r\n      documentName: [\"\", Validators.required],\r\n      documentType: [\"\", Validators.required],\r\n    });\r\n  }\r\n\r\n  assignOCRValues(resp) {\r\n    console.log(resp);\r\n    this.dob = resp.dob;\r\n    this.namePancard = resp.namePancard;\r\n    this.panNumber = resp.panNumber;\r\n    this.frontImageArray[0] = resp.imageOCR;\r\n    //added code\r\n    this.backImageArray[0] = resp.imageOCRBack;\r\n    //added code\r\n    if (resp.imageOCRBack) {\r\n      this.backImageArray[0] = resp.imageOCRBack;\r\n      this.secondBoxArray[0] = true;\r\n      this.address = resp.address;\r\n\r\n      this.addressDisplay = true;\r\n      this.progressValBackArray[0] = 100;\r\n    }\r\n    const hasNonEmptyFields = Object.values(resp).some((value) =>\r\n      Boolean(value)\r\n    );\r\n    console.log(\"hasNonEmptyFields\", hasNonEmptyFields);\r\n    if (hasNonEmptyFields) {\r\n      this.documentForm.get(\"documentName\").patchValue(\"Aadhar card\");\r\n      console.log(this.documentForm.get(\"documentName\"));\r\n      this.progressValFrontArray[0] = 100;\r\n      //this.enableAadharReadOnly = true;\r\n      this.disableNext = true;\r\n      this.pancard = true;\r\n    }\r\n  }\r\n\r\n  delete(report, value, i) {\r\n    console.log(report);\r\n    this.docum_name = report.documentName;\r\n    this.customerId = sessionStorage.getItem(\"customer_id\");\r\n    if (value == 2) {\r\n      this.secondBoxArray[i] = false;\r\n      this.addressDisplay = false;\r\n      this.progressValBackArray[i] = 0;\r\n      this.backImageArray[i] = null;\r\n      this.backSelected = null;\r\n      this.document_side = value;\r\n\r\n      this.api\r\n        .deleteCustDoc(this.customerId, this.docum_name, this.document_side)\r\n        .subscribe((data) => {\r\n          this.displayVal1 = false;\r\n        });\r\n    }\r\n    if (value == 3) {\r\n      this.thirdBoxArray[i] = false;\r\n      this.progressValOthersArray[i] = 0;\r\n      this.otherImageArray[i] = null;\r\n      this.othersSelected = null;\r\n      this.document_side = value;\r\n\r\n      this.api\r\n        .deleteCustDoc(this.customerId, this.docum_name, this.document_side)\r\n        .subscribe((data) => {});\r\n    }\r\n    this.disableNext = false;\r\n  }\r\n  deleteOtherDocument(report, i, k) {\r\n    this.docum_name = report.documentName;\r\n    this.customerId = sessionStorage.getItem(\"customer_id\");\r\n    this.newDocumentSide = k + 4;\r\n    if (this.docarray1[i][k]) {\r\n      this.docarray1[i].pop();\r\n      this.otherDocumentArray[i][k] = null;\r\n      console.log(\r\n        \"this.otherDocumentArray[i][k] \",\r\n        this.otherDocumentArray[i][k]\r\n      );\r\n    } else {\r\n      console.log(\"this.docarray1\", this.docarray1);\r\n    }\r\n    this.api\r\n      .deleteCustDoc(this.customerId, this.docum_name, this.newDocumentSide)\r\n      .subscribe((data) => {});\r\n  }\r\n\r\n  assignName(name: any) {\r\n    this.name = name.toLowerCase();\r\n  }\r\n  addotherpage(a) {\r\n    if (this.docarray1[a]) {\r\n      console.log(\"this.docarray1[a]\", this.docarray1[a]);\r\n      console.log(\"this.docarray1[a]\", this.docarray1[a].boxes);\r\n      this.docarray1[a].push(this.inititemrows(\"\"));\r\n    } else {\r\n      var otherArray = [this.inititemrows(\"\")];\r\n      this.docarray1[a] = otherArray;\r\n      this.otherDocumentArray[a] = [];\r\n      this.progressValOtherDocumentArray[a] = [];\r\n    }\r\n    console.log(\"docarray1\", this.docarray1);\r\n  }\r\n  createOtherForm(item): FormGroup {\r\n    return this.fb.group({\r\n      id: [\"\"],\r\n      // documentType: [\"\", Validators.required],\r\n      fileData: item ? item.fileData : [\"\"],\r\n      fileUrl: item ? item.fileUrl : [\"\"],\r\n    });\r\n  }\r\n\r\n  private trigger: Subject<void> = new Subject<void>();\r\n\r\n  triggerSnapshot(i): void {\r\n    this.trigger.next();\r\n    this.scan1Array[i] = false;\r\n    this.scan2Array[i] = false;\r\n    this.scan3Array[i] = false;\r\n  }\r\n\r\n  callingBox2(i) {\r\n    this.secondBoxArray[i] = true;\r\n    this.disableNext = true;\r\n    //this.enableAadharReadOnly = false;\r\n    console.log(this.secondBoxArray[i]);\r\n  }\r\n\r\n  callingBox3(i) {\r\n    this.thirdBoxArray[i] = true;\r\n    this.disableNext = true;\r\n    this.newOtherPage = true;\r\n    //this.enableAadharReadOnly = false;\r\n  }\r\n\r\n  doOCR(img, docVal, selectedFile, docSideEnum, i) {\r\n    this.loader.open();\r\n\r\n    // :: Verify Pan card ::\r\n    if (this.documentForm.value.documentsList[i].documentName === \"Pan card\") {\r\n      this.fileService.uploadPan(selectedFile).subscribe(\r\n        (res) => {\r\n          this.loader.close();\r\n          if (typeof res === \"object\") {\r\n            console.log(\"api res -- \", res.data);\r\n            if (!res.data[\"name\"].value || !res.data[\"pan\"].value) {\r\n              this.snack.open(\r\n                \"The document is not a valid Pan card\",\r\n                \"Cancel\",\r\n                {\r\n                  duration: 4000,\r\n                  verticalPosition: \"top\",\r\n                  horizontalPosition: \"center\",\r\n                }\r\n              );\r\n              return;\r\n            }\r\n            this.nameDoc = res.data[\"name\"].value;\r\n            this.dialogService\r\n              .confirmationDialog(this.nameDoc, this.name)\r\n              .subscribe((response) => {\r\n                console.log(response);\r\n                if (response == \"No\") {\r\n                  this.changeValue2_Ocr(docVal, i);\r\n                }\r\n                if (response == \"Yes\") {\r\n                  this.nameOnCard[i] = res.data[\"name\"].value;\r\n                  this.dobArray[i] = res.data[\"dob\"].value;\r\n                  this.idNumberArray[i] = res.data[\"pan\"].value;\r\n                  this.openDialogueBoxForOcrDetailsDisplay(\r\n                    this.nameOnCard[i],\r\n                    this.dobArray[i],\r\n                    this.idNumberArray[i],\r\n                    this.addressArray[i],\r\n                    this.pincode[i],\r\n                    this.gender[i],\r\n                    this.state[i]\r\n                  );\r\n                  this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n                }\r\n              });\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\"Something went wrong! Err:: \", err);\r\n          this.loader.close();\r\n          this.snack.open(\"The document is not a valid Pan card\", \"Cancel\", {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"center\",\r\n          });\r\n          return;\r\n        }\r\n      );\r\n    }\r\n    // :: Verify Passport ::\r\n    if (this.documentForm.value.documentsList[i].documentName == \"Passport\") {\r\n      this.fileService.uploadPassport(selectedFile).subscribe(\r\n        (res) => {\r\n          this.loader.close();\r\n          if (typeof res === \"object\") {\r\n            console.log(\"api res -- \", res.data);\r\n            if (!res.data[\"passport_no\"].value) {\r\n              this.snack.open(\r\n                \"The document is not a valid Passport\",\r\n                \"Cancel\",\r\n                {\r\n                  duration: 4000,\r\n                  verticalPosition: \"top\",\r\n                  horizontalPosition: \"center\",\r\n                }\r\n              );\r\n              return;\r\n            }\r\n            this.nameDoc = !!res.data?.[\"surname\"]?.value\r\n              ? `${res.data[\"given_name\"].value} ${res.data?.[\"surname\"]?.value}`\r\n              : res.data[\"given_name\"].value;\r\n            this.dialogService\r\n              .confirmationDialog(this.nameDoc, this.name)\r\n              .subscribe((response) => {\r\n                console.log(response);\r\n                if (response == \"No\") {\r\n                  this.changeValue2_Ocr(docVal, i);\r\n                }\r\n                if (response == \"Yes\") {\r\n                  // this.nameOnCard[i] = res.data['given_name'].value;\r\n                  this.nameOnCard[i] = !!res.data?.[\"surname\"]?.value\r\n                    ? `${res.data[\"given_name\"].value} ${res.data?.[\"surname\"]?.value}`\r\n                    : res.data[\"given_name\"].value;\r\n                  this.dobArray[i] = res.data[\"dob\"].value;\r\n                  this.idNumberArray[i] = res.data[\"passport_no\"].value;\r\n                  this.dateOfIssue = res.data[\"issue_date\"].value;\r\n                  this.dateOfExpiry = res.data[\"expiry_date\"].value;\r\n                  this.gender[i] = res.data[\"gender\"].value;\r\n                  this.openDialogueBoxForOcrDetailsDisplay(\r\n                    this.nameOnCard[i],\r\n                    this.dobArray[i],\r\n                    this.idNumberArray[i],\r\n                    this.addressArray[i],\r\n                    this.pincode[i],\r\n                    this.gender[i],\r\n                    this.state[i]\r\n                  );\r\n                  this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n                }\r\n              });\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\"Something went wrong! Err:: \", err);\r\n          this.loader.close();\r\n          this.snack.open(\"The document is not a valid Passport\", \"Cancel\", {\r\n            duration: 4000,\r\n            verticalPosition: \"top\",\r\n            horizontalPosition: \"center\",\r\n          });\r\n          return;\r\n        }\r\n      );\r\n    }\r\n    // :: Verify Aadhaar Front ::\r\n    if (\r\n      this.documentForm.value.documentsList[i].documentName == \"Aadhar card\" &&\r\n      docSideEnum == \"1\"\r\n    ) {\r\n      this.fileService.uploadAadhaarFront(selectedFile).subscribe(\r\n        (res) => {\r\n          this.loader.close();\r\n          if (typeof res === \"object\") {\r\n            console.log(\"api res -- \", res.data);\r\n            if (!res.data[\"no\"].value) {\r\n              this.snack.open(\r\n                \"The document is not a valid Aadhaar card\",\r\n                \"Cancel\",\r\n                {\r\n                  duration: 4000,\r\n                  verticalPosition: \"top\",\r\n                  horizontalPosition: \"center\",\r\n                }\r\n              );\r\n              return;\r\n            }\r\n            this.nameDoc = res.data[\"name\"].value;\r\n            this.dialogService\r\n              .confirmationDialog(this.nameDoc, this.name)\r\n              .subscribe((response) => {\r\n                console.log(response);\r\n                if (response == \"No\") {\r\n                  this.changeValue2_Ocr(docVal, i);\r\n                }\r\n                if (response == \"Yes\") {\r\n                  this.nameOnCard[i] = res.data[\"name\"].value;\r\n                  this.dobArray[i] = res.data[\"dob\"].value;\r\n                  this.idNumberArray[i] = res.data[\"no\"].value;\r\n                  this.gender[i] = res.data[\"gender\"].value;\r\n                  this.openDialogueBoxForOcrDetailsDisplay(\r\n                    this.nameOnCard[i],\r\n                    this.dobArray[i],\r\n                    this.idNumberArray[i],\r\n                    this.addressArray[i],\r\n                    this.pincode[i],\r\n                    this.gender[i],\r\n                    this.state[i]\r\n                  );\r\n                  this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n                }\r\n              });\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\"Something went wrong! Err:: \", err);\r\n          this.loader.close();\r\n          this.snack.open(\r\n            \"The document is not a valid Aadhaar card\",\r\n            \"Cancel\",\r\n            {\r\n              duration: 4000,\r\n              verticalPosition: \"top\",\r\n              horizontalPosition: \"center\",\r\n            }\r\n          );\r\n          return;\r\n        }\r\n      );\r\n    }\r\n    // :: Verify Aadhaar Back ::\r\n    if (\r\n      this.documentForm.value.documentsList[i].documentName == \"Aadhar card\" &&\r\n      docSideEnum == \"2\"\r\n    ) {\r\n      this.fileService.uploadAadhaarBack(selectedFile).subscribe(\r\n        (res) => {\r\n          this.loader.close();\r\n          if (typeof res === \"object\") {\r\n            console.log(\"api res -- \", res.data);\r\n            if (!res.data[\"no\"].value) {\r\n              this.snack.open(\r\n                \"The document is not a valid Aadhaar card\",\r\n                \"Cancel\",\r\n                {\r\n                  duration: 4000,\r\n                  verticalPosition: \"top\",\r\n                  horizontalPosition: \"center\",\r\n                }\r\n              );\r\n              return;\r\n            }\r\n            this.dialogService\r\n              .confirmationDialog(this.nameDoc, this.name)\r\n              .subscribe((response) => {\r\n                console.log(response);\r\n                if (response == \"No\") {\r\n                  this.changeValue2_Ocr(docVal, i);\r\n                }\r\n                if (response == \"Yes\") {\r\n                  this.addressArray[i] = res.data[\"address\"].value;\r\n                  this.pincode[i] = res.data[\"pin\"].value;\r\n                  this.state[i] = res.data[\"state\"].value;\r\n                  this.openDialogueBoxForOcrDetailsDisplay(\r\n                    this.nameOnCard[i],\r\n                    this.dobArray[i],\r\n                    this.idNumberArray[i],\r\n                    this.addressArray[i],\r\n                    this.pincode[i],\r\n                    this.gender[i],\r\n                    this.state[i]\r\n                  );\r\n                  this.uploadDoc(img, selectedFile, docVal, docSideEnum, i);\r\n                }\r\n              });\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(\"Something went wrong! Err:: \", err);\r\n          this.loader.close();\r\n          this.snack.open(\r\n            \"The document is not a valid Aadhaar card\",\r\n            \"Cancel\",\r\n            {\r\n              duration: 4000,\r\n              verticalPosition: \"top\",\r\n              horizontalPosition: \"center\",\r\n            }\r\n          );\r\n          return;\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  openDialogueBoxForOcrDetailsDisplay(\r\n    nameOnCard,\r\n    dobArray,\r\n    idNumberArray,\r\n    address,\r\n    pincode,\r\n    gender,\r\n    state\r\n  ) {\r\n    this.openDialog1(\r\n      nameOnCard,\r\n      dobArray,\r\n      idNumberArray,\r\n      address,\r\n      pincode,\r\n      gender,\r\n      state\r\n    );\r\n  }\r\n  openDialog1(\r\n    nameOnCard,\r\n    dobArray,\r\n    idNumberArray,\r\n    address,\r\n    pincode,\r\n    gender,\r\n    state\r\n  ) {}\r\n  aadharParser = (str) => {\r\n    try {\r\n      let adharNumber,\r\n        dob,\r\n        name,\r\n        nameLineIndex = 2;\r\n      const asciiStr = str.replace(/[^\\x00-\\x7F]/g, \"\").trim();\r\n      const lines = asciiStr.split(\"\\n\");\r\n\r\n      for (let i = lines.length - 1; i >= 0; i--) {\r\n        let count = 0,\r\n          startIndex = -1;\r\n        for (let j = 0; j < lines[i].length; j++) {\r\n          if (lines[i][j] >= \"0\" && lines[i][j] <= \"9\") {\r\n            count++;\r\n            if (startIndex === -1) startIndex = j;\r\n          }\r\n        }\r\n        if (count >= 12) {\r\n          adharNumber = lines[i].substr(startIndex, startIndex + 14);\r\n        }\r\n      }\r\n\r\n      for (let i = 0; i < lines.length; i++) {\r\n        [\"DOB\", \"Year of Birth\"].some((docString) => {\r\n          const dobIndex = lines[i].indexOf(docString);\r\n          if (dobIndex !== -1) {\r\n            dob = lines[i]\r\n              .trim()\r\n              .slice(dobIndex, lines[i].length)\r\n              .split(\" \")\r\n              .pop();\r\n            nameLineIndex = i - 1;\r\n            console.log(dob);\r\n          }\r\n        });\r\n      }\r\n\r\n      const names = lines[nameLineIndex]\r\n        .split(\" \")\r\n        .filter((x) => x.length > 1)\r\n        .join(\" \");\r\n      console.log(names);\r\n      return {\r\n        dob,\r\n        adharNumber,\r\n        fullName: names,\r\n      };\r\n    } catch (error) {\r\n      console.log(error);\r\n      console.error(\"Unable to parse aadhar\");\r\n    }\r\n  };\r\n\r\n  handleImage(webcamImage: WebcamImage, i): void {\r\n    this.webcamImage = webcamImage;\r\n    this.fun(this.webcamImage, i);\r\n  }\r\n  handleImage1(webcamImage: WebcamImage, i): void {\r\n    this.webcamImage1 = webcamImage;\r\n    this.fun1(this.webcamImage1, i);\r\n  }\r\n\r\n  isDocumentOptionDisabled2 = (value) => {\r\n    return this.selectedOptions2.includes(value);\r\n  };\r\n\r\n  changeValue2(value: any, i) {\r\n    this.disableNext = true;\r\n    if (this.selectedDocumentTypes2[i]) {\r\n      this.selectedOptions2 = this.selectedOptions2.filter(\r\n        (val) => val !== this.selectedDocumentTypes2[i]\r\n      );\r\n    }\r\n    this.selectedDocumentTypes2[i] = value;\r\n    this.selectedOptions2.push(value);\r\n\r\n    // this.documentForm.controls.frontSide.setValue('');\r\n\r\n    this.secondBoxArray[i] = false;\r\n    this.thirdBoxArray[i] = false;\r\n    this.frontImageArray[i] = \"\";\r\n    this.backImageArray[i] = \"\";\r\n    this.otherImageArray[i] = \"\";\r\n    this.backSelected = \"\";\r\n    this.frontSelected = \"\";\r\n    this.othersSelected = \"\";\r\n    this.progressValFrontArray[i] = 0;\r\n    this.progressValBackArray[i] = 0;\r\n    this.pancard = false;\r\n    console.log(\"i=\", i);\r\n  }\r\n  panCardParser = (str) => {\r\n    try {\r\n      const asciiStr = str.replace(/[^\\x00-\\x7F]/g, \"\");\r\n      const startIndex = asciiStr.indexOf(\"Permanent\");\r\n      const nameIndex = asciiStr.indexOf(\"Name\");\r\n\r\n      const panNumber = asciiStr\r\n        .slice(startIndex, nameIndex)\r\n        .match(\"[A-Z]{5}[0-9]{4}[A-Z]{1}\")[0]; // Returns ain,ain,ain\r\n\r\n      const fatherNameIndex = asciiStr.indexOf(\"Father's Name :\");\r\n      //const slicedStr = asciiStr.slice(fatherNameIndex, str.length).split('\\n');\r\n\r\n      const nameString = asciiStr.slice(nameIndex, fatherNameIndex).split(\"\\n\"); // .find(str => str.length > 3);\r\n      const displayName = nameString[1].split(\" \");\r\n      const dobString = asciiStr.slice(\r\n        asciiStr.indexOf(\"Date of Birth\"),\r\n        asciiStr.length\r\n      );\r\n      const dob = dobString.split(\"\\n\")[1].split(\" \")[0];\r\n      return {\r\n        panNumber,\r\n        name: `${displayName[0]} ${displayName[1]}`,\r\n        dateOfBirth: dob,\r\n      };\r\n    } catch (error) {\r\n      console.log(error);\r\n      console.error(\"Unable to parse pan card\");\r\n      this.snack.open(\"Please Upload Valid Document\", \"OK\", {\r\n        duration: 4000,\r\n        verticalPosition: \"top\",\r\n        horizontalPosition: \"right\",\r\n      });\r\n    }\r\n  };\r\n\r\n  passportParser = (str) => {\r\n    try {\r\n      let dateOfIssue, dateOfExpiry;\r\n      const asciiStr = str.replace(/[^\\x00-\\x7F]/g, \"\");\r\n      const nameIndex = asciiStr.indexOf(\"Given Name\");\r\n      const lines = asciiStr.slice(nameIndex, asciiStr.length).split(\"\\n\");\r\n      const doIssueIndex =\r\n        lines.findIndex((line) => line.indexOf(\"Date of Issue\") > -1) + 1;\r\n      if (doIssueIndex > 0) {\r\n        const dates = lines[doIssueIndex].split(\" \");\r\n        dateOfIssue = dates[dates.length - 2];\r\n        dateOfExpiry = dates[dates.length - 2];\r\n      }\r\n\r\n      const nationalityIndex = asciiStr.indexOf(\"Nationality\");\r\n      const dob = asciiStr\r\n        .slice(nationalityIndex, asciiStr.length)\r\n        ?.split(\"\\n\")[1]\r\n        .split(\" \")\r\n        .pop();\r\n\r\n      let issueNoString;\r\n      const issueNoStringArray = asciiStr.trim().split(\"\\n\");\r\n      for (let i = issueNoStringArray.length - 1; i >= 0; i--) {\r\n        if (issueNoStringArray[i].includes(\"<\")) {\r\n          issueNoString = issueNoStringArray[i].substr(\r\n            0,\r\n            issueNoStringArray[i].indexOf(\"<\")\r\n          );\r\n          break;\r\n        }\r\n      }\r\n\r\n      return {\r\n        dob,\r\n        name: lines[1],\r\n        issueNoString,\r\n        dateOfIssue,\r\n        dateOfExpiry,\r\n      };\r\n    } catch (error) {\r\n      console.error(\"Unable to parse passport\");\r\n    }\r\n  };\r\n\r\n  changeValue2_Ocr(docVal, i) {\r\n    //this.documentForm.controls.frontSide.setValue('');\r\n    // this.documentForm.reset();\r\n    if (docVal === \"frontSide\") {\r\n      this.frontImageArray[i] = \"\";\r\n      this.frontSelected = \"\";\r\n      this.progressValFrontArray[i] = 0;\r\n    }\r\n    if (docVal === \"backSide\") {\r\n      this.secondBoxArray[i] = false;\r\n      this.backImageArray[i] = \"\";\r\n      this.backSelected = \"\";\r\n      this.progressValBackArray[i] = 0;\r\n    }\r\n    if (docVal === \"others\") {\r\n      this.thirdBoxArray[i] = false;\r\n      this.otherImageArray[i] = \"\";\r\n      this.othersSelected = \"\";\r\n      this.progressValOthersArray[i] = 0;\r\n      //this.enableAadharReadOnly = true;\r\n      this.disableNext = true;\r\n    }\r\n  }\r\n  j(arg0: string, j: any) {\r\n    throw new Error(\"Method not implemented.\");\r\n  }\r\n\r\n  handleImage2(webcamImage: WebcamImage, i): void {\r\n    console.log(i);\r\n    this.webcamImage2 = webcamImage;\r\n    this.function2(this.webcamImage2, i);\r\n  }\r\n  function2(webcamImage, i) {\r\n    console.log(i);\r\n    const cId: string = this.customerId;\r\n    const uploadData2 = new FormData();\r\n    const data = {\r\n      customerId: this.refreshCustomerId,\r\n      documentName: this.documentForm.value.documentName,\r\n      documentType: \"3\",\r\n      fileType: webcamImage._mimeType,\r\n      fileName: \"doc\",\r\n      verificationType: \"KYC verification\",\r\n      documentSide: 3,\r\n      idNumber: this.panNumber,\r\n    };\r\n    console.log(webcamImage.imageAsDataUrl);\r\n    this.otherImageArray[i] = webcamImage.imageAsDataUrl;\r\n    // this.doOCR(this.imageURL2);\r\n    this.displayVal2 = false;\r\n    let file = this.dataURLtoFile(webcamImage.imageAsDataUrl, \"Aadhar\");\r\n\r\n    uploadData2.append(\"data\", JSON.stringify(data));\r\n\r\n    uploadData2.append(\"file\", file);\r\n    this.tokenService.upload(uploadData2).subscribe(\r\n      (res: any) => {\r\n        this.progressValOthersArray[i] = 100;\r\n        if (res.type === 4) {\r\n          if (res.body) {\r\n            console.log(\"res.body.id\", res.body.id);\r\n            this.assignIdValues(\"others\", res.body.id);\r\n          }\r\n        }\r\n        this.documentForm.get(\"backSide\").patchValue(true);\r\n      },\r\n      (error) => {\r\n        if (error.status == 201) {\r\n          this.ff = true;\r\n          this.documentForm.get(\"backSide\").patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  public get triggerObservable(): Observable<void> {\r\n    return this.trigger.asObservable();\r\n  }\r\n\r\n  getCustomerDocuments(cId) {\r\n    cId ? (this.cId = cId) : \"\";\r\n    console.log(cId)\r\n    this.router.navigate(\r\n      ['/document'],\r\n      { queryParams: { customerId: this.cId} }\r\n    );\r\n    for (const key in this.document_type) {\r\n      if (Object.prototype.hasOwnProperty.call(this.document_type, key)) {\r\n        const element = this.document_type[key];\r\n        console.log(element, key, cId);\r\n        this.tokenService\r\n          .getCustomerDocuments(cId, element)\r\n          .subscribe((data) => {\r\n            console.log(key, data, this.documentForm);\r\n            this.customerDocs = data;\r\n            this.docuNameArray = [\"Aadhar card\", \"Pan card\", \"Passport\"];\r\n            console.log(this.documentForm.controls.documentsList[\"controls\"]);\r\n            this.documentForm.controls.documentsList[\r\n              \"controls\"\r\n            ][0].controls.documentName.setValue(this.docuNameArray[0]);\r\n            //this.documentForm.get('documentName').patchValue(this.frontImage.documentName);\r\n\r\n            this.doc_name = [\"Aadhar card\", \"Pan card\", \"Passport\"];\r\n\r\n            for (let j = 0; j < this.customerDocs?.length; j++) {\r\n              if (this.customerDocs[j]) {\r\n                console.log(this.customerDocs[j].documentName);\r\n                for (let i = 0; i < 3; i++) {\r\n                  if (\r\n                    this.customerDocs[j].documentName == this.doc_name[i] &&\r\n                    this.customerDocs[j].documentSide == 1\r\n                  ) {\r\n                    this.frontImageArray[i] = this.customerDocs[j].fileUrl;\r\n                    this.progressValFrontArray[i] = 100;\r\n                    console.log(\"index\", i);\r\n                  }\r\n                }\r\n                for (let i = 0; i < 3; i++) {\r\n                  if (\r\n                    this.customerDocs[j].documentName == this.doc_name[i] &&\r\n                    this.customerDocs[j].documentSide == 2\r\n                  ) {\r\n                    this.backImageArray[i] = this.customerDocs[j].fileUrl;\r\n                    this.progressValBackArray[i] = 100;\r\n                    this.secondBoxArray[i] = true;\r\n                  }\r\n                }\r\n                for (let i = 0; i < 3; i++) {\r\n                  if (\r\n                    this.customerDocs[j].documentName == this.doc_name[i] &&\r\n                    this.customerDocs[j].documentSide == 3\r\n                  ) {\r\n                    this.otherImageArray[i] = this.customerDocs[j].fileUrl;\r\n                    this.progressValOthersArray[i] = 100;\r\n                    this.thirdBoxArray[i] = true;\r\n                  }\r\n                }\r\n                for (let i = 0; i < 3; i++) {\r\n                  if (\r\n                    this.customerDocs[j].documentName == this.doc_name[i] &&\r\n                    this.customerDocs[j].documentSide > 3\r\n                  ) {\r\n                    this.fetchChildIndex =\r\n                      this.customerDocs[j].documentSide - 4;\r\n                    if (\r\n                      this.progressValOtherDocumentArray[i][\r\n                        this.fetchChildIndex\r\n                      ]\r\n                    ) {\r\n                      this.progressValOtherDocumentArray[i][\r\n                        this.fetchChildIndex\r\n                      ] = 100;\r\n                    } else {\r\n                      //this.otherDocumentArray[i].splice(this.childindex, 0, this.image);\r\n                      this.progressValOtherDocumentArray[i][\r\n                        this.fetchChildIndex\r\n                      ] = 1070;\r\n                    }\r\n\r\n                    this.newOtherPage = true;\r\n                    if (this.docarray1[i]) {\r\n                      this.docarray1[i].push(this.inititemrows(\"\"));\r\n                    } else {\r\n                      var otherArray = [this.inititemrows(\"\")];\r\n                      this.docarray1[i] = otherArray;\r\n                      this.otherDocumentArray[i] = [];\r\n                    }\r\n                    this.otherDocumentArray[i][this.fetchChildIndex] =\r\n                      this.customerDocs[j].fileUrl;\r\n                    console.log(\r\n                      \"this.otherDocumentArray\",\r\n                      this.otherDocumentArray\r\n                    );\r\n                  }\r\n                }\r\n              }\r\n              this.disableNext = false;\r\n            }\r\n\r\n            if (this.customerDocs?.length > 0) {\r\n              \r\n              this.page_id = this.ls.getItem(\"page_id\");\r\n              console.log(this.page_id);\r\n              if (\r\n                this.customerDocs[0].documentName == \"Pan card\" &&\r\n                this.page_id !== 2\r\n              ) {\r\n                let element2: HTMLElement = document.getElementById(\r\n                  \"auto_trigger\"\r\n                ) as HTMLElement;\r\n                if (element2) {\r\n                  console.log(element2);\r\n                  element2.click();\r\n                }\r\n                this.disableNext = false;\r\n              }\r\n              this.documentForm.controls.documentsList[\r\n                \"controls\"\r\n              ][1].controls?.documentName.setValue(this.docuNameArray[1]);\r\n\r\n              if (\r\n                this.customerDocs[0].documentName == \"Passport\" &&\r\n                this.page_id !== 2\r\n              ) {\r\n                let element3: HTMLElement = document.getElementById(\r\n                  \"auto_trigger\"\r\n                ) as HTMLElement;\r\n                if (element3) {\r\n                  console.log(element3);\r\n                  element3.click();\r\n                }\r\n                this.disableNext = false;\r\n              }\r\n              this.documentForm.controls.documentsList[\r\n                \"controls\"\r\n              ][2].controls.documentName.setValue(this.docuNameArray[2]);\r\n\r\n              if (this.frontImage.documentName == \"Pan card\") {\r\n                this.panNumber = this.customerDocs.find(\r\n                  (item) => item.documentSide == 2\r\n                ).idNumber;\r\n              }\r\n\r\n              if (this.frontImage.documentName == \"Aadhar card\") {\r\n                this.panNumber = this.customerDocs.find(\r\n                  (item) => item.documentSide == 1\r\n                ).idNumber;\r\n              }\r\n              if (this.panNumber) {\r\n                this.pancard = true;\r\n              }\r\n\r\n              if (this.frontImage != null) {\r\n                this.progressValFrontArray[0] = 100;\r\n              }\r\n              if (this.backImage != null) {\r\n                this.progressValBackArray[0] = 100;\r\n              }\r\n              if (this.otherImage != null) {\r\n                this.progressValOthersArray[0] = 100;\r\n              }\r\n              let payload = {\r\n                documentName: this.customerDocs[0].documentName,\r\n                frontSide: this.customerDocs[0].documentName,\r\n                backSide: this.customerDocs[0].documentName,\r\n              };\r\n              this.documentForm.patchValue(payload);\r\n              console.log(this.customerDocs[0].documentName);\r\n            }\r\n            this.cdr.markForCheck();\r\n            console.log(\"end of api\");\r\n          });\r\n      }\r\n    }\r\n  }\r\n  convertBlob(docImage) {\r\n    let objectURL = \"data:image/jpeg;base64,\" + docImage;\r\n    let source = this.sanitizer.bypassSecurityTrustUrl(objectURL);\r\n    return source;\r\n  }\r\n\r\n  scan(i) {\r\n    this.scan1Array[i] = true;\r\n    this.scan2Array[i] = false;\r\n    this.scan3Array[i] = false;\r\n    //this.enableAadharReadOnly = true;\r\n    this.disableNext = false;\r\n  }\r\n  scan12(i) {\r\n    this.scan1Array[i] = false;\r\n    this.scan2Array[i] = true;\r\n    this.scan3Array[i] = false;\r\n    //this.enableAadharReadOnly = true;\r\n    this.disableNext = false;\r\n  }\r\n  scan13(i) {\r\n    this.scan1Array[i] = false;\r\n    this.scan2Array[i] = false;\r\n    this.scan3Array[i] = true;\r\n    //this.enableAadharReadOnly = true;\r\n    this.disableNext = false;\r\n  }\r\n\r\n  // webcam snapshot trigger\r\n  fun(webcamImage, i) {\r\n    const cId: string = this.customerId;\r\n    const uploadData = new FormData();\r\n    const data = {\r\n      customerId: this.refreshCustomerId,\r\n      documentName: this.documentForm.value.documentName,\r\n      documentType: \"3\",\r\n      fileType: webcamImage._mimeType,\r\n      fileName: \"doc\",\r\n      verificationType: \"KYC verification\",\r\n      documentSide: 1,\r\n      idNumber: this.panNumber,\r\n    };\r\n    this.frontImageArray[i] = webcamImage.imageAsDataUrl;\r\n    // this.doOCR(this.imageURL)\r\n    this.displayVal = false;\r\n    let file = this.dataURLtoFile(webcamImage.imageAsDataUrl, \"Aadhar\");\r\n\r\n    uploadData.append(\"data\", JSON.stringify(data));\r\n\r\n    uploadData.append(\"file\", file);\r\n\r\n    this.tokenService.upload(uploadData).subscribe(\r\n      (res) => {\r\n        this.progressValFrontArray[i] = 100;\r\n        this.documentForm.get(\"frontSide\").patchValue(true);\r\n      },\r\n      (error) => {\r\n        if (error.status == 201) {\r\n          this.bf = true;\r\n          this.documentForm.get(\"frontSide\").patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  fun1(webcamImage, i) {\r\n    console.log(\"inside fun1\");\r\n    const cId: string = this.customerId;\r\n\r\n    const uploadData1 = new FormData();\r\n    const data = {\r\n      customerId: this.refreshCustomerId,\r\n      documentName: this.documentForm.value.documentName,\r\n      documentType: \"3\",\r\n      fileType: webcamImage._mimeType,\r\n      fileName: \"doc\",\r\n      verificationType: \"KYC verification\",\r\n      documentSide: 2,\r\n      idNumber: this.panNumber,\r\n    };\r\n    this.backImageArray[i] = webcamImage.imageAsDataUrl;\r\n    // this.doOCR(this.imageURL1);\r\n    this.displayVal1 = false;\r\n    let file = this.dataURLtoFile(webcamImage.imageAsDataUrl, \"Aadhar\");\r\n\r\n    uploadData1.append(\"data\", JSON.stringify(data));\r\n\r\n    uploadData1.append(\"file\", file);\r\n\r\n    this.tokenService.upload(uploadData1).subscribe(\r\n      (res: any) => {\r\n        this.progressValBackArray[i] = 100;\r\n        if (res.type === 4) {\r\n          if (res.body) {\r\n            console.log(\"res.body.id\", res.body.id);\r\n            this.assignIdValues(\"backSide\", res.body.id);\r\n          }\r\n        }\r\n        this.documentForm.get(\"backSide\").patchValue(true);\r\n      },\r\n      (error) => {\r\n        if (error.status == 201) {\r\n          this.ff = true;\r\n          this.documentForm.get(\"backSide\").patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  dataURLtoFile(dataurl, filename) {\r\n    var arr = dataurl.split(\",\"),\r\n      mime = arr[0].match(/:(.*?);/)[1],\r\n      bstr = atob(arr[1]),\r\n      n = bstr.length,\r\n      u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, { type: mime });\r\n  }\r\n  assign(id) {\r\n    this.customerId = id;\r\n  }\r\n\r\n  onUpload(event, docVal, docSideEnum, i) {\r\n    this.newDocumentSide = docSideEnum;\r\n    this.childindex = docSideEnum - 4;\r\n    console.log(event, docVal, docSideEnum);\r\n    if (docVal === \"frontSide\") {\r\n      this.progressValFrontArray[i] = 0;\r\n    }\r\n    if (docVal === \"backSide\") {\r\n      this.progressValBackArray[i] = 0;\r\n    }\r\n    if (docVal === \"others\") {\r\n      this.progressValOthersArray[i] = 0;\r\n    }\r\n    if (docVal === \"otherDocument\") {\r\n      // this.progressValOtherDocumentArray[i][ this.childindex] = 0;\r\n      if (this.progressValOtherDocumentArray[i][this.childindex]) {\r\n        this.progressValOtherDocumentArray[i][this.childindex] = 0;\r\n      } else {\r\n        var otherArray = [0];\r\n        //this.otherDocumentArray[i].splice(this.childindex, 0, this.image);\r\n        this.progressValOtherDocumentArray[i][this.childindex] = 0;\r\n      }\r\n    }\r\n\r\n    this.selectedFiles = event.target.files[0];\r\n    let size = event.target.files[0].size;\r\n    this.shotToast(`Your file size is ${this.formatBytes(size, 2)}`);\r\n    if (event.target.files) {\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      reader.onload = (event: any) => {\r\n        this.image = event.target.result;\r\n        if (docVal === \"backSide\") {\r\n          this.backSelected = this.selectedFiles.name;\r\n          //this.backImageArray[i] = this.image;\r\n          this.doOCR(this.image, docVal, this.selectedFiles, docSideEnum, i);\r\n          this.displayVal1 = true;\r\n        }\r\n        if (docVal === \"frontSide\") {\r\n          this.frontSelected = this.selectedFiles.name;\r\n          //this.frontImageArray[i] = this.image;\r\n          // this.doOCR(this.frontImageArray[i], docVal, this.selectedFiles, docSideEnum, i);\r\n          this.doOCR(this.image, docVal, this.selectedFiles, docSideEnum, i);\r\n          this.displayVal = true;\r\n        }\r\n        if (docVal === \"others\") {\r\n          this.othersSelected = this.selectedFiles.name;\r\n          // this.otherImageArray[i] = this.image;\r\n          console.log(\"this.otherImageArray[i] ::\", this.otherImageArray[i]);\r\n          this.doOCR(this.image, docVal, this.selectedFiles, docSideEnum, i);\r\n          this.displayVal2 = true;\r\n          // this.documentSide = 1;\r\n        }\r\n        if (docVal === \"otherDocument\") {\r\n          this.otherDocumentSelected = this.selectedFiles.name;\r\n          // this.otherDocumentArray[this.childindex][i] = this.image;\r\n          console.log(\"indexes\", i, this.otherDocumentArray);\r\n          if (this.otherDocumentArray[i][this.childindex]) {\r\n            this.otherDocumentArray[i][this.childindex] = this.image;\r\n          } else {\r\n            var otherArray = [this.image];\r\n            //this.otherDocumentArray[i].splice(this.childindex, 0, this.image);\r\n            this.otherDocumentArray[i][this.childindex] = this.image;\r\n          }\r\n          console.log(\"final document\", this.docarray1);\r\n\r\n          this.doOCR(\r\n            this.otherDocumentArray[i][this.childindex],\r\n            docVal,\r\n            this.selectedFiles,\r\n            docSideEnum,\r\n            i\r\n          );\r\n          //this.displayVal2 = true;\r\n        }\r\n      };\r\n    }\r\n    // this.uploadDoc(event.target.files[0], this.selectedFiles, docVal, docSideEnum);\r\n    // if(size > 1048576){\r\n    //   this.shotToast(`Your file size is ${this.formatBytes(size,2)}, Kindly Upload below ${this.formatBytes(1048576,2)} file size`);\r\n    // }\r\n    console.log(this.documentForm.valid);\r\n    this.disableNext = false;\r\n  }\r\n\r\n  formatBytes(bytes, decimals) {\r\n    if (bytes === 0) return \"0 Bytes\";\r\n    const k = 1024;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\r\n  }\r\n\r\n  uploadDoc(img, url, docVal, documnetSideValue, i) {\r\n    this.childindex = documnetSideValue - 4;\r\n    console.log(\"URL ---- \", url);\r\n    const cId: string = this.customerId;\r\n    const uploadData = new FormData();\r\n    console.log(\"cId::\", this.refreshCustomerId);\r\n\r\n    console.log(this.documentForm.value.documentsList[i].documentName);\r\n    if (\r\n      this.documentForm.value.documentsList[i].documentName === \"Aadhar card\"\r\n    ) {\r\n      this.docType = \"6\";\r\n    }\r\n    if (this.documentForm.value.documentsList[i].documentName === \"Pan card\") {\r\n      this.docType = \"7\";\r\n    }\r\n    if (this.documentForm.value.documentsList[i].documentName === \"Passport\") {\r\n      this.docType = \"8\";\r\n    }\r\n\r\n    const data = {\r\n      customerId: this.refreshCustomerId,\r\n      //documentName: this.documentForm.value.documentName,\r\n      documentName: this.documentForm.value.documentsList[i].documentName,\r\n      documentType: this.docType,\r\n      fileType: url.type,\r\n      fileName: url.name,\r\n      verificationType: \"KYC verification\",\r\n      documentSide: documnetSideValue,\r\n      idNumber: this.panNumber,\r\n      name: this.namePancard,\r\n      dob: this.dob,\r\n    };\r\n    uploadData.append(\"data\", JSON.stringify(data));\r\n    uploadData.append(\"file\", url);\r\n    console.log(\"URL -- \", url.name, data, uploadData);\r\n    this.uploadSub = this.tokenService.upload(uploadData).subscribe(\r\n      (res: any) => {\r\n        console.log(\"Response -- \", res);\r\n        if (docVal === \"backSide\") {\r\n          if (res.type) {\r\n            if (res.type == HttpEventType.UploadProgress) {\r\n              this.progressValBackArray[i] = Math.round(\r\n                100 * (res.loaded / res.total)\r\n              );\r\n              console.log(\"uploadProgress\", this.progressValBackArray[i]);\r\n              this.backImageArray[i] = img;\r\n            }\r\n            // else if (res.type == HttpEventType.Response) {\r\n            //   this.progressValBack = 0;\r\n            // }\r\n          }\r\n        } else if (docVal === \"frontSide\") {\r\n          if (res.type) {\r\n            if (res.type == HttpEventType.UploadProgress) {\r\n              this.progressValFrontArray[i] = Math.round(\r\n                100 * (res.loaded / res.total)\r\n              );\r\n              console.log(\"uploadProgress\", this.progressValFrontArray[i]);\r\n              this.frontImageArray[i] = img;\r\n            }\r\n            // else if (res.type == HttpEventType.Response) {\r\n            //   this.progressValFront = 0;\r\n            // }\r\n          }\r\n        } else if (docVal === \"others\") {\r\n          if (res.type) {\r\n            if (res.type == HttpEventType.UploadProgress) {\r\n              this.progressValOthersArray[i] = Math.round(\r\n                100 * (res.loaded / res.total)\r\n              );\r\n              console.log(\r\n                \"uploadProgress others\",\r\n                this.progressValOthersArray[i]\r\n              );\r\n              this.otherImageArray[i] = img;\r\n            }\r\n          }\r\n\r\n          // else if (res.type == HttpEventType.Response) {\r\n          //   this.progressValOthers = 0;\r\n          // }\r\n        } else if (docVal === \"otherDocument\") {\r\n          if (res.type == HttpEventType.UploadProgress) {\r\n            if (this.progressValOtherDocumentArray[i][this.childindex]) {\r\n              this.progressValOtherDocumentArray[i][this.childindex] =\r\n                Math.round(100 * (res.loaded / res.total));\r\n            } else {\r\n              // var otherArray=[0];\r\n              //this.otherDocumentArray[i].splice(this.childindex, 0, this.image);\r\n              this.progressValOtherDocumentArray[i][this.childindex] =\r\n                Math.round(100 * (res.loaded / res.total));\r\n            }\r\n          }\r\n        } else {\r\n        }\r\n        if (res.body) {\r\n          console.log(\"res.body.id\", res.body.id);\r\n          this.assignIdValues(docVal, res.body.id);\r\n          //  console.log( \"assign\",this.assignIdValues(docVal, res.body.id));\r\n          this.documentForm.get(docVal).patchValue(true);\r\n          console.log(\r\n            \"this.documentForm.get(docVal)\",\r\n            this.documentForm.get(docVal)\r\n          );\r\n          this.shotToast(\"Document Uploaded!\");\r\n        }\r\n      },\r\n      (error: any) => {\r\n        console.log(\"File upload ::\", error);\r\n        if (error.status == 201) {\r\n          this.documentForm.get(docVal).patchValue(true);\r\n          this.shotToast(\"Document Uploaded!\");\r\n        } else {\r\n          if (docVal === \"backSide\") {\r\n            this.progressValBackArray[i] = 0;\r\n            this.backImageArray[i] = null;\r\n            this.backSelected = null;\r\n            this.shotToast(error.message);\r\n          } else {\r\n            this.progressValFrontArray[i] = 0;\r\n            this.frontImageArray[i] = null;\r\n            this.frontSelected = null;\r\n            this.shotToast(error.message);\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  assignIdValues(docVal: any, id: any) {\r\n    console.log(docVal);\r\n    if (docVal === \"backSide\") {\r\n      this.backSideId = id;\r\n    }\r\n    if (docVal === \"others\") {\r\n      this.otherSideId = id;\r\n    }\r\n    if (docVal === \"otherDocument\") {\r\n      this.otherDocumentSideId = id;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.shareDataService.shareCustomerId(null);\r\n  }\r\n\r\n  cancelUpload(sideType: string) {\r\n    this.uploadSub.unsubscribe();\r\n    this.shotToast(\"Document Uploaded Cancelled!\");\r\n    if (sideType == \"backSide\") {\r\n      this.progressValBackArray[0] = 0;\r\n      this.backImageArray[0] = null;\r\n      this.backSelected = null;\r\n    } else {\r\n      this.progressValFrontArray[0] = 0;\r\n      this.frontImageArray[0] = null;\r\n      this.frontSelected = null;\r\n    }\r\n  }\r\n\r\n  shotToast(msg: string) {\r\n    this.snack.open(`${msg}`, \"OK\", {\r\n      duration: 6000,\r\n      verticalPosition: \"top\",\r\n      horizontalPosition: \"right\",\r\n    });\r\n  }\r\n\r\n  deleteDocument(report, index) {\r\n    console.log(this.customerId, report, index);\r\n    this.customerId = this.ls.getItem(\"customerId\");\r\n\r\n    const deleteRecord = this.documentForm.get(\"documentsList\") as FormArray;\r\n    console.log(deleteRecord);\r\n    deleteRecord.removeAt(index);\r\n\r\n    this.api\r\n      .delCustDoc(this.customerId, report.documentName)\r\n      .subscribe((data) => {\r\n        console.log(\"data after delete\", data);\r\n      });\r\n  }\r\n\r\n  back() {\r\n    // this.router.navigate([`/cardaccount/documentupload/list/document-details`]);\r\n  }\r\n\r\n  done() {\r\n    this.documentForm.reset();\r\n    const dialogRef = this.dialog.open(SucessPopupComponent, {\r\n      width: \"35%\",\r\n      backdropClass: \"dialog-bg-trans\",\r\n      height: \"50%\",\r\n      disableClose: true,\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(\"The dialog was closed\", result);\r\n    });\r\n    // this.router.navigate([`/cardaccount/documentupload/list/document-details`]);\r\n  }\r\n}","<mat-card class=\"matCard\">\r\n\r\n    <h1 class=\"uploadField\">Document Upload</h1>\r\n    <hr class=\"line\">\r\n    <form [formGroup]=\"documentForm\">\r\n\r\n        <div formArrayName=\"documentsList\"\r\n            *ngFor=\"let item of documentForm.get('documentsList')['controls']; let i = index;\">\r\n            <mat-card [formGroupName]=\"i\">\r\n                <div>\r\n                    <div>\r\n                        <div>Document {{i+1}}</div><br>\r\n                        <mat-hint>Document Name*</mat-hint>\r\n                        <mat-form-field class=\"formField\" appearance=\"none\">\r\n                            <mat-select class=\"inputMatcard1\" formControlName=\"documentName\"\r\n                                [ngClass]=\"{'errbd': !item.controls.documentName.valid && item.controls.documentName.touched}\"\r\n                                placeholder=\"Choose Document Name\" name=\"documentName\"\r\n                                (valueChange)=\"changeValue2($event, i)\">\r\n                                <mat-option value=\"\">Select</mat-option>\r\n                                <mat-option *ngFor=\"let doc of document_name\" [value]=\"doc\"\r\n                                    [disabled]=isDocumentOptionDisabled2(doc)>{{doc}}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </mat-form-field>\r\n                        <mat-error *ngIf=\"!item.controls.documentName.valid && item.controls.documentName.touched\">\r\n                            Please select Document name\r\n                        </mat-error>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form1\">\r\n                    <div>\r\n                        <div class=\"flex-grow-2\">\r\n                            <mat-icon class=\"matIcon\">backup</mat-icon>\r\n                            <div class=\"insertDriveImg\">\r\n                                <div *ngIf=\"frontImageArray[i] == 'not_available'; else showAvatar\">\r\n                                    <img class=\"formImg\" [src]=\"'assets/images/no-image.jpg'\" alt=\"\">\r\n                                </div>\r\n                                <ng-template #showAvatar>\r\n                                    <img class=\"formImg\" [src]=\"frontImageArray[i]\" alt=\"\">\r\n                                </ng-template>\r\n                            </div>\r\n                            <div class=\"dived\">\r\n                                <mat-label style=\"margin-left: 30%\">Front side </mat-label>\r\n                                <br>\r\n                            </div>\r\n                            <div style=\"padding-left:15%;\">\r\n                                <button class=\"Upload scanButton\" [disabled]=\"!item.controls.documentName.value\">\r\n                                    Upload<input type=\"file\" class=\"changeInput\"\r\n                                        *ngIf=\"item.controls.documentName.value\"\r\n                                        (change)=\"onUpload($event, 'frontSide', 1, i)\" accept=\"image/*\">\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div *ngIf=\"scan1Array[i]\" style=\"font-size: 10px;\">\r\n                                <button mat-stroked-button class=\"Next\" (click)=\"triggerSnapshot(i);\">Take\r\n                                    Snapshot</button>\r\n                                <br>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div id=\"box\">\r\n                            <mat-icon class=\"insertDrive\">insert_drive_file</mat-icon>\r\n                            <div class=\"progressDiv\">\r\n                                <div class=\"mb-8\">\r\n                                    <p class=\"m-0 text-right\">{{ progressValFrontArray[i] }}%</p>\r\n                                    <mat-progress-bar class=\"rounded\" style=\"height: 6px\"\r\n                                        [value]=\"progressValFrontArray[i]\">\r\n                                    </mat-progress-bar>\r\n                                </div>\r\n                            </div>\r\n                            <ng-container *ngIf=\"progressValFrontArray[i] && progressValFrontArray[i] != 100\">\r\n                                <button mat-flat-button (click)=\"cancelUpload('frontSide')\">\r\n                                    <mat-icon>clear</mat-icon> Cancel\r\n                                </button>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"progressValFrontArray[i] && progressValFrontArray[i] == 100\">\r\n                                <button mat-icon-button color=\"primary\">\r\n                                    <mat-icon color=\"primary\">check_circle</mat-icon>\r\n                                </button>\r\n                            </ng-container>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div *ngIf=\"secondBoxArray[i]\">\r\n                        <div>\r\n                            <div class=\"flex-grow-2\">\r\n                                <mat-icon class=\"matIcon\">backup</mat-icon>\r\n                                <div class=\"insertDriveImg\">\r\n                                    <div *ngIf=\"backImageArray[i] == 'not_available'; else showAvatar\">\r\n                                        <img class=\"formImg\" [src]=\"'assets/images/no-image.jpg'\" alt=\"\">\r\n                                    </div>\r\n                                    <ng-template #showAvatar>\r\n                                        <img class=\"formImg\" [src]=\"backImageArray[i]\" alt=\"\">\r\n                                    </ng-template>\r\n                                </div>\r\n                                <div class=\"dived\">\r\n                                    <mat-label style=\"margin-left: 30%\">Back side </mat-label>\r\n                                    <br>\r\n                                </div>\r\n                                <div>\r\n                                    <button class=\"Upload scanButton\" [disabled]=\"!item.controls.documentName.value\">\r\n                                        Upload<input type=\"file\" class=\"changeInput\"\r\n                                            *ngIf=\"item.controls.documentName.value\"\r\n                                            (change)=\"onUpload($event,'backSide', 2, i)\" accept=\"image/*\">\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div *ngIf=\"scan2Array[i]\" style=\"font-size: 10px;\">\r\n                                    <button mat-stroked-button class=\"Next\" (click)=\"triggerSnapshot(i);\">Take\r\n                                        Snapshot</button>\r\n                                    <br>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div id=\"box\">\r\n                            <mat-icon class=\"insertDrive\">insert_drive_file</mat-icon>\r\n                            <div class=\"progressDiv\">\r\n                                <div class=\"mb-8\">\r\n                                    <p class=\"m-0 text-right\">{{ progressValBackArray[i] }}%</p>\r\n                                    <mat-progress-bar class=\"rounded\" style=\"height: 6px\"\r\n                                        [value]=\"progressValBackArray[i]\">\r\n                                    </mat-progress-bar>\r\n                                </div>\r\n                            </div>\r\n                            <ng-container *ngIf=\"progressValBackArray[i] && progressValBackArray[i] != 100\">\r\n                                <button mat-flat-button (click)=\"cancelUpload('backSide')\">\r\n                                    <mat-icon>clear</mat-icon> Cancel\r\n                                </button>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"progressValBackArray[i] && progressValBackArray[i] == 100\">\r\n                                <button mat-icon-button color=\"primary\">\r\n                                    <mat-icon color=\"primary\">check_circle</mat-icon>\r\n                                </button>\r\n                            </ng-container>\r\n\r\n                        </div>\r\n                        <mat-icon class=\"backIcon\" (click)=\"delete(item.value,2,i)\">delete</mat-icon>\r\n                    </div>\r\n\r\n                    <div id=\"row\" (click)=\"callingBox2(i)\" *ngIf=\"!secondBoxArray[i]\" class=\"sub_div\">\r\n                        <p>\r\n                            <button mat-raised-button color=\"primary\">\r\n                                <mat-icon>add</mat-icon>BACKSIDE PAGE\r\n                            </button>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div *ngIf=\"thirdBoxArray[i]\">\r\n                        <div>\r\n                            <div class=\"flex-grow-2\">\r\n                                <mat-icon class=\"matIcon\">backup</mat-icon>\r\n                                <div class=\"insertDriveImg\">\r\n                                    <ng-container *ngIf=\"otherImageArray[i]\">\r\n                                        <img class=\"formImg\" [src]=\"otherImageArray[i]\" />\r\n                                    </ng-container>\r\n                                </div>\r\n                                <div class=\"dived\">\r\n                                    <mat-label style=\"margin-left: 30%\">Others</mat-label>\r\n                                    <br>\r\n                                </div>\r\n                                <div>\r\n                                    <button class=\"Upload scanButton\" [disabled]=\"!item.controls.documentName.value\">\r\n                                        Upload<input type=\"file\" class=\"changeInput\"\r\n                                            *ngIf=\"item.controls.documentName.value\"\r\n                                            (change)=\"onUpload($event,'others', 3, i)\" accept=\"image/*\">\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div *ngIf=\"scan3Array[i]\" style=\"font-size: 10px;\">\r\n                                    <button mat-stroked-button class=\"Next\" (click)=\"triggerSnapshot(i);\">Take\r\n                                        Snapshot</button>\r\n                                    <br>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div id=\"box\">\r\n                            <mat-icon class=\"insertDrive\">insert_drive_file</mat-icon>\r\n                            <div class=\"progressDiv\">\r\n                                <div class=\"mb-8\">\r\n                                    <p class=\"m-0 text-right\">{{ progressValOthersArray[i] }}%</p>\r\n                                    <mat-progress-bar class=\"rounded\" style=\"height: 6px\"\r\n                                        [value]=\"progressValOthersArray[i]\">\r\n                                    </mat-progress-bar>\r\n                                </div>\r\n                            </div>\r\n                            <ng-container *ngIf=\"progressValOthersArray[i] && progressValOthersArray[i] != 100\">\r\n                                <button mat-flat-button (click)=\"cancelUpload('others')\">\r\n                                    <mat-icon>clear</mat-icon> Cancel\r\n                                </button>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"progressValOthersArray[i] && progressValOthersArray[i] == 100\">\r\n                                <button mat-icon-button color=\"primary\">\r\n                                    <mat-icon color=\"primary\">check_circle</mat-icon>\r\n                                </button>\r\n                            </ng-container>\r\n\r\n                        </div>\r\n                        <mat-icon class=\"backIcon\" (click)=\"delete(item.value,3,i)\">delete</mat-icon>\r\n\r\n                    </div>\r\n\r\n                    <mat-card *ngIf=\"pancard\" class=\"panCradDiv\">\r\n                        <div>\r\n                            <tr *ngIf=\"nameOnCard[i]\">\r\n                                <td>Name:{{nameOnCard[i]}}</td>\r\n                            </tr>\r\n                            <tr *ngIf=\"idNumberArray[i]\">\r\n                                <td>Id Number:{{idNumberArray[i]}}</td>\r\n                            </tr>\r\n                            <tr *ngIf=\"dobArray[i]\">\r\n                                <td>Dob: {{dobArray[i]}}</td>\r\n                            </tr>\r\n                            <tr *ngIf=\"addressArray[i]\">\r\n                                <td *ngIf=\"addressDisplay\">Address: {{addressArray[i]}}</td>\r\n                            </tr>\r\n                            <tr\r\n                                *ngIf=\"dateOfIssue === 'undefined' && documentForm.controls.documentName.value=='Passport'\">\r\n                                <td>Date Of Issue: {{dateOfIssue}}</td>\r\n                            </tr>\r\n                            <tr\r\n                                *ngIf=\"dateOfExpiry === 'undefined' && documentForm.controls.documentName.value=='Passport'\">\r\n                                <td>Date Of Expiry: {{dateOfExpiry}}</td>\r\n                            </tr>\r\n                        </div>\r\n                    </mat-card>\r\n\r\n                    <div id=\"row\" (click)=\"callingBox3(i)\" *ngIf=\"secondBoxArray[i] && !(thirdBoxArray[i])\">\r\n                        <div class=\"button_2\">\r\n                            <button mat-raised-button color=\"primary\">\r\n                                <mat-icon>add</mat-icon>OTHER PAGE\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div fxLayout=\"row wrap\" fxFlex=\"100\" fxLayoutGap=\"50px\">\r\n                        <div fxFlex=\"25\" *ngFor=\"let obj of docarray1[i]; let k = index; \">\r\n\r\n\r\n                            <div [formGroupName]=\"k\">\r\n                                <div>\r\n                                    <div class=\"flex-grow-2\">\r\n                                        <mat-icon class=\"matIcon\">backup</mat-icon>\r\n                                        <div class=\"insertDriveImg\">\r\n                                            <div *ngIf=\"otherDocumentArray[i][k] == 'not_available'; else showAvatar\">\r\n                                                <img class=\"formImg\" [src]=\"'assets/images/no-image.jpg'\" alt=\"\">\r\n                                            </div>\r\n                                            <ng-template #showAvatar>\r\n                                                <img class=\"formImg\" [src]=\"otherDocumentArray[i][k]\" alt=\"\">\r\n                                            </ng-template>\r\n                                        </div>\r\n                                        <div class=\"dived\">\r\n                                            <mat-label style=\"margin-left: 30%\">another page </mat-label>\r\n                                            <br>\r\n                                        </div>\r\n                                        <div>\r\n                                            <button class=\"Upload scanButton\">\r\n                                                Upload<input type=\"file\" class=\"changeInput\"\r\n                                                    (change)=\"onUpload($event,'otherDocument', k+4, i)\" accept=\"image/*\"\r\n                                                    accept=\"image/*\">\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div id=\"box\">\r\n                                    <mat-icon class=\"insertDrive\">insert_drive_file</mat-icon>\r\n                                    <div class=\"progressDiv\">\r\n                                        <div class=\"mb-8\">\r\n                                            <p class=\"m-0 text-right\"></p>\r\n                                            <p class=\"m-0 text-right\">{{ progressValOtherDocumentArray[i][k] }}%</p>\r\n                                            <mat-progress-bar class=\"rounded\" style=\"height: 6px\"\r\n                                                [value]=\"progressValOtherDocumentArray[i][k]\">\r\n                                            </mat-progress-bar>\r\n                                        </div>\r\n                                    </div>\r\n                                    <ng-container>\r\n                                        <button mat-icon-button color=\"primary\">\r\n                                            <mat-icon color=\"primary\">check_circle</mat-icon>\r\n                                        </button>\r\n                                    </ng-container>\r\n\r\n                                </div>\r\n                                <div>\r\n                                    <mat-icon class=\"backIcon\" (click)=\"deleteOtherDocument(item.value,i,k)\">delete\r\n                                    </mat-icon>\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div id=\"row\" *ngIf=\"newOtherPage\">\r\n                        <div class=\"button_3\" (click)=\"addotherpage(i)\">\r\n                            <button mat-raised-button color=\"primary\">\r\n                                <mat-icon>add</mat-icon>ADD ANOTHER PAGE\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div *ngIf=\"i != 0\">\r\n                    <mat-icon class=\"backIcon1\" (click)=\"deleteDocument(item.value, i)\">delete</mat-icon>\r\n                </div>\r\n\r\n            </mat-card>\r\n\r\n            <div *ngIf=\"scan1Array[i]\" style=\"font-size: 10px;\">\r\n                <webcam [height]=\"500\" [width]=\"1200\" [trigger]=\"triggerObservable\"\r\n                    (imageCapture)=\"handleImage($event,i)\"></webcam>\r\n            </div>\r\n            <div *ngIf=\"scan2Array[i]\" style=\"font-size: 10px;\">\r\n                <webcam [height]=\"500\" [width]=\"1200\" [trigger]=\"triggerObservable\"\r\n                    (imageCapture)=\"handleImage1($event,i)\"></webcam>\r\n            </div>\r\n\r\n            <div *ngIf=\"scan3Array[i]\" style=\"font-size: 10px;\">\r\n                <webcam [height]=\"500\" [width]=\"1200\" [trigger]=\"triggerObservable\"\r\n                    (imageCapture)=\"handleImage2($event, i)\"></webcam>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </form>\r\n    <div>\r\n        <table>\r\n            <tr>\r\n                <td>\r\n\r\n                    <button [disabled]=\"selectedOptions2.length == 3\" mat-raised-button type=\"button\"\r\n                        (click)=\"addDocuments()\" id=\"auto_trigger\">\r\n                        <mat-icon color=\"primary\">add</mat-icon>DOCUMENT\r\n                    </button>\r\n\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</mat-card>\r\n<br>\r\n<div class=\"button\">\r\n    <button mat-button class=\"Back\" (click)=\"back()\">Back</button>\r\n    <button mat-stroked-button class=\"Next\" (click)=\"done()\">Done</button>\r\n</div>\r\n\r\n","import { Routes } from '@angular/router';\r\nimport { DocumentUploadFromEmailComponent } from './document-upload-from-email/document-upload-from-email.component';\r\n\r\nexport const DocumentUploadFromEmailRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DocumentUploadFromEmailComponent,\r\n    // children: [\r\n    //   {\r\n    //     path: '',\r\n    //     redirectTo: 'document',\r\n    //     pathMatch: 'full'\r\n    //   }\r\n    // ]\r\n\r\n  }\r\n];"]}